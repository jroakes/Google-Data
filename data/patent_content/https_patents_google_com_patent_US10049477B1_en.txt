US10049477B1 - Computer-assisted text and visual styling for images - Google Patents
Computer-assisted text and visual styling for images Download PDFInfo
- Publication number
- US10049477B1 US10049477B1 US14/752,658 US201514752658A US10049477B1 US 10049477 B1 US10049477 B1 US 10049477B1 US 201514752658 A US201514752658 A US 201514752658A US 10049477 B1 US10049477 B1 US 10049477B1
- Authority
- US
- United States
- Prior art keywords
- image
- text
- user
- visual
- modifications
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Active
Links
- 230000000007 visual effect Effects 0.000 title claims abstract description 244
- 230000004048 modification Effects 0.000 claims abstract description 270
- 238000012986 modification Methods 0.000 claims abstract description 270
- 238000000034 method Methods 0.000 claims abstract description 170
- 230000000694 effects Effects 0.000 claims description 69
- 238000003860 storage Methods 0.000 claims description 33
- 230000008859 change Effects 0.000 claims description 12
- 230000036651 mood Effects 0.000 claims description 8
- 230000004044 response Effects 0.000 claims description 8
- 230000001815 facial effect Effects 0.000 claims description 5
- 230000001131 transforming effect Effects 0.000 claims description 3
- 230000015654 memory Effects 0.000 description 31
- 230000006855 networking Effects 0.000 description 15
- 238000012545 processing Methods 0.000 description 15
- 239000003086 colorant Substances 0.000 description 14
- 238000004891 communication Methods 0.000 description 13
- 238000010586 diagram Methods 0.000 description 8
- 230000006870 function Effects 0.000 description 6
- 230000033001 locomotion Effects 0.000 description 6
- 230000008569 process Effects 0.000 description 5
- 238000007670 refining Methods 0.000 description 5
- 238000012549 training Methods 0.000 description 5
- 230000000295 complement effect Effects 0.000 description 4
- 241001465754 Metazoa Species 0.000 description 3
- 238000007792 addition Methods 0.000 description 3
- 230000003287 optical effect Effects 0.000 description 3
- 244000025254 Cannabis sativa Species 0.000 description 2
- 238000005282 brightening Methods 0.000 description 2
- 238000004590 computer program Methods 0.000 description 2
- 230000000994 depressogenic effect Effects 0.000 description 2
- 239000011521 glass Substances 0.000 description 2
- 238000013515 script Methods 0.000 description 2
- 239000004065 semiconductor Substances 0.000 description 2
- WURBVZBTWMNKQT-UHFFFAOYSA-N 1-(4-chlorophenoxy)-3,3-dimethyl-1-(1,2,4-triazol-1-yl)butan-2-one Chemical compound C1=NC=NN1C(C(=O)C(C)(C)C)OC1=CC=C(Cl)C=C1 WURBVZBTWMNKQT-UHFFFAOYSA-N 0.000 description 1
- 241000282326 Felis catus Species 0.000 description 1
- 240000008790 Musa x paradisiaca Species 0.000 description 1
- 235000018290 Musa x paradisiaca Nutrition 0.000 description 1
- 241000593989 Scardinius erythrophthalmus Species 0.000 description 1
- 241000238370 Sepia Species 0.000 description 1
- 230000009471 action Effects 0.000 description 1
- 230000008901 benefit Effects 0.000 description 1
- 230000015572 biosynthetic process Effects 0.000 description 1
- 230000000739 chaotic effect Effects 0.000 description 1
- 230000006835 compression Effects 0.000 description 1
- 238000007906 compression Methods 0.000 description 1
- 238000013461 design Methods 0.000 description 1
- 238000009826 distribution Methods 0.000 description 1
- 238000004049 embossing Methods 0.000 description 1
- 230000002996 emotional effect Effects 0.000 description 1
- 238000001125 extrusion Methods 0.000 description 1
- 230000008921 facial expression Effects 0.000 description 1
- 238000005562 fading Methods 0.000 description 1
- 230000000977 initiatory effect Effects 0.000 description 1
- 230000004807 localization Effects 0.000 description 1
- 238000010801 machine learning Methods 0.000 description 1
- 238000013507 mapping Methods 0.000 description 1
- 230000007246 mechanism Effects 0.000 description 1
- 230000003278 mimic effect Effects 0.000 description 1
- 239000000203 mixture Substances 0.000 description 1
- 201000005111 ocular hyperemia Diseases 0.000 description 1
- 230000001151 other effect Effects 0.000 description 1
- 230000009467 reduction Effects 0.000 description 1
- 239000007787 solid Substances 0.000 description 1
- 238000003786 synthesis reaction Methods 0.000 description 1
- 230000002123 temporal effect Effects 0.000 description 1
Images
Classifications
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T11/00—2D [Two Dimensional] image generation
- G06T11/60—Editing figures and text; Combining figures or text
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T11/00—2D [Two Dimensional] image generation
- G06T11/001—Texturing; Colouring; Generation of texture or colour
-
- G—PHYSICS
- G09—EDUCATION; CRYPTOGRAPHY; DISPLAY; ADVERTISING; SEALS
- G09G—ARRANGEMENTS OR CIRCUITS FOR CONTROL OF INDICATING DEVICES USING STATIC MEANS TO PRESENT VARIABLE INFORMATION
- G09G5/00—Control arrangements or circuits for visual indicators common to cathode-ray tube indicators and other visual indicators
- G09G5/22—Control arrangements or circuits for visual indicators common to cathode-ray tube indicators and other visual indicators characterised by the display of characters or indicia using display control signals derived from coded signals representing the characters or indicia, e.g. with a character-code memory
- G09G5/24—Generation of individual character patterns
-
- G—PHYSICS
- G09—EDUCATION; CRYPTOGRAPHY; DISPLAY; ADVERTISING; SEALS
- G09G—ARRANGEMENTS OR CIRCUITS FOR CONTROL OF INDICATING DEVICES USING STATIC MEANS TO PRESENT VARIABLE INFORMATION
- G09G5/00—Control arrangements or circuits for visual indicators common to cathode-ray tube indicators and other visual indicators
- G09G5/22—Control arrangements or circuits for visual indicators common to cathode-ray tube indicators and other visual indicators characterised by the display of characters or indicia using display control signals derived from coded signals representing the characters or indicia, e.g. with a character-code memory
- G09G5/30—Control of display attribute
-
- G—PHYSICS
- G09—EDUCATION; CRYPTOGRAPHY; DISPLAY; ADVERTISING; SEALS
- G09G—ARRANGEMENTS OR CIRCUITS FOR CONTROL OF INDICATING DEVICES USING STATIC MEANS TO PRESENT VARIABLE INFORMATION
- G09G5/00—Control arrangements or circuits for visual indicators common to cathode-ray tube indicators and other visual indicators
- G09G5/36—Control arrangements or circuits for visual indicators common to cathode-ray tube indicators and other visual indicators characterised by the display of a graphic pattern, e.g. using an all-points-addressable [APA] memory
Definitions
- digital images such as photographs are commonly captured by cameras included in mobile devices such as phones, tablet computers, wearable devices, camera devices, etc. Images are also often posted to various Internet sites, such as web pages, social networking services, etc. for users and others to view.
- a user commonly edits an image by viewing the image in an editing program and using tools of the editing program to manually select and adjust various characteristics of pixels of the image, such as color, brightness, contrast, saturation, clarity or blur, etc., and/or add desired text to the image.
- Implementations relate to providing computer-assisted text and visual styling for images.
- a computer-implemented method includes determining a set of characteristics of an image, and applying one or more first visual modifications to the image based on one or more of the set of characteristics of the image.
- the method includes receiving user input defining user text, providing the user text in the image, and applying one or more second visual modifications to the image based on the user text and based on at least one of the set of characteristics of the image.
- applying one or more first visual modifications can include automatically generating text based on one or more characteristics of the set of characteristics and adding the generated text to the image.
- Providing the user text in the image can include refining the generated text with the user text to provide refined text in the image, where the generated text is different than the user text.
- refining the generated text in the image with the user text can include replacing at least a portion of the generated text in the image with at least a portion of the user text.
- the one or more first and second visual modifications can include one or more visual style modifications for the image, and the one or more second visual modifications can be applied to the user text in the image.
- Determining the set of characteristics of the image can include identifying characteristics.
- the method can identify one or more image content characteristics that indicate one or more content subjects depicted in the image.
- the content subject(s) can include one or more persons, moods of persons as indicated by one or more facial features of the persons, objects, landmarks, landscape features, and/or weather effects recognized and depicted in the image.
- the method can identify one or more condition characteristics based on data associated with the image, and which indicate one or more conditions associated with the image.
- the condition characteristic(s) can include a time at which the image was captured, a geographical location at which the image was captured indicated by location data, one or more events associated with a user associated with the image and indicated by calendar data, and/or one or more camera parameters of a camera that captured the image.
- the method can identify one or more user characteristics of one or more users associated with the image based on user data. For example, user characteristics can include one or more viewing or sharing activities associated with the image, and/or one or more activities associated with the image and associated with a social networking service.
- the one or more visual style modifications can apply at least one edit operation to the image to provide one or more visual effects in the image, where the one or more visual effects can include a vintage effect, a lens flare effect, a vignette effect, a blur effect, and/or a frame effect.
- Generating text can include selecting the generated text from a list of predetermined text items associated with characteristic(s) on which the generated text is based.
- the generated text can include a description of the characteristic(s), and/or descriptive information for a user associated with the image.
- Generating the text can include transforming the generated text to appear three-dimensionally within a scene depicted in the image.
- Generating the text can include modifying a portion of the image over which the generated text is to be placed, e.g., blurring, changing the color, etc. of the image portion.
- the method can further include providing display of a user interface responsive to second user input, and providing display of a plurality of modified images based on the image, where each modified image is based on at least one characteristic of the set of characteristics, and each modified image can include the user text and a different visual style modification.
- a system to provide text and visual styling in images can include a storage device storing an image, and at least one processor operative to access the storage device.
- the at least one processor is configured to determine a set of characteristics of the image, generate text in the image based on one or more of the set of characteristics, provide the generated text in the image, determine a visual style modification based on at least one of the set of characteristics, and modify the image, including the generated text, to include the visual style modification.
- the processor can be further configured to receive user input defining user text, replace at least a portion of the generated text in the image with at least a portion of the user text; and apply one or more additional visual style modifications to the image.
- the one or more additional visual style modifications can be selected based on the user text and based on at least one of the characteristics.
- the processor can be further configured to determine and apply a color of the generated text based on color characteristics of at least one image feature depicted in the image.
- the processor can be further configured to, prior to applying the one or more additional visual style modifications, restore the image to a state prior to the modification of the image including the visual style modification.
- a non-transitory computer readable medium having stored thereon instructions to provide visual modification to an image and, when executed by a processor, cause the processor to determine a set of characteristics of the image, receive user input defining user text, determine one or more visual modifications for the image based on the user text, and at least one of the set of characteristics, and modify one or more pixels of the image to apply the one or more visual modifications to the image.
- the one or more visual modifications can include adding the user text to the image.
- the one or more visual modifications can include one or more visual style modifications applied to the image, where the one or more visual style modifications can modify the user text added to the image.
- the instructions can further cause the processor to provide generated text in the image, where the generated text can be based on one or more of the set of characteristics, adding the user text to the image can include replacing at least a portion of the generated text with at least a portion of the user text, and the one or more visual modifications can modify the image and the user text with one or more visual style modifications.
- a device includes means for determining a set of characteristics of an image and means for applying one or more first visual modifications to the image based on one or more of the set of characteristics of the image.
- the device includes means for receiving user input defining user text, means for providing the user text in the image, and means for applying one or more second visual modifications to the image based on the user text and based on at least one of the set of characteristics of the image.
- the means for applying one or more first visual modifications can include means for automatically generating text based on one or more characteristics of the set of characteristics and adding the generated text to the image.
- the means for providing the user text in the image can include means for refining the generated text with the user text to provide refined text in the image, where the generated text is different than the user text.
- means for refining the generated text in the image with the user text can include means for replacing at least a portion of the generated text in the image with at least a portion of the user text.
- the one or more first and second visual modifications can include one or more visual style modifications for the image, and the one or more second visual modifications can be applied to the user text in the image.
- the means for determining can include means for identifying characteristics.
- the device can include means for identifying one or more image content characteristics that indicate one or more content subjects depicted in the image, e.g., based on pixel values of one or more pixels in the image.
- the content subject(s) can include one or more persons, moods of persons as indicated by one or more facial features of the persons, objects, landmarks, landscape features, and/or weather effects recognized and depicted in the image.
- the device can include means for identifying one or more condition characteristics based on data associated with the image, and which indicate one or more conditions associated with the image.
- the condition characteristic(s) can include a time at which the image was captured, a geographical location at which the image was captured indicated by location data, one or more events associated with a user associated with the image and indicated by calendar data, and/or one or more camera parameters of a camera that captured the image.
- the device can include means for identifying one or more user characteristics of one or more users associated with the image based on user data. For example, user characteristics can include one or more viewing or sharing activities associated with the image, and/or one or more activities associated with the image and associated with a social networking service.
- the one or more visual style modifications can apply at least one edit operation to the image to provide one or more visual effects in the image, where the one or more visual effects can include a vintage effect, a lens flare effect, a vignette effect, a blur effect, and/or a frame effect.
- the means for generating text can include means for selecting the generated text from a list of predetermined text items associated with characteristic(s) on which the generated text is based.
- the generated text can include a description of the characteristic(s), and/or descriptive information for a user associated with the image.
- the means for generating text can include means for transforming the generated text to appear three-dimensionally within a scene depicted in the image.
- the means for generating text can include means for modifying a portion of the image over which the generated text is to be placed.
- the device can further include means for providing display of a user interface responsive to second user input, and means for providing display of a plurality of modified images based on the image, where each modified image is based on at least one characteristic of the set of characteristics, and each modified image can include the user text and a different visual style modification.
- FIG. 1 is a block diagram of an example network environment which may be used for one or more implementations described herein;
- FIG. 2 is a flow diagram illustrating an example method to provide text and visual styling for images, according to some implementations
- FIG. 3 is a flow diagram illustrating another example method for providing text and visual styling for images, according to some implementations.
- FIGS. 4-7 are diagrammatic illustrations of an example displayed user interface in use with one or more described features
- FIGS. 8-9 are diagrammatic illustrations of example images modified using one or more features described herein;
- FIG. 10 is a diagrammatic illustration of examples of generated text and text attributes
- FIG. 11A-11C are diagrammatic illustrations of additional example images modified using one or more features described herein;
- FIG. 12 is a diagrammatic illustration of another example image modified using one or more features described herein.
- FIG. 13 is a block diagram of an example device which may be used for one or more implementations described herein.
- a method, device and/or system can provide modified versions of images having added text and/or added visual style modifications. For example, added text and visual style modifications can based on one or more determined characteristics of the image. Further, user text input by a user can be added to a modified image and visual style modifications can be based on the user text. For example, such features can automatically provide relevant and appropriate text and visual style modifications for images of a user without requiring extensive time and effort by the user to perform such modifications.
- a system can detect characteristics associated with the image such as image content subjects, conditions associated with the image, and user characteristics of a user associated with the image.
- the characteristics can indicate image content subjects such as faces, persons, objects, landscapes, weather effects, and moods of persons (e.g., based on facial expressions, etc.) detected in the image.
- Image characteristics can also indicate conditions, e.g., time of image capture, geographical location of image capture, events based on calendar data, events determined based on identified objects and/or faces, viewing and/or sharing activities associated with the image, activities associated with the image on a social networking service, camera parameters, etc.
- Image characteristics can also indicate characteristics of an associated user based on social data, e.g., user comments, ratings, etc.
- the system can generate text, e.g., a greeting, descriptive message, etc., and can add the text to the image.
- the system also can determine a visual style modification based on the characteristics, e.g., a vintage effect, lens flare effect, a vignette (e.g., fading dark border), drama effect, black and white effect, tinting, darkening, brightening, blurring, etc.
- the system can apply the visual style modification to the image as well as to the generated text to create a suggested modified image.
- the style modification to the generated text can cause the text to appear as part of or integrated in the modified image.
- User interface features are also described.
- Some features allow a user to input desired user text that added to the image, e.g., adds to, or replaces all or part of generated text.
- Visual style modifications based on the user text can be applied to the image to create relevant visual styling.
- Some features allow the user to view multiple modified images, each modified image having different generated text and/or visual style modifications applied to the original image or other image derived from the original image.
- Described features allow relevant and appropriate modifications, such as added text and visual styles, to be automatically generated for an image, e.g., as suggestions to allow a user to personalize an image.
- the text and/or visual style can be based on the depicted content and/or other characteristics of the image, allowing appropriate visual changes to be automatically applied to the image.
- the user can be saved time and effort in the creation and application of text and visual styles for images. For example, such savings can be significant if the user has a large number of images in their albums and other collections.
- Some implementations can also allow a user to customize the text and/or visual styles that are added to the image, providing greater control to the user without requiring user effort to originate text and visual style modifications.
- a technical effect of editing images as disclosed herein include a reduction in duration of editing images, thus saving time, energy, and system resources for achieving edits to images.
- an image can obtain enhancements that would require many manual edit operations and use of system processing, memory, and other storage in previous editing programs.
- Another technical effect is a higher quality of modifications to images resulting from text and visual style suggestions that are appropriate to image content and other image characteristics.
- An image can be a still image or standalone image, or can be an image in a series of images, e.g., a frame in a video sequence of frames.
- An edit operation e.g., filter
- An image processing operation or technique e.g., modifying color, size, orientation, compression (which may not alter color), visible area (e.g., via cropping or other operation), or other image characteristics.
- an edit operation performs a modification to one or more pixels of an image, causing a visual change in the image.
- a visual modification changes the visual appearance of an image and updates one or more pixel values of one or more pixels of the image to adjust a visual characteristic of the image including brightness, contrast, dynamic range, and/or color (e.g., hue).
- Visual modifications can include changes or additions of text in an image and/or can include visual style modifications.
- Visual style modifications produce visual effects in an image that change pixel value characteristics in a non-textual way.
- a visual style modification can use one or more edit operations to change the visual appearance of an image in a non-textual way, e.g., without changing or adding text characters appearing in the image.
- a visual style can provide a particular non-textual visual form or manner in an image, expressing a particular tone, mood, tenor, character, etc. for the image. For example, darker visual style in an image may indicate a more serious or depressed tone in some contexts, while a “drama” visual effect style may indicate a more energetic tone.
- FIG. 1 illustrates a block diagram of an example network environment 100 , which may be used in some implementations described herein.
- network environment 100 includes one or more server systems, e.g., server system 102 in the example of FIG. 1 .
- Server system 102 can communicate with a network 130 , for example.
- Server system 102 can include a server device 104 and a database 106 or other storage device.
- Network environment 100 also can include one or more client devices, e.g., client devices 120 , 122 , 124 , and 126 , which may communicate with each other via network 130 and/or server system 102 .
- Network 130 can be any type of communication network, including one or more of the Internet, local area networks (LAN), wireless networks, switch or hub connections, etc.
- network 130 can include peer-to-peer communication between devices, e.g., using peer-to-peer wireless protocols.
- FIG. 1 shows one block for server system 102 , server device 104 , and database 106 , and shows four blocks for client devices 120 , 122 , 124 , and 126 .
- Server blocks 102 , 104 , and 106 may represent multiple systems, server devices, and network databases, and the blocks can be provided in different configurations than shown.
- server system 102 can represent multiple server systems that can communicate with other server systems via the network 130 .
- database 106 and/or other storage devices can be provided in server system block(s) that are separate from server device 104 and can communicate with server device 104 and other server systems via network 130 .
- Each client device can be any type of electronic device, e.g., a desktop computer, laptop computer, portable or mobile device, cell phone, smart phone, tablet computer, television, TV set top box or entertainment device, wearable devices (e.g., display glasses or goggles, wristwatch, headset, armband, jewelry, etc.), personal digital assistant (PDA), media player, game device, etc.
- Some client devices may also have a local database similar to database 106 or other storage.
- network environment 100 may not have all of the components shown and/or may have other elements including other types of elements instead of, or in addition to, those described herein.
- end-users U 1 , U 2 , U 3 , and U 4 may communicate with server system 102 and/or each other using respective client devices 120 , 122 , 124 , and 126 .
- users U 1 -U 4 may interact with each other via applications running on respective client devices and/or server system 102 , and/or via a network service, e.g., a social network service, photo collection service, or other type of network service, implemented on server system 102 .
- a network service e.g., a social network service, photo collection service, or other type of network service, implemented on server system 102 .
- respective client devices 120 , 122 , 124 , and 126 may communicate data to and from one or more server devices (e.g., server system 102 ).
- the server system 102 can provide appropriate data to the client devices such that each client device can receive communicated content or shared content uploaded to the server system 102 and/or network service.
- users U 1 -U 4 can interact via audio or video conferencing, audio, video, or text chat, or other communication modes or applications.
- a network service implemented by server system 102 can include a system allowing users to perform a variety of communications, form links and associations, upload and post shared content such as images, text, video, audio, and other types of content, and/or perform other socially-related functions.
- users can view content such as images sent or streamed to their client devices originating from a different client device via a server and/or network service, or originating from a server system and/or network service.
- a “user” can include one or more programs or virtual entities, as well as persons that interface with the system or network.
- a user interface can enable display of images, video, data, and other content as well as communications, privacy settings, notifications, and other data on a client device 120 , 122 , 124 , and 126 .
- Such an interface can be displayed using software on the client device, software on the server device, and/or a combination of client software and server software executing on the server device 104 , e.g., application software or client software in communication with server system 102 .
- the user interface can be displayed by a display device of a client device or server device, e.g., a display screen, projector, etc.
- application programs running on a server system can communicate with a client device to receive user input at the client device and to output data, e.g., visual data, audio data, etc. at the client device.
- server system 102 and/or one or more client devices 120 - 126 can provide an image editing program.
- the image editing program may allow a system (e.g., client device or server system) to provide options for editing and displaying an image, some examples of which are described herein.
- the image editing program can provide an associated user interface that is displayed on a display device associated with the server system or client device.
- the user interface may provide various options to a user to select editing options, editing modes, display modes, etc.
- photo collection services or other networked services can be used instead of or in addition to a social networking service.
- Any type of electronic device can make use of features described herein.
- Some implementations can provide features described herein on client or server devices disconnected from or intermittently connected to computer networks.
- a client device including or connected to a display device can examine and display images stored on storage devices local to the client device (e.g., not connected via a communication network) and can provide features and results as described herein that are viewable to a user.
- FIG. 2 is a flow diagram illustrating one example of a method 200 to provide text and visual styling for images.
- method 200 can be implemented, for example, on a system such as a server device, e.g., server system 102 as shown in FIG. 1 .
- some or all of the method 200 can be implemented on a system such as one or more client devices, and/or on both server device(s) and client device(s).
- the implementing system includes one or more digital processors or processing circuitry (“processors”), and one or more storage devices such as a database 106 or other storage.
- processors digital processors or processing circuitry
- storage devices such as a database 106 or other storage.
- different components of one or more servers and/or clients can perform different blocks or other parts of the method 200 .
- method 200 can be initiated based on user input.
- a user may, for example, have selected the initiation of the method 200 from an interface such as a user interface of an application program, a network service interface, or other interface.
- the method 200 can be initiated automatically by a system.
- the method 200 (or portions thereof) can be initiated based on one or more particular events or conditions such as a user opening an application program, e.g., an image editing application program, receiving one or more images that have been newly uploaded to or accessible by the system, etc.
- such conditions can be specified by a user in custom preferences of the user.
- the method 200 or portions thereof can be performed with guidance by the user.
- a user can designate a set of multiple input images to be input and processed by method 200 .
- method 200 (or portions thereof) can be performed on a cell phone, camera, or other client device that has captured one or more images.
- a client device can send images to a server over a network, and the server can process the images using method 200 , or the server can receive images from a different source (a different server, etc.).
- the method obtains or selects an image for processing.
- the image can be a digital image composed of multiple pixels, for example, and can be stored on one or more storage devices of the system performing method 200 or otherwise accessible to the system, e.g., a connected storage device, a local storage device, a storage device connected over a network, etc.
- the image can be a photo captured by a camera, an image frame extracted from a captured video stream or other video data, or an image derived from a different source.
- a user can provide or designate one or more input images to process.
- the image can be obtained by being automatically selected by the method, e.g., as an image from an album or other collection of multiple images, such as an album provided in an account of a user of a system or network service.
- the method can determine which image to obtain based on evaluating one or more characteristics of accessible images, such as the color and/or brightness distributions of images, timestamps and other metadata of images, and/or identified and recognized content subjects depicted in the images, such as persons, faces, or objects.
- the image can be displayed on a display device in some implementations of method 200 , or can be processed without display or with intermittent display.
- the image can be displayed by an image editing program or other program running on the system that can offer features described herein.
- the method determines (e.g., detects) a set of one or more characteristics of the image.
- the determined set of characteristics can include image content characteristics, condition characteristics, and/or user characteristics.
- Image content characteristics can indicate or be related to content subjects depicted in the image and can be based on pixel values of one or more pixels of the image.
- Condition characteristics can indicate or be related to one or more conditions associated with the image. In some implementations, the conditions can be present near in time or during a capture of the image. In some examples, condition characteristics can be based on data associated with the image.
- User characteristics can indicate or be related to one or more characteristics of a user associated with the image, e.g., an owner or provider of the image, as indicated by user data.
- the method applies one or more visual modifications to the image based on at least one of the determined image characteristics.
- the method can determine and apply the one or more visual modifications based on the at least one image characteristic.
- the visual modifications can include generated text provided in the image.
- the generated text can be derived from stored text data associated with one or more particular image characteristics or combinations of image characteristics.
- the generated text can be placed in the image by modifying image pixels, and/or can be one or more separate visual objects positioned in particular locations in the image and displayed over portions of the image.
- the applied visual modifications can also or alternatively include one or more visual style modifications that change the visual appearance of the image, and which can be determined based on one or more of the determined image characteristics or a combination thereof.
- a visual style modification can be a non-textual modification to one or more pixel values of one or more pixels of the image, e.g., changing colors, effects, or other visual characteristic of the image.
- the applied visual style modification can also modify the generated text.
- the method may receive user input defining user text.
- a user may have input text characters to an image editing interface or other interface using any of a variety of input devices.
- the method provides refined text in the image, where the refined text includes the user text.
- refined text can be considered text that has been refined based on user input.
- the refined text can only include the user text that is added to the image, e.g., where the user text replaces all generated text in the image if such generated text is present in the image (e.g., from block 206 ).
- the refined text can include the user text and can also include at least a portion of the generated text.
- the user text may modify the generated text, e.g., replace at least a portion of the generated text with at least a portion of the user text, thereby providing refined text that includes the user text and remaining portion(s) of the generated text.
- the user text can be added to generated text such that the refined text includes the user text and the generated text.
- block 210 can be considered to refine generated text in the image (if any) with the user text to provide refined text, e.g., replace and/or add to at least a portion of generated text with user text.
- refined text can be added to the image by modifying image pixels, and/or can be one or more separate visual objects positioned in particular locations in the image and displayed over portions of the image.
- the method applies one or more additional visual modifications, e.g., refined visual modifications, to the image based on the user text and based on at least one of the determined image characteristics.
- the refined visual modifications can be based on the refined text that includes the user text.
- the refined visual modifications can include refined visual style modifications, which change image colors, brightnesses, or other visual characteristics.
- the modified image resulting from block 212 can be displayed or otherwise presented as a suggested or variation modified image with respect to the image obtained in block 202 . Multiple modified images with different refined visual modifications can also be created and displayed. Examples of some implementations are described below with respect to FIG. 3 .
- FIG. 3 is a flow diagram illustrating another example method 300 for providing text and visual styling for images, according to some implementations.
- Method 300 can be similarly implemented by a system that is or includes, for example, a server and/or client device, and can be similarly initiated and performed, as described above for method 200 .
- the method obtains an original image similarly as described above for block 202 of FIG. 2 .
- the method detects one or more image characteristics associated with the original image.
- the characteristics can be image content characteristics, condition characteristics, and/or user characteristics.
- Image content characteristics can indicate one or more types of image content subjects depicted in the original image.
- one type of content subject can be faces depicted in the image.
- Another type of content subject can be persons depicted in the image (e.g., full or partial bodies of persons depicted).
- Another type of content subject can be objects in the image, including animals, vehicles, articles, devices, buildings, or other objects.
- Another type of content subject can be landscape features, which can include hills, mountains, lakes, rivers, sky regions, sky features (e.g., clouds, sun), trees, grass, roads, or other outdoor features.
- Another type of content subject can be weather effects, including stormy weather, sunny weather, rainy weather, windy weather, snowy weather, foggy weather, and other weather effects present in the scene depicted in the image.
- Another type of content subject can be an emotional tone of particular content subjects in the image.
- the moods of one or more persons depicted in the image can be image content characteristics. These moods can include, for example, happy, sad, angry, thoughtful, solemn, depressed, etc.
- Image content characteristics can be identified based on various image recognition techniques. For example, facial recognition, object recognition, and landmark or landscape recognition techniques can be used to detect these types of content subjects. In some implementations, various such recognition techniques can look for particular patterns, colors, markers, spatial distances between objects, color edges, etc., and/or compare detected image features to known patterns, image samples, etc. to recognize features.
- the moods of persons detected in the image can be detected using facial analysis techniques to determine the shape of mouth, state or shape of eyes, etc. of depicted persons. Colors, brightness, saturation, and image features of depicted outdoor areas can be examined to estimate a weather effect present in the image. For example, orange, pink, tones in the image may indicate a sunset weather effect, while grey tones may indicate stormy or rainy weather effect.
- image content subjects can be detected as a general type of content subject (e.g. person, animal, object, etc.) without determining an identity of the particular subject depicted.
- image content subjects have an identity that can be recognized and determined by the method, e.g., a name of a depicted person (e.g., in some cases a person's identity is determined only if permissions of that user allow such determination), the make, model, and/or owner of a vehicle, etc.
- one or more databases, network services, and/or other information sources may be accessible allowing identities to matched to detected image content subjects (e.g., if user permission allows such identification).
- Condition characteristics can indicate conditions associated with the image.
- condition characteristics can be conditions associated with the capture or a modification of the image. For example, these can be conditions present near in time or during the image capture.
- data describing condition characteristics can be obtained from metadata that accompanies the image.
- one type of condition characteristic can be the time (including year, day, hour, minute, etc.) that the image was captured, e.g., by a device including a camera.
- Another type of condition characteristic can be location data indicating or describing the geographic location at which the image was captured.
- this geographic location data may have been obtained by a Global Positioning System (GPS) component of the camera or other device capturing the image, and/or obtained by other sensor or location systems, for example.
- GPS Global Positioning System
- the geographical location of image capture can be estimated based on other data.
- device-free localization techniques can be based on detected changes in peer-to-peer wireless signals, Wi-Fi networking signals, or other signals transmitted as a device is moved, where the changing of these signals can be measured and used to estimate device location.
- the location of image capture can be estimated to be on a vehicle (train, car, airplane, etc.), e.g., based rate and velocity of movement of the camera device as determined based on location signals, and/or based on examining image content (e.g., depicted airplane window), time gap between sensed locations of the camera device, etc.
- a vehicle train, car, airplane, etc.
- image content e.g., depicted airplane window
- condition characteristic can be events that were taking place at the time of, or in association with, the capture of the image and/or in association with a user who is associated with the image, e.g., a user who captured the image, or an “owner” of the image who is a user having control of the display of the image on a service (e.g., a social networking service or other network service).
- event information may have been previously stored as metadata for the image, or can be accessed from storage devices during the processing of method 300 .
- event information can be obtained and identified from calendar data of the user, social data of the user, or other data accessible to the device checking for events, e.g., a camera or other device writing metadata that indicates a particular event occurring at the time of image capture. Events can be, for example, sporting events, music events, business-related events, a vacation or holiday, etc.
- the method can compare identified image content of the image (as determined above) with event information associated with that image to determine whether the image was captured at an event.
- the method can determine that the image was captured at the sporting event.
- the system can examine associated calendar information and geographical location data and determine that the image was captured while the user was on vacation at a particular geographic location.
- the method can consult online data sources (e.g., map services, event or activity websites) to identify events at particular times and/or locations.
- the camera parameters can include, for example, the make and model of the camera and lens information for lenses used by the camera, as well as particular values for camera settings used for the capture of the image, e.g., exposure level, zoom level, spatial orientation information indicating the spatial orientation of the camera in space at the time of image capture, aperture setting, shutter speed, focal length, etc.
- EXIF data, ISO data, etc. for the image can be obtained.
- ISO settings and/or other EXIF data can be used to assist determining whether the image was captured in an indoor, outdoor, cloudy, or sunny environment.
- User characteristics can indicate characteristics of one or more users associated with the original image.
- an associated user can be an owner of the image, e.g., a user that uploads the original image to a network service (e.g., an online photo collection service, a social networking service, etc.).
- a network service e.g., an online photo collection service, a social networking service, etc.
- an associated user can be a user associated with the camera that captured the image, and/or a user who last modified the original image.
- an associated user can be a user that is able to access and view the image.
- An associated user can be determined based on any of various sources including metadata of the original image, a user account of a network service or user registered to a device in which the original image was stored, etc.
- user characteristics can indicate characteristics of an associated owner or accessing user, and/or can indicate characteristics of one or more other types of associated users, e.g., users that are socially-linked with an associated owner user, users that are depicted in the image, etc.
- user characteristics can be identified from received user data related to the associated user.
- user data can include social data, e.g., data stored by a network service or other system describing social connections or social graph of the associated user of the image (e.g., user contacts, recipients of user messages, etc.).
- social data can be examined upon obtaining permission from the associated user.
- the social data can describe user activity made in social contexts, e.g., user input to network services, as well as views or downloads of messages, content, etc. received by the user.
- user activity can include user comments, ratings, shares, and views of the original image used in method 300 , other images of an associated user, and/or other user's images, and/or other types of content.
- the social data can be obtained from a social networking service of which the associated user is a member.
- the user characteristics can include one or more viewing or sharing activities associated with the image used in method 300 , and/or one or more activities associated with the image and associated with a social networking service or other network service.
- social data can be used to find out subjects or events of value to the user, e.g., based on postings or uploaded content provided by the user to a social networking service or other network service.
- user characteristics can include social relationships of the associated user to persons or other image content subjects depicted in the image. For example, a social graph included in obtained social data can be used to identify whether recognized and identified persons depicted in the image are close friends, work colleagues, etc., of the associated user. These social relationship user characteristics may be able to provide guidance as to text or style provided in the following blocks of method 300 .
- user data can also include other data input by the user or describing the user, e.g., profile data, calendar data, etc.
- Some implementations can determine three-dimensional (3D) information regarding content depicted in the image. For example, a 3D scene structure or 3D model for the image can be estimated to determine 3D positions of various image features.
- depth information, a depth map, or other 3D model information for the image may be available, e.g., as metadata provided by a camera having an ability to sense “depth” of objects or pixels in the image, where the depth is the distance of each captured object or pixel to the camera capturing the scene.
- depth information can be generated using a 3D or stereo camera, structured light camera, time-of-flight camera, or other type of depth-sensing camera (using visible and/or non-visible light).
- Some implementations can estimate depth information of a depicted scene based on a system analyzing features depicted in the image. For example, known techniques can estimate a basic 3D structure in an image based on lines (e.g., edges), intersections of lines, planes, and/or vanishing points detected in and extracted from the image. Relative sizes of recognized objects can also be compared to estimate depth of various areas or pixels. Some implementations can use known 3D models (e.g., of faces) to estimate depths of particular pixels in features having a recognized type matching those models.
- the method determines generated text for the image based on a set of one or more of the image characteristics determined in block 304 .
- Generated text can be automatically generated by the method, e.g., without human intervention.
- Generated text can include one or more text characters and/or other predefined symbols or ideograms (emoji, etc.).
- the method can determine the generated text based on stored predefined associations of particular text items with particular image characteristics. For example, the method can examine and select one or more stored text items from a list of predetermined candidate text items associated with particular image characteristics, or combinations of the image characteristics, detected in block 304 . The selected text item(s) can form the generated text message.
- a text item can be one or more text characters, messages, phrases, sentences, words, or other item of text.
- the method can use a number of predefined relationships between types of characteristics and predetermined text items stored in available storage for access by the method.
- a particular type of image characteristic can be associated with a particular stored text item. For example, if a combination of characteristics associated with (e.g., required by) a text item are present for the original image, then that text item can be selected for the image by block 306 .
- a candidate text item providing a user's identified name e.g., first name
- a candidate text item that states “sunny memories” can be stored to be associated with a stored combination of characteristics that are required to be present in the image for the text item to be selected for the image.
- the required combination of characteristics can include an image characteristic indicating a sunny weather effect depicted in the image, and an image characteristic indicating that the time at which the image was captured is sufficiently in the past (e.g., greater than a threshold time period in the past relative to the current time).
- that text item can also be associated with (and require) additional image characteristics in the combination of characteristics.
- the text item can be associated with particular types of content characteristics, e.g., an outdoor landscape and persons depicted in the image (e.g., particular recognized persons having identities socially connected to the user as determined by social data from a social networking service or other network service).
- the “sunny memories” text item is selected (e.g., from a table or other stored data structure) for inclusion in the generated text.
- the associated text item is selected for inclusion in the generated text.
- Some implementations can find and select text items based on a semantic meaning of an image characteristic. For example, a label of “corvette” from an image recognition technique that recognized a content subject in the image can be analyzed for semantic meaning by the method.
- the method can look in accessible dictionaries, thesaurus, databases, knowledge bases, etc. to find additional words of similar meanings as well as words describing various subject categories in which this label fits.
- the method or an image recognition technique can determine that additional labels of “car” and “vehicle” also apply to the label. Text items that are associated with these additional labels can then be searched, evaluated and/or selected.
- one or more of the additional determined labels can be selected and included in the generated text.
- stored text items can have scores with respect to the original image based on how suitable or qualified the text item is for addition to the original image.
- the scores can be based on the number of characteristics in the original image that match characteristics associated with the stored text item.
- the method (or associated method) can determine a score for each examined stored text item.
- a score can be determined by checking for a number of matches between characteristics and/or types of characteristics present in the original image, and the characteristics and/or types of characteristics required by a stored text item. The greater the number of matches between image characteristics and the associated characteristics of a stored text item, the higher the score assigned to that stored text item.
- One or more stored text items having the most qualifying scores can be selected as text items for use with the original image.
- Other scoring criteria and/or selection criteria can also or alternatively be used for selecting text items.
- different weights can be assigned to different characteristics or types of characteristics if a match exists, where a weight can influence the associated score based on the value of the weight. For example, a match for content subject type characteristics can be weighted higher, while a match between location characteristics can be weighted lower or a normal amount. Other weighting techniques can be used in other implementations.
- the generated text can include a standard greeting, e.g., a well-known saying or greeting.
- the generated text can include a greeting based on particular metadata, e.g., geographical location and calendar/event data.
- the generated text can include a vacation greeting such as “Welcome to Spain” or a message such as “My vacation in Spain,” and can be determined based, at least in part, on location data indicating the location where the image was captured.
- Generated text can also include event-specific text, such as a text item that includes the title and/or geographic location of the event (e.g., “Art and wine festival, Springfield.”)
- the generated text can include a description of at least one of the detected characteristics of the image, e.g., a description of a content subject characteristic (person, animal, object, etc.) or a description of a condition characteristic (the time or year, location, event, etc.).
- text items can be obtained as recognized labels from one or more image recognition techniques applied to the original image, for example.
- a more generic text item can be selected as generated text that describes one or more image characteristics.
- a generic text item can include text describing condition characteristics such as a geographic location of image capture, and a time, date, and/or year of image capture.
- a generic text item can include a name of a user associated with the image or a generic label associated with a recognized content subject depicted in the image. A combination of multiple of these generic text items can also be included in the generated text.
- the method can examine data related to an associated user and/or other users to help determine the generated text. For example, posted content, comments, and other input from an associated user and/or other users socially connected to the user can be examined, based on obtained social data associated with the user. In one example, direct quotes from the associated user's own messages in a social networking service, other network service, or other online activity can be included in the generated text.
- Some implementations can determine parts of generated text independently and separately, and then combine the parts together to form the complete generated text. For example, a sunny weather effect depicted in the image can indicate to the method to select a text item that is the word “sunny,” and an old capture date of the image can indicate to the method to select a text item that is the word “memories,” and these words can be combined to create the generated text “sunny memories.”
- Block 306 can also determine one or more text attributes of the generated text, such as font, color, size, layout (e.g., justification, positioning of letters relative to each other, how many lines of text to form, etc.), letter case, and/or other text attribute types.
- Text attributes can be determined from a variety of possible text attribute selections in each type of text attribute. For example, the text attributes can be based on stored user preferences or settings.
- the method automatically selects text attributes that are predefined to be associated with particular text (e.g., particular words or semantic meaning/synonyms of the generated text), with determined image characteristics of the image, and/or with a particular visual style determined for the image (described below). For example, predefined associations of particular text attributes with text, image characteristics, and/or visual style modifications can be based on previous determinations (e.g., by one or more users or persons) that these associations are visually pleasing when displayed. In some examples, the method can examine a predefined table or other associative data structure that matches particular text attributes with particular text, image characteristics, and/or visual style modifications.
- a older-style cursive or script font can be a text attribute associated with particular recognized types of image content (e.g., old buildings, etc.), while a lively or chaotic font can be associated with image content including lots of faces, persons, or a city landscape.
- a particular font can be associated with a particular visual style such as “vintage” (e.g., adding an old-fashioned or worn look for the image to simulate a look of an old photograph by changing color and brightness, adding image features such as scratches, etc.).
- a recognized image subject of two people kissing can be associated with a particular “love” text font and/or text style theme.
- a particular word in the text e.g., “memories” can be associated with a particular font, size, color, etc.
- Some implementations can group particular text attributes, e.g., fonts, text styles, or text layouts, with particular languages or scripts that are known to be visually suitable for use with those text attributes. For example, Arabic text may not be visually appealing in a block justified layout such that a justified layout attribute is not available to be selected and applied to generated Arabic text.
- one or more text attributes can be based on one or more image characteristics.
- a color of generated text and/or user text can be based on color characteristics of one or more image features depicted in the image.
- the image features can be a portion of the image on which the text is to be placed, or can be positioned elsewhere in the image and, e.g., provide a color scheme for image.
- the text if the text is to be placed on a sky landscape feature, the text can be assigned a color visually pleasing or contrasting with the sky color.
- the text can be assigned a color that is complementary, part of a triad of colors, and/or an analog color to a color of one or more image features.
- the text can be assigned a fill pattern, texture, or other visual effect similarly based on one or more visual characteristics.
- Other text attributes can be designated based on one or more image characteristics, e.g., font, size, layout, etc., based on any of the image characteristics described above.
- the method can determine to use a fully justified layout of the text based on recognizing straight edges in the image, such as walls, that are visually complementary with the straight margin edges of fully justified text.
- multiple different types of a particular text attribute can be applied to the generated text.
- multiple different fonts can be used, e.g., one font for one text line of words and/or characters of the generated text, and a different font for a different text line or characters of the generated text.
- Some implementations can access predefined stored groups of fonts that are known to be visually pleasing when appearing in conjunction in text, such that fonts for the generated text can be selected from the same predefined group.
- machine learning techniques e.g., including training based on a set of training data indicating desirable pairings and combinations of fonts
- combinations of multiple different selections of colors, sizes, and/or other text attributes can be used in the generated text, and such selections can be determined from one or more predefined groups indicating which of the attributes, and/or which of the selections of a particular attribute, are considered visually pleasing when used in combination.
- multiple complementary colors, triad colors, and/or analog colors can be selected for the generated text.
- the generated text can also or alternatively be partially or entirely rotated to various orientations for placement in the image, in some implementations.
- entire words or phrases of the text can be rotated, and/or individual characters of the generated text can be rotated, including letters, numbers, etc.
- Graphical ornaments, frames, etc. can also be rotated.
- Some implementations can add visual effects to the generated text.
- some added visual effects can cause the generated text to stand out or be more visible within the image.
- a drop shadow, outline, border, or differently-colored backdrop can be generated behind and/or around the generated text to appear within the image.
- text can be converted to outlines and filled with patterns, image portions, etc.
- Other visual effects added to text can include text embossing and text extrusion.
- the method provides the generated text in the image.
- the method can add or superimpose the generated text on the image.
- the method can change pixel values of the image to cause the appearance of the characters of the generated text in the image.
- the generated text can be added to the image as a separate layer or as a text object that is separable and independent from the image pixels, and which, for example, can be easily moved within the image or removed from the image if needed.
- a separate text object including the generated text can be temporarily created and placed over the image, and after modifications to the original image have been finalized, the generated text can be added to image by changing the pixel values of the image.
- Some implementations can permanently store a text object separately and in association with the image over which it is displayed.
- the location in the image at which the generated text is displayed can be determined by the method based on determined image content and/or other image characteristics. Some implementations can position the generated text at one of multiple possible standardized or predefined locations in the image, e.g., a predetermined distance from a corner, side, top, and/or bottom of the image.
- the generated text can be positioned in the image to minimize obscuration of content subjects of the image.
- the generated text can be placed so as to not cover faces, objects, or other prominent features, while in some implementations the text can be allowed to cover one or more types of features (e.g., landscape features such as sky, road, trees, etc.).
- Some implementations can examine the image for candidate areas of the image having particular types of features or areas known to be suitable for displaying text without obscuring prominent features of the image.
- the method can examine the image for an area of clear sky (e.g., using image recognition techniques) that is sufficiently large to fit the generated text.
- the method can examine the image for candidate areas that have small levels of color noise (e.g., under a threshold amount of noise), and/or candidate areas that have a small amount of texture or structure (e.g., under a threshold amount of texture/structure such as patterns of surface detail (e.g., rough, corrugated, streaked, dappled, etc.) and/or areas of pixels having rapid color changes, color discontinuities, or edges).
- the generated text can be placed in areas of the image having lower amounts of noise and texture.
- the size of candidate image areas can also be examined. For example, larger candidate areas can allow the generated text to have a larger size while smaller candidate areas may require the generated text to be of a smaller size.
- one or more of these image characteristics can be individually scored based on its suitability for placement of generated text. For example, for some implementations or styles, a larger size of a candidate area can be associated with a better individual score than a smaller size.
- the individual scores of each candidate area can be combined to find a total score for each candidate area in the image, and the best (e.g., highest) total score can indicate the associated candidate area of the image in which to place the generated text.
- the generated text can be placed on a generated text path in the image.
- the text path can be generated based on one or more image features.
- the text path can follow edges or borders of objects depicted in the image, e.g., such that the generated text flows along the side of a road or building, around a face, tree, or cloud, etc.
- the image feature that is used to guide the text path can be selected from multiple recognized features in the image. In some cases, the image feature used for the text path can be selected based on the semantic meaning of the generated text.
- the text path can be generated along an edge of the Eiffel Tower rather than along other recognized image features (such as persons' faces, landscape features, etc.).
- Some implementations can generate a text area, such as a text box, in which the generated text is to be placed (e.g., this text area can be determined in block 306 in some implementations).
- a text area can be included in a particular layout selected for the generated text from multiple layout options, e.g., indicating a number of lines to split the text, justification and word positioning, emphasis, text rotation, ornaments, frames, etc. added to the text, etc.
- the generated text area can be sized and shaped to fit the generated text, and a suitable area that fits the generated text area can be searched for in the image. For example, the largest suitable area that fits the text box can be searched for in the image.
- a layout for the generated text can be determined, and the dimensions of the layout are determined based on suitable areas in the image to place the text layout (e.g., the layout can be maximized in size to fit in available areas).
- the generated text can be provided as a single line of text, or can be provided as multiple lines of text.
- the generated text can be randomly split into multiple lines of text.
- the multiple lines of text can be fitted to a generated text area.
- particular words of the generated text can be considered more important (e.g., proper names, specific nouns, verbs, etc.) and can be emphasized in the text area relative to other words, e.g., placed such that those words are the only word on their line of text.
- important words can be obtained from user data, e.g., a user's social data (socially-linked users, names or words from user comments, messages, etc.) or condition data, e.g., visited location names, event names, etc.
- particular words of the generated text can be considered less important such that multiple of those words are placed on a single line of text.
- generic words such as “trip,” “vacation,” “event,” etc. can be considered less important, as well as prepositions, linking words, etc.
- the words “trip” and “to” can be placed on a single line of text.
- each word (or some words) in generated text and/or user text can be assigned an importance score based on these factors and other factors (e.g., frequency of appearance in user data, proper/specific name vs. generic word, etc.). For example, words can be positioned and/or emphasized in a generated text area based on their importance scores. In some examples, words having an importance score over a threshold score can be emphasized, and/or words having a better (e.g., higher) importance score than other words can be given priority in text lines, provided with more emphasis etc.
- words can be emphasized by being placed singly on text lines, by being placed over particular backgrounds, ornaments, or blurs, by having borders such as text frames or ornaments, by being assigned a larger or more highlighted font (e.g., bold or italic letters, drop shadows, etc.).
- Some implementations can modify a portion of the image, e.g., pixel values of the image, to create a suitable area in the image on or over which to place and display the generated text.
- the method can blur an area of the image approximately equal to the size of the generated text, to provide a smoothed area allowing the generated text to be more visible.
- Some implementations can place a visible text area on the image having a color different than the color of the generated text to allow the generated text to be highlighted, e.g., a light color if the generated text has a darker color, or vice-versa.
- an area of the image can be both blurred and darkened to emphasize light-colored text placed on the area.
- Some implementations can provide the generated text on a “thought bubble,” and/or can blend the generated text with the image in one or more ways (e.g., place portions of the image within large generated text character outlines, provide semi-transparent text characters allowing portions of the image to be seen through the text characters, etc.).
- additional graphics can be added to and associated with the generated text, such as ornaments, text frames, lines, etc. displayed relative to the generated text.
- the generated text can be placed in the image to appear as if it is three-dimensional (3D).
- the text can be transformed to appear as if it has linear perspective within the scene of the image.
- one side or portion of the text can be made larger as if closer to viewer of the picture, while another side or other portion of the text can be made smaller as if further away from the viewer, with a gradual change provided from one size to the other.
- the generated text can be geometrically transformed to appear as if it is positioned on an estimated surface depicted in the image, e.g., wrapped around a 3D cylindrical curved surface.
- the generated text can be placed to appear as if it is three-dimensionally aligned with 3D features depicted in the image.
- the text can extend along or follow a road or a wall into the distance, appear to be on the side of a wall of a building, etc.
- 3D text positioned based on an estimated 3D model of an image scene is described with reference to FIG. 12 .
- 3D text can be positioned along a curved surface, border, or outline of a 3D object, e.g., along a text path curving on the surface of an object like a banana, cylinder, etc.
- the method determines a visual style modification for the image based on a set of one or more of the determined characteristics.
- the set of characteristics used here may or may not be the same set of characteristics used to determine the generated text in blocks 306 and/or 308 .
- a visual style can be any type of style that provides the image with a particular visual effect.
- the visual style modification can include the application of a particular filter, preset, or other edit operation, or a combination of multiple edit operations.
- the visual style modification can be a “vintage” effect which provides an old-fashioned or worn look to the image to simulate the appearance of an old photograph, e.g., a tinted, sepia-toned, and/or scratched appearance to the image.
- this style can be achieved by applying a particular set of edit operations to the image, e.g., a particular color filter that biases the colors of the pixels of the image to the desired color, a filter that randomly adds scratches and blurs to the image by altering pixel values, etc.
- the visual style modification can be a lens flare that adds light rings or streaks to the image to mimic a lens flare appearing in a photograph when sunlight impinges on a lens.
- the visual style modification can be light streaks and color shifts in portions of the image simulating overexposed portions of a photograph.
- Another visual style modification is a frame added to the borders of the image and having a particular visual design (e.g., with multiple frames to select from, each having particular colors, texture, symbols, patterns, etc.).
- Other examples of visual style modifications include applying a tone mapping filter or technique to the image, changing the structure (e.g., sharpening edges or textures appearing in the image) or clarity (blurriness) of the image, a shadow effect (e.g., adding or darkening shadows, etc.), changing brightness, contrast saturation, and/or color, a “drama” effect that enhances contrasts and edges to make these features stand out, a soft focus or other blur effect, a simulated bokeh effect (blur produced in out-of-focus parts of the image), etc.
- one or more visual style modifications can be automatically determined by the method (without human intervention) for application to the image based on stored predefined associations of visual style modifications and one or more of the determined image characteristics. For example, one or more visual style modifications can be selected from a predetermined stored list of candidate style modifications based on matches between image characteristics of the image and characteristics associated with the candidate style modifications. In some examples, visual style modifications can be selected similarly to text items as described above for block 306 , e.g., based on number of matching characteristics, including weighting of particular matches, etc. In some examples, a detected outdoor scene depicted in the image (e.g.
- an outdoor scene can be associated with a color enhancement filter to make the colors brighter and more enhanced, e.g., less washed out (e.g., increased saturation).
- a detected indoor scene e.g., based on detected darker shades, detected objects such as furniture, etc.
- Text labels or words derived from recognizing image content subjects can be associated with particular style modifications, such as the word “cat” (derived from content subject characteristics) associated with a particular filter.
- text or words derived from user comments or posts in social data from an associated user can be associated with style modifications, such as a word “bright” (from the user describing a location) associated with brightening or color-enhancing the image.
- Content characteristics can be associated with visual style modifications, such as an old capture date for the image (e.g., more than a time period threshold) associated with a “vintage” style modification (e.g., add sepia tones and scratches to image, or desaturate the image to provide a black and white/grayscale effect).
- the associations between image characteristics and visual style modifications can be customized or personalized for the user associated with the image, such that different associations are used for images of different users.
- the determination of a visual style modification can also be influenced by other data, such as preference data indicating preferences of an associated user for particular style modifications.
- the method can examine history data indicating previous selections of an associated user of particular style modifications for particular image characteristics, e.g., indicating general preferences of the user.
- the method modifies the image and the text message with the visual style modification determined in block 310 to create a modified image.
- the generated text can be added to the image before the visual style modification is applied to the image, and the generated text can be modified along with the rest of the image by the visual style modification.
- a brightness-changing style modification can be applied to the image pixels including the generated text.
- modifying the generated text may provide a more pleasing appearance of the text in the modified image, since it may appear as if the text is more integrated in or part of the image and may avoid or reduce an appearance of text having been placed or superimposed on top of the image.
- the method can store the modified image in available storage, e.g., memory, and the modified image can be displayed to the user, e.g., in the interface described below.
- the method provides the modified image for display to a user, e.g., in a user interface allowing a display of modified images.
- a modified image can be displayed as a modified image variation derived from the original image.
- a modified image can show visual modifications of text and/or visual style applied to the original image, or in some implementations, a modified image can show visual modifications applied to one or more images derived from the original image.
- the image(s) and interface can be displayed on a display device of the system implementing method 300 .
- the user interface can display the modified image of block 312 as well as various controls that can be manipulated by the user to create variations of the original image and/or the modified image, e.g., other modified images having different text and/or different visual style modification(s).
- the interface can include a graphical user interface, command line interface, etc.
- the user can provide input in the interface to move the generated text to a desired location in the image if a default or automatically-determined location is not desirable, e.g., drag the generated text using a finger on a touchscreen or using a different input device (mouse, stylus, etc.).
- Some implementations can display the original image adjacent or near to the modified image so that the user can more easily view the differences in the original image and modified image.
- the modified image can be considered to be a suggested image for the user, e.g., showing and suggesting particular text and visual style modifications for the original image.
- input can be received from a user in the user interface, e.g., a selection by the user of an icon, command, menu item, graphical button, or other control of the interface.
- the input from the user can be provided as touch input on a touchscreen of a device used by the user, or can be input provided by the user using a different device, such as a mouse, trackball device, trackpad, joystick, etc.
- a user-controlled cursor can be controlled to be positioned to select a desired control displayed in the user interface.
- the user input can take other forms, such as a voice or sound command input to a microphone of the system to select a function of the image editing program (e.g., recognized via voice recognition or sound command recognition), a visual command input to a camera or other visual sensor of the system and recognized by the system as a command (e.g., an eye-motion command, finger or hand gesture, etc.), or a motion command detected by motion sensors such as accelerometers and/or gyroscopes (e.g., moving or orienting a portable device in a predetermined manner to be recognized as a command by the system).
- a voice or sound command input to a microphone of the system to select a function of the image editing program (e.g., recognized via voice recognition or sound command recognition)
- a visual command input to a camera or other visual sensor of the system and recognized by the system as a command e.g., an eye-motion command, finger or hand gesture, etc.
- a motion command detected by motion sensors such as accelerometers and/
- the method may create and display one or more additional modified images based on user input.
- block 316 may be performed if the user selects a control to display one or more modified images, e.g., variations of an image having different visual modifications.
- the method creates a modified image and, in various implementations, displays it in place of (or alongside) a previously-displayed modified image.
- Block 316 can create and display multiple modified images in response to appropriate user input commands.
- a modified image can include different generated text than the generated text of one or more previous modified images.
- the method can repeat block 306 to create different modified images, where one or more (e.g., each) of the modified images has different generated text added to the original image based on at least one of the one or more characteristics of the original image. For example, in some implementations, the method can select the next text item in a list of text items found suitable for the image (e.g., candidate text items) as described above.
- the method can select a different set of the characteristics (e.g., a different combination of the characteristics) than previously used to determine generated text in a previous modified image.
- Different generated text can be determined that is associated with (e.g., matches) the selected characteristic(s).
- one or more text attributes of the generated text can be varied in different modified images, e.g., where the same text characters can be used in one or more of the modified images, and/or different generated text characters. For example, different fonts, colors, sizes, or other text attributes can be provided for different modified image variations.
- a modified image can also or alternatively include a different visual style modification than the style modification previously applied to the original image in block 312 (or previously applied to create a previous modified image in block 316 ).
- the method can repeat block 310 to create one or more modified images, where one or more (e.g., each) of the modified images has a different visual style modification for the original image based on a set of one or more characteristics of the original image.
- the method can select the next best (e.g., highest scoring) visual style modification that matches the set of characteristics of the image, e.g., from a list of candidate visual styles modifications as described above.
- the method can select a different set of the characteristics (e.g., a different combination of the characteristics) than previously used to determine a visual style modification in a previous modified image.
- One or more different visual style modifications can be determined that are associated with (e.g., matches) the selected characteristic(s).
- the method can create a modified image with new generated text and/or new visual style modification(s) by modifying the original image as described above, or the method can modify a previous modified image, e.g., modify the most recent modified image to provide a new modified image.
- each modified image can be created by applying one or more visual modifications to the original image obtained in block 302 .
- the method can restore a modified image to its previous, original state which was prior to the modification performed in blocks 306 and 310 , and then perform one or more visual modifications to create a modified image.
- the restoring can be implemented in different ways. For example, the method can retrieve a copy of the original image from storage where the copy had been stored before modification. In another example, the method can remove visual modifications that have been made in a modified image by changing pixel values back to their values in the original image.
- Some implementations can create a modified image by applying one or more visual modifications to a modified image resulting from block 306 or to a modified image resulting from block 310 .
- a previous state of the image can be restored, e.g., by retrieving a copy of the image in the previous state from storage, or by removing previously-applied visual modifications by changing pixel values in the image to previous values, and then applying the visual modifications to the previous-state image.
- Some implementations can create a modified image by applying one or more visual modifications to a modified image resulting from previous application of one or more visual modifications by block 316 .
- a single modified image is displayed at one time by the display device (e.g., on a display screen).
- the user can provide input selecting to display a new modified image, and the display of the new modified image replaces the display of a previously-displayed modified image.
- the user can select to display a number of different modified images simultaneously by the display device.
- the method can present a variety of combinations of different generated text and different visual style modifications in the presented modified image variations.
- a second modified image can include different generated text and the same style modification compared to a first modified image
- a third modified image can include the same generated text and a different style modification compared to the first modified image.
- the variations in generated text and and/or visual style modifications in different modified images can be randomly generated.
- a set of suitable generated text items can be generated based on the characteristics of the image, and one of the text items in the set can be randomly selected and presented in one of the modified images.
- a set of suitable visual style modifications can be generated based on a set of characteristics of the image, and one of the style modifications can be randomly selected and presented in one of the modified images.
- the method checks whether user text has been received from the user.
- the interface can provide an option to the user to provide user input to the user interface to define user text to be added to a particular image (e.g., to the original image or to a modified image displayed in the interface).
- the user text can be indicated by the user to become the entire text in the image, e.g., to replace all existing generated text (and previously added user text) in the image.
- the user text can be indicated by the user to modify existing generated text in the image, e.g., replace one or more portions of generated text determined in block 306 (and/or previous user text) with at least a portion of the input user text.
- the user text can be indicated by the user to be added to existing generated text and user text in the image.
- the user text can change existing text, add and/or remove one or more text characters, insert an additional line of user text to be displayed alongside or in a different location than existing text, etc.
- the user can provide user input indicating the user text in a variety of ways as described above, e.g., via touchscreen, buttons, keyboard, voice input, motion input, etc.
- the method can receive input from the user also indicating one or more text attributes of the user text.
- a user interface can display font options, color options, text layout options, ornament/text-frame options, and/or placement options in the image for the user, e.g., corresponding to variations determined based on the user text, image characteristics, visual style modifications, etc.
- Some implementations can provide an option to generate text attributes in a random fashion, e.g., allowing user input to continue to select random variations until a desired variation is displayed.
- the method continues to block 324 , described below. If user text has been received, then the method continues to block 320 , in which the method adds the user text to the indicated displayed modified image (or to the original image), e.g., refines text to provide refined text in the image. For example, based on the input from the user, the user text replaces some or all of existing generated text in the displayed modified image with the received user text, or adds to the image in addition to existing generated text in the image.
- the method can remove the replaced generated text in the displayed modified image and add the newly received user text similarly as the generated text was added in block 308 .
- the user text is added to existing generated text.
- the text resulting in the image after adding the user text is considered refined text.
- generated text and/or other existing text in the image
- Refining can include replacement of at least a portion of generated text (and/or other previously-added text) by user text, and can include addition of the user text to the generated text (or to other previously-added text).
- visual modifications described herein as being based on the user text can be based on the refined text.
- the method can examine the semantic meaning of the user text and determine new text attributes and/or an image location for the user text (and any other remaining added text in the image) that are more in accordance with a meaning of the user's text. For example, the method can determine that input user text of “Romantic evening” is situated with particular types fonts, colors, and image locations that are previously associated with the word “romantic,” the word “evening,” and/or the phrase “romantic evening.” For example, the method can select an elegant-looking font, of a larger size than the current size, and in a different location in the image (the location is not changed if the user previously moved the user text manually to a desired location).
- the new text attributes can also or alternatively be based on image characteristics and/or a determined visual style modification for the image, as described previously.
- the method automatically creates and displays one or more additional modified images having different visual modifications that are based on the user text received in block 318 .
- One or more of the created modified images can be based also on the characteristics of the image similarly as described above for block 316 .
- each different visual modification is applied to the modified image output by block 316 , or can be applied to the original image, or can be applied a modified image resulting from block 308 or 312 .
- an image to which a visual modification is applied in block 322 can be restored to an earlier state (if needed) as described above before that visual modification is applied.
- one or more visual style modifications are applied to the image including the user text (or which will include the user text) to create the one or more additional modified images.
- the style modifications are based at least in part on the received user text.
- the method can retain the user text in all modified images created after receiving the user text (unless the user text is further changed by the user), such that additional modified images only differ in visual style modifications. For example, this can allow the method to maintain the user's desired text and also provides visual style modifications that are in accordance with user intent as to a relevant and important subject or description of the image as indicated by the user text.
- the text received from the user can be considered one or more characteristics of the image on which the visual style modification is based.
- the method can generate one or more characteristics for the image based on the user text (e.g., based on semantic meaning(s) of the user text).
- a visual style modification associated with one or more of these characteristics can then be applied to the image having the user text. For example, if the user provided the text “Summer Memories,” the method can select visual style modifications that provide a summer-like effect (e.g., lens flare, yellow tint) and/or can select style modifications that provide a visual effect associated with memories (e.g., in stored associations accessed by the method), such as a vintage, worn, and/or slightly blurry effect.
- a summer-like effect e.g., lens flare, yellow tint
- the particular types of the set of image characteristics used to determine a visual style modification can be based on (e.g., influenced by) the user text.
- the user text may indicate a new image content subject that was not previously detected, thus causing a different visual style modification to be used that is associated with the new image content subject.
- the determined visual style modification(s) to be applied can be based on the user text and also based on one or more image characteristics not indicated by the user text.
- a visual style modification can also be based on a set of image characteristics previously used to determine a visual style modification, e.g., in block 310 or 316 , or previously in block 322 .
- a visual style modification can also be based on a set of image characteristics different than a set of characteristics previously used in block 310 , 316 , or 322 .
- Some implementations can assign characteristics based on the user text to have greater importance or weight than any other characteristic of the image used in determining the visual style modification(s) in block 322 .
- the method then continues to block 324 .
- the user can be allowed to select a desired visual style modification for the image, instead of (or in addition to) inputting user text.
- a menu of style modification options can be presented to the user.
- the style options presented in the menu can be based on the characteristics and/or the text message.
- a user-selected visual style modification can be maintained in subsequently-created modified images similarly to user text, e.g., where generated text is varied and/or other visual style modifications are added to the user-selected style modification in the image.
- the method stores one or more modified images resulting from user selections received in the interface. For example, user selections may have created several modified images as described above. The method may have received user input selecting one or more of the modified images indicating the user has accepted the selected images as desired modifications to the image. The accepted modified images are stored in block 324 , e.g., in user image collections such as albums or other accessible storage.
- block 326 can be performed, in which the method stores learning data to storage.
- the learning data can be based on the user selections related to modified images as described above. For example, learning data can be used to train the method over time to provide modified images that are more pertinent to the user's preferences. For example, the method can learn over time that the user tends to prefer to describe particular types of content subjects in image text and tends to prefer that such text is associated with particular types of visual style modifications. This learning can be based on the history of user selections in the user interface and the modifications that were accepted by the user as desirable.
- Learning data can describe the number of modified images the user generally likes to display before stopping requests for additional modified images, the number times and the types of text and style modifications the user chooses to keep, the types of image modifications that best match particular text that the user has input, etc.
- the method can use learning data from multiple users and their selections to obtain a large amount of data recording selections over a broad base of users, to provide more robust training for general selections. For example, individual training for a particular user's preferences can be used, but if no particular user preferences are available for a certain image or for certain types of characteristics, then general user preferences in training data can be used to select generated text and visual style modifications, and to generate appropriate modified images.
- text and style modifications can be generated, added, and edited similarly as described above and applied to video data.
- each (or a portion) of one or more video frames can be treated as an image to which text and style modifications are added.
- the content depicted in video frames can vary over time, which may cause additional constraints on the text and style modifications.
- multiple frames of the video data can be examined to determine how long a particular area of the video display remains suitable for text placement, to determine whether to place text in that area and/or the amount of text to place in that area.
- an area of sky remains in the video view for a length of time over a predefined time threshold, then a greater amount of text can be positioned in that sky area (e.g., “Summer trip to Paris in 2014 with friends”), which, e.g., may take a longer time to read. If the sky area does not remain in view for long or is interrupted by camera movement, then a smaller amount of text (e.g., “Paris 2014”) taking a shorter amount of time to read can be placed in that area, and/or no text is placed in that area.
- a style modification may only be relevant to a portion of the video sequence having particular features or other characteristics to make the style modification visible.
- added text and/or style modifications can be changed over time in video frames of a video sequence.
- text can be faded in and out, displayed as portions of the entire text sequentially over time, interacted with 3D objects in the image (e.g., assuming 3D depth knowledge of the video scene).
- 3D estimation of a scene in the video data can use data from multiple frames in the video sequence.
- added text can be animated and/or otherwise moved to follow moving features in the video. For example, text that is positioned next to the mouth of a depicted face can be moved and/or rotated with the face as the person moves within the video view.
- the added text can be animated to be sized, compressed, stretched, or otherwise changed in conjunction with movement of features in the video and/or with a soundtrack accompanying the video.
- style modifications can be faded in and out, changed to different style modifications, or otherwise changed over time in various frames of the displayed video sequence.
- Various blocks and operations of methods 200 and 300 can be performed in a different order than shown and/or at least partially simultaneously, where appropriate. For example, some implementations can perform blocks of the methods at various times and/or based on events not related to a user editing an image. In some implementations, blocks or operations of methods 200 and 300 can occur multiple times, in a different order, and/or at different times in the methods. In some implementations, the methods 200 and/or 300 can be implemented, for example, on a server system 102 as shown in FIG. 1 . In some implementations, one or more client devices can perform one or more blocks instead of or in addition to a server system performing those blocks.
- FIG. 4 is a diagrammatic illustration of an example image 400 that can be processed by one or more features described herein.
- the image can be received from a variety of sources, such as memory, storage drive, or other storage associated with a particular user (e.g., on one or more client and/or server devices), and can be stored in a variety of formats, such as images in the user's photo albums, image frames in a movie or other video sequence, etc.
- the image 400 can be processed as described herein by a client or server device.
- the image 400 can be displayed on a display device, e.g., of a client device 120 , 122 , 124 , and/or 126 of FIG. 1 , or of a server system 102 in some implementations.
- the user can view the image 400 displayed by a display device in a graphical user interface provided by a client device or server device.
- the images described in this example are associated with (e.g., captured by and/or owned by) a particular user, e.g., stored on a particular user's device or user account of a network service or other system.
- a particular user e.g., stored on a particular user's device or user account of a network service or other system.
- this can allow personal preferences and data associated with that user to be used in automatically modifying images such as image 400 owned or controlled by that user.
- Other users can similarly have their own images stored for their own use.
- a user can view an image and have his or her associated data applied in the modification process.
- Other implementations can share images and/or user preferences with multiple users.
- a system can use another user's preferences or history of accepted modifications in determining modifications to the image of the user.
- Image 400 can be automatically processed by the system to detect one or more characteristics as described above with reference to FIGS. 2 and 3 .
- the user can instruct the system to process the image 400 .
- the system has detected content subject characteristics such as objects 402 and their types (e.g., building and cloud), as well as the type of the scene being a landscape scene based on detected ground and sky areas.
- the system also has determined condition characteristics based on data associated with the image, such as image metadata, including time and geographic location at which the image was captured, camera parameters (e.g., camera settings), event information at time of capture, etc.
- User data related to a user associated with the image has also been determined, e.g., social data for the user, etc.
- the image 400 can be automatically enhanced with generated text and/or visual style modifications based on the detected characteristics, as described herein.
- FIG. 5 is a diagrammatic illustration of an example user interface 500 that can make use of one or more features described herein.
- User interface 500 can be provided by a program, e.g., an image editing or image enhancement program running on a system implementing method 200 or 300 , and can be displayed by a display device of such a system, in some examples.
- the modified image can be displayed in the user interface 500 .
- a modified image 502 can be displayed in interface 500 , where image 502 is the result of image 400 being processed by one or more features described herein.
- image 502 includes generated text 504 , which in this example is “House and Clouds.” This generated text is a simple descriptive combination of recognized content subjects, which the system determined to be the most applicable based on the characteristics of the image.
- the system has displayed the generated text 504 in a location in the image determined to be suitable, e.g., in the sky and not obscuring any detected subjects of the image.
- the user can move the generated text 504 to a desired location in the image (e.g., using touch input on a touchscreen, or using some other input device), if the determined location is not desirable.
- image 502 includes a visual style modification 506 , which in this example is a small vignette, e.g., a darkening of the image near its borders and corners.
- This style modification was determined by the system to be appropriate to the image 400 based on its characteristics. For example, the outdoor scene in image 400 may have caused the system to assign a vignette style, from which landscape images can generally benefit visually.
- User interface 500 can also display controls which can be selected by the user (e.g., using a touchscreen or other input device) to access various functions provided by the user interface and its associated program.
- a text input button 510 can be selected by the user to provide an input field to allow the user to input his or her own user text.
- a shuffle button 512 can be selected by the user to cause a modified image to be displayed in place of image 502 with different text and/or image style, where the text and/or image style is randomized in this example. For example, in the current state of the user interface 500 , both the image text and image style are randomized for a modified image if button 512 is selected.
- a first button can be provided to randomize image text and present new text
- a different, second button can be provided to randomize image style and present a new visual style modification.
- Other implementations can display other types of controls (e.g., sliders, menus, etc.).
- Other interface implementations can also display controls that offer non-randomized modified images. For example, when such a control is selected, the system can modify the image 400 with the next text item and visual style modification in an internally-scored, ranked, and/or ordered list of modifications.
- FIG. 6 is a diagrammatic illustration of user interface 500 displaying a text input box 600 .
- the user has selected text input button 510 of interface 500 , and in response, the system displays text input box 600 .
- Input box 600 can be displayed over interface 500 , or can be displayed to the side of the interface 500 if the display area of the display device is sufficiently large.
- the user has input a desired user text 602 in the input box 600 .
- FIG. 7 is a diagrammatic illustration of user interface 500 displaying a new modified image 700 that is a modified variant of the original image 400 and modified image 502 .
- the system has received the user text 602 input by the user in text box 600 and has placed the user text 602 directly in the new modified image 700 as refined text 702 that has the same characters as the user text 602 (e.g., the system has generated a new modified image from image 400 that has the text message 702 ).
- the refined text 702 includes the user text and also is displayed in particular font, size, color, and other text attributes that the system has determined matches the user text 602 . For example, the system may have found that an italic font and larger size have a predefined association with the semantic meaning of the user text 602 , and presents the refined text 702 in the associated font and size.
- the system has automatically changed the visual style of the image to be more in accordance with the user text.
- the system has found that a larger, darker vignette modification is associated with the word “memories.”
- the system provides a stronger and larger vignette 704 around the borders of the new modified image.
- the stronger vignette may enhance an effect of the image portraying an old memory of the user.
- the system has found that a lens flare filter effect has been previously associated with the word “summer.”
- the system adds a lens flare style modification 706 to the new modified image 700 to simulate sunlight impinging on a camera lens of a camera capturing the image.
- the controls in interface 500 include the text input button 510 to allow the user to input new and different user text, if desired, that can override the previous user text 602 , e.g., modify and/or add to the previous user text 602 .
- the shuffle button 512 causes a new modified image to be created for the image 400 having randomly selected visual image modification(s) as described above.
- the randomized modified image can retain the refined text 702 since that text was input and intended by the user.
- the randomized modified image can have a randomized visual style modification that is determined by the system based at least in part on the refined text 702 (and/or based at least in part on the user text 602 ).
- Some implementations can allow the user to control image modifications to a greater degree than described above for FIGS. 5-7 .
- the user may be able to input keywords indicating a type of style modification that the user desires to be applied.
- the user may be able to select a desired style modification from a displayed menu.
- the system can create and display different modified images retaining the selected style modification.
- the system can create and display different modified images that provide style modifications that are variations of the user-selected style modification, e.g., having small color changes, brightness changes, etc. from the selected style modification.
- Some implementations can also or alternatively provide options in the user interface for a user to select and change particular text attributes for generated text and/or user text.
- FIGS. 8 and 9 are diagrammatic illustrations of example images, e.g., which can be displayed by a display device of a system used by a user, that have been processed according to one or more features described herein.
- FIG. 8 shows an example modified image 800 in which generated text has been inserted in the lower portion of the image.
- the generated text was determined by the system by taking the name of the associated user and appending a word “photography” to the name. In this example, no characteristics of the image were strong enough for the system to make a determination of more specific text, so generic text including user name and a generic descriptive word were selected as the generated text.
- a visual style modification is applied after the generated text is added.
- the style modification includes a vignette to darken the areas of the image near the borders and corners and a lens flare, which in this example are visual style modifications that were associated with an outdoor scene as recognized in the image by the system (e.g., by detecting the depicted trees). Since the generated text was added to the image first and then the style modifications were applied to the generated text along with the entire image, the generated text may appear more integrated with the image than if the text had been added to the image after the style modifications were applied.
- FIG. 9 shows an example modified image 900 in which text and style modifications have been made.
- the generated text “New Shoes!” is determined by the system based on the image content characteristics, including depicted shoes that have been recognized by the system, e.g., using object recognition techniques and/or analysis of user messages associated with the image. For example, the system can determine that the associated user has bought new shoes by examining user characteristics, such as social data in which the associated user sent a message to friends saying that new shoes had been bought (and/or by examining user financial purchase data, if such data is available). The system also may have examined condition characteristics such as the capture date of the image.
- the system may have assumed that these depicted shoes are the new shoes referenced in the social data.
- the system then creates the generated text, e.g., based on a text excerpt from social data.
- a visual style modification is then applied to the image, which includes a vignette filter to darken the areas of the image near the borders and corners, and a lens flare added on the left area.
- these style modifications were ones that the user previously preferred in other images based on a history of accepted style modifications that the system can access, and so the same or similar style modifications are applied to this image.
- FIG. 10 shows examples of generated text and/or user text that can be placed in an image as described herein, where each text example has one or more example text attributes.
- Text 1000 shows an example text attribute of a font that has been associated with the semantic meaning of the text. In this example, the text “wedding” has been associated with the font shown.
- other fonts can also be associated with this text and can be used in other generated text attribute variations in various modified images. A particular font can be randomly selected, selected by a user, etc. for each variation.
- Text 1002 shows an example text attribute of a text case, which in this example is all capital letters (uppercase characters). Other generated text cases can be all lowercase characters, mixed uppercase and lowercase characters, etc.
- Text 1004 shows an example text attribute of justification, where two lines of text are both fully-justified on left and right sides to align with straight vertical edges. Other variations can include left-aligned text, right aligned text, and center justified or center-aligned text. Sample 1004 also shows an example of different fonts on different text lines, with a non-bold font on the first text line and a bold font on the second text line.
- Text 1006 shows an example text attribute of orientation, where one of the words of the text has been rotated 90 degrees and spaced to the height of the other text. Other variations can rotate other words, characters, etc.
- Sample 1008 shows an example of a graphical ornament that can be associated with generated text or user text.
- the ornament can be positioned around or near text to embellish the text graphically.
- Particular ornaments can be associated with particular text words or semantic meanings (e.g., categories, etc.), with particular image characteristics, and/or with particular style modifications.
- heart ornaments can be associated with text and style modifications with a love theme
- wave ornaments can be associated with an ocean or lake content subjects depicted in the image, etc.
- some ornaments can be considered generic and can be associated and placed with any text.
- Sample 1010 shows an example of a text frame that can be placed around generated text or user text (to be distinguished from the image frame style modification described above).
- the text frame can be a border that is used to emphasize text, and can partially or completely surround text.
- Sample 1012 shows an example of a text bubble (e.g., a graphical ornament) that can be placed underneath text to emphasize the text, add a thematic context to the text, etc. Other types or shapes of graphical ornaments or text areas can be placed under text in other variations.
- Sample 1012 also shows an example of a particular word “happy” that has been more emphasized than the other words of the text by highlighting the word, e.g., placing a lighter background under the word.
- Text 1014 shows an example of text that includes portions of an image.
- the outlines of the text can act as a stencil such that portions of an image can be included within the text outlines.
- Some text can include image portions that are relevant to the semantic meaning of the text, e.g., depicted vehicles can be shown within the outlines of the word “car” as shown. The image portions can be obtained from other images, in some examples.
- Other text-outline effects can include different patterns within text outlines.
- Text 1016 shows an example of text that has been blended into the image, where the text is semi-transparent such that part of the image is displayed through the text. Other variations of text can have other levels of transparency.
- the text can be blurred or pixels of the image can be inverted within the outlines of the text characters.
- Some examples can use the text as a mask for creating a glow, shadow, or other effect around the text outline, e.g., where the text is visible through the outline effect.
- FIGS. 11A-11C show example modified images that include generated text with various text attributes similar to attributes described above with reference to FIG. 10 .
- Each of the examples can be further modified with style modification(s) that can modify the image and the placed text as described above.
- style modification(s) that can modify the image and the placed text as described above.
- the various lines of text and ornaments can be layered, e.g., vertically stacked on the image as different portions of rendered text.
- FIG. 11A shows an example image 1100 including generated text based on the time and location of image capture, e.g., determined based on location data, time data, and/or recognized features such as the depicted monument.
- the generated text includes multiple text lines having different fonts, in a fully justified (centered) layout in its text area. Some words have a larger size to fit within the left and right margins of a text area rectangle.
- the word “Schwerin” is sized smaller and is placed on a graphical ornament that fills its text line to the margins of the text area to emphasize the word.
- the date “2014” is placed on a different graphical ornament and is centered on its text line without ornaments or extensions to the left and right margins of the text area.
- FIG. 11B shows an example image 1102 including generated text based on location data and time data of the image.
- Some words are smaller sized and their text line includes horizontal line ornaments to fill the line (e.g., “trip to” and “2014”).
- these ornamented text lines are slightly rotated, e.g., are aligned along curved text paths. Other words are centered in a non justified layout.
- the text attributes of the text in FIG. 11B can be variations to the text attributes of the text in FIG. 11A , for example.
- FIG. 11C shows an example image 1104 including generated text based on location data and time data of the image.
- Words are varied in size to fit the left and right margins in a fully justified layout. Some words are smaller sized and their text line includes graphical ornaments (pointing hands) to fill the line (e.g., for the text line including the word “autumn”). Other words are larger sized to fit the left and right margins (e.g., “2014”). Various graphical ornaments are also added in lines above the word text and below the date text.
- the text attributes of the text in FIG. 11C can be variations to the text attributes of the text in FIGS. 11A and 11B , for example.
- FIG. 12 shows an example modified image 1200 in which text modifications have been made based on one or more features described herein.
- the system has estimated a 3D model of the depicted scene, e.g., based on depth data accompanying the image and/or based on analyzing the content of the image. For example, the system has determined one or more vanishing points in the image and determined estimated depths of various portions of the depicted buildings and street.
- the system generates text based on location data and time data associated with the image, and transforms the text to appear three dimensional in the image. For example, the system determines to transform the text to appear as if it is aligned with the buildings, e.g., appearing with similar vanishing points as those found in the image. Thus, text is placed as if it is parallel to or placed on the walls of the buildings, receding to a smaller size into the distance as shown in the image.
- FIG. 13 is a block diagram of an example device 1300 which may be used to implement one or more features described herein.
- device 1300 may be a computer device used to implement a server device, e.g., server device 104 of FIG. 1 , and perform appropriate method implementations described herein.
- Device 1300 can be any suitable computer system, server, or other electronic or hardware device.
- the device 1300 can be a mainframe computer, desktop computer, workstation, portable computer, or electronic device (portable device, cell phone, smart phone, tablet computer, television, TV set top box, personal digital assistant (PDA), media player, wearable device, game device, etc.).
- PDA personal digital assistant
- device 1300 includes a processor 1302 , a memory 1304 , and input/output (I/O) interface 1306 .
- I/O input/output
- Processor 1302 can be one or more processors or processing circuits to execute program code and control basic operations of the device 1300 .
- a “processor” includes any suitable hardware and/or software system, mechanism or component that processes data, signals or other information.
- a processor may include a system with a general-purpose central processing unit (CPU), multiple processing units, dedicated circuitry for achieving functionality, or other systems. Processing need not be limited to a particular geographic location, or have temporal limitations. For example, a processor may perform its functions in “real-time,” “offline,” in a “batch mode,” etc. Portions of processing may be performed at different times and at different locations, by different (or the same) processing systems.
- a computer may be any processor in communication with a memory.
- Memory 1304 is typically provided in device 1300 for access by the processor 1302 , and may be any suitable processor-readable storage medium, such as random access memory (RAM), read-only memory (ROM), Electrical Erasable Read-only Memory (EEPROM), Flash memory, etc., suitable for storing instructions for execution by the processor, and located separate from processor 1302 and/or integrated therewith.
- Memory 1304 can store software operating on the device 1300 by the processor 1302 , including an operating system 1308 and one or more applications 1310 such as an image editing and/or processing engine, web hosting engine, social networking engine, etc.
- the applications 1310 can include instructions that enable processor 1302 to perform the functions described herein, e.g., some or all of the methods of FIGS. 2-3 .
- applications 1310 can include one or more image editing applications 1312 , including an image editing program to receive user input, modify pixels of images (e.g., by applying one or more edit operations to apply visual modifications to an image), and provide output data causing display of the images on a display device of the device 1300 .
- An image editing program for example, can provide a displayed user interface responsive to user input to display selectable options/controls and images based on selected options.
- Other applications or engines 1314 can also or alternatively be included in applications 1310 , e.g., media display applications, communication applications, web hosting engine or application, social networking engine or application, etc. Any of software in memory 1304 can alternatively be stored on any other suitable storage location or computer-readable medium.
- memory 1304 can store images (original and modified), edit operation data, associations between text items and image characteristics, associations between visual style modifications and image characteristics, history of user selections of enhancements, event and calendar data related to a user, and other data used in the features described herein.
- Memory 1304 and any other type of storage can be considered “storage” or “storage devices.”
- I/O interface 1306 can provide functions to enable interfacing the device 1300 with other systems and devices. For example, network communication devices, storage devices such as memory and/or database 106 , and input/output devices can communicate via interface 1306 . In some implementations, the I/O interface can connect to interface devices such as input devices (keyboard, pointing device, touchscreen, microphone, camera, scanner, etc.) and output devices (display device, speaker devices, printer, motor, etc.).
- a display device 1320 is one example of an output device that can be used to display content, e.g., one or more images provided in an image editing interface or other output application as described herein. Display device 1320 can be connected to device 1300 via local connections (e.g., display bus) and/or via networked connections and can be any suitable display device, some examples of which are described below.
- FIG. 13 shows one block for each of processor 1302 , memory 1304 , I/O interface 1306 , and software blocks 1308 and 1310 . These blocks may represent one or more processors or processing circuitries, operating systems, memories, I/O interfaces, applications, and/or software modules. In other implementations, device 1300 may not have all of the components shown and/or may have other elements including other types of elements instead of, or in addition to, those shown herein. While system 102 is described as performing steps as described in some implementations herein, any suitable component or combination of components of system 102 or similar system, or any suitable processor or processors associated with such a system, may perform the steps described.
- a client device can also implement and/or be used with features described herein, such as client devices 120 - 126 shown in FIG. 1 .
- Example client devices can be computer devices including some similar components as the device 1300 , such as processor(s) 1302 , memory 1304 , and I/O interface 1306 .
- An operating system, software and applications suitable for the client device can be provided in memory and used by the processor, such as an image editing program, client communication application software, etc.
- the I/O interface for a client device can be connected to network communication devices, as well as to input and output devices such as a microphone for capturing sound, a camera for capturing images or video, audio speaker devices for outputting sound, a display device for outputting images or video, or other output devices.
- a display device 1320 can be connected to (or included in) the device 1300 to display the images, interfaces, and other data as described herein, where such device can include any suitable display device such as an LCD, LED, or plasma display screen, CRT, television, monitor, touchscreen, 3-D display screen, projector, or other visual display device.
- Some implementations can provide an audio output device, such as voice output or synthesis that speaks text and/or describes settings, notifications, and permissions.
- One or more methods described herein can be implemented by computer program instructions or code, which can be executed on a computer.
- the code can be implemented by one or more processors (e.g., microprocessors or other processing circuitry), and can be stored on a computer program product including a non-transitory computer readable medium (e.g., storage medium), e.g., a magnetic, optical, electromagnetic, or semiconductor storage medium, including semiconductor or solid state memory, magnetic tape, a removable computer diskette, a random access memory (RAM), a read-only memory (ROM), flash memory, a rigid magnetic disk, an optical disk, a solid-state memory drive, etc.
- a non-transitory computer readable medium e.g., storage medium
- a magnetic, optical, electromagnetic, or semiconductor storage medium including semiconductor or solid state memory, magnetic tape, a removable computer diskette, a random access memory (RAM), a read-only memory (ROM), flash memory, a rigid magnetic disk, an optical disk, a solid-state memory drive, etc.
- the program instructions can also be contained in, and provided as, an electronic signal, for example in the form of software as a service (SaaS) delivered from a server (e.g., a distributed system and/or a cloud computing system).
- SaaS software as a service
- a server e.g., a distributed system and/or a cloud computing system
- one or more methods can be implemented in hardware (logic gates, etc.), or in a combination of hardware and software.
- Example hardware can be programmable processors (e.g. Field-Programmable Gate Array (FPGA), Complex Programmable Logic Device), general purpose processors, graphics processors, Application Specific Integrated Circuits (ASICs), and the like.
- FPGA Field-Programmable Gate Array
- ASICs Application Specific Integrated Circuits
- One or more methods can be performed as part of or component of an application running on the system, or as an application or software running in conjunction with other applications and operating system.
- One or more methods described herein can be run in a standalone program that can be run on any type of computing device, a program run on a web browser, a mobile application (“app”) run on a mobile computing device (e.g., cell phone, smart phone, tablet computer, wearable device (wristwatch, armband, jewelry, headwear, goggles, glasses, etc.), laptop computer, etc.).
- a client/server architecture can be used, e.g., a mobile computing device (as a client device) sends user input data to a server device and receives from the server the final output data for output (e.g., for display).
- all computations can be performed within the mobile app (and/or other apps) on the mobile computing device.
- computations can be split between the mobile computing device and one or more server devices.
- users may be provided with an opportunity to control whether programs or features collect user information (e.g., images depicting the user, information about a user's social network, user characteristics (age, gender, profession, etc.), social actions or activities, a user's preferences, or a user's current location).
- user information e.g., images depicting the user, information about a user's social network, user characteristics (age, gender, profession, etc.), social actions or activities, a user's preferences, or a user's current location.
- certain data may be treated in one or more ways before it is stored or used, so that personally identifiable information is removed.
- a user's identity may be treated so that no personally identifiable information can be determined for the user, or a user's geographic location may be generalized where location information is obtained (such as to a city, ZIP code, or state level), so that a particular location of a user cannot be determined.
- location information such as to a city, ZIP code, or state level
- a user may have control over how information is collected about the user and used by a server.
- routines may be integrated or divided into different combinations of systems, devices, and functional blocks as would be known to those skilled in the art.
- Any suitable programming language and programming techniques may be used to implement the routines of particular implementations. Different programming techniques may be employed such as procedural or object-oriented.
- the routines may execute on a single processing device or multiple processors. Although the steps, operations, or computations may be presented in a specific order, the order may be changed in different particular implementations. In some implementations, multiple steps or blocks shown as sequential in this specification may be performed at the same time.
Abstract
Implementations can relate to providing computer-assisted text and visual styling for images. In some implementations, a computer-implemented method includes determining a set of characteristics of an image, and applying one or more first visual modifications to the image based on one or more of the set of characteristics of the image. The method can include receiving user input defining user text, providing the user text in the image, and applying one or more second visual modifications to the image based on the user text and based on at least one of the set of characteristics of the image.
Description
The present application claims priority to U.S. Provisional Application No. 62/018,390, filed Jun. 27, 2014 and titled AUTOMATIC SUGGESTIONS FOR TEXT AND VISUAL STYLING IN IMAGES, which is incorporated herein by reference in its entirety.
The popularity and convenience of digital cameras as well as the widespread of use of Internet communications have caused digital images to become ubiquitous. For example, digital images such as photographs are commonly captured by cameras included in mobile devices such as phones, tablet computers, wearable devices, camera devices, etc. Images are also often posted to various Internet sites, such as web pages, social networking services, etc. for users and others to view. A user commonly edits an image by viewing the image in an editing program and using tools of the editing program to manually select and adjust various characteristics of pixels of the image, such as color, brightness, contrast, saturation, clarity or blur, etc., and/or add desired text to the image.
Implementations relate to providing computer-assisted text and visual styling for images. In some implementations, a computer-implemented method includes determining a set of characteristics of an image, and applying one or more first visual modifications to the image based on one or more of the set of characteristics of the image. The method includes receiving user input defining user text, providing the user text in the image, and applying one or more second visual modifications to the image based on the user text and based on at least one of the set of characteristics of the image.
Various implementations and examples of the method are described. For example, applying one or more first visual modifications can include automatically generating text based on one or more characteristics of the set of characteristics and adding the generated text to the image. Providing the user text in the image can include refining the generated text with the user text to provide refined text in the image, where the generated text is different than the user text. For example, refining the generated text in the image with the user text can include replacing at least a portion of the generated text in the image with at least a portion of the user text. The one or more first and second visual modifications can include one or more visual style modifications for the image, and the one or more second visual modifications can be applied to the user text in the image.
Determining the set of characteristics of the image can include identifying characteristics. For example, the method can identify one or more image content characteristics that indicate one or more content subjects depicted in the image. For example, the content subject(s) can include one or more persons, moods of persons as indicated by one or more facial features of the persons, objects, landmarks, landscape features, and/or weather effects recognized and depicted in the image. The method can identify one or more condition characteristics based on data associated with the image, and which indicate one or more conditions associated with the image. The condition characteristic(s) can include a time at which the image was captured, a geographical location at which the image was captured indicated by location data, one or more events associated with a user associated with the image and indicated by calendar data, and/or one or more camera parameters of a camera that captured the image. The method can identify one or more user characteristics of one or more users associated with the image based on user data. For example, user characteristics can include one or more viewing or sharing activities associated with the image, and/or one or more activities associated with the image and associated with a social networking service.
The one or more visual style modifications can apply at least one edit operation to the image to provide one or more visual effects in the image, where the one or more visual effects can include a vintage effect, a lens flare effect, a vignette effect, a blur effect, and/or a frame effect. Generating text can include selecting the generated text from a list of predetermined text items associated with characteristic(s) on which the generated text is based. For example, the generated text can include a description of the characteristic(s), and/or descriptive information for a user associated with the image. Generating the text can include transforming the generated text to appear three-dimensionally within a scene depicted in the image. Generating the text can include modifying a portion of the image over which the generated text is to be placed, e.g., blurring, changing the color, etc. of the image portion. The method can further include providing display of a user interface responsive to second user input, and providing display of a plurality of modified images based on the image, where each modified image is based on at least one characteristic of the set of characteristics, and each modified image can include the user text and a different visual style modification.
In some implementations, a system to provide text and visual styling in images can include a storage device storing an image, and at least one processor operative to access the storage device. The at least one processor is configured to determine a set of characteristics of the image, generate text in the image based on one or more of the set of characteristics, provide the generated text in the image, determine a visual style modification based on at least one of the set of characteristics, and modify the image, including the generated text, to include the visual style modification.
In various implementations of the system, the processor can be further configured to receive user input defining user text, replace at least a portion of the generated text in the image with at least a portion of the user text; and apply one or more additional visual style modifications to the image. The one or more additional visual style modifications can be selected based on the user text and based on at least one of the characteristics. The processor can be further configured to determine and apply a color of the generated text based on color characteristics of at least one image feature depicted in the image. In some implementations, the processor can be further configured to, prior to applying the one or more additional visual style modifications, restore the image to a state prior to the modification of the image including the visual style modification.
In some implementations, a non-transitory computer readable medium having stored thereon instructions to provide visual modification to an image and, when executed by a processor, cause the processor to determine a set of characteristics of the image, receive user input defining user text, determine one or more visual modifications for the image based on the user text, and at least one of the set of characteristics, and modify one or more pixels of the image to apply the one or more visual modifications to the image. The one or more visual modifications can include adding the user text to the image.
In various implementations of the computer readable medium, the one or more visual modifications can include one or more visual style modifications applied to the image, where the one or more visual style modifications can modify the user text added to the image. The instructions can further cause the processor to provide generated text in the image, where the generated text can be based on one or more of the set of characteristics, adding the user text to the image can include replacing at least a portion of the generated text with at least a portion of the user text, and the one or more visual modifications can modify the image and the user text with one or more visual style modifications.
In some implementations, a device includes means for determining a set of characteristics of an image and means for applying one or more first visual modifications to the image based on one or more of the set of characteristics of the image. The device includes means for receiving user input defining user text, means for providing the user text in the image, and means for applying one or more second visual modifications to the image based on the user text and based on at least one of the set of characteristics of the image.
The means for applying one or more first visual modifications can include means for automatically generating text based on one or more characteristics of the set of characteristics and adding the generated text to the image. The means for providing the user text in the image can include means for refining the generated text with the user text to provide refined text in the image, where the generated text is different than the user text. For example, means for refining the generated text in the image with the user text can include means for replacing at least a portion of the generated text in the image with at least a portion of the user text. The one or more first and second visual modifications can include one or more visual style modifications for the image, and the one or more second visual modifications can be applied to the user text in the image.
The means for determining can include means for identifying characteristics. For example, the device can include means for identifying one or more image content characteristics that indicate one or more content subjects depicted in the image, e.g., based on pixel values of one or more pixels in the image. The content subject(s) can include one or more persons, moods of persons as indicated by one or more facial features of the persons, objects, landmarks, landscape features, and/or weather effects recognized and depicted in the image. The device can include means for identifying one or more condition characteristics based on data associated with the image, and which indicate one or more conditions associated with the image. The condition characteristic(s) can include a time at which the image was captured, a geographical location at which the image was captured indicated by location data, one or more events associated with a user associated with the image and indicated by calendar data, and/or one or more camera parameters of a camera that captured the image. The device can include means for identifying one or more user characteristics of one or more users associated with the image based on user data. For example, user characteristics can include one or more viewing or sharing activities associated with the image, and/or one or more activities associated with the image and associated with a social networking service.
The one or more visual style modifications can apply at least one edit operation to the image to provide one or more visual effects in the image, where the one or more visual effects can include a vintage effect, a lens flare effect, a vignette effect, a blur effect, and/or a frame effect. The means for generating text can include means for selecting the generated text from a list of predetermined text items associated with characteristic(s) on which the generated text is based. For example, the generated text can include a description of the characteristic(s), and/or descriptive information for a user associated with the image. The means for generating text can include means for transforming the generated text to appear three-dimensionally within a scene depicted in the image. The means for generating text can include means for modifying a portion of the image over which the generated text is to be placed. The device can further include means for providing display of a user interface responsive to second user input, and means for providing display of a plurality of modified images based on the image, where each modified image is based on at least one characteristic of the set of characteristics, and each modified image can include the user text and a different visual style modification.
One or more implementations described herein generally relate to providing computer-assisted text and visual styling for images. A method, device and/or system can provide modified versions of images having added text and/or added visual style modifications. For example, added text and visual style modifications can based on one or more determined characteristics of the image. Further, user text input by a user can be added to a modified image and visual style modifications can be based on the user text. For example, such features can automatically provide relevant and appropriate text and visual style modifications for images of a user without requiring extensive time and effort by the user to perform such modifications.
In various examples, a system can detect characteristics associated with the image such as image content subjects, conditions associated with the image, and user characteristics of a user associated with the image. For example, the characteristics can indicate image content subjects such as faces, persons, objects, landscapes, weather effects, and moods of persons (e.g., based on facial expressions, etc.) detected in the image. Image characteristics can also indicate conditions, e.g., time of image capture, geographical location of image capture, events based on calendar data, events determined based on identified objects and/or faces, viewing and/or sharing activities associated with the image, activities associated with the image on a social networking service, camera parameters, etc. Image characteristics can also indicate characteristics of an associated user based on social data, e.g., user comments, ratings, etc. Based on such characteristics, the system can generate text, e.g., a greeting, descriptive message, etc., and can add the text to the image. The system also can determine a visual style modification based on the characteristics, e.g., a vintage effect, lens flare effect, a vignette (e.g., fading dark border), drama effect, black and white effect, tinting, darkening, brightening, blurring, etc. The system can apply the visual style modification to the image as well as to the generated text to create a suggested modified image. For example, the style modification to the generated text can cause the text to appear as part of or integrated in the modified image. User interface features are also described. Some features allow a user to input desired user text that added to the image, e.g., adds to, or replaces all or part of generated text. Visual style modifications based on the user text can be applied to the image to create relevant visual styling. Some features allow the user to view multiple modified images, each modified image having different generated text and/or visual style modifications applied to the original image or other image derived from the original image.
Described features allow relevant and appropriate modifications, such as added text and visual styles, to be automatically generated for an image, e.g., as suggestions to allow a user to personalize an image. The text and/or visual style can be based on the depicted content and/or other characteristics of the image, allowing appropriate visual changes to be automatically applied to the image. The user can be saved time and effort in the creation and application of text and visual styles for images. For example, such savings can be significant if the user has a large number of images in their albums and other collections. Some implementations can also allow a user to customize the text and/or visual styles that are added to the image, providing greater control to the user without requiring user effort to originate text and visual style modifications. In consequence, less effort and resources are needed for a user to effectively edit an image. Thus, a technical effect of editing images as disclosed herein include a reduction in duration of editing images, thus saving time, energy, and system resources for achieving edits to images. For example, using described features, an image can obtain enhancements that would require many manual edit operations and use of system processing, memory, and other storage in previous editing programs. Another technical effect is a higher quality of modifications to images resulting from text and visual style suggestions that are appropriate to image content and other image characteristics.
An image, as referred to herein, can be a still image or standalone image, or can be an image in a series of images, e.g., a frame in a video sequence of frames. For example, implementations described herein can be used with a single image or with a series or video sequence of images. An edit operation (e.g., filter) can be an image processing operation or technique, e.g., modifying color, size, orientation, compression (which may not alter color), visible area (e.g., via cropping or other operation), or other image characteristics. In some examples, an edit operation performs a modification to one or more pixels of an image, causing a visual change in the image. For example, a visual modification, as referred to herein, changes the visual appearance of an image and updates one or more pixel values of one or more pixels of the image to adjust a visual characteristic of the image including brightness, contrast, dynamic range, and/or color (e.g., hue). Visual modifications can include changes or additions of text in an image and/or can include visual style modifications. Visual style modifications produce visual effects in an image that change pixel value characteristics in a non-textual way. For example, a visual style modification can use one or more edit operations to change the visual appearance of an image in a non-textual way, e.g., without changing or adding text characters appearing in the image. In some cases or implementations, a visual style can provide a particular non-textual visual form or manner in an image, expressing a particular tone, mood, tenor, character, etc. for the image. For example, darker visual style in an image may indicate a more serious or depressed tone in some contexts, while a “drama” visual effect style may indicate a more energetic tone.
For ease of illustration, FIG. 1 shows one block for server system 102, server device 104, and database 106, and shows four blocks for client devices 120, 122, 124, and 126. Server blocks 102, 104, and 106 may represent multiple systems, server devices, and network databases, and the blocks can be provided in different configurations than shown. For example, server system 102 can represent multiple server systems that can communicate with other server systems via the network 130. In some examples, database 106 and/or other storage devices can be provided in server system block(s) that are separate from server device 104 and can communicate with server device 104 and other server systems via network 130. Also, there may be any number of client devices. Each client device can be any type of electronic device, e.g., a desktop computer, laptop computer, portable or mobile device, cell phone, smart phone, tablet computer, television, TV set top box or entertainment device, wearable devices (e.g., display glasses or goggles, wristwatch, headset, armband, jewelry, etc.), personal digital assistant (PDA), media player, game device, etc. Some client devices may also have a local database similar to database 106 or other storage. In other implementations, network environment 100 may not have all of the components shown and/or may have other elements including other types of elements instead of, or in addition to, those described herein.
In various implementations, end-users U1, U2, U3, and U4 may communicate with server system 102 and/or each other using respective client devices 120, 122, 124, and 126. In some examples, users U1-U4 may interact with each other via applications running on respective client devices and/or server system 102, and/or via a network service, e.g., a social network service, photo collection service, or other type of network service, implemented on server system 102. For example, respective client devices 120, 122, 124, and 126 may communicate data to and from one or more server devices (e.g., server system 102). In some implementations, the server system 102 can provide appropriate data to the client devices such that each client device can receive communicated content or shared content uploaded to the server system 102 and/or network service. In some examples, users U1-U4 can interact via audio or video conferencing, audio, video, or text chat, or other communication modes or applications. A network service implemented by server system 102 can include a system allowing users to perform a variety of communications, form links and associations, upload and post shared content such as images, text, video, audio, and other types of content, and/or perform other socially-related functions. For example, users can view content such as images sent or streamed to their client devices originating from a different client device via a server and/or network service, or originating from a server system and/or network service. In some implementations, a “user” can include one or more programs or virtual entities, as well as persons that interface with the system or network.
A user interface can enable display of images, video, data, and other content as well as communications, privacy settings, notifications, and other data on a client device 120, 122, 124, and 126. Such an interface can be displayed using software on the client device, software on the server device, and/or a combination of client software and server software executing on the server device 104, e.g., application software or client software in communication with server system 102. The user interface can be displayed by a display device of a client device or server device, e.g., a display screen, projector, etc. In some implementations, application programs running on a server system can communicate with a client device to receive user input at the client device and to output data, e.g., visual data, audio data, etc. at the client device.
In some implementations, server system 102 and/or one or more client devices 120-126 can provide an image editing program. The image editing program may allow a system (e.g., client device or server system) to provide options for editing and displaying an image, some examples of which are described herein. The image editing program can provide an associated user interface that is displayed on a display device associated with the server system or client device. The user interface may provide various options to a user to select editing options, editing modes, display modes, etc.
Other implementations of features described herein can use any type of system and/or service. For example, photo collection services or other networked services (e.g., connected to the Internet) can be used instead of or in addition to a social networking service. Any type of electronic device can make use of features described herein. Some implementations can provide features described herein on client or server devices disconnected from or intermittently connected to computer networks. In some examples, a client device including or connected to a display device can examine and display images stored on storage devices local to the client device (e.g., not connected via a communication network) and can provide features and results as described herein that are viewable to a user.
In some implementations, method 200, or portions of the method, can be initiated based on user input. A user may, for example, have selected the initiation of the method 200 from an interface such as a user interface of an application program, a network service interface, or other interface. In other implementations, the method 200 can be initiated automatically by a system. For example, the method 200 (or portions thereof) can be initiated based on one or more particular events or conditions such as a user opening an application program, e.g., an image editing application program, receiving one or more images that have been newly uploaded to or accessible by the system, etc. In some implementations, such conditions can be specified by a user in custom preferences of the user. In some implementations, the method 200 or portions thereof can be performed with guidance by the user. For example, a user can designate a set of multiple input images to be input and processed by method 200. In one example, method 200 (or portions thereof) can be performed on a cell phone, camera, or other client device that has captured one or more images. In addition or alternatively, a client device can send images to a server over a network, and the server can process the images using method 200, or the server can receive images from a different source (a different server, etc.).
In block 202 of method 200, the method obtains or selects an image for processing. The image can be a digital image composed of multiple pixels, for example, and can be stored on one or more storage devices of the system performing method 200 or otherwise accessible to the system, e.g., a connected storage device, a local storage device, a storage device connected over a network, etc. For example, the image can be a photo captured by a camera, an image frame extracted from a captured video stream or other video data, or an image derived from a different source. In some implementations, a user can provide or designate one or more input images to process. In other implementations, the image can be obtained by being automatically selected by the method, e.g., as an image from an album or other collection of multiple images, such as an album provided in an account of a user of a system or network service. In some examples, the method can determine which image to obtain based on evaluating one or more characteristics of accessible images, such as the color and/or brightness distributions of images, timestamps and other metadata of images, and/or identified and recognized content subjects depicted in the images, such as persons, faces, or objects. The image can be displayed on a display device in some implementations of method 200, or can be processed without display or with intermittent display. For example, the image can be displayed by an image editing program or other program running on the system that can offer features described herein.
In block 204, the method determines (e.g., detects) a set of one or more characteristics of the image. For example, in some implementations the determined set of characteristics can include image content characteristics, condition characteristics, and/or user characteristics. Image content characteristics can indicate or be related to content subjects depicted in the image and can be based on pixel values of one or more pixels of the image. Condition characteristics can indicate or be related to one or more conditions associated with the image. In some implementations, the conditions can be present near in time or during a capture of the image. In some examples, condition characteristics can be based on data associated with the image. User characteristics can indicate or be related to one or more characteristics of a user associated with the image, e.g., an owner or provider of the image, as indicated by user data. Some examples of image characteristics are described below with reference to FIG. 3 .
In block 206, the method applies one or more visual modifications to the image based on at least one of the determined image characteristics. For example, the method can determine and apply the one or more visual modifications based on the at least one image characteristic. In some implementations, the visual modifications can include generated text provided in the image. For example, in some implementations the generated text can be derived from stored text data associated with one or more particular image characteristics or combinations of image characteristics. In various implementations, the generated text can be placed in the image by modifying image pixels, and/or can be one or more separate visual objects positioned in particular locations in the image and displayed over portions of the image.
The applied visual modifications can also or alternatively include one or more visual style modifications that change the visual appearance of the image, and which can be determined based on one or more of the determined image characteristics or a combination thereof. For example, a visual style modification can be a non-textual modification to one or more pixel values of one or more pixels of the image, e.g., changing colors, effects, or other visual characteristic of the image. In some cases where generated text is provided in the image as described above, the applied visual style modification can also modify the generated text. Some examples of text- and style-type visual modifications are described below with reference to FIG. 3 .
In block 208, the method may receive user input defining user text. For example, a user may have input text characters to an image editing interface or other interface using any of a variety of input devices.
In block 210, the method provides refined text in the image, where the refined text includes the user text. In some implementations, refined text can be considered text that has been refined based on user input. For example, in some cases the refined text can only include the user text that is added to the image, e.g., where the user text replaces all generated text in the image if such generated text is present in the image (e.g., from block 206). In some cases in which generated text is present in the image, the refined text can include the user text and can also include at least a portion of the generated text. For example, the user text may modify the generated text, e.g., replace at least a portion of the generated text with at least a portion of the user text, thereby providing refined text that includes the user text and remaining portion(s) of the generated text. In some cases, the user text can be added to generated text such that the refined text includes the user text and the generated text. In some implementations, block 210 can be considered to refine generated text in the image (if any) with the user text to provide refined text, e.g., replace and/or add to at least a portion of generated text with user text. Similarly to the generated text, refined text can be added to the image by modifying image pixels, and/or can be one or more separate visual objects positioned in particular locations in the image and displayed over portions of the image.
In block 212, the method applies one or more additional visual modifications, e.g., refined visual modifications, to the image based on the user text and based on at least one of the determined image characteristics. In some implementations, the refined visual modifications can be based on the refined text that includes the user text. In some examples, the refined visual modifications can include refined visual style modifications, which change image colors, brightnesses, or other visual characteristics. In some implementations, the modified image resulting from block 212 can be displayed or otherwise presented as a suggested or variation modified image with respect to the image obtained in block 202. Multiple modified images with different refined visual modifications can also be created and displayed. Examples of some implementations are described below with respect to FIG. 3 .
In block 302, the method obtains an original image similarly as described above for block 202 of FIG. 2 . In block 304, the method detects one or more image characteristics associated with the original image. For example, the characteristics can be image content characteristics, condition characteristics, and/or user characteristics.
Image content characteristics can indicate one or more types of image content subjects depicted in the original image. For example, one type of content subject can be faces depicted in the image. Another type of content subject can be persons depicted in the image (e.g., full or partial bodies of persons depicted). Another type of content subject can be objects in the image, including animals, vehicles, articles, devices, buildings, or other objects. Another type of content subject can be landscape features, which can include hills, mountains, lakes, rivers, sky regions, sky features (e.g., clouds, sun), trees, grass, roads, or other outdoor features. Another type of content subject can be weather effects, including stormy weather, sunny weather, rainy weather, windy weather, snowy weather, foggy weather, and other weather effects present in the scene depicted in the image. Another type of content subject can be an emotional tone of particular content subjects in the image. For example, the moods of one or more persons depicted in the image can be image content characteristics. These moods can include, for example, happy, sad, angry, thoughtful, solemn, depressed, etc.
Image content characteristics can be identified based on various image recognition techniques. For example, facial recognition, object recognition, and landmark or landscape recognition techniques can be used to detect these types of content subjects. In some implementations, various such recognition techniques can look for particular patterns, colors, markers, spatial distances between objects, color edges, etc., and/or compare detected image features to known patterns, image samples, etc. to recognize features. The moods of persons detected in the image can be detected using facial analysis techniques to determine the shape of mouth, state or shape of eyes, etc. of depicted persons. Colors, brightness, saturation, and image features of depicted outdoor areas can be examined to estimate a weather effect present in the image. For example, orange, pink, tones in the image may indicate a sunset weather effect, while grey tones may indicate stormy or rainy weather effect. In some cases, image content subjects can be detected as a general type of content subject (e.g. person, animal, object, etc.) without determining an identity of the particular subject depicted. In other cases, image content subjects have an identity that can be recognized and determined by the method, e.g., a name of a depicted person (e.g., in some cases a person's identity is determined only if permissions of that user allow such determination), the make, model, and/or owner of a vehicle, etc. For example, one or more databases, network services, and/or other information sources may be accessible allowing identities to matched to detected image content subjects (e.g., if user permission allows such identification).
Condition characteristics can indicate conditions associated with the image. For example, condition characteristics can be conditions associated with the capture or a modification of the image. For example, these can be conditions present near in time or during the image capture. In some implementations, data describing condition characteristics can be obtained from metadata that accompanies the image. For example, one type of condition characteristic can be the time (including year, day, hour, minute, etc.) that the image was captured, e.g., by a device including a camera.
Another type of condition characteristic can be location data indicating or describing the geographic location at which the image was captured. For example, this geographic location data may have been obtained by a Global Positioning System (GPS) component of the camera or other device capturing the image, and/or obtained by other sensor or location systems, for example. In some examples (e.g., where GPS location data is absent or unreliable), the geographical location of image capture can be estimated based on other data. For example, device-free localization techniques can be based on detected changes in peer-to-peer wireless signals, Wi-Fi networking signals, or other signals transmitted as a device is moved, where the changing of these signals can be measured and used to estimate device location. In some implementations, the location of image capture can be estimated to be on a vehicle (train, car, airplane, etc.), e.g., based rate and velocity of movement of the camera device as determined based on location signals, and/or based on examining image content (e.g., depicted airplane window), time gap between sensed locations of the camera device, etc.
Another type of condition characteristic can be events that were taking place at the time of, or in association with, the capture of the image and/or in association with a user who is associated with the image, e.g., a user who captured the image, or an “owner” of the image who is a user having control of the display of the image on a service (e.g., a social networking service or other network service). For example, event information may have been previously stored as metadata for the image, or can be accessed from storage devices during the processing of method 300. In some examples, event information can be obtained and identified from calendar data of the user, social data of the user, or other data accessible to the device checking for events, e.g., a camera or other device writing metadata that indicates a particular event occurring at the time of image capture. Events can be, for example, sporting events, music events, business-related events, a vacation or holiday, etc. In some implementations, the method can compare identified image content of the image (as determined above) with event information associated with that image to determine whether the image was captured at an event. For example, if the image includes persons or objects or is related to a location determined to be related to a particular sport (e.g., a type of ball or particular uniform or helmet on players is depicted in the image, a geographical location of a type of field or court at which the scene takes place is associated with the image, etc.), and a particular sporting event is indicated in the user's calendar as the event information occurring at the time of image capture, then the method can determine that the image was captured at the sporting event. In another example, the system can examine associated calendar information and geographical location data and determine that the image was captured while the user was on vacation at a particular geographic location. In some implementations, the method can consult online data sources (e.g., map services, event or activity websites) to identify events at particular times and/or locations.
Another type of condition characteristic can be parameters of the camera that captured the image. The camera parameters can include, for example, the make and model of the camera and lens information for lenses used by the camera, as well as particular values for camera settings used for the capture of the image, e.g., exposure level, zoom level, spatial orientation information indicating the spatial orientation of the camera in space at the time of image capture, aperture setting, shutter speed, focal length, etc. For example, EXIF data, ISO data, etc. for the image can be obtained. In some implementations, for example, ISO settings and/or other EXIF data can be used to assist determining whether the image was captured in an indoor, outdoor, cloudy, or sunny environment.
User characteristics can indicate characteristics of one or more users associated with the original image. For example, an associated user can be an owner of the image, e.g., a user that uploads the original image to a network service (e.g., an online photo collection service, a social networking service, etc.). In some implementations, an associated user can be a user associated with the camera that captured the image, and/or a user who last modified the original image. In some implementations, an associated user can be a user that is able to access and view the image. An associated user can be determined based on any of various sources including metadata of the original image, a user account of a network service or user registered to a device in which the original image was stored, etc. In some implementations, user characteristics can indicate characteristics of an associated owner or accessing user, and/or can indicate characteristics of one or more other types of associated users, e.g., users that are socially-linked with an associated owner user, users that are depicted in the image, etc.
In some implementations, user characteristics can be identified from received user data related to the associated user. For example, user data can include social data, e.g., data stored by a network service or other system describing social connections or social graph of the associated user of the image (e.g., user contacts, recipients of user messages, etc.). In some implementations, social data can be examined upon obtaining permission from the associated user. The social data can describe user activity made in social contexts, e.g., user input to network services, as well as views or downloads of messages, content, etc. received by the user. For example, user activity can include user comments, ratings, shares, and views of the original image used in method 300, other images of an associated user, and/or other user's images, and/or other types of content. In some examples, the social data can be obtained from a social networking service of which the associated user is a member. For example, the user characteristics can include one or more viewing or sharing activities associated with the image used in method 300, and/or one or more activities associated with the image and associated with a social networking service or other network service.
In some implementations, social data can be used to find out subjects or events of value to the user, e.g., based on postings or uploaded content provided by the user to a social networking service or other network service. In another example, user characteristics can include social relationships of the associated user to persons or other image content subjects depicted in the image. For example, a social graph included in obtained social data can be used to identify whether recognized and identified persons depicted in the image are close friends, work colleagues, etc., of the associated user. These social relationship user characteristics may be able to provide guidance as to text or style provided in the following blocks of method 300. For example, if the method determines that a close friend of the associated user is depicted in the original image, then text and/or visual style modifications associated with friendship can be accessed for consideration to be provided in or applied to the image as described below. In some implementations, user data can also include other data input by the user or describing the user, e.g., profile data, calendar data, etc.
Some implementations can determine three-dimensional (3D) information regarding content depicted in the image. For example, a 3D scene structure or 3D model for the image can be estimated to determine 3D positions of various image features. In some implementations, depth information, a depth map, or other 3D model information for the image may be available, e.g., as metadata provided by a camera having an ability to sense “depth” of objects or pixels in the image, where the depth is the distance of each captured object or pixel to the camera capturing the scene. For example, depth information can be generated using a 3D or stereo camera, structured light camera, time-of-flight camera, or other type of depth-sensing camera (using visible and/or non-visible light). Some implementations can estimate depth information of a depicted scene based on a system analyzing features depicted in the image. For example, known techniques can estimate a basic 3D structure in an image based on lines (e.g., edges), intersections of lines, planes, and/or vanishing points detected in and extracted from the image. Relative sizes of recognized objects can also be compared to estimate depth of various areas or pixels. Some implementations can use known 3D models (e.g., of faces) to estimate depths of particular pixels in features having a recognized type matching those models.
In block 306, the method determines generated text for the image based on a set of one or more of the image characteristics determined in block 304. Generated text can be automatically generated by the method, e.g., without human intervention. Generated text can include one or more text characters and/or other predefined symbols or ideograms (emoji, etc.).
In some implementations, the method can determine the generated text based on stored predefined associations of particular text items with particular image characteristics. For example, the method can examine and select one or more stored text items from a list of predetermined candidate text items associated with particular image characteristics, or combinations of the image characteristics, detected in block 304. The selected text item(s) can form the generated text message. A text item can be one or more text characters, messages, phrases, sentences, words, or other item of text. For example, the method can use a number of predefined relationships between types of characteristics and predetermined text items stored in available storage for access by the method.
In some examples, a particular type of image characteristic, or a particular combination of types of characteristics, can be associated with a particular stored text item. For example, if a combination of characteristics associated with (e.g., required by) a text item are present for the original image, then that text item can be selected for the image by block 306. In one example, a candidate text item providing a user's identified name (e.g., first name) can be associated with image characteristics including a face of that user recognized and identified in the image. In another example, a candidate text item that states “sunny memories” can be stored to be associated with a stored combination of characteristics that are required to be present in the image for the text item to be selected for the image. For example, the required combination of characteristics can include an image characteristic indicating a sunny weather effect depicted in the image, and an image characteristic indicating that the time at which the image was captured is sufficiently in the past (e.g., greater than a threshold time period in the past relative to the current time). In some implementations, that text item can also be associated with (and require) additional image characteristics in the combination of characteristics. For example, the text item can be associated with particular types of content characteristics, e.g., an outdoor landscape and persons depicted in the image (e.g., particular recognized persons having identities socially connected to the user as determined by social data from a social networking service or other network service). In one example, if all of these types of characteristics are present for the image, the “sunny memories” text item is selected (e.g., from a table or other stored data structure) for inclusion in the generated text. In another example or implementation, if any of these required types of characteristics are present in the image, or a predefined subset of required characteristics is present, the associated text item is selected for inclusion in the generated text.
Some implementations can find and select text items based on a semantic meaning of an image characteristic. For example, a label of “corvette” from an image recognition technique that recognized a content subject in the image can be analyzed for semantic meaning by the method. In some examples, the method can look in accessible dictionaries, thesaurus, databases, knowledge bases, etc. to find additional words of similar meanings as well as words describing various subject categories in which this label fits. For example, the method or an image recognition technique can determine that additional labels of “car” and “vehicle” also apply to the label. Text items that are associated with these additional labels can then be searched, evaluated and/or selected. In some implementations, one or more of the additional determined labels can be selected and included in the generated text.
In some implementations, stored text items can have scores with respect to the original image based on how suitable or qualified the text item is for addition to the original image. For example, the scores can be based on the number of characteristics in the original image that match characteristics associated with the stored text item. For example, the method (or associated method) can determine a score for each examined stored text item. In some examples, a score can be determined by checking for a number of matches between characteristics and/or types of characteristics present in the original image, and the characteristics and/or types of characteristics required by a stored text item. The greater the number of matches between image characteristics and the associated characteristics of a stored text item, the higher the score assigned to that stored text item. One or more stored text items having the most qualifying scores (e.g., a predetermined number of the highest scores) can be selected as text items for use with the original image. Other scoring criteria and/or selection criteria can also or alternatively be used for selecting text items. For example, different weights can be assigned to different characteristics or types of characteristics if a match exists, where a weight can influence the associated score based on the value of the weight. For example, a match for content subject type characteristics can be weighted higher, while a match between location characteristics can be weighted lower or a normal amount. Other weighting techniques can be used in other implementations.
In various examples, the generated text can include a standard greeting, e.g., a well-known saying or greeting. The generated text can include a greeting based on particular metadata, e.g., geographical location and calendar/event data. For example, the generated text can include a vacation greeting such as “Welcome to Spain” or a message such as “My vacation in Spain,” and can be determined based, at least in part, on location data indicating the location where the image was captured. Generated text can also include event-specific text, such as a text item that includes the title and/or geographic location of the event (e.g., “Art and wine festival, Springfield.”) In some cases the generated text can include a description of at least one of the detected characteristics of the image, e.g., a description of a content subject characteristic (person, animal, object, etc.) or a description of a condition characteristic (the time or year, location, event, etc.). In some implementations, text items can be obtained as recognized labels from one or more image recognition techniques applied to the original image, for example.
In some implementations, if no specific predetermined text items are found to be strongly associated with the original image (e.g., all available stored text items are below a threshold number of matches in characteristics, or have an indicator of weak association with the image), then a more generic text item can be selected as generated text that describes one or more image characteristics. For example, a generic text item can include text describing condition characteristics such as a geographic location of image capture, and a time, date, and/or year of image capture. A generic text item can include a name of a user associated with the image or a generic label associated with a recognized content subject depicted in the image. A combination of multiple of these generic text items can also be included in the generated text.
In some implementations, the method can examine data related to an associated user and/or other users to help determine the generated text. For example, posted content, comments, and other input from an associated user and/or other users socially connected to the user can be examined, based on obtained social data associated with the user. In one example, direct quotes from the associated user's own messages in a social networking service, other network service, or other online activity can be included in the generated text.
Some implementations can determine parts of generated text independently and separately, and then combine the parts together to form the complete generated text. For example, a sunny weather effect depicted in the image can indicate to the method to select a text item that is the word “sunny,” and an old capture date of the image can indicate to the method to select a text item that is the word “memories,” and these words can be combined to create the generated text “sunny memories.”
Block 306 (and/or other blocks of method 300) can also determine one or more text attributes of the generated text, such as font, color, size, layout (e.g., justification, positioning of letters relative to each other, how many lines of text to form, etc.), letter case, and/or other text attribute types. Text attributes can be determined from a variety of possible text attribute selections in each type of text attribute. For example, the text attributes can be based on stored user preferences or settings.
In some implementations, the method automatically selects text attributes that are predefined to be associated with particular text (e.g., particular words or semantic meaning/synonyms of the generated text), with determined image characteristics of the image, and/or with a particular visual style determined for the image (described below). For example, predefined associations of particular text attributes with text, image characteristics, and/or visual style modifications can be based on previous determinations (e.g., by one or more users or persons) that these associations are visually pleasing when displayed. In some examples, the method can examine a predefined table or other associative data structure that matches particular text attributes with particular text, image characteristics, and/or visual style modifications. In one example, a older-style cursive or script font can be a text attribute associated with particular recognized types of image content (e.g., old buildings, etc.), while a lively or chaotic font can be associated with image content including lots of faces, persons, or a city landscape. In other examples, a particular font can be associated with a particular visual style such as “vintage” (e.g., adding an old-fashioned or worn look for the image to simulate a look of an old photograph by changing color and brightness, adding image features such as scratches, etc.). A recognized image subject of two people kissing can be associated with a particular “love” text font and/or text style theme. A particular word in the text (e.g., “memories”) can be associated with a particular font, size, color, etc. (e.g., a classic or old-style font). Some implementations can group particular text attributes, e.g., fonts, text styles, or text layouts, with particular languages or scripts that are known to be visually suitable for use with those text attributes. For example, Arabic text may not be visually appealing in a block justified layout such that a justified layout attribute is not available to be selected and applied to generated Arabic text.
In some implementations, one or more text attributes can be based on one or more image characteristics. For example, a color of generated text and/or user text can be based on color characteristics of one or more image features depicted in the image. The image features can be a portion of the image on which the text is to be placed, or can be positioned elsewhere in the image and, e.g., provide a color scheme for image. In one example, if the text is to be placed on a sky landscape feature, the text can be assigned a color visually pleasing or contrasting with the sky color. The text can be assigned a color that is complementary, part of a triad of colors, and/or an analog color to a color of one or more image features. The text can be assigned a fill pattern, texture, or other visual effect similarly based on one or more visual characteristics. Other text attributes can be designated based on one or more image characteristics, e.g., font, size, layout, etc., based on any of the image characteristics described above. In another example, the method can determine to use a fully justified layout of the text based on recognizing straight edges in the image, such as walls, that are visually complementary with the straight margin edges of fully justified text.
In some implementations, multiple different types of a particular text attribute can be applied to the generated text. For example, multiple different fonts can be used, e.g., one font for one text line of words and/or characters of the generated text, and a different font for a different text line or characters of the generated text. Some implementations can access predefined stored groups of fonts that are known to be visually pleasing when appearing in conjunction in text, such that fonts for the generated text can be selected from the same predefined group. In some implementations, machine learning techniques (e.g., including training based on a set of training data indicating desirable pairings and combinations of fonts) can be used to train a system to automatically determine a visually complementary font to a designated input font. Similarly, combinations of multiple different selections of colors, sizes, and/or other text attributes can be used in the generated text, and such selections can be determined from one or more predefined groups indicating which of the attributes, and/or which of the selections of a particular attribute, are considered visually pleasing when used in combination. For example, multiple complementary colors, triad colors, and/or analog colors can be selected for the generated text.
The generated text can also or alternatively be partially or entirely rotated to various orientations for placement in the image, in some implementations. For example, entire words or phrases of the text can be rotated, and/or individual characters of the generated text can be rotated, including letters, numbers, etc. Graphical ornaments, frames, etc. can also be rotated. Some implementations can add visual effects to the generated text. For example, some added visual effects can cause the generated text to stand out or be more visible within the image. In some examples, a drop shadow, outline, border, or differently-colored backdrop can be generated behind and/or around the generated text to appear within the image. In other examples, text can be converted to outlines and filled with patterns, image portions, etc. Other visual effects added to text can include text embossing and text extrusion.
In block 308, the method provides the generated text in the image. For example, the method can add or superimpose the generated text on the image. In some examples, the method can change pixel values of the image to cause the appearance of the characters of the generated text in the image. In some implementations, the generated text can be added to the image as a separate layer or as a text object that is separable and independent from the image pixels, and which, for example, can be easily moved within the image or removed from the image if needed. In some examples, a separate text object including the generated text can be temporarily created and placed over the image, and after modifications to the original image have been finalized, the generated text can be added to image by changing the pixel values of the image. Some implementations can permanently store a text object separately and in association with the image over which it is displayed.
In some implementations, the location in the image at which the generated text is displayed can be determined by the method based on determined image content and/or other image characteristics. Some implementations can position the generated text at one of multiple possible standardized or predefined locations in the image, e.g., a predetermined distance from a corner, side, top, and/or bottom of the image.
In some implementations, the generated text can be positioned in the image to minimize obscuration of content subjects of the image. For example, the generated text can be placed so as to not cover faces, objects, or other prominent features, while in some implementations the text can be allowed to cover one or more types of features (e.g., landscape features such as sky, road, trees, etc.). Some implementations can examine the image for candidate areas of the image having particular types of features or areas known to be suitable for displaying text without obscuring prominent features of the image. For example, the method can examine the image for an area of clear sky (e.g., using image recognition techniques) that is sufficiently large to fit the generated text. In some implementations, the method can examine the image for candidate areas that have small levels of color noise (e.g., under a threshold amount of noise), and/or candidate areas that have a small amount of texture or structure (e.g., under a threshold amount of texture/structure such as patterns of surface detail (e.g., rough, corrugated, streaked, dappled, etc.) and/or areas of pixels having rapid color changes, color discontinuities, or edges). The generated text can be placed in areas of the image having lower amounts of noise and texture. The size of candidate image areas can also be examined. For example, larger candidate areas can allow the generated text to have a larger size while smaller candidate areas may require the generated text to be of a smaller size. In some implementations, one or more of these image characteristics can be individually scored based on its suitability for placement of generated text. For example, for some implementations or styles, a larger size of a candidate area can be associated with a better individual score than a smaller size. The individual scores of each candidate area can be combined to find a total score for each candidate area in the image, and the best (e.g., highest) total score can indicate the associated candidate area of the image in which to place the generated text.
In some implementations, the generated text can be placed on a generated text path in the image. For example, the text path can be generated based on one or more image features. In some examples, the text path can follow edges or borders of objects depicted in the image, e.g., such that the generated text flows along the side of a road or building, around a face, tree, or cloud, etc. In some implementations, the image feature that is used to guide the text path can be selected from multiple recognized features in the image. In some cases, the image feature used for the text path can be selected based on the semantic meaning of the generated text. In one example, if the generated text is “Summer in Paris” and a monument feature associated with Paris is recognized in the image (e.g., the Eiffel Tower), then the text path can be generated along an edge of the Eiffel Tower rather than along other recognized image features (such as persons' faces, landscape features, etc.).
Some implementations can generate a text area, such as a text box, in which the generated text is to be placed (e.g., this text area can be determined in block 306 in some implementations). Such a text area can be included in a particular layout selected for the generated text from multiple layout options, e.g., indicating a number of lines to split the text, justification and word positioning, emphasis, text rotation, ornaments, frames, etc. added to the text, etc. The generated text area can be sized and shaped to fit the generated text, and a suitable area that fits the generated text area can be searched for in the image. For example, the largest suitable area that fits the text box can be searched for in the image. In one example, a layout for the generated text can be determined, and the dimensions of the layout are determined based on suitable areas in the image to place the text layout (e.g., the layout can be maximized in size to fit in available areas).
In various implementations, the generated text can be provided as a single line of text, or can be provided as multiple lines of text. In some cases, the generated text can be randomly split into multiple lines of text. For example, the multiple lines of text can be fitted to a generated text area. In some cases, particular words of the generated text can be considered more important (e.g., proper names, specific nouns, verbs, etc.) and can be emphasized in the text area relative to other words, e.g., placed such that those words are the only word on their line of text. In some examples, important words can be obtained from user data, e.g., a user's social data (socially-linked users, names or words from user comments, messages, etc.) or condition data, e.g., visited location names, event names, etc. In some implementations, particular words of the generated text can be considered less important such that multiple of those words are placed on a single line of text. For example, generic words such as “trip,” “vacation,” “event,” etc. can be considered less important, as well as prepositions, linking words, etc. For example, the words “trip” and “to” can be placed on a single line of text. Some examples are shown with respect to FIGS. 11A-11C .
In some implementations, each word (or some words) in generated text and/or user text can be assigned an importance score based on these factors and other factors (e.g., frequency of appearance in user data, proper/specific name vs. generic word, etc.). For example, words can be positioned and/or emphasized in a generated text area based on their importance scores. In some examples, words having an importance score over a threshold score can be emphasized, and/or words having a better (e.g., higher) importance score than other words can be given priority in text lines, provided with more emphasis etc. In some examples, words can be emphasized by being placed singly on text lines, by being placed over particular backgrounds, ornaments, or blurs, by having borders such as text frames or ornaments, by being assigned a larger or more highlighted font (e.g., bold or italic letters, drop shadows, etc.).
Some implementations can modify a portion of the image, e.g., pixel values of the image, to create a suitable area in the image on or over which to place and display the generated text. For example, the method can blur an area of the image approximately equal to the size of the generated text, to provide a smoothed area allowing the generated text to be more visible. Some implementations can place a visible text area on the image having a color different than the color of the generated text to allow the generated text to be highlighted, e.g., a light color if the generated text has a darker color, or vice-versa. In some examples, an area of the image can be both blurred and darkened to emphasize light-colored text placed on the area. Some implementations can provide the generated text on a “thought bubble,” and/or can blend the generated text with the image in one or more ways (e.g., place portions of the image within large generated text character outlines, provide semi-transparent text characters allowing portions of the image to be seen through the text characters, etc.). In some implementations, additional graphics can be added to and associated with the generated text, such as ornaments, text frames, lines, etc. displayed relative to the generated text. Some examples are shown and described with respect to FIG. 10 .
In some implementations, the generated text can be placed in the image to appear as if it is three-dimensional (3D). For example, the text can be transformed to appear as if it has linear perspective within the scene of the image. In one example, one side or portion of the text can be made larger as if closer to viewer of the picture, while another side or other portion of the text can be made smaller as if further away from the viewer, with a gradual change provided from one size to the other. In another example, the generated text can be geometrically transformed to appear as if it is positioned on an estimated surface depicted in the image, e.g., wrapped around a 3D cylindrical curved surface. In implementations in which a 3D model of the image scene or 3D features of the image have been estimated (e.g., using associated depth information from a camera and/or using techniques for estimating 3D features in an image), the generated text can be placed to appear as if it is three-dimensionally aligned with 3D features depicted in the image. For example, the text can extend along or follow a road or a wall into the distance, appear to be on the side of a wall of a building, etc. One example of 3D text positioned based on an estimated 3D model of an image scene is described with reference to FIG. 12 . In additional examples, 3D text can be positioned along a curved surface, border, or outline of a 3D object, e.g., along a text path curving on the surface of an object like a banana, cylinder, etc.
In block 310, the method determines a visual style modification for the image based on a set of one or more of the determined characteristics. The set of characteristics used here may or may not be the same set of characteristics used to determine the generated text in blocks 306 and/or 308. A visual style can be any type of style that provides the image with a particular visual effect. The visual style modification can include the application of a particular filter, preset, or other edit operation, or a combination of multiple edit operations. In some examples, the visual style modification can be a “vintage” effect which provides an old-fashioned or worn look to the image to simulate the appearance of an old photograph, e.g., a tinted, sepia-toned, and/or scratched appearance to the image. For example, this style can be achieved by applying a particular set of edit operations to the image, e.g., a particular color filter that biases the colors of the pixels of the image to the desired color, a filter that randomly adds scratches and blurs to the image by altering pixel values, etc. In another example, the visual style modification can be a lens flare that adds light rings or streaks to the image to mimic a lens flare appearing in a photograph when sunlight impinges on a lens. In another example, the visual style modification can be light streaks and color shifts in portions of the image simulating overexposed portions of a photograph. Another visual style modification is a frame added to the borders of the image and having a particular visual design (e.g., with multiple frames to select from, each having particular colors, texture, symbols, patterns, etc.). Other examples of visual style modifications include applying a tone mapping filter or technique to the image, changing the structure (e.g., sharpening edges or textures appearing in the image) or clarity (blurriness) of the image, a shadow effect (e.g., adding or darkening shadows, etc.), changing brightness, contrast saturation, and/or color, a “drama” effect that enhances contrasts and edges to make these features stand out, a soft focus or other blur effect, a simulated bokeh effect (blur produced in out-of-focus parts of the image), etc.
In some implementations, one or more visual style modifications can be automatically determined by the method (without human intervention) for application to the image based on stored predefined associations of visual style modifications and one or more of the determined image characteristics. For example, one or more visual style modifications can be selected from a predetermined stored list of candidate style modifications based on matches between image characteristics of the image and characteristics associated with the candidate style modifications. In some examples, visual style modifications can be selected similarly to text items as described above for block 306, e.g., based on number of matching characteristics, including weighting of particular matches, etc. In some examples, a detected outdoor scene depicted in the image (e.g. based on detected landscape features such as sky, green grass, trees, etc.) can be associated with a vignette style modification to darken the borders of the image. In other examples, an outdoor scene can be associated with a color enhancement filter to make the colors brighter and more enhanced, e.g., less washed out (e.g., increased saturation). A detected indoor scene (e.g., based on detected darker shades, detected objects such as furniture, etc.) can be associated with a red-eye filter to be used on detected faces in the image. Text labels or words derived from recognizing image content subjects can be associated with particular style modifications, such as the word “cat” (derived from content subject characteristics) associated with a particular filter. Similarly, text or words derived from user comments or posts in social data from an associated user can be associated with style modifications, such as a word “bright” (from the user describing a location) associated with brightening or color-enhancing the image. Content characteristics can be associated with visual style modifications, such as an old capture date for the image (e.g., more than a time period threshold) associated with a “vintage” style modification (e.g., add sepia tones and scratches to image, or desaturate the image to provide a black and white/grayscale effect). In some implementations, the associations between image characteristics and visual style modifications can be customized or personalized for the user associated with the image, such that different associations are used for images of different users.
In some implementations, the determination of a visual style modification can also be influenced by other data, such as preference data indicating preferences of an associated user for particular style modifications. In some implementations, the method can examine history data indicating previous selections of an associated user of particular style modifications for particular image characteristics, e.g., indicating general preferences of the user.
In block 312, the method modifies the image and the text message with the visual style modification determined in block 310 to create a modified image. In some implementations, the generated text can be added to the image before the visual style modification is applied to the image, and the generated text can be modified along with the rest of the image by the visual style modification. For example, a brightness-changing style modification can be applied to the image pixels including the generated text. In some examples, modifying the generated text may provide a more pleasing appearance of the text in the modified image, since it may appear as if the text is more integrated in or part of the image and may avoid or reduce an appearance of text having been placed or superimposed on top of the image. In some implementations, the method can store the modified image in available storage, e.g., memory, and the modified image can be displayed to the user, e.g., in the interface described below.
In block 314, the method provides the modified image for display to a user, e.g., in a user interface allowing a display of modified images. For example, a modified image can be displayed as a modified image variation derived from the original image. A modified image can show visual modifications of text and/or visual style applied to the original image, or in some implementations, a modified image can show visual modifications applied to one or more images derived from the original image.
In some implementations, the image(s) and interface can be displayed on a display device of the system implementing method 300. For example, the user interface can display the modified image of block 312 as well as various controls that can be manipulated by the user to create variations of the original image and/or the modified image, e.g., other modified images having different text and/or different visual style modification(s). For example, the interface can include a graphical user interface, command line interface, etc. Some examples of user interfaces using one or more features herein are described below with reference to FIGS. 4-7 . In some implementations, the user can provide input in the interface to move the generated text to a desired location in the image if a default or automatically-determined location is not desirable, e.g., drag the generated text using a finger on a touchscreen or using a different input device (mouse, stylus, etc.). Some implementations can display the original image adjacent or near to the modified image so that the user can more easily view the differences in the original image and modified image. For example, in some implementations the modified image can be considered to be a suggested image for the user, e.g., showing and suggesting particular text and visual style modifications for the original image.
For example, input can be received from a user in the user interface, e.g., a selection by the user of an icon, command, menu item, graphical button, or other control of the interface. In various implementations, the input from the user can be provided as touch input on a touchscreen of a device used by the user, or can be input provided by the user using a different device, such as a mouse, trackball device, trackpad, joystick, etc. For example, a user-controlled cursor can be controlled to be positioned to select a desired control displayed in the user interface. In some implementations, the user input can take other forms, such as a voice or sound command input to a microphone of the system to select a function of the image editing program (e.g., recognized via voice recognition or sound command recognition), a visual command input to a camera or other visual sensor of the system and recognized by the system as a command (e.g., an eye-motion command, finger or hand gesture, etc.), or a motion command detected by motion sensors such as accelerometers and/or gyroscopes (e.g., moving or orienting a portable device in a predetermined manner to be recognized as a command by the system).
In block 316, the method may create and display one or more additional modified images based on user input. For example, block 316 may be performed if the user selects a control to display one or more modified images, e.g., variations of an image having different visual modifications. For example, if the user requests a modified image, in response, the method creates a modified image and, in various implementations, displays it in place of (or alongside) a previously-displayed modified image. Block 316 can create and display multiple modified images in response to appropriate user input commands. In some cases, a modified image can include different generated text than the generated text of one or more previous modified images. In one example, the method can repeat block 306 to create different modified images, where one or more (e.g., each) of the modified images has different generated text added to the original image based on at least one of the one or more characteristics of the original image. For example, in some implementations, the method can select the next text item in a list of text items found suitable for the image (e.g., candidate text items) as described above.
In some implementations, the method can select a different set of the characteristics (e.g., a different combination of the characteristics) than previously used to determine generated text in a previous modified image. Different generated text can be determined that is associated with (e.g., matches) the selected characteristic(s). In some implementations, one or more text attributes of the generated text can be varied in different modified images, e.g., where the same text characters can be used in one or more of the modified images, and/or different generated text characters. For example, different fonts, colors, sizes, or other text attributes can be provided for different modified image variations.
A modified image can also or alternatively include a different visual style modification than the style modification previously applied to the original image in block 312 (or previously applied to create a previous modified image in block 316). In one example, the method can repeat block 310 to create one or more modified images, where one or more (e.g., each) of the modified images has a different visual style modification for the original image based on a set of one or more characteristics of the original image. In some implementations, the method can select the next best (e.g., highest scoring) visual style modification that matches the set of characteristics of the image, e.g., from a list of candidate visual styles modifications as described above. In some example implementations, the method can select a different set of the characteristics (e.g., a different combination of the characteristics) than previously used to determine a visual style modification in a previous modified image. One or more different visual style modifications can be determined that are associated with (e.g., matches) the selected characteristic(s).
In various implementations or cases, the method can create a modified image with new generated text and/or new visual style modification(s) by modifying the original image as described above, or the method can modify a previous modified image, e.g., modify the most recent modified image to provide a new modified image. For example, each modified image can be created by applying one or more visual modifications to the original image obtained in block 302. In some implementations, the method can restore a modified image to its previous, original state which was prior to the modification performed in blocks 306 and 310, and then perform one or more visual modifications to create a modified image. The restoring can be implemented in different ways. For example, the method can retrieve a copy of the original image from storage where the copy had been stored before modification. In another example, the method can remove visual modifications that have been made in a modified image by changing pixel values back to their values in the original image.
Some implementations can create a modified image by applying one or more visual modifications to a modified image resulting from block 306 or to a modified image resulting from block 310. For example, a previous state of the image can be restored, e.g., by retrieving a copy of the image in the previous state from storage, or by removing previously-applied visual modifications by changing pixel values in the image to previous values, and then applying the visual modifications to the previous-state image. Some implementations can create a modified image by applying one or more visual modifications to a modified image resulting from previous application of one or more visual modifications by block 316.
In some implementations, a single modified image is displayed at one time by the display device (e.g., on a display screen). For example, the user can provide input selecting to display a new modified image, and the display of the new modified image replaces the display of a previously-displayed modified image. In some implementations, the user can select to display a number of different modified images simultaneously by the display device.
The method can present a variety of combinations of different generated text and different visual style modifications in the presented modified image variations. For example, a second modified image can include different generated text and the same style modification compared to a first modified image, and a third modified image can include the same generated text and a different style modification compared to the first modified image. In some implementations, the variations in generated text and and/or visual style modifications in different modified images can be randomly generated. For example, a set of suitable generated text items can be generated based on the characteristics of the image, and one of the text items in the set can be randomly selected and presented in one of the modified images. Similarly, a set of suitable visual style modifications can be generated based on a set of characteristics of the image, and one of the style modifications can be randomly selected and presented in one of the modified images.
In block 318, the method checks whether user text has been received from the user. For example, the interface can provide an option to the user to provide user input to the user interface to define user text to be added to a particular image (e.g., to the original image or to a modified image displayed in the interface). In one example, the user text can be indicated by the user to become the entire text in the image, e.g., to replace all existing generated text (and previously added user text) in the image. In another example, the user text can be indicated by the user to modify existing generated text in the image, e.g., replace one or more portions of generated text determined in block 306 (and/or previous user text) with at least a portion of the input user text. In another example, the user text can be indicated by the user to be added to existing generated text and user text in the image. For example, the user text can change existing text, add and/or remove one or more text characters, insert an additional line of user text to be displayed alongside or in a different location than existing text, etc. The user can provide user input indicating the user text in a variety of ways as described above, e.g., via touchscreen, buttons, keyboard, voice input, motion input, etc.
In some implementations, the method can receive input from the user also indicating one or more text attributes of the user text. For example, a user interface can display font options, color options, text layout options, ornament/text-frame options, and/or placement options in the image for the user, e.g., corresponding to variations determined based on the user text, image characteristics, visual style modifications, etc. Some implementations can provide an option to generate text attributes in a random fashion, e.g., allowing user input to continue to select random variations until a desired variation is displayed.
If user text has not been received in block 318, then the method continues to block 324, described below. If user text has been received, then the method continues to block 320, in which the method adds the user text to the indicated displayed modified image (or to the original image), e.g., refines text to provide refined text in the image. For example, based on the input from the user, the user text replaces some or all of existing generated text in the displayed modified image with the received user text, or adds to the image in addition to existing generated text in the image. In some examples, if the user text is to replace generated text or a portion of generated text (e.g., text added in block 308 or a previous iteration of block 320), the method can remove the replaced generated text in the displayed modified image and add the newly received user text similarly as the generated text was added in block 308. In another example, the user text is added to existing generated text.
In some implementations, the text resulting in the image after adding the user text is considered refined text. For example, generated text (and/or other existing text in the image) has been refined with user text intended by the user, e.g., to be more in accordance with the user's preferences or intent. Refining can include replacement of at least a portion of generated text (and/or other previously-added text) by user text, and can include addition of the user text to the generated text (or to other previously-added text). In some implementations, visual modifications described herein as being based on the user text can be based on the refined text.
In some implementations, the method can examine the semantic meaning of the user text and determine new text attributes and/or an image location for the user text (and any other remaining added text in the image) that are more in accordance with a meaning of the user's text. For example, the method can determine that input user text of “Romantic evening” is situated with particular types fonts, colors, and image locations that are previously associated with the word “romantic,” the word “evening,” and/or the phrase “romantic evening.” For example, the method can select an elegant-looking font, of a larger size than the current size, and in a different location in the image (the location is not changed if the user previously moved the user text manually to a desired location). In some implementations, the new text attributes can also or alternatively be based on image characteristics and/or a determined visual style modification for the image, as described previously.
In block 322, the method automatically creates and displays one or more additional modified images having different visual modifications that are based on the user text received in block 318. One or more of the created modified images can be based also on the characteristics of the image similarly as described above for block 316. In various implementations, each different visual modification is applied to the modified image output by block 316, or can be applied to the original image, or can be applied a modified image resulting from block 308 or 312. For example, an image to which a visual modification is applied in block 322 can be restored to an earlier state (if needed) as described above before that visual modification is applied.
In another example, after receiving user text and in response to the user selecting to view one or more additional modified images, one or more visual style modifications are applied to the image including the user text (or which will include the user text) to create the one or more additional modified images. The style modifications are based at least in part on the received user text. In some implementations, the method can retain the user text in all modified images created after receiving the user text (unless the user text is further changed by the user), such that additional modified images only differ in visual style modifications. For example, this can allow the method to maintain the user's desired text and also provides visual style modifications that are in accordance with user intent as to a relevant and important subject or description of the image as indicated by the user text.
In some implementations, the text received from the user can be considered one or more characteristics of the image on which the visual style modification is based. For example, the method can generate one or more characteristics for the image based on the user text (e.g., based on semantic meaning(s) of the user text). A visual style modification associated with one or more of these characteristics can then be applied to the image having the user text. For example, if the user provided the text “Summer Memories,” the method can select visual style modifications that provide a summer-like effect (e.g., lens flare, yellow tint) and/or can select style modifications that provide a visual effect associated with memories (e.g., in stored associations accessed by the method), such as a vintage, worn, and/or slightly blurry effect. In some implementations, the particular types of the set of image characteristics used to determine a visual style modification can be based on (e.g., influenced by) the user text. For example, the user text may indicate a new image content subject that was not previously detected, thus causing a different visual style modification to be used that is associated with the new image content subject.
The determined visual style modification(s) to be applied can be based on the user text and also based on one or more image characteristics not indicated by the user text. For example, a visual style modification can also be based on a set of image characteristics previously used to determine a visual style modification, e.g., in block 310 or 316, or previously in block 322. In other examples, a visual style modification can also be based on a set of image characteristics different than a set of characteristics previously used in block 310, 316, or 322. Some implementations can assign characteristics based on the user text to have greater importance or weight than any other characteristic of the image used in determining the visual style modification(s) in block 322. The method then continues to block 324.
In some implementations, the user can be allowed to select a desired visual style modification for the image, instead of (or in addition to) inputting user text. For example, a menu of style modification options can be presented to the user. In some implementations, the style options presented in the menu can be based on the characteristics and/or the text message. A user-selected visual style modification can be maintained in subsequently-created modified images similarly to user text, e.g., where generated text is varied and/or other visual style modifications are added to the user-selected style modification in the image.
In block 324, the method stores one or more modified images resulting from user selections received in the interface. For example, user selections may have created several modified images as described above. The method may have received user input selecting one or more of the modified images indicating the user has accepted the selected images as desired modifications to the image. The accepted modified images are stored in block 324, e.g., in user image collections such as albums or other accessible storage.
In some implementations block 326 can be performed, in which the method stores learning data to storage. The learning data can be based on the user selections related to modified images as described above. For example, learning data can be used to train the method over time to provide modified images that are more pertinent to the user's preferences. For example, the method can learn over time that the user tends to prefer to describe particular types of content subjects in image text and tends to prefer that such text is associated with particular types of visual style modifications. This learning can be based on the history of user selections in the user interface and the modifications that were accepted by the user as desirable. Learning data can describe the number of modified images the user generally likes to display before stopping requests for additional modified images, the number times and the types of text and style modifications the user chooses to keep, the types of image modifications that best match particular text that the user has input, etc. In some implementations, the method can use learning data from multiple users and their selections to obtain a large amount of data recording selections over a broad base of users, to provide more robust training for general selections. For example, individual training for a particular user's preferences can be used, but if no particular user preferences are available for a certain image or for certain types of characteristics, then general user preferences in training data can be used to select generated text and visual style modifications, and to generate appropriate modified images.
Some implementations can include variations of the implementations described above. For example, text and style modifications can be generated, added, and edited similarly as described above and applied to video data. In some examples, each (or a portion) of one or more video frames can be treated as an image to which text and style modifications are added. The content depicted in video frames can vary over time, which may cause additional constraints on the text and style modifications. For example, multiple frames of the video data can be examined to determine how long a particular area of the video display remains suitable for text placement, to determine whether to place text in that area and/or the amount of text to place in that area. In one example, if an area of sky remains in the video view for a length of time over a predefined time threshold, then a greater amount of text can be positioned in that sky area (e.g., “Summer trip to Paris in 2014 with friends”), which, e.g., may take a longer time to read. If the sky area does not remain in view for long or is interrupted by camera movement, then a smaller amount of text (e.g., “Paris 2014”) taking a shorter amount of time to read can be placed in that area, and/or no text is placed in that area. Similarly, a style modification may only be relevant to a portion of the video sequence having particular features or other characteristics to make the style modification visible.
In some implementations, added text and/or style modifications can be changed over time in video frames of a video sequence. For example, text can be faded in and out, displayed as portions of the entire text sequentially over time, interacted with 3D objects in the image (e.g., assuming 3D depth knowledge of the video scene). In some examples, 3D estimation of a scene in the video data can use data from multiple frames in the video sequence. In some implementations, added text can be animated and/or otherwise moved to follow moving features in the video. For example, text that is positioned next to the mouth of a depicted face can be moved and/or rotated with the face as the person moves within the video view. In some implementations, the added text can be animated to be sized, compressed, stretched, or otherwise changed in conjunction with movement of features in the video and/or with a soundtrack accompanying the video. Similarly, style modifications can be faded in and out, changed to different style modifications, or otherwise changed over time in various frames of the displayed video sequence.
Various blocks and operations of methods 200 and 300 can be performed in a different order than shown and/or at least partially simultaneously, where appropriate. For example, some implementations can perform blocks of the methods at various times and/or based on events not related to a user editing an image. In some implementations, blocks or operations of methods 200 and 300 can occur multiple times, in a different order, and/or at different times in the methods. In some implementations, the methods 200 and/or 300 can be implemented, for example, on a server system 102 as shown in FIG. 1 . In some implementations, one or more client devices can perform one or more blocks instead of or in addition to a server system performing those blocks.
In some implementations, the images described in this example are associated with (e.g., captured by and/or owned by) a particular user, e.g., stored on a particular user's device or user account of a network service or other system. For example, this can allow personal preferences and data associated with that user to be used in automatically modifying images such as image 400 owned or controlled by that user. Other users can similarly have their own images stored for their own use. In some implementations, a user can view an image and have his or her associated data applied in the modification process. Other implementations can share images and/or user preferences with multiple users. In one example, a system can use another user's preferences or history of accepted modifications in determining modifications to the image of the user.
After the image 400 has been processed and modified by the system, the modified image can be displayed in the user interface 500. For example, a modified image 502 can be displayed in interface 500, where image 502 is the result of image 400 being processed by one or more features described herein. In this example, image 502 includes generated text 504, which in this example is “House and Clouds.” This generated text is a simple descriptive combination of recognized content subjects, which the system determined to be the most applicable based on the characteristics of the image. The system has displayed the generated text 504 in a location in the image determined to be suitable, e.g., in the sky and not obscuring any detected subjects of the image. In some implementations, the user can move the generated text 504 to a desired location in the image (e.g., using touch input on a touchscreen, or using some other input device), if the determined location is not desirable.
In addition, image 502 includes a visual style modification 506, which in this example is a small vignette, e.g., a darkening of the image near its borders and corners. This style modification was determined by the system to be appropriate to the image 400 based on its characteristics. For example, the outdoor scene in image 400 may have caused the system to assign a vignette style, from which landscape images can generally benefit visually.
Furthermore, the system has automatically changed the visual style of the image to be more in accordance with the user text. In this example, the system has found that a larger, darker vignette modification is associated with the word “memories.” In response, the system provides a stronger and larger vignette 704 around the borders of the new modified image. For example, the stronger vignette may enhance an effect of the image portraying an old memory of the user. In addition, the system has found that a lens flare filter effect has been previously associated with the word “summer.” In response, the system adds a lens flare style modification 706 to the new modified image 700 to simulate sunlight impinging on a camera lens of a camera capturing the image.
The controls in interface 500 include the text input button 510 to allow the user to input new and different user text, if desired, that can override the previous user text 602, e.g., modify and/or add to the previous user text 602. The shuffle button 512 causes a new modified image to be created for the image 400 having randomly selected visual image modification(s) as described above. In some implementations, the randomized modified image can retain the refined text 702 since that text was input and intended by the user. The randomized modified image can have a randomized visual style modification that is determined by the system based at least in part on the refined text 702 (and/or based at least in part on the user text 602).
Some implementations can allow the user to control image modifications to a greater degree than described above for FIGS. 5-7 . In some examples, the user may be able to input keywords indicating a type of style modification that the user desires to be applied. The user may be able to select a desired style modification from a displayed menu. The system can create and display different modified images retaining the selected style modification. In some implementations, the system can create and display different modified images that provide style modifications that are variations of the user-selected style modification, e.g., having small color changes, brightness changes, etc. from the selected style modification. Some implementations can also or alternatively provide options in the user interface for a user to select and change particular text attributes for generated text and/or user text.
I/O interface 1306 can provide functions to enable interfacing the device 1300 with other systems and devices. For example, network communication devices, storage devices such as memory and/or database 106, and input/output devices can communicate via interface 1306. In some implementations, the I/O interface can connect to interface devices such as input devices (keyboard, pointing device, touchscreen, microphone, camera, scanner, etc.) and output devices (display device, speaker devices, printer, motor, etc.). A display device 1320 is one example of an output device that can be used to display content, e.g., one or more images provided in an image editing interface or other output application as described herein. Display device 1320 can be connected to device 1300 via local connections (e.g., display bus) and/or via networked connections and can be any suitable display device, some examples of which are described below.
For ease of illustration, FIG. 13 shows one block for each of processor 1302, memory 1304, I/O interface 1306, and software blocks 1308 and 1310. These blocks may represent one or more processors or processing circuitries, operating systems, memories, I/O interfaces, applications, and/or software modules. In other implementations, device 1300 may not have all of the components shown and/or may have other elements including other types of elements instead of, or in addition to, those shown herein. While system 102 is described as performing steps as described in some implementations herein, any suitable component or combination of components of system 102 or similar system, or any suitable processor or processors associated with such a system, may perform the steps described.
A client device can also implement and/or be used with features described herein, such as client devices 120-126 shown in FIG. 1 . Example client devices can be computer devices including some similar components as the device 1300, such as processor(s) 1302, memory 1304, and I/O interface 1306. An operating system, software and applications suitable for the client device can be provided in memory and used by the processor, such as an image editing program, client communication application software, etc. The I/O interface for a client device can be connected to network communication devices, as well as to input and output devices such as a microphone for capturing sound, a camera for capturing images or video, audio speaker devices for outputting sound, a display device for outputting images or video, or other output devices. A display device 1320, for example, can be connected to (or included in) the device 1300 to display the images, interfaces, and other data as described herein, where such device can include any suitable display device such as an LCD, LED, or plasma display screen, CRT, television, monitor, touchscreen, 3-D display screen, projector, or other visual display device. Some implementations can provide an audio output device, such as voice output or synthesis that speaks text and/or describes settings, notifications, and permissions.
One or more methods described herein (e.g., methods 200 and/or 300) can be implemented by computer program instructions or code, which can be executed on a computer. For example, the code can be implemented by one or more processors (e.g., microprocessors or other processing circuitry), and can be stored on a computer program product including a non-transitory computer readable medium (e.g., storage medium), e.g., a magnetic, optical, electromagnetic, or semiconductor storage medium, including semiconductor or solid state memory, magnetic tape, a removable computer diskette, a random access memory (RAM), a read-only memory (ROM), flash memory, a rigid magnetic disk, an optical disk, a solid-state memory drive, etc. The program instructions can also be contained in, and provided as, an electronic signal, for example in the form of software as a service (SaaS) delivered from a server (e.g., a distributed system and/or a cloud computing system). Alternatively, one or more methods can be implemented in hardware (logic gates, etc.), or in a combination of hardware and software. Example hardware can be programmable processors (e.g. Field-Programmable Gate Array (FPGA), Complex Programmable Logic Device), general purpose processors, graphics processors, Application Specific Integrated Circuits (ASICs), and the like. One or more methods can be performed as part of or component of an application running on the system, or as an application or software running in conjunction with other applications and operating system.
One or more methods described herein can be run in a standalone program that can be run on any type of computing device, a program run on a web browser, a mobile application (“app”) run on a mobile computing device (e.g., cell phone, smart phone, tablet computer, wearable device (wristwatch, armband, jewelry, headwear, goggles, glasses, etc.), laptop computer, etc.). In one example, a client/server architecture can be used, e.g., a mobile computing device (as a client device) sends user input data to a server device and receives from the server the final output data for output (e.g., for display). In another example, all computations can be performed within the mobile app (and/or other apps) on the mobile computing device. In another example, computations can be split between the mobile computing device and one or more server devices.
Although the description has been described with respect to particular implementations thereof, these particular implementations are merely illustrative, and not restrictive. Concepts illustrated in the examples may be applied to other examples and implementations.
In situations in which the systems discussed here may collect personal information about users (e.g., user data), or may make use of personal information, users may be provided with an opportunity to control whether programs or features collect user information (e.g., images depicting the user, information about a user's social network, user characteristics (age, gender, profession, etc.), social actions or activities, a user's preferences, or a user's current location). In addition, certain data may be treated in one or more ways before it is stored or used, so that personally identifiable information is removed. For example, a user's identity may be treated so that no personally identifiable information can be determined for the user, or a user's geographic location may be generalized where location information is obtained (such as to a city, ZIP code, or state level), so that a particular location of a user cannot be determined. Thus, a user may have control over how information is collected about the user and used by a server.
Note that the functional blocks, features, methods, devices, and systems described in the present disclosure may be integrated or divided into different combinations of systems, devices, and functional blocks as would be known to those skilled in the art. Any suitable programming language and programming techniques may be used to implement the routines of particular implementations. Different programming techniques may be employed such as procedural or object-oriented. The routines may execute on a single processing device or multiple processors. Although the steps, operations, or computations may be presented in a specific order, the order may be changed in different particular implementations. In some implementations, multiple steps or blocks shown as sequential in this specification may be performed at the same time.
Claims (20)
1. A computer-implemented method to provide visual modification to an image, the method comprising:
determining a set of characteristics of the image;
applying one or more first visual modifications to the image based on one or more characteristics of the set of characteristics of the image, wherein the applying comprises changing pixel values of a first plurality of pixels of the image;
receiving user input defining user text, wherein the user text has a semantic meaning that indicates image content that is not previously detected in the image;
adding the user text into the image as a second visual modification to the image, wherein adding the user text includes changing pixel values of a second plurality of pixels of the image; and
selecting and applying one or more third visual modifications to the image in response to receiving the user input defining the user text, wherein the one or more third visual modifications are selected based on a stored association with the image content indicated by the semantic meaning of the user text and based on a stored association with at least one characteristic of the set of characteristics of the image,
wherein the one or more third visual modifications include changing pixel values of one or more particular pixels of the image, wherein the one or more particular pixels include pixels different from the second plurality of pixels and pixels that are excluded from all text in the image after the one or more third visual modifications are applied,
wherein applying the one or more third visual modifications includes applying one or more edit operations to the image, wherein the one or more edit operations produce at least one of a vintage effect, a lens flare effect, a vignette effect, or a blur effect in the image.
2. The method of claim 1 wherein applying one or more first visual modifications includes:
detecting one or more content subjects depicted in the image; and
automatically generating generated text based on a semantic meaning of the one or more content subjects depicted in the image and adding the generated text to the image.
3. The method of claim 2 wherein generating the generated text includes transforming the generated text to appear three-dimensionally within a scene depicted in the image.
4. The method of claim 2 wherein automatically generating the generated text includes modifying a portion of the image on which the generated text is to be placed, wherein modifying a portion of the image includes blurring the portion of the image.
5. The method of claim 1 wherein the one or more first visual modifications and the one or more third visual modifications include one or more visual style modifications for the image, wherein the one or more first visual style modifications and the one or more third visual style modifications exclude adding new text to the image,
wherein applying the one or more third visual modifications includes applying the one or more third visual modifications to the user text added to the image.
6. The method of claim 5 wherein the one or more first visual style modifications apply at least one edit operation to the image to provide one or more visual effects in the image, wherein the one or more visual effects include at least one of: a vintage effect, a lens flare effect, a vignette effect, or a blur effect.
7. The method of claim 1 wherein determining the set of characteristics of the image includes identifying one or more image content characteristics that indicate one or more content subjects depicted in the image,
wherein the one or more content subjects include at least one of: one or more persons, one or more moods of persons as indicated by one or more facial features of the one or more persons, one or more objects, one or more landmarks, one or more landscape features, or one or more weather effects recognized and depicted in the image, and
wherein the one or more first visual modifications have a predefined association with the one or more characteristics of the set of characteristics,
wherein the one or more third visual modifications have a predefined association with the at least one characteristic of the set of characteristics, and wherein the one or more third visual modifications apply one or more edit operations to the image, wherein the one or more edit operations include at least one of: a sharpening operation, or a blur operation.
8. The method of claim 1 wherein determining the set of characteristics of the image includes identifying one or more condition characteristics that indicate one or more conditions associated with the image, wherein the condition characteristics are identified based on stored data associated with the image, and wherein the one or more condition characteristics include at least one of:
a time at which the image was captured,
a geographical location at which the image was captured indicated by location data, or
one or more camera parameters of a camera that captured the image,
wherein the one or more third visual modifications have a predefined association with the at least one characteristic of the set of characteristics, and wherein the one or more third visual modifications apply one or more edit operations to the image, wherein the one or more edit operations include at least one of: a sharpening operation, or a blur operation.
9. The method of claim 1 wherein applying one or more first visual modifications includes automatically generating generated text based on a plurality of characteristics of the set of characteristics and adding the generated text to the image,
wherein the plurality of characteristics include different types of characteristics including two or more of: a time of capture of the image, a location of capture of the image, a face content subject depicted in the image, or a landmark content subject depicted in the image, and
wherein automatically generating the generated text includes automatically selecting the generated text from a list of predetermined text items associated with a combination of multiple of the different types of the plurality of characteristics of the set of characteristics on which the generated text is based.
10. The method of claim 1 further comprising:
generating and causing display of a plurality of modified images based on the image, wherein each modified image includes a different modification for the one or more first third visual modifications based on a different characteristic of the set of characteristics of the image, such that a modification in a first modified image is based on image content, and a modification in a second modified image is based on one of a geographical location at which the image was captured indicated by location data, or a time of capture of the image, wherein each modified image includes the user text.
11. The method of claim 1 wherein the one or more third modifications modify an entirety of the image.
12. The method of claim 1 further comprising, before applying the one or more third modifications, presenting a menu of multiple different modification options based on the user text and based on at least one of the one or more characteristics, wherein each of the different modification options is associated with a different set of edit operations configured to change pixels of the image; and
receiving user input selecting a particular modification option of the multiple different modification options, wherein the one or more third modifications are applied to the image based on the particular modification option.
13. The method of claim 1 wherein the stored association between the one or more third visual modifications and the image content indicated by the semantic meaning of the user text is customized for a user associated with the image.
14. A system to provide text and visual styling in images, the system comprising:
a storage device that stores an image; and
at least one processor coupled to the storage device and configured to perform operations comprising:
determining a set of characteristics of the image;
applying one or more first visual modifications to the image based on one or more characteristics of the set of characteristics of the image, wherein the applying comprises changing pixel values of a first plurality of pixels of the image;
receiving user input defining user text;
adding the user text in the image as a second visual modification to the image, wherein adding the user text includes changing pixel values of a second plurality of pixels of the image;
presenting a menu of multiple different modification options based on the user text and based on at least one of the one or more characteristics, wherein each of the different modification options is associated with a different set of edit operations configured to change pixels of the image;
receiving user input selecting a particular modification option of the multiple different modification options; and
applying one or more third visual modifications to the image that are based on the particular modification option,
wherein the one or more third visual modifications include changing pixel values of one or more pixels of the image, wherein the one or more third visual modifications apply one or more edit operations to the image.
15. The system of claim 14 wherein the at least one processor is further configured to perform operations comprising:
obtaining a semantic meaning of the user text; and
determining one or more visual text attributes associated with the semantic meaning of the user text, wherein the one or more visual text attributes characterize a visual appearance of text; and
modifying the user text to provide modified user text that has the one or more visual text attributes,
wherein adding the user text in the image includes adding the modified user text to the image.
16. The system of claim 14 wherein the one or more third visual modifications apply at least one edit operation to the image to provide one or more visual effects in the image, wherein the one or more visual effects include at least one of: a vintage effect, a lens flare effect, a vignette effect, or a blur effect.
17. The system of claim 14 wherein the operation of applying the one or more first visual modifications includes automatically generating generated text based on the one or more characteristics, wherein at least a portion of the generated text in the image is replaced with at least a portion of the user text, and wherein the one or more third visual modifications exclude adding new text to the image.
18. The system of claim 14 wherein the one or more edit operations include at least one of: a sharpening operation, or a blur operation.
19. A non-transitory computer readable medium having stored thereon instructions to provide visual modification to an image and, when executed by a processor, cause the processor to:
determine a set of characteristics of the image;
apply one or more first visual modifications to the image based on one or more characteristics of the set of characteristics of the image, wherein the applying comprises changing pixel values of a first plurality of pixels of the image;
receive user input defining user text, wherein the user text has a semantic meaning that indicates image content that is not previously detected in the image;
add the user text in the image as a second visual modification to the image, wherein adding the user text includes changing pixel values of a second plurality of pixels of the image; and
select and apply one or more third visual modifications to the image in response to receiving the user input defining the user text, wherein the one or more third visual modifications are selected based on a stored association with the image content indicated by the semantic meaning of the user text and based on a stored association with at least one characteristic of the set of characteristics of the image, wherein the one or more third visual modifications exclude adding new text to the image and include changing pixel values of one or more particular pixels of the image, wherein the one or more particular pixels include pixels different from the second plurality of pixels and pixels that are excluded from all text in the image after the one or more third visual modifications are applied,
wherein the one or more third visual modifications apply one or more edit operations to the image, wherein the one or more edit operations produce one or more visual effects in the image, wherein the one or more visual effects include at least one of: a vintage effect, a lens flare effect, a vignette effect, or a blur effect.
20. The non-transitory computer readable medium of claim 19 further comprising, before applying the one or more third modifications, presenting a menu of multiple different modification options based on the user text and based on at least one of the one or more characteristics, wherein each of the different modification options is associated with a different set of edit operations configured to change pixels of the image; and
receiving user input selecting a particular modification option of the multiple different modification options, wherein the one or more third modifications are applied to the image based on the particular modification option.
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US14/752,658 US10049477B1 (en) | 2014-06-27 | 2015-06-26 | Computer-assisted text and visual styling for images |
Applications Claiming Priority (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US201462018390P | 2014-06-27 | 2014-06-27 | |
US14/752,658 US10049477B1 (en) | 2014-06-27 | 2015-06-26 | Computer-assisted text and visual styling for images |
Publications (1)
Publication Number | Publication Date |
---|---|
US10049477B1 true US10049477B1 (en) | 2018-08-14 |
Family
ID=63078882
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US14/752,658 Active US10049477B1 (en) | 2014-06-27 | 2015-06-26 | Computer-assisted text and visual styling for images |
Country Status (1)
Country | Link |
---|---|
US (1) | US10049477B1 (en) |
Cited By (27)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US10223341B1 (en) * | 2017-09-01 | 2019-03-05 | Adobe Inc. | Document beautification using smart feature suggestions based on textual analysis |
US10325382B2 (en) * | 2016-09-28 | 2019-06-18 | Intel Corporation | Automatic modification of image parts based on contextual information |
US20200134929A1 (en) * | 2018-10-31 | 2020-04-30 | Sony Interactive Entertainment Inc. | Graphical style modification for video games using machine learning |
WO2020171425A1 (en) * | 2019-02-18 | 2020-08-27 | Samsung Electronics Co., Ltd. | System and method for providing weather effect in image |
US10854109B2 (en) | 2018-10-31 | 2020-12-01 | Sony Interactive Entertainment Inc. | Color accommodation for on-demand accessibility |
US10964024B2 (en) * | 2019-06-26 | 2021-03-30 | Adobe Inc. | Automatic sizing and placement of text within a digital image |
US10963597B2 (en) * | 2017-07-14 | 2021-03-30 | Beihang University | Method and apparatus for adaptively constructing three-dimensional indoor scenario |
US11012662B1 (en) * | 2020-03-24 | 2021-05-18 | International Business Machines Corporation | Multimedia content adjustment using comparable content |
US11126922B2 (en) | 2015-07-29 | 2021-09-21 | Adobe Inc. | Extracting live camera colors for application to a digital design |
US20210306451A1 (en) * | 2020-03-30 | 2021-09-30 | Snap Inc. | Avatar recommendation and reply |
US11170546B2 (en) * | 2018-09-28 | 2021-11-09 | Fujifilm Corporation | Image processing apparatus, image processing method, and image processing program |
US11270485B2 (en) * | 2019-07-22 | 2022-03-08 | Adobe Inc. | Automatic positioning of textual content within digital images |
US11295494B2 (en) * | 2019-06-26 | 2022-04-05 | Adobe Inc. | Image modification styles learned from a limited set of modified images |
US11295495B2 (en) | 2019-10-14 | 2022-04-05 | Adobe Inc. | Automatic positioning of textual content within digital images |
US11302040B2 (en) | 2019-06-24 | 2022-04-12 | Samsung Electronics Co., Ltd. | System and method for providing weather effect in image |
US11375293B2 (en) | 2018-10-31 | 2022-06-28 | Sony Interactive Entertainment Inc. | Textual annotation of acoustic effects |
US20220237396A1 (en) * | 2021-01-26 | 2022-07-28 | Nec Corporation Of America | Invisible coated infrared patterns |
US20220415244A1 (en) * | 2020-02-27 | 2022-12-29 | Atmoph Inc. | Image display device, system and method |
US11556694B1 (en) * | 2021-11-09 | 2023-01-17 | Lenovo (Singapore) Pte. Ltd. | Predictive aspect formatting |
US11599598B2 (en) * | 2019-06-19 | 2023-03-07 | Canon Kabushiki Kaisha | System and method for recommending challenges |
US11599263B2 (en) * | 2017-05-18 | 2023-03-07 | Sony Group Corporation | Information processing device, method, and program for generating a proxy image from a proxy file representing a moving image |
US11615233B2 (en) * | 2017-11-13 | 2023-03-28 | Wetransfer B.V. | Semantic slide autolayouts |
US11625873B2 (en) * | 2020-03-30 | 2023-04-11 | Snap Inc. | Personalized media overlay recommendation |
US11636673B2 (en) | 2018-10-31 | 2023-04-25 | Sony Interactive Entertainment Inc. | Scene annotation using machine learning |
US20230343038A1 (en) * | 2022-04-25 | 2023-10-26 | Lemon Inc. | Method and system for creating augmented reality filters on mobile devices |
US11893668B2 (en) | 2021-03-31 | 2024-02-06 | Leica Camera Ag | Imaging system and method for generating a final digital image via applying a profile to image information |
US11941227B2 (en) | 2021-06-30 | 2024-03-26 | Snap Inc. | Hybrid search system for customizable media |
Citations (36)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
EP1710717A1 (en) | 2004-01-29 | 2006-10-11 | Zeta Bridge Corporation | Information search system, information search method, information search device, information search program, image recognition device, image recognition method, image recognition program, and sales system |
JP2006277169A (en) | 2005-03-29 | 2006-10-12 | Seiko Epson Corp | Management for image data |
US20070070217A1 (en) | 2005-09-28 | 2007-03-29 | Fuji Photo Film Co., Ltd. | Image analysis apparatus and image analysis program storage medium |
EP1816575A1 (en) | 2006-02-01 | 2007-08-08 | Sony Corporation | System, apparatus, method, program and recording medium for processing image |
JP2007334712A (en) | 2006-06-16 | 2007-12-27 | Yafoo Japan Corp | Photograph registration system |
US20080021928A1 (en) | 2006-07-24 | 2008-01-24 | Yagnik Jay N | Method and apparatus for automatically annotating images |
US20080114778A1 (en) | 2006-06-30 | 2008-05-15 | Hilliard Bruce Siegel | System and method for generating a display of tags |
US20080195657A1 (en) * | 2007-02-08 | 2008-08-14 | Yahoo! Inc. | Context-based community-driven suggestions for media annotation |
JP2008269411A (en) | 2007-04-23 | 2008-11-06 | Olympus Corp | Image keyword editing system, image keyword provision server and image keyword editing device |
US20090074261A1 (en) | 2004-03-16 | 2009-03-19 | Haupt Gordon T | Interactive system for recognition analysis of multiple streams of video |
US20090324137A1 (en) | 2008-06-30 | 2009-12-31 | Verizon Data Services Llc | Digital image tagging apparatuses, systems, and methods |
US20100050090A1 (en) * | 2006-09-14 | 2010-02-25 | Freezecrowd, Inc. | System and method for facilitating online social networking |
US20100077003A1 (en) | 2007-06-14 | 2010-03-25 | Satoshi Kondo | Image recognition device and image recognition method |
US20100103277A1 (en) | 2006-09-14 | 2010-04-29 | Eric Leebow | Tagging camera |
US20100277611A1 (en) | 2009-05-01 | 2010-11-04 | Adam Holt | Automatic content tagging, such as tagging digital images via a wireless cellular network using metadata and facial recognition |
US20100302594A1 (en) * | 2009-06-01 | 2010-12-02 | Xerox Corporation | Real-time image personalization |
WO2011017653A1 (en) | 2009-08-07 | 2011-02-10 | Google Inc. | Facial recognition with social network aiding |
US20110047517A1 (en) | 2009-08-21 | 2011-02-24 | Samsung Electronics Co., Ltd. | Metadata tagging system, image searching method and device, and method for tagging a gesture thereof |
WO2011065236A1 (en) | 2009-11-25 | 2011-06-03 | Kddi株式会社 | Secondary content provision system and method |
US20110195388A1 (en) | 2009-11-10 | 2011-08-11 | William Henshall | Dynamic audio playback of soundtracks for electronic visual works |
US8073850B1 (en) | 2007-01-19 | 2011-12-06 | Wordnetworks, Inc. | Selecting key phrases for serving contextually relevant content |
US20110320560A1 (en) | 2010-06-29 | 2011-12-29 | Microsoft Corporation | Content authoring and propagation at various fidelities |
US20120013640A1 (en) * | 2010-07-15 | 2012-01-19 | Academia Sinica | Graphical representation of events |
US20120086792A1 (en) | 2010-10-11 | 2012-04-12 | Microsoft Corporation | Image identification and sharing on mobile devices |
US20120092528A1 (en) * | 2010-10-13 | 2012-04-19 | Pantech Co., Ltd. | User equipment and method for providing augmented reality (ar) service |
US8171016B2 (en) | 2005-11-21 | 2012-05-01 | Koninklijke Philips Electronics N.V. | System and method for using content features and metadata of digital images to find related audio accompaniment |
US20120269436A1 (en) | 2011-04-20 | 2012-10-25 | Xerox Corporation | Learning structured prediction models for interactive image labeling |
US20120323930A1 (en) | 2011-06-20 | 2012-12-20 | Google Inc. | Text suggestions for images |
JP2013069185A (en) | 2011-09-26 | 2013-04-18 | Dainippon Printing Co Ltd | Text input support system, text insertion method, server and program |
US20130262536A1 (en) | 2012-03-30 | 2013-10-03 | Intel Corporation | Techniques for intelligent media show across multiple devices |
US8558921B2 (en) | 2002-12-18 | 2013-10-15 | Walker Digital, Llc | Systems and methods for suggesting meta-information to a camera user |
US20130300748A1 (en) * | 2011-11-08 | 2013-11-14 | Sony Corporation | Information processing apparatus and method, and program |
US20130311287A1 (en) | 2012-05-17 | 2013-11-21 | Realnetworks, Inc. | Context-aware video platform systems and methods |
US20140043363A1 (en) | 2012-08-13 | 2014-02-13 | Xerox Corporation | Systems and methods for image or video personalization with selectable effects |
US8803886B2 (en) | 2005-08-12 | 2014-08-12 | Sony Corporation | Face image display, face image display method, and face image display program |
US20140278370A1 (en) * | 2013-03-15 | 2014-09-18 | Cyberlink Corp. | Systems and Methods for Customizing Text in Media Content |
-
2015
- 2015-06-26 US US14/752,658 patent/US10049477B1/en active Active
Patent Citations (38)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US8558921B2 (en) | 2002-12-18 | 2013-10-15 | Walker Digital, Llc | Systems and methods for suggesting meta-information to a camera user |
EP1710717A1 (en) | 2004-01-29 | 2006-10-11 | Zeta Bridge Corporation | Information search system, information search method, information search device, information search program, image recognition device, image recognition method, image recognition program, and sales system |
US20090074261A1 (en) | 2004-03-16 | 2009-03-19 | Haupt Gordon T | Interactive system for recognition analysis of multiple streams of video |
JP2006277169A (en) | 2005-03-29 | 2006-10-12 | Seiko Epson Corp | Management for image data |
US8803886B2 (en) | 2005-08-12 | 2014-08-12 | Sony Corporation | Face image display, face image display method, and face image display program |
US20070070217A1 (en) | 2005-09-28 | 2007-03-29 | Fuji Photo Film Co., Ltd. | Image analysis apparatus and image analysis program storage medium |
JP2007094679A (en) | 2005-09-28 | 2007-04-12 | Fujifilm Corp | Image analyzing device, image analyzing program and image analyzing program storage medium |
US8171016B2 (en) | 2005-11-21 | 2012-05-01 | Koninklijke Philips Electronics N.V. | System and method for using content features and metadata of digital images to find related audio accompaniment |
EP1816575A1 (en) | 2006-02-01 | 2007-08-08 | Sony Corporation | System, apparatus, method, program and recording medium for processing image |
JP2007334712A (en) | 2006-06-16 | 2007-12-27 | Yafoo Japan Corp | Photograph registration system |
US20080114778A1 (en) | 2006-06-30 | 2008-05-15 | Hilliard Bruce Siegel | System and method for generating a display of tags |
US20080021928A1 (en) | 2006-07-24 | 2008-01-24 | Yagnik Jay N | Method and apparatus for automatically annotating images |
US20100050090A1 (en) * | 2006-09-14 | 2010-02-25 | Freezecrowd, Inc. | System and method for facilitating online social networking |
US20100103277A1 (en) | 2006-09-14 | 2010-04-29 | Eric Leebow | Tagging camera |
US8073850B1 (en) | 2007-01-19 | 2011-12-06 | Wordnetworks, Inc. | Selecting key phrases for serving contextually relevant content |
US20080195657A1 (en) * | 2007-02-08 | 2008-08-14 | Yahoo! Inc. | Context-based community-driven suggestions for media annotation |
JP2008269411A (en) | 2007-04-23 | 2008-11-06 | Olympus Corp | Image keyword editing system, image keyword provision server and image keyword editing device |
US20100077003A1 (en) | 2007-06-14 | 2010-03-25 | Satoshi Kondo | Image recognition device and image recognition method |
US20090324137A1 (en) | 2008-06-30 | 2009-12-31 | Verizon Data Services Llc | Digital image tagging apparatuses, systems, and methods |
US20100277611A1 (en) | 2009-05-01 | 2010-11-04 | Adam Holt | Automatic content tagging, such as tagging digital images via a wireless cellular network using metadata and facial recognition |
US20100302594A1 (en) * | 2009-06-01 | 2010-12-02 | Xerox Corporation | Real-time image personalization |
WO2011017653A1 (en) | 2009-08-07 | 2011-02-10 | Google Inc. | Facial recognition with social network aiding |
US20110047517A1 (en) | 2009-08-21 | 2011-02-24 | Samsung Electronics Co., Ltd. | Metadata tagging system, image searching method and device, and method for tagging a gesture thereof |
US20110195388A1 (en) | 2009-11-10 | 2011-08-11 | William Henshall | Dynamic audio playback of soundtracks for electronic visual works |
WO2011065236A1 (en) | 2009-11-25 | 2011-06-03 | Kddi株式会社 | Secondary content provision system and method |
US20110320560A1 (en) | 2010-06-29 | 2011-12-29 | Microsoft Corporation | Content authoring and propagation at various fidelities |
US20120013640A1 (en) * | 2010-07-15 | 2012-01-19 | Academia Sinica | Graphical representation of events |
US20120086792A1 (en) | 2010-10-11 | 2012-04-12 | Microsoft Corporation | Image identification and sharing on mobile devices |
WO2012050672A2 (en) | 2010-10-11 | 2012-04-19 | Microsoft Corporation | Image identification and sharing on mobile devices |
US20120092528A1 (en) * | 2010-10-13 | 2012-04-19 | Pantech Co., Ltd. | User equipment and method for providing augmented reality (ar) service |
US20120269436A1 (en) | 2011-04-20 | 2012-10-25 | Xerox Corporation | Learning structured prediction models for interactive image labeling |
US20120323930A1 (en) | 2011-06-20 | 2012-12-20 | Google Inc. | Text suggestions for images |
JP2013069185A (en) | 2011-09-26 | 2013-04-18 | Dainippon Printing Co Ltd | Text input support system, text insertion method, server and program |
US20130300748A1 (en) * | 2011-11-08 | 2013-11-14 | Sony Corporation | Information processing apparatus and method, and program |
US20130262536A1 (en) | 2012-03-30 | 2013-10-03 | Intel Corporation | Techniques for intelligent media show across multiple devices |
US20130311287A1 (en) | 2012-05-17 | 2013-11-21 | Realnetworks, Inc. | Context-aware video platform systems and methods |
US20140043363A1 (en) | 2012-08-13 | 2014-02-13 | Xerox Corporation | Systems and methods for image or video personalization with selectable effects |
US20140278370A1 (en) * | 2013-03-15 | 2014-09-18 | Cyberlink Corp. | Systems and Methods for Customizing Text in Media Content |
Non-Patent Citations (19)
Title |
---|
"Auto Photo Editor-Automatic Batch Photo/Image Editing Converter Software." Zeallsoft; accessed webpage on May 7, 2014. http://www.auto-photo-editor.com/. 2 pages. |
"Auto Photo Editor—Automatic Batch Photo/Image Editing Converter Software." Zeallsoft; accessed webpage on May 7, 2014. http://www.auto-photo-editor.com/. 2 pages. |
Davis, Marc et al. "Mobile Media Metadata for Mobile Imaging." 2004 IEEE International Conference on Mutlimedia and Expo: Jun. 27-30, 2004, Taipei, Taiwan. IEEE Operations Center, Piscataway, NJ. vol. 3, pp. 1707-1710. Jan. 1, 2004. |
Dunker, Peter et al., "Content-Aware Auto-Soundtracks for Personal Photo Music Slideshows." Media Technology Lab (MTL), Gracenote Inc., IEEE. 5 pages. Jul. 15, 2011. |
European Patent Office. European Search Report from related European Application No. 12729781.0. 8 pages. dated Feb. 16, 2015. |
International Preliminary Report on Patentability from related International Patent Application No. PCT/US2012/042226, dated Dec. 23, 2013, 4 pages. |
IP Australia. First Examination Report from related Australian Application No. 2012273292. 3 pages dated Nov. 7, 2014. |
ISA/US. International Search Report and Written Opinion from related International (PCT) Application No. PCT/US2012/042226. 6 pages. Nov. 28, 2012. |
Japanese Patent Office. Office action from related Japanese Application No. 2014-517024. 9 pages. dated Jan. 6, 2015. |
Liu et al. "Image Retaggig Using Collaborative Tag Propagation", IEEE Transactions on multimedia, vol. 13, No. 4, Aug. 2011. * |
Notice of Allowance for Japanese Patent Application No. 2014-517024, dated Dec. 14, 2015, 3 pages. |
Notice of Reasons for Rejection (including translation) for Japanese Patent Application No. 2014-517024, dated Aug. 18, 2015, 6 pages. |
O'Toole, Jessica. "Over: A Photo App for Typography Lovers." Appstorm. http://iphone.appstorm.net/reviews/graphics/over-a-photo-app-for-typography-lovers/. 7 pages. Feb. 15, 2013. |
Ramalingam, Srikumar et al. "Lifting 3D Manhattan Lines from a Single Image." Computer Vision Foundation, ICCV2013. pp. 497-504. 2013. |
Stack Overflow Community, downloaded @ https://stackoverflow.com/questions/21333241/set-background-color-based-on-users-text-input, posted online since Jan. 24, 2014, hereinafter referred as SOC. * |
USPTO, Final Office Action for U.S. Appl. No. 14/585,655, dated Feb. 15, 2018, 23 pages. |
USPTO, Final Office Action for U.S. Appl. No. 14/585,655, dated May 26, 2017, 14 pages. |
USPTO, First Action Interview, Pre-Interview Communication for U.S. Appl. No. 14/585,655, dated Jul. 15, 2016, 5 pages. |
USPTO, Non-Final Office Action for U.S. Appl. No. 14/585,655, dated Sep. 19, 2017, 18 pages. |
Cited By (37)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US11756246B2 (en) * | 2015-07-29 | 2023-09-12 | Adobe Inc. | Modifying a graphic design to match the style of an input design |
US11126922B2 (en) | 2015-07-29 | 2021-09-21 | Adobe Inc. | Extracting live camera colors for application to a digital design |
US10325382B2 (en) * | 2016-09-28 | 2019-06-18 | Intel Corporation | Automatic modification of image parts based on contextual information |
US11599263B2 (en) * | 2017-05-18 | 2023-03-07 | Sony Group Corporation | Information processing device, method, and program for generating a proxy image from a proxy file representing a moving image |
US10963597B2 (en) * | 2017-07-14 | 2021-03-30 | Beihang University | Method and apparatus for adaptively constructing three-dimensional indoor scenario |
US11042694B2 (en) | 2017-09-01 | 2021-06-22 | Adobe Inc. | Document beautification using smart feature suggestions based on textual analysis |
US10223341B1 (en) * | 2017-09-01 | 2019-03-05 | Adobe Inc. | Document beautification using smart feature suggestions based on textual analysis |
US11615233B2 (en) * | 2017-11-13 | 2023-03-28 | Wetransfer B.V. | Semantic slide autolayouts |
US11170546B2 (en) * | 2018-09-28 | 2021-11-09 | Fujifilm Corporation | Image processing apparatus, image processing method, and image processing program |
US11631225B2 (en) * | 2018-10-31 | 2023-04-18 | Sony Interactive Entertainment Inc. | Graphical style modification for video games using machine learning |
US20200134929A1 (en) * | 2018-10-31 | 2020-04-30 | Sony Interactive Entertainment Inc. | Graphical style modification for video games using machine learning |
US10977872B2 (en) * | 2018-10-31 | 2021-04-13 | Sony Interactive Entertainment Inc. | Graphical style modification for video games using machine learning |
US11636673B2 (en) | 2018-10-31 | 2023-04-25 | Sony Interactive Entertainment Inc. | Scene annotation using machine learning |
US20210233328A1 (en) * | 2018-10-31 | 2021-07-29 | Sony Interactive Entertainment Inc. | Graphical style modification for video games using machine learning |
US11375293B2 (en) | 2018-10-31 | 2022-06-28 | Sony Interactive Entertainment Inc. | Textual annotation of acoustic effects |
US10854109B2 (en) | 2018-10-31 | 2020-12-01 | Sony Interactive Entertainment Inc. | Color accommodation for on-demand accessibility |
US11776224B2 (en) | 2019-02-18 | 2023-10-03 | Samsung Electronics Co., Ltd. | System and method for providing weather effect in image |
EP3891707A4 (en) * | 2019-02-18 | 2022-02-23 | Samsung Electronics Co., Ltd. | System and method for providing weather effect in image |
WO2020171425A1 (en) * | 2019-02-18 | 2020-08-27 | Samsung Electronics Co., Ltd. | System and method for providing weather effect in image |
US11599598B2 (en) * | 2019-06-19 | 2023-03-07 | Canon Kabushiki Kaisha | System and method for recommending challenges |
US11302040B2 (en) | 2019-06-24 | 2022-04-12 | Samsung Electronics Co., Ltd. | System and method for providing weather effect in image |
US11295494B2 (en) * | 2019-06-26 | 2022-04-05 | Adobe Inc. | Image modification styles learned from a limited set of modified images |
US10964024B2 (en) * | 2019-06-26 | 2021-03-30 | Adobe Inc. | Automatic sizing and placement of text within a digital image |
US11657510B2 (en) | 2019-06-26 | 2023-05-23 | Adobe Inc. | Automatic sizing and placement of text within a digital image |
US11270485B2 (en) * | 2019-07-22 | 2022-03-08 | Adobe Inc. | Automatic positioning of textual content within digital images |
US11295495B2 (en) | 2019-10-14 | 2022-04-05 | Adobe Inc. | Automatic positioning of textual content within digital images |
US20220415244A1 (en) * | 2020-02-27 | 2022-12-29 | Atmoph Inc. | Image display device, system and method |
US11012662B1 (en) * | 2020-03-24 | 2021-05-18 | International Business Machines Corporation | Multimedia content adjustment using comparable content |
US11625873B2 (en) * | 2020-03-30 | 2023-04-11 | Snap Inc. | Personalized media overlay recommendation |
US20210306451A1 (en) * | 2020-03-30 | 2021-09-30 | Snap Inc. | Avatar recommendation and reply |
US11818286B2 (en) * | 2020-03-30 | 2023-11-14 | Snap Inc. | Avatar recommendation and reply |
US11978140B2 (en) | 2020-03-30 | 2024-05-07 | Snap Inc. | Personalized media overlay recommendation |
US20220237396A1 (en) * | 2021-01-26 | 2022-07-28 | Nec Corporation Of America | Invisible coated infrared patterns |
US11893668B2 (en) | 2021-03-31 | 2024-02-06 | Leica Camera Ag | Imaging system and method for generating a final digital image via applying a profile to image information |
US11941227B2 (en) | 2021-06-30 | 2024-03-26 | Snap Inc. | Hybrid search system for customizable media |
US11556694B1 (en) * | 2021-11-09 | 2023-01-17 | Lenovo (Singapore) Pte. Ltd. | Predictive aspect formatting |
US20230343038A1 (en) * | 2022-04-25 | 2023-10-26 | Lemon Inc. | Method and system for creating augmented reality filters on mobile devices |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US10049477B1 (en) | Computer-assisted text and visual styling for images | |
US11321385B2 (en) | Visualization of image themes based on image content | |
US10657652B2 (en) | Image matting using deep learning | |
US20200226179A1 (en) | Generating theme-based videos | |
US11113328B2 (en) | Interface elements for directed display of content data items | |
US9811933B2 (en) | Image editing using selective editing tools | |
US8274523B2 (en) | Processing digital templates for image display | |
EP3077898B1 (en) | Editing options for image regions | |
US20150277686A1 (en) | Systems and Methods for the Real-Time Modification of Videos and Images Within a Social Network Format | |
US8212834B2 (en) | Artistic digital template for image display | |
US8854395B2 (en) | Method for producing artistic image template designs | |
US8849853B2 (en) | Method for matching artistic attributes of a template and secondary images to a primary image | |
US10523916B2 (en) | Modifying images with simulated light sources | |
CN110678861B (en) | Image selection suggestion | |
EP3983991A1 (en) | Automatically segmenting and adjusting images | |
Zhang et al. | A comprehensive survey on computational aesthetic evaluation of visual art images: Metrics and challenges | |
CN109074680A (en) | Realtime graphic and signal processing method and system in augmented reality based on communication | |
US11830129B2 (en) | Object relighting using neural networks | |
CN113986407A (en) | Cover generation method and device and computer storage medium | |
Ye et al. | Hybrid scheme of image’s regional colorization using mask r-cnn and Poisson editing | |
Gao et al. | PencilArt: a chromatic penciling style generation framework | |
US20230251767A1 (en) | Messaging system for resurfacing content items | |
Boeriis | Towards a Grammar of Manipulated Photographs: The Social Semiotics of Digital Photo Manipulation | |
Segovia et al. | Aesthetic role of transparency and layering in the creation of photo layouts | |
CN117333645A (en) | Annular holographic interaction system and equipment thereof |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |
|
CC | Certificate of correction | ||
MAFP | Maintenance fee payment |
Free format text: PAYMENT OF MAINTENANCE FEE, 4TH YEAR, LARGE ENTITY (ORIGINAL EVENT CODE: M1551); ENTITY STATUS OF PATENT OWNER: LARGE ENTITYYear of fee payment: 4 |