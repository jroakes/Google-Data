CN112368546A - Displaying personalized landmarks in mapping applications - Google Patents
Displaying personalized landmarks in mapping applications Download PDFInfo
- Publication number
- CN112368546A CN112368546A CN201880095189.3A CN201880095189A CN112368546A CN 112368546 A CN112368546 A CN 112368546A CN 201880095189 A CN201880095189 A CN 201880095189A CN 112368546 A CN112368546 A CN 112368546A
- Authority
- CN
- China
- Prior art keywords
- user
- score
- location
- processors
- landmark
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Pending
Links
Images
Classifications
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01C—MEASURING DISTANCES, LEVELS OR BEARINGS; SURVEYING; NAVIGATION; GYROSCOPIC INSTRUMENTS; PHOTOGRAMMETRY OR VIDEOGRAMMETRY
- G01C21/00—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00
- G01C21/26—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00 specially adapted for navigation in a road network
- G01C21/34—Route searching; Route guidance
- G01C21/36—Input/output arrangements for on-board computers
- G01C21/3626—Details of the output of route guidance instructions
- G01C21/3644—Landmark guidance, e.g. using POIs or conspicuous other objects
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01C—MEASURING DISTANCES, LEVELS OR BEARINGS; SURVEYING; NAVIGATION; GYROSCOPIC INSTRUMENTS; PHOTOGRAMMETRY OR VIDEOGRAMMETRY
- G01C21/00—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00
- G01C21/26—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00 specially adapted for navigation in a road network
- G01C21/34—Route searching; Route guidance
- G01C21/36—Input/output arrangements for on-board computers
- G01C21/3605—Destination input or retrieval
- G01C21/3617—Destination input or retrieval using user history, behaviour, conditions or preferences, e.g. predicted or inferred from previous use or current movement
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01C—MEASURING DISTANCES, LEVELS OR BEARINGS; SURVEYING; NAVIGATION; GYROSCOPIC INSTRUMENTS; PHOTOGRAMMETRY OR VIDEOGRAMMETRY
- G01C21/00—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00
- G01C21/26—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00 specially adapted for navigation in a road network
- G01C21/34—Route searching; Route guidance
- G01C21/36—Input/output arrangements for on-board computers
- G01C21/3626—Details of the output of route guidance instructions
- G01C21/3641—Personalized guidance, e.g. limited guidance on previously travelled routes
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01C—MEASURING DISTANCES, LEVELS OR BEARINGS; SURVEYING; NAVIGATION; GYROSCOPIC INSTRUMENTS; PHOTOGRAMMETRY OR VIDEOGRAMMETRY
- G01C21/00—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00
- G01C21/26—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00 specially adapted for navigation in a road network
- G01C21/34—Route searching; Route guidance
- G01C21/36—Input/output arrangements for on-board computers
- G01C21/3679—Retrieval, searching and output of POI information, e.g. hotels, restaurants, shops, filling stations, parking facilities
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01C—MEASURING DISTANCES, LEVELS OR BEARINGS; SURVEYING; NAVIGATION; GYROSCOPIC INSTRUMENTS; PHOTOGRAMMETRY OR VIDEOGRAMMETRY
- G01C21/00—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00
- G01C21/26—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00 specially adapted for navigation in a road network
- G01C21/34—Route searching; Route guidance
- G01C21/36—Input/output arrangements for on-board computers
- G01C21/3679—Retrieval, searching and output of POI information, e.g. hotels, restaurants, shops, filling stations, parking facilities
- G01C21/3682—Retrieval, searching and output of POI information, e.g. hotels, restaurants, shops, filling stations, parking facilities output of POI information on a road map
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/90—Details of database functions independent of the retrieved data types
- G06F16/95—Retrieval from the web
- G06F16/953—Querying, e.g. by the use of web search engines
- G06F16/9537—Spatial or temporal dependent retrieval, e.g. spatiotemporal queries
Abstract
To provide personalized data for display on a map, a server device obtains location data for a user and identifies locations familiar to the user based on the frequency and recency with which the user visits the location. The server device then provides the familiar location in the search results/suggestions and annotates the familiar location with a description of the relationship between the familiar location and the user. The server device also includes familiar locations in the navigation instruction set as landmarks for performing the manipulations. Further, when the user selects another location near the familiar location, the server device provides the familiar location as a frame of reference on the map display. Further, when the user requests navigation directions to a final destination, the server apparatus includes a familiar location as an intermediate destination.
Description
Technical Field
The present disclosure relates to personalization in geographic applications, and more particularly, to identifying familiar locations of a user and using the familiar locations to present navigation directions (search results) or selected locations on a map display.
Background
The background description provided herein is for the purpose of generally presenting the context of the disclosure. Work of the presently named inventors, to the extent it is described in this background section, as well as aspects of the description that may not otherwise qualify as prior art at the time of filing, are neither expressly nor impliedly admitted as prior art against the present disclosure.
Today, digital maps of geographic areas are displayed on computing devices such as computers, tablet computers, and mobile phones via mapping applications, web browsers, and the like. Multiple mapping applications may display points of interest (POIs) on a map, such as a business or other organization. Each POI may be displayed using an icon or other indicator of the type of POI (e.g., a restaurant symbol for a restaurant, a shopping symbol for a department store, etc.). Further, a mapping application, web browser, or the like provides geographic search results (e.g., POIs) in response to a geographic search query and presents one or more of the geographic search results in a digital map using icons or other indicators.
Further, a software application or embedded device executing in a computer, smartphone, or the like generates step-by-step navigation directions. Typically, the user specifies an origin and a destination, and the software application displays directions immediately and/or as the user travels from the origin and destination.
These software applications typically utilize distance indications, street names, building numbers to generate navigation directions based on routes. For example, these systems may provide instructions to the driver such as "go a quarter mile and then turn right to enter maple street". However, it is difficult for the driver to accurately judge the distance, and the driver does not always easily see the road sign. In addition, some geographic areas have poor street and road identification.
To provide guidance to the driver that is more similar to what another person might speak to the driver, navigational guidance may be enhanced with reference to POIs (also referred to herein as "landmarks") along the route, such as visually significant buildings or billboards. In addition, placemarks may also be presented to guide a user within a digital map, or to provide geographic search results in response to a geographic search query (e.g., "bar in zurich"). However, the number of publicly known landmarks is limited, and software applications may not always be able to present landmarks when navigating or navigating a user.
Disclosure of Invention
To expand the number of available landmarks to include in navigation directions or when guiding a user, the personalized map data generation system obtains the user's location history when the user gives the system permission to obtain location data. The location history may include information about POIs previously visited by the user, such as the POI or location of the landmark, the date and time the user visited the landmark, the amount of time spent at the landmark, landmark tags provided by the user, such as "home", "work unit", "john's house", "favorite restaurant", and so forth.
When a user selects a location or POI presented by the mapping application, the personalized map data generation system identifies landmarks in the user's location history that are close to the selected location. One of the landmarks is then selected based on the frequency and/or recency (recency) with which the user accessed the landmark. The mapping application then presents the selected location and the selected landmark together on a map display to provide the user with a frame of reference for the selected location.
In another scenario, a user requests navigation directions from a starting location (such as the user's current location) to a destination location. As a result, the personalized map data generation system generates a set of navigation instructions, where each instruction includes a manipulation (e.g., "right turn") at a particular waypoint (waypoint) along the route. For at least some of the instructions, landmarks near a particular waypoint are selected as a reference frame for manipulation based on the frequency and/or recency with which the user visits the landmark (e.g., "turn right at the intersection after passing bob's home"). The mapping application then presents the user with a set of navigation instructions that reference the selected landmark.
In yet another scenario, a user provides a geographic search query or a partial geographic search query to a mapping application. Thus, the personalized map data generation system generates a set of search results relevant to the geographic search query and may rank the set of search results. Further, the personalized map data generation system identifies search results corresponding to POIs in the user's location history and promotes ranking of the search results based on the frequency and/or recency with which the user visits the respective POIs. For example, search results for POIs visited by the user multiple times (where the most recent time was the previous day) may be promoted by a few locations in the ranking, while search results for POIs visited by the user once a month ago may be promoted by only a few locations, or in another implementation or scenario, not promoted at all. The personalized map data generation system may also annotate the search results with a description of the relationship between the POI and the user, such as a description of how often the user accessed the POI, a description of when the user most recently accessed the POI, and so on. The map application then presents the annotated search results to the user in the ranked order.
In addition to providing turn-by-turn navigation directions with familiar landmarks as a reference frame for some maneuvers, the personalized map data generation system may also identify familiar locations as intermediate destinations in response to requests for navigation directions to final destinations. In some cases, the intermediate destination is not set along a direct route from the starting location to the final destination, but at a distance X from the closest point on the route. However, the intermediate destination may be a landmark that the user is very familiar with and/or that the user has gone to many times in the past. In this way, the personalized map data generation system can significantly reduce the amount of navigation instructions provided to the user by suppressing sending of navigation directions or providing only sparse navigation directions until the user approaches an intermediate destination or a waypoint shared by a route to the actual destination and to the intermediate destination. At this point, the personalized map data generation system may "take over" and provide a set of navigation instructions from an intermediate destination or public waypoint to a final destination. Thus, in some cases, the personalized map data generation system will combine the guidance that references familiar locations and is therefore intuitive for the user with the step-by-step guidance of the remainder of the route.
One example embodiment of the technology of the present disclosure is a method for providing personalized landmarks on digital maps to locate geographic search results. The method includes receiving a selection of a point of interest within a digital map presented on a portable device of a user, obtaining a location history of the user, and identifying a plurality of candidate landmarks within a threshold distance of the selected point of interest. The method also includes selecting one of the plurality of candidate landmarks based on at least one of (i) a frequency with which the user has visited the candidate landmark, or (ii) an amount of time since the user recently visited the candidate landmark, according to the location history, and causing an indicator representative of the selected landmark and an indicator representative of the selected point of interest to be presented within the digital map.
Another example embodiment is a method of providing navigation directions using personalized landmarks. The method includes receiving a request for navigation directions from a start location to a destination location for a user of the portable device, and generating a set of navigation instructions to the destination location, each navigation instruction in the set including a manipulation at a particular location. For at least one navigation instruction in the set, the method comprises: obtaining a location history of a user; selecting a navigation landmark that is within a threshold distance of the particular location for manipulation, the navigation landmark selected according to a location history based on at least one of (i) a frequency with which the user has accessed the navigation landmark, or (ii) an amount of time since the user recently accessed the navigation landmark; and generating a navigation instruction referencing the selected navigation landmark. The method also includes causing the set of navigation instructions to be provided via a user interface of the portable device.
Yet another example embodiment is a method for providing search suggestions based on familiarity to a user (family to a user). The method includes receiving a geographic search query from a user of a portable device, obtaining a location history of the user, and identifying, in response to the geographic search query, a set of search results that includes at least one point of interest from the location history that the user has previously visited. The method also includes causing the set of search results to be provided via a user interface of the portable device, wherein the set of search results is annotated with a description of a relationship between the point of interest and the user according to the location history.
Another example embodiment is a method of providing navigation directions using a location familiar to a user as an intermediate destination. The method includes receiving a request for navigation directions from a start location to a final destination location for a user, identifying an intermediate destination location selected based on familiarity with the user, and providing first navigation instructions directing the user to travel to the intermediate destination location. In response to determining that the user is approaching an intermediate destination location or at a particular waypoint along a route toward the intermediate destination location, the method includes providing a set of navigation instructions that direct the user to a final destination location.
Yet another example embodiment is a computing device for providing navigation directions using a location familiar to a user as an intermediate destination, wherein the computing device comprises one or more processors and a non-transitory computer-readable memory coupled to the one or more processors and storing instructions thereon. The instructions, when executed by one or more processors, cause a computing device to receive a request for navigation directions for a user from a starting location to a final destination location, identify an intermediate destination location selected based on familiarity with the user, and provide first navigation instructions directing the user to travel to the intermediate destination location. In response to determining that the user is approaching an intermediate destination location or at a particular waypoint along a route toward the intermediate destination location, the instructions cause the computing device to provide a set of navigation instructions that direct the user to a final destination location.
Another example embodiment is a non-transitory computer-readable medium storing instructions for providing navigation directions using a location familiar to a user as an intermediate destination. The non-transitory computer-readable memory is coupled to one or more processors in the computing device and stores instructions thereon. The instructions, when executed by one or more processors, cause the one or more processors to receive a request for navigation directions for a user from a starting location to a final destination location, identify an intermediate destination location selected based on familiarity with the user, and provide first navigation instructions that direct the user to travel to the intermediate destination location. In response to determining that the user is approaching an intermediate destination location or at a particular waypoint along a route toward the intermediate destination location, the instructions cause the one or more processors to provide a set of navigation instructions that direct the user to a final destination location.
Drawings
FIG. 1 is a block diagram of an example system in which techniques for generating personalized map data may be implemented;
FIG. 2A is an example data table of user location data that the personalized map data generation system of FIG. 1 may utilize to score landmarks to determine which landmarks are presented on a digital map;
FIG. 2B is an example data table with which the personalized map data generation system of FIG. 1 may rank landmarks based on corresponding scores to determine which landmarks to present on a digital map;
FIG. 3 is an example map display of a user-familiar landmark including a user-selected location and a frame of reference for providing the selected location;
FIG. 4 is an example search results display including search suggestions annotated with a description of the relationship between the search suggestions and the user;
FIG. 5A is an example navigation display including a route to a destination along which familiar landmarks are presented;
FIG. 5B is another example navigation display including a maneuver with a familiar landmark as a frame of reference for the maneuver;
FIG. 6A is yet another navigation display provided in response to a request for navigation directions from a user's current location to a final destination and including a first instruction to navigate to an intermediate destination and a route from the intermediate destination to the final destination;
FIG. 6B is a detailed navigation display including manipulation along the route presented in FIG. 6A from an intermediate destination to a final destination;
FIG. 6C is another detailed navigation display including maneuvers starting from common waypoints along the route presented in FIG. 6A to intermediate destinations and to final destinations;
FIG. 7 is a flow diagram of an example method for providing personalized landmarks on digital maps to locate geographic search results, which may be implemented in a computing device cooperating with or operating in a personalized map data generation system;
FIG. 8 is a flow diagram of an example method for providing navigation directions using personalized landmarks, which may be implemented in a computing device cooperating with or operating in a personalized map data generation system;
FIG. 9 is a flow diagram of an example method for providing search suggestions based on familiarity with a user, which may be implemented in a computing device cooperating with or operating in a personalized map data generation system; and
FIG. 10 is a flow diagram of an example method for providing navigation directions using a location familiar to a user as an intermediate destination that may be implemented in a computing device cooperating with or operating in a personalized map data generation system.
Detailed Description
SUMMARY
The present disclosure describes a system for more efficiently generating navigation directions by reference to one or more intermediate locations selected based on familiarity with a user or another suitable criterion.
The subject matter described in this specification can be implemented in particular embodiments to realize one or more of the following advantages. The user may know directions to a particular location with which she is already familiar. Thus, the methods and systems described herein direct a user to travel to an intermediate destination location with which the user is familiar, before directing the user to a final destination location. By utilizing intermediate destination locations that may be known to the user, the number of navigation instructions required may be reduced, thereby reducing computational and transmission overhead and thus increasing the efficiency of the system. Further, the navigation instructions may be personalized for the user so that they more efficiently direct the user to the final destination location.
The above advantages are embodied in a number of potential applications. In a first embodiment, personalized placemarks are provided on a digital map to assist a user in locating nearby geographic results within the map. The landmark may be selected based on the frequency with which the user has accessed the landmark and/or the amount of time since the user recently accessed the landmark. This allows the user to more effectively locate the geographic results by providing a known reference point in the vicinity. Furthermore, this may help avoid the presentation of superfluous information (such as general landmarks that the user may not be aware of), thereby increasing the efficiency of the system. Additionally, the location history may be used to annotate the landmark with details of the user's location history to help provide further context to the user.
In a second embodiment, navigation directions are improved via the use of personalized landmarks. As with the first embodiment, personalized placemarks may be selected based on the frequency with which the user has accessed the placemark and/or the amount of time since the user recently accessed the placemark. In contrast to the first embodiment, the personalized landmark may also be selected based on its being located (within a predefined distance) near the location where the manipulation from the navigation instruction is to occur. Thus, the associated navigation instruction may be modified to reference the landmark. This provides improved navigation instructions that are more relevant to the user, thus more effectively directing the user to her desired location.
In a third embodiment, search suggestions responsive to a search query are refined by identifying points of interest that the user has visited based on the user's location history. The search results may be annotated to include a description of the relationship between the points of interest and the user to provide further context to the results, thereby helping the user better identify the points of interest in the search results. The point of interest may be preferentially included in the search results (e.g., moved to a more prominent location in the search results) based on it being likely to be more useful to the user than other search results. By identifying and annotating points of interest in a search result set, the system provides a more useful search result set. This reduces the likelihood of the user performing further searches, thus increasing the efficiency of the overall system.
The search query received from the user may be a partial geographic search query. In this regard, the search query may be a partially entered geographic search query (e.g., an initial subset of characters from a complete geographic search query being entered by a user). This allows the system to predict and suggest appropriate search results even before the user has completed entering the search query, potentially speeding up the user's search process.
The term "landmark" as discussed herein need not refer to a location that is well known to the general population, but may refer to a location that is considered known to the user in view of the user's location history (e.g., because the user previously visited the location).
Example hardware and software Components
With reference to fig. 1, an example communication system 100 in which the personalized map data generation system may be implemented includes a client computing device 10 configured to execute a geographic application 22, which geographic application 22 may also be referred to as a "map application 22". Depending on the implementation, application 22 may display interactive digital maps, request and receive route data to provide driving, walking, or other navigation directions, provide various geo-located content, and so forth. The client computing device 10 may be operated by a user to display a digital map when navigating to various locations.
In addition to the client computing device 10, the communication system 100 also includes a server device 60 configured to identify user familiar landmarks based on the user's location history, and to provide personalized map data to the client computing device 10, such as navigation directions including the familiar landmarks as a frame of reference for manipulation or as an intermediate destination en route to a final destination, map displays including selected locations of nearby familiar landmarks, search results/suggestions including the familiar landmarks, and so forth. Server device 60 may be communicatively coupled to a database 80, in an example implementation, database 80 stores location data for users. The location data is described in more detail below with reference to fig. 2A and 2B.
More generally, server device 60 may communicate with one or several databases storing any type of suitable geospatial information or information that may be linked to a geographic context. The communication system 100 may also include a navigation data server 34 that provides, for example, driving, walking, cycling, or public transportation directions. Further, the communication system 100 may include a map data server 50 that provides map data to the server device 60 to generate a map display. Devices operating in communication system 100 may be interconnected via a communication network 30.
In various implementations, the client computing device 10 may be a smartphone or a tablet computer. Client computing device 10 may include memory 20, one or more processors (CPUs) 16, a Graphics Processing Unit (GPU)12, an I/O module 14, a User Interface (UI)32, and one or more sensors 19 including a Global Positioning Service (GPS) module. The memory 20 may be a non-transitory memory and may include one or several suitable memory modules, such as Random Access Memory (RAM), Read Only Memory (ROM), flash memory, other types of persistent memory, and the like. For example, the I/O module 14 may be a touch screen. In various implementations, client computing device 10 may include fewer components than shown in fig. 1, or, conversely, additional components. In other embodiments, client computing device 10 may be any suitable portable or non-portable computing device. For example, the client computing device 10 may be a laptop computer, a desktop computer, a wearable device such as a smart watch or smart glasses, or the like.
The memory 20 stores an Operating System (OS)26, which may be any type of suitable mobile or general-purpose operating system. OS 26 may include Application Programming Interface (API) functionality that allows applications to retrieve sensor readings. For example, a software application configured to execute on computing device 10 may include instructions that call an OS 26API to retrieve the current location of client computing device 10 at that time. The API may also return a quantitative indication (e.g., as a percentage) of how certain the API is estimating.
The memory 20 also stores a mapping application 22 configured to generate interactive digital maps and/or perform other geographic functions, as described above. The map application 22 may receive map data in a raster (e.g., bitmap) or non-raster (e.g., vector graphics) format from the map data server 50 and render the map data via the personalized data display 24. In some cases, the map data may be organized into layers, such as a base layer depicting roads, streets, natural structures, etc., a traffic layer depicting current traffic conditions, a weather layer depicting current weather conditions, a navigation layer depicting a path to a destination, etc. The mapping application 22 may also display driving, walking, or traffic directions via the personalized data display 24, and generally provide geographic, geolocation, navigation, and like related functions.
Note that while fig. 1 illustrates the mapping application 22 as a standalone application, the functionality of the mapping application 22 may also be provided in the form of an online service accessible via a web browser executing on the client computing device 10, as a plug-in or extension to another software application executing on the client computing device 10, and so forth. The mapping application 22 may generally provide different versions for different respective operating systems. For example, a manufacturer of the client computing device 10 may provide for inclusion for AndroidTMSoftware Development Kit (SDK) for mapping application 22 of platform, for iOSTMAnother SDK for the platform, etc.
In some implementations, the server device 60 includes one or more processors 62 and memory 64. The memory 64 may be tangible, non-transitory memory, and may include any type of suitable memory module, including Random Access Memory (RAM), Read Only Memory (ROM), flash memory, other types of persistent memory, and the like. The memory 64 stores instructions executable on the processor 62 that make up a personalized map data generator 68 that may identify candidate landmarks, rank and score the candidate landmarks based on the frequency and/or recency with which the user visits the candidate landmarks, and select one or more of the highest ranked candidate landmarks to include in a map display and/or in navigation directions presented on the map display. The personalized map data generator may also promote ranking of search results based on the frequency and/or recency with which the user visits POIs corresponding to the search results. The personalized map data generator may then provide map data, navigation data, and/or search results including familiar landmarks for display by the personalized data display 24 of the client computing device 10.
The personalized map data generator 68 and the personalized data display 24 may operate as components of a personalized map data generation system. Alternatively, the personalized map data generation system may include only server-side components and simply provide instructions to the personalized data display 24 to display the personalized map data. In other words, the personalized map data generation techniques in these embodiments may be implemented transparently with respect to the personalized data display 24. As another alternative, the entire functionality of the personalized map data generator 68 may be implemented in the personalized data display 24.
For simplicity, FIG. 1 shows server device 60 as only one example of a server. However, server device 60 according to some implementations includes a group of one or more server devices, each equipped with one or more processors and capable of operating independently of the other server devices. Server devices operating in such a group may process requests from client computing device 10 individually (e.g., based on availability), in a distributed manner in which one operation associated with processing a request is performed on one server device and another operation associated with processing the same request is performed on another server device, or according to any other suitable technique. For purposes of this discussion, the term "server device" may refer to a single server device or a group of two or more server devices.
In operation, the personalized data display 24 operating in the client computing device 10 receives data and sends data to the server device 60. Thus, in one example, when a user selects a user control that provides permission to the mapping application 22 to share location data, the client computing device 10 may send the location data to the personalized map data generator 68 (implemented in the server device 60). The location data may include the name or address of the location visited by the user from the registration at the location or from the positioning data from the sensor 19, the date and time the user visited the location, the amount of time the user visited the location, and/or a user-provided label for the location, such as "bob's home" for zurich hurdle street (haupttrasse) 123, switzerland. In some embodiments, the personalized data display 24 provides location data when the client computing device 10 is at a location for more than a threshold period of time (e.g., 1 minute). In this manner, the personalized data display 24 does not identify the location the user is passing on its way to the destination.
In another example, the client computing device 10 may send a communication to the personalized map data generator 68 requesting navigation directions, map data for the selected location, search results/suggestions, or the like. Accordingly, the personalized map data generator 68 may communicate with the navigation data server 34, the map data server 50, and/or any other suitable server to retrieve requested navigation directions, map data for a selected location, or search results/suggestions. Further, for example, the personalized map data generator 68 obtains location data for the user of the client computing device 10 from a location data table 200 stored in the database 80 as shown in fig. 2A. Location data 200 may include a user identifier (user ID)202 for a user of client computing device 10. Location data 200 may also include a name or address 204 of a location that the user accessed for more than a threshold amount of time (e.g., 1 minute). Further, the location data 200 may include a date 206 and time 208 of the visit, an amount of time 210 spent at the location, and a location tag 212 indicating a name provided by the user for the location, such as "parent's home," "work unit," "favorite restaurant," and so forth. For example, the first entry of the data table 200 indicates that the user accessed starbucks at 789 Hopkit street in Zurich at 8 pm on 11.7.2018
The personalized map data generator 68 assigns one or more scores, including a frequency score 258, a recency score 260, and an overall score 262, to each location 204 in the location data table 200, as shown in the data table 250 depicted in fig. 2B. The frequency score 258 may be determined based on the total number of times the user has visited the location, the number of times the user has visited the location within a threshold period of time (e.g., the previous month), the average rate at which the user visited the location (e.g., three times a month, two times a year, etc.), or in any other suitable manner. For example, the location data table 200 indicates that since 12 days 6 months 6.2018, the user has accessed starbucks located at 789 of the Zurich Hoppett street twicemap data generator 68 may count the amount of time spent at the location 210 into the frequency score 258 because the user may be more familiar with the location where she spent a significant amount of time than the location where she left quickly. For example, visits for less than a threshold amount of time (e.g., 5 minutes) may not be included in the number of times the user has visited the location. In another example, the frequency score 258 may be determined based on a weighted number of times the user has visited the location, wherein the longer the user stays at the location, the higher the weight is assigned to the visit.
The recency score 260 may be determined based on an amount of time since the user last visited the location or an amount of time since the user visited the location at a rate that is above a frequency threshold. For example, if the user previously visited the location once a week for several months, but now visited the location only once a year, the recency score 260 may be based on the amount of time since the user last visited the location once a week. In some embodiments, the personalized map data generator 68 may count the amount of time spent at the location 210 into the recency score 260. For example, accesses less than a threshold amount of time (e.g., 5 minutes) may not be included as the most recent time the user has accessed the location.
The total score 262 may be determined based on any suitable combination of the frequency score 258 and the recency score 260. In some embodiments, the personalized map data generator 68 aggregates the frequency score 258 and the recency score 260 to generate an overall score 262, averages the frequency score 258 and the recency score 260 to generate the overall score 262, or multiplies the frequency score 258 and the recency score 260 to generate the overall score 262. In other embodiments, the personalized map data generator 68 assigns a weight to each of the frequency score 258 and the recency score 260 and calculates a weighted combination of the frequency score 258 and the recency score 260 to generate the overall score 262. For example, the personalized map data generator 68 may assign a weight of 0.6 to the frequency score 258 and a weight of 0.4 to the recency score 260, and may compute a weighted average of the scores.
In response to receiving a request for navigation directions from the navigation data server 34 and a subsequent set of navigation instructions including a maneuver at various waypoints along the route, the personalized map data generator 68 identifies locations 204 in the location data table 200 that are within a threshold distance of each waypoint as candidate landmarks. The personalized map data generator 68 then obtains a total score 262 for the candidate placemarks and ranks the candidate placemarks according to the total score 262. In some embodiments, the personalized map data generator 68 selects a candidate landmark for inclusion in the navigation instruction of the respective maneuver when the rank of the candidate landmark is above a threshold rank or the score is above a threshold score. For example, when the maneuver is a right turn at an waypoint within a threshold distance of the bill's home, and the total score of the bill's home is above a threshold score, the personalized map data generator 68 generates an instruction to "turn right at an intersection past the bill's home" or "turn right at an intersection before the bill's home. In other embodiments, the personalized map data generator 68 identifies candidate landmarks within a threshold distance of each waypoint, ranks the candidate landmarks corresponding to the particular waypoint, and selects the highest ranked candidate landmark for the particular waypoint for inclusion in the navigation instruction.
In some scenarios, the personalized map data generator 68 selects only the highest ranked candidate landmark for inclusion in the navigation instruction for the particular waypoint when the highest ranked candidate landmark has the minimum score that is above the threshold score. Otherwise, the personalized map data generator 68 uses default navigation instructions, such as "turn right to main street". In other scenarios, the personalized map data generator 68 selects a maximum threshold number (e.g., 3) of landmarks to include in the navigation instructions. Thus, the personalized map data generator 68 selects no more than a maximum threshold number of the highest ranked candidate landmarks for different waypoints. For example, if the maximum threshold number is 3 and the second and third ranked candidate landmarks are for the same waypoint, the personalized map data generator 68 selects the first and second ranked candidate landmarks and the fourth ranked candidate landmark to include in the navigation instruction. In any case, the personalized map data generator 68 provides the set of navigation instructions including the selected landmark to the user's client computing device 10 for presentation via the personalized data display 24.
In response to receiving the selection of the location and subsequent map data for the selected location from the map data server 50, the personalized map data generator 68 identifies the locations 204 in the location data table 200 that are within a threshold distance of the selected location as candidate landmarks. The personalized map data generator 68 then obtains a total score 262 for the candidate placemarks and ranks the candidate placemarks according to the total score 262. The personalized map data generator 68 selects the highest ranked candidate landmark and provides map data including an indication of the selected location and an indication of the selected landmark to the user's client computing device 10 for presentation via the personalized data display 24. In response, the personalized data display 24 presents a map display of a geographic area including the selected location and the selected landmark, and an indication of the selected location and the selected landmark, such as a stylus (pin) or other icon representing the selected location and the selected landmark. In some embodiments, the personalized map data generator 68 generates a description of the relationship between the selected landmark and the user, such as a description of how often the user visits the landmark (e.g., "you often come here"), or a description of how recently the user visited the landmark (e.g., "you last week here"). The personalized map data generator 68 then causes the map display to be annotated with a description of the relationship between the selected landmark and the user.
In response to receiving the geographic search query and subsequent search results and the score/ranking of the search results from the map data server 50 in response to the geographic search query, the personalized map data generator 68 identifies the locations 204 included in the search results in the location data table 200. The personalized map data generator 68 then annotates the search results for the location included in the user's location history with a description of the relationship between the location and the user, such as a description of how often the user visited the location (e.g., "you often here"), or a description of how recently the user visited the location (e.g., "you last week here"). Further, in some embodiments, the personalized map data generator 68 adjusts the score/ranking of the search results, for example, by promoting a ranking and/or adding a score to the search results for locations that the user has previously visited.
More specifically, the personalized map data generator 68 may obtain a relevance score for each of the search results generated by the map data server 50. In addition to the relevance scores, the personalized map data generator 68 also obtains frequency scores 258, recency scores 260, and/or total scores 262 for locations previously visited by the user from the data table 250 shown in FIG. 2B. For locations that the user has not previously visited, the personalized map data generator 68 may assign a default total score of 0 or another default score to those locations. In any case, for each search result, the personalized map data generator 68 combines the relevance score, the frequency score 258, and the recency score 260 to generate an enhanced search result score. The personalized map data generator 68 then re-ranks the search results according to the promoted search result scores and provides the re-ranked search results, along with corresponding annotations, to the user's client computing device 10 for presentation via the personalized data display 24.
In another embodiment, in response to receiving a request from the navigation data server 34 for navigation directions from a starting location (e.g., the user's current location) to a final destination and a subsequent set of navigation instructions including manipulations at various waypoints along the route, the personalized map data generator 68 identifies locations 204 in the location data table 200 that are within a threshold distance of the final destination as candidate intermediate destinations. The personalized map data generator 68 may also identify locations 204 in the location data table 200 that are within a threshold distance of each waypoint as candidate intermediate destinations. Further, the personalized map data generator 68 may identify a location 204 having a second route from the starting location to a candidate intermediate destination that intersects the first route from the starting location to the final destination as the candidate intermediate destination. More specifically, the candidate intermediate destination may include a location 204, the location 204 having a common waypoint along one of a second route from the starting location to the candidate intermediate destination and waypoints along a first route from the starting location to the final destination.
In some embodiments, the personalized map data generator 68 selects a candidate intermediate destination when the frequency with which the user has visited the candidate intermediate destination location is greater than a threshold frequency or the amount of time since the user recently visited the candidate intermediate destination location is less than a threshold amount of time.
In other embodiments, the personalized map data generator 68 obtains a total score 262 for the candidate intermediate destinations and ranks the candidate intermediate destinations according to the total score 262. In other embodiments, the personalized map data generator 68 obtains a frequency score 258 and a recency 260 score for the candidate intermediate destination. The personalized map data generator 68 also assigns a distance score to each candidate intermediate destination based on the distance from the candidate intermediate destination to the final destination, the distance from a common waypoint along the route to the candidate intermediate destination to the final destination, and/or the distance from the closest waypoint along the route from the start location to the final destination to the candidate intermediate destination.
In some scenarios, the distance score may be inversely proportional to the distance to the final destination, such that the distance score increases as the distance to the final destination decreases. Further, in some scenarios, the distance scores may be ranked (tier) such that distance scores based on distances from candidate intermediate destinations to final destinations may be placed in a first rank. Distance scores based on distances from common waypoints along the route to the candidate intermediate destination to the final destination may be placed in a second ranking. Further, a distance score based on a distance from a nearest waypoint along the route from the starting location to the final destination to the candidate intermediate destination may be placed at a third level. The first tier distance scores may each be higher than the second tier distance scores, the second tier distance scores may each be higher than the third tier distance scores, and so on.
In any case, the personalized map data generator 68 combines the frequency score 258, recency 260, and distance score in any suitable manner to generate an intermediate destination score. The personalized map data generator 68 then ranks the candidate intermediate destinations according to the intermediate destination scores.
In some embodiments, the personalized map data generator 68 aggregates the frequency score 258, the recency 260, and the distance score to generate an intermediate destination score, averages the frequency score 258, the recency 260, and the distance score to generate an intermediate destination score, or multiplies the frequency score 258, the recency 260, and the distance score to generate an intermediate destination score. In other embodiments, the personalized map data generator 68 assigns a weight to each of the frequency score 258, the recency 260, and the distance score and calculates a weighted combination of the frequency score 258, the recency 260, and the distance score to generate the intermediate destination score. For example, the personalized map data generator 68 may assign a weight of 0.4 to the frequency score 258, a weight of 0.4 to the recency score 260, and a weight of 0.2 to the distance score, and may compute a weighted average of the scores.
In any case, the personalized map data generator 68 selects the highest ranked candidate intermediate destination and does not provide turn-by-turn navigation instructions from the starting location to the selected intermediate destination. Instead, the personalized map data generator 68 provides the user's client computing device 10 with first navigation instructions for the user to travel to the selected intermediate destination for presentation via the personalized data display 24. The personalized map data generator 68 may also obtain navigation directions from the selected intermediate destination to the final destination, or from waypoints along the route to the selected intermediate destination that are common with waypoints along the route to the final destination. The personalized map data generator 68 then provides the navigation directions to the final destination to the user's client computing device 10. Next, in response to determining, via the sensor 19, that the client computing device 10 is approaching the selected intermediate destination or a common waypoint along the route to the selected intermediate destination, the personalized data display 24 presents navigation directions to the final destination.
Example position display with familiar landmarks as a frame of reference
As described above, a user may select a location in the mapping application 22 operating on the client computing device 10. For example, the user may touch select a location presented by the personalized data display 24 on a map display, may touch select a search suggestion or search result presented by the mapping application 22, may enter an address or name of a particular location via a user control at the mapping application 22, or may select a location in any other suitable manner. The personalized data display 24 may then provide the selected location to the server device 60, along with a request for map data for a geographic area surrounding the location. In response, server device 60 generates map data and selects familiar landmarks within a threshold distance of the selected location to be presented as a reference frame for the selected location to guide the user within the map display. The server device 60 then provides the map data, the selected landmark, and information about the selected landmark (such as a description of the relationship between the selected landmark and the user) to the client computing device 10 for presentation by the personalized data display 24. Fig. 3 shows an example map display 300 that includes a location 302(Riffraff Kino/bar/pub) selected by a user. The selected location 302 is presented by an indicator, such as a stylus, or may be presented by any other suitable icon. In the example map display 300, the location 302 is selected by entering the name "Riffraff Kino/Bar/pub" for the location in the search bar. However, the location 302 may be selected in any other suitable manner, such as by touch selection of a location on the map display 300.
The example map display 300 also includes a landmark 304 familiar to the user, an international beer bar, having an indicator such as a pin or other icon. In addition, the map display 300 includes an annotation 306 "you often come here" that describes the relationship between the familiar landmark 304 and the user. In some embodiments, map data, familiar landmarks 304, and annotations for the geographic area surrounding the selected location 302 are provided to the client computing device 10 from a server device, and more particularly, the personalized map data generator 68. For example, in another map display (not shown), the map application 22 prompts the user for a request to share location data, and a user control for selecting whether to share the location data. As described above, if the user selects a user control to share location data, the personalized map data generator 68 receives the location data from the client computing device 10.
In response to a request for map data for a geographic area surrounding the selected location 302, the personalized map data generator 68 identifies locations in the location data that are within a threshold distance (e.g., 50 meters, 100 meters, 200 meters, 0.5 kilometers, 1 kilometer, etc.) of the selected location 302 as candidate landmarks. The personalized map data generator 68 then obtains a total score 262 for the candidate placemarks and ranks the candidate placemarks according to the total score 262. The personalized map data generator 68 selects the highest ranked candidate landmark and generates a description of the relationship between the selected landmark and the user. For example, the personalized map data generator 68 generates a description "you often come here" when the user has accessed the selected landmark at least a threshold number of times. When the user last accessed the selected landmark within a threshold number of days, the personalized map data generator 68 generates a description "you are here before X days" or "you are here last week". The personalized data display 24 then presents the map display 300 using the map data, the selected location 302, the familiar landmark 304, and the annotation 306. In this manner, the user may view the map display 300 and understand at least the area including the selected location based on nearby familiar landmarks. In some embodiments, the personalized map data generator 68 provides the location tag 212 (e.g., "Home," "work Unit," "Bob's Home") of the selected landmark to the personalized data display 24 instead of the location name 204, and the map display 300 is presented with the location tag 212.
Example search result display with annotated results to familiar locations
In addition to presenting personalized map data having a selected location, the personalized map data generation system presents a search results display 400, as shown in FIG. 4, with results 402 having annotations corresponding to the familiar location "Henrici coffee shop". The ranking of the annotated results 402 may also be boosted based on familiarity. As shown in fig. 4, the search results/suggestions are generated in response to a geographic search query "cafe," which may be a partial geographic search query. For example, the personalized data display 24 may receive a user input of "coffee shop" and provide the user input to the server device 60. Accordingly, the server device 60 communicates with the map data server 50 or another suitable server to retrieve geographic search results relevant to the geographic search query. In some embodiments, each of the retrieved geographic search results is within a threshold distance of the user's current location, or within a threshold distance of a geographic area presented on the map display of the user's client computing device 10.
In any case, server device 60 may obtain the geographic search results and the relevance scores for each of the geographic search results in a ranked order. In search results display 400, the search results include: museum cafes, Henrici cafes, Grumpy cafes, bistlot cafes, paris cafes, peace cafes, and bitter and sweet cafes. The personalized map data generator 68 then identifies a location 204, such as the Henrici coffee shop, included in the search results from the user's location history. The personalized map data generator 68 then annotates the search results for the locations included in the user's location history with a description of the relationship between the location and the user, such as "last week here" 404. In some embodiments, for example, the personalized map data generator 68 adjusts the score/ranking of the search results by promoting the ranking of the search results for locations that the user has previously visited. For example, while the Henrici coffee shop ranks second in the search results display 400, the initial ranking based on relevance may rank the Henrici coffee shop fourth. However, based on the overall familiarity score 262 and the relevance score for the Henrici coffee house, the personalized map data generator 68 promotes the Henrici coffee house to rank second. In some embodiments, for search results included in the user's location history, the personalized map data generator 68 may include location tags 212 (e.g., "Home," "work Unit," "Bob's Home") provided by the user in the search results, rather than the name of the location 204. The re-ranked search results and corresponding annotations are then sent to the user's client computing device 10, and the personalized data display 24 presents the search results display 400 on the user interface 32 of the client computing device 10.
Example navigation directions with familiar landmarks
Further, personalized map data is provided in the navigation directions to guide the user with familiar landmarks. The use of personalized map data also expands the landmark data set to include landmarks that are not well known to the public, but are particularly known to the user. This may include family members or close-friends 'homes or apartments that the user frequently visits, office buildings at the user's current place of business or office buildings that the user has previously hired, or other POIs with which the user is familiar, such as local businesses, bars, restaurants, and the like. FIG. 5A illustrates an example navigation display 500 that includes a route 502 from the user's current location to the destination "home". The navigation display 500 may present a turn-by-turn set of navigation instructions, each having a maneuver at a particular waypoint. For at least some of the manipulations, the navigation display 500 includes familiar landmarks in the navigation instructions, such as "Haus Hiltl" 504, which the user often eats.
For example, the personalized data display 24 receives a request for navigation directions from a starting location (e.g., the user's current location) to a destination location (e.g., "home") based on user input at the navigation display 500. The personalized data display 24 then sends the request to the server device 60, which server device 60 in turn may forward the request to the navigation data server 34. In response to receiving the set of navigation instructions from the navigation data server 34, the personalized map data generator 68 replaces the default navigation instructions with navigation instructions that include landmarks with which the user is familiar.
For example, as described above, the personalized map data generator 68 identifies a location 204 in the location data table 200 that is within a threshold distance of each waypoint in the navigation instruction set (e.g., within a threshold distance of the intersection for maneuvering) as a candidate landmark. The personalized map data generator 68 then obtains a total score 262 for the candidate placemarks and ranks the candidate placemarks according to the total score 262. In some embodiments, the personalized map data generator 68 selects a candidate landmark for inclusion in the navigation instruction of the respective maneuver when the rank of the candidate landmark is above a threshold rank or the score is above a threshold score. For example, when the maneuver is to right turn at an waypoint within a threshold distance of Haus Hiltl, and the total score for Haus Hiltl is above the threshold score, the personalized map data generator 68 generates an instruction to "right turn at an intersection past Haus Hiltl" or "right turn at an intersection before Haus Hiltl". In some embodiments, the navigation instructions may include a location tag 212 (e.g., "Home," "work Unit," "Bob's Home") provided by the user, rather than the name of the location 204. The personalized navigation instruction set is then provided to the client computing device 10 of the user, and the personalized data display device 24 presents the navigation display 500 on the user interface 32 of the client computing device 10.
FIG. 5B illustrates a detailed display 550 of navigation instructions 552 presented when a user approaches a waypoint for a respective maneuver. When the user approaches Karl-Schmid street, the personalized data display 24 displays the navigation instructions 552 "turn left after going through the Zurich academic sports institute (akademoscher sport Zurich"). Since she is very familiar with this individual school of education based on the user's location history, she is likely to know when she has passed through the zurich academy of academic motion and where to turn left at a subsequent intersection. This may be more helpful than instructing the user to "turn left to Karl-Schmid street," which may have no visible street sign or which the user is unfamiliar with.
Example navigation directions with familiar landmarks as intermediate destinations
In addition to including familiar landmarks in turn-by-turn navigation instructions, the personalized map data generator 68 also identifies the familiar landmarks as intermediate destinations en route to the final destination that are distant from the route from the start location to the final destination. In this manner, the user is directed to travel to familiar landmarks, which may cause the user to travel most of the way to the final destination in a single instruction. The personalized map data generator 68 then provides a set of navigation instructions to the final destination presented by the personalized data display 24 on the user's client computing device 10 as the user approaches the intermediate destination or approaches waypoints along the route to the intermediate destination that are also waypoints on the route to the final destination. This may reduce the number of navigation instructions provided to the user and may allow the user to proceed to an intermediate destination with which she is familiar before additional guidance becomes necessary.
In an exemplary scenario, john requests, via the map application 22 of his client computing device 10, navigation directions from his current location to the University of Zurich Hospital Foundation (University Hospital church Foundation). As shown in the example navigation display 600 of FIG. 6A, John's current location 602 is several kilometers north at the Zurich university Hospital Foundation 604. The personalized data display 24 then sends a request to the server device 60 for navigation directions from john's current location 602 to the zurich university hospital foundation 604. Accordingly, the personalized map data generator 68 may forward the request to the navigation data server 34 and may receive a set of navigation instructions from john's current location 602 to the zurich university hospital foundation 604, where each navigation instruction includes a maneuver at a respective waypoint.
The personalized map data generator 68 then identifies the location in the user's location history as a candidate intermediate destination that is within a threshold distance of the university of zurich hospital foundation 604, within a threshold distance of one of the waypoints on the route from the current location 602 of john to the university of zurich hospital foundation 604, or wherein a common waypoint exists along a second route from the current location 602 of john to the candidate intermediate destination and along one of the waypoints first route from the current location 602 of john to the university of zurich hospital foundation 602. In some embodiments, the candidate intermediate destinations are ranked based on their overall scores 262 from the data table 250 as shown in fig. 2B. In other embodiments, the personalized map data generator 68 obtains the frequency score 258 and the recency 260 score of the candidate intermediate destinations from the data table 250 as shown in FIG. 2B and assigns a distance score to each candidate intermediate destination. The distance score may be based on a distance from the candidate intermediate destination to the zurich university hospital foundation 604, a distance from a public waypoint along a route to the candidate intermediate destination to the zurich university hospital foundation 604, and/or a distance from a closest waypoint along a route from john's current location 602 to the zurich university hospital foundation 604 to the candidate intermediate destination.
In any case, the personalized map data generator 68 combines the frequency score 258, recency 260, and distance score in any suitable manner to generate an intermediate destination score. The personalized map data generator 68 then ranks the candidate intermediate destinations according to the intermediate destination scores and selects the highest ranked candidate intermediate destination as the intermediate destination. In this exemplary scenario, the personalized map data generator 68 selects Haus Hiltl606 as the intermediate destination. As shown in FIG. 6A, Haus Hiltl606, like the university of Zurich Hospital Foundation 604, is located in the south of John's current location 602 and is closer to the university of Zurich Hospital Foundation 604 than John's current location 602. However, Haus Hiltl606 is not on the route generated by the navigation data server 34 from john's current location 602 to zurich university hospital foundation 604.
The personalized map data generator 68 then provides the first navigation instruction to the user's client computing device 10 as a single instruction to travel toward Haus Hiltl606 for presentation via the personalized data display 24. In some embodiments, the first navigation instruction may include a location tag 212 (e.g., "Home," "work Unit," "Bob's Home") provided by the user for the intermediate destination, rather than the name of the location 204. The personalized map data generator 68 also provides navigation directions from the Haus Hiltl606 to the university of zurich hospital foundation 604 or navigation directions from waypoints along the route to the Haus Hiltl606 to the university of zurich hospital foundation 604 that are the same as waypoints along the route to the university of zurich hospital foundation 604 to the user's client computing device 10. Accordingly, the personalized data display 24 presents the first navigation instructions 610 in the navigation display 600. The personalized data display 24 also presents a highlighted representation of the route 612 from Haus Hiltl606 to the Zurich university Hospital Foundation 604. Because Haus Hiltl606 is a familiar location to john, he may proceed to Haus Hiltl606 without any additional instructions, and as he approaches Haus Hiltl606 or approaches a common waypoint on the route to Haus Hiltl606 and the zurich university hospital foundation 604 (e.g., exits the exit of route 17), the personalized data display 24 may present turn-by-turn navigation instructions to the zurich university hospital foundation 604.
As shown in the navigation display 600, a first route from John's current location 602 to Haus Hiltl606 and a second route from John's current location 602 to the Zurich university Hospital Foundation 604 appear to have a common waypoint at one of the exits from route 17. On the second route to the university of zurich hospital foundation 604, the set of navigation instructions may include a maneuver to left-turn away from the route 17 at a particular exit or street, while on the first route to Haus Hiltl606, the set of navigation instructions may include a maneuver to go straight away from the route 17 at a particular exit or street or to continue before turning right until another exit or street is reached.
FIG. 6B illustrates a detailed navigation display 630 that includes navigation instructions 632 that are presented when John approaches Haus Hiltl 606. For example, john's client computing device 10 may detect via sensor 19 that john is approaching Haus Hiltl 606. In response to detecting that john is approaching Haus Hiltl606, the personalized data display 24 may present turn-by-turn navigation instructions to the zurich university hospital foundation 604. As shown in the detailed navigation display 630, the navigation instructions 632 are one of a set of navigation instructions presented to john for directing john to the zurich university hospital foundation 604. When john completes a maneuver included in navigation instructions 632, detailed navigation display 630 presents another navigation instruction (not shown) on highlighted route 634.
Rather than waiting for the user to reach the intermediate destination before providing turn-by-turn navigation instructions to the final destination, the personalized map data generator 68 may identify common waypoints along the first and second routes to reach the intermediate destination and to reach the final destination, respectively. In some embodiments, when there are multiple public waypoints, the personalized map data generator 68 may identify the last public waypoint along the first route and the second route. For example, when both routes require the user to travel on expressway number 1, and the route to an intermediate destination requires the user to turn right at exit 40, while the route to a final destination requires the user to continue straight until exit 45 is reached and then turn right, the personalized map data generator 68 may identify exit 40 as the last public waypoint. The personalized map data generator 68 may then provide turn-by-turn navigation instructions from the exit 40 to the final destination that are presented by the personalized data display 24 before the user's client computing device reaches the exit 40, so that the user does not turn right before viewing the navigation instructions that continue straight up to the exit 45.
FIG. 6C illustrates a detailed navigation display 660 including navigation instructions 662 that are presented when a user approaches a common waypoint between a first route to Haus Hiltl606 and a second route to the Zurich university Hospital Foundation 604. As shown in the detailed navigation display 660, John is traveling southward on route 17 to travel toward Haus Hiltl606 based on the first navigation instructions 610 presented in the navigation display 600 as shown in FIG. 6A. John's client computing device 10 may detect that he is approaching the last public waypoint between the first route to Haus Hiltl606 and the second route to zurich university hospital foundation 604. In response to detecting that john is approaching the last public waypoint, the personalized data display 24 may present turn-by-turn navigation instructions to the zurich university hospital foundation 604. This includes navigation instructions 662 that turn left off the route 17, rather than turn right, to navigate to Haus Hiltl 606.
In some scenarios, the intermediate destination is a location that the user is familiar with, but the starting location is not familiar with. Thus, without detailed instructions, the user cannot navigate to an intermediate destination. In some embodiments, the personalized data display 24 may provide a user control for the user to select whether to receive navigation directions including an intermediate destination. For example, if the user feels comfortable navigating from her current location to a familiar intermediate destination, the user may request via a user control to receive navigation directions including the intermediate destination. If the user is uncomfortable navigating from her current location, she may request to receive turn-by-turn navigation instructions from her current location to a final destination without an intermediate destination.
In other embodiments, the personalized map data generator 68 determines whether to provide navigation directions that include an intermediate destination. For example, the personalized map data generator 68 may determine whether the user's current location or other starting location is a familiar location based on the user's location history. More specifically, if the total score 262 for the starting location is above a threshold score, or the ranking of the starting location based on the total score 262, the frequency score 258, or the recency score 260 is above a threshold ranking, the personalized map data generator 68 may identify an intermediate destination and provide turn-by-turn navigation instructions from the intermediate destination to the final destination. On the other hand, if the total score 262 for the starting location is not above the threshold score, or the ranking of the starting location based on the total score 262, the frequency score 258, or the recency score 260 is not above the threshold ranking, the personalized map data generator 68 may provide turn-by-turn navigation instructions from the starting location to the final destination without an intermediate destination.
Further, in some embodiments, the personalized map data generator 68 may identify a plurality of intermediate destinations on the way to the final destination. For example, the personalized map data generator 68 may provide a first navigation instruction to the user's client computing device 10 to travel toward a first intermediate destination for presentation via the personalized data display 24. The personalized map data generator 68 may also provide second navigation instructions to travel toward a second intermediate destination that is closer to the final destination than the first intermediate destination. Further, the personalized map data generator 68 may provide navigation directions to the user's client computing device 10 from the second intermediate destination to the final destination or from waypoints along the route to the second intermediate destination that are common with waypoints along the route to the final destination.
Accordingly, the personalized data display 24 may present the first navigation instruction in a navigation display. When the user's client computing device 10 approaches the first intermediate destination or approaches a common waypoint on the route to the first intermediate destination and to the second intermediate destination, the personalized data display 24 may present the second navigation instruction in the navigation display. Then, as the user's client computing device 10 approaches the second intermediate destination or approaches a common waypoint on the route to the second intermediate destination and to the final destination, the personalized data display 24 may present turn-by-turn navigation instructions to the final destination in a navigation display. Although this example includes two intermediate destinations, this is only one example for ease of illustration. The personalized map data generator 68 may identify any number of intermediate destinations for guiding the user on the way to the final destination.
Example method of presenting personalized map data
FIG. 7 illustrates a flow diagram of an example method 700 for providing personalized placemarks on a digital map to locate geographic search results. The method may be implemented with a set of instructions stored on a computer readable memory and executable on one or more processors of server device 60. For example, the method may be implemented by the personalized map data generator 68.
At block 702, location data for the user is obtained, for example, from a personalized data display 24 operating in the client computing device 10. More specifically, when the user selects a user control that provides permission to the mapping application 22 to share location data, the client computing device 10 may send the location data to the personalized map data generator 68. The location data may include the name or address of the location visited by the user from the registration at the location or from the positioning data from the sensor 19, the date and time the user visited the location, the amount of time the user visited the location, and/or a label of the location provided by the user, such as "bob's home" for zurich plute street 123, switzerland. In some embodiments, the personalized data display 24 provides location data when the client computing device 10 is at a location for more than a threshold period of time (e.g., 1 minute).
A location is then selected in the mapping application 22 operating on the client computing device 10 at block 704 and received at the server device 60 with a request for map data for a geographic area surrounding the selected location. For example, the user may touch select a location presented by the personalized data display 24 on a map display, may touch select a search suggestion or search result presented by the mapping application 22, may enter an address or name of a particular location via a user control at the mapping application 22, or may select a location in any other suitable manner.
In response to the request, the location is identified in the user's location history as a candidate landmark within a threshold distance (e.g., 50 meters, 100 meters, 200 meters, 0.5 kilometers, 1 kilometer, etc.) of the selected location 302 (block 706). Each of the candidate landmarks is scored according to frequency and recency to generate an overall score for the candidate landmark, such as overall score 262 shown in fig. 2B. More specifically, the frequency score may be determined based on the total number of times the user has visited the location, the number of times the user visited the location within a threshold period of time (e.g., the previous month), the average rate at which the user visited the location (e.g., three times a month, two times a year, etc.), or in any other suitable manner. In some embodiments, the personalized map data generator 68 may count the amount of time spent at a location into a frequency score, as she may be more familiar with the location where she spent a significant amount of time than the location where the user quickly left. For example, the frequency score may be determined based on the number of times the user has visited the location, wherein the longer the user stayed at the location, the higher the access was assigned a weight.
The recency score may be determined based on an amount of time since the user last visited the location or an amount of time since the user visited the location at a rate that is above a frequency threshold. For example, if the user visited the location once a week for several months before, but now visited the location only once a year, the recency score may be based on the amount of time since the user last visited the location once a week. In some embodiments, the personalized map data generator 68 may count the amount of time spent at the location into the recency score.
The overall score may then be determined based on any suitable combination of frequency and recency score. At block 710, the candidate placemarks are ranked according to their respective scores, and the personalized map data generator 68 selects the highest ranked candidate placemark for presentation in the map display (block 712).
The personalized map data generator 68 then provides the map data including the indication of the selected location and the indication of the selected landmark to the user's client computing device 10 for presentation via the personalized data display 24 (block 714). In response, the personalized data display 24 presents a map display including the selected location and the geographic area of the selected landmark, as well as an indication of the selected location and the selected landmark, such as a stylus or other icon representing the selected location and the selected landmark. In some embodiments, the personalized map data generator 68 generates a description of the relationship between the selected landmark and the user, such as a description of how often the user visits the landmark (e.g., "you often come here"), or a description of how recently the user visited the landmark (e.g., "you last week here"). The personalized map data generator 68 then causes the map display to be annotated with a description of the relationship between the selected landmark and the user.
FIG. 8 illustrates a flow diagram of an example method 800 for providing search suggestions based on familiarity with a user. The method may be implemented in a set of instructions stored on a computer readable memory and executable on one or more processors of server device 60. For example, the method may be implemented by the personalized map data generator 68.
At block 802, location data for the user is obtained, for example, from a personalized data display 24 operating in the client computing device 10. More specifically, when the user selects a user control that provides permission to the mapping application 22 to share location data, the client computing device 10 may send the location data to the personalized map data generator 68. The location data may include the name or address of the location visited by the user from the registration at the location or from the positioning data from the sensor 19, the date and time the user visited the location, the amount of time the user visited the location, and/or a label of the location provided by the user, such as "bob's home" for sumisco plute street 123, switzerland. In some embodiments, the personalized data display 24 provides location data when the client computing device 10 is at a location for more than a threshold period of time (e.g., 1 minute).
Then, at block 804, a geographic search query is received, which may be a partial geographic search query. For example, the personalized data display 24 may receive a user input of "coffee shop" and provide the user input to the server device 60. Accordingly, the server device 60 communicates with the map data server 50 or another suitable server to retrieve geographic search results/suggestions related to the geographic search query (block 806). In some embodiments, each of the retrieved geographic search results/suggestions is within a threshold distance of the user's current location, or within a threshold distance of a geographic area presented on the map display of the user's client computing device 10.
In any case, server device 60 may obtain the geographic search results/suggestions and the relevance scores for each of the geographic search results/suggestions in a ranked order. In some embodiments, for example, the personalized map data generator 68 adjusts the score/rank of the search results/suggestions by boosting the rank of the search results/suggestions for locations that the user has previously visited (block 808). More specifically, in addition to the relevance scores, the personalized map data generator 68 also obtains a frequency score 258, a recency score 260, and/or an overall score 262 (e.g., from the data table 250 depicted in fig. 2B) for locations previously visited by the user. For locations that the user has not previously visited, the personalized map data generator 68 may assign a default total score of 0 or another default score to these locations. In any case, for each search result/suggestion, the personalized map data generator 68 combines the relevance score and the total score 262 to generate an enhanced search result score. The personalized map data generator 68 then re-ranks the search results/suggestions according to the promoted search result scores and provides the re-ranked search results/suggestions to the user's client computing device 10 for presentation via the personalized data display 24 (block 810).
In addition to re-ranking the search results/suggestions, the personalized map data generator 68 also annotates the search results/suggestions for a location included in the user's location history with a description of the relationship between the location and the user, such as a description of how often the user visited the location (e.g., "you often come here"), or a description of how recently the user visited the location (e.g., "you last week here"). The annotations are then provided to the user's client computing device 10 for presentation with the corresponding search results/suggestions via the personalized data display 24 (block 812).
FIG. 9 illustrates a flow chart of an example method 900 of providing navigation directions using personalized landmarks. The method may be implemented in a set of instructions stored on a computer readable memory and executable on one or more processors of server device 60. For example, the method may be implemented by the personalized map data generator 68.
At block 902, location data for the user is obtained, for example, from a personalized data display 24 operating in the client computing device 10. More specifically, when the user selects a user control that provides permission to the mapping application 22 to share location data, the client computing device 10 may send the location data to the personalized map data generator 68. The location data may include the name or address of the location visited by the user from the registration at the location or from the positioning data from the sensor 19, the date and time the user visited the location, the amount of time the user visited the location, and/or a label of the location provided by the user, such as "bob's home" for sumisco plutonie 123, switzerland. In some embodiments, the personalized data display 24 provides location data when the client computing device 10 is at a location for more than a threshold period of time (e.g., 1 minute).
Then, at block 904, a request for navigation directions from a starting location to a destination location is received. For example, the request may be sent from the client computing device 10 to the server device in response to user input provided at the client computing device 10. At block 906, a set of navigation instructions to the destination location may be generated, where each navigation instruction includes a maneuver at a particular waypoint along the route. In some embodiments, to generate the set of navigation instructions, server device 60 forwards a request to navigation data server 34 for navigation directions from the starting location to the destination location.
In response to receiving the set of navigation instructions from the navigation data server 34, the personalized map data generator 68 replaces the default navigation instructions with navigation instructions that include landmarks with which the user is familiar. More specifically, locations are identified in the user's location history as candidate landmarks that are within a threshold distance (e.g., 50 meters, 100 meters, 200 meters, 0.5 kilometers, 1 kilometer, etc.) of each waypoint in the set of navigation instructions (block 908). Then, for each maneuver, the respective candidate landmarks are scored according to frequency and recency to generate an overall score for the candidate landmark, such as overall score 262 shown in fig. 2B. More specifically, the frequency score may be determined based on the total number of times the user visited the candidate landmark, the number of times the user visited the candidate landmark within a threshold period of time (e.g., the previous month), the average rate at which the user visited the candidate landmark (e.g., three times a month, two times a year, etc.), or in any other suitable manner. In some embodiments, the personalized map data generator 68 may count the amount of time spent at the candidate landmark into the frequency score. For example, the frequency score may be determined based on the number of times the user has accessed the weight of the candidate landmark, where the longer the user stays at the candidate landmark, the higher the weight assigned to the access.
The recency score may be determined based on an amount of time since the user last accessed the candidate landmark or an amount of time since the user accessed the candidate landmark at a rate above a frequency threshold. For example, if the user accessed the candidate landmark once a week a few months before, but only accessed the candidate landmark once a year now, the recency score may be based on the amount of time since the user last accessed the candidate landmark once a week. In some embodiments, the personalized map data generator 68 may count the amount of time spent at the candidate landmark into the recency score. The overall score may then be determined based on any suitable combination of frequency and recency score (block 910). The process is then repeated for each maneuver in the set of navigation instructions (block 912).
The personalized map data generator 68 then obtains a total score for the candidate landmarks and ranks the candidate landmarks according to the total score (block 914). In some embodiments, when the rank of the candidate landmark is above a threshold rank or the score is above a threshold score, the personalized map data generator 68 selects the candidate landmark for inclusion in the navigation instruction of the respective maneuver (block 916). In other embodiments, for each waypoint, the personalized map data generator 68 identifies candidate landmarks that are within a threshold distance of the particular waypoint, ranks the candidate landmarks corresponding to the particular waypoint, and selects the highest ranked candidate landmark for the particular waypoint for inclusion in the navigation instruction.
In some scenarios, when the highest ranked candidate landmark for a particular waypoint has a minimum score above the threshold score, the personalized map data generator 68 only selects the highest ranked candidate landmark for inclusion in the navigation instruction. Otherwise, the personalized map data generator 68 uses default navigation instructions, such as "turn right to main street". In other scenarios, the personalized map data generator 68 selects the maximum threshold number (e.g., 3) of landmarks to be included in the navigation instruction. Thus, the personalized map data generator 68 selects the highest ranked candidate landmark for different waypoints that does not exceed the maximum threshold number.
The personalized navigation instruction set is then provided to the client computing device 10 of the user (block 918), and the personalized data display 24 presents the navigation display 500 on the user interface 32 of the client computing device 10.
FIG. 10 illustrates a flow chart of an example method 1000 of providing navigation directions using a location familiar to a user as an intermediate destination. The method may be implemented in a set of instructions stored on a computer readable memory and executable on one or more processors of server device 60. For example, the method may be implemented by the personalized map data generator 68.
At block 1002, location data for the user is obtained, for example, from the personalized data display 24 operating in the client computing device 10. More specifically, when the user selects a user control that provides permission to the mapping application 22 to share location data, the client computing device 10 may send the location data to the personalized map data generator 68. The location data may include the name or address of the location visited by the user from the registration at the location or from the positioning data from the sensor 19, the date and time the user visited the location, the amount of time the user visited the location, and/or a label of the location provided by the user, such as "bob's home" for sumisco plutonie 123, switzerland. In some embodiments, the personalized data display 24 provides location data when the client computing device 10 is at a location for more than a threshold period of time (e.g., 1 minute).
Then, at block 1004, a request for navigation directions from a starting location to a final destination location is received. For example, the request may be sent from client computing device 10 to server device 60 in response to user input provided at client computing device 10. At block 1006, a first set of navigation instructions to a final destination location may be generated, where each navigation instruction includes a maneuver at a particular waypoint along the route. In some embodiments, to generate the first set of navigation instructions, the server device 60 forwards a request to the navigation data server 34 for navigation directions from the starting location to the final destination location.
The personalized map data generator 68 then identifies locations in the user's location history as candidate intermediate destination locations that are within a threshold distance of the final destination location, within a threshold distance of one of the waypoints on the first route from the start location to the final destination location, or wherein the locations have a common waypoint along the second route from the start location to the candidate intermediate destination with one of the waypoints along the first route (block 1008).
The candidate intermediate destinations are then scored according to frequency and recency to generate a total score for the candidate landmarks, such as total score 262 shown in fig. 2B. More specifically, the frequency score may be determined based on the total number of times the user visited the candidate landmark, the number of times the user visited the candidate landmark within a threshold period of time (e.g., the previous month), the average rate at which the user visited the candidate landmark (e.g., three times a month, two times a year, etc.), or in any other suitable manner. In some embodiments, the personalized map data generator 68 may count the amount of time spent at the candidate landmark into the frequency score. For example, the frequency score may be determined based on the number of times the user has accessed the weight of the candidate landmark, where the longer the user stays at the candidate landmark, the higher the weight assigned to the access.
The recency score may be determined based on an amount of time since the user last accessed the candidate landmark or an amount of time since the user accessed the candidate landmark at a rate above a frequency threshold. For example, if the user accessed the candidate landmark once a week a few months before, but only accessed the candidate landmark once a year now, the recency score may be based on the amount of time since the user last accessed the candidate landmark once a week. In some embodiments, the personalized map data generator 68 may count the amount of time spent at the candidate landmark into the recency score.
The candidate intermediate destinations may also be scored according to distance scores based on distances from the candidate intermediate destinations to the final destination, distances from common waypoints along the route to the candidate intermediate destinations to the final destination, and/or distances from closest waypoints along the route from the starting location to the final destination to the candidate intermediate destinations. The personalized map data generator 68 combines the frequency score 258, the recency 260, and the distance score in any suitable manner to generate an intermediate destination score (block 1010). The personalized map data generator 68 then ranks the candidate intermediate destinations according to the intermediate destination scores (block 1012), and selects the highest ranked candidate intermediate destination (block 1014).
Accordingly, the personalized map data generator 68 provides the user's client computing device 10 with first navigation instructions for the user to travel to the selected intermediate destination for presentation via the personalized data display 24 (block 1016). The first navigation instruction may advantageously omit certain steps, such as "southward on Elm street", "turn left to main street", etc. In contrast, the first navigation instruction may simply be "start driving to the music box theater", even if there are multiple maneuvers of the intermediate destination music box theater from the current location. In some implementations, the first navigation instruction also mentions a divergence point between routes to an intermediate destination and a final destination, e.g., "start traveling toward the music box theater, but do not turn in south harbour, and continue straight. The "personalized map data generator 68 may also obtain navigation directions from the selected intermediate destination to the final destination, or from waypoints along the route to the selected intermediate destination that are common with waypoints along the route to the final destination. The personalized map data generator 68 then provides the navigation directions to the final destination to the user's client computing device 10 (block 1018). Next, in response to determining, via the sensor 19, that the client computing device 10 is approaching the selected intermediate destination or approaching a common waypoint along the route to the selected intermediate destination, the personalized data display 24 presents navigation directions to the final destination.
Additional considerations
The following additional considerations apply to the foregoing discussion. Throughout this specification, multiple instances may implement a component, an operation, or a structure described as a single instance. Although the individual operations of one or more methods are illustrated and described as separate operations, one or more of the individual operations may be performed concurrently and the operations need not be performed in the order illustrated. Structures and functionality presented as separate components in the example configurations may be implemented as a combined structure or component. Similarly, structures and functionality presented as a single component may be implemented as separate components. These and other variations, modifications, additions, and improvements fall within the scope of the subject matter of the present disclosure.
Furthermore, certain embodiments are described herein as comprising logic or multiple components, modules, or mechanisms. The modules may constitute software modules (e.g., code stored on a machine-readable medium) or hardware modules. A hardware module is a tangible unit capable of performing certain operations and may be configured or arranged in a certain manner. In an example embodiment, one or more computer systems (e.g., a standalone, client, or server computer system) or one or more hardware modules (e.g., a processor or a set of processors) of a computer system may be configured by software (e.g., an application or application portion) as a hardware module that operates to perform certain operations as described herein.
In various embodiments, the hardware modules may be implemented mechanically or electronically. For example, a hardware module may comprise special purpose circuitry or logic that is permanently configured (e.g., as a special purpose processor, such as a Field Programmable Gate Array (FPGA) or an Application Specific Integrated Circuit (ASIC)) to perform certain operations. A hardware module may also include programmable logic or circuitry (e.g., embodied in a general-purpose processor or other programmable processor) that is temporarily configured by software to perform certain operations. It should be appreciated that the decision to implement a hardware module mechanically, in a dedicated and permanently configured circuit, or in a temporarily configured circuit (e.g., configured by software) may be driven by cost and time considerations.
Thus, the term "hardware" should be understood to encompass a tangible entity, i.e., an entity that is physically constructed, permanently configured (e.g., hardwired), or temporarily configured (e.g., programmed) to operate in a specific manner or to perform a specific operation described herein. As used herein, "hardware-implemented module" refers to a hardware module. In view of embodiments in which the hardware modules are temporarily configured (e.g., programmed), each of the hardware modules need not be configured or instantiated at any one time. For example, where the hardware modules include a general-purpose processor configured using software, the general-purpose processor may be configured at different times as respective different hardware modules. The software may configure the processor accordingly, for example, to constitute a particular hardware module at one time and to constitute a different hardware module at a different time.
A hardware module may provide information to and receive information from other hardware. Thus, the described hardware modules may be considered to be communicatively coupled. In the case where a plurality of such hardware modules coexist, communication can be achieved by signal transmission (for example, by an appropriate circuit and bus) connecting the hardware modules. In embodiments where multiple hardware modules are configured or instantiated at different times, communication between such hardware modules may be accomplished, for example, by storing and retrieving information in a memory structure accessible to the multiple hardware modules. For example, one hardware module may perform an operation and store the output of the operation in a memory device to which it is communicatively coupled. Another hardware module may then access the memory device at a later time to retrieve and process the stored output. The hardware modules may also initiate communication with input or output devices and may operate on resources (e.g., collections of information).
Various operations of example methods described herein may be performed, at least in part, by one or more processors that are temporarily configured (e.g., via software) or permanently configured to perform the relevant operations. Whether temporarily configured or permanently configured, such processors may constitute processor-implemented modules that operate to perform one or more operations or functions. In some example embodiments, the modules referred to herein may comprise processor-implemented modules.
Similarly, the methods or routines described herein may be implemented at least in part by a processor. For example, at least some of the operations of the method may be performed by one or more processors or processor-implemented hardware modules. Execution of some of the operations may be distributed among one or more processors, residing not only in a single machine, but also deployed across multiple machines. In some example embodiments, one or more processors may be located at a single location (e.g., in a home environment, an office environment, or as a server farm), while in other embodiments, processors may be distributed across multiple locations.
The one or more processors may also be operable to support execution of related operations in a "cloud computing" environment or as SaaS. For example, as described above, at least some of the operations may be performed by a set of computers (as an example of machines including processors), which may be accessed via a network (e.g., the internet) and via one or more appropriate interfaces (e.g., APIs).
Moreover, the figures depict some embodiments of the example environment for purposes of illustration only. One skilled in the art will readily recognize from the foregoing discussion that alternative embodiments of the structures and methods illustrated herein may be employed without departing from the principles described herein.
Upon reading this disclosure, those skilled in the art will appreciate further alternative structural and functional designs for providing personalized map data through the principles disclosed herein. Thus, while particular embodiments and applications have been illustrated and described, it is to be understood that the disclosed embodiments are not limited to the precise construction and components disclosed herein. It will be apparent to those skilled in the art that various modifications, changes, and variations can be made in the arrangement, operation, and details of the methods and apparatus disclosed herein without departing from the spirit and scope as defined in the appended claims.
Claims (22)
1. A method for providing personalized landmarks on digital maps to locate geographic search results, the method comprising:
receiving, at one or more processors, a selection of a point of interest within a digital map presented on a portable device of a user;
obtaining, by one or more processors, a location history of a user;
identifying, by one or more processors, a plurality of candidate landmarks within a threshold distance of the selected point of interest;
selecting, by one or more processors, one of the plurality of candidate landmarks based on at least one of: (i) a frequency with which the user has visited the candidate landmark, or (ii) an amount of time since the user recently visited the candidate landmark; and
causing, by one or more processors, an indicator representing the selected landmark and an indicator representing the selected point of interest to be presented within the digital map.
2. The method of claim 1, further comprising:
annotating, by one or more processors, the digital map with a description of a relationship between the selected landmark and the user according to the location history.
3. The method of claim 2, wherein annotating the digital map with a description of a relationship between the selected landmark and the user comprises at least one of:
annotating the digital map with an indication of a frequency with which the user has visited the selected landmark; or
Annotating the digital map with an indication of a most recent time that the user has accessed the selected landmark.
4. The method of any of claims 1-3, wherein selecting one of the plurality of candidate landmarks comprises:
for each of the plurality of candidate landmarks, assigning, by one or more processors, a score to the candidate landmark based on at least one of: (i) a frequency with which the user has visited the candidate landmark or (ii) an amount of time since the user recently visited the candidate landmark;
ranking, by one or more processors, each of the plurality of candidate landmarks according to a respective score; and
the highest ranked candidate landmark is selected by the one or more processors.
5. The method of claim 4, wherein, for each of the plurality of candidate landmarks, assigning a score to the candidate landmark comprises:
assigning, by one or more processors, a frequency score to the candidate landmark based on a number of times the user has visited the candidate landmark;
assigning, by one or more processors, a recency score to the candidate landmark based on an amount of time since the candidate landmark was most recently visited by a user; and
combining, by one or more processors, the frequency score and the recency score to generate an overall score for the candidate landmark.
6. The method of claim 5, wherein combining the frequency score and the recency score comprises assigning a weight to each of the frequency score and the recency score, and combining the weighted frequency score and recency score.
7. A method of providing navigation directions using personalized landmarks, the method comprising:
receiving, at one or more processors, a request for navigation directions for a user of a portable device from a starting location to a destination location;
generating, by one or more processors, a set of navigation instructions to the destination location, each navigation instruction in the set of navigation instructions comprising a maneuver at a particular location, and for at least one navigation instruction in the set of navigation instructions:
obtaining a location history of a user;
selecting a navigational landmark within a threshold distance of the particular location for maneuvering, the navigational landmark selected according to the location history based on at least one of: (i) a frequency with which the user has visited the navigational landmark, or (ii) an amount of time since the user recently visited the navigational landmark; and
generating a navigation instruction referencing the selected navigation landmark; and
causing, by one or more processors, provision of the set of navigation instructions via a user interface of the portable device.
8. The method of claim 7, wherein selecting at least a navigational landmark in the vicinity of the particular location for the manipulation comprises:
for each of a plurality of candidate landmarks at least near the particular location for the maneuver, assigning, by one or more processors, a score to the candidate landmark based on at least one of: (i) a frequency with which the user has visited the candidate landmark or (ii) an amount of time since the user recently visited the candidate landmark;
ranking, by one or more processors, each of the plurality of candidate landmarks according to a respective score; and
the highest ranked candidate landmark is selected by the one or more processors.
9. The method of claim 8, wherein, for each of the plurality of candidate landmarks, assigning a score to the candidate landmark comprises:
assigning, by one or more processors, a frequency score to the candidate landmark based on a number of times the user has visited the candidate landmark;
assigning, by one or more processors, a recency score to the candidate landmark based on an amount of time since the candidate landmark was most recently visited by a user; and
combining, by one or more processors, the frequency score and the recency score to generate an overall score for the candidate landmark.
10. The method of any of claims 7-9, wherein combining the frequency score and the recency score comprises assigning a weight to each of the frequency score and the recency score, and combining the weighted frequency score and recency score.
11. The method of any of claims 7-10, wherein selecting a navigation landmark for at least one of the set of navigation instructions comprises:
for each navigation instruction in the set of navigation instructions:
identifying, by one or more processors, a candidate landmark; and
assigning, by one or more processors, a score to the candidate landmark based on at least one of: (i) a frequency with which the user has visited the candidate landmark or (ii) an amount of time since the user recently visited the candidate landmark;
selecting, by one or more processors, a subset of candidate landmarks having a score above a threshold score; and
for each navigation instruction associated with the selected landmark, a navigation instruction is generated that references the selected landmark.
12. The method of any of claims 7-11, wherein selecting a navigational landmark within a threshold distance of the particular location for maneuvering comprises:
obtaining, by one or more processors, an indication of a plurality of points of interest previously visited by a user based on the location history;
identifying, by one or more processors, a subset of the plurality of points of interest within a threshold distance of the particular location for manipulation; and
selecting, by one or more processors, one of a subset of points of interest as the navigational landmark based on at least one of: (i) a frequency with which the user has visited each of the points of interest in the subset, or (ii) an amount of time since the user recently visited each of the points of interest in the subset.
13. The method of any of claims 7-12, wherein selecting a navigational landmark within a threshold distance of the particular location for the maneuver includes selecting a navigational landmark within a threshold distance of an intersection for the maneuver.
14. A method of providing search suggestions based on familiarity with a user, the method comprising:
receiving, at one or more processors, a geographic search query from a user of a portable device;
obtaining, by one or more processors, a location history of a user;
identifying, by one or more processors, a set of search results in response to the geographic search query, the set of search results including at least one point of interest previously visited by a user in accordance with the location history;
causing, by one or more processors, provision of the set of search results via a user interface of the portable device, wherein the set of search results is annotated with a description of a relationship between the point of interest and the user according to the location history.
15. The method of claim 14, further comprising:
ranking, by one or more processors, each of the search results in the set of search results according to relevance to the geographic search query;
promoting, by one or more processors, a ranking of search results in the set of search results that have been previously visited by a user according to the location history; and
causing, by one or more processors, provision of the set of search results in a ranked order via a user interface of the portable device.
16. The method of claim 15, wherein promoting a ranking of search results in the set of search results that have been previously visited by a user comprises:
assigning, by one or more processors, a score to each of the search results in the set of search results according to relevance to the geographic search query;
increasing, by one or more processors, a score of a search result in a search result set corresponding to a point of interest that a user has previously visited; and
ranking, by one or more processors, each of the search results in the set of search results according to the score.
17. The method of claim 15 or 16, wherein promoting, by one or more processors, a ranking of search results in the set of search results that have been previously visited by a user according to the location history comprises:
assigning, by one or more processors, a first score to each of the search results in the set of search results according to relevance to the geographic search query;
assigning, by one or more processors, a second score to each of the search results in the set of search results based on a number of times the user has visited the point of interest corresponding to the search result;
assigning, by one or more processors, a third score to each of the search results in the set of search results based on an amount of time since a user most recently visited a point of interest corresponding to the search result;
combining, by one or more processors, the first score, the second score, and the third score to generate an overall score for each of the search results in the set of search results; and
ranking, by one or more processors, each of the search results in the set of search results according to the overall score.
18. The method of any of claims 14-17, wherein annotating the set of search results with a description of a relationship between the point of interest and a user comprises at least one of:
annotating the search result set with an indication of a frequency with which the user has visited the point of interest; or
Annotating the search result set with an indication of a most recent time that the user has visited the point of interest.
19. The method of any of claims 14-17, wherein the geographic search query is a partial geographic search query and the set of search results are search suggestions responsive to the partial geographic search query.
20. The method according to any one of claims 14-17, further comprising:
causing, by one or more processors, an indication of each of the search results to be presented in a digital map display.
21. A computer system comprising one or more processors configured to perform the method of any preceding claim.
22. A non-transitory computer-readable medium comprising executable instructions that, when executed by a computing system, cause the computing system to perform the method of any of claims 1-21.
Applications Claiming Priority (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
PCT/US2018/049664 WO2020050842A1 (en) | 2018-09-06 | 2018-09-06 | Displaying personalized landmarks in a mapping application |
Publications (1)
Publication Number | Publication Date |
---|---|
CN112368546A true CN112368546A (en) | 2021-02-12 |
Family
ID=63714028
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN201880095189.3A Pending CN112368546A (en) | 2018-09-06 | 2018-09-06 | Displaying personalized landmarks in mapping applications |
Country Status (6)
Country | Link |
---|---|
US (2) | US11821747B2 (en) |
EP (3) | EP3797263A1 (en) |
JP (2) | JP7209746B2 (en) |
KR (1) | KR102549472B1 (en) |
CN (1) | CN112368546A (en) |
WO (1) | WO2020050842A1 (en) |
Cited By (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN113240816A (en) * | 2021-03-29 | 2021-08-10 | 泰瑞数创科技(北京)有限公司 | AR and semantic model based city accurate navigation method and device |
CN113360792A (en) * | 2021-06-30 | 2021-09-07 | 北京百度网讯科技有限公司 | Information recommendation method and device, electronic equipment and storage medium |
CN113572891A (en) * | 2021-07-14 | 2021-10-29 | 青岛海信移动通信技术股份有限公司 | Intelligent reminding method and device and storage medium |
Families Citing this family (4)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US11501403B2 (en) * | 2020-10-06 | 2022-11-15 | Uber Technologies, Inc. | Clickable access point |
US20220414168A1 (en) * | 2021-06-24 | 2022-12-29 | Kyndryl, Inc. | Semantics based search result optimization |
KR102462618B1 (en) * | 2022-06-28 | 2022-11-03 | 주식회사 디버 | Method and apparatus for providing delivery route information for expedited delivery service |
CN114913856B (en) * | 2022-07-11 | 2023-03-31 | 广州小鹏汽车科技有限公司 | Voice interaction method, server and storage medium |
Citations (8)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN101650192A (en) * | 2009-07-30 | 2010-02-17 | 北京四维图新科技股份有限公司 | Electronic navigation map destination setting method, mobile terminal and server terminal |
CN102980587A (en) * | 2011-09-02 | 2013-03-20 | 通用汽车环球科技运作有限责任公司 | Method and system for providing navigational guidance using landmarks |
US9234763B1 (en) * | 2013-08-14 | 2016-01-12 | Google Inc. | Systems and methods for identifying and selecting personalized waypoints for presentation on a map |
US20160076902A1 (en) * | 2014-09-12 | 2016-03-17 | Microsoft Corporation | Colloquial or user-favored route based navigation instructions |
CN106461412A (en) * | 2014-05-30 | 2017-02-22 | 谷歌公司 | Selection and presentation of geographic content in an automotive environment |
CN106687767A (en) * | 2014-09-12 | 2017-05-17 | 微软技术许可有限责任公司 | User geographic area familiarity based navigation instructions |
US20170329780A1 (en) * | 2016-05-10 | 2017-11-16 | Microsoft Technology Licensing, Llc | Collection-Based Searches Along a Route |
US20180143998A1 (en) * | 2016-11-21 | 2018-05-24 | Google Inc. | Electronic map interfaces |
Family Cites Families (40)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
JP3888752B2 (en) * | 1997-11-26 | 2007-03-07 | 富士通テン株式会社 | Navigation device |
JP3749821B2 (en) * | 1999-09-30 | 2006-03-01 | 株式会社東芝 | Pedestrian road guidance system and pedestrian road guidance method |
US6925052B1 (en) * | 1999-10-01 | 2005-08-02 | Agilent Technologies, Inc. | Multi-channel network monitoring apparatus, signal replicating device, and systems including such apparatus and devices, and enclosure for multi-processor equipment |
JP4302872B2 (en) * | 2000-12-12 | 2009-07-29 | パナソニック株式会社 | Landmark update system and navigation device |
JP2004144721A (en) | 2002-10-28 | 2004-05-20 | Nissan Motor Co Ltd | Route guidance system |
GB0324942D0 (en) * | 2003-10-25 | 2003-11-26 | Creo Products Ltd | Baling apparatus and method |
US7831387B2 (en) | 2004-03-23 | 2010-11-09 | Google Inc. | Visually-oriented driving directions in digital mapping system |
JP4388114B2 (en) | 2004-07-13 | 2009-12-24 | パナソニック株式会社 | Destination display device and destination display method |
US7480567B2 (en) | 2004-09-24 | 2009-01-20 | Nokia Corporation | Displaying a map having a close known location |
US8103445B2 (en) | 2005-04-21 | 2012-01-24 | Microsoft Corporation | Dynamic map rendering as a function of a user parameter |
US8155877B2 (en) | 2007-11-29 | 2012-04-10 | Microsoft Corporation | Location-to-landmark |
CA2712720A1 (en) | 2008-02-15 | 2009-08-20 | Tomtom International B.V. | Navigation device, system & method with over the air search module |
US8032296B2 (en) * | 2008-04-30 | 2011-10-04 | Verizon Patent And Licensing Inc. | Method and system for providing video mapping and travel planning services |
US9726495B1 (en) * | 2008-09-19 | 2017-08-08 | International Business Machines Corporation | Method, apparatus and computer program product for sharing GPS navigation information |
JP2012017983A (en) | 2008-11-07 | 2012-01-26 | Mitsubishi Electric Corp | Map display device |
US8600577B2 (en) * | 2008-12-29 | 2013-12-03 | Motorola Mobility Llc | Navigation system and methods for generating enhanced search results |
US20100217525A1 (en) * | 2009-02-25 | 2010-08-26 | King Simon P | System and Method for Delivering Sponsored Landmark and Location Labels |
US8396287B2 (en) * | 2009-05-15 | 2013-03-12 | Google Inc. | Landmarks from digital photo collections |
US20110098910A1 (en) * | 2009-10-22 | 2011-04-28 | Nokia Corporation | Method and apparatus for intelligent guidance using markers |
JP5844034B2 (en) | 2010-08-05 | 2016-01-13 | 株式会社ナビタイムジャパン | Information processing system, information processing server, information processing apparatus, information processing method, and program |
US10142441B2 (en) | 2010-09-24 | 2018-11-27 | Google Llc | Search result annotations |
US8498788B2 (en) | 2010-10-26 | 2013-07-30 | Deere & Company | Method and system for determining a planned path of a vehicle |
WO2012157027A1 (en) | 2011-05-18 | 2012-11-22 | 三菱電機株式会社 | Mobile body navigation device and mobile body navigation system |
US20130035853A1 (en) | 2011-08-03 | 2013-02-07 | Google Inc. | Prominence-Based Generation and Rendering of Map Features |
US8306749B1 (en) | 2011-11-22 | 2012-11-06 | Google Inc. | Systems and methods for route summarization |
US20130147661A1 (en) * | 2011-12-07 | 2013-06-13 | International Business Machines Corporation | System and method for optical landmark identification for gps error correction |
US9618354B2 (en) | 2011-12-23 | 2017-04-11 | Volkswagen Ag | Navigation methods and devices using user-specific landmark types |
US20130217333A1 (en) * | 2012-02-22 | 2013-08-22 | Qualcomm Incorporated | Determining rewards based on proximity of devices using short-range wireless broadcasts |
AU2014223584B9 (en) | 2013-02-26 | 2017-03-02 | Polaris Industries Inc. | Recreational vehicle interactive telemetry, mapping, and trip planning system |
JP2014190952A (en) | 2013-03-28 | 2014-10-06 | Aisin Aw Co Ltd | Navigation system, navigation method and navigation program |
GB201306944D0 (en) | 2013-04-17 | 2013-05-29 | Tomtom Int Bv | Methods, devices and computer software for facilitating searching and display of locations relevant to a digital map |
US9619523B2 (en) | 2014-03-31 | 2017-04-11 | Microsoft Technology Licensing, Llc | Using geographic familiarity to generate search results |
US9910479B2 (en) * | 2014-04-16 | 2018-03-06 | Facebook, Inc. | Location based content promotion on online social networks |
JP2016170270A (en) | 2015-03-12 | 2016-09-23 | 株式会社ゼンリンデータコム | Map display system and map display method |
US10045159B2 (en) * | 2015-07-02 | 2018-08-07 | Qualcomm Incorporated | Providing, organizing, and managing location history records of a mobile device |
US10126141B2 (en) | 2016-05-02 | 2018-11-13 | Google Llc | Systems and methods for using real-time imagery in navigation |
US10024683B2 (en) | 2016-06-06 | 2018-07-17 | Uber Technologies, Inc. | User-specific landmarks for navigation systems |
US10168173B2 (en) | 2016-10-26 | 2019-01-01 | Google Llc | Systems and methods for using visual landmarks in initial navigation |
KR20180088149A (en) * | 2017-01-26 | 2018-08-03 | 삼성전자주식회사 | Method and apparatus for guiding vehicle route |
US11318050B2 (en) * | 2018-01-24 | 2022-05-03 | American Printing House for the Blind, Inc. | Navigation assistance for the visually impaired |
-
2018
- 2018-09-06 CN CN201880095189.3A patent/CN112368546A/en active Pending
- 2018-09-06 US US16/488,513 patent/US11821747B2/en active Active
- 2018-09-06 EP EP18779860.8A patent/EP3797263A1/en active Pending
- 2018-09-06 KR KR1020207035932A patent/KR102549472B1/en active IP Right Grant
- 2018-09-06 EP EP21212250.1A patent/EP3985358A1/en active Pending
- 2018-09-06 WO PCT/US2018/049664 patent/WO2020050842A1/en unknown
- 2018-09-06 JP JP2020567966A patent/JP7209746B2/en active Active
- 2018-09-06 EP EP21212246.9A patent/EP3985357A1/en active Pending
-
2022
- 2022-11-25 JP JP2022188539A patent/JP2023022181A/en active Pending
-
2023
- 2023-10-05 US US18/377,208 patent/US20240027217A1/en active Pending
Patent Citations (8)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN101650192A (en) * | 2009-07-30 | 2010-02-17 | 北京四维图新科技股份有限公司 | Electronic navigation map destination setting method, mobile terminal and server terminal |
CN102980587A (en) * | 2011-09-02 | 2013-03-20 | 通用汽车环球科技运作有限责任公司 | Method and system for providing navigational guidance using landmarks |
US9234763B1 (en) * | 2013-08-14 | 2016-01-12 | Google Inc. | Systems and methods for identifying and selecting personalized waypoints for presentation on a map |
CN106461412A (en) * | 2014-05-30 | 2017-02-22 | 谷歌公司 | Selection and presentation of geographic content in an automotive environment |
US20160076902A1 (en) * | 2014-09-12 | 2016-03-17 | Microsoft Corporation | Colloquial or user-favored route based navigation instructions |
CN106687767A (en) * | 2014-09-12 | 2017-05-17 | 微软技术许可有限责任公司 | User geographic area familiarity based navigation instructions |
US20170329780A1 (en) * | 2016-05-10 | 2017-11-16 | Microsoft Technology Licensing, Llc | Collection-Based Searches Along a Route |
US20180143998A1 (en) * | 2016-11-21 | 2018-05-24 | Google Inc. | Electronic map interfaces |
Cited By (4)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN113240816A (en) * | 2021-03-29 | 2021-08-10 | 泰瑞数创科技(北京)有限公司 | AR and semantic model based city accurate navigation method and device |
CN113240816B (en) * | 2021-03-29 | 2022-01-25 | 泰瑞数创科技(北京)有限公司 | AR and semantic model based city accurate navigation method and device |
CN113360792A (en) * | 2021-06-30 | 2021-09-07 | 北京百度网讯科技有限公司 | Information recommendation method and device, electronic equipment and storage medium |
CN113572891A (en) * | 2021-07-14 | 2021-10-29 | 青岛海信移动通信技术股份有限公司 | Intelligent reminding method and device and storage medium |
Also Published As
Publication number | Publication date |
---|---|
US11821747B2 (en) | 2023-11-21 |
KR102549472B1 (en) | 2023-06-30 |
US20210364311A1 (en) | 2021-11-25 |
WO2020050842A1 (en) | 2020-03-12 |
JP7209746B2 (en) | 2023-01-20 |
EP3797263A1 (en) | 2021-03-31 |
KR20210009359A (en) | 2021-01-26 |
JP2023022181A (en) | 2023-02-14 |
EP3985357A1 (en) | 2022-04-20 |
JP2022500618A (en) | 2022-01-04 |
EP3985358A1 (en) | 2022-04-20 |
US20240027217A1 (en) | 2024-01-25 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US20240027217A1 (en) | Displaying Personalized Landmarks in a Mapping Application | |
JP6671406B2 (en) | Navigation guidance between the automatically determined starting point and the selected destination | |
AU2017278032B2 (en) | User-specific landmarks for navigation systems | |
JP6580703B2 (en) | System and method for disambiguating a location entity associated with a mobile device's current geographic location | |
US20240044665A1 (en) | Navigation directions with a familiar location as an intermediate destination | |
US9354076B2 (en) | Guiding server, guiding method and recording medium recording guiding program | |
CN112654837A (en) | Selecting points of interest for display on a personalized digital map | |
US11526569B2 (en) | Generating directions and routes with personalized landmarks |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
PB01 | Publication | ||
PB01 | Publication | ||
SE01 | Entry into force of request for substantive examination | ||
SE01 | Entry into force of request for substantive examination |