US9183312B2 - Image display within web search results - Google Patents
Image display within web search results Download PDFInfo
- Publication number
- US9183312B2 US9183312B2 US13/795,397 US201313795397A US9183312B2 US 9183312 B2 US9183312 B2 US 9183312B2 US 201313795397 A US201313795397 A US 201313795397A US 9183312 B2 US9183312 B2 US 9183312B2
- Authority
- US
- United States
- Prior art keywords
- search
- resources
- resource
- query
- score
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Expired - Fee Related, expires
Links
- 238000000034 method Methods 0.000 claims abstract description 65
- 238000003780 insertion Methods 0.000 claims description 104
- 230000037431 insertion Effects 0.000 claims description 104
- 238000012545 processing Methods 0.000 claims description 36
- 230000004044 response Effects 0.000 claims description 26
- 230000000977 initiatory effect Effects 0.000 claims description 13
- 238000004891 communication Methods 0.000 claims description 11
- 230000000699 topical effect Effects 0.000 claims description 2
- 238000004590 computer program Methods 0.000 abstract description 14
- 230000008569 process Effects 0.000 description 42
- 238000010586 diagram Methods 0.000 description 12
- 235000002198 Annona diversifolia Nutrition 0.000 description 11
- 241000282842 Lama glama Species 0.000 description 11
- 230000006870 function Effects 0.000 description 4
- 230000007704 transition Effects 0.000 description 4
- 230000008901 benefit Effects 0.000 description 3
- 230000003993 interaction Effects 0.000 description 3
- 230000000644 propagated effect Effects 0.000 description 3
- 238000013515 script Methods 0.000 description 3
- 238000000926 separation method Methods 0.000 description 3
- 238000013459 approach Methods 0.000 description 2
- 230000003287 optical effect Effects 0.000 description 2
- 239000000523 sample Substances 0.000 description 2
- 238000010845 search algorithm Methods 0.000 description 2
- 230000026676 system process Effects 0.000 description 2
- 230000005540 biological transmission Effects 0.000 description 1
- 238000004422 calculation algorithm Methods 0.000 description 1
- 239000000470 constituent Substances 0.000 description 1
- 230000009193 crawling Effects 0.000 description 1
- 238000005516 engineering process Methods 0.000 description 1
- 239000004973 liquid crystal related substance Substances 0.000 description 1
- 239000004065 semiconductor Substances 0.000 description 1
- 230000001953 sensory effect Effects 0.000 description 1
- 239000000758 substrate Substances 0.000 description 1
- 238000012546 transfer Methods 0.000 description 1
- 230000000007 visual effect Effects 0.000 description 1
Images
Classifications
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/90—Details of database functions independent of the retrieved data types
- G06F16/95—Retrieval from the web
- G06F16/953—Querying, e.g. by the use of web search engines
- G06F16/9538—Presentation of query results
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/90—Details of database functions independent of the retrieved data types
- G06F16/95—Retrieval from the web
- G06F16/953—Querying, e.g. by the use of web search engines
- G06F16/9535—Search customisation based on user profiles and personalisation
-
- G06F17/30867—
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/50—Information retrieval; Database structures therefor; File system structures therefor of still image data
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/50—Information retrieval; Database structures therefor; File system structures therefor of still image data
- G06F16/53—Querying
- G06F16/538—Presentation of query results
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/90—Details of database functions independent of the retrieved data types
- G06F16/95—Retrieval from the web
- G06F16/951—Indexing; Web crawling techniques
-
- G06F17/30244—
-
- G06F17/30864—
Definitions
- This specification relates to search query processing.
- the Internet provides access to a wide variety of resources, for example, webpages, image files, audio files, and videos.
- a search system selects one or more resources in response to receiving a search query that a user submits to satisfy the user's informational needs.
- the search queries are usually in the form of text, e.g., one or more query terms.
- the search system selects and scores resources based on their relevance to the search query and on their importance relative to other resources, and provides search results that link to the selected resources.
- the search results are typically ordered according to the scores and presented according to this order.
- a corpus is a collection of resources.
- Each corpus can include resources of one or more types.
- a general web corpus can include HTML documents, images documents, videos, etc.
- an image corpus on the other hand, can be limited to a collection of images and metadata for the images.
- a search engine searches. For example, a search engine searches a general resource corpus index to search resources based on the textual content of the resources and relative authority ratings of the resources.
- Search results resulting from a search of the general resource corpus index typically include a title of the resource, a snippet of text from the resource, and a link to the resource.
- a search engine searches an image corpus index to search for images that are responsive to a search query.
- the image corpus index may index the images based on labels (or text) associated with the images, similarity of the images to other images, click through rates of images with respect to queries, and authority ratings of the images.
- Search results resulting from a search of the image corpus index typically include a thumbnail version of the image, an embedded link to the image, or a web page in which the image is referenced, and optionally label text associated with the image.
- search engines provide the users options to search a particular corpus. Some search engines, however, provide search results for different corpora if the query is indicative of those different corpora. For example, a search engine may provide image search results with general web search results, even though the query was submitted for a search of the general web corpus. Typically the search results for the other corpus (or corpora, if multiple corpora are searched) are shown in a fixed configuration display area and show a fixed number of search results identifying resources in the other corpora that are responsive to the search query.
- One way that a search system decides to search a second corpus during a search of a first corpus is to evaluate an “intent” of a query.
- a query submitted for a search of a general web corpus may have a high “image intent” (e.g., the query may read “puppy photos”).
- One way of determining an intent of a query is to analyze the history of the query and for which corpora users submitted the query for searches. However, if a query is unique or occurs relatively infrequently in a search volume of queries (commonly referred to as a “long tail” query), then discerning the intent of the query may be impossible, or subject to a high degree of error.
- one innovative aspect of the subject matter described in this specification can be embodied in methods that include the actions of accessing an index of first and second resources, the first resources being resources that are different from the second resources; receiving queries for respective searches of the first resources; for each query, initiating a search of the first resources, and receiving, in response to the search, first search scores of the first resources, each first search score corresponding to a first resource and being indicative of the relevance of the first resource to the query; selecting, by the data processing apparatus, at least a proper subset of the queries and for each of the queries in the selected proper subset of queries determining a second resource score of the query, the second resource score of the query being determined independent of a search property ratio of the query; for each query in the proper subset of queries, comparing, by the data processing apparatus, the second resource score of the query to a second resource score threshold; for only each query having a second resource score that meets the second resource score threshold: initiating a search of the second resources for the query and receiving, in response to the search, second search scores
- Another innovative aspect of the subject matter described in this specification can be embodied in methods that include the actions of accessing an index of first and second resources, the first resources being resources that are different from the second resources; for each indexed first resource: selecting, from a query log, queries for which search results referencing the first resource were selected at a user device in response to the queries; for each of the queries, accessing data specifying an actual search property ratio for the query, the actual search property ratio being a ratio of a first number of times the query was used to search first resources and a second number of times the query was used to search second resources; and determining, by the data processing apparatus, a resource search property ratio score for the first resource based on the actual search property ratios of each of the queries; identifying websites hosting the first resources, each website hosting one or more of the first resources; determining, for each of the websites, a website search property ratio based on the actual search property ratios of each of the queries for which search results referencing the first resource hosted on the website were selected.
- Other embodiments of this aspect include
- the system is better able to accurately model the intent of the query using existing intent models. Accordingly, the system begins to “trade off” the inferred interest measures to actual interest measures.
- the scoring resulting from existing modeling processes for frequently occurring queries becomes more authoritative. Accordingly, a query need not have a minimum history from which its intent may be measured; instead, it is possible from the first instance of the query to infer an intent for particular types of other resources, and to service searches of the other resources at the first instance of the query. Again, this increases the likelihood of satisfying users' informational needs.
- FIG. 1A is block diagram of an environment in which a search engine provides search services.
- FIG. 1B is a graph of a query volume distribution.
- FIGS. 2A and 2B are illustrations of search results pages.
- FIG. 3 is a block diagram of an example implementation of an image search results insertion system.
- FIG. 4 is a flow diagram of an example process for determining resource scores for queries and performing searches according to the resource scores.
- FIG. 5 is a flow diagram of an example process determining a resource score for a query.
- FIG. 6 is a flow diagram of an example process for determining resource and website search property ratios.
- FIG. 7 is a flow diagram of an example process for determining a weighted insertion score for a query.
- This specification describes technologies relating to search query processing for displaying search results for second resources with search results for first resources that are different from the second resources.
- an example context of displaying image search results with general web search results is used; however, the systems and methods described in this specification are applicable to determining whether to display search results of any type of second resources with search results of any type of first resources that are different from the second resources.
- a search system receives a search query from a user device for a search of a general resource index (a search of “first resources”, e.g., web pages).
- the search system determines whether a search for images (“second resources”) should be conducted with the search of the general resource index. If the query has a sufficient history from which an image intent can be determined, then the system processes an image search for the query if the image intent of the query exceeds a threshold.
- the system If, however, the query does not have a sufficient history from which an image intent can be determined (or the confidence of the image intent does not meet a confidence threshold), then the system generates an image score (also referred to as a “second resource score” in the generalized case) from resources that are determined to be responsive to the query.
- the image score is a measure of the relatedness of images to the query.
- the resources that are used to generate the image score are determined from a search of a proper subset of available resources to conserver system resources. If the image score meets a threshold, then the system processes an image search for the query.
- the system determines an insertion score.
- the insertion score is proportional to a search property ratio for the query.
- an actual search property ratio can be determined from the respective corpora searched by the query.
- an actual search property ratio may be inaccurate or indeterminate.
- the system determines an insertion score based on search property ratios determined for resources (resource search property ratio) and websites hosting the resources (website search property ratios).
- the resource and website search property ratios which are also referred to as “inferred search property ratios,” are determine from the search property ratios of other queries that were used to identify the resources.
- the insertion score for image search results is the result of a weighting of a first insertion score based on the actual search property ratio and a second insertion score based on the inferred search property ratios.
- the weighting causes the first insertion score to become more authoritative in determining the insertion score.
- the second insertion score is more authoritative.
- FIG. 1 is a block diagram of an example environment 100 for a domain video scoring system 120 .
- the example environment 100 includes a network 102 , e.g., a local area network (LAN), wide area network (WAN), the Internet, or a combination of them, that connects servers 104 , user devices 106 , and the search system 110 .
- the environment 100 may include many thousands of servers 104 and user devices 106 .
- a web site 104 is a one or more resources 105 associated with a domain name, and each web site is hosted by one or more servers.
- An example web site is a collection of webpages formatted in hypertext markup language (HTML) that can contain text, graphic images, multimedia content, and programming elements, such as scripts.
- HTML hypertext markup language
- Each web site 104 is maintained by a publisher, e.g., an entity that manages and/or owns the web site.
- Two particular types of resources are webpage resources 107 and image resources 108 .
- Each resource type is associated with a resource address, such as a URL.
- Webpage resources include text and may also include links to other types of resources that are rendered and displayed with the text of the webpage resource.
- image resources 108 are often rendered with webpage resources 107 .
- An example of an image resource 108 is data that is used to render an image of a subject. While image resources are typically included in webpage resources 107 , they can also be hosted as separately addressable resources.
- the search engine 110 identifies the resources by crawling the publisher web sites 104 and indexing the resources provided by the publisher web sites 104 .
- the indexes are stored in a resource corpus index 112 and an image corpus index 114 .
- the indexes 112 and 114 are shown as separate indexes.
- the indexes can be combined in a single index, and a search for a respective corpus can be constrained to the portion of the combined index that is used to index the respective corpus, and/or based on a particular search process specific to the corpus.
- the searching of web pages may entail a first search algorithm and scoring process to search the index
- the searching of image resources may entail a second search algorithm and scoring process that is different from the first to search the index.
- a user can specify which corpus to search.
- the resource corpus index 112 is searched, and resources are ranked based on information retrieval (“IR”) scores that measure the relevance of the resource to the query, and optionally an authority score of each resource relative to other resources, and perhaps other appropriate search scores, depending on the search system used.
- IR information retrieval
- the search results are ranked based on relevance scores that are a combination (e.g., sums, products, or other mathematical combinations) of these constituent search scores.
- the search results 111 are ordered according to these relevance scores and provided to the user device according to the order.
- the search system 110 accesses the image corpus index 114 .
- the search system 110 determines a relevance score for an image (e.g., relevance with respect to label data for an image, and/or other techniques for determining relevance of an image to a textual query) and combines the score with a relevance feedback score of the image.
- a relevance score is a score derived from a click-through rate of an image when that image is referenced in an image search result.
- the user devices 106 receive the search results, e.g., in the form of one or more webpages, and render the pages for presentation to users.
- the user device 106 requests the resource identified by the link.
- the web site 104 hosting the resource receives the request for the resource from the user device 106 and provides the resource to the requesting user device 106 .
- Search queries 109 submitted during user sessions are stored in a data store such as the historical search data store 116 .
- Selection data specifying actions taken in response to search results provided are also stored in the historical data store 116 .
- the data stored in the historical data store can be used to map search queries 109 submitted during search sessions to resources that were identified in search results 111 , and the actions taken by users.
- Data stored in the historical search data store 116 may be anonymized so that personal identifying information is removed, thus protecting the privacy of users.
- the search results are data generated by the search system 110 that identifies resources that are responsive to a particular search query.
- Each search result includes a link to a corresponding resource, e.g., a link to a webpage for a general search result, or link to an image for an image search result.
- An example general search result includes a webpage title, a snippet of text, and a URL of the webpage.
- An example image search result includes a thumbnail of an image, a URL of the webpage in which the image is referenced, and, optionally, labeled data describing the subject of the image.
- the search system 110 allows users to specify which corpus is to be searched for a search query.
- the search system 110 may present, by use of user interface, and input menu that allows the user to select the resource corpus index 112 , or the image corpus index 114 when submitting a search query. For example, if the user is solely interested in images, the user may select the image corpus index 114 for searching. Conversely, if the user is interested primarily in text articles, the user may elect to search only the resource corpus index 112 .
- the search system 110 uses different search processes for each respective index 112 and 114 .
- search queries may indicate that a user is searching for a particular type of content indexed in a particular corpus. For example, for the search query “llama fencing,” there may only be a few high-quality images that are responsive to the query, but there are many webpages that are very responsive to the query.
- historical search data may indicate that most users select general search results in response to the query “llama fencing,” and very few image search results are ever selected. Conversely, for another query, there may be many high-quality images that are responsive to the query, and the historical search data may indicate that many users select image results in response to this query.
- the search system 110 includes an image search results insertion system 120 .
- the insertion system 120 determines an image intent for a search query. If the image intent meets an intent threshold, then the search system 110 searches the image corpus index 114 and generates image search results for inclusion with the general search results.
- the search results page 200 is a page returned in response to the query 202 (“llama fencing”).
- the query 202 (“llama fencing”).
- very few images may be associated with labeled data that are relevant to the query “llama fencing.”
- those images that are associated with the labeled data that are relevant to the query “llama fencing” may have relatively low click through rates for the query.
- the query “llama fencing” may be submitted by users for a search of the resource index 112 much more frequently than for search of the image corpus index 114 .
- the insertion system 120 can account for some or all of these facts to determine whether the query “llama fencing” meets an image intent threshold.
- Each search result 204 includes a title of a webpage, a snippet of text that is relevant to the search query 202 , and a link to the webpage.
- the search system 110 For query that meets an image intent threshold, the search system 110 returns a search results page with image search results displayed in an image display environment.
- the search results page 220 of FIG. 2B is an example results pages for a query that meet an image intent threshold.
- the image intent for the query 222 (“first annual llama show”) has been determined to meet a threshold image intent, and a set 226 of image search results 228 are shown at an ordinal position determined by an insertion score.
- the insertion system 120 determines the intent score and subsequent scores based on an appropriate corpus model 130 .
- Each corpus model 130 may take into account various factors specific to the corpus to which it corresponds.
- One such factor is a search property ratio.
- a search property ratio for a particular corpus is a value that is proportional to a number of times the search query was submitted for a search of the particular corpus to a number of times that the search query was submitted for a search of a different corpus or different corpora.
- the image search property ratio of a query submitted for a search of the resource corpus 112 is the number of times the search query was submitted for a search of the image corpus 114 to a number of times that the search query was submitted for a search of the web corpus 112 .
- Search property ratios can be accurately measured for queries with a sufficient history in the historical search data 116 . However, for long tail queries, search property ratios may be highly inaccurate due to the lack of historical data.
- the concept of a long tail query is illustrated in FIG. 1B , which is a graph 150 of a query volume distribution.
- the queries that occur in the region 152 are queries that occur relatively often when compared to the queries that occur in the region 154 .
- the search volume of queries in the region 154 asymptotically approaches zero, and thus the graph depicts a “long tail” of low search volume queries.
- query intent can be accurately determined for the queries in the region 152 , but may be very inaccurate for queries in the region 154 .
- the distinct line separating the regions 152 and 154 is illustrative only and not necessarily indicative of the actual data. Typically, the separation between the regions 152 and 154 occurs across a band of queries, as the queries and volume of queries are constantly varying over time.
- the query “first annual llama show” is the first instance of the query received by the search system 110 (or the query has been received so few times that an accurate corpus model 130 for the query is not available). Because the query intent may not be readily determined from the historical data, the insertion system 120 cannot use the existing corpus model for images to determine whether and where to provide image search results. The insertion system 120 could be configured to automatically process the query for an image search to determine if quality images are available; however, the amount of additional search processing resources that would be required for each long tail query could be prohibitively expensive. Furthermore, processing an image search for each long tail query is not an efficient use of computing resources.
- the insertion system 120 determines a second resource score for the query.
- the second resource score is a measure of relatedness of the query to the second resources. If the second resource score meets a threshold, then a triggering module in the insertion system 120 causes the search of the second corpus to be performed.
- the query “first annual llama show” had a second resource score (e.g., and image score because the second resources are images) that met the threshold, and an image search was thus done to identify the images and generate the image search results 228 .
- FIG. 3 is a block diagram of an example implementation of an image search results insertion system 120 .
- the image insertion system 120 inserts image search results into a listing of general search results. More generally, the insertion system 120 inserts search results for second resources into the search results of first resources that are of a different type than the type of the second resources.
- the architecture of the insertion system 120 is illustrative only, and other architectures that distribute the described functionalities in a different manner among different processing stages can also be used.
- FIG. 4 is a flow diagram of an example process for determining resource scores for queries and performing searches according to the resource scores.
- the insertion system 120 receives a search query ( 402 ).
- the user of the user device 106 may submit a search query of one more terms to a search engine 118 .
- the search engine 118 provides the query to an image displayed trigger module 122 .
- the trigger module 122 is used to determine a resource score for the query.
- the search query is also used to search the first resources.
- the first resources are scored by first search scores. Each first search score is indicative of the relevance of a first resource to the query.
- the image trigger display module 122 determines whether a confidence score for the query meets a confidence threshold ( 404 ). For example, if the query is not a long tail query, and has sufficient historical data from which an image intent can be determined (e.g., there is enough information to accurately determine a search property ratio), then the confidence threshold is met. Otherwise, the confidence measure is not met.
- the image trigger display module 122 determines whether the search property ratio of the query meets a search property ratio threshold ( 406 ). If the search property ratio threshold is not met, then the system 120 does not conduct a search of the second resources (e.g., the system does not conduct an image search) ( 408 ). If, however, the search property ratio does meet the threshold, then the system 120 conducts a search of the second resources ( 410 ).
- the system determines a second resource score for the query ( 412 ).
- the second resource score of the query is a measure of the relatedness of the query to second resources, and is used to determine whether to commit system resources for a search of the second resources.
- the insertion system 120 can determine for each of these queries whether to conduct a search of the second resources based on the second resource score.
- FIG. 5 is a flow diagram of an example process 500 determining a resource score for a query.
- the process 500 for each query for which the query confidence score does not meet the threshold, initiates a search of a proper subset of second resources ( 502 ).
- the indexes are sharded among processing leaf nodes, where each leaf node processes a portion of the indexes.
- a search for second resources is conducted. For example, for an image search, a search in approximately X % of the leaf nodes is conducted. In various implementations, X may range from as little as 1% up to 25%.
- the system can leverage off the scoring of the first resources resulting from the search of the first resources. For example, if the first resources are web pages and the second resources are images, then the scored web pages in the selected X % of the leaf nodes are selected, and images on those web pages are scored using an image scoring algorithm.
- the process 500 receives search scores of second resources ( 504 ). Each search score for the query corresponds to a second resource and is indicative of the relevance of the second resource to the query.
- the process 500 determines a first number of first resources that include a second resource that has a corresponding search score that meets a search score threshold ( 506 ).
- the indexes 112 and 114 are used to map images to web page resources.
- the process 500 determines, from the scored proper subset of images, how many web pages include at least one of the images with search score that meets the threshold. For example, assume that 1,000 images are scored, and that the 1,000 images are distributed among 500 web pages. Of those 500 web pages, 300 include at least one of the 1,000 images that have a score that exceeds the search score threshold.
- search score can be based on one or more of an image selection rate that is a measure of image search result selection of image search results referencing the image, an image topicality score that is a measure of topical relatedness of the image to the query, and an image relevance score based on one or more of image features and labels, to name just a few.
- the process 500 determines a second number of first resources that include at least one of the second resources ( 508 ). For example, as described above, the 1,000 images are distributed among 500 web pages, and thus the second number is 500.
- the process 500 determines the second resource score for the query based on the first and second numbers ( 510 ). For example, in some implementations, the process determines a ratio of the first number to the second number. In the example above, the ratio is 300/500, or 0.6, and thus the second resource score is 0.6.
- the system can, for example, determine how many web pages are scored (or at least have a first search score that meets a minimum relevance threshold) in response to the query, and use this value as the denominator.
- the denominator determines how many web pages are scored (or at least have a first search score that meets a minimum relevance threshold) in response to the query, and use this value as the denominator.
- 2,000 web pages are determined to meet this alternate criterion. Accordingly, given that 300 web pages include at least one of the 1,000 images that have a score that exceeds the search score threshold, the second resource score is 300/2,000, or 0.15.
- the process 400 determines whether the second resource score meets a second resource score threshold ( 414 ).
- the second resource score threshold may be selected based on a variety of factors, such as how aggressive (or conservative) the system should be in provided search results for the second resources. For example, for the resource score computed by the process 500 of FIG. 5 , a threshold in the range of 0.1-0.7 can be used. Other threshold values can also be used.
- the system 120 does not conduct a search of the second resources (e.g., the system does not conduct an image search) ( 408 ). If, however, the second resource score does meet the threshold, then the system 120 conducts a search of the second resources ( 410 ). Because a proper subset of second resources has already been searched for a query with confidence scores that do not meet the confidence threshold, the search need only be done on the remaining second resources that are not included in the proper subset. For example, as described above, the initial search was conducted for X % of the leaf nodes; thus, the search is now done for the remaining (100 ⁇ X) % of the leaf nodes. Accordingly, by utilizing only X % of the leaf nodes to evaluate long tail queries, the system conserves significant resources, and only fully utilizes system resources for long tail queries that are determined to be highly related to the second resources based on the second resource score.
- the process 400 determines an insertion score for search results for the second resources ( 416 ).
- the insertion score defines an ordinal insertion position at which second resource search results referencing second resources are to be inserted into a ranking of first resource search results referencing first resources.
- a process for determining the insertion score is described with reference to FIG. 6 below.
- the process 400 then generates a search results resource for displaying second resource search results with first resource search results ( 418 ).
- the first resource search results are ranked according to the first search scores and displayed according to their respective ordinal positions in the ranking.
- the second resource search results are display at the ordinal insertion position.
- One example search results resource is depicted in FIG. 2B above.
- the insertion score defines an ordinal insertion position at which the search results for second resources are inserted into the ranked search results for first resources. For example, if the first resource search results have scores in a range of 1-2 N , where the score represents a measure of relevance of a resource to the query, and N is an integer value, the insertion score will fall within this range. This ensures that the search results for the second resources can be processed for ranking in the same manner that search results for the first resources are processed.
- the insertion score can be the actual ordinal position at which the image display environment is to be displayed. For example, if a search results page displays N search results (N is typically 10, but can be any integer value), the insertion score may range from 1-N.
- the insertion system 120 can determine an insertion score that is based, in part, on the search property ratio of the query.
- SPR(Q) is an actual search property ratio of the query determined from historical data
- IR( ⁇ I ⁇ ) is a score based on the quality scores of the images that are determined to be responsive to the query Q.
- ISPRs[R, W] are the inferred search property ratios that include resource search property ratios and website search property ratios.
- the inferred search property ratios can be determined in a variety of ways.
- a resource search property ratio of a resource is determined from actual search property ratios of queries for which search results referencing the resource were selected at a user device in response to the queries.
- a website search property ratio is determined from the resource search property ratios of resources hosted by the website.
- FIG. 6 is a flow diagram of an example process 600 for determining resource and website search property ratios.
- the process 600 accesses an index of resources ( 602 ).
- the insertion system 120 accesses the index 112 , which indexes first resources.
- the process 600 select queries for which search results referencing the first resource were selected at a user device in response to the queries and determine actual search property ratios for the queries ( 604 ). For example, if a particular resource was identified in a search result for a particular query Q and the search result was selected, then the query Q is selected.
- the process 600 determines a resource search property ratio score for the first resource based on the actual search property ratios of each of the queries ( 606 ).
- the resource search property ratio can, for example, be based on a central tendency of the search property ratios of the selected queries, e.g., an average or a median, for example.
- the process 600 then identifies websites hosting resources ( 608 ). For each website, the process 600 determines a website search property ratio based on the actual search property ratios of each of the queries for which search results referencing the first resource hosted on the website were selected. In some implementations, the website search property ratio can be based on the resource search property ratios (e.g., an average or median of the resource search property ratios).
- the website search property ratio can be used as a search property ratio of a new resource that is hosted by the website but for which very little search history is available. For example, assume a new web page is created on a web site that is very image intensive (e.g., a website hosting photos and stories regarding celebrities). As the majority of the pre-existing web pages on the web site have a relatively high resource search property ratio, the website search property ratio will likewise be relatively high. However, because very little search history is available for the new web page, a confidence measure for the resource search property ratio is low. The confidence measure may be based on, for example, a number of selections of the resource, a number of queries that have been used to identify the resource, or some other appropriate signal. A low confidence measure is indicative of the resource search property ratio being inaccurate, or being unable to be determined. Accordingly, the website search property ratio for the resource is used.
- the inferred search property ratios for resources that are determined to be responsive to a query can be used to determine an insertion score for long-tail queries.
- the insertion score for a long tail query is based on the inferred search property ratios of a proper subset of the top M ranked resources for the query.
- the insertion score is proportional to a ratio of a first number of resources in the proper subset of resources having a resource search property ratio meeting a resource search property ratio threshold to a second number that is equal to the cardinality of the proper subset of resources.
- the insertion score can be based on a sigmoid that varies from 1 ⁇ Z, where Z ⁇ 1 is the cardinality of search results shown in a search results page.
- the sigmoid is centered about value J, where J is the number that is less than M.
- a number of the top ranked resources having a resource search property ratio of at least R is determined.
- the value of R may be less than or greater than 1, and can be selected by system administrators. As the number approaches J and surpasses J, the insertion score rapidly increases from Z to 1. That rate of the sigmoid can be determined by a scaling constant.
- the insertion score may be Z, meaning image search results are inserted at the bottom of a search results page that normally includes Z search results. If, however, J of the resources have resource search property ratio that is at least 1.0, then the insertion score may be approximately Z/2; likewise, if J+5 of the resources have a search property ratio that is at least 1.0, then the insertion score may be 2, or even 1.
- a proxy search property ratio can be determined for the long-tail query and the insertion score can be computed according to equation (1) above.
- the proxy search property ratio is based on one or more of the resource search property ratio scores of the selected resources and website search property ratios of websites on which the selected resources are hosted.
- the proxy search property ratio may, for example, be a central tendency of the inferred search property ratios of the top M ranked resources.
- the insertion score for search results for a long tail query is a weighted score of a weighting of a first insertion score based on the actual search property ratio and a second insertion score based on the inferred search property ratios.
- the weighting causes the first insertion score to become more authoritative in determining the insertion score.
- the second insertion score is more authoritative.
- FIG. 7 is a flow diagram of an example process for determining a weighted insertion score for a query.
- the process 700 determines a first insertion score based on an actual search property ratio for the query ( 702 ). For example, for each query, equation (1) above may be used to determine the first insertion score.
- the process 700 determines a second insertion score based on inferred search property ratios for the query ( 704 ).
- the second insertion score may be determined by equation (2) above, utilizing the ratio function or the sigmoid function described above.
- a proxy search property ratio score may be determined for the query, and equation (1) may be used to determine the second insertion score.
- the process 700 determines a final insertion score based on the first insertion score and the second insertion score ( 706 ).
- the first insertion score may be weighted by a value that is proportional to a frequency of occurrence of the query
- the second insertion score may be weighted by a value that is proportional to a number of times the search results referencing resources in the proper subset of resources for the query have been selected.
- the weighting function may be such that the first weight becomes predominate as the history of the search query causes the search query to transition away from the long tail. This is because the actual search property ratio is considered to be a more accurate signal of the relatedness of a query to a particular resource type. Thus, no matter the selection history of particular resources, once the actual search property ratio of a query can be determined with a high degree of confidence, the corpus model 130 for that query become predominate in determining the insertion score.
- the proxy search property ratio for a long tail query can be used as the second resource score as well.
- the second resource score is based on the proxy search property ratio.
- Embodiments of the subject matter and the operations described in this specification can be implemented in digital electronic circuitry, or in computer software, firmware, or hardware, including the structures disclosed in this specification and their structural equivalents, or in combinations of one or more of them.
- Embodiments of the subject matter described in this specification can be implemented as one or more computer programs, i.e., one or more modules of computer program instructions, encoded on computer storage medium for execution by, or to control the operation of, data processing apparatus.
- the program instructions can be encoded on an artificially-generated propagated signal, e.g., a machine-generated electrical, optical, or electromagnetic signal, that is generated to encode information for transmission to suitable receiver apparatus for execution by a data processing apparatus.
- a computer storage medium can be, or be included in, a computer-readable storage device, a computer-readable storage substrate, a random or serial access memory array or device, or a combination of one or more of them.
- a computer storage medium is not a propagated signal, a computer storage medium can be a source or destination of computer program instructions encoded in an artificially-generated propagated signal.
- the computer storage medium can also be, or be included in, one or more separate physical components or media (e.g., multiple CDs, disks, or other storage devices).
- the operations described in this specification can be implemented as operations performed by a data processing apparatus on data stored on one or more computer-readable storage devices or received from other sources.
- the term “data processing apparatus” encompasses all kinds of apparatus, devices, and machines for processing data, including by way of example a programmable processor, a computer, a system on a chip, or multiple ones, or combinations, of the foregoing
- the apparatus can include special purpose logic circuitry, e.g., an FPGA (field programmable gate array) or an ASIC (application-specific integrated circuit).
- the apparatus can also include, in addition to hardware, code that creates an execution environment for the computer program in question, e.g., code that constitutes processor firmware, a protocol stack, a database management system, an operating system, a cross-platform runtime environment, a virtual machine, or a combination of one or more of them.
- the apparatus and execution environment can realize various different computing model infrastructures, such as web services, distributed computing and grid computing infrastructures.
- a computer program (also known as a program, software, software application, script, or code) can be written in any form of programming language, including compiled or interpreted languages, declarative or procedural languages, and it can be deployed in any form, including as a stand-alone program or as a module, component, subroutine, object, or other unit suitable for use in a computing environment.
- a computer program may, but need not, correspond to a file in a file system.
- a program can be stored in a portion of a file that holds other programs or data (e.g., one or more scripts stored in a markup language document), in a single file dedicated to the program in question, or in multiple coordinated files (e.g., files that store one or more modules, sub-programs, or portions of code).
- a computer program can be deployed to be executed on one computer or on multiple computers that are located at one site or distributed across multiple sites and interconnected by a communication network.
- the processes and logic flows described in this specification can be performed by one or more programmable processors executing one or more computer programs to perform actions by operating on input data and generating output.
- the processes and logic flows can also be performed by, and apparatus can also be implemented as, special purpose logic circuitry, e.g., an FPGA (field programmable gate array) or an ASIC (application-specific integrated circuit).
- processors suitable for the execution of a computer program include, by way of example, both general and special purpose microprocessors, and any one or more processors of any kind of digital computer.
- a processor will receive instructions and data from a read-only memory or a random access memory or both.
- the essential elements of a computer are a processor for performing actions in accordance with instructions and one or more memory devices for storing instructions and data.
- a computer will also include, or be operatively coupled to receive data from or transfer data to, or both, one or more mass storage devices for storing data, e.g., magnetic, magneto-optical disks, or optical disks.
- mass storage devices for storing data, e.g., magnetic, magneto-optical disks, or optical disks.
- a computer need not have such devices.
- Devices suitable for storing computer program instructions and data include all forms of non-volatile memory, media and memory devices, including by way of example semiconductor memory devices, e.g., EPROM, EEPROM, and flash memory devices; magnetic disks, e.g., internal hard disks or removable disks; magneto-optical disks; and CD-ROM and DVD-ROM disks.
- semiconductor memory devices e.g., EPROM, EEPROM, and flash memory devices
- magnetic disks e.g., internal hard disks or removable disks
- magneto-optical disks e.g., CD-ROM and DVD-ROM disks.
- the processor and the memory can be supplemented by, or incorporated in, special purpose logic circuitry.
- a computer having a display device, e.g., a CRT (cathode ray tube) or LCD (liquid crystal display) monitor, for displaying information to the user and a keyboard and a pointing device, e.g., a mouse or a trackball, by which the user can provide input to the computer.
- a display device e.g., a CRT (cathode ray tube) or LCD (liquid crystal display) monitor
- keyboard and a pointing device e.g., a mouse or a trackball
- Other kinds of devices can be used to provide for interaction with a user as well; for example, feedback provided to the user can be any form of sensory feedback, e.g., visual feedback, auditory feedback, or tactile feedback; and input from the user can be received in any form, including acoustic, speech, or tactile input.
- a computer can interact with a user by sending documents to and receiving documents from a device that is used by the user; for example, by sending webpages to a
- Embodiments of the subject matter described in this specification can be implemented in a computing system that includes a back-end component, e.g., as a data server, or that includes a middleware component, e.g., an application server, or that includes a front-end component, e.g., a client computer having a graphical user interface or a Web browser through which a user can interact with an implementation of the subject matter described in this specification, or any combination of one or more such back-end, middleware, or front-end components.
- the components of the system can be interconnected by any form or medium of digital data communication, e.g., a communication network.
- Examples of communication networks include a local area network (“LAN”) and a wide area network (“WAN”), an inter-network (e.g., the Internet), and peer-to-peer networks (e.g., ad hoc peer-to-peer networks).
- the computing system can include clients and servers.
- a client and server are generally remote from each other and typically interact through a communication network. The relationship of client and server arises by virtue of computer programs running on the respective computers and having a client-server relationship to each other.
- a server transmits data (e.g., an HTML page) to a client device (e.g., for purposes of displaying data to and receiving user input from a user interacting with the client device).
- Data generated at the client device e.g., a result of the user interaction
Abstract
Description
Insertion_Score(Q)=f(SPR(Q),IR({I}) (1)
where
Insertion_Score(Q)=f(ISPRs[R,W]) (2)
where
Claims (15)
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US13/795,397 US9183312B2 (en) | 2012-03-20 | 2013-03-12 | Image display within web search results |
Applications Claiming Priority (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US201261613132P | 2012-03-20 | 2012-03-20 | |
US13/795,397 US9183312B2 (en) | 2012-03-20 | 2013-03-12 | Image display within web search results |
Publications (2)
Publication Number | Publication Date |
---|---|
US20150161268A1 US20150161268A1 (en) | 2015-06-11 |
US9183312B2 true US9183312B2 (en) | 2015-11-10 |
Family
ID=53271416
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US13/795,397 Expired - Fee Related US9183312B2 (en) | 2012-03-20 | 2013-03-12 | Image display within web search results |
Country Status (1)
Country | Link |
---|---|
US (1) | US9183312B2 (en) |
Cited By (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US9773035B1 (en) * | 2015-06-09 | 2017-09-26 | Yandex Europe Ag | System and method for an annotation search index |
US10482120B2 (en) * | 2015-12-16 | 2019-11-19 | Waste Repurposing International, Inc. | Waste identification systems and methods |
Families Citing this family (10)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
KR102072113B1 (en) * | 2012-10-17 | 2020-02-03 | 삼성전자주식회사 | User terminal device and control method thereof |
US10691746B2 (en) | 2015-07-13 | 2020-06-23 | Google Llc | Images for query answers |
RU2640639C2 (en) * | 2015-11-17 | 2018-01-10 | Общество С Ограниченной Ответственностью "Яндекс" | Method and system of search query processing |
US10482091B2 (en) * | 2016-03-18 | 2019-11-19 | Oath Inc. | Computerized system and method for high-quality and high-ranking digital content discovery |
US10789287B2 (en) * | 2016-07-05 | 2020-09-29 | Baidu Usa Llc | Method and system for multi-dimensional image matching with content in response to a search query |
US10579902B2 (en) | 2016-12-21 | 2020-03-03 | Samsung Electronics Co., Ltd. | Method and electronic device for providing text-related image |
CN107908655B (en) * | 2017-10-12 | 2019-03-19 | 北京三快在线科技有限公司 | A kind of method and apparatus of positioning |
US10896213B2 (en) * | 2018-03-07 | 2021-01-19 | Google Llc | Interface for a distributed network system |
CN109522345A (en) * | 2018-11-19 | 2019-03-26 | 百度在线网络技术（北京）有限公司 | For showing the method and device of information |
CN110427553B (en) * | 2019-07-26 | 2022-05-17 | 百度在线网络技术（北京）有限公司 | Searching method and device for intelligent sound box, server and storage medium |
Citations (11)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20050171946A1 (en) * | 2002-01-11 | 2005-08-04 | Enrico Maim | Methods and systems for searching and associating information resources such as web pages |
US20050210017A1 (en) * | 2004-03-16 | 2005-09-22 | Microsoft Corporation | Error model formation |
US20050246332A1 (en) * | 2004-04-30 | 2005-11-03 | Yahoo ! Inc. | Method and apparatus for performing a search |
US20060074898A1 (en) * | 2004-07-30 | 2006-04-06 | Marsal Gavalda | System and method for improving the accuracy of audio searching |
US20080059456A1 (en) * | 2004-12-29 | 2008-03-06 | Aol Llc, A Delaware Limited Liability Company (Formerly Known As America Online, Inc.) | Domain Expert Search |
US20100153143A1 (en) * | 1999-11-01 | 2010-06-17 | David Baggett | Availability processing in a travel planning system |
US20100306235A1 (en) * | 2009-05-28 | 2010-12-02 | Yahoo! Inc. | Real-Time Detection of Emerging Web Search Queries |
US20100306193A1 (en) * | 2009-05-28 | 2010-12-02 | Zeitera, Llc | Multi-media content identification using multi-level content signature correlation and fast similarity search |
US20110213766A1 (en) * | 2010-02-22 | 2011-09-01 | Vertica Systems, Inc. | Database designer |
US20120011142A1 (en) * | 2010-07-08 | 2012-01-12 | Qualcomm Incorporated | Feedback to improve object recognition |
US8407207B1 (en) | 2011-05-12 | 2013-03-26 | Google Inc. | Measuring video content of web domains |
-
2013
- 2013-03-12 US US13/795,397 patent/US9183312B2/en not_active Expired - Fee Related
Patent Citations (11)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20100153143A1 (en) * | 1999-11-01 | 2010-06-17 | David Baggett | Availability processing in a travel planning system |
US20050171946A1 (en) * | 2002-01-11 | 2005-08-04 | Enrico Maim | Methods and systems for searching and associating information resources such as web pages |
US20050210017A1 (en) * | 2004-03-16 | 2005-09-22 | Microsoft Corporation | Error model formation |
US20050246332A1 (en) * | 2004-04-30 | 2005-11-03 | Yahoo ! Inc. | Method and apparatus for performing a search |
US20060074898A1 (en) * | 2004-07-30 | 2006-04-06 | Marsal Gavalda | System and method for improving the accuracy of audio searching |
US20080059456A1 (en) * | 2004-12-29 | 2008-03-06 | Aol Llc, A Delaware Limited Liability Company (Formerly Known As America Online, Inc.) | Domain Expert Search |
US20100306235A1 (en) * | 2009-05-28 | 2010-12-02 | Yahoo! Inc. | Real-Time Detection of Emerging Web Search Queries |
US20100306193A1 (en) * | 2009-05-28 | 2010-12-02 | Zeitera, Llc | Multi-media content identification using multi-level content signature correlation and fast similarity search |
US20110213766A1 (en) * | 2010-02-22 | 2011-09-01 | Vertica Systems, Inc. | Database designer |
US20120011142A1 (en) * | 2010-07-08 | 2012-01-12 | Qualcomm Incorporated | Feedback to improve object recognition |
US8407207B1 (en) | 2011-05-12 | 2013-03-26 | Google Inc. | Measuring video content of web domains |
Cited By (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US9773035B1 (en) * | 2015-06-09 | 2017-09-26 | Yandex Europe Ag | System and method for an annotation search index |
US10482120B2 (en) * | 2015-12-16 | 2019-11-19 | Waste Repurposing International, Inc. | Waste identification systems and methods |
Also Published As
Publication number | Publication date |
---|---|
US20150161268A1 (en) | 2015-06-11 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US9183312B2 (en) | Image display within web search results | |
US8924372B2 (en) | Dynamic image display area and image display within web search results | |
US8805829B1 (en) | Similar search queries and images | |
US9594826B2 (en) | Co-selected image classification | |
US9251206B2 (en) | Generalized edit distance for queries | |
US9805102B1 (en) | Content item selection based on presentation context | |
RU2731658C2 (en) | Method and system of selection for ranking search results using machine learning algorithm | |
US11789946B2 (en) | Answer facts from structured content | |
EP3485394B1 (en) | Contextual based image search results | |
US9251202B1 (en) | Corpus specific queries for corpora from search query | |
RU2733481C2 (en) | Method and system for generating feature for ranging document | |
US11461801B2 (en) | Detecting and resolving semantic misalignments between digital messages and external digital content | |
EP2633393A1 (en) | Rich results relevant to user search queries for books | |
US9990425B1 (en) | Presenting secondary music search result links | |
US10025830B1 (en) | Aggregation of disparate entity lists for local entities | |
US9996851B1 (en) | Performance based content item ranking | |
US9251171B2 (en) | Propagating image signals to images | |
US20180285937A1 (en) | Content item configuration evaluation | |
WO2022055506A1 (en) | Automated user language detection for content selection |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
AS | Assignment |
Owner name: GOOGLE INC., CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:DASHER, GRANT;MILLER, DAVID R.H.;REEL/FRAME:030321/0689Effective date: 20130311 |
|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |
|
AS | Assignment |
Owner name: GOOGLE LLC, CALIFORNIAFree format text: CHANGE OF NAME;ASSIGNOR:GOOGLE INC.;REEL/FRAME:044334/0466Effective date: 20170929 |
|
MAFP | Maintenance fee payment |
Free format text: PAYMENT OF MAINTENANCE FEE, 4TH YEAR, LARGE ENTITY (ORIGINAL EVENT CODE: M1551); ENTITY STATUS OF PATENT OWNER: LARGE ENTITYYear of fee payment: 4 |
|
FEPP | Fee payment procedure |
Free format text: MAINTENANCE FEE REMINDER MAILED (ORIGINAL EVENT CODE: REM.); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
LAPS | Lapse for failure to pay maintenance fees |
Free format text: PATENT EXPIRED FOR FAILURE TO PAY MAINTENANCE FEES (ORIGINAL EVENT CODE: EXP.); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
STCH | Information on status: patent discontinuation |
Free format text: PATENT EXPIRED DUE TO NONPAYMENT OF MAINTENANCE FEES UNDER 37 CFR 1.362 |
|
FP | Lapsed due to failure to pay maintenance fee |
Effective date: 20231110 |