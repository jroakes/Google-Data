US9516329B2 - Method for dual pass rate control video encoding - Google Patents
Method for dual pass rate control video encoding Download PDFInfo
- Publication number
- US9516329B2 US9516329B2 US14/809,754 US201514809754A US9516329B2 US 9516329 B2 US9516329 B2 US 9516329B2 US 201514809754 A US201514809754 A US 201514809754A US 9516329 B2 US9516329 B2 US 9516329B2
- Authority
- US
- United States
- Prior art keywords
- picture
- pass
- pictures
- encoding
- video
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Expired - Fee Related
Links
Images
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/102—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the element, parameter or selection affected or controlled by the adaptive coding
- H04N19/124—Quantisation
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/102—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the element, parameter or selection affected or controlled by the adaptive coding
- H04N19/103—Selection of coding mode or of prediction mode
- H04N19/114—Adapting the group of pictures [GOP] structure, e.g. number of B-frames between two anchor frames
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/102—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the element, parameter or selection affected or controlled by the adaptive coding
- H04N19/115—Selection of the code volume for a coding unit prior to coding
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/102—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the element, parameter or selection affected or controlled by the adaptive coding
- H04N19/117—Filters, e.g. for pre-processing or post-processing
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/134—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the element, parameter or criterion affecting or controlling the adaptive coding
- H04N19/142—Detection of scene cut or scene change
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/134—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the element, parameter or criterion affecting or controlling the adaptive coding
- H04N19/146—Data rate or code amount at the encoder output
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/134—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the element, parameter or criterion affecting or controlling the adaptive coding
- H04N19/146—Data rate or code amount at the encoder output
- H04N19/15—Data rate or code amount at the encoder output by monitoring actual compressed data size at the memory before deciding storage at the transmission buffer
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/134—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the element, parameter or criterion affecting or controlling the adaptive coding
- H04N19/146—Data rate or code amount at the encoder output
- H04N19/152—Data rate or code amount at the encoder output by measuring the fullness of the transmission buffer
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/169—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the coding unit, i.e. the structural portion or semantic portion of the video signal being the object or the subject of the adaptive coding
- H04N19/17—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the coding unit, i.e. the structural portion or semantic portion of the video signal being the object or the subject of the adaptive coding the unit being an image region, e.g. an object
- H04N19/172—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the coding unit, i.e. the structural portion or semantic portion of the video signal being the object or the subject of the adaptive coding the unit being an image region, e.g. an object the region being a picture, frame or field
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/169—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the coding unit, i.e. the structural portion or semantic portion of the video signal being the object or the subject of the adaptive coding
- H04N19/17—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the coding unit, i.e. the structural portion or semantic portion of the video signal being the object or the subject of the adaptive coding the unit being an image region, e.g. an object
- H04N19/176—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the coding unit, i.e. the structural portion or semantic portion of the video signal being the object or the subject of the adaptive coding the unit being an image region, e.g. an object the region being a block, e.g. a macroblock
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/169—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the coding unit, i.e. the structural portion or semantic portion of the video signal being the object or the subject of the adaptive coding
- H04N19/186—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the coding unit, i.e. the structural portion or semantic portion of the video signal being the object or the subject of the adaptive coding the unit being a colour or a chrominance component
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/189—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the adaptation method, adaptation tool or adaptation type used for the adaptive coding
- H04N19/192—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the adaptation method, adaptation tool or adaptation type used for the adaptive coding the adaptation method, adaptation tool or adaptation type being iterative or recursive
- H04N19/194—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the adaptation method, adaptation tool or adaptation type used for the adaptive coding the adaptation method, adaptation tool or adaptation type being iterative or recursive involving only two passes
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/102—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the element, parameter or selection affected or controlled by the adaptive coding
- H04N19/103—Selection of coding mode or of prediction mode
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/102—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the element, parameter or selection affected or controlled by the adaptive coding
- H04N19/103—Selection of coding mode or of prediction mode
- H04N19/107—Selection of coding mode or of prediction mode between spatial and temporal predictive coding, e.g. picture refresh
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/169—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the coding unit, i.e. the structural portion or semantic portion of the video signal being the object or the subject of the adaptive coding
- H04N19/179—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the coding unit, i.e. the structural portion or semantic portion of the video signal being the object or the subject of the adaptive coding the unit being a scene or a shot
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/169—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the coding unit, i.e. the structural portion or semantic portion of the video signal being the object or the subject of the adaptive coding
- H04N19/184—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the coding unit, i.e. the structural portion or semantic portion of the video signal being the object or the subject of the adaptive coding the unit being bits, e.g. of the compressed video stream
Definitions
- Video images in an information stream can be transmitted to a user via a broadband communication network, for instance, over a satellite, cable, or terrestrial transmission medium.
- Efficient transmission of video requires compression and formatting techniques to be utilized, for instance, due to bandwidth limitations.
- Various protocols, such as MPEG protocols, have been designed to maximize bandwidth utilization for video information transmission by adding a temporal component to a spatial compression algorithm.
- Each individual image or picture in a sequence of images or pictures of video can be referred to as a frame or field.
- Each picture or frame is made up of a large number of picture elements (pixels) that define the image.
- redundant pixels describe like parts of a scene, e.g. a blue sky.
- Various types of compression algorithms have been used to remove redundant spatial elements thereby decreasing the bandwidth requirements for image transmission.
- sequences of frames of video may contain pixels that are very similar or identical.
- compression and motion compensation protocols such as MPEG, can be used to minimize the redundant pixels between adjacent frames.
- ITU-T H.264/MPEG-4 part 10 provides an example of an International video coding standard.
- ITU-T H.264/MPEG-4 part 10 is often referred to as MPEG-4 AVC (Advanced Video Coding).
- MPEG-4 AVC achieves data compression by utilizing coding tools, such as, spatial and temporal prediction, blocks of variable sizes, multiple references, integer transform blended with quantization operation, and entropy coding.
- MPEG-4 AVC supports adaptive frame and field coding at picture level and is able to encode pictures at relatively low bit rates yet maintains a desired quality of picture, or video quality.
- Rate control is used to dynamically adjust encoding parameters so that the resulting compressed bit rate can meet a target bit rate. Rate control is important to regulate the encoded bit stream to satisfy the channel condition and to enhance the reconstructed video quality.
- the complexity of a video frame or picture is measured by the product of the quantization level used to encode the frame or picture and the number of bits used for coding the frame or picture. This means the complexity of a frame or picture is not known until it has been encoded. As a result, the complexity information always lags behind the actual encoding process, which requires the buffering of a number of frames prior to encoding.
- CBR constant bit rate
- quantization is used as a means for adjusting the number of bits in a coded picture
- buffer management is used as a means for providing a constant bit rate stream under conditions of widely varying number of bits per coded picture while trying to maintain uniform quality in reconstructed (i.e., decoded) video.
- identifying a scene change at a cut and managing an abrupt change in video coding that may occur at a scene change boundary provide challenges and can impact video quality.
- the video quality experienced during the “old” (i.e., previous) scene should not noticeably degrade going into the cut.
- the video quality of the new scene immediately following the cut should be the same as the “steady state” video quality for the scene as a whole.
- transitioning from an easy to encode (i.e., low complexity) scene to a hard to encode (i.e., high complexity) scene transitioning from a hard to encode (i.e., high complexity) scene to an easy to encode (i.e., low complexity) scene, or transitioning between comparable scenes (with respect to coding efficiency) that may code significantly different.
- coded pictures vary greatly in size, and each video encoding standard must specify a buffer model for constant bit rate output from the encoder.
- H.264/MPEG-4 standard requires a coded picture buffer (CPB) of a hypothetical reference decoder (HRD); while, the H.262/MPEG-2 standard requires a video buffer verifier (VBV).
- CPB coded picture buffer
- HRD hypothetical reference decoder
- VBV video buffer verifier
- a video encoder must never violate the given buffer model.
- the problem is to balance the need to avoid violating the model and yet still use the fullest possible extent of the buffer to ensure that video quality is maximized for a given bit rate.
- a video encoder must select an integer quantizer for each and every macroblock in every picture or image.
- the quantizer provides the primary bit rate control mechanism of the encoder. The higher the quantizer, the lower the number of coded picture bits, and the lower the quantizer, the higher the number of coded picture bits.
- Rate control algorithms of encoders must provide the ability to derive from a target number of bits for a picture, or a subset of a picture, the quantizer value that will lead the encoder to encode the video to the desired number of bits, or as close as possible to the desired number of bits.
- the range of available quantizers may be small, for instance, limited to 52 values between zero (0) and 51 for the H.264/MPEG-4 standard. Thus, a small change in selected quantizer value can result in a large change in number of bits coded.
- the H.264/MPEG-4 standard is designed such that a quantizer value decrease of one (1) should lead to a bit increase of about 12%.
- the percent change can be quite variable and, when increasing or decreasing the quantizer value by greater than one (1), the percent bit change may not be accurately predicted because the percentages tend not to scale well. Accordingly, the ability to accurately predict the number of bits produced via use of a quantizer value can be difficult. An accurate prediction is a necessary condition for an effective solution to buffer management issues discussed above.
- a dual-pass MPEG video encoder and rate control algorithm that are able to address video quality issues at scene changes and provide scene change detection that prevent encoder buffer overflows, yet avoid buffer underflows that might harm video quality, and that can be used for straight constant bit rate (CBR) encoding as well as piece-wise CBR encoding, such as in a statistical multiplexer (stat-mux) system, are needed.
- CBR constant bit rate
- This disclosure describes a method of dual-pass rate control video encoding.
- Uncompressed input video is received with an video encoder and includes a sequence of pictures with a plurality of contiguous sequences of pictures each referred to as a Group of Pictures (GOP) that, when coded, begin with an I-picture in display order and end with a last picture before a next I-picture.
- a first encoding pass of the uncompressed video is performed with the video encoder, and a second encoding pass of the uncompressed video is performed with the video encoder at a delay relative to the first encoding pass.
- GOP Group of Pictures
- the first encoding pass detects scene changes within the input video, assigns macroblocks to a pre-determined number of activity classes, and determines a complexity of each picture within the sequence of pictures.
- the term “macroblocks” refers to rectangular arrays of luma samples and two corresponding blocks of chroma samples in the pictures
- the term “activity class” refers to different defined classes of macroblocks based on luma values of the pictures of the input video
- complexity refers to a number of bits generated per picture and activity class.
- Information from the first encoding pass concerning the scene changes, the activity classes, and the complexity are used for rate control determined in the second encoding pass for producing and outputting a bit stream of compressed video.
- the boundaries of at least some of the GOPs are adjusted to be aligned with the scene changes.
- This disclosure also describes a method of dual-pass rate control video encoding in which uncompressed input video is received with a video encoder and includes a sequence of pictures.
- the input video includes a plurality of contiguous sequences of pictures each referred to as a Group of Pictures (GOP) that, when coded, begin with an I-picture in display order and end with a last picture before a next I-picture.
- the GOP also includes picture types encoded as P pictures, B pictures and B-reference pictures.
- a first encoding pass of the uncompressed video is performed with the video encoder to detect scene changes, to assign macroblocks to a pre-determined number of activity classes, and to determine a complexity of each picture within the sequence of pictures.
- a second encoding pass for rate control of the uncompressed video with the video encoder is performed at a delay relative to the first encoding pass.
- Information from the first encoding pass concerning the scene changes, the activity classes, and the complexity are used for rate control determined in the second encoding pass for producing and outputting a bit stream of compressed video.
- Quantizer values for rate control are determined by the second encoding pass for each macroblock on a per picture type and activity class basis, and during the second encoding pass, each macroblock determined to require a maximum quantizer value by the video encoder is encoded as a skip picture if encoding the macroblock with a maximum quantizer value would cause an overflow of the coded picture buffer (CPB) of the video encoder.
- CPB coded picture buffer
- This disclosure also describes a dual-pass rate control video encoder including a first and a second encoder module.
- the first pass encoder module being configured to receive uncompressed input video including a sequence of pictures having a plurality of contiguous sequences of pictures each referred to as a Group of Pictures (GOP) that, when coded, begin with an I-picture in display order and end with a last picture before a next I-picture.
- the first pass encoder module is configured to detect scene changes within the input video, assign macroblocks to a pre-determined number of activity classes, and determine a complexity of each picture within the sequence of pictures.
- the encoder also includes a delay unit for receiving the uncompressed input video.
- the second pass encoder module receives the uncompressed input video via the delay unit and is configured to obtain information from the first pass encoder module concerning the scene changes, the activity classes, and the complexity used to determine rate control of the uncompressed video and to produce and output a bit stream of compressed video. At least one of the first pass encoder module and the second pass encoder module is configured to adjust the boundaries of at least some of the GOPs to be aligned with the scene changes.
- FIG. 1 illustrates a block diagram of a two-pass encoder according to an embodiment.
- FIG. 2 is a flowchart with respect to process steps performed during a first encoding pass according to an embodiment.
- FIG. 3 is a flowchart with respect to process steps performed during a second encoding pass according to an embodiment.
- FIG. 1 illustrates a block diagram of a two-pass MPEG encoder 10 having a first pass encoder module 12 and a second pass encoder module 14 receiving the same input video sequence 16 .
- the input video sequence 16 passes through a storage and delay unit 18 before being input into the second pass encoder module 14 to provide a delay between first encoding pass in the first pass encoder module 12 and second encoding pass in the second pass encoder module 14 .
- steps 22 and 42 in FIG. 3 see steps 22 and 42 in FIG. 3 .
- the first encoding pass is performed at a variable bit rate (VBR) while the second pass encoding can produce and output compressed video 20 , for instance, at a predetermined constant bit rate (CBR).
- VBR variable bit rate
- CBR constant bit rate
- the encoder 10 can be a CBR encoder, or alternatively, a statistical multiplexer (stat-mux) encoder.
- the two-pass encoder 10 may be a MPEG-4 AVC encoder and may include hardware, such as, a processor or other circuit used for encoding. It should be understood that the two-pass MPEG-4 AVC encoder may include additional components and that some of the components described herein may be removed and/or modified without departing from a scope of the two-pass MPEG-4 AVC encoder 10 . Also, although the two-pass encoder 10 is primarily described with respect to MPEG-4 AVC, it should be apparent that embodiments of the invention may be used with different video coding standards, such as MPEG-2.
- the first encoding pass and the second encoding pass are performed approximately in parallel with an offset provided by the delay unit 18 .
- the results obtained by the first recording pass are used in the second encoding pass.
- the first encoding pass may be performed ahead of the second encoding pass by an approximately constant number of pictures, for example, about 30 pictures.
- the delay may also be measured in time, for instance, a 1 second delay. Because the first encoding pass is ahead of the second encoding pass, the first encoding pass is able to provide information for use in the second encoding pass before the second pass encoder module 14 begins to process the video pictures.
- picture refers to a field or a frame.
- intra prediction refers to a prediction derived from decoded samples within the same or current decoded picture
- inter prediction refers to a prediction derived from decoded samples of reference pictures other than the same or current decoded picture
- reference picture refers to a picture containing samples that may be used for inter prediction of subsequent pictures in decoding order.
- macroblock refers to a rectangular array of luma samples and two corresponding blocks of chroma samples.
- the anchor frames or pictures may include the following types of pictures: I-pictures, P-pictures, B-pictures, and B-reference pictures.
- An I-picture is a picture or groups of pixels (macroblocks) that are decoded using intra-prediction techniques only.
- a P-picture is a picture that may be decoded using either intra-prediction or inter-prediction with at most one motion vector and reference to predict samples values of each block.
- a P-picture can contain references to previously encoded pictures within a sequence of pictures.
- a B-picture is a picture that may be decoded using either intra prediction or inter-prediction with at most two motion vectors (i.e., bi-directional) and references to predict samples values of each block.
- B-pictures can contain macroblocks referred from previously encountered frames and macroblocks from frames that follow the frame being currently analyzed, and B-pictures can entail a type of look-ahead scheme to describe the currently analyzed image in terms of an upcoming image.
- a B-reference picture is a picture that is both a B-picture and a reference picture.
- Both B-picture and P-picture encoding reduce duplication of pixels by calculating motion vectors associated with macroblocks in a reference frame or picture, resulting in reduced bandwidth requirements.
- the choice of encoding type for a particular frame or picture is typically dependent upon the complexity of the particular image.
- a contiguous sequence of coded pictures in decode order that begins with an I-picture and ends with the last picture just before the next I-picture is referred to as a Group of Pictures (GOP).
- a sub-GOP is a contiguous sequence of coded pictures in display order starting with an I-picture or a P-picture and ending with the last picture just before the next I-picture or P-picture.
- a picture-type sequence may be: IBBPBBPBBI.
- the GOP structure is represented as “IBBPBBPBB” which includes the following sub-GOPs: “IBB”, “PBB”, and “PBB”.
- the rate control algorithm discussed herein and used by the encoder 10 is GOP based. All key parameters are calculated on a GOP-by-GOP basis and are subject to change at GOP boundaries.
- scene changes are aligned with GOP boundaries.
- Video quality at scene changes (cuts) of an old scene should not noticeably degrade going into a cut, and video quality of a new scene immediately following the cut should be the same as the stead-state video quality of the scene as a whole. In other words, there should be no “easing-in” to the new scene; rather, the new scene should have the correct video quality from the outset.
- the sub-GOP containing the first picture of a new scene and the exact picture at which the new scene starts is determined by the first pass encoder 12 .
- the rate control algorithm replaces the P-picture with an I-picture. (See step 36 in FIG. 2 ) As a result, a new GOP will start near every scene change. Since scenes may be coded very differently by encoder 10 , accurate detection of the scene change cuts as discussed above permits high overall video quality to be achieved in the video coding process.
- every picture of a given type (I, P, B, reference B) is coded with a constant quantizer in the first pass for all macroblocks of that picture type for purposes of providing a uniform metric across all scenes.
- quantizer refers to the variable (i.e. quantization parameter (QP)) used in a video coding process to scale transform coefficients. The larger the quantizer, the smaller are the absolute values of the scaled coefficients and hence the number of bits generated for a given macroblock.
- the quantizer selected for each macroblock is the primary means by which second pass encoding controls bits generated (output) by the encoder; however, in first pass encoding by encoder 10 , a constant quantizer is used for all macroblocks of a given picture type.
- the first encoding pass 24 of encoder 10 is used for purposes of scene-change detection using macroblock activity values (see step 30 in FIG. 2 ), discussed in greater detail below, so that GOP boundaries near scene changes can be adjusted as discussed above.
- the first encoding pass 24 of encoder 10 is also used for purposes of data collection so that a model of complexity can be built (see step 28 in FIG. 2 ) and made available for use during second pass encoding (see step 46 in FIG. 3 ).
- the term “complexity” refers to the generated bits per picture and activity class which are determined during first pass encoding, and the term “activity class” defines different classes of macroblocks based on original input luma values.
- first pass encoding 24 of encoder 10 may be used to generate the following data on a per picture basis: picture type; scene change flag; header bits; generated bits per activity class; number of macroblocks per activity class, and average macroblock activity per activity class.
- activity classes there are a pre-determined number (M) of activity classes (k), and every macroblock in every picture has a well-defined activity which is categorized according to its activity class (k). The activity calculation is based on the original input picture from input video (see step 22 in FIG. 2 ).
- first pass encoding 24 provided by first pass encoder 12
- second pass encoder module 14 a sufficient amount of data is collected so that complexity metrics can be calculated for use during second pass rate control encoding (see step 44 in FIG. 3 ) provided by second pass encoder module 14 .
- the average complexity for a given picture type and activity class is calculated across every GOP to provide a clean separation between scenes (see step 48 in FIG. 3 ) and permits each scene to be coded in second pass encoding 44 in the most appropriate manner and with uniform video quality across the GOP, and hence the scene. Accordingly, ratios between the average complexity values are used for the calculation of bit allocation and quantizer selection in second pass encoding 44 of encoder 10 . (See step 50 in FIG. 3 .)
- the target encoder buffer fullness at the beginning of each GOP and at every intermediate picture within a GOP is calculated by the encoder 10 .
- Encoder buffer fullness is treated differently for different types of scenes by encoder 10 . For example, at the beginning of a scene with little motion the encoder buffer is set to a low value so that a large I-picture can begin the GOP with the other pictures within the GOP being proportionately much smaller. Compliance with the buffer model of any given standard is guaranteed by construction and thus, there can be no buffer overflow. This is ensured by substituting minimal encoded pictures of known size after encoding, but before delivery of the final bit stream, if the final bit stream would cause the buffer to overflow. (See step 58 in FIG. 3 .)
- the prediction of encoded bits generated for a given quantizer may not be very accurate.
- a multiplier to target bits to adjust for failure of accurate bit prediction is used during second pass encoding by encoder 10 . (See step 54 in FIG. 3 .) This ensures that the buffer is used effectively by more accurately meeting target buffer fullness at every picture and that target coded picture bits for a given quantizer and activity class can be accurately predicted for purposes of improving accuracy in coded bit prediction and quantizer selection.
- the use of content-dependent multiplication factors derived from a set of estimation filters provides a mechanism for adjusting for inaccuracies in quantizer model.
- first pass 24 performed by the first pass encoder module 12 of the dual pass encoder 10 : (i) identify scene change 30 ; (ii) adjust GOP boundaries 36 ; and (iii) generate data 38 for use by the second pass encoder module 14 during second pass encoding 44 .
- First pass encoding 24 of encoder 10 obtains as much information as possible and feeds the information to the look-ahead picture buffer 40 of the second pass encoder module 14 .
- the frame or picture at which a scene change occurs and the sub-GOP are pre-identified in the look-ahead picture buffer of the second pass encoder module 14 .
- a nominal P-picture of a sub-GOP is promoted to an I-picture (if not already an I-picture in the sub-GOP) in the look-ahead picture buffer of second pass encoder 14 . See step 36 in FIG. 2 .
- the bits in each coded picture can be divided into residual bits and non-residual bits.
- the non-residual bits include motion vectors as well as macroblock types. Rate control only controls or selects the quantizer used for each macroblock. Macroblocks are classified into activity classes (k) based on original input luma values. Quantizers (QP) are calculated by the second pass encoder 14 on a per activity class basis. See step 50 in FIG. 3 . Only the residual bits are changed by changing the quantizer, the non-residual bits are unaffected by quantizer change.
- the first encoding pass 24 is run with a constant quantizer (QP) for all macroblocks in all activity classes. Only picture bit counts are used because the picture bit counts are consistently accurate. Traditionally, non-residual bit count estimates have been inconsistent and varied and thus are not used. Accordingly, first pass encoding 24 by encoder 10 handles all of the pictures of the input video 16 in a uniform, consistent manner.
- QP constant quantizer
- the first pass encoding 24 of the first pass encoder module 12 is optimized as a data collector and scene detector and does not have the objective of providing single-pass encoding with any type of rate control. Rather, the first pass is responsible for scene detection 30 , for adjusting GOP boundaries 34 , and for building a model of the complexity 28 of the input video 22 for use during second pass encoding 44 .
- the subscript “Ip” is used to denote the P-picture immediately following an I-picture in an interlaced frame coded as an I-field followed by a P-field. Because of scene changes, the length (N) of GOPs will not always be the same nominal value and can vary from GOP to GOP.
- First pass encoding 24 of encoder 10 places the complexities for all coded pictures into a sliding window look-ahead buffer 40 . Since the first pass is run with a constant quantizer over all pictures (for instance, with a QP equal to 30 for all but I-pictures which are encoded with a quantizer of 28), the number of actual bits generated for each picture suffices as the complexity for that picture. Header bits, which include sequence parameter set, picture parameter set, SEI, and access unit delimiter NAL units, are not included in the picture complexities.
- the complexity (total picture bits excluding header bits) for a picture (i) is denoted as c i
- the header bits are denoted as u i
- the picture type (I, P, B-ref, or B) are denoted as ⁇ i .
- the macroblocks of the original (input) pictures are categorized according to their spatial activity (see step 26 in FIG. 2 ) during first pass encoding 24 .
- the spatial activity metric (S) for a macroblock is provided in the functional form: S: L ⁇ m; where L is a 16 ⁇ 16 array of luma values from the macroblock, and m ⁇ 0.
- mb ij denotes the jth macroblock in normal scan order (i.e., left to right, top to bottom)
- Y ij denotes the 16 ⁇ 16 array of luma values.
- macroblocks are classified into M number of activity classes (k) numbered from 0 to M ⁇ 1.
- ⁇ j:A ( mb ij ) k ⁇
- the average macroblock activity is denoted by
- the picture level average macroblock activity (across all activity classes) is used in identifying scene change. For a given picture (i), it is defined as:
- a _ i ⁇ ⁇ mb_count i ( k ) ⁇ a _ i ( k ) mb_count .
- Scene change detection 30 in the first pass encoding 24 is based on average macroblock activity of a set of prior pictures compared with the average macroblock activity of a set of current/next pictures in display order. Because of the possibility of memory limitations, there may be restrictions on the number of pictures used to determine a scene change. For frame based encoding, let X j represent frames indexed by display order (rather than encode order).
- the set of current/next pictures is the set of ⁇ X j0 , X j0+1 ⁇ . For field coded pictures, let X j,1 and X j,2 represent the first and second fields respectively for frame X j (in display order).
- the set of current/next pictures is the set ⁇ X j0,1 , X j0,2 , X j0 ⁇ 1,1 , X j0+1,2 ⁇ .
- a scene change threshold t>0, is defined as follows. A scene change is declared if either of the following conditions is met: (min N ) ⁇ (max P ) ⁇ t, or (1) (min P ) ⁇ (max N ) ⁇ t. (2)
- sc ⁇ ( c i , c j ) ⁇ c i ⁇ c j ⁇ False ( c i ⁇ c j ) ⁇ ( c j ⁇ 5000 ) ⁇ c i > c j + 50000 ( c i ⁇ c j ) ⁇ ( 250000 > c j ⁇ 5000 ) ⁇ c i > ( 5 - 3 ⁇ ⁇ c j 250000 ) ⁇ c j c i ⁇ c j ) ⁇ ( 250000 ⁇ c j ) ⁇ c i > 2 ⁇ ⁇ c j .
- This additional scene change detection is a secondary mechanism and is only invoked if the primary mechanism does not declare a scene change.
- the secondary mechanism as defined may typically only detect a scene change from easy-to-hard to encode scene changes.
- Adjusting GOP boundaries at scene change is accomplished by promoting the P-picture in a scene-change sub-GOP to an I-picture (if there is not already an I-picture). See step 36 in FIG. 2 .
- I-pictures will be inserted at a scene change; however, in some cases, where there are back-to-back sub-GOPs with I-pictures, the earlier I-picture will be demoted to a P-picture.
- any picture type promotion and/or demotion is subject to the constraint that a GOP can be lengthened by at most one sub-GOP, i.e., any GOP-length cannot exceed “normal cadence” GOP-length plus the size of one sub-GOP.
- the data generated by the first pass for use during the second pass includes the following per picture items (see step 38 in FIG. 2 ):
- the rate control provided by the second pass encoding 44 of the second pass encoder module 14 can instantaneously and correctly set the quantizer (QP) at the beginning of each new scene.
- QP quantizer
- the I-picture quantizer at the beginning of an easy scene can be set to 25 and no overflow of the encoder buffer can be assured despite the use of a small quantizer setting.
- a high quantizer setting for a hard scene will be implemented at the beginning of the hard scene, thus an underflow of the buffer should not be experienced during the second pass.
- Video quality at scene change is ensured based on handling of scene change sub-GOPs.
- the first pass identifies which pictures are part of the old scene and which are part of a new scene within a sub-GOP. See steps 32 and 24 of FIG. 2 .
- bits for a given picture are distributed across the number (M) of activity classes (k).
- the notation c i (k) is used for the bits in a picture attributed to the macroblocks in activity class (k).
- the average complexity for a given picture type and activity class can be determined See step 48 in FIG. 3 . If there is insufficient space in the look-ahead buffer to accurately calculate the average complexities, the best approximation based on pictures seen so far is used. These averages are denoted c I (k) , c P (k) , c B-ref (k) , and c B (k) respectively for I, P, B-ref, and B pictures for a given activity class (k). Similarly, the header bit averages within a GOP are denoted by ⁇ I , ⁇ P , ⁇ B-ref , and ⁇ B . The header bits are not associated with any particular macroblock and hence are not associated with any particular activity class.
- a weight is associated with each picture type and activity class in a given GOP.
- the weights are normalized so that the weight for a P-picture is always 1.
- QP quantizer
- An offset between ⁇ 2 and ⁇ 6 in the average quantizer for an I-picture from the average quantizer for a P-picture in the same GOP has been found to provide more uniform visual results in most cases.
- offsets between +2 and 0 for a reference B-picture and between +4 and 0 for a B picture provide more uniform visual results.
- an offset less than ⁇ 6 for an I-picture or greater than 4 for a B-picture (or 2 for a reference B-picture) can be used.
- the total weighted sum across all activity classes is denoted by
- Second pass encoding receives information from First pass encoding with respect to how predictable a current scene may be, more specifically, how well a P picture may be estimated from the associated reference P/I picture and how well the B/Bref can be estimated from the P pictures. From this information, second pass encoding determines how to weight the different picture types. For example, the more predictable the content of the current scene may be, the wider the spread in the weights. Alternatively, if the content within the current scene is not very predictable, the weights converge to a value near 1. However, as the content becomes very predictable, then the weights will spread.
- the size of the coded picture buffer (CPB) is denoted as V; the buffer fullness before encoding a picture is denoted as bf and the desired buffer fullness after encoding the picture is bf′.
- bf i+1 bf′.
- picture_bits i bit_rate i /frame_rate be the average target number of bits for a given picture.
- CBR constant bit rate
- every picture has the same average number of target bits; in a stat-mux case, bit_rate i will vary from frame to frame.
- the index for a first picture in a GOP is denoted as i 0
- the total target bits is denoted by
- lookahead bits must be allocated to the different activity classes.
- a fraction ⁇ of the lookahead bits is allocated to be proportional to the per activity class complexities and the remaining bits to be proportional to the number of macroblocks in a given activity class.
- the number of lookahead bits in a given GOP allocated to activity class (k) is thus denoted by
- lookahead_bits ( k ) ( ⁇ ⁇ C ( k ) C + ( 1 - ⁇ ) ⁇ mb_count ( k ) mb_count ) ⁇ ( lookahead_bits - U ) .
- the fraction ⁇ can be varied between 0.43 and 0.69 based on w I (k) .
- an initial target number of bits for the I picture at the beginning of the next GOP is
- the second field in the frame at the beginning of a GOP is coded as a P-field. If this field has a complexity greater than the average P-picture in the GOP then it needs to be considered along with the I-field according to the multiplier ⁇ where
- ⁇ ⁇ 2 if ⁇ ⁇ c i 1 + 1 > 1.3 ⁇ c _ P 1 otherwise .
- the desired buffer fullness before the beginning I picture in the next GOP (which is equal to the desired buffer fullness after the last picture in the GOP is encoded) is then
- bf i 1 - 1 ′ ⁇ V / 10 , if ⁇ ⁇ ⁇ ⁇ t i 1 > 0.8 ⁇ V ( V - ⁇ ⁇ t i 1 ) / 2 otherwise .
- the desired buffer fullness after encoding picture k can be calculated, if the target number of bits for the picture and the actual encoded bits for the picture were identical.
- q ⁇ n ( k ) ⁇ ⁇ log 2 ⁇ 2 q 1 / ⁇ ⁇ c n ( k ) target_bits n ( k ) .
- the actual number of encoded bits is denoted by ⁇ n (k) . It is not uncommon to find that the estimate is too large by a factor of 2 to 8; this means that the estimated quantizer is too conservative and the actual quantizer should be lower. On the other hand, it is also possible that the estimate could be too small compared to the actual; this situation might prove dangerous because the actual is now larger than the target which could cause the encoder buffer to overflow.
- These large errors, in the ratios (or differences) between actual bits and estimated bits mean that for some scenes, the model, of an approximate 12% increase (or decrease) in bits by lowering (or increasing) the quantizer by one, fails significantly. This becomes more likely the further the initial estimated quantizer is from q 1 .
- a multiplier (to the target bits) is used to adjust for the failure of ê n (k) to accurately predict the number of bits actually generated.
- This multiplier is scene-based (as well as activity-based) and does not change significantly within a scene. There is a different multiplier for each activity class within a scene. Rather than calculating an “instantaneous” multiplier, ê n (k) / ⁇ n (k) , a simple filter over the estimated bits and the actual bits in each activity class within a given scene is performed. There are different filtered values for each picture type.
- the estimated multiplier for picture n and activity class k is denoted by ⁇ circumflex over (m) ⁇ n (k) .
- ⁇ circumflex over (m) ⁇ n (k) 1.
- e ⁇ j , n ( k ) ⁇ e ⁇ n ( k ) , 3 ⁇ e ⁇ j , n - 1 ( k ) + e ⁇ n ( k ) 4 , at the first picture of type j in the scene otherwise.
- ⁇ ⁇ j , n ( k ) ⁇ ⁇ n ( k ) , 3 ⁇ ⁇ ⁇ j , n - 1 ( k ) + ⁇ n ( k ) 4 , at the first picture of type j in the scene otherwise.
- the estimated multipliers for pictures within a scene are calculated by dividing the weighted filtered estimated bits by the weighted filtered actual bits:
- m ⁇ n + 1 ( k ) Clip ⁇ ⁇ 3 ⁇ ( 1 2 , 10 , n I ⁇ e ⁇ I , n ( k ) + n Ip ⁇ e ⁇ Ip , n ( k ) + n P ⁇ e ⁇ P , n ( n ) + n B - ref ⁇ e ⁇ B - ref , n ( k ) + n B ⁇ e ⁇ B , n ( k ) n I ⁇ ⁇ ⁇ I , n ( k ) + n Ip ⁇ ⁇ ⁇ Ip , n ( k ) + n P ⁇ ⁇ ⁇ P , n ( n ) + n B - ref ⁇ ⁇ ⁇ B - ref , n ( k ) + n B ⁇ ⁇ ⁇ B , n ( k ) + n B ⁇ ⁇ ⁇ B
- the estimated multiplier ⁇ circumflex over (m) ⁇ n (k) for the current picture is dependent on the estimated quantizer ⁇ circumflex over (q) ⁇ n ⁇ 1 (k) used for the most recent picture.
- m n ( k ) q ⁇ n - 1 ( k ) - q ⁇ n ( k ) + m ⁇ n ( k ) ⁇ ( q ⁇ n ( k ) - q 1 ) q ⁇ n - 1 ( k ) - q 1 .
- m n ( k ) q ⁇ n ( k ) - q ⁇ n - 1 ( k ) + m ⁇ n ( k ) ⁇ ( q 1 - q ⁇ n ( k ) ) q 1 - q ⁇ n - 1 ( k ) .
- q n ( k ) Clip ⁇ ⁇ 3 ⁇ ( q min , 51 , ⁇ ⁇ log 2 ⁇ 2 q ⁇ ⁇ 1 / ⁇ ⁇ c n ( k ) m n ( k ) ⁇ target_bits n ( k ) ) , where q 1 is the constant quantizer used in the first pass.
- the minimum quant, q min has the value of 10.
- ⁇ (k) is dependent on w 1 (k) .
- ⁇ ⁇ ⁇ ( k ) P ⁇ ⁇ w I ( k ) > 80 ⁇ 0 80 ⁇ w I ( k ) > 2 ⁇ 1 2 ⁇ w I ( k ) > 1 ⁇ 5 - 4 ⁇ ( w I ( k ) - 1 ) 1 ⁇ w I ( k ) ⁇ 5 .
- frame rate reduction is utilized by first calculating the estimated bits for picture n, est_bits n , based on the q n (k) derived above as
- the picture coded as a skip picture from the above frame rate reduction process is a P picture type
- all subsequent B-reference pictures and B pictures that reference the P picture are also encoded as a skip picture.
- the picture coded as a skip picture from the above frame rate reduction process is a B-reference picture type
- all subsequent B pictures that reference the B-reference picture are also encoded as a skip picture. This will prevent buffer overflow and will prevent jitter when the decoded video is played.
- the devices, units, modules, and storage discussed above can physically be provided on a circuit board or within an electronic device and can include various processors, microprocessors, controllers, chips, disk drives, and the like. It will be apparent to one of ordinary skill in the art that the modules, processors, controllers, units, and the like may be implemented as electronic components, software, hardware or a combination of hardware and software.
Abstract
Description
mb_counti (k) =|{j:A(mb ij)=k}|.
The total number of macroblocks for any given picture in a sequence is a constant mb_count so that ∀i: mb_count=Σk=0 M−1mb_counti (k). For a given activity class k and picture (i), the average macroblock activity is denoted by
(min N)−(max P)≧t, or (1)
(min P)−(max N)≧t. (2)
w I (k)=Clip3(22/λ, 2δq
w P (k)=1,
w B-ref (k)=Clip3(2δq
w B (k)=Clip3(2δq
The weighted sum of the complexities per activity class is denoted by
C (k) =n I ·w I (k) ·
The total weighted sum across all activity classes is denoted by
U=(n I ·ū I)+(n P ·ū P)+(n B-ref ·ū B-ref)+(n B ·ū B)
For a given picture k in a GOP, knowing the desired buffer fullness at the end of a GOP, bfi
bfj−1′=bfj′−(t j +u j)+picture_bitsj , j=i 1−1, i−2, . . . , k+1,
where tj is the target number of bits for picture j. If cj is available in the look ahead buffer then we use it in calculating the target bits, otherwise we assume equal distribution of target bits for a given picture type. Thus
Not considering buffer fullness, the target picture bits for the macroblocks in activity class k for picture n is
t n (k) =w τ
and the target picture bits for the entirety of picture n (less the header bits un) is
It is desired that after encoding picture n, the buffer fullness will be the desired buffer fullness from the above recursion, so that ideally,
bfn +t n +u n−picture_bitsn=bfn′.
Because the above equation is not likely to hold true, the target bits are proportionally adjusted by how far off they are from the desired buffer fullness by the factor
The adjusted target picture bits per activity class from which the desired quantizer qn (k) is calculated for activity class k in picture n is then target_bitsn (k)=F·tn (k) from which an initial estimate of the quantizer can be derived for activity class k in picture n,
The estimated number of encoded bits per activity class for this quantizer is then
ê n (k) =c n (k)·2(q
{tilde over (e)} j,n (k) ={tilde over (e)} j,n−1 (k) and {tilde over (α)}j,n (k)={tilde over (α)}j,n−1 (k),
at the first picture of type j in the scene otherwise.
at the first picture of type j in the scene otherwise.
The estimated multiplier {circumflex over (m)}n (k) for the current picture is dependent on the estimated quantizer {circumflex over (q)}n−1 (k) used for the most recent picture. The multiplier that will actually be used in the calculation for picture n is denoted by mn (k). If {circumflex over (q)}n (k)=q1 then clearly mn (k)=1 because the predicted actual bits should be very accurate since the target bits are very close to the first pass bits. If {circumflex over (q)}n (k)={circumflex over (q)}n−1 (k) then mn (k) should be close to {circumflex over (m)}n (k) because that was close to what was used in the previous coded picture. If {circumflex over (q)}n (k)≦q1 and {circumflex over (q)}n−1 (k)≧q1 or if {circumflex over (q)}n (k)≧q1 and {circumflex over (q)}n−1 (k)≦q1 then mn (k)=1. In the other possibilities some interpolation/extrapolation needs to be performed.
- (1) q1<{circumflex over (q)}n 1 (k)<{circumflex over (q)}n (k). This is an extrapolation case and a setting mn (k)={circumflex over (m)}n (k) is used.
- (2) q1<{circumflex over (q)}n (k)≦{circumflex over (q)}n 1 (k). This is interpolated so that
- (3) q1>{circumflex over (q)}n−1 (k)>{circumflex over (q)}n (k). This also is an extrapolation case and mn (k)={circumflex over (m)}n (k) is set.
- (4) q1>{circumflex over (q)}n (k)≧{circumflex over (q)}n−1 (k). This is interpolated so that
where q1 is the constant quantizer used in the first pass. In the current implementation, the minimum quant, qmin, has the value of 10. Quantizers are further constrained such that within a GOP, if picture type τn=P or τn=Ip, then ∀k: 0≦k<M, qn (k)≧qi
For any pictures m and n within the same sub-GOP, if τm=B-ref and τn=P, or if τm=B and τn=B-ref then ∀k: 0≦k<M, qm (k)≧qn (k).
Then the estimated buffer fullness after encoding picture n, denoted by est_bfn, is calculated as
est_bfn=bfn+est_bitsn +u n−picture_bitsn.
When the quantizer for the highest activity class, qn (M−1), calculates to a value greater than 51 before clipping in the above equation for qn (k) and when est_bfn>bfn′ and if est_bfn>0.9·V then we will code picture n as a skip picture under either of the following conditions:
if est_bfn−bfn′>0.2·V and if picture n is a second field or if τn =B or τn =B-ref, or (1)
if est_bfn−bfn′>0.05·V and if τn =B. (2)
Claims (9)
Priority Applications (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US14/809,754 US9516329B2 (en) | 2011-12-19 | 2015-07-27 | Method for dual pass rate control video encoding |
US15/341,704 US9866838B2 (en) | 2011-12-19 | 2016-11-02 | Apparatus for dual pass rate control video encoding |
Applications Claiming Priority (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US13/330,137 US9094684B2 (en) | 2011-12-19 | 2011-12-19 | Method for dual pass rate control video encoding |
US14/809,754 US9516329B2 (en) | 2011-12-19 | 2015-07-27 | Method for dual pass rate control video encoding |
Related Parent Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US13/330,137 Continuation US9094684B2 (en) | 2011-12-19 | 2011-12-19 | Method for dual pass rate control video encoding |
Related Child Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US15/341,704 Continuation US9866838B2 (en) | 2011-12-19 | 2016-11-02 | Apparatus for dual pass rate control video encoding |
Publications (2)
Publication Number | Publication Date |
---|---|
US20150334395A1 US20150334395A1 (en) | 2015-11-19 |
US9516329B2 true US9516329B2 (en) | 2016-12-06 |
Family
ID=47459191
Family Applications (3)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US13/330,137 Expired - Fee Related US9094684B2 (en) | 2011-12-19 | 2011-12-19 | Method for dual pass rate control video encoding |
US14/809,754 Expired - Fee Related US9516329B2 (en) | 2011-12-19 | 2015-07-27 | Method for dual pass rate control video encoding |
US15/341,704 Expired - Fee Related US9866838B2 (en) | 2011-12-19 | 2016-11-02 | Apparatus for dual pass rate control video encoding |
Family Applications Before (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US13/330,137 Expired - Fee Related US9094684B2 (en) | 2011-12-19 | 2011-12-19 | Method for dual pass rate control video encoding |
Family Applications After (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US15/341,704 Expired - Fee Related US9866838B2 (en) | 2011-12-19 | 2016-11-02 | Apparatus for dual pass rate control video encoding |
Country Status (2)
Country | Link |
---|---|
US (3) | US9094684B2 (en) |
WO (1) | WO2013096259A2 (en) |
Cited By (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20160234505A1 (en) * | 2015-02-10 | 2016-08-11 | Nhn Entertainment Corporation | Video system and method with minimized streaming latency |
US10827181B1 (en) | 2019-05-03 | 2020-11-03 | At&T Intellectual Property I, L.P. | Differential adaptive bitrate streaming based on scene complexity |
Families Citing this family (26)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US9094684B2 (en) | 2011-12-19 | 2015-07-28 | Google Technology Holdings LLC | Method for dual pass rate control video encoding |
US9582157B1 (en) * | 2012-08-03 | 2017-02-28 | I4VU1, Inc. | User interface and program guide for a multi-program video viewing apparatus |
US20140112384A1 (en) * | 2012-10-22 | 2014-04-24 | General Instrument Corporation | Algorithms for determining bitrate for a statistical multiplexing system using scene change |
US20140328384A1 (en) * | 2013-05-02 | 2014-11-06 | Magnum Semiconductor, Inc. | Methods and apparatuses including a statistical multiplexer with global rate control |
US9344218B1 (en) * | 2013-08-19 | 2016-05-17 | Zoom Video Communications, Inc. | Error resilience for interactive real-time multimedia applications |
US20150172680A1 (en) * | 2013-12-16 | 2015-06-18 | Arris Enterprises, Inc. | Producing an Output Need Parameter for an Encoder |
US20150381979A1 (en) * | 2014-06-25 | 2015-12-31 | Arris Enterprises, Inc. | Method for using a decoder or look-ahead encoder to control an adaptive pre-filter |
CN104780367B (en) * | 2015-04-13 | 2018-05-01 | 浙江宇视科技有限公司 | A kind of method and apparatus of dynamic adjustment GOP length |
US10951914B2 (en) * | 2015-08-27 | 2021-03-16 | Intel Corporation | Reliable large group of pictures (GOP) file streaming to wireless displays |
US9807416B2 (en) * | 2015-09-21 | 2017-10-31 | Google Inc. | Low-latency two-pass video coding |
US10356406B2 (en) | 2016-01-19 | 2019-07-16 | Google Llc | Real-time video encoder rate control using dynamic resolution switching |
WO2017161280A1 (en) * | 2016-03-18 | 2017-09-21 | Kyocera Corporation | System and method for dual-coding for dual-hops channels |
KR102601732B1 (en) | 2016-05-31 | 2023-11-14 | 삼성디스플레이 주식회사 | Method for image encoding and method for image decoding |
US11089329B1 (en) * | 2016-06-28 | 2021-08-10 | Amazon Technologies, Inc | Content adaptive encoding |
KR102613286B1 (en) * | 2017-04-26 | 2023-12-12 | 디티에스, 인코포레이티드 | Bit rate control for groups of frames |
US11146608B2 (en) | 2017-07-20 | 2021-10-12 | Disney Enterprises, Inc. | Frame-accurate video seeking via web browsers |
US10623744B2 (en) | 2017-10-04 | 2020-04-14 | Apple Inc. | Scene based rate control for video compression and video streaming |
US10979747B2 (en) * | 2017-12-21 | 2021-04-13 | Arris Enterprises Llc | Statistical multiplexing system for variable bit rate encoding with constant bit rate encoder |
US11259035B2 (en) * | 2019-03-15 | 2022-02-22 | Ati Technologies Ulc | Macroblock coding type prediction |
US20190349585A1 (en) * | 2019-07-23 | 2019-11-14 | Intel Corporation | Content and quantization adaptive coding structure decisions for video coding |
US10970555B2 (en) * | 2019-08-27 | 2021-04-06 | At&T Intellectual Property I, L.P. | Data-driven event detection for compressed video |
CN110662044B (en) * | 2019-10-22 | 2022-02-18 | 浙江大华技术股份有限公司 | Video coding method, video coding device and computer storage medium |
CN111061894A (en) * | 2019-11-07 | 2020-04-24 | 深圳云天励飞技术有限公司 | Processing method and device of peer data, electronic equipment and storage medium |
US11069022B1 (en) * | 2019-12-27 | 2021-07-20 | Intel Corporation | Apparatus and method for multi-adapter encoding |
CN111726656B (en) * | 2020-07-20 | 2022-07-26 | 有半岛(北京)信息科技有限公司 | Transcoding method, device, server and storage medium of live video |
WO2023184467A1 (en) * | 2022-04-01 | 2023-10-05 | Intel Corporation | Method and system of video processing with low latency bitstream distribution |
Citations (48)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US4394774A (en) | 1978-12-15 | 1983-07-19 | Compression Labs, Inc. | Digital video compression system and methods utilizing scene adaptive coding with rate buffer feedback |
US5099322A (en) | 1990-02-27 | 1992-03-24 | Texas Instruments Incorporated | Scene change detection system and method |
EP0924933A1 (en) | 1997-07-08 | 1999-06-23 | Sony Corporation | Video data encoder, video data encoding method, video data transmitter, and video data recording medium |
US5933450A (en) | 1994-04-20 | 1999-08-03 | Thomson Consumer Electronics, Inc. | Complexity determining apparatus |
US5978029A (en) | 1997-10-10 | 1999-11-02 | International Business Machines Corporation | Real-time encoding of video sequence employing two encoders and statistical analysis |
US6101222A (en) | 1996-11-26 | 2000-08-08 | Sony Corporation | Scene change detection |
US6192154B1 (en) * | 1998-01-26 | 2001-02-20 | International Business Machines Corporation | Two-pass encoding method of digital motion video sequences for constant-or variable bit rate |
US6252905B1 (en) | 1998-02-05 | 2001-06-26 | International Business Machines Corporation | Real-time evaluation of compressed picture quality within a digital video encoder |
US20010038669A1 (en) | 1998-03-23 | 2001-11-08 | Barbara A. Hall | Precise bit control apparatus with look-ahead for mpeg encoding |
US20020159523A1 (en) | 1998-11-24 | 2002-10-31 | General Instrument Corporation | Rate control for an MPEG transcoder without a priori knowledge picture type |
WO2004004359A1 (en) | 2002-07-01 | 2004-01-08 | E G Technology Inc. | Efficient compression and transport of video over a network |
US20040151243A1 (en) * | 2003-01-31 | 2004-08-05 | Vasudev Bhaskaran | Method and apparatus for DCT domain filtering for block based encoding |
US6804301B2 (en) | 2001-08-15 | 2004-10-12 | General Instrument Corporation | First pass encoding of I and P-frame complexity for compressed digital video |
WO2004105393A1 (en) | 2003-05-19 | 2004-12-02 | General Instrument Corporation | Methods and apparatus for improving video quality in statistical multiplexing. |
US20050084007A1 (en) * | 2003-10-16 | 2005-04-21 | Lightstone Michael L. | Apparatus, system, and method for video encoder rate control |
US6961376B2 (en) | 2002-06-25 | 2005-11-01 | General Instrument Corporation | Methods and apparatus for rate control during dual pass encoding |
US20060045367A1 (en) | 2004-08-31 | 2006-03-02 | Tzu-Yi Chao | Video image capturing and displaying method and system applying same |
US20060126728A1 (en) | 2004-12-10 | 2006-06-15 | Guoyao Yu | Parallel rate control for digital video encoder with multi-processor architecture and picture-based look-ahead window |
US20060159166A1 (en) | 2005-01-14 | 2006-07-20 | Nader Mohsenian | Use of out of order encoding to improve video quality |
US7099389B1 (en) | 2002-12-10 | 2006-08-29 | Tut Systems, Inc. | Rate control with picture-based lookahead window |
WO2006099082A2 (en) | 2005-03-10 | 2006-09-21 | Qualcomm Incorporated | Content adaptive multimedia processing |
WO2007008355A2 (en) | 2005-07-08 | 2007-01-18 | Tag Networks, Inc. | Video encoder with latency control |
US7197072B1 (en) | 2002-05-30 | 2007-03-27 | Intervideo, Inc. | Systems and methods for resetting rate control state variables upon the detection of a scene change within a group of pictures |
US7295612B2 (en) | 2003-09-09 | 2007-11-13 | Apple Inc. | Determining the number of unidirectional and bidirectional motion compensated frames to be encoded for a video sequence and detecting scene cuts in the video sequence |
US7302000B2 (en) | 2004-03-31 | 2007-11-27 | Ulead Systems, Inc. | Method and system for two-pass video encoding using sliding windows |
US20080130989A1 (en) | 2005-07-22 | 2008-06-05 | Mitsubishi Electric Corporation | Image encoder and image decoder, image encoding method and image decoding method, image encoding program and image decoding program, and computer readable recording medium recorded with image encoding program and computer readable recording medium recorded with image decoding program |
US20080181256A1 (en) | 2006-11-22 | 2008-07-31 | General Instrument Corporation | Switched Digital Video Distribution Infrastructure and Method of Operation |
US7453938B2 (en) | 2004-02-06 | 2008-11-18 | Apple Inc. | Target bitrate estimator, picture activity and buffer management in rate control for video coder |
US7471726B2 (en) * | 2003-07-15 | 2008-12-30 | Microsoft Corporation | Spatial-domain lapped transform in digital media compression |
WO2009045683A1 (en) | 2007-09-28 | 2009-04-09 | Athanasios Leontaris | Video compression and tranmission techniques |
US20090213938A1 (en) * | 2008-02-26 | 2009-08-27 | Qualcomm Incorporated | Video decoder error handling |
US7609897B2 (en) * | 2002-09-09 | 2009-10-27 | Ricoh Company, Ltd. | Image coder and image decoder capable of power-saving control in image compression and decompression |
US20100303148A1 (en) | 2007-12-21 | 2010-12-02 | Franck Hiron | Macroblock-based dual-pass coding method |
US20110122942A1 (en) * | 2009-11-20 | 2011-05-26 | Texas Instruments Incorporated | Techniques for perceptual encoding of video frames |
US20110150076A1 (en) | 2009-12-23 | 2011-06-23 | General Instrument Corporation | Rate control for two-pass encoder using adaptive quantization parameters |
US20110150074A1 (en) | 2009-12-23 | 2011-06-23 | General Instrument Corporation | Two-pass encoder |
US20110150094A1 (en) | 2009-12-23 | 2011-06-23 | General Instrument Corporation | Rate control for two-pass encoder |
US20110176562A1 (en) | 2010-01-15 | 2011-07-21 | General Instrument Corporation | Statistical multiplexing using a plurality of encoders |
US20110176600A1 (en) | 2010-01-15 | 2011-07-21 | General Instrument Corporation | Statistical multiplexing using a plurality of two-pass encoders |
US20120027089A1 (en) * | 2010-07-28 | 2012-02-02 | Qualcomm Incorporated | Coding motion vectors in video coding |
US20120082210A1 (en) * | 2010-10-01 | 2012-04-05 | Qualcomm Incorporated | Coding prediction modes in video coding |
US8165204B2 (en) * | 2008-02-29 | 2012-04-24 | Michael Bronstein | Resource allocation for frame-based controller |
US20120106624A1 (en) * | 2010-11-02 | 2012-05-03 | Mediatek Inc. | Method and Apparatus of Slice Boundary Filtering for High Efficiency Video Coding |
US20120189053A1 (en) * | 2011-01-22 | 2012-07-26 | Qualcomm Incorporated | Combined reference picture list construction for video coding |
US20120233405A1 (en) * | 2011-03-07 | 2012-09-13 | Madhukar Budagavi | Caching Method and System for Video Coding |
US20120269275A1 (en) * | 2010-10-20 | 2012-10-25 | Nokia Corporation | Method and device for video coding and decoding |
US8325807B2 (en) | 2006-04-03 | 2012-12-04 | British Telecommunications Public Limited Company | Video coding |
US20130058405A1 (en) * | 2011-09-02 | 2013-03-07 | David Zhao | Video Coding |
Family Cites Families (7)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6959044B1 (en) * | 2001-08-21 | 2005-10-25 | Cisco Systems Canada Co. | Dynamic GOP system and method for digital video encoding |
US7251275B2 (en) * | 2002-06-25 | 2007-07-31 | General Instrument Corporation | Methods and apparatus for statistical multiplexing during dual pass encoding |
JP4045544B2 (en) * | 2003-04-14 | 2008-02-13 | ソニー株式会社 | Encoding apparatus and encoding method |
US20050036549A1 (en) * | 2003-08-12 | 2005-02-17 | Yong He | Method and apparatus for selection of scanning mode in dual pass encoding |
US20050036548A1 (en) * | 2003-08-12 | 2005-02-17 | Yong He | Method and apparatus for selection of bit budget adjustment in dual pass encoding |
US20080014042A1 (en) | 2006-07-12 | 2008-01-17 | De France Robert V | Fastener With Tool Retainer |
US9094684B2 (en) | 2011-12-19 | 2015-07-28 | Google Technology Holdings LLC | Method for dual pass rate control video encoding |
-
2011
- 2011-12-19 US US13/330,137 patent/US9094684B2/en not_active Expired - Fee Related
-
2012
- 2012-12-18 WO PCT/US2012/070258 patent/WO2013096259A2/en active Application Filing
-
2015
- 2015-07-27 US US14/809,754 patent/US9516329B2/en not_active Expired - Fee Related
-
2016
- 2016-11-02 US US15/341,704 patent/US9866838B2/en not_active Expired - Fee Related
Patent Citations (49)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US4394774A (en) | 1978-12-15 | 1983-07-19 | Compression Labs, Inc. | Digital video compression system and methods utilizing scene adaptive coding with rate buffer feedback |
US5099322A (en) | 1990-02-27 | 1992-03-24 | Texas Instruments Incorporated | Scene change detection system and method |
US5933450A (en) | 1994-04-20 | 1999-08-03 | Thomson Consumer Electronics, Inc. | Complexity determining apparatus |
US6101222A (en) | 1996-11-26 | 2000-08-08 | Sony Corporation | Scene change detection |
EP0924933A1 (en) | 1997-07-08 | 1999-06-23 | Sony Corporation | Video data encoder, video data encoding method, video data transmitter, and video data recording medium |
US5978029A (en) | 1997-10-10 | 1999-11-02 | International Business Machines Corporation | Real-time encoding of video sequence employing two encoders and statistical analysis |
US6192154B1 (en) * | 1998-01-26 | 2001-02-20 | International Business Machines Corporation | Two-pass encoding method of digital motion video sequences for constant-or variable bit rate |
US6252905B1 (en) | 1998-02-05 | 2001-06-26 | International Business Machines Corporation | Real-time evaluation of compressed picture quality within a digital video encoder |
US20010038669A1 (en) | 1998-03-23 | 2001-11-08 | Barbara A. Hall | Precise bit control apparatus with look-ahead for mpeg encoding |
US20020159523A1 (en) | 1998-11-24 | 2002-10-31 | General Instrument Corporation | Rate control for an MPEG transcoder without a priori knowledge picture type |
US6804301B2 (en) | 2001-08-15 | 2004-10-12 | General Instrument Corporation | First pass encoding of I and P-frame complexity for compressed digital video |
US7197072B1 (en) | 2002-05-30 | 2007-03-27 | Intervideo, Inc. | Systems and methods for resetting rate control state variables upon the detection of a scene change within a group of pictures |
US6961376B2 (en) | 2002-06-25 | 2005-11-01 | General Instrument Corporation | Methods and apparatus for rate control during dual pass encoding |
WO2004004359A1 (en) | 2002-07-01 | 2004-01-08 | E G Technology Inc. | Efficient compression and transport of video over a network |
US7609897B2 (en) * | 2002-09-09 | 2009-10-27 | Ricoh Company, Ltd. | Image coder and image decoder capable of power-saving control in image compression and decompression |
US7099389B1 (en) | 2002-12-10 | 2006-08-29 | Tut Systems, Inc. | Rate control with picture-based lookahead window |
US20040151243A1 (en) * | 2003-01-31 | 2004-08-05 | Vasudev Bhaskaran | Method and apparatus for DCT domain filtering for block based encoding |
WO2004105393A1 (en) | 2003-05-19 | 2004-12-02 | General Instrument Corporation | Methods and apparatus for improving video quality in statistical multiplexing. |
US7471726B2 (en) * | 2003-07-15 | 2008-12-30 | Microsoft Corporation | Spatial-domain lapped transform in digital media compression |
US7295612B2 (en) | 2003-09-09 | 2007-11-13 | Apple Inc. | Determining the number of unidirectional and bidirectional motion compensated frames to be encoded for a video sequence and detecting scene cuts in the video sequence |
US7856059B2 (en) | 2003-09-09 | 2010-12-21 | Apple Inc. | Determining the number of unidirectional and bidirectional motion compensated frames to be encoded for a video sequence and detecting scene cuts in the video sequence |
US20050084007A1 (en) * | 2003-10-16 | 2005-04-21 | Lightstone Michael L. | Apparatus, system, and method for video encoder rate control |
US7453938B2 (en) | 2004-02-06 | 2008-11-18 | Apple Inc. | Target bitrate estimator, picture activity and buffer management in rate control for video coder |
US7302000B2 (en) | 2004-03-31 | 2007-11-27 | Ulead Systems, Inc. | Method and system for two-pass video encoding using sliding windows |
US20060045367A1 (en) | 2004-08-31 | 2006-03-02 | Tzu-Yi Chao | Video image capturing and displaying method and system applying same |
US20060126728A1 (en) | 2004-12-10 | 2006-06-15 | Guoyao Yu | Parallel rate control for digital video encoder with multi-processor architecture and picture-based look-ahead window |
US20060159166A1 (en) | 2005-01-14 | 2006-07-20 | Nader Mohsenian | Use of out of order encoding to improve video quality |
WO2006099082A2 (en) | 2005-03-10 | 2006-09-21 | Qualcomm Incorporated | Content adaptive multimedia processing |
WO2007008355A2 (en) | 2005-07-08 | 2007-01-18 | Tag Networks, Inc. | Video encoder with latency control |
US20080130989A1 (en) | 2005-07-22 | 2008-06-05 | Mitsubishi Electric Corporation | Image encoder and image decoder, image encoding method and image decoding method, image encoding program and image decoding program, and computer readable recording medium recorded with image encoding program and computer readable recording medium recorded with image decoding program |
US8325807B2 (en) | 2006-04-03 | 2012-12-04 | British Telecommunications Public Limited Company | Video coding |
US20080181256A1 (en) | 2006-11-22 | 2008-07-31 | General Instrument Corporation | Switched Digital Video Distribution Infrastructure and Method of Operation |
WO2009045683A1 (en) | 2007-09-28 | 2009-04-09 | Athanasios Leontaris | Video compression and tranmission techniques |
US20100303148A1 (en) | 2007-12-21 | 2010-12-02 | Franck Hiron | Macroblock-based dual-pass coding method |
US20090213938A1 (en) * | 2008-02-26 | 2009-08-27 | Qualcomm Incorporated | Video decoder error handling |
US8165204B2 (en) * | 2008-02-29 | 2012-04-24 | Michael Bronstein | Resource allocation for frame-based controller |
US20110122942A1 (en) * | 2009-11-20 | 2011-05-26 | Texas Instruments Incorporated | Techniques for perceptual encoding of video frames |
US20110150076A1 (en) | 2009-12-23 | 2011-06-23 | General Instrument Corporation | Rate control for two-pass encoder using adaptive quantization parameters |
US20110150094A1 (en) | 2009-12-23 | 2011-06-23 | General Instrument Corporation | Rate control for two-pass encoder |
US20110150074A1 (en) | 2009-12-23 | 2011-06-23 | General Instrument Corporation | Two-pass encoder |
US20110176600A1 (en) | 2010-01-15 | 2011-07-21 | General Instrument Corporation | Statistical multiplexing using a plurality of two-pass encoders |
US20110176562A1 (en) | 2010-01-15 | 2011-07-21 | General Instrument Corporation | Statistical multiplexing using a plurality of encoders |
US20120027089A1 (en) * | 2010-07-28 | 2012-02-02 | Qualcomm Incorporated | Coding motion vectors in video coding |
US20120082210A1 (en) * | 2010-10-01 | 2012-04-05 | Qualcomm Incorporated | Coding prediction modes in video coding |
US20120269275A1 (en) * | 2010-10-20 | 2012-10-25 | Nokia Corporation | Method and device for video coding and decoding |
US20120106624A1 (en) * | 2010-11-02 | 2012-05-03 | Mediatek Inc. | Method and Apparatus of Slice Boundary Filtering for High Efficiency Video Coding |
US20120189053A1 (en) * | 2011-01-22 | 2012-07-26 | Qualcomm Incorporated | Combined reference picture list construction for video coding |
US20120233405A1 (en) * | 2011-03-07 | 2012-09-13 | Madhukar Budagavi | Caching Method and System for Video Coding |
US20130058405A1 (en) * | 2011-09-02 | 2013-03-07 | David Zhao | Video Coding |
Non-Patent Citations (2)
Title |
---|
International Preliminary Report on Patentability for PCT Patent Application No. PCT/US2012/070258, mailed on Jul. 3, 2014, 21 pages. |
International Search Report and Written Opinion for PCT Application No. PCT/US2012/070258, mailed Jul. 29, 2013, 27 pages. |
Cited By (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20160234505A1 (en) * | 2015-02-10 | 2016-08-11 | Nhn Entertainment Corporation | Video system and method with minimized streaming latency |
US10652548B2 (en) * | 2015-02-10 | 2020-05-12 | Nhn Entertainment Corporation | Video system and method with minimized streaming latency |
US10827181B1 (en) | 2019-05-03 | 2020-11-03 | At&T Intellectual Property I, L.P. | Differential adaptive bitrate streaming based on scene complexity |
Also Published As
Publication number | Publication date |
---|---|
US20130156098A1 (en) | 2013-06-20 |
WO2013096259A3 (en) | 2013-09-19 |
US20150334395A1 (en) | 2015-11-19 |
WO2013096259A2 (en) | 2013-06-27 |
US9866838B2 (en) | 2018-01-09 |
US9094684B2 (en) | 2015-07-28 |
US20170078666A1 (en) | 2017-03-16 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US9866838B2 (en) | Apparatus for dual pass rate control video encoding | |
US20190297347A1 (en) | Picture-level rate control for video encoding | |
EP2160903B1 (en) | A buffer-based rate control exploiting frame complexity, buffer level and position of intra frames in video coding | |
US6961376B2 (en) | Methods and apparatus for rate control during dual pass encoding | |
US7492820B2 (en) | Rate control for video coder employing adaptive linear regression bits modeling | |
US7453938B2 (en) | Target bitrate estimator, picture activity and buffer management in rate control for video coder | |
US7869503B2 (en) | Rate and quality controller for H.264/AVC video coder and scene analyzer therefor | |
US6907069B2 (en) | Picture coding apparatus, picture coding method, and recording medium having picture coding program recorded thereon | |
US20070071094A1 (en) | Video encoding method, apparatus, and program | |
CA2396308C (en) | Methods and apparatus for statistical multiplexing during dual pass encoding | |
EP2027727A1 (en) | Method and apparatus for adaptively determining a bit budget for encoding video pictures | |
JP4366571B2 (en) | Video encoding apparatus and method | |
US20080165845A1 (en) | Method of selecting quantizer values in video compression systems | |
US7986731B2 (en) | H.264/AVC coder incorporating rate and quality controller | |
US6226326B1 (en) | Coding device and coding method | |
US7274739B2 (en) | Methods and apparatus for improving video quality in statistical multiplexing | |
EP2328351A2 (en) | Rate and quality controller for H.264/AVC video coder and scene analyzer therefor | |
Lee et al. | An intra-frame rate control algorithm for ultralow delay H. 264/advanced video coding (AVC) | |
US6940902B2 (en) | Code quantity assignment device and method | |
Shuijiong et al. | Bit-Usage Analysis Based Frame Layer QP Adjustment for H. 264/AVC Rate Control at Low Bit-Rate |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |
|
AS | Assignment |
Owner name: GENERAL INSTRUMENT CORPORATION, PENNSYLVANIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:SCHWARTZ, MAYER D.;BORGWARDT, PETER A.;SAXENA, SHIV;AND OTHERS;REEL/FRAME:043046/0558Effective date: 20120301Owner name: GENERAL INSTRUMENT HOLDINGS, INC., CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:GENERAL INSTRUMENT CORPORATION;REEL/FRAME:043253/0007Effective date: 20130415Owner name: MOTOROLA MOBILITY LLC, ILLINOISFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:GENERAL INSTRUMENT HOLDINGS, INC.;REEL/FRAME:043253/0045Effective date: 20130528Owner name: GOOGLE TECHNOLOGY HOLDINGS LLC, CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:MOTOROLA MOBILITY LLC;REEL/FRAME:043253/0142Effective date: 20141028 |
|
FEPP | Fee payment procedure |
Free format text: MAINTENANCE FEE REMINDER MAILED (ORIGINAL EVENT CODE: REM.); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
LAPS | Lapse for failure to pay maintenance fees |
Free format text: PATENT EXPIRED FOR FAILURE TO PAY MAINTENANCE FEES (ORIGINAL EVENT CODE: EXP.); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
STCH | Information on status: patent discontinuation |
Free format text: PATENT EXPIRED DUE TO NONPAYMENT OF MAINTENANCE FEES UNDER 37 CFR 1.362 |
|
FP | Lapsed due to failure to pay maintenance fee |
Effective date: 20201206 |