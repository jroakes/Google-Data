KR20150027279A - Generating a sequence of audio fingerprints at a set top box - Google Patents
Generating a sequence of audio fingerprints at a set top box Download PDFInfo
- Publication number
- KR20150027279A KR20150027279A KR20157002468A KR20157002468A KR20150027279A KR 20150027279 A KR20150027279 A KR 20150027279A KR 20157002468 A KR20157002468 A KR 20157002468A KR 20157002468 A KR20157002468 A KR 20157002468A KR 20150027279 A KR20150027279 A KR 20150027279A
- Authority
- KR
- South Korea
- Prior art keywords
- audio
- audio fingerprints
- fingerprints
- program
- group
- Prior art date
Links
Images
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/40—Client devices specifically adapted for the reception of or interaction with content, e.g. set-top-box [STB]; Operations thereof
- H04N21/43—Processing of content or additional data, e.g. demultiplexing additional data from a digital video stream; Elementary client operations, e.g. monitoring of home network or synchronising decoder's clock; Client middleware
- H04N21/439—Processing of audio elementary streams
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/40—Information retrieval; Database structures therefor; File system structures therefor of multimedia data, e.g. slideshows comprising image and additional audio data
- G06F16/43—Querying
- G06F16/432—Query formulation
- G06F16/433—Query formulation using audio data
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/60—Information retrieval; Database structures therefor; File system structures therefor of audio data
- G06F16/68—Retrieval characterised by using metadata, e.g. metadata not derived from the content or metadata generated manually
- G06F16/683—Retrieval characterised by using metadata, e.g. metadata not derived from the content or metadata generated manually using metadata automatically derived from the content
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/40—Client devices specifically adapted for the reception of or interaction with content, e.g. set-top-box [STB]; Operations thereof
- H04N21/43—Processing of content or additional data, e.g. demultiplexing additional data from a digital video stream; Elementary client operations, e.g. monitoring of home network or synchronising decoder's clock; Client middleware
- H04N21/442—Monitoring of processes or resources, e.g. detecting the failure of a recording device, monitoring the downstream bandwidth, the number of times a movie has been viewed, the storage space available from the internal hard disk
- H04N21/44204—Monitoring of content usage, e.g. the number of times a movie has been viewed, copied or the amount which has been watched
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/40—Client devices specifically adapted for the reception of or interaction with content, e.g. set-top-box [STB]; Operations thereof
- H04N21/47—End-user applications
- H04N21/472—End-user interface for requesting content, additional data or services; End-user interface for interacting with content, e.g. for content reservation or setting reminders, for requesting event notification, for manipulating displayed content
- H04N21/4722—End-user interface for requesting content, additional data or services; End-user interface for interacting with content, e.g. for content reservation or setting reminders, for requesting event notification, for manipulating displayed content for requesting additional data associated with the content
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/60—Network structure or processes for video distribution between server and client or between remote clients; Control signalling between clients, server and network components; Transmission of management data between server and client, e.g. sending from server to client commands for recording incoming content stream; Communication details between server and client
- H04N21/65—Transmission of management data between client and server
- H04N21/658—Transmission by the client directed to the server
- H04N21/6581—Reference data, e.g. a movie identifier for ordering a movie or a product identifier in a home shopping application
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/80—Generation or processing of content or additional data by content creator independently of the distribution process; Content per se
- H04N21/83—Generation or processing of protective or descriptive data associated with content; Content structuring
- H04N21/835—Generation of protective data, e.g. certificates
- H04N21/8352—Generation of protective data, e.g. certificates involving content or source identification data, e.g. Unique Material Identifier [UMID]
Abstract
서로 다른 셋탑 박스들로부터의 오디오 핑거프린트들을 이들의 유사성들에 기초하여 그룹들로 클러스터링하기 위한 컴퓨터-구현 방법이 개시된다. 컴퓨터 서버는, 그룹 내의 오디오 핑거프린트들이 각각의 셋탑 박스들에서 재생되는 각각의 TV 프로그램에 대응하도록, 서로 다른 셋탑 박스들에서 생성된 오디오 핑거프린트들을 수신하고 이들을 다수의 그룹들로 세분화한다. 셋탑 박스로부터 오디오 핑거프린트의 수신시에, 컴퓨터 서버는, 오디오 핑거프린트와 실질적으로 유사한 오디오 핑거프린트들의 그룹을 식별하고, 식별된 그룹의 오디오 핑거프린트들과 연관된 채널 메타데이터에 따라 오디오 핑거프린트에 대한 TV 프로그램 정보를 결정하고, 이 TV 프로그램 정보를 요청 셋탑 박스에 리턴한다.A computer-implemented method for clustering audio fingerprints from different set-top boxes into groups based on their similarities is disclosed. The computer server receives the audio fingerprints generated in the different set-top boxes and subdivides them into a plurality of groups such that the audio fingerprints in the group correspond to each TV program played in each set-top boxes. Upon receipt of the audio fingerprint from the set-top box, the computer server identifies a group of audio fingerprints substantially similar to the audio fingerprints and identifies a group of audio fingerprints that are substantially similar to the audio fingerprints in the audio fingerprint according to the channel metadata associated with the identified group's audio fingerprints , And returns the TV program information to the request set-top box.
Description
개시되는 구현예들은 일반적으로 TV 브로드캐스팅에 관한 것으로, 특히, 오디오/비디오 신호 인식(recognition)을 통해, 텔레비전에서 재생되는 프로그램들을 결정하기 위한 시스템 및 방법에 관한 것이다. The disclosed implementations are generally related to TV broadcasting, and more particularly, to a system and method for determining programs to be played on a television through audio / video signal recognition.
요즘, 사람들은, 위성, 케이블, 전화선, 및 인터넷과 같은 서로 다른 통신 채널들을 통해 서로 다른 판매사(vendor)들로부터 동일한 TV 콘텐츠를 얻을 수 있다. 흔히 통신 채널들의 선택은 다양한 지리학적(geographic) 그리고 인구통계학적(demographic) 고려사항들을 갖는다. 예를 들어, 위성 수신기들은 TV 신호들을 수신하기 위해 지방 지역들의 가정들에서 가장 흔히 사용되는 디바이스들일 수 있다. 그러나, 수도권들의 가정들의 경우는 아마도 TV 신호들을 수신하기 위해 OTA(over the air) 안테나들 또는 케이블 접속들을 사용하기는 것이 더 보편적일 것이다. 많은 사람들이 여전히 TV들을 통해 TV 프로그램들을 시청하지만, 더 젊은 계층의 시청자들은 점차적으로, 인터넷에 연결된 컴퓨터를 통해, 또는 심지어 3G/4G 무선 통신들을 지원하는 스마트폰을 통해 TV 프로그램들을 시청할 것을 선택할 수 있다. TV 프로그램들을 수신하기 위한 다양한 통신 채널들의 존재는, 많은 인구 수준에서(예를 들어, 국가적 수준에서) 특정 TV 프로그램에 대한 시청률(viewership rating)의 효과적이고 정확한 추정을 제공하는 것이 점점 어렵다는 것을 의미한다.
Nowadays, people can get the same TV content from different vendors through different communication channels such as satellite, cable, telephone line, and internet. Often the choice of communication channels has diverse geographic and demographic considerations. For example, satellite receivers may be the most commonly used devices in the assumptions of local areas to receive TV signals. However, for the assumptions of metropolitan areas, it may be more common to use OTA (over the air) antennas or cable connections to receive TV signals. Although many people still watch television programs on TV, younger audiences may choose to gradually view TV programs via a computer connected to the Internet, or even through a smartphone that supports 3G / 4G wireless communications have. The presence of various communication channels for receiving TV programs means that it is increasingly difficult to provide an effective and accurate estimate of the viewership rating for a particular TV program at many population levels (e.g., at the national level) .
이하에 설명되는 일부 구현들에 따라, 오디오 핑거프린트들의 관련된 TV 프로그램들에 의해 오디오 핑거프린트들을 그룹화하고, 오디오 핑거프린트들의 각 그룹에 대해 대응하는 TV 프로그램 정보를 결정하는 단계를 포함하는 방법이 하나 이상의 프로세서들 및 메모리를 포함하는 컴퓨터 서버 시스템에서 구현된다. 이 방법은, 복수의 셋톱 박스들로부터 정보를 수신하는 단계 ― 정보는 복수의 셋톱 박스들에서 생성된 오디오 핑거프린트들 및 적어도 오디오 핑거프린트들의 서브세트와 연관된 채널 메타데이터를 포함함 ―; 그룹 내의 오디오 핑거프린트들이 개별 셋톱 박스들에서 플레이되고 있는 개별 TV 프로그램에 대응하도록 오디오 핑거프린트들을 다수의 그룹들로 파티셔닝하는 단계; 셋톱 박스로부터 TV 프로그램 정보에 대한 질의를 수신하는 단계 ― 질의는 셋톱 박스에서 생성된 오디오 핑거프린트를 포함함 ―; 오디오 핑거프린트와 실질적으로 유사한 오디오 핑거프린트들의 그룹을 식별하기 위하여, 오디오 핑거프린트들의 다수의 그룹들과 오디오 핑거프린트를 비교하는 단계; 적어도 부분적으로, 식별된 오디오 핑거프린트들의 그룹과 연관된 채널 메타데이터에 따라, 오디오 핑거프린트에 대한 TV 프로그램 정보를 결정하는 단계; 및 TV 프로그램 정보를 요청하는 셋탑 박스에 리턴하는 단계를 포함한다. According to some implementations described below, there is a method comprising grouping audio fingerprints by associated TV programs of audio fingerprints and determining corresponding TV program information for each group of audio fingerprints And is implemented in a computer server system including the above processors and memory. The method includes receiving information from a plurality of set top boxes, the information including audio fingerprints generated in a plurality of set top boxes and channel metadata associated with a subset of at least audio fingerprints; Partitioning the audio fingerprints into a plurality of groups such that the audio fingerprints in the group correspond to the individual TV programs being played in the individual set top boxes; Receiving a query for TV program information from a set-top box, the query including an audio fingerprint generated in a set-top box; Comparing audio fingerprints with a plurality of groups of audio fingerprints to identify a group of audio fingerprints substantially similar to an audio fingerprint; Determining television program information for an audio fingerprint, at least in part, in accordance with channel metadata associated with the group of identified audio fingerprints; And returning to the set-top box requesting the TV program information.
이하에 설명되는 일부 구현들에 따라, TV 프로그램 정보를 결정하기 위한 컴퓨터 시스템은 하나 이상의 프로세서들, 메모리 및 메모리에 저장된 복수의 프로그램 모듈들을 포함한다. 복수의 프로그램 모듈들은, 복수의 셋톱 박스들로부터 정보를 수신하기 위한 명령 ― 정보는 복수의 셋톱 박스들에서 생성된 오디오 핑거프린트들 및 적어도 오디오 핑거프린트들의 서브세트와 연관된 채널 메타데이터를 포함함 ―; 그룹 내의 오디오 핑거프린트들이 개별 셋톱 박스들에서 플레이되고 있는 개별 TV 프로그램에 대응하도록 오디오 핑거프린트들을 다수의 그룹들로 파티셔닝하기 위한 명령; 셋톱 박스로부터 TV 프로그램 정보에 대한 질의를 수신하기 위한 명령 ― 질의는 셋톱 박스에서 생성된 오디오 핑거프린트를 포함함 ―; 오디오 핑거프린트와 실질적으로 유사한 오디오 핑거프린트들의 그룹을 식별하기 위하여, 오디오 핑거프린트들의 다수의 그룹들과 오디오 핑거프린트를 비교하기 위한 명령; 적어도 부분적으로, 식별된 오디오 핑거프린트들의 그룹과 연관된 채널 메타데이터에 따라, 오디오 핑거프린트에 대한 TV 프로그램 정보를 결정하기 위한 명령; 및 TV 프로그램 정보를 요청하는 셋탑 박스에 리턴하기 위한 명령을 포함한다. According to some implementations described below, a computer system for determining TV program information includes one or more processors, a memory, and a plurality of program modules stored in a memory. Wherein the plurality of program modules include: instruction-information for receiving information from a plurality of set-top boxes, wherein the instruction-information comprises audio fingerprints generated in a plurality of set-top boxes and channel metadata associated with a subset of at least audio fingerprints, ; Instructions for partitioning the audio fingerprints into a plurality of groups such that the audio fingerprints in the group correspond to individual TV programs being played in the individual set top boxes; Wherein the command-query for receiving a query for TV program information from a set-top box comprises an audio fingerprint generated in a set-top box; Instructions for comparing an audio fingerprint with a plurality of groups of audio fingerprints to identify a group of audio fingerprints substantially similar to an audio fingerprint; Instructions for determining TV program information for an audio fingerprint, at least in part, in accordance with channel metadata associated with the group of identified audio fingerprints; And returning to the set-top box requesting the TV program information.
이하에 설명되는 일부 구현들에 따라, 비일시적 컴퓨터 판독가능 저장 매체는 TV 프로그램 정보를 결정하기 위해 컴퓨터 시스템의 하나 이상의 프로세서들에 의한 실행을 위한 하나 이상의 프로그램들을 저장한다. 하나 이상의 프로그램들은, 복수의 셋톱 박스들로부터 정보를 수신하기 위한 명령 ― 정보는 복수의 셋톱 박스들에서 생성된 오디오 핑거프린트들 및 적어도 오디오 핑거프린트들의 서브세트와 연관된 채널 메타데이터를 포함함 ―; 그룹 내의 오디오 핑거프린트들이 개별 셋톱 박스들에서 플레이되고 있는 개별 TV 프로그램에 대응하도록 오디오 핑거프린트들을 다수의 그룹들로 파티셔닝하기 위한 명령; 셋톱 박스로부터 TV 프로그램 정보에 대한 질의를 수신하기 위한 명령 ― 질의는 셋톱 박스에서 생성된 오디오 핑거프린트를 포함함 ―; 오디오 핑거프린트와 실질적으로 유사한 오디오 핑거프린트들의 그룹을 식별하기 위하여, 오디오 핑거프린트들의 다수의 그룹들과 오디오 핑거프린트를 비교하기 위한 명령; 적어도 부분적으로, 식별된 오디오 핑거프린트들의 그룹과 연관된 채널 메타데이터에 따라, 오디오 핑거프린트에 대한 TV 프로그램 정보를 결정하기 위한 명령; 및 TV 프로그램 정보를 요청하는 셋탑 박스에 리턴하기 위한 명령을 포함한다. In accordance with some implementations described below, non-transitory computer readable storage medium stores one or more programs for execution by one or more processors of a computer system to determine TV program information. Wherein the one or more programs include command-information for receiving information from a plurality of set top boxes, including audio fingerprints generated in a plurality of set top boxes and channel metadata associated with a subset of at least audio fingerprints; Instructions for partitioning the audio fingerprints into a plurality of groups such that the audio fingerprints in the group correspond to individual TV programs being played in the individual set top boxes; Wherein the command-query for receiving a query for TV program information from a set-top box comprises an audio fingerprint generated in a set-top box; Instructions for comparing an audio fingerprint with a plurality of groups of audio fingerprints to identify a group of audio fingerprints substantially similar to an audio fingerprint; Instructions for determining TV program information for an audio fingerprint, at least in part, in accordance with channel metadata associated with the group of identified audio fingerprints; And returning to the set-top box requesting the TV program information.
이하에 설명되는 일부 구현들에 따라, 오디오 핑거프린트들의 시퀀스 및 관련된 비디오 장면 전환을 생성하기 위한 방법이 하나 이상의 프로세서들 및 메모리를 포함하는 셋탑 박스에서 구현된다. 이 방법은, TV 콘텐츠 제공자로부터 비디오 신호 및 비디오 신호와 관련된 오디오 신호를 수신하는 단계 ―비디오 신호 및 오디오 신호 모두는 TV 프로그램에 대응되며, 텔레비전상에서 플레이 됨―; 오디오 신호로부터 복수의 오디오 핑거프린트들을 생성하는 단계 ―복수의 오디오 핑거프린트들 중 적어도 하나는 비디오 신호에서 검출된 미리 정해진 비디오 장면 전환에 대응됨―; 및 TV 프로그램과 관련된 TV 프로그램 정보를 결정하기 위해 복수의 오디오 핑거프린트들을 원격 서버에 전송하는 단계를 포함한다. In accordance with some implementations described below, a method for generating a sequence of audio fingerprints and associated video transitions is implemented in a set-top box that includes one or more processors and memory. The method comprises the steps of receiving a video signal from a TV content provider and an audio signal associated with the video signal, wherein both the video signal and the audio signal correspond to the TV program and are played on the television; Generating a plurality of audio fingerprints from the audio signal, at least one of the plurality of audio fingerprints corresponding to a predetermined video transition detected in the video signal; And transmitting the plurality of audio fingerprints to the remote server to determine TV program information associated with the TV program.
이하에 설명되는 일부 구현들에 따라, 오디오 핑거프린트들의 시퀀스 및 관련된 비디오 장면 전환을 생성하기 위한 셋탑 박스는 하나 이상의 프로세서들 및 복수의 프로그램 모듈들을 저장하기 위한 메모리를 포함한다. 복수의 프로그램 모듈들은, TV 콘텐츠 제공자로부터 비디오 신호 및 비디오 신호와 관련된 오디오 신호를 수신하기 위한 명령 ―비디오 신호 및 오디오 신호 모두는 TV 프로그램에 대응되며, 텔레비전상에서 플레이 됨―; 오디오 신호로부터 복수의 오디오 핑거프린트들을 생성하기 위한 명령 ―복수의 오디오 핑거프린트들 중 적어도 하나는 비디오 신호에서 검출된 미리 정해진 비디오 장면 전환에 대응됨―; 및 TV 프로그램과 관련된 TV 프로그램 정보를 결정하기 위해 복수의 오디오 핑거프린트들을 원격 서버에 전송하기 위한 명령을 포함한다. According to some implementations described below, a set-top box for generating a sequence of audio fingerprints and associated video transitions includes a memory for storing one or more processors and a plurality of program modules. A plurality of program modules for receiving a video signal and an audio signal associated with the video signal from a TV content provider, both video signals and audio signals corresponding to a TV program and being played on a television; Instructions for generating a plurality of audio fingerprints from an audio signal, at least one of the plurality of audio fingerprints corresponding to a predetermined video transition detected in the video signal; And instructions for transmitting the plurality of audio fingerprints to the remote server to determine TV program information associated with the TV program.
이하에 설명되는 일부 구현들에 따라, 비일시적 컴퓨터 판독가능 저장 매체는 오디오 핑거프린트들의 시퀀스 및 관련된 비디오 장면 전환을 생성하기 위해 셋탑 박스의 하나 이상의 프로세서들에 의한 실행을 위해 하나 이상의 프로그램들을 저장한다. 하나 이상의 프로그램들은, TV 콘텐츠 제공자로부터 비디오 신호 및 비디오 신호와 관련된 오디오 신호를 수신하기 위한 명령 ―비디오 신호 및 오디오 신호 모두는 TV 프로그램에 대응되며, 텔레비전상에서 플레이 됨―; 오디오 신호로부터 복수의 오디오 핑거프린트들을 생성하기 위한 명령 ―복수의 오디오 핑거프린트들 중 적어도 하나는 비디오 신호에서 검출된 미리 정해진 비디오 장면 전환에 대응됨―; 및 TV 프로그램과 관련된 TV 프로그램 정보를 결정하기 위해 복수의 오디오 핑거프린트들을 원격 서버에 전송하기 위한 명령을 포함한다. According to some implementations described below, non-transitory computer-readable storage medium stores one or more programs for execution by one or more processors of a set-top box to generate a sequence of audio fingerprints and associated video transitions . One or more programs for receiving a video signal and an audio signal associated with the video signal from a TV content provider, both video signals and audio signals corresponding to a TV program and played on a television; Instructions for generating a plurality of audio fingerprints from an audio signal, at least one of the plurality of audio fingerprints corresponding to a predetermined video transition detected in the video signal; And instructions for transmitting the plurality of audio fingerprints to the remote server to determine TV program information associated with the TV program.
본 발명의 상술된 구현은 물론, 부가적인 구현들은, 도면들과 함께 행해질 때 본 발명의 다양한 양상들의 다음의 상세한 설명의 결과로서 보다 명확하게 이해될 것이다. 동일한 참조 번호들은 도면들의 몇 개의 뷰들에 걸쳐서 대응하는 부분들을 지칭한다.
도 1a 및 도 1b는 몇몇 구현들에서 따라 가정 및 TV 콘텐츠 인식 서버에 TV 신호들을 전달하기 위해 복수의 통신 채널들을 포함하는 분배된 TV 콘텐츠 전달 시스템을 각각 예시하는 2개의 블록도들이다.
도 2a는 몇몇 구현들에 따라 TV 비디오/오디오 샘플들을 수집하고 이들 샘플들에 기초하여 서비스들을 제공하기 위한 셋 톱 박스의 컴포넌트들을 예시하는 블록도이다.
도 2b는 몇몇 구현들에 따라 오디오 핑거프린트들을 그룹핑하고 대응하는 TV 프로그램들을 결정하기 위한 TV 콘텐츠 인식 서버의 컴포넌트들을 예시하는 블록도이다.
도 2c는 몇몇 구현들에 따라 오디오 핑거프린트들이 해시 테이블의 상이한 버킷들로 어떻게 그루핑되는지를 예시하는 블록도이다.
도 3a는 몇몇 구현들에 따라, 오디오 핑거프린트 및 연관된 채널 메타데이터를 관리하기 위한 TV 콘텐츠 인식 서버 또는 셋 톱 박스에 의해 이용되는 데이터 구조를 예시하는 블록도이다.
도 3b는 몇몇 구현들에 따라 TV 콘텐츠 제공자로부터 TV 콘텐츠 스케줄 및 채널 라인-업 데이터를 조직하기 위해 TV 콘텐츠 인식 서버에 의해 이용되는 데이터 구조를 예시하는 블록도이다.
도 3c는 몇몇 구현들에 따라 셋 톱 박스와 연관되는 TV 시청 이력을 저장하기 위해 셋 톱 박스에 의해 이용되는 데이터 구조를 예시하는 블록도들이다.
도 4a는 일부 실시형태에 따라 셋탑 박스가 그 셋탑 박스에 의해 브로드캐스팅되고 있는 TV 프로그램으로부터 오디오 핑거프린트들을 생성하는 방법을 도시하는 흐름도이다.
도 4b는 일부 구현들에 따라 TV 콘텐츠 인식 서버가 클러스터링을 통해 오디오 핑거프린트들을 그룹핑하는 방법을 도시하는 흐름도이다.
도 4c는 일부 구현들에 따라 TV 콘텐츠 인식 서버가 오디오 핑거프린트를 포함하는 탐색 질의에 응답하여 TV 프로그램 정보를 제공하는 방법을 도시하는 흐름도이다.
도 5a는 일부 구현들에 따라 셋탑 박스가 오디오 핑거프린트들을 TV 콘텐츠 인식 서버에 전송하는 방법을 도시하는 흐름도이다.
도 5b는 일부 구현들에 따라 셋탑 박스가 오디오 핑거프린트를 포함하는 탐색 요청을 TV 콘텐츠 인식 서버로 전송하고 TV 콘텐츠 인식 서버로부터 TV 프로그램 정보를 수신하는 방법을 도시하는 흐름도이다.The above-described implementations of the present invention, as well as additional implementations of course, will be more clearly understood as a result of the following detailed description of the various aspects of the invention when taken in conjunction with the drawings. Like reference numbers refer to corresponding parts throughout the several views of the drawings.
1A and 1B are two block diagrams each illustrating a distributed TV content delivery system including a plurality of communication channels for delivering TV signals to a home and TV content aware server according to some implementations.
2A is a block diagram illustrating components of a set-top box for collecting TV video / audio samples and providing services based on those samples in accordance with some implementations.
2B is a block diagram illustrating components of a TV content aware server for grouping audio fingerprints and determining corresponding TV programs in accordance with some implementations.
2C is a block diagram illustrating how audio fingerprints are grouped into different buckets of a hash table in accordance with some implementations.
3A is a block diagram illustrating a data structure used by a TV content aware server or set top box for managing audio fingerprints and associated channel metadata, in accordance with some implementations.
Figure 3B is a block diagram illustrating a data structure used by a TV content aware server to organize TV content schedules and channel line-up data from a TV content provider in accordance with some implementations.
3C is a block diagram illustrating a data structure used by a set top box to store a TV viewing history associated with a set top box in accordance with some implementations.
4A is a flow diagram illustrating a method by which a set-top box generates audio fingerprints from a TV program that is being broadcast by the set-top box, in accordance with some embodiments.
4B is a flowchart illustrating a method by which a TV content recognition server groups audio fingerprints through clustering in accordance with some implementations.
4C is a flowchart illustrating a method by which a TV content aware server provides TV program information in response to a search query that includes an audio fingerprint in accordance with some implementations.
5A is a flow diagram illustrating a method by which a set-top box transmits audio fingerprints to a TV content aware server in accordance with some implementations.
5B is a flowchart illustrating a method by which a set-top box transmits a search request including an audio fingerprint to a TV content recognition server and receives TV program information from a TV content recognition server according to some implementations.
국내 시장에서의 TV 시청률은 상당히 세분화될 수 있다. 일부 구현들에서, TV 시청률 프로젝션 시스템은 다양한 TV 콘텐츠 제공자들(예를 들어, 케이블 및 위성 회사들, 공중파 방송사들과 인터넷 스트리밍 사이트들)로부터 미가공 시청률 데이터를 수신한다. TV 시청률 프로젝션 시스템은 상이한 지리인구통계적 그룹들(즉, 특정 시청자 인구통계학적, 지리적 위치들 및/또는 둘 모두의 특징들의 일부 조합)에 대해 상이한 콘텐츠 제공자들 각각으로부터 미가공 데이터를 집계하고 통계적으로 특별한 의미가 있는 수준에서 특정 그룹들에 대한 시청률 공유 정보를 계산한다. 예를 들어, TV 시청자 프로젝션 시스템은 충분한 데이터가 있을 경우(예를 들어, 도시 지역) 분 단위로 공유 정보를 계산하고, 분단위의 공유 정보를 신뢰할 만하게 결정할 데이터가 충분하지 않을 경우(예를 들어, 특정 서비스/콘텐츠 제공자에 대한 가입자가 거의 없는 인구밀도가 희박한 지역)에는 시간 단위로 공유 정보를 계산한다. 이후, TV 시청률 프로젝션 시스템은, 서로 다른 공급자들로부터의 정보에 의해 커버되는 더 넓은 지역에 대한 신뢰할 만한 공유 정보를 생성하기 위해서 상이한 컴포넌트들에 가중치를 부여함으로써 서로 다른 컨텐츠 제공자들로부터의 공유 정보를 결합한다. 일부 상황들에서는, 시청자 공유 정보가 지리인구통계적 그룹들(예를 들어, 위성 제공자 및 케이블 제공자로부터의 동일한 지리적 지역들에 대한 시청률 정보)을 커버한다. 또한, 상이한 콘텐츠 제공자들에 대한 시청률 공유 정보를 결합하고 가중치를 부여함으로써, 어느 그룹에서도 개별적으로 적절하게 나타내어지지 않는 지리인구통계적 그룹들에 대한 신뢰할만한 정보를 생성하는 것이 가능해진다(예를 들어, 케이블 제공자A와 위성 제공자B에 대한 공유 정보가 동일한 지리인구통계적 그룹X에 대한 적절한 정보를 개별적으로 포함하지 않을 수 있지만, 결합되는 경우 적절한 정보를 포함할 수 있다).TV ratings in the domestic market can be considerably fragmented. In some implementations, the TV viewership projection system receives raw audience rating data from a variety of TV content providers (e.g., cable and satellite companies, terrestrial broadcasters and Internet streaming sites). The TV viewership projection system can aggregate raw data from each of the different content providers for different geographic demographic groups (i.e., some combination of features of particular viewer demographics, geographic locations, and / or both) Calculate audience share information for specific groups at a meaningful level. For example, a TV viewer projection system may calculate share information in minutes if there is sufficient data (e.g., an urban area), and if there is insufficient data to reliably determine minute share information (e.g., , Areas where population density is scarce with few subscribers to a particular service / content provider). Thereafter, the TV viewership projection system may weight shared components from different content providers by weighting the different components to produce reliable shared information for a wider region covered by information from different providers. . In some situations, viewer shared information covers geographic demographic groups (e.g., audience rating information for the same geographic regions from satellite providers and cable providers). It is also possible to combine audience weight share information for different content providers and to assign weighting, thereby making it possible to generate reliable information for geographic demographic groups that are not appropriately represented individually in any group (e.g., The shared information for cable provider A and satellite provider B may not separately include appropriate information for the same geographical demographic group X but may include appropriate information if combined).
도 1a는 일부 구현들에 따라 TV 신호들을 가정 및 TV 콘텐츠 인식 서버(150)로 전달하기 위한 복수의 통신 채널들을 포함하는 분산형 TV 콘텐츠 전달 시스템을 예시하는 블록도이다. 일부 구현들에서, 하나 또는 그 초과의 TV 브로드캐스터들(102) 각각은, 프로그램 브로드캐스팅 스케줄들, 프로그램 디스크립션들 및 채널 라인-업들을 포함하지만 이에 제한되지 않는 그들 자신의 TV 프로그램 정보를 갖는다. TV 브로드캐스터들(102)은 케이블(112)을 통해, 에어를 통해, 위성(104)으로부터의 송신에 의해 또는 통신 네트워크들(130)(예를 들면, 인터넷)을 통한 스트리밍에 의해 텔레비전 프로그램들을 가정(180)으로 송신할 수 있다. 위성 송신들(106)의 경우에, 가정(180)은 신호를 수신하기 위한 수신기 안테나(108)를 갖는다. 가정(180)에서, 인입하는 TV 신호들을 프로세싱 또는 디코딩하기 위한 수신기 또는 컨버터(110)를 포함하는 종래의 셋탑 박스(STB)(113)가 존재한다. 종래의 STB(113)는 통상적으로 가정(180)이 TV 브로드캐스터(102)와의 계약을 사인할 때 TV 브로드캐스터(102)에 의해 제공된다. 일부 구현들에서, TV 브로드캐스터(102)와 종래의 STB(113) 사이에 전화선(114)을 통한 부가적인 통신 채널이 존재한다. 종래의 STB(113)는 어떠한 텔레비전 프로그램들이 시청되고 있는지에 관한 정보를 제공할 수 있거나, 대화형 텔레비전 프로그램들에 대한 추가의 정보를 TV 브로드캐스터(102)로부터 수신할 수 있다. 이러한 경우에, 종래의 STB(113)는 통상적으로 TV 브로드캐스터(102)에 의해 제공되는 양방향 셋탑 박스이고, 정보는 일반적으로 제 3 자의 TV 시청률 에이전시에게 이용 불가하다(예를 들면, 가정 멤버의 TV의 시청 활동들에 관한 정보는 암호화될 수 있음). 1A is a block diagram illustrating a distributed TV content delivery system including a plurality of communication channels for delivering TV signals to a home and TV content
실제 텔레비전 프로그램 신호들은 일반적으로 위성(104)에 의해, 케이블(112)을 통해 또는 지상 TV 송신들(즉, 종래의 TV 브로드캐스트)을 통해 송신된다. 일부 구현들에서, 텔레비전 프로그램은 인터넷과 같은 통신 네트워크(130)를 통해 스트리밍된다. 이러한 구현들에서, 텔레비전 프로그램을 선택하는 프로세스는 컴퓨터(103), STB(116), 또는 가정 라우터(120)(도 1a에 도시되지 않음)에 직접적으로 접속된 종래의 STB(113)에 의해 수행될 수 있다. 아래에 상세히 설명될 바와 같이, STB(116)는 오디오 핑거프린트들을 생성하도록 구성된 디바이스이다. 가정 라우터(120)는 가정(180)으로부터 인터넷으로의 게이트웨이이다. 가정(180) 내부에서, 라우터(120)는 STB(116)에 접속되고, 일부 경우들에서, 다수의 컴퓨터들(103), 스마트폰들 또는 디지털 오디오 플레이어들(124) 또는 XBOX, PLAYSTATION 또는 WII와 같은 게임 콘솔들(122)에 접속된다. 라우터(120)는, IP 어드레스(126)를 가정 라우터(120)에 할당하는 인터넷 서비스 제공자(128)를 통해 통신 네트워크(130)에 접속된다. The actual television program signals are generally transmitted by
디코딩된 TV 신호들은, 그들이 가정(180)에서 도달하는 방법과 상관없이, STB(116)로 송신되고, STB(116)는 케이블(예를 들면, HDMI)을 통해 텔레비전(117)에 통신 가능하게 커플링되고, 가정 멤버들(118)이 텔레비전(117) 상에서 무엇을 재생할지를 제어하도록 허용한다. 일부 구현들에서, 도 1b에 도시된 바와 같이, STB(116)는 텔레비전(117)에 통합된다. 예시 목적으로, 본 출원의 다음의 설명은 도 1a에 도시된 구현에 초점을 맞춘다. 그러나, 하기의 설명이 또한 도 1b에 도시된 구현에 적용된다는 것을 당업자는 이해할 것이다. 일반적으로, 멤버(118-1 또는 118-2)와 같은 가정 멤버는 원격 제어 디바이스를 사용하여 STB(116)를 제어한다. The decoded TV signals are transmitted to the STB 116 regardless of how they arrive at the assumption 180 and the STB 116 is communicatively coupled to the
일부 구현예들에서, 도 1a에 도시된 STB(116)는 TV 브로드캐스터(102)와 연계되지 않는 제 3자(third party)(예를 들어, TV 시청률 에이전시)에 의해 제공된다. 이 경우, STB(116)는 통상적으로 단방향(one-way) 셋탑 박스이며, 이는TV 브로드캐스터(102)에 의해 제어되는 제어 정보에 액세스하는 것 그리고 다른 접근법드을 통한 가구원들의 TV 시청 동작을 찾아내는 것을 못할 수도 있다. 예를 들어, STB(116)는, 유선 또는 무선 홈 라우터(120)를 통해 통신 네트워크(130)(예를 들어 인터넷)을 경유해 TV 콘텐츠 인식 서버에 연결된다. 아래에서 설명되는 바와 같이, STB(116)에서 TV 샘플러(116-1)는 가구원들에 의해 시청되는 프로그램의 샘플들을 수집하고 이 샘플들(예를 들어, 오디오 또는 비디오 또는 오디오 및 비디오 둘 다)을 가정용 라우터(120)를 통해 TV 콘텐츠 인식 서버(150)에 송신한다. 일부 구현예들에서, TV 샘플러(116-1)는 각각의 수집된 샘플을 미리정의된 데이터 구조를 갖는 오디오 핑거프린트 레코드로 변환하고 프로그램의 특정 오디오 세그먼트를 고유하게 식별한다. 일부 구현들에서, 가정 라우터(120)를 통해 오디오 핑거프린트 기록이 전송되기 때문에, 가정 라우터(120)의 IP 어드레스(126)가 또한 오디오 핑거프린트 기록과 함께 TV 콘텐츠 인식 서버(150)로 전송된다. IP 어드레스(126)를 사용하여, TV 콘텐츠 인식 서버(150)는 자신이 수신한 각각의 오디오 핑거프린트 기록의 소스를 고유하게 식별할 수 있다. In some implementations, the STB 116 shown in FIG. 1A is provided by a third party (e.g., a TV viewing agency) that is not associated with the
일부 구현들에서, IP 어드레스(126) 및/또는 오디오 핑거프린트 기록이 주기적으로(예를 들어, 매 1 내지 10분 마다 한 번) TV 콘텐츠 인식 서버(150)로 전송된다. 일부 구현들에서, TV 샘플러(116-1)는 또한 TV 콘텐츠 인식 서버(150)에 전송될 오디오 핑거프린트 기록으로의 비디오 장면 전환을 포함하고, TV 프로그램에서 미리 정해진 타입의 비디오 장면 전환(예를 들어, 비디오 신호에서 광도의 미리 정해진 양의 증가 또는 감소)을 검출할 때마다 오디오 핑거프린트 기록을 생성하고 한다. In some implementations, the
TV 콘텐츠 인식 서버(150)는 다수의 가정들로부터 오디오 핑거프린트 기록들을 수신하는데, 각각의 가정은 오디오 핑거프린트들을 생성하기 위한 STB(116)를 구비한다. 상이한 STB들(116)로부터의 오디오 핑거프린트들을 비교함으로써, TV 콘텐츠 인식 서버(150)는 동일한 TV 프로그램에 대응하는 오디오 핑거프린트들을 함께 그룹화할 수 있다. 그렇게 함으로써, TV 콘텐츠 인식 서버(150)는 동일한 시간에 특정 TV 프로그램을 시청하는 가정들의 수 및 그러한 가정들의 아이텐티티들을 결정할 수 있다(예를 들어, 각 가정의 IP 어드레스(126)를 통해서). 일부 구현들에서는, STB들 중 적어도 일부가 TV 상에 재생되고 있는 TV 프로그램의 오디오 핑거프린트들뿐만 아니라 TV 프로그램에 대한 추가 정보(예를 들어, 제목, 브로드캐스팅 채널 및 스케줄, TV 브로드캐스트 등)를 제공할 수 있다. 그 추가 정보를 사용하여, TV 콘텐츠 인식 서버(150)는 특정 가정 내의 STB(116)에 의해 생성되는 오디오 핑거프린트들에 기초하여 정해진 시간 기간 동안 그 가정 내의 TV에서 어떤 TV 프로그램이 재생되고 있는지를 추가로 결정할 수 있다.The TV
일부 구현들에서, 가정(180) 내 STB(116)는, TV 콘텐츠 인식 서버(150)에 액세스하여, 그 TV 콘텐츠 인식 서버(150)에 오디오 핑거프린트를 제출함으로써 가정(180) 내 TV 시청 액티비티들을 결정할 수 있다. 이에 응답하여, TV 콘텐츠 인식 서버(150)는, 그 오디오 핑거프린트를, 서로 다른 STB들로부터 수집된 유사한 오디오 핑거프린트들의 그룹에 매칭하고, 그런 다음 오디오 핑거프린트들의 그룹과 연관된 TV 프로그램 정보를 리턴한다. TV 프로그램 정보를 이용하여, STB(116)는 새로운 TV 시청자 이력 기록(116-3)을 생성할 수 있는데, 이 기록은 특정한 순간에 TV(117) 상에 어떤 TV 프로그램이 방영되고 있었는지 나타낸다.In some implementations, STB 116 in Assumption 180 accesses TV
일부 구현들에서, TV 시청자 정보가 TV 콘텐츠 인식 서버(150)에 의해 결정된 가정들(180)은, 참가 가정들(180)에 대해 맞춤화된(personalized) TV 시청 데이터를 결정하기 위해, 그들의 TV 시청, 계정 및 인구통계학적(demographic) 정보를 수집, 집계, 그리고 분석해도 된다고 동의한, TV 시청자 패널들에서의 참가자들이다. 일부 구현들에서, 특정 가정 멤버와 연관된 정보는, 임의의 엔티티(예를 들어, TV 시청자 설문조사 기관)가 TV 시청자 정보에 액세스할 수 있기 전에, TV 시청자 정보로부터 필터링된다.In some implementations, the assumptions 180 in which the TV viewer information is determined by the TV
일부 경우들에서, 가정(180)은 고정 IP 주소(126)를 가지며, 이 경우 고정 IP 주소(126)는 데이터베이스(132) 내 가정의 계정과 연관된다. 일부 다른 경우들에서, 가정(180)은 동적으로-할당된 IP 주소를 가지며, 이 주소는 정기적으로(예를 들어, 가정 멤버가 인터넷 서비스 제공자(128)(ISP)에 "다이얼 업(dial up)"하거나 또는 인터넷 서비스 제공자(128)(ISP)에게 새로운 연결을 행하는 매번) 변할 수 있다. 이 경우, TV 콘텐츠 인식 서버(150)는 가정의 IP 주소(126)에 대한 이에 따른 변화들을 추적한다. 또 다른 일부 경우들에서, TV 콘텐츠 인식 서버(150)는, 오디오 핑거프린트들의 기원(origin)들을 기록하지는 않지만, 단지 그룹화를 위해 오디오 핑거프린트들 그 자체들을 기록한다. 일부 경우들에서, 각각의 가정은 연관 계정 프로파일을 갖는데, 상기 연관 계정 프로파일은 고유한 프로파일 식별자, 가정의 멤버들을 특징화하는 하나 또는 그 초과의 인구통계학적 파라미터들(가정 멤버들의 수, 및 적어도 하나의 가정 멤버의 연령대, 성별, 교육 정도, 수입, 및 직업을 포함(그러나, 이에 한정되지 않음)) 및 가정(180)의 텔레비전 시청 액티비티를 나타내는 TV 시청자 데이터를 포함한다. 예를 들어, TV 시청 액티비티는, 각각의 프로그램에 대해, 명칭, 프로그램의 설명, 프로그램이 방영된 채널, 시청일/시청시간 등을 포함하는, 가정에 의해 시청되는 모든 각각의 프로그램에 대한 정보를 포함할 수 있다.In some cases, the assumption 180 has a
도 2a는 일부 구현들에 따라, TV 비디오/오디오 샘플들을 수집하고, 이 샘플들에 기초하여 서비스들을 제공하기 위한 STB(116)의 컴포넌트들을 예시하는 블록도이다. STB(116)는 메모리(212)에 저장된 모듈들, 프로그램들 및/또는 명령들을 실행하고, 그에 의해 프로세싱 동작들을 수행하기 위한 하나 또는 그 초과의 프로세싱 유닛들(CPU들)(202); 하나 또는 그 초과의 네트워크 또는 다른 통신 인터페이스들(210); 메모리(212); 및 이 컴포넌트들을 상호연결하기 위한 하나 또는 그 초과의 통신 버스들(214)을 포함한다. 일부 구현들에서, STB(116)는 디스플레이 디바이스(208) (TV(117)일 수 있음) 및 하나 또는 그 초과의 입력 디바이스들(206)(예를 들어, 키보드 또는 마우스 또는 원격 제어)를 포함하는 사용자 인터페이스(204)를 포함한다. 일부 구현들에서, 메모리(212)는 고속 랜덤 액세스 메모리, 이를테면, DRAM, SRAM, DDR RAM 또는 다른 랜덤 액세스 고체 상태 메모리 디바이스들을 포함한다. 일부 구현들에서, 메모리(212)는 비휘발성 메모리, 이를테면, 하나 또는 그 초과의 자기 디스크 저장 디바이스들, 광 디스크 저장 디바이스들, 플래시 메모리 디바이스들 또는 다른 비휘발성 고체 상태 저장 디바이스들을 포함한다. 일부 구현들에서, 메모리(212)는 CPU(들)(202)로부터 원격으로 로케이팅된 하나 또는 그 초과의 저장 디바이스들을 포함한다. 메모리(212), 또는 메모리(212) 내의 대안적으로 비휘발성 메모리 디바이스(들)는 비-일시적 컴퓨터 판독가능한 저장 매체를 포함한다. 일부 구현들에서, 메모리(212) 또는 메모리(212)의 컴퓨터 판독가능한 저장 매체는 다음의 엘리먼트들 또는 이 엘리먼트들의 서브세트를 저장하며, 또한, 추가 엘리먼트들을 포함할 수 있다:2A is a block diagram illustrating components of the STB 116 for collecting TV video / audio samples and providing services based on the samples, in accordance with some implementations. STB 116 may include one or more processing units (CPUs) 202 for executing modules, programs and / or instructions stored in memory 212 and thereby performing processing operations; One or more networks or
·다양한 기본 시스템 서비스들을 핸들링하고 하드웨어 의존 태스크들을 수행하기 위한 프로시저들을 포함하는 운영 시스템(216);An
·통신 네트워크 인터페이스들(210) 및 하나 또는 그 초과의 통신 네트워크들(유선 또는 무선), 이를테면, 인터넷, 다른 광역 네트워크들, 근거리 네트워크들, 대도시(metropolitan area) 네트워크들 등을 통해 STB(116)를 다른 디바이스들(예를 들어, TV 콘텐츠 인식 서버(150))에 연결시키기 위해 이용되는 네트워크 통신들 모듈(218);The STB 116 via communication network interfaces 210 and one or more communication networks (wired or wireless), such as the Internet, other wide area networks, local area networks, metropolitan area networks, To other devices (e.g., TV content recognition server 150);
· TV 신호들을 샘플링하고 샘플링된 TV 신호들에 대한 정보를 TV 콘텐츠 인식 서버(150)에 제공하기 위한 TV 샘플러(116-1);A TV sampler 116-1 for sampling the TV signals and providing information about the sampled TV signals to the TV
·TV-관련 서비스들을 최종 사용자에게 제공하기 위한 하나 또는 그 초과의 TV 애플리케이션들(116-2); 및One or more TV applications 116-2 to provide TV-related services to the end user; And
·가정의 TV 시청 활동들에 대한 데이터를 저장하기 위한 하나 또는 그 초과의 TV 시청자 이력 기록들(116-3).One or more TV viewer history records 116-3 for storing data on home TV viewing activities.
일부 구현들에서, TV 샘플러(116-1)는 다음의 엘리먼트들을 더 포함할 수 있다:In some implementations, the TV sampler 116-1 may further include the following elements:
·비디오 신호의 미리 정의된 변화(예를 들어, TV 채널 스위치 또는 평균 광도의 증가 또는 감소)를 검출하기 위한 비디오 장면 전환 검출 모듈(222); 및 A video scene
·오디오 신호의 세그먼트로부터 오디오 핑거프린트를 생성하기 위한 오디오 핑거프린트 생성 모듈(224).An audio
일부 구현들에서, TV 애플리케이션들(116-2)은 다음의 엘리먼트들을 더 포함할 수 있다:In some implementations, the TV applications 116-2 may further include the following elements:
·인터넷을 브라우징하기 위한 웹 브라우저 모듈(228);A
·탐색 쿼리들을 TV 콘텐츠 인식 서버(150)에 제출하기 위한 탐색 모듈(230);A
·원격 제어 디바이스로부터 사용자 명령들을 수신하기 위한 원격 제어 모듈(232);A remote control module (232) for receiving user commands from a remote control device;
·사용자 명령들에 따라 TV 신호들의 디지털 비디오 기록을 수행하기 위한 DVR 모듈(234); 및A
·사용자 명령들에 따라 TV(117) 상의 홈 스크린을 커스터마이징(customize)하기 위한 홈 스크린 주문 모듈(236).Home
몇몇 구현들에서, TV 시청자 이력 기록(238)은 다음의 엘리먼트들을 더 포함할 수도 있다:In some implementations, the TV
● TV 시청자 이력 기록을 식별하기 위한 기록 ID(240);A record ID (240) for identifying a TV viewer history record;
● TV 신호를 브로드캐스팅했었던 TV 채널을 식별하기 위한 채널 정보(242);
● TV 채널에 의해 재생되고 있는 TV 프로그램을 설명하기 위한 프로그램 정보(244)(예를 들어, 제목, 프로그램 평점, 프로그램 길이, 프로그램 요약 등); 및Program information 244 (e.g., title, program rating, program length, program summary, etc.) for describing the TV program being played by the TV channel; And
● TV 프로그램이 가정에서 브로드캐스팅된 시간 지속기간(246).The time duration (246) during which the TV program is broadcast in the home.
도 2b는, 몇몇 구현들에 따라 오디오 핑거프린트들을 그룹화하고, 대응하는 TV 프로그램 정보를 결정하기 위한 TV 콘텐츠 인식 서버(150)의 컴포넌트들을 도시하는 블록도이다. TV 콘텐츠 인식 서버(150)는, 메모리(262)에 저장된 모듈들, 프로그램들 및/또는 명령들을 실행하고, 그에 의해, 프로세싱 동작들을 수행하기 위한 하나 또는 그 초과의 프로세싱 유닛(CPU)들(252); 하나 또는 그 초과의 네트워크 또는 다른 통신 인터페이스들(260); 메모리(262); 및 이들 컴포넌트들을 상호접속시키기 위한 하나 또는 그 초과의 통신 버스들(264)을 포함한다. 몇몇 구현들에서, TV 콘텐츠 인식 서버(150)는, 디스플레이 디바이스(258) 및 하나 또는 그 초과의 입력 디바이스들(256)을 포함하는 선택적인 사용자 인터페이스(254)를 포함한다. 몇몇 구현들에서, 메모리(262)는, DRAM, SRAM, DDR RAM 또는 다른 랜덤 액세스 고체 상태 메모리 디바이스들과 같은 고속 랜덤 액세스 메모리를 포함한다. 몇몇 구현들에서, 메모리(262)는, 하나 또는 그 초과의 자기 디스크 저장 디바이스들, 광학 디스크 저장 디바이스들, 플래시 메모리 디바이스들, 또는 다른 비-휘발성 고체 상태 저장 디바이스들과 같은 비-휘발성 메모리를 포함한다. 몇몇 구현들에서, 메모리(262)는, CPU(들)(252)로부터 원격으로 로케이팅된 하나 또는 그 초과의 저장 디바이스들을 포함한다. 메모리(262) 또는 대안적으로는 메모리(262) 내의 비-휘발성 메모리 디바이스(들)는 비-일시적인 컴퓨터 판독가능 저장 매체를 포함한다. 몇몇 구현들에서, 메모리(262) 또는 메모리(262)의 다른 컴퓨터 판독가능 저장 매체는 다음의 엘리먼트들, 또는 이들 엘리먼트들의 서브세트를 저장하고, 부가적인 엘리먼트들을 또한 포함할 수도 있다.2B is a block diagram illustrating the components of the TV
● 다양한 기본 시스템 서비스들을 핸들링하고, 하드웨어 의존 태스크들을 수행하기 위한 절차들을 포함하는 운영 체재(266);An
● 인터넷, 다른 광역 네트워크들, 로컬 영역 네트워크들, 대도시 영역 네트워크들 등과 같은 통신 네트워크 인터페이스들(260) 및 하나 또는 그 초과의 통신 네트워크들(유선 또는 무선)을 통해 다른 디바이스들(예를 들어, STB(116))에 TV 콘텐츠 인식 서버(150)를 접속시키기 위해 사용되는 네트워크 통신 모듈(268);- Communication network interfaces 260 such as the Internet, other wide area networks, local area networks, metropolitan area networks, etc., and other devices (e. G. A
● 오디오 핑거프린트들의 유사성들에 기초하여 상이한 STB들에 의해 제출된 그 오디오 핑거프인트들을 그룹화하기 위한 핑거프린트 클러스터링 모듈(270) － 핑거프린트 클러스터링 모듈(270)은, 각각의 핑거프린트 기록을 프로세싱하고, 핑거프린트 기록을 하우징하기 위한 각각의 버킷(274-1 내지 274-N)을 결정하기 위한 해시 함수 모듈(272)을 포함함 －;A
● 각각의 버킷에서 핑거프린트 기록들의 통계적 분석을 수행하기 위한 통계적 분석 모듈(282) － 통계적 분석 모듈(282)은, 핑거프린트 기록들의 버킷과 연관된 TV 프로그램 정보를 결정하기 위한 메타데이터 프로세싱 모듈(284)을 포함함 －; 및
● 상이한 TV 콘텐츠 제공자들로부터의 데이터를 저장하기 위한 TV 콘텐츠 제공자 데이터베이스(286), 예를 들어, 전자 프로그램 가이드(EPG).A TV
일부 구현들에서, TV 콘텐츠 인식 서버(150)는 오디오 핑거프린트를 다수의 서브-핑거프린트들로 분할하며 각각의 서브-핑거프린트를 (메타데이터 ID에 의해 식별되는) 한 세트의 채널 메타데이터와 연관시킨다. 각각의 새로 도착한 오디오 핑거프린트에 대해, TV 콘텐츠 인식 서버(150)는 테이블 룩업을 수행하여, 다수의 기존 서브-핑거프린트들이 이러한 오디오 핑거프린트와 얼마나 매칭하는지를 결정한 다음, 이러한 오디오 핑거프린트에 대한 한 세트의 서브-핑거프린트 대 메타데이터 엔트리들을 동적으로 생성한다. 즉, TV 콘텐츠 인식 서버(150)는 유사한 오디오 핑거프린트들을 함께 그룹화하기 위한 인덱스로서 서브-핑거프린트 대 메타데이터 엔트리들을 사용한다.In some implementations, the TV content
도 2c는 일부 구현들에 따라 오디오 핑거프린트들이 해시 테이블의 서로 다른 버킷들로 어떻게 그룹화되는지를 예시하는 블록도이다. 도 2b와 관련하여 앞서 언급한 바와 같이, TV 콘텐츠 인식 서버(150)는 서로 다른 STB들에 의해 제출된 오디오 핑거프린트들을 이들의 유사성들을 기초로 다수의 버킷들로 그룹화하기 위한 핑거프린트 클러스터링 모듈(270)을 포함한다. 이 구현에서, 오디오 핑거프린트들(291)은 서로 다른 가정들로부터의 서로 다른 STB들에 의해 제출된다. 각각의 오디오 핑거프린트에 대해, 핑거프린트 클러스터링 모듈(270)은 사전 정의된 해시 함수(293)에 대한 키로서 핑거프린트를 적용한다. 각각의 키에 대해, 해시 함수(293)는 핑거프린트들의 버킷(295)에 대응하는 값을 결정하고, 핑거프린트들의 버킷에 핑거프린트를 추가한다. 도 2c에 도시된 바와 같이, 핑거프린트들의 각각의 버킷(295)은 링크된 리스트로 표현되고, 새로 추가된 핑거프린트는 링크된 리스트의 끝에 첨부된다. 일부 구현들에서, 오디오 핑거프린트들의 각각의 버킷은, 이들이 타임스탬프로 정의된 거의 그 순간에 또는 한 쌍의 타임스탬프들로 정의된 시간 간격 내에 생성되었음을 나타내는, 연관된 타임스탬프 또는 한 쌍의 타임스탬프들을 갖는다.2C is a block diagram illustrating how audio fingerprints are grouped into different buckets of a hash table in accordance with some implementations. 2B, the TV
도 3a는 일부 구현들에 따라 오디오 핑거프린트 리포트 및 연관된 채널 메타데이터를 관리하기 위한 TV 콘텐츠 인식 서버(150) 또는 STB(116)에 의해 사용되는 데이터 구조를 나타내는 블록도이다. STB 핑거프린트 리포트(300)는: 특정 가정 내의 셋탑 박스를 고유하게 식별하기 위한 선택적인 STB ID(302), STB(116)가 오디오 핑거프린트를 생성하는 시점 또는 TV 콘텐츠 인식 서버(150)가 리포트를 수신하는 시점을 나타내는 리포트 타임스탬프(304), 일반적으로 TV 오디오 신호의 세그먼트로부터 도출된 영숫자 문자열인 핑거프린트(306), 및 TV 오디오 신호의 세그먼트와 연관된 선택적인 비디오 장면 전환 타입(308)을 포함한다. 앞서 언급한 바와 같이, 비디오 장면 전환 타입(308)은 오디오 핑거프린트(306)가 주기적으로 생성되지 않는 경우에 오디오 핑거프린트(306)가 생성되는 컨텍스트를 제공한다. 이러한 속성은 서로 다른 STB들로부터의, 그러나 동일한 TV 프로그램에 대응하는 오디오 핑거프린트들을 동일한 버킷에 속하게 함으로써, 동일한 클록 시간을 갖지 않을 수도 있는 서로 다른 STB들을 "동기화"하는데 사용된다.3A is a block diagram illustrating a data structure used by a TV
일구 구현들에서, STB 핑거프린트 기록들(300) 중 일부는 대응하는 STB들에 의해 재생되고 있는 TV 프로그램들과 연관된 채널 메타데이터(310)를 또한 포함한다. 채널 메타데이터(310)는 채널 라인업 ID(312), 채널 번호(314), 및 채널 이름(316)을 포함할 수 있다. 채널 라인업 ID(312)는 TV 프로그램 패키지와 연관된 TV 채널들의 세트를 고유하게 식별하기 위해 TV 콘텐츠 제공자에 의해서 제공된다. 예를 들어, TV 콘텐츠 제공자는 상이한 타입들의 TV 시청자들을 서빙하기 위해서 채널들의 상이한 세트들을 갖는 다수의 TV 프로그램 패키지들을 제공할 수 있다. 이러한 경우에, 각각의 패키지는 고유 채널 라인업 ID(312)를 갖는다. TV 프로그램 패키지 내에서, 각각의 채널에는 TV 프로그램들의 특정 세트를 브로드캐스팅하기 위한 채널 이름 및 채널 번호가 할당된다. 그러므로, 채널 라인업 ID(312), 채널 번호(314) 및/또는 채널 이름(316)에 기초하여, TV 콘텐츠 인식 서버(150)는 TV 콘텐츠 제공자 데이터베이스(286)에 저장된 TV 프로그램 스케줄 데이터에 따라 채널에 의해 어떤 TV 프로그램이 브로드캐스팅되고 있는지를 고유하게 결정할 수 있다. STB들의 세트로부터의 채널 메타데이터(310)를 수집함으로써, TV 콘텐츠 제공자(150)는 특정 STB에 의해 제공되는 오디오 핑거프린트들과 그들의 채널 메타데이터를 또한 제시하는 STB들의 세트에 의해 제공되는 오디오 핑거프린트들 간의 유사성들에 기초하여 특정 STB(고유의 채널 메타데이터를 제공할 수 없음)가 어떤 TV 프로그램을 브로드캐스팅하고 있는지를 결정할 수 있다.In some implementations, some of the STB fingerprint records 300 also include channel metadata 310 associated with the TV programs being played by the corresponding STBs. The channel metadata 310 may include a channel lineup ID 312, a
도 3b는 일부 구현들에 따라, TV 콘텐츠 제공자로부터의 채널 라인업 데이터 및 TV 콘텐츠 스케줄을 구성하기 위해서 TV 콘텐츠 인식 서버(150)에 의해 사용되는 데이터 구조를 예시하는 블록도이다. 그 도면에 도시된 바와 같이, 각각의 TV 콘텐츠 제공자 기록(320)은 TV 콘텐츠 제공자를 고유하게 식별하기 위한 콘텐츠 제공자 ID(322), 브로드캐스트 스케줄(324), 및 TV 콘텐츠 제공자와 연관된 채널 라인업 데이터(326)를 포함한다. 일부 구현들에서, TV 콘텐츠 제공자는 그의 브로드캐스트 스케줄 및 채널 라인업 데이터를 그의 웹사이트 상에서 공개하고, 브로드캐스트 스케줄을 정기적으로 업데이팅한다. TV 콘텐츠 인식 서버(150)는 TV 콘텐츠 제공자 데이터베이스(286)의 대응하는 기록(320)을 업데이팅하기 위해서 웹사이트에 방문하고 정보를 리트리브할 수 있다. 일부 다른 구현들에서, TV 콘텐츠 인식 서버(150)는 이메일 가입을 통해서 TV 컨텐츠 제공자로부터 브로드캐스트 스케줄 및 채널 라인업 데이터를 수신할 수 있다.3B is a block diagram illustrating a data structure used by the TV
도 3c는 일부 구현들에 따라, STB(116)와 연관된 TV 시청 이력을 저장하기 위해 STB(116)에 의해서 사용되는 데이터 구조를 예시하는 블록도이다. TV 시청자 이력 기록(340)은 기록 ID(342), STB(116) 상에서 TV 프로그램을 시작하는 시간(344), STB(116) 상에서 TV 프로그램을 종료하는 시간(346)(또는 TV 프로그램을 재생하는 시간 듀레이션), TV 프로그램과 연관된 하나 또는 그 초과의 오디오 핑거프린트들(348), 및 TV 프로그램이 재생되는 채널 번호(352) 및 TV 프로그램의 이름(354)을 포함하는 TV 프로그램 정보(350)를 포함한다. TV 시청자 이력 기록(340)은 가정 멤버들이 정해진 시간 기간 동안 자신들에 의해서 어떤 TV 프로그램들이 시청되었는지를 찾기 위해서 뿐만 아니라 다른 측(예를 들어, TV 시청자 등급 에이전시)이 미리 정해진 지리적 범위 내의 미리 정해진 인구 계층 사이에서 특정 TV 프로그램의 등급을 측정하기 위해서 이용가능하다.3C is a block diagram illustrating a data structure used by STB 116 to store a TV viewing history associated with STB 116, in accordance with some implementations. The TV
도 4a는 몇몇 구현들에 따라, STB(116)에 의해 방송중인 TV 프로그램으로부터 STB(116)가 오디오 핑거프린트들을 생성하는 방법을 도시하는 흐름도이다. 최초에, STB(116)는 미리 정해진 조건이 충족되는가를 체크한다(411). 상기에 주지된 바와 같이, 미리 정해진 조건은 (예를 들어, 오디오 핑거프린트가 주기적으로 생성되는 경우) 미리 정해진 시간 간격의 종료 또는 미리 정해진 비디오 장면 전환(transition)의 검출일 수 있다. 미리 정해진 조건이 충족되지 않으면(411, 아니오), STB(116)는 나머지 프로세스를 생략한다. 그렇지 않은 경우(411, 예), STB(116)는 TV 프로그램에 대한 비디오 장면 전환 타입(예를 들어, 생방송 TV 프로그램)을 생성한다(413). 이러한 단계(413)는 비디오 장면 전환 타입이 TV 콘텐츠 인식 서버(150)에서 상이한 STB들로부터의 오디오 핑거프린트들을 동기화하기 위해 이용되지 않는 경우, 생략될 수 있음에 유의한다. 미리 정해진 비디오 장면 전환 타입을 검출하면, TV 콘텐츠 인식 서버(150)는 TV 프로그램과 관련된 오디오 신호의 세그먼트를 식별한다(415). 일부 구현들에서, STB(116)는 방송중인 TV 프로그램의 오디오 신호의 미리 정해진 길이(예를 들면, 1분)를 그 메모리 내에 저장한다(caches). 미리정 해진 조건, 예를 들면 화이트 스크린 또는 다크 스크린의 출현, 또는 TV 프로그램의 비디오 신호의 미리 정해진 발광(luminosity)의 변화를 검출한 후, STB(116)는, 예를 들면 비디오 장면 전환에 가까운 저장된 오디오 신호의 10초의 세그먼트를, 제 시간(in time)에 식별한다. 2개의 비디오 장면 전환들이, 예를 들면 10초 내에 존재하는 경우, 오디오 핑거프린트들을 생성하기 위해 이용되는 2개의 오디오 세그먼트들 사이에 오버랩이 존재할 수 있다. 비디오 장면 전환는, 식별된 오디오 신호 세그먼트의 플레이 이전에, 플레이 이후에, 또는 플레이 동안에 발생할 수 있음에 유의한다.4A is a flow diagram illustrating how STB 116 generates audio fingerprints from a TV program being broadcast by STB 116, in accordance with some implementations. Initially, the STB 116 checks whether a predetermined condition is met (411). As noted above, the predetermined condition may be the end of a predetermined time interval or the detection of predetermined video transitions (e.g., when an audio fingerprint is periodically generated). If a predetermined condition is not met (411, no), the STB 116 omits the remainder of the process. Otherwise (411, YES), the STB 116 generates 413 a video transition type (e.g., live TV program) for the TV program. Note that this
다음으로, STB(116)는 오디오 신호의 식별된 세그먼트를 이용하여 오디오 핑거프린트를 생성한다(417). 오디오 핑거프린트는 사람의 지문과 유사하며, 이 경우, 핑거프린트를 특징짓는 특성들(features)에 대해 사소한 작은 변화들이 용인되거나 무시된다. 몇몇 구현들에서, 오디오 핑거프린트는 오디오 신호 세그먼트의 숫자 표현(예를 들면, 벡터)이며, 이러한 표현은 복수의 상징들(attributes), 이를테면 평균 0의 교잡률(crossing rate), 추정된 템포, 평균 스펙트럼, 스펙트럼 평탄도(spectral flatness), 밴드들의 세트에 걸쳐서 현저한 톤(tone)들, 및 밴드폭을 포함한다. 이들 상징들 중 다수는 오디오 신호 세그먼트의 주파수-도메인 스펙트럼 분석을 통하여 결정될 수 있다. 오디오 신호 자체와 비교하면, 오디오 핑거프린트는 오디오 신호의 지각적인 특징들에 더 초점을 맞춘다. 예를 들면, 2개의 오디오 신호들이 사람의 귀에 똑같이 들린다면, 이들 신호의 오디오 핑거프린트들은, 비록 이들 신호의 2진 표현들이 상이하더라도, 매치되어야 한다. 일부 구현들에서, 2개의 오디오 핑거프린트들 사이의 차이는, 직선 2진 매치(straight binary match)에 의해서가 아니라, 사람의 귀의 지각으로부터 작지만 종종 사소한 변화들에 대해 보다 민감한, 2개의 대응하는 특성 벡터들(feature vectors) 사이의 거리에 의해 측정된다. 일부 구현들에서, 오디오 신호의 스펙트럼 분석은 10초의 시간 윈도우(time window) 내에 수행되어, 그러한 시간 윈도우 내에 오디오 신호의 충분한 변화가 존재하는 것을 확실히 한다.Next, the STB 116 generates an audio fingerprint using the identified segment of the audio signal (417). Audio fingerprints are similar to human fingerprints, in which case minor minor variations are ignored or ignored for features that characterize the fingerprint. In some implementations, the audio fingerprint is a numerical representation (e.g., a vector) of audio signal segments, which representation includes a plurality of attributes, such as a crossing rate of an average of 0, Average spectrum, spectral flatness, significant tones over a set of bands, and bandwidth. Many of these symbols can be determined through frequency-domain spectral analysis of audio signal segments. Compared to the audio signal itself, the audio fingerprint focuses more on the perceptual characteristics of the audio signal. For example, if two audio signals sound equally in the human ear, the audio fingerprints of these signals must match, even if the binary representations of these signals are different. In some implementations, the difference between the two audio fingerprints is not due to a straight binary match, but rather to two minor characteristics that are more sensitive to small but often minor changes from the perception of the human ear Is measured by the distance between the feature vectors. In some implementations, the spectral analysis of the audio signal is performed within a time window of 10 seconds to ensure that there is sufficient variation of the audio signal within such time window.
오디오 핑거프린트를 생성한 이후, STB(116)는 오디오 핑거프린트 기록(예를 들어, 도 3a에 도시된 오디오 핑거프린트 기록)을 준비한다(419). 오디오 핑거프린트 외에, 기록은, 대응하는 비디오 장면 전환 타입, 및 선택적으로 TV 프로그램과 연관된 채널 메타데이터를 포함할 수도 있다. 아래의 도 4c와 관련하여 후술될 바와 같이, 하나의 셋탑 박스에 의해 제공되는 채널 메타데이터는, 다른 셋탑 박스에서 재생되는 TV 프로그램을 결정하기 위해 사용될 수도 있다 ― 2개의 셋탑 박스가 TV 콘텐츠 인식 서버(150)로 동일하거나 유사한 오디오 핑거프린트들을 제시하는 경우임 ―. 마지막으로, STB(116)는 TV 콘텐츠 인식 서버(150)에 오디오 핑거프린트 기록을 전송한다(421). 오디오 핑거프린트 기록의 수신 시에, TV 콘텐츠 인식 서버(150)는, 동일하거나 유사한 오디오 핑거프린트들을 포함하는 기록들의 버킷에 기록을 부가하는 것을 담당한다.After generating the audio fingerprint, the STB 116 prepares 414 an audio fingerprint recording (e.g., the audio fingerprint recording shown in FIG. 3A). In addition to the audio fingerprint, the recording may include a corresponding video transition type, and optionally channel metadata associated with the TV program. The channel metadata provided by one set-top box may be used to determine a TV program to be played on another set-top box, as will be described below with respect to Figure 4C below. And presenting the same or similar audio fingerprints to the
도 4b는 몇몇 구현들에 따라 TV 콘텐츠 인식 서버(150)가 클러스터링을 통해 오디오 핑거프린트들을 그룹핑하는 방법을 도시하는 흐름도이다. 특정한 셋탑 박스로부터 오디오 핑거프린트 기록을 수신(431)한 이후, STB(116)는 기록에서의 오디오 핑거프린트를 미리정의된 해시 함수에 적용한다(433). 몇몇 구현들에서, TV 콘텐츠 인식 서버(150)는, 연착(late-arrival) 오디오 핑거들이 더 이른 오디오 핑거프린트들에 대하여 매칭될 수 있도록, 오디오 핑거프린트들의 버퍼를 유지한다. 오디오 핑거프린트는 벡터로서 정의되고, 해시 함수는 인입하는 오디오 핑거프린트 벡터와 기존의 버킷에서 오디오 핑거프린트 벡터들의 클러스터의 중심 사이의 거리를 측정하기 위한 것이다. 거리가 미리정의된 임계치 미만이라면, 인입하는 오디오 핑거프린트는 버킷에서의 다른 오디오 핑거프린트들과 동일하거나 유사한 것으로 간주되고, 버킷은 오디오 핑거프린트를 호스팅하는 것으로 식별된다(435-예). 몇몇 다른 구현들에서, 상술된 바와 같이, TV 콘텐츠 인식 서버(150)는, 각각의 서브-핑거프린트가 해시 함수와 유사하게 작동하도록 오디오 핑거프린트를 다수의 서브-핑거프린트들로 분할하며, 2개의 오디오 핑거프린트들 사이의 유사성은 2개의 오디오 핑거프린트들에 의해 공유되는 서브-핑거프린트들의 개수에 기초하여 결정된다. 어느 하나의 경우에서, TV 콘텐츠 인식 서버(150)는 새로운 오디오 핑거프린트 기록을 버킷에 부가한다(439). 어떠한 버킷도 발견되지 않는다면(435-아니오), 인입하는 오디오 핑거프린트가 TV 콘텐츠 인식 서버(150)에 도달한 첫번째 것이고 그 오디오 핑거프린트가 셋탑 박스에서 재생되는 TV 프로그램에 대응하는 경우, TV 콘텐츠 인식 서버(150)는 새로운 버킷을 생성(437)하고 새롭게-생성된 버킷에 기록을 부가(439)할 수도 있다. 또한, 몇몇 구현들에서, TV 콘텐츠 인식 서버(150)는, 버킷들에 대한 타임아웃 메커니즘을 구현한다. 예를 들어, 미리정의된 시간의 양동안 어떠한 핑거프린트들도 버킷에 부가되지 않는다면, TV 콘텐츠 인식 서버(150)는, 버킷을 폐기하고 다른 사용을 위해 버킷에 의해 점유된 리소스를 환원할 것이다.4B is a flow diagram illustrating a method by which TV
일부 구현예들에서, 인커밍 오디오 핑거프린트와 연관된 비디오 장면 전환 타입은, 동일한 TV 프로그램으로부터 유래된 오디오 핑거프린트들의 버킷과 오디오 핑커프린트가 매칭한다는 것을 추가로 보장하는 데에 사용된다. 예를 들어, 오디오 핑거프린트들의 2개의 버킷들로부터 미리 정해진 거리 내에 인커밍 오디오 핑거프린트가 해당되면, TV 콘텐츠 인식 서버(150)는 인커밍 오디오 핑거프린트와 연관된 비디오 장면 전환 타입을 오디오 핑거프린트들의 2개의 버킷들과 연관된 비디오 장면 전환 타입과 비교하여 동일한 비디오 장면 전환 타입을 갖지 않는 적어도 하나의 버킷을 제거할 것이다. 일부 구현예들에서, TV 콘텐츠 인식 서버(150)는 상이한 비디오 장면 전환들을 비교하는데, 상이한 비디오 장면 전환들은, 한 경우에서는 시청자가 다른 TV 채널로 전환하고 그리고 몇몇 다른 경우들에서는 시청자가 줄곧 동일한 TV 채널을 보는 것에 상응할 수 있다.In some implementations, the video transition type associated with the incoming audio fingerprint is used to further ensure that the audio fingerprint matches the bucket of audio fingerprints derived from the same TV program. For example, if a incoming audio fingerprint is within a predetermined distance from two buckets of audio fingerprints, then the TV
일부 구현예들에서, TV 콘텐츠 인식 서버(150)는 오디오 핑거프린트 클러스터링의 정확성을 추가로 개선하기 위해서 동일한 STB(116)으로부터의 다중 오디오 핑거프린트 기록들과 연관된 비디오 장면 전환들의 시퀀스와 오디오 핑거프린트들의 버킷들을 비교한다. 예를 들어, 연이은 3개의 인커밍 오디오 핑거프린트들의 비디오 장면 전환 타입들이, 각각, 흑색, 흑색, 및 백색이라면, 심지어 오디오 핑커프린트 매칭에 대한 다른 기준들이 충족되더라도, TV 콘텐츠 인식 서버(150)는 3개의 오디오 핑거프린트들을 비디오 장면 전환 타입들이 흑색, 백색, 및 백색인 오디오 핑거프린트들의 3개의 버킷들에 부가하지 않을 것이다. "흑색" 및 "백색"은 평균 광도의 변화(예를 들어, 상당히 증가함/감소함, 일부 레벨들을 도입함, 등)에 기초하여 정의될 수 있는 예시적인 비디오 장면 전환들이라는 점에 주목한다.In some implementations, the TV
일부 구현예들에서, TV 콘텐츠 인식 서버(150)는, 오디오 핑거프린트 기록들이 시간대 이동 윈도우(예를 들어, 10-분 시간대 윈도우) 밖으로 벗어나면, 오디오 핑거프린트 기록들의 이러한 버킷들을 동적으로 제거함으로써 해시 테이블의 크기에 대한 제한을 유지한다. 버킷이 미리 정해진 시간 동안 어떠한 새로운 오디오 핑거프린트들도 수신하지 않으면, TV 콘텐츠 인식 서버(150)는 버킷에 의해 점유된 메모리를 환원(reclaim)시킬 수 있다. 그러므로, 동일한 TV 프로그램에 상응하는 새로운 오디오 핑거프린트가, 새롭게-생성된 버킷 내에 들어갈 수 있다는 것이 가능하다. 그러나 동일한 비디오 장면 전환 타입에 상응하는 오디오 핑거프린트들을 저장하는 2개의 공존하는 버킷들이 존재하는 것은 가능하지 않다. 예를 들어, TV 콘텐츠 인식 서버(150)는 생방송 TV 프로그램의 시청률 레이팅을 모니터링할 책임이 있다. 이 경우에, 동일한 TV 프로그램 생방송을 재생하는 특정 셋탑 박스로부터의 검색 쿼리는 시간대 윈도우 내에 발생된 오디오 핑거프린트를 포함해야 하고, 그리고 해시 테이블의 버킷들 중 하나와 매칭될 수 있다. 반면에, TV 프로그램의 시간대-이동된 버전을 재생하는 특정 셋탑 박스로부터의 검색 쿼리는, 시간대-이동된 오디오 핑거프린트가, 해시 테이블에 의해서 관리되는 시간대 이동 윈도우 밖에 있다면, 해시 테이블의 버킷들 중 어느것과도 매칭되지 않을 수 있다.In some implementations, the TV
도 4c는 몇몇 구현들에 따라 TV 콘텐츠 인식 서버(150)가, 오디오 핑거프린트를 포함하는 탐색 질의에 응답하여, TV 프로그램 정보를 제공하는 방법을 예시하는 흐름도이다. 여기서, 오디오 핑거프린트는 생방송 TV 프로그램을 플레이하고 있는 셋탑 박스에 의해 발생되는 것이 가정된다. 도면에 도시된 바와 같이, TV 콘텐츠 인식 서버(150)는 먼저, 셋탑 박스로부터 요청을 수신하고(441), 상기 요청은 오디오 핑거프린트 및 선택적으로 STB_ID를 포함할 수 있다. 파라미터 STB_ID는, TV 콘텐츠 인식 서버(150)가 (다른 TV 애플리케이션일 수 있는) 최종 사용자에 의해 요청된 정보를 포함하는 응답을 리턴할, 요청의 소스를 식별한다. 수신된 오디오 핑거프린트에 기초하여, TV 콘텐츠 인식 서버(150)는 해시 함수를 이용하여 오디오 핑거프린트들의 버킷을 식별한다(443). 몇몇 구현들에서, 이러한 프로세스는, 예를 들어, 수신된 오디오 핑거프린트와 각각의 버킷의 오디오 핑거프린트들의 클러스터의 센터 사이의 거리를 측정함으로써, 오디오 핑거프린트를 버킷에 삽입하는 프로세스와 실질적으로 동일하다. 핑거프린트들의 버킷을 식별한 후에, TV 콘텐츠 인식 서버(150)는, 대응하는 TV 프로그램 정보를 결정하고 TV 프로그램 정보를 최종 사용자에게 리턴(447)하기 위해, 오디오 핑거프린트들과 연관된 채널 메타데이터의 통계적 분석을 실시한다(445). 몇몇 구현들에서, 리턴된 TV 프로그램 정보는 채널 명칭, 프로그램 명칭, 프로그램 레이팅, 프로그램 개요, 인터넷 상의 프로그램의 URL 등을 포함한다.4C is a flowchart illustrating a method by which the TV
상기 언급된 바와 같이, 몇몇 셋탑 박스들은 현재 플레이되고 있는 TV 프로그램에 관한 정보에 액세스하지 않는다. 이러한 셋탑 박스에 있어서, 이는, 비디오 및 오디오 스트림들의 콘텐츠를 이해함이 없이 비디오 스트림 및 오디오 스트림을 TV에 단순히 전달한다. 이러한 경우, 최종 사용자는, 오디오 핑거프린트를 포함하는 탐색 질의를 TV 콘텐츠 인식 서버(150)에 전송하고, 어떤 TV 프로그램이 비디오 및 오디오 스트림들에 대응하는지를 결정하는 것을 돕도록 TV 콘텐츠 인식 서버(150)에 요청해야 한다. TV 콘텐츠 인식 서버(150)는 적어도 2개의 기능들을 수행한다. 먼저, 상기 TV 콘텐츠 인식 서버(150)는 인커밍 오디오 핑거프린트와 동일한 또는 유사한 오디오 핑거프린트들의 버킷을 발견할 것이고, 이는 동일한 버킷의 오디오 핑거프린트들이 동일한 TV 프로그램으로부터의 것이라는 것을 나타낸다. 셋탑 박스들 중 몇몇은 오디오 핑거프린트들과 함께 자신들의 채널 메타데이터를 제공할 수 있거나, 또는 대안적으로 뷰어 동작들에 기초하여 채널 메타데이터를 추론하는 것이 가능하다. 그러므로, TV 콘텐츠 인식 서버(150)에 의해 수행되는 다른 기능은, 동일한 버킷의 다른 오디오 핑거프린트들과 연관된 채널 메타데이터에 기초하여 TV 프로그램 정보를 결정하는 것이다.As mentioned above, some set top boxes do not access information about the TV program currently being played. In this set top box, it simply passes video and audio streams to the TV without understanding the contents of the video and audio streams. In such a case, the end user may send a search query that includes an audio fingerprint to the TV
몇몇 구현들에서, 통계적 분석은, 상이한 셋탑 박스들에 의해 제공된 채널 메타데이터 사이에서 합의를 찾아내는 것이다. 예를 들어, 20개의 셋탑 박스들이 채널 메타데이터를 제공하였고, 20개의 셋탑 박스들 중 15개의 셋탑 박스들로부터의 채널 메타데이터가, 오디오 핑거프린트에 대응하는 TV 프로그램이 프로그램 A라는 것을 나타내고, 다른 5개의 셋탑 박스들로부터의 채널 메타데이터가, 오디오 핑거프린트에 대응하는 TV 프로그램이 프로그램 B라는 것을 나타내는 경우, 최종 사용자에 의해 질의되는 TV 프로그램은 또한 프로그램 A일 가능성이 더 높다. 이는 부분적으로, 오디오 신호들로부터 오디오 핑거프린트들을 발생시키는 프로세스 및 오디오 핑거프린트와 오디오 핑거프린트들의 버킷 사이의 매칭의 프로세스 모두가 최종 결과에 에러들을 도입할 수 있기 때문이다. 그러므로, 채널 메타데이터의 통계적 분석은 잘못된 TV 프로그램 정보를 최종 사용자에게 리턴할 가능성(likelihood)을 감소시킬 수 있다.In some implementations, the statistical analysis is to find an agreement between the channel metadata provided by the different set-top boxes. For example, 20 set-top boxes provide channel metadata, and channel metadata from 15 set-top boxes out of 20 set-top boxes indicates that the TV program corresponding to the audio fingerprint is program A, If the channel metadata from the five set top boxes indicates that the TV program corresponding to the audio fingerprint is program B, the TV program queried by the end user is also more likely to be program A. This is partly because both the process of generating audio fingerprints from the audio signals and the process of matching between the audio fingerprints and the buckets of audio fingerprints can introduce errors into the end result. Therefore, statistical analysis of channel metadata can reduce the likelihood of returning incorrect TV program information to the end user.
도 5a는 일부 구현예들에 따라서, 셋탑 박스(보다 구체적으로는, TV 샘플러(116-1))가 TV 콘텐츠 인식 서버(150)에 오디오 핑거프린트들을 어떻게 전송하는 지를 나타내는 플로우 챠트이다. TV 샘플러(116-1)는 제 1 비디오 장면 전환를 검출하고(501), 제 1 오디오 핑거프린트를 생성하며(503), 그리고 TV 콘텐츠 인식 서버(150)에 제 1 오디오 핑거프린트를 전송한다(505). 제 1 오디오 핑거프린트를 수신하면(521), TV 콘텐츠 인식 서버(150)는 제 1 오디오 핑거프린트에 대한 버킷을 식별하고(523), 제 1 오디오 핑거프린트를 버킷 내에 입력한다(525). 이후, TV 샘플러(116-1) 및 TV 콘텐츠 인식 서버(150)는, 제 2 오디오 핑거프린트와 관련하여, 프로세스들(511, 513, 515) 및 (531, 533, 535)을 각각 반복한다. 5A is a flow chart illustrating how a set-top box (more specifically, TV sampler 116-1) transmits audio fingerprints to TV
도 5b는 일부 구현예들에 따라서, 셋탑 박스(보다 구체적으로는, TV 애플리케이션(116-2))가 TV 콘텐츠 인식 서버(150)에 오디오 핑거프린트를 포함하는 서치 요청을 어떻게 전송하고 그리고 TV 콘텐츠 인식 서버로부터 TV 프로그램 정보를 어떻게 수신하는 지를 나타내는 플로우 차트이다. TV 애플리케이션(116-2)은 TV 콘텐츠 인식 서버(150)에 요청을 전송한다(541). 요청을 수신한 후(543), TV 콘텐츠 인식 서버(150)는 오디오 핑거프린트들의 버킷을 식별하기 위해 요청 내의 오디오 핑거프린트를 해시 함수에 적용하고(545), 오디오 핑거프린트들의 버킷과 관련된 채널 메타데이터를 식별한다(547). 다음으로, TV 콘텐츠 인식 서버(150)는 TV 프로그램 정보를 결정하기 위해 채널 메타데이터에 대해 통계적 분석을 수행하고(549), 요청 TV 애플리케이션(116-2)에 TV 프로그램 정보를 리턴한다(551). 그러면, TV 애플리케이션(116-2)은 이러한 TV 프로그램 정보를 이용하여, (예를 들어, 데이터베이스 내에 새로운 TV 시청자 이력 기록을 생성하는) 미리 정해진 함수(predefined function)를 수행한다. 5B illustrates how a set-top box (and more specifically, the TV application 116-2) may send a search request that includes an audio fingerprint to a TV content
일부 구현예들에서, TV 콘텐츠 인식 서버(150)는 복수의 셋탑 박스들을 오디오 핑거프린트들의 식별된 버킷과 관련된 것으로서 식별하고, 식별된 복수의 셋탑 박스들에 기초하여 통계적 TV 시청률(viewership) 정보를 준비하며, 그리고 식별된 복수의 셋탑 박스들과 관련된 TV 시청률 정보를 TV 시청률 조사 기관과 같은 클라이언트에 리턴한다. In some implementations, the TV
비록 다양한 도면들 중 일부가 다수의 논리 스테이지(logical stage)들을 특정 순서(order)로 나타내었지만, 순서에 의존하지 않는 스테이지들이 재배열될 수 있으며, 다른 스테이지들이 결합되거나 깨질 수 있다(broken out). 일부 재배열 또는 다른 그룹화(groupings)가 구체적으로 언급되었지만, 그 밖의 재배열 또는 그룹화(others)가 당업자에게 자명할 것이며, 이에 따라 대안(alternative)들을 속속들이 규명한 리스트(exhaustive list)를 제시하지는 않는다. 예를 들어, 셋탑 박스가 TV 콘텐츠 인식 서버에 미가공(raw) 오디오 신호를 전송하는 것이 가능하며, 이렇게 되면 TV 콘텐츠 인식 서버가 오디오 신호를 오디오 핑거프린트들로 변환하는 것을 담당한다. 또한, 스테이지들은 하드웨어, 펌웨어, 소프트웨어, 또는 이들의 임의의 조합으로 구현될 수 있음을 인식해야 한다. Although some of the various figures represent a plurality of logical stages in a particular order, the stages that are not dependent on the order may be rearranged and other stages may be broken or broken out. . While some rearrangements or other groupings are specifically mentioned, other rearrangements or others will be apparent to those skilled in the art, and thus do not provide an exhaustive list of alternatives . For example, it is possible for a set-top box to transmit a raw audio signal to a TV content recognition server, which in turn is responsible for converting the audio signal to audio fingerprints. It should also be appreciated that the stages may be implemented in hardware, firmware, software, or any combination thereof.
상기 설명은, 설명을 위해, 구체적인 구현예들과 관련하여 설명되었다. 하지만, 상기의 예시적인 논의들은, 본 발명을 속속들이 규명한 것으로서 또는 본 발명을 개시된 정확한 형태들로 제한하는 것으로서 의도되지 않는다. 상기 교시들을 고려하여, 많은 수정들 및 변형들이 가능하다. 구현예들은 본 발명의 원리들 및 그 실제 응용들을 최상으로 설명하기 위해 선택되고 설명되었으며, 그에 의해 당업자들로 하여금 본 발명 및 고려되는 특정 용도(use)에 대해 적합한 다양한 수정들을 갖는 다양한 구현예들을 최상으로 이용할 수 있게 한다. 구현예들은 첨부된 청구항들의 정신 및 범위 내에 있는 대안들, 수정들 및 등가물들을 포함한다. 본원에서 제시되는 청구 대상(subject matter)의 철저한 이해를 제공하기 위해, 구체적인 많은 상세사항들이 설명되었다. 하지만, 이러한 청구 대상은 이러한 구체적인 상세사항들 없이도 실행될 수 있음이 당업자에게 자명할 것이다. 다른 경우들에서, 구현예들의 양상들을 불필요하게 모호하게 하지 않도록 하기 위해, 잘 알려진 방법들, 절차들, 컴포넌트들 및 회로들에 대해서는 상세히 설명하지 않았다. The foregoing description, for purposes of explanation, has been presented with reference to specific embodiments. However, the foregoing illustrative discussions are not intended to limit the invention to the precise forms disclosed, or to the precise forms disclosed. Many modifications and variations are possible in light of the above teachings. The embodiments have been chosen and described in order to best explain the principles of the invention and its practical applications, thereby enabling those skilled in the art to make various embodiments with various modifications as are suited to the invention and the particular use contemplated Making it the best available. The implementations include alternatives, modifications and equivalents within the spirit and scope of the appended claims. Many specific details have been set forth in order to provide a thorough understanding of the subject matter presented herein. It will be apparent to those skilled in the art, however, that such subject matter may be practiced without these specific details. In other instances, well known methods, procedures, components, and circuits have not been described in detail in order not to unnecessarily obscure aspects of the implementations.
Claims (51)
하나 이상의 프로세서들 및 메모리를 포함하는 컴퓨터 서버 시스템에서,
복수의 셋톱 박스들로부터 정보를 수신하는 단계 ― 상기 정보는 상기 복수의 셋톱 박스들에서 생성된 오디오 핑거프린트들 및 적어도 상기 오디오 핑거프린트들의 서브세트와 연관된 채널 메타데이터를 포함함 ―;
그룹 내의 오디오 핑거프린트들이 개별 셋톱 박스들에서 플레이되고 있는 개별 TV 프로그램에 대응하도록 상기 오디오 핑거프린트들을 다수의 그룹들로 파티셔닝하는 단계;
셋톱 박스로부터 TV 프로그램 정보에 대한 질의를 수신하는 단계 ― 상기 질의는 상기 셋톱 박스에서 생성된 오디오 핑거프린트를 포함함 ―;
상기 오디오 핑거프린트와 실질적으로 유사한 오디오 핑거프린트들의 그룹을 식별하기 위하여, 오디오 핑거프린트들의 다수의 그룹들과 상기 오디오 핑거프린트를 비교하는 단계;
적어도 부분적으로, 식별된 상기 오디오 핑거프린트들의 그룹과 연관된 채널 메타데이터에 따라, 상기 오디오 핑거프린트에 대한 TV 프로그램 정보를 결정하는 단계; 및
요청하는 셋톱 박스에 상기 TV 프로그램 정보를 리턴하는 단계를 포함하는, 컴퓨터-구현 방법.A computer-implemented method,
In a computer server system that includes one or more processors and memory,
Receiving information from a plurality of set top boxes, the information including audio fingerprints generated in the plurality of set top boxes and channel metadata associated with at least a subset of the audio fingerprints;
Partitioning the audio fingerprints into a plurality of groups such that the audio fingerprints in the group correspond to individual TV programs being played in the individual set top boxes;
Receiving a query for TV program information from a set-top box, the query including an audio fingerprint generated in the set-top box;
Comparing the audio fingerprints with a plurality of groups of audio fingerprints to identify a group of audio fingerprints substantially similar to the audio fingerprints;
Determining TV program information for the audio fingerprint, at least in part, according to channel metadata associated with the identified group of audio fingerprints; And
And returning the TV program information to the requesting set-top box.
상기 오디오 핑거프린트와 오디오 핑거프린트들의 개별 그룹의 중심 사이의 거리를 결정하는 단계; 및
상기 거리가 미리 정의된 임계치 미만인 오디오 핑거프린트들의 그룹을 상기 오디오 핑거프린트와 실질적으로 유사한 오디오 핑거프린트들의 그룹으로서 식별하는 단계를 더 포함하는, 컴퓨터-구현 방법.6. The method of claim 5, wherein the step of comparing the audio fingerprints with a plurality of groups of audio fingerprints, in order to identify a group of audio fingerprints substantially similar to the audio fingerprints,
Determining a distance between the center of the individual group of audio fingerprints and the audio fingerprints; And
Identifying the group of audio fingerprints having a distance less than a predefined threshold as a group of audio fingerprints substantially similar to the audio fingerprint.
상기 채널 메타데이터의 콘센서스를 결정하기 위하여, 상기 채널 메타데이터의 통계적 분석을 수행하는 단계; 및
TV 콘텐츠 제공자 데이터베이스에 질의하여 상기 TV 프로그램 정보를 결정하기 위하여, 상기 채널 메타데이터의 콘센서스를 사용하는 단계를 더 포함하는, 컴퓨터-구현 방법.8. The method of claim 7, wherein determining TV program information for the audio fingerprint, at least in part, in accordance with channel metadata associated with the identified group of audio fingerprints,
Performing a statistical analysis of the channel metadata to determine consensus of the channel metadata; And
Further comprising using a consensus of the channel metadata to query the TV content provider database to determine the TV program information.
하나 이상의 프로세서들;
메모리; 및
복수의 프로그램 모듈들을 포함하며;
상기 복수의 프로그램 모듈은 상기 메모리에 저장되며, 상기 하나 이상의 프로세서들에 의해 실행되도록 구성되며;
상기 복수의 프로그램 모듈들은,
복수의 셋톱 박스들로부터 정보를 수신하며 ― 상기 정보는 상기 복수의 셋톱 박스들에서 생성된 오디오 핑거프린트들 및 적어도 상기 오디오 핑거프린트들의 서브세트와 연관된 채널 메타데이터를 포함함 ―;
그룹 내의 오디오 핑거프린트들이 개별 셋톱 박스들에서 플레이되고 있는 개별 TV 프로그램에 대응하도록 상기 오디오 핑거프린트들을 다수의 그룹들로 파티셔닝하며;
셋톱 박스로부터 TV 프로그램 정보에 대한 질의를 수신하며 ― 상기 질의는 상기 셋톱 박스에서 생성된 오디오 핑거프린트를 포함함 ―;
상기 오디오 핑거프린트와 실질적으로 유사한 오디오 핑거프린트들의 그룹을 식별하기 위하여, 오디오 핑거프린트들의 다수의 그룹들과 상기 오디오 핑거프린트를 비교하며;
적어도 부분적으로, 식별된 상기 오디오 핑거프린트들의 그룹과 연관된 채널 메타데이터에 따라, 상기 오디오 핑거프린트에 대한 TV 프로그램 정보를 결정하며; 그리고
요청하는 셋톱 박스에 상기 TV 프로그램 정보를 리턴하기 위한 명령들을 포함하는, TV 프로그램 정보를 결정하기 위한 컴퓨터 서버 시스템.A computer server system for determining TV program information,
One or more processors;
Memory; And
A plurality of program modules;
The plurality of program modules being stored in the memory and being configured to be executed by the one or more processors;
The plurality of program modules comprising:
Receiving information from a plurality of set top boxes, the information including audio fingerprints generated in the plurality of set top boxes and channel metadata associated with at least a subset of the audio fingerprints;
Partition the audio fingerprints into a plurality of groups such that the audio fingerprints in the group correspond to individual TV programs being played in the individual set top boxes;
Receiving a query for TV program information from a set-top box, the query including an audio fingerprint generated in the set-top box;
Compare the audio fingerprints with a plurality of groups of audio fingerprints to identify a group of audio fingerprints substantially similar to the audio fingerprints;
Determine TV program information for the audio fingerprint, at least in part, according to channel metadata associated with the identified group of audio fingerprints; And
And returning the TV program information to the requesting set-top box.
상기 오디오 핑거프린트와 오디오 핑거프린트들의 개별 그룹의 중심 사이의 거리를 결정하며; 그리고
상기 거리가 미리 정의된 임계치 미만인 오디오 핑거프린트들의 그룹을 상기 오디오 핑거프린트와 실질적으로 유사한 오디오 핑거프린트들의 그룹으로서 식별하기 위한 명령들을 더 포함하는, TV 프로그램 정보를 결정하기 위한 컴퓨터 서버 시스템.14. The method of claim 13, wherein the instructions for comparing the audio fingerprint with a plurality of groups of audio fingerprints to identify a group of audio fingerprints substantially similar to the audio fingerprint,
Determine a distance between the center of the individual group of audio fingerprints and the audio fingerprints; And
Further comprising identifying the group of audio fingerprints having a distance less than a predefined threshold as a group of audio fingerprints substantially similar to the audio fingerprint.
상기 채널 메타데이터의 콘센서스를 결정하기 위하여, 상기 채널 메타데이터의 통계적 분석을 수행하며; 그리고
TV 콘텐츠 제공자 데이터베이스에 질의하여 상기 TV 프로그램 정보를 결정하기 위하여, 상기 채널 메타데이터의 콘센서스를 사용하기 위한 명령들을 더 포함하는, TV 프로그램 정보를 결정하기 위한 컴퓨터 서버 시스템.16. The apparatus of claim 15, wherein the instructions for determining TV program information for the audio fingerprint, at least in part, in accordance with channel metadata associated with the identified group of audio fingerprints,
Performing a statistical analysis of the channel metadata to determine a consensus of the channel metadata; And
Further comprising instructions for using the consensus of the channel metadata to query the TV content provider database to determine the TV program information.
상기 하나 이상의 프로그램들은
복수의 셋톱 박스들로부터 정보를 수신하며 ― 상기 정보는 상기 복수의 셋톱 박스들에서 생성된 오디오 핑거프린트들 및 적어도 상기 오디오 핑거프린트들의 서브세트와 연관된 채널 메타데이터를 포함함 ―;
그룹 내의 오디오 핑거프린트들이 개별 셋톱 박스들에서 플레이되고 있는 개별 TV 프로그램에 대응하도록 상기 오디오 핑거프린트들을 다수의 그룹들로 파티셔닝하며;
셋톱 박스로부터 TV 프로그램 정보에 대한 질의를 수신하며 ― 상기 질의는 상기 셋톱 박스에서 생성된 오디오 핑거프린트를 포함함 ―;
상기 오디오 핑거프린트와 실질적으로 유사한 오디오 핑거프린트들의 그룹을 식별하기 위하여, 오디오 핑거프린트들의 다수의 그룹들과 상기 오디오 핑거프린트를 비교하며;
적어도 부분적으로, 식별된 상기 오디오 핑거프린트들의 그룹과 연관된 채널 메타데이터에 따라, 상기 오디오 핑거프린트에 대한 TV 프로그램 정보를 결정하며; 그리고
요청하는 셋톱 박스에 상기 TV 프로그램 정보를 리턴하기 위한 명령들을 포함하는, 비-일시적 컴퓨터 판독가능 저장 매체.18. A non-transitory computer readable storage medium storing one or more program modules configured for execution by a computer server system comprising one or more processors and memory for determining TV program information,
The one or more programs
Receiving information from a plurality of set top boxes, the information including audio fingerprints generated in the plurality of set top boxes and channel metadata associated with at least a subset of the audio fingerprints;
Partition the audio fingerprints into a plurality of groups such that the audio fingerprints in the group correspond to individual TV programs being played in the individual set top boxes;
Receiving a query for TV program information from a set-top box, the query including an audio fingerprint generated in the set-top box;
Compare the audio fingerprints with a plurality of groups of audio fingerprints to identify a group of audio fingerprints substantially similar to the audio fingerprints;
Determine TV program information for the audio fingerprint, at least in part, according to channel metadata associated with the identified group of audio fingerprints; And
And returning the TV program information to the requesting set-top box.
상기 오디오 핑거프린트와 오디오 핑거프린트들의 개별 그룹의 중심 사이의 거리를 결정하며; 그리고
상기 거리가 미리 정의된 임계치 미만인 오디오 핑거프린트들의 그룹을 상기 오디오 핑거프린트와 실질적으로 유사한 오디오 핑거프린트들의 그룹으로서 식별하기 위한 명령들을 더 포함하는, 비-일시적 컴퓨터 판독가능 저장 매체.22. The method of claim 21, wherein the instructions for comparing the audio fingerprint with a plurality of groups of audio fingerprints to identify a group of audio fingerprints substantially similar to the audio fingerprint,
Determine a distance between the center of the individual group of audio fingerprints and the audio fingerprints; And
Further comprising identifying the group of audio fingerprints having a distance less than a predefined threshold as a group of audio fingerprints substantially similar to the audio fingerprint.
상기 채널 메타데이터의 콘센서스를 결정하기 위하여, 상기 채널 메타데이터의 통계적 분석을 수행하며; 그리고
TV 콘텐츠 제공자 데이터베이스에 질의하여 상기 TV 프로그램 정보를 결정하기 위하여, 상기 채널 메타데이터의 콘센서스를 사용하기 위한 명령들을 더 포함하는, 비-일시적 컴퓨터 판독가능 저장 매체.24. The apparatus of claim 23, wherein instructions for determining TV program information for the audio fingerprint, in accordance with channel metadata associated with the group of identified audio fingerprints, at least in part,
Performing a statistical analysis of the channel metadata to determine a consensus of the channel metadata; And
Further comprising instructions for using the consensus of the channel metadata to query the TV content provider database to determine the TV program information.
하나 이상의 프로세서들 및 메모리를 포함하는 컴퓨터 서버 시스템에서,
복수의 셋톱 박스들로부터 정보를 수신하는 단계 ― 상기 정보는 상기 복수의 셋톱 박스들에서 생성된 오디오 핑거프린트들 및 적어도 상기 오디오 핑거프린트들의 서브세트와 연관된 채널 메타데이터를 포함함 ―;
그룹 내의 오디오 핑거프린트들이 개별 셋톱 박스들에서 플레이되고 있는 개별 TV 프로그램에 대응하도록 상기 오디오 핑거프린트들을 다수의 그룹들로 파티셔닝하는 단계;
클라이언트로부터의 질의에 응답하여,
상기 질의의 연관된 오디오 핑거프린트들의 하나 이상의 그룹을 식별하는 단계,
적어도 부분적으로, 식별된 상기 오디오 핑거프린트들의 그룹들 및 상기 식별된 오디오 핑거프린트들의 그룹과 연관된 대응 채널 메타데이터에 따라, 통계적 TV 시청자 정보를 준비하는 단계, 및
요청하는 클라이언트에 상기 통계적 TV 시청자 정보를 리턴하는 단계를 포함하는, 컴퓨터-구현 방법.A computer-implemented method,
In a computer server system that includes one or more processors and memory,
Receiving information from a plurality of set top boxes, the information including audio fingerprints generated in the plurality of set top boxes and channel metadata associated with at least a subset of the audio fingerprints;
Partitioning the audio fingerprints into a plurality of groups such that the audio fingerprints in the group correspond to individual TV programs being played in the individual set top boxes;
In response to a query from the client,
Identifying one or more groups of associated audio fingerprints of the query,
Preparing statistical TV viewer information, at least in part, according to the identified groups of audio fingerprints and the corresponding channel metadata associated with the identified group of audio fingerprints; and
And returning the statistical TV viewer information to the requesting client.
하나 이상의 프로세서들 및 메모리를 포함하는 셋톱 박스 ― 상기 셋톱 박스는 텔레비전에 통신가능하게 연결됨 ―에서,
TV 콘텐츠 제공자로부터, 비디오 신호 및 상기 비디오 신호와 연관된 오디오 신호를 수신하는 단계 ― 상기 비디오 신호 및 상기 오디오 신호 둘다는 TV 프로그램에 대응하며, 상기 텔레비전상에서 플레이됨 ―
상기 오디오 신호로부터 복수의 오디오 핑거프린트들을 생성하는 단계 ― 상기 복수의 오디오 핑거프린트들 중 적어도 하나는 상기 비디오 신호에서 검출되는 미리 정의된 비디오 장면 전환에 대응함 ―; 및
상기 TV 프로그램과 연관된 TV 프로그램 정보를 결정하기 위하여 원격 서버에 상기 복수의 오디오 핑거프린트들을 송신하는 단계를 포함하는, 컴퓨터-구현 방법.A computer-implemented method,
A set top box comprising one or more processors and a memory, the set top box being communicatively coupled to a television,
Receiving, from a TV content provider, a video signal and an audio signal associated with the video signal, wherein both the video signal and the audio signal correspond to a TV program and are played on the television;
Generating a plurality of audio fingerprints from the audio signal, wherein at least one of the plurality of audio fingerprints corresponds to a predefined video transition detected in the video signal; And
And transmitting the plurality of audio fingerprints to a remote server to determine TV program information associated with the TV program.
상기 미리 정의된 비디오 장면 전환을 검출하기 위하여 상기 비디오 신호를 스캐닝하는 단계; 및
상기 미리 정의된 비디오 장면 전환의 검출시에,
상기 미리 정의된 비디오 정면 전환에 대응하는 오디오 신호들의 세그먼트를 식별하는 단계; 및
식별된 오디오 신호 세그먼트로부터 오디오 핑거프린트를 생성하는 단계를 더 포함하는, 컴퓨터-구현 방법.28. The method of claim 27, wherein generating a plurality of audio fingerprints from the audio signal comprises:
Scanning the video signal to detect the predefined video transitions; And
Upon detection of the predefined video transition,
Identifying a segment of audio signals corresponding to the predefined video front transition; And
And generating an audio fingerprint from the identified audio signal segment.
상기 오디오 신호로부터 오디오 신호의 세그먼트를 주기적으로 캡처하는 단계; 및
캡처된 오디오 신호 세그먼트로부터 오디오 핑거프린트를 생성하는 단계를 더 포함하는, 컴퓨터-구현 방법.28. The method of claim 27, wherein generating a plurality of audio fingerprints from the audio signal comprises:
Periodically capturing a segment of the audio signal from the audio signal; And
And generating an audio fingerprint from the captured audio signal segment.
상기 셋톱 박스는,
하나 이상의 프로세서들;
메모리; 및
복수의 프로그램 모듈들을 포함하며;
상기 복수의 프로그램 모듈은 상기 메모리에 저장되며, 상기 하나 이상의 프로세서들에 의해 실행되도록 구성되며;
상기 복수의 프로그램 모듈들은,
TV 콘텐츠 제공자로부터, 비디오 신호 및 상기 비디오 신호와 연관된 오디오 신호를 수신하며 ― 상기 비디오 신호 및 상기 오디오 신호 둘다는 TV 프로그램에 대응하며, 상기 텔레비전상에서 플레이됨 ―
상기 오디오 신호로부터 복수의 오디오 핑거프린트들을 생성하며 ― 상기 복수의 오디오 핑거프린트들 중 적어도 하나는 상기 비디오 신호에서 검출되는 미리 정의된 비디오 장면 전환에 대응함 ―; 및
상기 TV 프로그램과 연관된 TV 프로그램 정보를 결정하기 위하여 원격 서버에 상기 복수의 오디오 핑거프린트들을 송신하기 위한 명령들을 포함하는, 셋톱 박스.A set-top box communicatively coupled to a television,
The set-
One or more processors;
Memory; And
A plurality of program modules;
The plurality of program modules being stored in the memory and being configured to be executed by the one or more processors;
The plurality of program modules comprising:
From a TV content provider, a video signal and an audio signal associated with the video signal, both the video signal and the audio signal corresponding to a TV program,
Generating a plurality of audio fingerprints from the audio signal, wherein at least one of the plurality of audio fingerprints corresponds to a predefined video transition detected in the video signal; And
Instructions for transmitting the plurality of audio fingerprints to a remote server to determine TV program information associated with the TV program.
상기 미리 정의된 비디오 장면 전환을 검출하기 위하여 상기 비디오 신호를 스캐닝하며; 그리고
상기 미리 정의된 비디오 장면 전환의 검출시에,
상기 미리 정의된 비디오 정면 전환에 대응하는 오디오 신호들의 세그먼트를 식별하며; 그리고
식별된 오디오 신호 세그먼트로부터 오디오 핑거프린트를 생성하기 위한 명령들을 더 포함하는, 셋톱 박스.38. The apparatus of claim 36, wherein instructions for generating a plurality of audio fingerprints from the audio signal include:
Scanning the video signal to detect the predefined video transitions; And
Upon detection of the predefined video transition,
Identify a segment of audio signals corresponding to the predefined video front transition; And
Further comprising instructions for generating an audio fingerprint from the identified audio signal segment.
상기 오디오 신호로부터 오디오 신호의 세그먼트를 주기적으로 캡처하며; 및
캡처된 오디오 신호 세그먼트로부터 오디오 핑거프린트를 생성하기 위한 명령들을 더 포함하는, 셋톱 박스.37. The apparatus of claim 36, wherein the instructions for generating a plurality of audio fingerprints from the audio signal comprise:
Periodically capturing a segment of the audio signal from the audio signal; And
Further comprising instructions for generating an audio fingerprint from the captured audio signal segment.
상기 셋톱 박스는 텔레비전에 통신가능하게 커플링되며,
상기 하나 이상의 프로그램들은,
TV 콘텐츠 제공자로부터, 비디오 신호 및 상기 비디오 신호와 연관된 오디오 신호를 수신하며 ― 상기 비디오 신호 및 상기 오디오 신호 둘다는 TV 프로그램에 대응하며, 상기 텔레비전상에서 플레이됨 ―
상기 오디오 신호로부터 복수의 오디오 핑거프린트들을 생성하며 ― 상기 복수의 오디오 핑거프린트들 중 적어도 하나는 상기 비디오 신호에서 검출되는 미리 정의된 비디오 장면 전환에 대응함 ―; 및
상기 TV 프로그램과 연관된 TV 프로그램 정보를 결정하기 위하여 원격 서버에 상기 복수의 오디오 핑거프린트들을 송신하기 위한 명령들을 포함하는, 비-일시적 컴퓨터 판독가능 저장 매체.17. A non-transitory computer readable storage medium storing one or more program modules configured for execution by a set top box comprising one or more processors and memory,
The set-top box is communicably coupled to a television,
The one or more programs,
From a TV content provider, a video signal and an audio signal associated with the video signal, both the video signal and the audio signal corresponding to a TV program,
Generating a plurality of audio fingerprints from the audio signal, wherein at least one of the plurality of audio fingerprints corresponds to a predefined video transition detected in the video signal; And
Instructions for transmitting the plurality of audio fingerprints to a remote server to determine TV program information associated with the TV program.
상기 미리 정의된 비디오 장면 전환을 검출하기 위하여 상기 비디오 신호를 스캐닝하며; 그리고
상기 미리 정의된 비디오 장면 전환의 검출시에,
상기 미리 정의된 비디오 정면 전환에 대응하는 오디오 신호들의 세그먼트를 식별하며; 그리고
식별된 오디오 신호 세그먼트로부터 오디오 핑거프린트를 생성하기 위한 명령들을 더 포함하는, 비-일시적 컴퓨터 판독가능 저장 매체.45. The apparatus of claim 44, wherein instructions for generating a plurality of audio fingerprints from the audio signal comprise:
Scanning the video signal to detect the predefined video transitions; And
Upon detection of the predefined video transition,
Identify a segment of audio signals corresponding to the predefined video front transition; And
Further comprising instructions for generating an audio fingerprint from the identified audio signal segment.
상기 오디오 신호로부터 오디오 신호의 세그먼트를 주기적으로 캡처하며; 및
캡처된 오디오 신호 세그먼트로부터 오디오 핑거프린트를 생성하기 위한 명령들을 더 포함하는, 비-일시적 컴퓨터 판독가능 저장 매체.45. The apparatus of claim 44, wherein the instructions for generating a plurality of audio fingerprints from the audio signal comprise:
Periodically capturing a segment of the audio signal from the audio signal; And
Further comprising instructions for generating an audio fingerprint from the captured audio signal segment.
Applications Claiming Priority (5)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US13/536,756 US8843952B2 (en) | 2012-06-28 | 2012-06-28 | Determining TV program information based on analysis of audio fingerprints |
US13/536,779 US9113203B2 (en) | 2012-06-28 | 2012-06-28 | Generating a sequence of audio fingerprints at a set top box |
US13/536,779 | 2012-06-28 | ||
US13/536,756 | 2012-06-28 | ||
PCT/US2013/048328 WO2014004914A1 (en) | 2012-06-28 | 2013-06-27 | Generating a sequence of audio fingerprints at a set top box |
Publications (2)
Publication Number | Publication Date |
---|---|
KR20150027279A true KR20150027279A (en) | 2015-03-11 |
KR102105313B1 KR102105313B1 (en) | 2020-04-29 |
Family
ID=48793551
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
KR1020157002468A KR102105313B1 (en) | 2012-06-28 | 2013-06-27 | Generating a sequence of audio fingerprints at a set top box |
Country Status (4)
Country | Link |
---|---|
EP (1) | EP2868109B1 (en) |
KR (1) | KR102105313B1 (en) |
CN (1) | CN104584571B (en) |
WO (1) | WO2014004914A1 (en) |
Cited By (4)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
KR20180128085A (en) * | 2016-02-29 | 2018-11-30 | 그레이스노트, 인코포레이티드 | Method and system for detecting and responding to changing of media channel |
KR20190086608A (en) | 2018-01-12 | 2019-07-23 | 김재원 | Open market platform for creations |
KR20200009128A (en) * | 2017-03-31 | 2020-01-29 | 그레이스노트, 인코포레이티드 | Music service with motion video |
US11934624B2 (en) | 2017-12-19 | 2024-03-19 | Samsung Electronics Co., Ltd. | Electronic apparatus, control method thereof, and computer readable recording medium for providing a control command to an external apparatus |
Families Citing this family (14)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US9430474B2 (en) * | 2014-01-15 | 2016-08-30 | Microsoft Technology Licensing, Llc | Automated multimedia content recognition |
GB2523311B (en) * | 2014-02-17 | 2021-07-14 | Grass Valley Ltd | Method and apparatus for managing audio visual, audio or visual content |
NL2012567B1 (en) * | 2014-04-04 | 2016-03-08 | Teletrax B V | Method and device for generating improved fingerprints. |
RU2606567C2 (en) * | 2015-02-16 | 2017-01-10 | Общество С Ограниченной Ответственностью "Яндекс" | Method of comparison of the first input audio track with the indexed audio track |
US9881083B2 (en) | 2014-08-14 | 2018-01-30 | Yandex Europe Ag | Method of and a system for indexing audio tracks using chromaprints |
WO2016024172A1 (en) | 2014-08-14 | 2016-02-18 | Yandex Europe Ag | Method of and a system for matching audio tracks using chromaprints with a fast candidate selection routine |
US9729912B2 (en) * | 2014-09-22 | 2017-08-08 | Sony Corporation | Method, computer program, electronic device, and system |
KR102560635B1 (en) | 2015-12-28 | 2023-07-28 | 삼성전자주식회사 | Content recognition device and method for controlling thereof |
CN108604252B (en) | 2016-01-05 | 2022-12-16 | 六科股份有限公司 | Computing system with channel change based triggering features |
US9930406B2 (en) | 2016-02-29 | 2018-03-27 | Gracenote, Inc. | Media channel identification with video multi-match detection and disambiguation based on audio fingerprint |
US10063918B2 (en) | 2016-02-29 | 2018-08-28 | Gracenote, Inc. | Media channel identification with multi-match detection and disambiguation based on single-match |
EP4266691A3 (en) | 2017-03-14 | 2023-12-27 | Google LLC | Verifying the rendering of video content at client devices using trusted platform modules |
KR102494591B1 (en) * | 2018-09-18 | 2023-02-03 | 삼성전자주식회사 | Electronic apparatus, control method thereof and electronic system |
CN114302194B (en) * | 2021-01-14 | 2023-05-05 | 海信视像科技股份有限公司 | Display device and playing method during multi-device switching |
Citations (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
KR20060037403A (en) * | 2003-07-25 | 2006-05-03 | 코닌클리케 필립스 일렉트로닉스 엔.브이. | Method and device for generating and detecting fingerprints for synchronizing audio and video |
EP1653381A2 (en) * | 2004-11-02 | 2006-05-03 | Microsoft Corporation | System and method for speeding up database lookups for multiple synchronized data streams |
JP2011243204A (en) * | 2010-05-19 | 2011-12-01 | Google Inc | Mobile content presentation based on program context |
Family Cites Families (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US9996612B2 (en) * | 2007-08-08 | 2018-06-12 | Sony Corporation | System and method for audio identification and metadata retrieval |
WO2010138777A1 (en) * | 2009-05-27 | 2010-12-02 | Arsh Technologies, Llc | Automatic resource retrieval and use |
-
2013
- 2013-06-27 EP EP13737492.2A patent/EP2868109B1/en active Active
- 2013-06-27 CN CN201380043525.7A patent/CN104584571B/en active Active
- 2013-06-27 WO PCT/US2013/048328 patent/WO2014004914A1/en active Application Filing
- 2013-06-27 KR KR1020157002468A patent/KR102105313B1/en active IP Right Grant
Patent Citations (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
KR20060037403A (en) * | 2003-07-25 | 2006-05-03 | 코닌클리케 필립스 일렉트로닉스 엔.브이. | Method and device for generating and detecting fingerprints for synchronizing audio and video |
EP1653381A2 (en) * | 2004-11-02 | 2006-05-03 | Microsoft Corporation | System and method for speeding up database lookups for multiple synchronized data streams |
JP2011243204A (en) * | 2010-05-19 | 2011-12-01 | Google Inc | Mobile content presentation based on program context |
Cited By (14)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
KR20190119185A (en) * | 2016-02-29 | 2019-10-21 | 그레이스노트, 인코포레이티드 | Method and system for detecting and responding to changing of media channel |
KR20190040383A (en) * | 2016-02-29 | 2019-04-17 | 그레이스노트, 인코포레이티드 | Method and system for detecting and responding to changing of media channel |
KR20190085562A (en) * | 2016-02-29 | 2019-07-18 | 그레이스노트, 인코포레이티드 | Method and system for detecting and responding to changing of media channel |
KR20180128085A (en) * | 2016-02-29 | 2018-11-30 | 그레이스노트, 인코포레이티드 | Method and system for detecting and responding to changing of media channel |
KR20210125612A (en) * | 2017-03-31 | 2021-10-18 | 그레이스노트, 인코포레이티드 | Music service with motion video |
KR20200009128A (en) * | 2017-03-31 | 2020-01-29 | 그레이스노트, 인코포레이티드 | Music service with motion video |
KR20210010647A (en) * | 2017-03-31 | 2021-01-27 | 그레이스노트, 인코포레이티드 | Music service with motion video |
KR20210044316A (en) * | 2017-03-31 | 2021-04-22 | 그레이스노트, 인코포레이티드 | Music service with motion video |
KR20210088014A (en) * | 2017-03-31 | 2021-07-13 | 그레이스노트, 인코포레이티드 | Music service with motion video |
US11240551B2 (en) | 2017-03-31 | 2022-02-01 | Gracenote, Inc. | Music service with motion video |
KR20220109482A (en) * | 2017-03-31 | 2022-08-04 | 그레이스노트, 인코포레이티드 | Music service with motion video |
US11770578B2 (en) | 2017-03-31 | 2023-09-26 | Gracenote, Inc. | Music service with motion video |
US11934624B2 (en) | 2017-12-19 | 2024-03-19 | Samsung Electronics Co., Ltd. | Electronic apparatus, control method thereof, and computer readable recording medium for providing a control command to an external apparatus |
KR20190086608A (en) | 2018-01-12 | 2019-07-23 | 김재원 | Open market platform for creations |
Also Published As
Publication number | Publication date |
---|---|
WO2014004914A1 (en) | 2014-01-03 |
EP2868109B1 (en) | 2016-08-17 |
EP2868109A1 (en) | 2015-05-06 |
CN104584571A (en) | 2015-04-29 |
CN104584571B (en) | 2018-01-09 |
KR102105313B1 (en) | 2020-04-29 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
KR102105313B1 (en) | Generating a sequence of audio fingerprints at a set top box | |
US8843952B2 (en) | Determining TV program information based on analysis of audio fingerprints | |
US9113203B2 (en) | Generating a sequence of audio fingerprints at a set top box | |
US20220053225A1 (en) | Image Sampling from Multicast Streams | |
US11477532B2 (en) | Personalized content recommendations based on consumption periodicity | |
US20210243496A1 (en) | System and method for associating search queries with remote content display | |
CA2845465C (en) | Synchronizing multiple transmissions of content | |
US20090222853A1 (en) | Advertisement Replacement System | |
US8156518B2 (en) | System and method for filtering audio content | |
CN106415546B (en) | For the system and method in local detection institute consumer video content | |
US10296645B2 (en) | Systems and methods for content selection based on search query correlation with broadcast media | |
US20090089251A1 (en) | Multimodal interface for searching multimedia content | |
EP4078986A1 (en) | Dynamic content insertion on a user-by-user basis | |
CN102572500A (en) | Network TV program rating collecting system and method | |
US9489421B2 (en) | Transmission apparatus, information processing method, program, reception apparatus, and application-coordinated system | |
JP5990363B2 (en) | Viewer personalized broadcasting and data channel content distribution system and method | |
US20150215654A1 (en) | Passive viewing data collection in a video place-shifting environment | |
KR100838800B1 (en) | System and method for personal broadcasting service | |
JP7263211B2 (en) | VIEWING HISTORY ANALYSIS DEVICE, VIEWING HISTORY ANALYSIS METHOD AND PROGRAM | |
JP7267168B2 (en) | VIEWING HISTORY ANALYSIS SYSTEM, VIEWING HISTORY ANALYSIS METHOD AND PROGRAM |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
A201 | Request for examination | ||
E902 | Notification of reason for refusal | ||
E701 | Decision to grant or registration of patent right | ||
GRNT | Written decision to grant |