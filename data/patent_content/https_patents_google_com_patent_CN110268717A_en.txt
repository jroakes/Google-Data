CN110268717A - The bit rate of more presentation codes is optimized using statistical information is played - Google Patents
The bit rate of more presentation codes is optimized using statistical information is played Download PDFInfo
- Publication number
- CN110268717A CN110268717A CN201780072261.6A CN201780072261A CN110268717A CN 110268717 A CN110268717 A CN 110268717A CN 201780072261 A CN201780072261 A CN 201780072261A CN 110268717 A CN110268717 A CN 110268717A
- Authority
- CN
- China
- Prior art keywords
- segment
- bit rate
- quality
- expression
- probability distribution
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Granted
Links
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L65/00—Network arrangements, protocols or services for supporting real-time applications in data packet communication
- H04L65/60—Network streaming of media packets
- H04L65/70—Media network packetisation
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/20—Servers specifically adapted for the distribution of content, e.g. VOD servers; Operations thereof
- H04N21/23—Processing of content or additional data; Elementary server operations; Server middleware
- H04N21/234—Processing of video elementary streams, e.g. splicing of video streams, manipulating MPEG-4 scene graphs
- H04N21/2343—Processing of video elementary streams, e.g. splicing of video streams, manipulating MPEG-4 scene graphs involving reformatting operations of video signals for distribution or compliance with end-user requests or end-user device requirements
- H04N21/23439—Processing of video elementary streams, e.g. splicing of video streams, manipulating MPEG-4 scene graphs involving reformatting operations of video signals for distribution or compliance with end-user requests or end-user device requirements for generating different versions
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L47/00—Traffic control in data switching networks
- H04L47/10—Flow control; Congestion control
- H04L47/38—Flow control; Congestion control by adapting coding or compression rate
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L65/00—Network arrangements, protocols or services for supporting real-time applications in data packet communication
- H04L65/60—Network streaming of media packets
- H04L65/61—Network streaming of media packets for supporting one-way streaming services, e.g. Internet radio
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/20—Servers specifically adapted for the distribution of content, e.g. VOD servers; Operations thereof
- H04N21/25—Management operations performed by the server for facilitating the content distribution or administrating data related to end-users or client devices, e.g. end-user or client device authentication, learning user preferences for recommending movies
- H04N21/258—Client or end-user data management, e.g. managing client capabilities, user preferences or demographics, processing of multiple end-users preferences to derive collaborative data
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L65/00—Network arrangements, protocols or services for supporting real-time applications in data packet communication
- H04L65/80—Responding to QoS
Abstract
Each embodiment is disclosed using the bit rate optimization for playing statistical information to more presentation codes.A kind of method includes generating multiple versions of the segment of source video, and the version includes coding of each resolution ratio with different coding bit rate to the segment for the segment；Measure the quality metric of each version of the segment；Quality metric based on measurement corresponding with the resolution ratio and the rate-quality model for generating each resolution ratio for the segment；Generating probability model, with the request probability of the predictions request segment indicated, joint probability distribution of the probabilistic model based on network speed and viewport size, the joint probability distribution are that basis is generated with the associated client-side fed back statistics information that is previously played of other videos；The coding bit rate of each expression in the expression for the segment is determined based on the rate-quality model and the probabilistic model；And identified coding bit rate is assigned to the corresponding expression of the segment.
Description
Technical field
This disclosure relates to video flowing transmission field, and definitely, it is related to for showing volume to multilist using broadcasting statistical information
The bit rate optimization of code.
Background technique
Multimedia (for example, video) is streamed to client terminal device by network can be spread based on adaptive bitrate
It is defeated.For example, can be with the bandwidth and processing capacity of real-time detection client terminal device.In response to the bandwidth that detects and viewport size
Change, can correspondingly adjust the video flowing of client terminal device access.For example, can with different bit rates to video into
Row coding.In response to the resource or ability of the change of client terminal device, client terminal device can indicate switching from the first of video
Second to video indicates.
Summary of the invention
It is that simplifying for the disclosure is summarized below, in order to provide the basic comprehension of some aspects to the disclosure.The general introduction is not
It is the extensive overview ot of the disclosure.It is not intended to the main or key element of the identification disclosure, does not also lie in and describes the disclosure
Any range of particular implementation or any range of claim.Its sole purpose is that the disclosure is presented in simplified form
Some concepts, as the preamble in greater detail presented later.
In in one aspect of the present disclosure, a kind of method includes: generation source media item (such as, for example, source video)
Multiple versions of segment, the version include volume of each resolution ratio with different coding bit rate to segment for the segment
Code；Measure the quality metric of each version of the segment；Based on correspond to resolution ratio measurement quality metric and generate use
In the rate-quality model of each resolution ratio of segment；Generating probability model, it is general with the request of predictions request segment indicated
Rate, joint probability distribution of the probabilistic model based on network speed and viewport size, the joint probability distribution be according to
Other media items (video) are previously played what associated client-side fed back statistics information generated；Based on rate-quality
Model and probabilistic model and determine for segment expression in each of coding bit rate；And by identified coded-bit
Rate is assigned to the corresponding of segment and indicates.
In one embodiment, the segment may include entire source media item (video).In addition, in for indicating
One request probability also based on the network speed in the coding bit rate of expression and the coding bit rate and joint probability distribution
The relationship of viewport size in the relationship of degree, and the resolution ratio and the resolution ratio and joint probability distribution that indicate.
In some embodiments, client-side fed back statistics information includes that the media player from client terminal device passes
Defeated broadcasting trace, the broadcasting trace includes network speed measurement result and viewport size, wherein the joint probability distribution
It is according to from the accumulative measuring result for playing the network speed that trace determines and according to the viewport size determined from broadcasting trace
What accumulative measuring result generated.It can be from the matchmaker being located at the client terminal device that first limits geographic area in addition, playing trace
Body player is collected, and joint probability distribution can limit geographic area specific to first.It (in another embodiment, broadcasts
Putting trace can collect from the media player being located at the client terminal device that second limits geographic area, and may have herein
Another joint probability distribution for limiting geographic area specific to second) additionally or alternatively, source media can be directed to by playing trace
The type of project (video) and be collected, and joint probability distribution can be with the type of particular source media item (video).
In one embodiment, determine that coding bit rate in each of being used to indicate further includes making averaging out for segment
Mouth flow minimizes, so that the average quality of (as determined by any suitable quality metric) segment maintains limiting
Quality level or quality level higher than restriction, and wherein average outlet flow is different coding bit rate and request probability
Function, and wherein, average quality is the function of quality metric and request probability.In some embodiments, it determines and is used for table
Coding bit rate in each of showing further includes maximizing the average quality of segment, so that the average outlet flow quilt of segment
Maintain the horizontal place of media item (video) rate of discharge of restriction or media item (video) rate of discharge water lower than restriction
Flat, wherein average quality is the function of quality metric and request probability, and wherein average outlet flow be multiple bit rates and
Request the function of probability.
In addition, it can also include by selected coding bit rate that identified coding bit rate, which is assigned to corresponding expression,
It is supplied at least one code converter for each of indicating to be encoded with corresponding bit rate to segment.In addition,
Expression may include bit rate/resolution ratio combination of segment, and wherein the segment may include the resolution ratio for segment
In each of one or more indicate.In some embodiments, quality metric may include that Y-PSNR (PSNR) is surveyed
Measure result or structural similarity (SSIM) measurement result.
In another aspect of the present disclosure, a kind of method include based on from the received fed back statistics information of FTP client FTP and
Determine the joint probability distribution for being used for network speed and viewport size；Quality metric based on segment targeted for media projects measurement
And generate the rate-quality model of the resolution ratio for segment；Based on rate-quality model generated and it is based on requesting
The request probability of the expression of segment and the delivering quality and outlet for estimating the expression for segment, wherein the request probability is based on
Joint probability distribution；And determine the bit rate set of bit rate corresponding with each expression in the expression of segment, it is described
Bit rate set is determined to make outlet minimum while will deliver quality and maintain at quality threshold or higher than quality threshold
Change.
In another aspect of the present disclosure, a kind of method include based on from the received fed back statistics information of FTP client FTP and
Determine the joint probability distribution for being used for network speed and viewport size；Quality metric based on segment targeted for media projects measurement
And generate the rate-quality model of the resolution ratio for segment；Rate-quality model generated is based on simultaneously by processing unit
And request probability based on the expression for requesting segment and estimate the delivering quality and outlet of the expression for segment, wherein described
Probability is requested to be based on joint probability distribution；It and by processing unit determination include that each of expression with segment is corresponding
The bit rate set of bit rate, the bit rate set be determined to will export be maintained at outlet threshold value at or lower than outlet threshold
Make to deliver quality maximization while value.
In the other aspects of the disclosure, a kind of system includes processing unit, and the processing unit is configured to execute root
According to the method for any aspect or embodiment of the disclosure.The system can also include memory, and processing unit can be with
It is couple to memory.
In the other aspects of the disclosure, a kind of machine readable storage medium (can be non-transitory machine readable storage
Medium, although the present invention is not limited thereto) store instruction, execute processing unit including root
According to the operation of the method for any aspect or embodiment of the disclosure.
Disclose the operation for executing the above method and the computing device of embodiments described herein.It is also public
Storage has been opened for executing the calculating of associated with the above method operation and the instruction of embodiments described herein
Machine readable medium.
Detailed description of the invention
In each figure in the accompanying drawings, the disclosure is shown by way of example and not limitation.
Fig. 1 is the block diagram for showing the exemplary network architecture that embodiment of the present disclosure wherein may be implemented.
Fig. 2 is the block diagram according to the coding bit rate optimization component of embodiment of the present disclosure.
Fig. 3 is shown according to embodiment for being optimized using the bit rate for the more presentation codes for playing statistical information
The flow chart of method.
Fig. 4 be show according to embodiment based on play statistical information and carry out multilist show coding bit rate optimize so that
Export the flow chart of the method minimized.
Fig. 5 is shown according to embodiment for carrying out multilist based on statistical information is played and showing that coding bit rate optimizes
So that the flow chart of the maximized method of quality.
Fig. 6 is the block diagram for showing an embodiment of the computer system according to embodiment.
Specific embodiment
For the bit rate optimization for playing more presentation codes of statistical information is used, all aspects of this disclosure and reality are described
Apply mode.Adaptive bitrate spread it is defeated can be used for by network by multimedia (for example, video) from server (for example, from
Adaptive video stream Transmission system) it is streamed to FTP client FTP (for example, media player on client terminal device).Adaptive view
Source video is encoded into several expressions of different coding bit rate and/or resolution ratio by frequency stream Transmission system.That is, media item
Target fragment can be converted (for example, code conversion) at multiple resolution ratio (for example, multiple spatial resolutions).It is then possible to
It is encoded with multiple resolution ratio each of of multiple and different bit rates to segment, to generate the more of media item target fragment
A " indicating (representation) ".Expression can be indicated using a bit rate with a resolution ratio to video and/or view
The result that frequency segment is encoded.The expression set of the coding allows FTP client FTP during video flowing transmits according to Netowrk tape
Select coded representation appropriate to wide and viewport size adaptation.For example, the media player of client terminal device can be in response to
The condition (for example, CPU, network bandwidth, viewport size etc.) of change associated with client terminal device and from the first table of video
Showing or encoding the second of the video for being switched to different quality indicates or encodes.
The switching between quality level or format in order to support video, may result in can be by adaptive video stream
Transmission system by video (or each segment of video) code be converted into multiple resolution ratio (for example, 1080p, 720p, 480p,
360p etc.).In addition, each resolution ratio of video can (coding bit rate be herein with one or more coding bit rates
It is properly termed as " bit rate ") coding.More presentation codes may refer to have one or more coded-bits for each resolution ratio
Rate indicates.Bit rate may refer to the information or data amount that the per unit play time of video is stored.For example, video flowing transmits
In bit rate can change between 400kbits/s and 40MBits/s.In some cases, higher bit rate and viewer
Video more preferable clarity and/or higher quality it is related.
Spreading defeated ubiquitous system for adaptive bitrate can use universal coding configuration (for example, for each table
The coding bit rate shown) come encoded video or video clip (also referred to as " part " of video, " block " or " editing ").Universal coding
Configuration may refer to the predefined bit rate that selection is indicated for each of the video or video clip to be encoded.In ubiquitous system
In, for the video or video clip of specified resolution, universal coding configuration is selected to be " average good " (for example, more
Meet determining video quality measurement result at a client terminal device based on the quality measurements of polymerization).
However, opposite with above-mentioned common methods, it has been recognized that each video and/or video clip are different, and
The coding of encoder should be selected to configure, so that being suitable for specific video for the version of code of each video clip creation
Segment.The selection of (for example, resolution ratio, bit rate etc.) is configured to the video quality transmitted and for storing and passing to coding
Defeated cost has influence.For example, the higher available better video quality of coding bit rate is selected for resolution ratio, but
It is system resource needed for it may also will increase adaptive video stream Transmission system, because system needs more resources to mention
For higher performance so as to by video flow be delivered to FTP client FTP and for storing data (that is, bit rate is higher, transmission and
The data of storage are more, and the requirement to system resource is higher (in addition also adding the financial cost of video stream transmission system).This
Outside, because coding bit rate increases, the video quality for being delivered to user apparatus may decline.This is because network capacity may
It is limited.If coding bit rate be higher than user apparatus network throughput, not again buffer in the case where video without
Method is delivered to user apparatus, this can have a negative impact to the video quality of user experience.In addition, different videos has difference
Feature, and for all videos, the setting of general and/or universal coding is unlikely to be universal optimal.
Embodiment of the present disclosure based on from FTP client FTP it is received about play statistical information information and analyze volume
Compromise between the cost (for example, transimission and storage cost) of code configuration and the video quality of delivering.Playing statistical information can be with
Refer to the bandwidth (also referred to as network speed) and/or client viewport size of client measurements.These play statistical information and are used for
Determine the optimal set of the coding configuration of each video and/or video clip (for example, being directed to what each expression to be encoded defined
Bit rate).The optimal set of coding configuration is used to make the rate of discharge from adaptive video stream Transmission system to FTP client FTP
It minimizes, while maintaining the delivering quality of video and/or video clip (compared with ubiquitous system)." rate of discharge " or " outlet "
It may refer to make data from data source and/or the rate (data volume per unit time) of network transmission.
Ubiquitous system does not consider that client-side is fed back, to determine the forced coding ratio of particular video frequency and/or video clip
Special rate.Embodiment of the present disclosure is provided by improving the efficiency (configuring selection via the coding of optimization) of cataloged procedure to adaptive
Answer the technological improvement of video stream transmission system, thus reduce size and/or the quantity effectiveness of transmission bandwidth (improve) of transmission with
And defeated memory space is spread for adaptive bitrate, while maintaining the video quality of FTP client FTP.
In order to simple and succinct, the disclosure usually quotes video.However, the teaching of the disclosure is usually applied to media item
Mesh, and can be applied to various types of interior perhaps media items, including such as video, audio, text, image.
Fig. 1 shows exemplary system architecture 100 in accordance with one embodiment of the present disclosure.System architecture 100 includes visitor
Family end device 110A to 110Z, network 105, data storage device 106, content shared platform 120 and server 130.At one
In embodiment, network 105 may include common network (for example, internet), dedicated network (for example, local area network (LAN) or wide
Domain net (WAN)), cable network (for example, Ethernet), wireless network (for example, 802.11 networks or Wi-Fi network), Cellular Networks
Network (for example, long term evolution (LTE) network), router, hub, interchanger, server computer and/or more than combination.
In one embodiment, data storage device 106 can be memory (for example, random access memory), speed buffering is deposited
Reservoir, driver (for example, hard disk drive), flash drive, Database Systems or data-storable another seed type
Component or device.Data storage device 106 can also include multiple storage units (for example, multiple drivers or multiple data
Library), the multiple storage unit can also be across multiple computing devices (for example, multiple server computers).
Client terminal device 110A to 110Z can respectively include computing device, such as personal computer (PC), notebook meter
Calculation machine, mobile phone, smart phone, tablet computer, netbook computer, Web TV etc..In some embodiments, objective
Family end device 110A to 110Z is also referred to as " user apparatus ".Each client terminal device includes Media Viewer 111.One
In a embodiment, Media Viewer 111, which can be, allows user to check content (image, video, webpage, file etc.)
Using.For example, Media Viewer 111 can be web browser, the web browser is accessible, retrieval, present and/or
Navigation by network server service content (such as webpage, such as hypertext markup language (HTML) page, digital media items
Deng).Media Viewer 111 can be to user's rendering, display and/or presentation content (for example, webpage, Media Viewer).Media
Reader 111 can also show insertion-type media player (for example,Player or HTML5 player), the insertion
Formula media player is in webpage (can provide the webpage of the information about the product sold by online merchants).Show another
In example, Media Viewer 111 be can be independent utility (for example, mobile application or app), and the independent utility allows user to check
Digital media items (for example, digital video, digital picture, e-book etc.).According to all aspects of this disclosure, Media Viewer
111 can be content shared platform application, and the content shared platform, which is applied, shows volume with the multilist using broadcasting statistical information
The bit rate optimization of code.
Media Viewer 111 can be supplied to client terminal device by server 130 and/or content shared platform 120
110A to 110Z.For example, Media Viewer 111 can be insertion-type media player, the insertion-type media player is embedded in
In the webpage provided by content shared platform 120.In another example, Media Viewer 111 can be downloads from server 130
And/or application from the downloading (not shown) of individual server.
It should be noted that can also be optionally by the function that content shared platform 120 executes described in an embodiment
It is executed in client terminal device 110A to 110Z with other embodiment.In addition, the function of being attributed to particular elements can be by together
The different or multiple components of operation execute.Content shared platform 120 is also used as through application programming interface appropriate
The service of other systems or device is supplied to access, and is therefore not limited to use in website.
In one embodiment, content shared platform 120 can be one or more computing devices (such as rack clothes
Be engaged in device, router computer, server computer, personal computer, host computer, notebook computer, tablet computer,
Desktop computer etc.), data storage device (for example, hard disk, memory, database), network, software component and/or Hardware Subdivision
Part can be used for providing a user the access to media item and/or provide a user media item.For example, content is shared
Platform 120 can permit customer consumption, upload, search for, thumb up (" liking "), do not thumb up and/or evaluate media item.Content is total
Enjoying platform 120 can also include website (for example, webpage) or apply back-end software, can be used for providing a user to media item
Purpose access.
In embodiment of the present disclosure, " user " can be expressed as individual individual.However, other realities of the disclosure
The mode of applying covers " user " as the entity by one group of user and/or automation resources control.For example, joint is in social networks
One group of individual consumer of community can be considered as " user ".In another example, it is shared to can be content by automation consumer
The automatic intake pipeline of platform 120, such as topic channel.
Content shared platform 120 can be with hosted data content, such as media item 121.Data content can be user's choosing
In digital content that the digital content selected, the available digital content of user, user upload, the number by content supplier's selection
Hold, by digital content of broadcaster's selection etc..The example of media item 121 can include but is not limited to digital video, number
Film, digital photos, digital music, web site contents, social media update, e-book (ebook), e-magazine, digital newspaper,
Digital talking book, electronic journal, web blog, Simple Syndication (RSS) feed, electronics comic books etc..In some realities
It applies in mode, media item 121 is also referred to as content item.
Media item 121 can be consumed via internet and/or via mobile device application.In order to succinct and simple
For the sake of, example of the Online Video (hereinafter also referred to as video) as media item 121 is used in entire document.Such as this paper institute
It uses, " media ", " media item ", " online Media project ", " Digital Media " " digital media items ", " content " and " interior
Appearance project " may include electronic document, and the electronic document can be used software, firmware or hardware and execute or load, described soft
Part, firmware or hardware are configured to that digital media items are presented to entity.In one embodiment, content shared platform 120
Data storage device 106 can be used to store media item 121.
In one embodiment, server 130 can be one or more computing devices (for example, rack-mount server,
Server computer etc.).In one embodiment, in the includable appearance shared platform 120 of server 130.Citing comes
It says, the user of client terminal device 110A to 110Z can transmit to server 130 each by network 105 and deposit to being stored in data
The request of one or more videos at storage device 106.In some embodiments, video can be based on the resolution of each video
Rate and for each video each resolution ratio determine optimal bit rate and data storage device is stored in the form of segment
In 106, as discussed in further detail below.For example, each segment of video can be decoded independently for video playing.
In addition, the video for having been divided into each segment can be associated with identical segment boundaries (for example, time boundary), with can
Realize the switching between the different bit rates and/or resolution ratio at segment boundaries.
Therefore, data storage device 106 can store multiple videos, wherein each video is divided into multiple segments.One
In a little embodiments, data storage device 106 can also include can be transferred to by server 130 client terminal device 110A to
The inventory file of 110Z.In some embodiments, inventory file can identify the available expression of video (for example, available bits
Available resolution under rate) and video each segment segment boundaries.Inventory file can be by server 130 in response to client
End device 110A to 110Z transmits the spreading defeated request of the video in data storage device 106.Client terminal device 110A
To each of 110Z can be used inventory file come based on respective client device 110A to 110Z available resources (for example,
CPU and bandwidth) and switch between the version of code of the stream from server 130.For example, client terminal device 110A can be based on
Viewport size and network bandwidth associated with client terminal device 110A and by the first version of code of video flowing from server
130 are transferred to client terminal device 110A.Furthermore, it is possible to viewport size and and client terminal device based on client terminal device 110Z
The associated network bandwidth of 110Z and the second version of code of the stream of the same video is transferred to different visitors from server 130
Family end device 110Z.
In embodiment of the present disclosure, server 130 may include coding bit rate optimization component 140.Coded-bit
Rate optimization component 140 determines the coding bit rate set for source video (that is, being used for one or more bits of each resolution ratio
Rate).In some embodiments, coding bit rate optimization component 140 can determine the encoding ratio of each segment for video
Special rate set.In one embodiment, each bit rate in identified coding bit rate set corresponds to segment not
Same resolution ratio.In some embodiments, it is understood that there may be associated with resolution ratio multiple bit rates (for example, 3 versions
720p, each in different bit rates).It is then possible to the expression based on each video clip and the table for video clip
Show determining forced coding bit rate, video is stored in data storage device 106 in the form of segment.In some embodiment party
In formula, other than video clip and/or video clip is replaced, can determine forced coding bit rate for entire video.
In some embodiments, coding bit rate optimization component 140 is based on playing statistical information (for example, media play
Device feedback) and video rate-quality feature and determine the coding bit rate set of video.Playing statistical information may refer to visitor
The bandwidth and client viewport size of family end measurement.Bandwidth may refer to the average speed transmitted by the successful data of communication path
Rate, and can be measured as unit of bits per second.During the time interval of research, the bandwidth of bit stream with hertz
It is proportional for the mean consumption signal bandwidth (the average frequency spectrum bandwidth for indicating the analog signal of bit stream) of unit.Viewport size can
With refer to rendering specific to device coordinate (such as pixel of screen coordinate) when indicate will wherein render it is interested right
The region (usually rectangle) of elephant.
Qualitative character of the embodiment of the present disclosure based on video and the rate-quality mould for generating the video clip to be encoded
Type.It has used the rate-quality model of the generation to be used to predict FTP client FTP 110A together with fed back statistics information to arrive
The outlet and delivering quality of the video of 110Z.Based on these predictions, it can determine using nonlinear optimization procedure and be regarded for source
The coding bit rate of the different optimizations indicated of frequency.
Then, the coding bit rate of optimization can be used to be directed to video and/or video clip in code conversion component 150
Each expression encodes video and/or video clip with specific bit rate.Code conversion component 150 can be located at and coding
In 140 identical computing device (for example, server 130) of bit rate optimization component, or coding bit rate can be located remotely from
The position of optimization component 140 and/or server 130.Code conversion component 150 includes component (for example, hardware and/or can be by
Manage the instruction that device executes), the component is converted to media file from source format can be in client terminal device (such as desk-top meter
Calculation machine, mobile device, tablet computer etc.) on the version that plays.Code conversion component 150 can be single main code converter portion
Part 150, or can be the multiple and different code conversion components for being locally and/or remotely distributed to server 130.Code conversion portion
The coding bit rate that part 150 can use optimization instructs the code executed for video and/or video clip to turn as input
Operation is changed, and generates the matchmaker that can be delivered to the place client terminal device 110A to 110Z via adaptive bitrate stream transmission procedure
The video of body player (for example, Media Viewer 111) and/or the final stream of video clip.It is true by embodiment of the present disclosure
Fixed optimized coding based bit rate makes to minimize from server 130 to the rate of discharge of FTP client FTP 110A to 110Z, without damaging
Evil passs the delivering quality of video.
In some embodiments, the coding bit rate optimization component 140 of server 130 can be with content shared platform
120 interactions, to provide multilist based on statistical information is played and show that coding bit rate optimizes.It is retouched in further detail below with reference to Fig. 2
Further describing for coding bit rate optimization component 140 and its specific function is stated.
Although in content shared platform and the shared aspect of social networks of the content item in content shared platform is promoted to beg for
Embodiment of the present disclosure is discussed, but embodiment generally also can be applied to provide any type of connection between users
Social networks.Embodiment of the present disclosure is not limited to provide a user the content shared platform of channel subscription.
The personal information about user is collected (for example, collecting feedback system from Media Viewer 111 in the system being discussed herein
Information is counted, feedback data etc. is collected) or in the case where can use personal information, following chance can be provided a user: control
Whether content shared platform 120 processed collects user information (for example, about the social networks of user, social movement or activity, duty
The information of the current location of industry, the preference of user or user), or controlling whether and/or how to receive from content server can
Content that can be more relevant with user.In addition, certain data can be carried out before by storage or use with one or more modes
Processing, so that removing personal recognizable information.For example, can handle the identity of user, so that of user can not be determined
People can recognize information, or can will obtain the geographical position of the user of location information (such as city, postcode or state grade)
Generalization is set, so that can not just determine the specific position of user.Therefore, user can control the letter how collected about user
How breath and information are used by content shared platform 120.
Fig. 2 is the block diagram for showing coding bit rate optimization component 140 in accordance with one embodiment of the present disclosure.As above
It is discussed, coding bit rate optimization component 140 can be interacted with single social networks, or can be in multiple social networks
It utilizes (for example, as service of the content shared platform utilized by other third party's social networks).In one embodiment,
Coding bit rate optimization component 140 includes probability distribution module 210, rate-quality model generation module 220, requests probability true
Cover half block 230 and coding bit rate selecting module 240.It, can be in coding bit rate Optimization Dept. in the case where without loss of generality
It include more or fewer components in part 140.For example, two in module can be combined in individual module or the mould
One in block can be divided into two or more modules.In one embodiment, one or more of described module
It may reside on different computing devices (for example, different server computer, on single client device, or is distributed in
Multiple client device is medium).In addition, one or more of described module may reside within different content shared platform,
On tripartite's social networks and/or external server.
Coding bit rate optimization component 140 is communicatively coupled to data storage device 106.For example, coding bit rate is excellent
Data storage device 106 can be couple to via network (for example, via network 105 as shown in Figure 1) by changing component 140.Number
It can be memory (for example, random access memory), cache memory, driver (for example, hard according to storage device 106
Disk drive), flash drive, Database Systems or data-storable another type of component or device.Data are deposited
Storage device 106 can also include multiple storage units (for example, multiple drivers or multiple databases), the multiple storage unit
It can also be across multiple computing devices (for example, multiple server computers).Data storage device 106 includes media item data
290, feedback data 291, probability distribution data 292, rate quality model data 293, qualitative data 295 and outlet bound data
296。
As discussed above, coding bit rate optimization component 140, which is determined and/or calculated, is used for video and/or piece of video
The forced coding bit rate set (that is, the one or more bit rates for being used for each expression) of section.In one embodiment, institute
Each bit rate in determining coding bit rate set, which corresponds to video or the different of video clip, to be indicated.In some embodiment party
In formula, it is understood that there may be multiple bit rates associated with resolution ratio.It is then possible to the expression based on each video clip and with needle
The best one or more bit rates determining to the expression of video clip, are stored in data storage device for video with pieces
In 106.For the ease of following discussion, coding bit rate optimization component 140 is described as determining the forced coding of the segment of video
Bit rate set.
Firstly, in order to determine that the coding bit rate set, coding bit rate optimization component 140 start probability distribution module
210, with based on the fed back statistics information (referred to herein as client-side fed back statistics information) from media player and
Generating probability distribution.Probability distribution may refer to the equation or letter that each result of statistical experiment and its probability of happening are linked
Number.For example, probability distribution module 210 estimates the first probability distribution and viewport size of network speed using statistical information is played
The second probability distribution.In some embodiments, it can use the joint probability distribution of bandwidth and viewport size.It is general with regard to combining
For rate distribution, bandwidth can be independently of viewport size.In addition, the product of the first probability distribution and the second probability distribution can be used
Make the approximation of joint probability distribution.In one embodiment, P [X, V] can be referred to as joint probability distribution.Variable X can
To indicate the network speed at client terminal device, and variable V can indicate the viewport size of client terminal device.
Playing statistical information may refer to the bandwidth (being also referred to as network speed herein) and client of client measurements
Viewport size.In one embodiment, variable X can indicate the network speed at client, and variable V can indicate client
The viewport size at end.Feedback data 291 at the accessible data storage device 106 of probability distribution module 210, to generate first
Probability distribution and the second probability distribution.Feedback data 291 may include being received according to the media player from FTP client FTP
Quality of experience (QoE) examination obtain statistical information.QoE examination may include the survey of the handling capacity at such as media player
Measure the viewport size used at result (for example, bandwidth and/or network speed) and media player.It can be in media player
It plays at least once and QoE examination is provided.The network speed data from feedback data 291 can be polymerize, to estimate network speed X
The first probability distribution.Similarly, the viewport size data from feedback data 291 can be polymerize, to estimate viewport size V's
Second probability distribution.First probability distribution and the second probability distribution and/or the joint probability distribution (that is, P [X, V]) of X and V can be with
It is stored in data storage device 106 as probability distribution data 292.
In some embodiments, granularity that can be different based on geographical location, type, channel, content type etc.
And estimated probability is distributed.For example, can analyze the feedback data 291 of the media player in specific geographical area to estimate
First probability distribution and the second probability distribution, to provide the polymerization of the network speed and viewport size for specific geographical area
The view of probability.
After the probability distribution of estimation network speed and viewport size or simultaneously, rate-quality model generation module 220
One or more rate-quality models are generated for the video to be encoded.The video is properly termed as source video herein, described
Source video can store in the media item data 290 of data storage device 106.In some embodiments, source video is first
It is first divided into segment, wherein each segment contains several seconds videos.Then, rate-quality model generation module 220 can be located
Manage each video clip of video.
The fragment coding of video can be difference with the resolution ratio of each support by rate-quality model generation module 220
Bit rate.For example, can respectively with each of resolution ratio 240p, 360p, 480p, 720p and 1080p by fragment coding at
Different bit rates.For purposes of discussion, rate-quality model generation module 220 can regard source for each resolution ratio
Frequency is encoded to the version with M bit rate.Variable m can be used to index to version, wherein biggish m correspond to compared with
High coding bit rate.The coding bit rate of m version can be expressed as b_m.Coding bit rate b_m described herein can refer to
The coding bit rate that generation uses as a part of rate-quality model generating process, and coding bit rate described herein
X_i may refer to the coding bit rate used as a part of rate quality measurement process described below.
For each version of code of segment, rate-quality model generation module 220 can measure corresponding quality degree
Amount.Quality metric can be the measurement result obtained from video quality assessment.Video quality assessment can be executed to describe
The quality of the video sequence set of research.Can objectively (for example, passing through mathematical model) or subjectively (for example, by with
Inquire their evaluation in family) assessment video quality.Furthermore, it is possible to offline (that is, in the experiment for developing new codec or service
In room environmental) or determine the quality of system (monitor and ensure the quality of specified level) in service.It is commented for video quality
The some models for estimating (including but not limited to Y-PSNR (PSNR) or structural similarity (SSIM)) are picture quality model, institute
The output for stating picture quality model is calculated for each frame in video sequence.Then it can record over time each
This mass measurement of frame, to assess the quality of entire video sequence.For purposes of discussion, for giving resolution ratio, q_m can
To indicate the measurement quality of the version of code with coding bit rate b_m.
In one example, PSNR model can be used for measuring quality metric, and wherein PSNR provides the maximum possible of signal
Ratio between power and the destructive noise power for influencing the fidelity that it is indicated.In another example, SSIM model can be with
For measuring quality metric.SSIM model is the index for measuring the similarity between two images, the wherein measurement of picture quality
As a result or prediction is used as based on initial uncompressed or undistorted image and is referred to.For by way of further example, PSNR model and SSIM model
Combination can be used for measuring quality metric.Any kind of quality metric can be used to measurement embodiment of the present disclosure
In quality.
Use obtained bit rate-quality measurements (b_1, q_1) ..., (b_M, q_M), rate-quality generation module
220 rate matcheds-quality model Q_r_i (x_i), wherein Q_r_i indicates to indicate so that x_i coding bit rate encodes i-th
Quality measurements under the resolution ratio of (that is, r_i).For this purpose, each resolution ratio/bit rate version of the segment has use
The corresponding mass measurement result that the rate-quality model matched indicates.Alternatively, in other words, each resolution ratio in the segment
With the quality measurements (being indicated with rate-quality model Q_i (x_i)) for corresponding to the potential coding bit rate indicated.It can
To use the process different from the above process to obtain the rate-quality model of embodiment of the present disclosure.For example, can be by dividing
It analyses the content of video and rate-quality model is obtained according to obtained analysis creation rate-quality model.In an embodiment party
In formula, the rate-quality model generated for source video can store the rate-quality pattern number in data storage device 106
In 293.
Request probability determination module 230 is predicted using (being generated by probability distribution module 210) probability distribution with specific
The probability of each expression i of the segment of bit rate coding, the probability are to request for clip stream to be transferred to the general of media player
Rate.The probability of the prediction can be expressed as P_i.There are two kinds of situations that media player may request i-th of resolution ratio.
The first situation is when bandwidth X is fallen between x_i and x_i+1 and viewport size is greater than the r_i (resolution at " i "
Rate) when.The probability of such case is P [x_i≤X<x_i+1, V>=v_i].
Second situation is when bandwidth is higher than x_i+1 and r_i+1 is greater than r_i but viewport size is equal to r_i.Therefore,
The probability of this kind of situation is It is indicator function, wherein if condition
Meet, then function operation is equal to 1, is otherwise equal to zero.In brief, P_i is properly termed as request probability herein.
As discussed above, the probability distribution (for example, joint probability distribution P [X, V]) of X and V is by probability distribution module
210 had previously estimated, and can be used as the probability distribution data 292 in data storage device 106 to access.Implement at one
In mode, if having estimated probability distribution based on specified particle size (geographic area, type etc.), the probability predicted can be with
It indicates by being grouped into specified particle size (for example, the FTP client FTP in geographic area, requests the client of such video
System etc.) in FTP client FTP select the segment version probability.
P_i (that is, request probability) is the function { x_i:1≤i≤N } of coding bit rate.Using above equation, giving
In the case where fixed any any coding bit rate setting { x_i:1≤i≤N }, request probability determination module 230 can estimate P_
i.In some embodiments, when requesting these expressions of video clip, request probability determination module 230 predicts any volume
Request probability under code bit rate vector (x_1 ..., x_N).
Coding bit rate selecting module 240 can use by request probability determination module 230 determine request probability and
The rate-quality model 293 generated by rate-quality model generation module 220, to determine the best of the segment for source video
Coding bit rate set.Coding bit rate selecting module 240 can apply nonlinear optimization procedure, to determine for source video
The coding bit rate of the different optimizations indicated of segment.
In one example, the average quality for being delivered to the segment (segment of such as source video) of FTP client FTP can be by
Q_avg=Q_1*P_1+Q_2*P_2+...+Q_N*P_N estimation, wherein Q_i=Q_r_i (x_i) is the quality of version of code i.
Similarly, the average video bit rate (rate of discharge) from server is R_avg=x_1*P_1+x_2*P_2+x_N*P_N,
Wherein x_i is the coding bit rate of version i.Non-linear optimizer may be implemented for coding bit rate selecting module 240 so that R_avg
It minimizes, so that Q_avg is greater than or equal to quality threshold Q (referred to herein as quality threshold).Quality threshold can be by
The qualitative data that the administrator of adaptive bitrate stream Transmission system configures, and is stored in data storage device 106
In 295.
In the above example, quality threshold Q is the average quality that server aims at.P_i is true by request probability
Coding bit rate-resolution ratio probability that cover half block 230 is estimated.Q_i is generated by through-rate-quality model generation module 220
Rate-quality model provides, and is stored in rate-quality model data 293.In order to solve the optimization, coded-bit
General nonlinearity Program device (also referred to as non-linear optimizer) may be implemented in rate selecting module 240, to obtain x_i value collection
It closes, the x_i value set indicates indicating i=1 ..., the forced coding bit rate under N.By coding bit rate selecting module 240
Determining solution, which provides, is allowing average video quality to make to export what video flow minimized while being higher than quality threshold Q
Coding bit rate.
In some embodiments, coding bit rate selecting module 240 can also solve two fold problem: make Q_1*P_1+Q_
2*P_2+...+Q_N*P_N is maximized, so that (x_1*P_1+x_2*P_2+...+x_N*P_N)≤R.Above show at this
In example, R is the constraint to average video rate of discharge (referred to herein as outlet threshold value or outlet constraint threshold value), can be with
It is found in the outlet bound data 296 of data storage device 106.The solution to the problem, which gives, is allowing average video
Flowexit makes the maximized coding bit rate of average video mass flow while being no more than R.
Embodiment of the present disclosure is not limited to based on the exemplary optimization of both the above.In other embodiments, it can solve
Certainly other optimizations.For example, coding bit rate selecting module 240 can determine the coding bit rate set of optimization, the optimization
Coding bit rate, which is integrated into, to be maintained to minimize storage size while quality.In another example, coding bit rate selects mould
Block 240 can add time orientation constraint, and the quality difference between such as adjacent video clip is less than threshold value.In an example
In, coding bit rate selecting module 240 can use other network metrics to select the coding bit rate set of optimization, such as add
The constraint for the bit rate for adding minimum expression that should have less than (or being higher than in some embodiments) threshold value.
The coding bit rate of the optimization determined by coding bit rate selecting module 240 can be used to make from server to visitor
The rate of discharge of family end system minimizes, the delivering quality without influencing video.Coding bit rate optimization component 140 can be used as
It is applied integrally to single video and/or can be applied to the segment of video.For example, coding bit rate optimization component 140 can incite somebody to action
Video is divided into each segment, and the above process is applied to each segment, most with the determining different content for being adapted to video
Good coding bit rate selection.
Fig. 3 is the more presentation codes being used for using broadcasting statistical information for showing some embodiments according to the disclosure
The flow chart of the method 300 of bit rate optimization.Method 300 can be executed by processing logic, and the processing logic includes hardware (example
Such as, circuit, special logic, programmable logic, microcode etc.), software is in processing unit (for example, run imitative to execute hardware
Really instruct) or above combination.
It is explained to simplify, disclosed method is depicted and described as a series of actions.However, according to the dynamic of the disclosure
Work can occur in various orders and/or simultaneously, and occur together with other acts not presented and described herein.In addition,
All of the illustrated actions be may not be needed to realize the method according to disclosed theme.In addition, those skilled in the art should
It is understood and appreciated that, the method alternatively can be expressed as a series of states that are mutually related via state diagram or event.In addition,
It will be appreciated by those skilled in the art that method disclosed in this specification can be stored on product, in order to by these methods
Transmit and be transmitted to computing device.As used herein term " product " intention cover can from any computer readable device or
The computer program of storage medium access.In one embodiment, method 300 can be by coded-bit as shown in Figure 2
Rate optimization component 140 executes.
Method 300 starts at frame 310, wherein generating multiple versions of the segment of source video.The version can wrap
It includes and segment is encoded with different coding bit rate for each resolution ratio associated with the segment.At frame 320, survey
Measure the quality metric of each version of segment.For giving some instances, quality metric can be PSNR measurement result or SSIM is surveyed
Measure result.In one embodiment, the quality metric of measurement is used for for each generating rate-in different resolution ratio
Quality model.
Then, at frame 330, generating probability model is with the request probability of predictions request segment indicated.Probabilistic model
Can the experience joint probability distribution based on network speed and viewport size, the experience joint probability distribution be according to it is other
Video is previously played what associated client-side fed back statistics information generated.As discussed above, the expression of segment can be with
Refer to for single resolution ratio selection multiple coding bit rates in one (for example, for 240p selection 2 bit rates:
240p_100kbps and 240p_200kbps).
At frame 340, for the determining coding bit rate of each of the expression of the segment.Based on (the determination at frame 320
) rate-quality model and (determining at frame 330) probabilistic model determine the coding bit rate for expression.At one
In embodiment, non-linear optimizer is used for determining the coding bit rate set of the expression of the segment.Finally, in frame 350
Place, identified coding bit rate, which is assigned to the corresponding of the expression of the segment, to be indicated.The bit rate/expression is assigned can be by
The coding that encoder is used as video clip configures.
Fig. 4 is to show to carry out multilist based on statistical information is played according to embodiment of the present disclosure and show coding bit rate
Optimize the flow chart so that the method 400 that outlet minimizes.Method 400 can be executed by processing logic, the processing logic packet
Hardware (for example, circuit, special logic, programmable logic, microcode etc.), software are included (for example, operation is in processing unit to hold
The instruction of row simulation hardware) or above combination.In one embodiment, method 400 can be by encoding as shown in Figure 2
Bit rate optimization component 140 executes.
Method 400 starts at frame 410, wherein the joint probability distribution for network speed and viewport size has been determined.
Joint probability distribution can be based on from the received fed back statistics information of FTP client FTP.In some embodiments, can pass through
Using the fed back statistics information corresponding to these classifications (for example, the feedback collected from the media player being located in geographic area
Statistical data etc.) estimate the joint probability distribution for geographic area and/or other classifications.
At frame 420, the rate-quality model of the resolution ratio of the segment for video is based on the matter for segment measurement
Metric and generate.
Then, at frame 430, the rate-quality model based on generation and based on the request probability for requesting expression and
Delivering quality and outlet of the estimation for coding.Request probability can be based on joint probability distribution.In one embodiment, it passs
Sending quality is the weighted sum of the quality of coding, and wherein weight is the probability for requesting coding.Outlet can be the weighting of bit rate
With wherein weight is the probability for requesting coding.It can choose any bit rate for each expression, to generate passing for estimation
Send quality and outlet, thus generate it is different can transmissibility quality and exit result.
Finally, at frame 440, it is determined that delivering quality will maintain at quality threshold or be higher than (at frame 430)
Make the bit rate set that outlet minimizes (at frame 430) while quality threshold.The bit rate set includes corresponding to
The bit rate of each expression of segment.In one embodiment, non-linear optimizer is used to determine for corresponding expression
Bit rate set, the bit rate minimize identified outlet while being integrated into quality determined by maintenance.
Fig. 5 is shown according to embodiment of the present disclosure for carrying out multilist based on statistical information is played and showing encoding ratio
Special rate optimizes the flow chart so that the maximized method 500 of quality.Method 500 can be executed by processing logic, and the processing is patrolled
It collects including hardware (for example, circuit, special logic, programmable logic, microcode etc.), software (for example, being run in processing unit
To execute the instruction of simulation hardware) or above combination.In one embodiment, method 500 can be by as shown in Figure 2
Coding bit rate optimization component 140 executes.
The frame 510 to 530 of method 500 is similar to the frame 410 to 430 of method 400.It is provided above for frame 410 to 430
Description can be applied similarly to the frame 510 to 530 of method 500.At the frame 540 of method 500, it is determined that will be (in frame 530
Place) determine outlet be maintained at outlet threshold value at or keep below outlet threshold value while make the delivering quality (at frame 530)
Maximized bit rate set.The bit rate set includes the bit rate of each expression corresponding to the segment.At one
In embodiment, non-linear optimizer is for determining that, for the corresponding bit rate set indicated, the bit rate is integrated into institute
Determining outlet is maintained at outlet threshold value or makes to deliver quality maximization while keeping below outlet threshold value.
Fig. 6 shows the diagram of the machine of the exemplary form in computer system 600, wherein one group of instruction can be executed,
To cause machine to execute any one or more of process discussed herein opinion.Hi an alternative embodiment, machine can be with
(for example, network connection) is connected to other machines in local area network (LAN), Intranet, extranet or internet.Machine can be
With the capability operation of server or client machine in client-server network environment, or as equity (or distributed)
Peer machines operation in network environment.The machine can be personal computer (PC), tablet PC, set-top box (STB), individual
Digital assistants (PDA), mobile phone, the network equipment, server, network router, interchanger or bridge or any machine,
They are able to carry out one group of instruction (sequence or other) of the specified movement that will be taken by the machine.Although in addition, showing only single
A machine, but term " machine " should also be viewed as including executing one group (or multiple groups) instruction alone or in combination to execute this paper institute
Any collection of machines of any one or more of the methodology of discussion.In one embodiment, computer system 600 can
To represent the equal servers of server 102, the server executes coding bit rate optimization component 140, be such as relevant to Fig. 1 and
Described in Fig. 2.
Exemplary computer system 600 includes the processing unit 602 to communicate with one another via bus 630, main memory 604
(for example, read-only memory (ROM), flash memory, dynamic random access memory (DRAM) (such as synchronous dram (SDRAM)
Or bus structures DRAM (RDRAM)) etc.), static memory 606 is (for example, flash memory, static random access memory
(SRAM) etc.) and data storage device 618.It can be with it by any of the signal that various buses described herein provides
Its signal time is multiplexed and is provided by one or more common bus.In addition, interconnection between circuit block or block can be with
It is shown as bus or individual signals route.Alternatively, each of described bus can be one or more individual signals routes,
And each of described individual signals route is also possible to bus.
Processing unit 602 indicates one or more general processing units, microprocessor, central processing unit etc..More
Specifically, processing unit can be complex instruction set calculation (CISC) microprocessor, the micro- place Reduced Instruction Set Computer (RISC)
It manages device, very long instruction word (VLIW) microprocessor or realizes the processor of other instruction set or realize the combined processing of instruction set
Device.Processing unit 902 can also be one or more special processors, and such as specific integrated circuit (ASIC), scene can compile
Journey gate array (FPGA), digital signal processor (DSP), network processing unit etc..Processing unit 602 is configured to execute processing and patrols
626 are collected, for executing operation discussed in this article and step.
Computer system 600 can also include Network Interface Unit 608.Computer system 600 can also be aobvious including video
Show unit 610 (for example, liquid crystal display (LCD) or cathode-ray tube (CRT)), alphanumeric input device 612 (for example, key
Disk), cursor control device 614 (for example, mouse) and signal generating apparatus 616 (for example, loudspeaker).
Data storage device 618 may include computer readable storage medium 628 (also referred to as machine readable storage medium),
It is stored thereon with one or more instruction set 622 of any one or more of methodology for embodying functionality described herein
(for example, software).Instruction 622 can also completely or at least partially reside in main memory during it is executed by computer system 600
In reservoir 604 and/or in processing unit 602；Main memory 604 and processing unit 602 also constitute machine readable storage medium.
Instruction 622 can also be transmitted or received by network 620 via Network Interface Unit 608.
As described herein, computer readable storage medium 628 can be also used for store instruction to use and play statistics letter
Cease the method to execute the bit rate optimization for more presentation codes.Although computer readable storage medium 628 is in exemplary reality
It applies and is shown as single medium in mode, but term " machine readable storage medium " should be considered as including single medium or more
A medium (for example, centralized or distributed database and/or associated cache memory and server) is described single
Medium or multiple media storage one or more instruction set.Machine readable media includes for can with machine (for example, computer)
Any mechanism of form (for example, software, processing application) storage information of reading.Machine readable media can include but is not limited to magnetic
Property storage medium (for example, floppy disk)；Optical storage media (for example, CD-ROM)；Magnetic-optical storage medium；Read-only memory (ROM)；With
Machine accesses memory (RAM)；Erasable and programable memory (for example, EPROM and EEPROM)；Flash memory；Or it is suitable for
Store the other types of medium of e-command.
The description of front elaborates numerous details, the example of particular system, component, method etc., in order to provide
To the well-understood of several embodiments of the disclosure.It will be apparent, however, to one skilled in the art that can be with
At least some embodiments of the disclosure without these specific details.In other examples, without detailed
Well known component or method are described, or well known component or method are presented with simple block diagram format, it is unnecessary to avoid
Ground obscures the disclosure.Therefore, the detail of elaboration is only exemplary.Particular implementation can be exemplary thin with these
Section is different, and it is still anticipated that within the scope of this disclosure.
The reference of " embodiment " or " embodiment " is meaned in this specification to combine embodiment description
A particular feature, structure, or characteristic includes at least one embodiment.Therefore, occur through this specification in various places
Phrase " in one embodiment " is not necessarily all referring to identical embodiment " in embodiments ".In addition, term
"or" is intended to indicate the "or" of inclusive rather than exclusive "or".
Although the operation of methods herein has shown and described with particular order, the operation of each method can change
Sequence so that certain operations can be executed in reverse order, or so that can at least partly with other operations
It carries out executing certain operations simultaneously.In another embodiment, the instruction of different operation or sub-operation can be in interval and/or friendships
The mode replaced.Additionally or alternatively, it can be applied to retouch herein with reference to the feature of one aspect or embodiment description herein
Any other aspect or embodiment stated.
Claims (25)
1. a kind of method, which comprises
Multiple versions of generation source media item target fragment, the version include each resolution ratio for the segment with difference
Coding of the coding bit rate to the segment；
Measure the quality metric of each version of the segment；
Quality metric based on measurement corresponding with the resolution ratio and the rate-for generating each resolution ratio for the segment
Quality model；
By processing unit generating probability model, with the request probability of the predictions request segment indicated, the probability mould
Joint probability distribution of the type based on network speed and viewport size, the joint probability distribution according to other media items
It is previously played what associated client-side fed back statistics information generated；
The institute for being used for the segment is determined based on the rate-quality model and the probabilistic model by the processing unit
State the coding bit rate of each expression in indicating；And
Identified coding bit rate, which is assigned to the corresponding of the segment, to be indicated.
2. according to the method described in claim 1, wherein, the segment includes complete source media item.
3. method according to claim 1 or 2, wherein the request probability for an expression in the expression
Also it is based on:
The coding bit rate and the coding bit rate of the expression and the pass of the network speed in the joint probability distribution
System；And
The resolution ratio and the resolution ratio of the expression and the relationship of the viewport size in the joint probability distribution.
4. method according to claim 1,2 or 3, wherein the client-side fed back statistics information includes from client
The broadcasting trace of media player transmission at device, the broadcasting trace includes network speed measurement result and viewport size,
And wherein the joint probability distribution is the accumulative measuring result according to the network speed determined from the broadcasting trace
What the accumulative measuring result of the viewport size determined with basis from the broadcasting trace generated.
5. according to the method described in claim 4, wherein, the broadcasting trace is received from the geographic area of the source media item
Collection, and wherein the joint probability distribution specific to the geographic area of the source media item.
6. method according to claim 4 or 5, wherein it is described play trace for the source media item type and
It is collected, and wherein type of the joint probability distribution specific to the source media item.
7. according to method described in any one in preceding claims, wherein determine for each table in the expression
The coding bit rate shown further includes the average outlet flow minimum for being used in the segment, so that the segment is flat
Equal quality is maintained at the quality level at the quality level of restriction or higher than restriction, wherein the average outlet flow is described
The function of different coding bit rate and the request probability, and wherein the average quality is the quality metric and described asks
Seek the function of probability.
8. according to claim 1 to method described in any one in 6, wherein determine for each table in the expression
The coding bit rate shown further includes the average quality maximization for being used in the segment, so that the segment averages out
Mouth flow is maintained at the horizontal place of media item rate of discharge of restriction or horizontal lower than the media item rate of discharge of restriction,
Described in average quality be the quality metric and the request probability function, and wherein the average outlet flow is institute
State the function of multiple bit rates and the request probability.
9. according to method described in any one in preceding claims, wherein identified coding bit rate to be assigned to
The corresponding expression further includes being supplied to selected coding bit rate to be used for the corresponding bit rate to the segment
At least one code converter that each expression in the expression is encoded.
10. according to method described in any one in preceding claims, wherein described to indicate the bit including the segment
The combination of rate/resolution ratio, and wherein the segment includes one of each resolution ratio in the resolution ratio for the segment
A or multiple expressions.
11. according to method described in any one in preceding claims 1, wherein the quality metric includes peak value noise
Than at least one of (PSNR) measurement result or structural similarity (SSIM) measurement result.
12. a kind of system, the system comprises:
Memory；And
It is couple to the processing unit of the memory, wherein the processing unit is used to:
The joint probability for being used for network speed and viewport size is determined based on from the received fed back statistics information of FTP client FTP
Distribution；
The rate-quality of the resolution ratio for the segment is generated based on the quality metric that segment targeted for media projects measures
Model；
Request probability based on rate-quality model generated and based on the expression for requesting the segment and estimate to be used for
The delivering quality of the expression of the segment and outlet, wherein the request probability is based on the joint probability distribution；And
Determination includes the bit rate set of the corresponding bit rate of each expression in the expression with the segment, the ratio
Special rate set be determined to make while maintaining the delivering quality at quality threshold or higher than quality threshold it is described go out
Mouth minimizes.
13. system according to claim 12, wherein requesting the request probability of an expression in the expression
Also it is based on:
The bit rate and the bit rate of the expression and the relationship of the network speed in the joint probability distribution；And
The resolution ratio and the resolution ratio of the expression and the relationship of the viewport size in the joint probability distribution.
14. system according to claim 12 or 13, wherein the fed back statistics information includes from the FTP client FTP
Media player transmission broadcasting trace, the broadcasting trace includes network speed measurement result and viewport size, and its
Described in joint probability distribution be according to from it is described broadcasting trace determine the network speed accumulative measuring result and according to
What the accumulative measuring result of the viewport size determined from the broadcasting trace generated.
15. system according to claim 14, wherein the broadcasting trace is received from the geographic area of the media item
Collection, and wherein the joint probability distribution specific to the geographic area of the media item.
16. system according to claim 14 or 15, wherein it is described play trace for the media item type and
It is collected, and the wherein type of the joint probability distribution specific to the media item.
17. system described in any one in 2 to 16 according to claim 1, wherein the processing unit will also determined by
Bit rate set be supplied to for the corresponding bit rate to the segment it is described indicate in each indicate to encode
At least one code converter.
18. system described in any one in 2 to 17 according to claim 1, wherein the delivering quality is based on the coding
Y-PSNR (PSNR) measurement result or at least one of structural similarity (SSIM) measurement result of the coding.
19. a kind of machine readable storage medium of store instruction, described instruction make processing unit execute operation upon being performed,
The operation includes:
The joint probability for being used for network speed and viewport size is determined based on from the received fed back statistics information of FTP client FTP
Distribution；
The rate-quality of the resolution ratio for the segment is generated based on the quality metric that segment targeted for media projects measures
Model；
By the processing unit based on rate-quality model generated and asking based on the expression for requesting the segment
Seek probability and estimate the delivering quality and outlet of the expression for the segment, wherein the request probability be based on it is described
Close probability distribution；And
It include the corresponding bit rate of each expression in the expression with the segment by processing unit determination
Bit rate set, the bit rate set are determined to be maintained at by the outlet at outlet threshold value or lower than outlet threshold value
Simultaneously maximize the delivering quality.
20. machine readable storage medium according to claim 19, wherein request an expression in the expression
The request probability is also based on:
The bit rate and the bit rate of the expression and the relationship of the network speed in the joint probability distribution；And
The resolution ratio and the resolution ratio of the expression and the relationship of the viewport size in the joint probability distribution.
21. machine readable storage medium described in 9 or 20 according to claim 1, wherein the fed back statistics information includes from institute
The broadcasting trace of the media player transmission of FTP client FTP is stated, the broadcasting trace includes network speed measurement result and viewport
Size, and wherein the joint probability distribution is the cumulative measurement according to the network speed determined from the broadcasting trace
As a result it and according to the accumulative measuring result of the viewport size determined from the broadcasting trace generates.
22. machine readable storage medium according to claim 21, wherein the broadcasting trace is from the media item
Geographic area collect, and wherein the joint probability distribution specific to the geographic area of the media item.
23. the machine readable storage medium according to claim 21 or 22, wherein the broadcasting trace is directed to the media
The type of project and be collected, and the wherein type of the joint probability distribution specific to the media item.
24. machine readable storage medium described in any one in 9 to 23 according to claim 1, wherein the processing unit
Also identified bit rate set is supplied to and is used to each of indicate the described of the segment with the corresponding bit rate
Indicate at least one code converter encoded.
25. machine readable storage medium described in any one in 9 to 24 according to claim 1, wherein the delivering quality
In structural similarity (SSIM) measurement result of Y-PSNR (PSNR) measurement result or the segment based on the segment
At least one.
Applications Claiming Priority (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US15/337,806 | 2016-10-28 | ||
US15/337,806 US10454987B2 (en) | 2016-10-28 | 2016-10-28 | Bitrate optimization for multi-representation encoding using playback statistics |
PCT/US2017/053318 WO2018080688A1 (en) | 2016-10-28 | 2017-09-25 | Bitrate optimization for multi-representation encoding using playback statistics |
Publications (2)
Publication Number | Publication Date |
---|---|
CN110268717A true CN110268717A (en) | 2019-09-20 |
CN110268717B CN110268717B (en) | 2021-08-27 |
Family
ID=60117754
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN201780072261.6A Active CN110268717B (en) | 2016-10-28 | 2017-09-25 | Bit rate optimization for encoding multiple representations using playback statistics |
Country Status (4)
Country | Link |
---|---|
US (1) | US10454987B2 (en) |
EP (1) | EP3533232B1 (en) |
CN (1) | CN110268717B (en) |
WO (1) | WO2018080688A1 (en) |
Cited By (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN113382241A (en) * | 2021-06-08 | 2021-09-10 | 北京奇艺世纪科技有限公司 | Video encoding method, video encoding device, electronic equipment and storage medium |
CN114747225A (en) * | 2019-12-11 | 2022-07-12 | 谷歌有限责任公司 | Methods, systems, and media for selecting a format for a streaming media content item |
Families Citing this family (15)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US10148989B2 (en) * | 2016-06-15 | 2018-12-04 | Divx, Llc | Systems and methods for encoding video content |
US10834406B2 (en) | 2016-12-12 | 2020-11-10 | Netflix, Inc. | Device-consistent techniques for predicting absolute perceptual video quality |
US11019349B2 (en) | 2017-01-20 | 2021-05-25 | Snap Inc. | Content-based client side video transcoding |
US10306250B2 (en) * | 2017-06-16 | 2019-05-28 | Oath Inc. | Video encoding with content adaptive resource allocation |
US11146608B2 (en) | 2017-07-20 | 2021-10-12 | Disney Enterprises, Inc. | Frame-accurate video seeking via web browsers |
TW201931866A (en) * | 2017-12-29 | 2019-08-01 | 圓剛科技股份有限公司 | Video/audio stream control device and control method thereof |
US10778938B2 (en) * | 2018-12-20 | 2020-09-15 | Hulu, LLC | Video chunk combination optimization |
US10887660B2 (en) * | 2018-12-27 | 2021-01-05 | Comcast Cable Communications, Llc | Collaborative media quality determination |
JP6980162B2 (en) * | 2019-07-26 | 2021-12-15 | 三菱電機株式会社 | Sub-channel coding device, sub-channel decoding device, sub-channel coding method, sub-channel decoding method and sub-channel multiplex optical communication system |
US11343567B1 (en) * | 2019-08-07 | 2022-05-24 | Meta Platforms, Inc. | Systems and methods for providing a quality metric for media content |
US11425184B2 (en) * | 2020-04-21 | 2022-08-23 | Google Llc | Initial bitrate for real time communication |
CN115349263A (en) * | 2020-05-19 | 2022-11-15 | 谷歌有限责任公司 | Dynamic parameter selection for quality-normalized video transcoding |
US11711505B2 (en) * | 2020-07-16 | 2023-07-25 | Nokia Technologies Oy | Viewport dependent delivery methods for omnidirectional conversational video |
CN113747245A (en) * | 2021-09-06 | 2021-12-03 | 北京字跳网络技术有限公司 | Multimedia resource uploading method and device, electronic equipment and readable storage medium |
US20230089154A1 (en) * | 2021-09-22 | 2023-03-23 | Netflix, Inc. | Virtual and index assembly for cloud-based video processing |
Citations (6)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20110262102A1 (en) * | 2010-04-13 | 2011-10-27 | Lahr Nils B | System and methods for optimizing buffering heuristics in media |
CN104272289A (en) * | 2012-03-13 | 2015-01-07 | 谷歌公司 | Predictive adaptive media streaming |
CN104429041A (en) * | 2012-06-28 | 2015-03-18 | 阿尔卡特朗讯公司 | Adaptive streaming aware node, encoder and client enabling smooth quality transition |
US20150089557A1 (en) * | 2013-09-25 | 2015-03-26 | Verizon Patent And Licensing Inc. | Variant playlist optimization |
CN105191334A (en) * | 2013-03-14 | 2015-12-23 | 思科技术公司 | Scheduler-based network virtual player for adaptive bit rate video playback |
CN105308957A (en) * | 2013-07-24 | 2016-02-03 | 华为技术有限公司 | System and method for network-assisted adaptive streaming |
Family Cites Families (11)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US8875208B1 (en) * | 2007-11-21 | 2014-10-28 | Skype | High quality multimedia transmission from a mobile device for live and on-demand viewing |
US20110249954A1 (en) * | 2010-04-09 | 2011-10-13 | Microsoft Corporation | Capturing presentations in online conferences |
US8812662B2 (en) | 2011-06-29 | 2014-08-19 | Sonic Ip, Inc. | Systems and methods for estimating available bandwidth and performing initial stream selection when streaming content |
US20130223509A1 (en) | 2012-02-28 | 2013-08-29 | Azuki Systems, Inc. | Content network optimization utilizing source media characteristics |
EP2944063A1 (en) * | 2013-01-10 | 2015-11-18 | Telefonaktiebolaget L M Ericsson (Publ) | Apparatus and method for controlling adaptive streaming of media |
US9106934B2 (en) * | 2013-01-29 | 2015-08-11 | Espial Group Inc. | Distribution of adaptive bit rate live streaming video via hyper-text transfer protocol |
US9904936B2 (en) * | 2013-11-19 | 2018-02-27 | Adobe Systems Incorporated | Method and apparatus for identifying elements of a webpage in different viewports of sizes |
US20160073106A1 (en) | 2014-09-08 | 2016-03-10 | Apple Inc. | Techniques for adaptive video streaming |
US11451798B2 (en) | 2015-01-05 | 2022-09-20 | Arris Enterprises Llc | Method of encoding video with film grain |
JP6845808B2 (en) * | 2015-02-07 | 2021-03-24 | ジョウ ワン， | Methods and systems for smart adaptive video streaming driven by perceptual quality estimation |
KR102170550B1 (en) * | 2016-05-24 | 2020-10-29 | 노키아 테크놀로지스 오와이 | Methods, devices and computer programs for encoding media content |
-
2016
- 2016-10-28 US US15/337,806 patent/US10454987B2/en active Active
-
2017
- 2017-09-25 EP EP17784732.4A patent/EP3533232B1/en active Active
- 2017-09-25 CN CN201780072261.6A patent/CN110268717B/en active Active
- 2017-09-25 WO PCT/US2017/053318 patent/WO2018080688A1/en unknown
Patent Citations (6)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20110262102A1 (en) * | 2010-04-13 | 2011-10-27 | Lahr Nils B | System and methods for optimizing buffering heuristics in media |
CN104272289A (en) * | 2012-03-13 | 2015-01-07 | 谷歌公司 | Predictive adaptive media streaming |
CN104429041A (en) * | 2012-06-28 | 2015-03-18 | 阿尔卡特朗讯公司 | Adaptive streaming aware node, encoder and client enabling smooth quality transition |
CN105191334A (en) * | 2013-03-14 | 2015-12-23 | 思科技术公司 | Scheduler-based network virtual player for adaptive bit rate video playback |
CN105308957A (en) * | 2013-07-24 | 2016-02-03 | 华为技术有限公司 | System and method for network-assisted adaptive streaming |
US20150089557A1 (en) * | 2013-09-25 | 2015-03-26 | Verizon Patent And Licensing Inc. | Variant playlist optimization |
Cited By (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN114747225A (en) * | 2019-12-11 | 2022-07-12 | 谷歌有限责任公司 | Methods, systems, and media for selecting a format for a streaming media content item |
CN114747225B (en) * | 2019-12-11 | 2024-03-01 | 谷歌有限责任公司 | Method, system and medium for selecting a format of a streaming media content item |
CN113382241A (en) * | 2021-06-08 | 2021-09-10 | 北京奇艺世纪科技有限公司 | Video encoding method, video encoding device, electronic equipment and storage medium |
Also Published As
Publication number | Publication date |
---|---|
EP3533232B1 (en) | 2021-06-09 |
CN110268717B (en) | 2021-08-27 |
US20180124146A1 (en) | 2018-05-03 |
US10454987B2 (en) | 2019-10-22 |
WO2018080688A1 (en) | 2018-05-03 |
EP3533232A1 (en) | 2019-09-04 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
CN110268717A (en) | The bit rate of more presentation codes is optimized using statistical information is played | |
CN109964488A (en) | The quality and user experience of the live video stream transmission from mobile device are improved using converging network statistics | |
Wang et al. | Intelligent edge-assisted crowdcast with deep reinforcement learning for personalized QoE | |
CN110781321B (en) | Multimedia content recommendation method and device | |
CN105431834A (en) | Creating personalized and continuous playlists for a content sharing platform based on user history | |
Wang et al. | Deepcast: Towards personalized qoe for edge-assisted crowdcast with deep reinforcement learning | |
WO2017094847A1 (en) | Quality of experience optimizing device, network quality estimating device, mobile terminal, quality of experience optimizing method, network quality estimating method, and program | |
US10271103B2 (en) | Relevance table aggregation in a database system for providing video recommendations | |
CN114982227A (en) | Optimal format selection for video players based on predicted visual quality using machine learning | |
US11889140B2 (en) | Global constraint-based content delivery network (CDN) selection in a video streaming system | |
CN108700928A (en) | Content is managed based on battery utilization rate when showing content on device | |
WO2018169582A1 (en) | Systems and methods for throttling incoming network traffic requests | |
Baccour et al. | RL-OPRA: Reinforcement learning for online and proactive resource allocation of crowdsourced live videos | |
Bulkan et al. | Predicting quality of experience for online video service provisioning | |
Amour et al. | Q2ABR: QoE‐aware adaptive video bit rate solution | |
US20240107125A1 (en) | System and method for modelling access requests to multi-channel content sharing platforms | |
CN112261668B (en) | Content caching method and device in mobile edge network and electronic equipment | |
García et al. | Probabilistic analysis and interdependence discovery in the user interactions of a video news on demand service | |
Wei et al. | Joint reinforcement learning and game theory bitrate control method for 360-degree dynamic adaptive streaming | |
CN103686223A (en) | Method and equipment for providing video access service according to user feedback information | |
Zwickl et al. | On the approximation of ISP and user utilities from quality of experience | |
Li et al. | Two-stage dynamic pricing and advertising strategies for online video services | |
US20230020043A1 (en) | Method for identifying new audiences for content of a content provider | |
JP2018097394A (en) | Engagement index value controller, engagement index value controlling method, and program | |
JP2018097393A (en) | Engagement index value controller, engagement index value controlling method, and program |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
PB01 | Publication | ||
PB01 | Publication | ||
SE01 | Entry into force of request for substantive examination | ||
SE01 | Entry into force of request for substantive examination | ||
GR01 | Patent grant | ||
GR01 | Patent grant |