CN102354312A - Geographic coding for location search queries - Google Patents
Geographic coding for location search queries Download PDFInfo
- Publication number
- CN102354312A CN102354312A CN2011102763244A CN201110276324A CN102354312A CN 102354312 A CN102354312 A CN 102354312A CN 2011102763244 A CN2011102763244 A CN 2011102763244A CN 201110276324 A CN201110276324 A CN 201110276324A CN 102354312 A CN102354312 A CN 102354312A
- Authority
- CN
- China
- Prior art keywords
- geographic entity
- document
- geographic
- inquiry
- location finding
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Granted
Links
Images
Classifications
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/90—Details of database functions independent of the retrieved data types
- G06F16/95—Retrieval from the web
- G06F16/953—Querying, e.g. by the use of web search engines
- G06F16/9537—Spatial or temporal dependent retrieval, e.g. spatiotemporal queries
Abstract
The invention relates to geographic coding for location search queries. A method for performing a location search includes receiving a location search query, determining key words corresponding to the location search query, identifying one or more documents that correspond to the key words in the location search query, and providing to a client system information identifying at least one location corresponding to the one or more documents.
Description
Related application
The application belongs to the dividing an application of one Chinese patent application 200780010615.0 that the applying date is on January 26th, 2007.The application requires U.S. Provisional Patent Application 60/763 that submit on January 27th, 2006, " Geographic Coding for Location Search Queries (geocoding that is used for the location finding inquiry) "; 168 right of priority, said temporary patent application is incorporated this paper by reference into.
Technical field
Search engine provides powerful instrument to be positioned at the content in the document in the large-scale document database (such as the document on the Internet or the world wide web (www) and/or be stored in the document on the computing machine of Intranet).Use the index of document to locate document in response to search inquiry, said search inquiry is made up of one or more speech, word, keyword and/or phrase (after this being called word) that the user submits to.One or more words in document in the index of document and the search inquiry can be complementary to confirm score value.Based on score value, the tabulation of the rank of relevant documentation or documents location is offered the user.
Search inquiry possibly have various purposes and form.A kind of form of kind is corresponding with location finding.Traditional location finding uses the set form such as template usually.Existing templates variation that is normally fixing or that possibly only allow limited quantity.For example, speech in existing location finding inquiry or word possibly have predetermined order (street, state, postcode) and/or predetermined spelling.Therefore, (in traditional location finding) provides the wide in range spelling that comprises misspelling, the optional title that is used for the position and is difficulty or impossible such as the optional address format of creating in different countries.
In response to the location finding inquiry, many existing search engines return single result usually.In conjunction with the shortage to the formatting flexibility of position search inquiry, this makes that it is difficult adapting at position search inquiry and/or uncertainty or the vagueness returned among user's the result.
The shortage of the dirigibility in existing location finding inquiry is ordinary loss search engine performance also, because handle existing location finding inquiry with single data structure usually.Can't adjust data structure and this data structure is distributed to whole search engine to cause the processing of position search inquiry slower.Overcome such bottleneck and possibly cause extra search engine complexity and expense.
Therefore need be used to handle the improved form and the technology of location finding inquiry.In addition, also need improve the result who inquires about to the user report location finding.
Summary of the invention
Embodiment through disclosed process and search engine has reduced or eliminated above-mentioned deficiency and has inquired about the other problem that is associated with location finding.
In certain embodiments, the method that is used for executing location search comprises: the receiving position search inquiry; Confirm to inquire about corresponding keyword with location finding; The corresponding one or more documents of keyword during identification is inquired about with location finding; And the identification and the information of corresponding at least one position of one or more documents are provided to client.
Confirming that keyword can comprise from location finding inquiry removes punctuation mark and non-position word.Keyword can comprise one or more synonyms of the one or more words in the location finding inquiry.Keyword can comprise and the corresponding predetermined initialism of one or more words.
Discern one or more documents and can comprise definite and the corresponding canonical form of keyword (canonical expression).Discern one or more documents and can comprise each the score value of confirming in one or more documents.Each score value can according to the word frequency of keyword in a plurality of documents, in each document one or more speech and the coupling between one or more keyword and with the size of the corresponding geographic entity of keyword.Discern the order that one or more documents can be independent of keyword.
One or more documents can be stored in the index that comprises with the corresponding a plurality of documents of geographic entity.A plurality of documents can comprise and the corresponding reference coordinate of geographic entity.
Provide the identification and the information of corresponding at least one position of one or more documents to comprise: if in the top n rank of one or more documents; The best score value of corresponding document then provides the information of a position of identification greater than the prearranged multiple of time (next) best score value of next document.Provide operation to comprise to identify and the corresponding top n of the one or more documents position of high rank, wherein the document of high rank has the score value in preset range.In certain embodiments, each position in the top n rank comprises location identifier.In certain embodiments, each position in the top n rank comprises the corresponding link of pointing to map image.
Providing operation to comprise provides and the corresponding map image at least one position.Map image can be the center with at least one position, and can comprise the zone less than the predetermined size around at least one position.In certain embodiments, at least one position can comprise that its corresponding document has the two or more different position of all common keywords.Map image can comprise and the corresponding mark in two or more positions.
In another embodiment, be stored in data structure in memory and can be used to the executing location search inquiry.Data structure can comprise and corresponding a plurality of documents of geographic entity or record (being called document hereinafter).Each document in a plurality of documents can comprise positional information and side information.Positional information can comprise and the corresponding keyword in one or more positions or sign (token), the one or more zones that are associated with one or more positions and the synonym of keyword.Side information can comprise and the corresponding reference coordinate in one or more positions.
Reference coordinate can comprise the latitude and the longitude of one or more positions.Reference coordinate can comprise the zone around one or more positions.The zone can be less than predetermined size.
Data structure can be compatible mutually with HTML(Hypertext Markup Language).
Positional information in each document can be insensitive to the order of the word in the search inquiry of position.
In another embodiment, graphic user interface comprises the map image in the zone that provides in response to the location finding inquiry.Map image comprise with the zone in the corresponding two or more marks in two or more different positions with all common words that are associated with location finding inquiry.
In another embodiment, graphic user interface comprises the map image in the zone that provides in response to the location finding inquiry.Map image is the center with the position.Map image is that the order that is independent of the word that is associated with the location finding inquiry provides.
Above-mentioned method, data structure and graphic user interface can be included in search engine system, the storer in one or more computing machines with one or more CPU (central processing unit) and one or more programs of being stored in the storer and carrying out by one or more central processing units in and/or carry out by them.
Description of drawings
For understand better the above embodiment of the present invention with and additional embodiments, should combine the description of accompanying drawing with reference to the following examples, wherein identical reference number refers to corresponding part in institute's drawings attached.
Fig. 1 shows the process flow diagram of the embodiment of location finding process.
Fig. 2 shows the block diagram of the embodiment that handles the location finding inquiry.
Fig. 3 shows the block diagram that the geographic entity document is distributed to the embodiment on a plurality of index.
Fig. 4 shows the block diagram of the embodiment of geographic entity document.
Fig. 5 A shows the block diagram of the embodiment of map image.
Fig. 5 B shows the block diagram of the embodiment of map image.
Fig. 6 shows the block diagram of the result's who returns in response to the location finding inquiry embodiment.
Fig. 7 shows the block diagram of the embodiment of search engine system.
Fig. 8 shows the block diagram of the embodiment of search engine.
Fig. 9 shows the block diagram of the embodiment of client.
Figure 10 shows the block diagram of the embodiment of geographic entity document data structure.
Figure 11 has described one group of geographic area about current display window.
Figure 12 and Figure 13 show like standardized (normalized) angular distance how and measure lip-deep distance and zone at the earth, and also show how will convert ratio in the position of the geographic entity in the zone, viewport (viewport) edge (skirt).
Figure 14 has described the graph of function that is used for confirming according to the radius in viewport zone the radius of fringe region.
Figure 15 has described the position that is used for according to respect to the geographic entity of current viewport zone and fringe region and has distributed the graph of function of score value decay factor.
Embodiment
At present with detailed reference implementation example, the example of embodiment shown in the drawings.In the detailed description below, set forth a large amount of specific detail, so that complete understanding of the present invention to be provided.Yet, for those of ordinary skills significantly, do not have these specific details can realize the present invention yet.In other instance, do not describe well-known method, process, assembly and circuit in detail, in order to avoid unnecessarily fuzzy various aspects of the present invention.
The embodiment that is used for the executing location search inquiry and the system and method for corresponding results is provided to the user has been described.This processing is called as geocoding (geocoding) sometimes.Can use the search engine that is couple to such as the network of the Internet (also being called as WWW or WWW) and/or one or more Intranets to receive location finding inquiry such as the street address the city from the user.The position search inquiry is handled to confirm canonical form or Boolean expression.One or more synonyms that processing can comprise one or more keywords of confirming in the inquiry of each location finding, remove punctuation mark and non-position word (such as article) and confirm the one or more words each location finding inquiry from each location finding inquiry.Synonym can comprise and be used for piecing together speech at the predetermined initialism of one or more words that each location finding is inquired about and/or the predetermined mistake of the one or more words in each location finding inquiry.Canonical form can be independent of the order of keyword, and is promptly insensitive to the order of keyword.
The index of the geographic entity document in canonical form and the search engine can be compared.Each geographic entity document has and the corresponding group mark of geographic entity, and it can be position (for example street, city, rural area, state, country) or geographical entity (for example lake, river, mountain range, land, ocean or the like).Though single geographic entity can be corresponding with one group of position such as one group of street address; But in the environment of position or the geographic entity of coupling, all positions that are associated with geographic entity can be regarded as " position " in identification and location finding inquiry.In some part at least of this document, use word " geographic entity " and " position " with the free burial ground for the destitute.
The index of geographic entity document can be distributed on a plurality of computing machines in the search engine.Index can comprise positional information and side information.Positional information can comprise the synonym of keyword, keyword and the adjacent object of a plurality of positions.Side information can comprise the reference coordinate of position, such as latitude and longitude and/or scope or street number.
Can return the score value with the subclass of the geographic entity document of each canonical form close match through computing machine.Can confirm the rank of top n geographic entity document.If best score value is greater than the prearranged multiple of suboptimum score value, then can will offer the user in company with the map image of relevant position with the corresponding position of best score value.Map image can be the center and can adjust size to comprise predetermined bounding box, zone or the window around the relevant position with corresponding position.Alternatively, if best score value less than prearranged multiple, then can will offer the user with the corresponding several position of the scope of score value.Can provide such as location identifier (city, state, postcode and/or country) and/or point to the additional information of the link of corresponding map image.
Therefore, embodiment can adapt to (accommodate) multiple widely form, allows the vagueness (ambiguity) in the search inquiry of position and/or in the result and can use parallel processing so that the high speed processing of location finding inquiry (being sometimes referred to as location finding) to be provided.Therefore, embodiment can provide the improved processing of location finding inquiry.
Now with notice steering position search procedure.Fig. 1 shows the process flow diagram of the embodiment of location finding process 100.Though the location finding process 100 that is described below comprises the many operations that seem according to specific order appearance; But significantly; Process 100 can comprise more or less operation that the serial or parallel that can (for example use parallel processor or multi-thread environment) is carried out, and can change the order of two or more operations and/or can be single operation with two or more operative combination.
Can receiving position search inquiry (110).Can confirm keyword (112).Can with the location finding query conversion canonical form form (114).This can comprise and from location finding inquiry, removes one or more non-positions or noise speech or word, punctuation mark, cedilla (promptly adding letter to goes up to indicate the symbol of special pronunciation) and/or street number.Can generate Boolean expression (116).Boolean expression can comprise one or more speech or the synonym of word in the location finding inquiry.Convert search inquiry into the canonical form form and also can comprise the one or more initialisms of expansion, such as " st. " or " st " expanded to " street ".In certain embodiments; Wrong " synonym " of piecing together speech that be used for through with the speech that comprises corresponding correct spelling comes supplemental queries, and the mistake that can " proofread and correct " in the search inquiry of position is pieced together speech or word (for example query processing process confirms to be likely the wrong word of piecing together).Confirm that keyword (112) can make result queries be independent of the order of keyword.Can be from the geographic entity document (118) of the individual optimum matching of geographic entity document database identification N (for example 10).Can provide and corresponding at least one geographic entity of institute's documents identified or position (120).Alternatively, in some situations, the zero document is provided to sending requesting users.For example in certain embodiments, if the geographic entity document of all N optimum matching has the score value (being described below score value) less than first threshold, then there are not geographic entity or position to be identified.In another example; Filter the tabulation of the geographic entity document of N optimum matching; Removing the document of (A) score value less than first threshold, and (B) SAF (being described below) less than second threshold value and score value less than the 3rd threshold value document of (for example the 3rd threshold value will be higher than (i.e. more restrictions) second threshold value usually)." filtration " of back will be above first threshold but quality matches outside current viewport (as defined below) removes, will be in current viewport or be optimum matching more thereby allow near another geographic entity or the location recognition of current viewport.
Discern N optimum matching document 118 and need a plurality of calculating operations.At first, the geographic entity document 118A of search inquiry is satisfied in identification.For example, this can be through following completion: retrieval has with the tabulation of the document of the sign of each coupling of query terms and then boolean and (AND) computing is carried out in the tabulation of being retrieved and has the tabulation with the document (if there is) of the sign of all query terms couplings with generation.In this environment, each sign is the speech, symbol or the speech that are associated with geographic entity and/or the combination of symbol.In order to remedy mistake; The sign of document can comprise various wrong assembly of the various words of describing the geographic entity be associated with document, and can comprise near contiguous or geographic entity title (with and wrong the assembly) (for example just in case user's search inquiry specified city or the analog of vicinity improperly but accurately listed the word that is associated with geographic entity).In another example, satisfy in identification before the document of search inquiry, at first come " rewriting " search inquiry through word and any punctuate that removes any non-position.Alternatively, the single word of each in search inquiry can be comprised this word and one or more synon boolean or (OR) expression formula replacement.In certain embodiments, each word in be its predefine one group of synon inquiry adds synonym to search inquiry.Be added to search inquiry as boolean or (OR) " synonym " of the part of expression formula also can comprise " the generic synonym " of the single component of compound word.For example; The generic synonym of first component of street " N Rengstorff " is " directional_keyword (a direction keyword) ", its with comprise that any direction keyword of N, S, E, W, North (north), South (south), East (east) and West (west) is complementary.Synon another example of generic is " affix_keyword (an affixe keyword) ", its be complementary such as the speech of ave., avenue (street), blvd., boulevard (main road), ln, lane (lane), rd, road (road), st, street (street), rue (street) or the like (or sign).Similarly the generic synonym also as a token of is included in the document database, with the corresponding identical component position, address of " correct " keyword.Generic synonym in the search inquiry that rewrites and the matching ratio between the document non-synon keyword and the coupling between the non-synon sign in the document in search inquiry produces much lower score value.Alternatively, can carry out other modification to search inquiry, so that improve the quality of Search Results according to predefined rule.
Then, be the document calculations score value 118B of the coupling discerned.The example procedure that the document that is used to each coupling generates score value has been discussed below in more detail.Usually, the document that high-quality coupling is arranged with search inquiry than the document that quality matches is more arranged with search inquiry by the higher score value of assignment.Such as also can being the factor in calculating score value with the position of the corresponding geographic entity of document of coupling, with respect to other factor of the relative importance of the current viewport that has shown map or image therein and these geographic entitys.Based on the score value that is calculated the document of coupling is carried out rank 118C then, and identification N the document 118D of high rank.In certain embodiments, with the rank of document with select N the synthetic single operation of sets of documentation (for example filtering) of high rank through operation top n on score value.In certain embodiments, the document with rank lower than top n document is not carried out rank.
Fig. 2 shows the block diagram of the embodiment 200 that handles the location finding inquiry.To be used as illustrated examples such as the location finding inquiry 210 of " 155Abe Ave.Great Neck NY ".During operation 114, street number 155 and fullstop can be removed and cause Abe Ave Great Neck NY.In operation 116, can be Boolean expression with the location finding query conversion, comprise expansion initialism (such as Ave) and synonym.Consequent Boolean expression is Abe AND (Ave OR Avenue OR Street OR Lane OR Court OR...) AND (Great Neck) AND (NY OR (NEW YORK)).This Boolean expression is independent of prime word or the word order in position search inquiry 210, and is promptly insensitive to prime word in position search inquiry 210 or word order.Like this, it can adapt to the various widely forms about location finding inquiry 210.Such Boolean expression have can be in using the search engine of distributed geographical characteristic document database forms of treatment.This will further discuss below.
Now notice is turned to the embodiment of geographic entity document database.Fig. 3 shows the block diagram that the geographic entity document is distributed to the embodiment 300 on a plurality of index, and said index can be stored on a plurality of computing machines in the search engine.Geographic entity document 310 can comprise a plurality of geographic entity documents 312.Can comprise characteristic type (such as street, road, route, city, country, crossroad or the like), characteristic title (being the title of position), main word or sign (such as the particular keywords that is associated with characteristic), near characteristic word or sign (such as adjacent or contiguous terrestrial reference or interested position) and side information (such as the latitude and the longitude of characteristic) such as each geographic entity document of document 312-1.Side information can be used by map or multistage (tile) server, to represent and the corresponding map image in position in each geographic entity document.This will further describe with reference to figure 5 and 7 below.
Zonal device (partitioner) 314 can be distributed to each index in a plurality of index 320 with the subclass of geographic entity document 310 via one or more indexs 316, such as index 320-1.Index 320-1 can be corresponding with the subregion or the child partition of index 320 (it can be regarded as the reverse indexing of whole geographic entity document database by collective).Index 320 can be stored on the one or more computing machines in the search engine.Subclass can be by such distribution: each index 320 is handled with each location finding and is inquired about the processing section of the equivalence that is associated or the processing section of approximately equivalent.For example, can with document 312-1 randomly or pseudorandom be distributed on the index 320.For example, can use hash function and mod that the geographic entity document is distributed on M the index, wherein M is the quantity of index (being sometimes referred to as index partition or index child partition).In this example, hash function is applied to each the geographic entity document predefined part of document (or be applied to) to produce hashed value, then " delivery M " function is applied to hashed value be created in 0 and M-1 between selective value.Selective value confirms that which the reception document in M the index 316 is used for index.
When handling each search inquiry, each of index 320 can be provided in one group of top n (such as the preceding 10) document in the subclass with the document of each match query.Like what further discuss below, the top n document can be based on the rank of score value.Particularly, can confirm score value for each document of match search inquiry.Score value can be based on the canonical form and/or the Boolean expression of each location finding inquiry.With reference to figure 7, handle the query processing of each child partition of index 320 by each server 730, said server returns N information in the highest rank document of identification and matching inquiry.The server 726 that can be called as polymerizer or subregion rank inquiry execution manager for example will be combined from the Search Results of server 730 through N best search result of selection among the result who is returned by server 730.Manager 720 is carried out in the inquiry of the next higher level in level, will be combined from the Search Results of all polymerizers 726 through among the result who is returned by polymerizer 720, selecting N best search result.More generally, the rank of each in distributed hierarchy is selected the predefined quantity of best search result and it is delivered to next rank.For example, if received 10 groups of preceding 10 documents, then can confirm preceding 10 documents and with its transmission in given rank.By this way, use distributed realization can confirm and/or be identified in the top n document in the document 312.This method can improve the performance of search engine and can reduce system cost and/or complexity.
Fig. 4 shows the block diagram such as the embodiment of the geographic entity document 400 of document 312-1.Document 400 can with HTML(Hypertext Markup Language) and/or extend markup language (XML) compatibility.Document 400 can comprise with such as the geographic entity information corresponding in position (for example street, crossroad, city, place interested or the like).Some documents 400 can comprise the information that is used for more than a position (the for example a plurality of subregions or the analog in street, city).Such positional information can comprise and the corresponding keyword in one or more positions, the one or more zones that are associated with one or more positions and the synonym of one or more keywords.
As shown in the embodiment 400, HTML mark < CN>text afterwards can indicating positions type, be route (route) in this situation.HTML mark < CNA>text afterwards can indicating positions clear and definite title, be Victoria Street (Victoria street) in this situation.Can indicate and the corresponding keyword in position at HTML mark < CA>text afterwards, such as Westminster (Westminster), London (London) and England (England).Can indicate the synonym of the clear and definite title of keyword and/or position at HTML mark < A>text afterwards, such as Angleterre, United Kingdom (the United Kingdom) and Verenigd Koninkrijk.Synonym can comprise the speech from foreign language (promptly different with the language of keyword language).In certain embodiments, synonym can be included in one or more keywords and/or initialism in the clear and definite title of position and/or common wrong the assembly.Can indicate other position or the zone of near this position this position or contiguous at HTML mark < Cn>text afterwards.In this example, neighbouring position or zone are Islington, West End (West End) and Covent Garden (Kao Wente garden).
The text or the item of information of the mark in document 400 can be called item of information or text items or sign.Come process information item or text items to produce index 320 by index 316 (Fig. 3).
A specific example of the side information in document 400 is the side information that is used for street or other route.In this example, side information comprises one or more sections, and each is corresponding to the part of street or route.The corresponding starting and ending street number of first and second end points of each section appointment and this section, and also specify the latitude and the longitude of each end points of this section.When location finding inquiry that comprises street number and document 400 are complementary, the street number of appointment is used for being identified in the section of the optimum matching in the side information of document.If the street number of appointment is between the starting and ending street number of section of optimum matching, use linear interpolation to confirm to inquire about the latitude and the longitude of specified position by location finding.Alternatively, if the initial or end street number of the section of the street number of appointment and optimum matching is complementary, then corresponding latitude and longitude are used for the position by the specified position of location finding inquiry.
As before mentioned,, can confirm to indicate the score value of the degree of coupling when inquiring about corresponding canonical form and/or Boolean expression and document 312 (Fig. 3) in geographic entity document 310 (Fig. 3) when comparing with each location finding.These score values can be indicated document 212 and thereby corresponding position and the location finding correlativity of inquiring about.Like this, in response to the location finding inquiry, search engine can use score value to confirm optimum (being the optimum position), or top n result's tabulation (being the top n position).
In certain embodiments, can only confirm score value for the subclass of document 312 (Fig. 3), promptly search engine can confirm to inquire about with location finding the candidate set of corresponding document.In an exemplary embodiment, the standard that is included in this candidate set of document can comprise following requirement: the clear and definite title of at least one in the keyword and characteristic (text after < CNA>mark in Fig. 4) is complementary and each of element in canonical form and/or Boolean expression or word occurs in document.
In an exemplary embodiment, can use
Confirm score value, wherein IR
iBe with canonical form and/or Boolean expression in each word or the corresponding match query score value of element " i " (about specific candidate documents); FR is " the characteristic rank " of the importance of indication characteristic or position, and E is that standard value (normalization value) and Q are the optional factors.Q can be corresponding with the quality of coupling between inquiry and candidate documents or its can be corresponding with any other tolerance of the quality that can be used to improve Search Results.The example of the Q factor is the SAF factor of describing with reference to figure 11-15 below.In another example, Q is set to equal SAF*Product (P
j), wherein SAF is the score value decay factor that is described below, each P
jBe penalty factor, and Product (P
j) be the product (being multiplication products) of all penalty factors.Each of penalty factor has 1.0 default value, and if corresponding punishment can be applicable to the value that described document will be lower (for example 0.7 or similar value) assignment and give penalty factor.The example of penalty factor is: the A) penalty factor of neither also not using when (as defined below) at its current viewport in user's country when document; B) when document and the inquiry between the coupling right and wrong (for example accurately mate; Because inquiry comprises external or wrong word or symbol, and be coupling with " generic synonym " sign (referring to above-mentioned explanation) about " generic synonym " in the word or the unique coupling between symbol and the document of mistake) time penalty factor used; And C) penalty factor of when lacking key element (for example, when inquiry and the street sign of document and country's sign rather than urban landmark are complementary) in the coupling between inquiry and the document, using.In other embodiment, can use other penalty factor.Usually, penalty factor is associated with the situation of the potential inferior quality matches of indication between geographic entity document and search inquiry.In other embodiment, do not use Q, or ground of equal value Q is set to equal 1.
In certain embodiments, standard value E is the IR of Perfect Matchings
iThe maximal value of the summation of score value or of equal value be the summation of the sign amount of the keyword in the search inquiry.IR
iThe summation of value can be called as the total coupling score value or the IR score value of candidate documents.The IR of the particular keywords in search inquiry
iValue can comprise the product of weight.Weight can be included in respective element or sign amount, relevance score and the amount of element of word in canonical form and/or the Boolean expression.The sign amount can be corresponding with the type of word; Wherein the type of word can comprise stop words (stop word), street affixe keyword (for example such as the street prefix speech of " rue " in the French or such as the street suffix speech of " street " in the English, " avenue ", " road " and " place "), number, synonym and other keyword, and the predefined type of each of word is endowed predefined sign amount.Predefined sign value can have predefined scope, such as 0 to 1 or 0 to 8 or similar scope.In certain embodiments, the sign amount of acquiescence (being used for " other keyword ") is 1, and all is endowed lower sign value such as the type of sign of synonym, street affixe keyword and stop words.In certain embodiments, synonym is endowed bigger sign amount than street affixe speech.
Relevance score can be based on the degree of text matches and is changed, and has predefined maximal value for the complete text matches between the information element of searching keyword and document.When the optimum matching of the information element of searching keyword and document only was part coupling (for example, searching keyword only is complementary with a plain speech of many lemmas), relevance score was less than predefined maximal value, and the degree of reflection text matches.
Amount of element can be used as the geographic entity that is associated with the item of information (in candidate documents) of matching inquiry keyword size or type function and change.For example, the item of information that likens to place name (such as the city title) as the item of information of national title can be given higher amount of element, and the latter and then the information that likens to street are given higher value.Amount of element also can reflect the type with searching keyword information matching item.For example; The item of information that comprises the clear and definite title of geographic entity can be endowed the highest amount of element; Item of information as " environment " (the for example city that the street was positioned at or country) can be endowed next the highest amount of element, and the item of information of title, zone or other geographic entity in city can be endowed minimum amount of element near comprising.In certain embodiments; The amount of element that is used for the item of information of candidate documents equals the product of two amount of element factors, and one of them is based on the size of the geographic entity through item of information name or type and second type based on the item of information (clear and definite title, environment or near characteristic) that is complementary with searching keyword wherein.Among other the embodiment, the amount of element that is used for the item of information of candidate documents equals the summation of these two amount of element factors at some.
The characteristic rank FR that is used for candidate documents can be based on document frequency (number of times of the characteristic of in the document 312 of the database 310 of Fig. 3, mentioning); Or it can be based on the size of geographic entity, and bigger characteristic (being geographical range) is given higher characteristic rank value.In other embodiment, the characteristic rank can be based on (at least in part) importance or the popularization with the corresponding geographic entity of candidate documents.For example, through can confirm importance or the popularization with the corresponding geographic entity of candidate documents to the world wide web search of the title of geographic entity or other database search.
When searching keyword has one or more synonym, for synon each and searching keyword calculate IR score value (about candidate documents), selection and use the optimum value in these IR score values when for the IR score value of candidate documents calculation combination then.
In certain embodiments, revised the score function that illustrates in the above, to increase the importance of one or more factors with respect to other factor.For example score function can be become
Wherein index M is the value (for example 2,2.5 or 3) greater than 1, and its typically between 2 and 5 (2≤M≤5), so that total coupling score value that in score function, standardizes is than characteristic rank FR and the more importance of the Q factor.In certain embodiments; Revised above-mentioned score function, to be complementary with identical word with respect to its title but the document with different order more be partial to its title and have document according to the word of the order identical with the word of in search inquiry, placing.For example; Can using in pairs, (pair-wise) coupling score value (for example replenishes; Total coupling score value+mate in pairs score value) (for example always mates score value; Total coupling score value+mate in pairs score value), said paired coupling score value based on document title in the word of ordering to the word of the ordering in search inquiry that is complementary quantity to (ordering, contiguous word).
Now notice is turned to the embodiment that is used for providing to the user process of one or more position result in response to the location finding inquiry.If in the top n rank, in the prearranged multiple (for example the suboptimum score value is less than 70% of best score value) of the best score value of first document greater than the suboptimum score value of second document, can will offer the user with the corresponding position of first document.The side information that use is stored with document, map or multistage server can offer the user with the map image that with this position is the zone at center.For example, if side information comprises the street address of drawing together into (bracket) this position, then can use linear interpolation to confirm the center of map image.Fig. 5 A shows the block diagram of the embodiment of the map image 500 that offers the user.To place the center of bounding box 510 with the corresponding position mark 512-1 in position.The size of adjustment bounding box 510 is so that can provide the zone 514 around this position.Can confirm the size of bounding box 510 based on the size of geographic entity or position.The characteristic (such as city or country) of different sizes can have the bounding box of different sizes.
In some cases, the diverse location (promptly spatially separated from one another) more than can have score value identical or much at one in the zone.For example, more than one position can be complementary corresponding to the canonical form of location finding inquiry and/or all keywords in the Boolean expression.In such situation, these results can be offered the user.This is shown in Fig. 5 B, and said Fig. 5 B shows the block diagram of the embodiment of map image 550.Bounding box 510 is defined as comprises all positions of satisfying predefined choice criteria.Be included in the bounding box 510 with the corresponding position mark 512 of diverse location.In certain embodiments, mark is link.On one in mark, click, the user can select corresponding position.This position can be represented to the user with the map image such as map image 500 (Fig. 5 A).Among other the embodiment, listed the tabulation 520 of best match position at some by map 550.In tabulation each can comprise to be pointed to and the linking of this corresponding map in position.Can be illustrated in each in the tabulation 520 by model's title (discerning through the CNA mark in the example in Fig. 4) and environment text (discerning through the CA mark in the example in Fig. 4) from corresponding geographical characteristic document.
If best score value is not more than the prearranged multiple of suboptimum score value, then can provide with the top n rank in the corresponding position of scope.For example, the position (among the top n result) that has more than or equal to 50% score value of best score value can be provided.Various information can be provided with the position.Figure 6 illustrates the exemplary graphical user interfaces that is used to show a plurality of Search Results that return in response to the location finding inquiry.In a zone 610 or row; Optimum matching geographic entity or position have been listed; And single little map 620 has been shown in another zone of graphic user interface, and each is used in zone 610 optimum matching geographic entitys of listing or each in the position.In this example, the location finding inquiry is " San Antonio (San Antonio) ", and it has produced a plurality of answers that possibly be correlated with.Said answer can provide with the one or more location identifiers such as city, state, postcode and/or country.In certain embodiments, little map 620 each all comprise sensing accordingly, the link of bigger map.Similarly, in certain embodiments, each of the listed best match position in zone 610 comprises the link of pointing to accordingly bigger map.Click on one in answer or little map and can allow this position is represented to the user with the map image such as map image 500 (Fig. 5 A).
Now notice is turned to the embodiment of the search engine, client computer and the data structure that are used to realize previous described method, geographic entity document and graphic user interface.Fig. 7 shows the block diagram of search engine system 700, and this search engine system generates the location finding Query Result in response to the location finding inquiry that receives from one or more clients 710 (being also referred to as client terminal device or client at this paper) (such as client or install 900 (Fig. 9)).Each client 710 can have the search assistant such as search helper module 930 (Fig. 9).Should be appreciated that like layout and only be exemplary and can adopt any other suitable layout or configuration at the search engine system shown in Fig. 7 700.Therefore, search engine system 700 can comprise still less or extra assembly or module, can realize with hardware and/or software, and can change position or one or more assembly or module.Search engine system 700 is used to the index of the document of search such as geographic entity document 310 (Fig. 3).
After having received the top n document, manager 720 is carried out in inquiry can visit corresponding geographical or positional information such as side information in archive server 734.In certain embodiments, geography or positional information can be included in the geographic entity document database 722.
The element in search engine system 700 such as querying server 716 can be dispersed on one group of server, so that handling very fast of location finding inquiry to be provided.In certain embodiments, system 700 can comprise that in a plurality of positions querying server, inquiry carry out the duplicate (replica) of manager, multistage server and geographic entity document database in a plurality of data centers (for example be arranged in different continents and/or at the diverse location of one or more countries).The location finding inquiry of using domain name system (DNS) will submit to search engine system 700 the user of one of client 710 based on each present load, geographic location and/or mode of operation of data center be routed to the appropriate data center.
Each rear end preferably includes a plurality of querying servers that are connected to communication network 712, such as querying server 716.Communication network 712 can be the Internet, but also can be Local Area Network and/or wide area network (WAN) arbitrarily.In certain embodiments, each querying server 716 be via HTTP, XML or similarly agreement with the form receiving position search query requests of webpage and send searching position result's server.Alternatively, if querying server 716 is used in the LAN, promptly internally and not used by the public, it can be an intranet servers.Querying server such as querying server 716 is configured to the control search procedure, comprises searching documents index, analysis and format Search Results.In certain embodiments, the rear end comprises a plurality of inquiries execution managers 720 that are connected to such as a plurality of querying servers of querying server 716.
Fig. 8 shows the block diagram of the embodiment of search engine 800.Search engine 800 can comprise at least one data processor or CPU (central processing unit) (CPU) 810, be used for and the communicating by letter or network interface 820, storer 822 and be used for the interconnective one or more signal wires 812 of these assemblies of other computing machine, server and/or client communication.One or more signal wires 812 can be formed one or more communication buss.
Storer 822 can comprise high-speed random access memory and/or nonvolatile memory, such as one or more disk storage devices.Storer 822 can be stored and comprise the operating system (or one group of instruction) 824 that is used to handle basic system services and the program that is used to carry out the task of relying on hardware, such as LINUX, UNIX or WINDOWS.Storer 822 also can be stored in signal procedure (or one group of instruction) in the network communication module 826.Signal procedure be used to such as the client of client 710 (Fig. 7) and with search engine system 700 (Fig. 7) in other server and compunication.
Storer 822 also can be stored and the corresponding querying server module of querying server 716 (Fig. 7) (or one group of instruction), geographic entity document database 722, document 832 and selected result 836.Querying server module 716 can comprise the keyword processor 828 that can rewrite the search inquiry that is received as stated.Geographic entity document database 722 can comprise a plurality of index 830.Document 832 can comprise a plurality of documents 834 that comprise geography or positional information.Selected result 836 can comprise the result 838 of one or more location finding inquiries.
Though Fig. 8 (being similar to Fig. 7) is depicted as the item of a plurality of separation with search engine 800, be intended to but more Fig. 8 as the functional description of the various characteristics that can in search engine system, exist rather than as the structural signal of embodiment described herein.In fact, like what those of ordinary skills recognized, the function of search engine 800 can be distributed on a large amount of server or computing machine, and the various groups of said server carry out the particular subset of these functions.Item shown in Fig. 8, separating can be combined and some can be separated.For example, can on individual server, be implemented in some shown in separating among Fig. 8, and can realize single by one or more servers.How the actual quantity of the server in search engine system and characteristic distribute the difference because of realizing different in them, and can be based in part on institute of system canned data amount and/or system on the peak between the operating period and the data traffic that must handle between mea life.
Fig. 9 shows the block diagram of the embodiment of client computer, device or system 900.Client 900 can be desk-top computer, laptop computer, PDA(Personal Digital Assistant), cell phone, personal navigation apparatus or analog.One or more communication buss 920 that client 900 generally includes one or more processing units (CPU) 910, user interface 914, one or more network or other communication interface 912, storer 922 and is used to connect these assemblies.User interface 914 can comprise one or more keyboard 918, one or more display 916 and/or such as one or more indicator (not shown) of mouse.Storer 922 can comprise the random access memory such as DRAM, SRAM, DDR RAM or other random access solid-state storage device; And can comprise nonvolatile memory such as one or more disk storage devices, optical disk storage apparatus, flash memory device or other non-volatile solid state memory.Communication bus 920 can comprise the circuit (being sometimes referred to as chipset) of the communication between interconnection and the Control System Component.Storer 922 can comprise the mass storage that is positioned at away from CPU (central processing unit) 910.
In certain embodiments, storer 922 can comprise operating system (or one group of instruction) 924, network communication module (or one group of instruction) 926, browser/tool model 928 and/or search helper module (or one group of instruction) 930.Search helper module 930 can comprise input and select monitoring module (or one group of instruction) 932, transport module (or one group of instruction) 934, (or the one group of instruction) 936 of Search Results receiver module and/or display module (or one group of instruction) 936.
Browser/tool model 928 can be that the user of client 900 can make and is used for communicating by letter with the one or more main frames (such as one or more websites and/or webpage) on one or more communication networks and/or the web browser of exchange message.For example, the user can use browser/tool model 928 in surfing on the Internet (for example display web page and/or website).
The user can use search helper module 930 (for example browser extension, browser toolbar or be embedded in the instruction in the search-engine web page) to utilize search engine to carry out the one or more search inquiries such as the location finding inquiry; And the reception search result corresponding comprises one or more positions, one or more map image, one or more URL and/or hyperlink.Particularly; Input and selection monitoring module 932 can supervisory user be imported; Transport module 934 can send to search engine with search inquiry; Search Results receiver module 936 can receive Search Results from search engine; And display module 938 can display of search results (maybe can help to appear be used for shown Search Results) by browser module 928, such as the rank of one or more documents and/or comprise the documents location with the corresponding institute of search inquiry content identified.The user can use user interface 914 and browser/tool model 928 to visit or select one or more in document and/or the documents location in the Search Results.For example, the user can use the indicator (not shown) to come clickable hyperlinks.
Be couple among the embodiment of local server computer in client 900; Can be with the module in the storer 922 and/or one or more being stored on the server computer in using, said server computer typically is positioned at the position different with client 900.Above-mentioned institute module identified with use in each is corresponding with the one group of instruction that is used to carry out above-mentioned one or more functions.These modules (being instruction set) need be embodied as software program, program or the module of separation.Various modules and submodule can be arranged again and/or made up.Storer 922 can comprise extra module and/or submodule or module still less and/or submodule.For example, search helper module 930 can be integrated in browser/tool model 928.Therefore, storer 922 can comprise the subclass or the superset of above-mentioned institute's module identified and/or submodule.
Figure 10 shows the block diagram of the embodiment of geographic entity document data structure 1000.Geographic entity document data structure 1000 can comprise geographic entity document 722.Geographic entity document 722 can comprise a plurality of records 1010 on a plurality of subregions that are distributed on a plurality of computing machines.Each record 1010 can be corresponding with each geographic entity document.As above-mentioned illustrated, the geographic entity document can be corresponding with geographic entity or position.Record can comprise synonym 1014, conjunctive word 1016 (such as the city of position appearance) and/or the approximate object 1018 of keyword 1012, one or more keywords.Geographic entity document data structure 1000 can comprise still less or extra element, and is can be with two or more elements combined and can change one or more positions of elements.For example, each record 1010 may further include side information 1018, the latitude that said side information comprises one or more positions and longitude information or with write down the bounding box that 1010 represented geographic entitys are associated.
Scoring from the result of location finding inquiry with respect to viewport
When the user for example uses online cartographic programme or service to carry out a series of location finding; The user searches for geographic entity (for example city, street, particular address or analog) usually, and said geographic entity is near the geographic entity that in next-door neighbour's location finding formerly, occurs.For example, after first geographic entity of search in the town, the user will search for usually in same city or contiguous or near second geographic entity in the city.For the ease of discussing, sometimes geographic entity is called " position ", but should be appreciated that some geographic entitys such as street (relative with particular street address) are corresponding to a large amount of positions.
In the following discussion, with reference to Figure 11, " viewport " or " current viewport " is corresponding with the current geographic area that in user client device or system, shows.For example, viewport can be in response to searching for and the display window of (for example by online cartographic programme or service) generation in the front position of next-door neighbour, or it can be the border circular areas that is defined in the viewport rectangle that shows in the user client system.Thereby, viewport can be in shape rectangle or circular.In the remainder of this discussion, with viewport be assumed to be in shape circular and around and be included in the viewport rectangle that shows in the user client system.In addition, viewport can be by the result of the user behavior of viewport being changed into the zone of user's appointment (for example translation (pan) and/or the Scale command or behavior) generation.
When the user has submitted the position enquiring that causes more than a result to; The result can be marked; Result's (being the position) in current viewport is better than the position outside viewport with deflection; And compared with the position (for example in the fringe region of viewport, this paper is called " viewport fringe region ") of being partial to further from the position of viewport near viewport.In one embodiment; Revise the above-mentioned score function that " document " (being sometimes referred to as location expression document or location expression data base entries) marked of being used for; To comprise score value decay factor (SAF); SAF tends to result that score value deflection and current viewport are intersected, and the result that intersects of deflection and viewport fringe region around viewport be better than neither with the viewport zone also not with the crossing result's (being that it is outside the viewport fringe region) of viewport fringe region.In this environment, term " intersects " at least a portion of meaning by the geographic entity of Search Results identification in the specific region.
As shown in Figure 12 and 13, can measure in the lip-deep zone of the earth and the size of distance according to " angular distance ", " angular distance " is by those zones or big or small apart from the angle of the arc on the earth surface of subtend.Can be that unit comes the measured angular distance with the radian or the number of degrees.Standardized angular distance is divided by the normalization factor such as 2 π, so that maximum angular distance is that 1 (or any other predefined value) and minimum angular distance are 0.In Figure 12 and 13, X1 representes the standardized size based on the viewport zone of the angular distance of the radius R 1 in viewport zone.X2 is based on the standardized size of viewport fringe region of angular distance of the radius R 2 of viewport fringe region.X2-X1 representes the width of viewport fringe region.X3 is illustrated in the standardization angular distance between the nearest border (edge) in geographic entity and viewport zone, or more generally is the distance between geographic entity and viewport zone.X representes (A) distance between geographic entity and viewport zone, with the ratio of the width of (B) viewport fringe region.
In one embodiment, the size of viewport fringe region depends on the size in viewport zone.Particularly, when the radius less (for example less than several kilometers) in viewport zone, the radius of viewport fringe region is that the 1+SkirtFactor of radius in viewport zone is doubly big, and wherein SkirtFactor (the edge factor) is configurable parameter.When the radius in viewport zone when big (for example greater than the hundreds of kilometer), the radius of viewport fringe region is similar to identical with the radius in viewport zone.In an exemplary embodiment, the radius with the viewport fringe region is defined as:
SkirtRegionRadius＝ViewportRadius×(1+SkirtFactor×EV)
EV＝A+B×e
-M×X1
Wherein select A and B to make: when X1 equals 0 (when the viewport zone very hour), EV equals its maximal value 1, and when X1 equaled its maximal value 1 (regional corresponding to the viewport that covers the whole earth), EV equaled its minimum value 0.SkirtFactor is configurable ratio (scaling) factor.The exemplary values of SkirtFactor is 10; In other embodiment, SkirtFactor equals the value between 4 and 20.M is the configurable index percent factor.The exemplary values of M is 50; In other embodiment, M equals the value between 10 and 200.In addition, the value of M depends on the ratio of angular distance X1.Decompose (solve) A and B according to above-mentioned constraint, the equality of EV becomes:
When M=50, e
-MVery near 0 (e
-50≈ 1.9*10
-22), and EV is approximately equal to e
-M*X1
In an exemplary embodiment, can confirm score value according to following score function
IR wherein
iBe with canonical form and/or Boolean expression in each word or the corresponding match query score value of element " i " (about the particular candidate document); FR is " the characteristic rank " of the importance of indication characteristic or position; E is a standardized value, and SAF is above-mentioned scoring decay factor.Discussed IR, FR and E parameter in the above in more detail, and this discussion likewise can be applicable to the score function discussed at this.Notice the IR of particular candidate document (or geographic entity)
iThe summation of value can be regarded as the information retrieval score or the match query score value of this candidate documents; And other parameter of all of score function be used for according to extra factor ratio, lifting or decay score value with how to improve to Search Results carry out rank (that is, make the highest Search Results of rank be most possible with by the corresponding Search Results of the geographic entity that the user searched).
In example embodiment, according to the SAF that confirms to be used for specific geographic entity with minor function
SAF＝C+D×e
-K×X
Wherein K is distance that index scale factor and X are (A) between geographic entity and viewport zone (being the nearest border in viewport zone), with the ratio of the width of (B) viewport fringe region, as illustrated with reference to Figure 13 in the above.In above-mentioned equality; C and D are such values; It is selected such that: when X equals 1 (when the outermost part of geographical characteristic edge region); SAF equals its minimum M inScore; And when X equals 0 (when geographical characteristic and line between viewport zone and viewport fringe region or separatrix are intersected or be contiguous), SAF equals its maximal value 1.Decompose C and D according to above-mentioned constraint, the equality of SAF becomes:
When K=3, e
-KBe approximately equal to 0.5, and 1-e
-KBe approximately equal to 0.95.When MinScore=0.2 and K=3, for the geographic entity that intersects (but not intersecting with the viewport zone) with the viewport fringe region, SAF is approximately equal to 0.158+0.842*e
-3XNotice, when X=0, equal 1.0, and SAF is approximately equal to 0.2 when X=1 according to this equality SAF.Notice that as above-mentioned for the geographic entity that intersects with the viewport zone, SAF equals 1, and for the geographic entity that does not neither also intersect with the viewport fringe region with the viewport zone, SAF equals MinScore (for example 0.2).In other embodiment, MinScore is the value between 0.1 and 0.5, and K is the value between 2 and 10.
The foregoing description of specific embodiment of the present invention is provided for the purpose of illustration and description.It also is not intended to exhaustive or limits the present invention to disclosed precise forms.On the contrary, should be understood that seeing that above-mentioned instruction can be made many modifications and variation.Selecting and having described these embodiment is for principle of the present invention and its practical application are described best, thereby makes those skilled in the art utilize the present invention best and have the various embodiment that are suitable for the various modifications that the specific user expects.
Claims (23)
1. one kind is used for the method that executing location is searched for, and comprising:
The receiving position search inquiry;
The geographic entity document of said location finding inquiry is satisfied in identification, and each in the wherein said geographic entity document is corresponding with geographic entity; And
According to score value the geographic entity document of being discerned is carried out rank producing one group of geographic entity document of rank, said score value at least in part based on the proximity of the corresponding said geographic entity of the geographic entity document of being discerned to the geographical viewport zone of client; And
Geographic entity document according to said rank provides the result, at least one corresponding at least one geographic entity of the geographic entity document of said result's identification and said rank.
2. the method for claim 1, wherein said geographical viewport zone is corresponding with the geographic area that on said client, shows.
3. the method for claim 1, the geographic area that wherein said geographical viewport zone shows on said client with inquiring about in response to location finding formerly is corresponding.
4. the method for claim 1, wherein said geographical viewport zone comprises the circular geographic area that is enclosed in the rectangle geographic area that shows on the said client.
5. method as claimed in claim 4, wherein said geographical viewport zone have the big or small corresponding size with the said rectangle geographic area that on said client, shows.
6. the method for claim 1 comprises and confirms to inquire about the geographic entity document that corresponding keyword and identification and the said keyword in said location finding inquiry are complementary with said location finding;
Confirming wherein that said keyword comprises from said location finding inquiry removes punctuation mark and non-position word.
7. the method for claim 1 comprises and confirms to inquire about the geographic entity document that corresponding keyword and identification and the said keyword in said location finding inquiry are complementary with said location finding;
Wherein said keyword is included in one or more synonyms of the one or more words in the said location finding inquiry.
8. the method for claim 1 comprises and confirms to inquire about the geographic entity document that corresponding keyword and identification and the said keyword in said location finding inquiry are complementary with said location finding;
Wherein discern said geographic entity document and comprise definite and the corresponding canonical form of said keyword.
9. the method for claim 1, wherein said geographic entity document are in the index that comprises with the corresponding a plurality of geographic entity documents of geographic entity.
10. method as claimed in claim 9, wherein said a plurality of geographic entity documents comprise and the corresponding reference coordinate of said geographic entity.
11. the method for claim 1, each that discern wherein that said geographic entity document is included as said geographic entity document is confirmed score value.
12. method as claimed in claim 11; Wherein provide the result to comprise: if in the top n rank of the geographic entity document of being discerned; The best score value of corresponding geographical characteristic document then provides single geographic entity or position greater than the prearranged multiple of the suboptimum score value of next geographic entity document.
13. the method for claim 1, wherein said provide comprise provide with a said at least corresponding map image of geographic entity.
14. a search engine system comprises:
The device that is used for the receiving position search inquiry;
Be used to discern the device of the geographic entity document that satisfies said location finding inquiry, each in the wherein said geographic entity document is corresponding with geographic entity; And
Be used for the geographic entity document of being discerned being carried out rank producing one group of device of the geographic entity document of rank according to score value, said score value at least in part based on the proximity of the corresponding said geographic entity of the geographic entity document of being discerned to the geographical viewport zone of client; And
Be used for providing result's device, at least one corresponding at least one geographic entity of the geographic entity document of said result's identification and said rank according to the geographic entity document of said rank.
15. a method that is used for the executing location search comprises:
The receiving position search inquiry;
The geographic entity of said location finding inquiry is satisfied in identification;
According to score value the geographic entity of being discerned is carried out rank to produce one group of geographic entity of rank, said score value is at least in part based on the proximity of said geographic entity to the geographical viewport zone of client; And
Geographic entity according to said rank provides the result.
16. method as claimed in claim 15, wherein said geographical viewport zone is corresponding with the geographic area that on said client, shows.
17. method as claimed in claim 15, wherein said geographical viewport zone is corresponding with the geographic area that on said client, shows in response to location finding inquiry formerly.
18. method as claimed in claim 15, wherein said geographical viewport zone comprises the circular geographic area that is enclosed in the rectangle geographic area that shows on the said client.
19. method as claimed in claim 18, wherein said geographical viewport zone have the big or small corresponding size with the said rectangle geographic area that on said client, shows.
20. method as claimed in claim 15 comprises
Confirm to inquire about corresponding keyword with said location finding; And
The geographic entity that identification and the said keyword in said location finding inquiry are complementary.
21. comprising from said location finding inquiry, method as claimed in claim 20, wherein definite said keyword remove punctuation mark and non-position word.
22. method as claimed in claim 20, wherein said keyword are included in one or more synonyms of the one or more words in the said location finding inquiry.
23. a search engine system comprises:
The device that is used for the receiving position search inquiry;
Be used to discern the device of the geographic entity that satisfies said location finding inquiry;
Be used for according to score value the geographic entity of being discerned being carried out rank to produce one group of device of the geographic entity of rank, said score value is at least in part based on the proximity of said geographic entity to the geographical viewport zone of client; And
Be used for providing result's device according to the geographic entity of said rank.
Applications Claiming Priority (4)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US76316806P | 2006-01-27 | 2006-01-27 | |
US60/763,168 | 2006-01-27 | ||
US86954906P | 2006-12-11 | 2006-12-11 | |
US60/869,549 | 2006-12-11 |
Related Parent Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN2007800106150A Division CN101410833B (en) | 2006-01-27 | 2007-01-26 | Geographic coding for location search queries |
Publications (2)
Publication Number | Publication Date |
---|---|
CN102354312A true CN102354312A (en) | 2012-02-15 |
CN102354312B CN102354312B (en) | 2014-11-05 |
Family
ID=37887978
Family Applications (2)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN2007800106150A Active CN101410833B (en) | 2006-01-27 | 2007-01-26 | Geographic coding for location search queries |
CN201110276324.4A Active CN102354312B (en) | 2006-01-27 | 2007-01-26 | Geographic coding for location search queries |
Family Applications Before (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN2007800106150A Active CN101410833B (en) | 2006-01-27 | 2007-01-26 | Geographic coding for location search queries |
Country Status (5)
Country | Link |
---|---|
EP (2) | EP2538356A1 (en) |
JP (1) | JP5325579B2 (en) |
CN (2) | CN101410833B (en) |
CA (1) | CA2640365C (en) |
WO (1) | WO2007087629A1 (en) |
Cited By (1)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN112115100A (en) * | 2019-06-20 | 2020-12-22 | 珠海金山办公软件有限公司 | Document searching method, system, storage medium and terminal |
Families Citing this family (19)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US7987195B1 (en) | 2008-04-08 | 2011-07-26 | Google Inc. | Dynamic determination of location-identifying search phrases |
US9092454B2 (en) * | 2008-04-22 | 2015-07-28 | Microsoft Technology Licensing, Llc | Discovering co-located queries in geographic search logs |
CN101661461B (en) * | 2008-08-29 | 2016-01-13 | 阿里巴巴集团控股有限公司 | Determine the method for core geographic information in document, system |
CN101546342B (en) * | 2009-05-08 | 2012-07-04 | 阿里巴巴集团控股有限公司 | Method and system for implementing search service |
JP2011124287A (en) | 2009-12-08 | 2011-06-23 | Sony Corp | Electric power generation volume estimating apparatus, electric power generation volume estimating system, electric power generation amount estimating method, and computer program |
US20120158712A1 (en) | 2010-12-16 | 2012-06-21 | Sushrut Karanjkar | Inferring Geographic Locations for Entities Appearing in Search Queries |
US8688366B2 (en) * | 2011-07-19 | 2014-04-01 | Navteq B.V. | Method of operating a navigation system to provide geographic location information |
US8806322B2 (en) * | 2011-11-28 | 2014-08-12 | Google Inc. | System and method for obtaining a structured address by geocoding unstructured address information |
EP2883152A4 (en) * | 2012-08-10 | 2016-03-16 | Nokia Technologies Oy | Method and apparatus for providing crowd-sourced geocoding |
US8965900B2 (en) * | 2012-09-14 | 2015-02-24 | Bentley Systems, Incorporated | Efficiently finding spatially scored best entities |
CA2906767A1 (en) * | 2013-03-15 | 2014-09-18 | The Dun & Bradstreet Corporation | Non-deterministic disambiguation and matching of business locale data |
CN104375992B (en) * | 2013-08-12 | 2018-01-30 | 中国移动通信集团浙江有限公司 | A kind of method and apparatus of address matching |
US20160132567A1 (en) * | 2014-11-12 | 2016-05-12 | Microsoft Corporation | Multi-search and multi-task in search |
CN106855868A (en) * | 2015-12-09 | 2017-06-16 | 北京奇虎科技有限公司 | The display methods and device of map search result |
JP7464462B2 (en) * | 2016-04-28 | 2024-04-09 | オナー デバイス カンパニー リミテッド | Human-computer interaction method and device |
JP6725693B2 (en) | 2016-04-28 | 2020-07-22 | 華為技術有限公司Ｈｕａｗｅｉ Ｔｅｃｈｎｏｌｏｇｉｅｓ Ｃｏ．，Ｌｔｄ． | Human-computer interaction method and apparatus thereof |
US11574074B2 (en) * | 2017-12-11 | 2023-02-07 | Digital Guardian Llc | Systems and methods for identifying content types for data loss prevention |
US11531779B2 (en) | 2017-12-11 | 2022-12-20 | Digital Guardian Llc | Systems and methods for identifying personal identifiers in content |
CN117435823B (en) * | 2023-12-19 | 2024-03-29 | 北京智网易联科技有限公司 | Space-time data service method based on grid coding and industrial Internet platform |
Citations (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
WO2001065410A2 (en) * | 2000-02-28 | 2001-09-07 | Geocontent, Inc. | Search engine for spatial data indexing |
US6321227B1 (en) * | 1998-02-06 | 2001-11-20 | Samsung Electronics Co., Ltd. | Web search function to search information from a specific location |
Family Cites Families (4)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
JP2000200282A (en) * | 1999-01-06 | 2000-07-18 | Seiko Epson Corp | Method and system for information retrieval and recording medium where information retrieving process program is recorded |
EP3367268A1 (en) * | 2000-02-22 | 2018-08-29 | Nokia Technologies Oy | Spatially coding and displaying information |
US7606798B2 (en) * | 2003-09-22 | 2009-10-20 | Google Inc. | Methods and systems for improving a search ranking using location awareness |
JP4153887B2 (en) * | 2004-03-19 | 2008-09-24 | 株式会社日立製作所 | Mobile navigation device and destination search method in mobile navigation device |
-
2007
- 2007-01-26 WO PCT/US2007/061133 patent/WO2007087629A1/en active Application Filing
- 2007-01-26 CA CA2640365A patent/CA2640365C/en active Active
- 2007-01-26 EP EP12179688A patent/EP2538356A1/en not_active Withdrawn
- 2007-01-26 EP EP07710328A patent/EP1979841A1/en not_active Withdrawn
- 2007-01-26 CN CN2007800106150A patent/CN101410833B/en active Active
- 2007-01-26 JP JP2008552594A patent/JP5325579B2/en active Active
- 2007-01-26 CN CN201110276324.4A patent/CN102354312B/en active Active
Patent Citations (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6321227B1 (en) * | 1998-02-06 | 2001-11-20 | Samsung Electronics Co., Ltd. | Web search function to search information from a specific location |
WO2001065410A2 (en) * | 2000-02-28 | 2001-09-07 | Geocontent, Inc. | Search engine for spatial data indexing |
Non-Patent Citations (2)
Title |
---|
MORIMOTO: "Extracting Spatial Knowledge from the Web", 《PROCEEDINGS OF THE 2003 SYMPOSIUM ON APPLICATIONS AND THE INTERNET》 * |
白玉琪: "空间信息搜索引擎研究", 《中国优秀博士学位论文数据库》 * |
Cited By (1)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN112115100A (en) * | 2019-06-20 | 2020-12-22 | 珠海金山办公软件有限公司 | Document searching method, system, storage medium and terminal |
Also Published As
Publication number | Publication date |
---|---|
CA2640365A1 (en) | 2007-08-02 |
CN102354312B (en) | 2014-11-05 |
CA2640365C (en) | 2015-03-17 |
JP5325579B2 (en) | 2013-10-23 |
CN101410833B (en) | 2011-09-28 |
EP1979841A1 (en) | 2008-10-15 |
CN101410833A (en) | 2009-04-15 |
EP2538356A1 (en) | 2012-12-26 |
WO2007087629A1 (en) | 2007-08-02 |
JP2009524893A (en) | 2009-07-02 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
CN101410833B (en) | Geographic coding for location search queries | |
US7747598B2 (en) | Geographic coding for location search queries | |
AU2007333558B2 (en) | Viewport-relative scoring for location search queries | |
US8463774B1 (en) | Universal scores for location search queries | |
US10949468B2 (en) | Indicators for entities corresponding to search suggestions | |
CN101313300B (en) | Local search | |
US9652474B2 (en) | Providing regional content by matching geographical properties | |
US7007228B1 (en) | Encoding geographic coordinates in a fuzzy geographic address | |
US9122703B1 (en) | Hierarchical category index navigational system | |
US20100070368A1 (en) | Registering advertisements on an electronic map | |
WO2010039593A2 (en) | Customized geographical location indexing | |
WO2009064996A2 (en) | Geocoding based on neighborhoods and other uniquely defined informal spaces or geographical regions | |
CN101350013A (en) | Method and system for searching geographical information | |
US20010021931A1 (en) | Organising information | |
US8495046B1 (en) | Encoding locations and using distances for resources | |
JP5000965B2 (en) | Area information provision method | |
US8555203B1 (en) | Stackable icons | |
KR100572751B1 (en) | Geographic information system based on web | |
CN106649813B (en) | Vertical domain knowledge base construction method based on environment perception and user feedback | |
JP2010003256A (en) | Method, apparatus and system for adjusting place name display mode | |
KR20010103149A (en) | Method for searching adjacency mutual on electron a map | |
CN113626668A (en) | Map-oriented news multi-scale visualization method | |
KR20010097566A (en) | Search method of internet using banner | |
KR20050053433A (en) | System and method for providing web documents in portal site by use of information registered by users in web site |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
C06 | Publication | ||
PB01 | Publication | ||
C10 | Entry into substantive examination | ||
SE01 | Entry into force of request for substantive examination | ||
C14 | Grant of patent or utility model | ||
GR01 | Patent grant | ||
CP01 | Change in the name or title of a patent holder | ||
CP01 | Change in the name or title of a patent holder |
Address after: American CaliforniaPatentee after: Google limited liability companyAddress before: American CaliforniaPatentee before: Google Inc. |