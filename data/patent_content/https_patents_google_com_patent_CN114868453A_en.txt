CN114868453A - Adding and modifying conditional configurations at a user device - Google Patents
Adding and modifying conditional configurations at a user device Download PDFInfo
- Publication number
- CN114868453A CN114868453A CN202080089500.0A CN202080089500A CN114868453A CN 114868453 A CN114868453 A CN 114868453A CN 202080089500 A CN202080089500 A CN 202080089500A CN 114868453 A CN114868453 A CN 114868453A
- Authority
- CN
- China
- Prior art keywords
- configuration
- base station
- cell
- conditional
- mn104a
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Pending
Links
- 238000000034 method Methods 0.000 claims abstract description 358
- 230000004044 response Effects 0.000 claims description 165
- 230000008569 process Effects 0.000 claims description 58
- 238000012545 processing Methods 0.000 claims description 54
- 238000004891 communication Methods 0.000 claims description 29
- 230000009977 dual effect Effects 0.000 claims description 17
- 238000012508 change request Methods 0.000 claims description 9
- 230000008859 change Effects 0.000 description 96
- 238000007792 addition Methods 0.000 description 69
- 230000005540 biological transmission Effects 0.000 description 22
- 238000005259 measurement Methods 0.000 description 22
- 230000004048 modification Effects 0.000 description 17
- 238000012986 modification Methods 0.000 description 17
- 101100150275 Caenorhabditis elegans srb-3 gene Proteins 0.000 description 11
- 238000010586 diagram Methods 0.000 description 11
- 238000002360 preparation method Methods 0.000 description 10
- 108091005487 SCARB1 Proteins 0.000 description 9
- 102100037118 Scavenger receptor class B member 1 Human genes 0.000 description 9
- 230000006870 function Effects 0.000 description 6
- 230000011664 signaling Effects 0.000 description 4
- 101001055444 Homo sapiens Mediator of RNA polymerase II transcription subunit 20 Proteins 0.000 description 3
- 102100026165 Mediator of RNA polymerase II transcription subunit 20 Human genes 0.000 description 3
- 230000009471 action Effects 0.000 description 3
- 238000005516 engineering process Methods 0.000 description 2
- 238000012423 maintenance Methods 0.000 description 2
- 101100150273 Caenorhabditis elegans srb-1 gene Proteins 0.000 description 1
- 241000700159 Rattus Species 0.000 description 1
- 238000001914 filtration Methods 0.000 description 1
- 230000036541 health Effects 0.000 description 1
- 238000012806 monitoring device Methods 0.000 description 1
- 238000012544 monitoring process Methods 0.000 description 1
- 238000013442 quality metrics Methods 0.000 description 1
Images
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W76/00—Connection management
- H04W76/10—Connection setup
- H04W76/15—Setup of multiple wireless link connections
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W36/00—Hand-off or reselection arrangements
- H04W36/0005—Control or signalling for completing the hand-off
- H04W36/0083—Determination of parameters used for hand-off, e.g. generation or modification of neighbour cell lists
- H04W36/00837—Determination of triggering parameters for hand-off
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W36/00—Hand-off or reselection arrangements
- H04W36/0005—Control or signalling for completing the hand-off
- H04W36/0055—Transmission or use of information for re-establishing the radio link
- H04W36/0061—Transmission or use of information for re-establishing the radio link of neighbour cell information
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W36/00—Hand-off or reselection arrangements
- H04W36/0005—Control or signalling for completing the hand-off
- H04W36/0055—Transmission or use of information for re-establishing the radio link
- H04W36/0069—Transmission or use of information for re-establishing the radio link in case of dual connectivity, e.g. decoupled uplink/downlink
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W36/00—Hand-off or reselection arrangements
- H04W36/34—Reselection control
- H04W36/36—Reselection control by user or terminal equipment
- H04W36/362—Conditional handover
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W76/00—Connection management
- H04W76/30—Connection release
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W76/00—Connection management
- H04W76/30—Connection release
- H04W76/34—Selective release of ongoing connections
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W88/00—Devices specially adapted for wireless communication networks, e.g. terminals, base stations or access point devices
- H04W88/08—Access point devices
- H04W88/085—Access point devices with remote components
Abstract
Base stations and User Equipment (UE) of the present disclosure implement techniques for managing conditional configurations that enable the UE to determine whether the UE should add a received configuration as a new configuration or instead use the received configuration to modify an existing configuration when the UE receives the conditional configuration from a base station of a RAN. In different embodiments, the RAN may provide the UE with a configuration identifier for this purpose, or may provide the UE with a complete list of conditional configurations each time the RAN configures the UE for a conditional procedure.
Description
The present disclosure relates generally to wireless communications, and more particularly to conditional procedures such as conditional handover and conditional assisted node addition procedures.
Background
This background description is provided to generally present the context of the disclosure. Work of the presently named inventors, to the extent it is described in this background section, as well as aspects of the description that may not otherwise qualify as prior art at the time of filing, are neither expressly nor impliedly admitted as prior art against the present disclosure.
In a telecommunications system, the Packet Data Convergence Protocol (PDCP) sublayer of the radio protocol stack provides services such as transport of user plane data, ciphering, integrity protection, and the like. For example, the PDCP layer, defined for the Evolved Universal Terrestrial Radio Access (EUTRA) radio interface (see 3GPP specification TS 36.323) and the New Radio (NR) (see 3GPP specification TS 38.323), provides ordering of Protocol Data Units (PDUs) in the uplink direction (from user equipment (also referred to as User Equipment (UE)) to the base station) and in the downlink direction (from the base station to the UE). In addition, the PDCP sublayer provides a Signaling Radio Bearer (SRB) and a Data Radio Bearer (DRB) to a Radio Resource Control (RRC) sublayer. In general, the UE and the base station may exchange RRC messages as well as non-access stratum (NAS) messages using SRBs, and may transport data on the user plane using DRBs.
The UE may use several types of SRBs and DRBs. When operating with Dual Connectivity (DC), the cells associated with the base station operating the Master Node (MN) define a Master Cell Group (MCG), while the cells associated with the base station operating as a Secondary Node (SN) define a Secondary Cell Group (SCG). So-called SRB1 resources carry RRC messages, which in some cases include NAS messages over a Dedicated Control Channel (DCCH), while SRB2 resources support RRC messages, which include recorded measurement information or NAS messages that also pass over the DCCH but have lower priority than SRB1 resources. More generally, the SRB1 and SRB2 resources allow the UE and MN to exchange MN-related RRC messages and SN-related embedded RRC messages, and may also be referred to as MCG SRBs. The SRB3 resource allows the UE and the SN to exchange RRC messages related to the SN and may be referred to as SCG SRB. The split SRB allows the UE to exchange RRC messages directly with the MN via lower layer resources of the MN and SN. Further, a DRB that terminates at the MN and uses only lower layer resources of the MN may be referred to as an MCG DRB, a DRB that terminates at the SN and uses only lower layer resources of the SN may be referred to as an SCG DRB, and a DRB that terminates at the MCG but uses lower layer resources of the MN, the SN, or both the MN and the SN may be referred to as a split DRB.
The 3GPP specification TS 37.340(v15.7.0) describes a procedure for a UE to add or change SNs in a DC scenario. These procedures involve messaging (e.g., RRC signaling and preparation) between Radio Access Network (RAN) nodes. This messaging typically results in latency, which in turn increases the probability of the SN addition or SN change procedure failing. These procedures, which do not involve the conditions checked at the UE, may be referred to as "immediate" SN addition and SN change procedures.
The UE may also perform handover procedures from one cell to another, whether in Single Connectivity (SC) or DC operation. Depending on the scenario, the UE may be handed over from a cell of a first base station to a cell of a second base station, or from a cell of a first Distributed Unit (DU) of a base station to a cell of a second DU of the same base station. The 3GPP specifications 36.300v15.6.0 and 38.300v15.6.0 describe handover procedures that include several steps (RRC signaling and preparation) between RAN nodes, which results in latency in the handover procedure and thus increases the risk of handover failure. This procedure, which does not involve the conditions checked at the UE, may be referred to as an "immediate" handover procedure.
Recently, "conditional" procedures (i.e., conditional SN addition/change and conditional switch) have been considered for SN addition/change and switch. Unlike the "immediate" procedures discussed above, these procedures do not add or change SNs, or perform handovers until the UE determines that the conditions are met. As used herein, the term "condition" may refer to a single detectable state or event (e.g., a particular signal quality metric exceeding a threshold), or a logical combination of such states or events (e.g., "condition a and condition B" or "(condition a or condition B) and condition C", etc.). Further, the term "condition" may be used herein to refer to a condition in an abstraction (e.g., signal quality is in a particular state), or to a condition configuration (e.g., a digital representation/expression of a condition that may be transmitted and stored, etc.).
To configure the conditional procedure, the RAN provides the conditions to the UE along with a configuration (e.g., a set of random access preambles, etc.) that will enable the UE to communicate with the appropriate base station or via the appropriate cell when the conditions are met. For example, for a conditional addition of a base station as a SN, the RAN provides the UE with a condition to be satisfied before the UE can add the base station as a SN and a configuration to enable the UE to communicate with the base station after the condition has been satisfied.
In some scenarios, the UE may store multiple configurations associated with different conditional candidate RAN nodes or different candidate cells. Furthermore, the UE may modify or release/remove these stored configurations. Currently, however, when the RAN sends the configuration for the conditional procedure to the UE, the UE cannot reliably and consistently determine whether the UE should modify the current configuration using the received configuration or should add the received configuration as a new configuration. Thus, the UE may be incorrectly configured at any given time (e.g., in a manner that does not conform to the expected network state of the RAN). Furthermore, the base station is not currently equipped with any suitable way to manage the configuration for the conditional processing. Both of these problems can lead to significant network inefficiencies (e.g., lower network capacity or average data rate, more radio link failures, etc.).
Disclosure of Invention
The base station and UE of the present disclosure implement techniques that enable the UE to determine whether the UE should (1) add a received configuration as a new configuration or instead (2) modify an existing configuration using the received configuration (i.e., modify a configuration that is already stored at the UE and has not been released by the UE) when the UE receives a conditional configuration from the base station of the RAN. As used herein, the term "conditional configuration" refers to a configuration that is associated with a condition to be satisfied before a UE can communicate with a candidate base station or via a candidate cell using the configuration. For example, using these techniques, the UE may determine whether the UE should add a new received configuration associated with a candidate SN (C-SN) as a new configuration or use the received configuration to modify another conditional configuration already stored at the UE. In other implementations and/or scenarios, the UE may determine whether the UE should add the received configuration associated with the candidate handover/target cell as a new configuration or alternatively use the received configuration to modify another conditional configuration already stored at the UE.
In some implementations, the RAN informs the UE whether the newly transmitted configuration is a new configuration or a change to an existing configuration by using the configuration identifier. After the RAN assigns a configuration identifier to a particular configuration and sends the identifier and configuration to the UE, the UE may examine the identifier to add or modify the configuration as appropriate. As used herein, and unless a more specific meaning is clear from the context of its use, "assigning" a configuration identifier may refer to an action of initially selecting an identifier (i.e., for a completely new configuration), or to a subsequent selection of a previously selected/used identifier (i.e., when the RAN attempts to modify an existing configuration). In various implementations, the configuration identifier may be an information element that the RAN also uses for other purposes (e.g., transaction ID, cell ID, or measurement identification), or may be an information element dedicated for the purpose of identifying/managing the configuration of conditions. The RAN may also use the configuration identifier to indicate to the UE which configurations should be released.
In other implementations, the RAN sends the full set of conditional configurations to the UE whenever the RAN decides to send the conditional configurations to the UE, and regardless of whether the conditional configurations are new configurations or changes to existing configurations (e.g., all conditional configurations that the RAN previously sent to the UE and have not indicated the UE to release). Thus, the UE may simply replace all existing configurations with all configurations in the received set, rather than having to determine whether the newly received configuration corresponds to (i.e., is intended to be changed to) a particular existing configuration.
One example implementation of these techniques is a method in a user device in communication with a base station. The method includes receiving, by processing hardware of a user device from a base station, (i) a configuration associated with a condition to be satisfied before the user device can communicate with a candidate base station or via a candidate cell using the configuration and (ii) a configuration identifier. The method also includes determining, by the processing hardware and based on the configuration identifier, whether the configuration corresponds to any pre-existing configuration stored in the user device. The method also includes (i) storing, by the processing hardware, the configuration as a new configuration in the user device or (ii) modifying, by the processing hardware, a pre-existing configuration already stored in the user device using the configuration based on whether the configuration corresponds to any pre-existing configuration stored in the user device.
Another example implementation of these techniques is a method in a user equipment configured to store a configuration for communicating with a candidate base station or via a candidate cell. The method includes receiving, by processing hardware of a user device, a conditional configuration set consisting of one or more configurations from a RAN. Each of the one or more configurations is associated with (i) a respective candidate base station or a respective candidate cell and (ii) a respective condition to be satisfied before the user device can communicate with the respective candidate base station or via the respective candidate cell according to a first type of conditional procedure. The method further comprises the following steps: in response to receiving the set of conditional configurations, replacing (i) all pre-existing configurations stored in the user equipment and associated with conditions to be met before the user equipment can communicate with the particular candidate base station or via the particular candidate cell according to the first type of conditional procedure with (ii) one or more configurations of the set of conditional configurations, regardless of whether any of the set of conditional configurations corresponds to any pre-existing configuration.
Another example implementation of these techniques is a method that includes determining, by processing hardware of a RAN, a configuration condition procedure that enables a user device to conditionally communicate with or via a candidate base station of the RAN. The method also includes assigning, by the processing hardware, a configuration identifier to a configuration associated with (i) the candidate base station or the candidate cell and (ii) a condition to be satisfied before the user device can communicate with the candidate base station or via the candidate cell using the configuration. The method also includes causing the user device to modify a pre-existing configuration already stored at the user device based on the configuration identifier, at least by sending the configuration and the configuration identifier to the user device (i) storing the configuration as a new configuration or (ii) using the configuration.
Another example implementation of these techniques is a method in a RAN that includes maintaining, by processing hardware of the RAN, a set of conditional configurations. The set includes all unreleased configurations associated with (i) the user device and (ii) conditions to be met before the user device may communicate with the respective candidate base station or via the respective candidate cell according to a first type of conditional procedure. The method also includes determining, by the processing hardware, to configure a first conditional procedure of a first type that enables the user device to conditionally communicate with or via a first candidate base station of the RAN. The method also includes adding, by the processing hardware, a first configuration to the set of conditional configurations, the first configuration being associated with (i) the first candidate base station or the first candidate cell and (ii) a condition to be satisfied before the user device can communicate with the first candidate base station or via the first candidate cell using the first configuration and according to a first type of conditional procedure. The method further comprises the following steps: after adding the first configuration, the user equipment is caused to replace (i) all pre-existing configurations stored in the user equipment and associated with a condition to be met before the user equipment can communicate with the particular candidate base station or via the particular candidate cell according to the first type of conditional procedure with (ii) all configurations in the set of conditional configurations at least by transmitting the set of conditional configurations to the user equipment.
Drawings
Fig. 1A and 1B are block diagrams of example systems in which a Radio Access Network (RAN) and User Equipment (UE) may implement techniques of the present disclosure for managing configurations associated with conditional handovers and/or conditional Secondary Node (SN) addition/change procedures;
fig. 1C is a block diagram of an example base station, where a Centralized Unit (CU) and a Distributed Unit (DU) may operate in the system of fig. 1A or fig. 1B;
FIG. 2 is a block diagram of an example protocol stack according to which the UE of FIG. 1A or FIG. 1B may communicate with the base station of FIG. 1A or FIG. 1B;
fig. 3A through 3C are example message sequences corresponding to scenarios and/or implementations in which the RAN and UE use a transaction ID as a configuration identifier for a conditional handover procedure;
fig. 4A and 4B are example message sequences corresponding to scenarios and/or implementations in which the RAN and UE use a cell ID as a configuration identifier for a conditional handover procedure;
fig. 5A through 5D are example message sequences corresponding to scenarios and/or implementations where the RAN and UE use dedicated configuration identifiers for conditional handover procedures;
fig. 6A through 6C are example message sequences corresponding to scenarios and/or implementations where the RAN and UE use a transaction ID as a configuration identifier for a conditional SN addition or SN change procedure;
fig. 7A through 7C are example message sequences corresponding to scenarios and/or implementations where the RAN and UE use a cell ID as a configuration identifier for a conditional SN addition or SN change procedure;
fig. 8A through 8F are example message sequences corresponding to scenarios and/or implementations of RAN and UE using a dedicated configuration identifier of a conditional SN addition or SN change procedure;
fig. 9A through 9C are example message sequences corresponding to scenarios and/or implementations in which the RAN and UE release the conditional configuration using a configuration identifier;
fig. 10A and 10B are example message sequences corresponding to scenarios and/or implementations in which the RAN provides the UE with a full set of conditional handover configurations;
11A-11D are example message sequences corresponding to scenarios and/or implementations in which a RAN provides a UE with a full set of conditional SN configurations;
FIG. 12 is a flow diagram depicting an example method implemented in a user device to maintain a correct set of conditional configurations using configuration identifiers;
fig. 13 is a flow diagram depicting an example method implemented in a RAN that uses a configuration identifier to facilitate maintaining a correct set of conditional configurations at a user device;
FIG. 14 is a flow diagram depicting an alternative example method implemented in a user device of maintaining a correct set of condition configurations; and
fig. 15 is a flow diagram depicting an alternative example method implemented in a RAN that facilitates maintaining a correct set of conditional configurations at a user device.
Detailed Description
Fig. 1A depicts an example wireless communication system 100 in which the conditional configuration management techniques of the present disclosure may be implemented. The wireless communication system 100 includes a UE102 and base stations 104A, 106B connected to a Core Network (CN) 110. The base stations 104A, 106B may be any suitable type or types of base stations, such as, for example, evolved node B (eNB), next generation eNB (ng-eNB), or 5G node B (gnb). As just one more specific example, base station 104A may be an eNB or a gNB, while base stations 106A and 106B may be gnbs.
In operation, the UE102 may use radio bearers (e.g., DRBs or SRBs) that terminate at different times at the MN (e.g., base station 104A) or the SN (e.g., base station 106A). The UE102 may apply one or more security keys when communicating in the uplink (from the UE102 to the base station) and/or downlink (from the base station to the UE 102) direction over a radio bearer.
The base station 104A includes processing hardware 130, which may include one or more general purpose processors (e.g., a Central Processing Unit (CPU)) and a computer readable memory storing machine readable instructions executable on the general purpose processor and/or a special purpose processing unit. The processing hardware 130 in the example implementation of fig. 1A includes a base station RRC controller 132 configured to manage or control RRC procedures and RRC configurations. For example, the base station RRC controller 132 may be configured to support RRC messaging associated with immediate and conditional handover procedures and/or to support necessary operations when the base station 104A is operating as a MN, as described below. Further, in some implementations and/or scenarios, base station RRC controller 132 may be responsible for maintaining (for UE102 and a number of other UEs not shown in fig. 1A) a current set of condition configurations in accordance with various implementations discussed below.
The base station 106A includes processing hardware 140, which may include one or more general purpose processors (e.g., CPUs) and a computer readable memory storing machine readable instructions executable on the general purpose processors and/or special purpose processing units. The processing hardware 140 in the example implementation of fig. 1A includes a base station RRC controller 142 configured to manage or control RRC procedures and RRC configurations. For example, the base station RRC controller 142 may be configured to support RRC messaging associated with immediate and conditional handover procedures and/or to support necessary operations when the base station 106A operates as a SN or candidate SN (C-SN), as described below. Further, in some implementations and/or scenarios, base station RRC controller 142 may be responsible for maintaining (for UE102 and a number of other UEs not shown in fig. 1A) a current set of condition configurations in accordance with various implementations discussed below. Although not shown in fig. 1A, base station 106B may include processing hardware similar to processing hardware 140 of base station 106A.
The UE102 includes processing hardware 150, which may include one or more general-purpose processors (e.g., CPUs) and a computer-readable memory storing machine-readable instructions executable on the general-purpose processors and/or special-purpose processing units. The processing hardware 150 in the example implementation of fig. 1A includes a UE RRC controller 152 configured to manage or control RRC procedures and RRC configurations. For example, the UE RRC controller 152 may be configured to support RRC messaging associated with immediate and conditional handover and/or secondary node addition/modification procedures, and may also be responsible for maintaining the current set of conditional configurations for the UE102 (e.g., adding, releasing, or modifying conditional configurations as needed) in accordance with any of the implementations discussed below.
In general, the wireless communication system 100 may include any suitable number of base stations that support NR cells and/or EUTRA cells. More specifically, EPC 111 or 5GC 160 may be connected to any suitable number of base stations supporting NR cells and/or EUTRA cells. For example, additional base stations are considered in the immediate and conditional handover scenarios discussed below with reference to fig. 1B. Although the examples below specifically refer to specific CN types (EPC, 5GC) and RAT types (5G NR and EUTRA), the techniques of the present disclosure may also be generally applicable to other suitable radio access and/or core network technologies, such as, for example, sixth generation (6G) radio access and/or 6G core network or 5G NR-6G DC.
As described above, the wireless communication system 100 may support various procedures (e.g., handover, SN addition, etc.) and modes of operation (e.g., SC or DC). Example operations of various processes that may be implemented in the wireless communication system 100 will now be described.
In some implementations, the wireless communication system 100 supports immediate handover between cells. In one scenario, for example, the UE102 is initially connected to the base station 104A, and the base station 104A later performs preparation for immediate handover with the base station 106A via an interface (e.g., X2 or Xn). In this scenario, base stations 104A and 106A operate as a source base station and a target base station, respectively. In preparation for handover, the source base station 104A sends a handover request message to the target base station 106A. In response, the target base station 106A includes the immediate handover command message in the handover request confirm message and sends the handover request confirm message to the source base station 104A. Then, in response to receiving the handover request confirm message, the source base station 104A sends a handover command message to the UE 102.
Upon receiving the immediate handover command message, the UE102 immediately reacts to the immediate handover command by attempting to connect to the target base station 106A. To connect to the target base station 106A, the UE102 may perform a random access procedure with the target base station 106A and then send a handover complete message (after gaining access to the control channel) (i.e., in response to an immediate handover command) to the target base station 106A via the cell of the base station 106A.
In some implementations, the wireless communication system 100 also supports conditional handovers. In one scenario, for example, the UE102 is initially connected to the base station 104A, and the base station 104A later performs a first conditional handover preparation procedure with the base station 106A via an interface (e.g., X2 or Xn) to prepare for a potential handover of the UE102 to the base station 106A. In this scenario, base stations 104A and 106A operate a source base station and a target base station, respectively. In a first conditional handover preparation procedure, the source base station 104A sends a handover request message to the candidate base station 106A. In response, the candidate base station 106A includes the first conditional handover command message in a handover request confirm message and sends the handover request confirm message to the source base station 104A. Then, in response to receiving the handover request confirm message, the source base station 104A sends a first conditional handover command message to the UE 102.
Upon receiving the first conditional handover command message, the UE102 does not immediately react to the first conditional handover command message by attempting to connect to the candidate base station 106A. Instead, the UE102 connects to the candidate base station 106A according to the first conditional handover command message only if the UE102 determines that the first condition for handing over to the candidate cell 126A of the candidate base station 106A is satisfied. The base station 106A provides the configuration for the candidate cell 126A (i.e., the configuration that the UE102 may use to connect with the base station 106A via the candidate cell 126A) in the first conditional handover command message.
Until the first condition is met, the UE102 is not connected to the candidate base station 106A. In other words, the candidate base station 106A is not yet connected to and serving the UE 102. In some implementations, the first condition may be that the signal strength/quality as measured by the UE102 on the candidate cell 126A of the candidate base station 106A is sufficiently "good". For example, the first condition may be satisfied if one or more measurements obtained by the UE102 (when performing measurements on the candidate cell 126A) are above a threshold configured by the source base station 104A, or above a predetermined or preconfigured threshold. If the UE102 determines that the first condition is satisfied, the candidate base station 106A becomes the target base station 106A for the UE102, and the UE102 attempts to connect to the target base station 106A. To connect to the target base station 106A, the UE102 may perform a random access procedure with the target base station 106A and then send a first handover complete message (after gaining access to the control channel) to the target base station 106A via the candidate cell 126A. After the UE102 successfully completes the random access procedure and/or sends the first handover complete message, the target base station 106A becomes the source base station 106A of the UE102 and the UE102 starts to communicate data with the source base station 106A.
In some implementations and/or scenarios, the conditional switch may occur in more than one candidate cell supported by the candidate base station 106A (e.g., cell 126A and another cell of the base station 106A not shown in fig. 1A). In one such scenario, in addition to the configuration of candidate cell 126A, base station 106A may also provide the configuration of additional candidate cells for base station 106A in the first conditional handover command message. UE102 may then monitor whether additional candidate cells for candidate base station 106A satisfy the second condition while also monitoring whether candidate cell 126A satisfies the first condition. The second condition may be the same as or different from the first condition.
In another scenario, base station 104A also performs a second conditional handover preparation procedure with base station 106A via an interface (e.g., X2 or Xn) to prepare for a potential handover of UE102 to base station 106A in a procedure similar to that described above. However, in this scenario, the base station 104A also sends a second conditional handover command message that the base station 104A receives from the candidate base station 106A to the UE102 for potential handover in preparation for the second conditional handover. The base station 106A may provide the configuration of additional candidate cells (not shown in fig. 1A) in the second handover command message. The UE102 may monitor whether additional candidate cells of the candidate base station 106A satisfy the second condition. The second condition may be the same as or different from the first condition.
In some implementations, the wireless communication system 100 supports DC operation, including SN addition and SN change procedures. In one scenario, for example, after UE102 connects to base station 104A, base station 104A may perform an immediate SN addition procedure to add base station 106A as an auxiliary node, thereby configuring UE102 to operate in DC with base stations 104A and 106A. At this time, base stations 104A and 106A operate as MN and SN, respectively. Later, while UE102 is still in DC with MN104A and SN106A, MN104A can perform an immediate SN change procedure to change the SN of UE102 from base station 106A (which can be referred to as a source SN or S-SN) to base station 106B (which can be referred to as a target SN or T-SN).
In other scenarios, base station 104A may perform a conditional SN addition process to configure base station 106A as a candidate SN (C-SN) for UE102 when UE102 is in Single Connectivity (SC) with base station 104A, or when UE102 is in DC with base stations 104A and 106B, and before UE102 has connected to C-SN 106A. In this case, base stations 104A and 106A act as the MN and C-SN, respectively, for UE 102. When UE102 receives the configuration of C-SN106A, UE102 is not connected to C-SN106A unless and until UE102 detects that the corresponding condition is satisfied. If UE102 determines that the condition is satisfied, UE102 connects to C-SN106A such that C-SN106A becomes SN106A for UE 102.
In some implementations, the condition may be that the signal strength/quality as measured by UE102 on the candidate primary-secondary cell (C-PSCell) of C-SN106A is sufficiently "good". For example, the first condition may be satisfied if one or more measurement results obtained by the UE102 (when performing measurements on the C-PSCell) are above a threshold configured by the MN104A, or above a predetermined or preconfigured threshold. If UE102 determines that the first condition is satisfied, UE102 may perform a random access procedure with C-SN106A to connect to C-SN 106A. Upon successful completion of the random access procedure by UE102, base station 106A becomes the SN of UE102 and the C-PSCell (e.g., cell 126A) becomes the PSCell of UE 102. SN106A may then begin transmitting data with UE 102.
Another scenario involves a condition PSCell change. In this scenario, UE102 is initially in DC with MN104 (via a primary cell (PCell)) and SN106A (via a PSCell, not shown in fig. 1A, that is different from cell 126A). SN106A may provide UE102 with the configuration of C-PSCell 126A. If UE102 is configured as a Signaling Radio Bearer (SRB) that allows RRC messages to be exchanged with SN106A (e.g., SRB3), SN106A may send the configuration of C-PSCell 126A to UE102 directly via the SRB or via MN 104. For example, SN106A may send the configuration in response to one or more measurements received from UE102 via SRB or in response to one or more measurements obtained by SN106A from measurements of signals received from UE 102.
In contrast to the immediate PSCell change case discussed above, upon receiving the configuration of C-PSCell 126A, UE102 does not immediately disconnect from the PSCell and attempt to connect to C-PSCell 126A. Instead, UE102 is not connected to C-PSCell 126A until UE102 determines that a certain condition is satisfied. When UE102 determines that the condition has been met, UE102 connects to C-PSCell 126A, such that C-PSCell 126A begins operating as PSCell 126A of UE 102. In some implementations, the UE102 disconnects from the PSCell in order to connect to C-PSCell 126A.
In some scenarios, the condition associated with a conditional SN addition or a conditional PSCell change may be that the signal strength/quality as measured by UE102 on the C-PSCell of C-SN106A exceeds a certain threshold or otherwise corresponds to an acceptable measurement. For example, UE102 may determine that the condition is satisfied when one or more measurements obtained by UE102 on C-PSCell 126A are above a threshold configured by MN104 or C-SN106A or above a predetermined or preconfigured threshold. When UE102 determines that this condition is satisfied, UE102 may perform a random access procedure on C-PSCell 126A and with C-SN106A to connect to C-SN 106A. When the UE102 successfully completes the random access procedure on C-PSCell 126A, C-PSCell 126A becomes the PSCell 126A of the UE 102. C-SN106A may then begin transmitting data (user plane data and/or control plane data) with UE102 over PSCell 126A.
In different configurations or scenarios of the wireless communication system 100, the base station 104A may operate as a primary enb (menb) or a primary gnb (mgnb), and the base station 106A or 106B may be implemented as a secondary gnb (SgNB) or a candidate SgNB (C-SgNB). The UE102 may communicate with the base station 104A and the base stations 106A or 106B via the same Radio Access Technology (RAT), such as EUTRA or NR, or via different RATs. If base station 104A is a MeNB and base station 106A is an SgNB, UE102 may be in EUTRA-NR DC (EN-DC) with the MeNB and the SgNB. In this scenario, MeNB 104A may or may not configure base station 106B as a C-SgNB to UE 102. When base station 104A is an MeNB for UE102 and base station 106A is a C-SgNB for UE102, UE102 may be in SC with the MeNB. In this scenario, the MeNB 104 may or may not configure the base station 106B as another C-SgNB to the UE 102.
In some cases, the MeNB, SeNB, or C-SgNB may be implemented as ng-eNB instead of eNB. When base station 104A is the master NG-eNB (Mng-eNB) and base station 106A is the SgNB, UE102 may be in the Next Generation (NG) EUTRA-NR DC (NGEN-DC) with the Mng-eNB and the SgNB. In this scenario, MeNB 104A may or may not configure base station 106B as a C-SgNB to UE 102. When base station 104A is a Mng-NB for UE102 and base station 106A is a C-SgNB for UE102, UE102 may be in SC with the Mng-NB. In this scenario, the Mng-eNB 104A may or may not configure the base station 106B as another C-SgNB to the UE 102.
When base station 104A is MgNB and base station 106A is SgNB, UE102 may be in NR-NR DC (NR-DC) with MgNB and SgNB. In this scenario, MeNB 104A may or may not configure base station 106B as a C-SgNB to UE 102. When base station 104A is a MgNB for UE102 and base station 106A is a C-SgNB for UE102, UE102 may be in SC with the MgNB. In this scenario, MgNB 104A may or may not configure base station 106B as another C-SgNB to UE 102.
When base station 104A is MgNB and base station 106A is a secondary ng-eNB (Sng-eNB), UE102 may be in NR-EUTRA DC (NE-DC) with MgNB and Sng-eNB. In this scenario, MgNB 104A may or may not configure base station 106B as a C-Sng-eNB to UE 102. When base station 104A is a MgNB for UE102 and base station 106A is a candidate Sng-eNB (C-Sng-eNB) for UE102, UE102 may be in SC with the MgNB. In this scenario, MgNB 104A may or may not configure base station 106B as a C-Sng-eNB to UE 102.
Fig. 1B illustrates another implementation of the wireless communication system 100, in which the CN 110 is connected to a base station 104B in addition to the base stations 104A, 106B. Base station 104B may be similar to base station 104A as discussed above with reference to fig. 1A, and may also be similar to base stations 106A and/or 106B. Base station 104B supports cell 124B. Cells 124B and 124A may partially overlap such that UE102 may detect or measure signals from both base station 104B and base station 104A while in a fixed location. In some implementations, the base stations 104A, 104B, 106A, and/or 106B support one or more additional cells not shown in fig. 1B. The base stations 104A, 104B, 106A, 106B may support an immediate handover, a conditional handover, an immediate SN addition/change procedure, and/or a conditional SN addition/change procedure, such as those discussed above and in further detail below.
Fig. 1C depicts an example distributed implementation of any one or more of the base stations 104A, 104B, 106A, 106B. In this implementation, a base station 104A, 104B, 106A, or 106B includes a Centralized Unit (CU)172 and one or more Distributed Units (DUs) 174. CU 172 comprises processing hardware, such as one or more general purpose processors (e.g., CPUs) and computer readable memory storing machine readable instructions executable on the general purpose processors and/or special purpose processing units. For example, CU 172 may include processing hardware 130 or 140 of FIG. 1A. The processing hardware may include a base station RRC controller (e.g., controller 142) configured to manage or control one or more RRC configurations and/or RRC procedures when a base station (e.g., base station 106A) operates as a SN or a candidate SN (C-SN).
Each of DUs 174 also includes processing hardware, which may include one or more general-purpose processors (e.g., CPUs) and a computer-readable memory storing machine-readable instructions executable on the one or more general-purpose processors and/or special-purpose processing units. For example, the processing hardware may include a Medium Access Control (MAC) controller configured to manage or control one or more MAC operations or procedures (e.g., random access procedures) and a Radio Link Control (RLC) controller configured to manage or control one or more RLC operations or procedures when a base station (e.g., base station 106A) operates as a MN, SN, or C-SN. The processing hardware may also include a physical layer controller configured to manage or control one or more physical layer operations or processes.
Fig. 2 illustrates, in a simplified manner, an example radio protocol stack 200 according to which the UE102 may communicate with an eNB/ng-eNB or a gNB (e.g., one or more of the base stations 104A, 104B, 106A, 106B). In the example stack 200, a physical layer (PHY)202A of EUTRA provides transport channels to an EUTRA MAC sublayer 204A, which in turn provides logical channels to an EUTRA rlc sublayer 206A. The EUTRA RLC sublayer 206A, in turn, provides RLC channels to the EUTRA PDCP sublayer 208 and, in some cases, to the NR PDCP sublayer 210. Similarly, NR PHY 202B provides transport channels to NR MAC sublayer 204B, which in turn provides logical channels to NR RLC sublayer 206B. The NR RLC sublayer 206B in turn provides the NR PDCP sublayer 210 with RLC channels. In some implementations, the UE102 supports both EUTRA and NR stacks as shown in fig. 2 to support handover between EUTRA and NR base stations and/or to support DC over the EUTRA and NR interfaces. Further, as illustrated in fig. 2, the UE102 may support layering of the NR PDCP sublayer 210 on the EUTRA RLC sublayer 206A.
The EUTRA PDCP sublayer 208 and the NR PDCP sublayer 210 receive packets that may be referred to as Service Data Units (SDUs) (e.g., from an Internet Protocol (IP) layer layered directly or indirectly on the PDCP layer 208 or 210) and output packets that may be referred to as Protocol Data Units (PDUs) (e.g., to the RLC layer 206A or 206B). For simplicity, this disclosure refers to both SDUs and PDUs as "packets," except that the differences between SDUs and PDUs are relevant.
For example, on the control plane, the EUTRA PDCP sublayer 208 and the NR PDCP sublayer 210 may provide SRBs to exchange RRC messages. On the user plane, the EUTRA PDCP sublayer 208 and the NR PDCP sublayer 210 may provide DRBs to support data exchange.
In a scenario where the UE102 operates in EUTRA/NR DC (EN-DC), where the base station 104A operates as MeNB and the base station 106A operates as SgNB, the wireless communication system 100 may provide the UE102 with MN terminated bearers using the EUTRA PDCP sublayer 208 or MN terminated bearers using the NR PDCP sublayer 210. In various scenarios, the wireless communication system 100 may also provide the UE102 with SN terminated bearers using only the NR PDCP sublayer 210. The MN terminating bearer may be an MCG bearer or a split bearer. The SN terminated bearer may be an SCG bearer or a split bearer. The MN terminating bearer may be an SRB (e.g., SRB1 or SRB2) or a DRB. The SN terminated bearer may be an SRB or a DRB.
Fig. 3 through 11 illustrate message sequences between UE102 and various base stations of the RAN, including base stations 104A, 106A, and/or 106B, for various scenarios and implementations related to conditional configuration management.
In particular, fig. 3-5 correspond to a Conditional Handover (CHO) scenario in which the wireless communication system 100 uses a configuration identifier to track candidate cell configurations, fig. 6-8 correspond to a conditional SN addition/change scenario in which the wireless communication system 100 uses a configuration identifier to track candidate SN configurations, and fig. 9 (i.e., 9A-9C) correspond to a scenario in which the wireless communication system 100 uses a configuration identifier to release a conditional configuration (for CHO or SN addition/change) at the UE 102.
Fig. 10 and 11 correspond to alternative implementations in which the RAN of wireless communication system 100 provides a full set of conditional handover configurations to UE102 to avoid any uncertainty (at UE 102) with respect to the current full configuration list, where fig. 10 corresponds to a CHO scenario and fig. 11 corresponds to a conditional SN addition or change scenario.
Referring first to fig. 3A through 3C, a conditional switch scenario is shown in which the configuration identifier for managing/tracking the configuration is a transaction ID.
In fig. 3A, in a conditional switch scenario 300A, base station 104A operates as the MN of UE102, while base station 106A operates as a candidate MN (C-MN) for UE 102. While the various conditional handover scenarios discussed herein (with respect to fig. 3A-3C and other figures) refer to the source base station as the MN and the candidate or target base station as the candidate or target MN, it should be understood that in other scenarios, base station 104A may instead be the base station operating with UE102 in the SC and base station 106A may instead be the candidate base station, which itself will operate with UE102 in the SC if a handover to base station 106A should occur.
Initially, the UE102 communicates 302A data (e.g., Uplink (UL) data PDUs and/or Downlink (DL) data PDUs) with the MN 104A. The MN104A then determines 310A at some point to configure a conditional handover to a candidate cell (e.g., a candidate PCell) of the UE102, e.g., blindly or in response to detecting a suitable event. For example, the determination 310A may occur in response to the MN104A receiving one or more measurements from the UE102 that are above (or below) one or more predetermined thresholds or computing a filtering result (from the measurements) that is above (or below) a predetermined threshold. In another example, a suitable event may be the UE102 moving towards the C-MN 106A. In yet another example, a suitable event may be one or more measurements above (or below) one or more threshold predetermined thresholds that MN104A generates/obtains based on measurements of signals received from UE 102.
After determining 310A to configure the conditional switch, MN104A assigns 320A specific transaction identifier or identification (transaction ID) to the conditional switch, or equivalently, to the configuration (in the CHO command) associated with the conditional switch. In the depicted scenario, the assigned identifier is "transaction ID 1". As described above, as used herein, (and unless more specific meaning is clear from the context of its use), "assigning" a configuration identifier may refer to an action of initially selecting an identifier (i.e., for a completely new configuration), or to a subsequent selection of a previously selected/used identifier (i.e., when attempting to modify an existing configuration). Thus, depending on the scenario, the MN104A may select the transaction ID1 because the MN104A intends to introduce a new configuration and the transaction ID1 has not been used for any conditional configuration currently assigned to the UE102, or because the MN104A intends to modify an existing configuration to which the MN104A (or possibly another network node) previously assigned an identifier transaction ID 1.
In response to determining 310A, and after assigning 320A transaction ID1, MN104A sends 326A handoff request message including transaction ID1 to C-MN 106A. The transaction ID may be an integer or other value typically used to identify a particular RRC procedure (transaction), e.g., as specified in 3GPP TS 36.331 or 38.331. In response to the handover request message, C-MN106A includes the assigned transaction ID (transaction ID1) in the CHO command and the CHO command in the handover request acknowledge message of UE 102. The C-MN106A sends 330A handover request acknowledge message to the MN104A in response to the handover request message. The CHO command includes one or more configurations for a first candidate cell of C-MN106A, which may be referred to as a candidate PCell (C-PCell). The configuration includes information that enables the UE102 to communicate with the first candidate cell if the corresponding condition is satisfied. The CHO command, including the candidate cell configuration and transaction ID1, is shown in fig. 3A as "CHO command 1".
MN104A sends 334A CHO command 1 (including transaction ID1) to UE 102. The UE102 identifies the transaction ID and adds or modifies 340A configuration based on its value (transaction ID 1). That is, the UE102 adds 340A CHO command 1 as a new CHO command or uses CHO command 1 to modify 340A an existing CHO command already stored at the UE102 (i.e., modify at least a portion of the configuration in the CHO command already stored in the memory of the UE 102). In detail, with the CHO command 1334A received, the UE102 recognizes the transaction ID to add the CHO command or modify the CHO command stored in the UE 102. If the UE102 determines that the transaction ID1 has been previously used for the stored CHO command (i.e., the transaction ID1 is associated with the stored CHO command), the UE102 modifies the stored CHO command with the configuration of CHO command 1. In some cases, the UE102 replaces the stored CHO command with CHO command 1. In other cases, the UE102 replaces only a subset of the configuration parameters in the stored CHO command with one or more configuration parameters in CHO command 1. As used herein, "modifying" a configuration may refer to replacing the entire preexisting configuration, or only a subset of the preexisting configuration. If UE102 instead determines that transaction ID1 is a new transaction ID, UE102 stores CHO command 1 as a new CHO command.
In some scenarios, 310A through 340A may be repeated for additional conditional switches and CHO commands. For example, MN104A may later assign "transaction ID 2" to "CHO command 2" received by UE102 (e.g., after another transmission similar to transmission 334A). UE102 may then store CHO command 2 as the new configuration (if transaction ID2 is different from transaction ID1 and not for any other CHO commands already stored at UE102 and not yet released), or use CHO command 2 to replace a portion or all of the pre-existing (i.e., already stored and not released) CHO commands that also include transaction ID2 (or are otherwise associated with transaction ID 2).
In one implementation and scenario, after the UE102 adds 340A CHO command 1 or modifies 340A CHO command using CHO command 1, and before the UE102 releases the corresponding configuration, the UE102 determines 360A that conditions for handover to a particular candidate cell of the C-MN106A are satisfied by the UE102, and in response, initializes 366A random access procedure on the particular candidate cell. In the depicted scenario, the particular candidate cell is the cell for which MN104A determines 310A to configure conditional handover.
The UE102 then performs 370A random access procedure with the C-MN106A via the candidate cell according to the configuration of CHO command 1 (e.g., random access preamble, etc.), and sends 376A CHO complete message including the transaction ID1 to the C-MN106A via the candidate cell during or after the random access procedure. If the UE102 instead determines 360A that the conditions of a different candidate cell are met, the UE102 performs 370A random access procedure with the C-MN106A (or possibly another base station) via the other candidate cell according to the corresponding CHO command/configuration. Operations 360A, 366A, and 370A and transmission 376A are collectively referred to in fig. 3A as process 380A.
In some implementations, the MN104A may indicate to the C-MN106A in a handover request message that the base station 106A is being requested for the purpose of conditional handover of the UE102 (i.e., is requested to be the C-MN of the UE 102).
In one implementation, the CHO command (e.g., CHO command 1) contains information specifying the conditions for conditional switching (i.e., the condition configuration for the conditions). The MN104A can generate an RRC container message (without separate conditional configuration) including the CHO command and send the RRC container message to the UE102 at event 334A. Alternatively, the handover request confirm message and the CHO command may not contain a conditional configuration, and the MN104A generates/configures the conditional configuration. In this implementation, the MN104A generates an RRC container message including the CHO command and the condition configuration and sends the RRC container message to the UE102 at event 334A. In some implementations, the UE102 sends an RRC container response message to the MN104A in response to the RRC container message.
In some implementations, the CHO command may include one or more cell group configuration (CellGroupConfig) Information Elements (IEs) that configure one or more candidate cells. For example, the CHO command may include CellGroupConfig configuring a specific candidate cell. In another example, the CHO command may include more than one CellGroupConfig IE that configures one or more candidate cells. For example, the CellGroupConfig IE may be defined in 3GPP TS 38.331. In other implementations, the CHO command is a rrcreeconfiguration message and the CHO completion message is a rrcreeconfiguration complete message, as defined in 3GPP TS 38.331.
In some implementations, the CHO command may include one or more RRCConnectionReconfiguration-r 8-IEs that configure one or more candidate cells. For example, the CHO command may include RRCConnectionReconfiguration-r8-IE that configures a particular candidate cell. In another example, the CHO command may include more than one RRCConnectionReconfiguration-r8-IE configuring one or more candidate cells. For example, RRCConnectionReconfiguration-r8-IE may be defined in 3GPP TS 36.331. In other implementations, the CHO command is an RRCConnectionReconfiguration message, as defined in 3GPP TS 36.331. In other implementations, the CHO command may include one or more IE groups that configure one or more candidate cells. For example, each group may include a MobilityControlInfo IE, a RadioResourceConfigDedicated IE, and a securityconfho IE.
In fig. 3B, in the conditional switch scenario 300B, the base station 104A again operates as the MN of the UE102, and the base station 106A again operates as the C-MN of the UE 102. Initially, the UE102 communicates 302B data (e.g., UL data PDUs and/or DL data PDUs) with the MN 104A. The MN104A then determines 310B conditional handover to a candidate cell (e.g., candidate PCell) of the UE102 at some point, e.g., blindly or in response to detecting a suitable event (as discussed above with reference to fig. 3A).
In response to the determination 310B, the MN104A sends 326B a handoff request message to the C-MN 106A. And after receiving the handoff request message, MN104A assigns 320A transaction ID in fig. 3A, and C-MN106A assigns 320B transaction ID in fig. 3B. Assignment 320B may be otherwise similar to assignment 320A, and the assigned transaction ID may be, for example, any of the transaction IDs discussed above with reference to fig. 3A.
In response to the handover request message, and after assigning 320B identifier "transaction ID 1", C-MN106A includes transaction ID1 in a CHO command ("CHO command 1") and the CHO command in a handover request acknowledge message for UE 102. The C-MN106A sends 330B a handover request acknowledge message to the MN104A in response to the handover request message. CHO command 1 may be similar to CHO command 1 discussed above with reference to fig. 3A.
MN104A sends 334B CHO command 1 (including transaction ID1) to UE 102. The UE102 identifies the transaction ID and adds or modifies 340B configuration based on its value (transaction ID1), e.g., as discussed above with reference to fig. 3A. In some scenarios, 310B through 340B may be repeated for additional conditional switches and CHO commands, as discussed above.
In one implementation and scenario, after the UE102 adds 340B CHO command 1 or modifies 340B CHO command using CHO command 1, and before the UE102 releases the corresponding configuration, the UE102 determines in process 380B that the conditions for handing over to the particular candidate cell of the C-MN106A are satisfied, and in response, initializes and performs a random access procedure on the particular candidate cell. For example, the process 380B may be similar to the process 380A of fig. 3A.
As discussed above with reference to fig. 3A, in one implementation, a CHO command (e.g., CHO command 1) contains information specifying a condition for conditional switching (i.e., a condition configuration for the condition). The MN104A can generate an RRC container message including the CHO command and send the CHO command to the UE102 at event 334B. Alternatively, the handover request confirm message and the CHO command may not contain the conditional configuration, and the MN104A generates/configures the conditional configuration. In this implementation, the MN104A generates an RRC container message including the CHO command and the condition configuration, and sends the RRC container message to the UE102 at event 334B. In some implementations, the UE102 sends an RRC container response message to the MN104A in response to the RRC container message.
In fig. 3C, the base station 104A again operates as the MN for the UE102 in the conditional switching scenario 300C. Initially, the UE102 communicates 302C data (e.g., UL data PDUs and/or DL data PDUs) with the MN 104A. The MN104A then determines 310C a conditional handover to configure to a candidate cell (e.g., a candidate PCell) of the UE102 at some point, e.g., blindly or in response to detecting a suitable event (as discussed above with reference to fig. 3A).
In scenario 300C, and unlike scenarios 300A and 300B, the candidate cell is another cell of the same MN104A, and inter-base station messaging may not be required for conditional handovers. Thus, after the MN104A assigns 320C the configuration identifier "transaction ID 1" (e.g., in a manner similar to the assignment 320A of fig. 3A), the MN104A generates a CHO command ("CHO command 1") including the transaction ID1 and sends 334C the CHO command to the UE 102. The CHO command 1 and transaction ID1 may be similar to the CHO command 1 and transaction ID1 discussed above with reference to fig. 3A.
Upon receiving the CHO command 1, the UE102 identifies the transaction ID and adds or modifies 340C configuration based on its value (transaction ID1), e.g., as discussed above with reference to fig. 3A. In some scenarios, 310C through 340C may be repeated for additional conditional switches and CHO commands, as discussed above.
In one implementation and scenario, after the UE102 adds 340C CHO command 1 or modifies 340C CHO command using CHO command 1, and before the UE102 releases the corresponding configuration, the UE102 determines 361C that conditions for handover to a particular candidate cell of the MN104A are satisfied, and in response, initializes 367C random access procedures on the particular candidate cell. In the depicted scenario, the particular candidate cell is the cell for which MN104A determines 310C to configure conditional handover.
Then, the UE102 performs 371C a random access procedure with the MN104A via the candidate cell according to the configuration of the CHO command 1 (e.g., random access preamble, etc.), and transmits 377C a CHO complete message including the transaction ID1 to the MN104A via the candidate cell during or after the random access procedure. If the UE102 instead determines 361C that the conditions of a different candidate cell (of the MN104A or another base station) are fulfilled, the UE102 performs 371C random access procedure with the MN104A or other base station via the other candidate cell according to the corresponding CHO command/configuration. Operations 361C, 367C, and 371C and sending 377C are collectively referred to in fig. 3C as process 381C.
As discussed above with reference to fig. 3A, in one implementation, a CHO command (e.g., CHO command 1) contains information specifying a condition for conditional switching (i.e., a condition configuration for the condition). The MN104A can generate an RRC container message including the CHO command and send the CHO command to the UE102 at event 334C. In this implementation, the MN104A generates an RRC container message including the CHO command and the condition configuration, and sends the RRC container message to the UE102 at event 334C. In some implementations, the UE102 sends an RRC container response message to the MN104A in response to the RRC container message.
Referring next to fig. 4A and 4B, a conditional handover scenario is shown in which the configuration identifier for the management/tracking configuration is a cell ID.
In fig. 4A, in a conditional switch scenario 400A, base station 104A operates as the MN of UE102 and base station 106A operates as the C-MN of UE 102. Initially, the UE102 communicates 402A data (e.g., UL data PDUs and/or DL data PDUs) with the MN 104A. The MN104A then determines 410A conditional handover configured to a candidate cell (e.g., candidate PCell) of the UE102 at some point, e.g., blindly or in response to detecting a suitable event (as discussed above with reference to fig. 3A).
After determining 410A, MN104A assigns 420A cell ID to the conditional configuration. Assignment 420A may be similar to assignment 320A of fig. 3A, except that MN104A assigns a cell ID instead of a transaction ID. In the example scenario 400A, the MN104A assigns 420A an identifier "cell ID 1" to the conditional handover configuration, where the cell ID1 identifies the candidate cell (e.g., C-PCell) for which the MN104A is configuring the conditional handover. In various implementations, the cell ID may be a physical cell ID (PCI, e.g., as specified in 3GPP TS 36.323 or 38.423), a cell global ID (cgi), or another suitable identifier of a particular cell in the wireless communication system 100. In some implementations, as discussed further below, the MN104A does not assign 420A cell ID1, but instead includes a cell identifier from which the cell ID1 may be later derived (e.g., by the C-MN 106A).
After assigning 420A cell ID1 (or including the corresponding cell identifier from which cell ID1 may be derived), MN104A sends 426A handover request message including cell ID1 (or the corresponding cell identifier) to C-MN 106A. In response to the handover request message, C-MN106A includes cell ID1 in a CHO command ("CHO command 1"), includes the CHO command in a handover request confirm message, and sends 430A the handover request confirm message to MN 104A. In some implementations, the cell ID1 is a specific PCI value that the C-MN106A derives from the CGI value included in the handover request message by the MN 104A. In this implementation, "assign" at event 420A may be considered a combination of (1) determining the CGI at MN104A and (2) deriving the PCI from the CGI at C-MN 106A. In other implementations, the same cell identifier (e.g., CGI or PCI) is included in both the handover request message and the handover request confirm message. In addition to using the cell ID as a configuration identifier, for example, CHO command 1 may be similar to CHO command 1 discussed above with reference to fig. 3A, and the handover request and handover request acknowledge messages may be similar to the handover request and handover request acknowledge messages discussed above with reference to fig. 3A.
MN104A sends 434A CHO command 1 (including cell ID1) to UE 102. The UE102 identifies the cell ID and adds or modifies 440A configuration based on its value (cell ID1), e.g., as discussed above with reference to fig. 3A, but based on the cell ID rather than the transaction ID.
In some scenarios, 410A through 440A may be repeated for additional conditional switches and CHO commands. For example, MN104A may later assign "cell ID 2" to "CHO command 2" received by UE102 (e.g., after another transmission similar to transmission 434A). UE102 may then store CHO command 2 as the new configuration (if cell ID2 is different from cell ID1 and is not used for any other CHO commands that have already been stored at UE102 and have not yet been released), or use CHO command 2 to replace a portion or all of the pre-existing (i.e., already stored and not released) CHO commands that also include cell ID2 (or are otherwise associated with cell ID 2).
In one implementation and scenario, after the UE102 adds 440A CHO command 1 or modifies 440A CHO command using CHO command 1, and before the UE102 releases the corresponding configuration, the UE102 determines 460A that conditions for handover to a particular candidate cell of the C-MN106A are satisfied by the UE102, and in response, initializes 466A random access procedure on the particular candidate cell. In the depicted scenario, the particular candidate cell is the cell for which MN104A determines 410A to configure conditional handover.
The UE102 then performs 470A random access procedure with the C-MN106A via the candidate cell according to the configuration of CHO command 1 (e.g., random access preamble, etc.), and sends 476A CHO complete message to the C-MN106A via the candidate cell during or after the random access procedure. If the UE102 instead determines 460A that the conditions of a different candidate cell are met, the UE102 performs 470A random access procedure with the C-MN106A (or possibly another base station) via the other candidate cell according to the corresponding CHO command/configuration. Operations 460A, 466A, and 470A and sending 476A are collectively referred to in fig. 4A as process 482A.
As discussed above with reference to fig. 3A, in one implementation, a CHO command (e.g., CHO command 1) contains information specifying a condition for conditional switching (i.e., a condition configuration for the condition). The MN104A can generate an RRC container message including the CHO command and send the CHO command to the UE102 at event 434A. Alternatively, the handover request confirm message and the CHO command may not contain a conditional configuration, and the MN104A generates/configures the conditional configuration. In this implementation, the MN104A generates an RRC container message including the CHO command and the condition configuration and sends the RRC container message to the UE102 at event 434A. In some implementations, the UE102 sends an RRC container response message to the MN104A in response to the RRC container message.
In fig. 4B, the base station 104A again operates as the MN for the UE102 in the conditional handover scenario 400B. Initially, the UE102 communicates 402B data (e.g., UL data PDUs and/or DL data PDUs) with the MN 104A. The MN104A then determines 410B conditional handover configured to a candidate cell (e.g., candidate PCell) of the UE102 at some point, e.g., blindly or in response to detecting a suitable event (as discussed above with reference to fig. 3A).
In scenario 400B, and unlike scenario 400A, the candidate cell is another cell of the same MN104A, and inter-base station messaging may not be required for conditional handovers. Thus, after MN104A allocates 420B configuration identifier "cell ID 1" (e.g., in a manner similar to allocation 420A of fig. 4A), MN104A generates a CHO command ("CHO command 1") that includes cell ID1 and sends 434B the CHO command to UE 102. CHO command 1 may be similar to CHO command 1 discussed above with reference to fig. 3A, and cell ID1 may be similar to cell ID1 (e.g., a PCI derived from a CGI) discussed above with reference to fig. 4A.
After receiving the CHO command 1, the UE102 identifies the cell ID and adds or modifies 440B configuration based on its value (cell ID1), e.g., as discussed above with reference to fig. 3A. In some scenarios, 410B through 440B may be repeated for additional conditional switches and CHO commands, as discussed above.
In one implementation and scenario, after the UE102 adds 440B CHO command 1 or modifies 440B CHO command using CHO command 1, and before the UE102 releases the corresponding configuration, the UE102 determines 461B that the conditions for handing over to the particular candidate cell of the MN104A are satisfied, and in response, initializes 467B random access procedure on the particular candidate cell. In the depicted scenario, the particular candidate cell is the cell for which MN104A determines 410B to configure conditional handover.
UE102 then performs 471B a random access procedure with MN104A via the candidate cell in accordance with the configuration of CHO command 1 (e.g., random access preamble, etc.), and sends 477B a CHO complete message to MN104A via the candidate cell during or after the random access procedure. If UE102 instead determines 461B to satisfy the conditions of a different candidate cell (of MN104A or another base station), UE102 performs 471B random access procedure with MN104A or other base station via the other candidate cell in accordance with the corresponding CHO command/configuration. Operations 461B, 467B, and 471B and sending 477B are collectively referred to in fig. 4B as process 483B.
As discussed above with reference to fig. 3A, in one implementation, a CHO command (e.g., CHO command 1) contains information specifying a condition for conditional switching (i.e., a condition configuration for the condition). The MN104A can generate an RRC container message including the CHO command and send the CHO command to the UE102 at event 434B. In this implementation, the MN104A generates an RRC container message including the CHO command and the condition configuration and sends the RRC container message to the UE102 at event 434B. In some implementations, the UE102 sends an RRC container response message to the MN104A in response to the RRC container message.
Referring next to fig. 5A to 5D, a conditional switch scenario is shown in which the configuration identifier used to manage/track the configuration is a dedicated configuration identifier (i.e., an information element dedicated to identifying the conditional switch configuration).
In fig. 5A, in a conditional switch scenario 500A, base station 104A operates as the MN of UE102 and base station 106A operates as the C-MN of UE 102. Initially, the UE102 communicates 502A data (e.g., UL data PDUs and/or DL data PDUs) with the MN 104A. The MN104A then determines 510A conditional handover to configure to a candidate cell (e.g., a candidate PCell) of the UE102 at some point, e.g., blindly or in response to detecting a suitable event (as discussed above with reference to fig. 3A).
After determining 510A, MN104A assigns 520A configuration ID to the conditional configuration. Assignment 520A may be similar to assignment 320A of fig. 3A or assignment 420A of fig. 4A, except that MN104A assigns a dedicated configuration identifier instead of a transaction ID or cell ID. In the example scenario 500A, the MN104A assigns 520A the identifier "configuration ID 1" to the conditional switch configuration. For example, the dedicated configuration identifier may be an integer or other value used to identify a particular CHO command.
After assigning 520A config ID1, MN104A sends 526A a handoff request message including config ID1 to C-MN 106A. In response to the handover request message, C-MN106A includes configuration ID1 in a CHO command ("CHO command 1"), includes the CHO command in a handover request acknowledge message, and sends 530A the handover request acknowledge message to MN 104A. For example, CHO command 1 may be similar to CHO command 1 discussed above with reference to fig. 3A, and the handover request and handover request acknowledge messages may be similar to the handover request and handover request acknowledge messages discussed above with reference to fig. 3A, except that a dedicated configuration identifier is used.
The MN104A sends 534A CHO command 1 (including configuration ID1) to the UE 102. The UE102 identifies the configuration ID and adds or modifies 540A configuration based on its value (configuration ID1), e.g., as discussed above with reference to fig. 3A, but based on a dedicated configuration identifier instead of the transaction ID.
In some scenarios, 510A through 540A may be repeated for additional conditional switches and CHO commands. For example, MN104A may later assign "configuration ID 2" to "CHO command 2" received by UE102 (e.g., after another transmission similar to transmission 534A). UE102 may then store CHO command 2 as the new configuration (if config ID2 is different from config ID1 and not for any other CHO commands that have already been stored at UE102 and have not yet been released), or use CHO command 2 to replace a portion or all of the pre-existing (i.e., already stored and not released) CHO commands that also include config ID2 (or are otherwise associated with config ID 2).
In one implementation and scenario, after the UE102 adds 540A CHO command 1 or modifies 540A CHO command using CHO command 1, and before the UE102 releases the corresponding configuration, the UE102 determines in process 582A that conditions for handover to the candidate cell of the C-MN106A are satisfied, and in response, initializes and performs a random access procedure on the candidate cell. For example, process 582A may be similar to process 482A of fig. 4A.
As discussed above with reference to fig. 3A, in one implementation, a CHO command (e.g., CHO command 1) contains information specifying a condition for conditional switching (i.e., a condition configuration for the condition). The MN104A can generate an RRC container message including the CHO command and send the CHO command to the UE102 at event 534A. Alternatively, the handover request confirm message and the CHO command may not contain a conditional configuration, and the MN104A generates/configures the conditional configuration. In this implementation, the MN104A generates an RRC container message including the CHO command and the condition configuration and sends the RRC container message to the UE102 at event 534A. In some implementations, the UE102 sends an RRC container response message to the MN104A in response to the RRC container message.
In fig. 5B, in the conditional switch scenario 500B, the base station 104A again operates as the MN of the UE102, and the base station 106A again operates as the C-MN of the UE 102. Initially, the UE102 communicates 502B data (e.g., UL data PDUs and/or DL data PDUs) with the MN 104A. The MN104A then determines 510B conditional handover to a candidate cell (e.g., candidate PCell) of the UE102 at some point, e.g., blindly or in response to detecting a suitable event (as discussed above with reference to fig. 3A).
In response to determining 510B, the MN104A sends 526B a handoff request message to the C-MN 106A. Whereas in fig. 5A MN104A assigns 520A-specific configuration identifier after receiving the handover request message, in fig. 5B C-MN106A assigns 520B-specific configuration identifier. Assignment 520B may be otherwise similar to assignment 520A, and the assigned configuration identifier may be, for example, any of the configuration identifiers discussed above with reference to fig. 5A.
In response to the handover request message, and after assigning 520 the B identifier "config ID 1", C-MN106A includes the config ID1 in a CHO command ("CHO command 1") and the CHO command in a handover request acknowledge message for UE 102. The C-MN106A sends 530B a handover request acknowledge message to the MN104A in response to the handover request message. For example, CHO command 1 may be similar to CHO command 1 discussed above with reference to fig. 3A, and the handover request and handover request acknowledge messages may be similar to the handover request and handover request acknowledge messages discussed above with reference to fig. 3B, except that a dedicated configuration identifier is used.
The MN104A sends 534B a CHO command 1 (including the configuration ID1) to the UE 102. The UE102 identifies the configuration identifier and adds or modifies 540B configuration based on its value (configuration ID1), e.g., as discussed above with reference to fig. 3A. In some scenarios, 510B through 540B may be repeated for additional conditional switches and CHO commands, as discussed above.
In one implementation and scenario, after the UE102 adds 540B CHO command 1 or modifies 540B CHO command using CHO command 1, and before the UE102 releases the corresponding configuration, the UE102 determines in process 582B that the conditions for handing over to the particular candidate cell of the C-MN106A are satisfied, and in response, initializes and performs a random access procedure on the particular candidate cell. For example, process 582B may be similar to process 482A of fig. 4A.
As discussed above with reference to fig. 3A, in one implementation, a CHO command (e.g., CHO command 1) contains information specifying a condition for conditional switching (i.e., a condition configuration for the condition). The MN104A can generate an RRC container message including the CHO command and send the CHO command to the UE102 at event 534B. Alternatively, the handover request confirm message and the CHO command may not contain a conditional configuration, and the MN104A generates/configures the conditional configuration. In this implementation, the MN104A generates an RRC container message including the CHO command and the condition configuration, and sends the RRC container message to the UE102 at event 534B. In some implementations, the UE102 sends an RRC container response message to the MN104A in response to the RRC container message.
In fig. 5C, in the conditional switch scenario 500C, the base station 104A again operates as the MN for the UE 102. Initially, the UE102 communicates 502C data (e.g., UL data PDUs and/or DL data PDUs) with the MN 104A. The MN104A then determines 510C conditional handover to a candidate cell (e.g., candidate PCell) of the UE102 at some point, e.g., blindly or in response to detecting a suitable event (as discussed above with reference to fig. 3A).
In scenario 500C, and unlike scenarios 500A and 500B, the candidate cell is another cell of the same MN104A, and inter-base station messaging may not be required for conditional handovers. Thus, after MN104A assigns 520C the configuration identifier "configuration ID 1" (e.g., in a manner similar to assignment 520A of fig. 5A), MN104A generates a CHO command ("CHO command 1") including configuration ID1 and sends 334C the CHO command to UE 102. The CHO command 1 and configuration ID1 may be similar to the CHO command 1 and configuration ID1 discussed above with reference to fig. 5A.
Upon receiving the CHO command 1, the UE102 recognizes the configuration identifier and adds or modifies 540C configuration based on its value (configuration ID1), e.g., as discussed above with reference to fig. 3A. In some scenarios, 510C through 540C may be repeated for additional conditional switches and CHO commands, as discussed above.
In one implementation and scenario, after the UE102 adds 540C CHO command 1 or modifies 540C CHO command using CHO command 1, and before the UE102 releases the corresponding configuration, the UE102 determines that conditions for handing over to the candidate cell of the MN104A are satisfied, and initializes and executes a random access procedure on the candidate cell, in process 583C. For example, process 583C may be similar to process 483B of fig. 4B.
In fig. 5D, the base station 104A again operates as the MN for the UE102 in the conditional handover scenario 500D. Initially, the UE102 communicates 502D data (e.g., UL data PDUs and/or DL data PDUs) with the MN 104A. The MN104A then determines 510D conditional handovers to configure or reconfigure a candidate cell (e.g., a candidate PCell) for the UE102 at some point, e.g., blindly or in response to detecting a suitable event (as discussed above with reference to fig. 3A).
In response to the determination 510D, the MN104A sends 526D a handover request message to the C-MN106A that includes the cell ID corresponding to the determination. In response to the handover request message, C-MN106A includes a CHO command ("CHO command 1") and cell ID1 in a handover request confirm message and sends 530D the handover request confirm message to MN 104A. For example, CHO command 1 may be similar to CHO command 1 discussed above with reference to fig. 3A, and the handover request and handover request acknowledge messages may be similar to the handover request and handover request acknowledge messages discussed above with reference to fig. 3A, except that the dedicated transaction identifier is not included.
The MN104A selects 532D the dedicated configuration identifier (configuration ID1) for the CHO command. "selecting" a configuration ID1 may be assigning a new configuration ID, or selecting an existing configuration ID (a detailed example implementation is described below). The MN104A sends 534D a CHO command (e.g., CHO command 1) and a configuration ID1 to the UE 102. The UE102 adds or modifies (e.g., replaces) 540D CHO commands, e.g., as discussed above with reference to fig. 3A.
In some scenarios, 510D through 540D may be repeated for additional conditional switches and CHO commands. For example, MN104A may later assign "configuration ID 2" to "CHO command 2" received by UE102 (e.g., after another transmission similar to transmission 534D). UE102 may then store CHO command 2 as the new configuration (if config ID2 is different from config ID1 and not for any other CHO commands that have already been stored at UE102 and have not yet been released), or use CHO command 2 to replace a portion or all of the pre-existing (i.e., already stored and not released) CHO commands that also include config ID2 (or are otherwise associated with config ID 2).
In one implementation and scenario, after the UE102 adds 540D CHO command 1 or modifies (or replaces) 540D CHO command using CHO command 1, and before the UE102 releases the corresponding configuration, the UE102 determines in process 582D that the conditions for handing over to the candidate cell of the C-MN106A are satisfied, and in response, initializes and executes a random access procedure on the candidate cell. For example, process 582D may be similar to process 482A of fig. 4A.
In some implementations, the MN104A has (i.e., stores) a table (e.g., table 1-1) to select a configuration ID for the CHO command of the UE 102. The table includes entries for cell ID, configuration ID, and configuration status (e.g., whether the cell has been configured to the UE102 for CHO). In some implementations, the MN104A may be configured with the table by an operations and maintenance (O & M) node. The O & M node may reconfigure (e.g., update) the table. For example, the O & M node may reconfigure the table by adding a new entry comprising a new cell ID with configuration status "unconfigured" and a new configuration ID. In other implementations, the MN104A may be configured with the table by default or manually.
TABLE 1-1
Tables 1 to 2
In one example, the MN104A can initialize the table to tables 1-2 at or before the time the MN104A receives the CHO command. If the cell ID of candidate cell 510D is cell ID1, MN104A sets the configuration state of cell ID1 to "configured" in response to the determination 510D or receipt 530D of a CHO command (e.g., CHO command 1), as shown in tables 1-3. MN104A uses configuration ID1 for CHO command 1 according to the table (since CHO command 1 is used for cell ID1), and MN104A in turn sends configuration ID1 and CHO command 1 at event 534D. That is, if MN104A determines to configure a conditional handover to a cell identified by a particular cell ID, or if MN104A receives a CHO command for a particular cell ID, MN104A looks up the table using the particular cell ID (e.g., cell ID1) as an index.
Tables 1 to 3
In another example, before the MN104A receives the CHO command 530D, the MN104A has/stores the tables as tables 1-3. If the cell ID of candidate cell 510D is cell ID1, MN104A may or may not set the configuration state of cell ID1 to "configured" in response to the determination 510D or receipt 530D of a CHO command (e.g., CHO command 1), as shown in tables 1-3. MN104A uses configuration ID1 for CHO command 1 according to the table (since CHO command 1 is used for cell ID1) and sends configuration ID1 and CHO command 1 at event 534D. If the cell ID of candidate cell 510D is cell ID2, MN104A sets the configuration state of cell ID2 to "configured" in response to the determination 510D or receipt 530D of a CHO command (e.g., CHO command 2), as shown in tables 1-4. MN104A uses configuration ID2 for CHO command 2 according to the table (since CHO command 2 is for cell ID2) and sends configuration ID2 and CHO command 2 at event 534D. That is, if the MN104A determines to configure a conditional handover to a particular cell ID, or if the MN104A receives a CHO command for a particular cell ID, the MN104A looks up the table using the particular cell ID (e.g., cell ID1) as an index.
Tables 1 to 4
If the MN104A determines to release the CHO command with the cell ID configured in the configuration state "configured", the MN104A looks up the table by using the cell ID as an index to find the configuration ID of the cell ID, and may send a CHO release configuration including the configuration ID. The UE102 releases the CHO command according to the configuration ID in the CHO release configuration. For example, MN104A may determine a CHO command to release cell ID 1. In response to the determination, MN104A looks up the table (e.g., tables 1-3 or tables 1-4) and identifies that the configuration ID of cell ID1 is configuration ID 1. The MN104A then includes the configuration ID1 in the CHO release configuration and sends the CHO release configuration to the UE 102. The UE102 releases the CHO command 1 according to the configuration ID1 in the CHO release configuration. If the cell ID has a configuration status of "unconfigured," or not found in the table, the MN104A may not send any CHO release configuration to the UE102 to release the CHO command for the cell ID.
In other implementations, MN104A has/stores a table (e.g., table 2-1) of configuration IDs (i.e., assigning a new configuration ID or identifying an existing configuration ID) for UE102 to select a CHO command. The table includes entries for cell IDs and configuration IDs.
TABLE 2-1
Cell ID | Configuration ID |
In one example, the MN104A can initialize the table to table 2-1 (i.e., empty) before the MN104A receives the CHO command (e.g., CHO command 1530D). If the cell ID of candidate cell 510D is cell ID1 and cell ID1 is not in the table, MN104A assigns a new configuration ID (e.g., configuration ID1) for cell ID1 or CHO command 1 in response to the determination 510D or receipt of CHO command 1, as shown in table 2-2.
Tables 2 to 2
Cell ID | Configuration ID |
Cell ID1 | Configuration ID1 |
In another example, before the MN104A receives the CHO command 530D (e.g., CHO command 2), the MN104A has a table as in table 2-2. If the cell ID of candidate cell 510D is cell ID1, MN104A uses configuration ID1 for CHO Command 2 according to the table and sends configuration ID1 and CHO Command 2 at event 534D. If the cell ID of candidate cell 510D is cell ID2 and cell ID2 is not in the table, MN104A assigns a new configuration ID (e.g., configuration ID2) for cell ID2 or CHO command 2 in response to the determination 510D or receipt 530D of CHO command 2, as shown in tables 2-3, and sends configuration ID2 and CHO command 2 at event 534D. That is, if the MN104A determines to configure a conditional handover to a particular cell ID, or if the MN104A receives a CHO command for a particular cell ID, the MN104A looks up the table using the particular cell ID (e.g., cell ID1) as an index.
Tables 2 to 3
Cell ID | Configuration ID |
Cell ID1 | Configuration ID1 |
Cell ID2 | Configuration ID2 |
If the MN104A determines a CHO command to release the cell ID or receives a CHO command from the C-MN106A requesting to release the cell ID, the MN104A looks up the table by using the cell ID as an index to find the configuration ID of the cell ID and may send a CHO release configuration including the configuration ID. The UE102 releases the CHO command according to the configuration ID in the CHO release configuration. For example, the MN104A may determine a CHO command to release the cell ID 1. In response to the determination, the MN104A looks up the table (e.g., tables 1-3 or tables 1-4) and identifies that the configuration ID of the cell ID1 is configuration ID 1. The MN104A then includes the configuration ID1 in the CHO release configuration and sends the CHO release configuration to the UE 102. The UE102 releases the CHO command 1 according to the configuration ID1 in the CHO release configuration. If the cell ID is not found in the table, MN104A may not send any CHO release configuration to UE102 to release the CHO command for the cell ID.
As discussed above with reference to fig. 3A, in one implementation, a CHO command (e.g., CHO command 1) contains information specifying a condition for conditional switching (i.e., a condition configuration for the condition). The MN104A can generate an RRC container message including the CHO command and send the CHO command to the UE102 at event 534D. In this implementation, the MN104A generates an RRC container message including the CHO command and the condition configuration, and sends the RRC container message to the UE102 at event 534D. In some implementations, the UE102 sends an RRC container response message to the MN104A in response to the RRC container message.
As described above, fig. 6-8 correspond to a conditional SN addition/change scenario in which the wireless communication system 100 uses configuration identifiers to track candidate SN configurations. Referring first to fig. 6A through 6C, a conditional SN add or change scenario is shown in which the configuration identifier used to manage/track the configuration is a transaction ID.
In fig. 6A, in a conditional SN addition or SN change scenario 600A, base station 104A operates as the MN of UE102, while base station 106A operates as a candidate SN (C-SN) for UE 102. Initially, the UE102 communicates 602A data (e.g., UL data PDUs and/or DL data PDUs) in dual connectivity with the MN104A or with the SN 104B not shown in fig. 6A in Single Connectivity (SC) operation. MN104A then determines 612A conditional SN addition or change that configures UE102 at some point, e.g., blindly or in response to detecting a suitable event (e.g., as discussed above with reference to fig. 3A).
After determining 612A to configure a conditional SN add or change, MN104A assigns 620A specific transaction ID to the conditional SN add/change or equivalently assigns 620A to the C-SN configuration associated with the conditional SN add/change. In the depicted scenario, the assigned identifier is "transaction ID 1". As described above, as used herein, (and unless more specific meaning is clear from the context of its use), "assigning" a configuration identifier may refer to an action of initially selecting an identifier (i.e., for a completely new configuration), or to a subsequent selection of a previously selected/used identifier (i.e., when attempting to modify an existing configuration). For example, the transaction ID may be similar to the transaction ID discussed above with reference to fig. 3A (e.g., the transaction ID specified in 3GPP TS 36.331 or 38.331).
In response to the determination 612A, and after assigning 620A transaction ID1, MN104A sends 628A an SN request message (e.g., an SN add request or an SN modify request message) including transaction ID1 to C-SN 106A. In response to the SN request message, C-SN106A includes the assigned transaction ID (transaction ID1) in the C-SN configuration ("C-SN configuration 1") or includes the assigned transaction ID (transaction ID1) through the C-SN configuration ("C-SN configuration 1"). That is, C-SN configuration 1 is identified by transaction ID1 or is associated with transaction ID 1. C-SN106A includes C-SN configuration 1 in a SN request acknowledgement message (e.g., a SN add request acknowledgement or a SN modify request acknowledgement message) and sends 632A SN request acknowledgement message to MN104A in response to the SN request message. C-SN configuration 1 includes one or more configurations of candidate cells (e.g., candidate PSCell (C-PSCell)) for C-MN 106A.
MN104A then sends 636A C-SN configuration 1 (including transaction ID1) to UE 102. The UE102 identifies the transaction ID and adds or modifies 642A configuration based on its value (transaction ID 1). In detail, with the received C-SN configuration, UE102 identifies a transaction ID to add a C-SN configuration or to modify a C-SN configuration stored in UE 102. If UE102 identifies a stored C-SN configuration that has previously used a transaction ID (i.e., transaction ID1 is associated with the stored C-SN configuration), UE102 modifies the stored C-SN configuration with C-SN configuration 1. In some cases, UE102 replaces the stored C-SN configuration with C-SN configuration 1. In other cases, UE102 replaces only a subset of the configuration parameters in the stored C-SN configuration with one or more configuration parameters in C-SN configuration 1. If UE102 instead determines that transaction ID1 is a new transaction ID, UE102 stores C-SN configuration 1 as the new C-SN configuration.
In some scenarios, 612A through 642A may be repeated for one or more conditional SN additions and/or changes. For example, MN104A may later assign "transaction ID 2" to "C-SN configuration 2" received by UE102 (e.g., after another transmission similar to transmission 636A). UE102 may then store C-SN configuration 2 as a new configuration (if transaction ID2 is different from transaction ID1 and is not used for any other C-SN configuration that has already been stored at UE102 and has not yet been released), or use C-SN configuration 2 to replace a portion or all of a preexisting (i.e., already stored and not released) C-SN configuration that also includes transaction ID2 (or is otherwise associated with transaction ID 2).
In one implementation and scenario, after the UE102 adds 642A C-SN configuration 1 or modifies 642A C-SN configuration using C-SN configuration 1, and before the UE102 releases C-SN configuration 1, the UE102 determines 646A meets the conditions for accessing a candidate cell of C-SN106A, and in response, initializes 650A a random access procedure on the candidate cell. In the depicted scenario, the candidate cell is the cell that MN104A determines 612A to configure the conditional SN addition or change.
UE102 then performs 654A and C-SN106A random access procedures via the candidate cells according to the configuration of C-SN configuration 1 (e.g., random access preamble, etc.). If the UE102 instead determines 646A satisfies the conditions of a different candidate cell, the UE102 performs 654A random access procedure with the C-SN106A (or possibly another base station) via the other candidate cell according to the corresponding C-SN configuration. Operations 646A, 650A, and 654A are collectively referred to in fig. 6A as process 690A.
In some implementations, MN104A indicates to C-SN106A in the SN request message that base station 106A is being requested for the purpose of conditional PSCell addition/change for UE102 (i.e., requested as the C-SN for UE 102).
In one implementation, the C-SN configuration contains information that specifies a condition for conditional SN addition or change (i.e., a conditional configuration for the condition). At event 636A, the MN104A can generate an RRC container message including the C-SN configuration and send the RRC container message (without a separate conditional configuration) to the UE 102. Alternatively, the C-SN configuration may not contain a conditional configuration, and MN104A includes the conditional configuration with the C-SN configuration in the SN request acknowledgement message. In this implementation, MN104A generates an RRC container message including the C-SN configuration and the condition configuration, and sends the RRC container message to UE102 at event 636A. In yet another implementation, the SN request acknowledgement message and the C-SN configuration do not contain a conditional configuration, and MN104A configures the condition. In such implementations, the MN104A also generates an RRC container message including the C-SN configuration and the condition configuration, and sends the RRC container message to the UE102 at event 636A. In any of these implementations, the UE102 may send an RRC container response message to the MN104A in response to receiving the RRC container message. Further, in response to receiving the RRC container message, MN104A may send a SN reconfiguration complete message to C-SN 106A.
In some implementations (e.g., for (NG) EN-DC and NR-NR DC operations), the C-SN configuration includes one or more cell group configuration (CellGroupConfig) Information Elements (IEs). In one implementation, the C-SN106A includes a RRCREConfiguration message that includes the CellGroupConfig IE in the SN request acknowledgment message, and sends the RRCREConfiguration message to the UE102 at event 636A. In other implementations, the C-SN configuration is a RRCRECONFIcation message that includes a CellGroupConfig IE. For example, the RRCReconfiguration message and the CellGroupConfig IE may be as defined in 3GPP TS 38.331.
In some implementations (e.g., for NE-DC operations), the C-SN configuration is SCG-ConfigPartSCG-r12 IE. In one implementation, C-SN106A includes an RRCConnectionReconfiguration message that includes the ConfigPartSCG-r12 IE in the SN addition request acknowledgment message. In other implementations, the C-SN configuration is an RRCConnectionReconfiguration message that includes the ConfigPartSCG-r12 IE. For example, the RRCConnectionReconfiguration message and SCG-ConfigPartSCG-r12 IE may be as defined in 3GPP TS 36.331.
Fig. 6A begins with UE102 communicating in SC operation, while fig. 6B depicts a conditional SN change scenario 600B, where UE102 initially communicates in DC operation. Specifically, in fig. 6B, base station 104A acts as the MN for UE102 and base station 106A acts as the SN (PSCell-supported) for UE102, where UE102 communicates 603B with MN104A and SN106A while operating in DC. The SN106A then determines 612B that the conditional SN configuring the UE102 changes at some point, e.g., blindly or in response to detecting a suitable event (e.g., as discussed above with reference to fig. 3A). In the depicted scenario, the SN change is a change to a different PSCell that is also supported by SN 106A.
After determining 612B that the configuration conditional SN changes, SN106A assigns 620B a particular transaction ID to the conditional SN change or equivalently assigns 620B a C-SN configuration associated with the conditional SN change. In the depicted scenario, the assigned identifier is "transaction ID 1". For example, the transaction ID may be similar to the transaction ID discussed above with reference to fig. 3A (e.g., the transaction ID specified in 3GPP TS 36.331 or 38.331). It should be understood that in other scenarios, MN104A may instead perform 612B and 620B (e.g., as shown in fig. 6A), even if UE102 is operating with MN104A and SN (e.g., base station 106B) in DC.
In response to determination 612B, and after assigning 620B transaction ID1, SN106A sends 629A a C-SN configuration ("C-SN configuration 1") including transaction ID1 to MN 104A. For example, the C-SN configuration may be similar to the C-SN configuration described above with reference to FIG. 6A. After receiving C-SN configuration 1, MN104A sends C-SN configuration 1 (including transaction ID1) to UE 102. The UE102 then identifies the transaction ID and adds or modifies 642B configuration based on its value (transaction ID1) (e.g., as discussed above with reference to fig. 6A). In some scenarios, 612B-642B may be repeated for one or more conditional SN changes, as discussed above.
In one implementation and scenario, after the UE102 adds 642B C-SN configuration 1 or modifies 642B C-SN configuration using C-SN configuration 1, and before the UE102 releases C-SN configuration 1, the UE102 determines 647B that conditions for connecting to the candidate PSCell are satisfied, and in response, initializes 651B random access procedure on the candidate PSCell. In the depicted scenario, the candidate PSCell is a cell for which SN106A determines 612B that the configuration condition SN changes.
UE102 then performs 655B random access procedure with SN106A via the candidate PSCell according to the configuration of C-SN configuration 1 (e.g., random access preamble, etc.), and thereafter communicates 656B with MN104A and with SN106A via the PSCell using C-SN configuration 1 in DC operation. If the UE102 instead determines 647B that the conditions of a different candidate PSCell are met, in DC operation the UE102 performs 655B random access procedures via the other PSCell and thereafter communicates 656B with the MN104A and with the SN106A via the other PSCell using the corresponding C-SN configuration. Operations 647B, 651B, 655B, and 656B are collectively referred to in fig. 6B as process 691B.
In one implementation, the C-SN configuration generated by SN106A contains information that specifies a condition for a conditional SN change (i.e., a conditional configuration for the condition). At event 636B, MN104A can generate an RRC container message including the C-SN configuration and send the RRC container message (without a separate conditional configuration) to UE 102. Alternatively, the C-SN configuration provided by SN106A may not contain a conditional configuration, and MN104A includes the conditional configuration with the C-SN configuration in an RRC container message sent by MN104A to UE102 at event 636B. In any of these implementations, the UE102 may send an RRC container response message to the MN104A in response to receiving the RRC container message.
Fig. 6C depicts a conditional SN change scenario 600C similar to scenario 600B, but where UE102 is configured to an SRB that passes the SN, and thus may receive the C-SN configuration directly from the SN. In scenario 600C, UE102 initially communicates in DC operation. Specifically, in fig. 6C, base station 104A acts as the MN for UE102 and base station 106A acts as the SN (PSCell-supported) for UE102, where UE102 communicates 603B with MN104A and SN106A while operating at DC. SN106A then determines 612C that the conditional SN configuring UE102 changes at some point, e.g., blindly or in response to detecting a suitable event (e.g., as discussed above with reference to fig. 3A). In the depicted scenario, the SN change is a change to a different PSCell that is also supported by SN 106A.
After determining 612C that the configuration conditional SN has changed, SN106A assigns 620C a particular transaction ID to the conditional SN change or, equivalently, assigns 620C a C-SN configuration associated with the conditional SN change. In the depicted scenario, the assigned identifier is "transaction ID 1". For example, the transaction ID may be similar to the transaction ID discussed above with reference to fig. 3A (e.g., the transaction ID specified in 3GPP TS 36.331 or 38.331).
In response to the determination 612C, and after assigning 620a C transaction ID1, SN106A sends 637C-SN configuration ("C-SN configuration 1") including transaction ID1 to UE 102C. For example, the C-SN configuration may be similar to the C-SN configuration described above with reference to FIG. 6A. After receiving the C-SN configuration 1, the UE102 identifies the transaction ID and adds or modifies 642 the C configuration based on its value (transaction ID1) (e.g., as discussed above with reference to fig. 6A). In some scenarios, 612C through 642C may be repeated for one or more conditional SN changes, as discussed above.
In one implementation and scenario, after UE102 adds 642C C-SN configuration 1 or modifies 642C C-SN configuration using C-SN configuration 1, and before UE102 releases C-SN configuration 1, UE102 determines that conditions for connecting to the candidate PSCell are satisfied, initializes and performs a random access procedure on the candidate PSCell, and communicates with SN106A (via the candidate PSCell) and MN104A at DC in procedure 691C. For example, process 691C may be similar to process 691B of fig. 6B.
Referring next to fig. 7A through 7C, a conditional SN addition or SN change scenario is shown in which the configuration identifier for the management/tracking configuration is a cell ID.
In FIG. 7A, in a conditional SN addition or SN change scenario 700A, base station 104A operates as the MN for UE102, while base station 106A operates as the C-SN for UE 102. Initially, the UE102 communicates 702A data (e.g., UL data PDUs and/or DL data PDUs) with the MN104A or with the SN 104B, not shown in fig. 7A, in dual connectivity in Single Connectivity (SC) operation. MN104A then determines 712A conditional SN addition or SN change (e.g., to the candidate PSCell) that configures UE102 at some point, e.g., blindly or in response to detecting a suitable event (as discussed above with reference to fig. 3A).
After determination 712A, MN104A assigns 720A cell ID to the C-SN configuration. In the depicted scenario, MN104A assigns an identifier "cell ID 1" to the C-SN configuration, where cell ID1 identifies a candidate cell (e.g., C-PSCell) for which MN104A is configuring a conditional SN addition or SN change. In various implementations, the cell ID may be a physical cell ID (PCI, e.g., as specified in 3GPP TS 36.323 or 38.423), a cell global ID (cgi), or another suitable identifier of a particular cell in the wireless communication system 100. In some implementations, as discussed further below, the MN104A does not assign 720A cell ID1, but instead includes a cell identifier from which the cell ID1 may be later derived (e.g., by the C-SN 106A).
In response to determination 712A, and after assigning 720A cell ID1, MN104A sends 728A an SN request message (e.g., an SN add request or an SN modify request message) including cell ID1 to C-SN 106A. In response, C-SN106A includes the assigned cell ID (cell ID1) in the C-SN configuration ("C-SN configuration 1") or includes the assigned cell ID (cell ID1) via the C-SN configuration ("C-SN configuration 1"). C-SN106A includes C-SN configuration 1 in a SN request acknowledgement message (e.g., a SN add request acknowledgement or a SN modify request acknowledgement message) and sends 732A SN request acknowledgement message to MN104A in response to the SN request message. In some implementations, cell ID1 is a specific PCI value that C-SN106A derives from the CGI value that MN104A includes in the SN request message. In this implementation, the "assignment" at event 720A may be considered to be a combination of (1) determining the CGI at MN104A and (2) deriving the PCI from the CGI at C-SN 106A. In other implementations, the same cell identifier (e.g., CGI or PCI) is included in both the SN request message and the SN request acknowledgement message. In addition to using the cell ID as a configuration identifier, for example, C-SN configuration 1 may be similar to C-SN configuration 1 discussed above with reference to fig. 6A, and the SN request and SN request acknowledgement messages may be similar to the SN request and SN request acknowledgement messages discussed above with reference to fig. 6A.
The MN104A then sends 736A the C-SN configuration 1 (including the cell ID1) to the UE 102. The UE102 identifies the cell ID and adds or modifies 742A configuration based on its value (cell ID1) (e.g., in a manner similar to that discussed above with reference to fig. 6A). In some scenarios, 712A through 742A may be repeated for one or more conditional SN additions and/or changes. For example, MN104A may later assign "cell ID 2" to "C-SN configuration 2" received by UE102 (e.g., after another transmission similar to transmission 736A). UE102 may then store C-SN configuration 2 as a new configuration (if cell ID2 is different from cell ID1 and is not used for any other C-SN configuration that has already been stored at UE102 and has not yet been released), or use C-SN configuration 2 to replace a portion or all of a pre-existing (i.e., already stored and not released) C-SN configuration that also includes cell ID2 (or is otherwise associated with cell ID 2).
In one implementation and scenario, after UE102 adds 742A C-SN configuration 1 or modifies 742A C-SN configuration using C-SN configuration 1, and before UE102 releases C-SN configuration 1, in process 790A (e.g., similar to process 690A of FIG. 6A), UE102 determines that conditions for accessing a candidate cell of C-SN106A are satisfied, and in response, initializes and performs a random access procedure on the candidate cell.
In one implementation, the C-SN configuration contains information that specifies a condition for conditional SN addition or change (i.e., a conditional configuration for the condition). At event 736A, the MN104A can generate an RRC container message including the C-SN configuration and send the RRC container message (without a separate conditional configuration) to the UE 102. Alternatively, the C-SN configuration may not contain a conditional configuration, and MN104A includes the conditional configuration with the C-SN configuration in the SN request acknowledgement message. In this implementation, the MN104A generates an RRC container message including the C-SN configuration and the condition configuration and sends the RRC container message to the UE102 at event 736A. In yet another implementation, the SN request acknowledgement message and the C-SN configuration do not contain a conditional configuration, and MN104A configures the condition. In this implementation, the MN104A also generates an RRC container message including the C-SN configuration and the condition configuration, and sends the RRC container message to the UE102 at event 736A. In any of these implementations, the UE102 may send an RRC container response message to the MN104A in response to receiving the RRC container message. Further, in response to receiving the RRC container message, MN104A may send a SN reconfiguration complete message to C-SN 106A.
In fig. 7B, base station 104A acts as the MN for UE102 and base station 106A acts as the SN (PSCell-supported) for UE102, where UE102 communicates 703B with MN104A and SN106A while operating at DC. The SN106A then determines 712B that the conditional SN configuring the UE102 changes at some point, e.g., blindly or in response to detecting a suitable event (e.g., as discussed above with reference to fig. 3A). In the depicted scenario, the SN change is a change to a different PSCell that is also supported by SN 106A.
After determining 712B that the conditional SN change is configured, SN106A assigns 720B a particular cell ID to the C-SN configuration associated with the conditional SN change. In the depicted scenario, the assigned identifier is "cell ID 1". The cell ID may be similar to the cell ID (e.g., PCI or CGI) discussed above with reference to fig. 7A. After assigning 720B cell ID1, SN106A sends 729B a C-SN configuration ("C-SN configuration 1") including cell ID1 to MN 104A. After receiving C-SN configuration 1, MN104A sends 736B C-SN configuration 1 (including cell ID1) to UE 102. The UE102 then identifies the cell ID and adds or modifies 742B configuration based on its value (cell ID1) (e.g., as discussed above with reference to fig. 6A). In some scenarios, 712B-742B may be repeated for one or more conditional SN changes, as discussed above.
In one implementation and scenario, after UE102 adds 742B C-SN configuration 1 or modifies 742B C-SN configuration using C-SN configuration 1, and before UE102 releases C-SN configuration 1, in process 791B (e.g., similar to process 691B), UE102 determines that conditions for connecting to the candidate PSCell are satisfied, initializes and performs a random access process on the candidate PSCell, and then communicates with SN106A on the candidate PSCell using C-SN configuration 1.
In one implementation, the C-SN configuration generated by SN106A contains information that specifies a condition for a conditional SN change (i.e., a conditional configuration for the condition). At event 736B, MN104A can generate an RRC container message including the C-SN configuration and send the RRC container message (without a separate conditional configuration) to UE 102. Alternatively, the C-SN configuration provided by SN106A may not contain a conditional configuration, and MN104A includes the conditional configuration with the C-SN configuration in an RRC container message that MN104A sends to UE102 at event 736B. In any of these implementations, the UE102 may send an RRC container response message to the MN104A in response to receiving the RRC container message.
Fig. 7C depicts a conditional SN change scenario 700C similar to scenario 700B, but where UE102 is configured to an SRB that passes the SN, and thus may receive the C-SN configuration directly from the SN. In scenario 700C, UE102 initially communicates in DC operation. Specifically, in fig. 7C, base station 104A acts as the MN for UE102 and base station 106A acts as the SN (PSCell-supported) for UE102, where UE102 communicates 703C with MN104A and SN106A while operating at DC. The SN106A then determines 712C a change in the conditional SN configuring the UE102 at some point, e.g., blindly or in response to detecting a suitable event (e.g., as discussed above with reference to fig. 3A). In the depicted scenario, the SN change is a change to a different PSCell that is also supported by SN 106A.
After determining 712C that the configuration condition SN changes, SN106A assigns 720C a particular cell ID to the C-SN configuration associated with the condition SN change. In the depicted scenario, the assigned identifier is "cell ID 1". For example, the cell ID may be similar to the cell ID (e.g., PCI or CGI) discussed above with reference to fig. 7A.
After assigning 720C cell ID1, SN106A sends 737C a C-SN configuration ("C-SN configuration 1") including cell ID1 to UE 102. For example, the C-SN configuration may be similar to the C-SN configuration described above with reference to FIG. 7A. After receiving C-SN configuration 1, UE102 identifies the cell ID and adds or modifies 742 the C configuration based on its value (cell ID1) (e.g., as discussed above with reference to fig. 6A). In some scenarios, 712C-742C may be repeated for one or more conditional SN changes, as discussed above.
In one implementation and scenario, after UE102 adds 742C C-SN configuration 1 or modifies 742C C-SN configuration using C-SN configuration 1, and before UE102 releases C-SN configuration 1, UE102 determines that conditions for connecting to the candidate PSCell are satisfied, initializes and performs a random access procedure on the candidate PSCell, and communicates with SN106A (via the candidate PSCell) and MN104A at DC in procedure 791C. For example, process 791C may be similar to process 691B of fig. 6B.
Referring next to fig. 8A through 8F, a conditional SN addition or SN change scenario is shown in which the configuration identifier used to manage/track the configuration is a dedicated configuration identifier.
In FIG. 8A, in a conditional SN addition or SN change scenario 800A, base station 104A operates as the MN for UE102, while base station 106A operates as the C-SN for UE 102. Initially, the UE102 communicates 802A data (e.g., UL data PDUs and/or DL data PDUs) with the MN104A or with the SN 104B, not shown in fig. 8A, in dual connectivity in Single Connectivity (SC) operation. MN104A then determines 812A conditional SN addition or SN change that configures UE102 at some point, e.g., blindly or in response to detecting a suitable event (as discussed above with reference to fig. 3A).
After determination 812A, MN104A assigns 820A dedicated configuration identifier to the C-SN configuration. In the depicted scenario, MN104A assigns an identifier "configuration ID 1" to the C-SN configuration. For example, the dedicated configuration identifier may be similar to the dedicated configuration identifier described above with reference to fig. 5A.
After assigning 820A config ID1, MN104A sends 828A a SN request message (e.g., SN Add request or SN Modify request message) including config ID1 to C-SN 106A. In one implementation, MN104A determines a candidate PSCell at event 812A. In another implementation, C-SN106A configures the candidate PSCell in a C-SN configuration. The candidate PSCell is associated with a cell ID (e.g., cell ID 1). In some implementations, C-SN106A determines the candidate PSCell based on RRC configuration information (from MN104A to C-SN 106A) received in SN request message 828A (e.g., CG-ConfigInfo as defined in TS 38.331). In response, C-SN106A includes the assigned config ID (config ID1) in the C-SN configuration ("C-SN configuration 1") or the assigned config ID (config ID1) through the C-SN configuration ("C-SN configuration 1"). C-SN106A includes C-SN configuration 1 in a SN request acknowledgement message (e.g., a SN add request acknowledgement or a SN modify request acknowledgement message) and sends 832A the SN request acknowledgement message to MN104A in response to the SN request message. In addition to using a dedicated configuration identifier, for example, C-SN configuration 1 may be similar to C-SN configuration 1 discussed above with reference to FIG. 6A, and SN requests and SN request acknowledgement messages may be similar to SN requests and SN request acknowledgement messages discussed above with reference to FIG. 6A.
MN104A then sends 836A C-SN configuration 1 (including configuration ID1) to UE 102. The UE102 identifies the configuration identifier and adds or modifies 842A configuration based on its value (configuration ID1) (e.g., in a manner similar to that discussed above with reference to fig. 6A). In some scenarios, 812A through 842A may be repeated for one or more conditional SN additions and/or changes. For example, MN104A may later assign "config ID 2" to "C-SN configuration 2" received by UE102 (e.g., after another transmission similar to transmission 836A). UE102 may then store C-SN configuration 2 as the new configuration (if config ID2 is different from config ID1 and is not used for any other CHO commands that have been stored at UE102 and have not been released), or use C-SN configuration 2 to replace a portion or all of the pre-existing (i.e., already stored and not released) C-SN configuration that also includes config ID2 (or is otherwise associated with config ID 2).
In one implementation and scenario, after the UE102 adds 842A C-SN configuration 1 or modifies 842A C-SN configuration using C-SN configuration 1, and before the UE102 releases C-SN configuration 1, in a process 890A (e.g., similar to process 690A of fig. 6A), the UE102 determines that conditions for accessing a candidate cell of the C-SN106A are satisfied, and in response, initializes and performs a random access procedure on the candidate cell.
In one implementation, the C-SN configuration contains information that specifies a condition for conditional SN addition or change (i.e., a conditional configuration for the condition). At event 836A, MN104A can generate an RRC container message including the C-SN configuration and send the RRC container message (without a separate conditional configuration) to UE 102. Alternatively, the C-SN configuration may not contain a conditional configuration, and MN104A includes the conditional configuration with the C-SN configuration in the SN request acknowledgement message. In this implementation, MN104A generates an RRC container message including the C-SN configuration and the condition configuration and sends the RRC container message to UE102 at event 836A. In yet another implementation, the SN request acknowledgement message and the C-SN configuration do not contain a conditional configuration, and MN104A configures the condition. In this implementation, MN104A also generates an RRC container message including the C-SN configuration and the condition configuration, and sends the RRC container message to UE102 at event 836A. In any of these implementations, the UE102 may send an RRC container response message to the MN104A in response to receiving the RRC container message. Further, in response to receiving the RRC container message, MN104A may send a SN reconfiguration complete message to C-SN 106A.
In fig. 8B, base station 104A acts as the MN for UE102 and base station 106A acts as the SN for UE102 (providing PSCell), where UE102 communicates 803B with MN104A and SN106A while operating at DC. The SN106A then determines 812B at some point, e.g., blindly or in response to detecting a suitable event (e.g., as discussed above with reference to fig. 3A), that the conditional SN configuring the UE102 changes. In the depicted scenario, the SN change is a change to a different PSCell (e.g., candidate PSCell) that is also supported by SN 106A.
After determining 812B that the conditional SN has changed, SN106A assigns 820B a dedicated configuration identifier to the C-SN configuration associated with the conditional SN change. The SN106A configures candidate PSCells in a C-SN configuration. The candidate PSCell is associated with a cell ID (e.g., cell ID 1). In some implementations, SN106A determines the candidate PSCell based on one or more measurements received from UE102 (e.g., via SRB3, MN104A, or a physical uplink control channel) or measured by SN106A on one or more transmissions from UE 102. In the depicted scenario, the assigned identifier is "configuration ID 1". For example, the dedicated configuration identifier may be similar to the dedicated configuration identifier described above with reference to fig. 5A.
After assigning 820B config ID1, SN106A sends 829B to MN104A C-SN configuration and config ID 1. In some implementations, SN106A includes configuration ID1 in a C-SN configuration ("C-SN configuration 1"). In some implementations, SN106A may send a SN message including C-SN configuration 1 to MN104A at event 829B. After receiving C-SN configuration 1, MN104A sends 836B C-SN configuration 1 (including configuration ID1) to UE 102. In other implementations, SN106A does not include configuration ID1 in C-SN configuration 1. In contrast, in some implementations, SN106A sends a SN message including C-SN configuration 1 and configuration ID1 to MN104A at event 829B. After receiving C-SN configuration 1 and configuration ID1, MN104A includes configuration ID1 and C-SN configuration 1 in an RRC container message, instead of C-SN configuration 1 alone, and sends 836B an RRC container message to UE 102. In some implementations, the SN message can be an SN MODIFICATION REQUEST message (e.g., S-NODE MODIFICATION REQUERED or SgNB MODIFICATION REQUERED), an SN MODIFICATION REQUEST acknowledgement message (e.g., S-NODE MODIFICATION REQUEST ACKNOWLEDGE or SgNB MODIFICATION REQUIRED) or an SN CHANGE REQUEST message (e.g., S-NODE CHANGE REQUERED or SgNB CHANGE REQUERED), an SN RELEASE REQUEST message (e.g., S-NODE RELEASE REQUERED or SgNB RELEASE REQUERED) or an SN RELEASE REQUEST acknowledgement message (e.g., S-NODE RELEASE REQUEQUERQUERQUERQUERYLENB REQUERQUERQUERED or SgREQUERQUERQUERYLENSE REQUERYLENSE REQUERQUERQUERQUERYE).
UE102 then identifies the configuration identifier and, based on its value (configuration ID1), adds or modifies (e.g., replaces) 842B the stored C-SN configuration (e.g., adds C-SN configuration 1 or replaces the stored C-SN configuration with C-SN configuration 1, e.g., as discussed above with reference to fig. 6A). In some scenarios, 812B-842B may be repeated for one or more conditional SN changes, as discussed above. In one implementation and scenario, after UE102 adds 842B C-SN configuration 1 or modifies 842B C-SN configuration using C-SN configuration 1, and before UE102 releases C-SN configuration 1, in process 891B (e.g., similar to process 691B of fig. 6B), UE102 determines that conditions for connecting to the candidate PSCell are satisfied, initializes and performs a random access procedure on the candidate PSCell, and then communicates with SN106A on the candidate PSCell using C-SN configuration 1.
In one implementation, the C-SN configuration generated by SN106A contains information that specifies a condition for a conditional SN change (i.e., a conditional configuration for the condition). At event 836B, MN104A can generate an RRC container message including the C-SN configuration and send the RRC container message (without a separate conditional configuration) to UE 102. Alternatively, the C-SN configuration provided by SN106A may not contain a conditional configuration, and MN104A includes the conditional configuration with the C-SN configuration in an RRC container message that MN104A sends to UE102 at event 836B. In any of these implementations, the UE102 may send an RRC container response message to the MN104A in response to receiving the RRC container message.
In some implementations, SN106A has a table of configuration IDs (e.g., tables 1-1) for UE102 to select C-SN configurations that configure candidate pscells associated with cell IDs. The table includes entries for cell ID, configuration ID, and configuration status (e.g., whether a cell has been configured to the UE102 for a conditional PSCell addition or change (CPAC)). In some implementations, the MN104A or the SN106A may be configured by the O & M node using the table. The O & M node may reconfigure (e.g., update) the table. For example, the O & M node may reconfigure the table by adding a new entry comprising a new cell ID with configuration status "unconfigured" and a new configuration ID. In other implementations, the SN106A can be configured with the table by default or manually.
In one example, SN106A maintains the table, and SN106A can initialize the table to tables 1-2 before SN106A generates the C-SN configuration. If the cell ID of the candidate PSCell is cell ID1, SN106A sets the configuration status of cell ID1 to "configured" in response to determination 812B, as shown in tables 1-3. SN106A uses configuration ID1 for C-SN configuration 1 according to the table because C-SN configuration 1 is used for cell ID1, and MN104A in turn sends configuration ID1 and C-SN configuration 1 at event 836B. That is, if the SN106A determines to configure CPAC to the cell identified by the particular cell ID, the SN106A looks up the table using the particular cell ID (e.g., cell ID1) as an index.
In another example, SN106A has/stores the table as tables 1-3 before SN106A generates the C-SN configuration sent at event 829B. If the cell ID of the candidate PSCell is cell ID1, SN106A may or may not set the configuration status of cell ID1 to "configured" in response to determination 812B, as shown in tables 1-3. Since C-SN configuration 1 is used for cell ID1, SN106A uses configuration ID1 for C-SN configuration 1 according to the table, and sends configuration ID1 and C-SN configuration 1 at event 829B. If the cell ID of the candidate PSCell is cell ID2, SN106A sets the configuration status of cell ID2 to "configured" in response to determination 812B, as shown in tables 1-4. Since C-SN configuration 2 is used for cell ID2, SN106A uses configuration ID2 for C-SN configuration 2 according to the table, and sends configuration ID2 and C-SN configuration 2 at event 829B. That is, if the SN106A determines to configure CPAC to a particular cell ID, the SN106A looks up the table using the particular cell ID (e.g., cell ID1) as an index.
If SN106A determines to release the C-SN configuration with the cell ID configured in the configuration state "configured," SN106A finds the configuration ID of the cell ID by looking up the table using the cell ID as an index, and may send a CPAC release configuration including the configuration ID to UE102 via MN 104A. For example, SN106A includes a CPAC release configuration at event 829B, while MN104, in turn, includes a CPAC release configuration at event 836B. The UE102 releases the C-SN configuration according to the configuration ID in the CPAC release configuration. For example, SN106A determines to release the C-SN configuration of cell ID 1. In response to the determination, SN106A looks up the table (e.g., tables 1-3 or tables 1-4) and identifies that the configuration ID of cell ID1 is configuration ID 1. SN106A then includes configuration ID1 in the CPAC release configuration and sends the CPAC release configuration to UE102 via MN 104A. For example, SN106A includes a CPAC release configuration at event 829B, while MN104, in turn, includes a CPAC release configuration at event 836B. The UE102 releases the C-SN configuration 1 according to the configuration ID1 in the CPAC release configuration. If the cell ID has a configuration status of "unconfigured," or not found in the table, SN106A may not send any CPAC release configuration to UE102 to release the C-SN configuration for the cell ID.
In other implementations, the SN106A has/stores a table (e.g., Table 2-1) of configuration IDs (i.e., either assigning a new configuration ID or identifying an existing configuration ID) for the UE102 to select the C-SN configuration. The table includes entries for cell IDs and configuration IDs.
In one example, before SN106A generates a C-SN configuration (e.g., C-SN configuration 1 sent at event 829B), SN106A can initialize the table to Table 2-1 (i.e., null). If the cell ID of the candidate PSCell is cell ID1 and cell ID1 is not in the table, SN106A assigns a new configuration ID (e.g., configuration ID1) for cell ID1 or the C-SN configuration in response to determination 812B, as shown in tables 2-2.
In another example, before SN106A generates a C-SN configuration (e.g., C-SN configuration 2) sent at event 829B, SN106A has/stores a table as table 2-2. If the cell ID of the candidate PSCell is cell ID1, SN106A uses configuration ID1 for C-SN configuration 2 according to the table and sends configuration ID1 and C-SN configuration 2 at event 836B. If the cell ID of the candidate PSCell is cell ID2 and cell ID2 is not in the table, SN106A assigns a new configuration ID (e.g., configuration ID2) for cell ID2 or C-SN configuration 2 in response to determination 812B, as shown in tables 2-3, and MN104A sends configuration ID2 and C-SN configuration 2 at event 836B. That is, if the SN106A determines to configure CPAC to a particular cell ID, the SN106A looks up the table using the particular cell ID (e.g., cell ID1) as an index.
If SN106A determines to release the C-SN configuration of the cell ID, SN106A looks up the table to find the configuration ID of the cell ID by using the cell ID as an index, and may send a CPAC release configuration including the configuration ID. The UE102 releases the C-SN configuration according to the configuration ID in the CPAC release configuration. For example, SN106A determines to release the C-SN configuration of cell ID 1. In response to the determination, SN106A looks up the table (e.g., tables 1-3 or tables 1-4) and identifies that the configuration ID of cell ID1 is configuration ID 1. The SN106A then includes the configuration ID1 in the CPAC release configuration and sends the CPAC release configuration to the UE 102. The UE102 releases the C-SN configuration 1 according to the configuration ID1 in the CPAC release configuration. If the cell ID is not found in the table, SN106A may not send any CPAC release configuration to UE102 to release the C-SN configuration for the cell ID.
Fig. 8C depicts a conditional SN change scenario 800C similar to scenario 800B, but where the UE102 is configured to an SRB that passes the SN, and thus may receive the C-SN configuration directly from the SN. In scenario 800C, the UE102 initially communicates in DC operation. Specifically, in fig. 8C, base station 104A acts as the MN for UE102 and base station 106A acts as the SN (PSCell-supported) for UE102, where UE102 communicates 803C with MN104A and SN106A while operating at DC. The SN106A then determines 812C that the conditional SN configuring the UE102 changes at some point, e.g., blindly or in response to detecting a suitable event (e.g., as discussed above with reference to fig. 3A). In the depicted scenario, the SN change is a change to a different PSCell that is also supported by SN 106A.
After determining 812C that the conditional SN is changed, SN106A assigns 820C a dedicated configuration identifier to the C-SN configuration associated with the conditional SN change. In the depicted scenario, the assigned identifier is "configuration ID 1". For example, the dedicated configuration identifier may be similar to the dedicated configuration identifier discussed above with reference to fig. 5A.
After assigning 820C cell ID1, SN106A sends 837C a C-SN configuration ("C-SN configuration 1") that includes configuration ID1 to UE 102. For example, the C-SN configuration may be similar to the C-SN configuration described above with reference to FIG. 8A. After receiving the C-SN configuration 1, the UE102 identifies the configuration identifier and adds or modifies 842 the C configuration based on its value (configuration ID1) (e.g., as discussed above with reference to fig. 6A). In some scenarios, 812C-842C may be repeated for one or more conditional SN changes, as discussed above.
In one implementation and scenario, after UE102 adds 842C C-SN configuration 1 or modifies 842C C-SN configuration using C-SN configuration 1, and before UE102 releases C-SN configuration 1, in process 891C (e.g., similar to process 691B of fig. 6B), UE102 determines that conditions for connecting to the candidate PSCell are satisfied, initializes and executes a random access procedure on the candidate PSCell, and communicates with SN106A (via the candidate PSCell) and MN104A at DC.
In some implementations, the SN106A has/stores a table (e.g., tables 1-1) for the UE102 to select a configuration ID for C-SN configuration. The table includes entries for cell ID, configuration ID, and configuration status (e.g., whether the cell has been configured to UE102 for CPAC). In some implementations, the SN106A may be configured by the O & M node using the table. The O & M node may reconfigure (e.g., update) the table. For example, the O & M node may reconfigure the table by adding a new entry comprising a new cell ID with configuration status "unconfigured" and a new configuration ID. In other implementations, the SN106A can be configured with the table by default or manually.
In one example, SN106A maintains the table, and SN106A can initialize the table to tables 1-2 before SN106A generates the C-SN configuration. If the cell ID of the candidate PSCell is cell ID1, SN106A sets the configuration status of cell ID1 to "configured" in response to determination 812C, as shown in tables 1-3. Because C-SN configuration 1 is used for cell ID1, SN106A uses configuration ID1 for C-SN configuration 1 according to the table, and in turn sends configuration ID1 and C-SN configuration 1 at event 837C. That is, if the SN106A determines to configure CPAC to a particular cell ID using SRB3, the SN106A looks up the table using the particular cell ID (e.g., cell ID1) as an index.
In another example, SN106A has/stores the table as tables 1-3 before SN106A generates the C-SN configuration sent at event 837C. If the cell ID of the candidate PSCell is cell ID1, SN106A may or may not set the configuration status of cell ID1 to "configured" in response to determination 812C, as shown in tables 1-3. Because C-SN configuration 1 is used for cell ID1, SN106A uses configuration ID1 for C-SN configuration 1 according to the table, and sends configuration ID1 and C-SN configuration 1 at event 837C. If the cell ID of the candidate PSCell is cell ID2, SN106A sets the configuration status of cell ID2 to "configured" in response to determination 812C, as shown in tables 1-4. Because C-SN configuration 2 is used for cell ID2, SN106A uses configuration ID2 for C-SN configuration 2 according to the table, and sends configuration ID2 and C-SN configuration 2 at event 837C. That is, if the SN106A determines to configure CPAC to a particular cell ID, the SN106A looks up the table using the particular cell ID (e.g., cell ID1) as an index.
If the SN106A determines to release the C-SN configuration with the cell ID configured in the configuration state "configured", the SN106A looks up the table to find the configuration ID of the cell ID by using the cell ID as an index, and may send a CPAC release configuration including the configuration ID. The UE102 releases the C-SN configuration according to the configuration ID in the CPAC release configuration. For example, SN106A determines to release the C-SN configuration of cell ID 1. In response to the determination, SN106A looks up the table (e.g., tables 1-3 or tables 1-4) and identifies that the configuration ID of cell ID1 is configuration ID 1. SN106A then includes configuration ID1 in the CPAC release configuration and sends the CPAC release configuration to UE 102. The UE102 releases the C-SN configuration 1 according to the configuration ID1 in the CPAC release configuration. If the cell ID has a configuration status of "unconfigured," or not found in the table, SN106A may not send any CPAC release configuration to UE102 to release the C-SN configuration for the cell ID.
In other implementations, the SN106A has/stores a table (e.g., Table 2-1) of configuration IDs (i.e., either assigning a new configuration ID or identifying an existing configuration ID) for the UE102 to select the C-SN configuration. The table includes entries for cell IDs and configuration IDs.
In one example, SN106A can initialize the table to Table 2-1 (i.e., empty) before SN106A generates a C-SN configuration (e.g., C-SN configuration 1 sent at 837C). If the cell ID of the candidate PSCell is cell ID1 and cell ID1 is not in the table, SN106A assigns a new configuration ID (e.g., configuration ID1) for cell ID1 or the C-SN configuration in response to determination 812C, as shown in tables 2-2.
In another example, SN106A has/stores a table as tables 2-2 before SN106A generates C-SN configuration 837C (e.g., C-SN configuration 2). If the cell ID of the candidate PSCell is cell ID1, SN106A uses configuration ID1 for C-SN configuration 2 according to the table, and sends configuration ID1 and C-SN configuration 2 at event 837C. If the cell ID of the candidate PSCell is cell ID2 and cell ID2 is not in the table, SN106A assigns a new configuration ID (e.g., configuration ID2) for cell ID2 or C-SN configuration 2 in response to determination 812C, as shown in tables 2-3, and sends configuration ID2 and C-SN configuration 2 at event 837C. That is, if the SN106A determines to configure CPAC to a particular cell ID, the SN106A looks up the table using the particular cell ID (e.g., cell ID1) as an index.
If SN106A determines to release the C-SN configuration of the cell ID, SN106A looks up the table to find the configuration ID of the cell ID by using the cell ID as an index, and may send a CPAC release configuration including the configuration ID. The UE102 releases the C-SN configuration according to the configuration ID in the CPAC release configuration. For example, SN106A determines to release the C-SN configuration of cell ID 1. In response to the determination, SN106A looks up the table (e.g., tables 1-3 or tables 1-4) and identifies that the configuration ID of cell ID1 is configuration ID 1. SN106A then includes configuration ID1 in the CPAC release configuration and sends the CPAC release configuration to UE 102. The UE102 releases the C-SN configuration 1 according to the configuration ID1 in the CPAC release configuration. If the cell ID is not found in the table, SN106A may not send any CPAC release configuration to UE102 to release the C-SN configuration for the cell ID.
In FIG. 8D, in a conditional SN addition or SN change scenario 800D, base station 104A operates as the MN for UE102, while base station 106A operates as the C-SN for UE 102. Initially, the UE102 communicates 802D data (e.g., UL data PDUs and/or DL data PDUs) with the MN104A or with the SN 104B not shown in fig. 8D in a Single Connectivity (SC) operation with dual connectivity. MN104A then determines 812D, at some point, to configure the conditional SN addition or SN change of UE102, e.g., blindly or in response to detecting a suitable event (as discussed above with reference to fig. 3A).
After determining 812D, MN104A sends 828D a SN request message (e.g., a SN add request or SN modify request message) that does not include the dedicated configuration identifier to C-SN 106A. In one implementation, MN104A determines a candidate PSCell at event 812D. In another implementation, C-SN106A configures the candidate PSCell in a C-SN configuration. The candidate PSCell is associated with a cell ID (e.g., cell ID 1). In some implementations, C-SN106A determines the candidate PSCell based on MN-to-SN RRC configuration information (e.g., CG-ConfigInfo as defined in TS 38.331) received in SN request message 828D. In response, C-SN106A sends 832D a SN request acknowledgement message (e.g., a SN addition request acknowledgement or SN modification request acknowledgement message) to MN104A that includes a C-SN configuration for C-SN106A ("C-SN configuration 1"). In addition to the lack of a configuration identifier, for example, C-SN configuration 1 may be similar to C-SN configuration 1 discussed above with reference to FIG. 6A, and SN request acknowledgment messages may be similar to SN request and SN request acknowledgment messages discussed above with reference to FIG. 6A. In one implementation, the SN request acknowledgement message contains the cell ID along with the C-SN configuration.
Upon receiving the SN request acknowledgement message, MN104A assigns 820D a dedicated configuration identifier to the C-SN configuration. In the depicted scenario, MN104A assigns an identifier "configuration ID 1" to the C-SN configuration. For example, the dedicated configuration identifier may be similar to the dedicated configuration identifier described above with reference to fig. 5A.
The MN104A then sends 836D the C-SN configuration 1 to the UE102, but now where the C-SN configuration 1 includes the configuration ID1, or where both the configuration ID1 and the C-SN configuration 1 are contained in the same RRC container message. The UE102 identifies the configuration identifier and adds or modifies 842D configuration based on its value (configuration ID1) (e.g., in a manner similar to that discussed above with reference to fig. 6A). In some scenarios, 812D-842D may be repeated for one or more conditional SN additions and/or changes, as discussed above.
In one implementation and scenario, after the UE102 adds 842D C-SN configuration 1 or modifies 842D C-SN configuration using C-SN configuration 1, and before the UE102 releases C-SN configuration 1, in process 890D (e.g., similar to process 690A of fig. 6A), the UE102 determines that conditions for accessing a candidate cell of the C-SN106A are satisfied, and in response, initializes and performs a random access procedure on the candidate cell.
In one implementation, the C-SN configuration contains information that specifies a condition for conditional SN addition or change (i.e., a conditional configuration for the condition). At event 836D, MN104A can generate an RRC container message including the C-SN configuration and send the RRC container message (without a separate conditional configuration) to UE 102. Alternatively, the C-SN configuration may not contain a conditional configuration, and C-SN106A includes the conditional configuration with the C-SN configuration in the SN request acknowledgement message. In this implementation, MN104A generates an RRC container message including the C-SN configuration and the condition configuration and sends the RRC container message to UE102 at event 836D. In yet another implementation, the SN request acknowledgement message and the C-SN configuration do not contain a conditional configuration, and MN104A configures the condition. In this implementation, MN104A also generates an RRC container message including the C-SN configuration and the condition configuration, and sends the RRC container message to UE102 at event 836D. In any of these implementations, the UE102 may send an RRC container response message to the MN104A in response to receiving the RRC container message. Further, in response to receiving the RRC container message, MN104A may send a SN reconfiguration complete message to C-SN 106A. If both the config ID1 and the C-SN configuration 1 are contained in the RRC container message (i.e., the config ID is not included in the C-SN configuration), MN104A includes the config ID in the RRC container message.
In some implementations, MN104A has/stores a table of configuration IDs (e.g., tables 1-1) for UE102 to select C-SN configurations that configure candidate pscells associated with cell IDs. The table consists of entries for cell ID, configuration ID, and configuration status (e.g., whether the cell has been configured to the UE102 for CPAC). In some implementations, the MN104A may be configured with the table by an operations and maintenance (O & M) node. The O & M node may reconfigure (e.g., update) the table. For example, the O & M node may reconfigure the table by adding a new entry comprising a new cell ID with configuration status "unconfigured" and a new configuration ID. In other implementations, the MN104A may be configured with the table by default or manually.
In one example, the MN104A maintains the table, and the MN104A can initialize the table to tables 1-2 before the MN104A receives the C-SN configuration. If the cell ID of the candidate PSCell received in event 832D is cell ID1, MN104A sets the configuration state of cell ID1 to "configured" as shown in tables 1-3. Because C-SN configuration 1 is used for cell ID1, MN104A uses configuration ID1 for C-SN configuration 1 according to the table, and then MN104A sends configuration ID1 and C-SN configuration 1 at event 836D. That is, if C-SN106A configures CPAC to a particular cell ID, MN104A looks up the table using the particular cell ID (e.g., cell ID1) as an index.
In another example, the MN104A has the tables as tables 1-3 before the MN104A receives the C-SN configuration sent at event 832D. If the cell ID of the candidate PSCell is cell ID1, MN104A may or may not set the configuration state of cell ID1 to "configured," as shown in tables 1-3. Because C-SN configuration 1 is used for cell ID1, MN104A uses configuration ID1 for C-SN configuration 1 according to the table and sends configuration ID1 and C-SN configuration 1 at event 836D. If the cell ID of the candidate PSCell is cell ID2, MN104A sets the configuration state of cell ID2 to "configured" as shown in tables 1-4. Because C-SN configuration 2 is used for cell ID2, MN104A uses configuration ID2 for C-SN configuration 2 according to the table and sends configuration ID2 and C-SN configuration 2 at event 836D. That is, if C-SN106A determines to configure CPAC to a particular cell ID, MN104A looks up the table using the particular cell ID (e.g., cell ID1) as an index.
If C-SN106A determines to release the C-SN configuration with the cell ID configured in the configuration state "configured", MN104A looks up the table to find the configuration ID of the cell ID by using the cell ID as an index, and may send a CPAC release configuration including the configuration ID. The UE102 releases the C-SN configuration according to the configuration ID in the CPAC release configuration. For example, C-SN106A determines to release the C-SN configuration of cell ID 1. After receiving the PSCell to release, MN104A looks up the table (e.g., tables 1-3 or tables 1-4) and identifies that the configuration ID of cell ID1 is configuration ID 1. MN104A then includes configuration ID1 in the CPAC release configuration and sends the CPAC release configuration to UE 102. The UE102 releases the C-SN configuration 1 according to the configuration ID1 in the CPAC release configuration. If the cell ID has a configuration status of "unconfigured" or not found in the table, MN104A may not send any CPAC release configuration to UE102 to release the C-SN configuration for the cell ID.
In other implementations, MN104A has a table (e.g., table 2-1) of configuration IDs (i.e., assigning new configuration IDs or identifying existing configuration IDs) for UE102 to select C-SN configurations. The table includes entries for cell IDs and configuration IDs.
In one example, before MN104A receives the C-SN configuration (e.g., C-SN configuration 1 sent at event 832D), MN104A can initialize the table to table 2-1 (i.e., null). If the cell ID of the candidate PSCell is cell ID1 and cell ID1 is not in the table, MN104A assigns a new configuration ID (e.g., configuration ID1) for cell ID1 or C-SN configuration, as shown in tables 2-2.
In another example, before MN104A receives the C-SN configuration (e.g., C-SN configuration 2) sent at event 832D, MN104A has/stores a table as table 2-2. If the cell ID of the candidate PSCell is cell ID1, MN104A uses configuration ID1 for C-SN configuration 2 according to the table and sends configuration ID1 and C-SN configuration 2 at event 836D. If the cell ID of the candidate PSCell is cell ID2 and cell ID2 is not in the table, MN104A assigns a new configuration ID (e.g., configuration ID2) for cell ID2 or C-SN configuration 2, as shown in tables 2-3, and MN104A sends configuration ID2 and C-SN configuration 2 at event 836D. That is, if the MN104A determines to configure CPAC to a specific cell ID, the MN104A looks up the table using the specific cell ID (e.g., cell ID1) as an index.
If C-SN106A determines to release the C-SN configuration for the cell ID, MN104A looks up the table to find the configuration ID for the cell ID by using the cell ID as an index, and may send a CPAC release configuration including the configuration ID. The UE102 releases the C-SN configuration according to the configuration ID in the CPAC release configuration. For example, C-SN106A determines to release the C-SN configuration of cell ID 1. In response to the determination, MN104A looks up the table (e.g., tables 1-3 or tables 1-4) and identifies that the configuration ID of cell ID1 is configuration ID 1. MN104A then includes configuration ID1 in the CPAC release configuration and sends the CPAC release configuration to UE 102. The UE102 releases the C-SN configuration 1 according to the configuration ID1 in the CPAC release configuration. If the cell ID is not found in the table, MN104A may not send any CPAC release configuration to UE102 to release the C-SN configuration for the cell ID.
In fig. 8E, base station 104A acts as the MN for UE102 and base station 106A acts as the SN for UE102 (providing PSCell), where UE102 communicates 803E with MN104A and SN106A while operating at DC. The SN106A then determines 812E that the conditional SN configuring the UE102 changes at some point, e.g., blindly or in response to detecting a suitable event (e.g., as discussed above with reference to fig. 3A). In the depicted scenario, the SN change is a change to a different PSCell (i.e., candidate PSCell) that is also supported by SN 106A. In some implementations, the candidate PSCell may belong to SN 106A. In other implementations, the candidate PSCell may belong to base station 106B.
After determining 812E that the configuration condition SN changes, SN106A generates a C-SN configuration (e.g., C-SN configuration 1) associated with the change in condition SN. The SN106A configures candidate PSCells in a C-SN configuration. The candidate PSCell is associated with a cell ID (e.g., cell ID 1). In some implementations, SN106A determines the candidate PSCell based on one or more measurements received from UE102 (e.g., via SRB3, MN104A, or a physical uplink control channel) or measured by SN106A on one or more transmissions from UE 102.
After generating C-SN configuration 1, SN106A sends 829E of the C-SN configuration to MN 104A. MN104A then assigns 820E a private config ID ("config ID 1") to the C-SN configuration. In some implementations, SN106A includes configuration ID1 in a C-SN configuration ("C-SN configuration 1"). In some implementations, SN106A may send a SN message including C-SN configuration 1 to MN104A at event 829E. After receiving C-SN configuration 1, MN104A sends 836E C-SN configuration 1 (including configuration ID1) to UE 102. In other implementations, SN106A does not include configuration ID1 in C-SN configuration 1. In contrast, in some implementations, SN106A sends a SN message including C-SN configuration 1 and configuration ID1 to MN104A at event 829E. After receiving C-SN configuration 1 and configuration ID1, MN104A includes configuration ID1 and C-SN configuration 1 in an RRC container message (instead of C-SN configuration 1 alone), and sends 836E an RRC container message to UE 102. In some implementations, the SN message can be an SN MODIFICATION REQUEST message (e.g., S-NODE MODIFICATION REQUERED or SgNB MODIFICATION REQUERED), an SN MODIFICATION REQUEST acknowledgement message (e.g., S-NODE MODIFICATION REQUEST ACKNOWLEDGE or SgNB MODIFICATION REQUIRED) or an SN CHANGE REQUEST message (e.g., S-NODE CHANGE REQUERED or SgNB CHANGE REQUERED), an SN RELEASE REQUEST message (e.g., S-NODE RELEASE REQUERED or SgNB RELEASE REQUERED) or an SN RELEASE REQUEST acknowledgement message (e.g., S-NODE RELEASE REQUEQUERQUERQUERQUERYLENB REQUERQUERQUERED or SgREQUERQUERQUERYLENSE REQUERYLENSE REQUERQUERQUERQUERYE).
UE102 then identifies the configuration identifier and, based on its value (configuration ID1), adds or modifies (e.g., replaces) 842E the stored C-SN configuration (e.g., adds C-SN configuration 1 or replaces the stored C-SN configuration with C-SN configuration 1), e.g., as discussed above with reference to fig. 6A. In some scenarios, 812E-842E may be repeated for one or more conditional SN changes, as discussed above. In one implementation and scenario, after UE102 adds 842E C-SN configuration 1 or modifies (e.g., replaces) 842E stored C-SN configuration using C-SN configuration 1, and before UE102 releases C-SN configuration 1, in process 891E (e.g., similar to process 691B of fig. 6B), UE102 determines that conditions for connecting to the candidate PSCell are satisfied, initializes and executes a random access process on the candidate PSCell, and then communicates with SN106A using C-SN configuration 1 on the candidate PSCell.
In one implementation, the C-SN configuration generated by SN106A contains information that specifies a condition for a conditional SN change (i.e., a conditional configuration for the condition). At event 836E, MN104A can generate an RRC container message including the C-SN configuration and send the RRC container message (without a separate conditional configuration) to UE 102. Alternatively, the C-SN configuration provided by SN106A may not contain a conditional configuration, and MN104A includes the conditional configuration with the C-SN configuration in an RRC container message sent by MN104A to UE102 at event 836E. In any of these implementations, the UE102 may send an RRC container response message to the MN104A in response to receiving the RRC container message.
In some implementations, MN104A has/stores a table and selects a configuration ID for UE102 based on the received cell ID and the C-SN configuration from SN 106A. In one example, the MN104A maintains the table and can initialize the table to tables 1-2 at or before the time the MN104A receives the C-SN configuration. If the cell ID of the candidate PSCell received in event 829E is cell ID1, MN104A sets the configuration state of cell ID1 to "configured," as shown in tables 1-3. At event 820E, because C-SN configuration 1 is used for cell ID1, MN104A uses configuration ID1 for C-SN configuration 1 according to the table, and MN104A in turn sends configuration ID1 and C-SN configuration 1 at event 836E. That is, if the SN106A configures a conditional SN change (e.g., CPAC) to a particular cell ID, the MN104A looks up the table using the particular cell ID (e.g., cell ID1) received in event 829E as an index.
In another example, before the MN104A receives the C-SN configuration 830B, the MN104A has/stores the table as tables 1-3. If the cell ID of the candidate PSCell received at event 829E is cell ID1, MN104A may or may not set the configuration state of cell ID1 to "configured," as shown in tables 1-3. At event 820E, because C-SN configuration 1 is used for cell ID1, MN104A uses configuration ID1 for C-SN configuration 1 according to the table and sends configuration ID1 and C-SN configuration 1 at event 836E. If the cell ID of the candidate PSCell received at event 829E is cell ID2, MN104A sets the configuration state of cell ID2 to "configured," as shown in tables 1-4. At event 820E, because C-SN configuration 2 is used for cell ID2, MN104A uses configuration ID2 for C-SN configuration 2 according to the table, and sends configuration ID2 and C-SN configuration 2 at event 836E. That is, if SN106A determines to configure CPAC to a particular cell ID, MN104A looks up the table using the particular cell ID (e.g., cell ID1) as an index.
If SN106A determines to release the C-SN configuration with the cell ID configured in the configuration state "configured," MN104A looks up the table to find the configuration ID of the cell ID by using the cell ID received at 829E as an index, and may send a CPAC release configuration including the configuration ID. The UE102 releases the C-SN configuration according to the configuration ID in the CPAC release configuration. For example, SN106A determines to release the C-SN configuration of cell ID 1. After receiving the PSCell to release, at event 820E, MN104A looks up the table (e.g., tables 1-3 or tables 1-4) and identifies that the configuration ID of cell ID1 is configuration ID 1. MN104A then includes configuration ID1 in the CPAC release configuration and sends the CPAC release configuration to UE 102. The UE102 releases the C-SN configuration 1 according to the configuration ID1 in the CPAC release configuration. If the cell ID has a configuration status of "unconfigured" or not found in the table, MN104A may not send any CPAC release configuration to UE102 to release the C-SN configuration for the cell ID.
In other implementations, MN104A has a table (e.g., table 2-1) of configuration IDs (i.e., assigning new configuration IDs or identifying existing configuration IDs) for UE102 to select C-SN configurations. The table includes entries for cell IDs and configuration IDs.
In one example, before MN104A receives the C-SN configuration (e.g., C-SN configuration 1 received at event 829E), MN104A may initialize the table to Table 2-1 (i.e., null). If the cell ID of the candidate PSCell received in event 829E is cell ID1 and cell ID1 is not in the table, MN104A assigns a new configuration ID (e.g., configuration ID1) for cell ID1 or the C-SN configuration, as shown in table 2-2.
In another example, at event 829E, MN104A has a table that is Table 2-2 before MN104A receives a C-SN configuration (e.g., C-SN configuration 2). If the cell ID of the candidate PSCell received at event 829E is cell ID1, MN104A uses configuration ID1 for C-SN configuration 2 according to the table and sends configuration ID1 and C-SN configuration 2 at event 836E. If the cell ID of the candidate PSCell received at event 829E is cell ID2 and cell ID2 is not in the table, MN104A assigns a new configuration ID (e.g., configuration ID2) for cell ID2 or C-SN configuration 2, as shown in tables 2-3, and MN104A sends configuration ID1 and C-SN configuration 2 at event 836E. That is, if MN104A determines to configure CPAC to a specific cell ID, MN104A looks up the table using the specific cell ID (e.g., cell ID1) received in event 829E as an index.
If SN106A determines to release the C-SN configuration of the cell ID, MN104A looks up the table to find the configuration ID of the cell ID by using the cell ID as an index, and may send a CPAC release configuration including the configuration ID. The UE102 releases the C-SN configuration according to the configuration ID in the CPAC release configuration. For example, SN106A determines to release the C-SN configuration of cell ID 1. In response to the determination, in event 820E, MN104A looks up the table (e.g., tables 1-3 or tables 1-4) and identifies that the configuration ID of cell ID1 is configuration ID 1. MN104A then includes configuration ID1 in the CPAC release configuration and sends the CPAC release configuration to UE 102. The UE102 releases the C-SN configuration 1 according to the configuration ID1 in the CPAC release configuration. If the cell ID is not found in the table, MN104A may not send any CPAC release configuration to UE102 to release the C-SN configuration for the cell ID.
In FIG. 8F, in a conditional SN addition or SN change scenario 800F, base station 104A operates as the MN for UE102, while base station 106A operates as the C-SN for UE 102. Initially, the UE102 transmits 802F data (e.g., UL data PDUs and/or DL data PDUs) in dual connectivity with the MN104A or with the SN 104B (not shown in fig. 8F) in single connectivity operation. MN104A then determines 812F, at some point, for example blindly or in response to detecting a suitable event (as discussed above with reference to fig. 3A), to configure the conditional SN addition or SN change of UE 102.
After determination 812F, MN104A sends 828F a SN request message (e.g., a SN add request or SN modify request message) that does not include the dedicated configuration identifier to C-SN 106A. C-SN106A configures candidate PSCells in a C-SN configuration. The candidate PSCell is associated with a cell ID (e.g., cell ID 1). In some implementations, C-SN106A determines the candidate PSCell based on MN-to-SN RRC configuration information (e.g., CG-ConfigInfo defined in TS 38.331) received in the SN request message sent 828F. In response, C-SN106A sends 832F a SN request acknowledgement message (e.g., a SN addition request acknowledgement or SN modification request acknowledgement message) to MN104A that includes a C-SN configuration for C-SN106A ("C-SN configuration 1"). SN106A assigns 820F-specific configuration identifier ("C-SN configuration ID 1") to C-SN configuration 1 and may include the configuration identifier in the C-SN configuration or in an SN request acknowledgement message. For example, C-SN configuration 1 may be similar to C-SN configuration 1 discussed above with reference to FIG. 6A, and the SN request and SN request acknowledgment messages may be similar to the SN request and SN request acknowledgment messages discussed above with reference to FIG. 6A. In one implementation, the SN request acknowledgment message contains a cell ID and a C-SN configuration.
MN104A then sends 836F C-SN configuration 1 to UE102, but now where C-SN configuration 1 includes configuration ID1, or where both configuration ID1 and C-SN configuration 1 are contained in the same RRC container message. The UE102 identifies the configuration identifier and adds or modifies (e.g., replaces) 842F configuration based on its value (configuration ID1) (e.g., in a manner similar to that discussed above with reference to fig. 6A). In some scenarios, 812F through 842F may be repeated for one or more conditional SN additions and/or changes, as discussed above.
In one implementation and scenario, after the UE102 adds 842F C-SN configuration 1 or modifies (e.g., replaces) 842F C-SN configuration using C-SN configuration 1, and before the UE102 releases C-SN configuration 1, in a process 890F (e.g., similar to process 690A of fig. 6A), the UE102 determines that conditions for accessing a candidate cell of the C-SN106A are satisfied, and in response, initializes and executes a random access procedure on the candidate cell.
In one implementation, the C-SN configuration contains information that specifies a condition for conditional SN addition or change (i.e., a conditional configuration for the condition). MN104A can generate an RRC container message including the C-SN configuration and send the RRC container message (without a separate conditional configuration) to UE102 at event 836F. Alternatively, the C-SN configuration may not contain a conditional configuration, and C-SN106A includes the conditional configuration as well as the C-SN configuration in an SN request acknowledgment message. In this implementation, MN104A generates an RRC container message including the C-SN configuration and the condition configuration and sends the RRC container message to UE102 at event 836F. In yet another implementation, the SN request acknowledgement message and the C-SN configuration do not contain a conditional configuration, and the MN104A configures the condition. In such implementations, MN104A also generates an RRC container message including the C-SN configuration and the condition configuration, and sends the RRC container message to UE102 at event 836F. In any of these implementations, in response to receiving the RRC container message, the UE102 may send an RRC container response message to the MN 104A. Further, in response to receiving the RRC container message, MN104A may send a SN reconfiguration complete message to C-SN 106A. If both config ID1 and C-SN configuration 1 are included in the RRC container message (i.e., the config ID is not included in the C-SN configuration), MN104A includes the config ID in the RRC container message.
In some implementations, C-SN106A has/stores a table of configuration IDs (e.g., tables 1-1) for UE102 to select a C-SN configuration that configures a candidate PSCell associated with a cell ID. The table consists of entries for cell ID, configuration ID, and configuration status (e.g., whether the cell has been configured to the UE102 for CPAC). In some implementations, the MN104A or the C-SN106A may be configured by the O & M node using the table. The O & M node may reconfigure (e.g., update) the table. For example, the O & M node may reconfigure the table by adding a new entry comprising a new cell ID with configuration status "unconfigured" and a new configuration ID. In other implementations, C-SN106A may be configured with the table by default or manually.
In one example, C-SN106A maintains the table, and C-SN106A may initialize the table to tables 1-2 before C-SN106A generates the C-SN configuration. If the cell ID of the candidate PSCell is cell ID1, C-SN106A sets the configuration status of cell ID1 to "configured" as shown in tables 1-3. Because C-SN configuration 1 is used for cell ID1, C-SN106A uses configuration ID1 for C-SN configuration 1 according to the table, and sends configuration ID1 and C-SN configuration 1 to MN104A at event 832F. Next, MN104A sends configuration ID1 and C-SN configuration 1 at event 836F. That is, if the C-SN106A determines to configure CPAC to the cell identified by the particular cell ID, the C-SN106A looks up the table using the particular cell ID (e.g., cell ID1) as an index.
In another example, C-SN106A has/stores the table as tables 1-3 before C-SN106A generates the C-SN configuration sent at event 832F. If the cell ID of the candidate PSCell is cell ID1, C-SN106A may or may not set the configuration status of cell ID1 to "configured". Because C-SN configuration 1 is used for cell ID1, C-SN106A uses configuration ID1 for C-SN configuration 1 according to the table, and sends configuration ID1 and C-SN configuration 1 to MN104A at event 832F. Next, MN104A sends configuration ID1 and C-SN configuration 1 at event 836F. If the cell ID of the candidate PSCell is cell ID2, C-SN106A sets the configuration status of cell ID2 to "configured" as shown in tables 1-4. Because C-SN configuration 2 is used for cell ID2, C-SN106A uses configuration ID2 for C-SN configuration 2 according to the table, and sends configuration ID2 and C-SN configuration 2 at event 832F. That is, if C-SN106A determines to configure CPAC to a particular cell ID, C-SN106A looks up the table using the particular cell ID (e.g., cell ID1) as an index.
If C-SN106A determines to release the C-SN configuration with the configuration state "configured" cell ID, C-SN106A looks up the table to find the configuration ID of the cell ID by using the cell ID as an index, and can send the CPAC release configuration including the configuration ID to UE102 via MN 104A. For example, C-SN106A includes the CPAC release configuration at event 832F or in an SN message (e.g., as described in fig. 8E), and then MN104 includes the CPAC release configuration at event 836F or in another RRC container message. The UE102 releases the C-SN configuration according to the configuration ID in the CPAC release configuration. For example, C-SN106A determines to release the C-SN configuration of cell ID 1. In response to the determination, the C-SN106A looks up the table (e.g., tables 1-3 or tables 1-4) and identifies that the configuration ID identifying the cell ID1 is configuration ID 1. The C-SN106A then includes the configuration ID1 in the CPAC release configuration and sends the CPAC release configuration to the UE102 via the MN 104A. The UE102 releases the C-SN configuration 1 according to the configuration ID1 in the CPAC release configuration. If the cell ID has a configuration status of "unconfigured" or not found in the table, SN106A may not send any CPAC release configuration to UE102 to release the C-SN configuration for the cell ID.
In other implementations, C-SN106A has/stores a table (e.g., Table 2-1) of configuration IDs (i.e., either assigning a new configuration ID or identifying an existing configuration ID) for UE102 to select a C-SN configuration. The table includes entries for cell IDs and configuration IDs.
In one example, C-SN106A may initialize the table to Table 2-1 (i.e., empty) before C-SN106A generates a C-SN configuration (e.g., C-SN configuration 1 sent at event 832F). If the cell ID of the candidate PSCell is cell ID1 and cell ID1 is not in the table, C-SN106A assigns a new configuration ID (e.g., configuration ID1) for cell ID1 or the C-SN configuration in response to SN request message 828F, as shown in table 2-2.
In another example, SN106A has/stores a table as Table 2-2 before C-SN106A generates a C-SN configuration (e.g., C-SN configuration 2) that is sent at event 832F. If the cell ID of the candidate PSCell is cell ID1, C-SN106A uses configuration ID1 for C-SN configuration 2 according to the table and sends configuration ID1 and C-SN configuration 2 to MN104A at event 832F. Next, MN104A sends configuration ID1 and C-SN configuration 1 at event 836F. If the cell ID of the candidate PSCell is cell ID2 and cell ID2 is not in the table, C-SN106A assigns a new configuration ID (e.g., configuration ID2) for cell ID2 or C-SN configuration 2, as shown in tables 2-3, and MN104A sends configuration ID2 and C-SN configuration 2 at event 836F. That is, if the C-SN106A determines to configure CPAC to a particular cell ID, the C-SN106A looks up the table using the particular cell ID (e.g., cell ID1) as an index.
If C-SN106A determines to release the C-SN configuration for the cell ID, C-SN106A looks up the table to find the configuration ID for the cell ID by using the cell ID as an index, and can send a CPAC release configuration that includes the configuration ID. The UE102 releases the C-SN configuration according to the configuration ID in the CPAC release configuration. For example, C-SN106A determines to release the C-SN configuration of cell ID 1. In response to the determination, the C-SN106A looks up the table (e.g., tables 1-3 or tables 1-4) and identifies that the configuration ID of the cell ID1 is configuration ID 1. The C-SN106A then includes the configuration ID1 in the CPAC release configuration and sends the CPAC release configuration to the UE102 via the MN 104A. For example, C-SN106A includes a CPAC release configuration in the send or SN message at event 832F (e.g., as described in fig. 8E), and then MN104 includes the CPAC release configuration in the send or in another RRC container message at event 836F. The UE102 releases the C-SN configuration 1 according to the configuration ID1 in the CPAC release configuration. If the cell ID is not found in the table, C-SN106A may not send any CPAC release configuration to UE102 to release the C-SN configuration for the cell ID.
As described above, fig. 9A to 9C correspond to a scenario in which the wireless communication system 100 uses the configuration identifier to release (rather than add or modify) the conditional configuration at the UE 102.
Referring first to fig. 9A, in an example scenario 900A, a base station 104A operates as a MN for a UE 102. In scenario 900A, the UE102 communicates 904A with the MN104A, and the MN104A configures the conditional configuration (e.g., by sending a CHO command or a C-SN configuration to the UE102 as described above). The MN104 then sends 914A RRC message to the UE102 including a configuration identifier of the conditional configuration to indicate to the UE102 that the UE102 should release the identified conditional configuration. For example, the configuration identifier may be any of the identifier types discussed above (e.g., transaction ID, cell ID, dedicated configuration identifier, or measurement identity). In other implementations, the identifier in the transmission 914A can be a sequence number that identifies the sequential position of the condition configuration in the list. For example, if the UE102 receives CHO command 1 and CHO command 2 at event 914A, the sequence number may be 1 (or 0) for CHO command 1 and 2 (or 1) for CHO command 2. In response to receiving the RRC message, and based on the identifier in the RRC message, the UE102 releases 944A the identified CHO command or C-SN configuration.
In FIG. 9B, in an example scenario 900B, base station 104A operates as the MN for UE102, and base station 106A operates as the SN (e.g., for the PSCell) and the C-SN (e.g., for the C-PSCell) for UE 102. In scenario 900B, UE102 communicates 905B with MN104A and SN106A, and MN104A or SN106A configures the conditional configuration by sending the C-SN configuration to UE102 as described above.
At some point thereafter, SN106A determines 916B to release a particular C-SN configuration associated with a C-PSCell that SN106A also supports. In response to determination 916B, SN106A sends 931B a SN Release/Modify request message to MN104A that includes an identifier of the C-SN configuration to be released. The MN104A then sends 914B to the UE102 an RRC message that includes the identifier of the C-SN configuration to be released. For example, the identifier may be any of the identifier types discussed above with reference to FIG. 9A. In response to receiving the RRC message, and based on the identifier in the RRC message, the UE102 releases 944B the identified C-SN configuration.
In FIG. 9C, in an example scenario 900C, base station 104A operates as the MN for UE102, and base station 106A operates as the SN (e.g., for the PSCell) and the C-SN (e.g., for the C-PSCell) for UE 102. In scenario 900C, UE102 communicates 905C with MN104A and SN106A, and MN104A or SN106A configures the conditional configuration by sending the C-SN configuration to UE102 as described above.
At some point thereafter, SN106A determines 916C to release a particular C-SN configuration associated with a C-PSCell that SN106A also supports. In example scenario 900C, UE102 is configured to an SRB that passes through SN106A, and thus may receive the C-SN configuration directly from SN 106A. Thus, in response to determining 916C, SN106A sends 915C an RRC message to UE102 that includes an identifier of the C-SN configuration to release. For example, the identifier may be any of the identifier types discussed above with reference to FIG. 9A. In response to receiving the RRC message, and based on the identifier in the RRC message, the UE102 releases 944C-SN configuration identified by C.
As described above, fig. 10 and 11 correspond to alternative implementations in which the RAN of wireless communication system 100 provides the full set of conditional handover configurations to UE102 to avoid any uncertainty (at UE 102) with respect to the current full configuration list, where fig. 10 corresponds to a CHO scenario and fig. 11 corresponds to a conditional SN addition or change scenario.
Referring first to fig. 10A, in an example scenario 1000A, base station 104A operates as the MN of UE102, and base station 106A operates as the C-MN of UE 102. Initially, the UE102 communicates 1006A data (e.g., UL data PDUs and/or DL data PDUs) with the MN104A, and the MN104A configures the UE102 with CHO command 1 that configures the first candidate cell to the UE 102. In scenario 1000A, it is assumed that UE102 has not been configured with any other CHO commands prior to event 1006A, or that UE102 has released any such prior configuration.
Later, the MN104A determines 1010A to configure a conditional handover for the UE102 to a second candidate cell associated with the C-MN 106A. In response, the MN sends 1026A handover request message to the C-MN106A, and the C-MN106A responds by generating 1038A CHO command 2 (i.e., configuration of the second candidate cell). The C-MN106A then sends 1030A handover request confirm message including CHO command 2 to the MN 104A.
In this implementation, when the MN104A receives the CHO command 2, the MN104A generates a complete conditional configuration list or set, which in this scenario 1000A includes only CHO command 1 and CHO command 2. The MN104A sends 1039A the complete set of conditional configurations (i.e., CHO command 1 and CHO command 2) to the UE 102. In response, UE102 replaces 1045A all CHO commands stored in memory at UE102 with the received CHO commands (i.e., CHO command 1 and CHO command 2). Because all pre-existing CHO commands are replaced by the received set, the UE102 need not determine whether a received CHO command is intended to update an existing CHO command stored in the UE102 or is intended to be a new CHO command.
In some implementations, the MN104A also sends the condition associated with CHO command 1 and the condition associated with CHO command 2 to the UE102 along with CHO command 1 and CHO command 2. In this implementation, the UE102 replaces all existing conditions associated with the existing CHO command with all received conditions associated with the CHO command received in the transmission 1039A. Thus, the UE102 does not need to determine the association between the pre-existing/stored conditions and the received CHO command.
Fig. 10B depicts an example scenario 1000B in which a "winning" candidate cell for a conditional handover is supported by the same base station (104A) that supports the cell with which the UE102 is currently communicating (e.g., with the base station 104A acting as the MN). Initially, the UE102 communicates 1006B data (e.g., UL data PDUs and/or DL data PDUs) with the MN104A, and the MN104A configures the UE102 with CHO command 1 that configures the UE102 with a first candidate cell, wherein the first candidate cell is another cell supported by the MN 104A. In scenario 1000B, it is assumed that UE102 has not been configured with any other CHO commands prior to event 1006B, or that UE102 has released any such prior configuration.
Later, the MN104A determines 1010B to configure a conditional handover for the UE102 to a second candidate cell, which may or may not be associated with the MN 104A. In response, MN104A generates 1038B CHO command 2 (i.e., configuration for the second candidate cell). In this implementation, in response to the determination 1010B, the MN104A generates a complete conditional configuration list or set, which in this scenario 1000B includes only CHO command 1 and CHO command 2. The MN104A sends 1039B the complete set of conditional configurations (i.e., CHO command 1 and CHO command 2) to the UE 102. In response, UE102 replaces 1045B all CHO commands (here, only CHO command 1) stored in memory at UE102 with the received CHO commands (i.e., CHO command 1 and CHO command 2). Because all pre-existing CHO commands are replaced by the received set, the UE102 need not determine whether a received CHO command is intended to update an existing CHO command stored in the UE102 or is intended to be a new CHO command.
In some implementations, the MN104A also sends the condition associated with CHO command 1 and the condition associated with CHO command 2 to the UE102 along with CHO command 1 and CHO command 2. In this implementation, the UE102 replaces all existing conditions associated with the existing CHO command with all received conditions associated with the CHO command received in the transmission 1039B. Thus, the UE102 does not need to determine the association between the pre-existing/stored conditions and the received CHO command.
In FIG. 11A, in an example scenario 1100A, base station 104A operates as the MN for UE102, base station 106A operates as the SN for UE102, and base station 104B operates as the C-SN for UE 102. Initially, UE102 communicates 1108A data (e.g., UL data PDUs and/or DL data PDUs) with MN104A and SN106A, and SN106A configures UE102 with C-SN configuration 1 for the first candidate cell via SRB3 (i.e., a direct SRB between SN106A and UE 102). In scenario 1100A, assume that UE102 has not been configured with any other C-SN configuration prior to event 1108A, or that UE102 has released any such prior configuration.
SN106A later determines 1111A to configure the C-SN configuration 2 of the second candidate cell to UE 102. In this implementation, in response to determining 1111A, SN106A generates a complete list of conditional configurations
Or a collection, which in this scenario 1100A includes only C-SN configuration 1 and C-SN configuration
2. SN106A sends 1137A the complete set of conditional configurations (i.e., C-SN configuration 1 and C-SN configuration 2) to UE102 via SRB 3.
In response to receiving the conditional configuration set, UE102 replaces 1148A all stored C-SN configurations (here, only C-SN configuration 1) with the received C-SN configurations (i.e., C-SN configuration 1 and C-SN configuration 2). UE102 need not determine whether the received C-SN configuration is intended to update a pre-existing C-SN configuration stored in UE102 or is intended to be a new C-SN configuration.
Later, the MN104A determines 1113A to configure the base station 104B as the C-SN for the UE 102. In response to the determination 1113A, the MN104A sends 1128A an SN request message (e.g., an SN addition request or an SN modification request message) to the base station 104B. In response to the SN request message, base station 104B generates 1143A C-SN configuration ("C-SN configuration X"), and includes C-SN configuration X in an SN request acknowledgment message (e.g., an SN addition request acknowledgment or an SN modification request acknowledgment message). The base station 104B sends 1143A SN request acknowledgement message to the MN 104A. The MN104A then sends 1149A the C-SN configuration X to the UE 102.
In this implementation, UE102 adds C-SN configuration X via SRB1, but keeps the stored C-SN configurations (C-SN configuration 1 and C-SN configuration 2) unchanged via SRB 3. That is, the technique of replacing all C-SN configurations may be divided according to SRB or some other suitable factor. If there are additional C-SN configurations to deliver via SRB1, MN104A may send C-SN configuration X and C-SN configuration Y to UE102, causing UE102 to replace all stored C-SN configurations via SRB1 with C-SN configurations received via SRB 1.
In some implementations, MN104A may also send to UE102 the conditions associated with C-SN configuration 1 and the conditions associated with C-SN configuration 2, as well as C-SN configuration 1 and C-SN configuration 2. In this implementation, UE102 replaces all existing conditions associated with the existing C-SN configuration (at least for SRB 3C-SN configuration) with all received conditions associated with the received C-SN configuration. Thus, the UE102 need not determine whether a pre-existing condition is associated with the received C-SN configuration.
In FIG. 11B, in an example scenario 1100B, base station 104A operates as the MN for UE102 and base station 106A operates as the C-SN for UE 102. Initially, UE102 communicates 1107B data (e.g., UL data PDUs and/or DL data PDUs) with MN104A, and MN104A configures UE102 with C-SN configuration 1 of the first candidate cell. In scenario 1100B, assume that UE102 has not been configured with any other C-SN configuration prior to event 1107B, or that UE102 has released any such prior configuration.
MN104A later determines 1111B to configure UE102 with a C-SN configuration of 2 for the second candidate cell and, in response, sends 1128B SN request message to C-SN106A associated with the second candidate cell. In response to the SN request message, C-SN106A generates 1138B C-SN configuration 2 for the second candidate cell and sends 1132B an SN request acknowledgement message including C-SN configuration 2 to MN 104A.
In this implementation, in response to receiving the SN request acknowledgement message, MN104A generates a complete list or set of conditional configurations, which in this scenario 1100B includes only C-SN configuration 1 and C-SN configuration 2. MN104A sends 1141B this complete set of conditional configurations (i.e., C-SN configuration 1 and C-SN configuration 2) to UE 102.
In response to receiving the conditional configuration set, UE102 replaces 1148B all stored C-SN configurations (here, only C-SN configuration 1) with the received C-SN configurations (i.e., C-SN configuration 1 and C-SN configuration 2). UE102 need not determine whether the received C-SN configuration is intended to update a pre-existing C-SN configuration stored in UE102 or is intended to be a new C-SN configuration.
In some implementations, MN104A may also send to UE102 the conditions associated with C-SN configuration 1 and the conditions associated with C-SN configuration 2, as well as C-SN configuration 1 and C-SN configuration 2. In this implementation, UE102 replaces all existing conditions associated with the existing C-SN configuration with all received conditions associated with the received C-SN configuration. Thus, the UE102 need not determine whether a pre-existing condition is associated with the received C-SN configuration.
Later, the UE102 determines 1160B that a condition for accessing the second candidate cell is satisfied and, in response, initializes 1166B a random access procedure on the second candidate cell. The UE102 then performs 1154B random access procedures with the C-SN106A via the second candidate cell. Events 1148B, 1160B, 1166B, and 1154B are collectively referred to in FIG. 11B as process 1192B.
In fig. 11C, in an example scenario 1100C, base station 104A operates as the MN of UE102, and base station 106A operates as both the SN and the C-SN of UE 102. Initially, UE102 communicates 1108C with MN104A and base station 106A, and MN104A or base station (as SN)106A configures UE102 with C-SN configuration 1 for the first candidate cell. In scenario 1100C, it is assumed that UE102 has not been configured with any other C-SN configuration prior to event 1108C, or that UE102 has released any such prior configuration.
In this implementation, in response to receiving a message including C-SN configuration 2, MN104A generates a complete list or set of conditional configurations, which in this scenario 1100C includes only C-SN configuration 1 and C-SN configuration 2. MN104A sends 1141C this complete set of conditional configurations (i.e., C-SN configuration 1 and C-SN configuration 2) to UE 102.
In some implementations, MN104A may also send to UE102 the conditions associated with C-SN configuration 1 and the conditions associated with C-SN configuration 2, as well as C-SN configuration 1 and C-SN configuration 2. In this implementation, UE102 replaces all existing conditions associated with the existing C-SN configuration with all received conditions associated with the received C-SN configuration. Thus, the UE102 need not determine whether a pre-existing condition is associated with the received C-SN configuration.
In response to receiving the set of conditional configurations, UE102 replaces all stored C-SN configurations (here, only C-SN configuration 1) with the received C-SN configurations (i.e., C-SN configuration 1 and C-SN configuration 2), determines that the conditions for accessing the second candidate cell are met, and initializes and performs a random access procedure in procedure 1192C (e.g., similar to 1192B).
In fig. 11D, in example scenario 1100D, base station 104A operates as the MN of UE102, and base station 106A operates as both the SN and the C-SN of UE 102. Initially, UE102 communicates 1108D with MN104A and base station (as SN)106A, and either MN104A or base station (as SN)106A configures UE102 with C-SN configuration 1 for the first candidate cell. In scenario 1100D, assume that UE102 has not been configured with any other C-SN configuration prior to event 1108D, or that UE102 has released any such prior configuration.
In some implementations, base station 106A may also send the conditions associated with C-SN configuration 1 and C-SN configuration 2, as well as C-SN configuration 1 and C-SN configuration 2, to UE 102. In this implementation, UE102 replaces all existing conditions associated with the existing C-SN configuration with all received conditions associated with the received C-SN configuration. Thus, the UE102 need not determine whether a pre-existing condition is associated with the received C-SN configuration.
In response to receiving the set of conditional configurations, UE102 replaces all stored C-SN configurations (here, only C-SN configuration 1) with the received C-SN configurations (i.e., C-SN configuration 1 and C-SN configuration 2), determines that the conditions for accessing the second candidate cell are met, and initializes and performs a random access procedure in procedure 1192D (e.g., similar to 1192B).
Fig. 12 is a flow diagram depicting an example method 1200 implemented in a user equipment (e.g., UE 102) to maintain a correct set of conditional configurations using a configuration identifier.
In the method 1200, at block 1202, a user device receives a configuration and a configuration identifier from a base station (e.g., in any of the transmissions 334A-C, 434A-B, 534A-C, 636A-B, 637C, 736A-B, 737C, 836A-B, 837C, 836D). The configuration is associated with a condition to be satisfied before the user device can use the configuration to communicate with a candidate base station (e.g., base station 106A) or via a candidate cell (e.g., cell 126A). For example, the configuration identifier may be a transaction ID, a cell ID, or a dedicated conditional configuration identifier.
At block 1204, the user device determines whether the configuration identifier corresponds to any pre-existing configuration stored in the user device. If not, flow proceeds to block 1206 where the user device stores the configuration as a new configuration in the user device. However, if the configuration identifier does correspond to a pre-existing configuration, then at block 1208, the user device modifies the pre-existing configuration using the received configuration. For example, blocks 1204, 1206, and 1208 may collectively correspond to any of events 340A-C, 440A-B, 540A-C, 642A-C, 742A-C, and 842A-D.
Fig. 13 is a flow diagram depicting an example method 1300 implemented in a RAN (e.g., base station 104A and/or 106A) that employs a configuration identifier to facilitate maintaining a correct set of conditional configurations at a user equipment (e.g., UE 102).
In method 1300, at block 1302, the RAN (e.g., base station 104A or 106A) determines to configure a conditional procedure (e.g., conditional switch, conditional SN addition, or conditional SN change). For example, the determination at block 1302 may correspond to any of determinations 310A-C, 410A-B, 510A-C, 612A-C, 712A-C, and 812A-D.
At block 1304, the RAN (e.g., base station 104A and/or 106A) assigns a configuration identifier (e.g., transaction ID, cell ID, dedicated configuration identifier, etc.) to the configuration. For example, the assignment at block 1304 may correspond to any of events 320A-C, 420A-B, 520A-C, 620A-C, 720A-C, and 820A-D. Alternatively, the assignment at block 1304 in conjunction with subsequent identification of the configuration identifier corresponding to the first identifier (e.g., PCI) may correspond to an initial determination of the first identifier (e.g., CGI), such as described above in conjunction with fig. 4A, 4B, and 7A-7C, for example.
At block 1306, the RAN (e.g., base station 104A or 106A) causes the user device to store the configuration as a new configuration based on the configuration identifier or to use the configuration to modify a preexisting configuration already stored at the user device. Block 1306 includes the RAN sending the configuration identifier to the user device (e.g., sending any of 334A-C, 434A-B, 534A-C, 636A-B, 637C, 736A-B, 737C, 836A-B, 837C, 836D).
Fig. 14 is a flow diagram depicting an alternative example method 1400 implemented in a user device (e.g., UE 102) to maintain a correct set of conditional configurations.
In method 1400, at block 1402, a user device receives (e.g., in any of the transmissions 1039A-B, 1137A, 1141B-C, 1137D) a set of conditional configurations from a RAN (e.g., base station 104A). A collection consists of one or more configurations that all correspond to a particular type of conditional process (e.g., conditional switch, conditional SN addition or SN change by SRB3, conditional SN addition or SN change by SRB1, etc.).
At block 1404, the user device replaces all pre-existing conditional configurations corresponding to a particular type of conditional procedure with one or more of the set of conditional configurations. For example, block 1404 may correspond to any of events 1045A-B or 1148A-B, or to a replacement occurring in process 1192C or 1192D.
Fig. 15 is a flow diagram depicting an alternative example method 1500 implemented in a RAN (e.g., base stations 104A and/or 106A) that facilitates maintaining a correct set of condition configurations at a user device (e.g., UE 102).
In methodology 1500, at block 1502, the RAN (e.g., base station 104A) maintains a set of conditional configurations that includes all unreleased conditional configurations associated with a particular user device and a particular type of conditional process (e.g., conditional handover, conditional SN addition or SN change by SRB3, conditional SN addition or SN change by SRB1, etc.).
At block 1504, the RAN (e.g., base station 104A or 106A) determines to configure a conditional procedure (of the same particular type) for the user equipment. For example, block 1504 may correspond to any of events 1010A-B or 1111A-D.
At block 1506, the RAN (e.g., base station 104A) adds the first configuration to the set of conditional configurations. For example, block 1506 may include updating memory in a base station of the RAN to add the first configuration.
At block 1508, the RAN (e.g., base station 104A or 106A) causes the user device to replace all pre-existing conditional configurations (corresponding to a particular type of conditional procedure) with all configurations in the set of conditional configurations. Block 1508 includes the RAN sending the set of conditional configurations (e.g., any of 1039A-B, 1137A, 1141B-C, 1137D) to the user device.
By way of example, and not limitation, the disclosure herein contemplates at least the following:
aspect 1-a method in a user equipment in communication with a base station, the method comprising: receiving, by processing hardware of a user device from a base station, (i) a configuration associated with a condition to be satisfied before the user device can communicate with a candidate base station or via a candidate cell using the configuration and (ii) a configuration identifier; determining, by the processing hardware and based on the configuration identifier, whether the configuration corresponds to any pre-existing configuration stored in the user device; and (i) storing, by the processing hardware, the configuration as a new configuration in the user device or (ii) modifying, by the processing hardware, a pre-existing configuration already stored in the user device using the configuration based on whether the configuration corresponds to any pre-existing configuration stored in the user device.
Aspect 3-the method of aspect 2, wherein receiving the configuration identifier comprises receiving a transaction identifier or a measurement identifier in a conditional switch command.
Aspect 4-the method of aspect 2, wherein receiving the configuration identifier comprises receiving a cell identifier of the candidate cell in a conditional handover command.
Aspect 5-the method of aspect 4, wherein receiving the cell identifier comprises receiving a Physical Cell Identifier (PCI) of the candidate cell in the conditional handover command.
Aspect 6-the method of aspect 2, wherein receiving the configuration identifier comprises receiving the configuration identifier (i) in an information element of a conditional handover command dedicated to configuration identification or (ii) in a message of a Radio Resource Control (RRC) container that separately includes the conditional handover command.
Aspect 7 — the method according to aspect 2, wherein: receiving the configuration and configuration identifier from the base station comprises receiving the configuration and configuration identifier from a first distributed unit of the base station; and the candidate cell is associated with a second distributed unit of the base station.
Aspect 8-the method of aspect 2, wherein the candidate cells are associated with different base stations.
Aspect 9 — the method according to aspect 1, wherein: the condition is a condition to be satisfied before the user equipment is able to add the candidate base station as an auxiliary node to operate with dual connectivity with the base station and the candidate base station; and the method comprises receiving at least said configuration in a conditional auxiliary node configuration message from the base station.
Aspect 10-the method of aspect 9, wherein receiving the configuration identifier comprises receiving a transaction identifier or a measurement identifier in a conditional auxiliary node configuration message.
Aspect 11-the method of aspect 9, wherein receiving the configuration identifier comprises receiving a cell identifier of a cell associated with the candidate base station in a conditional auxiliary node configuration message.
Aspect 12-the method of aspect 9, wherein receiving the configuration identifier comprises receiving the configuration identifier (i) in an information element of a conditional auxiliary node configuration message dedicated to configuration identification or (ii) in a message of a Radio Resource Control (RRC) container that separately includes the conditional auxiliary node configuration message.
Aspect 13 — the method according to aspect 9, comprising: when the base station operates as a master node, the configuration and configuration identifier is received from the base station, and the user device operates with dual connectivity with the master node.
Aspect 14 — the method according to aspect 9, comprising: when the base station operates as a secondary node, a configuration and a configuration identifier are received from the base station, with which the user device operates with dual connectivity.
Aspect 15 — the method according to aspect 1, further comprising: determining, by processing hardware, that a condition is satisfied; and in response to determining that the condition is satisfied, performing a random access procedure to communicate with the candidate base station or a base station associated with the candidate cell.
Aspect 16 — the method according to aspect 1, further comprising: receiving a configuration release message including a configuration identifier from a base station or a different base station; and releasing, by the processing hardware, the configuration in response to receiving the configuration release message.
Aspect 17 — a method in a user equipment configured to store a configuration for communicating with a candidate base station or via a candidate cell, the method comprising: receiving, by processing hardware of a user device, from a Radio Access Network (RAN), a conditional configuration set consisting of one or more configurations, each of the one or more configurations being associated with (i) a respective candidate base station or a respective candidate cell and (ii) a respective condition to be satisfied before the user device can communicate with the respective candidate base station or via the respective candidate cell according to a first type of conditional procedure; and in response to receiving the set of conditional configurations, replacing (i) all pre-existing configurations stored in the user equipment and associated with conditions to be met before the user equipment can communicate with the particular candidate base station or via the particular candidate cell according to the first type of conditional procedure with (ii) one or more configurations of the set of conditional configurations, regardless of whether any of the set of conditional configurations corresponds to any pre-existing configuration.
Aspect 18 — the method according to aspect 17, wherein: the first type of conditional procedure is a conditional switch procedure; for each of the one or more configurations, the respective condition is a condition to be met before the user equipment is able to perform handover to the respective candidate cell; and receiving the conditional configuration set comprises receiving one or more conditional handover commands from the RAN.
Aspect 19 — the method according to aspect 17, wherein: the first type of conditional procedure is a conditional assisted node addition procedure; for each of the one or more configurations, the respective condition is a condition to be met before the user equipment is able to add the respective candidate base station as a secondary node to operate with dual connectivity with the primary node and the secondary node; and receiving the conditional configuration set comprises receiving one or more conditional assistance node configuration messages from the RAN.
Aspect 21-the method of aspect 19, comprising: a set of conditional configurations is received from a base station operating as a current secondary node.
Aspect 22-the method of aspect 17, further comprising: determining, by processing hardware, that a first condition associated with one of the one or more configurations is satisfied; and in response to determining that the first condition is satisfied, performing a random access procedure to communicate with the candidate base station corresponding to the first condition or via the candidate cell corresponding to the first condition.
Aspect 23 — the method of aspect 17, wherein replacing all pre-existing configurations with one or more configurations of the conditional configuration set comprises: for a first pre-existing configuration that includes a plurality of configuration parameters, only a subset of the plurality of configuration parameters is replaced.
Aspect 24-the method of aspect 1, wherein the first type of conditional procedure is a procedure in which the base station configures the user equipment via one or more specific types of Signal Radio Bearers (SRBs).
Aspect 25-a user device comprising hardware and configured to perform the method according to any of aspects 1 to 24.
Aspect 26 — a method in a Radio Access Network (RAN), the method comprising: determining, by processing hardware of the RAN, a configuration condition procedure that enables the user device to conditionally communicate with a candidate base station of the RAN or via a candidate cell of the RAN; assigning, by the processing hardware, a configuration identifier to a configuration associated with (i) the candidate base station or the candidate cell and (ii) a condition to be satisfied before the user device can communicate with the candidate base station or via the candidate cell using the configuration; and causing the user device to modify a pre-existing configuration already stored at the user device based on the configuration identifier (i) storing the configuration as a new configuration or (ii) using the configuration, at least by sending the configuration and the configuration identifier to the user device.
Aspect 27-the method of aspect 26, wherein the process enables the user equipment to conditionally handover to the candidate cell.
Aspect 28 — the method of aspect 27, wherein assigning a configuration identifier to the configuration comprises assigning a transaction identifier or a measurement identifier to the configuration.
Aspect 29-the method of aspect 27, wherein assigning a configuration identifier to the configuration comprises assigning a cell identifier of the candidate cell to the configuration.
Aspect 30-the method of aspect 27, wherein assigning a cell identifier to a configuration comprises: determining, at a first base station of a RAN, a Cell Global Identifier (CGI) of a candidate cell; and determining, at the base station corresponding to the candidate cell, a Physical Cell Identifier (PCI) corresponding to the CGI, wherein sending the configuration identifier to the user equipment comprises sending, by the base station corresponding to the candidate cell, the PCI of the candidate cell to the user equipment.
Aspect 31-the method of aspect 27, wherein assigning a configuration identifier to the configuration comprises assigning a value in (i) an information element in a conditional handover command dedicated to the configuration identification or (ii) a Radio Resource Control (RRC) container separately comprising the conditional handover command.
Aspect 32 — the method according to aspect 27, wherein: determining that a configuration procedure is performed at a first base station of a RAN; the sending of the configuration and the configuration identifier to the user equipment is performed by the first base station; and the candidate cell is associated with a second base station of the RAN.
Aspect 33 — the method according to aspect 32, wherein: assigning a configuration identifier to the configuration is performed at the first base station; the method further comprises sending, by the first base station, a handover request comprising the configuration identifier to the second base station; and the method further comprises sending, by the second base station, a handover request acknowledgement comprising the configuration to the first base station.
Aspect 34 — the method according to aspect 32, wherein: the method further comprises sending, by the first base station, a handover request to the second base station; performing, at the second base station, assigning a configuration identifier to the configuration; and the method further comprises sending, by the second base station, a handover request acknowledgement comprising the configuration and the configuration identifier to the first base station.
Aspect 35 — the method according to aspect 27, wherein: determining that a configuration procedure is performed at a first base station of a RAN; the sending of the configuration and the configuration identifier to the user device is performed by the first base station; and the first candidate cell is associated with the first base station.
Aspect 36-the method of aspect 26, wherein the process enables the user device to conditionally add the candidate base station as a secondary node to operate with dual connectivity with the primary node and the secondary node.
Aspect 37-the method of aspect 36, wherein assigning a configuration identifier to the configuration comprises assigning a transaction identifier or a measurement identifier to the configuration.
Aspect 38 — the method of aspect 36, wherein assigning a configuration identifier to the configuration comprises assigning a cell identifier of a cell associated with the candidate base station to the configuration.
Aspect 39 — the method of aspect 36, wherein assigning a cell identifier to a configuration comprises: determining, at a first base station of a RAN, a Cell Global Identifier (CGI) of a cell associated with a candidate base station; and determining, at the candidate base station, a Physical Cell Identifier (PCI) corresponding to the CGI, wherein sending the configuration identifier to the user equipment comprises sending the PCI of the candidate cell to the user equipment.
Aspect 40 — the method according to aspect 36, wherein assigning a configuration identifier to the configuration comprises assigning a value in (i) an information element of a conditional secondary node configuration message dedicated to configuration identification or (ii) a Radio Resource Control (RRC) container message that solely comprises the secondary node configuration message.
Aspect 41-the method of aspect 36, wherein: determining that a configuration procedure is performed at a first base station of a RAN; and the sending of the configuration and the configuration identifier to the user equipment is performed by the first base station.
Aspect 42 — the method according to aspect 41, wherein: assigning a configuration identifier to the configuration is performed at the first base station; the method further comprises sending, by the first base station, a secondary node addition or change request comprising the configuration identifier to the candidate base station; and the method further comprises sending, by the candidate base station to the first base station, a secondary node addition or change request comprising the configuration.
Aspect 43 — the method according to aspect 41, wherein: the method further comprises sending, by the first base station, a request for assistance node addition or change to the candidate base station; performing, at the candidate base station, assigning a configuration identifier to the configuration; and the method further comprises sending, by the candidate base station to the first base station, a secondary node addition or change request acknowledgement comprising the configuration and the configuration identifier.
Aspect 44-the method of aspect 36, wherein determining the configuration procedure and assigning the configuration identifier to the configuration are performed at a first base station of the RAN operating as a current secondary node.
Aspect 45 — the method according to aspect 44, wherein: the method further includes transmitting, by the first base station, the configuration and the configuration identifier to a second base station of the RAN operating as the master node; and the sending of the configuration and the configuration identifier to the user equipment is performed by the second base station.
Aspect 46 — the method of aspect 44, wherein transmitting the configuration and the configuration identifier to the user device is performed at the first base station.
Aspect 47 — the method of aspect 26, further comprising: the user equipment releases the configuration at least by sending a configuration release message comprising the configuration identifier to the user equipment.
Aspect 47 — a method in a Radio Access Network (RAN), the method comprising maintaining, by processing hardware of the RAN, a set of condition configurations, the set comprising all unreleased configurations associated with (i) a user device and (ii) a condition to be met before the user device can communicate with a respective candidate base station or via a respective candidate cell according to a first type of conditional procedure; determining, by processing hardware, to configure a first conditional procedure of a first type that enables a user device to conditionally communicate with a first candidate base station of a RAN or via a first candidate cell of the RAN; adding, by processing hardware, a first configuration to a set of conditional configurations, the first configuration being associated with (i) a first candidate base station or a first candidate cell and (ii) a condition to be satisfied before a user device is able to communicate with the first candidate base station or via the first candidate cell using the first configuration and according to a first type of conditional procedure; and after adding the first configuration, replacing, by the user device, by at least by sending the set of conditional configurations to the user device, (i) all pre-existing configurations stored in the user device and associated with conditions to be met before the user device can communicate with the particular candidate base station or via the particular candidate cell according to the first type of conditional procedure, with (ii) all configurations in the set of conditional configurations.
Aspect 49 — the method according to aspect 48, wherein: the first type of conditional procedure is a conditional switch procedure; a first conditional procedure enables the user equipment to conditionally handover to the first candidate cell; determining to configure the first conditional procedure, adding the first configuration to the set of conditional configurations, and sending the set of conditional configurations to the user equipment are performed at a first base station of the RAN.
Aspect 50 — the method according to aspect 49, further comprising: sending, by the first base station, a handover request to a second base station of the RAN associated with the first candidate cell; and sending, by the second base station, a handover request acknowledgement including the first configuration to the first base station.
Aspect 51-the method of aspect 49, wherein the first candidate cell is associated with the first base station.
Aspect 52 — the method of aspect 48, wherein: the first type of conditional procedure is a conditional assisted node addition procedure; and a first conditional process enabling the user equipment to conditionally add the first candidate base station as a secondary node to operate with dual connectivity with the primary node and the secondary node.
Aspect 53-the method according to aspect 52, wherein: determining that configuring the first conditional procedure is performed at a first base station of the RAN operating as the master node; the method further comprises sending, by the first base station, a conditional auxiliary node addition request to the first candidate base station; the method further comprises sending, by the first candidate base station to the first base station, a conditional assistance node addition request acknowledgement comprising the first configuration; performing, at a first base station, adding a first configuration to a set of conditional configurations; and sending the conditional configuration to the user equipment is performed by the first base station.
Aspect 54 — the method according to aspect 52, wherein: determining that configuring the first conditional procedure is performed at a first base station of the RAN operating as a current secondary node; the method also includes transmitting, by the first base station, the first configuration to a second base station of the RAN operating as the master node; performing, at the second base station, adding the first configuration to the set of conditional configurations; and sending the set of conditional configurations to the user equipment is performed by the second base station.
Aspect 55 — the method according to aspect 52, wherein: determining that configuring the first conditional procedure is performed at a first base station of the RAN operating as a current secondary node; performing, at a first base station, adding a first configuration to a set of conditional configurations; and sending the set of conditional configurations to the user equipment is performed by the first base station.
Aspect 56 — the method according to aspect 48, further comprising: determining, by the processing hardware, to release the first configuration; removing, by the processing hardware, the first configuration from the set of conditional configurations in response to determining to release the first configuration; and after removing the first configuration, sending the set of conditional configurations to the user device.
Aspect 57-the method of aspect 48, wherein the first type of conditional procedure is a procedure in which the RAN configures the user equipment via one or more specific types of Signal Radio Bearers (SRBs).
Aspect 58-a Radio Access Network (RAN) comprising hardware and configured to perform the method according to any one of aspects 26 to 57.
In the above description, the terms "conditional SN addition/change" and "conditional PSCell addition/change" may be used interchangeably. For example, the conditional configuration may be a CHO command or a C-SN configuration.
A user device (e.g., UE 102) that may implement the techniques of this disclosure may be any suitable device capable of wireless communication, such as a smartphone, a tablet computer, a laptop computer, a mobile gaming console, a point of sale (POS) terminal, a health monitoring device, a drone, a camera, a media stream dongle or another personal media device, a wearable device such as a smartwatch, a wireless hotspot, a femtocell, or a broadband router. Further, in some cases, the user device may be embedded in an electronic system, such as a main unit of a vehicle or an Advanced Driver Assistance System (ADAS). Further, the user device may operate as an internet of things (IoT) device or a Mobile Internet Device (MID). Depending on the type, the user device may include one or more general purpose processors, computer readable memory, a user interface, one or more network interfaces, one or more sensors, and the like.
Certain embodiments are described in this disclosure as comprising logic or multiple components or modules. The modules may be software modules (e.g., code or machine-readable instructions stored on a non-transitory machine-readable medium) or hardware modules. A hardware module is a tangible unit capable of performing certain operations and may be configured or arranged in a certain manner. A hardware module may comprise permanently configured special-purpose circuitry or logic (e.g., as a special-purpose processor such as a Field Programmable Gate Array (FPGA) or Application Specific Integrated Circuit (ASIC), a Digital Signal Processor (DSP), etc.) to perform certain operations. A hardware module may also comprise programmable logic or circuitry (e.g., contained within a general-purpose processor or other programmable processor) that is temporarily configured by software to perform certain operations. The decision to implement a hardware module in dedicated and permanently configured circuitry or in temporarily configured circuitry (e.g., configured by software) may be driven by cost and time considerations.
When implemented in software, the techniques may be provided as part of an operating system, a library used by a number of applications, a specific software application, or the like. The software may be executed by one or more general-purpose processors or one or more special-purpose processors.
Claims (32)
1. A method in a user device in communication with a base station, the method comprising:
receiving, by processing hardware of the user device from the base station, (i) a configuration associated with conditions to be satisfied before the user device can communicate with a candidate base station or via a candidate cell using the configuration and (ii) a dedicated configuration identifier dedicated to identifying the configuration;
determining, by the processing hardware and based on the dedicated configuration identifier, whether the configuration corresponds to any pre-existing configuration stored in the user device; and
(i) storing, by the processing hardware, the configuration as a new configuration in the user device or (ii) modifying, by the processing hardware, a pre-existing configuration already stored in the user device using the configuration based on whether the configuration corresponds to any pre-existing configuration stored in the user device.
2. The method of claim 1, wherein:
the condition is a condition to be satisfied before the user equipment is able to perform handover to the candidate cell; and
receiving the configuration comprises receiving the configuration in a conditional switch command.
3. The method of claim 2, wherein receiving the dedicated configuration identifier comprises receiving the dedicated configuration identifier in an information element of the conditional handover command.
4. The method of claim 2, wherein receiving the dedicated configuration identifier comprises receiving the dedicated configuration identifier in a message of a Radio Resource Control (RRC) container that separately includes the conditional handover command.
5. The method of claim 2, wherein:
receiving the configuration and the dedicated configuration identifier from the base station comprises receiving the configuration and the dedicated configuration identifier from a first distributed unit of the base station; and
the candidate cell is associated with a second distributed unit of the base station.
6. The method of claim 1, wherein:
the condition is a condition to be satisfied before the user equipment can add the candidate base station as an auxiliary node to operate with dual connectivity with the base station and the candidate base station; and
the method comprises receiving at least the configuration in a conditional auxiliary node configuration message from the base station.
7. The method of claim 6, wherein receiving the dedicated configuration identifier comprises receiving the dedicated configuration identifier in an information element of the conditional auxiliary node configuration message.
8. The method of claim 6, wherein receiving the dedicated configuration identifier comprises receiving the dedicated configuration identifier in a Radio Resource Control (RRC) container message that separately includes the conditional secondary node configuration message.
9. The method of claim 6, comprising:
receiving the configuration and the dedicated configuration identifier from the base station when the base station is operating as a master node, the user device operating with dual connectivity with the master node.
10. The method of claim 6, comprising:
receiving the configuration and the dedicated configuration identifier from the base station when the base station is operating as a secondary node with which the user device is operating with dual connectivity.
11. The method of any of claims 1 to 10, further comprising:
determining, by the processing hardware, that the condition is satisfied; and
in response to determining that the condition is satisfied, performing a random access procedure to communicate with the candidate base station or a base station associated with the candidate cell.
12. The method of claim 1, further comprising:
receiving a configuration release message including the dedicated configuration identifier from the base station or a different base station; and
releasing, by the processing hardware, the configuration in response to receiving the configuration release message that includes the dedicated configuration identifier.
13. A user device comprising hardware and configured to perform the method of any of claims 1-12.
14. A method in a Radio Access Network (RAN), the method comprising:
determining, by processing hardware of the RAN, a configuration condition procedure that enables a user device to conditionally communicate with a candidate base station of the RAN or via a candidate cell of the RAN;
assigning, by the processing hardware, a dedicated configuration identifier to a configuration associated with a condition to be satisfied before the user equipment is able to communicate with (i) the candidate base station or the candidate cell and (ii) with the candidate base station or via the candidate cell using the configuration; and
causing the user device to (i) store the configuration as a new configuration or (ii) modify a pre-existing configuration already stored at the user device using the configuration based on the dedicated configuration identifier at least by sending the configuration and the dedicated configuration identifier to the user device.
15. The method of claim 14, wherein the process enables the user equipment to conditionally handover to the candidate cell.
16. The method of claim 15, wherein assigning the dedicated configuration identifier to the configuration comprises assigning a value of an information element in a conditional switch command.
17. The method of claim 15, wherein assigning the dedicated configuration identifier to the configuration comprises assigning a value in a message of a Radio Resource Control (RRC) container that separately includes the conditional handover command.
18. The method of claim 15, wherein:
determining that configuring the process is performed at a first base station of the RAN;
performing, by the first base station, sending the configuration and the dedicated configuration identifier to the user equipment; and
the candidate cell is associated with a second base station of the RAN.
19. The method of claim 18, wherein:
performing, at the first base station, assigning the dedicated configuration identifier to the configuration;
the method further comprises sending, by the first base station, a handover request comprising the dedicated configuration identifier to the second base station; and
the method also includes sending, by the second base station, a handover request acknowledgement to the first base station including the configuration.
20. The method of claim 18, wherein:
the method further comprises sending, by the first base station, a handover request to the second base station;
performing, at the second base station, assigning the dedicated configuration identifier to the configuration; and
the method further comprises sending, by the second base station to the first base station, a handover request acknowledgement comprising the configuration and the dedicated configuration identifier.
21. The method of claim 15, wherein:
determining that configuring the process is performed at a first base station of the RAN;
performing, by the first base station, sending the configuration and the dedicated configuration identifier to the user equipment; and
the first candidate cell is associated with the first base station.
22. The method of claim 14, wherein the process enables the user equipment to conditionally add the candidate base station as a secondary node to operate with dual connectivity with a primary node and the secondary node.
23. The method of claim 22, wherein assigning the dedicated configuration identifier to the configuration comprises assigning a value of an information element of a conditional auxiliary node configuration message.
24. The method of claim 22, wherein assigning the dedicated configuration identifier to the configuration comprises assigning a value in a message of a Radio Resource Control (RRC) container that separately includes the secondary node configuration message.
25. The method of claim 22, wherein:
determining that configuring the process is performed at a first base station of the RAN; and
transmitting, by the first base station, the configuration and the dedicated configuration identifier to the user equipment is performed.
26. The method of claim 25, wherein:
performing, at the first base station, assigning the dedicated configuration identifier to the configuration;
the method further comprises sending, by the first base station, a secondary node addition or change request comprising the dedicated configuration identifier to the candidate base station; and
the method further comprises sending, by the candidate base station to the first base station, a secondary node addition or change request acknowledgement comprising the configuration.
27. The method of claim 25, wherein:
the method further comprises sending, by the first base station, a secondary node addition or change request to the candidate base station;
performing, at the candidate base station, assigning the dedicated configuration identifier to the configuration; and
the method further comprises sending, by the candidate base station to the first base station, a secondary node addition or change request acknowledgement comprising the configuration and the dedicated configuration identifier.
28. The method of claim 22, wherein determining to configure the procedure and assigning the dedicated configuration identifier to the configuration are performed at a first base station of the RAN operating as a current secondary node.
29. The method of claim 28, wherein:
the method further includes transmitting, by the first base station, the configuration and the dedicated configuration identifier to a second base station of the RAN operating as a master node; and
transmitting, by the second base station, the configuration and the dedicated configuration identifier to the user equipment is performed.
30. The method of claim 28, wherein the transmitting the configuration and the dedicated configuration identifier to the user equipment is performed by the first base station.
31. The method of claim 14, further comprising:
causing the user equipment to release the configuration at least by sending a configuration release message to the user equipment comprising the dedicated configuration identifier.
32. A Radio Access Network (RAN) comprising hardware and configured to perform the method of any of claims 14 to 31.
Applications Claiming Priority (5)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US201962932432P | 2019-11-07 | 2019-11-07 | |
US62/932,432 | 2019-11-07 | ||
US201962953041P | 2019-12-23 | 2019-12-23 | |
US62/953,041 | 2019-12-23 | ||
PCT/US2020/059298 WO2021092301A1 (en) | 2019-11-07 | 2020-11-06 | Adding and modifying conditional configurations at a user device |
Publications (1)
Publication Number | Publication Date |
---|---|
CN114868453A true CN114868453A (en) | 2022-08-05 |
Family
ID=73646536
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN202080089500.0A Pending CN114868453A (en) | 2019-11-07 | 2020-11-06 | Adding and modifying conditional configurations at a user device |
Country Status (5)
Country | Link |
---|---|
US (1) | US20220394578A1 (en) |
EP (1) | EP3850904B1 (en) |
CN (1) | CN114868453A (en) |
AU (1) | AU2020378400A1 (en) |
WO (1) | WO2021092301A1 (en) |
Families Citing this family (1)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20230047617A1 (en) * | 2021-08-10 | 2023-02-16 | Qualcomm Incorporated | Nested conditional mobility procedures |
Family Cites Families (4)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20160028585A1 (en) * | 2014-01-31 | 2016-01-28 | Telefonaktiebolaget L M Ericsson (Publ) | A Master and Second Evolved Node B and Method Performed Thereby for Modifying a Radio Resource of the SENB with Respect to a UE Currently Being Connected to the MENB |
US10848977B2 (en) * | 2016-11-02 | 2020-11-24 | Comcast Cable Communications, Llc | Dual connectivity with licensed assisted access |
US10959274B2 (en) * | 2017-09-26 | 2021-03-23 | Intel Corporation | Methods and apparatus to improve Bluetooth low energy streaming connection efficiency |
WO2019137453A1 (en) | 2018-01-12 | 2019-07-18 | Fg Innovation Ip Company Limited | Conditional handover procedures |
-
2020
- 2020-11-06 EP EP20816783.3A patent/EP3850904B1/en active Active
- 2020-11-06 WO PCT/US2020/059298 patent/WO2021092301A1/en unknown
- 2020-11-06 US US17/775,509 patent/US20220394578A1/en active Pending
- 2020-11-06 CN CN202080089500.0A patent/CN114868453A/en active Pending
- 2020-11-06 AU AU2020378400A patent/AU2020378400A1/en active Pending
Also Published As
Publication number | Publication date |
---|---|
WO2021092301A1 (en) | 2021-05-14 |
EP3850904B1 (en) | 2024-01-31 |
US20220394578A1 (en) | 2022-12-08 |
AU2020378400A1 (en) | 2022-04-28 |
EP3850904C0 (en) | 2024-01-31 |
EP3850904A1 (en) | 2021-07-21 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US11805454B2 (en) | Method and apparatus for mobility management | |
US10972945B2 (en) | Method for handover between secondary base stations, network device, and user equipment | |
CN111757557B (en) | Method for supporting access to closed network, UE, base station and readable storage medium | |
EP2880903B1 (en) | Radio resource management for dual priority access | |
EP3114877B1 (en) | Method for data forwarding in a small cell system | |
US20210105690A1 (en) | Conditional handover management | |
US20220386191A1 (en) | Conditional full configuration and conditional delta configuration | |
WO2021162870A1 (en) | Managing conditional configuration when a secondary cell is unavailable | |
US20240022897A1 (en) | Managing different types of communication devices | |
CN115336323A (en) | Conditional configuration in a distributed base station | |
EP4008129B1 (en) | Configuration handling at a user device | |
CN115699879A (en) | Conditioned process operations | |
EP3850904B1 (en) | Adding and modifying conditional configurations at a user device | |
US20230049140A1 (en) | Managing a conditional configuration upon addition or release of a bearer | |
CN115244989A (en) | Identification and processing of conditional procedures | |
WO2024091704A1 (en) | Managing master node communication in conditional dual connectivity | |
WO2023133272A1 (en) | Managing cell group configurations for conditional secondary node procedures |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
PB01 | Publication | ||
PB01 | Publication | ||
SE01 | Entry into force of request for substantive examination | ||
SE01 | Entry into force of request for substantive examination |