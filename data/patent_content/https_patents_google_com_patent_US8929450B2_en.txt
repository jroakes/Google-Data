US8929450B2 - Temporal block merge mode - Google Patents
Temporal block merge mode Download PDFInfo
- Publication number
- US8929450B2 US8929450B2 US13/351,682 US201213351682A US8929450B2 US 8929450 B2 US8929450 B2 US 8929450B2 US 201213351682 A US201213351682 A US 201213351682A US 8929450 B2 US8929450 B2 US 8929450B2
- Authority
- US
- United States
- Prior art keywords
- block
- temporally
- current
- spatially
- motion vector
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Active, expires
Links
Images
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
-
- H04N19/00696—
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/50—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using predictive coding
- H04N19/503—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using predictive coding involving temporal prediction
- H04N19/51—Motion estimation or motion compensation
- H04N19/513—Processing of motion vectors
- H04N19/517—Processing of motion vectors by encoding
- H04N19/52—Processing of motion vectors by encoding by predictive encoding
-
- H04N19/00969—
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/90—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using coding techniques not provided for in groups H04N19/10-H04N19/85, e.g. fractals
- H04N19/96—Tree coding, e.g. quad-tree coding
Definitions
- Particular embodiments generally relate to video compression.
- a great degree of temporal redundancy may exist. That is, within a very short period of time, the shape(s) of foreground object(s) and the background within a picture may not vary very much, and pixels in the foreground objects may move along a similar nature.
- object-based video coding different parts of a picture can be coded and transmitted separately as video objects. Motion information of different pixels in the same object should be the same in some cases. However, many bits still need to be used to describe the arbitrary object shape, which reduces coding efficiency. Thus, the efficient representation of object motion is challenging.
- High efficiency video coding is a block-based hybrid spatial and temporal predictive coding scheme.
- HEVC partitions an input picture into square blocks referred to as largest coding units (LCUs) that could be a size up to 64 ⁇ 64. Theoretically, a larger coding unit is preferred to take advantage of correlation among immediate neighboring pixels.
- LCU largest coding units
- Each LCU can be partitioned into smaller square blocks called coding units (CUs).
- FIG. lA shows an example of an LCU partition of CUs.
- An LCU 100 is first partitioned into four CUs 102 .
- Each CU 102 may also be further split into four smaller CUs 102 that are a quarter of the size of the CU 102 .
- CUs 102 - 1 , 102 - 3 , and 102 - 4 are a quarter of the size of LCU 100 . Further, a CU 102 - 2 has been split into four CUs 102 - 5 , 102 - 6 , 102 - 7 , and 102 - 8 .
- FIG. 1B shows a quadtree 104 of the LCU partition shown in FIG. 1A .
- Each node of quadtree 104 is assigned a flag of “1” if the node is further split into four sub-nodes and assigned a flag of “0” if the node is not split.
- the flag is called a split bit (e.g., 1) or stop bit (e.g., 0) and is coded in a compressed bitstream.
- a node 106 - 1 includes a flag “1” at a top CU level because LCU 100 is split into 4 CUs. At an intermediate CU level, the flags indicate whether a CU 102 is further split into four CUs. In this case, a node 106 - 3 includes a flag of “1” because CU 102 - 2 has been split into four CUs 102 - 5 - 102 - 8 . Nodes 106 - 2 , 106 - 4 , and 106 - 5 include a flag of “0” because these CUs 102 are not split.
- Nodes 106 - 6 , 106 - 7 , 106 - 8 , and 106 - 9 are at a bottom CU level and hence, no flag bit of “0” or “1” is necessary for those nodes because corresponding CUs 102 - 5 - 102 - 8 are not split.
- the partitioning process may continue all the way to 4 ⁇ 4 blocks.
- the quadtree data representation for quadtree 104 shown in FIG. 1B may be represented by the binary data of “10100”, where each bit represents a node 106 of quadtree 104 .
- the binary data indicates the LCU partitioning to the encoder and decoder, and this binary data needs to be coded and transmitted as overhead.
- Each CU 102 may include one or more prediction units (PUs).
- the PUs may be used to perform spatial prediction or temporal prediction.
- FIG. 2 shows an example of a CU partition of PUs 202 . As shown, a CU 102 has been partitioned into four PUs 202 - 1 - 202 - 4 . Spatial or temporal prediction coding may be performed over each PU 202 . In inter-mode, motion parameters are coded and transmitted for each PU. The structure may require many bits for motion information, especially for irregularly shaped objects.
- a spatial merge mode may be used to improve coding efficiency.
- the spatial merge mode may merge a current block with its neighboring block(s) to form a “region”. All the pixels within the region share the same motion parameters. Thus, there is no need to code and transmit motion parameters for each individual block of a region. Instead, for a region, only one set of motion parameters is coded and transmitted.
- the current block is allowed to merge with a spatially-located block that is neighboring the current block to the left or the top.
- a flag merge_flag is used to specify whether the current block is merged with an available neighboring block. Additionally, a flag merge_left_flag is used to indicate whether the left neighboring block or the top neighboring block should be used in the spatial merge.
- the spatial merge mode is limited to merging with spatially-located blocks in the same picture.
- a method in one embodiment, includes determining motion parameters for a temporally-located block to a current block of video content.
- the temporally-located block is located in a different picture from the current block.
- the temporally-located block is identified in a merge mode candidate list.
- the merge mode candidate list includes candidate blocks in which motion parameters are candidates to be used for the current block.
- the method then signals information to a decoder to indicate which motion parameters from a candidate block on the merge mode candidate list to use in decoding the current block.
- a method includes receiving signaling including a merge mode candidate list, the merge mode candidate list identifying candidate blocks in which motion parameters are candidates to be used for the current block; determining which candidate block is identified in the merge mode candidate list for decoding a current block of video content; and if a temporally-located block is identified, using motion parameters for the temporally-located block in decoding the current block of video content, the temporally-located block located in a different picture from the current block.
- an apparatus includes one or more computer processors and a computer-readable storage medium comprising instructions for controlling the one or more computer processors to be operable to: determine motion parameters for a temporally-located block to a current block of video content, the temporally-located block located in a different picture from the current block; identify the temporally-located block in a merge mode candidate list, the merge mode candidate list including candidate blocks in which motion parameters are candidates to be used for the current block; and signal information to a decoder to indicate which motion parameters from a candidate block on the merge mode candidate list to use in decoding the current block.
- an apparatus includes one or more computer processors and a computer-readable storage medium comprising instructions for controlling the one or more computer processors to be operable to: receive signaling including a merge mode candidate list, the merge mode candidate list identifying candidate blocks in which motion parameters are candidates to be used for the current block; determine which candidate block is identified in the merge mode candidate list for decoding a current block of video content; and if a temporally-located block is identified, use motion parameters for the temporally-located block in decoding the current block of video content, the temporally-located block located in a different picture from the current block.
- One embodiment includes a method comprising determining a merge mode for a current block of video content, wherein the merge mode is one or more blocks selected from a candidate list, wherein the candidate list comprises at least one of one or more spatially-located neighboring block, and one or more temporally-located neighboring blocks; and signaling information to a decoder to indicate which motion parameters of the at least one selected block to use in decoding the current block, wherein the at least one spatially-located neighboring block resides in the same picture as the current block; and wherein the at least one temporally-located neighboring block resides in a different picture from the current block.
- the merge mode can be one of a spatially-located neighboring block, a temporally-located neighboring block, a combination of spatially-located blocks, a combination of temporally-located blocks, and a combination of spatially-located and temporally-located blocks of the current block.
- the method further comprises determining motion parameters for the at least one spatially-located block to the current block of video content, the at least one spatially-located block located in a same picture as the current block; and identifying the at least one spatially-located block in the merge mode candidate list.
- the motion parameters to use in decoding the current block can be from the temporally-located block, the spatially-located block, or a combination of motion parameters from spatially-located blocks to the current block.
- the signaling can comprise setting information in an index at an encoder to allow the decoder to determine which motion parameters from the candidate block on the merge mode candidate list to use.
- the identifying can comprise setting a set of flags to indicate which motion parameters from the candidate block on the merge mode candidate list to use.
- the set of flags can comprise a first flag to indicate whether either of the temporally-located block and a spatially-located block is used, a second flag to indicate whether the temporally-located block is used, and a third flag to indicate which spatially-located block is used.
- One embodiment comprises a method including receiving signaling including a merge mode for a current block of video content, wherein the merge mode is one or more blocks selected from a candidate list, wherein the candidate list comprises at least one of one or more spatially-located neighboring block, and one or more temporally-located neighboring blocks; determining which candidate block is identified in the merge mode candidate list for decoding a current block of video content, wherein the at least one spatially-located neighboring block resides in the same picture as the current block; and wherein the at least one temporally-located neighboring block resides in a different picture from the current block.
- the merge mode can be one of a spatially-located neighboring block, a temporally-located neighboring block, a combination of spatially-located blocks, a combination of temporally-located blocks, and a combination of spatially-located and temporally-located blocks of the current block.
- the method further comprises determining motion parameters for the at least one spatially-located block to the current block of video content, the at least one spatially-located block located in a same picture as the current block; and identifying the at least one spatially-located block in the merge mode candidate list, if the spatially-located block is identified in the candidate list for decoding the current block, the method further comprising using motion parameters for the at least one spatially-located block in decoding the current block of video content.
- the motion parameters to use in decoding the current block can be from the temporally-located block, the spatially-located block, or a combination of motion parameters from spatially-located blocks to the current block. Determining which candidate block can comprise using an index to determine which motion parameters from the candidate block to use in decoding the current block. Determining which candidate block can comprise using a set of flags to determine which motion parameters from the candidate block to use in decoding the current block.
- On embodiment comprises an apparatus including one or more computer processors and a computer-readable storage medium comprising instructions for controlling the one or more computer processors to be operable to determine motion parameters for at least one temporally-located block to a current block of video content, the temporally-located block located in a different picture from the current block, identify the at least one temporally-located block in a merge mode candidate list, the merge mode candidate list including candidate blocks in which motion parameters are candidates to be used for the current block, and encode information to a decoder to indicate which motion parameters from a candidate block on the merge mode candidate list to use in decoding the current block.
- the apparatus can be further operable to determine motion parameters for at least one spatially-located block to the current block of video content, the at least one spatially-located block located in a same picture as the current block; and identify the at least one spatially-located block in the merge mode candidate list.
- the at least one temporally-located block and the at least one spatially-located block can be included on the merge mode candidate list and information is signaled indicating which motion parameters of the at least one temporally-located block and the at least one spatially-located block to use in decoding the current block.
- the motion parameters to use in decoding the current block can be from the at least one temporally-located block, the at least one spatially-located block, or a combination of motion parameters from spatially-located blocks to the current block.
- the signal can comprise set information in an index at an encoder to allow the decoder to determine which motion parameters from the candidate block on the merge mode candidate list to use.
- identifying comprises setting a set of flags to indicate which motion parameters from the candidate block on the merge mode candidate list to use.
- the set of flags can comprise a first flag to indicate whether either of the temporally-located block and a spatially-located block is used, a second flag to indicate whether the temporally-located block is used, and a third flag to indicate which spatially-located block is used.
- Yet another embodiment includes an apparatus comprising one or more computer processors, and a computer-readable storage medium comprising instructions for controlling the one or more computer processors to be operable to receive signaling including a merge mode candidate list, the merge mode candidate list identifying candidate blocks in which motion parameters are candidates to be used for the current block, determine which candidate block is identified in the merge mode candidate list for decoding a current block of video content, and if a temporally-located block is identified, use motion parameters for the temporally-located block in decoding the current block of video content, the temporally-located block located in a different picture from the current block.
- the merge mode candidate list can include at least one spatially-located block to the current block, the at least one spatially-located block located in a same picture as the current block, and if the at least one spatially-located block is identified in the candidate list for decoding the current block, further operable to use motion parameters for the at least one spatially-located block in decoding the current block of video content.
- the motion parameters from candidate blocks in the merge mode candidate list are from the at least one temporally-located block, the at least one spatially-located block or a combination of motion parameters from spatially-located blocks to the current block. Determining which candidate block can comprise using an index to determine which motion parameters from the candidate block to use in decoding the current block. Determining which candidate block can comprise using a set of flags to determine which motion parameters from the candidate block to use in decoding the current block.
- FIG. 1A shows an example of an LCU partition.
- FIG. 1B shows a quadtree of the LCU partition shown in FIG. 1A .
- FIG. 2 shows an example of a CU partition of PUs.
- FIG. 3 depicts an example of a system for encoding and decoding video content according to one embodiment.
- FIG. 4 depicts temporal and spatial neighboring blocks according to one embodiment.
- FIG. 5 depicts a scenario when block X is not in any merge mode according to one embodiment.
- FIG. 6 depicts a scenario when block X is merged with block A in the spatial merge mode according to one embodiment.
- FIG. 7 depicts a scenario when block X is merged with block B in the spatial merge mode according to one embodiment.
- FIG. 8 depicts a scenario when block X is merged with block C in a temporal merge mode according to one embodiment.
- FIG. 9 depicts a simplified flowchart of a method for determining which mode to use in an encoding process according to one embodiment.
- FIG. 10 depicts a simplified flowchart of a method for decoding for a current block according to one embodiment.
- FIG. 11 depicts an example of an encoder according to one embodiment.
- FIG. 12 depicts an example of a decoder according to one embodiment.
- FIG. 3 depicts an example of a system for encoding and decoding video content according to one embodiment.
- the system includes an encoder 300 and a decoder 301 , both of which will be described in more detail below.
- Encoder 300 uses a spatial-temporal merge manager 302 - 1 in an encoding process and decoder 301 uses a spatial-temporal merge manager 302 - 2 in a decoding process.
- encoder 300 and decoder 301 use the HEVC coding scheme.
- Each spatial-temporal merge manager 302 allows temporal correlation to be taken into consideration in addition to spatially-located blocks while in a merge mode. That is, given a current block in the merge mode, spatially-located blocks may be used (i.e., a spatial merge mode) in addition to a temporally-located block (i.e., a temporal merge mode) in a merge with the current block. For example, the left and top neighboring blocks may be used as spatially-located blocks, and a block in a previously coded picture, such as a co-located block in another picture (e.g., previously coded picture) to the current block, may be used as temporally-located block.
- a co-located block may be a block that is in a similar position as the current block in another picture, such as any picture that has been coded before the current block may be used. Blocks in other pictures other than a co-located block may also be used. Motion parameters of the current block may be derived from the spatially-located blocks and used in the spatial merge, and/or from temporally-located blocks and used in the temporal merge.
- the temporal merge mode may merge a current block with the temporally-located block to form a “region”. All the pixels within the region share the same motion parameters. Thus, there is no need to code and transmit motion parameters for the current block. Instead, motion parameters of temporally-located block are used for the current block.
- a current block may conceptually merge with more than one spatially-located block and/or temporally-located block, and use the motion parameters of more than one spatially-located block and/or temporally-located blocks to form its own motion parameters.
- the current block may conceptually merge with two different spatially-located blocks, and use the motion parameters from the two different spatially-located blocks to form the motion parameters in spatial merge.
- the motion parameters may be scaled according to the temporal difference between the reference picture and the current picture.
- block A is the current block in picture 3 and it needs to get a reference in picture 2 .
- Block B is the upper block and its motion parameter points to a reference in picture 1 . Due to the different reference pictures, the motion parameter of block B needs to be scaled before applied to block A in merge mode.
- the temporally-located and spatially-located blocks described above may be identified on a merge mode candidate list.
- the temporally-located block, the left and top spatially-located blocks, and conceptually combined blocks may be candidates to be merged with a current block.
- Particular embodiments provide signaling from spatial-temporal merge manager 302 - 1 to spatial-temporal merge manager 302 - 2 to indicate with which block the current block is merged.
- the decoder will know which block's motion parameters are to be used in decoding the current block. For example, an index may be set and signaled to indicate which block's motion parameters are used. Also, flags may be set and signaled to indicate which block's motion parameters should be used.
- a first flag merge_flag is used to indicate whether a current block uses the merge mode.
- a second flag merge_temporal_flag is used to indicate whether the current block is merged spatially or temporally.
- a third flag merge_left_flag is used to indicate whether a left neighboring block or a top neighboring block is used if a spatial merge mode is selected.
- the temporally-located block may be used to leverage temporal redundancy that may exist in video sequences. That is, the shape of objects may not change to a great degree in a short period of time.
- the motion parameters for a temporally-located block may be used with a current block.
- FIGS. 4-8 illustrate the various merging scenarios for spatial-temporal merging according to one embodiment.
- Which merge mode, either no merge mode, spatial merge mode, or temporal merge mode, to use may be determined in different ways.
- U.S. application Ser. No. 13/251,906 for “Joint Spatial and Temporal Merge Mode for HEVC” describes different ways of determining which merge mode to use.
- FIG. 4 depicts temporal and spatial neighboring blocks according to one embodiment.
- a current block is a block X.
- Current block X is allowed to spatially merge with a left neighboring block, block B, or a top neighboring block, a block A.
- current block X is allowed to temporally merge with a block C in a different picture t- 1 .
- Block C is temporally co-located with current block X. That is, block C is located in a same position as block X, but at a different time. For example, block C may have been coded at a previous time.
- FIG. 5 depicts a scenario when block X is not in any merge mode according to one embodiment.
- Motion vectors 502 - 1 , 502 - 2 , and 502 - 3 are shown for blocks in picture t.
- a motion vector 502 - 4 is shown for block C in picture t- 1 .
- the motion parameters such as the motion vector, need to be coded.
- the motion parameters may be a reference picture index indicating which reference picture is used for prediction.
- the motion parameters are sent from encoder 300 to decoder 301 in this case.
- FIG. 6 depicts a scenario when block X is merged with block A in the spatial merge mode according to one embodiment.
- motion vector 502 - 1 for block X is the same as motion vector 502 - 2 .
- Block X is thus spatially merged with block A, which is the top neighboring block.
- Motion parameters for motion vector 502 - 1 only need to be coded once in this example for block X and block A.
- flags may be set to indicate that block X is merged with block A.
- FIG. 7 depicts a scenario when block X is merged with block B in the spatial merge mode according to one embodiment.
- Block B is the left neighboring block to block X
- motion vector 502 - 1 is the same as motion vector 502 - 3 for block B.
- Motion parameters only need to be coded once in this example for block X and block B. That is, the same motion parameters used for block B, such as motion vector 502 - 3 , are used to for block X.
- FIG. 8 depicts a scenario when block X is merged with block C in a temporal merge mode according to one embodiment.
- Motion vector 502 - 1 for block X is the same as motion vector 502 - 4 for block C.
- motion parameters only need to be coded once in this example for block X and block C.
- motion parameters are not coded for block X, and the motion parameters, such as motion vector 502 - 4 , for block C are used.
- FIG. 9 depicts a simplified flowchart of a method for determining which mode to use in an encoding process according to one embodiment.
- spatial-temporal merge manager 302 - 1 determines if a current block X should be in a merge mode. If not, at 904 , motion parameters for block X are coded. This may be the normal coding process for block X.
- spatial-temporal merge manager 302 - 1 sets the flag merge_flag to “0” to indicate that the merge mode for the current block X is not enabled. Although the value 0 is used, other values may be used. In another embodiment, information in an index is set to indicate the merge mode is not enabled.
- spatial-temporal merge manager 302 - 1 enables the merge mode. For example, spatial-temporal merge manager 302 - 1 sets the flag merge_flag to a value of “1” to indicate that the merge mode is enabled. Although a value of 1 is described, another value may be used to indicate that the merge mode is enabled. In another embodiment, information in an index is set to indicate the merge mode is enabled.
- spatial-temporal merge manager 302 - 1 determines if a temporal merge mode should be enabled. If the temporal merge mode should be enabled, at 910 , spatial-temporal merge manager 302 - 1 enables the temporal merge mode. For example, spatial-temporal merge manager 302 - 1 sets the flag merge_temporal_flag to a value of “1” to indicate that the temporal merge mode should be used. In this case, current block X is merged with a temporally-located block C. In another embodiment, information in an index is set to indicate the temporal merge mode is enabled.
- spatial-temporal merge manager 302 - 1 determines if a left neighboring block should be used in the spatial merge mode. If the left neighboring block should be used, at 914 , spatial-temporal merge manager 302 - 1 sets the temporal merge mode to use the left neighboring block. For example, spatial-temporal merge manager 302 - 1 sets the flag merge_left_flag to a value of “1”. At 916 , if the top neighboring block is to be used in the spatial merge, spatial-temporal merge manager 302 - 1 sets the flag merge_left_flag to a value of “0” to indicate that the top neighboring block should be merged spatially with block X. Other flags may be used to indicate with blocks other than the left and the top neighboring blocks should be used. In another embodiment, information in an index is set to indicate which of the spatially located blocks should be used.
- spatial-temporal merge manager 302 - 1 signals information indicating the merge mode used. For example, spatial-temporal merge manager 302 - 1 signals the values of the flags. In another embodiment, information in an index is signaled. In some embodiments, not all of the values of the flags need to be signaled depending on the merge mode that is used. For example, if the merge mode is not enabled, then a value of “0” for the flag merge_flag may need to be signaled. Encoder 300 also signals the motion parameters for the merged region at least once. Each block in the merged region use the same motion parameters so sending the motion parameters for each block in the region is avoided, which reduces overhead.
- FIG. 10 depicts a simplified flowchart 1000 of a method for decoding current block according to one embodiment.
- spatial-temporal merge manager 302 - 2 determines if the merge mode is enabled for a current block X. For example, spatial-temporal merge manager 302 - 2 determines if the flag merge_flag is set to a value of “0” to indicate that current block X is not in any merge mode or to a value of “1” to indicate that the current block X is in the merge mode. If the merge mode is not enabled, at 1004 , then motion parameters for block X are determined and used in motion prediction at decoder 301 . In another embodiment, information in an index is used to determine if the merge mode is or is not enabled.
- spatial-temporal merge manager 302 - 2 determines if the temporal merge mode is enabled. For example, if the flag merge_temporal_flag is set to 0, then the current block is merged spatially. In another embodiment, information in an index is used to determine if the temporal merge mode is not enabled. However, if the flag merge_temporal_flag is set to a value of “1”, then at 1008 , the current block is merged temporally with a temporally-located block. For example, current block X may be merged with a temporally co-located block C. In this case, coding parameters for block C may be used in the motion prediction.
- spatial-temporal merge manager 302 - 2 determines which spatially-located block should be used in a spatial merge mode. For example, the flag merge_left_flag may be set to a value of “0” to indicate that a top neighboring block should be used or to a value of “1” to indicate that a left neighboring block should be used. In another embodiment, information in an index is used to determine whether the top or left neighboring block is used.
- the left neighboring block should not be used, then the current block is merged with a top neighboring block. In this case, coding parameters for the top neighboring block are used in the motion prediction.
- the left neighboring block should be used, then the current block is merged with a left neighboring block. In this case, coding parameters for the left neighboring block are used in the motion prediction.
- FIG. 11 depicts an example of an encoder 300 according to one embodiment.
- a general operation of encoder 300 will now be described. It will be understood that variations on the encoding process described will be appreciated by a person skilled in the art based on the disclosure and teachings herein.
- a spatial prediction block 1104 may include different spatial prediction directions per PU, such as horizontal, vertical, 45-degree diagonal, 135-degree diagonal, DC (flat averaging), and planar.
- a temporal prediction block 1106 performs temporal prediction through a motion estimation and motion compensation operation.
- the motion estimation operation searches for a best match prediction for the current PU over reference pictures.
- the best match prediction is described by a motion vector (MV) and associated reference picture (refIdx).
- MV motion vector
- refIdx reference picture
- the motion vector and associated reference picture are included in the coded bit stream.
- a best match prediction for the current PU is determined using the MV and refIdx.
- Spatial-temporal merge manager 301 - 1 may communicate with a temporal prediction block 1106 to perform motion prediction for a current PU. If the current block is merged with a spatially-located block or a temporally-located block, spatial-temporal merge manager 301 - 1 may signal information indicating which block should be used in decoding the current block. Motion parameters for the current block do not need to be signaled again if the current block is merged spatially or temporally.
- Transform block 1107 performs a transform operation with the residual PU, e. Transform block 1107 outputs the residual PU in a transform domain, E.
- a quantizer 1108 then quantizes the transform coefficients of the residual PU, E.
- Quantizer 1108 converts the transform coefficients into a finite number of possible values.
- Entropy coding block 1110 entropy encodes the quantized coefficients, which results in final compression bits to be transmitted. Different entropy coding methods may be used, such as context-adaptive variable length coding (CAVLC) or context-adaptive binary arithmetic coding (CABAC).
- CAVLC context-adaptive variable length coding
- CABAC context-adaptive binary arithmetic coding
- a de-quantizer 1112 de-quantizes the quantized transform coefficients of the residual PU.
- De-quantizer 1112 then outputs the de-quantized transform coefficients, E′.
- An inverse transform block 1114 receives the de-quantized transform coefficients, which are then inverse transformed resulting in a reconstructed residual PU, e′.
- the reconstructed PU, e′ is then added to the corresponding prediction PU, x′, either spatial or temporal, to form the new reconstructed PU, x′′.
- a loop filter 1116 performs de-blocking on the reconstructed PU, x′′, to reduce blocking artifacts.
- loop filter 1116 may perform a sample adaptive offset process after the completion of the de-blocking filter process for the decoded picture, which compensates for a pixel value offset between reconstructed pixels and original pixels. Also, loop filter 1116 may perform adaptive filtering over the reconstructed PU, which minimizes coding distortion between the input and output pictures. Additionally, if the reconstructed pictures are reference pictures, the reference pictures are stored in a reference buffer 1118 for future temporal prediction.
- FIG. 12 depicts an example of decoder 301 according to one embodiment.
- Decoder 301 receives input bits from encoder 300 for compressed video content.
- An entropy decoding block 1230 performs entropy decoding on input bits corresponding to quantized transform coefficients of a residual PU.
- a de-quantizer 1232 de-quantizes the quantized transform coefficients of the residual PU.
- De-quantizer 1232 then outputs the de-quantized transform coefficients of the residual PU, E′.
- An inverse transform block 1234 receives the de-quantized transform coefficients, which are then inverse transformed resulting in a reconstructed residual PU, e′.
- the reconstructed PU, e′ is then added to the corresponding prediction, x′, either spatial or temporal, to form the new constructed PU, x′′.
- a loop filter 1236 performs de-blocking on the reconstructed PU, x′′, to reduce blocking artifacts. Additionally, loop filter 1236 may perform a sample adaptive offset process after the completion of the de-blocking filter process for the decoded picture, which compensates for a pixel value offset between reconstructed pixels and original pixels. Also, loop filter 1236 may perform an adaptive loop filter over the reconstructed PU, which minimizes coding distortion between the input and output pictures. Additionally, if the reconstructed pictures are reference pictures, the reference pictures are stored in a reference buffer 1238 for future temporal prediction.
- the prediction PU, x′ is obtained through either spatial prediction or temporal prediction.
- a spatial prediction block 1240 may receive decoded spatial prediction directions per PU, such as horizontal, vertical, 45-degree diagonal, 135-degree diagonal, DC (flat averaging), and planar. The spatial prediction directions are used to determine the prediction PU, x′.
- Temporal prediction block 1242 performs temporal prediction through a motion estimation and motion compensation operation. A decoded motion vector or a motion vector derived from other motion information is then used to determine the prediction PU, x′.
- Spatial-temporal merge manager 302 - 2 receives signaling from spatial-temporal merge manager 302 - 1 indicating which block's motion parameters to use for the current PU. Spatial-temporal merge manager 302 - 2 may communicate with temporal prediction block 1242 to indicate whether the current PU should use motion parameters of a spatially-located block or a temporally-located block. For example, decoded motion vector(s) of a temporally-located block may be used or decoded motion vector(s) of a spatially-located block may be used in a temporal prediction.
- Particular embodiments may be implemented in a non-transitory computer-readable storage medium for use by or in connection with the instruction execution system, apparatus, system, or machine.
- the computer-readable storage medium contains instructions for controlling a computer system to perform a method described by particular embodiments.
- the instructions when executed by one or more computer processors, may be operable to perform that which is described in particular embodiments.
Abstract
Description
Claims (25)
Priority Applications (4)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
KR1020137021353A KR101538710B1 (en) | 2011-01-14 | 2012-01-17 | Temporal block merge mode |
PCT/US2012/021606 WO2012097378A1 (en) | 2011-01-14 | 2012-01-17 | Temporal block merge mode |
EP12701211.0A EP2664144A1 (en) | 2011-01-14 | 2012-01-17 | Temporal block merge mode |
US13/351,682 US8929450B2 (en) | 2011-01-14 | 2012-01-17 | Temporal block merge mode |
Applications Claiming Priority (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US201161433010P | 2011-01-14 | 2011-01-14 | |
US13/351,682 US8929450B2 (en) | 2011-01-14 | 2012-01-17 | Temporal block merge mode |
Publications (2)
Publication Number | Publication Date |
---|---|
US20130022117A1 US20130022117A1 (en) | 2013-01-24 |
US8929450B2 true US8929450B2 (en) | 2015-01-06 |
Family
ID=45531596
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US13/351,682 Active 2033-02-10 US8929450B2 (en) | 2011-01-14 | 2012-01-17 | Temporal block merge mode |
Country Status (4)
Country | Link |
---|---|
US (1) | US8929450B2 (en) |
EP (1) | EP2664144A1 (en) |
KR (1) | KR101538710B1 (en) |
WO (1) | WO2012097378A1 (en) |
Cited By (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20130188716A1 (en) * | 2012-01-20 | 2013-07-25 | Qualcomm Incorporated | Temporal motion vector predictor candidate |
US9609343B1 (en) | 2013-12-20 | 2017-03-28 | Google Inc. | Video coding using compound prediction |
US9813700B1 (en) | 2012-03-09 | 2017-11-07 | Google Inc. | Adaptively encoding a media stream with compound prediction |
US11095905B2 (en) * | 2018-07-02 | 2021-08-17 | Lg Electronics Inc. | Inter-prediction mode-based image processing method and device therefor |
US11785226B1 (en) | 2013-01-03 | 2023-10-10 | Google Inc. | Adaptive composite intra prediction for image and video compression |
Families Citing this family (22)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
KR101438471B1 (en) * | 2011-01-03 | 2014-09-16 | 미디어텍 인크. | Method of filter-unit based in-loop filtering |
US20120294353A1 (en) * | 2011-05-16 | 2012-11-22 | Mediatek Inc. | Apparatus and Method of Sample Adaptive Offset for Luma and Chroma Components |
SG194746A1 (en) * | 2011-05-31 | 2013-12-30 | Kaba Gmbh | Image encoding method, image encoding device, image decoding method, image decoding device, and image encoding/decoding device |
CA2833032C (en) * | 2011-06-15 | 2016-08-30 | Mediatek Inc. | Method and apparatus of texture image compression in 3d video coding |
WO2013005966A2 (en) | 2011-07-01 | 2013-01-10 | 한국전자통신연구원 | Video encoding and decoding methods and device using same |
US20140126645A1 (en) | 2011-07-01 | 2014-05-08 | Electronics And Telecommunications Research Institute | Video encoding and decoding methods and device using same |
RU2718230C2 (en) * | 2011-11-08 | 2020-03-31 | Кт Корпорейшен | Video decoding method |
US9531990B1 (en) | 2012-01-21 | 2016-12-27 | Google Inc. | Compound prediction using multiple sources or prediction modes |
US9185414B1 (en) | 2012-06-29 | 2015-11-10 | Google Inc. | Video encoding using variance |
US9699450B2 (en) | 2012-10-04 | 2017-07-04 | Qualcomm Incorporated | Inter-view predicted motion vector for 3D video |
US9374578B1 (en) | 2013-05-23 | 2016-06-21 | Google Inc. | Video coding using combined inter and intra predictors |
EP2838268B1 (en) * | 2013-07-31 | 2019-02-20 | Axis AB | Method, device and system for producing a merged digital video sequence |
KR20150113714A (en) * | 2014-03-31 | 2015-10-08 | 인텔렉추얼디스커버리 주식회사 | Method and device for coding merge candidates using depth information |
KR20150113715A (en) * | 2014-03-31 | 2015-10-08 | 인텔렉추얼디스커버리 주식회사 | Method and device for creating moving information using depth information, method and device for creating merge candidates using the same |
GB201420061D0 (en) | 2014-11-11 | 2014-12-24 | Univ Glasgow | Nebulisation of liquids |
WO2016085231A1 (en) * | 2014-11-27 | 2016-06-02 | 주식회사 케이티 | Video signal processing method and device |
US10638129B2 (en) | 2015-04-27 | 2020-04-28 | Lg Electronics Inc. | Method for processing video signal and device for same |
KR20190044533A (en) | 2017-10-20 | 2019-04-30 | 주식회사 케이티 | Method and apparatus for processing a video signal |
WO2019093279A1 (en) * | 2017-11-07 | 2019-05-16 | パナソニック インテレクチュアル プロパティ コーポレーション オブ アメリカ | Encoding device, decoding device, encoding method, and decoding method |
CN113170184A (en) | 2018-11-22 | 2021-07-23 | 北京字节跳动网络技术有限公司 | Method for configuring default motion candidate |
WO2020135465A1 (en) | 2018-12-28 | 2020-07-02 | Beijing Bytedance Network Technology Co., Ltd. | Modified history based motion prediction |
EP3935839A4 (en) * | 2019-04-09 | 2022-06-22 | Beijing Dajia Internet Information Technology Co., Ltd. | Methods and apparatuses for signaling of merge modes in video coding |
Citations (6)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20060245497A1 (en) * | 2005-04-14 | 2006-11-02 | Tourapis Alexis M | Device and method for fast block-matching motion estimation in video encoders |
US20070140352A1 (en) | 2005-12-19 | 2007-06-21 | Vasudev Bhaskaran | Temporal and spatial analysis of a video macroblock |
US20080267292A1 (en) * | 2007-04-27 | 2008-10-30 | Hiroaki Ito | Method of and Apparatus for Recording Motion Picture |
WO2009051419A2 (en) | 2007-10-16 | 2009-04-23 | Lg Electronics Inc. | A method and an apparatus for processing a video signal |
US20100290530A1 (en) | 2009-05-14 | 2010-11-18 | Qualcomm Incorporated | Motion vector processing |
US20120027094A1 (en) | 2009-02-20 | 2012-02-02 | Kazushi Sato | Image processing device and method |
-
2012
- 2012-01-17 KR KR1020137021353A patent/KR101538710B1/en active IP Right Grant
- 2012-01-17 WO PCT/US2012/021606 patent/WO2012097378A1/en active Application Filing
- 2012-01-17 EP EP12701211.0A patent/EP2664144A1/en not_active Withdrawn
- 2012-01-17 US US13/351,682 patent/US8929450B2/en active Active
Patent Citations (7)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20060245497A1 (en) * | 2005-04-14 | 2006-11-02 | Tourapis Alexis M | Device and method for fast block-matching motion estimation in video encoders |
US20070140352A1 (en) | 2005-12-19 | 2007-06-21 | Vasudev Bhaskaran | Temporal and spatial analysis of a video macroblock |
US20080267292A1 (en) * | 2007-04-27 | 2008-10-30 | Hiroaki Ito | Method of and Apparatus for Recording Motion Picture |
WO2009051419A2 (en) | 2007-10-16 | 2009-04-23 | Lg Electronics Inc. | A method and an apparatus for processing a video signal |
US20100220790A1 (en) * | 2007-10-16 | 2010-09-02 | Lg Electronics Inc. | method and an apparatus for processing a video signal |
US20120027094A1 (en) | 2009-02-20 | 2012-02-02 | Kazushi Sato | Image processing device and method |
US20100290530A1 (en) | 2009-05-14 | 2010-11-18 | Qualcomm Incorporated | Motion vector processing |
Non-Patent Citations (5)
Title |
---|
J. Jung, "Core Experiment 9: Motion Vector Coding", Document # JCTVC-C509, Guangzhou, China, Oct. 2010. |
Li S., et al.; "Direct Coding for Bipredictive Slices in the H.264 Standard;" IEEE Transactions on Circuits and Systems for Video Technology; vol. 15; No. 1; pp. 119-126; Jan. 1, 2005. |
M. Winken, et al., "Description of Video Coding Technology Proposal by Fraunhofer HHI", Document # JCTVC-A116, Dresden, Germany, Apr. 2010. |
Patent Cooperation Treaty, "International Search Report and Written Opinion of the International Searching Authority," for Int'l Application No. PCT/US2012/021606; Mar. 28, 2012. |
Winken M., et al., "Video Coding Technology Proposal by Fraunhofer HHI", Document # JCT-VC Meeting, Dresden, Germany, p. 9, Apr. 15, 2010. |
Cited By (8)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20130188716A1 (en) * | 2012-01-20 | 2013-07-25 | Qualcomm Incorporated | Temporal motion vector predictor candidate |
US9813700B1 (en) | 2012-03-09 | 2017-11-07 | Google Inc. | Adaptively encoding a media stream with compound prediction |
US11785226B1 (en) | 2013-01-03 | 2023-10-10 | Google Inc. | Adaptive composite intra prediction for image and video compression |
US9609343B1 (en) | 2013-12-20 | 2017-03-28 | Google Inc. | Video coding using compound prediction |
US10165283B1 (en) | 2013-12-20 | 2018-12-25 | Google Llc | Video coding using compound prediction |
US11095905B2 (en) * | 2018-07-02 | 2021-08-17 | Lg Electronics Inc. | Inter-prediction mode-based image processing method and device therefor |
US20210360265A1 (en) * | 2018-07-02 | 2021-11-18 | Lg Electronics Inc. | Inter-prediction mode-based image processing method and device therefor |
US11711524B2 (en) * | 2018-07-02 | 2023-07-25 | Lg Electronics Inc. | Inter-prediction mode-based image processing method and device therefor |
Also Published As
Publication number | Publication date |
---|---|
EP2664144A1 (en) | 2013-11-20 |
KR20130119478A (en) | 2013-10-31 |
KR101538710B1 (en) | 2015-09-15 |
US20130022117A1 (en) | 2013-01-24 |
WO2012097378A1 (en) | 2012-07-19 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US8929450B2 (en) | Temporal block merge mode | |
US9066104B2 (en) | Spatial block merge mode | |
US8737480B2 (en) | Joint spatial and temporal block merge mode for HEVC | |
US9210442B2 (en) | Efficient transform unit representation | |
US20180242024A1 (en) | Methods and Apparatuses of Candidate Set Determination for Quad-tree Plus Binary-tree Splitting Blocks | |
US9210425B2 (en) | Signaling of temporal motion vector predictor (MVP) flag for temporal prediction | |
KR102046522B1 (en) | Methods of decoding using skip mode and apparatuses for using the same | |
US9549177B2 (en) | Evaluation of signaling of collocated reference picture for temporal prediction | |
US9380319B2 (en) | Implicit transform unit representation | |
KR101606131B1 (en) | Residual tree structure of transform unit partitioning | |
US20200154124A1 (en) | Image decoding method based on inter prediction and image decoding apparatus therefor | |
US9319681B2 (en) | Signaling of temporal motion vector predictor (MVP) enable flag | |
KR101623507B1 (en) | Implicit determination of collocated picture for temporal prediction | |
US9749657B2 (en) | Buffer compression for motion vector competition | |
US20160142732A1 (en) | Video coding device, video decoding device, video coding method, video decoding method, and program | |
US20200236385A1 (en) | Video coding device, video decoding device, video coding method, video decoding method and program | |
KR20130004181A (en) | Method and apparatus for encoding and decoding motion information using skip mode | |
CN111586419B (en) | Video decoding method, video encoding method and device | |
WO2014028631A1 (en) | Signaling of temporal motion vector predictor (mvp) enable flag |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
AS | Assignment |
Owner name: GENERAL INSTRUMENT CORPORATION, PENNSYLVANIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:LOU, JIAN;WANG, LIMIN;YU, YUE;REEL/FRAME:027797/0875Effective date: 20120217 |
|
AS | Assignment |
Owner name: MOTOROLA MOBILITY LLC, ILLINOISFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:GENERAL INSTRUMENT HOLDINGS, INC.;REEL/FRAME:030866/0113Effective date: 20130528Owner name: GENERAL INSTRUMENT HOLDINGS, INC., CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:GENERAL INSTRUMENT CORPORATION;REEL/FRAME:030764/0575Effective date: 20130415 |
|
AS | Assignment |
Owner name: GOOGLE TECHNOLOGY HOLDINGS LLC, CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:MOTOROLA MOBILITY LLC;REEL/FRAME:034280/0001Effective date: 20141028 |
|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |
|
MAFP | Maintenance fee payment |
Free format text: PAYMENT OF MAINTENANCE FEE, 4TH YEAR, LARGE ENTITY (ORIGINAL EVENT CODE: M1551)Year of fee payment: 4 |
|
MAFP | Maintenance fee payment |
Free format text: PAYMENT OF MAINTENANCE FEE, 8TH YEAR, LARGE ENTITY (ORIGINAL EVENT CODE: M1552); ENTITY STATUS OF PATENT OWNER: LARGE ENTITYYear of fee payment: 8 |