CN107211137A - Efficient context reply in arithmetic code - Google Patents
Efficient context reply in arithmetic code Download PDFInfo
- Publication number
- CN107211137A CN107211137A CN201580073739.8A CN201580073739A CN107211137A CN 107211137 A CN107211137 A CN 107211137A CN 201580073739 A CN201580073739 A CN 201580073739A CN 107211137 A CN107211137 A CN 107211137A
- Authority
- CN
- China
- Prior art keywords
- coefficient
- scanning sequency
- context
- current
- scanning
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Granted
Links
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/102—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the element, parameter or selection affected or controlled by the adaptive coding
- H04N19/13—Adaptive entropy coding, e.g. adaptive variable length coding [AVLC] or context adaptive binary arithmetic coding [CABAC]
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/102—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the element, parameter or selection affected or controlled by the adaptive coding
- H04N19/129—Scanning of coding units, e.g. zig-zag scan of transform coefficients or flexible macroblock ordering [FMO]
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/134—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the element, parameter or criterion affecting or controlling the adaptive coding
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/134—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the element, parameter or criterion affecting or controlling the adaptive coding
- H04N19/136—Incoming video signal characteristics or properties
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/169—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the coding unit, i.e. the structural portion or semantic portion of the video signal being the object or the subject of the adaptive coding
- H04N19/18—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the coding unit, i.e. the structural portion or semantic portion of the video signal being the object or the subject of the adaptive coding the unit being a set of transform coefficients
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/42—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals characterised by implementation details or hardware specially adapted for video compression or decompression, e.g. dedicated software implementation
- H04N19/423—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals characterised by implementation details or hardware specially adapted for video compression or decompression, e.g. dedicated software implementation characterised by memory arrangements
Abstract
Efficient context in arithmetic code should be to including recognizing for the scanning sequency of current block and carrying out entropy decoding to the current entropy code conversion coefficient from current block.The entropy decoding includes：Based on scanning sequency, it is determined that the first scanning sequency distance between the scanning sequency position corresponding with current entropy code conversion coefficient and the scanning sequency position corresponding with the first context coefficient；The first context coefficient value is recognized from the first position in context coefficient register, first position corresponds to the first scanning sequency distance, wherein context coefficient register is the context coefficient register for reducing size, and based on the first context coefficient value come to current entropy code conversion coefficient progress entropy decoding.
Description
Background technology
For example, digital video can be used for via video conference, high definition video amusement, video ads or user's life
Into video shared carry out remote business meeting.Because video data includes mass data, therefore for transmitting and storing
Need high-effect compression.Therefore it provides the high-resolution video transmitted by the communication channel with finite bandwidth will be favourable
's.
The content of the invention
Disclosed herein is for using the efficient context (context) in arithmetic code should be to carrying out coding reconciliation
The system of code, the aspect of method and device.
It is the method that a kind of efficient context of use in arithmetic code should be to carrying out Video coding on one side.Should
Method can include：The current block (block) from present frame is recognized from encoded video stream, is recognized for the current block
Scanning sequency, recognize current entropy code conversion coefficient from the current block, and to the current entropy code transformation series
Number carries out entropy decoding.The entropy decoding can include：Based on the scanning sequency, it is determined that being converted with the current entropy codeization
The first scanning between the corresponding scanning sequency position of coefficient and the scanning sequency position corresponding with the first context coefficient is suitable
Sequence distance, wherein the scanning sequency position corresponding with the first context coefficient spatially becomes close to the current entropy codeization
Change the corresponding scanning sequency position of coefficient；The first context coefficient value, institute are recognized from the first position in context coefficient register
First position is stated corresponding to the first scanning sequency distance, wherein the context coefficient register is the context system for reducing size
Number register；And based on the first context coefficient value come to the current entropy code conversion coefficient progress entropy decoding.Should
Method can include：Entropy-decoded current transform coefficient is included in the output bit flow for display；And storage or
Show the output bit flow.
On the other hand it is the method that a kind of efficient context of use in arithmetic code should be to carrying out Video coding.
In some embodiments, this method can include：The current block from present frame, identification pair are recognized from encoded video flowing
In the scanning sequency of the current block, current entropy code conversion coefficient is recognized from the current block, and to the current entropy
Code conversion coefficient carries out entropy decoding.The entropy decoding can include：Based on the scanning sequency, it is determined that with it is described current
Between the corresponding scanning sequency position of entropy code conversion coefficient and the scanning sequency position corresponding with the first context coefficient
The first scanning sequency distance, wherein the scanning sequency position corresponding with the first context coefficient spatially close to it is described work as
The corresponding scanning sequency position of preceding entropy code conversion coefficient, first is recognized from the first position in context coefficient register
Border coefficient value, the first position corresponds to the first scanning sequency distance, wherein the context coefficient register is to reduce
The context coefficient register of size, based on the scanning sequency, it is determined that corresponding with the current entropy code conversion coefficient
Scanning sequency position and the scanning sequency position corresponding with the second context coefficient between the second scanning sequency distance, wherein
It is spatially close relative with the current entropy code conversion coefficient with the scanning sequency position that the second context coefficient is corresponding
The scanning sequency position answered, the second context coefficient value, the second place are recognized from the second place in context coefficient register
Corresponding to the second scanning sequency distance, and based on the first context coefficient value and the second context coefficient value come pair
The current entropy code conversion coefficient carries out entropy decoding.Entropy-decoded current transform coefficient can be included for showing
Output bit flow in, and can store or transmit the output bit flow.
On the other hand be it is a kind of be used for using in arithmetic code efficient context should to carry out Video coding dress
Put, the device includes memory and at least one processor, at least one described processor is configured to execution and is stored in this to deposit
Instruction in reservoir, to recognize the current block from present frame from encoded video flowing, is recognized for the current block
Scanning sequency, recognizes current entropy code conversion coefficient, and the current entropy code conversion coefficient is entered from the current block
Row entropy decoding.The processor can be configured as performing the instruction being stored in the memory, to be operated by following come to institute
State current entropy code conversion coefficient and carry out entropy decoding：Based on the scanning sequency, it is determined that becoming with the current entropy codeization
Change the scanning of the left between the corresponding scanning sequency position of coefficient and the scanning sequency position corresponding with left context coefficient
Order distance, wherein the scanning sequency position corresponding with left context coefficient is spatially approached and the current entropy code
The left of the corresponding scanning sequency position of conversion coefficient, based on the scanning sequency, it is determined that becoming with the current entropy codeization
The scanning overhead changed between the corresponding scanning sequency position of coefficient and the scanning sequency position corresponding with top context coefficient
Order distance, wherein the scanning sequency position corresponding with top context coefficient is spatially approached and the current entropy code
The top of the corresponding scanning sequency position of conversion coefficient, left context system is recognized from the first position in context coefficient register
Numerical value, the first position corresponds to the left scanning sequency distance, wherein the context coefficient register is to reduce size
Context coefficient register, from the context coefficient register the second place identification top context coefficient value, described second
Position corresponds to the scanning overhead order distance, and based on the left context coefficient value and the top context coefficient value
To carry out entropy decoding to the current entropy code conversion coefficient.The processor can be configured as execution and be stored in the storage
Instruction in device, by entropy-decoded current transform coefficient include in the output bit flow for display, and storage or
Show the output bit flow.
The modification of these and other aspects will be discussed in further detail below.
Brief description of the drawings
Here description is referred to accompanying drawing, wherein similar reference refers to similar part in the various figures, and
And wherein：
Fig. 1 is the figure of the computing device according to the disclosure；
Fig. 2 is the figure of calculating according to the disclosure and communication system；
Fig. 3 is for the figure of the video flowing used in coding and decoding according to the disclosure；
Fig. 4 is the block diagram of the encoder according to the disclosure；
Fig. 5 is the block diagram of the decoder according to the disclosure；
Fig. 6 is the block diagram of the expression of a part for the frame according to the disclosure；
Fig. 7 is the example of the quantization transform coefficient matrix of the block including quantization transform coefficient values according to the disclosure
Figure；
Fig. 8 is the figure of the example of the entropy code scanning sequency according to the disclosure；
Fig. 9 is the figure of the example of a part for the discontinuous entropy code scanning sequency according to the disclosure；
Figure 10 is the flow chart of the context entropy code according to the disclosure；
Figure 11 is the flow chart of the context entropy decoding according to the disclosure；
Figure 12 is according to the disclosure, for using the efficient context in arithmetic code should be to carrying out coding reconciliation
The figure of the example of the expression of a part for the conversion coefficient scanning pattern of code；And
Figure 13 be according to the disclosure, should be to carrying out context entropy decoding using efficient context in arithmetic code
Flow chart.
Embodiment
Video compression scheme can include resolving into each image or frame into smaller part, such as block (block), and
Output bit flow is generated using for limiting the technology of the information in output included by each block.The bit stream of coding can be by
Decode to re-create block and source images according to limited information.Entropy code can be included to video stream encryption, it is to wrap
Include in output stream with token or code word (codeword) replacement bit-patterns (bit pattern) or the lossless pressure of symbol
Contracting technology.In some embodiments, can be based on the coefficient such as immediately in the current coefficient left side, on current coefficient
The coefficient of side, or both context (context) coefficient of combination determine the token of symbol.
In some embodiments, decoder can each of memory block decoded be in context coefficient register
Number, for decoding following coefficient.The size of context coefficient register can be the size of the coefficient matrix for code
Function.For example, the coefficient matrix can be come using the discontinuous coded sequence of the coded sequence partly shown in such as Fig. 9
The NxM matrixes of coding, such as 32x32 matrixes, and context coefficient register can include N*M coefficient, such as 1024 (32*
32=1024) individual coefficient.In some embodiments, the B positions of such as 3 can be used to store each coefficient, and context
The size of coefficient register can be B*N*M, such as 3072 (1024*3).
In some embodiments, use with efficient context is tackled in arithmetic code Video coding including the use of subtracting
The context coefficient register of small size, it can reduce the utilization of resources and improve the timing in decoder.Use reduction size
Context coefficient register, using in arithmetic code efficient context tackle video codeization can include：It is determined that
Scanning sequency distance between the scanning sequency position of code coefficient and the scanning sequency position of corresponding context coefficient, and
Corresponding context coefficient value is read from the position indicated in size context coefficient register is reduced by respective distances.Reduce size
The size of context coefficient register can be less than the size of maximum scan order distance.
Fig. 1 is can to include the figure of the computing device 100 of embodiment of the present disclosure.Shown computing device 100 includes
Communication interface 110, communication unit 120, user interface (UI) 130, processor 140, memory 150, instruction 160 and power supply 170.
As used herein, term " computing device " includes being able to carry out any method disclosed herein or its any one or more
The combination of partial any unit or unit,.
Computing device 100 can be such as personal computer (PC), server, work station, minicom
(minicomputer) or mainframe computer fixation computing device；Or mobile computing device --- such as mobile phone, individual
Digital assistants (PDA), laptop computer or tablet PC.While shown as individual unit, computing device 100 any one
Or multiple element can be integrated into any number of single physical location.For example, UI 130 and processor 140 can collect
Into in the first physical location, and memory 150 can be integrated in the second physical location.
Communication interface 110 can be：Wireless antenna, as shown in the figure；It is wired connection port, such as ethernet port, infrared
Port, serial port；Or any other wired or wireless unit that can be docked with wired or wireless electronic communication media 180.
Communication unit 120 can be configured as launching or receive signal via wired or wireless medium 180.For example, as schemed
Shown, communication unit 120 is operatively coupled to the antenna for being configured as being communicated via wireless signal.Although in Fig. 1 not
It is explicitly illustrated, but communication unit 120 can be configured as via such as radio frequency (RF), ultraviolet (UV), visible ray, optical fiber, line
Any wired or wireless communication medium of cable road or its combination being launched, receive, or both.Although fig 1 illustrate that single
Individual communication unit 120 and single communication interface 110, but any number of communication unit and any number of communication can be used
Interface.
UI 130 can include any unit that can dock with user, such as virtually or physically keypad, touch pad, show
Show device, touch display, loudspeaker, microphone, video camera, sensor or its any combinations.As illustrated, UI 130 can
To be operatively coupled with processor 140 or with any other element of such as power supply 170 of computing device 100.While shown as
Individual unit, but UI 130 can include one or more physical locations.For example, UI 130 can include：For perform with
The COBBAIF of the voice communication of user, and for performing the view-based access control model with user and the touch display of the communication touched.
While shown as single unit, but communication interface 110, communication unit 120 and UI 130, or part thereof can be configured
For assembled unit.For example, communication interface 110, communication unit 120 and UI 130 are implemented as and external touch screen
The COM1 that equipment is docked.
Processor 140 can include manipulating or handling signal that is existing or developing later or any of other information sets
Standby or system, including optical processor, quantum processor, molecular processor or its combination.For example, processor 140 can include
General processor, application specific processor, conventional processors, digital signal processor (DSP), multi-microprocessor, with DSP core phase
The one or more microprocessors of association, controller, microcontroller, application specific integrated circuit (ASIC), field programmable gate array
(FPGA), programmable logic array, programmable logic controller (PLC), microcode, firmware, any kind of integrated circuit (IC), shape
State machine or its any combinations.As it is used herein, term " processor " includes single processor or multiple processors.Place
Manage device 1470 can with communication interface 110, communication unit 120, UI 130, memory 150, instruction 160, power supply 170 or its
What couple to combination operation.
Memory 150 can include any non-transitory computer and can use or computer-readable medium, such as can be such as
Comprising, store, communicate or transmit instruction 160 or associated therewith any information devices 140 for processing use or and processor
Any tangible device of 140 connections.Nonvolatile computer is available or computer-readable medium is, for example, solid-state drive, storage
Card, removable medium, read-only storage (ROM), random access memory (RAM) including hard disk, floppy disk, CD, disk or light
Any kind of disk, application specific integrated circuit (ASIC) or any kind of non-transitory suitable for storing electronic information of card
Medium or its any combinations.Memory 150 can be connected to processor for example, by memory bus (being not explicitly depicted)
140。
Instruction 160 can include being used to perform any method disclosed herein or the finger of its any one or more part
Order.Instruction 160 can be realized with hardware, software or its any combinations.For example, instruction 160 can be implemented as such as computer journey
The information being stored in memory 150 of sequence, it is performed to perform correlation method as described herein, algorithm, side by processor 140
Face or its combination in any one.Instruction 160 or one part may be implemented as application specific processor or circuit, and it can be with
Including for implementing approach described herein, algorithm, aspect or any one specialized hardware of its combination.Instruction 160
Part can across on uniform machinery or different machines multiple processors distribution or across such as LAN, wide area network, internet or
Its network distribution combined.
Power supply 170 can be used to any suitable equipment of the power supply of communication interface 110.For example, power supply 170 can be wrapped
Include：Cable power；One or more dry cells, such as NI-G (NiCd), nickel-zinc (NiZn), nickel metal hydride (NiMH), lithium
Ion (Li-ion) etc.；Solar cell；Fuel cell；Or any other equipment that can be powered for communication interface 110.Communication
Interface 110, communication unit 120, UI 130, processor 140, instruction 160, memory 150 or its any combinations can be with power supplys
170 are operatively coupled.
, can be by communication interface 110, communication unit 120, UI 130, processor although being shown as single element
140th, instruction 160, power supply 170, memory 150 or its any combinations are integrated in one or more electronic units, circuit or core
In piece.
Fig. 2 is the figure of calculating according to the disclosure and communication system 200.Calculate and communication system 200 can include one
Or multiple calculating and communication equipment 100A/100B/100C, one or more access point 210A/210B, one or more networks
220 or its combination.For example, it can be to such as calculating and communication equipment 100A/100B/100C to calculate with communication system 200
One or more wired or wireless communication equipment provide such as voice, data, video, transmission, broadcast or the communication of its combination
Multi-address system.Although in order to which simple graph 2 shows that three calculate and communication equipment 100A/100B/100C, two access points
210A/210B and network 220, but any number of calculating and communication equipment, access point and network can be used.
For example, each calculate with communication equipment 100A/100B/100C can be computing device, all calculating as shown in Figure 1
Equipment 100.For example, as illustrated, calculate and communication equipment 100A/100B can be user equipment, such as mobile computing device,
Laptop computer, thin-client or smart phone, and communication equipment 100C can be server, such as large scale computer or collection
Group.Although will calculate and communication equipment 100A/100B is described as user equipment, and calculating is described as with communication equipment 100C
Server, but it is any calculating and communication equipment can with some or all functions of execute server, user equipment some or
Some or all functions of repertoire or server and user equipment.
Each calculate can be configured as performing wired or wireless communication with communication equipment 100A/100B/100C.For example, meter
Calculating can be configured as launching or receiving wired or wireless communication letter with least one in communication equipment 100A/100B/100C
Number, and user equipment (UE), movement station, fixation or mobile subscriber unit can be included, it is cell phone, personal computer, flat
Plate computer, server, consumer-elcetronics devices or any similar devices.Although each calculate and communication equipment 100A/100B/
100C is shown as individual unit, but any number of interconnection element can be included with communication equipment by calculating.
Each access point 210A/210B can be configured as via wired or wireless communication link 180A/180B/180C
With calculate and communication equipment 100A/100B/100C, network 220, or both any kind of equipment that is communicated.For example, connecing
Access point 210A/210B can include base station, base transceiver station (BTS), node B, enhancement mode node B (eNode-B), family's section
Point B (HNode-B), wireless router, cable router, hub, repeater, interchanger or any similar wired or nothing
Line equipment.Although each access point 210A/210B is shown as individual unit, access point can include any number of interconnection
Element.
Network 220 can be configured as by wired or wireless communication link provide service come --- such as voice, number
According to, using, the voice (VoIP) by Internet protocol or any other communication protocol or communication protocol combination it is any
The network of type.For example, network 220 can be LAN (LAN), wide area network (WAN), Virtual Private Network (VPN), mobile or honeybee
Cellular telephone network, internet or any other electronic communication means.Network 220 can use communication protocol, such as transmission control
Agreement (TCP), UDP (UDP), Internet protocol (IP), RTP (RTP), HTTP
(HTTP) or its combination.
Calculating and communication equipment 100A/100B/100C can use one or more wired or wireless logical via network 220
Letter link communicates with one another via the combination of wired and wireless communication link.As illustrated, for example, calculating and communication equipment
100A/100B can be communicated via wireless communication link 180A/180B, and be calculated and communication equipment 100C can be via
Wired communications links 180C is communicated.Calculating and any one in communication equipment 100A/100B/100C can use any
One or more wired or wireless communication link is communicated.For example, the first calculating and communication equipment 100A can use first
The communication link of type is communicated via the first access point 210A, and the second calculating and communication equipment 100B can use Equations of The Second Kind
The communication link of type is communicated via the second access point 210B, and the 3rd calculating and communication equipment 100C can use the 3rd
The communication link of type is communicated via the 3rd access point (not shown).Similarly, access point 210A/210B can be via one
Plant or polytype wired or wireless communication link 230A/230B is communicated with network 220.While figure 2 show that via
Calculating and communication equipment 100A/100B/100C that network 220 communicates, can with communication equipment 100A/100B/100C but calculate
With via any number of communication link, --- such as direct wired or wireless communication link --- communicates with one another.
Calculate and the other embodiment of communication system 200 is possible.For example, in one embodiment, network 220
It can be point to point network, and one or more of access point 210A/210B can be omitted.Calculate and communication system 200
Equipment, unit or the element not shown in Fig. 2 can be included.For example, more permitted can be included with communication system 200 by calculating
Multi-communication devices, network and access point.
Fig. 3 is the figure of the video flowing 300 for being used to code and decode according to the disclosure.Such as by regarding that video camera is captured
The video flowing 300 for the video flowing that frequency flows or generated by computing device includes video sequence 310.Video sequence 310 includes consecutive frame
320 sequence.Though it is shown that three adjacent frames 320, but video sequence 310 can include any number of consecutive frame 320.
Each frame 330 from consecutive frame 320 can represent the single image from video flowing 300.Frame 330 can include block 340.Though
It is so not shown in figure 3, but block can include pixel.For example, block can include 16x16 pixel groups, 8x8 pixel groups, 8x16
Pixel groups or any other pixel groups.Unless otherwise indicated herein, term " block " can include super block (superblock), grand
Block (macroblock), section (segment), any other part of piece (slice) or frame.Frame, block, pixel or its combination can
With including such as display information of monochrome information, chrominance information or available for storing, change, communication or display of video streams 300 or
Any other part thereof of information.
Fig. 4 is the block diagram of the encoder 400 according to the disclosure.Encoder 400 can be in all computing devices as shown in Figure 1
Calculating shown in 100 or Fig. 2 and it is embodied as being stored in all as shown in Figure 1 deposit in communication equipment 100A/100B/100C equipment
Computer software programs in the data storage cell of reservoir 150.Computer software programs can include can be by such as Fig. 1 institutes
The machine instruction of the computing device of the processor 160 shown, and cause the equipment to encode video data, such as this paper institutes
State.Encoder 400 may be implemented as the specialized hardware being for example included in computing device 100.
The input video stream 402 of all video flowings 300 as shown in Figure 3 of the codified of encoder 400, to generate (the pressure of coding
Contracting) bit stream 404.In some embodiments, encoder 400 can include the forward direction for being used to generate compression bit stream 404
Path.Forward path can include predicting unit 410, converter unit 420, quantization unit 430, entropy code list within the frame/frames
Member 440 or its any combinations.In some embodiments, encoder 400 (can be referred to including reconstruct path by virtually connecting wiring
Show), to reconstruct the frame for being used for being encoded to other blocks.The reconstruct path can include removing quantization unit 450, inverse transformation list
Member 460, reconfiguration unit 470, loop filtering unit 480 or its any combinations.The other structures modification of encoder 400 can be used for
Video flowing 402 is encoded.
In order to be encoded to video flowing 402, each frame in video flowing 402 can be handled in units of block.Therefore, may be used
To recognize current block from the block in frame, and the current block can be encoded.
In predicting unit 410 within the frame/frames, it the infra-frame prediction that may be in single frames can be used or can be from frame
Current block is encoded to the inter prediction of frame.Infra-frame prediction can include：According in previously encoded and reconstruct present frame
Sample generates prediction block.Inter prediction can include：Sample in one or more previously reference frames for having constructed come
Generate prediction block.It can include for the current block generation prediction block in present frame：Estimation is performed to generate instruction reference frame
In appropriate reference block motion vector.
Predicting unit 410 can subtract prediction block to produce residual block from current block (original block) within the frame/frames.Conversion
Unit 420 can perform block-based conversion, and it includes the conversion coefficient being transformed to residual block in such as frequency domain.It is block-based
The example of conversion includes Karhunen-Loeve conversion (KLT), discrete cosine transform (DCT) and singular value decomposition conversion
(SVD).In one example, DCT can include becoming block in change frequency domain.DCT can be including the use of based on spatial frequency
Transform coefficient values, wherein low-limit frequency (i.e. DC) coefficient are in the matrix upper left corner and highest frequency coefficient in the matrix lower right corner.
Quantization unit 430 can be converted to conversion coefficient discrete magnitude subvalue, its be referred to as quantization conversion coefficient or
Quantization level.Quantization conversion coefficient can carry out entropy code by entropy code unit 440, to produce the coefficient being entropy encoded.
Entropy code can be measured including the use of probability distribution.It can be output to by the coefficient being entropy encoded and for the information for decoding the block
Compression bit stream 404, the information can include used type of prediction, motion vector and quantizer value.Compression bit stream
404 can use various technologies --- such as run length encoding (RLE) and zero stroke (zero-run) code) enter row format
Change.
Path is reconstructed to can be used for maintaining encoder 400 and corresponding decoder --- all decoders as shown in Figure 5
500 --- between reference frame synchronization.Decoding process discussed below can be similar to by reconstructing path, and be included in quantization
Quantized conversion coefficient is carried out at unit 450 to go quantization, and to going quantized conversion at inverse transformation block 460
Coefficient carries out inverse transformation to produce derivation (derivative) residual block.Reconfiguration unit 470 can be by by predicting list within the frame/frames
The prediction block of the generation of member 410 is added to derivation residual block to create reconstructed blocks.Loop filtering unit 480 can apply to the reconstruct
Block is to reduce the distortion of such as building block pseudomorphism (blocking artifact).
Other modifications of encoder 400 can be used to encode compression bit stream 404.For example, based on non-shifting
Encoder 400 can directly quantization residual block and without using converter unit 420.In some embodiments, quantization list
Member 430 and goes quantization unit 450 to be combined into individual unit.
Fig. 5 is the block diagram of the decoder 500 according to embodiment of the present disclosure.Decoder 500 can be all as shown in Figure 1
Computing device 100 or Fig. 2 shown in calculating and communication equipment 100A/100B/100C equipment in be embodied as it is all to be stored in
Computer software programs in the data storage cell of memory 150 as shown in Figure 1.The computer software programs can include
Can by the computing device of all processors 160 as shown in Figure 1 machine instruction, and cause the equipment decoding video data,
It is as described herein.Decoder 500 may be implemented as the specialized hardware being for example included in computing device 100.
Decoder 500 can receive compression bit stream 502, all compression bit streams 404 as shown in Figure 4, and can solve
Code compression bit stream 502 is to generate outputting video streams 504.Decoder 500 can include entropy decoding unit 510, remove quantization list
Member 520, within the frame/frames inverse transformation block 530, predicting unit 540, reconfiguration unit 550, loop filtering unit 560, deblocking
(deblocking) filter unit 570 or its any combinations.The other structures change of decoder 500 can be used for decoding compression ratio
Spy's stream 502.
Entropy decoding unit 510 is decoded in compression bit stream 502 using such as context adaptive binary arithmetic decoding
Data element, to produce one group of quantized conversion coefficient.Inverse guantization (IQ) unit 520 can be carried out to quantized conversion coefficient
Inverse guantization (IQ), and inverse transformation block 530 can to going quantized conversion coefficient to carry out inverse transformation to produce derivation residual block,
It can correspond to the derivation residual block that inverse transformation block 460 as shown in Figure 4 is generated.Decoded using from compression bit stream 502
Header, within the frame/frames predicting unit 540 can generate the prediction corresponding with the prediction block created in encoder 400
Block.In reconfiguration unit 550, prediction block can be added to derivation residual block to create reconstructed blocks.Loop filtering unit 560 can be with
The reconstructed blocks are applied to reduce building block pseudomorphism.Block elimination filtering unit 570 can be applied to the reconstructed blocks to reduce block mistake
Very, and result can be exported as outputting video streams 504.
Other modifications of decoder 500 can be used for decoding compression bit stream 502.For example, decoder 500 can be produced
Raw outputting video streams 504, without block elimination filtering unit 570.
Fig. 6 is the block diagram of the expression of the part 600 of the frame of all frames 330 as shown in Figure 3 according to the disclosure.As schemed
Show, part 600 is included in four 64x64 blocks 610 in two rows in matrix or Cartesian plane and two row.In some embodiment party
In formula, 64x64 blocks can be maximum code unit, N=64.Each 64x64 blocks can include up to four 32x32 blocks 620.
Each 32x32 blocks can include up to four 16x16 blocks 630.Each 16x16 blocks can include up to four 8x8 blocks 640.Often
Individual 8x8 blocks 640 can include up to four 4x4 blocks 650.Each 4x4 blocks 650 include up to 16 pixels, and it can be in flute card
Represented in each relevant block in that plane or matrix with four rows and four row.Pixel can include the image for representing to capture in frame
Information, such as monochrome information, colouring information and positional information.In some embodiments, all 16x16 pixels as shown
The block of block includes luminance block 660 and such as U or Cb chrominance blocks 670 and V or Cr chrominance blocks 680 with luminance pixel 662
Two chrominance blocks 670/680.Chrominance block 670/680 includes chroma pixel 690.For example, luminance block 660 includes 16x16 brightness
Pixel 662, and each chrominance block 670/680 includes 8x8 chroma pixel 690 as depicted.Though it is shown that the one of block
Arrangement is planted, but any arrangement can be used.Although Fig. 6 shows NxN blocks, it can be used in some embodiments
Middle N ≠ M NxM blocks.It is, for example, possible to use 32x64 blocks, 64x32 blocks, 16x32 blocks, 32x16 blocks or any other size block.
In some embodiments, Nx2N blocks, 2NxN blocks or its combination can be used.
Orderly block level code (ordered block-level coding) is included according to such as raster scan order
Order by the block code of frame, wherein block can it is identified from the BOB(beginning of block) in the frame or the upper left corner of a part for the frame and from
Reason, and carried out from left to right and from pushing up to go to go on earth along row, recognize that each block is handled successively.For example, the top row of frame
Can be first piece of code with the 64x64 blocks in left column, and the 64x64 blocks immediately in first piece of right side can be generation
Second piece of codeization.The second row can be the second row of code from top so that the 64x64 blocks in the left column of second row
It is coded into after 64x64 blocks in the row of the first row rightmost.
Block is entered line codeization can including the use of quaternary tree code, it include with raster scan order in block compared with
Small module unit carries out code.It is, for example, possible to use quaternary tree code is by figure 6 shown in the lower left corner of part 600
Upper left 32x32 blocks are coded into 64x64 block codes, the block, then enter line code to the 32xz32 blocks in upper right side,
Then line code is entered to the 32x32 blocks of lower left, line code then is entered to the 32x32 blocks of lower right.Each 32x32 blocks can
To enter line code using quaternary tree code, wherein upper left 16x16 blocks are coded into, then to upper right side 16x16 blocks
Enter line code, line code then is entered to lower left 16x16 blocks, line code then is entered to lower right 16x16 blocks.Each
16x16 blocks can use quaternary tree code to enter line code, wherein upper left 8x8 blocks are coded into, then to upper right side
8x8 blocks enter line code, line code then is entered to the 8x8 blocks of lower left, line code then is entered to the 8x8 blocks of lower right
Change.Quaternary tree code can be used to enter line code to each 8x8 blocks, wherein upper left side 4x4 blocks are coded into, then to the right side
Top 4x4 blocks enter line code, then enter line code to lower left 4x4 blocks, then enter line code to lower right 4x4 blocks.
In some embodiments, 8x8 blocks can be omitted for 16x16 blocks, and quaternary tree code can be used to enter 16x16 blocks
Line code, wherein upper left side 4x4 blocks are coded into, and then with grating-scanning sequency to other in the 16x16 blocks
4x4 blocks enter line code.
Video codeization can be included for example, by being pressed from some information in corresponding encoded frame omission primitive frame
Contracting is included in the information in primitive frame or input frame.For example, codeization can include reducing spectral redundancy, reduce spatial redundancy,
Reduce time redundancy or its combination.
Reducing spectral redundancy can be including the use of based on luminance component (Y) and two chromatic components (U and V or Cb and Cr)
Color model, it is referred to alternatively as YUV or YCbCr color model or color space.For example, including making using YUV color model
The luminance component of a part for frame is represented with relatively great amount of information, and frame this is represented using the information of relatively small amount
Partial each corresponding chromatic component.For example, frame it is a part of can by such as 16x16 block of pixels high-resolution brightness
Component and represented by two low resolution chromatic components, this of frame is partially shown as by each low resolution chromatic component
8x8 block of pixels.Pixel can be with indicated value, for example, the value in the range of 0 to 255, and can use eight to store or pass
Send.Although describing the disclosure with reference to YUV color model, any color model can be used.
Reduce spatial redundancy by block can transform to frequency domain including the use of such as discrete cosine transform (DCT).For example, such as
The unit of the encoder of converter unit 420 shown in Fig. 4 can use the transform coefficient values based on spatial frequency to perform DCT.
Reduce time redundancy can including the use of the similitude between frame based on as the previous coding of video flowing, decoding,
Frame is encoded using the relative small amount of data of one or more reference frames with the frame of reconstruct.For example, the block of present frame
Or pixel can be similar to spatially corresponding piece or pixel of reference frame.The block or pixel of present frame can be similar in difference
The block or pixel of reference frame at locus, and reduce time redundancy therefore include generation movable information, it indicates working as
Space parallax XOR translation between block in previous frame or the block in the position and reference frame of pixel or the correspondence position of pixel.
In order to reduce time redundancy, the one of the reference frame corresponding with the current block or pixel of present frame or reference frame is recognized
Block or pixel in part.For example, can search for a part for the reference frame of storage in memory or reference frame for compiling
The code current block of present frame or the optimical block of pixel or pixel.By this way, the block of search identification reference frame, for the block
Speech, the difference of the pixel value between reference block and current block is minimized.This is referred to as motion search.Searched for ginseng can be limited
Examine the part of frame so that a limited number of row of the region of search for example including reference frame.Identification reference block can include：Calculate
Cost function between the pixel of block in region of search and the pixel of current block, such as antipode and (SAD).
In some embodiments, the sky between the position of the reference block in reference frame and current block in the current frame
Between difference be represented as motion vector.The difference on pixel value between reference block and current block be commonly known as differential data,
Residual error data or for residual block.Generation motion vector can be referred to as estimation, and can based on use as flute
The pixel of current block is designated as f by the position of karr coordinatex,y.Similarly, can the position based on the cartesian coordinate used
The pixel of the region of search of reference frame is designated as rx,y.Can be corresponding with reference frame based on the pixel for example in present frame
SAD between pixel determines the motion vector (MV) of current block.
Although matrix or Descartes for the sake of clarity, herein with reference to frame represents to describe the subregion of motion compensation,
That frame can be stored in any data structure, transmitted, handled or its any combinations so that can for frame or
Image efficiently predicted pixel values.For example, can be in the two dimensional data structure of all matrixes as shown or such as vectorial
Frame is stored in the one-dimensional data structure of array, transmitted, is handled or its any combinations.In one embodiment, such as
The physical location that the expression of the frame of shown two-dimensional representation corresponds in as the rendering of the frame of image.For example, the upper left of frame
The position in the upper left corner of the block at angle can correspond to the physical location in the upper left corner rendered of the frame as image.
The content captured in block can include two or more regions for showing different spaces and time response.Example
Such as, frame can capture multiple objects with all directions and speed movement, and block can include edge or object bounds.Can be with
Block-based code efficiency is improved by following manner：Block including multiple regions with different qualities is divided into one
Individual or multiple subregions, the subregion can be corresponding with different content including square rectangular sub-area, and to this point
Area is encoded, rather than each minimum code unit is independently encoded.
Partition scheme can be selected among multiple candidate's partition schemes.For example, for the candidate of 64x64 code units
Allocative decision can include rectangle size subregion magnitude range from 4x4 to 64x64, such as 4x4,4x8,8x4,8x8,8x16,
16x8,16x16,16x32,32x16,32xz32,32x64,64x32 or 64x64.In some embodiments, subregion includes complete
Sector search, it can include selecting partition scheme by following manner：Using each available candidate partition scheme to code
Change unit to be encoded, and select preferred embodiments, for example, produce the scheme of minimum-rate distortion.In other embodiment
In, such as offline round trip coding (offline two-pass encoding) is generated between frame in first code journey
Motion information, and then use it in second code journey selecting partition scheme.For each candidate's square partition
Case, such as offline round trip coding is probably time-consuming with the technology of assessment rate distortion error or other similar measurements, and can
To utilize the scramble time more than half.In the case where the video conference including static background or other guide are encoded, example
Such as, partition scheme can be selected based on the difference between previously and currently source frame.
The subregion of motion compensation can be encoded than full sector search, offline round trip or the subregion based on frame difference more has
Efficient recognize partition scheme.It is used to encode the current block of such as block 610 for example, the subregion of motion compensation includes identification
Partition scheme.In some embodiments, identification partition scheme includes：It is determined that it is big that block is encoded into maximum code unit
Small --- it can be 64x64 as depicted --- single subregion or be divided into block and sub-block --- such as 32x32
Block 620,16x16 blocks 630 or 8x8 blocks 640 be as shown in the figure --- corresponding multiple subregions, and can include determining whether
It is divided into one or more subregions.For example, 64x64 blocks may be divided into four 32x32 subregions.In four 32x32 subregions
Three can be encoded to 32x32 subregions, and the 4th 32x32 subregion can be further divided into four 16x16 subregions.Should
Three in four 16x16 subregions can be encoded as 16x16 subregions, and the 4th 16x16 subregion can further be drawn
It is divided into four 8x8 subregions, wherein each subregion can be encoded as 8x8 subregions.In some embodiments, partition scheme is recognized
Can be including the use of region policy decision tree.
Optimum code pattern can be recognized from multiple candidate code patterns, this, which provides reply, has various statistics
The flexibility of the vision signal of property and compression efficiency can be improved.For example, video code device can assess each candidate
Code pattern is to recognize optimum code pattern.Optimum code pattern is typically to make the error metrics of current block --- such as
The code pattern of rate distortion cost --- minimum.Can be by based on similar between current block and corresponding prediction block
Spend to limit the set of available candidate code pattern to reduce the complexity of search candidate code pattern.Can be by performing
Orientation refinement modes search (directed refinement mode search) carrys out the further reduction of implementation complexity.Example
Such as, measurement can be generated for the set of candidate's block size --- such as 16x16,8x8 and 4x4 --- through limitation, it is and every
The associated error metrics of individual block size may be at descending, and can assess additional candidate's block size, such as 4x8 and
8x4 block sizes.
In some embodiments, the affined decision-making mode code of alternate block can be used, it is unfettered
Decision-making mode and constrained pattern between alternately, can search for candidate code completely in free decision pattern
The set of pattern, the set of the candidate code pattern to be searched in affined pattern may be restricted.The alternating
Can be space, the time or space and the time both.Space-alternating be included in close to adjacent block among by about
Between beam and free pattern alternately, and can be it is vertical, level, or both.This can be expressed as international jump
Chess chessboard or chessboard pattern.It is time-interleaved to be handed over close among consecutive frame between constraint and unconstrained mode
Replace.
Fig. 7 is the quantization transform coefficient matrix 700 of the 4x4 blocks including quantization transform coefficient values according to the disclosure
The figure of example.For example, the element of encoder, --- the quantization unit 430 of all encoders 400 as shown in Figure 4 --- can give birth to
Into quantized transform coefficient matrix 700.Although for simplicity showing 4x4 blocks, any size can be used
Block.It is, for example, possible to use 64x64 blocks, 64x32 blocks, 32x64 blocks, 32x32 blocks, 32x16 blocks, 16x32 blocks, 16x16 blocks, 16x8
Block, 8x16 blocks, 8x8 blocks, 8x4 blocks or 4x8 blocks.
In the figure 7, the value shown in each position indicates the transform coefficient values of each position.For the sake of clarity, the change of block
" position (position) ", " place (location) " or its modification of conversion coefficient can be referred to as by changing the position of coefficient.Such as
Used herein, the reference to " close " between conversion coefficient, " space is approached " or " distance " may indicate that the transformation series of block
Several transform coefficient matrixs represent in close to or distance.Although describing conversion coefficient on transform coefficient matrix, become
Changing coefficient can be processed or store in any data structure.For example, conversion coefficient can be in such as vectorial one-dimension array
In be processed or store.
As illustrated, for example symmetrical DCT conversion with significantly coefficient often in the upper left corner of block 700 to being gathered
Group.In some embodiments, conversion can be distributed coefficient by a relatively large margin with different patterns.For example, with one-dimensional DCT groups
The one-dimensional asymmetric discrete sine transform (ADST) closed is often along an edge --- such as top edge or the left side of block
Edge --- poly- group of significantly coefficient.
The matrix of quantization conversion coefficient can be with often in scanning sequency of the block end to the poly- group of zero valued coefficients progress
Handled.It is then possible to omitted from output bit flow with continuous zero valued coefficients of the scanning sequency at the end of block without
Lose data.Although being not explicitly depicted, two-dimentional (2D) transform coefficient matrix can be by one-dimensional vector array representation.
Fig. 8 shows the figure of the example of the entropy code scanning sequency according to the disclosure.Entropy codeization includes suitable to scan
Sequence --- such as horizontal sweep order 800, vertical scanning order 810, diagonal scan order 820 or zigzag scan order
830 --- to quantization transform coefficient matrix, the coefficient of --- such as the quantization transform coefficient matrix 800 shown in Fig. 8 --- enters
Row coding.In fig. 8, the value shown in each block represents coefficient of correspondence by the order of entropy code.Although for simplicity
4x4 blocks are shown, but the block of any size can be used.It is, for example, possible to use 64x64 blocks, 64x32 blocks, 32x64 blocks,
32x32 blocks, 32x16 blocks, 16x32 blocks, 16x16 blocks, 16x8 blocks, 8x16 blocks, 8x8 blocks, 8x4 blocks or 4x8 blocks.
The one-dimension array of conversion coefficient can be generated by including each conversion coefficient in vector with scanning sequency, it is all
Such as vector.For example, the DC coefficients in the upper left corner of transform coefficient matrix can be the first element of scanning sequency vector, therefore have
(0,0) transform coefficient matrix position and the scanning sequency position of (0).As it is used herein, term transform coefficient is " suitable
Sequence ", " scan position ", " vector position " or its modification indicate the phase of scanning sequency or the conversion coefficient in scanning sequency vector
To position or index.Although Fig. 8 shows the example of sequential scan pattern, discontinuous scanning pattern can be used to coefficient
Enter line code.Fig. 9 shows the figure of the example of the part according to disclosed discontinuous entropy code scanning sequency.For example,
Fig. 9 can show a part for the scanning sequency of 32x32 blocks.
Figure 10 is the flow chart of the context entropy code according to the disclosure.Can be in equipment --- all meters as shown in Figure 1
Calculate equipment 100 or the calculating shown in Fig. 2 and communication equipment 100A/100B/100C --- all encoders 400 as shown in Figure 4
Context entropy code is realized in encoder.For example, its data for can be implemented as being stored in all memories 150 as shown in Figure 1
Computer software programs in memory cell.
Context entropy codeization can be used for video data stream of the coding with multiple frames, and each frame has multiple pieces.Video counts
According to or video flowing can in any number of ways be received by computing device, receive video such as by cable, by network
Data, or by the way that from main storage or other storage device reading video datas, other described storage devices include disk drive
Device or such as Compact Flash (CF) card, secure digital (SD) card removable medium or be capable of transmitting video data it is any its
His equipment.In some embodiments, video counts can be received from the video camera for the computing device for being connected to operation encoder
According to.
As shown in Figure 10, context entropy code includes：The conversion coefficient of the current block of present frame is recognized at 1000,
Current transform coefficient is recognized at 1010, the context coefficient of current transform coefficient is recognized at 1020, and to current at 1030
Conversion coefficient carries out entropy code.
Recognize that conversion coefficient can include generation, read, receive or otherwise distinguish conversion coefficient at 1000
Block, the associated transformation coefficient block 700 shown in Fig. 7 such as with the current block of present frame.Conversion coefficient be by such as with
The unit of the encoder of converter unit 420 shown in Fig. 4 the pixel of the block of the frame of video flowing is handled formed by numerical value.
Although being for simplicity referred to as " conversion coefficient " or " coefficient ", conversion coefficient can be quantized conversion coefficient, all
The quantization conversion coefficient generated such as quantization unit 430 as shown in Figure 4.
The scanning sequency of all zigzag scan orders 830 as shown in Figure 8 be may then based on come the conversion coefficient that sorts.
For example, by including coefficient in vector with scanning sequency, orderly the one of conversion coefficient is generated from the two-dimensional matrix of conversion coefficient
Dimension group or vector.
Current transform coefficient is recognized at 1010.For example, conversion coefficient can be handled with scanning sequency, and recognize current
Conversion coefficient includes recognizing next coefficient with scanning sequency.In some embodiments, current transform coefficient can be null value
Conversion coefficient.When the current block of conversion coefficient does not include subsequent nonzero value conversion coefficient, the entropy codeization of current block is completed.
The context coefficient of current transform coefficient is recognized at 1020.In some embodiments, fitted based on context coefficient
It is used in the probability distribution that entropy code is carried out to current coefficient.Context coefficient can include spatially connecing from present frame
It is bordering on the previous coefficient through entropy code of current coefficient.For example, context coefficient can include spatially close to transformation series
The conversion coefficient being previously entropy encoded of current coefficient in several current blocks, coefficient such as immediately in current coefficient left,
Coefficient above current coefficient or immediately in the upper left coefficient of current coefficient.
The locus of the current coefficient in transform coefficient matrix can be depended on for the context coefficient that current coefficient is recognized.
For example, current coefficient can be the upper left coefficient in transform coefficient matrix, and omit identification context coefficient.In some realities
Apply in mode, current coefficient may be in the top row of transform coefficient matrix, it is previous through entropy code above current coefficient
Coefficient be not present, and the previous coefficient through entropy code of current coefficient left is identified as context coefficient.For example, current
Coefficient can be transform coefficient matrix the first row the 3rd arrange in coefficient, and context coefficient includes the of transform coefficient matrix
The coefficient in coefficient and the first row first row in a line secondary series.In other embodiments, current coefficient can become
The left column of coefficient matrix is changed, the previous coefficient through entropy code of current coefficient left can use, and by above current coefficient
The previous coefficient through entropy code be identified as context coefficient.For example, current coefficient can be the third line of transform coefficient matrix
Coefficient and the first row in coefficient in first row, and the second row first row of context coefficient including transform coefficient matrix the
Coefficient in one row.
Current transform coefficient is by entropy code at 1030, and it can include the token or code word of identification current coefficient.Through
The current transform coefficient of entropy code can be included in output bit flow, all compression bit streams 404 as shown in Figure 4.That is,
For example, the token of current coefficient can be included in output bit flow to represent the current coefficient.To current change at 1030
Changing coefficient progress entropy codeization can also include storing or transmission output bit flow.E.g., including represent working as through entropy code
The Encoded video bit stream of the token of preceding conversion coefficient can be used as letter via the network of all networks 220 as shown in Figure 2
Number transmitted so that calculating and communication equipment 100A/100B/100C shown in all computing device 100 as shown in Figure 1 or Fig. 2
Equipment receive signal via the network, decode encoded video bit stream, and generate the reconstructed frame corresponding with present frame
Or a part for reconstructed frame, the equipment can include decoder, all decoders 500 as shown in Figure 5,.
The Encoded video bit stream of token including representing the current transform coefficient through entropy code, which can be stored in, to be set
In the memory of standby all memories 150 as shown in Figure 1.The all standby 100 or Fig. 2 institutes of calculating installing as shown in Figure 1 of the equipment
The calculating shown and communication equipment 100A/100B/100C.Encoded video bit stream can be stored as the Encoded video of storage,
Allow and the equipment or be able to access that any other equipment of the memory retrieves the Encoded video of storage so that decoder
A part for the Encoded video and the generation reconstructed frame corresponding with present frame or reconstructed frame can be decoded.
The other embodiment of context entropy code figure as shown in Figure 10 is available.Additional elements can be added, can be with
Some elements are combined, and/or some elements can be removed.For example, context entropy code can include being related to formation entropy code mould
The additional elements of type.
Figure 11 is the flow chart of the context entropy code according to embodiment of the present disclosure.Context entropy decoding can be in equipment
All decoders 500 as shown in Figure 5 decoder in realize, all computing devices 100 as shown in Figure 1 of the equipment or Fig. 2 institutes
The calculating shown and communication equipment 100A/100B/100C.For example, decoding can be implemented as being stored in all memories as shown in Figure 1
Computer software programs in 150 data storage cell.
As shown in figure 11, context entropy decoding includes：The entropy-decoded conversion of the current block of present frame is recognized at 1100
Coefficient, recognizes the current conversion coefficient through entropy code at 1110, and the current transformation series through entropy code is recognized at 1120
Several context coefficients, and entropy decoding is carried out to the currently conversion coefficient through entropy code at 1130.
Although being not explicitly depicted in fig. 11, context entropy decoding can include：Via all networks as shown in Figure 2
220 network receives the signal of the part including encoded video stream or encoded video stream, or from all as shown in Figure 1
A part for encoded video stream or encoded video stream is retrieved in the memory of memory 150.For simplicity, as herein
Used, reception can include：Received via network, from memory search, or otherwise find out recognized information.
For example, by the present frame for recognizing current video stream current block and generate current block from encoded video stream
Entropy-decoded conversion coefficient, recognizes the entropy-decoded conversion coefficient of the current block of present frame at 1100.
Entropy-decoded conversion coefficient can be recognized according to the scanning sequency of current block.For example, encoded video stream can
The one-dimension array or vector of token or code word are received as, wherein each token represents the encoded change of current block with scanning sequency
Change coefficient.For example, the token corresponding with the conversion coefficient of the top-left position of transform coefficient matrix is to receive and entropy-decoded
The first token, and next token in scanning sequency is to receive and entropy-decoded next token.Identification is through entropy
The conversion coefficient of decoding can include：Recognized based on the order and scanning sequency of entropy-decoded conversion coefficient is received current
The position of each entropy-decoded conversion coefficient in the transform coefficient matrix of block.
The current conversion coefficient through entropy code can be recognized at 1110.More specifically, can be in the encoded of reception
Identification represents the current token or code word of current entropy code conversion coefficient in bit stream.Therefore, recognized at 1110 current
Entropy code conversion coefficient can include：The conversion coefficient represented by current token is recognized in the transform coefficient matrix of current block
Position.For example, current token can be received using the part as one-dimensional sequence or vectorial array, and based on current block
The position of correspondent transform coefficient in transform coefficient matrix of the scanning sequency to recognize current block.For simplicity, will be by working as
The conversion coefficient that preceding token is represented is referred to as current transform coefficient or current coefficient.
Recognized at 1120 for the context coefficient from current token entropy decoding current transform coefficient.For example, can be based on
Probability distribution to carry out entropy decoding to current token, and the probability distribution is adapted to based on context coefficient.
Context coefficient can include the previous entropy-decoded coefficient from present frame, and it is spatially close to transformation series
The position of current transform coefficient in matrix number.For example, context coefficient includes current block spatially close to conversion coefficient
The previous entropy-decoded conversion coefficient of the position of middle current coefficient, coefficient such as immediately in the position left of current coefficient,
Coefficient above the position of current coefficient or the upper left coefficient immediately in current coefficient position.
It can be recognized based on the locus of the current coefficient in transform coefficient matrix for carrying out entropy to current coefficient
The context coefficient of decoding.For example, current coefficient can be the coefficient of the upper left in transform coefficient matrix, and omit identification context
Coefficient.Current coefficient can be in the top row of transform coefficient matrix, and the previous entropy-decoded coefficient above current coefficient is not
In the presence of, and the previous entropy-decoded coefficient of current coefficient left is identified as context coefficient.For example, current coefficient can be
Coefficient in the row of the first row the 3rd of transform coefficient matrix, and context coefficient includes the first row secondary series of transform coefficient matrix
In entropy-decoded coefficient and the entropy-decoded coefficient in the first row first row.Current coefficient can be in conversion coefficient square
The left column of battle array, the previous entropy-decoded coefficient of current coefficient left is not present, and previous through entropy above current coefficient
The coefficient of decoding is identified as context coefficient.For example, during current coefficient can be the third line first row of transform coefficient matrix
Entropy-decoded coefficient and the first row in coefficient, and the second row first row of context coefficient including transform coefficient matrix the
Entropy-decoded coefficient in one row.
By recognizing the value of current transform coefficient, entropy decoding is carried out to current transform coefficient at 1130.The value be
The value of current transform coefficient of the current block at position recognized at 1110 for current transform coefficient in transform coefficient matrix.
Although not shown in Figure 11, context can be performed for each coefficient of the current block in transform coefficient matrix
Entropy decoding, and it is possible to which the output generated based on the transform coefficient matrix of current block as shown in Figure 5 such as shown in Figure 15 is regarded
The outputting video streams of frequency stream 504 or a part for outputting video streams.For example, the transform coefficient matrix of current block can be output to
It is all it is as shown in Figure 5 remove quantization unit 520 remove quantization unit, or all memories as shown in Figure 1 can be stored in
In 150 memory.Decoded video flowing can be output to the display unit of all user interfaces 130 as shown in Figure 1 with
For showing.
The other embodiment of context entropy decoding in addition to shown in Figure 11 is available.Context entropy solution can be added
The additional elements of code, can combine some elements, and/or can remove some elements.For example, context entropy decoding can include relating to
And the additional elements of formation entropy code model.
Context entropy decoding can include each decoded coefficient of block being stored in decoder coefficient register, the decoding
Device coefficient register can be stored in the data storage cell of all memories 150 as shown in Figure 1.In this case, exist
Recognize that context coefficient includes reading context coefficient from decoder coefficient register at 1120.
The size of context coefficient register can be the function of the size of the coefficient matrix for code.For example, this is
Matrix number can be the NxM for the discontinuous code sequential encoding for using the code order partly shown in such as Fig. 9
Matrix, such as 32x32 matrixes, and the context coefficient register can include N*M coefficient, such as 1024 (32*32=
1024) individual coefficient.The B positions of such as 3 can be used to store each coefficient, and the size of context coefficient register can be
The B*N*M positions of such as 3072 (1024*3).
Figure 12 is for using the efficient context in arithmetic code should be to carrying out coding reconciliation according to the disclosure
The figure of the part 1200 of the conversion coefficient scanning pattern of code.Decoding is carried out to current coefficient can be based on the context system for reducing size
Number register.For example, the efficient context reply in arithmetic code can include：Based on including the context coefficient of 87 coefficients
Register, is decoded to the current coefficient of the 32x32 matrixes using discontinuous code sequential encoding, the discontinuous code
The discontinuous codeization order partly shown in change order such as Fig. 9 or in fig. 12 1200.
The coefficient of current coefficient left can be used --- it is here the coefficient 1220 at scanning sequency position 6, currently
Coefficient above coefficient --- decoded here for the coefficient 1230 at scanning sequency position 7 or its combination in scanning sequency
Current coefficient 1210 at position 11.In fig. 12, corresponding with current encoded coefficient current sweep is shown with bold boundary
Ordinal position is retouched, the scanning sequency position corresponding with decoded coefficient is shown with white background, and shown with the background of ledger line
Go out the scanning sequency position corresponding with encoded coefficient.
Show the part 1250A of context coefficient register example, its be included in scanning sequency position 10,9,8,7,6,
5th, the coefficient at 4,3,2,1 and 0.The part of context coefficient register after shifting function is illustrated at 1250B, and
It is included in the coefficient at scanning sequency position 11,10,9,8,7,6,5,4,3,2 and 1.
Figure 13 is the stream for the context entropy decoding tackled according to the disclosure, using the efficient context in arithmetic code
Cheng Tu.The context entropy decoding tackled using the efficient context in arithmetic code can realize such as Fig. 5 institutes in equipment
In the decoder of the decoder 500 shown, all computing devices 100 as shown in Figure 1 of the equipment or calculating and communication shown in Fig. 2 are set
Standby 100A/100B/100C.For example, decoding can be implemented as being stored in the data storage list of all memories 150 as shown in Figure 1
Computer software programs in member.
As shown in figure 13, the context entropy decoding tackled using the efficient context in arithmetic code is included：At 1300
Scanning sequency is recognized, identification recognizes the entropy-decoded transformation series of the current block of present frame apart from table at 1320 at 1310
Number, recognizes the current conversion coefficient through entropy code at 1330, and the current conversion coefficient through entropy code is recognized at 1340
Context coefficient, and entropy decoding is carried out to currently conversion coefficient through entropy code at 1350.
Although being not explicitly depicted in fig. 13, context entropy decoding can include：Via all networks 220 as shown in Figure 2
Network receives the signal of the part including encoded video stream or encoded video stream.Or deposited from all as shown in Figure 1
A part for encoded video stream or encoded video stream is retrieved in the memory of reservoir 150.For simplicity, such as this paper institutes
Use, reception can include：Received via network, from memory search, or otherwise find out recognized information.
The scanning sequency of the current block of present frame is recognized at 1300.For example, current block can be 32x32 blocks, and sweep
It can be 32x32 scanning sequencies, the scanning sequency such as partly shown in Fig. 9 and 12 to retouch order.
Identification is apart from table at 1310.This apart from table can be definition apart from table, be such as previously generated apart from table.Replace
Selection of land, identification can include generation apart from table apart from table.In some embodiments, generation can include apart from table：For field
Border coefficient determines the scanning sequency distance between target factor and context coefficient.For example, referring to Figure 12, target factor can be swept
The coefficient at ordinal position 11 is retouched, left context coefficient is the coefficient at scanning sequency position 6, and top context coefficient is that scanning is suitable
Tagmeme puts the coefficient at 7, and the scanning sequency distance between the target factor 11 at 11 and the left context coefficient at 6 is 5,
And the scanning sequency distance between the target factor at 11 and the top context coefficient at 7 is 4.Current block can be directed to
In each coefficient identification scanning sequency distance value, the coefficient can exclude the coefficient in scanning sequency position zero (0).
Although there is no separately shown in Figure 13, the context entropy solution tackled using the efficient context in arithmetic code
Code can include：The size of decoder coefficient register is determined based on being recognized at 1310 apart from table.In some embodiment party
In formula, the size of decoder coefficient register can be less than being directed to the ultimate range that block is recognized at 1310 based on scanning sequency
Value.
The entropy-decoded conversion coefficient of the current block of present frame is recognized at 1300.For example, identification is through entropy at 1300
The conversion coefficient of decoding includes：The current block of the present frame of current video stream is recognized, and it is current from encoded video stream generation
The entropy-decoded conversion coefficient of block.
Hereafter, entropy-decoded conversion coefficient is recognized based on the scanning sequency of current block identification is directed at 1310.Example
Such as, encoded video stream can be received as the one-dimension array or vector of token or code word, wherein each token is represented in scanning
The encoded conversion coefficient of current block in order.For example, relative with the conversion coefficient of the top-left position of transform coefficient matrix
The token answered can be received and the first entropy-decoded token, and next token in scanning sequency is to receive simultaneously
Entropy-decoded next token.In some embodiments, recognize that entropy-decoded conversion coefficient can include：Based on reception
To the order and scanning sequency of entropy-decoded conversion coefficient, recognize each entropy-decoded in the transform coefficient matrix of current block
Conversion coefficient position.
One or more of entropy-decoded conversion coefficient can be stored in decoder coefficient register, such as Figure 12
Shown decoder coefficient register 1250.Storing entropy-decoded conversion coefficient in the decoder coefficient register can wrap
Include：Conversion coefficient is decoded, and performs shifting function the entropy-decoded conversion coefficient is stored in into the decoder system
In number register.When the decoder coefficient register is full, it can be removed from the decoder coefficient register entropy-decoded
Conversion coefficient, the entropy-decoded conversion coefficient such as most far decoded.
The current conversion coefficient through entropy code is identified at 1310.For example, can reception encoded bit streams
Middle identification represents the current token or code word of the current conversion coefficient through entropy code.In some embodiments, at 1310
The current conversion coefficient through entropy code of identification includes：Recognize what is represented by current token in the transform coefficient matrix of current block
The position of conversion coefficient.In one example, current token is received using the part as one-dimensional sequence or vectorial array, and
The position of correspondent transform coefficient in transform coefficient matrix of the scanning sequency based on current block to recognize current block.In order to simple
For the sake of, the conversion coefficient represented by current token can be referred to as current transform coefficient or current coefficient.
Recognized at 1320 for the context coefficient from current token entropy decoding current transform coefficient.Can be based on probability point
Cloth to carry out entropy decoding to current token, and the probability distribution is adapted to based on context coefficient.
Context coefficient can include the previous entropy-decoded coefficient from present frame, and it is spatially close to transformation series
The position of current transform coefficient in matrix number.For example, context coefficient includes current block spatially close to conversion coefficient
In current coefficient position previous entropy-decoded conversion coefficient, such as left immediately in the position of current coefficient is
Number, the coefficient above the position of current coefficient or the upper left coefficient immediately in current coefficient position.
It can be recognized based on the locus of current coefficient in transform coefficient matrix for carrying out entropy solution to current coefficient
The context coefficient of code.For example, current coefficient can be the coefficient of the upper left in transform coefficient matrix, and omit identification context
Coefficient.Current coefficient can be in the top row of transform coefficient matrix, and the previous entropy-decoded coefficient above current coefficient is not
In the presence of, and the previous entropy-decoded coefficient of current coefficient left is identified as context coefficient.For example, current coefficient can be
Coefficient in the row of the first row the 3rd of transform coefficient matrix, and context coefficient includes the first row secondary series of transform coefficient matrix
In entropy-decoded coefficient and the entropy-decoded coefficient in the first row first row.Current coefficient can be in conversion coefficient square
The left column of battle array, the previous entropy-decoded coefficient of current coefficient left is not present, and previous through entropy above current coefficient
The coefficient of decoding is identified as context coefficient.For example, during current coefficient can be the third line first row of transform coefficient matrix
Entropy-decoded coefficient and the first row in coefficient, and the second row first row of context coefficient including transform coefficient matrix the
Entropy-decoded coefficient in one row.
Based on the distance value recognized at 1310, context coefficient can be recognized from decoder coefficient register.For example, referring to
Figure 12, current coefficient can be the coefficient 1210 at scanning sequency position 11, and what is recognized at 1310 can indicate five apart from table
(5) the context coefficient distance of left context coefficient, and can be recognized at the 5th decoder coefficient register position with sweeping
The value of the corresponding coefficient of ordinal position six (6) is retouched, it is in the decoder coefficient register 1250A based on zero shown in Figure 12
Index with four (4).Similarly, the context of the top context coefficient that four (4) can be indicated apart from table recognized at 1310
Coefficient distance, and can be recognized at the 4th decoder coefficient register position corresponding with scanning sequency position five (5)
The value of coefficient, it has the index of three (3) in the decoder coefficient register 1250A based on zero shown in Figure 12.
At 1330, current transform coefficient is entropy-decoded.In some embodiments, to current transform coefficient at 1330
Carrying out entropy decoding includes the value of identification current transform coefficient.Carrying out entropy decoding to current transform coefficient can also include：1310
Locate the value of current transform coefficient of the current block at the position for current transform coefficient identification in transform coefficient matrix.
Entropy decoding is carried out to current transform coefficient can include performing shifting function so that entropy-decoded conversion coefficient to be deposited
Storage is in decoder coefficient register.For example, with reference to Figure 12, shifting function can be performed to decoder coefficient register 1250A,
To store the coefficient corresponding with scanning sequency position 11, as shown in decoder coefficient register 1250B.
Although not shown in Figure 13, context can be performed for each coefficient of the current block in transform coefficient matrix
Entropy decoding, and the output video such as shown in Fig. 5 can be generated based on the transform coefficient matrix of current block as shown in Figure 5
The outputting video streams of stream 504 or a part for outputting video streams.For example, the transform coefficient matrix of current block can be output to it is all
It is as shown in Figure 5 remove quantization unit 520 remove quantization unit, or all memories 150 as shown in Figure 1 can be stored in
Memory in.In some embodiments, decoded video flowing can be output to display unit --- and it is all as shown in Figure 1
User interface 130 --- for display.
The other embodiment of the figure of context entropy decoding is available as shown in fig. 13 that.For example, context entropy can be added
The additional elements of decoding, can combine some elements, and/or can remove some elements.In one embodiment, context entropy
Decoding can include the additional elements for being related to formation entropy code model.
Word " example " is used to mean serving as example, example herein or illustrated.It is described herein as any of " example "
Aspect or design are not necessarily to be construed as preferably or more favourable than other aspects or design.On the contrary, use " example " one word be intended to
Concept is presented in specific mode.As used in this application, word "or" is intended to mean the "or" of pardon rather than exclusive
The "or" of property.I.e., unless otherwise indicated, or from the context it will be clear that " X is intended to mean any containing naturally including A or B "
Property permutation and combination.That is, if X includes A；X includes B；Or X includes A and B both, then under any examples detailed above, " X includes satisfaction
A or B ".In addition, the article " one " and " one " that are used in the application and appended claims should generally be interpreted to mean
" one or more ", clearly point to singulative unless otherwise indicated or from the context.In addition, unless so description, no
Then the use of term " embodiment " or " one embodiment " or " embodiment " or " embodiment " word is not intended as meaning
Refer to identical embodiment or embodiment.As it is used herein, term " it is determined that " and " identification " or its any modification include：Make
With the equipment shown in one or more Fig. 1 with no matter any mode selecting, find out, calculate, search, receive, determine, build
Vertical, acquisition is otherwise recognized or determined.
In addition, for the purpose of simplifying the description, although accompanying drawing and description here can include step or the sequence or series in stage,
But the element of method disclosed herein can in various orders occur and/or while occur.In addition, method disclosed herein
Element can occur together with the other elements for presenting and describing are not known herein.In addition, and non-required method described here
All elements realize the method according to subject.
Cell site 100A and/or receiving station 100B (and storage can be realized with hardware, software or its any combinations
Thereon and/or the algorithm, method, the instruction that are executed by it etc.) embodiment.Hardware can include such as computer, knowledge
Property right (IP) core, application specific integrated circuit (ASIC), programmable logic array, optical processor, programmable logic controller (PLC), micro- generation
Code, microcontroller, server, microprocessor, digital signal processor or any other suitable circuit.In claims
In, term " processor " should be understood to cover any aforementioned hardware either individually or in combination.Term " signal " and " data " can
Used interchangeably.In addition, cell site 100A and receiving station 100B part must not necessarily be realized in an identical manner.
In addition, in one embodiment, it is, for example, possible to use the all-purpose computer with computer program or general/
Processor realizes cell site 100A or receiving station 100B, and the computer program implements each side described here when executed
Any one of method, algorithm and/or instruction.Additionally or as an alternative, it is, for example, possible to use special-purpose computer/processor, its
The specialized hardware for being used for implementing any method as described herein, algorithm or instruction can be included.
For example, cell site 100A and receiving station 100B can be realized on the computer of Real-time Video System.As an alternative, may be used
To realize cell site 100A on the server, and can be in the equipment separated with server --- for example handheld communication is set
It is standby --- above realize receiving station 100B.Under this example, cell site 100A can use encoder 400 by research content into volume
The vision signal of code, and the vision signal of coding is transmitted into communication equipment.And then, then communication equipment can use decoder
The vision signal of 500 pairs of codings is decoded.Or, communication equipment can decode the content being locally stored on a communications device,
For example, not being launched the content of station 100A transmittings.Other suitable cell site 100A and receiving station 100B implementation are can
.For example, receiving station 100B can be generally fixed personal computer rather than portable communication device, and/or, including
The equipment of encoder 400 can also include decoder 500.
In addition, all or part of in embodiment can take can or computer available from such as tangible computer can
Read the form of the computer program product of medium access.Computer is available or computer-readable medium can be can be for example tangible
Ground is included, stored, communication or conveying program for any processor using or any setting of being used in combination with any processor
It is standby.For example, medium can be electronics, magnetic, optics, electromagnetism or semiconductor equipment.Other suitable media are also available.
Above-mentioned embodiment has been described to be readily appreciated that the application is not restricted.On the contrary, the application is covered
Lid includes various modifications and equivalent arrangements within the scope of the appended claims, and its scope should be endowed widest solution
Release, to cover lawful all such modifications and equivalent structure.
Claims (17)
1. a kind of method, including：
The current block from present frame is recognized from encoded video flowing；
Recognize the scanning sequency for the current block；
Current entropy code conversion coefficient is recognized from the current block；
The current entropy codeization is converted in the instruction being stored in non-transitory computer-readable medium by processor response
Coefficient carries out entropy decoding, wherein, carrying out entropy decoding to the current entropy code conversion coefficient includes：
Based on the scanning sequency, it is determined that the scanning sequency position corresponding with the current entropy code conversion coefficient and with
The first scanning sequency distance between the corresponding scanning sequency position of first context coefficient, wherein relative with the first context coefficient
Spatially the close scanning corresponding with the current entropy code conversion coefficient is suitable for the scanning sequency position answered
Tagmeme is put,
The first context coefficient value is recognized from the first position in context coefficient register, the first position corresponds to described first
Scanning sequency distance, wherein the context coefficient register is the context coefficient register for reducing size, and
Entropy decoding is carried out to the current entropy code conversion coefficient based on the first context coefficient value；
Entropy-decoded current transform coefficient is included in the output bit flow for display；And
Store or show the output bit flow.
2. according to the method described in claim 1, wherein, carrying out entropy decoding to the current entropy code conversion coefficient includes：
Based on the scanning sequency, it is determined that in the scanning sequency position corresponding with the current entropy code conversion coefficient
The second scanning sequency distance between the scanning sequency position corresponding with the second context coefficient, wherein with the second context coefficient
The corresponding scanning sequency position is spatially close to sweeping described in corresponding with the current entropy code conversion coefficient
Retouch ordinal position；
The second context coefficient value is recognized from the second place in the context coefficient register, the second place corresponds to described
Second scanning sequency distance；And
The current entropy code conversion coefficient is entered based on the first context coefficient value and the second context coefficient value
Row entropy decoding.
3. method according to claim 2, wherein, the first scanning sequency position is corresponding with the second context coefficient
The scanning sequency position left, and the second scanning sequency position is described in corresponding with the second context coefficient
The top of scanning sequency position.
4. according to the method described in claim 1, wherein, carrying out entropy decoding to the current entropy code conversion coefficient includes：
For the scanning sequency, from scanning sequency apart from table in recognize the first scanning sequency distance.
5. method according to claim 4, wherein it is determined that the first scanning sequency distance includes：The identification scanning
Order is apart from table so that the scanning sequency includes for each scanning sequency position in the scanning sequency apart from table
Left context coefficient scanning order distance and top context coefficient scanning order distance.
6. according to the method described in claim 1, wherein, carrying out entropy decoding to the current entropy code conversion coefficient includes：
By the maximum for being sized to be less than the scanning sequency distance for the scanning sequency of the context coefficient register
The size of value.
7. according to the method described in claim 1, wherein, carrying out entropy decoding to the current entropy code conversion coefficient includes：
Shifting function is performed to include entropy-decoded current transform coefficient in the context coefficient register.
8. a kind of method, including：
The current block from present frame is recognized from encoded video flowing；
Recognize the scanning sequency for the current block；
Current entropy code conversion coefficient is recognized from the current block；
The current entropy codeization is converted in the instruction being stored in non-transitory computer-readable medium by processor response
Coefficient carries out entropy decoding, wherein, carrying out entropy decoding to the current entropy code conversion coefficient includes：
Based on the scanning sequency, it is determined that the scanning sequency position corresponding with the current entropy code conversion coefficient and with
The first scanning sequency distance between the corresponding scanning sequency position of first context coefficient, wherein relative with the first context coefficient
Spatially the close scanning corresponding with the current entropy code conversion coefficient is suitable for the scanning sequency position answered
Tagmeme is put,
The first context coefficient value is recognized from the first position in context coefficient register, the first position corresponds to described first
Scanning sequency distance, wherein the context coefficient register is the context coefficient register for reducing size,
Based on the scanning sequency, it is determined that in the scanning sequency position corresponding with the current entropy code conversion coefficient
The second scanning sequency distance between the scanning sequency position corresponding with the second context coefficient, wherein with the second context coefficient
The corresponding scanning sequency position is spatially close to sweeping described in corresponding with the current entropy code conversion coefficient
Retouch ordinal position,
The second context coefficient value is recognized from the second place in the context coefficient register, the second place corresponds to described
Second scanning sequency distance, and
The current entropy code conversion coefficient is entered based on the first context coefficient value and the second context coefficient value
Row entropy decoding；
Entropy-decoded current transform coefficient is included in the output bit flow for display；And
Store or show the output bit flow.
9. method according to claim 8, wherein, the first scanning sequency position is corresponding with the second context coefficient
The scanning sequency position left, and the second scanning sequency position is described in corresponding with the second context coefficient
The top of scanning sequency position.
10. method according to claim 8, wherein, carrying out entropy decoding to the current entropy code conversion coefficient includes：
For the scanning sequency from scanning sequency apart from table in recognize the first scanning sequency distance and second scanning sequency
Distance.
11. method according to claim 10, wherein, entropy decoding bag is carried out to the current entropy code conversion coefficient
Include：Recognize the scanning sequency apart from table so that the scanning sequency includes for every in the scanning sequency apart from table
The left context coefficient scanning order distance and top context coefficient scanning order distance of individual scanning sequency position.
12. method according to claim 8, wherein, carrying out entropy decoding to the current entropy code conversion coefficient includes：
By the maximum for being sized to be less than the scanning sequency distance for the scanning sequency of the context coefficient register
The size of value.
13. method according to claim 8, wherein, carrying out entropy decoding to the current entropy code conversion coefficient includes：
Shifting function is performed to include entropy-decoded current transform coefficient in the context coefficient register.
14. a kind of device for being used to use in video decoding, described device includes：
Memory；And
Processor, is configured as performing the instruction that is stored in the memory to carry out following operation：
The current block from present frame is recognized from encoded video flowing,
The scanning sequency for the current block is recognized,
Current entropy code conversion coefficient is recognized from the current block,
Entropy decoding is carried out to the current entropy code conversion coefficient by following operation：
Based on the scanning sequency, it is determined that the scanning sequency position corresponding with the current entropy code conversion coefficient and with
Left scanning sequency distance between the corresponding scanning sequency position of left context coefficient, wherein relative with left context coefficient
Spatially the close scanning corresponding with the current entropy code conversion coefficient is suitable for the scanning sequency position answered
The left that tagmeme is put；
Based on the scanning sequency, it is determined that in the scanning sequency position corresponding with the current entropy code conversion coefficient
Scanning overhead order distance between the scanning sequency position corresponding with top context coefficient, wherein with top context coefficient
The corresponding scanning sequency position is spatially close to sweeping described in corresponding with the current entropy code conversion coefficient
Retouch the top of ordinal position；
Left context coefficient value is recognized from the first position in context coefficient register, the first position corresponds to the left
Scanning sequency distance, wherein the context coefficient register is the context coefficient register for reducing size；
From the second place identification top context coefficient value in the context coefficient register, the second place corresponds to described
Scanning overhead order distance；And
The current entropy code conversion coefficient is entered based on the left context coefficient value and the top context coefficient value
Row entropy decoding, and
Entropy-decoded current transform coefficient is included in the output bit flow for display；And
Store or show the output bit flow.
15. device according to claim 14, wherein, the processor is configured as execution and is stored in the memory
Instruction to carry out following operation：
For the scanning sequency, from scanning sequency apart from table in recognize the left scanning sequency distance and the scanning overhead
Order distance.
16. device according to claim 15, wherein, the processor is configured as execution and is stored in the memory
Instruction to carry out following operation：
Recognize the scanning sequency apart from table so that the scanning sequency includes for every in the scanning sequency apart from table
The left context coefficient scanning order distance and top context coefficient scanning order distance of individual respective scanned ordinal position.
17. device according to claim 14, wherein, entropy decoding bag is carried out to the current entropy code conversion coefficient
Include：
By the maximum for being sized to be less than the scanning sequency distance for the scanning sequency of the context coefficient register
The size of value.
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
CN202010585236.1A CN111866505B (en) | 2015-01-19 | 2015-11-16 | Efficient context handling in arithmetic coding |
Applications Claiming Priority (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US14/599,773 | 2015-01-19 | ||
US14/599,773 US9781424B2 (en) | 2015-01-19 | 2015-01-19 | Efficient context handling in arithmetic coding |
PCT/US2015/060825 WO2016118220A1 (en) | 2015-01-19 | 2015-11-16 | Efficient context handling in arithmetic coding |
Related Child Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN202010585236.1A Division CN111866505B (en) | 2015-01-19 | 2015-11-16 | Efficient context handling in arithmetic coding |
Publications (2)
Publication Number | Publication Date |
---|---|
CN107211137A true CN107211137A (en) | 2017-09-26 |
CN107211137B CN107211137B (en) | 2020-07-10 |
Family
ID=55066756
Family Applications (2)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN201580073739.8A Active CN107211137B (en) | 2015-01-19 | 2015-11-16 | Efficient context handling in arithmetic coding |
CN202010585236.1A Active CN111866505B (en) | 2015-01-19 | 2015-11-16 | Efficient context handling in arithmetic coding |
Family Applications After (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN202010585236.1A Active CN111866505B (en) | 2015-01-19 | 2015-11-16 | Efficient context handling in arithmetic coding |
Country Status (4)
Country | Link |
---|---|
US (4) | US9781424B2 (en) |
EP (2) | EP3958565A1 (en) |
CN (2) | CN107211137B (en) |
WO (1) | WO2016118220A1 (en) |
Cited By (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN112840664A (en) * | 2018-10-18 | 2021-05-25 | 高通股份有限公司 | Scanning and last coefficient position coding for zero-setting transforms |
CN114143559A (en) * | 2018-01-30 | 2022-03-04 | 谷歌有限责任公司 | Efficient context model computational design in transform coefficient coding |
CN114449277A (en) * | 2017-12-08 | 2022-05-06 | 谷歌有限责任公司 | Method and apparatus for context derivation for coefficient coding |
Families Citing this family (4)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
EP3264763A1 (en) * | 2016-06-29 | 2018-01-03 | Thomson Licensing | Method and apparatus for improved significance flag coding using simple local predictor |
US10326994B2 (en) * | 2017-08-15 | 2019-06-18 | Google Llc | Modifying a scan order to limit scan distance |
US10547869B2 (en) * | 2017-12-08 | 2020-01-28 | Google Llc | Template-based entropy coding of quantized transform coefficients |
US20230247209A1 (en) * | 2022-01-18 | 2023-08-03 | Tencent America LLC | Signalling of eob for one dimensional transform skip |
Citations (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
WO2008134664A1 (en) * | 2007-04-26 | 2008-11-06 | Texas Instruments Incorporated | Method of cabac coefficient magnitude and sign decoding suitable for use on vliw data processors |
CN104137542A (en) * | 2012-03-02 | 2014-11-05 | 高通股份有限公司 | Scan-based sliding window in context derivation for transform coefficient coding |
Family Cites Families (64)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
JP2870515B2 (en) | 1996-12-27 | 1999-03-17 | 日本電気株式会社 | Variable length coding device |
AUPQ982400A0 (en) * | 2000-09-01 | 2000-09-28 | Canon Kabushiki Kaisha | Entropy encoding and decoding |
US6882755B2 (en) * | 2001-10-19 | 2005-04-19 | Hewlett-Packard Development Company, L.P. | Image transmission for low bandwidth with region of interest |
US7206448B2 (en) | 2002-02-28 | 2007-04-17 | At&T Corp. | System and method for using pattern vectors for video and image coding and decoding |
US7158684B2 (en) | 2002-04-25 | 2007-01-02 | Texas Instruments Incoporated | Entropy coding scheme for video coding |
US7379608B2 (en) | 2003-12-04 | 2008-05-27 | Fraunhofer-Gesellschaft Zur Foerderung Der Angewandten Forschung, E.V. | Arithmetic coding for transforming video and picture data units |
US7580585B2 (en) | 2004-10-29 | 2009-08-25 | Microsoft Corporation | Lossless adaptive Golomb/Rice encoding and decoding of integer data using backward-adaptive rules |
CN101167366B (en) | 2005-12-05 | 2010-10-27 | 华为技术有限公司 | Binarizing method and device |
US8275045B2 (en) | 2006-07-12 | 2012-09-25 | Qualcomm Incorporated | Video compression using adaptive variable length codes |
US7813567B2 (en) | 2007-04-26 | 2010-10-12 | Texas Instruments Incorporated | Method of CABAC significance MAP decoding suitable for use on VLIW data processors |
KR101539240B1 (en) | 2007-06-14 | 2015-07-30 | 삼성전자주식회사 | Method and apparatus for encoding and decoding image data |
US8891615B2 (en) | 2008-01-08 | 2014-11-18 | Qualcomm Incorporated | Quantization based on rate-distortion modeling for CABAC coders |
KR101375668B1 (en) | 2008-03-17 | 2014-03-18 | 삼성전자주식회사 | Method and apparatus for encoding transformed coefficients and method and apparatus for decoding transformed coefficients |
EP2182732A1 (en) * | 2008-10-28 | 2010-05-05 | Panasonic Corporation | Switching between scans in image coding |
US8588536B2 (en) | 2010-02-22 | 2013-11-19 | Texas Instruments Incorporated | Guaranteed-rate tiled image data compression |
US8410959B2 (en) * | 2010-04-09 | 2013-04-02 | Qualcomm, Incorporated | Variable length codes for coding of video data |
PL2559166T3 (en) * | 2010-04-13 | 2018-04-30 | Fraunhofer-Gesellschaft zur Förderung der angewandten Forschung e.V. | Probability interval partioning encoder and decoder |
PT3244612T (en) * | 2010-04-13 | 2018-11-14 | Ge Video Compression Llc | Coding of significance maps and transform coefficient blocks |
KR102574591B1 (en) | 2010-05-12 | 2023-09-06 | 인터디지털 매디슨 페턴트 홀딩스 에스에이에스 | Methods and apparatus for unified significance map coding |
US20110280314A1 (en) * | 2010-05-12 | 2011-11-17 | Texas Instruments Incorporated | Slice encoding and decoding processors, circuits, devices, systems and processes |
JP5707412B2 (en) | 2010-09-29 | 2015-04-30 | パナソニック インテレクチュアル プロパティ コーポレーション オブアメリカＰａｎａｓｏｎｉｃ Ｉｎｔｅｌｌｅｃｔｕａｌ Ｐｒｏｐｅｒｔｙ Ｃｏｒｐｏｒａｔｉｏｎ ｏｆ Ａｍｅｒｉｃａ | Image decoding method, image encoding method, image decoding device, image encoding device, program, and integrated circuit |
US9641846B2 (en) * | 2010-10-22 | 2017-05-02 | Qualcomm Incorporated | Adaptive scanning of transform coefficients for video coding |
US8526495B2 (en) | 2010-11-22 | 2013-09-03 | Mediatek Singapore Pte. Ltd. | Apparatus and method of constrained partition size for high efficiency video coding |
US8976861B2 (en) * | 2010-12-03 | 2015-03-10 | Qualcomm Incorporated | Separately coding the position of a last significant coefficient of a video block in video coding |
CN104811706B (en) * | 2011-01-06 | 2017-10-27 | 三星电子株式会社 | The coding method of video and the coding/decoding method and device of device and video |
CN107317586B (en) | 2011-01-14 | 2020-11-06 | Ge视频压缩有限责任公司 | Entropy encoding apparatus and method, entropy decoding apparatus and method, and storage medium |
US8861599B2 (en) | 2011-03-08 | 2014-10-14 | Sony Corporation | Context reduction for last transform position coding |
US9338449B2 (en) * | 2011-03-08 | 2016-05-10 | Qualcomm Incorporated | Harmonized scan order for coding transform coefficients in video coding |
US9106913B2 (en) * | 2011-03-08 | 2015-08-11 | Qualcomm Incorporated | Coding of transform coefficients for video coding |
US10123053B2 (en) | 2011-05-23 | 2018-11-06 | Texas Instruments Incorporated | Acceleration of bypass binary symbol processing in video coding |
US9532058B2 (en) | 2011-06-03 | 2016-12-27 | Qualcomm Incorporated | Intra prediction mode coding with directional partitions |
US20130083856A1 (en) * | 2011-06-29 | 2013-04-04 | Qualcomm Incorporated | Contexts for coefficient level coding in video compression |
EP2727354A1 (en) | 2011-06-30 | 2014-05-07 | Huawei Technologies Co., Ltd | Encoding of prediction residuals for lossless video coding |
US20130003858A1 (en) | 2011-06-30 | 2013-01-03 | Vivienne Sze | Simplified Context Selection For Entropy Coding of Transform Coefficient Syntax Elements |
US20130016789A1 (en) * | 2011-07-15 | 2013-01-17 | General Instrument Corporation | Context modeling techniques for transform coefficient level coding |
WO2013050612A1 (en) * | 2011-10-06 | 2013-04-11 | Fraunhofer-Gesellschaft zur Förderung der angewandten Forschung e.V. | Entropy coding buffer arrangement |
US8891630B2 (en) | 2011-10-24 | 2014-11-18 | Blackberry Limited | Significance map encoding and decoding using partition set based context assignment |
PT2773109T (en) * | 2011-10-31 | 2016-12-22 | Samsung Electronics Co Ltd | Method and apparatus for determining a context model for transform coefficient level entropy encoding and decoding |
WO2013067435A1 (en) | 2011-11-04 | 2013-05-10 | Huawei Technologies Co., Ltd. | Differential pulse code modulation intra prediction for high efficiency video coding |
EP2775713B1 (en) * | 2011-11-04 | 2021-06-16 | Sharp Kabushiki Kaisha | Arithmetic decoding device, image decoding device, arithmetic coding device, image coding device, and arithmetic decoding method |
US20130114685A1 (en) | 2011-11-07 | 2013-05-09 | Sharp Laboratories Of America, Inc. | Video decoder with constrained dynamic range |
WO2013070970A2 (en) | 2011-11-08 | 2013-05-16 | General Instrument Corporation | Method of determining binary codewords for transform coefficients |
US9154792B2 (en) | 2011-11-08 | 2015-10-06 | Qualcomm Incorporated | Progressive coding of position of last significant coefficient |
BR112014011155B1 (en) | 2011-11-08 | 2023-04-04 | Google Technology Holdings LLC | METHOD OF DETERMINING A BINARY CODE WORD FOR A SYMBOL, VIDEO ENCODER AND COMPUTER READABLE MEDIA |
CA2773990C (en) * | 2011-11-19 | 2015-06-30 | Research In Motion Limited | Multi-level significance map scanning |
JP6134651B2 (en) * | 2011-12-28 | 2017-05-24 | シャープ株式会社 | Arithmetic decoding apparatus, arithmetic encoding apparatus, and arithmetic decoding method |
EP2673954A4 (en) * | 2012-01-12 | 2015-08-12 | Mediatek Inc | Method and apparatus for unification of significance map context selection |
US20130182772A1 (en) | 2012-01-13 | 2013-07-18 | Qualcomm Incorporated | Determining contexts for coding transform coefficient data in video coding |
US9743116B2 (en) | 2012-01-19 | 2017-08-22 | Huawei Technologies Co., Ltd. | High throughput coding for CABAC in HEVC |
US9654139B2 (en) | 2012-01-19 | 2017-05-16 | Huawei Technologies Co., Ltd. | High throughput binarization (HTB) method for CABAC in HEVC |
US20130188698A1 (en) * | 2012-01-19 | 2013-07-25 | Qualcomm Incorporated | Coefficient level coding |
SG11201404240PA (en) * | 2012-01-20 | 2014-08-28 | Fraunhofer Ges Forschung | Transform coefficient coding |
KR20160034424A (en) * | 2012-01-20 | 2016-03-29 | 소니 주식회사 | Complexity reduction of significance map coding |
WO2013110000A1 (en) | 2012-01-21 | 2013-07-25 | General Instrument Corporation | Method of determining binary codewords for transform coefficients |
US9635358B2 (en) | 2012-01-21 | 2017-04-25 | Google Technology Holdings LLC | Method of determining binary codewords for transform coefficients |
WO2013109997A1 (en) | 2012-01-21 | 2013-07-25 | General Instrument Corporation | Method of determining binary codewords for transform coefficients |
US9479780B2 (en) | 2012-02-01 | 2016-10-25 | Google Technology Holdings LLC | Simplification of significance map coding |
EP2810440A1 (en) * | 2012-02-04 | 2014-12-10 | General Instrument Corporation | Devices and methods for context reduction in last significant coefficient position coding |
US9167245B2 (en) | 2012-02-05 | 2015-10-20 | Google Technology Holdings LLC | Method of determining binary codewords for transform coefficients |
US9350998B2 (en) * | 2012-06-29 | 2016-05-24 | Qualcomm Incorporated | Coding of significance flags |
US20140056356A1 (en) | 2012-08-21 | 2014-02-27 | Motorola Mobility Llc | Method and apparatus for efficient signaling of weighted prediction in advanced coding schemes |
EP2946553B1 (en) * | 2013-01-16 | 2019-01-02 | BlackBerry Limited | Transform coefficient coding for context-adaptive binary entropy coding of video |
JP6472442B2 (en) * | 2013-10-11 | 2019-02-20 | シャープ株式会社 | Decryption method |
CN104270641B (en) * | 2014-09-30 | 2018-12-14 | 杭州华为数字技术有限公司 | The treating method and apparatus of transformation coefficient |
-
2015
- 2015-01-19 US US14/599,773 patent/US9781424B2/en active Active
- 2015-11-16 CN CN201580073739.8A patent/CN107211137B/en active Active
- 2015-11-16 EP EP21196408.5A patent/EP3958565A1/en active Pending
- 2015-11-16 CN CN202010585236.1A patent/CN111866505B/en active Active
- 2015-11-16 EP EP15818104.0A patent/EP3248376B1/en active Active
- 2015-11-16 WO PCT/US2015/060825 patent/WO2016118220A1/en active Application Filing
-
2017
- 2017-08-29 US US15/689,291 patent/US10390018B2/en active Active
-
2019
- 2019-07-30 US US16/525,707 patent/US11019341B2/en active Active
-
2021
- 2021-05-04 US US17/307,140 patent/US11496740B2/en active Active
Patent Citations (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
WO2008134664A1 (en) * | 2007-04-26 | 2008-11-06 | Texas Instruments Incorporated | Method of cabac coefficient magnitude and sign decoding suitable for use on vliw data processors |
CN104137542A (en) * | 2012-03-02 | 2014-11-05 | 高通股份有限公司 | Scan-based sliding window in context derivation for transform coefficient coding |
Cited By (4)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN114449277A (en) * | 2017-12-08 | 2022-05-06 | 谷歌有限责任公司 | Method and apparatus for context derivation for coefficient coding |
CN114143559A (en) * | 2018-01-30 | 2022-03-04 | 谷歌有限责任公司 | Efficient context model computational design in transform coefficient coding |
CN114143559B (en) * | 2018-01-30 | 2024-01-05 | 谷歌有限责任公司 | Efficient context model calculation design in transform coefficient coding |
CN112840664A (en) * | 2018-10-18 | 2021-05-25 | 高通股份有限公司 | Scanning and last coefficient position coding for zero-setting transforms |
Also Published As
Publication number | Publication date |
---|---|
CN107211137B (en) | 2020-07-10 |
US20160212430A1 (en) | 2016-07-21 |
EP3248376B1 (en) | 2021-09-15 |
US11019341B2 (en) | 2021-05-25 |
US10390018B2 (en) | 2019-08-20 |
WO2016118220A1 (en) | 2016-07-28 |
US20190356921A1 (en) | 2019-11-21 |
US11496740B2 (en) | 2022-11-08 |
CN111866505B (en) | 2022-04-26 |
US20180007360A1 (en) | 2018-01-04 |
US9781424B2 (en) | 2017-10-03 |
CN111866505A (en) | 2020-10-30 |
US20210274183A1 (en) | 2021-09-02 |
EP3248376A1 (en) | 2017-11-29 |
EP3958565A1 (en) | 2022-02-23 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
CN107211137A (en) | Efficient context reply in arithmetic code | |
CN103636215B (en) | Video data application non-square is converted | |
CN106797468B (en) | Efficient video coding (HEVC) screen content encodes improved pallet mode in (SCC) | |
CN107743706A (en) | Hypermutation changes video code | |
JP2020529766A (en) | Recording medium storing image coding / decoding methods, devices, and bitstreams | |
CN108605142A (en) | The inseparable transformation of multipass for video coding | |
CN109792517A (en) | Method and apparatus for coding and decoding big visual field video | |
CN107105279A (en) | Merge the method and the equipment using this method of candidate blocks for guiding | |
CN105100814B (en) | Image coding and decoding method and device | |
CN108353165A (en) | The method and apparatus that image is encoded/decoded using geometric modification picture | |
CN110830803B (en) | Image compression method combining block matching and string matching | |
CN107027033A (en) | Paster for video compress is copied | |
WO2018048516A1 (en) | Context adaptive scan order for entropy coding | |
WO2020046434A1 (en) | Lossy image compression using palettization of locally mixed colors | |
CN107079156A (en) | Alternately block constrains decision-making mode code | |
JP6959367B2 (en) | Dual deblocking filter threshold | |
EP4282156A1 (en) | Video coding with guided machine learning restoration | |
CN115699752A (en) | Inter-intra prediction with implicit model |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
PB01 | Publication | ||
PB01 | Publication | ||
SE01 | Entry into force of request for substantive examination | ||
SE01 | Entry into force of request for substantive examination | ||
CB02 | Change of applicant information |
Address after: American CaliforniaApplicant after: Google limited liability companyAddress before: American CaliforniaApplicant before: Google Inc. |
|
CB02 | Change of applicant information | ||
GR01 | Patent grant | ||
GR01 | Patent grant |