Querverweis auf zugehörige AnmeldungenCross-reference to related applications
Diese Anmeldung beansprucht die Priorität der vorläufigen U.S.-Anmeldung Nr. 61/260,342, angemeldet am 11. November 2009, die hierbei durch Bezugnahme hierin integriert ist.This application claims the benefit of U.S. Provisional Application No. 61 / 260,342, filed on Nov. 11, 2009, which is incorporated herein by reference.
Technisches Gebiet der ErfindungTechnical field of the invention
Die vorliegende Erfindung betrifft Fahrtenplanung in öffentlichen Verkehrsmitteln und insbesondere das Minimieren von Berechnungszeit und Ressourcen, die zum Bereitstellen von Anweisungen für öffentliche Verkehrsmittel notwendig sind, durch Verwendung von vorverarbeiteten Transitinformationen. Unter Schutz gestellt werden und Gegenstand des Gebrauchsmusters sind dabei, entsprechend den Vorschriften des Gebrauchsmustergesetzes, lediglich Vorrichtungen wie in den beigefügten Schutzansprüchen definiert, jedoch keine Verfahren. Soweit nachfolgend in der Beschreibung gegebenenfalls auf Verfahren Bezug genommen wird, dienen diese Bezugnahmen lediglich der beispielhaften Erläuterung der in den beigefügten Schutzansprüchen unter Schutz gestellten Vorrichtung oder Vorrichtungen.The present invention relates to trip planning in public transport, and more particularly to minimizing computation time and resources necessary to provide public transport directions by using preprocessed transit information. Be provided under protection and subject of the utility model are, according to the provisions of the utility model law, only devices as defined in the appended claims, but no method. Wherever in the description, if appropriate, reference is made to methods, these references are merely illustrative of the device or devices set forth in the appended claims.
Allgemeiner Stand der TechnikGeneral state of the art
Mit der Verbesserung der Infrastruktur öffentlicher Verkehrsmittel, einem erhöhten Umweltbewusstsein und den steigenden Kosten für Kraftstoff haben viele Menschen begonnen, unterschiedliche Formen von öffentlichen Verkehrsmitteln zu nutzen. Anstatt ihre eigenen Fahrzeuge zu verwenden, haben die Menschen zunehmend Schienenverkehr, Busse und/oder Fähren für ihre Reisebedürfnisse verwendet. Aufgrund dieser Erhöhung bei der Verwendung von öffentlichen Verkehrsmitteln wurden Planungssysteme für öffentlichen Verkehr entwickelt. Diese Systeme stellen Benutzern Anweisungen zum Reisen von einem Startort zu einem Zielort über unterschiedliche Formen von öffentlichen Verkehrsmitteln bereit.With the improvement of public transport infrastructure, increased environmental awareness and rising fuel costs, many people have begun to use different forms of public transport. Instead of using their own vehicles, people have increasingly used rail transport, buses and / or ferries for their travel needs. As a result of this increase in the use of public transport, public transport planning systems have been developed. These systems provide users with instructions to travel from a starting location to a destination via various forms of public transport.
Typischerweise wird bei diesen Systemen eine Anfrage mit einem Startstandort und einem Zielstandort empfangen, und die Transitplanungssysteme stellen Schritt-für-Schritt-Anweisungen zum Erreichen des Zielorts unter Verwendung von einer oder mehreren Formen von öffentlichen Verkehrsmitteln bereit. Beispielsweise können die Anweisungen eine Folge davon beinhalten, welche öffentlichen Verkehrsfahrzeuge (z. B. Busse, Bahnen usw.) verwendet werden, und welche Halte an öffentlichen Verkehrsstandorten notwendig sind, um den Zielort der Fahrt zu erreichen. Die Anweisungen können einen Transfer zu einem anderen Transitfahrzeug beinhalten, der an den unterschiedlichen Transitstandorten im Verlauf der Fahrt erforderlich ist. Daher stellen die Planungssysteme einen Mechanismus bereit, der Informationen für Menschen bereitstellt, um ihre Fahrten unter Verwendung von öffentlichen Verkehrsmitteln einfach zu planen.Typically, these systems receive a request with a start site and a destination site, and the transit planning systems provide step-by-step instructions for reaching the destination using one or more forms of public transport. For example, the instructions may include a consequence of which public transportation vehicles (eg, buses, trains, etc.) are used and which stops at public transport locations are necessary to reach the destination of the trip. The instructions may include a transfer to another transit vehicle required at the different transit locations during the journey. Therefore, the planning systems provide a mechanism that provides information to people to easily plan their trips using public transport.
Typischerweise analysieren diese herkömmlichen Transitplanungssysteme zum Bestimmen der Anweisungen für eine Fahrt zur Anfragezeit unterschiedliche Routen zwischen den Start- und Zielstandorten der Fahrt, um den optimalen Weg zum Erreichen des Zielorts zu bestimmen. Dieser Ansatz ist nützlich, wenn es eine relativ kleine Anzahl von potenziellen Routen zwischen den Standorten aufgrund einer begrenzten Anzahl von verfügbaren Transitoptionen gibt. Aufgrund der Erweiterung der Infrastruktur der öffentlichen Verkehrsmittel und der Fähigkeit zum Wechsel zwischen unterschiedlichen Transportsystemen (z. B. Wechsel zwischen einer Bahn und Bus in einer gemeinsamen Station), wuchs die Anzahl von möglichen Routen zwischen jedem gegebenen Startstandort und Zielstandort bedeutend. Daher hat sich auch die Zeit, die während der Anfragezeit zum Berechnen des optimalen Wegs zum Erreichen eines Ziels benötigt wird, ebenfalls dramatisch erhöht, wodurch sich die Zeit erhöht, die Benutzer abwarten müssen, um Ergebnisse zu erhalten.Typically, these conventional transit planning systems for determining the instructions for a ride at the request time analyze different routes between the start and end locations of the ride to determine the optimal way to reach the destination. This approach is useful when there are a relatively small number of potential routes between sites due to a limited number of available transit options. Due to the expansion of the public transport infrastructure and the ability to switch between different transport systems (eg, change between a train and bus in a shared station), the number of possible routes between each given start site and destination location has grown significantly. Therefore, the time taken during the request time to calculate the optimal path to reach a destination has also increased dramatically, increasing the time that users have to wait to get results.
Kurzdarstellung der ErfindungBrief description of the invention
Ein öffentliches Verkehrsreiseplanungssystem und -verfahren wird bereitgestellt, beim vorverarbeitete Transitinformationen vor der Anfragezeit verwendet werden, um optimale öffentliche Verkehrsrouten als Reaktion auf eine Anfrage nach einer Reise oder einer Fahrt unter Verwendung des öffentlichen Verkehrs zu bestimmen. Die optimalen öffentlichen Verkehrsrouten beschreiben die besten Routen für eine Fahrt im Verhältnis zu Zeit und anderen Faktoren unter Verwendung von ausschließlich öffentlichen Verkehrsmitteln und/oder Gehen, um einen Zielstandort von einem gegebenen Startpunkt zu erreichen. Das öffentliche Verkehrsreiseplanungssystem verarbeitet Transitinformationen (die grundlegende öffentliche Verkehrsfahrpläne beschreiben) vor der Anfragezeit, um optimale Wechselmuster zu bestimmen, die Routen zwischen zwei beliebigen Transitstationen beschreiben. Genauer ausgedrückt beschreibt ein Wechselmuster eine Folge von Transitfahrzeugwechseln von einer oder mehreren Transitstationen, die getätigt werden müssen, um einen Zielort zu erreichen. Durch Vorverarbeiten der Transitinformationen zum Bestimmen der Wechselmuster vor der Anfragezeit wird eine minimale Menge von Berechnung bei der Anfragezeit benötigt, um eine Benutzeranfrage nach einer öffentlichen Verkehrsroute zu erfüllen. Im Allgemeinen führt das System Vor- und Nach-Anfrageberechnungen aus, um Benutzern öffentliche Verkehrsrouten bereitzustellen.A public traffic planning system and method is provided to use preprocessed transit information prior to the request time to determine optimal public transport routes in response to a request for travel or travel using public transport. The optimal public transport routes describe the best routes for a trip relative to time and other factors using only public transport and / or walking to reach a destination location from a given starting point. The public traffic planning system processes transit information (describing basic public transport schedules) prior to the request time to determine optimal change patterns describing routes between any two transit stations. More specifically, an alternating pattern describes a sequence of Transit vehicle changes from one or more transit stations that must be made to reach a destination. By preprocessing the transit information to determine the swap patterns prior to the request time, a minimum amount of computation is needed at the request time to satisfy a user request for a public transport route. In general, the system performs pre and post request calculations to provide users with public transport routes.
Vor der Anfragezeit berechnet das System die optimalen Wechselmuster von öffentlichen Verkehrsmitteln zwischen bekannten Transitstationen unter Verwendung von Transitinformationen, die von unterschiedlichen Transitstellen erhalten wurden. Jede gespeicherte Transitfahrt, die durch die Transitinformationen beschrieben ist, beinhaltet eine Quellenstation und eine Zielstation. Ein Plan von einer oder mehreren Haltestellen (d. h. eine Route) an Transitstationen durch ein Transitfahrzeug, wird von jeder gespeicherten Fahrt abgerufen. Es wird ein Transitgraph erzeugt, der die Route von jeder gespeicherten Fahrt als eine durch Bögen verbundene Reihe von Konten darstellt. Jeder Knoten im Transitgraph stellt ein Ereignis dar, das an einer Transitstation eintritt, die von einem Transitfahrzeug angefahren wird, das mit der Fahrt verbunden ist. Beispiele des Ereignisses beinhalten, dass das Transitfahrzeug in der Transitstation ankommt oder von dort abfährt. Für jedes Paar von Transitstationen, das im Transitgraphen dargestellt ist, wird ein optimales Wechselmuster berechnet, das die beste Transitroute in Bezug auf die Anzahl von Wechseln, Dauer der Fahrt und/oder anderen Faktoren beschreibt. Wie zuvor erwähnt, beschreibt das optimale Wechselmuster einen oder mehrere Wechsel entlang Transitstationen zwischen dem Paar von Stationen im Graphen. Jedes optimale Wechselmuster für jedes Paar von Transitstationen wird zur späteren Verwendung während der Anfragezeit gespeichert.Prior to the request time, the system calculates the optimal public transit switching patterns between known transit stations using transit information obtained from different transit points. Each stored transit trip described by the transit information includes a source station and a destination station. A schedule of one or more stops (i.e., a route) to transit stations through a transit vehicle is retrieved from each stored trip. A transit graph is generated that represents the route of each stored trip as a series of accounts linked by arcs. Each node in the transit graph represents an event that occurs at a transit station that is approached by a transit vehicle that is connected to the drive. Examples of the event include the transit vehicle arriving at or departing from the transit station. For each pair of transit stations depicted in the transit graph, an optimal exchange pattern is calculated that describes the best transit route in terms of number of changes, duration of travel and / or other factors. As previously mentioned, the optimal swap pattern describes one or more transitions along transit stations between the pair of stations in the graph. Each optimal swap pattern for each pair of transit stations is stored for later use during the request time.
Sobald eine Anfrage empfangen wird, verwendet das System die gespeicherten optimalen Wechselmuster zum Bestimmen einer öffentlichen Transitroute zwischen einem gegebenen Startstandort und einem Zielstandort, der in der Anfrage enthalten ist. Nach dem Empfangen der Anfrage bestimmt das System die Transitstationen innerhalb einer radialen Distanz vom Startstandort, um eine Quellenstationsliste zu erzeugen, die die Stationen in der Nähe des Startstandorts beschreibt. Das System bestimmt auf ähnliche Weise Transitstationen innerhalb einer radialen Distanz vom Zielstandort, um eine Zielstationsliste zu erzeugen, die die Stationen in der Nähe des Zielstandorts beschreibt. Für jede paarweise Kombination von Transitstationen, die eine Quellenstation von der Quellenstationsliste beschreibt, und eine Zielstation von der Zielstationsliste, wird ein gespeichertes Wechselmuster abgerufen, das Transitfahrzeugwechsel an Zwischenstationen zwischen der Quellenstation und der Zielstation beschreibt. Da die Wechselmuster bereits vor der Anfragezeit berechnet wurden, muss das System nur die Wechselmuster abrufen. Das System bestimmt dann mindestens eine optimale Route von der Quellenstation zur Zielstation basierend auf den abgerufenen Wechselmustern. Die optimale Route wird dann zum Client-Gerät des Benutzers übertragen, der die Anfrage einreichte.Once a request is received, the system uses the stored optimal swap patterns to determine a public transit route between a given launch location and a destination location included in the request. Upon receiving the request, the system determines the transit stations within a radial distance from the starting location to generate a source station list describing the stations in the vicinity of the starting location. The system similarly determines transit stations within a radial distance of the destination site to generate a destination station list describing the stations in the vicinity of the destination location. For each paired combination of transit stations describing a source station from the source station list and a destination station from the destination station list, a stored alternate pattern is retrieved describing transit vehicle changes at intermediate stations between the source station and the destination station. Since the replacement patterns were calculated before the request time, the system only needs to retrieve the replacement patterns. The system then determines at least one optimal route from the source station to the destination station based on the retrieved alternate patterns. The optimal route is then transmitted to the client device of the user who submitted the request.
Die in dieser Zusammenfassung beschriebenen Merkmale und Vorteile und die folgende detaillierte Beschreibung sind nicht allumfassend. Den Fachleuten werden anhand der Zeichnungen, Beschreibung und der Ansprüche hiervon viele weitere Leistungsmerkmale und Vorteile ersichtlich sein.The features and advantages described in this summary and the following detailed description are not exhaustive. Many other features and advantages will be apparent to those skilled in the art from the drawings, specification and claims hereof.
Kurzbeschreibung der ZeichnungenBrief description of the drawings
1 ist ein hochrangiges Blockdiagramm einer Computerumgebung gemäß einer Ausführungsform. 1 FIG. 10 is a high-level block diagram of a computing environment according to an embodiment. FIG.
2 ist ein Prozessablaufdiagramm von Stufen eines Vorberechnungsprozesses von öffentlichen Umwandlungsinformationen vor Anfragezeit gemäß einer Ausführungsform. 2 FIG. 10 is a process flow diagram of stages of a preprocessing process of public conversion information before request time according to an embodiment. FIG.
3 ist ein Prozessablaufdiagramm zum Erzeugen eines Transitgraphen gemäß einer Ausführungsform. 3 FIG. 10 is a process flow diagram for generating a transit graph according to an embodiment. FIG.
4 veranschaulicht einen exemplarischen Transitgraphen gemäß einer Ausführungsform. 4 illustrates an exemplary transit graph according to an embodiment.
5A–5B sind Prozessablaufdiagramme zum Bestimmen globaler Stationen gemäß einer Ausführungsform. 5A - 5B FIG. 15 are process flow diagrams for determining global stations according to an embodiment. FIG.
6 ist ein Prozessablaufdiagramm zum Bestimmen Direktverbindungen gemäß einer Ausführungsform. 6 FIG. 10 is a process flow diagram for determining direct connections according to one embodiment. FIG.
7 veranschaulicht ein Beispiel einer Direktverbindungsfahrt gemäß einer Ausführungsform. 7 illustrates an example of a direct link ride according to one embodiment.
8 ist ein Prozessablaufdiagramm zum Berechnen von Wechselmustern ohne Verwendung von Globalstationen gemäß einer Ausführungsform. 8th FIG. 10 is a process flow diagram for calculating alternate patterns without using global stations according to an embodiment. FIG.
9 ist ein Prozessablaufdiagramm zum Berechnen von Wechselmustern mit Verwendung von Globalstationen gemäß einer Ausführungsform. 9 FIG. 10 is a process flow diagram for calculating alternate patterns using global stations according to an embodiment. FIG.
10A–10F veranschaulichen Prozessablaufdiagramme zum heuristischen Berechnen von Wechselmustern mit Verwendung von Globalstationen gemäß einer Ausführungsform. 10A - 10F illustrate process flow diagrams for heuristically calculating alternate patterns using global stations according to an embodiment.
11 ist ein Prozessablaufdiagramm zum Komprimieren von Wechselmustern gemäß einer Ausführungsform. 11 FIG. 10 is a process flow diagram for compressing alternate patterns according to one embodiment. FIG.
12 ist ein Prozessablaufdiagramm von Stufen, die zur Anfragezeit zum Erfüllen einer Benutzeranfrage gemäß einer Ausführungsform ausgeführt werden. 12 FIG. 10 is a process flow diagram of stages executed at the request time to fulfill a user request according to an embodiment. FIG.
13 ist ein Prozessablaufdiagramm zum Bestimmen von Stationen in der Nähe von einem Quellenstandort und einem Zielstandort gemäß einer Ausführungsform. 13 FIG. 10 is a process flow diagram for determining stations in proximity to a source location and a destination location, according to one embodiment.
14 ist ein Prozessablaufdiagramm zum Erzeugen eines Anfragegraphen gemäß einer Ausführungsform. 14 FIG. 10 is a process flow diagram for generating a request graph according to an embodiment. FIG.
15 veranschaulicht ein Beispiel eines Anfragegraphen gemäß einer Ausführungsform. 15 illustrates an example of a request graph according to an embodiment.
16 ist ein Prozessablaufdiagramm zum Erweitern eines Anfragegraphen gemäß einer Ausführungsform. 16 FIG. 10 is a process flow diagram for extending a request graph according to an embodiment. FIG.
17 veranschaulicht ein Beispiel eines erweiterten Anfragegraphen gemäß einer Ausführungsform. 17 illustrates an example of an extended query graph according to one embodiment.
18 ist ein Prozessablaufdiagramm zum Bestimmen optimaler Fahrten vom erweiterten Anfragegraphen gemäß einer Ausführungsform. 18 FIG. 10 is a process flow diagram for determining optimal trips from the extended query graph according to one embodiment. FIG.
19 veranschaulicht eine exemplarische Benutzerschnittstelle, die optimale Fahrten gemäß einer Ausführungsform beinhaltet. 19 FIG. 12 illustrates an example user interface that includes optimal trips according to an embodiment. FIG.
Die Figuren bilden nur zum Zwecke der Veranschaulichung eine bevorzugte Ausführungsform der vorliegenden Erfindung ab. Fachleute werden anhand der nachfolgenden Diskussion leicht erkennen, dass alternative Ausführungsformen der hierin dargestellten Strukturen und Methoden verwendet werden können, ohne von den Prinzipien der hierin dargestellten Erfindung abzuweichen.The figures depict a preferred embodiment of the present invention for purposes of illustration only. Those skilled in the art will readily recognize from the discussion below that alternative embodiments of the structures and methods presented herein may be used without departing from the principles of the invention set forth herein.
Ausführliche Beschreibung der ErfindungDetailed description of the invention
I. SystemüberblickI. System Overview
Ein öffentliches Transitreiseplanungssystem und -methodologie wird bereitgestellt, bei der eine umfassende Vorverarbeitung von Transitinformationen vor der Anfragezeit verwendet wird, um optimale öffentliche Transitrouten für Reisen zu bestimmen. Eine optimale öffentliche Transitroute ist die beste Route in Berg auf Zeit und/oder andere Faktoren, die zum Erreichen eines Zielstandorts von einem Startstandort verwendet werden können. Eine öffentliche Transitroute umfasst Anweisungen von einem Startstandort zu einem Zielstandort nur unter Verwendung von öffentlichen Verkehrsmitteln (obwohl mehrere unterschiedliche Arten von öffentlichen Verkehrsmitteln auf einer einzelnen Route verwendet werden könnten), und können Gehen beinhalten. Die Route beschreibt, welche Transitstationen für die Reise zu verwenden sind, sowie alle Wechsel zu einem oder mehreren Transitfahrzeugen (einschließlich Wechsel zwischen unterschiedlichen Arten von öffentlichen Verkehrsfahrzeugen, die durchgeführt werden müssen, um den Zielstandort zu erreichen.A public transit journey planning system and methodology is provided in which comprehensive preprocessing of transit information prior to the request time is used to determine optimal public transit routes for travel. An optimal public transit route is the best in-temp route and / or other factors that can be used to reach a destination location from a starting location. A public transit route includes instructions from a start site to a destination site using only public transport (although several different types of public transport could be used on a single route), and may include walking. The route describes which transit stations to use for the journey, as well as any changes to one or more transit vehicles (including changes between different types of public transport vehicles that must be made to reach the destination location.
Das Transitreiseplanungssystem empfängt Transitinformationen von Transitstellen, die öffentliche Verkehrsmittel, wie z. B. Bus- oder Bahnlinien, bereitstellen. Die Transitinformationen beschreiben Fahrten zwischen unterschiedlichen Standorten unter Verwendung von einer oder mehreren Formen von öffentlichen Verkehrsmitteln. Die Transitinformationen können Fahrplaninformationen für öffentliche Verkehrsfahrten beschreiben, die eine Auflistung der Zeiten beschreiben, an denen öffentliche Verkehrsfahrzeuge an Stationen ankommen und/oder davon abfahren, die mit den Fahrten verbunden sind. Vor der Anfragezeit verarbeitet das Transitreiseplanungssystem die Transitinformationen, um optimale Wechselmuster zu bestimmen, die Routen zwischen beliebigen zwei Transitstationen beschreiben. Die Wechselmuster beschreiben, wo Transitfahrzeugwechsel auf jeder Reise durchgeführt werden. Daher bestimmt das Transitreiseplanungssystem die bestmögliche Route für jedes gegebene Paar von Stationen vor der Anfragezeit.The transit travel planning system receives transit information from transit points that use public transport, such as public transit. B. bus or train lines provide. The transit information describes trips between different locations using one or more forms of public transport. The transit information may describe public transport schedule information describing a listing of the times public transport vehicles arrive at and / or depart from stations associated with the trips. This will be processed before the request time Transit trip planning system, the transit information to determine optimal change patterns that describe routes between any two transit stations. The change patterns describe where transit vehicle changes are made on each trip. Therefore, the transit trip planning system determines the best possible route for any given pair of stations prior to the request time.
Zum Bestimmen der optimalen Wechselmuster erzeugt das Transitreiseplanungssystem einen Transitgraphen und seine verbundenen Transittabellen, die Informationen des Transitgraphen in Tabellenform darstellen. Der Transitgraph ist eine Darstellung möglicher Fahrten, die durch die Transitinformationen von den Transitstellen für ein Fenster von Tagen, wie z. B. eine Woche oder ein Monat, spezifiziert werden. Im Allgemeinen umfasst der Transitgraph für jede bekannte Fahrt eine Reihe von Knoten, die durch gerichtete Bögen verbunden ist, wobei jeder Knoten ein Ereignis an einer Station darstellt, wie z. B. ein öffentliches Verkehrsfahrzeug, das zu einer bestimmten Zeit an einer Station ankommt oder davon abfährt. Ein Paar von Knoten ist über einen gerichteten Bogen verbunden, der ein öffentliches Verkehrsfahrzeug darstellt, das von einer ersten Station (Quellenknoten) zu einer zweiten Station (Zielknoten) im Paar fährt.To determine the optimal change patterns, the transit journey planning system generates a transit graph and its associated transit tables that represent information of the transit graph in tabular form. The transit graph is a representation of possible journeys made by the transit information from the transit points for a window of days, such as days. A week or a month. In general, for each known trip, the transit graph includes a series of nodes connected by directional arcs, each node representing an event at a station, such as a node. As a public transport vehicle that arrives at a certain time at a station or departing from it. A pair of nodes are connected via a directed arc representing a public transport vehicle traveling from a first station (source node) to a second station (destination node) in the pair.
Zum Darstellen einer Fahrt im Transitgraphen ruft das Transitreiseplanungssystem Transitinformationen für die Fahrt ab, die an einer ersten Station beginnt und an einer zweiten Station auf der Fahrt endet. Die Transitinformationen umfassen aktuelle Zeit- und Standortinformationen (z. B. Fahrplan) für öffentliche Verkehrsfahrzeuge an Transitstationen. Das Transitreiseplanungssystem konstruiert den Transitgraphen basierend auf den Transitinformationen, die mit der Fahrt verbunden sind. Für jede Ankunft und/oder Abfahrt eines Transitfahrzeugs an einer Station fügt das Transitreiseplanungssystem einen Knoten in den Transitgraphen ein, der das Ereignis an der Station zu einem bestimmten Zeitpunkt repräsentiert.To illustrate a trip in the transit graph, the transit trip planning system retrieves transit information for the journey, which starts at a first station and ends at a second station on the trip. The transit information includes current time and location information (eg, timetable) for public transit vehicles at transit stations. The transit trip planning system constructs the transit graph based on the transit information associated with the trip. For each arrival and / or departure of a transit vehicle at a station, the transit journey planning system inserts a node in the transit graph representing the event at the station at a particular time.
Das Transitreiseplanungssystem verbindet Knoten unter Verwendung gerichteter Bögen, die die Route der Fahrt beschreiben. Jeder Bogen wird dann mit einem Kostenpunkt verbunden, um den Zielknoten vom Quellenknoten zu erreichen. Das Transitreiseplanungssystem verwendet die Transitinformationen, die mit der Fahrt verbunden sind, um die Kosten für jeden Bogen zu bestimmen. Das Transitreiseplanungssystem wiederholt den oben beschriebenen Prozess für jede Fahrt, bei der Transitinformationen empfangen wurden, bis der Transitgraph für jeden Tag innerhalb des Fensters von Tagen konstruiert ist, die durch den Transitgraphen dargestellt sind.The transit trip planning system connects nodes using directional arcs that describe the route of the trip. Each arc is then linked to a cost point to reach the destination node from the source node. The transit trip planning system uses the transit information associated with the trip to determine the cost of each ticket. The transit trip planning system repeats the process described above for each trip in which transit information has been received until the transit graph for each day is constructed within the window of days represented by the transit graph.
Nach der Konstruktion des Transitgraphen erzeugt das Transitreiseplanungssystem eine Reihe von Transittabellen basierend auf dem Transitgraphen. Die Transittabellen beinhalten Informationen, die jeden Knoten und Bogen im Transitgraphen beschreiben, Tage innerhalb eines Fensters von Tagen, wenn jede Fahrt im Transitgraphen gültig ist, und den geografischen Standort von Stationen. Die Transittabellen sind im wesentlichen eine tabellarische Darstellung des Transitgraphen. In einer Ausführungsform werden die Transittabellen von den Transitinformationen erzeugt, anstatt dass der Transitgraph erzeugt wird.After the construction of the transit graph, the transit travel planning system generates a series of transit tables based on the transit graph. The transit tables include information describing each node and arc in the transit graph, days within a window of days, when each trip in the transit graph is valid, and the geographical location of stations. The transit tables are essentially a tabular representation of the transit graph. In one embodiment, the transit tables are generated by the transit information, rather than the transit graph being generated.
Unter Verwendung des Transitgraphen und der Transittabellen bestimmt das Transitreiseplanungssystem alle Fahrten mit Direktverbindung. Eine Direktverbindungsfahrt ist eine Fahrt von einer Quellenstation zu einer Zielstation ohne Wechsel. Obwohl einer oder mehrere Halte während der Fahrt durchgeführt werden können, sind die Quellenstation und Zielstation immer noch direkt verbunden, da keine Wechsel erfolgen müssen, um die Zielstation zu erreichen. Weiterhin bestimmt das Transitreiseplanungssystem, welche Stationen im Transitgraphen als eine globale Station angesehen werden können. Globale Stationen sind Stationen, an denen ein Transitfahrzeugwechsel oftmals während Fahrten erfolgt, die sich über große Entfernungen erstrecken. Die Informationen über die Direktverbindung und Informationen über die Globalstation werden dann gespeichert. Beispielsweise können die Informationen über die Direktverbindung und Informationen über die Globalstation in Tabellenform gespeichert werden.Using the transit graph and transit tables, the transit trip planning system determines all journeys with direct connection. A direct connection ride is a drive from a source station to a destination station without change. Although one or more stops may be made while driving, the source station and destination station are still directly connected because there is no need to change to reach the destination station. Furthermore, the transit travel planning system determines which stations in the transit graph can be considered a global station. Global stations are stations where a transit vehicle change often occurs during long distance journeys. Information about the direct connection and information about the global station are then stored. For example, the information about the direct connection and information about the global station can be stored in tabular form.
Unter Verwendung des Transitgraphen und der Tabellen für Direktverbindungen bestimmt das Reiseplanungssystem optimale Wechselmuster, die Routen zum Erreichen von jeder Zielstation (d. h. Zielort) im Transitgraphen von jeder gegebenen Quellenstation mit minimalen Kosten beschreiben. In einer Ausführungsform ist ein Wechselmuster eine Folge von Wechseln entlang einer öffentlichen Verkehrsroute an unterschiedlichen öffentlichen Verkehrsstationen (hierin als „Stationen” bezeichnet), an denen ein Benutzer ein öffentliches Verkehrsmittel verlässt (d. h. „aussteigt”) und ein anderes öffentliches Verkehrsmittel besteigt (d. h. in dasselbe wechselt); wobei vorzugsweise ein Wechselmuster in Bezug auf eine Kostenfunktion optimiert wird, die die Reisezeitdauer zwischen Stationen, Wartezeit und andere Kostenfaktoren berücksichtigt. Im Allgemeinen beinhaltet das Wechselmuster einer Reise die Start- und Zielstationen zusammen mit Stationen, an denen Transitfahrzeugwechsel erfolgen. Nehmen wir beispielsweise eine Quellenstation A und eine Zielstation F an, an denen Wechsel an Stationen D und E eintreten. In diesem Beispiel ist das Wechselmuster ADEF. In einer Ausführungsform beschreibt ein Wechselmuster die Folge von Stationen ohne Bezug zu besonderen Zeiten, für die Stationswechsel, und ist somit ein Muster, das in Bezug auf mehrere unterschiedliche Startzeiten instanziiert werden kann, anstatt nur auf eine vorberechnete Fahrt zu einer bestimmten Tageszeit.Using the transit graph and direct link tables, the travel planning system determines optimal swap patterns that describe routes to reach each destination (ie, destination) in the transit graph from any given source station with minimal cost. In one embodiment, an alternate pattern is a sequence of changes along a public transport route at different public transport stations (referred to herein as "stations") at which a user exits (ie, "exits") public transport and climbs another public transport (ie the same changes); preferably, an alternating pattern is optimized with respect to a cost function that takes into account travel time between stations, latency, and other cost factors. In general, the change pattern of a trip includes the start and finish stations along with stations where transit vehicle changes occur. For example, assume a source station A and a destination station F where changes occur at stations D and E. In this example, the change pattern is ADEF. In a In one embodiment, an alternate pattern describes the sequence of stations unrelated to particular times, station interchanges, and thus is a pattern that can be instantiated with respect to several different start times, rather than just one pre-calculated ride at a particular time of day.
Im Allgemeinen verwendet das Transitreiseplanungssystem unterschiedliche Methodologien zum Bestimmen optimaler Wechselmuster. Die Methodologien können das Konzept von globalen Stationen verwenden oder nicht, oder können einen heuristischen Ansatz zum Bestimmen der Wechselmuster verwenden. Ungeachtet der verwendeten Methodologie verwendet das Transitreiseplanungssystem einen Graphsuchalgorithmus, wie z. B. Dijkstra-Algorithmus, um den besten Weg hinsichtlich Kosten zu bestimmen, um eine Zielstation von einer gegebenen Quellenstation zu erreichen. Daher hat das Transitreiseplanungssystem eines oder mehrere Wechselmuster für jede paarweise Kombination von Quellenstation und Zielstation im Transitgraphen oder keine Wechselmuster zum Ergebnis, wenn keine Route austritt.In general, the transit journey planning system uses different methodologies for determining optimal change patterns. The methodologies may or may not use the concept of global stations, or may use a heuristic approach to determining the alternating patterns. Regardless of the methodology used, the transit travel planning system uses a graph search algorithm, such as a search engine. Dijkstra's algorithm to determine the best path in terms of cost to reach a destination station from a given source station. Therefore, the transit trip planning system will result in one or more swap patterns for each pair source station / destination station combination in the transit graph or no swap patterns if no route exits.
Die Wechselmuster werden zur späteren Verwendung bei der Anfrageverarbeitungszeit gespeichert. In einer Ausführungsform wird jedes Wechselmuster einzeln und in vollständiger Form gespeichert. Alternativ komprimiert das Transitreiseplanungssystem die Wechselmuster, anstatt jedes Wechselmuster vollständig zu speichern. Die Informationen, die in einem Wechselmuster enthalten sind, werden im Wesentlichen in kleinere Teile aufgeteilt, die aufgrund der Redundanz der im Wechselmuster beinhalteten Informationen komprimiert werden können. Sobald die Wechselmuster komprimiert sind, speichert das Transitreiseplanungssystem die komprimierten Wechselmuster.The swap patterns are stored for later use at the request processing time. In one embodiment, each alternating pattern is stored individually and in its entirety. Alternatively, the transit trip planning system compresses the swap patterns rather than completely storing each swap pattern. The information contained in a swapping pattern is essentially divided into smaller parts that can be compressed due to the redundancy of the information contained in the swatch pattern. Once the swap patterns are compressed, the transit travel planning system stores the compressed swap patterns.
Bei Anfrageverarbeitungszeit werden die gespeicherten Wechselmuster zum Erzeugen von Transitrouten als Reaktion auf Benutzeranfragen nach Anweisungen von einem Quellenstandort zu einem Zielstandort verwendet. Im Allgemeinen stellt ein Benutzer eine Anfrage nach Anweisungen für eine Reise bereit, d. h. von einem Quellenstandort, beim es sich um den aktuellen Standort des Benutzers handeln kann, oder einem Standort von Interesse für einen Zielort. Der Quellenstandort und Zielort können jeweils mit einer Quellenstation und einer Zielstation verbunden sein, anstatt mit dem aktuellen Standort des Benutzers und dem Standort von Interesse. Die Anfrage kann auch ein Datum und/oder eine Zeit verbunden mit einem Abfahrts- oder Ankunftsereignis beinhalten. Das Transitreiseplanungssystem bestimmt dann die Transitstationen, die sich in der Nähe des Quellenstandorts und des Zielorts befinden. Daher können die Transitstationen in der Nähe der Quelle und des Ziels gepaart werden, um unterschiedliche Quellenstandort- und Zielortpaare auszubilden. Die Wechselmuster werden für jedes Paar von Stationen von den gespeicherten Wechselmusterinformationen bestimmt, die zuvor vorberechnet wurden. Im Allgemeinen ruft das Transitplanungssystem die gespeicherten Wechselmuster ab, die mit den Paaren von Stationen verbunden sind.At query processing time, the stored swap patterns are used to generate transit routes in response to user requests for instructions from a source location to a destination location. In general, a user provides a request for instructions for travel, i. H. from a source location, which may be the user's current location, or a location of interest to a destination. The source location and destination may each be connected to a source station and a destination station, rather than to the current location of the user and the location of interest. The request may also include a date and / or time associated with a departure or arrival event. The transit trip planning system then determines the transit stations that are near the source location and the destination. Therefore, the transit stations near the source and the destination can be paired to form different source site and destination pairs. The swapping patterns for each pair of stations are determined by the stored swatch information previously precomputed. In general, the transit planning system retrieves the stored exchange patterns associated with the pairs of stations.
Mit den Wechselmustern erzeugt das Transitplanungssystem einen Anfragegraphen. Der Anfragegraph wird zum Bestimmen der optimalen Route vom Quellenstandort zum Zielort verwendet. Der Anfragegraph beinhaltet nur Transitinformationen, die mit der Anfrage verbunden sind. Jede Station in einem Wechselmuster wird als ein Knoten im Anfragegraphen dargestellt, und Paare von Knoten werden durch gerichtete Bögen ähnlich dem Transitgraphen verbunden. Sobald der Anfragegraph erzeugt ist, bestimmt das Transitplanungssystem Direktverbindungen zwischen Stationen im Anfragegraphen unter Verwendung der gespeicherten Transitinformationen über Direktverbindungen, was eine Vielzahl von Fahrten mit Direktverbindungen zwischen Stationspaaren in den Wechselmustern zum Ergebnis hat.With the change patterns, the transit planning system generates a request graph. The request graph is used to determine the optimal route from the source location to the destination. The request graph contains only transit information associated with the request. Each station in an alternate pattern is represented as a node in the query graph, and pairs of nodes are connected by directed arcs similar to the transit graph. Once the query graph is generated, the transit planning system determines direct connections between stations in the request graph using the stored transit information via direct connections, resulting in a large number of trips with direct connections between station pairs in the exchange patterns.
Das Bestimmen der Direktverbindung wird vom Datum und/oder der Zeit beherrscht, die in der Suchanfrage empfangen wird. Das heißt, wenn die Suche eine Abfahrtszeit an einem bestimmten Tag beinhaltete, werden nur Direktverbindungen am spezifizierten Tag, die einige Zeit nach der bereitgestellten Abfahrtszeit abfahren, abgerufen. Auf ähnliche Weise werden nur Direktverbindungen bestimmt, die vor der Ankunftszeit ankommen, wenn eine Ankunftszeit spezifiziert wird. Sobald die Fahrten mit Direktverbindung bestimmt sind, bestimmt das Transitreiseplanungssystem die optimalen Fahrten, indem es eine Berechnung basierend auf den Kosten der Fahrten mit Direktverbindung durchführt. Die Berechnung hat eine Mehrzahl von Fahrten zum Ergebnis, die optimal auf unterschiedlichen Faktoren, wie z. B. Zeit oder Transitfahrzeugdiversität, basieren. Die optimalen Fahrten werden dann dem Benutzer bereitgestellt, um die Suchanfrage zu erfüllen.Determining the direct connection is governed by the date and / or time received in the search request. That is, if the search included a departure time on a particular day, only direct services on the specified day that depart some time after the departure time provided are retrieved. Similarly, only direct connections that arrive before the arrival time are determined when an arrival time is specified. Once the direct-travel journeys are determined, the transit journey planning system determines the optimal journeys by performing a calculation based on the cost of direct-travel travel. The calculation results in a plurality of trips that are optimally based on different factors, such as: Time or transit vehicle diversity. The optimal trips are then provided to the user to fulfill the search query.
Daher wird zur Anfragezeit sehr wenig Berechnung benötigt, um die Anfrage zu erfüllen, da die Transitinformationen bereits durch das Transitreiseplanungssystem verarbeitet wurden. Beispielsweise kann eine Anfrage, die die Fahrt mit der besten Direktverbindung von San José, Ca, nach San Francisco, CA, anfragt, als eine relativ schnelle und kostengünstige Suche nach den vorverarbeiteten Transitinformationen verarbeitet werden, um eine gespeicherte Direktverbindung von San José nach San Francisco abzurufen. Als ein weiteres Beispiel kann die Anfrage über zwei Direktverbindungsanfragen über die vorverarbeiteten Transitinformationen erfüllt werden, wenn eine Anfrage eine Fahrt von Mugello, Italien nach Assen, Niederlande mit einem Wechsel in Donnington Park, Großbritannien, anfragt, da ein optimales Wechselmuster bereits vor der Anfragezeit berechnet und gespeichert wurde. Das Transitreiseplanungssystem führt zwei Suchen durch, um die Direktverbindung von Mugello in die Niederlande und von den Niederlanden nach Donnington Park abzurufen. Daher stellt das Transitreiseplanungssystem der vorliegenden Erfindung die kürzeste Anfragezeit bereit, wenn Benutzeranfragen von öffentlichen Transitanweisungen erfüllt werden.Therefore, very little computation is needed at inquiry time to fulfill the request, since the transit information has already been processed by the transit journey planning system. For example, a request requesting the best direct connection from San Jose, Ca, to San Francisco, CA can be processed as a relatively quick and inexpensive search for the preprocessed transit information to a stored direct link from San Jose to San Francisco retrieve. As another example, the request may have two direct connection requests over the preprocessed ones Transit information is met when a request requests a trip from Mugello, Italy to Assen, the Netherlands, with a change to Donnington Park, UK, as an optimal replacement sample has already been calculated and stored prior to the request time. The transit travel planning system makes two searches to retrieve the direct connection from Mugello to the Netherlands and from the Netherlands to Donnington Park. Therefore, the transit journey planning system of the present invention provides the shortest request time when satisfying user requests from public transit instructions.
Unter nun erfolgender Bezugnahme auf 1 ist ein hochrangiges Blockdiagramm einer Computerumgebung gemäß einer Ausführungsform der vorliegenden Erfindung dargestellt. Ein Transitserver 100 (d. h. ein Transitreiseplanungssystem) stellt Benutzern öffentliche Transitanweisungen bereit (d. h. Verkehrsmittel), die auf eine Anfrage nach einer öffentlichen Transitreise an einem gegebenen Datum und einer Zeit reagieren, und zwar unter Verwendung eines umfassenden Vorverarbeitungsansatzes von gespeicherten optimalen Wechselmustern, um spezifische optimale öffentliche Verkehrsfahrten bereitzustellen. Obwohl 1 eine Ausführungsform darstellt, versteht sich, dass alle Ausführungen der Erfindung die Verwendung eines Computersystems erfordern, um die Vorgänge auszuführen und die unterschiedlichen Arten von hierin beschriebenen Daten zu speichern. Dementsprechend sollte bei der nachfolgenden Abhandlung dann davon ausgegangen werden, dass alle Schritte, Daten und dergleichen durch eine Kombination eines Computersystems und einer Programmierlogik implementiert werden, und in keinster Weise durch mentale Schritte oder körperlose abstrakte Ideen eintreten.Now referring to 1 Fig. 12 is a high level block diagram of a computing environment according to one embodiment of the present invention. A transit server 100 (ie, a transit trip planning system) provides users with public transit instructions (ie, means of transport) that respond to a request for a public transit trip at a given date and time using a comprehensive preprocessing approach of stored optimal switch patterns to provide specific optimal public transit trips , Even though 1 In one embodiment, it should be understood that all embodiments of the invention require the use of a computer system to perform the operations and store the various types of data described herein. Accordingly, in the ensuing discussion, it should be understood that all steps, data and the like are implemented through a combination of computer system and programming logic, and in no way through mental steps or disembodied abstract ideas.
In einer Ausführungsform umfasst eine öffentliche Transitreise eine zeitspezifische Route oder einen Weg von einem Quellenstandort (d. h. Start) zu einem Zielstandort (d. h. Zielort) unter ausschließlicher Verwendung von öffentlichen Verkehrsmitteln. Unterschiedliche Formen von öffentlichen Verkehrsmitteln können Busse, Stadtbahnen, U-Bahnen, Trolleybusse, Pendlerzüge, Fähren oder Flugzeuge beinhalten. Fachleute auf dem Gebiet werden erkennen, dass es andere Formen von öffentlichen Verkehrsmitteln außer den hierin aufgeführten gibt, und dass sie als Beförderungsmittel verwendet werden können, um zwischen Standorten auf einer öffentlichen Verkehrsfahrt zu reisen. Zwecks einfacherer Abhandlung wird eine öffentliche Verkehrsfahrt von hier an als „Fahrt” bezeichnet.In one embodiment, a public transit trip includes a time-specific route or path from a source location (i.e., start) to a destination location (i.e., destination) using only public transport. Different forms of public transport may include buses, light rail vehicles, subways, trolleybuses, commuter trains, ferries or airplanes. Those skilled in the art will recognize that there are other forms of public transport besides those listed herein, and that they may be used as means of transport to travel between locations on a public transit. For the purpose of a simpler essay, a public transport is referred to from here on as "ride".
Durch Verwendung der vorverarbeiteten optimalen Wechselmusterinformationen führt der Transitserver 100 einen minimalen Betrag an Berechnung bei jeder Anfragezeit aus, um eine Anfrage für eine Fahrt zu erfüllen. Dadurch wird die schnellste Reaktionszeit auf die Anfrage eines Benutzers ermöglicht. Als Reaktion auf eine Anfrage eines Benutzers nach Transitanweisungen von einem Startstandort zu einem Zielstandort zu einer bestimmten Zeit stellt der Transitserver 100 Benutzern eine oder mehrere optimale öffentliche Transitrouten für eine gewünschte Reise bereit.By using the preprocessed optimal swap pattern information, the transit server performs 100 a minimum amount of calculation at each request time to fulfill a request for a trip. This provides the fastest response time to a user's request. In response to a user request for transit instructions from a start site to a destination site at a particular time, the transit server 100 Provide users with one or more optimal public transit routes for a desired trip.
In einer Ausführungsform ist eine optimale öffentliche Transitroute eine Route von einer Station in der Nähe des Startstandorts zu einer Station in der Nähe des Zielstandorts, der in Bezug auf Kosten optimal ist. Die Kosten einer Fahrt können auf der Zeit zum Erreichen der Station in der Nähe des Zielstandorts und/oder der Anzahl von Wechseln basieren, die zum Erreichen der Station in der Nähe des Zielstandorts gemäß einer Ausführungsform benötigt werden.In one embodiment, an optimal public transit route is a route from a station near the launch site to a station near the destination site which is optimal in terms of cost. The cost of a trip may be based on the time to reach the station near the destination location and / or the number of changes needed to reach the station near the destination location, according to one embodiment.
Wie in 1 dargestellt, umfasst der Transitserver 100 unterschiedliche Module. Wie auf dem Gebiet bekannt, bezieht sich der Begriff „Modul” auf die Computerlogik, die zum Bereitstellen der spezifizierten Funktionalität verwendet wird. Somit kann ein Modul in Hardware, Firmware und/oder Software implementiert werden, die einen Mehrzweckprozessor steuert. In einer Ausführungsform sind die Module Programmcodedateien, die auf einer Speichervorrichtung gespeichert sind, in einen Speicher geladen und durch einen Prozessor ausgeführt werden, oder von Computerprogrammprodukten bereitgestellt werden können (z. B. computerausführbare Anweisungen), die in einem greifbaren computerlesbaren Speichermedium (z. B. RAM, Festplatte oder optische/magnetische Medien), gespeichert sind. Zusätzlich werden Fachleute auf dem Gebiet erkennen, dass weitere Ausführungsformen des Transitservers 100, der in 1 dargestellt ist, unterschiedliche und/oder andere Module als die hier beschriebenen aufweisen können, und dass die Funktionalitäten unter den Modulen auf andere Art aufgeteilt werden können.As in 1 illustrated, includes the transit server 100 different modules. As is known in the art, the term "module" refers to the computer logic used to provide the specified functionality. Thus, a module may be implemented in hardware, firmware, and / or software that controls a general purpose processor. In one embodiment, the modules are program code files stored on a storage device, loaded into memory and executed by a processor, or provided by computer program products (eg, computer-executable instructions) stored in a tangible computer-readable storage medium (e.g. RAM, hard disk or optical / magnetic media) are stored. In addition, those skilled in the art will recognize that other embodiments of the transit server 100 who in 1 shown, may have different and / or different modules than those described here, and that the functionalities can be divided among the modules in a different way.
In einer Ausführungsform steht der Transitserver 100 in Kommunikation mit einem Client 131 über ein Netzwerk 137, wobei es sich typischerweise um das Internet handelt, das jedoch auch jedes Netzwerk sein kann, einschließlich, aber nicht beschränkt auf jede Kombination eines LAN, eines MAN, eines WAN, eines mobilen, verdrahteten oder drahtlosen Netzwerks, eines privaten Netzwerks oder eines virtuellen privaten Netzwerks. Obwohl nur ein einzelner Client 131 dargestellt ist, versteht sich, dass sehr große Anzahlen (z. B. Millionen) von Clients unterstützt werden und jederzeit mit dem Transitserver 100 in Kommunikation stehen können. Der Client 131 führt einen Browser 133, wie z. B. MOZILLA oder INTERNET EXPLORER aus, um dem Transitserver 100 eine Anfrage für Anweisungen für eine Fahrt bereitzustellen. Der Client 131 kann eine Vielfalt von unterschiedlichen Computergeräten beinhalten. Beispiele von Client-Geräten 131 sind PCs, digitale Assistenten, PDAs, Handys, Mobiltelefone, Smartphones oder Laptop-Computer. Wie gewöhnlichen Fachleuten auf dem Gebiet offensichtlich sein wird, ist die vorliegende Erfindung nicht auf die oben aufgeführten Vorrichtungen beschränkt.In one embodiment, the transit server is 100 in communication with a client 131 over a network 137 which is typically the Internet, but may also be any network, including, but not limited to, any combination of LAN, MAN, WAN, mobile, wired or wireless network, private network or virtual private network. Although only a single client 131 It is understood that very large numbers (e.g., millions) are supported by clients and at any time with the transit server 100 in communication can stand. The client 131 leads a browser 133 , such as For example, MOZILLA or INTERNET EXPLORER off to the transit server 100 to provide a request for instructions for a trip. The client 131 may include a variety of different computing devices. Examples of client devices 131 are personal computers, digital assistants, PDAs, mobile phones, mobile phones, smartphones or laptop computers. As will be apparent to one of ordinary skill in the art, the present invention is not limited to the devices listed above.
In einer Ausführungsform umfasst ein Transitserver 100 eine Front-End-Schnittstelle 101, eine Transitinformationsschnittstelle 129, ein Vorberechnungsmodul 103, ein Anfrageauflösungsmodul 115, eine Routeninformationsdatenbank 125 und eine Transitinformationsdatenbank 127. Die Front-End-Schnittstelle 101 empfängt Transitanfragen vom Client 131. In einer Ausführungsform sendet der Client 131 eine Anfrage nach einer Reise an den Transitserver 101. Die Anfrage wird von der Front-End-Schnittstelle 101 empfangen und wird dem Anfrageauflösungsmodul 115 übermittelt, um die Anfrage zu erfüllen.In one embodiment, a transit server comprises 100 a front-end interface 101 , a transit information interface 129 , a precalculation module 103 , a request resolution module 115 , a route information database 125 and a transit information database 127 , The front-end interface 101 receives transit requests from the client 131 , In one embodiment, the client sends 131 a request for a trip to the transit server 101 , The request is from the front-end interface 101 received and will the request resolution module 115 submitted to fulfill the request.
Die Transitinformationsschnittstelle 129 empfängt Informationen in Bezug auf Transitzeitpläne von öffentlichen Verkehrssysteme von einer Mehrzahl von öffentlichen Verkehrsstellen, wie z. B. eine Fluggesellschaft, eine Buslinie oder jede andere öffentliche Verkehrsstelle, die öffentliche Transportfahrten bereitstellt. In einer Ausführungsform stellt jede Transitstelle, die in Kommunikation mit dem Transitserver 100 steht, Transitinformationen gemäß einem spezifizierten Format bereit, wie z. B. Google Transit Feed Specification (GTFS), beschrieben unter http://code.google.com/transit/spec/transit_feed_specification.html . Das Empfangen von Transitinformationen im GTFS-Format ermöglicht dem Transitserver 100, Informationen von unterschiedlichen Transitstellen in einem einheitlichen Datenformat zu empfangen. In einer Ausführungsform beinhalten Transitinformationen öffentliche Verkehrsmittelpläne für die Fahrt, die Kalenderdaten beschreiben, wenn ein Transitfahrzeug(e) die Fahrt durchführen und Stationsinformationen (z. B. die Adresse), die Stationen beschreiben, an denen während der Fahrt Halte erfolgen. Weitere Attribute einer Fahrt können in den Transitinformationen beinhaltet sein, wie z. B. die monetären Kosten, um die Fahrt durchzuführen und die Zeit, wenn Halte an unterschiedlichen Transitstationen durchzuführen sind. Sobald die Transitinformationen für Fahrten empfangen werden, speichert die Transitinformationsschnittstelle 129 die Informationen in der Transitinformationsdatenbank 127. In der Praxis speichert die Transitinformationsdatenbank 127 Transitinformationen von einer Vielzahl von unterschiedlichen Transitstellen. In einem typischen Ballungsraum speichert die Transitinformationsdatenbank 127 beispielsweise Busfahrplaninformationen von einem öffentlichen Bussystem, Bahnfahrplaninformationen für lokale Pendlerzüge, Stadtbahnen; und Fernzüge, U-Bahnfahrpläne für ein U-Bahnsystem usw.The transit information interface 129 receives information regarding transit schedules of public transport systems from a plurality of public transit points, such as public transit systems. As an airline, a bus or any other public transport agency that provides public transportation. In one embodiment, each transit point communicates with the transit server 100 is ready, transit information according to a specified format ready, such. For example, Google Transit Feed Specification (GTFS) http://code.google.com/transit/spec/transit_feed_specification.html , Receiving transit information in GTFS format enables the transit server 100 To receive information from different transit points in a consistent data format. In one embodiment, transit information includes public transit travel schedules that describe calendar data when a transit vehicle (s) are performing the trip and station information (eg, the address) describing stations at which stops are occurring during travel. Other attributes of a trip may be included in the transit information, such as: For example, the monetary cost to perform the ride and the time to hold at different transit stations. Once the transit information for journeys is received, the transit information interface stores 129 the information in the transit information database 127 , In practice, the transit information database stores 127 Transit information from a variety of different transit points. In a typical agglomeration, the transit information database stores 127 for example, bus schedule information from a public bus system, train timetable information for local commuter trains, light rail vehicles; and long-distance trains, metro timetables for a subway system, etc.
In einer Ausführungsform führt das Vorberechnungsmodul 103 ein Vorberechnungsverfahren bei den Transitinformationen vor der Anfragezeit aus. Das Vorberechnungsmodul 103 verwendet die in der Transitinformationsdatenbank 127 gespeicherten Transitinformationen zum Bestimmen eines Satzes von Wechselmustern aller optimalen Routen zwischen zwei Stationen, die innerhalb der Transitinformationsdatenbank 127 angegeben sind. Unter Verwendung der Transitinformationen bestimmt das Vorberechnungsmodul 103, welche Stationen direkt von einer anderen Station erreichbar sind, ohne dass einer oder mehrere Wechsel vorgenommen werden müssen. Diese Stationen sollen direkt verbunden sein. Das Vorberechnungsmodul 103 speichert den Satz von Wechselmustern und Direktverbindungsinformationen in der Routeninformationsdatenbank 125.In one embodiment, the pre-calculation module performs 103 a pre-calculation method in the transit information before the request time. The pre-calculation module 103 uses the in the transit information database 127 stored transit information for determining a set of swap patterns of all optimal routes between two stations operating within the transit information database 127 are indicated. Using the transit information, the pre-calculation module determines 103 which stations can be reached directly from another station, without having to make one or more changes. These stations should be connected directly. The pre-calculation module 103 stores the set of swap patterns and direct link information in the route information database 125 ,
Das Anfrageauflösungsmodul 115 bestimmt optimale Fahrtrouten, um Benutzeranfragen nach Anweisungen von einem Startstandort zu einem Zielstandort in einer bestimmten Zeit zu erfüllen. Das Anfrageauflösungsmodul 115 verwendet das vorverarbeitete optimale Wechselmuster und Direktverbindungen, die durch das Vorberechnungsmodul 103 bereitgestellt werden, um die optimalen Fahrten zu bestimmen. Im Allgemeinen führt das Anfrageauflösungsmodul 115 bei der Anfragezeit einen reduzierten Satz von Berechnungen aus, um eine Anfrage durch Abrufen einer Anzahl von Wechselmustern von der Routeninformationsdatenbank 125 zu erfüllen, die mit dem Startstandort und Zielstandort verbunden sind, die mit der Anfrage in Zusammenhang stehen, und Bewerten von jeder Fahrt, die von den Wechselmustern instanziiert werden kann, um optimale Fahrten zu bestimmen. Da die Anzahl von Wechselmustern, die für eine bestimmte Anfrage relevant ist, klein ist, da nur die Wechselmuster, die mit den Start- und Zielstandorten verbunden sind, bewertet werden müssen, unabhängig von der Gesamtanzahl der Wechselmuster sind, ist die Extremfallanfragezeit typischerweise sehr schnell.The request resolution module 115 determines optimal routes to meet user requests for instructions from a launch location to a destination location in a given time. The request resolution module 115 uses the preprocessed optimal swap pattern and direct links through the pre-computation module 103 provided to determine the optimal rides. In general, the request resolution module performs 115 at the request time, a reduced set of computations to make a request by retrieving a number of swap patterns from the route information database 125 and assessing each trip that can be instantiated by the swap patterns to determine optimal rides. Since the number of swap patterns relevant to a particular request is small, since only the swap patterns associated with the start and end locations need to be evaluated regardless of the total number of swap patterns, the extreme case request time is typically very fast ,
II. VorberechnungsverarbeitungII. Pre-calculation processing
Wie in 1 dargestellt, umfasst das Vorberechnungsmodul 103 ein Transitgraphmodul 105, ein Globalstationsauswahlmodul 107, ein Wechselmusterberechnungsmodul 109, ein Wechselmusterkompressionsmodul 111 und ein Direktverbindungsmodul 113. Fachleute auf dem Gebiet können erkennen, dass das Vorberechnungsmodul 103 andere Module in unterschiedlichen Ausführungsformen der vorliegenden Erfindung beinhalten kann. Unter nun folgender Bezugnahme auf 2 umfasst in einer Ausführungsform der Vorberechnungsprozess des Vorberechnungsmoduls 103 die folgenden Funktionsstufen:
- 200: Transitgraph und Transittabellen erzeugen.
- 201: Globale Stationen auswählen.
- 203: Direktverbindungsfahrten bestimmen.
- 205: Berechnen von Wechselmustern.
- 207: Kompression von Wechselmustern.
As in 1 illustrated includes the pre-calculation module 103 a transit graph module 105 , a global station selection module 107 , a change pattern calculation module 109 , one Alternating pattern compression modulus 111 and a direct connection module 113 , Professionals in the field can recognize that the pre-calculation module 103 may include other modules in different embodiments of the present invention. Now referring to 2 In one embodiment, the pre-calculation process of the pre-calculation module 103 the following functional levels: - 200 : Generate Transit Graph and Transit Tables.
- 201 : Select Global Stations.
- 203 : Determine direct connections.
- 205 : Calculating Alternate Patterns.
- 207 : Compression of alternating patterns.
Jede Funktionsstufe des Vorberechnungsprozesses wird nachfolgend weiter beschrieben.Each functional level of the pre-calculation process will be further described below.
1. Erzeugen von Transitgraph und Transittabellen1. Generate transit graph and transit tables
In der ersten Stufe des Vorberechnungsprozesses erzeugt 200 das Transitgraphmodul 105 einen Transitgraphen und seine verbundenen Transittabellen. Ein Transitgraph ist eine Darstellung aller möglichen Fahrten, die in der Transitinformationsdatenbank 127 für einen gegebenen Zeitraum, wie z. B. eine Woche oder einen Monat, gespeichert sind. Im Allgemeinen beschreibt eine Fahrt Halte, die durch ein einzelnes Transitfahrzeug an unterschiedlichen Transitstationen zu spezifischen Zeiten ohne Wechsel ausgeführt wurden. Mit anderen Worten ausgedrückt ist eine Fahrt ein einzelnes Transitfahrzeug, das eine Reihe von Halten (oder keine Halte) zu einigen gegebenen Zeiten ohne Wechsel ausführt. In einer Ausführungsform beschreibt eine Reise eine oder mehrere Fahrten, die zum Reisen von einer Quellenstation zu einer Zielstation erforderlich sind. Das heißt, dass eine Reise von einer Quellenstation zu einer Zielstation eine Reihe von Fahrten sein kann, wenn ein Wechsel zu einem anderen Transitfahrzeug erforderlich ist, um die Zielstation zu erreichen. Daher kann eine Reise die Verwendung von einem oder mehreren Transitfahrzeugen beinhalten, um die Zielstation zu erreichen. Durch Erzeugen des Transitgraphen erzeugt das Transitgraphmodul 105 eine Darstellung eines umfassenden Netzwerks von Fahrten, die durch unterschiedliche Transitstellen für den gegebenen Zeitraum bereitgestellt werden. Die Struktur des Transitgraphen wird nachfolgend detaillierter beschrieben.Generated in the first stage of the precalculation process 200 the transit graph module 105 a transit graph and its associated transit tables. A transit graph is a representation of all possible journeys made in the transit information database 127 for a given period of time, such as A week or a month. In general, a trip describes stops made by a single transit vehicle at different transit stations at specific times without change. In other words, a ride is a single transit vehicle that makes a series of stops (or no stops) at some given times without change. In one embodiment, a trip describes one or more trips required to travel from a source station to a destination station. That is, travel from a source station to a destination station may be a series of trips when a change to another transit vehicle is required to reach the destination station. Therefore, a trip may involve the use of one or more transit vehicles to reach the destination station. By generating the transit graph, the transit graph module generates 105 a representation of a comprehensive network of journeys provided by different transit points for the given period of time. The structure of the transit graph will be described in more detail below.
Im Allgemeinen umfasst der Transitgraph für jede bekannte Fahrt eine Reihe von Knoten, die durch Bögen verbunden sind, um die Fahrt darzustellen. Jeder Knoten in einer Fahrt stellt ein Ereignis dar, das durch ein öffentliches Verkehrsfahrzeug an einer Transitstation zu einer bestimmten Zeit erzeugt wurde. Ein gerichteter Bogen verbindet einen Knoten, der eine Station (Quellenknoten) mit einem Knoten verbindet, der eine zweite Station (Zielknoten) darstellt, wobei ein öffentliches Verkehrsfahrzeug von der ersten Station zur zweiten Station fährt und an der zweiten Station hält. Beispielsweise kann eine Reise von einer Station in Mountain View, CA zu einer Station in San Francisco, CA über Cal Train einen einzelnen Halt an einer Station beinhalten, die in Palo Alto, CA, positioniert ist. Daher würde ein Transitgraph einen Knoten beinhalten, der das Ereignis an der Station Mountain View darstellt, der durch einen gerichteten Bogen mit einem Knoten verbunden ist, der das Ankunftsereignis an der Station Palo Alto darstellt, der weiterhin durch einen gerichteten Bogen mit einem Knoten verbunden ist, der die Station San Francisco darstellt.In general, the transit graph for each known trip includes a series of nodes connected by arcs to represent the ride. Each node in a trip represents an event generated by a public transit vehicle at a transit station at a particular time. A directed bow connects a node connecting a station (source node) to a node representing a second station (destination node), with a public transport vehicle going from the first station to the second station and stopping at the second station. For example, a trip from a station in Mountain View, CA to a station in San Francisco, CA via Cal Train may include a single stop at a station located in Palo Alto, CA. Thus, a transit graph would include a node representing the event at the Mountain View station connected by a directed bow to a node representing the arrival event at the Palo Alto station, which is further connected by a directed bow to a node representing the station San Francisco.
Unter nun erfolgender Bezugnahme auf 3 ist eine Ausführungsform eines Ablaufdiagramms dargestellt, das den Prozess veranschaulicht, der durch das Transitgraphmodul 105 ausgeführt wird, um einen Transitgraphen und seine Transittabellen zu erzeugen. Zur einfacheren Beschreibung wird die Erzeugung des Transitgraphen unter Bezugnahme auf eine einzelne Fahrt innerhalb des durch den Transitgraphen dargestellten Zeitraums beschrieben. In einer Ausführungsform, wie nachfolgend weiter beschrieben ist, sind spezifische Bögen im Transitgraphen mit Fahrtinformationen in Zusammenhang mit einer Fahrt verbunden, von der die Bögen erzeugt wurden. Diese Informationen beschreiben die Tage, für die die verbundene Fahrt innerhalb eines Zeitfensters gültig ist. Daher wird darauf hingewiesen, dass der durch das Transitgraphmodul 105 ausgeführte Prozess, der hierin für eine einzelne Fahrt beschrieben ist, für jede bekannte Fahrt wiederholt wird, um einen Transitgraphen zu erzeugen, der Fahrtinformationen für alle bekannten Fahrten beinhaltet. Daher kann das Transitgraphmodul 105 unter Verwendung der hierin beschriebenen Lehren auch einen Transitgraphen für eine neue Zeitdauer aktualisieren, die alle möglichen Fahrten innerhalb des Zeitraums beschreibt, wie in den öffentlichen Transitinformationen beschrieben, die in der Transitinformationsdatenbank 127 gespeichert sind.Now referring to 3 FIG. 12 is an embodiment of a flowchart illustrating the process performed by the transit graph module 105 is executed to generate a transit graph and its transit tables. For ease of description, the generation of the transit graph will be described with reference to a single trip within the time period represented by the transit graph. In one embodiment, as further described below, specific arcs in the transit graph are associated with trip information associated with a trip from which the arcs were generated. This information describes the days for which the connected journey within a time window is valid. Therefore, it should be noted that by the transit graph module 105 is repeated for each known trip to produce a transit graph that includes trip information for all known trips. Therefore, the transit graph module 105 using the teachings described herein, also update a new time transit graph describing all possible trips within the time period as described in the public transit information included in the transit information database 127 are stored.
Zuerst ruft das Transitgraphmodul 105 Informationen 300 für eine Fahrt ab, die an einer Quellenstation startet und an einer Zielstation endet. In einer Ausführungsform ruft das Transitgraphmodul 105 Fahrtinformationen in Zusammenhang mit der Fahrt von der Transitinformationsdatenbank 127 ab, und weist einen Fahrtidentifikator (ID) zu, um die Fahrt von den anderen Fahrten im Transitgraphen zu unterscheiden. Wie zuvor erwähnt, beinhalten die Fahrtinformationen für eine Fahrt die geplanten Betriebstage für die Fahrt, und Stationsinformationen, die Zeiten und Stationsstandorte beschreiben, an denen Halte im Verlauf der Fahrt durchgeführt werden. Mit anderen Worten ausgedrückt bestimmt das Transitgraphmodul 105 eine Route für die Fahrt von der Quellenstation zur Zielstation, wobei die Route Stationen beschreibt, an denen Ankunfts- und Abfahrtsereignisse entlang der Route durchgeführt werden, und ein Zeitplan der Halte.First, the transit graph module calls 105 information 300 for a ride that starts at a source station and ends at a destination station. In one embodiment, the transit graph module calls 105 Trip information relating to the journey from the transit information database 127 and assigns a trip identifier (ID) to distinguish the ride from the other trips in the transit graph. As previously mentioned, the trip information for a trip includes the planned days of operation for the trip, and Station information describing times and station locations where stops will be made while driving. In other words, the transit graph module determines 105 a route for the journey from the source station to the destination station, the route describing stations at which arrival and departure events along the route are performed, and a schedule of the stops.
Unter Verwendung der Transitinformationen konstruiert 301 (d. h. erzeugt) das Transitgraphmodul 105 einen Transitgraphen basierend auf den Transitinformationen. Das heißt, dass das Transitgraphmodul 105 von den Transitinformationen die gegebene Quellenstation und Zielstation für die Fahrt, und alle Zwischenstationen bestimmt, an denen ein Halt und/oder Wechsel zwischen den Start- und Zielstationen durchgeführt werden. Das Transitgraphmodul 105 bestimmt auch Fahrplaninformationen in Zusammenhang mit jeder Station, die beschreiben, wann das öffentliche Verkehrsfahrzeug an einer Station ankommt und davon abfährt.Constructed using transit information 301 (ie generates) the transit graph module 105 a transit graph based on the transit information. That is, the transit graph module 105 from the transit information determines the given source station and destination station for the journey, and all intermediate stations at which a stop and / or change between the start and destination stations are performed. The transit graph module 105 also determines schedule information associated with each station describing when the public transit vehicle arrives at and departing from a station.
Für jede Ankunft und/oder Abfahrt des Fahrzeugs an einer Station fügt das Transitgraphmodul 105 bis zu zwei Knoten in den Transitgraphen an ihrer jeweiligen Zeit eines Tages ein, die jeweils ein Abfahrtsereignis und ein Ankunftsereignis darstellen. Daher wird kein Knoten an dieser Station erzeugt, wenn an einer Station kein Fahrzeug ankommt/abfährt, da an dieser Station kein Abfahrts- oder Ankunftsereignis für die Fahrt stattfindet. Da Knoten im Transitgraphen von den Transitinformationen erzeugt werden, ist jeder Knoten mit einem Transitfahrzeug an einer Station zu einem spezifischen Zeitpunkt verbunden. In einer Ausführungsform kann ein Knoten im Transitgraphen entweder ein Stationsknoten oder ein Onboard-Knoten sein. Ein Stationsknoten stellt ein Fahrzeug an einer Station dar, in das ein Benutzer einsteigen kann (d. h. eintreten), um eine Fahrt durchzuführen. Im Gegensatz dazu stellt ein Onboard-Knoten ein öffentliches Verkehrsfahrzeug dar, in das ein Benutzer aktuell eingestiegen ist, das an der Station positioniert ist, die mit dem Knoten verbunden ist. Knoten im Transitgraphen sind miteinander über Bögen verbunden, die die Route einer Fahrt gemäß einer Ausführungsform beschreiben. Im Allgemeinen gibt es vier Typen von Bögen: Einstiegsbögen, die ein Transitfahrzeug beschreiben, das an einer Station bestiegen wird, Ausstiegsbögen, die ein Transitfahrzeug beschreiben, aus dem an einer Station ausgestiegen wird, mit optionalem Gehen, wenn eine Person zu einer anderen Station gehen muss, um ein Transitfahrzeug zu besteigen, um eine Reise zu beenden, Wartebögen, die eine Person beschreiben, die an einer Transitstation wartet, und Transitbögen, die das Verbleiben an Bord eines Fahrzeugs zwischen zwei Halten von einer Fahrt beschreiben.For each arrival and / or departure of the vehicle at a station, the transit graph module adds 105 up to two nodes in the transit graph at their respective time of day, each representing a departure event and an arrival event. Therefore, no node is generated at this station if no vehicle arrives / departs at a station since there is no departure or arrival event for the trip at that station. Since nodes in the transit graph are generated by the transit information, each node is connected to a transit vehicle at a station at a specific time. In one embodiment, a node in the transit graph may be either a station node or an onboard node. A station node represents a vehicle at a station into which a user can board (ie, enter) to make a trip. In contrast, an on-board node represents a public transport vehicle into which a user has currently boarded, positioned at the station connected to the node. Nodes in the transit graph are connected to each other via arcs describing the route of a trip according to an embodiment. In general, there are four types of bows: entry bows describing a transit vehicle boarded at a station, exit bills describing a transit vehicle from which a station is dropped out, with optional walking when a person walks to another station in order to board a transit vehicle to complete a voyage, waiting sheets describing a person waiting at a transit station and transit sheets describing staying aboard a vehicle between two stops of one trip.
Bögen werden nun unter Bezugnahme auf die Onboard- und Stationsknoten von Station A und Station B beschrieben. Das tiefgestellte „O” stellt einen Onboard-Knoten dar, während das tiefgestellte „S” einen Stationsknoten darstellt. Das Symbol „→” stellt einen Bogen zwischen zwei Knoten dar. Nachfolgend ist eine Beschreibung dargestellt, die die Transitereignisse beschreibt, die zwischen Stationen auftreten können.
- 1. AS → BO entspricht dem Einsteigen in ein Transitfahrzeug an Station A und Reisen zu Station B ohne Halte zwischen Station A und Station B.
- 2. AO → BS entspricht dem Aussteigen aus einem Fahrzeug an Station A und Gehen zu Station B.
- 3. AO → AS entspricht dem Aussteigen aus einem Fahrzeug an Station A und Bleiben in derselben Station.
- 4. AO → BO entspricht dem Bleiben an Bord eines Fahrzeugs an Station A und Bleiben an Bord desselben Fahrzeugs mindestens bis zur Ankunft an Station B.
- 5. AS → AS entspricht dem Warten an Station A und Nichtbesteigen des Transitfahrzeugs, das zu diesem Zeitpunkt von Station A abfährt.
Bows will now be described with reference to the onboard and station nodes of station A and station B. The subscript "O" represents an onboard node, while the subscript "S" represents a station node. The symbol "→" represents an arc between two nodes. The following is a description describing the transit events that can occur between stations. - 1. A S → B O corresponds to entering a transit vehicle at station A and traveling to station B without stopping between station A and station B.
- 2. A O → B S corresponds to getting out of a vehicle at Station A and walking to Station B.
- 3. A O → A S means getting out of a vehicle at Station A and staying in the same station.
- 4. A O B → O corresponds to remain on board of a vehicle at station A and remain on board of the same vehicle at least until the arrival at station B.
- 5. A S → A S corresponds to the waiting at station A and non-boarding of the transit vehicle leaving station A at this time.
Wie oben erwähnt, analysiert das Transitgraphmodul 105 die Transitinformationen für jede Fahrt, um die während der Fahrt stattfindenden Ereignisse zu bestimmen. Basierend auf dem Ereignis positioniert das Transitgraphmodul 105 entsprechende Knoten (entweder Stations- oder Onboard-Knoten) im Transitgraphen und verbindet die Knoten mit Bögen. Der Typ von Bogen, der ein Paar von Knoten verbindet, basiert darauf, ob verbundene Knoten Stations- oder Onboard-Knoten sind. Wenn beispielsweise die Transitinformationen beschreiben, dass ein Transitfahrzeug an Station A bestiegen wird und ohne einen Wechsel zu Station B führt, dann beinhaltet das Transitgraphmodul 105 einen Stationsknoten, der mit Station A im Transitgraphen verbunden ist, und beinhaltet einen Onboard-Knoten, der mit Station B im Transitgraphen verbunden ist. Daher ist der Bogen, der die Knotenpunkte verbindet, ein Einstiegsbogen. In einem anderen Beispiel ist der die Knoten verbindende Bogen ein Ausstiegsbogen, wenn ein Onboard-Knoten mit einem Stationsknoten verbunden ist.As mentioned above, the transit graph module analyzes 105 the transit information for each trip to determine the events taking place during the journey. Based on the event, the Transit Graph module positions 105 corresponding nodes (either station or onboard nodes) in the transit graph, connecting the nodes to arcs. The type of arch that connects a pair of nodes is based on whether connected nodes are station or onboard nodes. For example, if the transit information describes that a transit vehicle is boarding at station A and without changing to station B, then the transit graph module is included 105 a station node connected to station A in the transit graph, and includes an onboard node connected to station B in the transit graph. Therefore, the arch connecting the nodes is an entry arch. In another example, the arc connecting the nodes is an exit arc when an onboard node is connected to a station node.
Zum Beschreiben von Wartebögen wird der Begriff von Zeit im Transitgraphen dargestellt. Unter nun erfolgender Bezugnahme auf 4 ist ein Teil eines Transitgraphen dargestellt. Hier in dieser Veranschaulichung ist der Transitgraph 400 mit Knoten davon dargestellt, die hinsichtlich einer Y-Achse und einer X-Achse organisiert sind. Die Y-Achse des Transitgraphen stellt Zeit dar und die X-Achse stellt Stationen dar. Es versteht sich, dass die X- und Y-Achse vollständig hier als eine bequeme Art des Erklärens der Verwendung der Zeit im Transitgraphen veranschaulicht sind, und dass in der eigentlichen Praxis der in der Routeninformationsdatenbank 125 gespeicherte Transitgraph keine X- oder Y-Achse beinhaltet, und dass die Knoten des Graphen auch nicht auf eine räumliche Art angeordnet sind, wie dargestellt in 4.For describing waiting forms, the term of time is displayed in the transit graph. Now referring to 4 is a part of a transit graph. Here in this illustration is the transit graph 400 with nodes thereof organized with respect to a Y-axis and an X-axis. The y-axis of the transit graph represents time and the x-axis represents stations. It is understood that the x and y axes are fully illustrated here as a convenient way of explaining the use of time in the transit graph, and that in the actual practice of in the Route information database 125 stored transit graph does not include X or Y axis, and that the nodes of the graph are also not arranged in a spatial manner as shown in FIG 4 ,
In dieser Veranschaulichung ist die Y-Achse eine Zeitdarstellung eines einzelnen Tages. Um den Begriff von Zeit im Transitgraphen zu erklären, fügt das Transitgraphmodul 105 für jede in der X-Achse dargestellte Station eine Reihe von Knoten zum Transitgraphen hinzu, die als entlang der Y-Achse veranschaulicht dargestellt sind. Jeder Knotenpunkt in der Serie, der mit einem Bahnhof verbunden ist, stellt ein Transitereignis da, das zu einer bestimmten, dem Knotenpunkt zugewiesenen Zeit am Bahnhof eintritt.In this illustration, the Y-axis is a single-day time representation. To explain the notion of time in the transit graph, the Transit Graph module adds 105 for each station shown in the X-axis, add a series of nodes to the transit graph, which are illustrated as being illustrated along the Y-axis. Each node in the train connected to a train station provides a transit event that enters the station at a specific time allocated to the hub.
Wie im Transitgraphen dargestellt, beinhaltet Station S1 eine Reihe von Knoten in unterschiedlichen Zeitintervallen. Knoten, die mit einem „S” gekennzeichnet sind, werden als Stationsknoten betrachtet, und Knoten, die mit einem „O” gekennzeichnet sind, werden als Onboard-Knoten betrachtet. Jeder Bahnhofsknotenpunkt, der einem bestimmten Bahnhof zugewiesen ist, ist einem Ereignis, das an dem Bahnhof zu einer bestimmten Zeit stattfindet, zugewiesen. In einer Ausführungsform werden die Stationsknoten für alle Stationen sequenziell basierend auf Zeit verknüpft, um eine Person darzustellen, die an einer bestimmten Station wartet. Beispielsweise werden im Transitgraphen die Stationsknoten für S1 sequenziell in Zeit verbunden, die den Gedanken darstellt, dass eine Person an Station S1 in einem Zeitraum zwischen T1 und T4 warten kann. In einer Ausführungsform schließt das Transitgraphmodul 105 auf Fahrten anhand von Informationen, die im Transitgraphen vorhanden sind, indem jeder Stationsknoten einer gegebenen Station mit dem nächsten Abfahrtsereignis, das an der gegebenen Station auftritt, durch einen Bogen verbunden wird.As shown in the transit graph, station S 1 contains a number of nodes at different time intervals. Nodes marked with an "S" are considered station nodes, and nodes marked with an "O" are considered onboard nodes. Each station node assigned to a particular station is assigned an event that takes place at the station at a particular time. In one embodiment, the station nodes for all stations are sequentially linked based on time to represent a person waiting at a particular station. For example, in the transit graph, the station nodes for S 1 are sequentially connected in time, representing the idea that a person can wait at station S 1 in a period between T 1 and T 4 . In one embodiment, the transit graph module completes 105 on trips based on information present in the transit graph by connecting each station node of a given station to the next departure event occurring at the given station by an arc.
Zwecks einfacherer Abhandlung werden Einstiegs-, Ausstiegs- und Gehbögen nun ohne Bezug zu Zeit beschrieben. Nehmen wir an, dass das Transitgraphmodul 105 eine Reise anhand der Transitinformationen darstellt, die eine Quellenstation A zu Zielstation D beschreibt, die Zwischenhalte an Stationen B und C aufweist, jedoch keine Wechsel. Wir weisen darauf hin, dass in diesem Szenario eine einzelne Fahrt als eine Reise angesehen wird. Die Reise würde unter Verwendung dieses Begriffs wie folgt dargestellt werden: AS → BO → CO → DO For easier reading, entry, exit and walking arches are now described without reference to time. Suppose that the transit graph module 105 represents a journey based on the transit information describing a source station A to destination D, which has stops at stations B and C, but no bills. Please note that in this scenario, a single trip is considered a trip. The trip would be represented using this term as follows: A S → B O → C O → D O
In Bezug auf die obige Bezeichnung beschreibt AS → BO ein Fahrzeug, das an Station A bestiegen wird und zu Station B fährt. BO → CO beschreibt das Aufhalten an Bord des Fahrzeugs an Station B und Bleiben im Fahrzeug, wenn das Fahrzeug an Station C ankommt. CO → DO beschreibt ein ähnliches Szenario als BO → CO, doch da Station D die Zielstation darstellt, stellt der Onboard-Knoten die Ankunft am Zielort dar.With respect to the above description, A S → B O describes a vehicle that is boarded at Station A and goes to Station B. B O → C O describes stopping aboard the vehicle at station B and remaining in the vehicle when the vehicle arrives at station C. C O → D O describes a similar scenario as B O → C O , but since station D represents the destination station, the onboard node represents the arrival at the destination.
Zum Darstellen der Reise im Transitgraphen stellt das Transitgraphmodul 105 jedes Ankunfts-/Abfahrtsereignis als einen Knoten dar. Wie jedoch zuvor erwähnt, entspricht jeder Knoten entweder einem Stationsknoten oder einem Onboard-Knoten. Das Transitgraphmodul 105 bestimmt, welche Knoten für ein Paar von Stationen in der Fahrt basierend auf dem Transitereignis zu verwenden sind, das zwischen den Stationen eintritt. Unter Verwendung des oben beschriebenen Beispiels würde das Transitgraphmodul 105 das Ereignis an Station A als einen Stationsknoten A darstellen und das Ereignis an Station B als einen Onboard-Knoten darstellen, da das Transitfahrzeug an Station A bestiegen wird und das Fahrzeug zu Station B fährt, ohne dass ein Wechsel stattfindet. Als Nächstes würden, da das Fahrzeug von Station B abfährt und zur Zielstation D fährt, und nur an Station C hält, jedoch ohne Wechsel, die Ereignisse, die an Stationen C und D eintreten, durch das Transitgraphenmodul 105 als Onboard-Knoten dargestellt werden.To illustrate the journey in the Transitgraphen provides the Transitgraphmodul 105 Each arrival / departure event is represented as a node. However, as previously mentioned, each node corresponds to either a station node or an onboard node. The transit graph module 105 determines which nodes to use for a pair of stations in transit based on the transit event that occurs between the stations. Using the example described above, the transit graph module would 105 represent the event at station A as a station node A and represent the event at station B as an on-board node, since the transit vehicle is boarding at station A and the vehicle is going to station B without any change taking place. Next, as the vehicle departs from station B and travels to the destination station D, and stops only at station C, but without change, the events entering stations C and D would pass through the transit graph module 105 displayed as onboard nodes.
Als ein weiteres Beispiel nehmen wir die oben abgehandelte Reise mit der Ausnahme an, dass ein Wechsel an Station C erfolgt. Daher erfordert diese Reise zwei Fahrten, da ein Wechsel an Station C erfolgt. Diese Reise würde die folgende Darstellung im Transitgraphen aufweisen: AS → BO → CO → CS → DO As another example, suppose that the trip discussed above is a change to Station C. Therefore, this trip requires two trips, since a change takes place at station C. This trip would have the following representation in the transit graph: A S → B O → C O → C S → D O
Unter Verwendung der oben beschriebenen Bezeichnung stellt BO → CO das Transitfahrzeug als an Station C von Station B ankommend dar. CO → CS beschreibt, dass das Fahrzeug an Station C abgefahren ist, und die Person, die das Fahrzeug verließ, an Station C wartet, um ein anderes Transitfahrzeug zu besteigen, das von Station C abfährt.Using the above-described designation, B O → C O represents the transit vehicle as arriving at station C from station B. C O → C S describes that the vehicle has departed at station C and the person leaving the vehicle Station C waits to board another transit vehicle leaving station C.
Unter Fortsetzung des obigen Beispiels wären im Transitgraphen die Darstellungen der Ereignisse an den Stationen A und B ein Stationsknoten für das Ereignis an Station A und ein Onboard-Knoten für das Ereignis an Station B in Bezug auf die obige Beschreibung. Für Station C würde das Transitgraphmodul 105 das Transitereignis, das an Station C stattfindet, über zwei Knoten darstellen: einen Stationsknoten und einen Onboard-Knoten. vom Onboard-Knoten von Station B würde das Transitgraphmodul 105 einen Bogen mit dem Onboard-Knoten von C verbinden, der das Ankunftsereignis an Station C beschreibt, und Bleiben auf dem Transitfahrzeug zu dieser Zeit. vom Onboard-Knoten an Station C würde das Transitgraphmodul 105 einen weiteren Bogen mit dem Stationsknoten von C verbinden, der darstellt, dass der Benutzer aus dem Transitfahrzeug an Station C aussteigt und an derselben Station auf das nächste Transitfahrzeug wartet.Continuing the above example, in the Transit Graph, the representations of the events at stations A and B would be a station node for the event at station A and an onboard node for the event at station B with respect to the above description. For station C, the transit graph module would 105 the transit event that takes place at station C represent two nodes: a station node and a Onboard node. from the onboard node of station B would be the transit graph module 105 connect an arc to the onboard node of C, which describes the arrival event at station C, and stay on the transit vehicle at that time. from the onboard node to station C would be the transit graph module 105 connect another arc to the station node of C representing that the user exits the transit vehicle at station C and waits at the same station for the next transit vehicle.
Um die Verwendung von Zeit innerhalb des Transitgraphen weiter zu veranschaulichen, erneut Bezug nehmen auf 4. Wie zuvor erwähnt, ist die Y-Achse in dieser Veranschaulichung eine Zeitdarstellung eines einzelnen Tages. Für jede Darstellung, die in der X-Achse dargestellt ist, fügt das Transitgraphmodul 105 eine Reihe von Knoten zum Transitgraphen hinzu, was als entlang der Y-Achse angeordnet veranschaulicht werden würde. Jeder Knotenpunkt in der Serie, der mit einem Bahnhof verbunden ist, stellt ein Transitereignis da, das zu einer bestimmten, dem Knotenpunkt zugewiesenen Zeit am Bahnhof eintritt. Das Transitgraphmodul 105 verwendet die Planungsinformationen von den gespeicherten Transitinformationen zum Bestimmen der Zeitinformationen für jeden Knoten. Daher beinhaltet das Transitgraphmodul 105 für jede Station einen Knoten für jede Instanz von Zeit, in der ein Fahrzeug an der Station ankommen oder davon abfahren kann.To further illustrate the use of time within the transit graph, re-reference 4 , As previously mentioned, the Y-axis in this illustration is a single-day time representation. For each plot shown in the X-axis, the Transit Graph module adds 105 add a series of nodes to the transit graph, which would be illustrated as being arranged along the y-axis. Each node in the train connected to a train station provides a transit event that enters the station at a specific time allocated to the hub. The transit graph module 105 uses the scheduling information from the stored transit information to determine the time information for each node. Therefore, the transit graph module includes 105 for each station, a node for each instance of time in which a vehicle can arrive at or depart from the station.
In einer Ausführungsform weist jeder Bogen, der Knoten von einer Fahrt im Transitgraphen verbindet, verbundene Kosten auf, die vom Transitgraphmodul 105 bestimmt werden. Alle Kosten beschreiben den Preis zum Erreichen des Zielknotens vom Quellenknoten, der den Bogen verbindet, hinsichtlich unterschiedlicher Faktoren, die monetäre Kosten beinhalten können oder nicht. Das Transitgraphmodul 105 analysiert die gespeicherten Transitinformationen, die mit jeder Fahrt verbunden sind, um die Kosten für Bögen zu bestimmen.In one embodiment, each arc connecting nodes from a ride in the transit graph has associated costs associated with the transit graph module 105 be determined. All costs describe the price to reach the destination node from the source node that connects the arc with respect to different factors that may or may not include monetary costs. The transit graph module 105 analyzes the stored transit information associated with each trip to determine the cost of bows.
In einer Ausführungsform sind die Kosten für einen Bogen eine multidimensionale Kostenfunktion. Die erste Dimension der Kostenfunktion basiert auf Zeit. Das Transitgraphmodul 105 analysiert die Transitinformationen, um die Zeitdifferenz zwischen der Ankunftszeit am Zielknoten und der Abfahrtszeit am Quellenknoten zu bestimmen. Die Gesamtzeit zum Erreichen der Station, die mit dem Zielknoten verbunden ist, ist mit dem Bogen verbunden, der den Zielknoten mit dem Quellenknoten als die erste Dimension der Kostenfunktion verbindet. In einer Ausführungsform wird die Dauer in Sekunden dargestellt, obwohl andere Darstellungen von Zeit in anderen Ausführungsformen verwendet werden können.In one embodiment, the cost of a sheet is a multi-dimensional cost function. The first dimension of the cost function is based on time. The transit graph module 105 analyzes the transit information to determine the time difference between the arrival time at the destination node and the departure time at the source node. The total time to reach the station connected to the destination node is connected to the arc connecting the destination node to the source node as the first dimension of the cost function. In one embodiment, the duration is represented in seconds, although other representations of time may be used in other embodiments.
Die zweite Dimension der Kostenfunktion basiert auf unterschiedlichen Faktoren, die monetäre Kosten, Gesamtanzahl von Wechseln und/oder Gehkosten gemäß einer Ausführungsform beinhalten können. Die Aggregation dieser unterschiedlichen Faktoren hat eine Strafe zum Ergebnis, die in den Gesamtkosten beinhaltet ist. Das Transitgraphmodul 105 bestimmt die Strafe für einen Bogen basierend auf den Transitinformationen, die mit dem Schenkel der Fahrt verbunden sind.The second dimension of the cost function is based on various factors, which may include monetary costs, total number of bills, and / or walking costs, according to one embodiment. The aggregation of these different factors results in a penalty that is included in the total cost. The transit graph module 105 determines the penalty for a bow based on the transit information associated with the leg of the ride.
Beispielsweise kann die Strafe des Bogens erhöht werden, wenn ein Wechsel an einer Station eintritt. Die monetären Kosten einer Reise können auch in die Strafe faktoriert werden. Je größer die monetären Kosten, um eine Station zu erreichen, kann dies eine höhere Strafe zum Ergebnis haben, wenn eine Reise die Verwendung von mehr als einem Transitfahrzeug umfasst. Außerdem kann die Distanz, die von einer Station zu einer anderen gegangen wird, um einen Transitfahrzeugwechsel zu veranlassen, in die Kosten einer Fahrt faktoriert werden. Die Gewichtung der unterschiedlichen Faktoren bei einer Strafe kann durch einen Systemadministrator des Transitservers 100 angepasst werden.For example, the penalty of the bow may be increased when a change occurs at a station. The monetary costs of a trip can also be factored into the penalty. The greater the monetary cost to reach a station may result in a higher penalty if a trip involves the use of more than one transit vehicle. In addition, the distance traveled from one station to another to initiate a transit vehicle change may be factored into the cost of a trip. The weighting of different factors in a penalty can be determined by a system administrator of the transit server 100 be adjusted.
Das Transitgraphmodul 105 führt den oben beschriebenen Prozess aus, um im Transitgraphen die Knoten zu erzeugen, die die Reise anhand der Informationen in der Transitinformationsdatenbank 127 darstellen. Das Transitgraphmodul 105 wiederholt den Prozess für jede gespeicherte Reise, die innerhalb des Zeitraums gültig ist, den der Transitgraph darstellt, bis alle Fahrten im Transitgraphen dargestellt sind.The transit graph module 105 Executes the process described above to generate in the Transit Graph the nodes that travel based on the information in the Transit Information Database 127 represent. The transit graph module 105 repeats the process for each stored trip that is valid within the period that the transit graph represents until all trips in the transit graph are displayed.
In einer Ausführungsform erzeugt das Transitgraphmodul 105, anstatt einen neuen Transitgraphen für jeden Tag zu erzeugen, einen Stationsknoten für jedes Abfahrtsereignis, das an diesem Tag in der Station eintritt. Das Transitgraphmodul 105 verbindet die Stationsknoten über Wartebögen. Der letzte Stationsknoten des Tages wird einem Wartebogen 409 zugeordnet, der auf den ersten Stationsknoten des Tages zurück verweist. Dies stellt Warten an der Station nach Mitternacht dar, bis das nächste Abfahrtsereignis an der Station am folgenden Tag stattfindet. Wie bei den Onboard-Knoten im Transitgraphen ist jeder Onboard-Knoten mit einer oder mehreren Fahrten verbunden, und beinhaltet somit inhärent Informationen, die beschreiben, wenn eine oder mehrere Fahrten innerhalb einer Anzahl von Tagen innerhalb eines gegebenen Zeitraums gültig sind (d. h. in stattfinden)In one embodiment, the transit graph module generates 105 instead of creating a new transit graph for each day, a station node for each departure event that enters the station that day. The transit graph module 105 connects the station nodes via waiting bows. The last station node of the day will be waiting 409 associated with the first station node of the day. This represents waiting at the station after midnight until the next departure event at the station occurs the following day. As with the onboard nodes in the transit graph, each onboard node is associated with one or more trips, and thus inherently includes information describing when one or more trips within a given number of days are valid (ie, taking place) within a given time period.
In 4 ist der Transitgraph 400 von Zeit und öffentlichen Transitstationen gemäß einer Ausführungsform abhängig. Der Transitgraph 400 stellt Ereignisse dar (d. h. Ankunft oder Abfahrt), die durch ein öffentliches Verkehrsmittelfahrzeug an unterschiedlichen Stationen zwischen S1 und S6 zu unterschiedlichen Zeiten T1–T8 als Knoten im Graphen erfolgen, verbunden durch Bögen 405. Unter Verwendung der Transitinformationen hat das Transitgraphmodul 105 den Transitgraphen 400 konstruiert, der drei Reisen beinhaltet. Jeder Bogen im Transitgraphen 400 beinhaltet Kosten 407 zum Reisen von der Station, die den Quellenknoten darstellt, zur Station, die den Zielknoten darstellt. In 4 is the transit graph 400 of time and public transit stations according to one embodiment. The transit graph 400 represents events (ie arrival or departure) made by a public transport vehicle at different stations between S 1 and S 6 at different times T 1 -T 8 as nodes in the graph, connected by arcs 405 , Using the transit information, the transit graph module has 105 the transit graph 400 constructed, which includes three trips. Every sheet in the transit graph 400 includes costs 407 for traveling from the station representing the source node to the station representing the destination node.
Beispielsweise ist eine Reise, die im Transitgraphen 400 veranschaulicht ist, eine Fahrt von Station S1 bei Zeit T4 zu Station S6 bei Zeit T8. Wie im Transitgraphen 400 dargestellt, ist der Knoten bei Station S1 bei Zeit T4 ein Stationsknoten, wie durch das innerhalb des Knotens positionierte „S” bezeichnet. Der Knoten bei Station S3 bei Zeit T5 ist ein Onboard-Knoten, der durch das „O” im Knoten dargestellt wird. Dieselbe Knotenbezeichnung wird in den verbleibenden Knoten im Transitgraphen 400 verwendet.For example, a trip is in the transit graph 400 is illustrated, a drive of station S 1 at time T 4 to time T at station S 6. 8 As in the transit graph 400 For example, at station S 1, at node T 4 , the node is a station node, as denoted by the "S" positioned within the node. The node at station S 3 at time T 5 is an onboard node represented by the "0" in the node. The same node label will appear in the remaining node in the Transgraph 400 used.
Die Route, die durch die Reise beschrieben wird, stellt ein Fahrzeug dar, das an Station S1 bei Zeit T4 startet, und damit fortfährt, einen Halt an Station S3 bei Zeit T5 durchzuführen, gefolgt von einem anderen Halt an Station S4 bei Zeit T6. Von Station S4 erreicht das Fahrzeug bei Zeit T6 den Zielort an Station S6 bei Zeit T8. Wir weisen darauf hin, dass obwohl die Reise beinhaltet, dass das Fahrzeug Station S2 zwischen den Zeiten T4 und T5 passiert, kein Knoten erzeugt wird, der Station S2 zwischen T4 und T5 darstellt, da das Fahrzeug keinen Halt an Station S2 durchführte.The route described by the voyage represents a vehicle starting at station S 1 at time T 4 , and continues to make a stop at station S 3 at time T 5 , followed by another stop at station S. 4 at time T 6 . Station S 4 the vehicle reaches the destination at station S 6, at time T 8, at time T. 6 It should be noted that although the journey involves the vehicle passing station S 2 between times T 4 and T 5 , no node is generated representing station S 2 between T 4 and T 5 because the vehicle is not stopping Station S 2 performed.
Zusätzlich beinhaltet der Transitgraph 400 auch eine Reise von Station S2 bei Zeit T1 zu Station S6 bei Zeit T8 sowie eine Reise von Station S3 bei Zeit T1 zu Station S6 bei Zeit T8. Wir weisen daraufhin, dass das Fahrzeug, das von Station S2 bei Zeit T1 startet, an Station S3 zu derselben Zeit ankommt, an der das Fahrzeug von Station S1 bei Zeit T4 startete. In einer Ausführungsform stellt der einzelne Knoten an Station S3 bei Zeit T5 beide Ereignisse dar.In addition, the transit graph includes 400 also a journey from station S 2 at time T 1 to station S 6 at time T 8 as well as a journey from station S 3 at time T 1 to station S 6 at time T 8 . We point out that the vehicle starting from station S 2 at time T 1 arrives at station S 3 at the same time that the vehicle started from station S 1 at time T 4 . In one embodiment, the single node at station S 3 at time T 5 represents both events.
Weiterhin veranschaulicht der Transitgraph 400 eine Reihe von Knoten 403 für Station S1, die jede zeitliche Instanz darstellt, in der ein Fahrzeug an der Station ankommen oder davon abfahren kann. Obwohl nur die Zeit T4 ein Fahrzeug veranschaulicht, das von Station S1 abfährt, versteht sich, dass zur Vereinfachung der Beschreibung Bögen, die Abfahrten von Knoten von Station S1 veranschaulichen, weggelassen wurden. Der Knoten, der den letzten Stationsknoten von Station S1 darstellt, ist dahingehend dargestellt, dass er auf den Stationsknoten zurück verweist, der die erste Zeit des Tages darstellt, an der die Station S1 arbeitet.Furthermore, the transit graph illustrates 400 a series of knots 403 for station S 1 , which represents each time instance in which a vehicle can arrive at or depart from the station. Although only the time T 4 illustrates a vehicle departing from station S 1 , it will be understood that to simplify the description, bows illustrating departures of nodes of station S 1 have been omitted. The node representing the last station node of station S 1 is shown as pointing back to the station node, which represents the first time of the day on which station S 1 is operating.
Unter erneuter Bezugnahme auf 3 erzeugt das Transitgraphmodul 105 eine Reihe von Transittabellen basierend auf dem Transitgraphen, sobald der Transitgraph konstruiert wurde. In einer Ausführungsform geben die Transittabellen Informationen an, die mit den Bögen und Knoten des Transitgraphen verbunden sind. Die Transittabellen sind im Wesentlichen eine tabellarische Darstellung des Transitgraphen, die Informationen über jeden Knoten und Bogen im Transitgraphen sowie andere Informationen angibt, die mit dem Transitgraphen in Zusammenhang stehen. Das Transitgraphmodul 105 speichert die im Transitgraphen beschriebenen Informationen in unterschiedlichen Transittabellen. Die Transittabellen werden nachfolgend detaillierter beschrieben. Wir weisen darauf hin, dass in einer Ausführungsform die Transittabellen direkt von den Transitinformationen erzeugt werden, anstatt dass der Transitgraph erzeugt wird, gefolgt von der Erzeugung der Transittabellen vom Transitgraphen.Referring again to 3 generates the transit graph module 105 a series of transit tables based on the transit graph once the transit graph has been constructed. In one embodiment, the transit tables indicate information associated with the arcs and nodes of the transit graph. The transit tables are essentially a tabular representation of the transit graph indicating information about each node and arc in the transit graph as well as other information related to the transit graph. The transit graph module 105 stores the information described in the transit graph in different transit tables. The transit tables are described in more detail below. Note that in one embodiment, the transit tables are generated directly from the transit information, rather than generating the transit graph, followed by the generation of the transit tables from the transit graph.
Das Transitgraphmodul 105 konstruiert 303 einen Satz von Fahrtmasken basierend auf den Transitinformationen. In einer Ausführungsform wird der Satz von Fahrtmasken als eine Tabelle dargestellt, die alle möglichen Fahrten aufführt und beschreibt, wann die Fahrten gültig sind. Jede Reihe in der Tabelle stellt eine Fahrtmaske einer Fahrt dar. Das heißt, dass jede Fahrtmaske die Tage innerhalb eines Zeitraums beschreibt, am ein Fahrzeug eine bestimmte Fahrt durchführt, die in der Fahrtmaske angegeben ist. In einer Ausführungsform beträgt der Zeitraum in einer Fahrtmaske 60 Tage.The transit graph module 105 constructed 303 a set of driving masks based on the transit information. In one embodiment, the set of ride masks is represented as a table listing all possible rides and describing when the rides are valid. Each row in the table represents a trip mask of a trip. That is, each trip mask describes the days within a period when a vehicle is performing a particular trip indicated in the ride mask. In one embodiment, the period is in a ride mask 60 Days.
Unterschiedliche Zeiträume können in anderen Ausführungsformen verwendet werden. Eine exemplarische Fahrtmaske ist wie folgt: exemplarische Fahrtmaske Fahrt-ID 8/6/09 9/6/09... ...7/8/09 8/8/09
T1 0 1 1 1
T2 1 0 0 0
T3 0 0 1 1
TN 0 1 1 0
Different time periods may be used in other embodiments. A exemplary ride mask is as follows: exemplary ride mask Drive ID 08/06/09 06/09/09 ... ... 08/07/09 08/08/09
T 1 0 1 1 1
T 2 1 0 0 0
T 3 0 0 1 1
T N 0 1 1 0
Jede Reihe in der Tabelle ist mit einer spezifischen Fahrt verbunden. Jede Spalte stellt einen Tag oder ein Datum innerhalb eines ausgewählten Zeitraums dar. In einer Ausführungsform gibt eine „1” in der Fahrtmaske für einen gegebenen Tag an, dass die Fahrt an diesem Tag gültig ist, während eine „0” angibt, dass die Fahrt am Tag ungültig ist. Unterschiedliche Begriffe können in anderen Ausführungsformen verwendet werden um zu bezeichnen, ob eine Fahrt gültig oder ungültig ist. Sobald die Fahrtmaske konstruiert ist, speichert das Transitgraphmodul 105 die Fahrtmaske in der Transitinformationsdatenbank 127.Each row in the table is associated with a specific ride. Each column represents a day or date within a selected time period. In one embodiment, a "1" in the ride mask for a given day indicates that the ride is valid that day, while a "0" indicates that the ride invalid on the day. Different terms may be used in other embodiments to indicate whether a trip is valid or invalid. Once the ride mask is constructed, the transit graph module saves 105 the travel mask in the transit information database 127 ,
im obigen Beispiel führt die Fahrtmaske Fahrten T1, T2 bis einschließlich TN auf. Die verbleibenden Spalten stellen Tage zwischen einem spezifizierten Startdatum (z. B. 8. Juni 2009) und einem Enddatum (z. B. 8. August 2009) dar. Für jedes Datum ist entweder eine „1” oder eine „0” für jede Fahrt aufgeführt, die angibt, ob eine Fahrt am Datum gültig oder ungültig ist. Beispielsweise ist am 8. Juni 2009 nur Fahrt T2 gültig. Alle anderen Fahrten, die in der Fahrtmaske aufgeführt sind, werden nicht durchgeführt. am folgenden Tag werden nur Fahrten T1 und TN durchgeführt.In the above example, the travel mask lists trips T 1 , T 2 up to and including T N. The remaining columns represent days between a specified start date (for example, June 8, 2009) and an end date (for example, August 8, 2009). For each date, there is either a "1" or a "0" for each Ride listed that indicates whether a ride on the date is valid or invalid. For example, on June 8, 2009, only trip T 2 is valid. All other rides listed in the ride mask will not be performed. the following day trips only T 1 and T N are performed.
Sobald die Fahrtmaske konstruiert wurde, konstruiert 305 das Transitgraphmodul 105 eine Knotentabelle. In einer Ausführungsform erzeugt das Transitgraphmodul 105 die Knotentabelle basierend auf dem Transitgraphen. Die Knotentabelle spezifiziert eine Identifikation (ID) für jeden Knoten und die Stations-ID der Station, die mit jedem Knoten verbunden ist. Die Knotentabelle spezifiziert weiterhin den Knotentyp, die mit jedem Knoten verbunden ist. Der Knotentyp beschreibt, ob der Knoten ein Stationsknoten oder ein Onboard-Knoten ist. Die Knotentabelle beinhaltet auch die Zeit des Ereignisses, das mit jedem Knoten verbunden ist. Das Ereignis kann eine Ankunft oder Abfahrt in Abhängigkeit vom Knotentyp sein. Schlussendlich beinhaltet die Knotentabelle die Fahrt-ID, die auf die Fahrtmaske verweist um anzugeben, wann der Knoten gültig ist. Wir weisen daraufhin, dass in einer Ausführungsform nur Onboard-Knoten mit einer Fahrt-ID verbunden sind, da Stationsknoten mit einer Person verbunden sein können, die einfach an einer Station wartet, die nicht Teil einer spezifischen Fahrt ist. Sobald die Knotentabelle konstruiert ist, speichert das Transitgraphmodul 105 die Knotentabelle in der Transitinformationsdatenbank 127. Nachfolgend ist ein Beispiel einer Knotentabelle dargestellt. exemplarische Knotentabelle Knoten-ID Stations-ID Ereigniszeit Knotentyp Fahrt-ID
N1 A 8:00 Onboard T8
N2 B 16:00 Station Entfällt
N3 C 2:00 Station Entfällt
N4 A 12:00 Onboard T345
NN D 20:00 Onboard T50
Once the ride mask has been designed, constructed 305 the transit graph module 105 a node table. In one embodiment, the transit graph module generates 105 the node table based on the transit graph. The node table specifies an identification (ID) for each node and the station ID of the station associated with each node. The node table also specifies the node type associated with each node. The node type describes whether the node is a station node or an onboard node. The node table also includes the time of the event associated with each node. The event can be an arrival or departure depending on the node type. Finally, the node table includes the ride ID that points to the ride mask to indicate when the node is valid. We point out that in one embodiment, only onboard nodes are associated with a trip ID, as station nodes may be connected to a person who is simply waiting at a station that is not part of a specific trip. Once the node table is constructed, the transit graph module stores 105 the node table in the transit information database 127 , The following is an example of a node table. exemplary node table Node ID Station ID event time node type Drive ID
N 1 A 8:00 Onboard T 8
N 2 B 16:00 station Not applicable
N 3 C 2:00 station Not applicable
N 4 A 12:00 Onboard T 345
N N D 20:00 Onboard T 50
Die dargestellte Tabelle weist fünf Spalten auf. Knoten-ID, Stations-ID, Ereigniszeit, Knotentyp und Fahrt-ID. Die Knoten-ID-Säule führt alle Knoten eines Transitgraphen N1 bis einschließlich NN auf. Jeder Knoten weist eine entsprechende Stations-ID, Ereigniszeit, Knotentyp und Fahrt-ID auf. Beispielsweise ist Knoten N1 mit Station A verbunden. Die Tabelle gibt an, dass Knoten N1 ein Onboard-Knoten mit einer Ereigniszeit um 8:00 ist. Daher kann der Onboard-Knoten ein Transitfahrzeug darstellen, dass an Station A ankommt, ohne dass eine Person aus dem Fahrzeug aussteigt, oder dass das Transitfahrzeug an Station A ankommt und eine Person aus dem Transitfahrzeug an Station A aussteigt Die Knotentabelle gibt auch an, dass der Onboard-Knoten mit Fahrt ID T8 verbunden ist, die auf die Fahrtmaske zurück verweist, um die Daten anzugeben, an denen die Fahrt, die mit dem Knoten verbunden ist, gültig ist. Als weiteres Beispiel ist Knoten N3 mit Station C verbunden, und ist ein Stationsknoten. Das mit Knoten N3 verbundene Ereignis tritt um 2:00 ein. Da der Knoten ein Stationsknoten ist, kann das Ereignis, das um 2:00 stattfindet, ein Warteereignis oder ein Einstiegsereignis an Station C sein. Wie oben erwähnt, verweisen Stationsknoten nicht zurück auf eine Fahrt-ID.The table shown has five columns. Node ID, station ID, event time, node type, and trip ID. The node ID column lists all nodes of a transit graph N 1 through N N. Each node has a corresponding station ID, event time, node type, and trip ID. For example, node N 1 is connected to station A. The table indicates that node N 1 is an onboard node with an event time at 8:00. Therefore, the on-board node may represent a transit vehicle that arrives at station A without a person getting out of the vehicle, or that the transit vehicle arrives at station A and gets off the transit vehicle at station A. The node table also indicates that the onboard node is connected to trip ID T 8 , which refers back to the ride mask to indicate the data to which the ride associated with the node is valid. As another example, node N 3 is connected to station C, and is a station node. The event associated with node N 3 occurs at 2:00. Because the node is a station node, the event occurring at 2:00 may be a wait event or an entry event at station C. As mentioned above, station nodes do not reference back to a trip ID.
Nachdem die Knotentabelle konstruiert ist, konstruiert 307 das Transitgraphmodul 105 eine Bogentabelle. Die Bogentabelle spezifiziert Informationen in Zusammenhang mit jedem Bogen in einem Transitgraphen. 111 einer Ausführungsform spezifiziert die Bogentabelle die Quellenknoten-ID und Zielknoten-ID von jedem Bogen zusammen mit der Strafe für jeden Bogen. Die Bögen selbst werden nicht explizit identifiziert. Vielmehr wird ein Bogen basierend auf den spezifischen Knoten geschlossen, die durch einen Bogen verbunden sind. Da jeder Knoten im Transitgraphen mit einer einzigartigen Knoten-ID verbunden ist, kann der Bogen basierend auf den Knoten-IDs der Knoten bestimmt werden, die durch einen Bogen verbunden sind. Die Bogentabelle beschreibt auch die Strafe, die mit jedem Bogen verbunden ist, der von den Quellen- und Zielknoten geschlossen wird. Sobald die Bogentabelle konstruiert ist, speichert das Transitgraphmodul 105 die Bogentabelle in der Transitinformationsdatenbank 127. Nachfolgend ist ein Beispiel einer Bogentabelle dargestellt. Beispiel einer Bogentabelle Quellenknoten-ID Zielknoten-ID Strafe
N1 N24 100
N50 N32 150
N8 N10 200
N24 N94 50
After the node table is constructed, constructed 307 the transit graph module 105 an arch table. The sheet table specifies information related to each sheet in a transit graph. 111 According to one embodiment, the sheet table specifies the source node ID and destination node ID of each sheet together with the penalty for each sheet. The arcs themselves are not explicitly identified. Rather, an arc is closed based on the specific nodes connected by an arc. Since each node in the transit graph is associated with a unique node ID, the arc can be determined based on the node IDs of the nodes connected by an arc. The sheet table also describes the penalty associated with each sheet being closed by the source and target nodes. Once the arc table is constructed, the transit graph module stores 105 the sheet table in the transit information database 127 , An example of an arc table is shown below. Example of a sheet table Source Node ID Destination node ID punishment
N1 N 24 100
N 50 N 32 150
N 8 N 10 200
N 24 N 94 50
Die Tabelle beinhaltet drei Spalten: Quellenknoten-ID, Zielknoten-ID und Strafe. Die Quellenknoten-ID- und Zielknoten-ID-Säulen führen alle Quellen- und Zielknotenpaare im Transitgraphen auf, die schließen lassen, welche Knoten durch Bögen verbunden sind. Beispielsweise geben die Stationsknoten-ID und die Zielknoten-ID von (N1, N24) an, dass diese zwei Knoten durch einen Bogen verbunden sind. In diesem Beispiel weist der Bogen eine Strafe von 100 auf.The table contains three columns: source node ID, destination node ID, and penalty. The source node ID and destination node ID columns list all source and destination node pairs in the transit graph that indicate which nodes are connected by arcs. For example, the station node ID and the destination node ID of (N 1 , N 24 ) indicate that these two nodes are connected by an arc. In this example, the arc has a penalty of 100.
Nachdem die Bogentabelle konstruiert ist, konstruiert 309 das Transitgraphmodul 105 eine Stationsstandorttabelle. Die Stationsstandorttabelle beschreibt den geografischen Standort von jeder Station im Transitgraphen. In einer Ausführungsform ist der geografische Standort von jeder Station durch die Breitengrad- und Längengradkoordinaten der Station dargestellt. Alternativ können andere Verfahren zum Beschreiben eines geografischen Standorts, wie z. B. eine Adresse einer Station, verwendet werden.After the arch table is constructed, constructed 309 the transit graph module 105 a station location table. The station location table describes the geographical location of each station in the transit graph. In one embodiment, the geographical location of each station is represented by the latitude and longitude coordinates of the station. Alternatively, other methods of describing a geographic location, such as As an address of a station can be used.
Sobald die Stationsstandorttabelle konstruiert ist, speichert das Transitgraphmodul 105 die Bogentabelle in der Transitinformationsdatenbank 127. Nachfolgend ist ein Beispiel einer Stationsstandorttabelle dargestellt. Stations-ID Geografischer Standort
A (33.58, –85.85)
B (41.48, –120.53)
C (38.22, –122.28)
D (37.37, –121.92)
Once the station location table is constructed, the transit graph module stores 105 the sheet table in the transit information database 127 , The following is an example of a station location table. Station ID Geographic location
A (33.58, -85.85)
B (41.48, -120.53)
C (38.22, -122.28)
D (37.37, -121.92)
im obigen Beispiel beinhaltet die Stationsstandorttabelle die Stations-ID-Spalte, die alle Stationen im Transitgraphen aufführt. Die Stationsstandorttabelle beinhaltet auch eine geografische Standortspalte, die den geografischen Standort von jeder Stations-ID in Breitengrad- und Längengradkoordinaten aufführt. Beispielsweise weist die Station D einen geografischen Standort von Breitengrad 37.37 N und Längengrad –121.92 W auf, was einem Bereich in San José, CA, entspricht.In the above example, the station location table includes the station ID column listing all stations in the transit graph. The station location table also includes a geographic location column that lists the geographic location of each station ID in latitude and longitude coordinates. For example, station D has a latitude 37.37 N latitude and longitude -121.92 W, which corresponds to an area in San José, CA.
In einer Ausführungsform konstruiert 311 das Transitgraphmodul 105 die naheliegende Stationstabelle, um die Erzeugung der oben beschriebenen Bogentabelle zu unterstützen. Das Transitgraphmodul 105 verwendet insbesondere die naheliegende Stationstabelle zum Erzeugen von Wechselbögen. Wie zuvor erwähnt, werden Wechselbögen (die in Abhängigkeit davon, ob eine Person an der Station wechselt, an der die Person ankam oder zu einer anderen Station geht, Gehen enthalten kann oder nicht), von jedem Onboard-Knoten zum frühesten erreichbaren Abfahrtsereignis an allen Stationen erzeugt, die in der Nähe der Station liegen, an der die Person ankam, einschließlich der Station selbst. Anstatt die Wechselbögen im Speicher zu speichern, wird die Tabelle der naheliegenden Station gespeichert und die Wechselbögen werden auf Anfrage für die Wechselbögen erstellt. Für jede Station in der Tabelle bestimmt das Transitgraphmodul 105 alle Stationen, die innerhalb einer radialen Distanz von der gegebenen Station liegen, unter Verwendung der gespeicherten Transitinformationen. Stationen innerhalb der radialen Distanz werden als „nahe” oder „lokal” zu einer Station angesehen. In einer Ausführungsform kann die radiale Distanz zwei Meilen betragen oder kann andere Distanzen in unterschiedlichen Ausführungsformen betragen. Daher weist eine gegebene Station in Abhängigkeit von der radialen Distanz des Transitservers 100, wie von einem Systemadministrator bestimmt, möglicherweise keine naheliegende Station auf. Sobald die Tabelle der naheliegenden Station konstruiert ist, speichert das Transitgraphmodul 105 die Tabelle in der Transitinformationsdatenbank 127. Nachfolgend ist ein Beispiel einer Tabelle einer naheliegenden Station dargestellt. Beispiel einer Tabelle einer naheliegenden Station Stations-ID Beispiel einer Tabelle einer naheliegenden Stations-ID
A {(A, 60), (D, 60), (Q, 60), (R, 120) (Z, 120), (Y, 3200))
B {(F, 120)
C Keine
D {(D, 60), (M, 60), (E, 120), (K, 180)}
Constructed in one embodiment 311 the transit graph module 105 the nearby station table to assist in the generation of the arch table described above. The transit graph module 105 In particular, it uses the nearby station table to generate alternating bends. As mentioned previously, change sheets (which may or may not include walking depending on whether a person changes hands at the station where the person arrived or goes to another station) from each onboard node to the earliest reachable departure event at all Stations generated near the station are generated the person who arrived, including the station itself. Instead of storing the bills in memory, the table of the nearby station is stored and the bills of exchange are created on request for the bills. For each station in the table, the transit graph module determines 105 all stations that are within a radial distance of the given station using the stored transit information. Stations within the radial distance are considered "near" or "local" to a station. In one embodiment, the radial distance may be two miles or may be other distances in different embodiments. Therefore, a given station will depend on the radial distance of the transit server 100 as determined by a system administrator, may not have a nearby station. Once the nearby station table is constructed, the transit graph module stores 105 the table in the transit information database 127 , The following is an example of a nearby station table. Example of a table of a nearby station Station ID Example of a table of a nearby station ID
A {(A, 60), (D, 60), (Q, 60), (R, 120) (Z, 120), (Y, 3200))
B {(F, 120)
C None
D {(D, 60), (M, 60), (E, 120), (K, 180)}
Die Tabelle beinhaltet zwei Spalten: Stations-ID und Liste von naheliegenden Stations-IDs. Für jede Stations-ID gibt die Liste von naheliegenden Stations-IDs die Stationen an, die als „naheliegend” zur Station angesehen werden, und die Mindestzeitdauer, die zum Wechsel von der Station zu einer naheliegenden Station benötigt wird. Das heißt, dass die Liste von naheliegenden Stations-IDs diejenigen Stationen angibt, die innerhalb einer spezifizierten radialen Distanz liegen, und die Zeit, um die naheliegenden Stationen zu erreichen. Beispielsweise kann Station A nahe Station D, Station Q, Station R, Station Z und Station Y sein. Zum Wechseln von Station D zu Station A wird z. B. eine Mindestzeitdauer von 60 Sekunden benötigt, um den Wechsel durchzuführen. Im Gegensatz dazu weist Station C möglicherweise keine naheliegenden Stationen auf. Weiterhin weisen wir darauf hin, dass in einer Ausführungsform eine Station in ihrer Liste von naheliegenden Stations-IDs beinhaltet sein kann. Dies gibt eine Mindestzeitdauer (d. h. einen Sicherheitspuffer) an, die zum Wechsel von einem Transitfahrzeug zu einem anderen Transitfahrzeug an einer einzelnen Station benötigt wird. Beispielsweise gibt für Station A ihre Liste von naheliegenden Stationen eine Mindestzeitdauer von 60 Sekunden an, die zum Abschließen eines Wechsels an Station A benötigt wird. Wir weisen darauf bin, dass möglicherweise nicht alle Stationen in ihrer Liste von naheliegenden Stationen beinhaltet sind, wenn keine Wechsel an der Station eintreten, wie in der Liste von naheliegenden Stationen für Station B im oben dargestellten Beispiel dargestellt.The table contains two columns: Station ID and list of nearby station IDs. For each station ID, the list of nearby station IDs indicates the stations that are considered "proximate" to the station and the minimum amount of time required to move from the station to a nearby station. That is, the list of nearby station IDs indicates those stations that are within a specified radial distance and the time to reach the nearby stations. For example, station A may be near station D, station Q, station R, station Z and station Y. To change from station D to station A z. B. a minimum period of 60 seconds needed to perform the change. In contrast, Station C may not have nearby stations. Further, we note that in one embodiment, a station may be included in its list of nearby station IDs. This indicates a minimum amount of time (i.e., a safety buffer) needed to move from one transit vehicle to another transit vehicle at a single station. For example, for Station A, its list of nearby stations indicates a minimum period of 60 seconds needed to complete a change at Station A. We point out that not all stations may be included in their list of nearby stations if there are no changes at the station, as shown in the list of nearby stations for station B in the above example.
2. Globalstationsauswahl2. Global Station Selection
Unter erneuter Bezugnahme auf 2 wählt (d. h. bestimmt) in der zweiten Stufe (optional) des Vorberechnungsprozesses das Globalstationsauswahl(GSS)-Modul 107 Globalstationen aus. In einer Ausführungsform sind Globalstationen Stationen, an denen ein Wechsel wahrscheinlich während langer Verbindungen eintreten wird. Das heißt, dass bei Fahrten, die sich über eine lange Distanz erstrecken, Globalstationen Stationen sind, an denen ein Wechsel oftmals eintritt. Das GSS-Modul 107 wählt Globalstationen basierend auf der Anzahl von Transitrouten aus, die an einer Station wechseln, oder basierend auf einer zeitabhängigen Heuristik. Jede Ausführungsform wird nachfolgend detaillierter beschrieben.Referring again to 2 in the second stage (optional) of the pre-calculation process, selects (ie, determines) the Global Station Selection (GSS) module 107 Global stations. In one embodiment, global stations are stations where a change is likely to occur during long connections. That is, when traveling over a long distance, global stations are stations where change often occurs. The GSS module 107 selects global stations based on the number of transit routes that change at a station or based on a time-dependent heuristic. Each embodiment will be described in more detail below.
Unter nun erfolgender Bezugnahme auf 5A ist ein Ablaufdiagramm eines Verfahrens dargestellt, das durch ein GSS-Modul 107 ausgeführt wird, um Globalstationen basierend auf der Anzahl von Routen zu berechnen, die an einer Station wechseln. Das GSS-Modul 107 empfängt als Eingabe den Transitgraphen FIG. 505. Vom Transitgraphen bestimmt das GSS-Modul 107 FIG. 500 die Anzahl von Wechseln, die an jeder Station eintreten. Das GSS-Modul 107 analysiert den Transitgraphen, um die Anzahl von Malen zu bestimmen, in denen ein Fahrzeugwechsel an jeder Station im Transitgraphen eintritt. Das GSS-Modul 107 identifiziert FIG. 501 Globalstationen basierend auf der Anzahl von Wechseln, die an jeder Station eingetreten sind. In einer Ausführungsform wird ein Wechselschwellenwert angewandt, der die Mindestanzahl von Wechseln spezifiziert, der an einer Station eintreten muss, um als Globalstation angesehen zu werden. Das GSS-Modul 107 filtert jede Station gemäß dem Wechselschwellenwert, und die verbleibenden Stationen werden als die Globalstationen FIG. 503 angesehen.Now referring to 5A FIG. 3 is a flow chart of a process performed by a GSS module 107 is executed to calculate global stations based on the number of routes that change at a station. The GSS module 107 receives as input the transit graph FIG. 505 , From the transit graph determines the GSS module 107 FIG. 500 the number of changes that occur at each station. The GSS module 107 analyzes the transit graph to determine the number of times a vehicle change occurs at each station in the transit graph. The GSS module 107 identifies FIG. 501 Global stations based on the number of bills that have occurred at each station. In one embodiment, a transition threshold is applied that specifies the minimum number of changes that must occur at a station to be considered a global station. The GSS module 107 filters each station according to the transition threshold, and the remaining stations are called the global stations FIG. 503 considered.
Unter nun erfolgender Bezugnahme auf 5B ist eine weitere Ausführungsform eines Prozessablaufs von GSS-Modul 107 dargestellt, um Globalstationen basierend auf der zeitabhängigen Heuristik zu bestimmen. Das GGS-Modul 107 empfängt als Eingabe den Transitgraphen von FIG. 505. Das GGS-Modul 107 gruppiert 507 dann Stationsknoten für jede Station im Transitgraphen in einen einzelnen Knoten. Wie zuvor oben erwähnt, weist jede Station einen oder mehrere Knoten auf, die unterschiedliche Zeiten darstellen, an denen ein Fahrzeug an einer Station ankommen oder davon abfahren kann. Von diesen Knoten ist eine Untergruppe Stationsknoten. Das GGS-Modul 107 gruppiert die Stationsknoten für jede Station, um eine Stationsknotengruppe für die Station auszubilden. Beispielsweise würden die acht Knoten von Station S1, die in 4 dargestellt sind, unter der Annahme, dass sie alle Stationsknoten sind, gruppiert werden, um eine Stationsknotengruppe auszubilden, die acht Knoten umfasst. Now referring to 5B is another embodiment of a process flow of GSS module 107 to determine global stations based on the time-dependent heuristic. The GGS module 107 receives as input the transit graph of FIG. 505 , The GGS module 107 grouped 507 then station nodes for each station in the transit graph into a single node. As mentioned above, each station has one or more nodes representing different times at which a vehicle can arrive at or depart from a station. Of these nodes, a subgroup is station nodes. The GGS module 107 groups the station nodes for each station to form a station node group for the station. For example, the eight nodes of station S 1 that are in 4 Assuming that they are all station nodes, they are grouped to form a station node group comprising eight nodes.
Das GGS-Modul 107 gruppiert 509 dann Onboard-Knoten. In einer Ausführungsform gruppiert das GGS-Modul 107 die Onboard-Knoten im Transitgraphen, die dieselbe Folge der vorangegangenen Stationen aufweisen, und bei denen kein Überholen zwischen den Fahrzeugen eintrat, die durch die Onboard-Knoten dargestellt wurden, um Onboard-Gruppen auszubilden. Das heißt, dass das GGS-Modul 107 Fahrten im Verlauf des Tages ähnlich gruppiert. In einer Ausführungsform sind ähnliche Fahrten, die einander nicht überholen und derselben Folge von Stationen entlang der Fahrt folgen. Für jede Gruppe von Fahrten gruppiert das GGS-Modul 107 den ersten Onboard-Knoten von jeder Fahrt der Gruppe in eine Onboard-Knotengruppe. Wir weisen darauf hin, dass die Onboard-Knotengruppe Onboard-Knoten an einer einzelnen Station darstellt, da die Gruppen von ähnlichen Fahrten sind. Das GGS-Modul 107 gruppiert dann den zweiten Onboard-Knoten von jeder Fahrt der Gruppe in eine zweite Onboard-Knotengruppe usw., bis alle Onboard-Knoten gruppiert worden sind.The GGS module 107 grouped 509 then onboard nodes. In one embodiment, the GGS module groups 107 the onboard nodes in the transit graph, which have the same sequence of the previous stations, and did not overtake between the vehicles represented by the onboard nodes to form onboard groups. That means that the GGS module 107 Rides similarly grouped during the day. In one embodiment, similar trips are those that do not overtake each other and follow the same sequence of stations along the ride. For each group of trips the GGS module is grouped 107 the first onboard node from each trip of the group to an onboard node group. Please note that the onboard node group represents onboard nodes at a single station because the groups are of similar trips. The GGS module 107 then groups the second onboard node from each drive of the group into a second onboard node group, and so on, until all onboard nodes have been grouped together.
Sobald das GGS-Modul 107 die Stationsknoten und Onboard-Knoten des Transitgraphen gruppiert hat, fügt 511 das GGS-Modul Bögen zwischen den Gruppen hinzu. In einer Ausführungsform analysiert das GGS-Modul 107 die ungruppierte Darstellung des Transitgraphen und bestimmt, ob mindestens ein Bogen zwischen zwei Knoten im Transitgraphen existierte, der zu den unterschiedlichen Stationsknotengruppen oder Onboard-Knotengruppen gehört. Das GGS-Modul 107 fügt einen Bogen zwischen den unterschiedlichen Gruppen hinzu, wenn ein Bogen zwischen den zwei Knoten im Transitgraphen austrat.Once the GGS module 107 the station nodes and onboard nodes of the transit graph has been grouped adds 511 the GGS module adds arcs between the groups. In one embodiment, the GGS module analyzes 107 the ungrouped representation of the transit graph and determines if at least one arc existed between two nodes in the transit graph belonging to the different station node groups or onboard node groups. The GGS module 107 adds an arc between the different groups if an arc emerged between the two nodes in the Transgraph.
Das GGS-Modul 107 bestimmt 513 dann Kosten für jeden Bogen in der gruppierten Darstellung des Transitgraphen. In einer Ausführungsform bestimmt das GGS-Modul 107 für jeden Bogen zwischen zwei Gruppen vom Transitgraphen jedes Paar von Knoten, das über einen Bogen im Transitgraphen verbunden ist, wobei jeder Knoten im Paar zu den zwei unterschiedlichen Gruppen gehört, die verbunden sind. Im Wesentlichen erzeugt das GSS-Modul 107 einen Satz von Paaren von Knoten vom Transitgraphen, die verbunden sind und zum Paar von Gruppen gehören, die verbunden sind. Das GSS-Modul 107 bestimmt anhand des Satzes, welches Paar von Knoten mit den Mindestkosten verbunden ist, und ordnet 515 die Mindestkosten dem Bogen zwischen den zwei Gruppen im gruppierten Transitgraphen zu.The GGS module 107 certainly 513 then cost for each arc in the clustered graph of the transit graph. In one embodiment, the GGS module determines 107 for each arc between two groups of the transit graph, each pair of nodes connected via an arc in the transit graph, each node in the pair belonging to the two different groups that are connected. In essence, the GSS module generates 107 a set of pairs of nodes of the transit graph that are connected and belong to the pair of groups that are connected. The GSS module 107 determines and orders by the set which pair of nodes is associated with the minimum cost 515 the minimum cost to the arc between the two groups in the grouped transit graph.
In einer Ausführungsform soll die gruppierte Darstellung des Transitgraphen zeitabhängig sein, da die Knoten, die verwendet werden, um eine Zeit im Transitgraphen zu tragen, in Knotengruppen abgeflacht wurden, um den Zeitaspekt nicht zu tragen. Da jede Knotengruppe in der gruppierten Darstellung des gruppierten Transitgraphen ähnliche Knoten über die Zeit darstellt, wird der resultierende Transitgraph als zeitunabhängig angesehen, da die Knotengruppen nicht mehr mit einer bestimmten Zeit verbunden sind.In one embodiment, the clustered representation of the transit graph should be time-dependent, since the nodes used to carry a time in the transit graph have been flattened in nodegroups so as not to carry the time aspect. Since each node group in the clustered graph of the clustered graph represents similar nodes over time, the resulting transit graph is considered time-independent because the node groups are no longer associated with a particular time.
Als Nächstes wendet 517 das GGS-Modul 107 den Dijkstra-Algorithmus wiederholt an, wobei jedes Mal auf Zufallsbasis eine Stationsgruppe als die Quelle genommen wird (d. h. alle kontraktierten Knoten, die zu dieser Stationsknotengruppe gehören, sind die Quelle der Suche des kürzesten Wegs), um den kürzesten Weg hinsichtlich der Kosten zu bestimmen. Wir weisen darauf hin, dass die Durchführung des Dijkstra-Algorithmus hierin nicht beschrieben ist, da dies auf dem Gebiet bekannt ist. In einer Ausführungsform wendet das GGS-Modul 107 den Dijkstra-Algorithmus auf mehrere zufällige Proben von Stationsknotengruppen im zeitabhängigen Graphen an. Die Anwendung des Dijkstra-Algorithmus resultiert in einer kürzesten Wegstruktur bei jeder Anwendung des Algorithmus.Next applies 517 the GGS module 107 repeatedly using the Dijkstra algorithm, each time randomly taking a station group as the source (ie, all contracted nodes belonging to that station node group are the source of the shortest path search) to determine the shortest path in terms of cost , It should be noted that the implementation of the Dijkstra algorithm is not described herein since it is known in the art. In one embodiment, the GGS module applies 107 the Dijkstra algorithm on several random samples of station node groups in the time-dependent graph. The application of the Dijkstra algorithm results in a shortest path structure every time the algorithm is used.
Das GGS-Modul 107 bestimmt Punktzahlen 519 für jede Stationsknotengruppe in den Strukturen, die aus dem Dijkstra-Algorithmus resultieren. In einer Ausführungsform weist das GGS-Modul 107 einer gegebenen Stationsknotengruppe eine Punktzahl basierend auf der Anzahl von Stationsknotengruppen in der Unterstruktur zu, die sich unter der gegebenen Stationsknotengruppe befindet, der eine Punktzahl gegeben wird. Das GGS-Modul 107 erzeugt eine Gesamtpunktzahl für jede Stationsknotengruppe durch Summieren der Punktzahlen für jede Stationsknotengruppe von den unterschiedlichen Strukturen, die aus den Anwendungen des Dijkstra-Algorithmus resultieren.The GGS module 107 determines scores 519 for each station node group in the structures resulting from the Dijkstra algorithm. In one embodiment, the GGS module 107 a given station node group, a score based on the number of station node groups in the substructure that is below the given station node group that is given a score. The GGS module 107 generates a total score for each station node group by summing the scores for each station node group from the different structures resulting from the applications of the Dijkstra algorithm.
Sobald eine Gesamtpunktzahl für jede Stationsknotengruppe erzeugt wurde, wählt 521 das GGS-Modul 107 Globalstationen basierend auf den Gesamtpunktzahlen aus. In einer Ausführungsform wählt das GGS-Modul 107 nur einen kleinen Prozentsatz von Stationsknotengruppen aus. Das GGS-Modul 107 ordnet die Globalstationen in absteigender Reihenfolge basierend auf den Gesamtpunktzahlen an, und wählt das obere eine Prozent der Globalstationen aus, was somit in einem Satz von Globalstationen 503 resultiert. Once a total score has been generated for each station node group, selects 521 the GGS module 107 Global Stations based on the total scores. In one embodiment, the GGS module selects 107 only a small percentage of station node groups. The GGS module 107 assigns the global stations in descending order based on the total scores, and selects the top one percent of the global stations, thus in a set of global stations 503 results.
3. Vorberechnen von Direktverbindungsinformationen3. precalculation of direct connection information
Unter erneuter Bezugnahme auf 2 führt das Direktverbindungsmodul 113 in der dritten Stufe des Vorberechnungsverfahrens eine Vorberechnung 203 der Direktverbindungsinformationen unter Verwendung des Transitgraphen durch. In einer Ausführungsform ist eine Direktverbindungsfahrt eine Fahrt von einer Quellenstation zu einer Zielstation ohne Wechsel. Obwohl eine Fahrt Halte an Zwischenstationen zwischen der Quellenstation und der Zielstation beinhalten kann, wird die Fahrt als eine Direktverbindungsfahrt angesehen, solange ein Wechsel nicht an einer Zwischenstation erfolgt. Hinsichtlich des Transitgraphen ist eine Direktverbindungsfahrt eine Fahrt ohne Wechsel, die von einem Stationsknoten im Transitgraphen abgeht und an einem Onboard-Knoten ankommt, der mit der Zielstation im Transitgraphen verbunden ist.Referring again to 2 leads the direct connection module 113 in the third stage of the pre-calculation process, a pre-calculation 203 of direct connection information using the transit graph. In one embodiment, a direct link ride is a ride from a source station to a destination station without change. Although a journey may include stops at intermediate stations between the source station and the destination station, the journey is considered to be a direct connection ride unless a change is made at an intermediate station. With regard to the transit graph, a direct link ride is a no-change ride departing from a station node in the transit graph and arriving at an onboard node connected to the destination station in the transit graph.
Unter nun erfolgender Bezugnahme auf 6 ist ein Ablaufdiagramm eines Verfahrens zum Berechnen von Direktverbindungsinformationen dargestellt, das durch ein Direktverbindungsmodul 113 ausgeführt wird. In einer Ausführungsform nimmt das Direktverbindungsmodul 113 als eine Eingabe den Transitgraphen von FIG. 505. Das Direktverbindungsmodul 113 bestimmt 601 (d. h. nutzt) den Transitgraphen und identifiziert Fahrten. Das heißt, dass das Direktverbindungsmodul 113 Wege im Transitgraphen identifiziert, die ein einzelnes Transitfahrzeug darstellen, das über einen Satz von Stationen zu gegebenen Zeiten des Tages fährt. Da nur ein einzelnes Fahrzeug auf der Reise verwendet wird, impliziert dies, dass die Reise eine Direktfahrt ist.Now referring to 6 FIG. 3 is a flow chart of a method of calculating direct connection information that is represented by a direct connection module 113 is performed. In one embodiment, the direct connect module is taking 113 as an input, the transit graph of FIG. 505 , The direct connection module 113 certainly 601 (ie use) the transit graph and identify trips. That is, the direct connection module 113 Paths identified in the transit graph representing a single transit vehicle traveling over a set of stations at given times of the day. Since only a single vehicle is used on the trip, this implies that the journey is a direct drive.
Das Direktverbindungsmodul 113 bestimmt 603 dann Transitlinien. In einer Ausführungsform ist eine Transitlinie ein Satz von Fahrten, die eine Quellenstation und eine Zielstation verbinden, wobei jede Fahrt in der Linie durch dieselben Stationen in derselben Reihenfolge oder Folge geht. Das heißt, jede Fahrt in der Transitlinie weist dieselbe Quellenstation, Zielstation und Satz von Zwischenstationen auf, die zwischen der Quellenstation und der Zielstation positioniert sind, wo Halte durch ein Transitfahrzeug durchgeführt werden, das mit der Fahrt verbunden ist. In einer Ausführungsform weist jede Fahrt in einer Transitlinie auch dieselbe Strafe auf. Wenn daher die Strafe der zwei Fahrten anders ist, dann würden die Fahrten nicht in derselben Transitlinie beinhaltet sein, selbst wenn die zwei Fahrten dieselbe Quellenstation aufweisen und in derselben Reihenfolge durch dieselben Stationen gehen. Wir weisen darauf hin, dass eine Fahrt in einer Transitlinie möglicherweise nur die Quellenstation und Zielstation beinhaltet, wenn kein Halt an einer Zwischenstation durchgeführt wird. Die Fahrten in der Transitlinie werden von einander basierend auf den Ankunft-/Abfahrtszeiten von der Quellenstation, Abfahrtsstation und/oder Zwischenstationen unterschieden, an denen Halte entlang der Fahrt durchgeführt werden.The direct connection module 113 certainly 603 then transit lines. In one embodiment, a transit line is a set of trips connecting a source station and a destination station, with each trip in the line going through the same stations in the same order or sequence. That is, each trip in the transit line has the same source station, destination station and set of intermediate stations positioned between the source station and the destination station where stops are made by a transit vehicle connected to the ride. In one embodiment, each trip in a transit line also has the same penalty. Therefore, if the penalty of the two trips is different, then the trips would not be included in the same transit line, even if the two trips have the same source station and go through the same stations in the same order. Please note that a trip in a transit line may only include the source station and the destination station if no stop is made at an intermediate station. The trips in the transit line are distinguished from each other based on the arrival / departure times from the source station, departure station and / or intermediate stations at which stops are made along the journey.
In einer Ausführungsform verbindet das Direktverbindungsmodul 113 für jede Fahrt in der Transitlinie einen Punkt Art mit jeder Station auf der Fahrt. Jede Station wird als ein Punkt entlang der Fahrt angesehen, und der Punkt Art beschreibt das Ereignis, das am Punkt eintritt. Das Direktverbindungsmodul 113 weist einen Punkt Art von „Einstiegspunkt” für jeden Stationsknoten zu und weist einen Punkt Art von „Ausstiegspunkt” für jeden Onboard-Knoten zu. Das Direktverbindungsmodul 113 weist dann jedem Knoten einen Punktindex zu und sortiert die Fahrt in einer kanonischen Reihenfolge unter Verwendung der Punkte, die mit jedem Knoten verbunden sind, basierend auf zwei Eigenschaften:
- 1. Es gibt keinen Weg von einem Punkt auf der Fahrt mit einem höheren Index zu einem Punkt mit einem niedrigerem Index.
- 2. Es gibt immer einen Weg von einem Einstiegspunkt mit einem niedrigeren Index zu einem Ausstiegspunkt mit einem höheren Index.
In one embodiment, the direct connect module connects 113 for each trip in the transit line one point kind with each station on the trip. Each station is considered a point along the way, and the point type describes the event that occurs at the point. The direct connection module 113 assigns a point type of "entry point" for each station node and assigns a point type of "exit point" for each onboard node. The direct connection module 113 then assigns each node a point index and sorts the trip in a canonical order using the points associated with each node based on two properties: - 1. There is no way from a point on the way up with a higher index to a point with a lower index.
- 2. There is always a way from an entry point with a lower index to an exit point with a higher index.
In einer Ausführungsform weist das Direktverbindungsmodul 113 jedem Knoten auch eine kumulative Strafe zu. Die kumulative Strafe beschreibt die Gesamtstrafe zwischen einem Einstiegspunkt und einem Ausstiegspunkt auf der Fahrt. Die kumulative Strafe wird jedem Knoten hinzugefügt, um das Bedürfnis zu umgehen, jeden Bogen zu analysieren, der ein Paar von Knoten verbindet, um die Strafe zwischen den Knoten zu bestimmen. Vielmehr kann das Direktverbindungsmodul 113 die kumulative Strafe durch Subtrahieren der kumulativen Strafe am Einstiegspunkt von der kumulativen Strafe am Ausstiegspunkt bestimmen. Sobald das Direktverbindungsmodul 113 die oben beschriebenen Informationen zur Fahrt integriert hat, werden die Fahrtinformationen gespeichert. Daher würde jeder Knoten im Transitgraphen, der mit einer Direktverbindungsfahrt verbunden ist, einem einzigen Triplet entsprechen. Jedes Triplet beinhaltet die Linien-ID, die die Transitlinie beschreibt, die mit dem Knoten verbunden ist, eine Fahrt-ID, die die Fahrt von der Transitlinie beschreibt, und einen Punktindex.In one embodiment, the direct connect module 113 each node also has a cumulative penalty. The cumulative penalty describes the total penalty between an entry point and an exit point on the journey. The cumulative penalty is added to each node to overcome the need to analyze each arc connecting a pair of nodes to determine the penalty between the nodes. Rather, the direct connection module 113 determine the cumulative penalty by subtracting the cumulative penalty at the entry point from the cumulative penalty at the exit point. Once the direct connection module 113 has integrated the travel information described above, the trip information is stored. Therefore, each node in the transit graph associated with a direct link journey would correspond to a single triplet. Each triplet contains the line ID, which is the transit line describing the travel from the transit line and a point index.
Unter nun erfolgender Bezugnahme auf 7 ist dort eine exemplarische Darstellung einer Transitlinie dargestellt, die einen Stationsknoten (z. B. AS) darstellt, der die Quellenstation und eine Mehrzahl von Onboard-Knoten (z. B. BO, DO, EO und FO) darstellt, die durch Bögen 701 verbunden sind.Now referring to 7 there is shown an exemplary representation of a transit line representing a station node (eg, A s ) representing the source station and a plurality of onboard nodes (eg, B 0 , D 0 , E 0, and F 0 ) passing through arches 701 are connected.
Jeder Knoten ist mit einem Punktindex 703 verbunden, der durch das Direktverbindungsmodul 113 zugewiesen wurde. 7 veranschaulicht auch eine Strafe, die jedem Bogen zugewiesen wird, der die Strafe zwischen den Knoten beschreibt, die durch den Knoten verbunden sind. Nachfolgend wird eine Direktverbindungstabelle dargestellt, die Informationen über die optimale Fahrt beinhaltet. Die Transitlinie veranschaulicht die Speicherarchitektur der Direktverbindungsfahrten in der Direktverbindungsdatenbank 125. Beispiel einer Transitlinie TGraph Stations-ID A B D E F
Punktindex 0 1 2 3 4
Punkt Art Einsteigen Aussteigen Aussteigen Aussteigen Aussteigen
Kumulative Strafe 0 1 6 7 11
Zeiten von Fahrt 23 8:00 8:15 8:30 9:45 10:00
Zeiten von Fahrt 55 9:00 9:15 9:30 9:50 10:15
Zeiten von Fahrt 60 11:00 11:15 12:00 12:30 13:00
Zeiten von Fahrt 100 11:30 12:00 13:00 13:15 13:30
Zeiten von Fahrt 18 12:00 12:15 12:45 13:00 15:00
Each node is with a point index 703 connected by the direct connection module 113 was assigned. 7 also illustrates a penalty assigned to each arc describing the penalty between the nodes connected by the node. The following is a direct link table that provides information about the optimal ride. The transit line illustrates the memory architecture of the direct connections in the direct connection database 125 , Example of a transit line TGraph station ID A B D e F
point Index
0 1 2 3 4
Point art Enter Get out Get out Get out Get out
Cumulative penalty 0 1 6 7 11
Times of drive 23 8:00 8:15 8:30 9:45 10:00
Times of ride 55 9:00 9:15 9:30 9:50 10:15
Times of ride 60 11:00 11:15 12:00 12:30 13:00
Times of ride 100 11:30 12:00 13:00 13:15 13:30
Times of ride 18 12:00 12:15 12:45 13:00 15:00
Sobald alle Transitlinien vom Transitgraphen bestimmt wurden, analysiert 605 das Direktverbindungsmodul 113 die Transitlinien. Das Direktverbindungsmodul 113 bestimmt von den Transitlinien eine Direktverbindungstabelle. Die Direktverbindungstabelle ist eine Liste geordneter Paare von Stationen und ein Satz von Linien für jedes Paar, das Einsteigen an einer Quellenstation im Paar, und Aussteigen an einer Zielstation im Paar beschreibt. Im Allgemeinen bestimmt das Direktverbindungsmodul 113 Direktverbindungen 607 für die möglichen Paare von Stationen im Transitgraphen. Nachfolgend ist ein Beispiel einer Direktverbindungstabelle. Beispiel einer Direktverbindungstabelle Stationspaar Linien-IDs
(A, B) L1, L4, L5 und L9
(A, C) L2 und L3
(B, A) Entfällt
(B, C) L4, L5 und L9
... ...
Once all transit lines have been determined by the transit graph, analyzed 605 the direct connection module 113 the transit lines. The direct connection module 113 determines from the transit lines a direct connection table. The direct link table is a list of ordered pairs of stations and a set of lines for each pair describing boarding at a source station in the pair and boarding at a destination station in the pair. In general, the direct connection module determines 113 direct 607 for the possible pairs of stations in the transit graph. The following is an example of a direct connection table. Example of a direct connection table station couple Line IDs
(A, B) L 1 , L 4 , L 5 and L 9
(A, C) L 2 and L 3
(B, A) Not applicable
(B, C) L 4 , L 5 and L 9
... ...
Die exemplarische Direktverbindungstabelle oben veranschaulicht eine Liste von Stationspaaren und die Liste von Linien-IDs von jedem Paar, die Transitlinien angeben, die Fahrten von der Quellenstation zur Zielstation im Paar beinhalten. Beispielsweise weist Stationspaar (A, B) verbundene Linien-IDs von L1, L4, L5 und L2 auf. Dies gibt an, dass die Transitlinien, die mit diesen Linien-IDs verbunden sind, Fahrten aufweisen, die es einer Person ermöglichen, an Station A einzusteigen und an Station B auszusteigen. Als ein anderes Beispiel betrachten wir Stationspaar (B, A), das keine Fahrten aufweist, bei denen eine Person an Station B einsteigen und an Station A aussteigen kann.The exemplary direct connection table above illustrates a list of station pairs and the list of line IDs of each pair indicating transit lines that include journeys from the source station to the destination station in the pair. For example, station pair (A, B) has connected line IDs of L 1 , L 4 , L 5 and L 2 . This indicates that the transit lines associated with these line IDs have trips that allow a person to enter station A and exit station B. As another example, consider station pair (B, A) that has no trips where a person can get into station B and get off at station A.
4. Wechselmusterberechnung4. Pattern calculation
Unter erneuter Bezugnahme auf 2 berechnet 205 das Wechselmusterberechnungs(TPC)-Modul 109 in der vierten Stufe des Vorberechnungsprozesses optimale Wechselmuster. Wie zuvor erwähnt, beschreibt ein Wechselmuster einer Reise die Folge von Transitfahrzeugwechseln an einer oder mehreren Stationen, die durchgeführt werden müssen, um den Zielort der Reise zu erreichen. Die optimalen Wechselmuster beschreiben die Routen zum Erreichen einer Zielstation von einer Quellenstation mit minimalen Kosten. Wir weisen daraufhin, dass das optimale Wechselmuster das Wechselmuster einer Reise ist, die zu einer bestimmten Zeit und für eine Kostenmetrik optimal ist. Daher können unterschiedliche Reisen, die unterschiedlichen Wechselmustern folgen, zu unterschiedlichen Zeiten des Tages optimal, und davon abhängig sein, ob die Optimierung auf der Dauer des Transits, der Menge an Gehen, der Anzahl von Wechseln oder anderer Metrik basiert. In einer Ausführungsform berechnet das TPC-Modul 109 Wechselmuster gemäß drei unterschiedlichen Ausführungsformen: genaue Wechselmusterberechnung ohne Globalstationen, genaue Wechselmusterberechnung mit Globalstationen und heuristische Wechselmusterberechnung mit Globalstationen. Jede Ausführungsform wird hierin beschrieben.Referring again to 2 calculated 205 the change pattern calculation (TPC) module 109 in the fourth stage of the pre-calculation process, optimal change patterns. As previously mentioned, a change pattern of a journey describes the sequence of transit vehicle changes at one or more Stations that need to be performed to reach the destination of the journey. The optimal switching patterns describe the routes to reach a destination station from a source station with minimal cost. We point out that the optimal change pattern is the change pattern of a trip that is optimal at a given time and for a cost metric. Therefore, different trips that follow different swap patterns may be optimal at different times of the day, depending on whether the optimization is based on the duration of the transit, the amount of walking, the number of swaps, or other metric. In one embodiment, the TPC module calculates 109 Change patterns according to three different embodiments: exact calculation of change patterns without global stations, exact exchange pattern calculation with global stations and heuristic exchange pattern calculation with global stations. Each embodiment is described herein.
A. Genaue Wechselmusterberechnung ohne GlobalstationenA. Exact change pattern calculation without global stations
In einer Ausführungsform berechnet das TPC-Modul 109 Wechselmuster ohne Verwendung von Globalstationen. Unter nun erfolgender Bezugnahme auf 8 ist ein Ablaufdiagramm dargestellt, das durch das TPC-Modul 109 ausgeführt wird, um optimale Wechselmuster 811 gemäß dieser Ausführungsform zu berechnen. In einer Ausführungsform wird das Verfahren, das in 8 dargestellt ist, für jede Station zu allen anderen Stationen ausgeführt, um optimale Wechselmuster zwischen jedem Paar von Stationen zu bestimmen. Zwecks einfacherer Abhandlung wird das Verfahren unter Bezugnahme auf eine Startstation (d. h. Quelle) und eine Zielstation beschrieben.In one embodiment, the TPC module calculates 109 Change pattern without the use of global stations. Now referring to 8th a flowchart is shown by the TPC module 109 is executed to optimal change pattern 811 according to this embodiment. In one embodiment, the method is described in 8th is executed for each station to all other stations to determine optimal switching patterns between each pair of stations. For ease of discussion, the method will be described with reference to a starting station (ie, source) and a destination station.
In einer Ausführungsform nimmt das TPC-Modul 109 den Transitgraphen 505 als Eingabe. Das TPC-Modul 109 initialisiert 801 alle der Stationsknoten des Quellenstation im Transitgraphen. Das heißt, dass das TPC-Modul 109 ein Label mit Nullkosten jedem Stationsknoten der Quellenstation zuweist. Daher weist jeder Stationsknoten eine Dauer von Null und eine Strafe von Null auf, die in seinem Label aufgeführt sind. Wie zuvor erwähnt stellt jeder Stationsknoten der Station unterschiedliche Abfahrtszeiten von der Station dar.In one embodiment, the TPC module takes 109 the transit graph 505 as input. The TPC module 109 initialized 801 all of the station nodes of the source station in the transit graph. That is, the TPC module 109 assigns a zero cost label to each station node of the source station. Therefore, each station node has a duration of zero and a penalty of zero listed in its label. As previously mentioned, each station node of the station represents different departure times from the station.
Sobald die Stationsknoten initialisiert wurden, führt 803 das TPC-Modul 109 eine Pareto-Dijkstra-Suche von jedem Stationsknoten vom Startstandort zu jedem Knoten am Zielknoten aus. In einer Ausführungsform ist eine Pareto-Dijkstra-Suche eine Erkundung eines Graphen, die ähnlich einer Dijkstra-Suche ist, mit der Ausnahme, dass das TPC-Modul 109 Knoten mit einem multidimensionalen Label kennzeichnet, wie z. B. (Strafe, Dauer) anstatt einem einzelnen Kostenpunkt, was typisch für den Dijkstra-Algorithmus ist. Eine Pareto-Dijkstra-Suche hält für jeden Knoten einen Satz von pareto-optimalen Labeln aufrecht. Bei Dijkstra gibt es nur einen optimalen Kostenpunkt, während das Vorhandensein von multidimensionalen Labeln in einer Pareto-Dijkstra-Suche viele potenzielle optimale Label hervorbringt. Nehmen wir beispielsweise an, dass der Label-Satz aus einer Pareto-Dijkstra-Suche resultiert, wobei der Satz {(Strafe = 3, Dauer = 10), (Strafe = 5, Dauer = 7) und (Strafe = 8, Dauer = 2)} beinhaltet. In diesem Beispiel werden alle Label als optimal betrachtet, da kein Label hinsichtlich der multidimensionalen Kosten strenggenommen besser als ein anderes ist.Once the station nodes have been initialized, performs 803 the TPC module 109 perform a Pareto-Dijkstra search from each station node from the starting location to each node at the destination node. In one embodiment, a Pareto-Dijkstra search is an exploration of a graph that is similar to a Dijkstra search, with the exception that the TPC module 109 Marking nodes with a multidimensional label, such as Eg (penalty, duration) rather than a single cost point, which is typical of the Dijkstra algorithm. A Pareto-Dijkstra search maintains a set of Pareto-optimal labels for each node. At Dijkstra there is only an optimal cost point, while the presence of multidimensional labels in a Pareto-Dijkstra search yields many potential optimal labels. For example, suppose the label set results from a Pareto-Dijkstra search, using the sentence {(penalty = 3, duration = 10), (penalty = 5, duration = 7) and (penalty = 8, duration = 2)}. In this example, all labels are considered optimal because no label, strictly speaking, is better than another in terms of multidimensional cost.
Als Ergebnis der Pareto-Dijkstra-Suche stellt das TPC-Modul 109 eine optimale Route von jedem Quellenknoten bereit, die zu einem speziellen Zielknoten an der Zielstation führt. Jede Route kann unterschiedliche Stationen beinhalten, bei denen ein Wechsel zwischen der Quellenstation und Zielstation eintritt. In einer Ausführungsform weist jeder Knoten in der Route ein entsprechendes Label-Set auf, das Kosten hinsichtlich Strafe und Dauer spezifiziert. Das TPC-Modul 109 weist die Label im Label-Satz basierend auf den Kosten zu, die mit den Bögen in der Route verbunden sind, wie durch den Transitgraphen beschrieben.As a result of the Pareto Dijkstra search, the TPC module provides 109 provide an optimal route from each source node leading to a particular destination node at the destination station. Each route may include different stations where a change occurs between the source station and destination station. In one embodiment, each node in the route has a corresponding label set that specifies penalty and duration costs. The TPC module 109 assigns the labels in the label set based on the costs associated with the arcs in the route, as described by the transit graph.
Für jede Station bestimmt 805 das TPC-Modul 109 die dominanten Label. In einer Ausführungsform wird jeder Knoten im Transitgraphen mit einem Satz von optimalen Labeln verbunden, nachdem eine Pareto-Dijkstra-Suche abgeschlossen wurde. Das TPC-Modul 109 bestimmt die optimalen Wege durch Zurückverfolgung von den Labeln an der Zielstation zur Quellenstation, von denen die optimalen Label bestimmt wurden.Intended for each station 805 the TPC module 109 the dominant label. In one embodiment, each node in the transit graph is associated with a set of optimal labels after a Pareto-Dijkstra search has been completed. The TPC module 109 determines the optimal paths by tracing back from the labels at the destination station to the source station from which the optimal labels were determined.
In einer Ausführungsform entspannt das TPC-Modul 109 die Label-Sätze an jedem Onboard-Knoten. Gemäß einer Ausführungsform umfasst die Entspannung der Label-Sätze, dass das TPC-Modul 109 Label von einem Label-Satz in einen anderen Label-Satz propagiert, der ihre Pareto-Optimalität erhält. Das heißt, wenn Label von einem ersten Label-Satz einem zweiten Label-Satz hinzugefügt werden, dass alle Label, die in allen Kostendimensionen von anderen Labeln dominiert werden, vom zweiten Label-Satz entfernt (d. h. gefiltert) werden. In einer Ausführungsform bestimmt das TPC-Modul 109, dass ein Kostenpaar (d1, p1) für Weg 1 Kostenpaar (d2, p2) für Weg 2 dominiert, wenn die folgende Bedingung erfüllt ist: d1 ≤ d2 und p1 ≤ p2 In one embodiment, the TPC module relaxes 109 the label sets at each onboard node. According to one embodiment, the relaxation of the label sets comprises that of the TPC module 109 Propagates label from one label set to another label set that preserves its Pareto optimality. That is, when adding labels from a first label set to a second label set, all labels that are dominated by other labels in all cost dimensions are removed from the second label set (ie, filtered). In one embodiment, the TPC module determines 109 in that a cost pair (d1, p1) for path 1 cost pair (d2, p2) dominates for path 2 if the following condition is met: d1 ≤ d2 and p1 ≤ p2
Das TPC-Modul A109 bestimmt, dass das Kostenpaar für Weg 1 das Kostenpaar für Weg 2 dominiert, wenn die Dauer von Weg 1 kleiner oder gleich der Dauer von Weg 2 ist, und die Strafe von Weg 1 kleiner oder gleich der Strafe von Weg 2 ist. Mit anderen Worten ausgedrückt dominiert Weg 1 Weg 2, wenn Weg 1 in allen Kostendimensionen besser als Weg 2 ist. Wenn beispielsweise Weg 1 eine Dauer von 3600 Sekunden und eine Strafe von 100 aufweist, während Weg 2 eine Dauer von 5400 Sekunden und eine Strafe von 200 aufweist, dann dominiert Weg 1 Weg 2 hinsichtlich Dauer und Strafe. Daher verhindert die Entspannung eines Label-Satzes, dass der zweite Label-Satz sich in der Anzahl erhöht, indem die dominierten Label entfernt werden. Vielmehr wird jeder Label-Satz in der Anzahl von Labeln unter Verwendung von Entspannung reduziert. Die nach der Entspannung im Label-Satz verbleibenden Label werden als die dominanten Label angesehen. In einer Ausführungsform dominiert das Label mit der früheren Ankunftszeit, wenn zwei Label hinsichtlich Dauer und Strafe gleich sind. The TPC module A109 determines that the Cost Pair for Route 1 dominates the cost pair for Path 2 if the duration of Path 1 is less than or equal to the duration of Path 2, and the penalty of Path 1 is less than or equal to the penalty of Path 2 is. In other words, path 1 dominates path 2 if path 1 is better than path 2 in all cost dimensions. For example, if route 1 has a duration of 3600 seconds and a penalty of 100, while route 2 has a duration of 5400 seconds and a penalty of 200, then route 1 will dominate route 2 in terms of duration and penalty. Therefore, relaxing a label set prevents the second label set from increasing in number by removing the dominated labels. Rather, each label set is reduced in the number of labels using relaxation. The remaining labels after relaxation in the label set are considered the dominant labels. In one embodiment, the label dominates with the earlier time of arrival when two labels are equal in duration and penalty.
Betrachten wir beispielsweise die Onboard-Knoten an Station A. Das TPC-Modul 109 entspannt den Label-Satz an jedem Onboard-Knoten an Station A durch Verbreiten des Label-Satzes entlang virtueller Wartebögen. Beispielsweise verbreitet das TPC-Modul 109 ein Label (Strafe = 100, Dauer = 600) eines Onboard-Knotens an Station A bei Zeit „T” zu allen Onboard-Knoten an derselben Station A. Das heißt, dass ein anderer Onboard-Knoten bei A zu Zeit „T + dt” das Label (Strafe = 100, Dauer = 600 + dt) empfängt. Das TPC-Modul 109 entfernt dann Label im Label-Satz an jedem Onboard-Knoten, die durch andere Label dominiert werden, basierend auf dem oben beschriebenen Dominationsfaktor. In einer Ausführungsform werden die Label-Sätze an Stationsknoten zu den Onboard-Knoten auf ähnliche Weise entspannt, wie oben beschrieben.For example, consider the onboard nodes at station A. The TPC module 109 relaxes the label set at each onboard node at station A by spreading the label set along virtual queue forms. For example, the TPC module is spreading 109 a label (penalty = 100, duration = 600) of an onboard node at station A at time "T" to all onboard nodes at the same station A. That is, another onboard node at A is "T + dt "Receives the label (penalty = 100, duration = 600 + dt). The TPC module 109 then removes labels in the label set at each onboard node dominated by other labels based on the above-described domination factor. In one embodiment, the label sets at station nodes are relaxed to the onboard nodes in a similar manner as described above.
Sobald die dominanten Label bestimmt wurden, berechnet 807 das TPC-Modul 109 die optimalen Wechselmuster durch Rückverfolgung der optimalen Wege von jedem dominanten Label, das in jedem Onboard-Knoten verbleibt, zurück zum Quellenknoten, vom die Suche ausgeführt wurde. Das TPC-Modul 109 kann auch die Wechselmuster für jeden optimalen Weg bestimmen, wenn der Weg bestimmt wird. Das heißt, dass das TPC-Modul 109 die Knoten analysiert, die in jedem optimalen Weg angegeben sind und bestimmt, welche Knoten mit Transitfahrzeugwechseln verbunden sind. Da jeder Knoten mit einer bestimmten Station verbunden ist, kann das TPC-Modul 109 das Wechselmuster vom Weg basierend auf den Knoten extrahieren, in denen ein Wechsel eintrat.Once the dominant labels have been determined, calculated 807 the TPC module 109 the optimal swap patterns by tracing the optimal paths from each dominant label remaining in each onboard node back to the source node from which the search was performed. The TPC module 109 can also determine the alternation patterns for each optimal path when the path is determined. That is, the TPC module 109 analyzes the nodes specified in each optimal path and determines which nodes are associated with transit vehicle transitions. Since each node is connected to a specific station, the TPC module can 109 extract the interchange pattern from the path based on the nodes where a change occurred.
Ein Beispiel des Bestimmens eines Wechselmusters von einem optimalen Weg ist wie folgt. Nehmen wir eine Pareto-Dijkstra-Suche von Station A an, die optimale Wege zu Station F ergab. Einer der ausgegebenen optimalen Wege ist eine Folge von Knoten, die mit einer Folge von Stationen ABDEF verbunden ist. Das TPC-Modul 109 analysiert die Informationen, die mit jedem Knoten im Weg verbunden sind, und bestimmt Wechsel, die an den Stationen B und E eingetreten sind. Daher extrahiert das TPC-Modul 109 das Wechselmuster von ABEF vom Weg.An example of determining a replacement pattern from an optimal path is as follows. Let's assume a Pareto Dijkstra search from Station A, which gave optimal routes to Station F. One of the output optimal paths is a sequence of nodes connected to a sequence of stations ABDEF. The TPC module 109 analyzes the information associated with each node in the path and determines changes that have occurred at stations B and E. Therefore, the TPC module extracts 109 the change pattern of ABEF from the path.
Sobald die Wechselmuster bestimmt sind, speichert 809 das TPC-Modul 109 das Wechselmuster zur späteren Verwendung. In einer Ausführungsform werden die dominanten Label entsorgt, wenn die Wechselmusterberechnung für jede Station abgeschlossen ist.Once the replacement patterns are determined, saves 809 the TPC module 109 the replacement pattern for later use. In one embodiment, the dominant labels are disposed of when the inter-pattern calculation for each station is completed.
B. Genaue Wechselmusterberechnung mit GlobalstationenB. Exact exchange pattern calculation with global stations
In einer Ausführungsform berechnet das TPC-Modul 109 Wechselmuster unter Verwendung der Globalstationen, die durch das Globalstationsauswahlmodul 107 bestimmt wurden. Um optimale Wechselmuster für den Transitgraphen zu bestimmen, fährt das TPC-Modul 109 eine einzelne globale Suche für jede Globalstation aus, die durch das GSS-Modul 107 bestimmt wird. In einer Ausführungsform ist eine globale Suche eine Pareto-Dijkstra-Suche von einer Globalstation im Transitgraphen, um Wege zu allen anderen Knoten zu bestimmen, die von der Globalstation im Transitgraphen erreichbar sind. Das heißt, dass das TPC-Modul 109 eine vollständige Graph-Erkundung von jeder Globalstation ausführt, um die optimale Art zum Erreichen einer anderen Station im Transitgraphen zu bestimmen. In einer Ausführungsform gibt es eine oder mehrere optimale Arten, um eine Station im Transitgraphen von einer Globalstation basierend auf unterschiedlichen Kriterien, wie z. B. Zeitdauer einer Fahrt und Strafe, zu erreichen.In one embodiment, the TPC module calculates 109 Change patterns using the global stations generated by the Global Station Selection module 107 were determined. In order to determine optimal patterns of change for the transit graph, the TPC module travels 109 a single global search for each global station through the GSS module 107 is determined. In one embodiment, a global search is a Pareto-Dijkstra search from a global station in the transit graph to determine routes to all other nodes reachable by the global station in the transit graph. That is, the TPC module 109 Perform a full graph exploration from each Global Station to determine the optimal way to reach another station in the Transit Graph. In one embodiment, there are one or more optimal ways to map a station in the transit graph from a global station based on different criteria, such as a transit time. B. duration of a trip and penalty to achieve.
Unter nun erfolgender Bezugnahme auf 9 ist ein Verfahren dargestellt, das durch das TPC-Modul 109 ausgeführt wird, um Wechselmuster gemäß diesem Ansatz zu bestimmen. Das TPC-Modul 109 bestimmt 900 alle Globalstationen von der Routeninformationsdatenbank 125. Im Allgemeinen führt 901 das TPC-Modul 109 für jede Globalstation eine einzelne globale Suche von der Globalstation aus. Insbesondere führt das TPC-Modul 109 eine einzelne Dijkstra-Suche im Transitgraphen von allen Knoten (Station und Onboard) von jeder Globalstation aus, um optimale Wege zu jedem anderen Knoten im Transitgraphen zu bestimmen, der von der Globalstation erreicht werden kann. In einer globalen Suche werden alle Knoten der Globalstation mit Nullkosten in der Dauer- und Strafdimension initialisiert.Now referring to 9 a method is shown by the TPC module 109 is executed to determine swapping patterns according to this approach. The TPC module 109 certainly 900 all global stations from the route information database 125 , In general leads 901 the TPC module 109 for each global station, a single global search from the global station. In particular, the TPC module performs 109 a single Dijkstra search in the transit graph of all nodes (station and onboard) from each GlobalStation to determine optimal routes to any other node in the Transitgraph can be reached from the global station. In a global search, all nodes of the global station are initialized with zero costs in the duration and penalty dimensions.
Für jeden optimalen Weg, der als ein Ergebnis der globalen Suche von einer Globalstation im Transitgraphen ausgegeben wird, bestimmt 903 das TPC-Modul 109 die globalen Wechselmuster von den ausgegebenen Wegen. In einer Ausführungsform sind die globalen Wechselmuster Wechselmuster, die aus einer globalen Suche resultieren. Das TPC-Modul 109 bestimmt die globalen Wechselmuster durch Analysieren der Knoten, die in jedem ausgegebenen Weg angegeben sind, und bestimmt, welche Knoten mit Transitfahrzeugwechseln verbunden sind. Da jeder Knoten mit einer bestimmten Station verbunden ist, kann das TPC-Modul 109 das Wechselmuster vom Weg basierend auf den Knoten extrahieren, in denen ein Wechsel eintrat, wie oben in der Abhandlung in Zusammenhang mit Wechselmusterberechnung ohne Verwendung von Globalstationen beschrieben.For each optimal path that is output as a result of the global search from a global station in the transit graph 903 the TPC module 109 the global patterns of change from the issued paths. In one embodiment, the global change patterns are change patterns resulting from a global search. The TPC module 109 determines the global swap patterns by analyzing the nodes specified in each issued path and determines which nodes are connected to transit vehicle swaps. Since each node is connected to a specific station, the TPC module can 109 extract the swap pattern from the path based on the nodes where a swap occurred, as described above in the discussion of swap calculation without the use of global stations.
Sobald die globalen Wechselmuster bestimmt werden, führt 905 das TPC-Modul 109 eine lokale Suche aus, um lokale Wechselmuster zu bestimmen. In einer Ausführungsform ist eine lokale Suche eine Suche von Stationsknoten einer Nicht-Globalstation (d. h. Lokalstation) basierend auf Kriterien. In einer Ausführungsform bestehen die Kriterien darin, den Transitgraphen zu erkunden, um die kürzesten Wege von den Stationsknoten von Lokalstationen zu anderen Stationen im Transitgraphen zu bestimmen, wo die kürzesten Wege keinen Wechsel an einer Globalstation im Weg beschreiben. Das heißt, dass das TPC-Modul 109 eine Suche von jedem Stationsknoten einer Lokalstation ausführt, um die optimalen Wege zu jeder anderen Station im Transitgraphen zu bestimmen.Once the global change patterns are determined, leads 905 the TPC module 109 a local search to determine local patterns of change. In one embodiment, a local search is a search of station nodes of a non-global station (ie, local station) based on criteria. In one embodiment, the criteria is to explore the transit graph to determine the shortest paths from the station nodes of local stations to other stations in the transit graph where the shortest paths do not describe a change in a global station in the path. That is, the TPC module 109 performs a search from each station node of a local station to determine the optimal routes to any other station in the transit graph.
Das TPC-Modul 109 bestimmt 907 dann die lokalen Wechselmuster von den optimalen Wegen. Im Allgemeinen ist ein lokales Wechselmuster ein Wechselmuster, das aus einer lokalen Suche resultiert. Das heißt, dass das TPC-Modul 109 die Knoten analysiert, die in jedem ausgegebenen Weg angegeben sind und bestimmt, welche Knoten mit Transitfahrzeugwechseln verbunden sind. Wie oben erwähnt, kann das TPC-Modul 109 das Wechselmuster vom Weg basierend auf den Knoten extrahieren, in denen ein Wechsel eintrat, da jeder Knoten mit einer bestimmten Station verbunden ist.The TPC module 109 certainly 907 then the local patterns of change from the optimal paths. In general, a local change pattern is a change pattern resulting from a local search. That is, the TPC module 109 analyzes the nodes specified in each issued path and determines which nodes are associated with transit vehicle transitions. As mentioned above, the TPC module can 109 Extract the swap pattern from the path based on the nodes where a switch occurred because each node is connected to a particular station.
Das TPC-Modul 109 analysiert dann weiter jedes extrahierte Wechselmuster um zu bestimmen, ob das Wechselmuster einen passiven Teil beinhaltet. In einer Ausführungsform ist der passive Teil eines Wechselmusters die Reihe von Stationen, die einem Wechsel an einer Globalstation im Wechselmuster folgt. Das heißt, dass wenn das Wechselmuster angibt, dass ein Wechsel an einer Globalstation eintrat, die Folge von verbleibenden Stationen im Wechselmuster als passiver Teil des Wechselmusters angesehen wird. Der Teil des Wechselmusters, der an der Quellenstation startet und an der Globalstation endet, an der ein Wechsel eintrat, wird als aktiver Teil des Wechselmusters angesehen. Gemäß einer Ausführungsform beinhaltet der aktive Teil des Wechselmusters die Globalstation. In einer Ausführungsform wird die im Wechselmuster beinhaltete Globalstation als eine Zugriffsstation der Lokalstation angesehen, von der die lokale Suche ausgeführt wurde. Eine Zugriffsstation ist im Wesentlichen eine Globalstation, die mit einer Lokalstation verbunden ist und zulässt, dass ein Transitfahrzeug von der Lokalstation eine Zielstation erreicht, die ansonsten ohne die Zugriffsstation unerreichbar gewesen wäre. Daher umfasst jede Lokalstation eine oder mehrere Zugriffsstationen, was aus der Bestimmung der lokalen Wechselmuster resultiert. Wir weisen darauf hin, dass ein lokales Wechselmuster keinen passiven Teil aufweisen muss. Wenn kein Wechsel an einer Globalstation im lokalen Wechselmuster eintritt oder wenn die letzte Station im lokalen Wechselmuster eine Globalstation ist, wird das gesamte lokale Wechselmuster als aktiv angesehen.The TPC module 109 then analyzes each extracted alternating pattern to determine if the alternating pattern includes a passive part. In one embodiment, the passive part of an alternate pattern is the series of stations that follows a change at a global station in the exchange pattern. That is, if the interchange pattern indicates that a change occurred at a global station, the sequence of remaining stations in the interchange pattern is considered a passive part of the interchange pattern. The part of the swap pattern that starts at the source station and ends at the global station where a switch occurred is considered an active part of the swap pattern. According to one embodiment, the active part of the swap pattern includes the global station. In one embodiment, the global station included in the swap pattern is considered to be an access station of the local station from which the local search was performed. An access station is essentially a global station that is connected to a local station and allows a transit vehicle from the local station to reach a destination station that would otherwise be unreachable without the access station. Therefore, each local station comprises one or more access stations, resulting from the determination of the local change patterns. We point out that a local exchange pattern does not have to have a passive part. If no change occurs at a global station in the local exchange pattern or if the last station in the local exchange pattern is a global station, the entire local exchange pattern is considered active.
Sobald die lokalen Wechselmuster bestimmt sind, speichert 909 das TPC-Modul 109 die globalen Wechselmuster und lokalen Wechselmuster in der Routeninformationsdatenbank 125. In einer Ausführungsform wird nur der aktive Teil von jedem lokalen Wechselmuster gespeichert.Once the local exchange patterns are determined, stores 909 the TPC module 109 the global swap patterns and local swap patterns in the route information database 125 , In one embodiment, only the active part of each local swap pattern is stored.
C. Heuristische Wechselmusterberechnung mit GlobalstationenC. Heuristic exchange pattern calculation with global stations
In einer Ausführungsform berechnet das TPC-Modul 109 Wechselmuster des Transitgraphen unter Verwendung der Globalstationen, die durch das Globalstationsauswahlmodul 107 basierend auf unterschiedlicher Heuristik oder Ansätzen bestimmt werden. In einer Ausführungsform werden die folgenden Ansätze durch das TPC-Modul 109 verwendet, um Wechselmuster mit Globalstationen zu berechnen:
- i. Dauer, entspannt durch Strafe
- ii. Lokale Suchen nach einer Anzahl von Wechseln anhalten
- iii. Lokale Suche an Bord einer Globalstation anhalten
- iv. Untergruppe von Wechselmustem verwenden, um alle optimalen Fahrten zu berücksichtigen
- v. Kürzen mit anfänglichen und abschließendem Gehen
In one embodiment, the TPC module calculates 109 Change patterns of the transit graph using the global stations generated by the Global Station Selection module 107 be determined based on different heuristics or approaches. In one embodiment, the following approaches are provided by the TPC module 109 used to calculate change patterns with global stations: - i. Duration, relaxed by punishment
- II. Pause local searches for a number of bounces
- iii. Stop local search aboard a global station
- iv. Use subgroup of change patterns to account for all optimal trips
- v. Shortening with initial and final walking
Jeder Ansatz ist nachfolgend detaillierter beschrieben.Each approach is described in more detail below.
i. Dauer, entspannt durch Strafei. Duration, relaxed by punishment
Unter nun erfolgender Bezugnahme auf 10A ist ein Verfahren dargestellt, das durch das TPC-Modul 109 ausgeführt wird, um Wechselmuster basierend auf Kosten von Wegen zu bestimmen. Die folgende Beschreibung wird hinsichtlich einer Quellenstation und einer Zielstation beschrieben. In einer Ausführungsform ist entweder die Quellenstation oder Zielstation eine Globalstation. In einer Ausführungsform wird der nachfolgend beschriebene Prozess durch das TPC-Modul 109 für jede mögliche Quellenstation im Transitgraphen wiederholt. Das TPC-Modul 109 bestimmt dadurch einen dominanten Weg für jede Quellenstation vom Transitgraphen, was einen Satz von Wechselmustem für jede Quellenstation zum Ergebnis hat.Now referring to 10A a method is shown by the TPC module 109 is executed to determine change patterns based on the cost of ways. The following description will be described with regard to a source station and a destination station. In one embodiment, either the source station or the destination station is a global station. In one embodiment, the process described below is performed by the TPC module 109 repeated for any source station in the transit graph. The TPC module 109 thereby determines a dominant path for each source station from the transit graph, resulting in a set of change patterns for each source station.
Zuerst führt das TPC-Modul 109 eine Pareto-Dijkstra-Suche 1001 auf dem Transitgraphen von der Quellenstation aus. Für jeden Knoten an der Quellenstation wird eine Pareto-Dijkstra-Suche ausgeführt, die in Wegen zu einem Knoten an jeder möglichen Zielstation resultiert. Daher resultiert die Dijkstra-Suche in einer Mehrzahl optimaler Wege von der Quellenstation zu jeder Zielstation.First is the TPC module 109 a Pareto-Dijkstra search 1001 on the transit graph from the source station. For each node at the source station, a Pareto-Dijkstra search is performed, resulting in ways to a node at each possible destination station. Therefore, the Dijkstra search results in a plurality of optimal paths from the source station to each destination station.
Als ein Teil der Dijkstra-Suche bestimmt 1003 das TPC-Modul 109 einen dominanten Weg aus den Wegen, die aus der Dijkstra-Suche resultieren, basierend auf Kosten. Das TPC-Modul 109 analysiert die kumulativen Kosten eines Paares von Wegen um zu bestimmen, welcher Weg dominant ist. In einer Ausführungsform weist ein dominanter Weg die niedrigsten Kosten hinsichtlich Dauer und Strafe im Vergleich zu den Kosten aller anderen, aus der Suche resultierenden Wege auf.As part of the Dijkstra search 1003 the TPC module 109 a dominant route out of the roads that result from the Dijkstra search, based on cost. The TPC module 109 analyzes the cumulative cost of a pair of ways to determine which path is dominant. In one embodiment, a dominant path has the lowest cost in terms of duration and penalty compared to the cost of all other search-resultant paths.
Gemäß einer Ausführungsform bestimmt das TPC-Modul 109 während der Pareto-Dijkstra-Suche, dass ein Kostenpaar (d1, p1) für Weg 1 Kostenpaar (d2, p2) für Weg 2 dominiert, wenn die folgenden Bedingungen erfüllt sind:
- 1. d1 ≤ d2 und p1 ≤ p2 oder
- 2. d1 < d2 und p1 ≥ p2 und [d1 + A·(p1 – p2)] ≤ d2 wobei A = 8
In one embodiment, the TPC module determines 109 during the Pareto-Dijkstra search, a cost pair (d1, p1) for way 1 cost pair (d2, p2) for way 2 dominates if the following conditions are met: - 1. d1 ≤ d2 and p1 ≤ p2 or
- 2. d1 <d2 and p1 ≥ p2 and [d1 + A * (p1-p2)] ≤ d2 where A = 8
In der ersten Bedingung, wie oben beschrieben, das TPC-Modul 109, dass das Kostenpaar für Weg 1 das Kostenpaar für Weg 2 dominiert, wenn die Dauer von Weg 1 kleiner oder gleich der Dauer von Weg 2 ist. Zusätzlich muss die Strafe von Weg 1 kleiner als oder gleich der Strafe von Weg 2 sein, damit das Kostenpaar für Weg 1 das Kostenpaar für Weg 2 dominiert.In the first condition, as described above, the TPC module 109 in that the cost pair for path 1 dominates the cost pair for path 2 if the duration of path 1 is less than or equal to the duration of path 2. In addition, the penalty of way 1 must be less than or equal to the penalty of way 2, so that the cost pair for way 1 dominates the cost pair for way 2.
Wenn das TPC-Modul 109 bestimmt, dass die Dauer von Weg 1 kleiner als die Dauer von Weg 2 ist, doch die Strafe von Weg 1 größer als oder gleich der Strafe von Weg 2 ist, führt das TPC-Modul 109 eine Berechnung basierend auf der Summierung der Dauer von Weg 1 aus, mit dem Unterschied, dass die Strafe von Weg 1 und Weg 2 mit einem Gewichtungsfaktor A multipliziert wird. In einer oben dargestellten Ausführungsform A = 8. In alternativen Ausführungsformen können jedoch andere Werte verwendet werden. Wenn das Ergebnis der Berechnung kleiner als oder gleich der Dauer von Weg 2 ist, dann bestimmt das TPC-Modul 109, dass Weg 1 Weg 2 dominiert. Nehmen wir beispielsweise an, dass Weg 1 eine Dauer von 3600 Sekunden und eine Strafe von 500 aufweist, während Weg 2 eine Dauer von 4000 Sekunden und eine Strafe von 100 aufweist. In diesem Beispiel gilt Bedingung 2, da die Dauer von Weg 1 kleiner als die Dauer von Weg 2 ist, doch die Strafe von Weg 1 größer als die Strafe von Weg 2 ist. Zum Bestimmen des dominanten Wegs wird die Formel für Bedingung 2 verwendet. Unter Verwendung der obigen Formel dominiert Weg 1 Weg 2 nicht, da [3600 + 8·(500 – 100)] gleich 4400 ist, was nicht kleiner als oder gleich der Dauer von Weg 2 ist. Daher dominiert Weg 1 in diesem Beispiel Weg 2 nicht. Sobald der dominante Weg bestimmt ist, bestimmt 1005 das TPC-Modul 109 das Wechselmuster des dominanten Weges.If the TPC module 109 determines that the duration of Path 1 is less than the duration of Path 2, but the penalty of Path 1 is greater than or equal to the penalty of Path 2, the TPC module performs 109 a calculation based on the summation of the duration of path 1, with the difference that the penalty of way 1 and way 2 is multiplied by a weighting factor A. In an embodiment shown above, A = 8. However, in alternative embodiments, other values may be used. If the result of the calculation is less than or equal to the duration of path 2, then the TPC module determines 109 that way 1 way 2 dominates. Suppose, for example, that path 1 has a duration of 3600 seconds and a penalty of 500, while route 2 has a duration of 4000 seconds and a penalty of 100. In this example, Condition 2 is true because the duration of Path 1 is less than the duration of Path 2, but the penalty of Path 1 is greater than the penalty of Path 2. To determine the dominant path, the formula for condition 2 is used. Using the above formula, path 1 does not dominate path 2 because [3600 + 8 * (500-100)] equals 4400, which is not less than or equal to the duration of path 2. Therefore, path 1 in this example does not dominate path 2. Once the dominant path is determined, determined 1005 the TPC module 109 the pattern of change of the dominant path.
Da der oben beschriebene Prozess für jede mögliche Quellenstation im Transitgraphen beschrieben ist, resultiert das TPC-Modul 109 in einem Satz von optimalen Wechselmustern, die dann gespeichert werden.Since the process described above is described for each possible source station in the transit graph, the TPC module results 109 in a set of optimal alternating patterns, which are then stored.
ii. Lokale Suchen nach einer Anzahl von Wechseln anhalten II. Pause local searches for a number of bounces
Unter nun erfolgender Bezugnahme auf 10B ist dargestellt, dass ein Verfahren durch das TPC-Modul 109 ausgeführt wird, um Wechselmuster zu einer Globalstation basierend auf der Heuristik zu bestimmen, dass in stark bevölkerten Bereichen eine Route für eine Fahrt im Allgemeinen an einer Globalstation mit minimaler Anzahl von Wechseln ankommt, und dass in ländlichen Bereichen wenige Stationen sind, an denen ein Wechsel unter einer großen Anzahl von Stationen stattfindet. In einer Ausführungsform arbeitet die Heuristik unter der Bedingung, dass eine Fahrt eine Globalstation innerhalb von zwei Transitfahrzeugwechseln erreichen muss (d. h. Transitfahrzeuge werden während der Fahrt verwendet). In anderen Ausführungsformen können anderen Anzahlen von Wechseln verwendet werden.Now referring to 10B is shown that a procedure by the TPC module 109 in order to determine global station switching patterns based on the heuristics that in heavily populated areas, a route for a trip generally arrives at a global station with a minimum number of bills, and that in rural areas there are few stations where a change occurs taking place under a large number of stations. In one embodiment, the heuristic operates on the condition that a trip must reach a global station within two transit vehicle bills (ie, transit vehicles are used while driving). In other embodiments, other numbers of changes may be used.
Zum Bestimmen eines Wechselmusters zu einer Globalstation führt 1007 das TPC-Modul 109 eine lokale Suche von einem gegebenen Startknoten im Transitgraphen aus. Wie oben beschrieben, ist eine lokale Suche eine Suche von einem Stationsknoten an einer lokalen Station, um optimale Wege zu anderen Stationen im Transitgraphen zu bestimmen. Das TPC-Modul 109 verfolgt die kürzesten Wege im Transitgraphen beginnend vom Startknoten, und strahlen zu anderen Knoten im Transitgraphen aus. Das TPC-Modul 109 bestimmt 1009 vom Weg, ob eine Globalstation innerhalb von zwei Transitfahrzeugwechseln ausgehend vom Startknoten erreicht wird. Insbesondere beginnend vom Startknoten bestimmt das TPC-Modul 109 für jeden nachfolgenden Knoten entlang der Route im Transitgraphen, ob ein Wechsel eintritt oder ob die mit dem Knoten verbundene Station eine Globalstation ist. Wenn höchstens zwei Wechsel vor dem Erreichen einer Globalstation eintreten, wird der Weg von Stationen, die zur Globalstation führen, als ein Wechselmuster angesehen.To determine a swap pattern to a global station leads 1007 the TPC module 109 a local search from a given start node in the transit graph. As described above, a local search is a search from a station node at a local station to determine optimal routes to other stations in the transit graph. The TPC module 109 tracks the shortest paths in the transit graph starting from the start node, and radiates to other nodes in the transit graph. The TPC module 109 certainly 1009 on the way, whether a global station is reached within two transit vehicle transits starting from the start node. In particular, starting from the start node, the TPC module determines 109 for each successive node along the route in the transit graph, whether a change occurs or whether the station connected to the node is a global station. If at most two changes occur before reaching a global station, the path from stations leading to the global station is considered a swap pattern.
Nehmen wir beispielsweise einen Startknoten an einer Lokalstation A im Transitgraphen an, der in einem Weg beinhaltet ist, auf dem die erste Globalstation entlang des Weges Station G ist. Der Knoten an Station A ist durch eine Reihe von Knoten verbunden, die den Weg von ABCDEFG darstellen. Nehmen wir an, dass keine Wechsel von Station A zu Station G eintreten. Ausgehend von Station A verfolgt das TPC-Modul 109 den Weg zurück und bestimmt, ob jede nachfolgende Station eine Globalstation ist, oder ob ein Wechsel an der nachfolgenden Station eintrat. Da kein Wechsel zwischen Stationen A und G eintritt, stoppt das TPC-Modul 109 in diesem Beispiel mit dem Durchqueren des Wegs, sobald es Station G erreicht. Daher ist das Wechselmuster für Weg ABCDEFG AG, was angibt, dass keine Wechsel zwischen Stationen A und G eintraten.For example, suppose a start node at a local station A in the transit graph included in a path where the first global station along the way is station G. The node at station A is connected by a series of nodes representing the path of ABCDEFG. Suppose that there are no changes from station A to station G. Starting from Station A, the TPC module is tracking 109 the way back and determines if each subsequent station is a global station, or if a change at the subsequent station occurred. Since there is no change between stations A and G, the TPC module stops 109 in this example, traversing the path as soon as it reaches station G. Therefore, the change pattern for path is ABCDEFG AG, indicating that no changes occurred between stations A and G.
Wenn ein Wechsel an einer Nicht-Globalstation eintritt, verfolgt das TPC-Modul 109 das Eintreten des Wechsels und wiederholt den Prozess, bis entweder eine Globalstation im Weg erreicht wird oder der dritte Wechsel an einer Nicht-Globalstation eintritt. Wenn das TPC-Modul 109 bestimmt, dass eine Globalstation innerhalb von zwei Wechseln erreicht wird, dann wird das mit dem Weg verbundene Wechselmuster bestimmt. Wenn das TPC-Modul 109 bestimmt, dass eine Globalstation nach einem Maximum von zwei Wechseln oder beim dritten Wechsel nicht erreicht wird, dann wird der unter Analyse stehende Weg ignoriert, und das TPC-Modul 109 wiederholt den oben beschriebenen Prozess für eine andere Nicht-Globalstation. Das TPC-Modul 109 führt die Analyse für jeden Knoten an jeder Nicht-Globalstation im Transitgraphen aus, um den Satz von Wechselmustern zu einer Globalstation zu bestimmen.When a change occurs at a non-global station, the TPC module keeps track 109 the change occurs and repeats the process until either a Global Station is reached in the path or the third change occurs at a non-Global Station. If the TPC module 109 determines that a global station is reached within two changes, then the change pattern associated with the path is determined. If the TPC module 109 determines that a global station is not reached after a maximum of two changes or the third change, then the path under analysis is ignored, and the TPC module 109 repeats the process described above for another non-global station. The TPC module 109 performs the analysis for each node at each non-global station in the transit graph to determine the set of swap patterns to a global station.
Nehmen wir als ein Beispiel den oben verwendeten Weg ABCDEFG an, und nehmen wir an, dass G eine Globalstation ist, und ein Transitfahrzeugwechsel bei C und F eintritt. Ausgehend von Station A bestimmt das TPC-Modul 109, ob jede nachfolgende Station eine Globalstation ist, oder ob ein Wechsel an der nachfolgenden Station eintrat. Da ein Wechsel an Station C eintrat, verfolgt das TPC-Modul 109 den Wechsel. Da nur ein zweiter Wechsel an Station F vor dem Erreichen der Globalstation G eintritt, betrachtet das TPC-Modul 109 den Weg ACFG als ein Wechselmuster von Quellenstation A zu Globalstation G.As an example, suppose the ABCDEFG path used above and suppose that G is a global station and a transit vehicle change occurs at C and F. Starting from station A, the TPC module determines 109 whether each subsequent station is a global station, or whether a change occurred at the subsequent station. As a change occurred at station C, the TPC module keeps track 109 the change. Since only a second change occurs at station F before reaching global station G, the TPC module looks at it 109 the path ACFG as a swap pattern from source station A to global station G.
Nehmen wir nun an, dass Wechsel an Stationen B, C und F eintreten. In diesem Beispiel stoppt das TPC-Modul 109 die Erweiterung des Wegs zu Globalstation G, sobald der dritte Wechsel erreicht ist, da drei Transitfahrzeugwechsel vor dem Erreichen von Globalstation G eintreten. Im Allgemeinen entfernt das TPC-Modul 109 durch Anhalten der Erweiterung des Weges beim dritten Wechsel viele Wege von der Berücksichtigung, und gestaltet die Vorberechnung von optimalen Wegen im Wesentlichen schneller.Let's assume that changes occur at stations B, C and F. In this example, the TPC module stops 109 the extension of the route to Global Station G as soon as the third change has been made, as three transit vehicle changes occur before reaching Global Station G. In general, the TPC module removes 109 stopping the extension of the path at the third change many ways from the consideration, and makes the pre-calculation of optimal ways essentially faster.
Da der oben beschriebene Prozess für jede paarweise Kombination von Lokalstationen und Globalstationen im Transitgraphen wiederholt wird, resultiert das TPC-Modul 109 in einem Satz von Wechselmustern, die dann gespeichert werden.Since the process described above is repeated for each pairwise combination of local stations and global stations in the transit graph, the TPC module results 109 in a set of swap patterns, which are then saved.
iii. Lokale Suche an Bord einer Globalstation anhalten iii. Stop local search aboard a global station
Unter nun erfolgender Bezugnahme auf 10C ist ein Verfahren dargestellt, das durch das TPC-Modul 109 ausgeführt wurde, um Wechselmuster von Lokalstationen zu Globalstationen zu bestimmen. Wir weisen daraufhin, dass zwecks einfacherer Abhandlung die folgende Beschreibung unter Bezugnahme auf die Bestimmung eines Wechselmusters von einem einzelnen Knoten im Transitgraphen abgehandelt wird. Es wird Fachleuten auf dem Gebiet offensichtlich sein, dass die folgende Abhandlung für jeden Stationsknoten an einer Lokalstation im Transitgraphen wiederholt werden kann, um Wechselmuster zu Globalstationen zu bestimmen.Now referring to 10C a method is shown by the TPC module 109 was executed to determine patterns of change from local stations to global stations. We point out that for ease of discussion, the following description will be discussed with reference to determining a swap pattern from a single node in the transit graph. It will be apparent to those skilled in the art that the following discussion can be repeated for each station node at a local station in the transit graph to determine patterns of change to global stations.
In einer Ausführungsform führt 1011 das TPC-Modul 109 eine lokale Suche von einem gegebenen Stationsknoten einer Lokalstation aus. Das TPC-Modul 109 verfolgt die kürzesten Wege im Transitgraphen, der vom Stationsknoten beginnt und zu anderen Knoten im Transitgraphen ausstrahlt. Das TPC-Modul 109 bestimmt 1013 vom Weg, wenn ein Onboard-Knoten an einer Globalstation erreicht ist. Genauer ausgedrückt bestimmt das TPC-Modul 109 beginnend vom Stationsknoten für jeden nachfolgenden Knoten entlang des Wegs im Transitgraphen, ob der nächstfolgende Knoten im Transitgraphen ein Onboard-Knoten ist, der mit einer Globalstation verbunden ist. Sobald ein Onboard-Knoten an einer Globalstation erreicht ist, bestimmt 1015 das TPC-Modul 109 die Wechselmuster des Wegs (einschließlich des Stationsknotens), die zum Onboard-Knoten an der Globalstation führen. In einer Ausführungsform ist Zusammenfügen erforderlich, wie nachfolgend beschrieben wird, um eine Reise zu berücksichtigen, die nicht an der Globalstation anhält.In one embodiment 1011 the TPC module 109 a local search from a given station node of a local station. The TPC module 109 tracks the shortest paths in the transit graph, which starts from the station node and radiates to other nodes in the transit graph. The TPC module 109 certainly 1013 off the road when an onboard node is reached at a global station. More specifically, the TPC module determines 109 starting from the station node for each subsequent node along the path in the transit graph, whether the next succeeding node in the transit graph is an onboard node connected to a global station. Once an onboard node has been reached at a global station, it is determined 1015 the TPC module 109 the alternate patterns of the route (including the station node) leading to the onboard node at the Global Station. In one embodiment, assembly is required, as described below, to account for a trip that does not stop at the global station.
Nehmen wir beispielsweise den Weg ABCDEFG von Lokalstation A zu Globalstation G an, die oben mit Wechseln an Stationen C und D beschrieben ist. Nehmen wir an, dass der mit Station G verbundene Knoten im Weg ein Onboard-Knoten ist. Das TPC-Modul 109 überquert den Weg, bis ein Onboard-Knoten erreicht wird, der mit einer Globalstation verbunden ist. Daher wird in diesem Fall der Weg von ACDG als ein Wechselmuster angesehen, da Station G der erste Onboard-Knoten einer Globalstation ist, die im Weg erreicht wird. Wenn keine Wechsel zwischen Stationen A und G eintreten, wäre das Wechselmuster für den Weg AG, was bedeutet, dass ein Wechsel nicht eintritt. Wie oben erwähnt, beinhalten Wechselmuster die Start- und Zielstationen einer Fahrt.For example, suppose the path ABCDEFG from local station A to global station G described above with changes at stations C and D. Suppose that the node connected to station G in the path is an onboard node. The TPC module 109 crosses the path until an onboard node connected to a global station is reached. Therefore, in this case, the path of ACDG is considered to be an alternate pattern since station G is the first onboard node of a global station that is reached in the path. If there are no changes between stations A and G, the change pattern for the route AG would be, which means that a change does not occur. As mentioned above, change patterns include the start and end stations of a ride.
Als ein weiteres Beispiel nehmen wir an, dass Station E auch eine Globalstation ist, und der mit Station D verbundene Knoten im Weg ein Onboard-Knoten ist. In diesem Fall überquert das TPC-Modul 109 den Weg, bis der erste Onboard-Knoten einer Globalstation erreicht ist, der in diesem Fall Station D ist, anstatt der Onboard-Knoten an Station G. Daher wird ein Wechselmuster von ACDE erzeugt.As another example, suppose station E is also a global station, and the node in the path connected to station D is an onboard node. In this case, the TPC module will cross 109 the way until the first onboard node of a global station is reached, which in this case is station D, instead of the onboard node at station G. Therefore an ACDE alternating pattern is generated.
Da der oben beschriebene Prozess für jede paarweise Kombination von Lokalstationen und Globalstationen im Transitgraphen wiederholt wird, resultiert das TPC-Modul 109 in einem Satz von Wechselmustern, die dann gespeichert werden.Since the process described above is repeated for each pairwise combination of local stations and global stations in the transit graph, the TPC module results 109 in a set of swap patterns, which are then saved.
iv. Untergruppe von Wechselmustern verwenden, um alle optimalen Fahrten zu berücksichtigeniv. Use subgroup of swap patterns to account for all optimal trips
Unter nun erfolgender Bezugnahme auf 10D ist ein Verfahren dargestellt, das durch das TPC-Modul 109 ausgeführt wurde, um Wechselmuster von allen Stationen im Transitgraphen zu bestimmen. Der in 10D dargestellte Ansatz wird verwendet, um die Anzahl von Fahrten von einer Quellenstation zu einer Zielstation zu reduzieren. Im Allgemeinen wird der folgende Ansatz verwendet, um den Satz aller Wechselmuster von optimalen Fahrten zu einer Zielstation durch eine Untergruppe zu ersetzen, die ausreichend ist, um alle optimalen Fahrten zur Zielstation abzudecken. In einer Ausführungsform wird die nachfolgende Beschreibung für jedes Stationspaar im Transitgraphen wiederholt, um Wechselmuster zwischen den Stationen zu bestimmen.Now referring to 10D a method is shown by the TPC module 109 was executed to determine patterns of change from all stations in the transit graph. The in 10D The approach illustrated is used to reduce the number of trips from a source station to a destination station. In general, the following approach is used to replace the set of all switching patterns from optimal trips to a destination station by a subset sufficient to cover all optimal trips to the destination station. In one embodiment, the following description is repeated for each station pair in the transit graph to determine change patterns between the stations.
In einer Ausführungsform führt 1017 das TPC-Modul 109 eine lokale Suche von jedem Knoten einer Quellenstation (d. h. Quellenstation) zu einem Knoten an einer Zielstation im Transitgraphen durch. Von der Suche resultiert das TPC-Modul 109 in einem Satz von optimalen Wegen von der Quellenstation zur Zielstation an unterschiedlichen Abfahrtszeiten von der Quellenstation. Das TPC-Modul 109 bestimmt 1019 ein Wechselmuster von der Quellenstation zur Zielstation für jeden optimalen Weg, der von der Suche erhalten wurde, wodurch ein Satz von optimalen Wechselmustern ausgebildet wird. Der Satz von optimalen Wechselmustern soll alle möglichen Fahrten von der Quellenstation zur Zielstation für einen bestimmten Tag abdecken.In one embodiment 1017 the TPC module 109 performs a local search from each node of a source station (ie, source station) to a node at a destination station in the transit graph. The search results in the TPC module 109 in a set of optimal paths from the source station to the destination station at different departure times from the source station. The TPC module 109 certainly 1019 an alternate pattern from the source station to the destination station for each optimal route obtained from the search, thereby forming a set of optimal alternating patterns. The set of optimal swap patterns is intended to cover all possible trips from the source station to the destination station for a particular day.
Das TPC-Modul 109 bestimmt 1021 dann redundante Fahrten, die durch die Wechselmuster im Satz impliziert werden. Das heißt, für jedes Wechselmuster, das eine Fahrt von einer Quellenstation zu einer Zielstation darstellt, bestimmt das TPC-Modul 109 andere Wechselmuster von derselben Quellenstation zur Zielstation. Das TPC-Modul 109 bestimmt, ob eines von den Wechselmustern in der Lage ist, die Fahrt von der Quellenstation zur Zielstation abzudecken, um das Bedürfnis nach dem Aufrechterhalten beider Wechselmuster zu beseitigen. In einer Ausführungsform decken eine oder mehrere Wechselmuster eine Fahrt bei Zeit T ab, wenn für jeden Service-Tag der Fahrt eine zweite Fahrt bei Zeit T vorhanden ist, die ein Wechselmuster vom bestimmten Satz mit einem identischen Wechselmuster aufweist, sodass die zweite Fahrt vom Startstandort nicht früher als die erste Fahrt startet, und Kosten aufweist, die die Kosten der ersten Fahrt um nicht mehr als einen Schwellenwert überschreiten.The TPC module 109 certainly 1021 then redundant trips, which are implied by the patterns of change in the set. That is, for each swap pattern representing travel from a source station to a destination station, the TPC module determines 109 other exchange patterns from the same source station to Destination station. The TPC module 109 determines whether one of the alternate patterns is capable of covering the journey from the source station to the destination station to eliminate the need to maintain both exchange patterns. In one embodiment, one or more alternate patterns cover a ride at time T if there is a second ride at time T for each service day of the ride that has a swap pattern of the particular set having an identical swap pattern, such that the second ride is from the launch site not earlier than the first trip starts and has costs that do not exceed the cost of the first trip by more than a threshold.
Nehmen wir beispielsweise das Szenario für eine gegebene Fahrt an, bei der viele optimale Fahrten während des Tages stattfinden, mit einem Wechselmuster von ABC für die Fahrt. Unter diesen optimalen Fahrten befindet sich eine Fahrt, die von Station A um 22:40 startet und an Station um 23:25 ankommt, mit einer Strafe von 200. Zusätzlich ist eine gelegentliche einzelne Fahrt mit einem Wechselmuster von ADC vorhanden. Die einzelne Fahrt startet von Station A um 22:38 und kommt an Station C um 23:22 an, und weist eine Strafe von 180 auf. Obwohl die einzelne Fahrt ein besseres Ergebnis für einen Benutzer ist, der um 22:38 abfahren möchte, wird die einzelne Fahrt zugunsten der Fahrt abgelehnt, die mit Wechselmuster ABC verbunden ist, da sie eine Fahrt bereitstellt, die genommen werden kann, wann immer die abgelehnte Fahrt genommen werden könnte, da sie von derselben Quellenstation zu einem späteren Zeitpunkt abfahrt. Zusätzlich liegen die höchsten Kosten der Fahrt mit Wechselmuster ABC (d. h. spätere Ankunftszeit von 3 Minuten und eine zusätzliche Strafe von 20) unter dem Schwellenwert.For example, consider the scenario for a given trip, where many optimal trips take place during the day, with a change pattern of ABC for the ride. Among these optimal rides is a ride that starts from Station A at 22:40 and arrives at Station at 23:25, with a penalty of 200. Additionally, there is an occasional single drive with a change pattern from ADC. The single journey starts from Station A at 22:38 and arrives at Station C at 23:22, and has a penalty of 180. Although the single ride is a better result for a user wishing to depart at 22:38, the single ride is denied in favor of the ride associated with change pattern ABC as it provides a ride that can be taken whenever the refused journey as it leaves the same source station at a later date. In addition, the highest cost of alternate pattern ABC travel (i.e., 3 minutes later arrival time and an additional penalty of 20) is below the threshold.
v. Kürzen mit anfänglichem und abschließendem Gehenv. Shortening with initial and final walking
In einer Ausführungsform verwendet das TPC-Modul 109 die Anfangs- und Gehheuristik, um Wege zwischen Stationen zu entfernen, die optimal scheinen, aber nicht optimal während der Anfragezeit sind, wenn mehrere Stationen in der Nähe der Start- und Zielstandorte durch den Transitserver 100 in Betracht gezogen werden. Nehmen wir beispielsweise Busstationen A und B an, die 400 Meter auseinanderliegen und nicht von derselben Buslinie angefahren werden. Aufgrund dieser Heuristik wird das Gehen von A nach B bei Anfragezeit als optimal bestimmt. Ohne die Heuristik jedoch ist das optimale Ergebnis von einer lokalen Suche von Station A eine Fahrt, die Station A verlässt und Station B über einen langen Umweg über Station C erreicht. Daher ermöglicht diese Heuristik, dass das TPC-Modul 109 die Transitfahrt von A nach B kürzt, da es optimal ist, einfach von Station A zu Station B zu gehen.In one embodiment, the TPC module uses 109 the beginning and end heuristics to remove paths between stations that seem optimal but are not optimal during the request time when multiple stations are near the start and end locations through the transit server 100 be considered. Take, for example, bus stations A and B, which are 400 meters apart and are not approached by the same bus line. Because of this heuristic, going from A to B is determined to be optimal at the time of the request. However, without the heuristic, the optimum result from a local search of station A is a trip that leaves station A and reaches station B via a long detour via station C. Therefore, this heuristic allows the TPC module 109 the transit journey from A to B cuts, since it is optimal to simply go from station A to station B.
Unter nun erfolgender Bezugnahme auf 10E ist dort ein Verfahren dargestellt, das durch das TPC-Modul 109 ausgeführt wird, um die Kosten des Gehens von einer lokalen Quellenstation zu einer nahegelegenen Lokalstation zu bestimmen. Wir weisen darauf hin, dass der nachfolgend beschriebene Prozess für jede Lokalstation im Transitgraphen beschrieben, um Wechselmuster zu bestimmen. In einer Ausführungsform führt 1023 das TPC-Modul 109 eine lokale Suche von einer gegebenen Lokalstation aus. Von der lokalen Suche bestimmt 1025 das TPC-Modul 109 alle Stationen in der Nähe der Lokalstation. In einer Ausführungsform bestimmt das TPC-Modul 109 nahegelegene Stationen bis zu einer radialen Distanz, wie z. B. eine Meile. Für jede nahegelegene Station fügt 1027 das TPC-Modul 109 Kosten-Label hinzu. Insbesondere für jeden Stationsknoten an der nahegelegenen Station fügt das TPC-Modul 109 ein Kosten-Label hinzu, das den Kosten des Gehens von der Transitstation zur nahegelegenen Station entspricht, an der die Suche ausgeführt wurde. In einer Ausführungsform beschreiben die Kosten des Gehens einen geschätzten Zeitbetrag, der benötigt wird, um von der Transitstation zur nahegelegenen Station zu gehen.Now referring to 10E there is a procedure shown by the TPC module 109 to determine the cost of walking from a local source station to a nearby local station. Please note that the process described below for each local station is described in the Transit Graph to determine patterns of change. In one embodiment 1023 the TPC module 109 a local search from a given local station. Determined by the local search 1025 the TPC module 109 all stations near the local station. In one embodiment, the TPC module determines 109 nearby stations up to a radial distance, such. B. a mile. For every nearby station adds 1027 the TPC module 109 Added cost label. In particular, for each station node at the nearby station, the TPC module adds 109 Add a cost label that equals the cost of walking from the transit station to the nearby station where the search was performed. In one embodiment, the cost of walking describes an estimated amount of time needed to travel from the transit station to the nearby station.
Nehmen wir beispielsweise eine Lokalstation A. Das TPC-Modul 109 führt eine lokale Suche von Station A aus, um alle nahegelegenen Stationen zu bestimmen, die sich innerhalb eines Radius von zwei Meilen befinden. Die Suche resultiert in einer Liste von Stationen M, K und G, die sich innerhalb des Radius von zwei Meilen von Station A befinden. Das TPC-Modul 109 fügt dann ein Label zu jeder der nahegelegenen Stationen hinzu, das die Kosten des Gehens von Station A zur nahegelegenen Station angibt. Nehmen wir beispielsweise an, dass eine Person im Mittel 1800 Sekunden (0,5 Stunden) zum Gehen von einer Station A zu Station M benötigt. Das TPC-Modul 109 würde ein Label zu Station M hinzufügen, das Kosten von 1800 Sekunden angibt.Take, for example, a local station A. The TPC module 109 performs a local search of station A to determine all nearby stations that are within a radius of two miles. The search results in a list of stations M, K and G that are within the radius of two miles of station A. The TPC module 109 then adds a label to each of the nearby stations, indicating the cost of going from station A to the nearby station. For example, assume that an average person needs 1800 seconds (0.5 hours) to walk from station A to station M. The TPC module 109 would add a label to station M indicating 1800 seconds.
In einer Ausführungsform führt das TPC-Modul 109 einen ähnlichen Prozess aus, der oben für jede Globalstation beschrieben ist. Für eine gegebene Globalstation führt das TPC-Modul 109 eine globale Suche aus, um alle nahegelegenen Stationen im Transitgraphen zu bestimmen, die von der Globalstation erreichbar sind. Für jede nahegelegene Station fügt das TPC-Modul 109 Kosten zu den Stationsknoten der nahegelegenen Station hinzu. In einer Ausführungsform fügt das TPC-Modul 109 eine Strafe an der Globalstation basierend auf einer Wechselstrafe hinzu, die mit dem Knoten und Gehkosten verbunden ist.In one embodiment, the TPC module performs 109 a similar process described above for each global station. For a given Global Station, the TPC module will run 109 perform a global search to determine all nearby stations in the transit graph that are reachable by the global station. For each nearby station, the TPC module adds 109 Add costs to the station nodes of the nearby station. In one embodiment, the TPC module adds 109 add a penalty at the Global Station based on a penalty associated with the node and walking costs.
Unter nun erfolgender Bezugnahme auf 10E ist dort ein Verfahren dargestellt, das durch das TPC-Modul 109 ausgeführt wird, um die Kosten des Gehens von einer nahegelegenen Station zu einer Zielstation zu bestimmen. Beispielsweise kann es für eine gegebene Fahrt von einer Quellenstation zu einer Zielstation, anstatt direkt von der Quellenstation zur Zielstation zu fahren, optimal sein, von der Quellenstation zu einer Station in der Nähe der Zielstation zu wechseln und von der nahegelegenen Station zur Zielstation zu gehen. Now referring to 10E there is a procedure shown by the TPC module 109 to determine the cost of walking from a nearby station to a destination station. For example, for a given trip from a source station to a destination station, rather than driving directly from the source station to the destination station, it may be optimal to switch from the source station to a station near the destination station and to go from the nearby station to the destination station.
In einer Ausführungsform umfasst die Zielstation für eine Reise eine Ankunftsschleife. Eine Ankunftsschleife ist eine Kopie des Onboard-Knotens der Zielstation und ihrer durch Bögen verbundenen Label. Das TPC-Modul 109 entspannt 1029 die Bögen an der Ankunftsschleife, die die Label der Fahrten entfernt, die an ihrem jeweiligen Onboard-Knoten optimal sind, aber eigentlich nicht optimal sind, da es eine bessere Fahrt hinsichtlich Kosten gibt, die früher ankommt.In one embodiment, the destination station for travel includes an arrival loop. An arrival loop is a copy of the destination station's onboard node and its arcs linked labels. The TPC module 109 relaxed 1029 the bows on the arrival loop, which removes the labels of rides that are optimal at their respective onboard node, but are actually not optimal, as there is a better ride in terms of cost that arrives earlier.
Das TPC-Modul 109 führt dann eine lokale Suche 1031 an der Zielstation aus, um nahegelegene Stationen zu bestimmen. Das TPC-Modul 109 erweitert 1033 die Ankunftsschleife der Zielstation durch Hinzufügen von Bögen von den Onboard-Knoten der nahegelegenen Stationen zum Stationsknoten der Zielstation. In einer Ausführungsform stellen die Bögen Gehbögen dar, die das Gehen von der nahegelegenen Station zur Zielstation beschreiben.The TPC module 109 then performs a local search 1031 at the destination station to determine nearby stations. The TPC module 109 expanded 1033 the arrival loop of the destination station by adding arcs from the onboard nodes of the nearby stations to the station node of the destination station. In one embodiment, the arches represent walking arches that describe walking from the nearby station to the destination station.
Durch Wiederholen des oben beschriebenen Prozesses für jede Lokalstation hat das TPC-Modul 109 einen Satz von Wechselmustern zum Ergebnis, die dann gespeichert werden.By repeating the process described above for each local station, the TPC module has 109 a set of alternating patterns to the result, which are then stored.
5. Wechselmusterkompression5. Alternating pattern compression
In einer Ausführungsform ist die letzte Phase des Vorberechnungsprozesses optional. Das Wechselmusterkompressionsmodul 111 komprimiert die Wechselmuster, die vom TPC-Modul 109 bestimmt wurden, zu effizienten Speicherzwecken, anstatt das vollständige Wechselmuster, wie oben beschrieben, zu speichern. Im Allgemeinen segmentiert das Wechselmusterkompressionsmodul 111 jedes Wechselmuster in kleinere Teile. Durch Komprimieren der Wechselmuster werden die Wechselmuster im Allgemeinen in kleinere Teile aufgeteilt, die aufgrund ihrer Größe eine hohe Redundanz aufweisen und auf effiziente Art komprimiert werden können, wodurch eine effizientere Speicherung der Teile ermöglicht wird.In one embodiment, the last phase of the pre-calculation process is optional. The replacement pattern compression module 111 compresses the swap patterns from the TPC module 109 for efficient storage purposes, rather than storing the complete swap pattern as described above. In general, the alternating pattern compression module segments 111 every exchange pattern into smaller parts. By compressing the swapping patterns, the swapping patterns are generally divided into smaller parts which, because of their size, have high redundancy and can be efficiently compressed, thereby enabling more efficient storage of the parts.
Unter nun erfolgender Bezugnahme auf 11 ist ein Prozessablauf dargestellt, der durch das Wechselmusterkompressionsmodul 111 ausgeführt wird, um Wechselmuster zu komprimieren. Der nachfolgend beschriebene Prozess wird für jedes Wechselmuster durch das oben beschriebene TPC-Modul 109 bestimmt.Now referring to 11 is a process flow represented by the exchange pattern compression module 111 is executed to compress change patterns. The process described below will be for each swap pattern by the TPC module described above 109 certainly.
In einer Ausführungsform nimmt das Wechselmusterkompressionsmodul 111 als Eingabe ein Wechselmuster 1100. Das Wechselmusterkompressionsmodul 111 filtert 1101 optional das Wechselmuster, um jede wiederholte Folge von Stationen im Wechselmuster durch eine einzelne Instanz der Station zu ersetzen. Nehmen wir beispielsweise das folgende Wechselmuster einer Reise an: Einsteigen an Station A, Ankommen an Station B, Ankommen an Station C, Einsteigen an Station D und Ankommen an Station F. Mit anderen Worten ausgedrückt ist das Wechselmuster der Reise ABBCDF. Alle Einstiegsereignisse im Wechselmuster stellen Stationsknoten vom Transitgraphen dar und alle Ankunftsereignisse stellen Onboard-Knoten im Transitgraphen dar. In diesem Beispiel bestimmt das Wechselmusterkompressionsmodul 111, dass Station B wiederholend ist, und ersetzt die Folge „BB” durch die einzelne Instanz „B”. Das Wechselmusterkompressionsmodul 111 unterscheidet im Wesentlichen nicht zwischen Stations- oder Onboard-Knoten. Daher wird das resultierende Muster ABCDF anstatt ABBCDF. In alternativen Ausführungsformen wird das Wechselmuster nicht gefiltert, um wiederholte Folgen von Stationen in Wechselmustern zu entfernen.In one embodiment, the alternating pattern compression module takes 111 as input a change pattern 1100 , The replacement pattern compression module 111 filters 1101 Optionally, the swap pattern to replace each repeated sequence of stations in the swap pattern with a single instance of the station. For example, consider the following change pattern of a journey: boarding at station A, arriving at station B, arriving at station C, boarding at station D and arriving at station F. In other words, the alternate pattern of the trip is ABBCDF. All entry events in the exchange pattern represent station nodes of the transit graph and all arrival events represent onboard nodes in the transit graph. In this example, the exchange pattern compression module determines 111 in that station B is repetitive and replaces the sequence "BB" with the single instance "B". The replacement pattern compression module 111 Essentially, it does not differentiate between station or onboard nodes. Therefore, the resulting pattern becomes ABCDF instead of ABBCDF. In alternative embodiments, the swap pattern is not filtered to remove repeated sequences of stations in swap patterns.
Unabhängig davon, ob das Wechselmuster gefiltert wird, bestimmt 1103 das Wechselmusterkompressionsmodul 111 den Wechsel eines Muster-Suffix für eine gegebene Station im Wechselmuster. In einer Ausführungsform beschreibt ein Wechselmuster-Suffix eine Folge von zwei Stationen im Wechselmuster, das der Station voranging, die mit dem Suffix verbunden war. Im Wesentlichen kann jede Station innerhalb des Wechselmusters mit Ausnahme von jeder Station, der zwei Stationen vorangehen, als eine Zielstation angesehen werden, und kann dadurch einen verbundenen Wechsel-Suffix aufweisen. Daher bestimmt 1105 das Wechselmusterkompressionsmodul 111 für jede Station in einem Wechselmuster, dem zwei Stationen vorangehen, ein Wechselmuster-Suffix, das die zwei Stationen im Wechselmuster beschreibt, die der Station vorangehen, die mit dem Suffix verbunden sind. Die Wechselmuster-Suffixe von einer Quellenstation zu einer Zielstation werden als ein Wechselmuster-Suffix-Satz für das Muster angesehen. Sobald die Wechselmuster-Suffixe bestimmt sind, speichert 1107 das Wechselmusterkompressionsmodul 111 jedes Wechselmuster-Suffix und seine verbundene Station, was in einem komprimierten Wechselmuster 1109 resultiert. Durch Speichern des Wechselmusters auf diese Weise speichert das Wechselmusterkompressionsmodul 111 Segmente des Wechselmusters.Regardless of whether the swap pattern is filtered, it is determined 1103 the alternating pattern compression module 111 the change of a pattern suffix for a given station in the swap pattern. In one embodiment, an alternate pattern suffix describes a sequence of two stations in the swap pattern that preceded the station that was connected to the suffix. In essence, each station within the swap pattern except for each station preceding two stations may be considered a destination station, and thereby may have a linked swap suffix. Therefore determined 1105 the alternating pattern compression module 111 for each station in a swap pattern preceded by two stations, a swap suffix describing the two stations in the swap pattern preceding the station associated with the suffix. The swap suffixes from a source station to a destination station are considered to be an inter-pattern suffix set for the pattern. Once the swatch suffixes are determined, stores 1107 the alternating pattern compression module 111 each swap suffix and its associated station, resulting in a compressed swap pattern 1109 results. By saving the Change pattern in this way stores the exchange pattern compression module 111 Segments of the replacement pattern.
Ein Beispiel des Speicherschemas für das oben beschriebene komprimierte Wechselmuster von ABCDF ist nachfolgend dargestellt. Wechselmuster-Suffix Station
{C,D} F
{B,C} D
{A,B} C
An example of the storage scheme for the ABCDF compressed exchange pattern described above is shown below. Alternating pattern suffix station
{CD} F
{B, C} D
{FROM} C
Wie oben dargestellt, sind die Stationen vom Wechselmuster, die ein verbundenes Wechselmuster-Suffix aufweisen, F, D und C. Das Wechselmuster-Suffix beschreibt die Folge von zwei Stationen im Wechselmuster, das verwendet wird, um an der verbundenen Station anzukommen. Die Sammlung der oben dargestellten Wechselmuster-Suffixe wird als der Wechselmuster-Suffix-Satz für Quellenstation A und Zielstation F angesehen. Obwohl dieses Schema die aktuellen Wechselmuster verliert, kann das Wechselmuster von Station A bis F vom oben dargestellten Speicherschema rekonstruiert werden.As noted above, the stations of the swap pattern that have an associated swap pattern suffix are F, D and C. The swap suffix describes the sequence of two stations in the swap pattern that is used to arrive at the connected station. The collection of the replica pattern suffixes shown above is considered the swap station suffix set for source station A and destination station F. Although this scheme loses the current swap patterns, the swap pattern from stations A through F can be reconstructed from the storage scheme presented above.
Als ein weiteres Beispiel, wenn ein Wechselmuster von QYGLMKR gegeben ist, wird ein Beispiel des Speicherschemas für das komprimierte Wechselmuster von QYGLMKR unten dargestellt. Wechselmuster-Suffix Station
{M,K} R
{L,M} K
{G,L} M
{Y,G} L
{Q,Y} G
As another example, given an alternate pattern of QYGLMKR, an example of the QYGLMKR compressed swap memory map is shown below. Alternating pattern suffix station
{M, K} R
{L, M} K
{G, L} M
{Y, G} L
{Q, Y} G
In diesem Beispiel sind die Stationen des Wechselmusters QYGLMKR, die ein verbundenes Wechselmuster-Suffix aufweisen, R, K, M, L und G. Jedes Wechselmuster-Suffix beschreibt die Folge von zwei Stationen im gefilterten Wechselmuster, das verwendet wird, um an der Station anzukommen, die mit dem Suffix verbunden ist. Beispielsweise beschreibt die Folge von Stationen M und K für Station R die Reihenfolge der Stationen, die Station R im gefilterten Wechselmuster vorangingen. Für jede andere Station in der Tabelle beschreibt das entsprechende Wechselmuster-Suffix die Folge der zwei Stationen, die der Station vorangehen, die mit dem Wechselmuster-Suffix verbunden sind. Die kollektiven Wechselmuster-Suffixe sind der Wechselmuster-Suffix-Satz für die Quellenstation Q und Zielstation R.In this example, the stations of the swap pattern QYGLMKR having an associated swap pattern suffix are R, K, M, L, and G. Each swap suffix describes the sequence of two stations in the filtered swap pattern used to arrive at the station arriving associated with the suffix. For example, the sequence of stations M and K for station R describes the order of the stations that preceded station R in the filtered exchange pattern. For each other station in the table, the corresponding swap suffix describes the sequence of the two stations preceding the station associated with the swap suffix. The collective swap suffixes are the swap pattern suffix set for source station Q and destination station R.
Bei Anfragezeit kann das Wechselmuster vom Wechselmuster-Suffix-Satz rekursiv rekonstruiert werden. Dieser Prozess wird nachfolgend detaillierter beschrieben. Obwohl die Wechselmuster selbst verloren gehen, wird die Menge an Speicherplatz bedeutend reduziert.At inquiry time, the swap pattern can be recursively reconstructed from the Swap Suffix Set. This process will be described in more detail below. Although the swapping patterns themselves are lost, the amount of storage space is significantly reduced.
III. AnfragezeitverarbeitungIII. Request time processing
Unter erneuter Bezugnahme auf 1, verwendet das Anfrageauflösungsmodul 115, wie oben erwähnt, die Wechselmusterberechnungen, die durch das Vorberechnungsmodul 103 bereitgestellt werden, um optimale Reiserouten als Reaktion auf Benutzeranfragen zu bestimmen. Durch Verwenden der Wechselmuster, die während Vorberechnungen bestimmt wurden, führt das Anfrageauflösungsmodul 115 den minimalen Betrag von Berechnungen durch, der zum Erfüllen einer Anfrage notwendig ist. Wie in 1 dargestellt, umfasst das Anfrageauflösungsmodul 115 ein Lokalstationsbestimmungsmodul 117, ein Anfragegrapherzeugungsmodul 119, ein Anfragegraphanalysemodul 121, ein Fahrtdienstmodul 123 und ein Wechselmusterkonstruktionsmodul. Unter nun erfolgender Bezugnahme auf 12 umfasst in einer Ausführungsform der Prozess der Verarbeitung einer Anfrage des Anfrageauflösungsmoduls 115 die folgenden Funktionsstufen:
- 1200: Bestimmen von nahegelegenen Stationen
- 1201: Konstruieren von Wechselmustern
- 1203: Erzeugen von Anfragegraphen
- 1205: Erweitern von Anfragegraphen
- 1207: Auswerten von Anfragegraphen
- 1209: Bestimmen von optimalen Reisen
- 1211: Bereitstellen von optimalen Reisen
Referring again to 1 , uses the query resolution module 115 as noted above, the alternating pattern calculations performed by the precalculation module 103 provided to determine optimal itineraries in response to user requests. By using the swap patterns that were determined during pre-calculations, the query resolution module performs 115 the minimum amount of calculations necessary to fulfill a request. As in 1 shown includes the request resolution module 115 a local station determination module 117 , a request graph generation module 119 , a query graph analysis module 121 , a travel service module 123 and a swap design module. Now referring to 12 In one embodiment, the process of processing a query of the request resolution module 115 the following functional levels: - 1200 : Determine nearby stations
- 1201 : Constructing Swap Patterns
- 1203 : Generating query graphs
- 1205 : Extending Query Graphs
- 1207 : Evaluating query graphs
- 1209 : Determine optimal travel
- 1211 : Providing Optimal Travel
Jede Funktionsstufe der Verarbeitung einer Anfrage wird nachfolgend weiter beschrieben.Each functional level of processing a request will be further described below.
1. Bestimmen von nahegelegenen Stationen1. Determine nearby stations
13 veranschaulicht einen Prozessablauf für die erste Stufe der Verarbeitung einer Anfrage durch Bestimmen von 1200 nahegelegenen Stationen in Bezug auf eine Quelle(d. h. Start)-Standort, wie durch das Lokalstationsbestimmungs(LSD)-Modul 117 gemäß einer Ausführungsform ausgeführt. In einer Ausführungsform empfängt das Lokalbestimmungs(LSD)-Modul 117 eine Eingabe als Anfrage 1300. Die Anfrage 1300 wird von einem Benutzer für öffentliche Transitanweisungen empfangen. In einer Ausführungsform beinhaltet die empfangene Anfrage 1300 mindestens einen Quellenstandort und einen Zielstandort für eine Reise. Ein Quellenstandort ist der aktuelle geografische Standort des Benutzers oder jeder Standort, den der Benutzer möglicherweise wünscht, um die Fahrt zu starten, während der Zielstandort der geografische Standort des Zielorts ist. Die Quellen- und Zielstandorte können Standorte von Transitstationen sein oder nicht. In einer Ausführungsform kann der Quellen- und Zielstandort in Form einer Adresse vorliegen. Die empfangene Anfrage kann auch eine Abfahrtszeit und/oder ein -datum vom Quellenstandort oder Ankunft am Zielstandort beinhalten. Beispielsweise kann eine Anfrage aussagen „Ich möchte eine Route von 801 California Street, Mountain View, CA 94041 um 14 Uhr nach 555 California Street, San Francisco, CA 94104.” 13 illustrates a process flow for the first stage of processing a request by determining 1200 nearby stations with respect to a source (ie, start) location, such as through the Local Station Determination (LSD) module 117 executed according to one embodiment. In one embodiment, the Local Discovery (LSD) module receives 117 an input as a request 1300 , The request 1300 is received by a user for public transit instructions. In one embodiment, the received request includes 1300 at least one source location and one destination location for a trip. A source location is the user's current geographic location or any location that the user may desire to start driving while the destination location is the geographic location of the destination. The source and destination locations may or may not be sites of transit stations. In one embodiment, the source and destination location may be in the form of an address. The received request may also include a departure time and / or date from the source location or arrival at the destination location. For example, a request may state "I would like to travel from 801 California Street, Mountain View, CA 94041 at 2 pm to 555 California Street, San Francisco, CA 94104."
Sobald die Anfrage 1300 empfangen ist, bildet 1301 das LSD-Modul 117 den Quellenstandort und den Zielstandort in Breiten- und Längengradkoordinaten entsprechend jedem Standort ab. Das LSD-Modul 117 bestimmt 1303 (d. h. lokalisiert) dann alle Stationen innerhalb einer radialen Distanz von den Breiten- und Längengradkoordinaten des Quellen- und Zielstandorts. In einer Ausführungsform ist die radiale Distanz auf zwei Meilen eingestellt, sodass alle Stationen, die sich innerhalb eines Radius von zwei Meilen vom Quellen- und Zielstandort befinden, bestimmt werden. Unterschiedliche radiale Distanzen können in anderen Ausführungsformen verwendet werden.Once the request 1300 is received forms 1301 the LSD module 117 the source location and the destination location in latitude and longitude coordinates corresponding to each location. The LSD module 117 certainly 1303 (ie localized) then all stations within a radial distance from the latitude and longitude coordinates of the source and destination locations. In one embodiment, the radial distance is set to two miles so that all stations that are within a radius of two miles from the source and target locations are determined. Different radial distances may be used in other embodiments.
Nach dem Lokalisieren der nahegelegenen Stationen erzeugt das LSD-Modul 117 eine Quellenstationsliste 1305 von Stations-IDs, die alle Stationen in der Nähe des Quellenstandorts umfassen, und erzeugt eine Zielstationsliste 1307, die Stations-IDs von allen Stationen in der Nähe des Zielstandorts umfasst. Zusätzlich werden die Gehkosten vom Quellenstandort zu jeder seiner verbundenen naheliegenden Stationen ebenfalls in der Quellenstationsliste bereitgestellt. Auf ähnliche Weise werden die Gehkosten von jeder naheliegenden Station zum Zielstandort ebenfalls in der Zielstationsliste bereitgestellt.After localizing the nearby stations, the LSD module generates 117 a source station list 1305 of station IDs, which include all stations near the source location, and generates a destination station list 1307 that includes station IDs from all stations near the destination site. In addition, the walking cost from the source location to each of its associated nearby stations is also provided in the source station list. Similarly, the walking cost from each nearby station to the destination location is also provided in the destination station list.
2. Wechselmusterkonstruktion2. Pattern design
In der zweiten Stufe von Anfragezeitverarbeitung konstruiert 1203 das Wechselmusterkonstruktionsmodul 135 Wechselmuster. Die nachfolgende Abhandlung von Wechselmusterkonstruktion basiert auf der Annahme, dass die Wechselmuster unter Verwendung von Globalstationen berechnet wurden. In einer Ausführungsform empfängt das Wechselmusterkonstruktionsmodul 135 zum Konstruieren der Wechselmuster als Eingabe die Quellenstationsliste 1303 und die Zielstationsliste OO106 als Eingabe. Das Wechselmusterkonstruktionsmodul 135 bestimmt Wechselmuster von den Quellenstationen in der Quellenstationsliste OO104 zu den Zielstationen in der Zielstationsliste OO106. Die Bestimmung der Wechselmuster ist davon abhängig, ob eine Quellenstation eine Global- oder Lokalstation ist.Constructed in the second stage of request time processing 1203 the swap design module 135 Alternating pattern. The following discussion of interworking design is based on the assumption that the interchange patterns were computed using global stations. In one embodiment, the swap design module receives 135 to construct the swap patterns as input the source station list 1303 and the destination station list OO106 as input. The swap design module 135 determines change patterns from the source stations in the source station list OO104 to the destination stations in the destination station list OO106. The determination of the alternating patterns depends on whether a source station is a global or local station.
In einer Ausführungsform für jede Globalstation in der Quellenstationsliste 1303 bestimmt (d. h. ruft ab) das Wechselmusterkonstruktionsmodul 135 von den gespeicherten globalen Wechselmustern die globalen Wechselmuster, die ein Wechselmuster von der Globalstation zu jeder Station in der Zielstationsliste OO106 beschreiben. Als ein Beispiel nehmen wir eine Quellenstation A an, die als eine Globalstation angesehen wird, und nehmen eine Zielstation L an, die entweder eine Global- oder Lokalstation sein kann. Das Wechselmusterkonstruktionsmodul 135 bestimmt von den gespeicherten globalen Wechselmustern die globalen Wechselmuster, die an Station A beginnen und an Station L enden, was in einem oder mehreren globalen Wechselmustern von Station A zu Station L resultiert. Dieser Prozess wird für jede Globalstation in der Quellenstationsliste 1303 zu jeder Station in der Zielstationsliste OO106 wiederholt.In one embodiment, for each global station in the source station list 1303 determines (ie retrieves) the swap design module 135 from the stored global swap patterns, the global swap patterns describing a swap pattern from the global station to each station in the destination station list OO106. As an example, assume a source station A, which is considered a global station, and accept a destination station L, which may be either a global or local station. The swap design module 135 From the stored global swap patterns, determine the global swap patterns that begin at station A and end at station L, resulting in one or more global swap patterns Replacement patterns from station A to station L results. This process is for each global station in the source station list 1303 to each station in the destination station list OO106.
In einer Ausführungsform bestimmt das Wechselmusterkonstruktionsmodul 135 für jede Lokalstationsliste 1303 einen Satz von Zugangsstationen, die mit jeder Lokalstation verbunden sind. Wie oben erwähnt, ist eine Zugangsstation eine Globalstation, die mit einer Lokalstation verbunden ist. Sobald der Satz von Zugangsstationen von jeder Lokalstation bestimmt ist, bestimmt das Wechselmusterkontruktionsmodul 135 für jede Lokalstation die lokalen Wechselmuster von der Lokalstation zu jeder von ihren Zugangsstationen. Das Wechselmusterkontruktionsmodul 135 bestimmt dann die globalen Wechselmuster von jeder Zugangsstation zu jeder Zielstation in der Zielstationsliste OO106. Daher ist das Wechselmuster von einer Lokalstation zu einer Zielstation eine Kombination eines lokalen Wechselmusters und eines globalen Wechselmusters.In one embodiment, the swap design module determines 135 for each local station list 1303 a set of access stations connected to each local station. As mentioned above, an access station is a global station that is connected to a local station. Once the set of access stations from each local station is determined, the interworking pattern construction module determines 135 for each local station, the local exchange patterns from the local station to each of their access stations. The alternating pattern construction module 135 then determines the global swap patterns from each access station to each destination station in the destination station list OO106. Therefore, the switching pattern from a local station to a destination station is a combination of a local switching pattern and a global switching pattern.
Wir weisen jedoch darauf hin, dass wenn die optionale Wechselmusterkompression ausgeführt wurde, die Wechselmuster selbst nicht gespeichert werden. Daher dekomprimiert das Wechselmusterkonstruktionsmodul 135 die Wechselmuster, um ein vollständiges Wechselmuster für die Reise zu erstellen. Mit anderen Worten ausgedrückt erstellt das Wechselmusterkonstruktionsmodul 135 rekursiv die globalen Wechselmuster und lokalen Wechselmuster unter Verwendung des Wechselmuster-Suffix-Satzes, der mit der Quellenstation und Zielstation verbunden ist. Wie zuvor erwähnt, beschreibt der Wechselmuster-Suffix-Satz den Satz von Suffixen, die mit einem Paar von Stationen verbunden sind. Jedes Suffix im Satz beschreibt eine Folge von zwei Stationen, die Transitfahrzeugwechsel an zwei Stationen vor dem Erreichen der Station darstellen, die mit dem Wechselmuster-Suffix verbunden sind.Please note, however, that if the optional pattern swap compression has been performed, the swatch patterns themselves will not be saved. Therefore, the swap design module decompresses 135 the change patterns to create a complete change pattern for the journey. In other words, the swap design module creates 135 recursively the global swap patterns and local swap patterns using the Swap Suffix set associated with the source station and destination station. As previously mentioned, the inter-pattern suffix set describes the set of suffixes associated with a pair of stations. Each suffix in the sentence describes a sequence of two stations representing transit vehicle changes at two stations prior to reaching the station, which are connected to the swap suffix.
Beispielweise bestimmt das Wechselmusterkonstruktionsmodul 135 bei einer gegebenen Quellenstation A und einer Zielstation F zum Bestimmen des Wechselmusters für das Paar den Satz von Suffixen von A bis F. Nehmen wir das Szenario an, bei den eines der Suffixe, die mit Station F verbunden sind, (D, E) ist. Dies gibt an, dass ein Wechselmuster von A bis F vorhanden ist, das als A, ..., D, E, F endet.For example, the swap design module determines 135 for a given source station A and a destination F for determining the alternate pattern for the pair, the set of suffixes from A to F. Consider the scenario where one of the suffixes associated with station F is (D, E) , This indicates that there is an alternating pattern from A to F that ends as A, ..., D, E, F.
Zum Erstellen des nächsten Schenkels des Wechselmusters bestimmt das Wechselmusterkonstruktionsmodul 135 den Wechselmuster-Suffix-Satz, der mit den zwei Stationen verbunden ist, die im vorherigen Wechselmuster-Suffix aufgeführt sind. Die Wechselmuster-Suffixe werden dann miteinander verkettet, was in einer Untergruppe des Wechselmusters resultiert. Das Wechselmusterkonstruktionsmodul 135 wiederholt das Abrufen von Wechselmuster-Suffix-Sätzen, bis das Wechselmuster vom Quellenstandort zur Zielstation konstruiert ist.The swatch design module determines to create the next leg of the swap pattern 135 The Swap Suffix set associated with the two stations listed in the previous Swap Suffix. The swatch suffixes are then concatenated, resulting in a subset of the swatch pattern. The swap design module 135 retrieves interchange pattern suffix sets until the swap pattern is constructed from the source location to the destination station.
Unter Fortsetzung des obigen Beispiels, das dahingehend dargestellt ist, das es ein Wechselmuster von A bis F, endend als A, ... D, E, F ist, ruft das Wechselmusterkonstruktionsmodul 135 dann den Satz von Suffixen für das Paar (A, E) ab, das in D endet. In diesem Szenario kann das Wechselmusterkonstruktionsmodul 135 Suffixe (C, D) oder (B, D) für Station D abrufen. Das Wechselmusterkonstruktionsmodul 135 ruft dann die Suffixe für Paar (A, D) ab, die in C enden, und Suffixe für Paar (A, D), die in B enden. Das kann darin resultieren, dass Suffixe (A, C) und (B, C) abgerufen werden. Das Wechselmusterkonstruktionsmodul 135 bestimmt dann die Suffixe für Paar (B, D), die in B enden, was in Suffix (A, B) resultieren kann, und die Suffixe für Paar (B, C), die in B enden, was in Suffix (A, B) resultieren kann. Das Wechselmusterkonstruktionsmodul 135 verkettet dann die Wechselmuster-Suffixe, um Wechselmuster von Quellenstation A zu Zielstation F auszubilden. im oben beschriebenen Beispiel ist der Satz von Wechselmustern von A bis F (A, B, D, E, F), (A, B, C, D, E, F) und (A, C, D, E, F).Continuing the above example, which is illustrated as being an alternate pattern from A to F ending as A, ... D, E, F, the swatch design module calls 135 then the set of suffixes for the pair (A, E) ending in D. In this scenario, the swap design engine may 135 Call suffixes (C, D) or (B, D) for station D. The swap design module 135 then retrieves the suffixes for pair (A, D) ending in C and suffixes for pair (A, D) ending in B. This can result in retrieving suffixes (A, C) and (B, C). The swap design module 135 then determines the suffixes for pair (B, D) ending in B, which may result in suffix (A, B), and the suffixes for pair (B, C) ending in B, which in suffix (A, B) can result. The swap design module 135 then concatenates the inter-pattern suffixes to form swapping patterns from source station A to destination station F. in the example described above, the set of alternating patterns is from A to F (A, B, D, E, F), (A, B, C, D, E, F) and (A, C, D, E, F) ,
3. Anfragegrapherzeugung3. Request graph generation
In der dritten Stufe der Verarbeitung einer Anfrage erzeugt 1205 das Anfragegrapherzeugungs(QGG)-Modul 119 einen Anfragegraphen. Im Allgemeinen beinhaltet ein Anfragegraph nur Transitinformationen in Bezug auf die Anfrage, und ist zeitabhängig. Der Anfragegraph wird zum Bestimmen der optimalen Route vom Quellenstandort zum Zielstandort verwendet. Der Anfragegraph minimiert die Berechnung, die zum Bestimmen einer optimalen Route benötigt wird, da die im Anfragegraphen beinhalteten Informationen nur mit der Anfrage in Zusammenhang stehen. In einer Ausführungsform beinhaltet der Anfragegraph den Quellenstandort und den Zielstandort in Bezug auf die Anfrage, Knoten, die Stationen darstellen und Bögen, die Stationen verbinden. Die Stationen im Anfragegraphen stellen Transitstationen dar, die in Wegen beinhaltet sind, um den Zielstandort vom Quellenstandort zu erreichen, wo Transitfahrzeugwechsel eintreten. Jeder Bogen im Anfragegraphen stellt eine Direktverbindung zwischen dem Paar von Stationen dar, die die Knoten verbindet. Daher kann der Bogen eine oder mehrere Zwischenstationen darstellen, an denen Halte (aber keine Wechsel) entlang des Wegs zum Erreichen der Zielstation durchgeführt werden, die durch den Bogen verbunden ist. Zusätzlich kann ein Bogen das Gehen von einer Station darstellen, an der ein Fahrzeug zu einer Station abfuhr, an der ein Einstieg in ein Fahrzeug erfolgt.In the third stage of processing a request generated 1205 the request graph generation (QGG) module 119 a request graph. In general, a request graph includes only transit information related to the request, and is time-dependent. The request graph is used to determine the optimal route from the source location to the destination location. The query graph minimizes the computation needed to determine an optimal route, since the information contained in the query graph is only related to the query. In one embodiment, the query graph includes the source location and destination location with respect to the request, nodes representing stations, and arcs connecting stations. The stations in the request graph represent transit stations included in ways to reach the destination location from the source location where transit vehicle changes occur. Each arc in the request graph represents a direct connection between the pair of stations connecting the nodes. Thus, the sheet may represent one or more intermediate stations at which stops (but not changes) are made along the way to reach the destination station connected by the sheet. In addition, a bow Represent the walk from a station at which a vehicle drove off to a station at which an entry into a vehicle takes place.
Unter nun erfolgender Bezugnahme auf 14 ist ein Prozessablauf des QGG-Moduls 119 zum Erzeugen eines Anfragegraphen in Zusammenhang mit einer empfangenen Anfrage dargestellt. Das QGG-Modul 119 nimmt als Eingabe die Wechselmuster 1400, die mit dem Quellenstandort und Zielstandort verbunden sind, wie durch das Wechselmusterkonstruktionsmodul 135 bestimmt.Now referring to 14 is a process flow of the QGG module 119 for generating a request graph in connection with a received request. The QGG module 119 takes as input the change patterns 1400 associated with the source location and destination location, such as by the swap design module 135 certainly.
Sobald der Satz von Wechselmustern für jedes Stationspaar (d. h. Quellenstation und Zielstation) empfangen ist, konstruiert 1403 das QGG-Modul 119 den Anfragegraphen unter Verwendung des Satzes von Wechselmustern für jedes Stationspaar. Das QGG-Modul 119 konstruiert den Anfragegraphen durch Darstellen 1401 des Satzes von Wechselmustern von jedem Stationspaar als eine Reihe von Knoten. Das heißt, jede in einem Wechselmuster angegebene Station wird als ein Knoten im Anfragegraphen dargestellt, beim die Knoten in der Reihenfolge sequenziert sind, die durch das Wechselmuster angegeben ist. Das QGG-Modul 119 verbindet 1403 dann jedes Paar von Stationen gemäß der Folge, die im Wechselmuster angegeben ist, mit einem Bogen. Die Bogen stellen die Fahrtrichtung im Anfragegraphen dar, und verbinden Paare von Knoten im Anfragegraphen. In einer Ausführungsform stellt jeder Bogen entweder Gehen zu einer Station oder Fahren zu einer Station dar, während man sich auf einem Transitfahrzeug befindet. Die Darstellung von jedem Bogen kann im Anfragegraphen in Abhängigkeit davon bereitgestellt werden, ob die sich wiederholenden Folgen in Wechselmustern während Wechselmusterkompression herausgefiltert wurden. im Kontext dieser Abhandlung wurden die Wechselmuster von sich wiederholenden Folgen gefiltert.Once the set of swap patterns is received for each station pair (ie source station and destination station), constructed 1403 the QGG module 119 the query graph using the set of swap patterns for each station pair. The QGG module 119 constructs the query graph by showing 1401 of the set of alternating patterns from each station pair as a series of nodes. That is, each station specified in an exchange pattern is represented as a node in the request graph, with the nodes sequenced in the order indicated by the exchange pattern. The QGG module 119 combines 1403 then each pair of stations according to the sequence indicated in the alternating pattern with a bow. The arcs represent the direction of travel in the query graph and connect pairs of nodes in the query graph. In one embodiment, each sheet is either going to a station or driving to a station while on a transit vehicle. The representation of each arc may be provided in the query graph depending on whether the repetitive sequences in alternating patterns were filtered out during inter-pattern compression. In the context of this essay, the patterns of change were filtered by repetitive sequences.
In einer Ausführungsform weist das QGG-Modul 119 die Knoten-ID von jedem Knoten im Anfragegraphen als die Stations-ID vom Transitgraphen zu, mit Ausnahme von zwei künstlichen Knoten, die den Quellenstandort und den Zielstandort darstellen. Das QGG-Modul 119 gibt diesen Knoten eine generische ID, wie z. B. „1” für Startstandort und „2” für den Zielort, gemäß einer Ausführungsform. Das QGG-Modul 119 verbindet die Knoten, die den Quellenstandort und Zielstandort mit anderen Knoten im Anfragegraphen verbinden, durch Bögen, die Gehen darstellen. Sobald das QGG-Modul 119 das Zuweisen einer Identifikation zu jedem Knoten abgeschlossen hat, ist der Anfragegraph 1405 fertiggestellt.In one embodiment, the QGG module 119 the node ID of each node in the query graph as the station ID of the transit graph, except for two artificial nodes representing the source site and the destination site. The QGG module 119 gives this node a generic ID, such as: As "1" for start site and "2" for the destination, according to one embodiment. The QGG module 119 connects the nodes connecting the source site and destination site to other nodes in the query graph by arcs representing walking. Once the QGG module 119 the assignment of an identification to each node has been completed is the request graph 1405 completed.
Unter nun erfolgender Bezugnahme auf 15 ist ein Beispiel eines Anfragegraphen 1500 von einem Quellenstandort dargestellt, der durch den Knoten mit der Kennzeichnung „1” dargestellt ist, wobei der Zielstandort durch den Knoten mit der Kennzeichnung „2” dargestellt ist. Obwohl nur drei Wechselmuster vom Quellenstandort zur Zielstation dargestellt sind, versteht sich, dass der Anfragegraph jede Anzahl von Wechselmustern aufweisen kann.Now referring to 15 is an example of a request graph 1500 from a source location represented by the node labeled "1", the destination location being represented by the node labeled "2". Although only three alternating patterns from the source location to the destination station are shown, it should be understood that the request graph may include any number of alternating patterns.
In diesem Beispiel wird jede Reise durch die Wechselmusterlegende 1501 bezeichnet. Wie in der Wechselmusterlegende 1501 dargestellt, ist Wechselmuster 1 mit durchgehenden Bögen verbunden, Wechselmuster 2 ist mit gepunkteten Bögen verbunden und Wechselmuster 3 ist mit gestrichelten Bögen verbunden. Der Anfragegraph 1500 veranschaulicht, dass Wechselmuster 1 ein Wechselmuster von {1ABC2} aufweist. Daher stellt das Wechselmuster Gehen vom Quellenstandort zu Station A, Transit (d. h. entweder unter Verwendung eines Transitfahrzeugs oder Gehen) von Station A zu Station B, Transit von Station B zu Station C, und Gehen von Station C zum Zielstandort dar. Wechselmuster 2 weist andererseits ein Wechselmuster {1DEFG2} auf. Daher gibt der Anfragegraph 1500 für Wechselmuster 2 Gehen vom Startstandort zu Station D, Transit von D zu Station E, Transit von Station E zu Station F, Transit von Station F zu Station G und Gehen von Station G zur Zielstation an. Wechselmuster 3 weist ein Muster von {1AFC2} auf, und kann auf eine ähnliche Art wie Fahrten 1 und 2 beschrieben werden. Wie zuvor erwähnt, ist die mit jedem Bogen verbundene Form von Transit nicht durch den Anfragegraphen dargestellt und der Anfragegraph beschreibt nicht, ob ein Wechsel an einer Station im Anfragegraphen eintritt.In this example, every journey is through the changing pattern legend 1501 designated. As in the changing pattern legend 1501 1, alternating pattern 1 is connected with continuous arcs, alternating pattern 2 is connected with dotted arcs and alternating pattern 3 is connected with broken arcs. The request graph 1500 illustrates that swap pattern 1 has a swap pattern of {1ABC2}. Thus, the swap pattern represents going from the source location to station A, transit (ie either using a transit vehicle or going) from station A to station B, transit from station B to station C, and going from station C to the destination location a swap pattern {1DEFG2}. Therefore, the request graph gives 1500 for change pattern 2 Go from the starting location to station D, transit from D to station E, transit from station E to station F, transit from station F to station G and go from station G to the destination station. Interchange Pattern 3 has a pattern of {1AFC2}, and may be described in a similar manner to Runs 1 and 2. As mentioned previously, the form of transit associated with each arc is not represented by the query graph and the query graph does not describe whether a change occurs at a station in the query graph.
4. Anfragegrapherweiterung4. Request graph enhancement
Wir weisen darauf hin, dass die vierte Stufe der Verarbeitung einer Anfrage optional davon abhängig ist, ob der optionale Schritt von Wechselmusterkompression ausgeführt wird und Wechselmuster von ihrer wiederholenden Sequenz von Stationen während der Wechselmusterkompression gefiltert werden. Wie oben erwähnt, wird beim Kontext der Abhandlung jedoch davon ausgegangen, dass Wechselmuster gefiltert wurden. In der vierten Stufe der Verarbeitung einer Anfrage erweitert 1205 das Anfrageanalyse(QGA)-Modul 121 den durch das QGG-Modul 119 erzeugten Anfragegraphen. Wie zuvor erwähnt, beinhaltet der Anfragegraph nur Knoten, die Stationen darstellen, und Bögen, die die Knoten verbinden. Der Anfragegraph beschreibt in seiner unerweiterten Form nicht, ob ein Bogen Transit mit über Gehen oder ein Transitfahrzeug beschreibt. Durch Erweitern des Anfragegraphen kann das QGA-Modul 121 mögliche Routen zwischen jeder Station in einem Wechselmuster bestimmen, das beschreibt, ob Wechsel durchgeführt werden, und die Ankunfts-/Abfahrtszeit an jeder Station, da jede Route eine Instanziierung eines Wechselmusters zu einer spezifischen Zeit ist.Note that the fourth stage of processing a request is optionally dependent on whether the optional step of inter-pattern compression is performed and swapping patterns of its repeating sequence of stations are filtered during inter-pattern compression. As mentioned above, however, the context of the paper assumes that swatch patterns have been filtered. In the fourth stage of processing a request extended 1205 the Request Analysis (QGA) module 121 through the QGG module 119 generated request graphs. As previously mentioned, the query graph includes only nodes representing stations and arcs connecting the nodes. The request graph, in its unexpanded form, does not describe whether an arc describes transit with walking or a transit vehicle. By Expanding the query graph may be the QGA module 121 determine possible routes between each station in a swap pattern that describes whether swaps are being made and the arrival / departure time at each station, since each route is an instantiation of a swap pattern at a specific time.
Unter nun erfolgender Bezugnahme auf 16 ist ein Prozessablauf des QGA-Moduls 121 zum Erweitern des Anfragegraphen dargestellt. Das QGA-Modul 121 nimmt als Eingabe den Anfragegraphen 1405, der durch das QGG-Modul 119 erzeugt ist. Das QGA-Modul 121 erweitert 1600 jeden Knoten im Anfragegraphen mit Ausnahme des Quellenstandorts und des Zielstandorts in einen Stationsknoten und einen Onboard-Knoten. Daher wird jeder Knoten im Anfragegraphen nun durch zwei Knoten im erweiterten Anfragegraphen dargestellt.Now referring to 16 is a process flow of the QGA module 121 to expand the query graph. The QGA module 121 takes as input the query graph 1405 passing through the QGG module 119 is generated. The QGA module 121 expanded 1600 each node in the request graph except the source location and the destination site into a station node and an onboard node. Therefore, each node in the query graph is now represented by two nodes in the extended query graph.
Berücksichtigen wir nun die Ausführungsform, bei der Wechselmuster nicht von wiederholten Folgen von Stationen in Wechselmustern während Wechselmusterberechnung gefiltert werden. In dieser Ausführungsform resultiert die Konstruktion des Anfragegraphen in einem erweiterten Anfragegraphen, da die Wechselmuster angeben, ob ein Wechsel an einer Station eingetreten ist. Beispielsweise gibt beim Wechselmuster von ABBCDF dieses Wechselmuster an, dass eine Person an Station B angekommen ist und aus einem Transitfahrzeug an Station B ausgestiegen, und in ein anderes Transitfahrzeug in Station B eingestiegen ist. Daher wird in dieser Ausführungsform der Anfragegraph mit einem Stationsknoten und Onboard-Knoten für Station B erzeugt. Der Anfragegraph wird im Wesentlichen in seiner erweiterten Form konstruiert. Daher sind in dieser Ausführungsform die oben beschriebenen Lehren hinsichtlich der Erweiterung eines Anfragegraphen während der Anfragegrapherzeugung beinhaltet.Now consider the embodiment where swapping patterns are not filtered by repetitive sequences of swatch stations during swap design calculation. In this embodiment, the construction of the query graph results in an extended query graph, since the swap patterns indicate whether a switch has occurred at a station. For example, in the alternate pattern of ABBCDF, this pattern indicates that a person has arrived at station B and exited a transit vehicle at station B and boarded another transit vehicle at station B. Therefore, in this embodiment, the request graph is generated with a station node and onboard node for station B. The query graph is constructed essentially in its expanded form. Therefore, in this embodiment, the above-described teachings regarding the extension of a request graph during the request graph generation are included.
5. Anfragegrapherweiterung5. Request graph enhancement
Sobald jeder Knoten erweitert wurde, bewertet 1207 das QGA-Modul 121 den erweiterten Anfragegraphen. In einer Ausführungsform bestimmt 1601 das QGA-Modul 121 Direktverbindungen zwischen Stationen im erweiterten Anfragegraphen unter Verwendung der Direktverbindungs-1603-informationen, die in der Direktverbindungsdatenbank 125 gespeichert sind. Das heißt, dass für jedes Wechselmuster im Anfragegraphen das QGA-Modul 125 von den gespeicherten Direktverbindungsinformationen bestimmt, ob es eine Direktverbindung von der Quellenstation zur nächstfolgenden Station gibt, von der nächstfolgenden Station zu ihrer nächstfolgenden Station usw. bis zur Zielstation. In einer Ausführungsform bestimmt das QGA-Modul 125 nur Direktverbindungen, die zu einer Zeit größer als oder gleich der angegebenen Zeit abfahren, da die empfangene Anfrage eine Abfahrtszeit beinhaltet. Wenn die empfangene Anfrage eine Ankunftszeit am Zielort beinhaltet, bestimmt das QGA-Modul 125 Direktverbindungen, die an der Zielstation zu einer Zeit kleiner als oder gleich der Ankunftszeit ankommen. Daher ruft das QGA-Modul 125 nur Direktverbindungen ab, die relevant für die Anfrage sind.Once each node has been expanded, rated 1207 the QGA module 121 the extended request graph. In one embodiment 1601 the QGA module 121 Direct connections between stations in the extended request graph using direct connection 1603 information contained in the direct connection database 125 are stored. This means that for every pattern in the query graph, the QGA module 125 from the stored direct link information, determines whether there is a direct connection from the source station to the next station, from the next station to its next station, and so on, to the destination station. In one embodiment, the QGA module determines 125 only direct connections departing at a time greater than or equal to the specified time, since the request received includes a departure time. If the received request includes an arrival time at the destination, the QGA module determines 125 Direct connections arriving at the destination station at a time less than or equal to the arrival time. Therefore, the QGA module calls 125 only direct connections that are relevant to the request.
Im Allgemeinen kann das QGA-Modul 125 eine oder mehrere Direktverbindungen von zwischen jedem Paar von Stationen in einem Wechselmuster aus bestimmen. Jede Direktverbindung kann eine andere Fahrt zwischen dem Paar von Stationen darstellen. Beispielsweise können die Fahrten voneinander differenziert werden, weil in jeder Direktverbindungsfahrt unterschiedliche Transitfahrzeuge verwendet werden. Daher können die Direktverbindungen Fahrten zwischen dem Paar von Stationen beinhalten, die dieselben Ankunfts-/Abfahrtszeiten an jeder Station der Fahrt aufweisen, aber aufgrund der Tatsache unterschiedlich sind, dass unterschiedliche Transitfahrzeuge für jede Fahrt verwendet werden. Zusätzlich können die Direktverbindungsfahrten basierend auf Fahrplaninformationen differenziert werden, die mit den Fahrten verbunden sind. Beispielsweise kann ein einzelnes Transitfahrzeug mehrere Direktverbindungsfahrten zwischen einem Paar von Stationen ausführen, und die Direktverbindungsfahrten können den Fahrplan für jede Fahrt spezifizieren.In general, the QGA module 125 determine one or more direct connections from between each pair of stations in an exchange pattern. Each direct connection may represent a different journey between the pair of stations. For example, the journeys can be differentiated from one another because different transit vehicles are used in each direct connection journey. Therefore, the direct connections may include trips between the pair of stations having the same arrival / departure times at each station of the trip, but different due to the fact that different transit vehicles are used for each trip. In addition, the direct link trips can be differentiated based on schedule information associated with the trips. For example, a single transit vehicle may make multiple direct links between a pair of stations, and the direct links may specify the schedule for each trip.
Nehmen wir beispielsweise das Wechselmuster ABC an. Zum Bestimmen der Direktverbindungen, die mit den Stationen im Wechselmuster verbunden sind, ruft das QGA-Modul 125 (d. h. holt) die Direktverbindungen von Station A zu Station B ab. Das QGA-Modul 125 ruft dann die Direktverbindungen von B zu C ab, die aus B nach der Ankunft an Station B von Station A abfahren. Wir weisen darauf hin, dass eine Direktverbindung zwischen einer Station inhärent Stationen angeben kann, in denen das mit der Fahrt verbundene Transitfahrzeug Halte ausführt, bevor es die Station erreicht, an der ein Wechsel stattfindet. Beispielsweise kann die Direktverbindung von Station A zu Station B zwischen diesen Stationen Halte an Stationen E und F beinhalten.For example, suppose the alternating pattern ABC. To determine the direct connections that are connected to the stations in the swap pattern, the QGA module calls 125 (ie picks up) the direct connections from station A to station B. The QGA module 125 then call the direct links from B to C departing from B upon arrival at Station B of Station A. Please note that a direct connection between a station may inherently indicate stations in which the transit vehicle connected to the journey is stopping before it reaches the station where a change takes place. For example, the direct connection from station A to station B between these stations may include stops at stations E and F.
Sobald die Direktverbindungsfahrten abgerufen sind, fügt das QGA-Modul 125 die Direktverbindungen zusammen, um die Reise von der Quellenstation zur Zielstation zu erzeugen. Zusammenfügen (d. h. verketten) von einer oder mehreren Direktverbindungen umfasst das Zusammenlegen der Direktverbindungen, um die Reise von der Quellenstation zur Zielstation abzudecken.Once the direct connection runs are retrieved, the QGA module adds 125 the direct connections together to create the journey from the source station to the destination station. Merging (ie, concatenating) one or more direct connections involves merging the direct connections to cover the journey from the source station to the destination station.
Nehmen wir beispielsweise erneut das Wechselmuster ABC an. Das QGA-Modul 125 würde Direktverbindungsfahrten von Station A zu Station B und von Station B zu Station C bei einer Abfahrtszeit nach der Ankunft an Station B bestimmen. Nehmen wir an, dass die Direktverbindungsfahrt von A nach B bei B um 1:00 ankommt. Um die Fahrten zusammenzufügen, bestimmt das QGA-Modul 125 eine Direktverbindungsfahrt, die Station B für Station C zu einer Zeit nach 1:00 verlässt, um dem Benutzer genügend Zeit zum Wechseln in das Fahrzeug an Station B zu geben, das zu Station C fährt. For example, suppose again the alternating pattern ABC. The QGA module 125 would determine direct connections from station A to station B and from station B to station C at a departure time after arrival at station B. Suppose that the direct connection from A to B arrives at B at 1:00. To assemble the rides, the QGA module determines 125 a direct link ride leaving Station B for Station C at a time past 1:00 to allow the user enough time to change to the vehicle at Station B heading to Station C.
Sobald die Direktverbindungen zwischen Stationen bestimmt wurden, fügt 1605 das QGA-Modul 125 Bögen zu den Knoten im erweiterten Anfragegraphen hinzu, um die Fahrten der Wechselmuster darzustellen, die durch eine oder mehrere Direktverbindungen ausgebildet werden. In einer Ausführungsform weist der erweiterte Anfragegraph vier Typen von Bögen ähnlich der Abhandlung des Transitgraphen auf, und verwendet dieselbe, oben abgehandelte Bezeichnung, um Transitereignisse zu beschreiben, die zwischen Stationen eintreten.Once the direct connections between stations have been determined, adds 1605 the QGA module 125 Add arcs to the nodes in the extended query graph to represent the rides of the swath patterns formed by one or more direct links. In one embodiment, the extended query graph has four types of arcs similar to the Transit Graph essay, and uses the same term described above to describe transit events that occur between stations.
In einer Ausführungsform sind der Quellenstandort und Zielstandort jeweils mit dem Stationsknoten der Quellenstation und dem Onboard-Knoten der Zielstation verbunden, um Gehen zur Station darzustellen. Für alle anderen Stationen fügt das QGA-Modul 125 Bögen zwischen Knoten im oben beschriebenen Schema basierend auf den Fahrten hinzu, die über Direktverbindungsanfragen bestimmt sind. Zum Darstellen eines Wechsels, der an jeder Station im erweiterten Anfragegraphen eintritt, für ein Paar von Stationen, fügt das QGA-Modul 125 einen Bogen zwischen dem Onboard-Knoten der Quellenstation und dem Stationsknoten der Station hinzu, in der der Wechsel eintritt. Nehmen wir beispielsweise im Wechselmuster ABC das Paar AB an, das eine Person beschreibt, die in ein Fahrzeug an Station A einsteigt und zu Station B reist, während die Person das Fahrzeug an Station B verlässt, um in ein anderes Fahrzeug an Station B einzusteigen. In diesem Beispiel würde der Onboard-Knoten an Station A mit dem Stationsknoten an Station B verbunden werden, was bedeutet, dass ein Wechsel eintritt.In one embodiment, the source location and destination location are each connected to the station node of the source station and the onboard node of the destination station to represent walking to the station. For all other stations adds the QGA module 125 Arcs between nodes in the scheme described above based on the trips determined via direct connection requests. To represent a change that occurs at each station in the extended query graph for a pair of stations, the QGA module inserts 125 Add an arc between the onboard node of the source station and the station node of the station where the change occurs. For example, in the alternate pattern ABC, suppose the pair AB describing a person entering a vehicle at station A and traveling to station B while the person is leaving the vehicle at station B to board another vehicle at station B. In this example, the onboard node at station A would be connected to the station node at station B, which means that a change will occur.
Wir weisen daraufhin, dass die Direktverbindungsinformationen, die zum Erzeugen der Fahrten verwendet werden, Fahrplaninformationen aufweisen, die Ankunfts-/oder Abfahrtszeiten an Stationen beschreiben. Daher sind die Bögen im erweiterten Anfragegraphen inhärent mit den Fahrplaninformationen verbunden. Wenn beispielsweise zwei Bögen zwischen Stationsknoten A und Onboard-Knoten B vorhanden sind, kann der erste Bogen das Abfahren an Station A um 8:00 und Ankommen an Station B um 12:00 darstellen, während der zweite Bogen das Abfahren an Station A um 10:00 und Ankommen an Station B um 11:00 darstellen kann. Die Bögen können auch Ankünfte/Abfahrten an Stationen angeben, wo Halte während der Direktverbindungsfahrt durchgeführt werden.We point out that the direct link information used to generate the trips has schedule information describing arrival / departure times at stations. Therefore, the arcs in the extended query graph are inherently linked to the schedule information. For example, if there are two arcs between station node A and onboard node B, the first arc may represent departing at station A at 8:00 and arriving at station B at 12:00, while the second arc may be at station 10 at 10:00 : 00 and arriving at station B at 11:00. The bows may also indicate arrivals / departures at stations where stops will be made during the direct connection journey.
Unter nun erfolgender Bezugnahme auf 17 ist ein Beispiel eines erweiterten Anfragegraphen 1700 vom Anfragegraphen 1500 veranschaulicht, dargestellt in 15. Wir weisen darauf hin, dass die Fahrtlegende 1701 drei Fahrten veranschaulicht: Reise 1, Reise 2 und Reise 3. Reise 1 wird durch den Weg von durchgehenden Bögen dargestellt und entspricht Wechselmuster 1 vom Anfragegraphen 1500. Reisen 2 und 3 entsprechen jeweils Wechselmustern 2 und 3 vom Anfragegraphen 1500.Now referring to 17 is an example of an extended query graph 1700 from the request graph 1500 illustrated in FIG 15 , We point out that the driving legend 1701 Three trips are illustrated: Trip 1, Trip 2 and Trip 3. Trip 1 is represented by the path of continuous arcs and corresponds to Recurrence Pattern 1 from the query graph 1500 , Travel 2 and 3 correspond respectively to patterns 2 and 3 of the request graph 1500 ,
Wie im Anfragegraphen 1700 dargestellt, veranschaulichen Reisen 1, 2 und 3 Wechsel, die an Stationen basierend auf der Beschreibung der Bedeutung von Bögen eintreten, die die unterschiedlichen Typen von Knoten verbinden. Insbesondere veranschaulichen Reisen 1 und 3 das Auftreten eines einzelnen Wechsels, während Reise 2 das Auftreten von zwei Wechseln veranschaulicht. Unter Verwendung von Reise 1 veranschaulicht der erweiterte Anzeigegraph beispielsweise eine Person, die vom Startstandort „1” geht, und zur Station A geht und in ein Transitfahrzeug an Station A einsteigt. Das Transitfahrzeug fährt zu Station B, wo der Benutzer das Transitfahrzeug verlässt und in ein zweites Transitfahrzeug an Station B einsteigt, das das Eintreten des Wechsels darstellt. Von Station B fährt das zweite Transitfahrzeug zu Station C, wo der Benutzer aus dem zweiten Transitfahrzeug aussteigt und zum Zielort geht. Für Reise 3 veranschaulicht der erweiterte Anzeigegraph einen Wechsel, der an Station E und an Station F eintritt, was durch die Bögen bezeichnet wird, die einen Onboard-Knoten mit einem Stationsknoten an beiden Stationen E und F verbinden.As in the request graph 1700 4, trips 1, 2, and 3 illustrate bills entering stations based on the description of the meaning of bows connecting the different types of nodes. In particular, Journeys 1 and 3 illustrate the occurrence of a single shift, while Journey 2 illustrates the occurrence of two shifts. For example, using trip 1, the enhanced indicator graph illustrates a person walking from the starting location "1" and going to station A and entering a transit vehicle at station A. The transit vehicle travels to station B, where the user exits the transit vehicle and enters a second transit vehicle at station B, which represents the onset of the change. From station B, the second transit vehicle travels to station C where the user exits the second transit vehicle and goes to the destination. For travel 3 For example, the extended display graph illustrates a change that occurs at station E and at station F, indicated by the arcs connecting an onboard node to a station node at both stations E and F.
Wir weisen darauf hin, dass das QGA-Modul 125 für jedes Wechselmuster im Anzeigegraphen 1500 eine oder mehrere Reisen von der Quellenstation zur Zielstation finden würde. im erweiterten Anfragegraphen 1700 ist zwecks einfacherer Abhandlung nur eine einzelne Reise für jedes Wechselmuster dargestellt. Es versteht sich jedoch, dass die Folge von Stationen für jedes Wechselmuster mehr als eine einzelne Fahrt zwischen den Stationen aufweisen kann, die unterschiedliche Fahrten von der Quellenstation zur Zielstation darstellen. Beispielsweise können die Stationen, die mit Fahrt 1 verbunden sind, drei Sätze von unterschiedlichen Bögen aufweisen, die zwischen den Wechselmustern von 1ASBOBSCO2 verbinden, wobei jeder Bogen eine andere Fahrt darstellt.Please note that the QGA module 125 for every change pattern in the display graph 1500 would find one or more trips from the source station to the destination station. in the extended request graph 1700 For simplicity, only a single trip is shown for each pattern. However, it should be understood that the sequence of stations for each alternate pattern may include more than a single trip between stations representing different trips from the source station to the destination station. For example, the stations that travel with 1 are connected, three sets of different bows 1A connecting between the alternating patterns of 1A S B O B S C O 2, each arc representing a different ride.
6. Bestimmen von optimalen Fahrten6. Determine optimal rides
Unter nun erfolgender Bezugnahme auf 18 ist ein Prozessablauf dargestellt, der durch das QGA-Modul 121 ausgeführt wird, um optimale Reisen zu bestimmen 1209. In einer Ausführungsform bestimmt das QGA-Modul 121 optimale Reisen unter Verwendung des erweiterten Anzeigegraphen 1607. Das QGA-Modul 121 beginnt durch Initialisieren 1801 der Startstandorts des Anzeigegraphen. Durch Initialisieren des Startstandorts stellt das QGA-Modul 121 Nullkosten beim Startstandort ein. Für jeden Bogen im erweiterten Anzeigegraphen wendet 1803 das QGA-Modul Kosten an. Kosten werden auf den Bogen angewandt, der Gehen vom Quellenstandort zur Quellenstation darstellt, und Kosten werden auch auf den Bogen angewandt, der Gehen von der Zielstation zum Zielstandort darstellt. Kosten werden dann auf die verbleibenden Bögen im erweiterten Anfragegraphen angewandt.Now referring to 18 is a process flow represented by the QGA module 121 is executed to determine optimal travel 1209 , In one embodiment, the QGA module determines 121 optimal travel using the advanced display graph 1607 , The QGA module 121 starts by initializing 1801 the starting location of the display graph. Initializing the startup site provides the QGA module 121 Zero costs at the starting location. For each arc in the expanded display graph applies 1803 the QGA module costs. Costs are applied to the arc representing going from the source site to the source station, and costs are also applied to the arch representing going from the destination station to the destination site. Costs are then applied to the remaining arcs in the extended query graph.
Das QGA-Modul 121 wendet 1805 dann eine Pareto-Dijkstra-Berechnung an, um optimale Reisen im erweiterten Anfragegraphen basierend auf den Kosten der Fahrten zu erwähnen, wie durch die Direktverbindungstabelle 1807 spezifiziert. In einer Ausführungsform zeigt das Ergebnis der Pareto-Dijkstra-Berechnung eine Mehrzahl von optimalen Reisen 1809, die als divers angesehen werden. Das GQA-Modul 121 bestimmt eine Mehrzahl von Reisen mit niedrigen Kosten, die sich darin unterschieden, dass sie entlang geografisch unterschiedlicher Wege verlaufen, was bedeutet, dass die Wechselmuster der Reisen unterschiedlich sind. In einer anderen Ausführungsform bestimmt das QGA-Modul 121 Reisen mit Fahrzeugvielfalt. Das bedeutet, dass das QGA-Modul 121 eine optimale Reise bestimmt, die per Bus durchgeführt wird, eine optimale Reise per U-Bahn und eine optimale Reise per Straßenbahn. Schlussendlich kann das QGA-Modul 121 optimale Reisen bestimmen, die eine temporale Vielfalt darin aufweisen, dass die Reisen in der Route ähnlich sind, doch die Reisen (d. h. ankommen und/oder abfahren) zu unterschiedlichen Zeiten stattfinden. Beispielsweise können zwei Reisen mit derselben Route dieselben Kosten aufweisen, jedoch zu Zeiten starten, die fünfzehn Minuten auseinanderliegen.The QGA module 121 applies 1805 then a Pareto-Dijkstra calculation to mention optimal travel in the extended query graph based on the cost of the trips, such as through the direct link table 1807 specified. In one embodiment, the result of the Pareto-Dijkstra calculation shows a plurality of optimal trips 1809 that are considered diverse. The GQA module 121 determines a plurality of low-cost trips that differ in that they travel along geographically different paths, which means that the patterns of travel change are different. In another embodiment, the QGA module determines 121 Travel with vehicle diversity. That means the QGA module 121 An optimal trip, which is carried out by bus, an optimal trip by subway and an optimal trip by tram. Finally, the QGA module 121 determine optimal journeys that have a temporal diversity in that the journeys in the route are similar, but the journeys (ie arrive and / or depart) take place at different times. For example, two trips on the same route may have the same cost, but start at times fifteen minutes apart.
In einer alternativen Ausführungsform kann das QGA-Modul 121 den erweiterten Anfragegraphen unter Verwendung anderer Techniken erkunden, anstatt eine Pareto-Dijkstra-Berechnung anzuwenden, um die optimalen Reisen zu bestimmen. In einer Ausführungsform verwendet das QGA-Modul 121 eine einzelne Kriteriums-Graph-Suchberechnung, wie z. B. den Dijkstra-Algorithmus. Da der Dijkstra-Algorithmus nur ein einzelnes Kriterium verwendet, um den Anfragegraphen auszuwerten, während die Anwendung von Pareto-Dijkstra den Anfragegraphen hinsichtlich mehrerer Kriterien bewertet, resultiert die Anwendung des Dijkstra-Algorithmus in einer schnelleren Bestimmung der optimalen Reisen. Das Verwenden des Dijkstra-Algorithmus zum Bewerten des Anfragegraphen resultiert jedoch in einem Satz von optimalen Reisen, die weniger vielfältig als der Satz von optimalen Reisen sind, der aus der Anwendung der Pareto-Dijkstra-Berechnung aufgrund der Bewertung des Anfragegraphen nur unter Verwendung eines einzelnen Kriteriums, wie z. B. Zeit oder Fahrzeugwechsel, resultiert.In an alternative embodiment, the QGA module 121 Explore the extended query graph using other techniques instead of applying a Pareto-Dijkstra calculation to determine the optimal travel. In one embodiment, the QGA module uses 121 a single criteria graph search calculation, such as For example, the Dijkstra algorithm. Since the Dijkstra algorithm uses only a single criterion to evaluate the query graph, while Pareto-Dijkstra's application evaluates the query graph for multiple criteria, the application of the Dijkstra algorithm results in a faster determination of optimal travel. However, using the Dijkstra algorithm to evaluate the query graph results in a set of optimal trips that are less diverse than the set of optimal trips resulting from the application of the Pareto-Dijkstra calculation due to the evaluation of the query graph using only a single one Criteria, such as As time or vehicle change results.
In einer weiteren Ausführungsform kann das QGA-Modul 121 auch andere Techniken zum Beschleunigen der Bewertung des Anfragegraphen verwenden, um die optimalen Reisen zu bestimmen. Beispielsweise kann das QGA-Modul 121 zielgerichtete Suchen anwenden, die Fachleuten auf dem Gebiet als A*-Suchalgorithmus bekannt sind, oder andere Heuristik, um die Geschwindigkeit des Bestimmens der optimalen Reisen und/oder der Vielfalt der Ergebnisse in Abhängigkeit von den Anforderungen des Systems zu verbessern.In a further embodiment, the QGA module 121 also use other techniques to speed up the evaluation of the query graph to determine the optimal travel. For example, the QGA module 121 Apply targeted searches known to those skilled in the art as the A * search algorithm, or other heuristics, to improve the speed of determining the optimum travel and / or the variety of results depending on the requirements of the system.
7. Bereitstellen von optimalen Reisen7. Providing optimal travel
In der letzten Stufe zum Verarbeiten einer Anfrage stellt 1211 das Fahrtdienstmodul 123 dem Benutzer die optimalen Reisen bereit. In einer Ausführungsform formatiert das Fahrtdienstmodul 123 die optimalen Reisen zur Anzeige auf einer Ergebnisseite. Jetzt bezugnehmend auf 19, unter nun erfolgender Bezugnahme ist ein Beispiel einer Ergebnisseite 1900 dargestellt. Die Anfrageneingabeabschnitt 1901 veranschaulicht Textboxen, in die der Quellenstandort und Zielstandort eingegeben werden. Der Vorschlagsroutenabschnitt 1903 veranschaulicht die optimalen Reisen, die durch den Transitserver 100 bestimmt sind. Wie in den Vorschlagsrouten 1903 zu sehen, stellte der Transitserver 100 drei optimale Reisen bereit, die eine ähnliche Transitdauer aufweisen, jedoch zu unterschiedlichen Zeiten starten. Der Reiseinformationsabschnitt 1905 veranschaulicht die Route der Reise. im dargestellten Beispiel ist die Route für Reise 1 dargestellt. Die Anweisungen geben an, vom Startstandort zur Caltrain-Station zu gehen. Obwohl nicht dargestellt, werden Anweisungen durch Drücken des Detailknopfs 1907 Anweisungen gegeben, wie die Caltrain-Station vom Startstandort zu erreichen ist. Dann geben die Anweisungen von der Caltrain-Station an, in den Zug 233 einzusteigen, der von der Mountain View Caltrain-Station um 8:59 abfährt und in der San Francisco Caltrain-Station um 10:02 ankommt. Von hier wird Bus 10 von Townsend St & 4. St um 10:09 genommen und kommt in Sansome St. & California St um 10:20 an. Der Benutzer geht dann zum Zielort in 555 California St.In the last stage to process a request 1211 the train service module 123 the optimal travel for the user. In one embodiment, the travel service module formats 123 the optimal trips to the ad on a results page. Referring now to 19 Now referring is an example of a results page 1900 shown. The request input section 1901 illustrates text boxes in which the source location and destination location are entered. The suggested route section 1903 illustrates the optimal journeys made by the transit server 100 are determined. As in the suggested routes 1903 to see, put the transit server 100 three optimal trips ready, which have a similar transit time, but start at different times. The travel information section 1905 illustrates the route of the journey. In the example shown, the route for trip 1 is shown. The instructions tell you to go from the starting location to the Caltrain station. Although not shown, instructions are issued by pressing the detail button 1907 Instructions on how to get to the Caltrain station from the starting location. Then the instructions from the Caltrain station indicate the train 233 boarding at 8:59 am from Mountain View Caltrain Station and arriving at the San Francisco Caltrain Station at 10:02. From here, Bus 10 is taken from Townsend St & 4th St at 10:09 and arrives at Sansome St. & California St at 10:20. The user then goes to the destination in 555 California St.
IV. SchlussfolgerungIV. Conclusion
Die vorliegende Erfindung wurde insbesondere in Bezug auf eine mögliche Ausführungsform besonders detailliert beschrieben. Fachleute auf dem Gebiet werden erkennen, dass die Erfindung in anderen Ausführungsformen praktiziert werden kann. Erstens ist die spezielle Namensgebung der Komponenten, Großschreibung von Begriffen, die Attribute, Datenstrukturen oder andere Programmierungs- oder strukturelle Aspekte nicht zwingend oder bedeutend, und die Mechanismen, die die Erfindung oder ihre Merkmale implementieren, können unterschiedliche Namen, Formate oder Protokolle aufweisen. Außerdem kann das System mittels einer Kombination aus Hardware und Software, wie beschrieben, oder gänzlich in Hardware-Elementen implementiert sein. Auch ist die hier beschriebene Funktionalitätsaufteilung unter den verschiedenen hier beschriebenen Systemkomponenten nur exemplarisch und nicht obligatorisch; Funktionen, die von einer einzigen Systemkomponente durchgeführt werden, können tatsächlich von mehreren Komponenten durchgeführt werden und von mehreren Komponenten ausgeführte Funktionen können von einer einzelnen Komponenten durchgeführt werden.The present invention has been described in particular detail with reference to a possible embodiment. Those skilled in the art will recognize that the invention may be practiced in other embodiments. First, the special naming of the components, capitalization of terms, attributes, data structures, or other programming or structural aspects is not mandatory or significant, and the mechanisms that implement the invention or its features may have different names, formats, or protocols. In addition, the system may be implemented by a combination of hardware and software as described or entirely in hardware elements. Also, the functionality distribution described here among the various system components described herein is exemplary only and not mandatory; In fact, functions performed by a single system component may be performed by multiple components, and functions performed by multiple components may be performed by a single component.
Einige Teile der obigen Beschreibung präsentieren die Merkmale der vorliegenden Erfindung in Bezug auf Algorithmen und symbolischen Darstellungen von Vorgängen in Informationen. Diese algorithmischen Beschreibungen und Darstellungen sind von Datenverarbeitungsexperten verwendete Mittel, um das Wesentliche ihrer Arbeit anderen Fachleuten auf dem Gebiet zu vermitteln. Es versteht sich, dass diese Operationen trotz ihrer funktionellen und logischen Beschreibung von Computerprogrammen implementiert werden. Weiterhin hat es sich zeitweise auch als angebracht erwiesen, sich auf diese Anordnungen von Vorgängen als Module oder durch funktionelle Namen ohne Verlust von Allgemeinheit zu beziehen.Some portions of the above description present the features of the present invention in terms of algorithms and symbolic representations of operations in information. These algorithmic descriptions and representations are means used by data processing experts to convey the substance of their work to others skilled in the art. It is understood that these operations are implemented by computer programs despite their functional and logical description. Furthermore, at times it has also proven convenient to refer to these arrangements of operations as modules or through functional names without loss of generality.
Außer wenn spezifisch anders ausgesagt als aus der obigen Abhandlung ersichtlich, versteht sich, dass über die gesamte Beschreibung Abhandlungen, bei denen Begriffe, wie z. B. „verarbeitend” oder „berechnend” oder „bestimmend” oder „anzeigend” oder dergleichen, verwendet werden, sich auf die Aktion und Prozesse eines Computersystems oder eines ähnlichen elektronischen Computergeräts beziehen, das Daten manipuliert und umwandelt, die als physikalische (elektronische) Mengen innerhalb der Computersystemspeicher oder -register oder anderer solcher Informationsspeicher-, Übertragungs- oder Anzeigegeräte dargestellt sind.Unless specifically stated otherwise than apparent from the above discussion, it should be understood that throughout the description, treatises in which terms such as: "Processing" or "calculating" or "determining" or "indicating" or the like, may refer to the action and processes of a computer system or similar electronic computing device that manipulates and converts data that is used as a physical (electronic) device. Quantities are represented within computer system memories or registers or other such information storage, transmission or display devices.
Bestimmte Aspekte der vorliegenden Erfindung beinhalten Prozessschritte und Anweisungen, die hierin in Form eines Algorithmus beschrieben sind. Es sollte ersichtlich sein, dass die Prozessschritte, die Anweisungen, der gegenwärtigen Erfindung, wie beschrieben und beansprucht, von einer Computer-Hardware, die mit einer Programmsteuerung läuft, ausgeführt werden und nicht mentale Schritte sind, die von einem Menschen ausgeführt werden. Gleichermaßen werden sämtliche beschriebenen und angegebenen Daten in einem computerlesbaren Speichermedium gespeichert, das von einem Computersystem betrieben wird, und sie sind nicht einfach dargestellte, abstrakte Ideen.Certain aspects of the present invention include process steps and instructions described herein in terms of an algorithm. It should be understood that the process steps, instructions, and present invention as described and claimed are accomplished by computer hardware running under program control rather than mental steps performed by a human. Likewise, all data described and indicated are stored in a computer readable storage medium operated by a computer system and are not simply illustrated, abstract ideas.
Die vorliegende Erfindung betrifft auch eine Vorrichtung zum Ausführen der Vorgänge hierin. Dieses Gerät kann für den benötigten Zweck speziell gebaut oder es kann in einem Allzweck-Computer enthalten sein und selektiv aktiviert oder durch ein auf einem computerlesbaren Medium gespeicherten Computerprogramm rekonfiguriert werden. Dieses Computerprogramm wird in einem computerlesbaren Speichermedium, wie, jedoch nicht beschränkt auf, jegliche Art von Diskette einschließlich Floppy Disks, optische Disketten, CD-ROMs, Magneto-Optical Disks, read-only memories (ROMs), random access memories (RAMs), EPROMs, EEPROMs, magnetische oder optische Karten, anwendungsspezifische integrierte Schaltkreise (ASICs) oder jede Art von Medien, die für das Speichern elektronischer Befehle geeignet ist und jeweils an ein Computersystembus gekoppelt werden können, gespeichert. Darüber hinaus können die Computer, auf die in der Spezifikation Bezug genommen wird, einen einzelnen Prozessor enthalten oder es können Architekturen mit multiplen Prozessor-Designs für eine erhöhte Computerleistungsfähigkeit sein.The present invention also relates to an apparatus for carrying out the operations herein. This device may be custom built for the required purpose or it may be included in a general purpose computer and selectively activated or reconfigured by a computer program stored on a computer readable medium. This computer program is stored in a computer-readable storage medium such as, but not limited to, any type of floppy disk including floppy disks, optical disks, CD-ROMs, magneto-optical disks, read-only memories (ROMs), random access memories (RAMs), EPROMs, EEPROMs, magnetic or optical cards, application specific integrated circuits (ASICs) or any type of media suitable for storing electronic commands and each being coupled to a computer system bus. In addition, the computers referred to in the specification may include a single processor or may be multiple processor design architectures for increased computer performance.
Die hierin präsentierten Algorithmen und Vorgänge können durch Computer von jedem Typ oder jeder Marke oder eine andere Vorrichtung ausgeführt werden. Verschiedene Allzweck-Systeme können auch mit Programmen in Übereinstimmung mit den hierin präsentierten Lehren verwendet werden, oder es kann sich als praktisch erweisen, spezialisiertere Geräte zur Durchführung der erforderlichen Schritte der Methode zu konstruieren. Die erforderliche Struktur für eine Vielzahl dieser Systeme wird, neben den äquivalenten Varianten, für Fachleute auf dem Gebiet offensichtlich sein. Des Weiteren ist die gegenwärtige Erfindung nicht mit Bezug auf eine bestimmte Programmiersprache beschrieben. Es versteht sich, dass eine Vielfalt von Programmiersprachen verwendet werden kann, um die Lehren der vorliegenden Erfindung, wie hierin beschrieben, zu implementieren, und alle Bezüge zu spezifischen Sprachen werden zur Offenbarung der Ermöglichung und des besten Modus der vorliegenden Erfindung bereitgestellt.The algorithms and operations presented herein may be performed by computers of any type or brand or other device. Various general purpose systems may also be used with programs in accordance with the teachings presented herein, or it may prove convenient to construct more specialized apparatus for performing the required steps of the method. The required structure for a variety of these systems is, in addition to the equivalent Variants, be obvious to experts in the field. Furthermore, the present invention is not described with respect to a particular programming language. It should be understood that a variety of programming languages may be used to implement the teachings of the present invention as described herein, and all references to specific languages are provided to disclose the enabling and best mode of the present invention.
Die vorliegende Erfindung ist gut geeignet für eine große Vielfalt von Computernetzwerksystemen über zahlreiche Topologien. Innerhalb dieses Feldes umfassen die Konfiguration und die Verwaltung großer Netzwerke Speichervorrichtungen und Computer, die kommunikativ mit ungleichartigen Computer- und Speichervorrichtungen über ein Netzwerk verbunden sind, wie z. B. das Internet.The present invention is well suited to a wide variety of computer network systems across many topologies. Within this field, the configuration and management of large networks include storage devices and computers that are communicatively connected to disparate computing and storage devices over a network, such as a computer. For example, the Internet.
Schlussendlich sollte darauf hingewiesen werden, dass die in der Spezifikation verwendete Sprache prinzipiell zu Lesbarkeits- und Anweisungszwecken ausgewählt wurde, und möglicherweise nicht ausgewählt wurde, um den erfindungsgemäßen Gegenstand zu schildern oder zu umschreiben. Dementsprechend soll die Offenbarung der vorliegenden Erfindung veranschaulichend, jedoch nicht den Umfang der Erfindung beschränkend sein, die in den nachfolgenden Ansprüchen beschrieben wird.Finally, it should be noted that the language used in the specification has been principally selected for readability and instruction purposes, and may not have been selected to delineate or rewrite the subject matter of the invention. Accordingly, the disclosure of the present invention is intended to be illustrative, but not limiting, of the scope of the invention described in the following claims.
ZITATE ENTHALTEN IN DER BESCHREIBUNG QUOTES INCLUDE IN THE DESCRIPTION
Diese Liste der vom Anmelder aufgeführten Dokumente wurde automatisiert erzeugt und ist ausschließlich zur besseren Information des Lesers aufgenommen. Die Liste ist nicht Bestandteil der deutschen Patent- bzw. Gebrauchsmusteranmeldung. Das DPMA übernimmt keinerlei Haftung für etwaige Fehler oder Auslassungen.This list of the documents listed by the applicant has been generated automatically and is included solely for the better information of the reader. The list is not part of the German patent or utility model application. The DPMA assumes no liability for any errors or omissions.
Zitierte Nicht-PatentliteraturCited non-patent literature
-
http://code.google.com/transit/spec/transit_feed_specification.html [0051] http://code.google.com/transit/spec/transit_feed_specification.html [0051]