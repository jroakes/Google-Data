EP3797264B1 - Dynamic restyling of digital maps - Google Patents
Dynamic restyling of digital maps Download PDFInfo
- Publication number
- EP3797264B1 EP3797264B1 EP18792611.8A EP18792611A EP3797264B1 EP 3797264 B1 EP3797264 B1 EP 3797264B1 EP 18792611 A EP18792611 A EP 18792611A EP 3797264 B1 EP3797264 B1 EP 3797264B1
- Authority
- EP
- European Patent Office
- Prior art keywords
- map
- detail
- map features
- client device
- style
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Active
Links
- 230000000007 visual effect Effects 0.000 claims description 60
- 238000009877 rendering Methods 0.000 claims description 40
- 238000000034 method Methods 0.000 claims description 36
- 230000004044 response Effects 0.000 claims description 9
- 238000013507 mapping Methods 0.000 description 29
- 239000013598 vector Substances 0.000 description 15
- 238000004891 communication Methods 0.000 description 9
- XLYOFNOQVPJJNP-UHFFFAOYSA-N water Substances O XLYOFNOQVPJJNP-UHFFFAOYSA-N 0.000 description 9
- 238000010586 diagram Methods 0.000 description 5
- 230000001413 cellular effect Effects 0.000 description 4
- 238000012545 processing Methods 0.000 description 4
- 230000006870 function Effects 0.000 description 3
- 230000010267 cellular communication Effects 0.000 description 2
- 230000002452 interceptive effect Effects 0.000 description 2
- 230000007246 mechanism Effects 0.000 description 2
- 230000008569 process Effects 0.000 description 2
- 238000012800 visualization Methods 0.000 description 2
- 239000008186 active pharmaceutical agent Substances 0.000 description 1
- 238000013459 approach Methods 0.000 description 1
- 239000003086 colorant Substances 0.000 description 1
- 238000010276 construction Methods 0.000 description 1
- 238000012986 modification Methods 0.000 description 1
- 230000004048 modification Effects 0.000 description 1
- 230000002085 persistent effect Effects 0.000 description 1
- 230000008054 signal transmission Effects 0.000 description 1
Images
Classifications
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01C—MEASURING DISTANCES, LEVELS OR BEARINGS; SURVEYING; NAVIGATION; GYROSCOPIC INSTRUMENTS; PHOTOGRAMMETRY OR VIDEOGRAMMETRY
- G01C21/00—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00
- G01C21/26—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00 specially adapted for navigation in a road network
- G01C21/34—Route searching; Route guidance
- G01C21/36—Input/output arrangements for on-board computers
- G01C21/3667—Display of a road map
- G01C21/367—Details, e.g. road map scale, orientation, zooming, illumination, level of detail, scrolling of road map or positioning of current position marker
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01C—MEASURING DISTANCES, LEVELS OR BEARINGS; SURVEYING; NAVIGATION; GYROSCOPIC INSTRUMENTS; PHOTOGRAMMETRY OR VIDEOGRAMMETRY
- G01C21/00—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00
- G01C21/26—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00 specially adapted for navigation in a road network
- G01C21/34—Route searching; Route guidance
- G01C21/36—Input/output arrangements for on-board computers
- G01C21/3626—Details of the output of route guidance instructions
- G01C21/3635—Guidance using 3D or perspective road maps
- G01C21/3638—Guidance using 3D or perspective road maps including 3D objects and buildings
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01C—MEASURING DISTANCES, LEVELS OR BEARINGS; SURVEYING; NAVIGATION; GYROSCOPIC INSTRUMENTS; PHOTOGRAMMETRY OR VIDEOGRAMMETRY
- G01C21/00—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00
- G01C21/26—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00 specially adapted for navigation in a road network
- G01C21/34—Route searching; Route guidance
- G01C21/36—Input/output arrangements for on-board computers
- G01C21/3626—Details of the output of route guidance instructions
- G01C21/3644—Landmark guidance, e.g. using POIs or conspicuous other objects
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01C—MEASURING DISTANCES, LEVELS OR BEARINGS; SURVEYING; NAVIGATION; GYROSCOPIC INSTRUMENTS; PHOTOGRAMMETRY OR VIDEOGRAMMETRY
- G01C21/00—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00
- G01C21/38—Electronic maps specially adapted for navigation; Updating thereof
- G01C21/3804—Creation or updating of map data
- G01C21/3807—Creation or updating of map data characterised by the type of data
- G01C21/3815—Road data
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01C—MEASURING DISTANCES, LEVELS OR BEARINGS; SURVEYING; NAVIGATION; GYROSCOPIC INSTRUMENTS; PHOTOGRAMMETRY OR VIDEOGRAMMETRY
- G01C21/00—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00
- G01C21/38—Electronic maps specially adapted for navigation; Updating thereof
- G01C21/3863—Structures of map data
- G01C21/387—Organisation of map data, e.g. version management or database structures
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01C—MEASURING DISTANCES, LEVELS OR BEARINGS; SURVEYING; NAVIGATION; GYROSCOPIC INSTRUMENTS; PHOTOGRAMMETRY OR VIDEOGRAMMETRY
- G01C21/00—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00
- G01C21/38—Electronic maps specially adapted for navigation; Updating thereof
- G01C21/3885—Transmission of map data to client devices; Reception of map data by client devices
Definitions
- This disclosure relates to interactive digital maps and, more particularly, to dynamically restyling map features related to navigation routes on digital maps.
- Interactive digital maps which various geographic applications display on computing devices, generally depict numerous geographic or map features, such as roads, outlines of countries and towns, bodies of water, buildings, points of interest (POIs), etc. Some of these geographic or map features can be depicted differently in different situations. For example, a road normally depicted as a blue line can be rendered in red to illustrate heavy traffic, or the boundary of a county can be highlighted in response to a geographic query.
- geographic or map features such as roads, outlines of countries and towns, bodies of water, buildings, points of interest (POIs), etc.
- a server generates an image in which a navigation route is highlighted.
- the server also specifies the location of a pin to depict the destination.
- this approach often results in the highlighting and pins obscuring important map features.
- US9534916B2 describes displaying a portion of map information, within a threshold distance of a determined route of travel, in a manner differentiated from other map information.
- WO2016/124774A1 describes a relevancy-graded navigation map which deemphasizes map elements that are not relevant to driving a vehicle.
- US2006/129316A1 describes detecting display data with an index key identical to a display ID of a selected POI and highlighting a building corresponding to the detected display data.
- EP1024467A2 describes calculating the position of a view point V to be set behind the current position of a car and up in the air.
- US2013/024113 describes rendering an object in a low density or high density within a map depending upon the state or value of a metric.
- a dynamic mapping system utilizes multiple visual styles, e.g., "minimal,” “standard,” and “rich” for various map features such as roads, buildings, parks, bodies of water, POIs, etc.
- the dynamic mapping system can emphasize a set of map features by rendering these features with a different visual style .
- the first set of map features may include several road segments included in the navigation route along with a building corresponding to the destination.
- the dynamic mapping system renders the road segments and the building in a rich style, which may include a higher level of detail (LOD) or other differences in visual characteristics.
- LOD level of detail
- the system may render road segments with thick lines having a dividing line in the center and two sets of dashed lines on each side of the dividing line.
- the system may render buildings as three-dimensional (3D) or 2.5D objects, such as a cube-shaped or rectangular prism-shaped objects.
- the dynamic mapping system in some embodiments identifies a second set of map features within the digital map display that are not related to the navigation route.
- the system may render the second set of map features in a minimal style, which may include a lower level of detail, to de-emphasize the second set of map features that are not related to the navigation route and to provide a contrast with the first set of map features rendered with the rich style.
- the system may render road segments with thin lines.
- the system may render buildings as two-dimensional squares or rectangular-shaped objects with thin lines.
- the system may render a third set of map features within the digital map display in a standard style, which may include a default level of detail.
- a standard style the system may render road segments with medium lines which are thicker than the thin lines used in the minimal style and thinner than the thick lines used in the rich style.
- the system may render buildings as two-dimensional squares or rectangular-shaped objects with lines that are thicker than the lines used to render buildings in the minimum style and with a shadow, such that the buildings appear raised.
- the system need not depict the destination of the navigation route with a pin or overlay icon and instead can emphasize the destination with the rich style.
- a server does not need to generate an overlay to highlight a navigation route, and instead the server can simply provide instructions to the client device to render certain map features with different visual styles or, in another implementation, simply provide a description of the navigation route to the client device, and the client device may in turn select map features for emphasis based on the received description of the navigation route.
- One example embodiment of the techniques of this disclosure is a method for illustrating navigation directions on a digital map according to claim 1.
- Another example embodiment of the techniques of this disclosure is a server device for illustrating navigation directions on a digital map according to claim 6.
- Yet another example embodiment of the techniques of this disclosure is a client device for illustrating navigation directions on a digital map according to claim 11.
- the present disclosure provides a technique for efficiently re-generating a digital map by selectively modifying, by a client device and/or network server, the visualization of certain map features. This eliminates the need to generate a new image or provide an overlay to highlight the navigation route as well as the need to provide pins or other overlay icons to designate locations.
- the disclosure provides a particularly efficient mechanism for selectively modifying visualization of map features, thereby reducing bandwidth requirements and processing overhead.
- the system can utilize multiple visual styles, e.g., "minimal,” “standard,” and “rich” for various map features such as roads, buildings, parks, bodies of water, POIs, etc.
- These visual styles can be applied to geometries of map features defined in a vector graphics format, or another suitable format for specifying geometric shapes using mathematical descriptions of points and paths connecting the points.
- vector data may specify various geometric shapes (e.g., using mathematical descriptions) and indicate how these shapes should be positioned for rendering various map features
- style data may describe such visual characteristics or properties as line thickness (e.g., width in pixels referred to herein as "pt"), line color, one or more fill colors, one or more shapes or graphics, shadow color, shadow thickness, etc. for various visual styles that may be applied to the vector data.
- line thickness e.g., width in pixels referred to herein as "pt”
- line color e.g., one or more fill colors
- one or more shapes or graphics e.g., shadow color, shadow thickness, etc.
- a network server and/or a client device can selectively apply different visual styles to certain map features to emphasize and de-emphasize navigation routes or sets of map features.
- the network server also may specify which visual styles the client device should apply to various vector-based descriptions of map features (also referred to herein as vector descriptors or simply vectors).
- the server can instruct the client device to visually emphasize the road segments included in the navigation route, de-emphasize road segments not in the navigation route, and leave the remaining features at the default (standard) level of detail.
- the server also can instruct the client device to visually emphasize a set of map features responsive to a search query.
- a set of map features related to a navigation route or a search query generally can include any number of features of one or multiple types (e.g., road segments, buildings, parks) as well as associated labels.
- the client device receives from a network server and stores in the local memory definitions for multiple visual styles for the map features included in the digital map.
- the client device initially can display all of the map features for a certain geographic area in the standard style.
- the server specifies which map features the client device should re-render in the rich style and (in some cases) which map features the client device should re-render in the minimal style.
- the server initially provides map features along with only the standard style.
- the server in this case provides descriptions of rich styles for various map features as well as indications of which map features should be re-rendered in these styles.
- an example communication system in which the techniques outlined above can be implemented includes a client computing device 10 (also referred to herein as a "client device").
- the client device 10 may be a portable device such as smart phone or a tablet computer, for example.
- the client device 10 may also be a laptop computer, a desktop computer, or a personal digital assistant (PDA).
- PDA personal digital assistant
- the client device 10 also can communicate with various content providers, servers, etc. via a wired or wireless communication network 32 such as a fourth- or third-generation cellular network (4G or 3G, respectively).
- the client device 10 can include a display 28 such as a touchscreen.
- the display may include a software keyboard for entering text input.
- the client device 10 includes a graphics processing unit (GPU) 16, one or more processors or CPUs 12, a GPS module 14, a memory 20, and a cellular communication unit 18 to transmit and receive data via a 3G cellular network, a 4G cellular network, or any other suitable network.
- GPU graphics processing unit
- processors or CPUs 12 one or more processors or CPUs 12, a GPS module 14, a memory 20, and a cellular communication unit 18 to transmit and receive data via a 3G cellular network, a 4G cellular network, or any other suitable network.
- the memory 20 can store, for example, instructions of an operating system 24, and a dynamic map rendering engine 26 as part of a mapping application 22.
- the dynamic map rendering engine 26 can receive and store style data such as a style table 42 for styling map features in a digital map display. Further, the dynamic map rendering engine 26 can receive navigation directions to a destination from a style controller 38, where the navigation directions include a first set of map features related to a navigation route. The dynamic map rendering engine 26 can render the first set of map features according to one of the styles included in the style data. Together, the dynamic map rendering engine 26 and the style controller 38 can form a dynamic mapping system.
- the software components 22, 24, and 26 can include compiled instructions and/or instructions in any suitable programming language interpretable at runtime. In any case, the software components 22, 24, and 26 execute on the one or more processors 12.
- the mapping application 22 generally can be provided in different versions for different respective operating systems.
- the maker of the client device 10 can provide a Software Development Kit (SDK) including the mapping application 22 for the Android TM platform, another SDK for the iOS TM platform, etc.
- SDK Software Development Kit
- the client device 10 has access to a wide area communication network 32 such as the Internet via a long-range wireless communication link (e.g., a cellular link).
- the client device 10 can access the communication network 32 via a cellular communication unit 18.
- the client device 10 communicates with a navigation server 33 that provides navigation data and a map data server 36 which generates map data (e.g., in a vector graphics format).
- the map data server 36 includes a memory 37 and one or more processors 39.
- the memory 37 may be tangible, non-transitory memory and may include any types of suitable memory modules, including random access memory (RAM), read-only memory (ROM), flash memory, other types of persistent memory, etc.
- RAM random access memory
- ROM read-only memory
- flash memory other types of persistent memory, etc.
- the memory 37 stores instructions executable on the processors 39 that make up a style controller 38 which generates several visual styles and provides the visual styles to the dynamic map rendering engine 26, for example in a style table 64.
- the style controller 38 may utilize and, in some embodiments, manage a style table 64 that indicates visual characteristics for various styles.
- a style table that may be used as the style table 64 is discussed in more detail with reference to Fig. 2 .
- the style controller 38 uses the style table 64 to determine which of the styles should be applied to various map features at the client device 10 and generates an appropriate indication for the client device 10.
- a user requests map data for a geographic area via the mapping application 22.
- the client device 10 provides the request to the map data server 36, which in turn, retrieves the map data for the geographic area from the map database 40.
- the map data may include several map features which can be, for example, two- and three-dimensional shapes representing roads, buildings, parks, POIs, bodies of water, boundaries of cities, and other geographic entities.
- the style controller 38 also retrieves descriptions of visual styles to be applied to the map features, for example from the style table 64.
- the style controller 38 then provides the descriptions of visual styles along with the map data to the client device 10, and the dynamic map rendering engine 26 renders the map features according to respective visual styles and presents a digital map display including the rendered map features.
- the style controller 38 provides the default visual styles used to render the map features.
- the style controller 38 provides the standard style, corresponding to the default level of detail, to the dynamic map rendering engine 26, and the dynamic map rendering engine 26 renders each of the map features according to the standard style.
- the style controller 38 provides descriptions of several visual styles to the dynamic map rendering engine 26 (e.g., minimal, standard, and rich styles), and the dynamic map rendering engine 26 determines the appropriate style in which to render each map feature.
- the style controller 38 provides descriptions of several visual styles to the dynamic map rendering engine 26 (e.g., minimal, standard, and rich styles) along with indications of the visual styles to apply to each of the map features.
- the style controller 38 may provide instructions for styling each map feature (e.g., render the first set of map features related to the navigation route in the rich style, render the second set of map features not related to the navigation route in the minimal style, etc.).
- the style controller 38 retrieves a navigation route to the destination from the navigation server 33 or generates the navigation route locally using offline data.
- the style controller 38 identifies each of the map features corresponding to physical entities located in the geographic area and related to the navigation route, such as a set of road segments along the navigation route, a building corresponding to the destination, a POI, etc.
- the style controller 38 provides descriptions of the map features related to the navigation route to the client device 10 as a first set of map features.
- the descriptions of the map features may include descriptions of road geometries.
- the dynamic map rendering engine 26 then generates a modified digital map by re-rendering the first set of map features using the rich style.
- the style controller 38 provides the map features related to the navigation route to the client device 10 as a first set of map features with the style data for the rich style and/or with instructions for the dynamic map rendering engine 26 to re-render the first set of map features using the rich style.
- the modified digital map also includes map features displayed at a level of detail lower than the high level of detail corresponding to the rich style. More specifically, in some embodiments, the style controller 38 provides map features not related to the navigation route to the client device 10 as a second set of map features. The dynamic map rendering engine 26 then generates the modified digital map by re-rendering the second set of map features using the minimal style, and the remaining map features using the standard style.
- the request for navigation directions may specify styles for which style data is already available at the client device 10 (e.g., styles stored in the style table). If the client device 10 has not yet received style data for the rich style or the minimal style, the map data server 36 provides the corresponding style data.
- the dynamic map rendering engine 26 re-renders each of the map features included in the digital map display and which are not in the first set of map features using the minimal style.
- the style controller 38 provides map features not related to the navigation route to the client device 10 as a second set of map features (e.g., map features within a threshold distance of the map features related to the navigation route) with the style data for the minimal style and/or with instructions for the dynamic map rendering engine 26 to re-render the second set of map features using the minimal style.
- the style controller 38 renders each of the map features according to the appropriate style and provides the rendered map features to the client device 10, for example in a raster image.
- the style controller 38 and/or dynamic map rendering engine 26 can identify map features related to a navigation route or a search query according to any suitable distance- and/or relevance-based scheme. For example, upon generating a navigation route, the style controller 38 can identify road segments that make up the navigation route and each structure (e.g., a building, a bridge, a tunnel) within a certain distance from the route (e.g., 20 meters), and include the identified road segments and structures in a set of map features to be rendered using the rich style. In some cases, the style controller 38 also can include in this set of map features landmarks of a certain threshold prominence (measured in terms of size, visibility, color contrast with nearby structures) within a certain distance from the route (e.g., 50 meters). Further, in some cases, the style controller 38 can include in this set of map features points-of-interest of certain threshold popularity.
- a certain threshold prominence measured in terms of size, visibility, color contrast with nearby structures
- the style controller 38 and/or dynamic map rendering engine 26 can dynamically vary the content of the set of map features to be emphasized on the digital map based on the current location of the client device 10 or another suitable signal.
- the dynamic map rendering engine 26 can render map features within a certain radius of the current location of the client device 10 moving along a navigation route using the rich style, render the map features associated with other portions of the navigation route using the standard style, and render map features unrelated to the navigation route using the minimal style. In this manner, the client device 10 appears to move in a "bubble" of highly detailed map features along the route.
- the memory 37 can also store instructions for generating map data or for calling on the navigation server 33 to generate navigation directions.
- a suggestions server 34 generates suggestions based on partial user input
- a traffic data server provides traffic updates along a route
- a weather data server provides weather data and/or alerts, etc.
- Fig. 1 illustrates the map database 40 as only one instance of a database.
- the map database 40 includes a group of one or more databases, each storing different information.
- Fig. 1 illustrates the map data server 36 as only one instance of a server.
- the map data server 36 includes a group of one or more map data servers, each equipped with one or more processors and capable of operating independently of the other map data servers. Map data servers operating in such a group can process requests from the client device 10 individually (e.g., based on availability), in a distributed manner where one operation associated with processing a request is performed on one map data server while another operation associated with processing the same request is performed on another map data server, or according to any other suitable technique.
- Map data may refer to an individual map data server or to a group of two or more map data servers.
- Fig. 2 illustrates an example style table 200 graphically depicting visual styles for various types of map features. More specifically, the style table 200 in this example includes three visual styles: a minimal style 210, a standard style 220, and a rich style 230.
- the style table 200 includes a set of visual attributes or configuration parameters for each type of map feature.
- the set of configuration parameters for a building 210a include a two-dimensional square-shaped object with thin lines (e.g., having a line thickness of 1 pt.).
- the fill color for the minimal style building 210a is white, the outline color is light grey, and there is no shadow.
- the set of configuration parameters for a building 220a include a two-dimensional square-shaped object with thicker lines (e.g., having a line thickness of 2 pt.).
- the fill color for the minimal style building 220a is white
- the outline color is light grey
- the set of configuration parameters for a building 230a include a three-dimensional cube or rectangular prism-shaped graphic with a triangle on the top surface and having a white fill color, light grey outline color, and a larger and darker shadow than the standard style building 220a.
- the set of configuration parameters for a road 210b include a thin line (e.g., having a line thickness of 1 pt.) with a dark grey line color.
- the set of configuration parameters for a road 220b include a thicker line (e.g., having a line thickness of 3 pt.) with a dark grey line color.
- the set of configuration parameters for a road 230b include an even thicker line graphic (e.g., having a line thickness of 5 pt.) with a white dividing line in the center, two sets of white dashed lines on each side of the dividing line, and a dark grey fill color.
- the rich style 230 has the highest level of detail while the standard style 220 has a medium or default level of detail and the minimal style 210 has a low level of detail.
- the digital map display presents a stark contrast between map features rendered in the rich style 230 and map features rendered in the minimal 210 or even standard styles 220 to emphasize those map features in the rich style 230 (e.g., map features related to a navigation route) and de-emphasize those map features in the minimal style 210.
- the style table 200 depicts visual styles for two types of map features including buildings and roads, these are merely example map feature types which may be included in the style table 200.
- the style table 200 may also include visual styles for additional map features types, such as parks, POIs, bodies of water, boundaries of cities, and other geographic entities.
- the set of configuration parameters for each visual style and map feature type are merely one example set of configuration parameters.
- a map feature type and visual style (e.g., a minimal style building) may include any suitable configuration parameters, such that for a particular map feature type, the minimal style has the lowest level of detail, the standard style has a medium or default level of detail, and the rich style has the highest level of detail.
- the set of configuration parameters may include for example, a particular line thickness, a particular fill color, a particular outline color, a particular shape or graphic, a particular shadow color, a particular shadow thickness, etc.
- a description of minimal, standard, and rich styles includes only a description of visual attributes (e.g., color, line thickness, stroke type) which a graphics pipeline such as OpenGL applies to the same geometry.
- a description of minimal, standard, and rich styles includes a description of additional geometries, along with the corresponding visual attributes, to be added to a map feature rendered in a simpler style.
- the style controller 38 as shown in Fig. 1 generates the style table 200 including a set of configuration parameters for each visual style and map feature type and provides the style table 200 to the dynamic map rendering engine 26 to render map features according to the appropriate visual style.
- the dynamic map rendering engine 26 may be configured to render map features in a digital map without a navigation route in the standard style 220.
- the dynamic map rendering engine 26 may be configured to render map features in a digital map related to the navigation route in the rich style 230 and map features that are not related to the navigation route in the minimal style 210.
- the dynamic map rendering engine 26 may be configured to render map features in a digital map related to the navigation route in the rich style 230, map features within a threshold distance of the map features related to the navigation route in the minimal style 210, and remaining map features in the standard style 220.
- the style controller 38 may provide instructions to the dynamic map rendering engine 26 describing the appropriate visual style in which to render each map feature in the digital map.
- Fig. 3 illustrates an example map display 300 including a navigation route 304a, 304b to a destination which is a building 310 that includes the Fancy Pizza restaurant.
- the mapping application 22 can present the example map display 300 via the display 28 of the client device 10.
- the navigation route in this example includes road segments 304a, 304b for navigating the user to the building 310 including the Fancy Pizza restaurant.
- the dynamic mapping system identifies the road segments 304a, 304b and the building 310 as map features related to the navigation route.
- the dynamic mapping system renders these features in the rich style 230, as shown in Fig. 2 .
- the dynamic mapping system renders the remaining map features such as the road segment 312 and the park 308 in the minimal style 210, as also shown in Fig. 2 .
- the map display 300 also includes an indication of the user's current location 302 along the navigation route and an overlay 306 indicating traffic along the route. While the client device 10 does not display an overlay on the digital map corresponding to the navigation route, other information such as traffic data may be depicted with highlighting, such as a red color overlaying a portion of the road segment 304a rendered in the rich style 230.
- Fig. 4 illustrates another example map display 400 that does not include a navigation route.
- the mapping application 22 may present the map display 400 via the display 28 when the user launches the mapping application 22 or pans or zooms the digital map to view a particular geographic area.
- the map features such as road segments 402a, 402b, 408, buildings 406, and parks 404 appear in the standard style 220, as shown in Fig. 2 .
- the park 404 has a darker green fill color, a thicker line, and a darker outline color.
- the road segment 408 has a thicker line.
- the building 406 is two-dimensional rather than three-dimensional and has a smaller and lighter shadow.
- Fig. 5 illustrates yet another example map display 500 that does not include a navigation route.
- the dynamic mapping system presents the park 504 in the rich style 230, while the remaining map features 502a, 502b, 506, 508 are in the minimal style 210 as shown in Fig. 2 .
- the dynamic mapping system may present the map display 500 via the display 28 when the user selects the park 504 as a search result within the mapping application 22.
- the dynamic mapping system then renders the park 504 in the rich style 230 instead of presenting a pin on the digital map at the park's location.
- the dynamic mapping system may generate the map display 500 when the park 504 is a familiar location to the user, is within a threshold distance of the user's current location as depicted by the indicator 510, the user has an upcoming game or event at the park 504 according to the user's calendar, or for any other suitable reason to emphasize the park 504 within the map display 500.
- the park 504 includes a soccer field graphic rather than a green rectangular-shaped object.
- Fig. 6 illustrates a flow diagram of an example method 600 for providing navigation directions on a digital map.
- the method can be implemented in a set of instructions stored on a computer-readable memory and executable at one or more processors of the server device 36.
- the method can be implemented by the style controller 38.
- a request for map data for a geographic area is received, for example from a mapping application 22 operating in a client device 10.
- map data for the geographic area is retrieved, for example from the map database 40 as shown in Fig. 1 .
- the map data may include several map features which can be, for example, two- and three-dimensional shapes representing roads, buildings, POIs, parks, bodies of water, boundaries of cities, and other geographic entities.
- each of the map features may have geometries described in a vector graphics format, or another suitable format for specifying geometric shapes using mathematical descriptions of points and paths connecting the points.
- Vector data generally allows client devices to scale, rotate, and otherwise operate on shapes without distortion.
- vector data may specify the coordinates of two endpoints of the line segment and indicate that the two endpoints are connected by a straight line.
- the server device 36 provides the map features within the geographic area to the client device 10 (block 604).
- the map data server 36 In addition to providing the map features within the geographic area to the client device 10, the map data server 36 generates visual styles applicable to the map features, and provides descriptions of the visual styles to the client device 10 (block 606).
- the map data server 36 may generate three visual styles: a minimal style, a standard style, and a rich style.
- Each visual style may include a set of configuration parameters for each of several map feature types (e.g., roads, buildings, POIs, parks, bodies of water, boundaries of cities, other geographic entities, etc.).
- the set of configuration parameters may include for example, a particular line thickness, a particular fill color, a particular outline color, a particular shape or graphic, a particular shadow color, a particular shadow thickness, etc.
- the visual styles may be provided to the client device 10 in a style table, similar to the style table 200 illustrated in Fig. 2 . Accordingly, the client device 10 stores a local copy of the style table for rendering the map features according to the applicable visual styles.
- the client device 10 may receive a geometry for the map feature and a visual style in which to render the map feature having a particular set of configuration parameters. For example, for a road segment, the client device 10 may receive coordinates of two endpoints of a line segment that are connected by a straight line. For the standard style, the client device 10 may receive a set of configuration parameters for road segments that includes a line thickness of 3 pt. and a line color of dark grey.
- the client device 10 may apply style data as appropriate to the specified line segment, so that the line segment is displayed with the applicable visual style including a particular color, width, etc.
- the vector data may specify the contour of a triangle
- the corresponding style data may specify the color of the contour lines, the width of the contour lines, and the color of the interior region of the triangle.
- the client device 10 may receive instructions for drawing a map image on the display 28 and execute the instructions so as to generate a raster map image.
- vector data also may include raster images as certain component elements that cannot be easily represented in a vector format.
- the map data server 36 provides instructions for styling each map feature to the client device 10, and the client device 10 renders the map features in the map display according to their respective styles.
- the map data server 36 only provides the visual styles applicable to the particular map features. For example, when the digital map does not include a navigation route, the map features may be rendered in the standard style, and the map data server 36 only provides the standard style to the client device 10.
- a request for navigation directions to a destination is received, for example from the mapping application 22 operating in the client device 10.
- the map data server 36 retrieves a navigation route to the destination from the navigation server 33.
- the map data server 36 identifies each of the map features related to the navigation route, such as a set of road segments along the navigation route, a building corresponding to the destination, etc. (block 610).
- the map data server 36 provides the map features related to the navigation route to the client device 10 as a first set of map features (block 612).
- the map data server 36 may provide an indication or reference to map features previously transmitted to the client device 10 and presented by the mapping application 22 in the digital map. More specifically, each map feature may have a feature ID which uniquely identifies the map feature. Rather than transmitting descriptions of the map feature once again to the client device 10, the map data server 36 may provide the feature ID as a reference to the map feature which is included in the first set of map features. In some embodiments, the client device 10 then re-renders the first set of map features using the rich style.
- the map data server 36 provides the map features related to the navigation route to the client device 10 as a first set of map features with the style data for the rich style (block 614) and/or with instructions for the client device 10 to re-render the first set of map features using the rich style.
- the request for navigation directions may specify styles explicitly by including styles unavailable at the client device 10, for example, or implicitly by providing a list of styles already available at the client device (e.g., styles stored in the style table). If the client device 10 has not received style data for the rich style, the map data server 36 provides the corresponding style data.
- the map data server 36 provides map features not related to the navigation route to the client device 10 as a second set of map features.
- the map data server 36 may provide an indication or reference to map features previously provided and presented by the mapping application 22 in the digital map. More specifically, each map feature may have a feature ID which uniquely identifies the map feature. Rather than providing the map feature once again to the client device 10, the map data server 36 may provide the feature ID as a reference to the map feature which is included in the second set of map features The client device then re-renders the second set of map features using the minimal style, and the remaining map features using the standard style.
- the client device 10 re-renders each of the map features included in the digital map display and which are not in the first set of map features using the minimal style.
- the map data server 36 provides map features not related to the navigation route to the client device 10 as a second set of map features with the style data for the minimal style (block 614) and/or with instructions for the client device 10 to re-render the second set of map features using the minimal style.
- the map data server 36 renders each of the map features according to the appropriate style.
- the map data server 36 then provides map tiles, i.e., a portion of a map image of a certain size (e.g., 256 by 256 pixels), including the rendered map features to the client device 10.
- Fig. 7 illustrates a flow diagram of an example method 700 for illustrating navigation directions on a digital map.
- the method can be implemented in a set of instructions stored on a computer-readable memory and executable at one or more processors of the client device 10.
- the method can be implemented by the dynamic map rendering engine 26.
- the client device 10 presents a digital map of a geographic area including several map features which can be, for example, two- and three-dimensional shapes representing roads, buildings, POIs, parks, bodies of water, boundaries of cities, and other geographic entities.
- map features can be, for example, two- and three-dimensional shapes representing roads, buildings, POIs, parks, bodies of water, boundaries of cities, and other geographic entities.
- the client device 10 may receive geometries for each of the map features from a server device described in a vector graphics format, or another suitable format for specifying geometric shapes using mathematical descriptions of points and paths connecting the points.
- the client device 10 retrieves geometries for each of the map features from offline map data stored locally at the client device.
- the client device 10 may also receive descriptions of visual styles applicable to the map features from the server device (block 704), where each visual style includes a set of configuration parameters for each of several map feature types.
- the visual styles may include a minimal style, a standard style, and a rich style.
- Each style may have a different set of configuration parameters for roads, buildings, POIs, parks, bodies of water, boundaries of cities, other geographic entities, etc.
- the client device 10 receives and stores a style table including each of the styles and configuration parameters for rendering the map features.
- the client device 10 receives the configuration parameters for a particular style, such as the standard style at a default level of detail and applies the particular style to the map features (block 706) to render the digital map.
- a request for navigation directions to a destination is received.
- the client device 10 may receive the request via user controls presented by the mapping application 22. For example, using the mapping application 22, the user may enter a destination and select a user control requesting directions from the user's current location to the destination.
- the client device 10 then obtains a navigation route to the destination.
- the navigation route may be obtained from a navigation server 33 or the client device 10 may retrieve offline navigation directions stored locally.
- a first set of map features are identified that are related to the navigation route (block 710), such as a set of road segments along the navigation route, a building corresponding to the destination, etc.
- the first set of map features may be a subset of the map features included in the digital map presented at block 702.
- the client device 10 then applies the rich style at a high level of detail to the first set of map features (block 712).
- the client device 10 may also apply the minimal style at a low level of detail to the remaining map features in the digital map (block 714), such that the map features are re-rendered from the standard style to the rich or minimal styles.
- the client device 10 obtains a second set of map features that are not related to the navigation route but within a threshold distance of the map features related to the navigation route.
- the client device 10 then applies the minimal style to the second set of map features, and applies the standard style to the remaining map features within the digital map.
- the map data server 36 provides the first or second sets of map features to the client device 10.
- the map data server 36 may provide an indication or reference to map features previously provided and presented by the mapping application 22 in the digital map. More specifically, each map feature may have a feature ID which uniquely identifies the map feature. Rather than providing the map feature once again to the client device 10, the map data server 36 may provide the feature ID as a reference to the map feature which is included in the first or second sets of map features.
- the client device 10 then re-renders the first set of map features using the rich style and the second set of map features using the minimal style.
- the map data server 36 provides the first set of map features to the client device with the style data for the rich style, provides the second set of map features to the client device with the style data for the minimal style, and/or provides instructions for the client device 10 to re-render the first set of map features using the rich style and the second set of map features using the minimal style.
- Modules may constitute either software modules (e.g., code stored on a machine-readable medium) or hardware modules.
- a hardware module is tangible unit capable of performing certain operations and may be configured or arranged in a certain manner.
- one or more computer systems e.g., a standalone, client or server computer system
- one or more hardware modules of a computer system e.g., a processor or a group of processors
- software e.g., an application or application portion
- a hardware module may be implemented mechanically or electronically.
- a hardware module may comprise dedicated circuitry or logic that is permanently configured (e.g., as a special-purpose processor, such as a field programmable gate array (FPGA) or an application-specific integrated circuit (ASIC)) to perform certain operations.
- a hardware module may also comprise programmable logic or circuitry (e.g., as encompassed within a general-purpose processor or other programmable processor) that is temporarily configured by software to perform certain operations. It will be appreciated that the decision to implement a hardware module mechanically, in dedicated and permanently configured circuitry, or in temporarily configured circuitry (e.g., configured by software) may be driven by cost and time considerations.
- hardware should be understood to encompass a tangible entity, be that an entity that is physically constructed, permanently configured (e.g., hardwired), or temporarily configured (e.g., programmed) to operate in a certain manner or to perform certain operations described herein.
- hardware-implemented module refers to a hardware module.
- hardware modules are temporarily configured (e.g., programmed)
- each of the hardware modules need not be configured or instantiated at any one instance in time.
- the hardware modules comprise a general-purpose processor configured using software
- the general-purpose processor may be configured as respective different hardware modules at different times.
- Software may accordingly configure a processor, for example, to constitute a particular hardware module at one instance of time and to constitute a different hardware module at a different instance of time.
- Hardware modules can provide information to, and receive information from, other hardware. Accordingly, the described hardware modules may be regarded as being communicatively coupled. Where multiple of such hardware modules exist contemporaneously, communications may be achieved through signal transmission (e.g., over appropriate circuits and buses) that connect the hardware modules. In embodiments in which multiple hardware modules are configured or instantiated at different times, communications between such hardware modules may be achieved, for example, through the storage and retrieval of information in memory structures to which the multiple hardware modules have access. For example, one hardware module may perform an operation and store the output of that operation in a memory device to which it is communicatively coupled. A further hardware module may then, at a later time, access the memory device to retrieve and process the stored output. Hardware modules may also initiate communications with input or output devices, and can operate on a resource (e.g., a collection of information).
- a resource e.g., a collection of information
- the methods 600 and 700 may include one or more function blocks, modules, individual functions or routines in the form of tangible computer-executable instructions that are stored in a non-transitory computer-readable storage medium and executed using a processor of a computing device (e.g., a server device, a personal computer, a smart phone, a tablet computer, a smart watch, a mobile computing device, or other client computing device, as described herein).
- a computing device e.g., a server device, a personal computer, a smart phone, a tablet computer, a smart watch, a mobile computing device, or other client computing device, as described herein.
- the methods 600 and 700 may be included as part of any backend server (e.g., a map data server, a navigation server, or any other type of server computing device, as described herein), client computing device modules of the example environment, for example, or as part of a module that is external to such an environment.
- the methods 600 and 700 can be utilized with other objects and user interfaces. Furthermore, although the explanation above describes steps of the methods 600 and 700 being performed by specific devices (such as a server device 36 and a client device 10), this is done for illustration purposes only. The blocks of the methods 600 and 700 may be performed by one or more devices or other parts of the environment.
- processors may be temporarily configured (e.g., by software) or permanently configured to perform the relevant operations. Whether temporarily or permanently configured, such processors may constitute processor-implemented modules that operate to perform one or more operations or functions.
- the modules referred to herein may, in some example embodiments, comprise processor-implemented modules.
- the methods or routines described herein may be at least partially processor-implemented. For example, at least some of the operations of a method may be performed by one or more processors or processor-implemented hardware modules. The performance of certain of the operations may be distributed among the one or more processors, not only residing within a single machine, but deployed across a number of machines. In some example embodiments, the processor or processors may be located in a single location (e.g., within a home environment, an office environment or as a server farm), while in other embodiments the processors may be distributed across a number of locations.
- the one or more processors may also operate to support performance of the relevant operations in a "cloud computing" environment or as an SaaS.
- a "cloud computing" environment or as an SaaS.
- at least some of the operations may be performed by a group of computers (as examples of machines including processors), these operations being accessible via a network (e.g., the Internet) and via one or more appropriate interfaces (e.g., APIs).
Description
- This disclosure relates to interactive digital maps and, more particularly, to dynamically restyling map features related to navigation routes on digital maps.
- The background description provided herein is for the purpose of generally presenting the context of the disclosure. Work of the presently named inventors, to the extent it is described in this background section, as well as aspects of the description that may not otherwise qualify as prior art at the time of filing, are neither expressly nor impliedly admitted as prior art against the present disclosure.
- Interactive digital maps, which various geographic applications display on computing devices, generally depict numerous geographic or map features, such as roads, outlines of countries and towns, bodies of water, buildings, points of interest (POIs), etc. Some of these geographic or map features can be depicted differently in different situations. For example, a road normally depicted as a blue line can be rendered in red to illustrate heavy traffic, or the boundary of a county can be highlighted in response to a geographic query.
- Additionally, the various geographic applications generate step-by-step navigation directions. Typically, a server generates an image in which a navigation route is highlighted. The server also specifies the location of a pin to depict the destination. In addition to requiring that extra data be transmitted via a communication network, this approach often results in the highlighting and pins obscuring important map features.
-
US9534916B2
WO2016/124774A1 describes a relevancy-graded navigation map which deemphasizes map elements that are not relevant to driving a vehicle.
US2006/129316A1 describes detecting display data with an index key identical to a display ID of a selected POI and highlighting a building corresponding to the detected display data.
EP1024467A2 describes calculating the position of a view point V to be set behind the current position of a car and up in the air.
US2013/024113 describes rendering an object in a low density or high density within a map depending upon the state or value of a metric. - To present a navigation route in a digital map display, a dynamic mapping system utilizes multiple visual styles, e.g., "minimal," "standard," and "rich" for various map features such as roads, buildings, parks, bodies of water, POIs, etc. To illustrate a navigation route, the dynamic mapping system can emphasize a set of map features by rendering these features with a different visual style . For example, the first set of map features may include several road segments included in the navigation route along with a building corresponding to the destination. Accordingly, the dynamic mapping system renders the road segments and the building in a rich style, which may include a higher level of detail (LOD) or other differences in visual characteristics. For example, for the rich style, the system may render road segments with thick lines having a dividing line in the center and two sets of dashed lines on each side of the dividing line. The system may render buildings as three-dimensional (3D) or 2.5D objects, such as a cube-shaped or rectangular prism-shaped objects.
- Additionally, the dynamic mapping system in some embodiments identifies a second set of map features within the digital map display that are not related to the navigation route. The system may render the second set of map features in a minimal style, which may include a lower level of detail, to de-emphasize the second set of map features that are not related to the navigation route and to provide a contrast with the first set of map features rendered with the rich style. For example, for the minimal style, the system may render road segments with thin lines. The system may render buildings as two-dimensional squares or rectangular-shaped objects with thin lines.
- Furthermore, the system may render a third set of map features within the digital map display in a standard style, which may include a default level of detail. For example, for the standard style, the system may render road segments with medium lines which are thicker than the thin lines used in the minimal style and thinner than the thick lines used in the rich style. The system may render buildings as two-dimensional squares or rectangular-shaped objects with lines that are thicker than the lines used to render buildings in the minimum style and with a shadow, such that the buildings appear raised.
- In this manner, the system need not depict the destination of the navigation route with a pin or overlay icon and instead can emphasize the destination with the rich style. Moreover, a server does not need to generate an overlay to highlight a navigation route, and instead the server can simply provide instructions to the client device to render certain map features with different visual styles or, in another implementation, simply provide a description of the navigation route to the client device, and the client device may in turn select map features for emphasis based on the received description of the navigation route.
- One example embodiment of the techniques of this disclosure is a method for illustrating navigation directions on a digital map according to
claim 1. - Another example embodiment of the techniques of this disclosure is a server device for illustrating navigation directions on a digital map according to claim 6.
- Yet another example embodiment of the techniques of this disclosure is a client device for illustrating navigation directions on a digital map according to claim 11.
-
-
Fig. 1 is a block diagram of an example system in which techniques for dynamically restyling map features can be implemented; -
Fig. 2 is an example style table graphically depicting visual styles which the dynamic mapping system ofFig. 1 can utilize to render map features; -
Fig. 3 is an example map display including a navigation route with map features related to the navigation route rendered in a rich style; -
Fig. 4 is another example map display with map features rendered in a standard style; -
Fig. 5 is yet another example map display with some map features rendered in a rich style and other map features rendered in a minimal style; -
Fig. 6 is a flow diagram of an example method for providing navigation directions on a digital map, which can be implemented in a server device; and -
Fig. 7 is a flow diagram of an example method for illustrating navigation directions on a digital map, which can be implemented in a client device. - The present disclosure provides a technique for efficiently re-generating a digital map by selectively modifying, by a client device and/or network server, the visualization of certain map features. This eliminates the need to generate a new image or provide an overlay to highlight the navigation route as well as the need to provide pins or other overlay icons to designate locations. The disclosure provides a particularly efficient mechanism for selectively modifying visualization of map features, thereby reducing bandwidth requirements and processing overhead.
- In particular, the system can utilize multiple visual styles, e.g., "minimal," "standard," and "rich" for various map features such as roads, buildings, parks, bodies of water, POIs, etc. These visual styles can be applied to geometries of map features defined in a vector graphics format, or another suitable format for specifying geometric shapes using mathematical descriptions of points and paths connecting the points. For convenience, data conforming to any one of such formats is referred to as "vector data." More particularly, vector data may specify various geometric shapes (e.g., using mathematical descriptions) and indicate how these shapes should be positioned for rendering various map features, while style data may describe such visual characteristics or properties as line thickness (e.g., width in pixels referred to herein as "pt"), line color, one or more fill colors, one or more shapes or graphics, shadow color, shadow thickness, etc. for various visual styles that may be applied to the vector data. A network server and/or a client device can selectively apply different visual styles to certain map features to emphasize and de-emphasize navigation routes or sets of map features. In some embodiments, the network server also may specify which visual styles the client device should apply to various vector-based descriptions of map features (also referred to herein as vector descriptors or simply vectors).
- As a more specific example, the server can instruct the client device to visually emphasize the road segments included in the navigation route, de-emphasize road segments not in the navigation route, and leave the remaining features at the default (standard) level of detail. The server also can instruct the client device to visually emphasize a set of map features responsive to a search query. A set of map features related to a navigation route or a search query generally can include any number of features of one or multiple types (e.g., road segments, buildings, parks) as well as associated labels.
- In one example embodiment, the client device receives from a network server and stores in the local memory definitions for multiple visual styles for the map features included in the digital map. The client device initially can display all of the map features for a certain geographic area in the standard style. To illustrate a navigation route, the server specifies which map features the client device should re-render in the rich style and (in some cases) which map features the client device should re-render in the minimal style.
- In another example embodiment, the server initially provides map features along with only the standard style. To illustrate a navigation route, the server in this case provides descriptions of rich styles for various map features as well as indications of which map features should be re-rendered in these styles.
- Referring to
Fig. 1 , an example communication system in which the techniques outlined above can be implemented includes a client computing device 10 (also referred to herein as a "client device"). Theclient device 10 may be a portable device such as smart phone or a tablet computer, for example. Theclient device 10 may also be a laptop computer, a desktop computer, or a personal digital assistant (PDA). Theclient device 10 also can communicate with various content providers, servers, etc. via a wired orwireless communication network 32 such as a fourth- or third-generation cellular network (4G or 3G, respectively). Theclient device 10 can include adisplay 28 such as a touchscreen. The display may include a software keyboard for entering text input. Additionally, theclient device 10 includes a graphics processing unit (GPU) 16, one or more processors orCPUs 12, aGPS module 14, amemory 20, and acellular communication unit 18 to transmit and receive data via a 3G cellular network, a 4G cellular network, or any other suitable network. - The
memory 20 can store, for example, instructions of anoperating system 24, and a dynamicmap rendering engine 26 as part of amapping application 22. The dynamicmap rendering engine 26 can receive and store style data such as a style table 42 for styling map features in a digital map display. Further, the dynamicmap rendering engine 26 can receive navigation directions to a destination from astyle controller 38, where the navigation directions include a first set of map features related to a navigation route. The dynamicmap rendering engine 26 can render the first set of map features according to one of the styles included in the style data. Together, the dynamicmap rendering engine 26 and thestyle controller 38 can form a dynamic mapping system. - The
software components software components more processors 12. - The
mapping application 22 generally can be provided in different versions for different respective operating systems. For example, the maker of theclient device 10 can provide a Software Development Kit (SDK) including themapping application 22 for the Android™ platform, another SDK for the iOS™ platform, etc. - The
client device 10 has access to a widearea communication network 32 such as the Internet via a long-range wireless communication link (e.g., a cellular link). Theclient device 10 can access thecommunication network 32 via acellular communication unit 18. In the example configuration ofFig. 1 , theclient device 10 communicates with anavigation server 33 that provides navigation data and a map data server 36 which generates map data (e.g., in a vector graphics format). - The map data server 36 includes a
memory 37 and one ormore processors 39. Thememory 37 may be tangible, non-transitory memory and may include any types of suitable memory modules, including random access memory (RAM), read-only memory (ROM), flash memory, other types of persistent memory, etc. Thememory 37 stores instructions executable on theprocessors 39 that make up astyle controller 38 which generates several visual styles and provides the visual styles to the dynamicmap rendering engine 26, for example in a style table 64. - The
style controller 38 may utilize and, in some embodiments, manage a style table 64 that indicates visual characteristics for various styles. An example implementation of a style table that may be used as the style table 64 is discussed in more detail with reference toFig. 2 . In an embodiment, thestyle controller 38 uses the style table 64 to determine which of the styles should be applied to various map features at theclient device 10 and generates an appropriate indication for theclient device 10. - In some embodiments, a user requests map data for a geographic area via the
mapping application 22. Accordingly, theclient device 10 provides the request to the map data server 36, which in turn, retrieves the map data for the geographic area from the map database 40. The map data may include several map features which can be, for example, two- and three-dimensional shapes representing roads, buildings, parks, POIs, bodies of water, boundaries of cities, and other geographic entities. Thestyle controller 38 also retrieves descriptions of visual styles to be applied to the map features, for example from the style table 64. - The
style controller 38 then provides the descriptions of visual styles along with the map data to theclient device 10, and the dynamicmap rendering engine 26 renders the map features according to respective visual styles and presents a digital map display including the rendered map features. In some embodiments, thestyle controller 38 provides the default visual styles used to render the map features. For example, thestyle controller 38 provides the standard style, corresponding to the default level of detail, to the dynamicmap rendering engine 26, and the dynamicmap rendering engine 26 renders each of the map features according to the standard style. - In other embodiments, the
style controller 38 provides descriptions of several visual styles to the dynamic map rendering engine 26 (e.g., minimal, standard, and rich styles), and the dynamicmap rendering engine 26 determines the appropriate style in which to render each map feature. In yet other embodiments, thestyle controller 38 provides descriptions of several visual styles to the dynamic map rendering engine 26 (e.g., minimal, standard, and rich styles) along with indications of the visual styles to apply to each of the map features. For example, thestyle controller 38 may provide instructions for styling each map feature (e.g., render the first set of map features related to the navigation route in the rich style, render the second set of map features not related to the navigation route in the minimal style, etc.). - In response to a request for navigation directions to a destination provided to the map data server 36 via the
mapping application 22, thestyle controller 38 retrieves a navigation route to the destination from thenavigation server 33 or generates the navigation route locally using offline data. Thestyle controller 38 then identifies each of the map features corresponding to physical entities located in the geographic area and related to the navigation route, such as a set of road segments along the navigation route, a building corresponding to the destination, a POI, etc. Then thestyle controller 38 provides descriptions of the map features related to the navigation route to theclient device 10 as a first set of map features. For example, the descriptions of the map features may include descriptions of road geometries. In some embodiments, the dynamicmap rendering engine 26 then generates a modified digital map by re-rendering the first set of map features using the rich style. - In other embodiments, the
style controller 38 provides the map features related to the navigation route to theclient device 10 as a first set of map features with the style data for the rich style and/or with instructions for the dynamicmap rendering engine 26 to re-render the first set of map features using the rich style. - The modified digital map also includes map features displayed at a level of detail lower than the high level of detail corresponding to the rich style. More specifically, in some embodiments, the
style controller 38 provides map features not related to the navigation route to theclient device 10 as a second set of map features. The dynamicmap rendering engine 26 then generates the modified digital map by re-rendering the second set of map features using the minimal style, and the remaining map features using the standard style. In particular, the request for navigation directions may specify styles for which style data is already available at the client device 10 (e.g., styles stored in the style table). If theclient device 10 has not yet received style data for the rich style or the minimal style, the map data server 36 provides the corresponding style data. - In other embodiments, the dynamic
map rendering engine 26 re-renders each of the map features included in the digital map display and which are not in the first set of map features using the minimal style. In yet other embodiments, thestyle controller 38 provides map features not related to the navigation route to theclient device 10 as a second set of map features (e.g., map features within a threshold distance of the map features related to the navigation route) with the style data for the minimal style and/or with instructions for the dynamicmap rendering engine 26 to re-render the second set of map features using the minimal style. Also in another embodiment, thestyle controller 38 renders each of the map features according to the appropriate style and provides the rendered map features to theclient device 10, for example in a raster image. - The
style controller 38 and/or dynamicmap rendering engine 26 can identify map features related to a navigation route or a search query according to any suitable distance- and/or relevance-based scheme. For example, upon generating a navigation route, thestyle controller 38 can identify road segments that make up the navigation route and each structure (e.g., a building, a bridge, a tunnel) within a certain distance from the route (e.g., 20 meters), and include the identified road segments and structures in a set of map features to be rendered using the rich style. In some cases, thestyle controller 38 also can include in this set of map features landmarks of a certain threshold prominence (measured in terms of size, visibility, color contrast with nearby structures) within a certain distance from the route (e.g., 50 meters). Further, in some cases, thestyle controller 38 can include in this set of map features points-of-interest of certain threshold popularity. - Further, the
style controller 38 and/or dynamicmap rendering engine 26 can dynamically vary the content of the set of map features to be emphasized on the digital map based on the current location of theclient device 10 or another suitable signal. As a more specific example, the dynamicmap rendering engine 26 can render map features within a certain radius of the current location of theclient device 10 moving along a navigation route using the rich style, render the map features associated with other portions of the navigation route using the standard style, and render map features unrelated to the navigation route using the minimal style. In this manner, theclient device 10 appears to move in a "bubble" of highly detailed map features along the route. - The
memory 37, or the memory in another server, can also store instructions for generating map data or for calling on thenavigation server 33 to generate navigation directions. - More generally, the
client device 10 can communicate with any number of suitable servers. For example, in another embodiment, asuggestions server 34 generates suggestions based on partial user input, a traffic data server provides traffic updates along a route, a weather data server provides weather data and/or alerts, etc. - For simplicity,
Fig. 1 illustrates the map database 40 as only one instance of a database. However, the map database 40 according to some implementations includes a group of one or more databases, each storing different information. In addition,Fig. 1 illustrates the map data server 36 as only one instance of a server. However, the map data server 36 according to some implementations include a group of one or more map data servers, each equipped with one or more processors and capable of operating independently of the other map data servers. Map data servers operating in such a group can process requests from theclient device 10 individually (e.g., based on availability), in a distributed manner where one operation associated with processing a request is performed on one map data server while another operation associated with processing the same request is performed on another map data server, or according to any other suitable technique. For the purposes of this discussion, the term "map data" may refer to an individual map data server or to a group of two or more map data servers. -
Fig. 2 illustrates an example style table 200 graphically depicting visual styles for various types of map features. More specifically, the style table 200 in this example includes three visual styles: aminimal style 210, astandard style 220, and arich style 230. For a particular visual style, the style table 200 includes a set of visual attributes or configuration parameters for each type of map feature. For example, for theminimal style 210, the set of configuration parameters for abuilding 210a include a two-dimensional square-shaped object with thin lines (e.g., having a line thickness of 1 pt.). The fill color for theminimal style building 210a is white, the outline color is light grey, and there is no shadow. For thestandard style 220, the set of configuration parameters for abuilding 220a include a two-dimensional square-shaped object with thicker lines (e.g., having a line thickness of 2 pt.). The fill color for theminimal style building 220a is white, the outline color is light grey, and there is a light grey shadow. For therich style 230, the set of configuration parameters for abuilding 230a include a three-dimensional cube or rectangular prism-shaped graphic with a triangle on the top surface and having a white fill color, light grey outline color, and a larger and darker shadow than thestandard style building 220a. - In another example, for the
minimal style 210, the set of configuration parameters for aroad 210b include a thin line (e.g., having a line thickness of 1 pt.) with a dark grey line color. For thestandard style 220, the set of configuration parameters for aroad 220b include a thicker line (e.g., having a line thickness of 3 pt.) with a dark grey line color. For therich style 230, the set of configuration parameters for aroad 230b include an even thicker line graphic (e.g., having a line thickness of 5 pt.) with a white dividing line in the center, two sets of white dashed lines on each side of the dividing line, and a dark grey fill color. - As illustrated in the example style table 200, the
rich style 230 has the highest level of detail while thestandard style 220 has a medium or default level of detail and theminimal style 210 has a low level of detail. In this manner, the digital map display presents a stark contrast between map features rendered in therich style 230 and map features rendered in the minimal 210 or evenstandard styles 220 to emphasize those map features in the rich style 230 (e.g., map features related to a navigation route) and de-emphasize those map features in theminimal style 210. While the style table 200 depicts visual styles for two types of map features including buildings and roads, these are merely example map feature types which may be included in the style table 200. The style table 200 may also include visual styles for additional map features types, such as parks, POIs, bodies of water, boundaries of cities, and other geographic entities. Furthermore, the set of configuration parameters for each visual style and map feature type are merely one example set of configuration parameters. A map feature type and visual style (e.g., a minimal style building) may include any suitable configuration parameters, such that for a particular map feature type, the minimal style has the lowest level of detail, the standard style has a medium or default level of detail, and the rich style has the highest level of detail. The set of configuration parameters may include for example, a particular line thickness, a particular fill color, a particular outline color, a particular shape or graphic, a particular shadow color, a particular shadow thickness, etc. - Thus, in some implementations, a description of minimal, standard, and rich styles includes only a description of visual attributes (e.g., color, line thickness, stroke type) which a graphics pipeline such as OpenGL applies to the same geometry. In other implementations, a description of minimal, standard, and rich styles includes a description of additional geometries, along with the corresponding visual attributes, to be added to a map feature rendered in a simpler style.
- In some embodiments, the
style controller 38 as shown inFig. 1 generates the style table 200 including a set of configuration parameters for each visual style and map feature type and provides the style table 200 to the dynamicmap rendering engine 26 to render map features according to the appropriate visual style. For example, the dynamicmap rendering engine 26 may be configured to render map features in a digital map without a navigation route in thestandard style 220. When there is a navigation route to display, the dynamicmap rendering engine 26 may be configured to render map features in a digital map related to the navigation route in therich style 230 and map features that are not related to the navigation route in theminimal style 210. In other embodiments, when there is a navigation route, the dynamicmap rendering engine 26 may be configured to render map features in a digital map related to the navigation route in therich style 230, map features within a threshold distance of the map features related to the navigation route in theminimal style 210, and remaining map features in thestandard style 220. In yet other embodiments, thestyle controller 38 may provide instructions to the dynamicmap rendering engine 26 describing the appropriate visual style in which to render each map feature in the digital map. -
Fig. 3 illustrates anexample map display 300 including anavigation route building 310 that includes the Fancy Pizza restaurant. Themapping application 22 can present theexample map display 300 via thedisplay 28 of theclient device 10. The navigation route in this example includesroad segments building 310 including the Fancy Pizza restaurant. Accordingly, the dynamic mapping system identifies theroad segments building 310 as map features related to the navigation route. The dynamic mapping system renders these features in therich style 230, as shown inFig. 2 . In this example, the dynamic mapping system renders the remaining map features such as theroad segment 312 and thepark 308 in theminimal style 210, as also shown inFig. 2 . Themap display 300 also includes an indication of the user'scurrent location 302 along the navigation route and anoverlay 306 indicating traffic along the route. While theclient device 10 does not display an overlay on the digital map corresponding to the navigation route, other information such as traffic data may be depicted with highlighting, such as a red color overlaying a portion of theroad segment 304a rendered in therich style 230. -
Fig. 4 illustrates anotherexample map display 400 that does not include a navigation route. For example, themapping application 22 may present themap display 400 via thedisplay 28 when the user launches themapping application 22 or pans or zooms the digital map to view a particular geographic area. In theexample map display 400, the map features, such asroad segments buildings 406, andparks 404 appear in thestandard style 220, as shown inFig. 2 . For example, compared to thepark 308 presented in theminimal style 210 inFig. 3 , thepark 404 has a darker green fill color, a thicker line, and a darker outline color. Moreover, compared to theroad segment 312 presented in theminimal style 210 inFig. 3 , theroad segment 408 has a thicker line. Furthermore, compared to thebuilding 310 presented in therich style 230 inFig. 3 , thebuilding 406 is two-dimensional rather than three-dimensional and has a smaller and lighter shadow. -
Fig. 5 illustrates yet anotherexample map display 500 that does not include a navigation route. In theexample map display 500, the dynamic mapping system presents thepark 504 in therich style 230, while the remaining map features 502a, 502b, 506, 508 are in theminimal style 210 as shown inFig. 2 . For example, the dynamic mapping system may present themap display 500 via thedisplay 28 when the user selects thepark 504 as a search result within themapping application 22. The dynamic mapping system then renders thepark 504 in therich style 230 instead of presenting a pin on the digital map at the park's location. Additionally, the dynamic mapping system may generate themap display 500 when thepark 504 is a familiar location to the user, is within a threshold distance of the user's current location as depicted by theindicator 510, the user has an upcoming game or event at thepark 504 according to the user's calendar, or for any other suitable reason to emphasize thepark 504 within themap display 500. In any event, compared to thepark 404 presented in thestandard style 220, thepark 504 includes a soccer field graphic rather than a green rectangular-shaped object. -
Fig. 6 illustrates a flow diagram of anexample method 600 for providing navigation directions on a digital map. The method can be implemented in a set of instructions stored on a computer-readable memory and executable at one or more processors of the server device 36. For example, the method can be implemented by thestyle controller 38. - At
block 602, a request for map data for a geographic area is received, for example from amapping application 22 operating in aclient device 10. In response to the request, map data for the geographic area is retrieved, for example from the map database 40 as shown inFig. 1 . The map data may include several map features which can be, for example, two- and three-dimensional shapes representing roads, buildings, POIs, parks, bodies of water, boundaries of cities, and other geographic entities. In some embodiments, each of the map features may have geometries described in a vector graphics format, or another suitable format for specifying geometric shapes using mathematical descriptions of points and paths connecting the points. Vector data generally allows client devices to scale, rotate, and otherwise operate on shapes without distortion. For example, rather than specifying each pixel that makes up a raster image of a line segment, vector data may specify the coordinates of two endpoints of the line segment and indicate that the two endpoints are connected by a straight line. In any event, the server device 36 provides the map features within the geographic area to the client device 10 (block 604). - In addition to providing the map features within the geographic area to the
client device 10, the map data server 36 generates visual styles applicable to the map features, and provides descriptions of the visual styles to the client device 10 (block 606). For example, the map data server 36 may generate three visual styles: a minimal style, a standard style, and a rich style. Each visual style may include a set of configuration parameters for each of several map feature types (e.g., roads, buildings, POIs, parks, bodies of water, boundaries of cities, other geographic entities, etc.). The set of configuration parameters may include for example, a particular line thickness, a particular fill color, a particular outline color, a particular shape or graphic, a particular shadow color, a particular shadow thickness, etc. The visual styles may be provided to theclient device 10 in a style table, similar to the style table 200 illustrated inFig. 2 . Accordingly, theclient device 10 stores a local copy of the style table for rendering the map features according to the applicable visual styles. - For each map feature, the
client device 10 may receive a geometry for the map feature and a visual style in which to render the map feature having a particular set of configuration parameters. For example, for a road segment, theclient device 10 may receive coordinates of two endpoints of a line segment that are connected by a straight line. For the standard style, theclient device 10 may receive a set of configuration parameters for road segments that includes a line thickness of 3 pt. and a line color of dark grey. - The
client device 10 then may apply style data as appropriate to the specified line segment, so that the line segment is displayed with the applicable visual style including a particular color, width, etc. As another example, the vector data may specify the contour of a triangle, and the corresponding style data may specify the color of the contour lines, the width of the contour lines, and the color of the interior region of the triangle. In other words, rather than receiving raster images from the map data server 36, theclient device 10 may receive instructions for drawing a map image on thedisplay 28 and execute the instructions so as to generate a raster map image. In some cases, however, vector data also may include raster images as certain component elements that cannot be easily represented in a vector format. - In some embodiments, the map data server 36 provides instructions for styling each map feature to the
client device 10, and theclient device 10 renders the map features in the map display according to their respective styles. In other embodiments, the map data server 36 only provides the visual styles applicable to the particular map features. For example, when the digital map does not include a navigation route, the map features may be rendered in the standard style, and the map data server 36 only provides the standard style to theclient device 10. - In any event, at block 608 a request for navigation directions to a destination is received, for example from the
mapping application 22 operating in theclient device 10. In response to the request for navigation directions, the map data server 36 retrieves a navigation route to the destination from thenavigation server 33. The map data server 36 then identifies each of the map features related to the navigation route, such as a set of road segments along the navigation route, a building corresponding to the destination, etc. (block 610). - Then the map data server 36 provides the map features related to the navigation route to the
client device 10 as a first set of map features (block 612). For example, the map data server 36 may provide an indication or reference to map features previously transmitted to theclient device 10 and presented by themapping application 22 in the digital map. More specifically, each map feature may have a feature ID which uniquely identifies the map feature. Rather than transmitting descriptions of the map feature once again to theclient device 10, the map data server 36 may provide the feature ID as a reference to the map feature which is included in the first set of map features. In some embodiments, theclient device 10 then re-renders the first set of map features using the rich style. - In other embodiments, the map data server 36 provides the map features related to the navigation route to the
client device 10 as a first set of map features with the style data for the rich style (block 614) and/or with instructions for theclient device 10 to re-render the first set of map features using the rich style. In particular, the request for navigation directions may specify styles explicitly by including styles unavailable at theclient device 10, for example, or implicitly by providing a list of styles already available at the client device (e.g., styles stored in the style table). If theclient device 10 has not received style data for the rich style, the map data server 36 provides the corresponding style data. - Also in some embodiments, the map data server 36 provides map features not related to the navigation route to the
client device 10 as a second set of map features. For example, the map data server 36 may provide an indication or reference to map features previously provided and presented by themapping application 22 in the digital map. More specifically, each map feature may have a feature ID which uniquely identifies the map feature. Rather than providing the map feature once again to theclient device 10, the map data server 36 may provide the feature ID as a reference to the map feature which is included in the second set of map features The client device then re-renders the second set of map features using the minimal style, and the remaining map features using the standard style. In other embodiments, theclient device 10 re-renders each of the map features included in the digital map display and which are not in the first set of map features using the minimal style. In yet other embodiments, the map data server 36 provides map features not related to the navigation route to theclient device 10 as a second set of map features with the style data for the minimal style (block 614) and/or with instructions for theclient device 10 to re-render the second set of map features using the minimal style. - In other embodiments, the map data server 36 renders each of the map features according to the appropriate style. The map data server 36 then provides map tiles, i.e., a portion of a map image of a certain size (e.g., 256 by 256 pixels), including the rendered map features to the
client device 10. -
Fig. 7 illustrates a flow diagram of anexample method 700 for illustrating navigation directions on a digital map. The method can be implemented in a set of instructions stored on a computer-readable memory and executable at one or more processors of theclient device 10. For example, the method can be implemented by the dynamicmap rendering engine 26. - At
block 702, theclient device 10 presents a digital map of a geographic area including several map features which can be, for example, two- and three-dimensional shapes representing roads, buildings, POIs, parks, bodies of water, boundaries of cities, and other geographic entities. To present the digital map, theclient device 10 may receive geometries for each of the map features from a server device described in a vector graphics format, or another suitable format for specifying geometric shapes using mathematical descriptions of points and paths connecting the points. In other embodiments, theclient device 10 retrieves geometries for each of the map features from offline map data stored locally at the client device. - The
client device 10 may also receive descriptions of visual styles applicable to the map features from the server device (block 704), where each visual style includes a set of configuration parameters for each of several map feature types. For example, the visual styles may include a minimal style, a standard style, and a rich style. Each style may have a different set of configuration parameters for roads, buildings, POIs, parks, bodies of water, boundaries of cities, other geographic entities, etc. In some embodiments, theclient device 10 receives and stores a style table including each of the styles and configuration parameters for rendering the map features. In other embodiments, theclient device 10 receives the configuration parameters for a particular style, such as the standard style at a default level of detail and applies the particular style to the map features (block 706) to render the digital map. - Then at
block 708, a request for navigation directions to a destination is received. Theclient device 10 may receive the request via user controls presented by themapping application 22. For example, using themapping application 22, the user may enter a destination and select a user control requesting directions from the user's current location to the destination. Theclient device 10 then obtains a navigation route to the destination. The navigation route may be obtained from anavigation server 33 or theclient device 10 may retrieve offline navigation directions stored locally. In any event, a first set of map features are identified that are related to the navigation route (block 710), such as a set of road segments along the navigation route, a building corresponding to the destination, etc. The first set of map features may be a subset of the map features included in the digital map presented atblock 702. - The
client device 10 then applies the rich style at a high level of detail to the first set of map features (block 712). Theclient device 10 may also apply the minimal style at a low level of detail to the remaining map features in the digital map (block 714), such that the map features are re-rendered from the standard style to the rich or minimal styles. Also in some embodiments, theclient device 10 obtains a second set of map features that are not related to the navigation route but within a threshold distance of the map features related to the navigation route. Theclient device 10 then applies the minimal style to the second set of map features, and applies the standard style to the remaining map features within the digital map. - In some embodiments, the map data server 36 provides the first or second sets of map features to the
client device 10. For example, the map data server 36 may provide an indication or reference to map features previously provided and presented by themapping application 22 in the digital map. More specifically, each map feature may have a feature ID which uniquely identifies the map feature. Rather than providing the map feature once again to theclient device 10, the map data server 36 may provide the feature ID as a reference to the map feature which is included in the first or second sets of map features. In some embodiments, theclient device 10 then re-renders the first set of map features using the rich style and the second set of map features using the minimal style. In other embodiments, the map data server 36 provides the first set of map features to the client device with the style data for the rich style, provides the second set of map features to the client device with the style data for the minimal style, and/or provides instructions for theclient device 10 to re-render the first set of map features using the rich style and the second set of map features using the minimal style. - The following additional considerations apply to the foregoing discussion. Throughout this specification, plural instances may implement components, operations, or structures described as a single instance. Although individual operations of one or more methods are illustrated and described as separate operations, one or more of the individual operations may be performed concurrently, and nothing requires that the operations be performed in the order illustrated. Structures and functionality presented as separate components in example configurations may be implemented as a combined structure or component. Similarly, structures and functionality presented as a single component may be implemented as separate components.
- Additionally, certain embodiments are described herein as including logic or a number of components, modules, or mechanisms. Modules may constitute either software modules (e.g., code stored on a machine-readable medium) or hardware modules. A hardware module is tangible unit capable of performing certain operations and may be configured or arranged in a certain manner. In example embodiments, one or more computer systems (e.g., a standalone, client or server computer system) or one or more hardware modules of a computer system (e.g., a processor or a group of processors) may be configured by software (e.g., an application or application portion) as a hardware module that operates to perform certain operations as described herein.
- In various embodiments, a hardware module may be implemented mechanically or electronically. For example, a hardware module may comprise dedicated circuitry or logic that is permanently configured (e.g., as a special-purpose processor, such as a field programmable gate array (FPGA) or an application-specific integrated circuit (ASIC)) to perform certain operations. A hardware module may also comprise programmable logic or circuitry (e.g., as encompassed within a general-purpose processor or other programmable processor) that is temporarily configured by software to perform certain operations. It will be appreciated that the decision to implement a hardware module mechanically, in dedicated and permanently configured circuitry, or in temporarily configured circuitry (e.g., configured by software) may be driven by cost and time considerations.
- Accordingly, the term hardware should be understood to encompass a tangible entity, be that an entity that is physically constructed, permanently configured (e.g., hardwired), or temporarily configured (e.g., programmed) to operate in a certain manner or to perform certain operations described herein. As used herein "hardware-implemented module" refers to a hardware module. Considering embodiments in which hardware modules are temporarily configured (e.g., programmed), each of the hardware modules need not be configured or instantiated at any one instance in time. For example, where the hardware modules comprise a general-purpose processor configured using software, the general-purpose processor may be configured as respective different hardware modules at different times. Software may accordingly configure a processor, for example, to constitute a particular hardware module at one instance of time and to constitute a different hardware module at a different instance of time.
- Hardware modules can provide information to, and receive information from, other hardware. Accordingly, the described hardware modules may be regarded as being communicatively coupled. Where multiple of such hardware modules exist contemporaneously, communications may be achieved through signal transmission (e.g., over appropriate circuits and buses) that connect the hardware modules. In embodiments in which multiple hardware modules are configured or instantiated at different times, communications between such hardware modules may be achieved, for example, through the storage and retrieval of information in memory structures to which the multiple hardware modules have access. For example, one hardware module may perform an operation and store the output of that operation in a memory device to which it is communicatively coupled. A further hardware module may then, at a later time, access the memory device to retrieve and process the stored output. Hardware modules may also initiate communications with input or output devices, and can operate on a resource (e.g., a collection of information).
- The
methods methods methods methods methods - The various operations of example methods described herein may be performed, at least partially, by one or more processors that are temporarily configured (e.g., by software) or permanently configured to perform the relevant operations. Whether temporarily or permanently configured, such processors may constitute processor-implemented modules that operate to perform one or more operations or functions. The modules referred to herein may, in some example embodiments, comprise processor-implemented modules.
- Similarly, the methods or routines described herein may be at least partially processor-implemented. For example, at least some of the operations of a method may be performed by one or more processors or processor-implemented hardware modules. The performance of certain of the operations may be distributed among the one or more processors, not only residing within a single machine, but deployed across a number of machines. In some example embodiments, the processor or processors may be located in a single location (e.g., within a home environment, an office environment or as a server farm), while in other embodiments the processors may be distributed across a number of locations.
- The one or more processors may also operate to support performance of the relevant operations in a "cloud computing" environment or as an SaaS. For example, as indicated above, at least some of the operations may be performed by a group of computers (as examples of machines including processors), these operations being accessible via a network (e.g., the Internet) and via one or more appropriate interfaces (e.g., APIs).
- Still further, the figures depict some embodiments of the example environment for purposes of illustration only. One skilled in the art will readily recognize from the following discussion that alternative embodiments of the structures and methods illustrated herein may be employed without departing from the principles described herein.
- Upon reading this disclosure, those of skill in the art will appreciate still additional alternative structural and functional designs for dynamically restyling map features through the disclosed principles herein. Thus, while particular embodiments and applications have been illustrated and described, it is to be understood that the disclosed embodiments are not limited to the precise construction and components disclosed herein. Various modifications, changes and variations, which will be apparent to those skilled in the art, may be made in the arrangement, operation and details of the method and apparatus disclosed herein without departing from the scope of the appended claims.
Claims (14)
- A method for illustrating navigation directions on a digital map, the method comprising:generating a digital map of a geographic area, including providing map features included in the digital map at a default level of detail;obtaining, by one or more processors (12), a navigation route to a destination located in the geographic area;identifying, by the one or more processors, a first plurality of map features corresponding to physical entities located in the geographic area and related to the navigation route; andgenerating a modified digital map, including re-rendering, by the one or more processors, the first plurality of map features at a high level of detail, characterised in that,the modified digital map includes a second plurality of map features that are not related to the navigation route displayed at a low level of detail, where the default level of detail is higher than the low level of detail, and the high level of detail is higher than the default level of detail.
- The method of claim 1, wherein the first plurality of map features includes road segments included in the navigation route and optionally further includes a building corresponding to the destination.
- The method of claim 2, further comprising:identifying, by the one or more processors, the second plurality of map features, wherein the second plurality of map features correspond to road segments not included in the navigation route;wherein generating the modified digital map includes re-rendering, by the one or more processors, the second plurality of map features at the low level of detail.
- The method of claim 1, further comprising:transmitting, from a network server to a client device, descriptions of road geometries and respective descriptions of a plurality of visual styles applicable to the road geometries, the plurality of visual styles corresponding to the low level of detail; andwherein generating the modified digital map includes transmitting, from the network server to the client device, an indication of which of the previously transmitted visual styles are to be applied to the first plurality of map features.
- The method of claim 4, further comprising:in response to a request for map data of the geographic area, transmitting, from the network server to the client device, descriptions of map features within the geographic area and respective descriptions of the plurality of visual styles applicable to the road geometries, the plurality of visual styles corresponding to the low level of detail, the default level of detail, and the high level of detail for rendering the map features at the default level of detail; andin response to a request for navigation directions to the destination, transmitting, from the network server to the client device, descriptions of the first plurality of map features corresponding to physical entities located in the geographic area and related to the navigation route for rendering the first plurality of map features at the high level of detail and remaining map features within the geographic area at the low level of detail.
- A server device (36) for illustrating navigation directions on a digital map, the server device comprising:one or more processors (39); anda non-transitory computer-readable memory (37) coupled to the one or more processors and storing instructions thereon that, when executed by the one or more processors, cause the server device to:generate a digital map of a geographic area, including provide map features included in the digital map at a default level of detail;obtain a navigation route to a destination located in the geographic area;identify a first plurality of map features corresponding to physical entities located in the geographic area and related to the navigation route; andgenerate a modified digital map, including re-rendering the first plurality of map features at a high level of detail, characterised in that,the modified digital map includes a second plurality of map features that are not related to the navigation route displayed at a low level of detail, where the default level of detail is higher than the low level of detail, and the high level of detail is higher than the default level of detail.
- The server device of claim 6, wherein the first plurality of map features includes road segments included in the navigation route and optionally further includes a building corresponding to the destination.
- The server device of claim 7, wherein the instructions further cause the server device to:identify the second plurality of map features, wherein the second plurality of map features correspond to road segments not included in the navigation route; andre-render the second plurality of map features at the low level of detail.
- The server device of claim 6, wherein the instructions further cause the server device to:transmit, to a client device, descriptions of road geometries and respective descriptions of a plurality of visual styles applicable to the road geometries, the plurality of visual styles corresponding to the low level of detail; andtransmit, to the client device, an indication of which of the previously transmitted visual styles are to be applied to the first plurality of map features.
- The server device of claim 9, wherein the instructions further cause the server device to:in response to a request for map data of the geographic area, transmit, to the client device, descriptions of map features within the geographic area and respective descriptions of the plurality of visual styles applicable to the road geometries, the plurality of visual styles corresponding to the low level of detail, the default level of detail, and the high level of detail for rendering the map features at the default level of detail; andin response to a request for navigation directions to the destination, transmit, to the client device, descriptions of the first plurality of map features corresponding to physical entities located in the geographic area and related to the navigation route for rendering the first plurality of map features at the high level of detail and remaining map features within the geographic area at the low level of detail.
- A client device (10) for illustrating navigation directions on a digital map, the client device comprising:one or more processors (12); anda non-transitory computer-readable memory (20) coupled to the one or more processors and storing instructions thereon that, when executed by the one or more processors, cause the client device to:display a digital map of a geographic area including map features presented at a default level of detail;receive a request for navigation directions to a destination located in the geographic area;obtain descriptions of a first plurality of map features corresponding to physical entities located in the geographic area and related to a navigation route to the destination;display the first plurality of map features within the digital map at a high level of detail; characterised in that,a second plurality of map features that are not related to the navigation route are displayed within the digital map at a low level of detail, where the default level of detail is higher than the low level of detail, and the high level of detail is higher than the default level of detail.
- The client device of claim 11, wherein the first plurality of map features includes road segments included in the navigation route, and optionally further includes a building corresponding to the destination .
- The client device of claim 11, wherein the instructions further cause the client device to:receive, from a server device, descriptions of map features within the geographic area and respective descriptions of a plurality of visual styles, the plurality of visual styles corresponding to the low level of detail; anddisplay the digital map according to the received descriptions of map features within the geographic area and the received description of the default level of detail.
- The client device of claim 13, wherein the instructions further cause the client device to:
in response to receiving the request for navigation directions to the destination, receive, from the server device, descriptions of road geometries corresponding to the first plurality of map features and indications of which of the transmitted visual styles are to be applied to the first plurality of map features.
Applications Claiming Priority (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
PCT/US2018/052680 WO2020068054A1 (en) | 2018-09-25 | 2018-09-25 | Dynamic restyling of digital maps |
Publications (2)
Publication Number | Publication Date |
---|---|
EP3797264A1 EP3797264A1 (en) | 2021-03-31 |
EP3797264B1 true EP3797264B1 (en) | 2023-02-15 |
Family
ID=63963409
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
EP18792611.8A Active EP3797264B1 (en) | 2018-09-25 | 2018-09-25 | Dynamic restyling of digital maps |
Country Status (6)
Country | Link |
---|---|
US (1) | US11353333B2 (en) |
EP (1) | EP3797264B1 (en) |
JP (1) | JP7086180B2 (en) |
KR (2) | KR20200070320A (en) |
CN (1) | CN111226095B (en) |
WO (1) | WO2020068054A1 (en) |
Families Citing this family (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20220252422A1 (en) * | 2021-02-09 | 2022-08-11 | Here Global B.V. | Method, apparatus, and system for constructing a high-resolution map for geospatial big data processing |
CN117788679B (en) * | 2024-02-27 | 2024-05-03 | 腾讯科技（深圳）有限公司 | Map data generation method, map data generation device, electronic equipment and storage medium |
Citations (6)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
EP1024467A2 (en) * | 1999-01-29 | 2000-08-02 | Hitachi, Ltd. | Stereoscopic map-display method and navigation system using the method |
JP2004086508A (en) * | 2002-08-26 | 2004-03-18 | Alpine Electronics Inc | Display control method for moving image based on three-dimensional shape data and navigation device |
JP2009031802A (en) * | 2008-08-28 | 2009-02-12 | Pioneer Electronic Corp | Information display device and display control method |
JP2012220370A (en) * | 2011-04-11 | 2012-11-12 | Navitime Japan Co Ltd | Navigation device, navigation system, navigation server, navigation method and program |
US20130024113A1 (en) * | 2011-07-22 | 2013-01-24 | Robert Bosch Gmbh | Selecting and Controlling the Density of Objects Rendered in Two-Dimensional and Three-Dimensional Navigation Maps |
US20130035853A1 (en) * | 2011-08-03 | 2013-02-07 | Google Inc. | Prominence-Based Generation and Rendering of Map Features |
Family Cites Families (14)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
AU2003223091A1 (en) * | 2002-04-30 | 2003-11-17 | Telmap Ltd. | Dynamic navigation system |
KR100689376B1 (en) | 2004-12-14 | 2007-03-02 | 삼성전자주식회사 | Appratus and method for displaying map in navigation system |
CN102007377A (en) | 2008-05-02 | 2011-04-06 | 通腾科技股份有限公司 | A navigation device and method for emphasising a map route |
US8493407B2 (en) | 2009-09-03 | 2013-07-23 | Nokia Corporation | Method and apparatus for customizing map presentations based on user interests |
EP2495532A1 (en) * | 2011-03-01 | 2012-09-05 | Harman Becker Automotive Systems GmbH | Vehicle navigation device and method |
US8681176B1 (en) | 2011-09-20 | 2014-03-25 | Google Inc. | Rendering a map using style identifiers |
JP5328959B2 (en) * | 2012-05-16 | 2013-10-30 | 株式会社デンソーアイティーラボラトリ | Information display device |
US9041736B2 (en) * | 2012-06-05 | 2015-05-26 | Apple Inc. | Method, system and apparatus for rendering a map according to a stylesheet |
US20130346855A1 (en) * | 2012-06-22 | 2013-12-26 | Google Inc. | Providing differentiated display of a map feature |
US20140267282A1 (en) * | 2013-03-14 | 2014-09-18 | Robert Bosch Gmbh | System And Method For Context Dependent Level Of Detail Adjustment For Navigation Maps And Systems |
US10067950B1 (en) | 2014-06-25 | 2018-09-04 | Google Llc | Systems and methods for efficiently organizing map styling information |
US10030987B2 (en) * | 2015-02-05 | 2018-07-24 | Volkswagen Ag | System and methodologies for visual relevancy-grading of a navigation map |
CN107430632B (en) * | 2015-04-13 | 2022-01-04 | 谷歌有限责任公司 | Dynamically controlling a map viewport in accordance with user signals |
US10217283B2 (en) * | 2015-12-17 | 2019-02-26 | Google Llc | Navigation through multidimensional images spaces |
-
2018
- 2018-09-25 JP JP2020516433A patent/JP7086180B2/en active Active
- 2018-09-25 WO PCT/US2018/052680 patent/WO2020068054A1/en unknown
- 2018-09-25 KR KR1020207013577A patent/KR20200070320A/en not_active IP Right Cessation
- 2018-09-25 EP EP18792611.8A patent/EP3797264B1/en active Active
- 2018-09-25 KR KR1020227038270A patent/KR102527827B1/en active IP Right Grant
- 2018-09-25 CN CN201880066671.4A patent/CN111226095B/en active Active
- 2018-09-25 US US16/488,726 patent/US11353333B2/en active Active
Patent Citations (6)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
EP1024467A2 (en) * | 1999-01-29 | 2000-08-02 | Hitachi, Ltd. | Stereoscopic map-display method and navigation system using the method |
JP2004086508A (en) * | 2002-08-26 | 2004-03-18 | Alpine Electronics Inc | Display control method for moving image based on three-dimensional shape data and navigation device |
JP2009031802A (en) * | 2008-08-28 | 2009-02-12 | Pioneer Electronic Corp | Information display device and display control method |
JP2012220370A (en) * | 2011-04-11 | 2012-11-12 | Navitime Japan Co Ltd | Navigation device, navigation system, navigation server, navigation method and program |
US20130024113A1 (en) * | 2011-07-22 | 2013-01-24 | Robert Bosch Gmbh | Selecting and Controlling the Density of Objects Rendered in Two-Dimensional and Three-Dimensional Navigation Maps |
US20130035853A1 (en) * | 2011-08-03 | 2013-02-07 | Google Inc. | Prominence-Based Generation and Rendering of Map Features |
Also Published As
Publication number | Publication date |
---|---|
CN111226095A (en) | 2020-06-02 |
KR20220151711A (en) | 2022-11-15 |
US11353333B2 (en) | 2022-06-07 |
JP2020537741A (en) | 2020-12-24 |
JP7086180B2 (en) | 2022-06-17 |
WO2020068054A1 (en) | 2020-04-02 |
EP3797264A1 (en) | 2021-03-31 |
CN111226095B (en) | 2023-09-19 |
KR20200070320A (en) | 2020-06-17 |
US20210333120A1 (en) | 2021-10-28 |
KR102527827B1 (en) | 2023-05-02 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US20240053876A1 (en) | Integrating Maps and Street Views | |
EP3359918B1 (en) | Systems and methods for orienting a user in a map display | |
US9417777B2 (en) | Enabling quick display transitions between indoor and outdoor map data | |
KR102390935B1 (en) | Pick-up and drop-off location identification for ridesharing and delivery via augmented reality | |
EP2737279A1 (en) | Variable density depthmap | |
EP2610589B1 (en) | Method of displaying points of interest | |
EP3797264B1 (en) | Dynamic restyling of digital maps | |
US9846819B2 (en) | Map image display device, navigation device, and map image display method | |
CN112330769B (en) | Method and device for generating dotted line texture and electronic equipment | |
CN112819942A (en) | Data processing method and device | |
JP6512425B2 (en) | 3D map display system | |
JP2004333155A (en) | Information presenting device, information presenting method, and computer program | |
JP6143871B2 (en) | Map display system, map display method and program |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: UNKNOWN |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: THE INTERNATIONAL PUBLICATION HAS BEEN MADE |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: THE INTERNATIONAL PUBLICATION HAS BEEN MADE |
|
PUAI | Public reference made under article 153(3) epc to a published international application that has entered the european phase |
Free format text: ORIGINAL CODE: 0009012 |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: REQUEST FOR EXAMINATION WAS MADE |
|
17P | Request for examination filed |
Effective date: 20201221 |
|
AK | Designated contracting states |
Kind code of ref document: A1Designated state(s): AL AT BE BG CH CY CZ DE DK EE ES FI FR GB GR HR HU IE IS IT LI LT LU LV MC MK MT NL NO PL PT RO RS SE SI SK SM TR |
|
AX | Request for extension of the european patent |
Extension state: BA ME |
|
DAV | Request for validation of the european patent (deleted) | ||
DAX | Request for extension of the european patent (deleted) | ||
GRAP | Despatch of communication of intention to grant a patent |
Free format text: ORIGINAL CODE: EPIDOSNIGR1 |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: GRANT OF PATENT IS INTENDED |
|
INTG | Intention to grant announced |
Effective date: 20220328 |
|
GRAJ | Information related to disapproval of communication of intention to grant by the applicant or resumption of examination proceedings by the epo deleted |
Free format text: ORIGINAL CODE: EPIDOSDIGR1 |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: REQUEST FOR EXAMINATION WAS MADE |
|
INTC | Intention to grant announced (deleted) | ||
GRAP | Despatch of communication of intention to grant a patent |
Free format text: ORIGINAL CODE: EPIDOSNIGR1 |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: GRANT OF PATENT IS INTENDED |
|
INTG | Intention to grant announced |
Effective date: 20220926 |
|
GRAS | Grant fee paid |
Free format text: ORIGINAL CODE: EPIDOSNIGR3 |
|
GRAA | (expected) grant |
Free format text: ORIGINAL CODE: 0009210 |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: THE PATENT HAS BEEN GRANTED |
|
AK | Designated contracting states |
Kind code of ref document: B1Designated state(s): AL AT BE BG CH CY CZ DE DK EE ES FI FR GB GR HR HU IE IS IT LI LT LU LV MC MK MT NL NO PL PT RO RS SE SI SK SM TR |
|
REG | Reference to a national code |
Ref country code: CHRef legal event code: EPRef country code: GBRef legal event code: FG4D |
|
REG | Reference to a national code |
Ref country code: DERef legal event code: R096Ref document number: 602018046191Country of ref document: DE |
|
REG | Reference to a national code |
Ref country code: ATRef legal event code: REFRef document number: 1548443Country of ref document: ATKind code of ref document: TEffective date: 20230315Ref country code: IERef legal event code: FG4D |
|
REG | Reference to a national code |
Ref country code: LTRef legal event code: MG9D |
|
P01 | Opt-out of the competence of the unified patent court (upc) registered |
Effective date: 20230506 |
|
REG | Reference to a national code |
Ref country code: NLRef legal event code: MPEffective date: 20230215 |
|
REG | Reference to a national code |
Ref country code: ATRef legal event code: MK05Ref document number: 1548443Country of ref document: ATKind code of ref document: TEffective date: 20230215 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: RSFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230215Ref country code: PTFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230615Ref country code: NOFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230515Ref country code: NLFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230215Ref country code: LVFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230215Ref country code: LTFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230215Ref country code: HRFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230215Ref country code: ESFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230215Ref country code: ATFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230215 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: SEFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230215Ref country code: PLFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230215Ref country code: ISFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230615Ref country code: GRFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230516Ref country code: FIFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230215 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: SMFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230215Ref country code: ROFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230215Ref country code: EEFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230215Ref country code: DKFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230215Ref country code: CZFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230215 |
|
PGFP | Annual fee paid to national office [announced via postgrant information from national office to epo] |
Ref country code: GBPayment date: 20230927Year of fee payment: 6 |
|
REG | Reference to a national code |
Ref country code: DERef legal event code: R097Ref document number: 602018046191Country of ref document: DE |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: SKFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230215 |
|
PGFP | Annual fee paid to national office [announced via postgrant information from national office to epo] |
Ref country code: FRPayment date: 20230925Year of fee payment: 6Ref country code: DEPayment date: 20230927Year of fee payment: 6 |
|
PLBE | No opposition filed within time limit |
Free format text: ORIGINAL CODE: 0009261 |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: NO OPPOSITION FILED WITHIN TIME LIMIT |
|
26N | No opposition filed |
Effective date: 20231116 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: SIFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230215 |
|
REG | Reference to a national code |
Ref country code: CHRef legal event code: PL |