Detailed Description
Before describing in detail embodiments that are in accordance with the present invention, it should be observed that the embodiments reside primarily in combinations of method steps and apparatus components related to methods and systems for reallocating transmission channels in a channelisation code tree. Accordingly, the apparatus components and method steps have been represented where appropriate by conventional symbols in the drawings, showing only those specific details that are pertinent to understanding the embodiments of the present invention so as not to obscure the disclosure with details that will be readily apparent to those of ordinary skill in the art having the benefit of the description herein.
In this document, relational terms such as first and second, top and bottom, and the like may be used solely to distinguish one entity or action from another entity or action without necessarily requiring or implying any actual such relationship or order between such entities or actions. The terms "comprises," "comprising," or any other variation thereof, are intended to cover an open-ended inclusion, such that a process, method, article, or apparatus that comprises a list of elements does not include only those elements but may include other elements not expressly listed or inherent to such process, method, article, or apparatus. The use of "including", without further limitation, does not preclude the presence of additional equivalent elements in a process, method, article, or apparatus that includes the element.
Referring to fig. 1, fig. 1 illustrates an Orthogonal Variable Spreading Factor (OVSF) channelization code tree 100 according to the prior art. Each rectangle included in code tree 100 represents a channelization code, such as code 105 and code 110, which may be applied to a Wideband Code Division Multiple Access (WCDMA) data signal. Root channelization code 115 has a spreading factor equal to 1 and a base data transmission rate. Each time a branch occurs in the code tree 100 creating multiple code tree levels, the spreading factor of the code on the next level is doubled and the data transmission rate of the code on the next level is divided by two. For example, code 105 at level two of code tree 100 represents a channelisation code having a spreading factor equal to two and a transmission rate equal to one half of the base transmission rate. Similarly, code 110 at level three of code tree 100 represents a channelized code having a spreading factor equal to four and a transmission rate equal to one-fourth of the base transmission rate. The channelisation codes at the highest level of the code tree 100, referred to as leaf codes, have the highest spreading factor and the lowest transmission rate. Thus, the code 120 is a leaf code on level eight of the code tree 100 and has a spreading factor of 128 and a transmission rate equal to 1/128 of the base transmission rate.
The code tree 100 may be used to allocate limited cellular network radio resources to various multimedia data signals. For example, a high speed video data download signal may require allocation of relatively high data rate codes in code tree 100. While lower data rate signals, such as voice communication signals, may be assigned to codes at higher levels of the code tree 100, which have lower data transmission rates and higher spreading factors.
As known to those skilled in the art, orthogonality between channelization codes is important for multiple access channel separation between simultaneous users of one frequency bandwidth. Any two different codes in the code tree 100 are orthogonal to each other if one of the codes is not a descendant of the other code. For example, code 120 is non-orthogonal to code 110. But code 110 is orthogonal to code 125.
Thus, the immediate ancestors and descendants of a particular code in the code tree 100 should not be used at the same time. Thus, code status indicators in the code tree 100 are provided to indicate the current status of a particular code as "used", "reserved free" or "available". For example, in fig. 1, a rectangle corresponding to a "used" code is illustrated with heavy shading and represents the code of the transmission channel currently assigned to the user. Rectangles corresponding to "reserved free" code that have a direct ancestor or descendant relationship to the used code are illustrated with gray shading. Finally, the rectangle corresponding to the "available" code is illustrated without shading. Thus, the "reserved free" code has not been assigned to the user, and should not be assigned to the user, because there is a risk of cross-channel radio interference with the current "used" code, which has a direct ancestor or descendant relationship with the "reserved free" code. Currently only "available" codes can be allocated to new transport channels for new users of a network cell.
Referring to fig. 2, fig. 2 illustrates three dimensions of decision vectors used to assign codes in
code tree 100 to particular transmission channels in accordance with some embodiments of the present invention. Dimension is specified as
Corresponding to capacity information
Structural information
And time information
. As described in detail below, such three-dimensional decision vectors may be used to efficiently allocate limited radio resources of a CDMA network cell. This results in improved operation of the network cell, since the transport channels for the cell can meet multiple quality of service (QoS) requirements, and fewer resources are required to reassign the transport channels to different OVSF channelization codes.
Referring to fig. 3, fig. 3 illustrates reassignment of transport channels in an OVSF channelization code tree in accordance with some embodiments of the present invention. Consider, for example, that code tree 300 is used by a particular CDMA network to allocate calls in a network cell. As shown, the code tree 300 is crowded and somewhat fragmented. Thus, for example, if a new incoming call needs to be allocated to code tree 300 and the new incoming call needs a transmission rate corresponding to a spreading factor of at least 16, then it will be determined that there are no available codes left in code tree 300 to which the incoming call can be allocated. This is because the fifth level of the code tree 300, which includes codes with a spreading factor of 16, shows that all codes with a spreading factor of 16 have a state of "used" or "reserved idle". This also means that all codes with spreading factors less than 16 must also have a state of "used" or "reserved idle". Thus, if a new incoming call is to be assigned to a code in code tree 300, some of the existing transport channels assigned to code tree 300, which are used for other calls, for example, must first be reassigned to other codes in code tree 300.
For example, with further reference to the teachings of the present invention described in detail below, considering selection of code 305 in the fifth level of code tree 300 as the target channelization code, it is desirable to assign a new transport channel for a new incoming call to code 305. Thus, the state of code 305 needs to be changed to "available" in order to allow a new incoming call to be assigned to code 305. However, the current state of code 305 is shown as "reserved idle". This is because the four codes 310, 315, 320, 325 in the eighth level of the code tree 300 are descendants of the code 305 and have the status "used". Thus, codes 310, 315, 320, and 325 are not orthogonal to code 305 based on the rules of orthogonality described above. Thus, in order to change the state of code 305 to "available," the transport channels assigned to codes 310, 315, 320, and 325 must be reassigned to other "available" codes in code tree 300. For example, as shown by the arrows on the right side of FIG. 3, codes 310, 315, 320, and 325 may be reassigned to "available" codes 330, 335, 340, and 345, respectively. A method for selecting a target channelization code, such as code 305, and then reassigning transmission channels from used codes that are descendants of the target channelization code is described in detail below.
Referring to fig. 4, a general flow diagram illustrates a method 400 for selecting a target channelization code from a plurality of channelization codes that remain free in a code tree based on a weight index, a structure index, and a time index associated with the target channelization code, according to some embodiments of the invention. The target channelization code is the code to which the new transmission channel will be assigned. At step 410, a desired Spreading Factor (SF) is determined r ). As described above, the desired spreading factor may be based on including the desired transmissionRate (R) r ) A variety of factors. For example, in code tree 300, if the required transmission rate for a given transmission channel is only one sixteenth of the base transmission rate of the root channelization code 350, then the required spreading factor may be set to sixteen, corresponding to the fifth level of code tree 300. Thus, the target channelization code must be selected from a plurality of reserved vacant channelization codes having a spreading factor of 16 or less in the code tree 300.
At
step 420, the channelization code with the largest weight index (W) is identified from all available channelization codes with the current spreading factor
max ) A subset of codes of (1). The weight index (W) is equal to the number of available channelisation codes which are descendants of a given code and thus comprises capacity information relating to the
code tree 300
. For example,
code 305 in
code tree 300 has a weight index of four, because four available codes: the
code 310, 315, 320, and 325 are descendants of the reserved
free code 305. By selecting the code with the greatest weight index, i.e., the code with the greatest number of available descendant codes, helps to reduce the number of transmission channels that will need to be reassigned to other locations in the
code tree 300 and thereby improves the efficiency of the code reassignment process.
In step 425, a determination is made as to whether only one code selected from the codes in step 420 has the greatest weight index (W) max ). If not, at step 430, a subset of the codes identified at step 420 is identified, where the subset has a minimum structural indicator (S) min ). The structural indicator (S) may be determined, for example, according to the following equation:
Where there is a K +1 layer in the code tree 300, K indicating the spreading factor of the channelization code and m indicating the number of branches of the channelization code.
In step 435, it is determined whether only one code selected from the codes in step 430 has the minimum structural index (S) min ). If not, then at step 440, a subset of the codes identified at step 435 is identified, where the subset has a maximum time index (T) max ). The time indicator (T) may be determined, for example, according to the following equation:
Where i is a user index, T iâˆˆj av An average communication interval of users i (i =1, 2.. N) indicating class j service priority (j =1, 2.. N), k indicates a spreading factor of a channelization code, and m indicates a branch number of the channelization code.
According to some embodiments of the invention, the time index (T) is a statistical average communication interval associated with a service using a transmission channel. The class j service priority may be associated with a particular type of service that uses the transport channel and requires a particular quality of service (QoS). For example, the various types of services may include best effort services, less than this services, real time services, voice services, streaming video services, and internet data download services. Thus, the time index (T) may be based on actual operating statistics of the particular network, e.g. indicating that the length of a voice call will typically last three times the length of an internet data download, or that the communication interval of best effort service is typically half the communication interval of streaming video service. Such a time index (T) may be very useful in selecting a preferred channelization code for a communication channel according to embodiments of the present invention.
It is determined at step 445 whether only one code selected from the codes at step 440 has the most significant codeLarge time index (T) max ). If not, the method 400 continues at step 450 by dividing the current spreading factor by two at step 450. This moves the search for the target channelisation code according to the method 400 down to the next level in the code tree 300 (i.e. closer to the root channelisation code 350). At step 455, it is determined whether the current spreading factor is equal to two. If false, the method 400 returns to step 420. If it is determined at step 455 that the current spreading factor is equal to two, then a search of the second level of the code tree 300 is conducted without continuing with other searches. Thus, at step 455, a target channelization code is randomly selected from the reserved idle channelization codes in the code tree 300 in a level having a spreading factor equal to the desired spreading factor. The method 400 then ends at step 465.
However, if it is determined in step 425 that there is only one index (W) having the greatest weight max ) Or that there is only one code with the smallest structural indicator (S) determined in step 435 min ) Or that there is only one code having the largest time index (T) determined in step 445 max ) Then, in step 470, respectively, has the largest weight index (W) max ) Or minimum structural index (S) min ) Or maximum time index (T) max ) Is selected as the target channelization code.
The transmission channels assigned to the used codes that are descendants of the selected target channelization code are then reassigned to other codes in code tree 300, as described above. For example, if code 305 is selected as the target channelization code in code tree 300, then the transmission channels assigned to used codes 310, 315, 320 and 325 need to be reassigned to the available codes in code tree 300.
Referring to fig. 5, a general flow diagram illustrates a method 500 for reallocating transmission channels in a channelisation code tree, according to some embodiments of the present invention. In step 505, a target channelization code is selected from a plurality of reserved free channelization codes in a code tree based on a weight index (W), a structure index (S) and a time index (T) associated with the target channelization code. For example, the method 400 described above is used to select a target channelization code. Next, at step 510, used channelization codes are identified as descendants of the target channelization code in a code tree. For example, in code tree 300, used code 310 may be identified as a descendant of code 305, with code 305 being selected as the target channelization code according to method 400.
In step 515, a preferred channelization code is selected from a plurality of available channelization codes in a code tree based on the weight index (W), the structure index (S) and the time index (T). A variety of techniques may be used to select the preferred channelization code. For example, a preferred Channelization Code may be selected using the Method described in [ CE15754CM ] U.S. patent application Ser. No. XXXXXXXX, filing date XX month XX, 2006, entitled "Method and System for Selecting a Channelization Code for a Transmission Channel" (i.e., the pending [ IIE 630] patent application, which applicants have filed on the same day as this application to the Chinese patent office, entitled "Method and System for Selecting a Channelization Code for a Transmission Channel"), which application is hereby incorporated by reference in its entirety.
In step 520, the transport channels that have been assigned to the used channelization code are reassigned to the preferred channelization code. For example, the transport channels that have been assigned to the used code 310 are reassigned to the available codes 330 that are selected as the preferred channelization codes.
At step 525, a determination is made as to whether all available codes of the descendants of the target channelization code have been reassigned to available codes in the code tree. If not, steps 510, 515, and 520 of method 500 are repeated. For example, a first transport channel is reassigned from a first used channelization code to a first preferred channelization code, and then a second transport channel is reassigned from a second used channelization code to a second preferred channelization code, and so on until the status of the target channelization code can be changed to available. Thus, in code tree 300, used codes 310, 315, 320, and 325 are reassigned to available codes 330, 335, 340, and 345, respectively, as indicated by the arrows on the right side of FIG. 3.
According to some embodiments of the present invention, the first used channelization code identified in step 510 of method 500 is associated with a maximum time index (T) that is maximum compared to time indices (T) associated with other used codes that are also descendants of the target channelization code. Similarly, the second channelization code identified in step 510 of method 500 is associated with a second largest time index (T) that is the second largest as compared to the time indices (T) associated with other used codes that are also descendants of the target channelization code. Thus, existing transmission channels assigned to codes that are descendants of the target channelization code are reassigned in the code tree in the order of the statistical average communication interval associated with the service using the transmission channels. By moving the code with the smallest time index (T) last, it is statistically more likely that the service using the transport channel associated with the code will have terminated. In this case, the code state can then be updated from "used" to "reserved free" without the need for a re-allocation of the transmission channel. Thus, the method 500 for reallocating transport channels may operate more efficiently and require less network resources.
After determining that the descendants of the target channelization code in the code tree have no additional used channelization codes in step 525, then in step 530, a new transmission channel is assigned to the target channelization code. Referring again to the above example, if a new incoming call in a CDMA network needs to be allocated to code tree 300 and the new incoming call requires a transmission rate corresponding to a spreading factor of at least 16, then code 305 may be selected as the target channelization code. After the transport channels associated with the used codes 310, 315, 320, and 325 are reassigned to the available codes elsewhere in the code tree 300, then a new incoming call may be assigned to the code 305.
After the transport channels are reallocated according to method 500, the corresponding code status indicators associated with the reallocated transport channels are updated. For example, after step 502, the status indicator of a used channelization code (such as code 310) is changed from "used" to "available" while the status indicator of a preferred channelization code (such as code 330) is changed from "available" to "used". The status indicator of the target channelization code is changed from "reserved free" to "available" after all transmission channels assigned to the descendant code of the target channelization code have been reassigned. Finally, after the new transmission channel is assigned to the target channelization code in step 530, the status of the target channelization code is changed from "available" to "used", and the status indicators of all descendant codes of the target channelization code are changed to "remain idle". Similarly, the weight index (W) of each code associated with the reallocated transport channels is also updated in steps 520 and 530.
Referring to fig. 6, a block diagram illustrates components of an electronic communication device 600 operating in a CDMA network cell in accordance with some embodiments of the present invention. The electronic communication device 600 may be, for example, a Radio Network Controller (RNC), a base station, a mobile phone, a network computer, a two-way radio, a Personal Digital Assistant (PDA), or other wireless communication device. Those skilled in the art will recognize that the present invention may be implemented in a system of electronic communication devices 600. The system of the electronic communication device 600 may include a processor 605, such as a standard microprocessor or an Application Specific Integrated Circuit (ASIC), operatively coupled with a memory 610. Memory 610 includes a computer-readable medium, such as random access memory (e.g., static Random Access Memory (SRAM)), read-only memory (e.g., programmable read-only memory (PROM) or erasable programmable read-only memory (EPROM)), or hybrid memory (e.g., flash memory) as is known in the art. The medium then comprises a channelization code selection computer readable program code component 615, which when processed by the processor 605 is configured to cause the steps of the method 400 and the method 500 described above to be performed. After reassigning the channelization codes according to method 500, data is transmitted over the transmission channel using a transceiver 620 operatively coupled to processor 605.
Embodiments of the present invention enable efficient reallocation of transmission channels in a code tree to reduce fragmentation of the code tree and to make room for new transmission channels to be allocated to the code tree. Channelization codes are selected for reallocation based on a weight index, a structure index, and a time index, which enable complex evaluation of many different variables, such as average communication intervals associated with particular types of network services. This results in improved operation and capacity of the network cell, since the transport channels of the cell can meet a variety of quality of service (QoS) requirements, and when new transport channels are allocated to the network, less network resources are required to reallocate existing transport channels to different OVSF channelization codes.
It will be appreciated that embodiments of the invention described herein may be comprised of one or more conventional processors and unique stored program instructions that control the one or more processors to implement, in conjunction with certain non-processor circuits, some, most, or all of the functions for reallocating transmission channels in a channelisation code tree as described herein. Non-processor circuits may include, but are not limited to: a radio receiver, a radio transmitter, signal drivers, clock circuits, power source circuits, and user input devices. Also, these functions may be interpreted as steps of a method to reallocate transmission channels in a channelization code tree. Alternatively, some or all functions could be implemented by a state machine that has no stored program instructions, or in one or more Application Specific Integrated Circuits (ASICs), in which each function or some combinations of certain of the functions are implemented as custom logic. Of course, a combination of both solutions may also be used. Thus, methods and means for these functions have been described herein. It is further expected that one of ordinary skill, notwithstanding possibly significant effort and many design choices motivated by, for example, available time, current technology, and economic considerations, when guided by the concepts and principles disclosed herein will be readily capable of generating such software instructions and programs and ICs with minimal experimentation.
In the foregoing specification, specific embodiments of the present invention have been described. However, one of ordinary skill in the art appreciates that various modifications and changes can be made without departing from the scope of the present invention as set forth in the claims below. Accordingly, the specification and figures are to be regarded in an illustrative rather than a restrictive sense, and all such modifications are intended to be included within the scope of present invention. The benefits, advantages, solutions to problems, and any element(s) that may cause any benefit, advantage, or solution to occur or become more pronounced are not to be construed as a critical, required, or essential feature or element of any or all the claims. The invention is defined solely by the appended claims including any amendments made during the pendency of this application and all equivalents of those claims.