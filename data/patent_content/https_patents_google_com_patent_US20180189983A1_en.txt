US20180189983A1 - Selective dynamic color management for user interface components of a media player - Google Patents
Selective dynamic color management for user interface components of a media player Download PDFInfo
- Publication number
- US20180189983A1 US20180189983A1 US15/395,798 US201615395798A US2018189983A1 US 20180189983 A1 US20180189983 A1 US 20180189983A1 US 201615395798 A US201615395798 A US 201615395798A US 2018189983 A1 US2018189983 A1 US 2018189983A1
- Authority
- US
- United States
- Prior art keywords
- video
- user interface
- color
- frame
- colors
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Granted
Links
Images
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/40—Client devices specifically adapted for the reception of or interaction with content, e.g. set-top-box [STB]; Operations thereof
- H04N21/43—Processing of content or additional data, e.g. demultiplexing additional data from a digital video stream; Elementary client operations, e.g. monitoring of home network or synchronising decoder's clock; Client middleware
- H04N21/431—Generation of visual interfaces for content selection or interaction; Content or additional data rendering
-
- G06K9/00744—
-
- G06K9/4652—
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T11/00—2D [Two Dimensional] image generation
- G06T11/001—Texturing; Colouring; Generation of texture or colour
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06V—IMAGE OR VIDEO RECOGNITION OR UNDERSTANDING
- G06V20/00—Scenes; Scene-specific elements
- G06V20/40—Scenes; Scene-specific elements in video content
- G06V20/46—Extracting features or characteristics from the video content, e.g. video fingerprints, representative shots or key frames
-
- G—PHYSICS
- G09—EDUCATION; CRYPTOGRAPHY; DISPLAY; ADVERTISING; SEALS
- G09G—ARRANGEMENTS OR CIRCUITS FOR CONTROL OF INDICATING DEVICES USING STATIC MEANS TO PRESENT VARIABLE INFORMATION
- G09G5/00—Control arrangements or circuits for visual indicators common to cathode-ray tube indicators and other visual indicators
- G09G5/02—Control arrangements or circuits for visual indicators common to cathode-ray tube indicators and other visual indicators characterised by the way in which colour is displayed
-
- G—PHYSICS
- G11—INFORMATION STORAGE
- G11B—INFORMATION STORAGE BASED ON RELATIVE MOVEMENT BETWEEN RECORD CARRIER AND TRANSDUCER
- G11B27/00—Editing; Indexing; Addressing; Timing or synchronising; Monitoring; Measuring tape travel
- G11B27/10—Indexing; Addressing; Timing or synchronising; Measuring tape travel
- G11B27/19—Indexing; Addressing; Timing or synchronising; Measuring tape travel by using information detectable on the record carrier
- G11B27/28—Indexing; Addressing; Timing or synchronising; Measuring tape travel by using information detectable on the record carrier by using information signals recorded by the same method as the main recording
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N9/00—Details of colour television systems
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T2200/00—Indexing scheme for image data processing or generation, in general
- G06T2200/24—Indexing scheme for image data processing or generation, in general involving graphical user interfaces [GUIs]
-
- G—PHYSICS
- G09—EDUCATION; CRYPTOGRAPHY; DISPLAY; ADVERTISING; SEALS
- G09G—ARRANGEMENTS OR CIRCUITS FOR CONTROL OF INDICATING DEVICES USING STATIC MEANS TO PRESENT VARIABLE INFORMATION
- G09G2320/00—Control of display operating conditions
- G09G2320/06—Adjustment of display parameters
- G09G2320/0666—Adjustment of display parameters for control of colour parameters, e.g. colour temperature
Definitions
- the disclosed embodiments relate generally to computer-implemented methods for software application user interfaces, and more specifically, to determining the colors of user interface components within a media player user interface based on content of a media item (e.g., a video) displayed in the media player.
- a media item e.g., a video
- User interfaces of software applications are typically relatively static, possibly changing their layouts in response to window resizes, but without significant changes in response to the content that is currently being displayed. This is particularly problematic for media player applications, where the visual presentation of the media item—including any user interface components displayed in association with the media item itself—may significantly influence the user's viewing experience. For example, distractingly bright user interface components could detract from the viewing of the media item itself, as could user interface components with colors that “clash” aesthetically with the content of the media item. Adjusting or optimizing user interface components to avoid a negative viewing experience presents a technical challenge, because a media player may be used by thousands, millions, or more users to view thousands, millions, or more media items.
- a computer-implemented method for setting colors of one or more user interface components in a user interface area of a video player to be visually harmonious with a playing video comprises identifying a plurality of frames of the video. For each frame of the identified frames, a number of operations are performed. The operations include determining a portion selection of the frame based on a position of the user interface area, identifying a dominant color of the portion selection by partitioning colors of pixels of the frame into a plurality of color partitions, identifying a color partition having a greatest number of the pixels of the portion selection, and averaging the pixels of the identified color partition.
- the operations further include generating a plurality of color variants based on the dominant color by applying color parameters to color components of the dominant color, and generating, for each of the color variants and for each of a plurality of user interface component types, a user interface component color.
- the method identifies a playing state of the video, a current one of the identified frames before a current playing point in the video, and a next one of the identified frames after a the current playing point in the video.
- the method also identifies first user interface component colors based on the playing state and on the user interface component colors generated for the current identified frame, and second user interface component colors based on the playing state and on the user interface component colors generated for the next identified frame.
- the method sets one or more colors of the one or more user interface components of the video player based on the identified first user interface component colors and on the identified second user interface component colors.
- a computer-implemented method comprises determining a portion selection of a frame of a video, identifying a dominant color of the portion selection; generating a plurality of color variants based on the dominant color; identifying a playing state of the video; selecting one of the color variants based on the playing state; and setting one or more colors of one or more user interface components of a video user interface based on the selected color variant.
- a non-transitory computer-readable storage medium stores instructions executable by a processor.
- the instructions comprise instructions for determining a portion selection of a frame of a video; instructions for identifying a dominant color of the portion selection; instructions for generating a plurality of color variants based on the dominant color; instructions for identifying a playing state of the video; instructions for selecting one of the color variants based on the playing state; and instructions for setting one or more colors of one or more user interface components of a video user interface based on the selected color variant.
- FIG. 1 is a high-level block diagram of an environment for video hosting and viewing, according to one embodiment.
- FIG. 2A illustrates one sample user interface appropriate for displaying a video on a mobile device, according to one embodiment.
- FIG. 2B illustrates a sample video display area of a user interface appropriate for displaying a video on a mobile device, according to one embodiment.
- FIG. 3 is a high-level block diagram illustrating a detailed view of the user interface adaptation module of FIG. 1 , according to one embodiment.
- FIG. 4 is a data flow diagram illustrating the actions of the color palette determination module, according to an embodiment.
- FIGS. 5A-5C illustrate an example arrangements of user interface elements for displaying a video and a corresponding portion selection, according to various embodiments.
- FIG. 6 illustrates a sample video display area of a user interface appropriate for displaying a video and a corresponding portion selection, according to one embodiment.
- FIG. 7 illustrates generation of color palettes and user interface component color interpolation for a set of frames, according to an embodiment.
- the embodiments described herein address the technical problem of effectively adjusting the visual presentation of user interface components for displaying media items to improve the experience of thousands, millions, or more users viewing thousands, millions, or more media items.
- Automatic determination and management of user interface component colors addresses user experience problems caused by inappropriate user interface colors. Automatic determination and management of user interface component colors further addresses technical challenges, for example those caused by large numbers of media items being viewed by many users.
- FIG. 1 is a high-level block diagram of an environment for video hosting and viewing, according to one embodiment.
- FIG. 1 illustrates a video hosting system 100 and a client device 120 connected by a network 140 .
- the client device 120 represents an entity that can access videos contained within the video hosting system 100 .
- the Figures and accompanying description herein refer to videos displayed in a video player, but the features and advantages described may also apply to other media items (e.g., images, photos, documents, etc.) displayed in a media player.
- a user of the client device 120 can access a video from the video hosting system 100 by browsing a catalog of videos, conducting searches using keywords, reviewing play lists from other users or the system administrator (e.g., collections of videos forming channels), or viewing videos associated with particular user groups (e.g., communities). Additionally, in some embodiments, the video hosting system 100 is adapted to receive videos for storage in order to enable the sharing of the videos with other users.
- a user of the client device 120 uses the client device to communicate with the video hosting system 100 over the network 140 .
- the client device 120 is a personal computer executing a web browser 122 that allows the user to view web pages and videos provided by the video hosting system 100 .
- the web browser 122 includes a video player.
- the client device 120 may alternatively be a device such as a smart phone, a tablet, a television, a television “set-top box,” or the like.
- the video player may also be an application executing on the client device 120 , such as a mobile application or a desktop application.
- FIG. 1 illustrates only a single client device 120 , it should be understood that many client devices (e.g., millions) can communicate with the video hosting system 100 at any time.
- the single client device 120 is illustrated in order to simplify and clarify the present description.
- the network 140 represents the communication pathways between the client device 120 and the video hosting system 100 .
- the network 140 is the Internet, but may also be any network, including but not limited to a Local Area Network (LAN), a Metropolitan Area Network (MAN), a Wide Area Network (WAN), a mobile, wired or wireless network, a cloud computing network, a private network, or a virtual private network, and any combination thereof.
- all or some of links can be encrypted using conventional encryption technologies such as the secure sockets layer (SSL), Secure Hypertext Transfer Protocol (HTTP) and/or virtual private networks (VPNs).
- the entities can use custom and/or dedicated data communications technologies instead of, or in addition to, the ones described above.
- the video hosting system 100 represents any system that allows users to access video content via searching and/or browsing interfaces.
- the videos can be obtained from user uploads of videos, from searches or crawls of other websites or databases of videos, or the like, or any combination thereof.
- a video hosting system 100 can be configured to allow for user uploads of content; in another embodiment a video hosting system 100 can be configured to only obtain videos from other sources by crawling such sources or searching such sources in real time.
- website represents any computer system adapted to serve content using any internetworking protocols, and is not intended to be limited to content uploaded or downloaded via the Internet or the HTTP protocol.
- functions described in one embodiment as being performed on the server side can also be performed on the client side in other embodiments if appropriate.
- functionality attributed to a particular component can be performed by different or multiple components operating together.
- the video hosting system 100 comprises a front end server 104 , an ingest server 106 , a video search server 108 , a video access server 112 , a video user interface module 113 , a video data store 114 , and a user interface adaptation module 118 .
- Many conventional features, such as firewalls, load balancers, application servers, failover servers, site management tools and so forth are not shown so as not to obscure the features of the system.
- the front end server 104 handles all communication with the user via the network 140 .
- the front end server 104 receives requests from client devices 120 and communicates with the other servers of the video hosting system 100 in order to process the requests.
- the front end server 104 is further configured to monitor user interactions with the video hosting system 100 . For example, if a user clicks on a web page, views a video, makes a purchase, opens a document, fills a web-based form, the front end server 104 monitors these interactions.
- the front end server 104 may be further configured to transmit and present the requested video and related video links to the user on a webpage.
- the requested video is streamed by the front end server 104 to the user.
- One or more related video links appear on the webpage where the requested video is playing, such that the related video link can be selected by a user of a client device 120 in order to view the related videos.
- Any content received via the network 140 from a user for posting to the video hosting system 100 is passed on to the ingest server 106 for processing.
- the processing of the video file includes assigning an identification number to the newly received video file.
- Other steps of processing the video file may include formatting (e.g., transcoding), compressing, metadata tagging, content analysis, and/or other data processing methods.
- the user transmits a form along with the video file transmitted to the video hosting system 100 .
- the user may include in the form information that describes the video (e.g., title, description, and tag information).
- the form information may also include an indication of the media type, which for uploaded videos would always be the “video” type.
- the ingest server 106 stores the processed video file in a video data store 114 and stores the information included in the form as metadata of the video file.
- the video data store 114 is the storage system where the video files transmitted to the video hosting system 100 are stored.
- a video may be accompanied by icons or thumbnail views, associated metadata, such as title, author, tags, description, comments, and rating.
- the video search server 108 processes any search query received by the front end server 104 from a user.
- the search query transmitted by the user to the front end server 104 includes search criteria, such as keywords that may identify videos the user is interested in viewing.
- the search query might be the textual string “machu picchu”.
- the video search server 108 may use the search criteria, for example, to query the metadata of and/or entities associated with all video files stored in the video data store 114 or to query the entity data store 118 .
- the search results are the videos including entities that match the search query.
- the search results for the search query “machu picchu” include video items that are annotated with the entity “machu picchu” that match the search query.
- the search results from the query are transmitted to the front end server 104 , so that the search results can be presented to the user.
- the video access server 112 receives, from the front end server 104 , requests from users that wish to view (or play back) a specific video. From the user perspective, a user may submit a request for a video by browsing the different video categories of the video hosting system 100 or by clicking on a link to a video from a search results webpage.
- the request transmitted by the user can include the identification number of the video the user wishes to view (which can be included automatically once the user clicks on the link for the video).
- the video access server 112 uses the identification number to search and locate where the video is stored in the video data store 114 .
- the video access server 112 provides the video requested to the front end server 104 .
- the video hosting system 102 includes a video user interface module 113 that presents a video to a user as part of a user interface.
- the exact user interface provided by the video user interface module 113 may vary in different embodiments, and the same embodiment may make available different types of user interfaces.
- FIG. 2A illustrates one sample user interface 200 appropriate for displaying a video on a client device, according to one embodiment.
- the user interface 200 includes a video display area 205 A in which the frames of the video are displayed as the video is played and a component display area 207 , which includes various video navigation controls 210 for navigating between videos, starting and stopping playback of the current video, and the like; heading and body text 215 A and 215 B; background regions 220 ; and the like.
- FIG. 2A is merely one example of a user interface, and that many others, such as user interfaces suitable for mobile devices, mobile applications, desktop applications, and web browsers on traditional desktop or laptop computer screens, and other client devices, are equally possible.
- FIG. 2B illustrates a sample video display area of a user interface appropriate for displaying a video on a mobile device, according to one embodiment.
- the video display area 205 B includes a component display area 209 overlaid on the video display area that includes a background region 235 and text 237 that (for example) indicates a time position within the video.
- the background region 235 is partially transparent (e.g., 90% opacity) to allow viewing of the video.
- the video hosting system 102 additionally includes a user interface adaptation module 118 that modifies the appearance of a user interface for a video player in response to content of the currently-playing video and to a playing state of that video.
- the user interface adjustment module 118 determines a most representative color—herein referred to as the “dominant” color—from each of various frames or portions of frames of the video content and dynamically adjusts the colors of the various portions of the user interface based at least in part on the determined dominant color.
- the user interface adjustment module 118 is alternatively and/or additionally located on the client device 120 , e.g., as part of a custom video player application that interacts with the video hosting system 102 to obtain and play videos.
- the data processing operations of the video hosting system 102 inherently require a programmed computer system for their practical implementation.
- the content received and shared by the video hosting system 100 is generally referred to as videos, video files, or video items, as appropriate for the video-specific embodiments described herein, but it should be understood that the video hosting system 100 can receive and share content of any media type.
- This content may be referred to as media content items, media items, or items.
- the operations of the video hosting system 102 described herein can be applied to other types of media content items, not only to videos.
- Suitable type of content items include visual documents from which color can be extracted, such as static images (either native images such as GIF or JPEG files, or those convertible to images, such as PDF files, word processing files, or the like), multi-slide presentations, and so forth.
- static images either native images such as GIF or JPEG files, or those convertible to images, such as PDF files, word processing files, or the like
- multi-slide presentations and so forth.
- FIG. 3 is a high-level block diagram illustrating a detailed view of the user interface adaptation module 118 , according to one embodiment.
- the user interface adaptation module 118 includes several modules. Those of skill in the art will recognize that other embodiments can have different modules than the ones described here, and that the functionalities can be distributed among the modules in a different manner. In addition, the functions ascribed to the user interface adaptation module 118 can be performed by multiple modules.
- the user interface adaptation module 118 includes a color palette determination module 305 and a component appearance module 310 .
- the color palette determination module 305 generates a palette of colors that are visually harmonious (e.g., matching, complementary, analogous, etc.) the colors present in a given image, such as a frame of video. More specifically, the color palette determination module 305 determines a dominant color of the given image (e.g., frame of video) and generates a palette (set) of colors based on that dominant color, as described in greater detail below in conjunction with FIG. 4 .
- the palette of colors includes one or more constituent sub-palettes that indicate the colors to apply to different types of components of a user interface.
- FIG. 4 is a data flow diagram illustrating the actions of the color palette determination module 305 , according to an embodiment. Specifically, FIG. 4 illustrates an embodiment in which three variants of the dominant color are generated, and one or more sub-palettes are in turn generated for each of these variants, each sub-palette indicating colors to apply to the various types of components of the user interface.
- the color palette determination module 305 receives a video frame 405 (or other image) from the video access server 112 , and determines 406 a portion selection 407 as described below with respect to the color palette determination module 305 .
- the portion selection 407 is a selected portion of the video frame 405 that is analyzed to determine a dominant color. In some embodiments, the portion selection 407 is a portion of the video frame 405 that is adjacent to one or more UI components.
- FIGS. 5A-5C and FIG. 6 illustrate example portion selection areas according to various embodiments.
- FIG. 5A illustrates a simplified example arrangement 500 of user interface regions for displaying a video and a corresponding portion selection, according to one embodiment.
- the example user interface of FIG. 5A includes a video display area 505 A and a component display area 507 A, which includes one or more UI components.
- the portion selection 407 A is a portion of the video frame displayed in the video display area 505 A in a position that is adjacent to (e.g., sharing a border or nearby) the component display area 507 A.
- FIG. 5B illustrates an example arrangement 510 of user interface elements for displaying a video and a corresponding portion selection, according to another embodiment.
- FIG. 5B includes a video display area 505 B and a component display area 507 B.
- the portion selection 407 B is a portion of the video frame displayed in the video display area 505 B adjacent to the component display area 507 B.
- FIG. 5C illustrates an example arrangement 520 of user interface elements for displaying a video and a corresponding portion selection, according to still another embodiment.
- FIG. 5C includes a video display area 505 C and a component display area 507 C.
- the portion selection 407 C is a portion of the video frame displayed in the video display area 505 C adjacent to the component display area 507 C.
- the arrangements of FIGS. 5A-5C are example embodiments.
- the user interface elements may be arranged in different configurations in various embodiments. For example, the user interface elements need not be directly adjacent to the component display area (e.g., there may be a gap between the portion selection and the component display area, the video area and the component display area, and the like).
- FIG. 6 illustrates a sample video display area 605 of a user interface appropriate for displaying a video and a corresponding portion selection, according to one embodiment.
- FIG. 6 illustrates an example video display area 605 and a component display area 609 , which is overlaid on the video display area similar to component display area 209 of FIG. 2B .
- the portion selection 407 D is a portion of the video frame that is adjacent to the component display area 209 .
- a video frame 405 may have multiple portion selections 407 , each corresponding to one or more UI components.
- a user interface may include a combination of the component display areas illustrated in FIGS. 5A-5C and 6 , and may include a combination of corresponding portion selections 407 .
- an example user interface may include multiple distinct UI portions, with each UI portion being nearby a different region of the video display area. Accordingly, the different UI portions may have different colors based on the different regions of the video display area.
- the color palette determination module 305 may determine the portion selection in a variety of ways.
- the dimensions of the portion selection are dependent on the dimensions of the video display area, e.g., being fixed or of a specified proportion of the height and width of the video display area.
- the dimensions of the portion selection 407 A may be 30% of the height and 100% of the width of the video display area 505 A (e.g., a horizontal “slice”).
- the dimensions of the portion selection 407 D may be 25% of the height and 25% of the width of the video display area 605 (e.g., a rectangle in the bottom-right corner of the video display area).
- the dimensions of the portion selection are dependent on the dimensions of the component display area.
- the portion selection may be a fixed or specified proportion of the height and width of the component display area.
- the dimensions of the portion selection may be 200% of the height and 100% of the width of the component display area.
- the dimensions of the portion selection are determined based on the content of the video frame, with the UI adaptation module 118 identifying a semantic boundary of the pixels of the video frame content that represents a visual dividing line between separate meaningful objects, regions, or concepts, such as by applying object recognition methods or other methods based on local descriptor matching. For example, if there is a natural divide of the video frame, such as the horizon in a picture of the ocean, the portion selection may be the portion of the video frame below the horizon. As another example, if the video frame includes a border, the portion selection may be the portion of the video frame occupied by the border.
- the color palette determination module 305 partitions 410 the pixels of the portion selection 407 . Partitioning the pixels involves dividing the color space into a set of partitions 411 , assigning the various pixels (e.g., each pixel) of the portion selection to one of the partitions. For example, assuming 24-bit colors (e.g., 8 bits for each of the hue, saturation, and value—or red, green, and blue—components), each of the 2 24 possible colors is mapped to one of N (e.g., 1000) distinct partitions 411 . The number of pixels in each partition is then counted, and the dominant color 416 is chosen from some number of the partitions with the most pixels.
- N e.g. 1000
- the dominant color 416 is based on the single partition with the most pixels, and is chosen by averaging 415 the colors within that partition (e.g., computing the average of the ⁇ R, G, B> or ⁇ H, S, V> components of the pixels within the partition).
- the color palette determination module 305 determines multiple dominant colors, e.g., one for each of the N partitions with the most pixels by averaging the colors within each partition. With the dominant color 416 for the portion selection 407 chosen, the color palette determination module 305 generates 420 color variants 421 of the dominant color that may be useful in certain contexts, as determined by factors such as the type of screen (e.g., screen resolution, mobile device screen vs.
- a main color 421 A a dark color 421 B, and a light color 421 C.
- the color palette determination module 305 generates 420 the color variants 421 of the dominant color by selecting, for each color variant, a color that is most similar to the dominant color from a set of possible color variants. For example, in the embodiment illustrated in FIG. 4 , the main color 421 A, dark color 421 B, and light color 421 C each have some associated set of ranges of the hue (H) component, each range having a corresponding set of pairs of saturation (S) and brightness (B) parameter values.
- the hue component of the dominant color is used to select one of the hue ranges corresponding to the color variant, the saturation component value is adjusted to the closest saturation parameter value for the selected range, and the brightness component value is likewise adjusted to the closest brightness parameter value for the selected range.
- the hue component value is adjusted to adjust the saturation and brightness component values when generating a color variant.
- the main color 421 A has a hue range from 31°-80°, which in turn has saturation parameter values 15 and 85 and brightness parameter values 50 and 60.
- the hue component 56° selects the hue range 31°-80° (since 56° is in the range from 31°-80°), the saturation component is adjusted to 85 (since the saturation component value 100 is closer to the saturation parameter 85 than to saturation parameter 15), and the brightness component is adjusted to 60 (since the brightness component value 100 is closer to the brightness parameter 60 than to the brightness parameter 50).
- the application of the parameters corresponding to the main color 421 A lead to generating the main color ⁇ 56°, 85, 60> from the dominant color ⁇ 56°, 100, 100>.
- the dark color 421 B and the light color 421 C are calculated in similar ways using their own corresponding parameter values.
- the color palette determination module 305 additionally generates 425 a set of UI component colors corresponding to different types of components in the video user interface created by the video UI module 113 .
- there are nine UI components colors generated for each of the color variants 421 one for each of a “navigation bar” UI component, a “section 1” UI component, a “section 2” UI component, an “active navicon” UI component, an “idle navicon” UI component, an “icon & title text” UI component, a “body text” UI component, a “time display” UI component, and a “time background” UI component.
- the “navigation bar” UI component corresponds to the background 220 A; the “section 1” UI component corresponds to the background 220 B; the “section 2” UI component corresponds to the background 220 C; the “active navicon” UI component corresponds to component 210 D (assuming that it is the component reflecting the current status of the video, such as “Playing”); the “idle navicon” UI component corresponds to the components 210 A- 210 C (assuming that they do not reflect the current status of the video); the “icon & title text” UI component corresponds to text 215 A; the “body text” UI component corresponds to the text 215 B; the “time display” UI component corresponds to text 237 ; and the “time background” UI component corresponds to the background region 235 .
- the color palette determination module 305 generates 425 the user interface component colors 426 for a given color variant 421 by selecting, for each type of user interface component, a color that is most similar to the color variant from a set of possible user interface component colors for that user interface component type.
- each user interface component 430 e.g., the navigation bar component
- S saturation
- B brightness
- the saturation component of the color variant is used to select one of the saturation ranges corresponding to the color variant, and the brightness component value is adjusted to the closest brightness parameter value for the selected saturation range.
- This has the effect of using the saturation component value to adjust the brightness component value when generating a user interface type color.
- the navigation bar user interface component type has a saturation range from 15-85, which in turn has corresponding brightness parameter values 45, 50, and 55.
- the saturation component 85 selects the saturation range 15-85 (since the saturation component 85 is in the range from 15-85), and the brightness component is adjusted to 55 (since the brightness component value 55 is closer to the brightness parameter 60 than to the other brightness parameters 45 or 50).
- the application of the parameters corresponding to the navigation bar user interface component type lead to generating the component color ⁇ 56°, 85, 55> from the main color variant ⁇ 56°, 85, 60>.
- the other user interface component types 430 have their colors calculated in similar ways using their own corresponding parameter values.
- the user interface adaptation module 118 includes a component appearance module 310 that uses the color palette determination module 305 to generate a color palette for particular image (e.g., portion selection) and sets the user interface components of the video user interface module 113 to the colors of the generated palette.
- the component appearance module 310 sets the color of the background 220 A to the color for the navigation bar user interface component, the color of text 215 B to the color for body text user interface component, and so forth.
- the component appearance module 310 repeatedly uses the color palette determination module 305 on different portion selections of the video in order to continuously adjust the colors of user interface components as the video plays.
- the component appearance module 310 uses the color palette determination module 305 at fixed intervals (e.g., every N frames, or the frames for every t seconds), at each frame choosing a color corresponding to that frame and setting the user interface component colors accordingly. This allows the user interface appearance to vary over time along with the content being displayed in the video frames.
- the component appearance module 310 blends dominant colors over time, such as by linear interpolation. That is, by a time t the component appearance module 310 has calculated not only the colors for the frames corresponding to t, but also the colors for the frames corresponding to the next interval (at time t+k). At each of some smaller intervals (e.g., every screen refresh), the component appearance module 310 determines where the corresponding frame lies compared to the “current” frame (the frame corresponding to time t) and the frame at the next interval (the frame corresponding to time t+k).
- a corresponding interpolated color c r ((t r ⁇ t i )/k*c i )+((t i+1 ⁇ t r )/k*c i ).
- the product of a scalar and a color is the array of components of the color scaled by the scalar.
- N some integer N
- the component appearance module 310 sets the colors of the user interface components based on the colors generated from portion selections using the color palette determination module 305 and also on a playing state of the video. For example, if the video is playing, it may be aesthetically pleasing to a user to de-emphasize the user interface components so as not to visually compete with the playing video. Conversely, if the video is paused or otherwise not playing, the user interface components can be more emphasized. In some embodiments, other factors—such as the degree of ambient light as determined by light sensor hardware of the client device 120 , or the properties of the screen of the client device (e.g., size, degree of screen reflectivity)—may also influence the choice of colors to use.
- factors such as the degree of ambient light as determined by light sensor hardware of the client device 120 , or the properties of the screen of the client device (e.g., size, degree of screen reflectivity)—may also influence the choice of colors to use.
- the playing state of the video determines which color variant is used, with the dark color 421 B being used when the video is not playing, and the main color 421 A being used when it is not.
- the background 220 A is set to the color generated for the navigation bar user interface component within the sub-palette generated for the dark color 421 B; if the user pauses the video, then the background 220 A may be set to the color generated for the navigation bar user interface component within the sub-palette generated for the main color 421 A.
- process steps and instructions are embodied in software, firmware or hardware, and when embodied in software, can be downloaded to reside on and be operated from different platforms used by a variety of operating systems.
Abstract
Description
- The disclosed embodiments relate generally to computer-implemented methods for software application user interfaces, and more specifically, to determining the colors of user interface components within a media player user interface based on content of a media item (e.g., a video) displayed in the media player.
- User interfaces of software applications are typically relatively static, possibly changing their layouts in response to window resizes, but without significant changes in response to the content that is currently being displayed. This is particularly problematic for media player applications, where the visual presentation of the media item—including any user interface components displayed in association with the media item itself—may significantly influence the user's viewing experience. For example, distractingly bright user interface components could detract from the viewing of the media item itself, as could user interface components with colors that “clash” aesthetically with the content of the media item. Adjusting or optimizing user interface components to avoid a negative viewing experience presents a technical challenge, because a media player may be used by thousands, millions, or more users to view thousands, millions, or more media items.
- In one embodiment, a computer-implemented method for setting colors of one or more user interface components in a user interface area of a video player to be visually harmonious with a playing video comprises identifying a plurality of frames of the video. For each frame of the identified frames, a number of operations are performed. The operations include determining a portion selection of the frame based on a position of the user interface area, identifying a dominant color of the portion selection by partitioning colors of pixels of the frame into a plurality of color partitions, identifying a color partition having a greatest number of the pixels of the portion selection, and averaging the pixels of the identified color partition. The operations further include generating a plurality of color variants based on the dominant color by applying color parameters to color components of the dominant color, and generating, for each of the color variants and for each of a plurality of user interface component types, a user interface component color. The method identifies a playing state of the video, a current one of the identified frames before a current playing point in the video, and a next one of the identified frames after a the current playing point in the video. The method also identifies first user interface component colors based on the playing state and on the user interface component colors generated for the current identified frame, and second user interface component colors based on the playing state and on the user interface component colors generated for the next identified frame. The method sets one or more colors of the one or more user interface components of the video player based on the identified first user interface component colors and on the identified second user interface component colors.
- In one embodiment, a computer-implemented method comprises determining a portion selection of a frame of a video, identifying a dominant color of the portion selection; generating a plurality of color variants based on the dominant color; identifying a playing state of the video; selecting one of the color variants based on the playing state; and setting one or more colors of one or more user interface components of a video user interface based on the selected color variant.
- In one embodiment, a non-transitory computer-readable storage medium stores instructions executable by a processor. The instructions comprise instructions for determining a portion selection of a frame of a video; instructions for identifying a dominant color of the portion selection; instructions for generating a plurality of color variants based on the dominant color; instructions for identifying a playing state of the video; instructions for selecting one of the color variants based on the playing state; and instructions for setting one or more colors of one or more user interface components of a video user interface based on the selected color variant.
- The features and advantages described in this summary and the following detailed description are not all-inclusive. Many additional features and advantages will be apparent to one of ordinary skill in the art in view of the drawings, specification, and claims hereof.
-
FIG. 1 is a high-level block diagram of an environment for video hosting and viewing, according to one embodiment. -
FIG. 2A illustrates one sample user interface appropriate for displaying a video on a mobile device, according to one embodiment. -
FIG. 2B illustrates a sample video display area of a user interface appropriate for displaying a video on a mobile device, according to one embodiment. -
FIG. 3 is a high-level block diagram illustrating a detailed view of the user interface adaptation module ofFIG. 1 , according to one embodiment. -
FIG. 4 is a data flow diagram illustrating the actions of the color palette determination module, according to an embodiment. -
FIGS. 5A-5C illustrate an example arrangements of user interface elements for displaying a video and a corresponding portion selection, according to various embodiments. -
FIG. 6 illustrates a sample video display area of a user interface appropriate for displaying a video and a corresponding portion selection, according to one embodiment. -
FIG. 7 illustrates generation of color palettes and user interface component color interpolation for a set of frames, according to an embodiment. - The figures depict various embodiments of the present invention for purposes of illustration only. One skilled in the art will readily recognize from the following discussion that alternative embodiments of the structures and methods illustrated herein may be employed without departing from the principles of the invention described herein.
- The embodiments described herein address the technical problem of effectively adjusting the visual presentation of user interface components for displaying media items to improve the experience of thousands, millions, or more users viewing thousands, millions, or more media items. Automatic determination and management of user interface component colors addresses user experience problems caused by inappropriate user interface colors. Automatic determination and management of user interface component colors further addresses technical challenges, for example those caused by large numbers of media items being viewed by many users.
-
FIG. 1 is a high-level block diagram of an environment for video hosting and viewing, according to one embodiment.FIG. 1 illustrates a video hosting system 100 and aclient device 120 connected by anetwork 140. Theclient device 120 represents an entity that can access videos contained within the video hosting system 100. The Figures and accompanying description herein refer to videos displayed in a video player, but the features and advantages described may also apply to other media items (e.g., images, photos, documents, etc.) displayed in a media player. A user of theclient device 120 can access a video from the video hosting system 100 by browsing a catalog of videos, conducting searches using keywords, reviewing play lists from other users or the system administrator (e.g., collections of videos forming channels), or viewing videos associated with particular user groups (e.g., communities). Additionally, in some embodiments, the video hosting system 100 is adapted to receive videos for storage in order to enable the sharing of the videos with other users. - In one embodiment, a user of the
client device 120 uses the client device to communicate with the video hosting system 100 over thenetwork 140. In one embodiment, theclient device 120 is a personal computer executing a web browser 122 that allows the user to view web pages and videos provided by the video hosting system 100. In one embodiment, the web browser 122 includes a video player. Theclient device 120 may alternatively be a device such as a smart phone, a tablet, a television, a television “set-top box,” or the like. The video player may also be an application executing on theclient device 120, such as a mobile application or a desktop application. AlthoughFIG. 1 illustrates only asingle client device 120, it should be understood that many client devices (e.g., millions) can communicate with the video hosting system 100 at any time. Thesingle client device 120 is illustrated in order to simplify and clarify the present description. - The
network 140 represents the communication pathways between theclient device 120 and the video hosting system 100. In one embodiment, thenetwork 140 is the Internet, but may also be any network, including but not limited to a Local Area Network (LAN), a Metropolitan Area Network (MAN), a Wide Area Network (WAN), a mobile, wired or wireless network, a cloud computing network, a private network, or a virtual private network, and any combination thereof. In addition, all or some of links can be encrypted using conventional encryption technologies such as the secure sockets layer (SSL), Secure Hypertext Transfer Protocol (HTTP) and/or virtual private networks (VPNs). In another embodiment, the entities can use custom and/or dedicated data communications technologies instead of, or in addition to, the ones described above. - The video hosting system 100 represents any system that allows users to access video content via searching and/or browsing interfaces. The videos can be obtained from user uploads of videos, from searches or crawls of other websites or databases of videos, or the like, or any combination thereof. For example, in one embodiment a video hosting system 100 can be configured to allow for user uploads of content; in another embodiment a video hosting system 100 can be configured to only obtain videos from other sources by crawling such sources or searching such sources in real time.
- It will be understood that the term “website” represents any computer system adapted to serve content using any internetworking protocols, and is not intended to be limited to content uploaded or downloaded via the Internet or the HTTP protocol. In general, functions described in one embodiment as being performed on the server side can also be performed on the client side in other embodiments if appropriate. In addition, the functionality attributed to a particular component can be performed by different or multiple components operating together.
- The video hosting system 100 comprises a
front end server 104, aningest server 106, avideo search server 108, avideo access server 112, a videouser interface module 113, avideo data store 114, and a userinterface adaptation module 118. Many conventional features, such as firewalls, load balancers, application servers, failover servers, site management tools and so forth are not shown so as not to obscure the features of the system. - The
front end server 104 handles all communication with the user via thenetwork 140. Thefront end server 104 receives requests fromclient devices 120 and communicates with the other servers of the video hosting system 100 in order to process the requests. Thefront end server 104 is further configured to monitor user interactions with the video hosting system 100. For example, if a user clicks on a web page, views a video, makes a purchase, opens a document, fills a web-based form, thefront end server 104 monitors these interactions. Thefront end server 104 may be further configured to transmit and present the requested video and related video links to the user on a webpage. The requested video is streamed by thefront end server 104 to the user. One or more related video links appear on the webpage where the requested video is playing, such that the related video link can be selected by a user of aclient device 120 in order to view the related videos. - Any content received via the
network 140 from a user for posting to the video hosting system 100 is passed on to the ingestserver 106 for processing. The processing of the video file includes assigning an identification number to the newly received video file. Other steps of processing the video file may include formatting (e.g., transcoding), compressing, metadata tagging, content analysis, and/or other data processing methods. The user transmits a form along with the video file transmitted to the video hosting system 100. The user may include in the form information that describes the video (e.g., title, description, and tag information). The form information may also include an indication of the media type, which for uploaded videos would always be the “video” type. The ingestserver 106 stores the processed video file in avideo data store 114 and stores the information included in the form as metadata of the video file. Thevideo data store 114 is the storage system where the video files transmitted to the video hosting system 100 are stored. A video may be accompanied by icons or thumbnail views, associated metadata, such as title, author, tags, description, comments, and rating. - The
video search server 108 processes any search query received by thefront end server 104 from a user. The search query transmitted by the user to thefront end server 104 includes search criteria, such as keywords that may identify videos the user is interested in viewing. For example, the search query might be the textual string “machu picchu”. Thevideo search server 108 may use the search criteria, for example, to query the metadata of and/or entities associated with all video files stored in thevideo data store 114 or to query theentity data store 118. The search results are the videos including entities that match the search query. For example, the search results for the search query “machu picchu” include video items that are annotated with the entity “machu picchu” that match the search query. The search results from the query are transmitted to thefront end server 104, so that the search results can be presented to the user. - The
video access server 112 receives, from thefront end server 104, requests from users that wish to view (or play back) a specific video. From the user perspective, a user may submit a request for a video by browsing the different video categories of the video hosting system 100 or by clicking on a link to a video from a search results webpage. The request transmitted by the user can include the identification number of the video the user wishes to view (which can be included automatically once the user clicks on the link for the video). Thevideo access server 112 uses the identification number to search and locate where the video is stored in thevideo data store 114. Thevideo access server 112 provides the video requested to thefront end server 104. - The
video hosting system 102 includes a videouser interface module 113 that presents a video to a user as part of a user interface. The exact user interface provided by the videouser interface module 113 may vary in different embodiments, and the same embodiment may make available different types of user interfaces. For example,FIG. 2A illustrates onesample user interface 200 appropriate for displaying a video on a client device, according to one embodiment. Theuser interface 200 includes avideo display area 205A in which the frames of the video are displayed as the video is played and acomponent display area 207, which includes various video navigation controls 210 for navigating between videos, starting and stopping playback of the current video, and the like; heading andbody text FIG. 2A is merely one example of a user interface, and that many others, such as user interfaces suitable for mobile devices, mobile applications, desktop applications, and web browsers on traditional desktop or laptop computer screens, and other client devices, are equally possible. -
FIG. 2B illustrates a sample video display area of a user interface appropriate for displaying a video on a mobile device, according to one embodiment. Thevideo display area 205B includes acomponent display area 209 overlaid on the video display area that includes abackground region 235 andtext 237 that (for example) indicates a time position within the video. In one embodiment, thebackground region 235 is partially transparent (e.g., 90% opacity) to allow viewing of the video. - In one embodiment, the
video hosting system 102 additionally includes a userinterface adaptation module 118 that modifies the appearance of a user interface for a video player in response to content of the currently-playing video and to a playing state of that video. For example, in one embodiment (described more below with respect toFIG. 3 ), the userinterface adjustment module 118 determines a most representative color—herein referred to as the “dominant” color—from each of various frames or portions of frames of the video content and dynamically adjusts the colors of the various portions of the user interface based at least in part on the determined dominant color. In other embodiments, the userinterface adjustment module 118 is alternatively and/or additionally located on theclient device 120, e.g., as part of a custom video player application that interacts with thevideo hosting system 102 to obtain and play videos. - It should be appreciated that the data processing operations of the
video hosting system 102, as described herein, inherently require a programmed computer system for their practical implementation. To simplify and clarify the present description, the content received and shared by the video hosting system 100 is generally referred to as videos, video files, or video items, as appropriate for the video-specific embodiments described herein, but it should be understood that the video hosting system 100 can receive and share content of any media type. This content may be referred to as media content items, media items, or items. Thus, the operations of thevideo hosting system 102 described herein can be applied to other types of media content items, not only to videos. For example, other suitable type of content items include visual documents from which color can be extracted, such as static images (either native images such as GIF or JPEG files, or those convertible to images, such as PDF files, word processing files, or the like), multi-slide presentations, and so forth. -
FIG. 3 is a high-level block diagram illustrating a detailed view of the userinterface adaptation module 118, according to one embodiment. As shown inFIG. 3 , the userinterface adaptation module 118 includes several modules. Those of skill in the art will recognize that other embodiments can have different modules than the ones described here, and that the functionalities can be distributed among the modules in a different manner. In addition, the functions ascribed to the userinterface adaptation module 118 can be performed by multiple modules. - As illustrated, the user
interface adaptation module 118 includes a colorpalette determination module 305 and acomponent appearance module 310. - The color
palette determination module 305 generates a palette of colors that are visually harmonious (e.g., matching, complementary, analogous, etc.) the colors present in a given image, such as a frame of video. More specifically, the colorpalette determination module 305 determines a dominant color of the given image (e.g., frame of video) and generates a palette (set) of colors based on that dominant color, as described in greater detail below in conjunction withFIG. 4 . The palette of colors includes one or more constituent sub-palettes that indicate the colors to apply to different types of components of a user interface. -
FIG. 4 is a data flow diagram illustrating the actions of the colorpalette determination module 305, according to an embodiment. Specifically,FIG. 4 illustrates an embodiment in which three variants of the dominant color are generated, and one or more sub-palettes are in turn generated for each of these variants, each sub-palette indicating colors to apply to the various types of components of the user interface. - The color
palette determination module 305 receives a video frame 405 (or other image) from thevideo access server 112, and determines 406 aportion selection 407 as described below with respect to the colorpalette determination module 305. Theportion selection 407 is a selected portion of thevideo frame 405 that is analyzed to determine a dominant color. In some embodiments, theportion selection 407 is a portion of thevideo frame 405 that is adjacent to one or more UI components.FIGS. 5A-5C andFIG. 6 illustrate example portion selection areas according to various embodiments. -
FIG. 5A illustrates asimplified example arrangement 500 of user interface regions for displaying a video and a corresponding portion selection, according to one embodiment. The example user interface ofFIG. 5A includes avideo display area 505A and acomponent display area 507A, which includes one or more UI components. Theportion selection 407A is a portion of the video frame displayed in thevideo display area 505A in a position that is adjacent to (e.g., sharing a border or nearby) thecomponent display area 507A.FIG. 5B illustrates anexample arrangement 510 of user interface elements for displaying a video and a corresponding portion selection, according to another embodiment.FIG. 5B includes avideo display area 505B and acomponent display area 507B. Theportion selection 407B is a portion of the video frame displayed in thevideo display area 505B adjacent to thecomponent display area 507B.FIG. 5C illustrates anexample arrangement 520 of user interface elements for displaying a video and a corresponding portion selection, according to still another embodiment.FIG. 5C includes avideo display area 505C and acomponent display area 507C. Theportion selection 407C is a portion of the video frame displayed in thevideo display area 505C adjacent to thecomponent display area 507C. The arrangements ofFIGS. 5A-5C are example embodiments. The user interface elements may be arranged in different configurations in various embodiments. For example, the user interface elements need not be directly adjacent to the component display area (e.g., there may be a gap between the portion selection and the component display area, the video area and the component display area, and the like). -
FIG. 6 illustrates a samplevideo display area 605 of a user interface appropriate for displaying a video and a corresponding portion selection, according to one embodiment.FIG. 6 illustrates an examplevideo display area 605 and acomponent display area 609, which is overlaid on the video display area similar tocomponent display area 209 ofFIG. 2B . Theportion selection 407D is a portion of the video frame that is adjacent to thecomponent display area 209. In various embodiments, avideo frame 405 may havemultiple portion selections 407, each corresponding to one or more UI components. A user interface may include a combination of the component display areas illustrated inFIGS. 5A-5C and 6 , and may include a combination of correspondingportion selections 407. For example, an example user interface may include multiple distinct UI portions, with each UI portion being nearby a different region of the video display area. Accordingly, the different UI portions may have different colors based on the different regions of the video display area. - The color
palette determination module 305 may determine the portion selection in a variety of ways. In one embodiment, the dimensions of the portion selection are dependent on the dimensions of the video display area, e.g., being fixed or of a specified proportion of the height and width of the video display area. For example, inFIG. 5A , the dimensions of theportion selection 407A may be 30% of the height and 100% of the width of thevideo display area 505A (e.g., a horizontal “slice”). InFIG. 6 , the dimensions of theportion selection 407D may be 25% of the height and 25% of the width of the video display area 605 (e.g., a rectangle in the bottom-right corner of the video display area). In another embodiment, the dimensions of the portion selection are dependent on the dimensions of the component display area. For example, the portion selection may be a fixed or specified proportion of the height and width of the component display area. For example, the dimensions of the portion selection may be 200% of the height and 100% of the width of the component display area. In still another embodiment, the dimensions of the portion selection are determined based on the content of the video frame, with theUI adaptation module 118 identifying a semantic boundary of the pixels of the video frame content that represents a visual dividing line between separate meaningful objects, regions, or concepts, such as by applying object recognition methods or other methods based on local descriptor matching. For example, if there is a natural divide of the video frame, such as the horizon in a picture of the ocean, the portion selection may be the portion of the video frame below the horizon. As another example, if the video frame includes a border, the portion selection may be the portion of the video frame occupied by the border. - Once the portion selection is determined, the color
palette determination module 305partitions 410 the pixels of theportion selection 407. Partitioning the pixels involves dividing the color space into a set ofpartitions 411, assigning the various pixels (e.g., each pixel) of the portion selection to one of the partitions. For example, assuming 24-bit colors (e.g., 8 bits for each of the hue, saturation, and value—or red, green, and blue—components), each of the 224 possible colors is mapped to one of N (e.g., 1000)distinct partitions 411. The number of pixels in each partition is then counted, and thedominant color 416 is chosen from some number of the partitions with the most pixels. In one embodiment, thedominant color 416 is based on the single partition with the most pixels, and is chosen by averaging 415 the colors within that partition (e.g., computing the average of the <R, G, B> or <H, S, V> components of the pixels within the partition). In some embodiments, the colorpalette determination module 305 determines multiple dominant colors, e.g., one for each of the N partitions with the most pixels by averaging the colors within each partition. With thedominant color 416 for theportion selection 407 chosen, the colorpalette determination module 305 generates 420 color variants 421 of the dominant color that may be useful in certain contexts, as determined by factors such as the type of screen (e.g., screen resolution, mobile device screen vs. desktop monitor, etc.) on which the video is being watch, the environmental conditions in which the video is being watched (e.g., lighting conditions, time of day, location, etc.), the play status of the video (whether the video is playing or paused, seeking, stopped, rewinding, fast forwarding, etc.), or the like. In the embodiment illustratedFIG. 4 , three variants are generated: amain color 421A, adark color 421B, and alight color 421C. - In one embodiment, the color
palette determination module 305 generates 420 the color variants 421 of the dominant color by selecting, for each color variant, a color that is most similar to the dominant color from a set of possible color variants. For example, in the embodiment illustrated inFIG. 4 , themain color 421A,dark color 421B, andlight color 421C each have some associated set of ranges of the hue (H) component, each range having a corresponding set of pairs of saturation (S) and brightness (B) parameter values. To generate a particular color variant (e.g., themain color 421A), the hue component of the dominant color is used to select one of the hue ranges corresponding to the color variant, the saturation component value is adjusted to the closest saturation parameter value for the selected range, and the brightness component value is likewise adjusted to the closest brightness parameter value for the selected range. This has the effect of using the hue component value to adjust the saturation and brightness component values when generating a color variant. As one particular example, themain color 421A has a hue range from 31°-80°, which in turn has saturation parameter values 15 and 85 and brightness parameter values 50 and 60. If the dominant color has HSB components <56°, 100, 100>, then the hue component 56° selects the hue range 31°-80° (since 56° is in the range from 31°-80°), the saturation component is adjusted to 85 (since the saturation component value 100 is closer to the saturation parameter 85 than to saturation parameter 15), and the brightness component is adjusted to 60 (since the brightness component value 100 is closer to the brightness parameter 60 than to the brightness parameter 50). Thus, in this example the application of the parameters corresponding to themain color 421A lead to generating the main color <56°, 85, 60> from the dominant color <56°, 100, 100>. Thedark color 421B and thelight color 421C are calculated in similar ways using their own corresponding parameter values. - With the color variants 421 generated, the color
palette determination module 305 additionally generates 425 a set of UI component colors corresponding to different types of components in the video user interface created by thevideo UI module 113. For example, in the embodiment illustrated inFIG. 4 , there are nine UI components colors generated for each of the color variants 421: one for each of a “navigation bar” UI component, a “section 1” UI component, a “section 2” UI component, an “active navicon” UI component, an “idle navicon” UI component, an “icon & title text” UI component, a “body text” UI component, a “time display” UI component, and a “time background” UI component. Referring again to the example user interface of the embodiments ofFIGS. 2A and 2B , the “navigation bar” UI component corresponds to thebackground 220A; the “section 1” UI component corresponds to thebackground 220B; the “section 2” UI component corresponds to thebackground 220C; the “active navicon” UI component corresponds tocomponent 210D (assuming that it is the component reflecting the current status of the video, such as “Playing”); the “idle navicon” UI component corresponds to thecomponents 210A-210C (assuming that they do not reflect the current status of the video); the “icon & title text” UI component corresponds to text 215A; the “body text” UI component corresponds to thetext 215B; the “time display” UI component corresponds to text 237; and the “time background” UI component corresponds to thebackground region 235. - In one embodiment, the color
palette determination module 305 generates 425 the userinterface component colors 426 for a given color variant 421 by selecting, for each type of user interface component, a color that is most similar to the color variant from a set of possible user interface component colors for that user interface component type. For example, in the embodiment illustrated inFIG. 4 , each user interface component 430 (e.g., the navigation bar component) has some set of ranges of the saturation (S) component, each range having a corresponding set of brightness (B) parameter values. To form a particular user interface component color (e.g., the color for the navigation bar), the saturation component of the color variant is used to select one of the saturation ranges corresponding to the color variant, and the brightness component value is adjusted to the closest brightness parameter value for the selected saturation range. This has the effect of using the saturation component value to adjust the brightness component value when generating a user interface type color. As one particular example, the navigation bar user interface component type has a saturation range from 15-85, which in turn has corresponding brightness parameter values 45, 50, and 55. Referring to the above example of the main color variant with HSB components <56°, 85, 60>, the saturation component 85 selects the saturation range 15-85 (since the saturation component 85 is in the range from 15-85), and the brightness component is adjusted to 55 (since the brightness component value 55 is closer to the brightness parameter 60 than to the other brightness parameters 45 or 50). Thus, in this example the application of the parameters corresponding to the navigation bar user interface component type lead to generating the component color <56°, 85, 55> from the main color variant <56°, 85, 60>. The other userinterface component types 430 have their colors calculated in similar ways using their own corresponding parameter values. - Returning again to
FIG. 3 , the userinterface adaptation module 118 includes acomponent appearance module 310 that uses the colorpalette determination module 305 to generate a color palette for particular image (e.g., portion selection) and sets the user interface components of the videouser interface module 113 to the colors of the generated palette. For example, referring to the example ofFIGS. 2 and 4 , thecomponent appearance module 310 sets the color of thebackground 220A to the color for the navigation bar user interface component, the color oftext 215B to the color for body text user interface component, and so forth. - In the case of a video (as opposed to a static image), the
component appearance module 310 repeatedly uses the colorpalette determination module 305 on different portion selections of the video in order to continuously adjust the colors of user interface components as the video plays. - For example, in one embodiment illustrated in
FIG. 7 , thecomponent appearance module 310 uses the colorpalette determination module 305 at fixed intervals (e.g., every N frames, or the frames for every t seconds), at each frame choosing a color corresponding to that frame and setting the user interface component colors accordingly. This allows the user interface appearance to vary over time along with the content being displayed in the video frames. - In one embodiment, in order to achieve smoother color transitions, the
component appearance module 310 blends dominant colors over time, such as by linear interpolation. That is, by a time t thecomponent appearance module 310 has calculated not only the colors for the frames corresponding to t, but also the colors for the frames corresponding to the next interval (at time t+k). At each of some smaller intervals (e.g., every screen refresh), thecomponent appearance module 310 determines where the corresponding frame lies compared to the “current” frame (the frame corresponding to time t) and the frame at the next interval (the frame corresponding to time t+k). That is, if one of the colors calculated for a time ti is ci, and a corresponding one of the colors for the next time (ti+k) is ci+1, and the time at which an interpolated color is calculated is tr, then a corresponding interpolated color cr is given by the equation cr=((tr−ti)/k*ci)+((ti+1−tr)/k*ci). (The product of a scalar and a color is the array of components of the color scaled by the scalar.) For example, as illustrated inFIG. 7 , if a particular screen refresh occurred at time tr=0.7k, the corresponding interpolated color cr would be cr=(0.7/k*ci)+(0.3/k*ci+1). - In one embodiment, when blending colors at the current frame (e.g., at every screen refresh), the
component appearance module 310 obtains the top N dominant colors from the colorpalette determination module 305, for some integer N (e.g., N=5) and selects, as the dominant color of the next interval (for the frame at time t+k), the one of those dominant colors that is most similar to the current dominant color (for the frame at time t). Thecomponent appearance module 310 then blends the current dominant color with this most similar dominant color. The blending with the most similar dominant color helps to prevent abrupt color changes, which may appear disconcerting to a user. - In one embodiment, when a video is first accessed by a user, the
component appearance module 310 makes the first determination of the dominant color (i.e., the determination for t=0) based on a cached thumbnail for the video, if available. This permits the determination of the first color to be made—and the user interface components to be colored accordingly—essentially immediately, rather than waiting for the period required to begin video streaming (e.g., several hundred milliseconds). In situations where it is not feasible to recalculate the dominant color over multiple intervals, the single dominant color extracted from the cached thumbnail can be used throughout the video, although this will not provide as optimal a matching of user interface component colors to the video content. - In one embodiment, the
component appearance module 310 sets the colors of the user interface components based on the colors generated from portion selections using the colorpalette determination module 305 and also on a playing state of the video. For example, if the video is playing, it may be aesthetically pleasing to a user to de-emphasize the user interface components so as not to visually compete with the playing video. Conversely, if the video is paused or otherwise not playing, the user interface components can be more emphasized. In some embodiments, other factors—such as the degree of ambient light as determined by light sensor hardware of theclient device 120, or the properties of the screen of the client device (e.g., size, degree of screen reflectivity)—may also influence the choice of colors to use. - For example, in one embodiment, the playing state of the video determines which color variant is used, with the
dark color 421B being used when the video is not playing, and themain color 421A being used when it is not. For example, when the video is playing, thebackground 220A is set to the color generated for the navigation bar user interface component within the sub-palette generated for thedark color 421B; if the user pauses the video, then thebackground 220A may be set to the color generated for the navigation bar user interface component within the sub-palette generated for themain color 421A. - Reference in the specification to “one embodiment” or to “an embodiment” means that a particular feature, structure, or characteristic described in connection with the embodiments is included in at least one embodiment. The appearances of the phrase “in one embodiment” in various places in the specification are not necessarily all referring to the same embodiment.
- It should be noted that the process steps and instructions are embodied in software, firmware or hardware, and when embodied in software, can be downloaded to reside on and be operated from different platforms used by a variety of operating systems.
- The operations herein may also be performed by an apparatus. Furthermore, the computers referred to in the specification may include a single processor or may be architectures employing multiple processor designs for increased computing capability. It will be appreciated that a variety of programming languages may be used to implement the teachings of the present invention as described herein, and any references below to specific languages are provided for disclosure of enablement and best mode of the present invention.
- While the invention has been particularly shown and described with reference to a preferred embodiment and several alternate embodiments, it will be understood by persons skilled in the relevant art that various changes in form and details can be made therein without departing from the spirit and scope of the invention.
- Finally, it should be noted that the language used in the specification has been principally selected for readability and instructional purposes, and may not have been selected to delineate or circumscribe the inventive subject matter. Accordingly, the disclosure of the present invention is intended to be illustrative, but not limiting, of the scope of the invention, which are set forth in the following claims.
Claims (20)
Priority Applications (4)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US15/395,798 US10134154B2 (en) | 2016-12-30 | 2016-12-30 | Selective dynamic color management for user interface components of a media player |
DE202017105866.2U DE202017105866U1 (en) | 2016-12-30 | 2017-09-26 | Optional dynamic color management for user interface components of a media player |
PCT/US2017/054014 WO2018125348A1 (en) | 2016-12-30 | 2017-09-28 | Selective dynamic color management for user interface components of a media player |
US16/194,989 US10853976B2 (en) | 2016-12-30 | 2018-11-19 | Selective dynamic color management for user interface components of a media player |
Applications Claiming Priority (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US15/395,798 US10134154B2 (en) | 2016-12-30 | 2016-12-30 | Selective dynamic color management for user interface components of a media player |
Related Child Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US16/194,989 Continuation US10853976B2 (en) | 2016-12-30 | 2018-11-19 | Selective dynamic color management for user interface components of a media player |
Publications (2)
Publication Number | Publication Date |
---|---|
US20180189983A1 true US20180189983A1 (en) | 2018-07-05 |
US10134154B2 US10134154B2 (en) | 2018-11-20 |
Family
ID=61302007
Family Applications (2)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US15/395,798 Active US10134154B2 (en) | 2016-12-30 | 2016-12-30 | Selective dynamic color management for user interface components of a media player |
US16/194,989 Active US10853976B2 (en) | 2016-12-30 | 2018-11-19 | Selective dynamic color management for user interface components of a media player |
Family Applications After (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US16/194,989 Active US10853976B2 (en) | 2016-12-30 | 2018-11-19 | Selective dynamic color management for user interface components of a media player |
Country Status (3)
Country | Link |
---|---|
US (2) | US10134154B2 (en) |
DE (1) | DE202017105866U1 (en) |
WO (1) | WO2018125348A1 (en) |
Cited By (4)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20180350323A1 (en) * | 2017-06-01 | 2018-12-06 | Qualcomm Incorporated | Adjusting color palettes used for displaying images on a display device based on ambient light levels |
CN109783178A (en) * | 2019-01-24 | 2019-05-21 | 北京字节跳动网络技术有限公司 | A kind of color adjustment method of interface assembly, device, equipment and medium |
US11354786B2 (en) * | 2017-10-10 | 2022-06-07 | Robert Bosch Gmbh | Method for masking an image of an image sequence with a mask, computer program, machine-readable storage medium and electronic control unit |
US11436965B2 (en) * | 2018-07-11 | 2022-09-06 | Samsung Electronics Co., Ltd. | Display device and control method of same |
Families Citing this family (1)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN114722227A (en) * | 2021-04-08 | 2022-07-08 | 褚亚亚 | Download management system based on big data |
Family Cites Families (19)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6711278B1 (en) * | 1998-09-10 | 2004-03-23 | Microsoft Corporation | Tracking semantic objects in vector image sequences |
US7417640B1 (en) | 1999-01-29 | 2008-08-26 | Lg Electronics Inc. | Method for dominant color setting of video region and data structure and method of confidence measure extraction |
JP3550681B2 (en) | 1999-12-10 | 2004-08-04 | 日本電気株式会社 | Image search apparatus and method, and storage medium storing similar image search program |
US20050180641A1 (en) | 2004-02-02 | 2005-08-18 | Clark Adam L. | System and method for transmitting live audio/video information |
KR100678101B1 (en) | 2006-03-28 | 2007-02-02 | 삼성전자주식회사 | Method for menu screen constructing display hue using picture color information of mobile terminal thereof |
US7646392B2 (en) * | 2006-05-03 | 2010-01-12 | Research In Motion Limited | Dynamic theme color palette generation |
US20080069475A1 (en) | 2006-09-18 | 2008-03-20 | Simon Ekstrand | Video Pattern Thumbnails and Method |
CN101529421A (en) | 2006-10-19 | 2009-09-09 | 皇家飞利浦电子股份有限公司 | Dominant color descriptors |
US8091038B1 (en) | 2006-11-29 | 2012-01-03 | Adobe Systems Incorporated | Adaptive graphical interface |
US8532374B2 (en) | 2007-12-05 | 2013-09-10 | Canon Kabushiki Kaisha | Colour document layout analysis with multi-level decomposition |
TR200709081A2 (en) | 2007-12-28 | 2009-07-21 | Vestel Elektron�K Sanay� Ve T�Caret A.�. | Dynamic color user for display systems. |
US8902248B1 (en) * | 2011-07-14 | 2014-12-02 | Vmware, Inc. | Method and system for measuring display performance of a remote application |
US8890886B2 (en) | 2011-09-02 | 2014-11-18 | Microsoft Corporation | User interface with color themes based on input image data |
US9462160B2 (en) | 2012-11-22 | 2016-10-04 | Nec Corporation | Color correction device, method, and program |
US9582905B2 (en) | 2013-12-16 | 2017-02-28 | Adobe Systems Incorporated | Adverbial expression based color image operations |
JP2015128206A (en) * | 2013-12-27 | 2015-07-09 | ソニー株式会社 | Editing apparatus, reproduction apparatus, editing method, reproducing method and program |
CN104918098A (en) | 2015-06-10 | 2015-09-16 | 福州瑞芯微电子有限公司 | Automatic color matching method, system and device in video playing interface |
CN104967923B (en) * | 2015-06-30 | 2019-02-01 | 北京奇艺世纪科技有限公司 | A kind of method and device that subtitle color is set |
CN106101810B (en) | 2016-08-15 | 2019-09-20 | 青岛海信电器股份有限公司 | Interface subject transform method, device and smart television for smart television |
-
2016
- 2016-12-30 US US15/395,798 patent/US10134154B2/en active Active
-
2017
- 2017-09-26 DE DE202017105866.2U patent/DE202017105866U1/en active Active
- 2017-09-28 WO PCT/US2017/054014 patent/WO2018125348A1/en active Application Filing
-
2018
- 2018-11-19 US US16/194,989 patent/US10853976B2/en active Active
Cited By (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20180350323A1 (en) * | 2017-06-01 | 2018-12-06 | Qualcomm Incorporated | Adjusting color palettes used for displaying images on a display device based on ambient light levels |
US10446114B2 (en) * | 2017-06-01 | 2019-10-15 | Qualcomm Incorporated | Adjusting color palettes used for displaying images on a display device based on ambient light levels |
US11354786B2 (en) * | 2017-10-10 | 2022-06-07 | Robert Bosch Gmbh | Method for masking an image of an image sequence with a mask, computer program, machine-readable storage medium and electronic control unit |
US11436965B2 (en) * | 2018-07-11 | 2022-09-06 | Samsung Electronics Co., Ltd. | Display device and control method of same |
CN109783178A (en) * | 2019-01-24 | 2019-05-21 | 北京字节跳动网络技术有限公司 | A kind of color adjustment method of interface assembly, device, equipment and medium |
Also Published As
Publication number | Publication date |
---|---|
US10134154B2 (en) | 2018-11-20 |
US20190087984A1 (en) | 2019-03-21 |
DE202017105866U1 (en) | 2018-02-12 |
WO2018125348A1 (en) | 2018-07-05 |
US10853976B2 (en) | 2020-12-01 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US10460479B2 (en) | Dynamic color determination for user interface components of a video player | |
US10853976B2 (en) | Selective dynamic color management for user interface components of a media player | |
US10275433B2 (en) | Remote browsing and searching | |
US10299010B2 (en) | Method of displaying advertising during a video pause | |
CN107852520B (en) | Managing uploaded content | |
US8548990B2 (en) | Presenting interactive images with search results | |
US20090044128A1 (en) | Adaptive publishing of content | |
US20130329060A1 (en) | Overlay image providing system, server and method | |
US9336321B1 (en) | Remote browsing and searching | |
US11321946B2 (en) | Content entity recognition within digital video data for dynamic content generation | |
US9207754B2 (en) | Enabling immersive, interactive desktop image presentation | |
US20130104025A1 (en) | Enabling immersive search engine home pages | |
US20160203108A1 (en) | Display scaling application | |
US20200220825A1 (en) | Dynamic open graph module for posting content one or more platforms | |
WO2016177147A1 (en) | Content information display method and device | |
US9489454B1 (en) | Automatic generation of playlists from digital content embedded on third-party services | |
EP2756453B1 (en) | System for enhancing content | |
EP3726381A1 (en) | Method and system for shared information browsing | |
KR20200059687A (en) | Method for processing commercial virtual object based on relative size of the object |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
AS | Assignment |
Owner name: GOOGLE INC., CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:LEE, EUNJOO;KRUGE, NICHOLAS MICHAEL;KIM, YONG HOON;SIGNING DATES FROM 20170413 TO 20170414;REEL/FRAME:042030/0666 |
|
AS | Assignment |
Owner name: GOOGLE LLC, CALIFORNIAFree format text: CHANGE OF NAME;ASSIGNOR:GOOGLE INC.;REEL/FRAME:044567/0001Effective date: 20170929 |
|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |
|
MAFP | Maintenance fee payment |
Free format text: PAYMENT OF MAINTENANCE FEE, 4TH YEAR, LARGE ENTITY (ORIGINAL EVENT CODE: M1551); ENTITY STATUS OF PATENT OWNER: LARGE ENTITYYear of fee payment: 4 |