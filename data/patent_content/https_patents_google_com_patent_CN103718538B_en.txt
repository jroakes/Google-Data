CN103718538B - The non-linear post-processing method of audio signal and the system of acoustic echo elimination can be realized - Google Patents
The non-linear post-processing method of audio signal and the system of acoustic echo elimination can be realized Download PDFInfo
- Publication number
- CN103718538B CN103718538B CN201180072348.6A CN201180072348A CN103718538B CN 103718538 B CN103718538 B CN 103718538B CN 201180072348 A CN201180072348 A CN 201180072348A CN 103718538 B CN103718538 B CN 103718538B
- Authority
- CN
- China
- Prior art keywords
- signal
- inhibiting factor
- end signal
- coherence
- near end
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Active
Links
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04M—TELEPHONIC COMMUNICATION
- H04M9/00—Arrangements for interconnection not involving centralised switching
- H04M9/08—Two-way loud-speaking telephone systems with means for conditioning the signal, e.g. for suppressing echoes for one or both directions of traffic
- H04M9/082—Two-way loud-speaking telephone systems with means for conditioning the signal, e.g. for suppressing echoes for one or both directions of traffic using echo cancellers
Abstract
The present invention discloses a kind of non-linear post-processing method of audio signal and the system that realize acoustic echo elimination.This system comprises a nonlinear processor (NLP) (104), for receiving following signal, and by least two signals as input: be about to the remote signaling that sends and multiplely catch end signal; NLP (104), first for each frequency band, calculates the one or more coherence measurements between the signal that receives, and based on one or more coherence measurement, draws the corresponding inhibiting factor of each frequency band.Above-mentioned inhibiting factor is also applied to a signal of catching in end signal by NLP (104), significantly to eliminate the echo of catching end signal.
Description
Technical field
The present invention is relevant with system to the echo cancel method in telecommunication system substantially, particularly relates to a kind of by carrying out to error signal the method and system that non-linear post-processed eliminates error signal residual echo.
Background technology
Voice quality is the key factor that telephone system supplier pays close attention to.The requirement of client to voice quality constantly promotes, and telephone system supplier also must continue to make improvement, and this point is most important.Echo is the delay performance of original transmission content, if time of delay is very long, then can cause severe jamming to talker.If short round trip delays is less than 20 milliseconds, talker can not differentiate the sidetone in echo and telephone receiver.But for telecommunication (such as satellite communication), the echo signal of long-range generation is usually expressed as significant delay.In addition, voice and the chnnel coding of digital radio communication system and IP phone system (being called for short " IP phone ") interior necessity also can cause serious delay, and the echo of generation and the clear sound heard of talker are remained in relatively short distance.Therefore, in order to safeguard voice quality, it is very important for eliminating echo.
Echo Canceller generally includes a linear filtering part, and this part is essentially a sef-adapting filter attempting to adapt to echo path.In this way, the echo replicas that remote signaling produces just can be removed near end signal, thus eliminates echo.
The filter of output echo replicas may belong to limited or infinite impulse response filter.Modal situation is adaptive line finite impulse response (FIR) (FIR) filter having a large amount of delay line and corresponding coefficient, or tapped delay line filter.These coefficients have different values, when these coefficient values are multiplied by the inhibit signal of filter input signal, just can draw the valuation of echo.This filter, through improvement, namely through upgrading, enables these coefficients converge on optimum value.A kind of conventional method eliminating echo is, uses normalization minimum mean-square error (NLMS) algorithm to upgrade finite impulse response (FIR) (FIR) filter.
Way by convention, eliminate (AEC) for realizing acoustic echo, the first stage adopts linear filter, with analogue system impulse response.By filtering remote signaling, obtain the echo signal estimated.Then, proximally remove the echo signal of estimation in signal, thus reach the object eliminating echo.But problem is, after this first stage, in remaining error signal, usually still maintain some audible echoes.In second stage, need to apply post processor, to eliminate remaining echo.
Summary of the invention
The present invention's general introduction describes some concepts in schematic form, allows reader have individual basic understanding to related fields of the present invention.The present invention's general introduction is not summarize popularity of the present invention, not introduces key of the present invention or important component part, also non-depicted scope of the present invention yet.Concepts more of the present invention are only set forth in the present invention's general introduction, as hereafter " detaileds description " place mat partly.
According to an aspect of the present invention, there is disclosed herein a kind of non-linear post-processing method of audio signal realizing acoustic echo and eliminate.This method comprises, following signal is received by nonlinear processor, and by wherein at least two signals as input: be about to the remote signaling that sends and multiplely catch end signal, then the signal received is converted to frequency domain, and for each frequency band, the one or more coherence measurements between the signal that calculating receives.This method also comprises, and based on one or more coherence measurement, draws the corresponding inhibiting factor of each frequency band, and inhibiting factor is applied to a signal of catching in end signal, significantly to eliminate the echo of catching end signal.
According to a further aspect in the invention, multiple end signal of catching comprises near-end lock-on signal and error signal, and the residual echo that error signal comprises from linear adaptive filter exports.
According to a further aspect in the invention, method comprises: follow the trail of coherence measurement within the predetermined time, to determine that near end signal is in " echoless state " or " echo state ".
According to a further aspect in the invention, calculation procedure comprises further: for each frequency band, calculates first coherence measurement between remote signaling and near end signal; Second coherence measurement between near end signal and error signal; And use first and second coherence measurement to calculate inhibiting factor.
According to a further aspect in the invention, inhibiting factor directly and coherence measurement be combined into direct ratio.
According to a further aspect in the invention, when near end signal is in " echoless state ", inhibiting factor is directly directly proportional to one of first coherence measurement and second both coherence measurement.
According to a further aspect in the invention, when near end signal is in " echo state ", inhibiting factor is directly directly proportional to the minimum value in first coherence measurement and second coherence measurement.
According to an aspect of the present invention, first coherence measurement is the frequency domain analogue to time-domain coherence between remote signaling and near end signal.
According to a further aspect in the invention, second coherence measurement is the frequency domain analogue to time-domain coherence between near end signal and error signal.
In addition, according to an aspect of the present invention, method comprises further, and inhibiting factor is applied to error signal, significantly to eliminate the residual echo of error signal.
According to an aspect of the present invention, method comprises further: carry out detection filter by the energy of comparison error signal and near end signal and disperse, and based on the filtering divergence detected, inhibiting factor is applied near end signal.
According to a further aspect in the invention, method also comprises, and by from multiplication algorithm, highlights the valley of inhibiting factor.
According to a further aspect in the invention, method comprises, and configuring a curve affects frequency band not too accurately, and is weighted inhibiting factor.
In addition, according to an aspect of the present invention, method comprises, and follows the trail of minimum inhibiting factor, and adjusts inhibiting factor in proportion, to enable minimum value close to desired value.
According to a further aspect in the invention, method comprises, and remote signaling, near end signal and error signal are converted to frequency domain.
According to a further aspect in the invention, it is characterized in that, frequency band is corresponding with various discrete Fourier transform (DFT) coefficient.
According to a further aspect in the invention, there is disclosed herein a kind of non-linear post-processed system of audio signal realizing acoustic echo and eliminate.This system comprises a nonlinear processor and a conversion unit.Nonlinear processor receives following signal, and by least two signals as input: be about to the remote signaling that sends and multiplely catch end signal.The signal received is converted to frequency domain by conversion unit.Nonlinear processor is configured to: for each frequency band, the one or more coherence measurements between the signal that calculating receives; Based on one or more coherence measurement, draw the corresponding inhibiting factor of each frequency band; And inhibiting factor is applied to a signal of catching in end signal, significantly to eliminate the echo of catching end signal.
According to a further aspect in the invention, nonlinear processor is configured to, and follows the trail of coherence measurement within the predetermined time, to determine that near end signal is in echoless state or echo state.
According to a further aspect in the invention, nonlinear processor is configured to, and for each frequency band, calculates first coherence measurement between remote signaling and near end signal; Second coherence measurement between near end signal and error signal; And use first and second coherence measurement to calculate inhibiting factor.
In addition, according to an aspect of the present invention, nonlinear processor is configured to, and inhibiting factor is applied to error signal, significantly to eliminate the residual echo of error signal.
According to a further aspect in the invention, nonlinear processor is configured to, and carrys out detection filter and disperses, and based on the filtering divergence detected, inhibiting factor is applied near end signal by the energy of comparison error signal and near end signal.
According to a further aspect in the invention, nonlinear processor is configured to, and by from multiplication algorithm, highlights the valley of inhibiting factor.
According to a further aspect in the invention, nonlinear processor is configured to, and configuring a curve affects frequency band not too accurately, and is weighted inhibiting factor.
According to an aspect of the present invention, nonlinear processor is configured to, and follows the trail of minimum inhibiting factor, and adjusts inhibiting factor in proportion, to enable minimum value close to desired value.
According to a further aspect in the invention, conversion unit is configured to, and remote signaling, near end signal and error signal are converted to frequency domain.
In addition, according to an aspect of the present invention, frequency band is corresponding with various discrete Fourier transform (DFT) coefficient.
According to an aspect of the present invention, there is disclosed herein a kind of computer-readable recording medium, wherein store the non-linear post-processed computer executable program of audio signal that can realize acoustic echo and eliminate.When performing this computer program, processor can be made to perform following steps: receive following signal by nonlinear processor, and by least two signals as input: be about to the remote signaling that sends and multiplely catch end signal; The signal received is converted to frequency domain; For each frequency band, the one or more coherence measurements between the signal that calculating receives; Based on one or more coherence measurement, draw the corresponding inhibiting factor of each frequency band; And inhibiting factor is applied to a signal of catching in end signal, significantly to eliminate the echo of catching end signal.
According to a further aspect in the invention, when performing this computer program, processor can be made to perform following steps: follow the trail of coherence measurement within the predetermined time, to determine that near end signal is in echoless state or echo state.
According to an aspect of the present invention, when performing this computer program, processor can be made to perform following steps further: for each frequency band, calculate first coherence measurement between remote signaling and near end signal; Second coherence measurement between near end signal and error signal; And use first and second coherence measurement to calculate inhibiting factor.
According to a further aspect in the invention, when performing this computer program, processor can be made to perform following steps further: inhibiting factor is applied to error signal, significantly to eliminate the residual echo of error signal.
According to a further aspect in the invention, when performing this computer program, processor can be made to perform following steps further: carry out detection filter by the energy of comparison error signal and near end signal and disperse, and based on the filtering divergence detected, inhibiting factor is applied near end signal.
According to a further aspect in the invention, when performing this computer program, processor can be made to perform following steps further: by from multiplication algorithm, to highlight the valley of inhibiting factor.
According to a further aspect in the invention, when performing this computer program, processor can be made to perform following steps further: configuring a curve affects frequency band not too accurately, and is weighted inhibiting factor.
According to a further aspect in the invention, when performing this computer program, processor can be made to perform following steps further: follow the trail of minimum inhibiting factor, and adjust inhibiting factor in proportion, to enable minimum value close to desired value.
According to a further aspect in the invention, when performing this computer program, processor can be made to perform following steps further: remote signaling, near end signal and error signal are converted to frequency domain.
Accompanying drawing explanation
These accompanying drawings are included into this explanation and form a part for this explanation, they illustrate several embodiments of the present invention, and more subsidiary explanatory notes, fully to explain principle of the present invention.
Fig. 1 is the calcspar of acoustic echo canceller, draws out according to one embodiment of present invention.
Fig. 2 is more detailed calcspar, illustrates the sef-adapting filter function in the cards in Fig. 1, draws out according to one embodiment of present invention.
Fig. 3 illustrates the calculation stages of the sef-adapting filter in Fig. 2, draws out according to one embodiment of present invention.
Fig. 4 is more detailed calcspar, describes the G in Fig. 3
mblock, draws out according to one embodiment of present invention.
Fig. 5 is a flow chart, describes the calculation stages of the nonlinear processor in Fig. 1, draws out according to one embodiment of present invention.
Fig. 6 is a flow chart, illustrates the operation that acoustic echo canceller performs, draws out according to one embodiment of the present of invention in Fig. 5.
Fig. 7 is a flow chart, illustrates the operation that acoustic echo canceller performs, draws out according to one embodiment of the present of invention in Fig. 6.
Fig. 8 is a calcspar, illustrating the typical computing device eliminated for realizing acoustic echo, drawing out according to one embodiment of present invention.
Embodiment
The following detailed description about the embodiment of the present invention will quote these accompanying drawings.Following detailed description is not intended to limit the scope of the invention, and scope of the present invention is determined by the claim of enclosing and equivalent.
Fig. 1 illustrates the operation principle of acoustic echo canceller (AEC) 100 according to an exemplary embodiments of the present invention.
AEC100 is a kind of high-quality Echo Canceller, aims at the voice and voice communication that are undertaken by packet switching network and designs.Specifically, AEC100 is intended to eliminate acoustic echo 130, and this echo being sends sound wave that equipment 10 sends and be reflected back near-end capture device 20 from interface and other objects and produce.The Another reason that echo 130 produces is direct path from sending the path of equipment 10 to capture device 20.
Sending equipment 10 can be any audio output apparatus, comprises one or one group of loud speaker in order to configure from one or more passage output sound.Capture device 20 can be any audio input device, such as in order to one or more microphones of catching sound and generate input signal and configure.For example, sending the internal hardware devices that equipment 10 and capture device 20 can be computer systems, also can be with ancillary equipment that is wired and/or radio connection access computer system.In some arrangements, the assembly that equipment 10 and capture device 20 can be the individual equipments such as microphone, telephone receiver is sent.In addition, to send in equipment 10 and capture device 20 any one or two may possess Analog-digital Converter and/or digital-to-analogue conversion function.
According to Fig. 1, Echo Canceller 100 comprises a linear filter 102, nonlinear processor (NLP) 104, far-end buffering area 106 and a blocking buffer 108.Generate at far-end and be transferred to the remote signaling 110 of near-end, being input in filter 102 by far-end buffering area (FEBuf) 106 and blocking buffer 108.Remote signaling 110 also can be input to the play buffer 112 be arranged near the equipment of sending 10.The output signal 116 of far-end buffering area 106 is imported in blocking buffer 108, and the output signal 118 of blocking buffer is imported in linear filter 102.
Far-end buffering area 106 is through configuration, synchronous with its maintenance for the buffering in compensating sound equipment (not shown).Blocking buffer 108, through configuration, for carrying out piecemeal to sample of signal, converts so that linear filter 102 and NLP104 perform frequency domain.
Linear filter 102 is a kind of sef-adapting filters.Such as, by means of discrete Fourier transform (DFT) (DFT), linear filter 102 can run in a frequency domain.DFT can be implemented as fast fourier transform (FFT).
Another input of filter 102 is, by near end signal (Sin) 122 that log buffer 114 inputs in capture device 20.Near end signal 122 comprises near-end speech 120 and echo 130.NLP104 receives three kinds of signals as input.Respectively: the remote signaling that (1) is received by far-end buffering area 106 and blocking buffer 108; (2) by near end signal that log buffer 114 receives; And the output signal 124 of (3) filter 102.Output signal 124 also can as a kind of error signal.When NLP104 weakens output signal 124, just can generate a kind of comfort noise signal, will make an explanation to this after a while.
According to a typical embodiment, each frame is divided into 64 sample block.Because the sample block quantity of each frame marked off according to selected sample block size is not integer, therefore, before processing the signals, need to cushion signal.This buffering is processed by above-mentioned blocking buffer 108.Filter 102 and NLP104 run all in a frequency domain, and all utilize the DFT of 128 samples.
The performance of AEC100 is subject to the impact of play buffer 112 and log buffer 114 ruuning situation in sound device.Unless total size reasonable of play buffer 112 and log buffer 114 is stabilized in predetermined limited field, otherwise AEC100 may can not start.Such as, if total size of four successive frames is stabilized within the scope of the +/-8ms of initiating switchup, then AEC100 can start by filling interior distal end buffering area 106.
Fig. 2 is more detailed calcspar, illustrates the function that the filter 102 in Fig. 1 realizes.Fig. 3 illustrates the calculation stages of filter 102, draws out according to one embodiment of present invention.
According to Fig. 2, sef-adapting filter 102 comprises first conversion section 200, reverse conversion section 202, second conversion section 204 and impulse response section (H) 206.Send in equipment 10 remote signaling x (n) 210 that is about to send by input first conversion section 200.Input pulse is responded section 206 by the output signal X (n, k) of first conversion section 200.Output signal Y (n, k) is by input second conversion section 202, and this section outputs signal y (n).Then, near end signal d (n) 220 that capture device 20 is caught, remove signal y (n), so that output error signal e (n) 230, this error signal is using the output as filter 102 linear stage.Error signal 230 is also by input second conversion section 204, and input pulse is also responded section 206 by the output signal E (n, k) of this section.
Above-mentioned adaptive filter method is relevant to the realization of standard piecemeal time domain least mean squares (LMS) algorithm.According to one embodiment of present invention, why can reduce complexity because filter and coherence perform in a frequency domain, such convolution will substitute by multiplying.Error is formed in the time domain, is then transformed into frequency domain, to upgrade the filter 102 shown in Fig. 2.
Due to upconversion blocks, cause occurring signal delay in system.Postpone for reducing, filter 102 is divided into less section, and by overlapping reservation process method, bulk delay remains in section length.This method is called as fragmented blocks frequency domain method or many delay fragmented blocks frequency self-adaption filters.For the sake of simplicity, referred to as " FLMS ".
Fig. 3 shows the operation method of FLMS.3. Fig. 4 is more detailed calcspar, describes the G of FLMS method in Fig. 3
mblock, draws out according to one embodiment of present invention.
If total filter length L=MN is split into multiple block containing N number of sample, and F=2Nx2N discrete Fourier transform (DFT) (DFT) matrix, then time-domain pulse response w (n) of filter 102, n=0,1 ..., L-1 can be expressed as the set of graded filter in a frequency domain
Wherein, w
m(k)=[wmN...w (m+1) N-1]
t,
I
nthe unit matrix of NxN, 0
nit is the null matrix of NxN.This refers to before carrying out Fourier transform, time-domain vector subsidiary N number of zero.
In this algorithm, do not use time domain filter coefficients w (n), and equation (1) is for setting up the relation between time-domain coefficients and frequency coefficient.
As shown in Figure 3, piecemeal is carried out to far-end sample x (n) 310, forms the vector of 2N sample, namely form two blocks in step S312,
x(k-m)＝[x((k-m-2)N)...x((k-m)N-1)]
T
And the sequence of DFT vector is converted in step S314,
X(k-m)＝diag(Fx(k-m))。
This is embodied as the DFT vector table of delay, because diagonal matrix also can be expressed as X (k-m)=D
mx (k), wherein D is delay operator.The transformation of each delay block, is expressed as diagonal matrix X (k-m) and is multiplied by filter subregion
Y
m(k)＝X(k-m)W
m(k)m＝0,1,...,M-1
Then draw the echo signal of estimation, as last N number of coefficient of the reverse conversion summation of the filter product performed in step S320, from this step, first block is dropped when step S322.The echo signal estimated is expressed as
Then, form error in time domain, be expressed as
e(k)＝d(k)-y(k)
This is also the output of the filter 102 of AEC100 shown in Fig. 1.For adjustment filtration coefficient, in step S316 by N number of zero insertion in error vector, the vector of increase is changed in step S318, is expressed as
Fig. 4 is more detailed calcspar, describes the G in Fig. 3
mblock, draws out according to one embodiment of present invention, and wherein, filter coefficient update can be expressed as
Step size mu
0=0.5, and as shown in Figure 4, B (k) is the error vector revised.This correction comprises power normalization and amplitude limiter afterwards 410.As shown in Figure 4, normalized error vector is
A(k)＝Ω(k)E(k).
Wherein
Ω(k)＝diag([1/p
01/p
1...1/p
2N-1])
Be step-length diagonal matrix, this matrix is estimated by using exponential, controls the adjustment of each frequency component
p
j(k)＝λ
pp
j(k-1)+(1-λ
p)M|X
j，j|
2，j＝0，1，...，2N-1，
It is by forgetting factor λ that exponential is estimated
p=0.9 and single DFT coefficient X
j,j={ X (k) }
j.jrecursive calculation and obtaining is the input of amplitude limiter 410.Then, a point magnitude is restricted to constant maximal value A
0=1.5x10
-6, obtain outgoing vector B (k) and component thereof
As shown in Figure 4, diagonal matrix X (k-m) and conjugate unit 420 conjugation, this conjugate unit is multiplied by vectorial B (k), then performs DFT inverse transformation by inverse discrete Fourier transformer inverse-discrete (IDFT) unit 430.Then, abandon last module unit 440 and abandon last block.After abandoning last block, additional zero module unit 450 can add one zero piece, and subsequently, DFT unit 460 performs DFT.Afterwards, delay cell 480 is introduced a block and is postponed, and this unit exports Wm (k).
Fig. 5 is a flow chart, describes the computational process of NLP104 in Fig. 1, draws out according to one embodiment of present invention.
The NLP104 of AEC100 receives following three kinds of signals as input: i) send remote signaling x (n) 110 that equipment 10 is about to send; Ii) capture device 20 near end signal d (n) 122 of catching; And iii) output error signal e (n) 124 of linear stage that performs in filter 102.Error signal e (n) 124 comprises residual echo usually, in order to reach good performance, should eliminate this residual echo.Namely the target of NLP104 is eliminate this residual echo.
The first step is, these three kinds of input signals all are converted to frequency domain.In step S501, remote signaling 110 is converted to frequency domain.In step S501 ', near end signal 122 is converted to frequency domain, and in step S501 ", error signal 124 is converted to frequency domain.NLP104 is block-based, and the same block length N adopting linear stage, but uses overlap-add method, but not overlap-save method, by the series connection of continuous print block, windowing changing.Definition o is element product operator, and the block of kth conversion can be expressed as
Wherein, F remains 2NDFT matrix, x
kthe time-domain sampling column vector of to be length be N, w
2Nthe square-root Hanning window column vector of to be length be 2N, entry is
Selecting this Hanning window, is can meet in order to ensure the segmentation of overlap
ω
2(n)+ω
2(n-N)＝1，n＝N，N+1，...，2N
To provide perfect reconstruct.According to one embodiment of present invention, length is that the DFT vector of 2N is still retained.And the N-1 complex coefficient of redundancy is preferably dropped.
X
k, D
kand E
kbe respectively k
ththe frequency domain representation of far-end, near-end and error block.
According to another embodiment of the invention, by being multiplied by the inhibiting factor between 0 and 1 with each frequency band of error signal e (n) 124, thus realize the echo suppression.According to a first-selected embodiment, each frequency band is corresponding with a DFT coefficient.But in general, each frequency band may corresponding arbitrary frequency range.Add comfort noise, after reverse FFT, the signal of suppression is by windowing, and overlapping with block before and add wherein, to obtain output.
For analyzing, calculate the power spectral density (PSD) of each signal.In step S503, calculate the PSD of remote signaling x (n) 110.In step S503 ', calculate the PSD of near end signal d (n) 122, in step S503 ", calculate the PSD of error signal e (n) 124.The PSD of remote signaling 110, near end signal 122 and error signal 124 is expressed as S
x, S
dand S
e.
In addition, the complex value cross-spectral density between following signal to also be calculated: i) remote signaling x (n) 110 and near end signal d (n) 122; And ii) near end signal d (n) 122 and error signal e (n) 124.In step S504, calculate the complex value cross-spectral density between remote signaling (110) and near end signal 122, in step S504 ', calculate the complex value cross-spectral density between near end signal (122) and error signal 124.Complex value cross-spectral density between remote signaling 110 and near end signal 122 is represented as S
xd.Complex value cross-spectral density between near end signal 122 and error signal 124 is represented as S
de.According to exponential manner smooth change, thus in avoiding echo to suppress, there is the erroneous transitions of burst in PSD.The computing formula of PSD is
Wherein, " * " represents complex conjugate at this, and coefficent of exponential smoothing is
Note that for " certainly " power spectral density, X
k=Y
k, therefore, when cross-spectral density is complex value, autopower spectral density is real-valued.
In step S505, do not use current far-end input block, but the block before selecting, to keep optimal synchronisation to the corresponding echo in near-end.Subregion exponent m has the ceiling capacity in linear filter, selects according to following formula:
This estimates that the delay index drawn is for selecting to be applicable to the best block of far-end PSD in step S507.In addition, in step S509, the threshold value of setting far-end autopower spectral density, to avoid occurring numerical instability, as follows:
Sometimes, linear filter 102 can depart from suitable echo path estimation.This situation often causes the error signal of high distortion, although these signals are still useful for analysis, and, can not be used for exporting.According to one embodiment of present invention, divergence proximally increases energy and non-elimination energy in signal d (n) 122 usually, therefore can detect easily.The divergence state determined in step S511 is for selecting (S512) E
kor D
k, shown in specific as follows: if
Then enter " dispersing " state, in this state, by arranging E
k=D
k, the impact of linear stage is taken a turn for the worse.If met the following conditions, then exit divergent state
In addition, if divergence is very high, such as
Then linear filter 102 returns to its initial condition
W
m(k)＝0
N，m＝0，1，...M-1。
PSD is for calculating the frequency band coherence between following signal: i) in step S513, and remote signaling 110 and near end signal 122 are as follows:
Again complex conjugate is represented at this " * ".
Ac vector is expressed as c (n) at the entrance of position n.Coherence is the frequency domain analogue to time-domain coherence, and it is that in the scope of 0≤c (n)≤1 one of similitude estimates; Coherence is higher, and similitude is also higher.
The main efficacy results of NLP104 realizes by directly suppressing error signal 124.Output is expressed as
Suppose that linear stage normally runs, c (n)
de≈ 1, does not now eliminate any echo, and permissible error signal when without change transmit.In the opposite case, namely linear stage eliminates echo, 1>>c (n)
de>=0, so result is that error is inhibited, and eliminates filter 102 any echo still residual after linear stage completes lf ideally.
According to one embodiment of present invention, c
xdbe regarded as increasing stability (referring to hereafter), but c
deoften more useful in practice.With c
deon the contrary, when there is echo 130, c
xdrelatively high, on the contrary then lower.In order to use this two measures in same " territory ", the coherence of correction is defined as follows: c'
xd=1-c
xd.
For realizing higher AEC performance, echo 130 is preferably inhibited, and allows the synchronous near-end speech 120 occurred to pass through simultaneously.NLP104 is to realize this purpose in configuration, because the coherence of each frequency band is independent calculating.Therefore, the frequency band comprising echo is suppressed wholly or in part, and does not have reflective frequency band to be affected.
According to one embodiment of present invention, before coherence is as inhibiting factor s, several data analytical method is used to finely tune coherence.First, in step S517, for c
decalculate the average coherence of a series of first choice frequency band, in step S517 ', for c '
xdcalculate the average coherence of a series of first choice frequency band, formula is
Wherein fs is sample frequency.First choice frequency band is selected from most possible frequency field accurately in a series of situation.
In step S518, Systematic selection
or
.According to a typical embodiment, right
follow the trail of a period of time, with the general state of certainty annuity when step S521.The object done like this is, when echo path close to zero time (such as with earphone call during), avoid suppressing.First, calculate in step S519
minimum threshold, formula is as follows:
The computing formula of step size mu c=0.0006mfs, factor mfs is
This is for forming two decision variables
Work as u
cwhen=1, system is regarded as being in " coherency status ", works as u
ewhen=1, system is regarded as being in " echo " state.When echo state, system may comprise echo, otherwise quite different.The interface that echo state may be able to be used by other audio processing components provides.
When being in echo state, select c in each frequency band in step S520
deand c '
xdminimum value, calculate inhibiting factor s, formula is:
s＝min(c
de，c′
xd)。
In step S533 and step S527, calculate two total inhibiting factors according to the order statistics of first choice frequency band.
The method of this selection inhibiting factor has stronger robustness to outlier than to mean value, and allows to be undertaken tuning by accurate order of preference statistics position.
For (that is, u time " non-echo state "
e=0), select inhibiting factor in step S520, S524 and S518, suppression also can be made to be restricted, as follows:
The typical degree of suppression rationally eliminated needed for all residual echos is there is in major part situation.This is regarded as target and suppresses s
t." overload values " of scalar is applied to s, and frequency band is weighted to s
t.This way seem can when comparatively difficulty, namely when coherence measurement itself is not accurate enough, improving SNR.In step S527, calculate minimum sl level, and follow the trail of a period of time in step S529
Wherein, step size mu s=0.0008mfs.
Minimum value in two continuous blocks
when all not changing, overload values γ is set in step S531, this value is applied to minimum value, thus realize target degree of suppression:
γ smooth change, threshold value is
Like this, this value will tend to quick rising, and the rate of climb exceedes decrease speed.St and γ 0 can be configured, to control to suppress aggressive; In default situations, these two values are set to-11.5 and 2 respectively.In addition, when
The overload values of level and smooth movement resets to minimum value,
Then, s is calculated in step S533
hlevel.Next, according to following algorithm, draw final inhibiting factor s
γ.In step S525, according to weight vectors v
sNand component 0≤v
sNn ()≤1, s is first weighted to s
h:
Selecting such method of weighting, is to affect frequency band not too accurately by a larger margin.In step S535 application overload values, draw following formula:
Wherein, v
γ Nbe another weight vectors, can realize and v
sNsimilar object.S can be highlighted by the overload values drawn from multiplication algorithm
vvalley.Finally, in step S536, draw frequency domain IOB according to following computing formula
Wherein, N
skbe man made noise, perform inverse transformation in step S537, to obtain output signal y (n).Such suppression can eliminate near-end noise and echo, makes the sound variation of noise level generation audible.By adding " comfort noise " of generation to replace the noise of loss, this problem is alleviated.N ' will be discussed after a while herein
kformation.
Overlap-add conversion is reversed, to realize the time domain output signal that length is N
formula is
To generate comfort noise, need the reliable estimation of real near-end background noise.According to one embodiment of present invention, minimum statistics method is used to generate comfort noise.Specifically, in each block, calculate the correction minimum value of near-end PSD for each frequency band:
Wherein step size mu=0.1, slope λ
n=1.0002.Right
arrange, make it be greater than rational noise power.S
dkclosely similar with the content of above-mentioned discussion, but, calculate this value be based on the non-windowing DFT coefficient of the linear filter 102 that linear stage calculates.
By generating random complex vector u in unit circle
2N, can white noise be generated.White noise be applicable to
match, and according to degree of suppression weighting, to provide following comfort noise:
Fig. 6 is a flow chart, illustrates the operation that acoustic echo canceller 100 performs, draws out according to one embodiment of present invention.Specifically, according to one embodiment of present invention, Fig. 6 further describes the algorithm determining echo state and inhibiting factor in the NLP104 of the AEC100 shown in above-mentioned Fig. 5.
As previously mentioned, within a period of time, follow the trail of the coherence cxd between remote signaling 110 and the near end signal 122 and coherence cde between near end signal 122 and error signal 124, thus determine the state of AEC100.Based on the height of the coherence determined, NLP104 determines enter or exit coherent states.
First, in step S601, NPL104 determines that whether coherence is higher; Determine that whether coherence is lower in step S605, as shown in above-mentioned Fig. 5.As previously mentioned, coherence refers to the frequency domain analogue to time-domain coherence.Specifically, as shown in above-mentioned Fig. 5, coherence is that in the scope of 0≤c (n)≤1 one of similitude estimates; Coherence is higher, and similitude is also higher.
Therefore, if coherence is higher when NLP104 is determined at S601, then AEC100 enters coherency status in step S603.If coherence is lower when NLP104 is determined at S605, then AEC100 leaves coherency status in step S607.As described in Figure 5, u is worked as
cwhen=1, AEC100 is considered as being in " coherency status ", works as u
ewhen=1, be considered as being in " echo state ".
According to one exemplary embodiment of the present invention, NLP104 will measure in step S609
whether be 1.If NLP104 measures
then AEC100 leaves echo state in step S611.Afterwards, NLP104 measures AEC100 further in step S613 and whether is in coherency status.If NLP104 measures AEC100 and is still in coherency status, then NLP104 exports following inhibiting factor in step S615:
s＝c
de
In step S613, if NLP104 measures AEC100 be not in coherency status, then NLP104 exports following inhibiting factor in step S621:
s＝c’
xd
In addition, if NLP104 measures at S609
be not equal to 1, then it will measure AEC100 further at S617 and whether be in coherency status.As mentioned above, u is worked as
cwhen=1, AEC100 is regarded as being in " coherency status ".If AEC100 is in coherency status, then it leaves echo state in step S619 and exports and the identical inhibiting factor exported in step S621.
But, if NLP104 measures AEC100 at S617 be not in coherency status, then AEC100 works as u in step S623
eenter echo state when=1, and export following inhibiting factor in step S625:
s＝min(c’
xd,c
de)
s
h＝s
(nh)
s
l＝s
(nl)
According to one exemplary embodiment of the present invention, after NLP104, these inhibiting factors will be applied to error signal 124, significantly to eliminate the residual echo of error signal 124.
Fig. 7 is a flow chart, has set forth the operation performed by AEC100 in the embodiment of the present invention illustrated in fig. 1.Specifically, according to one embodiment of present invention, Fig. 7 further illustrates the algorithm of the residual echo eliminating error signal 124, and the echo state information namely utilizing the NLP104 of AEC100 as described in the fig 5 and 6 to measure and inhibiting factor are to eliminate residual echo.
In step s 701, NLP104 receives and is about to the remote signaling 110, the near-end lock-on signal 122 that send, and comprises the error signal 124 that the residual echo from linear adaptive filter 102 exports, and using these signals as input.In step S703, remote signaling 110, near end signal 122 and error signal 124 are converted to frequency domain by the corresponding transition region described in Fig. 2-5.In step S705, according to the algorithm described in Fig. 5, for each frequency band, calculate first coherence measurement between remote signaling 110 and near end signal 122.In step S707, according to the algorithm described in Fig. 5, for each frequency band, calculate second coherence measurement between near end signal 122 and error signal 124.In step S709, generate associated inhibitor for each frequency band.Finally, in step S711, inhibiting factor is applied in error signal 124 or near end signal 122, significantly to reduce the echo in error signal 124 or near end signal 122.
Fig. 8 is a calcspar, illustrating an Example Computing Device 800 for implementing AEC100, including but not limited to: NLP104, filter 102, far-end buffering area 106 and blocking buffer 108, and the program described in Fig. 3 and 5-7 in the present invention.In basic configuration 801, computing equipment 800 generally includes one or more processor 810 and Installed System Memory 820.Rambus 830 can be used for realizing the communication between processor 810 and Installed System Memory 820.
According to required configuration, processor 810 can be any type, includes but not limited to: microprocessor (μ P), microcontroller (μ C), digital signal processor (DSP) or their combination in any.Processor 810 can comprise an extra buffer memory rank, as level cache 811 and L2 cache 812, processor cores 813 and register 814.Processor cores 813 comprises an ALU (ALU), a floating point unit (FPU), a digital signal processing core (DSP core), or their combination in any.Memory Controller Hub 815 also together can use with processor 810, and in some implementations, Memory Controller Hub 815 is internal portions of processor 810.
According to required configuration, Installed System Memory 820 can be any type, includes but not limited to: volatile memory (as RAM), nonvolatile memory (as ROM and flash memory etc.) or their combination in any.Installed System Memory 820 generally includes an operating system 821, one or more application program 822 and routine data 824.Application program 822 comprises echo cancellation process algorithm 823, and this algorithm can be used for the residual echo eliminating error signal.Routine data 824 comprises echo cancellor route data 825, and can be used for the residual echo eliminating error signal, detailed description please see below.In certain embodiments, application program 822 can be arranged in operating system 821 and coordinate operation with routine data 824, thus eliminate the residual echo of error signal.Described basic configuration in fig. 8 accompanying drawing illustrates, associated component underscore 801 marks.
Computing equipment 800 has supplementary features and/or function and extra interface, can promote basic configuration 801 and the communication between any necessaries and interface.Such as, bus/interface controller 840 can be used in promoting the communication between basic configuration 801 and one or more data storage device 850, and this type of communication is realized by memory interface bus 841.Data storage device 850 can be movable memory equipment 851, non-moving memory device 852, or the combination of the two.The example of movable memory equipment and non-moving memory device comprises: the disk units such as floppy disk and hard disk drive (HDD), the CD drive such as CD (CD) machine or digital versatile disc (DVD) machine, solid state hard disc (SSD) and magnetic tape station etc.Computer-readable storage medium example comprises: the volatibility adopting any method or technology to implement and non-volatile media, removable and non-moving medium, for storing the information such as computer-readable instruction, data structure, program module or other data.
Installed System Memory 820, movable memory equipment 851 and non-moving memory device 852 all belong to computer-readable storage medium.Computer-readable storage medium includes but not limited to RAM, ROM, EEPROM, flash memory or other memory technologies, CD-ROM, digital versatile disc (DVD) or other optical memories, cassette tape, tape, magnetic disc store or other magnetic memories, or can be used in storing any other medium that information needed being undertaken by computing equipment 800 accesses.This type of computer-readable storage medium any may be all a part for computing equipment 800.
Computing equipment 800 also comprises interface bus 842, this interface bus is used for promoting from various interface equipment (such as output interface, peripheral interface and communication interface) communicating to basic configuration 801, and this type of communication is realized by bus/interface controller 840.Example output device 860 comprises a Graphics Processing Unit 861 and an audio treatment unit 862, can be configured to external equipment various with display or loud speaker etc. and communicates, and this type of communication is realized by one or more A/V port 863.Exemplary peripheral interface 870 comprises a serial interface controller 871 or a parallel interface controller 872, these two kinds of interface controllers are through configuration, all can with input equipment (such as, keyboard, mouse, pen, voice-input device or touch input device etc.) etc. external equipment communicate, or the communication of other ancillary equipment (such as printer or scanner etc.), this type of communication is realized by one or more I/O port 873.Example communication device 880 comprises a network controller 881, arranges this controller, can promote the network service between other computing equipments 890 one or more, and this type of communication is realized by one or more communication port 882.Such communication connection is an example of communication media.Common communication media comprises other data of computer-readable instruction, data structure, program module or modulated data signal form, and such as carrier wave or other transmission mechanisms, also comprise any information transmitting medium." modulated data signal " can be the signal having one or more feature set, or can encode to information in the signal, makes it change.For example, communication media includes but not limited to: the wire mediums such as cable network or directly wire connection, and the wireless medium such as audio frequency, radio frequency (RF), infrared ray (IR) and other wireless mediums." computer-readable medium " used herein one word comprise storage medium and communication media.
Computing equipment 800 can be implemented as a part for small portable (or mobile) electronic equipment, such as mobile phone, personal digital assistant (PDA), personal media player equipment, radio network monitors equipment, individual ear speaker device, application-specific equipment or have the hybrid equipment of above-mentioned any function.Computing equipment 800 also can be used as PC to realize, and comprises laptop computer and the configuration of non-laptop computer.
The hardware and software of system aspects realizes almost not having what difference; Use hardware or software usually (but not, such was the case with, and in some cases, selection hardware or software may be extremely important) are a kind of design alternatives, represent the balance of cost and efficiency.Flow process described herein and/or system and/or other technologies can play a role by various kinds of media thing (such as hardware, software and/or firmware), and the environment of flow process and/or system and/or other technologies deployment is different, first-selected medium is also by different.Such as, if the personnel that realize determine that speed and accuracy are most important, then he may be inclined to and select hardware and/or firmware vehicle; If determine that flexibility is most important, then may be inclined to selection software simulating; Or the personnel of realization also may can select being combined of hardware, software and/or firmware.
More than describing in detail by using calcspar, flow chart and/or example, listing the various embodiments of equipment and/or flow process.Owing to comprising one or more function and/or operation in these calcspars, flow chart and/or example, the personnel of association area will obtain such understanding: each function in these calcspars, flow chart or example and/or operation can come to realize separately and/or simultaneously by the combination in any of hardware widely, software, firmware or three.
In one embodiment, several parts of invention described herein can be achieved by application-specific integrated circuit (ASIC) (ASIC), field programmable gate array (FPGA), digital signal processor (DSP) or other integrated forms.But, one of ordinary skill in the art can find, some aspect of embodiment described herein (all or part of) can realize, as the one or more computer programs run on one or more computers (the one or more programs such as run in one or more computer system), as the one or more programs run on the one or more processors (the one or more programs such as run on one or more microprocessor), as firmware or the combination in any as above-mentioned form in integrated circuits in equivalence.One of ordinary skill in the art also will recognize further, and according to the present invention, one of ordinary skill in the art can be software and/or firmware design circuit like a cork and/or write code.
In addition, one of ordinary skill in the art will be understood that, the operating mechanism of invention described herein can be distributed as various forms of program product, and the signal transmission medium why type of this distribution no matter is performed for reality, the illustrative embodiment of invention described herein is all applicable.The example of signal transmission medium includes but not limited to following content: can the medium of record type, such as floppy disk, hard disk drive, CD (CD), digital video disk (DVD), digital magnetic tape and computer storage etc.; And the medium of transport-type, such as numeral and/or analog communication medium (such as fiber optic cables, waveguide, wired communications links and wireless communication link etc.).
One of ordinary skill in the art will recognize, in this field, describe equipment and/or flow process in mode described herein, and then use engineering practice by the equipment that so describes and/or Process integration in data handling system, this way is very common.That is, in equipment described herein and/or flow process, a part is had at least can be integrated in data handling system by the experiment of fair amount.
One of ordinary skill in the art will recognize, typical data handling system generally includes one or more system unit shell; A video display apparatus; A volatibility or nonvolatile memory; The processor such as microprocessor and digital signal processor; The computational entities such as operating system, driver, graphic user interface and application program; One or more interactive device, such as touch pad or touch-screen; And/or control system, comprise feedback loop and control motor (such as, for the feedback of sensing location and/or speed; For mobile and/or adjustment assembly and/or quantity control motor).Typical data handling system may utilize commercially available applicable assembly on the market to realize, and such as data calculate/communicate and/or those assemblies normally used in network calculations/communication system.
Based on context and/or usable condition about a large amount of plural number of using and/or singular noun herein, one of ordinary skill in the art, can adopt odd number or plural form.For clarity sake, the change situation of various singular/plural is clearly listed herein.
In view of having disclosed multiple different aspect and embodiment herein, one of ordinary skill in the art should be able to understand the rest by analogy, and expect other aspects and embodiment.The various aspects disclosed herein and embodiment are the use in order to explain explanation, and are not intended to propose restriction, and following claim specifies true scope and the intrinsic meaning of patent.
Claims (28)
1. can realize the non-linear post-processing method of audio signal that acoustic echo is eliminated, specifically comprise the following steps:
Following signal is received, and by least two signals as input: be about to the remote signaling that sends and multiplely catch end signal by nonlinear processor;
The signal received is converted to frequency domain;
For each frequency band, the one or more coherence measurements between the signal that calculating receives;
Based on described one or more coherence measurement, draw the corresponding inhibiting factor of each frequency band; And
A signal in end signal is caught described in described inhibiting factor being applied to, to catch the echo of end signal described in significantly eliminating,
In this case, described multiple end signal of catching comprises near-end lock-on signal and error signal, and the residual echo that error signal comprises from linear adaptive filter exports,
In this case, described calculation procedure comprises further: for each frequency band, calculates first coherence measurement between remote signaling and near end signal; Second coherence measurement between near end signal and error signal; And use described first and second coherence measurement to calculate inhibiting factor.
2. method according to claim 1, operating procedure comprises further: follow the trail of coherence measurement within the predetermined time, to determine that near end signal is in " echoless state " or " echo state ".
3. method according to claim 1, is characterized in that, described inhibiting factor directly with described first coherence measurement and described second coherence measurement be combined into direct ratio.
4. method according to claim 2, it is characterized in that, when near end signal is in " echoless state ", described inhibiting factor is directly directly proportional to one of first coherence measurement and second both coherence measurement.
5. method according to claim 2, it is characterized in that, when near end signal is in " echo state ", described inhibiting factor is directly directly proportional to the minimum value in first coherence measurement and second coherence measurement.
6. method according to claim 1, is characterized in that, first coherence measurement is the frequency domain analogue to time-domain coherence between remote signaling and near end signal.
7. method according to claim 1, is characterized in that, second coherence measurement is the frequency domain analogue to time-domain coherence between near end signal and error signal.
8. method according to claim 1, it is characterized in that, inhibiting factor is applied to error signal by described applying step, thus significantly eliminates the residual echo of error signal.
9. method according to claim 1, operating procedure comprises further:
Carry out detection filter by the energy of comparison error signal and near end signal to disperse, and based on the filtering divergence detected, inhibiting factor is applied near end signal.
10. method according to claim 1, operating procedure comprises further: by from multiplication algorithm, highlight the valley of inhibiting factor.
11. methods according to claim 1, operating procedure comprises further: configuring a curve affects frequency band not too accurately, and is weighted inhibiting factor.
12. methods according to claim 1, operating procedure comprises further: follow the trail of minimum inhibiting factor, and adjust inhibiting factor in proportion, to enable minimum value close to desired value.
13. methods according to claim 1, operating procedure comprises further: remote signaling, near end signal and error signal are converted to frequency domain.
14. methods according to claim 1, it is characterized in that, described frequency band is corresponding with various discrete Fourier transform (DFT) coefficient.
15. 1 kinds of non-linear postprocessing device of audio signal that can realize acoustic echo and eliminate, described equipment comprises:
For receiving following signal by nonlinear processor, and by least two signals as input: be about to the remote signaling that sends and multiple device of catching end signal;
For the signal received being converted to the device of frequency domain;
For for each frequency band, calculate the device of the one or more coherence measurements between the signal that receives;
For based on described one or more coherence measurement, draw the device of the corresponding inhibiting factor of each frequency band; And
For catching a signal in end signal described in described inhibiting factor being applied to, to catch the device of the echo of end signal described in significantly eliminating,
In this case, described multiple end signal of catching comprises near-end lock-on signal and error signal, and the residual echo that error signal comprises from linear adaptive filter exports,
In this case, the described device for calculating comprises further: for for each frequency band, calculate first coherence measurement between remote signaling and near end signal; The device of second coherence measurement between near end signal and error signal; And for using described first and second coherence measurement to calculate the device of inhibiting factor.
16., according to equipment described in claim 15, comprise further:
For following the trail of coherence measurement within the predetermined time, to determine that near end signal is in " echoless state " or the device of " echo state ".
17., according to equipment described in claim 15, is characterized in that, described inhibiting factor directly with being just combined into of described first coherence measurement and described second coherence measurement
Ratio.
18., according to equipment described in claim 16, is characterized in that, when near end signal is in " echoless state ", described inhibiting factor is directly directly proportional to one of first coherence measurement and second both coherence measurement.
19., according to equipment described in claim 16, is characterized in that, when near end signal is in " echo state ", described inhibiting factor is directly directly proportional to the minimum value in first coherence measurement and second coherence measurement.
20., according to equipment described in claim 15, is characterized in that, first coherence measurement is the frequency domain analogue to time-domain coherence between remote signaling and near end signal.
21., according to equipment described in claim 15, is characterized in that, second coherence measurement is the frequency domain analogue to time-domain coherence between near end signal and error signal.
22., according to equipment described in claim 15, comprise further:
For inhibiting factor is applied to error signal, thus significantly eliminate the device of the residual echo of error signal.
23., according to equipment described in claim 15, comprise further:
For being carried out the device that detection filter is dispersed by the energy of comparison error signal and near end signal; And
For based on the filtering divergence detected, inhibiting factor is applied to the device of near end signal.
24., according to equipment described in claim 15, comprise further:
For by from multiplication algorithm, highlight the device of the valley of inhibiting factor.
25., according to equipment described in claim 15, comprise further:
Frequency band not too is accurately affected for configuring a curve, and to the device that inhibiting factor is weighted.
26., according to equipment described in claim 15, comprise further:
For following the trail of minimum inhibiting factor, and adjust inhibiting factor in proportion, to enable minimum value close to the device of desired value.
27., according to equipment described in claim 15, comprise further:
For remote signaling, near end signal and error signal being converted to the device of frequency domain.
28., according to equipment described in claim 15, is characterized in that, described frequency band is corresponding with various discrete Fourier transform (DFT) coefficient.
Applications Claiming Priority (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
PCT/US2011/036856 WO2012158163A1 (en) | 2011-05-17 | 2011-05-17 | Non-linear post-processing for acoustic echo cancellation |
Publications (2)
Publication Number | Publication Date |
---|---|
CN103718538A CN103718538A (en) | 2014-04-09 |
CN103718538B true CN103718538B (en) | 2015-12-16 |
Family
ID=44209915
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN201180072348.6A Active CN103718538B (en) | 2011-05-17 | 2011-05-17 | The non-linear post-processing method of audio signal and the system of acoustic echo elimination can be realized |
Country Status (3)
Country | Link |
---|---|
EP (1) | EP2710787A1 (en) |
CN (1) | CN103718538B (en) |
WO (1) | WO2012158163A1 (en) |
Families Citing this family (17)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
JP5982069B2 (en) * | 2013-03-19 | 2016-08-31 | コーニンクレッカ フィリップス エヌ ヴェＫｏｎｉｎｋｌｉｊｋｅ Ｐｈｉｌｉｐｓ Ｎ．Ｖ． | Method and apparatus for audio processing |
JP6243536B2 (en) | 2013-12-12 | 2017-12-06 | コーニンクレッカ フィリップス エヌ ヴェＫｏｎｉｎｋｌｉｊｋｅ Ｐｈｉｌｉｐｓ Ｎ．Ｖ． | Echo cancellation |
GB2515593B (en) | 2013-12-23 | 2015-12-23 | Imagination Tech Ltd | Acoustic echo suppression |
CN104994249B (en) * | 2015-05-19 | 2017-03-15 | 百度在线网络技术（北京）有限公司 | Sound method for echo cancellation and device |
CN105304077A (en) * | 2015-09-22 | 2016-02-03 | 广东欧珀移动通信有限公司 | Acoustic treatment method and apparatus |
US9870763B1 (en) * | 2016-11-23 | 2018-01-16 | Harman International Industries, Incorporated | Coherence based dynamic stability control system |
CN108172233B (en) * | 2017-12-12 | 2019-08-13 | 天格科技（杭州）有限公司 | The echo cancel method of signal and error signal regression vectors is estimated based on distal end |
CN108390663B (en) * | 2018-03-09 | 2021-07-02 | 电信科学技术研究院有限公司 | Method and device for updating coefficient vector of finite impulse response filter |
CN108831497B (en) * | 2018-05-22 | 2020-06-09 | 出门问问信息科技有限公司 | Echo compression method and device, storage medium and electronic equipment |
CN112292844B (en) * | 2019-05-22 | 2022-04-15 | 深圳市汇顶科技股份有限公司 | Double-end call detection method, double-end call detection device and echo cancellation system |
CN110335618B (en) * | 2019-06-06 | 2021-07-30 | 福建星网智慧软件有限公司 | Method for improving nonlinear echo suppression and computer equipment |
CN112929506B (en) * | 2019-12-06 | 2023-10-17 | 阿里巴巴集团控股有限公司 | Audio signal processing method and device, computer storage medium and electronic equipment |
CN110992975B (en) * | 2019-12-24 | 2022-07-12 | 大众问问(北京)信息科技有限公司 | Voice signal processing method and device and terminal |
CN111048096B (en) * | 2019-12-24 | 2022-07-26 | 大众问问(北京)信息科技有限公司 | Voice signal processing method and device and terminal |
CN111048118B (en) * | 2019-12-24 | 2022-07-26 | 大众问问(北京)信息科技有限公司 | Voice signal processing method and device and terminal |
CN111341336B (en) * | 2020-03-16 | 2023-08-08 | 北京字节跳动网络技术有限公司 | Echo cancellation method, device, terminal equipment and medium |
KR20210125846A (en) | 2020-04-09 | 2021-10-19 | 삼성전자주식회사 | Speech processing apparatus and method using a plurality of microphones |
Citations (6)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN1149945A (en) * | 1995-03-03 | 1997-05-14 | 美国电报电话Ipm公司 | Method and apparatus for reducing residual far-end echo in voice communication networks |
CN1223036A (en) * | 1996-06-19 | 1999-07-14 | 诺基亚电信公司 | Echo suppressor and non-linear processor of echo canceller |
CN1332911A (en) * | 1998-10-23 | 2002-01-23 | 艾利森电话股份有限公司 | Methods and apparatus for providing echo suppression using frequency domain nonlinear processing |
US7006458B1 (en) * | 2000-08-16 | 2006-02-28 | 3Com Corporation | Echo canceller disabler for modulated data signals |
CN101719969A (en) * | 2009-11-26 | 2010-06-02 | 美商威睿电通公司 | Method and system for judging double-end conversation and method and system for eliminating echo |
CN101964670A (en) * | 2009-07-21 | 2011-02-02 | 雅马哈株式会社 | Echo suppression method and apparatus thereof |
Family Cites Families (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
SG71035A1 (en) * | 1997-08-01 | 2000-03-21 | Bitwave Pte Ltd | Acoustic echo canceller |
US7433463B2 (en) * | 2004-08-10 | 2008-10-07 | Clarity Technologies, Inc. | Echo cancellation and noise reduction method |
US8036879B2 (en) * | 2007-05-07 | 2011-10-11 | Qnx Software Systems Co. | Fast acoustic cancellation |
-
2011
- 2011-05-17 CN CN201180072348.6A patent/CN103718538B/en active Active
- 2011-05-17 WO PCT/US2011/036856 patent/WO2012158163A1/en active Application Filing
- 2011-05-17 EP EP11721215.9A patent/EP2710787A1/en not_active Withdrawn
Patent Citations (6)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN1149945A (en) * | 1995-03-03 | 1997-05-14 | 美国电报电话Ipm公司 | Method and apparatus for reducing residual far-end echo in voice communication networks |
CN1223036A (en) * | 1996-06-19 | 1999-07-14 | 诺基亚电信公司 | Echo suppressor and non-linear processor of echo canceller |
CN1332911A (en) * | 1998-10-23 | 2002-01-23 | 艾利森电话股份有限公司 | Methods and apparatus for providing echo suppression using frequency domain nonlinear processing |
US7006458B1 (en) * | 2000-08-16 | 2006-02-28 | 3Com Corporation | Echo canceller disabler for modulated data signals |
CN101964670A (en) * | 2009-07-21 | 2011-02-02 | 雅马哈株式会社 | Echo suppression method and apparatus thereof |
CN101719969A (en) * | 2009-11-26 | 2010-06-02 | 美商威睿电通公司 | Method and system for judging double-end conversation and method and system for eliminating echo |
Also Published As
Publication number | Publication date |
---|---|
CN103718538A (en) | 2014-04-09 |
WO2012158163A1 (en) | 2012-11-22 |
EP2710787A1 (en) | 2014-03-26 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
CN103718538B (en) | The non-linear post-processing method of audio signal and the system of acoustic echo elimination can be realized | |
CN101461257B (en) | Adaptive acoustic echo cancellation | |
JP4424851B2 (en) | Acoustic echo canceller using digital adaptive filter and same filter | |
US9754605B1 (en) | Step-size control for multi-channel acoustic echo canceller | |
US9830900B2 (en) | Adaptive equalizer, acoustic echo canceller device, and active noise control device | |
EP3796629B1 (en) | Double talk detection method, double talk detection device and echo cancellation system | |
CN103688522B (en) | Clock drift compensation method and apparatus | |
US20140064476A1 (en) | Systems and methods of echo & noise cancellation in voice communication | |
US20080240413A1 (en) | Cross-correlation based echo canceller controllers | |
WO2005125168A1 (en) | Echo canceling apparatus, telephone set using the same, and echo canceling method | |
CN102164210A (en) | Systems and methods for echo cancellation and echo suppression | |
US8868416B2 (en) | Apparatus and method for cancelling echo in joint time domain and frequency domain | |
CN109727605B (en) | Method and system for processing sound signal | |
US20080240414A1 (en) | Hybrid echo canceller controllers | |
CN105432062A (en) | Echo removal | |
US8345860B1 (en) | Method and system for detection of onset of near-end signal in an echo cancellation system | |
JP5469564B2 (en) | Multi-channel echo cancellation method, multi-channel echo cancellation apparatus and program thereof | |
WO1999007071A1 (en) | Adaptive filter system having mixed fixed point or floating point and block scale floating point operators | |
US9123324B2 (en) | Non-linear post-processing control in stereo acoustic echo cancellation | |
JP3611493B2 (en) | Echo canceller device | |
CN111989934B (en) | Echo cancellation device, echo cancellation method, signal processing chip, and electronic apparatus | |
KR20220157475A (en) | Echo Residual Suppression | |
KR102218742B1 (en) | Adaptive delay diversity filter, echo cancel device using the same, and echo cancel method thereof | |
EP2710789A1 (en) | Non-linear post-processing for super-wideband acoustic echo cancellation | |
JP6356087B2 (en) | Echo canceling apparatus, method and program |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
C06 | Publication | ||
PB01 | Publication | ||
C10 | Entry into substantive examination | ||
SE01 | Entry into force of request for substantive examination | ||
C14 | Grant of patent or utility model | ||
GR01 | Patent grant | ||
CP01 | Change in the name or title of a patent holder |
Address after: American CaliforniaPatentee after: Google limited liability companyAddress before: American CaliforniaPatentee before: Google Inc. |
|
CP01 | Change in the name or title of a patent holder |