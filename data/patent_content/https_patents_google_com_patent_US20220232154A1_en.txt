US20220232154A1 - Identification/Communication Interface Between Consumer Electronic Devices and Accessory Devices - Google Patents
Identification/Communication Interface Between Consumer Electronic Devices and Accessory Devices Download PDFInfo
- Publication number
- US20220232154A1 US20220232154A1 US17/151,015 US202117151015A US2022232154A1 US 20220232154 A1 US20220232154 A1 US 20220232154A1 US 202117151015 A US202117151015 A US 202117151015A US 2022232154 A1 US2022232154 A1 US 2022232154A1
- Authority
- US
- United States
- Prior art keywords
- electronic
- accessory device
- electronic accessory
- communication lines
- analog voltage
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Granted
Links
- 238000004891 communication Methods 0.000 title claims abstract description 121
- 238000001514 detection method Methods 0.000 claims abstract description 78
- 238000000034 method Methods 0.000 claims description 18
- 230000007704 transition Effects 0.000 claims description 6
- 238000013507 mapping Methods 0.000 claims description 4
- 230000002618 waking effect Effects 0.000 claims description 4
- 230000006870 function Effects 0.000 description 5
- 238000003780 insertion Methods 0.000 description 4
- 230000037431 insertion Effects 0.000 description 4
- 238000005286 illumination Methods 0.000 description 3
- 238000010586 diagram Methods 0.000 description 2
- 230000007246 mechanism Effects 0.000 description 2
- 238000012545 processing Methods 0.000 description 2
- 239000000047 product Substances 0.000 description 2
- 239000013589 supplement Substances 0.000 description 2
- 230000005540 biological transmission Effects 0.000 description 1
- 230000008859 change Effects 0.000 description 1
- 230000001419 dependent effect Effects 0.000 description 1
- 238000013461 design Methods 0.000 description 1
- 230000003287 optical effect Effects 0.000 description 1
- 230000002093 peripheral effect Effects 0.000 description 1
- 230000004044 response Effects 0.000 description 1
- 230000035945 sensitivity Effects 0.000 description 1
- 239000007787 solid Substances 0.000 description 1
- 230000000153 supplemental effect Effects 0.000 description 1
Images
Classifications
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F11/00—Error detection; Error correction; Monitoring
- G06F11/30—Monitoring
- G06F11/3051—Monitoring arrangements for monitoring the configuration of the computing system or of the computing system component, e.g. monitoring the presence of processing resources, peripherals, I/O links, software programs
-
- H04N5/232—
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F13/00—Interconnection of, or transfer of information or other signals between, memories, input/output devices or central processing units
- G06F13/38—Information transfer, e.g. on bus
- G06F13/40—Bus structure
- G06F13/4063—Device-to-bus coupling
- G06F13/4068—Electrical coupling
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F1/00—Details not covered by groups G06F3/00 - G06F13/00 and G06F21/00
- G06F1/26—Power supply means, e.g. regulation thereof
- G06F1/32—Means for saving power
- G06F1/3203—Power management, i.e. event-based initiation of a power-saving mode
- G06F1/3234—Power saving characterised by the action undertaken
- G06F1/3287—Power saving characterised by the action undertaken by switching off individual functional units in the computer system
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F13/00—Interconnection of, or transfer of information or other signals between, memories, input/output devices or central processing units
- G06F13/14—Handling requests for interconnection or transfer
- G06F13/20—Handling requests for interconnection or transfer for access to input/output bus
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F13/00—Interconnection of, or transfer of information or other signals between, memories, input/output devices or central processing units
- G06F13/38—Information transfer, e.g. on bus
- G06F13/40—Bus structure
- G06F13/4004—Coupling between buses
- G06F13/4022—Coupling between buses using switching circuits, e.g. switching matrix, connection or expansion network
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F13/00—Interconnection of, or transfer of information or other signals between, memories, input/output devices or central processing units
- G06F13/38—Information transfer, e.g. on bus
- G06F13/40—Bus structure
- G06F13/4063—Device-to-bus coupling
- G06F13/4068—Electrical coupling
- G06F13/4081—Live connection to bus, e.g. hot-plugging
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F13/00—Interconnection of, or transfer of information or other signals between, memories, input/output devices or central processing units
- G06F13/38—Information transfer, e.g. on bus
- G06F13/40—Bus structure
- G06F13/4063—Device-to-bus coupling
- G06F13/4068—Electrical coupling
- G06F13/4086—Bus impedance matching, e.g. termination
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F13/00—Interconnection of, or transfer of information or other signals between, memories, input/output devices or central processing units
- G06F13/38—Information transfer, e.g. on bus
- G06F13/42—Bus transfer protocol, e.g. handshake; Synchronisation
- G06F13/4282—Bus transfer protocol, e.g. handshake; Synchronisation on a serial bus, e.g. I2C bus, SPI bus
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F13/00—Interconnection of, or transfer of information or other signals between, memories, input/output devices or central processing units
- G06F13/38—Information transfer, e.g. on bus
- G06F13/42—Bus transfer protocol, e.g. handshake; Synchronisation
- G06F13/4282—Bus transfer protocol, e.g. handshake; Synchronisation on a serial bus, e.g. I2C bus, SPI bus
- G06F13/4291—Bus transfer protocol, e.g. handshake; Synchronisation on a serial bus, e.g. I2C bus, SPI bus using a clocked protocol
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N23/00—Cameras or camera modules comprising electronic image sensors; Control thereof
- H04N23/60—Control of cameras or camera modules
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F2213/00—Indexing scheme relating to interconnection of, or transfer of information or other signals between, memories, input/output devices or central processing units
- G06F2213/0016—Inter-integrated circuit (I2C)
Definitions
- This relates to a communication interface between consumer electronic devices and accessories.
- This disclosure describes an interface configured to support accessory device detection, identification, and communication with minimum added cost and optimized efficiency.
- the interface leverages the physical connections of a digital communication bus (e.g., I 2 C) for accessory detection/identification, which requires no additional hardware connections and is thus more cost effective.
- a core device implementing such an interface does not require separate signals for purposes of detecting and identifying accessory devices.
- a core device implementing such an interface can recognize and communicate with different types of accessories using the communication bus.
- a core device implementing such an interface may detect and identify an accessory device before the accessory device powers on, which increases efficiency.
- an accessory interface for an electronic host device comprises a digital communication bus including a plurality of communication lines configured to pass data between the electronic host device and an electronic accessory device.
- the accessory interface further comprises detection circuitry selectively coupled to the plurality of communication lines via a multiplexer.
- the detection circuitry is configured to detect analog voltage levels across the plurality of communication lines, determine a device type of the electronic accessory device based on the detected analog voltage levels, and control the multiplexer to couple the plurality of communication lines to a host processor of the electronic host device upon determining the device type of the electronic accessory device.
- the host processor is configured to receive the device type of the electronic accessory device from the detection circuitry, and transmit data via the plurality of communication lines to the electronic accessory device in accordance with the device type of the electronic accessory device.
- the detected analog voltage levels may include (i) a first analog voltage level across a first of the plurality of communication lines and (ii) a second analog voltage level across a second of the plurality of communication lines.
- the detection circuitry may determine the device type of the electronic accessory device based on a mapping of the first analog voltage level and the second analog voltage level to the device type in a lookup table stored in memory of the detection circuitry.
- the first analog voltage level may be set by a first resistor divider circuit including (i) a first pull-up resistor included in the electronic host device and (ii) a first pull-down resistor included in the electronic accessory device.
- the second analog voltage level may be set by a second resistor divider circuit including (i) a second pull-up resistor included in the electronic host device and (ii) a second pull-down resistor included in the electronic accessory device.
- the first and second pull-up resistors may have fixed resistance values that are independent of the device type of the electronic accessory device, and the first and second pull-down resistors may have resistance values corresponding to the device type of the electronic accessory device.
- FIG. 1 is a system including an accessory device and a host device in a detection/identification state in accordance with some implementations.
- FIG. 2 is a system including an accessory device and a host device in a communication state in accordance with some implementations.
- FIG. 3 is a table that maps interface resistor values and communication line voltages to accessory identifiers in accordance with some implementations.
- FIG. 4 is a table that maps communication line voltages to accessory identifiers in accordance with some implementations.
- FIG. 5 is a flow diagram illustrating an example method of interfacing an electronic host device with an electronic accessory device in accordance with some implementations.
- FIG. 1 is a system 100 including an electronic host device 110 and an electronic accessory device 120 in accordance with some implementations.
- the host device 110 is an electronic device, also referred to as a core device, master device, or main device.
- the host device 110 may be any consumer or non-consumer electronic device having one or more functions that may be enhanced or supplemented by the addition of an accessory device 120 designed to interface with the host device 110 .
- the host device 110 may be a battery-powered or wired indoor or outdoor camera.
- the accessory device 120 is an electronic device, also referred to as an accessory, a slave device, or a secondary device.
- the accessory device 120 may be any consumer or non-consumer electronic device having a function that may enhance or supplement a corresponding function of a host device 110 , or perform a function that the host device 110 cannot perform on its own.
- the host device 110 is a camera
- the accessory device 120 may be a camera stand (e.g., including camera control functionality), a supplemental power supply (e.g., an external battery or a solar panel), a floodlight (e.g., having motion sensing functionality), or any other accessory including electronics that enhance or supplement any of the functionality of the main camera device.
- the accessory device 120 has the ability to handle commands received from the host device 110 .
- the host device 110 is a camera and the accessory device 120 is a floodlight
- the floodlight may implement functions such as lighting schedules, sensitivity to motion, and brightness of illumination by executing commands received from the camera.
- the host device 110 and accessory device 120 may be physically coupled to each other via an accessory interface comprising a communication bus 130 , which includes a plurality of communication lines 131 and 132 .
- the communication lines are physical connections through which digital communications may be passed between a host processor 112 of the host device and an accessory processor 122 of the accessory device.
- the communication bus 130 may pass data signals using a digital communication protocol such as inter-integrated circuit (I 2 C) or serial peripheral interface (SPI).
- I 2 C inter-integrated circuit
- SPI serial peripheral interface
- the communication bus 130 in the system 100 includes two communication lines 131 and 132 (e.g., a serial clock line (SCL) and a serial data line (SDA) for I 2 C communications), the communication bus 130 in other implementations may use any number of communication lines, depending on the underlying communication protocol being used by the host processor 112 and the accessory processor 122 .
- SCL serial clock line
- SDA serial data line
- the host device 110 includes a host processor 112 .
- the host processor 112 is the main processing unit of the host device 110 .
- the host processor 112 is a microcontroller or a system on a chip (SOC).
- the host processor 112 controls the functionality of the host device 110 and the accessory device 120 by executing one or more programs stored in memory of the host device 110 (not shown).
- the host processor directly controls the accessory device 120 after detection circuitry 114 of the host device 110 detects and identifies the accessory device 120 and establishes a communication channel via the communication bus 130 (discussed in more detail below).
- the host processor 112 is powered off or kept in a low power state (e.g., a sleep mode) while it is not being used in order to save power.
- the host device 110 includes detection circuitry 114 .
- the detection circuitry 114 may be a co-processor or microcontroller that monitors the status of the communication lines 131 / 132 , identifies the device type of the accessory device 120 , and routes (or causes to be routed) communications passed via the communication lines 131 / 132 (e.g., control traffic) to the host processor 112 (discussed in more detail below).
- the detection circuitry 114 may be always powered on since it is more energy efficient than the host processor 112 and is required for detecting accessory devices 120 .
- the detection circuitry includes an analog-to-digital converter (ADC) configured to detect respective analog voltage levels of the communication lines 131 / 132 and convert them to digital values for use in identifying the device type of the accessory device 120 (described in more detail below).
- ADC analog-to-digital converter
- the host device 110 includes a multiplexer 116 .
- the multiplexer 116 is a signal switch controlled by the detection circuitry 114 (via a control signal 134 ).
- the multiplexer 116 routes traffic received via the communication lines 131 / 132 either to the host processor 112 or to the detection circuitry 114 .
- the multiplexer 116 is defaulted to directing traffic to the detection circuitry 114 . If the detection circuitry 114 does not detect an accessory device 120 , the detection circuitry 114 does not switch the multiplexer 116 .
- the host device 110 includes two pull-up resistors R3 and R4, each coupled to a respective communication line 131 / 132 . As such, when there is no accessory device 120 coupled to the host device 110 , the voltage levels of the communication lines 131 / 132 are pulled up to logic high (VDD).
- the resistance values of R3 and R4 are fixed. More details regarding resistance values are discussed below.
- the multiplexer 116 directs traffic received via the communication lines 131 / 132 to the detection circuitry 114 , which monitors the state of the communication lines 131 / 132 (if nothing is asserted, both lines remain high).
- the detection circuitry 114 detects the voltage levels of the communication lines 131 / 132 via lines 131 a / 132 a in order to determine the device type of the accessory device 120 (discussed in more detail below). After detecting the device type of the accessory device 120 , the detection circuitry 114 toggles the multiplexer 116 to couple the communication lines 131 / 132 to the host processor 112 via lines 131 b / 132 b.
- the accessory device 120 includes an accessory processor 122 .
- the accessory processor 122 may be the main processing unit of the accessory device 120 , and it may be a processor, microcontroller, or system on a chip (SOC).
- the accessory processor 122 receives commands via the communication lines 131 / 132 from the host processor 112 of the host device 110 , and executes the commands locally at the accessory device 120 .
- the accessory device 120 includes two pull-down resistors R1 and R2, each coupled to a respective communication line 131 / 132 .
- the resistance values of R1 and R2 are unique to the device type of the accessory device 120 (also referred to as the accessory type, accessory identifier, or accessory ID). Different combinations of resistance values of R1 and R2 correspond to different device types for accessory devices 120 .
- the resistance values of R1 and R2 form respective resistor dividers with the pull-up resistors R3 and R4 when the accessory device 120 gets connected to the host device 110 .
- the resistance values of R1 and R2 directly influence the respective voltage levels measured by the detection circuitry 114 of each respective communication line 131 / 132 , therefore providing a basis for identifying the device type of the accessory device 120 (described in more detail below).
- the host device 110 works in two major states: (i) an accessory detection/identification state as depicted in FIG. 1 , and (ii) an accessory communication state as depicted in FIG. 2 .
- thicker lines depict active signals and blocks, and thinner lines depict inactive signals and blocks.
- FIG. 1 depicts the accessory detection/identification state, which is the starting state for the host device 110 .
- the detection circuitry 114 routes signals received via the communication lines 131 / 132 to its ADC through the multiplexer 116 .
- respective voltage levels on the communication lines 131 / 132 are pulled up to logic high (VDD).
- the detection circuitry 114 monitors the voltage levels on these two lines regularly to determine whether an accessory device 120 is attached to the host device 110 .
- the pull-down resistors R1 and R2 in the accessory device 120 pull down the respective voltage levels on the communication lines 131 / 132 by forming respective resistor dividers with the pull-up resistors R3 and R4 in the host device 110 .
- the voltage level of communication line 131 is equal to R1/(R1+R3)*VDD
- the voltage level of communication line 132 is equal to R2/(R2+R4)*VDD.
- the detection circuitry 114 will measure different voltage levels on the communication lines 131 / 132 .
- the detection circuitry 114 looks up the voltage levels in a predefined table (e.g., table 400 , FIG. 4 ) stored in memory of the detection circuitry (not shown) and determines the device type (accessory ID) of the accessory device 120 by matching the voltage levels to the accessory ID. The detection circuitry 114 then communicates the determined accessory ID to the host processor 112 (via inter-processor signal 136 ). The host processor 112 may keep a table of valid accessories and various settings and protocols corresponding to each accessory ID.
- a predefined table e.g., table 400 , FIG. 4
- the host processor 112 may keep a table of valid accessories and various settings and protocols corresponding to each accessory ID.
- communicating the determined accessory ID to the host processor 112 includes waking the host processor 112 from a low power state. Upon waking, the host processor 112 receives the accessory ID from the detection circuitry 114 .
- the detection circuitry 114 Upon detecting the accessory device 120 and determining its device type (accessory ID), the detection circuitry 114 toggles the multiplexer 116 (via control signal 134 ) to route the accessory communication traffic (conveyed via the communication lines 131 / 132 ) to the host processor 112 via lines 131 b / 132 b .
- the toggling of the multiplexer 116 in this manner facilitates switching of the host device 110 to the accessory communication state as shown in FIG. 2 .
- FIG. 2 depicts the accessory communication state.
- the host processor 112 communicates with the accessory processor 122 via the communication lines 131 / 132 (and coupled through liens 131 b / 132 b ) using a communication protocol (e.g., I 2 C).
- a communication protocol e.g., I 2 C
- Communications between the host processor 112 and the accessory processor 122 may include the transmission of commands and/or data from the host processor 112 to the accessory processor 122 in accordance with the device type of the accessory device 120 (e.g., by transmitting a command or data that is specific to the device type of the accessory device 120 , such as an illumination brightness setting for a floodlight accessory or a pan/tilt setting for a camera stand accessory).
- the underlying communications protocol between the host processor 112 and the accessory processor 122 may optionally be determined by the device type of the accessory device 120 .
- the host processor 112 may indirectly control the multiplexer 116 (through the detection circuitry 114 ) to route signals on communications on lines 131 / 132 from a first plurality of communication pins of the host processor 112 (e.g., pins supporting I 2 C communications) to a second plurality of communication pins of the host processor 112 (e.g., pins supporting SPI or UART communications).
- the host processor 112 may send an inter-processor control signal 136 to the detection circuitry 114 to indirectly control the multiplexer 116 to switch back to lines 131 a / 132 a , which couples the communication lines 131 / 132 to the detection circuitry, thereby switching the host device 110 back to the accessory detection state ( FIG. 1 ).
- the host processor 112 may transition back to the low power state upon causing the multiplexer 116 to toggle the communication lines 131 / 132 back to the detection circuitry 114 .
- the host processor may transition to the low power state, or perform a duty cycle, according to a power-saving protocol.
- the host processor 112 may send a request to the detection circuitry 114 to check that the accessory device 120 is still attached to the host device 110 .
- the detection circuitry 114 switches the multiplexer 116 to couple the communication liens 131 / 132 to the detection circuitry 114 via lines 131 a / 132 a .
- the detection circuitry 114 determines there is no accessory device 120 attached (e.g., the voltage levels for the communication lines 131 / 132 are VDD), then the host processor may be prevented from fully powering on, which saves battery life in battery-powered host devices 110 .
- FIG. 3 is a table 300 depicting example resistor values for the pull-down resistors R1/R2 of the accessory device 120 , the pull-up resistors R3/R4 of the host device 110 , and an example mapping of the different pull-down resistor values to different accessory IDs.
- the values of R1 and R2 may be chosen so that they pull down the voltage levels of lines 131 / 132 by a large enough amount for the detection circuitry 114 (e.g., the ADC) to differentiate between the various voltage levels, while keeping the voltage levels higher than the minimum voltage threshold of both the accessory processor 122 and the host processor 112 communication interfaces.
- the resistance values in table 300 are examples, and other resistance values and combinations of resistance values may be chosen as long as they (i) cause the voltage levels for lines 131 / 132 to meet minimum voltage thresholds for digital communications over the communication lines 131 / 132 as discussed above, and (ii) cause a difference between successive voltage levels to satisfy a minimum resolution requirement of the ADC of the detection circuitry as discussed above.
- the underlying communication protocol is I 2 C
- VDD is 1.8V
- the voltage for lines 131 / 132 at the accessory device 120 may go down to 1.2V and still satisfy the I 2 C specification.
- there is a 0.6V margin (from 0.667*VDD to 1.000*VDD) through which various voltage levels may span.
- each accessory ID in the table 300 may be assigned to a group of accessories (e.g., a camera type).
- the host processor 112 may communicate with the accessory device 120 via the communication lines 131 / 132 in order to determine a more specific device type (e.g., a specific model of the camera type).
- the host processor 112 may poll or interrogate a memory (e.g., an electrically erasable programmable read-only memory (EEPROM), not shown) of the accessory device 120 to obtain additional information about the specific type of accessory device 120 (additional device type information corresponding to the more general accessory ID in the table 300 ).
- a memory e.g., an electrically erasable programmable read-only memory (EEPROM), not shown
- EEPROM electrically erasable programmable read-only memory
- FIG. 4 is a table 400 depicting a mapping of the various combinations of voltage levels for the communication lines 131 / 132 to different accessory IDS.
- the values in table 400 correspond to the values in table 300 .
- Table 400 may be stored in memory included in or otherwise associated with the detection circuitry 114 and/or the host processor 112 .
- the system 100 as described above allows for live insertion of an accessory device 120 into a host device 110 .
- the host device 110 may not require additional security overhead, because all of the commands may be driven by the host device 110 (e.g., the camera).
- Live insertion with a standard interface e.g., I 2 C
- I 2 C allows for the use of accessory attachments after-the-fact from a security point of view.
- quick configuration changes may be implemented with live insertion.
- the camera may detect/identify the flood light and change the camera's configuration (e.g., turn off power-intensive on-board illumination circuitry).
- FIG. 5 is a flow diagram illustrating an example method 500 of interfacing an electronic host device (e.g., 110 ) with an electronic accessory device (e.g., 120 ) in accordance with some implementations.
- Method 500 is, optionally, governed by instructions that are stored in a computer memory or non-transitory computer readable storage medium included in or associated with the host device and/or the accessory device, and that are executed by one or more processors of the host device (e.g., host processor 112 and detection circuitry 114 ) and/or the accessory device (e.g., accessory processor 122 ).
- the computer readable storage medium may include a magnetic or optical disk storage device, solid state storage devices such as Flash memory, or other non-volatile memory device or devices.
- the instructions stored on the computer readable storage medium may include one or more of: source code, assembly language code, object code, or other instruction format that is interpreted by the one or more processors. Some operations in method 500 may be combined and/or the order of some operations may be changed. Reference numbers in the description below may refer to features described above with reference to FIGS. 1-4 to illustrate example features of the various operations recited with reference to method 500 .
- the detection circuitry 114 detects (operation 502 ) analog voltage levels across the plurality of communication lines 131 / 132 .
- the detection circuitry 114 determines (operation 504 ) a device type of the electronic accessory device based on the detected analog voltage levels (e.g., by looking up the device type in a table 400 indexed by the analog voltage levels).
- the detection circuitry 114 transitions (operation 506 ) to a communication mode of the host device 110 by (i) controlling the multiplexer 116 to couple the plurality of communication lines 131 / 132 to the host processor 112 of the electronic host device 110 upon determining the device type of the electronic accessory device 120 and (ii) transmitting the device type to the host processor 112 (and optionally waking the host processor 112 from a low power state).
- the host processor 112 Upon receiving the device type of the electronic accessory device 120 from the detection circuitry 114 , the host processor 112 transmits (operation 508 ) data and/or commands via the plurality of communication lines 131 / 132 to the electronic accessory device 120 in accordance with the device type of the electronic accessory device (e.g., transmitting a command that is specific to the device type of the electronic accessory device 120 ).
- the detected analog voltage levels may include (i) a first analog voltage level across a first of the plurality of communication lines and (ii) a second analog voltage level across a second of the plurality of communication lines, and the detection circuitry 114 determines the device type of the electronic accessory device 120 by matching the first analog voltage level and the second analog voltage level (the left and center columns of table 400 ) to the device type (the right column of table 400 ) in a lookup table stored in memory of the detection circuitry (table 400 ).
- the first analog voltage level is set by a first resistor divider circuit including (i) a first pull-up resistor R3 included in the electronic host device 110 and (ii) a first pull-down resistor R1 included in the electronic accessory device 120 ; and the second analog voltage level is set by a second resistor divider circuit including (i) a second pull-up resistor R4 included in the electronic host device 110 and (ii) a second pull-down resistor R2 included in the electronic accessory device 120 .
- the first and second pull-up resistors R3/R4 may have fixed resistance values that are independent of the device type of the electronic accessory device; and the first and second pull-down resistors R1/R2 may have resistance values corresponding to the device type of the electronic accessory device 120 .
- the detection circuitry 114 includes an ADC configured to detect the first and second analog voltage levels; and the first and second pull-down resistors R1/R2 have resistance values that (i) cause the first and second analog voltage levels to be greater than or equal to a minimum voltage threshold for digital communications over the plurality of communication lines, and (ii) cause a difference between the first and second analog voltage levels to satisfy a minimum resolution requirement of the ADC.
- the host processor upon receiving the device type of the electronic accessory device from the detection circuitry, polls a memory of the accessory device to determine additional device type information of the electronic accessory device, and transmits the data via the plurality of communication lines to the electronic accessory device in accordance with the additional device type information of the electronic accessory device.
- the host processor upon disconnection of the electronic accessory device 120 from the electronic host device 110 , the host processor (i) sends a command to the detection circuitry 114 to control the multiplexer 116 to couple the plurality of communication lines 131 / 132 to the detection circuitry 114 , and (ii) transitions to a low power state.
- the singular forms “a”, “an,” and “the” include the plural forms as well, unless the context clearly indicates otherwise; the term “and/or” encompasses all possible combinations of one or more of the associated listed items; the terms “first,” “second,” etc. are only used to distinguish one element from another and do not limit the elements themselves; the term “if” may be construed to mean “when,” “upon,” “in response to,” or “in accordance with,” depending on the context; and the terms “include,” “including,” “comprise,” and “comprising” specify particular features or operations but do not preclude additional features or operations.
Abstract
Description
- This relates to a communication interface between consumer electronic devices and accessories.
- In the market of consumer electronic devices (e.g., cameras), adding modular accessory devices to the core product may provide more functionality and increase options for customization. With an expanding ecosystem of accessory devices for a given core product, interface mechanisms must be developed and supported in order to allow the core device to detect and communicate with the different types of accessory devices in the ecosystem. Such mechanisms may add hardware requirements, thereby increasing cost and adding inefficiencies in the modular design.
- This disclosure describes an interface configured to support accessory device detection, identification, and communication with minimum added cost and optimized efficiency. The interface leverages the physical connections of a digital communication bus (e.g., I2C) for accessory detection/identification, which requires no additional hardware connections and is thus more cost effective. A core device implementing such an interface does not require separate signals for purposes of detecting and identifying accessory devices. As such, a core device implementing such an interface can recognize and communicate with different types of accessories using the communication bus. Further, a core device implementing such an interface may detect and identify an accessory device before the accessory device powers on, which increases efficiency.
- In one aspect, an accessory interface for an electronic host device comprises a digital communication bus including a plurality of communication lines configured to pass data between the electronic host device and an electronic accessory device. The accessory interface further comprises detection circuitry selectively coupled to the plurality of communication lines via a multiplexer. The detection circuitry is configured to detect analog voltage levels across the plurality of communication lines, determine a device type of the electronic accessory device based on the detected analog voltage levels, and control the multiplexer to couple the plurality of communication lines to a host processor of the electronic host device upon determining the device type of the electronic accessory device. The host processor is configured to receive the device type of the electronic accessory device from the detection circuitry, and transmit data via the plurality of communication lines to the electronic accessory device in accordance with the device type of the electronic accessory device.
- The detected analog voltage levels may include (i) a first analog voltage level across a first of the plurality of communication lines and (ii) a second analog voltage level across a second of the plurality of communication lines. The detection circuitry may determine the device type of the electronic accessory device based on a mapping of the first analog voltage level and the second analog voltage level to the device type in a lookup table stored in memory of the detection circuitry. The first analog voltage level may be set by a first resistor divider circuit including (i) a first pull-up resistor included in the electronic host device and (ii) a first pull-down resistor included in the electronic accessory device. The second analog voltage level may be set by a second resistor divider circuit including (i) a second pull-up resistor included in the electronic host device and (ii) a second pull-down resistor included in the electronic accessory device. The first and second pull-up resistors may have fixed resistance values that are independent of the device type of the electronic accessory device, and the first and second pull-down resistors may have resistance values corresponding to the device type of the electronic accessory device.
- For a better understanding of the various described implementations, reference should be made to the Detailed Description below, in conjunction with the following drawings in which like reference numerals refer to corresponding parts throughout the figures.
-
FIG. 1 is a system including an accessory device and a host device in a detection/identification state in accordance with some implementations. -
FIG. 2 is a system including an accessory device and a host device in a communication state in accordance with some implementations. -
FIG. 3 is a table that maps interface resistor values and communication line voltages to accessory identifiers in accordance with some implementations. -
FIG. 4 is a table that maps communication line voltages to accessory identifiers in accordance with some implementations. -
FIG. 5 is a flow diagram illustrating an example method of interfacing an electronic host device with an electronic accessory device in accordance with some implementations. -
FIG. 1 is asystem 100 including anelectronic host device 110 and anelectronic accessory device 120 in accordance with some implementations. - The
host device 110 is an electronic device, also referred to as a core device, master device, or main device. In general, thehost device 110 may be any consumer or non-consumer electronic device having one or more functions that may be enhanced or supplemented by the addition of anaccessory device 120 designed to interface with thehost device 110. For example, thehost device 110 may be a battery-powered or wired indoor or outdoor camera. - The
accessory device 120 is an electronic device, also referred to as an accessory, a slave device, or a secondary device. In general, theaccessory device 120 may be any consumer or non-consumer electronic device having a function that may enhance or supplement a corresponding function of ahost device 110, or perform a function that thehost device 110 cannot perform on its own. For the example in which thehost device 110 is a camera, theaccessory device 120 may be a camera stand (e.g., including camera control functionality), a supplemental power supply (e.g., an external battery or a solar panel), a floodlight (e.g., having motion sensing functionality), or any other accessory including electronics that enhance or supplement any of the functionality of the main camera device. Theaccessory device 120 has the ability to handle commands received from thehost device 110. For example, if thehost device 110 is a camera and theaccessory device 120 is a floodlight, the floodlight may implement functions such as lighting schedules, sensitivity to motion, and brightness of illumination by executing commands received from the camera. - The
host device 110 andaccessory device 120 may be physically coupled to each other via an accessory interface comprising acommunication bus 130, which includes a plurality ofcommunication lines host processor 112 of the host device and anaccessory processor 122 of the accessory device. Thecommunication bus 130 may pass data signals using a digital communication protocol such as inter-integrated circuit (I2C) or serial peripheral interface (SPI). While thecommunication bus 130 in thesystem 100 includes twocommunication lines 131 and 132 (e.g., a serial clock line (SCL) and a serial data line (SDA) for I2C communications), thecommunication bus 130 in other implementations may use any number of communication lines, depending on the underlying communication protocol being used by thehost processor 112 and theaccessory processor 122. - The
host device 110 includes ahost processor 112. Thehost processor 112 is the main processing unit of thehost device 110. For example, thehost processor 112 is a microcontroller or a system on a chip (SOC). Thehost processor 112 controls the functionality of thehost device 110 and theaccessory device 120 by executing one or more programs stored in memory of the host device 110 (not shown). Specifically, the host processor directly controls theaccessory device 120 afterdetection circuitry 114 of thehost device 110 detects and identifies theaccessory device 120 and establishes a communication channel via the communication bus 130 (discussed in more detail below). In some implementations, thehost processor 112 is powered off or kept in a low power state (e.g., a sleep mode) while it is not being used in order to save power. - The
host device 110 includesdetection circuitry 114. Thedetection circuitry 114 may be a co-processor or microcontroller that monitors the status of thecommunication lines 131/132, identifies the device type of theaccessory device 120, and routes (or causes to be routed) communications passed via thecommunication lines 131/132 (e.g., control traffic) to the host processor 112 (discussed in more detail below). In some implementations, thedetection circuitry 114 may be always powered on since it is more energy efficient than thehost processor 112 and is required for detectingaccessory devices 120. In some implementations, the detection circuitry includes an analog-to-digital converter (ADC) configured to detect respective analog voltage levels of thecommunication lines 131/132 and convert them to digital values for use in identifying the device type of the accessory device 120 (described in more detail below). - The
host device 110 includes amultiplexer 116. Themultiplexer 116 is a signal switch controlled by the detection circuitry 114 (via a control signal 134). Themultiplexer 116 routes traffic received via thecommunication lines 131/132 either to thehost processor 112 or to thedetection circuitry 114. Themultiplexer 116 is defaulted to directing traffic to thedetection circuitry 114. If thedetection circuitry 114 does not detect anaccessory device 120, thedetection circuitry 114 does not switch themultiplexer 116. - The
host device 110 includes two pull-up resistors R3 and R4, each coupled to arespective communication line 131/132. As such, when there is noaccessory device 120 coupled to thehost device 110, the voltage levels of thecommunication lines 131/132 are pulled up to logic high (VDD). The resistance values of R3 and R4 are fixed. More details regarding resistance values are discussed below. - Before an
accessory device 120 is attached, themultiplexer 116 directs traffic received via thecommunication lines 131/132 to thedetection circuitry 114, which monitors the state of thecommunication lines 131/132 (if nothing is asserted, both lines remain high). When anaccessory device 120 gets connected to thehost device 110, two pull-down resistors R1 and R2 in theaccessory device 120 form respective voltage paths between VDD and ground. Thedetection circuitry 114 detects the voltage levels of thecommunication lines 131/132 vialines 131 a/132 a in order to determine the device type of the accessory device 120 (discussed in more detail below). After detecting the device type of theaccessory device 120, thedetection circuitry 114 toggles themultiplexer 116 to couple thecommunication lines 131/132 to thehost processor 112 vialines 131 b/132 b. - The
accessory device 120 includes anaccessory processor 122. Theaccessory processor 122 may be the main processing unit of theaccessory device 120, and it may be a processor, microcontroller, or system on a chip (SOC). Theaccessory processor 122 receives commands via thecommunication lines 131/132 from thehost processor 112 of thehost device 110, and executes the commands locally at theaccessory device 120. - The
accessory device 120 includes two pull-down resistors R1 and R2, each coupled to arespective communication line 131/132. As such, when theaccessory device 120 gets connected to thehost device 110, the pull-down resistors R1 and R2 in theaccessory device 120 form respective voltage paths between VDD and ground. The resistance values of R1 and R2 are unique to the device type of the accessory device 120 (also referred to as the accessory type, accessory identifier, or accessory ID). Different combinations of resistance values of R1 and R2 correspond to different device types foraccessory devices 120. The resistance values of R1 and R2 form respective resistor dividers with the pull-up resistors R3 and R4 when theaccessory device 120 gets connected to thehost device 110. As such, the resistance values of R1 and R2 directly influence the respective voltage levels measured by thedetection circuitry 114 of eachrespective communication line 131/132, therefore providing a basis for identifying the device type of the accessory device 120 (described in more detail below). - The
host device 110 works in two major states: (i) an accessory detection/identification state as depicted inFIG. 1 , and (ii) an accessory communication state as depicted inFIG. 2 . In each figure, thicker lines depict active signals and blocks, and thinner lines depict inactive signals and blocks. -
FIG. 1 depicts the accessory detection/identification state, which is the starting state for thehost device 110. In this state, thedetection circuitry 114 routes signals received via thecommunication lines 131/132 to its ADC through themultiplexer 116. - Before an
accessory device 120 is attached to thehost device 110, respective voltage levels on thecommunication lines 131/132 are pulled up to logic high (VDD). Thedetection circuitry 114 monitors the voltage levels on these two lines regularly to determine whether anaccessory device 120 is attached to thehost device 110. - After an
accessory device 120 is attached to thehost device 110, the pull-down resistors R1 and R2 in theaccessory device 120 pull down the respective voltage levels on thecommunication lines 131/132 by forming respective resistor dividers with the pull-up resistors R3 and R4 in thehost device 110. Specifically, the voltage level ofcommunication line 131 is equal to R1/(R1+R3)*VDD, and the voltage level ofcommunication line 132 is equal to R2/(R2+R4)*VDD. Depending on the resistance values of the pull-down resistors R1 and R2, thedetection circuitry 114 will measure different voltage levels on thecommunication lines 131/132. - The
detection circuitry 114 looks up the voltage levels in a predefined table (e.g., table 400,FIG. 4 ) stored in memory of the detection circuitry (not shown) and determines the device type (accessory ID) of theaccessory device 120 by matching the voltage levels to the accessory ID. Thedetection circuitry 114 then communicates the determined accessory ID to the host processor 112 (via inter-processor signal 136). Thehost processor 112 may keep a table of valid accessories and various settings and protocols corresponding to each accessory ID. - In some implementations, communicating the determined accessory ID to the
host processor 112 includes waking thehost processor 112 from a low power state. Upon waking, thehost processor 112 receives the accessory ID from thedetection circuitry 114. - Upon detecting the
accessory device 120 and determining its device type (accessory ID), thedetection circuitry 114 toggles the multiplexer 116 (via control signal 134) to route the accessory communication traffic (conveyed via thecommunication lines 131/132) to thehost processor 112 vialines 131 b/132 b. The toggling of themultiplexer 116 in this manner facilitates switching of thehost device 110 to the accessory communication state as shown inFIG. 2 . -
FIG. 2 depicts the accessory communication state. In this state, thehost processor 112 communicates with theaccessory processor 122 via thecommunication lines 131/132 (and coupled throughliens 131 b/132 b) using a communication protocol (e.g., I2C). - Communications between the
host processor 112 and theaccessory processor 122 may include the transmission of commands and/or data from thehost processor 112 to theaccessory processor 122 in accordance with the device type of the accessory device 120 (e.g., by transmitting a command or data that is specific to the device type of theaccessory device 120, such as an illumination brightness setting for a floodlight accessory or a pan/tilt setting for a camera stand accessory). - The underlying communications protocol between the
host processor 112 and theaccessory processor 122 may optionally be determined by the device type of theaccessory device 120. For example, depending on the requirements associated with a particular Accessory ID, thehost processor 112 may indirectly control the multiplexer 116 (through the detection circuitry 114) to route signals on communications onlines 131/132 from a first plurality of communication pins of the host processor 112 (e.g., pins supporting I2C communications) to a second plurality of communication pins of the host processor 112 (e.g., pins supporting SPI or UART communications). - Upon disconnection of the
accessory device 120 from thehost device 110, thehost processor 112 may send aninter-processor control signal 136 to thedetection circuitry 114 to indirectly control themultiplexer 116 to switch back tolines 131 a/132 a, which couples thecommunication lines 131/132 to the detection circuitry, thereby switching thehost device 110 back to the accessory detection state (FIG. 1 ). Thehost processor 112 may transition back to the low power state upon causing themultiplexer 116 to toggle thecommunication lines 131/132 back to thedetection circuitry 114. - Optionally, while in the accessory communication state (
FIG. 2 ), the host processor may transition to the low power state, or perform a duty cycle, according to a power-saving protocol. While in the low-power state, thehost processor 112 may send a request to thedetection circuitry 114 to check that theaccessory device 120 is still attached to thehost device 110. As a result, thedetection circuitry 114 switches themultiplexer 116 to couple thecommunication liens 131/132 to thedetection circuitry 114 vialines 131 a/132 a. If thedetection circuitry 114 determines there is noaccessory device 120 attached (e.g., the voltage levels for thecommunication lines 131/132 are VDD), then the host processor may be prevented from fully powering on, which saves battery life in battery-poweredhost devices 110. -
FIG. 3 is a table 300 depicting example resistor values for the pull-down resistors R1/R2 of theaccessory device 120, the pull-up resistors R3/R4 of thehost device 110, and an example mapping of the different pull-down resistor values to different accessory IDs. The values of R1 and R2 may be chosen so that they pull down the voltage levels oflines 131/132 by a large enough amount for the detection circuitry 114 (e.g., the ADC) to differentiate between the various voltage levels, while keeping the voltage levels higher than the minimum voltage threshold of both theaccessory processor 122 and thehost processor 112 communication interfaces. - The resistance values in table 300 are examples, and other resistance values and combinations of resistance values may be chosen as long as they (i) cause the voltage levels for
lines 131/132 to meet minimum voltage thresholds for digital communications over thecommunication lines 131/132 as discussed above, and (ii) cause a difference between successive voltage levels to satisfy a minimum resolution requirement of the ADC of the detection circuitry as discussed above. For example, if the underlying communication protocol is I2C, VDD is 1.8V, and the voltage forlines 131/132 at theaccessory device 120 may go down to 1.2V and still satisfy the I2C specification. As such, there is a 0.6V margin (from 0.667*VDD to 1.000*VDD) through which various voltage levels may span. - As described above, the number of different accessory IDs that can be mapped to different voltage combinations may be limited by (i) minimum voltage thresholds for digital communications, and (ii) ADC resolution. In some implementations, additional steps may taken in order to increase the number of different accessory IDs. For instance, in order to support additional accessory device types, each accessory ID in the table 300 may be assigned to a group of accessories (e.g., a camera type). Following the transition to the communication state (
FIG. 2 ), thehost processor 112 may communicate with theaccessory device 120 via thecommunication lines 131/132 in order to determine a more specific device type (e.g., a specific model of the camera type). For example, in communicating with theaccessory device 120 to determine a more specific device type, thehost processor 112 may poll or interrogate a memory (e.g., an electrically erasable programmable read-only memory (EEPROM), not shown) of theaccessory device 120 to obtain additional information about the specific type of accessory device 120 (additional device type information corresponding to the more general accessory ID in the table 300). -
FIG. 4 is a table 400 depicting a mapping of the various combinations of voltage levels for thecommunication lines 131/132 to different accessory IDS. The values in table 400 correspond to the values in table 300. Table 400 may be stored in memory included in or otherwise associated with thedetection circuitry 114 and/or thehost processor 112. - The
system 100 as described above allows for live insertion of anaccessory device 120 into ahost device 110. With the automatic detection features of thedetection circuitry 114 and live insertion, thehost device 110 may not require additional security overhead, because all of the commands may be driven by the host device 110 (e.g., the camera). Live insertion with a standard interface (e.g., I2C) allows for the use of accessory attachments after-the-fact from a security point of view. In addition, quick configuration changes may be implemented with live insertion. For example, as soon as a floodlight (accessory device 120) is plugged into a camera (host device 110), the camera may detect/identify the flood light and change the camera's configuration (e.g., turn off power-intensive on-board illumination circuitry). -
FIG. 5 is a flow diagram illustrating anexample method 500 of interfacing an electronic host device (e.g., 110) with an electronic accessory device (e.g., 120) in accordance with some implementations.Method 500 is, optionally, governed by instructions that are stored in a computer memory or non-transitory computer readable storage medium included in or associated with the host device and/or the accessory device, and that are executed by one or more processors of the host device (e.g.,host processor 112 and detection circuitry 114) and/or the accessory device (e.g., accessory processor 122). The computer readable storage medium may include a magnetic or optical disk storage device, solid state storage devices such as Flash memory, or other non-volatile memory device or devices. The instructions stored on the computer readable storage medium may include one or more of: source code, assembly language code, object code, or other instruction format that is interpreted by the one or more processors. Some operations inmethod 500 may be combined and/or the order of some operations may be changed. Reference numbers in the description below may refer to features described above with reference toFIGS. 1-4 to illustrate example features of the various operations recited with reference tomethod 500. - At
detection circuitry 114 selectively coupled, via amultiplexer 116, to a plurality ofcommunication lines 131/132 of adigital communication bus 130 configured to pass data between theelectronic host device 110 and theelectronic accessory device 120, thedetection circuitry 114 detects (operation 502) analog voltage levels across the plurality ofcommunication lines 131/132. Thedetection circuitry 114 determines (operation 504) a device type of the electronic accessory device based on the detected analog voltage levels (e.g., by looking up the device type in a table 400 indexed by the analog voltage levels). Thedetection circuitry 114 transitions (operation 506) to a communication mode of thehost device 110 by (i) controlling themultiplexer 116 to couple the plurality ofcommunication lines 131/132 to thehost processor 112 of theelectronic host device 110 upon determining the device type of theelectronic accessory device 120 and (ii) transmitting the device type to the host processor 112 (and optionally waking thehost processor 112 from a low power state). Upon receiving the device type of theelectronic accessory device 120 from thedetection circuitry 114, thehost processor 112 transmits (operation 508) data and/or commands via the plurality ofcommunication lines 131/132 to theelectronic accessory device 120 in accordance with the device type of the electronic accessory device (e.g., transmitting a command that is specific to the device type of the electronic accessory device 120). - In some implementations, the detected analog voltage levels may include (i) a first analog voltage level across a first of the plurality of communication lines and (ii) a second analog voltage level across a second of the plurality of communication lines, and the
detection circuitry 114 determines the device type of theelectronic accessory device 120 by matching the first analog voltage level and the second analog voltage level (the left and center columns of table 400) to the device type (the right column of table 400) in a lookup table stored in memory of the detection circuitry (table 400). - In some implementations, the first analog voltage level is set by a first resistor divider circuit including (i) a first pull-up resistor R3 included in the
electronic host device 110 and (ii) a first pull-down resistor R1 included in theelectronic accessory device 120; and the second analog voltage level is set by a second resistor divider circuit including (i) a second pull-up resistor R4 included in theelectronic host device 110 and (ii) a second pull-down resistor R2 included in theelectronic accessory device 120. The first and second pull-up resistors R3/R4 may have fixed resistance values that are independent of the device type of the electronic accessory device; and the first and second pull-down resistors R1/R2 may have resistance values corresponding to the device type of theelectronic accessory device 120. - In some implementations, the
detection circuitry 114 includes an ADC configured to detect the first and second analog voltage levels; and the first and second pull-down resistors R1/R2 have resistance values that (i) cause the first and second analog voltage levels to be greater than or equal to a minimum voltage threshold for digital communications over the plurality of communication lines, and (ii) cause a difference between the first and second analog voltage levels to satisfy a minimum resolution requirement of the ADC. - In some implementations, upon receiving the device type of the electronic accessory device from the detection circuitry, the host processor polls a memory of the accessory device to determine additional device type information of the electronic accessory device, and transmits the data via the plurality of communication lines to the electronic accessory device in accordance with the additional device type information of the electronic accessory device.
- In some implementations, upon disconnection of the
electronic accessory device 120 from theelectronic host device 110, the host processor (i) sends a command to thedetection circuitry 114 to control themultiplexer 116 to couple the plurality ofcommunication lines 131/132 to thedetection circuitry 114, and (ii) transitions to a low power state. - The foregoing description has been described with reference to specific implementations. However, the illustrative discussions above are not intended to be exhaustive or to limit the claims to the precise forms disclosed. Many variations are possible in view of the above teachings. The implementations were chosen and described to best explain principles of operation and practical applications, to thereby enable others skilled in the art.
- The various drawings illustrate a number of elements in a particular order. However, elements that are not order dependent may be reordered and other elements may be combined or separated. While some reordering or other groupings are specifically mentioned, others will be obvious to those of ordinary skill in the art, so the ordering and groupings presented herein are not an exhaustive list of alternatives.
- As used herein: the singular forms “a”, “an,” and “the” include the plural forms as well, unless the context clearly indicates otherwise; the term “and/or” encompasses all possible combinations of one or more of the associated listed items; the terms “first,” “second,” etc. are only used to distinguish one element from another and do not limit the elements themselves; the term “if” may be construed to mean “when,” “upon,” “in response to,” or “in accordance with,” depending on the context; and the terms “include,” “including,” “comprise,” and “comprising” specify particular features or operations but do not preclude additional features or operations.
Claims (20)
Priority Applications (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US17/151,015 US11934285B2 (en) | 2021-01-15 | 2021-01-15 | Identification/communication interface between consumer electronic devices and accessory devices |
EP22151454.0A EP4030306A1 (en) | 2021-01-15 | 2022-01-13 | Identification/communication interface between consumer electronic devices and accessory devices |
Applications Claiming Priority (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US17/151,015 US11934285B2 (en) | 2021-01-15 | 2021-01-15 | Identification/communication interface between consumer electronic devices and accessory devices |
Publications (2)
Publication Number | Publication Date |
---|---|
US20220232154A1 true US20220232154A1 (en) | 2022-07-21 |
US11934285B2 US11934285B2 (en) | 2024-03-19 |
Family
ID=79602249
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US17/151,015 Active 2042-07-24 US11934285B2 (en) | 2021-01-15 | 2021-01-15 | Identification/communication interface between consumer electronic devices and accessory devices |
Country Status (2)
Country | Link |
---|---|
US (1) | US11934285B2 (en) |
EP (1) | EP4030306A1 (en) |
Citations (13)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6856046B1 (en) * | 2002-03-08 | 2005-02-15 | Analog Devices, Inc. | Plug-in device discrimination circuit and method |
US7865629B1 (en) * | 2009-11-24 | 2011-01-04 | Microsoft Corporation | Configurable connector for system-level communication |
US20110057711A1 (en) * | 2009-09-07 | 2011-03-10 | Htc Corporation | Electronic device and system and method thereof for identifying electronic accessory and controlling electronic device |
US20110093643A1 (en) * | 2009-10-21 | 2011-04-21 | Htc Corporation | Electronic device and method thereof for identifying electronic accessory |
US20110099298A1 (en) * | 2009-10-27 | 2011-04-28 | Fairchild Semiconductor Corporation | Method of detecting accessories on an audio jack |
US20120265911A1 (en) * | 2011-04-11 | 2012-10-18 | Fairchild Semiconductor Corporation | Mobile device auto detection apparatus and method |
US20120290742A1 (en) * | 2011-05-09 | 2012-11-15 | Hon Hai Precision Industry Co., Ltd. | Portable electronic device having multifunctional audio port |
US20140270201A1 (en) * | 2013-03-15 | 2014-09-18 | Apple Inc. | Audio accessory with internal clock |
US20150304769A1 (en) * | 2013-10-24 | 2015-10-22 | Personics Holdings, LLC. | Method and device for recognition and arbitration of an input connection |
US9223742B2 (en) * | 2012-09-07 | 2015-12-29 | Apple Inc. | Data structures for facilitating communication between a host device and an accessory |
US20160224504A1 (en) * | 2015-01-30 | 2016-08-04 | Blackberry Limited | Device with an audio port changeable between data paths |
US20170026752A1 (en) * | 2015-07-20 | 2017-01-26 | Samsung Electronics Co., Ltd. | Method and electronic device for controlling output depending on type of external output device |
US20180203782A1 (en) * | 2017-01-17 | 2018-07-19 | Microsoft Technology Licensing, Llc | Passive device detection |
Family Cites Families (13)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US7024230B2 (en) | 2002-02-22 | 2006-04-04 | Kyocera-Wireless Corp | Accessory interface system |
US7643642B2 (en) | 2004-05-10 | 2010-01-05 | Motorola, Inc. | Method and system for operating accessory controls |
US7827330B2 (en) | 2007-07-27 | 2010-11-02 | Microchip Technology Incorporated | Configuring multi-bit slave addressing on a serial bus using a single external connection |
KR101640465B1 (en) | 2010-08-26 | 2016-07-18 | 삼성전자 주식회사 | Method and apparatus for recognizing an accessory of a portable terminal |
KR101846925B1 (en) | 2011-03-21 | 2018-04-09 | 삼성전자주식회사 | Mobile terminal and interface method |
JP2012209902A (en) | 2011-03-30 | 2012-10-25 | Semiconductor Components Industries Llc | Input and output circuit |
US8909173B2 (en) | 2012-06-29 | 2014-12-09 | Motorola Solutions, Inc. | Method and apparatus for operating accessory interface functions over a single signal |
US10114787B2 (en) | 2014-02-03 | 2018-10-30 | Qualcomm Incorporated | Device identification generation in electronic devices to allow external control of device identification for bus communications identification, and related systems and methods |
EP3289684A4 (en) | 2015-04-29 | 2018-12-19 | Hewlett-Packard Development Company, L.P. | Connector element information detections |
US10019386B2 (en) | 2015-05-06 | 2018-07-10 | Nxp B.V. | Interface detection circuit |
KR102391100B1 (en) | 2015-06-10 | 2022-04-27 | 삼성전자주식회사 | Method and apparatus for providing interface |
CN108809159B (en) | 2017-05-01 | 2022-01-04 | 日本电产株式会社 | Brushless DC motor, and identification method and identification device for identifying type thereof |
WO2020117196A1 (en) | 2018-12-03 | 2020-06-11 | Hewlett-Packard Development Company, L.P. | Logic circuitry |
-
2021
- 2021-01-15 US US17/151,015 patent/US11934285B2/en active Active
-
2022
- 2022-01-13 EP EP22151454.0A patent/EP4030306A1/en active Pending
Patent Citations (13)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6856046B1 (en) * | 2002-03-08 | 2005-02-15 | Analog Devices, Inc. | Plug-in device discrimination circuit and method |
US20110057711A1 (en) * | 2009-09-07 | 2011-03-10 | Htc Corporation | Electronic device and system and method thereof for identifying electronic accessory and controlling electronic device |
US20110093643A1 (en) * | 2009-10-21 | 2011-04-21 | Htc Corporation | Electronic device and method thereof for identifying electronic accessory |
US20110099298A1 (en) * | 2009-10-27 | 2011-04-28 | Fairchild Semiconductor Corporation | Method of detecting accessories on an audio jack |
US7865629B1 (en) * | 2009-11-24 | 2011-01-04 | Microsoft Corporation | Configurable connector for system-level communication |
US20120265911A1 (en) * | 2011-04-11 | 2012-10-18 | Fairchild Semiconductor Corporation | Mobile device auto detection apparatus and method |
US20120290742A1 (en) * | 2011-05-09 | 2012-11-15 | Hon Hai Precision Industry Co., Ltd. | Portable electronic device having multifunctional audio port |
US9223742B2 (en) * | 2012-09-07 | 2015-12-29 | Apple Inc. | Data structures for facilitating communication between a host device and an accessory |
US20140270201A1 (en) * | 2013-03-15 | 2014-09-18 | Apple Inc. | Audio accessory with internal clock |
US20150304769A1 (en) * | 2013-10-24 | 2015-10-22 | Personics Holdings, LLC. | Method and device for recognition and arbitration of an input connection |
US20160224504A1 (en) * | 2015-01-30 | 2016-08-04 | Blackberry Limited | Device with an audio port changeable between data paths |
US20170026752A1 (en) * | 2015-07-20 | 2017-01-26 | Samsung Electronics Co., Ltd. | Method and electronic device for controlling output depending on type of external output device |
US20180203782A1 (en) * | 2017-01-17 | 2018-07-19 | Microsoft Technology Licensing, Llc | Passive device detection |
Non-Patent Citations (1)
Title |
---|
"TPA6166A2 3.5-mm Jack Detect and Headset Interface IC". SLAS997B. January 2015. Texas Instruments Incorporated. (Year: 2015) * |
Also Published As
Publication number | Publication date |
---|---|
EP4030306A1 (en) | 2022-07-20 |
US11934285B2 (en) | 2024-03-19 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
KR100792876B1 (en) | Method and system for controlling and monitoring an array of point-of-load regulators | |
JP6058864B2 (en) | Power distribution system | |
US20130234668A1 (en) | Universal serial bus apparatus and power supply method thereof | |
CN109923431B (en) | Activation of a transmitting device of a lighting device | |
US11507165B2 (en) | Intelligent power module | |
EP1553480A1 (en) | Bus power device and power source control method | |
WO2010126615A1 (en) | Multi-functional bi-directional communication and bias power architecture for power supply control | |
KR101037760B1 (en) | System and complex switch for blocking standby power | |
TWI513168B (en) | Power conversion apparatus | |
CN102771189B (en) | Detector circuit and method for operating a detector circuit | |
WO2017083831A1 (en) | Usb interface circuit and method for low power operation | |
CN108168048B (en) | Method and device for identifying air conditioner circuit and air conditioner | |
WO2019228075A1 (en) | Photodynamic electronic tag, working method thereof, and method and device for managing same | |
CN106648021B (en) | The data broadcasting method and low consumption circuit of low consumption circuit | |
WO2021202953A1 (en) | Integrated circuit for smoke detector having compatibility with multiple power supplies | |
DK3210273T3 (en) | CONTROL OF POWER CONSUMPTION IN APPLIANCES | |
US11934285B2 (en) | Identification/communication interface between consumer electronic devices and accessory devices | |
EP3409080B1 (en) | Peripheral device, system including the peripheral device and method | |
KR101037757B1 (en) | A socket for cutting off standby power | |
CN214250032U (en) | Power supply system and air conditioner | |
CN218513351U (en) | Low-power-consumption bistable self-locking key circuit and wireless charging system | |
CN216600138U (en) | LED drive circuit compatible with induction control and communication control | |
CN100385590C (en) | Automatic change-over switch | |
US11789509B2 (en) | Power-on sequence for a power supply system | |
CN219192121U (en) | Wake-up system of whole vehicle controller and vehicle |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
FEPP | Fee payment procedure |
Free format text: ENTITY STATUS SET TO UNDISCOUNTED (ORIGINAL EVENT CODE: BIG.); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
AS | Assignment |
Owner name: GOOGLE LLC, CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:ZHANG, HOAXING;HO, DIETRICH SHING-QUAN;LEE, HUNG-YANG;AND OTHERS;SIGNING DATES FROM 20210111 TO 20210112;REEL/FRAME:056407/0306 |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: DOCKETED NEW CASE - READY FOR EXAMINATION |
|
AS | Assignment |
Owner name: GOOGLE LLC, CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:ZHANG, HAOXING;REEL/FRAME:058877/0009Effective date: 20220202 |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: NON FINAL ACTION MAILED |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: RESPONSE TO NON-FINAL OFFICE ACTION ENTERED AND FORWARDED TO EXAMINER |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: NOTICE OF ALLOWANCE MAILED -- APPLICATION RECEIVED IN OFFICE OF PUBLICATIONS |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: PUBLICATIONS -- ISSUE FEE PAYMENT VERIFIED |
|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |