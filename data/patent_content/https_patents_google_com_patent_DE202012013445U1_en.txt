TECHNISCHES GEBIET TECHNICAL AREA
Diese Beschreibung bezieht sich im Allgemeinen auf Systeme und Vorrichtungen, um einen Offline-Zugriff in einem gehosteten Dokumentendienst zur Verfügung zu stellen und insbesondere auf Systeme, Verfahren und Vorrichtungen, um einen Offline-Dokumentendienst Zugriff in einem gehosteten Dokumentendienst auf eine Vielzahl von Dokumenten zur Verfügung zu stellen. This specification generally relates to systems and apparatus for providing offline access in a hosted document service, and more particularly to systems, methods and apparatus for providing offline document service access in a hosted document service to a variety of documents to deliver.
HINTERGRUNDBACKGROUND
Bestehende Systeme stellen den Benutzern eine begrenzte Fähigkeit zur Verfügung, um auf Online-Anwendungen zuzugreifen, während sie in einem Offline-Modus sind. In bestehenden Dokumentverarbeitungsanwendungen können Benutzer Dokumente lokal bearbeiten. In bestehenden Online-Dokumentverarbeitungsanwendungen können Benutzer Dokumente bearbeiten, während sie in einem Online-Zustand sind, indem sie auf eine Webseite zugreifen. Wenn das Gerät eines Benutzers indes in einem Offline-Modus ist, dann ist die Funktionalität eingeschränkt. Wenn das Benutzergerät zum Beispiel versucht, auf ein Online-Dokument in einem Offline-Zustand zuzugreifen, dann kann der Browser des Benutzers eine Fehlermeldung zurückgeben, die anzeigt, dass der Internetanschluss verloren gegangen oder nicht erreichbar ist und dass das Benutzergerät nicht imstande ist, sich mit der Webseite zu verbinden. Existing systems provide users with a limited ability to access online applications while in an offline mode. In existing document processing applications, users can edit documents locally. In existing online document processing applications, users can edit documents while in an online state by accessing a web page. However, if a user's device is in an offline mode, then functionality is limited. For example, if the user device attempts to access an online document in an offline state, then the user's browser may return an error message indicating that the internet connection is lost or unreachable and that the user device is unable to communicate to connect to the website.
Einige Browser können, während ein Benutzergerät in einem Offline-Zustand ist, zwischengespeicherte Daten anzeigen (z.B. Daten, die im Browser-Cache gespeichert sind), die mit bestimmten Webseiten verbunden sind. Jedoch ist die Funktionalität eingeschränkt, und wenn ein Versuch unternommen wird, im auf einen Hyperlink innerhalb der Webseite zuzugreifen oder ein Dokument in einer Webseite zu bearbeiten, dann wird typischerweise eine Fehlermeldung (wie oben beschrieben) angezeigt.Some browsers, while a user device is in an offline state, may display cached data (e.g., data stored in the browser cache) associated with particular web pages. However, functionality is limited and if an attempt is made to access a hyperlink within the webpage or to edit a document in a webpage, then typically an error message (as described above) will be displayed.
ZUSAMMENFASSUNGSUMMARY
In Übereinstimmung mit einer Ausführungsform wird eine Anfrage bezüglich eines Dokuments an einem Benutzergerät empfangen, während es in einem Offline-Zustand ist. Die Anfrage umfasst eine öffentliche URL (uniform resource locator), welche einer Stelle entspricht, die von dem Benutzergerät entfernt ist. Eine Anwendung wird gestartet, welche die Anfrage abfängt. Einer von einer Vielzahl von lokalen Caches, die Anwendungen enthalten, welche in der Lage sind, Dokumente anzuzeigen, wird basierend auf der öffentlichen URL ausgewählt. Jeder der Vielzahl von lokalen Caches ist mit einer privaten URL verbunden. Auf den ausgewählten Cache wird über eine entsprechende private URL zugegriffen, um ein Bearbeitungsprogramm aufzurufen. Ein URL-Verlauf wird modifiziert, um die private URL mit der öffentlichen URL zu ersetzen. Das Dokument wird dem Benutzer über das Bearbeitungsprogramm zur Verfügung gestellt. In accordance with one embodiment, a request for a document is received at a user device while in an off-line state. The request includes a public (uniform resource locator) URL corresponding to a location remote from the user equipment. An application is started which intercepts the request. One of a variety of local caches containing applications capable of displaying documents is selected based on the public URL. Each of the plurality of local caches is associated with a private URL. The selected cache is accessed via a corresponding private URL to invoke an editor. A URL history is modified to replace the private URL with the public URL. The document is made available to the user via the editing program.
In einer Ausführungsform umfasst die private URL eine Adresse einer Internetseite mit einer dauerhaften, lokal zwischengespeicherten Kopie. In one embodiment, the private URL includes an Internet page address with a persistent, locally cached copy.
In einer Ausführungsform wird das Dokument in einer Datenbank auf dem Benutzergerät gespeichert. In einer anderen Ausführungsform wird, in Erwiderung auf die Ermittlung, dass das Benutzergerät in einem Online-Zustand ist, eine zweite Bearbeitungsanwendung gestartet, wobei die zweite Bearbeitungsanwendung konfiguriert ist, um mit einem Server an der von dem Benutzergerät entfernten Stelle zu kommunizieren. In einer Ausführungsform werden an dem Benutzergerät gemachte Änderungen auf dem Benutzergerät gespeichert und die Änderungen werden an den Server übertragen. In einer anderen Ausführungsform wird eine Anfrage an den Server übertragen, um Aktualisierungen am Dokument abzufragen. In Erwiderung auf das Abfragen des Servers bezüglich Aktualisierungen des Dokuments, werden die Aktualisierungen empfangen. In one embodiment, the document is stored in a database on the user device. In another embodiment, in response to determining that the user device is in an online state, a second editing application is started, the second editing application configured to communicate with a server at the remote location from the user device. In one embodiment, changes made to the user device are stored on the user device and the changes are transmitted to the server. In another embodiment, a request is transmitted to the server to query updates to the document. In response to querying the server for updates to the document, the updates are received.
In einer Ausführungsform werden Informationen über das Dokument und das Benutzergerät vom Speicher abgerufen. In one embodiment, information about the document and user device is retrieved from memory.
Fachleute auf diesem Gebiet erkennen diese und weitere Vorteile der vorliegenden Offenbarung unter Bezugnahme auf die folgende detaillierte Beschreibung und die dazugehörigen Zeichnungen. Those skilled in the art will recognize these and other advantages of the present disclosure with reference to the following detailed description and accompanying drawings.
KURZBESCHREIBUNG DER ZEICHNUNGENBRIEF DESCRIPTION OF THE DRAWINGS
1 zeigt ein Kommunikationssystem, das benutzt werden kann, um Zugriff auf ein Dokument in Übereinstimmung mit einer Ausführungsform zur Verfügung zu stellen; 1 shows a communication system that may be used to provide access to a document in accordance with an embodiment;
2 zeigt die funktionalen Komponenten eines beispielhaften Benutzergeräts nach einer Ausführungsform; 2 shows the functional components of an exemplary user device according to an embodiment;
3 zeigt die funktionalen Komponenten eines beispielhaften Dokumentendienst nach einer Ausführungsform; 3 shows the functional components of an exemplary document service according to an embodiment;
4 zeigt ein in einem Bearbeitungsprogramm angezeigtes Dokument, das als eine Webseite nach einer Ausführungsform implementiert ist; 4 shows a document displayed in a machining program implemented as a web page according to an embodiment;
5 ist ein Flussdiagramm, das ein Verfahren darstellt, um Zugriff auf ein Dokument in einem Offline-Zustand nach einer Ausführungsform bereitzustellen; 5 is a flowchart that illustrates a method to access a document in one To provide an offline state according to an embodiment;
6 zeigt eine öffentliche Adresse und eine private Adresse, die mit einem Dokument nach einer Ausführungsform verbunden sind; 6 shows a public address and a private address associated with a document according to an embodiment;
7 ist ein Flussdiagramm, das ein Verfahren darstellt, um auf ein Dokument nach einer Ausführungsform zuzugreifen; und 7 FIG. 10 is a flow chart illustrating a method to access a document according to an embodiment; FIG. and
8 zeigt Komponenten eines Computers, der zur Implementierung der Erfindung dienen kann. 8th shows components of a computer that may serve to implement the invention.
AUSFÜHRLICHE BESCHREIBUNG DETAILED DESCRIPTION
1 zeigt ein Kommunikationssystem 100, das benutzt werden kann, um einen Zugriff auf ein Dokument nach einer Ausführungsform zur Verfügung zu stellen. Das Kommunikationssystem 100 beinhaltet ein Netzwerk 102, einen Dokumentendienst 104, und ein Benutzergerät 106. Das Kommunikationssystem 100 kann mehr als ein Benutzergerät beinhalten. 1 shows a communication system 100 , which can be used to provide access to a document according to one embodiment. The communication system 100 includes a network 102 , a document service 104 , and a user device 106 , The communication system 100 can include more than one user device.
In der beispielhaften Ausführungsform von 1 ist das Netzwerk 102 das Internet. In weiteren Ausführungsformen kann das Netzwerk 102 einen oder mehrere verschiedene Typen von Netzwerken beinhalten, z. B. ein Intranet, ein lokales Netzwerk (LAN), ein Weitverkehrsnetzwerk (WAN), ein drahtloses Netzwerk, ein glasfaserbasiertes Speichernetzwerk (SAN) oder ein Ethernet. Auch können weitere Netzwerke verwendet werden. Alternativ kann das Netzwerk 102 auch eine Kombination aus unterschiedlichen Netzwerktypen beinhalten. In the exemplary embodiment of 1 is the network 102 the Internet. In other embodiments, the network 102 include one or more different types of networks, e.g. An intranet, a local area network (LAN), a wide area network (WAN), a wireless network, a fiber optic-based storage network (SAN), or an Ethernet. Also, other networks can be used. Alternatively, the network 102 also contain a combination of different network types.
Das Kommunikationssystem 100 beinhaltet außerdem eine Webseite 108. In einer Ausführungsform kann der Dokumenten-Dienst 104 eine Webseite 108 hosten, auf die vom Benutzergerät 106 zugegriffen werden kann. Der Dokumentendienst 104 kann einen Server umfassen. In einer alternativen Ausführungsform kann die Webseite 108 durch einen anderen Server gehostet werden. Der Dokumentendienst 104 liefert dem Benutzergerät 106 über die Webseite 108 Zugriff auf verschiedene Webseiten. In einer Ausführungsform stellt die Webseite 108 dem Benutzergerät 106 Zugriff auf eine oder mehrere Webseiten zur Verfügung, die Zugriff auf ein bei dem Dokumentendienst 104 gespeichertes Dokument bereitstellen, wie etwa Dokument 216-A, gezeigt in 3. Das Benutzergerät 106 kann auf eine WWW-Seite auf der Webseite 108 zugreifen, die beispielsweise mithilfe eines herkömmlichen Web-Browsers betrachtet werden kann. The communication system 100 also includes a website 108 , In one embodiment, the document service 104 a website 108 hosted by the user device 106 can be accessed. The document service 104 can include a server. In an alternative embodiment, the website may 108 be hosted by another server. The document service 104 provides the user device 106 via the website 108 Access to various websites. In one embodiment, the website presents 108 the user device 106 Access to one or more websites available, access to one in the document service 104 provide a stored document, such as a document 216-A , shown in 3 , The user device 106 can be on a WWW page on the website 108 which can be viewed, for example, using a standard web browser.
Beim Benutzergerät 106 kann es sich um jedes mögliche Gerät handeln, das es einem Benutzer ermöglicht, eine Webseite 108 über ein Netzwerk 102 anzusehen. Das Gerät 106 kann entweder über eine direkte (verdrahtete) Verbindung oder drahtlos mit dem Netzwerk 102 verbunden sein. Das Benutzergerät 106 kann über einen eigenen Anzeigebildschirm verfügen (nicht gezeigt), auf dem die Informationen angezeigt werden. Das Benutzergerät 106 kann ein PC sein, ein Laptopcomputer, eine Workstation, ein Großrechner, ein mobiles Kommunikationsgerät, wie z. B. ein drahtloses Telefon, ein PDA, ein Mobilfunkgerät, ein Laptopcomputer, ein Netbook, ein Tablet etc. sein. Auch können andere Geräte verwendet werden. At the user device 106 it can be any device that enables a user to have a web page 108 over a network 102 to watch. The device 106 can be either through a direct (wired) connection or wirelessly to the network 102 be connected. The user device 106 may have its own display screen (not shown) on which the information is displayed. The user device 106 may be a personal computer, a laptop computer, a workstation, a mainframe, a mobile communication device, such as a computer. As a wireless phone, a PDA, a mobile device, a laptop computer, a netbook, a tablet, etc. Also other devices can be used.
2 zeigt die funktionalen Komponenten des Benutzergeräts 106 nach einer Ausführungsform. Das Benutzergerät 106 beinhaltet einen Web-Browser 210 und eine Anzeige 270. Der Web-Browser 210 kann ein herkömmlicher Internetbrowser sein, wie er z. B. verwendet wird, um über das Internet auf WWW-Seiten zuzugreifen. Das Anzeigegerät 270 kann Dokumente, Texte, Bilder, Softwareanwendungen, Webseiten und sonstige Informationen anzeigen. Zum Beispiel können das ganze oder ein Teil des Dokuments 216-A auf der Anzeige 270 angezeigt werden. 2 shows the functional components of the user device 106 according to one embodiment. The user device 106 includes a web browser 210 and an ad 270 , The web browser 210 can be a conventional Internet browser, as he z. B. is used to access WWW pages via the Internet. The display device 270 can display documents, texts, images, software applications, websites and other information. For example, all or part of the document 216-A on the display 270 are displayed.
Das Benutzergerät 106 schließt auch einen Speicher 219 ein, der eine Starteranwendung 214 speichert, und eine Vielzahl von lokalen Bearbeitungsprogrammcache, (1ter lokaler Bearbeitungsprogrammcache 215-A, 2ter lokaler Bearbeitungsprogrammcache 215-B, ..., nter lokaler Bearbeitungsprogrammcache 215-N, im Folgenden zusammen 215 genannt). Jeder der lokalen Bearbeitungsprogrammcaches 215 ist zum Laden, Anzeigen und möglicherweise zum Bearbeiten einer bestimmten Teilmenge von Dokumenten 216 fähig. Der Speicher 219 speichert außerdem einen URL(Uniform Resource Locator)-Verlauf 217. Der URL-Verlauf 217 ist eine Kompilation verschiedener URLs, auf die von dem Benutzergerät 106 zugegriffen wird und kann ein Datum und eine Zeit einschließen, zu der auf eine Webseite zugegriffen wurde, die einer bestimmten URL entspricht. Er bestimmt auch, welche URL einem Benutzer angezeigt wird, wenn er eine Seite ansieht. Der Speicher 219 speichert zusätzlich eine Datenbank 220. Die Datenbank 220 kann eine Ansammlung von Dokumenten, Dokument 216-B, ... Dokument 216-N speichern. In einer Ausführungsform entspricht jedes Dokument einem Bearbeitungsprogrammcache, aber jeder Bearbeitungsprogrammcache kann für vielfache Dokumente benutzt werden. Zum Beispiel kann die Datenbank 220 einen lokalen SQL-Speicher, einen Indexierten DB-Speicher, einen „window.localstorage“-DOM-Speicher, ein Sandbox-HTML5-Dateisystem, eine Kombination dieser Technologien oder jedes möglichen anderen Systems enthalten, das zur Speicherung der Dokumentansammlung fähig ist. Desweiteren kann die Datenbank 220 einen Anwendungscache 221 (Anwendungscache) enthalten. In einer Ausführungsform kann der Anwendungscache 221 eine Vielzahl von lokalen Bearbeitungsprogrammcaches 215 speichern. In einer Ausführungsform kann der Anwendungscache 221 ein AppCache sein, wie er in HTML5 (HypterText Markup Language 5) definiert ist. The user device 106 also includes a memory 219 one that is a starter application 214 saves, and a variety of local processing program cache, (1 ter local processing program cache 215-A , 2 ter local machining program cache 215-B , ..., n ter local processing program cache 215-N , together below 215 called). Each of the local editing program caches 215 is for loading, viewing and possibly editing a specific subset of documents 216 able to. The memory 219 also stores a URL (Uniform Resource Locator) 217 , The URL history 217 is a compilation of various URLs to which the user device 106 is accessed and may include a date and time accessed on a web page corresponding to a particular URL. It also determines which URL a user will see when viewing a page. The memory 219 additionally stores a database 220 , Database 220 can be a collection of documents, document 216-B , ... document 216-N to save. In one embodiment, each document corresponds to one editor program cache, but each editor program cache can be used for multiple documents. For example, the database 220 include a local SQL store, an indexed DB store, a window.localstorage DOM store, a sandbox HTML5 file system, a combination of these technologies, or any other system capable of storing the document collection. Furthermore, the database 220 an application cache 221 (Application Cache) contain. In one embodiment, the application cache 221 a variety of local machining program caches 215 to save. In one embodiment, the application cache 221 an AppCache as defined in HTML5 (HypterText Markup Language 5).
In einer alternativen Ausführungsform können der Anwendungscache 221, der URL-Verlauf 217 und andere Bestandteile im Browser enthalten sein. In einer alternativen Ausführungsform kann die Datenbank 220 den Anwendungscache 221 und andere Bestandteile beinhalten. In an alternative embodiment, the application cache 221 , the URL history 217 and other components contained in the browser. In an alternative embodiment, the database 220 the application cache 221 and other ingredients.
Jeder der Vielzahl lokaler Bearbeitungsprogrammcaches 215 schließt ein Kaltstart-Bearbeitungsprogramm ein. In der in 2 dargestellten Ausführungsform schließt der erste lokale Bearbeitungsprogrammcache 215-A das Kaltstart-Bearbeitungsprogramm 212 ein; der zweite lokale cache 215-B den Kaltstart- 213 und der n-te lokale Bearbeitungsprogrammcache 215-N das Kaltstart-Bearbeitungsprogramm- 218. Das Kaltstart-Bearbeitungsprogramm soll verwendet werden, wenn der Benutzer ein Dokument starten möchte und das Benutzergerät 106 in einem Offline-Modus ist. Das Kaltstart-Bearbeitungsprogramm wird unten im Detail beschrieben. Each of the variety of local machining caches 215 includes a cold start machining program. In the in 2 The illustrated embodiment concludes the first local machining program cache 215-A the cold start machining program 212 one; the second local cache 215-B the cold start 213 and the nth local editing program cache 215-N the cold start machining program 218 , The cold start editor should be used when the user wants to start a document and the user device 106 is in an offline mode. The cold start machining program is described in detail below.
In einer Ausführungsform kann das Benutzergerät 106 ein nichtöffentliches Gerät sein, wie ein persönlicher Laptop oder ein Computer, der einem Angestellten von einem Arbeitgeber zur Verfügung gestellt wird. Der Benutzer kann angefordert werden, eine Zustimmung vor der Speicherung der Dokumente auf ihre lokalen Geräte zu erteilen. Der Dokumentendienst 104, in Kommunikation mit dem Benutzergerät 106, kann ein Opt-in-Verfahren für einen neuen Benutzer (um vor der Speicherung ihrer Dokumente lokal um Erlaubnis zu bitten) und das Opt-out Verfahren für Benutzer durchführen, die nicht mehr offline auf Dokumente auf dem bestimmten Gerät zugreifen möchten. Folglich können nur verlässliche Geräte auf Dokumente in einem Offline-Modus zugreifen, während unverlässliche Geräte auf Online-Zugriff beschränkt würden. In one embodiment, the user device 106 a non-public device, such as a personal laptop or a computer provided by an employer to an employee. The user may be requested to give consent prior to saving the documents to their local devices. The document service 104 , in communication with the user device 106 , an opt-in procedure may be performed for a new user (to ask for permission locally before storing their documents) and the opt-out procedure for users who no longer wish to access documents offline on the particular device. As a result, only trusted devices can access documents in an offline mode, while unreliable devices would be restricted to online access.
In einer Ausführungsform können Bearbeitungsprogrammen die Inhalte des Dokuments für die Anzeige entweder von dieser lokalen Datenbank, vom Server, oder von einer Kombination davon erhalten, abhängig von Netzwerkumständen. In one embodiment, editing programs may receive the contents of the document for display either from that local database, from the server, or from a combination thereof, depending on network circumstances.
In einer alternativen Ausführungsform kann der Anwendungscache 221 im Browser 210 gespeichert werden. In an alternative embodiment, the application cache 221 in the browser 210 get saved.
3 zeigt die funktionalen Komponenten des Dokumentendienst 104 nach einer Ausführungsform. Der Dokumentendienst 104 beinhaltet einen Prozessor 375 und einen Speicher 325. Der Speicher 325 speichert Dokumente und andere Daten. Zum Beispiel kann ein Dokument 216-A, das von einem Benutzer des Benutzergeräts 106 erstellt und/oder bearbeitet wwurde, im Speicher 325, wie in 3 gezeigt, gespeichert werden. In einer alternativen Ausführungsform kann das Dokument 216-A extern im Dokumentendienst 104 gespeichert sein. Das Dokument 216-A, gespeichert im Dokumentendienst 104 oder ein externes von dem Dokumentendienst 104 (z.B. gespeichert in einem anderen Server), kann auch lokal auf dem Benutzergerät 106 zwischengespeichert werden. Folglich wird eine Kopie des Dokuments 216-A auf dem Benutzergerät 106 gespeichert. In einer Ausführungsform, wenn das Dokument 216-A auf dem Dokumentendienst 104 geändert wird, sendet der Dokumentendienst 104 das geänderte Dokument oder die Daten, die das geänderte Dokument darstellen, an das Benutzergerät 106. Danach speichert das Benutzergerät 106 das geänderte oder aktualisierte Dokument zwischen. 3 shows the functional components of the document service 104 according to one embodiment. The document service 104 includes a processor 375 and a memory 325 , The memory 325 saves documents and other data. For example, a document 216-A that of a user of the user device 106 created and / or edited wwurde, in memory 325 , as in 3 shown to be stored. In an alternative embodiment, the document 216-A externally in the document service 104 be saved. The document 216-A , stored in the document service 104 or an external one from the document service 104 (eg stored in another server), can also be local to the user device 106 be cached. Consequently, it becomes a copy of the document 216-A on the user device 106 saved. In one embodiment, when the document 216-A on the document service 104 is changed, the document service sends 104 the modified document or the data representing the changed document to the user device 106 , Thereafter, the user device stores 106 the modified or updated document between.
Der Speicher 325 kann auch ddas Warmstart-Bearbeitungsprogramm- 313 speichern, welches das Dokument 216-A, das Kaltstart-Bearbeitungspgroamm 315 und die Starteranwendung 316 einschließt. Der Dokumentendienst 104 kann weitere Komponenten enthalten, die in 3 nicht gezeigt sind. In einer Ausführungsform stellt der Dokumentendienst 104 das Kaltstart-Bearbeitungsprogramm 315, die Starter-Anwendung 316 und das Warmstart-Bearbeitungsprogramm 313 dem Benutzergerät 106 zur Verfügung. Das Benutzergerät 106 kann dann beliebige der Kaltstart-Bearbeitungsprogramme 315, der Starter-Anwendung 316 und/oder der Warmstart-Bearbeitungsprogramme 313 starten und/oder durchführen. The memory 325 can also start the warm start program 313 save the document 216-A , the cold start processing progam 315 and the starter application 316 includes. The document service 104 can contain more components in 3 not shown. In one embodiment, the document service 104 the cold start machining program 315 , the starter application 316 and the warm start machining program 313 the user device 106 to disposal. The user device 106 can then any of the cold start machining programs 315 , the starter application 316 and / or the warm start machining programs 313 start and / or perform.
Angenommen, dass der Benutzer das Benutzergerät 106 einsetzt, um auf Dokument 216-A zuzugreifen, dann kann der Benutzer auf das Dokument über die Website 108 zugreifen, z.B. basierend auf einer Adresse (wie einer URL) verbunden mit dem Dokument, 4 zeigt das Dokument 216-A, angezeigt in einem Bearbeitungsprogramm, implementiert als Webseite 408 nach einer Ausführungsform. Die Webseite 408 ist ein Teil von der Website 108, auf sie kann von einem Benutzer des Benutzergeräts 106 zugegriffen werden. So wird das Dokument 216-A einem Benutzer angezeigt, der das Benutzergerät 106 im Browser 210 über die Webseite 408 einsetzt. In der anschaulichen Ausführungsform zeigt die Website 108 auch eine öffentliche URL 410 an, die mit dem Dokument 216-A verbunden ist. Ein Beispiel einer öffentlichen Adresse (oder der öffentlichen URL-Adresse) wird in der 6 gezeigt. Die Bezeichnung Adresse, wie hierin verwendet, kann sich auf eine Stelle beziehen, oder auf einen Pointer zu einer Stelle, wie zum Beispiel einer URL. In einer Ausführungsform kann der Browser 210 wahlweise online mit der Website 108 (oder irgendwo anders auf dem Bildschirm) eine Offline/Online-Anzeige 430 anzeigen, die anzeigt, ob oder nicht das Benutzergerät 106 online ist und sich mit dem Dokument-ServiceDokumentendienst 104 über das Netzwerk 102 verbinden kann. In einer Ausführungsform können alle URLs, öffentlich oder privat, den gleichen Ursprung haben, wie im HTML „Web-Apps-Standard“ Abschnitt 6.3 definiert ist. In einer Ausführungsform kann ein Dokumentenmanager einem Benutzer gestatten, auszuwählen, welche Dokumente er sich ansehen oder bearbeiten möchte (z.B. durch das Auswählen aus einer Dokumentliste). Es können zwei Versionen des Dokumentenmanagers vorhanden sein, eine für Offline- und eine für OnlineGebrauch. Der Offline-Dokumentenmanager 222, gezeigt in 2, kann die private URL für die anwendungszwischengespeicherte Bearbeitungsanwendung erzeugen und kann sie starten. Der Offline-Dokumentenmanager 222 kann eine Adresse haben, die von seinem Online-Gegenstück, wie etwa DocService[dot]com/offline verschieden ist. Die Benutzerschnittstelle des Dokumentenmanagers kann eine Tabelle beinhalten. Die Tabelle kann Dokumentenbezeichnungen einschließen, das Datum, an dem sie zuletzt lokal angesehen wurden während man online war, und folglich synchronisiert wurden. Der Offline-Dokumentenmanager 222 kann in einem Anwendungs-Cache gespeichert werden. Suppose that the user is the user device 106 uses to document 216-A then the user can access the document through the website 108 eg based on an address (such as a URL) associated with the document, 4 shows the document 216-A , displayed in a editing program, implemented as a web page 408 according to one embodiment. The website 408 is a part of the website 108 It can be accessed by a user of the user device 106 be accessed. This is how the document will become 216-A a user who displays the user device 106 in the browser 210 via the website 408 starts. In the illustrative embodiment, the website shows 108 also a public URL 410 at that with the document 216-A connected is. An example of a public address (or public URL) will appear in the 6 shown. The term address, as used herein, may refer to a location, or to a pointer to a location, such as a URL. In one embodiment, the browser 210 Optionally online with the website 108 (or somewhere else on the Screen) an offline / online display 430 display, indicating whether or not the user device 106 is online and familiar with the document service document service 104 over the network 102 can connect. In one embodiment, all URLs, public or private, may have the same origin as defined in the HTML "Web Apps Standard" section 6.3. In one embodiment, a document manager may allow a user to select which documents he wants to view or edit (eg, by selecting from a document list). There may be two versions of Document Manager, one for offline and one for online use. The offline document manager 222 , shown in 2 , can create and start the private URL for the application cached editing application. The offline document manager 222 can have an address that is different from its online counterpart, such as DocService [dot] com / offline. The user interface of the document manager may include a table. The table may include document titles, the date they were last viewed locally while online, and thus synchronized. The offline document manager 222 can be stored in an application cache.
Der Dokumentenmanager kann eine Dokumentliste anzeigen, um es Benutzern zu ermöglichen, ein Dokument auszuwählen, um es anzusehen oder zu bearbeiten. Die Dokumentenliste kann Sekundärinformationen beinhalten, wie zum Beispiel ob das entsprechende Dokument nicht übertragene lokale Änderungen enthält (unten beschrieben). In einer Ausführungsform kann der Dokumentenmanager eine Rolle in der „Anwendungs-Cachewartung“ spielen, da sie zur Berechnung der Menge an -Bearbeitungsanwendungscaches fähig ist, die notwendig sind, um irgendwelche oder alle Dokumente zu starten und sie zu aktualisieren. The document manager can display a document list to allow users to select a document to view or edit. The document list may contain secondary information, such as whether the corresponding document contains untransmitted local changes (described below). In one embodiment, the document manager may play a role in the "application cache maintenance" because it is capable of calculating the amount of editing application caches necessary to start and update any or all of the documents.
Warmstart-BearbeitungsprogrammWarm start editing program
Wenn ein Benutzer, der das Benutzergerät 106 einsetzt, in der Lage ist, online zu gehen und auf die Dokumente zuzugreifen, die auf dem Dokumentendienst 104 über das Netzwerk 102 gespeichert werden, dann fordert das Benutzergerät 106 die Durchführung des Warmstart-Editors 313 an. In einer Ausführungsform kann der Warmstart-Editor 313 nur gestartet werden, wenn das Benutzergerät 106 in einem Online-Zustand ist. Ein Online-Zustand kann zum Beispiel durch einen erfolgreichen Ping oder einen Versuch des Zugriffs auf das Internet überprüft werden. Das Warmstart-Bearbeitungsprogramm 313 wird von dem Dokument-Server für sofortige Durchführung auf dem Benutzergerät zur Verfügung gestellt, wenn die Anzeige eines Dokumentes angefordert wird, und kann möglicherweise nicht lokal gespeichert werden. Das angefragte Dokument kann mit dem Anwendungs-Code vermischt werden. In einer Ausführungsform kann das Vermischen eine gewisse Latenzoptimierung erlauben. Während des Starts kann das Warmstart-Bearbeitunsprogramm das Dokument in der Datenbank 220 speichern, oder jede mögliche Version, die bereits dort gespeichert ist, aktualisieren. If a user is the user device 106 is able to go online and access the documents on the document service 104 over the network 102 stored, then the user device prompts 106 the implementation of the warm start editor 313 at. In one embodiment, the warm-start editor may 313 only be started when the user device 106 is in an online state. For example, an online state can be verified by a successful ping or attempt to access the Internet. The warm start machining program 313 is provided by the document server for immediate execution on the user device when the display of a document is requested, and may not be stored locally. The requested document can be mixed with the application code. In one embodiment, the blending may allow for some latency optimization. During startup, the warm start processing program can read the document in the database 220 Save or update any version already stored there.
Zum Beispiel wird, wenn das Benutzergerät 106 Zugriff auf das Dokument 216-A in einem Online-Modus erbittet, das Dokument 216-A vom Dokumentendienst 104 abgerufen. In einer alternativen Ausführungsform kann das Warmstart-Bearbeitungsprogramm 313 auch zwischengespeicherte Bilder, Dokumentdaten und/oder Webfonts benutzen, die von dem Benutzergerät 106 im Speicher 219 oder in der Datenbank 220 gespeichert sind, statt sie vom Dokumentendienst 104 zu holen, in der Bemühung, Ladezeit zu verringern, wenn das Dokument 216-A geladen wird. Solange das Benutzergerät online ist, behalten alle Warmstarts, die auf ihm laufen, eine Verbindung zum Dokumentendienst 104 bei. Dies ermöglicht ihnen, die Dokumente, die sie anzeigen und jede mögliche Version, die in der Datenbank 220 gespeichert ist, mit der des Servers kontinuierlich zu synchronisieren. Wenn das Benutzergerät während eines Warmstarts offline geht, dann kann es weiterhin laufen und die Bearbeitung gestatten. Nachdem ein Benutzer aus dem Offline-Modus-im zurückkehrt, können alle Warmstart-Bearbeitungsprogrammeen, die auf dem Benutzergerät laufen, sich wieder mit dem Dokumenten-Dienst 104 verbinden und können die Dokumente, die sie anzeigen, mit den Versionen synchronisieren, die in der Datenbank 220 gespeichert wurden. For example, if the user device 106 Access to the document 216-A in an online mode solicits the document 216-A from the document service 104 accessed. In an alternative embodiment, the warm start machining program 313 also use cached images, document data and / or webfonts provided by the user device 106 In the storage room 219 or in the database 220 stored instead of from the document service 104 to bring in the effort to reduce loading time when the document 216-A is loaded. As long as the user device is online, any warm starts that run on it will maintain a link to the document service 104 at. This allows them to view the documents they are viewing and any version that is in the database 220 is stored to synchronize with the server continuously. If the user device goes offline during a warm start, then it can continue to run and allow editing. After a user returns from the offline mode-in, all warm-start editing programs running on the user device can re-enter the document service 104 connect and synchronize the documents they are viewing with the versions that are in the database 220 were saved.
Bei einem Warmstart (d.h., wenn das Warmstart-Bearbeitungsprogramm 313 eingesetzt wird) wird das Dokument mit der -Bearbeitungsanwendung vermischt aufgefunden, statt über eine XMLHttp-Anfrage (XHR) abgerufen zu werden. Diese Reihenfolge kann auch eine Implementierung der Warmstart-Startsequenz sein.During a warm start (ie, when the warm start machining program 313 is used) the document is found mixed with the editing application instead of being retrieved via an XMLHttp request (XHR). This order may also be an implementation of the warm start boot sequence.
Kaltstart-Bearbeitungsprogramm Cold start-editing program
Wenn ein Benutzer, der das Benutzergerät 106 einsetzt, sich in einem Offline-Modus befindet und versucht, auf das Dokument 216-A zuzugreifen, dann startet das Benutzergerät 106 das Kaltstart-Bearbeitungsprogramm 212. Das Kaltstart-Bearbeitungsprogramm 212 kann einen Anwendungs-Cache umfassen, der ein Anwendungs-Cache-Manifest umfassen kann. Das Anwendungs-Cache-Manifest ist eine Liste von allen URLs, die eine Webseite benutzt. Das Anwendungs-Cache-Manifest wird einem Browser, wie etwa Browser 210, zur Verfügung gestellt. Die im Anwendungs-Cache-Manifest erwähnten Ressourcen werden strukturiert, um das Dokument 216-A auszuschließen, obgleich sie benutzerspezifische Daten enthalten können. Das Anwendungs-Cache-Manifest wird unten im Detail beschrieben. Jeder Kaltstart-Editor hat eine private URL, was nicht empfehlenswert ist. Benutzer fragen normalerweise ihre Dokumenten mit öffentlichen URLs ab, die Ressourcen beschreiben, die nur online verfügbar sind. Die Starteranwendung 214 fängt solche Anfragen ab, erstellt die entsprechende private Adresse und navigiert zu ihr, was veranlasst (zum Beispiel), dass der Kaltstart-Editor 212 von dem ersten lokalen Editor 215-A abgerufen und gestartet wird. Der Kaltstart-Editor 212 ersetzt dann die angezeigte URL der Seite, die anderweitig die private Adresse anzeigen würde, mit der öffentlichen Adresse. Es scheint dann, dass man die ganze Zeit auf die öffentliche Adresse navigiert hatte. Dieses stellt dem Benutzer eine vertraute Erfahrung zur Verfügung und stellt sicher, dass irgendeine Speicherung der angezeigten URL, z.B. ein Lesezeichen, nicht die private Adresse beinhaltet. Ein Beispiel einer privaten Adresse 610 wird in 6 gezeigt. In einer Ausführungsform können Hypertext Markup Language 5(HTML5)-Verlaufs-Anwendungsprogramm-Schnittstellen (APIs) benutzt werden, um die private Adresse 610 zu tarnen. Die private Adresse 610 umfasst Bestandteile, die einen Bearbeitungsprogrammcache identifizieren, andere, die Dokumente identifizieren, und zusätzliche Informationen. In einer Ausführungsform liest der Kaltstart-Editor 212 seine private URL, wenn er gestartet wird, und bestimmt, welches Dokument der Benutzer öffnen wollte. Er liest dann eine Benutzeraufzeichnung von der Datenbank 220, um den gegenwärtigen OfflineBenutzer zu finden (z.B. ein Benutzer, der das Benutzergerät 106 einsetzt, der lokales Zwischenspeichern von Dokumenten gestattet hat). Die Benutzeraufzeichnung kann einen oder mehrerer Benutzer verzeichnen, die Rechte haben, auf entsprechende Dokumente zuzugreifen. Zum Beispiel kann der Theaterautor im obigen Beispiel als der Benutzer verzeichnet werden, der Zugriff auf das Theaterstück hat. Sobald ermittelt wurde, dass der Benutzer zugestimmt hat und ihm Erlaubnis gegeben wurde, auf ein lokal gespeichertes Dokument zuzugreifen, liest der Kaltstart- 212 das Dokument 216-A aus der Datenbank 220, und eine Anzeige von ihm wird zur Verfügung gestellt. If a user is the user device 106 uses, is in an offline mode and tries to access the document 216-A then the user device starts 106 the cold start machining program 212 , The cold start machining program 212 may include an application cache that may include an application cache manifest. The application cache manifest is a list of all the URLs a webpage uses. The application cache manifest becomes a browser, such as browser 210 , made available. The resources mentioned in the application cache manifest are structured to do this document 216-A although they may contain user-specific data. The application cache manifest is described in detail below. Every cold start editor has a private URL, which is not recommended. Users typically query their documents with public URLs that describe resources that are only available online. The starter application 214 intercepts such requests, creates the corresponding private address and navigates to it, which causes (for example) that the cold start editor 212 from the first local editor 215-A is retrieved and started. The cold start editor 212 then replaces the displayed URL of the page that would otherwise indicate the private address with the public address. It seems then that you had navigated to the public address all the time. This provides the user with a familiar experience and ensures that any storage of the displayed URL, eg a bookmark, does not include the private address. An example of a private address 610 is in 6 shown. In one embodiment, Hypertext Markup Language 5 (HTML5) run application program interfaces (APIs) may be used to address the private address 610 camouflage. The private address 610 includes components that identify a machining program cache, others that identify documents, and additional information. In one embodiment, the cold start editor reads 212 its private URL when launched, and determines which document the user wanted to open. He then reads a user record from the database 220 to find the current offline user (eg a user who owns the user device 106 that has allowed local caching of documents). The user record may list one or more users who have rights to access related documents. For example, in the example above, the playwright may be listed as the user who has access to the play. Once it has been determined that the user has consented and has been given permission to access a locally stored document, the cold start 212 the document 216-A from the database 220 , and a message from him will be provided.
In den Fällen, in denen ein Kaltstart-Bearbeitungsprogramm (d.h. wenn das Kaltstart-Bearbeitungsprogramm 212 eingesetzt wird) gestartet wird, wenn man online ist, dann kann eine Hypertext-Transfer Protocol(http)-Anfrage gestellt werden, die eine Identifizierung eines Dokumentes annimmt (d.h. Dokumentidentifikation) und die Daten zurückgibt, die eine JavaScript Object Notation(JSON)-Erwiderung umfassen, die das Dokument enthält. Dieses wird verwendet, um die lokale Datenbank zu füllen und das Dokument 106 zu rendern.In cases where a cold start machining program (ie when the cold start machining program 212 is started), when one is online, then a Hypertext Transfer Protocol (HTTP) request can be made, which accepts an identification of a document (ie document identification) and returns the data containing a JavaScript Object Notation (JSON) - Include replies containing the document. This is used to fill the local database and the document 106 to render.
Bearbeitungsprogramm-Anwendungen Editor applications
In einer Ausführungsform sind das Kaltstart-Bearbeitungsprogramm (z.B. die Kaltstart-Bearbeitungsprogrammen 212, 213 und 218) und die Starteranwendung 214 angepasst, um von einem Anwendungs-Cache (z.B. Anwendungs-Cache 221) zu laufen. In einer Ausführungsform beinhaltet keine der Kaltstart-en-Anwendungen JavaScript (JS) oder irgendwelche HTML-Bestandteile ein, die sich auf ein bestimmtes Dokument beziehen, und sind sie beide in der Lage dazu, aus eigener Kraft und ohne Netzwerk zu laufen. In einer Ausführungsform kann eine einzige Anwendung existieren, die sowohl die Bearbeitung als auch Read-Only-Modi umfasst; wobei der Read-Only-Modus Bearbeitungsmerkmale sperrt. In einigen Situationen sind vielfache Bearbeitungsprogrammanwendungen von verschiedenen Manifesten und Master-Entry-URLs abgedeckt. Jedes Dokument kann erfordern, dass sich ein bestimmtes Kaltstart-Bearbeitungsprogramm öffnet, das in einem bestimmten lokalen Bearbeitungsprogrammcache gespeichert wird. Um zu bestimmen, welcher lokaler -Bearbeitungsprogrammcache verwendet werden soll, können viele Faktoren verwendet werden. Zum Beispiel kann einer der Faktoren die Dokumentart sein (z.B. Text, Tabellenkalkulation usw.). In one embodiment, the cold start machining program (eg, the cold start machining programs 212 . 213 and 218 ) and the starter application 214 adapted to from an application cache (eg application cache 221 ) to run. In one embodiment, none of the cold start-en applications include JavaScript (JS) or any HTML components related to a particular document, and they are both capable of running on their own and without a network. In one embodiment, a single application may exist that includes both the editing and read-only modes; the read-only mode blocks editing features. In some situations, multiple editing applications are covered by various manifests and master entry URLs. Each document may require that a particular cold start editor open, which is stored in a particular local editor program cache. Many factors can be used to determine which local editor program cache to use. For example, one of the factors may be the document type (eg, text, spreadsheet, etc.).
Details, wie auf das Dokuments 216-A von dem Benutzergerät 106 in einem Offline-Zustand zugegriffen wird, werden hierin mit Bezug auf 5 beschrieben. Details, such as the document 216-A from the user device 106 is accessed in an off-line state, with reference to FIG 5 described.
5 ist ein Flussdiagramm, das eine Methode des Bereitstellens des Zuganges zu einem Dokument in einem Offline-Zustand in Übereinstimmung mit einer Ausführungsform bildlich darstellt. An Schritt 5002, wird eine Dokumentanfrage an einem Benutzergerät empfangen, während es im Offline-Zustand ist. Die Anfrage umfasst eine öffentliche URL, die einer Stelle entspricht, die von dem Benutzergerät entfernt ist. Die Dokumentanfrage 216-A kann beispielsweise am Benutzergerät 106 empfangen werden, während es in einem Offline-Zustand (z.B. wegen einer temporären oder dauerhaften Unterbrechung im Netz oder einer instabilen Verbindung) ist. Die Anfrage enthält eine öffentliche URL 410, die einer Positionsdirektübertragung vom Benutzergerät 106 entspricht. Eine öffentliche URL 410 kann z.B. öffentliche Adresse 605 sein, die auf eine Position des Dokumentes 216-A zeigen kann, das auf dem Dokumentservice 104 gespeichert ist. Angenommen, der Theaterautor reist in einer Ausführungsform im Zug nach Mailand. Der Theaterautor (der entweder weiß oder nicht weiß, dass sein Gerät offline ist), möchte auf sein Stück zugreifen. Er sendet eine Anfrage für das Stück, indem er es anklickt, beschreibt oder anderweitig auf eine öffentliche URL zugreift, die einer entfernten Stelle entspricht, wo sein Stück gespeichert ist. 5 FIG. 10 is a flow chart depicting a method of providing access to a document in an offline state in accordance with an embodiment. FIG. At step 5002 , a document request is received at a user device while it is in the offline state. The request includes a public URL corresponding to a location remote from the user device. The document request 216-A can for example on the user device 106 receive while it is in an offline state (eg due to a temporary or permanent interruption in the network or an unstable connection). The request contains a public URL 410 that is a positional remote transfer from the user device 106 equivalent. A public URL 410 can eg public address 605 be on a position of the document 216-A can show that on the document service 104 is stored. For example, suppose the playwright travels to Milan on one of his trains. The playwright (who either knows or does not know his device is offline) wants to access his play. It sends a request for the piece by clicking, describing, or otherwise accessing a public URL corresponding to a remote location where its piece is stored.
In einer Ausführungsform ist die vom Benutzergerät entfernte Position über ein Netz zugänglich, (z.B. das Internet). Die Position kann z.B. auf eine Position zeigen, in der Dokument 216-A im Dokumentenservice 104 gespeichert ist und kann über Netz 102 zugänglich sein (d.h. das Internet). In einer Ausführungsform wird Dokument 216-A in Datenbank 220 auf dem Benutzergerät 106 gespeichert. In one embodiment, the remote location from the user device is accessible via a network (eg, the Internet). For example, the position may point to a position in the document 216-A in the document service 104 is stored and can be over network 102 be accessible (ie the internet). In one embodiment, document 216-A in database 220 on the user device 106 saved.
In Schritt 5004 wird eine Anwendung gestartet, welche die Anfrage abfängt. Während das Benutzergerät 106 im Offline-Betrieb ist, fängt die Starteranwendung 214 die Anfrage einschließlich öffentlicher URL 410 ab. In einer Ausführungsform wird die Starteranwendung 214 gestartet, um die öffentliche URL 410 abzufangen, die die öffentliche Adresse 605 sein kann. In einer Ausführungsform kann ein Anwendungscache 221 die Starteranwendung 214 veranlassen, die öffentliche URL abzufangen. Der Start einer Anwendung, die eine URL abfängt, beinhaltet also ferner den Start eines Anwendungscaches. Der Start der Starteranwendung 214 umfasst ferner den Start des Anwendungscaches, der das Kaltstartbearbeitungsprogramm 212 auswählt, da der Kaltstarteditor 212 mit Dokument 216-A verbunden ist. In step 5004 an application is started which intercepts the request. While the user device 106 is offline, the starter application starts 214 the request including public URL 410 from. In one embodiment, the starter application becomes 214 started to the public url 410 intercept the public address 605 can be. In one embodiment, an application cache 221 the starter application 214 cause the public URL to intercept. The launch of an application that intercepts a URL thus also includes the start of an application cache. The start of the starter application 214 also includes starting the application cache containing the cold start edit program 212 chooses because the cold start editor 212 with document 216-A connected is.
In Schritt 5006 wird einer aus der Vielzahl lokaler Caches ausgewählt, ausgehend von der öffentlichen URL. Dabei wird ein jeder aus der Vielzahl von lokalen Zwischenspeichern einer privaten URL zugeordnet. Der zweite lokale Bearbeitungsprogrammcache 215-B ist mindestens einer privaten URL 410 (welche die öffentliche Adresse 605 sein kann) zugeordnet. Ein jeder aus der Vielzahl lokaler Bearbeitungsprogrammcaches 215 ist mindestens einer privaten URL (oder privaten Adresse, z. B. die private Adresse 610) zugeordnet. In step 5006 one is selected from a variety of local caches, starting from the public URL. In this case, each of the plurality of local buffers is assigned to a private URL. The second local editing program cache 215-B is at least one private URL 410 (which the public address 605 can be assigned). Every one of the multitude of local machining program caches 215 is at least one private URL (or private address, such as the private address 610 ).
In Schritt 5008 wird auf den ausgewählten lokalen Cache über eine entsprechende URL zugegriffen, um ein Bearbeitungsprogramm aufzurufen. Auf den zweiten lokalen Bearbeitungsprogrammcache 215-B wird dementsprechend über die entsprechende private Adresse 610 zugegriffen, um das Kaltstartbearbeitungsprogramm 213 abzurufen. Die private Adresse 610 umfasst in einer Ausführungsform eine Adresse einer Internetseite samt einer lokal zwischengespeicherten Kopie, die offline verlässlich verfügbar ist. Nachdem der Kaltstarteditor gestartet ist, ruft er Dokument 216-A aus der Datenbank 220 ab und zeigt das Dokument an. In step 5008 The selected local cache is accessed via a corresponding URL to invoke a machining program. On the second local editing program cache 215-B is accordingly via the corresponding private address 610 accessed the cold start editing program 213 retrieve. The private address 610 In one embodiment, it includes an address of an Internet page, including a locally cached copy that is reliably available offline. After the coldstart editor is started, it calls document 216-A from the database 220 and displays the document.
In Schritt 5010 wird ein Verlauf von URLs verändert, um die private URL durch eine öffentliche URL zu ersetzen. Bezug nehmend auf 2 wird der URL-Verlauf 217 verändert, um die private Adresse 610 (oder eine private URL) durch die öffentliche Adresse 605 (z. B. eine öffentliche URL 410) zu ersetzen. Auf diesem Weg wird die private Adresse 610 (die vom Benutzer nicht angezeigt werden kann) maskiert, und im URL-Verlauf 217 sieht es so aus, als wäre nur auf die öffentliche Adresse 605 zugegriffen worden und nicht die private Adresse 610. Der URL-Verlauf 217 enthält daher keinerlei Hinweise darauf, dass in einem Offline-FigBetrieb auf einen oder mehrere private URLs zugegriffen wurde, um Dokumente abzurufen. Wenn der Theaterautor in einer Ausführungsform den URL-Verlauf 217 ansieht, dann sieht es so aus, als habe er auf die öffentliche Adresse 605 zugegriffen, und es gibt keinerlei Hinweis darauf, dass er auf die private Adresse 610 zugegriffen hat, um auf eine zwischengespeicherte Kopie des Dokuments 216-A zuzugreifen. Die Maskierung wird in einer Ausführungsform durch eine programmgesteuerte Manipulation des Browserverlaufs durchgeführt. Diese Maskierung betrifft die augenscheinliche URL der Bearbeitungsprogrammseite, während sie angezeigt wird, sowie den Verlauf. In step 5010 a history of URLs is changed to replace the private URL with a public URL. Referring to 2 becomes the URL history 217 changed to the private address 610 (or a private URL) through the public address 605 (eg a public URL 410 ) to replace. This way becomes the private address 610 (which can not be displayed by the user) masked, and in URL history 217 It looks like it's just the public address 605 has been accessed and not the private address 610 , The URL history 217 therefore, contains no evidence that one or more private URLs were accessed in an offline Fig. operation to retrieve documents. If the playwright in one embodiment is the URL history 217 looks, then it looks like he has the public address 605 accessed, and there is no indication that he is on the private address 610 has accessed to a cached copy of the document 216-A access. The masking is performed in one embodiment by a program-controlled manipulation of the browsing history. This masking affects the apparent URL of the editing program page as it is displayed, as well as the history.
In Schritt 5012 wird das Dokument dem Benutzer über den Kaltstart-Bearbeitungsprogramm zur Verfügung gestellt. Dokument 216-A wird dem Benutzer über das Kaltstart-Bearbeitungsprogramm 213 zur Verfügung gestellt. Dabei kommt das Benutzergerät 106 zum Einsatz. Folglich kann der Theaterautor selbst dann Zugriff auf Dokument 216-A haben, wenn sein Gerät im Offline-Zustand ist, denn eine lokale Kopie des Dokumentes 216-A ist lokal in Datenbank 220 zwischengespeichert. In step 5012 the document is made available to the user via the cold start processing program. document 216-A is the user through the cold start editing program 213 made available. Here comes the user device 106 for use. Consequently, the playwright can access document even then 216-A if his device is offline, because a local copy of the document 216-A is local in database 220 cached.
Die Starteranwendung 214 startet in einem Beispiel als Reaktion auf einen Navigationsvorgang eines Benutzers, liest die URL, die der Benutzer eingegeben hat und ermittelt, dass eine Dokumentenanfrage vorliegt. Die Starteranwendung 214 ermittelt, ob das Dokument lokal auf dem Gerät des Benutzers gespeichert ist. Wenn das Dokument lokal gespeichert ist, kann die Starteranwendung in Erfahrung bringen, um welche Dokumentenart es sich handelt, um ausgehend davon den zu verwendenden Bearbeitungsprogrammcache zu ermitteln. Wenn das Dokument z. B. eine Tabelle ist, dann kann ein Bearbeitungsprogrammcache, der eine Tabellenanwendung enthält, verwendet werden. Die Starteranwendung 214 erzeugt dann eine private URL für den ausgewählten Bearbeitungsprogrammcache und startet diese private URL. The starter application 214 in one example, starts in response to a user's navigational process, reads the URL entered by the user, and determines that there is a document request. The starter application 214 Determines if the document is stored locally on the user's device. If the document is stored locally, the starter application can find out what kind of document it is in order to determine the editing program cache to use from there. If the document z. For example, if a table is a machining program cache containing a table application, then one can use. The starter application 214 then creates a private URL for the selected editor program cache and starts this private URL.
Informationen über das Dokument und das Benutzergerät werden in einer Ausführungsform aus dem Speicher abgerufen. Der Dokumentdienst 104 ruft die Informationen über Dokument 216-A und das Benutzergerät 106 aus dem Speicher und/oder aus der Datenbank 220 ab. Information about the document and user device is retrieved from memory in one embodiment. The document service 104 retrieves the information about document 216-A and the user device 106 from memory and / or from the database 220 from.
Einzelheiten dazu, wie die Starteranwendung 214 die Auswahl von Dokument 216-A ermöglicht, werden hierin genauer nachfolgend beschrieben. Details of this, such as the starter application 214 the selection of document 216-A are described in more detail below.
Starteranwendung starter application
Die Starteranwendung 214 (z. B. eine im Anwendungscache zwischengespeicherte Starteranwendung) fängt die Abfrage vom Dokument über dessen öffentliche URL 216-A ab. Die Starteranwendung 214 startet die richtige Version eines entsprechenden Kaltstart-Bearbeitungsprogramms, um das Dokument 216-A einem Benutzer anzeigen zu können. Die Starteranwendung 214 erzeugt eine URL zum Kaltstart-Bearbeitungsprogramm 212, da das Kaltstart-Bearbeitungsprogramm 212 dem Dokument 216-A zugeordnet ist, welches die für Dokument 216-A und den ausgewählten Benutzer erforderliche Kaltstart-Bearbeitungsprogramm startet. Nachdem das Kaltstart-Bearbeitungsprogramm 212 gestartet wurde kann es die Anwendungs-Programmierschnittstelle (API) des HTML5-Verlaufs verwenden, um seine eigene angezeigte URL zu verändern, damit diese zum Warmstarteditor 313 passt. The starter application 214 (For example, a starter application cached in the application cache) captures the query from the document via its public URL 216-A from. The starter application 214 starts the correct version of a corresponding cold start editor to the document 216-A to be able to show a user. The starter application 214 generates a URL to the cold start editor 212 because the cold start machining program 212 the document 216-A which is the one for document 216-A and the selected user required cold start editing program starts. After the cold start machining program 212 It can use the application programming interface (API) of the HTML5 history to change its own display URL to make it the warm start editor 313 fits.
Anhand eines Ausweichseintrag des Anwendungscache-Manifests versucht die Startanwendung 214, im Offline-Betrieb URLs auf DocService[dot]com zu verwenden. Unter der privaten Adresse 610 von Dokument 216-A (die im lokalen Bearbeitungsprogrammcache 215-B auf dem Benutzergerät 106 gespeichert ist), kann die Starteranwendung 214 das Dokument 216-A anhand des Kaltstart-Bearbeitungsprogramms 212 starten. Die URL der Online-Dokumentenverwaltung kann außerdem durch die Starteranwendung abgefangen, und die Offline-Dokumentenverwaltung 222 an seiner Stelle gestartet werden. An alternate entry of the application cache manifest attempts the boot application 214 to use URLs on DocService [dot] com in offline mode. Under the private address 610 from document 216-A (in the local editor cache 215-B on the user device 106 stored), the starter application can 214 the document 216-A based on the cold start machining program 212 start. The URL of online document management can also be intercepted by the starter application and offline document management 222 be started in its place.
Eine Dokumentenverwaltungsanwendung kann in einer Ausführungsform eine Liste von Dokumenten-URLs vorlegen. Die Offline-Variante der Dokumentenverwaltung kann in einer Ausführungsform ein Teil der Starteranwendung 214 sein. In einer alternativen Ausführungsform, die in 2 dargestellt ist, kann die Offline-Dokumentenverwaltung 222 von der Starteranwendung 214 getrennt sein und durch die Starteranwendung 214 gestartet werden, wenn ein Versuch, zur URL der Online-Dokumentenverwaltung zu navigieren abgefangen wird. Bei der Auswahl eines Dokuments und/oder einer zugeordneten Dokumenten-URL durch einen Benutzer anhand von Benutzergerät 106 im Offline-Betrieb wählt und startet die Offline-Dokumentverwaltung 222 das geeignete Kaltstart-Bearbeitungsprogramm, das dem Dokument zugeordnet ist. Sie kann dies unter Zuhilfenahme der Startanwendung 214 oder allein tun. A document management application, in one embodiment, may present a list of document URLs. The offline variant of document management may in one embodiment be part of the starter application 214 be. In an alternative embodiment, the in 2 can represent offline document management 222 from the starter application 214 be disconnected and by the starter application 214 be started when an attempt to navigate to the URL of the online document management is intercepted. When a user selects a document and / or an associated document URL by user device 106 Offline mode selects and starts offline document management 222 the appropriate cold start machining program associated with the document. You can do this with the help of the startup application 214 or do it alone.
Des Weiteren wird auf 6 Bezug genommen, die Beispiele einer öffentlichen und einer privaten Adresse zeigt, die einem Dokument zugeordnet sind. Ein Beispiel einer öffentlichen Adresse 605, die verwendet wird, um auf Dokument 216-A zuzugreifen, ist DocService[dot]com/document/ZZ. Ein Beispiel einer privaten Adresse 610, die verwendet wird. um auf Dokument 216-A (von einem lokalen Computer, Benutzergerät 106) zuzugreifen ist DocService[dot]com/offline/document?cacheid=XX#ID=ZZ. „XX“ nach „uc“ ist in einer Ausführungsform die Merkmalszeichenfolge des Benutzers. Eine Dokumentenkennung erscheint nach „#ID=.“. Die Dokumentenkennung und jegliche sonstige in der „Fragmentidentifizierungskomponente“ der URL verschlüsselten Informationen, müssen bei der Auswahl des Anwendungszwischenspeichers keine Rolle spielen. Sie wird stattdessen vom Kaltstart-Bearbeitungsprogramm 212 beim Hochfahren gelesen, um zu ermitteln, welches Dokument (z. B. Dokument 216-A, Dokument 216-B, ..., Dokument 216-N) aus der Vielzahl von lokalen Cache-Bearbeitungsprogrammen 215 geladen werden soll. Möglicherweise werden dabei auch noch andere Informationen ermittelt. Die Zeichenfolge „uc“ (und optional gewisse andere Teile der URL) beinhalten Informationen für den Dokumentdienst 104, damit dieser ermittelt, welcher Binärcode im Online-Betrieb bereitzustellen ist. Furthermore, it will open 6 Referenced showing examples of a public and a private address associated with a document. An example of a public address 605 that is used to document 216-A is DocService [dot] com / document / ZZ. An example of a private address 610 that is used. to on document 216-A (from a local computer, user device 106 ) is DocService [dot] com / offline / document? cacheid = XX # ID = ZZ. "XX" after "uc" in one embodiment is the feature string of the user. A document ID appears after "# ID =.". The document identifier and any other information encoded in the "fragment identifier" of the URL need not matter in the selection of the application cache. Instead, it is from the cold start editor 212 read at startup to determine which document (eg 216-A , Document 216-B , ..., document 216-N ) from the large number of local cache processing programs 215 should be loaded. You may also find other information. The string "uc" (and optionally certain other parts of the URL) contain information for the document service 104 to help it determine which binary code to deploy online.
Die Einzelheiten bezüglich des Zugriffs auf ein Dokument werden hierin in Bezug auf 7 beschrieben. 7 ist ein Flussdiagramm, das ein Verfahren zum Zugriff auf ein Dokument gemäß einer Ausführungsform darstellt. In Schritt 7002, startet das Flussdiagramm oder die Routine. In Schritt 7004 wird ein Dokument, das eine öffentliche URL umfasst, angefordert. Ein Benutzer, der Benutzergerät 106 verwendet, fordert beispielsweise Dokument 216-A an, indem er etwas eintippt, eine Auswahl trifft oder etwas anklickt bzw. auf die öffentliche URL 410 (z. B. die öffentliche Adresse 605) auf andere Weise zugreift, die dem Dokument 216-A zugeordnet ist. The details regarding access to a document will be referred to herein with respect to 7 described. 7 FIG. 10 is a flowchart illustrating a method of accessing a document according to an embodiment. FIG. In step 7002 , the flowchart or the routine starts. In step 7004 a document requesting a public URL is requested. A user, the user device 106 For example, document requests 216-A by typing something, making a selection, or clicking on something or the public URL 410 (eg the public address 605 ) accesses the document in a different way 216-A assigned.
In Schritt 7006 wird ermittelt, ob das Benutzergerät 106 online ist. Wenn ermittelt wird, dass Benutzergerät 106 im Online-Betrieb ist, dann fährt das Flussdiagramm bei Schritt 7024 fort. In Schritt 7024 wird die öffentliche URL benutzt, um das Warmstart-Bearbeitungsprogramm einschließlich des Dokuments vom Dokumentenservice zu erhalten. Das Benutzergerät 106 benutzt dann die öffentliche URL 410, um ein Warmstart-Bearbeitungsprogramm, einschließlich Dokument 216-A, vom Dokumentendienst 104 abzurufen und das Flussdiagramm endet dann in Schritt 7022, wenn das Warmstart-Bearbeitungsprogramm gestartet und das Dokument angezeigt wird. In step 7006 it determines if the user device 106 is online. If it is determined that user device 106 is in online mode, then the flowchart moves to step 7024 continued. In step 7024 the public URL is used to get the warm start editor, including the document service document. The user device 106 then use the public URL 410 to get a reboot editor, including document 216-A , from the document service 104 and then the flowchart ends in step 7022 when the warm start program starts and the document is displayed.
In Erwiderung auf die Ermittlung in Schritt 7006, dass das Benutzergerät 106 nicht in einem Online-Zustand ist, fährt das Flussdiagramm oder die Routine bei Schritt 7008 fort. Zum Beispiel bestimmt der Browser, dass das Benutzergerät 106 in einem Offline-Zustand oder -Modus ist. In response to the determination in step 7006 that the user device 106 is not in an online state, the flowchart or routine moves to step 7008 continued. For example, the browser determines that the user device 106 is in an offline state or mode.
In Schritt 7008 wird die öffentliche URL durch die Starteranwendung überprüft, um zu bestimmen, ob die öffentliche URL einen Link zum Dokument umfasst. Wenn dem so ist, dann wird die Dokument-ID extrahiert. Wenn die Starteranwendung 214 eine Anfrage für Dokument 216-A abfängt, dann überprüft die Starteranwendung 214 die öffentliche URL 410 (z.B. Klicken, Auswählen, Befehl oder andere Zugriffsanfragen), um die Dokument-ID zu finden, die extrahiert werden soll. In einer Ausführungsform kann die Dokument-ID von der öffentlichen URL 410 (welche die öffentliche Adresse 605 sein kann) extrahiert werden oder durch andere Mittel erhalten werden. In step 7008 The public URL is checked by the starter application to determine if the public URL links to the document includes. If so, then the document ID is extracted. If the starter application 214 a request for document 216-A then the starter application will check 214 the public URL 410 (eg, click, select, command, or other access requests) to find the document ID to extract. In one embodiment, the document ID may be from the public URL 410 (which the public address 605 can be extracted) or obtained by other means.
In Schritt 7010 wird die Datenbank angefragt, um herauszufinden, ob das Kaltstart-Bearbeitungsprogramm mit dem Dokument verbunden ist. In einer Ausführungsform wird die Datenbank 220 angefragt, um herauszufinden, mit welchem Kaltstart-Bearbeitungsprogramm das Dokument 216-A verbunden ist. Die Faktoren, die mit dem Benutzer und dem Dokument verbunden sind, können betrachtet werden, wenn man das Binärcode-Bearbeitungsprogramm auswählt. In step 7010 The database is queried to find out if the cold start editor is connected to the document. In one embodiment, the database becomes 220 asked to find out with which cold start program the document 216-A connected is. The factors associated with the user and the document can be considered when selecting the binary code editing program.
In Schritt 7012 wird die Datenbank angefragt, um die Eigenschaften des Benutzers zu bestimmen, welche die Binärcode-Auswahl beeinflussen. In einer Ausführungsform wird die Datenbank 220 angefragt, um die Eigenschaften des Benutzers festzustellen, welche die Binärcode-Auswahl beeinflussen. In step 7012 the database is requested to determine the properties of the user that affect the binary code selection. In one embodiment, the database becomes 220 requested to determine the properties of the user affecting the binary code selection.
In Schritt 7014 wird eine private URL erzeugt, welche Informationen von Schritten 7008, 7010 und 7012 enthält. Zum Beispiel kann die private Adresse 610 in einer Form erzeugt werden, die von 6 dargestellt wird. In step 7014 creates a private URL containing information from steps 7008 . 7010 and 7012 contains. For example, the private address 610 be generated in a form of 6 is pictured.
In Schritt 7016 veranlasst die Starteranwendung, dass der Browser zu einer privaten URL navigiert. Browser 210 navigiert zu der privaten Adresse 610. In step 7016 The starter application causes the browser to navigate to a private URL. browser 210 navigates to the private address 610 ,
In Schritt 7018 wird die HTML5-Verlaufs-API verwendet, um die private URL mit ihrer entsprechenden öffentlichen URL zu ersetzen. Wie zum Beispiel oben beschrieben, wird die HTML5-Verlaufs-API verwendet, um die private Adresse 610 mit der öffentlichen Adresse 605 zu ersetzen. In step 7018 The HTML5 History API is used to replace the private URL with its corresponding public URL. For example, as described above, the HTML5 History API is used to store the private address 610 with the public address 605 to replace.
In Schritt 7020 wird das Dokument von der lokalen Datenbank geladen und angezeigt. Dokument 216-A (und die mit Dokument 216-A verbundenen Daten) werden von der Datenbank 220 geladen und einem Benutzer angezeigt, der das Gerät 106 einsetzt. Das Flussdiagramm fährt dann in Schritt 7022 zum Ende fort. In step 7020 the document is loaded from the local database and displayed. document 216-A (and those with document 216-A linked data) are from the database 220 loaded and displayed to a user who owns the device 106 starts. The flowchart then moves to step 7022 to the end.
In einer alternativen Ausführungsform versucht das Kaltstart-Bearbeitungsprogramm den Dokumentenservice 104 zu kontaktieren, um das Dokument 216-A zu laden. Wenn dieser Schritt fehlschlägt, dann wird Dokument 216-A von der lokalen Datenbank 220 geladen. Wie oben erklärt, müssen die Kaltstart-Bearbeitungsprogramme möglicherweise keine Version des Dokumentes beinhalten, das mit der Anwendung vermischt ist. In an alternative embodiment, the cold start processing program attempts the document service 104 to contact the document 216-A to load. If this step fails then the document becomes 216-A from the local database 220 loaded. As explained above, the cold start editors may not need to include a version of the document that is mixed with the application.
Da das Kaltstart-Bearbeitungsprogramme 212 nur verwendet wird, wenn das Benutzergerät 106 benutzt wird, um Dokumente zu starten, während es in einem Offline-Modus ist, kann es ein unterschiedliches Start-Verfahren zum Warmstart-Bearbeitungsprogramm 313 haben. Because the cold start machining programs 212 only used when the user device 106 When it is used to start documents while it is in an offline mode, there may be a different startup procedure to the warm startup machining program 313 to have.
Wenn ein Benutzer nicht imstande ist, auf das Internet zuzugreifen und nicht imstande ist, online zu gehen (z.B. wegen einer temporäre oder dauerhaften Unterbrechung im Netzwerk oder einer instabilen Verbindung), dann kann der Benutzer auf das Dokument 216-A über jede mögliche Vorrichtung zugreifen (z.B. Benutzergerät 106) welche die korrekten Dokumentdaten in ihrer Datenbank 220 und die korrekten Kaltstart-Bearbeitungsprogramme- in seinem Bearbeitungsprogramm-Cache enthält. If a user is unable to access the internet and is unable to go online (eg because of a temporary or permanent network interruption or an unstable connection), then the user can access the document 216-A access via any device (eg user device 106 ) which contains the correct document data in their database 220 and contains the correct cold start machining programs in its machining program cache.
Massensynchronisationsvorrichtung Mass Synchronizer
Eine Massensynchronisationsvorrichtung synchronisiert Dokumente, ohne dass ein Bearbeitungsprogramm geöffnet sein muss. In einer Ausführungsform wird die Massensynchronisationsvorrichtung benutzt, während das Benutzergerät 106 online ist. In einer Ausführungsform kann die Massensynchronisationsvorrichtung die Gestalt eines shared Workers annehmen, mit dem sich den alle Bearbeitungsprogramme und Dokumentenmanager verbinden können. Die Massensynchronisationsvorrichtung kann anwendungszwischengespeichert sein. Dokumente, die über ein Bearbeitungsprogramm verfügen, das derzeit geöffnet ist, können möglicherweise nicht durch diesen Worker synchronisiert werden, und es kann eine Rolle bei der Koordinierung des Datenbankzugriffs von vielfachen Editoren spielen, die das gleiche Dokument geöffnet haben. Dokumente, die für den Offline-Zugriff ausgewählt werden und kein Bearbeitungsprogramm geöffnet haben, können durch dieses Teil regelmäßig synchronisiert werden. Die Teilmenge der servergespeicherten Dokumente des Benutzers, welche die Massensynchronisationsvorrichtung beschließt, auf dem Client zu speichern, kann von verschiedenen Faktoren abhängen. Diese können die manuelle Benutzerauswahl und die automatisierte Bestimmung beinhalten, welche von Dokumentinhalt und Benutzertätigkeit abhängen. Zum Beispiel können vor kurzem geöffnete Dokumente gespeichert werden. Dokumente können diese Offline-Teilmenge betreten oder sie verlassen, was von der Massensynchronisationsvorrichtung erfordert, bestehende lokal gespeicherte Dokumente zu entfernen und neue hinzuzugeben, sowie die bestehenden zu aktualisieren. Die Massensynchronisationsvorrichtung kann nur dann aktiv bleiben, wenn ein Dokumentenmanager oder -bearbeitungsprogramm geöffnet ist, oder sie kann dauerhaft aktiv bleiben.A mass synchronization device synchronizes documents without having to open a machining program. In one embodiment, the mass synchronization device is used while the user device 106 is online. In one embodiment, the mass synchronization device may take the form of a shared worker with which all the editing programs and document managers can connect. The mass synchronization device may be application buffered. Documents that have an editing program that is currently open may not be synchronized by this worker, and it may play a role in coordinating database access by multiple editors who have opened the same document. Documents that are selected for offline access and have no editing program open can be synchronized by this part on a regular basis. The subset of the user's roaming documents, which the mass synchronization device chooses to store on the client, may depend on several factors. These may include manual user selection and automated determination, depending on document content and user activity. For example, recently opened documents can be saved. Documents can enter or leave this offline subset, which requires the mass synchronization device to remove existing locally stored documents and add new ones, as well as to update the existing ones. The mass synchronization device can only remain active if a document manager or editor is open, or it can remain permanently active.
Speicherung und Lieferung von ungespeicherten Änderungen Storage and delivery of unsaved changes
Änderung, die an einem Dokument vorgenommen werden, während man offline ist, können in einer getrennten Datenstruktur von erfolgten Abänderungen (d.h. in einem Online-Modus vorgenommen) in einem Benutzergerät 106 gespeichert werden. Sie können entweder gesendet werden, wenn die Sitzung, die sie hergestellt hatte, wieder online geht, oder wenn das Benutzergerät 106 online mit den offline vorhandenen Änderungen startet. In diesem Fall können Offline-Änderungen entweder durch die Massensynchronisationsvorrichtung oder durch eine Bearbeitungsprogrammsitzung übertragen werden, die geöffnet sind, um dieses Dokument zu bearbeiten. Sobald diese Lieferung komplett ist, können diese Änderungen vom separaten Client-Speicher entfernt werden, und die gespeicherte Dokumentenversion des Clients kann aktualisiert werden, um sie einzuschließen. Changes made to a document while being offline can be made in a separate data structure from made modifications (ie, made in an on-line mode) in a user device 106 get saved. They can either be sent when the session that made them comes back online, or when the user device 106 starts online with the changes available offline. In this case, offline changes may be transmitted either through the mass synchronization device or through a machining program session opened to process that document. Once this delivery is complete, these changes can be removed from the separate client store and the saved document version of the client can be updated to include them.
Offline-Bearbeitung des DokumentsOffline editing of the document
in einer Ausführungsform können Warmstart-Dokumente unterschiedlicher Web-Anwendungen für die beschreibbaren und Read-Only-Versionen dienen. Das Offline-Kaltstart-Bearbeitungsprogramm 212 (oben beschrieben) kann zum Anzeigen in den Read-Only- oder beschreibbaren Modi fähig sein. In Read-Only-Modi sind beschreibbare Modi mit allen Bearbeitungsfunktionen deaktiviert und bearbeitungsverwandte Steuerungen deaktiviert oder nicht angezeigt. In one embodiment, warm-start documents from different web applications may serve for the writable and read-only versions. The offline cold start editor 212 (described above) may be capable of displaying in the read-only or writable modes. In read-only modes, writable modes are disabled with all editing features and editing-related controls are disabled or not displayed.
in einer Ausführungsform machen Dokument-Bearbeitungsprogramme ununterbrochene Versuche, eine Netzwerkverbindung zum Dokumentendienst 104 herzustellen. Wenn die Kommunikation hergestellt ist, werden Versuche unternommen, alle Aktualisierungen des Dokuments abzurufen, die dem Server bekannt sind, und lokal vorgenommene Änderungen an ihn zu liefern. Wenn Kommunikationsversuche vereitelt werden, weil der Browser keine gültigen Authentifizierungsbescheinigungen besitzt, dann kann eine Benutzerschnittstelle gezeigt werden, die Bescheinigungen erbittet. In one embodiment, document handlers make uninterrupted attempts to network to the document service 104 manufacture. Once the communication is established, attempts are made to retrieve all updates to the document known to the server and to make locally made changes to it. If communication attempts are thwarted because the browser does not have valid authentication credentials, then a user interface may be shown requesting credentials.
Im beschreibbaren Modus können Änderungen am Dokument 216-A vorgenommen werden. Man nehme nun an, dass der Theaterautor wünscht, einen vierten Akt zu seinem Spiel hinzuzufügen, während er im Zug nach Mailand sitzt. Alle Änderungen die am Theaterstückdokument vorgenommen werden, werden lokal gespeichert, und wenn die Vorrichtung des Theaterautors dazu in der Lage ist, wieder online zu gehen, werden alle Änderungen, die auf seinem Gerät gespeichert sind, an den Dokumentendienst 104 übermittelt. Die Änderungen, die vom Theaterautor vorgenommen werden, können in der gleichen Datenstruktur wie das Dokument gespeichert werden. Diese Struktur würde eine Anzeige beinhalten, ob irgendwelche nicht gelieferten lokalen Änderungen gespeichert werden. In einer alternativen Ausführungsform können nicht gelieferte Änderungen in einer getrennten Datenstruktur gespeichert werden. In writable mode, you can make changes to the document 216-A be made. Assume now that the playwright wishes to add a fourth act to his play while sitting on the train to Milan. Any changes made to the play document are stored locally, and if the play author's device is able to go online again, any changes stored on his device will go to the document service 104 transmitted. The changes made by the playwright can be saved in the same data structure as the document. This structure would include an indication of whether any undelivered local changes are being stored. In an alternative embodiment, undelivered changes may be stored in a separate data structure.
In einer Ausführungsform werden an dem Dokument 216-A gemachte Bearbeitungen an dem Benutzergerät 106 gespeichert. Zum Beispiel werden, wie oben beschrieben, nicht gelieferte lokale Änderungen gespeichert. Wenn sich das Benutzergerät 106 mit dem Dokumentendienst 104 verbindet, dann werden die Änderungen an den Server gesendet (d.h. an Dokumentendienst 104). In one embodiment, on the document 216-A made edits to the user device 106 saved. For example, as described above, undelivered local changes are stored. When the user device 106 with the document service 104 connects, then the changes are sent to the server (ie to document service 104 ).
In einer Ausführungsform sendet das Benutzergerät 106 eine Anfrage an den Server (d.h. den Dokumentendienst 104), um Aktualisierungen für das Dokument 216-A abzufragen. Auf diese Weise wird das lokal gespeicherte Dokument 216-A, das lokal auf dem Benutzergerät 106 gespeichert wird, mit dem Dokument 216-A synchronisiert, das auf dem Dokumentendienst 104 gespeichert ist, und irgendwelche Änderungen, die von den Mitarbeitern oder von anderen Benutzern vorgenommen werden, werden vom Benutzergerät 106 empfangen. In Erwiderung auf die Anfrage des Servers bezüglich Aktualisierungen zum Dokument 216-A empfängt das Benutzergerät 106 die Aktualisierungen. In one embodiment, the user device sends 106 a request to the server (ie the document service 104 ) to get updates for the document 216-A query. This will be the locally stored document 216-A locally on the user device 106 is saved with the document 216-A synchronized on the document service 104 is stored, and any changes made by the co-workers or other users will be made by the user device 106 receive. In response to the server's request for updates to the document 216-A receives the user device 106 the updates.
Wenn der Benutzer das Dokument 216-A auswählt, während das Benutzergerät 106 in einem Offline-Modus ist, dann bestimmt der Anwendungs-Cache 221, welches einer Vielzahl von lokalen Bearbeitungsprogramm-Caches 215 verwendet werden soll, um das Dokument 216-A zu öffnen. Die Bestimmung kann auf einer Kombination von Eigenschaften basieren, die mit dem Benutzer und dem Dokument 216-A verbunden sind. If the user the document 216-A selects while the user device 106 in an offline mode, then the application cache determines 221 which includes a variety of local editing program caches 215 should be used to the document 216-A to open. The determination may be based on a combination of properties associated with the user and the document 216-A are connected.
In verschiedenen Ausführungsformen können die hierin beschriebenen Verfahrensschritte, einschließlich der in 5 und 7 beschriebenen, in einer Reihenfolge ausgeführt werden, die von der beschriebenen oder gezeigten Reihenfolge abweicht. In weiteren Ausführungsformen können weitere Schritte von den beschriebenen Verfahren vorgesehen oder ausgelassen werden. In various embodiments, the method steps described herein, including those described in U.S. Pat 5 and 7 be executed in an order that differs from the described or shown order. In further embodiments, further steps may be provided or omitted from the described methods.
Die hierin beschriebenen Systeme, Geräte und Verfahren können mit digitalen Schaltkreisen oder mit einem oder mehreren Computern, mit allgemein bekannten Computerprozessoren, Speichereinheiten, Speichergeräten, Computersoftware und sonstigen Komponenten implementiert werden. Typischerweise beinhaltet ein Computer einen Prozessor zum Ausführen der Instruktionen und einen oder mehrere Speicher zum Speichern von Instruktionen und Daten. Ein Computer kann darüber hinaus ein oder mehrere Massenspeichergeräte enthalten oder damit gekoppelt sein, wie zum Beispiel eine oder mehrere Magnetplatten, interne Festplatten und austauschbare Platten, magnetooptische Platten, optische Platten etc. The systems, apparatus, and methods described herein may be used with digital circuits or with one or more computers, with well-known computer processors, memory units, memory devices, computer software, and other components are implemented. Typically, a computer includes a processor for executing the instructions and one or more memories for storing instructions and data. A computer may also include or be coupled to one or more mass storage devices, such as one or more magnetic disks, internal hard disks and removable disks, magneto-optical disks, optical disks, etc.
Die hierin beschriebenen Systeme, Geräte und Verfahren können unter Verwendung von Computern implementiert werden, die in einer Client-Server-Beziehung betrieben werden. Typischerweise sind in einem solchen System die Client-Computer vom Server-Computer entfernt untergebracht und beide interagieren über ein Netzwerk. Die Client-Server-Beziehung kann durch Computerprogramme bestimmt und gesteuert werden, die auf den jeweiligen Client- und Server-Computern laufen. The systems, devices, and methods described herein may be implemented using computers that operate in a client-server relationship. Typically, in such a system, the client computers are located remotely from the server computer and both interact over a network. The client-server relationship can be determined and controlled by computer programs running on the respective client and server computers.
Die hierin beschriebenen Systeme, Geräte und Verfahren können innerhalb eines netzwerkbasierten Cloud-Computersystems verwendet werden. In einem solchen netzwerkbasierten Cloud-Computersystem kommunizieren ein Server oder ein weiterer Prozessor, der mit einem Netzwerk verbunden ist, mit einem oder mehreren Client-Computern über ein Netzwerk. Ein Client-Computer kann mit dem Server über eine Netzwerk-Browser-Anwendung kommunizieren, die sich zum Beispiel auf dem Client-Computer befindet und dort ausgeführt wird. Ein Client-Computer kann Daten auf dem Server speichern und über das Netzwerk auf die Daten zugreifen. Ein Client-Computer kann Anfragen für Daten, oder Anfragen nach Online-Diensten über das Netzwerk an den Server senden. Der Server kann die angeforderten Dienste ausführen und Daten für den/die Client-Computer bereitstellen. Der Server kann außerdem Daten senden, die einen Client-Computer zur Ausführung einer bestimmten Funktion veranlassen, z. B. um eine Berechnung auszuführen, um bestimmte Daten auf einem Bildschirm anzuzeigen, etc. Zum Beispiel kann der Server eine Anfrage senden, die darauf abzielt, dass ein Client-Computer einen oder mehrere der Schritte des hierin beschriebenen Verfahrens ausführt, einschließlich eines oder mehrerer der in den 5 und 7 abgebildeten Schritte. Bestimmte Schritte des hierin beschriebenen Verfahrens, einschließlich eines oder mehrerer der in den 5 und 7 dargestellten Schritte, können von einem Server oder von einem weiteren Prozessor in einem netzwerkbasierten Cloud-Computersystem ausgeführt werden. Bestimmte Schritte des hierin beschriebenen Verfahrens, einschließlich eines oder mehrerer der in den 5 und 7 dargestellten, können von einem Client-Computer in einem netzwerkbasierten Cloud-Computersystem ausgeführt werden. Die Schritte der hierin beschriebenen Verfahren, einschließlich eines oder mehrerer der in den 5 und 7 beschriebenen Schritte, können von einem Server bzw. von einem Client-Computer in einem netzwerkbasierten Cloud-Computersystem in jeder beliebigen Kombination ausgeführt werden. The systems, devices, and methods described herein may be used within a network-based cloud computing system. In such a network-based cloud computing system, a server or other processor connected to a network communicates with one or more client computers over a network. A client computer may communicate with the server via a network browser application located, for example, on the client computer and running there. A client computer can store data on the server and access the data over the network. A client computer may send requests for data or requests for online services over the network to the server. The server can execute the requested services and provide data to the client computer (s). The server may also send data that causes a client computer to perform a particular function, e.g. For example, to perform a calculation to display certain data on a screen, etc. For example, the server may send a request that a client computer perform one or more of the steps of the method described herein, including one or more in the 5 and 7 pictured steps. Certain steps of the method described herein, including one or more of the in the 5 and 7 The steps illustrated may be performed by a server or another processor in a network-based cloud computing system. Certain steps of the method described herein, including one or more of the in the 5 and 7 can be executed by a client computer in a network-based cloud computing system. The steps of the methods described herein, including one or more of the in the 5 and 7 The steps described above may be performed by a server or a client computer in a network-based cloud computing system in any combination.
Die hierin beschriebenen Systeme, Geräte und Verfahren können mit einem Computerprogramm implementiert werden, das konkret auf einem Datenträger vorliegt, z. B. auf einem nichtflüchtigen, maschinenlesbaren Speichergerät, zur Ausführung durch einen programmierbaren Prozessor, und die hier beschriebenen Verfahrensschritte, einschließlich eines oder mehrerer der in den 5 und 7 beschriebenen Schritte, können unter Verwendung von einem oder mehreren Computerprogrammen implementiert werden, die von einem solchen Prozessor ausgeführt werden können. Ein Computerprogramm ist ein Satz von Computerprogrammanleitungen, der direkt oder indirekt in einem Computer dafür verwendet werden kann, eine bestimmte Aktivität aus- oder ein bestimmtes Ergebnis herbeizuführen. Ein Computerprogramm kann in jeder beliebigen Art von Programmiersprache geschrieben sein, einschließlich kompilierter oder interpretierter Sprachen und kann in jeder beliebigen Form eingesetzt werden, darunter auch als unabhängiges Programm oder als ein Modul, eine Komponente, eine Subroutine oder andere Einheit, die für den Einsatz in einer Rechnerumgebung geeignet ist. The systems, devices and methods described herein may be implemented with a computer program that is concretely stored on a data carrier, e.g. On a non-transitory, machine-readable storage device for execution by a programmable processor, and the method steps described herein, including one or more of the ones described in U.S. Patent Nos. 5,496,988, 5,866,866, 5,429,877, 5,848,866, 5,378,866, 5,848,866, 5,896,842, 5,896,842 5 and 7 described steps can be implemented using one or more computer programs that can be executed by such a processor. A computer program is a set of computer program instructions that can be used, directly or indirectly, in a computer to produce or result in a particular activity. A computer program may be written in any type of programming language, including compiled or interpreted languages, and may be used in any form, including as an independent program or as a module, component, subroutine, or other entity suitable for use in the art a computer environment is suitable.
Ein Blockdiagramm auf hoher Ebene eines beispielhaften Computers, der zur Implementierung der hierin beschriebenen Systeme, Geräte und Verfahren benutzt werden kann, wird in 8 dargestellt. Der Computer 800 beinhaltet einen Prozessor 801, der operativ mit einem Datenspeichergerät 802 und einem Speicher 803 gekoppelt ist. Der Prozessor 801 steuert die Gesamtoperationen des Computers 800, indem er Computerprogrammanleitungen ausführt, die diese Operationen festlegen. Die Computerprogrammanleitungen können im Datenspeichergerät 802 oder in einem sonstigen computerlesbaren Medium gespeichert sein und in den Speicher 803 geladen werden, wenn die Computerprogrammanleitungen ausgeführt werden sollen. Somit können die Verfahrensschritte von 5 und 7 von den Computerprogrammanleitungen bestimmt werden, die im Speicher 803 und/oder dem Datenspeichergerät 802 gespeichert sind und von dem Prozessor 801 gesteuert werden, der die Computerprogrammanleitungen ausführt. Die Computerprogrammanweisungen können zum Beispiel als computerausführbarer Code implementiert werden, die von einem Fachmann programmiert werden, um einen Algorithmus auszuführen, der von den Verfahrensschritten in 5 und 7 bestimmt wird. Dementsprechend führt der Prozessor 801, indem er die Computerprogrammleitungen ausführt, einen durch die in 5 und 7 beschriebenen Schritte des von dem Verfahren definierten Algorithmus aus. Der Computer 800 beinhaltet darüber hinaus eine oder mehrere Netzwerkschnittstellen 804 für die Kommunikation mit anderen Geräten über ein Netzwerk. Der Computer 800 beinhaltet darüber hinaus ein oder mehrere Ein-/Ausgabegeräte 805, mit deren Hilfe der Benutzer mit dem Computer 800 interagieren kann (z. B. Anzeige, Tastatur, Maus, Lautsprecher, Schaltflächen etc). A high-level block diagram of an exemplary computer that may be used to implement the systems, apparatuses, and methods described herein is disclosed in U.S.P. 8th shown. The computer 800 includes a processor 801 operating with a data storage device 802 and a memory 803 is coupled. The processor 801 controls the overall operations of the computer 800 by running computer program guides that set these operations. The computer program instructions can be found in the data storage device 802 or stored in any other computer-readable medium and in memory 803 are loaded when the computer program instructions are to be executed. Thus, the steps of 5 and 7 are determined by the computer program instructions stored in memory 803 and / or the data storage device 802 are stored and by the processor 801 controlling the computer program instructions. For example, the computer program instructions may be implemented as computer-executable code that may be programmed by a person skilled in the art to execute an algorithm derived from the method steps in FIG 5 and 7 is determined. Accordingly, the processor performs 801 By executing the computer program lines, one by the in 5 and 7 described steps of the algorithm defined by the method. The computer 800 also includes one or more network interfaces 804 for communication with other devices over a network. The computer 800 also includes one or more input / output devices 805 that helps the user with the computer 800 interact (eg display, keyboard, mouse, speakers, buttons etc).
Der Prozessor 801 kann Mikroprozessoren sowohl allgemeiner als auch spezieller Art beinhalten und der einzige Prozessor oder einer von mehreren Prozessoren des Computers 800 sein. Der Prozessor 801 kann z. B. einen oder mehrere zentrale Recheneinheiten (CPUs) beinhalten. Der Prozessor 801, das Datenspeichergerät 802 und/oder der Speicher 803 können einen oder mehrere anwendungsspezifische integrierte Schaltkreise (ASICs) und/oder einen oder mehrere feldprogrammierbare Gate Arrays (FPGAs) enthalten, davon ergänzt oder in diese einbezogen sein. The processor 801 may include both general and special type microprocessors and the sole processor or processors of the computer 800 be. The processor 801 can z. B. include one or more central processing units (CPUs). The processor 801 , the data storage device 802 and / or the memory 803 may include, be supplemented with or incorporated into one or more application specific integrated circuits (ASICs) and / or one or more field programmable gate arrays (FPGAs).
Das Datenspeichergerät 802 und der Speicher 803 enthalten konkret jeweils ein nichtflüchtiges computerlesbares Speichermedium. Das Datenspeichergerät 802 und der Speicher 803 können jeweils Hochgeschwindigkeits-RAM enthalten, wie zum Beispiel Dynamic Random Access Memory (DRAM), Static Random Access Memory (SRAM), Double Data Rate Synchronous Dynamic Random Access Memory (DDR RAM) oder sonstige Festspeichergeräte zum Direktzugriff und können nichtflüchtige Speicher enthalten, wie z. B. ein oder mehrere Magnetplattenspeichergeräte, z. B. interne Festplatten und austauschbare Platten, magnetooptische Plattenspeichergeräte, Speichergeräte, die optische Platten verwenden, Flash-Speichergeräte, Halbleiterspeichergeräte, wie z. B. lösch- und programmierbaren Read-only Arbeitsspeicher (EPROM), elektrisch lösch- und programmierbaren Read-only Arbeitsspeicher (EEPROM), Compact Disc Read-only Memory (CD-ROM), Digital Versatile Disc Read-only Memory (DVD-ROM) oder sonstige nichtflüchtige Festspeichergeräte. The data storage device 802 and the memory 803 Concretely, each contains a non-volatile computer-readable storage medium. The data storage device 802 and the memory 803 each may include high-speed RAM such as Dynamic Random Access Memory (DRAM), Static Random Access Memory (SRAM), Double Data Rate Synchronous Random Access Memory (DDR RAM), or other random access memory devices, and may include nonvolatile memory such as z. B. one or more magnetic disk storage devices, for. As internal hard disks and removable disks, magneto-optical disk storage devices, storage devices that use optical disks, flash memory devices, semiconductor memory devices such. For example, erasable and programmable read-only memory (EPROM), electrically erasable and programmable read-only memory (EEPROM), compact disc read-only memory (CD-ROM), digital versatile disc read-only memory (DVD-ROM) ) or other non-volatile memory devices.
Zu den Ein-/Ausgabe-Geräten 805 können Peripheriegeräte wie Drucker, Scanner, Bildschirm usw. gehören. Zu den Ein-/Ausgabe-Geräten 805 können zum Beispiel ein Anzeigegerät, wie zum Beispiel ein Kathodenstrahlröhren-(CRT) oder Flüssigkristall-(LCD)-Bildschirm zur Anzeige von Informationen für den Benutzer, eine Tastatur und ein Zeigegerät, wie z. B. eine Maus oder ein Trackball gehören, mit deren Hilfe der Benutzer Eingaben in den Computer 800 vornehmen kann. To the input / output devices 805 may include peripherals such as printers, scanners, monitors, etc. To the input / output devices 805 For example, a display device such as a cathode ray tube (CRT) or liquid crystal (LCD) screen may be used to display information to the user, a keyboard, and a pointing device, such as a keyboard. As a mouse or a trackball belong, with the help of which the user inputs to the computer 800 can make.
Einige oder alle der hierin besprochenen Systeme und Geräte, einschließlich des Dokumentenservice 104, des Benutzergeräts 106, der Webseite 108 und Komponenten davon, einschließlich des Web-Browsers 210, der Anzeige 270, des Prozessors 250, des Speichers 219, des Prozessors 375 und des Speichers 325 können mithilfe eines Computers implementiert werden, wie zum Beispiel des Computers 800. Some or all of the systems and devices discussed herein, including the document service 104 , the user device 106 , the website 108 and components thereof, including the web browser 210 , the ad 270 , the processor 250 , the memory 219 , the processor 375 and the memory 325 can be implemented using a computer, such as the computer 800 ,
Ein Fachmann wird erkennen, dass eine Implementierung eines konkreten Computers oder Computersystems weitere Strukturen innehaben und weitere Komponenten enthalten kann und dass 8 eine Darstellung auf hoher Ebene einiger der Komponenten eines solchen Computers zu Illustrationszwecken ist. One skilled in the art will recognize that an implementation of a particular computer or computer system may have other structures and may include other components, and that 8th is a high level representation of some of the components of such a computer for illustrative purposes.
Die obige detaillierte Beschreibung ist in jeder Hinsicht als Veranschaulichung und als beispielhaft zu verstehen, aber nicht einschränkend, und der Umfang der hier offenbarten Erfindung soll nicht von der detaillierten Beschreibung bestimmt werden, sondern von den Patentansprüchen, die gemäß der Patentgesetze in ihrer vollen Breite auszulegen sind. Es versteht sich, dass die hierin gezeigten und beschriebenen Ausführungsformen lediglich zur Veranschaulichung der Prinzipien dieser Erfindung dienen und dass Fachleute verschiedene Änderungen vornehmen können, ohne dass sie sich dadurch vom Umfang oder vom Geist dieser Erfindung entfernen. Fachleute können verschiedene weitere Kombinationen von Eigenschaften vornehmen, ohne sich dadurch vom Umfang oder vom Geist dieser Erfindung zu entfernen. The above detailed description is to be considered in all respects by way of illustration and example, but not limitation, and the scope of the invention disclosed herein is not to be determined by the detailed description but by the claims which are to be interpreted in their full breadth in accordance with the patent laws are. It should be understood that the embodiments shown and described herein are merely illustrative of the principles of this invention and that those skilled in the art may make various changes without departing from the scope or spirit of this invention. Those skilled in the art can make various other combinations of properties without departing from the scope or spirit of this invention.