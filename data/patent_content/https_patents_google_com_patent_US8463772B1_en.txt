US8463772B1 - Varied-importance proximity values - Google Patents
Varied-importance proximity values Download PDFInfo
- Publication number
- US8463772B1 US8463772B1 US12/779,823 US77982310A US8463772B1 US 8463772 B1 US8463772 B1 US 8463772B1 US 77982310 A US77982310 A US 77982310A US 8463772 B1 US8463772 B1 US 8463772B1
- Authority
- US
- United States
- Prior art keywords
- query
- distance
- location
- region
- search results
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Active, expires
Links
Images
Classifications
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/90—Details of database functions independent of the retrieved data types
- G06F16/95—Retrieval from the web
- G06F16/953—Querying, e.g. by the use of web search engines
- G06F16/9537—Spatial or temporal dependent retrieval, e.g. spatiotemporal queries
Definitions
- This specification relates to ranking search results to present to a user of an electronic device.
- search queries are now often entered on the fly while a user is at a location relevant to his or her particular query.
- search results are ranked based on the topicality of the search result (i.e., the relevance to the subject matter of the query), the quality of the search result (e.g., if the search result relates to a business that has been highly rated, the quality can be boosted) and the proximity of a location associated with the search result to a location related to the query or associated with the user.
- search results will likely include the website for the San Francisco International Airport.
- the ranking of this result may be penalized based on the proximity score as compared to other search results that are relevant to “airport” and “San Francisco”, e.g., an airport limousine service located in San Francisco.
- one innovative aspect of the subject matter described in this specification can be embodied in methods that include the actions of receiving a search query from a client computing device and obtaining search results responsive to the search query.
- a distance importance factor associated with the search query is obtained.
- the distance importance factor indicates the importance of proximity of a search result location to a query location.
- the search result location is a geographic location associated with a search result and the query location is a geographic location associated with the search query.
- a proximity value is determined for the particular search result.
- the proximity values for each of the search results are provided to a ranking module that is configured to rank the search results responsive to the search query.
- Other embodiments of this aspect include corresponding systems, apparatus, and computer programs, configured to perform the actions of the methods, encoded on computer storage devices.
- the distance importance factor can be obtained as follows.
- a query can be found in a query-data store that corresponds to the received search query.
- the query-data store is a store of multiple queries and, for each query, a distance associated with the query that represents a typical proximity of a search result location to a query location for the particular query.
- the distance associated with each query comprises a scaled value between 0 and 1, and the scaled distance value can be the distance importance factor.
- Each query can be further associated by data in the query-data store with a region-normalized-distance that is the distance associated with the query adjusted based on a geographic region that includes the query location.
- Obtaining the distance importance factor associated with the search query can include obtaining a distance importance factor associated with the query location that indicates the importance of proximity of the search result location to any search query associated with that query location.
- a region-data store can store data that identifies multiple geographic regions, and, for each identified geographic region, associates a distance with the geographic region that represents a typical proximity of a search result location and a query location for query locations within the geographic region. Determining the distance importance factor associated with the query location can include finding a region identified in the region-data store that corresponds to the query location, wherein the distance importance factor is based on the distance associated with the identified region.
- the distance importance factor is determined based on a population density of a geographic region that includes the query location.
- another aspect of the subject matter described in this specification can be embodied in methods that include the actions of receiving data that includes multiple queries, and for each query one or more selected search results that were selected from a set of search results generated in response to the query. Based on the received data, a collection of queries and stored data that associates each query with a distance is generated. For a particular query, the distance is representative of a typical proximity of a search result location to a query location for the particular query.
- the search result location is a geographic location associated with a search result and the query location is a geographic location associated with the particular query.
- the system distance representative of the typical proximity for a particular query can be the mean or the median of the distances between the search result locations and the query locations for the one or more selected search results for the particular query.
- the distance representative of the typical proximity for a particular query can be a scaled value between 0 and 1.
- the query log data further can include, for each query, one or more driving direction distances associated with the one or more selected search results for the query.
- a driving direction distance is a distance determined in response to receiving a driving direction request for the corresponding selected search result. Determining the distance to associate with each query can be based on the one or more driving direction distances for the particular query. The distance representative of the typical proximity for a particular query can be determined from the median or the mean of the one or more driving direction distances for the particular query.
- region data that identifies multiple geographic regions and data that associates each identified region with a distance can be generated.
- the distance is representative of a typical proximity of a search result location to a query location for query locations within the particular geographic region.
- Data can be generated that associates each query in the collection of queries with a region-normalized distance, which is the distance associated with the query adjusted based on a geographic region that includes the query location.
- the region-normalized distance for a particular query can be the distance associated with the particular query divided by the distance associated with a geographic region that includes the query location corresponding to the particular query.
- search queries that typically provide search results that have corresponding search result locations far away from the query location (e.g, queries for “airport”, “theme park” or “ski resort”)
- the techniques described can provide fewer off-topic or low-quality search results, which using previous techniques were ranked highly only because of the proximity of their corresponding locations to the query location.
- search queries where quality is less important because the quality of the search results is generally the same (e.g., queries for “atm”, “post office” or “convenience store”)
- the techniques described put a greater emphasis on the proximity of the search result location to the query location, and therefore return fewer far-away search results.
- FIG. 1 is a schematic representation of a system configured to rank search results using a distance importance factor.
- FIG. 2 is a schematic representation of an example system for determining ranked search results based on a distance importance factor.
- FIG. 3 is a flowchart showing an example process for ranking search results based on a distance importance factor.
- FIG. 4 is a flowchart showing an example process for determining query-distance pairs.
- FIG. 5 is a flowchart showing an example process for determining region-distance pairs.
- FIG. 6 is a flowchart showing an example process for determining a region-normalized distance.
- FIGS. 7A-C are schematic diagrams showing an example of calculating a distance importance factor.
- FIG. 8 shows examples of computer devices that may be used to execute the actions discussed in this document.
- a distance importance factor can indicate a level of importance of proximity of a search result location to a query location.
- a query location typically represents a geographic location associated with a particular search query. For example, a search query “Coffee San Francisco” has a query location of San Francisco, which can be extracted from the search query itself in this example.
- a search result location is a geographic location associated with a search result. For example, a search result to the “Coffee San Francisco” search query can be a coffee shop located on Market Street in San Francisco, in which case the Market Street address is the search result location.
- the proximity between the query location and the search result location can be a factor in scoring search results, where the results are ranked based on their scores.
- a distance importance factor can indicate the level of importance of proximity for a particular search query, for a particular query location or for a combination of the search query and the query location.
- the distance importance factor can, for example, be applied to boost or penalize particular search result rankings based on a distance or proximity to a search result location from a query location.
- the query location is preferably a location that is related to the subject matter of the query. Techniques for determining the query location are described below.
- the proximity of a location associated with a search result (i.e., search result location) to the query location may be of varied importance. For example, if the user is searching for an automated teller machine (ATM) near the user's present location (which can be the query location), the user may find the proximity to the ATM important.
- ATM automated teller machine
- the distance may be important to this user because typically any ATM can allow access to the service of interest, so a closer ATM provides the advantage of saving the user travel time. Therefore, providing search results for ATMs 30 miles away may not be preferable to this particular user if, for example, one or more ATMs are available within blocks of the user's present query location. That is, proximity is important for this topic of search query.
- the proximity of the attorney's office to the query location may be of less importance to the user.
- the reputation, rating, or type of law may be of more importance than the distance to the search result location. Accordingly, the distance importance factor can reflect that proximity to search result location is less important, such that the scoring algorithm does not penalize (or over-penalize) any particular search result venue simply because the venue is farther away than another venue.
- a user can enter a search query for an airport near the user's location.
- the distance to the search result location e.g., the airport venue
- the distance to the search result location may be of even less importance because the user will generally be more tolerant of traveling to the airport as very few airports typically exist within any particular city.
- the user may wish to view search results for each available airport within a radius of the user's location, but may not wish to view search results for other businesses or venues simply having the term “airport” in the name of the business.
- the distance importance factor can be determined such that the proximity does not penalize particular search result locations, so that the actual airports will be provided and ranking highly in a listing of search results.
- the distance importance factor may be configured high when searching for services, such as an ATM; configured medium when searching for businesses, such as a law firm; and configured low when searching for venues such as an airport.
- determining distance importance factors can be based on a learned model trained using a historical log of queries and click data, although other techniques are also described.
- Techniques and systems are described here that determine estimates of the extent to which users are concerned about the geographic proximity of search results by analyzing data including, but not limited to search query data, log data, driving directions data, and population data.
- the estimates can be a function of a particular query location and a search result location.
- the estimates can also be a function of driving direction distances to selected search results.
- the systems can store data for particular search queries and apply the data to determine distance importance factors, which eventually can influence the provision and ranking of search results.
- the distance importance factors can be applied at query time to enable search engines to provide better-ranked search results to users.
- FIG. 1 is a schematic representation of a system configured to rank search results using a distance importance factor.
- the system includes a server system 100 that can receive search queries and respond with ranked search results.
- the server system 100 is capable of communicating with multiple users submitting search queries over a network (e.g., the Internet). For simplicity, the server system 100 is shown as a single computer but can be implemented across multiple computers located in one or more physical locations.
- the server system 100 includes a search engine 102 and a ranking module 104 .
- the server system 100 can employ the search engine 102 to search one or more bodies of information for the received search query.
- the server system 100 can employ the ranking module 104 to rank the search results.
- the server system 100 can provide the ranked search results to a user's computing system or other electronic device.
- the ranking module 104 is configured to rank search results according to a number of factors.
- the ranking module 104 is configured to rank results based on proximity in addition to one or more other factors, for example, topic relevance and quality of the search results.
- the ranking module 104 applies a distance importance factor that can increase or decrease the weighting of proximity in a scoring calculation.
- a query location 106 is depicted in FIG. 1 in the city of San Francisco.
- the user is at the query location 106 and submits a search query 108 for “Coffee San Francisco” to the server system 100 .
- a number of location markers are shown surrounding the query location 106 , depicted in the figure as dots.
- each search result location corresponds to a potential search result that relates to coffee in San Francisco, and that may be presented to the user if selected by the server system 100 .
- the relatively high number of dots provides a visual indication of the relatively high density of potential search result locations for this type of query.
- the ranking module 104 can assign a score to each possible search result to determine in which order the search results should be presented to a user, i.e., the ranking.
- the scores can be based on a number of factors, including the proximity of a particular search result location to a particular query location and the distance importance factor for a particular query.
- the ranking module 104 can use the scores to rank the search results according to selected factors.
- the server system 100 can send the ranked search results 110 to the user at location 106 .
- the circled dots 112 a - d represent top ranked search results. As is visually apparent from the figure, the top ranked search results correspond to the search result locations in closest proximity to the query location 106 , because in this example, the distance importance factor indicated that proximity was of relatively high importance.
- a user can submits a search query 116 for “Super Foods San Francisco” to the server system 100 , where the query has a corresponding query location 114 .
- the user is presumably looking for search results relating to the (fictitious) grocery chain “Super Foods”.
- the location markers 120 a - 122 b represent four potential search result locations.
- the density of Super Foods locations is considerably less than the density of coffee venues in the city of San Francisco.
- the distance importance factor associated with this search query indicates that proximity is of less importance than in the previous example. That is, the lower distance importance factor can indicate a higher tolerance for a longer driving or walking distance when looking for a food store than in the above “coffee” search query example, since a user will likely drive to any or all four Super Foods location to obtain an item.
- a number of location markers 120 a - b and 122 a - b are shown surrounding location 114 .
- Each location marker 120 a - 122 b represents a “Super Foods” search result location.
- the server system 100 can assess each search result location and provide ranked results 118 to the requesting user. As shown in FIG. 1 , the closest search result locations are locations 120 a and 120 b . However, since the only four locations of Super Foods are depicted, it is likely that all four results 120 a - 122 b will be provided in a search result list, although the search results corresponding to locations 120 a and 120 b will be the highest ranked.
- FIG. 2 is a schematic representation of an example system 200 for determining ranked search results based on a distance importance factor.
- the system 200 includes a server system 202 that is configured to communicate with multiple users over one or more networks (not shown).
- the server system 202 can be the server system 100 of FIG. 1 .
- the server system 202 for simplicity is shown as a single computer, but can be implemented across multiple computers located in one or more physical locations. The various components included in the server system 202 will be described below in reference to various implementations of determining distance importance factors.
- the server system 202 includes a search engine 204 and a ranking module 206 .
- the search engine 204 and ranking module 206 can be respectively, engine 102 and module 104 of FIG. 1 .
- the search engine 204 generally performs search queries to identify relevant content items (e.g., Internet-addressable resources) based on the search terms or phrases in the query and/or a number of other factors.
- the search engine 204 can employ ranking module 206 to rank content items for presentation to the user.
- the server system 202 also includes a distance importance determination module 208 .
- the distance importance determination module 208 is configured to determine distance importance factors, which can be associated with a query or a region.
- the server system 202 also includes a driving distance module 212 .
- the driving distance module 212 is configured to analyze user requests for driving directions.
- the server system 202 includes one or more data storage devices coupled to the one or more computers.
- the server system 202 includes the historical log of query and click data store 210 , a query-data store 214 , and a region-data store 216 .
- the different stores can be the same or different data storage devices. Other collections of historical data can also be stored.
- the query-data store 214 stores a collection of query-distance pairs, where each query stored in query-data store 214 is associated with a distance that represents a typical proximity of a search result location to a query location for the particular query.
- the region-data store 216 stores a collection of geographic region-distance pairs, where each geographic region stored in data store 216 is associated with a distance that represents a typical proximity of a search result location to a query location for query locations within the particular geographical region.
- the data in stores 210 , 214 , and 216 can be generated by the system 200 .
- the data in each of data stores 210 , 214 , and 216 can be generated by collecting and analyzing search query data and corresponding selected search results over a time period and can be continually or periodically added to and/or updated.
- a client computing device 218 receives a search query from a user and submits it to the server system 202 .
- the server system 202 receives the search query from the client computing device 218 and performs a search to obtain search results responsive to the received search query.
- the server system 202 can employ search engine 204 , ranking module 206 , distance importance determination module 208 , and driving distance module 212 to determine a set of ranked search results 222 to send back to the client computing device 218 . If the user of the client computing device 218 selects one or more of the search results, i.e., “clicks on a result”, the corresponding “click data” can be received by the system 202 . That is, the system can receive click data that indicates which search results were clicked on by the user of the client computing device 218 . The click data can be used to determine distance importance factors, as is described further below.
- FIG. 3 is a flowchart showing an example process 300 for ranking search results based on a distance importance factor.
- the process 300 will be described in reference to the system 200 shown in FIG. 2 , although it should be understood that differently configured systems can be used to implement the process 300 .
- a search query is received from a client computing device (Step 302 ).
- the search query can be received from a user operating client computing device 218 .
- a distance importance factor associated with the search query is determined (Step 304 ). How the distance importance factor is determined is described in detail below with reference to FIGS. 4-7C .
- the distance importance factor indicates the importance of proximity of a search result location to a query location for the particular search query. However, in some implementations, if a distance importance factor for the particular search query is not available, a distance importance factor for the query location (i.e., the location that corresponds to the search query) can be used instead, which is also described further below.
- a search corresponding to the search query can be performed in search engine 204 , for example, and search results responsive to the search query are obtained (Step 306 ).
- a proximity value for each search result can be determined based on the distance importance factor determined for the search query and the proximity of the search result location corresponding to the search results to the query location (Step 308 ).
- the proximity values can be provided to a ranking module, e.g., ranking module 206 (Step 310 ).
- the ranking module can determine a score for each search result that can be based on multiple factors, e.g., relevancy of a search result to the search query or the quality of a search result.
- scoring search results can include using past user behavior from search logs and/or summary information derived from click logs or other collectable data.
- the scoring is also based on the proximity value for the search result, that is, the score is based on the proximity of a location associated with the search result (i.e., the search result location) to the query location and the distance importance factor determined above (e.g., Step 304 ). That is, if the distance importance factor indicates that proximity is of high importance, then the proximity value (and accordingly the score) reflects the high importance attributed to proximity. Conversely, if the distance importance factor indicates that proximity is of low importance, the proximity value (and accordingly the score) will similarly reflect the lower importance.
- the query location is preferably a location that is related to the subject matter of the query. For example, if the query is for EMPIRE STATE BUILDING, then the query location can be the location of the Empire State Building in New York City, e.g., expressed as the geographical coordinates of the building itself. Depending on the level of granularity desired for the query location, the location can be the city where the building is located, e.g., New York City.
- more than one query location relating to more than one level of granularity can be determined and associated with the query, e.g., a first query location can be the geographical coordinates of the building itself, while a second query location associated with this query can be geographical coordinates for New York City (which can be the coordinates for the approximate center of the city, or can be coordinates defining city boundaries).
- each term included in the query can be checked against a collection of terms predetermined to identify locations and if a match is found, then the matching term(s) from the collection of location terms can be identified as the query location. For example, the location of San Francisco can be extracted from a query for RESTAURANTS SAN FRANCISCO.
- the collection of terms is a database of location terms that can include administrative areas (e.g., streets, cities, districts, states, provinces, countries) and points of interest, e.g., geographical features (e.g., mountains, rivers, lakes), landmarks (e.g., important buildings, monuments) and venues (e.g., parks, stadiums, stores).
- Each location can have a corresponding latitude and longitude and may also have a shape or extent.
- Other techniques for determining a location that is related to the query can be used. For example, if the query is entered into a search field in a map application, the user's interaction with a map displayed by the map application can be used to determine a location relating to the query.
- the query location can be determined to be London, even though London was not a term in the query.
- the user can input the query location either by virtue of some related action, e.g., inputting an address in a “to” field when searching for driving directions, or in response to a prompt, or otherwise.
- the location of the user at the time he or she submitted the query can be used instead, if known.
- the geographical location of the mobile electronic device can be determined using various techniques, some of which include using a global positioning system (GPS) information from the mobile device, cellular telephone cell tower triangulation techniques, sending a request for the location to a location service (e.g., Skyhook Wireless of Boston, Mass.), retrieving the information from the mobile electronic device's network, or receiving a manual input from the user.
- GPS global positioning system
- the location of the device may be determined using known WiFi access points and their known geographic locations. If the user is using a computer, the user's geographical location can be determined using information from the user's network provider, for example, using the user's IP address (e.g., using a service provided by IP2Location.com of Penang, Malaysia). As yet another example, a user can specify a default location that can be associated with an account for the user, which can be stored, e.g., in a cookie, for future search queries entered by the user.
- the default location can also be inferred from past queries of the user, for example, if the user has made many queries in the past with San Francisco as the query location, then San Francisco can be used as the user's default location for queries where a query location cannot otherwise be determined, e.g, extracted from the query terms.
- the search result location can be determined in any convenient manner.
- the search result location is extracted from a webpage or other electronic document identified by the search result.
- the search result locations are known and can be obtained and used.
- the search result locations are generally known.
- the search result venues can be provided by yellow page providers, business owners and/or from crawling a web page that describes a business or point of interest, and the search result locations are therefore provided or determined from the source of the search result venue.
- the search results are ranked based on the scoring.
- the ranked search results are received, e.g., from the ranking module 206 , and are provided to the client computing device (Step 312 ).
- the ranking module 206 can use any form of algorithm or algorithms to score and rank the search results.
- Other factors can be considered by the ranking module 206 in addition to the proximity value.
- the proximity value is the distance importance factor multiplied by the proximity distance. However, the proximity value can be determined according to a different relationship between the distance importance factor and the proximity.
- FIG. 4 is a flowchart showing an example process 400 for determining query-distance pairs.
- the process 400 will be described in reference to the system 200 shown in FIG. 2 , although it should be understood that differently configured systems can be used to implement the process 400 .
- the process 400 can begin with examining one or more query data logs (Step 402 ).
- the query data logs can, for example, include historical logs of queries and click data such as those stored in the historical log of query and click store 210 .
- the distances from locations corresponding to selected (i.e., clicked) search results for the query to a query location associated with the query can be determined (Step 404 ). For example, consider a user who inputs the query “hotel market street san francisco” and selects three search results that correspond to three hotels and therefore three search result locations.
- the click data can be used to determine that (i) a first hotel selected was 1.0 mile away from the query location (i.e., Market Street San Francisco) (ii) a second hotel selected was 2.3 miles away, and (iii) a third hotel selected was 3.0 miles away.
- a representative typical proximity distance from the query location to a search result location is determined (Step 406 ).
- the representative typical proximity distance is the average (mean) distance between the search result locations and the query location.
- the representative typical proximity distance is the median distance. Other techniques can be used to determine the representative typical proximity distance.
- the above example used “click data” as a basis for determining the representative typical proximity distance.
- previously calculated driving distances that were calculated in response to requests for driving directions from a query location to a search result location can be used instead of (or in addition to) the click data. These distances can be determined and/or recorded by the distance driving module 212 . For example, if a user clicked on search result generated in response to a query, and then made a request for driving directions to a location associated with the clicked search result from a location, the “from location” can be considered the query location and the “to location” can be the search result location.
- the driving distance calculated in response to the request can be stored as a proximity distance for the particular query. Multiple of these distances can be accumulated over time for the query and then used as a basis for determining a representative typical proximity distance (i.e., Step 406 ), for example, by using the median or mean of the accumulated distances.
- the distance between search result locations and query locations can vary widely depending on whether a selected search result venue is in an urban or rural area. In addition, the distance may simply vary between users entering the same query based on a high tolerance to travel far away for a particular venue (e.g., Disneyworld).
- a representative typical proximity distance is determined based on the distances calculated in step 404 (Step 406 ).
- the representative typical proximity distance can be determined by taking the median distance of one or more driving direction distances for a particular query.
- the typical proximity distance can be determined for each entered search query by taking the median of distances between the search result locations and the query locations for one or more selected search results.
- the median calculation can provide an indication of a tolerance level of how far a user is willing to travel to visit each particular location associated with a search result.
- the typical proximity distance is scaled to a value between zero and 1.0 (Step 408 ).
- the typical proximity distance may pertain to any or all of (i) a typical result distance associated with each query topic, (ii) a typical result distance associated with each query location, (iii) a typical driving distance associated with each query topic, or (iv) a typical driving distance associated with each query location.
- the typical proximity distance can be determined from the mean or median of one or more driving direction distances for a particular query.
- the typical proximity distance for a particular query can be the mean or median of the respective distances between search result locations and query locations for one or more selected search results.
- One example of scaling may include normalizing a distance for a particular search query.
- the Normalized distance (ND) can be determined using the following equation:
- N ⁇ ⁇ D [ Distance ⁇ ⁇ of ⁇ ⁇ Result - Distance ⁇ ⁇ of ⁇ ⁇ Closes ⁇ ⁇ Result ] [ Distance ⁇ ⁇ of ⁇ ⁇ Farthest ⁇ ⁇ Result - Distance ⁇ ⁇ of ⁇ ⁇ Closest ⁇ ⁇ Result ]
- a collection of query-distance pairs can thereby be built where each query is associated with its representative typical proximity distance, which may or may not be scaled or normalized, and stored in a data store (Step 410 ).
- the query-distance pairs can be stored in the query-data store 214 , for example.
- the query-distance pairs can be accessed to determine the importance of proximity distance for a search query. For example, upon receiving a search query, the system 202 can find and retrieve a query-distance pair in the query-data store 214 that corresponds to the received search query.
- the retrieved pair includes the representative typical proximity distance (which may or may not be scaled or normalized), which can be used to determine a distance importance factor for the query, or in some implementations, is the distance importance factor.
- the distance importance factor can be used when scoring and ranking search results, e.g., in steps 308 and 310 of process 300 . In some implementations, further calculations can be performed on retrieved data to determine a distance importance factor,
- queries received from a user of a mobile electronic device can be distinguished from queries received from a user of a non-mobile electronic device
- two collections of query-distance pairs can be built, or alternatively, each query can be associated with two distances.
- One query-distance pair can provide a typical proximity distance for a query received from a mobile user
- the other query-distance pair can provide a typical proximity distance for a query received from a non-mobile user. That is, a user that enters a search query into a mobile electronic device may generally be more interested in search results that correspond to search result locations closer to the query location, particularly if the query location is the physical location of the user, than a user of a non-mobile electronic device.
- a first distance importance factor can be determined and used when determining a proximity value to provide to a ranking module for a search query received from a mobile user and a different, second distance importance factor can be determined and used when determining a proximity value to provide to the ranking module for a search query received from a non-mobile user.
- query data logs that include information logged from mobile queries can be used as a basis to determine the first distance importance factor and query data logs that include information logged from non-mobile queries can be used as a basis to determine the second distance importance factor.
- FIG. 5 is a flowchart showing an example process 500 for determining region-distance pairs, where the distance in a particular region-distance pair is a representative typical proximity distance for query locations that are within the region in the pair.
- the process 500 will be described in reference to the system 200 shown in FIG. 2 , although it should be understood that differently configured systems can be used to implement the process 500 .
- users may not expect to drive as far as users in sparsely populated areas.
- users in more densely populated regions may benefit from having proximity configured as more important when ranking search results. That is, users are typically interested in search results relatively close to the query location.
- Query-distance pairs for query locations within multiple regions are examined (Step 502 ). Based on the examination, the server system 202 can generate a collection of geographic regions where each region associated with a distance that is a representative typical proximity distance between search result locations and query locations for queries having locations within the particular region (Step 504 ).
- the server system 202 can use query-distance pairs within a region to compute a region-normalized distance.
- the region-normalized distance represents the distance associated with a query adjusted based on a geographic region that includes the query location.
- Each query in a collection of queries e.g., query-distance pairs
- the system 202 can examine query-distance pairs in the query-data store 214 .
- the system 202 can organize geographic locations into a number of discrete location cells (i.e., regions) of increasing size.
- a typical proximity distance can be computed for each location cell (i.e., region) based on distances that correspond to queries associated with query locations within the location cell.
- a cell without sufficient data points can be filtered out.
- a typical proximity distance for a region can be determined that is query-independent.
- the distance should be greater than for densely populated areas.
- the representative typical proximity distance can be scaled, e.g., between 0 and 1 or 0.5 and 2 (Step 506 ).
- the distance importance factor scales to values near one for most regions; values greater than one for dense regions; and values less than one for sparse regions.
- the region-distance pairs can be stored in a region-data store (Step 508 ).
- the region-distance pairs can be stored in the region-data store 216 shown in server system 202 of FIG. 2 .
- the region data and the query data can be stored two independent tables and combined at query time.
- the region data can be stored in the region-data store 216 and the query data can be stored in the query-data store 214 . Storing the data separately can provide the advantage of saving storage space since information about each query is not required to be stored for every region.
- the distance stored in the region-distance pair can be used to calculate a distance importance factor for the region.
- the distance e.g., scaled or normalized
- the distance can be used itself as the distance importance factor. If a query does not have a distance importance factor of its own available, or one cannot be determined, then as a proxy the distance importance factor that corresponds to the region that includes the query location can be used as the distance importance factor.
- the distance calculated as a representative typical proximity distance for a particular query can be adjusted based on the typical proximity distance for the region that includes the corresponding query location. That is, a “region-normalized” typical proximity distance can be calculated.
- FIG. 6 is a flowchart showing an example process 600 for determining a region-normalized distance.
- the process 600 can begin with examining one or more query data logs (Step 602 ).
- the query data logs can, for example, include historical logs of queries and click data such as those stored in the historical log of query and click store 210 .
- click data such as those stored in the historical log of query and click store 210 .
- the distances from locations corresponding to selected (i.e., clicked) search results for the query to a query location associated with the query can be determined (Step 604 ).
- the system 202 can use query data to compute a region normalized distance by loading summary information by location cell and query into the ranking module 206 .
- the system 202 can find a region in the region-data store 216 that corresponds to the query location.
- Each query can be associated with a region-normalized distance that includes the distance associated with the query adjusted based on a geographic region that includes the query location.
- Step 604 The server system 202 can for example, determine distances by comparing the query location to the search result locations. Distances can be determined using one or more of query data, click data, or driving distance data. Multiple of these distances can be accumulated over time for the query and then used as a basis for determining a representative typical proximity distance (i.e., Step 606 ), for example, by using the median or mean of the accumulated distances. Steps 602 to 606 can be performed in a similar manner to steps 402 - 406 described above in reference to FIG. 4 .
- the query data log can further be examined to determine a typical proximity distance for a region that includes the query location (Step 608 ). This step can be performed in a similar manner to the steps 502 and 504 described above in reference to FIG. 5 .
- a typical region-normalized proximity distance for the query can be determined (Step 610 ).
- the region-normalized distance for a particular query is the distance associated with the query divided by the distance associated with the region that includes the query location corresponding to the particular query.
- the region-normalized typical proximity distance can be scaled, e.g., to a value between zero and 1.0 or between zero and 2.0 (Step 612 ).
- the scaled distance value can be used as the distance importance factor for the query.
- the scaled distance value, or the unscaled region-normalized distance can be used to determine the distance importance factor.
- the query-region-normalized distance pairs are stored in a query-data store (Step 614 ).
- the server system 202 can store the query-region-normalized distance pairs in the query-data store 214 .
- the query-region-normalized distance pairs can be accessed by the system 202 when ranking future search results.
- the system 202 can employ one or more thresholds from the region normalized distance to compute a query distance factor between [0, 0.5].
- the query distance factor can be boosted or penalized by the region normalized distance depending on the query distance factor. If the region normalized distance penalty is calculated to be greater than a lower threshold, (e.g., 0.8), the query distance factor can linearly increases until it reaches (0.5) at an upper threshold (e.g., 1.8). Queries with a very high region normalized score (e.g., capped to 0.5), the system 202 can linearly remap an output distance penalty function where the domain for the distance penalty function is [0, 1] to [0.5, 1].
- Remapping the output of the distance penalty function may have the effect of compressing the range of the distance penalty function. This effect can allow other ranking factors (e.g., topicality, prominence) to have more influence over the ranking. In particular, the remapping can enable very topical or prominent far away results to outrank less topical or prominent nearby results.
- ranking factors e.g., topicality, prominence
- the distance importance factor can be used to boost or decrease the impact of the proximity score when scoring a search result responsive to a search query.
- distance refers to the distance between the particular search result location and query location.
- a is a constant that is empirically determined, and in one particular example is the value 200.
- the distance importance factor is used to modify the value of ⁇ .
- the value of ⁇ (a constant) ⁇ (distance importance factor).
- a region distance multiplier is determined according to the formula below, and capped between the values of 0.5 and 2.0.
- the region distance multiplier is calculated based on driving distances between query locations and search result locations.
- a worldwide baseline driving distance is determined, which can be determined in various ways and in one example is the worldwide average driving distance.
- RDM ( 1 + CF * Worldwide ⁇ ⁇ Baseline ⁇ ⁇ Distance / Typical ⁇ ⁇ Proximity ⁇ ⁇ Distance ) ( 1 + CF )
- Typical Proximity Distance Typical proximity distance calculated for the region based on driving distances.
- the worldwide baseline distance is 25 miles
- the combining factor is 1.0
- the region distance multiplier is 1.125.
- the bounds for the range, e.g., 0.5 and 2.0, and the combining factor, e.g., 1.0 are determined by iteratively changing them and empirically testing the results, e.g., comparing the corresponding rankings, and trying to mitigate extreme effects in rural or very dense areas, while still improving results in more typical circumstances.
- the proximity distance score is a function of the distance from the search result location to the query location.
- the distance function can be oblivious to the change in the proximity distance (i.e., from 17 miles to 18.913 miles). That is, the same distance function can be applied with the input adjusted by the region distance multiplier.
- the distance importance factor for regions and queries can be stored separately, e.g., as independent tables, and combined or otherwise used together at query time.
- the information in the query-data store 214 and the region-data store 216 can be used together at query time.
- the region distance multiplier is an example of region-specific data that can be stored in the region-data store.
- an overall distance score (sometimes referred to as a distance penalty) can be calculated based on both the region data and query data as follows.
- a “query and region influenced penalty” can be calculated based on a “query farness score” and the region influenced penalty (i.e., as calculated above).
- the query farness score can be calculated as a function of the typical region-normalized proximity distance for the query, for example, which can be calculated above using the process 600 described in reference to FIG. 6 .
- the query farness score is given a low value at a low threshold value of the typical region-normalized proximity distance and a high value at a high threshold value of the typical region-normalized proximity distance, with a linear progression in between the low and high values.
- the query farness score is 0 and at a high threshold value of 1.8 the query farness score is 0.5.
- the output distance penalty function can be linearly remapped, e.g., from a domain of 0 to 1 to a domain of 0.5 to 1. This can have the effect of compressing the range of the distance penalty function, and therefore let other scoring factors (e.g., topicality and/or prominence) have more influence over the ranking.
- the linear remapping can allow very typical or prominent, yet far away (in terms of proximity distance) search results out-rank less topical or prominent yet nearby search results.
- FIGS. 7A-C are schematic diagrams showing an example of calculating a distance importance factor.
- the distance importance factor can be calculated based on click data or driving/walking distance data or a combination of both.
- FIG. 7A a number of maps of searched venues are depicted.
- the specific search queries that prompted the mapped search results include “coffee,” “post office,” and “Super Foods,” corresponding respectively to map 702 , map 704 , and map 706 .
- the map 702 can be generated if, for example, a user enters a search query for “coffee” in a search engine mapping application.
- the map 702 displays a first set of ranked search results A through J.
- the ranked search results are ranked with increasing distance from the user's search query location as the alphabet letters increment.
- the map 704 can be generated if a user enters a search query for “post office” in a search engine mapping application.
- the map 704 displays a second set of ranked search results A through J.
- the map 706 can be generated if, for example, a user enters a search query for “Super Foods” in a search engine mapping application.
- the map 706 displays a third set of ranked search results A, B, D, and G.
- the search queries for “coffee,” “post office,” and “Super Foods” can be entered by a number of users over time.
- the systems in this description can collect click data, driving direction data, query data, and/or user entered data to determine a distance importance factor for each query.
- click data corresponding to the queries is used to determine distance importance factors for the queries.
- example click counts are graphed for each search query.
- the click counts can, for example, be translated into click through rates for further analysis.
- the click counts are graphed as clicks 710 against distance 708 in miles.
- the search query click counts for “coffee” are shown by graph 712 ; click counts for “post office” are shown by graph 714 ; and click counts for “Super Foods” are shown by graph 716 .
- the “coffee” graph 712 depicts a high number of clicks for coffee venue search results that correspond to a location that is in the range of 1-2 miles away from the query location.
- the “post office” graph 714 depicts a high number of clicks for post office venues within 1-3 miles of query locations.
- This low tolerance for traveling far for coffee venues or post office venues can indicate the importance of proximity when ranking search results for these queries, i.e., users are typically interested in search result locations close to the query location.
- the low tolerance for traveling farther from the query location may be a function of the density of coffee venues and/or post office venues in the region including the query location.
- the “Super Foods” graph 716 depicts high numbers of clicks from 1-8 miles, indicating that a user may be more tolerant to traveling farther for a “Super Foods” grocery store. That is, the importance of proximity when ranking search results for these queries is lower, and therefore search results can be penalized less for proximity.
- the click counts of FIG. 7B have been calculated into a click through rate (CTR) for each query.
- CTR click through rate
- graphs 718 , 720 , and 722 depict CTRs for the queries “coffee,” “post office,” and “Super Foods” shown on the vertical axis and the scaled and normalized distances shown on the horizontal axis.
- the proximity distance can be normalized based on the distances of returned search results for the query.
- the normalized distance (ND) can be calculated as follows:
- N ⁇ ⁇ D [ Distance ⁇ ⁇ of ⁇ ⁇ Result - Distance ⁇ ⁇ of ⁇ ⁇ Closes ⁇ ⁇ Result ] [ Distance ⁇ ⁇ of ⁇ ⁇ Farthest ⁇ ⁇ Result - Distance ⁇ ⁇ of ⁇ ⁇ Closest ⁇ ⁇ Result ]
- the normalized distance can be distance to a value between 0 and 1, so that the distances shown on the horizontal axis are in the 0 to 1 range.
- the click through rate has been normalized as well.
- the search result in the first position usually has the highest click through rate.
- the click through rate for the search results can be normalized based on the average click through rate for a search result at the position.
- the position normalized click through rate can then be calculated as follows:
- Position ⁇ ⁇ Normalized ⁇ ⁇ CTR ⁇ ⁇ ( k ) ⁇ k ⁇ position_score ⁇ ( k ) ⁇ clicks ⁇ ( k ) ⁇ k ⁇ impressions ⁇ ( k )
- the graph 718 depicts a median normalized CTR 719 of 0.390 for the search query “coffee. Similar calculations can be performed for the “post office” query and the “Super Foods” query to obtain respective median normalized CTR 721 of 0.356 and CTR 723 of 0.464.
- the median normalized CTR can be used as the distance importance factor in a scoring operation to score a search result for ranking. That is, the median normalized CTR can be used as the indication of importance of proximity to a search query.
- the mean normalized CTR can be used instead of the median.
- click data for certain queries can be rejected from consideration. For example, if a user pulls up a map in a mapping application of a town and inputs a search query for Laundromats. In response, the locations of Laundromats in the region depicted in the map are shown. However, if the user lives at an edge of the region (or anywhere that is not close to the center of the map as shown), then the user is more likely to click laundromats near his house, which are not proximate to the center of the map, which represents the query location. Accordingly, in some implementations, only queries with exact addresses are considered. For example, if the user had input his address to pull up the map, rather than the name of a town, then an example query location address is known.
- a navigational query Another example of query that may be disregarded is a navigational query. That is, if in a mapping application the user inputs the name of a specific business and a specific address, e.g., “Chumley's near 111 8 th Ave, New York”, a small number of search results will likely be presented. The user is likely trying to obtain a map that shows the address 111-8 th Ave (which may be the user's address, for example) and the Chumley's so he can navigate to the location of Chumley's. For this type of query, distance is not a factor, since the user is going to select the Chumley's search result regardless of the search result location. Accordingly, only queries that return a number of search results exceeding a predetermined minimum, e.g., 10, can be considered. If the search results list is less than the minimum, the search query is likely a navigational query and is ignored.
- a predetermined minimum e.g. 10, can be considered.
- the distance importance factor can be determined based on population density data for a geographic region that includes the query location.
- population density data can be used to determine a distance importance factor that indicates the importance of proximity for search queries having a query location in a particular region.
- the distance importance factor can be determined based on business density data for a particular type of business in a region. That is, in a region where a business of a particular type is of relatively high density, e.g., coffee shops in Seattle, the distance importance factor for a search query that relates to coffee shops may be higher than in a region where coffee shops are distributed more sparsely.
- a typical representative proximity distance and/or the distance importance factor can be determined for queries that relate to businesses, where business density data is available, based on the business density.
- the typical representative proximity distance and/or distance importance factor for the query can be region specific, for example, to account for the varying business densities in different regions.
- the search query is used to query a collection of business listings and/or points of interest listings.
- the collection of business and point of interest listings can be provided by yellow page providers, business owners and/or from crawling web pages that describes a business or point of interest.
- Each business and point of interest included in the collection can be associated with one or more categories.
- the one or more categories to associate with the business or point of interest can come from the yellow page provider or business owner.
- available information such as the business/point of interest name, reviews of the business/point of interest and/or content from web pages about the business/point of interest, can be used to categorize the business or point of interest.
- the density of businesses or points of interest falling within a particular category can be determined.
- the density can be determined on a region basis.
- the same regions that were used above to determine a typical proximity distance on a region basis can be used to determine business/point of interest density, although different (i.e., larger or smaller) regions can be used as well.
- the density for each category for each region can be stored, for example, in a table.
- a category associated with the query is determined.
- typical search results for the query from a historical log of query and click data can be examined to determine the most common category associated with businesses or points of interest provided in response to the query in past. For example, if the search query is “Pizza” and in the past, 8 out of 10 of the search results were for businesses falling within the category of “Pizza Restaurant”, then the category associated with the query is determined to be Pizza Restaurant.
- the density for the category of Pizza Restaurant can be retrieved from the store of category/density/region information, for the region that includes the query location for the search query. Based in the density of pizza restaurants in the region, a typical proximity distance and/or distance importance factor is determined.
- the distance importance factor can be stored in the table with the density information.
- the distance importance factor on a category/region basis can be determined based on the category density and stored in a table with the category and region, without storing the density information itself in the table.
- Other techniques can be used to categorize a business or point or interest, and/or to determine a category related to a search query, in addition to the illustrative techniques described here.
- FIG. 8 shows an example of a computer 800 and a mobile computer device 850 , which may be used with the techniques described here.
- Computing device 800 is intended to represent various forms of digital computers, such as laptops, desktops, workstations, personal digital assistants, servers, blade servers, mainframes, and other appropriate computers.
- Computing device 850 is intended to represent various forms of mobile devices, such as personal digital assistants, cellular telephones, smartphones, and other similar computing devices.
- the components shown here, their connections and relationships, and their functions, are meant to be exemplary only, and are not meant to limit implementations of the inventions described and/or claimed in this document.
- Computing device 800 includes a processor 802 , memory 804 , a storage device 806 , a high-speed interface 808 connecting to memory 804 and high-speed expansion ports 810 , and a low speed interface 812 connecting to low speed bus 814 and storage device 806 .
- Each of the components 802 , 804 , 806 , 808 , 810 , and 812 are interconnected using various buses, and may be mounted on a common motherboard or in other manners as appropriate.
- the processor 802 may process instructions for execution within the computing device 800 , including instructions stored in the memory 804 or on the storage device 806 to display graphical information for a GUI on an external input/output device, such as display 816 coupled to high speed interface 808 .
- multiple processors and/or multiple buses may be used, as appropriate, along with multiple memories and types of memory.
- multiple computing devices 800 may be connected, with each device providing portions of the necessary operations (e.g., as a server bank, a group of blade servers, or a multi-processor system).
- the memory 804 stores information within the computing device 800 .
- the memory 804 is a volatile memory unit or units.
- the memory 804 is a non-volatile memory unit or units.
- the memory 804 may also be another form of computer-readable medium, such as a magnetic or optical disk.
- the storage device 806 is capable of providing mass storage for the computing device 800 .
- the storage device 806 may be or contain a computer-readable medium, such as a floppy disk device, a hard disk device, an optical disk device, or a tape device, a flash memory or other similar solid state memory device, or an array of devices, including devices in a storage area network or other configurations.
- a computer program product may be tangibly embodied in an information carrier.
- the computer program product may also contain instructions that, when executed, perform one or more methods, such as those described above.
- the information carrier is a computer- or machine-readable medium, such as the memory 804 , the storage device 806 , memory on processor 802 , or a propagated signal.
- the high speed controller 808 manages bandwidth-intensive operations for the computing device 800 , while the low speed controller 812 manages lower bandwidth-intensive operations.
- the high-speed controller 808 is coupled to memory 804 , display 816 (e.g., through a graphics processor or accelerator), and to high-speed expansion ports 810 , which may accept various expansion cards (not shown).
- low-speed controller 812 is coupled to storage device 806 and low-speed expansion port 814 .
- the low-speed expansion port which may include various communication ports (e.g., USB, Bluetooth, Ethernet, wireless Ethernet) may be coupled to one or more input/output devices, such as a keyboard, a pointing device, a scanner, or a networking device such as a switch or router, e.g., through a network adapter.
- input/output devices such as a keyboard, a pointing device, a scanner, or a networking device such as a switch or router, e.g., through a network adapter.
- the computing device 800 may be implemented in a number of different forms, as shown in the figure. For example, it may be implemented as a standard server 820 , or multiple times in a group of such servers. It may also be implemented as part of a rack server system 824 . In addition, it may be implemented in a personal computer such as a laptop computer 822 . Alternatively, components from computing device 800 may be combined with other components in a mobile device (not shown), such as device 850 . Each of such devices may contain one or more of computing device 800 , 850 , and an entire system may be made up of multiple computing devices 800 , 850 communicating with each other.
- Computing device 850 includes a processor 852 , memory 864 , an input/output device such as a display 854 , a communication interface 866 , and a transceiver 868 , among other components.
- the device 850 may also be provided with a storage device, such as a microdrive or other device, to provide additional storage.
- a storage device such as a microdrive or other device, to provide additional storage.
- Each of the components 850 , 852 , 864 , 854 , 866 , and 868 are interconnected using various buses, and several of the components may be mounted on a common motherboard or in other manners as appropriate.
- the processor 852 may execute instructions within the computing device 850 , including instructions stored in the memory 864 .
- the processor may be implemented as a chipset of chips that include separate and multiple analog and digital processors.
- the processor may provide, for example, for coordination of the other components of the device 850 , such as control of user interfaces, applications run by device 850 , and wireless communication by device 850 .
- Processor 852 may communicate with a user through control interface 858 and display interface 856 coupled to a display 854 .
- the display 854 may be, for example, a TFT LCD (Thin-Film-Transistor Liquid Crystal Display) or an OLED (Organic Light Emitting Diode) display, or other appropriate display technology.
- the display interface 856 may comprise appropriate circuitry for driving the display 854 to present graphical and other information to a user.
- the control interface 858 may receive commands from a user and convert them for submission to the processor 852 .
- an external interface 862 may be provide in communication with processor 852 , so as to enable near area communication of device 850 with other devices. External interface 862 may provide, for example, for wired communication in some implementations, or for wireless communication in other implementations, and multiple interfaces may also be used.
- the memory 864 stores information within the computing device 850 .
- the memory 864 may be implemented as one or more of a computer-readable medium or media, a volatile memory unit or units, or a non-volatile memory unit or units.
- Expansion memory 874 may also be provided and connected to device 850 through expansion interface 872 , which may include, for instance, a SIMM (Single In Line Memory Module) card interface.
- SIMM Single In Line Memory Module
- expansion memory 874 may provide extra storage space for device 850 , or may also store applications or other information for device 850 .
- expansion memory 874 may include instructions to carry out or supplement the processes described above, and may include secure information also.
- expansion memory 874 may be provide as a security module for device 850 , and may be programmed with instructions that permit secure use of device 850 .
- secure applications may be provided via the SIMM cards, along with additional information, such as placing identifying information on the SIMM card in a non-hackable manner.
- the memory may include, for example, flash memory and/or NVRAM memory, as discussed below.
- a computer program product is tangibly embodied in an information carrier.
- the computer program product contains instructions that, when executed, perform one or more methods, such as those described above.
- the information carrier is a computer- or machine-readable medium, such as the memory 864 , expansion memory 874 , memory on processor 852 , or a propagated signal that may be received, for example, over transceiver 868 or external interface 862 .
- Device 850 may communicate wirelessly through communication interface 866 , which may include digital signal processing circuitry where necessary. Communication interface 866 may provide for communications under various modes or protocols, such as GSM voice calls, SMS, EMS, or MMS messaging, CDMA, TDMA, PDC, WCDMA, CDMA2000, or GPRS, among others. Such communication may occur, for example, through radio-frequency transceiver 868 . In addition, short-range communication may occur, such as using a Bluetooth, WiFi, or other such transceiver (not shown). In addition, GPS (Global Positioning System) receiver module 870 may provide additional navigation- and location-related wireless data to device 850 , which may be used as appropriate by applications running on device 850 .
- GPS Global Positioning System
- Device 850 may also communicate audibly using audio codec 860 , which may receive spoken information from a user and convert it to usable digital information. Audio codec 860 may likewise generate audible sound for a user, such as through a speaker, e.g., in a handset of device 850 . Such sound may include sound from voice telephone calls, may include recorded sound (e.g., voice messages, music files, etc.) and may also include sound generated by applications operating on device 850 .
- Audio codec 860 may receive spoken information from a user and convert it to usable digital information. Audio codec 860 may likewise generate audible sound for a user, such as through a speaker, e.g., in a handset of device 850 . Such sound may include sound from voice telephone calls, may include recorded sound (e.g., voice messages, music files, etc.) and may also include sound generated by applications operating on device 850 .
- the computing device 850 may be implemented in a number of different forms, as shown in the figure. For example, it may be implemented as a cellular telephone 880 . It may also be implemented as part of a smartphone 882 , personal digital assistant, or other similar mobile device.
- Device 850 may also include one or more different devices that are capable of sensing motion. Examples include, but are not limited to, accelerometers and compasses. Accelerometers and compasses, or other devices that are capable of detecting motion or position are available from any number of vendors and may sense motion in a variety of ways. For example, accelerometers may detect changes in acceleration while compasses may detect changes in orientation respective to the magnetic North or South Pole. These changes in motion may be detected by the device 850 and used to update the display of the respective devices 850 according to processes and techniques described herein.
- accelerometers may detect changes in acceleration while compasses may detect changes in orientation respective to the magnetic North or South Pole.
- implementations of the systems and techniques described here may be realized in digital electronic circuitry, integrated circuitry, specially designed ASICs (application specific integrated circuits), computer hardware, firmware, software, and/or combinations thereof.
- ASICs application specific integrated circuits
- These various implementations may include implementation in one or more computer programs that are executable and/or interpretable on a programmable system including at least one programmable processor, which may be special or general purpose, coupled to receive data and instructions from, and to transmit data and instructions to, a storage system, at least one input device, and at least one output device.
- the systems and techniques described here may be implemented on a computer having a display device (e.g., a CRT (cathode ray tube) or LCD (liquid crystal display) monitor) for displaying information to the user and a keyboard and a pointing device (e.g., a mouse or a trackball) by which the user may provide input to the computer.
- a display device e.g., a CRT (cathode ray tube) or LCD (liquid crystal display) monitor
- a keyboard and a pointing device e.g., a mouse or a trackball
- Other kinds of devices may be used to provide for interaction with a user as well; for example, feedback provided to the user may be any form of sensory feedback (e.g., visual feedback, auditory feedback, or tactile feedback); and input from the user may be received in any form, including acoustic, speech, or tactile input.
- the systems and techniques described here may be implemented in a computing system that includes a back end component (e.g., as a data server), or that includes a middleware component (e.g., an application server), or that includes a front end component (e.g., a client computer having a graphical user interface or a Web browser through which a user may interact with an implementation of the systems and techniques described here), or any combination of such back end, middleware, or front end components.
- the components of the system may be interconnected by any form or medium of digital data communication (e.g., a communication network). Examples of communication networks include a local area network (“LAN”), a wide area network (“WAN”), and the Internet.
- LAN local area network
- WAN wide area network
- the Internet the global information network
- the computing system may include clients and servers.
- a client and server are generally remote from each other and typically interact through a communication network.
- the relationship of client and server arises by virtue of computer programs running on the respective computers and having a client-server relationship to each other.
Abstract
Description
Distance multiplier=α/(α+distance)
Distance Importance Factor=1/Region Distance Multiplier
(1+1.0*25/20)/(1+1)=1.125
Region Influenced Penalty=Distance Penalty (distance×region distance multiplier)
Query & Region Influenced Penalty=Query Farness Score+(1−Query Farness Score)×Region Influenced Penalty
Position score (k)=(Total clicks across all positions)/(Clicks at Position k)
Claims (24)
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US12/779,823 US8463772B1 (en) | 2010-05-13 | 2010-05-13 | Varied-importance proximity values |
Applications Claiming Priority (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US12/779,823 US8463772B1 (en) | 2010-05-13 | 2010-05-13 | Varied-importance proximity values |
Publications (1)
Publication Number | Publication Date |
---|---|
US8463772B1 true US8463772B1 (en) | 2013-06-11 |
Family
ID=48538496
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US12/779,823 Active 2030-08-18 US8463772B1 (en) | 2010-05-13 | 2010-05-13 | Varied-importance proximity values |
Country Status (1)
Country | Link |
---|---|
US (1) | US8463772B1 (en) |
Cited By (13)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20120150853A1 (en) * | 2010-12-10 | 2012-06-14 | Telenav, Inc. | Advertisement delivery system with location based controlled priority mechanism and method of operation thereof |
US20130054585A1 (en) * | 2011-08-23 | 2013-02-28 | Microsoft Corporation | Geographic search with mixed-precision results |
US20130106695A1 (en) * | 2011-10-31 | 2013-05-02 | Elwha LLC, a limited liability company of the State of Delaware | Context-sensitive query enrichment |
US20140229468A1 (en) * | 2013-02-12 | 2014-08-14 | C/O Vmobo, Inc. | Location-Based Mobile Search |
US9043304B1 (en) | 2012-10-03 | 2015-05-26 | Google Inc. | Determining geographic areas of interest for a query |
US20150358273A1 (en) * | 2014-06-06 | 2015-12-10 | Rebecca Lee FEINSTEIN | Request for information system |
US9552375B2 (en) | 2013-12-20 | 2017-01-24 | Google Inc. | Geocoding of images based on search queries |
US10091646B2 (en) | 2014-08-29 | 2018-10-02 | Apple Inc. | Reduced resolution location determination for improved anonymity of user location |
US10217093B2 (en) * | 2014-11-14 | 2019-02-26 | Capital One Services, Llc | System and method of social cash withdrawal |
US10289648B2 (en) * | 2011-10-04 | 2019-05-14 | Google Llc | Enforcing category diversity |
US20200058025A1 (en) * | 2018-08-15 | 2020-02-20 | Royal Bank Of Canada | System, methods, and devices for payment recovery platform |
US11120474B2 (en) * | 2011-05-09 | 2021-09-14 | Capital One Services, Llc | Method and system for matching purchase transaction history to real-time location information |
US11461336B2 (en) * | 2010-08-17 | 2022-10-04 | Google Llc | Selecting between global and location-specific search results |
Citations (33)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6070157A (en) | 1997-09-23 | 2000-05-30 | At&T Corporation | Method for providing more informative results in response to a search of electronic documents |
US20020002552A1 (en) | 2000-06-30 | 2002-01-03 | Schultz Troy L. | Method and apparatus for a GIS based search engine utilizing real time advertising |
WO2002015479A1 (en) | 2000-08-11 | 2002-02-21 | British Telecommunications Public Limited Company | System and method of detecting events |
US20020042789A1 (en) | 2000-10-04 | 2002-04-11 | Zbigniew Michalewicz | Internet search engine with interactive search criteria construction |
US20020059094A1 (en) | 2000-04-21 | 2002-05-16 | Hosea Devin F. | Method and system for profiling iTV users and for providing selective content delivery |
US20020138479A1 (en) | 2001-03-26 | 2002-09-26 | International Business Machines Corporation | Adaptive search engine query |
US20020156779A1 (en) | 2001-09-28 | 2002-10-24 | Elliott Margaret E. | Internet search engine |
US20030023489A1 (en) | 2001-06-14 | 2003-01-30 | Mcguire Myles P. | Method and system for providing network based target advertising |
US20030036949A1 (en) | 1999-12-10 | 2003-02-20 | Karim Kaddeche | Method and system for targeting internet advertisements and messages by geographic location |
US20030076805A1 (en) | 2001-10-23 | 2003-04-24 | Prathima Agrawal | System and method for dynamically allocating IP addresses for shared wireless and wireline networks based on priorities and guard bands |
US20030158777A1 (en) | 2000-07-31 | 2003-08-21 | Eyal Schiff | User-driven data network communication system and method |
US20030187949A1 (en) | 2002-03-28 | 2003-10-02 | Bhatt Jaydutt B. | Determining geographic location of internet users |
US20030212519A1 (en) | 2002-05-10 | 2003-11-13 | Campos Marcos M. | Probabilistic model generation |
US20030217052A1 (en) | 2000-08-24 | 2003-11-20 | Celebros Ltd. | Search engine method and apparatus |
US6665715B1 (en) | 2000-04-03 | 2003-12-16 | Infosplit Inc | Method and systems for locating geographical locations of online users |
US6701307B2 (en) | 1998-10-28 | 2004-03-02 | Microsoft Corporation | Method and apparatus of expanding web searching capabilities |
US20050065916A1 (en) * | 2003-09-22 | 2005-03-24 | Xianping Ge | Methods and systems for improving a search ranking using location awareness |
US20050065959A1 (en) | 2003-09-22 | 2005-03-24 | Adam Smith | Systems and methods for clustering search results |
US7117199B2 (en) | 2000-02-22 | 2006-10-03 | Metacarta, Inc. | Spatially coding and displaying information |
US7136875B2 (en) | 2002-09-24 | 2006-11-14 | Google, Inc. | Serving advertisements based on content |
US20070109320A1 (en) * | 2002-05-15 | 2007-05-17 | Sabrina Skibak | Image synthesis by rank-1 lattices |
US20070115373A1 (en) * | 2005-11-22 | 2007-05-24 | Eastman Kodak Company | Location based image classification with map segmentation |
US20070143345A1 (en) | 2005-10-12 | 2007-06-21 | Jones Michael T | Entity display priority in a distributed geographic information system |
US20090031006A1 (en) * | 2000-06-07 | 2009-01-29 | Johnson William J | System and method for alerting a first mobile data processing system nearby a second mobile data processing system |
US7525484B2 (en) * | 1996-09-09 | 2009-04-28 | Tracbeam Llc | Gateway and hybrid solutions for wireless location |
US20090132469A1 (en) * | 2007-11-16 | 2009-05-21 | Urban Mapping, Inc. | Geocoding based on neighborhoods and other uniquely defined informal spaces or geographical regions |
US20090268033A1 (en) * | 2005-08-30 | 2009-10-29 | Norimichi Ukita | Method for estimating connection relation among wide-area distributed camera and program for estimating connection relation |
US20100100437A1 (en) | 2002-09-24 | 2010-04-22 | Google, Inc. | Suggesting and/or providing ad serving constraint information |
US7716161B2 (en) | 2002-09-24 | 2010-05-11 | Google, Inc, | Methods and apparatus for serving relevant advertisements |
US20110016117A1 (en) * | 2009-07-20 | 2011-01-20 | LexisNexis. | Fuzzy proximity boosting and influence kernels |
US7908287B1 (en) * | 2005-12-29 | 2011-03-15 | Google Inc. | Dynamically autocompleting a data entry |
US8086690B1 (en) | 2003-09-22 | 2011-12-27 | Google Inc. | Determining geographical relevance of web documents |
US8301639B1 (en) * | 2010-01-29 | 2012-10-30 | Google Inc. | Location based query suggestion |
-
2010
- 2010-05-13 US US12/779,823 patent/US8463772B1/en active Active
Patent Citations (36)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US7525484B2 (en) * | 1996-09-09 | 2009-04-28 | Tracbeam Llc | Gateway and hybrid solutions for wireless location |
US6070157A (en) | 1997-09-23 | 2000-05-30 | At&T Corporation | Method for providing more informative results in response to a search of electronic documents |
US6701307B2 (en) | 1998-10-28 | 2004-03-02 | Microsoft Corporation | Method and apparatus of expanding web searching capabilities |
US20030036949A1 (en) | 1999-12-10 | 2003-02-20 | Karim Kaddeche | Method and system for targeting internet advertisements and messages by geographic location |
US7117199B2 (en) | 2000-02-22 | 2006-10-03 | Metacarta, Inc. | Spatially coding and displaying information |
US6665715B1 (en) | 2000-04-03 | 2003-12-16 | Infosplit Inc | Method and systems for locating geographical locations of online users |
US20020059094A1 (en) | 2000-04-21 | 2002-05-16 | Hosea Devin F. | Method and system for profiling iTV users and for providing selective content delivery |
US20090031006A1 (en) * | 2000-06-07 | 2009-01-29 | Johnson William J | System and method for alerting a first mobile data processing system nearby a second mobile data processing system |
US20030061211A1 (en) | 2000-06-30 | 2003-03-27 | Shultz Troy L. | GIS based search engine |
US20020002552A1 (en) | 2000-06-30 | 2002-01-03 | Schultz Troy L. | Method and apparatus for a GIS based search engine utilizing real time advertising |
US20030158777A1 (en) | 2000-07-31 | 2003-08-21 | Eyal Schiff | User-driven data network communication system and method |
WO2002015479A1 (en) | 2000-08-11 | 2002-02-21 | British Telecommunications Public Limited Company | System and method of detecting events |
US20030217052A1 (en) | 2000-08-24 | 2003-11-20 | Celebros Ltd. | Search engine method and apparatus |
US20020042789A1 (en) | 2000-10-04 | 2002-04-11 | Zbigniew Michalewicz | Internet search engine with interactive search criteria construction |
US20020138479A1 (en) | 2001-03-26 | 2002-09-26 | International Business Machines Corporation | Adaptive search engine query |
US20030023489A1 (en) | 2001-06-14 | 2003-01-30 | Mcguire Myles P. | Method and system for providing network based target advertising |
US20020156779A1 (en) | 2001-09-28 | 2002-10-24 | Elliott Margaret E. | Internet search engine |
US20030076805A1 (en) | 2001-10-23 | 2003-04-24 | Prathima Agrawal | System and method for dynamically allocating IP addresses for shared wireless and wireline networks based on priorities and guard bands |
US20030187949A1 (en) | 2002-03-28 | 2003-10-02 | Bhatt Jaydutt B. | Determining geographic location of internet users |
US20030212519A1 (en) | 2002-05-10 | 2003-11-13 | Campos Marcos M. | Probabilistic model generation |
US20070109320A1 (en) * | 2002-05-15 | 2007-05-17 | Sabrina Skibak | Image synthesis by rank-1 lattices |
US7716161B2 (en) | 2002-09-24 | 2010-05-11 | Google, Inc, | Methods and apparatus for serving relevant advertisements |
US7136875B2 (en) | 2002-09-24 | 2006-11-14 | Google, Inc. | Serving advertisements based on content |
US20100100437A1 (en) | 2002-09-24 | 2010-04-22 | Google, Inc. | Suggesting and/or providing ad serving constraint information |
US20050065959A1 (en) | 2003-09-22 | 2005-03-24 | Adam Smith | Systems and methods for clustering search results |
US7606798B2 (en) | 2003-09-22 | 2009-10-20 | Google Inc. | Methods and systems for improving a search ranking using location awareness |
US20050065916A1 (en) * | 2003-09-22 | 2005-03-24 | Xianping Ge | Methods and systems for improving a search ranking using location awareness |
US8086690B1 (en) | 2003-09-22 | 2011-12-27 | Google Inc. | Determining geographical relevance of web documents |
US8171048B2 (en) | 2003-09-22 | 2012-05-01 | Google Inc. | Ranking documents based on a location sensitivity factor |
US20090268033A1 (en) * | 2005-08-30 | 2009-10-29 | Norimichi Ukita | Method for estimating connection relation among wide-area distributed camera and program for estimating connection relation |
US20070143345A1 (en) | 2005-10-12 | 2007-06-21 | Jones Michael T | Entity display priority in a distributed geographic information system |
US20070115373A1 (en) * | 2005-11-22 | 2007-05-24 | Eastman Kodak Company | Location based image classification with map segmentation |
US7908287B1 (en) * | 2005-12-29 | 2011-03-15 | Google Inc. | Dynamically autocompleting a data entry |
US20090132469A1 (en) * | 2007-11-16 | 2009-05-21 | Urban Mapping, Inc. | Geocoding based on neighborhoods and other uniquely defined informal spaces or geographical regions |
US20110016117A1 (en) * | 2009-07-20 | 2011-01-20 | LexisNexis. | Fuzzy proximity boosting and influence kernels |
US8301639B1 (en) * | 2010-01-29 | 2012-10-30 | Google Inc. | Location based query suggestion |
Non-Patent Citations (7)
Title |
---|
"Introducing Google Places", Official Google Blog, (Apr. 20, 2010) [online]. [Retrieved on Jul. 20, 2011]. Retrieved from the Internet: , 4 pages. |
"Introducing Google Places", Official Google Blog, (Apr. 20, 2010) [online]. [Retrieved on Jul. 20, 2011]. Retrieved from the Internet: <http://googleblog.blogspot.com/2010/04/introducing-google-places.html>, 4 pages. |
MapQuest http://geography.about.com/od/streetroadcitymaps/a/mapquest.htm. * |
Olsen, Stefanie, "Google Goes Local", Cnet News (Mar. 17, 2004) [Retrieved on JUl. 19, 2011]. Retrieved from the Internet: , 1 page. |
Olsen, Stefanie, "Google Goes Local", Cnet News (Mar. 17, 2004) [Retrieved on JUl. 19, 2011]. Retrieved from the Internet: < http://news.cnet.com/2100-1038—3-5173685.html>, 1 page. |
Smallman, Wayne, "What Is Google Local and How Can It Help Your Business?", Web Design, Internet Marketing and Business Advice, Octane, May 6, 2010, [online]. [Retrieved on Jul. 18, 2011]. Retrieved from the Internet: , 6 pages. |
Smallman, Wayne, "What Is Google Local and How Can It Help Your Business?", Web Design, Internet Marketing and Business Advice, Octane, May 6, 2010, [online]. [Retrieved on Jul. 18, 2011]. Retrieved from the Internet: < http://www.octane.uk.net/2010/05/what-is-google-local-and-how-can-it-help-your-business/>, 6 pages. |
Cited By (27)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US11461336B2 (en) * | 2010-08-17 | 2022-10-04 | Google Llc | Selecting between global and location-specific search results |
US11113288B2 (en) * | 2010-12-10 | 2021-09-07 | Telenav, Inc. | Advertisement delivery system with location based controlled priority mechanism and method of operation thereof |
US20120150853A1 (en) * | 2010-12-10 | 2012-06-14 | Telenav, Inc. | Advertisement delivery system with location based controlled priority mechanism and method of operation thereof |
US11120474B2 (en) * | 2011-05-09 | 2021-09-14 | Capital One Services, Llc | Method and system for matching purchase transaction history to real-time location information |
US20210365987A1 (en) * | 2011-05-09 | 2021-11-25 | Capital One Services, Llc | Method and system for matching purchase transaction history to real-time location information |
US11687970B2 (en) * | 2011-05-09 | 2023-06-27 | Capital One Services, Llc | Method and system for matching purchase transaction history to real-time location information |
US20230274315A1 (en) * | 2011-05-09 | 2023-08-31 | Capital One Services, Llc | Method and system for matching purchase transaction history to real-time location information |
US11922461B2 (en) * | 2011-05-09 | 2024-03-05 | Capital One Services, Llc | Method and system for matching purchase transaction history to real-time location information |
US20130054585A1 (en) * | 2011-08-23 | 2013-02-28 | Microsoft Corporation | Geographic search with mixed-precision results |
US10289648B2 (en) * | 2011-10-04 | 2019-05-14 | Google Llc | Enforcing category diversity |
US9569439B2 (en) * | 2011-10-31 | 2017-02-14 | Elwha Llc | Context-sensitive query enrichment |
US10169339B2 (en) | 2011-10-31 | 2019-01-01 | Elwha Llc | Context-sensitive query enrichment |
US8959082B2 (en) | 2011-10-31 | 2015-02-17 | Elwha Llc | Context-sensitive query enrichment |
US20130106695A1 (en) * | 2011-10-31 | 2013-05-02 | Elwha LLC, a limited liability company of the State of Delaware | Context-sensitive query enrichment |
US9442990B1 (en) | 2012-10-03 | 2016-09-13 | Google Inc. | Determining geographic areas of interest for a query |
US9305063B1 (en) | 2012-10-03 | 2016-04-05 | Google Inc. | Determining geographic areas of interest for a query |
US9043304B1 (en) | 2012-10-03 | 2015-05-26 | Google Inc. | Determining geographic areas of interest for a query |
US9767121B2 (en) * | 2013-02-12 | 2017-09-19 | C/O Vmobo, Inc. | Location-based mobile search |
US20140229468A1 (en) * | 2013-02-12 | 2014-08-14 | C/O Vmobo, Inc. | Location-Based Mobile Search |
US9552375B2 (en) | 2013-12-20 | 2017-01-24 | Google Inc. | Geocoding of images based on search queries |
US20150358273A1 (en) * | 2014-06-06 | 2015-12-10 | Rebecca Lee FEINSTEIN | Request for information system |
US10091646B2 (en) | 2014-08-29 | 2018-10-02 | Apple Inc. | Reduced resolution location determination for improved anonymity of user location |
US10743178B2 (en) | 2014-08-29 | 2020-08-11 | Apple Inc. | Reduced resolution location determination for improved anonymity of user location |
US10496966B2 (en) * | 2014-11-14 | 2019-12-03 | Capital One Services, Llc | System and method of social cash withdraw |
US20190180254A1 (en) * | 2014-11-14 | 2019-06-13 | Capital One Services, Llc | System and method of social cash withdraw |
US10217093B2 (en) * | 2014-11-14 | 2019-02-26 | Capital One Services, Llc | System and method of social cash withdrawal |
US20200058025A1 (en) * | 2018-08-15 | 2020-02-20 | Royal Bank Of Canada | System, methods, and devices for payment recovery platform |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US8463772B1 (en) | Varied-importance proximity values | |
US11627178B2 (en) | Providing geocoded targeted web content | |
US9275154B2 (en) | Context-sensitive point of interest retrieval | |
US11461336B2 (en) | Selecting between global and location-specific search results | |
US9194716B1 (en) | Point of interest category ranking | |
US8301639B1 (en) | Location based query suggestion | |
US9703804B2 (en) | Systems and methods for ranking points of interest | |
US7826965B2 (en) | Systems and methods for determining a relevance rank for a point of interest | |
US9143541B1 (en) | Systems, computer-implemented methods, and computer-readable media to target internet-based services on a geographic location | |
JP6017678B2 (en) | Landmark-based place-thinking tracking for voice-controlled navigation systems | |
US8898173B1 (en) | Ranking location search results based on multiple distance measures | |
US20120158705A1 (en) | Local search using feature backoff | |
US10146883B2 (en) | Determining labels from similar geographic features | |
US8775434B1 (en) | Resource catchment areas | |
US10178189B1 (en) | Attributing preferences to locations for serving content | |
Waga et al. | Context aware recommendation of location-based data | |
US8738602B1 (en) | Determining relevance scores for locations | |
US20150142565A1 (en) | Targeting Content Based On Local Queries | |
US9715553B1 (en) | Point of interest retrieval | |
Tan et al. | Preference-oriented mining techniques for location-based store search | |
Zou et al. | A context-aware recommendation system using smartphone sensors | |
US20150227583A1 (en) | Managing search results | |
US8898176B2 (en) | Retrieving ratable content based on a geographic location | |
US8538944B1 (en) | Resource catchment areas | |
CA2821895A1 (en) | Improving local search ranking using typhoon model |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
AS | Assignment |
Owner name: GOOGLE INC., CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:AMINZADE, DANIEL M.;RENAUD, ROBERT S.;REEL/FRAME:024716/0907Effective date: 20100609 |
|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |
|
FEPP | Fee payment procedure |
Free format text: PAYOR NUMBER ASSIGNED (ORIGINAL EVENT CODE: ASPN); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
FPAY | Fee payment |
Year of fee payment: 4 |
|
AS | Assignment |
Owner name: GOOGLE LLC, CALIFORNIAFree format text: CHANGE OF NAME;ASSIGNOR:GOOGLE INC.;REEL/FRAME:044101/0299Effective date: 20170929 |
|
MAFP | Maintenance fee payment |
Free format text: PAYMENT OF MAINTENANCE FEE, 8TH YEAR, LARGE ENTITY (ORIGINAL EVENT CODE: M1552); ENTITY STATUS OF PATENT OWNER: LARGE ENTITYYear of fee payment: 8 |