US10672387B2 - Systems and methods for recognizing user speech - Google Patents
Systems and methods for recognizing user speech Download PDFInfo
- Publication number
- US10672387B2 US10672387B2 US15/839,499 US201715839499A US10672387B2 US 10672387 B2 US10672387 B2 US 10672387B2 US 201715839499 A US201715839499 A US 201715839499A US 10672387 B2 US10672387 B2 US 10672387B2
- Authority
- US
- United States
- Prior art keywords
- implementations
- voice
- electronic device
- channel
- channels
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Active, expires
Links
- 238000000034 method Methods 0.000 title claims abstract description 41
- 238000010606 normalization Methods 0.000 claims abstract description 43
- 239000013598 vector Substances 0.000 claims abstract description 19
- 230000006870 function Effects 0.000 claims description 32
- 238000009499 grossing Methods 0.000 claims description 25
- 238000003860 storage Methods 0.000 claims description 23
- 238000013528 artificial neural network Methods 0.000 claims description 21
- 230000004044 response Effects 0.000 claims description 20
- 238000012545 processing Methods 0.000 description 50
- 238000004891 communication Methods 0.000 description 29
- 238000007906 compression Methods 0.000 description 14
- 230000006835 compression Effects 0.000 description 14
- 238000012549 training Methods 0.000 description 14
- 230000000007 visual effect Effects 0.000 description 13
- 230000008569 process Effects 0.000 description 11
- 230000002452 interceptive effect Effects 0.000 description 8
- 230000001419 dependent effect Effects 0.000 description 7
- 238000010586 diagram Methods 0.000 description 7
- 238000013527 convolutional neural network Methods 0.000 description 6
- 230000000694 effects Effects 0.000 description 6
- 230000000116 mitigating effect Effects 0.000 description 5
- 238000012546 transfer Methods 0.000 description 5
- 238000013461 design Methods 0.000 description 4
- 238000001514 detection method Methods 0.000 description 4
- 238000011156 evaluation Methods 0.000 description 4
- 230000003993 interaction Effects 0.000 description 4
- 239000007787 solid Substances 0.000 description 4
- 230000009471 action Effects 0.000 description 3
- 238000004364 calculation method Methods 0.000 description 3
- 238000009826 distribution Methods 0.000 description 3
- 238000005516 engineering process Methods 0.000 description 3
- 230000003595 spectral effect Effects 0.000 description 3
- 230000003068 static effect Effects 0.000 description 3
- 230000002618 waking effect Effects 0.000 description 3
- 238000004458 analytical method Methods 0.000 description 2
- 238000013459 approach Methods 0.000 description 2
- 238000009472 formulation Methods 0.000 description 2
- 230000001976 improved effect Effects 0.000 description 2
- 230000000670 limiting effect Effects 0.000 description 2
- 239000000203 mixture Substances 0.000 description 2
- 238000012986 modification Methods 0.000 description 2
- 230000004048 modification Effects 0.000 description 2
- 230000003287 optical effect Effects 0.000 description 2
- 238000012552 review Methods 0.000 description 2
- 230000005236 sound signal Effects 0.000 description 2
- 239000013589 supplement Substances 0.000 description 2
- 230000002123 temporal effect Effects 0.000 description 2
- 241000238558 Eucarida Species 0.000 description 1
- 241000282326 Felis catus Species 0.000 description 1
- 101100408383 Mus musculus Piwil1 gene Proteins 0.000 description 1
- 230000003213 activating effect Effects 0.000 description 1
- 230000002238 attenuated effect Effects 0.000 description 1
- 230000008901 benefit Effects 0.000 description 1
- 238000005266 casting Methods 0.000 description 1
- 230000001364 causal effect Effects 0.000 description 1
- 230000001413 cellular effect Effects 0.000 description 1
- 230000008859 change Effects 0.000 description 1
- 238000006243 chemical reaction Methods 0.000 description 1
- 239000003086 colorant Substances 0.000 description 1
- 230000009850 completed effect Effects 0.000 description 1
- 230000001143 conditioned effect Effects 0.000 description 1
- 238000012790 confirmation Methods 0.000 description 1
- 238000011161 development Methods 0.000 description 1
- 238000000605 extraction Methods 0.000 description 1
- 238000001914 filtration Methods 0.000 description 1
- 238000007667 floating Methods 0.000 description 1
- 230000037433 frameshift Effects 0.000 description 1
- 230000006872 improvement Effects 0.000 description 1
- 230000000977 initiatory effect Effects 0.000 description 1
- 238000003973 irrigation Methods 0.000 description 1
- 230000002262 irrigation Effects 0.000 description 1
- 238000012886 linear function Methods 0.000 description 1
- 238000004519 manufacturing process Methods 0.000 description 1
- 239000011159 matrix material Substances 0.000 description 1
- 238000005457 optimization Methods 0.000 description 1
- 230000036961 partial effect Effects 0.000 description 1
- 239000000047 product Substances 0.000 description 1
- 230000000306 recurrent effect Effects 0.000 description 1
- 230000001360 synchronised effect Effects 0.000 description 1
- 230000007704 transition Effects 0.000 description 1
- 230000001960 triggered effect Effects 0.000 description 1
Images
Classifications
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L15/00—Speech recognition
- G10L15/08—Speech classification or search
- G10L15/16—Speech classification or search using artificial neural networks
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L15/00—Speech recognition
- G10L15/02—Feature extraction for speech recognition; Selection of recognition unit
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L19/00—Speech or audio signals analysis-synthesis techniques for redundancy reduction, e.g. in vocoders; Coding or decoding of speech or audio signals, using source filter models or psychoacoustic analysis
- G10L19/04—Speech or audio signals analysis-synthesis techniques for redundancy reduction, e.g. in vocoders; Coding or decoding of speech or audio signals, using source filter models or psychoacoustic analysis using predictive techniques
- G10L19/26—Pre-filtering or post-filtering
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L15/00—Speech recognition
- G10L15/20—Speech recognition techniques specially adapted for robustness in adverse environments, e.g. in noise, of stress induced speech
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L15/00—Speech recognition
- G10L15/22—Procedures used during a speech recognition process, e.g. man-machine dialogue
- G10L2015/223—Execution procedure of a spoken command
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L25/00—Speech or voice analysis techniques not restricted to a single one of groups G10L15/00 - G10L21/00
- G10L25/03—Speech or voice analysis techniques not restricted to a single one of groups G10L15/00 - G10L21/00 characterised by the type of extracted parameters
- G10L25/18—Speech or voice analysis techniques not restricted to a single one of groups G10L15/00 - G10L21/00 characterised by the type of extracted parameters the extracted parameters being spectral information of each sub-band
Definitions
- the disclosed implementations relate generally to audio processing, including but not limited to methods and systems utilizing energy normalization for speech recognition.
- Electronic devices integrated with microphones have been widely used to collect voice inputs from users and implement voice-activated functions according to the voice inputs.
- voice assistant feature e.g., Siri, Google Assistant
- voice inputs to initiate a phone call, conduct a restaurant search, start routing on a map, create calendar events, add a post to a social network, recognize a song, and complete many other tasks.
- a location may include significant background noise, multiple speakers, and/or a speaker who is at a significant distance from the electronic device. It is desirable for the device to include noise and/or background mitigation measures.
- an electronic device is configured to utilize a per-frequency-channel amplitude normalization or per-frequency-channel energy normalization to distinguish audio directed toward to the electronic device from background audio and/or noise.
- PCEN per-channel energy normalization
- Frequency channels are also sometimes called frequency bins.
- the PCEN includes the use of an automatic gain control based dynamic compression to replace the widely used static (such as log or root) compression.
- PCEN is utilized for keyword spotting tasks. PCEN significantly improves recognition performance in far-field and noisy situations.
- PCEN frontend is trained by modeling it as neural network layers and optimizing high-dimensional PCEN parameters jointly with a keyword spotting acoustic model. The trained PCEN frontend demonstrates significant further improvements without increasing model complexity or inference-time cost.
- Speech has become a prevailing interface to enable human-computer interaction, especially on mobile devices.
- a significant component of such an interface is a keyword spotting (KWS) system.
- KWS is often used to wake up mobile devices or to initiate conversational assistants. Therefore, reliably recognizing keywords, regardless of the acoustic environment, is important for effective interaction with speech-enabled products.
- KWS systems need to be robust to not only various kinds of noise interference but also varying loudness (or sound level). The capability to handle loudness variation is important because it allows users to talk to devices from a wide range of distances, enabling true hands-free interaction.
- KWS systems may also be neural network based.
- KWS systems are generally resource-limited embedded systems, and thus have energy and size constraints.
- the KWS systems are generally run on devices and always listening, which generally requires small memory footprints and low power consumption. Therefore, the size of the neural network needs to be much smaller than those used in other ASR systems, implying a smaller network with a limited representation power.
- on-device keyword spotting typically does not use sophisticated decoding schemes or language models.
- a log function has a singularity at zero. Common methods to deal with the singularity are to use either a clipped log, such as log(max(offset; x)), or a stabilized log, such as log(x+offset). However, the choice of the offset in both methods is ad hoc and may have different performance impacts on different signals.
- the log function uses a lot of its dynamic range on low level, such as silence, which is likely the least informative part of the signal.
- the log function is loudness dependent. With different loudness, the log function can produce different feature values even when the underlying signal content (e.g. keywords) is the same, which introduces another factor of variation into training and inference.
- some implementations of the present disclosure include a frontend utilizing per-channel energy normalization (PCEN).
- the PCEN frontend implements a feed-forward automatic gain control (AGC), which dynamically stabilizes signal levels.
- AGC feed-forward automatic gain control
- the PCEN is implemented as neural network operations and/or layers, and various PCEN parameters are optimized with a KWS acoustic model.
- PCEN a new robust frontend
- AGC-based dynamic compression e.g., to supplement or replace the static log (or root) compression
- a method is performed at an electronic device with one or more microphones, one or more processors, and memory storing one or more programs for execution by the one or more processors.
- the method includes: (1) receiving audio input data via the one or more microphones; (2) generating a plurality of energy channels for the audio input data; and (3) generating a feature vector by performing a per-channel normalization to each channel of the plurality of energy channels.
- the method further includes transmitting the feature vector to a neural network for speech recognition.
- generating the plurality of energy channels comprises applying a short-time Fourier transform to the audio input data.
- performing per-channel normalization comprises applying a smoothing filter and non-linearity function to each energy channel.
- applying a smoothing filter to each energy channel comprises utilizing a first smoothing coefficient for a first energy channel and applying a second smoothing coefficient for a second energy channel, wherein the first smoothing coefficient is distinct from the second smoothing coefficient.
- the non-linearity function comprises a squareroot function.
- the per-channel normalization comprises one of a per-channel energy normalization or a per-channel amplitude normalization.
- an electronic device having one or more microphones, one or more processors, and memory is configured to perform any of the methods described herein.
- a non-transitory computer-readable storage medium stores one or more programs, the one or more programs including instructions, which, when executed by an electronic device with one or more microphones, and one or more processors, cause the electronic device to perform any of the methods described herein.
- FIG. 1 is an example operating environment in accordance with some implementations.
- FIGS. 2A-2B are block diagrams illustrating an example electronic device that is applied as a voice interface to collect user voice commands in an operating environment in accordance with some implementations.
- FIG. 3 is a block diagram illustrating an example server in the server system of an operating environment in accordance with some implementations.
- FIGS. 4A-4B show a prophetic comparison of frequency channel outputs with log-mel and PCEN frontends, in accordance with some implementations.
- FIG. 5 is a block diagram illustrating a PCEN frontend and KWS model, in accordance with some implementations.
- FIG. 6 shows a prophetic example of combination weights in a PCEN frontend, in accordance with some implementations.
- FIG. 7 is a block diagram illustrating a PCEN frontend, in accordance with some implementations.
- Electronic devices are conveniently used as voice interfaces to receive voice inputs from users and initiate voice-activated functions, and thereby offer eyes-free and hands-free solutions to approach both existing and emerging technology.
- the voice inputs received at the electronic device can carry instructions and information even if a user's line of sight is obscured and his hands are full.
- the voice-activated electronic device listens to the ambient (i.e., constantly processes audio signals collected from the ambient) constantly or only when triggered.
- user identities are linked with a user's voice and a language used by the user.
- these voice-activated electronic devices are normally used in non-public places that are protected, controlled and intimate spaces (e.g., home and car).
- a voice-activated electronic device identifies a speaker of a voice input as one of one or more associated or registered users. Responses to the speaker output by the electronic device are personalized to the identified speaker. The speaker is identified by comparing the speaker's voice input to a set of trained voice models or voice fingerprints. In some implementations, words and phrases used by a speaker to train the voice models are not necessarily predefined and do not need to match words later spoken by the speaker in order for the electronic device to identify the speaker.
- multiple voice-activated electronic devices negotiate a leader amongst themselves to respond to voice inputs from a user.
- the negotiation may be based on which device detected the voice input the best, or which device is the closest to the user. Additionally, if the voice input is particularly relevant to one of the devices, that device may be selected to respond even if it would otherwise not be selected for response; the relevance of the command included in the voice input to a particular device (e.g., “stop music” should refer to a device playing music) and the state of the device receiving the voice input (e.g., “screen on” vs. “screen off”) are considered in determining which device will be the leader.
- a voice-activated device determines whether the surrounding noise is sufficiently interfering with detection of spoken hotwords for waking up the device or other spoken voice inputs.
- a “hotword” is a user defined or predefined word or phrase used to “wake-up” or trigger a voice-activated device to attend/respond to a spoken command that is issued subsequent to the hotword. If the noise is sufficiently interfering, the device indicates such and gives the user a hint to use an alternative way of waking up the device or other noise mitigation measures.
- FIG. 1 is an example operating environment in accordance with some implementations.
- the operating environment 100 includes one or more voice-activated electronic devices 190 (e.g., electronic devices 190 - 1 thru 190 -N).
- the one or more voice-activated electronic devices 190 are optionally located in one or more locations (e.g., all in a room or space of a structure, spread out throughout multiple spaces within a structure or throughout multiple structures (e.g., one in a house and one in the user's car)).
- the environment 100 optionally includes one or more other devices (e.g., media devices, smart home devices) (not shown) with which the voice-activated electronic devices 190 can communicate.
- the electronic devices 190 are communicatively coupled, through communication networks 110 , to a voice assistance server 112 of a voice assistant service.
- one or more of the electronic devices 190 are communicatively coupled to a local network 104 , which is communicatively coupled to the communication networks 110 (e.g., electronic devices 190 - 1 and 190 - 2 ).
- the local network 104 is a local area network implemented at a network interface (e.g., a router).
- the electronic devices 190 that are communicatively coupled to the local network 104 optionally also communicate with each other through the local network 104 .
- one or more of the electronic devices 190 are communicatively coupled to the communication networks 110 and are not on the local network 104 (e.g., electronic device 190 -N).
- these electronic devices 190 are not on the Wi-Fi network corresponding to the local network 104 but are connected to the communication networks 110 through a cellular connection.
- communication between electronic devices 190 that are on the local network 104 and electronic devices 190 that are not on the local network 104 are performed via the voice assistance server 112 .
- the electronic devices 190 are registered in a device registry 118 of the voice assistant service and thus known to the voice assistance server 112 .
- the environment 100 also includes one or more content hosts 114 .
- a content host 114 is a remote content source from which content is streamed or otherwise obtained in accordance with a user voice request.
- a content host 114 is an information source from which the voice assistance server 112 retrieves information in accordance with a user voice request.
- an electronic device 190 is associated with multiple users having respective user accounts in the user domain. Any of these users, as well as users not associated with the device, may make voice inputs to the electronic device 190 .
- the electronic device 190 receives these voice inputs from these users 102 - 1 thru 102 -M (e.g., including associated and unassociated users), and the electronic device 190 and/or the voice assistance server 112 proceeds to identify, for a voice input, the user making the voice input. With the user identification, a response to that voice input is optionally personalized to the identified user.
- the environment 100 includes multiple electronic devices 190 (e.g., devices 190 - 1 thru 190 -N).
- the devices 190 are located throughout the environment 100 (e.g., all within a room or space in a structure, spread throughout the structure, some within the structure and some without).
- each of the devices 190 either receives the input or does not receive the input (e.g., if the device was too far away from the user).
- the devices that receive the input receive it at varying degrees of quality; the quality of the sample of the voice input at a device is based on multiple factors, including but not limited to distance of the user from the device and the noise around the device.
- the multiple devices 190 negotiate a leader amongst themselves to respond to the user and to receive further voice input from the user 102 (e.g., based on the quality of the samples of the voice inputs).
- an electronic device 190 determines a level of noise around the device and determines whether the determined noise level is sufficiently high to interfere with recognition of the hotword in voice inputs, and thus interfere with awakening of the device by voice, or with recognition of voice requests. If the noise level is determined to be sufficiently high to be interfering, the electronic device 190 indicates to the user that the noise level is interfering and gives the user a hint that the user should use another way to wake up the electronic device 190 (e.g., activate a button). The indication of the interfering noise level and the hint to use another way to wake up the device are optionally done in the same presentation (e.g., illuminating the wake-up button).
- one or more media devices are disposed in the operating environment 100 to provide to one or more occupants media content, news and/or other information.
- the content provided by the media devices is stored at a local content source, streamed from a remote content source (e.g., content host(s) 114 ), or generated locally (e.g., through a local text to voice processor that reads a customized news briefing, emails, texts, a local weather report, etc. to one or more occupants of the operating environment 100 ).
- the media devices include media output devices that directly output the media content to an audience (e.g., one or more users), and cast devices that are networked to stream media content to the media output devices.
- Examples of the media output devices include, but are not limited to television (TV) display devices and music players.
- Examples of the cast devices include, but are not limited to, set-top boxes (STBs), DVD players, TV boxes, and media streaming devices, such as Google's ChromecastTM media streaming device.
- STBs set-top boxes
- DVD players DVD players
- TV boxes TV boxes
- media streaming devices such as Google's ChromecastTM media streaming device.
- the media devices include one or more voice-activated electronic devices 190 that receive, process and respond to voice commands of occupants.
- the voice-activated electronic devices 190 respond to voice commands by: generating and providing a spoken response to a voice command (e.g., speaking the current time in response to the question, “what time is it?”); streaming media content requested by a user (e.g., “play a Beach Boys song”); reading a news story or a daily news briefing prepared for the user; playing a media item stored on the personal assistant device or on the local network; changing a state or operating one or more other connected devices within the operating environment 100 (e.g., turning lights, appliances or media devices on/off, locking/unlocking a lock, opening windows, etc.); or issuing a corresponding request to a server via a network 110 .
- a spoken response to a voice command e.g., speaking the current time in response to the question, “what time is it?”
- streaming media content requested by a user e.g
- the one or more electronic devices 190 are disposed in the operating environment 100 to collect audio inputs for initiating various functions, including media play functions of the media devices.
- these voice-activated electronic devices 190 e.g., devices 190 - 1 thru 190 -N
- a voice-activated electronic device 190 is disposed in a room having one or more smart home devices but not any media device.
- a voice-activated electronic device 190 is disposed in a location having no networked electronic device.
- a room or space in the structure may have multiple electronic devices 190 .
- the electronic device 190 includes at least one or more microphones, a speaker, a processor and memory storing at least one program for execution by the processor.
- the speaker is configured to allow the electronic device 190 to deliver voice messages and other audio (e.g., audible tones) to a location where the electronic device 190 is located in the operating environment 100 , thereby broadcasting music, reporting a state of audio input processing, having a conversation with or giving instructions to a user of the electronic device 190 .
- voice messages visual signals could also be used to provide feedback to the user of the electronic device 190 concerning the state of audio input processing.
- the electronic device 190 is a mobile device (e.g., a mobile phone or a tablet computer)
- its display screen is configured to display a notification concerning the state of audio input processing.
- the electronic device 190 is a voice interface device that is network-connected to provide voice recognition functions with the aid of a voice assistance server 112 and/or optionally a cloud cast service server (not shown).
- the electronic device 190 includes a smart speaker that provides music to a user and allows eyes-free and hands-free access to a voice assistant service (e.g., Google Assistant).
- a voice assistant service e.g., Google Assistant
- the electronic device 190 is one of a desktop or laptop computer, a tablet, a mobile phone that includes a microphone, a cast device that includes a microphone and optionally a speaker, an audio system (e.g., a stereo system, a speaker system, a portable speaker) that includes a microphone and a speaker, a television that includes a microphone and a speaker, and a user interface system in an automobile that includes a microphone and a speaker and optionally a display.
- the electronic device 190 is a simple and low cost voice interface device.
- the electronic device 190 may be any device that is capable of network connection and that includes a microphone, a speaker, and programs, modules, and data for interacting with voice assistant service.
- the electronic device 190 includes an array of light emitting diodes (LEDs) rather than a full display screen, and displays a visual pattern on the LEDs to indicate the state of audio input processing.
- the LEDs are full color LEDs, and the colors of the LEDs may be employed as a part of the visual pattern to be displayed on the LEDs.
- Multiple examples of using LEDs to display visual patterns in order to convey information or device status are described in U.S. Provisional Patent Application No. 62/336,566, entitled “LED Design Language for Visual Affordance of Voice User Interfaces,” filed May 13, 2016, which is incorporated by reference in its entirety.
- visual patterns indicating the state of voice processing operations are displayed using characteristic images shown on conventional displays associated with electronic devices that are performing the voice processing operations.
- LEDs or other visual displays are used to convey a collective voice processing state of multiple participating electronic devices.
- groups of color LEDs associated with respective electronic devices can be used to convey which of the electronic devices is listening to a user, and which of the listening devices is the leader (where the “leader” device generally takes the lead in responding to a spoken request issued by the user).
- the '566 application describes an “LED Design Language” for indicating visually using a collection of LEDs a variety of voice processing states of an electronic device, such as a “Hot word detection state and listening state,” a “Thinking mode or working mode,” and a “Responding mode or speaking mode.”
- unique states of voice processing operations described herein are represented using a group of LEDs in accordance with one or more aspects of the “LED Design Language” of the '566 application.
- These visual indicators can also be combined with one or more audible indicators generated by electronic devices that are performing voice processing operations. The resulting audio and/or visual indicators will enable users in a voice-interactive environment to understand the state of various voice processing electronic devices in the environment and to effectively interact with those devices in a natural, intuitive manner.
- the electronic device 190 When voice inputs from the electronic device 190 are used to control the media output devices via the cast devices, the electronic device 190 effectively enables a new level of control of cast-enabled media devices.
- the electronic device 190 includes a casual enjoyment speaker with far-field voice access and functions as a voice interface device for the voice assistant service.
- the electronic device 190 could be disposed in any area in the operating environment 100 . When multiple electronic devices 190 are distributed in multiple rooms, they become cast audio receivers that are synchronized to provide voice inputs from all these rooms.
- the electronic device 190 includes a Wi-Fi speaker with a microphone that is connected to a voice-activated voice assistant service (e.g., Google Assistant).
- a voice-activated voice assistant service e.g., Google Assistant
- a user can issue a media play request via the microphone of electronic device 190 , and ask the voice assistant service to play media content on the electronic device 190 itself or on another connected media output device.
- the user can issue a media play request by saying to the Wi-Fi speaker “OK Google, play cat videos on my Living room TV.”
- the voice assistant service then fulfils the media play request by playing the requested media content on the requested device using a default or designated media application.
- a user can issue a voice request, via the microphone of the electronic device 190 , concerning media content that has already been played or is being played on a display device (e.g., the user can ask for information about the media content, buy the media content through an online store, or compose and issue a social post about the media content).
- a user may want to take a current media session with them as they move through the house and can request such a service from one or more of the electronic devices 190 .
- This requires the voice assistant service to transfer the current media session from a first cast device to a second cast device that is not directly connected to the first cast device or has no knowledge of the existence of the first cast device.
- a second output device coupled to the second cast device continues to play the media content previously a first output device coupled to the first cast device from the exact point within a music track or a video clip where play of the media content was forgone on the first output device.
- the electronic device 190 that receives the request to transfer the media session can satisfy the request.
- the electronic device 190 that receives the request to transfer the media session relays the request to another device or system (e.g., a hub device, voice assistance server 112 ) for handling.
- a user may issue, via the microphone of electronic device 190 , a request for information or for performance of an action or operation.
- the information requested may be personal (e.g., the user's emails, the user's calendar events, the user's flight information, etc.), non-personal (e.g., sports scores, news stories, etc.) or somewhere in between (e.g., scores for teams or sports preferred by the user, news stories from the user's preferred sources, etc.).
- the requested information or action/operation may involve access to personal information (e.g., purchasing a digital media item with payment information provided by the user, purchasing a physical good).
- the electronic device 190 responds to the request with voice message responses to the user, where the response may include, for example, requests for additional information to fulfill the request, confirmation that the request has been fulfilled, notice that the request cannot be fulfilled, and so forth.
- the operating environment 100 may also include one or more smart home devices (not shown).
- the integrated smart home devices include intelligent, multi-sensing, network-connected devices that integrate seamlessly with each other in a smart home network and/or with a central server or a cloud-computing system to provide a variety of useful smart home functions.
- a smart home device is disposed at the same location of the operating environment 100 as a cast device and/or an output device, and therefore, is located in proximity to or with a known distance with respect to the cast device and the output device.
- the smart home devices in the operating environment 100 may include, but are not limited to, one or more intelligent, multi-sensing, network-connected thermostats, one or more intelligent, network-connected, multi-sensing hazard detectors, one or more intelligent, multi-sensing, network-connected entryway interface devices and (hereinafter referred to as “smart doorbells” and “smart door locks”), one or more intelligent, multi-sensing, network-connected alarm systems, one or more intelligent, multi-sensing, network-connected camera systems, and one or more intelligent, multi-sensing, network-connected wall switches, and one or more intelligent, multi-sensing, network-connected power sockets.
- the smart home devices in the operating environment 100 of FIG. 1 includes a plurality of intelligent, multi-sensing, network-connected appliances (hereinafter referred to as “smart appliances”), such as refrigerators, stoves, ovens, televisions, washers, dryers, lights, stereos, intercom systems, garage-door openers, floor fans, ceiling fans, wall air conditioners, pool heaters, irrigation systems, security systems, space heaters, window AC units, motorized duct vents, and so forth.
- any one of these smart home device types can be outfitted with microphones and one or more voice processing capabilities as described herein so as to in whole or in part respond to voice requests from an occupant or user.
- each of the cast devices and the voice-activated electronic devices 190 is capable of data communications and information sharing with other cast devices, voice-activated electronic devices 190 , smart home devices, a central server or cloud-computing system, and/or other devices (e.g., the client device) that are network-connected.
- Data communications may be carried out using any of a variety of custom or standard wireless protocols (e.g., IEEE 802.15.4, Wi-Fi, ZigBee, 6LoWPAN, Thread, Z-Wave, Bluetooth Smart, ISA100.11a, WirelessHART, MiWi, etc.) and/or any of a variety of custom or standard wired protocols (e.g., Ethernet, HomePlug, etc.), or any other suitable communication protocol, including communication protocols not yet developed as of the filing date of this document.
- custom or standard wireless protocols e.g., IEEE 802.15.4, Wi-Fi, ZigBee, 6LoWPAN, Thread, Z-Wave, Bluetooth Smart, ISA100.11a, WirelessHART, MiWi, etc.
- any of a variety of custom or standard wired protocols e.g., Ethernet, HomePlug, etc.
- the cast devices, the electronic devices 190 and the smart home devices may communicate with a server system (also called a central server system and/or a cloud-computing system herein).
- the server system may be associated with a manufacturer, support entity, or service provider associated with the cast devices and the media content displayed to the user.
- the server system includes the voice assistance server 112 that processes audio inputs collected by voice-activated electronic devices 190 , one or more content hosts 114 that provide the displayed media content, a cloud cast service server creating a virtual user domain based on distributed device terminals, and the device registry 118 that keeps a record of the distributed device terminals in the virtual user environment.
- Examples of the distributed device terminals include, but are not limited to the cast devices, the media output devices, the electronic devices 190 and the smart home devices. In some implementations, these distributed device terminals are linked to a user account (e.g., a Google user account) in the virtual user domain. It should be appreciated that processing of audio inputs collected by electronic devices 190 can be performed locally at an electronic device 190 , at a voice assistance server 112 , at another smart home device (e.g., a hub device) or at some combination of all or subset of the above.
- a user account e.g., a Google user account
- processing of audio inputs collected by electronic devices 190 can be performed locally at an electronic device 190 , at a voice assistance server 112 , at another smart home device (e.g., a hub device) or at some combination of all or subset of the above.
- the electronic device(s) 190 also function in an environment without smart home devices.
- an electronic device 190 can, even in the absence of smart home devices, respond to user requests for information or performance of an action, and/or to initiate or control various media play functions.
- An electronic device 190 can also function in a wide range of environments, including, without limitation, a vehicle, a ship, a business, or a manufacturing environment.
- an electronic device 190 is “awakened” (e.g., to activate an interface for the voice assistant service on the electronic device 190 , to put the electronic device 190 into a state where the electronic device 190 is ready to receive voice requests to the voice assistant service) by a voice input that includes a hotword (also called a “wake word”).
- the electronic device 190 requires awakening if the electronic device 190 has been idle with respect to receipt of voice inputs for at least a predefined amount of time (e.g., 5 minutes); the predefined amount of time corresponds to an amount of idle time allowed before a voice interface session or conversation times out.
- the hotword may be a word or phrase, and may be a predefined default and/or may be customized by a user (e.g., a user may set a nickname for a particular electronic device 190 as the device's hotword). In some implementations, there may be multiple hotwords that can awaken an electronic device 190 . A user may speak the hotword, wait for an acknowledgement response from the electronic device 190 (e.g., the electronic device 190 outputs a greeting), and them make a first voice request. Alternatively, the user may combine the hotword and the first voice request in one voice input (e.g., the voice input includes the hotword followed by the voice request).
- the voice inputs spoken by the user to an electronic device 190 may generally be freeform or natural language speech. That is, the voice input need not be strictly limited to a predefined set of words and phrases within a predefined syntax, with possibly certain exceptions (e.g., user needs to speak the hotword first to awaken the device).
- an electronic device 190 includes one or more additional ways or affordances to wake up the device besides speaking the hotword to the electronic device 190 .
- the additional ways or affordances may include, for example, activating a predefined button or touch sensor (e.g., a touch sense array) on the electronic device 190 .
- a voice-activated electronic device 190 interacts with a cast device, a client device, or a server system of an operating environment 100 in accordance with some implementations.
- the voice-activated electronic device 190 is configured to receive audio inputs from an environment in proximity to the voice-activated electronic device 190 .
- the electronic device 190 stores the audio inputs and at least partially processes the audio inputs locally.
- the electronic device 190 transmits the received audio inputs or the partially processed audio inputs to a voice assistance server 112 via the communication networks 110 for further processing.
- the cast device is configured to obtain media content or Internet content from one or more content hosts 114 for display on an output device coupled to the cast device.
- the cast device and the voice-activated electronic device 190 are linked to each other in a user domain, and more specifically, associated with each other via a user account in the user domain.
- Information of the cast device and information of the electronic device 190 are stored in the device registry 118 in association with the user account.
- a cloud cast service server manages the cast devices registry and the voice assistance server 112 manages the voice-activated electronic devices registry.
- the cast devices registry may reference devices in the voice-activated electronic devices registry that are associated in the user domain, and vice versa.
- one or more of the electronic devices 190 are commissioned to the voice assistant service via a client device (not shown).
- the voice-activated electronic device 190 does not include any display screen, and relies on the client device to provide a user interface during a commissioning process, and similarly for a cast device as well.
- the client device is installed with an application that enables a user interface to facilitate commissioning of a new voice-activated electronic device 190 disposed in proximity to the client device.
- a user may send a request on the user interface of the client device to initiate a commissioning process for the new electronic device 190 that needs to be commissioned.
- the client device After receiving the commissioning request, the client device establishes a short range communication link with the new electronic device 190 that needs to be commissioned.
- the short range communication link is established based near field communication (NFC), Bluetooth, Bluetooth Low Energy (BLE) and the like.
- the client device then conveys wireless configuration data associated with a wireless local area network (WLAN) (e.g., local network 104 ) to the new or electronic device 190 .
- the wireless configuration data includes at least a WLAN security code (i.e., service set identifier (SSID) password), and optionally includes a SSID, an Internet protocol (IP) address, proxy configuration and gateway configuration.
- SSID service set identifier
- IP Internet protocol
- additional user domain information is entered on the user interface displayed on the client device, and used to link the new electronic device 190 to an account in a user domain.
- the additional user domain information is conveyed to the new electronic device 190 in conjunction with the wireless communication data via the short range communication link.
- the additional user domain information is conveyed to the new electronic device 190 via the WLAN after the new device has joined the WLAN.
- control path an application installed on the client device is used to control the other device and its associated activities (e.g., media play activities).
- the electronic device 190 is used to enable eyes-free and hands-free control of the other device and its associated activities.
- the voice-activated electronic device 190 can be used as a voice user interface to enable eyes-free and hands-free control of media content streaming to the cast device involving no remote control, client device or other second screen device.
- the user may give voice commands such as “Play Lady Gaga on Living Room speakers.”
- a Lady Gaga music track or video clip is streamed to a cast device associated with the “Living Room speakers.”
- the client device is not involved, nor is any cast device application or media play application loaded on the client device.
- a proxy service communicatively links the voice-activated electronic device 190 to the cast device and makes casting to the cast device possible without involving any applications on the client device.
- a voice message is captured and recorded by an electronic device 190 , and the voice message is configured to request media play on a media output device.
- the electronic device 190 partially processes the voice message locally.
- the electronic device 190 transmits the voice message or the partially processed voice message to a voice assistance server 112 via the communication networks 110 for further processing.
- the voice assistance server 112 or a cloud cast service server determines that the voice message includes a first media play request, and that the first media play request includes a user voice command to play media content on a media output device and a user voice designation of the media output device.
- the user voice command further includes at least information of a first media play application (e.g., YouTube and Netflix) and the media content (e.g., Lady Gaga music) that needs to be played.
- the voice assistance server 112 or the cloud cast service server identifies in a device registry 118 a cast device associated in the user domain with the electronic device 190 and coupled to the media output device.
- the cast device is configured to execute one or more media play applications for controlling the media output device to play media content received from one or more media content hosts 114 .
- the cloud cast service server sends to the cast device a second media play request including the information of the first media play application and the media content that needs to be played.
- the cast device executes the first media play application and controls the media output device to play the requested media content.
- the user voice designation of the media output device includes a description of the destination media output device.
- the voice assistance server 112 or the cloud cast service server identifies in the device registry 118 the destination media output device among a plurality of media output devices according to the description of the destination media output device.
- the description of the destination media output device includes at least a brand (“Samsung TV”) or a location of the media output device (“my Living Room TV”).
- the operating environment 100 includes a first cast device (not shown) and a first output device (not shown) coupled to the first cast device.
- the operating environment 100 also includes a second cast device (not shown) and a second output device (not shown) coupled to the second cast device.
- the cast devices are optionally located in the same location (e.g., the living room) or two distinct locations (e.g., two rooms) in the operating environment 100 .
- Each of the cast devices is configured to obtain media content or Internet content from content hosts 114 for display on the output device coupled to the respective cast device.
- Both the first and second cast devices are communicatively coupled to the voice assistance server 112 , optionally a cloud cast service server, and the content hosts 114 .
- the operating environment 100 further includes one or more voice-activated electronic devices 190 that are communicatively coupled to the voice assistance server 112 and optionally the cloud cast service server.
- the voice-activated electronic devices 190 are disposed independently of the cast devices and the output devices.
- an electronic device 190 is disposed in a room where no cast device or output device is located.
- a first electronic device 190 is disposed in proximity to the first cast device and the first output device, e.g., the first electronic device 190 , the first cast device and the first output device are located in the same room.
- a second electronic device 190 is disposed independently of or in proximity to the second cast device and the second output device.
- a user may send a voice command to any of the electronic devices 190 to request play of the media content to be transferred to the second output device.
- the voice command includes a media play transfer request.
- the user can issue the voice command to the electronic device 190 disposed in proximity to the first cast device before the user moves to a destination location.
- the user can issue the voice command to the electronic device 190 disposed in proximity to the second device after the user reaches the destination location.
- the voice command is transmitted to the voice assistance server 112 .
- the voice assistance server 112 sends a media display information request to the first cast device to request instant media play information of the media content that is currently being played on the first output device coupled to the first cast device.
- the first cast device then returns to the voice assistance server 112 the requested instant play information including at least information of a first media play application (e.g., YouTube), the media content that is currently being played (e.g., “Lady Gaga-National Anthem-Super Bowl 2016”), and a temporal position related to playing of the media content.
- the second cast device receives a media display request including the instant play information from the voice assistance server 112 , and in accordance with the instant play information, executes the first media play application that controls the second output device to play the media content from the temporal location.
- the play of the media content would seamlessly follow the user while only involving limited user intervention (i.e., giving the voice command).
- FIGS. 2A-2B are block diagrams illustrating an example electronic device 190 that is applied as a voice interface to collect user voice commands in an operating environment (e.g., operating environment 100 ) in accordance with some implementations.
- the electronic device 190 includes one or more processing units (CPUs) 502 , one or more network interfaces 504 , memory 506 , and one or more communication buses 508 for interconnecting these components (sometimes called a chipset).
- the electronic device 190 includes one or more input devices 510 that facilitate user input, such as a button 512 , a touch sense array 514 , and one or more microphones 516 .
- the electronic device 190 also includes one or more output devices 518 , including one or more speakers 520 , optionally an array of LEDs 522 , and optionally a display 524 .
- the array of LEDs 522 is an array of full color LEDs.
- an electronic device 190 depending on the type of device, has either the array of LEDs 522 , or the display 524 , or both.
- the electronic device 190 also includes a location detection device 526 (e.g., a GPS module) and one or more sensors 528 (e.g., accelerometer, gyroscope, light sensor, etc.).
- Memory 506 includes high-speed random access memory, such as DRAM, SRAM, DDR RAM, or other random access solid state memory devices; and, optionally, includes non-volatile memory, such as one or more magnetic disk storage devices, one or more optical disk storage devices, one or more flash memory devices, or one or more other non-volatile solid state storage devices. Memory 506 , optionally, includes one or more storage devices remotely located from one or more processing units 502 . Memory 506 , or alternatively the non-volatile memory within memory 506 , includes a non-transitory computer-readable storage medium. In some implementations, memory 506 , or the non-transitory computer-readable storage medium of memory 506 , stores the following programs, modules, and data structures, or a subset or superset thereof:
- the voice processing module 538 includes one or more of the following modules:
- the noise module 558 includes the following modules:
- Each of the above identified elements may be stored in one or more of the previously mentioned memory devices, and corresponds to a set of instructions for performing a function described above.
- the above identified modules or programs i.e., sets of instructions
- memory 506 optionally, stores a subset of the modules and data structures identified above.
- memory 506 optionally, stores additional modules and data structures not described above.
- a subset of the programs, modules, and/or data stored in the memory 506 can be stored on and/or executed by the server system 140 /voice assistance server 112 .
- one or more of the modules in memory 506 described above are part of a voice processing library of modules.
- the voice processing library may be implemented and embedded on a wide variety of devices.
- An example of a voice processing library is described in U.S. Provisional Patent Application No. 62/334,434, entitled “Implementations for Voice Assistant on Devices,” filed May 10, 2016, which is incorporated by reference in its entirety.
- FIG. 3 is a block diagram illustrating an example server in the server system 140 of an operating environment (e.g., operating environment 100 ) in accordance with some implementations.
- An example server is one of a voice assistance server 112 .
- the server 140 typically, includes one or more processing units (CPUs) 702 , one or more network interfaces 704 , memory 706 , and one or more communication buses 708 for interconnecting these components (sometimes called a chipset).
- the server 140 could include one or more input devices 710 that facilitate user input, such as a keyboard, a mouse, a voice-command input unit or microphone, a touch screen display, a touch-sensitive input pad, a gesture capturing camera, or other input buttons or controls.
- the server 140 could use a microphone and voice recognition or a camera and gesture recognition to supplement or replace the keyboard.
- the server 140 includes one or more cameras, scanners, or photo sensor units for capturing images, for example, of graphic series codes printed on the electronic devices.
- the server 140 could also include one or more output devices 712 that enable presentation of user interfaces and display content, including one or more speakers and/or one or more visual displays.
- the memory 706 includes high-speed random access memory, such as DRAM, SRAM, DDR RAM, or other random access solid state memory devices; and, optionally, includes non-volatile memory, such as one or more magnetic disk storage devices, one or more optical disk storage devices, one or more flash memory devices, or one or more other non-volatile solid state storage devices.
- the memory 706 optionally, includes one or more storage devices remotely located from one or more processing units 702 .
- the memory 706 or alternatively the non-volatile memory within the memory 706 , includes a non-transitory computer-readable storage medium.
- the memory 706 , or the non-transitory computer-readable storage medium of the memory 706 stores the following programs, modules, and data structures, or a subset or superset thereof:
- the voice assistance server 112 performs processing of voice inputs and for noise mitigation, and thus one or more of the programs, modules, and data structures in the memory 506 described above with reference to FIGS. 2A-2B are included in respective modules in the memory 706 (e.g., the programs, modules, and data structures included with the voice processing module 538 are included in the voice processing module 7100 , and the programs, modules, and data structures included with the noise module 558 are included in the noise module 790 ).
- the electronic device 190 either transmits captured voice inputs to the voice assistance server 112 for processing, or first pre-processes the voice inputs and transmits the pre-processed voice inputs to the voice assistance server 112 for processing.
- the voice assistance server 112 and the electronic device 190 has some shared and some divided responsibilities regarding processing of voice inputs and noise mitigation, and the programs, modules, and data structures shown in FIGS. 2A-2B may be included in both or divided amongst the voice assistance server 112 and the electronic device 190 .
- Other programs, modules, and data structures shown in FIGS. 2A-2B e.g., voice models data 550 , voice model training module 554 ), or analogues thereof, may also be included in the voice assistance server 112 .
- Each of the above identified elements may be stored in one or more of the previously mentioned memory devices, and corresponds to a set of instructions for performing a function described above.
- the above identified modules or programs i.e., sets of instructions
- memory 706 optionally, stores a subset of the modules and data structures identified above.
- memory 706 optionally, stores additional modules and data structures not described above.
- the PCEN frontend (e.g., in the voice processing module 538 ) applies a dynamic compression shown in Equation (1) below (e.g., in replace of a static log (or root) compression):
- PCEN ⁇ ( t , f ) ( E ⁇ ( t , f ) ( ⁇ + M ⁇ ( t , f ) ) ⁇ + ⁇ ) r - ⁇ r PCEN ⁇ ⁇ compression Equation ⁇ ⁇ 1
- Equation 1 t and f denote time and frequency index and E(t, f) denotes filterbank energy in each time-frequency (T-F) bin.
- ⁇ is a small constant to prevent division by zero.
- ⁇ is set to 10 ⁇ 6 .
- ⁇ is in the range of 0.1 to 10.
- r is in the range of 0.25 to 0.6.
- an FFT-based mel-scale filterbank is used.
- the mel scale relates perceived frequency, or pitch, of a pure tone to its actual measured frequency. Converting to mel scale enables features to match more closely to what humans hear since humans are better at discerning small changes in pitch at low frequencies than they are at high frequencies.
- M(t, f) is a smoothed version of the filterbank energy E(t, f) and is computed using a first-order infinite impulse response (IIR) filter, such as shown below in Equation 3.
- IIR infinite impulse response
- Equation 3 Infinite Impulse Response Filter
- Equation 3 s is a smoothing coefficient (e.g., in the range of [0,1)). E ( t,f )/( ⁇ + M ( t,f )) ⁇
- Equation 4 implementing part of Equation 3, comprises a form of feed-forward automatic gain control (AGC).
- the AGC strength (or gain normalization strength) is controlled by the parameter ⁇ [0,1], where a larger ⁇ indicates stronger gain normalization.
- ⁇ is in the range of 0.5 to 1.0.
- M(t, f) carries the loudness profile of E(t, f), which is subsequently normalized out. In some implementations, this operation is causal and is done for each frequency channel (frequency bin) independently, making it suitable for real-time implementation.
- the AGC emphasizes changes relative to recent spectral history and adapts to audio communication channel effects, including loudness.
- a stabilized root compression is performed to further reduce the dynamic range using offset ⁇ and exponent r.
- the offset ⁇ introduces a flat start to the stabilized root compression curve, which resembles an optimized spectral subtraction curve.
- the AGC strength ⁇ and smoothing coefficient s are based on the loudness distribution of data.
- FIGS. 4A-4B show a prophetic comparison of frequency channel outputs with log-mel and PCEN frontends, in accordance with some implementations.
- the PCEN reduces the dynamic range of filterbank energy while still preserving prominent speech patterns. In several intervals (e.g., the first 30 frames and frame 120 to 170 ), low-level signals that do not carry useful information are amplified by the log operation, whereas in PCEN they are relatively flat.
- the PCEN enhances speech onsets, which are important for noise and reverberation robustness.
- Equation 4 can be written as: exp(log( E ( t,f ) ⁇ log( ⁇ + M ( t,f )))
- the PCEN frontend is performing a partial log-domain high-pass filtering followed by an exponential expansion, which helps enhance transitions.
- the PCEN frontend incorporates several tunable parameters.
- Manual tuning is a labor intensive and inherently suboptimal process. For example, when one wants to jointly tune all parameters with a moderate resolution, the number of parameter combinations can easily become unmanageable.
- all the PCEN operations are differentiable, permitting gradient-based optimization with respect to hyperparameters.
- Gain normalization related parameters include ⁇ , ⁇ , and r.
- the PCEN is expressed as matrix operations, hence representable with standard neural network layers, by utilizing precomputed filterbank energy E and corresponding smoother M (t, f).
- the PCEN layer outputs are feed to a neural network (e.g., as features to a KWS acoustic model) and jointly optimized.
- a gradient is computed using backpropagation with respect to those parameters.
- the parameters are updated iteratively using stochastic gradient descent (SGD).
- SGD stochastic gradient descent
- the neural-network formulation offers more than automatic parameter finding.
- the parameters of Equation 1 are restricted to be scalars shared across all T-F bins and are manually tuned (e.g., due to difficulties in designing high dimensional parameters).
- the PCEN parameters are generalized to be frequency- or time-frequency dependent.
- an SGD is utilized to optimize the PCEN parameter values automatically.
- a similar approach is used to produce a smoother M (t, f) as well.
- the smoothing coefficient s which controls the time constant of the IIR smoother, is learned utilizing a neural network.
- the smoother is modeled as a recurrent neural network with a trainable s.
- several smoothing coefficients are predetermined and a weighted combination of several smoother outputs is learned.
- Equation 6 K is the number of smoothers.
- the constraints in Equation 6 are satisfied by computing w k (f) as: exp( z k ( f ))/ ⁇ k exp( z k ( f )) where z k ( f ) ⁇
- a gradient with respect to all z k (f) is computed and updated iteratively.
- FIG. 5 illustrates the joint PCEN frontend and KWS model.
- each smoother w k (f) e.g., 502 , 504 , and 506
- a learned smoother 508 e.g., as described above with respect to Equations 6-7
- the learned smoother 508 and the uncompressed filterbank energy 510 is input to the PCEN 512 to generate an acoustic model 514 (e.g., as described above with respect to Equations 1-5).
- all the trainable parameters are data-independent, and are not conditioned on any input features, such that they are the “leaf” nodes in the computation graph.
- the learned parameters are frozen and do not change for different signals. This avoids introducing additional network weights and computational cost during inference, because the trained parameters are hardcoded into the PCEN frontend.
- data-dependent parameter learning is used to further improve performance.
- the KWS system uses a convolutional neural network (CNN).
- CNN convolutional neural network
- the input to the CNN includes multiple left context frames and multiple right context frames (e.g., 23 left frames and 8 right frames for 32 frames in total).
- each frame is computed based on a 40-channel mel filterbank (e.g., with 25 ms windowing and 10 ms frame shift).
- the CNN includes a convolutional layer with hundreds of feature maps (e.g., 308 feature maps) and non-overlapping kernels (e.g., 8 ⁇ 8 kernels) followed by a linear projection layer (e.g., of size 32) and a fully connected rectified linear unit layer (e.g., of size 128).
- the CNN is trained on large internal training sets to detect a keyword (e.g., a keyword such as “Ok Google”).
- multi-condition training is performed by artificially corrupting each utterance with various interfering background noises and reverberations.
- the noise sources contain sounds sampled from daily-life environments and videos (e.g., YouTubeTM videos).
- multi-loudness training is performed by scaling the loudness of each training utterance to a randomly selected level (e.g., ranging from ⁇ 45 decibels relative to full scale (dBFS) to ⁇ 15 dBFS).
- far-field evaluation sets rerecorded in real environments are utilized to train the PCEN.
- the negative data in these sets include speech signals mined from real voice search logs.
- the size of the evaluation sets range from 50 to 300 hours.
- the data used in training and evaluation sets is anonymized.
- low false rejection rates are achieved (e.g., less than 0.5 per hour of audio) while maintaining extremely low false alarm rates (e.g., no more than 0.5 false alarms per hour of audio).
- ⁇ (f), ⁇ (f), and r(f) are randomly initialized from a normal distribution (e.g., with mean 1:0 and standard deviation 0.1).
- z k (f) is randomly initialized from a normal distribution with mean log(1/K) and standard deviation 0.1, where K is a number of predetermined smoothers.
- four smoothers are calculated using smoothing coefficients of 0.015, 0.02, 0.04, and 0.08.
- multi-loudness training data is utilized, such that the network can learn the importance of gain normalization.
- the KWS CNN layers are bootstrapped from a pretrained PCEN model.
- FIG. 6 shows a prophetic example of combination weights in a PCEN frontend, in accordance with some implementations.
- the smoother combination weights are learned by a joint model.
- the network alternates between different features to obtain more discriminative information.
- the system shown in FIG. 5 increases computational cost because it computes multiple smoothers first.
- the alternating pattern e.g., illustrated in FIG. 6
- a model is trained with a single smoother but computed using alternating smoothing coefficients (e.g., the other parameters are still learned as described before).
- PCAN Per Channel Amplitude Normalization
- PCEN Per Channel Energy Normalization
- a Hotword frontend computes features from input audio, which are passed as input to a neural network. In some implementations, the dynamic range of these features is compressed. In some implementations, the Hotword frontend analyzes kHz input audio (e.g., 8, 16, or 32) with integer samples (e.g., 8, 16, or 32) in millisecond long (e.g., 10, 25, or 50) chunks (also sometimes called frames) with a hop size of several milliseconds (e.g., 5, 10, or 15).
- kHz input audio e.g., 8, 16, or 32
- integer samples e.g., 8, 16, or 32
- millisecond long e.g., 10, 25, or 50 chunks (also sometimes called frames) with a hop size of several milliseconds (e.g., 5, 10, or 15).
- the frontend for each frame of audio, the frontend computes a vector of features (e.g., 30, 40, or 50), corresponding to a number of frequency channels (e.g., 30, 40, or 50), each tuned to a different frequency band.
- the frontend obtains a spectrogram analysis of the sound by stacking successive frames of features horizontally. In some implementations, these features are input to a neural network.
- the input frame of audio is multiplied with a millisecond Hamming window (e.g., 10, 25, or 50 milliseconds).
- a fast Fourier transform FFT
- FFT fast Fourier transform
- square magnitudes of FFT coefficients are accumulated to compute mel-scale energies.
- a squareroot is applied to the mel-scale energies to obtain amplitudes.
- a version of the amplitude is computed that is smoothed across frames.
- Equation 8 subscript denotes frame index.
- spectral subtraction is performed by subtracting the smoothed amplitude from the current amplitude.
- the current amplitude is replaced with a small percentage of its value (e.g., 2, 5, or 10%) if the subtracted value would be less than that.
- the amplitudes are compressed with a logarithm. In some implementations, these log amplitudes are features for the neural network.
- PCAN normalization replaces the logarithm in the compression. In some implementations, PCAN utilizes a stiff feedforward automatic gain control.
- ⁇ is a to prevent division by zero (e.g., 10 ⁇ 5 , 10 ⁇ 6 , or 10 ⁇ 7 ).
- energies squared amplitudes
- a PCEN frontend processes melscale energies.
- a PCEN-like PCAN frontend is utilized (e.g., as an intermediate between PCAN and PCEN).
- Equation 13 has a denoising effect of modifying small values.
- PCAN, PCEN, and/or PCEN-like PCAN frontends are implemented in floating point as a Marino stream.
- floating-point normalization frontend e.g., PCAN, PCEN, or PCEN-like PCAN
- PCEN-like PCAN floating-point normalization frontend
- a fixedpoint normalization frontend is utilized.
- audio data is received by a microphone (e.g., microphone 516 , FIG. 2A ).
- the audio data is transmitted from the microphone to a frontend, which applies a short-time Fourier transform (STFT) to the audio data to produce a plurality of frequency channels (e.g., mel channels).
- the frequency channels are transmitted to a normalization frontend (e.g., PCEN, PCAN, or PCEN-like PCAN).
- the normalization frontend also sometimes called a normalization module
- the features are transmitted to a neural network (e.g., for hotword detection).
- the audio data comprises speech, such as conversational speech and/or hotwords.
- FIG. 7 is a block diagram illustrating a PCEN frontend (e.g., normalization module 539 ), in accordance with some implementations.
- Energy is received by the PCEN (e.g., from an audio frontend via mel channels).
- a squareroot function is applied to the energy.
- the squarerooted energy is transmitted to a smoothing filter and then the squarerooted energy is divided by the smoothed energy.
- a non-linear function is applied to resulting normalized energy to produce the feature vector.
- the PCEN frontend is a component of a digital signal processing (DSP) module.
- DSP digital signal processing
- first, second, etc. are, in some instances, used herein to describe various elements, these elements should not be limited by these terms. These terms are only used to distinguish one element from another.
- a first device could be termed a second device, and, similarly, a second device could be termed a first device, without departing from the scope of the various described implementations.
- the first device and the second device are both types of devices, but they are not the same device.
- the term “if” is, optionally, construed to mean “when” or “upon” or “in response to determining” or “in response to detecting” or “in accordance with a determination that,” depending on the context.
- the phrase “if it is determined” or “if [a stated condition or event] is detected” is, optionally, construed to mean “upon determining” or “in response to determining” or “upon detecting [the stated condition or event]” or “in response to detecting [the stated condition or event]” or “in accordance with a determination that [a stated condition or event] is detected,” depending on the context.
- the users may be provided with an opportunity to opt in/out of programs or features that may collect personal information (e.g., information about a user's preferences or usage of a smart device).
- personal information e.g., information about a user's preferences or usage of a smart device.
- certain data may be anonymized in one or more ways before it is stored or used, so that personally identifiable information is removed.
- a user's identity may be anonymized so that the personally identifiable information cannot be determined for or associated with the user, and so that user preferences or user interactions are generalized (for example, generalized based on user demographics) rather than associated with a particular user.
- stages that are not order dependent may be reordered and other stages may be combined or broken out. While some reordering or other groupings are specifically mentioned, others will be obvious to those of ordinary skill in the art, so the ordering and groupings presented herein are not an exhaustive list of alternatives. Moreover, it should be recognized that the stages could be implemented in hardware, firmware, software or any combination thereof.
Abstract
Description
-
- an
operating system 532 including procedures for handling various basic system services and for performing hardware dependent tasks; - a
network communication module 534 for connecting theelectronic device 190 to other devices (e.g., theserver system 140, one or more cast devices, one or more client devices, one or more smart home devices, and other electronic device(s) 190) via one or more network interfaces 504 (wired or wireless) and one ormore networks 110, such as the Internet, other wide area networks, local area networks (e.g., local network 104), metropolitan area networks, and so on; - an input/
output control module 536 for receiving inputs via one or more input devices and enabling presentation of information at theelectronic device 190 via one ormore output devices 518, including:- a
voice processing module 538 for processing audio inputs or voice messages collected in an environment surrounding theelectronic device 190, or preparing the collected audio inputs or voice messages for processing at avoice assistance server 112, including but not limited to:- a
normalization module 539 for normalizing audio data (e.g., received at the microphone 516) to produce feature vectors (e.g., for speech/hotword recognition), such as a PCEN, PCAN, or PCEN-like PCAN module as described below in the audio processing section of this disclosure;
- a
- an
LED control module 540 for generating visual patterns on theLEDs 522 according to device states of theelectronic device 190; and - a
touch sense module 542 for sensing touch events on a top surface (e.g., on touch sensor array 514) of theelectronic device 190;
- a
- Voice activated
device data 544 for storing at least data associated with theelectronic device 190, including but not limited to:-
Voice device settings 546 for storing information associated with theelectronic device 190 itself, including common device settings (e.g., service tier, device model, storage capacity, processing capabilities, communication capabilities, etc.), information of one or more user accounts in a user domain, settings regarding restrictions when dealing with a non-registered user, and display specifications associated with one or more visual patterns displayed by theLEDs 522; -
Voice control data 548 for storing audio signals, voice messages, response messages and other data related to voice interface functions of theelectronic device 190; -
Voice models data 550 for storing voice models or voice fingerprints corresponding to users in the user domain that are associated with theelectronic device 190;
-
- a
device leadership module 552 for determining a leader amongst multipleelectronic devices 190 in response to user voice inputs; - a voice
model training module 554 for training and generating voice models orvoice fingerprints 550 that can be used to identify and disambiguate users in the user domain that are associated with theelectronic device 190; - a
response module 556 for performing instructions included in voice request responses generated by thevoice assistance server 112, and in some implementations, generating responses to certain voice inputs; and - a
noise module 558 for determining noise levels around theelectronic device 190 and provide indications of interfering noise levels and hints to use alternative ways to wake up the electronic device.
- an
-
- a
normalization module 539 for normalizing audio data to produce feature vectors; - a
user identification module 560 for identifying and disambiguating users who provide voice inputs to theelectronic device 190; - a
hotword recognition module 562 for determining whether voice inputs include a hotword for waking up theelectronic device 190 and recognizing such in the voice inputs; - a
request recognition module 564 for determining a user request included in a voice input; and - a
recognition quality module 566 for determining a measure of the quality (e.g., a score) of recognition of hotwords and/or requests in voice inputs.
- a
-
- a
recognition analysis module 568 for analyzing how different levels of noise affect the operations of the voice processing module 538 (e.g., in particular thehotword recognition module 562 and/or the request recognition module 564) with respect to the particularelectronic device 190; - a user
volume threshold module 568 for determining, for a given distance from theelectronic device 190, highest comfortable volume levels at which users will utter voice inputs to the electronic device, 190; - a
noise determination module 572 for determining a noise level and a noise profile around theelectronic device 190; - a noise profiles
module 574 for training and generating noise profiles of noises that interfere with recognition of hotwords and/or requests in voice inputs; and - a noise profiles
store 576 for storing noise profiles that have been determined to be interfering.
- a
-
- an
operating system 716 including procedures for handling various basic system services and for performing hardware dependent tasks; - a
network communication module 718 for connecting theserver system 140 to other devices (e.g., various servers in theserver system 140, client devices, cast devices,electronic devices 190, and smart home devices) via one or more network interfaces 704 (wired or wireless) and one ormore networks 110, such as the Internet, other wide area networks, local area networks, metropolitan area networks, and so on; - a
user interface module 720 for enabling presentation of information (e.g., a graphical user interface for presenting application(s) 826-830, widgets, websites and web pages thereof, and/or games, audio and/or video content, text, etc.) at a client device; - a
command execution module 721 for execution on the server side (e.g., games, social network applications, smart home applications, and/or other web or non-web based applications for controlling a client device, cast devices, anelectronic device 190 and a smart home devices and reviewing data captured by such devices), including one or more of:- a
cast device application 722 that is executed to provide server-side functionalities for device provisioning, device control, and user account management associated with cast device(s); - one or more
media player applications 724 that is executed to provide server-side functionalities for media display and user account management associated with corresponding media sources; - one or more smart
home device applications 726 that is executed to provide server-side functionalities for device provisioning, device control, data processing and data review of corresponding smart home devices; and - a
voice assistance application 728 that is executed to arrange voice processing of a voice message received from theelectronic device 190 or directly process the voice message to extract a user voice command and one or more parameters for the user voice command (e.g., a designation of a cast device or another electronic device 190); and
- a
-
Server system data 730 storing at least data associated with automatic control of media display (e.g., in an automatic media output mode and a follow-up mode), including one or more of:-
Client device settings 732 for storing information associated with one or more client device, including common device settings (e.g., service tier, device model, storage capacity, processing capabilities, communication capabilities, etc.), and information for automatic media display control; -
Cast device settings 734 for storing information associated with user accounts of thecast device application 722, including one or more of account access information, information for device settings (e.g., service tier, device model, storage capacity, processing capabilities, communication capabilities, etc.), and information for automatic media display control; - Media
player application settings 736 for storing information associated with user accounts of one or moremedia player applications 724, including one or more of account access information, user preferences of media content types, review history data, and information for automatic media display control; - Smart
home device settings 738 for storing information associated with user accounts of thesmart home applications 726, including one or more of account access information, information for one or more smart home devices (e.g., service tier, device model, storage capacity, processing capabilities, communication capabilities, etc.); -
Voice assistance data 740 for storing information associated with user accounts of thevoice assistance application 728, including one or more of account access information, information for one or more electronic device 190 (e.g., service tier, device model, storage capacity, processing capabilities, communication capabilities, etc.); -
User data 742 for storing information associated with users in the use domain, including users' subscriptions (e.g., music streaming service subscriptions, video streaming service subscriptions, newsletter subscriptions), user devices (e.g., devices registered in thedevice registry 118 associated with respective users), user accounts (e.g., users' email accounts, calendar accounts, financial accounts), and other user data; and - User voice profiles 744 for storing voice profiles of the users in the user domain, including, for example, voice models or voice fingerprints of the users and comfortable volume level thresholds of the users.
-
- a
device registration module 750 for managing thedevice registry 118 coupled to thevoice assistance server 112; - a device
leadership moderator module 780 for moderating device leadership determinations between theelectronic devices 190 in the operating environment; - a
noise module 790 for determining noise levels around theelectronic device 190; and - a
voice processing module 7100 for processing audio inputs or voice messages collected in an environment surrounding theelectronic device 190.
- an
M(t,f)=(1−s)M(t−1,f)+sE(t,f)
E(t,f)/(∈+M(t,f))α
exp(log(E(t,f)−α log(∈+M(t,f)))
M(f)=Σk=1 k w k(f)M k(f) such that w k(f)≥0 and Σk=1 k w k(f)=1
exp(z k(f))/Σk exp(z k(f)) where z k(f)∈
smoothed amplituden+1 =c*amplituden+(1−c)*smoothed amplituden
c=1=exp(−1/(Frame Rate*Hamming window))
feature=amplitude/(μ+smoothed amplitude)q
feature=(energy/(γ+smoothed energy)b+
feature=(amplitude/(γ+smoothed amplitude)b)2+
s(x)=√{square root over (x 2+2)}−√{square root over (2)}
Claims (20)
Priority Applications (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US15/839,499 US10672387B2 (en) | 2017-01-11 | 2017-12-12 | Systems and methods for recognizing user speech |
EP17829430.2A EP3568851A1 (en) | 2017-01-11 | 2017-12-18 | Systems and methods for recognizing user speech |
PCT/US2017/066948 WO2018132218A1 (en) | 2017-01-11 | 2017-12-18 | Systems and methods for recognizing user speech |
Applications Claiming Priority (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US201762445190P | 2017-01-11 | 2017-01-11 | |
US15/839,499 US10672387B2 (en) | 2017-01-11 | 2017-12-12 | Systems and methods for recognizing user speech |
Publications (2)
Publication Number | Publication Date |
---|---|
US20180197533A1 US20180197533A1 (en) | 2018-07-12 |
US10672387B2 true US10672387B2 (en) | 2020-06-02 |
Family
ID=62783286
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US15/839,499 Active 2038-01-23 US10672387B2 (en) | 2017-01-11 | 2017-12-12 | Systems and methods for recognizing user speech |
Country Status (3)
Country | Link |
---|---|
US (1) | US10672387B2 (en) |
EP (1) | EP3568851A1 (en) |
WO (1) | WO2018132218A1 (en) |
Cited By (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US11367443B2 (en) * | 2018-12-17 | 2022-06-21 | Samsung Electronics Co., Ltd. | Electronic device and method for controlling electronic device |
US20220358953A1 (en) * | 2019-07-04 | 2022-11-10 | Nec Corporation | Sound model generation device, sound model generation method, and recording medium |
US11900919B2 (en) * | 2019-10-18 | 2024-02-13 | Google Llc | End-to-end multi-speaker audio-visual automatic speech recognition |
Families Citing this family (86)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
WO2013085507A1 (en) | 2011-12-07 | 2013-06-13 | Hewlett-Packard Development Company, L.P. | Low power integrated circuit to analyze a digitized audio stream |
US9947316B2 (en) * | 2016-02-22 | 2018-04-17 | Sonos, Inc. | Voice control of a media playback system |
US9965247B2 (en) | 2016-02-22 | 2018-05-08 | Sonos, Inc. | Voice controlled media playback system based on user profile |
US10095470B2 (en) | 2016-02-22 | 2018-10-09 | Sonos, Inc. | Audio response playback |
US10509626B2 (en) | 2016-02-22 | 2019-12-17 | Sonos, Inc | Handling of loss of pairing between networked devices |
US10264030B2 (en) | 2016-02-22 | 2019-04-16 | Sonos, Inc. | Networked microphone device control |
US10743101B2 (en) | 2016-02-22 | 2020-08-11 | Sonos, Inc. | Content mixing |
US9978390B2 (en) | 2016-06-09 | 2018-05-22 | Sonos, Inc. | Dynamic player selection for audio signal processing |
US10853761B1 (en) | 2016-06-24 | 2020-12-01 | Amazon Technologies, Inc. | Speech-based inventory management system and method |
US11315071B1 (en) * | 2016-06-24 | 2022-04-26 | Amazon Technologies, Inc. | Speech-based storage tracking |
US10152969B2 (en) | 2016-07-15 | 2018-12-11 | Sonos, Inc. | Voice detection by multiple devices |
US10134399B2 (en) | 2016-07-15 | 2018-11-20 | Sonos, Inc. | Contextualization of voice inputs |
US10115400B2 (en) | 2016-08-05 | 2018-10-30 | Sonos, Inc. | Multiple voice services |
US9942678B1 (en) | 2016-09-27 | 2018-04-10 | Sonos, Inc. | Audio playback settings for voice interaction |
US9743204B1 (en) | 2016-09-30 | 2017-08-22 | Sonos, Inc. | Multi-orientation playback device microphones |
US10181323B2 (en) | 2016-10-19 | 2019-01-15 | Sonos, Inc. | Arbitration-based voice recognition |
KR20180085931A (en) * | 2017-01-20 | 2018-07-30 | 삼성전자주식회사 | Voice input processing method and electronic device supporting the same |
WO2018148315A1 (en) * | 2017-02-07 | 2018-08-16 | Lutron Electronics Co., Inc. | Audio-based load control system |
CN107103903B (en) * | 2017-05-05 | 2020-05-29 | 百度在线网络技术（北京）有限公司 | Acoustic model training method and device based on artificial intelligence and storage medium |
CN107240395B (en) * | 2017-06-16 | 2020-04-28 | 百度在线网络技术（北京）有限公司 | Acoustic model training method and device, computer equipment and storage medium |
US10789949B2 (en) * | 2017-06-20 | 2020-09-29 | Bose Corporation | Audio device with wakeup word detection |
US10475449B2 (en) | 2017-08-07 | 2019-11-12 | Sonos, Inc. | Wake-word detection suppression |
US20190065608A1 (en) * | 2017-08-29 | 2019-02-28 | Lenovo (Singapore) Pte. Ltd. | Query input received at more than one device |
US10048930B1 (en) | 2017-09-08 | 2018-08-14 | Sonos, Inc. | Dynamic computation of system response volume |
US10446165B2 (en) | 2017-09-27 | 2019-10-15 | Sonos, Inc. | Robust short-time fourier transform acoustic echo cancellation during audio playback |
US10621981B2 (en) | 2017-09-28 | 2020-04-14 | Sonos, Inc. | Tone interference cancellation |
EP3688756B1 (en) * | 2017-09-28 | 2022-11-09 | Sony Europe B.V. | Method and electronic device |
US10482868B2 (en) | 2017-09-28 | 2019-11-19 | Sonos, Inc. | Multi-channel acoustic echo cancellation |
US10466962B2 (en) | 2017-09-29 | 2019-11-05 | Sonos, Inc. | Media playback system with voice assistance |
US10880650B2 (en) | 2017-12-10 | 2020-12-29 | Sonos, Inc. | Network microphone devices with automatic do not disturb actuation capabilities |
US10818290B2 (en) | 2017-12-11 | 2020-10-27 | Sonos, Inc. | Home graph |
WO2019152722A1 (en) | 2018-01-31 | 2019-08-08 | Sonos, Inc. | Device designation of playback and network microphone device arrangements |
CN108550364B (en) * | 2018-04-20 | 2019-04-30 | 百度在线网络技术（北京）有限公司 | Audio recognition method, device, equipment and storage medium |
US11175880B2 (en) | 2018-05-10 | 2021-11-16 | Sonos, Inc. | Systems and methods for voice-assisted media content selection |
US10847178B2 (en) | 2018-05-18 | 2020-11-24 | Sonos, Inc. | Linear filtering for noise-suppressed speech detection |
US10959029B2 (en) | 2018-05-25 | 2021-03-23 | Sonos, Inc. | Determining and adapting to changes in microphone performance of playback devices |
US10681460B2 (en) | 2018-06-28 | 2020-06-09 | Sonos, Inc. | Systems and methods for associating playback devices with voice assistant services |
CN110797008B (en) * | 2018-07-16 | 2024-03-29 | 阿里巴巴集团控股有限公司 | Far-field voice recognition method, voice recognition model training method and server |
KR102040406B1 (en) * | 2018-07-27 | 2019-11-05 | (주)휴맥스 | Smart projector and method for controlling thereof |
KR102098152B1 (en) * | 2018-08-03 | 2020-04-07 | 박윤종 | System and method for providing for customized contents using sound |
US11076035B2 (en) | 2018-08-28 | 2021-07-27 | Sonos, Inc. | Do not disturb feature for audio notifications |
US10461710B1 (en) | 2018-08-28 | 2019-10-29 | Sonos, Inc. | Media playback system with maximum volume setting |
US10878811B2 (en) | 2018-09-14 | 2020-12-29 | Sonos, Inc. | Networked devices, systems, and methods for intelligently deactivating wake-word engines |
US10587430B1 (en) | 2018-09-14 | 2020-03-10 | Sonos, Inc. | Networked devices, systems, and methods for associating playback devices based on sound codes |
WO2020056236A1 (en) * | 2018-09-14 | 2020-03-19 | Aondevices, Inc. | System architecture and embedded circuit to locate a lost portable device using voice command |
US11024331B2 (en) | 2018-09-21 | 2021-06-01 | Sonos, Inc. | Voice detection optimization using sound metadata |
US10811015B2 (en) | 2018-09-25 | 2020-10-20 | Sonos, Inc. | Voice detection optimization based on selected voice assistant service |
US11100923B2 (en) | 2018-09-28 | 2021-08-24 | Sonos, Inc. | Systems and methods for selective wake word detection using neural network models |
US10692518B2 (en) | 2018-09-29 | 2020-06-23 | Sonos, Inc. | Linear filtering for noise-suppressed speech detection via multiple network microphone devices |
US11899519B2 (en) | 2018-10-23 | 2024-02-13 | Sonos, Inc. | Multiple stage network microphone device with reduced power consumption and processing load |
JP7242248B2 (en) * | 2018-10-31 | 2023-03-20 | キヤノン株式会社 | ELECTRONIC DEVICE, CONTROL METHOD AND PROGRAM THEREOF |
EP3654249A1 (en) | 2018-11-15 | 2020-05-20 | Snips | Dilated convolutions and gating for efficient keyword spotting |
US11961522B2 (en) * | 2018-11-28 | 2024-04-16 | Samsung Electronics Co., Ltd. | Voice recognition device and method |
KR20200063984A (en) * | 2018-11-28 | 2020-06-05 | 삼성전자주식회사 | Method and device for voice recognition |
US11183183B2 (en) | 2018-12-07 | 2021-11-23 | Sonos, Inc. | Systems and methods of operating media playback systems having multiple voice assistant services |
US11393478B2 (en) * | 2018-12-12 | 2022-07-19 | Sonos, Inc. | User specific context switching |
US11132989B2 (en) | 2018-12-13 | 2021-09-28 | Sonos, Inc. | Networked microphone devices, systems, and methods of localized arbitration |
CN111326151A (en) * | 2018-12-14 | 2020-06-23 | 上海诺基亚贝尔股份有限公司 | Apparatus, method and computer-readable medium for voice interaction |
US10602268B1 (en) | 2018-12-20 | 2020-03-24 | Sonos, Inc. | Optimization of network microphone devices using noise classification |
WO2020153736A1 (en) | 2019-01-23 | 2020-07-30 | Samsung Electronics Co., Ltd. | Method and device for speech recognition |
US10867604B2 (en) | 2019-02-08 | 2020-12-15 | Sonos, Inc. | Devices, systems, and methods for distributed voice processing |
US11315556B2 (en) | 2019-02-08 | 2022-04-26 | Sonos, Inc. | Devices, systems, and methods for distributed voice processing by transmitting sound data associated with a wake word to an appropriate device for identification |
US11417323B2 (en) | 2019-02-27 | 2022-08-16 | Samsung Electronics Co., Ltd. | Electronic apparatus and control method thereof |
KR20200104773A (en) * | 2019-02-27 | 2020-09-04 | 삼성전자주식회사 | Electronic apparatus and control method thereof |
US10943598B2 (en) * | 2019-03-18 | 2021-03-09 | Rovi Guides, Inc. | Method and apparatus for determining periods of excessive noise for receiving smart speaker voice commands |
US11120794B2 (en) | 2019-05-03 | 2021-09-14 | Sonos, Inc. | Voice assistant persistence across multiple network microphone devices |
WO2020231181A1 (en) * | 2019-05-16 | 2020-11-19 | Samsung Electronics Co., Ltd. | Method and device for providing voice recognition service |
US11200894B2 (en) | 2019-06-12 | 2021-12-14 | Sonos, Inc. | Network microphone device with command keyword eventing |
US10586540B1 (en) | 2019-06-12 | 2020-03-10 | Sonos, Inc. | Network microphone device with command keyword conditioning |
US11361756B2 (en) | 2019-06-12 | 2022-06-14 | Sonos, Inc. | Conditional wake word eventing based on environment |
US11380312B1 (en) * | 2019-06-20 | 2022-07-05 | Amazon Technologies, Inc. | Residual echo suppression for keyword detection |
US10871943B1 (en) | 2019-07-31 | 2020-12-22 | Sonos, Inc. | Noise classification for event detection |
US11138969B2 (en) | 2019-07-31 | 2021-10-05 | Sonos, Inc. | Locally distributed keyword detection |
US11138975B2 (en) | 2019-07-31 | 2021-10-05 | Sonos, Inc. | Locally distributed keyword detection |
US11189286B2 (en) | 2019-10-22 | 2021-11-30 | Sonos, Inc. | VAS toggle based on device orientation |
US11200900B2 (en) | 2019-12-20 | 2021-12-14 | Sonos, Inc. | Offline voice control |
US11562740B2 (en) | 2020-01-07 | 2023-01-24 | Sonos, Inc. | Voice verification for media playback |
US11039043B1 (en) * | 2020-01-16 | 2021-06-15 | International Business Machines Corporation | Generating synchronized sound from videos |
US11556307B2 (en) | 2020-01-31 | 2023-01-17 | Sonos, Inc. | Local voice data processing |
US11308958B2 (en) | 2020-02-07 | 2022-04-19 | Sonos, Inc. | Localized wakeword verification |
US11482224B2 (en) | 2020-05-20 | 2022-10-25 | Sonos, Inc. | Command keywords with input detection windowing |
US11727919B2 (en) | 2020-05-20 | 2023-08-15 | Sonos, Inc. | Memory allocation for keyword spotting engines |
US11308962B2 (en) | 2020-05-20 | 2022-04-19 | Sonos, Inc. | Input detection windowing |
US11698771B2 (en) | 2020-08-25 | 2023-07-11 | Sonos, Inc. | Vocal guidance engines for playback devices |
US20220122594A1 (en) * | 2020-10-21 | 2022-04-21 | Qualcomm Incorporated | Sub-spectral normalization for neural audio data processing |
US11551700B2 (en) | 2021-01-25 | 2023-01-10 | Sonos, Inc. | Systems and methods for power-efficient keyword detection |
Citations (10)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US4630305A (en) * | 1985-07-01 | 1986-12-16 | Motorola, Inc. | Automatic gain selector for a noise suppression system |
EP0508547A2 (en) | 1991-04-12 | 1992-10-14 | Philips Patentverwaltung GmbH | Circuit for speech recognition |
US5765124A (en) * | 1995-12-29 | 1998-06-09 | Lucent Technologies Inc. | Time-varying feature space preprocessing procedure for telephone based speech recognition |
US6308155B1 (en) * | 1999-01-20 | 2001-10-23 | International Computer Science Institute | Feature extraction for automatic speech recognition |
US20080147391A1 (en) | 2006-12-15 | 2008-06-19 | Samsung Electronics Co., Ltd. | Method of and apparatus for transforming speech feature vector |
US20100027820A1 (en) * | 2006-09-05 | 2010-02-04 | Gn Resound A/S | Hearing aid with histogram based sound environment classification |
US20100239104A1 (en) * | 2009-03-20 | 2010-09-23 | Harman Becker Automotive Systems Gmbh | System for Attenuating Noise in an Input Signal |
US8521530B1 (en) * | 2008-06-30 | 2013-08-27 | Audience, Inc. | System and method for enhancing a monaural audio signal |
US20160171975A1 (en) * | 2014-12-11 | 2016-06-16 | Mediatek Inc. | Voice wakeup detecting device and method |
US9972318B1 (en) * | 2016-09-21 | 2018-05-15 | Amazon Technologies, Inc. | Interpreting voice commands |
-
2017
- 2017-12-12 US US15/839,499 patent/US10672387B2/en active Active
- 2017-12-18 WO PCT/US2017/066948 patent/WO2018132218A1/en active Search and Examination
- 2017-12-18 EP EP17829430.2A patent/EP3568851A1/en active Pending
Patent Citations (10)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US4630305A (en) * | 1985-07-01 | 1986-12-16 | Motorola, Inc. | Automatic gain selector for a noise suppression system |
EP0508547A2 (en) | 1991-04-12 | 1992-10-14 | Philips Patentverwaltung GmbH | Circuit for speech recognition |
US5765124A (en) * | 1995-12-29 | 1998-06-09 | Lucent Technologies Inc. | Time-varying feature space preprocessing procedure for telephone based speech recognition |
US6308155B1 (en) * | 1999-01-20 | 2001-10-23 | International Computer Science Institute | Feature extraction for automatic speech recognition |
US20100027820A1 (en) * | 2006-09-05 | 2010-02-04 | Gn Resound A/S | Hearing aid with histogram based sound environment classification |
US20080147391A1 (en) | 2006-12-15 | 2008-06-19 | Samsung Electronics Co., Ltd. | Method of and apparatus for transforming speech feature vector |
US8521530B1 (en) * | 2008-06-30 | 2013-08-27 | Audience, Inc. | System and method for enhancing a monaural audio signal |
US20100239104A1 (en) * | 2009-03-20 | 2010-09-23 | Harman Becker Automotive Systems Gmbh | System for Attenuating Noise in an Input Signal |
US20160171975A1 (en) * | 2014-12-11 | 2016-06-16 | Mediatek Inc. | Voice wakeup detecting device and method |
US9972318B1 (en) * | 2016-09-21 | 2018-05-15 | Amazon Technologies, Inc. | Interpreting voice commands |
Non-Patent Citations (2)
Title |
---|
Bature et al., Design of Digital Recursive Filter Using Artificial Neural Network, 2012, IMECS, whole document (Year: 2012). * |
Google, International Search Report / Written Opinion, app No. PCT/US2017/066948, dated Mar. 22, 2018, 16 pgs. |
Cited By (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US11367443B2 (en) * | 2018-12-17 | 2022-06-21 | Samsung Electronics Co., Ltd. | Electronic device and method for controlling electronic device |
US20220358953A1 (en) * | 2019-07-04 | 2022-11-10 | Nec Corporation | Sound model generation device, sound model generation method, and recording medium |
US11900919B2 (en) * | 2019-10-18 | 2024-02-13 | Google Llc | End-to-end multi-speaker audio-visual automatic speech recognition |
Also Published As
Publication number | Publication date |
---|---|
US20180197533A1 (en) | 2018-07-12 |
WO2018132218A1 (en) | 2018-07-19 |
EP3568851A1 (en) | 2019-11-20 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US10672387B2 (en) | Systems and methods for recognizing user speech | |
US11670297B2 (en) | Device leadership negotiation among voice interface devices | |
US11869527B2 (en) | Noise mitigation for a voice interface device | |
US11527249B2 (en) | Multi-user personalization at a voice interface device | |
US20220215837A1 (en) | Context-based device arbitration | |
KR102543693B1 (en) | Electronic device and operating method thereof | |
US11138977B1 (en) | Determining device groups | |
WO2018067528A1 (en) | Device leadership negotiation among voice interface devices | |
US20240105167A1 (en) | Memory allocation for keyword spotting engines | |
US11233490B2 (en) | Context based volume adaptation by voice assistant devices | |
US20210157542A1 (en) | Context based media selection based on preferences setting for active consumer(s) | |
US20230186939A1 (en) | Acoustic event detection | |
US20230062634A1 (en) | Voice trigger based on acoustic space | |
CN115631747A (en) | Voice wake-up method, system, electronic device and storage medium |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
FEPP | Fee payment procedure |
Free format text: ENTITY STATUS SET TO UNDISCOUNTED (ORIGINAL EVENT CODE: BIG.); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
AS | Assignment |
Owner name: GOOGLE LLC, CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:LYON, RICHARD;HUGHES, CHRISTOPHER;WANG, YUXUAN;AND OTHERS;SIGNING DATES FROM 20180227 TO 20180228;REEL/FRAME:045082/0816 |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: DOCKETED NEW CASE - READY FOR EXAMINATION |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: NON FINAL ACTION MAILED |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: RESPONSE TO NON-FINAL OFFICE ACTION ENTERED AND FORWARDED TO EXAMINER |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: FINAL REJECTION MAILED |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: RESPONSE AFTER FINAL ACTION FORWARDED TO EXAMINER |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: NOTICE OF ALLOWANCE MAILED -- APPLICATION RECEIVED IN OFFICE OF PUBLICATIONS |
|
FEPP | Fee payment procedure |
Free format text: PETITION RELATED TO MAINTENANCE FEES GRANTED (ORIGINAL EVENT CODE: PTGR); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: PUBLICATIONS -- ISSUE FEE PAYMENT VERIFIED |
|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |
|
MAFP | Maintenance fee payment |
Free format text: PAYMENT OF MAINTENANCE FEE, 4TH YEAR, LARGE ENTITY (ORIGINAL EVENT CODE: M1551); ENTITY STATUS OF PATENT OWNER: LARGE ENTITYYear of fee payment: 4 |