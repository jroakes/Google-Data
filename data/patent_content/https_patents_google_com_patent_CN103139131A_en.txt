The application is to be on February 14th, 2007 applying date, and application number is 200780005505.5, and denomination of invention is divided an application for the Chinese invention patent application of " method and apparatus of pilot signal transmission ".
Embodiment
In order to solve the demand, disclosed herein is a kind of method and apparatus for pilot tone or reference signal transmission.Particularly, use pilot tone (or benchmark) transmission plan, wherein distributed the pilot frequency sequence with the different circulation time shifts of possibility for different transmitters.Transmitter transmitting pilot signal simultaneously in a plurality of pilot blocks, and receiver processes to recover channel estimating at least one transmitter to a plurality of pilot blocks that receive, and suppresses simultaneously from the caused interference of the pilot signal of other transmitters.
See now accompanying drawing, wherein identical label is indicated identical parts, and Fig. 2 is the block diagram that uses the communication system 200 of pilot transmission.In order to carry out ul transmissions 206, communication system 200 is preferably used OFDMA or FDMA framework based on single carrier of future generation, and FDMA(IFDMA for example interweaves), local FDMA(LFDMA), use the DFT expansion OFDM(DFT-SOFDM of IFDMA or LFDMA).Although these schemes can be classified as the transmission plan based on single carrier with peak-to-average power ratio more much lower than OFDM, but also it can be classified as multi-carrier scheme, because it is similar to OFDM is block-oriented (block-oriented), and similar with OFDM, can be configured to only take " subcarrier " of particular group in frequency domain.So IFDMA and DFT-SOFDM can be classified as single carrier and multicarrier both, because they have single-carrier property and have the multicarrier characteristic at frequency domain in time domain.Top layer in baseline transmission scheme, framework also can comprise the use of expansion technique, for example direct sequence CDMA(DS-CDMA), CDMA multiple carrier (MC-CDMA), multi-carrier direct sequence CDMA(MC-DS-CDMA), use orthogonal frequency code division multiplexing (OFCDM) or better simply time-division and/or frequency division multiplexing/multiple access technique or the combination of these different technologies of one dimension or two-dimensional expansion.
Those of ordinary skill in the art will recognize, even IFDMA and DFT-SOFDM can be regarded as the scheme based on single carrier, in IFDMA system or the operating period of DFT-SOFDM system, use a plurality of subcarriers (for example 768 subcarriers) to come transmitting data.This is shown in Figure 3.As shown in Figure 3, broad-band channel is divided into many narrow-bands (subcarrier) 301, wherein parallel transmitting data on subcarrier 301.But, difference between OFDMA and IFDMA/DFT-SOFDM is: in OFDMA, each data symbols is mapped to specific subcarrier, and in IFDMA/DFT-SOFDM, present the part of each data symbols on each subcarrier that has taken (collection that takies subcarrier that is used for specific transmission can be the subset of subcarrier or all).So among IFDMA/DFT-SOFDM, each subcarrier that has taken comprises the mixing of a plurality of data symbols.
Get back to Fig. 2, communication system 200 comprises unit, one or more base (base unit) 201 and 202, and one or more remote unit 203 and 210.The unit, base comprises one or more transmitters and one or more receiver, and they serve a plurality of remote units in the sector.The quantity of transmitter can be relevant to the quantity of transmitting antenna on unit, base for example.Also the unit, base can be called access point, access terminal, Node B or at other terms that use in the art.Remote unit comprises one or more transmitters and one or more receiver.The quantity of transmitter can be relevant to the quantity of transmitting antenna on remote unit for example.Also remote unit can be called subscriber unit, mobile unit, subscriber equipment, user, terminal, subscriber station, subscriber equipment, user terminal or at other terms of in the art use.Known in the art, the whole physical region of communication network service can be divided into the residential quarter, and each residential quarter can comprise one or more sectors.When serving each sector with a plurality of antennas 209, so that various advanced persons' communication pattern to be provided (for example, adaptive beam formation, transmit diversity, emission SDMA and multithread transmission etc.), can adopt unit, a plurality of base.These unit, base in a sector can be highly integrated, and can share various hardware and software components.For example, be co-located all unit, base of Serving cell can form alleged traditionally base station.Unit, base 201 and 202 transmit downlink communication signals 204 and 205 are to serve the remote unit at least a portion of same asset (time, frequency or both). Remote unit 203 and 210 via uplink communication signal 206 and 213 and unit, one or more base 201 and 202 communicate.
Although should be noted that unit, two bases and two remote units only are shown in Fig. 2, those of ordinary skill in the art will recognize, the unit, a lot of base that typically communication system comprises simultaneously and a lot of remote units communicate.Should also be noted that, although being mainly the situation for the ul transmissions from the mobile unit to the base station, the present invention is described, but the present invention also can be applicable to the downlink transmission from the base station to the mobile unit, or or even from a base station to another base station or the transmission from a mobile unit to another mobile unit.Unit, base or remote unit can be generically and collectively referred to as communication unit.
As mentioned above, being modulated at that pilot tone is auxiliary helps to share in a lot of functions, and described function is such as the channel estimating of the subsequent demodulation that is used for having transmitted.For this reason, mobile unit 203 is in the part of known interval emission known (pilot tone) sequence as its ul transmissions.Know that any base station in this sequence and the time interval uses this information when demodulate/decode is carried out in transmission.So each in communication system 200 move/and remote unit comprises pilot channel circuitry 207, these pilot channel circuitry 207 one or more pilot frequency sequences of emission, data channel circuit 208 transmitting datas simultaneously.
Concerning pilot signal transmission, it is attractive that the TDM pilot frequency system provides at PAPR with between pilot tone and data flow aspect orthogonality.But in some systems, this may limit for adjusting pilot-frequency expense granularity used.In one embodiment, for the selection to pilot-frequency expense provides meticulousr granularity, compare data block, pilot blocks is used the shorter piece duration.In other embodiments, pilot blocks can have the duration identical with data block, or pilot blocks can have the duration longer than data block.
Due to pilot blocks is used the block length shorter than data block, suppose that same IFDMA repetition factor (or the subcarrier that has taken extract factor) is used to pilot blocks and data block both, be used for the subcarrier bandwidth of pilot blocks so and the sub-carrier separation that taken than larger for the subcarrier bandwidth of data block and the sub-carrier separation that taken.In this case, if pilot block length (not comprising Cyclic Prefix) is Tp, and data block length (not comprising Cyclic Prefix) is Td, is used for so the subcarrier bandwidth of pilot blocks and the sub-carrier separation that taken is respectively for the subcarrier bandwidth of data block and the sub-carrier separation that taken Td/Tp times.
Two or more transmitters, for example mobile unit 203 and mobile unit 210, or two or more antennas of mobile unit 210 can carry out pilot transmission simultaneously.To be designed to quadrature or otherwise separable by the pilot frequency sequence of different transmitters emission, so that receiver (for example the base station 201) can carry out channel estimating accurately to each transmitter, that useful (role who notes unit, base and mobile unit can exchange, unit, base or the antenna of unit, base is transmitter wherein, and one or more mobile unit is receiver).
Separability is provided between pilot tone or is that different subcarrier collection is assigned to different transmitters to carry out pilot transmission to a kind of method that two or more transmitters carry out channel estimating, this is also referred to as the FDMA pilot frequency distribution.Different subcarrier collection can be between transmitter or can interweave on different block of sub-carriers, and may or may not can be confined to the sub-fraction of system channel bandwidth.
Separation is provided between pilot tone, or is that two or more transmitters are assigned to same subcarrier collection carrying out pilot transmission to the other method that a plurality of transmitters carry out channel estimating, and provide separation with sequence properties.Note, the use of FDMA pilot frequency distribution and sequence properties both all can be applied to system.For example, first group of transmitter can use first group of subcarrier, wherein its pilot signal of emission on the possible subcarrier of the institute of the transmitter of each in group in first group of subcarrier.Second group of transmitter can use second group of subcarrier to carry out pilot transmission, and wherein second group of subcarrier is orthogonal to first group of subcarrier (FDMA).Note, the member in one group of subcarrier does not need mutual vicinity.Because the transmitter in a group carries out pilot signal transmission because of same group of subcarrier of use, so meeting phase mutual interference, therefore the pilot frequency sequence of the transmitter in same group should have such sequence properties, namely, make it possible to transmitter is estimated channel response, suppress simultaneously the interference from other transmitter in same group.The invention provides the method and apparatus that suppresses this interference.
The invention enables a large amount of transmitters transmitting pilot signal simultaneously, pilot tone separability or channel estimating on receiver are provided simultaneously.A plurality of transmitters are launched pilot tone on first group of subcarrier during very first time interval (for example the first pilot blocks), and a plurality of transmitter is launched pilot tone on second group of subcarrier during second time interval (for example the second pilot blocks).The quantity of interval or pilot blocks also can be greater than 2.Selected pilot sequence properties for a plurality of time intervals, separated so that channel estimating to be provided on a plurality of time intervals, even if only consider the single time interval, channel estimating will be inseparable.
Fig. 4 illustrates and is suitable for the burst format that one embodiment of the present of invention are used.In Fig. 4, Td be data block the duration, and pilot blocks the duration be Tp=Td/2.A kind of regulation is assigned to signal or the method for the subcarrier that used by signal is that specified block length B, repetition factor R(or subcarrier extract the factor or skip over) and sub-carrier offset index S.These parameters are similar to B subcarrier OFDM modulator, and to the DFT-SOFDM signal, the subcarrier with even isolated subcarrier and spacing of R subcarrier with sub-carrier offset S shines upon.This can be written as sequential tlv triple: (B, R, S).In an example, be (Td, Rd, Sd) with data block configuration.The first pilot blocks is configured to (Tp, Rp, Sp1), and is (Tp, Rp, Sp2) with the second pilot frequency configuration.The length of Cyclic Prefix (CP) is Tcp.Note, for pilot blocks and data block, block length, repetition factor and sub-carrier offset generally can be different, or for data block or pilot blocks, they can change in time.
Although Fig. 4 shows the time domain form of bursting, Fig. 5 illustrates the frequency domain of passing in time and describes.In order to simplify, Fig. 5 only illustrates pilot tone and the transfer of data of two transmitters, and wherein shade is stamped in the transmission carried out of each transmitter.In Fig. 5 A, be (Td=40, Rd=8 with the data block configuration of the first transmitter, Sd=3), be (Td=40, Rd=4, Sd=0) with the data block configuration of the second transmitter, first pilot blocks (pilot group 1) of two transmitters all is configured to (Tp=20, Rp=2, Sp=0), second pilot blocks (pilot group 2) of two transmitters all is configured to (Tp=20, Rp=2, Sp=0).In Fig. 5 B, be similar to Fig. 5 A, the data block of configuration the first and second transmitters both is configured to (Tp=20, Rp=1, Sp=0) with the first and second pilot blocks simultaneously, provides pilot frequency information thus on the direct contiguous subcarrier of pilot blocks.Those of ordinary skill in the art will recognize, only mark one as all subcarrier 501() in hypographous subcarrier 503(only mark one) indicated, the emission that particular transmitter (for example transmitter in Fig. 5 1) is carried out will take several subcarriers.Fig. 5 is depicted as has all possible data piece subcarriers 0 to 39.Note, the data block configuration of transmitter (Td, Rd, Sd) may be different on the interior different data block of bursting.And, can be different on the different pilot blocks during pilot blocks is configured in and bursts.Although the example that provides in Fig. 5 is for the IFDMA from the transfer of data of different transmitters, noting also can be by setting Rd=1, Td＜=40, and is first having taken subcarrier and represent LFDMA of transfer of data of transmitter by selecting Sd.
Because in the burst format of Fig. 4, the pilot channel block duration is less than the data channel block duration, and each pilot sub-carrier 502(only marks one) take than the more bandwidth of data subcarrier.For example, in Fig. 5, pilot sub-carrier takies the bandwidth of data subcarrier twice.So in available bandwidth, compare data subcarrier, less pilot sub-carrier can be launched.Fig. 5 is depicted as has all possible pilot sub-carriers 0 to 19, and wherein two transmitters all take the pilot sub-carrier (data and the pilot sub-carrier of the unmarked shade of residue can be used by other transmitters) of shade.
In one embodiment, the circulation time shift of mobile unit 203 and the mobile unit 210 one or more pilot frequency sequences of emission in the first pilot blocks of Fig. 5 and the second pilot blocks.For example, can be by the time-domain sampling piece of pilot blocks be implemented the circulation time shift of pilot frequency sequence from the top that the end of pilot blocks moves on to pilot blocks.Subsequently, after the application cycle displacement, the Cyclic Prefix of pilot blocks is based on the sampling of pilot blocks.The quantity of sampling that moves to the top of piece from the end of piece is the amount of the cyclic shift piece.For purposes of illustration, if six time-domain samplings are arranged in particular pilot block, and they are in chronological order from first to being x(1 at last), x(2), x(3), x(4), x(5), x(6), the circulation time shift of three samplings will cause having time sequencing and be x(4 from first to last so), x(5), x(6), x(1), x(2), x(3) the pilot blocks of sampling.And if the Cyclic Prefix of pilot blocks is two samplings, the cyclic prefix samples of cyclic shift pilot blocks is from first to will be x(2 at last so), x(3).As said, said method is equivalent to be used to the additive method that the circulation time shift is provided.
When a plurality of transmitters were launched pilot blocks simultaneously on same group of subcarrier, different transmitters can use the difference circulation time shift of same pilot frequency sequence, so that receiver can be estimated the channel between receiver and each transmitter.For illustrative purposes, when observing, on the subcarrier used by pilot blocks, suppose that the first transmitter is using the first pilot frequency sequence with fixed size in frequency domain.Suppose that also pilot block length is Tp, and circulating prefix-length is Tcp.If the channel impulse response duration is less than Tcp, and pilot blocks has Rp=1(as shown in Fig. 5 B), can find out so and have in different cyclic shift value situations, nearly Tp/Tcp different transmitters can be launched in same pilot blocks, and estimates to separate (or nearly orthogonal) at the receiver upper signal channel.For example, if Tp/Tcp=4 and 4 transmitters are arranged, the first transmitter can use circulation time shift 0, the second transmitter can use circulation time shift Tp/4 so, and the 3rd transmitter can use circulation time shift Tp/2, and the 4th transmitter can use circulation time shift 3Tp/4.With equation form, to the situation of Rp=1, the frequency domain presentation of the pilot frequency sequence of l transmitter on subcarrier k and piece b can be expressed as:
Wherein s(k, b) be the pilot frequency sequence (for example constant modulus signals, such as the DFT/IDFT of QPSK, CAZAC sequence, GCL sequence or CAZAC or GCL sequence) of baseline or not displacement, α
lThat the circulation time shift of transmitter l is (to above-mentioned example, α
1=0, α
2=Tp/4, α
3=Tp/2, and α
4=3Tp/4), and P is the cyclic shift factor (P=Tp in above-mentioned example).Note, pilot frequency sequence can be by carrying out S(n, b) cyclic shift implement in time domain, S(n, b) be s(k, b) IFFT(to above example, transmitter 1 will be launched S(n, b) not displacement form, transmitter 2 will be launched S(n, the b of cyclic shift Tp/4 sampling), transmitter 3 will be launched the S(n of cyclic shift Tp/2 sampling, b), and transmitter 4 will launch cyclic shift 3Tp/4 the sampling S(n, b)).
Note, the equation of above-mentioned frequency-domain pilot sequence can be expressed the situation that expands to easily Rp ≠ 1.In this case, as follows, pilot frequency sequence only is defined on specific subcarrier and sub-carrier offset S must be added in pilot sequence equation (notes T in next equation
p=Tp and R
p=Rp).
For f=0,1 ..., T
p/ R
p-1 notices that the value of α l and P may need to change according to the value of Rp.Be also noted that, all subsequent equation of pilot frequency sequence are expressed and will be provided Rp=1, but as just showing, can expand to Rp ≠ 1 with similar mode.
On receiver, when receiver is associated the original pilots sequence with the pilot blocks that receives from four transmitters mixing, as Fig. 6 602 as shown in, channel response to the first transmitter will be in first piece of Tp/4 correlator output sampling, as Fig. 6 604 as shown in, will be in the next piece of Tp/4 correlator output sampling to the channel response of the second transmitter, the like, as Fig. 6 606 and 608 as shown in.(note channel estimator based on correlator only as example, and can use other channel estimation techniques of this area, for example based on the channel estimator of DFT or based on the channel estimator of MMSE).
Attention is chosen as identical with Cyclic Prefix (CP) duration (Tcp=Tp/4) with the time shift increment of Tp/4 in this example.Because the greatest expected multi-path channel delay expansion (delay spread) that usually CP is chosen as with among the system 200 of Fig. 2 is the same large, so if pilot blocks has Rp=1, it is useful making the time shift increment be similar to CP length.But if Tcp is shorter than the expected duration of channel, the quantity of the transmitter that can separate on receiver so is Tp/L, and wherein L is the expection maximum length of channel.In this case, the time shift increment will also will be subject to the maximum channel length L of expection greater than CP length.At least to postpone expansion the same when large with the multipath of channel when the time shift increment, to be limited to so the correlator IOB (problem that attention is actual of its length T cp separately to the channel response of each transmitter, such as a small amount of leakage between the estimation that normal signal is regulated and filtered, sampling granularity etc. will cause the channel response in a correlator IOB neutralizes another correlator IOB usually, but in most of interesting situations, in order to describe the present invention, can think that various leakages are very little and it is ignored).But, if the time delay increment between transmitter less than the channel response duration, the part of the channel response of a transmitter will occur in the channel response of another transmitter, and will disturb the channel estimating of other transmitters.Result is exactly that in this example, if channel response is not more than CP length and the time shift increment between transmitter equals CP length (wherein Tcp=Tp/4), four transmitters can be supported altogether, simultaneously each transmitter are provided the channel estimating of separation.
In order to increase the quantity of the transmitter that can be supported separable channel estimating, the invention provides a kind of method, be used for by a plurality of pilot blocks, pilot frequency sequence being assigned to a plurality of transmitters, so that when processing a plurality of pilot blocks on receiver, it is separable that channel estimating becomes.In Fig. 6, show an embodiment, it provides the shown transmitter that is supported separable channel estimating of twice quantity.(be labeled as
SB#1 in Fig. 6) in a pilot blocks, some transmitters in Fig. 6 are assigned with the cyclic shift of Tcp integral multiple (multiply by 0,1,2,3), and other are assigned with the cyclic shift of the odd-multiple (multiply by 1,3,5,7) of Tcp/2.For example, the the first transmitter use value that is labeled as
Tx#1 is the first circulation time shift of 0, and the time domain channel response of this transmitter be by with zone 602 that
transmitter Tx#1 is associated in five arrows within time of 0 to the Tcp district or ray represent.The second transmitter is labeled as
Tx#5 in Fig. 6, use value is the second circulation time shift of Tcp/2.As a result of, when the channel response length of
transmitter Tx#1 greater than Tcp/2 the time, so at Tcp/2 in the zone between Tcp, the channel response of
transmitter Tx#1 will disturb the channel response to
transmitter Tx#5, vice versa, and in the situation that significantly do not disturb, channel estimating is no longer separable.With equation form, to the situation of Rp=1, it is the position of the first pilot blocks at subcarrier k and piece b1() on the frequency domain presentation of pilot frequency sequence of l transmitter, can be expressed as:
Wherein s(k, b1) be the pilot frequency sequence (for example norm is counted signal, such as the DFT/IDFT of QPSK, CAZAC sequence, GCL sequence or CAZAC or GCL sequence) of the first pilot blocks, α
lThat circulation time shift to transmitter l is (to above-mentioned example, α
1=0, α
2=Tcp, α
3=2Tcp, and α
4=3Tcp, α
5=Tcp/2, α
6=3Tcp/2, α
7=5Tcp/2, α
8=7Tcp/2), and P is the cyclic shift factor (P=4Tcp in above-mentioned example).Note, in equation formerly, by appropriate amount ground cyclic shift s(k, b1), S(n, b1) IFFT, these displacements can be applied in time domain.
In order to provide separation to a large amount of transmitters, by transmitter emission the second pilot blocks.Shown in the latter half of Fig. 6 to the channel response that is associated with transmitter (SB#2) of the second pilot blocks.The pilot frequency sequence of transmitter is distributed in this way, that is, make the interference between the first transmitter and the second transmitter to pass through in conjunction with suppressed from the channel estimating of the first and second pilot blocks.In one embodiment, use the circulation time shift of common pilot sequence in both in the first and second pilot blocks, still, in a pilot blocks that is used for one or more transmitters, the symbol of common pilot sequence (sign) is inverted.Fig. 6 shows an embodiment, and wherein for the transmitter of the cyclic shift of the odd-multiple of using Tcp/2, the symbol of pilot frequency sequence is inverted during the second pilot blocks.To this embodiment, with equation form, to the situation of Rp=1, it is the position of this second pilot blocks at subcarrier k and piece b2() on the frequency domain presentation of pilot frequency sequence of l transmitter, can be expressed as:
Wherein s(k, b2) be the baseline of the second pilot blocks or the pilot frequency sequence that is not shifted (for example norm is counted signal, such as the DFT/IDFT of QPSK, CAZAC sequence, GCL sequence or CAZAC or GCL sequence), α
lThat circulation time shift to transmitter l is (to above-mentioned example, α
1=0, α
2=Tcp, α
3=2Tcp, α
4=3Tcp, α
5=Tcp/2, α
6=3Tcp/2, α
7=5Tcp/2, α
8=7Tcp/2), and P is the cyclic shift factor (P=4Tcp in above-mentioned example).Note, in equation formerly, by appropriate amount ground cyclic shift s(k, b2), S(n, b2) IFFT, these displacements can be applied in time domain.This makes the pilot blocks by receiving make up, and can be suppressed at the transmitter of the Tcp/2 with odd-multiple and have interference between the transmitter of Tcp of integral multiple.So, before carrying out channel estimating, can by the first pilot blocks that receives is added to the second pilot blocks that receives, be suppressed at channel estimating aspect transmitter Tx#5 to the interference of Tx#1.Alternatively, the channel estimating to Tx#1 that derives from the first pilot blocks can be added to the channel estimating to Tx#1 that derives from the second pilot blocks, to suppress the interference from Tx#5.equally, before channel estimating, the first pilot blocks that has received can be deducted the second pilot blocks that has received and suppress the interference to Tx#8 from Tx#1, or (this supposition is by being associated with noninverting common pilot sequence the channel estimating to Tx#8 of obtaining in the first pilot blocks can be deducted the channel estimating to Tx#8 obtained in the second pilot blocks, obtained the anti-phase channel estimating to Tx#8 in the second pilot blocks, if but anti-phase sequence is associated with the second pilot blocks, to obtain so the noninverting channel estimating of Tx#8, and should with from the first pilot blocks and the second pilot blocks to the estimation addition of Tx#8 rather than subtract each other).
Note, in the above description, suppose that the second pilot blocks comprises not operation (negation).If not operation is applied to the first pilot blocks and not operation is not applied to the second pilot blocks, except the effect of the first and second pilot blocks is put upside down, can uses with above description and similarly process so.
In another embodiment, the circulation time shift of the first common pilot sequence is assigned to the transmitter of the first pilot blocks, and with second, the cyclic shift of different common pilot sequence (as above-mentioned embodiment, it is also anti-phase to some transmitters) is assigned to the transmitter of the second pilot blocks.This embodiment can provide improved equalization to other area interference.In this embodiment, the channel estimating of the first pilot blocks can be by being associated the first pilot blocks that receives and the first common sequence to obtain, and the channel estimating of the second pilot blocks can be by being associated the second pilot blocks that receives and the second common sequence to obtain.The channel estimating of the first and second pilot blocks can be made up (for example, addition on demand or subtract each other) to suppress corresponding interference.To this embodiment, with equation form, to the situation of Rp=1, at subcarrier k and code element b
mThe frequency domain presentation of the pilot frequency sequence of l transmitter on (it is the position of this m pilot blocks) can be expressed as:
S wherein
m(k, b
m) be the baseline of m pilot blocks or the pilot frequency sequence that is not shifted (for example norm is counted signal), α
l(b
m) be the circulation time shift of the transmitter l of pilot blocks m, and P(b
m) be the cyclic shift factor of pilot blocks m.Note, by with time-domain pilot signal cyclic shift in right amount, also can implement cyclic shift in time domain.
In another embodiment, for the first and second pilot blocks both, one group of transmitter all is assigned with the cyclic shift of the first common pilot sequence, and for the first and second pilot blocks both, second group of transmitter all is assigned with the cyclic shift of the second common pilot sequence, but the second common sequence relative second common sequence in the first pilot blocks in the second pilot frequency sequence is inverted, can process the pilot blocks that receives like this, with the interference between the transmitter that suppresses to be assigned with same circulation time shift value.To this embodiment, with equation form, to the situation of Rp=1, at subcarrier k and piece b
mThe frequency domain presentation of the pilot frequency sequence of l transmitter on (it is the position of this m pilot blocks, m=0,1) can be expressed as:
L wherein
1First group of transmitter, L
2Second group of transmitter, s(k, b
m) be the baseline of first group of transmitter on pilot blocks m or the pilot frequency sequence that is not shifted (for example, norm is counted signal), z(k, bm) be the baseline of second group of transmitter on pilot blocks m or the pilot frequency sequence that is not shifted (for example, the norm signal), α
lBe the circulation time shift of transmitter l, and P is the cyclic shift factor.
In another embodiment, being assigned to the circulation time shift of a transmitter can be with the circulation time phase shift that is assigned to another transmitter with (8 transmitters are for example arranged, and two can be assigned with cyclic shift 0, and two other can be assigned with cyclic shift Tcp etc.).In this embodiment, transmitter in the first and second pilot blocks can use the circulation time shift of common pilot sequence, but the symbol of common pilot sequence is anti-phase in a pilot blocks that is used for one group of transmitter, can process the pilot blocks that receives like this, to be suppressed at the interference between the transmitter that has been assigned with same circulation time shift value.In another embodiment, wherein same circulation time shift is assigned to a plurality of transmitters, there is one group of transmitter of different cyclic shift value to be assigned with the first pilot frequency sequence to each, and has second group of transmitter of different cyclic shift value to distribute the second pilot frequency sequence to each.Transmitter in second group is anti-phase with the second pilot frequency sequence in a pilot blocks, can process the pilot blocks that receives like this, with the interference between the transmitter that suppresses to be assigned with same circulation time shift value.
For easy, the situation (for example Fig. 5 B) that has had a Rp=1 for pilot blocks has been described above-described embodiment.The pilot block transmission of transmitter has taken the extraction group of subcarrier in an embodiment-wherein, the Rp=2 in Fig. 5 A for example, and the quantity of separable channel responses has just reduced.The quantity of separable channel responses become the separable channel responses that may have Rp=1 quantity (1/Rp) doubly.For example, if Fig. 6 is the situation about Rp=1 on pilot blocks, so to being similar to the embodiment of Fig. 6, but during Rp=2, two transmitters will be arranged in first group, have respectively cyclic shift 0 and Tcp, and two other transmitters will be arranged in second group, have respectively cyclic shift Tcp/2 and 3Tcp/2.
For easy, for the situation of obtaining the channel response separation on two pilot blocks, embodiments of the invention are described.But greater than 2 the time, the present invention is also applicable when the quantity of pilot blocks.For example, it is the separable channel responses of twice with embodiment of two pilot blocks that an embodiment who has four pilot blocks will provide.Build on Fig. 6, four groups of transmitters will be arranged, every group is used the different set of cyclic shifts of possibility.For example, the 3rd group of transmitter will be assigned with Tcp/4,5Tcp/4, and 9Tcp/4, or the cyclic shift of 13Tcp/4, and the 4th group of transmitter will be assigned with 3Tcp/4,7Tcp/4,11Tcp/4, or the cyclic shift of 15Tcp/4.For having the embodiment that surpasses two pilot blocks, above-mentioned sequence inversion method is expanded to the general situation of the quadrature group of the multiplication factor on pilot blocks.For example, all transmitters can use the cyclic shift of common pilot sequence, and four pilot blocks of first group of transmitter can multiply by the first set of block modulation coefficients, are 4 orthogonal sequence (the first element of orthogonal code etc. is multiply by in the sampling of the first pilot blocks) such as the element of Walsh code or other length.Second group of transmitter can use the second orthogonal sequence etc. with similar fashion.Receiver can use weight coefficient from the weighting channel estimating combination of four pilot blocks, to recover specific channel estimating, to suppress simultaneously other based on orthogonal sequence.(note in Fig. 6, to the transmitter in first group, the piece index of modulation is (1,1), and to the transmitter in second group, the piece index of modulation is (1 ,-1)).Weight coefficient can be based on the piece index of modulation (for example conjugation of the piece index of modulation), or can be adjusted based on channel condition, with any variation of the channel response on bursting in tracking with suppress to provide compromise between interference pilot signal from other transmitters.In one embodiment, therefore weight coefficient provides at channel tracking and has disturbed trading off between inhibition based on the piece index of modulation and Doppler frequency or the expection channel variation on bursting.Will be for the treatment of one group of weight coefficient of the pilot blocks that receives on each position in bursting by selecting or determining, to the diverse location in bursting (for example different data block location), weight coefficient also can be different.Weight coefficient can be based on Minimum Mean Square Error (MMSE) criterion.Based on weight coefficient, processing can comprise filtration/interpolation (interpolation).Rp more than or equal to 2 situation in, processing can be bidimensional (frequency and the time), or can first then separate in time on frequency and carry out, or some had a channel of limited variation on the duration of bursting, two pilot blocks that receive can be seen as at one time and received, and can carry out frequency interpolation/filtration in the mixing that takies pilot frequency carrier wave of the pilot blocks that receives from two.Postponing processing adjustment can be provided the performance of enhancing under the situation of expansion less than the smallest incremental between cyclic shift (circulation delay).In this case, can suppress separately in each pilot tone in the interference between transmitter, so this processing can be selected or definite weight coefficient based on the desired amount of noise and channel variation, rather than select the sort of weighting that is designed to suppress Pilot Interference on a plurality of pilot blocks.
Fig. 7 is the block diagram of carrying out the IFDMA transmitter 700 of time-domain signal generation.During operation, the data bit of coming in is received by serial-to-parallel transducer 701, and is outputed to constellation mapping circuit 703 with the m bit stream.Switch 707 is used for receiving pilot signals (sub-block) from pilot signal maker 705, perhaps from mapping circuit 703 reception of data signals (sub-block) of sub-block length Bs.The length of pilot sub-block can be less than or greater than the length of data sub-block.As shown in Fig. 7 B, pilot signal maker 705 can provide to pilot sub-block the circulation time shift of pilot frequency sequence.No matter what sub-block receiving circuit 709 received is pilot sub-block or data sub-block, circuit 709 is used for that the sub-block of passing through from switch 707 is carried out the sub-block with repetition factor Rd to be repeated, to form the data block of block length B.Note, when the subcarrier that takies adjacent group when signal provides single-carrier signal thus, also can use Rd=1.As shown in Figure 4, block length B is the product of sub-block length Bs and repetition factor Rd, and can be different to pilot tone and data block.Concerning data and pilot tone, sub-block length Bs and repetition factor Rd can be different.Data block and modulation code 711 are offered modulator 710.So modulator 710 receiving code flow filaments (being the element of data block) and IFDMA modulation code (sometimes referred to as modulation code).The output of modulator 710 comprises the signal that is present on specific even isolated frequency or subcarrier, and subcarrier has specific bandwidth.The subcarrier of the actual use of signal depends on repetition factor Rd and the particular modulation code of the sub-block of use.Sub-block length Bs, repetition factor Rd, but and also time to time change of modulation code.Change modulation code and just changed the subcarrier collection, just be equivalent to change Sd so change modulation code.In the situation that larger block length has less subcarrier bandwidth, change the specific bandwidth that block length B has just changed each subcarrier.But should be noted that although changing modulation code will change the subcarrier that is used for transmission, the even interval characteristics of subcarrier will be kept.So, just realized that by changing modulation code subcarrier changes pilot frequency mode.In one embodiment, modulation code is burst at each and is changed once at least.In another embodiment, modulation code does not change in bursting.Cyclic Prefix is added by circuit 713, and carries out pulse shaping by pulse former 715.Launch the signal that obtains by radiating circuit 717.
Operate transmitters 700, so that radiating circuit 717 is launched a plurality of data symbols on more than first subcarrier, wherein, each subcarrier in more than first subcarrier has the first bandwidth.Such example is the similar hypographous subcarrier between t1 and t2 in Fig. 5, the similar hypographous subcarrier between t3 and t4, and start from the shaded subcarriers that has of t5.Radiating circuit 717 is launched the first pilot frequency sequence in the very first time to the user, and wherein, the first pilot frequency sequence is launched with first mode on more than second subcarrier.Each subcarrier from more than second subcarrier has the second bandwidth.The example that second such bandwidth is different from the first bandwidth is the hypographous subcarrier (between t2 and t3) in the row pilot blocks 1 of Fig. 5.Launch the second pilot frequency sequence in the second time to the user.Launch the second pilot frequency sequence with the second pattern on more than the 3rd subcarrier, have the 3rd bandwidth from each subcarrier of more than the 3rd subcarrier.The 3rd such bandwidth example identical with the second bandwidth is in the row pilot blocks 2 of Fig. 5 shaded subcarriers (between t4 and t5) to be arranged.Although note the cyclic shift of pilot frequency sequence is shown in the 705 places generation of pilot signal maker, in other embodiments, can implement in other positions the cyclic shift of pilot blocks.For example, between application of modulation code (710) and interpolation Cyclic Prefix (713), the circulation time shift can be applied to pilot block samples.
Fig. 8 is that transmitter 800(is marked as transmitter l in following equation) block diagram, transmitter 800 is used for launching pilot tone and data at frequency domain with the DFT-SOFDM transmitter.Piece 801,802 and 806-809 and conventional OFDM/OFDMA transmitter very similar, and that piece 803 and 805 is DFT-SOFDM is peculiar.As conventional OFDM, IDFT size (or is counted, N) typically greater than the non-zero input of the permission of maximum quantity.Particularly, as known in the art, be set to 0 corresponding to some inputs of the frequency at the edge that surpasses channel width, provide thus the over-sampling function, to have simplified the enforcement of subsequent transmission circuit.As mentioned above, corresponding to different pilot blocks and data block length, can use on pilot blocks from data block on different subcarrier bandwidth.In the transmitter of Fig. 8, for pilot blocks and data block, different IDFT sizes (N) can provide different subcarrier bandwidth.For example, data block can have N=512, and the quantity of the available subcarrier in channel width can be B=384.So, by pilot blocks is obtained the example of the pilot blocks (particularly, subcarrier bandwidth is the twice of data block) with larger subcarrier bandwidth with N=512/2=256, so wherein usable pilot subcarriers is B=384/2=192.It is 40 usable data subcarriers that the example of attention in Fig. 5 has quantity, and quantity is 20 usable pilot subcarriers.Mapping block 805 is determined the subcarrier by the particular group of selecting in data block or the shared available subcarrier of pilot blocks.
In pilot
signal maker piece 810, produce frequency-domain pilot symbols, and provide it to code element-subcarrier mapping block 805.As mentioned above, in one embodiment, the frequency-domain pilot symbols that is used for transmitter l is expressed as (to Rp=1 and 0≤k≤Mp-1, and b indicates the code element of pilot frequency code element present position):
Wherein s(k, b) be baseline or the pilot frequency sequence (for example norm is counted signal, such as the DFT/IDFT of QPSK, CAZAC sequence, GCL sequence or CAZAC or GCL sequence) of displacement not, α
lBe the circulation time shift to transmitter l, and P is the cyclic shift factor.As mentioned above, produce sequence in time domain or frequency domain.The concrete details that are used for the
pilot signal maker 810 that the time domain of pilot frequency code element generates shown in Fig. 8 B.Can find out, at first with time domain pilot sequence S(n, the b of length M p) from serial conversion to parallel 821, if use subsequently the i.e. P=Mp of loop cycle displacement 810(, value is just by mobile α periodically so
l).In 825, use Mp point FFT to provide frequency-domain pilot symbols x subsequently
l(k, b).As substituting that the time domain to pilot frequency code element generates, as shown in Fig. 8 C, can directly generate pilot frequency code element in frequency domain.In this case, with frequency-domain pilot sequence s(k, b) offer serial-to-
parallel transducer 821, application phase oblique wave (phase ramp) 829 subsequently, it is corresponding to suitable time shift, and provides by the exponential term that multiply by in above equation.
Cyclic Prefix is added by circuit 807, is parallel-to-serial converter 808 afterwards.And, although not shown, can carry out additional spectrum shaping on the DFT-SOFDM signal, take or reduce its peak-to-average force ratio to reduce its frequency spectrum.Conventionally, implement this additional spectrum shaping by the additional treatments before IDFT806, and for example can be based on weighting or overlap-add procedure.At last by using radiating circuit 809, transmitted signal on the RF channel.
In Fig. 8 D, the time domain that has provided DFT-SOFDM transmitter (being labeled as transmitter l in following equation) is implemented, and wherein only has the cyclic shift of pair pilot blocks to be applied to time domain.The present embodiment will have the enforcement advantage, because time-domain cyclic shift is low-complexity, and thus as the
piece 825 in Mp point IFFT(Fig. 8 B), the multiplication of having avoided being undertaken by the phase place oblique wave (being exponential term in the pilot frequency code element equation or the
piece 829 in Fig. 8 C).Note, the cyclic shift in 811 is not applied to data block.Only explain now the piece that does not share with Fig. 8 A.In Fig. 8 E, the
generation 810 of time domain pilot code element has been described.In the present embodiment of
pilot signal maker 810, time domain pilot sequence S(n, b) through serial-to-
parallel transducer 821, and adopt subsequently Mp point FFT to produce frequency-domain pilot symbols.The pilot tone signal generator that the alternative Fig. 8 of the being F of the time-domain
pilot signal maker 810 that is used for transmitter in Fig. 8 D is provided.In this embodiment, frequency-domain pilot sequence s(k, b) only produce pilot frequency code element through serial-to-parallel transducer 821.In two embodiment of pilot signal maker, the cyclic shift that produces pilot blocks by carrying out circulation time shift 811.In one embodiment, suppose that the frequency-domain pilot sequence of expectation is expressed as (to Rp=1 and 0≤k≤Mp-1, and b indicates the code element of pilot frequency code element present position):
Wherein s(k, b) be baseline or the frequency-domain pilot sequence (for example norm is counted signal, such as the DFT/IDFT of QPSK, CAZAC sequence, GCL sequence or CAZAC or GCL sequence) of displacement not, α
lBe the circulation time shift of transmitter l, and P is the cyclic shift factor.Subsequently can be with α
lThe time domain displacement of individual sampling is applied to by the time-domain sampling of piece 811 receptions (supposition P=Mp).
In one embodiment, transmitter (for example, as shown in Figure 7 and Figure 8) receives resource allocation message, and determines pilot configuration information based on the resource allocation message that receives.Pilot configuration information can comprise circulation time shift information for the first pilot blocks and the second pilot blocks, is used for the piece modulation coefficient information of pilot blocks and may comprises the regulation baseline or the information of the pilot frequency sequence that is not shifted.Can there be variety of way to provide pilot configuration information based on resource allocation message.For example, can clearly stipulate pilot configuration information in message, or can come recessive regulation pilot configuration information based on other information in resource allocation message and predetermined mapping ruler.An example of recessive regulation is: message specifies will be used for the resource (for example (Td, Rd, Sd) and centre frequency) that transmitter carries out transfer of data, and between each possible data resource distribution and pilot configuration information, predetermined mapping is arranged.Note, also can use direct and combination recessive information from resource allocation message to come the regulation pilot configuration information.
Fig. 9 is the block diagram of receiver 900.The signal that receives is the mixing that transmits from the channel distortion of all transmitters.In operating process, baseband conversion circuitry 901 is converted to base band with the signal that receives, and by filter 902, it is carried out base band and filter.In case receive pilot tone and data message, Cyclic Prefix is removed from pilot tone and data block, and piece is passed to channel estimation circuit 904 and equalizing circuit 905.As mentioned above, pilot signal is generally used for communication system, so that receiver can be carried out multiple critical function, include but not limited to: obtain and follow the tracks of regularly and Frequency Synchronization, estimation and follow the tracks of the subsequent demodulation that is used for information data and expectation channel, the estimation of decoding and the characteristic that monitors other channels suppress etc. to be used for switching, to disturb.For this reason, circuit 904 carries out by using at least the pilot blocks that receives the channel estimating that has taken on subcarrier for data block.
As mentioned above, channel estimator embodiment is the above correlator that provides.The frequency-domain pilot sequence of supposing l transmitter on subcarrier k and code element (piece) b is given as (for Rp=1):
Wherein s(k, b) be baseline or the pilot frequency sequence (for example norm is counted signal, such as the DFT/IDFT of QPSK, CAZAC sequence, GCL sequence or CAZAC or GCL sequence) of displacement not, α
lThat (for example supposition has four transmitters, and α for circulation time shift for transmitter l
1=0, α
2=Tp/4, α
3=Tp/2, and α
4=3Tp/4), and P is the cyclic shift factor (for example P=Tp).Channel estimator 904 carries out relevant (namely being the mixing of the pilot blocks that receives from four transmitters in example) with the removed pilot frequency sequence that receives of original pilots sequence and Cyclic Prefix, the time domain channel of each transmitter is estimated obtaining.In an example, channel response to the first transmitter will be arranged in first piece of Tp/4 correlator output sampling (to this example, also for example in Fig. 6 shown in 602), to be arranged in the next piece (as shown in Fig. 6 604) of Tp/4 correlator output sampling to the channel response of the second transmitter, the rest may be inferred (as shown in Fig. 6 606 and 608).
Channel estimating is delivered to equalizing circuit 905, so that can carry out the suitable equilibrium of the data block that has taken on subcarrier.Comprise data-signal after suitable equilibrium from the signal of circuit 905 output, this data-signal is delivered to user's split circuit 906, wherein separates the signal (from the transmission of unique user corresponding to the transmission from each transmitter of user) of unique user from data-signal.The user separates and can carry out in time domain or frequency domain, and can combine with equalizing circuit 905.Last determining apparatus 907 is determined symbol/bit from user's separation signal, and it is transmitter.
Figure 10 is the flowcharting of receiver (for example base station) embodiment, and it determines channel estimating from one or two transmitter.In frame 1001, receiver receives first piece on a plurality of subcarriers in the very first time, and wherein first piece comprises the first pilot frequency sequence with first time shift from the first transmitter, and from second pilot frequency sequence with second time shift of the second transmitter.Then, in frame 1003, receiver receives second piece on a plurality of subcarriers in the second time, wherein second piece comprises the 3rd pilot frequency sequence with the 3rd time shift from the first transmitter, and from the 4th pilot frequency sequence with the 4th time shift of the second transmitter, wherein the first time shift is depended in the 3rd time shift, and the second time shift is depended in the 4th time shift.At last, in frame 1005, receiver is processed first piece and second piece, to recover that one of them channel estimating of the first transmitter and the second transmitter is suppressed the signal from other transmitters simultaneously.
Figure 11 is the flowcharting of transmitter embodiment, and this transmitter will create pilot frequency sequence.In frame 1101, transmitter receives resource allocation message from the receiver with the receiver/transmitter pilot frequency sequence.In frame 1103, transmitter is determined the first time shift, the second time shift and a set of block modulation coefficients based on resource allocation message.In frame 1105, transmitter is launched first piece on a plurality of subcarriers in the very first time subsequently, and wherein first piece comprises the first pilot frequency sequence with first time shift, and multiply by first index of modulation.At last, in frame 1107, transmitter is launched second piece on a plurality of subcarriers in the second time, and wherein second piece comprises the second pilot frequency sequence with second time shift, and multiply by second index of modulation, and wherein the first time shift is depended in the second time shift.
In additional embodiment of the present invention, to the different cyclic shift value of each distribution in a plurality of transmitters, this cyclic shift value is from one group of cyclic delay values that will be used to the pilot transmission on pilot blocks.Select different cyclic delay values and distributing it with the following methods, namely by being increased in the spacing between the distributing cyclic shift value, improve the separability in the channel estimating of the transmitter at receiver place.Consider such system, the cyclic delay values that wherein can be used for the distribution of transmitter is T0+k*T1, and wherein k is nonnegative integer＜=kmax.In the one side of the present embodiment, less than kmax and greater than 1 the time, the cyclic delay values (or value is k) that is assigned to so transmitter is discrete when the quantity of the transmitter that is assigned in pilot blocks the emission pilot tone.The discontinuous cyclic delay values that has at least two not to be assigned to transmitter that means, i.e. the first unappropriated circulation delay and the second unappropriated circulation delay, and at least one circulation delay (the 3rd circulation delay) with the value between the first unappropriated circulation delay and the second unappropriated circulation delay is assigned to transmitter.The cyclic delay values of the transmitter that is assigned in addition, preferably is maximized separation.For example, if in the pilot blocks of length 4T1, four possible cyclic shift value 0, T1,2T1 and 3T1 are arranged, and distribute two transmitters to launch in pilot blocks, can will distribute the interval between circulation delay to be chosen as 2T1, (notice that when pilot block length was 4T1, in fact cyclic delay values 0 and 3T1 were close to for maximum interval is provided, rather than maximize separation, because circulation delay is cycle delay).For example, can be the first transmitter distributing cyclic shift 0, and be the second transmitter distributing cyclic shift 2T1.Arrive transmitter by maximizing the cyclic delay assignment of separating, can provide extra protection to unpredictable channel condition (for example wherein postponing expansion greater than the channel of the difference between postponing at continuous circulation).The flow chart of the present embodiment shown in Figure 12.In step 1202, select a plurality of transmitters to come assignment of pilot transmission configuration information.Will be to each the assignment of pilot transmission configuration in a plurality of transmitters.In step 1204, will be from the different cyclic delay assignment of one group of circulation delay each in a plurality of transmitters, with the pilot transmission that is used for being undertaken by each transmitter, wherein cyclic delay assignment is arrived transmitter, so that the cyclic delay values that is assigned with is discrete (not all continuous).Discontinuous distribution also can comprise and stays unappropriated the first circulation delay and unappropriated the second circulation delay, and can comprise that at least one cyclic delay assignment that will have the value between the first unallocated circulation delay and the second unallocated circulation delay is to transmitter.The method also can comprise two in a plurality of transmitters with discrete cyclic delay assignment, and wherein at least one channel delay spread that has in two transmitters surpasses the spacing between the adjacent cycle length of delay of this group cyclic delay values.
The block diagram of the controller unit of the embodiment according to Figure 12 shown in Figure 13.Controller unit 1300 comprises transmitter selection circuit 1302, be used for selecting a plurality of transmitters to come assignment of pilot transmission configuration information, also comprise transmitter distributor circuit 1304, be used for providing cyclic delay assignment information, and transmitter circuitry 1306, be used for the emission assignment information.Controller unit 1300 can be embedded in communication unit such as the base station, and is coupled to the transmitter of communication unit, assignment information is transmitted into a plurality of transmitters.
Although in some embodiments of the present invention, to each pilot blocks in bursting, use identical block length and repetition factor (to IFDMA) or subcarrier mapping (to DFT-SOFDM), but alternate embodiment can be used the mapping of a plurality of block lengths and/or a plurality of repetition factor and/or subcarrier to a plurality of pilot blocks in bursting.Note, different block lengths provides different subcarrier bandwidth, and this can further strengthen the ability of channel estimating.
The pilot frequency configuration (for example the first of Figure 13 or second configuration) of bursting is preferably dynamically distributed based on the channel condition such as channel variation rate (Doppler) by the base station, can be based on the request from mobile unit but distribute, or based on by the uplink measurement of unit, base according to the carrying out of the ul transmissions that had before received.As mentioned above, determining can be based on the channel condition such as Doppler frequency, or based on the antenna amount that is used for transmit data symbols, and determine and to be made by the unit, base, or made by the mobile unit that subsequently request of correspondence is sent to the unit, base.In having the system of scheduled uplink, the unit, base can distribute suitable pilot frequency format to mobile unit, to be used for the subsequent transmission from mobile unit.
Although specifically showed the present invention and with reference to specific embodiment, it be described, should be appreciated that under prerequisite without departing from the spirit and scope of the present invention, those skilled in the art can make various modifications in form and details.Within intention changes this class to be in the scope of following claim.