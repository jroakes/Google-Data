US20230421888A1 - Systems, Apparatus, and Methods for Improving Composition of Images - Google Patents
Systems, Apparatus, and Methods for Improving Composition of Images Download PDFInfo
- Publication number
- US20230421888A1 US20230421888A1 US18/251,655 US202118251655A US2023421888A1 US 20230421888 A1 US20230421888 A1 US 20230421888A1 US 202118251655 A US202118251655 A US 202118251655A US 2023421888 A1 US2023421888 A1 US 2023421888A1
- Authority
- US
- United States
- Prior art keywords
- user device
- image
- preview image
- composition
- user
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Pending
Links
- 239000000203 mixture Substances 0.000 title claims abstract description 125
- 238000000034 method Methods 0.000 title claims abstract description 62
- 238000010801 machine learning Methods 0.000 claims abstract description 30
- 238000012545 processing Methods 0.000 claims abstract description 14
- 230000006870 function Effects 0.000 claims description 19
- 238000012549 training Methods 0.000 claims description 16
- 230000008569 process Effects 0.000 claims description 14
- 239000002131 composite material Substances 0.000 claims description 9
- 238000013528 artificial neural network Methods 0.000 claims description 5
- 238000011176 pooling Methods 0.000 claims description 5
- 239000011521 glass Substances 0.000 claims description 4
- 230000000007 visual effect Effects 0.000 claims description 4
- 238000004891 communication Methods 0.000 description 23
- 238000010586 diagram Methods 0.000 description 9
- 238000013500 data storage Methods 0.000 description 7
- 230000004913 activation Effects 0.000 description 4
- 230000003416 augmentation Effects 0.000 description 4
- 230000003190 augmentative effect Effects 0.000 description 4
- 238000004590 computer program Methods 0.000 description 4
- 238000013527 convolutional neural network Methods 0.000 description 4
- 230000004044 response Effects 0.000 description 4
- 230000007246 mechanism Effects 0.000 description 3
- 238000004458 analytical method Methods 0.000 description 2
- 238000013459 approach Methods 0.000 description 2
- 230000008901 benefit Effects 0.000 description 2
- 235000019800 disodium phosphate Nutrition 0.000 description 2
- 230000003068 static effect Effects 0.000 description 2
- 230000001960 triggered effect Effects 0.000 description 2
- 230000009471 action Effects 0.000 description 1
- 238000003491 array Methods 0.000 description 1
- 238000013434 data augmentation Methods 0.000 description 1
- 238000001514 detection method Methods 0.000 description 1
- 238000005516 engineering process Methods 0.000 description 1
- 238000011156 evaluation Methods 0.000 description 1
- 239000000835 fiber Substances 0.000 description 1
- 230000006872 improvement Effects 0.000 description 1
- 238000004519 manufacturing process Methods 0.000 description 1
- 239000000463 material Substances 0.000 description 1
- 238000005259 measurement Methods 0.000 description 1
- 238000012986 modification Methods 0.000 description 1
- 230000004048 modification Effects 0.000 description 1
- 230000006855 networking Effects 0.000 description 1
- 230000003287 optical effect Effects 0.000 description 1
- 230000002093 peripheral effect Effects 0.000 description 1
- 230000003094 perturbing effect Effects 0.000 description 1
- 230000002194 synthesizing effect Effects 0.000 description 1
- 238000012360 testing method Methods 0.000 description 1
Images
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N23/00—Cameras or camera modules comprising electronic image sensors; Control thereof
- H04N23/60—Control of cameras or camera modules
- H04N23/63—Control of cameras or camera modules by using electronic viewfinders
- H04N23/631—Graphical user interfaces [GUI] specially adapted for controlling image capture or setting capture parameters
- H04N23/632—Graphical user interfaces [GUI] specially adapted for controlling image capture or setting capture parameters for displaying or modifying preview images prior to image capturing, e.g. variety of image resolutions or capturing parameters
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N5/00—Details of television systems
- H04N5/222—Studio circuitry; Studio devices; Studio equipment
- H04N5/2228—Video assist systems used in motion picture production, e.g. video cameras connected to viewfinders of motion picture cameras or related video signal processing
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06N—COMPUTING ARRANGEMENTS BASED ON SPECIFIC COMPUTATIONAL MODELS
- G06N3/00—Computing arrangements based on biological models
- G06N3/02—Neural networks
- G06N3/04—Architecture, e.g. interconnection topology
- G06N3/045—Combinations of networks
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06N—COMPUTING ARRANGEMENTS BASED ON SPECIFIC COMPUTATIONAL MODELS
- G06N3/00—Computing arrangements based on biological models
- G06N3/02—Neural networks
- G06N3/04—Architecture, e.g. interconnection topology
- G06N3/048—Activation functions
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06N—COMPUTING ARRANGEMENTS BASED ON SPECIFIC COMPUTATIONAL MODELS
- G06N3/00—Computing arrangements based on biological models
- G06N3/02—Neural networks
- G06N3/08—Learning methods
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T7/00—Image analysis
- G06T7/0002—Inspection of images, e.g. flaw detection
- G06T7/0004—Industrial image inspection
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T7/00—Image analysis
- G06T7/20—Analysis of motion
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06V—IMAGE OR VIDEO RECOGNITION OR UNDERSTANDING
- G06V10/00—Arrangements for image or video recognition or understanding
- G06V10/70—Arrangements for image or video recognition or understanding using pattern recognition or machine learning
- G06V10/82—Arrangements for image or video recognition or understanding using pattern recognition or machine learning using neural networks
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N23/00—Cameras or camera modules comprising electronic image sensors; Control thereof
- H04N23/60—Control of cameras or camera modules
- H04N23/61—Control of cameras or camera modules based on recognised objects
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N23/00—Cameras or camera modules comprising electronic image sensors; Control thereof
- H04N23/60—Control of cameras or camera modules
- H04N23/63—Control of cameras or camera modules by using electronic viewfinders
- H04N23/633—Control of cameras or camera modules by using electronic viewfinders for displaying additional information relating to control or operation of the camera
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N23/00—Cameras or camera modules comprising electronic image sensors; Control thereof
- H04N23/60—Control of cameras or camera modules
- H04N23/63—Control of cameras or camera modules by using electronic viewfinders
- H04N23/633—Control of cameras or camera modules by using electronic viewfinders for displaying additional information relating to control or operation of the camera
- H04N23/635—Region indicators; Field of view indicators
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N23/00—Cameras or camera modules comprising electronic image sensors; Control thereof
- H04N23/60—Control of cameras or camera modules
- H04N23/64—Computer-aided capture of images, e.g. transfer from script file into camera, check of taken image quality, advice or proposal for image composition or decision on when to take image
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T2207/00—Indexing scheme for image analysis or image enhancement
- G06T2207/20—Special algorithmic details
- G06T2207/20081—Training; Learning
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T2207/00—Indexing scheme for image analysis or image enhancement
- G06T2207/20—Special algorithmic details
- G06T2207/20084—Artificial neural networks [ANN]
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T2207/00—Indexing scheme for image analysis or image enhancement
- G06T2207/20—Special algorithmic details
- G06T2207/20092—Interactive image processing based on input by user
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T2207/00—Indexing scheme for image analysis or image enhancement
- G06T2207/30—Subject of image; Context of image processing
- G06T2207/30168—Image quality inspection
Definitions
- Various hand-held devices such as mobile phones, mobile computing device, eye glasses, etc. may be equipped with cameras that allow users to take pictures of scenes, people, monuments, events, etc. and share them with their friends and family.
- cameras that allow users to take pictures of scenes, people, monuments, events, etc. and share them with their friends and family.
- users sometimes end up with pictures that are non-optimal.
- pictures of monuments for e.g., cathedrals, churches, large buildings, etc.
- people, events, sights, etc. may not be symmetrical
- buildings may be skewed
- objects may not be optimally positioned in the scene, or, and in general, the captured pictures may not be of good quality and composition.
- Embodiments of the present disclosure provide systems, methods and apparatus to enable a user of an image capture device to capture images of monuments, scenes, people, events, etc. that are of optimal composition and quality.
- the image capture device may be configured to analyze the composition of images captured by the image capture device and to provide suggestions or feedback to improve the composition of the images.
- the suggestions may guide or instruct the user to move the position of the image capture device and/or to adjust the zoom level of the image capture device to improve the composition of the image.
- a method for improving composition of an image includes receiving a first preview image of a scene and processing the first preview image using a first machine learning model to determine at least one direction to move a user device based on a composition score of the first preview image and at least one composition score of a plurality of candidate images.
- the method also includes detecting movement of the user device and receiving a second preview image of the scene after movement of the user device.
- the present application describes an apparatus comprising a memory, an image sensor, and one or more processors.
- the one or more processors may be configured to receive a first preview image of a scene and process the first preview image using a first machine learning model to determine at least one direction to move a user device based on a composition score of the first preview image and at least one composition score of a plurality of candidate images.
- the one or more processor may also be configured to detect movement of the user device and receive a second preview image of the scene after movement of the user device.
- a non-transitory computer-readable medium storing instructions that, when the instructions are executed by one or more processors, causes the one or more processors to perform operations.
- the operations may include receiving a first preview image of a scene and processing the first preview image using a first machine learning model to determine at least one direction to move the user device based on a composition score of the first preview image and at least one composition score of a plurality of candidate images.
- the operations may include detecting movement of the user device and receiving a second preview image of the scene after movement of the user device.
- FIG. 1 depicts an illustration of a user device, according to an example embodiment
- FIG. 2 depicts illustrations of example images displayed on a user device along with various suggestions provided by the user device, according to an example embodiment
- FIG. 3 is a simplified block diagram of a user device, in accordance with an example embodiment
- FIG. 4 illustrates a simplified block diagram of a machine learning model, in accordance with an example embodiment
- FIG. 5 illustrates a simplified block diagram of a machine learning model, in accordance with an example embodiment
- FIG. 6 depicts an illustrative flow diagram of an example method, in accordance with an example embodiment.
- FIG. 7 is a schematic diagram of a computer program, according to an example implementation.
- Example methods, devices, and systems are described herein. It should be understood that the words “example” and “exemplary” are used herein to mean “serving as an example, instance, or illustration.” Any embodiment or feature described herein as being an “example,” “exemplary,” and/or “illustrative” is not necessarily to be construed as preferred or advantageous over other embodiments or features unless stated as such. Thus, other embodiments can be utilized and other changes can be made without departing from the scope of the subject matter presented herein.
- any enumeration of elements, blocks, or steps in this specification or the claims is for purposes of clarity. Thus, such enumeration should not be interpreted to require or imply that these elements, blocks, or steps adhere to a particular arrangement or are carried out in a particular order. Unless otherwise noted, figures are not drawn to scale.
- the following embodiments describe systems, apparatus, and methods that provide real-time evaluation of image composition to enable a user of an image capture device to capture images of monuments, scenes, people, events, etc. that are of optimal composition and quality.
- the image capture device may be configured to analyze the composition of the images captured by the image capture device and to provide guidance to aid the user for capturing well-composed images.
- the image capture device may generate suggestions or feedback for improving the quality of the composition of captured images.
- the suggestion may instruct the user to move the position of the image capture device and/or to adjust the zoom level of the image capture device to capture images.
- the suggestions may be in the form of text, audio commands, image overlays (animated or static), graphical indicia (e.g., icons, arrows, or other indicia), etc.
- the image capture device may no longer provide suggestions to the user or may provide an indication that an image may be captured. The user may then trigger a capture an image of the scene with the image capture device.
- the image capture device may enable the user to capture quality pictures or images, allowing the user to enjoy the pictures of the event, monument, scene, etc., enriching the user's experience.
- FIG. 1 depicts an illustration of a user device 100 , according to an example implementation.
- the user device 100 may include an image capture device or camera.
- the user device 100 may be a mobile computing device, a smartphone, a tablet personal computer (PC), a mobile phone, an augmented reality head-mounted display, a digital camera, or any other device equipped with an image capture device.
- the augmented reality system may be in the form of a pair of eye glasses equipped with a camera.
- the user device 100 may have a built-in or integrated display device or screen 102 for displaying a graphical user interface 104 during an image capture process.
- the user device 100 may be configured to enable a user to launch an application on the user device 100 which activates a camera (not shown) and displays a real-time image or preview image of the field-of-view of the camera.
- the real-time image may be continuously updated with new images generated from the camera, such that movement of the user device 100 may correspond in real-time to movement of the image being captured or detected by the camera.
- the image being shown on the display device 102 of user device 100 may be a real-time image (e.g., a preview image) capturing the field-of-view of the camera.
- the user can therefore position the camera of the user device 100 toward a scene and immediately view an image or picture of the scene on the display device 102 of the user device 100 .
- the user device 100 may be configured to analyze and/or process the preview image to determine the composition and/or quality of the preview image. Based on the analysis, the user device 100 may be configured to provide real-time suggestions or recommendations for improving the quality of the composition of the preview image captured by the user device 100 .
- the suggestions may provide guidance or instructions to the user to move the position of the user device 100 and/or to adjust the camera zoom level of the user device 100 . For example, if some of the objects in the preview image are not properly centered, the user device 100 may suggest, in the form of guidance or feedback, adjusting the position and/or camera zoom level of the user device 100 .
- the user device 100 may display the suggestions on the display screen 102 of the user device 100 .
- Some of the suggestions for adjusting the position of the user device may indicate moving the position or direction of the user device up, down, left, right, etc.
- some of the suggestions for adjusting the camera zoom settings may include zoom in, zoom out, etc.
- the user may move the user device 100 or adjust the camera zoom level according to the suggestions to improve the composition of the image (e.g., preview image) being captured by the user device 100 .
- the various suggestions and/or feedback provide guidance or feedback to the user for capturing optimal compositional images may be provided in different formats.
- the suggestions may be visual, audio, or vibratory indications, such as icons, arrows, text, image overlays, etc.
- an arrow or indicator may be displayed on the display device 102 of the user device 100 to provide guidance or instruction to move the position of the user device 100 in one or more directions and/or to adjust the camera zoom level (e.g., zoom in or out) of the user device 100 .
- the suggestions may be provided in a viewfinder of a camera.
- the user may be provided with options to select the suggestion format thereby providing greater flexibility to the user for controlling the way the user desires to receive suggestions.
- the user device 100 may continue to provide updated suggestions or feedback.
- the updated suggestions may to continue to aid or guide the user for adjusting the position of the user device 100 and/or adjusting the camera zoom level to improve the composition of the image (e.g., preview image) being captured by the user device 100 .
- the user may press a button or activate a camera application to capture an improved image of the scene.
- the user device 100 may enable a user, even an amateur user of a camera, to capture quality pictures or images.
- FIGS. 2 a - 2 d illustrate various suggestions provided or displayed by a user device, such as the user device 100 of FIG. 1 , based on the real-time images (e.g., preview image) of the field-of-view of the user device 100 .
- the real-time images depicted in FIGS. 2 a - 2 d are exemplary and should not be considered restrictive or limiting.
- the user may activate a camera application on the user device 100 and may focus the camera on a real-world scene/view that is of interest to the user.
- the user device 100 may detect an image that the camera is focusing on, render the image on a display device of the user device 100 , store the image in cache memory, and send a signal to one or more modules (e.g., feedback modules) within the user device 100 for further processing of the image.
- modules e.g., feedback modules
- FIG. 2 a illustrates a screen rendition of a preview image 202 of an exemplary image of a scene captured or detected by the user device 100 .
- the preview image may include a plurality of objects, such as buildings.
- the preview image of the scene as captured by the camera of user device 100 is rendered on the display device or screen 204 of the user device 100 .
- the user has merely pointed the camera of the user device 100 at the scene and has not committed to capturing an image of the scene.
- the user device 100 may be configured to analyze or process the preview image to identify or detect features of the image. Based on the analysis, the user device 100 may provide suggestions or feedback to improve the composition of the preview image. For example, if some of the objects in the image are non-symmetrical, incomplete, and/or too large or small, the user device 100 may provide suggestions or feedback to guide or instruct the user to adjust the position of the user device 100 and/or adjust the camera zoom level of the user device 100 .
- the suggestions may indicate or instruct the user to move the user device 100 upward or downward, to move the user device 100 to the left or right, to adjust angle of the user device 100 , to rotate the user device, etc. Further, the suggestions may notify or instruct a user to increase or decrease the camera zoom level (e.g., zoom in or zoom out).
- representations of the suggestions may be provided on the display device or screen of the user device 100 so that the user of the user device 100 may follow the suggestions in order to obtain optimal image composition.
- the suggestion 204 may be provided by the user device 100 in a visual format (e.g., graphical information) displayed on a portion of the display device.
- the suggestion 204 may also overlay the image.
- the suggestion 204 in FIG. 2 a indicates that the user should move the user device 100 (e.g., camera) upward to capture an image of scene (i.e., the building).
- the user may adjust the position of the user device 100 to improve the composition of the captured image.
- the user device 100 may provide suggestions to the user to move the user device 100 in other directions, such as downward, to capture the image.
- the suggestions may include textual information, visual information, audio information, etc. It should be noted that the various formats used for providing suggestions are exemplary and should not be considered restrictive. Other formats may be used so long as it allows the user to follow the suggested directions or guidance.
- the suggestions may be determined by the user device 100 based on a composition score of the real-time image (e.g., preview image) and composition scores of candidate images.
- the composite score may identify the quality of the detected or captured image and may be computed in accordance with trained models of the user device.
- the candidate images may be generated by simulating the capture of an image by the user device at different positions as further described below.
- the user device 100 may determine that the composition of the real-time image may be improved by moving the user device 100 in a particular direction based on the candidate images. As a result, when the position of the user device 100 is moved according to the suggestions, the composition score of a captured image may be increased.
- the user device 100 may continue to display real-time images (e.g., preview images) on the display device of the user device 100 . Suggestions may also be continued to be provided on the display device or screen of the user device 100 to guide or instruct the user to move the user device 100 in a particular direction or to adjust the camera zoom setting of the user device 100 to improve the composition of the image. Further, the user device 100 may dynamically determine the composition score of the newly captured images (e.g., preview images) to account for the adjustment in the position or settings of the camera of the user device 100 . Based on the newly captured images, the user device 100 may provide suggestions to adjust the position or the camera settings of the user device 100 . After the user moves the user device 100 in accordance with the suggestions provided by the user device 100 , the user of may trigger the capture of an image with improved composition.
- real-time images e.g., preview images
- FIG. 2 b illustrates an image displayed on a display device of the user device 100 where the objects (e.g., people) are positioned toward the left-side of the preview image and are not fully visible.
- the user device 100 may provide a suggestion 206 to guide or instruct the user to move the user device 100 to the left to improve the composition of the captured image.
- the suggestion 206 provided by the user device 100 may be in the form of graphical content.
- the suggestion may also be, in other embodiments, in the form of textual content, audio content, or haptic content.
- the user device 100 may provide suggestions to the user to move the position of the user device 100 in any suitable direction (e.g., a right direction) and/or to increase or decrease the camera zoom level of the user device 100 .
- the user device 100 may continue to display a newly captured images (e.g., real-time or preview images) on the display device. Suggestions may also be continued to be provided on the display device of the user device 100 during movement to guide or instruct the user to move the user device 100 in a particular direction in order to improve the composition of the image. For example, based on the newly captured images, the user device 100 may provide suggestions to adjust the position of the user device 100 . Further, the user device 100 may dynamically determine the composition score of the newly captured images to account for the adjustment in the position of the user device 100 . After the user moves the user device in accordance with the suggestions provided by the user device 100 , the user of the user device 100 may trigger the capture of an image having improved composition.
- a newly captured images e.g., real-time or preview images
- FIG. 2 c illustrates a real-time or preview image displayed on a display device of the user device 100 where the camera of the user device 100 has been zoomed in too far.
- the user device 100 may analyze and/or process the preview image and determine that the camera zoom level may be adjusted to improve the composition of image.
- the user device 100 may provide a suggestion 208 to notify or guide the user to decrease the camera zoom level of the user device 100 .
- the user may adjust the camera zoom level of the user device to improve the composition of the preview image.
- the suggestion provided by the user device 100 may be in the form of graphical content.
- the suggestion may be in the form of text content, audio content, or haptic content.
- the user device 100 may provide suggestions to notify or instruct the user to increase the zoom level (e.g., zoom-in) so as to allow the objects to be visible in an optimal manner.
- the user device 100 may continue to display a real-time or preview image on the display device. Further, the user device 100 may also continually provide suggestions or feedback during the adjustment of the camera zoom level. Further, the user device 100 may dynamically determine the composition score of the preview image to account for the zoom level adjustment of the camera of the user device 100 . After the user moves the user device 100 in accordance with the suggestions provided by the user device 100 , the user may trigger the capture of an image with improved composition.
- FIG. 2 d illustrates an optimal real-time or preview image displayed on a display device of the user device 100 .
- the user device 100 may not provide a suggestion to the user.
- the user device 100 may provide an indication to the user that the image has a desirable composition. As such, the user may trigger the capture of an image.
- FIG. 3 illustrates a user device or image capture device 300 that employs a feedback module or engine for analyzing and/or processing image data of an image.
- the user device 300 may be any camera-equipped device, such as a camera (i.e., digital camera), a tablet personal computer (PC), a mobile phone, a wearable computing device (e.g., a pair of eyeglasses equipped with a camera, a head-mounted display, and/or an augmented reality display), etc.
- a camera i.e., digital camera
- PC personal computer
- mobile phone a wearable computing device
- FIG. 1 a pair of eyeglasses equipped with a camera, a head-mounted display, and/or an augmented reality display
- the user device 300 may include a communication interface 302 , a user interface 304 , a processor 306 , a feedback module or engine 308 , data storage 310 , a cache memory 312 , and camera components 314 , all of which may be communicatively linked or coupled together by a system bus, network, or other connection mechanism 315 .
- the communication interface 302 of the user device 300 may function to allow the user device 300 to communicate, using analog or digital modulation, with other devices, access networks, and/or transport networks.
- the communication interface 302 may facilitate circuit-switched and/or packet-switched communication, such as POTS communication and/or IP or other packetized communication.
- the communication interface 302 may include a chipset and antenna arranged for wireless communication with a radio access network or an access point.
- the communication interface 302 may take the form of a wireline interface, such as an Ethernet, Token Ring, or USB port.
- the communication interface 302 may also take the form of a wireless interface, such as a Wifi, BLUETOOTH®, global positioning system (GPS), or wide-area wireless interface (e.g., WiMAX or LTE). However, other forms of physical layer interfaces and other types of standard or proprietary communication protocols may be used over the communication interface 402 . Furthermore, the communication interface 402 may comprise multiple physical communication interfaces (e.g., a Wifi interface, a BLUETOOTH® interface, and a wide-area wireless interface).
- the user interface 304 of the user device 300 may function to allow the user device 300 to interact with a human or non-human user, such as to receive input from a user and to provide output to the user, such as suggestions and/or feedback to aid or instruct a user to move the position of the user device 300 and/or to adjust a camera zoom level of the user device 300 to captured images with improved composition.
- the user interface 304 may include input components such as a keypad, keyboard, touch-sensitive or presence-sensitive panel, computer mouse, trackball, joystick, microphone, still camera and/or video camera.
- the user interface 304 may also include one or more output components such as a display screen (which, for example, may be combined with a touch-sensitive panel), CRT, LCD, LED, a display using DLP technology, printer, light bulb, and/or other similar devices, now known or later developed.
- the user interface 304 may also be configured to generate audible output(s), via a speaker, speaker jack, audio output port, audio output device, earphones, and/or other similar devices, now known or later developed.
- the user interface 304 may include software, circuitry, or another form of logic that can transmit data to and/or receive data from external user input/output devices.
- the user device 300 may support remote access from another device, via the communication interface 302 or via another physical interface (not shown).
- the user interface 304 of the user device 300 may include a display device or screen configured to display real-time or preview images captured by the user device 300 .
- the user interface 304 may also serve as a viewfinder for still camera and/or video camera functions supported by the user device 300 .
- the user interface 104 may include one or more buttons, switches, knobs, and/or dials that facilitate the configuration and focusing of a camera function and the capturing of images (e.g., capturing a picture). In some implementations, some or all of these buttons, switches, knobs, and/or dials are implemented as functions on a touch or proximity sensitive panel.
- the processor 306 of the user device 300 may comprise one or more general purpose processors (e.g., microprocessors) and/or one or more special purpose processors (e.g., DSPs, GPUs, FPUs, network processors, or ASICs).
- the processor 306 may be capable of executing program instructions 316 (e.g., compiled or non-compiled program logic and/or machine code) stored in the data storage 308 to carry out the various functions described herein.
- the data storage 310 of the user device 300 may include one or more volatile and/or non-volatile storage components, such as magnetic, optical, flash, or organic storage, and may be integrated in whole or in part with the processor 306 .
- the data storage 310 may include removable and/or non-removable components.
- the data storage 310 may include a non-transitory computer-readable medium, having stored thereon program instructions that, upon execution by user device 300 , cause the user device 300 to carry out any of the methods, processes, techniques, and/or functions disclosed in this specification and/or the accompanying drawings.
- the execution of the program instructions 316 by the processor 306 may result in the processor 306 using data 318 .
- the program instructions 316 may include an operating system 320 (e.g., an operating system kernel, device driver(s), and/or other modules) and one or more application programs 322 (e.g., address book, email, web browsing, social networking, and/or gaming applications) installed on user device 300 .
- the data 318 may include operating system data 324 and application data 326 .
- the operating system data 324 may be accessible primarily to the operating system 320
- the application data 326 may be accessible primarily to one or more of application programs 322 .
- the application data 326 may be arranged in a file system that is visible to or hidden from a user of the user device 300 .
- the application programs 322 may communicate with the operating system 320 through one or more application programming interfaces (APIs). These APIs may facilitate, for instance, the application programs 322 reading and/or writing the application data 326 , transmitting or receiving information via the communication interface 302 , receiving or displaying information on the user interface 304 , and so on.
- APIs application programming interfaces
- the application programs 322 may be referred to as “apps” for short. Additionally, the application programs 322 may be downloadable to the user device 300 through one or more online application stores or application markets. However, the application programs 322 can also be installed on the user device 300 in other ways, such as via a web browser or through a physical interface (e.g., a USB port) on the user device 300 .
- the cache memory 312 of the user device 300 may be used as temporary storage for data that is currently being processed by the processor 306 or the feedback module 308 , frequently used data, and data that has not yet been committed to memory.
- the cache memory 312 may be constructed from a volatile or nonvolatile memory.
- the camera components 314 of the user device 300 may include, but are not limited to, an aperture, shutter, recording surface (e.g., photographic film and/or an image sensor), lens, and/or shutter button.
- the camera components 314 may be controlled at least in part by software executed by the processor 306 .
- the camera components 314 may include multiple camera systems, which each include an aperture, shutter, recording surface lens, image sensor, processor, and/or shutter button.
- the feedback module or engine 308 of the user device 300 may generate feedback or suggestions to guide or instruct a user to adjust the positon and/or camera zoom level of the user device 300 to improve the image composition of captured images.
- the feedback module 308 may comprise one or more general purpose processors (e.g., microprocessors) and/or one or more special purpose processors (e.g., DSPs, GPUs, FPUs, network processors, or ASICs). In some embodiments, the feedback module 308 may be integrated with the processor 306 .
- the feedback module 308 may be capable of executing program instructions 316 (e.g., compiled or non-compiled program logic and/or machine code) stored in the data storage 308 to carry out the various functions described herein.
- the feedback module 308 of the user device may include a composition model 330 (e.g., scoring model) and an adjustment model 332 (e.g., adjustment prediction model).
- the composition model 330 of the user device 300 may compute composition scores or measurements that identify a rating or quality of the composition of the images captured or detected by the user device 300 (e.g., real-time or preview images). For example, the composition model 330 may rate the composition quality of an image (e.g., preview image). Further, the composition model 330 may generate pseudo or estimated ground truth for tasks or operation implemented by the adjustment model 332 as further described below. In some embodiments, the composition model 330 may be implemented on another device or platform and may train the adjustment model as further described below.
- the composition model 330 receives an image 402 from a camera of the user device 300 and generates a plurality of candidate images 404 based on the received image 402 .
- the candidate images 404 may be generated by simulating the capturing of the received image 402 at different camera positions and/or movements of the user device 300 .
- the composition model 330 may slide a window 406 having the same dimensions (e.g., same size) as the image 402 across subsets or portions of the received image 402 to generate the candidate images 404 .
- the candidate images 404 may be generated by simulating movements of the user device (e.g., up, down, right, and left) by a determined percentage or distance for capturing the received image.
- each candidate image may include a subset or portion of the received image 402 .
- the remaining portions of the candidate image may be synthesized. For example, pixels of the candidate image beyond or outside the received image 402 may be zero-padded as further described below.
- the candidate images may also be generated by simulating adjustments of the camera zoom level (e.g., zoom in or out) by a determined percentage or distance for capturing the received image.
- the composition model 330 may score the composition quality of each candidate image and may select a candidate image from the candidate images having the highest composition score as the pseudo or estimate ground truth.
- the candidate image having the highest composite score has the best composition quality of the candidate images and may be outputted to the adjustment model 332 ,
- the composite scores generated by the composition model 330 may be used to train the adjustment model 332 .
- the composition model 330 may be implemented using one or more machine-learning models or neural network architectures.
- the composition model 330 may be implemented using a convolutional neural network (CNN) architecture, such as MobileNet.
- CNN convolutional neural network
- a MobileNet may be based on an architecture that uses depth wise separable convolutions to build light weight deep neural networks.
- the composition model 330 includes one or more convolution layers, a spatial pyramid pooling layer (e.g., 1 ⁇ 1, 2 ⁇ 2, and pooling layers), and three fully connected (FC) layers.
- the first and second FC layers may have 1,024 nodes with a rectified linear activation function (ReLU) and the third FC layer may have one node with sigmoid activation.
- the third FC layer may be utilized to output the pseudo or estimated ground truth data.
- the composition model 330 may be trained to learn a hierarchy of composition information based on feature information of the training images. Because the goal of a composition model Mc is to compare the results (e.g., candidate images) of different camera movements, the composition model Mc may be trained using a pairwise ranking loss function. In this approach, let a positive image and negative image (I p , I n ) be an image pair capturing the same scene where the positive image I p has a better composition than the negative image I n . The composition model M c is trained by minimizing the hinge loss:
- M c (I) ⁇ R is the rating for image I by M c and ⁇ is a given margin.
- the ground truth for the composition model M c may be a binary label for each image pair and may be easier to obtain compared with a motion label. In fact, the binary label may be generated from existing datasets without additional manual effort.
- supervised data may be used for training the composition model M c to improve image composition.
- image cropping datasets may be used for training the composition model M c .
- Most existing image cropping datasets contain annotations in one of the two following formats.
- the first format provides relative annotations between candidate crops. Given a list of N candidate crops in an image, a relative score may be annotated for each crop that ranks the candidate crops based on their quality. This may lead to (N*(N ⁇ 1))/2 image pairs with relative quality annotation, and these image pairs may be directly used for training the composition model M c .
- N candidate crops may be sampled from one image and the ranking loss may be averaged over the (N*(N ⁇ 1))/2 pairs as loss L 1 .
- the second format of the annotation provides the best crop for each image.
- (c x , c y , w, h) be the best crop represented as a bounding box in the image, where (c x , c y ) and (w, h) are the bounding box center and dimension respectively.
- the ground truth crop may be taken as the positive image I p .
- the negative image I n may be generated by perturbing the bounding box:
- ox, oy, oz are the magnitude of vertical shift, horizontal shift, and zooming perturbation respectively.
- N images and perturbations may be sampled to generate N image pairs and their average ranking loss L p may be computed.
- the perturbation may be restricted such that the negative image In is a crop inside the image.
- Existing image cropping datasets may contain around 1 k-10 k images, which may be much smaller than datasets designed for tasks such as object detection or scene recognition.
- unsupervised data may also be used for training the composition model. For example, images or photos taken by professional photographers may be used to train the composition model. These photos are usually well-composed and can be easily collected from the internet at scale.
- the well-composed image may be designated as the positive image and a random perturbation may be applied to generate the negative image.
- the well-composed image may be transformed into a crop by setting (c x , c y ) and (w, h) to the image center and dimension respectively.
- the crop may be then randomly perturbed using Equation 2 above in order to generate the negative image I n .
- the perturbed crop may be allowed to go beyond the well-composed image where the pixels beyond the original image are zero-padded.
- N image pairs may be generated from N well-composed photos in each iteration and their average ranking loss Lu may be computed.
- the composition quality model may be trained on the supervised and unsupervised data jointly by minimizing the loss:
- L reg is the L 2 regularization
- the composition model Mc may give a low score to any image that contains zero-padded pixels regardless of the content.
- the model may prefer camera movements that reduce the field-of-view of the original image, i.e. move forward, zoom in, etc.
- two data augmentations may be introduced for the composition model M c .
- si be a random number in [0.0, 0.5] for i ⁇ x, y, z ⁇ .
- the first augmentation may randomly choose s y *h rows either at the top or bottom and s x *w columns at the left or right of the image and may replace the pixel values in the selected columns and rows with zero.
- the second augmentation randomly may choose s z *h rows and s z *w columns at both sides of the image and may replace the pixel values with zero.
- One of the two augmentations may be randomly applied to the positive samples in the unsupervised data and all samples in the supervised data.
- the two augmentations may introduce the same zero-padding patterns as that caused by the shifting and zooming perturbation respectively and reduce the bias in the composition model M c .
- the adjustment model 332 of the feedback module 308 determines whether a suggestion should be provided to a user of the user device 300 .
- the adjustment model 332 may also determine movements of the user device 300 to improve the composition of the captured or detected images (e.g., real-time or preview images). Further, the adjustment model 332 may also determine adjustments to the camera zoom setting of the user device to improve the composition of captured or detected images.
- the adjustment model 332 may be implemented using a machine-learning model or a neural network architecture.
- the adjustment model 332 may be implemented using a convolutional neural network architecture, such as a MobileNet.
- the adjustment model 332 includes one or more convolution layers, a spatial pyramid pooling layer (e.g., 1 ⁇ 1, 2 ⁇ 2, and 5 ⁇ 5 pooling layers), and three fully connected (FC) layers.
- the first and second FC layers have 1,024 nodes with ReLU activation and the third FC layer has one node with sigmoid activation.
- the composite scores generated by the composition model 330 may be used to train the adjustment model 332 .
- the adjustment model 332 receives an image 502 (e.g., a real-time or preview image) captured or detected by a camera of the user device and processes the image to generate a plurality of outputs.
- the adjustment model 332 may perform or implement three sub-tasks or predictions 504 .
- the adjustment model may perform a first sub-task 506 that determines whether the adjustment model 332 should provide a suggestion or not.
- the adjustment model 332 may perform a second sub-task that determines which camera movement should be suggested. Assume that there exists M candidate camera movements and let y d T ⁇ 0, 1 ⁇ M be the indicator vector for the target camera movement.
- a camera movement predictor is learned as a multi-class classifier with loss function:
- the adjustment model 332 may perform a third sub-task that determines the magnitude of the camera movement and learns a regression function using L 1 loss:
- y T m,i is the magnitude of candidate movement i.
- a regression function may be learned for each candidate movement.
- the predictors for ys, yd, ym may be learned as three readout heads on top of a shared CNN backbone and they may be train jointly by optimizing the loss:
- the target labels y s T , y d T , y m T may be generated using the composition model Mc.
- Mc the composition model
- I 0 be the original image
- Each O i may be applied to I 0 with magnitudes mj and the result Ii,j may be synthesized.
- Ii,j may be synthesized using the same method as distorting the well-composed image as described above.
- the composition model M c may be evaluated on each Ii,j and find the one with the optimal composition quality:
- y d T and y m T may be defined accordingly:
- the suggestion may be triggered only if the composition quality improves more than selected amount (e.g., a threshold amount), and the composition model M c suggests the movement and magnitude that leads to the maximum improvement on the estimated composition quality.
- selected amount e.g., a threshold amount
- the composition model M c suggests the movement and magnitude that leads to the maximum improvement on the estimated composition quality.
- FIG. 6 illustrates example aspects of a method 600 for enabling a user of an image capture device (e.g., user device) to capture images of monuments, scenes, people, events, etc. that are of optimal composition and quality.
- the method 600 may analyze the composition of the images captured by the camera of the user device and provide suggestions or feedback to a user to capture images having improved image composition.
- the method 600 represents an example method that may include one or more operations as depicted by one or more blocks 602 - 608 , each of which may be carried out by any of the embodiments shown in FIGS. 1 and 3 , among other possible embodiments.
- a user device or image capture device e.g., a user device 100 or user device 300 ) performs the illustrated operations, although in other implementations, one or more other systems can perform some or all of the operations.
- each block of the flow diagrams may represent a module, a segment, or a portion of program code, which includes one or more instructions executable by one or more processors for implementing specific logical functions or steps in the processes.
- the program code may be stored on any type of computer readable medium, for example, such as a storage device including a disk or hard drive.
- each block may represent circuitry that is wired to perform the specific logical functions in the processes.
- Alternative implementations are included within the scope of the example embodiments of the present application in which functions may be executed out of order from that shown or discussed, including substantially concurrent or in reverse order, depending on the functionality involved, as would be understood by those reasonably skilled in the art.
- any system may cause another system to perform one or more of the operations (or portions of the operations) described below.
- the method 600 may be used to improve the composition of images captured by a camera of the user device, such as the user device 100 of FIG. 1 .
- the user device may include a mobile device, such as a mobile phone, a tablet PC, a digital camera, a smart phone, or an augmented reality system, such as eye-glasses equipped with a camera.
- a mobile device such as a mobile phone, a tablet PC, a digital camera, a smart phone, or an augmented reality system, such as eye-glasses equipped with a camera.
- the user of the user device may launch an application which activates the camera of the user derive.
- the camera may be configured to detect or capture real-time or preview images of a scene.
- the preview images may be stored in a cache memory and rendered on a display device or screen of the user device.
- the user can therefore position the camera of the user device toward a scene and immediately view a picture of the scene on the display device of the user device.
- the preview image that is rendered on the display device may be a result of the camera being directed toward a scene or object of interest.
- the preview image may be continuously updated with new images from the camera of the user device, such that movement of the user device corresponds in real-time to movement of the image being detected or captured by the camera of the user device.
- the image being shown on the display device of the user device may be a real-time or preview image.
- the first preview image (e.g., a real-time image) may be received by a processing device of the user device.
- the preview image may be processed using a first machine learning model to determine at least one direction to move the user device based on a composition score of the first preview image and at least one composition score of a plurality of candidate images.
- the first machine learning model be configured to analyze and/or process the first preview image for improving the composition of the image.
- the first machine learning model may compute a composition score that identifies a rating or quality of the composition of images captured or detected by the user device (e.g., real-time or preview images). For example, the first machine learning model may rate the composition quality of the first preview image.
- the first machine learning model may determine a composite score for a plurality of candidate images.
- Each of the plurality of candidate images may represent a simulated image of the preview image captured at different positions by the user device.
- the user device may determine whether to provide a suggestion to instruct the user to adjust a position or a setting of a user device.
- the first machine learning model may evaluate and/or compare the composition score of preview image with the composition scores of each of the composition scores of the plurality of candidate images. Based on the comparison, the first machine learning model may provide an output to cause the user device to generate a suggestion to indicate that the image composition may be improved by adjusting the position or the camera settings of the user device.
- the user device may provide a suggestion to the user to guide or instruct a user to move the user device in a particular direction or to adjust the camera zoom setting of the user device.
- the suggestions may be in the form of text, audio command, image overlays (animated or static), etc. that is presented to the user either on the display screen, through a speaker or through other input mechanism/devices.
- the user may elect to follow the suggestion or choose to ignore the suggestion.
- the user device may detect movement of the user device at block 606 .
- the movement of the user device may be detected by the one or more sensors in the user device.
- the first machine learning model receives a second preview image of the scene after movement of the user device.
- the first machine learning model may receive a new or updated image for the image that was originally rendered on a display device of the user device and may render the new image on the display device.
- the original image that was rendered may be discarded and the first machine learning module may begin to examine the new image for quality.
- the user device may have to go through few iterations of adjustment the position and/or the setting of the user device before the preview or detected image meets an acceptable or particular quality for capturing of the image. The process may continue until the user device determines that no more adjustment are needed.
- the user device may provide an informative message that is rendered on the display screen informing the user to proceed with the capturing of the image.
- the user device may stop displaying a suggestion when the preview image is of an acceptable composition.
- the user may trigger the capture of an image.
- the captured image may be saved in memory and may be accessed by a user over time. The resulting image is optimal in quality and composition, when the user follows the suggestions.
- the various embodiments solve the problem associated with the capturing of mediocre images. Further, the various embodiments provide a novice or non-experienced user to take quality images of monuments, events, etc. It will be appreciated that the steps shown in FIG. 6 are meant to illustrate a method in accordance with example embodiments. As such, various steps could be altered or modified, the ordering of certain steps could be changed, and additional steps could be added, while still achieving the overall desired operation.
- the method can be performed by a client device, or by a server, or by a combination of a client device and a server.
- the method can be performed by any suitable computing device(s).
- FIG. 7 is a schematic diagram of a computer program, according to an example implementation.
- the disclosed methods may be implemented as computer program instructions encoded on a non-transitory computer-readable storage media in a machine-readable format, or on other non-transitory media or articles of manufacture.
- computer program product 700 is provided using signal bearing medium 702 , which may include one or more programming instructions 704 that, when executed by one or more processors may provide functionality or portions of the functionality described above with respect to FIGS. 1 - 6 .
- the signal bearing medium 702 may encompass a non-transitory computer-readable medium 706 , such as, but not limited to, a hard disk drive, a CD, a DVD, a digital tape, memory, components to store remotely (e.g., on the cloud) etc.
- the signal bearing medium 702 may encompass a computer recordable medium 708 , such as, but not limited to, memory, read/write (R/W) CDs, R/W DVDs, etc.
- the signal bearing medium 702 may encompass a communications medium 710 , such as, but not limited to, a digital and/or an analog communication medium (e.g., a fiber optic cable, a waveguide, a wired communications link, a wireless communication link, etc.).
- the signal bearing medium 702 may correspond to a remote storage (e.g., a cloud).
- a computing system may share information with the cloud, including sending or receiving information.
- the computing system may receive additional information from the cloud to augment information obtained from sensors or another entity.
- the signal bearing medium 702 may be conveyed by a wireless form of the communications medium 710 .
- the one or more programming instructions 704 may be, for example, computer executable and/or logic implemented instructions.
- a computing device such as the user system 100 of FIG. 1 and the user device 300 of FIG. 3 may be configured to provide various operations, functions, or actions in response to the programming instructions 704 conveyed to the computing device by one or more of the computer readable medium 706 , the computer recordable medium 708 , and/or the communications medium 710 .
- the non-transitory computer readable medium could also be distributed among multiple data storage elements and/or cloud (e.g., remotely), which could be remotely located from each other.
- the computing device that executes some or all of the stored instructions could be another computing device, such as a server.
- Example methods, systems, and apparatus are described herein in accordance with one or more aspects associated with improving the composition of captured images.
- any of the components, modules, methods, and operations described herein can be implemented using software, firmware, hardware (e.g., fixed logic circuitry), manual processing, or any combination thereof.
- Some operations of the example methods may be described in the general context of executable instructions stored on computer-readable storage memory that is local and/or remote to a computer processing system, and implementations can include software applications, programs, functions, and the like.
- any of the functionality described herein can be performed, at least in part, by one or more hardware logic components, such as, and without limitation, Field-programmable Gate Arrays (FPGAs), Application-Specific Integrated Circuits (ASICs), Application-Specific Standard Products (ASSPs), System-on-a-Chip systems (SoCs), or Complex Programmable Logic Devices (CPLDs).
- FPGAs Field-programmable Gate Arrays
- ASICs Application-Specific Integrated Circuits
- ASSPs Application-Specific Standard Products
- SoCs System-on-a-Chip systems
- CPLDs Complex Programmable Logic Devices
Abstract
Systems, apparatus, and methods are presented for improving the composition of images. One method includes receiving a first preview image of a scene and processing the first preview image using a first machine learning model to determine at least one direction to move a user device based on a composition score of the first preview image and at least one composition score of a plurality of candidate images. The method also includes detecting movement of the user device and receiving a second preview image of the scene after movement of the user device.
Description
- This application claims the benefit of U.S. Provisional Application No. 63/114,329, filed Nov. 16, 2020, the contents of which is hereby incorporated by reference in its entirety.
- Unless otherwise indicated herein, the materials described in this section are not prior art to the claims in this application and are not admitted to be prior art by inclusion in this section.
- Taking pictures and sharing them with friends has become an accepted norm in today's world of social communication. Various hand-held devices, such as mobile phones, mobile computing device, eye glasses, etc. may be equipped with cameras that allow users to take pictures of scenes, people, monuments, events, etc. and share them with their friends and family. Often times, when sightseeing or attending an important event, users sometimes end up with pictures that are non-optimal. For instance, pictures of monuments (for e.g., cathedrals, churches, large buildings, etc.), people, events, sights, etc. may not be symmetrical, buildings may be skewed, objects may not be optimally positioned in the scene, or, and in general, the captured pictures may not be of good quality and composition. It may not be apparent to some camera users, especially amateur or in-experienced users, when taking pictures, of how the pictures will turn out or the quality of the pictures until the pictures are viewed at a later time. Further, users may not have the expertise or knowledge required to capture well-composed images like professional photographers.
- Embodiments of the present disclosure provide systems, methods and apparatus to enable a user of an image capture device to capture images of monuments, scenes, people, events, etc. that are of optimal composition and quality. The image capture device may be configured to analyze the composition of images captured by the image capture device and to provide suggestions or feedback to improve the composition of the images. The suggestions may guide or instruct the user to move the position of the image capture device and/or to adjust the zoom level of the image capture device to improve the composition of the image. It should be appreciated that the systems, methods, and apparatus of the present disclosure can be implemented in numerous ways. Several embodiments of the present disclosure are described below.
- In one aspect, a method for improving composition of an image is described. The method includes receiving a first preview image of a scene and processing the first preview image using a first machine learning model to determine at least one direction to move a user device based on a composition score of the first preview image and at least one composition score of a plurality of candidate images. The method also includes detecting movement of the user device and receiving a second preview image of the scene after movement of the user device.
- In another aspect, the present application describes an apparatus comprising a memory, an image sensor, and one or more processors. The one or more processors may be configured to receive a first preview image of a scene and process the first preview image using a first machine learning model to determine at least one direction to move a user device based on a composition score of the first preview image and at least one composition score of a plurality of candidate images. The one or more processor may also be configured to detect movement of the user device and receive a second preview image of the scene after movement of the user device.
- In still another aspect, a non-transitory computer-readable medium storing instructions is disclosed that, when the instructions are executed by one or more processors, causes the one or more processors to perform operations. The operations may include receiving a first preview image of a scene and processing the first preview image using a first machine learning model to determine at least one direction to move the user device based on a composition score of the first preview image and at least one composition score of a plurality of candidate images. The operations may include detecting movement of the user device and receiving a second preview image of the scene after movement of the user device.
- These as well as other aspects, advantages, and alternatives will become apparent to those of ordinary skill in the art by reading the following detailed description, with reference where appropriate to the accompanying drawings. Further, it should be understood that this summary and other descriptions and figures provided herein are intended to illustrate embodiments by way of example only and, as such, that numerous variations are possible. For instance, structural elements and process steps can be rearranged, combined, distributed, eliminated, or otherwise changed, while remaining within the scope of the embodiments as claimed.
- Reference will now be made to the accompanying figures and flow diagrams, which are not necessarily drawn to scale, and wherein:
-
FIG. 1 depicts an illustration of a user device, according to an example embodiment; -
FIG. 2 depicts illustrations of example images displayed on a user device along with various suggestions provided by the user device, according to an example embodiment; -
FIG. 3 is a simplified block diagram of a user device, in accordance with an example embodiment; -
FIG. 4 illustrates a simplified block diagram of a machine learning model, in accordance with an example embodiment; -
FIG. 5 illustrates a simplified block diagram of a machine learning model, in accordance with an example embodiment; -
FIG. 6 depicts an illustrative flow diagram of an example method, in accordance with an example embodiment; and -
FIG. 7 is a schematic diagram of a computer program, according to an example implementation. - Example methods, devices, and systems are described herein. It should be understood that the words “example” and “exemplary” are used herein to mean “serving as an example, instance, or illustration.” Any embodiment or feature described herein as being an “example,” “exemplary,” and/or “illustrative” is not necessarily to be construed as preferred or advantageous over other embodiments or features unless stated as such. Thus, other embodiments can be utilized and other changes can be made without departing from the scope of the subject matter presented herein.
- Accordingly, the example embodiments described herein are not meant to be limiting. It will be readily understood that the aspects of the present disclosure, as generally described herein, and illustrated in the figures, can be arranged, substituted, combined, separated, and designed in a wide variety of different configurations.
- Further, unless context suggests otherwise, the features illustrated in each of the figures may be used in combination with one another. Thus, the figures should be generally viewed as component aspects of one or more overall embodiments, with the understanding that not all illustrated features are necessary for each embodiment.
- Additionally, any enumeration of elements, blocks, or steps in this specification or the claims is for purposes of clarity. Thus, such enumeration should not be interpreted to require or imply that these elements, blocks, or steps adhere to a particular arrangement or are carried out in a particular order. Unless otherwise noted, figures are not drawn to scale.
- The following embodiments describe systems, apparatus, and methods that provide real-time evaluation of image composition to enable a user of an image capture device to capture images of monuments, scenes, people, events, etc. that are of optimal composition and quality. The image capture device may be configured to analyze the composition of the images captured by the image capture device and to provide guidance to aid the user for capturing well-composed images. The image capture device may generate suggestions or feedback for improving the quality of the composition of captured images. The suggestion may instruct the user to move the position of the image capture device and/or to adjust the zoom level of the image capture device to capture images. The suggestions may be in the form of text, audio commands, image overlays (animated or static), graphical indicia (e.g., icons, arrows, or other indicia), etc. that are presented to the user either on a display screen, through a speaker, or through other output mechanism/devices. When the composition of the image (e.g., preview image) reaches a desirable level, the image capture device may no longer provide suggestions to the user or may provide an indication that an image may be captured. The user may then trigger a capture an image of the scene with the image capture device. Thus, the image capture device may enable the user to capture quality pictures or images, allowing the user to enjoy the pictures of the event, monument, scene, etc., enriching the user's experience.
- Referring now to the drawings,
FIG. 1 depicts an illustration of auser device 100, according to an example implementation. Theuser device 100 may include an image capture device or camera. Theuser device 100 may be a mobile computing device, a smartphone, a tablet personal computer (PC), a mobile phone, an augmented reality head-mounted display, a digital camera, or any other device equipped with an image capture device. The augmented reality system may be in the form of a pair of eye glasses equipped with a camera. - The
user device 100 may have a built-in or integrated display device orscreen 102 for displaying agraphical user interface 104 during an image capture process. Theuser device 100 may be configured to enable a user to launch an application on theuser device 100 which activates a camera (not shown) and displays a real-time image or preview image of the field-of-view of the camera. The real-time image may be continuously updated with new images generated from the camera, such that movement of theuser device 100 may correspond in real-time to movement of the image being captured or detected by the camera. Thus, the image being shown on thedisplay device 102 ofuser device 100 may be a real-time image (e.g., a preview image) capturing the field-of-view of the camera. The user can therefore position the camera of theuser device 100 toward a scene and immediately view an image or picture of the scene on thedisplay device 102 of theuser device 100. - Once the
user device 100 captures a preview or real-time image of a scene, theuser device 100 may be configured to analyze and/or process the preview image to determine the composition and/or quality of the preview image. Based on the analysis, theuser device 100 may be configured to provide real-time suggestions or recommendations for improving the quality of the composition of the preview image captured by theuser device 100. The suggestions may provide guidance or instructions to the user to move the position of theuser device 100 and/or to adjust the camera zoom level of theuser device 100. For example, if some of the objects in the preview image are not properly centered, theuser device 100 may suggest, in the form of guidance or feedback, adjusting the position and/or camera zoom level of theuser device 100. In some embodiments, theuser device 100 may display the suggestions on thedisplay screen 102 of theuser device 100. Some of the suggestions for adjusting the position of the user device may indicate moving the position or direction of the user device up, down, left, right, etc. Further, some of the suggestions for adjusting the camera zoom settings may include zoom in, zoom out, etc. As such, the user may move theuser device 100 or adjust the camera zoom level according to the suggestions to improve the composition of the image (e.g., preview image) being captured by theuser device 100. - The various suggestions and/or feedback provide guidance or feedback to the user for capturing optimal compositional images may be provided in different formats. For example, the suggestions may be visual, audio, or vibratory indications, such as icons, arrows, text, image overlays, etc. In one embodiment, an arrow or indicator may be displayed on the
display device 102 of theuser device 100 to provide guidance or instruction to move the position of theuser device 100 in one or more directions and/or to adjust the camera zoom level (e.g., zoom in or out) of theuser device 100. In other embodiments, the suggestions may be provided in a viewfinder of a camera. Further, the user may be provided with options to select the suggestion format thereby providing greater flexibility to the user for controlling the way the user desires to receive suggestions. - When the user moves or changes the position of the
user device 100 or adjusts the camera zoom level of the user device in accordance with the suggestions, theuser device 100 may continue to provide updated suggestions or feedback. The updated suggestions may to continue to aid or guide the user for adjusting the position of theuser device 100 and/or adjusting the camera zoom level to improve the composition of the image (e.g., preview image) being captured by theuser device 100. Once theuser device 100 no longer provides a suggestion or indication that a well-composed image may be captured, the user may press a button or activate a camera application to capture an improved image of the scene. As a result, theuser device 100 may enable a user, even an amateur user of a camera, to capture quality pictures or images. -
FIGS. 2 a-2 d illustrate various suggestions provided or displayed by a user device, such as theuser device 100 ofFIG. 1 , based on the real-time images (e.g., preview image) of the field-of-view of theuser device 100. The real-time images depicted inFIGS. 2 a-2 d are exemplary and should not be considered restrictive or limiting. To capture preview images, the user may activate a camera application on theuser device 100 and may focus the camera on a real-world scene/view that is of interest to the user. When the camera application is activated, theuser device 100 may detect an image that the camera is focusing on, render the image on a display device of theuser device 100, store the image in cache memory, and send a signal to one or more modules (e.g., feedback modules) within theuser device 100 for further processing of the image. -
FIG. 2 a illustrates a screen rendition of apreview image 202 of an exemplary image of a scene captured or detected by theuser device 100. As shown inFIG. 2 a , the preview image may include a plurality of objects, such as buildings. The preview image of the scene as captured by the camera ofuser device 100 is rendered on the display device orscreen 204 of theuser device 100. During the capture of preview images, the user has merely pointed the camera of theuser device 100 at the scene and has not committed to capturing an image of the scene. - The
user device 100 may be configured to analyze or process the preview image to identify or detect features of the image. Based on the analysis, theuser device 100 may provide suggestions or feedback to improve the composition of the preview image. For example, if some of the objects in the image are non-symmetrical, incomplete, and/or too large or small, theuser device 100 may provide suggestions or feedback to guide or instruct the user to adjust the position of theuser device 100 and/or adjust the camera zoom level of theuser device 100. The suggestions may indicate or instruct the user to move theuser device 100 upward or downward, to move theuser device 100 to the left or right, to adjust angle of theuser device 100, to rotate the user device, etc. Further, the suggestions may notify or instruct a user to increase or decrease the camera zoom level (e.g., zoom in or zoom out). In some embodiments, representations of the suggestions may be provided on the display device or screen of theuser device 100 so that the user of theuser device 100 may follow the suggestions in order to obtain optimal image composition. - As illustrated in
FIG. 2 a , thesuggestion 204 may be provided by theuser device 100 in a visual format (e.g., graphical information) displayed on a portion of the display device. Thesuggestion 204 may also overlay the image. In this example, thesuggestion 204 inFIG. 2 a indicates that the user should move the user device 100 (e.g., camera) upward to capture an image of scene (i.e., the building). Based on the suggestion, the user may adjust the position of theuser device 100 to improve the composition of the captured image. In other examples, theuser device 100 may provide suggestions to the user to move theuser device 100 in other directions, such as downward, to capture the image. The suggestions may include textual information, visual information, audio information, etc. It should be noted that the various formats used for providing suggestions are exemplary and should not be considered restrictive. Other formats may be used so long as it allows the user to follow the suggested directions or guidance. - The suggestions may be determined by the
user device 100 based on a composition score of the real-time image (e.g., preview image) and composition scores of candidate images. The composite score may identify the quality of the detected or captured image and may be computed in accordance with trained models of the user device. The candidate images may be generated by simulating the capture of an image by the user device at different positions as further described below. For example, theuser device 100 may determine that the composition of the real-time image may be improved by moving theuser device 100 in a particular direction based on the candidate images. As a result, when the position of theuser device 100 is moved according to the suggestions, the composition score of a captured image may be increased. - When the user moves the
user device 100 in accordance with the suggestions, theuser device 100 may continue to display real-time images (e.g., preview images) on the display device of theuser device 100. Suggestions may also be continued to be provided on the display device or screen of theuser device 100 to guide or instruct the user to move theuser device 100 in a particular direction or to adjust the camera zoom setting of theuser device 100 to improve the composition of the image. Further, theuser device 100 may dynamically determine the composition score of the newly captured images (e.g., preview images) to account for the adjustment in the position or settings of the camera of theuser device 100. Based on the newly captured images, theuser device 100 may provide suggestions to adjust the position or the camera settings of theuser device 100. After the user moves theuser device 100 in accordance with the suggestions provided by theuser device 100, the user of may trigger the capture of an image with improved composition. -
FIG. 2 b illustrates an image displayed on a display device of theuser device 100 where the objects (e.g., people) are positioned toward the left-side of the preview image and are not fully visible. As a result, theuser device 100 may provide a suggestion 206 to guide or instruct the user to move theuser device 100 to the left to improve the composition of the captured image. The suggestion 206 provided by theuser device 100 may be in the form of graphical content. The suggestion may also be, in other embodiments, in the form of textual content, audio content, or haptic content. Further, theuser device 100 may provide suggestions to the user to move the position of theuser device 100 in any suitable direction (e.g., a right direction) and/or to increase or decrease the camera zoom level of theuser device 100. - When the user moves the
user device 100, theuser device 100 may continue to display a newly captured images (e.g., real-time or preview images) on the display device. Suggestions may also be continued to be provided on the display device of theuser device 100 during movement to guide or instruct the user to move theuser device 100 in a particular direction in order to improve the composition of the image. For example, based on the newly captured images, theuser device 100 may provide suggestions to adjust the position of theuser device 100. Further, theuser device 100 may dynamically determine the composition score of the newly captured images to account for the adjustment in the position of theuser device 100. After the user moves the user device in accordance with the suggestions provided by theuser device 100, the user of theuser device 100 may trigger the capture of an image having improved composition. -
FIG. 2 c illustrates a real-time or preview image displayed on a display device of theuser device 100 where the camera of theuser device 100 has been zoomed in too far. As a result, the objects in the image may be too big and some of the objects (e.g., people) may be only partially visible. Theuser device 100 may analyze and/or process the preview image and determine that the camera zoom level may be adjusted to improve the composition of image. Theuser device 100 may provide asuggestion 208 to notify or guide the user to decrease the camera zoom level of theuser device 100. In response, the user may adjust the camera zoom level of the user device to improve the composition of the preview image. The suggestion provided by theuser device 100 may be in the form of graphical content. In some embodiments, the suggestion may be in the form of text content, audio content, or haptic content. Further, when theuser device 100 determines that the objects in the image are too small, theuser device 100 may provide suggestions to notify or instruct the user to increase the zoom level (e.g., zoom-in) so as to allow the objects to be visible in an optimal manner. - While the user adjusts the camera zoom level of the
user device 100, theuser device 100 may continue to display a real-time or preview image on the display device. Further, theuser device 100 may also continually provide suggestions or feedback during the adjustment of the camera zoom level. Further, theuser device 100 may dynamically determine the composition score of the preview image to account for the zoom level adjustment of the camera of theuser device 100. After the user moves theuser device 100 in accordance with the suggestions provided by theuser device 100, the user may trigger the capture of an image with improved composition. -
FIG. 2 d illustrates an optimal real-time or preview image displayed on a display device of theuser device 100. When theuser device 100 analyzes and/or processes the preview image and determines that the image has an acceptable or desirable image composition, theuser device 100 may not provide a suggestion to the user. Alternatively, theuser device 100 may provide an indication to the user that the image has a desirable composition. As such, the user may trigger the capture of an image. -
FIG. 3 illustrates a user device orimage capture device 300 that employs a feedback module or engine for analyzing and/or processing image data of an image. Theuser device 300 may be any camera-equipped device, such as a camera (i.e., digital camera), a tablet personal computer (PC), a mobile phone, a wearable computing device (e.g., a pair of eyeglasses equipped with a camera, a head-mounted display, and/or an augmented reality display), etc. As shown inFIG. 3 , theuser device 300 may include acommunication interface 302, auser interface 304, aprocessor 306, a feedback module orengine 308,data storage 310, acache memory 312, andcamera components 314, all of which may be communicatively linked or coupled together by a system bus, network, orother connection mechanism 315. - The
communication interface 302 of theuser device 300 may function to allow theuser device 300 to communicate, using analog or digital modulation, with other devices, access networks, and/or transport networks. Thus, thecommunication interface 302 may facilitate circuit-switched and/or packet-switched communication, such as POTS communication and/or IP or other packetized communication. For instance, thecommunication interface 302 may include a chipset and antenna arranged for wireless communication with a radio access network or an access point. Also, thecommunication interface 302 may take the form of a wireline interface, such as an Ethernet, Token Ring, or USB port. Thecommunication interface 302 may also take the form of a wireless interface, such as a Wifi, BLUETOOTH®, global positioning system (GPS), or wide-area wireless interface (e.g., WiMAX or LTE). However, other forms of physical layer interfaces and other types of standard or proprietary communication protocols may be used over thecommunication interface 402. Furthermore, thecommunication interface 402 may comprise multiple physical communication interfaces (e.g., a Wifi interface, a BLUETOOTH® interface, and a wide-area wireless interface). - The
user interface 304 of theuser device 300 may function to allow theuser device 300 to interact with a human or non-human user, such as to receive input from a user and to provide output to the user, such as suggestions and/or feedback to aid or instruct a user to move the position of theuser device 300 and/or to adjust a camera zoom level of theuser device 300 to captured images with improved composition. Theuser interface 304 may include input components such as a keypad, keyboard, touch-sensitive or presence-sensitive panel, computer mouse, trackball, joystick, microphone, still camera and/or video camera. Theuser interface 304 may also include one or more output components such as a display screen (which, for example, may be combined with a touch-sensitive panel), CRT, LCD, LED, a display using DLP technology, printer, light bulb, and/or other similar devices, now known or later developed. Theuser interface 304 may also be configured to generate audible output(s), via a speaker, speaker jack, audio output port, audio output device, earphones, and/or other similar devices, now known or later developed. In some embodiments, theuser interface 304 may include software, circuitry, or another form of logic that can transmit data to and/or receive data from external user input/output devices. Additionally or alternatively, theuser device 300 may support remote access from another device, via thecommunication interface 302 or via another physical interface (not shown). - In some embodiments, the
user interface 304 of theuser device 300 may include a display device or screen configured to display real-time or preview images captured by theuser device 300. Theuser interface 304 may also serve as a viewfinder for still camera and/or video camera functions supported by theuser device 300. Additionally, theuser interface 104 may include one or more buttons, switches, knobs, and/or dials that facilitate the configuration and focusing of a camera function and the capturing of images (e.g., capturing a picture). In some implementations, some or all of these buttons, switches, knobs, and/or dials are implemented as functions on a touch or proximity sensitive panel. - The
processor 306 of theuser device 300 may comprise one or more general purpose processors (e.g., microprocessors) and/or one or more special purpose processors (e.g., DSPs, GPUs, FPUs, network processors, or ASICs). Theprocessor 306 may be capable of executing program instructions 316 (e.g., compiled or non-compiled program logic and/or machine code) stored in thedata storage 308 to carry out the various functions described herein. - The
data storage 310 of theuser device 300 may include one or more volatile and/or non-volatile storage components, such as magnetic, optical, flash, or organic storage, and may be integrated in whole or in part with theprocessor 306. Thedata storage 310 may include removable and/or non-removable components. Further, thedata storage 310 may include a non-transitory computer-readable medium, having stored thereon program instructions that, upon execution byuser device 300, cause theuser device 300 to carry out any of the methods, processes, techniques, and/or functions disclosed in this specification and/or the accompanying drawings. The execution of theprogram instructions 316 by theprocessor 306 may result in theprocessor 306 usingdata 318. - By way of example, the
program instructions 316 may include an operating system 320 (e.g., an operating system kernel, device driver(s), and/or other modules) and one or more application programs 322 (e.g., address book, email, web browsing, social networking, and/or gaming applications) installed onuser device 300. Similarly, thedata 318 may includeoperating system data 324 andapplication data 326. Theoperating system data 324 may be accessible primarily to theoperating system 320, and theapplication data 326 may be accessible primarily to one or more ofapplication programs 322. Theapplication data 326 may be arranged in a file system that is visible to or hidden from a user of theuser device 300. - The
application programs 322 may communicate with theoperating system 320 through one or more application programming interfaces (APIs). These APIs may facilitate, for instance, theapplication programs 322 reading and/or writing theapplication data 326, transmitting or receiving information via thecommunication interface 302, receiving or displaying information on theuser interface 304, and so on. - In some vernaculars, the
application programs 322 may be referred to as “apps” for short. Additionally, theapplication programs 322 may be downloadable to theuser device 300 through one or more online application stores or application markets. However, theapplication programs 322 can also be installed on theuser device 300 in other ways, such as via a web browser or through a physical interface (e.g., a USB port) on theuser device 300. - The
cache memory 312 of theuser device 300 may be used as temporary storage for data that is currently being processed by theprocessor 306 or thefeedback module 308, frequently used data, and data that has not yet been committed to memory. Thecache memory 312 may be constructed from a volatile or nonvolatile memory. - The
camera components 314 of theuser device 300 may include, but are not limited to, an aperture, shutter, recording surface (e.g., photographic film and/or an image sensor), lens, and/or shutter button. Thecamera components 314 may be controlled at least in part by software executed by theprocessor 306. Further, thecamera components 314 may include multiple camera systems, which each include an aperture, shutter, recording surface lens, image sensor, processor, and/or shutter button. - The feedback module or
engine 308 of theuser device 300 may generate feedback or suggestions to guide or instruct a user to adjust the positon and/or camera zoom level of theuser device 300 to improve the image composition of captured images. Thefeedback module 308 may comprise one or more general purpose processors (e.g., microprocessors) and/or one or more special purpose processors (e.g., DSPs, GPUs, FPUs, network processors, or ASICs). In some embodiments, thefeedback module 308 may be integrated with theprocessor 306. Thefeedback module 308 may be capable of executing program instructions 316 (e.g., compiled or non-compiled program logic and/or machine code) stored in thedata storage 308 to carry out the various functions described herein. - The
feedback module 308 of the user device may include a composition model 330 (e.g., scoring model) and an adjustment model 332 (e.g., adjustment prediction model). Thecomposition model 330 of theuser device 300 may compute composition scores or measurements that identify a rating or quality of the composition of the images captured or detected by the user device 300 (e.g., real-time or preview images). For example, thecomposition model 330 may rate the composition quality of an image (e.g., preview image). Further, thecomposition model 330 may generate pseudo or estimated ground truth for tasks or operation implemented by theadjustment model 332 as further described below. In some embodiments, thecomposition model 330 may be implemented on another device or platform and may train the adjustment model as further described below. - As shown in
FIG. 4 , thecomposition model 330 receives animage 402 from a camera of theuser device 300 and generates a plurality ofcandidate images 404 based on the receivedimage 402. Thecandidate images 404 may be generated by simulating the capturing of the receivedimage 402 at different camera positions and/or movements of theuser device 300. For example, thecomposition model 330 may slide awindow 406 having the same dimensions (e.g., same size) as theimage 402 across subsets or portions of the receivedimage 402 to generate thecandidate images 404. In one embodiment, thecandidate images 404 may be generated by simulating movements of the user device (e.g., up, down, right, and left) by a determined percentage or distance for capturing the received image. Thus, each candidate image may include a subset or portion of the receivedimage 402. The remaining portions of the candidate image may be synthesized. For example, pixels of the candidate image beyond or outside the receivedimage 402 may be zero-padded as further described below. Further, the candidate images may also be generated by simulating adjustments of the camera zoom level (e.g., zoom in or out) by a determined percentage or distance for capturing the received image. Thecomposition model 330 may score the composition quality of each candidate image and may select a candidate image from the candidate images having the highest composition score as the pseudo or estimate ground truth. The candidate image having the highest composite score has the best composition quality of the candidate images and may be outputted to theadjustment model 332, The composite scores generated by thecomposition model 330 may be used to train theadjustment model 332. - The
composition model 330 may be implemented using one or more machine-learning models or neural network architectures. For example, thecomposition model 330 may be implemented using a convolutional neural network (CNN) architecture, such as MobileNet. A MobileNet may be based on an architecture that uses depth wise separable convolutions to build light weight deep neural networks. In one implementation, thecomposition model 330 includes one or more convolution layers, a spatial pyramid pooling layer (e.g., 1×1, 2×2, and pooling layers), and three fully connected (FC) layers. The first and second FC layers may have 1,024 nodes with a rectified linear activation function (ReLU) and the third FC layer may have one node with sigmoid activation. The third FC layer may be utilized to output the pseudo or estimated ground truth data. - The
composition model 330 may be trained to learn a hierarchy of composition information based on feature information of the training images. Because the goal of a composition model Mc is to compare the results (e.g., candidate images) of different camera movements, the composition model Mc may be trained using a pairwise ranking loss function. In this approach, let a positive image and negative image (Ip, In) be an image pair capturing the same scene where the positive image Ip has a better composition than the negative image In. The composition model Mc is trained by minimizing the hinge loss: -
L=max(0,δ+M c(I n)−M c(I p)) (1) - where Mc(I)∈R is the rating for image I by Mc and δ is a given margin. The ground truth for the composition model Mc may be a binary label for each image pair and may be easier to obtain compared with a motion label. In fact, the binary label may be generated from existing datasets without additional manual effort.
- In some implementations, supervised data may be used for training the composition model Mc to improve image composition. For example, image cropping datasets may be used for training the composition model Mc. Most existing image cropping datasets contain annotations in one of the two following formats. The first format provides relative annotations between candidate crops. Given a list of N candidate crops in an image, a relative score may be annotated for each crop that ranks the candidate crops based on their quality. This may lead to (N*(N−1))/2 image pairs with relative quality annotation, and these image pairs may be directly used for training the composition model Mc. In each training iteration, N candidate crops may be sampled from one image and the ranking loss may be averaged over the (N*(N−1))/2 pairs as loss L1.
- The second format of the annotation provides the best crop for each image. Let (cx, cy, w, h) be the best crop represented as a bounding box in the image, where (cx, cy) and (w, h) are the bounding box center and dimension respectively. Assuming that the ground truth crop has the optimal composition locally, the ground truth crop may be taken as the positive image Ip. The negative image In may be generated by perturbing the bounding box:
-
(cx+w*o x ,c y +h*o y ,w+w*o z ,h+h*o z (2) - where ox, oy, oz are the magnitude of vertical shift, horizontal shift, and zooming perturbation respectively. In each training iteration, N images and perturbations may be sampled to generate N image pairs and their average ranking loss Lp may be computed. The perturbation may be restricted such that the negative image In is a crop inside the image.
- While the annotation for cropping may be easier to obtain compared with annotation for camera movement, collecting the annotation may still time consuming and costly. Existing image cropping datasets may contain around 1 k-10 k images, which may be much smaller than datasets designed for tasks such as object detection or scene recognition. To increase the number of training data, unsupervised data may also be used for training the composition model. For example, images or photos taken by professional photographers may be used to train the composition model. These photos are usually well-composed and can be easily collected from the internet at scale.
- Similar to generating image pairs from the ground truth crop, the well-composed image may be designated as the positive image and a random perturbation may be applied to generate the negative image. The well-composed image may be transformed into a crop by setting (cx, cy) and (w, h) to the image center and dimension respectively. The crop may be then randomly perturbed using Equation 2 above in order to generate the negative image In. Unlike the supervised data, however, the perturbed crop may be allowed to go beyond the well-composed image where the pixels beyond the original image are zero-padded. N image pairs may be generated from N well-composed photos in each iteration and their average ranking loss Lu may be computed. The composition quality model may be trained on the supervised and unsupervised data jointly by minimizing the loss:
-
L=L l +L p +L u +L reg (3) - where Lreg is the L2 regularization.
- Because some negative images or samples in the unsupervised data may contain pixels that are not in the original or input image, the composition model Mc may give a low score to any image that contains zero-padded pixels regardless of the content. As a result, the model may prefer camera movements that reduce the field-of-view of the original image, i.e. move forward, zoom in, etc. To address this problem, two data augmentations may be introduced for the composition model Mc. Let si be a random number in [0.0, 0.5] for i∈{x, y, z}. The first augmentation may randomly choose sy*h rows either at the top or bottom and sx*w columns at the left or right of the image and may replace the pixel values in the selected columns and rows with zero.
- Similarly, the second augmentation randomly may choose sz*h rows and sz*w columns at both sides of the image and may replace the pixel values with zero. One of the two augmentations may be randomly applied to the positive samples in the unsupervised data and all samples in the supervised data. The two augmentations may introduce the same zero-padding patterns as that caused by the shifting and zooming perturbation respectively and reduce the bias in the composition model Mc.
- The
adjustment model 332 of thefeedback module 308 determines whether a suggestion should be provided to a user of theuser device 300. Theadjustment model 332 may also determine movements of theuser device 300 to improve the composition of the captured or detected images (e.g., real-time or preview images). Further, theadjustment model 332 may also determine adjustments to the camera zoom setting of the user device to improve the composition of captured or detected images. - The
adjustment model 332 may be implemented using a machine-learning model or a neural network architecture. For example, theadjustment model 332 may be implemented using a convolutional neural network architecture, such as a MobileNet. In one implementation, theadjustment model 332 includes one or more convolution layers, a spatial pyramid pooling layer (e.g., 1×1, 2×2, and 5×5 pooling layers), and three fully connected (FC) layers. The first and second FC layers have 1,024 nodes with ReLU activation and the third FC layer has one node with sigmoid activation. The composite scores generated by thecomposition model 330 may be used to train theadjustment model 332. - As shown in
FIG. 5 , theadjustment model 332 receives an image 502 (e.g., a real-time or preview image) captured or detected by a camera of the user device and processes the image to generate a plurality of outputs. Theadjustment model 332 may perform or implement three sub-tasks orpredictions 504. For example, the adjustment model may perform afirst sub-task 506 that determines whether theadjustment model 332 should provide a suggestion or not. The suggestion may be triggered (i.e., ys T=1) if there exists a candidate camera movement (e.g., a candidate image) that will improve the composition of the image. Therefore, a binary predictor for ys T∈{0, 1} may be defined using a hinge loss: -
L s =L hinge(y s T ,y s) (4) - Given that the
adjustment model 332 should provide a suggestion, theadjustment model 332 may perform a second sub-task that determines which camera movement should be suggested. Assume that there exists M candidate camera movements and let yd T∈{0, 1}M be the indicator vector for the target camera movement. A camera movement predictor is learned as a multi-class classifier with loss function: -
L d =y s T L cross-entropy(y d T ,y d) (5) - where yd∈RM represents the predicted probability of each candidate movements. Finally, the
adjustment model 332 may perform a third sub-task that determines the magnitude of the camera movement and learns a regression function using L1 loss: -
- where yT m,i is the magnitude of candidate movement i. Further, a regression function may be learned for each candidate movement.
- In this example, six candidate camera movements may be targeted, i.e. move left/right/up/down and zoom in/out, and M may be equal to 6 (e.g., M=6). The predictors for ys, yd, ym may be learned as three readout heads on top of a shared CNN backbone and they may be train jointly by optimizing the loss:
-
L=L s +L d +L m +L reg (7) - Next, the target labels ys T, yd T, ym T may be generated using the composition model Mc. In this approach, let I0 be the original image and a for Oi={1 . . . M} be the candidate camera movements. Each Oi may be applied to I0 with magnitudes mj and the result Ii,j may be synthesized. Ii,j may be synthesized using the same method as distorting the well-composed image as described above. Next, the composition model Mc may be evaluated on each Ii,j and find the one with the optimal composition quality:
-
(i max ,j max)=argmaxMc(I i,j). (8) - where ys T is defined as:
-
y s T =I[M c(I imax,jmax)−M c(I 0)≥Δ] (9) - for a given threshold Δ. Further, yd T and ym T may be defined accordingly:
-
- As such, the suggestion may be triggered only if the composition quality improves more than selected amount (e.g., a threshold amount), and the composition model Mc suggests the movement and magnitude that leads to the maximum improvement on the estimated composition quality. While it is possible to generate the suggestion using the
composition model 330, it requires synthesizing and evaluating thecomposition model 330 on multiple images and incurs a high computational cost at test time. The computational cost increases linearly with respect to the number of candidate movements and sampled magnitudes. Because the suggestion is provided while users are composing photos, it may be important to reduce the computational cost so that thecomposition model 330 and/or theadjustment model 332 can run in real time on peripheral devices, such as theuser device 100 ofFIG. 1 or theuser device 300 ofFIG. 3 . -
FIG. 6 illustrates example aspects of amethod 600 for enabling a user of an image capture device (e.g., user device) to capture images of monuments, scenes, people, events, etc. that are of optimal composition and quality. Themethod 600 may analyze the composition of the images captured by the camera of the user device and provide suggestions or feedback to a user to capture images having improved image composition. Themethod 600 represents an example method that may include one or more operations as depicted by one or more blocks 602-608, each of which may be carried out by any of the embodiments shown inFIGS. 1 and 3 , among other possible embodiments. In an example implementation, a user device or image capture device (e.g., auser device 100 or user device 300) performs the illustrated operations, although in other implementations, one or more other systems can perform some or all of the operations. - Those skilled in the art will understand that the flow diagrams or charts described herein illustrates functionality and operations of certain implementations of the present disclosure. In this regard, each block of the flow diagrams may represent a module, a segment, or a portion of program code, which includes one or more instructions executable by one or more processors for implementing specific logical functions or steps in the processes. The program code may be stored on any type of computer readable medium, for example, such as a storage device including a disk or hard drive.
- In addition, each block may represent circuitry that is wired to perform the specific logical functions in the processes. Alternative implementations are included within the scope of the example embodiments of the present application in which functions may be executed out of order from that shown or discussed, including substantially concurrent or in reverse order, depending on the functionality involved, as would be understood by those reasonably skilled in the art. Within examples, any system may cause another system to perform one or more of the operations (or portions of the operations) described below.
- Referring now to
FIG. 6 , themethod 600 may be used to improve the composition of images captured by a camera of the user device, such as the user device100 ofFIG. 1 . The user device may include a mobile device, such as a mobile phone, a tablet PC, a digital camera, a smart phone, or an augmented reality system, such as eye-glasses equipped with a camera. To capture images, the user of the user device may launch an application which activates the camera of the user derive. The camera may be configured to detect or capture real-time or preview images of a scene. - The preview images may be stored in a cache memory and rendered on a display device or screen of the user device. The user can therefore position the camera of the user device toward a scene and immediately view a picture of the scene on the display device of the user device. Thus, the preview image that is rendered on the display device may be a result of the camera being directed toward a scene or object of interest. The preview image may be continuously updated with new images from the camera of the user device, such that movement of the user device corresponds in real-time to movement of the image being detected or captured by the camera of the user device. As a result, the image being shown on the display device of the user device may be a real-time or preview image.
- At
block 602, the first preview image (e.g., a real-time image) may be received by a processing device of the user device. Atblock 604, the preview image may be processed using a first machine learning model to determine at least one direction to move the user device based on a composition score of the first preview image and at least one composition score of a plurality of candidate images. The first machine learning model be configured to analyze and/or process the first preview image for improving the composition of the image. The first machine learning model may compute a composition score that identifies a rating or quality of the composition of images captured or detected by the user device (e.g., real-time or preview images). For example, the first machine learning model may rate the composition quality of the first preview image. - Further, the first machine learning model may determine a composite score for a plurality of candidate images. Each of the plurality of candidate images may represent a simulated image of the preview image captured at different positions by the user device. Based on the composite score of the first preview image and the composition scores of the candidate images, the user device may determine whether to provide a suggestion to instruct the user to adjust a position or a setting of a user device. For example, the first machine learning model may evaluate and/or compare the composition score of preview image with the composition scores of each of the composition scores of the plurality of candidate images. Based on the comparison, the first machine learning model may provide an output to cause the user device to generate a suggestion to indicate that the image composition may be improved by adjusting the position or the camera settings of the user device. For example, the user device may provide a suggestion to the user to guide or instruct a user to move the user device in a particular direction or to adjust the camera zoom setting of the user device. The suggestions may be in the form of text, audio command, image overlays (animated or static), etc. that is presented to the user either on the display screen, through a speaker or through other input mechanism/devices.
- In response to the suggestions to adjust the position or camera setting provided by the user derive, the user may elect to follow the suggestion or choose to ignore the suggestion. When the user elects to follow the suggestion, the user device may detect movement of the user device at
block 606. The movement of the user device may be detected by the one or more sensors in the user device. - At
block 608, the first machine learning model receives a second preview image of the scene after movement of the user device. For example, the first machine learning model may receive a new or updated image for the image that was originally rendered on a display device of the user device and may render the new image on the display device. At a result, the original image that was rendered may be discarded and the first machine learning module may begin to examine the new image for quality. Thus, in some embodiments, the user device may have to go through few iterations of adjustment the position and/or the setting of the user device before the preview or detected image meets an acceptable or particular quality for capturing of the image. The process may continue until the user device determines that no more adjustment are needed. - Once the first machine learning model determines that the prove image is of an acceptable composition, the user device may provide an informative message that is rendered on the display screen informing the user to proceed with the capturing of the image. In other embodiments, the user device may stop displaying a suggestion when the preview image is of an acceptable composition. In response, the user may trigger the capture of an image. The captured image may be saved in memory and may be accessed by a user over time. The resulting image is optimal in quality and composition, when the user follows the suggestions.
- The various embodiments solve the problem associated with the capturing of mediocre images. Further, the various embodiments provide a novice or non-experienced user to take quality images of monuments, events, etc. It will be appreciated that the steps shown in
FIG. 6 are meant to illustrate a method in accordance with example embodiments. As such, various steps could be altered or modified, the ordering of certain steps could be changed, and additional steps could be added, while still achieving the overall desired operation. The method can be performed by a client device, or by a server, or by a combination of a client device and a server. The method can be performed by any suitable computing device(s). - An illustrative embodiment has been described by way of example herein. Those skilled in the art will understand, however, that changes and modifications may be made to this embodiment without departing from the true scope and spirit of the elements, products, and methods to which the embodiment is directed, which is defined by the claims.
-
FIG. 7 is a schematic diagram of a computer program, according to an example implementation. In some implementations, the disclosed methods may be implemented as computer program instructions encoded on a non-transitory computer-readable storage media in a machine-readable format, or on other non-transitory media or articles of manufacture. - In an example implementation,
computer program product 700 is provided using signal bearing medium 702, which may include one ormore programming instructions 704 that, when executed by one or more processors may provide functionality or portions of the functionality described above with respect toFIGS. 1-6 . In some examples, the signal bearing medium 702 may encompass a non-transitory computer-readable medium 706, such as, but not limited to, a hard disk drive, a CD, a DVD, a digital tape, memory, components to store remotely (e.g., on the cloud) etc. In some implementations, the signal bearing medium 702 may encompass a computer recordable medium 708, such as, but not limited to, memory, read/write (R/W) CDs, R/W DVDs, etc. In some implementations, the signal bearing medium 702 may encompass a communications medium 710, such as, but not limited to, a digital and/or an analog communication medium (e.g., a fiber optic cable, a waveguide, a wired communications link, a wireless communication link, etc.). Similarly, the signal bearing medium 702 may correspond to a remote storage (e.g., a cloud). A computing system may share information with the cloud, including sending or receiving information. For example, the computing system may receive additional information from the cloud to augment information obtained from sensors or another entity. Thus, for example, the signal bearing medium 702 may be conveyed by a wireless form of the communications medium 710. - The one or
more programming instructions 704 may be, for example, computer executable and/or logic implemented instructions. In some examples, a computing device such as theuser system 100 ofFIG. 1 and theuser device 300 ofFIG. 3 may be configured to provide various operations, functions, or actions in response to theprogramming instructions 704 conveyed to the computing device by one or more of the computer readable medium 706, the computer recordable medium 708, and/or the communications medium 710. - The non-transitory computer readable medium could also be distributed among multiple data storage elements and/or cloud (e.g., remotely), which could be remotely located from each other. The computing device that executes some or all of the stored instructions could be another computing device, such as a server.
- Example methods, systems, and apparatus are described herein in accordance with one or more aspects associated with improving the composition of captured images. Generally, any of the components, modules, methods, and operations described herein can be implemented using software, firmware, hardware (e.g., fixed logic circuitry), manual processing, or any combination thereof. Some operations of the example methods may be described in the general context of executable instructions stored on computer-readable storage memory that is local and/or remote to a computer processing system, and implementations can include software applications, programs, functions, and the like. Alternatively or in addition, any of the functionality described herein can be performed, at least in part, by one or more hardware logic components, such as, and without limitation, Field-programmable Gate Arrays (FPGAs), Application-Specific Integrated Circuits (ASICs), Application-Specific Standard Products (ASSPs), System-on-a-Chip systems (SoCs), or Complex Programmable Logic Devices (CPLDs).
- Further, the above detailed description describes various features and operations of the disclosed systems, apparatus, and methods with reference to the accompanying figures. While various aspects and embodiments have been disclosed herein, other aspects and embodiments will be apparent. The various aspects and embodiments disclosed herein are for purposes of illustration and are not intended to be limiting, with the true scope being indicated by the following claims.
Claims (20)
1. A method comprising:
receiving, by a processing device of a user device, a first preview image of a scene;
processing the first preview image using a first machine learning model to determine at least one direction to move the user device based on a composition score of the first preview image and at least one composition score of a plurality of candidate images;
detecting, using the processing device, movement of the user device; and
receiving, by the processing device, a second preview image of the scene after movement of the user device.
2. The method of claim 1 , wherein the at least one direction corresponds to an upward direction, a downward direction, a right direction, a left direction, a rotational direction, or any combination thereof.
3. The method of claim 1 , wherein each of the plurality of candidate images comprise a simulated image of the first preview image based on a position of the user device.
4. The method of claim 3 , wherein each of the plurality of candidate images include a portion of the first preview image.
5. The method of claim 1 , wherein the at least one direction is determined based on a candidate image of the plurality of candidate image having a highest composition score.
6. The method of claim 1 , wherein the first machine learning model is trained using a second machine learning model, wherein the second machine learning model processes a training image to generate a plurality of simulated training images, each of the plurality of simulated training images including a portion of the training image.
7. The method of claim 6 , wherein the second machine learning model selects a simulated training image from the plurality of simulated training images, the simulated training image having a highest composite score.
8. The method of claim 7 , wherein the second machine learning model selects the highest composite score of the selected simulated training image as estimated ground truth data.
9. The method of claim 8 , wherein the first machine learning model is trained with the estimated ground truth data.
10. The method of claim 1 , wherein processing the first preview image using the first machine learning model further comprises causing a suggestion to be provided by the user device.
11. The method of claim 10 , wherein the suggestion is provided based on a comparison of the composition score of the first preview image with each of composition score of the plurality of candidate images.
12. The method of claim 10 , wherein the suggestion is provided when at least one of the composite scores of the plurality of candidate images exceeds a composition score of the first preview image by a threshold value.
13. The method of claim 10 , wherein the suggestion comprises audio information, visual information, graphical information, tactile information, or any combinations thereof.
14. The method of claim 10 , further comprising displaying a representation of the suggestion on a display device of the user device.
15. The method of claim 10 , wherein the suggestion indicates an adjustment to a camera zoom level of the user device, at least one direction to move or rotate the user device, or a combination thereof.
16. The method of claim 1 , wherein the first machine learning model comprises a convolution neural network.
17. The method of claim 16 , wherein the convolution neural network comprising one or more convolution layers, one or more pooling layers, or one or more fully connective layers.
18. The method of claim 1 , wherein the user device comprises a mobile phone, a camera, a smartphone, a tablet personal computer, or eye glasses equipped with a camera.
19. An apparatus comprising:
memory;
an image sensor; and
one or more processors configured to:
receive a first preview image of a scene;
process the first preview image using a first machine learning model to determine at least one direction to move the user device based on a composition score of the first preview image and at least one composition score of a plurality of candidate images;
detect movement of the user device; and
receive a second preview image of the scene after movement of the user device.
20. A non-transitory computer-readable medium storing instructions, the instructions being executable by one or more processors to perform functions comprising:
receiving a first preview image of a scene;
processing the first preview image using a first machine learning model to determine at least one direction to move the user device based on a composition score of the first preview image and at least one composition score of a plurality of candidate images;
detecting movement of the user device; and
receiving a second preview image of the scene after movement of the user device.
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US18/251,655 US20230421888A1 (en) | 2020-11-16 | 2021-11-15 | Systems, Apparatus, and Methods for Improving Composition of Images |
Applications Claiming Priority (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US202063114329P | 2020-11-16 | 2020-11-16 | |
PCT/US2021/059325 WO2022104181A1 (en) | 2020-11-16 | 2021-11-15 | Systems, apparatus, and methods for improving composition of images |
US18/251,655 US20230421888A1 (en) | 2020-11-16 | 2021-11-15 | Systems, Apparatus, and Methods for Improving Composition of Images |
Publications (1)
Publication Number | Publication Date |
---|---|
US20230421888A1 true US20230421888A1 (en) | 2023-12-28 |
Family
ID=78844731
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US18/251,655 Pending US20230421888A1 (en) | 2020-11-16 | 2021-11-15 | Systems, Apparatus, and Methods for Improving Composition of Images |
Country Status (2)
Country | Link |
---|---|
US (1) | US20230421888A1 (en) |
WO (1) | WO2022104181A1 (en) |
Families Citing this family (1)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN115103126A (en) * | 2022-07-22 | 2022-09-23 | 维沃移动通信有限公司 | Shooting preview method and device, electronic equipment and storage medium |
Family Cites Families (4)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US9262696B2 (en) * | 2013-10-30 | 2016-02-16 | Intel Corporation | Image capture feedback |
EP3496386A4 (en) * | 2016-11-24 | 2019-07-03 | Huawei Technologies Co., Ltd. | Guiding method and device for photography composition |
US10516830B2 (en) * | 2017-10-11 | 2019-12-24 | Adobe Inc. | Guided image composition on mobile devices |
KR102438201B1 (en) * | 2017-12-01 | 2022-08-30 | 삼성전자주식회사 | Method and system for providing recommendation information related to photography |
-
2021
- 2021-11-15 US US18/251,655 patent/US20230421888A1/en active Pending
- 2021-11-15 WO PCT/US2021/059325 patent/WO2022104181A1/en active Application Filing
Also Published As
Publication number | Publication date |
---|---|
WO2022104181A1 (en) | 2022-05-19 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
KR102631309B1 (en) | Method and system for providing recommendation information related to photography | |
US11470385B2 (en) | Method and apparatus for filtering video | |
AU2017254848B2 (en) | Image matting using deep learning | |
KR20230141688A (en) | method and device for adjusting an image | |
WO2018013495A1 (en) | Augmented reality methods and devices | |
US10970546B2 (en) | Method and apparatus for providing information regarding virtual reality image | |
CN111492374A (en) | Image recognition system | |
US10705720B2 (en) | Data entry system with drawing recognition | |
KR20230021144A (en) | Machine learning-based image compression settings reflecting user preferences | |
US11468571B2 (en) | Apparatus and method for generating image | |
US20230421888A1 (en) | Systems, Apparatus, and Methods for Improving Composition of Images | |
Xiong et al. | Snap angle prediction for 360 panoramas | |
US9665249B1 (en) | Approaches for controlling a computing device based on head movement | |
US10585485B1 (en) | Controlling content zoom level based on user head movement | |
US20190251355A1 (en) | Method and electronic device for generating text comment about content | |
US20240143077A1 (en) | Machine Learning Based Forecasting of Human Gaze | |
US11734888B2 (en) | Real-time 3D facial animation from binocular video | |
CN115623313A (en) | Image processing method, image processing apparatus, electronic device, and storage medium | |
US20240053873A1 (en) | Dynamic Carousel Interface | |
US20240062392A1 (en) | Method for determining tracking target and electronic device | |
WO2024076676A2 (en) | Image saliency based smart framing | |
WO2024076617A1 (en) | Methods for determining regions of interest for camera auto-focus | |
WO2024076362A1 (en) | Stabilized object tracking at high magnification ratios | |
WO2023114686A1 (en) | Co-training of action recognition machine learning models | |
KR20240066796A (en) | Electronic device and Method for controlling the electronic device thereof |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
STPP | Information on status: patent application and granting procedure in general |
Free format text: DOCKETED NEW CASE - READY FOR EXAMINATION |