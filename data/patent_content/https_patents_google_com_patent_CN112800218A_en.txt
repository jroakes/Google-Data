CN112800218A - Automatically augmenting message exchange topics based on message classification - Google Patents
Automatically augmenting message exchange topics based on message classification Download PDFInfo
- Publication number
- CN112800218A CN112800218A CN202110053943.0A CN202110053943A CN112800218A CN 112800218 A CN112800218 A CN 112800218A CN 202110053943 A CN202110053943 A CN 202110053943A CN 112800218 A CN112800218 A CN 112800218A
- Authority
- CN
- China
- Prior art keywords
- message
- message exchange
- score
- search query
- topic
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Pending
Links
- 230000003190 augmentative effect Effects 0.000 title abstract description 9
- 230000004044 response Effects 0.000 claims abstract description 89
- 238000000034 method Methods 0.000 claims abstract description 44
- 238000010801 machine learning Methods 0.000 claims description 49
- 238000012549 training Methods 0.000 claims description 22
- 230000015654 memory Effects 0.000 claims description 8
- 238000010348 incorporation Methods 0.000 description 8
- 230000009471 action Effects 0.000 description 6
- 230000006870 function Effects 0.000 description 6
- 230000008569 process Effects 0.000 description 6
- 238000004891 communication Methods 0.000 description 5
- 239000000463 material Substances 0.000 description 5
- 238000012545 processing Methods 0.000 description 5
- 238000005516 engineering process Methods 0.000 description 4
- 230000036651 mood Effects 0.000 description 4
- 238000010586 diagram Methods 0.000 description 3
- 210000002409 epiglottis Anatomy 0.000 description 3
- 230000000007 visual effect Effects 0.000 description 3
- 230000007246 mechanism Effects 0.000 description 2
- 230000002093 peripheral effect Effects 0.000 description 2
- 230000000153 supplemental effect Effects 0.000 description 2
- 230000001960 triggered effect Effects 0.000 description 2
- QEVHRUUCFGRFIF-UHFFFAOYSA-N 6,18-dimethoxy-17-[oxo-(3,4,5-trimethoxyphenyl)methoxy]-1,3,11,12,14,15,16,17,18,19,20,21-dodecahydroyohimban-19-carboxylic acid methyl ester Chemical compound C1C2CN3CCC(C4=CC=C(OC)C=C4N4)=C4C3CC2C(C(=O)OC)C(OC)C1OC(=O)C1=CC(OC)=C(OC)C(OC)=C1 QEVHRUUCFGRFIF-UHFFFAOYSA-N 0.000 description 1
- 101100533283 Dictyostelium discoideum serp gene Proteins 0.000 description 1
- 230000004913 activation Effects 0.000 description 1
- 230000009286 beneficial effect Effects 0.000 description 1
- 230000008901 benefit Effects 0.000 description 1
- 239000003086 colorant Substances 0.000 description 1
- 238000004590 computer program Methods 0.000 description 1
- 230000000694 effects Effects 0.000 description 1
- 239000011521 glass Substances 0.000 description 1
- 238000013549 information retrieval technique Methods 0.000 description 1
- 238000009434 installation Methods 0.000 description 1
- 230000003993 interaction Effects 0.000 description 1
- 230000002452 interceptive effect Effects 0.000 description 1
- 239000004973 liquid crystal related substance Substances 0.000 description 1
- 238000013507 mapping Methods 0.000 description 1
- 238000012986 modification Methods 0.000 description 1
- 230000004048 modification Effects 0.000 description 1
- 238000003058 natural language processing Methods 0.000 description 1
- 230000006855 networking Effects 0.000 description 1
- 230000003287 optical effect Effects 0.000 description 1
- 210000000056 organ Anatomy 0.000 description 1
- 230000002085 persistent effect Effects 0.000 description 1
Images
Classifications
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F40/00—Handling natural language data
- G06F40/30—Semantic analysis
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/30—Information retrieval; Database structures therefor; File system structures therefor of unstructured textual data
- G06F16/33—Querying
- G06F16/332—Query formulation
- G06F16/3329—Natural language query formulation or dialogue systems
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/30—Information retrieval; Database structures therefor; File system structures therefor of unstructured textual data
- G06F16/35—Clustering; Classification
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/20—Information retrieval; Database structures therefor; File system structures therefor of structured data, e.g. relational data
- G06F16/24—Querying
- G06F16/242—Query formulation
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/20—Information retrieval; Database structures therefor; File system structures therefor of structured data, e.g. relational data
- G06F16/24—Querying
- G06F16/245—Query processing
- G06F16/2457—Query processing with adaptation to user needs
- G06F16/24578—Query processing with adaptation to user needs using ranking
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F18/00—Pattern recognition
- G06F18/20—Analysing
- G06F18/24—Classification techniques
- G06F18/24765—Rule-based classification
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F40/00—Handling natural language data
- G06F40/10—Text processing
- G06F40/166—Editing, e.g. inserting or deleting
- G06F40/169—Annotation, e.g. comment data or footnotes
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F40/00—Handling natural language data
- G06F40/40—Processing or translation of natural language
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06N—COMPUTING ARRANGEMENTS BASED ON SPECIFIC COMPUTATIONAL MODELS
- G06N20/00—Machine learning
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L15/00—Speech recognition
- G10L15/22—Procedures used during a speech recognition process, e.g. man-machine dialogue
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L51/00—User-to-user messaging in packet-switching networks, transmitted according to store-and-forward or real-time protocols, e.g. e-mail
- H04L51/02—User-to-user messaging in packet-switching networks, transmitted according to store-and-forward or real-time protocols, e.g. e-mail using automatic reactions or user delegation, e.g. automatic replies or chatbot-generated messages
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L51/00—User-to-user messaging in packet-switching networks, transmitted according to store-and-forward or real-time protocols, e.g. e-mail
- H04L51/06—Message adaptation to terminal or network requirements
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L51/00—User-to-user messaging in packet-switching networks, transmitted according to store-and-forward or real-time protocols, e.g. e-mail
- H04L51/06—Message adaptation to terminal or network requirements
- H04L51/063—Content adaptation, e.g. replacement of unsuitable content
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L51/00—User-to-user messaging in packet-switching networks, transmitted according to store-and-forward or real-time protocols, e.g. e-mail
- H04L51/21—Monitoring or handling of messages
- H04L51/216—Handling conversation history, e.g. grouping of messages in sessions or threads
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W4/00—Services specially adapted for wireless communication networks; Facilities therefor
- H04W4/12—Messaging; Mailboxes; Announcements
- H04W4/14—Short messaging services, e.g. short message services [SMS] or unstructured supplementary service data [USSD]
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/90—Details of database functions independent of the retrieved data types
- G06F16/95—Retrieval from the web
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/90—Details of database functions independent of the retrieved data types
- G06F16/95—Retrieval from the web
- G06F16/951—Indexing; Web crawling techniques
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L51/00—User-to-user messaging in packet-switching networks, transmitted according to store-and-forward or real-time protocols, e.g. e-mail
- H04L51/04—Real-time or near real-time messaging, e.g. instant messaging [IM]
Abstract
The present disclosure relates to automatically augmenting message exchange topics based on message classification. Methods, apparatuses, systems, and computer-readable media are provided for automatically augmenting message exchange topics based on detected callouts of messages exchanged between participants. In various implementations, messages that a participant contributes to a message exchange topic involving one or more message exchange clients may be determined. In various implementations, a chat score associated with a message may be calculated. In various implementations, a conversational response to a message or content responsive to a search query generated based on the message may be selectively incorporated into a message exchange topic based at least in part on the gossip score. In some implementations, a search query suitability score associated with the message can also be calculated.
Description
Description of the cases
The application belongs to divisional application of Chinese patent application 201611215880.X with application date 2016, 12, month 26.
Technical Field
The present disclosure relates to automatically augmenting message exchange topics based on message classification.
Background
Personal assistant modules are software processes installed on computing devices such as smart phones, tablets, vehicle navigation systems, smart watches, and general purpose computing devices (e.g., desktop computers, laptop computers) to provide a user-friendly interface to a user to issue natural language commands. Users often use their speech to issue natural language commands, but the personal assistant module may also respond to other modalities, such as various forms of text and/or image input. Users may communicate with the personal assistant modules and/or each other via message exchange topics implemented using various technologies, such as text messages, online chats (e.g., instant messages, internet relay chats, etc.), social networking topics, interactive voice responses, and so forth. The ongoing message exchange topic is typically limited to text (e.g., typed or generated from voice input) or other data, such as pictures that the user intentionally and explicitly incorporates into the message exchange topic.
Disclosure of Invention
The present disclosure relates generally to methods, apparatuses, and computer-readable media (transitory and non-transitory) for automatically augmenting message exchange topics with content responsive to search queries based on messages provided by participants in the topic. Automatically including this content in the message topic may be beneficial in that a user may not be required to manually cause a search to be performed (e.g., on a search engine or on a user device). This may reduce the amount of user device interaction and associated use of computing resources, e.g., processing resulting in, for example, changing applications and/or causing searches to be performed. However, in some instances, it may not be appropriate to include this content in the message topic, for example, when the message is not well suited as the subject of a search. Automatically including content responsive to such message-based searches in message exchange topics may not make good use of computing resources. Thus, to address this issue, the methods, apparatus, and computer-readable media described herein (transitory and non-transitory) may determine whether to automatically augment a message exchange topic with content responsive to a search query based on a classification of messages exchanged between participants. More particularly, the technology described herein relates to a participant's (directed to another participant or to a personal assistant module) contributing to a message exchange topic as a classification that is or is not appropriate for a search query, and based on that classification, automatically and selectively incorporating a response that conveys content in response to a search query generated from the participant's message. In some examples, if a message is classified as unsuitable for a so-called search query, a response that does not convey content responsive to the search query (a "chat" or "conversation" response) may be incorporated into the message topic. More specifically, messages that may contribute to a message exchange topic to a participant are assigned a first score ("chit chat score") that is an indication of how unsuitable the message is to be used as a search query, and/or a second score ("search query suitability score") that is an indication of how suitable the message is to be used as a search query. The first and second scores may be used separately or in combination to determine the classification of the message. Based on one or both scores, the message exchange topic can be automatically augmented, for example, on behalf of a personal assistant module participating in the message exchange topic.
In some embodiments, a computer-implemented method may be provided, comprising the steps of: determining, from message exchange topics involving one or more message exchange clients, messages that participants contributed to the message exchange topics; calculating a first score indicating how unsuitable a message is to be used as a search query; and selectively incorporating content responsive to a search query generated based on the message into the message exchange topic based at least in part on the first score.
In some embodiments, a computer-implemented method may be provided, comprising the steps of: determining, from message exchange topics involving one or more message exchange clients, messages that participants contributed to the message exchange topics; calculating a chat score associated with the message; and selectively incorporating, based at least in part on the gossip score, a conversational response to the message or content responsive to a search query generated based on the message into the message exchange topic.
Other embodiments of this method and technique disclosed herein may each optionally include one or more of the following features.
In various implementations, the incorporating can include inserting the response into a manifest of the message exchange topic displayed in a graphical user interface of a message exchange client operating on the given client computing device. In various implementations, calculating the chit chat score may include providing the message as input to a machine learning model, wherein the machine learning model provides the chit chat score as output. In various implementations, the machine learning model may provide as output a search query suitability score associated with the message. In various embodiments, the method may comprise: comparing the chat score to the search query suitability score; and selectively incorporating, based on the comparison, a conversational response to the message or content responsive to a search query generated based on the message into the message exchange topic.
In various implementations, a machine learning model may be trained on at least one forward training example. At least one forward training example includes an instance in which one or more participants of a previous message exchange topic, an incorporation of a conversational response to a previous message of the previous message exchange topic, or an incorporation of content in response to a previous search query generated based on the previous message, make a positive response.
In various implementations, the method can further include calculating a search result score associated with the content in response to the search query, wherein the incorporating is further based on the search result score. In various implementations, the search result score may be based at least in part on the presence of one or more surfaced search results responsive to the search query. In various implementations, the method may include calculating a search query suitability score associated with a message based at least in part on one or more known entities or entity types mentioned in the message.
Other embodiments may include a non-transitory computer-readable storage medium storing instructions executable by a processor to perform a method, such as one or more of the methods described above. Yet another implementation may include a system comprising a memory and one or more processors operable to execute instructions stored in the memory to implement one or more modules or engines that individually or collectively perform one or more of the methods, such as those described.
It should be understood that all combinations of the foregoing concepts and additional concepts described in greater detail herein are considered a part of the subject matter disclosed herein. For example, all combinations of claimed subject matter appearing at the end of this disclosure are considered part of the subject matter disclosed herein.
Drawings
FIG. 1 illustrates an environment in which content can be automatically incorporated into a message exchange topic, according to various embodiments.
Fig. 2 depicts an example process flow associated with the disclosed technology, in accordance with various embodiments.
Fig. 3 and 4 depict how an exemplary graphical user interface is affected when practicing the disclosed techniques, in accordance with various embodiments.
FIG. 5 depicts a flow diagram that illustrates an example method for augmenting an ongoing message exchange with content in accordance with various embodiments.
FIG. 6 schematically depicts an example architecture of a computer system.
Detailed Description
Fig. 1 illustrates an environment in which message exchange topics may automatically augment content based on detected "tones" (e.g., chatting on objective requests/questions) of messages exchanged between users. The example environment includes a plurality of client devices 1061-NAnd a knowledge system 102. The knowledge system 102 may be implemented in one or more computers that communicate over a network, for example. Knowledge system 102 is an example of an information retrieval system in which the systems, components, and techniques described herein can be implemented and/or interfaced with.
The user may interact with the knowledge system 102 via the client device 106. Each client device 106 may be a computer coupled to the knowledge system 102 through one or more networks 110, such as a Local Area Network (LAN) or a Wide Area Network (WAN) like the internet. Each client device 106 may be, for example, a desktop computing device, a laptop computing device, a tablet computing device, a mobile phone computing device, a computing device of a user vehicle (e.g., an in-vehicle communication system, an in-vehicle entertainment system, an in-vehicle navigation system), a standalone voice command device, or a user wearable device including a computing device (e.g., a user watch with a computing device, user glasses with a computing device). Additional and/or alternative client devices may be provided. A given user may be operating multiple computing devices that collectively form a coordinated "ecosystem" of computing devices (which may or may not be owned by the user). However, for the sake of brevity, the examples described in this disclosure will focus on a user operating a single client device 106.
Each client device 106 may operate a variety of different applications, such as a message exchange client 107 and/or a personal assistant module 109. The messaging client 107 may have various forms. In some implementations, the messaging exchange client 107 can communicate messages associated with the social network in a short messaging service ("SMS") and/or multimedia messaging service ("MMS") client, an online chat client (e.g., instant messenger or "IRC," etc.), a messaging serviceA transceiving application, an interface for communicating with a personal assistant module, etc. In some implementations, the message exchange client 107 can be implemented within a web page rendered by a web browser (not shown). In various instances, two client devices 106 operated by participants of a message exchange topic may run different message exchange clients 107, yet they use a common communication protocol to facilitate communication. For example, the client device 1061May have an SMS application distributed by a vendor of the installation, and the client device 106NMay have another SMS application distributed by another vendor installed.
As described in the background, the personal assistant module 109 may take the form of a software process installed on a given client computing device 106 to provide a user-friendly interface for a user to issue natural language commands. Personal assistant module 109 can be invoked or "woken up" by various stimuli, such as a user speaking one or more code words selected to activate personal assistant module 109. In various implementations described herein, a user may communicate with the personal assistant module 109 in a message exchange topic, e.g., using voice input, text input, etc. Further, the personal assistant module 109 can participate in a message exchange topic that involves multiple message exchange clients 107 operating on multiple client devices 106 and controlled by multiple participants. For example, and as will be described in more detail below, in response to one or more messages contributed by one or more participants to a message exchange topic, the personal assistant module 109 can automatically select and incorporate content into the message exchange topic.
Each of the client device 106 and the knowledge system 102 may include one or more memories for storing data and software applications, one or more processors for accessing data and executing applications, and other components that facilitate communication over a network. The operations performed by the client device 106 and/or the knowledge system 102 may be distributed across multiple computer systems. The knowledge system 102 may be implemented as a computer program running on one or more computers in one or more locations coupled to each other over a network, for example.
In various implementations, the knowledge system 102 can include a message exchange engine 120, a personal assistant engine 122, an indexing engine 126, an information engine 130, a ranking engine 134, and an alternative query suggestion engine 136. One or more of engines 120, 122, 126, 130, 134, and/or 136 may be omitted in some implementations. In some implementations, all or aspects of one or more of the engines 120, 122, 126, 130, 134, and/or 136 can be combined. In some implementations, one or more of the engines 120, 122, 126, 130, 134, and/or 136 can be implemented in a component separate from the knowledge system 102. In some implementations, one or more of engines 120, 122, 126, 130, 134, and/or 136, or any operational portion thereof, may be implemented in a component executed by client device 106.
In various implementations, the message exchange engine 120 may be configured to facilitate message exchange topics between a plurality of message exchange clients 107 operating on a plurality of client devices 106 controlled by a plurality of participants. For example, the message exchange engine 120 can maintain a global "record form" (transcript) that messages and other content participants exchange with each other in a message exchange topic. As used herein, a "record sheet" may refer to a live recording of text, images, sound, and/or applets exchanged and/or viewed by one or more participants in a message exchange topic. In some implementations, the record of the message exchange topic can be updated in real-time or near real-time as the participants talk. In the case where a single participant communicates with the personal assistant module 109, the record may be maintained locally by the personal assistant module 109 and/or remotely by the personal assistant engine 122.
In various implementations, the personal assistant engine 122 may include supplemental functionality for processing speech input, for example using a speech-based query processor that is based on various online acoustic/language, grammar, and/or action models that may be stored in an index. It should be appreciated that in some implementations, particularly when the majority of client devices 106 are resource constrained devices, personal assistant engine 122 may implement more complex and computing resource intensive speech processing functions local to each client device 106. It should also be understood that when actions are described herein as being performed by personal assistant module 109, it may or may not include one or more aspects of the actions performed by personal assistant engine 122.
In some implementations, multiple personal assistant engines 122 can be employed, with each personal assistant engine 122 acting as an online counterpart to one or more personal assistant modules 109. For example, in some implementations, each client device 106 in the user ecosystem can be configured to operate an instance of the personal assistant module 109 that is associated with the user (e.g., configured with the user's preferences, associated with the same interaction history, etc.). A single, user-centric online instance of the personal assistant engine 122 may be accessed by each of these multiple instances of the personal assistant module 109, depending on which device the user is operating at the time.
In some implementations, online and offline functionality may be supported, e.g., such that online functionality is used whenever the client device 106 is communicating with an online service, and offline functionality is used when there is no connection. In other embodiments, different actions or action domains may be assigned to the online and offline functions, while in other embodiments, the online function may be used only if the offline function fails to adequately process a particular voice input. However, in other embodiments, the supplemental online functionality may not be used.
The index engine 126 can maintain an index 128 for use by the knowledge system 102. The index engine 126 processes the documents and updates index entries in the index 128, for example, using conventional and/or other indexing techniques. For example, the indexing engine 126 can crawl one or more resources, such as the world wide web, and index documents accessed via such crawls. As another example, indexing engine 126 may receive information related to one or more documents from one or more resources of a network host, such as controlling such documents, and index the documents based on such information. A document is any data associated with a document address. Documents include web pages, word processing documents, Portable Document Format (PDF) documents, images, emails, calendar entries, videos, and network subscriptions, among others. Each document may include information such as, for example: content of text, images, video, sound, embedded information (e.g., meta information and/or hyperlinks); and/or embedded instructions (e.g., ECMAScript implementations such as JavaScript).
The information engine 130 can maintain another index 132, the other index 132 including or causing access to non-document specific information for use by the knowledge system 102. For example, the knowledge system 102 may be configured to return information in response to a search query that appears to seek particular information. If the user searches for "birthday of Ronald Reagan," the knowledge system 102 may receive, for example, the date "2 month 6 day 1911" from the information engine 130. This information may be returned to the user as part of a search result that is separate from the documents received from the indexing engine 126. In various embodiments, the index 132 may itself contain information, or it may be linked to one or more other sources of information, such as an online encyclopedia, an almanac, and so forth. In various implementations, the index 128 or index 132 may include a mapping between queries (or query terms) and documents and/or information.
In this specification, the terms "database" and "index" will be used broadly to refer to any collection of data. The database and/or indexed data need not be structured in any particular way, and it may be stored on storage devices in one or more geographic locations. Thus, for example, the indexes 124, 128, and 132 may include multiple data sets, each of which may be organized and accessed differently.
The ranking engine 134 can use the indexes 128 and/or 132 to identify documents and other information in response to search queries, e.g., using conventional and/or other information retrieval techniques. Ranking engine 134 can, for example, use one or more ranking signals to calculate scores for documents and other information identified as being responsive to the search query. Each ranking signal may provide information about the document or information itself, the relationship between the document or information and the search query, and/or the relationship between the document or information and the user performing the search.
The alternative query suggestion engine 136 may use one or more signals and/or other information, such as a database of alternative query suggestions (not shown) and/or information about the user of the client device 106 (e.g., search history, GPS location, user attributes), to generate alternative query suggestions to provide to the client device 106 along with any search results. As the user types in successive characters of the search query, the alternative query suggestion engine 136 may identify alternative queries that may produce results useful to the user. For example, assume that the client device 106 is located in chicago and has typed the character "restaur". The alternative query suggestion engine 136 may suggest a query "Chicago restaurants with live music" based on the location signal indicating that the client device 106 is in Chicago and the query history signal indicating the user's preference for restaurants with live music (restaurant). As another example, for a user who has typed "Ronald Reagan's birt," the alternative query suggestion engine 136 may determine and suggest alternative queries, such as "Ronald Reagan's birthday," "Ronald Reagan's birthday," or the like, for example, using techniques such as prefix matching. Other suggestions, such as spell corrected versions of partially formed search queries, may also be provided in place of the query suggestion engine 136.
In various implementations, online components, such as the message exchange engine 120 or the personal assistant engine 122, or even components local to the client device 106, such as the personal message exchange client 107 or the personal assistant module 109, may be configured to determine, from message exchange topics involving one or more message exchange clients 107, messages that participants contributed to the message exchange topic. A first score or "chatting score" (or "ICS") associated with the message may then be calculated. Based at least in part on the gossip score, a conversational response of the message or content responsive to a search query generated based on the message may then be selectively incorporated into the message exchange topic.
Messages with relatively high chat scores may be messages (directed by a participant to the personal assistant module 109 and/or another participant) that include idle chats, informal and/or trivial conversations, so-called "small conversations," subjective queries, and so forth. Such messages may be less suitable for generating search queries because content responsive to such search queries may not be particularly helpful if incorporated into a message exchange topic, for example, because the responsive content may not be particularly well focused, meaningful, and/or may not be particularly relevant to the mood of a conversation occurring on the message exchange topic. In other words, a message with a relatively high chat score may not indicate a participant's intent (explicit or implicit) to obtain external/objective information with which to augment a message exchange topic. A relatively high chat score may be assigned to the message, e.g., a participant saying to a personal assistant module or another participant in the message exchange topic, such as "hi", "hello? "," how do you think of an obama? "," what are your favorite colors? "and the like.
As described above, a participant may direct messages having a relatively high chat score at personal assistant module 109 or another participant. In various implementations, when such messages are directed to the personal assistant module 109, so-called "conversation responses" may be identified and incorporated into the message exchange topic, for example, by the personal assistant module 109 and/or the message exchange engine 120. In some implementations, a gossip score associated with a message can be computed by matching the message with a plurality of candidate message/session response pairs, for example, using a "fuzzy" search. A score may be assigned to each matching pair based on the degree to which the message matches the candidate message/conversational response pair. The chit chat score may then be determined from the candidate message/session response pair that best matches the message, e.g., has the highest score. If the chatting score satisfies one or more thresholds, or, as described below, exceeds a second or "search query suitability" score by an amount (Δ) that satisfies the one or more thresholds, it may be classified as unsuitable for use with a search query, and the conversational response from the best matching message/conversational response pair may be incorporated into the message exchange topic, e.g., by personal assistant module 109.
Messages with a relatively high ICS may also be directed by one participant in the message exchange topic to another participant instead of the personal assistant module 109. In some embodiments, similar analysis as described above may occur. However, instead of incorporating the conversation response directly into the message exchange topic, another participant may be presented with one or more graphical elements (e.g., presented buttons) that the other participant may select to cause the scripted automated response to be incorporated into the message exchange topic. In other implementations, high ICS messages between participants may simply be ignored, rather than between a participant and a personal assistant module.
Messages with relatively high search query suitability scores may be more suitable for the generation and submission of search queries, and may be classified as such, as opposed to messages with relatively high chat scores. Content responsive to one or more search queries generated from, for example, a message, may be well suited for incorporation into a message exchange topic, for example, because it may be well focused and/or relatively likely to be relevant to the mood of a conversation occurring on the message exchange topic. Examples of messages that may be assigned a relatively high search query suitability score may include messages that seek (or at least may be related to) objective information, such as "who is barake? "," what is the first mansion in maine? "do i want to know tom braidy and who married? "," which star is in the new movie? "and the like.
In some implementations, one or more machine learning models can be trained to receive one or more participant messages as input and output a chatty score and/or a search query suitability score. Based on these scores, various content can be selectively incorporated into the message exchange topic, for example for display in a record sheet presented by one or more message exchange clients operated by participants in the topic, or audibly output, for example, through a separate voice command device. In some implementations, if the chit chat score is sufficiently greater than the suitability of the search query score, and/or if the chit chat score satisfies a predetermined threshold, the conversation response associated with the message/conversation response pair that best matches the message may be incorporated into the topic. For example, if the user says "hello," the conversational response may be "hi" or "ask you for" or "the user may speak" the conversation. Otherwise, content responsive to a search query generated based on the message may be incorporated into the message exchange topic.
In some implementations, one or more machine learning models can be trained using a corpus of messages obtained from one or more previous message exchange topics. For example, one or more previous instances of participant messages that triggered the incorporation of content into the message exchange topic may be analyzed. Negative training examples may include instances in which content is incorporated into a message exchange topic (e.g., on behalf of a personal assistant module), but the content is rejected (or at least ignored) by one or more participants (e.g., a participant suddenly changes theme as detected). The forward training example may be an instance where the participant responds positively to the incorporated content, for example by directing subsequent sessions in a similar direction and/or asking subsequent questions. In some implementations, only positive training examples and/or only negative training examples may be used to train one or more machine learning models.
In addition to or instead of inputting messages directly into one or more machine learning models as inputs, in various embodiments, various permutations of terms (or tokens) of messages may be used as inputs. In some implementations, for example, one or more pairs of terms/tokens can be provided as input to one or more machine learning models. In some implementations, one or more sets of terms (e.g., in classes) can be provided as input. In other implementations, a natural language processor or other similar component may annotate messages in various ways (e.g., portions of speech, entity parsing, etc.), and those annotations may be used as input to one or more machine learning models.
In addition to the attributes of the message itself, other signals may be considered in calculating the chatting and search query suitability scores. In some implementations, one or contextual signals about the participant may be considered, such as their location, local time, and the like. For example, a particular message may be assigned a higher chit chat score in a first country and a higher search query suitability score in a second country. If the participant is located in a first country when the participant contributes the message to the message exchange topic, the message may receive a higher chit chat score than if the participant is already in a second country.
In some implementations, characteristics of content responsive to a search query generated using a message can be considered when calculating a search query suitability score. For example, some content responsive to a particular search query generated from a message may include one or more so-called "surfaced" features that are highlighted (e.g., at the top of a search engine results page ("SERP")) for display. The surfaced content may include direct answers to search queries (which may or may not be displayed over the organic search results, e.g., in boxes), navigation search results, paid search results, and the like. When submitted as one or more search queries, the message that produces one or more surfaced features may receive a relatively high search query suitability score. Conversely, if the response content is unfocused and/or not related to the mood of the message exchange topic, the search query suitability score may be reduced. In some implementations, a high search query suitability score can affect the chit chat score, and vice versa. For example, if the content in response to a search query generated from a message is particularly focused, popular, and/or related to the mood of the message exchange topic, this may reduce the likelihood that the message is simply chatty.
In the event that the search query suitability score of the message satisfies a threshold or the difference between the search query suitability score of the message and its chat score is sufficiently large, one or more search queries may be generated and submitted to various components of the knowledge system 102, for example, by the message exchange engine 120, the personal assistant engine 122, the message exchange client 107, the personal assistant module 109, and so forth. Content responsive to one or more search queries, such as documents and information, may be obtained from these same various components, including but not limited to the index engine 126 and/or the information engine 130. In various implementations, the content responsive to the one or more search queries may also include alternative query suggestions returned from the alternative query suggestion engine 136. In some implementations, content responsive to one or more search queries can be ranked by the ranking engine 134 before the ranking engine 134 returns.
Based on the response content, various items associated with the response content, such as graphical elements (words, images, animations, applets), sounds, etc., may be incorporated into the message exchange topic between two or more message exchange clients 107 operated by two or more users. In embodiments where a record of the message exchange topic is visible to one or more participants (e.g., respective graphical user interfaces), the incorporated items may be viewable by one or more users. In contrast, in a purely audible/voice response implementation, the response content may be audibly delivered to the participants.
The items may be incorporated into the message exchange topic between multiple message exchange clients 107 in various ways. In some implementations, the message exchange engine 120, personal assistant engine 122, and/or personal assistant module 109 can request that at least one message exchange client 107 participating in a message exchange topic insert one or more graphical elements associated with response content into a record of an ongoing message exchange topic displayed in a graphical user interface. In some cases, the graphical element may be incorporated into a manifest presented by more than one messaging client 107, such as in a manifest presented by all messaging clients 107 participating in a messaging topic. In some implementations, each messaging client 107 can simply be provided with response content, which can then select what content to incorporate into the version of the record for the messaging topic. Alternatively, as described above, any of the components 120, 122, 107, and/or 109 can audibly incorporate the item into the audible message exchange topic.
Various types of graphical elements may be incorporated into the rendered note of the message exchange topic. In some implementations, one or more graphical elements can include text conveying information responsive to a search query formed by the message exchange engine 120. Suppose a first participant operates her message exchange client 107 to ask another participant or personal assistant module 109 a question, "what is the first state of the conjunctive offer? ". The message exchange engine 120, the personal assistant module 109, the personal assistant engine 122, or another component can submit questions (or variants thereof) to the indexing engine 126 and/or the information engine 130 as search queries upon request by a user or voluntarily. The indexing engine 126 and/or the information engine 130 may provide information responsive to the search query, such as an indication that Delaware is the first state admitted by the United states. Additional response information may also be included, such as the date the state of telahua was admitted, what state was admitted later, and the like. Some or all of this information may then be incorporated into the message exchange topic such that it is incorporated into a manifest displayed in a graphical user interface of the message exchange client 107 operated by, for example, a user who posed a question.
In addition to or in lieu of text, in various implementations, one or more graphical elements incorporated into the message exchange topic may include one or more images that convey content in response to a search query. In the above scenario, for example, images of telahua and/or its flags may be incorporated into the message exchange topic in addition to or in place of text regarding telahua.
In many cases, information responsive to a search query may be too clumsy (e.g., too long, too much detail, etc.) to feasibly incorporate the message exchange topic without interrupting the flow of the conversation. In this case, a subset of the total response information may be selected (i.e., the total response information may be culled) for incorporation into the topic. In some implementations, the message exchange engine 120, the personal assistant engine 122, and/or the personal assistant module 109 can select a subset (or cull response information) for incorporation into the message exchange topic. In other implementations, the consolidated response information may be provided to the message exchange client 107, and the message exchange client 107 may perform culling. In some implementations, the information can be culled based on the screen size of the host client device 106. In some implementations, the top N search results can be selected for incorporation into the message exchange topic. N may be selected based on, for example, screen size, user preferences, etc., or may be manually selected (e.g., N may be set to five, ten, two, etc.).
In some implementations, the knowledge system 102 can have, for example, as part of the information engine 130 and/or another component, a so-called "knowledge base" that contains records of known entities (e.g., people, places, things), attributes of the known entities (e.g., type, name, age, location, etc.), and relationships between the known entities. In some implementations, such a repository may be implemented as a graph, for example, in the index 132, with nodes representing entities (and in some cases associated attributes) and edges representing a graph of relationships between entities, although this is not required. In some such implementation implementations, information about entities from such knowledge bases may be available to the message exchange engine 120, for example, in response to search queries formed and submitted by the message exchange engine 120, for example, as described above.
In some implementations, a knowledge base can be used, for example, by the message exchange engine 120, the personal assistant engine 122, and/or the information engine 130 to identify a first entity or entity type referenced in one or more messages exchanged between two or more users as part of a message exchange topic. Information responsive to search queries related to the entity or entity type can then be incorporated into the message exchange topic. For example, assume that a user submits a topic such as "Babe Ruth is best! "is received. "Babe Ruth" may be identified, for example, by the information engine 130 based on the knowledge base stored in the index 132 and one or more attributes and/or one or more related entities of Babe Ruth, such as one or more teams of his effectiveness (e.g., new york ocean base), his family members, his teammates, active age, living years, and so forth. One or more of these pieces of information may then be selected and automatically incorporated (e.g., as one or more graphical elements) into the message exchange topic, for example, by the message exchange engine 120 or personal assistant engine 122, or the message exchange client 107 or personal assistant module 109 local to the client device 106. For example, when a user refers to Babe Ruth in a message exchange topic, information about Babe Ruth and/or other baseball players may also be incorporated into the topic so that it may be consumed by at least one user via the user interface of her message exchange client 107.
In various implementations, a multi-level, nested machine learning model (or more specifically, a classifier) may be trained to differentiate chat and search query suitability. A broad set of training data from sources such as prior search and message exchange topics may be used to train a first-level unsupervised machine learning model (or classifier), such as 242/244 in fig. 2. The output from these machine learning models, as well as other signals such as search results and annotation queries, can be used to build supervised machine learning models (or classifiers). For example, each time a participant contributes a message to a message exchange topic, a supervised machine learning model may be triggered to produce a chat score ("ICS") and a search query suitability score ("SQSS"). Based on these scores, the incoming messages may be grouped into one or more of several confidence levels for the hierarchy. The ranking function can then utilize the ICS/SQSS, as well as other signals from various content sources responsive to the search query, to select a response that is best suited for incorporation into the message exchange topic.
Fig. 2 depicts one non-limiting example process flow that may be used by some embodiments of the present disclosure. In this example, messages 240 identified from the message exchange topic can be used to provide input to one or more machine learning models, such as ICS machine learning model 242 and SQSS machine learning model 244. The ICS machine learning model 242 outputs ICS calculated based on one or more properties of the message 240. The SQSS machine learning model 244 outputs a SQSS calculated based on one or more attributes of the message 240. In some implementations, the message 240 can be used as a verbatim input to one or both machine learning models. In other implementations, one or more attributes of the message 240 (e.g., annotations, accompanying signals, etc.) may be used as input for one or both machine learning models, in addition to or in place of the message 240 itself. Although the machine learning models 242 and 244 are depicted separately, this is not meant to be limiting. In some implementations, a single machine learning model can receive the message 240 as input and provide the ICS and SQSS.
In some implementations, the ICS machine learning model 242 can be trained on one or more corpora known to include message exchange topic messages for idle chats, and thus can be used as an active training forward training example. In some implementations, the ICS machine learning model 242 can also be trained with negative training examples, such as message exchange topic messages known to be suitable for search query generation and use. In other implementations, the ICS can be determined using techniques other than machine learning models. For example, in some implementations, the message 240 may be compared to multiple message/conversation response pairs to determine a best match, e.g., using fuzzy search techniques. A more similar message 240 may assign a higher ICS to the message for one or more message/session response pairs.
In some implementations, the SQSS machine learning model 244 can be trained on one or more corpora of message exchange topic messages known to be suitable for the generation and submission of search queries, and thus can be used as an aggressive training forward training example. In some implementations, the SQSS machine learning model 244 can also be trained using negative training examples, such as message exchange topic messages known to constitute chatty. In some implementations, the corpus of past search queries can be used to train the SQSS machine learning model 244, which may or may not be related to past message exchange topics. Past search queries that produce particularly focused or strongly responsive content can be used as positive training forward training examples. Past search queries that produce unfocused, meaningless, or nonsense responsive content can be used as negative training examples.
In some implementations, at 246, the output ICS of the ICS machine learning model 242 can be compared to one or more absolute thresholds. If these absolute thresholds are met, the message may be classified as unsuitable for use in a search query and the best matching conversational response may be incorporated into the message exchange topic. In some implementations, as part of the operation of 248, the message 240 can be compared to a plurality of message/conversation response pairs to determine a best match, for example, using fuzzy search techniques. In addition to computing the ICS of message 240 based on the closest match, if message 240 matches exactly or nearly exactly with a message/conversation response pair, a conversation response from the message/conversation response pair may be identified and incorporated into the message exchange topic from which message 240 originated. However, if the ICS does not satisfy the one or more thresholds at 246, a difference (Δ) between the ICS and the SQSS output by the SQSS machine learning model 244 can be determined at 250. If the difference between the ICS and the SQSS satisfies one or more thresholds, the message may be classified as unsuitable for a search query, and a return at 248 the conversational response may be identified and incorporated into the message exchange topic.
If the answer at block 250 is no (and the message may be classified as suitable for use in a search query), the message 240 and/or one or more attributes of the message 240 (e.g., comments, term peers), or a search query generated based on the message 240, may be provided to various components of the knowledge system 120, such as the indexing engine 126 and/or the information engine 130. These components may generate responsive content (e.g., search results, alternative query suggestions, responsive information, etc.) that is then analyzed at block 252 to determine whether it satisfies one or more thresholds. If the answer is no, the best matching conversational response may be identified and incorporated as described above with reference to 248. For example, if the popularity of search results responsive to a search query is too low, it may not be particularly helpful or interesting for message exchange topic participants to incorporate indications of these search results into the message exchange topic. However, if the answer at block 252 is yes, then a subset of the response content may be incorporated into the message exchange topic at 254.
The operations/components depicted in fig. 2 are only one example of how the disclosed technology may be implemented. Many variations are contemplated herein. For example, in some implementations, the ICS machine learning model 242 can be omitted. Alternatively, the message 240 may simply be compared to a plurality of message/session response pairs to determine the best match. The similarity between the message 240 and the message of the best matching message/session response pair may simply be used as an ICS. If the ICS satisfies one or more absolute thresholds (246), the conversational response may be incorporated into the message exchange topic without further analysis. The conversational response may also be incorporated into the message exchange topic if the difference (Δ) between the ICS and the SQSS satisfies one or more thresholds (250), or if the content in response to a search query generated based on the message 240 fails to satisfy one or more thresholds (252). Additionally or alternatively, in addition to fuzzy matching, a series of heuristics may be provided to identify and incorporate the conversational response of message 240.
Fig. 3 is an example client device 306 operated by a particular user (designated "YOU") that includes a graphical user interface 360 associated with a message exchange client (not specifically shown in fig. 3) operating on the client device 306. The graphical user interface 360 displays a ticket 362 of message exchange topics between a user operating the client device 306 and a personal assistant module ("PAM") installed on the client device 306. The graphical user interface 360 also includes a text entry field 364, which the operator of the client device 306 can use to enter text or other content into the message exchange topic, for example, in response to a previous statement by the personal assistant module.
The operator first asks the personal assistant module "do you today? ". This problem (or more generally, "messages") would not be suitable for use as a search query, as search results may not be very useful or meaningful to generate. However, the problem may match one or more message/session response pairs, such as the following, completely or at least very closely: < "how do you look today? "," I are good. Do you get good? ">. Thus, the personal assistant module responds with a session "i am good. How do you like? "contribute to the ticket 362. The operator of the client device 306 next responds "i am worse". Again, this message is not suitable for the generation and submission of search queries. Conversely, messages are more likely to match one or more message/session response pairs, such as: "i am very bad", "let i know what i can do, to improve your day" >. Thus, the personal assistant module contributes a conversational response "let i know what i can do so to improve your day. "
Next, the operator asks the personal assistant module "what agenda is tomorrow? ". When used as input to a machine learning model such as that shown in fig. 2, the message "what agenda is tomorrow? "may result in a relatively low ICS and/or a relatively high SQSS. Additionally or alternatively, the fact that the message starts with the word "what" and includes the word "agenda" may also result (e.g., via one or more heuristics) in the message being identified as suitable for use in generating and submitting a search query. Thus, the message is used to generate and submit a search query to, for example, the knowledge system 102 or various components of the respective client devices 106, that obtains the calendar of the operator the current day after. The personal assistant module will then respond in reply form "you have scheduled a meeting at 11:30AM and 2:00 PM. And for repudiation "with Su Sue at restaurant 7686 into a transcript slip.
Fig. 4 depicts a continuation of the message exchange topic shown in fig. 3. Thus, all components are the same except for the message of the ticket 362 visible in the user interface 360. After the personal assistant module's last message (as described above) about the tomorrow operator's calendar, the operator asks "where is the restaurant 7686? ". Such messages, when provided as input to one or more machine learning models (e.g., 242, 244), for example, may result in a relatively high SQSS and a relatively low ICS. Additionally or alternatively, in some implementations, the entity "restaurant 7686" may cross-reference against the knowledge base described above to determine that restaurant 7686 is a known entity. In general, identification of an entity mentioned in a message in the knowledge base may cause the message to be initiated to receive a higher SQSS than otherwise. Thus, a question regarding a user of restaurant 7686 may receive a relatively high SQSS.
In some implementations, the identification of the entity in the knowledge base can further enhance the SQSS if the entity is determined to be something that cannot be associated with the personal assistant module. For example, assume that a message exchange topic participant asks the question "where do your epiglottis? ". The personal assistant module may determine from the knowledge base that the epiglottis is a human organ that it may not be possible to possess. Thus, a relatively high SQSS may be assigned to the participant's question. Content responsive to a corresponding search query, such as information about the epiglottis, can be incorporated into the message exchange topic, for example, by the personal assistant module.
Returning to fig. 4, the personal assistant responds by providing the address of the restaurant. The operator then breathes surprisingly: "Darn! I hope i can skip. "when provided as input to one or more machine learning models, as shown in fig. 2, the message may receive a relatively high ICS and/or a relatively low SQSS. Thus, the personal assistant can match the message to the message/conversation response pair as best as possible. For example, it may match the following message/session response pairs to varying degrees: < "where is! . "Do not go" >, < "Dang! . "about", "don't do" >, < "drive! . "about", "about" >. Thus, in this example, the personal assistant module responds with a session response of "i sorry".
Fig. 3-4 are shown as being implemented as part of a visual-based message exchange topic, but this is not meant to be limiting. In various embodiments, the techniques described herein may be applied to an audible message exchange topic between a participant and a personal assistant module operating on, for example, a stand-alone voice response device.
In the examples described herein, data responsive to search queries formed based on message exchange topic content has been obtained from various sources associated with the knowledge system 102 in fig. 1. However, this is not meant to be limiting. Response data may also be extracted from other sources. In some cases, the search query may be used to search for information that is personal to the user (assuming the user first provides permission). For example, the user's own emails, text, calendar entries, social network status updates, and other similar information, which may be stored at least in part on the client device 106, may be used as a potentially searchable source for which search queries may be used to search.
Referring now to FIG. 5, an example method 500 of augmenting a message exchange topic is described. For convenience, the operations of the flow diagrams are described with reference to a system that performs the operations. The system may include various components of various computer systems, including the various engines described herein. Further, while the operations of method 500 are shown in a particular order, this is not meant to be limiting. One or more operations may be reordered, omitted, or added.
At block 502, the system may obtain, from a message exchange topic involving one or more message exchange clients (and thus, one or more participants), messages that the participants contributed to the message exchange topic. This may include any message that a participant enters a message exchange topic, whether the message is directed to another participant participating in the message exchange topic or to a personal assistant module. For example, for purposes of illustrating method 500, assume that the user presents the question "how big is the olyma president? "
At block 504, an ICS associated with the message may be calculated. As described above, in some implementations, the ICS can be provided by a machine learning model (e.g., 242) that receives the message as input. Additionally or alternatively, in some embodiments, the ICS may be calculated based on the extent to which the considered message matches the message/session response pair. In the ongoing illustration, the message "how big the obama president" can best match the message/session response pair < "how big are you? "," I [ inserted into the years since personal assistant module activation ]) >. Such a match would not likely result in a particularly high ICS.
At block 506, which may occur in some implementations in parallel with the operations of block 504, an SQSS associated with the message may be calculated. As described above, in some embodiments, the SQSS may be provided by a machine learning model (e.g., 244) that receives the message as input. In the ongoing description, the message "how big the obama president" may receive a relatively high SQSS, because it mentions a known entity and/or a question about a third person, for example. In alternative implementations, the SQSS may be generated based on content responsive to one or more search queries automatically generated based on the message and submitted to various sources. However, in the embodiment of FIG. 5, a search query is generated at block 512 and submitted at block 514.
At block 508, the ICS calculated at block 504 may be compared to the SQSS calculated at block 506. If the Δ between the two values satisfies some predetermined threshold (and thus, the message may be classified as unsuitable for use in a search query), the system may proceed to block 510, where the conversational response associated with the message/conversational response pair that best matches the message under consideration may be incorporated into the message exchange topic. However, if the answer at block 508 is no (and thus the message may be classified as suitable for use in a search query), the method 500 may proceed to block 512. In the ongoing example, the ICS associated with the message "how big was okada president" may be less than its SQSS, so method 500 may proceed to block 512.
At block 512, the system may generate a search query based on the message in question. If the message is posed as a question or is otherwise already in the form of a search query available, the message may simply be submitted verbatim to the various components as a search query. However, if the message is not used in the appropriate form as a search query, various natural language processing techniques, statement rewriting, entity parsing, and the like may be applied to generate a search query in a form that is more suitable for submission to various sources. In the ongoing example, the message "how big a president obama" appears to be well suited for use as a search query, and may in fact produce a direct answer (e.g., from the information engine 130). Furthermore, there may be multiple search results related or likely to be related to the age of the obama president, such as about his encyclopedia page, online biography, online bulletin, and so on.
At block 514, the system may obtain content responsive to the search query, for example, by submitting the search query to various components of the knowledge system 102 and receiving the content in response. As should be apparent from this disclosure, the term "search query" is not limited to an intentional type of question or statement from a user to some search engine intended to return a responsive document. Conversely, the term "search query" more broadly means one or more components of any information that may be submitted to the knowledge system 102 to produce responsive content. As described above, these components may include, among other things, an indexing engine 126, an information engine 130, and an alternative query suggestion engine 136. In some implementations, the message can be used to generate multiple search queries, each tailored to a different component of the knowledge system 102, e.g., to improve the quality of the responsive content.
Referring again to FIG. 5, at block 516, the system may incorporate at least a subset of the content returned in response to the search query into the message exchange topic. As described above, the client device 106 or various components of the knowledge system 102 may perform this operation. For example, the message exchange engine 120 and/or the personal assistant engine 122 can request that one or more message exchange clients 107 insert response content into a record visually presented by each message exchange client 107. Additionally or alternatively, the response content may be provided to the messaging client 107 by one or more components of the knowledge system 102, and the response content to be incorporated into the messaging topic may be selected (i.e., culled) by the messaging client 107. And in some implementations, the incorporated content may take the form of audible content "spoken" by the personal assistant module to the participant. In an ongoing example, a statement such as "Palack Aubama XX years" may be incorporated into the message exchange topic.
FIG. 6 is a block diagram of an example computer system 610. Computer system 610 typically includes at least one processor 614, which communicates with a number of peripheral devices via a bus subsystem 612. These peripheral devices may include a storage subsystem 624, including, for example, a memory subsystem 625 and a file storage subsystem 626, a user interface output device 620, a user interface input device 622, and a network interface subsystem 616. The input and output devices allow a user to interact with computer system 610. Network interface subsystem 616 provides an interface to external networks and couples to corresponding interface devices in other computer systems.
The user interface input devices 622 may include a keyboard, a pointing device such as a mouse, trackball, touchpad, or tablet, a scanner, a touch screen incorporated into a display, an audio input device such as a voice recognition system, a microphone, and/or other types of input devices. In general, use of the term "input device" is intended to include all possible types of devices and ways to input information to computer system 610 or on a communication network.
User interface output device 620 may include a display subsystem, a printer, a facsimile machine, or a non-visual display such as an audio output device. The display subsystem may include a Cathode Ray Tube (CRT), a flat panel device such as a Liquid Crystal Display (LCD), a projection device, or some other mechanism for producing a visible image. The display subsystem may also provide non-visual displays, for example, via an audio output device. In general, use of the term "output device" is intended to include all possible types of devices and ways to output information from computer system 610 to a user or to another machine or computer system.
These software modules are typically executed by processor 614 alone or in combination with other processors. Memory 625 used in storage subsystem 624 may include a number of memories, including a main Random Access Memory (RAM)630 for storing instructions and data during program execution and a Read Only Memory (ROM)632 in which fixed instructions are stored. File storage subsystem 626 may provide persistent storage for program and data files, and may include a hard disk drive, a floppy disk drive along with associated removable media, a CD-ROM drive, an optical drive, or removable media cartridges. Modules implementing the functionality of certain embodiments may be stored by file storage subsystem 626 in storage subsystem 624, or in other machines accessible by processor 614.
Where the systems described herein collect or may make use of personal information about a user, the user may be provided with an opportunity to control whether programs or features collect user information (e.g., about the user's social network, social actions or activities, profession, the user's preferences, or the user's current geographic location), or whether and/or how to receive content from a content server that may be more relevant to the user. Further, certain data may be processed in one or more ways before it is stored or used, thereby removing personally identifiable information. For example, the identity of the user may be processed such that certain personally identifiable information cannot be determined for the user, or in the case of obtaining geographic location information, the geographic location of the user may be summarized where the geographic location information is obtained (e.g., at a city, zip code, or state level) such that a particular specific geographic location of the user cannot be determined. Thus, the user may have control over how information is collected about the user and/or usage.
Although several embodiments have been described and illustrated herein, various other means and/or structures for performing the function and/or obtaining the result and/or one or more of the advantages described herein may be used, and such changes and/or modifications are to be considered within the scope of the embodiments described herein. More generally, all parameters, dimensions, materials, and configurations described herein are intended to be exemplary, and the actual parameters, dimensions, materials, and/or configurations will depend on the specific application or uses for which the teachings are used. Those skilled in the art will recognize, or be able to ascertain using no more than routine experimentation, many equivalents to the specific embodiments described herein. It is, therefore, to be understood that the foregoing embodiments are presented by way of example only and that, within the scope of the appended claims and equivalents thereto, may be practiced otherwise than as specifically described and claimed. Embodiments of the present disclosure are directed to each individual feature, system, article, material, kit, and/or method described herein. In addition, any combination of two or more such features, systems, articles, materials, kits, and/or methods, if such features, systems, articles, materials, kits, and/or methods are not mutually inconsistent, is included within the scope of the present disclosure.
Claims (20)
1. A method implemented using one or more processors, the method comprising:
determining, from a message exchange topic involving a plurality of message exchange clients operated by a plurality of participants in the message exchange topic, a message contributed to the message exchange topic by a first participant, wherein the message is directed by the first participant to a second participant in the plurality of participants;
analyzing the message to compute a gossip score associated with the message, wherein the gossip score represents a similarity between the message and prior session content known as gossip; and
incorporating, based on the gossip score, a graphical element into the message exchange topic presented by the message exchange client operated by the second participant, the graphical element operable by the second participant to incorporate an automatically generated conversation response into the message.
2. The method of claim 1, wherein the incorporating comprises: inserting the graphical element into a manifest of the message exchange topic displayed in a graphical user interface of the second message exchange client.
3. The method of claim 1, wherein calculating the gossip score comprises: providing the message as an input to a machine learning model, wherein the machine learning model provides the gossip score as an output.
4. The method of claim 3, wherein the machine learning model is trained on at least one forward training example, wherein the at least one forward training example comprises an instance of an incorporated positive response of one or more participants of a previous message exchange topic to a conversational response of a previous message of the previous message exchange topic.
5. The method of claim 1, wherein the incorporating is based on a comparison of the chit chat score to a search query suitability score.
6. The method of claim 5, further comprising analyzing the message to calculate the search query suitability score associated with the message, wherein the search query suitability score represents a similarity between the message and a prior message directed to a personal assistant module to cause the personal assistant module to search.
7. The method of claim 3, wherein the machine learning model further provides as output a search query suitability score associated with the message, wherein the incorporating is based on a comparison of the gossip score and search query suitability score.
8. A system comprising one or more processors and memory storing instructions that, in response to execution of the instructions by the one or more processors, cause the one or more processors to:
determining, from a message exchange topic involving a plurality of message exchange clients operated by a plurality of participants in the message exchange topic, a message contributed to the message exchange topic by a first participant, wherein the message is directed by the first participant to a second participant in the plurality of participants;
analyzing the message to compute a gossip score associated with the message, wherein the gossip score represents a similarity between the message and prior session content known as gossip; and
incorporating, based on the gossip score, a graphical element into the message exchange topic presented by the message exchange client operated by the second participant, the graphical element operable by the second participant to incorporate an automatically generated conversation response into the message.
9. The system of claim 8, further comprising instructions to: inserting the graphical element into a manifest of the message exchange topic displayed in a graphical user interface of the second message exchange client.
10. The system of claim 8, wherein calculating the chit chat score comprises: providing the message as an input to a machine learning model, wherein the machine learning model provides the gossip score as an output.
11. The system of claim 10, wherein the machine learning model is trained on at least one forward training example, and wherein the at least one forward training example comprises an instance of an incorporated positive response of one or more participants of a previous message exchange topic to a conversational response of a previous message of the previous message exchange topic.
12. The system of claim 8, wherein the incorporating is based on a comparison of the chit chat score to a search query suitability score.
13. The system of claim 12, further comprising instructions to: analyzing the message to calculate the search query suitability score associated with the message, wherein the search query suitability score represents a similarity between the message and a prior message directed to a personal assistant module for the personal assistant module to search.
14. The system of claim 10, wherein the machine learning model further provides as output a search query suitability score associated with the message, wherein the incorporating is based on a comparison of the gossip score and search query suitability score.
15. At least one non-transitory computer-readable medium comprising instructions that, in response to execution of the instructions by one or more processors, cause the one or more processors to:
determining, from a message exchange topic involving a plurality of message exchange clients operated by a plurality of participants in the message exchange topic, a message contributed to the message exchange topic by a first participant, wherein the message is directed by the first participant to a second participant in the plurality of participants;
analyzing the message to compute a gossip score associated with the message, wherein the gossip score represents a similarity between the message and prior session content known as gossip; and
incorporating, based on the gossip score, a graphical element into the message exchange topic presented by the message exchange client operated by the second participant, the graphical element operable by the second participant to incorporate an automatically generated conversation response into the message.
16. The at least one non-transitory computer-readable medium of claim 15, further comprising instructions to: inserting the graphical element into a manifest of the message exchange topic displayed in a graphical user interface of the second message exchange client.
17. The at least one non-transitory computer-readable medium of claim 15, wherein calculating the chit chat score comprises: providing the message as an input to a machine learning model, wherein the machine learning model provides the gossip score as an output.
18. The at least one non-transitory computer-readable medium of claim 17, wherein the machine learning model is trained on at least one forward training example, and wherein the at least one forward training example comprises an instance of an incorporated positive response of one or more participants of a previous message exchange topic to a conversational response of a previous message of the previous message exchange topic.
19. The at least one non-transitory computer-readable medium of claim 15, wherein the incorporating is based on a comparison of the chit chat score to a search query suitability score.
20. The at least one non-transitory computer-readable medium of claim 19, further comprising instructions to: analyzing the message to calculate the search query suitability score associated with the message, wherein the search query suitability score represents a similarity between the message and a prior message directed to a personal assistant module for the personal assistant module to search.
Applications Claiming Priority (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US15/157,372 US10769155B2 (en) | 2016-05-17 | 2016-05-17 | Automatically augmenting message exchange threads based on tone of message |
US15/157,372 | 2016-05-17 | ||
CN201611215880.XA CN107391521B (en) | 2016-05-17 | 2016-12-26 | Automatically augmenting message exchange topics based on message classification |
Related Parent Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN201611215880.XA Division CN107391521B (en) | 2016-05-17 | 2016-12-26 | Automatically augmenting message exchange topics based on message classification |
Publications (1)
Publication Number | Publication Date |
---|---|
CN112800218A true CN112800218A (en) | 2021-05-14 |
Family
ID=57750638
Family Applications (2)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN201611215880.XA Active CN107391521B (en) | 2016-05-17 | 2016-12-26 | Automatically augmenting message exchange topics based on message classification |
CN202110053943.0A Pending CN112800218A (en) | 2016-05-17 | 2016-12-26 | Automatically augmenting message exchange topics based on message classification |
Family Applications Before (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN201611215880.XA Active CN107391521B (en) | 2016-05-17 | 2016-12-26 | Automatically augmenting message exchange topics based on message classification |
Country Status (8)
Country | Link |
---|---|
US (4) | US10769155B2 (en) |
EP (1) | EP3440560A1 (en) |
JP (2) | JP6851397B2 (en) |
KR (3) | KR102249437B1 (en) |
CN (2) | CN107391521B (en) |
DE (2) | DE102016125594A1 (en) |
GB (1) | GB2557363A (en) |
WO (1) | WO2017200575A1 (en) |
Families Citing this family (20)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US10769155B2 (en) | 2016-05-17 | 2020-09-08 | Google Llc | Automatically augmenting message exchange threads based on tone of message |
US10257126B2 (en) * | 2016-08-04 | 2019-04-09 | International Business Machines Corporation | Communication fingerprint for identifying and tailoring customized messaging |
US10412038B2 (en) | 2017-03-20 | 2019-09-10 | International Business Machines Corporation | Targeting effective communication within communities |
US11176453B2 (en) * | 2017-12-28 | 2021-11-16 | Fujifilm Business Innovation Corp. | System and method for detangling of interleaved conversations in communication platforms |
US11322264B2 (en) * | 2018-04-23 | 2022-05-03 | DNAFeed Inc. | Systems and methods for human-augmented communications |
US11544374B2 (en) * | 2018-05-07 | 2023-01-03 | Micro Focus Llc | Machine learning-based security threat investigation guidance |
US11924297B2 (en) | 2018-05-24 | 2024-03-05 | People.ai, Inc. | Systems and methods for generating a filtered data set |
US10565229B2 (en) | 2018-05-24 | 2020-02-18 | People.ai, Inc. | Systems and methods for matching electronic activities directly to record objects of systems of record |
US11463441B2 (en) | 2018-05-24 | 2022-10-04 | People.ai, Inc. | Systems and methods for managing the generation or deletion of record objects based on electronic activities and communication policies |
KR102202139B1 (en) * | 2018-12-17 | 2021-01-12 | 지속가능발전소 주식회사 | Method for analyzing risk of cooperrator supply chain, computer readable medium for performing the method |
JP6624539B1 (en) * | 2019-10-01 | 2019-12-25 | 株式会社トレードワークス | Construction method of AI chatbot combining class classification and regression classification |
CN114936000B (en) * | 2019-12-26 | 2024-02-13 | 上海擎感智能科技有限公司 | Vehicle-machine interaction method, system, medium and equipment based on picture framework |
US11356389B2 (en) * | 2020-06-22 | 2022-06-07 | Capital One Services, Llc | Systems and methods for a two-tier machine learning model for generating conversational responses |
US11405337B2 (en) * | 2020-09-23 | 2022-08-02 | Capital One Services, Llc | Systems and methods for generating dynamic conversational responses using ensemble prediction based on a plurality of machine learning models |
US11792141B2 (en) * | 2021-01-12 | 2023-10-17 | Meta Platforms Technologies, Llc | Automated messaging reply-to |
US11978445B1 (en) | 2021-03-30 | 2024-05-07 | Amazon Technologies, Inc. | Confidence scoring for selecting tones and text of voice browsing conversations |
US11776542B1 (en) * | 2021-03-30 | 2023-10-03 | Amazon Technologies, Inc. | Selecting dialog acts using controlled randomness and offline optimization |
US20220318283A1 (en) * | 2021-03-31 | 2022-10-06 | Rovi Guides, Inc. | Query correction based on reattempts learning |
US11507757B2 (en) * | 2021-04-16 | 2022-11-22 | Capital One Services, Llc | Systems and methods for generating dynamic conversational responses based on historical and dynamically updated information |
US11743215B1 (en) | 2021-06-28 | 2023-08-29 | Meta Platforms Technologies, Llc | Artificial reality messaging with destination selection |
Citations (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20060173985A1 (en) * | 2005-02-01 | 2006-08-03 | Moore James F | Enhanced syndication |
CN101438279A (en) * | 2004-10-28 | 2009-05-20 | 雅虎公司 | Search system and methods with integration of user annotations from a trust network |
CN102216941A (en) * | 2008-08-19 | 2011-10-12 | 数字标记公司 | Methods and systems for content processing |
CN102915342A (en) * | 2011-09-22 | 2013-02-06 | 微软公司 | Providing topic based search guidance |
US9015192B1 (en) * | 2013-12-30 | 2015-04-21 | Google Inc. | Systems and methods for improved processing of personalized message queries |
Family Cites Families (18)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
JP3454897B2 (en) | 1994-01-31 | 2003-10-06 | 株式会社日立製作所 | Spoken dialogue system |
JP4281899B2 (en) | 2003-03-14 | 2009-06-17 | 富士通株式会社 | Question document summarizing device, question answering search device, question document summarizing program |
US7496500B2 (en) * | 2004-03-01 | 2009-02-24 | Microsoft Corporation | Systems and methods that determine intent of data and respond to the data based on the intent |
US7917582B2 (en) | 2004-07-27 | 2011-03-29 | Siemens Enterprise Communications, Inc. | Method and apparatus for autocorrelation of instant messages |
US7848971B1 (en) | 2006-02-28 | 2010-12-07 | Intuit Inc. | Integrated online chat within an income tax preparation product |
JP5229782B2 (en) | 2007-11-07 | 2013-07-03 | 独立行政法人情報通信研究機構 | Question answering apparatus, question answering method, and program |
US8886234B2 (en) | 2011-04-06 | 2014-11-11 | Microsoft Corporation | Techniques for unified messaging |
JP5775466B2 (en) | 2012-01-13 | 2015-09-09 | インターナショナル・ビジネス・マシーンズ・コーポレーションＩｎｔｅｒｎａｔｉｏｎａｌ Ｂｕｓｉｎｅｓｓ Ｍａｃｈｉｎｅｓ Ｃｏｒｐｏｒａｔｉｏｎ | Chat extraction system, method, and program for extracting chat part from conversation |
JP5710581B2 (en) | 2012-12-18 | 2015-04-30 | 日本電信電話株式会社 | Question answering apparatus, method, and program |
KR101821358B1 (en) | 2013-01-22 | 2018-01-25 | 네이버 주식회사 | Method and system for providing multi-user messenger service |
US20150314454A1 (en) | 2013-03-15 | 2015-11-05 | JIBO, Inc. | Apparatus and methods for providing a persistent companion device |
JP5744150B2 (en) * | 2013-10-17 | 2015-07-01 | 日本電信電話株式会社 | Utterance generation apparatus, method, and program |
JP6280342B2 (en) | 2013-10-22 | 2018-02-14 | 株式会社Ｎｔｔドコモ | Function execution instruction system and function execution instruction method |
JP6178208B2 (en) | 2013-10-28 | 2017-08-09 | 株式会社Ｎｔｔドコモ | Question field judgment device and question field judgment method |
US9213941B2 (en) | 2014-04-22 | 2015-12-15 | Google Inc. | Automatic actions based on contextual replies |
CN103995872B (en) | 2014-05-21 | 2017-04-05 | 王青 | It is a kind of in the application based on developing scenes discussion with chat method and system |
US10445650B2 (en) * | 2015-11-23 | 2019-10-15 | Microsoft Technology Licensing, Llc | Training and operating multi-layer computational models |
US10769155B2 (en) | 2016-05-17 | 2020-09-08 | Google Llc | Automatically augmenting message exchange threads based on tone of message |
-
2016
- 2016-05-17 US US15/157,372 patent/US10769155B2/en active Active
- 2016-12-09 GB GB1620957.9A patent/GB2557363A/en not_active Withdrawn
- 2016-12-15 EP EP16822867.4A patent/EP3440560A1/en not_active Ceased
- 2016-12-15 WO PCT/US2016/067059 patent/WO2017200575A1/en active Application Filing
- 2016-12-15 KR KR1020217003930A patent/KR102249437B1/en active IP Right Grant
- 2016-12-15 KR KR1020207023906A patent/KR102216629B1/en active IP Right Grant
- 2016-12-15 JP JP2018559749A patent/JP6851397B2/en active Active
- 2016-12-15 KR KR1020187035191A patent/KR102148444B1/en active IP Right Grant
- 2016-12-23 DE DE102016125594.7A patent/DE102016125594A1/en active Pending
- 2016-12-23 DE DE202016008217.6U patent/DE202016008217U1/en active Active
- 2016-12-26 CN CN201611215880.XA patent/CN107391521B/en active Active
- 2016-12-26 CN CN202110053943.0A patent/CN112800218A/en active Pending
-
2019
- 2019-12-11 US US16/710,802 patent/US11222030B2/en active Active
-
2020
- 2020-10-08 JP JP2020170391A patent/JP6980074B2/en active Active
-
2021
- 2021-10-08 US US17/497,264 patent/US11762865B2/en active Active
-
2023
- 2023-08-21 US US18/236,285 patent/US20230394049A1/en active Pending
Patent Citations (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN101438279A (en) * | 2004-10-28 | 2009-05-20 | 雅虎公司 | Search system and methods with integration of user annotations from a trust network |
US20060173985A1 (en) * | 2005-02-01 | 2006-08-03 | Moore James F | Enhanced syndication |
CN102216941A (en) * | 2008-08-19 | 2011-10-12 | 数字标记公司 | Methods and systems for content processing |
CN102915342A (en) * | 2011-09-22 | 2013-02-06 | 微软公司 | Providing topic based search guidance |
US9015192B1 (en) * | 2013-12-30 | 2015-04-21 | Google Inc. | Systems and methods for improved processing of personalized message queries |
Non-Patent Citations (1)
Title |
---|
季翠 等: ""动词引出新支话题的语用功能研究"", 《中文信息学报》, vol. 28, no. 3, 15 May 2014 (2014-05-15), pages 22 - 27 * |
Also Published As
Publication number | Publication date |
---|---|
US11762865B2 (en) | 2023-09-19 |
CN107391521A (en) | 2017-11-24 |
CN107391521B (en) | 2021-02-02 |
DE202016008217U1 (en) | 2017-04-28 |
KR102148444B1 (en) | 2020-08-26 |
KR20200100874A (en) | 2020-08-26 |
EP3440560A1 (en) | 2019-02-13 |
GB2557363A (en) | 2018-06-20 |
KR102216629B1 (en) | 2021-02-17 |
DE102016125594A1 (en) | 2017-11-23 |
US20230394049A1 (en) | 2023-12-07 |
US20170337199A1 (en) | 2017-11-23 |
GB201620957D0 (en) | 2017-01-25 |
KR20190005194A (en) | 2019-01-15 |
JP6980074B2 (en) | 2021-12-15 |
KR20210018553A (en) | 2021-02-17 |
KR102249437B1 (en) | 2021-05-07 |
US20200117672A1 (en) | 2020-04-16 |
JP2019521415A (en) | 2019-07-25 |
US10769155B2 (en) | 2020-09-08 |
JP2021012723A (en) | 2021-02-04 |
US20220027377A1 (en) | 2022-01-27 |
US11222030B2 (en) | 2022-01-11 |
WO2017200575A1 (en) | 2017-11-23 |
JP6851397B2 (en) | 2021-03-31 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
CN107391521B (en) | Automatically augmenting message exchange topics based on message classification | |
US11552814B2 (en) | Proactive provision of new content to group chat participants | |
US11470022B2 (en) | Automated assistants with conference capabilities | |
CN110770694A (en) | Obtaining response information from multiple corpora | |
JP6530573B1 (en) | Message exchange thread extension |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
PB01 | Publication | ||
PB01 | Publication | ||
SE01 | Entry into force of request for substantive examination | ||
SE01 | Entry into force of request for substantive examination |