CN1882958A - Serving content-targeted ads in e-mail, such as e-mail newsletters - Google Patents
Serving content-targeted ads in e-mail, such as e-mail newsletters Download PDFInfo
- Publication number
- CN1882958A CN1882958A CNA2004800335387A CN200480033538A CN1882958A CN 1882958 A CN1882958 A CN 1882958A CN A2004800335387 A CNA2004800335387 A CN A2004800335387A CN 200480033538 A CN200480033538 A CN 200480033538A CN 1882958 A CN1882958 A CN 1882958A
- Authority
- CN
- China
- Prior art keywords
- content
- image
- information
- advertisement
- document
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Pending
Links
Images
Abstract
Content-targeted ads are served with e-mail messages, such as HTML e-mail messages by (i) having the document publisher include a unique content identifier in the content, (ii) having a client device pass the unique content identifier to a content-relevant ad server in a content-relevant ad request, and (iii) having the content-relevant ad server use the unique contend identifier to identify previously registered content for purposes of determining contentrelevant ads. In the content-relevant ad server, multiple ads may compete for desired ad attributes (e.g., relative position on a page) or features. An arbitration process may be used to chose and/or order the ads. By having the client device pass the unique content identifier to the content-relevant ad server when it needs the ads, ads can be chosen and generated all at the time the user reads (or more generally 'opens') the e-mail document. This permits up-to-date ad information to be used when serving ads. User actions with respect to served ads may be tracked by (i) using an ad image to display ads in the document, and (ii) using an image map (included in the document originally served) to monitor user behavior with respect to an ad served in a document. All the information about the ad impression may be encoded in a unique identifier, which is returned, along with the ad image. The ad image and unique identifier may be provided to a client device. When a user selects an ad, this unique identifier may be returned to the ad server. A position of an image map clicked may also be returned to the ad server. The returned unique identifier and image position may be used to allow the ad server to detennine which ad was selected. Thus, the unique identifier permits a selection to be matched with a previous ad serve.
Description
Technical field
The present invention relates to advertisement.What specifically, the present invention relates to enlarge advertiser (advertiser) makes the pointed chance of its advertisement.
Background technology
Interactive Advertising provides the chance that makes its advertisement be oriented to the audient to the advertiser.That is, targeted ads more may be useful to the final user because this advertisement may with according to the movable needs of inferring of certain user relevant (for example, relevant with the user, relevant with content in the document that the user asks etc.) to the search inquiry of search engine.Search engine, such as being positioned at Mountain View, the AdWords advertising system of the Google company of CA has used the advertisement relevant with key word of the inquiry.Similarly, the content-relevant ad system has been proposed.For example, the U.S. Patent Application Serial Number of submitting on Dec 6th, 2,002 10/314427 (is drawn at this and to be reference, and be called " ' 427 application ") " METHODS AND APPARATUS FOR SERVINGRELEVANT ADVERTISEMENTS " (the invention people is Jeffrey A.Dean, Georges R.Harik and Paul Bucheit), and the U.S. Patent Application Serial Number 10/375900 submitted to (is drawn at this and to be reference on February 26th, 2003, and be called " ' 900 application ") " SERVING ADVERTISEMENTS BASED ON CONTENT " (the invention people is Darrell Anderson, Paul Bucheit, Alex Carobus, Claire Cui, Jeffrey A.Dean, Georges R.Harik, Deepak Jindal and NarayananShivakumar) described and provide and document, the method and apparatus of the advertisement that the content of webpage is relevant for example.Some embodiment of ' 900 applications use embedding information and/or instruction, for example IFRAME or JavaScript insert advertisement the document that is difficult to analyze in advance (for example creep (crawl) and high-speed cache), the webpage that dynamically generates for example, often change or the webpage that upgrades etc. in.
It is the potential source of advertiser's a large amount of extra high-quality page access that content-targeted ads is provided in email newsletter (newsletter).As shown in fig. 1, in networked environment 100, publisher 110 can publishing documents 115, such as email newsletter, and it is distributed to final user's client devices 120/130.The example of document 124/134 can be read by the email reader 122 (for example Outlook of Microsoft Corporation etc.) that is present on the client devices 120, and/or by being present on the client devices 130, and visit is based on the e-mail server 140 of Web, be also referred to as and act on behalf of E-mail client (Hotmail for example, YahooMail etc.) browser 132 (Internet Explorer for example, Netscape, Opera etc.) read.Content-related advertising server 150, for example those content-related advertising servers of describing in ' 427 and ' 900 applications can be used to provide and be present in document, such as the relevant advertisement of content in the Email.Described facility and/or assembly can pass through one or more networks 160, intercom mutually such as the Internet.Content-related advertising server 150 can comprise and is used to the advertising message 155 that makes advertisement be positioned specific concept or theme.As shown in Figure 2, one or more advertisements 285 of one group 280 can be inserted into document, in email newsletter.
New York, the Sprinks service that " About " of NY provides allows the advertiser by utilizing image and client image map (image map) and the cookies that dynamically produces, the advertisement of inserting the theme in the predetermined tabulation that is positioned in the Email.
The U.S. Patent Application Serial Number of submitting on June 2nd, 2,003 10/452830 (is drawn at this and to be reference, and being called ' 830 applications) " SERVING ADVERTISEMENTS USINGINFORMATION ASSOCIATED WITH E-MAIL " (invention people be Jeffrey A.Dean, Georges R.Harik and Paul Bucheit) description provides the method and apparatus of the advertisement relevant with information in the email documents.Many alternative approach that advertisement is provided in company with Email have been described in ' 830 applications, comprise and utilize sender's client devices, and recipient's client devices is based on the application program on the e-mail server of Web etc.In any case advertisement is oriented to the relevant information that can extract from the content of Email (the perhaps out of Memory that can obtain from Email) (for example notion, theme etc.).
Be used in company with Email, for example email newsletter provides the system independence of advertisement, best (i) electron gain Mail Contents information, so that can provide the content-relevant ad of usefulness, (ii) according to can be at various E-Mail client application/readers, present on perhaps popular at least E-Mail client application/reader, and be subjected to the form of described E-Mail client application/reader support that advertisement is provided.This may be challenging, because many (even not being great majority) most popular E-Mail client application based on Web is removed IFRAME and JavaScript.This can hinder certain methods and the equipment described in ' 900 applications to be used to provide the dynamic HTML advertisement.
Though some advertisement service systems have the record keeping scheme based on audience rating of advertisement (impression) number of times, but the advertiser usually wish to have only when such advertisement produces expected result, just can be owing to the advertisement that provides is kept accounts.For example, the advertiser may wish by advertisement selection, perhaps by transforming number of times, kept accounts perhaps according to some other notion that can measure of advertisement performance, rather than by the audience rating of advertisement number of times.In addition, some advertisement service systems, for example GoogleAdWords can use some performance parameters of advertisement to determine whether and/or how to provide advertisement.This allows such advertisement service system that more useful advertisement is provided, and more useful advertisement perhaps is provided more significantly.Therefore, preferably follow the tracks of user action to providing advertisement.
Summary of the invention
The present invention describes method, equipment and the data structure satisfy one or more following challenges: (i) how to obtain the content content information of described document (perhaps from) such as email newsletter and so on document, especially when checking, such document makes some code, is removed such as JavaScript and IFRAMES; (ii) how service content relevant advertisements request; How user action (for example selecting conversion etc.) to the advertisement that provides (iii) is provided, and observed user action is returned to the advertisement that provides, all these crosses over many popular E-Mail client applications (client)/reader.
The present invention can provide the instrument of their content of registration (in order to make advertisement is target with the content, needs described content) to document (for example email newsletter) publisher.
The present invention can be used to provide content-targeted ads in company with email message such as the HTML email message, and can provide content-targeted ads in company with email message not needing to use under the situation of IFRAME or JavaScript.Make document publisher in content, comprise unique content designator by (i), (ii) make client apparatus in the content-relevant ad request, unique content designator be sent to content-related advertising server, (iii) make content-related advertising server use described unique content designator to discern the content of previous registration, so that determine content-relevant ad, the present invention can provide content-targeted ads in company with email message.In content-related advertising server, a plurality of advertisements can be competed required advertisement attributes (for example relative position on the webpage) or feature.Can use arbitration process (for example auction) to select advertisement and/or to order ads.When client apparatus needs advertisement, by making client apparatus send described unique content designator to content-related advertising server, when allowing to read (perhaps more generally " opening ") email documents the user, the present invention selects and produces advertisement.When advertisement is provided, determine the feature (for example relative position) of advertisement, during to advertising service record keeping etc., this allows to use up-to-date advertising message.
At last, the user action to providing advertisement can be provided in the present invention.Use (perhaps high-speed cache) the advertising image display ads in document that dynamically produces by (i), (ii) use (may be included in the document that provides at first) image map to monitor at document, such as the user behavior (for example handling the click to advertisement) of the advertisement that provides in the Email, the user action to providing advertisement can be provided in the present invention.The present invention also can be to all the information codings about audience rating of advertisement in the unique identifier that returns with advertising image (for example cookie).Advertising image and unique identifier can be provided for client apparatus.When the user selected (for example clicking) advertisement, this unique identifier can be returned to Advertisement Server.The position of the image map of clicking also can be returned to Advertisement Server.Unique identifier that returns and picture position can be used to allow Advertisement Server to determine which advertisement is selected.That is, this unique identifier allows to select (perhaps other a certain observed user action) and advertisement the preceding to provide (being also referred to as session) to be complementary.
Can produce the image that comprises advertisement by HTML at server end.
The present invention can use cookie as described unique identifier.Under the situation of the Email that the part as news in brief provides, the present invention can set described cookie on the path that comprises a unique ID of each news in brief.This can be used to guarantee that browser is with the relevant cookie of selection (perhaps related with it conversion) that only returns with this advertisement.Replace using cookie, the present invention can keep the server end high-speed cache that comprises identical information.
Description of drawings
Fig. 1 and 2 graphic extension wherein can be used environment of the present invention.
Image map is used in Fig. 3 graphic extension, and for example the client image map is determined advertisement selection.
Fig. 4 is the block scheme that can be used for realizing the exemplary apparatus of various aspects of the present invention.
The image ad of Fig. 5 graphic extension illustration.
Fig. 6 is the information receiving figure of the illustration operation of graphic extension illustration embodiment of the present invention.
Embodiment
The present invention relates to content-relevant ad system new method, equipment, message format and/or data structure.Provide following explanation to realize and use the present invention enabling those skilled in the art to, and described explanation is provided in the context of application-specific and requirement thereof.To one skilled in the art, the various modifications of disclosed embodiment will be significantly, and the General Principle of stating below is applicable to other embodiment and application.Thereby the present invention is not restricted to the embodiments shown, and the inventor is considered as its invention the theme of described any patentability.
Below, in § 4.1, describe allowing document (for example email newsletter) publisher to register its content, perhaps relate to the exemplary technologies of the information of its content.Describing in § 4.2, advertisement and the exemplary technologies of following the tracks of the user action of providing advertisement are provided.The exemplary apparatus that can be used for realizing various aspects of the present invention is described in § 4.3.At last, in § 4.4, provide about conclusions more of the present invention.
The registration of § 4.1 contents
In one embodiment of the invention, the publisher can be to independently each distribution of public URL announcement news in brief, and described independently public URL can be creeped such as some systems in those systems of describing in ' 427 and ' 900 applications by system.Consistent with at least some embodiment that describe in ' 427 and ' 900 applications, advertisement is provided on the webpage.The URL of webpage transmits in the rating request, and is used to fetch the content of this webpage.Some (but not being whole) news in brief can be in the URL place issue that they can be creeped.
On the other hand or in addition, the present invention can provide the Web interface of the content that a kind of publisher of permission registers them.For example, the publisher can import the URL of sensing with the content that is published.On the other hand or in addition, the publisher can directly paste content in the Web interface.No matter which kind of method the publisher selects, and the Web interface all can provide the code that is inserted in its news in brief (for example code snippet of HTML) to the publisher, so that providing and/or following the tracks of of advertisement to be provided.
In one embodiment of the invention, the Web interface can show the example of the advertisement that may occur together with document immediately.The Web interface also allows the publisher to stop (block) independent advertisement.Such feature provides one group of instrument to the publisher, so that one group of abundant control to the advertisement that will provide with document to be provided.Interface can comprise other instrument that makes the publisher that the various aspects of the advertisement that will provide can be provided on their document.
In case be registered, content can be processed by different modes, and some of them depend on that content is how not to be published person's registration.For example, can be processed based on the news in brief of URL as any other content of on Web, issuing, and can utilize the system such as some systems of in ' 427 and ' 900 applications, describing to creep.In one embodiment of the invention, in a period of time (after for example per two weeks or three weeks), the content of creeping can be abandoned, and can be creeped again as required.But,, may not provide content-relevant ad to them immediately so if some documents need at first to be creeped.For fear of this situation, can provide special HTTP Proxy, so that such document (for example webpage) can be retrieved.In this case, the code (for example, HTML code segment) that inserts in the document can be simply with reference to the URL on the news in brief.
Opposite with the news in brief based on URL, Email and Web interface content should not abandoned from storage vault.Otherwise it can forever be lost, because may not creep (perhaps creeping again) Email and Web interface content.Can be such content independently storage vault or index are provided.Because this content may not be creeped, so it can be held long period of time (for example about 6 months).In one embodiment of the invention, can provide single base indexer, it will make content directly be sent into wherein.In the present embodiment, Email content can possess the special virtual URL that is easy to discern.Can produce new globally unique identifier (GUID), news in brief can be added in the storage vault by virtual (dummy) URL index:
http：//emailcontent.google.com/<publicsher-id>/<GUID>
For the long especially news in brief with the different piece that relates to different themes or notion, the publisher may wish in series to provide many groups different advertisements with the one or more of content with part.This is easy to realize, and even can be simplified by the Web interface.For example, the publisher can be simply pastes content part independently in the text box, and the different code segment (with globally unique identifier) that is provided for each part (GUID).The advertisement that this will cause providing by email documents high orientation does not repeat to provide and do not exist.
Do not believe when some publishers do not wish to issue their news in brief at every turn and all must go to the Web interface so that obtain new code snippet.For change in a week news in brief be no more than once (news in brief weekly for example, two all news in brief, every month news in brief, per season news in brief etc.), it should be acceptable providing the HTML code segment of single static state by news in brief to the publisher.Content refresh can be triggered by the robotization e-mail address of signing on news in brief that is subjected to the advertising service management.In such embodiments, if the user opens outmoded Email, they can receive the content that is oriented in nearest first phase email newsletter so, rather than are oriented to the advertisement of the content in the first phase email newsletter of opening.But this should be acceptable risk, if the content of especially a series of news in brief weekly and identical theme or conceptual dependency.For more frequent news in brief, such as news in brief every day, if especially the theme of content or notion change, this can become unacceptable.
On the other hand or in addition, the present invention can provide email interface, by this email interface, the publisher can register their news in brief content.The publisher can be provided the Web interface, and by described Web interface, they can contract so that content-relevant ad is provided in Email.For content-relevant ad is provided, in the main body of Email, insert HTML code segment (perhaps other executable code) among the publisher.At first, they can obtain this code snippet from the representative of content-related advertising server or by self-service Web interface.Wish each different news in brief of sending for them, the publisher should use different code snippets.But in case they have the code snippet that is used for specific news in brief, they just needn't obtain different code snippet (unless they want to change advertising format).
The publisher also can be given the registration email address of following form: newsletter-register+{ENPCID}@google.com.Each e-mail address of this form only uses for specific publisher.ENPCID value in the e-mail address can be the encrypted form of publisher's client computer ID, the Email that publisher's client computer ID allows the content-related advertising server checking to arrive.
The publisher should sign the registration email address on they wish to provide therein the news in brief of advertisement.They also can manually send to this address to message, so that before news in brief is sent to all subscribers, preview will be oriented to or may be oriented to the advertisement of the content of news in brief.
All mails to the registration email address can flow into the newsletter-register@google.com mailbox.This mailbox can send it to mail filter subsequently.Mail filter reads the main body of Email, resolves HTML, and finds out the HTML code segment of the one or more insertions in the main body of Email.Mail filter Validation Code segment subsequently is a format specification.But it also the ENPCID value of the encrypted form in the client computer ID in the Validation Code segment and the e-mail address conform to.
The ENPCID value comes down to the shared secret between content-related advertising server and the publisher.It is in fact worthy of the name that the publisher is served as in the use of publisher's ENPCID value, and help prevent and sabotage.Can use the certificate revocation list of ENPCID value,, can provide a new ENPCID value to the publisher simply so if consequently an ENPCID value is revealed.Old ENPCID value can be added in the certificate revocation list.Use any mail of the ENPCID value on the certificate revocation list to be left in the basket.
Mail filter can read two other field: CUID (content unique identifier) and phase time ID from code snippet.For the news in brief of appointment, CUID should remain unchanged, but phase time ID should be inserted by the publisher, and for the news in brief of same period not time, should be unique.Mail filter can use CUID and phase time ID to set up false URL, and this URL is used as the index (key) of the content of Email.More particularly, mail filter can add the content by the Email of this falseness URL index, and the content of Email is inserted in the storage vault that can be used by content-related advertising server.If receive the new mail with the CUID that is kept in the storage vault and phase time ID, so existing content can be rewritten.This allows the publisher to send the news in brief of a plurality of versions in test process.
For the speciality news in brief with a plurality of different pieces (described a plurality of different pieces have different contents), the publisher may wish to provide many groups different advertisements with the content series connection of each different piece.One embodiment of the present of invention are supported this function.More particularly, the publisher can by will at a plurality of independent sectors of content be encapsulated in special beginning/end mark and describe them.
When having a plurality of content part, can make they and the ad code segment that exists match one by one (for example, advertisement point 1 may be directed to content part 1, and is like that).
After the various technology of having described registration content of document such as email newsletter, the various technology that content-relevant ad is provided are described in § 4.2 below.
Advertisement and the user action of following the tracks of providing advertisement are provided § 4.2
Because most (even not being whole) Web Email suppliers remove all IFRAME mark and Javascript, it can not be target with the email newsletter that some that describe in ' 900 applications provide the technology of contents advertising.In addition, when checking, be difficult to dynamically any HTML be inserted in the main body of Email, still support various E-Mail client applications (comprising the web mail) simultaneously.For fear of these problems, one embodiment of the present of invention provide advertisement with the form of the dynamic single image (for example portable network graphic (PNG) image) that produces on content-related advertising server or a certain other server.
By the server end image map (for example referring to the article " Piecing Together Server-Side Images Maps " of Patrick Corcoran,
WebMonkey(Sept.25,1996), http://hotwired.lycos.com/webmonkey/html/96/39/index2a.html (this draw be with reference to)) or by the client image map (for example referring to the article " Client-Side Images Maps " of Patrick Corcoran
WebMonkey(Oct.2,1996), http://hotwired.lycos.com/webmonkey/html/96/40/index2a.html (this draw be with reference to)), can handle click.In the application program of not supporting to use the server end image map, for example among the Hotmail, the client image map is more useful, because Hotmail rewrites all URL in the Email, so that by their server redirection, and the additional parameter that is invested on the URL by server end map agreement breaks down their Redirect Server.Fig. 3 illustrates document 310 and the cursor 340 that comprises content 320 and have the image 330 in different graphic zone (shapearea), and each graphics field is corresponding to different advertisements.Image map 350 can be used to determine the position 370 of cursor 340, and whether the user selects one of (perhaps otherwise acting on) graphics field 360.
Utilize client map requirement (i) to have the image ad of static topology and (ii) fill the advertisement gap of similar number.In this case, but the advertisement gap of content-related advertising server public service ads backfill blank.In addition, in this case, if there is any element that changes size or move around in the design of advertising format, the client map may not supported them so.In case this is because the form of client image map is designed, and open (for example inserting in the document that sends with Email or announce as code), may be difficult to so revise.In addition, if exist layout modification to change, should utilize new title and new identifier that the copy of document is carried out such variation so to the client image map.
In one embodiment of the invention, give following HTML code segment about its news in brief to the publisher:
<map?name="google_ad_map_KX6hVSUhHerfm2B6XnGmhg">
<area?shape="rect"
href="http://www.googleimageads.com/pagead/imgclick/uRKegAPA5SESScptqbhQ4A?po
s=0&client=ca-foobar"coords="6,3,228,56">
<area?shape="rect"
href="http://www.googleimageads.com/pagead/imgclick/uRKegAPA5SESScptqbhQ4A?po
s=1&client=ca-foobar"coords="240,3,462,56">
</map>
<img?src="http://www.googleimageads.com/pagead/ads?url=some-
url&output=png&cuid=uRKegAPA5SESScptqbhQ4A"
usemap="#google_ad_map_KX6hVSUhHerfm2B6XnGmhg">
This will cause looking like the image ad shown in Fig. 5.
Preceding four parts of this code snippet, that is,
<map?name="google_ad_map_KX6hVSUhHerfm2B6XnGmhg">
<area?shape="rect"
href="http://www.googleimageads.com/pagead/imgclick/uRKegAPA5SESScptqbhQ4A?po
s=0&client=ca-foobar"coords="6,3,228,56">
<area?shape="rect"
href="http://www.googleimageads.com/pagead/imgclick/uRKegAPA5SESScptqbhQ4A?po
s=1&client=ca-foobar"coords="240,3,462,56">
＜/map〉definition client image map.Middle two rectangular area shapes of two parts definition, region shape have the coordinate of laying respectively at 6,3} and 228, the upper left corner of 56} and the lower right corner, another region shape have the coordinate of laying respectively at 240,3} and 462, the upper left corner of 56} and the lower right corner.The zone of first region shape is defined as " pos=0 ", and the zone of second region shape is defined as " pos=1 ".
The decline of code snippet, promptly
<img?src="http://www.googleimageads.com/pagead/ads?url=some-
url&output=png&cuid=uRKegAPA5SESScptqbhQ4A"
Usemap=" #google_ad_map_KX6hVSUhHerfm2B6XnGmhg "〉be used for (i) point to the source of image and (ii) point to above the client image map just described.More particularly, is the source of image positioned at address http://www.googleimageads.com/pagead/ads? url=some-url﹠amp; Output=png﹠amp; Cuid=uRKegAPA5SESScptqbhQ4A.Output format is " output=png " image.The image source also comprises unique content designator " cuid=uRKegAPA5SESS cptqbhQ4A ", and it uses the back explanation.(" CUID " representative " the unique ID of content ").At last, this code makes it to be associated with name map the oriented towards client image map by utilizing " google_ad_map_KX6hVSUhHerfm2B6XnGmhg " string.
This illustration of information receiving figure graphic extension embodiment of Fig. 6 how can be code 635, especially code snippet 635 ' be included in the email documents 630 that is present on the client apparatus 620.In such as the top enrollment process of in § 4.1, describing, code 635/635 ' inserted in the email documents 630 by the email documents publisher.
When checking (for example when the user opens Email), above-mentioned HTML code segment makes client apparatus (for example browser or email application) send request about advertising image to www.googleimageads.com.Can in fact this request comprise entire path http://www.googleimageads.com/pagead/ads? url=some-url﹠amp; Output=png﹠amp; This request forwards content-related advertising server (front end) to.In one embodiment, the URL that the front end utilization of content-related advertising server transmits in request sends this request to rear end.Refer again to the information receiving figure of Fig. 6, when the user opens Email (incident 640), client apparatus 620 can be submitted content-relevant ad request 650 to content-related advertising server 610.As shown in the figure, request 650 may just come from initial in email documents 630 code snippet 635 ' image source 655.
Content-related advertising server can use unique content identifier (for example unique content identifier of being stipulated by " cuid=uRKegAPA5SESScptqbhQ4A " part of request) as the content that searches previous registration, perhaps at least with the index of the relevant information of the relevance of previous registration (for example theme, notion etc.).Content-related advertising server 610 uses the content of this previous registration subsequently, and perhaps related with it relevant information is determined relevant advertisements.Content-related advertising server 610 for example can use introduce in the above ' 427 applications and/or ' technology described in 900 applications determines the one or more advertisements relevant with the content of Email 630 documents.Can utilize pricing information, performance information, advertiser's quality information etc. is marked to relevant advertisements.Utilize the mark of determining to determine the attribute (for example position) of advertisement.
Content-related advertising server utilizes the advertising format (in this example 480 * 60) of regulation that (for example obtaining from the rear end) advertising format of determining is changed into HTML subsequently.Because set the HTML code segment of output=png option by utilization, rather than return the ad-request that the HTML advertisement produces, content-related advertising server returns the PNG image.Described in following § 4.2.3, advertisement has produced the PNG image according to HTML at server end.In company with the image of one or more advertisements, (front end) of content-related advertising server also can return Session ID (for example cookie).If use cookie, it it seems as follows so.
Set-Cookie:ImgAd=MAP=CmEIBhADGN4BIDUqGGh0dHA6Ly93d3cuZGl2ZWxvZGdl
LmNvbTI8QWRJaGlEMnBTXzhmemlVSTNzODYtQnpJRGdDSXRDdzZfM2VBd05lYk
FNRXctUEZBODFMUkFDRUFtV0FBCnkI8AEQAxjeASA1Ki9odHRwOi8vY2hlYXBjY
XJpYmJlYW4uY29tL3NwZWNpYWxzL3NwZWNpYWxzLmNmbTI8QXFmX19EMnBT
XzhmemlVSTNzODYtQnpJREVESy1CZ3B6WkNFd05lYkFISXctUEZBNDIyUUFDSUFt
V0FB;
expires=Mon,25-Aug-2003?23:51:35?GMT;
path=/pagead/imgclick/uRKegAPA5SESScptqbhQ4A;domain=googleimageads.com
The value of the MAP parameter among this illustration cookie is the Base64-coding binary data of compression that comprise the following field in each zone:
parsed?message?ImageClickRegion{
required?int32?left=1;
required?int32?top=2;
required?int32?width=3;
required?int32?height=4;
optional?string?url=5;
optional?string?clickstr=6;
};
parsed?message?ImageAdCookieProto{
repeated?message<ImageClickRegion>region=1;
}；
The agreement buffer zone is the tabulation of the rectangular area in the advertising image.The agreement buffer zone is Redirect URL of each rectangular area of definable (for example advertisement landing webpage) and click string (if any) also.
Refer again to the information receiving figure of Fig. 6, in illustration embodiment, content-related advertising server 610 can be content-relevant ad image (for example PNG image), and (for example cookie of abbreviation in 665) sends to the client apparatus 620 by message 660 indications together with Session ID.
Attention can be used the demarcation rectangle information among the cookie under the situation that the server end map is realized.With regard to the client image map, this does not need--obtain the parameter of stated number word indexing on the contrary.
§ 4.2.2 follows the tracks of the user action to advertisement
When selecting (for example clicking) advertising image, user's set will forward one of URL that defines in the client map.Content-related advertising server (front end) can be used to utilize " pos=" parameter among the URL that defines in the client image map, select correct Redirect URL.According to the selection of advertisement, client apparatus also can be given content-related advertising server a certain indication and Session ID (for example cookie) loopback to the user action of advertisement.For example, refer again to Fig. 6, the incident 670 that responds to users action, client apparatus 620 loopbacks are to the indication of the user action of advertisement, shown in message 680.Because the path of setting on cookie (in this example, " pagead/imgclick/uRKegAPA5SESScptqbhQ4 ") conforms to click URL path, so cookie 685 is also sent together.Relatively message content 655 and message content 665 can be recognized, by utilizing " cuid=" parameter in the image request 655, but the cookie path in content-related advertising server 610 setup messages 665.That is, CUID should conform to the GUID in the path of clicking URL.At last, content-related advertising server 610 can provide Redirect URL (being used for user's browser is guided into the landing webpage relevant with the advertisement of selecting) to client apparatus 620, shown in message 690.
GUID on the path can be used to guarantee that the client apparatus browser only returns the cookie of current news in brief, rather than makes browser send all cookie that set about the rating number of times of each news in brief.GUID on the path also is used to guarantee in the different news in brief can not disturb each other cookie by different publishers or by the advertisement that same issuer sends.In one embodiment of the invention, each publisher can have the GUID by time definition of news in brief phase, and cookie can set at territory googleimageads.com.This can be used to guarantee can not receive any google.com cookies when clicking request, the request of click can be used to execute and not make contents advertising click the strategy that links with google.com cookies.Allow the territory (googleimageads.com) of the cookies on the content-relevant ad can be used to the conversion tracking.But, be difficult to reuse this territory, because some browsers apply cookie restriction (for example 30 cookie/ territories) by the territory, and reuse the cookie restriction that service may be unnecessarily reduced in this territory.
In one embodiment of the invention, because image URL is fixed, and can not be included in when checking " random=" parameter of setting, so content-related advertising server (front end) can set all possible header (header), to avoid the browser cache image.
Utilize Internet Explorer and Mozilla browser, the cookie scheme of above-described illustration is with working based on the mail server of Hotmail and Yahoo Mail Web.If the acceptable P3P header of Inter Explorer is set up, it also can be worked in Outlook and Outlook Express so.Take together, with regard to number of users, this has covered most existing email CLIENT PROGRAM.Even the work together of the more different E-Mail client applications of above-mentioned illustration cookie scheme, the pent CLIENT PROGRAM of cookie for example, it also should not influence the recipient of news in brief unfriendly in others.
Replace or except above-mentioned technology, can use other scheme of determining user action, for example the technology of description among the U.S. Patent Application Serial Number No.10/653899 that submits on September 4th, 2003 (drawing at this is reference) " SYSTEMS AND METHOD FORDETERMINING USER ACTIONS " (the invention people is Alex Roetter and DeepakJindal).
§ 4.2.3 image ad generates
Improve among the embodiment at one of the present invention, come directly to produce image at server end by the HTML that uses any template to produce, provide advertisement flexibly with format to the Email publisher, for example the advertisement that can use of Web publisher is with format.For example, can provide html document to a certain facility (such as server independently).This facility can use html document to produce image (for example PNG image), and corresponding with all anchor points (can click the district) in the document (rect, URL) right tabulation (being generically and collectively referred to as " image ad ").
Described therein facility is among the embodiment of separate server, content-related advertising server (front end) can with one or more separate server exchange messages.When receiving the request with " output=png " when content-related advertising server, it at first handles this request of normal process, will export HTML as it.Subsequently, replace returning HTML to client computer, it can send it to independently server.Described independently server produces image ad subsequently, and it is returned to content-related advertising server (front end), and content-related advertising server returns to client apparatus with it.When the user clicked image ad, content-related advertising server (front end) can be clicked by deciphering which advertisement, and it is redirected to the click handling procedure, can handle image and click request.
§ 4.2.3.1 image ad generates performance to be strengthened
In the above example, independently server is always each request and produces an image ad.But the image ad that returns can be by high-speed cache.The fingerprint of HTML itself can be used as cache bar purpose index, but following Consideration should be satisfied.Because the click string among the HTML is always unique, therefore whole HTML can not produce any the hitting (hit) to the image ad high-speed cache alone.A kind of mode of avoiding this problem is to remove to click string from HTML.Another kind of mode is to use the fingerprint (the creation text of the creation ID of form HTML and appointment all is constant) based on the title of the accurate tabulation of advertisement creation (creative)-id and form.
The expection of news in brief audience rating of advertisement number of times is than the actual number height of eye several magnitude of the news in brief that sends.Because all advertisement exposures of single news in brief are shared identical content, therefore the number of pressing many groups of different advertisements of news in brief generation generally will be by a certain less numerical limit, when budget expiration (budget expire), described a certain less numeral will slowly increase along with the past of time.General next high, a large amount of advertisement gaps cause a large amount of combinations.Because have the asymptotic maximum about the number of combination, so the rating number of times is big more, Yu Qi cache hit rate is good more so.Thereby the high-speed cache image ad should improve performance greatly, is like this in news in brief market at least.Under the situation of the higher cache hit-miss ratio of expection, in news in brief, provide advertisement can not propose the high-throughput requirement to separate server.
Because high-speed cache is hit in the great majority request, so the requirement of the stand-by period of news in brief advertisement should not be a problem.500 milliseconds stand-by period is acceptable, because this may only be applicable to the 1in200 page view.But much better performance (separate server presents one group of stand-by period that the advertisement needs are about 140 milliseconds) is expected.To the load testing of the single content-related advertising server that uses single separate server point out write (single-threaded) separate server can handle 7 contents advertisings and present request/second, its average latency is 115 milliseconds, and the used time of 99% request is less than 140 milliseconds.
§ 4.2.4 detects advertisement selection and measurement performance
Technology below utilizing can detect cookie.When the user obtained to have the news in brief of advertisement for the first time, image can be sought the cookie that sets in the googleimageads.com territory of being made up of GoogleCookieTest=1.If find, can normally provide this advertisement so.If do not find, GoogleCookieTest can be set so, and browser can be redirected to the different URL that can check this cookie subsequently once more.If cookie exists, can send image ad so.Otherwise, white page can be provided.In fact, under any error situation of relevant image request, can provide transparent GIF.
§ 4.2.5 alternative
First alternative is used a certain combination of Javascript and/or IFRAMES.The advantage of this alternatives is that everything all works as webpage.The e-mail server based on Web that some are popular has all been removed Javascript and IFRAMES such as Hotmail and Yahoo but unfortunately.
Just (perhaps) insertion advertisement when send Email of second alternative.For example, when generating news in brief, the publisher can send the XML request to each recipient, and embeds advertisement in the text of news in brief.Any way format advertisement that this alternatives makes the publisher wish according to them.For the low publisher of technical merit, this is not convenient or impossible but unfortunately.In addition, also existence causes that advertisement is sent to the user's who never checks them problem.That is, advertisement is inserted in the Email that never is opened.In addition, with regard to this scheme, when advertisement is presented again, provide and/or the information used during advertisement may be outmoded.For example, the advertiser be settled its accounts or arrive a certain budget limitation after, audience rating of advertisement takes place.
In the 3rd alternative, the publisher can be by supplier's send Email of content-relevant ad.The supplier can insert image and/or HTML in the Email, and sends it to the user.Because the supplier of content-relevant ad can visit the content of email newsletter, advantageously, this alternatives does not need the Email publisher to register their news in brief.But from the supplier's of content-relevant ad viewpoint, this alternatives has increased the responsibility that sends many Emails.This alternatives also forces the publisher to use the email delivery supplier of content-relevant ad service as them.
With its use client image map, it would be better to and use the server end image map.As mentioned above, when using the e-mail server based on Web that is redirected to use with some, such alternatives can cause problem.There is the alternative distortion of using the server end image map.In these distortion, create the image of advertisement, as the x that receives click, during the y position, they are mapped in the advertisement of selection.
In the modification of the GUID of each recipient of server end image map, the publisher provides a globally unique identifier to each recipient, and described identifier can be used to discern the rating (impression) of hitting a little.But unfortunately, the publisher need know how to add GUID, and must be ready to do like this.When sending each recipient's message, these GUID will have to be integrated in each recipient's the message.In addition, the high-speed cache (having very long service time (time-to-live)) of GUID-advertisement mapping need be kept.In addition, for the news in brief recipient of themselves and a plurality of subscriber's mailing lists, this modification is unworkable.That is, when the recipient of news in brief begins news in brief is transmitted to other man-hour, this distortion is unworkable.
In the distortion of the IP address of server end image map, Email recipient's IP address is used as GUID.This makes the publisher not need to add GUID.But when clicking, experience agency's user can obtain wrong advertisement unfortunately.In addition, be similar to the modification of a GUID of each recipient recited above, need keep the high-speed cache (having very long service time) of GUID-advertisement mapping.
§ 4.3 exemplary apparatus
Fig. 4 is the high-level block diagram that can realize the machine 400 of one or more aforesaid operations.One or more such machines 400 can be used as content-related advertising server, separate server, client apparatus etc.Machine 400 consists essentially of one or more processors 410, one or more input/output interfaces unit 430, and one or more memory storages 420, and be convenient to the one or more system buss and/or the network 440 of the transmission of the information between the coupling access component.One or more input medias 432 and one or more output unit 434 can couple with one or more input/output interfaces 430.
One or more processor 410 executable machine executable instructions (for example, can be from PaloAlto, the solaris operating system that the Sun Microsystems Inc. of California obtains or can be from many manufacturers, such as Durham, the C or the C++ that move on the (SuSE) Linux OS that the Red Hat Inc. of North Carolina extensively obtains), thus realize one or more aspect of the present invention.At least a portion machine-executable instruction can be saved (temporarily or more muchly) and be kept on one or more memory storages 420, and/or can be received from external source by one or more input interface units 430.
In one embodiment, machine 400 can be one or more conventional personal computers.In this case, processor 410 can be one or more microprocessors.Bus 440 can comprise system bus.Memory storage 420 can comprise system storage, for example ROM (read-only memory) (ROM) and/or random-access memory (ram).Memory storage 420 also can comprise the hard disk drive of reading writing harddisk, reads or writes the disc driver of (for example detachable) disk and reads or writes dismountable (magnetic) CD, such as the CD drive of CD or other (magnetic) light medium.
The user imports personal computer to order and information by input media 432 such as keyboard and indicating device (for example mouse).Also (perhaps on the other hand) can comprise such as microphone, operating rod, game paddle, dish, scanner etc.These and other input media is the suitable interface 430 by coupling with system bus 440 usually, is connected with processor 410.Output unit 434 can comprise the display device of monitor or other type, and the display device of described monitor or other type also can be connected with system bus 440 by suitable interface.Except (perhaps replacing) monitor, personal computer also can comprise other (periphery) output unit (not shown), such as loudspeaker and printer.
§ 4.4 conclusions
Use the embodiments of the invention of client image map and cookie to have many advantages.Cookie is the effective means that ad click and specific audience rating of advertisement are complementary.(even be not impossible) joins HTML in the e-mail body when checking owing to be difficult to, and before the time of checking, can not determine audience rating of advertisement definitely, so cookie can be used for making user action, and for example click and audience rating of advertisement are complementary.Another kind of possible solution can be each example (that is, example of each recipient) for the news in brief that sends, and comprises a different globally unique ID.The shortcoming of this alternatives is to need to continue these millions of GUID of indefinite time keeping.For the news in brief publisher, this alternatives also is very inconvenient, asks a new HTML code segment because it is necessary for each recipient.By cookie, do not need to preserve the state relevant with audience rating of advertisement at server end.
In the above-described embodiments, when the user clicked, the unique information that obtains from cookie was when producing audience rating of advertisement, available information.So without any need for individual identifiable information, and this cookie needn't link with any other cookie in cookie.This cookie needn't survive more than one hour, perhaps still less.
Though ImgAd cookie can be a session cookie effective in the constraint of single browser window, but this may fail under certain conditions.For example, if the user receives Email with Outlook or Outlook Express, ad click may be opened second browser window so, and this browser window may not be shared identical session cookie with initial window.Thereby, replace using session cookie, preferably have the cookie of short time endowment (about a hour).
Claims (21)
- In case 1, a kind of email documents is present in the method for just determining content-relevant ad on the client apparatus, described method comprises:A) from client apparatus the document identifier the ad-request is offered content-related advertising server;B), use content correlated information related and advertising message to determine one group of one or more advertisement with document identifier at content-related advertising server;C) produce the image that comprises one group of definite one or more advertisement;D) image and the Session ID that produce are offered client apparatus;E) utilize client apparatus in document, to present image;F) detection is to the user action of presenting image; WithG) response sends to content-related advertising server to Session ID and positional information to the detection of user action of presenting image.
- 2, in accordance with the method for claim 1, wherein document comprises image map information, and image map information comprises the image source-information, and wherein the image source-information comprises document identifier.
- 3, in accordance with the method for claim 1, wherein document comprises image map information, and image map information comprises the image source-information, and wherein the image source-information is the path that comprises unique identifier.
- 4, in accordance with the method for claim 3, wherein said path also comprises the URL of content-related advertising server.
- 5, in accordance with the method for claim 1, also comprise:H), utilize the Session ID and the updating location information advertising message that send by content-related advertising server.
- 6, in accordance with the method for claim 5, the advertising message of wherein upgrading comprises charging information.
- 7, in accordance with the method for claim 5, the advertising message of wherein upgrading comprises the advertisement performance information.
- In case 8, a kind of email documents is present in the equipment of just determining content-relevant ad on the client apparatus, described equipment comprises:A) accept the input end of the document identifier the ad-request from client apparatus;B) use content correlated information and the advertising message related to determine one group of one or more advertisement with document identifier;C) produce the image that comprises one group of definite one or more advertisement;D) image and the Session ID that produce are transmitted to client apparatus,Wherein image of Chan Shenging and Session ID comprise the detection of being convenient to respond to the user action that is presented on the image on the client apparatus, make client apparatus send to Session ID and positional information the information of content-related advertising server.
- 9, according to the described equipment of claim 8, wherein document comprises image map information, and image map information comprises the image source-information, and wherein the image source-information comprises document identifier.
- 10, according to the described equipment of claim 8, wherein document comprises image map information, and image map information comprises the image source-information, and wherein the image source-information is the path that comprises unique identifier.
- 11, according to the described equipment of claim 10, wherein said path also comprises the URL of content-related advertising server.
- 12, according to the described equipment of claim 8, also comprise:E), utilize the Session ID and the updating location information advertising message that send by content-related advertising server.
- 13, according to the described equipment of claim 12, wherein the advertising message of Geng Xining comprises charging information.
- 14, according to the described equipment of claim 12, wherein the advertising message of Geng Xining comprises the advertisement performance information.
- In case 15, a kind of email documents is present in the method for just determining content-relevant ad on the client apparatus, described method comprises:A) accept to the document identifier the ad-request of content-related advertising server from client apparatus;B) use content correlated information and the advertising message related to determine one group of one or more advertisement with document identifier;C) produce the image that comprises one group of definite one or more advertisement;D) image and the Session ID that produce are transmitted to client apparatus; WithE) from client apparatus accept session identifier and positional information.
- 16, in accordance with the method for claim 15, wherein document comprises image map information, and image map information comprises the image source-information, and wherein the image source-information comprises document identifier.
- 17, in accordance with the method for claim 15, wherein document comprises image map information, and image map information comprises the image source-information, and wherein the image source-information is the path that comprises unique identifier.
- 18, in accordance with the method for claim 17, wherein said path also comprises the URL of content-related advertising server.
- 19, in accordance with the method for claim 15, also comprise:F) utilize Session ID and the updating location information advertising message that sends.
- 20, in accordance with the method for claim 19, the advertising message of wherein upgrading comprises charging information.
- 21, in accordance with the method for claim 19, the advertising message of wherein upgrading comprises the advertisement performance information.
Applications Claiming Priority (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US50916403P | 2003-10-07 | 2003-10-07 | |
US60/509,164 | 2003-10-07 | ||
US10/699,607 | 2003-10-31 |
Publications (1)
Publication Number | Publication Date |
---|---|
CN1882958A true CN1882958A (en) | 2006-12-20 |
Family
ID=37520238
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CNA2004800335387A Pending CN1882958A (en) | 2003-10-07 | 2004-10-05 | Serving content-targeted ads in e-mail, such as e-mail newsletters |
Country Status (1)
Country | Link |
---|---|
CN (1) | CN1882958A (en) |
Cited By (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
WO2009003388A1 (en) * | 2007-06-29 | 2009-01-08 | Huawei Technologies Co., Ltd. | Advertisement event statistic method and advertisement information system and associated devices |
CN101872457A (en) * | 2009-04-23 | 2010-10-27 | 深圳市时代赢客网络有限公司 | Advertisement delivery system and advertisement delivery method |
CN102542023A (en) * | 2010-12-21 | 2012-07-04 | 微软公司 | Utilizing images as online identifiers to link behaviors together |
CN104636949A (en) * | 2013-11-15 | 2015-05-20 | 智泓科技股份有限公司 | Mobile advertising based short message feedback method and system |
WO2017024852A1 (en) * | 2015-08-13 | 2017-02-16 | 腾讯科技（深圳）有限公司 | Information presentation method, presentation server, social application client and system |
-
2004
- 2004-10-05 CN CNA2004800335387A patent/CN1882958A/en active Pending
Cited By (8)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
WO2009003388A1 (en) * | 2007-06-29 | 2009-01-08 | Huawei Technologies Co., Ltd. | Advertisement event statistic method and advertisement information system and associated devices |
CN101872457A (en) * | 2009-04-23 | 2010-10-27 | 深圳市时代赢客网络有限公司 | Advertisement delivery system and advertisement delivery method |
CN102542023A (en) * | 2010-12-21 | 2012-07-04 | 微软公司 | Utilizing images as online identifiers to link behaviors together |
CN102542023B (en) * | 2010-12-21 | 2015-04-15 | 微软公司 | Utilizing images as online identifiers to link behaviors together |
CN104636949A (en) * | 2013-11-15 | 2015-05-20 | 智泓科技股份有限公司 | Mobile advertising based short message feedback method and system |
CN104636949B (en) * | 2013-11-15 | 2017-12-22 | 智泓科技股份有限公司 | News in brief feedback method and its system based on action advertisement |
WO2017024852A1 (en) * | 2015-08-13 | 2017-02-16 | 腾讯科技（深圳）有限公司 | Information presentation method, presentation server, social application client and system |
US10664544B2 (en) | 2015-08-13 | 2020-05-26 | Tencent Technology (Shenzhen) Company Limited | Information display method, display server, social application client and system |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
KR100913687B1 (en) | Serving content-targeted ads in e-mail, such as e-mail newsletters | |
CN1163831C (en) | Computer readable recorded medium on which image file is recorded, device for producing recorded medium and medium on which image file creating program is recorded | |
US7603619B2 (en) | Formatting a user network site based on user preferences and format performance data | |
US7734722B2 (en) | Deep clickflow tracking | |
RU2446468C2 (en) | Logocons: advertising product for brand advertisers | |
CN1249625C (en) | Distributing promotional and advertising material based upon internet usage | |
US8239494B2 (en) | Method and system for processing published content on the internet | |
US20230130850A1 (en) | Techniques for integrating external content from advertising services into client applications | |
CN1842792A (en) | Rendering advertisements with documents having one or more topics using user topic interest information | |
CN101036157A (en) | Determining ad targeting information and/or ad creative information using past search queries | |
CN101014946A (en) | Rendering content-targeted ads with e-mail | |
CN1864161A (en) | Determining and/or using location information in an ad system | |
US20110314114A1 (en) | Persistent Cross Channel Cookie Method and System | |
US9978072B2 (en) | Computerized system and method for creating a modified version of a digital slide show by creating and inserting a digital content item into the digital slide show | |
EP1574037A2 (en) | Serving content-relevant advertisements with client-side device support | |
US20160379279A1 (en) | System and method for real-time automated formatting of advertising content in email publications | |
CN1926564A (en) | Determining and/or using end user local time information in an ad system | |
JP2009530722A (en) | Customized news abstract creation method and system | |
CN1922626A (en) | Generating user information for use in targeted advertising | |
CN1759388A (en) | Serving advertisements based on content by client terminal device | |
CN1882958A (en) | Serving content-targeted ads in e-mail, such as e-mail newsletters | |
JP4902200B2 (en) | Provide content-related advertising with client-side device support | |
JP2012064144A (en) | Relay server and advertisement distribution system | |
AU2004282878B2 (en) | Serving content-targeted ads in e-mail, such as e-mail newsletters | |
CN1391181A (en) | Headline advertisement making devices and methods, storage medium |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
C06 | Publication | ||
PB01 | Publication | ||
C10 | Entry into substantive examination | ||
SE01 | Entry into force of request for substantive examination | ||
C02 | Deemed withdrawal of patent application after publication (patent law 2001) | ||
WD01 | Invention patent application deemed withdrawn after publication |
Application publication date: 20061220 |