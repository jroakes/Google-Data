US20030159058A1 - Method of performing active data copying processing, and storage subsystem and storage control apparatus for performing active data copying processing - Google Patents
Method of performing active data copying processing, and storage subsystem and storage control apparatus for performing active data copying processing Download PDFInfo
- Publication number
- US20030159058A1 US20030159058A1 US10/371,595 US37159503A US2003159058A1 US 20030159058 A1 US20030159058 A1 US 20030159058A1 US 37159503 A US37159503 A US 37159503A US 2003159058 A1 US2003159058 A1 US 2003159058A1
- Authority
- US
- United States
- Prior art keywords
- storage device
- computer
- logical storage
- data copy
- copy
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Granted
Links
- 238000000034 method Methods 0.000 title claims abstract description 117
- 238000012545 processing Methods 0.000 title claims description 55
- 230000008569 process Effects 0.000 claims abstract description 96
- 239000000835 fiber Substances 0.000 claims description 86
- 238000004891 communication Methods 0.000 claims description 24
- 230000005540 biological transmission Effects 0.000 claims description 19
- 230000004044 response Effects 0.000 claims description 19
- 238000010586 diagram Methods 0.000 description 22
- 238000012546 transfer Methods 0.000 description 9
- 230000002093 peripheral effect Effects 0.000 description 6
- 239000004744 fabric Substances 0.000 description 4
- 238000012423 maintenance Methods 0.000 description 4
- 230000010076 replication Effects 0.000 description 3
- 238000012512 characterization method Methods 0.000 description 2
- 239000003999 initiator Substances 0.000 description 2
- 230000007246 mechanism Effects 0.000 description 2
- 230000003068 static effect Effects 0.000 description 2
- 101001128694 Homo sapiens Neuroendocrine convertase 1 Proteins 0.000 description 1
- 101000828971 Homo sapiens Signal peptidase complex subunit 3 Proteins 0.000 description 1
- 101000979222 Hydra vulgaris PC3-like endoprotease variant A Proteins 0.000 description 1
- 101000979221 Hydra vulgaris PC3-like endoprotease variant B Proteins 0.000 description 1
- 102100023789 Signal peptidase complex subunit 3 Human genes 0.000 description 1
- 230000003213 activating effect Effects 0.000 description 1
- 230000008859 change Effects 0.000 description 1
- 239000000470 constituent Substances 0.000 description 1
- 238000007796 conventional method Methods 0.000 description 1
- 230000000694 effects Effects 0.000 description 1
- 230000006870 function Effects 0.000 description 1
- 238000012986 modification Methods 0.000 description 1
- 230000004048 modification Effects 0.000 description 1
- 238000011084 recovery Methods 0.000 description 1
Images
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L63/00—Network architectures or network communication protocols for network security
- H04L63/10—Network architectures or network communication protocols for network security for controlling access to devices or network resources
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F21/00—Security arrangements for protecting computers, components thereof, programs or data against unauthorised activity
- G06F21/70—Protecting specific internal or peripheral components, in which the protection of a component leads to protection of the entire computer
- G06F21/78—Protecting specific internal or peripheral components, in which the protection of a component leads to protection of the entire computer to assure secure storage of data
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F3/00—Input arrangements for transferring data to be processed into a form capable of being handled by the computer; Output arrangements for transferring data from processing unit to output unit, e.g. interface arrangements
- G06F3/06—Digital input from, or digital output to, record carriers, e.g. RAID, emulated record carriers or networked record carriers
- G06F3/0601—Interfaces specially adapted for storage systems
- G06F3/0602—Interfaces specially adapted for storage systems specifically adapted to achieve a particular effect
- G06F3/062—Securing storage systems
- G06F3/0622—Securing storage systems in relation to access
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F3/00—Input arrangements for transferring data to be processed into a form capable of being handled by the computer; Output arrangements for transferring data from processing unit to output unit, e.g. interface arrangements
- G06F3/06—Digital input from, or digital output to, record carriers, e.g. RAID, emulated record carriers or networked record carriers
- G06F3/0601—Interfaces specially adapted for storage systems
- G06F3/0628—Interfaces specially adapted for storage systems making use of a particular technique
- G06F3/0629—Configuration or reconfiguration of storage systems
- G06F3/0637—Permissions
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F3/00—Input arrangements for transferring data to be processed into a form capable of being handled by the computer; Output arrangements for transferring data from processing unit to output unit, e.g. interface arrangements
- G06F3/06—Digital input from, or digital output to, record carriers, e.g. RAID, emulated record carriers or networked record carriers
- G06F3/0601—Interfaces specially adapted for storage systems
- G06F3/0628—Interfaces specially adapted for storage systems making use of a particular technique
- G06F3/0646—Horizontal data movement in storage systems, i.e. moving data in between storage devices or systems
- G06F3/065—Replication mechanisms
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F3/00—Input arrangements for transferring data to be processed into a form capable of being handled by the computer; Output arrangements for transferring data from processing unit to output unit, e.g. interface arrangements
- G06F3/06—Digital input from, or digital output to, record carriers, e.g. RAID, emulated record carriers or networked record carriers
- G06F3/0601—Interfaces specially adapted for storage systems
- G06F3/0628—Interfaces specially adapted for storage systems making use of a particular technique
- G06F3/0655—Vertical data movement, i.e. input-output transfer; data movement between one or more hosts and one or more storage devices
- G06F3/0659—Command handling arrangements, e.g. command buffers, queues, command scheduling
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F3/00—Input arrangements for transferring data to be processed into a form capable of being handled by the computer; Output arrangements for transferring data from processing unit to output unit, e.g. interface arrangements
- G06F3/06—Digital input from, or digital output to, record carriers, e.g. RAID, emulated record carriers or networked record carriers
- G06F3/0601—Interfaces specially adapted for storage systems
- G06F3/0668—Interfaces specially adapted for storage systems adopting a particular infrastructure
- G06F3/0671—In-line storage system
- G06F3/0683—Plurality of storage devices
-
- Y—GENERAL TAGGING OF NEW TECHNOLOGICAL DEVELOPMENTS; GENERAL TAGGING OF CROSS-SECTIONAL TECHNOLOGIES SPANNING OVER SEVERAL SECTIONS OF THE IPC; TECHNICAL SUBJECTS COVERED BY FORMER USPC CROSS-REFERENCE ART COLLECTIONS [XRACs] AND DIGESTS
- Y10—TECHNICAL SUBJECTS COVERED BY FORMER USPC
- Y10S—TECHNICAL SUBJECTS COVERED BY FORMER USPC CROSS-REFERENCE ART COLLECTIONS [XRACs] AND DIGESTS
- Y10S707/00—Data processing: database and file management or data structures
- Y10S707/99951—File or database maintenance
- Y10S707/99952—Coherency, e.g. same view to multiple users
- Y10S707/99953—Recoverability
-
- Y—GENERAL TAGGING OF NEW TECHNOLOGICAL DEVELOPMENTS; GENERAL TAGGING OF CROSS-SECTIONAL TECHNOLOGIES SPANNING OVER SEVERAL SECTIONS OF THE IPC; TECHNICAL SUBJECTS COVERED BY FORMER USPC CROSS-REFERENCE ART COLLECTIONS [XRACs] AND DIGESTS
- Y10—TECHNICAL SUBJECTS COVERED BY FORMER USPC
- Y10S—TECHNICAL SUBJECTS COVERED BY FORMER USPC CROSS-REFERENCE ART COLLECTIONS [XRACs] AND DIGESTS
- Y10S707/00—Data processing: database and file management or data structures
- Y10S707/99951—File or database maintenance
- Y10S707/99952—Coherency, e.g. same view to multiple users
- Y10S707/99955—Archiving or backup
Definitions
- the present invention relates generally to a storage subsystem, a storage control apparatus and a data copying method, and more particularly to a storage subsystem for performing a data copy process without involving a computer, a storage control apparatus and a data copying method.
- the invention also relates to a storage subsystem having the fibre channel protocol standardized by ANSI X3T11 as an interface with upper level apparatuses.
- the fibre channel protocol standardized by ANSI X3T11 can connect a number of apparatuses and can run at the same time a variety of protocols such as SCSI, ESCON (registered trademark) and TCP/IP.
- SCSI Serial Bus
- ESCON registered trademark
- TCP/IP Transmission Control Protocol/Internet Protocol
- the fibre channel is a serial transfer protocol without a specific command set. It can use effectively the bandwidth of transmission media because it transfers information asynchronously. Although the fibre channel does not have a specific command set, it utilizes a physical transfer scheme as a transport path of command sets such as SCSI and ESCON (registered trademark). It is therefore possible to accomplish data transfer of high speed and various types by inheriting conventional software resources.
- the fibre channel is an interface having the characteristic features of both a channel and a network. Namely, once the source and destination are established, the fibre channel can perform data transfer of small delay and high speed. This is characteristic of the channel.
- An apparatus wishing communications participates in the communication system of the fibre channel upon an arbitrary event, and exchanges information with a communication partner apparatus to mutually recognize and start communications. This is characteristic of a network.
- a procedure of information exchange with a partner apparatus is called a log-in in particular.
- An apparatus having an interface of the fibre channel is called a node, and the actual interface is called a port.
- One node can have one or more ports.
- the number of ports which can participate at the same time in the whole system of the fibre channel is the number represented by a 24-bit address at a maximum, i.e., about 16,770 thousands.
- a hardware used for such connection is called a fabric. Ports at the source and destination operate by considering only the information of the ports without being conscious of the fabric. The fabric is therefore discussed in many cases as logical media.
- Each of the node and port stores an identifier unique in the world assigned from the standardization institute based on the predetermined rule.
- This identifier corresponds to a MAC address of TCP/IP and is a fixed address in terms of hardware. This address is called a WWN (World Wide Name) and has an eight-byte area.
- Each frame comprises: a 4-byte identifier called an SOF (Start of Frame) representative of the start of the frame; a 24-byte frame header for the control of a link operation and the characterization of the frame; a data field in which actual data to be transferred is written; a 4-byte cyclical redundancy code (CRC); and a 4-byte identifier called an EOF (End of Frame) representative of the end of the frame.
- SOF Start of Frame
- CRC 4-byte cyclical redundancy code
- EOF End of Frame
- a 3-byte identifier D_ID for identifying the frame transmission destination port is written in the field from 23-rd to 0-th bits of the 0-th word
- a 3-byte identifier S_ID for identifying the frame transmission source port is written in the field from 23-rd to 0-th bits of the 1-st word.
- the address identifier S_ID for identifying a transmission source port has a dynamically changing value reported from an upper level apparatus.
- the identifier S_ID is assigned by the fabric during its initializing procedure and the assigned value depends on WWN or the like of the node and port of a frame transmission source.
- WWN of the transmission source port is stored in the 8-byte field from 21-st byte to 28-th byte from the start of the data field following the frame header, whereas WWN of the transmission source node is stored in the 8-byte field from 29-th byte to 36-th byte from the start of the data field.
- the request destination apparatus picks up the information contained in the frame, and if the log-in is to be accepted, transmits an ACC frame to the log-in request source, whereas if the log-in is to be rejected an LS-RJT frame is transmitted to the log-in request source.
- the log-in request source can know a success of the log-in and enters the state that an I/O process such as data transfer can start.
- the I/O process relative to the log-in request destination is not allowed because the log-in was not succeeded.
- JP-A-10-333839 discloses a storage subsystem illegal access preventing method using the fibre channel protocol.
- the storage subsystem prior to activating an upper level apparatus such as a host computer accessing the storage subsystem, the storage subsystem stores beforehand: WWN (World Wide Name) for uniquely and statically identifying a fiber channel interface port (called a port) of the upper level apparatus; and a table storing a correspondence between the first-mentioned WWN and a specific port (WWN) in the storage subsystem or a correspondence between N_Port_Name and an arbitrary storage area in the storage subsystem.
- WWN World Wide Name
- WWN specific port
- JP-A-2000-276406 discloses the techniques of solving the problems of the difficulty in applying JP-A-HEI-10-333839 to actual systems.
- the problems are as in the following.
- the communication performance is considerably limited because it is necessary to determine an access permission for each and every frame. If the access subject is not a port but a partial area in the storage subsystem, the upper level apparatus is required to write WWN in all frames to be transmitted. This results in that the upper level apparatus is required to satisfy the specification out of the standard fibre channel protocol.
- the storage subsystem stores beforehand: WWN for uniquely and statically identifying an upper level apparatus such as a host computer accessing the storage subsystem or a port of the upper level apparatus; or a table storing a correspondence between a node name (WWN) of the upper level apparatus and each storage area in the storage subsystem permitted or rejected to be accessed.
- the storage subsystem also stores a table storing a correspondence between WWN of a node and S_ID of a port to be dynamically assigned in the log-in process prior to information transmission/reception, for the identification of the upper level apparatus or the port thereof in order for the upper level apparatus to communicate with the storage subsystem by using the fibre channel interface.
- each table is searched and compared by using the S_ID contained in the request frame as a search key. In this manner, an access permission/rejection of the storage area is determined.
- an upper level apparatus performs setting/controlling of the storage subsystem, such as a remote copy and a snap shot of a storage area, by using a control command different from a general read/write command.
- SNIA Storage Network Industry Association
- SNIA Storage Area Network
- SNIA is constituted of vendors of SAN products of hardware and software.
- the backup section meeting of SNIA standardizes SCSI EXTENDED COPY as a SCSI extended protocol for use with SAN.
- a plurality of vendors intend to use the common specification standardized by the section meeting.
- SCSI EXTENDED COPY is a common protocol for the communications between apparatuses. This protocol can perform server-less backup of data in a storage, without involving a host computer connected by the fibre channel protocol such as SAN.
- FIGS. 1A and 1B show the relation between a storage subsystem and host computers. With reference to FIGS. 1A and 1B, the problems associated with related art will be described.
- Host computers connected to the storage subsystem 1100 include a host computer A 1030 , a host computer B 1020 and a backup server C 1010 .
- the backup server C 1010 has a function of backing up ( 1600 ) data in the storage subsystem 1100 into a tape apparatus (tape record/reproduction apparatus) 1210 by using a snap shot 1300 or the like.
- the storage subsystem 1100 has logical storage devices LU_A 1110 , LU_B 1120 and LU_C 11130 .
- host computer A 1030 , host computer B 1020 and backup server C 1010 are permitted to access only the logical storage devices LU_A 1110 , LU_B 1120 and LU_C 11130 of the storage subsystem, respectively, as shown in FIG. 1A (access permission 1400 ). This access is checked from WWN for uniquely identifying a port of the fibre channel of the upper level apparatus such as a host computer, as described earlier. It is also assumed that LU_C 1130 is a volume for obtaining a replication (static image) of LU_A 1110 at an arbitrary time.
- the host computer A performs an I/O process relative to LU_A
- the host computer B performs an I/O process relative to LU_B
- the backup server C backs up the data in LU_C in accordance with a schedule set by a user.
- the storage subsystem 1100 checks WWN of the host computer B 1020 so that the host computer B 1020 cannot access (log in) the logical device LU_A 1110 or LU_C 1130 ( 1500 ).
- data in the storage area not accessible can be illegally accessed in the following manner.
- the host computer B issues the SCSI EXTENDED COPY command to the accessible LU_B 1120 . If the contents of the command are a copy of data to an external of the storage subsystem, e.g, a tape apparatus (tape record/reproduction apparatus) 1220 accessible by the host computer B, from the logical device LU_C 1130 not accessible by the host computer B, then an outflow of data stored in the logical device LU_A 1110 or LU_C 1130 cannot be checked.
- an external of the storage subsystem e.g, a tape apparatus (tape record/reproduction apparatus) 1220 accessible by the host computer B
- a storage subsystem capable of preventing illegal data copy, a storage control apparatus and a data copying method are also described, wherein a security check at the WWN level of a copy source volume is realized for a data copy of the storage subsystem by using a control command such as a SCSI EXTENDED COPY command, and an access to the storage subsystem and a storage area in the storage subsystem from a plurality of upper level apparatuses is selectively limited.
- a control command such as a SCSI EXTENDED COPY command
- a storage subsystem coupled to a computer, comprising: a logical storage device to which an I/O process is performed by the computer; a judgment unit which determines whether an access to the logical storage device is permitted or not, in accordance with a data copy instruction from the computer for a data copy process relative to the logical storage device; and a data copy processing unit responsive to the data copy instruction from the computer which data copy processing unit performs the data copy process relative to the logical storage device without involving the computer, in accordance with a determination result by the determination unit.
- a data copying method of performing a data copy process relative to a logical storage device without involving a computer comprising the steps of: determining from a data copy instruction from the computer whether an access to the logical storage device is permitted or not; and performing the data copy process relative to the logical storage device in accordance with an access permission/rejection determination result of the logical storage device.
- an access permission/rejection is determined to thereby control the data copy process without involving the computer, i.e., to actively control the data copy process.
- An active data copy process means that without involving the resource of a computer (host computer), a peripheral apparatus (either a logical peripheral device or a physical peripheral device) received a copy instruction command issued by the computer processes the copy instruction.
- a peripheral apparatus either a logical peripheral device or a physical peripheral device
- a security check at the WWN level of a copy source volume is realized for a data copy instruction from the inside of the storage subsystem using a control command such as a SCSI EXTENDED COPY command, and an access to the storage subsystem and a storage area in the storage subsystem from a plurality of upper level apparatuses is selectively limited to prevent illegal data copy.
- FIGS. 1A and 1B are diagrams showing the relation between the storage subsystem and host computers illustrating the problem associated with related art.
- FIG. 2 is a block diagram showing the structure of a computer system using a storage subsystem according to an embodiment of the invention.
- FIG. 3 is a diagram showing the structure of a CDB (Command Descriptor Block) of an EXTENDED COPY command.
- FIG. 4 is a diagram showing the structure of an EXTENDED COPY command parameter list.
- FIG. 5 is a diagram detailing the contents of each of target descriptors 4500 written from 16-th byte to n-th byte in the command parameter list shown in FIG. 4.
- FIG. 6 is a diagram detailing an example of the contents of device specific parameters described from 28-th byte to 31-st byte of the target descriptor shown in FIG. 5.
- FIG. 7 is a diagram detailing another example of the contents of-device specific parameters described from 28-th byte to 31-st byte of the target descriptor shown in FIG. 5.
- FIG. 8 is a diagram detailing an example of the contents of each of segment descriptors written from (n+1)-th byte to (n+m)-th byte in the command parameter list shown in FIG. 4.
- FIG. 9 is a diagram showing the structure of a fibre channel frame.
- FIG. 10 is a diagram showing the structure of a frame header of the fibre channel frame.
- FIG. 11 shows an example of a table storing a correspondence between S_ID in the fiber channel frame transmitted from an upper level apparatus to the storage subsystem and a WWN of the upper level apparatus.
- FIG. 12 is a diagram showing an example of LUN-WWN access permission/rejection information shown in FIG. 2.
- FIG. 13 is a flow chart illustrating an example of an operation of updating the LUN-WWN access permission/rejection information.
- FIG. 14 is a flow chart illustrating an example of the operation for a device relative to which a SCSI EXTENDED COPY command is received via a fibre channel network.
- FIG. 15 is a flow chart illustrating another example of the operation for a device which receives a SCSI EXTENDED COPY command via the fibre channel network.
- FIG. 2 is a block diagram showing the structure of a computer system using the storage subsystem according to an embodiment of the invention.
- reference numerals 2000 and 2001 represent host computers
- 2002 represents a backup server
- 2100 represents a storage server
- 2200 represents a storage subsystem control unit (storage control apparatus)
- 2210 represents a read/write processing unit
- 2211 and 2212 represent logical/physical correspondence information
- 2213 represents a command processing unit
- 2214 represents a SCSI command processing unit
- 2220 represents a LUN security access control unit
- 2221 represents LUN-WWN access permission/rejection information
- 2222 represents WWN-S_ID correspondence information
- 2230 represents an EXTENDED COPY processing unit
- 2231 represents an EXTENDED COPY access control unit
- 2240 represents an external apparatus communication processing unit
- 2300 represents a physical storage device
- 2401 to 2412 and 2420 represent logical devices
- 2500 represents a network
- 2600 represents an I/O network
- the computer system shown in FIG. 2 has the host computers 2000 and 2001 , backup server 2002 , storage subsystem 2100 and setting terminal 2700 respectively interconnected by the network 2500 .
- the network 2500 may be Ethernet (registered trademark), FDDI, fibre channel, public telephone line or the like, and the setting terminal is generally used for the maintenance and management works of the storage subsystem.
- the host computers 2000 and 2001 and backup server 2002 are also connected to the storage subsystem 2100 via the I/O network 2600 and I/O buses 2610 and issue an I/O processing request for data read/write to the storage subsystem 2100 .
- the I/O network 2600 and I/O buses 2610 are connected to the ports 2101 and 2102 of the storage subsystem 2100 .
- the port has a fibre channel interface for receiving an I/O processing request (communication processing request) from a computer and is a communication port capable of transmitting/receiving a SCSI command.
- the I/O network 2600 and I/O bus 2610 may be one of various means such as fibre channel, SCSI, ESCON (registered trademark), Ethernet (registered trademark), and Infiniband (registered trademark).
- the external communication processing unit 2240 of the storage subsystem 2100 performs communication processing of the host computers, backup server, setting terminal and the like with an external apparatus by providing a proper interface which matches the communication transmission path such as fibre channel, SCSI, ESCON (registered trademark) and Ethernet (registered trademark), a protocol and the like.
- the apparatuses connectable to the storage subsystem 2100 are not limited only to two host computers and one backup server, but at least one or more host computers may be connected to one or more storage subsystems.
- the invention aims to provide a security mechanism for a storage device when one device received a command from a host computer copies data to the same or different device without involving the host computer. More specifically, in the computer system, if a peripheral apparatus (both logical and physical apparatuses) received a copy instruction command issued from a host computer has an ability to process the copy instruction, the peripheral apparatus becomes an initiator without utilizing the resources of the host computer. This peripheral apparatus copies data in some area of a storage device designated by the contents of the command to some area of the same or different storage device. In the so-called server-less data copy scheme, it is therefore an object of the invention to provide a storage device executing the data copy scheme with a security mechanism.
- Such a command is supported presently by the EXTENDED COPY command of SCSI.
- Embodiments of the invention will be described by using this command by way of example.
- a fibre channel is used by way of example in the following embodiments of the invention.
- the fibre channel can achieve communication control of transmission/reception of a SCSI command.
- the storage subsystem 2100 is constituted of the storage subsystem control unit 2200 and a plurality of physical storage devices 2300 .
- a disk array of a plurality of physical storage devices is used in order to ensure security and reliability of the storage subsystem.
- logical storage areas are formed which are supplied as logical devices 2401 to 2412 and 2420 together with other logical devices to the host computers connected to the storage subsystem.
- the logical/physical correspondence unit 2212 upon reception of a read/write processing request for the physical storage device 2300 , acquires a logical/physical correspondence by referring to the logical/physical storage area correspondence information 2211 .
- the read/write unit 2210 performs a read/write processing relative to a proper storage area.
- the storage subsystem control unit 2200 also processes various requests from a host computer and supplies the setting terminal 2700 and host computers with information necessary for the storage subsystem maintenance/management, such as operation information, failure information and management information of the storage subsystem.
- the storage subsystem control unit 2200 has the LUN security access control unit 2220 which performs LUN access control in accordance with: the information 2221 on a correspondence between WWN of a host computer trying to connect the storage subsystem 2100 and access permission/rejection for LUN as the identifier of each of the logical devices 2400 to 2412 and 2420 in the storage subsystem 2100 ; the information 2222 on a correspondence between S_ID in a fibre channel frame transmitted when a host computer tries to connect the storage subsystem via the fibre channel and WWN of the host computer; the information 2221 on a correspondence between WWN of a host computer and access permission/rejection for LUN; and the information 2222 on a correspondence between S_ID and WWN of a host computer.
- the storage subsystem control unit 2200 also has the EXTENDED COPY command processing unit 2230 and EXTENDED COPY access control unit 2231 .
- the EXTENDED COPY command processing unit 2230 analyzes the EXTENDED COPY command of SCSI issued to a particular logical device and performs proper processing.
- the EXTENDED COPY access control unit 2231 prevents an outflow of illegal data to be caused by the EXTENDED COPY command.
- the logical device may or may not have a storage area mapped to a physical storage area.
- the logical devices 2401 , 2407 and 2410 are the logical devices having storage areas mapped to the physical storage areas, and the logical device 2420 is the logical device without a storage area mapped to the physical storage area.
- a plurality of storage subsystem control units may be provided in the storage subsystem.
- the storage subsystem control unit 2200 has information necessary for the system to perform various processes, such as the system structure information, e.g., access operation information relative to logical storage devices and caches, parity group structural information, its RAID level information and the like. These pieces of information are not important when the embodiments of the invention are described, and so the description thereof is omitted.
- Each of the host computer, backup server, storage subsystem control unit and setting terminal has constituent elements essential for a general computer, such as a memory for storing programs and information necessary for various processes, a CPU and an internal data bus. These elements are not important when the embodiments of the invention are described, and so the description thereof is omitted.
- FIG. 3 is a diagram showing the structure of a CDB (Command Descriptor Block) of the EXTENDED COPY command.
- CDB Common Descriptor Block
- CDB of the EXTENDED COPY command has 16 bytes.
- a process code 3100 described in the 0-th byte is 83h (h indicated a hexadecimal notation).
- the area from 1-st byte to 9-th byte and 14-th byte is a reserved area.
- a parameter list length 3200 representative of the length of a parameter list of the EXTENDED COPY command is written in the area from 10-th byte to 13-th byte.
- a parameter necessary for the execution of an EXTENDED COPY command is designated by CDB and transmitted being written in a data-out buffer during a data-out phase after the phase of CDB.
- an initiator of SCSI transmits data designated by the command from a host computer to the target of the storage subsystem.
- FIG. 4 is a diagram showing the structure of an EXTENDED COPY command parameter list.
- This list shows the format of a command parameter list necessary for the execution of the EXTENDED COPY command described in the data-out buffer, if it is determined that the CDB process code is 83h and the command is the EXTENDED COPY command, as described with reference to FIG. 3.
- the parameter list length 3200 shown in FIG. 3 is the length of the parameter list represented by the byte value.
- the parameter list of the EXTENDED COPY command is constituted of: a header 4700 of 16 bytes; target descriptors 4500 , segment descriptors 4600 and optional inline data.
- the header 4700 is constituted of data including a list identifier 4100 , an STR, an NRCR, a command priority, a length 4200 of the target descriptors, a length 4300 of the segment descriptors and a length 4400 of the inline data.
- the list identifier 4100 at 0-th byte is selected by a client application in order to make a copy manager uniquely identify the SCSI EXTENDED COPY command.
- the 7-th, 6-th and 3-rd bits of 0-th byte are reserved areas. STR is written at 5-th bit, NRCR is written at 4-th bit, and PRIORITY is written at 2-nd to 0-th bits.
- the target descriptor length 4200 is written in 2-nd and 3-rd bytes, this length being the length 4600 of the target descriptors 4500 written from 16-th byte.
- the 4-th to 7-th bytes are reserved areas.
- the segment descriptor length 4300 is written in 8-th to 11-th bytes, this length being the length of the segment descriptors 4600 written from (n+1)-th byte.
- n is the last number of the bytes in which the target descriptors in the parameter list are written.
- FIG. 5 is a diagram showing the details of the contents of the target descriptors 4500 in 16-th byte to n-th byte in the command parameter list shown in FIG. 4.
- Each target descriptor is written by 32 bytes and has the data of copy source and destination of the EXTENDED COPY command.
- a descriptor type code 5100 is written in 0-th byte of the target descriptor. If the descriptor is the target descriptor of WWN of fibre channel, this code is E0h.
- a device type 5200 is written in 1-st byte.
- a LUN 5300 of a target is written in 4-th to 11-th bytes.
- a WWN 5400 of the target is written in 12-th to 19-th bytes.
- Device type specific parameters 5500 are written in 28-th to 31-st bytes, these parameters being specific to the device type of the target.
- FIG. 6 is a diagram showing an example of the details of the contents of the device specific parameters 5500 written in 28-th to 31-st bytes of the target descriptor shown in FIG. 5.
- the format of this target descriptor is used when the device type designated at 4-th to 0-th bits of the 1-st byte is a block device (e.g., disk).
- FIG. 7 is a diagram showing another example of the details of the contents of the device specific parameters 5500 written in 28-th to 31-st bytes of the target descriptor shown in FIG. 5.
- the format of this target descriptor is used when the device type designated at 4-th to 0-th bits of the 1-st byte is a sequential access device (e.g., tape).
- FIG. 8 is a diagram showing an example of the details of the contents of one segment descriptor 4600 written in (n+1)-th to (n+m)-th bytes of the command parameter list shown in FIG. 4.
- the data length m is the length of data of the segment descriptor written in the parameter list.
- the 0-th byte of the target descriptor is a descriptor type code 8100 . If a copy is from a block device to a sequential access device or a copy is from a sequential access device to a block device, one of the codes 00h, 01h, 0Bh and 0Ch is written. A descriptor length 8200 is written in 2-nd and 3-rd bytes, the descriptor length being the length of the remaining segment descriptors 8800 . The code written in the descriptor length is 14h if the copy is from a block device to a tape device.
- a source target descriptor index 8300 of the copy source is written in 4-th and 5-th bytes.
- a destination target descriptor index 8400 of the copy destination is written in 6-th and 7-th bytes. These indices correspond to the indices of the target descriptors 4500 in the command parameter list shown in FIG. 4.
- a stream device transfer length 8500 is written in 9-th to 11-th bytes and defines the amount of data to be written in the stream device.
- a block device block number 8600 is written in 14-th and 15-th bytes and corresponds to the disk block length 6100 written in the format of the target descriptor shown in FIG. 5.
- a block device logical block address (LBA) 8700 written in 16-th to 23-th bytes is the first logical block address in the block device.
- LBA block address
- the EXTENDED COPY command is written in a fibre channel frame and transmitted from an upper level apparatus to the storage subsystem. First, the fibre channel frame will be described.
- FIG. 9 is a diagram showing the structure of a fibre channel frame.
- the fibre channel frame is constituted of: a 4-byte identifier called an SOF (Start of Frame) 9000 indicating the start of the frame; a 24-byte frame header 9100 for the control of a link operation and the characterization of the frame; a data field 9200 of data to be transferred; a 5-byte cyclical redundancy code (CRC) 9300 ; and a 4-byte identifier called an EOF (End of Frame) 9400 indicating the end of the frame.
- the data field is variable in the range from 0 to 2,112 bytes.
- FIG. 10 is a diagram showing the structure of the frame header 9100 of the fibre channel frame.
- the frame header 9100 is constituted of six words.
- a destination ID D_ID 10100 is written in the area from 23-rd bit to 0-th bit of 0-th word, and a source ID (S_ID) 10200 is written in the area from 23-rd bit to 0-th bit of 1-st word.
- S_ID 10200 is a 3-byte address identifier for identifying the port from which the fibre channel frame is transmitted.
- D_ID 10100 is a 3-byte address identifier for identifying the port at which the fibre channel frame is received. Both the identifiers have the values effective for all frames to be transmitted and received.
- S_ID 10200 is information which can dynamically and uniquely identify the upper level apparatus (host computer, backup server and the like).
- S_ID 10200 is reported from the upper level apparatus when a log-in starts in order to exchange information between the transmission source from which the fibre channel frame is transmitted via the fibre channel to the transmission destination.
- S_ID is used when a logical session is established between the devices.
- the host computer, backup server and the like can perform the I/O process via the storage subsystem and fibre channel.
- This information table is used when the storage subsystem receives a fibre channel frame containing a SCSI EXTENDED COPY command from an upper level apparatus (host computer, backup server and the like) via the fibre channel network.
- FIG. 11 is a diagram showing a table having a correspondence between WWN of an upper level apparatus (e.g., host computer) and S_ID in the fibre channel frame transmitted form the host computer to the storage subsystem.
- an upper level apparatus e.g., host computer
- S_ID in the fibre channel frame transmitted form the host computer to the storage subsystem.
- the table shown in FIG. 11 is formed, for example, by acquiring WWN of a host computer (port of a host computer bus adaptor) and S_ID from the fiber channel frame when the host computer logs in the storage subsystem via the fibre channel.
- the fibre channel After the log-in, the fibre channel performs communications generally by using S_ID and D_ID.
- the first column 11100 of the table shown in FIG. 11 is for S_ID and the second column 11200 is for WWN of a host computer.
- the storage subsystem Upon the reception of a fibre channel frame, the storage subsystem acquires S_ID in the fibre channel frame and searches the first column of the table to acquire the WWN corresponding to the matched S_ID. In this manner, WWN of the host computer which transmitted the fibre channel frame can be identified.
- the storage subsystem control unit 2200 for controlling the logical device which receives the command acquires S-ID from the fibre channel frame header and identifies WWN of the host computer which transmitted the frame corresponding to S_ID, by referring to the table shown in FIG. 11.
- FIG. 12 is a diagram showing an example of the LUN-WWN access permission/rejection information 2221 shown in FIG. 2.
- a correspondence between a host computer having WWN and accessible LUN is stored in the form of a table.
- WWNs 12100 of host computers are related to LUNs 12000 of each port (WWN of each port: 1234567890ABCDEF) of the storage subsystem.
- the table shown in FIG. 12 of this embodiment is formed for each port of the storage subsystem.
- the number of tables corresponds to the number of ports of the storage subsystem.
- this table is formed by using an input unit and a display unit for confirming input information of a maintenance apparatus capable of communications with the storage subsystem, e.g, the setting terminal 2700 .
- access correspondence information of, for example, WWN, LUN, and WWN of a host computer port is set from a subsystem management terminal.
- a correspondence table between a host computer WWN and a device identifier can be formed for external devices of the storage subsystem.
- a maintenance setting terminal of the storage subsystem connected to the storage subsystem via a LAN or telephone line is generally used.
- the location of a setter, the types of the setting unit or setting terminal, and the type of the network to be used are not limited specifically in this invention. WWN of each of these units is assumed already known.
- Setting can be made at a site near to the storage subsystem if LAN is used as the communication line, or at a remote site such as a maintenance center if a telephone line is used.
- LUN indicates the port of the logical unit (LU).
- the number of WWNs corresponds to the number of host computers which may access LU related to each port.
- the number of LUs and host computers are a finite number.
- each element in the table having the value “1” corresponds to access permission and each element having the value “0” corresponds to access rejection.
- host computers capable of accessing the 0-th LUN is the host computers having WWNs of “0123456789ABCDEF” and “0123456789ABCDED”.
- a host computer capable of accessing the 1-st LUN is the host computer having WWN of “0123456789ABCDEE”.
- a host computer issues an EXTENDED COPY command to a logical device of the storage subsystem.
- the storage subsystem checks WWN of the host computer and the identifier of LUN of the logical device at the command transmission destination. After it is determined whether the access is permitted or not, the logical device receives the command and analyzes the contents of the command. If the received command is the EXTENDED COPY command, the EXTENDED COPY processing unit 2230 controls to make the logical device which received the command as a copy manager.
- the copy manager controls to perform a copy of data (target copy data) from the copy source logical device to the copy destination logical device written in the command.
- FIG. 13 is a flow chart illustrating an example of an operation of updating the LUN-WWN access permission/rejection information. This operation will be described.
- One table described with reference to FIG. 11 stores a correspondence between S_ID in the fibre channel frame transmitted from the upper level apparatus (e.g., host computer) to the storage subsystem.
- the other table described with reference to FIG. 12 pertains to the LUN-WWN access permission/rejection information 2221 shown in FIG. 2 and stores a correspondence between a host computer WWN and an accessible LUN (such as port log-in) of each port of the storage subsystem.
- a new logical device other than a preset logical device is set.
- a host computer or backup server instructs to assign a volume of a designated empty physical storage area to a new logical device for a remote copy use, by using the I/O network 2600 or network 2500 .
- This volume is physically remote from the volume to which the host computer performs an I/O process and is used as a replication (static image) device of the logical volume to which a read/write process is performed, or as a disaster recovery device.
- a storage subsystem administrator instructs to assign the remote designated empty physical storage area to the new logical device by using the setting terminal 2700 in response to a request from a user of the host computer.
- the storage subsystem control unit 2200 assigns the designated empty physical storage area to the new logical device and the logical/physical correspondence unit 2212 updates the logical/physical correspondence information 2211 (Steps 13100 , 13200 )
- the storage subsystem control unit 2200 updates the LUN-WWN access permission/rejection information 2221 described with reference to FIG. 12 for the assigned logical device. For example, for the newly assigned logical device, permission is granted to WWN of the instructed backup server and WWN of the host computer which performs the I/O process on the volume side for the data to be backed up (Step 13300 ).
- Update of the LUN-WWN access permission/rejection information 2221 may be performed by the storage subsystem administrator by using the setting terminal, or may be performed by the command processing unit 2213 of the storage subsystem control unit by executing programs for LUN security setting.
- FIG. 14 is a flow chart illustrating an example of the operation for a device relative to which the SCSI EXTENDED COPY command is received via the fibre channel network. This operation will be described. In an example to follow, the operation for the device relative to which the command is received is performed by the storage subsystem control unit 2200 , EXTENDED COPY access processing unit 2230 and EXTENDED COPY access control unit 2231 in response to the received fibre channel frame after the transmission of a SCSI EXTENDED COPY command from the upper level apparatus via the fibre channel network.
- an EXTENDED COPY command is transmitted as a frame shown in FIG. 9 and containing an information unit called FCP_CMND, from a host computer to the storage subsystem via the fibre channel network.
- the storage subsystem which receives a fibre channel frame from a host computer shown in FIG. 2 derives S_ID and WWN from the fibre channel frame, creates a correspondence table such as shown in FIG. 11 between S_ID and WWN of the host computer which is the transmission source of the fibre channel frame, and checks whether the host computer is permitted to access the designated device in the storage subsystem, by referring to the table shown in FIG. 12. Thereafter, the storage subsystem receives a fibre channel frame transmitted from the host computer relative to a specific internal logical device (Step 14000 ).
- Step 14020 If it is determined at Step 14020 that the received fibre channel frame is not the EXTENDED COPY command, the flow performs other processes (Step 14031 ).
- Step 14020 If it is determined at Step 14020 that the received fibre channel frame is the EXTENDED COPY command, the parameter length in CDB is checked. If the parameter length is 0, the process is terminated. If the parameter length is not 0, the command parameter list after CDB shown in FIG. 4 starts being read (Step 14030 ).
- the target descriptor of one target descriptor length (32 bytes) is sequentially read.
- the number of target descriptors contained in the EXTENDED COPY command is TL/32.
- the format of the target descriptor has already been described with reference to FIG. 5.
- the descriptor type code is first read and then target WWN and LUN are read. The process of reading one target descriptor is repeated by the number of target descriptors (TL/32) (Steps 14060 to 14100 ).
- a segment descriptor is read.
- the format of the segment descriptor has already been described with reference to FIG. 8.
- the descriptor type code, descriptor length (DL) and the like are first read. Thereafter, the descriptor index of the source target as the copy source logical device and the descriptor index of the destination target as the copy destination logical device are read (Steps 14120 to 14150 ).
- the target descriptor shown in FIG. 5 is referred to to read the source target WWN and LUN.
- the access permission/rejection table showing a correspondence between the host computer of WWN and the logical device of LUN shown in FIG. 12 it is checked whether the host computer of WWN transmitted the source target WWN and LUN and the EXTENDED COPY command can access the logical device designated by the source target (Steps 14160 and 14170 ).
- Step 14180 If it is determined at Step 14170 that an access is permitted, the remaining segment descriptors are read to read the transfer length, block device number, block device LBA and the like and perform a copy of the designated copy target data from the logical device designated as the source target to the logical device designated as the destination target (Step 14180 ).
- Step 14120 of reading the next segment descriptor are repeated by SL/(DL+4) calculated from the descriptor length DL and segment descriptor length SL (Steps 14110 to 14190 ).
- Step 14170 If it is determined at Step 14170 that an access to the logical device designated as the source target is rejected or impossible, the EXTENDED COPY command is terminated in a CHECK CONDITION status. For example, COPY ABORT is set to a sense key and COPY TARGET DEVICE NOT REACHABLE is set to a sense code. As a corresponding exception process, a proper error process defined by the EXTENDED COPY command is performed to notify an error to the host to thereafter terminate the process (Steps 14210 and 14200 ).
- Step 14190 If it is determined at Step 14190 that the above-described process has been completed for all segment descriptors, and if the inline data length is 0, then a normal end process defined by the EXTENDED COPY command is performed to terminate the whole process (Step 14200 ).
- FIG. 15 is a flow chart illustrating another example of the operation for a device relative to which the SCSI EXTENDED COPY command is received via the fibre channel network. This operation will be described.
- the operation for the device relative to which the command is received is performed by the storage subsystem control unit 2200 , EXTENDED COPY access processing unit 2230 and EXTENDED COPY access control unit 2231 in response to the received fibre channel frame after the transmission of a SCSI EXTENDED COPY command from the upper level apparatus via the fibre channel network.
- Steps 15170 to 15190 of checking also WWN and LUN described in the destination target descriptors by using the access permission/rejection table.
- This process can be executed, for example, in order not to execute the EXTENDED COPY process by designating as a copy destination a logical volume reserved for replication or remote copy in the storage subsystem.
- the copy source logical device and copy destination logical device may be: 1) the same logical device in the same storage subsystem (e.g., one of the devices 2401 , 2407 and 2410 ); 2) different devices in the same storage subsystem (e.g., two among the devices 2401 , 2407 and 2410 ); 3) the logical device in the same storage subsystem (e.g., one of the devices 2401 , 2407 and 2410 ) and the external logical device of the storage subsystem (e.g., device 2800 shown in FIG. 2) or the logical device in another storage subsystem.
- an EXTENDED COPY command is transmitted as a frame shown in FIG. 9 and containing an information unit called FCP_CMND, from a host computer to the storage subsystem via the fibre channel network.
- the storage subsystem which receives a fibre channel frame from a host computer shown in FIG. 2 derives S_ID and WWN from the fibre channel frame, creates a correspondence table such as shown in FIG. 11 between S_ID and WWN of the host computer which is the transmission source of the fibre channel frame, and checks whether the host computer is permitted to access the designated device in the storage subsystem, by referring to the table shown in FIG. 12. Thereafter, the storage subsystem receives a fibre channel frame transmitted from the host computer relative to a specific internal logical device (Step 15000 ).
- Step 15020 If it is determined at Step 15020 that the received fibre channel frame is not the EXTENDED COPY command, the flow performs other processes (Step 15031 ).
- Step 15020 If it is determined at Step 15020 that the received fibre channel frame is the EXTENDED COPY command, the parameter length in CDB is checked. If the parameter length is 0, the process is terminated. If the parameter length is not 0, the command parameter list after CDB shown in FIG. 4 starts being read (Step 15030 ).
- the target descriptor of one target descriptor length (32 bytes) is sequentially read.
- the number of target descriptors contained in the EXTENDED COPY command is TL/32.
- the format of the target descriptor has already been described with reference to FIG. 5.
- the descriptor type code is first read and then target WWN and LUN are read. The process of reading one target descriptor is repeated by the number of target descriptors (TL/32) (Steps 15060 to 15100 ).
- a segment descriptor is read.
- the format of the segment descriptor has already been described with reference to FIG. 8.
- the descriptor type code, descriptor length (DL) and the like are first read. Thereafter, the descriptor index of the source target as the copy source logical device and the descriptor index of the destination target as the copy destination logical device are read (Steps 15120 to 15150 ).
- the target descriptor shown in FIG. 5 is referred to to read the source target WWN and LUN.
- the access permission/rejection table showing a correspondence between the host computer of WWN and the logical device of LUN shown in FIG. 12 it is checked whether the host computer of WWN transmitted the source target WWN and LUN and the EXTENDED COPY command can access the logical device designated by the source target (Steps 15160 and 15170 ).
- Step 15170 If it is determined at Step 15170 that the access is permitted, the descriptor index of the destination target as the copy destination logical device is read to refer to the target descriptor (Step 15180 ).
- the target descriptor shown in FIG. 5 is referred to to read the destination target WWN and LUN.
- the access permission/rejection table showing a correspondence between the host computer of WWN and the logical device of LUN shown in FIG. 12 it is checked whether the host computer of WWN transmitted the destination target WWN and LUN and the EXTENDED COPY command can access the logical device designated by the source target (Steps 15190 and 15200 ).
- Step 15200 If it is determined at Step 15200 that an access is permitted, the remaining segment descriptors are read to read the transfer length, block device number, block device LBA and the like and perform a copy of the designated copy target data from the logical device designated as the source target to the logical device designated as the destination target (Step 15210 ).
- Step 15120 of reading the next segment descriptor are repeated by SL/(DL+4) calculated from the descriptor length DL and segment descriptor length SL (Steps 15110 to 15220 ).
- Steps 15170 and 15200 If it is determined at Steps 15170 and 15200 that an access to the logical device designated as the source target or destination target is rejected or impossible, the EXTENDED COPY command is terminated in a CHECK CONDITION status. For example, COPY ABORT is set to a sense key and COPY TARGET DEVICE NOT REACHABLE is set to a sense code. As a corresponding exception process, a proper error process defined by the EXTENDED COPY command is performed to notify an error to the host to thereafter terminate the process (Steps 15230 and 15240 ).
- Step 15220 If it is determined at Step 15220 that the above-described process has been completed for all segment descriptors, and if the inline data length is 0, then a normal end process defined by the EXTENDED COPY command is performed to terminate the whole process (Step 15240 ).
- a storage subsystem coupled to a computer includes an access permission/rejection determination unit which determines a permission/rejection of an access by referring to access permission/rejection information of an access between an upper level apparatus identifier and a unit which determines whether a copy process is permitted or not when a copy process by an active copy instruction command from the inside of the storage subsystem is issued.
- a data copying method of performing a data copy process for a logical device ( 2401 to 2420 ) without intervening a computer includes the steps of:
- a storage subsystem ( 2100 ) coupled to a computer includes:
- a logical storage device (e.g., 2401 ) to which an I/O process is performed by the computer;
- a port ( 2101 , 2102 ) which receives an I/O processing request from the computer;
- a processing unit ( 2200 ) which controls the logical storage device in response to the I/O processing request
- processing unit comprises:
- an access permission/rejection table ( 2221 , FIG. 12) which stores a correspondence between the logical storage device (e.g., 2401 ) and identification information (WWN) for identifying the computer or the port of the computer, and defines an access permission/rejection of the computer to the logical storage device;
- the logical storage device e.g., 2401
- WWN identification information
- a relational table which stores a relation between the identification information (WWN) and an address identifier (S_ID) for identifying the port ( 2101 , 2102 ) for receiving a frame, the address identifier and the identification information being contained in a communication processing request transmitted from the computer to the storage subsystem;
- a determination unit ( 2220 , 2221 ) which determines the identification information from the relational table and the address identifier in the communication processing request and determines whether an access to the logical storage device from the computer is permitted or not, in accordance with the determined identification information and the access permission/rejection table;
- a control unit ( 2230 ) responsive to a data copy instruction from the computer which control unit controls a data copy process relative to the logical storage device in accordance with an access permission/rejection determination result by the determination unit.
- An access permission/rejection to a logical device in the storage subsystem from an upper level apparatus such as a host computer is checked from the correspondence between WWN of the upper level apparatus and the logical device identifier.
- the logical device In processing an active copy instruction command from the inside of the storage subsystem issued to the storage subsystem from the upper level apparatus, the logical device received the copy instruction command as the copy designated device checks the access control of the copy source device and copy destination device. It is therefore possible to prevent an outflow of illegal data from the storage subsystem to be caused by the active copy instruction command from the inside of the storage subsystem.
- fibre channel (FC)
- the invention is also applicable to iSCSI.
- WWN of a host computer is replaced by iSCSI NAME of the host computer to form the table shown in FIG. 12.
- the effects similar to the fibre channel can also be obtained for iSCSI.
- a security check of the copy source volume at the WWN level can be realized for a data copy instruction from the inside of the storage subsystem which uses a control command such as a SCSI EXTENDED COPY command. It is possible to prevent illegal data copy by selectively limiting an access to the storage subsystem or a storage area in the storage subsystem from a plurality of upper level apparatuses.
Abstract
Description
- The present invention relates generally to a storage subsystem, a storage control apparatus and a data copying method, and more particularly to a storage subsystem for performing a data copy process without involving a computer, a storage control apparatus and a data copying method. The invention also relates to a storage subsystem having the fibre channel protocol standardized by ANSI X3T11 as an interface with upper level apparatuses.
- The fibre channel protocol standardized by ANSI X3T11 can connect a number of apparatuses and can run at the same time a variety of protocols such as SCSI, ESCON (registered trademark) and TCP/IP. However, the fibre channel protocol has the nature of difficulty in maintaining security.
- The characteristic features of the fibre channel will be described first. The fibre channel is a serial transfer protocol without a specific command set. It can use effectively the bandwidth of transmission media because it transfers information asynchronously. Although the fibre channel does not have a specific command set, it utilizes a physical transfer scheme as a transport path of command sets such as SCSI and ESCON (registered trademark). It is therefore possible to accomplish data transfer of high speed and various types by inheriting conventional software resources.
- The fibre channel is an interface having the characteristic features of both a channel and a network. Namely, once the source and destination are established, the fibre channel can perform data transfer of small delay and high speed. This is characteristic of the channel. An apparatus wishing communications participates in the communication system of the fibre channel upon an arbitrary event, and exchanges information with a communication partner apparatus to mutually recognize and start communications. This is characteristic of a network. A procedure of information exchange with a partner apparatus is called a log-in in particular.
- An apparatus having an interface of the fibre channel is called a node, and the actual interface is called a port. One node can have one or more ports. The number of ports which can participate at the same time in the whole system of the fibre channel is the number represented by a 24-bit address at a maximum, i.e., about 16,770 thousands. A hardware used for such connection is called a fabric. Ports at the source and destination operate by considering only the information of the ports without being conscious of the fabric. The fabric is therefore discussed in many cases as logical media.
- Each of the node and port stores an identifier unique in the world assigned from the standardization institute based on the predetermined rule. This identifier corresponds to a MAC address of TCP/IP and is a fixed address in terms of hardware. This address is called a WWN (World Wide Name) and has an eight-byte area.
- Communications of the fibre channel are achieved by using signal level information called an Ordered Set and information having a fixed format called a frame.
- Each frame comprises: a 4-byte identifier called an SOF (Start of Frame) representative of the start of the frame; a 24-byte frame header for the control of a link operation and the characterization of the frame; a data field in which actual data to be transferred is written; a 4-byte cyclical redundancy code (CRC); and a 4-byte identifier called an EOF (End of Frame) representative of the end of the frame. The data field is variable in the range from 0 to 2112 bytes.
- In the frame header, a 3-byte identifier D_ID for identifying the frame transmission destination port is written in the field from 23-rd to 0-th bits of the 0-th word, whereas a 3-byte identifier S_ID for identifying the frame transmission source port is written in the field from 23-rd to 0-th bits of the 1-st word. These identifiers have values effective for all frames to be transmitted and received.
- The address identifier S_ID for identifying a transmission source port has a dynamically changing value reported from an upper level apparatus. In FC_CH, the identifier S_ID is assigned by the fabric during its initializing procedure and the assigned value depends on WWN or the like of the node and port of a frame transmission source.
- In the frame to be transmitted from a transmission source during a log-in, WWN of the transmission source port is stored in the 8-byte field from 21-st byte to 28-th byte from the start of the data field following the frame header, whereas WWN of the transmission source node is stored in the 8-byte field from 29-th byte to 36-th byte from the start of the data field. Upon the reception of this frame, the request destination apparatus picks up the information contained in the frame, and if the log-in is to be accepted, transmits an ACC frame to the log-in request source, whereas if the log-in is to be rejected an LS-RJT frame is transmitted to the log-in request source.
- Upon reception of a response of the ACC frame to the transmitted frame, the log-in request source can know a success of the log-in and enters the state that an I/O process such as data transfer can start. Upon reception of the LS_RJT frame, the I/O process relative to the log-in request destination is not allowed because the log-in was not succeeded.
- The log-in of
class 3 has been described above. Also in the log-in of other classes, WWN of a node and S_ID of a port are contained in the information to be passed from the log-in request source to the log-in request destination. - Conventional techniques on a method of preventing an illegal access to a storage subsystem are described, for example, in the Publications of JP-A-10-333839 and JP-A-2000-276406.
- JP-A-10-333839 discloses a storage subsystem illegal access preventing method using the fibre channel protocol. According to this method, prior to activating an upper level apparatus such as a host computer accessing the storage subsystem, the storage subsystem stores beforehand: WWN (World Wide Name) for uniquely and statically identifying a fiber channel interface port (called a port) of the upper level apparatus; and a table storing a correspondence between the first-mentioned WWN and a specific port (WWN) in the storage subsystem or a correspondence between N_Port_Name and an arbitrary storage area in the storage subsystem. After the upper level apparatus is activated, the storage subsystem checks the contents of each frame issued from the upper level apparatus accessing the storage subsystem. If the N_Port_Name in the frame exists in the table, an access is permitted, whereas if it does not exist, an access reject frame LS-RJT is transmitted to the upper level apparatus to reject an access by the upper level apparatus having the N_Port_Name not existing in the table.
- JP-A-2000-276406 discloses the techniques of solving the problems of the difficulty in applying JP-A-HEI-10-333839 to actual systems. The problems are as in the following. The communication performance is considerably limited because it is necessary to determine an access permission for each and every frame. If the access subject is not a port but a partial area in the storage subsystem, the upper level apparatus is required to write WWN in all frames to be transmitted. This results in that the upper level apparatus is required to satisfy the specification out of the standard fibre channel protocol.
- According to the disclosed techniques, the storage subsystem stores beforehand: WWN for uniquely and statically identifying an upper level apparatus such as a host computer accessing the storage subsystem or a port of the upper level apparatus; or a table storing a correspondence between a node name (WWN) of the upper level apparatus and each storage area in the storage subsystem permitted or rejected to be accessed. The storage subsystem also stores a table storing a correspondence between WWN of a node and S_ID of a port to be dynamically assigned in the log-in process prior to information transmission/reception, for the identification of the upper level apparatus or the port thereof in order for the upper level apparatus to communicate with the storage subsystem by using the fibre channel interface. Upon an event that an information acquisition request is issued from the upper level apparatus to the storage area in the storage subsystem by using an Inquiry command, each table is searched and compared by using the S_ID contained in the request frame as a search key. In this manner, an access permission/rejection of the storage area is determined.
- In some cases, an upper level apparatus performs setting/controlling of the storage subsystem, such as a remote copy and a snap shot of a storage area, by using a control command different from a general read/write command. SNIA (Storage Network Industry Association) standardizes an SAN (Storage Area Network). SNIA is constituted of vendors of SAN products of hardware and software. The backup section meeting of SNIA standardizes SCSI EXTENDED COPY as a SCSI extended protocol for use with SAN. A plurality of vendors intend to use the common specification standardized by the section meeting. SCSI EXTENDED COPY is a common protocol for the communications between apparatuses. This protocol can perform server-less backup of data in a storage, without involving a host computer connected by the fibre channel protocol such as SAN.
- FIGS. 1A and 1B show the relation between a storage subsystem and host computers. With reference to FIGS. 1A and 1B, the problems associated with related art will be described.
- Consider the
storage subsystem 1100 and the host computers connected to thestorage subsystem 1100 shown in FIGS. 1A and 1B. Host computers connected to thestorage subsystem 1100 include ahost computer A 1030, ahost computer B 1020 and abackup server C 1010. It is assumed that thebackup server C 1010 has a function of backing up (1600) data in thestorage subsystem 1100 into a tape apparatus (tape record/reproduction apparatus) 1210 by using asnap shot 1300 or the like. It is assumed that thestorage subsystem 1100 has logical storage devices LU_A1110, LU_B1120 and LU_C11130. It is also assumed that thehost computer A 1030,host computer B 1020 andbackup server C 1010 are permitted to access only the logical storage devices LU_A1110, LU_B1120 and LU_C11130 of the storage subsystem, respectively, as shown in FIG. 1A (access permission 1400). This access is checked from WWN for uniquely identifying a port of the fibre channel of the upper level apparatus such as a host computer, as described earlier. It is also assumed thatLU_C 1130 is a volume for obtaining a replication (static image) of LU_A1110 at an arbitrary time. - It is assumed that the host computer A performs an I/O process relative to LU_A, the host computer B performs an I/O process relative to LU_B, and the backup server C backs up the data in LU_C in accordance with a schedule set by a user. In this case, according to related art, when the
host computer B 1020 tries to access the logical device LU_A or LU_C in thestorage subsystem 1100, thestorage subsystem 1100 checks WWN of thehost computer B 1020 so that thehost computer B 1020 cannot access (log in) thelogical device LU_A 1110 or LU_C 1130 (1500). - However, as shown in FIG. 1B, data in the storage area not accessible can be illegally accessed in the following manner. The host computer B issues the SCSI EXTENDED COPY command to the
accessible LU_B 1120. If the contents of the command are a copy of data to an external of the storage subsystem, e.g, a tape apparatus (tape record/reproduction apparatus) 1220 accessible by the host computer B, from thelogical device LU_C 1130 not accessible by the host computer B, then an outflow of data stored in thelogical device LU_A 1110 or LU_C 1130 cannot be checked. - Related art described above is associated with the problem that data in the storage area not accessible can be illegally accessed.
- In order to solve the above-described problem associated with related art, a storage subsystem which performs a data copy process without involving a computer, a storage control apparatus and a data copying method are described.
- A storage subsystem capable of preventing illegal data copy, a storage control apparatus and a data copying method are also described, wherein a security check at the WWN level of a copy source volume is realized for a data copy of the storage subsystem by using a control command such as a SCSI EXTENDED COPY command, and an access to the storage subsystem and a storage area in the storage subsystem from a plurality of upper level apparatuses is selectively limited.
- There is provided a storage subsystem coupled to a computer, comprising: a logical storage device to which an I/O process is performed by the computer; a judgment unit which determines whether an access to the logical storage device is permitted or not, in accordance with a data copy instruction from the computer for a data copy process relative to the logical storage device; and a data copy processing unit responsive to the data copy instruction from the computer which data copy processing unit performs the data copy process relative to the logical storage device without involving the computer, in accordance with a determination result by the determination unit.
- There is also provided a data copying method of performing a data copy process relative to a logical storage device without involving a computer, comprising the steps of: determining from a data copy instruction from the computer whether an access to the logical storage device is permitted or not; and performing the data copy process relative to the logical storage device in accordance with an access permission/rejection determination result of the logical storage device.
- As above, an access permission/rejection is determined to thereby control the data copy process without involving the computer, i.e., to actively control the data copy process.
- An active data copy process means that without involving the resource of a computer (host computer), a peripheral apparatus (either a logical peripheral device or a physical peripheral device) received a copy instruction command issued by the computer processes the copy instruction.
- According to the above described techniques, a security check at the WWN level of a copy source volume is realized for a data copy instruction from the inside of the storage subsystem using a control command such as a SCSI EXTENDED COPY command, and an access to the storage subsystem and a storage area in the storage subsystem from a plurality of upper level apparatuses is selectively limited to prevent illegal data copy.
- Other objects, features and advantages of the invention will become apparent from the following description of the embodiments of the invention taken in conjunction with the accompanying drawings.
- FIGS. 1A and 1B are diagrams showing the relation between the storage subsystem and host computers illustrating the problem associated with related art.
- FIG. 2 is a block diagram showing the structure of a computer system using a storage subsystem according to an embodiment of the invention.
- FIG. 3 is a diagram showing the structure of a CDB (Command Descriptor Block) of an EXTENDED COPY command. FIG. 4 is a diagram showing the structure of an EXTENDED COPY command parameter list.
- FIG. 5 is a diagram detailing the contents of each of
target descriptors 4500 written from 16-th byte to n-th byte in the command parameter list shown in FIG. 4. - FIG. 6 is a diagram detailing an example of the contents of device specific parameters described from 28-th byte to 31-st byte of the target descriptor shown in FIG. 5.
- FIG. 7 is a diagram detailing another example of the contents of-device specific parameters described from 28-th byte to 31-st byte of the target descriptor shown in FIG. 5.
- FIG. 8 is a diagram detailing an example of the contents of each of segment descriptors written from (n+1)-th byte to (n+m)-th byte in the command parameter list shown in FIG. 4.
- FIG. 9 is a diagram showing the structure of a fibre channel frame.
- FIG. 10 is a diagram showing the structure of a frame header of the fibre channel frame.
- FIG. 11 shows an example of a table storing a correspondence between S_ID in the fiber channel frame transmitted from an upper level apparatus to the storage subsystem and a WWN of the upper level apparatus.
- FIG. 12 is a diagram showing an example of LUN-WWN access permission/rejection information shown in FIG. 2.
- FIG. 13 is a flow chart illustrating an example of an operation of updating the LUN-WWN access permission/rejection information.
- FIG. 14 is a flow chart illustrating an example of the operation for a device relative to which a SCSI EXTENDED COPY command is received via a fibre channel network.
- FIG. 15 is a flow chart illustrating another example of the operation for a device which receives a SCSI EXTENDED COPY command via the fibre channel network.
- Embodiments of a storage subsystem, a storage control apparatus and a data copying method according to the invention will be described with reference to the accompanying drawings. The invention is not limited only to the following embodiments.
- FIG. 2 is a block diagram showing the structure of a computer system using the storage subsystem according to an embodiment of the invention. In FIG. 2,
reference numerals - The computer system shown in FIG. 2 has the
host computers backup server 2002,storage subsystem 2100 and setting terminal 2700 respectively interconnected by thenetwork 2500. Thenetwork 2500 may be Ethernet (registered trademark), FDDI, fibre channel, public telephone line or the like, and the setting terminal is generally used for the maintenance and management works of the storage subsystem. - The
host computers backup server 2002 are also connected to thestorage subsystem 2100 via the I/O network 2600 and I/O buses 2610 and issue an I/O processing request for data read/write to thestorage subsystem 2100. The I/O network 2600 and I/O buses 2610 are connected to theports 2101 and 2102 of thestorage subsystem 2100. The port has a fibre channel interface for receiving an I/O processing request (communication processing request) from a computer and is a communication port capable of transmitting/receiving a SCSI command. When thehost computers storage subsystem 2100 generally by using an address of a logical storage area. The I/O network 2600 and I/O bus 2610 may be one of various means such as fibre channel, SCSI, ESCON (registered trademark), Ethernet (registered trademark), and Infiniband (registered trademark). - The external
communication processing unit 2240 of thestorage subsystem 2100 performs communication processing of the host computers, backup server, setting terminal and the like with an external apparatus by providing a proper interface which matches the communication transmission path such as fibre channel, SCSI, ESCON (registered trademark) and Ethernet (registered trademark), a protocol and the like. - The apparatuses connectable to the
storage subsystem 2100 are not limited only to two host computers and one backup server, but at least one or more host computers may be connected to one or more storage subsystems. - The invention aims to provide a security mechanism for a storage device when one device received a command from a host computer copies data to the same or different device without involving the host computer. More specifically, in the computer system, if a peripheral apparatus (both logical and physical apparatuses) received a copy instruction command issued from a host computer has an ability to process the copy instruction, the peripheral apparatus becomes an initiator without utilizing the resources of the host computer. This peripheral apparatus copies data in some area of a storage device designated by the contents of the command to some area of the same or different storage device. In the so-called server-less data copy scheme, it is therefore an object of the invention to provide a storage device executing the data copy scheme with a security mechanism.
- Such a command is supported presently by the EXTENDED COPY command of SCSI. Embodiments of the invention will be described by using this command by way of example. As the I/O bus interconnecting the host computer and storage subsystem, a fibre channel is used by way of example in the following embodiments of the invention. The fibre channel can achieve communication control of transmission/reception of a SCSI command.
- The
storage subsystem 2100 is constituted of the storagesubsystem control unit 2200 and a plurality ofphysical storage devices 2300. In a storage subsystem of a large capacity, a disk array of a plurality of physical storage devices is used in order to ensure security and reliability of the storage subsystem. In this disk array, logical storage areas are formed which are supplied aslogical devices 2401 to 2412 and 2420 together with other logical devices to the host computers connected to the storage subsystem. - In the storage
subsystem control unit 2200, upon reception of a read/write processing request for thephysical storage device 2300, the logical/physical correspondence unit 2212 acquires a logical/physical correspondence by referring to the logical/physical storagearea correspondence information 2211. The read/write unit 2210 performs a read/write processing relative to a proper storage area. The storagesubsystem control unit 2200 also processes various requests from a host computer and supplies thesetting terminal 2700 and host computers with information necessary for the storage subsystem maintenance/management, such as operation information, failure information and management information of the storage subsystem. - The storage
subsystem control unit 2200 has the LUN securityaccess control unit 2220 which performs LUN access control in accordance with: theinformation 2221 on a correspondence between WWN of a host computer trying to connect thestorage subsystem 2100 and access permission/rejection for LUN as the identifier of each of the logical devices 2400 to 2412 and 2420 in thestorage subsystem 2100; theinformation 2222 on a correspondence between S_ID in a fibre channel frame transmitted when a host computer tries to connect the storage subsystem via the fibre channel and WWN of the host computer; theinformation 2221 on a correspondence between WWN of a host computer and access permission/rejection for LUN; and theinformation 2222 on a correspondence between S_ID and WWN of a host computer. - The storage
subsystem control unit 2200 also has the EXTENDED COPYcommand processing unit 2230 and EXTENDED COPYaccess control unit 2231. The EXTENDED COPYcommand processing unit 2230 analyzes the EXTENDED COPY command of SCSI issued to a particular logical device and performs proper processing. The EXTENDED COPYaccess control unit 2231 prevents an outflow of illegal data to be caused by the EXTENDED COPY command. The logical device may or may not have a storage area mapped to a physical storage area. Thelogical devices logical device 2420 is the logical device without a storage area mapped to the physical storage area. A plurality of storage subsystem control units may be provided in the storage subsystem. - The storage
subsystem control unit 2200 has information necessary for the system to perform various processes, such as the system structure information, e.g., access operation information relative to logical storage devices and caches, parity group structural information, its RAID level information and the like. These pieces of information are not important when the embodiments of the invention are described, and so the description thereof is omitted. Each of the host computer, backup server, storage subsystem control unit and setting terminal has constituent elements essential for a general computer, such as a memory for storing programs and information necessary for various processes, a CPU and an internal data bus. These elements are not important when the embodiments of the invention are described, and so the description thereof is omitted. - Next, the format of a SCSI EXTENDED COPY command will be described by taking as an example a copy from a block device to a stream device, with reference to the drawings given in Information technology-SCSI Primary Command-3 (SPC3) disclosed by the t10 Technical Committee as the draft of SCSI command sets.
- FIG. 3 is a diagram showing the structure of a CDB (Command Descriptor Block) of the EXTENDED COPY command.
- CDB of the EXTENDED COPY command has 16 bytes. A
process code 3100 described in the 0-th byte is 83h (h indicated a hexadecimal notation). The area from 1-st byte to 9-th byte and 14-th byte is a reserved area. Aparameter list length 3200 representative of the length of a parameter list of the EXTENDED COPY command is written in the area from 10-th byte to 13-th byte. - A parameter necessary for the execution of an EXTENDED COPY command is designated by CDB and transmitted being written in a data-out buffer during a data-out phase after the phase of CDB. In this data-out phase, an initiator of SCSI transmits data designated by the command from a host computer to the target of the storage subsystem.
- If the value of the
parameter list length 3200 is 0, it means that no data was transmitted and does not mean an error. - FIG. 4 is a diagram showing the structure of an EXTENDED COPY command parameter list. This list shows the format of a command parameter list necessary for the execution of the EXTENDED COPY command described in the data-out buffer, if it is determined that the CDB process code is 83h and the command is the EXTENDED COPY command, as described with reference to FIG. 3. The
parameter list length 3200 shown in FIG. 3 is the length of the parameter list represented by the byte value. - The parameter list of the EXTENDED COPY command is constituted of: a
header 4700 of 16 bytes;target descriptors 4500,segment descriptors 4600 and optional inline data. Theheader 4700 is constituted of data including alist identifier 4100, an STR, an NRCR, a command priority, alength 4200 of the target descriptors, alength 4300 of the segment descriptors and alength 4400 of the inline data. - The
list identifier 4100 at 0-th byte is selected by a client application in order to make a copy manager uniquely identify the SCSI EXTENDED COPY command. The 7-th, 6-th and 3-rd bits of 0-th byte are reserved areas. STR is written at 5-th bit, NRCR is written at 4-th bit, and PRIORITY is written at 2-nd to 0-th bits. - The
target descriptor length 4200 is written in 2-nd and 3-rd bytes, this length being thelength 4600 of thetarget descriptors 4500 written from 16-th byte. The 4-th to 7-th bytes are reserved areas. Thesegment descriptor length 4300 is written in 8-th to 11-th bytes, this length being the length of thesegment descriptors 4600 written from (n+1)-th byte. n is the last number of the bytes in which the target descriptors in the parameter list are written. - FIG. 5 is a diagram showing the details of the contents of the
target descriptors 4500 in 16-th byte to n-th byte in the command parameter list shown in FIG. 4. Each target descriptor is written by 32 bytes and has the data of copy source and destination of the EXTENDED COPY command. - A
descriptor type code 5100 is written in 0-th byte of the target descriptor. If the descriptor is the target descriptor of WWN of fibre channel, this code is E0h. Adevice type 5200 is written in 1-st byte. ALUN 5300 of a target is written in 4-th to 11-th bytes. AWWN 5400 of the target is written in 12-th to 19-th bytes. Device typespecific parameters 5500 are written in 28-th to 31-st bytes, these parameters being specific to the device type of the target. - FIG. 6 is a diagram showing an example of the details of the contents of the device
specific parameters 5500 written in 28-th to 31-st bytes of the target descriptor shown in FIG. 5. The format of this target descriptor is used when the device type designated at 4-th to 0-th bits of the 1-st byte is a block device (e.g., disk). - FIG. 7 is a diagram showing another example of the details of the contents of the device
specific parameters 5500 written in 28-th to 31-st bytes of the target descriptor shown in FIG. 5. The format of this target descriptor is used when the device type designated at 4-th to 0-th bits of the 1-st byte is a sequential access device (e.g., tape). - FIG. 8 is a diagram showing an example of the details of the contents of one
segment descriptor 4600 written in (n+1)-th to (n+m)-th bytes of the command parameter list shown in FIG. 4. The data length m is the length of data of the segment descriptor written in the parameter list. - The 0-th byte of the target descriptor is a
descriptor type code 8100. If a copy is from a block device to a sequential access device or a copy is from a sequential access device to a block device, one of thecodes descriptor length 8200 is written in 2-nd and 3-rd bytes, the descriptor length being the length of the remainingsegment descriptors 8800. The code written in the descriptor length is 14h if the copy is from a block device to a tape device. - A source
target descriptor index 8300 of the copy source is written in 4-th and 5-th bytes. A destinationtarget descriptor index 8400 of the copy destination is written in 6-th and 7-th bytes. These indices correspond to the indices of thetarget descriptors 4500 in the command parameter list shown in FIG. 4. A streamdevice transfer length 8500 is written in 9-th to 11-th bytes and defines the amount of data to be written in the stream device. A blockdevice block number 8600 is written in 14-th and 15-th bytes and corresponds to thedisk block length 6100 written in the format of the target descriptor shown in FIG. 5. A block device logical block address (LBA) 8700 written in 16-th to 23-th bytes is the first logical block address in the block device. - The formats of the EXTENDED COPY command described above and shown in FIGS.3 to 8 are disclosed in the draft of the SCSI command set by the t10 Technical Committee. Although there is a possibility that the contents of the formats are changed, the above description illustratively shows that information capable of identifying copy source and destination such as target WWN and LUN is contained in the formats. A change in the details of the EXTENDED COPY command will not influence fundamentally the contents of the invention.
- Next, the control of an illegal access to the device by an EXTENDED COPY command will be described.
- If a fibre channel is used, the EXTENDED COPY command is written in a fibre channel frame and transmitted from an upper level apparatus to the storage subsystem. First, the fibre channel frame will be described.
- FIG. 9 is a diagram showing the structure of a fibre channel frame. The fibre channel frame is constituted of: a 4-byte identifier called an SOF (Start of Frame)9000 indicating the start of the frame; a 24-
byte frame header 9100 for the control of a link operation and the characterization of the frame; adata field 9200 of data to be transferred; a 5-byte cyclical redundancy code (CRC) 9300; and a 4-byte identifier called an EOF (End of Frame) 9400 indicating the end of the frame. The data field is variable in the range from 0 to 2,112 bytes. - FIG. 10 is a diagram showing the structure of the
frame header 9100 of the fibre channel frame. - The
frame header 9100 is constituted of six words. Adestination ID D_ID 10100 is written in the area from 23-rd bit to 0-th bit of 0-th word, and a source ID (S_ID) 10200 is written in the area from 23-rd bit to 0-th bit of 1-st word.S_ID 10200 is a 3-byte address identifier for identifying the port from which the fibre channel frame is transmitted.D_ID 10100 is a 3-byte address identifier for identifying the port at which the fibre channel frame is received. Both the identifiers have the values effective for all frames to be transmitted and received.S_ID 10200 is information which can dynamically and uniquely identify the upper level apparatus (host computer, backup server and the like).S_ID 10200 is reported from the upper level apparatus when a log-in starts in order to exchange information between the transmission source from which the fibre channel frame is transmitted via the fibre channel to the transmission destination. S_ID is used when a logical session is established between the devices. - By using the fibre channel frame, the host computer, backup server and the like can perform the I/O process via the storage subsystem and fibre channel.
- Next, an example of an information table possessed by the storage subsystem will be described. This information table is used when the storage subsystem receives a fibre channel frame containing a SCSI EXTENDED COPY command from an upper level apparatus (host computer, backup server and the like) via the fibre channel network.
- FIG. 11 is a diagram showing a table having a correspondence between WWN of an upper level apparatus (e.g., host computer) and S_ID in the fibre channel frame transmitted form the host computer to the storage subsystem.
- The table shown in FIG. 11 is formed, for example, by acquiring WWN of a host computer (port of a host computer bus adaptor) and S_ID from the fiber channel frame when the host computer logs in the storage subsystem via the fibre channel.
- After the log-in, the fibre channel performs communications generally by using S_ID and D_ID. The
first column 11100 of the table shown in FIG. 11 is for S_ID and thesecond column 11200 is for WWN of a host computer. - Upon the reception of a fibre channel frame, the storage subsystem acquires S_ID in the fibre channel frame and searches the first column of the table to acquire the WWN corresponding to the matched S_ID. In this manner, WWN of the host computer which transmitted the fibre channel frame can be identified.
- The log-in process for a fibre channel is not directly related to the invention, and so the description thereof is omitted.
- When the host computer transmits the EXTENDED COPY command to a logical device of the storage subsystem after the fibre channel log-in, the storage
subsystem control unit 2200 for controlling the logical device which receives the command acquires S-ID from the fibre channel frame header and identifies WWN of the host computer which transmitted the frame corresponding to S_ID, by referring to the table shown in FIG. 11. - FIG. 12 is a diagram showing an example of the LUN-WWN access permission/
rejection information 2221 shown in FIG. 2. A correspondence between a host computer having WWN and accessible LUN is stored in the form of a table.WWNs 12100 of host computers are related toLUNs 12000 of each port (WWN of each port: 1234567890ABCDEF) of the storage subsystem. - The table shown in FIG. 12 of this embodiment is formed for each port of the storage subsystem. The number of tables corresponds to the number of ports of the storage subsystem. For example, this table is formed by using an input unit and a display unit for confirming input information of a maintenance apparatus capable of communications with the storage subsystem, e.g, the setting
terminal 2700. - Also for the external storage devices of the storage subsystem (e.g., storage devices of another storage subsystem and external logical storage device2800 (e.g., magnetic tape apparatus, HDD recording apparatus, DVD recording apparatus and the like), access correspondence information of, for example, WWN, LUN, and WWN of a host computer port is set from a subsystem management terminal. In this manner, a correspondence table between a host computer WWN and a device identifier can be formed for external devices of the storage subsystem.
- As the setting unit, a maintenance setting terminal of the storage subsystem connected to the storage subsystem via a LAN or telephone line is generally used. The location of a setter, the types of the setting unit or setting terminal, and the type of the network to be used are not limited specifically in this invention. WWN of each of these units is assumed already known.
- Setting can be made at a site near to the storage subsystem if LAN is used as the communication line, or at a remote site such as a maintenance center if a telephone line is used.
- LUN indicates the port of the logical unit (LU). The number of WWNs corresponds to the number of host computers which may access LU related to each port. The number of LUs and host computers are a finite number.
- In this embodiment, it is assumed that each element in the table having the value “1” corresponds to access permission and each element having the value “0” corresponds to access rejection.
- In the example shown in FIG. 12, in this port, host computers capable of accessing the 0-th LUN (12210) is the host computers having WWNs of “0123456789ABCDEF” and “0123456789ABCDED”. A host computer capable of accessing the 1-st LUN (12220) is the host computer having WWN of “0123456789ABCDEE”. In this example shown in FIG. 12, there is no host computer which can access (n−1)-th LUN (12230).
- A host computer issues an EXTENDED COPY command to a logical device of the storage subsystem. Upon reception of the command, the storage subsystem checks WWN of the host computer and the identifier of LUN of the logical device at the command transmission destination. After it is determined whether the access is permitted or not, the logical device receives the command and analyzes the contents of the command. If the received command is the EXTENDED COPY command, the EXTENDED
COPY processing unit 2230 controls to make the logical device which received the command as a copy manager. The copy manager controls to perform a copy of data (target copy data) from the copy source logical device to the copy destination logical device written in the command. - FIG. 13 is a flow chart illustrating an example of an operation of updating the LUN-WWN access permission/rejection information. This operation will be described. In the example to be described herein, an example of the procedure to be performed by the storage subsystem control unit for setting the two tables will be described. One table described with reference to FIG. 11 stores a correspondence between S_ID in the fibre channel frame transmitted from the upper level apparatus (e.g., host computer) to the storage subsystem. The other table described with reference to FIG. 12 pertains to the LUN-WWN access permission/
rejection information 2221 shown in FIG. 2 and stores a correspondence between a host computer WWN and an accessible LUN (such as port log-in) of each port of the storage subsystem. In an example to follow, a new logical device other than a preset logical device is set. - (1) A host computer or backup server instructs to assign a volume of a designated empty physical storage area to a new logical device for a remote copy use, by using the I/
O network 2600 ornetwork 2500. This volume is physically remote from the volume to which the host computer performs an I/O process and is used as a replication (static image) device of the logical volume to which a read/write process is performed, or as a disaster recovery device. Alternatively, a storage subsystem administrator instructs to assign the remote designated empty physical storage area to the new logical device by using the setting terminal 2700 in response to a request from a user of the host computer. In response to the request, the storagesubsystem control unit 2200 assigns the designated empty physical storage area to the new logical device and the logical/physical correspondence unit 2212 updates the logical/physical correspondence information 2211 (Steps 13100, 13200) - (2) The storage
subsystem control unit 2200 updates the LUN-WWN access permission/rejection information 2221 described with reference to FIG. 12 for the assigned logical device. For example, for the newly assigned logical device, permission is granted to WWN of the instructed backup server and WWN of the host computer which performs the I/O process on the volume side for the data to be backed up (Step 13300). - Update of the LUN-WWN access permission/
rejection information 2221 may be performed by the storage subsystem administrator by using the setting terminal, or may be performed by thecommand processing unit 2213 of the storage subsystem control unit by executing programs for LUN security setting. - FIG. 14 is a flow chart illustrating an example of the operation for a device relative to which the SCSI EXTENDED COPY command is received via the fibre channel network. This operation will be described. In an example to follow, the operation for the device relative to which the command is received is performed by the storage
subsystem control unit 2200, EXTENDED COPYaccess processing unit 2230 and EXTENDED COPYaccess control unit 2231 in response to the received fibre channel frame after the transmission of a SCSI EXTENDED COPY command from the upper level apparatus via the fibre channel network. - It is herein assumed that an EXTENDED COPY command is transmitted as a frame shown in FIG. 9 and containing an information unit called FCP_CMND, from a host computer to the storage subsystem via the fibre channel network.
- (1) In the fibre channel log-in process, the storage subsystem which receives a fibre channel frame from a host computer shown in FIG. 2 derives S_ID and WWN from the fibre channel frame, creates a correspondence table such as shown in FIG. 11 between S_ID and WWN of the host computer which is the transmission source of the fibre channel frame, and checks whether the host computer is permitted to access the designated device in the storage subsystem, by referring to the table shown in FIG. 12. Thereafter, the storage subsystem receives a fibre channel frame transmitted from the host computer relative to a specific internal logical device (Step14000).
- (2) Upon reception of the fibre channel frame, S_ID is picked up from the frame header in order to identify WWN of the host computer which transmitted the frame. Next, the frame data field is read, and if a command device block (CDB) exists in the fibre channel frame, it is checked whether the contents of the command is an EXTENDED COPY command (
Steps 14010, 14020). - (3) If it is determined at
Step 14020 that the received fibre channel frame is not the EXTENDED COPY command, the flow performs other processes (Step 14031). - (4) If it is determined at
Step 14020 that the received fibre channel frame is the EXTENDED COPY command, the parameter length in CDB is checked. If the parameter length is 0, the process is terminated. If the parameter length is not 0, the command parameter list after CDB shown in FIG. 4 starts being read (Step 14030). - (5) After the list ID and the like in the command parameter list are read, the target descriptor length in 2-nd and 3-rd bytes is read (Step14040).
- (6) Next, the segment descriptor length in 8-th to 11-th bytes is read. The segment descriptor length is assumed to be represented by SL (Step14050).
- (7) After the inline data length in the parameter list is read, the target descriptor of one target descriptor length (32 bytes) is sequentially read. The number of target descriptors contained in the EXTENDED COPY command is TL/32. The format of the target descriptor has already been described with reference to FIG. 5. The descriptor type code is first read and then target WWN and LUN are read. The process of reading one target descriptor is repeated by the number of target descriptors (TL/32) (
Steps 14060 to 14100). - (8) Next, a segment descriptor is read. The format of the segment descriptor has already been described with reference to FIG. 8. The descriptor type code, descriptor length (DL) and the like are first read. Thereafter, the descriptor index of the source target as the copy source logical device and the descriptor index of the destination target as the copy destination logical device are read (
Steps 14120 to 14150). - (9) By using the target descriptor index described in the segment descriptor as a search key, the target descriptor shown in FIG. 5 is referred to to read the source target WWN and LUN. By referring to the access permission/rejection table showing a correspondence between the host computer of WWN and the logical device of LUN shown in FIG. 12, it is checked whether the host computer of WWN transmitted the source target WWN and LUN and the EXTENDED COPY command can access the logical device designated by the source target (
Steps 14160 and 14170). - (10) If it is determined at
Step 14170 that an access is permitted, the remaining segment descriptors are read to read the transfer length, block device number, block device LBA and the like and perform a copy of the designated copy target data from the logical device designated as the source target to the logical device designated as the destination target (Step 14180). - (11) The processes from
Step 14120 of reading the next segment descriptor are repeated by SL/(DL+4) calculated from the descriptor length DL and segment descriptor length SL (Steps 14110 to 14190). - (12) If it is determined at
Step 14170 that an access to the logical device designated as the source target is rejected or impossible, the EXTENDED COPY command is terminated in a CHECK CONDITION status. For example, COPY ABORT is set to a sense key and COPY TARGET DEVICE NOT REACHABLE is set to a sense code. As a corresponding exception process, a proper error process defined by the EXTENDED COPY command is performed to notify an error to the host to thereafter terminate the process (Steps 14210 and 14200). - Although the error process is performed when the access is rejected, an error process of the command itself is defined by the EXTENDED COPY command at each Step and this process is performed when such an error occurs.
- (13) If it is determined at
Step 14190 that the above-described process has been completed for all segment descriptors, and if the inline data length is 0, then a normal end process defined by the EXTENDED COPY command is performed to terminate the whole process (Step 14200). - FIG. 15 is a flow chart illustrating another example of the operation for a device relative to which the SCSI EXTENDED COPY command is received via the fibre channel network. This operation will be described. In an example to follow, the operation for the device relative to which the command is received is performed by the storage
subsystem control unit 2200, EXTENDED COPYaccess processing unit 2230 and EXTENDED COPYaccess control unit 2231 in response to the received fibre channel frame after the transmission of a SCSI EXTENDED COPY command from the upper level apparatus via the fibre channel network. In this example, the flow control shown in FIG. 14 is added with a process (Steps 15170 to 15190) of checking also WWN and LUN described in the destination target descriptors by using the access permission/rejection table. This process can be executed, for example, in order not to execute the EXTENDED COPY process by designating as a copy destination a logical volume reserved for replication or remote copy in the storage subsystem. - The copy source logical device and copy destination logical device may be: 1) the same logical device in the same storage subsystem (e.g., one of the
devices devices devices device 2800 shown in FIG. 2) or the logical device in another storage subsystem. - It is herein assumed that an EXTENDED COPY command is transmitted as a frame shown in FIG. 9 and containing an information unit called FCP_CMND, from a host computer to the storage subsystem via the fibre channel network.
- (1) In the fibre channel log-in process, the storage subsystem which receives a fibre channel frame from a host computer shown in FIG. 2 derives S_ID and WWN from the fibre channel frame, creates a correspondence table such as shown in FIG. 11 between S_ID and WWN of the host computer which is the transmission source of the fibre channel frame, and checks whether the host computer is permitted to access the designated device in the storage subsystem, by referring to the table shown in FIG. 12. Thereafter, the storage subsystem receives a fibre channel frame transmitted from the host computer relative to a specific internal logical device (Step15000).
- (2) Upon reception of the fibre channel frame, S_ID is picked up from the frame header in order to identify WWN of the host computer which transmitted the frame. Next, the frame data field is read, and if a command device block (CDB) exists in the fibre channel frame, it is checked whether the contents of the command is an EXTENDED COPY command (
Steps 15010, 15020). - (3) If it is determined at
Step 15020 that the received fibre channel frame is not the EXTENDED COPY command, the flow performs other processes (Step 15031). - (4) If it is determined at
Step 15020 that the received fibre channel frame is the EXTENDED COPY command, the parameter length in CDB is checked. If the parameter length is 0, the process is terminated. If the parameter length is not 0, the command parameter list after CDB shown in FIG. 4 starts being read (Step 15030). - (5) After the list ID and the like in the command parameter list are read, the target descriptor length in 2-nd and 3-rd bytes is read (Step15040).
- (6) Next, the segment descriptor length in 8-th to 11-th bytes is read. The segment descriptor length is assumed to be represented by SL (Step15050).
- (7) After the inline data length in the parameter list is read, the target descriptor of one target descriptor length (32 bytes) is sequentially read. The number of target descriptors contained in the EXTENDED COPY command is TL/32. The format of the target descriptor has already been described with reference to FIG. 5. The descriptor type code is first read and then target WWN and LUN are read. The process of reading one target descriptor is repeated by the number of target descriptors (TL/32) (
Steps 15060 to 15100). - (8) Next, a segment descriptor is read. The format of the segment descriptor has already been described with reference to FIG. 8. The descriptor type code, descriptor length (DL) and the like are first read. Thereafter, the descriptor index of the source target as the copy source logical device and the descriptor index of the destination target as the copy destination logical device are read (
Steps 15120 to 15150). - (9) By using the target descriptor index described in the segment descriptor as a search key, the target descriptor shown in FIG. 5 is referred to to read the source target WWN and LUN. By referring to the access permission/rejection table showing a correspondence between the host computer of WWN and the logical device of LUN shown in FIG. 12, it is checked whether the host computer of WWN transmitted the source target WWN and LUN and the EXTENDED COPY command can access the logical device designated by the source target (
Steps 15160 and 15170). - (10) If it is determined at
Step 15170 that the access is permitted, the descriptor index of the destination target as the copy destination logical device is read to refer to the target descriptor (Step 15180). - (11) By using the target descriptor index described in the segment descriptor as a search key, the target descriptor shown in FIG. 5 is referred to to read the destination target WWN and LUN. By referring to the access permission/rejection table showing a correspondence between the host computer of WWN and the logical device of LUN shown in FIG. 12, it is checked whether the host computer of WWN transmitted the destination target WWN and LUN and the EXTENDED COPY command can access the logical device designated by the source target (
Steps 15190 and 15200). - (12) If it is determined at
Step 15200 that an access is permitted, the remaining segment descriptors are read to read the transfer length, block device number, block device LBA and the like and perform a copy of the designated copy target data from the logical device designated as the source target to the logical device designated as the destination target (Step 15210). - (13) The processes from
Step 15120 of reading the next segment descriptor are repeated by SL/(DL+4) calculated from the descriptor length DL and segment descriptor length SL (Steps 15110 to 15220). - (14) If it is determined at
Steps Steps 15230 and 15240). - Although the error process is performed when the access is rejected, an error process of the command itself is defined by the EXTENDED COPY command at each Step and this process is performed when such an error occurs.
- (15) If it is determined at
Step 15220 that the above-described process has been completed for all segment descriptors, and if the inline data length is 0, then a normal end process defined by the EXTENDED COPY command is performed to terminate the whole process (Step 15240). - According to the embodiment of the invention, a storage subsystem coupled to a computer includes an access permission/rejection determination unit which determines a permission/rejection of an access by referring to access permission/rejection information of an access between an upper level apparatus identifier and a unit which determines whether a copy process is permitted or not when a copy process by an active copy instruction command from the inside of the storage subsystem is issued.
- According to the present invention, a data copying method of performing a data copy process for a logical device (2401 to 2420) without intervening a computer, includes the steps of:
- determining from a data copy instruction from the computer whether an access to a logical storage device (2401, 2407, 2410) is permitted or not; and
- performing the data copy process relative to the logical storage device in accordance with a determination result of an access permission/rejection to the logical storage device.
- According to the invention, a storage subsystem (2100) coupled to a computer (e.g., 2000), includes:
- a logical storage device (e.g.,2401) to which an I/O process is performed by the computer;
- a port (2101, 2102) which receives an I/O processing request from the computer; and
- a processing unit (2200) which controls the logical storage device in response to the I/O processing request,
- wherein the processing unit comprises:
- an access permission/rejection table (2221, FIG. 12) which stores a correspondence between the logical storage device (e.g., 2401) and identification information (WWN) for identifying the computer or the port of the computer, and defines an access permission/rejection of the computer to the logical storage device;
- a relational table (FIG. 11) which stores a relation between the identification information (WWN) and an address identifier (S_ID) for identifying the port (2101, 2102) for receiving a frame, the address identifier and the identification information being contained in a communication processing request transmitted from the computer to the storage subsystem;
- a determination unit (2220, 2221) which determines the identification information from the relational table and the address identifier in the communication processing request and determines whether an access to the logical storage device from the computer is permitted or not, in accordance with the determined identification information and the access permission/rejection table; and
- a control unit (2230) responsive to a data copy instruction from the computer which control unit controls a data copy process relative to the logical storage device in accordance with an access permission/rejection determination result by the determination unit.
- An access permission/rejection to a logical device in the storage subsystem from an upper level apparatus such as a host computer is checked from the correspondence between WWN of the upper level apparatus and the logical device identifier. In processing an active copy instruction command from the inside of the storage subsystem issued to the storage subsystem from the upper level apparatus, the logical device received the copy instruction command as the copy designated device checks the access control of the copy source device and copy destination device. It is therefore possible to prevent an outflow of illegal data from the storage subsystem to be caused by the active copy instruction command from the inside of the storage subsystem.
- In the above embodiments, although the fibre channel (FC) has been described, the invention is also applicable to iSCSI. In this case, WWN of a host computer is replaced by iSCSI NAME of the host computer to form the table shown in FIG. 12. The effects similar to the fibre channel can also be obtained for iSCSI.
- As described so far, according to the present invention, a security check of the copy source volume at the WWN level can be realized for a data copy instruction from the inside of the storage subsystem which uses a control command such as a SCSI EXTENDED COPY command. It is possible to prevent illegal data copy by selectively limiting an access to the storage subsystem or a storage area in the storage subsystem from a plurality of upper level apparatuses.
- It should be further understood by those skilled in the art that although the foregoing description has been made on embodiments of the invention, the invention is not limited thereto and various changes and modifications may be made without departing from the spirit of the invention and the scope of the appended claims.
Claims (17)
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US11/649,449 US7447859B2 (en) | 2002-02-20 | 2007-01-03 | Method of performing active data copying processing, and storage subsystem and storage control apparatus for performing active data copying processing |
Applications Claiming Priority (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
JP2002043421A JP3993773B2 (en) | 2002-02-20 | 2002-02-20 | Storage subsystem, storage control device, and data copy method |
JP2002-043421 | 2002-02-20 |
Related Child Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US11/649,449 Continuation US7447859B2 (en) | 2002-02-20 | 2007-01-03 | Method of performing active data copying processing, and storage subsystem and storage control apparatus for performing active data copying processing |
Publications (2)
Publication Number | Publication Date |
---|---|
US20030159058A1 true US20030159058A1 (en) | 2003-08-21 |
US7165157B2 US7165157B2 (en) | 2007-01-16 |
Family
ID=27678408
Family Applications (2)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US10/371,595 Expired - Fee Related US7165157B2 (en) | 2002-02-20 | 2003-02-20 | Method of performing active data copying processing, and storage subsystem and storage control apparatus for performing active data copying processing |
US11/649,449 Expired - Lifetime US7447859B2 (en) | 2002-02-20 | 2007-01-03 | Method of performing active data copying processing, and storage subsystem and storage control apparatus for performing active data copying processing |
Family Applications After (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US11/649,449 Expired - Lifetime US7447859B2 (en) | 2002-02-20 | 2007-01-03 | Method of performing active data copying processing, and storage subsystem and storage control apparatus for performing active data copying processing |
Country Status (2)
Country | Link |
---|---|
US (2) | US7165157B2 (en) |
JP (1) | JP3993773B2 (en) |
Cited By (52)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20030131182A1 (en) * | 2002-01-09 | 2003-07-10 | Andiamo Systems | Methods and apparatus for implementing virtualization of storage within a storage area network through a virtual enclosure |
US20040153605A1 (en) * | 2003-02-04 | 2004-08-05 | Hitachi, Ltd. | Disk control system and control method of disk control system |
US20040193739A1 (en) * | 2003-03-31 | 2004-09-30 | Akira Shimizu | Computer system controlling accesses to storage apparatus |
EP1528746A2 (en) * | 2003-10-30 | 2005-05-04 | Hitachi, Ltd. | Disk control unit |
US20050120222A1 (en) * | 2003-11-27 | 2005-06-02 | Yoshio Mitsuoka | Access control apparatus and access control method |
US20050120279A1 (en) * | 2003-11-19 | 2005-06-02 | Hitachi, Ltd. | Storage subsystem, storage system, and communication control method |
US20050144384A1 (en) * | 2003-12-26 | 2005-06-30 | Hitachi, Ltd. | Storage system having dynamic volume allocation function |
EP1569115A2 (en) | 2004-02-26 | 2005-08-31 | Hitachi, Ltd. | Data migration method and apparatus |
EP1577748A1 (en) * | 2004-03-18 | 2005-09-21 | Hitachi, Ltd. | Storage system and computer system |
US20050251684A1 (en) * | 2004-02-02 | 2005-11-10 | Hitachi, Ltd. | Storage control system and storage control method |
US20050278539A1 (en) * | 2004-06-11 | 2005-12-15 | Kiyoshi Honda | Reserve/release control method |
US20060101222A1 (en) * | 2003-12-25 | 2006-05-11 | Hitachi, Ltd. | Memory control device and method for controlling the same |
US20060112245A1 (en) * | 2004-11-24 | 2006-05-25 | Naoko Ikegaya | Storage system transfering volume information |
US20060143381A1 (en) * | 2003-06-18 | 2006-06-29 | Akihiro Mori | System and method for accessing an offline storage unit through an online storage unit |
WO2005055497A3 (en) * | 2003-12-01 | 2006-09-14 | Cisco Tech Inc | Apparatus and method for performing fast fibre channel write operations over relatively high latency networks |
US20060218368A1 (en) * | 2005-03-25 | 2006-09-28 | Ai Satoyama | Storage system |
US20060218370A1 (en) * | 2005-03-25 | 2006-09-28 | Ai Satoyama | Storage system |
EP1710675A1 (en) * | 2005-04-04 | 2006-10-11 | Hitachi, Ltd. | Storage controller and storage system |
US20060253672A1 (en) * | 2004-05-27 | 2006-11-09 | Hitachi, Ltd. | Remote copy with worm guarantee |
US20080066193A1 (en) * | 2006-09-07 | 2008-03-13 | International Business Machines Corporation | Automatically filling a drive table |
US20080083020A1 (en) * | 2006-09-28 | 2008-04-03 | Fuji Xerox Co., Ltd. | Information distribution device, method and storage medium storing program, and data signal for information distribution processing |
US20080195624A1 (en) * | 2007-02-13 | 2008-08-14 | Senthilkumar Ponnappan | System and method for administration of virtual servers |
US20080236990A1 (en) * | 2003-12-23 | 2008-10-02 | Sven Ehrich | Method for Identifying Counterfeit Banknotes |
US20090037555A1 (en) * | 2007-07-30 | 2009-02-05 | Hitachi, Ltd. | Storage system that transfers system information elements |
US20090094255A1 (en) * | 2004-06-09 | 2009-04-09 | Naoko Ikegaya | Computer system |
US20100232419A1 (en) * | 2009-03-12 | 2010-09-16 | James Paul Rivers | Providing fibre channel services and forwarding fibre channel over ethernet frames |
US20120089567A1 (en) * | 2010-10-06 | 2012-04-12 | Fujitsu Limited | Storage device, data replication method, and storage system |
US8805918B1 (en) | 2002-09-11 | 2014-08-12 | Cisco Technology, Inc. | Methods and apparatus for implementing exchange management for virtualization of storage within a storage area network |
US20140297981A1 (en) * | 2013-03-26 | 2014-10-02 | Fujitsu Limited | Information processing system, storage device, and backup method |
US20150370492A1 (en) * | 2014-06-24 | 2015-12-24 | Vmware, Inc. | Systems and methods for adaptive offloading of mass storage data movement |
US9372635B2 (en) * | 2014-06-03 | 2016-06-21 | Ati Technologies Ulc | Methods and apparatus for dividing secondary storage |
US9465710B1 (en) * | 2013-06-05 | 2016-10-11 | Veritas Technologies Llc | Systems and methods for predictively preparing restore packages |
US20170344283A1 (en) * | 2016-05-27 | 2017-11-30 | Intel Corporation | Data access between computing nodes |
US10048996B1 (en) * | 2015-09-29 | 2018-08-14 | Amazon Technologies, Inc. | Predicting infrastructure failures in a data center for hosted service mitigation actions |
US10140172B2 (en) | 2016-05-18 | 2018-11-27 | Cisco Technology, Inc. | Network-aware storage repairs |
US10222986B2 (en) | 2015-05-15 | 2019-03-05 | Cisco Technology, Inc. | Tenant-level sharding of disks with tenant-specific storage modules to enable policies per tenant in a distributed storage system |
US10243823B1 (en) | 2017-02-24 | 2019-03-26 | Cisco Technology, Inc. | Techniques for using frame deep loopback capabilities for extended link diagnostics in fibre channel storage area networks |
US10243826B2 (en) | 2015-01-10 | 2019-03-26 | Cisco Technology, Inc. | Diagnosis and throughput measurement of fibre channel ports in a storage area network environment |
US10254991B2 (en) | 2017-03-06 | 2019-04-09 | Cisco Technology, Inc. | Storage area network based extended I/O metrics computation for deep insight into application performance |
US10303534B2 (en) | 2017-07-20 | 2019-05-28 | Cisco Technology, Inc. | System and method for self-healing of application centric infrastructure fabric memory |
US10404596B2 (en) | 2017-10-03 | 2019-09-03 | Cisco Technology, Inc. | Dynamic route profile storage in a hardware trie routing table |
US10545914B2 (en) | 2017-01-17 | 2020-01-28 | Cisco Technology, Inc. | Distributed object storage |
US10585830B2 (en) | 2015-12-10 | 2020-03-10 | Cisco Technology, Inc. | Policy-driven storage in a microserver computing environment |
US20200097193A1 (en) * | 2018-09-24 | 2020-03-26 | Salesforce.Com, Inc. | Controlling access to memory cells |
US10664169B2 (en) | 2016-06-24 | 2020-05-26 | Cisco Technology, Inc. | Performance of object storage system by reconfiguring storage devices based on latency that includes identifying a number of fragments that has a particular storage device as its primary storage device and another number of fragments that has said particular storage device as its replica storage device |
US10713203B2 (en) | 2017-02-28 | 2020-07-14 | Cisco Technology, Inc. | Dynamic partition of PCIe disk arrays based on software configuration / policy distribution |
US10778765B2 (en) | 2015-07-15 | 2020-09-15 | Cisco Technology, Inc. | Bid/ask protocol in scale-out NVMe storage |
US10826829B2 (en) | 2015-03-26 | 2020-11-03 | Cisco Technology, Inc. | Scalable handling of BGP route information in VXLAN with EVPN control plane |
US10872056B2 (en) | 2016-06-06 | 2020-12-22 | Cisco Technology, Inc. | Remote memory access using memory mapped addressing among multiple compute nodes |
US10942666B2 (en) | 2017-10-13 | 2021-03-09 | Cisco Technology, Inc. | Using network device replication in distributed storage clusters |
US11563695B2 (en) | 2016-08-29 | 2023-01-24 | Cisco Technology, Inc. | Queue protection using a shared global memory reserve |
US11588783B2 (en) | 2015-06-10 | 2023-02-21 | Cisco Technology, Inc. | Techniques for implementing IPV6-based distributed storage space |
Families Citing this family (11)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6684209B1 (en) * | 2000-01-14 | 2004-01-27 | Hitachi, Ltd. | Security method and system for storage subsystem |
JP4137757B2 (en) | 2003-10-01 | 2008-08-20 | 株式会社日立製作所 | Network converter and information processing system |
US7428642B2 (en) * | 2004-10-15 | 2008-09-23 | Hitachi, Ltd. | Method and apparatus for data storage |
JP2006260025A (en) * | 2005-03-16 | 2006-09-28 | Toshiba Corp | Disk array device, control method for disk array device, and electronic equipment |
US20070088931A1 (en) * | 2005-10-17 | 2007-04-19 | Nobuyuki Osaki | Method and apparatus to authorize cross-partition commands |
US20080052416A1 (en) * | 2006-08-23 | 2008-02-28 | International Business Machines Corporation | Obtaining utility devices to communicate with a control unit in a data processing system |
US8112378B2 (en) | 2008-06-17 | 2012-02-07 | Hitachi, Ltd. | Methods and systems for performing root cause analysis |
JP4576449B2 (en) * | 2008-08-29 | 2010-11-10 | 富士通株式会社 | Switch device and copy control method |
US8792490B2 (en) * | 2009-03-16 | 2014-07-29 | Cisco Technology, Inc. | Logically partitioned networking devices |
US20100306348A1 (en) * | 2009-05-31 | 2010-12-02 | International Business Machines Corporation | Method and system for displaying and comparing storage zoning configurations |
CN109194616B (en) * | 2018-08-01 | 2020-03-10 | 北京科技大学 | Industrial information safety protection system for variable frequency vector control device |
Citations (31)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US5155845A (en) * | 1990-06-15 | 1992-10-13 | Storage Technology Corporation | Data storage system for providing redundant copies of data on different disk drives |
US5742792A (en) * | 1993-04-23 | 1998-04-21 | Emc Corporation | Remote data mirroring |
US5787485A (en) * | 1996-09-17 | 1998-07-28 | Marathon Technologies Corporation | Producing a mirrored copy using reference labels |
US6119208A (en) * | 1997-04-18 | 2000-09-12 | Storage Technology Corporation | MVS device backup system for a data processor using a data storage subsystem snapshot copy capability |
US6247103B1 (en) * | 1998-01-06 | 2001-06-12 | International Business Machines Corporation | Host storage management control of outboard data movement using push-pull operations |
US20010018743A1 (en) * | 2000-02-24 | 2001-08-30 | Nec Corporation | System and method for preventing an Illegal copy of contents |
US20010020254A1 (en) * | 1998-06-30 | 2001-09-06 | Blumenau Steven M. | Method and apparatus for managing access to storage devices in a storage system with access control |
US6289423B1 (en) * | 1996-12-09 | 2001-09-11 | Fujitsu Limited | Method and apparatus for providing selective write protect regions in a storage medium |
US20010039548A1 (en) * | 2000-04-27 | 2001-11-08 | Yoshitake Shinkai | File replication system, replication control method, and storage medium |
US6343324B1 (en) * | 1999-09-13 | 2002-01-29 | International Business Machines Corporation | Method and system for controlling access share storage devices in a network environment by configuring host-to-volume mapping data structures in the controller memory for granting and denying access to the devices |
US6356979B1 (en) * | 1999-05-17 | 2002-03-12 | Compaq Computer Corporation | System and method for selectively presenting logical storage units to multiple host operating systems in a networked computing system |
US6363385B1 (en) * | 1999-06-29 | 2002-03-26 | Emc Corporation | Method and apparatus for making independent data copies in a data processing system |
US20020083339A1 (en) * | 2000-12-22 | 2002-06-27 | Blumenau Steven M. | Method and apparatus for preventing unauthorized access by a network device |
US20020091828A1 (en) * | 1999-08-27 | 2002-07-11 | Hitachi, Ltd. | Computer system and a method of assigning a storage device to a computer |
US20020143903A1 (en) * | 2001-03-28 | 2002-10-03 | Ikuo Uratani | Storage system |
US6484229B1 (en) * | 1999-03-05 | 2002-11-19 | Hitachi, Ltd. | Magnetic disk apparatus |
US20020188802A1 (en) * | 2001-02-28 | 2002-12-12 | Hitachi, Ltd. | Memory device system and method for copying data in memory device system |
US20020199073A1 (en) * | 2001-06-11 | 2002-12-26 | Keishi Tamura | Method and system for backing up storage system data |
US6502162B2 (en) * | 1998-06-29 | 2002-12-31 | Emc Corporation | Configuring vectors of logical storage units for data storage partitioning and sharing |
US20030014600A1 (en) * | 2001-07-13 | 2003-01-16 | Ryuske Ito | Security for logical unit in storage subsystem |
US20030126360A1 (en) * | 2001-12-28 | 2003-07-03 | Camble Peter Thomas | System and method for securing fiber channel drive access in a partitioned data library |
US6594745B2 (en) * | 2001-01-31 | 2003-07-15 | Hewlett-Packard Development Company, L.P. | Mirroring agent accessible to remote host computers, and accessing remote data-storage devices, via a communcations medium |
US20030196055A1 (en) * | 2000-05-24 | 2003-10-16 | Toshimitsu Kamano | Method and apparatus for controlling access to storage device |
US20030208589A1 (en) * | 2001-12-07 | 2003-11-06 | Masayuki Yamamoto | Detecting configuration inconsistency in storage networks |
US6684209B1 (en) * | 2000-01-14 | 2004-01-27 | Hitachi, Ltd. | Security method and system for storage subsystem |
US20040054866A1 (en) * | 1998-06-29 | 2004-03-18 | Blumenau Steven M. | Mapping of hosts to logical storage units and data storage ports in a data processing system |
US20040059882A1 (en) * | 1999-06-29 | 2004-03-25 | Isbay Kedem | Method and apparatus for making independent data copies in a data processing system |
US6715031B2 (en) * | 2001-12-28 | 2004-03-30 | Hewlett-Packard Development Company, L.P. | System and method for partitioning a storage area network associated data library |
US6721862B2 (en) * | 2000-10-11 | 2004-04-13 | Mcdata Corporation | Method and circuit for replicating data in a fiber channel network, or the like |
US6721851B2 (en) * | 2001-08-07 | 2004-04-13 | Veritas Operating Corporation | System and method for preventing sector slipping in a storage area network |
US6757797B1 (en) * | 1999-09-30 | 2004-06-29 | Fujitsu Limited | Copying method between logical disks, disk-storage system and its storage medium |
Family Cites Families (37)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US566767A (en) * | 1896-09-01 | jerram | ||
FR732895A (en) * | 1932-10-18 | 1932-09-25 | Consortium Elektrochem Ind | Articles spun in polyvinyl alcohol |
US4748043A (en) * | 1986-08-29 | 1988-05-31 | Minnesota Mining And Manufacturing Company | Electrospray coating process |
US5328471A (en) * | 1990-02-26 | 1994-07-12 | Endoluminal Therapeutics, Inc. | Method and apparatus for treatment of focal disease in hollow tubular organs and other tissue lumens |
US4977901A (en) * | 1988-11-23 | 1990-12-18 | Minnesota Mining And Manufacturing Company | Article having non-crosslinked crystallized polymer coatings |
JP3133750B2 (en) * | 1989-03-24 | 2001-02-13 | キヤノン株式会社 | Ink jet cartridge and ink jet recording apparatus using the same |
US5971954A (en) * | 1990-01-10 | 1999-10-26 | Rochester Medical Corporation | Method of making catheter |
DE69110467T2 (en) * | 1990-06-15 | 1996-02-01 | Cortrak Medical Inc | DEVICE FOR DISPENSING MEDICINES. |
US5464650A (en) * | 1993-04-26 | 1995-11-07 | Medtronic, Inc. | Intravascular stent and method |
US5716981A (en) * | 1993-07-19 | 1998-02-10 | Angiogenesis Technologies, Inc. | Anti-angiogenic compositions and methods of use |
US5723004A (en) * | 1993-10-21 | 1998-03-03 | Corvita Corporation | Expandable supportive endoluminal grafts |
US5670558A (en) * | 1994-07-07 | 1997-09-23 | Terumo Kabushiki Kaisha | Medical instruments that exhibit surface lubricity when wetted |
US5578073A (en) * | 1994-09-16 | 1996-11-26 | Ramot Of Tel Aviv University | Thromboresistant surface treatment for biomaterials |
US5637113A (en) * | 1994-12-13 | 1997-06-10 | Advanced Cardiovascular Systems, Inc. | Polymer film for wrapping a stent structure |
US5569198A (en) * | 1995-01-23 | 1996-10-29 | Cortrak Medical Inc. | Microporous catheter |
US5605696A (en) * | 1995-03-30 | 1997-02-25 | Advanced Cardiovascular Systems, Inc. | Drug loaded polymeric material and method of manufacture |
US5837313A (en) * | 1995-04-19 | 1998-11-17 | Schneider (Usa) Inc | Drug release stent coating process |
CA2178541C (en) * | 1995-06-07 | 2009-11-24 | Neal E. Fearnot | Implantable medical device |
US5820917A (en) * | 1995-06-07 | 1998-10-13 | Medtronic, Inc. | Blood-contacting medical device and method |
US6010530A (en) * | 1995-06-07 | 2000-01-04 | Boston Scientific Technology, Inc. | Self-expanding endoluminal prosthesis |
US5609629A (en) * | 1995-06-07 | 1997-03-11 | Med Institute, Inc. | Coated implantable medical device |
US5667767A (en) * | 1995-07-27 | 1997-09-16 | Micro Therapeutics, Inc. | Compositions for use in embolizing blood vessels |
US5741554A (en) * | 1996-07-26 | 1998-04-21 | Bio Dot, Inc. | Method of dispensing a liquid reagent |
US5830178A (en) * | 1996-10-11 | 1998-11-03 | Micro Therapeutics, Inc. | Methods for embolizing vascular sites with an emboilizing composition comprising dimethylsulfoxide |
US5980972A (en) * | 1996-12-20 | 1999-11-09 | Schneider (Usa) Inc | Method of applying drug-release coatings |
US6140431A (en) * | 1997-02-27 | 2000-10-31 | Rohm And Haas Company | Process for preparing continuously variable-composition copolymers |
JP3228182B2 (en) | 1997-05-29 | 2001-11-12 | 株式会社日立製作所 | Storage system and method for accessing storage system |
US6056993A (en) * | 1997-05-30 | 2000-05-02 | Schneider (Usa) Inc. | Porous protheses and methods for making the same wherein the protheses are formed by spraying water soluble and water insoluble fibers onto a rotating mandrel |
US6433154B1 (en) * | 1997-06-12 | 2002-08-13 | Bristol-Myers Squibb Company | Functional receptor/kinase chimera in yeast cells |
US6194034B1 (en) * | 1997-07-02 | 2001-02-27 | Konica Corporation | Method of coating a substrate wherein the flow rate of the coating solution is changed |
US5980928A (en) * | 1997-07-29 | 1999-11-09 | Terry; Paul B. | Implant for preventing conjunctivitis in cattle |
WO1999062572A1 (en) * | 1998-06-03 | 1999-12-09 | N.V. Bekaert S.A. | Stents with a diamond like coating |
US6153252A (en) * | 1998-06-30 | 2000-11-28 | Ethicon, Inc. | Process for coating stents |
JP3744248B2 (en) | 1999-03-29 | 2006-02-08 | 株式会社日立製作所 | Fiber channel connected storage subsystem and access method thereof |
US6775830B1 (en) | 1999-09-24 | 2004-08-10 | Hitachi, Ltd. | Computer system and a program install method thereof |
JP4598248B2 (en) | 2000-01-14 | 2010-12-15 | 株式会社日立製作所 | Storage subsystem security system |
US6766397B2 (en) | 2000-02-07 | 2004-07-20 | Emc Corporation | Controlling access to a storage device |
-
2002
- 2002-02-20 JP JP2002043421A patent/JP3993773B2/en not_active Expired - Fee Related
-
2003
- 2003-02-20 US US10/371,595 patent/US7165157B2/en not_active Expired - Fee Related
-
2007
- 2007-01-03 US US11/649,449 patent/US7447859B2/en not_active Expired - Lifetime
Patent Citations (31)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US5155845A (en) * | 1990-06-15 | 1992-10-13 | Storage Technology Corporation | Data storage system for providing redundant copies of data on different disk drives |
US5742792A (en) * | 1993-04-23 | 1998-04-21 | Emc Corporation | Remote data mirroring |
US5787485A (en) * | 1996-09-17 | 1998-07-28 | Marathon Technologies Corporation | Producing a mirrored copy using reference labels |
US6289423B1 (en) * | 1996-12-09 | 2001-09-11 | Fujitsu Limited | Method and apparatus for providing selective write protect regions in a storage medium |
US6119208A (en) * | 1997-04-18 | 2000-09-12 | Storage Technology Corporation | MVS device backup system for a data processor using a data storage subsystem snapshot copy capability |
US6247103B1 (en) * | 1998-01-06 | 2001-06-12 | International Business Machines Corporation | Host storage management control of outboard data movement using push-pull operations |
US20040054866A1 (en) * | 1998-06-29 | 2004-03-18 | Blumenau Steven M. | Mapping of hosts to logical storage units and data storage ports in a data processing system |
US6502162B2 (en) * | 1998-06-29 | 2002-12-31 | Emc Corporation | Configuring vectors of logical storage units for data storage partitioning and sharing |
US20010020254A1 (en) * | 1998-06-30 | 2001-09-06 | Blumenau Steven M. | Method and apparatus for managing access to storage devices in a storage system with access control |
US6484229B1 (en) * | 1999-03-05 | 2002-11-19 | Hitachi, Ltd. | Magnetic disk apparatus |
US6356979B1 (en) * | 1999-05-17 | 2002-03-12 | Compaq Computer Corporation | System and method for selectively presenting logical storage units to multiple host operating systems in a networked computing system |
US6363385B1 (en) * | 1999-06-29 | 2002-03-26 | Emc Corporation | Method and apparatus for making independent data copies in a data processing system |
US20040059882A1 (en) * | 1999-06-29 | 2004-03-25 | Isbay Kedem | Method and apparatus for making independent data copies in a data processing system |
US20020091828A1 (en) * | 1999-08-27 | 2002-07-11 | Hitachi, Ltd. | Computer system and a method of assigning a storage device to a computer |
US6343324B1 (en) * | 1999-09-13 | 2002-01-29 | International Business Machines Corporation | Method and system for controlling access share storage devices in a network environment by configuring host-to-volume mapping data structures in the controller memory for granting and denying access to the devices |
US6757797B1 (en) * | 1999-09-30 | 2004-06-29 | Fujitsu Limited | Copying method between logical disks, disk-storage system and its storage medium |
US6684209B1 (en) * | 2000-01-14 | 2004-01-27 | Hitachi, Ltd. | Security method and system for storage subsystem |
US20010018743A1 (en) * | 2000-02-24 | 2001-08-30 | Nec Corporation | System and method for preventing an Illegal copy of contents |
US20010039548A1 (en) * | 2000-04-27 | 2001-11-08 | Yoshitake Shinkai | File replication system, replication control method, and storage medium |
US20030196055A1 (en) * | 2000-05-24 | 2003-10-16 | Toshimitsu Kamano | Method and apparatus for controlling access to storage device |
US6721862B2 (en) * | 2000-10-11 | 2004-04-13 | Mcdata Corporation | Method and circuit for replicating data in a fiber channel network, or the like |
US20020083339A1 (en) * | 2000-12-22 | 2002-06-27 | Blumenau Steven M. | Method and apparatus for preventing unauthorized access by a network device |
US6594745B2 (en) * | 2001-01-31 | 2003-07-15 | Hewlett-Packard Development Company, L.P. | Mirroring agent accessible to remote host computers, and accessing remote data-storage devices, via a communcations medium |
US20020188802A1 (en) * | 2001-02-28 | 2002-12-12 | Hitachi, Ltd. | Memory device system and method for copying data in memory device system |
US20020143903A1 (en) * | 2001-03-28 | 2002-10-03 | Ikuo Uratani | Storage system |
US20020199073A1 (en) * | 2001-06-11 | 2002-12-26 | Keishi Tamura | Method and system for backing up storage system data |
US20030014600A1 (en) * | 2001-07-13 | 2003-01-16 | Ryuske Ito | Security for logical unit in storage subsystem |
US6721851B2 (en) * | 2001-08-07 | 2004-04-13 | Veritas Operating Corporation | System and method for preventing sector slipping in a storage area network |
US20030208589A1 (en) * | 2001-12-07 | 2003-11-06 | Masayuki Yamamoto | Detecting configuration inconsistency in storage networks |
US20030126360A1 (en) * | 2001-12-28 | 2003-07-03 | Camble Peter Thomas | System and method for securing fiber channel drive access in a partitioned data library |
US6715031B2 (en) * | 2001-12-28 | 2004-03-30 | Hewlett-Packard Development Company, L.P. | System and method for partitioning a storage area network associated data library |
Cited By (116)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20030131182A1 (en) * | 2002-01-09 | 2003-07-10 | Andiamo Systems | Methods and apparatus for implementing virtualization of storage within a storage area network through a virtual enclosure |
US7548975B2 (en) | 2002-01-09 | 2009-06-16 | Cisco Technology, Inc. | Methods and apparatus for implementing virtualization of storage within a storage area network through a virtual enclosure |
US8805918B1 (en) | 2002-09-11 | 2014-08-12 | Cisco Technology, Inc. | Methods and apparatus for implementing exchange management for virtualization of storage within a storage area network |
US9733868B2 (en) | 2002-09-11 | 2017-08-15 | Cisco Technology, Inc. | Methods and apparatus for implementing exchange management for virtualization of storage within a storage area network |
US20040153605A1 (en) * | 2003-02-04 | 2004-08-05 | Hitachi, Ltd. | Disk control system and control method of disk control system |
US7069405B2 (en) | 2003-02-04 | 2006-06-27 | Hitachi, Ltd. | Disk control system and control method of disk control system |
US7127583B2 (en) | 2003-02-04 | 2006-10-24 | Hitachi, Ltd. | Disk control system and control method of disk control system |
US20040193739A1 (en) * | 2003-03-31 | 2004-09-30 | Akira Shimizu | Computer system controlling accesses to storage apparatus |
US7464188B2 (en) * | 2003-03-31 | 2008-12-09 | Hitachi, Ltd. | Computer system controlling accesses to storage apparatus |
US8078809B2 (en) | 2003-06-18 | 2011-12-13 | Hitachi, Ltd. | System for accessing an offline storage unit through an online storage unit |
US7366870B2 (en) | 2003-06-18 | 2008-04-29 | Hitachi, Ltd. | System and method for accessing an offline storage unit through an online storage unit |
US20060143381A1 (en) * | 2003-06-18 | 2006-06-29 | Akihiro Mori | System and method for accessing an offline storage unit through an online storage unit |
US8006310B2 (en) | 2003-10-30 | 2011-08-23 | Hitachi, Ltd. | Disk control unit |
US7454795B2 (en) | 2003-10-30 | 2008-11-18 | Hitachi, Ltd. | Disk control unit |
EP1528746A3 (en) * | 2003-10-30 | 2006-01-25 | Hitachi, Ltd. | Disk control unit |
US20050097324A1 (en) * | 2003-10-30 | 2005-05-05 | Hitachi, Ltd | Disk control unit |
EP1528746A2 (en) * | 2003-10-30 | 2005-05-04 | Hitachi, Ltd. | Disk control unit |
US20050120279A1 (en) * | 2003-11-19 | 2005-06-02 | Hitachi, Ltd. | Storage subsystem, storage system, and communication control method |
US7757279B2 (en) | 2003-11-19 | 2010-07-13 | Hitachi, Ltd. | Storage subsystem, storage system, and communication control method |
US20080288825A1 (en) * | 2003-11-19 | 2008-11-20 | Hiroshi Furukawa | Storage subsystem, storage system, and communication control method |
FR2863073A1 (en) * | 2003-11-27 | 2005-06-03 | Hitachi Ltd | DEVICE AND METHOD FOR CONTROLLING ACCESS |
US20050120222A1 (en) * | 2003-11-27 | 2005-06-02 | Yoshio Mitsuoka | Access control apparatus and access control method |
DE102004013116B4 (en) * | 2003-11-27 | 2008-04-17 | Hitachi, Ltd. | Storage control device, access control device and access control method |
US7127543B2 (en) | 2003-11-27 | 2006-10-24 | Hitachi, Ltd. | Access control apparatus and access control method |
WO2005055497A3 (en) * | 2003-12-01 | 2006-09-14 | Cisco Tech Inc | Apparatus and method for performing fast fibre channel write operations over relatively high latency networks |
AU2004311001B2 (en) * | 2003-12-01 | 2009-11-05 | Cisco Technology, Inc. | Apparatus and method for performing fast fibre channel write operations over relatively high latency networks |
US7934023B2 (en) | 2003-12-01 | 2011-04-26 | Cisco Technology, Inc. | Apparatus and method for performing fast fibre channel write operations over relatively high latency networks |
US7699153B2 (en) | 2003-12-23 | 2010-04-20 | Giesecke & Devrient Gmbh | Method for identifying counterfeit banknotes |
US20080236990A1 (en) * | 2003-12-23 | 2008-10-02 | Sven Ehrich | Method for Identifying Counterfeit Banknotes |
US7669016B2 (en) | 2003-12-25 | 2010-02-23 | Hitachi, Ltd. | Memory control device and method for controlling the same |
US20060101222A1 (en) * | 2003-12-25 | 2006-05-11 | Hitachi, Ltd. | Memory control device and method for controlling the same |
US8516204B2 (en) | 2003-12-25 | 2013-08-20 | Hitachi, Ltd. | Memory control device and method for controlling the same |
US20100122029A1 (en) * | 2003-12-25 | 2010-05-13 | Hitachi, Ltd. | Memory control device and method for controlling the same |
US7360017B2 (en) | 2003-12-25 | 2008-04-15 | Hitachi, Ltd. | Storage control device for longevity of the disk spindles based upon access of hard disk drives |
US7975113B2 (en) | 2003-12-25 | 2011-07-05 | Hitachi, Ltd. | Memory control device and method for controlling the same |
US20060095704A1 (en) * | 2003-12-26 | 2006-05-04 | Hitachi, Ltd. | Storage system having dynamic volume allocation function |
US20050144384A1 (en) * | 2003-12-26 | 2005-06-30 | Hitachi, Ltd. | Storage system having dynamic volume allocation function |
US7392364B2 (en) | 2003-12-26 | 2008-06-24 | Hitachi, Ltd. | Storage system having dynamic volume allocation function |
US7757058B2 (en) | 2003-12-26 | 2010-07-13 | Hitachi, Ltd. | Storage system having dynamic volume allocation function |
US20080215812A1 (en) * | 2003-12-26 | 2008-09-04 | Hitachi, Ltd. | Storage system having dynamic volume allocation function |
US7991974B2 (en) | 2003-12-26 | 2011-08-02 | Hitachi, Ltd. | Storage system having dynamic volume allocation function |
US7310713B2 (en) | 2003-12-26 | 2007-12-18 | Hitachi, Ltd. | Storage system having dynamic volume allocation function |
US20050251684A1 (en) * | 2004-02-02 | 2005-11-10 | Hitachi, Ltd. | Storage control system and storage control method |
EP1569115A2 (en) | 2004-02-26 | 2005-08-31 | Hitachi, Ltd. | Data migration method and apparatus |
EP1569115A3 (en) * | 2004-02-26 | 2009-01-21 | Hitachi, Ltd. | Data migration method and apparatus |
EP1684161A3 (en) * | 2004-03-18 | 2006-10-11 | Hitachi, Ltd. | Storage system and computer system |
EP1679583A3 (en) * | 2004-03-18 | 2006-10-11 | Hitachi, Ltd. | Storage system and computer system |
US20080256317A1 (en) * | 2004-03-18 | 2008-10-16 | Yasuyuki Nagasoe | Storage system and computer system |
EP1684161A2 (en) * | 2004-03-18 | 2006-07-26 | Hitachi, Ltd. | Storage system and computer system |
EP1679584A3 (en) * | 2004-03-18 | 2006-10-11 | Hitachi, Ltd. | Storage system and computer system |
EP1577748A1 (en) * | 2004-03-18 | 2005-09-21 | Hitachi, Ltd. | Storage system and computer system |
EP1679583A2 (en) * | 2004-03-18 | 2006-07-12 | Hitachi, Ltd. | Storage system and computer system |
EP1600859A3 (en) * | 2004-05-27 | 2008-06-04 | Hitachi, Ltd. | Remote copy system with WORM (Write Once Read Many) guarantee |
US20060253672A1 (en) * | 2004-05-27 | 2006-11-09 | Hitachi, Ltd. | Remote copy with worm guarantee |
US20090094255A1 (en) * | 2004-06-09 | 2009-04-09 | Naoko Ikegaya | Computer system |
US7739371B2 (en) * | 2004-06-09 | 2010-06-15 | Hitachi, Ltd. | Computer system |
US20050278539A1 (en) * | 2004-06-11 | 2005-12-15 | Kiyoshi Honda | Reserve/release control method |
US7272852B2 (en) * | 2004-06-11 | 2007-09-18 | Hitachi, Ltd. | Reserve/release control method |
US20060112245A1 (en) * | 2004-11-24 | 2006-05-25 | Naoko Ikegaya | Storage system transfering volume information |
US7640415B2 (en) * | 2005-03-25 | 2009-12-29 | Hitachi, Ltd. | Storage system having a first computer, a second computer connected to the first computer via a network, and a storage device system that is accessed by the second computer |
US7469330B2 (en) * | 2005-03-25 | 2008-12-23 | Hitachi, Ltd. | Storage system having a first computer, a second computer connected to the first computer via a network, and a storage device system that is accessed by the second computer |
US20060218368A1 (en) * | 2005-03-25 | 2006-09-28 | Ai Satoyama | Storage system |
US8656132B2 (en) * | 2005-03-25 | 2014-02-18 | Hitachi Ltd. | Storage system providing effective use of target device resources |
US20060218370A1 (en) * | 2005-03-25 | 2006-09-28 | Ai Satoyama | Storage system |
US7793064B2 (en) | 2005-03-25 | 2010-09-07 | Hitachi, Ltd. | Storage system having a first computer, a second computer connected to the first computer via a network, and a storage device system that is accessed by the second computer |
US20090119473A1 (en) * | 2005-03-25 | 2009-05-07 | Ai Satoyama | Storage system |
US20110055504A1 (en) * | 2005-03-25 | 2011-03-03 | Ai Satoyama | Storage system |
EP1710675A1 (en) * | 2005-04-04 | 2006-10-11 | Hitachi, Ltd. | Storage controller and storage system |
US7343464B2 (en) | 2005-04-04 | 2008-03-11 | Hitachi, Ltd. | Storage controller and storage system |
US20080066193A1 (en) * | 2006-09-07 | 2008-03-13 | International Business Machines Corporation | Automatically filling a drive table |
US7752463B2 (en) * | 2006-09-07 | 2010-07-06 | International Business Machines Corporation | Automatically filling a drive table |
US20080083020A1 (en) * | 2006-09-28 | 2008-04-03 | Fuji Xerox Co., Ltd. | Information distribution device, method and storage medium storing program, and data signal for information distribution processing |
US8176566B2 (en) * | 2006-09-28 | 2012-05-08 | Fuji Xerox Co., Ltd. | Information distribution device, method and storage medium storing program, and data signal for information distribution processing |
US20080195624A1 (en) * | 2007-02-13 | 2008-08-14 | Senthilkumar Ponnappan | System and method for administration of virtual servers |
US8190641B2 (en) * | 2007-02-13 | 2012-05-29 | Netapp, Inc. | System and method for administration of virtual servers |
US20090037555A1 (en) * | 2007-07-30 | 2009-02-05 | Hitachi, Ltd. | Storage system that transfers system information elements |
EP2026189A1 (en) * | 2007-07-30 | 2009-02-18 | Hitachi, Ltd. | Storage system that transfers system information elements |
US8326939B2 (en) | 2007-07-30 | 2012-12-04 | Hitachi, Ltd. | Storage system that transfers system information elements |
US8798058B2 (en) * | 2009-03-12 | 2014-08-05 | Cisco Technology, Inc. | Providing fibre channel services and forwarding fibre channel over ethernet frames |
US20100232419A1 (en) * | 2009-03-12 | 2010-09-16 | James Paul Rivers | Providing fibre channel services and forwarding fibre channel over ethernet frames |
US20120089567A1 (en) * | 2010-10-06 | 2012-04-12 | Fujitsu Limited | Storage device, data replication method, and storage system |
US20140297981A1 (en) * | 2013-03-26 | 2014-10-02 | Fujitsu Limited | Information processing system, storage device, and backup method |
US9465710B1 (en) * | 2013-06-05 | 2016-10-11 | Veritas Technologies Llc | Systems and methods for predictively preparing restore packages |
US9372635B2 (en) * | 2014-06-03 | 2016-06-21 | Ati Technologies Ulc | Methods and apparatus for dividing secondary storage |
US20150370492A1 (en) * | 2014-06-24 | 2015-12-24 | Vmware, Inc. | Systems and methods for adaptive offloading of mass storage data movement |
US10120618B2 (en) * | 2014-06-24 | 2018-11-06 | Vmware, Inc. | Systems and methods for adaptive offloading of mass storage data movement |
US10243826B2 (en) | 2015-01-10 | 2019-03-26 | Cisco Technology, Inc. | Diagnosis and throughput measurement of fibre channel ports in a storage area network environment |
US10826829B2 (en) | 2015-03-26 | 2020-11-03 | Cisco Technology, Inc. | Scalable handling of BGP route information in VXLAN with EVPN control plane |
US11354039B2 (en) | 2015-05-15 | 2022-06-07 | Cisco Technology, Inc. | Tenant-level sharding of disks with tenant-specific storage modules to enable policies per tenant in a distributed storage system |
US10222986B2 (en) | 2015-05-15 | 2019-03-05 | Cisco Technology, Inc. | Tenant-level sharding of disks with tenant-specific storage modules to enable policies per tenant in a distributed storage system |
US10671289B2 (en) | 2015-05-15 | 2020-06-02 | Cisco Technology, Inc. | Tenant-level sharding of disks with tenant-specific storage modules to enable policies per tenant in a distributed storage system |
US11588783B2 (en) | 2015-06-10 | 2023-02-21 | Cisco Technology, Inc. | Techniques for implementing IPV6-based distributed storage space |
US10778765B2 (en) | 2015-07-15 | 2020-09-15 | Cisco Technology, Inc. | Bid/ask protocol in scale-out NVMe storage |
US10048996B1 (en) * | 2015-09-29 | 2018-08-14 | Amazon Technologies, Inc. | Predicting infrastructure failures in a data center for hosted service mitigation actions |
US10585830B2 (en) | 2015-12-10 | 2020-03-10 | Cisco Technology, Inc. | Policy-driven storage in a microserver computing environment |
US10949370B2 (en) | 2015-12-10 | 2021-03-16 | Cisco Technology, Inc. | Policy-driven storage in a microserver computing environment |
US10140172B2 (en) | 2016-05-18 | 2018-11-27 | Cisco Technology, Inc. | Network-aware storage repairs |
US20170344283A1 (en) * | 2016-05-27 | 2017-11-30 | Intel Corporation | Data access between computing nodes |
US10872056B2 (en) | 2016-06-06 | 2020-12-22 | Cisco Technology, Inc. | Remote memory access using memory mapped addressing among multiple compute nodes |
US10664169B2 (en) | 2016-06-24 | 2020-05-26 | Cisco Technology, Inc. | Performance of object storage system by reconfiguring storage devices based on latency that includes identifying a number of fragments that has a particular storage device as its primary storage device and another number of fragments that has said particular storage device as its replica storage device |
US11563695B2 (en) | 2016-08-29 | 2023-01-24 | Cisco Technology, Inc. | Queue protection using a shared global memory reserve |
US10545914B2 (en) | 2017-01-17 | 2020-01-28 | Cisco Technology, Inc. | Distributed object storage |
US11252067B2 (en) | 2017-02-24 | 2022-02-15 | Cisco Technology, Inc. | Techniques for using frame deep loopback capabilities for extended link diagnostics in fibre channel storage area networks |
US10243823B1 (en) | 2017-02-24 | 2019-03-26 | Cisco Technology, Inc. | Techniques for using frame deep loopback capabilities for extended link diagnostics in fibre channel storage area networks |
US10713203B2 (en) | 2017-02-28 | 2020-07-14 | Cisco Technology, Inc. | Dynamic partition of PCIe disk arrays based on software configuration / policy distribution |
US10254991B2 (en) | 2017-03-06 | 2019-04-09 | Cisco Technology, Inc. | Storage area network based extended I/O metrics computation for deep insight into application performance |
US11055159B2 (en) | 2017-07-20 | 2021-07-06 | Cisco Technology, Inc. | System and method for self-healing of application centric infrastructure fabric memory |
US10303534B2 (en) | 2017-07-20 | 2019-05-28 | Cisco Technology, Inc. | System and method for self-healing of application centric infrastructure fabric memory |
US10999199B2 (en) | 2017-10-03 | 2021-05-04 | Cisco Technology, Inc. | Dynamic route profile storage in a hardware trie routing table |
US11570105B2 (en) | 2017-10-03 | 2023-01-31 | Cisco Technology, Inc. | Dynamic route profile storage in a hardware trie routing table |
US10404596B2 (en) | 2017-10-03 | 2019-09-03 | Cisco Technology, Inc. | Dynamic route profile storage in a hardware trie routing table |
US10942666B2 (en) | 2017-10-13 | 2021-03-09 | Cisco Technology, Inc. | Using network device replication in distributed storage clusters |
US10908826B2 (en) * | 2018-09-24 | 2021-02-02 | Salesforce.Com, Inc. | Controlling access to memory cells |
US20210255785A1 (en) * | 2018-09-24 | 2021-08-19 | Salesforce.Com, Inc. | Controlling access to memory cells |
US11500553B2 (en) * | 2018-09-24 | 2022-11-15 | Salesforce, Inc. | Controlling access to memory cells |
US20200097193A1 (en) * | 2018-09-24 | 2020-03-26 | Salesforce.Com, Inc. | Controlling access to memory cells |
Also Published As
Publication number | Publication date |
---|---|
US7447859B2 (en) | 2008-11-04 |
US7165157B2 (en) | 2007-01-16 |
JP2003242039A (en) | 2003-08-29 |
US20070180274A1 (en) | 2007-08-02 |
JP3993773B2 (en) | 2007-10-17 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US7165157B2 (en) | Method of performing active data copying processing, and storage subsystem and storage control apparatus for performing active data copying processing | |
US7461227B2 (en) | Storage system and data backup method for the same | |
US7454795B2 (en) | Disk control unit | |
US7020734B2 (en) | Connecting device of storage device and computer system including the same connecting device | |
US7457899B2 (en) | Method for controlling storage system, and storage control apparatus | |
US6493825B1 (en) | Authentication of a host processor requesting service in a data processing network | |
US6421711B1 (en) | Virtual ports for data transferring of a data storage system | |
US7865588B2 (en) | System for providing multi-path input/output in a clustered data storage network | |
US6260120B1 (en) | Storage mapping and partitioning among multiple host processors in the presence of login state changes and host controller replacement | |
US7596676B2 (en) | Method of inheriting information identifying virtual volume and storage system using the same | |
US7802029B2 (en) | System and article of manufacture for the detection of misdirected data | |
US20070079092A1 (en) | System and method for limiting access to a storage device | |
US7359975B2 (en) | Method, system, and program for performing a data transfer operation with respect to source and target storage devices in a network | |
JP2000276406A (en) | Fiber channel connection strage subsystem and its access memory | |
US7512735B2 (en) | Apparatus and method to control access to logical volumes |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
AS | Assignment |
Owner name: HITACHI, LTD., JAPANFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:EGUCHI, YOSHIAKI;ARAKAWA, HIROSHI;FUJITA, TAKAHIRO;AND OTHERS;REEL/FRAME:013808/0301Effective date: 20030116 |
|
FEPP | Fee payment procedure |
Free format text: PAYOR NUMBER ASSIGNED (ORIGINAL EVENT CODE: ASPN); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
FEPP | Fee payment procedure |
Free format text: PAYOR NUMBER ASSIGNED (ORIGINAL EVENT CODE: ASPN); ENTITY STATUS OF PATENT OWNER: LARGE ENTITYFree format text: PAYER NUMBER DE-ASSIGNED (ORIGINAL EVENT CODE: RMPN); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
FPAY | Fee payment |
Year of fee payment: 4 |
|
AS | Assignment |
Owner name: GOOGLE INC., CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:HITACHI, LTD.;REEL/FRAME:030555/0554Effective date: 20121016 |
|
FPAY | Fee payment |
Year of fee payment: 8 |
|
AS | Assignment |
Owner name: GOOGLE LLC, CALIFORNIAFree format text: CHANGE OF NAME;ASSIGNOR:GOOGLE INC.;REEL/FRAME:044127/0735Effective date: 20170929 |
|
FEPP | Fee payment procedure |
Free format text: MAINTENANCE FEE REMINDER MAILED (ORIGINAL EVENT CODE: REM.); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
LAPS | Lapse for failure to pay maintenance fees |
Free format text: PATENT EXPIRED FOR FAILURE TO PAY MAINTENANCE FEES (ORIGINAL EVENT CODE: EXP.); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
STCH | Information on status: patent discontinuation |
Free format text: PATENT EXPIRED DUE TO NONPAYMENT OF MAINTENANCE FEES UNDER 37 CFR 1.362 |
|
FP | Lapsed due to failure to pay maintenance fee |
Effective date: 20190116 |