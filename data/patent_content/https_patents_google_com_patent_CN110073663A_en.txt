CN110073663A - Use the transformation coefficient code of rank figure - Google Patents
Use the transformation coefficient code of rank figure Download PDFInfo
- Publication number
- CN110073663A CN110073663A CN201780077136.4A CN201780077136A CN110073663A CN 110073663 A CN110073663 A CN 110073663A CN 201780077136 A CN201780077136 A CN 201780077136A CN 110073663 A CN110073663 A CN 110073663A
- Authority
- CN
- China
- Prior art keywords
- value
- rank
- coefficient
- context level
- lower context
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Pending
Links
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/169—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the coding unit, i.e. the structural portion or semantic portion of the video signal being the object or the subject of the adaptive coding
- H04N19/18—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the coding unit, i.e. the structural portion or semantic portion of the video signal being the object or the subject of the adaptive coding the unit being a set of transform coefficients
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06V—IMAGE OR VIDEO RECOGNITION OR UNDERSTANDING
- G06V20/00—Scenes; Scene-specific elements
- G06V20/40—Scenes; Scene-specific elements in video content
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06V—IMAGE OR VIDEO RECOGNITION OR UNDERSTANDING
- G06V20/00—Scenes; Scene-specific elements
- G06V20/50—Context or environment of the image
- G06V20/52—Surveillance or monitoring of activities, e.g. for recognising suspicious objects
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06V—IMAGE OR VIDEO RECOGNITION OR UNDERSTANDING
- G06V20/00—Scenes; Scene-specific elements
- G06V20/50—Context or environment of the image
- G06V20/52—Surveillance or monitoring of activities, e.g. for recognising suspicious objects
- G06V20/53—Recognition of crowd images, e.g. recognition of crowd congestion
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06V—IMAGE OR VIDEO RECOGNITION OR UNDERSTANDING
- G06V40/00—Recognition of biometric, human-related or animal-related patterns in image or video data
- G06V40/10—Human or animal bodies, e.g. vehicle occupants or pedestrians; Body parts, e.g. hands
-
- G—PHYSICS
- G08—SIGNALLING
- G08B—SIGNALLING OR CALLING SYSTEMS; ORDER TELEGRAPHS; ALARM SYSTEMS
- G08B13/00—Burglar, theft or intruder alarms
- G08B13/18—Actuation by interference with heat, light, or radiation of shorter wavelength; Actuation by intruding sources of heat, light, or radiation of shorter wavelength
- G08B13/189—Actuation by interference with heat, light, or radiation of shorter wavelength; Actuation by intruding sources of heat, light, or radiation of shorter wavelength using passive radiation detection systems
- G08B13/194—Actuation by interference with heat, light, or radiation of shorter wavelength; Actuation by intruding sources of heat, light, or radiation of shorter wavelength using passive radiation detection systems using image scanning and comparing systems
- G08B13/196—Actuation by interference with heat, light, or radiation of shorter wavelength; Actuation by intruding sources of heat, light, or radiation of shorter wavelength using passive radiation detection systems using image scanning and comparing systems using television cameras
- G08B13/19602—Image analysis to detect motion of the intruder, e.g. by frame subtraction
-
- G—PHYSICS
- G08—SIGNALLING
- G08B—SIGNALLING OR CALLING SYSTEMS; ORDER TELEGRAPHS; ALARM SYSTEMS
- G08B13/00—Burglar, theft or intruder alarms
- G08B13/18—Actuation by interference with heat, light, or radiation of shorter wavelength; Actuation by intruding sources of heat, light, or radiation of shorter wavelength
- G08B13/189—Actuation by interference with heat, light, or radiation of shorter wavelength; Actuation by intruding sources of heat, light, or radiation of shorter wavelength using passive radiation detection systems
- G08B13/194—Actuation by interference with heat, light, or radiation of shorter wavelength; Actuation by intruding sources of heat, light, or radiation of shorter wavelength using passive radiation detection systems using image scanning and comparing systems
- G08B13/196—Actuation by interference with heat, light, or radiation of shorter wavelength; Actuation by intruding sources of heat, light, or radiation of shorter wavelength using passive radiation detection systems using image scanning and comparing systems using television cameras
- G08B13/19602—Image analysis to detect motion of the intruder, e.g. by frame subtraction
- G08B13/19604—Image analysis to detect motion of the intruder, e.g. by frame subtraction involving reference image or background adaptation with time to compensate for changing conditions, e.g. reference image update on detection of light level change
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/102—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the element, parameter or selection affected or controlled by the adaptive coding
- H04N19/129—Scanning of coding units, e.g. zig-zag scan of transform coefficients or flexible macroblock ordering [FMO]
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/102—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the element, parameter or selection affected or controlled by the adaptive coding
- H04N19/13—Adaptive entropy coding, e.g. adaptive variable length coding [AVLC] or context adaptive binary arithmetic coding [CABAC]
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/134—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the element, parameter or criterion affecting or controlling the adaptive coding
- H04N19/157—Assigned coding mode, i.e. the coding mode being predefined or preselected to be further used for selection of another element or parameter
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/44—Decoders specially adapted therefor, e.g. video decoders which are asymmetric with respect to the encoder
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/48—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using compressed domain processing techniques other than decoding, e.g. modification of transform coefficients, variable length coding [VLC] data or run-length data
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/60—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using transform coding
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/60—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using transform coding
- H04N19/63—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using transform coding using sub-band based transform, e.g. wavelets
- H04N19/64—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using transform coding using sub-band based transform, e.g. wavelets characterised by ordering of coefficients or of bits for transmission
- H04N19/645—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using transform coding using sub-band based transform, e.g. wavelets characterised by ordering of coefficients or of bits for transmission by grouping of coefficients into blocks after the transform
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/70—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals characterised by syntax aspects related to video coding, e.g. related to compression standards
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/85—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using pre-processing or post-processing specially adapted for video compression
- H04N19/88—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using pre-processing or post-processing specially adapted for video compression involving rearrangement of data among different coding units, e.g. shuffling, interleaving, scrambling or permutation of pixel data or permutation of transform coefficient data among different blocks
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/90—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using coding techniques not provided for in groups H04N19/10-H04N19/85, e.g. fractals
- H04N19/91—Entropy coding, e.g. variable length coding [VLC] or arithmetic coding
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N23/00—Cameras or camera modules comprising electronic image sensors; Control thereof
- H04N23/60—Control of cameras or camera modules
- H04N23/698—Control of cameras or camera modules for achieving an enlarged field of view, e.g. panoramic image capture
Abstract
The method that a kind of transform block in the video bit stream for coding is encoded includes: the non-null graph of the position of transform block of the coding instruction comprising non-zero transform coefficient；Encode corresponding lower context level figure；And code coefficient residual plot.Which value of lower context level figure instruction non-zero transform coefficient is equal to figure rank and which value is greater than figure rank.Each residual error coefficient of coefficient residual plot corresponds to the corresponding non-zero transform coefficient of the transform block with the absolute value for being more than maximum figure rank.Additionally provide a kind of device including processor and memory for decoded transform block.Memory includes instruction, which can be executed by processor to decode non-null graph, the lower context level figure of decoding until maximum figure rank and desorption coefficient residual plot.
Description
Background technique
The sequence of frame or static image can be used to indicate video in digital video frequency flow.Digital video can be used for various answer
With the video including such as video conference, HD video amusement, video ads or user's generation is shared.Digital video frequency flow can
With comprising mass data and consuming calculate equipment it is a large amount of calculate or the communication resource with for video data processing, transmission or
Storage.The various methods for reducing the data volume in video flowing, including compression and other coding techniques have been proposed.
It can be based on by being divided into frame or image based on the block of one or more prediction blocks of reference frame prediction to execute
The coding of motion estimation and compensation.Difference (that is, residual error) between block and prediction block is transformed to frequency-domain transform coefficient.Using upper
Hereafter model is with bit stream compression and encoding transform coefficients.Decoder using the transformation coefficient and reference frame of coding come reconstructed frame or
Image.
Summary of the invention
The disclosure relates generally to video codes, and in particular to use the transformation coefficient code of rank figure.
Disclosed realization is that a kind of transform block in the video bit stream for coding encodes on one side
Method.This method comprises: the non-null graph of the position of transform block of the coding instruction comprising non-zero transform coefficient, encodes lower range
The figure and code coefficient residual plot of rank.The figure of each lower context level has corresponding figure rank until maximum figure rank.
Which value of lower context level figure instruction non-zero transform coefficient is equal to the figure rank and non-zero transform coefficient of lower areal map
Which value be greater than figure rank.Each residual error coefficient of coefficient residual plot corresponds to the absolute value for being more than maximum figure rank
The corresponding non-zero transform coefficient of transform block.
It include processing according to a kind of device for the video bit stream decoded transform block from coding realized of the disclosure
Device and memory.Memory includes instruction, which can be executed by processor, to decode non-zero from the video bit stream of coding
Figure decodes the corresponding low context level figure with corresponding figure rank until maximum figure rank, and desorption coefficient residual plot.Non- null graph
Indicate which transformation coefficient of transform block has nonzero value with which of zero and transform block transformation coefficient.Corresponding lower model
Which transformation coefficient for enclosing rank figure instruction transform block is equal to corresponding figure rank and which transformation coefficient of transform block is greater than phase
It should figure rank.Each residual error coefficient of coefficient residual plot corresponds to the phase of the transform block with the absolute value for being more than maximum figure rank
Answer transformation coefficient.
Method of the another kind for the video bit stream decoded transform block from coding includes: from the binary rank arranged with layer
Figure and the transformation coefficient that transform block is reconfigured from the real transform figure that the video bit stream of coding reconstructs, binary rank figure pass through
The value of corresponding transformation coefficient is decomposed into a series of binary decisions to be formed, each binary decision corresponds to the figure rank of equivalent layer
The magnitude rank of the corresponding transformation coefficient at place, and real transform figure includes the corresponding transformation series of the radix more than binary rank figure
Several values.
Below to these and other for disclosing the disclosure in the detailed description of embodiment, appended claims and attached drawing
Aspect.
Detailed description of the invention
Here description is with reference to attached drawing, wherein identical appended drawing reference indicates identical component in several views.
Fig. 1 is the schematic diagram of Video coding and decoding system.
Fig. 2 can be achieved on the exemplary block diagram of the calculating equipment of dispatching station or receiving station.
Fig. 3 is to encode simultaneously the then figure of decoded video flowing.
Fig. 4 is the block diagram according to the encoder of the realization of the disclosure.
Fig. 5 is the block diagram of the decoder of realization according to the present invention.
Fig. 6 is the stream of the process for encoding the transform block in the video bit stream of coding of realization according to the present invention
Cheng Tu.
Fig. 7 is the figure for illustrating the stage of the transformation coefficient code using rank figure of realization according to the present invention.
Fig. 8 is the figure of the neighbours of the previous coding in the non-null graph according to the realization of the disclosure.
Fig. 9 is according to the realization of the disclosure for determining the frequency location for encoding the context model of block end figure
Exemplary figure.
Figure 10 A is the exemplary figure according to the rectangular context neighbours of the realization of the disclosure.
Figure 10 B is the exemplary figure of the diamond shape context neighbours of realization according to the present invention.
Figure 11 is the process of the process for the video bit stream decoded transform block from coding of realization according to the present invention
Figure.
Specific embodiment
As described above, the Motion vector residue of video block is transformed to the transform block of transformation coefficient.Transform block in a frequency domain,
And one or more transform blocks can be generated for video block.Transformation coefficient is quantized and by the video ratio of entropy code chemical conversion coding
Spy's stream.Decoder carrys out reconstructed blocks using the transformation coefficient and reference frame of coding.Entropy code is carried out to transformation coefficient to be related to selecting
Context model (also referred to as probability context model or probabilistic model) provides and is used for the two of code binaryzation transformation coefficient
The estimation of the conditional probability of system symbol.
When carrying out entropy code to transformation coefficient, some video code systems use the previous code of transform block
Transformation coefficient is as selecting the context of context model.The magnitude of the transformation coefficient of previous code may be used as being used for
Determine the context of probabilistic model.
In order to be encoded to transform block, video code system can by scanning sequency ergodic transformation block, and time
(that is, entropy coding) is encoded to the transformation coefficient when going through (that is, access) each transformation coefficient.
In zig-zag scan, the upper left corner (also referred to as DC coefficient) with transcoding, coding transform block, traversal and coding are traversed first
Next coefficient in scanning sequency, and the rest may be inferred.Zig-zag scan 702 is shown in Fig. 7.In zig-zag scan
In 702, the top of current transform coefficient (that is, transformation coefficient to be encoded) and some transformation coefficients in left side are traversed first.Example
Such as, transformation quilt of the coefficient at position 8 for the transformation coefficient at position 8, at scan position 0,1,2,3,4,5,6 and 7
It is accessed before coding to be simultaneously therefore encoded.It can be used in previously visited (that is, previous coding) transformation coefficient at least
Some context models to determine the transformation coefficient at position 8.It above can be with some magnitudes in the transformation coefficient of left side
As the context for determining the probabilistic model of the transformation coefficient at position 8.The magnitude of transformation coefficient is usually before the coding
It is binarized (that is, being converted into binary code).
It may cause a large amount of context moulds for being difficult to selection using the binaryzation magnitude information of the transformation coefficient of previous coding
Type.The binaryzation magnitude of quantization transform coefficient can be 0,1,2 ..., 215.Therefore, based on immediately in top and close to left neighbour
The combined context model in residence can have 230(that is, 215×215) a different variation.This model is impractically big.
In order to reduce complexity, the simplified model by abandoning most information for Context quantization is several groups can be used.Example
Such as, available contexts are reduced to the five or six class contexts of above-mentioned neighbours by simplified model, and left neighbours are reduced to five or six
Class.Therefore, 230A context is reduced to 25 or 36 context categories.Therefore, simplified model cannot make full use of left neighbours and
The available information of upper neighbours, this during may cause entropy code compression performance loss.Furthermore it is possible to be used as the phase of context
The quantity of the transformation coefficient of adjacent previous coding is limited.
When encoding transform coefficients, of the invention realizing can be by utilizing the adjacent transform coefficients from previous code
More information and the more preferable compression for leading to transformation coefficient.
Transform block is resolved into multi-level figure via the process that is run multiple times, so that rank figure is by the generation of each transform coefficient values
It is a series of binary decisions that codeization, which decomposes (that is, reduction), and each binary decision corresponds to magnitude rank (that is, figure rank).Therefore,
The transformation coefficient of transform block is decomposed into a series of level binary numbers and residual error according to following equation:
Wherein,
In above equation, coefficient [r] [c] is the transformation series of the transform block at position (row=r, column=c)
Number, T is maximum figure rank, levelkThe rank figure of figure rank k is corresponded to, residue is coefficient residual plot, and sign is
The graphical diagram of transformation coefficient.These terms are further described below with reference to Fig. 7.Identical equation can be used (such as to pass through
Decoder) from the level of codingkFigure, residual plot residue and graphical diagram sign reconfigure the transformation coefficient of transform block.
Zero degree operation determines non-null graph (also referred to as 0 figure of rank), which transformation coefficient of instruction transform block is zero simultaneously
And which non-zero.Correspond to operation 1 to maximum (that is, threshold value) rank T to generate from rank 1 to the ascending order of maximum figure rank T
(that is, 1 figure of rank, 2 figure of rank ..., rank T figure) rank figure.The rank figure (referred to as rank k figure) of rank k indicates transform block
Which transformation coefficient have greater than k absolute value and transform block which transformation coefficient have equal to k absolute value.It is right
In the transform coefficient values for being less than k, there is no entry in rank k figure；That is, these positions in rank k figure are left a blank.Rank
Figure is binary pattern.Last time operation generates coefficient residual plot.If transform block includes the transformation coefficient for being higher than maximum figure rank T
Value, then coefficient residual plot indicates that these coefficients are greater than the degree (that is, residual error) of maximum figure rank T.
When generation (that is, code) rank k figure, processing is needed to correspond only to be equal to 1 (that is, levelk-1[r] [c]=1)
Rank (k-1) figure position (r, c) position (r, c) --- determine that the other positions of rank (k-1) are less than k, and therefore,
It does not need to scheme to handle them for rank k.It reduce processing complexity and reduce binary codeization operation quantity.
Since rank figure includes binary value, the top for the value to be encoded and left neighbor are binary values.It can be with
Determine the context model of the binary value of the neighbours based on any amount of previous code.Context model can be sufficiently sharp
With the information from all these neighbours.The neighbours of previous code can be same rank figure or preceding rank figure (for example,
Immediately preceding rank figure) in neighbours.The immediately preceding figure of rank k (for example, rank 2) figure be rank (k-1) (for example,
Rank 1) figure.Can be less complicated according to the context of the disclosure, to generate the valid model for being used for code rank figure.
When being encoded to rank k figure, rank (k-1) figure of complete code and the rank k figure quilt of partial code
As the contextual information for context modeling.With one coefficient of time codeization before being moved to next transformation coefficient
The transformation coefficient code of other video systems of value is compared, and the realization of the disclosure can reduce the radix of reference subset.So
It is because as further described herein, the information of the rank k figure from rank (k-1) figure and partial code is binary system
Information.Binary message makes complicated space adjacent forms can be used in context modeling binary message.This space phase
Adjacent template can especially have those of larger transform block size transform block to preferably capture the statistical property of transform block.
It, can be by making full use of phase when determining the context for selecting context model in the realization of the disclosure
The information of adjacent transformation coefficient improves transformation coefficient code.Instead of selecting context model based on simplified context category,
And when consecutive value is simple binary value, more accurate context model can be determined in code transformation coefficient.
After the environment for describing wherein to may be implemented the disclosure first, it is described herein other details.
Transformation coefficient code using rank figure is described referring initially to the system that can be incorporated to the introduction here.
Fig. 1 is the schematic diagram of Video coding and decoding system 100.Dispatching station 102 can be for example with institute in such as Fig. 2
The computer of the inside configuration of the hardware of that of description.However, other suitable realize of dispatching station 102 are possible.Example
Such as, the processing of dispatching station 102 can be distributed between devices.
Network 104 can connect dispatching station 102 and receiving station 106, for coding and decoding video flowing.Specifically, may be used
With the encoded video stream in dispatching station 102, and the video flowing of coding can be decoded in receiving station 106.Network 104 can be
Such as internet.Network 104 can also be local area network (LAN), wide area network (WAN), Virtual Private Network (VPN), cellular radio network
Or video flowing is transmitted to any other device of receiving station 106 in this example from dispatching station 102.
In one example, receiving station 106 can be the inside configuration of the hardware with all as described in figure 2 those
Computer.However, other suitable realize of receiving station 106 are possible.For example, the processing of receiving station 106 can be distributed
Between devices.
Other realizations of Video coding and decoding system 100 are possible.It can be omitted network 104 for example, realizing.Another
One realize in, video flowing can be encoded then storage so as to be transferred to receiving station 106 later or with memory it is any its
His equipment.In one implementation, receiving station 106 (for example, via network 104, computer bus and/or certain communication paths) connects
It incorporates the video flowing of code into own forces and stores the video flowing for decoding later.In a kind of example implementation, real-time transport protocol (RTP) is used
In the video by the transmission coding of network 104.In a further implementation, the transport protocol in addition to RTP can be used, for example, base
In the stream media protocol of the video of hypertext transfer protocol (HTTP).
For example, working as in video conferencing system in use, dispatching station 102 and/or receiving station 106 may include as described below
Coding and decoding video flowing ability.For example, receiving station 106 can be video conference participants, from video conference service
Device (for example, dispatching station 102) receives the video bit stream of coding to decode and check, and further encodes the video ratio of their own
Spy flows and sends it to videoconference server, for decoding and being checked by other participants.
Fig. 2 can be achieved on the exemplary block diagram of the calculating equipment 200 of dispatching station or receiving station.For example, calculating equipment 200
One or two of dispatching station 102 and the receiving station 106 of Fig. 1 may be implemented.Calculating equipment 200 can have including multiple meters
Calculate the form of the computing system of equipment, or with the single form for calculating equipment, it is single calculate equipment be, for example, mobile phone,
Tablet computer, laptop computer, notebook computer and desktop computer etc..
The CPU 202 calculated in equipment 200 can be central processing unit.Alternatively, CPU 202 can be can manipulate or
The equipment or multiple equipment of any other type of the present information for existing or developing later of processing.Although single shown in can using
A processor (such as CPU 202) realizes disclosed realization, but more than one processor can be used to realize speed
And the advantages of efficiency.
The memory 204 calculated in equipment 200 can be read-only memory (ROM) equipment in one implementation or deposit at random
Access to memory (RAM) equipment.The storage equipment of any other suitable type may be used as memory 204.Memory 204 can wrap
Include the code accessed by CPU 202 using bus 212 and data 206.Memory 204 can also include operating system 208 and answer
With program 210, application program 210 includes at least one program for allowing CPU 202 to execute method described herein.For example, answering
It may include using 1 to N with program 210, further include the video code application for executing method described herein.Calculate equipment
200 can also include additional storage 214, may, for example, be and be the storage card that the calculating equipment 200 of movement uses.Because
Video communication sessions may include bulk information, so they can entirely or partly be stored in additional storage 214 simultaneously
And it is loaded into memory 204 as needed for handling.
Calculating equipment 200 can also include one or more output equipments, such as display 218.In one example, it shows
Show that device 218 can be touch-sensitive display, combines display with the tactile sensor that can be operable to sense to touch input.Display
218 can be coupled to CPU 202 via bus 212.Substitution other than display 218 or as display 218, can be with
There is provided allows user program or otherwise using other output equipments for calculating equipment 200.When output equipment be display or including
When display, display can be realized in various ways, including show by liquid crystal display (LCD), cathode-ray tube (CRT)
Device or light emitting diode (LED) display, light emitting diode (LED) display are, for example, organic LED (OLED) display.
Calculating equipment 200 can also include image sensing apparatus 220, or be communicated with image sensing apparatus 220, scheme
Be, for example, camera as sensor device 220 or exist now or any other image sensing apparatus 220 for developing later, this it is any its
His image sensing apparatus 220 can sense image, the image that such as operation calculates the user of equipment 200.Image sense can be positioned
Measurement equipment 220, so that it is directed toward the user that operation calculates equipment 200.In one example, the position of image sensing apparatus 220
It is configured such that the visual field includes and 218 direct neighbor of display and can see display 218 from it with optical axis
Region.
Calculating equipment 200 can also include sound sensing equipment 222 or communicate with sound sensing equipment 222, sound sense
Measurement equipment 222 is, for example, microphone or the present sound that can be sensed near calculating equipment 200 for existing or developing later
Any other sound sensing equipment.Sound sensing equipment 222 may be oriented such that it is directed toward the use that operation calculates equipment 200
Family, and can be configured as and receive the sound made by user when user's operation calculates equipment 200, for example, voice or its
His language.
Although Fig. 2 depicts the CPU 202 for calculating equipment 200 and memory 204 is integrated into individual unit, can
To use other configurations.The operation of CPU 202 can be distributed in multiple machines (each machine has one or more processors)
On, these machines can be coupled with direct-coupling or across local area network or other networks.Memory 204 can be distributed in multiple machines
On, for example, network-based memory or execute calculate equipment 200 operation multiple machines in memory.Although here by
It is described as single bus, but the bus 212 for calculating equipment 200 can be made of multiple bus.In addition, additional storage 214
It may be coupled directly to the other assemblies for calculating equipment 200, or can be accessed via network, and may include such as depositing
Multiple units of the single integrated unit of card storage or such as multiple storage cards.It therefore, can be in terms of various configurations realization
Calculate equipment 200.
Fig. 3 is to encode simultaneously the then exemplary figure of decoded video flowing 300.Video flowing 300 includes video sequence 302.
In next stage, video sequence 302 includes multiple consecutive frames 304.Although three frames are depicted as consecutive frame 304, video sequence
302 may include any number of consecutive frame 304.Then, consecutive frame 304 can be further subdivided into individual frame, such as frame
306.In next stage, frame 306 can be divided into a series of segmentations 308 or plane.For example, segmentation 308 can be the parallel place of permission
The subset of the frame of reason.Segmentation 308 is also possible to that video data can be separated into the subset of the frame of seperate color.For example, colored
The frame 306 of video data may include luminance plane and two colorimetric planes.Segmentation 308 can be carried out at varying resolutions
Sampling.
No matter whether frame 306 is divided into segmentation 308, and frame 306 can be further subdivided into block 310, and block 310 may include pair
Should such as 16 × 16 pixels in frame 306 data.Block 310 may be arranged to include one from pixel data or
The data of multiple segmentations 308.Block 310 can also be any other suitable size, such as 4 × 4 pixels, 8 × 8 pixels, 16 × 8
Pixel, 8 × 16 pixels, 16 × 16 pixels or bigger.
Fig. 4 is the block diagram of the encoder 400 of realization according to the present invention.As set forth above, it is possible to for example by providing storage
Encoder 400 is realized in dispatching station 102 in the computer software programs in such as memory of memory 204.Computer is soft
Part program may include machine instruction, when the processor execution by such as CPU 202, make dispatching station 102 with described herein
Mode encoded video data.Encoder 400 is also implemented as including the specialized hardware in such as dispatching station 102.Coding
Device 400 have for performed various functions in (shown in solid line connecting line) forward path using use video flowing 300 as
Input generate coding or compression bit stream 420 with junior: prediction stage 402, conversion stage 404, quantized level 406 within the frame/frames
With entropy coding grade 408.Encoder 400 may also include (shown in connecting line) reconstruct path to reconstruct for encoding the following block
Frame.In Fig. 4, encoder 400 has for being performed various functions in reconstruct path with junior: removing quantized level 410, inverse
Conversion stage 412, reconstruction stage 414 and loop filtering grade 416.The other structures variation of encoder 400 can be used for encoded video stream
300。
When presentation video flowing 300 for that can handle frame 306 when encoding in blocks.In prediction stage within the frame/frames
402, the combination that intra prediction (also referred to as intra prediction) or inter-prediction (also referred to as inter-prediction) or both can be used comes
Encoding block.Under any circumstance, prediction block can be formed.It, can be by previously encoded and again in the case where intra prediction
Sample in the present frame of structure forms all or part of of prediction block.It, can be by using movement in the case where inter-prediction
The sample in reference frame that the one or more that vector determines previously had constructed forms all or part of of prediction block.
Next, referring still to Fig. 4 prediction block can be subtracted from current block at prediction stage 402 within the frame/frames to produce
Raw residual block (also referred to as residual error).Real transform is the transformation series in such as frequency domain using block-based transformation by conversion stage 404
Number.This block-based transformation includes such as discrete cosine transform (DCT) and asymmetric discrete sine transform (ADST).Other bases
In the transformation of block be also possible.Furthermore, it is possible to by the combined application of different transformation in single residual error.At one of application transformation
In example, residual block is transformed to frequency domain by DCT, wherein transform coefficient values are based on spatial frequency.Low-limit frequency (DC) coefficient is in square
The battle array upper left corner, and highest frequency coefficient is in the matrix lower right corner.It is worth noting that, the size of prediction block and resulting
Residual block can be of different sizes with transform block.For example, prediction block can be divided into the smaller piece for being applied and individually converting.
Transformation coefficient is converted to discrete magnitude subvalue using quantizer values or quantized level by quantized level 406, is referred to as and is quantified
Transformation coefficient.For example, transformation coefficient divided by quantizer values and can be truncated.Then, the transformation quantified by 408 Duis of entropy coding grade
Coefficient carries out entropy coding.Any amount of technology including token and binary tree can be used to execute entropy code.Then, will
The coefficient of entropy coding with for decoding block other information (its may include for example used in predict type, alternative types,
Motion vector and quantizer values) it is output to compression bit stream 420 together.It can be by the Entropy Coding for being used for decoding block at pressing
Block, frame, slice and/or header part in contracting bit stream 420.Compression bit stream 420 be referred to as coding video flowing or
The video bit stream of coding, and these terms are used interchangeably herein.
(shown in dashed connection line) reconstruct path in Fig. 4 can be used for ensuring 400 He of (described below) encoder
Decoder 500 decodes compression bit stream 420 using identical reference frame and block.Reconstruct path performs similarly to will below more
The function for the function of occurring during decoding process being discussed in detail, including in the transformation coefficient for going 410 pairs of quantized level quantizations
Quantify, and goes the transformation coefficient of quantization to carry out inverse transformation to generate derivative residual block (also referred to as at 412 pairs of inverse transformation grade
For derivative residual error).In reconstruction stage 414, derivative residual error can will be added in the prediction block that prediction stage 402 is predicted within the frame/frames
To create reconstructed blocks.Loop filtering grade 416 can be applied to reconstructed blocks to reduce the distortion of such as blocking artefacts etc.
Other variants of encoder 400 can be used for encoding compression bit stream 420.For example, the encoder based on non-shifting
400 can directly quantify residual signals in the case where no conversion stage 404 for certain pieces or frame.In a further implementation, it compiles
Code device 400 can have the quantized level 406 for being combined into single grade and remove quantized level 410.
Fig. 5 is the block diagram of the decoder 500 of realization according to the present invention.Can memory for example be stored in by providing
Computer software programs in 204 realize decoder 500 in receiving station 106.Computer software programs may include that machine refers to
It enables, when the processor execution by such as CPU 202, receiving station 106 is caused to decode in a manner of described in following Figure 11
Video data.Decoder 500 can also be realized to include the hardware in such as dispatching station 102 or receiving station 106.
Similar to the reconstruct path of encoder 400 discussed above, decoder 500 includes that execution is various in one example
Function with from compression bit stream 420 generate outputting video streams 516 with junior: entropy decoding grade 502 removes quantized level 504, inverse transformation
Grade 506, within the frame/frames prediction stage 508, reconstruction stage 510, loop filtering grade 512 and deblocking filtering grade 514.Decoder 500 its
His constructional variant can be used for decoding compression bit stream 420.
When presentation compression bit stream 420 is for when decoding, the data element in compression bit stream 420 can be by entropy decoding grade
502 decodings are to generate one group of quantization transform coefficient.The transformation coefficient of 504 pairs of quantized level quantizations is gone to carry out quantization (for example, passing through
By the transformation coefficient of quantization multiplied by quantizer values), and change of the inverse transformation grade 506 using selected alternative types to quantization is gone
Changing coefficient progress inverse transformation can be identical with the derivative residual error created by the inverse transformation grade 412 in encoder 400 to generate
Derivative residual error.Using from the decoded header information of compression bit stream 420, prediction stage within the frame/frames is can be used in decoder 500
The 508 identical prediction block to create be created for example at prediction stage 402 within the frame/frames in encoder 400.In reconstruction stage
510, prediction block can be added to derivative residual error to create reconstructed blocks.Loop filtering grade 512 can be applied to reconstructed blocks with
Reduce blocking artifacts.It can be by other filtering applications in reconstructed blocks.In this example, deblocking filtering grade 514 is applied to reconstruct
Block is to reduce blocking distortion, and result is outputted as outputting video streams 516.Outputting video streams 516, which can also be referred to as, to be decoded
Video flowing, and these terms are used interchangeably herein.
Other variants of decoder 500 can be used for decoding compression bit stream 420.For example, decoder 500 can not have
Outputting video streams 516 are generated in the case where deblocking filtering grade 514.In some realizations of decoder 500, in loop filtering grade
De-blocking filter grade 514 is applied before 512.Addedly or alternatively, other than loop filtering grade 416, encoder 400 further includes
Deblocking filtering grade.
Fig. 6 is the process for being encoded to the transform block in the video bit stream of coding of realization according to the present invention
600 flow chart.Process 600 can be realized in such as encoder of encoder 400.The video bit stream of coding can be figure
4 compression bit stream 420.
For example, process 600 may be implemented as the software program that can be executed by the calculating equipment of such as dispatching station 102.
Software program may include machine readable instructions, and machine readable instructions can store in such as memory 204 or additional storage
It in 214 memory, and can be executed by the processor of such as CPU 202, so that computing device implementation procedure 600.Extremely
In few some realizations, the entropy coding grade 408 of encoder 400 can entirely or partly implementation procedure 600.
Specialized hardware or firmware can be used to realize process 600.Some calculating equipment can have multiple memories, more
A processor or both.The step of different processors, memory or both come distribution procedure 600 or operation can be used.It is single
The use of several term " processor " or " memory " include calculating equipment with a processor or memory and
Equipment with the multiple processors or multiple memories that can be used for executing some or all of steps.
Referring now to Fig. 7 interpretation process 600.Fig. 7 is the transformation series using rank figure for illustrating realization according to the present invention
The figure of the grade 700 of number code.Fig. 7 includes zig-zag scan 702, transform block 704, non-zero Figure 70 6,1 Figure 70 7 of rank, rank
2 Figure 70 9, block end Figure 72 6, graphical diagram 732 and coefficient residual plot 734.
Process 600 can receive transform block, such as the transform block 704 of Fig. 7.Can from the quantization step of encoder (for example,
The quantized level 406 of the encoder 400 of Fig. 4) receive transformation.Transform block 704 includes zero and non-zero transform coefficient.Some nonzero coefficients
It can be negative value.
At 602, non-null graph is encoded.The position of non-transform block of the null graph instruction comprising non-zero transform coefficient.Non- null graph
It is properly termed as 0 figure of rank.
Non-zero Figure 70 6 of Fig. 6 shows non-null graph.It can be with the scanning sequency time of the zig-zag scan 702 of such as Fig. 7
It goes through transform block 704 and indicates that corresponding transformation coefficient is that zero or non-zero generate using binary value in non-zero Figure 70 6
Non- null graph.In non-zero Figure 70 6, the non-zero transform coefficient of transform block 704 is indicated with the value (one) that binary system is 1, and with two
The value (zero) that system is 0 indicates null transformation coefficient.For example, corresponding to the zero of scan position 7 with value 714 (that is, Binary Zero) instruction
Transformation coefficient.However, it is possible to invert instruction (that is, zero instruction non-zero transform coefficient, 1 (one) indicate null transformation coefficient).
In one implementation, do not indicate the scanning sequency based on transform block beyond last non-zero transform coefficient in non-null graph
The null transformation coefficient of number (that is, after last non-zero transform coefficient).For example, carrying out scan conversion using zig-zag scan 702
Block 704, the last non-zero transformation coefficient 708 corresponding to scanning sequency position 11 are in non-zero Figure 70 6 in last non-zero system
The transformation coefficient finally indicated at number 710.For transformation series corresponding with the scan position 12-15 of zig-zag scan 702
Number (for example, value 712), does not have indicated value in non-zero Figure 70 6,
At 604, process 600 encodes corresponding lower context level figure.The figure of each lower range has
The up to figure rank of highest figure rank.Which of lower context level figure instruction non-zero transform coefficient value is equal to lower range
Which value of d is greater than the figure rank in the figure rank and non-zero transform coefficient of figure.
Lower context level figure level is encoded until maximum figure rank T for each figure rank kk.Each lower range
Which of rank figure instruction transform block value is equal to which of figure rank and the transform block of lower context level figure value and is greater than
The figure rank.Therefore, using be run multiple times (that is, each run correspond to rank k=1,2 ..., T) process 600 will convert
The code of coefficient is decomposed into a series of binary decisions, and each binary decision corresponds to a magnitude rank.It can be by following
Equation is defined on the binary decision of the coefficient at the row and column (r, c) in the transform block of rank k:
levelk[r] [c] is if=1 absolute (coefficient [r] [c]) > k
=0 absolute if (coefficient [r] [c])=k
For example, process 600 is true for each transformation coefficient of transform block 704 for k=1 (that is, for 1 Figure 70 7 of rank)
The absolute value for determining transformation coefficient is greater than k (that is, 1) and is also equal to k.For transformation coefficient 720 (that is, in r=0, c=0), because
It is greater than 1 for -7 absolute value (that is, | -7 |=7), so process 600 sets 1 for the respective value 722 of 1 Figure 70 7 of rank.For
Last non-zero transform coefficient 708 (that is, in r=2, c=2), because -1 absolute value (that is, | -1 |=1) is equal to k (i.e. 1), institute
0 is set by the respective value 716 of 1 Figure 70 7 of rank with process 600.Because the transformation coefficient for corresponding to scan position 7 is zero, institute
It is sky with the respective value (that is, value 718) in 1 Figure 70 7 of rank.
In one implementation, in order to generate the other figure of lower level, process 600 can be opened from last 1 value of prior level figure
Beginning scans previous rank figure backward.Rank k is schemed, previous rank figure corresponds to the rank (k-1) of previous figure rank (k-1)
Figure.That is, previous rank figure is 1 figure of rank for k=2.For k=1, previous rank figure is 0 figure of rank (that is, non-zero
Figure).For 1 Figure 70 7 of rank, the scanning of non-zero Figure 70 6 starts at last nonzero coefficient 710.For 2 Figure 70 9 of rank, grade
The scanning of other 1 Figure 70 7 is since last nonzero coefficient 724.When generating rank k figure, process 600, which only needs to handle, to be corresponded to
The transformation coefficient of 1 value in rank (k-1).Process 600 does not need the transformation coefficient that processing corresponds to non-1 value, because of those values
It has been determined to be equivalent to k-1 (that is, zero of rank (k-1) figure) or has been less than k-1 (that is, null value of rank (k-1) figure).
In one implementation, maximum figure rank T can be fixed.For example, can be supplied to maximum figure rank T as configuration
Process 600 can carry out hard coded to maximum figure rank T in the program for realizing process 600, or can be based on the view of coding
The transform block of the previous code of frequency bit stream or other blocks statistically or are set adaptively maximum figure rank T.Alternatively, by mistake
Journey 600 determines maximum figure rank T.That is, process 600 can test maximum figure rank T different value (that is, T=1,2,3,
4 ...), and determine which value provides optimal compression performance.Can encode in video bit stream leads to optimal compression such as
The value for the maximum figure rank T that the decoder of the decoder 500 of Fig. 5 can be decoded and be used.With the other values phase of maximum figure rank T
Than, it has been determined that maximum figure rank T is 2 or 3 to provide acceptable compression.
At 606, process 600 encodes coefficient residual plot.Each residual error coefficient of coefficient residual plot corresponds to tool
Have more than the non-zero transform coefficient of corresponding (that is, the position altogether) of the transform block of the absolute value of maximum figure rank.Following public affairs can be used
Formula calculates the residual error coefficient of the transformation coefficient at the position (r, c) of transform block:
Residue [r] [c]=absolute (coefficient [r] [c]-T (2)
Fig. 7 shows coefficient residual plot 734.In the example in figure 7, maximum figure rank T is equal to 2.Therefore, coefficient residual plot
The residual error of the transformation coefficient of 734 transform block 704 comprising its absolute value greater than 2.Residual error coefficient is that the absolute value of transformation coefficient is super
Cross the degree of maximum figure rank T.Two of transform block 704 values (that is, transformation coefficient 720 (that is, | -7 |=7 > 2) and transformation coefficient
739 (i.e. | 4 |=4 > 2)) absolute value be greater than the value (that is, 2) of maximum figure rank T.Respectively, coefficient residual plot 734 includes residual
Poor 736 and residual error 738.Using equation (2), residual error 736 is arranged to 5 (that is, absolute (- 7) -2=5), and residual error 738
It is arranged to 2 (that is, absolute (4) -2=2).
Binary code can be used to carry out the residual error coefficient of coefficient residual plot 734 in the video bit stream of coding
Coding.The probability distribution of the statistics of the residual error coefficient of fitting coefficient residual plot can be used.Probability distribution can be geometry distribution,
Laplacian distribution, Pareto distribution or any other distribution.
Coded residual coefficient for example provides in the video code system of encoding transform coefficients in video bit stream
Several benefits.Since the magnitude of each residual error coefficient is less than its corresponding transformation coefficient, it is therefore desirable to which less bit encodes
Residual error coefficient.In addition, since the residual error coefficient to be encoded (for example, 2 in the coefficient residual plot 734 of Fig. 7) are less than non-zero transform
Coefficient (for example,
7 in the transform block 704 of Fig. 7), therefore additional compression can be led to.
It, can be with coded identification figure in the realization of process 600.Graphical diagram indicates which transformation coefficient tool in transform block
There is positive value and which transformation coefficient has negative value.Zero transformation coefficient is not needed to be designated as in graphical diagram.The graphical diagram of Fig. 7
732 show the example of the graphical diagram of transform block 704.In graphical diagram, negative transformation coefficient is indicated with -1, and is become with 1 instruction is positive
Change coefficient.
In the realization of process 600, encoding at 602 to non-null graph can also include: the agllutination for generating transform block
Shu Tu, and non-null graph and block end figure interweave in the video bit stream of coding.
Whether the non-zero transform coefficient of block end figure instruction transform block is last non-zero system relative to given scanning sequency
Number.If nonzero coefficient is not the last non-zero coefficient in transform block, it is 0 value that it can use binary system in block end figure
(zero) it indicates.On the other hand, if nonzero coefficient is the last non-zero coefficient in transform block, it can be in block end figure
It is indicated with the value (one) that binary system is 1.
For example, since the transformation coefficient 720 of transform block 704 then (sweep for example, corresponding to by another non-zero transform coefficient
Retouch the transformation coefficient -1 of position 2), transformation coefficient 720 is not last non-zero transform coefficient, so the block end value that it is zero that it, which is used,
728 indicate.On the other hand, since the transformation coefficient (that is, last non-zero transform coefficient 708) for corresponding to scan position 11 is
The last non-zero coefficient of transform block 704, therefore it is indicated with for the block end value 730 of 1 (one).
Process 600 can be handed in the bit stream of coding by with the non-null graph of same scan order traversal and block end figure
Knit the value from non-zero Figure 70 6 and block end Figure 72 6.Zig-zag scan 702 or any arbitrary scan can be used in process 600
Sequentially.Value (that is, nz_map [r] [c]) for each position (r, c), first at the row and column of code non-zero Figure 70 6.
If value nz_map [r] [c] is 1, then respective value (that is, eob_map [r] [c]) of the code from block end Figure 72 6 with
Whether the position (r, c) for indicating transform block 704 includes last non-zero transform coefficient.When eob_map [r] [c] be equal to 1 when or
When reaching rearmost position (for example, scan position 15 in zig-zag scan 702) in transform block, process 600 terminates non-zero
The code (the 602 of process 600) of figure.That is, coming after the value when coding is from the value that non-zero Figure 70 6 is 1
From another syntactic element (that is, the value to be encoded in the video bit stream of coding) of correspondence (that is, altogether position) block end Figure 72 6,
With indicate 1 value whether be non-null graph 706 last 1 value.
In one implementation, encoding at 602 to non-null graph can also include determining the value of non-null graph (that is, to generation
Codeization value) code context.The code context to code value at current location (r, c) can be based on non-zero
The non-zero consecutive value of the previous code to code value in figure.Code context be also based in non-null graph to generation
The position of codeization value.
As described above, contextual information can be determined based on the quantity of the neighbours of the non-zero previous code of current location
And following summation can be used to calculate.
Non_zero_map_sum (r, c)=∑(r ', c ') ∈ nb (r, c)Nz_map (r ', c ') (1)
In equation 1, non_zero_map_sum (r, c) is the nonzero block at position (r, c) to the non-of code value
The quantity of the neighbours of zero previous code, nb (r, c) are the previous codes to code value at the position (r, c) of non-null graph
The set of the neighbours of change, and nz_map (r ', c ') is the value at position (r ', c ') in non-null graph.It is further solved with reference to Fig. 8
Release equation (1).
Fig. 8 is the figure of the neighbours of the previous code in non-zero Figure 80 0 according to the realization of the disclosure.Fig. 8 includes to generation
On codeization value, current value 802, unavailable context neighbours 806 (that is, the not available consecutive value of contextual information) and code
Hereafter neighbours, such as code context neighbours 808.Show ten code context neighbours 804.It includes which that neighbours, which concentrate,
A little values depend on scanning sequency.For example, the collection of neighbours shown in Fig. 8 includes on code using the zig-zag scan 702 of Fig. 7
Hereafter neighbours 808 comprising in the top of current value 802 and the neighbours in left side.For current value 802, non_zero_map_
Sum (2,2)=5.The value (that is, 5) may be used as the probability mould for determining the current value 802 for code non-zero Figure 80 0
The contextual information of type.
As described above, code context be also based in non-null graph (or equally, in transform block) to
The position of code value.The position of transform block can be grouped into context group.For example, four context groups can be set: corresponding
In first group (that is, the r=0 and c=0) of DC coefficient, other than AC coefficient corresponding to top row second group (that is, r=0 and c >
0), corresponding to the third group (that is, r > 0 and c=0) of left column and corresponding to the of every other coefficient other than AC coefficient
Four groups (that is, r > 0 and c > 0).Therefore, current value 802 corresponds to the 4th context group.
As described above, determining that the context model for carrying out code for the value to non-null graph can be based on two factors:
Such as the neighbor information explained about Fig. 8；And the value to be encoded is relative to transform block --- that is, the frequency relative to transform block
Rate context group corresponding with it --- relative position.It is non_zero_map_sum value according to the context group of current value
Distribute different context models.That is, the two factors can by 1) calculate non_zero_map_sum value, 2) know
Other context group and 3) determine based on non_zero_map_sum value context mould in (that is, by searching for) context group
Type and be combined.
In one implementation, encoding at 602 to non-null graph can also include each value for determining block end figure
Code context.Process 600 can determine block end relative to the position of the frequency information of transform block based on value to be encoded
The context model of the value to be encoded of figure.That is, the position of the transformation coefficient in transform block may be used as using for determining
In the context of the context model of the value to be encoded of the correspondence (that is, position altogether) of coding block end figure.Transform block can be divided
At region, so that each region corresponds to context.The division can be based on the principle that block end be located at the position DC of transform block
A possibility that place of setting, is very low but the possibility is further increased from DC coefficient.Process 600 can be determined as about Fig. 9 institute
The context model of description.
Fig. 9 is according to the realization of the disclosure for determining the frequency location for encoding the context model of block end figure
900 exemplary figure.Fig. 9 shows 8 × 8 transform blocks for being divided into 9 contexts.Context 0 is (for example, by context 902
Indicate), 1,2 and 3 each 1 × 1 regions corresponding to transform block；Context 4 (for example, being indicated by context 904), 5 and 6
Each of correspond to transform block 2 × 2 regions；Context 7 (for example, being indicated by context 906), each correspondence in 8 and 9
In 4 × 4 regions of transform block.Other transform block sizes and context partition are also possible.
Now referring to block end Figure 72 6 of Fig. 9 and Fig. 7.It is first noted that block end Figure 72 6 and corresponding transformation
Block 704 is 4 × 4 pieces, and frequency location 900 corresponds to 8 × 8 transform blocks.Therefore, the context 0-6 of only frequency location 900 can
To be used together with block end Figure 72 6.Block end value 730 is fallen in the context 6 of frequency location 900.Therefore, process 600 will
Context model corresponding to context 6 distributes to block end value 730.The block end value 728 of block end Figure 72 6 falls into Fig. 9's
In the context 0 of frequency location 900.Therefore, the context model for corresponding to context 2 is distributed to block end value by process 600
728.Each context can have the context model of their own.Each context model be adapted to present,
The vision signal of the video flowing of the video flowing 300 of such as Fig. 3 or the part of vision signal.That is, can be in processing video
Context model is updated when frame or block.For example, the upper and lower of some contexts can be updated after handling the block of each frame or frame
Literary model.
In some implementations, non-null graph can be the binary pattern with size corresponding with transform block.When it is corresponding (that is,
Position altogether) transformation coefficient when being non-zero transform coefficient (that is, transformation coefficient is not equal to zero), can set the position of non-null graph to
One (1) value.When corresponding transformation coefficient has the value for 0 and before the last non-zero coefficient in the scanning sequency of transform block
When, the position of non-null graph can be provided as 0 value.When corresponding transformation coefficient has the value for 0 and in transform block
When after the last non-zero coefficient in scanning sequency, no entry can be set by the position of non-null graph.
In some implementations, lower context level figure can be binary pattern, have corresponding with the dimension of transform block
Dimension and figure rank k as described above.When the respective value in preceding rank figure (that is, rank figure k-1 as described below) is one (1)
And when corresponding transformation coefficient is greater than the figure rank k of lower context level figure, the position of lower context level figure can be set
It is set to one (1).When the respective value in preceding rank figure is with the value for 1 and corresponding transformation coefficient is equal to lower context level
When the figure rank k of figure, the position of lower context level figure can be set to 0 value.When the respective value in preceding rank figure
When with value for 0, the position of lower context level figure can be with void value.
In the realization of process 600, encoding at 604 to lower context level figure can also include based on lower model
Enclose the scanning sequency of rank figure determine lower context level figure value rank figure code context.As described above, coding
The value of lower context level figure k is equivalent to coding binary value, i.e. correspondence (that is, position altogether) transformation coefficient of transform block is equal to k
Also it is above k.The coding of binary value leads to simple context.Therefore, multiple consecutive values of value may be used as determining
The context of the context model of described value.
Also as described above, the scanning of lower context level figure can be carried out with scanning sequency backward.Therefore, it is carried out when to value
When coding, by the consecutive value on the lower section of encoded value to be encoded and right side (for example, if scanning sequency is zig-zag scan
Or the 702 of Fig. 7).Therefore, the first consecutive value in lower context level figure (for example, following and right side consecutive value) can be used
Make context.In addition, the second consecutive value (for example, top and left side consecutive value) in preceding rank (k-1) figure can also be with
As context.For k >=2, lower context level k figure is lower context level (k-1) figure in preceding rank figure；And grade
Other 1 figure is non-null graph in preceding rank figure.
In one implementation, in order to construct the context of lower value range at the position (r, c) of lower context level k figure
Information, first calculating rank (k-1) figure in position (r, c) neighbours and.Then, the neighbour in lower context level k figure is calculated
Occupy trigger value.Whether there can be value adjacent for 1 any codeization in lower context level k figure by checking position (r, c)
It occupies neighbours' trigger value is arranged.Neighbours can be selected in many ways.Figure 10 described below provides non-limiting example.
Any amount of mode can be used to determine the context neighbours for the lower context level k figure of codeization.Figure
10A is the figure according to the example 1000 of the rectangular context neighbours of the realization of the disclosure；Also, Figure 10 B is according to the present invention
The figure of the example 1050 of the diamond shape context neighbours of realization.
In Figure 10 A-10B, the value (that is, the circle for indicating the value of rank figure) using pattern 1004 plus shade is to code
Change value；Value with pattern 1002 plus shade is the value of available context information, because these values are before to code value by generation
Codeization；And be the value of unavailable contextual information with the value of pattern 1006 plus shade because these values to code value it
It is preceding not to be coded into.
Figure 10 A include rank k neighbours 1010, rank (k-1) neighbours 1020 and to code turn to 1 be 0 value 12.Showing
In example 1000, using each to code turn to 1 be 0 value 12 a neighbours in eight (8).For rectangular context neighbours, fall in
Any position in 3 × 3 pieces centered on the position to code value can be considered as neighbours.
It may be constructed with the value of the pattern 1002 of rank k neighbours 1010 plus shade for determining that turning to 1 to code is 0
First consecutive value of the context of value 12.As described above, calculating neighbours' trigger value level_k_neighbor_trigger to refer to
Show whether at least one neighbour to code value are 1.In rank k neighbours 1010, two neighbours respectively have the value for 1,
As 1 be 0 value 14 and be 1 be 0 value 16.Therefore, to code turn to 1 be 0 value 12 level_k_
Neighbor_trigger value is arranged to 1.In a further implementation, the sum of the neighbours with the value for 1 can be calculated.
It may be constructed with the value of the pattern 1002 of rank (k-1) neighbours 1020 plus shade and turn to 1 to code for determining
For the second consecutive value of the context of 0 value 12.It should be appreciated that code be 1 be 0 value 12 show rank (k-
1) neighbours 1020 are not value to be encoded；On the contrary, it indicates that the position of rank (k-1) neighbours is co-located at and rank k neighbour
Occupy 1010 to code turn to 1 be 0 the identical position of value 12.Using the value of rank (k-1) neighbours, rank can be calculated
The sum for the neighbours that level- (k-1) _ number_sum (r, c) is 1 with indicated value.In this case, level- (k-1) _
Number_sum (r, c) is equal to 4 (that is, the values 22,1024,1026 and 1028 for being 0 for 1).As calculating level_k_
When neighbor_trigger and level- (k-1) _ number_sum, if the value of neighbours is unavailable, which can be recognized
To be zero.
As described above, level_k_neighbor_trigger and level- (k-1) _ number_sum (r, c) value with to
Code turn to 1 be 0 value 12 context class value combination, with determine for treat code turn to 1 be 0 value 12 carry out generation
The context model of codeization.
Turning now to Figure 10 B to show diamond shape context neighbours.Figure 10 B includes rank k neighbours 1030, rank (k-1)
Neighbours 1040 and to code turn to 1 be 0 value 32.In example 1050, using for code turn to 1 be 0 value 32
A neighbours in 12 (12).It can be used to turn to 1 to code with for Figure 10 A centered on code position 1032
For neighbours identical 3 × 3 pieces and a additional relative position in four (4) of 0 description of value 12；That is, position 1033 at (- 2,0),
It is adjacent that the position 1036 at the position 1035 and (0, -2) at position 1034, (+2,0) at (0 ,+2) is formed together diamond shape context
It occupies.Using this four additional positions because have determined in they and quantization transform block to the transformation series at code position
Number is related.Can as carried out shown in Figure 10 A calculate level_k_neighbor_trigger and level- (k-1) _
Number_sum simultaneously determines context model.
The code context of the value of lower context level k figure is also based on to code rank k map values lower
Position in context level figure.The position of transform block can be grouped into context group.For example, four context groups can be set:
Corresponding to first group (that is, the r=0 and c=0) of DC coefficient, other than AC coefficient corresponding to second group of top row (that is, r=0
And c > 0), other than AC coefficient corresponding to the third group (i.e. r > 0 and c=0) of left column and corresponding every other coefficient
4th group (i.e. r > 0 and c > 0).
Therefore, by combining the neighbor information in lower context level k figure as described in referring to Figure 10 A-10B, such as joining
Neighbor information in rank (k-1) figure according to Figure 10 A-10B description and based on lower context level k figure to code value
The context group of position select the context model to code value for lower areal map.
In one implementation, process 600 can in the first stage encode non-zero Figure 70 6 and block end Figure 72 6,
Rank k figure (for example, rank 1 Figure 70 7 and 2 Figure 70 9 of rank) is encoded in second stage, it is residual to coefficient in the phase III
Poor Figure 73 4 is encoded, and is encoded in fourth stage to graphical diagram 732.
Figure 11 is the process 1100 for the video bit stream decoded transform block from coding according to the realization of the disclosure
Flow chart.It can be by the decoder implementation procedure 1100 of such as decoder 500.For example, can be entirely or partly by decoder
500 502 implementation procedure 1100 of entropy decoding grade, and the video bit stream encoded can be the bit stream 420 of the compression of Fig. 5.
For example, can be by that will instruct in the memory for being stored in the memory 204 of such as receiving station 106 by such as CPU's 202
Processor executes the realization for carrying out implementation procedure 1100.
Specialized hardware or firmware can be used to realize process 1100.Some calculating equipment can have multiple memories,
Multiple processors or both.The step of different processors, memory or both come distributed process 1100 or operation can be used.
To simplify the explanation, process 1100 is depicted and is described as series of steps or operation.However, it is possible in various orders and/or
The introduction according to the disclosure occurs simultaneously.In addition, according to can be with other steps not presented and described herein the step of the disclosure
Suddenly occur together.In addition, and not all the step of showing or operation can be used in realizing the method according to disclosed theme.
Process 1100 is more operational process of binary decoded, reconfigures (that is, reconstruct) for example by realizing Fig. 6's
The transform block that the encoder of process 600 is decomposed and encoded in the video bit stream of coding.Process 1100 include: at 1102,
Non- null graph is decoded from the video bit stream of coding；1104, decode have corresponding figure rank until maximum figure rank it is corresponding compared with
Low context level figure；Also, 1106, the coefficient residual plot of decoded residual coefficient.
At 1102, process 1100 decodes non-null graph from the video bit stream of coding.Which of transform block non-null graph indicate
Transformation coefficient has nonzero value with which of zero and transform block transformation coefficient.At 1102, process 1100 decodes and life
At non-null graph, it is equivalent to non-zero Figure 70 6 of Fig. 7.Firstly, process 1100 reads the non-null graph for corresponding to the DC coefficient of transform block
Value.DC coefficient is the upper left corner of transform block, such as the transformation coefficient 720 of Fig. 7.That is, bit stream decoding of the process 1100 from coding
The value 740 of Fig. 7.Process 1100 determines that the value is zero or one, reads next value from the bit stream of coding, determines that the value is zero
Or one, etc., the non-null graph of non-zero Figure 70 6 of Fig. 7 is equivalent to until reconstructing by process 1100.Non- null graph indicates transform block
Which transformation coefficient be non-zero.
At 1104, process 1100 to corresponding figure rank until maximum figure rank T corresponding lower context level figure
It is decoded.Which transformation coefficient of the lower context level figure instruction transform block with figure rank is equal to corresponding figure rank and change
Which transformation coefficient for changing block is greater than corresponding figure rank.At 1104, value of the process 1100 to the video bit stream from coding
It is decoded, to reconstruct the lower context level k figure such as the coding referring to described in the 604 of process 600.
For example, in order to reconstruct 1 figure of rank, process 1100 traverses backward since highest non-zero transform coefficient, which to be determined
A transformation coefficient is equal to 1 and which is greater than 1.That is, using the non-null graph of the reconstruct of non-zero Figure 70 6 of Fig. 7 and from last
Nonzero coefficient 710 starts and traverses value 740,1 Figure 70 7 of rank of 1100 reconstruct image 7 of process backward.For the non-null graph of reconstruct
Each of 1 value, process 1100 value of the video bit stream from coding is decoded and reconstructs 1 Figure 70 7 of rank.By process
1100 decoded values are zero and one (1) values.
In order to reconstruct 2 figure of rank, process 1100 uses process identical with the process for generating 1 figure of rank, in addition to not
It is the non-null graph of traversal reconstruct, process 1100 uses 1 figure of rank reconstructed.Process 1100 repeats all steps, until reconstructing most
The rank figure of big figure number of levels.
In one implementation, process 1100 and the process of Fig. 6 600 use identical maximum figure rank T.For example, maximum figure
Rank T can be used as configuration and be supplied to process 1100.In a further implementation, maximum figure rank T is in the video bit stream of coding
Process 1100 is transferred to by process 600.Therefore, process 1100 decodes maximum figure rank T from the video bit stream of coding.
At 1106, process 1100 is decoded coefficient residual plot.Each residual error coefficient of coefficient residual plot corresponds to
The corresponding transformation coefficient of transform block with the absolute value for being more than maximum figure rank.At 1106, process 1100 reconstructs such as Fig. 7
Coefficient residual plot 734.For each of rank T figure (1) value, correspondence residual error of the process 1100 to the bit stream from coding
Value is decoded, with the coefficient residual plot 734 of reconstruct image 7.
In the realization of process 1100, the block end figure that non-null graph may include decoded transform block is decoded at 1102,
In, the value of the value of block end figure and non-null graph interweaves.As above for the block end figure that described in process 600, can interweave
The value of value and non-null graph.Therefore, process 1100 decodes the value of non-null graph.If decoded value is 1, process 1100 is from coding
In video bit stream decode block end figure value, with indicate decoded non-zero map values whether be nonzero block last non-zero value.Such as
The decoded nonzero value of fruit is not last nonzero value according to decoded block end value, then process 1100 decodes another non-null graph
Value, and so on.Process 1100 repeats these steps, until indicating decoded block end value or until reaching in transform block
Rearmost position.
In the realization of process 1100, above and below the first code that decodes the value to be decoded that non-null graph includes determining non-null graph
Text.First code context can be based on the non-zero consecutive value of the early decoding in non-null graph of value to be decoded.The first generation
Codeization context is also based on the position of the value to be decoded in non-null graph.It can be as described by the process 600 above for Fig. 6
As determine first code context.
Being decoded to lower context level may include: the scanning sequency based on lower context level figure, based on lower
The first consecutive value in context level figure and immediately second consecutive value in preceding lower context level figure, determine lower model
Enclose the code context of the value to be decoded of rank figure.Can be determined as described in the process 600 above for Fig. 6 compared with
The code context of the value to be decoded of low context level figure.
Another realization of the disclosure is a kind of method for the video bit stream decoded transform block from coding.This method packet
It includes: reconfiguring transform block from the binary rank figure arranged with layer and from the real transform figure that the video bit stream of coding reconstructs
Transformation coefficient.Binary rank figure is formed by the way that the value of corresponding transformation coefficient is decomposed into a series of binary decisions.Each binary
Decision corresponds to the magnitude rank of the corresponding transformation coefficient of the figure level of equivalent layer.Real transform figure includes more than binary rank
The value of each transformation coefficient of the radix (upper or maximum figure number of levels) of figure.Two can be decoded from the video bit stream of coding
The radix of first rank figure.
Some coding and decoding technologies are shown in terms of above-mentioned coding and decoding.It should be appreciated, however, that coding and decoding
(just as those of using term in the claims) can indicate compression to data, decompression, transformation or any other at
Reason changes.
It indicates to be used as example, example or explanation using word " example " or " realization " herein.Here depicted as " showing
Any aspect or design of example " or " realizations " are not necessarily to be construed as or more advantage more more preferable than other aspects or design.On the contrary,
Using word " example " or " realization " it is intended to that concept is presented in specific ways.As used in this specification, term "or" purport
Indicating the "or" of inclusive rather than exclusive "or".That is, it is unless otherwise indicated or clear from the context, it is no
Then " X includes A or B " is intended to indicate that any natural inclusive arrangement.That is, if X includes A；X includes B；Or X packet
A and B are included, then meets " X includes A or B " under any afore-mentioned.In addition, used in the application and appended claims
The article " one ", it is generally understood that indicate " one or more ", is clearly directed toward unless otherwise indicated or from context with "one"
Singular.In addition, otherwise being not intended to indicate identical through using term " realization " or " a kind of realization " except description of being far from it
Embodiment or realization.
It can realize that the realization of dispatching station 102 and/or receiving station 106 (and is deposited with hardware, software or any combination thereof
Algorithm, method, the instruction etc. that storage executes on it and/or by its (including by encoder 400 and decoder 500)).Hardware can wrap
It includes such as computer, intellectual property (IP) core, specific integrated circuit (ASIC), programmable logic array, optical processor, can compile
Journey logic controller, microcode, microcontroller, server, microprocessor, digital signal processor or any other suitable electricity
Road.In the claims, term " processor " should be understood that either individually or in combination comprising any aforementioned hardware.It is interchangeable
Use term " signal " and " data ".In addition, must not necessarily realize dispatching station 102 and receiving station 106 in an identical manner
Part.
In addition, in one aspect, it is, for example, possible to use general purpose computers or general processor with computer program
Realize dispatching station 102 or receiving station 106, the computer program execute when executed any corresponding method described herein,
Algorithm and/or instruction.Additionally or alternatively, it is, for example, possible to use special purpose computer/processor, may include for executing
Any method described herein, algorithm or other hardware of instruction.
Dispatching station 102 and receiving station 106 can be realized on computer for example in video conferencing system.Alternatively, can be with
Dispatching station 102 is realized on the server, and reception can be realized on such as handheld communication devices, the equipment that separates with server
Stand 106.In this case, it is encoded video signal that encoder 400, which can be used, by research content in dispatching station 102, and will be compiled
The vision signal of code is sent to communication equipment.Then, then the vision signal of 500 pairs of decoder codings can be used in communication equipment
It is decoded.Alternatively, communication equipment can decode the content being locally stored on a communications device, for example, dispatching station 102 is not sent
Content.The implementation of other dispatching stations 102 and receiving station 106 is available.For example, receiving station 106 can be usually admittedly
Fixed personal computer rather than portable communication device, and/or, the equipment including encoder 400 also may include solution
Code device 500.
In addition, all or part of realize of the disclosure can be using can be available or computer-readable from such as tangible computer
The form of the computer program product of medium access.Computer is available or computer-readable medium can be can for example visibly
Include, store, communicating or transfer program is so that any processor uses or any equipment used in combination.Medium can be
Such as electricity, magnetic, optical, electromagnetic or semiconductor devices.Other suitable media are also available.
Above-described embodiment, realization and aspect has been described, to be readily appreciated that the disclosure, and above-described embodiment, reality
Now the disclosure is not limited with aspect.On the contrary, the disclosure be intended to cover comprising within the scope of the appended claims various modifications and
Equivalent arrangements, the range should be endowed broadest interpretation, to include allowed by law all such modifications and equivalent structure.
Claims (22)
1. the method that the transform block in a kind of video bit stream to coding is encoded, comprising:
Non- null graph is encoded, the position of the non-transform block of the null graph instruction comprising non-zero transform coefficient；
Corresponding lower context level figure is encoded, each corresponding lower context level figure has the phase until maximum figure rank
Should figure rank, the corresponding lower context level figure indicates which value of the non-zero transform coefficient equal to the corresponding figure rank
And which value of the non-zero transform coefficient is greater than the corresponding figure rank；And
Coefficient residual plot is encoded, each residual error coefficient of the coefficient residual plot with to have be more than the maximum figure rank
Absolute value the transform block corresponding non-zero transform coefficient it is corresponding.
2. according to the method described in claim 1, wherein, carrying out coding to non-null graph includes:
Generate the block end figure of the transform block；And
Interweave the non-null graph and the block end figure in the video bit stream of the coding.
3. method according to claim 1 or 2, wherein encoded to non-null graph further include:
Determine that the code context of the value of the non-null graph, the code context are based on described value in the non-null graph
Previous code non-zero consecutive value.
4. according to the method described in claim 3, wherein, the code context is also based on described value in the non-null graph
Position.
5. method according to claim 1 to 4, in which:
The corresponding lower context level figure includes being only used for the position with the immediately analog value of preceding lower context level figure
The value set, the immediately preceding lower context level figure is corresponding with preceding figure rank,
The analog value instruction of the immediately preceding lower context level figure is greater than the described non-of the preceding figure rank
The analog value of null transformation coefficient, and
When the corresponding lower context level figure is the first lower context level figure, the immediately preceding lower context level
Figure is the non-null graph.
6. the method according to any one of claims 1 to 5, wherein to until the corresponding figure grade of each of maximum figure rank
Other corresponding lower context level figure carries out coding and includes:
Based on the scanning sequency of the corresponding lower context level figure, based on the first phase in the corresponding lower context level figure
The second consecutive value in neighbour's value and the immediately preceding lower context level figure determines the corresponding lower context level figure
The code context of value.
7. according to the method described in claim 6, wherein:
First consecutive value and the corresponding lower context level scanned before described value based on the scanning sequency
The value of figure is corresponding, and
Second consecutive value is corresponding with the value at following positions in the immediately preceding lower context level figure: should
Position and the position of the corresponding lower context level figure scanned after described value based on the scanning sequency are corresponding.
8. method according to any one of claim 1 to 7, in which:
The maximum figure rank includes at least 2 value, so that at least one described lower context level figure includes first lower
Context level figure and the second lower context level figure,
The non-null graph is the binary pattern with dimension corresponding with the transform block, and each position of the non-null graph includes
One of the following: when corresponding transformation coefficient be the non-zero transform coefficient for the moment for 1 value, when corresponding transformation series
Number have for 0 values and in the scanning sequency of the transform block be located at last non-zero coefficient before when be 0 value or
When corresponding transformation coefficient has the value for 0 and is located at the last non-zero system in the scanning sequency of the transform block
There is no entry when after number,
The first lower context level figure is that have the binary pattern that dimension and figure rank are 1, the first lower context level
Each position of figure includes one of the following: when the respective value in the non-null graph is 1 and the corresponding transformation coefficient
Greater than the described first lower context level figure the figure rank when be 1 value, when the respective value in the non-null graph has
For 1 value and the corresponding transformation coefficient be equal to the described first lower context level figure the figure rank when be 0
Value or the void value when the respective value in the non-null graph has the value for 0, and
The second lower context level figure is that have the binary pattern that dimension and figure rank are 2, the second lower context level
Each position of figure includes one of the following: when the respective value in the described first lower context level figure is 1 and described right
The transformation coefficient answered be greater than the described second lower context level figure the figure rank when be 1 value, when described first is lower
The value and the corresponding transformation coefficient that it is 1 that respective value in context level figure, which has, are equal to the described second lower context level
The value for being 0 when the figure rank of figure or when the respective value in the described first lower context level figure have be 0 value when
Void value.
9. according to the method described in claim 8, further include:
To the maximum figure rank, the value of the non-null graph, the value of the first lower context level figure and described second lower
The value of context level figure is encoded.
10. a kind of device for the video bit stream decoded transform block from coding, described device include:
Processor；And
Memory including instruction, described instruction can be executed by the processor to be used for:
Non- null graph is decoded from the video bit stream of the coding, which transformation coefficient of the non-null graph instruction transform block has zero
It is worth and which transformation coefficient of the transform block has nonzero value；
Corresponding lower context level figure is decoded, the corresponding lower context level figure has the phase until maximum figure rank
Should figure rank, the corresponding lower context level figure indicates which transformation coefficient of the transform block is equal to the corresponding figure rank
And which transformation coefficient of the transform block is greater than the corresponding figure rank；And
Coefficient residual plot is decoded, each residual error coefficient of the coefficient residual plot with to have be more than the maximum figure rank
Absolute value the transform block corresponding transformation coefficient it is corresponding.
11. device according to claim 10, wherein the described instruction for being decoded to non-null graph include for
The instruction of lower operation:
The block end figure of the transform block is decoded, wherein the value of the block end figure and the value of the non-null graph interweave.
12. device described in 0 or 11 according to claim 1, wherein the described instruction for being decoded to non-null graph includes using
In the instruction of following operation:
Determine that the first code context of the value of the non-null graph, the first code context are based on described value described
The non-zero consecutive value of early decoding in non-null graph.
13. device according to claim 12, wherein the first code context is also based on described value described non-
Position in null graph.
14. device described in any one of 0 to 13 according to claim 1, in which:
The corresponding lower context level figure includes being only used for the position with the immediately analog value of preceding lower context level figure
The value set, the immediately preceding lower context level figure is corresponding with preceding figure rank,
The analog value instruction of the immediately preceding lower context level figure is greater than the change of the preceding figure rank
The analog value of the transformation coefficient of block is changed, and
When the corresponding lower context level figure is the first lower context level figure, the immediately preceding lower context level
Figure is the non-null graph.
15. device described in any one of 0 to 14 according to claim 1, wherein for being carried out to corresponding lower context level figure
Decoded instruction includes the instruction for following operation:
Based on the scanning sequency of the corresponding lower context level figure, based on the first phase in the corresponding lower context level figure
The second consecutive value in neighbour's value and the immediately preceding lower context level figure determines the corresponding lower context level figure
The code context of value.
16. device according to claim 15, in which:
First consecutive value and the corresponding lower context level scanned before described value based on the scanning sequency
The value of figure is corresponding, and
Second consecutive value is corresponding with the value at following positions in the immediately preceding lower context level figure: should
Position and the position of the corresponding lower context level figure scanned after described value based on the scanning sequency are corresponding.
17. device according to claim 15 or 16, wherein the code context of described value is also based on described value
Position in the corresponding lower context level figure.
18. device described in any one of 0 to 17 according to claim 1, wherein the institute for being decoded to coefficient residual plot
Stating instruction includes the instruction for following operation:
The residual error coefficient of the coefficient residual plot is decoded using geometry distribution.
19. a kind of method for the video bit stream decoded transform block from coding, which comprises
Institute is reconfigured from the binary rank figure arranged with layer and from the real transform figure that the video bit stream of the coding reconstructs
The transformation coefficient for stating transform block forms the binary grade by the way that the value of corresponding transformation coefficient is decomposed into a series of binary decisions
Do not scheme, each binary decision and the magnitude rank of the corresponding transformation coefficient of the figure level of equivalent layer are corresponding, and institute
State the value that real transform figure includes the corresponding transformation coefficient of the radix more than the binary rank figure.
20. according to the method for claim 19, wherein video of the radix of the binary rank figure from the coding
It is decoded in bit stream.
21. a kind of transform block for video bit stream executes the device of codeization operation, described device includes:
Processor；And
Non-transitory memory, storage can be executed by the processor and require any one of 1 to 9 and 19 to 20 with perform claim
The instruction of the method.
22. a kind of non-transitory computer-readable medium, including can be executed by processor to execute according to claim 1 to 9
With the instruction of method described in any one of 19 to 20.
Applications Claiming Priority (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US15/415,974 US10244261B2 (en) | 2017-01-26 | 2017-01-26 | Transform coefficient coding using level maps |
US15/415,974 | 2017-01-26 | ||
PCT/US2017/059246 WO2018140108A1 (en) | 2017-01-26 | 2017-10-31 | Transform coefficient coding using level maps |
Publications (1)
Publication Number | Publication Date |
---|---|
CN110073663A true CN110073663A (en) | 2019-07-30 |
Family
ID=60473609
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN201780077136.4A Pending CN110073663A (en) | 2017-01-26 | 2017-10-31 | Use the transformation coefficient code of rank figure |
Country Status (4)
Country | Link |
---|---|
US (2) | US10244261B2 (en) |
EP (1) | EP3533226A1 (en) |
CN (1) | CN110073663A (en) |
WO (1) | WO2018140108A1 (en) |
Cited By (1)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
WO2021135856A1 (en) * | 2019-12-31 | 2021-07-08 | 腾讯科技（深圳）有限公司 | Video coding method and apparatus, video decoding method and apparatus, device, and storage medium |
Families Citing this family (9)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
EP3264763A1 (en) * | 2016-06-29 | 2018-01-03 | Thomson Licensing | Method and apparatus for improved significance flag coding using simple local predictor |
CN109788290A (en) * | 2017-11-13 | 2019-05-21 | 慧荣科技股份有限公司 | Image processor and the lossless image compressing method for utilizing intra prediction |
US10694205B2 (en) * | 2017-12-18 | 2020-06-23 | Google Llc | Entropy coding of motion vectors using categories of transform blocks |
US11006150B2 (en) * | 2018-09-24 | 2021-05-11 | Tencent America LLC | Method and apparatus for video coding |
KR102631361B1 (en) * | 2018-10-11 | 2024-01-31 | 엘지전자 주식회사 | Conversion coefficient coding method and device |
CN112399181B (en) | 2019-08-19 | 2022-08-26 | 华为技术有限公司 | Image coding and decoding method, device and storage medium |
CN117319649A (en) * | 2019-08-20 | 2023-12-29 | 北京字节跳动网络技术有限公司 | Residual coding of transform skipped blocks |
CN111310538B (en) * | 2019-11-18 | 2020-11-17 | 万金芬 | Content management system based on big data server |
CN116016915B (en) * | 2019-11-21 | 2024-04-23 | 北京达佳互联信息技术有限公司 | Method and apparatus for transform and coefficient signaling |
Citations (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN101411196A (en) * | 2006-03-27 | 2009-04-15 | 高通股份有限公司 | Method and system for coding and decoding information associated with video compression |
CN103262534A (en) * | 2010-10-14 | 2013-08-21 | 汤姆逊许可公司 | Method and apparatus for improved entropy encoding and decoding |
CN104780370A (en) * | 2009-10-28 | 2015-07-15 | 三星电子株式会社 | Method and apparatus for encoding residual block, and method and apparatus for decoding residual block |
US9197890B2 (en) * | 2011-03-08 | 2015-11-24 | Qualcomm Incorporated | Harmonized scan order for coding transform coefficients in video coding |
CN105828077A (en) * | 2010-07-09 | 2016-08-03 | 三星电子株式会社 | Method and apparatus for entropy encoding/decoding transform coefficient |
Family Cites Families (12)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US4447886A (en) | 1981-07-31 | 1984-05-08 | Meeker G William | Triangle and pyramid signal transforms and apparatus |
DE50305419D1 (en) * | 2002-05-02 | 2006-11-30 | Fraunhofer Ges Forschung | Encoding and decoding of transform coefficients in image or video encoders |
US7583849B2 (en) | 2005-07-25 | 2009-09-01 | Microsoft Corporation | Lossless image compression with tree coding of magnitude levels |
PL2559166T3 (en) * | 2010-04-13 | 2018-04-30 | Fraunhofer-Gesellschaft zur Förderung der angewandten Forschung e.V. | Probability interval partioning encoder and decoder |
US9497472B2 (en) * | 2010-11-16 | 2016-11-15 | Qualcomm Incorporated | Parallel context calculation in video coding |
CA2822929C (en) * | 2011-01-04 | 2016-07-12 | Research In Motion Limited | Coding of residual data in predictive compression |
US10142637B2 (en) * | 2011-03-08 | 2018-11-27 | Texas Instruments Incorporated | Method and apparatus for parallelizing context selection in video processing |
US20130016789A1 (en) * | 2011-07-15 | 2013-01-17 | General Instrument Corporation | Context modeling techniques for transform coefficient level coding |
US9756360B2 (en) * | 2011-07-19 | 2017-09-05 | Qualcomm Incorporated | Coefficient scanning in video coding |
GB201119180D0 (en) * | 2011-11-07 | 2011-12-21 | Sony Corp | Data encoding and decoding |
US9008189B2 (en) * | 2012-01-20 | 2015-04-14 | Blackberry Limited | Methods and devices for context modeling to enable modular processing |
US9008184B2 (en) * | 2012-01-20 | 2015-04-14 | Blackberry Limited | Multiple sign bit hiding within a transform unit |
-
2017
- 2017-01-26 US US15/415,974 patent/US10244261B2/en active Active
- 2017-10-31 CN CN201780077136.4A patent/CN110073663A/en active Pending
- 2017-10-31 WO PCT/US2017/059246 patent/WO2018140108A1/en unknown
- 2017-10-31 EP EP17804703.1A patent/EP3533226A1/en not_active Withdrawn
-
2019
- 2019-03-12 US US16/299,436 patent/US10735767B2/en active Active
Patent Citations (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN101411196A (en) * | 2006-03-27 | 2009-04-15 | 高通股份有限公司 | Method and system for coding and decoding information associated with video compression |
CN104780370A (en) * | 2009-10-28 | 2015-07-15 | 三星电子株式会社 | Method and apparatus for encoding residual block, and method and apparatus for decoding residual block |
CN105828077A (en) * | 2010-07-09 | 2016-08-03 | 三星电子株式会社 | Method and apparatus for entropy encoding/decoding transform coefficient |
CN103262534A (en) * | 2010-10-14 | 2013-08-21 | 汤姆逊许可公司 | Method and apparatus for improved entropy encoding and decoding |
US9197890B2 (en) * | 2011-03-08 | 2015-11-24 | Qualcomm Incorporated | Harmonized scan order for coding transform coefficients in video coding |
Non-Patent Citations (1)
Title |
---|
JOEL SOLE ET AL: "Transform Coefficient Coding in HEVC", 《IEEE TRANSACTIONS ON CIRCUITS AND SYSTEMS FOR VIDEO TECHNOLOGY, INSTITUTE OF ELECTRICAL AND ELECTRONICS ENGINEERS》 * |
Cited By (1)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
WO2021135856A1 (en) * | 2019-12-31 | 2021-07-08 | 腾讯科技（深圳）有限公司 | Video coding method and apparatus, video decoding method and apparatus, device, and storage medium |
Also Published As
Publication number | Publication date |
---|---|
US10735767B2 (en) | 2020-08-04 |
WO2018140108A1 (en) | 2018-08-02 |
US20190215533A1 (en) | 2019-07-11 |
EP3533226A1 (en) | 2019-09-04 |
US10244261B2 (en) | 2019-03-26 |
US20180213258A1 (en) | 2018-07-26 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
CN110073663A (en) | Use the transformation coefficient code of rank figure | |
CN110710217B (en) | Method and apparatus for coding last significant coefficient flag | |
JP6761033B2 (en) | Motion vector prediction using previous frame residuals | |
CN113287306A (en) | Improved entropy coding in image and video compression using machine learning | |
CN110622515A (en) | Directional intra prediction coding | |
CN109891894A (en) | It is compiled and is restored using the video of domain transformation recursion filter | |
CN111614956B (en) | DC coefficient sign coding scheme | |
EP3662665A1 (en) | Scan order adaptation for entropy coding of blocks of image data | |
CN107667532A (en) | Conversion for non-baseband signal code selects | |
CN107231557A (en) | Reset for the intelligence in the recurrence block subregion of the senior infra-frame prediction in Video coding | |
US11917156B2 (en) | Adaptation of scan order for entropy coding | |
CN111866505A (en) | Efficient context handling in arithmetic coding | |
CN107302700A (en) | Adaptive direction loop filter | |
US10630974B2 (en) | Coding of intra-prediction modes | |
US20170164007A1 (en) | Mixed boolean-token ans coefficient coding | |
CN110710219B (en) | Method and apparatus for context derivation for coefficient coding | |
CN109906610A (en) | The recovery compiled using the video of filtering and subspace projection | |
WO2021092531A1 (en) | Probability estimation for entropy coding |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
PB01 | Publication | ||
PB01 | Publication | ||
SE01 | Entry into force of request for substantive examination | ||
SE01 | Entry into force of request for substantive examination | ||
WD01 | Invention patent application deemed withdrawn after publication |
Application publication date: 20190730 |
|
WD01 | Invention patent application deemed withdrawn after publication |