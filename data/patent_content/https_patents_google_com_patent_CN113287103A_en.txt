CN113287103A - Event progress detection in media items - Google Patents
Event progress detection in media items Download PDFInfo
- Publication number
- CN113287103A CN113287103A CN201980087636.5A CN201980087636A CN113287103A CN 113287103 A CN113287103 A CN 113287103A CN 201980087636 A CN201980087636 A CN 201980087636A CN 113287103 A CN113287103 A CN 113287103A
- Authority
- CN
- China
- Prior art keywords
- event
- media item
- frames
- candidate event
- clock
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Pending
Links
Images
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/20—Servers specifically adapted for the distribution of content, e.g. VOD servers; Operations thereof
- H04N21/23—Processing of content or additional data; Elementary server operations; Server middleware
- H04N21/234—Processing of video elementary streams, e.g. splicing of video streams, manipulating MPEG-4 scene graphs
- H04N21/23418—Processing of video elementary streams, e.g. splicing of video streams, manipulating MPEG-4 scene graphs involving operations for analysing video streams, e.g. detecting features or characteristics
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/70—Information retrieval; Database structures therefor; File system structures therefor of video data
- G06F16/73—Querying
- G06F16/738—Presentation of query results
- G06F16/739—Presentation of query results in form of a video summary, e.g. the video summary being a video sequence, a composite still image or having synthesized frames
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/70—Information retrieval; Database structures therefor; File system structures therefor of video data
- G06F16/78—Retrieval characterised by using metadata, e.g. metadata not derived from the content or metadata generated manually
- G06F16/783—Retrieval characterised by using metadata, e.g. metadata not derived from the content or metadata generated manually using metadata automatically derived from the content
- G06F16/7837—Retrieval characterised by using metadata, e.g. metadata not derived from the content or metadata generated manually using metadata automatically derived from the content using objects detected or recognised in the video content
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/70—Information retrieval; Database structures therefor; File system structures therefor of video data
- G06F16/78—Retrieval characterised by using metadata, e.g. metadata not derived from the content or metadata generated manually
- G06F16/783—Retrieval characterised by using metadata, e.g. metadata not derived from the content or metadata generated manually using metadata automatically derived from the content
- G06F16/7844—Retrieval characterised by using metadata, e.g. metadata not derived from the content or metadata generated manually using metadata automatically derived from the content using original textual content or text extracted from visual content or transcript of audio data
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/20—Servers specifically adapted for the distribution of content, e.g. VOD servers; Operations thereof
- H04N21/21—Server components or server architectures
- H04N21/218—Source of audio or video content, e.g. local disk arrays
- H04N21/2187—Live feed
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/20—Servers specifically adapted for the distribution of content, e.g. VOD servers; Operations thereof
- H04N21/23—Processing of content or additional data; Elementary server operations; Server middleware
- H04N21/235—Processing of additional data, e.g. scrambling of additional data or processing content descriptors
- H04N21/2353—Processing of additional data, e.g. scrambling of additional data or processing content descriptors specifically adapted to content descriptors, e.g. coding, compressing or processing of metadata
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/20—Servers specifically adapted for the distribution of content, e.g. VOD servers; Operations thereof
- H04N21/23—Processing of content or additional data; Elementary server operations; Server middleware
- H04N21/242—Synchronization processes, e.g. processing of PCR [Program Clock References]
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/20—Servers specifically adapted for the distribution of content, e.g. VOD servers; Operations thereof
- H04N21/25—Management operations performed by the server for facilitating the content distribution or administrating data related to end-users or client devices, e.g. end-user or client device authentication, learning user preferences for recommending movies
- H04N21/266—Channel or content management, e.g. generation and management of keys and entitlement messages in a conditional access system, merging a VOD unicast channel into a multicast channel
- H04N21/26603—Channel or content management, e.g. generation and management of keys and entitlement messages in a conditional access system, merging a VOD unicast channel into a multicast channel for automatically generating descriptors from content, e.g. when it is not made available by its provider, using content analysis techniques
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/20—Servers specifically adapted for the distribution of content, e.g. VOD servers; Operations thereof
- H04N21/25—Management operations performed by the server for facilitating the content distribution or administrating data related to end-users or client devices, e.g. end-user or client device authentication, learning user preferences for recommending movies
- H04N21/266—Channel or content management, e.g. generation and management of keys and entitlement messages in a conditional access system, merging a VOD unicast channel into a multicast channel
- H04N21/2665—Gathering content from different sources, e.g. Internet and satellite
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/80—Generation or processing of content or additional data by content creator independently of the distribution process; Content per se
- H04N21/81—Monomedia components thereof
- H04N21/8126—Monomedia components thereof involving additional data, e.g. news, sports, stocks, weather forecasts
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/80—Generation or processing of content or additional data by content creator independently of the distribution process; Content per se
- H04N21/81—Monomedia components thereof
- H04N21/8126—Monomedia components thereof involving additional data, e.g. news, sports, stocks, weather forecasts
- H04N21/8133—Monomedia components thereof involving additional data, e.g. news, sports, stocks, weather forecasts specifically related to the content, e.g. biography of the actors in a movie, detailed information about an article seen in a video program
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/80—Generation or processing of content or additional data by content creator independently of the distribution process; Content per se
- H04N21/83—Generation or processing of protective or descriptive data associated with content; Content structuring
- H04N21/84—Generation or processing of descriptive data, e.g. content descriptors
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/80—Generation or processing of content or additional data by content creator independently of the distribution process; Content per se
- H04N21/83—Generation or processing of protective or descriptive data associated with content; Content structuring
- H04N21/845—Structuring of content, e.g. decomposing content into time segments
- H04N21/8456—Structuring of content, e.g. decomposing content into time segments by decomposing the content in the time domain, e.g. in time segments
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/80—Generation or processing of content or additional data by content creator independently of the distribution process; Content per se
- H04N21/85—Assembly of content; Generation of multimedia applications
- H04N21/854—Content authoring
- H04N21/8547—Content authoring involving timestamps for synchronizing content
Abstract
One or more frames sampled from media items of an event that are simultaneously streamed to one or more users of a content delivery platform are received. Analyzing the one or more frames to identify one or more candidate event clocks within the one or more frames. Determining, for each of the one or more frames, whether a candidate event clock of the one or more candidate event clocks satisfies one or more conditions. In response to determining that the candidate event clock of the one or more candidate event clocks satisfies the one or more conditions, identifying the candidate event clock as an actual event clock for timing the event and generating mapping data that maps the actual event clock to timestamps associated with respective frames of the one or more frames of the media item.
Description
Technical Field
Aspects and implementations of the present disclosure relate to content delivery platforms and, more particularly, but not by way of limitation, to event progress detection in media items, such as live streaming media items.
Background
A content delivery platform connected via the internet enables users to connect and share information with each other. Many content delivery platforms include a content sharing aspect that enables users to upload, view, and share content, such as video items, image items, audio items, and the like. Other users of the content delivery platform may review the shared content, discover new content, locate updates, share content, and otherwise interact with the provided content. The shared content may include content from professional content creators, such as movie clips, television clips, and music video items, as well as content from amateur content creators, such as video blogs and original short video items.
Disclosure of Invention
The following presents a simplified summary of the disclosure in order to provide a basic understanding of some aspects of the disclosure. This summary is not an extensive overview of the disclosure. It is intended to neither identify key or critical elements of the disclosure nor delineate any scope of particular implementations of the disclosure or any scope of the claims. Its sole purpose is to present some concepts of the disclosure in a simplified form as a prelude to the more detailed description that is presented later.
An aspect of the present disclosure provides a method, the method comprising: receiving one or more frames sampled from media items of an event that are simultaneously streamed to one or more users of a content delivery platform; analyzing the one or more frames to identify one or more candidate event clocks within the one or more frames; determining, for each of the one or more frames, whether a candidate event clock of the one or more candidate event clocks satisfies one or more conditions; and in response to determining that the candidate event clock of the one or more candidate event clocks satisfies the one or more conditions, identifying the candidate event clock as an actual event clock for timing the event and generating mapping data that maps the actual event clock to timestamps associated with respective frames of the one or more frames of the media item.
Another aspect of the invention provides a system comprising: a memory; and a processing device coupled to the memory, the processing device for performing a method according to any aspect or embodiment described herein. Other aspects of the invention provide a computer program product (such as a tangible computer-readable medium or software product, which may be downloaded without necessarily being stored in a non-transitory manner) comprising instructions that, in response to execution by a processing device, cause the processing device to perform operations comprising a method according to any aspect or embodiment described herein. Other aspects of the disclosure provide a computer program comprising instructions which, when executed by a processing device, cause the processing device to perform operations according to any aspect or embodiment described herein.
Drawings
Aspects and implementations of the present disclosure will be understood more fully from the detailed description given below and from the accompanying drawings of various aspects and implementations of the disclosure, which, however, should not be taken to limit the disclosure to the specific aspects or implementations, but are for explanation and understanding.
Fig. 1 illustrates an example system architecture in accordance with embodiments of the present disclosure.
Fig. 2A illustrates a flow diagram of a method for identifying a candidate event clock as an actual event clock and mapping the actual event clock to timestamps associated with respective frames of a media item, in accordance with an embodiment of the present disclosure.
Fig. 2B illustrates a flow diagram of a method for determining whether a candidate event clock satisfies one or more conditions, in accordance with an embodiment of the disclosure.
Fig. 3A is an example pipeline of operations for mapping an actual event clock to timestamps associated with frames of a live streaming media item, in accordance with embodiments of the present disclosure.
Fig. 3B is an example pipeline of operations for mapping actual event periods to timestamps associated with frames of live streaming media items, in accordance with embodiments of the present disclosure.
Fig. 4 is an example block diagram illustrating scoring operations for generating scores for candidate event clocks in accordance with embodiments of the present disclosure.
Fig. 5 is a flowchart illustrating an example of presenting a live streaming media item with annotated content at a client device according to an embodiment of the disclosure.
Fig. 6 is a block diagram illustrating an exemplary computer system in accordance with embodiments of the present disclosure.
Detailed Description
The content delivery platform may provide content, such as video items, audio items, or game items, to a user via a user device. A user may log into a user account associated with the content delivery platform to access the content delivery platform and upload and/or consume content. The content delivery platform may stream media items, such as live streaming video items, to one or more client devices for consumption by a user. Live streaming media items may refer to live broadcasts or transmissions of a live event, where the media items are transmitted at least partially simultaneously when the event occurs, and where the media items are not all available at the time the media items begin transmission. A media item typically includes a plurality of frames, where each frame includes video data (and optionally audio data) that may be rendered at an instant in time. Each frame is associated with a time stamp. Each timestamp indexes a respective frame of the media item. For example, each timestamp may indicate a particular instant in time at which its associated frame was rendered. The timestamp may be expressed as a time (e.g., number of milliseconds) relative to the first frame of the media item or relative to any other suitable reference point. The timestamps may be stored in metadata associated with their respective frames, or in any other suitable manner. The content delivery platform may receive the live streaming media item from a source entity, such as a content owner or content distributor, and buffer the media item for a short amount of time (e.g., 30 seconds) before transmitting the media item to one or more client devices (e.g., a viewer's user device). During the buffering period, the content delivery platform may add annotation content to be presented with the media item at the client device(s). Annotation content may refer to additional content that is presented or provided concurrently with a media item, such as a live streaming media item or a pre-recorded media item. Annotation content may include, but is not limited to, video, text, images, analytics, video overlays, and the like. In some systems, to determine relevant annotation content for a media item, an analysis, such as a video analysis, may be performed on the media item to identify particular features or characteristics of the media item. Examples of such features or characteristics may include a person or thing presented within a media item, an action being performed by a person, and so forth. The particular feature or characteristic may be used to generate annotated content for the media item. The analysis operations may consume a significant amount of computing resources (e.g., processing and memory resources) and may be performed for multiple media items of the same event.
For example, multiple content distributors may stream different live streaming media items of the same event. Even if the live streaming media items are of the same event, the timestamps associated with the same scene may be different for the live streaming media items. This typically occurs when timestamps of different media items are represented relative to different reference points. For example, annotation content at a particular timestamp of live streaming media item a may not be applicable to another live streaming media item B at the same timestamp. As such, a computationally intensive analysis is performed on live streaming media items of the same event, such that the same annotation content can be added to live streaming media items in the same scene (but at different respective timestamps).
Aspects of the present disclosure address the other challenges mentioned above by analyzing one or more media items of the same event to identify reference points, such as an event clock and/or an event period, within frames of the media items, and generating mapping data that maps the reference points, such as the event clock and/or the event period, to timestamps associated with respective frames of the one or more media items. In some embodiments, a fiducial point may be used so that annotation content generated for one media item of an event may be applied to other media items of the same event without performing analysis operations on all media items of the same event.
In some embodiments, the reference point is a common feature shared by the media items. For example, the event may be a sporting event using an event clock and/or an event period. Events may be timed using an event clock, and event periods may be used to divide the time of the events. For example, a soccer game is divided into two periods (e.g., half-fields) of 45 minutes each. The event clock for the football game may run from 0 until the end of the bottom half (e.g., 90 minutes). Although different live streaming items of a football game may all be transmitted by different content distributors and have different timestamps for the same scene of the football game (e.g., the game), the different live streaming items all share the same event clock and slot, which may be used as a reference point.
In some embodiments, one or more frames of a media item of an event are received. The media items may be live streamed simultaneously to one or more users of the content delivery platform. One or more frames of the media item are analyzed to identify one or more candidate event clocks (or event periods) within the frames. For the one or more frames, one or more candidate event clocks (or event periods) are compared to one or more conditions (e.g., whether a total score of the one or more candidate event clocks within the frame exceeds a threshold, whether the candidate event clock is present within the frame, etc.) to determine whether the candidate event clock satisfies the one or more conditions. In response to determining that the candidate event clock (or event period) satisfies the one or more conditions, the candidate event clock is identified as the actual event clock for the event (and/or the candidate event period is identified as the actual event period). Mapping data is generated that maps an actual event clock (e.g., a time displayed on the actual event clock) and/or an event period to a timestamp associated with a respective frame of the one or more frames (e.g., a frame in which the actual event clock occurs). In some embodiments, mapping data may be generated in a similar manner for each of multiple media items of the same event.
In some embodiments, annotation content associated with a media item is identified. The media item is annotated with annotation content based on the mapping data. Media items having annotated content are provided for presentation at a client device.
In some embodiments, the annotation content may correspond to a particular timestamp of a media item that has been analyzed to derive the annotation content. For example, the annotation content may be related to an important scene or segment of a sporting event (e.g., a goal). The mapping data may be used to identify a particular event clock (e.g., a particular time of the event clock) and/or an event period associated with a timestamp of the analyzed media item. With a particular event clock and/or event period, the mapping data may also be used to identify corresponding timestamps for other media items having the same particular event clock and/or event period. The same or similar annotation content can be applied to other media items using the corresponding timestamps without analyzing the other media items to identify the annotation content.
As noted, a technical problem addressed by embodiments of the present disclosure is the large amount of computing resources used to perform analysis operations on multiple media items of the same event. For example, performing feature recognition on multiple media items consumes a significant amount of computing resources. In addition, because media items, such as live streaming media items, are to be provided to an end user with little or no delay, analysis operations of multiple media items of the same event are often performed simultaneously, which increases the computational resources required at any given time.
Technical solutions to the above-identified technical problem may include: receiving one or more frames sampled from a media stream of an event that is simultaneously live streamed to one or more users of a content delivery platform; analyzing the one or more frames to identify one or more candidate event clocks within the one or more frames; for each of the one or more frames, determining whether a candidate event clock of the one or more candidate event clocks satisfies one or more conditions; and in response to determining that a candidate event clock of the one or more candidate event clocks satisfies the one or more conditions, identifying the candidate event clock as an actual event clock for timing the event and generating mapping data that maps the actual event clock to timestamps associated with respective frames of the one or more frames of the media item.
Accordingly, technical effects of the present disclosure may include reducing computing resources used in generating and providing annotation content for media items of the same event.
As noted above, the live streaming media item may be a live broadcast or transmission of a live event. It may also be noted that, unless otherwise noted, "live streaming media item" or "currently presented live streaming media item" refers to a media item that is being live streamed (e.g., media items are transmitted simultaneously when an event occurs). The complete live streaming media item may be obtained and stored subsequent to the end of the live stream of the live streaming media item, and may be referred to herein as a "previously presented live streaming media item" or an "archived live streaming media item".
FIG. 1 illustrates an example system architecture 100 according to one embodiment of this disclosure. The system architecture 100 (also referred to herein as a "system") includes one or more of a content delivery platform 114 (also referred to herein as a "content distribution platform"), data stores 104 and 109, client devices 103A-103Z (often referred to herein as client device(s) 103 "), an annotation content generation server 108, a content distribution server 107, and a scheduling server 106 connected to the network 105.
In embodiments, the network 105 may include a public network (e.g., the internet), a private network (e.g., a Local Area Network (LAN) or a Wide Area Network (WAN)), a wired network (e.g., ethernet), a wireless network (e.g., an 802.11 network or a Wi-Fi network), a cellular network (e.g., a Long Term Evolution (LTE) network), a router, a hub, a switch, a server computer, and/or combinations thereof.
In embodiments, the data stores 104 and 109 are persistent stores that are capable of storing content items (such as media items) as well as data structures for tagging, organizing, and indexing the content items. Data stores 104 and 109 may be hosted by one or more storage devices, such as main memory, magnetic or optical storage-based disks, tape or hard drives, Network Attached Storage (NAS), Storage Area Networks (SANs), and so forth. In some embodiments, data stores 104 and 109 may be network attached file servers, while in other embodiments data stores 104 and 109 may be some other type of persistent storage, such as object oriented databases, relational databases, or the like, that may be hosted by content delivery platform 114 or one or more different machines coupled to content delivery platform 114 via network 105.
In some embodiments, client devices 103A-103Z may each comprise a computing device such as a Personal Computer (PC), laptop, mobile phone, smart phone, tablet computer, netbook computer, network-connected television, or the like. In some embodiments, client devices 103A-103Z may also be referred to as "user devices". In an embodiment, each client device includes a media viewer 102. In one embodiment, the media viewer 102 may be an application that enables a user to playback, view, or upload content such as images, video items, web pages, documents, audio items, and the like. For example, the media viewer 102 may be a web browser that can access, retrieve, render, or navigate content (e.g., web pages such as hypertext markup language (HTML) pages, digital media items, etc.) served by a web server. The media viewer 102 may render, display, or present content (e.g., web pages, media viewers) to a user. The media viewer 102 may also include a built-in mediacast built into a web page (e.g., a web page that may provide information about products sold by an online merchant)A dispenser (e.g.,content delivery platform 114. As such, media viewer 102 may be provided to client devices 103A-103Z by content delivery platform 114. For example, media viewer 102 may be a built-in media player built into a web page provided by content delivery platform 114. In another example, media viewer 102 may be an application downloaded from content delivery platform 114.
In some embodiments, one or more of the content delivery platform 114, the scheduling server 106, the content distribution server 107, or the annotation content generation server 108 may be one or more computing devices (such as rack servers, router computers, server computers, personal computers, mainframe computers, laptop computers, tablet computers, desktop computers, etc.), data stores (e.g., hard disks, memories, databases), networks, software components, or hardware components that may be used to enable users to access or provide media items to users. For example, content delivery platform 114 may enable users to consume, upload, search, approve ("like"), disapprove ("dislike"), or comment on media items. Content delivery platform 114 may also include a website (e.g., a web page) or application backend software that may be used to enable a user to access media items.
In embodiments of the present disclosure, a "user" may be represented as a single individual. However, other embodiments of the present disclosure contemplate that a "user" is an entity controlled by a group of users and/or automated sources. For example, a group of individual users that are joined as a community in a social network may be considered a "user". In another example, the automated consumer may be an automated import pipeline, such as a theme channel, of content delivery platform 114.
In some embodiments, content delivery platform 114 may include multiple channels (e.g., channels a through Z, only channel a of which is shown in fig. 1). A channel may be data content available from a common source or data content having a common theme, or substance. The data content may be digital content selected by a user, digital content made available to a user, digital content uploaded by a user, digital content selected by a content provider, digital content selected by a broadcaster, or the like. For example, channel X may include videos Y and Z. The channel may be associated with an owner, who is a user who may perform an action on the channel. Different activities may be associated with a channel based on the owner's actions, such as the owner making digital content available on the channel, the owner selecting (e.g., liking) digital content associated with another channel, the owner commenting on digital content associated with another channel, and so forth. The activity associated with a channel may be collected into an activity feed for the channel. Users other than the channel owner may subscribe to one or more channels of interest to them. The concept of "subscription" may also be referred to as "like", "follow-up", "making friends", etc.
Once a user subscribes to a channel, the user may be presented with information from the channel activity feed. If a user subscribes to multiple channels, the activity summaries of the channels to which the user subscribes may be combined into a consolidated activity summary. Information from the syndicated campaign feed may be presented to the user. Channels may have their own feeds. For example, when navigating to the home page of a channel on the content delivery platform 114, the feed items generated by the channel may be shown on the channel home page. A user may have a syndication feed that is a feed that includes at least a subset of the content items from all channels to which the user subscribes. The syndication feed may also include content items from channels to which the user is not subscribed. For example, the content delivery platform 114 or other social network may insert recommended content items into the user's syndication feed or may insert content items associated with the user's relevant connections into the syndication feed.
Each channel may include one or more media items 111. Examples of media items 111 may include, without limitation, digital videos, digital movies, digital photographs, digital music, audio content, melodies, website content, social media updates, electronic books (e-books), electronic magazines, digital newspapers, digital audio books, electronic periodicals, web blogs, Really Simple Syndication (RSS) feeds, electronic comics, software applications, and so forth. In some embodiments, media items 111 are also referred to as content or content items.
For brevity and simplicity, and not by way of limitation, video items, audio items, or game items are used throughout this document as examples of media items 111. As used herein, "media," "media item," "online media item," "digital media item," "content," and "content item" may include an electronic file that may be executed or loaded using software, firmware, or hardware configured to present the digital media item to an entity. In one embodiment, content delivery platform 114 may use data store 104 to store media items 111. In another embodiment, content delivery platform 114 may store video items or fingerprints as electronic files in one or more formats using data stores 104 and 109.
In one embodiment, the media items 111 are video items. A video item is a set of consecutive video frames (e.g., image frames) representing a scene in motion. For example, a series of sequential video frames may be captured in succession or subsequently reconstructed to generate an animation. The video items may be presented in a variety of formats including, but not limited to, analog, digital, two-dimensional, and three-dimensional video. In addition, a video item may include a movie, a video clip, or any set of animated images to be displayed in sequence. In addition, the video item may be stored as a video file that includes a video component and an audio component. The video component may refer to video data in a video coding format or an image coding format (e.g., H.264(MPEG-4AVC), H.264MPEG-4Part 2, Graphics Interchange Format (GIF), WebP, etc.). An audio component may refer to audio data in an audio coding format (e.g., Advanced Audio Coding (AAC), MP3, etc.). It may be noted that the GIF may be saved as an image file (e.g.,. GIF file), or as a series of images in an animated GIF (e.g., GIF89a format). It may be noted that h.264 may be a video coding format, i.e. a video compression standard based on block-oriented motion compensation, e.g. for recording, compressing or distributing video content.
In some embodiments, the media item 111 may be streamed to one or more of the client devices 103A-103Z, such as in a live stream. It may be noted that "streamed" or "streaming" refers to the transmission or broadcast of content, such as a media item, where some portions of the received media item may be played back by the receiving device (within technical limits) immediately upon receipt, or while other portions of the media content are delivered in the event that the receiving device does not receive the entire media item. "streaming" may refer to content, such as a media item, being streamed or being streamed. Live streaming media items may refer to live broadcasts or transmissions of a live event, where the media items are transmitted to a receiving device at least partially simultaneously when the event occurs, and where the media items are not all available at least when the media items begin transmission.
In embodiments, content delivery platform 114 may allow users to create, share, view, or use playlists containing media items (e.g., playlists A-Z containing media items 111). A playlist refers to a collection of media items that are configured to be played successively in a particular order without any user interaction. In an embodiment, content delivery platform 114 may maintain playlists on behalf of users. In an embodiment, the playlist feature of the content delivery platform 114 allows users to group their favorite media items together in a single location for playback. In embodiments, the content delivery platform 114 may send the media items on the playlist to the client device 103 for playback or display. For example, the media items on the playlist may be played in the order in which the media items are listed on the playlist using the media viewer 102. In another example, a user may transition between media items on a playlist. In yet another example, the user may wait for the next media item on the playlist, or may select a particular media item in the playlist for playback.
In an embodiment, a user may access content delivery platform 114 through a user account. A user may access (e.g., log into) a user account by providing user account information (e.g., a username and password) via an application on a client device 103A (e.g., media viewer 102). In some embodiments, a user account may be associated with a single user. In other embodiments, the user account may be a shared account (e.g., a family account shared by multiple users) (also referred to herein as a "shared user account"). The shared account may have multiple user profiles each associated with a different user. Multiple users may log into the shared account using the same account information or different account information. In some embodiments, multiple users of a shared account may be distinguished based on different user profiles of the shared account.
In some embodiments, the content delivery platform 114 may broadcast one or more live streaming media items to the client devices 103A-103Z. In some embodiments, the content delivery platform 114 may receive portions of the live streaming media item, such as the live streaming media item 120, when streaming the live streaming media item from the content distribution server 107. In some embodiments, some portions of the live streaming media item may correspond to a sequence of frames of the live streaming media item 120. For example, the first portion of the live streaming media item that is streamed to the content delivery platform 114 may be the first 30 seconds (0-30 seconds) of the live streaming media item, the second portion of the live streaming media item may be the second 30 seconds (31-60 seconds) of the live streaming media item, and so on. In some embodiments, the content delivery platform 114 may buffer portions of the live streaming media item before streaming the portions of the live streaming media item to the client devices 103A-103Z. For example, the content delivery platform 114 may buffer the live streaming media item (e.g., portions thereof) for 30 seconds after receiving the live streaming media item 120 from the content distribution server 107 and before streaming the live streaming media item 120 to the client devices 103A-103Z.
In some embodiments, the content delivery platform 114 may add annotation content in the live streaming media item presentation at the client devices 103A-103Z. In some embodiments, the content delivery platform 114 may determine one or more reference points associated with the live streaming media item, such as an event clock or event slot, which may be used as a reference to add annotation content to the live streaming media item presentation.
In some embodiments, the content delivery platform 114 may sample frames (e.g., video frames) of some portions of the live streaming media item 120. The content delivery platform 114 may analyze the one or more sample frames to determine one or more candidate event clocks within the sample frames of the live streaming media item 120. For each of the sampled frames, content delivery platform 114 may determine whether any of the one or more candidate event clocks satisfy one or more conditions. In response to determining that the candidate event clock satisfies one or more conditions, content delivery platform 114 may identify that the candidate event clock is the actual event clock used to time the event. Content delivery platform 114 may map the actual event clock to a timestamp associated with the corresponding frame in which the actual event clock is presented. In some embodiments, the content delivery platform 114 may determine the actual event period within some or all of the sample frames of the live streaming media item 120 in a similar manner as described above. The actual event clock and the actual event period may be mapped to timestamps associated with respective frames in which the actual event clock and/or the actual event period are presented. The identification of the actual event clock is further described with respect to fig. 3A, and the identification of the actual event period is further described with respect to fig. 3B.
In some embodiments, the system architecture 100 includes a dispatch server 106. The scheduling server 106 may provide information, such as scheduling information, regarding the transmission or broadcast of media items, such as live streaming media items. The scheduling information may include information such as an event type of the live streaming media item, a start time of a transmission or broadcast of the media item, an end time of a transmission or broadcast of the media item, a title of the media item, and/or other metadata associated with the media item. In some embodiments, the scheduling information may indicate a particular content distributor that will transmit or broadcast the live streaming media item. For example, the scheduling information may indicate that the content distributor of the content distribution server 107 is to transmit the live streaming media item 120 at 7 months, 18 days pacific standard time, 4:00 pm. The scheduling information may also indicate that the live streaming is a basketball sporting event between the santa clara wildcarded team and the colorado tiger team. In some embodiments, dispatch server 106 is a third party service provider. In some embodiments, the scheduling server 106 may be part of the content delivery platform 114 or the content distribution server 107.
In some embodiments, the content delivery platform 114 (e.g., the mapping module 110) may query the scheduling server 106 to retrieve scheduling information corresponding to a broadcast or transmission of a media item, such as a live streaming media item. In some embodiments, the content delivery platform 114 may communicate with the scheduling server 106 via the network 105 to determine any live streaming media items to be broadcast in the future and event types for the live streaming media items. In some embodiments, for example, the content delivery platform 114 may select live streaming media items of a particular event type of interest, such as a sporting event or any event that uses an event clock.
In some embodiments, the system architecture 100 includes one or more content distribution servers, such as content distribution server 107. The content distribution server 107 may be part of a content distributor broadcasting or transmitting media items, such as live streaming media items. In some embodiments, content distribution server 107 may transmit one or more live streaming media items to content distribution platform 114. The content delivery platform 114 may annotate the live streaming media item with the annotation content and transmit the annotated live streaming media item to one or more client devices 103A-103Z. In some embodiments, content distribution server 107 is part of content delivery platform 114. In other embodiments, the content distribution server 107 is a third party platform that distributes content to the content delivery platform 114.
In some embodiments, the system architecture 100 includes an annotation content generation server 108. In some embodiments, the annotation content generation server 108 may provide an annotation service that identifies or generates annotation content that is provided to the content delivery platform 114 for inclusion in the presentation of the live streaming media item.
In some embodiments, the annotated content generation server 108 may analyze the live streaming media item (e.g., some portion of the live streaming media item) to identify content of interest within or associated with the live streaming media item. In some embodiments, the annotated content generation server 108 may use the machine learning model 112 to identify content of interest within or associated with the live streaming media item. For example, the content delivery platform 114 may send portions of the live streaming media item to the annotated content generation server 108. The annotation content generation server 108 can use a portion of the live streaming media item as an input (e.g., a feature) to the machine learning model 112 (either before any preprocessing or after preprocessing some portion of the live streaming media item) and receive an output of the machine learning model 112 that gives a probability that a particular timestamp range of the live streaming media item contains some content of interest. In some embodiments, the annotation server may generate particular annotation content for the live streaming media item based on the output of the machine learning model 112. The machine learning model 112 may be trained using training data (e.g., an exemplary media item, such as a real-time streaming media item, may be used as a training input, and content of interest within the media item, such as a short segment within the media item, may be used as a target output).
For example, the annotation content generation server 108 may identify relevant segments of a basketball game (e.g., important or critical games) relative to the live streaming media item within a timestamp range of 1 minute 30 seconds to 2 minutes. The annotation content generation server 108 may also generate annotation content that includes a highlight clip (e.g., short video) showing the video of the relevant segment along with some information about the relevant segment, such as the athlete involved, the timestamp range at which an important game occurs relative to the live streaming media item, the score of the game at which the important game occurs, and so forth. The generated annotations may be provided to the content delivery platform 114 for inclusion in the presentation of the live streaming media item.
In some embodiments, the annotated content generation server 108 may provide annotation information to the content delivery platform 114, where the content delivery platform 114 uses the annotation information to generate the annotated content.
For example, the annotation content generation server 108 may send annotation information such as a timestamp range when an important match occurs with respect to the live streaming media item to the content delivery platform 114. The content delivery platform 114 may generate highlight clips for important games based on a range of timestamps relative to the live streaming media item.
In some embodiments, the annotated content generation server 108 may be part of the content delivery platform 114. In some embodiments, the annotated content generation server 108 may be provided by a third party service that communicates with the content delivery platform 114 via an Application Programming Interface (API). The annotation content generated by the annotation content generation server 108 is further described with respect to fig. 2A and 3A.
In some embodiments, system architecture 100 includes a data store 109. In some embodiments, the data store 109 may store related content related to live streaming media items. For example, the related content may include event information that may be used to generate annotation content included in the presentation of the live streaming media item. In some embodiments, the annotation content generation server 108 or the content delivery platform 114 may use the data store 109 to generate annotation content for the live streaming media item. For example, the data store 109 may include event information 113 related to a particular event being streamed as a live streaming media item. For example, event information may include live statistics about an event, statistics or other information about event participants, players of an event, scoring information about an event, team information about team(s) participating in an event, historical information related to an event, participant or team, or any other type of event-related information. The data store 109 may be queried to retrieve event information. In some embodiments, the information of the data store 109 may be obtained based on the actual event clock (and/or the actual event period) of the event.
In some embodiments, one or more of the operations described herein may be performed by mapping module 110 as part of content delivery platform 114. In some embodiments, the mapping module 110 may be part of another component of fig. 1. For example, the mapping module 110 may be hosted by an external service, such as a third party service.
Fig. 2A illustrates a flow diagram of a method 200 for identifying a candidate event clock as an actual event clock and mapping the actual event clock to timestamps associated with respective frames of a media item, in accordance with an embodiment of the present disclosure. Method 200 is performed by processing logic that may comprise hardware (circuitry, dedicated logic, etc.), software (e.g., instructions run on a processing device), or a combination thereof. In some embodiments, some or all of the operations of method 200 may be performed by one or more components of system 100 of fig. 1. In some embodiments, one or more operations of method 200 may be performed by mapping module 110 of content delivery platform 114, as described with respect to fig. 1. It may be noted that aspects of FIG. 2A may be illustrated using components described with respect to FIG. 1.
At block 202, processing logic implementing the method 200 receives one or more frames sampled from a media item of an event, such as a live streaming media item. In some embodiments, the event is live streamed to one or more users of content delivery platform 114 at the same time. For example, one or more frames may be from a portion of a media item received at content delivery platform 114 where other portions of the media item have not been recorded (because the event has not been completed) or transmitted to content delivery platform 114.
At block 204, processing logic analyzes the one or more frames to identify one or more candidate event clocks within the one or more frames. The term "candidate event clock" refers to a portion of a frame, which may or may not be the actual event clock. For example, the candidate event clock may include text (e.g., numbers) that are visually displayed in the frame. The candidate event clock may be analyzed to determine if it is the actual event clock used to time the event. In some embodiments, analyzing the one or more frames to identify one or more candidate event clocks within the one or more frames includes performing an optical character recognition operation on the one or more frames to identify text indicating the one or more candidate event clocks and location information describing a location of the one or more candidate event clocks relative to the one or more frames. Some aspects of analyzing one or more frames to identify one or more candidate event clocks within the one or more frames are further described with respect to fig. 3.
At block 206, processing logic determines whether a candidate event clock of the one or more candidate event clocks satisfies one or more conditions. In an embodiment, determining whether a candidate event clock of the one or more candidate event clocks satisfies the one or more conditions may be performed for each of the one or more frames. Some aspects of determining whether a candidate event clock satisfies one or more conditions will be further described with respect to fig. 2B-3A. For each frame in which processing logic determines a candidate event clock that satisfies one or more conditions, processing logic may proceed to block 208. If processing logic determines that the candidate event clock for any of the one or more frames does not satisfy the one or more conditions, processing logic may return to block 202 to perform the operations of method 200 for additional sample frames of other portions (e.g., most recently received) of the media item.
At block 208, processing logic identifies the candidate event clock as the actual event clock used to time the event. In some embodiments, the candidate event clock is identified as the actual event clock in each of the one or more frames for which the candidate event clock is determined to satisfy the one or more conditions.
At block 210, processing logic generates mapping data that maps the actual event clock to timestamps associated with respective frames of the one or more frames of the media item. In some embodiments, in response to determining that a candidate event clock of the one or more candidate event clocks satisfies the one or more conditions, mapping data is generated that maps an actual event clock to timestamps associated with respective frames of the one or more frames of the media item. In some embodiments, for each of the one or more frames within which the actual event clock is identified, generating mapping data that maps the actual event clock to timestamps associated with respective frames of the one or more frames of the media item is performed. Some aspects of generating the mapping data are further described with respect to fig. 3A-3B.
In some embodiments, processing logic may identify annotation content related to the media item. In some embodiments, processing logic may annotate the media item with annotation content based on the mapping data. For example, when rendering given annotation content at a particular time defined with reference to the actual event clock, processing logic may use the mapping data to identify a timestamp corresponding to the particular time. Processing logic may then annotate the media item by associating the annotation content with the frame having the identified timestamp. For example, processing logic may annotate the media item by adding annotation content to the metadata of the frame. In some embodiments, processing logic may provide the media item with the annotation content for presentation at the client device.
In some embodiments, processing logic may analyze the one or more frames to identify one or more candidate event periods within the one or more frames. The term "candidate event period" refers to a portion of a frame, which may or may not represent an actual event period. For example, the candidate event clock may include text (e.g., one or more letters and/or numbers) that is visibly displayed in the frame. The candidate event period may be analyzed to determine whether it is an actual event period used to divide the time of the event. In some embodiments, analyzing the one or more frames to identify one or more candidate event periods within the one or more frames includes performing an optical character recognition operation on the one or more frames to identify text indicating the one or more candidate event periods and location information describing a location of the one or more candidate event periods relative to the one or more frames.
In some embodiments, processing logic may determine whether a candidate event period of the one or more candidate event periods satisfies one or more conditions. In some embodiments, determining whether a candidate event period of the one or more candidate event periods satisfies the one or more conditions may be performed for each of the one or more frames or some of the one or more frames.
In some embodiments, in response to determining that a candidate event period of the one or more candidate event periods satisfies the one or more conditions, processing logic identifies the candidate event period as an actual event period used to divide the event time. In some embodiments, processing logic generates mapping data that maps actual event periods to timestamps associated with respective frames of the one or more frames of the media item. In some embodiments, generating mapping data that maps actual event periods to timestamps associated with respective ones of the one or more frames of the media item is performed in response to determining that a candidate event period of the one or more candidate event periods satisfies the one or more conditions. Some aspects of identifying candidate event periods as actual event periods are further described with respect to fig. 3B.
In some embodiments, processing logic may perform annotation content analysis of a media item when the media item is streamed to one or more users simultaneously. In some embodiments, annotation content analysis is performed to identify annotation content that is relevant to the media item at the particular timestamp(s) associated with the media item. In some embodiments, processing logic provides the annotation content to the client device for presentation with the instance of the media item. Some aspects of performing annotated content analysis of a media item are further described with respect to FIG. 3B.
In some embodiments, the media item is a first media item and the client device is a first client device. In some embodiments, the processing logic generates additional mapping data that maps the actual event clock to timestamps associated with respective frames of the one or more frames of the second media item. Generating mapping data for a second media item may be performed in a similar manner as described herein with respect to generating mapping data for a media item (e.g., a first media item). In some embodiments, processing logic annotates the second media item with annotation content based on the actual event clock and the additional mapping data. In some embodiments, the processing logic provides the second media item with the annotation content for presentation at the second client device.
In some embodiments, the annotated content analysis of the second media item is not performed. For example, the processing logic may determine that annotation content analysis of the second media item is not to be performed, and thus omit performing such annotation content analysis. In some embodiments, a timestamp associated with the first media item and corresponding to a particular time of an actual event clock of the event is different from a timestamp associated with the second media item and corresponding to the same particular time of the actual event clock of the event.
FIG. 2B illustrates a flow diagram of a method 212 for determining whether a candidate event clock satisfies one or more conditions, in accordance with an embodiment of the present disclosure. Method 212 is performed by processing logic that may comprise hardware (circuitry, dedicated logic, etc.), software (e.g., instructions run on a processing device), or a combination thereof. In some embodiments, some or all of the operations of method 212 may be performed by one or more components of system 100 of fig. 1. In some embodiments, one or more operations of method 212 may be performed by mapping module 110 of content delivery platform 114, as described with respect to fig. 1. It may be noted that aspects of FIG. 2B may be illustrated using components described with respect to FIG. 1. It may be noted that one or more of the conditions described with respect to method 212 may be implemented independently or in conjunction with one or more other conditions to determine whether the candidate event clock satisfies the determined condition(s). It may also be noted that the operations of method 212 may be performed on one or more frames of a media item. For purposes of illustration and not limitation, the method 212 will be described as being performed with respect to a single frame.
At block 214, processing logic implementing method 212 generates a score for each of one or more candidate event clocks for a frame of a media item. In some embodiments, the score may indicate a likelihood that a respective candidate event clock of the one or more candidate event clocks is an actual event clock used to time the event. In some embodiments, each frame may have two scores: frame score and total score. The frame score may refer to the score of the candidate event clock determined for a particular frame. The total score may refer to a total or cumulative score of a previous frame score of the candidate event clock and a current frame frequency division of the candidate event clock. The frame score and total score are further described with respect to fig. 4. Unless otherwise described or implied, score as used herein refers to the total score.
At block 216, processing logic determines whether the first condition is satisfied by determining whether any scores of the one or more candidate event clocks (of the frame) satisfy a threshold score. For example, satisfying the threshold score may include determining that the candidate event clock score (e.g., the total score) is greater than or equal to the threshold score. In some embodiments, if the candidate event clock scores do satisfy the threshold scores, processing logic may proceed to block 218 to determine whether the candidate event clocks satisfy a second condition, such as determining which of the candidate event clocks that satisfy the threshold scores has the highest score. In some embodiments, if the candidate event clock score does not satisfy the threshold score, processing logic may repeat the operations performed at block 214 for the next sequential frame of the one or more frames or for frames of additional portions of the media item.
At block 218, processing logic determines whether the second condition is satisfied by selecting the candidate event clock with the highest score. It may be noted that multiple candidate event clocks in a frame may have scores that meet a threshold score in some cases. In some embodiments, selecting the candidate event clock with the highest score is in response to determining that more than one of the scores of the one or more candidate event clocks satisfies the threshold score.
At block 220, processing logic determines whether a third condition is satisfied by determining whether the selected candidate event clock is present within a frame. In some embodiments, if the candidate event clock is presented within a frame, processing logic may determine that the candidate event clock is the actual event clock. It may be noted that in some embodiments, a frame without a candidate event clock may not have a frame score for that frame, but may still have a total score for the candidate event clock for that frame. In some embodiments, if no candidate event clock is present within the frame, processing logic returns to block 214 to process the next frame. Some aspects of determining whether a candidate event clock satisfies one or more conditions will be further described with respect to fig. 4.
It may also be noted that determining whether the candidate event period satisfies one or more conditions may be performed in a similar manner as described for method 212.
Fig. 3A is an example pipeline of operations for mapping an actual event clock to timestamps associated with frames of a media item and providing annotation content to a live streaming media item for presentation at a client device, in accordance with embodiments of the present disclosure. One or more operations of pipeline 300 may be performed by mapping module 110. Although pipeline 300 is illustrated in a particular order, it is understood that some of the operations may be performed in series or in parallel. It may also be noted that the same, fewer, more, or different operations may be performed in some embodiments.
In some embodiments, at query operation 302, the content delivery platform 114 (e.g., the mapping module 110) may query the scheduling server 106 of fig. 1 to identify any live streaming media items that will be or are broadcast (or are currently being broadcast or transmitted) in the future. The content delivery platform 114 may also determine the event type of the live streaming media item by querying the scheduling server 106. The content delivery platform 114 may determine whether the event type of the live streaming media item is an event type of interest by comparing the event type to a record of the event type of interest. The event types may include, for example, different types of sporting events or event types having an event clock. In some embodiments, if the live streaming media item scheduled for transmission is an event type of interest, the content delivery platform 114 may schedule the job to generate mapping data for the live streaming media item once transmission of the live streaming media item has begun.
In some embodiments, at the broadcast operation 304, the content distribution server 107 may transmit (e.g., stream) the live streaming media item to the content delivery platform 114, as described in detail in fig. 1. As described above, portions of the live streaming media item may be streamed to the content delivery platform 114. The content delivery platform 114 may buffer these portions of the live streaming media item and perform the operations described herein (e.g., mapping and annotation of the live streaming media item, etc.).
It may be noted that an event may be streamed as a plurality of media items, such as a plurality of live streaming media items. The plurality of live streaming media items may be a plurality of instances other than the same live streaming media item. For example, multiple live media items of an event may be recorded with different cameras, transmitted by different content distributors, or authored for different regional markets. Multiple live streaming media items of the same event may have different timestamps corresponding to the same actual event clock or actual event period of the event. For example, Spain is conducting a sporting event. The live stream of a sporting event broadcast in the united states may be different than the live stream of the same sporting event broadcast in spain (e.g., different regional versions of the event are provided by the same content distributor). In another example, content distributor a may broadcast one live stream of sporting event X and content distributor B may broadcast another, different live stream of sporting event X. Each of the different live streaming media items for the same event may be sent to content distribution platform 114.
In some embodiments, content delivery platform 114 may perform sampling operation 306. At a sampling operation 306, the content delivery platform 114 may sample portions of the live streaming media item 120. In some embodiments, the content delivery platform 114 may sample a subset of frames of portions of the received live streaming media item. In other embodiments, the content delivery platform 114 may sample all frames of some portion of the received live streaming media item.
In some embodiments, the frame(s) of the live streaming media item may be sampled at a particular frequency. For example, portions of the live streaming media item 120 may be sampled at a frequency of one frame per second. In some embodiments, the frequency may vary depending on the type of event. In some embodiments, the sampling frequency may correspond to a minimum increment of the event clock for a particular event type. For example, for an event type having an event clock that increments in units of 1 second, frames of portions of the live streaming media item may be sampled at one frame per second. For event types having an event clock in units of sub-seconds, frames of some portions of the live streaming media item may be sampled at a sub-second level frequency, or all frames of the live streaming media item may be used. For example, the football game type may have an event clock that increments in seconds, and the frames of a live stream of the football game type may be sampled at 1 frame per second. In another example, a 100-yard sprint event type may have an event clock that increments in milliseconds. Frames of a live stream of the 100-code sprint type may be sampled at a sub-second level frequency.
In some embodiments, the content delivery platform 114 may perform a content analysis operation 308 (e.g., text analysis) on the sampled video frames of the live streaming media item. In some embodiments, at content analysis operation 308, content delivery platform 114 may analyze one or more sample frames to retrieve frame content information describing the content of the frames. In some embodiments, the frame content information may include text within the analyzed video frames or text position information indicating a position of the text relative to the analyzed video frames.
In some embodiments, text and location information for the text may be retrieved using optical character recognition techniques. It may be noted that the optical character recognition technique is used for illustrative purposes and not for limiting purposes. In other implementations, other techniques may be used to retrieve the frame content information. In some embodiments, the optical character recognition operation may convert an image of text into machine-encoded text. For example, an event clock image within a frame of the live streaming media item may be converted to text. In some embodiments, all text images within a frame may be converted to text.
In some embodiments, identifying location information for text may include identifying coordinate identifiers (e.g., four coordinate identifiers) that locate text in a coordinate structure relative to a given frame. For example, a coordinate structure such as an X-axis and a Y-axis may be applied to each frame. The location of the text may be determined within a coordinate structure. The location of the text may be described by a coordinate identifier. In some embodiments, for each frame, one or more of text, location information, and a frame identifier identifying the frame corresponding to the text and location information may be sent to the candidate event clock operation 312. In some embodiments, for frames without text, an indication that no text is found in the frame and frame identifier may be sent to the candidate event clock operation 312.
In some embodiments, content delivery platform 114 may perform candidate event clock operations 312. At candidate event clock operation 312, content delivery platform 114 uses the text and location information provided by content analysis operation 308 to identify one or more candidate event clocks within each or some of the one or more sampled frames. In some embodiments, candidate event clocks may be identified from text and text location information using pattern recognition techniques. Pattern recognition may refer to checking for the presence of some predetermined pattern in a given sequence of values, such as text and/or location information for text.
For example, the event clock often corresponds to a particular format. For example, four digits separated by a colon ("12: 45") are a common format for event clocks. In some embodiments, text retrieved from optical character recognition technology and location information of the text may be used as input and processed through a pattern recognition sub-operation to determine whether the text is to be treated as a candidate event clock (or candidate event period). The pattern recognition sub-operation may determine whether the text and text location information corresponds to (e.g., matches) a particular pattern or format (e.g., event clock pattern) and filter out text and text location information (e.g., noise) that does not correspond to the pattern. If the text and/or text location information matches or corresponds to a pattern, the text may be determined to be a candidate event clock. If the text does not match or correspond to a pattern, the text is not identified as a candidate event clock.
In some embodiments, a particular pattern recognition operation may be selected from a plurality of pattern recognition operations based on the event type. Different event types may have different event clock patterns and time period patterns. The selected pattern recognition operation may detect a particular pattern of a particular event type.
In some embodiments, content delivery platform 114 may perform scoring operation 314 on the candidate event clocks identified at candidate event clock operation 312. The determined candidate event clock and corresponding text position information may be sent from the candidate event clock operation 312 to the scoring operation 314. Content delivery platform 114 performing scoring operation 314 may generate a score for each of the one or more candidate event clocks in each of the one or more sampled frames.
In some embodiments, a particular scoring operation may be selected from a plurality of scoring operations based on the event type. Different event types may have different characteristics. For example, the event clock for a soccer event is expected to increase relative to sequential frames, while the event clock for a American soccer event is expected to decrease. The selected scoring operation may score the candidate event clocks based on a particular characteristic of a particular event type.
In some embodiments, the scoring may be based on one or more criteria (or rules). As described above, the criteria may be based on the type of event. In an example, content delivery platform 114 may determine whether the time of one or more of the candidate event clocks has changed from one frame of the sampled video frame to the next sequential frame. In response to determining that the time of the candidate event clock has changed from one frame to the next sequential frame, content delivery platform 114 may determine the magnitude and direction of the change.
If the magnitude and direction of the change is consistent with an event clock for a particular event type, content delivery platform 114 may positively score the candidate event clock for the corresponding frame (e.g., frame scoring). If the magnitude of the change or the direction of the change is not consistent with an event clock for a particular event type, content delivery platform 114 may negatively score the candidate event clock for the corresponding frame (e.g., frame scoring).
For example, for frame 1, the candidate event clock X is associated with text read as "12: 20". For the next sequential sample frame (i.e., frame 2), the candidate event clock X is associated with the text read as "12: 19". The frame is sampled once per second and a particular event type has an event clock that is inverted in 1 second increments. Content delivery platform 114 may add 5 points to the candidate event clock frame score at frame 2 and store this data as the frame score associated with candidate event clock X at frame 2.
In some embodiments, the scores of the candidate event clocks may be summed with respect to the sequential frames. For example, the total score (e.g., cumulative score) of the candidate event clock X at frame 2 may be the sum of the score of the candidate event clock X at frame 1 (if any) and the score of the candidate event clock X at frame 2. The score for candidate event clock X at frame 3 may be the sum of the scores for candidate event clock X for frame 1, frame 2, and frame 3.
The scores (frame and/or total scores) for each candidate event clock for each sampled frame may be sent to the condition analysis operation 316. Some aspects of the scoring of the candidate event clocks are further described with respect to fig. 4.
In some embodiments, content delivery platform 114 may determine whether the candidate event clock for each of the one or more sampled frames satisfies one or more conditions at condition analysis operation 316. In some embodiments, content delivery platform 114 determines whether any score of the one or more candidate event clocks meets a threshold score at conditional analysis operation 316. For example, satisfying the threshold score may include determining that a candidate event clock score (e.g., a total score) for a particular frame is greater than or equal to the threshold score. In an embodiment, the score of the candidate event clocks for a particular frame corresponds to the total score of the candidate event clocks for the particular frame. In some embodiments, content delivery platform 114 determines whether any score of one or more candidate event clocks for a particular frame meets a threshold score.
For example, there are three candidate event clocks at frame 3: the total scores for candidate event clock X, candidate event clock Y, and candidate event clock Z are 15, 10, and-5, respectively. The threshold score was 5. The scores for both candidate event clock X (15) and candidate event clock Y (10) satisfy the threshold score, while candidate event clock Z does not satisfy the threshold score.
In some embodiments, if any of the candidate event clocks has a total score for a particular frame that meets the threshold score, then those candidate event clock(s) may be evaluated against another condition (e.g., a second condition). In some embodiments, for one or more candidate event clocks having a total score that satisfies a threshold score, content delivery platform 114 may select the candidate event clock having the highest score.
For example, both candidate event clock X (15) and candidate event clock Y (10) for frame 3 satisfy the threshold score. Candidate event clock X has the highest total score 15 compared to the total score of candidate event clock Y (10).
In some embodiments, the candidate event clock with the highest score may be evaluated to determine whether the candidate event clock satisfies another condition (e.g., a third condition). In some embodiments, the third condition determines whether the candidate event clock is present within a respective frame of the one or more frames.
For example, candidate event clock X is the candidate event clock selected for frame 3 because it satisfies the threshold score and has the highest total score for frame 3. Because the total score for a particular candidate event clock may be summed, some frames within the current frame that do not have a candidate event clock may still have the total score for the candidate event clock present in the previous frame. One example of a frame without a candidate event clock may include a commercial inserted into a live streaming media item of an event. The total score for the candidate event clock may be retained from previous frames included in the candidate event clock and filled into subsequent frames that do not include the candidate event clock.
In an embodiment, a candidate event clock is identified as an actual event clock if the candidate event clock satisfies one or more conditions. If the candidate event clock does not satisfy the one or more conditions, the candidate event clock is not identified as the actual event clock.
In the above example, if the candidate event clock X for frame 3 is not within frame 3, the candidate event clock X is not identified as the actual event clock for frame 3. If the candidate event clock X for frame 3 is within frame 3 (and other conditions are met), the candidate event clock X is identified as the actual event clock.
In some embodiments, the actual event clock may be determined using one or more of the above conditions. In other embodiments, different conditions may be used to determine the actual event clock.
In some embodiments, content delivery platform 114 may perform mapping operation 318. At mapping operation 318, the content delivery platform 114 may generate mapping data that maps the actual event clock to timestamps associated with respective frames of the one or more frames of the live streaming media item. As noted, the actual event clock may be used as a reference or reference point for multiple live streaming media items of the same event. In some embodiments, the mapping data may be stored in a record. In an example, the mapping data may identify one or more actual event clocks (e.g., times of the actual event clocks), timestamps of frames of the live streaming media item in which the actual event clocks were identified, and identifiers of the live streaming media items.
In some embodiments, content delivery platform 114 may perform annotated content generation operations 310. As noted with respect to fig. 1, the annotation content generation operation may be performed by a service (e.g., an annotation service), such as a third party service. In some embodiments, the annotated content generation server 108 of fig. 1 may perform the annotated content generation operations 310.
In some embodiments, the annotation content generation operation 310 may receive portions of the live streaming media item (e.g., unsampled) received by the content delivery platform 114. In some embodiments, the annotation content generation operation 310 may receive a sampled frame of the live streaming media item. In some embodiments, the annotated content generation operations 310 may provide annotation information to the content delivery platform 114, where the content delivery platform 114 uses the annotation information to generate the annotated content. In some embodiments, at the annotation content generation operation 310, the annotation content is generated or identified within a frame of the received live streaming media item. In some embodiments, the annotation content may be sent with a range of timestamps within the live streaming media item at which the annotation content may be found. In some embodiments, the annotation content may be transmitted with a range of timestamps indicating a time of the live streaming media item associated with the annotation content. A timestamp may be used with the mapping data to identify the actual event clock for the event associated with the annotation content.
In an example, at the annotated content generation operation 310, the content delivery platform 114 may analyze the live streaming media item to identify relevant segments (e.g., key games) of the live streaming media item for an american football sporting event, such as scoring segments (e.g., games resulting in scores or darts). At an annotation content generation operation 310, a sample frame or sequence of sample frames (e.g., timestamp (s)) containing the relevant segment may be identified. The generated annotation content and/or annotation information may be sent to the live streaming media item annotation operation 322. In some embodiments, content delivery platform 114 may perform annotated content discovery operations 320. In some embodiments, at the annotated content discovery operation 320, the content delivery platform 114 may use the actual event clock (or timestamp received from the annotated content generation operation 310) to identify relevant content, such as event information, that may be used to generate the annotated content or to modify the annotated content received from the annotated content generation operation 310. In some embodiments, content delivery platform 114 may query data store 109 to identify event information related to the time of the actual event clock. In some embodiments, the time of the event clock related to the event information may be mapped to the timestamp(s) of the live streaming media item using mapping data such that the annotation content generated from the event information may be presented with the live streaming media item at the appropriate time.
For example, the data store 109 may store live statistics of an event corresponding to a time of an event clock of the event. For example, during a basketball sporting event, athlete A may receive 20 points at event time 11: 15. The data store 109 can be queried to retrieve event information and use the event information to generate annotation content. For example, the content delivery platform 114 may annotate (e.g., generate an overlay) the live streaming media item to display the event information with the presentation of the live streaming media item.
In some embodiments, the content delivery platform 114 may perform the live streaming media item annotation operation 322. At a live streaming media item annotation operation 322, the content delivery platform 114 may apply the annotation content to one or more live streaming media items.
In some embodiments, the annotation content from the annotation content generation operation 310 can be sent to the live streaming media item annotation operation 322 along with the corresponding timestamp(s) of the live streaming media item to which the annotation content pertains. The annotation content can be mapped to an actual game clock (e.g., time(s) of the actual game clock) using the mapping data.
In some embodiments, multiple live streaming media items of the same event may be processed such that mapping data for the multiple live streaming media items is generated. In some embodiments, a single one of the plurality of live streaming media items of the same event is processed at the annotated content generation operation 310. The timestamps identified at the annotation content generation operation 310 may be used to identify the actual event clocks (e.g., fiducial points) for multiple live streaming media items of the same event. For example, the identified actual event clock may be used with mapping data to identify corresponding timestamps for other ones of the plurality of live streaming media items related to the annotation content. In some embodiments, the annotation content can be applied to other live streaming media items at the corresponding timestamps without performing the annotation content generation operation 310 on the other live streaming media items.
In some embodiments, the content delivery platform 114 may apply the event information received from the annotated content discovery operations 320 (or the annotated content generated from the event information) to one or more live streaming media items of the event. In some embodiments, the event information of the annotated content discovery operation 320 or the annotated content generated from the event information may be used as a supplement or modification to the annotated content received from the annotated content generation operation 310. In some embodiments, the event information of the annotated content discovery operation 320 or the annotated content generated from the event information may be used as annotated content independent of the annotated content generated at the annotated content generation operation 310. In some embodiments, the event information received from the annotated content discovery operation 320 (or the annotated content generated from the event information) includes a corresponding event clock. The mapping data and corresponding event clock information may be used to identify corresponding timestamps for a plurality of live streaming media items, which may be applied to event information or annotation content generated from the event information.
In some embodiments, the content delivery platform 114 may send the annotated live streaming media item(s) to one or more client devices 103A-103Z for presentation with the annotated content. As noted above, live streaming media items received by the content delivery platform 114 from the content distribution server 107 may be buffered for a short period of time. Operations as described with respect to the pipeline 300 may be performed during a buffering period and the annotated live streaming media item may be provided to the client devices 103A-103Z with minimal delay.
Fig. 3B is an example pipeline of operations for mapping actual event periods to timestamps associated with frames of live streaming media items, in accordance with embodiments of the present disclosure. One or more operations of pipeline 350 may be performed by mapping module 110. Although pipeline 350 is illustrated in a particular order, it is understood that some of the operations may be performed in series or in parallel. It may also be noted that the same, fewer, more, or different operations may be performed in some embodiments. It may be noted that the operation of pipeline 350 may be similar to the operation of pipeline 300 of FIG. 3A. In an embodiment, the operations of pipeline 300 of fig. 3A apply to the operations of fig. 3B, unless otherwise described, and are not repeated for clarity.
In some embodiments, content delivery platform 114 may perform candidate event period operation 326. In some embodiments, content delivery platform 114 identifies one or more candidate event periods within one or more sampling frames at candidate event period operation 326. In some embodiments, pattern recognition may be used to identify candidate event periods from text identified within one or more sample frames. For example, the event period may correspond to a particular pattern. For example, the word "Quarter" (or its abbreviation) followed by a colon and then a number (Quarter:1) may be a pattern of event periods. In some embodiments, the text retrieved from the content analysis operation 308 and the location information of the text may be used as input to a pattern recognition sub-operation of the candidate event period operation 326. The particular pattern recognition sub-operation may be selected from a plurality of pattern recognition sub-operations based on an event type of the live streaming media item. The pattern recognition sub-operation may determine whether the text (and/or location information of the text) corresponds to a particular pattern (e.g., an event period pattern) and filter out text and text location information (e.g., noise) that does not correspond to the particular pattern. In some embodiments, in response to determining that the text (and/or text location information) corresponds to a particular pattern, the text may be identified as a candidate event period.
In some embodiments, content delivery platform 114 may perform scoring operation 328. The determined candidate event period and corresponding location information may be sent from the candidate event period operation 326 to the scoring operation 328. Content delivery platform 114 performing scoring operation 328 may generate a score for each of the one or more candidate event time periods for each of the one or more sampled frames.
In some embodiments, a particular scoring operation may be selected from a plurality of scoring operations based on the event type. Different event types may have different characteristics. For example, the event period of a soccer event may be divided into the first half and the second half, while the event period of an american soccer event may be divided into 4 festivals. The selected scoring operation may score the candidate event periods based on a particular characteristic of a particular event type.
In some embodiments, the scoring may be based on one or more criteria (e.g., rules). As described above, the criteria may be based on the type of event. In an example, content delivery platform 114 may determine whether one or more of the candidate event periods have changed from one frame of the sampled video frame to the next sequential frame. In response to determining that the candidate event period has changed from one frame to the next sequential frame, content delivery platform 114 may determine the magnitude and direction of the change. If the magnitude of the change and the direction of the change coincide with an event period for a particular event type, content delivery platform 114 may score the candidate event period positively (e.g., frame scoring). If the magnitude of the change or the direction of the change is not consistent with an event period for a particular event type, content delivery platform 114 may negatively score the candidate event period (e.g., frame score). For example, for frame 1, the candidate event period X is associated with text read as "quater: 2". For the next sequential frame (i.e., frame 2), the candidate event period X is associated with text read as "quater: 3". For an event type having 4 sections, a change from "Quarter: 2" to "Quarter: 3" may be determined to correspond to the event slot pattern, and frame 2 may be positively scored (e.g., frame scoring).
In some embodiments, the candidate event period scores may be summed with respect to sequential frames. For example, the total score for candidate event period X at frame 2 may be the sum of the scores for candidate event period a at frame 1 and frame 2.
In some embodiments, content delivery platform 114 may perform mapping operation 330. At mapping operation 330, the content delivery platform 114 may generate mapping data that maps the actual event period to a timestamp associated with a respective frame of the one or more frames of the live streaming media item. As noted, the actual event period may be used as a reference or reference point for multiple live streaming media items of the same event. In some embodiments, the mapping data may be stored in a record. In an example, the mapping data may identify one or more actual event slots, timestamps of the live streaming media items for which the actual event slots have been identified within the corresponding frames, and identifiers of the live streaming media items.
In some embodiments, the mapping data generated by mapping operation 330 may be combined with the mapping data generated in mapping operation 318 in fig. 3A. For example, the actual event clock may be read as "10: 45" and the event period read as "Quarter: 3". The mapping data may associate the actual event clock, the actual event period, timestamps of the live streaming media item for the actual event clock and the actual event period that have been identified within the corresponding frame, and an identifier of the live streaming media item.
Fig. 4 is an example block diagram 400 illustrating scoring operations for generating scores (e.g., frame scores and total scores) for candidate event clocks in accordance with an embodiment of the present disclosure. In some embodiments, the scoring operation of diagram 400 may be similar to scoring operation 314 described with respect to fig. 3A. For clarity, the scoring operation for the candidate event clocks is described with respect to FIG. 4. It is to be appreciated that the scoring operations of graph 400 can be applied to the scoring of candidate event periods.
The diagram 400 illustrates sample frames 402A-402Z (generally referred to as frames 402). It should be noted that the sample frame 402 may include the same, more, or fewer video frames. In some embodiments, the sampled video frames 402 may be ordered based on a timestamp associated with each sampled frame 402. Some of the sample frames 402 are shown with candidate event clocks. Each candidate event clock is associated with a corresponding frame score and a corresponding total score.
For example, the candidate event clock a in the sample frame 402A has a frame score of 0 and a total score of 0. In sample frame 402B, the candidate event clock a has a frame score of 5 and a total score of 5. It is noted that the following numbers, dimensions, equations are used for illustrative purposes and not for limiting purposes.
As shown in graph 400, some of the sample frames 402 include two candidate event clocks: candidate event clock a and candidate event clock B. Both candidate event clocks are illustrated with a corresponding frame score and a corresponding total score. The scoring operation generates a frame score for each candidate event clock based on one or more criteria, as described in fig. 3A. The one or more criteria selected may be based on a particular event type. In the diagram 400, the event type is a basketball event type, and the corresponding one or more criteria for scoring may be for the basketball event type.
In one example, the criteria includes analyzing a change in the candidate event clock relative to the sequentially sampled frames. Frame 402A is the initial frame in which candidate event clock a and candidate event clock B are first identified. The frame score for each of the candidate event clocks a and B is initialized to 0 and the cumulative score is also initialized to 0. From frame 402A to frame 402B, candidate event clock A changes from "12: 00" to "11: 59" and candidate event clock B changes from "2: 32" to "7: 53". As described above, the event type in graph 400 is a basketball game type, and if a frame is sampled at 1 frame per second, the event clock is expected to be reduced by 1 second for sequentially sampled frames. At frame 401B, the scoring operation assigns a positive frame score to the candidate event clock a because the candidate event clock a is reduced by 1 second from frame 402A to frame 402B (e.g., according to a standard). At frame 402B, the overall score of the candidate event clock a is 5. At frame 402B, the scoring operation assigns a negative frame score to candidate event clock B because candidate event clock B increases from frame 402A to frame 402B, thereby failing the criteria. At frame 402B, the overall score of the candidate event clock B is-5.
In some embodiments, the scoring criteria may include whether there is a candidate event clock score with respect to sequentially sampled frames. One example of a candidate event clock not being presented within a frame is during commercial breaks.
At frame 402C, the presentation of the commercial is paused and the presentation of the basketball game is temporarily stopped. As illustrated, candidate event clock a and candidate event clock B are not present within frame 402C. Since both candidate event clock a and candidate event clock C are not present within frame 402C, no frame score is assigned to candidate event clock a and candidate event clock B at frame 402C. The total score for candidate event clock a and candidate event clock B is passed along and is constant for the duration of the commercial break. It may be noted that frames 402D to 402Y represent frames of commercials and are omitted for clarity.
From frame 402B to frame 402Z, candidate event clock A changes from "11: 59" to "11: 58" and candidate event clock B changes from "7: 53" to "1: 02". Candidate event clock a and candidate event clock B of frame 402Z are compared to the corresponding candidate event clocks of frame 402B (rather than the immediately preceding sample frame) because frame 402B is the most recent frame in which candidate event clock a and candidate event clock are present. At frame 420Z, the scoring operation assigns a positive frame score to the candidate event clock a because the candidate event clock a is reduced by 1 second from frame 402B to frame 402Z (e.g., according to criteria for event type). At frame 420Z, the frame score for candidate event clock a is 5 and the overall score for candidate event clock a is 10. At frame 420Z, the scoring operation assigns a negative frame score to the candidate event clock B because the candidate event clock B increases from frame 402B to frame 402Z, thereby not meeting the criteria for event type. At frame 420Z, the frame score for candidate event clock B is-5 and the overall score for candidate event clock B is-10.
Fig. 5 is a flowchart illustrating an example of presenting a live streaming media item with annotated content at a client device according to an embodiment of the disclosure.
A Graphical User Interface (GUI)500 of the client device shows the presentation of the live streaming media item 504. The live streaming media item 504 is of the basketball game type. Below the live streaming media item 504 are annotation content 502A, 502B, and 502C (commonly referred to as "annotation content 502").
The annotation content 502 is an example of a relevant segment of the live streaming media item. For example, annotation content 502A corresponds to a relevant segment of a basketball player Kevin D receiving an air relay shot at section 4 (e.g., event period) at event clock 2: 25. As illustrated, the annotation content 502B corresponds to a relevant segment of a basketball player's Kevin L shooting a bipartite ball. The annotation content 502C corresponds to the relevant segment of the basketball player Lebron J cap.
The relevant segments may be examples of the annotation content identified by the annotation content generation server 108 of FIG. 1 or the annotation content generation operation 310 of FIG. 3A. For example, the annotation content 502A-502C can be selected to display a video of the relevant segment at the GUI 500.
Some of the annotation content 502A may be an example of annotation information identified from the data store 109 of fig. 1 or the annotation content discovery operation 320 of fig. 3A. For example, the athlete's name, game type, and athlete's photograph may be examples of annotation information that has been identified at data store 109. The annotation information from the data store 109 has been added to the annotated content from the annotated content generation server 108 to generate the annotated content 502.
The annotation content 502 is provided as an illustration and not a limitation. In other embodiments, the annotation content may be different or presented differently. For example, the annotation content may be added directly to the live streaming media item for display in a particular frame. In some embodiments, the annotation content may be presented in a media viewer with the live streaming media item. In some embodiments, the annotation may be overlaid on the live streaming media item in the media view.
Fig. 6 is a block diagram illustrating an exemplary computer system 600, in accordance with embodiments of the present disclosure. Computer system 600 executes one or more sets of instructions that cause the machine to perform any one or more of the methodologies discussed herein. The set of instructions, etc., may refer to instructions that, when executed by the computer system 600, cause the computer system 600 to perform one or more operations of the mapping module 110. The machine may operate in the capacity of a server or a client device in a client-server network environment, or as a peer machine in a peer-to-peer (or distributed) network environment. The machine may be a Personal Computer (PC), a tablet PC, a set-top box (STB), a Personal Digital Assistant (PDA), a mobile telephone, a network appliance, a server, a network router, switch or bridge, or any machine capable of executing a set of instructions (sequential or otherwise) that specify actions to be taken by that machine. Additionally, while only a single machine is illustrated, the term "machine" shall also be taken to include any collection of machines that individually or jointly execute a set of instructions to perform any one or more of the methodologies discussed herein.
The computer system 600 includes a processing device 602, a main memory 604 (e.g., Read Only Memory (ROM), flash memory, Dynamic Random Access Memory (DRAM) such as synchronous DRAM (sdram) or Rambus DRAM (RDRAM), etc.), a static memory 606 (e.g., flash memory, Static Random Access Memory (SRAM), etc.), and a data storage device 616 that communicate with each other via a bus 608.
The computer system 600 may also include a network interface device 622, the network interface device 622 providing communication with other machines through a network 618, such as a Local Area Network (LAN), an intranet, an extranet, or the internet. Computer system 600 may also include a display device 610 (e.g., a Liquid Crystal Display (LCD) or a Cathode Ray Tube (CRT)), an alphanumeric input device 612 (e.g., a keyboard), a cursor control device 614 (e.g., a mouse), and a signal generation device 620 (e.g., a speaker).
The data storage device 616 may include a non-transitory computer-readable storage medium 624 having stored thereon a set of instructions of the system architecture 100 or mapping module 110 that implement any one or more of the methods or functions described herein. The set of instructions of system architecture 100 or mapping module 110 may also reside, completely or at least partially, within the main memory 604 and/or within the processing device 602 during execution thereof by computer system 600, main memory 604, and processing device 602, which also constitute computer-readable storage media. The set of instructions may also be transmitted or received over the network 618 via the network interface device 622.
While the example of the computer-readable storage medium 624 is shown as a single medium, the term "computer-readable storage medium" may include a single medium or multiple media (e.g., a centralized or distributed database, and/or associated caches and servers) that store the sets of instructions. The term "computer-readable storage medium" may include any medium that is capable of storing, encoding or carrying a set of instructions for execution by the machine and that cause the machine to perform any one or more of the methodologies of the present disclosure. The term "computer readable storage medium" can include, but is not limited to, solid-state memories, optical media, and magnetic media.
In the preceding description, numerous details are set forth. However, it will be apparent to one having ordinary skill in the art having had the benefit of the present disclosure that the present disclosure may be practiced without these specific details. In some instances, well-known structures and devices are shown in block diagram form, rather than in detail, in order to avoid obscuring the present disclosure.
Some portions of the detailed description are presented in terms of algorithms and symbolic representations of operations on data bits within a computer memory. These algorithmic descriptions and representations are the means used by those skilled in the data processing arts to most effectively convey the substance of their work to others skilled in the art. An algorithm, as generally contemplated herein, is a self-consistent sequence of operations leading to a desired result. The operations are those requiring physical manipulations of physical quantities. Usually, though not necessarily, these quantities take the form of electrical or magnetic signals capable of being stored, transferred, combined, compared, and otherwise manipulated. It has proven convenient at times, principally for reasons of common usage, to refer to these signals as bits, values, elements, symbols, characters, terms, numbers, or the like.
It should be borne in mind, however, that all of these and similar terms are to be associated with the appropriate physical quantities and are merely convenient labels applied to these quantities. Unless specifically stated otherwise, it is appreciated that throughout the description, discussions utilizing terms such as "generating," "analyzing," "determining," "confirming," "providing," "adding.. annotating," "determining," "selecting," or the like, refer to the action and processes of a computer system, or similar electronic computing device, that manipulates and transforms data represented as physical (electronic) quantities within the computer system's memories or registers into other data similarly represented as physical quantities within the computer system memories or registers or other such information storage, transmission or display devices.
The present disclosure also relates to an apparatus for performing the operations herein. The apparatus may be specially constructed for the required purposes, or it may comprise a general purpose computer selectively enabled or reconfigured by a computer program stored in the computer. Such a computer program may be stored in a computer readable storage medium, such as, but is not limited to, any type of disk including floppy disks, optical disks, compact disk read-only memories (CD-ROMs), magnetic-optical disks, read-only memories (ROMs), Random Access Memories (RAMs), erasable programmable read-only memories (EPROMs), electrically erasable programmable read-only memories (EEPROMs), magnetic or optical cards, or any type of media suitable for storing electronic instructions.
The word "example" or "exemplary" is used herein to mean serving as an example, instance, or illustration. Any aspect or design described herein as "exemplary" or "exemplary" is not necessarily to be construed as preferred or advantageous over other aspects or designs. Rather, use of the word "example" or "exemplary" is intended to present concepts in a concrete fashion. As used in this application, the term "or" is intended to mean an inclusive "or" rather than an exclusive "or". That is, unless specified otherwise or clear from context, "X includes a or B" is intended to mean any of the naturally inclusive permutations. That is, if X comprises A; x comprises B; or X includes both A and B, then "X includes A or B" is satisfied under either of the foregoing circumstances. In addition, the articles "a" and "an" as used in this application and the appended claims may generally be construed to mean "one or more" unless specified otherwise or clear from context to be directed to a singular form. Furthermore, the use of the terms "embodiment" or "one embodiment" or "an implementation" or "one implementation" throughout is not intended to mean the same embodiment or implementation unless so described. The terms "first," "second," "third," "fourth," and the like as used herein are labels intended to distinguish between different elements and may not necessarily have a ordinal meaning according to their numerical designation.
For simplicity of explanation, the methodologies herein are depicted and described as a series of acts or operations. However, acts in accordance with the present disclosure may occur in various orders and/or concurrently, and with other acts not presented and described herein. Moreover, not all illustrated acts may be required to implement a methodology in accordance with the disclosed subject matter. In addition, those skilled in the art will understand and appreciate that the methodologies could alternatively be represented as a series of interrelated states via a state diagram or events. Additionally, it should be appreciated that the methodologies disclosed in this specification are capable of being stored on an article of manufacture to facilitate transporting and transferring such methodologies to computing devices. The term article of manufacture, as used herein, is intended to encompass a computer program accessible from any computer-readable device or storage medium.
In additional embodiments, one or more processing devices for performing the operations of the above-described embodiments are disclosed. Additionally, in embodiments of the present disclosure, a non-transitory computer-readable storage medium stores instructions for performing the operations of the described embodiments. Also in other embodiments, systems for performing the operations of the described embodiments are also disclosed.
It is to be understood that the above description is intended to be illustrative, and not restrictive. Many other embodiments will be apparent to those of skill in the art upon reading and understanding the above description. The scope of the disclosure may, therefore, be determined with reference to the appended claims, along with the full scope of equivalents to which such claims are entitled.
Claims (20)
1. A method, comprising:
receiving one or more frames sampled from a media item of an event that is simultaneously streamed to one or more users of a content delivery platform;
analyzing, by a processing device, the one or more frames to identify one or more candidate event clocks within the one or more frames;
for each of the one or more frames,
determining whether a candidate event clock of the one or more candidate event clocks satisfies one or more conditions; and
in response to determining that the candidate event clock of the one or more candidate event clocks satisfies the one or more conditions, identifying the candidate event clock as an actual event clock for timing the event, and generating mapping data that maps the actual event clock to timestamps associated with respective frames of the one or more frames of the media item.
2. The method of claim 1, further comprising:
identifying annotation content associated with the media item;
annotating the media item with the annotation content based on the mapping data; and
providing the media item with the annotation content for presentation at a client device.
3. The method of claim 1 or claim 2, wherein determining whether the candidate event clock of the one or more candidate event clocks satisfies the one or more conditions comprises:
for each of the one or more frames,
generating a score for each of the one or more candidate event clocks, the score indicating a likelihood that a respective candidate event clock of the one or more candidate event clocks is the actual event clock used to time the event; and
determining whether any of the scores of the one or more candidate event clocks satisfies a threshold score.
4. The method of claim 3, wherein determining whether the candidate event clock of the one or more candidate event clocks satisfies the one or more conditions further comprises:
in response to determining that more than one of the scores of the one or more candidate event clocks satisfies the threshold score, selecting a candidate event clock having a highest score.
5. The method of claim 4, wherein determining whether the candidate event clock of the one or more candidate event clocks satisfies the one or more conditions further comprises:
determining whether the candidate event clock with the highest score is present within a respective frame of the one or more frames.
6. The method of any of the preceding claims, further comprising:
causing annotation content analysis of the media item as it is simultaneously streamed to the one or more users, the analysis to identify annotation content related to the media item at a particular timestamp associated with the media item;
identifying the actual event clock of the event using the timestamp and the mapping data associated with the media item; and
providing the annotation content to a client device for presentation with the instance of the media item.
7. The method of claim 6, wherein the media item is a first media item, wherein the client device is a first client device, the method further comprising:
generating additional mapping data that maps the actual event clock to timestamps associated with respective ones of one or more frames of a second media item;
annotating the second media item with the annotation content based on the actual event clock and the additional mapping data; and
providing the second media item with the annotation content for presentation at a second client device.
8. The method of claim 7, wherein no annotated content analysis is performed on the second media item, and wherein a timestamp associated with the first media item and corresponding to a particular time of the actual event clock of the event is different from a timestamp associated with the second media item and corresponding to the same particular time of the actual event clock of the event.
9. The method according to any one of the preceding claims, comprising:
analyzing the one or more frames to identify one or more candidate event periods within the one or more frames;
for each of the one or more frames,
determining whether a candidate event period of the one or more candidate event periods satisfies one or more conditions; and
in response to determining that the candidate event period of the one or more candidate event periods satisfies the one or more conditions, identifying the candidate event period as an actual event period that is used to divide the time of the event, and generating mapping data that maps the actual event period to timestamps associated with respective frames of the one or more frames of the media item.
10. The method of any of the preceding claims, wherein analyzing the one or more frames to identify the one or more candidate event clocks within the one or more frames comprises:
performing an optical character recognition operation on the one or more frames to recognize i) text indicating the one or more candidate event clocks, and ii) position information describing a position of the one or more candidate event clocks relative to the one or more frames.
11. A system, comprising:
a memory; and
a processing device, coupled to the memory, to:
receiving one or more frames sampled from a media item of an event that is simultaneously streamed to one or more users of a content delivery platform;
analyzing the one or more frames to identify one or more candidate event clocks within the one or more frames;
for each of the one or more frames,
determining whether a candidate event clock of the one or more candidate event clocks satisfies one or more conditions; and
in response to determining that the candidate event clock of the one or more candidate event clocks satisfies the one or more conditions, identifying the candidate event clock as an actual event clock for timing the event, and generating mapping data that maps the actual event clock to timestamps associated with respective frames of the one or more frames of the media item.
12. The system of claim 11, the processing device further to:
identifying annotation content associated with the media item;
annotating the media item with the annotation content based on the mapping data; and
providing the media item with the annotation content for presentation at a client device.
13. The system of claim 11 or claim 12, wherein to determine whether the candidate event clock of the one or more candidate event clocks satisfies the one or more conditions, the processing device is to:
for each of the one or more frames,
generating a score for each of the one or more candidate event clocks, the score indicating a likelihood that a respective candidate event clock of the one or more candidate event clocks is the actual event clock used to time the event; and
determining whether any of the scores of the one or more candidate event clocks satisfies a threshold score.
14. The system of claim 13, wherein to determine whether the candidate event clock of the one or more candidate event clocks satisfies the one or more conditions, the processing device is further to:
in response to determining that more than one of the scores of the one or more candidate event clocks satisfies the threshold score, selecting a candidate event clock having a highest score.
15. The system of claim 14, wherein to determine whether the candidate event clock of the one or more candidate event clocks satisfies the one or more conditions, the processing device is further to:
determining whether the candidate event clock with the highest score is present within a respective frame of the one or more frames.
16. The system of any of claims 11 to 15, the processing device to:
analyzing the one or more frames to identify one or more candidate event periods within the one or more frames;
for each of the one or more frames,
determining whether a candidate event period of the one or more candidate event periods satisfies one or more conditions; and
in response to determining that the candidate event period of the one or more candidate event periods satisfies the one or more conditions, identifying the candidate event period as an actual event period that is used to divide the time of the event, and generating mapping data that maps the actual event period to timestamps associated with respective frames of the one or more frames of the media item.
17. A non-transitory computer-readable medium comprising instructions that, in response to execution by a processing device, cause the processing device to perform operations comprising:
receiving one or more frames sampled from a media item of an event that is simultaneously streamed to one or more users of a content delivery platform;
analyzing, by a processing device, the one or more frames to identify one or more candidate event clocks within the one or more frames;
for each of the one or more frames,
determining whether a candidate event clock of the one or more candidate event clocks satisfies one or more conditions; and
in response to determining that the candidate event clock of the one or more candidate event clocks satisfies the one or more conditions, identifying the candidate event clock as an actual event clock for timing the event, and generating mapping data that maps the actual event clock to timestamps associated with respective frames of the one or more frames of the media item.
18. The non-transitory computer readable medium of claim 17, further comprising:
identifying annotation content associated with the media item;
annotating the media item with the annotation content based on the mapping data; and
providing the media item with the annotation content for presentation at a client device.
19. The non-transitory computer-readable medium of claim 17 or claim 18, further comprising:
causing annotation content analysis of the media item as it is simultaneously streamed to the one or more users, the analysis to identify annotation content related to the media item at a particular timestamp associated with the media item;
identifying the actual event clock of the event using the timestamp and the mapping data associated with the media item; and
providing the annotation content to a client device for presentation with the instance of the media item.
20. The non-transitory computer-readable medium of claim 19, wherein the media item is a first media item, wherein the client device is a first client device, the method further comprising:
generating additional mapping data that maps the actual event clock to timestamps associated with respective ones of one or more frames of a second media item;
annotating the second media item with the annotation content based on the actual event clock and the additional mapping data; and
providing the second media item with the annotation content for presentation at a second client device.
Applications Claiming Priority (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
PCT/US2019/045155 WO2021025681A1 (en) | 2019-08-05 | 2019-08-05 | Event progress detection in media items |
Publications (1)
Publication Number | Publication Date |
---|---|
CN113287103A true CN113287103A (en) | 2021-08-20 |
Family
ID=67667932
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN201980087636.5A Pending CN113287103A (en) | 2019-08-05 | 2019-08-05 | Event progress detection in media items |
Country Status (4)
Country | Link |
---|---|
US (2) | US11553219B2 (en) |
EP (1) | EP3794465A1 (en) |
CN (1) | CN113287103A (en) |
WO (1) | WO2021025681A1 (en) |
Families Citing this family (1)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
JP7142315B2 (en) * | 2018-09-27 | 2022-09-27 | パナソニックＩｐマネジメント株式会社 | Explanation support device and explanation support method |
Family Cites Families (13)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
JP2016506150A (en) | 2012-12-18 | 2016-02-25 | トムソン ライセンシングＴｈｏｍｓｏｎ Ｌｉｃｅｎｓｉｎｇ | Method, apparatus and system for indexing content based on time information |
WO2015039888A1 (en) * | 2013-09-20 | 2015-03-26 | Koninklijke Kpn N.V. | Correlating timeline information between media streams |
US9583149B2 (en) * | 2014-04-23 | 2017-02-28 | Daniel Stieglitz | Automated video logging methods and systems |
US20150312652A1 (en) * | 2014-04-24 | 2015-10-29 | Microsoft Corporation | Automatic generation of videos via a segment list |
US10433030B2 (en) * | 2014-10-09 | 2019-10-01 | Thuuz, Inc. | Generating a customized highlight sequence depicting multiple events |
US9646387B2 (en) * | 2014-10-15 | 2017-05-09 | Comcast Cable Communications, Llc | Generation of event video frames for content |
US11544084B2 (en) * | 2014-12-08 | 2023-01-03 | Sportsmedia Technology Corporation | Methods and systems for analyzing and presenting event information |
US9578351B1 (en) * | 2015-08-28 | 2017-02-21 | Accenture Global Services Limited | Generating visualizations for display along with video content |
US10522186B2 (en) * | 2017-07-28 | 2019-12-31 | Adobe Inc. | Apparatus, systems, and methods for integrating digital media content |
US10237512B1 (en) | 2017-08-30 | 2019-03-19 | Assist Film, LLC | Automated in-play detection and video processing |
US11172248B2 (en) * | 2019-01-22 | 2021-11-09 | Tempus Ex Machina, Inc. | Systems and methods for customizing and compositing a video feed at a client device |
US20210306391A1 (en) * | 2020-03-31 | 2021-09-30 | Atrium Sports, Inc. | Data Capture, Dissemination and Enhanced Visual Overlay |
US11683538B2 (en) * | 2020-09-03 | 2023-06-20 | Meta Platforms, Inc. | Live group video streaming |
-
2019
- 2019-08-05 CN CN201980087636.5A patent/CN113287103A/en active Pending
- 2019-08-05 US US17/419,243 patent/US11553219B2/en active Active
- 2019-08-05 WO PCT/US2019/045155 patent/WO2021025681A1/en unknown
- 2019-08-05 EP EP19756069.1A patent/EP3794465A1/en active Pending
-
2023
- 2023-01-09 US US18/094,879 patent/US20230164369A1/en active Pending
Also Published As
Publication number | Publication date |
---|---|
EP3794465A1 (en) | 2021-03-24 |
US11553219B2 (en) | 2023-01-10 |
US20230164369A1 (en) | 2023-05-25 |
US20220159319A1 (en) | 2022-05-19 |
WO2021025681A1 (en) | 2021-02-11 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
CN110574387B (en) | Recommending live streaming content using machine learning | |
US10714145B2 (en) | Systems and methods to associate multimedia tags with user comments and generate user modifiable snippets around a tag time for efficient storage and sharing of tagged items | |
US10777229B2 (en) | Generating moving thumbnails for videos | |
US9002175B1 (en) | Automated video trailer creation | |
US10390067B1 (en) | Predicting video start times for maximizing user engagement | |
US9870581B1 (en) | Content item element marketplace | |
US20220107978A1 (en) | Method for recommending video content | |
US10452891B2 (en) | Multi-step sequence alignment | |
CN111368141B (en) | Video tag expansion method, device, computer equipment and storage medium | |
US20230164369A1 (en) | Event progress detection in media items | |
KR20160031003A (en) | Determining a likelihood and degree of derivation among media content items | |
US11977599B2 (en) | Matching video content to podcast episodes | |
US20230276109A1 (en) | Curating non-fungible token collections in relation to audiovisual content | |
WO2023059653A9 (en) | Matching video content to podcast episodes | |
Yang et al. | Serving a video into an image carousel: system design and implementation |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
PB01 | Publication | ||
PB01 | Publication | ||
SE01 | Entry into force of request for substantive examination | ||
SE01 | Entry into force of request for substantive examination |