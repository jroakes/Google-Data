METHOD AND APPARATUS FOR ANTENNA ARRAY CHANNEL
FEEDBACK
BACKGROUND
1. Field
[0001] The present disclosure is directed to a method and apparatus for channel feedback in a wireless system with antenna arrays. More particularly, the present disclosure is directed to feedback from a wireless terminal to a base station.
2. Introduction
[0002] A Multi-Input Multi-Output (MIMO) communication system uses a plurality of channels in a spatial area. Antenna arrays that have multiple transmission antennas can increase the capacity of data transmission through MIMO transmission schemes.
[0003] Two types of MIMO transmission schemes can be employed. Single- user MIMO (SU-MIMO) involves transmitting at least one data stream to a single user over a time frequency resource. Multi-user MIMO (MU-MIMO) involves transmitting at least one data stream per user to at least two co- scheduled users over a single, i.e., same time frequency, resource.
[0004] In a MIMO communication system, base stations and mobile stations use codebooks to enable channel state information feedback. The codebooks may additionally be used for precoding the information streams at the transmitter. Elements of a codebook are stored in the base stations and mobile stations and can be used to quantize the spatial channel state information for feedback. Each codebook element may be a vector or a matrix depending on the dimension of a channel matrix and the number of data streams that can be supported. Each mobile station selects one matrix or vector corresponding to channel information from among matrices or vectors included in the codebook according to a channel formed between the base station and the mobile station.
Each base station uses a codebook to recognize channel information by receiving the matrix or vector selected by each mobile station. The selected matrix or vector may be used for beamforming or, more generally, precoding the one or more data streams prior to transmission by the base station using multiple antennas. Precoding is used to emit multiple data streams from the antenna array appropriate weightings such that the link throughput is maximized.
[0005] Typically, MIMO systems support a maximum of eight Channel State Information Reference Signal (CSI-RS) ports for determining channel state information feedback. However, base station antenna arrays may employ more than eight antenna elements, which exceed the number of CSI-RS antenna ports available for computing feedback at the wireless terminal. Furthermore, large antenna arrays may require additional Channel State Information (CSI) and precoding matrix signaling.
BRIEF DESCRIPTION OF THE DRAWINGS
[0006] In order to describe the manner in which advantages and features of the disclosure can be obtained, a more particular description of the disclosure briefly described above will be rendered by reference to specific embodiments thereof which are illustrated in the appended drawings. These drawings depict only typical embodiments of the disclosure and are not therefore to be considered to be limiting of its scope.
[0007] FIG. 1 is an example block diagram of a system according to a possible embodiment;
[0008] FIG. 2 is an example block diagram of a base station according to a possible embodiment;
[0009] FIG. 3 is an example block diagram of an antenna array at a base station according to a possible embodiment;
[0010] FIG. 4 is an exemplary block diagram of beamforming performed by a base station;
[0011] FIG. 5 is an example block diagram of a wireless communication device according to a possible embodiment;
[0012] FIG. 6 is an example flowchart illustrating the operation of a wireless communication device according to a possible embodiment;
[0013] FIG. 7 is an example flowchart illustrating the operation of a wireless communication device according to a possible embodiment; and
[0014] FIG. 8 is an example flowchart illustrating the operation of a wireless communication device according to a possible embodiment.
DETAILED DESCRIPTION
[0015] Embodiments provide a method and apparatus for antenna array channel feedback. Embodiments can provide proper channel feedback for the number of beams that may be sent from a base station antenna array. Embodiments can also provide Channel State Information (CSI) and precoding matrix signaling for large antenna arrays.
[0016] According to one example embodiment, a method can include receiving, at a wireless terminal, a first set of channel state information reference signals on resource elements, and a second set of channel state information reference signals on resource elements. The method can include determining, by the wireless terminal, a first precoding matrix based on the received first set of channel state information reference signals; where the first precoding matrix is chosen from a first codebook. The method can include determining, by the wireless terminal, a second precoding matrix based on the second set of channel state information reference signals, where the second precoding matrix is chosen from a second codebook that is different than the first codebook. The method can include transmitting, by the wireless terminal, a representation of at least one of the first precoding matrix and the second precoding matrix.
[0017] According to another example embodiment, the method can include receiving, at a wireless terminal, a set of channel state information reference signals. The method can include determining, by the wireless terminal, based on the received set of channel state information reference signals, a precoding matrix that is a product of a first precoding matrix and a second precoding matrix. The first precoding matrix can have at least a representation in terms of a representation matrix, where the representation matrix can be based on a matrix selected from a first codebook. The second precoding matrix can be based on a second codebook. The method can include transmitting, by the wireless terminal, a representation of at least one of the first precoding matrix and the second precoding matrix.
[0018] According to another example embodiment, the method can include receiving, at a wireless terminal, a set of channel state information reference signals. The method can include determining, by the wireless terminal, a precoding matrix based on the received set of channel state information reference signals, where the precoding matrix has a representation in terms of three components. The first component of the three components can be determined from a first set of vectors. The second component of the three components can be determined from a first set of parameters. The third component of the three components can be determined from a second set of parameters, where the second set of parameters is a set of unit-magnitude scalars. The method can include transmitting, by the wireless terminal, a representation of at least one of the first component, the second component, and the third component.
[0019] FIG. 1 is an example block diagram of a system 100 according to a possible embodiment. The system 100 can include a User Equipment (UE) 110, an eNodeB (eNB) 120, a network 130, and a network controller 140. The UE
110 may be a wireless terminal. For example, the UE 1 10 can be a wireless communication device, a wireless telephone, a cellular telephone, a personal digital assistant, a pager, a personal computer, a selective call receiver, a tablet
computer, or any other device that is capable of sending and receiving communication signals on a network including a wireless network. The eNB
120 may be a base station. For example, the eNB 120 can be a cellular base station, an access point (AP), access terminal (AT), relay node, home eNB, pico eNB, femto eNB, Transmission Point (TP), or can be any other device that provides access between a wireless communication device and a network. The eNB 120 communicates with the terminal 110 using network 130
communication signals or other communication signals.
[0020] The network controller 140 can be connected to the network 130. The network controller 140 may be located at a base station, at a radio network controller, or anywhere else on the network 130. The network 130 may include any type of network that is capable of sending and receiving signals, such as wireless signals. For example, the network 130 may include a wireless communication network, a cellular telephone network, a Time Division
Multiple Access (TDMA)-based network, a Code Division Multiple Access
(CDMA)-based network, an Orthogonal Frequency Division Multiple Access
(OFDMA)-based network, a Long Term Evolution (LTE) network, a 3rd
Generation Partnership Project (3GPP)-based network, a satellite
communications network, and other communications systems. Furthermore, the network 130 may include more than one network and may include a plurality of different types of networks. Thus, the network 130 may include a plurality of data networks, a plurality of telecommunications networks, a combination of data and telecommunications networks and other like communication systems capable of sending and receiving communication signals.
[0021] FIG. 2 is an example block diagram of a base station 200, such as the eNB 120, according to a possible embodiment. The base station 200 may include a controller 210, a memory 220, a database interface 230, a transceiver
240, Input/Output (I/O) device interface 250, a network interface 260, and a bus 270. The base station 200 may implement any operating system, such as
Microsoft Windows®, UNIX, or LINUX, for example. Base station operation
software may be written in any programming language, such as C, C++, Java or Visual Basic, for example. The base station software may run on an application framework, such as, for example, a Java® server, a .NET® framework, or any other application framework.
[0022] The transceiver 240 may create a data connection with the terminal 110. The controller 210 may be any programmable processor. Disclosed
embodiments may also be implemented on a general-purpose or a special purpose computer, a programmed microprocessor or microprocessor, peripheral integrated circuit elements, an application-specific integrated circuit or other integrated circuits, hardware/electronic logic circuits, such as a discrete element circuit, a programmable logic device, such as a programmable logic array, field programmable gate-array, or the like. In general, the controller 210 may be any controller or processor device or devices capable of operating a base station and implementing the disclosed embodiments.
[0023] According to a possible implementation, the memory 220 includes volatile and nonvolatile data storage, including one or more electrical, magnetic, or optical memories, such as a Random Access Memory (RAM), cache, hard drive, or other memory device. The memory 220 may have a cache to speed access to specific data. The memory 220 may also be connected to a Compact Disc - Read Only Memory (CD-ROM), Digital Video Disc - Read Only memory (DVD-ROM), DVD read write input, tape drive, thumb drive, or other removable memory device that allows media content to be directly uploaded into a system. Data may be stored in the memory 220 or in a separate database. For example, the database interface 230 may be used by the controller 210 to access the database. The database may contain any formatting data to connect the terminal 110 to the network 130.
[0024] According to a possible implementation, the I/O device interface 250 is connected to one or more input and output devices that may include a keyboard, a mouse, a touch screen, a monitor, a microphone, a voice- recognition device, a speaker, a printer, a disk drive, or any other device or
combination of devices that accept input and/or provide output. The I/O device interface 250 may receive a data task or connection criteria from a network administrator. The network connection interface 260 may be connected to a communication device, modem, network interface card, a transceiver, or any other device capable of transmitting and receiving signals to and from the network 130. The components of the base station 200 are connected via the bus 270, are linked wirelessly, or are otherwise connected.
[0025] Although not required, embodiments can be implemented using computer-executable instructions, such as program modules, being executed by an electronic device, such as a general purpose computer. Generally, program modules can include routine programs, objects, components, data structures, and other program modules that perform particular tasks or implement particular abstract data types. The program modules may be software-based and/or may be hardware-based. For example, the program modules may be stored on computer readable storage media, such as hardware discs, flash drives, optical drives, solid state drives, CD-ROM media, thumb drives, and other computer readable storage media that provide non-transitory storage aside from a transitory propagating signal. Moreover, embodiments may be practiced in network computing environments with many types of computer system configurations, including personal computers, hand-held devices, multiprocessor systems, microprocessor-based or programmable consumer electronics, network personal computers, minicomputers, mainframe
computers, and other computing environments.
[0026] FIG. 3 is an example block diagram of an antenna array 300 that can be used by the transceiver 240 at the base station 200, such as the eNB 120, according to a possible embodiment. The antenna array 300 can be a transmit antenna grid of (ML) x N antennas 310. For example, the antenna array 300 can include L (L>=1) vertical groups of M (M>1) antennas (a vertical subset array or vertical subarray) to create ML vertical antenna elements. The antenna array
300 can include Ν (N>1) columns of ML vertical antenna elements. For
example, for an 8x8 array case, ML = 8 and N = 8. Vertical inter-element separation is denoted by dr with for example dv e {0.5/1,4/1} and horizontal inter-element separation is denoted by dH with for example dH e {0.5/1, 4/1} , where λ is the wavelength applicable to the center frequency of the LTE carrier or carrier frequency of the transmitted signal. The example antenna array 300 can be seen as comprising single (e.g., co-polarized) polarized antenna elements which can be considered as a uniform linear array in the horizontal and vertical dimensions. In another example, the antenna array can comprise dual -polarized or cross-polarized antenna elements. In one
embodiment, subarrays (e.g., vertical group of M antenna elements) within the antenna array are formed such that within a sub-array, correlation is fairly large (e.g., antenna elements with the same polarization) with the correlation structure slowly varying in time. In contrast, the fading of the channels between the subarrays has low correlation with the relative phase between the subarrays' channels varying rapidly. The antenna array with dual-polarized or cross-polarized antenna elements can be considered in each dimension
(horizontal or vertical) to include two (or more) co-polarized subarrays with each subarray as a uniform linear array. The eNB 120 can estimate an Angle of Departure (AoD) of a transmit signal and/or a terminal 1 10 coarse location with respect to the antenna array 300 based on a uplink Sounding Reference Signal (SRS) transmission or more generally, any uplink transmissions from the terminal 1 10 by leveraging uplink channel response reciprocity in TDD (Time Division Duplex) systems or multipath direction of arrival reciprocity in FDD (Frequency Division Duplex) systems. The antenna array 300 can be calibrated with respect to AoD, which can enable beamsteering in the direction of the terminal 1 10.
[0027] FIG. 4 is an exemplary block diagram 400 of beamforming performed by the eNB 120. The eNB 120 can communicate with the terminal 1 10 by transmitting and receiving signals using the antenna array 300 for beamforming
in a manner to achieve channel requirements. The data stream 460 is spatial layer which includes a sequence of modulation symbols. The data stream 460 including the sequence of modulation symbols may be first multiplied in multipliers 440 by the complex-valued weighting factors 450. The resulting signals, one for each antenna 430, can be fed to transceivers 410 where the baseband signal may be converted to a carrier frequency. The transceivers 410 may also apply filtering and additional processing to the signal. The transceiver output can then be passed to the power amplifiers (PA) 420 where the signals' power is increased. The output of the PAs 420 can then be fed to the antennas
430. The phase and amplitude of the signals in each antenna 430 of the array of antennas can be therefore be controlled so as to obtain a constructive pattern at the terminal 110. The beams or transmit radiation patterns can be adjusted in the horizontal and the vertical direction by changing the weighting factors 450.
Transmission-power adjustment or deployment of beams for transmitting and receiving signals can be used to meet channel requirements. Beamforming can help to cope with multipath situations and can overcome extra attenuation by providing extra power concentration. Beamforming can also be used to reduce interference to adjacent cells or co-scheduled UEs within a cell or coordinating cluster of cells in case of MU-MIMO. The method of beamforming illustrated in FIG. 4 is only an exemplary example to implement beamforming of a data stream 460. Alternatively, the weighting factors may be applied after the signal has been translated to the carrier frequency either immediately after the transceiver or after the PA or may be divided in to multiple weighting factors applied at different locations in the transmit chain, e.g., a weighting factor applied in baseband and a weighting factor applied after the transceiver.
[0028] One approach for forming vertical and/or horizontal beams at the eNB
120 can be based on a static beam configuration. For example, LN static vertical beams or virtual antennas can be formed with partial overlap. M antenna elements within each column in FIG. 3 can be virtualized to form L vertical beams per column, such as when ML = 8 and M = 4, then L = 2 vertical
beams per column can be obtained from M = 4 elements of each column. The M = 4 elements in a column may be adjacent contiguous group of antenna elements as shown in FIG. 3 or may be interleaved or non-contiguous group of antenna elements (not shown in FIG. 3) such as every other antenna element in the column. Different columns may use different groups of antenna elements (M = 4 antenna elements in this example) to form a virtual antenna from that column. Thus, with N columns in the antenna array 300 in FIG. 3, LN Channel State Information Reference Signal (CSI-RS) antenna ports can be configured; each CSI-RS antenna port assigned to each vertical beam or virtual antenna of each column. In other words, each CSI-RS port can correspond to a single virtual antenna formed from a vertical subset array or vertical subarray of M elements within a column. Assuming each antenna element has a uniform response in azimuth, the LN beams can propagate uniformly in azimuth, but with different elevation angles. For dH = 41 spacing, channels from vertical beams or virtual antennas corresponding to different columns may fade independently, such that multipath fading may cause one or more virtual antennas corresponding to a first column of the N columns to experience a fade while virtual antennas corresponding to a second column may experience a peak.
[0029] Another approach for forming vertical and/or horizontal beams at the eNB 120 can be based on dynamic beamforming. In this approach, Multiple
User Multiple Input Multiple Output (MU-MIMO) transmission on Downlink
(DL) is enabled where the vertical virtualization is not fixed but changes based on a number of active terminals, such as UE 110, in a base station cell, based on UE locations, based on traffic conditions, and based on other relative considerations. In general, if each Transmit (Tx) antenna element has a Power
Amplifier (PA), MLN = 64 ports can be linearly transformed or equivalently precoded, to form NB (<= 64) beams. The eNB 120 can use UE location information, DL CQI (Channel Quality Indicator) feedback, DL CSI determined based on Uplink (UL) sounding or uplink channel response
reciprocity, such as with Time Division Duplexing (TDD) or multipath direction of arrival reciprocity in FDD and/or Precoding Matrix Indicator (PMI) feedback from the UE 110 to form the beams.
[0030] The above approaches for forming beams can exceed 8 beams, which may exceed a number of available CSI-RS ports, such as if L=2 and N=8. The beams can be designed so that they cover equal area on a two-dimensional plane within a sector of the eNB 120.
[0031] Approaches can be envisioned for vertical sectorization. Beamforming within the M vertical antenna elements can be denoted as vertical
beamforming, elevation beamforming, or Level- 1 beamforming, and beamforming across the NL beams or virtual antennas can be denoted as horizontal beamforming, azimuth beamforming, or Level-2 beamforming. This partitioning can be applicable to the UE 110 for PMI feedback. However, this may not be how the eNB 120 may actually form the beams at the transmitter. For example, Level- 1 beamforming may be UE-transparent for a first case (Case 1) or it may be based on UE feedback for a second case (Case 2). Level- 1 beamforming and Level-2 beamforming can constitute a logical partitioning of vertical/horizontal beamforming across a large number of antenna elements and the associated CSI feedback can be used to assist precoding for
transmission from the eNB. The eNB 120 may implement a general precoding algorithm in a UE-transparent manner to schedule users based on
Demodulation Reference Signal (DMRS) (i.e., dedicated pilot or reference for a UE) using a 64-element antenna array.
[0032] For a first case, (Case 1), Level-2 beamforming can be based on eNB- configured antenna ports. This can be based on determinations at the eNB 120.
One use case can be when there is identical vertical sectorization across the N columns of the antenna array. The eNB 120 can use fixed or same weights at the M antenna elements of each vertical subset array across the columns, such as in Active Antenna Systems (AAS). Each beam or virtual antenna of the NL virtual antennas can be mapped to a CSI-RS antenna port. The UE 110 can
determine Ns (= 1 or more) strongest beam(s) and can send a report, which can include one or more of beam index/CSI-RS port index and an associated CSI- RS Reference Signal Received Power (RSRP), to the eNB 120. In an alternate embodiment, assuming that the antenna elements have uniform response in azimuth, the UE 110 may average the power contribution across the N CSI-RS ports corresponding to the N virtual antennas with the same vertical
sectorization (or same weights for the vertical subset array across the N columns or in other words the same elevation direction) for CSI-RS or vertical sector RSRP determination (The beam index in the report in this case would be vertical sector index indicating the strongest vertical sector out of the L vertical different vertical sectors or different elevation angles) . Based on the vertical sector the UE 110 belongs to, the eNB 120 can configure a subset of the NL = 16 ports (e.g., N antenna ports) in one or more CSI-RS resources for Rank Indicator/Precoding Matrix Indicator (RI/PMI) and Channel Quality Indicator (CQI) feedback to enable Level-2 beamforming across the virtualized antennas, such as for the equivalent antenna ports obtained post Level- 1 beamforming for the vertical sector the UE belongs to. The number of beams or CSI-RS antenna ports for RI/PMI reporting to assist Level-2 beamforming can be configured by the eNB.
[0033] For a second case (Case 2), Level-2 beamforming can be based on UE- selected antenna ports. This use case can occur when there is non-identical vertical sectorization across columns. UE reporting of CSI-RS RSRP may be insufficient to configure appropriate virtualization. Thus, the UE 110 can provide assistance in the form for PMI feedback for beamforming.
[0034] For a third case (Case 3), Vertical-Horizontal Kronecker product beamforming can be used. The corresponding codebook can include all or a subset of possibilities of Kronecker products between (rank 1) vertical precoding vectors and horizontal precoding matrices. The rank of the precoding matrix corresponding to a codebook entry can correspond to the number of streams that can be supported by the channel between the UE 110 and the eNB
120. If the horizontal codebook includes rank 1 precoding vectors, which have unit magnitudes and linearly progressing phases, then this technique can be pictured as each codebook entry corresponding to a pair of launch angles of a transmitted stream, one in azimuth, determined by a horizontal precoder, and one in elevation, determined by the vertical precoder.
[0035] One solution for Case 2 can extend a RI/PMI feedback approach. One codebook, CH, can quantize the short-term variations of the channel matrix for an equivalent horizontal array formed by a particular virtualization of M elements within each column. Another codebook, Cv, can be used for spatial quantization of an equivalent vertical array to help the eNB virtualize the M elements within each column. CH can be a Release 10 codebook with possible enhancements for 4 transmit antennas (Tx) in the equivalent horizontal array, such as a codebook using a Wi W2 weighting structure (precoder corresponding to a codebook entry is a matrix multiplication of two matrices, Wj and W2), where a precoding vector or matrix applies weights to signals transmitted from each antenna in an antenna array. According to another implementation, CH can be an enhanced Release 10 codebook, which can allow for a dual codebook structure for 4 Tx and finer quantization for 4 Tx and 8 Tx cases. Since PMI reporting based on CH and Cv can serve different purposes, Cv can be designed separately from CH, while taking into account different antenna geometries, separations, and other factors. For UE-assisted virtualization of M antenna elements, Cv can be a subset of rank- 1 codebook with rank 1 precoding vectors from one of Release- 10 2 Tx, 4 Tx and 8 Tx codebooks depending on the value of M. Alternatively, other codebooks with finer quantization, such as Vector Quantization (VQ) based on a Lloyd method, a Grasmannian codebook, or other codebooks can be used. For each of the nth vertical subset array of M vertical antenna elements, a vector, pn , from Cv can be chosen by maximizing some metric that involves ergodic or equivalently, long-term time averaging.
\\2
For example, metric such as based on pn = arg max EH
P&Cy V Hv (n) P where
Hv n) is the channel matrix associated with the n-th vertical subset array of M vertical transmitting antenna elements, where n = 1, NL. The notation ||·|| denotes the Frobenius norm which is the sum of the magnitude square of the matrix's elements. The ergodic averaging can be done over a longer duration, such as 200-400 ms, than that used for reporting RI/PMI (or codebook indices of PMI in case of dual codebook WjW2 weighting structure) for CH that quantizes the fading applicable to the channel matrix of the equivalent horizontal array. In order to help the UE 110 estimate Hv n) , the eNB
120 can transmit CSI-RS from the M vertical antenna elements of the n-th vertical subset array on different CSI-RS antenna ports. With the Frobenius norm criterion above the UE 110 can select a precoding vector such that pn = argmax p*EH
. The operator (·)* denotes the conjugate transpose of a vector or matrix. The unconstrained maximizer of the argument can be the eigenvector associated with the largest eigenvalue of the transmit covariance matrix EHr [Hv } * Hv } ] · If the beamforming across each set of M elements or vertical subset arrays is identical, such as with identical
beamforming within all columns, EH^ H^H) * Hv n) J can be approximately independent of n, i.e., the beam index. Therefore, it can be sufficient for the eNB 120 to request the UE 110 to report only one maximizer p across all n if the vertical transmit covariance matrix or vertical correlation properties of the channel is expected to remain approximately independent of n. In this case, the eNB 120 can configure a first CSI-RS resource with M CSI-RS antenna ports and transmit CSI-RS on antenna ports corresponding to only one set of M antenna elements to enable feedback to assist Level- 1 beamforming.
Alternatively, the eNB can transmit the same CSI-RS signal from an antenna element (out of the M antenna elements) of each of the more than one (or all) NL vertical subset arrays thereby corresponding to a logical CSI-RS antenna port formed from NL antenna elements from the different vertical subset arrays.
This can help the eNB 120 with better PA utilization or more fully utilize all the PAs. The eNB 120 can configure a second CSI-RS resource which can include Level- 1 beamforming or precoding on the CSI-RS transmission on CSI-RS antenna ports corresponding to the second CSI-RS resource. This second CSI-RS resource can be used for determining RI/PMI and/or associated CQI to assist the eNB 120 in Level-2 beamforming. More details for this Case 2 are provided below.
[0036] If EHy H^H^ ] is not independent of n (the beam index), such as with non-identical vertical sectorization of the antenna columns, the eNB 120 can configure NML CSI-RS antenna ports within multiple CSI-RS resources, such as NL sets of CSI-RS resources, where each CSI-RS resources can include M CSI-RS antenna ports. This can be done with larger DL overhead. For this approach, the precoder selection from codebook CH involves the following steps: First, the UE 110 can form an effective channel matrix
He = ^Hy ] ρ^,.,.,Η^ pNL J and can find a precoding matrix, predicated on the selected beamformers, pn n = 1, NL, for the NL beams corresponding to the NL vertical subset arrays, applicable to Level-2 beamforming. For example, the
UE can find the precoding matrix as P = arg max E where the
P≡C,
expectation is an avera e over the subframes/subbands of interest. This can be the same as . Second, prior to selecting the
RI/PMI for Level-2 beamforming, the UE 110 can down-select to Ns
( 1 < Ns < NL ) strongest beams before determining a suitable precoding matrix, and forming an effective channel matrix as He = H l)pi ,...,H Ns )pi where i1,i2,...,iNs can be indexes corresponding to theNs strongest beams. Third, Ns can be selected by the UE 110 using a threshold criterion, such as the beams with received power are within X= 3 dB of the strongest beam. This can ensure that all beams with comparable received signal strength are included in RI/PMI
computation to assist Level-2 beamforming. Fourth, the hierarchical PMI selection can be viewed as a suboptimal solution to the double maximization as follows:
P = arg max E HePH
where the two maximizations can be performed over different time scales.
[0037] In the sequel, we can have Ns take its maximum value, Ns = NL . In addition, we can have the variable N take the place of NL .
[0038] With changed notation, the above maximization can be written as:
where Pv is a MNx N matrix composed of matrices Pl through PN stacked one on top of the other with P{ on the top. P{ through PN are M x N matrices.
[0039] Due to UE mobility, in general, the vertical angle subtended at the eNB array can change much slower than the horizontal angle. Thus, the
virtualization applied within the M vertical elements in each column may not need to be changed as often as the precoding across columns or precoding corresponding to the horizontal beamforming . For example, the UE 110 can
send PMI for Cv, with no channel quality indicator (CQI) and rank indicator, much less often than the PMI for CH, such as 160 ms or 320 ms for PMI from Cv, as opposed to 5, 10, 20 ms for PMI from CH. New multiplexing schemes for slow and fast rate reporting for periodic reporting can be used.
[0040] For example, for joint selection of precoding matrices (Case 2) and for a block-Kronecker structure (Case 3), the UE 110 can receive a set of CSI-RS. The UE 110 can determine, based on the received set of CSI-RS, a precoding matrix that is a product of first precoding matrix Pv and a second precoding matrix PH. Pv can have at least a representation in terms of N matrices,
Pv k [ 1 < k < N]. Each matrix Pv k can be based on at least one column vector
(pk ) selected from a first codebook. Also, PH can be based on a second codebook. For example, this can be based on the Eq. 2 above, where
The UE 1 10 can then transmit a representation of at least one of the first precoding matrix and the second precoding matrix.
[0041] The product of Pr and PH can be a matrix product PVPH , and
Pv k can be a matrix such that only the k column of Pv k , equal to pk , can be non-zero. For example, this can be based on the Eq. 1 above, where
[0042] The product of PV and PH can also be a block-Kronecker product denoted by the symbol *
PV *PH =[PV(A)®PH(--,1) P V(^)®PH(^) ... Pv(:,r)®PH(:,r)]
(Eq.6) where
where PH ('-,ρ) is the p' column of the horizontal precoding matrix taken from the second codebook, and <S> denotes the Kronecker matrix product. With this structure, for a given layer p, the same vertical precoder Pv (:,p) is used across all columns of antennas. However, the vertical precoders for different layers may be different.
[0043] A solution for Case 2 can perform Level- 1 beamforming identical across different sets of M elements as mentioned earlier. For this case, it can be assumed that EH^ H^K) * Hy ] J is approximately independent of n, i.e., the beam index. Therefore, only one CSI-RS resource with M CSI-RS antenna
ports corresponding to one set of M elements may be configured to assist Level- 1 beamforming. The eNB 120 can configure a second CSI-RS resource including NL antenna ports where CSI-RS from each antenna port can be obtained or can be precoded by Level- 1 beamforming or precoding within M antenna elements. This second CSI-RS resource can be used for determining RI/PMI and/or associated CQI to assist the eNB 120 in Level-2 beamforming.
[0044] A UE can be configured with multiple CSI processes to support
Coordinated Multipoint (CoMP) scheduling and transmission from multiple Transmission Points (TPs). A CSI process is associated with the generation of one set of CSI which can consist of PMI for vertical or Level- 1 beamforming, PMI for horizontal or Level-2 beamforming, RI, and/or CQI, based on an associated one or more CSI-RS resource(s) (for which the UE assumes nonzero transmission power for the CSI-RS) and one or more interference measurement resource. For enabling RI/PMI feedback to assist Level- 1 and Level-2 beamforming, a first CSI-RS resource associated with a CSI process can be configured to target PMI feedback to assist Level- 1 beamforming. A second CSI-RS resource associated with the CSI process can be configured to target RI/PMI and/or associated CQI feedback towards Level-2 beamforming. The CSI-RS antenna ports in the first CSI-RS resource and second CSI-RS resource associated with the CSI process can be configured independently. In some embodiments, the second CSI -RS resource may comprise a plurality of sub-CSI-RS resources, each sub-CSI-RS resource associated with one of the L vertical subarrays and comprising N CSI-RS antenna ports; the sub-CSI-RS resources can be configured independently or in a configuration list or a bitmap with each bit set to one indicating a predetermined CSI-RS resource for a sub- CSI-RS resource preferably in order for the L vertical subarrays. Codebook subset restriction can be independently applied for CSI associated with the first CSI-RS resource (Level- 1 beamforming) and CSI associated with the second CSI-RS resource (Level-2 beamforming) of the CSI process. For example, to assist Level- 1 beamforming, a codebook subset restriction can be applied to use
PMI reporting corresponding to the first CSI-RS resource constrained to rank 1 feedback with possibly a subset of the rank 1 precoders. The precoder codebook associated with the Level- 1 and Level-2 beamforming can be different. In one example, special codebook(s) can be designed for PMI feedback to assist Level- 1 beamforming. Thus, the UE 1 10 can be configured with a first codebook associated with the first CSI-RS resource and a second codebook associated with the second CSI-RS resource.
[0045] Case 3 can use Vertical-Horizontal Kronecker product beamforming. Instead of optimizing the virtualization for each column as is done in the solutions above, a common virtualization across columns for each horizontal precoder can instead be optimized. Unlike the solutions above, the
virtualization can be performed on LM antenna elements instead of on L groups or vertical subarrays of M antenna elements each. For example, let Hm , m = 1,2,· · · ,LM be the Nr N channel response matrix whose (nr,n) entry is the channel between the mth antenna element of the nth column and the nr receive antenna. Further, let the horizontal codebook have K entries. As with
Case 2, LMN CSI-RS antenna ports can be used to obtain estimates of all M channel matrices, 11 . m = 1,2,· · · ,LM , with the CSI-RS antenna ports configured in one or more CSI-RS resources. The optimum vertical precoder can be found for each horizontal precoder. Then, given this optimum vertical precoder, the best horizontal precoder can be found. In other words, a preferred or recommended (vertical precoder, horizontal precoder) pair can be
determined. The case of rank 1 precoding is first discussed followed by the higher rank case.
[0046] For rank 1 precoding, let be the Nr x LM channel when horizontal precoding with the kth precoder, qk , of the codebook is applied across each of the LM rows of the array:
Η« = [Η1% H2q, (Eq. 8)
[0047] The Nr x 1 effective channel h 'ρ' that includes both horizontal precoding by the k th horizontal precoder and vertical precoder p can then
(Eq. 9)
[0048] Similar to Case 2, the optimum vertical precoder can be obtained by maximizing over the expected channel
f)k = argmax £- ,(*.p) (Eq. 10)
where p is the optimum vertical precoder corresponding to horizontal precoder k . The optimum horizontal precoder can then be obtained by maximizing over k :
[0049] The expectation can be an average over the subframes / subbands of interest and can be on a different time/frequency scale than the optimization in Equation (Eq. 1 1) . An alternative to using LMN CSI-RS antenna ports and calculating for each hypothesized value of q^ is for the eNB 120 to apply a precoder k of the horizontal codebook across the rows of the array, and transmit precoded CSI-RS on ML CSI-RS antenna ports where each CSI-RS antenna port corresponds to a precoded row, resulting in direct measurement of
fiW at the UE 110. This can be useful if the size of the codebook, K , is less than the number of columns N .
[0050] For precoding when the rank is greater than one, let the rank r codebook of size Ncbbe represented as the collection of Nx r matrices Qk ,
k = l,2,- - - , Ncb . Let be the Nr x LM channel when horizontal precoding with the ith column of the kth precoder, Qk (:,/) , is applied across each of the LM rows of the array:
[0051] If precoder p^ is applied to layer i , then the Nr x r equivalent channel can be
(*,P(W) ,-,P( )
H g(W)p(W) g(*.2)p(*.2) ... g(*,r)p(*,r) I ^ ^
[0052] For the kth horizontal precoding matrix, there can be one vertical precoder , i = 1, 2, · · · , r for each layer. In the case of a single rank transmission, the optimal precoder is well defined as the precoder which maximizes the energy of the received signal, or equivalently, the Frobenius norm of the received signal vector. In the case of multi-layer transmissions, optimization is more complicated as there is the need separate the multiple layers at the receiver. However, in the case of low signal-to-noise ratio, the optimal (multi-layer) precoder can again be defined as the precoder which maximizes the energy of the received signal, or equivalently, maximizes the Frobenius norm of the received signal matrix. Optimizing over the set of r vertical precoders then gives
Here the maximization can be over the vertical precoding codebook. Finally, the optimum horizontal precoder can be selected:
[0053] By selecting a different vertical precoder for each layer, paths with different elevation angles can be assigned to different layers. The solution to Case 3 can be equivalent to the solution in Case 2 where ρι,ρ2,· · · , p^ are constrained to be the same.
[0054] For two dimensional CSI-RS port mapping, CSI-RS reference signals can be constructed in two dimensions where reference signals from one dimension are transmitted on antenna ports corresponding to the antenna elements of one column. Thus, the reference signals from one dimension can be transmitted on vertical antenna elements. The CSI reference signals can therefore be transmitted on a two dimensional array of antenna ports of sizes x 2, x 4, x 8 , etc. where M is the number of antenna ports in the vertical direction.
[0055] For a precoder structure, the precoding matrices for Case 2 and Case 3 with identical precoding in each column can have a specific structure. For Case 2 and Case 3 with rank one precoding, the precoding matrix can be written as a Kronecker product of horizontal and vertical precoding matrices. For Case 3 with rank > 1 precoding, the precoding matrix can be equal to a block
Kronecker matrix product of vertical and horizontal precoding matrices. This is explained in more detail below. First, however, is a short summary of 3 GPP Release 10 precoding.
[0056] Release 10 precoding can be of the form y = wxw2x (Eq. 16)
where Wx can be a wideband precoder that takes advantage of the correlation properties of the channel, properties which are long-term in nature, and W2 performs co-phasing on a short-term basis. Here x is the vector of modulated symbols and y is the vector of signal transmitted from each PA. The matrix Wj has the structure
W 0
W1 = (Eq. 17)
0 w
where the NT 12 x r matrix W has columns taken from an oversampled Discrete Fourier Transform (DFT) matrix. The 2r x r co-phasing matrix W2 is of the form
1
;a {1,-1, j, -j} (Eq. 18)
a
for rank 1 and
for rank 2.
[0057] For single elevation vertical beamforming, when the transmit antenna array is two dimensional with the second dimension being the vertical direction
and a common elevation is applied regardless of the choice of Wl and W2 , the vector of Power Amplifier (PA) outputs can be expressed as y = W0 ®(W1W2)x (Eq. 20)
where Wn = 1 e . Here the ordering of elements in the
NvNr vector y is first all of the elements with the lowest vertical dimension, then the elements with the next highest vertical dimension, and so on. The CSI feedback for the matrix W0 can be of a low rate since the vertical elevation angle φ is expected to change slowly, on the order of seconds, and likely to be much slower than changes in Wx ( Wx typically changes slowly compared to
W2 ) .
[0058] For multi-elevation vertical beamforming, it also possible to apply different elevations to different layers. For example, in the rank 2 case, the elevation beamforming matrix may be of size Nv x 2 and be of the form
1 1
e
(Eq. 21)
If W = WjW2 , then the precoding matrix can be written as
[W0 (:,1) ® W'(:,1) W0 (:,2) ® W'(:,2)]
(Eq. 22)
The block Kronecker product (also called the Khatri-Rao matrix product) of two matrices A *B , both of size M N (the M and N here are not related to the M and N defined above in relation to FIG.3, but rather are used only to define the block Kronecker product) ,where the matrices are partitioned
11 12
A = 21 l22 l2JV (Eq.23) l l l 2 and
B,, B 12 B IN
B 21 B 22 B
B = 2N (Eq.24)
B Ml B M2 B MN is defined as
An®Bn A12®B12 1Ar®B1Ar
A21®B21 A22®B22 A2Ar®B2Ar
A*B = (Eq.25)
A 1®B 1 A 2®B 2 AMN ®B iV.
[0059] The precoding matrix used in multi-elevation beamforming can therefore be seen to be a block Kronecker product with M = 1 and N = 2.
[0060] Combined azimuth and elevation spatial multiplexing beamforming may be cast in a grid of beams structure. Before illustrating this, one particular type of grid of beams structure is described. This structure is then shown to
encompass 8 port Release 10 spatial multiplexing. The same structure is then shown to apply to single polarization combined azimuth and elevation beamforming. Finally, the structure is applied in a recursive or nested way to dual-polarization combined azimuth and elevation beamforming.
[0061] For the grid of beams formulation, assume L=l, with subarrays, each of size N , for a total of MN elements. The subarrays (and the N antenna elements of the subarray) are chosen such that within a sub-array, correlation is large with the correlation structure slowly varying in time. In contrast, the fading of the channels between subarrays has low correlation with the relative phase between the subarrays' channels varying rapidly. An efficient precoding matrix, C , for this scenario can have the following decomposition:
C = G(X,B) (Eq. 26)
where C is NM x p , X is N x p , and B is Mp x p , and G(X,B) is given by
B,
(Eq. 27)
B M
C C^2
The matrix X has p columns and is a component precoding matrix that is applied across each of the subarrays while B contains relative weighting factors to be applied between subarrays and is of the form
[0062] In Release 10 precoding, the subarray are elements with the same polarization of a dual-polarized array of length N^ , i.e., M = 2 . The horizontal precoding matrix X is equal to the N^ x p matrix V where the columns of V are from the set ( ^h +k^ 0 < 1 < 15, 0 < k≤ 3} , where \m =
. The columns are therefore beamforming vectors that are chosen to point to or in the direction of the dominant scatterers in the environment. The matrix B is equal to the block diagonal 2p x p matrix A , which is composed of two diagonal blocks, the first of which is the identity matrix
I
(Eq. 29)
A,
[0063] Each non-zero element of A is from the set {1,-1, 7,-7} .. The matrix
A contains weighting factors that weight different polarizations. Namely, the first half of the rows of W are applied to antenna elements of one polarization while the remaining rows are applied to elements of the other polarization. The precoding matrix W can be written as the product of matrices Wt and A :
W = G (V,A) = 1
V 0
4(1,1)
(Eq. 30)
0 V w,
= W,A
[0064] As an example consider the two layer case, p = 2 . With A2 (1,1) = j A2 (2, 2) = -j , and V = [ Vj v2 ] , the overall precoding matrix W is of the form
This structure is found in Table 1 which is an exemplary two layer codebook used for CSI feedback from prior art. In particular all elements of the codebook W^ „ with m≠m and n = 1 exhibit this structure. With A, (1,1) = 1 and
A2 {2, 2) = -\ , the elements with m≠m and n = 0 can be generated. It can be seen from Table 1 that an element of the codebook or precoding matrix is determined by a pair of codebook indices, ix and i2 . The generation of the remaining elements will be discussed below.
Table 1
Codebook for 2-layer CSI reporting using antenna ports 15 to 22
where ^B = e}ml1 .
[0065] For single polarization with combined azimuth and elevation
beamforming, the grid of beams formulation can be applied to combined azimuth and elevation beamforming with single polarization over an antenna array of size Nv x N^ . This can be done by replacing the phase weighting factors in A that weight the different polarizations with the product of an elevation precoding matrix U that contain phase factors that weight the Nv rows of the array,( i.e. each row of the array is a subarray) and a new Nvp x p phase weighting matrix A , where the subscript sp denotes single polarization.
The Nvp x Nvp matrix U therefore has the form
where φγ,···,φ are the phase increments applied vertically in the array for the p columns of the horizontal precoding matrix V . Using the horizontal precoding matrix V defined above and UA in the grid of beams formulation of Eq. (30) gives
W„=G(V,UA
(Eq.34)
[0066] The component matrices of A , Α 2,···, A N , are diagonal matrices of
[0067] The precoding matrix therefore factors into the product of NHNV x pNv azimuth precoding matrix W l , pNv x pNv elevation precoding matrix U , and the Nvp x p phase weighting matrix A . Expanding this product results then gives
W sp =
(Eq. 36)
[0068] If the Nr x NHNV channel is denoted as H and the vector of modulation symbols s , then the vector y received at the receiver can be: y = HW_,UA s
P' P (Eq.37)
where He = HW U is the Nr p effective channel and therefore, the matrix A can be thought of as an effective rank p precoding matrix for the effective channel.
[0069] The results of the previous section can be extended to the dual polarization case with combined azimuth and elevation beamforming. The results of the grid of beams function can be applied to the same grid of beams function, with M = 2 , N = NHNV and the 2p x p phase weighting matrix Ad .
The matrix Adp may be composed of two diagonal matrices, AdpA and Α 2 stacked one on top of the other. For example, the precoder is given by,
Wdp = G(G(Y,VAsp ),Adp )
= G(W Asp,Adp )
Wdp,l W ** dp,2 A , where Wrf t = I2 ® W t and Wrf 2 = 72 ® U . Note that Αφ is composed of two diagonal matrices stacked one on top of the other. The sizes of the matrices are as follows:
2NHNV x p (Eq. 39)
: 2NHNv x 2pNv (Eq. 40)
: 2 pNv 2p (Eq. 41)
2p p (Eq. 42)
[0070] Note the similarity between the third line in Eq. 38 and Eq. 30. The matrices A Adp x and A Arf 2 perform the same weighting across
polarizations as the two blocks of A . The precoding structure is seen to have a nested structure that results from repeating a precoding matrix and weighting the repeated versions first for the purpose of elevation beamforming, and then repeating and weighting the result a second time for the purpose of
beamforming across polarizations. As in the case of single polarization beamforming, the combined precoding matrix W, together with the channel
matrix H form an effective channel and the matrix Adp acts as a rank p precoding matrix for the effective channel.
[0071] In one embodiment, the system 100 uses dual-polarized vertical subarrays. In such a system, the precoder may be implemented as either of the following two canonical decompositions.
[0072] Decomposition 1:
1 0
h 2...vp] 0 0 1
W = G(V,A) = A pxr
0 [vl V2...vp] a. 0
0
(Eq.43)
[0073] Decomposition 2:
0 i 0
[Vlv2...vp] 0 0 1 0 1
W = G(V,A) = A 2 pxr
0 [vl V2...vp] a. OA 0
(Eq.44)
[0074] Here A2pxris a 2p x r matrix, such as a 0-1 matrix comprising r columns of I2 selected in some order. A possible constraint may be r < p for Decomposition Type 1 and r < 2p for Decomposition Type 2. The
columns of V are from the set |v (2i'1+i) : 0 < ¾ < 15,0 < k≤ 24} , where \m = vH = [l ey2™/32 ey W32 β]6 πΜ'η . The codebook index from the UE CSI feedback ix determines vt v2 ... vp ] at least partially by selecting the main beam direction v^2¾^ or by selecting a beam cluster from a set of partially overlapping beam clusters in a co-polarized subarray. The codebook index i2 from the UE CSI feedback determines a. ¾ or and and/or
b. the beam direction refinement or one of the beams in the beam cluster leading to the selection of v^2¾+^, 0 < k≤ 24.
Thus, in some examples ix and i2 together select [vt v2 ... vp ] , while in some other examples ¾ selects vt v2 ... vp ] .
[0075] The values of p for different ranks are shown in Table 2.
Table 2. Values ofp for different ranks
[0076] For a Uniform Linear Array (ULA) subarray, the precoder takes the structure:
(Eq. 45) where ak j ,j = l,..., p is the complex-valued term that multiplies the beamsteering vector applied to the k-th row of antennas
[0077] For a dual-polarized subarray, for Decomposition 1 , the precoder takes the structure:
(Eq. 46)
where Ak is a diagonal phase rotation matrix given by
ak j , j = l, ..., p is the complex- valued term that multiplies the beamsteering vector applied to the k-th row of antennas, the index range
k = \,..., Nr corresponds to cross-pole antennas with +45 degrees orientation or co-polarized subarray with a first antenna orientation and the index range k = Nv + \,...,2Nr corresponds to cross-pole antennas with -45 degrees orientation or co-polarized subarray with a second antenna orientation, and
[0078] For a dual-polarized subarray for Decomposition 2, in a similar fashion, the precoder for the second type can be written as:
(Eq. 49)
where
[0079] The role of W2 and W3 can be to co-phase the vertical elements and different polarizations by applying a block diagonal phase rotation. The structure above can allow for arbitrary co-phasing between the subarrays comprising different vertical elements and polarizations. The subarrays can include co-polarized subarrays with antenna elements of the same polarization. However, such a general structure may make both the codebook design and precoder selection at the UE difficult. The design can be simplified by applying some restrictions to the co-phasing matrix W2 as follows:
[0080] The submatrices A2 , determine the co-phasing as applied to the vertical elements with +45 degree polarization. Similarly, the submatrices
j , A2Nv determine the co-phasing as applied to the vertical elements with -45 degree polarization. One restriction can be to set Ak = I ; 2≤ k < Nv and
[0081] Similarly, Bk = Ip;2 < k < Nv and
If 1≤ p < 4 , is chosen, these restrictions allow the W2 codebook to be encoded in terms of at most 4 unit-modulus complex -valued parameters. For a final structure with restrictions:
[0082] According to the above determinations, the final structure becomes:
[0083] For Decomposition 1,
U, 09 Vj u2&>v2 u p 09 v p
W d.p Λ pxr (Eq.53) alul s> v, a2 209 v2 apup 09
In the product form, this can be written as
W4, =(/2^ ®[v1 v2...vp I2® Λ p,xr
w. Λ-1
w%
'■Ny+l
(Eq.54)
where A Ny+l
[0084] For Decomposition 2,
(Eq.55)
where
In product form, this can be written as
W4,=(/2JVK ®[V1 V2...vp /2® A R A pxr
^A +l Nv+l
A R
^A +l AV+l
w7
(Eq.57) where B Nv+l
[0085] Setting Nv = 1 results in a Release 10 precoder that has been commonly designed for ULA and dual-polarized arrays.
[0086] In the above decompositions, as before, the matrix Wl is determined, at least partially, by the codebook index ¾ and can correspond to the grid of beams component of the precoder based on an oversampled DFT matrix. With the restrictions mentioned above, the role of W2 can be to co-phase the cross pole antennas whereas W3 takes care of vertical beamforming within the set of vertical elements with the same polarization. The Release 10 codebook can be extended in such a way that W2 is determined by an codebook index i2 . The role of W3 can be to apply phase rotation to the vertical elements so as to point a layer in a desired direction or vertical/elevation angle. A new codebook to span the relevant set of vertical angles, preferably using non-uniform quantization, can be determined by a new codebook index i3 . The relevant set of vertical angles can be predetermined and known a priori to the eNB and UE or can be signaled by the eNB 110. A UE capable of supporting vertical/elevation beamforming, may be configured by higher layer signaling to use a codebook supporting vertical /elevation beamforming. In one embodiment, the eNB 120 may signal to the UE 110 an indication of a list of possible vertical angles. The signaling of the list of possible vertical angles may be an explicit list of possible vertical angles, an indicator to one of predetermined vertical angle sets, indication to the [minimum, maximum, and step size] value for the possible vertical angles, a bitmap with each bit set to one indicating a predetermined vertical angle to be included in the possible vertical angle list, etc. In one embodiment, the vertical beamforming component of the codebook may be designed over a set of vertical angles which are a priori known to the UE 110 and eNB 120. The UE 110 may be configured with a codebook subset restriction to restrict the possible precoders for CSI feedback to include a subset of the vertical angles.
[0087] While Wl matches the precoding vector space vt v2 ... vp J to the wideband spatial transmit covariance structure of the channel matrix, W
matches the transmit phases to the vertical angle of departure of the rays associated with transmit array, i.e., vertical beamforming. Thus, it can be sufficient for the UE 1 10 to send a wideband W , such as one W matrix common to all subbands. Further, change of spatial covariance structure, and therefore, Wl , may also be associated with change in UE location and may cause a change in W . Since the vertical angle changes at the same or a much slower rate than the spatial covariance structure, the rate of feedback for i3 may not be any faster than that for ^ .
[0088] Table 2 illustrates an example of the properties of feedback for precoding matrices W\, W2, and W3.
Table 2.
[0089] Thus, for a grid of beams, the UE 110 can receive a set of CSI-RS associated with one or more CSI-RS resources. The UE 110 can then determine a precoding matrix (Wdv) based on the received set of CSI-RS. The precoding matrix Wdv can have a representation in terms of three components. The first
component can be determined from a first set of vectors vt v2 ... vp J , where
Vk can be from the columns of an oversampled DFT matrix. An oversampled DFT matrix can be a generator matrix G(e) having elements
Ιπηιη
[G(e) ] = exp j ≡- , = l,2, 3,- , (Eq. 58)
V d J
[0090] where g is an integer that may be related to the number of transmit antennas.
[0091] The second component can be determined from a first set of parameters ( {a k Yk=l and/or {fik }k P =l )- The third component can determined from a second set of parameters ( (/>k 's that determine k = 1 e^" ■■■ eJ^Nv ~l^k ). The notation (·)Γ denotes a vector or matrix transpose operation. The UE 110 can then transmit a representation or partial representation of the first component, and/or the second component, and/or the third component.
[0092] The precoder can be represented as a product of three component matrices, W\ , W2 , and W3 (as shown in Eqs. 46 and 49 for example). The first component matrix (W\) can be determined from the first component. In other words, vj v2 ... vp J determines the first component which in turn determines the first matrix Wl = I2Ny ® [vt v2 ... vp ] . The second component matrix (W2) can be determined from the second component. The third component matrix (W3) can be determined from the third component. Also, the first component matrix (W\) can at least be represented as a Kronecker product,
I2Nv ® [vj v2 ... vp ] , of an identity matrix and a matrix with columns from an over-sampled DFT matrix.
[0093] The second component matrix (W2) can have the form (f tcor
Decomposition 1):
A,
A M (Eq. 59)
A M+l
A M+2
A 2 where Am 's are diagonal matrices. The diagonal matrix Am can have the form:
where 1.
[0094] The second component matrix (W2) can have the form (for
Decomposition 2):
where Am 's and Bm 's can be diagonal matrices. The third component matrix (W3) can be determined by a diagonal matrix of the form:
[0095] Table 3 below shows an example of a rank 2 precoder codebook based on this structure that can be used for an antenna grid with 2M rows and 4 columns (e.g., each column may comprise M cross-pole antennas) with a total of 8 antenna elements. The inter-element spacing in each column may be assumed to be 4/L .
Table 3
Codebook for 2-layer CSI reporting using antenna ports 15 to (14+&M)
2/z"m/32 ϊΑπνηΙΎλ
where vm = y[m) = 1 e j% s er y( -l)8¾-sin ^
is based on a 3 -bit index feedback such that
(Note: (π/2)/% = 11.25 degrees ). An example is shown in Table 4.
Table 4
[0096] The vertical beamforming information with the above codebook can be contained in 3 bits for i3 feedback for each spatial layer.
[0097] When the UE computes feedback assuming SU-MIMO transmission, the codebook above may have the constraint that ur = us . The UE sends a 3 -bit z3 under this constraint.
[0098] The codebook elements, for Decomposition Type 1, can be written as the product W V3W2 as shown below.
where ,¾: = 2 , / is a (p xp) identity matrix,
A = , (Eq. 65)
[0099] For the rank 2 case where the UE computes feedback assuming MU- MIMO transmission (e.g., Multi-user CQI or MU-CQI), a total of 6 bits (i.e., two indexes i3 ) may be necessary.
[0100] At least a partial representation of the first component matrix (W\) can be a first codebook index (z'i). The first codebook index (z'i) and the second codebook index (z' 2) may be a complete representation of the first component matrix (W\). A representation of the second component matrix (W2) can be a second codebook index (z' 2), and a representation of the third component matrix (W3) can be a third codebook index (z3). The first, second, and third indexes (or in some examples subset of indexes such as first and third indexes) can jointly point to an element or precoder of a codebook. Also, the first and second indexes can point to an element or precoder of a codebook (the precoder
indicated by only the first and second indexes may not depend on the third codebook index).
[0101] In one embodiment, the UE 110 is configured with a CSI process for generating CSI feedback. The CSI process is associated with the generation of one set of CSI which can include PMI, RI, and/or CQI, based on an associated one or more CSI-RS resource(s) (for which the UE assumes non-zero transmission power for the CSI-RS) and one or more interference measurement resource. The PMI may correspond to the first codebook index (z'i), the second codebook index (z2) and third codebook index (z3). The CSI-RS antenna ports corresponding to the CSI-RS resource(s) is associated to one or more antenna elements of an antenna array. The UE 110 may determine the RI, CQI, the first codebook index (z'i), the second codebook index (z2) and third codebook index
(z3) based on the CSI-RS received on the CSI-RS antenna ports corresponding to the CSI-RS resource(s) associated with the CSI process. The PMI and thus the first codebook index (z'i), the second codebook index (z2) and third codebook index (z3) are conditioned on the most recent RI. The CQI is conditioned on the most recent PMI. The UE 110 may be configured with periodic CSI reporting. The UE may be configured with two reporting instances (first and second reporting instance) each with its own periodicities
(first and second periodicity) for reporting on set of CSI comprising
CQI/PMI/RI. The first reporting instance may be in a first uplink subframe and the second reporting instance may be in a second uplink subframe. The first uplink subframe, and the second uplink subframe can occur at different times.
The first and second periodicities may be different.
[0102] In one example, the UE may be configured for wideband CQI / wideband PMI periodic reporting. In one mode of operation, the UE may transmit a first CSI report including RI and a first PMI, the first PMI being a representation of the third codebook index (z3), on the first reporting instances with the first periodicity. The RI and the first PMI may be separately encoded
(e.g. mapped to different set of bits in a message) or jointly encoded. In some
cases, the third codebook index (z3) may be sub-sampled (i.e., only certain specified values or a subset of the possible values are available to select from) to fit within the available number of bits for the first CSI report. The UE 110 may transmit a second CSI report including the wideband CQI and second PMI, the second PMI being a representation of the first codebook index (z'i) and the second codebook index (z2), on the second reporting instances with the second periodicity. The wideband CQI and the second PMI may be separately or jointly encoded. Alternatively, the UE 110 may transmit a second CSI report including the wideband CQI, second PMI (the second PMI being a
representation of the first codebook index (z'i)), and third PMI (the third PMI being a representation of the second codebook index (z2)), on the second reporting instances with the second periodicity. The wideband CQI, second PMI and the third PMI may be separately or jointly encoded. In some cases, the first codebook index (z'i) and/or the second codebook index (z2) may be sub- sampled (i.e., only certain specified values or a subset of the possible values are available to select from) to fit within the available number of bits for the second CSI report.
[0103] In another configured mode of operation, the UE may transmit a first
CSI report including RI and a first PMI, the first PMI being a representation of the first codebook index (z'i) and the third codebook index (z3), on the first reporting instances with the first periodicity. The RI and the first PMI may be separately encoded (e.g. mapped to different set of bits in a message) or jointly encoded. In some cases, the first codebook index (z'i) and/or the third codebook index (z3) may be sub-sampled (i.e., only certain specified values or a subset of the possible values are available to select from) to fit within the available number of bits for the first CSI report. The UE 110 may transmit a second CSI report including the wideband CQI and second PMI, the second PMI being a representation of the second codebook index (z2), on the second reporting instances with the second periodicity. The wideband CQI and the second PMI may be separately or jointly encoded. In some cases, the second codebook
index (z2) may be sub-sampled (i.e., only certain specified values or a subset of the possible values are available to select from) to fit within the available number of bits for the second CSI report.
[0104] In another mode of operation, the UE may transmit a first CSI report including RI on the first reporting instances with the first periodicity. The UE 110 may transmit a second CSI report including the wideband CQI and PMI, the PMI being a representation of the first codebook index (z'i), the second codebook index (z2), and the third codebook index (z3), on the second reporting instances with the second periodicity. The wideband CQI and the PMI may be separately or jointly encoded. In some cases, the first codebook index (z'i), the second codebook index (z2), and/or the third codebook index (z3) may be sub- sampled (i.e., only certain specified values or a subset of the possible values are available to select from) to fit within the available number of bits for the second CSI report. In one embodiment, The UE 110 may be signaled an operation mode from a set of modes (including one or more modes described above) by the base station 120. The different modes can exploit the feedback rates described in Table 2 above and tradeoff the subsampling impacts of the codebook index(es) and provide mechanisms to minimize the uplink overhead for CSI feedback.
[0105] In another example, the UE may be configured for subband CQI/PMI periodic reporting. In one mode of operation, the UE may determine a Precoder
Type Indicator (PTI) and transmit a first CSI report including RI and the PTI on the first reporting instances with the first periodicity. The RI and the PTI may be separately or jointly encoded. The UE 110 uses the PTI to indicate the contents of the CSI reports on the second reporting instances with the second periodicity until the next RI+PTI report. If the most recent transmitted PTI is set to '0' (first state) or '2' (third state), the UE 110 transmits a second CSI report on a subset of the second reporting instances with a third periodicity
(e.g., third periodicity = k * second periodicity, k being an integer). If the most recent transmitted PTI is set to Ό', the second CSI report includes a first PMI,
the first PMI being a representation of the first codebook index (z'i). If the most recent transmitted PTI is set to '2', the second CSI report includes a second PMI, the second PMI being a representation of the third codebook index (z' 3). Between every two consecutive first/second PMI reports on the second reporting instances with the second periodicity, the UE 110 transmits a third CSI report including a wideband CQI and a third PMI assuming transmission on a wideband channel bandwidth, the third PMI being a representation of the second codebook index (z' 2). In case of CSI report collision due to UE
configured with multiple carriers (carrier aggregation) or multiple serving cells, the UE transmits a CSI report of only one serving cell with the CSI report including only the representation of the first codebook index (z'i) or
representation of the third codebook index (z'3) have higher priority that other CSI reports including at least CQI which are dropped.
[0106] If the most recent transmitted PTI is set to Ί ' (second state), the UE 110 transmits the second CSI report on a subset of the second reporting instances with a fourth periodicity (e.g., fourth periodicity = m * second periodicity, m being an integer), the second CSI report including the wideband CQI and the third PMI, the third PMI being a representation of the second codebook index
(z' 2) assuming transmission on a wideband channel bandwidth. The fourth periodicity can be different than the third periodicity. Between every two consecutive wideband CQI/wideband third PMI reports on the second reporting instances with the second periodicity, the UE 110 transmits a fourth CSI report including a subband CQI and a fourth PMI assuming transmission on a subband channel bandwidth, the fourth PMI being a representation of the second codebook index (z' 2). Thus, with the use of PTI, in scenarios where first codebook index (z'i) and third codebook index (z' 3) are not changing, subband feedback of the second codebook index (z' 2) and associated CQI can be achieved which can improve UE throughput performance.
[0107] In an alternate example, if the most recent transmitted PTI is set to '0'
(first state) the UE 110 transmits a second CSI report on a subset of the second
reporting instances with a third periodicity (e.g., third periodicity = k * second periodicity, k being an integer). The second CSI report includes a first PMI and a second PMI, the first PMI being a representation of the first codebook index
(z'i), and the second PMI being a representation of the third codebook index (z3).
Between every two consecutive first and second PMI reports on the second reporting instances with the second periodicity, the UE 110 transmits a third
CSI report including a wideband CQI and a third PMI assuming transmission on a wideband channel bandwidth, the third PMI being a representation of the second codebook index (z2). The UE 110 behavior if the most recent
transmitted PTI is set to Ί ' (second state), is same as described in the previous mode of the operation above. In case of CSI report collision due to UE configured with multiple carriers (carrier aggregation) or multiple serving cells, the UE transmits a CSI report of only one serving cell with the CSI report including the representation of the first codebook index (z'i) and the
representation of the third codebook index (z3) have higher priority that other
CSI reports including at least CQI which are dropped.
[0108] In another embodiment, the UE 110 is configured with a CSI process that is associated with two CSI-RS resources. A first CSI-RS resource associated with the CSI process comprises a first set of CSI-RS antenna ports corresponding to vertically aligned antenna elements in a column of the antenna array, and a second CSI-RS resource associated with the CSI process comprises a second set of CSI-RS antenna ports corresponding to horizontally aligned antenna elements in a row of the antenna array. The UE 110 may determine the third codebook index (z3) based on the CSI-RS received on the first set of CSI-RS antenna ports, and determine the first codebook index (z'i) and the second codebook index (z2) based on the CSI-RS received on the second set of CSI-RS antenna ports. The UE behavior with periodic CSI reporting is same as described. The UE 110 may assume the antenna ports associated with the first CSI-RS resource and the second CSI-RS resource are quasi co-located with respect to one or more of delay spread, Doppler spread,
Doppler shift, average gain, and average delay. Two antenna ports are said to be quasi co-located if the large-scale properties of the channel over which a symbol on one antenna port is conveyed can be inferred from the channel over which a symbol on the other antenna port is conveyed. The large-scale properties include one or more of delay spread, Doppler spread, Doppler shift, average gain, and average delay.
[0109] In another embodiment, the UE 110 is configured with two CSI processes. A first CSI-RS resource associated with the first CSI process comprises a first set of CSI-RS antenna ports corresponding to vertically aligned antenna elements in a column of the antenna array, and a second CSI- RS resource associated with the second CSI process comprises a second set of CSI-RS antenna ports corresponding to horizontally aligned antenna elements in a row of the antenna array. The UE 110 may be configured to determine the third codebook index (z3) (and thus the vertical/elevation beamforming component) based on the first CSI process and CSI-RS received on the first set of CSI-RS antenna ports, and determine the first codebook index (z'i) and the second codebook index (z2) based on the determined third codebook index (z3) from the first CSI process and CSI-RS received on the second set of CSI-RS antenna ports associated with the second CSI process. The UE's second CSI process is thus configured to use the first CSI process as a reference for the vertical/elevation beamforming third codebook index (z3). The UE 110 may assume the antenna ports associated with the first CSI-RS resource of the first CSI process and the second CSI-RS resource of the second CSI process are quasi co-located with respect to one or more of delay spread, Doppler spread, Doppler shift, average gain, and average delay.
[0110] According to another embodiment, the UE 110 can receive a first CSI- RS configuration to enable UE feedback for assisting elevation beamforming, and a plurality of second CSI-RS configurations to enable UE feedback for assisting azimuth beamforming. The CSI-RS can correspond to a second CSI- RS configuration of the plurality of second CSI-RS configurations based on a
candidate, such as elevation precoding matrix, pc, where the candidate precoding matrix, pc can be different for each of the second CSI-RS
configurations. The UE 110 can determine a first precoding matrix (p) based on a received first set of channel state information reference signals (CSI-RS) corresponding to the first CSI-RS configuration. The UE 110 can determine a preferred second CSI-RS configuration from the plurality of second CSI-RS configurations based on the determined first precoding matrix (p). The UE 110 can determine a second precoding matrix (P) based on received second set of channel state information reference signals (CSI-RS) corresponding to the determined preferred second CSI-RS configuration. The UE 110 can transmit an indication of the determined first precoding matrix (p), preferred second CSI-RS configuration, and/or second precoding matrix (P).
[0111] According to another embodiment, the UE 110 can receive a plurality of CSI-RS configurations to enable UE feedback for assisting azimuth
beamforming. The CSI-RS can correspond to a CSI-RS configuration of the plurality of CSI-RS configurations associated with a candidate elevation direction. The candidate elevation direction corresponding to at least two of the plurality of CSI-RS configurations can be different. The UE 110 can determine a preferred CSI-RS configuration, and thus preferred elevation direction, from the plurality of CSI-RS configurations based on received CSI-RS
corresponding to each of the plurality of CSI-RS configurations associated with the plurality of candidate elevation directions. The UE 110 can determine a precoding matrix (P) based on the received CSI-RS corresponding to the determined preferred CSI-RS configuration. The UE 110 can transmit an indication of the preferred CSI-RS configuration, such as a preferred elevation direction, and the determined precoding matrix (P).
[0112] FIG. 5 is an example block diagram of a wireless communication device
500, such as the UE 1 10, according to a possible embodiment. The wireless communication device 500 can include a housing 510, a controller 520 coupled to the housing 510, audio input and output circuitry 530 coupled to the housing
510, a display 540 coupled to the housing 510, a transceiver 550 coupled to the housing 510, a user interface 560 coupled to the housing 510, a memory 570 coupled to the housing 510, and an antenna 580 coupled to the housing 510 and the transceiver 550.
[0113] The display 540 can be a liquid crystal display (LCD), a light emitting diode (LED) display, a plasma display, a projection display, a touch screen, or any other device for displaying information. The transceiver 550 may include a transmitter and/or a receiver. The audio input and output circuitry 530 can include a microphone, a speaker, a transducer, or any other audio input and output circuitry. The user interface 560 can include a keypad, buttons, a touch pad, a joystick, a touch screen display, another additional display, or any other device useful for providing an interface between a user and an electronic device. The memory 570 can include a random access memory, a read only memory, an optical memory, a subscriber identity module memory, or any other memory that can be coupled to a wireless communication device. The wireless communication device 500 can perform the methods described in all the embodiments.
[0114] FIG. 6 is an example flowchart 600 illustrating the operation of the wireless communication device 500 according to a possible embodiment. At
610, the flowchart begins. At 620, the wireless communication device 500 can receive a first set of channel state information reference signals (CSI-RS) on resource elements and a second set of channel state information reference signals (CSI-RS) on resource elements. For example, the wireless
communication device 500 can receive a configuration of the first set of channel state information reference signals (CSI-RS) and a configuration of the second set of channel state information reference signals (CSI-RS). The configuration of the first set of channel state information reference signals
(CSI-RS) can correspond to the first set of channel state information reference signals (CSI-RS) and the configuration of the second set of channel state information reference signals (CSI-RS) can correspond to the second set of
channel state information reference signals (CSI-RS). The first set of CSI-RS is thus associated with a first CSI-RS resource configuration and the second set of CSI-RS is thus associated with a second CSI-RS resource configuration. The wireless communication device 500 may be configured with a CSI process and the CSI process can be associated with both the first CSI-RS resource configuration and the second CSI-RS resource configuration. Alternately, the wireless communication device 500 may be configured with two CSI processes, the first CSI process associated with the first CSI-RS resource configuration and the second CSI process associated with the second CSI-RS resource configuration. The first set of channel state information reference signals (CSI-RS) can be different from the second set of channel state information reference signals (CSI-RS). Also, the first set of channel state information reference signals (CSI-RS) can be the same as the second set of channel state information reference signals (CSI-RS).
[0115] Each channel state information reference signal (CSI-RS) of the first set of channel state information reference signals (CSI-RS) can be associated with a corresponding channel state information reference signal (CSI-RS) antenna port. Each channel state information reference signal (CSI-RS) antenna port can be representative of one or more vertically aligned antenna elements of a multi-column antenna array. Each column in the multi-column antenna array can include a plurality of antenna elements.
[0116] At 630, the wireless communication device 500 can determine a first precoding matrix (p) based on the received first set of channel state information reference signals (CSI-RS). The first precoding matrix (p) can be chosen from a first codebook (Cv). The first codebook (Cv) can include selection vectors. Each selection vector can indicate one of a preferred channel state information reference signal (CSI-RS) from the first set of channel state information reference signals (CSI-RS).
[0117] At 640, the wireless communication device 500 can determine a second precoding matrix (P) based on the second set of channel state information
reference signals (CSI-RS). The second precoding matrix (P) can be chosen from a second codebook (CH) that is different than the first codebook. The second precoding matrix (P) can also be determine based on the first precoding matrix (p) and the second set of channel state information reference signals (CSI-RS). The second set of channel state information reference signals (CSI- RS) can be based on the first precoding matrix (p).
[0118] For example, the base station 120 can transmit a first CSI-RS with each vertically aligned antenna element in a column in an antenna array at the base station 120. The UE 110 can determine a precoding matrix (p) from the first CSI-RS and can send the precoding matrix (p) back to the base station 120. The base station 120 can apply the precoding matrix (p) to each column in the antenna array. The base station 120 can then transmit a second CSI-RS from each column of antennas using the precoding matrix (p). The UE 110 can receive the second CSI-RS and can determine the precoding matrix (P) based on the second CSI-RS.
[0119] At 650, the wireless communication device 500 can transmit a representation of at least one of the first precoding matrix (p) and the second precoding matrix (P). The wireless communication device 500 can transmit a channel state information (CSI) report including the representation of at least one of the first precoding matrix (p) and second precoding matrix (P). The channel state information (CSI) report can include one or more of rank indication (RI) and channel quality indicator (CQI) information for one or more spatial layers. The channel quality indicator (CQI) for one or more spatial layers can be conditioned on the determined first precoding matrix (p) and second precoding matrix (P). For example, a spatial layer can carry one stream of data symbols that are transmitted by one or more antennas. When multiple streams of data symbols get mapped to the same set of REs, each component stream of data symbols is denoted as a spatial layer. The transmission rank can be the number of spatial layers. The CQI for the spatial layer can indicate how well the spatial layer can be received and is expressed in terms of the maximum
transmission rate of symbols over the spatial layer that can be maintained with a specified level of reliability.
[0120] The wireless communication device 500 can also transmit a first channel state information (CSI) report including at least the representation of the first precoding matrix (p) in a first uplink subframe and a second channel state information (CSI) report including at least the second precoding matrix (P) in a second uplink subframe. The first uplink subframe can occur at a different time from the second uplink subframe. The first channel state information (CSI) report and the second channel state information (CSI) report can be transmitted periodically. The first and second channel state information (CSI) reports can also be transmitted with different periodicities. The wireless communication device 500 can transmit a representation of at least one of the first precoding matrix (p) and the second precoding matrix (P) over one of a Physical Uplink Shared Channel (PUSCH) and a Physical Uplink Control Channel (PUCCH). The wireless communication device 500 can also transmit channel state information (CSI), where the channel state information (CSI) can include both the first precoding matrix (p) and the second precoding matrix (P). At 560, the flowchart 600 ends.
[0121] FIG. 7 is an example flowchart 700 illustrating the operation of the wireless communication device 500 according to a possible embodiment. At 710, the flowchart begins. At 720, a set of channel state information reference signals (CSI-RS) can be received at a wireless terminal, such as at the wireless communication device 500.
[0122] At 730, the wireless communication device 500 can determine, based on the received set of channel state information reference signals (CSI-RS), a precoding matrix that is a product of a first precoding matrix Pv and a second precoding matrix PH . The first precoding matrix Pv can have at least a representation in terms of a representation matrix, Pv k . The representation matrix Pv k can be based on a matrix (pk ) selected from a first codebook.
According to another implementation, the first precoding matrix Pv has at least a representation in terms of a plurality of N representation matrices,
Pv k [ 1≤ k < N ]. The second precoding matrix PH can be based on a second codebook.
[0123] According to one example implementation, the product of the first precoding matrix Pv and the second precoding matrix PH is a matrix product.
The plurality of N representation matrices are vertically stacked to form the first precoding matrix. A kth column of a kth representation matrix can be nonzero.
[0124] According to another implementation, the product is a matrix product PrPH . Pv l,PV 2,... ,Pv N are vertically stacked to form Pr , where
where Pv k is a matrix such that only a k column is non-zero, where Pv is the first precoding matrix, where PH is the second precoding matrix, and where Pv {,PV 2,K ,PV N are the plurality of Ν representation matrices. For example, the kth column can be equal to pk. Thus,
[0125] According to another example implementation, the product is a block-
Kronecker product. The block-Kronecker product of two matrices can be a horizontal concatenation of a sequence of one or more matrix block products.
Each of the two matrices is composed of a sequence of one or more
horizontally concatenated matrix blocks. An i matrix block product of the sequence of horizontally concatenated matrix blocks can be equal to a
Kronecker matrix product of the 7th matrix block of a first matrix of the two matrices and the zth matrix block of a second matrix of the two matrices. For example, a block-Kronecker product can comprise
Pr*PH=[Pr(,l)®PH(,l)Pr(,2)®PH(^) ... Pv(:,r)®PH(:,r)] (£q ω)
where Pv is the first precoding matrix, PH is the second precoding matrix, and r is the number of spatial layers. According to this example,
where k is an index that takes values from 1 through r.
[0126] According to another example implementation, the product of the first precoding matrix Pv and the second precoding matrix PH is of the form PHPV , where
where Pv = l xl ® pl , where qk, k = 1, 2, · · · , M are vectors which belong to the second codebook, such as a horizontal precoding codebook, and where l xl is a M x 1 vector including all 1 's. According to this example, ql = --- = qM . Further
according to this example, let be the Nr x LM channel when horizontal precoding with the k precoder, qk , of the codebook is applied across each of the LM rows of the array:
[0127] The Nr x 1 effective channel Ir that includes both horizontal precoding by the k horizontal precoder and vertical precoder p is then
(Eq. 73)
Similar to Case 2, the optimum vertical precoder can be obtained by
maximizing over the expected channel
j)k = argmax £s ,(*.p) (Eq. 74)
p where pk is the optimum vertical precoder corresponding to precoder k . The optimum horizontal precoder can then be obtained by maximizing over k :
k = max E
k (Eq. 75)
[0128] According to another example implementation, the product of the first precoding matrix Pv and the second precoding matrix PH is of the form PHPV , where
(Eq. 76) where Pv = [l ® p1 ■■■ 1 ® pr ] , where (:,l)
matrix which belongs to the second codebook, such as a horizontal precoding codebook, and where l xl is a M x 1 vector having all l 's. According to this implementation,
which can cover a case where the rank > 1.
[0129] At 740, the wireless communication device 500 can transmit a representation of at least one of the first precoding matrix Pv and the second precoding matrix PH . The wireless communication device 500 can transmit a first channel state information report including at least the representation of the first precoding matrix (Pv) in a first uplink subframe and a second channel state information report including at least the second precoding matrix (PH) in a second uplink subframe. The first uplink subframe can occur at a different time from the second uplink subframe. The first and second channel state
information reports can be transmitted with different periodicities.
Furthermore, the first channel state information report and the second channel state information report can be transmitted periodically. The wireless
communication device 500 can transmit a representation of at least one of the first precoding matrix and the second precoding matrix over one of a Physical Uplink Shared Channel and a Physical Uplink Control Channel.
[0130] At 750, the flowchart 700 ends.
[0131] FIG. 8 is an example flowchart 800 illustrating the operation of the wireless communication device 500 according to a possible embodiment. At 810, the flowchart begins. At 820, a set of channel state information reference signals (CSI-RS) can be received at a wireless terminal, such as at the wireless communication device 500.
[0132] At 830, the wireless communication device 500 can determine a precoding matrix (Wdp) based on the received set of channel state information reference signals (CSI-RS). The precoding matrix (Wdp) can have a
representation in terms of three components. The first component can be determined from a first set of vectors, [vt v2 ... vp ] , where Vk , k = 1, ..., p, and where p can be a number of vectors from a oversampled DFT matrix. The second component can be determined from a first set of parameters, such as αι,α2,... ,αρ } οχ {αι, α2 ,... ,αρ ,βι,β2 ,... ,βρ )ι . The third component can be determined from a second set of parameters. The second set of parameters can be a set of unit-magnitude scalars, ( ejA , ... , e3<t>p ) , where
1
e
' that determine u (Eq. 78)
The phase of each unit-magnitude scalar can be related to the departure angle of a plane wave at a transmitting antenna array. A unit-magnitude scalar is a complex number with magnitude value of 1.
[0133] At least, a partial representation of the first component can be a first index (z'i). The first component may be completely determined by the first index (z'i) and a second index (z2). A representation of the second component can be a second index (z2), and a representation of the third component can be a third index (z3). The first, second, and third indexes can jointly point to an element of a codebook. The first and second indexes can also point to an element of a codebook.
[0134] The precoding matrix can be at least represented as a product of three component matrices, Wi, W2 , and W3. The first component matrix (Wi) can be determined from the first component. For example, the first set of vectors vj v2 ... vp J can determine the first component and the first component can determine the first precoding matrix as Wl = I2M (8> [vt v2 ... vp ] . The second component matrix (W2) can be determined from the second component. The third component matrix (W3) can be determined from the third component.
[0135] According to an example implementation, the first component matrix
(Wi) is at least represented as a Kronecker product, 2 ^ tVl Vp , of an identity matrix and a matrix with columns from an over-sampled Discrete Fourier Transform (DFT) matrix. The first component matrix (Wi) can be equal to
/2 ® [Vl v2 ... vp] (Eq. 79) where I2M is a 2M x 2M identity matrix, where Y1 ,V2 , .... V are the first set of vectors, where p is the number of vectors in the first set of vectors, and where M is an integer. The integer M can be related to the number of transmit antennas at the eNB 120. An (m,n)th entry of the oversampled DFT matrix can be represented as
-mn (Eq. 80)
Q where Q is an integer. The integer Q can be a function of the number of transmit antennas. For example, Q can be equal to a factor times the number of transmit antennas at the eNB 120.
[0136] According to another example implementation, the second component matrix is formed by vertically stacking an identity matrix and at least a first diagonal matrix. For example, the second component matrix has the form
A,
A M
A,
A 2M (Eq. 81) where / is an identity matrix, where Am,m = 2,... , 2M are (p xp) diagonal matrices, where M is an integer, and where p is the number of vectors in the first set of vectors. The diagonal matrix Am can be of the form
a,
A.
a
(Eq. 82)
where ^ ,
[0137] According to another example implementation, the second component matrix is formed by horizontally stacking a first matrix column and a second matrix column. The first matrix column is formed by vertically stacking an identity matrix and at least a first diagonal matrix. The second matrix column is formed by vertically stacking an identity matrix and at least a second diagonal matrix. For example, the second component matrix can have the form
where / is an identity matrix, where Am,m = 2,... , 2M are (p xp) diagonal matrices, where Bm , m = 2, ... , 2M are (p xp) diagonal matrices, where M is an integer, and where p is the number of vectors in the first set of vectors.
[0138] According to another example implementation, the third component matrix is determined by a diagonal matrix of the form
The third component matrix can be equal to a Kronecker product of an identity matrix and a block diagonal matrix comprising an identity matrix and at least one integer power of the diagonal matrix P. For example, the third component matrix can be equal to
where M is an integer.
[0139] At 840, the wireless communication device 500 can transmit a representation or a partial representation of at least one of the first component, the second component, and the third component. For example, the wireless communication device 500 can transmit a first channel state information report including at least the partial representation of the first component in a first uplink subframe, a second channel state information report including at least the representation of the second component in a second uplink subframe, and a third channel state information report including at least the representation of the third component in a third uplink subframe. The first uplink subframe, the second uplink subframe, and the third uplink subframe can occur at different times. The first, second, and third channel state information reports can also be transmitted with different periodicities. Additionally, at least one the first channel state information report, the second channel state information report, and the third channel state information report can be transmitted periodically. The wireless communication device 500 can transmit the representation of the at least one of the first component, the second component, and the third component over one of a Physical Uplink Shared Channel and a Physical Uplink Control Channel.
[0140] At 850, the flowchart 800 can end.
[0141] The method of this disclosure is preferably implemented on a
programmed processor. However, the controllers, flowcharts, and modules may also be implemented on a general purpose or special purpose computer, a programmed microprocessor or microcontroller and peripheral integrated
circuit elements, an integrated circuit, a hardware electronic or logic circuit such as a discrete element circuit, a programmable logic device, or the like. In general, any device on which resides a finite state machine capable of implementing the flowcharts shown in the figures may be used to implement the processor functions of this disclosure.
[0142] While this disclosure has been described with specific embodiments thereof, it is evident that many alternatives, modifications, and variations will be apparent to those skilled in the art. For example, various components of the embodiments may be interchanged, added, or substituted in the other embodiments. Also, all of the elements of each figure are not necessary for operation of the disclosed embodiments. For example, one of ordinary skill in the art of the disclosed embodiments would be enabled to make and use the teachings of the disclosure by simply employing the elements of the
independent claims. Accordingly, the preferred embodiments of the disclosure as set forth herein are intended to be illustrative, not limiting. Various changes may be made without departing from the spirit and scope of the disclosure.
[0143] In this document, relational terms such as "first," "second," and the like may be used solely to distinguish one entity or action from another entity or action without necessarily requiring or implying any actual such relationship or order between such entities or actions. The phrase "at least one of followed by a list is defined to mean at least one of, but not necessarily all of, the elements in the list. The terms "comprises," "comprising," or any other variation thereof, are intended to cover a non-exclusive inclusion, such that a process, method, article, or apparatus that comprises a list of elements does not include only those elements but may include other elements not expressly listed or inherent to such process, method, article, or apparatus. An element proceeded by "a," "an," or the like does not, without more constraints, preclude the existence of additional identical elements in the process, method, article, or apparatus that comprises the element. Also, the term "another" is defined as at least a second
or more. The terms "including," "having," and the like, as used herein, are defined as "comprising."