US6732321B2 - Method, apparatus, and article of manufacture for error detection and channel management in a communication system - Google Patents
Method, apparatus, and article of manufacture for error detection and channel management in a communication system Download PDFInfo
- Publication number
- US6732321B2 US6732321B2 US09/818,428 US81842801A US6732321B2 US 6732321 B2 US6732321 B2 US 6732321B2 US 81842801 A US81842801 A US 81842801A US 6732321 B2 US6732321 B2 US 6732321B2
- Authority
- US
- United States
- Prior art keywords
- reliability values
- class
- reliability
- symbols
- weighted
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Expired - Lifetime, expires
Links
- 238000000034 method Methods 0.000 title claims abstract description 63
- 238000004891 communication Methods 0.000 title claims description 18
- 238000001514 detection method Methods 0.000 title description 13
- 238000004519 manufacturing process Methods 0.000 title 1
- 238000010206 sensitivity analysis Methods 0.000 claims abstract description 19
- 230000009471 action Effects 0.000 claims description 12
- 238000001914 filtration Methods 0.000 claims description 2
- 238000004364 calculation method Methods 0.000 claims 1
- 230000008569 process Effects 0.000 abstract description 8
- 238000012937 correction Methods 0.000 description 5
- 230000004044 response Effects 0.000 description 4
- 238000012360 testing method Methods 0.000 description 4
- 230000003044 adaptive effect Effects 0.000 description 3
- 230000005540 biological transmission Effects 0.000 description 3
- 230000015556 catabolic process Effects 0.000 description 3
- 230000008859 change Effects 0.000 description 3
- 238000006731 degradation reaction Methods 0.000 description 3
- 230000000694 effects Effects 0.000 description 3
- 230000001419 dependent effect Effects 0.000 description 2
- 238000010586 diagram Methods 0.000 description 2
- 230000007246 mechanism Effects 0.000 description 2
- 238000010187 selection method Methods 0.000 description 2
- 238000013459 approach Methods 0.000 description 1
- 230000003190 augmentative effect Effects 0.000 description 1
- 230000001413 cellular effect Effects 0.000 description 1
- 238000009499 grossing Methods 0.000 description 1
- 238000013507 mapping Methods 0.000 description 1
- 238000005259 measurement Methods 0.000 description 1
- 238000013442 quality metrics Methods 0.000 description 1
- 230000002040 relaxant effect Effects 0.000 description 1
- 230000011664 signaling Effects 0.000 description 1
- 238000012546 transfer Methods 0.000 description 1
Images
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L1/00—Arrangements for detecting or preventing errors in the information received
- H04L1/004—Arrangements for detecting or preventing errors in the information received by using forward error control
- H04L1/0045—Arrangements at the receiver end
- H04L1/0055—MAP-decoding
-
- H—ELECTRICITY
- H03—ELECTRONIC CIRCUITRY
- H03M—CODING; DECODING; CODE CONVERSION IN GENERAL
- H03M13/00—Coding, decoding or code conversion, for error detection or error correction; Coding theory basic assumptions; Coding bounds; Error probability evaluation methods; Channel models; Simulation or testing of codes
- H03M13/35—Unequal or adaptive error protection, e.g. by providing a different level of protection according to significance of source information or by adapting the coding according to the change of transmission channel characteristics
-
- H—ELECTRICITY
- H03—ELECTRONIC CIRCUITRY
- H03M—CODING; DECODING; CODE CONVERSION IN GENERAL
- H03M13/00—Coding, decoding or code conversion, for error detection or error correction; Coding theory basic assumptions; Coding bounds; Error probability evaluation methods; Channel models; Simulation or testing of codes
- H03M13/37—Decoding methods or techniques, not specific to the particular type of coding provided for in groups H03M13/03 - H03M13/35
- H03M13/3738—Decoding methods or techniques, not specific to the particular type of coding provided for in groups H03M13/03 - H03M13/35 with judging correct decoding
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L1/00—Arrangements for detecting or preventing errors in the information received
- H04L1/0001—Systems modifying transmission characteristics according to link quality, e.g. power backoff
- H04L1/0002—Systems modifying transmission characteristics according to link quality, e.g. power backoff by adapting the transmission rate
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L1/00—Arrangements for detecting or preventing errors in the information received
- H04L1/0001—Systems modifying transmission characteristics according to link quality, e.g. power backoff
- H04L1/0015—Systems modifying transmission characteristics according to link quality, e.g. power backoff characterised by the adaptation strategy
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L1/00—Arrangements for detecting or preventing errors in the information received
- H04L1/004—Arrangements for detecting or preventing errors in the information received by using forward error control
- H04L1/0045—Arrangements at the receiver end
- H04L1/0046—Code rate detection or code type detection
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L1/00—Arrangements for detecting or preventing errors in the information received
- H04L1/004—Arrangements for detecting or preventing errors in the information received by using forward error control
- H04L1/0056—Systems characterized by the type of code used
- H04L1/0057—Block codes
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L1/00—Arrangements for detecting or preventing errors in the information received
- H04L1/004—Arrangements for detecting or preventing errors in the information received by using forward error control
- H04L1/0056—Systems characterized by the type of code used
- H04L1/007—Unequal error protection
Definitions
- the present invention relates generally to digital error detection/correction techniques and rate determination techniques, and in particular to data error protection based on the perceptual significance of data symbols.
- error detection relies on window error detectors (WEDs).
- WEDs window error detectors
- a WED takes a single window (i.e., subset) of bits in a frame and declares a frame error if the WED detects an error in those bits.
- the WED works in conjunction with a decoder, such as a Viterbi decoder, to generate a soft reliability value for only the decoded information bits in the window. Bits with large soft values are considered reliable, and those with small or zero soft values are considered unreliable.
- the WED declares a frame error if the minimum reliability within the window is less than a threshold. All bits within the window are treated similarly.
- the WED In communication systems carrying voice, multiple errors for bits outside the window are likely to cause a perceptual degradation in speech quality and warrant some form of error concealment, but these errors may be missed by a conventional WED. Moreover, the WED is limited in the type of forward error correction (FEC) coding used (convolutional code) and the method of soft value generation.
- FEC forward error correction
- the WED treats all of the window bits equally when determining the quality of the decoded frame and when invoking an error concealment algorithm. Treating the window bits equally can limit the effectiveness of error concealment, and can also limit the method of estimating the recent channel conditions, especially if a sequence of speech frames includes frames having different coding rates, such as in communication systems employing adaptive multi-rate (AMR) GSM.
- AMR adaptive multi-rate
- Some digital communication systems use multiple coding rates to transport information.
- the coding rate should be accurately determined or selected in order to ensure reliable, relatively error-free communication.
- some known schemes rely on (1) received soft reliability values, (2) Viterbi decoder metric values during the decoding process (e.g., total metric, Q-bits) (3) decoded information bits (e.g., CRC check, symbol error rate), or combinations of these (e.g., symbol matching score).
- decoded information bits e.g., CRC check, symbol error rate
- FIG. 1 is a block diagram illustrating a system in accordance with an embodiment of the present invention
- FIG. 2 shows a flow chart illustrating the operation of the system of FIG. 1;
- FIG. 3 shows a flow chart of a method of performing a bit sensitivity analysis
- FIG. 4 is a table of exemplary weighting factors usable by the weighting device of FIG. 1;
- FIGS. 5A-B shows a table showing the results of an exemplary bit sensitivity analysis
- FIG. 6 shows a table of AMR speech coder rates for the channel coding schemes of GSM
- FIG. 7 is a flow chart illustrating a method of coder rate selection in accordance with another embodiment of the present invention.
- FIG. 8 shows a table illustrating characteristics for a candidate AMR-WB speech coder standard
- FIG. 9 shows a table for estimating C/I levels based on weighted reliability values from the weighting device of FIG. 1;
- FIG. 10 shows a table of active codec set (ACS) thresholds
- FIG. 11 is a block diagram illustrating details of the weighting device of FIG. 1 .
- the present invention can be used in any communication system, and specifically, in systems that transport information represented by symbols (e.g. bits) having differing perceptual importance.
- symbols e.g. bits
- Examples of such systems include many wireline and wireless communication systems, such as iDEN, GSM, satellite communications and advanced generation cellular systems.
- the invention can provide speech quality and rate determination improvements to GSM and adaptive multi-rate (AMR) systems. It may also provide capacity and rate determination improvements to DS-CDMA systems, such as IS-95.
- the invention can improve speech quality for a fixed rate speech coder in channels with errors (e.g., iDEN, Half- or Full-Rate GSM).
- the invention can improve speech quality for variable rate speech coders in channels with errors (e.g., AMR in GSM).
- the receiver may be able to optimize the decoded speech quality for scenarios in which: (a) the rate determination mechanism is inadequate, (b) the air interface error detection method (e.g., CRC) is inadequate, or (c) the received speech frames each have different coding rates, thus complicating error concealment algorithms.
- the apparatus 20 can be included in a receiver used in a wireless communication system.
- the apparatus includes an antenna 21 , a radio frequency (RF) demodulator 22 , a decoder 24 , a weighting device 26 , an error concealment procedure 28 , a rate determination procedure 30 , and a rate selection procedure 32 .
- RF radio frequency
- the demodulator 22 can be any commercially-available RF demodulator for outputting digitized information symbols in response to receiving data modulated on an RF carrier using any suitable conventional modulation technique. In addition to outputting demodulated information symbols, the demodulator 22 can also generate soft values indicating the reliability of corresponding symbols.
- the decoder 24 can be any suitable channel decoder for outputting decoded information and soft reliability values according to a predetermined coding scheme.
- the output of the decoder 24 includes information symbols, such as bits, representing decoded information and soft values representing the reliability of corresponding output information symbols.
- the decoder 24 can implement any suitable channel coding algorithm, such as a soft output Viterbi algorithm (SOVA), modified SOVA, MAP or BCJR, or other decoding algorithm.
- SOVA soft output Viterbi algorithm
- MAP MAP
- BCJR BCJR
- the weighting device 26 generates the total reliability value and the reliability vector based on the information symbols and soft reliability values from the decoder 24 .
- the weighting device 26 includes a first input 200 for receiving the information symbols from the decoder 24 and a second input 202 for receiving the reliability values corresponding to the symbols.
- the device 26 also includes a classifier 204 , a look-up table 206 , and a weight calculator 210 .
- the classifier 204 associates each of the incoming information symbols with at least one of a plurality of predetermined classes.
- the look-up table 206 stores weighting factors corresponding to each of the classes. Based on the class of an incoming symbol, a corresponding weight factor is retrieved from the look-up table 206 .
- the weight calculator 210 determines a plurality of class reliability values and then weights each class reliability value with a corresponding weight factor from the look-up table 206 to generate a plurality of weighted class reliability values.
- the weighted class reliability values form the basis for the total reliability value R and the reliability vector r.
- the apparatus 20 can include one or more procedures for performing channel management actions based on the output of the weighting device 26 .
- the error concealment procedure 28 can include circuitry and/or software programs for reducing the effects of errors occurring in the information symbols.
- the rate determination procedure 30 is used in multi-rate systems and can include circuitry and/or software programs for determining the coding rate of the decoder 24 .
- the rate selection procedure 32 includes circuitry and/or software programs for selecting a coding rate in a multi-rate system. An example of a rate selection process is described in more detail below.
- the apparatus 20 can be implemented using various hardware and software components, or combinations thereof.
- the apparatus 20 can be built using one or more integrated circuits, such as application specific integrated circuits (ASICs), or a combination of commercially-available hardware components and microprocessor(s), where the microprocessor executes one or more software programs for performing the functions of the apparatus 20 as disclosed herein.
- ASICs application specific integrated circuits
- microprocessor executes one or more software programs for performing the functions of the apparatus 20 as disclosed herein.
- FIG. 2 shows a flow chart 50 describing the operation of the apparatus 20 of FIG. 1 .
- the weighting device 26 receives reliability values and information symbols from the decoder 24 .
- the symbols can be bits.
- the weighting device 26 classifies the symbols (bits) according to a predefined classification scheme.
- the classification scheme is created using a bit sensitivity analysis. Details of the bit sensitivity analysis are described in connection with FIG. 3 .
- the sensitivity analysis can be extended over an entire frame or block, rather than a smaller window of bits, to detect the effects of multiple bit errors per frame or block.
- the information bits are assigned into C classes, where C is an integer.
- the bits in each class have a similar perceptual value, with class 1 being considered the most significant perceptually, and class C being considered the least significant perceptually.
- the number of classes is less than or equal to the total number of bits in a frame or block defined by the coding scheme.
- each bit is assigned a soft reliability value, L i , where L i ⁇ 0.
- the soft reliability value can be the output of a soft output channel decoder included in the decoder 24 , such as a soft output Viterbi algorithm (SOVA), modified SOVA, MAP or BCJR, or other decoding algorithm.
- SOVA soft output Viterbi algorithm
- MAP MAP
- BCJR BCJR
- FEC forward error correction
- FIG. 1 shows separate decoder outputs for information bits and soft values.
- the decoder 24 can output signed soft values, where the signs of the soft values represent the values of the corresponding information bits. Using this approach, it is not necessary to separately output the information bits.
- FIG. 1 shows the channel decoder 24
- the invention can apply to information bits that are not coded by an FEC algorithm or other coding scheme. With unencoded bits, soft reliability values can be derived from soft output values from the demodulator 22 .
- a plurality of class reliability values are determined.
- the reliability values associated with the bits in each class can be combined to form a respective class reliability value.
- bits in the jth class are combined to form a class reliability value, a j , where j is an integer.
- the particular method of determining a class reliability value depends on the application, but could include setting the class reliability value to be the mean of the reliability values in a class, the median reliability value of a class, or the minimum reliability value of a class, and so on.
- each of the class reliability values is weighted, whereby generating a plurality of weighted class reliability values.
- Each class j is assigned a weighting factor w j , where W j ⁇ 0.
- the weighting factors can be predetermined or adaptively selected and are stored in the look-up table 206 . A greater weighting factor indicates that a class is more perceptually significant. A weighting factor of zero effectively excludes a class.
- a weighting factor of zero effectively excludes the class from the total reliability value.
- Equation (1) As an alternative to the summation operation of Equation (1), other operations can be used, such as a series multiplication, minimum determination, maximum determination, and so on. For each operation, there exists a corresponding weighting factor which can be used to exclude a class from the total reliability value.
- a channel management action is taken based on either the total reliability value R or the reliability vector r.
- the channel management action can include error detection, error concealment, coding rate determination, coding rate selection, or various other actions for configuring the transfer of information over a communication channel.
- the value of R is used to trigger and control the error concealment algorithm 28 .
- the error concealment algorithm 28 could, for example, mute the amplitude of the resulting synthesized speech signal in proportion to the value of R.
- R is less than a threshold
- the corresponding frame or block of information can be declared to be in error.
- the threshold can be predetermined or adaptively selected, based on criteria such as channel conditions. Using a threshold comparison, the error concealment process 28 can use a previously received good frame to synthesize the speech instead of the corrupted frame.
- the apparatus 20 and method described above provide unequal error protection and/or error detection based on the perceptual weighting of information symbols.
- the apparatus 20 and method can be used to augment error detection already present in a receiver's air interface.
- the apparatus 20 and method are applicable to any channel coding scheme that can generate the soft reliability values.
- the apparatus 20 and method can be used to bypass known rate determination procedures for IS-95.
- the apparatus 20 and method are applicable to receivers using soft input soft output (SISO-type) decoders.
- SISO-type soft input soft output
- the bit sensitivity analysis is performed for a given coding scheme to create classes of speech encoded bits. Each class defines a group of encoded bits having a particular perceptual importance.
- the bit sensitivity analysis exploits the fact that, with a particular coding algorithm, some bits of a speech/data frame are more perceptually important than others. For example, a single bit error in an “energy” parameter—within a coded frame could cause a loud sound burst at the receiver which would degrade audio quality, and at worst, would be a potential aural hazard. On the other hand, a bit error in a “residual error” parameter of the same frame may not cause noticeable audio degradation.
- error control coding can be applied in an air interface in a manner in which the most sensitive bits, i.e., most perceptually important, get the most error protection while the less sensitive bits get less error protection; hence, the term “unequal error protection”.
- the error control coding applied at the transmitter can involve unequal error protection methods of error correction, error detection, or both.
- the receiver in addition to performing all error protection operations associated with the air interface, can exploit the perceptual importance of the speech bits and provide additional unequal error protection. For example, after error correction is attempted on a received speech frame, if a perceptually important speech bit is detected to be in error, then an error concealment strategy can be invoked (such as substituting a previously received uncorrupted frame). Errors in other less perceptually important bits may not merit inclusion in an error concealment algorithm or may be treated differently by the error concealment algorithm.
- FIG. 3 shows a flow chart 70 of a method of performing a bit sensitivity analysis.
- the bit sensitivity analysis can be performed “off-line”, in a non-operational mode of the apparatus 20 .
- the results of the analysis can be stored in the apparatus 20 as a look-up table.
- an encoded test information file is provided.
- the test file can include a predefined sample of information, such as voice, data video, or the like, encoded using a specified coding scheme.
- the amount of information in the file can represent a predetermined number of blocks or frames.
- step 74 one or more bits in the test file is set incorrectly to create a data error in the file. This simulates data errors caused during transmission over a communication channel.
- the corrupted test file is provided to a decoder.
- the output of the decoder is then rated according to subjective or objective criteria (step 78 ).
- the subjective criteria can be how a particular listener or viewer perceives the decoded, corrupted file.
- the objective criteria can include measurable data quality metrics and other parameters, such as those defined by ITU P.861.
- step 80 the erroneous bit is assigned to a class based on its rating. Erred bits causing a greater degree of degradation are ranked in classes having lower index numbers.
- FIGS. 5A-B show a table 100 illustrating the results of an exemplary bit sensitivity analysis for a particular vocoding algorithm. Detail of the vocoder are given below in Section II. The table 100 shows four classes, class 1-class 4, of varying perceptual importance, with class 1 including frame bits having the greatest impact on speech quality and class 4 including frame bits having the least impact.
- a speech coder having a coding rate of 2289 bits per second (bps) is used for half-rate speech outputs of 103 bits every 45 msec.
- Two successive blocks are channel encoded using unequal error protection prior to transmission in a 90 msec frame.
- the unequal error protection is performed as follows.
- a subjective bit sensitivity analysis is performed to determine the aural impact of a bit error for each of the 103 bits in a block.
- the bits are ranked and divided into four classes. The results of the bit sensitivity analysis are given in FIGS. 5A-B.
- multiple coding algorithms are employed.
- the most sensitive bits are always encoded with a Golay code, while the less sensitive bits are encoded with a less-powerful Hamming code, and the least sensitive bits are not encoded.
- this is an example of a fixed-rate vocoder with unequal error protection in the transmitter using different block coding algorithms.
- a soft-input, soft-output (SISO) Golay decoder processes the Golay codewords, while a SISO Hamming decoder processes the Hamming codewords.
- the soft-output decoders respectively assign each output bit a soft reliability value.
- the class reliability value, a j can be the minimum bit reliability value for the bits in the jth class. The weighting factors for this scheme are given in FIG. 4 .
- R is less than a threshold
- the decoded frame is declared to be in error and an error concealment algorithm is invoked.
- the threshold can be set based on a range of soft reliability values that has been determined. With the weighting factors given in FIG. 4, a threshold is picked such that one unreliable bit in Class 1 or several unreliable bits in Class 2 will cause a frame error to be declared. With the thresholds properly chosen and an effective error concealment algorithm, the resulting speech quality can be improved since frames with multiple bit errors, which would have otherwise gone undetected, are now detected.
- the invention can also be applied in a DS-CDMA system in a manner similar to that described in connection with the above-described speech coder. Since the multi-rate vocoder outputs speech bits with perceptually different importance, the receiver can use unequal error protection to alter the declaration of a decoded frame error. That is, a bad frame need not be declared if the CRC indicates that there is at least one decoded bit error (as is currently done for full-rate speech). After decoding, if the reliability function R is sufficiently high, the bit (or bits) in error may have very little perceptual importance. The best speech quality would then be obtained by using the decoded speech frame with the bit error(s) rather than invoking an error concealment algorithm for the entire frame.
- the Adaptive Multi Rate (AMR) vocoder for GSM provides eight different speech coding rates, one of which is selected by the network to encode speech every 20 msec.
- the AMR vocoder can be used on a Full-Rate GSM channel (22.8 kbps) and a Half-Rate GSM channel (11.4 kbps) for a total of 14 different channel coding schemes, as shown in FIG. 6 .
- a 6-bit CRC is used to detect errors on the perceptually most important speech bits of a frame.
- Unequal error protection is applied at the air interface of transmitters and receivers in the form of a stronger convolutional code for the most important speech bits and a punctured convolutional code for the less important bits. For some rates, the least important bits are transmitted without coding.
- the vocoder rate is transmitted to receivers in-band so that each receiver knows which of the fourteen Viterbi decoders should be used.
- the vocoder rate is sent within the frame as a two-bit parameter that is encoded with an (8,2) block code.
- the vocoder rate is sent as a two-bit parameter that is encoded with a (4,2) block code. The value of the rate is sent every other speech frame, so the rate can only change every other speech frame.
- the decoder must not allow an undetected bad frame more frequently than once every 3000 speech frames when random noise is input to the decoder.
- the number of CRC bits L should be at least twelve bits (2 ⁇ L ⁇ 0.00033). Since AMR uses a 6-bit CRC, it can guard against only one miss in 64 speech frames, so it will need to be augmented by an additional error detection method.
- the reliable decoding of the speech frames depends on the reliable decoding of the block code that protects the rate information. If the decoding of the block code fails, two consecutive speech frames may be decoded incorrectly.
- a soft-decision block decoder attempts to decode the block code and outputs the rate as well as an associated reliability.
- the invention is applied in a manner similar to the fixed-rate error detection scheme described above in Section I.
- the SISO convolutional decoder assigns a soft reliability value to at least some of the decoded bits and class reliability values are derived from the bit reliability values, based on a bit sensitivity analysis performed off-line.
- a total reliability function R is computed according to Equation 2. If R is less than a threshold, the decoded frame is declared to be in error, even if the CRC checks satisfactorily.
- the threshold can be set to meet the GSM Recommendation 05.05 requirement. In addition, the threshold can be made mode dependent. This is useful if the lowest mode is more likely to experience random noise conditions, and thus, needs more error protection.
- the value of R is also input to the error concealment algorithm.
- the error concealment algorithm if the CRC checks but a low value of R is not sufficiently low to trigger a bad frame indication, this could indicate multiple bit errors in speech bits that are not protected by the CRC. In this case, the synthesized speech can be partially muted by a value proportional to R.
- the value of R and the status of the CRC check are also input to the rate determination algorithm 30 . If the block decoder fails to decode the received rate information, the rate determination algorithm provides a second chance to salvage the next two speech frames.
- the convolutional decoder attempts to decode the speech at an assumed rate. If the CRC checks and the value of R is sufficiently large, then the decoded speech may be used rather than discarded. In this case, the decoded speech is accepted. If not, the convolutional decoder can try another rate and repeat the process until a speech frame is accepted or until a time-out occurs. Another function of the rate determination algorithm 30 is to detect the cases in which the block decoder erroneously decodes the rate.
- the rate determination algorithm can use the CRC check and the value of R to override the decision of the block decoder, and ultimately determine the correct rate.
- the transmitted rate of a particular frame is not sent to the receiver, so a rate determination algorithm is needed. Decoding each of the possible rates and using metrics from the decoder to choose the most likely transmitted rate is known to be a very reliable method.
- the existing rate determination algorithms, as well as error concealment algorithms treat all bits in the frame as equally important even though some bits of a vocoded speech data frame are perceptually more important than other bits. Accordingly, unequal error protection based on soft values associated with each decoded bit can be used at a receiver for rate determination.
- unequal error protection can be used in the receiver to adaptively reduce or increase the required transmit power, thus potentially reducing system interference and increasing system capacity.
- the multi-rate vocoder used in IS-95 Rate Set 2 can transmit any one of four possible rates every 20 msec frame.
- the transmitted rate is determined by the degree of voice activity in the speech.
- For a strongly voiced speech frame all of the speech bits are checked with a CRC and are convolutionally encoded before transmission.
- the specific rate is not communicated explicitly to the receiver, hence a rate determination algorithm is needed.
- a Viterbi decoder decodes at all four rates and the speech decoder decodes one of the rates as determined by the rate determination algorithm 30 . If the algorithm 30 is not confident about any of the decodings, a bad frame is declared which invokes the error concealment algorithm 28 , as well as influences the power control mechanism.
- the application of the invention is an extension of the AMR application, except that the rate is determined exclusively from the CRC and the total reliability value R (i.e., there is no in-band signaling to denote the transmitted rate).
- R i.e., there is no in-band signaling to denote the transmitted rate.
- all four of the possible rates should be decoded.
- the resulting CRC checks and four reliability values are then compared to predetermined thresholds to determine the most likely transmitted rate.
- the reliability values are associated with the decoded speech bits, not the coded sequence. As such, a soft-output decoder is used to generate the reliability values.
- a subset of the bits in the speech frame can have associated reliability values generated, and be used by the methods disclosed herein.
- the weighting device 26 of the present invention produces a total reliability value from a window of soft outputs of a soft output decoder such as a SOVA, MAP, max-log-MAP, or the like for predetermined codes, such as block, convolutional, or the like.
- the total reliability value can be used for error detection, error concealment, or rate determination as described above.
- an alternate embodiment of the invention uses the total reliability value to perform rate selection in a multi-rate system.
- One such exemplary multi-rate system is a candidate AMR speech coder standard of GSM.
- the example AMR system is designed to switch between a set of rates (speech/channel coding combinations) in response to changing channel conditions.
- the channel conditions are specified in terms of carrier to interference ratio (C/I).
- the switching algorithm is defined in terms of a set of four modes in an Active Codec Set (ACS) and two sets of thresholds, one set for moving to a higher rate in the ACS and one set for moving to a lower rate in the ACS.
- ACS and thresholds can be sent from a base site to mobile subscriber units at call setup.
- the rate selection process includes using a state machine to prevent un-necessary changes of the requested codec rate (rate changes are not visible to the decoder until a number of frames later due to interleaving delay), and using a Bad Frame Indicator (BFI) to prevent rate changes when the decoded information is suspect of being unreliable.
- BFI Bad Frame Indicator
- Part of implementing rate selection is the C/I determination at the mobile. An accurate C/I measurement is necessary for good overall AMR performance.
- One way to estimate C/I is to use the existing channel decoder and the weighting device 26 disclosed herein to perform rate selection.
- step 132 for each frame of data, a total reliability value is generated using the weighting device 26 .
- the total reliability value is used to estimate C/I values on a per frame basis. This can be accomplished by mapping the total reliability value to a lookup table storing estimated C/I values.
- step 136 the C/I samples are filtered to generate a filtered C/I estimate.
- step 138 the filtered C/I estimate in then used by the mobile subscriber unit to select the coding rate.
- a table 150 of the characteristics of AMR-WB is given in FIG. 8 .
- the weighting device 26 produces a total reliability value based on the minimum absolute reliability value from a window of bits defined by the last eight values output from a max-log-MAP decoder running on a convolutional code trellis. To generate the total reliability value, the weighting device 26 can perform the classification and weighting procedures as disclosed herein.
- FIG. 9 shows a table 160 of the expected total reliability value for each of the modes of the AMR-WB at a given C/I level. C/I levels for 1-22 dB are shown in the left hand column, and modes are identified in the top row. For a given total reliability value (weighted reliability value) and mode, the corresponding C/I value can be interpolated from the table. Note that the table entries for the total reliability value are dependent on the code rate, the number of states in the convolutional code, and the puncturing being performed.
- step 136 the estimated C/I values corresponding to frames are filtered (smoothed) to produce a C/I estimate. Filtering reduces variance in the C/I estimates to reduce the possibility of unnecessary switching between modes.
- the filter can be either finite impulse response (FIR) or infinite impulse response (IIR).
- An example of an IIR filter used to smooth the C/I samples to generate the C/I estimate is:
- ⁇ overscore (x) ⁇ ( n ) ⁇ overscore (x) ⁇ ( n ⁇ 1)(1 ⁇ )+ ⁇ x ( n ), (3)
- x represents the value of the C/I estimates
- n is an integer.
- step 138 the filtered estimated C/I ratio is compared to a threshold to determine whether the operational mode, and thus, the coding rate, should be changed.
- a exemplary table 180 of ACS thresholds for various modes of the candidate AMR-WB system is given in FIG. 10 . Referring to the table 180 , if, for example, the mobile subscriber unit is currently operating in mode 2 , the unit will switch to mode 4 when the estimated C/I ratio exceeds 17 dB, and the unit will switch to mode 1 when the estimated C/I ratio falls below 12 dB. If the threshold comparison indicates that the mode needs to change, the mobile subscriber unit configures itself to operate at the new mode and communicates the mode change to the base site.
Abstract
Description
Claims (25)
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US09/818,428 US6732321B2 (en) | 2001-03-27 | 2001-03-27 | Method, apparatus, and article of manufacture for error detection and channel management in a communication system |
Applications Claiming Priority (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US09/818,428 US6732321B2 (en) | 2001-03-27 | 2001-03-27 | Method, apparatus, and article of manufacture for error detection and channel management in a communication system |
Publications (2)
Publication Number | Publication Date |
---|---|
US20020174376A1 US20020174376A1 (en) | 2002-11-21 |
US6732321B2 true US6732321B2 (en) | 2004-05-04 |
Family
ID=25225515
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US09/818,428 Expired - Lifetime US6732321B2 (en) | 2001-03-27 | 2001-03-27 | Method, apparatus, and article of manufacture for error detection and channel management in a communication system |
Country Status (1)
Country | Link |
---|---|
US (1) | US6732321B2 (en) |
Cited By (11)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20040008631A1 (en) * | 2002-06-24 | 2004-01-15 | Lg Electronics Inc. | Error detecting method of mobile communication system |
US20040039985A1 (en) * | 2002-06-18 | 2004-02-26 | Mikkola Hannu J. | Method and apparatus for puncturing with unequal error protection in a wireless communication system |
US20050022097A1 (en) * | 2003-07-22 | 2005-01-27 | Jung-Fu Cheng | Adaptive hybrid ARQ algorithms |
US20060133291A1 (en) * | 2004-12-16 | 2006-06-22 | Kim Hea J | Method and system for determining a signal quality metric in event of a CRC false positive |
US20060281485A1 (en) * | 2003-01-21 | 2006-12-14 | Sony Ericsson Mobile Communications Ab | Speech data receiver with detection of channel-coding rate |
US20090019332A1 (en) * | 2003-12-22 | 2009-01-15 | Koninklijke Philips Electronic, N.V. | Siso decoder with sub-block processing and sub-block based stopping criterion |
US20090282298A1 (en) * | 2008-05-08 | 2009-11-12 | Broadcom Corporation | Bit error management methods for wireless audio communication channels |
US8095845B1 (en) * | 2008-07-09 | 2012-01-10 | Lsi Corporation | System and method for assigning code blocks to constituent decoder units in a turbo decoding system having parallel decoding units |
US20120226950A1 (en) * | 2010-09-10 | 2012-09-06 | Qualcomm Incorporated | Data classification based on cyclic redundancy check and decoder metric |
US20130173984A1 (en) * | 2011-12-30 | 2013-07-04 | Infinera Corporation | Forward error correction (fec) convergence by controlling reliability levels of decoded words in a soft fec decoder |
US8578250B2 (en) * | 2010-09-10 | 2013-11-05 | Qualcomm Incorporated | Data classification in a wireless communication system |
Families Citing this family (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US7200171B2 (en) * | 2003-01-21 | 2007-04-03 | Sony Ericsson Mobile Communications Ab | System and method for estimating initial channel quality in a multirate system |
US8213546B2 (en) * | 2007-11-13 | 2012-07-03 | Silicon Laboratories Inc. | System and method for decoding RDS/RBDS data |
US20100195563A1 (en) * | 2008-11-26 | 2010-08-05 | Je-Hong Jong | Method and system of providing efficient packetized voice communcations and data bearers in mobile satellite systems |
JP5721486B2 (en) * | 2011-03-18 | 2015-05-20 | 株式会社日立国際電気 | Communication equipment |
CN113450809B (en) * | 2021-08-30 | 2021-11-30 | 北京百瑞互联技术有限公司 | Voice data processing method, system and medium |
Citations (7)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US5229767A (en) | 1991-09-05 | 1993-07-20 | Motorola, Inc. | Decoder for convolutionally encoded information |
US5502713A (en) * | 1993-12-07 | 1996-03-26 | Telefonaktiebolaget Lm Ericsson | Soft error concealment in a TDMA radio system |
US5671255A (en) | 1996-03-29 | 1997-09-23 | Motorola, Inc. | Method and apparatus for determining coding rate in a wireless communication system |
US5751725A (en) * | 1996-10-18 | 1998-05-12 | Qualcomm Incorporated | Method and apparatus for determining the rate of received data in a variable rate communication system |
US6141781A (en) * | 1996-02-14 | 2000-10-31 | Robert Bosch Gmbh | Process for editing of data, in particular with variable channel bit rate |
US6170073B1 (en) * | 1996-03-29 | 2001-01-02 | Nokia Mobile Phones (Uk) Limited | Method and apparatus for error detection in digital communications |
US6298084B1 (en) * | 1998-11-24 | 2001-10-02 | Motorola, Inc. | Bad frame detector and turbo decoder |
-
2001
- 2001-03-27 US US09/818,428 patent/US6732321B2/en not_active Expired - Lifetime
Patent Citations (7)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US5229767A (en) | 1991-09-05 | 1993-07-20 | Motorola, Inc. | Decoder for convolutionally encoded information |
US5502713A (en) * | 1993-12-07 | 1996-03-26 | Telefonaktiebolaget Lm Ericsson | Soft error concealment in a TDMA radio system |
US6141781A (en) * | 1996-02-14 | 2000-10-31 | Robert Bosch Gmbh | Process for editing of data, in particular with variable channel bit rate |
US5671255A (en) | 1996-03-29 | 1997-09-23 | Motorola, Inc. | Method and apparatus for determining coding rate in a wireless communication system |
US6170073B1 (en) * | 1996-03-29 | 2001-01-02 | Nokia Mobile Phones (Uk) Limited | Method and apparatus for error detection in digital communications |
US5751725A (en) * | 1996-10-18 | 1998-05-12 | Qualcomm Incorporated | Method and apparatus for determining the rate of received data in a variable rate communication system |
US6298084B1 (en) * | 1998-11-24 | 2001-10-02 | Motorola, Inc. | Bad frame detector and turbo decoder |
Cited By (22)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20040039985A1 (en) * | 2002-06-18 | 2004-02-26 | Mikkola Hannu J. | Method and apparatus for puncturing with unequal error protection in a wireless communication system |
US7610543B2 (en) * | 2002-06-18 | 2009-10-27 | Nokia Corporation | Method and apparatus for puncturing with unequal error protection in a wireless communication system |
US7430178B2 (en) * | 2002-06-24 | 2008-09-30 | Lg Electronics Inc. | Error detecting method of mobile communication system |
US20040008631A1 (en) * | 2002-06-24 | 2004-01-15 | Lg Electronics Inc. | Error detecting method of mobile communication system |
US7606705B2 (en) * | 2003-01-21 | 2009-10-20 | Sony Ericsson Mobile Communications | Speech data receiver with detection of channel-coding rate |
US20060281485A1 (en) * | 2003-01-21 | 2006-12-14 | Sony Ericsson Mobile Communications Ab | Speech data receiver with detection of channel-coding rate |
US7155655B2 (en) * | 2003-07-22 | 2006-12-26 | Telefonaktiebolaget Lm Ericsson (Publ) | Adaptive hybrid ARQ algorithms |
US20050022097A1 (en) * | 2003-07-22 | 2005-01-27 | Jung-Fu Cheng | Adaptive hybrid ARQ algorithms |
US20090019332A1 (en) * | 2003-12-22 | 2009-01-15 | Koninklijke Philips Electronic, N.V. | Siso decoder with sub-block processing and sub-block based stopping criterion |
US7849377B2 (en) * | 2003-12-22 | 2010-12-07 | Koninklijke Philips Electronics N.V. | SISO decoder with sub-block processing and sub-block based stopping criterion |
US20060133291A1 (en) * | 2004-12-16 | 2006-06-22 | Kim Hea J | Method and system for determining a signal quality metric in event of a CRC false positive |
US7398452B2 (en) * | 2004-12-16 | 2008-07-08 | Broadcom Corporation | Method and system for determining a signal quality metric in event of a CRC false positive |
US8578247B2 (en) * | 2008-05-08 | 2013-11-05 | Broadcom Corporation | Bit error management methods for wireless audio communication channels |
US20090282298A1 (en) * | 2008-05-08 | 2009-11-12 | Broadcom Corporation | Bit error management methods for wireless audio communication channels |
US8095845B1 (en) * | 2008-07-09 | 2012-01-10 | Lsi Corporation | System and method for assigning code blocks to constituent decoder units in a turbo decoding system having parallel decoding units |
US20120079345A1 (en) * | 2008-07-09 | 2012-03-29 | Lsi Corporation | System and method for assigning code blocks to constituent decoder units in a turbo decoding system having parallel decoding units |
US8769372B2 (en) * | 2008-07-09 | 2014-07-01 | Lsi Corporation | System and method for assigning code blocks to constituent decoder units in a turbo decoding system having parallel decoding units |
US20120226950A1 (en) * | 2010-09-10 | 2012-09-06 | Qualcomm Incorporated | Data classification based on cyclic redundancy check and decoder metric |
US8578250B2 (en) * | 2010-09-10 | 2013-11-05 | Qualcomm Incorporated | Data classification in a wireless communication system |
US8612825B2 (en) * | 2010-09-10 | 2013-12-17 | Qualcomm Incorporated | Data classification based on cyclic redundancy check and decoder metric |
US20130173984A1 (en) * | 2011-12-30 | 2013-07-04 | Infinera Corporation | Forward error correction (fec) convergence by controlling reliability levels of decoded words in a soft fec decoder |
US8645788B2 (en) * | 2011-12-30 | 2014-02-04 | Infinera Corporation | Forward error correction (FEC) convergence by controlling reliability levels of decoded words in a soft FEC decoder |
Also Published As
Publication number | Publication date |
---|---|
US20020174376A1 (en) | 2002-11-21 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
KR100344513B1 (en) | Soft Error Correction in a TDMA Radio System | |
US6732321B2 (en) | Method, apparatus, and article of manufacture for error detection and channel management in a communication system | |
US6170073B1 (en) | Method and apparatus for error detection in digital communications | |
JP3169522B2 (en) | Data receiving device | |
US5557639A (en) | Enhanced decoder for a radio telephone | |
EP1061503B1 (en) | Error detection and error concealment for encoded speech data | |
US6813323B2 (en) | Decoding method and communication terminal apparatus | |
US5430743A (en) | Method and apparatus for recovering data in a radio communication system | |
JP3833260B2 (en) | Method and apparatus for determining coding rate in wireless communication system | |
JPH08503596A (en) | Method and apparatus for detecting bad frames of information in a communication system | |
JP2000516415A (en) | Decoder using soft information output to minimize error rate | |
EP0798888B1 (en) | Method and apparatus for digital communication with error encoding according to division of data in classes | |
JP4825944B2 (en) | Method and apparatus for reducing rate determination error and its artifact | |
US5960010A (en) | Error detection and error concealment of convolutionally encoded data | |
KR100213876B1 (en) | Bits error rate measuring device using viterbi decoder | |
EP1292943B1 (en) | Audible error detector and controller utilizing channel quality data and iterative synthesis | |
US6714896B1 (en) | Method and apparatus for signal degradation measurement | |
US6004028A (en) | Device and method for receiving and reconstructing signals with improved perceived signal quality | |
JPH0715353A (en) | Voice decoder | |
US6598189B1 (en) | Method and apparatus for determining the rate and quality of received data in a variable rate digital communication system | |
US7043678B2 (en) | Method for identifying bad frames | |
US20050286657A1 (en) | Apparatus and method for hybrid decoding | |
JP2002501328A (en) | Method and apparatus for coding, decoding and transmitting information using source control channel decoding | |
US6677865B1 (en) | Method and configuration for decoding information | |
US7818632B2 (en) | Code-word list algorithm |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
AS | Assignment |
Owner name: MOTOROLA, INC., ILLINOISFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:CLASSON, BRIAN;NOWACK, JOSEPH;JOHNSON, JOHN C.;REEL/FRAME:011840/0737Effective date: 20010516 |
|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |
|
FPAY | Fee payment |
Year of fee payment: 4 |
|
AS | Assignment |
Owner name: MOTOROLA MOBILITY, INC, ILLINOISFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:MOTOROLA, INC;REEL/FRAME:025673/0558Effective date: 20100731 |
|
FPAY | Fee payment |
Year of fee payment: 8 |
|
AS | Assignment |
Owner name: MOTOROLA MOBILITY LLC, ILLINOISFree format text: CHANGE OF NAME;ASSIGNOR:MOTOROLA MOBILITY, INC.;REEL/FRAME:029216/0282Effective date: 20120622 |
|
AS | Assignment |
Owner name: GOOGLE TECHNOLOGY HOLDINGS LLC, CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:MOTOROLA MOBILITY LLC;REEL/FRAME:034422/0001Effective date: 20141028 |
|
FPAY | Fee payment |
Year of fee payment: 12 |