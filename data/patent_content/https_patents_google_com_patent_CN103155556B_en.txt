This application claims the entitled " Feature submitted on October 5th, 2010 being abandoned now
Based Video Coding " U.S. Provisional Patent Application No.61/389, the rights and interests of 930, it is public
Open and be fully incorporated in present patent application as reference.
Detailed description of the invention
Before describing according to the specific embodiment of the present invention, it can be seen that embodiment mainly exists
In the method step relevant to the method and apparatus that the video flowing of feature based compiles and apparatus assembly
Combination.Thus, apparatus assembly and method step by the conventional symbols in figure by suitably
Represent, those specific detail relevant to understanding embodiments of the invention are only shown, with not by right
For benefiting from those of ordinary skill in the art of description in this, obvious details obscures
The disclosure.
In the document, the relational terms of such as first and second, top and bottom etc. can be by
It is used alone, to distinguish an entity or action and another entity or action, without need
The such relation of any reality asked or imply between such entity or action or order.Term
" include ", " comprising " or its any other modification are intended to cover nonexcludability and include, make
Must include that the process of the list of element, method, article or equipment not only include those elements,
And intrinsic its of not expressly listed or such process, method, article or equipment can be included
His element.In the case of not more multiple constraint, " including one ", element subsequently included
The process of this element, method, article or equipment do not exclude the presence of additional identical elements.To think
Arriving, the embodiment of invention described herein can be by one or more conventional processors and combination
Specific non-processor controls one or more processors to realize feature based described here
Video flowing compiling some, the unique stored program instruction of great majority or all functions constitutes.
Non-processor can include but not limited to radio receiver, transmitting set, signal
Driver, clock circuit, power circuit and user input apparatus.Similarly, these merits
Can be interpreted to perform the step of the method for the video flowing compiling of feature based.Alternatively,
Some or all of functions can be by not storing the state machine of programmed instruction or at one or many
Individual special IC (ASIC) realizes, wherein, some of each function or specific function
Combination is implemented as customized logic.Of course, it is possible to use the combination of two kinds of methods.Thus,
This describes the method and apparatus for these functions.And, although there may be the biggest effort
With the multiple design alternative promoted by such as pot life, current techniques and economic consideration,
But when being guided by thought disclosed herein and principle, it is desirable to those of ordinary skill in the art will
Such software instruction and program and IC can be generated by minimum experiment.
According to description, described principle is setting that the head end of video distribution system operates
Standby and input video stream is divided into the piecemeal of each in multiple channels of video
(partition) divider.This equipment also includes: channel analyser, and it coupled to divider,
Wherein, channel analyser decomposes piecemeal；And encoder, it coupled to channel analyser, with
By through decompose block encoding be coded bit stream, wherein, encoder from multiple channels to
Few one receives compiling information to use when by the block encoding through decomposing for coded bit stream.
In one embodiment, this equipment includes: reconstruct ring, and coded bit stream is decoded by it, and
Decoded bit stream is reconfigured into reconstruct video flowing；And buffer, it stores reconstruct
Video flowing.In another embodiment, buffer can also store other letters from video flowing
Other compiling information in road.It addition, compiling information includes reconstructing video stream and for encoder
At least one in compiling information, and the information that compiles is the compiling information of video flowing and with reference to figure
At least one in sheet information.And, divider uses at least one in multiple characteristic sets
Form piecemeal.In an embodiment, reference picture is determined from the reconstructing video stream created by bit stream
Information.
In another embodiment, disclose a kind of equipment, including: decoder, it receives volume
Code bit stream, wherein, decoder is according to the compiling of the channel about coded bit stream received
Information is to bit stream decoding.This equipment also includes: channel synthesizer, and it coupled to decoder,
Decoding bit stream is synthesized in the piecemeal of video flowing；And combiner, it coupled to channel and closes
Grow up to be a useful person, to create reconstructing video stream from decoding bit stream.Compiling information can include reconstructing video
Stream and for reconstructing video stream compiling information at least one.It addition, this equipment includes:
It coupled to the buffer of combiner, wherein, buffer storage reconstructing video stream.Wave filter is permissible
Be coupling between buffer and decoder, with by reconstructing video stream feed back at least partially solve
Code device is as compiling information.It is also based in multiple characteristic sets of reconstructing video stream at least
One determines piecemeal.
It addition, a kind of open method of described principle, including: receive input video stream, and
And be multiple piecemeal by input video stream piecemeal.The method also includes: decompose multiple piecemeal, with
And by through decompose block encoding be coded bit stream, wherein, coding use from input video
The compiling information of the channel of stream.In one embodiment, the method farther includes: receive from
The reconstructing video stream that coded bit stream obtains is as being the input of bit stream by block encoding.
And, the method may include that caching will be used as other channels for input video stream
The reconstructing video stream from coded bit stream reconstruct of compiling information.Compiling information can be video flowing
Compiling information and reference picture information at least one.
Also disclose another kind of method.The method includes: receive at least one coded bit stream also
And the bit stream that decoding is received, wherein, decoding uses the volume of the channel from input video stream
Translate information.It addition, decoded bit stream is synthesized to a series of of input video stream by the method
In piecemeal, and piecemeal is combined in reconstructing video stream.In one embodiment, compiling letter
Breath is at least one in the compiling information of input video stream and reference picture information.And, should
Method may include that use reconstructing video stream is as decoding bit stream and synthesize for solving
The input of the reconstructing video stream of code bit stream.
The present invention each region based on the picture in video flowing by a specific stack features by
The hypothesis that effectively describes and be developed.Such as, for given face model, for effectively describing
The parameter of face may determine that a stack features.It addition, describe a stack features of a part for image
Effectiveness depends on that applying (such as, is perception phases of those application of end user for the mankind
Closing property (perceptual relevance)) and in the volume of the minimum description length for those features
The effectiveness of the compression algorithm used in Ma.
The video compiler proposed uses N stack features, i.e. { FS1...FSNWherein, each
FSiBy niIndividual feature is constituted, i.e. { fi(1)...fi(ni)}.The video compiler proposed (example effectively
As, know scheme based on some rate-distortions) being divided into by each picture can overlapping or not phase
P the suitable piecemeal handed over.It follows that each piecemeal j is allocated and is best described by the one of this piecemeal
Stack features, such as, FSi.Finally, with the FS of the data described in piecemeal jiIn characteristic set
niThe value that each in individual feature is relevant will be encoded/compress and send to decoder.Decoding
Think highly of each eigenvalue of structure, and then reconstruct piecemeal.Multiple piecemeals will form reconstructed picture.
In one embodiment, perform to receive and will be encoded and send or be stored in suitable media
In the method for video flowing.Video flowing is made up of the multiple pictures arranged continuously.For multiple figures
Each in sheet, the method determines the stack features for picture, and is drawn by each picture
It is divided into multiple piecemeal.Each piecemeal is corresponding at least one in the feature of description piecemeal.The party
Method describes the encoding scheme of feature of piecemeal to each block encoding according to being suitable to.Then, warp knit
The piecemeal of code is sent or is stored.
It will be appreciated that the video flowing received for using feature based to encode performs suitably decoding
Method.The method determines encoded piecemeal from the video flowing received.Dividing from each reception
Block, the coded method according to using determines for the feature to each block encoding.Based on really
Fixed feature, the method reconstruct is every for create in the multiple pictures in encoded video flowing
Multiple piecemeals of one.
In one embodiment, each feature compilation scheme is probably uniquely for this special characteristic
's.In another embodiment, each feature compilation scheme can be for multiple different characteristics
Compiling share.Compilation scheme can use space, time or empty across feature for identical piecemeal
Between compiling information, to compile any given feature best.If decoder relies on such
Space, time or across characteristic information, it must be from the data having sent and having decoded.
Turning now to Fig. 1, it is shown that conciliate according to the feature coding found in the picture of video flowing
The network architecture 100 of code video flowing.It is described more particularly below coding and the embodiment of decoding.As
Shown in Fig. 1, the network architecture 100 is shown as cable television (CATV) network architecture 100,
Including cable headend unit 110 and cable system 111.It is to be appreciated, however, that described here generally
Thought can be applied to other video flowing embodiments including other wired transmission with wireless type.Many
Individual data source 101,102,103 can be communicatively coupled to cable headend unit 110, including
But be not limited to multiple server 101, the Internet 102, via content supplier 103 receive nothing
The line signal of telecommunication or TV signal.Cable headend 110 is also by cable system 111 communicably coupling
It is bonded to one or more subscriber 150a-n.
According to various embodiments described below, cable headend 110 include to from data source 101,
The necessary device of the video flowing coding that 102,103 receive.Cable headend 110 includes that feature is arranged
Device 104.Feature arranges device 104 and stores the described below various spies for piecemeal video flowing
Levy.When feature is determined, the quality of feature is stored in feature and arranges the storage of device 104
In device.Cable headend 110 also includes divider 105, and it is true according to being arranged device 104 by feature
Video flowing is divided into multiple piecemeal by the various features of fixed video flowing.
Encoder 106 uses any one in the multiple encoding scheme being suitable to describe the feature of piecemeal
To block encoding.In one embodiment, encoder can be according in multiple different encoding schemes
Any one to video flowing encode.The encoded piecemeal of video flowing is provided to cable system 111
And used transceiver 107 to send to each subscri er unit 150a-n.It addition, processor 108
Device 104, divider 105, encoder 106 and transceiver are set with memorizer 109 and feature
A part for 107 operations being incorporated as cable headend 110.
Subscri er unit 150a-n can be to support the TV150n of 2D or support the TV150d of 3D.
In one embodiment, cable system 111 uses and such as fixes optical fiber or coaxial cable, by 3D
It is supplied to each in subscri er unit 150a-n with 2D video content stream.Subscri er unit 150a-n
Each including Set Top Box (STB) 120,120d, it receives the feature based described by using
The video content stream of principle.As it is understood, subscri er unit 150a-n can include coming self energy
Enough STB120,120d sending and receiving video flowing and control data from head end 110
Other kinds of wirelessly or non-wirelessly transceiver.Subscri er unit 150d can have can show 3D
The TV assembly 122d of the support 3D of three-dimensional view.Subscri er unit 150n has can show 2D
The 2D TV assembly 122 of view.Each in subscri er unit 150a-n includes receiving through solving
The piecemeal of code and re-create the combiner 121 of video flowing.It addition, processor 126 and storage
Device 128 and other assemblies unshowned combine STB and TV assembly 122,122d is used as
A part for the operation of subscri er unit 150a-n.
As discussed, each picture in video flowing is divided according to the various features found in picture
Block.In one embodiment, piecemeal be decomposed to encode or analyze and in order to decode and
The rule being reconstructed or synthesize is based on known to encoder one group of fixed character.These
Intrinsic rule be stored in respectively headend apparatus 110 and subscri er unit 150a-n memorizer 109,
In 128.In this embodiment, it is not necessary to by based on the fixed character in the type about how
Any information reconstructing piecemeal in video compiler sends to decoder from encoder.In this enforcement
In example, by the incompatible configuration codes of feature set for each block encoding/decoding to video flowing
Device 106 and decoder 124.
In another embodiment, piecemeal be decomposed to encode or analyze and in order to decode
And be reconstructed or the rule that synthesizes based on the stack features arranged by encoder 106 to provide given
The more effective compiling of piecemeal.The rule arranged by encoder 106 is self-adapting reconstruction rule.This
A little rules need to be sent to the decoder 124 at subscri er unit 150a-n from head end 110.
Fig. 2 illustrates that incoming video signal x202 is arranged device 104 by feature and is decomposed into two stack features
High-level view 200.Pixel from input video x202 can by such as motion (such as,
Low, high), intensity (bright, dark), texture, pattern, orientation, shape and based on defeated
The other kinds of feature entering the content of video x202, quality or context is classified.Input regards
Frequently signal x202 can also pass through spatio-temporal frequency, signal than noise, or by using some images
Model is decomposed.It addition, incoming video signal x202 can use any different types of combination
It is decomposed.Owing to the perceptual importance of each feature can be different, so each can lead to
Cross to have and use the different coding device Ei204 of different coding device parameter, one or more in 206
Encoder 106 more suitably encode, with produce bit stream bi208,210.Encoder E106
Can also be used in combination each feature coding device Ei204,206.
Including the decoder D124 of decoder 212,214 by coming comfortable head end 110 and subscriber
May being used in combination, from bit stream of the information of all bit streams sent between unit 105a-n
Bi208,210 reconstruct features, and this feature combines by combiner 121, defeated to produce reconstruct
Go out video signal x ' 216.It is appreciated that output video signal x ' 216 believes corresponding to input video
Number x202.
More particularly, Fig. 3 illustrates the signal of proposed efficient video compiling (HVC) method
Figure.Such as, the feature of a part of HVC it is used as based on space-frequency decomposition.But, will
Understanding, the principle being described for HVC can be applied in addition to space-frequency decomposition
Feature.As indicated, incoming video signal x302 is provided to divider 105, it includes piecemeal
Module 304 and Multiple Channel Analysis module 306.Piecemeal module 304 is configured to according to such as space frequency
The given characteristic set of rate analyzes incoming video signal x302, and based on this feature set, will
Incoming video signal x302 divides or piecemeal is multiple piecemeal.Incoming video signal x302 divides
Block is based on the rule corresponding to given characteristic set.Such as, owing to spatial frequency content is at picture
Interior change, each input picture passes through piecemeal module 304 by piecemeal so that each piecemeal
Can have different space frequency to decompose so that each piecemeal has different characteristic set.
Such as, in Multiple Channel Analysis module 306, input video piecemeal is for amounting to four features
Set can be decomposed based on the most low-low, low-high, high-low and Gao-high spatial frequency
Be 2 × 2 frequency bands, or for two features (H&L frequency component) set be broken down into want
Ask 2 × 1(of the two feature vertical) or 1 × 2(level) individual frequency band.These subbands or " letter
Road " can be by suitable subband special object or perceived quality metric (such as, mean square deviation (MSE)
Weighting), use spatial prediction, time prediction and crossband prediction to be compiled.Existing
Compiler technologies may be used for or be adapted in use to channel encoder 106 to compile frequency band.Obtained by
The bit stream of encoded video signal piecemeal be sent to subscri er unit 150a-n for solving
Code.The channel decoded by decoder 124 is used by the synthesis of module 308 channel, to pass through
Module 310 reconstructs piecemeal, thus produces output video signal 312.
The example of two channel HVC encoders 400 shown in Fig. 4.Incoming video signal x402
Can be whole image or the single image piecemeal from divider 105.Incoming video signal x
402 according to by wave filter 404,406 according to function hiFiltered.It will be appreciated that can basis
Characteristic set uses any amount of wave filter.In one embodiment, filtered signal is right
Afterwards by the factor corresponding with the quantity of wave filter 404,406, such as 2, and by sampler 408
Sampling so that the sum of the sampling in all channels is identical with the quantity of input sample.Input figure
Picture or piecemeal can be appropriately filled (such as, use symmetric extension), to realize each letter
Appropriate number of sampling in road.Obtained channel data is then by encoder E0410 and E1
412 codings, to produce channel bit-stream b respectively0414 and b1416。
If the deep resolution in position arriving the input data of encoder Ei is manageable more than encoder
Resolution, the most before the coding, input data can the most heavily be scaled.This heavy scaling can
To be made by the bounded of data quantization (uniform or non-homogeneous), the bounded of data quantifies permissible
Including data scaling, offset, round off and amplitude limit.Any operation performed before the coding is (all
As, scale and offset) should be inverted after the decoding.The special parameter used in the transfer
Decoder can be sent to, or the most consistent between encoder.
Channel encoder can utilize from other channels (at ijkIn the case of, for channel j
Compiling information i of channel k)01418, to improve compiling efficiency and performance.If i01Solving
Can use at code device, then need not include this information at this message bit stream；Otherwise, also by
This bit stream makes i01Can use for decoder, as described below.In one embodiment, compiling letter
Breath iikCan be the information needed for encoder or decoder, or it can be based on information and letter
The information of forecasting of the analysis of road condition.Space or time prediction information reuse can across by
Multiple subbands that HVC Compilation Method determines.Can make from channel motion vector for coding
Device and decoder can be used so that the compiling of a subband can be used by another subband.These
Motion vector can be accurate motion vector or the predicted motion vector of subband.Any current compiling
Compilation unit can inherit from for encoder can one or more sons
The pattern compiler information of band.It addition, encoder can use pattern compiler information
Prediction is for the pattern compiler of current compilation unit.Thus, the pattern of a subband can also be by
Another subband uses.
In order to mate decoded output, the most also include decoder reconstruction ring 420,
As by bit stream decoding device Di422, shown in 424.As decoder reconstruction ring 420 one
Point, decoded bit stream 414,416 is up-sampled by factor 2 by sampler 423, wherein,
This factor is corresponding to the quantity of bit stream, and then decoded bit stream 414,416 passes through
Wave filter 428,430 is by function giPost-filtering.Wave filter hi404,406 and wave filter gi428、
430 can be selected as so that when the output through post-filtering is added by combiner 431,
In the case of there is not compiling distortion, original input signal x can be recovered as reconstruction signal x '.
Alternatively, wave filter hi404,406 and gi428,430 can be designed to there is compiling mistake
Overall distortion is minimized in the case of Zhen.
Fig. 4 also illustrate that reconstruct output x ' how may serve as compiling following picture and for
Compiling is not shown for one other channel k() the reference of information i.Buffer 431 stores this
A little outputs, it then can be by filtering hiAnd it is extracted (decimate) to produce picture ri,
And this is for encoder EiWith decoder DiBoth perform.As indicated, picture riCan be by instead
Feedback is to be used by encoder 410 and decoder 422, and decoder 422 is reconstruct ring 420
A part.It addition, optimization can use wave filter Ri432,434 realizing, it uses filtering
Device function h436,438 and sampler 440, filter and sample for decoder reconstruction ring 420
Output.In one embodiment, wave filter Ri432,434 select for each image or divide
In multiple Multiple Channel Analysis (including the default value not decomposed) of block one.But, once
Image or piecemeal are reconstructed, and the output being buffered just can be filtered by use institute likely Multiple Channel Analysis
Ripple, to produce appropriate reference picture.As it will be appreciated, these reference picture can serve as coding
The part of device 410,412 and as the compiling information for other channels.Although it addition,
Fig. 4 illustrates and extracts reference channel after the filtering, it is also possible to do not extract reference channel.Though
So Fig. 4 illustrates the situation of two Multiple Channel Analysis, but can easily understand that from described principle
Extension to more channels.
Subband reference picture interpolation is provided for should being what information about video flowing.
Reconstruct image can suitably be decomposed, to generate with reference to sub-band information.The subband ginseng of sub sampling
The generation examining data can use the reference picture not being extracted that can be suitably synthesized to do
Go out.The design of fixing interpolation filter can be used based on the spatial character of each subband.Example
As, planar interpolation is applicable to high-frequency data.On the other hand, adaptive interpolation filters can be with base
Minimizing in MSE, it can include applying the Wiener filtering to the synthesized reference frame not being extracted
Device coefficient.
Fig. 5 illustrates decoder 500 corresponding with the encoder shown in Fig. 4.Decoder 500
To the bit stream b receivedi414,416 and altogether channel compiling information i418 operation.This information
May be used between the channel at both encoder place, derive or reuse compiling letter
Breath.The bit stream 414,416 received is by being configured to mate with encoder 410,412
Decoder 502,504 decodes.When coding/decoding parameter is a priori consistent, decoder 502,
504 are configured with similar parameters.Alternatively, decoder 502,504 receives supplemental characteristic conduct
A part for bit stream 414,416, to be configured accordingly with encoder 410,412.Adopt
Sample 506 is used for the signal that resampling is decoded.Use filter function giWave filter 508,
510 are used for obtaining reconstruct incoming video signal x '.Output signal from wave filter 508,510512 Hes514 is added together by adder 516, to produce reconstruct incoming video signal x '
518。
As indicated, reconstructed video signal x ' 518 is additionally provided to buffer 520.Buffered
Signal is provided to by function hi526,528 filtering reconstruct input signals wave filter 522,
524, and then use sampler 530 resampling signal.As indicated, filtered reconstruct
Input signal is fed back to decoder 502,504.
As it has been described above, input video stream x can be divided into piecemeal by divider 105.One
In individual embodiment, the picture of input video stream x is divided into piecemeal, wherein, and each piecemeal
The most suitable set using analysis, sub sampling and composite filter (is given based on for each
Determine the local image content of piecemeal) it is decomposed, wherein, piecemeal is configured to have from feature
The similar characteristics of set.Fig. 6 be shown with space-frequency decomposition as self adaptation piecemeal,
Decomposition and the example of the characteristic set to picture 600 compiling, use and amount to four different decomposition choosings
The example of the coding situation selected.The self adaptation piecemeal of the picture in video flowing can be by based on
One characteristic set FS of little feature description length standard describes.As it is understood, can use
Other characteristic sets.For space-frequency decomposition, picture 600 is examined, and can look for determine
Different piecemeals to similar characteristics.Inspection based on picture 600, can create piecemeal 602-614.
As indicated, piecemeal 602-614 does not overlaps, it will be understood that, the edge of piecemeal 602-614
Can be overlapping.
In the example of space-frequency decomposition, characteristic set select based on horizontal or vertical filtering and
Sub sampling.In one example, as example, it is designated as V1H1, piecemeal 604,
The pixel value of the piecemeal used in 610 is compiled: this feature set only has a feature, this spy
Levying is the pixel value of piecemeal.It is equivalent to conventional pictures compiling, wherein, encoder
Pixel value is operated.As indicated, by V1H2The piecemeal 606,612 specified flatly is filtered,
And for each in two subbands by factor 2 sub sampling.This feature set has two spies
Levy.One is low frequency sub-band (one or more) value, and another is high-frequency sub-band
(one or more) value.Then, by encoder proper, each subband is compiled.It addition,
By V2H1The piecemeal 602 specified uses vertical filter to filter, and every in two subbands
One by factor 2 sub sampling.It is similar to use V1H2Piecemeal 606,612, for piecemeal
The characteristic set of 602 has two features.One is low frequency sub-band (one or more) value,
And another is high-frequency sub-band (one or more) value.Each subband can be by closing
Suitable encoder compiling.
By V2H2In each in both horizontally and vertically of the piecemeal 608,614 specified,
Use separable or inseparable filtering and by factor 2 sub sampling.When filtering and sub sampling
When being two dimension, operation is carried out for each in four subbands so that characteristic set has
Four features.Such as, in the case of separable decomposition, fisrt feature catches low frequency (LL)
(one or more) value of subband, second and third feature catch (one or more) respectively
The low combination with high frequency (that is, LH and HL) subband values, and fourth feature seizure high frequency (HH)
(one or more) value of subband.Then each subband is compiled by encoder proper.
Divider 105 can use multiple different self adaptation segment partition scheme, with close to regarding in input
Frequency stream x creates the piecemeal 602-614 of each picture.One kind is based on rate distortion
(RD).One example of piecemeal based on RD is tree-structured approach.In the method, make
With tree construction (such as, quaternary tree), block diagram is compiled.Judge based on cost minimization
Tree branch, this cost minimization includes the performance of optimal decomposing scheme and for describing tree
Position required by node and leaf.Alternatively, piecemeal based on RD can use two circulation methods
(two pass approach).In leading to first, have and all pass through to all piecemeals of sizing
Adaptive decomposition, to find each cost decomposing and selecting, then from the first logical piecemeal quilt
Most preferably merge, to minimize the overall cost to picture compiling.In this computation, it is also possible to
Consider the transmission cost of blocking information.In leading to second, picture can be according to optimum block diagram quilt
Piecemeal and decomposition.
The piecemeal of another kind is based on non-RD.In the method, utilize norm-p minimum
Change: in the method, can calculate for same space position for each may the selection decomposed
Norm-the p of the subband data of all channels put.Optimal piecemeal is real by the optimum division of picture
Existing, to minimize super (over) norm-p at all piecemeal 602-614.And, at this
In method, by the appropriate weightings bit rate (actual or estimate) of blocking information will be sent
Overall norm-the p being added to data considers to send the cost of blocking information.For having in nature
The picture held, generally uses norm-1.
Picture in the compiling of above description video or the self adaptation sub-band division of piecemeal.Each decomposition
Selecting the descriptive grade of sub sampling in each in all passing through both horizontally and vertically, it continues
And limit quantity and the size of subband, such as V1H1、V1H2Deng.As will be appreciated, for picture
Or the decomposed information of piecemeal can be weighed by sending the residual error increment for following picture or piecemeal
New use or prediction.Before the compression, each subband is by such as application wave filter hi404、406
Analysis filter be derived, and after suitable up-sampling, by applying such as wave filter
gi428, the composite filter of 430 is reconstructed.In the case of cascade decomposition, it is understood that there may be relate to
And analyze or synthesize the more than one wave filter of each frequency band.
Return to Fig. 4 and Fig. 5, wave filter 404,406,428,430,436,438,508,
510,524,522 can be configured and be designed to minimize overall distortion and close as self adaptation
Become wave filter (ASF).In ASF, wave filter attempts to minimize by the compiling of each channel
The distortion caused.The coefficient of composite filter can be set based on reconstruct channel.The one of ASF
Individual example is based on associating subband optimization.For function giTo sizing, linear mean square estimation skill
Art can be used for calculating giCoefficient so that original in the piecemeal x ' of final reconstruct and piecemeal
Mean square estimation difference between original pixels in signal x is minimized.In alternative embodiments,
Use independent channel optimizes.In this example, associating subband optimization requires former after up-sampling
Automatic and cross-correlation between beginning signal x and reconstructed subband signal.Furthermore, it is possible to solution matrix
Equation group.The calculating relevant to this associating subband optimization may be prohibited in many applications.
Example for the independent channel optimal solution of encoder 700 can be seen in the figure 7
Going out, it concentrates on ASF, so using the reference of the wave filter 432 and 434 shown in Fig. 3
Picture processing is omitted.In ASF, it is provided that wave filter estimation module (FEi) 702,704,
With at usually noisy decoded reconstruct channelWith muting uncoded reconstruct channel
c’iBetween perform wave filter estimate.As indicated, incoming video signal x701 is split off and provides
Give according to known function hiThe wave filter 706,708 of filtering signal x, and then with by piecemeal
The speed that determines of quantity use sampler 710 to be sampled.In the embodiment of two channel decomposing,
One of wave filter 706,708 can be low pass filter, and another can be high-pass filtering
Device.It will be appreciated that block data makes speed double in two channel decomposing.Thus, sampler 710
The property of may decide that ground sampled input signal, so that data volume halves so that the sampling of equal number
Can be used for reconstructing input signal at decoder.Filtered and sampling signal then by encoder
Ei712,714 coding, to produce bit stream bi716、718.Encoded bit stream bi716,
718 are provided to decoder 720,722.
Encoder 700 is provided with interpolating module 724,726, its receive be supplied to encoder 712,
714 and from the filtered signal of decoder 720,722 and sampled signal.Taken out
The signal and the decoded signal that take and sample are sampled by sampler 728,730.Resampling
Signal is processed by wave filter 732,734, to produce signal c 'i, the most decoded signal also by
Wave filter 736,738 processes, to produce signalSignal c 'iWithIt is provided to above-mentioned filtering
Device estimation module 702,704.The output of wave filter estimation module 702,704 is corresponding to interpolation mould
The filter information info of block 724,726i.Filter information infoiIt is also provided to solve accordingly
Code device and other encoders.
Interpolating module can be configured with utilizing filter function fiWave filter 740,742.Filter
Ripple device 740,742 can be derived, to minimize c 'iWithBetween error metrics, and should
Wave filter is applied to c "iTo generateThen, obtained filtered channel outputQuilt
Combination, to produce overall output.In one embodiment, ASF outputIt is substituted for figure
In 4Owing to before the combination, ASF is applied to each channel, the output of ASF filtering
ciMay remain in more high-order-deep resolution relative to the deep resolution of final carry-out bit.That is, group
Close ASF output can in order to reference picture process purpose and internally be maintained at more high-order-
Resolution deeply, the most final carry-out bit-deep resolution can be such as reduced with rounding off by amplitude limit.
The filtering performed by interpolating module 740,742 can be filled by adopting of being carried out by sampler 710
The information that sample may be dropped.In one embodiment, encoder 712,714 can use base
In the different parameters for piecemeal incoming video signal characteristic set and then to Signal coding.
Filter information iiCan be sent to decoder 800, it figure 8 illustrates.Modified
Composite filter 802,804gi' can from wave filter 706,708, the function g of 732-738i
And fiDerive so that encoder 700 and decoder 800 perform equivalent filter.In ASF,
Composite filter 732-738giIt is modified to the g in wave filter 802,804i', to solve by compiling
Translate the distortion of introducing.Can also be by the analysis filter function h from wave filter 706,708iRepair
Change the h in wave filter 806,808 intoi', to solve the volume in adaptive analysis filtering (AAF)
Translate distortion.AAF and ASF is also possible simultaneously.ASF/AAF can be applied to whole
Picture or picture piecemeal, and different wave filter can be applied to different piecemeal.AAF's
In example, can be from one group of filter bank selection analysis wave filter, such as, 9/7,3/5 etc..Quilt
The wave filter used quality based on the signal entering wave filter.The coefficient of AAF wave filter is permissible
Content based on each piecemeal and compiling condition setting.It addition, can in filter index or coefficient
Be sent to decoder to prevent the drift between encoder in the case of, filtering
Device may be used for generating subband reference data.
Can as seen from Figure 8, bit stream bi716,718 it is provided to decoder 810,812,
It has the supplementary parameter to encoder 712,714.Decoder 810,812 is also from encoder
700 and other encoder from system receive as compiling information i inputtedi。
The output of decoder 810,812 is by sampler 814 resampling, and is provided to above-mentioned filter
Ripple device 802,804.The bit stream c of filtered decoding "iCombined by combiner 816, to produce weight
Structure video signal x '.Reconstructed video signal x ' can also be buffered in buffer 818 and by
Wave filter 806,808 process and sampled by sampler 820, be provided as to decoder 810,
The feed back input of 812.
Compiler shown in Fig. 4-Fig. 5 and Fig. 7-Fig. 8 can be enhanced for HVC.?
In one embodiment, it is possible to use intersection sub-band predictive.In order to by multiple subband feature set
To blocked compiling, encoder can need not send the situation of any extraneous information
Lower use to be decoded at comfortable decoder and the compiling information of available all subbands.This
By being supplied to compiling information i of encoderiInput illustrate.Its example be for
The time of the subband of the co-located being decoded at decoder and again making of spatial prediction information
With.The problem of halved belt prediction is the problem relevant to encoder.Presently describing can
For some sides performing this task in the context of contemporary video encoder and decoder
Case.
A kind of such scheme uses intersection subband motion-vector prediction.Due in each subband
Motion vector in relevant position points to the same area in the pixel domain of incoming video signal x,
And each piecemeal hence for x, it is beneficial to use the subband block being compiled of controlling oneself to exist
The motion vector of corresponding position, to derive for the motion vector of current block.Two extra moulds
Formula may be added to compiler, to support this feature.One pattern be motion vector again
Use.In this mode, all motion vectors of the relevant block from the subband sent are straight
Connect the motion vector derived for each piece.Another pattern uses motion-vector prediction.At this
Under pattern, by Delta (delta) motion vector is added to predicted motion vector, from
The direct derivation of all motion vectors of the relevant block in the subband sent is for the fortune of each piece
Dynamic vector.
Another scheme uses intersection subband pattern compiler prediction.Due to such as from video flowing
The structure gradient at picture or the edge from each picture position that the piecemeal of picture obtains may
Spilling into the relevant position in each subband, this reuses for the compiling of any given block
The control oneself pattern compiler information of the subband block being compiled of corresponding position is useful.Such as,
In this mode, can derive for the prediction mould of each macro block from the respective macroblock of low frequency sub-band
Formula.
Another embodiment that compiler strengthens uses reference picture interpolation.At reference picture
The purpose of reason, reconstructed picture is buffered, and sees Fig. 4 and Fig. 5, and is used as compiling not
Carry out the reference of picture.Due to encoder EiThe channel of filtered/extraction operates, reference picture
By reference picture process R performed by wave filter 432,434iSimilarly filtered and extracted.
But, some encoders can use higher subpixel accuracy, and function RiGenerally it is interpolated,
Such as Fig. 9 (a) and Fig. 9 (b) for 1/4th pixel resolution situations.
In Fig. 9 (a) and Fig. 9 (b), reconstruct input signal x ' it is provided to wave filter Qi902
And Q 'i904.See Fig. 9 (a), by wave filter RiThe reference picture of 432 operations processes behaviour
Make to use wave filter hi436, and use sampler 440 to extract signal.The most in the encoder
The interpolation operation performed can use 1/4 pixel interpolation module 910 to be combined in wave filter
QiIn 902 operations.This overall operation generates 1/4th pixels of encoder channel input and divides
Resolution reference pixel qi906.Alternatively, interpolated reference picture is generated shown in Fig. 9 (b)
qi' another way.At this " interpolation not extracted " QiIn ', reconstruct output only uses filtering
Device hi436 at RiFiltered in ' but be not extracted.Then, filtered output uses half-pix
Interpolating module 912 is interpolated by half-pix, to generate 1/4th pixel reference picture qi’
908。Qi' more than QiAdvantage be, Qi' access " original " (extraction) half-pix adopt
Sample, obtains more preferable half-pix and 1/4th pixel sampling values.Qi' interpolation may be adapted to each
The particular characteristics of channel i, and it can be extended to any desired subpixel resolution.
As understood from above, each picture of order composition input video stream x can be treated to
Full picture, or be less continuous or overlapping sub-pictures by piecemeal, as shown in Figure 5.
Piecemeal can have fixing or self adaptation size and shape.Piecemeal can be in photo grade or adaptive
Make with answering.In self adaptation embodiment, picture can use and include tree construction or two-way structure
Any amount of distinct methods be divided into piecemeal, in two-way structure, first logical use solid
Determine block, and second leads to and work on block merging.
In decomposition, Multiple Channel Analysis and synthesis can depend on that the content of picture and video flowing is selected
Select.For analysis based on wave filter and the example of synthesis, decomposition can be taked any amount of
Level and/or vertically frequency band and the decomposition of multiple grade.Analysis/synthetic filtering device can be can
Separate or inseparable, and they can be designed in the case of lossless compiling realize
Perfect reconstruction.Alternatively, for damaging compiling situation, they can be become minimum by co-design
Change overall end-to-end error or perceptual error.As piecemeal, each picture or sub-pictures
Can have different decomposition.The example of the decomposition of such picture or video flowing is based on wave filter
, feature based, based on content, such as, vertical, level, diagonal, feature,
Many grades, separable and inseparable, perfect reconstruction (PR) or non-PR and picture and son
The adaptive approach of picture.
In order to by the encoder E of channeliCompiling, it is possible to use or use existing video to compile skill
Art.In the case of by frequency decomposition, low-frequency band can be normal video sequence by direct compilation
Row, this is because it keeps multiple characteristics of original video content.Therefore, it is possible to use framework
Keeping " backwards compatibility ", wherein, low-frequency band uses current compiler technologies independently to be solved
Code.High frequency band can use the technology of following exploitation to decode and be used together with low-frequency band,
Thus reconstruct with more high-quality.Owing to each channel or frequency band may forbid mutually different characteristic,
So particular channel Compilation Method can be applied.Interchannel redundancy can also be on room and time
It is developed, to improve compiling efficiency.Such as, motion vector, predicted motion vector, coefficient are swept
Retouching order, pattern compiler decision-making and additive method can be based on other channel one or more
It is derived.In this case, the value derived may need the most properly scaling
Or map.This principle can be applied to any video compiler, can with backward compatibility (such as,
Low-frequency band), may be used for particular channel Compilation Method (such as, high frequency band), and permissible
Exploitation interchannel redundancy.
For reference picture interpolation, it is possible to use the half-pixel sample that do not extracts and interpolated
Value and the combination sampled of adaptive interpolation filters (AIF) for interpolated position.
Such as, some test display, and in addition to high frequency band half-pixel position, use AIF sampling is
Useful, wherein, it is useful for using the small echo not extracted sampling.Although the half-pix in Q '
Interpolation may be adapted to signal and the noise characteristic of each channel, but low pass filter may be used for
All channels, to generate 1/4th pixel values.
It will be appreciated that some features may be adapted to the compiling of channel.In one embodiment, most preferably
Quantization parameter is selected for each piecemeal/channel based on RD-cost.Each figure of video sequence
Sheet can be by piecemeal and be decomposed into multiple channel.By being allowed for each piecemeal or channel not
Same quantization parameter, can improve overall performance.
In order to perform between the different sub-band of identical piecemeal or divide across the optimum bit of different piecemeals
Join, it is possible to use RD minimizes technology.If measuring of fidelity is Y-PSNR
(PSNR), then, when using identical Lagrange multiplier (λ), can minimize independently
For the Lagrangian cost (D+ λ .R) of each subband, to realize each channel and piecemeal
Co mpiler optimization.
For keeping the low-frequency band of most of natural image contents, conventional video compiler generate
Its RD curve keep protruding characteristic (convex property), and quantization parameter (qp)
Obtained by recurrence RD cost search.Such as, at first step, calculate at qp1=qp、
qp2=qp+Δ、qp3RD cost at=qp-Δ.There is the qp of minimum costi(i=1,2 or 3)
Value be used for repeating this process, wherein, new qp is arranged to qpi.Then calculate at qp1=qp、
qp2=qp+Δ/2、qp3RD cost at=qp-Δ/2, and it repeats until qp increment Delta becomes
Till being 1.
For high frequency band, protruding characteristic no longer keeps.Replace recursion method, apply exhaustive method
To find optimal qp by minimum RD cost.Then, operate in from qp-Δ to qp+ Δ not
With the cataloged procedure at quantization parameter.
Such as, Δ is arranged to 2 in low frequency channel is searched for, and this causes relative to not letter
The 5 of the optimized situation of RD of road level compiling complexity in time × increase.For high frequency
Channel search, Δ is arranged to 3, corresponding to 7 × increase of compiling complexity.
By above method, with the codec complexity of multi-channel coding and increase as cost, determine
Optimal qp for each channel.The method that can be developed for reducing complexity, it directly divides
It is used in the qp of each channel, and without multi-channel coding.
In another embodiment, lambda (lambda) regulation may be used for each channel.
As it has been described above, the equal Lagrange multiplier for different sub-band selects will cause under specified conditions
Optimal compiling.One such condition is to form final reconstruct from the distortion of all subbands
Equal weight it is added with during picture.According to the compression noise for different sub-band through having difference
The knowledge of difference (synthesis) wave filter of frequency dependent gain, this observation proposes, can basis
The spectral shape of compression noise and the characteristic of wave filter, by bright for the different glug of different sub-band distribution
Day function improves compiling efficiency.Such as, this by distributing to channel lambda by scale factor
Carrying out, wherein, scale factor can be from the input parameter of configuration file.
In yet another embodiment, it is possible to use picture/mb-type determines.Advanced video compiling (AVC)
Encoder is not likely to be highly effective in compiling high-frequency sub-band.Many microliths in HVC
(MB) by interior compiling in the predicted segment including P and B fragment (slice).In some pole
In the case of end, it was predicted that all MB in fragment are by interior compiling.Upper and lower due to interior MB pattern
Literary composition model is different for different fragments type, when subband is compiled as I fragment, P fragment or B sheet
Duan Shi, the bit rate generated is very different.In other words, in natural image, interior MB
Predicted segment is unlikely to occur.Thus, distribution has the upper and lower of low interior MB probability
Literary composition model.For I fragment, distribution has the context model of much higher interior MB probability.
In this case, even when each MB is encoded in model identical, all MB are by interior volume
The predicted segment translated consumes more multidigit than I fragment.As a result, different entropy compilers can be used for height
Frequently channel.And, each subband statistical property based on each subband can use different entropy to compile
Translate technology or compiler.Alternatively, another solution is with different fragments type compiling letter
Each picture in road, and then select the clip types with minimum RD cost.
For an alternative embodiment, the new interior skip mode for each basic compilation unit is used.
Interior skip mode be of value to for block-based algorithm sparse data compile, wherein, from by
The prediction of the neighbor of reconstruct is used for reconstructing content.High subband signal generally comprises a lot of flat
Smooth region, and high fdrequency component is by sparse location.Can advantageously use one and carry out distinguishable region
Whether it is smooth.Particularly, interior skip mode is defined as indicating the MB with flat contents.
As long as determining interior skip mode, this region is not compiled, and does not the most send the most residual
Difference, and by using the DC value in this region of pixel value prediction in adjacent MB.
Particularly, interior skip mode is additional MB grade mark.MB can be any size.
In AVC, MB size is 16 × 16.For some video compiler, propose for high definition
The bigger MB size of clear degree video sequence (32 × 32,64 × 64 etc.).Interior skip mode is benefited
In bigger MB size, this is because the potentially less position generated from flat site.Inside skip mould
Formula is only enabled in the compiling of high-frequency band signals, and by nothing in the compiling of low band signal
Effect.Because the flat site in low frequency channel is not frequent as the flat site in high frequency channel,
It is said that in general, interior skip mode increases the bit rate for low frequency channel, reduce for height simultaneously
Frequently the bit rate of channel.Omission pattern is also applicable to whole channel or frequency band.
For another embodiment, use loop deblocking filter (inloop deblocking
Filter).Loop deblocking filter helps the RD performance in AVC compiler and visual quality.
There are two positions that loop deblocking filter is likely to be positioned in HVC encoder.These are at figure
It is shown for encoder in 10, and is shown for respective decoder in fig. 11.Figure
10 and Figure 11 500 are configured by the decoder of the encoder 400 and Fig. 5 such as Fig. 4, wherein,
Similar assembly is numbered similarly, and performs function same as described above.One in-loop deblocking filter
Ripple device is the decoder D at the end that each individual channel buildsi1002, the part of 1004.
Another loop deblocking filter 1006 the full picture by combiner 431 channel synthesize and
After reconstruct.During first loop deblocking filter 1002,1004 is used for channel reconstruction and is
Between signal.The borderline flatness of MB can improve the final picture reconstruction in RD meaning.Its
Also can result in M signal true value further away from each other to change so that it is possible that performance reduces.
In order to overcome this problem, the characteristic how can being synthesized based on this channel, for each channel
Configuration loop deblocking filter 1002,1004.Such as, wave filter 1002,1004 can be based on
Up-sampling direction and composite filter type.
On the other hand, loop deblocking filter 1006 should be useful after picture reconstruction.
Due to the character of subband/channel compiling, the picture finally reconstructed retains except block (blockiness)
Pseudomorphism, such as ringing effect.Thus, ring wave filter in preferably redesigning, with effectively
Ground processes those pseudomorphisms.
It will be appreciated that the principle for loop deblocking filter 1002-1006 description is applicable at figure
The loop deblocking filter 1102,1104 and 1106 found in the decoder 1100 of 11.
In another embodiment, it is possible to use subband relies on entropy compiling.Such as conventional compiler
VLC table in (AVC, MPEG etc.) and traditional entropy compiler of CABAC based on from
Some transform domains (such as, are tending to follow some mixing of Laplce and Gauss distribution
DCT in the case of AVC) in natural image statistical property design.The property of subband entropy compiling
Can statistical property based on each subband be enhanced by use entropy compiler.
In yet another embodiment, it is possible to use decompose dependent coefficient scanning sequency.For each
The optimal of piecemeal decomposes the orientation selecting to may indicate that the feature in piecemeal.It is thus possible to preferably
Be compiling conversion coefficient entropy compiling before, use suitable scanning sequency.Such as, right
In each available decomposing scheme, specific scanning sequency can be distributed to each subband.Thus,
Extraneous information is not had to need the selection with communication scanner order to be sent.Instead, it is possible to be
The list selected from possible scanning sequency optionally selects and the scanning of the compiled coefficient that communicates
Pattern, this coefficient such as quantization DCT coefficient in the case of AVC, and for each point
The each compiled subband of block sends this scanning sequency and selects.This requires for given piecemeal
The given each subband decomposed sends and selects option.This scanning sequency can also be from having phase Tongfang
To the sub-band predictive being compiled of preference.It addition, perform every subband and often decompose consolidating of selection
Determine scanning sequency.Alternatively, it is possible to use the selective scanning pattern of the every subband in piecemeal.
In one embodiment, it is possible to use subband distortion regulates.Subband distortion can be based on coming
From the establishment of the more information of some subbands, do not produce any information for other subbands simultaneously.
Such distortion regulation can be via distortion synthesis or by the distortion map from subband to pixel domain
Make.Under normal conditions, first subband distortion can be mapped to some frequency domains, and so
It is weighted according to the frequency response of subband building-up process afterwards.In conventional video compilation scheme, many
Individual compiling decision-making can become original execution by minimizing rate distortion.Being surveyed in each subband
Amount distortion necessarily reflect from this subband distortion to final reconstructed picture or picture piecemeal
Impact eventually.For perceived quality metric, in different amounts of distortion, such as, one of frequency subband
In the equal amount distortion of MSE have than the equal amount distortion in different sub-band final reconstruct schemed
In the case of the different sensation influences of picture, this becomes apparent from.Non-subjective matter for such as MSE
Measurement, the spectrum density of distortion may affect the distortion of the quality of synthesis piecemeal.
In order to solve this problem, it is possible to noise block is inserted otherwise in noise-free picture piecemeal.
It addition, calculate for this given block distortion before, it may be necessary to carry out subband up-sampling and
Synthetic filtering.Instead, it is possible to be to use distortion from subband data to final synthesis point
The fixing mapping of the distortion in block.For perceived quality metric, this may relate to collect subjective survey
Test result, to generate mapping function.For more general case, subband distortion can be mapped to
Some fine frequency subbands, wherein, ring according to the combination frequency from up-sampling and synthetic filtering
Should, total distortion can be the weighted sum of every subband distortion.
In another embodiment, it is provided that range regulation.Likely subband data can be to need
The floating-point of the integral point for having specific dynamic range to be converted.Encoder may not process
Floating-point inputs, so input is altered to compensate the content just received.This can be via lifting
Scheme is performed by using the integer mapping of sub-band division.Alternatively, it is possible to use by making
The general bounded quantizer built with continuous non-reduced mapping curve (such as, S-shaped), is followed by
Uniform quantizer.Parameter for mapping curve should be by decoder it is known that or be sent to solve
Code device, with reconstructed subband signal before up-sampling and synthesis.
Described HVC provides multiple advantages.Frequency subband decomposes can provide more preferable frequency band
Separate, for more preferable spatio-temporal prediction and compiling efficiency.Due to the big portion in exemplary video content
Point energy all concentrates in several subband, can perform more effectively to compile for low-yield frequency band or
Band omits.Subband can also be performed and rely on quantization, entropy compiling and subjectivity/objective optimization.
This perceptual importance that may be used for according to each subband performs compiling.And, with other only before
Putting filtering method to compare, strict sub-sample resolution does not increase the quantity of sampling, and perfect reconstruction is
Possible.
In terms of prediction compiling viewpoint, in addition to room and time is predicted, HVC adds intersection
Band is predicted.Each subband can use picture/mb-type (such as, the I/P/B being different from other subbands
Fragment) compiling, as long as it is attached to picture/piecemeal type, (such as, interior type piecemeal can be only
There is the interior type for its subbands all compile) upper.By decompose, need not bright
The really situation of design new predictive mode, sub-segment partition scheme, conversion, coefficient scanning, entropy compiling etc.
Under, extend virtual compilation unit and converter unit.
Relatively low computational complexity is possible in HVC, wherein, and the only low frequency sub-band to extraction
Perform the time consuming operations of the most such as estimation (ME).The parallel processing of subband and decomposition are also
It is possible.
Because HVC framework compiles independent of the signal specific used or subband, it can utilize
Different compression schemes for different frequency bands.It is with other compilation tools proposed (not such as,
KTA and the JCT-VC proposed) conflict, and can provide another on other compilation tools
Outer compiling gain.
Principle for the above-mentioned HVC of 2D video flowing is also applicable to such as 3DTV
3D video frequency output.HVC major part can also utilize 3DTV compress technique, it is desirable to newer
Coding and decoding hardware.Therefore, recently to using existing 2D compiler technologies to provide 3D to hold concurrently
The system holding signal is interested.Such " Primary layer " (BL) signal and existing 2D hardware
The newer system can with backward compatibility, simultaneously with 3D hardware can utilize additional " enhancement layer "
(EL) signal transmits more high-quality 3D signal.
A kind of mode realizing the compiling of the such flyway to 3D is to use side by side for BL
Or top/bottom 3D panel format, and two full resolution views are used for EL.BL
The existing 2D compression that can use the AVC the most only with little additional change is encoded and decodes,
To process the suitable signaling (such as, frame encapsulation SEI message and HDMI1.4 signaling) of 3D form.
Newer 3D system can decode BL and EL, and uses them to reconstruct full resolution 3D
Signal.
Compiling for 3D video, BL and EL can have juxtaposition view.For BL, such as
The first two view of left and right view can be juxtaposed, and the most juxtaposed 2 × picture can be by
Decompose to produce BL.Alternatively, view can be decomposed, and then from each view
Low frequency sub-band can be juxtaposed, to produce BL.In the method, catabolic process do not mix from
The information of each view.For EL, the first two view can be juxtaposed, and the most juxtaposed
2 × picture will be decomposed, to produce enhancement layer.Each view can be decomposed, and then
By an enhancement layer or two enhancement layer compilings.In an enhancement layer embodiment, for each
The high-frequency sub-band of view is juxtaposed, to produce EL big as Primary layer.In two-layer embodiment
In, first the high-frequency sub-band for a view can be compiled as the first enhancement layer, and so
High-frequency sub-band for another view can be compiled as the second enhancement layer afterwards.In the method,
EL_1 can use the EL_0 being compiled as the reference for compiling prediction.
Figure 12 is shown with compiling the migration way of (SVC) for the telescopic video of situation side by side
The method of footpath compiling.It is appreciated that other 3D forms (such as, top/bottom, chessboard
Deng) extension be understandable.Thus, describe and concentrate on situation side by side.EL1202 be two complete
The double width version of the juxtaposition of resolution view 1204, BL1206 is typically EL1204's simultaneously
The version of filtered and horizontal sub sampling.Then SVC spatial scalability instrument can be used for
Coding BL1206 and EL1204, wherein, BL is encoded by AVC.Two full resolution views
Can extract from decoded EL.
Further possibility for flyway compiling is to use multi-view video compiling
(MVC) compression.In MVC method, two full resolution views be generally sampled and not
It is filtered to produce two panels.In fig. 13, BL panel 1302 comprises full resolution 1304
The even column of left and right view.EL panel 1306 comprises the odd column of two views 1304.
BL1302 may also contain the even column of a view and the odd column of another view, or instead
As the same, EL1306 may comprise other parities simultaneously.BL panel 1302 and EL panel
Then 1306 can use MVC to be compiled as two views, wherein, GOP Compiler Structure quilt
Being chosen so as to BL is independent AVC-coded views, and EL is compiled as subordinate view simultaneously.
After BL and EL is decoded, can be raw by the most heavily intertexture BL and EL row
Become two full resolution views.When generating BL and EL view, the most do not perform pre-filtering,
Original full resolution view can be resumed in the case of not compiling distortion.
Return to Figure 14, HVC can be applied in flyway 3DTV compiles, this is because
Exemplary video content substantially tends to low frequency.When being that two full resolutions regard to the input of HVC
During the double width version of the juxtaposition of figure, BL1402 is in the 2-frequency band level of full resolution view 1406
Decomposing in (for situation side by side) is low-frequency band, and EL1404 can be high frequency band.
By this HVC method of the 3DTV flyway compiling of encoder 1500 at Figure 15
Shown in, it is application and the particular case of general HVC method.Obviously, above-mentioned multiple principle
It is included in the flyway of this 3DTV method.Use input video compiling stream x1502
Low frequency coding path use about Fig. 4 describe some principles illustrate.Owing to expectation BL is
AVC compatibility, so the top low frequency channel in Figure 15 uses AVC instrument to be used for encoding.
The path of stream x1502 uses wave filter h01504 are filtered and are taken out by sampler 1506
Take.Range regulation module 1508 limits the scope of Primary layer, as described in more detail below.Letter
Breath infoRACan by shown encoder, respective decoder (seeing Figure 16) and above-mentioned its
His encoders etc. use.Limited input signal is then supplied to encoder E01510, to produce
Bit stream b01512.Comprise about from the height of encoder, decoder or other channels and low frequency
Compiling information i of the information of signal01It is provided to encoder 1526, to improve performance.It will be appreciated that
Bit stream b0Reconstruct ring can be used to reconstruct.Reconstruct ring includes supplementing decoder D01514, model
Enclose adjustment module RA-11516, sampler 1518 and wave filter g01520。
Also providing for high-frequency coding path, it describes about Fig. 7.Unlike above-mentioned low frequency channel, high
Frequently channel can use additional compilation instrument, such as, and the interpolation that do not extracts, ASF, intersection subband
Pattern and motion-vector prediction, interior skip mode etc..High frequency channel can even be compiled from possession
Translating, wherein, a view is coded independently, and another view is encoded from possession.As
Describing about Fig. 7, high frequency band includes the wave filter h to high frequency inlet flow x filtering11522,
Then high frequency inlet flow x is extracted by sampler 1524.Encoder E11526 pairs of filtering and extraction
Signal coding, to form bit stream b11528。
Being similar to low frequency channel, high frequency channel includes decoder D11529, it is by decoded letter
Number feed back to interpolating module 1530.Interpolating module 1530 is provided for high frequency channel, to produce
Information info11532.Interpolating module 1530 corresponds to the interpolating module 726 shown in Fig. 7, and
And include sampler 728,730, wave filter g1734、738、FE1Wave filter 704 and filter
Ripple device f1742, to produce information info1.From decoded low frequency inlet flow 1521 and from
The output of interpolating module 1532 is combined by combiner 1534, to produce reconstruction signal x ' 1536.
Reconstruction signal x ' 1536 is additionally provided to buffer 1538, and it is similar to above-mentioned buffer.
Buffered signal can be provided to reference picture processing module Q described about Fig. 9 (b) '1
1540.The output of reference picture processing module is provided to high frequency encoder E11526.As indicated,
Information i from the reference picture processing module included low frequency channel compiling01Can be to high frequency
Use during channel compiling, but necessarily vice versa.
Owing to BL is generally forced to each color component 8 in 3DTV, it is important that
Wave filter h0The degree of depth of the output of (and extraction) is restricted to 8.Being subject in accordance with Primary layer
A kind of mode of limit dynamic range is to use some range regulation performed by RA module 1508
(RA) operation.RA module 1508 is intended to map to input value expect that position is deep.Generally, RA
Process can quantify (uniform or non-homogeneous) by the bounded of input value and realize.Such as, one
Possible RA operation can be defined as
RAout=clip (round (scale*RAin+offset)),
Wherein, round () approaches nearest integer, and clip () scope of value is limited to [min,
Max] (such as, [0,255] for 8), and size ≠ 0.Other RA can be limited
Operation, including the operation operating one group of input and output value simultaneously.If these parameters are not solid
Fixed or do not known by decoder, then RA parameter information needs to be sent to
Decoder is (as infoRA)." inverse " RA-1Value is heavily scaled and returns to original model by module 1516
Enclose, but certainly, have due to forward RA operate in round off and amplitude limit cause some can
The loss of energy, wherein:
RA-1out=(RA-1In-side-play amount)/size.
The range regulation of BL is by scaling and shifts subband data, or by using more common non-thread
Property conversion acceptable virtual mass is provided.In fixedly scaling embodiment, fixedly scaling set
It is set to so that the dc gain of composite filter and scaling is 1.In self adaptive pantographic and displacement,
Select the scaling for each view and two parameters of displacement so that the mark of this view in BL
Standardization rectangular histogram has the meansigma methods identical with the normalized histogram of corresponding original view and side
Difference.
Respective decoder 1600 shown in Figure 16 also performs RA-1Operation, but when BL quilt
It is assumed to be when only being decoded by AVC and export, is only used for reconstructing double width juxtaposition full resolution view.
Decoder 1600 includes low frequency channel decoder D01602, it can produce for Primary layer
Decoded video signalDecoded signal is provided to inverse range regulation module
RA-11604, it is by sampler 1606 resampling and by wave filter g01608 filter again,
To produce low-frequency reconfiguration signal1610.For high-frequency path, decoder D11612 decode this letter
Number, this signal is then by sampler 1614 resampling, and by wave filter g '11616 filtering.
Information infoiWave filter 1616 can be provided to.The output of wave filter 1616 produces reconstruction signal1617.Reconstruct low frequency and high-frequency signal are combined by combiner 1618, to create reconstructing video letter
Number1620.Reconstructed video signal1620 are provided to be made by other encoder
Buffer 1621.Buffered signal can be provided to reference picture processing module 1624,
It is fed back to high frequency decoder D1。
The specific selection of RA module can consider based on perception and/or compiling efficiency and balance comes really
Fixed.From compiling view of efficiency, it is usually desirable to utilize by the deep complete out-put dynamic range specified in position.
Owing to being different to the input dynamic range of RA generally for each picture or piecemeal, so
The parameter of bigization out-put dynamic range between picture by difference.Although from compiling viewpoint, this may
It not problem, but when BL is decoded and is directly viewable, it may cause problem, because
RA-1Operation may be not carried out before being checked, may cause the change of brightness and contrast.
This is contrasted with more common HVC, wherein, each channel be internal and be not intended to by
Check.The replacement solution of the relief information loss relevant to RA process is to use utilization to make base
Belt is to the integer mapping of the subband compiling of the lifting scheme of expectation dynamic range.
If AVC coding BL supports each picture or piecemeal RA-1Adaptive range scaling
(such as, sent by SEI message), then RA and RA-1Operation can be chosen, with excellent
Change perceived quality and compiling efficiency.Do not exist for BL such decoder processes and/or
During about the information of input dynamic range, a kind of probability is to select fixing RA, to retain
Expect visual characteristic.Such as, if analysis filter h0The 1504 DC gains with α ≠ 0,
Then the rationally selection of the RA in module 1508 is arranged to gain=1/ α and side-play amount=0.
Although it should be noted that not shown in Figure 15 and Figure 16, but EL can also be through
Cross similar RA and RA-1Operation.But, EL position is deep deep usually above the position required by BL.
Furthermore, it is possible to perform by the h in Figure 15 and Figure 16iAnd giThe double width picture of juxtaposition point
Analysis, synthesis and reference picture filtering so that do not exist view around view border mixing (with
SVC filtering compares).This can be such as by the symmetrical filling of the given view at boundary
Realize with extension, be similar to use at other image edges.
More than consideration, the HVC video compiling discussed provides and carries from the compiling of conventional pixel territory video
For multiple advantages and the framework of motility.The application of HVC Compilation Method can be used scalable
Flyway is supplied to 3DTV compiling.Other scalable methods with such as SVC and MVC
Comparing, its performance seems to provide some promising gains.It uses for low resolution
The existing AVC technology of 3DTV BL, and allow conventional tool raising EL and full resolution to regard
The compiling efficiency of figure.
Returning, said apparatus performs the method 1700 to input video stream encryption.Input video stream
1702 are received at the head end of described video distribution system, and based on input video stream
At least one characteristic set be divided 1704 for a series of piecemeals.Characteristic set can be video
Any kind of feature of stream, including content, context, quality and the compiling function of video flowing
Feature.It addition, input video stream can be according to each channel of video flowing by piecemeal so that
Each channel is individually divided according to identical or different characteristic set.After dividing, input
The piecemeal of video flowing is processed and analyzed, to decompose 1706 piecemeals for by such as piecemeal
Extraction and the operation of sampling encode.Then the piecemeal being decomposed is encoded 1708, to produce
Coded bit stream.As a part for cataloged procedure, compiling information can be provided to encoder.
Compiling information can include the input information of other channels from input video stream and based on weight
The compiling information of structure video flowing.Compiling information can also include about the information controlled with about regarding
The quality information of frequency stream and about the information of characteristic set.In one embodiment, coding
It is reconstruct video flowing that bit stream is reconstructed 1710, and it can be buffered and store 1712.Reconstruct regards
Frequently stream can be fed back to 1714 encoders and be used as compiling information, and is provided 1716
Give the encoder of other channels for input video stream.It can be appreciated from the above that reconstructing video
Flow and provide reconstructing video stream can include analyzing and composite coding as the process of compiling information
Bit stream and the process of reconstructing video stream.
Figure 18 is to illustrate that formed due to the method shown in Figure 17 decodes coded bit stream
The flow chart of method 1800.Coded bit stream is by the subscriber as a video distribution system part
Unit 150a-n receives 1802.Bit stream is used the compiling information received by decoder to decode
1804.Decoded information can be received as a part for bit stream, or it can be by decoder
Storage.It addition, compiling information can receive from the different channels for video flowing.Decoded
Then bit stream is synthesized 1806 for a series of piecemeals, and the most a series of piecemeals are combined 1808
To create the reconstructing video stream of the input video stream corresponding to describing about Figure 17.
In description above, describe only certain embodiments of the present invention.But, this area skill
Art personnel are it is appreciated that the scope of the present invention that can illustrate in without departing from following claims
In the case of, make various modifications and changes.Thus, specification and drawings will be considered as signal
Property rather than restrictive, and all such amendments are intended to be included in the model of the present invention
In enclosing.Benefit, advantage, the solution of problem and may cause any benefit, advantage,
Solution by occur or become any (one or more) element of more highlighting the most not by
It is interpreted as the crucial, that require of any or all claim or basic feature or element.
The present invention only by be included in any amendment that the pending period of the application makes and announced that
The claims of all equivalents of a little claim limit.