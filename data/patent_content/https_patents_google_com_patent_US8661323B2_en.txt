US8661323B2 - Method and apparatus for generating packet mask - Google Patents
Method and apparatus for generating packet mask Download PDFInfo
- Publication number
- US8661323B2 US8661323B2 US13/103,565 US201113103565A US8661323B2 US 8661323 B2 US8661323 B2 US 8661323B2 US 201113103565 A US201113103565 A US 201113103565A US 8661323 B2 US8661323 B2 US 8661323B2
- Authority
- US
- United States
- Prior art keywords
- packets
- packet
- packet loss
- candidate
- masks
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Active, expires
Links
Images
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L1/00—Arrangements for detecting or preventing errors in the information received
- H04L1/0001—Systems modifying transmission characteristics according to link quality, e.g. power backoff
- H04L1/0014—Systems modifying transmission characteristics according to link quality, e.g. power backoff by adapting the source coding
-
- H—ELECTRICITY
- H03—ELECTRONIC CIRCUITRY
- H03M—CODING; DECODING; CODE CONVERSION IN GENERAL
- H03M13/00—Coding, decoding or code conversion, for error detection or error correction; Coding theory basic assumptions; Coding bounds; Error probability evaluation methods; Channel models; Simulation or testing of codes
- H03M13/35—Unequal or adaptive error protection, e.g. by providing a different level of protection according to significance of source information or by adapting the coding according to the change of transmission channel characteristics
- H03M13/353—Adaptation to the channel
-
- H—ELECTRICITY
- H03—ELECTRONIC CIRCUITRY
- H03M—CODING; DECODING; CODE CONVERSION IN GENERAL
- H03M13/00—Coding, decoding or code conversion, for error detection or error correction; Coding theory basic assumptions; Coding bounds; Error probability evaluation methods; Channel models; Simulation or testing of codes
- H03M13/35—Unequal or adaptive error protection, e.g. by providing a different level of protection according to significance of source information or by adapting the coding according to the change of transmission channel characteristics
- H03M13/356—Unequal error protection [UEP]
-
- H—ELECTRICITY
- H03—ELECTRONIC CIRCUITRY
- H03M—CODING; DECODING; CODE CONVERSION IN GENERAL
- H03M13/00—Coding, decoding or code conversion, for error detection or error correction; Coding theory basic assumptions; Coding bounds; Error probability evaluation methods; Channel models; Simulation or testing of codes
- H03M13/37—Decoding methods or techniques, not specific to the particular type of coding provided for in groups H03M13/03 - H03M13/35
- H03M13/373—Decoding methods or techniques, not specific to the particular type of coding provided for in groups H03M13/03 - H03M13/35 with erasure correction and erasure determination, e.g. for packet loss recovery or setting of erasures for the decoding of Reed-Solomon codes
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L1/00—Arrangements for detecting or preventing errors in the information received
- H04L1/0001—Systems modifying transmission characteristics according to link quality, e.g. power backoff
- H04L1/0033—Systems modifying transmission characteristics according to link quality, e.g. power backoff arrangements specific to the transmitter
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L1/00—Arrangements for detecting or preventing errors in the information received
- H04L1/0001—Systems modifying transmission characteristics according to link quality, e.g. power backoff
- H04L1/0002—Systems modifying transmission characteristics according to link quality, e.g. power backoff by adapting the transmission rate
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L1/00—Arrangements for detecting or preventing errors in the information received
- H04L1/0001—Systems modifying transmission characteristics according to link quality, e.g. power backoff
- H04L1/0015—Systems modifying transmission characteristics according to link quality, e.g. power backoff characterised by the adaptation strategy
- H04L1/0016—Systems modifying transmission characteristics according to link quality, e.g. power backoff characterised by the adaptation strategy involving special memory structures, e.g. look-up tables
Definitions
- the present invention relates to the field of data communications generally and in particular to techniques for error correction.
- Data can for example be transmitted from one computer or other transmitting station to another remote computer or other receiving station.
- Data transmission over networks such as the Internet is frequently accomplished by packetizing the message to be transmitted—that is, by dividing the message into packets which are reassembled at the receiving end to reconstruct the original message. Packets may be lost or delayed during transmission, resulting in corruption of the message. This can be especially problematic when it occurs during real time transmission of data (such as a-during a voice over IP (VOIP) session or video conferencing).
- VOIP voice over IP
- FEC forward error-correction coding
- RFC 5109 channel coding
- a method for generating an error correcting code for use with a plurality of source packets to be transmitted over a network.
- the method includes identifying a plurality of candidate packet masks; determining one or more channel code parameters; determining, for at least some of the plurality of candidate packet masks, a residual packet loss value that is calculated over a range of at least one network performance parameter using the one or more channel code parameters; selecting at least one of the plurality of candidate packet masks based on at least one of the determined residual packet loss values; and generating the error correcting code using the selected candidate packet mask and at least one of the plurality of source packets.
- a method for transmitting packetized data over a communications network.
- the method includes identifying a plurality of candidate packet masks; identifying an importance value of the packetized data; determining one or more channel code parameters; and determining, for at least some of the plurality of candidate packet masks, a residual packet loss value that is calculated over a range of at least one network performance parameter using the one or more channel code parameters.
- the residual packet loss value is a function at least in part of the importance value identified for the packetized data that would be recovered using that packet mask.
- the method further comprises selecting at least one of the plurality of candidate packet masks based on at least one of the determined residual packet loss values; and generating the error correcting code using the selected candidate packet mask and the packetized data.
- the packetized data and error correcting code are transmitted over the communications network.
- an apparatus for generating an error correcting code for use with a plurality of source packets to be transmitted over a network.
- the apparatus includes a memory and a processor configured to execute instructions stored in the memory.
- the processor as so configured can determine at least one channel code parameter associated with the error correcting code; determine, for each of a plurality of candidate packet masks, a residual packet loss value that is calculated using the at least one channel code parameter and at least one network performance parameter; select at least one of the plurality of candidate packet masks based on at least one of the determined residual packet loss values; and generate the error correcting code using the selected candidate packet mask and at the at least one source packet.
- FIG. 1 is a block diagram of a communications system including a transmitting station and a receiving station;
- FIG. 2 is a schematic diagram of packetized video data transmitted over the communications system of FIG. 1 ;
- FIG. 3 is a schematic diagram of packetized video data, including FEC packets, transmitted over the communications system of FIG. 1 .
- FIG. 4 is a logic flow chart of a method for transmitting and receiving packetized information over a network
- FIG. 5 is a schematic diagram of a packet mask
- FIG. 6 is a logic flow chart of the operations of the transmitting station of FIG. 1 ;
- FIG. 7 is a schematic diagram of a look-up table in the memory of the transmitting station that contains pre-calculated mask information
- FIG. 8 is a schematic diagram of a look-up table in the memory of the transmitting station that contains pre-calculated mask information.
- design of a packet mask is accomplished by selecting a mask from a given set of input masks ⁇ M ⁇ which has the minimum residual packet loss over all possible masks in set ⁇ M ⁇ . Residual packet loss is obtained by subtracting an effective recovery rate ERR from an actual or expected packet loss rate (p). Computation of ERR can take into account one or more factors such as number of source packets, amount of redundancy, the degree of packet loss in the network, and the type of packet loss (random or bursty, for example).
- FIG. 1 is a block diagram of a communications system 10 including a transmitting station 12 and a receiving station 14 .
- Transmitting station 12 and receiving station 14 communicate over a communications network 16 , which is in this case the Internet; however, other wired and/or wireless communication networks can be used such as local area networks and wide area networks.
- transmitting station 12 includes a processor 18 and a memory 20 .
- Receiving station 14 includes a processor 22 and memory 24 .
- Processors 18 and 22 can be computers, servers, or any other computing device or system capable of manipulating or processing information now-existing or hereafter developed, including optical processors, quantum processors and/or molecular processors, general purpose processors, special purpose processors, IP cores, ASICS, programmable logic arrays, programmable logic controllers, microcode, firmware, microcontrollers, microprocessors, digital signal processors, memory, or any combination of the foregoing.
- processors should be understood as including any the foregoing, either singly or in combination.
- Memory 20 and 24 are random access memory (RAM) although any other suitable type of storage device can be used.
- processors 18 , 22 receive program instructions and data from memory 20 , 24 , which can be used by the processor for performing the methods described below.
- FIG. 1 depicts that processors 18 , 22 and memory 20 , 24 are integrated into single units, this depiction is exemplary only.
- the operations of transmitting station 12 and receiving station 14 can be distributed across multiple processors on the same machine or different machines or across a network such as a local area network, wide area network or the Internet.
- transmitting station 12 and receiving station 14 are used to communicate in real time to permit parties at each station to engage in a videoconference over the Internet.
- the designation of a station 12 or 14 as “receiving” or “transmitting” is arbitrary and for purposes of illustration. With two-way real time communication, one station 12 , 14 will be the transmitting station with respect to a particular message, and the other station 12 , 14 will be the receiving station; but these roles can be reversed depending on which station is transmitting a particular message.
- Transmitting station 12 and receiving station 14 can be implemented in a wide variety of configurations, including for example on servers in a video conference system.
- transmitting station 12 can be implemented on a server and receiving station 14 can be implemented on a mobile device such as a mobile telephone or other hand-held communications or computing device.
- both transmitting station 12 and receiving station 14 can be hand-held devices.
- receiving station 14 can be a stationary personal computer rather than a mobile device.
- FIG. 2 is a schematic diagram of packetized video data 26 transmitted over the communications network 16 of FIG. 1 .
- Packetized video data 26 is derived from an encoded frame 28 of video data.
- packetized video data 26 is illustrated as including four source packets 30 , 32 , 34 and 36 (also referred to herein as Source 1, Source 2, Source 3 and Source 4 respectively).
- Source packets 30 - 36 contain the data comprising all or a portion of encoded frame 28 .
- the process of packetization can take place at transmitting station 12 .
- source packets 30 - 36 are transmitted over communications network 16 .
- FIG. 3 is a schematic diagram of packetized video data 37 , including source packets 28 and error correction packets 38 , transmitted over the communications network 16 of FIG. 1 .
- Packetized video data 26 is derived from encoded frame 28 of video data as shown in FIG. 2 .
- Error correction packets 38 are derived using a packet mask as described below. Error correction packets 38 comprise two FEC packets, namely an FEC packet 40 and an FEC packet 42 .
- FEC packets 40 and 42 are sometimes referred to herein as FEC 1 and FEC 2 , respectively.
- FEC packets 40 and 42 contain information used by the receiving station 14 to correct packet loss and other errors that may occur when packetized video data 37 is transmitted over a communications network 16 .
- packets are the same size. If the packets are different sizes, the shorter packet can be padded with zeros.
- FIG. 4 is a logic flow chart of a method 44 for transmitting and receiving packetized video data 37 over communications network 16 .
- transmitting station 12 generates encoded frame 28 of video data.
- encoded frame 28 is packetized into multiple source packets 30 - 36 .
- FEC packets 40 and 42 are generated.
- packetized video data 37 including source packets 28 and FEC error correction packets 38 , are transmitted over a communications network 16 and received by receiving station 14 .
- receiving station 14 detects whether there are any missing packets in packetized video information 37 . This detection can be accomplished by inspecting the sequence numbers in the RTP header of each packet.
- receiving station 14 recovers any missing packets using the received source packets 28 and the FEC error correction packets 40 and 42 .
- receiving station 14 decodes the encoded frame 28 of video data represented by packetized information 37 .
- FIG. 5 is a schematic diagram showing a highly simplified, exemplary packet mask 60 used to create the FEC packets 40 and 42 of FIG. 4 .
- Mask 60 is a matrix that specifies the linear combination of source packets to generate an FEC packet. The linear combination is applied over the whole packet data by a bitwise XOR. The packet mask (or the relevant row of the matrix/mask for that packet) is contained in each FEC packet, so the decoder has access to this information (at least for a received FEC packet), and hence can perform the recovery operation.
- packet mask 60 is represented by a four-by-two matrix having rows 62 and 64 and columns 66 , 68 , 70 and 72 .
- Rows 62 and 64 correspond to FEC packets 40 and 42 , respectively.
- Columns 66 , 68 , 70 and 72 correspond to source packets 30 , 32 , 34 and 36 , respectively.
- the values of the matrix are either one or zero, with one indicating which source packets are combined (via an XOR operation) to create the corresponding FEC packet.
- the values in columns 66 and 70 are each “one,” signifying that FEC packet 40 is a combination (XOR) of source packets 30 and 34 .
- the values in columns 68 and 70 are each “one,” signifying that FEC packet 42 is a combination (XOR) of source packets 32 and 34 . If only source packets 30 , 32 and 36 are received at receiving station 14 , then lost source packet 34 can be recovered by the receiving station if either or both of FEC packets 40 or 42 are received.
- Packet mask 60 is thus a matrix with each row corresponding to a particular FEC packet.
- that particular FEC packet includes in its header the underlying mask so that upon arrival at receiving station 14 the FEC packet can be used to reconstruct missing source packets.
- the size of packet mask 60 is a function of the channel code's redundancy, (n ⁇ k), where n is the total number of packets and k is the number of source packets. Thus, if there are 12 total packets (n) and 10 of those packets (k) are source packets, then there would be two (out of 10) FEC packets, and the packet mask would be a 10 ⁇ 2 matrix. The more FEC packets that are provided in the channel code, the greater the probability of complete recovery of missing packets but the more transmission overhead in the form of additional bytes of error correction code.
- An objective of packet mask design is to generate a packet mask (i.e., the matrix of 1s and 0s such as illustrated in FIG. 5 ) that maximizes or at least improves (empirically) the recovery of lost packets at receiving station 14 .
- the design of a packet mask to meet this objective can be accomplished by selecting a mask (from a given set of input masks ⁇ M ⁇ which has an absolute or local minimum residual packet loss or “RPL” over all possible masks in set ⁇ M ⁇ .
- At least two approaches can be employed for selecting a mask using RPL. These approaches can be used separately or in combination.
- minimmum or minimal herein are not intended to mean absolute minimum but may be local minimums or the lowest values that can be obtained given a finite set of inputs.
- a method 74 is illustrated for generating packet masks using the RPL function.
- Method 74 can be implemented by transmitting station 12 in connection with step 50 of FIG. 4 .
- Method 74 can be used to generate packet mask that provide for statistically improved recovery of missing packets.
- transmitting station 12 receives source packets (k) such as source packets 26 from the encoded frame 28 .
- transmitting station 12 receives RTCP reports on network state, including for example feedback on network quality. These reports contain actual values of network performance parameters described below such asp and b.
- receiving station 12 determines the FEC redundancy (n ⁇ k). That is, receiving station determines the ratio, of source packets to FEC packets, thus determining the degree of error correction protection to be afforded by the channel code.
- transmitting station 12 determines the effective recovery rate (“ERR”) as function of FEC redundancy determined at step 80 and other input parameters as discussed below.
- ERR effective recovery rate
- the packet mask to be used is selected by transmitting station 12 using ERR as a term in one or more of the functions described below.
- transmitting station 12 generates the FEC packets and transmits the entire message (source packets and FEC packets) over communications network 16 .
- the effective recovery rate (ERR) for a given mask M is a function of one or more channel code parameters and network performance parameters.
- Channel code parameters include: number of input/source packets (k); total number of packets including source packets and FEC packets (n) for the FEC code that is being implemented (in this case, an XOR code).
- Network performance parameters include packet loss rate (p) and burst length measured as the average number of consecutive packets lost (b). Network performance parameters can be obtained periodically, such as approximately once per second, from RTCP reports. Other types of network performance parameters can be used in place of or in addition to packet loss rate (p) and burst length (b).
- ERR for given mask M in the set ⁇ M ⁇ of masks is expressed as:
- P(t,p,b,n) is the probability of losing t packets (from n total packets), given a packet loss rate p and a burst length b
- A(M;t,k,n) is the average number of packets that can be recovered when t packets (from n total packets) are lost.
- A(M;t,k,n) represents the average number of packets that can be recovered when t packets are lost for a given (k, n) code:
- C(M; i,t,n) is the ratio as follows:
- C ⁇ ( M , i , t , n ) numRecovConfig ⁇ ( M ; i , t , n ) numConfigs ⁇ ( t , n ) [ Equation ⁇ ⁇ 4 ]
- numerator numRecovConfig is the number of configurations where i packets are recovered after losing t packets, from a total of n packets for the given packet mask M in set ⁇ M ⁇ .
- the term configurations as used here means the configurations of recovered packets.
- the denominator numConfigs is the number of possible configurations which could lose t packets from a total of n packets.
- P(t,p,b,n) represents the probability of losing t packets, which is determined using a selected packet loss model.
- packet loss models can be selected, including random loss models (such as a Bernoulli process), or a bursty loss model (such as a Markov process). Other packet loss models can be used. When a random loss model is used, there may be a higher level of degeneracy in the selected packet mask configuration.
- ERR can be computed in advance, off-line.
- FIG. 7 a schematic diagram of a look-up table 90 is provided.
- Look-up table 90 resides in memory 20 of transmitting station 12 ( FIG. 1 ).
- Table 90 includes a plurality of rows 92 and columns 94 and 96 .
- Each row 92 is uniquely identified by an index in column 94 .
- a value of ERR resides in column 94 and is determined as function of (p, b) for each value of (k, n ⁇ k).
- ERR R (p, b, k, n).
- Input parameters p and b are appropriately discretized to have a manageable table size.
- An exemplary approach to generating look-up table 90 is to first compute the quantity P(t,p,b,n) for all values of packet loss models parameters (p,b), and for all values of t.
- a typical range of t would be 0 to n.
- a typical value for n would be 48.
- the value of k can vary from 1 to n/2. Thus a typical value of k would be 24.
- the difference of (n ⁇ k) can vary from 0 to k.
- the set packet masks are pre-defined and fixed for this exemplary implementation. For example, likely candidate masks can selected heuristically and then variations can be generated to create a set of masks.
- the value of ERR is tabulated for mask M as function of (p,b) for each value of (k,n ⁇ k).
- the packet mask can be selected from a set of available masks ⁇ M ⁇ using the ERR as a term in a residual packet loss calculation.
- This process has several different features that may be implemented in one or more of the embodiments:
- RPL p ⁇ ERR, with ERR defined above.
- RPL could also be summed over a range of burst length values (b) in addition to summing over loss p.
- the notation arg inf means to find the argument (in this case M) that results in the minimum value of the function.
- M selected can be computed in advance, off-line.
- FIG. 8 a schematic diagram of a look-up table 98 is provided, Look-up table 98 resides in memory 20 of transmitting station 12 ( FIG. 1 ).
- Table 98 includes a plurality of rows 100 and columns 102 and 104 . Each row 100 is uniquely identified by an index in column 102 and there is one row for every value of M selected .
- a specific selected packet mask (that is, M selected ) resides in column 102 and is determined as the minimum of RPL in accordance with Equation 5.
- four input parameters p, b, k, n are used to construct an index value which is then used to access that one of rows 100 that holds the desired packet mask identified through Equation 5.
- ERR such as at step 82 of FIG. 6 . This calculation is subsumed in the computation of the table values for RPL.
- the packet mask is based on an average packet loss rate.
- the selection of a mask can include the identification of a packet mask tuned to a particular range of packet loss rates. This tuning is sometimes referred to herein as “windowing.”
- the selected packet mask generates a minimized cost function by performing better over a specified window of packet loss rates.
- Windowing can provide an improved selection of packet masks because transmitting station 12 receives periodic reports (RTCP) about the network state and thus has information as to the loss ranges that are most likely to occur in the immediate future. If these reports indicate that the loss rate on the network is typically around ⁇ circumflex over (p) ⁇ , then the selected packet mask can be tuned to this value.
- Equation 5 is modified with a window function w(p, ⁇ circumflex over (p) ⁇ ) as follows:
- w(p, ⁇ circumflex over (p) ⁇ ) is the window/weight of the RPL for packet loss value p, given periodic reports indicating that the typical network loss rate is around ⁇ circumflex over (p) ⁇ , which can be based on the actual value of loss reported by the network.
- a window function would be a Gaussian function centered around ⁇ circumflex over (p) ⁇ .
- (p, ⁇ circumflex over (p) ⁇ ) ce ⁇ (p ⁇ circumflex over (p) ⁇ ) 2 / ⁇ , where c is normalization and ⁇ is the width/spread of the window around ⁇ circumflex over (p) ⁇ .
- a soft density constraint term ⁇ ( ⁇ row + ⁇ column ) is added to the base function of Equation 5 to bias the selected mask toward solutions that have equal numbers of zeros in each row and column.
- the soft density constraint is a penalty term that increases the cost of masks that have deviation in the number of zeros in each row and column. The cost function can be restated with the soft density constraint as follows:
- ⁇ row/column is the variance, or deviation, of the number of zeros (for each row and column) in the packet mask.
- the value of t can vary depending on the model employed, with a larger ⁇ for random distribution model and a smaller g for a correlated/bursty model.
- the packet mask is characterized by the number of 0 s in each row/column, and the degree of overlap between rows. For small packet loss, the matrix is less dense in the number of 0 s, and has more row-overlap. For large packet loss values, the mask is more sparse with larger density of 0 s.
- Equation 6 and Equation 7 are not mutually exclusive. That is, the window function w(p, ⁇ circumflex over (p) ⁇ ) can be incorporated as a factor to be multiplied by RPL(M; p, k, n) as that term is used in Equation 7. Likewise, the soft density constraint can be incorporated in Equation 6 as an addend such as shown in Equation 7.
- the cost function can be modified to provide unequal protection of packets.
- Unequal protection refers to favoring the protection of some packets in the frame over other packets when the favored packets contain more important data or are more likely to be lost.
- favored packets may arise when transmitting video data encoded using a codec that has data partitioning. Some partitions (and hence, the packets that contain those partitions) are more important that others since they contain motion vectors, filter coefficients or otherwise have information used to reconstruct subsequent partitions.
- One illustrative method for providing unequal packet protection is to modify the ERR function to include a term that weights more heavily the protection of certain packets.
- the modified ERR function is stated as follows:
- ⁇ tilde over (C) ⁇ (M; i, t, n) is a ratio that is expressed as follows:
- the packet importance factor I i ( ⁇ right arrow over (s) ⁇ (x)) is a function of ⁇ right arrow over (s) ⁇ (x), which denotes the index of recovered packets for the x th configuration of recovered packets (e.g., a configuration of recovered packets 1, 3 and 5 versus a configuration of recovered packets 2, 4, and 7).
- the index x ranges over all possible the configurations of the numerator.
- the packet importance factor I i ( ⁇ right arrow over (s) ⁇ (x)) is the average of weightings for each of the i elements of ⁇ right arrow over (s) ⁇ (x).
- l i ( ⁇ right arrow over (s) ⁇ (x)) is expressed as follows:
- the packet importance function l i ( ⁇ right arrow over (s) ⁇ (x)) would be the average of this weighting.
- a larger weight m(s j (x)) on a particular packet results in a higher value of ⁇ tilde over (C) ⁇ (M; i, t, n) (and thus ERR) for packet masks that better protect that packet.
- the first few packets may contain information for which more protection is desired.
- the weighting for those packets e.g., s 1 , s 2
- Transmitting station 12 and receiving station 14 can be implemented in a wide variety of configurations.
- transmitting station 12 or receiving station 14 can be implemented using a general purpose processor 18 or 22 (respectively) and a computer program that, when executed, carries out any of the respective methods, algorithms and/or instructions described herein.
- a special purpose processor can be utilized which can contain specialized hardware for carrying out any of the methods, algorithms and/or instructions described herein.
- Portions of transmitting station 12 or receiving station 14 do not necessarily have to be implemented in the same manner.
- computation of RPL can be implemented in hardware whereas other computations described above can be implemented in software.
- All or a portion of embodiments of the present invention can take the form of a computer program product accessible from, for example, a computer-usable or computer-readable medium.
- a computer-usable or computer-readable medium can be any device that can, for example tangibly contain, store, communicate, and/or transport the program for use by or in connection with any processor.
- the medium can be, for example, an electronic, magnetic, optical, electromagnetic, or a semiconductor device. Other suitable mediums are also available.
Abstract
Description
RPL=p−R(p,b,k,n) [Equation 1]
where p is the packet loss rate experienced on the network and R(p, b, k, n) is the effective recovery rate (ERR) described below.
where P(t,p,b,n) is the probability of losing t packets (from n total packets), given a packet loss rate p and a burst length b, and A(M;t,k,n) is the average number of packets that can be recovered when t packets (from n total packets) are lost. The two basic quantities in the effective recovery rate—A(M;t,k,n) and P(t,p,b,n)—are expressed as follows.
where C(M; i,t,n) is the ratio as follows:
where the numerator numRecovConfig is the number of configurations where i packets are recovered after losing t packets, from a total of n packets for the given packet mask M in set {M}. The term configurations as used here means the configurations of recovered packets. The denominator numConfigs is the number of possible configurations which could lose t packets from a total of n packets.
-
- (a) effective recovery rate (ERR) is determined from an underlying statistical model of packet loss events;
- (b) computation of residual loss is windowed over a defined range packet loss rates so that the selected mask is tuned to that range of loss rates;
- (c) a soft density constraint is used to bias the selected mask towards optimization in a random or bursty loss case; and
- (d) selected packets are deemed of greater importance that other packets, thus providing unequal protection across packets.
where RPL=p−ERR, with ERR defined above. As an alternative implementation, RPL could also be summed over a range of burst length values (b) in addition to summing over loss p. The notation arg inf means to find the argument (in this case M) that results in the minimum value of the function.
The range of summation (po=0 to pf=0.5) can be selected using actual packet loss data derived from RTCP reports.
where w(p, {circumflex over (p)}) is the window/weight of the RPL for packet loss value p, given periodic reports indicating that the typical network loss rate is around {circumflex over (p)}, which can be based on the actual value of loss reported by the network. One example of a window function would be a Gaussian function centered around {circumflex over (p)}. For example, (p, {circumflex over (p)})=ce−(p−{circumflex over (p)})
where Ã(M; t, k, n) represents a modified average number of packets that can be recovered using mask M when t packets are lost from a total of n packets having k source packets). A(M; t, k, n) is expressed as follows:
where the numerator is the sum of packet importance factors Ii({right arrow over (s)}(x)) for each configuration x of recovering i packets when t packets are lost from a total of n packets, and the denominator is as described in
Claims (23)
Priority Applications (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US13/103,565 US8661323B2 (en) | 2011-05-09 | 2011-05-09 | Method and apparatus for generating packet mask |
PCT/US2011/051818 WO2012154196A1 (en) | 2011-05-09 | 2011-09-15 | Method and apparatus for generating packet mask |
Applications Claiming Priority (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US13/103,565 US8661323B2 (en) | 2011-05-09 | 2011-05-09 | Method and apparatus for generating packet mask |
Publications (2)
Publication Number | Publication Date |
---|---|
US20120290900A1 US20120290900A1 (en) | 2012-11-15 |
US8661323B2 true US8661323B2 (en) | 2014-02-25 |
Family
ID=44720148
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US13/103,565 Active 2032-01-13 US8661323B2 (en) | 2011-05-09 | 2011-05-09 | Method and apparatus for generating packet mask |
Country Status (2)
Country | Link |
---|---|
US (1) | US8661323B2 (en) |
WO (1) | WO2012154196A1 (en) |
Cited By (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US9490850B1 (en) * | 2011-11-28 | 2016-11-08 | Google Inc. | Method and apparatus for decoding packetized data |
US10034023B1 (en) | 2012-07-30 | 2018-07-24 | Google Llc | Extended protection of digital video streams |
Families Citing this family (11)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US9185429B1 (en) | 2012-04-30 | 2015-11-10 | Google Inc. | Video encoding and decoding using un-equal error protection |
US8819525B1 (en) * | 2012-06-14 | 2014-08-26 | Google Inc. | Error concealment guided robustness |
US9009305B1 (en) * | 2012-08-23 | 2015-04-14 | Amazon Technologies, Inc. | Network host inference system |
GB201404535D0 (en) * | 2014-03-14 | 2014-04-30 | Nat Univ Ireland | Low-delay packet erasure coding |
US20170187635A1 (en) * | 2015-12-28 | 2017-06-29 | Qualcomm Incorporated | System and method of jitter buffer management |
CN107181968B (en) * | 2016-03-11 | 2019-11-19 | 腾讯科技（深圳）有限公司 | A kind of redundancy control method and device of video data |
US9843413B2 (en) * | 2016-03-25 | 2017-12-12 | Cisco Technology, Inc. | Forward error correction for low-delay recovery from packet loss |
US10650621B1 (en) | 2016-09-13 | 2020-05-12 | Iocurrents, Inc. | Interfacing with a vehicular controller area network |
CN107317795B (en) * | 2017-05-08 | 2021-07-09 | 贵阳朗玛信息技术股份有限公司 | Method and device for adjusting code rate of data packet |
US10594661B1 (en) * | 2017-06-13 | 2020-03-17 | Parallels International Gmbh | System and method for recovery of data packets transmitted over an unreliable network |
US10756844B2 (en) * | 2017-06-16 | 2020-08-25 | Mediatek Inc. | Devices and method for wirelessly broadcasting media packets |
Citations (26)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6266337B1 (en) | 1998-06-23 | 2001-07-24 | Expand Network Ltd. | Packet retransmission eliminator |
US20020157058A1 (en) | 2001-02-20 | 2002-10-24 | Cute Ltd. | System and method for feedback-based unequal error protection coding |
US20030098992A1 (en) | 2001-10-31 | 2003-05-29 | Samsung Electronics Co., Ltd. | Data transmitting/receiving system and method thereof |
US6587985B1 (en) | 1998-11-30 | 2003-07-01 | Matsushita Electric Industrial Co., Ltd. | Data transmission method, data transmission apparatus, data receiving apparatus, and packet data structure |
US6741569B1 (en) * | 2000-04-18 | 2004-05-25 | Telchemy, Incorporated | Quality of service monitor for multimedia communications system |
US20040165585A1 (en) | 2003-02-25 | 2004-08-26 | Koji Imura | Packet transmission apparatus and packet transmission method |
US20050154965A1 (en) | 2004-01-09 | 2005-07-14 | Fujitsu Limited | Transmission apparatus, transmission control program, and transmission method |
US20050180415A1 (en) | 2002-03-06 | 2005-08-18 | Gene Cheung | Medium streaming distribution system |
US20060150055A1 (en) | 2005-01-06 | 2006-07-06 | Terayon Communication Systems, Inc. | Adaptive information delivery system using FEC feedback |
US7180896B1 (en) | 2000-06-23 | 2007-02-20 | Mitsubishi Denki Kabushiki Kaisha | Method and system for packet retransmission |
US7263644B2 (en) | 2002-01-10 | 2007-08-28 | Samsung Electronics Co., Ltd. | Data transmitting/receiving system and method thereof |
US20080101403A1 (en) | 2004-09-15 | 2008-05-01 | Siemens Aktiengesellschaft | Method For Combining Data Packets By A Telecommunication Device |
US20080109707A1 (en) * | 2006-11-03 | 2008-05-08 | Timothy Dell | Forward error correction encoding for multiple link transmission capatible with 64b/66b scrambling |
US7372834B2 (en) | 2003-09-03 | 2008-05-13 | Lg Electronics Inc. | Method of controlling transmission power of retransmission packet and mobile terminal using the same |
US7447235B2 (en) | 2003-10-08 | 2008-11-04 | Digital Fountain, Inc. | FEC-based reliability control protocols |
US20090022157A1 (en) * | 2007-07-19 | 2009-01-22 | Rumbaugh Stephen R | Error masking for data transmission using received data |
US20090059917A1 (en) * | 2007-08-30 | 2009-03-05 | General Dynamics C4 Systems, Inc. | Systems and methods for reliable message delivery over digital networks |
US20090138784A1 (en) | 2007-11-13 | 2009-05-28 | Fujitsu Limited | Coding device and coding method |
US20090249158A1 (en) | 2008-01-03 | 2009-10-01 | Lg Electronics Inc. | Method for packet retransmission employing feedback information |
US7636298B2 (en) | 2003-11-20 | 2009-12-22 | Fujitsu Limited | Apparatus and method for packet error correction |
US20100122127A1 (en) * | 2005-04-04 | 2010-05-13 | Stmicroelectronics S.R.L. | Method and system for correcting burst errors in communications networks, related network and computer-program product |
US20100153828A1 (en) * | 2008-11-04 | 2010-06-17 | De Lind Van Wijngaarden Adriaan J | Method and apparatus for error detection in a communication system |
US7756127B2 (en) | 2005-05-10 | 2010-07-13 | Kabushiki Kaisha Toshiba | Mobile terminal |
US20100202414A1 (en) * | 2005-03-31 | 2010-08-12 | Qualcomm Incorporated | Hsdpa system with reduced inter-user interference |
US20100306618A1 (en) * | 2009-03-18 | 2010-12-02 | Jin Woo Kim | Transmitting/receiving system and method of processing broadcasting signal in transmitting/receiving system |
US7974243B2 (en) | 2003-06-18 | 2011-07-05 | Nippon Telegraph And Telephone Corporation | Wireless packet communication method and wireless packet communication apparatus |
-
2011
- 2011-05-09 US US13/103,565 patent/US8661323B2/en active Active
- 2011-09-15 WO PCT/US2011/051818 patent/WO2012154196A1/en active Application Filing
Patent Citations (41)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6266337B1 (en) | 1998-06-23 | 2001-07-24 | Expand Network Ltd. | Packet retransmission eliminator |
US20070168824A1 (en) | 1998-11-30 | 2007-07-19 | Hideaki Fukushima | Data transmission method and data transmission apparatus |
US7356750B2 (en) | 1998-11-30 | 2008-04-08 | Matsushita Electric Industrial Co., Ltd | Data transmission method and data transmission apparatus |
US6918077B2 (en) | 1998-11-30 | 2005-07-12 | Matsushita Electric Industrial Co., Ltd. | Data transmission method and data transmission apparatus |
US20030226094A1 (en) | 1998-11-30 | 2003-12-04 | Hideaki Fukushima | Data transmission method |
US6684354B2 (en) | 1998-11-30 | 2004-01-27 | Matsushita Electric Industrial Co., Ltd. | Data transmission method, data transmission apparatus, data receiving apparatus, and packet data structure |
US6732313B2 (en) | 1998-11-30 | 2004-05-04 | Matsushita Electric Industrial Co., Ltd. | Data transmission method |
US6587985B1 (en) | 1998-11-30 | 2003-07-01 | Matsushita Electric Industrial Co., Ltd. | Data transmission method, data transmission apparatus, data receiving apparatus, and packet data structure |
US20080209300A1 (en) | 1998-11-30 | 2008-08-28 | Hideaki Fukushima | Data transmission method and data transmission apparatus |
US7124333B2 (en) | 1998-11-30 | 2006-10-17 | Matsushita Electric Industrial Co., Ltd. | Retransmission packet structure having multiple sequence numbers |
US6741569B1 (en) * | 2000-04-18 | 2004-05-25 | Telchemy, Incorporated | Quality of service monitor for multimedia communications system |
US7180896B1 (en) | 2000-06-23 | 2007-02-20 | Mitsubishi Denki Kabushiki Kaisha | Method and system for packet retransmission |
US20020157058A1 (en) | 2001-02-20 | 2002-10-24 | Cute Ltd. | System and method for feedback-based unequal error protection coding |
US20030098992A1 (en) | 2001-10-31 | 2003-05-29 | Samsung Electronics Co., Ltd. | Data transmitting/receiving system and method thereof |
US7823039B2 (en) | 2002-01-10 | 2010-10-26 | Samsung Electronics Co., Ltd. | Data transmitting/receiving system and method thereof |
US7484157B2 (en) | 2002-01-10 | 2009-01-27 | Samsung Electronics Co., Ltd. | Data transmitting/receiving system and method thereof |
US7263644B2 (en) | 2002-01-10 | 2007-08-28 | Samsung Electronics Co., Ltd. | Data transmitting/receiving system and method thereof |
US7447969B2 (en) | 2002-01-10 | 2008-11-04 | Samsung Electronics Co., Ltd. | Data transmitting/receiving system and method thereof |
US20050180415A1 (en) | 2002-03-06 | 2005-08-18 | Gene Cheung | Medium streaming distribution system |
US20040165585A1 (en) | 2003-02-25 | 2004-08-26 | Koji Imura | Packet transmission apparatus and packet transmission method |
US7974243B2 (en) | 2003-06-18 | 2011-07-05 | Nippon Telegraph And Telephone Corporation | Wireless packet communication method and wireless packet communication apparatus |
US7372834B2 (en) | 2003-09-03 | 2008-05-13 | Lg Electronics Inc. | Method of controlling transmission power of retransmission packet and mobile terminal using the same |
US7447235B2 (en) | 2003-10-08 | 2008-11-04 | Digital Fountain, Inc. | FEC-based reliability control protocols |
US7636298B2 (en) | 2003-11-20 | 2009-12-22 | Fujitsu Limited | Apparatus and method for packet error correction |
US20050154965A1 (en) | 2004-01-09 | 2005-07-14 | Fujitsu Limited | Transmission apparatus, transmission control program, and transmission method |
US7376880B2 (en) | 2004-01-09 | 2008-05-20 | Fujitsu Limited | Transmission apparatus, transmission control program, and transmission method |
US20080101403A1 (en) | 2004-09-15 | 2008-05-01 | Siemens Aktiengesellschaft | Method For Combining Data Packets By A Telecommunication Device |
US7680076B2 (en) | 2004-09-15 | 2010-03-16 | Siemens Aktiengesellschaft | Method for combining data packets by a telecommunication device |
US20060150055A1 (en) | 2005-01-06 | 2006-07-06 | Terayon Communication Systems, Inc. | Adaptive information delivery system using FEC feedback |
US20100202414A1 (en) * | 2005-03-31 | 2010-08-12 | Qualcomm Incorporated | Hsdpa system with reduced inter-user interference |
US20100122127A1 (en) * | 2005-04-04 | 2010-05-13 | Stmicroelectronics S.R.L. | Method and system for correcting burst errors in communications networks, related network and computer-program product |
US7756127B2 (en) | 2005-05-10 | 2010-07-13 | Kabushiki Kaisha Toshiba | Mobile terminal |
US20080109707A1 (en) * | 2006-11-03 | 2008-05-08 | Timothy Dell | Forward error correction encoding for multiple link transmission capatible with 64b/66b scrambling |
US7710973B2 (en) * | 2007-07-19 | 2010-05-04 | Sofaer Capital, Inc. | Error masking for data transmission using received data |
US20090022157A1 (en) * | 2007-07-19 | 2009-01-22 | Rumbaugh Stephen R | Error masking for data transmission using received data |
US20090059917A1 (en) * | 2007-08-30 | 2009-03-05 | General Dynamics C4 Systems, Inc. | Systems and methods for reliable message delivery over digital networks |
US8085767B2 (en) * | 2007-08-30 | 2011-12-27 | General Dynamics C4 Systems, Inc. | Systems and methods for reliable message delivery over digital networks |
US20090138784A1 (en) | 2007-11-13 | 2009-05-28 | Fujitsu Limited | Coding device and coding method |
US20090249158A1 (en) | 2008-01-03 | 2009-10-01 | Lg Electronics Inc. | Method for packet retransmission employing feedback information |
US20100153828A1 (en) * | 2008-11-04 | 2010-06-17 | De Lind Van Wijngaarden Adriaan J | Method and apparatus for error detection in a communication system |
US20100306618A1 (en) * | 2009-03-18 | 2010-12-02 | Jin Woo Kim | Transmitting/receiving system and method of processing broadcasting signal in transmitting/receiving system |
Non-Patent Citations (14)
Title |
---|
Friedman, et al., "RTP: Control Protocol Extended Reports (RTPC XR)," Network Working Group RFC 3611 (The Internet Society 2003) (52 pp). |
Frossard, Pascal; "Joint Source/FEC Rate Selection for Quality-Optimal MPEG-2 Video Delivery", IEEE Transactions on Image Processing, vol. 10, No. 12, (Dec. 2001) pp. 1815-1825. |
International Search Report and Written Opinion for International Application No. PCT/US2011/051818 dated Nov. 21, 2011 (16 pages). |
Korhonen, Jari; Frossard, Pascal; "Flexible forward error correction codes with application to partial media data recovery", Signal Processing: Image Communication vol. 24, No. 3 (Mar. 2009) pp. 229-242. |
Li, A., "RTP Payload Format for Generic Forward Error Correction", Network Working Group, Standards Track, Dec. 2007, (45 pp). |
Liang, Y.J.; Apostolopoulos, J.G.; Girod, B., "Analysis of packet loss for compressed video: does burst-length matter?," Acoustics, Speech, and Signal Processing, 2003. Proceedings. (ICASSP '03). 2003 IEEE International Conference on , vol. 5, No., pp. V,684-7 vol. 5, Apr. 6-10, 2003. * |
Roca, Vincent, et al., Design and Evaluation of a Low Density Generator Matrix (LDGM) Large Block FEC Codec, INRIA Rhone-Alpes, Planete project, France, Date Unknown, (12 pp). |
U.S. Appl. No. 13/103,565, filed May 9, 2011 titled "Method and Apparatus for Generating Packet Mask", Inventor: Paniconi. |
U.S. Appl. No. 13/305,021, filed Nov. 28, 2011 titled "Method and Apparatus for Requesting Retransmission of Missing Packets in Data Communications", Inventors: Shemer et al. |
U.S. Appl. No. 13/305,175, filed Nov. 28, 2011 titled "Method and Apparatus for Decoding Packetized Data", Inventors: Paniconi et al. |
U.S. Appl. No. 13/421,031, filed Mar. 15, 2012 titled "Adaptive Protection Modes for Packet Loss in Digital Video Streams", Inventors: Paniconi et al. |
Wikipedia, the free encyclopedia, "Low-density parity-check code", http://en.wikipedia.org/wiki/Low-density-parity-check-code, Jul. 30, 2012 (5 pp). |
Yoo, S. J. B., "Optical Packet and Burst Switching Technologies for the Future Photonic Internet," Lightwave Technology, Journal of , vol. 24, No. 12, pp. 4468,4492, Dec. 2006. * |
Yu, Xunqi, et al; "The Accuracy of Markov Chain Models in Predicting Packet-Loss Statistics for a Single Multiplexer", IEEE Transaactions on Information Theory, vol. 54, No. 1 (Jan. 2008) pp. 489-501. |
Cited By (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US9490850B1 (en) * | 2011-11-28 | 2016-11-08 | Google Inc. | Method and apparatus for decoding packetized data |
US10034023B1 (en) | 2012-07-30 | 2018-07-24 | Google Llc | Extended protection of digital video streams |
Also Published As
Publication number | Publication date |
---|---|
WO2012154196A1 (en) | 2012-11-15 |
US20120290900A1 (en) | 2012-11-15 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US8661323B2 (en) | Method and apparatus for generating packet mask | |
EP2191604B1 (en) | Scalable error detection for packet-switched transmission | |
US10880202B2 (en) | Joint fountain coding and network coding for loss-tolerant information spreading | |
US10903853B2 (en) | Computation of forward error correction data units using loss vector probabilities | |
EP2719103B1 (en) | Adaptive generation of correction data units | |
US20170063497A1 (en) | Method and apparatus for decoding packetized data | |
US10034023B1 (en) | Extended protection of digital video streams | |
CN112751644B (en) | Data transmission method, device and system and electronic equipment | |
RU2001132150A (en) | Method and device for transmitting and receiving multimedia data | |
Zarei et al. | On the partial decoding delay of sparse network coding | |
CN106571893A (en) | Voice data coding and decoding method | |
JP2012120161A (en) | Method of packetizing encoded symbols and apparatus using the same | |
Yousefi'zadeh | Optimal audio transmission over error-prone wireless links | |
US9276606B2 (en) | Correction data | |
Su et al. | The analysis of packet loss prediction for Gilbert-model with loss rate uplink | |
Sørensen et al. | Delay minimization in real-time communications with joint buffering and coding | |
Su et al. | Optimal FEC assignment for scalable video transmission over burst error channel with loss rate feedback | |
Yang et al. | The analysis of packet loss prediction for gilbert-model with loss rate uplink | |
US7769045B2 (en) | Method and apparatus for processing header bits and payload bits | |
Yousefi'zadeh | An optimal UEP scheme of audio transmission over MIMO wireless links | |
Sadeghi et al. | A new approach to solve the reliability problem in any VoIP steganography system | |
Hamidi-Sepehr et al. | On the performance of block codes over finite-state channels in the rare-transition regime | |
Schotsch et al. | Design of unequally error protecting low-density random linear fountain codes | |
Sreeraj et al. | Hybrid Adaptive Loss Recovery and Enhanced Retransmission Technique for VoIP | |
Botos et al. | Study of the decoding complexity for rateless erasure codes |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
AS | Assignment |
Owner name: GOOGLE INC., CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:PANICONI, MARCO;REEL/FRAME:026259/0861Effective date: 20110506 |
|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |
|
CC | Certificate of correction | ||
MAFP | Maintenance fee payment |
Free format text: PAYMENT OF MAINTENANCE FEE, 4TH YEAR, LARGE ENTITY (ORIGINAL EVENT CODE: M1551)Year of fee payment: 4 |
|
AS | Assignment |
Owner name: GOOGLE LLC, CALIFORNIAFree format text: CHANGE OF NAME;ASSIGNOR:GOOGLE INC.;REEL/FRAME:044101/0299Effective date: 20170929 |
|
MAFP | Maintenance fee payment |
Free format text: PAYMENT OF MAINTENANCE FEE, 8TH YEAR, LARGE ENTITY (ORIGINAL EVENT CODE: M1552); ENTITY STATUS OF PATENT OWNER: LARGE ENTITYYear of fee payment: 8 |