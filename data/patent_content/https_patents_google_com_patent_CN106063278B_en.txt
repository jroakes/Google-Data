CN106063278B - Code conversion is carried out to Media Stream using subgroup block - Google Patents
Code conversion is carried out to Media Stream using subgroup block Download PDFInfo
- Publication number
- CN106063278B CN106063278B CN201480062710.5A CN201480062710A CN106063278B CN 106063278 B CN106063278 B CN 106063278B CN 201480062710 A CN201480062710 A CN 201480062710A CN 106063278 B CN106063278 B CN 106063278B
- Authority
- CN
- China
- Prior art keywords
- chunking
- input
- video
- input video
- subordinate
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Active
Links
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/40—Client devices specifically adapted for the reception of or interaction with content, e.g. set-top-box [STB]; Operations thereof
- H04N21/43—Processing of content or additional data, e.g. demultiplexing additional data from a digital video stream; Elementary client operations, e.g. monitoring of home network or synchronising decoder's clock; Client middleware
- H04N21/44—Processing of video elementary streams, e.g. splicing a video clip retrieved from local storage with an incoming video stream, rendering scenes according to MPEG-4 scene graphs
- H04N21/44016—Processing of video elementary streams, e.g. splicing a video clip retrieved from local storage with an incoming video stream, rendering scenes according to MPEG-4 scene graphs involving splicing one content stream with another content stream, e.g. for substituting a video clip
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/20—Servers specifically adapted for the distribution of content, e.g. VOD servers; Operations thereof
- H04N21/23—Processing of content or additional data; Elementary server operations; Server middleware
- H04N21/233—Processing of audio elementary streams
- H04N21/2335—Processing of audio elementary streams involving reformatting operations of audio signals, e.g. by converting from one coding standard to another
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/40—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using video transcoding, i.e. partial or full decoding of a coded input stream followed by re-encoding of the decoded output stream
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/20—Servers specifically adapted for the distribution of content, e.g. VOD servers; Operations thereof
- H04N21/23—Processing of content or additional data; Elementary server operations; Server middleware
- H04N21/234—Processing of video elementary streams, e.g. splicing of video streams, manipulating MPEG-4 scene graphs
- H04N21/23424—Processing of video elementary streams, e.g. splicing of video streams, manipulating MPEG-4 scene graphs involving splicing one content stream with another content stream, e.g. for inserting or substituting an advertisement
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/20—Servers specifically adapted for the distribution of content, e.g. VOD servers; Operations thereof
- H04N21/23—Processing of content or additional data; Elementary server operations; Server middleware
- H04N21/234—Processing of video elementary streams, e.g. splicing of video streams, manipulating MPEG-4 scene graphs
- H04N21/2343—Processing of video elementary streams, e.g. splicing of video streams, manipulating MPEG-4 scene graphs involving reformatting operations of video signals for distribution or compliance with end-user requests or end-user device requirements
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/20—Servers specifically adapted for the distribution of content, e.g. VOD servers; Operations thereof
- H04N21/23—Processing of content or additional data; Elementary server operations; Server middleware
- H04N21/234—Processing of video elementary streams, e.g. splicing of video streams, manipulating MPEG-4 scene graphs
- H04N21/2347—Processing of video elementary streams, e.g. splicing of video streams, manipulating MPEG-4 scene graphs involving video stream encryption
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/20—Servers specifically adapted for the distribution of content, e.g. VOD servers; Operations thereof
- H04N21/23—Processing of content or additional data; Elementary server operations; Server middleware
- H04N21/236—Assembling of a multiplex stream, e.g. transport stream, by combining a video stream with other content or additional data, e.g. inserting a URL [Uniform Resource Locator] into a video stream, multiplexing software data into a video stream; Remultiplexing of multiplex streams; Insertion of stuffing bits into the multiplex stream, e.g. to obtain a constant bit-rate; Assembling of a packetised elementary stream
- H04N21/23608—Remultiplexing multiplex streams, e.g. involving modifying time stamps or remapping the packet identifiers
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/20—Servers specifically adapted for the distribution of content, e.g. VOD servers; Operations thereof
- H04N21/23—Processing of content or additional data; Elementary server operations; Server middleware
- H04N21/236—Assembling of a multiplex stream, e.g. transport stream, by combining a video stream with other content or additional data, e.g. inserting a URL [Uniform Resource Locator] into a video stream, multiplexing software data into a video stream; Remultiplexing of multiplex streams; Insertion of stuffing bits into the multiplex stream, e.g. to obtain a constant bit-rate; Assembling of a packetised elementary stream
- H04N21/2368—Multiplexing of audio and video streams
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/40—Client devices specifically adapted for the reception of or interaction with content, e.g. set-top-box [STB]; Operations thereof
- H04N21/43—Processing of content or additional data, e.g. demultiplexing additional data from a digital video stream; Elementary client operations, e.g. monitoring of home network or synchronising decoder's clock; Client middleware
- H04N21/435—Processing of additional data, e.g. decrypting of additional data, reconstructing software from modules extracted from the transport stream
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/40—Client devices specifically adapted for the reception of or interaction with content, e.g. set-top-box [STB]; Operations thereof
- H04N21/43—Processing of content or additional data, e.g. demultiplexing additional data from a digital video stream; Elementary client operations, e.g. monitoring of home network or synchronising decoder's clock; Client middleware
- H04N21/44—Processing of video elementary streams, e.g. splicing a video clip retrieved from local storage with an incoming video stream, rendering scenes according to MPEG-4 scene graphs
- H04N21/4405—Processing of video elementary streams, e.g. splicing a video clip retrieved from local storage with an incoming video stream, rendering scenes according to MPEG-4 scene graphs involving video stream decryption
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/80—Generation or processing of content or additional data by content creator independently of the distribution process; Content per se
- H04N21/83—Generation or processing of protective or descriptive data associated with content; Content structuring
- H04N21/845—Structuring of content, e.g. decomposing content into time segments
- H04N21/8456—Structuring of content, e.g. decomposing content into time segments by decomposing the content in the time domain, e.g. in time segments
Abstract
A kind of method (600) includes receiving input medium stream (232) and the video section (232 ') of the received part of input medium stream being split into input video chunking (233) while receiving the rest part of input medium stream.Each input video chunking for the video section of input medium stream, this method includes assigning the input video chunking to one or more subordinate code converter (220), which is split into video subgroup block (234) and each code converter into code converter discretely feeds each input video subgroup block.This method includes that output video subgroup block (235) is discretely received from subordinate code converter.Each output video subgroup block corresponds respectively to an input video subgroup block in input video subgroup block.This method further includes that will export video subgroup block to be assembled into output video chunking (236) corresponding with input video chunking and output video chunking is assembled into output media stream (239).
Description
Technical field
This disclosure relates to for using subgroup block to carry out Media Stream the technology of code conversion.
Background technique
In the presence of the growth for receiving live tv stream at user equipment (such as smart phone and tablet computer)
Demand.However, live tv stream is made to can be used for that there is the mobile device of low end-to-end delay to bring challenges to content supplier.When
Preceding solution offer can be more than 60 seconds end-to-end delay.Such Time delay measurement has no attraction to client.
Summary of the invention
The one aspect of disclosure provides a method that this method includes receiving to compile according to the first coding parameter sets
The input medium stream of code.This method also includes that the video section of the received part of input medium stream is split into input video group
Block, while receiving the rest part of input medium stream.Each input video chunking for the video section of input medium stream, should
Method further includes assigning input video chunking to one or more subordinate code converter, input video chunking is split into defeated
Enter video subgroup block, and to from the first coding parameter to second encoding parameter set to data carry out one of code conversion or
Each subordinate code converter in the multiple subordinate code converters of person discretely feeds each input video subgroup block.This method
Further include each input video subgroup block code is converted into corresponding output video subgroup block and will export video subgroup block
It is assembled into output video chunking corresponding with input video chunking.This method also includes that will export video chunking to be assembled into output matchmaker
Body stream.
The implementation of disclosure may include one or more feature in following characteristics.In some implementations
In, this method includes by the received partial resolution of input video chunking into input video subgroup block, while still receiving input
The rest part of video chunking.This method also may include that feed at least one to one or more subordinate code converter defeated
Enter video subgroup block, while still receiving the rest part of input video chunking.Each subordinate code converter may include from
Belong to decoder and subordinate encoder.Subordinate encoder is to the first input video subgroup block coding, while it is defeated to second to belong to decoder
Enter the decoding of video subgroup block.This method may include that will export video chunking to be assembled into output media stream, while by input medium
Any rest part of the video section of stream splits into input video chunking.
In some instances, this method includes assigning input video chunking to multiple subordinate code converters.Additionally or
Alternatively, a subordinate code converter in multiple subordinate code converters can complete the code to input video chunking to person
Conversion, so that other subordinate code converters in multiple code converters be ordered to stop the input video to input video chunking
The conversion of subgroup block code.Additionally or alternatively, this method may include order in multiple code converters it is other from
Belong to being identified as all subordinate code converters after code converter stop code is converted and can be used for receiving another input video
Chunking.
In some implementations, this method include input medium stream is demultiplexed into input medium stream video section and
Audio-frequency unit, and the audio-frequency unit of input medium stream is split into input audio chunking.Each input audio chunking is right respectively
It should be in one of the input video chunking of video section.Additionally or alternatively, input audio chunking and input video chunking
It is each corresponding to can start in the same time in input medium stream and there is the essentially similar or identical time
Length.
For each input audio chunking, this method may include that input audio chunking is decoded into audio sample.It is examining
When measuring the audio packet of the loss in input audio chunking, this method may include corresponding with the audio packet of loss
Insert silent audio sampling is inserted at position into audio sample and audio sample is encoded into output audio chunking.Additionally or
Alternatively, this method may include video chunking will be exported to be assembled into outputting video streams, including by each output audio chunking with
Corresponding output video group block alignment.
In some implementations, this method includes fetching one or more subordinate generation from available code converter queue
Code converter.It, should when one or more subordinate code converter completes the code conversion to the input video chunking of appointment
Method may include releasing back to one or more code converter in code converter queue.
For each input video chunking, this method may include obtain immediately follows before input video chunking preceding
At least one of input video chunking is in preceding input video subgroup block.This method may include in the defeated of feeding input video chunking
Enter the forward direction of video subgroup block one or more subordinate code converter and feeds at least one in preceding input video subgroup block.It should
Method can also include publication output media stream, and to user device transmissions output media stream.
It includes non-transient computer-readable media, multiple subordinate code conversions that the another aspect of disclosure, which provides a kind of,
The transcoder server of device and processing equipment.Non-transient computer-readable media stores computer-readable instruction.Multiple subordinates
Code converter carries out code conversion from the first coding parameter sets to second encoding parameter set to data.Processing equipment and meter
Calculation machine readable medium communicates and executes computer-readable instruction.Computer-readable instruction receives processing equipment according to first
The input medium stream of coding parameter sets coding.Computer-readable instruction but also processing equipment by the received of input medium stream
Partial video section splits into input video chunking, while receiving the rest part of input medium stream.For input medium stream
Video section each input video chunking, processing equipment to one or more subordinate code converter assign input video
Input video chunking is split into input video subgroup block by chunking, is converted into output video to by input video subgroup block code
Each subordinate code converter in one or more subordinate code converter of subgroup block discretely feeds each input view
Frequency subgroup block.A subordinate code converter in one or more subordinate code converter is by the institute of input video chunking
When having input video subgroup block code to be converted into output video subgroup block, subordinate code converter will export the assembling of video subgroup block
At output video chunking.Processing equipment receives output video group corresponding with input video chunking from a subordinate code converter
Block, and output video chunking is assembled into output media stream.
In some implementations, processing equipment is by the received partial resolution of input video chunking at input video subgroup
Block, while still receiving the rest part of input video chunking.Processing equipment is also to one or more subordinate code converter
At least one input video subgroup block is fed, while still receiving the rest part of input video chunking.Processing equipment can incite somebody to action
Output video chunking is assembled into output media stream, while any rest part of the video section of input medium stream being split into defeated
Enter video chunking.
Each subordinate code converter may include subordinate decoder and subordinate encoder.Subordinate encoder is inputted to first
Video subgroup block coding, while subordinate decoder decodes the second input video subgroup block.Processing equipment can also to it is multiple from
Belong to code converter and assigns input video chunking.Additionally or alternatively, one in multiple subordinate code converters from
When belonging to code conversion of the code converter completion to video chunking, processing equipment can order other in multiple code converters
Subordinate code converter stops converting the input video subgroup block code of input video chunking.Additionally or alternatively, exist
After ordering other subordinate code converter stop codes in multiple code converters to be converted, processing equipment can by it is all from
Category code converter, which is identified as, can be used for receiving another input video chunking.
In some instances, input medium stream is demultiplexed into the video section and audio portion of input medium stream by processing equipment
Point, and the audio-frequency unit of input medium is split into input audio chunking.Each input audio chunking corresponds respectively to video
An input video chunking in partial input video chunking.Each of input audio chunking and input video chunking are corresponding
To can start in the same time in input medium stream, and there is essentially similar or identical time span.
For each input audio chunking, input audio chunking can be decoded into audio sample by processing equipment.It is detecting
To the loss in input audio chunking audio packet when, processing equipment can be in position corresponding with the audio packet of loss
Place is inserted into insert silent audio sampling into audio sample.Audio sample can also be encoded into output audio chunking by processing equipment.It is attached
Add ground or alternatively, output video chunking can be assembled into output media stream by server, including by each output audio group
Block and corresponding output video group block alignment.In some instances, server assembles multiple output streams, wherein each output flow point
Both it is liftoff to export chunking or audio output chunking comprising video, but be not.
In some instances, processing equipment fetches one or more subordinate code conversion from available code converter queue
Device.When one or more subordinate code converter completes the code conversion to the input video chunking of appointment, processing equipment
One or more code converter is released back in code converter queue.Processing equipment can issue output media stream with
And to user device transmissions output media stream.Processing equipment can execute subordinate code converter, and subordinate code converter
It can be executed in one or more the other processing equipment communicated with processing equipment.
The another aspect of disclosure provides a kind of transcoder server, which includes non-transient
Computer-readable medium, multiple subordinate code converters and processing equipment.Non-transient computer-readable media stores computer can
Reading instruction.Multiple subordinate code converters carry out code to data from the first coding parameter sets to second encoding parameter set and turn
It changes.Processing equipment communicates with computer-readable medium and executes computer-readable instruction.Computer-readable instruction to handle
Equipment receives the input medium stream encoded according to the first coding parameter sets.Computer-readable instruction is but also processing equipment will be defeated
The video section for entering the received part of Media Stream splits into input video chunking, while receiving its remaining part of input medium stream
Point.Each input video chunking for the video section of input medium stream, processing equipment is to one or more subordinate code
Converter assigns input video chunking, and input video chunking is split into input video subgroup block, and to one or more
Each subordinate code converter in subordinate code converter discretely feeds each input video subgroup block.Processing equipment also from
One or more subordinate code converter receives output video subgroup block, and output video subgroup block is assembled into and is inputted
The corresponding output video chunking of video chunking.Each output video subgroup block corresponds respectively to one in input video subgroup block
Input video subgroup block.Processing equipment further includes that will export video chunking to be assembled into output media stream.
In some implementations, the receiving portion of input video chunking is split into input video subgroup by processing equipment
Block, while still receiving the rest part of input video chunking.Processing equipment is also to one or more subordinate code converter
At least one input video subgroup block is fed, while still receiving the rest part of input video chunking.Processing equipment can incite somebody to action
Output video chunking is assembled into output media stream, while any rest part of the video section of input medium stream being split into defeated
Enter video chunking.
Each subordinate code converter may include subordinate decoder and subordinate encoder.Subordinate encoder is inputted to first
Video subgroup block coding, while subordinate decoder decodes the second input video subgroup block.Processing equipment can also to it is multiple from
Belong to code converter and assigns input video chunking.Additionally or alternatively, one in multiple subordinate code converters from
Belong to code converter complete to video chunking code conversion when, processing equipment can order in multiple code converters it is other from
Belong to code converter to stop converting the input video subgroup block code of input video chunking.Additionally or alternatively, it is ordering
After enabling other subordinate code converter stop codes in multiple code converters convert, processing equipment can be by all subordinates
Code converter, which is identified as, can be used for receiving another input video chunking.
In some instances, input medium stream is demultiplexed into the video section and audio portion of input medium stream by processing equipment
Divide and the audio-frequency unit of input medium stream is split into input audio chunking.Each input audio chunking corresponds respectively to video
An input video chunking in partial input video chunking.Each of input audio chunking and input video chunking are corresponding
To can start in the same time in input medium stream and there is essentially similar or identical time span.
For each input audio chunking, input audio chunking can be decoded into audio sample by processing equipment.It is detecting
To the loss in input audio chunking audio packet when, processing equipment can be in position corresponding with the audio packet of loss
Place is inserted into insert silent audio sampling into audio sample.Audio sample can also be encoded into output audio chunking by processing equipment.It is attached
Add ground or alternatively, output video chunking can be assembled into output media stream by server, including by each output audio group
Block and corresponding output video group block alignment.
In some instances, processing equipment fetches one or more subordinate code conversion from available code converter queue
Device.When one or more subordinate code converter completes the input video chunking code conversion to appointment, processing equipment will
One or more code converter releases back in code converter queue.Processing equipment can issue output media stream and
To user device transmissions output media stream.Processing equipment can execute subordinate code converter, and subordinate code converter can
To be executed in one or more the other processing equipment communicated with processing equipment.
The details of one or more implementation of disclosure is illustrated in attached drawing and following description.It will be from explanation
Book and attached drawing and clearly from the claim other aspects, feature and advantage.
Detailed description of the invention
Fig. 1 is the schematic diagram illustrated for the example system to user equipment delivering Media Stream.
Fig. 2A is the schematic diagram for illustrating the exemplary components of transcoder server.
Fig. 2 B is the schematic diagram for illustrating the example data flow of transcoder server.
Fig. 3 is the schematic diagram for illustrating the exemplary components of subgroup block module.
Fig. 4 is the schematic diagram for illustrating the exemplary components of resource manager.
Fig. 5 is the schematic diagram for illustrating the exemplary components of subordinate code converter.
Fig. 6 is the schematic diagram for the exemplary operations set of the method to user equipment delivering Media Stream.
Fig. 7 is the schematic diagram for the exemplary operations set for carrying out the method for code conversion to input video chunking.
Similar label in each attached drawing indicates similar units.
Specific embodiment
Fig. 1 illustrates the example systems 10 for delivering Media Stream to user equipment 100.In some implementations, generation
Code change server 200 receives input medium stream 232 from content providers 120.Input medium stream 232 include media content and
It is encoded according to the first coding parameter sets (for example, 1080p MP4 is encoded).Transcoder server 200 can be fitted from any
When source reception input medium stream 232, including by being transmitted via network 110 from satellite 120A and/or content server 120B.?
In some examples, input medium stream 232 is live tv stream, for example, the reality that will be transmitted to one or more user equipment 100
Condition television broadcasting.Additionally or alternatively, input medium stream 232 is requested from user equipment (for example, video-on-demand service)
Requested Media Stream.
232 code of input medium stream is converted into according to the second parameter sets (for example, 720p by transcoder server 200
MP4 coding) coding output media stream 239.Transcoder server 200 (or another server) can be to user equipment
100 transmission output media streams 239.The example of user equipment include but is not limited to tablet computing device 100A, smart phone 100B,
Personal computing devices 100C and set-top box 100D.User equipment 100 can be via one or more user interface (for example, aobvious
Show equipment and/or loudspeaker) play output media stream 239.Input medium stream 232 or output media stream 239 may include view
Frequency part 232 ' and/or audio-frequency unit 232 ".User equipment 100 can request output media stream 239 with any appropriate ways.Example
Such as, in the case where smart phone or the user equipment of tablet computer type 100, the accessible user equipment 100 of user
On proprietary application.In this application, user can choose Media Stream (for example, channel or video).User equipment 100 is to generation
Code change server 200 (or the server being associated) transmits the request of the content of request selecting.In response to request, code
Change server 200 (or associated server) can arrive user equipment 100 with defeated output media stream 239 is spread.Export matchmaker
Body stream 239 can be encoded with the parameter being suitble to for user equipment 100.
In operation, input medium stream 232 is demultiplexed into video section 232 ' and audio portion by transcoder server 200
Divide 232 " (namely when Media Stream includes audio-frequency unit and video section).Transcoder server 200 is by input medium stream
232 video section 232 ' splits into multiple input video chunkings 233 and splits into each input video chunking 233 multiple
Input video subgroup block 234.Input video chunking 233 is the video-data fragment of input medium stream 232.Input video subgroup block
234 be the section of input video chunking 233.In some implementations, each input video chunking in input video chunking 233
It is split into the section (for example, five milliseconds) of equal sizes.Similarly, each input video in input video subgroup block 234
Chunking is split into the subsegment (for example, 5 milliseconds) of equal sizes.Therefore, each input video group in input video chunking 233
Block includes the input video subgroup block 234 of equal number.For clarity, being not yet previously transcoded 200 code conversion of server
Video chunking 234 and video subgroup block 233 are referred to as input video chunking 233 and input video subgroup block 234.
Transcoder server 200 can be used subordinate code converter 220 to assign input medium stream 232 to one or more
Each input video chunking 233.Be assigned to corresponding video chunking 233 one of transcoder server 200 is more
A subordinate code converter 220 feeds the video subgroup block 234 of corresponding video chunking 233.One or more subordinate code turns
Each input video subgroup block code in input video subgroup block 234 is converted into output video subgroup block 235 by parallel operation 220.
In some implementations, one or more subordinate code converter 220 is assembled and phase using output video subgroup block 235
Answer the corresponding output video chunking 236 of input video chunking 233.Subordinate code converter 220 can return to output video chunking
236.In some implementations, subordinate code converter 220 can export for being then assembled into output video chunking 236
It Shu Chu not video subgroup block 235.Subordinate code converter 220 may be implemented as transcoder server 200 part or
It can be outside transcoder server 200.
In some implementations, transcoder server 200 to multiple subordinate code converters 220 (for example, three from
Belong to code converter 220) assign each input video chunking 233.Then, subordinate generation of the transcoder server 200 to appointment
The input video subgroup block 234 of the feeding input video chunking 233 of code converter 220.The subordinate code converter 220 of appointment is to defeated
Enter video subgroup block 234 and carry out code conversion, until a subordinate code converter in the subordinate code converter 220 assigned
It completes for 233 code of input video chunking to be converted into output video chunking 236.Once completing, transcoder server 200 can
To stop other subordinate code converters 220.Transcoder server 200 can be by the subordinate code converter of all appointments
220 state is changed to available.
Input medium stream 232 includes in the scene of audio-frequency unit 232 " wherein, and transcoder server 200 can be to sound
Frequency part 232 " carries out code conversion.In some implementations, transcoder server 200 can draw audio-frequency unit 232 "
It is divided into a series of input audio chunkings 237.237 code of input audio chunking is converted into output sound by transcoder server 200
Frequency chunking 238.In some implementations, input audio chunking 237 is split into input audio subgroup block (not shown), these
Input audio subgroup block is previously transcoded into output audio subgroup block (not shown).Output audio subgroup block is assembled into output sound
Frequency chunking 238.
Transcoder server 200 can assemble output matchmaker based on output video chunking 236 and output audio chunking 238
Body stream 239.Transcoder server 200 (or with the associated another server of transcoder server 200) can be via net
Network 100 delivers output media stream to one or more and user equipment 100.
Fig. 2A and Fig. 2 B illustrates the example of transcoder server 200.Fig. 2A illustrates transcoder server 200
Component.Fig. 2 B illustrates the example data flow of transcoder server 200.Transcoder server 200 may include that processing is set
Standby 210, memory devices 230, storage equipment 240 and network interface device 250.The component of transcoder server 200 can be with
It is connected by one or more bus and/or network 110.Although transcoder server 200 is illustrated as at single location
Equipment, but can use distributed way implement transcoder server 200 so that component may be implemented as not
With the multiple equipment of physical locations.In such scene, component can be by network 110 (for example, internet and/or one
A or multiple intranets) communication.
Processing equipment 210 includes executing one of computer-readable instruction (for example, computer executable code) or more
A physical processor.In the implementation of wherein processing equipment 210 including two or more processor, two or more
Multiple processors can use the operation of individual or distributed way.Processing equipment 210, which can execute, can be implemented as calculating
The stream transmission agency 212 of machine readable instruction, subgroup block module 214, resource manager 216, live chunking manager 218 and multiple
Subordinate code converter 220.Above-mentioned parts are collectively form code conversion assembly line.In some implementations, in not jljl
Manage some components in the component for implementing to execute at equipment.For example, live chunking manager 218 and stream transmission agency 212 can be with
It is executed at first position/equipment, and subgroup block module 214, resource manager and subordinate code converter 220 can be the
It is executed at two locations/devices.In addition, subordinate code converter 220 can communicated with processing equipment 210 one or more
It is executed in other processing equipments 210.
Memory devices 230 include one or more volatibility, non-transient computer-readable media (for example, RAM and/
Or ROM).Memory devices 230 can store the part of input medium stream 232 and the part of output media stream 239.Memory is set
Standby 230 can also store computer-readable instruction discussed above.
Store equipment 240 include one or more non-volatile, non-transient computer-readable media (for example, flash memory,
HDD etc.).Storage equipment 240 can store any proper data, including input video chunking 233 and its corresponding subgroup block 234,
Export video chunking 236 and its corresponding subgroup block 235, input audio chunking 237 and its corresponding subgroup block and output audio group
Block 239 and its corresponding subgroup block.Storage equipment 240 can additionally store metadata corresponding with audio and video data.
Network interface device 250 receives data from network 110 and transmits data to network 110.Network interface device 250 can
To include one or more equipment communicated with network 110.Network interface device 250, which can execute, wiredly and/or wirelessly to be led to
Letter.
Stream transmission agency 212 is the entrance of code conversion assembly line.Stream transmission agency 212 connects from various content sources 120
Receive input medium stream 232.Series of data packets can be received as or believe as simulation by being individually entered Media Stream 232
Number.In the case where numeral input Media Stream 232, each grouping of input medium stream 232 may include audio data and/or view
Frequency accordingly and about input medium stream 232 metadata.The example of metadata about input medium stream 232 includes but unlimited
In stream title (for example, for fromThe NBCUHD of received live stream), the data that include in data grouping when
Between stamp, input medium stream 232 coding parameter (for example, H264_1080p).Flowing transmission agency 212 can be in memory devices
Input medium stream 232 is stored in 230 and/or can provide input medium stream 232 to subgroup block module 214.Matchmaker is inputted wherein
Body stream 232 is in the scene of analog signal, and stream transmission agency 212 may include that simulation input Media Stream 232 is converted into number
The analog-digital converter of input medium stream 232.
Subgroup block module 214 obtains input medium stream 232 from stream transmission agency 212 and/or from memory devices 230.Son
Chunking module 214 demultiplexes input medium stream 232 to obtain the video section 232 ' and audio-frequency unit of input medium stream 232
232".The video section 232 ' of input medium stream 232 is split into a series of video chunkings 233 and will by subgroup block module 214
Each video chunking splits into a series of video subgroup blocks 234.Subgroup block module 214 provides video to resource manager 216
Chunking 234 and optionally provide video chunking 233.
Subgroup block module 214 can be additionally configured to carry out code conversion to the audio-frequency unit 232 " of input medium stream 232.
Transcoded audio-frequency unit 232 " is split into input audio chunking 237 by subgroup block module 214.Subgroup block module 214 will
237 code of input audio chunking is converted into output audio chunking 238.Output audio chunking 238 is used to assemble output media stream
239, and resource manager 216 can also be communicated to for storage and debugging purpose.
Resource manager 216 receives the input video subgroup block 234 of each input video chunking 233.For each input
Video chunking 233, resource manager 216 assign input video chunking 233 to one or more subordinate code converter 220.
When resource manager 216 starts to receive the video subgroup block 234 of new video chunking 233, resource manager 216 is to m subordinate
Code converter assigns new video chunking 233 (wherein m is more than or equal to one).In some implementations, subordinate generation can be used
Code converter 220 waits in first in, first out (FIFO) queue 220 '.Resource manager 216 is selected based on the sequence of queue 220 '
Select m subordinate code converter 220.
Wherein m greater than one implementation in, resource manager 216 to each of m subordinate code converter from
Belong to each video subgroup block 234 of converter feeding new video chunking 233.Subordinate code converter 220 is to resource manager 216
Return to output video chunking 236.When one of m code converter 220 is completed to entire 233 code conversion of video chunking, money
Source manager 216 can stop other m-1 subordinate code converters 220.Subordinate code converter 220 is in subordinate code conversion
Device 220 has carried out code conversion to all input video subgroup blocks 234 of input video chunking 233 and to resource manager
216 complete entire video chunking 233 when returning corresponding output video chunking 236.Once resource manager stop m-1 from
Belong to code converter, the state of m subordinate code converter 220 is just changed to available and m subordinate code converter 220
Back to queue 220 '.In this way, the code conversion of video chunking 224 is less likely to by subordinate code conversion at a slow speed
Device 220 postpones.In addition, one or more subordinate code conversion of these implementations in m subordinate code converter 220
Redundancy is provided in the out of order situation of device.In addition, input video chunking 233 is less likely to be previously transcoded.
In some implementations, resource manager 216 returns to output video chunking 236 to subgroup block module 214.One
In a little implementations, resource manager 216 is for analysis later and/or debugging purpose also to the storage write-in output view of equipment 240
Frequency subgroup block 235 and output video subgroup block 236.
Subgroup block module 214 assembles output media stream 239 based on output video chunking 236 and output audio chunking 238.
Subgroup block module 214 can assemble output media stream 239 according to one or more agreement.For example, subgroup block module 214 can be with
Defeated (DASH) agreement and/or Apple HTTP live stream transmission (HLS) association are spread according to the MPEG dynamic self-adapting by HTTP
View generates output media stream 239.Subgroup block module 214 can be generated output media stream 239 as output video chunking 236 and
Corresponding transcoded audio chunking 238 becomes available.Subgroup block module 24 issues output matchmaker to live chunking module 218
Body stream 239.
Live chunking manager 218 is the exit point of code conversion assembly line.Live chunking manager 218 is in output media
The part of stream 239 receives these parts when being issued by subgroup block module 214.Live chunking manager 218 can to one or
Multiple user equipmenies 100 distribute output media stream 239.Live chunking manager 218 receives asking for particular media stream 239
It asks, and supplies output media stream 239 to correspondingly request user equipment 100.
Fig. 3 illustrates example child chunking module 214.In some implementations, subgroup block module 214 is configurable to generate
The output media stream 232 being encoded according to different coding standard.In illustrated example, example child chunking module 214 can be with
Generation spreads defeated (DASH) according to the MPEG dynamic self-adapting by HTTP or Apple HTTP live stream transmission (HLS) is compiled
The output media stream 232 of code.In addition, in illustrated example, subgroup block module 214 may include demultiplexer 310, chunking
Device 312, audio decoder 314, audio coder 316, MPEG multiplexer 318, HLS sectionaliser 320, distributor 322, dotted line
(dash) sectionaliser 324 and subgroup block manager 326.
In operation, demultiplexer 310 receives input medium stream 232 and input medium stream 232 is demultiplexed into video
Part 232 ' and audio-frequency unit 232 ".In some implementations, demultiplexer 310 call pre-existing library (for example,
FFmpeg third party library) with input medium stream 232 is demultiplexed into separation audio-frequency unit 232 " and video section 232 '.It demultiplexes
Device 310 is used to export audio-frequency unit 232 " and video section 232 ' as series of data packets.Demultiplexer 310 can be alternatively
It is the hardware component communicated with processing equipment 210.
Chunking device 312 receives the audio-frequency unit 232 " and video section 232 ' of input medium stream 232, and by corresponding portion
Split into audio chunking 237 and video chunking 233.In some implementations, chunking device 312 exports time span substantially phase
Like or equal (for example, five seconds) input video chunking 233 and input audio chunking 237.In addition, each input video chunking
233 can have the corresponding input audio chunking 237 in identical relative time beginning and end.For example, if input video
Chunking 233 started at timestamp .15 seconds, then chunking device 312 splits the input audio chunking 237 also started at timestamp .15 seconds.
Chunking device 312 can be assigned from other input video chunkings 233 of input medium stream 232 to each input video chunking 233 and be marked
Know the group block identifier (" chunking ID ") of input video chunking 233 out.Similarly, chunking device 312 can be to each input audio
237 assigned group block identifier of chunking.In some implementations, can refer to corresponding audio chunking 237 and video chunking 233
Send identical or corresponding group of block identifier.Additionally, input video chunking 233 and audio chunking 237 can be by chunk types
(for example, audio or video) tags.
For each input video chunking 233, chunking device 312 can split into input video chunking 233 a series of defeated
Enter video subgroup block 234.Chunking device 312 can refer to each input video subgroup block 234 from the other of input video chunking 233
234 group of input video subgroup block marks the subgroup block identifier (" subgroup block ID ") for knowing video subgroup block 234.Chunking device 312 will
Input video subgroup block 234 splits into equal time division, so that each input video chunking 233 is with equal number of
Input video subgroup block 234, these input video subgroup blocks 234 have essentially similar or identical time span.With this
One mode organizes the video section 232 ' of input medium stream 232 in a series of video chunkings 233 and video subgroup block 234.It is single
A video chunking 233 includes the ordered list of video subgroup block 234.In some implementations, subgroup block 234 presses their son
Chunking ID (for example, timestamp) is sorted and is uniquely identified by chunking ID.Input video subgroup block 234 respectively can be wrapped also
The identifier for the input video chunking 233 that mark input video subgroup block 234 belongs to and the type of subgroup block 234 are included (for example, view
Frequently).
In some implementations, each input audio chunking 237 can be split into a series of input sounds by chunking device 312
Frequency subgroup block.In these implementations, chunking device 312 can assign subgroup block ID to each audio subgroup block.Input audio
Subgroup block can respectively further include the identifier and subgroup block for identifying the input audio chunking 237 that input audio subgroup block belongs to
Type (for example, audio).
Exporting video chunking 236, output audio chunking 238, output video subgroup block 235 and output audio subgroup block can be with
Including the similar field of chunking corresponding with input.For example, output video chunking 236 and output audio 238 can indicate chunking
Type.Similarly, output video subgroup block 235 and output audio chunking may include identifying the mark for the chunking that subgroup block belongs to
Symbol.
Chunking device 312 can be additionally configured to the video section 232 ' of analysis input video stream 232 to find the view lost
Frequency division group.In these implementations, if one or more video group lost block or damage in input video chunking 233
Bad, then chunking device 312 can be by input video chunking 233 labeled as damage.In operation, chunking device 312 monitors inlet flow
Incoming video section 232 ' is discontinuous in stream to find.Can discontinuously appear in single input video chunking 233 or
Boundary across two neighbouring input video chunkings 233.In any scene, when input video chunking includes discontinuous, chunking
Device 312 is logical to indicate subgroup block mark field (for example, subgroup block mark field is denoted as " BaD ") for input video chunking
233 locally are labeled as damaging.In some implementations, chunking device 312 is also by all subsequent childs in input video chunking 233
The mark of chunking 234 is damage.These subgroup blocks 234 are subsequently written into resource manager 216, the resource manager 216 to from
Belong to code converter 220 and subgroup block 234 is provided.Input video of damage is denoted as in the processing of subordinate code converter 220
When chunking 234, subordinate code converter 220 continues to read the subgroup block 234 of damage, until it reaches the input indicated in this way
The last subgroup block of video chunking 233.At this moment, subordinate code converter 220 is generated using pre-loaded key/synchronization frame
New output video chunking 236 (being made of the output video subgroup block 235 marked), so mark output video chunking 236 and
Output video chunking 236 to the write-in label of resource manager 216.In some implementations, the output video chunking of label
236 are made of identical, fixed and pre-loaded key/synchronization frame of repetition number.Output video chunking 236 may include by
It is denoted as the single output video subgroup block 235 of " BaD ".
Audio decoder 314 receives the decode the input audio chunking 237 of the audio-frequency unit 232 " of input medium stream 232.
In some implementations, audio chunking is decoded into pulse code modulation (" PCM ") sampling by audio decoder 314.Audio solution
Code device 314 can be configured as the audio packet of the loss in detection audio chunking 237.If audio decoder 314 detects
The audio packet of loss, then insert silent audio PCM sampling is inserted into the PCM sampling of audio chunking 237 by audio decoder 314.
Audio coder 316 receives a series of PCM samplings and by PCM sample code at output audio chunking 238.Audio
Encoder 316 is by PCM sample code at any appropriate format (for example, AAC).Encoder 316 can be to output audio chunking 238
Assign chunking ID, wherein chunking ID be used to generate export the chunking ID of input audio chunking 237 of audio chunking 238 it is identical or
Person is corresponding.
Subgroup block manager 326 is the interface between subgroup block module 214 and resource manager 216.Subgroup block management
Device 326 receives video chunking 233 and subgroup block 234 from chunking device 312, and input video group is written to resource manager 216
Block 233 and subgroup block 234.In some implementations, subgroup block manager 326 can be written to resource manager 216 and input
Chunking device 312 receives the subsequent audio-frequency unit for inputting chunking 233,237 accordingly from demultiplexer 310 simultaneously for video chunking 234
And video section.In this way, subgroup block manager 326 is in identical input video chunking 233 with rear video subgroup block 234
It is passed by chunking 312, demultiplexer 310 or the forward direction resource manager 216 received in some scenes by stream transmission agency 212
Up to video subgroup block 234 earlier.In these implementations, it is possible to reduce the delay time of Media Stream, because to chunking 233
Code conversion can start before transcoder server 200 receives entire input video chunking 233.In some realization sides
In formula, subgroup block manager 326 can be additionally configured to that output audio chunking 238 and/or output are written to resource manager 216
Audio subgroup block.
Subgroup block manager 326 receives output video chunking 236 from resource manager 216.Resource manager 216 can be
Output video chunking 236 is written to subgroup block manager 326 when output video chunking 236 is written to resource manager 216.Son
Chunking manager 326 can be segmented according to the format for being used for transmission output media stream 239 to MPEG multiplexer 318 and/or dotted line
Device 324 provides received output video chunking.For example, if output media stream 239 will be flowed by transmission as HLS, subgroup block
Manager 326 provides received output video chunking 236 and corresponding output audio chunking 238 to MPEG multiplexer 328.If
Output media stream 239 will be flowed by transmission as DASH, then subgroup block manager 326 provides received defeated to DASH sectionaliser 324
Video chunking 236 and corresponding output audio chunking 238 or audio subgroup block out.Subgroup block manager 326 can be based on it
Corresponding group of block identifier or their corresponding timestamp identify corresponding output audio chunking 238 and output view
Frequency chunking 236.In some implementations, one or more in chunking device 312 and resource manager 216 can execute son
Some or institute in the function of chunking manager 326 is functional.
When output media stream 239 is HLS stream, MPEG multiplexer 318 will export audio chunking 238 and corresponding output view
Frequency chunking 236 is multiplexed into appropriate mpeg format (for example, MPEG-2TS) to obtain output media stream 239.HLS sectionaliser 320 connects
It receives output media stream 239 and as MPEG-2 transmitting stream and exports the text of the output media stream 239 as series of equivalent length
Part.Output media stream 239 of the HLS sectionaliser 320 to the output segmentation of distributor 322.Distributor 322 is to live chunking manager
The output media stream 239 of 218 publication segmentations.Distributor 322 issues them when the segmentation of output media stream 239 is received.With
This mode, live chunking manager 218 can distribute output media stream 239 to real-time or near real-time
When output media stream 239 is DASH stream, without being multiplexed output audio chunking 238 and corresponding output video chunking
236.Therefore, it exports audio chunking 238 and corresponding output video chunking 236 is communicated to DASH sectionaliser 324.DASH segmentation
Device 324, which receives output audio chunking 238 and corresponding output video chunking 236 and generates output media stream 239, is used as a system
Arrange small HTTP file fragmentation.Output media stream 239 is written to distributor 322 in DASH sectionaliser 324.Distributor 322 is in output matchmaker
The segmentation of body stream 239 issues them when being received.
The example child chunking module 214 of Fig. 3 is configured to supply DASH Media Stream and HLS Media Stream.However, subgroup block mould
Block 214 may be adapted to the Media Stream for exporting other appropriate types that are currently known or developing later.Subgroup block module 214 is for example
It is provided and the variation of subgroup block module 214 is in scope of the disclosure.Subgroup block module 214 may include in Fig. 3
Unshowned other components.For example, subgroup block module 214 may include one or more encrypted to output media stream 239
Encrypting module.
Fig. 4 illustrates the exemplary asset management device 216 including operation distributor 410 and data management system 412.Operation point
Orchestration 410 receives code conversion operation 414.Code conversion operation 414 includes the identifier of input medium stream 232 (for example, channel
Identifier or content file identifier) and for output media stream 239 coding parameter sets.Operation distributor 410 configures
Subordinate code converter 220 with according to for output media stream 239 coding parameter will input 233 code of subgroup block be converted into it is defeated
Video subgroup block 235 and chunking 236 out.Coding parameter may include video resolution, target bit rate, video coder-decoder
Type, target GOP size or any other suitable parameter.
Operation distributor 410 assigns the received input video of input medium stream 232 to m subordinate code converter 220
Chunking 233, wherein m is greater than or equal to one integer.Operation distributor 410 assigns m from multiple subordinate code converters 220
A subordinate code converter 220.Multiple subordinate code converters 220 can be disposed in array or queue 220 ' or some
In similar structure.In some implementations, queue is the FIFO team for maintaining subordinate code converter 220 in available mode
Column.When operation distributor 410 receives the input video subgroup block 234 of new input video chunking 233, operation distributor 410 is by m
A subordinate code converter 220 falls out from queue and assigns new input video chunking to the subordinate code converter 220 fallen out
233.Once operation distributor 410 assigns new input video chunking 233, operation distributor to m subordinate code converter 220
410 begin to feed input video subgroup block 234 to the subordinate code converter 220 of appointment.In m subordinate code converter
When each subordinate code converter in 220 carries out code conversion to input video subgroup block 234, subordinate code converter 220
The output video chunking 236 being made of output video subgroup block 235 is returned to operation distributor 410.Operation distributor 410 can be with
Output video chunking 236 is returned to subgroup block module 214.
Each subordinate code converter of the operation distributor 410 into m subordinate code converter 220 feeds each input
Video subgroup block 234, until one of m subordinate code converter 220 is completed to entire 233 code conversion of input video chunking.
Determining that one of m subordinate code converter 220 completed all video subgroup blocks of the input video chunking 233 to appointment
When 234 code conversion, operation distributor can stop other m-1 subordinate code converters 220, by all m subordinate codes
The state of converter 220 is updated to available and m subordinate code converter 220 is returned to queue 220 '.
Operation distributor 410 can continue to operate in the foregoing manner for the duration of input medium stream 232.Operation point
Orchestration 410 can loop through subordinate code converter 220 and can allow multiple set of m subordinate code converter 220
Code conversion concurrently is carried out to different input video chunkings 233.For example, operation distributor 410 can start m subordinate code
The set of converter 220 to the code conversion for subsequently inputting video chunking 233, while preceding input video chunking 2333 still by
The different sets of m subordinate code converter 220 carry out code conversion.In this way, it is possible to reduce for input medium
Stream 232 carries out the delay time of code conversion.
Data management system 412 stores input video chunking 233 and output in memory devices 230 and storage equipment 240
Video chunking 236.The output that operation distributor 410 can provide received video chunking 233 and be returned to data management system 412
Video chunking 236.
One or more of each input video chunking 233 can be written in data management system 412 to memory devices 230
Copy.In some implementations, input video chunking 233 is stored as a series of input video chunkings 233.It is inputted in storage
When video chunking 233, the chunking ID of video chunking 233 is can be used to the input in memory devices 230 in data management system 412
Each input video chunking in video chunking 233 is indexed.Similarly, video subgroup block can be used in data management system 412
234 subgroup block ID compiles rope to each input video subgroup block in the input video subgroup block 234 in memory devices 230
Draw.In some implementations, data management system 412 allows subgroup block module 214 to memory using common data structures
Equipment 230 is written data and subordinate code converter 220 is allowed to read data from memory devices 230.
One or more pair of each output video chunking 236 is also written in data management system 412 to memory devices 230
This.In some implementations, data management system 412 stores transcoded frame and/or each output video chunking 236
Subgroup block 234.The chunking ID of chunking 236 can be used to the output video chunking in memory devices 230 in data management system 412
Each output video chunking in 236 is indexed.Additionally, the subgroup block ID of subgroup block 235 can be used in data management system 412
It indexs to each output video subgroup block 235 in memory devices 230.In some implementations, data management system 412
Using common data structures to allow subgroup block module 214 to read data from memory devices 230 and subordinate code is allowed to turn
Data are written to memory devices 230 in parallel operation 220.
In some implementations, data management system 412 also stores each input audio chunking in memory devices 230
237 and output audio chunking 238 one or more copy.Input audio chunking 237 and output audio chunking 238 can be by
Their corresponding chunking ID is cited.Subgroup block module 214 is allowed to set from storage in addition, data management system 412 can be used
Standby 240 read audio data and the common data structures of audio data are written to storage equipment 240.
For debugging purposes, data management system 412 can be replicated in memory devices 230 in storage equipment 240
The data of storage.For example, input video chunking 233 and output video chunking 236 and input audio chunking 237 and output audio
Chunking 238 can be stored in a.cns file in storage equipment 240.In addition, with input video chunking 233 and output video
Chunking 236 and input audio chunking 237 and the output corresponding metadata of audio chunking 238 can be stored in storage equipment
In 240.
Fig. 5 illustrates example subordinate code converter 220.Subordinate code converter 220 is responsible for input video chunking 233
Carry out code conversion.Subordinate code converter 220 from resource manager 216 reads input video chunking 233 and to resource pipe
Manage the output video subgroup block 235 of the write-in output video chunking 236 of device 216.
Each subordinate code converter 220 may reside in one of three different conditions: " no initializtion ", " available " and
" busy ".It has been configured as according to coding parameter sets in subordinate code converter 220 to 233 coding of input video chunking
Before, the state of subordinate code converter 220 is no initializtion.Once subordinate code converter 220 is initialised/configures and
Through entering in queue 220 ', then the state of subordinate code converter 220 is changed to available by resource manager 216.In subordinate
When code converter 220 is in " available " state, subordinate code converter 220 is ready to execute code conversion.In some realizations
In mode, subordinate code converter 220 reports that its state is available periodically.Subordinate code converter 220 must be available
To receive code conversion operation in state.Input video chunking is assigned to subordinate code converter 220 in resource manager 216
When 233, the state of subordinate code converter 220 is changed to busy by resource manager 216.Exist in subordinate code converter 220
When in busy condition, it carries out code conversion to input video chunking 233 and cannot be assigned another code conversion work
Industry.When subordinate code converter 220 is completed to input video 233 code conversion of chunking, subordinate code converter 220 is to resource
Manager returns to output video chunking 236 and the state of subordinate code converter is updated to can be used by resource manager 216.
Subordinate code converter 220 respectively includes Video Decoder 510 and video encoder 512.In some implementations
In, input video subgroup block 234 is decoded into original YUV frame by Video Decoder 510.Video encoder 512 compiles original YUV frame
Code is at output video subgroup block 235.Video encoder 512 encodes output video subgroup block 235 according to coding parameter.The two
Cascaded stages (coding follows decoding) are carried out to decode and encode parallelization, so that coming out from decoder stage original
YUV frame can immediately be pushed to subsequent code level for encoding.
In operation, resource manager 216 assigns code conversion operation (that is, turning to code to subordinate code converter 220
The input video chunking 233 changed).Resource manager 216 provides the chunking ID of the input video chunking 233 to code conversion, uses
In the coding parameter of the chunking ID and output video chunking 236 that are provided to output video chunking 236.In a large amount of code conversions,
Resource manager 216 can by all subordinate code converters 220 initialize with according to coding parameter to output video chunking 236
Coding.In addition, subordinate code converter 220 can load predefined synchronization/key frame (in H264/AVC when being initialised
In IDR) be used for error handling.
Subordinate code converter 220 starts the input video subgroup that input video chunking 233 is read from resource manager 216
Block 234.Subordinate code converter 220 feeds video subgroup block 234 to Video Decoder 510 and feeds YUV to encoder 512
Frame.Subordinate code converter 220 continues to read input video subgroup block 234 from resource manager 216, until it reaches input view
The last subgroup block 234 of frequency chunking 233.Once subordinate code converter 220 is to all subgroups of input video chunking 233
Block 234 carries out code conversion, and output video subgroup block 235 can be assembled into output video group by subordinate code converter 220
Block 236 and can to resource manager 216 be written output video chunking 236.Additionally or alternatively, subordinate code conversion
Device 220 returns to transcoded output video subgroup block 235 to resource manager 216.In some implementations, subordinate generation
Code converter 220 waits before returning to output video subgroup block 235, until it carries out all video subgroup blocks 233
Code conversion.In other implementations, subordinate code converter 220 is when exporting video subgroup block 235 and becoming available to money
Source manager 216 returns to them.
In some implementations, subordinate code converter 220 is configured as the input video chunking 233 of disposition damage.
The input video subgroup block 234 of damage is received (for example, being denoted as the input video group of " BaD " in subordinate code converter 220
Block 233) when, subordinate code converter 220 stops to 234 code conversion of input video subgroup block and abandons subordinate code conversion
The transcoded input video chunking 233 of device 220 and any output video subgroup block 235.Subordinate code converter 220 is right
Replacement output video chunking 236 is created using predefined synchronization/key frame afterwards, and is replaced to the write-in of resource manager 216
Change video chunking 236.Subordinate code converter 220 can mark replacement output video chunking in this way.Resource manager 216 is then
The state of subordinate code converter 220 is updated to can be used.
In some implementations, subordinate code converter 220 passes through to immediately follows in the input video to code conversion
The input view that at least part of input video chunking 233 before chunking 233 carries out code conversion, then treats code conversion
Frequency chunking 233 carries out code conversion to treat the input video chunking 233 of code conversion and carry out code conversion.In these realization sides
In formula, subordinate code converter 220 exports single output video chunking corresponding with the input video chunking 233 to code conversion
236.In operation, resource manager 216 is fed before the input video chunking 233 to code conversion to decoder 215
At least part of input video chunking 233, the input video chunking 233 after but to code conversion.Therefore, each subordinate generation
Code converter 220 carries out code conversion to the input video subgroup block 234 from two continuous input video chunkings 233.At this
In some implementations in a little implementations, subordinate code converter 220 is in the input video chunking 233 for treating code conversion
The entire input video chunking 233 before the input video chunking 233 to code conversion is carried out before code conversion
Code conversion.In other implementations, subordinate code converter 220 the input video chunking 233 for treating code conversion into
Input later before line code conversion to the input video chunking 233 before the input video chunking 233 to code conversion
Video subgroup block 234 (for example, last three three sub- chunkings 234) carries out code conversion.In any case, in subordinate code
When converter 220 completes the code conversion to the input video subgroup block 234 of two input video chunkings 233, subordinate code turns
Parallel operation 220 abandon in the corresponding output video subgroup block 235 of preceding input video chunking 233, and return and to code conversion
The corresponding output video subgroup block 235 of input video chunking 233.Subordinate code converter 220 can be implemented aforementioned techniques with
The unexpected quality for exporting initial key or synchronization frame in video chunking 236 is avoided discontinuously to be used to individually pass through
(single pass) code conversion.Resource manager 216 can feed input medium stream to m subordinate code converter twice
The first input video chunking 233.Then, resource manager 216 is to being assigned for in continuous input video chunking 233
The set that second input video chunking carries out m subordinate code converter 220 of code conversion feeds continuous input video chunking
233。
Look back Fig. 2A, in some implementations, transcoder server 200 be designed to one from its component or
Fatal error in the multiple components of person is restored.Fatal error can appear in subordinate code converter 220, resource manager 216,
In subgroup block module 214, stream transmission agency 212 and/or live chunking manager 218.
One type of error is the failure of subordinate code converter 220.For example, resource manager 216 can be to having gone out
The subordinate code converter 220 of failure assigns code conversion operation.Resource manager 216 is to multiple code converters wherein
220 assign in the implementation of code conversion operation, and redundancy assigns any Gu for mitigating inoperative subordinate code converter 220
Consider.Once out of order code converter 220 is found, so that it may restart out of order code converter 220.
Problem may the appearance when resource manager 216 is out of order.For example, subordinate code converter 220 may not be able to be from
Resource manager 216 reads input video subgroup block 234.In such scene, former generation is worked as in the termination of subordinate code converter 220
Its state and is changed to " available " and reports its current state conversion process by code.In another scene, subordinate generation
Output video subgroup block 235 may not be able to be written in code converter 220 to resource manager 216.In such scene, subordinate generation
Code converter 220 ignores failure, completion code conversion process and is updated to can be used by its state.In another example, sub
Input audio chunking 237 and/or input video chunking 233 may not be able to be written to resource manager 216 in chunking module 214.?
In this scene, subgroup block module 214 can ignore failure and can continue to attempt to that input group is written to resource manager 216
Block 233,237, as failure never occurs.However, if subgroup block module 214 cannot be read in given timeout period it is defeated
Video chunking 236 out, then subgroup block module 214 can be generated " BaD " output video chunking 236 and omit output video group to replace
Block 236.Finally, out of order resource manager 216 can be restarted.After restarting, resource manager 216 can abandon conduct
Any input video subgroup block 234 being just received in the part of processed input video chunking 233.Resource management
Once device 216 can it start to receive new input video chunking 233 and begin to processing input video subgroup block 234.
Another type of error is the failure of subgroup block module 214.When subgroup block module 214 is out of order, executes code and turn
Change operation any subordinate code converter 220 can terminate current code conversion process and by their corresponding state more
It is newly available, and resource manager 216 can stop assigning code conversion operation to subordinate code converter 220.At this
In scene, live chunking manager 218 stops receiving output media stream 239, and flows transmission agency 212 and stop delivering input matchmaker
Body stream 232.When subgroup block module 214 is out of order, subgroup block module 214 is finally restarted and the operation of other components can be with
Recovery operation.
Problem may the appearance when stream agency 212 is out of order.In this scene, other components can continue operation and
It attempts to carry out code conversion to input medium stream 232.However, since stream agency 212 nonserviceables, so subgroup block module
214 do not receive input medium stream 232.Remaining part is uninfluenced.Once stream agency 212 is restarted, subgroup block module 214
Start to receive input medium stream 232 and code conversion can start.
Another type of error is the failure of live chunking manager 218.When live chunking manager 218 is out of order,
Remaining part part can continue 232 code of input medium stream being converted into output media stream 234.In this scene, subgroup block module
214 can attempt the part that output media stream 239 is written to live chunking manager 218.Subgroup block module 214 cannot be to reality
When condition chunking manager 218 is written, subgroup block module 214 can abandon the available part of output media stream 239.Once live group
Block manager 218 is restarted, and subgroup block module 214 can start the delivering of output media stream 239.
Aforementioned type of error is provided as example.Transcoder server 200 may also encounter other type of errors.Code
The technology that change server 300 is used to dispose mistake can also change.
Fig. 6 illustrates the exemplary operation set of the method 600 for delivering output media stream 239 to user equipment 100.
Part description method 600 about transcoder server 200 discussed above.However, method 600 can suitably be set by any
It is standby to execute.
In operation 610, transcoder server 200 receives code conversion instruction.Code conversion instruction may include wait compile
The flow identifier and coding parameter for being encoded to input medium stream 232 of the input medium stream 232 of code.It can be from user equipment
100, from another equipment or internal receipt code conversion instruction.For example, user equipment 100 can request the live stream of channel.
In another example, transcoder server 200 can be established as making any number of channel and video on demand content not
It is available with coding parameter.Flow identifier can identify channel feeding or the media content of conversion to be encoded.Coding parameter instruction
Target code for output media stream 239.
In operation 612, resource manager 216 configures subordinate code converter 220.For example, resource manager 216 can be set
Set the output bit rate of subordinate code converter 220.Resource manager 216 also can establish the team of subordinate code converter 220
Column 220 '.
In operation 614, subgroup block module 214 receives input medium stream 232 by stream transmission agency 212.Flow transmission agency
212 can receive input medium stream 232 from any appropriate content source 120.For example, stream transmission agency can from wired provider,
Network, individual, film workshop or any other appropriate source reception content.
In operation 616, input medium stream 232 is demultiplexed into audio-frequency unit 232 " and video section by subgroup block module 214
232'.In operation 618, audio-frequency unit 232 " is split into input audio chunking 237 and by video section by subgroup block module
232 ' split into input video chunking 233.Input video chunking 233 and input audio chunking 237 are split into equal sizes
Chunking (for example, 5 milliseconds of chunkings).Each input chunking 233,237 can be assigned chunking ID and the chunk type quilt with it
Label.
In operation 620, subgroup block module 214 carries out code conversion to input audio chunking 237.Subgroup block module 214 can
Turned with carrying out code to input audio chunking 237 according to the desired coding parameter of the audio-frequency unit for output media stream 239
It changes.237 code of input audio chunking is converted into output audio chunking 238 by subgroup block module 214.
In operation 622, input video chunking 233 is split into input video subgroup block 234 by subgroup block module 214.Input
Video subgroup block 234 is equal length (for example.05 milliseconds of segmentations).Subgroup block module 214 can be to each input video
Subgroup block ID is assigned in chunking 234.Input video subgroup block can be written to resource manager 216 in subgroup block module 214.It is operating
624, resource manager 216 and subordinate code converter 220 carry out code conversion to input video chunking 233.
Fig. 7 illustrates the operational set of the method for carrying out code conversion to input video chunking 233.710 are being operated,
Resource manager 216 falls out m subordinate code converter 220 from queue 220 ', wherein m be greater than or equal to one it is whole
Number.In operation 712, resource manager 216 assigns input video chunking 233 to m subordinate code converter 220.Resource management
The state of each subordinate code converter in m subordinate code converter can be updated to busy by device 216.
In some implementations, m subordinate code converter 220 as operation 714 shown in obtain immediately follows to generation
At least some subgroup blocks 234 of input video chunking 233 before the input video chunking 233 of code conversion.M subordinate code turns
Parallel operation 220 can be read from resource manager 216 in all subgroup blocks 234 of preceding input video chunking 233 or in preceding input
The last one or multiple subgroup blocks 234 of video chunking 233.
The input view of the input video chunking 233 to code conversion is obtained in 716, m subordinate code converter 220 of operation
Frequency subgroup block 234.Input video subgroup block 234 can be sequentially read from resource manager 216, so that subordinate code conversion
Device 220 reads the subgroup of the input video earlier block 234 before subsequently inputting video subgroup block 234.In some implementations,
M subordinate code converter 220 read earlier input video subgroup block 234 simultaneously later input video subgroup block by subgroup block mould
Block 214 receives.
Code conversion is carried out to input video subgroup block 234 operating 718, m subordinate code converter 220.Some
In implementation, each subordinate code converter in m subordinate code converter 220 decodes input video subgroup block 234
YUV frame is encoded into output video subgroup block 235 at YUV frame, and then.M subordinate code converter 220 can be independently
It works with the corresponding speed at themselves.It completes to decode input video subgroup block 234 in subordinate code converter 220
When, it can obtain next input video subgroup block 234 and start to decode next input video subgroup block 234.Similarly,
When the 220 pairs of output video chunkings 235 of subordinate code converter encode, once subordinate code converter 220 is completed to YUV frame solution
Code, subordinate code converter 220 can start to decode next available input video subgroup block 234.As indicated previously that
Sample, in some implementations, input of the m subordinate code converter 220 in the input video chunking 233 for treating code conversion
Video subgroup block 234 starts before carrying out code conversion to the progress of input video subgroup block 234 in preceding input video chunking 233
Code conversion.To when the input video subgroup block 234 of preceding input video chunking 233 carries out code conversion, subordinate code turns
Parallel operation 220 can abandon corresponding output video subgroup block 235.
In operation 720, resource manager 216 determines whether completion code turns one of m subordinate code converter 220
Change operation (that is, code conversion is carried out to input video subgroup block 234).If it is not, then m subordinate code converter 220 after
It is continuous that code conversion is carried out to input video subgroup block.
When one of subordinate code converter 220 has been completed to entire 233 code conversion of input video chunking, subordinate generation
Code converter 220 such as the return output video chunking 236 shown in operation 722.Once subordinate code converter 220 has been completed pair
All 234 code conversions of input video subgroup block of input video chunking 233, subordinate code converter 220 is just from output video
The assembling output video chunking 236 of subgroup block 235.Subordinate code converter 220 returns to output video chunking to resource manager 215
236.In some implementations, subordinate code converter 220 can return to output video subgroup block to resource manager 216
235, and resource manager 216 will export video subgroup block 235 and be assembled into output video chunking 236.
In operation 724, resource manager 216 stops remaining m-1 subordinate code converter 220 and abandons by m-1
The output video subgroup block 235 of 220 code conversion of subordinate code converter.Resource manager 216 can be to subgroup block module 214
Return to output video chunking 236.In operation 726, the state of m subordinate code converter 220 is updated to by resource manager 216
" available ".Resource manager 216 can join the team m subordinate code converter 220 onto queue 220 '.
Review Fig. 6, resource manager 216 and subordinate code converter 220 are in input video chunking 233 by subgroup block module
214 receive and continuously carry out code conversion to them when chunking.Note that subgroup block module 214 can be to audio chunking 237
Carrying out code conversion, resource manager 216 and subordinate code converter 220 carry out code turn to input video chunking 233 simultaneously
It changes.
In operation 626, subgroup block module 214 will export video chunking 236 and output audio chunking 238 is assembled into output matchmaker
Body stream 239.As previously discussed, subgroup block module 214 can according to one or more agreement (for example, HLS and/or
DASH output media stream 239) is generated.In operation 628, subgroup block module 214 issues output media to live chunking manager 218
Stream 239.Live chunking manager 218 can transmit output media stream 239 to one or more downstream customer equipment 100.
The sequence of the operation executed in figure 6 and figure 7 is not necessary.Many operations in operation are for input medium stream
232 different piece concurrently occurs.For example, may be performed simultaneously to audio chunking and video chunking code conversion, and can
To there is following example, plurality of video chunking 233 carries out code conversion by different subordinate code converters 220 simultaneously.It can be with
The parallel and/or serial many operations executed in operations described above.For example, subordinate code converter 220 can receive view
Frequency subgroup block 234 carries out code conversion to other input video subgroup blocks 234 simultaneously.It similarly, can be same with video chunking 233
When to audio chunking 238 carry out code conversion.In addition, method 600 and method 700 may include alternative or additional operations.
It can be in digital and electronic and/or optical circuit, integrated circuit, the distinguishingly ASIC (specific integrated circuit), the meter that design
The various implementations of system and technology described herein are realized in calculation machine hardware, firmware, software and/or combination thereof.These are each
Kind implementation may include in one or more computer program executable on programmable systems and/or can interpret
Implementation, the programmable system include that can be that at least one special or general programmable processor, at least one is defeated
Enter equipment and at least one output equipment, at least one programmable processor be coupled to from storage system receive data and
It instructs and transmits data and instruction to storage system.
These computer programs (also referred to as program, software, software application or code) include for programmable processing
The machine instruction of device, and can with the programming language of level process and/or object-oriented and/or with compilation/machine language come
Implement.As used herein, term " machine readable media " and " computer-readable medium " refer to for mentioning to programmable processor
For any computer program product of machine instruction and/or data, non-transient computer-readable media, device and/or equipment (example
Such as, disk, CD, memory, programmable logic device (PLD)), which includes receiving machine instruction as machine
The machine readable media of device readable signal.Term " machine-readable signal " refers to for providing machine instruction to programmable processor
And/or any signal of data.
In Fundamental Digital Circuit or disclosed structure and its structural equivalents can be included in the description
Implement the realization of subject content in the combination of one or more in computer software, firmware or hardware or in them
Mode and the feature operation described in the present specification.In addition, the subject content described in the present specification may be implemented as
One or more computer program product, that is, what is encoded on a computer-readable medium is used to be executed by data processing equipment
Or one or more computer program instructions module of the operation of control data processing equipment.Computer-readable medium can be with
It is machine readable storage device, machine readable storage substrate, memory devices, the material composition for realizing machine readable transmitting signal
Or the combination of the one or more in them.Term " data processing equipment ", " calculating equipment " and " computation processor " are contained
Cover all devices, equipment and the machine for handling data, it may for example comprise a programmable processor, a computer or
Multiple processors or computer.Device can also include creating performing environment for the computer program of discussion in addition to hardware
Code, for example, constitute processor firmware, protocol stack, data base management system, operating system or one in them or
Multinomial combined code.The signal of propagation is the signal artificially generated, for example, being generated as to for appropriate receiver
Electricity, light or the electromagnetic signal of the information coding of device transmission generated by machine.
Computer program can be write (also referred to as with any type of programming language for including compiling or interpretive language
Using, program, software, software application, script or code), and it can be disposed with any appropriate form, including disposed
For single program or it is deployed as suitable for module, component, subroutine or the other units used in a computing environment.
Computer program not necessarily corresponds to the file in file system.Program can be stored in the text for keeping other programs or data
In the part of part (for example, one or more script being stored in marking language document), be exclusively used in discuss program list
In a file or the file of multiple coordinations is (for example, store the text of one or more module, subprogram or code section
Part) in.Computer program can be deployed as on a computer or be located at one place or be distributed in multiplely
It puts and by being executed on multiple computers of interconnection of telecommunication network.
The process and logic flow described in the present specification can be executed by one or more programmable processor, should
One or more programmable processor executes one or more computer program by being operated simultaneously to input data
And output is generated to execute function.Process and logic flow can also be by dedicated logic circuit devices (for example, FPGA (scene can
Program gate array) or ASIC (specific integrated circuit)) execute, and device also may be implemented as dedicated logic circuit dress
It sets.
For example, the processor for being suitable for carrying out computer program includes general and special microprocessor and any
Any one or multiple processors of the digital computer of type.In general, processor will from read-only memory or with
Machine accesses memory or the two receives instruction and data.The basic unit of computer be for execution movement processor and
For storing instruction with one or more memory devices of data.In general, computer also will include being used to store number
According to one or more mass memory unit, for example, disk, photomagneto disk or CD or be operatively coupled for from this
One or more mass memory unit receive data or to one or more mass memory unit transmit data or
The two.However, equipment as computer need not have.Furthermore it is possible to another equipment (merely give a few examples, for example, mobile phone,
Personal digital assistant (PDA), Mobile audio player, global positioning system (GPS) receiver) in be embedded in computer.It is suitble to use
In the computer-readable medium of storage computer program instructions and data include the nonvolatile memory of form of ownership, medium and
Memory devices for example include: semiconductor memory devices (for example, EPROM, EEPROM and flash memory device)；Disk, example
Such as internal hard drive or removable disk；Photomagneto disk；And CD-ROM and DVD-ROM disk.Processor and memory can be by dedicated
Logic circuit apparatus is supplemented or is incorporated into dedicated logic circuit device.
In order to provide the interaction with user, one or more aspect of disclosure can be implemented on computers, it should
Computer has for showing the display equipment of information (for example, CRT (cathode-ray tube), LCD (liquid crystal display) are supervised to user
Visual organ or touch screen) and optionally with user can be used to computer provide input keyboard and pointer device (for example,
Mouse or tracking ball).The equipment of other types can also be used to provide the interaction with user；For example, what is provided a user is anti-
Feedback may be any type of sensory feedback, for example, visual feedback, audio feedback or touch feedback；And it can be with including
Any form of sound, speech or tactile input receives input from the user.In addition, computer can be by by user
The equipment used sends document and receives document (for example, by response to from the client device of user from the equipment
Web browser it is received request and to web browser send webpage) to interact with user.
It can implement one or more aspect of disclosure in computing systems, which includes back-end component
(for example, as data server) is either including middleware component (for example, application server) or including front end component (example
Such as, have graphic user interface or Web browser (user can by the graphic user interface or Web browser with
Subject content described in this specification implementation interaction) client computer) or one or more as
Rear end, middleware or front end component it is any appropriately combined.The component of system can by any digital data communications form or
Person's medium (for example, communication network) interconnection.The example of communication network includes local area network (" LAN ") and wide area network (" WAN "), internet
Network (such as internet) and peer-to-peer network (such as self-organizing peer-to-peer network).
Computing system may include client and server.Client and server is generally located remotely from each other and normally
Pass through communication network interaction.By the computer for running and mutually having client-server relation on corresponding computer
The relationship of program generation client and server.In some implementations, server transmits data (example to client device
Such as, html page) (for example, defeated for showing data to the user interacted with client device and receiving user from the user
The purpose entered).It can be in the data that server is generated from client device reception in client device (for example, what user interacted
As a result).
Although this specification include many details, should not be construed as limitation disclosure or can want
It seeks the range of the content of protection and is actually the description to the distinctive feature of the specific implementation of disclosure.It can also be
Combination provides certain features described in the context of separation implementation in the present specification in single implementation.Anti- speech
It, can also discretely or in any appropriate sub-portfolio implement above and below single implementation in multiple implementations
The various features of described in the text.In addition, though movement and even originally can be described feature as in certain combinations above
Ground is claimed in this way, but one or more feature from claimed combination can be in some cases from the group
It is deleted in conjunction, and claimed combination can be related to the variation of sub-portfolio or sub-portfolio.
Similarly, although describing operation by particular order in the accompanying drawings, this is understood not to require by shown spy
It is fixed sequentially perhaps to execute such operation in sequential order or execute all shown operations to realize desired result.At certain
In a little circumstances, multitask and parallel processing can be advantageous.In addition, various system units in the embodiments described above
Separation should not be construed as requiring such separation in all embodiments, and should be appreciated that description program element and system
It generally can be integrated in together in single software product or be packaged into multiple software product.
Multiple implementations have been described.It is to be appreciated, however, that various modifications may be made and without departing from disclosure
Spirit and scope.Thus, other implementations are within the scope of the appended claims.For example, recording in the claims
Movement can be performed by different order and still realize desired result.
Claims (29)
1. a kind of method (600), comprising:
Receive the input medium stream (232) encoded according to the first coding parameter sets；
The video section (232 ') of the received part of the input medium stream (232) is split into input video chunking (233)
The rest part of the input medium stream (232) is received simultaneously；
For each input video chunking (233) of the video section (232 ') of the input medium stream (232):
The input video chunking (233) is assigned to one or more subordinate code converter (220)；
The input video chunking (233) is split into input video subgroup block (234)；
To from first coding parameter sets to second encoding parameter set to data carry out code conversion one or
Each subordinate code converter in the multiple subordinate code converters (220) of person discretely feeds each input video subgroup block
(234)；Wherein each subordinate code converter includes subordinate decoder (510) and subordinate encoder (512), the subordinate coding
Device (512) is to the first input video subgroup block (234) coding while the subordinate decoder (510) is to the second input video subgroup
Block (234) decoding；
Each input video subgroup block (234) code is converted into corresponding output video subgroup block (235)；
The output video subgroup block (235) is assembled into output video chunking corresponding with input video chunking (233)
(236)；And
The output video chunking (236) is assembled into output media stream (239).
2. according to the method for claim 1 (600), further includes:
The received partial resolution of the input video chunking (233) is still received simultaneously at input video subgroup block (234)
The rest part of the input video chunking (233)；And
At least one input video subgroup block (234) is fed simultaneously to one or more of subordinate code converters (220)
Still the rest part of the input video chunking (233) is received.
3. according to the method for claim 1 (600), further include the output video chunking (236) is assembled into it is described defeated
Media Stream (239) simultaneously splits any rest part of the video section (232') of the input medium stream (232) out
At input video chunking (233).
4. according to the method for claim 3 (600), further includes:
The input video chunking (233) is assigned to multiple subordinate code converters (220)；And
A subordinate code converter (220) in the multiple subordinate code converter (220) completes to regard the input
When the code conversion of frequency chunking (233), other subordinate code converters in the multiple subordinate code converter (220) are ordered
(220) stop the code conversion to the input video subgroup block (234) of the input video chunking (233).
5. further including according to the method for claim 4 (600), in ordering the multiple subordinate code converter (220)
Other subordinate code converter (220) stop codes conversion after, all subordinate code converters (220) are identified as
It can be used for receiving another input video chunking (233).
6. according to the method for claim 1 (600), further includes:
The input medium stream (232) is demultiplexed into the video section (232') and sound of the input medium stream (232)
Frequency part (232 ")；And
The audio-frequency unit (232 ") of the input medium stream (232) is split into input audio chunking (237), each input
Audio chunking (237) corresponds respectively to an input in the input video chunking (233) of the video section (232')
Video chunking.
7. according to the method for claim 6 (600), wherein input audio chunking (237) and input video chunking (233)
Each corresponding same time in the input medium stream (232) starts and to have basically the same the time long
Degree.
8. according to the method for claim 7 (600), further includes:
For each input audio chunking (237):
The input audio chunking (237) is decoded into audio sample；
When detecting the audio packet of the loss in the input audio chunking (237), divide with the audio of the loss
Insert silent audio sampling is inserted at the corresponding position of group into the audio sample；And
The audio sample is encoded into output audio chunking (238).
9. according to the method for claim 8 (600), wherein the output video chunking (236) is assembled into the output
Media Stream (239) includes being directed at each output audio chunking (238) with corresponding output video chunking (236).
10. according to the method for claim 1 (600), further includes:
One or more of subordinate code converters (220) are fetched from available code converter queue (220')；And
It completes to turn input video chunking (233) code of appointment in one or more of subordinate code converters (220)
When changing, one or more of code converters (220) are released back into the code converter (220) queue (220')
In.
11. according to the method for claim 1 (600), further includes:
For each input video chunking (233):
Obtain immediately follows before the input video chunking (233) preceding input video chunking (233) at least one
Preceding input video subgroup block (234)；And
It is one or more in the forward direction for the input video subgroup block (234) for feeding the input video chunking (233)
At least one is in preceding input video subgroup block (234) described in a subordinate code converter (220) feeding.
12. further including according to the method for claim 1 (600), issuing the output media stream (239).
13. according to the method for claim 1 (600), further including transmitting the output media stream to user equipment (100)
(239)。
14. a kind of transcoder server (200), comprising:
Non-transient computer-readable media (230), the non-transient computer-readable media (230) store computer-readable finger
It enables；
Multiple subordinate code converters (220), the multiple subordinate code converter (220) is from the first coding parameter sets to
Two coding parameter sets carry out code conversion to data；And
Processing equipment (210), the processing equipment (210) communicate with the computer-readable medium (230) and execute described
Computer-readable instruction, the computer-readable instruction make the processing equipment (210):
Receive the input medium stream (232) encoded according to first coding parameter sets；
The video section (232 ') of the received part of the input medium stream (232) is split into input video chunking (233)
The rest part of the input medium stream (232) is received simultaneously；
For each input video chunking (233) of the video section (232 ') of the input medium stream (232):
The input video chunking (233) is assigned to one or more subordinate code converter (220)；
The input video chunking (233) is split into input video subgroup block (234)；
The one or more of output video subgroup block (235) is converted by input video subgroup block (234) code
Each subordinate code converter in a subordinate code converter (220) discretely feeds each input video subgroup block (234),
Wherein each subordinate code converter (220) includes subordinate decoder (510) and subordinate encoder (512), the subordinate coding
Device (512) is to the first input video subgroup block (234) coding while the subordinate decoder (510) is to the second input video subgroup
Block (234) decoding；A wherein subordinate code converter in one or more of subordinate code converters (220)
(220) all input video subgroup block (234) codes of the input video chunking (233) are converted into output video
When chunking (235), the output video subgroup block (235) is assembled into output video group by the subordinate code converter (220)
Block (236)；And
The output view corresponding with input video chunking (233) is received from one subordinate code converter (220)
Frequency chunking (236)；And
The output video chunking (236) is assembled into output media stream (239).
15. transcoder server (200) according to claim 14, wherein the processing equipment (210):
The received partial resolution of the input video chunking (233) is still received simultaneously at input video subgroup block (234)
The rest part of the input video chunking (233)；And
At least one input video subgroup block (234) is fed simultaneously to one or more of subordinate code converters (220)
Still the rest part of the input video chunking (233) is received.
16. transcoder server (200) according to claim 14, wherein the processing equipment (210) will be described defeated
Video chunking (236) is assembled into the output media stream (239) simultaneously for the video portion of the input medium stream (232) out
Any rest part of (232') is divided to split into input video chunking (233).
17. transcoder server (200) according to claim 16, wherein the processing equipment (210):
The input video chunking (233) is assigned to multiple subordinate code converters (220)；And
A subordinate code converter (220) in the multiple subordinate code converter (220) completes to regard the input
When frequency chunking (233) code conversion, other subordinate code converters in the multiple subordinate code converter (220) are ordered
(220) stop input video subgroup block (234) code conversion to the input video chunking (233).
18. transcoder server (200) according to claim 17, wherein ordering the multiple subordinate code to turn
After other subordinate code converter (220) stop codes conversion in parallel operation (220), the processing equipment (210) will own
The subordinate code converter (220), which is identified as, can be used for receiving another input video chunking (233).
19. transcoder server (200) according to claim 14, wherein the processing equipment (210):
The input medium stream (232) is demultiplexed into the video section (232') and sound of the input medium stream (232)
Frequency part (232 ")；And
The audio-frequency unit (232 ") of the input medium stream (232) is split into input audio chunking (237), each input
Audio chunking (237) corresponds respectively to an input in the input video chunking (233) of the video section (232')
Video chunking (233).
20. transcoder server (200) according to claim 19, wherein input audio chunking (237) and input regard
The corresponding same time in the input medium stream (232) of each of frequency chunking (233) starts and has substantially
Identical time span.
21. transcoder server (200) according to claim 20, wherein for each input audio chunking (237),
The processing equipment (210):
The input audio chunking (237) is decoded into audio sample；
When detecting the audio packet of the loss in the input audio chunking (237), divide with the audio of the loss
Insert silent audio sampling is inserted at the corresponding position of group into the audio sample；And
The audio sample is encoded into output audio chunking (238).
22. transcoder server (200) according to claim 21, wherein the processing equipment (210) will be described defeated
Out video chunking (236) be assembled into the output media stream (239) include by each output audio chunking (238) with it is corresponding defeated
Video chunking (236) is aligned out.
23. transcoder server (200) according to claim 14, wherein the processing equipment (210):
One or more of subordinate code converters (220) are fetched from available code converter (220) queue (220')；With
And
It completes to turn input video chunking (233) code of appointment in one or more of subordinate code converters (220)
When changing, one or more of code converters (220) are released back into the code converter (220) queue (220')
In.
24. transcoder server (200) according to claim 14, wherein for each input video chunking (233),
The processing equipment (210):
Obtain immediately follows before the input video chunking (233) preceding input video chunking (233) at least one
Preceding input video subgroup block (234)；And
It is one or more in the forward direction for the input video subgroup block (234) for feeding the input video chunking (233)
At least one is in preceding input video subgroup block (234) described in a code converter (220) feeding.
25. transcoder server (200) according to claim 14, wherein described in the processing equipment (210) publication
Output media stream (239).
26. transcoder server (200) according to claim 14, wherein the processing equipment (210) is set to user
Standby (100) transmit the output media stream (239).
27. transcoder server (200) according to claim 14, wherein described in the processing equipment (210) execution
Subordinate code converter (220).
28. transcoder server (200) according to claim 14, wherein the subordinate code converter (220) exists
It is executed on one or more the other processing equipment (210) communicated with the processing equipment (210).
29. a kind of transcoder server (200), comprising:
Non-transient computer-readable media (230), the non-transient computer-readable media (230) store computer-readable finger
It enables；
Multiple subordinate code converters (220), the multiple subordinate code converter (220) is from the first coding parameter sets to
Two coding parameter sets carry out code conversion to data；And
Processing equipment (210), the processing equipment (210) communicate with the computer-readable medium (230) and execute described
Computer-readable instruction, the computer-readable instruction make the processing equipment (210):
Receive the input medium stream (232) encoded according to first coding parameter sets；
The video section (232 ') of the received part of the input medium stream (232) is split into input video chunking (233)
The rest part of the input medium stream (232) is received simultaneously；
For each input video chunking (233) of the video section (232 ') of the input medium stream (232):
The input video chunking (233) is assigned to one or more subordinate code converter (220)；
The input video chunking (233) is split into input video subgroup block (234)；
Each subordinate code converter into one or more of subordinate code converters (220) is discretely fed each
Input video subgroup block (234)；Wherein each subordinate code converter (220) includes subordinate decoder (510) and subordinate coding
Device (512), the subordinate encoder (512) is to the first input video subgroup block (234) coding while the subordinate decoder
(510) the second input video subgroup block (234) is decoded；
Output video subgroup block (235) is discretely received from one or more of subordinate code converters (220), it is each defeated
Video subgroup block (235) corresponds respectively to an input video subgroup block in the input video subgroup block (234) out
(234)；And the output video subgroup block (235) is assembled into output corresponding with input video chunking (233) and is regarded
Frequency chunking (236)；And
The output video chunking (236) is assembled into output media stream (239).
Applications Claiming Priority (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US14/086,541 | 2013-11-21 | ||
US14/086,541 US8955027B1 (en) | 2013-11-21 | 2013-11-21 | Transcoding media streams using subchunking |
PCT/US2014/066321 WO2015077289A1 (en) | 2013-11-21 | 2014-11-19 | Transcoding media streams using subchunking |
Publications (2)
Publication Number | Publication Date |
---|---|
CN106063278A CN106063278A (en) | 2016-10-26 |
CN106063278B true CN106063278B (en) | 2019-04-23 |
Family
ID=52443799
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN201480062710.5A Active CN106063278B (en) | 2013-11-21 | 2014-11-19 | Code conversion is carried out to Media Stream using subgroup block |
Country Status (6)
Country | Link |
---|---|
US (2) | US8955027B1 (en) |
EP (1) | EP3072301B1 (en) |
JP (1) | JP6165983B2 (en) |
KR (2) | KR101643529B1 (en) |
CN (1) | CN106063278B (en) |
WO (1) | WO2015077289A1 (en) |
Families Citing this family (17)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20160295256A1 (en) * | 2015-03-31 | 2016-10-06 | Microsoft Technology Licensing, Llc | Digital content streaming from digital tv broadcast |
JP2017143475A (en) * | 2016-02-12 | 2017-08-17 | 日本放送協会 | Distribution management apparatus, reception apparatus, distributed processing system, and program |
DE102016116555A1 (en) * | 2016-09-05 | 2018-03-08 | Nanocosmos Informationstechnologien Gmbh | Method for transmitting real-time-based digital video signals in networks |
US11166057B2 (en) * | 2016-11-10 | 2021-11-02 | University Of Louisiana At Lafayette | System for high performance on-demand video transcoding |
US10298969B2 (en) * | 2016-11-10 | 2019-05-21 | University Of Louisiana At Lafayette | Architecture and method for high performance on demand video transcoding |
JP7068789B2 (en) * | 2017-02-07 | 2022-05-17 | スカイベル テクノロジーズ，インコーポレーテッド | Smart home communication systems and methods |
US10853439B2 (en) | 2017-08-08 | 2020-12-01 | Nice Ltd. | Systems and methods for fast play back of recorded data |
CN108122558B (en) * | 2017-12-22 | 2020-12-29 | 深圳国微技术有限公司 | Real-time capacity conversion implementation method and device for LATM AAC audio stream |
US10616616B2 (en) | 2018-01-01 | 2020-04-07 | Nice Ltd | Method and system for streaming a media file during a concurrent transcoding thereof |
KR102464757B1 (en) * | 2018-03-29 | 2022-11-09 | 삼성전자주식회사 | A system and a method for streaming video data |
CN110213598B (en) * | 2018-05-31 | 2021-10-15 | 腾讯科技（深圳）有限公司 | Video transcoding system and method and related product |
US10951906B2 (en) | 2018-08-16 | 2021-03-16 | Bombbomb, Inc. | Method and system for implementing split and parallelized encoding or transcoding of audio and video content |
US11522810B2 (en) * | 2018-10-25 | 2022-12-06 | University Of Louisiana At Lafayette | System for request aggregation in cloud computing services |
US11790408B2 (en) * | 2019-03-01 | 2023-10-17 | Vungle, Inc. | Automated video advertisement creation |
EP3818719B1 (en) | 2019-09-23 | 2024-05-01 | Google LLC | Interruptible video transcoding |
US11403106B2 (en) * | 2019-09-28 | 2022-08-02 | Tencent America LLC | Method and apparatus for stateless parallel processing of tasks and workflows |
CN112188285A (en) * | 2020-09-28 | 2021-01-05 | 北京达佳互联信息技术有限公司 | Video transcoding method, device, system and storage medium |
Citations (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN102724555A (en) * | 2012-07-09 | 2012-10-10 | 杭州海康威视数字技术股份有限公司 | Multiplex code stream same-port processing method and system in video surveillance system |
WO2013015596A2 (en) * | 2011-07-26 | 2013-01-31 | 엘지전자 주식회사 | Apparatus for transmitting video stream, apparatus for receiving video stream, method for transmitting video stream, and method for receiving video stream |
Family Cites Families (26)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
JP2005176069A (en) | 2003-12-12 | 2005-06-30 | Ntt Data Corp | Distributed parallel transcoder system and method thereof |
JP2007274229A (en) * | 2006-03-30 | 2007-10-18 | Sony Corp | Information processing apparatus and method, and program |
US20070230586A1 (en) | 2006-03-31 | 2007-10-04 | Masstech Group Inc. | Encoding, decoding and transcoding of audio/video signals using combined parallel and serial processing techniques |
US20080270567A1 (en) | 2006-03-31 | 2008-10-30 | Mobitv, Inc. | Customizing and Distributing Data in Network Environments |
CN1889667B (en) * | 2006-07-26 | 2011-03-30 | 浙江大学 | Video frequency signal multi-processor parallel processing method |
US20090322784A1 (en) | 2008-02-27 | 2009-12-31 | Gabriele Sartori | System and method for virtual 3d graphics acceleration and streaming multiple different video streams |
WO2009149063A1 (en) | 2008-06-02 | 2009-12-10 | Azuki Systems, Inc. | Media mashup system |
US8443411B2 (en) * | 2008-11-26 | 2013-05-14 | At&T Intellectual Property I, Lp | System and method to distribute video-on-demand content |
JP2010287110A (en) | 2009-06-12 | 2010-12-24 | Nec Personal Products Co Ltd | Information processor, information processing method, program, and recording medium |
US8566393B2 (en) * | 2009-08-10 | 2013-10-22 | Seawell Networks Inc. | Methods and systems for scalable video chunking |
US20120030723A1 (en) * | 2010-07-27 | 2012-02-02 | Motorola, Inc. | Method and apparatus for streaming video |
JP5412385B2 (en) * | 2010-08-16 | 2014-02-12 | スキルアップジャパン株式会社 | Distributed transcoding system and method, and transcoding apparatus |
KR101166085B1 (en) * | 2010-12-17 | 2012-07-23 | 주식회사 픽스트리 | diversification transcoding method for video file |
US20120281748A1 (en) * | 2011-05-02 | 2012-11-08 | Futurewei Technologies, Inc. | Rate Control for Cloud Transcoding |
EP2566172A1 (en) * | 2011-09-02 | 2013-03-06 | Thomson Licensing | Method and apparatus for adaptive transcoding of multimedia stream |
CN103002274B (en) | 2011-09-16 | 2016-05-18 | 腾讯科技（深圳）有限公司 | A kind of mobile multimedia real-time transcoding Play System and method of downloading based on off-line |
US9042449B2 (en) | 2011-09-29 | 2015-05-26 | Avvasi Inc. | Systems and methods for dynamic transcoding of indexed media file formats |
US9432704B2 (en) | 2011-11-06 | 2016-08-30 | Akamai Technologies Inc. | Segmented parallel encoding with frame-aware, variable-size chunking |
CN103297452B (en) * | 2012-02-24 | 2016-08-24 | 北京对角巷科技发展有限公司 | A kind of in the Internet issue and the method and system of live broadcast stream media |
US9106932B2 (en) * | 2012-02-29 | 2015-08-11 | Broadcom Corporation | Parallel pyramid entropy coding for video and image compression |
US9246741B2 (en) * | 2012-04-11 | 2016-01-26 | Google Inc. | Scalable, live transcoding with support for adaptive streaming and failover |
US8752112B2 (en) | 2012-04-12 | 2014-06-10 | Google Inc. | Live streaming video processing |
CN102790905B (en) | 2012-08-03 | 2016-08-17 | 重庆大学 | The code-transferring method H.264/SVC arrived H.264/AVC based on P2PVoD video on-demand system |
CN102902803B (en) | 2012-10-12 | 2016-01-13 | 北京奇虎科技有限公司 | Webpage trans-coding system |
CN102902802B (en) | 2012-10-12 | 2016-06-01 | 北京奇虎科技有限公司 | A kind of webpage code-transferring method and device |
CN102932334B (en) | 2012-10-12 | 2015-10-07 | 北京奇虎科技有限公司 | A kind of webpage trans-coding system |
-
2013
- 2013-11-21 US US14/086,541 patent/US8955027B1/en not_active Expired - Fee Related
-
2014
- 2014-11-19 KR KR1020167013128A patent/KR101643529B1/en active IP Right Grant
- 2014-11-19 KR KR1020167019715A patent/KR101754548B1/en active IP Right Grant
- 2014-11-19 EP EP14864842.1A patent/EP3072301B1/en active Active
- 2014-11-19 CN CN201480062710.5A patent/CN106063278B/en active Active
- 2014-11-19 JP JP2016530229A patent/JP6165983B2/en active Active
- 2014-11-19 WO PCT/US2014/066321 patent/WO2015077289A1/en active Application Filing
- 2014-12-02 US US14/557,863 patent/US9179183B2/en not_active Expired - Fee Related
Patent Citations (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
WO2013015596A2 (en) * | 2011-07-26 | 2013-01-31 | 엘지전자 주식회사 | Apparatus for transmitting video stream, apparatus for receiving video stream, method for transmitting video stream, and method for receiving video stream |
CN102724555A (en) * | 2012-07-09 | 2012-10-10 | 杭州海康威视数字技术股份有限公司 | Multiplex code stream same-port processing method and system in video surveillance system |
Also Published As
Publication number | Publication date |
---|---|
KR101754548B1 (en) | 2017-07-05 |
JP2016541178A (en) | 2016-12-28 |
KR101643529B1 (en) | 2016-08-10 |
EP3072301A4 (en) | 2017-07-19 |
US8955027B1 (en) | 2015-02-10 |
KR20160088957A (en) | 2016-07-26 |
US20150143444A1 (en) | 2015-05-21 |
KR20160060165A (en) | 2016-05-27 |
EP3072301B1 (en) | 2021-08-04 |
WO2015077289A1 (en) | 2015-05-28 |
EP3072301A1 (en) | 2016-09-28 |
US9179183B2 (en) | 2015-11-03 |
CN106063278A (en) | 2016-10-26 |
JP6165983B2 (en) | 2017-07-19 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
CN106063278B (en) | Code conversion is carried out to Media Stream using subgroup block | |
US8566393B2 (en) | Methods and systems for scalable video chunking | |
US11537562B2 (en) | Auxiliary manifest file to provide timed metadata | |
US7984342B2 (en) | System and method for MPEG CRC error based video network fault detection | |
US20110083144A1 (en) | Integrating continuous and sparse streaming data | |
US20140351871A1 (en) | Live media processing and streaming service | |
JP2019193312A (en) | System and method for frame duplication and frame extension in live video encoding and streaming | |
US20220303328A1 (en) | Systems and methods for cloud storage direct streaming | |
CN104365108A (en) | Live streaming video processing | |
CN103583051A (en) | Playlists for real-time or near real-time streaming | |
US20210160589A1 (en) | Systems and methods for production of fragmented video content | |
KR20170015912A (en) | System for filtering media manifests using manifest attributes | |
US10999611B2 (en) | Systems and methods for playout of fragmented video content | |
US11647252B2 (en) | Identification of elements in a group for dynamic element replacement | |
CN104469370A (en) | Video transcode method and device | |
CN111182322B (en) | Director control method and device, electronic equipment and storage medium | |
CN110708579B (en) | Electronic device capable of executing video playing | |
US11843792B2 (en) | Dynamic decoder configuration for live transcoding | |
CN113767639A (en) | Dynamic self-adaptive streaming transmission method and device based on HTTP | |
US20180192064A1 (en) | Transcoder for real-time compositing | |
US10708336B2 (en) | System and method for announcing media changes | |
US9026983B2 (en) | Flexible and scalable software system architecture for implementing multimedia applications | |
US20240163464A1 (en) | Dynamic decoder configuration for live transcoding | |
Al Rasbi et al. | Need and scope of Private Cloud Technology for public authority for radio & television in Oman | |
CN106330667A (en) | WeChat postcard generation method and system |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
C06 | Publication | ||
PB01 | Publication | ||
C10 | Entry into substantive examination | ||
SE01 | Entry into force of request for substantive examination | ||
CB02 | Change of applicant information |
Address after: American CaliforniaApplicant after: Google limited liability companyAddress before: American CaliforniaApplicant before: Google Inc. |
|
CB02 | Change of applicant information | ||
GR01 | Patent grant | ||
GR01 | Patent grant |