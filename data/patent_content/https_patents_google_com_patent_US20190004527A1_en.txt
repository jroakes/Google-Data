US20190004527A1 - Dynamic Routing For Autonomous Vehicles - Google Patents
Dynamic Routing For Autonomous Vehicles Download PDFInfo
- Publication number
- US20190004527A1 US20190004527A1 US16/029,922 US201816029922A US2019004527A1 US 20190004527 A1 US20190004527 A1 US 20190004527A1 US 201816029922 A US201816029922 A US 201816029922A US 2019004527 A1 US2019004527 A1 US 2019004527A1
- Authority
- US
- United States
- Prior art keywords
- vehicle
- segments
- roadway
- lane
- cost values
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Granted
Links
- 238000000034 method Methods 0.000 claims description 21
- 239000007787 solid Substances 0.000 description 29
- 230000015654 memory Effects 0.000 description 17
- 230000008447 perception Effects 0.000 description 12
- 238000004891 communication Methods 0.000 description 8
- 238000010586 diagram Methods 0.000 description 7
- 230000008859 change Effects 0.000 description 6
- 230000001133 acceleration Effects 0.000 description 5
- 239000003550 marker Substances 0.000 description 5
- 230000011664 signaling Effects 0.000 description 5
- 238000010276 construction Methods 0.000 description 4
- 238000001514 detection method Methods 0.000 description 3
- 238000001914 filtration Methods 0.000 description 3
- 230000006870 function Effects 0.000 description 3
- 230000004807 localization Effects 0.000 description 3
- 230000004044 response Effects 0.000 description 3
- 238000004458 analytical method Methods 0.000 description 2
- 239000000446 fuel Substances 0.000 description 2
- 238000013515 script Methods 0.000 description 2
- 230000000007 visual effect Effects 0.000 description 2
- 238000009941 weaving Methods 0.000 description 2
- 238000009825 accumulation Methods 0.000 description 1
- 230000006399 behavior Effects 0.000 description 1
- 238000004364 calculation method Methods 0.000 description 1
- 230000001413 cellular effect Effects 0.000 description 1
- 230000007423 decrease Effects 0.000 description 1
- 230000003247 decreasing effect Effects 0.000 description 1
- 238000005516 engineering process Methods 0.000 description 1
- 230000007613 environmental effect Effects 0.000 description 1
- 230000005484 gravity Effects 0.000 description 1
- 230000007774 longterm Effects 0.000 description 1
- 230000003287 optical effect Effects 0.000 description 1
- 230000008569 process Effects 0.000 description 1
Images
Classifications
-
- G—PHYSICS
- G05—CONTROLLING; REGULATING
- G05D—SYSTEMS FOR CONTROLLING OR REGULATING NON-ELECTRIC VARIABLES
- G05D1/00—Control of position, course or altitude of land, water, air, or space vehicles, e.g. automatic pilot
- G05D1/02—Control of position or course in two dimensions
- G05D1/021—Control of position or course in two dimensions specially adapted to land vehicles
- G05D1/0212—Control of position or course in two dimensions specially adapted to land vehicles with means for defining a desired trajectory
- G05D1/0217—Control of position or course in two dimensions specially adapted to land vehicles with means for defining a desired trajectory in accordance with energy consumption, time reduction or distance reduction criteria
-
- B—PERFORMING OPERATIONS; TRANSPORTING
- B60—VEHICLES IN GENERAL
- B60W—CONJOINT CONTROL OF VEHICLE SUB-UNITS OF DIFFERENT TYPE OR DIFFERENT FUNCTION; CONTROL SYSTEMS SPECIALLY ADAPTED FOR HYBRID VEHICLES; ROAD VEHICLE DRIVE CONTROL SYSTEMS FOR PURPOSES NOT RELATED TO THE CONTROL OF A PARTICULAR SUB-UNIT
- B60W60/00—Drive control systems specially adapted for autonomous road vehicles
- B60W60/001—Planning or execution of driving tasks
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01C—MEASURING DISTANCES, LEVELS OR BEARINGS; SURVEYING; NAVIGATION; GYROSCOPIC INSTRUMENTS; PHOTOGRAMMETRY OR VIDEOGRAMMETRY
- G01C21/00—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00
- G01C21/10—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00 by using measurements of speed or acceleration
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01C—MEASURING DISTANCES, LEVELS OR BEARINGS; SURVEYING; NAVIGATION; GYROSCOPIC INSTRUMENTS; PHOTOGRAMMETRY OR VIDEOGRAMMETRY
- G01C21/00—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00
- G01C21/20—Instruments for performing navigational calculations
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01C—MEASURING DISTANCES, LEVELS OR BEARINGS; SURVEYING; NAVIGATION; GYROSCOPIC INSTRUMENTS; PHOTOGRAMMETRY OR VIDEOGRAMMETRY
- G01C21/00—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00
- G01C21/26—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00 specially adapted for navigation in a road network
- G01C21/34—Route searching; Route guidance
- G01C21/3407—Route searching; Route guidance specially adapted for specific applications
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01C—MEASURING DISTANCES, LEVELS OR BEARINGS; SURVEYING; NAVIGATION; GYROSCOPIC INSTRUMENTS; PHOTOGRAMMETRY OR VIDEOGRAMMETRY
- G01C21/00—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00
- G01C21/26—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00 specially adapted for navigation in a road network
- G01C21/34—Route searching; Route guidance
- G01C21/3453—Special cost functions, i.e. other than distance or default speed limit of road segments
- G01C21/3461—Preferred or disfavoured areas, e.g. dangerous zones, toll or emission zones, intersections, manoeuvre types, segments such as motorways, toll roads, ferries
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01C—MEASURING DISTANCES, LEVELS OR BEARINGS; SURVEYING; NAVIGATION; GYROSCOPIC INSTRUMENTS; PHOTOGRAMMETRY OR VIDEOGRAMMETRY
- G01C21/00—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00
- G01C21/26—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00 specially adapted for navigation in a road network
- G01C21/34—Route searching; Route guidance
- G01C21/3453—Special cost functions, i.e. other than distance or default speed limit of road segments
- G01C21/3469—Fuel consumption; Energy use; Emission aspects
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01C—MEASURING DISTANCES, LEVELS OR BEARINGS; SURVEYING; NAVIGATION; GYROSCOPIC INSTRUMENTS; PHOTOGRAMMETRY OR VIDEOGRAMMETRY
- G01C21/00—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00
- G01C21/26—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00 specially adapted for navigation in a road network
- G01C21/34—Route searching; Route guidance
- G01C21/36—Input/output arrangements for on-board computers
- G01C21/3667—Display of a road map
-
- G—PHYSICS
- G08—SIGNALLING
- G08G—TRAFFIC CONTROL SYSTEMS
- G08G1/00—Traffic control systems for road vehicles
- G08G1/09—Arrangements for giving variable traffic instructions
- G08G1/0962—Arrangements for giving variable traffic instructions having an indicator mounted inside the vehicle, e.g. giving voice messages
- G08G1/0968—Systems involving transmission of navigation instructions to the vehicle
- G08G1/096833—Systems involving transmission of navigation instructions to the vehicle where different aspects are considered when computing the route
Definitions
- Autonomous vehicles such as vehicles that do not require a human driver, can be used to aid in the transport of passengers or items from one location to another. Such vehicles may operate in a fully autonomous mode where passengers may provide some initial input, such as a pickup or destination location, and the vehicle maneuvers itself to that location.
- autonomous vehicles may include lasers, sonar, radar, cameras, and other devices which scan and record data from the vehicle's surroundings. Sensor data from one or more of these devices may be used to detect objects and their respective characteristics (position, shape, heading, speed, etc.). These characteristics can be used to predict what an object is likely to do for some brief period into the future which can be used to control the vehicle in order to avoid these objects. Thus, detection, identification, and prediction are critical functions for the safe operation of autonomous vehicle.
- these vehicles may rely on highly detailed maps of their environment. These maps are critical for both navigation, for instance determining how to get between two locations) as well as localization (determining where the vehicle is in the world.
- the method includes generating, by one or more processors, a route for a trip from a first location to a destination using map information, the map information including roadway segments defining the shape and location of roadways, the map information also identifying at least one no-go roadway segment defining roadway segments where the vehicle is not able to drive in an autonomous mode; identifying, by the one or more processors, from the map information, a set of no-go roadway segments relevant to the route from the plurality of no-go roadway segments; determining, by the one or more processors, a local region around a current location of the vehicle; identifying, by the one or more processors, a local map region including roadway segments of the map information that correspond to locations within the local region; filtering, by the one or more processors, the set of the plurality of no-go roadway segments from the roadway segments of the local map region; assigning, by the one or more processors, a cost value to each roadway segment of the filtered roadway segments of the local
- the method also includes identifying at least one additional no-go roadway segment which would not allow the vehicle to reach the destination using a graph walk starting from the destination, and the set of no-go roadway segments includes the at least one no-go roadway segment as well as at least one additional roadway segment.
- the local map region is identified by performing a graph cut on the map information.
- the local region corresponds to an area that the vehicle could reach from the current location of the vehicle within a second pre-determined period of time into the future.
- the local region is determined periodically and the set of no-go roadway segments are identified only once for the trip.
- a cost value is assigned to a roadway segment of the filtered roadway segments of the local map region based on a construction area corresponding to the roadway segment. In another example, a cost value is assigned to a roadway segment of the filtered roadway segments of the local map region based on an unprotected left turn corresponding to the roadway segment. In another example, a cost value is assigned to a roadway segment of the filtered roadway segments of the local map region based on a time to reach the destination from the roadway segment.
- the method also includes storing at least one assigned cost value in a local cache; determining a second local region at least partially overlapping with the local region; identify a second local map region including roadway segments of the map information that correspond to locations within the second local region; filter the set of the plurality of no-go roadway segments from the roadway segments of the second local map region; assigning a cost value to each roadway segment of the filtered roadway segments of the second local map region by retrieving the at least one assigned cost value from the local cache; using any assigned cost values for each roadway segment of the filtered roadway segments of the second local map region to determining a second plan for maneuvering the vehicle for a second predetermined period into the future; and maneuvering the vehicle according to the second plan.
- the plan includes a set of connected roadway segments of the filtered roadway segments of the local map region that lead out of the local region and have a lowest accumulation of cost values.
- determining the plan includes determining whether a lane change for the vehicle should be forced.
- determining the plan includes determining whether a turn should be executed to move the vehicle between two lane roadway segments.
- determining the plan includes identifying a secondary path when a primary path corresponding to the roadway segments of the route is not available.
- the system includes one or more processors configured to generate a route for a trip from a first location to a destination using map information, the map information including roadway segments defining the shape and location of roadways, the map information also identifying a plurality of no-go roadway segments defining roadway segments where the vehicle is not able to drive in an autonomous mode; identify a set of no-go roadway segments relevant to the route from the plurality of no-go roadway segments; determine a local region around a current location of the vehicle; identify a local map region including roadway segments of the map information that correspond to locations within the local region; filter the set of the plurality of no-go roadway segments from the roadway segments of the local map region; assign a cost value to each roadway segment of the filtered roadway segments of the local map region; use any assigned cost values to determining a plan for maneuvering the vehicle for a predetermined period into the future; and maneuver the vehicle according to the plan.
- the one or more processors are further configured to identify at least one additional no-go roadway segment which would not allow the vehicle to reach the destination using a graph walk starting from the, and the set of no-go roadway segments includes the at least one no-go roadway segment as well as the at least one additional roadway segment.
- the local region is determined periodically and the set of no-go roadway segments are identified only once for the trip.
- a cost value is assigned to a roadway segment of the filtered roadway segments of the local map region based on a construction area corresponding to the roadway segment.
- a cost value is assigned to a roadway segment of the filtered roadway segments of the local map region based on an unprotected left turn corresponding to the roadway segment.
- a cost value is assigned to a roadway segment of the filtered roadway segments of the local map region based on a time to reach the destination from the roadway segment.
- a further aspect of the disclosure provides a non-transitory, computer readable medium on which instructions are stored.
- the instructions when performed by one or more processors, cause the one or more processors to perform a method for maneuvering a vehicle.
- the method includes generating a route for a trip from a first location to a destination using map information, the map information including roadway segments defining the shape and location of roadways, the map information also identifying a plurality of no-go roadway segments defining roadway segments where the vehicle is not able to drive in an autonomous mode; identifying a set of no-go roadway segments relevant to the route from the plurality of no-go roadway segments; determining a local region around a current location of the vehicle; identifying a local map region including roadway segments of the map information that correspond to locations within the local region; filtering the set of the plurality of no-go roadway segments from the roadway segments of the local map region; assigning a cost value to each roadway segment of the filtered roadway segments of the local map region; using any assigned cost values to determining a
- FIG. 1 is a functional diagram of an example vehicle in accordance with aspects of the disclosure.
- FIGS. 2A and 2B are diagrams of map information in accordance with aspects of the disclosure.
- FIGS. 3A-3D are example external views of a vehicle in accordance with aspects of the disclosure.
- FIG. 4 is a pictorial diagram of a system in accordance with aspects of the disclosure.
- FIG. 5 is a functional diagram of the system of FIG. 4 in accordance with aspects of the disclosure.
- FIGS. 6-14 are views of a section of roadway and data in accordance with aspects of the disclosure.
- FIG. 15 is a flow diagram in accordance with aspects of the disclosure.
- an autonomous vehicle may be controlled by a computing system that includes both a routing or navigation system for generating a route to a destination (in other words the long-term planning) and a planning system for generating a path along the route (in other words the short-term planning).
- the routing system determines a route by referring to a roadgraph and identifying a series of road or lane segments (lane id, start, end) that connect the vehicle's current location with the destination location.
- the planning system uses this route as a baseline to determine which turns to make, what lanes to be in, etc. in order to reach the destination.
- the vehicle is able to be controlled in a way that makes it more reactive to the vehicle's current environment.
- the routing system In order to generate a route, the routing system must have access to map information.
- the map information may describe the shape and orientation of road features such as the road surface, lane markers, curbs, crosswalks, etc.
- roadways may be defined by segments within lanes identified by identifiers, starting points and ending points. By connecting segments together, a route between two locations can be generated.
- the map information may include segments on which the vehicle is not able to travel on or “no-go regions.”
- a simple graph walk may be used starting from the destination towards the starting location (typically, the current location of the vehicle). Essentially, this assumes that the destination remains constant and identifies all segments which would not get the vehicle to the destination. No other detailed analysis is required at this point, and thus, this determination may be done only once per a destination.
- a local region around the vehicle may be identified.
- This local region may include some small region behind the vehicle as well as the area in front (in the direction of travel) and around (in the lateral directions from) the vehicle.
- the local region may correspond to all areas that the vehicle could possibly reach within some predetermined period of time. This local region may be identified periodically.
- the local region may then be used to perform a simple graph cut, in other words, defining a periphery using to separate a map region from the rest of the map information.
- segments of the map information may be identified by doing a simple graph walk within the area of the region. Any previously identified no-go regions are then removed from the map region to obtain a filtered map region.
- Costs may be assigned based on a priori knowledge about the vehicle's environment, for instance, from data in the map information. Because there will be significant overlap between regions for many of the cost values, this information may be stored in local cache for quick retrieval.
- the cost values may then be provided to the planner system in order to determine how to maneuver the vehicle. For instance, the vehicle's computing devices may determine the lowest cost set of segments that lead out of the local region. The result may be used to plan how to control the vehicle for a brief period into the future.
- the planner system will determine a new plan several times per second, many of the cost values may simply be retrieved from the local cache. Those that are likely to change when the vehicle moves within the local region (such as those relating to the time to destination, etc.) may be recalculated as needed. In addition, all or less than all of the cost values may be recalculated when a new local region is calculated.
- the vehicle's computing devices may make better informed decisions about whether to weave around or pass a slow moving or stopped object.
- the features described herein allow a vehicle's computing devices to make better more well-informed decisions about how to control the vehicle in real time. For instance, the routing system can determine whether a lane change should be forced, if a multi-point turn should be executed to move between two lane segments, or if a secondary path should be used if the primary path is not available. This greatly improves and increases the vehicle's available responses to immediate environmental conditions, allowing the planner system to quickly and efficiently find the best path to the destination. In addition, by limiting the cost value calculations in this way and only identifying all the relevant no-go regions once per destination, this dramatically increases the efficiency of the routing and planning systems described above.
- a vehicle 100 in accordance with one aspect of the disclosure includes various components. While certain aspects of the disclosure are particularly useful in connection with specific types of vehicles, the vehicle may be any type of vehicle including, but not limited to, cars, trucks, motorcycles, busses, recreational vehicles, etc.
- the vehicle may have one or more computing devices, such as computing devices 110 containing one or more processors 120 , memory 130 and other components typically present in general purpose computing devices.
- the memory 130 stores information accessible by the one or more processors 120 , including instructions 132 and data 134 that may be executed or otherwise used by the processor 120 .
- the memory 130 may be of any type capable of storing information accessible by the processor, including a computing device-readable medium, or other medium that stores data that may be read with the aid of an electronic device, such as a hard-drive, memory card, ROM, RAM, DVD or other optical disks, as well as other write-capable and read-only memories.
- Systems and methods may include different combinations of the foregoing, whereby different portions of the instructions and data are stored on different types of media.
- the instructions 132 may be any set of instructions to be executed directly (such as machine code) or indirectly (such as scripts) by the processor.
- the instructions may be stored as computing device code on the computing device-readable medium.
- the terms “instructions” and “programs” may be used interchangeably herein.
- the instructions may be stored in object code format for direct processing by the processor, or in any other computing device language including scripts or collections of independent source code modules that are interpreted on demand or compiled in advance. Functions, methods and routines of the instructions are explained in more detail below.
- the data 134 may be retrieved, stored or modified by processor 120 in accordance with the instructions 132 .
- the data may be stored in computing device registers, in a relational database as a table having a plurality of different fields and records, XML documents or flat files.
- the data may also be formatted in any computing device-readable format.
- the one or more processor 120 may be any conventional processors, such as commercially available CPUs. Alternatively, the one or more processors may be a dedicated device such as an ASIC or other hardware-based processor.
- FIG. 1 functionally illustrates the processor, memory, and other elements of computing devices 110 as being within the same block, it will be understood by those of ordinary skill in the art that the processor, computing device, or memory may actually include multiple processors, computing devices, or memories that may or may not be stored within the same physical housing.
- memory may be a hard drive or other storage media located in a housing different from that of computing devices 110 . Accordingly, references to a processor or computing device will be understood to include references to a collection of processors or computing devices or memories that may or may not operate in parallel.
- Computing devices 110 may include all of the components normally used in connection with a computing device such as the processor and memory described above as well as a user input 150 (e.g., a mouse, keyboard, touch screen and/or microphone) and various electronic displays (e.g., a monitor having a screen or any other electrical device that is operable to display information).
- a user input 150 e.g., a mouse, keyboard, touch screen and/or microphone
- various electronic displays e.g., a monitor having a screen or any other electrical device that is operable to display information
- the vehicle includes an internal electronic display 152 as well as one or more speakers 154 to provide information or audio visual experiences.
- internal electronic display 152 may be located within a cabin of vehicle 100 and may be used by computing devices 110 to provide information to passengers within the vehicle 100 .
- Computing devices 110 may also include one or more wireless network connections 156 to facilitate communication with other computing devices, such as the client computing devices and server computing devices described in detail below.
- the wireless network connections may include short range communication protocols such as Bluetooth, Bluetooth low energy (LE), cellular connections, as well as various configurations and protocols including the Internet, World Wide Web, intranets, virtual private networks, wide area networks, local networks, private networks using communication protocols proprietary to one or more companies, Ethernet, WiFi and HTTP, and various combinations of the foregoing.
- computing devices 110 may be an autonomous driving computing system incorporated into vehicle 100 .
- the autonomous driving computing system may capable of communicating with various components of the vehicle.
- computing devices 110 may be in communication with various systems of vehicle 100 , such as deceleration system 160 , acceleration system 162 , steering system 164 , signaling system 166 , routing system 168 , positioning system 170 , and perception system 172 in order to control the movement, speed, etc. of vehicle 100 in accordance with the instructions 132 of memory 130 .
- these systems are shown as external to computing devices 110 , in actuality, these systems may also be incorporated into computing devices 110 , again as an autonomous driving computing system for controlling vehicle 100 .
- computing devices 110 may interact with deceleration system 160 and acceleration system 162 in order to control the speed of the vehicle.
- steering system 164 may be used by computing devices 110 in order to control the direction of vehicle 100 .
- vehicle 100 is configured for use on a road, such as a car or truck, the steering system may include components to control the angle of wheels to turn the vehicle.
- Signaling system 166 may be used by computing devices 110 in order to signal the vehicle's intent to other drivers or vehicles, for example, by lighting turn signals or brake lights when needed.
- Routing system 168 may be used by computing devices 110 in order to determine and follow a route to a location.
- the routing system 168 and/or data 134 may store detailed map information, e.g., highly detailed maps identifying the shape and elevation of roadways, lane lines, intersections, crosswalks, speed limits, traffic signals, buildings, signs, real time traffic information, vegetation, or other such objects and information.
- this detailed map information may define the geometry of vehicle's expected environment including roadways as well as speed restrictions (legal speed limits) for those roadways.
- this map information may include information regarding traffic controls, such as traffic signal lights, stop signs, yield signs, etc., which, in conjunction with real time information received from the perception system 172 , can be used by the computing devices 110 to determine which directions of traffic have the right of way at a given location.
- traffic controls such as traffic signal lights, stop signs, yield signs, etc.
- FIGS. 2A and 2B is an example of map information for a section of roadway including intersections 220 , 222 , 224 .
- FIG. 2A depicts a portion of the map information that includes information identifying the shape, location, and other characteristics of lane marks or lane lines 210 , 212 , 214 , traffic signals 230 , 232 , 234 (not depicted in the other figures for clarity and simplicity), stop sign 240 (not depicted in the other figures for clarity and simplicity), as well as stop lines 250 , 252 , 254 .
- the map information may also include information that identifies lanes defined by the lane lines as well as the direction of traffic for each lane as well as information that allows the computing devices 110 to determine whether the vehicle has the right of way to complete a particular maneuver (i.e. complete a turn or cross a lane of traffic or intersection).
- the map information may include a series of road or lane segments. Each lane segment is defined by a starting point, an ending point, and an identifier.
- FIG. 2B depicts most of the information of FIG. 2A with the addition of a plurality of lane segments, including for example, lane segments 270 , 272 , 274 .
- FIG. 2B depicts these starting and ending points as open circles, such as open circles 260 , 262 , 264 , 266 .
- open circles such as open circles 260 , 262 , 264 , 266 .
- open circles are depicted, each representing a starting and ending point, only a few are referenced for clarity and simplicity.
- circle 260 represents a starting point for lane segment 270
- circle 262 represents an ending point for segment 270
- circle 262 represents a starting point for lane segment 272
- circle 264 represents an ending point for lane segment 272
- circle 264 represents a starting point for lane segment 274
- circle 266 represents an ending point for lane segment 274 .
- each of these lane segments may be associated with an identifier, for instance, a numeric value corresponding to a relative or actual location of the lane segment.
- the map information may also identify additional information about the segments. For example, as shown in FIG. 2B , lane segments 270 and 272 are shown in solid line, indicating that lane segments 270 and 272 are available for the vehicle to drive autonomously. At the same time, lane segment 274 is shown in dashed line to indicate that lane segment corresponds to a no-go region where the vehicle is not able to travel. This may include, for instance, areas of known construction, congested areas, lanes that lead to entrance ramps for highways (for instance, where the vehicle is not permitted to drive on the highway or at such high speeds), lanes that lead to areas that are not sufficiently mapped (i.e. not sufficiently described in the map information), or other reasons etc. Of course, though many solid lane segments (available for the vehicle to drive autonomously) and dashed lane segments (no-go regions) are depicted, only a few are referenced for clarity and simplicity.
- the map information is depicted herein as an image-based map, the map information need not be entirely image based (for example, raster).
- the map information may include one or more roadgraphs or graph networks of information such as roads, lanes, intersections, and the connections between these features.
- Each feature may be stored as graph data and may be associated with information such as a geographic location and whether or not it is linked to other related features, for example, a stop sign may be linked to a road and an intersection, etc.
- the associated data may include grid-based indices of a roadgraph to allow for efficient lookup of certain roadgraph features.
- Positioning system 170 may be used by computing devices 110 in order to determine the vehicle's relative or absolute position on a map or on the earth.
- the position system 170 may include a GPS receiver to determine the device's latitude, longitude and/or altitude position.
- Other location systems such as laser-based localization systems, inertial-aided GPS, or camera-based localization may also be used to identify the location of the vehicle.
- the location of the vehicle may include an absolute geographical location, such as latitude, longitude, and altitude as well as relative location information, such as location relative to other cars immediately around it which can often be determined with less noise than absolute geographical location.
- the positioning system 170 may also include other devices in communication with computing devices 110 , such as an accelerometer, gyroscope or another direction/speed detection device to determine the direction and speed of the vehicle or changes thereto.
- an acceleration device may determine its pitch, yaw or roll (or changes thereto) relative to the direction of gravity or a plane perpendicular thereto.
- the device may also track increases or decreases in speed and the direction of such changes.
- the device's provision of location and orientation data as set forth herein may be provided automatically to the computing devices 110 , other computing devices and combinations of the foregoing.
- the perception system 172 also includes one or more components for detecting objects external to the vehicle such as other vehicles, obstacles in the roadway, traffic signals, signs, trees, etc.
- the perception system 172 may include lasers, sonar, radar, cameras and/or any other detection devices that record data which may be processed by computing devices 110 .
- the vehicle is a small passenger vehicle such as a car
- the car may include a laser or other sensors mounted on the roof or other convenient location.
- a vehicle's perception system may use various sensors, such as LIDAR, sonar, radar, cameras, etc. to detect objects and their characteristics such as location, orientation, size, shape, type, direction and speed of movement, etc.
- the raw data from the sensors and/or the aforementioned characteristics can be quantified or arranged into a descriptive function or vector for processing by the computing devices 110 .
- computing devices 110 may use the positioning system 170 to determine the vehicle's location and perception system 172 to detect and respond to objects when needed to reach the location safely.
- FIGS. 3A-3D are examples of external views of vehicle 100 .
- vehicle 100 includes many features of a typical vehicle such as headlights 302 , windshield 303 , taillights/turn signal lights 304 , rear windshield 305 , doors 306 , side view mirrors 308 , tires and wheels 310 , and turn signal/parking lights 312 .
- Headlights 302 , taillights/turn signal lights 304 , and turn signal/parking lights 312 may be associated with the signaling system 166 .
- Light bar 307 may also be associated with the signaling system 166 .
- Vehicle 100 also includes sensors of the perception system 172 .
- housing 314 may include one or more laser devices for having 360 degree or narrower fields of view and one or more camera devices.
- Housings 316 and 318 may include, for example, one or more radar and/or sonar devices.
- the devices of the perception system 172 may also be incorporated into the typical vehicle components, such as taillights/turn signal lights 304 and/or side view mirrors 308 .
- Each of these radar, camera, and lasers devices may be associated with processing components which process data from these devices as part of the perception system 172 and provide sensor data to the computing devices 110 .
- Data 134 may store various behavior-time models for predicting an object's future behavior for a pre-determined period of time, such as the next 10 seconds or more or less.
- the behavior-time models may be configured to use data for an object received from the perception system 172 , and in particular another road user, including the road user's characteristics as well as additional contextual information discussed in further detail below.
- the behavior-time models may provide a set of one or more predictions for how the object could behave for the predetermined period of time as well as a corresponding likelihood value for each prediction.
- the predictions may include a trajectory, for instance, defining a set of future locations where the object is expected to be at various times in the future corresponding to the predetermined period of time.
- the likelihood values may indicate which of the predictions are more likely to occur (relative to one another). In this regard, the prediction with the greatest likelihood value may be the most likely to occur whereas predictions with lower likelihood values may be less likely to occur.
- the behavior-time models may be configured to generate a set of possible hypotheses for what a particular road user will do over a particular horizon or predetermined period of time (e.g. 10 seconds) and relative likelihoods for each hypothesis.
- These models may be trained using data about how an object observed at that location behaved in the past, intuition, etc., and may also be specifically designated for particular types of objects, such as vehicles, pedestrians, motorcycles, bicyclists, etc.
- the computing devices 110 can then reason about hypotheses that interact with the vehicle's trajectory and are of a sufficient likelihood to be worth considering.
- the computing devices 110 may control the direction and speed of the vehicle by controlling various components.
- computing devices 110 may navigate the vehicle to a destination location completely autonomously using data from the detailed map information, perception system 172 , and routing system 168 .
- computing devices 110 may cause the vehicle to accelerate (e.g., by increasing fuel or other energy provided to the engine by acceleration system 162 ), decelerate (e.g., by decreasing the fuel supplied to the engine, changing gears, and/or by applying brakes by deceleration system 160 ), change direction (e.g., by turning the front or rear wheels of vehicle 100 by steering system 164 ), and signal such changes (e.g., by lighting turn signals of signaling system 166 ).
- accelerate e.g., by increasing fuel or other energy provided to the engine by acceleration system 162
- decelerate e.g., by decreasing the fuel supplied to the engine, changing gears, and/or by applying brakes by deceleration system 160
- change direction e.g., by turning the front or
- acceleration system 162 and deceleration system 160 may be a part of a drivetrain that includes various components between an engine of the vehicle and the wheels of the vehicle. Again, by controlling these systems, computing devices 110 may also control the drivetrain of the vehicle in order to maneuver the vehicle autonomously.
- FIGS. 4 and 5 are pictorial and functional diagrams, respectively, of an example system 400 that includes a plurality of computing devices 410 , 420 , 430 , 440 and a storage system 450 connected via a network 460 .
- System 400 also includes vehicle 100 , and vehicle 100 A which may be configured similarly to vehicle 100 . Although only a few vehicles and computing devices are depicted for simplicity, a typical system may include significantly more.
- each of computing devices 410 , 420 , 430 , 440 may include one or more processors, memory, data and instructions. Such processors, memories, data and instructions may be configured similarly to one or more processors 120 , memory 130 , data 134 , and instructions 132 of computing devices 110 .
- the network 460 may include various configurations and protocols including short range communication protocols such as Bluetooth, Bluetooth LE, the Internet, World Wide Web, intranets, virtual private networks, wide area networks, local networks, private networks using communication protocols proprietary to one or more companies, Ethernet, WiFi and HTTP, and various combinations of the foregoing.
- short range communication protocols such as Bluetooth, Bluetooth LE, the Internet, World Wide Web, intranets, virtual private networks, wide area networks, local networks, private networks using communication protocols proprietary to one or more companies, Ethernet, WiFi and HTTP, and various combinations of the foregoing.
- Such communication may be facilitated by any device capable of transmitting data to and from other computing devices, such as modems and wireless interfaces.
- one or more computing devices 410 may include a server having a plurality of computing devices, e.g., a load balanced server farm, that exchange information with different nodes of a network for the purpose of receiving, processing and transmitting the data to and from other computing devices.
- one or more computing devices 410 may include one or more server computing devices that are capable of communicating with one or more computing devices 110 of vehicle 100 or a similar computing device of vehicle 100 A as well as client computing devices 420 , 430 , 440 via the network 460 .
- vehicles 100 and 100 A may be a part of a fleet of vehicles that can be dispatched by server computing devices to various locations. In this regard, the vehicles of the fleet may periodically send the server computing devices location information provided by the vehicle's respective positioning systems and the one or more server computing devices may track the locations of the vehicles.
- server computing devices 410 may use network 460 to transmit and present information to a user, such as user 422 , 432 , 442 on a display, such as displays 424 , 434 , 444 of computing devices 420 , 430 , 440 .
- computing devices 420 , 430 , 440 may be considered client computing devices.
- each client computing device 420 , 430 , 440 may be a personal computing device intended for use by a user 422 , 432 , 442 , and have all of the components normally used in connection with a personal computing device including one or more processors (e.g., a central processing unit (CPU)), memory (e.g., RAM and internal hard drives) storing data and instructions, a display such as displays 424 , 434 , 444 (e.g., a monitor having a screen, a touch-screen, a projector, a television, or other device that is operable to display information), and user input devices (e.g., a mouse, keyboard, touch-screen or microphone).
- the client computing devices may also include a camera for recording video streams, speakers, a network interface device, and all of the components used for connecting these elements to one another.
- client computing devices 420 , 430 , and 440 may each comprise a full-sized personal computing device, they may alternatively comprise mobile computing devices capable of wirelessly exchanging data with a server over a network such as the Internet.
- client computing device 420 may be a mobile phone or a device such as a wireless-enabled PDA, a tablet PC, a wearable computing device or system, laptop, or a netbook that is capable of obtaining information via the Internet or other networks.
- client computing device 430 may be a wearable computing device, such as a “smart watch” as shown in FIG. 4 .
- the user may input information using a keyboard, a keypad, a multi-function input button, a microphone, visual signals (for instance, hand or other gestures) with a camera or other sensors, a touch screen, etc.
- client computing device 440 may be a concierge work station used by an administrator to provide concierge services to users such as users 422 and 432 .
- user 442 may be a concierge that uses concierge work station 440 to communicate via a telephone call or audio connection with users through their respective client computing devices or vehicles 100 or 100 A in order to ensure the safe operation of vehicles 100 and 100 A and the safety of the users as described in further detail below.
- FIGS. 4 and 5 any number of such work stations may be included in a typical system.
- Storage system 450 may store various types of information. This information may be retrieved or otherwise accessed by a server computing device, such as one or more server computing devices 410 , in order to perform some or all of the features described herein.
- the information may include user account information such as credentials (e.g., a user name and password as in the case of a traditional single-factor authentication as well as other types of credentials typically used in multi-factor authentications such as random identifiers, biometrics, etc.) that can be used to identify a user to the one or more server computing devices.
- the user account information may also include personal information such as the user's name, contact information, identifying information of the user's client computing device (or devices if multiple devices are used with the same user account), as well as one or more unique signals for the user.
- storage system 450 can be of any type of computerized storage capable of storing information accessible by the server computing devices 410 , such as a hard-drive, memory card, ROM, RAM, DVD, CD-ROM, write-capable, and read-only memories.
- storage system 450 may include a distributed storage system where data is stored on a plurality of different storage devices which may be physically located at the same or different geographic locations.
- Storage system 450 may be connected to the computing devices via the network 460 as shown in FIG. 4 and/or may be directly connected to or incorporated into any of the computing devices 110 , 410 , 420 , 430 , 440 , etc.
- a user may download an application for requesting a vehicle to a client computing device.
- users 422 and 432 may download the application via a link in an email, directly from a website, or an application store to client computing devices 420 and 430 .
- client computing device may transmit a request for the application over the network, for example, to one or more server computing devices 410 , and in response, receive the application.
- the application may be installed locally at the client computing device.
- the user may then use his or her client computing device to access the application and request a vehicle.
- a user such as user 432 may use client computing device 430 to send a request to one or more server computing devices 410 for a vehicle.
- the request may include information identifying a pickup location or area and/or a destination location or area.
- the one or more server computing devices 410 may identify and dispatch, for example based on availability and location, a vehicle to the pickup location. This dispatching may involve sending information to the vehicle identifying the user (and/or the user's client device) in order to assign the vehicle to the user (and/or the user's client computing device), the pickup location, and the destination location or area.
- the vehicle's one or more computing devices 110 may maneuver the vehicle to the pickup location using the various features described above. Once the user, now passenger, is safely in the vehicle, the computing devices 110 may initiate the necessary systems to control the vehicle autonomously along a route to the destination location. For instance, the navigation system 168 may use the map information of data 134 to determine a path or route to the destination location that follows a set of the lane segments of map information. The computing devices 110 may then maneuver the vehicle autonomously (or in an autonomous driving mode) as described above along the route towards the destination.
- FIG. 6 is an example view of a section of roadway corresponding to the section of roadway defined in the map information of FIGS. 2A and 2B .
- FIG. 6 depicts intersections 620 , 622 , 624 that correspond to intersections 220 , 222 , 224 .
- shape, location, and other characteristics of lane lines 610 , 612 , and 614 correspond to the shape, location and other characteristics of lane lines 210 , 212 , 214 .
- traffic signals 630 , 632 , 634 correspond to traffic signals 230 , 232 , 234
- stop sign 640 corresponds to stop sign 240
- stop lines 650 , 652 , 654 correspond to stop lines 250 , 252 , 254 .
- the routing system 168 may generate a route between two locations.
- FIG. 6 depicts a route 660 between a marker 670 representing a starting location (i.e. a starting location of the vehicle 100 ) and a marker 672 representing a destination location.
- route 660 includes a plurality of lane segments of the map information of FIG. 2B strung together between the starting location and the destination location.
- such routes do not include any lane segments identified as no-go regions in the map information.
- FIG. 7 depicts all of the no-go regions (the lane segments depicted in dashed line) from the map information of FIG. 2B that are within the regions through which the route 660 passes, including lane segment 274 .
- FIG. 7 depicts all of the no-go regions (the lane segments depicted in dashed line) from the map information of FIG. 2B that are within the regions through which the route 660 passes, including lane segment 274 .
- FIG. 7 depicts additional no-go regions corresponding to the line segments 710 , 720 , 730 (shown in dashed line) which, while not included in the detailed map information as no-go regions, correspond to lane segments which would not get the vehicle to the destination location of marker 671 . No other detailed analysis is required at this point, and thus, this determination may be done only once per a destination.
- a local region may be identified.
- This local region may include some small region behind the vehicle as well as the area in front (in the direction of travel) and around (in the lateral directions from) the vehicle.
- the local region may correspond to all areas that the vehicle could possibly reach within some predetermined period of time, such as the next 45 seconds or more or less, as well as the last 10 seconds or more or less where the vehicle just was.
- FIG. 8 depicts vehicle 100 at the starting location of marker 670 (not shown) with the map information of FIGS. 2A and 2B .
- Local region 800 represents an area covering the lane segments that the vehicle 100 could reach within the predetermined period of time. This local region may be identified periodically, for instance every 2-3 seconds or more or less.
- the local region is then used to perform a simple graph cut, in other words, defining a periphery using the local region to separate a map region from the rest of the map information.
- a graph cut of the local region 800 would result in the map region 900 as shown in FIG. 9 .
- This identifies all of the lane segments within the map region.
- segments of the map information may be identified by doing a simple graph walk within the area of the region.
- Any previously identified no-go regions are then removed from the map region to provide obtain a filtered map region. For example, filtering the previously identified no-go regions (lane segments shown in dashed line) depicted in FIG. 7 from the map region 900 would result in the filtered map region 1000 of FIG. 10 .
- Costs may be assigned based on a priori knowledge of the vehicle's environment. For instance, costs may be assigned to each lane segment based on whether the lane segment requires the vehicle 100 to merge into a new lane, whether the lane segment requires another vehicle has to merge into a new lane, whether the lane segment is a rightmost lane in a busy commercial area (i.e. with heavy street parking, vehicles moving or backing out of spots, pedestrian traffic), whether the lane segment is a rightmost lane with an active driveway or driveways (i.e.
- the lane segment corresponds to a narrow road, whether the lane segment corresponds to a road that has been narrowed by habitually having lots of vehicles parked on one or both sides, whether the lane segment would require the vehicle to make a particular type of turn (i.e a protected left turn, a left turn at a four-way stop, a left turn at an uncontrolled intersection, an unprotected left turn, etc.), whether the lane segment corresponds to a road having a particular classification (i.e. freeway, expressway, arterial, boulevard, suburban, urban, residential, parking lot, etc.), whether the lane segment corresponds to a construction area, the amount of time to reach the destination from the lane segment, etc. Because there will be significant overlap between regions for many of the cost values, this information may be stored in local cache for quick retrieval.
- the cost values may then be provided to the planner system in order to determine how to maneuver the vehicle.
- the vehicle's computing devices may determine the lowest cost set of segments that lead out of local region. With regard to the amount of time to reach the destination, the computing devices may attempt to minimize the cost to get from the vehicle's current or future location to a edge of the local region. In addition, the computing devices may also consider the cost of going from the various lane segments at the edges of the local region to the destination, and use this as a factor when identifying which paths within the local region should be used.
- the 18 minute difference may be used to inform the computing devices which paths within the local region are preferred (have lower costs) over others.
- the result may be used to plan how to control the vehicle for a brief period into the future, for instance, the next 10 seconds or more or less.
- the planner system will determine a new plan several times per second, many of the cost values may simply be stored and retrieved from the local cache within the vehicle's computing devices. Those that are likely to change when the vehicle moves within local region (such as those relating to the time to destination, etc.) may be recalculated as needed. In addition, all or less than all of the cost values may be recalculated when a new local region local region is calculated.
- FIGS. 11-14 provide examples of such scenarios.
- FIG. 11 is an example of weaving around a slow moving or stopped vehicle where continuing straight would be less optimal than turning, but still an option.
- vehicle 100 is moving towards intersection 624 .
- Vehicle 1100 is also approaching intersection 624 and is in the same lane as vehicle 100 .
- vehicle 1100 may be a slow moving or stopped vehicle.
- a subset of the lane segments of FIG. 2B are depicted in solid black, solid gray, or dashed lines.
- the solid black lane segments (such as line segments 1120 , 1122 , 1124 ) represent lane segments having lower cost values. In this regard, these solid black lane segments may actually correspond to the route that the vehicle is following to a destination (not shown) which includes the vehicle making a right turn at intersection 624 .
- the solid gray lane segments (such as lane segments 1130 , 1132 , 1134 ) represent lane segments having higher cost values than the solid black line segments.
- the dashed line lane segments (such as lane segments 1140 , 1142 , 1144 ) represent lane segments associated with no-go regions (as is shown in FIG.
- the computing devices are able to control the vehicle 100 to maneuver around vehicle 1100 and through the intersection 624 without actually making a right turn at the intersection.
- the computing devices 110 would likely not use the dashed line lane segments given the high cost values.
- FIG. 12 is an example of weaving around a slow moving or stopped vehicle where continuing straight is not an option.
- vehicle 100 is moving towards intersection 624 .
- Vehicle 1200 is also approaching intersection 624 and is in the same lane as vehicle 100 .
- vehicle 1200 may be a slow moving or stopped vehicle.
- a subset of the lane segments of FIG. 2B are depicted in solid black, solid gray, or dashed lines.
- the solid black lane segments (such as line segments 1220 , 1222 , 1224 ) represent lane segments having lower cost values. In this regard, these solid black lane segments may actually correspond to the route that the vehicle is following to a destination (not shown) which includes the vehicle making a right turn at intersection 620 .
- the solid gray lane segments (such as lane segments 1230 , 1232 , 1234 ) represent lane segments having higher cost values than the solid black line segments.
- the dashed line lane segments (such as lane segments 1240 , 1242 ) represent lane segments associated with no-go regions (as is shown in FIG.
- the computing devices are able to control the vehicle 100 to maneuver around vehicle 1200 but not through the intersection 620 .
- the computing devices would not use line segments 1240 and 1242 .
- the vehicle 100 would be prevented from continuing through the intersection 620 without making a right turn.
- the computing devices 110 are able to made decisions about whether to drive in a particular lane. For instance, on busy roads it may be necessary to try to avoid driving in the right lane, while avoiding the left lane may also be important for safety reasons such as in the example of FIG. 13 .
- vehicle 100 is moving towards intersection 622 .
- a subset of the lane segments of FIG. 2B are depicted in solid black, solid gray, or dashed lines.
- the solid black lane segments (such as line segments 1320 , 1322 , 1324 ) represent lane segments having lower cost values. In this regard, these solid black lane segments may actually correspond to the route that the vehicle is following to a destination (not shown) which includes the vehicle moving through intersection 622 .
- the solid gray lane segments represent lane segments having higher cost values than the solid black line segments.
- the dashed line lane segments represent lane segments associated with no-go regions (as is shown in FIG. 2B ) or that simply have higher cost values than the solid gray lane segments. Of course, only a subset of the lane segments of FIG. 2B are depicted for clarity and simplicity.
- the computing devices are able to control the vehicle 100 to maneuver vehicle on any of lane segments 1320 , 1322 , 1324 , 1330 , 1332 , and 1334 (the right or middle lanes) with a preference for lane segments 1320 , 1322 , and 1324 (the middle lane) due to the lower cost values.
- the computing devices would not use line segments 1340 , 1342 and 1344 (the left lane).
- the vehicle 100 would be prevented from driving in the left lane, while being permitted to drive in the middle or right lanes.
- the cost values may also allow the vehicle's computing devices to identify forced lane changes in one direction (as in the example of FIG. 12 ) or multiple directions.
- FIG. 14 depicts a forced lane change, but includes two options (a right turn or a left turn/U-turn).
- vehicle 100 is moving towards intersection 622 .
- a subset of the lane segments of FIG. 2B are depicted in solid black, solid gray, or dashed lines.
- the solid black lane segments (such as line segments 1320 , 1322 , 1324 ) represent lane segments having lower cost values. In this regard, these solid black lane segments may actually correspond to the route that the vehicle is following to a destination (not shown) which includes the vehicle moving through intersection 622 and making a right turn.
- the solid gray lane segments represent lane segments having higher cost values than the solid black line segments and in this example, correspond to the vehicle moving through intersection 622 and making a left turn or U-turn at intersection 622 .
- the dashed line lane segments represent lane segments associated with no-go regions (as is shown in FIG. 2B ) or that simply have higher cost values than the solid gray lane segments. Of course, only a subset of the lane segments of FIG. 2B are depicted for clarity and simplicity.
- the computing devices are able to control the vehicle 100 to maneuver vehicle on any of lane segments 1320 , 1322 , 1324 , 1330 , 1332 , and 1334 (the right or middle lanes) with a preference for lane segments 1320 , 1322 , and 1324 (the right lane) due to the lower cost values.
- the computing devices would not use line segments 1340 , 1342 and 1344 (the left lane).
- line segments 1340 , 1342 and 1344 would prevent the vehicle from proceeding through the intersection in the right middle or left lane.
- line segments 1340 , 1342 and 1344 would force the computing devices 110 to control the vehicle 100 to make either a right turn (following segments 1322 and 1324 ) or the left turn/U-turn (following segments 1432 and 1434 ) at intersection 622 .
- FIG. 15 is an example flow diagram 1500 in accordance which may be performed by one or more processors of one or more computing devices of a vehicle, such as computing devices 110 of vehicle 100 in order to maneuver the vehicle 100 in an autonomous driving mode.
- a route for a trip from a first location to a destination is generated using map information at block 1510 .
- the map information includes roadway segments defining the shape and location of roadways and identifies a plurality of no-go roadway segments defining roadway segments where the vehicle is not able to drive in the autonomous mode.
- a set of no-go roadway segments relevant to the route from the plurality of no-go roadway segments is identified from the map information at block 1520 .
- a local region around a current location of the vehicle is determined at block 1530 .
- a local map region including roadway segments of the map information that correspond to locations within the local region is determined at block 1540 .
- the set of the plurality of no-go roadway segments is filtered from the roadway segments of the local map region at block 1550 .
- a cost value is assigned to each roadway segment of the filtered roadway segments of the local map region at block 1560 . Any assigned cost values are used to determining a plan for maneuvering the vehicle for a predetermined period into the future at block 1570 .
- the vehicle is maneuvered according to the plan at block 1580 .
Abstract
Description
- The present application is a continuation of U.S. patent application Ser. No. 15/355,658, filed Nov. 18, 2016, the disclosure of which is incorporated herein by reference.
- Autonomous vehicles, such as vehicles that do not require a human driver, can be used to aid in the transport of passengers or items from one location to another. Such vehicles may operate in a fully autonomous mode where passengers may provide some initial input, such as a pickup or destination location, and the vehicle maneuvers itself to that location.
- Such vehicles are typically equipped with various types of sensors in order to detect objects in the surroundings. For example, autonomous vehicles may include lasers, sonar, radar, cameras, and other devices which scan and record data from the vehicle's surroundings. Sensor data from one or more of these devices may be used to detect objects and their respective characteristics (position, shape, heading, speed, etc.). These characteristics can be used to predict what an object is likely to do for some brief period into the future which can be used to control the vehicle in order to avoid these objects. Thus, detection, identification, and prediction are critical functions for the safe operation of autonomous vehicle.
- In addition to using sensors, these vehicles may rely on highly detailed maps of their environment. These maps are critical for both navigation, for instance determining how to get between two locations) as well as localization (determining where the vehicle is in the world.
- Aspects of the disclosure provide a method for maneuvering a vehicle. The method includes generating, by one or more processors, a route for a trip from a first location to a destination using map information, the map information including roadway segments defining the shape and location of roadways, the map information also identifying at least one no-go roadway segment defining roadway segments where the vehicle is not able to drive in an autonomous mode; identifying, by the one or more processors, from the map information, a set of no-go roadway segments relevant to the route from the plurality of no-go roadway segments; determining, by the one or more processors, a local region around a current location of the vehicle; identifying, by the one or more processors, a local map region including roadway segments of the map information that correspond to locations within the local region; filtering, by the one or more processors, the set of the plurality of no-go roadway segments from the roadway segments of the local map region; assigning, by the one or more processors, a cost value to each roadway segment of the filtered roadway segments of the local map region; using, by the one or more processors, any assigned cost values to determining a plan for maneuvering the vehicle for a predetermined period of time into the future; and maneuvering, by the one or more processors, the vehicle according to the plan.
- In one example, the method also includes identifying at least one additional no-go roadway segment which would not allow the vehicle to reach the destination using a graph walk starting from the destination, and the set of no-go roadway segments includes the at least one no-go roadway segment as well as at least one additional roadway segment. In another example, the local map region is identified by performing a graph cut on the map information. In another example, the local region corresponds to an area that the vehicle could reach from the current location of the vehicle within a second pre-determined period of time into the future. In another example, the local region is determined periodically and the set of no-go roadway segments are identified only once for the trip. In another example, a cost value is assigned to a roadway segment of the filtered roadway segments of the local map region based on a construction area corresponding to the roadway segment. In another example, a cost value is assigned to a roadway segment of the filtered roadway segments of the local map region based on an unprotected left turn corresponding to the roadway segment. In another example, a cost value is assigned to a roadway segment of the filtered roadway segments of the local map region based on a time to reach the destination from the roadway segment. In another example, the method also includes storing at least one assigned cost value in a local cache; determining a second local region at least partially overlapping with the local region; identify a second local map region including roadway segments of the map information that correspond to locations within the second local region; filter the set of the plurality of no-go roadway segments from the roadway segments of the second local map region; assigning a cost value to each roadway segment of the filtered roadway segments of the second local map region by retrieving the at least one assigned cost value from the local cache; using any assigned cost values for each roadway segment of the filtered roadway segments of the second local map region to determining a second plan for maneuvering the vehicle for a second predetermined period into the future; and maneuvering the vehicle according to the second plan. In another example, the plan includes a set of connected roadway segments of the filtered roadway segments of the local map region that lead out of the local region and have a lowest accumulation of cost values. In another example, determining the plan includes determining whether a lane change for the vehicle should be forced. In another example, determining the plan includes determining whether a turn should be executed to move the vehicle between two lane roadway segments. In another example, determining the plan includes identifying a secondary path when a primary path corresponding to the roadway segments of the route is not available.
- Another aspect of the disclosure provides a system for maneuvering a vehicle. The system includes one or more processors configured to generate a route for a trip from a first location to a destination using map information, the map information including roadway segments defining the shape and location of roadways, the map information also identifying a plurality of no-go roadway segments defining roadway segments where the vehicle is not able to drive in an autonomous mode; identify a set of no-go roadway segments relevant to the route from the plurality of no-go roadway segments; determine a local region around a current location of the vehicle; identify a local map region including roadway segments of the map information that correspond to locations within the local region; filter the set of the plurality of no-go roadway segments from the roadway segments of the local map region; assign a cost value to each roadway segment of the filtered roadway segments of the local map region; use any assigned cost values to determining a plan for maneuvering the vehicle for a predetermined period into the future; and maneuver the vehicle according to the plan.
- In one example, the one or more processors are further configured to identify at least one additional no-go roadway segment which would not allow the vehicle to reach the destination using a graph walk starting from the, and the set of no-go roadway segments includes the at least one no-go roadway segment as well as the at least one additional roadway segment. In another example, the local region is determined periodically and the set of no-go roadway segments are identified only once for the trip. In another example, a cost value is assigned to a roadway segment of the filtered roadway segments of the local map region based on a construction area corresponding to the roadway segment. In another example, a cost value is assigned to a roadway segment of the filtered roadway segments of the local map region based on an unprotected left turn corresponding to the roadway segment. In another example, a cost value is assigned to a roadway segment of the filtered roadway segments of the local map region based on a time to reach the destination from the roadway segment.
- A further aspect of the disclosure provides a non-transitory, computer readable medium on which instructions are stored. The instructions, when performed by one or more processors, cause the one or more processors to perform a method for maneuvering a vehicle. The method includes generating a route for a trip from a first location to a destination using map information, the map information including roadway segments defining the shape and location of roadways, the map information also identifying a plurality of no-go roadway segments defining roadway segments where the vehicle is not able to drive in an autonomous mode; identifying a set of no-go roadway segments relevant to the route from the plurality of no-go roadway segments; determining a local region around a current location of the vehicle; identifying a local map region including roadway segments of the map information that correspond to locations within the local region; filtering the set of the plurality of no-go roadway segments from the roadway segments of the local map region; assigning a cost value to each roadway segment of the filtered roadway segments of the local map region; using any assigned cost values to determining a plan for maneuvering the vehicle for a predetermined period into the future; and maneuvering the vehicle according to the plan.
-
FIG. 1 is a functional diagram of an example vehicle in accordance with aspects of the disclosure. -
FIGS. 2A and 2B are diagrams of map information in accordance with aspects of the disclosure. -
FIGS. 3A-3D are example external views of a vehicle in accordance with aspects of the disclosure. -
FIG. 4 is a pictorial diagram of a system in accordance with aspects of the disclosure. -
FIG. 5 is a functional diagram of the system ofFIG. 4 in accordance with aspects of the disclosure. -
FIGS. 6-14 are views of a section of roadway and data in accordance with aspects of the disclosure. -
FIG. 15 is a flow diagram in accordance with aspects of the disclosure. - The technology relates to planning a route for an autonomous vehicle. For example, an autonomous vehicle may be controlled by a computing system that includes both a routing or navigation system for generating a route to a destination (in other words the long-term planning) and a planning system for generating a path along the route (in other words the short-term planning). The routing system determines a route by referring to a roadgraph and identifying a series of road or lane segments (lane id, start, end) that connect the vehicle's current location with the destination location. The planning system then uses this route as a baseline to determine which turns to make, what lanes to be in, etc. in order to reach the destination. By allowing the planning system to generate a path which does not follow the route, the vehicle is able to be controlled in a way that makes it more reactive to the vehicle's current environment.
- In order to generate a route, the routing system must have access to map information. The map information may describe the shape and orientation of road features such as the road surface, lane markers, curbs, crosswalks, etc. As indicated above, roadways may be defined by segments within lanes identified by identifiers, starting points and ending points. By connecting segments together, a route between two locations can be generated. To avoid certain areas, such as those where the vehicle is not able to drive safely (due to speed constraints on the vehicle, a dangerous area, because the segments have not been sufficiently mapped, or other reasons), the map information may include segments on which the vehicle is not able to travel on or “no-go regions.”
- Once a route is identified, all relevant no-go regions for the destination may be identified. A simple graph walk may be used starting from the destination towards the starting location (typically, the current location of the vehicle). Essentially, this assumes that the destination remains constant and identifies all segments which would not get the vehicle to the destination. No other detailed analysis is required at this point, and thus, this determination may be done only once per a destination.
- Using the current location of the vehicle, a local region around the vehicle may be identified. This local region may include some small region behind the vehicle as well as the area in front (in the direction of travel) and around (in the lateral directions from) the vehicle. For instance, the local region may correspond to all areas that the vehicle could possibly reach within some predetermined period of time. This local region may be identified periodically.
- The local region may then be used to perform a simple graph cut, in other words, defining a periphery using to separate a map region from the rest of the map information. Alternatively, segments of the map information may be identified by doing a simple graph walk within the area of the region. Any previously identified no-go regions are then removed from the map region to obtain a filtered map region.
- All remaining segments in in the filtered map region are then assigned a cost value. Costs may be assigned based on a priori knowledge about the vehicle's environment, for instance, from data in the map information. Because there will be significant overlap between regions for many of the cost values, this information may be stored in local cache for quick retrieval.
- The cost values may then be provided to the planner system in order to determine how to maneuver the vehicle. For instance, the vehicle's computing devices may determine the lowest cost set of segments that lead out of the local region. The result may be used to plan how to control the vehicle for a brief period into the future.
- Because the planner system will determine a new plan several times per second, many of the cost values may simply be retrieved from the local cache. Those that are likely to change when the vehicle moves within the local region (such as those relating to the time to destination, etc.) may be recalculated as needed. In addition, all or less than all of the cost values may be recalculated when a new local region is calculated.
- By using the cost values as described above, the vehicle's computing devices may make better informed decisions about whether to weave around or pass a slow moving or stopped object. Thus, the features described herein allow a vehicle's computing devices to make better more well-informed decisions about how to control the vehicle in real time. For instance, the routing system can determine whether a lane change should be forced, if a multi-point turn should be executed to move between two lane segments, or if a secondary path should be used if the primary path is not available. This greatly improves and increases the vehicle's available responses to immediate environmental conditions, allowing the planner system to quickly and efficiently find the best path to the destination. In addition, by limiting the cost value calculations in this way and only identifying all the relevant no-go regions once per destination, this dramatically increases the efficiency of the routing and planning systems described above.
- As shown in
FIG. 1 , avehicle 100 in accordance with one aspect of the disclosure includes various components. While certain aspects of the disclosure are particularly useful in connection with specific types of vehicles, the vehicle may be any type of vehicle including, but not limited to, cars, trucks, motorcycles, busses, recreational vehicles, etc. The vehicle may have one or more computing devices, such ascomputing devices 110 containing one ormore processors 120,memory 130 and other components typically present in general purpose computing devices. - The
memory 130 stores information accessible by the one ormore processors 120, includinginstructions 132 anddata 134 that may be executed or otherwise used by theprocessor 120. Thememory 130 may be of any type capable of storing information accessible by the processor, including a computing device-readable medium, or other medium that stores data that may be read with the aid of an electronic device, such as a hard-drive, memory card, ROM, RAM, DVD or other optical disks, as well as other write-capable and read-only memories. Systems and methods may include different combinations of the foregoing, whereby different portions of the instructions and data are stored on different types of media. - The
instructions 132 may be any set of instructions to be executed directly (such as machine code) or indirectly (such as scripts) by the processor. For example, the instructions may be stored as computing device code on the computing device-readable medium. In that regard, the terms “instructions” and “programs” may be used interchangeably herein. The instructions may be stored in object code format for direct processing by the processor, or in any other computing device language including scripts or collections of independent source code modules that are interpreted on demand or compiled in advance. Functions, methods and routines of the instructions are explained in more detail below. - The
data 134 may be retrieved, stored or modified byprocessor 120 in accordance with theinstructions 132. For instance, although the claimed subject matter is not limited by any particular data structure, the data may be stored in computing device registers, in a relational database as a table having a plurality of different fields and records, XML documents or flat files. The data may also be formatted in any computing device-readable format. - The one or
more processor 120 may be any conventional processors, such as commercially available CPUs. Alternatively, the one or more processors may be a dedicated device such as an ASIC or other hardware-based processor. AlthoughFIG. 1 functionally illustrates the processor, memory, and other elements ofcomputing devices 110 as being within the same block, it will be understood by those of ordinary skill in the art that the processor, computing device, or memory may actually include multiple processors, computing devices, or memories that may or may not be stored within the same physical housing. For example, memory may be a hard drive or other storage media located in a housing different from that ofcomputing devices 110. Accordingly, references to a processor or computing device will be understood to include references to a collection of processors or computing devices or memories that may or may not operate in parallel. -
Computing devices 110 may include all of the components normally used in connection with a computing device such as the processor and memory described above as well as a user input 150 (e.g., a mouse, keyboard, touch screen and/or microphone) and various electronic displays (e.g., a monitor having a screen or any other electrical device that is operable to display information). In this example, the vehicle includes an internalelectronic display 152 as well as one ormore speakers 154 to provide information or audio visual experiences. In this regard, internalelectronic display 152 may be located within a cabin ofvehicle 100 and may be used by computingdevices 110 to provide information to passengers within thevehicle 100. -
Computing devices 110 may also include one or morewireless network connections 156 to facilitate communication with other computing devices, such as the client computing devices and server computing devices described in detail below. The wireless network connections may include short range communication protocols such as Bluetooth, Bluetooth low energy (LE), cellular connections, as well as various configurations and protocols including the Internet, World Wide Web, intranets, virtual private networks, wide area networks, local networks, private networks using communication protocols proprietary to one or more companies, Ethernet, WiFi and HTTP, and various combinations of the foregoing. - In one example,
computing devices 110 may be an autonomous driving computing system incorporated intovehicle 100. The autonomous driving computing system may capable of communicating with various components of the vehicle. For example, returning toFIG. 1 ,computing devices 110 may be in communication with various systems ofvehicle 100, such asdeceleration system 160,acceleration system 162,steering system 164, signalingsystem 166,routing system 168,positioning system 170, andperception system 172 in order to control the movement, speed, etc. ofvehicle 100 in accordance with theinstructions 132 ofmemory 130. Again, although these systems are shown as external tocomputing devices 110, in actuality, these systems may also be incorporated intocomputing devices 110, again as an autonomous driving computing system for controllingvehicle 100. - As an example,
computing devices 110 may interact withdeceleration system 160 andacceleration system 162 in order to control the speed of the vehicle. Similarly,steering system 164 may be used by computingdevices 110 in order to control the direction ofvehicle 100. For example, ifvehicle 100 is configured for use on a road, such as a car or truck, the steering system may include components to control the angle of wheels to turn the vehicle.Signaling system 166 may be used by computingdevices 110 in order to signal the vehicle's intent to other drivers or vehicles, for example, by lighting turn signals or brake lights when needed. -
Routing system 168 may be used by computingdevices 110 in order to determine and follow a route to a location. In this regard, therouting system 168 and/ordata 134 may store detailed map information, e.g., highly detailed maps identifying the shape and elevation of roadways, lane lines, intersections, crosswalks, speed limits, traffic signals, buildings, signs, real time traffic information, vegetation, or other such objects and information. In other words, this detailed map information may define the geometry of vehicle's expected environment including roadways as well as speed restrictions (legal speed limits) for those roadways. In addition, this map information may include information regarding traffic controls, such as traffic signal lights, stop signs, yield signs, etc., which, in conjunction with real time information received from theperception system 172, can be used by thecomputing devices 110 to determine which directions of traffic have the right of way at a given location. -
FIGS. 2A and 2B is an example of map information for a section ofroadway including intersections FIG. 2A depicts a portion of the map information that includes information identifying the shape, location, and other characteristics of lane marks orlane lines traffic signals stop lines computing devices 110 to determine whether the vehicle has the right of way to complete a particular maneuver (i.e. complete a turn or cross a lane of traffic or intersection). - In addition to the feature information, the map information may include a series of road or lane segments. Each lane segment is defined by a starting point, an ending point, and an identifier. For instance,
FIG. 2B depicts most of the information ofFIG. 2A with the addition of a plurality of lane segments, including for example,lane segments FIG. 2B depicts these starting and ending points as open circles, such asopen circles circle 260 represents a starting point forlane segment 270, andcircle 262 represents an ending point forsegment 270. Similarly,circle 262 represents a starting point forlane segment 272, andcircle 264 represents an ending point forlane segment 272. In addition,circle 264 represents a starting point forlane segment 274, andcircle 266 represents an ending point forlane segment 274. Although not shown, each of these lane segments may be associated with an identifier, for instance, a numeric value corresponding to a relative or actual location of the lane segment. - The map information may also identify additional information about the segments. For example, as shown in
FIG. 2B ,lane segments lane segments lane segment 274 is shown in dashed line to indicate that lane segment corresponds to a no-go region where the vehicle is not able to travel. This may include, for instance, areas of known construction, congested areas, lanes that lead to entrance ramps for highways (for instance, where the vehicle is not permitted to drive on the highway or at such high speeds), lanes that lead to areas that are not sufficiently mapped (i.e. not sufficiently described in the map information), or other reasons etc. Of course, though many solid lane segments (available for the vehicle to drive autonomously) and dashed lane segments (no-go regions) are depicted, only a few are referenced for clarity and simplicity. - Although the map information is depicted herein as an image-based map, the map information need not be entirely image based (for example, raster). For example, the map information may include one or more roadgraphs or graph networks of information such as roads, lanes, intersections, and the connections between these features. Each feature may be stored as graph data and may be associated with information such as a geographic location and whether or not it is linked to other related features, for example, a stop sign may be linked to a road and an intersection, etc. In some examples, the associated data may include grid-based indices of a roadgraph to allow for efficient lookup of certain roadgraph features.
-
Positioning system 170 may be used by computingdevices 110 in order to determine the vehicle's relative or absolute position on a map or on the earth. For example, theposition system 170 may include a GPS receiver to determine the device's latitude, longitude and/or altitude position. Other location systems such as laser-based localization systems, inertial-aided GPS, or camera-based localization may also be used to identify the location of the vehicle. The location of the vehicle may include an absolute geographical location, such as latitude, longitude, and altitude as well as relative location information, such as location relative to other cars immediately around it which can often be determined with less noise than absolute geographical location. - The
positioning system 170 may also include other devices in communication withcomputing devices 110, such as an accelerometer, gyroscope or another direction/speed detection device to determine the direction and speed of the vehicle or changes thereto. By way of example only, an acceleration device may determine its pitch, yaw or roll (or changes thereto) relative to the direction of gravity or a plane perpendicular thereto. The device may also track increases or decreases in speed and the direction of such changes. The device's provision of location and orientation data as set forth herein may be provided automatically to thecomputing devices 110, other computing devices and combinations of the foregoing. - The
perception system 172 also includes one or more components for detecting objects external to the vehicle such as other vehicles, obstacles in the roadway, traffic signals, signs, trees, etc. For example, theperception system 172 may include lasers, sonar, radar, cameras and/or any other detection devices that record data which may be processed by computingdevices 110. In the case where the vehicle is a small passenger vehicle such as a car, the car may include a laser or other sensors mounted on the roof or other convenient location. For instance, a vehicle's perception system may use various sensors, such as LIDAR, sonar, radar, cameras, etc. to detect objects and their characteristics such as location, orientation, size, shape, type, direction and speed of movement, etc. The raw data from the sensors and/or the aforementioned characteristics can be quantified or arranged into a descriptive function or vector for processing by thecomputing devices 110. As discussed in further detail below,computing devices 110 may use thepositioning system 170 to determine the vehicle's location andperception system 172 to detect and respond to objects when needed to reach the location safely. -
FIGS. 3A-3D are examples of external views ofvehicle 100. As can be seen,vehicle 100 includes many features of a typical vehicle such asheadlights 302,windshield 303, taillights/turn signal lights 304,rear windshield 305,doors 306, side view mirrors 308, tires andwheels 310, and turn signal/parking lights 312.Headlights 302, taillights/turn signal lights 304, and turn signal/parking lights 312 may be associated with thesignaling system 166.Light bar 307 may also be associated with thesignaling system 166. -
Vehicle 100 also includes sensors of theperception system 172. For example,housing 314 may include one or more laser devices for having 360 degree or narrower fields of view and one or more camera devices.Housings perception system 172 may also be incorporated into the typical vehicle components, such as taillights/turn signal lights 304 and/or side view mirrors 308. Each of these radar, camera, and lasers devices may be associated with processing components which process data from these devices as part of theperception system 172 and provide sensor data to thecomputing devices 110. -
Data 134 may store various behavior-time models for predicting an object's future behavior for a pre-determined period of time, such as the next 10 seconds or more or less. In one example, the behavior-time models may be configured to use data for an object received from theperception system 172, and in particular another road user, including the road user's characteristics as well as additional contextual information discussed in further detail below. As an example, given the location, heading, speed, and other characteristics included in the data from theperception system 172, the behavior-time models may provide a set of one or more predictions for how the object could behave for the predetermined period of time as well as a corresponding likelihood value for each prediction. The predictions may include a trajectory, for instance, defining a set of future locations where the object is expected to be at various times in the future corresponding to the predetermined period of time. The likelihood values may indicate which of the predictions are more likely to occur (relative to one another). In this regard, the prediction with the greatest likelihood value may be the most likely to occur whereas predictions with lower likelihood values may be less likely to occur. - Thus, the behavior-time models may be configured to generate a set of possible hypotheses for what a particular road user will do over a particular horizon or predetermined period of time (e.g. 10 seconds) and relative likelihoods for each hypothesis. These models may be trained using data about how an object observed at that location behaved in the past, intuition, etc., and may also be specifically designated for particular types of objects, such as vehicles, pedestrians, motorcycles, bicyclists, etc. The
computing devices 110 can then reason about hypotheses that interact with the vehicle's trajectory and are of a sufficient likelihood to be worth considering. - The
computing devices 110 may control the direction and speed of the vehicle by controlling various components. By way of example,computing devices 110 may navigate the vehicle to a destination location completely autonomously using data from the detailed map information,perception system 172, androuting system 168. In order to maneuver the vehicle,computing devices 110 may cause the vehicle to accelerate (e.g., by increasing fuel or other energy provided to the engine by acceleration system 162), decelerate (e.g., by decreasing the fuel supplied to the engine, changing gears, and/or by applying brakes by deceleration system 160), change direction (e.g., by turning the front or rear wheels ofvehicle 100 by steering system 164), and signal such changes (e.g., by lighting turn signals of signaling system 166). Thus, theacceleration system 162 anddeceleration system 160 may be a part of a drivetrain that includes various components between an engine of the vehicle and the wheels of the vehicle. Again, by controlling these systems,computing devices 110 may also control the drivetrain of the vehicle in order to maneuver the vehicle autonomously. - The one or
more computing devices 110 ofvehicle 100 may also receive or transfer information to and from other computing devices.FIGS. 4 and 5 are pictorial and functional diagrams, respectively, of anexample system 400 that includes a plurality ofcomputing devices storage system 450 connected via anetwork 460.System 400 also includesvehicle 100, andvehicle 100A which may be configured similarly tovehicle 100. Although only a few vehicles and computing devices are depicted for simplicity, a typical system may include significantly more. - As shown in
FIG. 4 , each ofcomputing devices more processors 120,memory 130,data 134, andinstructions 132 ofcomputing devices 110. - The
network 460, and intervening nodes, may include various configurations and protocols including short range communication protocols such as Bluetooth, Bluetooth LE, the Internet, World Wide Web, intranets, virtual private networks, wide area networks, local networks, private networks using communication protocols proprietary to one or more companies, Ethernet, WiFi and HTTP, and various combinations of the foregoing. Such communication may be facilitated by any device capable of transmitting data to and from other computing devices, such as modems and wireless interfaces. - In one example, one or
more computing devices 410 may include a server having a plurality of computing devices, e.g., a load balanced server farm, that exchange information with different nodes of a network for the purpose of receiving, processing and transmitting the data to and from other computing devices. For instance, one ormore computing devices 410 may include one or more server computing devices that are capable of communicating with one ormore computing devices 110 ofvehicle 100 or a similar computing device ofvehicle 100A as well asclient computing devices network 460. For example,vehicles - In addition,
server computing devices 410 may usenetwork 460 to transmit and present information to a user, such asuser displays computing devices computing devices - As shown in
FIG. 5 , eachclient computing device user displays - Although the
client computing devices client computing device 420 may be a mobile phone or a device such as a wireless-enabled PDA, a tablet PC, a wearable computing device or system, laptop, or a netbook that is capable of obtaining information via the Internet or other networks. In another example,client computing device 430 may be a wearable computing device, such as a “smart watch” as shown inFIG. 4 . As an example the user may input information using a keyboard, a keypad, a multi-function input button, a microphone, visual signals (for instance, hand or other gestures) with a camera or other sensors, a touch screen, etc. - In some examples,
client computing device 440 may be a concierge work station used by an administrator to provide concierge services to users such asusers user 442 may be a concierge that usesconcierge work station 440 to communicate via a telephone call or audio connection with users through their respective client computing devices orvehicles vehicles concierge work station 440 is shown inFIGS. 4 and 5 , any number of such work stations may be included in a typical system. -
Storage system 450 may store various types of information. This information may be retrieved or otherwise accessed by a server computing device, such as one or moreserver computing devices 410, in order to perform some or all of the features described herein. For example, the information may include user account information such as credentials (e.g., a user name and password as in the case of a traditional single-factor authentication as well as other types of credentials typically used in multi-factor authentications such as random identifiers, biometrics, etc.) that can be used to identify a user to the one or more server computing devices. The user account information may also include personal information such as the user's name, contact information, identifying information of the user's client computing device (or devices if multiple devices are used with the same user account), as well as one or more unique signals for the user. - As with
memory 130,storage system 450 can be of any type of computerized storage capable of storing information accessible by theserver computing devices 410, such as a hard-drive, memory card, ROM, RAM, DVD, CD-ROM, write-capable, and read-only memories. In addition,storage system 450 may include a distributed storage system where data is stored on a plurality of different storage devices which may be physically located at the same or different geographic locations.Storage system 450 may be connected to the computing devices via thenetwork 460 as shown inFIG. 4 and/or may be directly connected to or incorporated into any of thecomputing devices - In addition to the operations described above and illustrated in the figures, various operations will now be described. It should be understood that the following operations do not have to be performed in the precise order described below. Rather, various steps can be handled in a different order or simultaneously, and steps may also be added or omitted.
- In one aspect, a user may download an application for requesting a vehicle to a client computing device. For example,
users client computing devices server computing devices 410, and in response, receive the application. The application may be installed locally at the client computing device. - The user may then use his or her client computing device to access the application and request a vehicle. As an example, a user such as
user 432 may useclient computing device 430 to send a request to one or moreserver computing devices 410 for a vehicle. The request may include information identifying a pickup location or area and/or a destination location or area. In response the one or moreserver computing devices 410 may identify and dispatch, for example based on availability and location, a vehicle to the pickup location. This dispatching may involve sending information to the vehicle identifying the user (and/or the user's client device) in order to assign the vehicle to the user (and/or the user's client computing device), the pickup location, and the destination location or area. - Once the
vehicle 100 receives the information dispatching the vehicle, the vehicle's one ormore computing devices 110 may maneuver the vehicle to the pickup location using the various features described above. Once the user, now passenger, is safely in the vehicle, thecomputing devices 110 may initiate the necessary systems to control the vehicle autonomously along a route to the destination location. For instance, thenavigation system 168 may use the map information ofdata 134 to determine a path or route to the destination location that follows a set of the lane segments of map information. Thecomputing devices 110 may then maneuver the vehicle autonomously (or in an autonomous driving mode) as described above along the route towards the destination. -
FIG. 6 is an example view of a section of roadway corresponding to the section of roadway defined in the map information ofFIGS. 2A and 2B . For instance,FIG. 6 depictsintersections intersections lane lines lane lines traffic signals traffic signals sign 240, and stoplines lines - By connecting lane segments together, the
routing system 168 may generate a route between two locations. For instance,FIG. 6 depicts aroute 660 between amarker 670 representing a starting location (i.e. a starting location of the vehicle 100) and amarker 672 representing a destination location. As can be seen,route 660 includes a plurality of lane segments of the map information ofFIG. 2B strung together between the starting location and the destination location. Of course, such routes do not include any lane segments identified as no-go regions in the map information. - Once a route is identified, all relevant no-go regions for the destination location may be identified. A simple graph walk may be used starting from the destination towards the starting location. Essentially, this assumes that the destination remains constant and identifies all segments which would not get the vehicle to the destination. For example, assuming the destination represented by
marker 672 remains constant,FIG. 7 depicts all of the no-go regions (the lane segments depicted in dashed line) from the map information ofFIG. 2B that are within the regions through which theroute 660 passes, includinglane segment 274. In addition,FIG. 7 depicts additional no-go regions corresponding to theline segments - Using the current location of the vehicle, a local region may be identified. This local region may include some small region behind the vehicle as well as the area in front (in the direction of travel) and around (in the lateral directions from) the vehicle. For instance, the local region may correspond to all areas that the vehicle could possibly reach within some predetermined period of time, such as the next 45 seconds or more or less, as well as the last 10 seconds or more or less where the vehicle just was.
FIG. 8 depictsvehicle 100 at the starting location of marker 670 (not shown) with the map information ofFIGS. 2A and 2B .Local region 800 represents an area covering the lane segments that thevehicle 100 could reach within the predetermined period of time. This local region may be identified periodically, for instance every 2-3 seconds or more or less. - The local region is then used to perform a simple graph cut, in other words, defining a periphery using the local region to separate a map region from the rest of the map information. For example, a graph cut of the
local region 800 would result in themap region 900 as shown inFIG. 9 . This identifies all of the lane segments within the map region. Alternatively, segments of the map information may be identified by doing a simple graph walk within the area of the region. - Any previously identified no-go regions (from the map information as well as any additional no-go regions identified based on the destination location) are then removed from the map region to provide obtain a filtered map region. For example, filtering the previously identified no-go regions (lane segments shown in dashed line) depicted in
FIG. 7 from themap region 900 would result in the filtered map region 1000 ofFIG. 10 . - All remaining lane segments in filtered map region are then assigned a cost value. Costs may be assigned based on a priori knowledge of the vehicle's environment. For instance, costs may be assigned to each lane segment based on whether the lane segment requires the
vehicle 100 to merge into a new lane, whether the lane segment requires another vehicle has to merge into a new lane, whether the lane segment is a rightmost lane in a busy commercial area (i.e. with heavy street parking, vehicles moving or backing out of spots, pedestrian traffic), whether the lane segment is a rightmost lane with an active driveway or driveways (i.e. are other vehicles attempting to leave the driveway or driveways), whether the lane segment corresponds to a narrow road, whether the lane segment corresponds to a road that has been narrowed by habitually having lots of vehicles parked on one or both sides, whether the lane segment would require the vehicle to make a particular type of turn (i.e a protected left turn, a left turn at a four-way stop, a left turn at an uncontrolled intersection, an unprotected left turn, etc.), whether the lane segment corresponds to a road having a particular classification (i.e. freeway, expressway, arterial, boulevard, suburban, urban, residential, parking lot, etc.), whether the lane segment corresponds to a construction area, the amount of time to reach the destination from the lane segment, etc. Because there will be significant overlap between regions for many of the cost values, this information may be stored in local cache for quick retrieval. - The cost values may then be provided to the planner system in order to determine how to maneuver the vehicle. For example, the vehicle's computing devices may determine the lowest cost set of segments that lead out of local region. With regard to the amount of time to reach the destination, the computing devices may attempt to minimize the cost to get from the vehicle's current or future location to a edge of the local region. In addition, the computing devices may also consider the cost of going from the various lane segments at the edges of the local region to the destination, and use this as a factor when identifying which paths within the local region should be used. For instance, if there are two exits from a local region; one of which is 2 minutes from the destination and the other of which is 20 minutes from the destination, the 18 minute difference may be used to inform the computing devices which paths within the local region are preferred (have lower costs) over others. The result may be used to plan how to control the vehicle for a brief period into the future, for instance, the next 10 seconds or more or less.
- Because the planner system will determine a new plan several times per second, many of the cost values may simply be stored and retrieved from the local cache within the vehicle's computing devices. Those that are likely to change when the vehicle moves within local region (such as those relating to the time to destination, etc.) may be recalculated as needed. In addition, all or less than all of the cost values may be recalculated when a new local region local region is calculated.
- By using the cost values as described above, the vehicle's computing devices may make better informed decisions about whether to weave around or pass a slow moving or stopped object.
FIGS. 11-14 provide examples of such scenarios.FIG. 11 is an example of weaving around a slow moving or stopped vehicle where continuing straight would be less optimal than turning, but still an option. In this example,vehicle 100 is moving towardsintersection 624.Vehicle 1100 is also approachingintersection 624 and is in the same lane asvehicle 100. As noted above,vehicle 1100 may be a slow moving or stopped vehicle. - A subset of the lane segments of
FIG. 2B are depicted in solid black, solid gray, or dashed lines. The solid black lane segments (such asline segments intersection 624. The solid gray lane segments (such aslane segments lane segments FIG. 2B ) or that simply have higher cost values than the solid gray lane segments. Of course, only a subset of the lane segments ofFIG. 2B are depicted for clarity and simplicity. In this example, the computing devices are able to control thevehicle 100 to maneuver aroundvehicle 1100 and through theintersection 624 without actually making a right turn at the intersection. Of course, thecomputing devices 110 would likely not use the dashed line lane segments given the high cost values. -
FIG. 12 is an example of weaving around a slow moving or stopped vehicle where continuing straight is not an option. In this example,vehicle 100 is moving towardsintersection 624.Vehicle 1200 is also approachingintersection 624 and is in the same lane asvehicle 100. As noted above,vehicle 1200 may be a slow moving or stopped vehicle. - A subset of the lane segments of
FIG. 2B are depicted in solid black, solid gray, or dashed lines. The solid black lane segments (such asline segments intersection 620. The solid gray lane segments (such aslane segments lane segments 1240, 1242) represent lane segments associated with no-go regions (as is shown inFIG. 2B ) or that simply have higher cost values than the solid gray lane segments. Of course, only a subset of the lane segments ofFIG. 2B are depicted for clarity and simplicity. In this example, the computing devices are able to control thevehicle 100 to maneuver aroundvehicle 1200 but not through theintersection 620. Here, because they represent no-go regions (or alternatively, very high cost values) the computing devices would not useline segments vehicle 100 would be prevented from continuing through theintersection 620 without making a right turn. - Similarly, the
computing devices 110 are able to made decisions about whether to drive in a particular lane. For instance, on busy roads it may be necessary to try to avoid driving in the right lane, while avoiding the left lane may also be important for safety reasons such as in the example ofFIG. 13 . In this example,vehicle 100 is moving towardsintersection 622. A subset of the lane segments ofFIG. 2B are depicted in solid black, solid gray, or dashed lines. The solid black lane segments (such asline segments intersection 622. The solid gray lane segments (such aslane segments lane segments FIG. 2B ) or that simply have higher cost values than the solid gray lane segments. Of course, only a subset of the lane segments ofFIG. 2B are depicted for clarity and simplicity. In this example, the computing devices are able to control thevehicle 100 to maneuver vehicle on any oflane segments lane segments line segments vehicle 100 would be prevented from driving in the left lane, while being permitted to drive in the middle or right lanes. - The cost values may also allow the vehicle's computing devices to identify forced lane changes in one direction (as in the example of
FIG. 12 ) or multiple directions. For example,FIG. 14 depicts a forced lane change, but includes two options (a right turn or a left turn/U-turn). In this example,vehicle 100 is moving towardsintersection 622. A subset of the lane segments ofFIG. 2B are depicted in solid black, solid gray, or dashed lines. The solid black lane segments (such asline segments intersection 622 and making a right turn. The solid gray lane segments (such aslane segments intersection 622 and making a left turn or U-turn atintersection 622. The dashed line lane segments (such aslane segments FIG. 2B ) or that simply have higher cost values than the solid gray lane segments. Of course, only a subset of the lane segments ofFIG. 2B are depicted for clarity and simplicity. In this example, the computing devices are able to control thevehicle 100 to maneuver vehicle on any oflane segments lane segments line segments line segments line segments computing devices 110 to control thevehicle 100 to make either a right turn (followingsegments 1322 and 1324) or the left turn/U-turn (followingsegments 1432 and 1434) atintersection 622. -
FIG. 15 is an example flow diagram 1500 in accordance which may be performed by one or more processors of one or more computing devices of a vehicle, such ascomputing devices 110 ofvehicle 100 in order to maneuver thevehicle 100 in an autonomous driving mode. In this example, a route for a trip from a first location to a destination is generated using map information atblock 1510. The map information includes roadway segments defining the shape and location of roadways and identifies a plurality of no-go roadway segments defining roadway segments where the vehicle is not able to drive in the autonomous mode. A set of no-go roadway segments relevant to the route from the plurality of no-go roadway segments is identified from the map information atblock 1520. A local region around a current location of the vehicle is determined atblock 1530. A local map region including roadway segments of the map information that correspond to locations within the local region is determined atblock 1540. The set of the plurality of no-go roadway segments is filtered from the roadway segments of the local map region atblock 1550. A cost value is assigned to each roadway segment of the filtered roadway segments of the local map region atblock 1560. Any assigned cost values are used to determining a plan for maneuvering the vehicle for a predetermined period into the future atblock 1570. The vehicle is maneuvered according to the plan atblock 1580. - Unless otherwise stated, the foregoing alternative examples are not mutually exclusive, but may be implemented in various combinations to achieve unique advantages. As these and other variations and combinations of the features discussed above can be utilized without departing from the subject matter defined by the claims, the foregoing description of the embodiments should be taken by way of illustration rather than by way of limitation of the subject matter defined by the claims. In addition, the provision of the examples described herein, as well as clauses phrased as “such as,” “including” and the like, should not be interpreted as limiting the subject matter of the claims to the specific examples; rather, the examples are intended to illustrate only one of many possible embodiments. Further, the same reference numbers in different drawings can identify the same or similar elements.
Claims (20)
Priority Applications (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US16/029,922 US10691131B2 (en) | 2016-11-18 | 2018-07-09 | Dynamic routing for autonomous vehicles |
US15/931,012 US11537133B2 (en) | 2016-11-18 | 2020-05-13 | Dynamic routing for autonomous vehicles |
Applications Claiming Priority (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US15/355,658 US10042362B2 (en) | 2016-11-18 | 2016-11-18 | Dynamic routing for autonomous vehicles |
US16/029,922 US10691131B2 (en) | 2016-11-18 | 2018-07-09 | Dynamic routing for autonomous vehicles |
Related Parent Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US15/355,658 Continuation US10042362B2 (en) | 2016-11-18 | 2016-11-18 | Dynamic routing for autonomous vehicles |
Related Child Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US15/931,012 Continuation US11537133B2 (en) | 2016-11-18 | 2020-05-13 | Dynamic routing for autonomous vehicles |
Publications (2)
Publication Number | Publication Date |
---|---|
US20190004527A1 true US20190004527A1 (en) | 2019-01-03 |
US10691131B2 US10691131B2 (en) | 2020-06-23 |
Family
ID=60480463
Family Applications (3)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US15/355,658 Active US10042362B2 (en) | 2016-11-18 | 2016-11-18 | Dynamic routing for autonomous vehicles |
US16/029,922 Active US10691131B2 (en) | 2016-11-18 | 2018-07-09 | Dynamic routing for autonomous vehicles |
US15/931,012 Active 2037-07-30 US11537133B2 (en) | 2016-11-18 | 2020-05-13 | Dynamic routing for autonomous vehicles |
Family Applications Before (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US15/355,658 Active US10042362B2 (en) | 2016-11-18 | 2016-11-18 | Dynamic routing for autonomous vehicles |
Family Applications After (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US15/931,012 Active 2037-07-30 US11537133B2 (en) | 2016-11-18 | 2020-05-13 | Dynamic routing for autonomous vehicles |
Country Status (9)
Country | Link |
---|---|
US (3) | US10042362B2 (en) |
EP (1) | EP3520095B1 (en) |
JP (2) | JP6840240B2 (en) |
KR (2) | KR102222323B1 (en) |
CN (2) | CN110036425B (en) |
AU (2) | AU2017362952B2 (en) |
CA (1) | CA3043211C (en) |
SG (1) | SG10202106031WA (en) |
WO (1) | WO2018093754A1 (en) |
Cited By (4)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
WO2021071943A1 (en) | 2019-10-09 | 2021-04-15 | Argo AI, LLC | Methods and systems for lane changes using a multi-corridor representation of local route regions |
WO2022006873A1 (en) * | 2020-07-10 | 2022-01-13 | Beijing Didi Infinity Technology And Development Co., Ltd. | Vehicle repositioning on mobility-on-demand platforms |
US20220242440A1 (en) * | 2021-01-29 | 2022-08-04 | Argo AI, LLC | Methods and system for generating a lane-level map for an area of interest for navigation of an autonomous vehicle |
US11884293B2 (en) | 2019-01-25 | 2024-01-30 | Uber Technologies, Inc. | Operator assistance for autonomous vehicles |
Families Citing this family (34)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US9321461B1 (en) * | 2014-08-29 | 2016-04-26 | Google Inc. | Change detection using curve alignment |
US10042362B2 (en) | 2016-11-18 | 2018-08-07 | Waymo Llc | Dynamic routing for autonomous vehicles |
US11003183B2 (en) * | 2017-09-13 | 2021-05-11 | Baidu Usa Llc | Driving scene based path planning for autonomous driving vehicles |
US10807599B2 (en) * | 2017-09-18 | 2020-10-20 | Baidu Usa Llc | Driving scenario based lane guidelines for path planning of autonomous driving vehicles |
US10795367B2 (en) * | 2018-01-11 | 2020-10-06 | Uatc, Llc | Mapped driving paths for autonomous vehicle |
US11360482B2 (en) * | 2018-01-29 | 2022-06-14 | Baidu Usa Llc | Method and system for generating reference lines for autonomous driving vehicles using multiple threads |
US11255679B2 (en) * | 2018-04-19 | 2022-02-22 | Uatc, Llc | Global and local navigation for self-driving |
US10982969B2 (en) | 2018-10-23 | 2021-04-20 | Here Global B.V. | Method, apparatus, and computer program product for lane-level route guidance |
US11022457B2 (en) * | 2018-10-23 | 2021-06-01 | Here Global B.V. | Method, apparatus, and computer program product for lane-level route guidance |
US11287818B2 (en) * | 2019-01-23 | 2022-03-29 | Uatc, Llc | Depart constraints implementation in autonomous vehicle routing |
US11161504B2 (en) * | 2019-03-19 | 2021-11-02 | Honda Motor Co., Ltd. | Vehicle control apparatus and method |
JP7210357B2 (en) * | 2019-03-28 | 2023-01-23 | 本田技研工業株式会社 | VEHICLE CONTROL DEVICE, VEHICLE CONTROL METHOD, AND PROGRAM |
US11142214B2 (en) | 2019-08-06 | 2021-10-12 | Bendix Commercial Vehicle Systems Llc | System, controller and method for maintaining an advanced driver assistance system as active |
US11754408B2 (en) * | 2019-10-09 | 2023-09-12 | Argo AI, LLC | Methods and systems for topological planning in autonomous driving |
US20220398873A1 (en) * | 2019-11-06 | 2022-12-15 | Ohio State Innovation Foundation | Systems and methods for vehicle dynamics and powertrain control using multiple horizon optimization |
EP3855121A3 (en) * | 2019-12-30 | 2021-10-27 | Waymo LLC | Kinematic model for autonomous truck routing |
CN111157010B (en) * | 2019-12-31 | 2021-07-30 | 惠州市德赛西威汽车电子股份有限公司 | Map generation method for unmanned driving |
JP2021123178A (en) * | 2020-02-03 | 2021-08-30 | 株式会社デンソー | Path planning device, path planning method, and path planning program |
US11774263B2 (en) * | 2020-03-11 | 2023-10-03 | At&T Intellectual Property I, L.P. | Shared overlay maps |
US11846516B2 (en) * | 2020-03-27 | 2023-12-19 | Transfinder Corporation | Automatically facilitating travel routes based upon travel scenarios |
KR102443401B1 (en) * | 2020-06-29 | 2022-09-15 | 주식회사 라이드플럭스 | Method, apparatus and computer program for generating road network data to automatic driving vehicle |
JP2022025229A (en) * | 2020-07-29 | 2022-02-10 | カワサキモータース株式会社 | Travel route generation system, travel route generation program, and travel route generation method |
JP7287373B2 (en) * | 2020-10-06 | 2023-06-06 | トヨタ自動車株式会社 | MAP GENERATION DEVICE, MAP GENERATION METHOD AND MAP GENERATION COMPUTER PROGRAM |
JP7442424B2 (en) * | 2020-11-05 | 2024-03-04 | 株式会社日立製作所 | Driving area management device, driving area management system, and driving area management method |
CN115113616A (en) * | 2021-03-08 | 2022-09-27 | 广东博智林机器人有限公司 | Path planning method |
US11965749B2 (en) * | 2021-03-31 | 2024-04-23 | Argo AI, LLC | System and method for automated lane conflict estimation in autonomous vehicle driving and map generation |
US11527153B1 (en) * | 2021-06-01 | 2022-12-13 | Geotab Inc. | Systems for analyzing vehicle traffic between geographic regions |
US11862011B2 (en) | 2021-06-01 | 2024-01-02 | Geotab Inc. | Methods for analyzing vehicle traffic between geographic regions |
US11335142B1 (en) | 2021-06-01 | 2022-05-17 | Geotab Inc. | Systems for analyzing vehicle journeys |
US11748696B2 (en) | 2021-08-12 | 2023-09-05 | Airspace Technologies, Inc. | System and methods for alternate path generation |
US11348064B1 (en) * | 2021-08-12 | 2022-05-31 | Airspace Technologies, Inc. | System and methods for alternate path generation |
CN114018240A (en) * | 2021-10-29 | 2022-02-08 | 广州小鹏自动驾驶科技有限公司 | Map data processing method and device |
USD1018337S1 (en) | 2021-12-23 | 2024-03-19 | Waymo Llc | Sensor assembly |
USD1014398S1 (en) | 2021-12-23 | 2024-02-13 | Waymo Llc | Vehicle |
Citations (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20090204320A1 (en) * | 2008-02-12 | 2009-08-13 | Cisco Technology, Inc. | Traffic Predictive Directions |
US20140207325A1 (en) * | 2013-01-21 | 2014-07-24 | GM Global Technology Operations LLC | Efficient data flow algorithms for autonomous lane changing, passing and overtaking behaviors |
US20160341561A1 (en) * | 2015-05-20 | 2016-11-24 | Uber Technologies, Inc. | Navigation lane guidance |
US9672734B1 (en) * | 2016-04-08 | 2017-06-06 | Sivalogeswaran Ratnasingam | Traffic aware lane determination for human driver and autonomous vehicle driving system |
US20180143643A1 (en) * | 2016-11-18 | 2018-05-24 | Waymo Llc | Dynamic routing for autonomous vehicles |
Family Cites Families (47)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6192314B1 (en) | 1998-03-25 | 2001-02-20 | Navigation Technologies Corp. | Method and system for route calculation in a navigation application |
US6393362B1 (en) * | 2000-03-07 | 2002-05-21 | Modular Mining Systems, Inc. | Dynamic safety envelope for autonomous-vehicle collision avoidance system |
CN1343605A (en) * | 2001-09-17 | 2002-04-10 | 杜尔文 | Anti-deviation adaptive pilot using airplane-carried pre-inhibition system based on electronic GPS map to prevent suicide hijack event |
JP2006098232A (en) * | 2004-09-29 | 2006-04-13 | Clarion Co Ltd | Navigation system, method, and program |
KR20080057634A (en) | 2006-12-20 | 2008-06-25 | 엘지전자 주식회사 | Navigation device for trcki vehicle and method for route planning using the same |
JP4165602B2 (en) * | 2007-01-12 | 2008-10-15 | トヨタ自動車株式会社 | Vehicle and control method thereof |
JP2008209506A (en) * | 2007-02-23 | 2008-09-11 | Fujitsu Ltd | Graphic system and mask deformation method |
US8762056B2 (en) | 2007-06-28 | 2014-06-24 | Apple Inc. | Route reference |
JP4416020B2 (en) * | 2007-08-03 | 2010-02-17 | トヨタ自動車株式会社 | Travel plan generator |
JP2009053091A (en) * | 2007-08-28 | 2009-03-12 | Xanavi Informatics Corp | Navigation system |
US20100023251A1 (en) | 2008-07-25 | 2010-01-28 | Gale William N | Cost based open area maps |
JP2010071767A (en) * | 2008-09-17 | 2010-04-02 | Kousokuya Inc | Apparatus for searching network route, method and program |
EP2169500B1 (en) | 2008-09-25 | 2012-04-04 | Volvo Car Corporation | Method of assessing vehicle paths in a road environment and a vehicle path assessment system. |
DK2343615T3 (en) | 2008-10-01 | 2019-02-18 | Murata Machinery Ltd | Independent movement device |
US8618922B2 (en) * | 2010-03-30 | 2013-12-31 | GM Global Technology Operations LLC | Method and system for ensuring operation of limited-ability autonomous driving vehicles |
JP5510007B2 (en) | 2010-04-01 | 2014-06-04 | 株式会社デンソー | Route search device and route guidance system |
JP5605101B2 (en) * | 2010-09-07 | 2014-10-15 | トヨタ自動車株式会社 | Information processing apparatus, navigation apparatus, and route guidance information providing method |
US8509982B2 (en) | 2010-10-05 | 2013-08-13 | Google Inc. | Zone driving |
DE102010052114A1 (en) | 2010-11-20 | 2012-05-24 | Bayerische Motoren Werke Aktiengesellschaft | navigation system |
EP2487461B1 (en) | 2011-02-09 | 2015-10-07 | Harman Becker Automotive Systems GmbH | Vehicle navigation device and method |
EP3093293A1 (en) | 2012-02-24 | 2016-11-16 | Stemcentrx, Inc. | Anti dll3 antibodies and methods of use thereof |
US9123152B1 (en) * | 2012-05-07 | 2015-09-01 | Google Inc. | Map reports from vehicles in the field |
US9633564B2 (en) * | 2012-09-27 | 2017-04-25 | Google Inc. | Determining changes in a driving environment based on vehicle behavior |
US9188985B1 (en) | 2012-09-28 | 2015-11-17 | Google Inc. | Suggesting a route based on desired amount of driver interaction |
US8825258B2 (en) * | 2012-11-30 | 2014-09-02 | Google Inc. | Engaging and disengaging for autonomous driving |
US9008961B2 (en) * | 2012-11-30 | 2015-04-14 | Google Inc. | Determining and displaying auto drive lanes in an autonomous vehicle |
JP2014125095A (en) * | 2012-12-26 | 2014-07-07 | Tokai Rika Co Ltd | Vehicle anti-theft device |
US10451428B2 (en) * | 2013-03-15 | 2019-10-22 | Volkswagen Aktiengesellschaft | Automatic driving route planning application |
EP2973494A4 (en) | 2013-03-15 | 2016-11-23 | Caliper Corp | Lane-level vehicle navigation for vehicle routing and traffic management |
DE102013207581A1 (en) * | 2013-04-25 | 2014-10-30 | Robert Bosch Gmbh | Method for automatically actuating a direction indicator of a motor vehicle |
CN103383265B (en) * | 2013-07-04 | 2016-12-07 | 宁波吉利汽车研究开发有限公司 | Automatic vehicle control system |
DE102013223428A1 (en) | 2013-11-18 | 2015-05-21 | Robert Bosch Gmbh | Method and driver assistance device for supporting lane changes or overtaking maneuvers of a motor vehicle |
JP6252235B2 (en) * | 2014-02-25 | 2017-12-27 | アイシン・エィ・ダブリュ株式会社 | Automatic driving support system, automatic driving support method, and computer program |
JP6467773B2 (en) * | 2014-02-25 | 2019-02-13 | アイシン・エィ・ダブリュ株式会社 | Route search system, route search method and computer program |
US9097549B1 (en) * | 2014-03-17 | 2015-08-04 | Ford Global Technologies, Llc | Learning automated vehicle |
CN106133801A (en) * | 2014-03-27 | 2016-11-16 | 三菱电机株式会社 | Driving assistance information generates system, driving assistance information provides device, driving assistance information to generate method and driving assistance information generates program |
US9713982B2 (en) * | 2014-05-22 | 2017-07-25 | Brain Corporation | Apparatus and methods for robotic operation using video imagery |
US20150345967A1 (en) | 2014-06-03 | 2015-12-03 | Nissan North America, Inc. | Probabilistic autonomous vehicle routing and navigation |
JP6308032B2 (en) | 2014-06-04 | 2018-04-11 | 株式会社デンソー | System and method for generating driving maneuvers |
JP6451111B2 (en) * | 2014-07-10 | 2019-01-16 | 日産自動車株式会社 | Driving support device and driving support method |
JP6437629B2 (en) | 2015-03-03 | 2018-12-12 | パイオニア株式会社 | Route search apparatus, control method, program, and storage medium |
JP6545507B2 (en) * | 2015-03-31 | 2019-07-17 | アイシン・エィ・ダブリュ株式会社 | Automatic driving support system, automatic driving support method and computer program |
US9733096B2 (en) * | 2015-06-22 | 2017-08-15 | Waymo Llc | Determining pickup and destination locations for autonomous vehicles |
US9701239B2 (en) * | 2015-11-04 | 2017-07-11 | Zoox, Inc. | System of configuring active lighting to indicate directionality of an autonomous vehicle |
US10514697B2 (en) * | 2017-09-15 | 2019-12-24 | GM Global Technology Operations LLC | Vehicle remote assistance mode |
KR102567973B1 (en) * | 2017-12-14 | 2023-08-17 | 삼성전자주식회사 | Autonomous driving vehicle providing driving information and method thereof |
US20190354114A1 (en) * | 2018-05-16 | 2019-11-21 | Uber Technologies, Inc. | Selective Activation of Autonomous Vehicles |
-
2016
- 2016-11-18 US US15/355,658 patent/US10042362B2/en active Active
-
2017
- 2017-11-14 KR KR1020197014093A patent/KR102222323B1/en active IP Right Grant
- 2017-11-14 KR KR1020217005643A patent/KR102257112B1/en active IP Right Grant
- 2017-11-14 CA CA3043211A patent/CA3043211C/en active Active
- 2017-11-14 SG SG10202106031WA patent/SG10202106031WA/en unknown
- 2017-11-14 AU AU2017362952A patent/AU2017362952B2/en active Active
- 2017-11-14 CN CN201780074664.4A patent/CN110036425B/en active Active
- 2017-11-14 JP JP2019524052A patent/JP6840240B2/en active Active
- 2017-11-14 EP EP17805082.9A patent/EP3520095B1/en active Active
- 2017-11-14 WO PCT/US2017/061478 patent/WO2018093754A1/en unknown
- 2017-11-14 CN CN202210110545.2A patent/CN114370883B/en active Active
-
2018
- 2018-07-09 US US16/029,922 patent/US10691131B2/en active Active
-
2020
- 2020-05-13 US US15/931,012 patent/US11537133B2/en active Active
- 2020-05-28 AU AU2020203517A patent/AU2020203517B2/en active Active
-
2021
- 2021-02-16 JP JP2021022319A patent/JP7266053B2/en active Active
Patent Citations (6)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20090204320A1 (en) * | 2008-02-12 | 2009-08-13 | Cisco Technology, Inc. | Traffic Predictive Directions |
US20140207325A1 (en) * | 2013-01-21 | 2014-07-24 | GM Global Technology Operations LLC | Efficient data flow algorithms for autonomous lane changing, passing and overtaking behaviors |
US20160341561A1 (en) * | 2015-05-20 | 2016-11-24 | Uber Technologies, Inc. | Navigation lane guidance |
US9672734B1 (en) * | 2016-04-08 | 2017-06-06 | Sivalogeswaran Ratnasingam | Traffic aware lane determination for human driver and autonomous vehicle driving system |
US20180143643A1 (en) * | 2016-11-18 | 2018-05-24 | Waymo Llc | Dynamic routing for autonomous vehicles |
US10042362B2 (en) * | 2016-11-18 | 2018-08-07 | Waymo Llc | Dynamic routing for autonomous vehicles |
Cited By (6)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US11884293B2 (en) | 2019-01-25 | 2024-01-30 | Uber Technologies, Inc. | Operator assistance for autonomous vehicles |
WO2021071943A1 (en) | 2019-10-09 | 2021-04-15 | Argo AI, LLC | Methods and systems for lane changes using a multi-corridor representation of local route regions |
US11414130B2 (en) | 2019-10-09 | 2022-08-16 | Argo AI, LLC | Methods and systems for lane changes using a multi-corridor representation of local route regions |
EP4041608A4 (en) * | 2019-10-09 | 2022-12-21 | Argo AI, LLC | Methods and systems for lane changes using a multi-corridor representation of local route regions |
WO2022006873A1 (en) * | 2020-07-10 | 2022-01-13 | Beijing Didi Infinity Technology And Development Co., Ltd. | Vehicle repositioning on mobility-on-demand platforms |
US20220242440A1 (en) * | 2021-01-29 | 2022-08-04 | Argo AI, LLC | Methods and system for generating a lane-level map for an area of interest for navigation of an autonomous vehicle |
Also Published As
Publication number | Publication date |
---|---|
US10042362B2 (en) | 2018-08-07 |
AU2017362952B2 (en) | 2020-04-23 |
WO2018093754A1 (en) | 2018-05-24 |
US20200341478A1 (en) | 2020-10-29 |
KR20190067233A (en) | 2019-06-14 |
EP3520095A1 (en) | 2019-08-07 |
KR20210024232A (en) | 2021-03-04 |
SG10202106031WA (en) | 2021-07-29 |
AU2020203517A1 (en) | 2020-06-18 |
EP3520095B1 (en) | 2024-02-14 |
JP6840240B2 (en) | 2021-03-10 |
KR102257112B1 (en) | 2021-05-27 |
CA3043211C (en) | 2024-03-19 |
CN114370883A (en) | 2022-04-19 |
JP7266053B2 (en) | 2023-04-27 |
CN110036425B (en) | 2022-02-01 |
AU2017362952A1 (en) | 2019-05-23 |
US10691131B2 (en) | 2020-06-23 |
JP2020502632A (en) | 2020-01-23 |
JP2021082331A (en) | 2021-05-27 |
KR102222323B1 (en) | 2021-03-03 |
US20180143643A1 (en) | 2018-05-24 |
CA3043211A1 (en) | 2018-05-24 |
AU2020203517B2 (en) | 2021-05-20 |
CN110036425A (en) | 2019-07-19 |
CN114370883B (en) | 2024-04-16 |
US11537133B2 (en) | 2022-12-27 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US11537133B2 (en) | Dynamic routing for autonomous vehicles | |
US11709490B1 (en) | Behavior and intent estimations of road users for autonomous vehicles | |
US11762392B2 (en) | Using discomfort for speed planning in autonomous vehicles | |
US10824148B2 (en) | Operating an autonomous vehicle according to road user reaction modeling with occlusions | |
US11608060B1 (en) | Speed planning for autonomous vehicles | |
EP3526093A1 (en) | Planning stopping locations for autonomous vehicles | |
US11634134B2 (en) | Using discomfort for speed planning in responding to tailgating vehicles for autonomous vehicles | |
US20210356257A1 (en) | Using map information to smooth objects generated from sensor data |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
FEPP | Fee payment procedure |
Free format text: ENTITY STATUS SET TO UNDISCOUNTED (ORIGINAL EVENT CODE: BIG.); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
AS | Assignment |
Owner name: GOOGLE INC., CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:FAIRFIELD, NATHANIEL;HERBACH, JOSHUA SETH;REEL/FRAME:046319/0932Effective date: 20161117 |
|
AS | Assignment |
Owner name: WAYMO HOLDING INC., CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:GOOGLE INC.;REEL/FRAME:046592/0063Effective date: 20170321 |
|
AS | Assignment |
Owner name: WAYMO LLC, CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:WAYMO HOLDING INC.;REEL/FRAME:046620/0252Effective date: 20170322 |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: DOCKETED NEW CASE - READY FOR EXAMINATION |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: NON FINAL ACTION MAILED |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: RESPONSE TO NON-FINAL OFFICE ACTION ENTERED AND FORWARDED TO EXAMINER |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: NOTICE OF ALLOWANCE MAILED -- APPLICATION RECEIVED IN OFFICE OF PUBLICATIONS |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: PUBLICATIONS -- ISSUE FEE PAYMENT VERIFIED |
|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |
|
CC | Certificate of correction | ||
FEPP | Fee payment procedure |
Free format text: MAINTENANCE FEE REMINDER MAILED (ORIGINAL EVENT CODE: REM.); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |