TECHNISCHES GEBIET TECHNICAL AREA
Die offenbarten Ausführungsformen in Bezug auf den Bereich Client-Server-Interaktion, speziell die Synchronisation von Daten zwischen einem Client-Gerät und einem Server. The disclosed embodiments relate to client-server interaction, specifically the synchronization of data between a client device and a server.
HINTERGRUND BACKGROUND
Viele Softwareanwendungen (z. B. E-Mail) sind so gestaltet, dass sie sowohl auf einem Client-Gerät als auch auf einem Serversystem betrieben werden können, oder auf einem Client-Gerät mit Unterstützung durch ein Serversystem. Durch diese Anwendungen kann der Benutzer Daten frei erstellen, empfangen, übertragen und verändern, unabhängig davon, ob der Benutzer auf dem Client-Gerät oder dem Server tätig ist. Durch die Synchronisation von Daten zwischen dem Client und dem Server wird die Einheitlichkeit der Anwendungsdaten auf dem Client und dem Server bewahrt. Many software applications (eg, e-mail) are designed to operate on both a client device and a server system, or on a client device with the assistance of a server system. These applications allow the user to freely create, receive, transmit and modify data regardless of whether the user is on the client device or the server. Synchronizing data between the client and the server preserves the consistency of the application data on the client and the server.
Die Synchronisation ist wichtig, da das Client-Gerät aus Effizienzgründen im allgemeinen überwiegend mit lokal gespeicherten Daten arbeitet. Eine gängige Implementierung ist das Speichern eines vollständigen, mit einer Client-Server-Anwendung verbundenen Datensatzes auf dem Server, während eine Teilmenge der Daten, die für den Benutzer relevant ist oder häufig von ihm verwendet wird, auf dem Client-Gerät vorgehalten wird. Für die Synchronisation der Serverdaten mit dem Client-Gerät erfordern viele Synchronisationsverfahren die Zurücksetzung des gesamten lokalen Zwischenspeichers, bevor sie die Verwendung der synchronisierten Daten zulassen. Tatsächlich ist die Synchronisation normalerweise ein Alles-oder-nichts-Prozess. Wenn der lokale Zwischenspeicher nicht komplett zurückgesetzt ist, kann der Client die Daten nicht verwenden. Synchronization is important because, for efficiency reasons, the client device generally works primarily with locally stored data. One common implementation is to store a complete record associated with a client-server application on the server while keeping a subset of the data that is relevant or frequently used by the user on the client device. For the synchronization of the server data with the client device, many synchronization methods require the resetting of the entire local cache before allowing the use of the synchronized data. In fact, synchronization is usually an all-or-nothing process. If the local cache is not completely reset, the client can not use the data.
Der Client hat Speicherplatz für gewöhnlich nur eingeschränkt zur Verfügung und enthält deswegen eine Teilmenge der Anwendungsdaten, die auf dem Server gespeichert sind. Die Anwendungsdaten auf dem Server sollten für die Synchronisation mit dem Client so ausgewählt werden, dass nur die Informationen synchronisiert werden, die für den Benutzer des Client von höchster Relevanz sind. Vielen herkömmlichen Synchronisationsverfahren fehlt die Möglichkeit, für die Synchronisation Informationen danach auszuwählen und zu priorisieren, wie relevant sie für den Benutzer sind. Zum Beispiel ist es in Synchronisationssystemen nur eingeschränkt möglich, Ordner für die Organisation von Informationsdaten zu verwenden. Diese Daten dürfen während der Datensynchronisation nur einem Ordner zugeordnet werden. Des Weiteren ist die Auswahl von Daten für die Synchronisation in Systemen, in denen die Daten nicht in Ordner eingeordnet sind, noch schwieriger. Ein flexibleres System ohne die Mängel der bestehenden Synchronisationsverfahren ist wünschenswert. The client usually has limited space available and therefore contains a subset of the application data stored on the server. The application data on the server should be selected for synchronization with the client so that only information that is most relevant to the client's user is synchronized. Many conventional synchronization methods lack the ability to select and prioritize synchronization information for how relevant they are to the user. For example, in synchronization systems, it is only possible to a limited extent to use folders for the organization of information data. This data may only be assigned to one folder during data synchronization. Furthermore, selecting data for synchronization in systems where data is not categorized into folders is even more difficult. A more flexible system without the shortcomings of existing synchronization techniques is desirable.
ÜBERSICHT DER AUSFÜHRUNGSFORMEN OVERVIEW OF EMBODIMENTS
In einigen Ausführungsformen beinhaltet das Verfahren für die Synchronisation von Informationen auf einem Client-Gerät von einem Server, dass der Client eine Kommunikation von einem Server für die Synchronisation von Informationen zwischen dem Client-Gerät und dem Server empfängt, wobei die Informationen aus allen Anwendungsdaten auf dem Server durch einen Suchmechanismus gemäß einem oder mehrerer Suchkriterien ausgewählt werden und vor der Übertragung in einer Rangfolge angeordnet werden; sowie dass Operationen zur Synchronisation der Anwendungsdaten auf dem Client in Übereinstimmung mit mindestens einem Teil der Informationen, die von dem Server empfangen wurde, durchgeführt werden. In some embodiments, the method for synchronizing information on a client device from a server includes: the client receiving communication from a server for synchronization of information between the client device and the server, the information from all the application data be selected by the server through a search mechanism according to one or more search criteria and ranked prior to transmission; and that operations for synchronizing the application data are performed on the client in accordance with at least a portion of the information received from the server.
In anderen Ausführungsformen beinhaltet dieses Verfahren Informationen, die Anweisungen für die Durchführung von mindestens einer der Operationen für das Hinzufügen, Löschen und Ändern von Anwendungsdaten auf dem Client in der Rangfolge von hoher Priorität zu niedriger Priorität enthalten, so wie sie auf dem Server vor der Übertragung zu dem Client angeordnet wurden. In other embodiments, this method includes information that includes instructions for performing at least one of the operations for adding, deleting, and changing application data on the client from high priority to low priority, such as on the server prior to transmission to the client.
In weiteren Ausführungsformen beinhaltet das Empfangen bei diesem Verfahren zwei unabhängige Synchronisationsmechanismen, die gleichzeitig ablaufen, wobei ein erster Synchronisationsmechanismus einen ersten Teil der Informationen nach Priorität und ein zweiter Synchronisationsmechanismus einen zweiten Teil der Informationen in chronologischer Reihenfolge synchronisiert. In further embodiments, receiving in this method includes two independent synchronization mechanisms running concurrently, wherein a first synchronization mechanism synchronizes a first portion of the information in priority and a second synchronization mechanism synchronizes a second portion of the information in chronological order.
In einigen Ausführungsformen beinhaltet dieses Verfahren das gleichzeitige Senden von unsynchronisierten Änderungen an Anwendungsdaten an den Server mit einem Synchronisationsmechanismus, der unabhängig von einem oder mehreren Synchronisationsmechanismen für das Empfangen von Informationen von dem Server arbeitet. In some embodiments, this method involves sending unsynchronized changes to application data concurrently to the server with a synchronization mechanism that operates independently of one or more synchronization mechanisms for receiving information from the server.
In anderen Ausführungsformen beinhaltet diese Methode Suchen durch den Suchmechanismus, die so durchgeführt werden können, dass die ausgewählten Informationen priorisiert und in einer bestimmten Reihenfolge an den Client übertragen werden. In other embodiments, this method includes searches by the search mechanism that may be performed so that the selected information is prioritized and transmitted to the client in a particular order.
Einige Ausführungsformen dieser Offenbarung beinhalten ein Verfahren zur Synchronisation von Informationen von einem Server mit einem Client, einschließlich der Festlegung von einem oder mehrerer Suchkriterien auf dem Server zur Durchführung von Suchen in Anwendungsdaten vor der Synchronisation, der Auswahl von Informationen aus allen Anwendungsdaten auf dem Server gemäß einem oder mehreren Suchkriterien durch einen Suchmechanismus auf dem Server, der Übertragung von ausgewählten Informationen an den Client und der Dokumentation von übertragenen Informationen, die erfolgreich mit dem Client synchronisiert wurden. Some embodiments of this disclosure include a method for synchronizing information from a server with a server A client, including determining one or more search criteria on the server to perform searches on application data prior to synchronization, selecting information from all application data on the server according to one or more search criteria through a search mechanism on the server, transmitting selected information to the client and documentation of transmitted information that has been successfully synchronized with the client.
In einigen Ausführungsformen beinhaltet dieses Serververfahren das gleichzeitige Empfangen von unsynchronisierten Änderungen an Anwendungsdaten von dem Client mit einem Synchronisationsmechanismus, der unabhängig von einem oder mehreren Synchronisationsmechanismen für das Senden von ausgewählten Informationen an den Client arbeitet. In anderen Ausführungsformen können die unsynchronisierten Anwendungsdaten entsprechend dem Synchronisationsmechanismus für die Übertragung von ausgewählten Informationen an den Client seriell synchronisiert werden. In some embodiments, this server method includes concurrently receiving unsynchronized changes to application data from the client with a synchronization mechanism that operates independently of one or more synchronization mechanisms for sending selected information to the client. In other embodiments, the unsynchronized application data may be serially synchronized according to the synchronization mechanism for the transmission of selected information to the client.
In anderen Ausführungsformen können die ausgewählten Informationen bei diesem Serververfahren sowohl Datenelemente als auch Änderungsoperationen an den Daten auf dem Server umfassen, wobei die Daten in einer Rangfolge von hoher Priorität zu niedriger Priorität angeordnet und mit dem Client synchronisiert werden und die Änderungsoperationen in chronologischer Reihenfolge von alt nach neu angeordnet und synchronisiert werden, in Abhängigkeit davon, wann die einzelnen Änderungsoperationen auf dem Server stattfanden. In other embodiments, the selected information in this server method may include both data items and modification operations on the data on the server, where the data is ranked high priority to low priority and synchronized with the client, and the change operations are chronologically old after being rearranged and synchronized, depending on when the individual change operations took place on the server.
In weiteren Ausführungsformen beinhaltet das Übertragen bei diesem Serververfahren zwei unabhängige Synchronisationsmechanismen, die gleichzeitig ablaufen, wobei ein erster Synchronisationsmechanismus einen ersten Teil der Informationen nach Priorität und ein zweiter Synchronisationsmechanismus einen zweiten Teil der Informationen in chronologischer Reihenfolge synchronisiert. In further embodiments, the transmission in this server method includes two independent synchronization mechanisms that run concurrently, wherein a first synchronization mechanism synchronizes a first portion of the information in priority and a second synchronization mechanism synchronizes a second portion of the information in chronological order.
KURZBESCHREIBUNG DER ZEICHNUNGEN BRIEF DESCRIPTION OF THE DRAWINGS
Für ein besseres Verständnis der Erfindung und ihrer Ausführungsformen wird auf die nachfolgende Beschreibung der Ausführungsformen verwiesen, in Verbindung mit den nachfolgenden Zeichnungen, bei denen die entsprechenden Bezugsnummern auf die entsprechenden Teile in den Figuren Bezug nehmen. For a better understanding of the invention and its embodiments, reference is made to the following description of the embodiments, taken in conjunction with the following drawings, in which the corresponding reference numerals refer to the corresponding parts in the figures.
1 zeigt in einem Diagramm ein Client-Server-basiertes Netzwerksystem gemäß einigen Ausführungsformen der vorliegenden Erfindung. 1 1 is a diagram showing a client-server based network system according to some embodiments of the present invention.
2 ist ein Blockdiagramm eines exemplarischen Servers in dem Client-Server-basierten Netzwerksystem gemäß einigen Ausführungsformen der vorliegenden Erfindung. 2 FIG. 10 is a block diagram of an exemplary server in the client-server based network system according to some embodiments of the present invention. FIG.
3 ist ein Blockdiagramm eines exemplarischen Servers in Interaktion mit dem Server gemäß einigen Ausführungsformen der vorliegenden Erfindung. 3 FIG. 10 is a block diagram of an exemplary server interacting with the server according to some embodiments of the present invention. FIG.
4 zeigt in einem Diagramm ein exemplarisches Interaktionsschema einer Synchronisation zwischen Server und Client gemäß einigen Ausführungsformen der vorliegenden Erfindung. 4 FIG. 3 is a diagram illustrating an exemplary interaction scheme of server-client synchronization in accordance with some embodiments of the present invention. FIG.
5 zeigt in einem Diagramm eine exemplarische Suchspezifikation zur Durchführung von Suchen für die Datensynchronisation gemäß einigen Ausführungsformen der vorliegenden Erfindung. 5 FIG. 12 is a diagram illustrating an example search specification for performing data sync searches in accordance with some embodiments of the present invention. FIG.
6 zeigt in einem Diagramm eine exemplarische Konfigurationsspezifikation gemäß einigen Ausführungsformen der vorliegenden Erfindung. 6 FIG. 11 is a diagram illustrating an exemplary configuration specification according to some embodiments of the present invention. FIG.
7 zeigt in einem Diagramm die Informationen, die in exemplarischen Daten wie Nachrichten enthalten sind, gemäß einigen Ausführungsformen der vorliegenden Erfindung. 7 FIG. 12 is a diagram illustrating the information contained in exemplary data such as messages, according to some embodiments of the present invention.
8A bis 8D sind Diagramme von exemplarischen suchbasierten Verfahren für die Auswahl von Informationen aus einem Anwendungsdatensatz gemäß einigen Ausführungsformen der vorliegenden Erfindung. 8A to 8D 13 are diagrams of exemplary search-based methods for selecting information from an application record according to some embodiments of the present invention.
9 zeigt in einem Ablaufdiagramm das exemplarisches Verfahren für den Empfang von Serverdaten, die durch einen Suchmechanismus ausgewählt wurden, auf einem Client gemäß einigen Ausführungsformen der vorliegenden Erfindung. 9 FIG. 14 is a flowchart illustrating the exemplary method for receiving server data selected by a search mechanism on a client according to some embodiments of the present invention.
10 zeigt in einem Ablaufdiagramm das exemplarisches Verfahren für das Senden von Serveranwendungsdaten, die durch einen Suchmechanismus ausgewählt wurden, auf einem Server gemäß einigen Ausführungsformen der vorliegenden Erfindung. 10 FIG. 13 is a flow chart illustrating the exemplary method for sending server application data selected by a search mechanism to a server according to some embodiments of the present invention.
BESCHREIBUNG DER AUSFÜHRUNGSFORMEN DESCRIPTION OF THE EMBODIMENTS
Die vorliegende Erfindung ist auf ein Client-Server-System ausgerichtet und bezieht sich auf Verfahren und Systeme für die Synchronisation von Elementen zwischen einem Client und einem Server. Die vorliegende Offenbarung beschreibt eine suchbasierte Spezifikation für die Datensynchronisation. Diese Implementierung steuert die Synchronisation durch eine Liste von Suchen, die auf Suchkriterien basieren. Die suchbasierte Datensynchronisation kann auf alle Arten von Client-Server-Anwendungen angewendet werden, bei denen Anwendungsdaten und Änderungen von Anwendungsdaten auf dem Server und dem Client unabhängig voneinander gehandhabt werden können. The present invention is directed to a client-server system and relates to methods and systems for the synchronization of elements between a client and a server. The present disclosure describes a search-based specification for data synchronization. This implementation controls synchronization through a list of searches that are based on search criteria. Search-based data synchronization can be applied to all types of client-server Applications can be applied where application data and application data changes on the server and client can be handled independently.
1 zeigt schematisch ein exemplarisches Client-Server-basiertes Netzwerksystem. Das Client-Server-basierte Netzwerksystem besteht aus einem Server 102, einem Netzwerk 104 für die Kommunikation und mehreren Client-Geräten 106A–C. Die übliche Implementierung dieses Systems hat mindestens einen Server, mindestens ein Kommunikationsnetzwerk und mehrere Client-Geräte. In einer anderen Konfiguration kann das System aus mehreren Servern, mehreren Netzwerken und mehreren Client-Geräten bestehen. 1 schematically shows an exemplary client-server based network system. The client-server-based network system consists of a server 102 , a network 104 for communication and multiple client devices 106A -C. The usual implementation of this system has at least one server, at least one communication network, and multiple client devices. In another configuration, the system may consist of multiple servers, multiple networks, and multiple client devices.
In einigen Ausführungsformen kann das Netzwerk 104, das den Server 102 und die Client-Geräte 106 verbindet, ein privates oder ein öffentliches Netzwerk sein, und es kann für die Kommunikation zwischen Server 104 und den Client-Geräten 106 drahtgebunden oder drahtlos sein, so dass ein Datenaustausch möglich ist. In einigen Ausführungsformen kann das Netzwerk das Internet sein, in anderen kann das Netzwerk privat oder geschützt sein, um den Zugang auf eine Gruppe von Benutzern zu beschränken. In letzterem Fall kann das Netzwerk ein LAN sein. Andere Ausführungsformen des Netzwerks 104 können auch ein WLAN-Netzwerk und/oder ein WiMax-Netzwerk beinhalten. Eine andere Ausführungsform des Netzwerks 104 kann ein Mobilfunknetz sein, dass das Übertragen und Empfangen von Daten durch Mobilgeräte wie Mobiltelefone und Smartphones ermöglicht. Ein solches Mobilfunknetz kann als privat betrachtet werden, wenn nur zahlende Kunden Zugang dazu haben. In some embodiments, the network may 104 that the server 102 and the client devices 106 connects, a private or a public network, and it can be used for communication between servers 104 and the client devices 106 be wired or wireless, so that a data exchange is possible. In some embodiments, the network may be the Internet, in others the network may be private or protected to restrict access to a group of users. In the latter case, the network can be a LAN. Other embodiments of the network 104 may also include a Wi-Fi network and / or a WiMax network. Another embodiment of the network 104 may be a mobile network that allows the transmission and reception of data by mobile devices such as mobile phones and smartphones. Such a mobile network can be considered private if only paying customers have access to it.
Die Client-Geräte 106 können verschiedene Ausprägungen haben. In einigen Ausführungsformen kann das Client-Gerät ein lokaler Computer sein, der mit einem Serverrechner kommuniziert. In anderen Ausführungsformen kann das Client-Gerät ein Personal Digital Assistant (PDA), ein Smartphone oder ein Mobiltelefon sein. Das Client-Gerät kann mit einer Softwareanwendung betrieben werden, die auch auf einem Server angewendet werden kann, oder es kann mit einem Anwendungs-Frontend betrieben werden, das mit einem Anwendungs-Backend auf dem Server zusammenarbeitet. Der Server 102 kann Operationen durchführen, die die Verwaltung, die Datenspeicheranforderungen, die Organisation und/oder die Ausführung einer Anwendung betreffen. Für diese Offenbarung hat sowohl der Client 106 als auch der Server 102 Speicher für die Speicherung von Anwendungsdaten und Änderungen der Anwendungsdaten, die synchronisiert werden sollen. In den nachfolgenden 2 und 3 werden Server und Client jeweils ausführlicher beschrieben. The client devices 106 can have different characteristics. In some embodiments, the client device may be a local computer that communicates with a server computer. In other embodiments, the client device may be a personal digital assistant (PDA), a smartphone or a mobile phone. The client device can be operated with a software application that can also be applied to a server, or it can be operated with an application front-end that interfaces with an application back-end on the server. The server 102 can perform operations that affect the management, data storage requirements, organization, and / or execution of an application. For this revelation, both the client has 106 as well as the server 102 Memory for storing application data and changes to the application data to be synchronized. In the following 2 and 3 Server and client are described in more detail.
2 zeigt das Blockdiagramm eines exemplarischen Servers in dem Client-Server-basierten Netzwerksystem, das in 1 beschrieben wird. Der Server 200 besteht für gewöhnlich aus einem oder mehreren Prozessoren (CPUs) 202, einer oder mehrerer Netzwerk- oder anderen Kommunikationsschnittstellen 206, Speicher 205 und einem oder mehreren Kommunikationsbussen 204, um diese Komponenten zu verbinden. Der Speicher 205 besteht aus Schnellspeicher wie DRAM, SRAM, DDR RAM oder anderen Solid-State-Arbeitsspeichereinheiten, und nichtflüchtigem Speicher wie Magnetplattenspeichergeräten, optischen Plattenspeichergeräten, Flash-Speicher-Geräten oder anderen nichtflüchtigen Solid-State-Speichergeräten. Der Speicher 205 kann auch mehrere Speichergeräte enthalten, die sich entfernt von der CPU/den CPUs 202 befinden. 2 FIG. 12 shows the block diagram of an exemplary server in the client-server based network system incorporated in FIG 1 is described. The server 200 usually consists of one or more processors (CPUs) 202 , one or more network or other communication interfaces 206 , Storage 205 and one or more communication buses 204 to connect these components. The memory 205 consists of fast memory such as DRAM, SRAM, DDR RAM, or other solid-state memory devices, and nonvolatile memory such as magnetic disk storage devices, optical disk storage devices, flash memory devices, or other solid state nonvolatile memory devices. The memory 205 can also contain multiple storage devices that are remote from the CPU / CPUs 202 are located.
In einigen Ausführungsformen speichert der Speicher 205 Programme, Module und Datenstrukturen, oder eine Teilmenge davon, die Folgendes enthält: ein Betriebssystem 207, ein Kommunikationsmodul 208, das Serveranwendungsmodul 209, das Serversynchronisationsmodul 210 und die Datenstrukturen 270. Es ist anzumerken, dass die hier gezeigte Organisation dieser Komponenten exemplarisch ist und eine andere Anordnung oder Organisation der Funktionalität dieser Komponenten nicht ausschließt. Andere Ausführungsformen können die Funktionen dieser Komponenten in einer beliebigen Kombination vereinen, inklusive einer Teilmenge oder Übermenge dieser Komponenten. Das gilt für jegliche und alle Softwarekomponenten, die hier in Verbindung mit jedem Server oder Client-Gerät beschrieben werden. In some embodiments, the memory stores 205 Programs, modules and data structures, or a subset thereof, containing: an operating system 207 , a communication module 208 , the server application module 209 , the server synchronization module 210 and the data structures 270 , It should be noted that the organization of these components shown here is exemplary and does not preclude a different arrangement or organization of the functionality of these components. Other embodiments may combine the functions of these components in any combination, including a subset or superset of these components. This applies to any and all software components described here in connection with any server or client device.
Das Betriebssystem 207 beinhaltet Verfahren für die Durchführung verschiedener grundlegender Systemdienste und hardwarenaher Tasks. The operating system 207 includes procedures for performing various basic system services and hardware-related tasks.
Das Kommunikationsmodul 208 wird verwendet, um die Serveranwendungen 209 mit anderen Server- oder Client-Geräten zu verbinden. Die Verbindung über das Kommunikationsmodul 208 wird über eine oder mehrere Kommunikationsnetzwerkschnittstellen 206 (drahtgebunden oder drahtlos) und eines oder mehrere Kommunikationsnetzwerke wie das Internet, andere Weitverkehrsnetze, lokale Netzwerke, Stadtnetzwerke etc. durchgeführt. The communication module 208 is used to server applications 209 connect to other server or client devices. The connection via the communication module 208 is via one or more communication network interfaces 206 (wired or wireless) and one or more communication networks such as the Internet, other wide area networks, local area networks, city networks, etc. performed.
Das Anwendungsmodul 209 besteht aus verschiedenen Client- oder Server-basierten Anwendungen. Wenn eine Anwendung Client-basiert ist, wird die Anwendung, wenn sie auf dem Server aktiv ist, von Befehlen gesteuert, die von der entsprechenden Anwendung auf dem Client-Gerät stammen. Wenn eine Anwendung Server-basiert ist, steuert die Anwendung auf dem Server, wenn sie auf dem Server aktiv ist, die entsprechende Anwendung auf dem Client-Gerät. In einigen Ausführungsformen können Anwendungen gleichermaßen von dem Client und dem Server betrieben werden, für den Betrieb auf Client-Geräten wie Mobiltelefonen konfiguriert und angepasst werden, und ein Serversynchronisationsmodul 210 enthalten. The application module 209 consists of various client or server based applications. When an application is client-based, if the application is active on the server, the application is driven by commands coming from the corresponding application on the client device. If an application is server-based, the application on the server, when running on the server, controls the appropriate application on the server Client device. In some embodiments, applications may equally be operated by the client and the server, configured for operation on client devices such as mobile phones, and a server synchronization module 210 contain.
Das Serversynchronisationsmodul 210 wird für die Synchronisation von Daten eingesetzt, die von einer oder mehreren Anwendungen benutzt werden, die auf einem Client oder Server betrieben werden oder die kooperativ von einem Client und einem Server betrieben werden (wie im Fall von E-Mail-Client- und Serveranwendungen). Das Synchronisationsmodul 210 kann Synchronisationskonfigurationen enthalten, die für eine einzige Anwendung spezifisch sind oder für mehr als eine Anwendung generalisiert werden können. In einer Ausführungsform enthält das Synchronisationsmodul 210 ein Abwärtssynchronisationsmodul 220, ein Aufwärtssynchronisationsmodul 280 und eine Synchronisationssteuerung 290. Die Funktionen dieser Module entsprechen ihrem jeweiligen Gegenstück auf dem Client, wie in 3 gezeigt wird. The server synchronization module 210 is used to synchronize data used by one or more applications running on a client or server, or operated cooperatively by a client and a server (as in the case of e-mail client and server applications) , The synchronization module 210 can contain synchronization configurations that are specific to a single application or that can be generalized to more than one application. In one embodiment, the synchronization module includes 210 a downward synchronization module 220 , an upstream synchronization module 280 and a synchronization controller 290 , The functions of these modules correspond to their respective counterparts on the client, as in 3 will be shown.
Das Abwärtssynchronisationsmodul 220 ist für die Synchronisation von Serveranwendungsdaten zu dem Client verantwortlich. Die Abwärtssynchronisation stellt sicher, dass sich die Anwendungsdaten auf dem Server und die Änderungen an diesen Daten in den Clientanwendungsdaten widerspiegeln. In einer Ausführungsform besteht die Abwärtssynchronisation aus Vorwärts- und Rückwärtssynchronisation. In einigen Ausführungsformen synchronisiert die Vorwärtssynchronisation Operationen oder Änderungen an Daten (z. B. Hinzufügen eines Sterns zu einer Nachricht, Hinzufügen eines Etiketts zu einer Nachricht oder Entfernen eines Etiketts von einer Nachricht, Empfangen einer Nachricht, Senden einer Nachricht, Aktualisieren eines Kontakts etc.) zu dem Client in chronologischer Reihenfolge. In anderen Ausführungsformen synchronisiert die Rückwärtssynchronisation Daten aus einem vorherigen Zustand (z. B. bestehende Nachrichten, Kontakte etc.) zu dem Client nach Priorität. The downward synchronization module 220 is responsible for synchronizing server application data to the client. Downward synchronization ensures that the application data on the server and the changes to that data are reflected in the client application data. In one embodiment, the downlink synchronization consists of forward and reverse synchronization. In some embodiments, the forward synchronization synchronizes operations or changes to data (e.g., adding a star to a message, adding a tag to a message, or removing a tag from a message, receiving a message, sending a message, updating a contact, etc.). ) to the client in chronological order. In other embodiments, backward synchronization synchronizes data from a previous state (eg, existing messages, contacts, etc.) to the client by priority.
Das Aufwärtssynchronisationsmodul 230 ist für die Synchronisation von Änderungen an den Clientdaten zu dem Server verantwortlich (z. B. eine Nachricht verfasst, eine Nachricht gelöscht, ein Etikett hinzugefügt oder gelöscht, Informationen zu einem Termin geändert etc.). Anders ausgedrückt stellt die Aufwärtssynchronisation sicher, dass sich Änderungen an Anwendungsdaten auf dem Client in den Serveranwendungsdaten widerspiegeln. Sowohl Abwärts- als auch Aufwärtssynchronisation werden in der hierzu in Beziehung stehenden Patentanmeldung Nummer xx/xxx, xxx, die im Oktober 2008 eingereicht wurde und durch Bezugnahme in ihrer Gesamtheit einbezogen wird, detaillierter offenbart. The upward synchronization module 230 is responsible for synchronizing changes to the client data to the server (eg, writing a message, deleting a message, adding or deleting a label, changing information about an appointment, etc.). In other words, uplink synchronization ensures that changes to application data on the client are reflected in the server application data. Both downlink and uplink synchronization are disclosed in more detail in related patent application number xx / xxx, xxx filed in October 2008, which is incorporated herein by reference in its entirety.
Die Synchronisationssteuerung 240 steuert die Operationen der Datensynchronisation entsprechend der Konnektivität zu einem Kommunikationsnetzwerk, der Erkennung von unsynchronisierten Daten oder anderen Bedingungen, die bei der Datensynchronisation vorliegen. In einer Ausführungsform ist der Server so konfiguriert, dass die Synchronisation durch Antworten auf eine Synchronisationsanfrage des Clients ausgelöst wird, wobei auch der umgekehrte Weg möglich ist. The synchronization control 240 controls the operations of data synchronization according to the connectivity to a communication network, the detection of unsynchronized data, or other conditions present in data synchronization. In one embodiment, the server is configured to initiate synchronization by responding to a client's synchronization request, although the reverse approach is also possible.
Das Suchmodul 250 wird von dem Server verwendet, um Daten und Datenänderungen auf dem Server, die den vordefinierten Kriterien entsprechen, vor der Abwärtssynchronisation mit dem Client auszuwählen und zu sortieren. Das Suchmodul 250 ermöglicht es, Serverdaten, die für den Benutzer von höchster Relevanz sind, nach bestimmten Kriterien auszuwählen, zu priorisieren und mit dem Client zu synchronisieren, so dass die Informationen mit der höchsten Relevanz umgehend und vor den weniger relevanten Informationen zu dem Client übertragen werden. Unter Verwendung dieser identifizierten Kriterien kann das Suchmodul Suchen in verschiedenen Konfigurationen durchführen, um das gewünschte Ergebnis zu erzielen. Zum Beispiel können Suchen durchgeführt werden, indem ein Kriterium in einer Situation angewendet wird, in der eine Reihe von Kriterien verwendet werden. In anderen Ausführungsformen kann eine einzige Suche mit einer Kombination von Kriterien durchgeführt werden. Verschiedene Konfigurationen bei der Suche ergeben verschiedene Ergebnisse. In einer Ausführungsform können verschiedene Konfigurationen bei der Suche angewendet werden, um eine erwünschte Reihenfolge der Daten für jede Datensynchronisation zu erzielen. In anderen Ausführungsformen kann das Ziel sein, für eine Synchronisation zu verschiedenen Zeiten die Daten oder Datenänderungen in verschiedene Gruppen aufzuteilen. The search engine 250 is used by the server to select and sort data and data changes on the server that meet the predefined criteria before down-synchronization with the client. The search engine 250 allows server data that is most relevant to the user to be selected, prioritized and synchronized with the client according to specific criteria so that the most relevant information is transmitted to the client immediately and before the less relevant information. Using these identified criteria, the search engine may perform searches in various configurations to achieve the desired result. For example, searches may be performed by applying a criterion in a situation where a number of criteria are used. In other embodiments, a single search may be performed using a combination of criteria. Different configurations in the search yield different results. In one embodiment, various configurations may be used in the search to achieve a desired order of data for each data synchronization. In other embodiments, the goal may be to divide the data or data changes into different groups for synchronization at different times.
Das Datenmodul 270 besteht aus den Anwendungsdaten 277, die von den Anwendungen in dem Anwendungsmodul 209 benutzt werden, einer globalen Historientabelle 271 und Clientdaten 273. Die Clientdaten 273 enthalten Informationen zu jedem einzelnen Client 272 A, B. Die Information für jeden einzelnen Client enthält Synchronisationstokens 278, Clientkonfigurationsdaten 279, zwischengespeicherte Clientdaten 276 und andere Daten für den Client 281. The data module 270 consists of the application data 277 that of the applications in the application module 209 be used, a global history table 271 and client data 273 , The client data 273 contain information about each individual client 272 A, B. The information for each individual client contains synchronization tokens 278 , Client configuration data 279 , cached client data 276 and other data for the client 281 ,
Die globale Historientabelle 271 enthält Informationen über auf Serverdaten durchgeführte Datenoperationen und wird in einer Ausführungsform des Synchronisationsmechanismus für die Vorwärtssynchronisation verwendet. Jede globale Historientabelle enthält mehrere Identifikationen von Serverhistorienoperationen (SHO ID), wobei jede SHO ID eine einzelne Operation, die auf einer der Serverdaten durchgeführt wurde, repräsentiert. In einigen Ausführungsformen werden die Informationen in der globalen Historientabelle chronologisch gespeichert. The global history table 271 contains information about data operations performed on server data and is used in one embodiment of the forward synchronization synchronization mechanism. Each global history table contains several server history (SHO ID) identifications, with each SHO ID being a single operation based on one of the server data was performed. In some embodiments, the information is stored chronologically in the global history table.
Die Synchronisationstokens 278 repräsentieren von dem Server gepflegte Daten darüber, was der Server über den Status des Clients weiß. In einigen Ausführungsformen enthalten diese Synchronisationstokens die höchsten CHO ID des Clients, die der Server bei der Aufwärtssynchronisation verarbeitet hat. In anderen Ausführungsformen repräsentieren die Synchronisationstokens Datenbereiche, für die der Client die Durchführung einer Rückwärtssynchronisation bestätigt hat. Wie in der oben zitierten in Beziehung stehenden Anwendung erläutert wurde, werden diese Tokens benutzt, um Serverdaten während der Rückwärtssynchronisation zu identifizieren und zu priorisieren. Eine individuelle Identifikation stellt sicher, dass die richtigen Daten synchronisiert werden. The synchronization tokens 278 represent data maintained by the server about what the server knows about the status of the client. In some embodiments, these synchronization tokens contain the highest CHO ID of the client that the server has processed in the uplink. In other embodiments, the synchronization tokens represent data areas for which the client has acknowledged the performance of backward synchronization. As discussed in the above referenced related application, these tokens are used to identify and prioritize server data during backward synchronization. An individual identification ensures that the correct data is synchronized.
Die Konfigurationsspezifikationsdaten 279 sind Konfigurationsinformationen, die von dem Server zur Durchführung der Synchronisation mit dem Client benutzt werden. Konfigurationsinformationen können Suchkriterien (z. B. Datenfelder, Dateninhalte, mit Daten verbundene Etiketten etc.), die Anzahl der zu synchronisierenden Elemente, die Priorität der zu synchronisierenden Daten etc. enthalten, sind aber nicht darauf beschränkt. The configuration specification data 279 are configuration information used by the server to synchronize with the client. Configuration information may include, but is not limited to, search criteria (eg, data fields, data contents, labels associated with data, etc.), the number of items to be synchronized, the priority of the data to be synchronized, and so forth.
Der Zwischenspeicher für Clientdaten 276 enthält alle weiteren Daten auf dem Server, die zu einem bestimmten Client gehören, und kann andere Clientanwendungsdaten enthalten, ist aber nicht darauf beschränkt. Andere clientspezifische Daten 281 können andere synchronisationsspezifische Informationen für andere Anwendungen enthalten, sind aber nicht darauf beschränkt. The cache for client data 276 contains all other data on the server that belongs to a particular client and may include, but is not limited to, other client application data. Other client-specific data 281 may contain, but are not limited to, other synchronization-specific information for other applications.
3 zeigt ein Blockdiagramm für einen exemplarischen Client 300, der mit dem Server interagiert. Der Client 300 besteht für gewöhnlich aus einem oder mehreren Prozessoren (CPUs) 302, einer oder mehrerer Netzwerk- oder anderen Kommunikationsschnittstellen 306, Speicher 305 und einem oder mehreren Kommunikationsbussen 304, um diese Komponenten zu verbinden. Die Kommunikationsbusse 304 können eine Schaltung (auch Chipsatz genannt) enthalten, die die Kommunikationen zwischen den Systemkomponenten miteinander verbindet und steuert. 3 shows a block diagram for an exemplary client 300 that interacts with the server. The client 300 usually consists of one or more processors (CPUs) 302 , one or more network or other communication interfaces 306 , Storage 305 and one or more communication buses 304 to connect these components. The communication buses 304 may include a circuit (also called a chipset) that interconnects and controls the communications between the system components.
Das Client-Gerät 300 kann eine Benutzerschnittstelle 390 enthalten, die über ein Ausgabegerät wie einen Bildschirm 392 oder eine Audioausgabe wie einen Lautsprecher (nicht abgebildet) und ein Benutzereingabegerät 394 verfügt. Der Bildschirm 392 kann ein Aktiv-Matrix-Bildschirm oder ein Touchscreen etc. sein, das Benutzereingabegerät 394 kann eine beliebige Kombination zum Beispiel von Nummernblock, Softkeys, Touchpad, alphanumerischer Tastatur oder Touchscreen etc. sein. Der Speicher 305 kann Schnellspeicher enthalten oder auch nichtflüchtigen Speicher wie ein oder mehrere Magnetplattenspeichergeräte, und tragbare Speichergeräte wie Flash-Speicher, die entfernt von der (den) Zentraleinheit(en) 302 platziert sein können. In einigen Ausführungsformen speichert der Speicher 305 Programme, Module und Datenstrukturen, oder eine Teilmenge davon, die ein Betriebssystem 301, ein Kommunikationsmodul 303, ein Grafikmodul 307, einen Cache-Speicher 308, ein Clientanwendungsmodul 310, ein Clientsynchronisationsmodul 320 und Daten 380 enthält. The client device 300 can be a user interface 390 Contain that via an output device like a screen 392 or an audio output such as a speaker (not shown) and a user input device 394 features. The screen 392 may be an active matrix screen or a touch screen, etc., the user input device 394 may be any combination of, for example, numeric keypad, softkeys, touchpad, alphanumeric keypad or touch screen, etc. The memory 305 may include fast memory or nonvolatile memory such as one or more disk storage devices, and portable storage devices such as flash memory remote from the central processing unit (s) 302 can be placed. In some embodiments, the memory stores 305 Programs, modules, and data structures, or a subset of them, that are an operating system 301 , a communication module 303 , a graphics module 307 , a cache 308 , a client application module 310 , a client synchronization module 320 and dates 380 contains.
Das Betriebssystem 301 beinhaltet Verfahren für die Durchführung verschiedener grundlegender Systemdienste und hardwarenaher Tasks. The operating system 301 includes procedures for performing various basic system services and hardware-related tasks.
Das Kommunikationsmodul 303 verbindet die Clientanwendungen 310 mit Servern über eine oder mehrere Kommunikationsnetzwerkschnittstellen 306 (drahtgebunden oder drahtlos) und ein oder mehrere Kommunikationsnetzwerke wie das Internet, andere Weitverkehrsnetze, lokale Netzwerke, Stadtnetzwerke, Mobilfunknetze etc. The communication module 303 connects the client applications 310 with servers over one or more communication network interfaces 306 (wired or wireless) and one or more communication networks such as the Internet, other wide area networks, local area networks, city networks, mobile networks, etc.
Der Zwischenspeicher 308 speichert vorübergehend Informationen für den schnellen Zugriff durch eine aktive Anwendung. Beispiele dieser gespeicherten Informationen können Metadaten und andere Informationen, die spezifisch für eine Anwendung sind, sein. Im allgemeinen werden diese Informationen gelöscht, wenn die Anwendung inaktiv wird. The cache 308 temporarily stores information for quick access by an active application. Examples of this stored information may be metadata and other information specific to an application. In general, this information is deleted when the application becomes inactive.
Die Clientanwendungsmodule 310 enthalten eine oder mehrere Anwendungen, die auf dem Client-Gerät 300 ausgeführt werden können. Einiger dieser Anwendungen 310 sind für die Interaktion mit dem Server 200 konfiguriert, um Tasks in Verbindung mit Kommunikation, Verwaltung der Benutzeroberfläche, Anpassung der Anwendungen und Verwaltung von bestimmten Clientanwendungen wie E-Mail, Kalender, Textnachrichten, Medienabspielprogramme oder Software für das Bearbeiten und Betrachten von Dokumenten durchzuführen. Eine Clientanwendung wird von dem Client-Gerät betrieben, wenn sie aktiv ist. The client application modules 310 contain one or more applications running on the client device 300 can be executed. Some of these applications 310 are for interacting with the server 200 configured to perform tasks related to communication, UI management, application customization, and management of specific client applications such as e-mail, calendars, text messages, media players, or software for editing and viewing documents. A client application is operated by the client device when it is active.
Das Clientsynchronisationsmodul 320 wird für die Synchronisation von Daten für Anwendungen, die unabhängig auf dem Client-Gerät oder dem Server arbeiten können, eingesetzt. Das Clientsynchronisationsmodul 320 kann Synchronisationsschemen beinhalten, die entweder für eine Anwendung spezifisch sind oder allgemein für mehrere Anwendungen gelten. In einer Ausführungsform enthält das Synchronisationsmodul 320 ein Abwärtssynchronisationsmodul 325, ein Aufwärtssynchronisationsmodul 330, eine Synchronisationssteuerung 340 und ein Etikettensuchmodul. Die Funktionen dieser Module entsprechen denen ihres jeweiligen Gegenstücks auf dem Server. The client synchronization module 320 is used to synchronize data for applications that can work independently on the client device or server. The client synchronization module 320 may include synchronization schemes that are either specific to one application or generally applicable to multiple applications. In one embodiment, the synchronization module includes 320 a downward synchronization module 325 , an upstream synchronization module 330 , a synchronization control 340 and a label search module. The functions of these modules correspond to those of their respective counterparts on the server.
Das Abwärtssynchronisationsmodul 325 ist dafür verantwortlich, dass der Client Datenänderungen von dem Server empfängt. Ähnlich wie das Server-Gegenstück beinhaltet die Abwärtssynchronisation in einer Ausführung eine Vorwärts- und eine Rückwärtssynchronisation, die in der oben zitierten in Beziehung stehenden Anwendung genauer beschrieben werden. The downward synchronization module 325 is responsible for the client receiving data changes from the server. Similar to the server counterpart, downlink synchronization in one embodiment involves forward and backward synchronization, which are described in greater detail in the related application cited above.
Das Aufwärtssynchronisationsmodul 330 ist wie das oben beschriebene Server-Gegenstück für die Synchronisation von Änderungen an den Clientdaten zum Server verantwortlich. Es ist zu beachten, dass andere Synchronisationsschemen für die Synchronisation von Datenänderungen zwischen Server und Client möglich sind. Die Synchronisationssteuerung 340 steuert die Operationen der Datensynchronisation entsprechend der Konnektivität zu einem Kommunikationsnetzwerk, der Erkennung von unsynchronisierten Daten oder anderen Bedingungen, die bei der Datensynchronisation vorliegen. In einer Ausführungsform ist der Client so konfiguriert, dass er eine Synchronisationsanfrage an den Server auslöst, wobei auch der umgekehrte Weg möglich ist. The upward synchronization module 330 Like the server counterpart described above, it is responsible for synchronizing changes to the client data to the server. It should be noted that other synchronization schemes are available for synchronizing data changes between server and client. The synchronization control 340 controls the operations of data synchronization according to the connectivity to a communication network, the detection of unsynchronized data, or other conditions present in data synchronization. In one embodiment, the client is configured to initiate a synchronization request to the server, although the reverse approach is also possible.
Das Datenmodul 380 kann Dateien enthalten, die von den Anwendungen im Anwendungsmodul 310 benutzt werden, und Daten, die für die Synchronisation mit dem Server verwendet werden. In einigen Ausführungsformen kann das Datenmodul 380 mindestens eines der folgenden enthalten: Synchronisationsdaten 370 für die Datensynchronisation mit dem Server, gespeicherte Daten 382 oder die Konfigurationsspezifikation 384. The data module 380 may contain files that are from the applications in the application module 310 and data used for synchronization with the server. In some embodiments, the data module 380 contain at least one of the following: synchronization data 370 for data synchronization with the server, stored data 382 or the configuration specification 384 ,
Die Synchronisationsdaten 370 können spezifische Daten wie die Synchronisationstokens 372, die lokale/Client-Historientabelle 374 und Synchronisationsdaten 376, die für einige Anwendungen spezifisch sein können, enthalten. Diese Daten werden speziell für die Synchronisation des Client-Geräts mit dem Server benutzt. The synchronization data 370 can be specific data like the synchronization tokens 372 , the local / client history table 374 and synchronization data 376 that may be specific to some applications contain. This data is used specifically to synchronize the client device with the server.
Die Synchronisationstokens 372 repräsentieren von dem Client gepflegte Daten darüber, was der Client über den Status des Servers weiß. In einigen Ausführungsformen beinhalten diese Tokens die höchste SHO ID von dem Server, die der Client in den bisherigen Vorwärtssynchronisationen verarbeitet hat. In anderen Ausführungsformen repräsentieren die Synchronisationstokens Datenbereiche, die der Client während der Rückwärtssynchronisation verarbeitet hat, wie durch die letzte von dem Server empfangene Bestätigung ermittelt wurde. The synchronization tokens 372 represent data maintained by the client on what the client knows about the status of the server. In some embodiments, these tokens include the highest SHO ID from the server that the client has processed in the previous forward synchronizations. In other embodiments, the synchronization tokens represent data areas that the client has processed during backward synchronization, as determined by the last acknowledgment received from the server.
Die lokale/Client-Historientabelle 374 enthält Informationen über Datenänderungen auf dem Client. Jeder Eintrag in dieser Tabelle hat eine CHO ID und repräsentiert eine bestimmte Datenoperation. Genauer gesagt können die Informationen in der lokalen/Client-Historientabelle für die Aufwärtssynchronisation der Daten mit dem Client verwendet werden. Synchronisationdaten spezifisch für andere Anwendungen 376 sind andere Anwendungsdaten spezifisch für andere Anwendungen. The local / client history table 374 contains information about data changes on the client. Each entry in this table has a CHO ID and represents a particular data operation. More specifically, the information in the local / client history table can be used for up-synchronization of the data with the client. Synchronization data specific to other applications 376 Other application data is specific to other applications.
Die zwischengespeicherten Daten 382 repräsentieren andere Daten, die auf dem Client gespeichert sind. Dies können Daten sein, die für verschiedene andere Anwendungen benutzt werden, oder Daten für die Synchronisation mit dem Server. The cached data 382 represent other data stored on the client. This can be data used for various other applications or data for synchronization with the server.
Die Konfigurationsspezifikation 384 enthält spezifische Konfigurationsinformationen über das Client-Gerät. Diese Informationen können für die Identifizierung des Clients auf dem Server oder anderen Geräten zu Synchronisations- und Interaktionszwecken und für das Aktivieren und Betreiben von Anwendungen verwendet werden. Zum Beispiel können die Informationen in der Konfigurationsspezifikation eine Client-Identifizierung, eine Geräteidentifizierung des Clients, eine Identifizierung einer Anwendung mit zu synchronisierenden Daten und Kriterien für die Synchronisation etc. enthalten, sind aber nicht darauf beschränkt. The configuration specification 384 contains specific configuration information about the client device. This information can be used to identify the client on the server or other devices for synchronization and interaction, and to enable and run applications. For example, the information in the configuration specification may include, but is not limited to, client identification, device identification of the client, identification of an application with data to be synchronized, and criteria for synchronization, etc.
Die in dieser Offenbarung beschriebene suchbasierte Spezifikation betrifft alle Verfahren für die Datensynchronisation zwischen einem Server und dem Client. Das Ziel der Suche ist die Auswahl einer Datenteilmenge aus einem größeren Datensatz und wird deswegen häufig auf dem Server angewendet, wo der Datensatz vollständig vorliegt. Die Suche erzeugt einen Fokusdatensatz, der gemäß der Relevanz der Daten für den Benutzer des Client-Geräts priorisiert werden kann. Dieses Suchverfahren ergänzt das Synchronisationsverfahren, das in der oben zitierten in Beziehung stehenden Anwendung beschrieben wird. Einer der Vorteile besteht darin, dass Benutzer die Auswahl und Priorisierung der Datenänderungen auf dem Server für die Synchronisation steuern können. Suchbasierte Datensynchronisation kann auch auf Clientdaten angewendet werden, aber in Anbetracht der geringeren Datenmenge auf dem Client wird dieses Suchverfahren normalerweise nicht auf dem Client durchgeführt. The search-based specification described in this disclosure relates to all methods of data synchronization between a server and the client. The goal of the search is to select a subset of data from a larger data set, so it is often used on the server where the data set is complete. The search generates a focus data set that can be prioritized according to the relevance of the data to the user of the client device. This search method complements the synchronization method described in the above-cited related application. One of the benefits is that users can control the selection and prioritization of data changes on the server for synchronization. Search-based data synchronization can also be applied to client data, but given the smaller amount of data on the client, this search is typically not performed on the client.
4 zeigt ein exemplarisches Synchronisationsinteraktionsschema 400 zwischen dem Server 402 und dem Client 404. In einigen Ausführungsformen findet vor der ersten Startsynchronisation und der Hauptsynchronisation eine Konfigurationssynchronisation statt. Jeder vorherige Schritt kann erneut aufgegriffen werden, und Clients können nach Belieben konfiguriert werden. Die Startsynchronisation wird jedes Mal, wenn der Client sie anfordert, erneut durchgeführt. In einigen Ausführungsformen priorisiert die Startsynchronisation die Rückwärtssynchronisation erneut. In anderen Ausführungsformen repräsentieren die Synchronisisationstokens Datensynchronisationsbereiche, wobei erneut eine Rückwärtssynchronisation priorisiert wird. Zum Beispiel kann die Rückwärtssynchronisation in einem E-Mail-Kontext Konversationen in einer Rangfolge von den neuesten zu den ältesten laden. In diesem Fall setzt die Startsynchronisation die Bedeutung von „neueste“ auf „jetzt“. In einigen Ausführungsformen findet ein Startsynchronisations-Handshake 421 zwischen dem Server 402 und dem Client 404 statt, um den eigentlichen Datensynchronisationsprozess auszulösen, der durch den Hauptsynchronisations-Handshake 423 repräsentiert wird. Im allgemeinen kann ein Konfigurations-Handshake 422 vor einem Startsynchronisations-Handshake 421 erfolgen, um die für den Client spezifische Synchronisationskonfiguration zu bestätigen. Einige Ausführungsformen des Startsynchronisations-Handshakes 421 und des Hauptsynchronisations-Handshakes 423 werden in der oben zitierten in Beziehung stehenden Anwendung genauer beschrieben. Zum Beispiel wird der Startsynchronisations-Handshake in einigen Ausführungsformen entweder nach einer ausgedehnten Phase ohne Kommunikation des Clients 404 mit dem Server 402 ausgelöst (z. B. wenn er außer Reichweite des Kommunikationsnetzwerks ist, das Client-Gerät ausgeschaltet ist, die Anwendung auf dem Client geschlossen ist oder wenn das Gerät oder der Server von dem Kommunikationsnetzwerk getrennt ist) oder vor der ersten Datensynchronisation zwischen dem Client und dem Server. 4 shows an exemplary synchronization interaction scheme 400 between the server 402 and the client 404 , In some embodiments, configuration synchronization occurs prior to the first start synchronization and the main synchronization. Each previous step can be taken up again and clients can be configured as desired. The Startup synchronization is performed again each time the client requests it. In some embodiments, the start synchronization prioritizes the backward synchronization again. In other embodiments, the synchronization tokens represent data synchronization areas, again prioritizing backward synchronization. For example, backward synchronization in an e-mail context may load conversions in a ranking from the newest to the oldest. In this case, the start synchronization sets the meaning of "newest" to "now". In some embodiments, there is a startup synchronization handshake 421 between the server 402 and the client 404 instead of triggering the actual data synchronization process by the main synchronization handshake 423 is represented. In general, a configuration handshake 422 before a start-up handshake 421 to confirm the client-specific synchronization configuration. Some embodiments of the start synchronization handshake 421 and the main sync handshake 423 are more fully described in the above-cited related application. For example, in some embodiments, the start synchronization handshake will either be after an extended phase without client communication 404 with the server 402 triggered (eg if it is out of range of the communication network, the client device is off, the application is closed on the client or if the device or the server is disconnected from the communication network) or before the first data synchronization between the client and the server.
Der Startsynchronisations-Handshake 421 identifiziert den Client am Server und bestimmt einen Anfangspunkt für die Datensynchronisation. Jeder Startsynchronisations-Handshake hat eine Anfrage 411 und eine Antwort 412. In einigen Ausführungsformen wird die Anfrage 411 von dem Client ausgelöst, und der Server sendet eine Antwort 412, nachdem er die Anfrage akzeptiert hat. Es ist darauf hinzuweisen, dass die Startsynchronisation wie in dieser Offenbarung dargestellt in die Hauptsynchronisation integriert oder vollständig entfernt werden kann. Des Weiteren kann die Anfrage von dem Server statt von dem Client ausgelöst werden. The startup synchronization handshake 421 identifies the client at the server and determines a starting point for data synchronization. Each start-up handshake has a request 411 and an answer 412 , In some embodiments, the request is 411 triggered by the client, and the server sends a response 412 after he has accepted the request. It should be noted that the start synchronization as shown in this disclosure can be integrated into the main synchronization or completely removed. Furthermore, the request may be raised by the server instead of the client.
Der Konfigurations-Handshake 422 bestimmt und bestätigt die Parameter für die Datensynchronisation zwischen dem Server und dem Client. Die Konfigurationsparameter können von einem Benutzer, der den Client zur Steuerung des Suchmechanismus auf dem Server für die Auswahl und Sortierung von Serverdaten für die Synchronisation verwendet, spezifiziert und verändert werden. In einem exemplarischen Handshake sendet der Client eine Konfigurationsspezifikationsanfrage 413 an den Server und empfängt eine Konfigurationsspezifikationsantwort 414 von dem Server zur Bestätigung der Konfigurationsspezifikation vor der Hauptsynchronisation. In anderen Ausführungsformen kann der Konfigurations-Handshake 422 Teil des Startsynchronisations-Handshakes 421 oder Teil des Hauptsynchronisations-Handshakes 423 sein. Des Weiteren kann die Anfrage zur Bestätigung der Konfigurationsspezifikation von dem Server an den Client gestellt werden. The configuration handshake 422 Determines and confirms the parameters for data synchronization between the server and the client. The configuration parameters may be specified and changed by a user using the client to control the search mechanism on the server for selecting and sorting server data for synchronization. In an exemplary handshake, the client sends a configuration specification request 413 to the server and receives a configuration specification response 414 from the server to confirm the configuration specification before the main synchronization. In other embodiments, the configuration handshake 422 Part of the startup synchronization handshake 421 or part of the main synchronization handshake 423 be. Furthermore, the request to confirm the configuration specification can be made by the server to the client.
Die Hauptsynchronisations-Handshakes 423 werden nach der Festlegung der Serverdatenbereiche für die Synchronisation durchgeführt. Jeder Hauptsynchronisations-Handshake hat eine Anfrage 415, 417 und eine Antwort 416, 418. In der exemplarischen Darstellung werden die Anfragen 415, 417 von dem Client und die Antworten 416, 418 von dem Server gesendet. In einigen Ausführungsformen enthält die Hauptsynchronisationsanfrage 415, 417 Änderungen an Clientdaten in einer Aufwärtssynchronisation mit dem Server, und die Hauptsynchronisationsantwort 416, 418 enthält Serverdaten und Serveränderungsoperationen in Verbindung mit Vorwärts- und Rückwärtssynchronisationen in einer Abwärtssynchronisation mit dem Client. In einigen Ausführungsformen wird die Hauptsynchronisation sofort wiederholt, solange es unsynchronisierte Daten auf den Server oder dem Client gibt. Des Weiteren wird die Hauptsynchronisation gemäß einer vordefinierten Bedingung wie einem festen Intervall oder dem Erscheinen von neuen Daten oder Datenoperationen auf dem Server oder dem Client wiederholt, vorausgesetzt es gibt eine aktive Verbindung zwischen dem Server und dem Client. In einigen Ausführungsformen wird die Startsynchronisation nur wiederholt, wenn es eine lange Unterbrechung gibt, die durch ein festgelegtes zeitliches Intervall wie eine Stunde vordefiniert ist, oder wenn die Anwendung schließt und neu startet 419. The main synchronization handshakes 423 are performed after setting the server data areas for synchronization. Each main synchronization handshake has a request 415 . 417 and an answer 416 . 418 , In the exemplary presentation, the inquiries become 415 . 417 from the client and the answers 416 . 418 sent from the server. In some embodiments, the main synchronization request includes 415 . 417 Changes to client data in an up-synchronization with the server, and the main synchronization response 416 . 418 includes server data and server change operations in conjunction with forward and reverse synchronization in down-synchronization with the client. In some embodiments, main sync is repeated immediately as long as there is unsynchronized data on the server or the client. Furthermore, the main synchronization is repeated according to a predefined condition such as a fixed interval or the appearance of new data or data operations on the server or the client, provided there is an active connection between the server and the client. In some embodiments, start synchronization is repeated only when there is a long break predefined by a fixed time interval, such as one hour, or when the application closes and restarts 419 ,
5 zeigt eine exemplarische Suchspezifikation für die Durchführung von Suchen für die Datensynchronisation. In einigen Ausführungsformen werden die Suchen vor der Datensynchronisation auf dem Server durchgeführt. In anderen Ausführungsformen können die Suchen gleichzeitig mit der Datensynchronisation durchgeführt werden. In einigen Ausführungsformen kann eine Suchspezifikation 501 mehrere Suchen enthalten. Jede dieser Suchen 502, 505 kann ein oder mehrere Suchkriterien enthalten. In einigen Ausführungsformen können diese Suchen parallel oder in Serie durchgeführt werden. Suchen können auch spezifisch für einen Datentyp oder einen Zeitraum sein. In einigen Ausführungsformen können die Suchkriterien 502-A, B und 505-A, B in jeder Suche einen anderen Aspekt der Daten repräsentieren. Zum Beispiel können die Kriterien das Entstehungsdatum der Daten, das Änderungsdatum der Daten, mit den Daten verbundene Etiketten oder Eingabefelder in den Daten enthalten, sind aber nicht darauf beschränkt. Einige spezifische Beispiele können mit einer E-Mail-Adresse verbundene Etiketten, mit einer E-Mail-Konversation verbundene Etiketten, Sender- und Betrefffeld in einer E-Mail-Nachricht oder Konversation, Adress-, Telefonnummer- und E-Mail-Feld eines Kontakts oder Subjekt, Datum und Uhrzeit eines Kalendereintrags sein, sind aber nicht darauf beschränkt. 5 shows an exemplary search specification for performing searches for data synchronization. In some embodiments, the searches are performed before the data synchronization on the server. In other embodiments, the searches may be performed concurrently with the data synchronization. In some embodiments, a search specification 501 contain several searches. Each of these searches 502 . 505 can contain one or more search criteria. In some embodiments, these searches may be performed in parallel or in series. Searches can also be specific to a data type or period. In some embodiments, the search criteria may be 502-A , Federation 505-A , B represent a different aspect of the data in each search. For example, the criteria may include the date of origin of the data, the date of modification of the data, labels associated with the data, or Input fields in the data include, but are not limited to. Some specific examples may include labels associated with an e-mail address, labels associated with an e-mail conversation, sender and subject field in an e-mail message or conversation, address, telephone number, and e-mail field of an e-mail address Contact, subject, date and time of a calendar entry, but are not limited thereto.
6 zeigt eine exemplarische Anfrage für eine Konfigurationsspezifikation in einem Konfigurations-Handshake. Die Konfigurationsspezifikation beschreibt die Parameter, die von dem Suchmechanismus für die Konfiguration der Suche verwendet werden, um vor der Synchronisation Daten auszuwählen und zu priorisieren. In einigen Ausführungsformen enthält die Konfigurationsspezifikation die Definition der Suchkriterien. Zum Beispiel können die Suchkriterien verschiedene von dem Benutzer auf dem Client spezifizierte Etiketten enthalten, um die Suchen in einer bestimmten Reihenfolge durchzuführen. Anders ausgedrückt können die Etiketten so angeordnet werden, dass die Suchergebnisse mit der Reihenfolge, in der die Kriterien angeordnet sind, übereinstimmen. In anderen Ausführungsformen können die Kriterien willkürlich angeordnet sein, es kann aber einen spezifischen Eintrag geben, der den Suchmechanismus von einer festgelegten Anordnung für die Durchführung der Suchen informiert. In einigen Ausführungsformen können die Suchkriterien von dem Client bestimmt werden, in anderen Ausführungsformen können die Suchkriterien von dem Server festgelegt werden. 6 shows an exemplary request for a configuration specification in a configuration handshake. The configuration specification describes the parameters used by the Search Configuration Tool to select and prioritize data prior to synchronization. In some embodiments, the configuration specification includes the definition of the search criteria. For example, the search criteria may include various labels specified by the user on the client to perform the searches in a particular order. In other words, the labels may be arranged so that the search results match the order in which the criteria are arranged. In other embodiments, the criteria may be arbitrary, but there may be a specific entry that informs the search mechanism of a designated order to perform the searches. In some embodiments, the search criteria may be determined by the client, in other embodiments, the search criteria may be determined by the server.
6 zeigt auch mehrere Kategorien von Kriterien, die von dem Suchmechanismus für die Auswahl und Priorisierung von Serverdaten für die Synchronisation benutzt werden. Für die Suche können verschiedene Kategorien von Kriterien verwendet werden. In einigen Ausführungsformen können die Suchkriterien verschiedene Arten von Etiketten enthalten, sind aber nicht darauf beschränkt. Einige exemplarische Etikettenkategorien sind Immer einschließen 602, Immer ausschließen 603, In-Zeitraum 604, 607, 610, In-Zeitraum-einschließen 605, 608, In-Zeitraum-ausschließen 606, 609 und Priorität 611, sie sind aber nicht darauf beschränkt. In einigen Ausführungsformen enthält eine „Immer einschließen“-Liste Etiketten, dass sie immer in die Datensynchronisation einbezogen werden soll; eine „Immer ausschließen“-Liste enthält Etiketten, dass sie immer von der Datensynchronisation ausgeschlossen werden soll. Exemplarisch kann die „Immer einschließen“-Liste alle Nachrichten/Konversationen/Kontakte/Kalender/Aufgaben enthalten, die das Etikett „Neu“, „Arbeit“ oder „Stern“ haben. Die „immer ausschließen“-Liste kann Nachrichten/Konversationen/Kontakte/Kalender-/Aufgaben-Einträge enthalten, die das Etikett „Papierkorb“ oder „Spam“ haben. In-Zeitraum ist eine Kategorie, die spezifiziert, aus welchen Zeitraum die gesuchten Daten stammen. 6 also shows several categories of criteria used by the search mechanism for the selection and prioritization of server data for synchronization. Different categories of criteria can be used for the search. In some embodiments, the search criteria may include, but is not limited to, various types of labels. Some exemplary label categories are Always Include 602 Always exclude 603 , In-period 604 . 607 . 610 To include in-period 605 . 608 , In-period exclusion 606 . 609 and priority 611 but they are not limited to that. In some embodiments, an "always include" list includes labels that should always be included in the data synchronization; an Always Exclude list contains labels that should always be excluded from data synchronization. By way of example, the "always include" list may include all messages / conversations / contacts / calendars / tasks that have the label "new", "work" or "star". The "always-exclude" list may include messages / conversations / contacts / calendar / to-do entries that have the label "trash" or "spam". In-period is a category that specifies the period from which the searched data originates.
Exemplarisch werden drei In-Zeiträume gezeigt. Dies sind die Zeiträume von Gegenwart bis 1 Woche vor dem gegenwärtigen Zeitpunkt, von Vor einer 1 Woche bis Vor 4 Wochen und von Vor 4 Wochen bis Vor 8 Wochen. Diese In-Zeitraum-Etiketten können von dem System eingesetzt werden, um nach Anwendungsdaten innerhalb eines bestimmten Zeitraums zu suchen. Des Weiteren können die Kategorien In-Zeitraum-einschließen und In-Zeitraum-ausschließen Attribut-Etiketten und Nicht-Attribut-Etiketten in diesen Zeiträumen spezifizieren, um sie in die jeweilige Suche einzubeziehen oder sie davon auszuschließen. Durch die Kombination einiger einfacher Suchregeln und der Verwendung von Etiketten gibt es unbegrenzt viele Methoden für die Auswahl und Anordnung von Anwendungsdaten, so dass die Daten mit der höchsten Relevanz für den Benutzer ausgewählt und nach Priorität an den Client gesendet werden können. Die Reihenfolge der mit dem Client zu synchronisierenden Anwendungsdaten ist dann von Bedeutung, wenn die Datensynchronisation aus irgendeinem Grund vorzeitig abgebrochen wird, weswegen es vorzuziehen ist, dass relevante Daten von hoher Priorität vor Daten mit niedriger Priorität synchronisiert und an den Client gesendet werden. As an example, three in-periods are shown. These are the time periods from present to 1 week before the present time, from 1 week to 4 weeks ago and from 4 weeks to 8 weeks ago. These in-period labels can be used by the system to search for application data within a specific time period. Further, the In-Period Include and Exclude In-Period categories may specify attribute labels and non-attribute labels in these periods to include or exclude them from the respective search. By combining a few simple search rules and the use of labels, there are an infinite number of methods for selecting and arranging application data, so that the most relevant data can be selected for the user and sent to the client in priority. The order of the application data to be synchronized with the client is significant if data synchronization is aborted prematurely for some reason, therefore, it is preferable that relevant high priority data be synchronized against low priority data and sent to the client.
7 zeigt ein exemplarisches Datenelement in der Form einer E-Mail-Nachricht, das von dem in dieser Offenbarung beschriebenen Suchmechanismus verwendet werden kann. Nachricht 701 enthält mindestens zwei Kategorien von Informationen, Metadaten 710 und Dateninhalt 750. In einer Ausführungsform enthalten die Metadaten 710 Informationen, die von den Synchronisations- und Suchmechanismen zum Identifizieren, Auswählen und Sortieren der Nachricht verwendet werden können. Einige Beispiele für verschiedene Metadatenfelder sind Daten-/Nachricht-ID 711, Attributetiketten 712 und Nicht-Attribut-Etiketten 713. Andere hier nicht gezeigte Metadaten können Popularitätswertungen und andere sekundäre Informationen außerhalb der Anwendungsdaten enthalten, wie zugehörige Sprachen, zugehörigen Ort, Merkmale, die zeigen, ob die Anwendungsdaten gezielt den persönlichen Vorlieben des Benutzers des Client-Geräts entsprechen (z. B. persönlicher Geschmack). 7 FIG. 12 shows an exemplary data item in the form of an e-mail message that may be used by the search mechanism described in this disclosure. message 701 Contains at least two categories of information, metadata 710 and data content 750 , In one embodiment, the metadata includes 710 Information that can be used by the synchronization and search mechanisms to identify, select, and sort the message. Some examples of different metadata fields are data / message ID 711 , Attribute labels 712 and non-attribute labels 713 , Other metadata not shown here may include popularity ratings and other secondary information outside of the application data, such as associated languages, associated location, features that indicate whether the application data is responsive to the personal preference of the user of the client device (eg, personal taste). ,
Die Metadaten 710 in jedem Datenelement können für den Benutzer sichtbar oder unsichtbar sein, aber sie können von dem System und/oder dem Benutzer bearbeitet werden, wenn Status oder Inhalte für die Daten verändert werden. In einigen Ausführungsformen kann die Daten-/Nachricht-ID 711 einem Synchronisationstoken entsprechen, das von der Rückwärtssynchronisation benutzt wird. In einer Ausführungsform ist diese Daten-/Nachricht-ID 711 spezifisch für jede Nachricht (oder jedes Element in den Anwendungsdaten) und kann nicht verändert werden. Diese Daten-/Nachricht-ID 711 ist im allgemeinen für die Identifizierung des Datenelements während des Synchronisationsprozesses notwendig. The metadata 710 in each data element may be visible or invisible to the user, but they may be edited by the system and / or the user when status or content for the data is changed. In some embodiments, the data / message ID 711 correspond to a synchronization token used by the backward synchronization. In a Embodiment is this data / message ID 711 specific to each message (or item in the application data) and can not be changed. This data / message ID 711 is generally necessary for the identification of the data item during the synchronization process.
Die Attribut-Etiketten 712 sind Etiketten für Informationen, die von dem Benutzer nicht geändert werden können. Damit sind auch Informationen gemeint, die den Daten eigen sind. Zum Beispiel bleibt eine E-Mail-Nachricht immer eine E-Mail-Nachricht, sie wird nie als Adressbucheintrag gekennzeichnet. The attribute labels 712 are labels for information that can not be changed by the user. This also means information that is peculiar to the data. For example, an e-mail message will always remain an e-mail message, it will never be marked as an address book entry.
Die Nicht-Attribut-Etiketten 713 enthalten Informationen über ein Datenelement, das von dem Benutzer geändert werden kann. Zum Beispiel können Nachrichten von dem System zunächst mit einem Spam-Etikett als Spam eingestuft werden, und wenn der Benutzer die Nachricht nicht als Nicht-Spam kennzeichnet, ändert sich das Etikett auch nicht. Ebenso ist eine neue Nachricht, wenn ein Benutzer sie liest, nicht länger ungelesen und das System entfernt automatisch das mit der Nachricht verbundene Ungelesen-Etikett, wenn der Benutzer die Nachricht nicht ausdrücklich als ungelesen kennzeichnet. Entsprechend können die Nicht-Attribut-Etiketten 713 Etiketten enthalten, die von dem Benutzer zum Sortieren von Anwendungsdaten konzipiert sind und von dem System nicht verändert werden. Das System befasst sich nicht mit diesen von dem Benutzer konzipierten Etiketten. Allerdings kann das System als Antwort auf bestimmte Benutzer- oder Systemoperationen Daten mit Etiketten kennzeichnen, darunter, jedoch nicht darauf beschränkt, Löschen, als Spam Markieren etc. The non-attribute labels 713 contain information about a data item that can be changed by the user. For example, messages from the system may first be labeled as spam with a spam label, and if the user does not label the message as non-spam, the label will not change. Likewise, when a user reads them, a new message is no longer unread and the system automatically removes the unread label associated with the message unless the user explicitly marks the message as unread. Similarly, the non-attribute labels 713 Contain labels that are designed by the user to sort application data and are not modified by the system. The system does not deal with these user-designed labels. However, in response to certain user or system operations, the system may tag data with labels including, but not limited to, deleting, marking as spam, etc.
In einigen Ausführungsformen können Anhänge von Nachrichten (nicht abgebildet) ein eigenes Etikett haben, dass von dem System vergeben wurde (z. B. Attribut-Etiketten). In einigen Ausführungsformen kann das Etikett lediglich einen Anhang als solchen kennzeichnen, oder der Anhang kann in komplexeren Implementierungen zusätzlich mit dem Datentyp, der dem Anhang entspricht, etikettiert werden. In some embodiments, attachments of messages (not shown) may have their own label assigned by the system (eg attribute labels). In some embodiments, the label may only identify an attachment as such, or in more complex implementations, the attachment may additionally be labeled with the data type corresponding to the attachment.
Ebenso kann der Dateninhalt 750 eines Datenelements (z. B. Nachricht 701) auch Informationen enthalten, die von den Synchronisations- und Suchmechanismen zum Identifizieren, Auswählen und Sortieren der Nachricht verwendet werden können. Zum Beispiel kann der Dateninhalt 750 weitere unterschiedliche Informationsfelder enthalten. In diesem Beispiel einer E-Mail-Nachricht kann der Dateninhalt Felder wie Sender 751, Empfänger 752, Datum 753, Uhrzeit 754, Betreff 755 und Nachrichteninhalt 756 enthalten. Jedes dieser Felder kann als Suchkriterium dienen, und ein spezifischer Eintrag in jedem dieser Felder kann ein Suchziel für den Suchmechanismus sein. Im Synchronisationsprozess können Änderungen an jedem dieser Felder als Datenänderung gesehen werden und, abhängig davon, ob die Datenänderung auf dem Server oder dem Client durchgeführt wurde, eine Vorwärts- oder Aufwärtssynchronisation der Datenänderung oder des gesamten Elements auslösen. Similarly, the data content 750 a data element (eg message 701 ) also contain information that can be used by the synchronization and search mechanisms to identify, select and sort the message. For example, the data content 750 contain more different information fields. In this example of an e-mail message, the data content can be fields such as Sender 751 , Receiver 752 , Date 753 , Time 754 , Subject 755 and message content 756 contain. Each of these fields may serve as a search criterion, and a specific entry in each of these fields may be a search target for the search mechanism. In the synchronization process, changes to each of these fields can be seen as a data change and, depending on whether the data change was performed on the server or the client, trigger forward or upward synchronization of the data change or the entire element.
Die 8A bis 8D zeigen in einen exemplarischen Prozess, wie der Suchmechanismus Daten auswählt und sortiert. Diese Figuren zeigen das Auswahl- und Sortierverfahren von Daten auf dem Server, aber der Prozess kann gleichermaßen auf einem Client oder anderswo zum Auswählen und Sortieren von Daten angewendet werden. 8A zeigt auch eine Liste von Nachrichten als exemplarische Anwendungsdaten auf einem Server, wobei darauf hinzuweisen ist, dass es auch andere Arten von Anwendungsdaten gibt, unter anderem Dokumente, Tabellen, Diagramme, Grafiken, Fotos, Elemente eines RSS Feeds, Daten im Instant Messaging (IM), Daten im Kurzmitteilungsdienst (SMS), Kontaktgruppen oder sonstige Datentypen. Außerdem werden zur Veranschaulichung exemplarisch Datenelemente benutzt, wobei zu beachten ist, dass die gleichen Prinzipien auch auf Historienoperationen auf dem Server und dem Client zum Verdichten und Organisieren der Datenänderungen angewendet werden können. Des Weiteren können die Datenänderungen, die durch die Historienoperationen in Vorwärts- und Aufwärtssynchronisationen repräsentiert werden, gemäß der in der Konfigurationsspezifikation festgelegten Suchkriterien durchsucht werden. The 8A to 8D show in an exemplary process how the search mechanism selects and sorts data. These figures show the selection and sorting process of data on the server, but the process can equally be applied to a client or elsewhere for selecting and sorting data. 8A Also shows a list of messages as exemplary application data on a server, although it should be noted that there are other types of application data, including documents, tables, charts, graphics, photos, elements of an RSS feed, data in instant messaging (IM ), Data in short message service (SMS), contact groups or other data types. In addition, data elements are used by way of example, it being understood that the same principles can also be applied to history operations on the server and the client to compact and organize the data changes. Furthermore, the data changes represented by the history operations in forward and upward synchronizations may be searched according to the search criteria defined in the configuration specification.
In einigen Ausführungsformen entspricht die Liste der Anwendungsdaten in 8A der Liste von E-Mail-Nachrichten auf einem Server für eine E-Mail-Anwendung. In einigen Ausführungsformen entspricht die Liste der E-Mail-Nachrichten der Liste von Daten, die jeweils eine eindeutige Identifikation haben, die für die Rückwärtssynchronisation durch ein Rückwärtssynchronisationstoken repräsentiert wird (z. B. BST). Es ist darauf hinzuweisen, dass die Datenliste aus Kontaktinformationen, Kalendereinträgen oder anderen Daten bestehen kann, die von einer Client-Server-Anwendung verwendet werden. Des Weiteren ist darauf hinzuweisen, dass mehrere Datentypen aufgelistet und miteinander vermischt werden können, auch wenn nur ein Datentyp aufgelistet ist. In some embodiments, the list of application data corresponds to 8A the list of e-mail messages on a server for an e-mail application. In some embodiments, the list of e-mail messages corresponds to the list of data, each having a unique identifier that is represented for backward synchronization by a backward synchronization token (eg, BST). It should be noted that the data list may consist of contact information, calendar entries, or other data used by a client-server application. It should also be noted that multiple data types can be listed and mixed together, even if only one data type is listed.
Jede Nachricht in 8A ist einer Reihe von Datenattributen zugeordnet (z. B. Nachrichteninhalt, Senderfeld, Datumsfeld, Uhrzeitfeld, Betrefffeld, Etiketten etc.), die als Suchkriterien dienen können. In dem vorliegenden Beispiel werden verschiedene Etikettentypen als Hauptsuchkriterien verwendet, und jede Nachricht wird mit mindestens einem Etikett verbunden. Wie bereits beschrieben können Etiketten in mindestens zwei Gruppen eingeordnet werden: Attribut-Etiketten und Nicht-Attribut-Etiketten. Nachrichten erhalten inhärent das Attribut-Etikett (nicht abgebildet) „E-Mail-Nachricht“. Die in den Nachrichten in 8A abgebildeten Etiketten sind im allgemeinen Nicht-Attribut-Etiketten. Zur exemplarischen Veranschaulichung gehören zu den Nicht-Attribut-Etiketten unter anderem „Stern“, „Arbeit“, „Projekt X“, „Spam“, „Papierkorb“, „Auto“, „Jody“, „Fotos“, „Camp“, „Mutter“, „Vater“, „Kanada“, „Aktien“, „Anlage“, „ING“, „Projekt Y“, „10-jähriges Treffen“, „Muttertag“, „Utah Skiausflug“, „Eva“, „Universität“ und „Ungelesen“. Every message in 8A is assigned to a set of data attributes (such as message content, sender field, date field, time field, subject field, labels, etc.) that can serve as search criteria. In the present example, different types of labels are used as the main search criteria, and each message is associated with at least one label. As already described, labels can be grouped into at least two groups: attribute labels and non-attribute labels. Labels. Messages inherently receive the attribute label (not shown) "E-mail message". The in the news in 8A Illustrated labels are generally non-attribute labels. For purposes of illustration, non-attribute labels include, but are not limited to, star, work, project x, spam, trash, car, jody, photos, camp. Mother, Father, Canada, Stocks, Investment, ING, Project Y, 10-year meeting, Mother's Day, Utah Ski Tour University "and" Unread ".
Attribut-Etiketten und Nicht-Attribut-Etiketten können für Suchzwecke noch weiter kategorisiert werden. Zum Beispiel können die abgebildeten Kategorien in einigen Ausführungsformen „Immer einschließen“ (A-In-), „Immer ausschließen“ (A-Ex-) und „In-Zeitraum“ beinhalten, sind aber nicht drauf beschränkt. Attribute labels and non-attribute labels can be further categorized for search purposes. For example, in some embodiments, the mapped categories may include, but are not limited to, Always Include (A-In), Always-Exclude (A-Ex), and In-Period.
Einige als „Immer einschließen“ klassifizierte Nicht-Attribut-Etiketten schließen Jody und Bobby mit ein und einige als „Immer ausschließen“ klassifizierte Nicht-Attibut-Etiketten schließen Spam und Papierkorb mit ein. „In-Zeitraum“-Etiketten definieren im allgemeinen eine Zeitspanne und können von dem Benutzer festgelegt werden. Zum Beispiel kann sich „In-Zeitraum 1“ auf eine Zeitspanne von der Gegenwart bis zu 1 Woche vorher beziehen, „In-Zeitraum 2“ kann sich auf eine Zeitspanne von 1 Woche vorher bis zu 4 Wochen vorher beziehen und „In-Zeitraum 3“ kann sich auf eine Zeitspanne von 4 Wochen vorher bis zu 8 Wochen vorher beziehen etc. Des Weiteren können die Unterkategorien „Einschließen“ und „Ausschließen“ zu diesen „In-Zeitraum“-Kategorien hinzugefügt werden, so dass die Etiketten für die Durchführung einer detaillierteren Suche in diese Zeiträume einbezogen werden können (z. B. „In-Zeitraum 1-einschließen“) oder aus diesen Zeiträumen ausgeschlossen werden können (z. B. „In-Zeitraum 2-ausschließen“). In einigen Ausführungsformen werden bei der Implementierung des Suchmechanismus Suchen zur Auswahl oder Eingrenzung der Daten durchgeführt. Die ausgewählten Daten können durch eine Präzisierung der Suchen geordnet werden, nachdem eine größerer Datenbereich identifiziert wurde, oder die Daten können gemäß mehrerer aufeinander folgenden Suchen geordnet werden, so dass die Suchergebnisse in der Reihenfolge der sequentiellen Suchen angeordnet werden. Some non-attribute labels classified as "always include" include Jody and Bobby, and some "always exclude" non-attribute labels include spam and trash. In-period tags generally define a period of time and may be set by the user. For example, "In Period 1" may refer to a period of time from the present to 1 week before, "In Period 2" may refer to a period of 1 week before to 4 weeks before, and "In Period 3 "May refer to a period of time from 4 weeks before to 8 weeks before, etc. Furthermore, the subcategories" Include "and" Exclude "may be added to these" in-period "categories so that the labels for performing a more detailed searches can be included in these periods (eg, "Include In Period 1") or excluded from these periods (eg, "In Period 2 Exclude"). In some embodiments, in the implementation of the search mechanism, searches are made to select or narrow the data. The selected data may be ordered by refining the searches after a larger data area has been identified, or the data may be ordered according to a plurality of consecutive searches so that the search results are arranged in the order of the sequential searches.
In dem abgebildeten Beispiel ergibt sich 8B aus der Anwendung des Suchmechanismus, der alle Nachrichten auswählt, die das Etikett „Immer einschließen“ haben, und Nachrichten, für die „In-Zeitraum 1, 2, 3“ gilt. Wie gezeigt werden Nachrichten mit dem Etikett „A-Ex“ (z. B. Immer ausschließen, wie Papierkorb und Spam) und bestimmte ältere Nachricht außerhalb der „In-Zeitraum 1, 2, 3“-Zeitspanne (z. B. Etiketten wie „10-jähriges Treffen“ oder „Muttertag“ und „Utah Skiausflug“) ausgeschlossen. In the example shown results 8B from the application of the search mechanism, which selects all messages that have the tag "always include" and messages that have "in period 1, 2, 3". As shown, messages labeled "A-Ex" (eg Always Exclude, such as Recycle Bin and Spam) and certain older messages are out of the "In-period 1, 2, 3" period (eg, labels such as "10-year meeting" or "Mother's Day" and "Utah ski trip") excluded.
8C zeigt die ausgewählten Nachrichten, die mit dem Suchmechanismus nach In-Zeiträumen geordnet wurden. Zur exemplarischen Veranschaulichung bevorzugt es der Benutzer des Client-Geräts, die neuesten Nachrichten zuerst zu erhalten. Deswegen werden für die Synchronisation die Nachrichten aus der letzten Woche (d. h. Gegenwart bis 1 Woche vorher) vor die Nachrichten des letzten Monats (d. h. 1 Woche vorher bis zu 4 Wochen vorher) gesetzt, und diese wiederum vor die Nachrichten der letzten 2 Monate (d. h. 4 Wochen vorher bis zu 8 Wochen vorher). 8C shows the selected messages that have been sorted by in-period using the search mechanism. For exemplary illustration, the user of the client device prefers to receive the most recent messages first. Therefore, for the synchronization, the messages from the last week (ie, present until 1 week before) are set before the messages of the last month (ie 1 week before up to 4 weeks before), which in turn precede the messages of the last 2 months (ie 4 weeks before up to 8 weeks before).
8D zeigt die endgültige Anordnung der Nachrichten in jedem In-Zeitraum, wie sie durch den Suchmechanismus nach den Prioritäten der Etiketten angeordnet wurden, die vor der Datensynchronisation von dem Benutzer festgelegt wurden. Zur exemplarischen Veranschaulichung kann ein Benutzer festlegen, dass die Nachrichten für alle Datenbereiche nach den Etiketten „Ungelesen“, „Stern“ und „Arbeit“ und in dieser Reihenfolge priorisiert werden sollen. Für Nachrichten in den verschiedenen „In-Zeitraum“-Kategorien gilt dann, dass „Ungelesen“-Nachrichten vor Nachrichten mit einem „Stern“-Etikett und diese vor Nachrichten mit einem „Arbeit“-Etikett eingeordnet werden. In anderen Ausführungsformen kann die Priorität der Etiketten einzeln für jeden „In-Zeitraum“ festgelegt werden. Die verbleibenden Nachrichten können willkürlich angeordnet werden oder in der Reihenfolge, in der die Suchen durchgeführt werden. 8D Fig. 12 shows the final arrangement of the messages in each in-period as arranged by the search mechanism according to the priorities of the labels set by the user prior to the data synchronization. For purposes of illustration, a user may specify that the messages for all data areas be prioritized by the labels "Unread", "Star" and "Work" and in that order. For messages in the different "in-period" categories, then, "unread" messages are placed before messages with a "star" label and those before messages with a "work" label. In other embodiments, the priority of the labels may be set individually for each "in-period". The remaining messages can be arranged arbitrarily or in the order in which the searches are performed.
Zum Beispiel sind in „In-Zeitraum-1“ die Etiketten „Anlage“ und „Vater“ unter „In-Zeitraum-1-einschließen“ eingeordnet und das Etikett „Kanada“ ist unter „In-Zeitraum-1-ausschließen“ eingeordnet. Wenn sich die „Einschließen“- und „Ausschließen“-Kategorien widersprechen, hat die „Einschließen“-Kategorie in einigen Ausführungsformen Vorrang und hebt die „Ausschließen“-Einstufung auf. In diesem Beispiel erhält die Nachricht mit den Etiketten „Vater, Kanada“ die widersprüchlichen Anweisungen von den Suchen, dass sie sowohl eingeschlossen als auch ausgeschlossen werden soll, weswegen die Nachricht eingeschlossen wird. Wenn die Suche jedoch keine Anweisung gibt (z. B. „Mutter“), wird die mit „Mutter, Kanada“ klassifizierte Nachricht ausgeschlossen, da die Regel für das Ausschließen der Nachrichten mit dem Etikett „Kanada“ in Kraft ist. Diese Nachricht mit den Etiketten „Mutter, Kanada“ war wegen des mit der Nachricht verbundenen Datums ursprünglich in In-Zeitraum 1 mit eingeschlossen, wodurch der „In-Zeitraum-1“-Einstufung entsprochen wurde, nicht wegen des „Mutter“-Etiketts. Die Nachricht mit den Etiketten „A-In-Bobby, Camp“ wird eingeschlossen, da sie in die Zeitspanne von In-Zeitraum 1 fällt und deswegen immer eingeschlossen wird, nicht wegen des Etiketts „Camp“. For example, in In Period 1, the Attachment and Father tags are placed under In-Period-1-Include and the label Canada is placed under In-Period-1-Exclude. If the "include" and "exclude" categories are in conflict, the "include" category takes precedence in some embodiments and removes the "exclude" rating. In this example, the message with the words "Father, Canada" receives the conflicting instructions from the searches to be both included and excluded, so the message is included. However, if the search does not provide an instruction (for example, "mother"), the message classified as "mother, Canada" is excluded because the rule for excluding messages labeled "Canada" is in effect. This message with the labels "Mother, Canada" was originally included in In Period 1 because of the date associated with the message, which was equivalent to the "In-period 1" rating, not because of the "mother" label. The message with the labels "A-In-Bobby, Camp" is included, as it enters the period of Period 1 falls and therefore is always included, not because of the label "Camp".
Nachrichten in „In-Zeitraum 2“ werden in der Reihenfolge „Ungelesen“, „Stern“ und „Arbeit“ angeordnet. Zur exemplarischen Veranschaulichung ist das Etikett „München“ in der „In-Zeitraum 2-ausschließen“-Kategorie eingeschlossen, so dass die Nachricht mit dem Etikett „München“ von der endgültigen Liste ausgeschlossen ist. Gleichermaßen sind die Nachrichten mit den Etiketten „A-In-Jody, Fotos“ und „ING, Anlage“ eingeschlossen, da diese Etiketten der „In-Zeitraum 2-einschließen“-Kategorie zugeordnet sind. Messages in "In Period 2" are arranged in the order "Unread", "Star" and "Work". For purposes of exemplification, the label "Munich" is included in the "In-Period 2-Exclude" category, so the message with the label "Munich" is excluded from the final list. Likewise, the messages are tagged with the labels "A-In-Jody, Photos" and "ING, Attachment" because those labels are associated with the "In-period 2-Include" category.
Nachrichten in „In-Zeitraum 3“ sind auf gleiche Weise in der Reihenfolge der priorisierten Etiketten „Ungelesen“, „Stern“, „Arbeit“ angeordnet wie bei In-Zeitraum 1 und 2. Gleichermaßen ist das Etikett „Kanada“ unter „In-Zeitraum 3-ausschließen“ eingeordnet, weswegen die Nachricht mit dem Etikett „Kanada, Fotos“ ausgeschlossen wird. In einer anderen Ausführungsform kann ein Benutzer festlegen, dass die mit „Ausschließen“ verbundenen Etiketten für In-Zeitraum 3 vor den mit „Einschließen“ verbundenen Etiketten Vorrang haben, so dass die Nachricht mit den Etiketten „Kanada, Fotos“ ausgeschlossen wird, auch wenn das Etikett „Fotos“ unter „In-Zeitraum 3-einschließen“ eingeordnet ist. Messages in "In period 3" are arranged in the same way in the order of the prioritized labels "Unread", "Star", "Work" as in In period 1 and 2. Similarly, the label "Canada" is under "In". Period 3-exclude ", which is why the message with the label" Canada, photos "is excluded. In another embodiment, a user may specify that the in-period 3 labels associated with "Exclude" precede the labels associated with "include" so that the message is excluded with the "Canada, Photos" labels, even though the label "Photos" is placed under "In-Period 3-Include".
In einigen Ausführungsformen kann der suchbasierte Mechanismus vor oder nach der Durchführung von Operationen an der Anwendung zur Festlegung einer Aktion für die Operation eingesetzt werden. Wenn der Benutzer zum Beispiel ein Etikett zu einer Nachricht hinzufügt und das Etikett bedeutet, dass die Nachricht von der Synchronisation ausgeschlossen ist, wird die ursprüngliche Nachricht, von der eine Kopie auf dem Client-Gerät existiert, von dem Client-Gerät entfernt, nachdem das Etikett zu den entsprechenden Anwendungsdaten auf dem Server hinzugefügt wurde. Gleichermaßen kann das Hinzufügen eines Etiketts zu einer Nachricht dazu führen, dass diese Nachricht auf den Client synchronisiert wird, auch wenn die ursprüngliche Nachricht nicht auf dem Client existierte. In some embodiments, the search-based mechanism may be employed before or after performing operations on the application to determine an action for the operation. For example, if the user adds a tag to a message and the tag signifies that the message is excluded from synchronization, the original message that has a copy on the client device is removed from the client device after that Label was added to the appropriate application data on the server. Likewise, adding a label to a message may cause that message to synchronize to the client, even if the original message did not exist on the client.
Kurz gesagt kann der Suchmechanismus unterschiedliche Auswirkungen auf die Daten auf dem Server haben. Erstens kann eine Operation dazu führen, dass der Suchmechanismus die Anwendungsdaten zu dem Client hinzufügt oder synchronisiert, falls die entsprechenden Anwendungsdaten nicht auf dem Client existieren. Zweitens kann eine Operation dazu führen, dass der Suchmechanismus keine Aktion an den entsprechenden Anwendungsdaten auf dem Client durchführt, falls die entsprechenden Anwendungsdaten auf dem Client existieren. Drittens kann eine Operation dazu führen, dass der Suchmechanismus die entsprechenden Anwendungsdaten auf dem Client entfernt, falls die entsprechenden Anwendungsdaten auf dem Client existieren. Viertens kann eine Operation dazu führen, dass der Suchmechanismus die entsprechenden Anwendungsdaten auf dem Client gemäß der an den Anwendungsdaten auf dem Server durchgeführte Operation ändert, falls die entsprechenden Anwendungsdaten auf dem Client existieren. In short, the search mechanism can have a different impact on the data on the server. First, an operation may cause the search mechanism to add or synchronize the application data to the client if the corresponding application data does not exist on the client. Second, an operation may cause the search mechanism to take no action on the appropriate application data on the client if the corresponding application data exists on the client. Third, an operation may cause the search mechanism to remove the appropriate application data on the client if the corresponding application data exists on the client. Fourth, an operation may cause the search mechanism to change the corresponding application data on the client according to the operation performed on the application data on the server, if the corresponding application data exists on the client.
9 zeigt in einem Ablaufdiagramm das exemplarisches Verfahren für den Empfang von durch einen Suchmechanismus ausgewählten Serverdaten auf einem Client. In einigen Ausführungsformen empfängt der Client wie in Block 931 dargestellt eine Kommunikation von einem Server für die Synchronisation von Informationen zwischen dem Client-Gerät und dem Server. Die Informationen werden durch einen Suchmechanismus aus allen Serveranwendungsdaten gemäß einem oder mehreren Suchkriterien ausgewählt und vor der Übertragung von dem Server in einer Reihenfolge angeordnet. In einigen Ausführungsformen können die Suchkriterien auf dem Client festgelegt werden. In Block 932 führt der Client Operationen zur Synchronisation von Anwendungsdaten auf dem Client gemäß mindestens einem Teil der von dem Server empfangenen Informationen durch. 9 FIG. 3 is a flow chart illustrating the exemplary method for receiving server data selected by a search mechanism on a client. In some embodiments, the client receives as in block 931 Figure 1 illustrates communication from a server for the synchronization of information between the client device and the server. The information is selected by a search mechanism from all server application data according to one or more search criteria and arranged in an order prior to transmission from the server. In some embodiments, the search criteria may be set on the client. In block 932 The client performs operations to synchronize application data on the client according to at least a portion of the information received from the server.
10 zeigt in einem Ablaufdiagramm das exemplarisches Verfahren für das Senden von durch einen Suchmechanismus ausgewählten Anwendungsdaten von einem Server. In Block 1031 legt der Server eins oder mehrere Suchkriterien fest, die zur Durchführung von Suchen in den Serveranwendungsdaten vor der Synchronisation verwendet werden. In Block 1032 wählt der Server unter Verwendung eines Suchmechanismus auf dem Server Informationen aus allen Serveranwendungsdaten gemäß einem oder mehreren dieser Suchkriterien aus. In Block 1033 überträgt der Server die ausgewählten Informationen an den Client. In Block 1034 dokumentiert der Server die übertragenden Informationen, die erfolgreich mit dem Client synchronisiert wurden. 10 FIG. 14 is a flow chart illustrating the exemplary method of sending application data selected by a search mechanism from a server. In block 1031 The server sets one or more search criteria used to perform searches on the server application data before synchronization. In block 1032 Using a search mechanism on the server, the server selects information from all server application data according to one or more of these search criteria. In block 1033 the server transmits the selected information to the client. In block 1034 The server documents the transmitted information that has been successfully synchronized with the client.
Die vorstehende Beschreibung wurde zum Zweck der Erklärung unter Bezugnahme auf spezifische Ausführungsformen beschrieben. Die obigen veranschaulichenden Erörterungen sollen jedoch nicht allumfassend sein oder die Erfindungen genau auf die offenbarten Formen beschränken. In Bezug auf die obigen Anleitungen sind viele Modifizierungen und Varianten möglich. Die Ausführungsformen wurden gewählt und beschrieben, um die Prinzipien der Erfindung und ihre praktischen Anwendungen zu beschreiben, um es dadurch anderen Fachleuten zu ermöglichen, die Erfindung und ihre verschiedenen Ausführungsformen mit verschiedenen Modifizierungen zu nutzen, die für die besondere, erwägte Nutzung geeignet sind. The foregoing description has been described by way of explanation with reference to specific embodiments. However, the above illustrative discussions are not intended to be exhaustive or to limit the inventions to the precise forms disclosed. Many modifications and variations are possible with respect to the above instructions. The embodiments have been chosen and described to describe the principles of the invention and its practical applications to thereby enable others skilled in the art to utilize the invention and its various embodiments with various modifications suitable for the particular contemplated use.