TECHNISCHES GEBIET TECHNICAL AREA
Dieses Dokument bezieht sich auf Systeme und Techniken für die Speicherung und Manipulierung von Daten, die ein elektronisches Dokument wie ein Textverarbeitungsdokument darstellt. This document relates to systems and techniques for storing and manipulating data that represents an electronic document such as a word processing document.
HINTERGRUND BACKGROUND
Elektronische Textverarbeitungssysteme gestatten Benutzern, komplexe Dokumente zu erstellen, die überprüft, bearbeitet, und mit anderen geteilt werden können. In ähnlicher Weise ermöglichen andere Produktivitätsanwendungen die Erstellung von elektronischen Dokumenten wie Tabellenkalkulationen und auf Folien basierte Präsentationen. Electronic word processing systems allow users to create complex documents that can be reviewed, edited, and shared with others. Similarly, other productivity applications allow the creation of electronic documents such as spreadsheets and slides based presentations.
Cloud-basierte oder gehostete, Textverarbeitungsanwendungen, die von innerhalb Client-basierten Web-Browser ausführen, um auf serverbasierte Dokumente zugreifen zu können, sind in letzter Zeit sehr populär geworden. Eine Cloud-basierte Anwendung kann von Vorteil sein, da sie in einem Browser dargestellt wird, was fast alle Computer-Anwender voll verstehen, auf sie kann von einer Vielzahl von weit entfernten Computern zugegriffen werden, und von einer Vielzahl von Benutzern, einschließlich von mehreren Benutzern, die zur gleichen Zeit an der Bearbeitung eines Dokuments zusammenarbeiten. Allerdings können auf Browsern basierte Anwendungen auch eine Anzahl von Begrenzungen einschließen, da Browser versuchen können, die Erreichbarkeit, die Anwendungen haben, zu einem darunterliegenden Computersystem zu hausen, und Rendern ist auf das begrenzt wozu der Browser fähig ist. Cloud-based or hosted word-processing applications running from within client-based web browsers to access server-based documents have become very popular lately. A cloud-based application may be advantageous in that it is displayed in a browser, which almost all computer users fully understand, can be accessed from a variety of remote computers, and from a variety of users, including multiple users Users who are working on editing a document at the same time. However, browser-based applications may also include a number of limitations, as browsers may attempt to provide accessibility to applications to an underlying computer system, and rendering is limited to what the browser is capable of.
KURZDARSTELLUNG SUMMARY
Dieses Dokument beschreibt Systeme und Techniken, die benutzt werden können, um eine graphische Schnittstelle für eine Textverarbeitungsanwendung vorzusehen, die in einem Web-Browser ausführt. können eine grafische Benutzerschnittstelle für eine Textverarbeitungsanwendung zur Verfügung zu stellen, die verwendet werden können, in einem Web-Browser ausgeführt zu werden. Wie hier diskutiert wurde, kann ein Dokumentmodell zum Speichern von Daten in Bezug auf ein Dokument eine eindimensionalen Textzeichenfolge einschließen, die den ganzen Rohtext des Dokuments hat, und auch bestimmte begrenzte Layout-Zeichen haben kann, wie Zeichen, die das Auftreten eines Absatzumbruchs anzeigen. Parallel zu dieser Textzeichenfolge, aber von ihr getrennt, kann das Modell eine spärliche Karte von Stilen einschließen, die bezeichnen, wenn Eigenschaften des Textes im Dokument zu ändern ist. Der Platz zwischen übereinstimmenden Änderungen kann sich auf einen Lauf von Zeichen beziehen, und die Endpunktzeichenpositionen des Laufs kann in der Stilkarte spezifiziert werden (Zum Beispiel entweder direkt oder durch Definieren der Position von einem Ende, zusammen mit der Länge des Laufs). This document describes systems and techniques that may be used to provide a graphical interface for a word processing application executing in a web browser. can provide a graphical user interface for a word processing application that can be used to run in a web browser. As discussed herein, a document model for storing data relative to a document may include a one-dimensional text string that has the entire raw text of the document, and may also have certain limited layout characters, such as characters indicating the occurrence of a paragraph break. Parallel to this text string, but separate from it, the model may include a sparse map of styles that designate when properties of the text in the document is to be changed. The space between matching changes can be related to a run of characters, and the endpoint character positions of the run can be specified in the style card (for example, either directly or by defining the position of an end, along with the length of the run).
Das Dokument kann durch ein Web-Browser angezeigt werden, indem das Dokumentenmodell in ein Dokumentgegenstandsmodell (DOM) des Browsers rendert. Solch ein Rendering kann Durchlaufen der Zeichenfolge einbeziehen und die Stilkarte auf die Zeichen in der Folge anzuwenden, um die Zeichen zu formatieren. Bestimmte reservierte Steuerzeichen können in der Zeichenfolge auch eingeschlossen werden. Solche Steuerzeichen werden nicht buchstäblich gerendert, aber sie werden stattdessen durch einen definierten Betrieb ersetzt. Zum Beispiel können die Steuerzeichen „\n“ einen Absatzumbruch darstellen und können als solche in dem DOM gerendert werden (und von den Zeichen entfernt werden, die buchstäblich gerendert werden). The document may be displayed through a web browser by rendering the document model into a document object model (DOM) of the browser. Such a rendering may involve traversing the string and applying the style card to the characters in the sequence to format the characters. Certain reserved control characters can also be included in the string. Such control characters are not literally rendered, but instead are replaced by a defined operation. For example, the control characters "\ n" may represent a paragraph break and may be rendered as such in the DOM (and removed from the characters that are literally rendered).
Solche Merkmale können in bestimmten Implementierungen einen oder mehrere Vorteile liefern. Das Dokumentenmodell und -techniken, die hier beschrieben werden, können ein kompaktes aber dennoch flexibles Modell für die Speicherung, das Übertragen, das Bearbeiten und dar Rendern der Informationen für ein Dokument zum Beispiel zur Verfügung stellen. Das Modell kann auch praktischerweise zwischen einem Clienten und einem Serversystem, das eine Vorlage des Modells speichert, und weiter zu anderen Clienten koordiniert werden, die das Dokument durch das Serversystem gleichzeitig bearbeiten können. Die Koordination kann verbessert werden, wo Änderungen, oder Mutationen an dem Modell eine deterministische Weise haben, gegen irgendeine andere Mutation umgewandelt zu werden, ohne den wahren Zustand des Dokumentes kennen zu müssen. Als solcher, können unterschiedliche Clienten, unabhängig voneinander, Richtlinien anwenden, um überlappende oder kontroverse Änderungen zu lösen und die Dokumentenmodelle an jedem solchen Clienten können miteinander koordiniert bleiben. Such features may provide one or more advantages in certain implementations. The document model and techniques described herein may provide a compact yet flexible model for storing, transmitting, manipulating, and rendering the information for a document, for example. The model may also conveniently be coordinated between a client and a server system storing a template of the model, and further to other clients who can simultaneously edit the document through the server system. Coordination can be improved where changes, or mutations to the model, have a deterministic way of being converted to some other mutation without having to know the true state of the document. As such, different clients can independently apply policies to resolve overlapping or controversial changes, and the document models at each such client can remain coordinated with each other.
In einer Implementierung wird ein konkretes computer-lesbares Speichermedium offenbart, und das Medium hat darauf Daten kodiert, die ein Modell eines Dokumentes darstellen. Das Dokument umfasst eine eindimensionale Zeichenfolge, die Zeichen des Dokumentes in einer Reihenfolge einschließt, in der sie im Dokument erscheinen; eine Stilkarte, die Markierungen einschließt, die Änderungen der Stile im Dokument entsprechen und Zeiger zur Zeichenfolge, wobei die Zeiger Stellen entlang der Zeichenfolge definieren, an der die Änderungen der Stile auftreten sollen und Stilläufe zwischen übereinstimmenden Markierungen definieren; und einen oder mehrere externe Hinweise auf Gegenständen außerhalb des Dokumentenmodells, wobei die externen Hinweise Identifizierer für die Gegenstände einschließen und Zeiger zur Zeichenfolge, die anzeigen, wo in der Zeichenfolge der Gegenstand erscheinen wird. Die eindimensionale Zeichenfolge kann weiterhin reservierte Steuerzeichen einschließen, die Brüche im Dokument identifizieren, um sichtbar zu sein, wenn das Dokument auf einem Computergerät gerendert wird. Die Folge kann auch Indexpositionen entlang der Folge definieren, auf die durch Markierungen in der Stilkarte Bezug genommen wird. Zusätzlich kann das Aufheben der Stiländerungen in der spärlichen Stilkarte durch einen gepaarten Satz von Markierungen dargestellt werden, die miteinander in der spärlichen Stilkarte korreliert sind, In one implementation, a tangible computer-readable storage medium is disclosed and the medium has encoded thereon data representing a model of a document. The document includes a one-dimensional string that includes characters of the document in an order in which they appear in the document; a style card that includes markers that correspond to changes in the styles in the document and pointers to the string, where the pointers define locations along the string where the style changes should occur and define silence between matching markers; and one or more external references to items outside the document model, the external indicia including identifiers for the items and pointers to the string that indicate where in the string the item will appear. The one-dimensional string may still include reserved control characters that identify fractions in the document to be visible when the document is rendered on a computing device. The sequence may also define index positions along the sequence referred to by marks in the style map. In addition, overriding style changes in the sparse style map may be represented by a paired set of markers correlated with each other in the sparse style map.
In einigen Aspekten sind die Markierungen in dem gepaarten Satz so angeordnet, dass, wenn ein Text im Dokument zwischen den Markierungen hinzugefügt wird, der Zeiger für eine der Markierungen sich durch eine ganze Zahl verschiebt, die einer Anzahl von Zeichen in dem addierten Text gleich ist. Die spärliche Stilkarte kann auch eine oder mehrere befestigte Stile definieren, die mit einem bestimmten Zeichen in der eindimensionalen Zeichenfolge anstatt in einer Position in der Folge korreliert sind. Außerdem können die befestigten Stile durch Markierungen in der eindimensionalen Zeichenfolge implementiert werden. Zusätzlich kann das Modell einen oder mehrere Einheitsidentifizierer in der eindimensionalen Zeichenfolge umfassen, wobei die Einheitsidentifizierer auf die Gegenstände zeigen, die zum Dokumentenmodell extern sind deren Inhalt in das Dokument integriert wird, wenn das Dokument von dem Modell gerendert wird. Außerdem kann die eindimensionale Zeichenfolge mehrfache Fälle eines Identifizierers für eine einzige Einheit einschließen. In some aspects, the tags in the paired sentence are arranged such that when a text in the document is added between the tags, the pointer for one of the tags shifts by an integer equal to a number of characters in the added text , The sparse style map may also define one or more attached styles that are correlated to a particular character in the one-dimensional string rather than in a position in the sequence. In addition, the attached styles can be implemented by markers in the one-dimensional string. In addition, the model may include one or more unit identifiers in the one-dimensional string, the unit identifiers pointing to the objects external to the document model whose content is integrated into the document when the document is rendered by the model. In addition, the one-dimensional string may include multiple instances of an identifier for a single entity.
In einer anderen Implementierung wird ein Computer-implementiertes Verfahren zum Erzeugen eines Dokumentes von einem Dokumentenmodell offenbart. Das Verfahren umfasst das Identifizieren, mit einem Berechnungsgerät, von einem oder mehreren Zeichen in einer eindimensionalen Zeichenfolge, die die Zeichen des Dokumentes einschließt, das Suchen einer elektronischen spärlichen Stilkarte, die von der eindimensionalen Zeichenfolge getrennt ist, sich aber darauf bezieht, für Stilmarkierungen, die auf eine Spannweite von Zeichen angewandt werden, die den identifizierten einen oder mehrere Zeichen bedeckt. Das Verfahren umfasst auch das Erzeugen des Dokumentes mit dem Berechnungsgerät, durch Anwenden, auf das eine oder mehrere Zeichen, von Formatierung, die Stilmarkierungen entspricht, die gefunden werden, um auf die Spannweite der Zeichen angewandt zu werde. Das Erzeugen des Dokumentes kann das Rendern des Dokumentenmodells in ein Dokumentengegenstandsmodell (DOM) eines Web-Browsers auf dem Berechnungsgerät umfassen. Das Verfahren kann auch einschließen, einen oder mehrere Identifizierer für Gegenstände außerhalb des Dokumentenmodells in der eindimensionalen Zeichenfolge zu lokalisieren, auf die Gegenstände zuzugreifen und die Gegenstände in das Dokument zu rendern. Der eine oder die mehreren Gegenstände können auch digitale Bilder umfassen, und das Rendern der Gegenstände in das Dokument kann umfassen, einen Ankerpunkt für jedes digitale Bild zwischen Zeichen in das Dokument zu platzieren, in dem ein entsprechender Identifizierer für das Bild in der eindimensionalen Zeichenfolge angeordnet ist. Außerdem kann das Verfahren weiterhin umfassen, eine Benutzereingabe in dem Dokument zu empfangen, einen Ort der Benutzereingabe in einer angezeigten Ansicht mit einer Position in der eindimensionalen Zeichenfolge zu korrelieren, und die Benutzereingabe zu der eindimensionalen Zeichenfolge zu kopieren. In another implementation, a computer-implemented method for generating a document from a document model is disclosed. The method includes identifying, with a computing device, one or more characters in a one-dimensional string that includes the characters of the document, searching for an electronic sparse style card that is separate from, but related to, the one-dimensional string for style tags, applied to a span of characters covering the identified one or more characters. The method also includes generating the document with the computing device by applying to it one or more characters of formatting corresponding to style marks found to be applied to the span of the characters. Generating the document may include rendering the document model into a document object model (DOM) of a web browser on the computing device. The method may also include locating one or more identifiers for items outside the document model in the one-dimensional string, accessing the items, and rendering the items in the document. The one or more items may also include digital images, and rendering the items to the document may include placing an anchor point for each digital image between characters in the document in which a corresponding identifier for the image is arranged in the one-dimensional string is. In addition, the method may further include receiving a user input in the document, correlating a location of the user input in a displayed view with a position in the one-dimensional string, and copying the user input to the one-dimensional string.
In einigen Aspekten umfasst die Benutzereingabe einen Absatzumbruch, und wobei das Kopieren der Benutzereingabe zur eindimensionalen Zeichenfolge umfasst, in die Zeichenfolge eine reservierte Zeichenkombination einzusetzen, die die Erstellung eines Absatzumbruches auslöst, wenn das Dokument erzeugt wird. Das Erzeugen des Dokumentes kann umfassen, die eindimensionale Zeichenfolge mit Zeigern in der spärlichen Zeichenkarte zu durchlaufen, die zu der Zeichenfolge abgebildet werden, und eine bestimmte Formatierung zwischen einem ersten Zeiger, der die Formatierung aktiviert, und einem zweiten Zeiger, der die Formatierung deaktiviert, anzuwenden. Außerdem kann das Verfahren umfassen, eine Benutzereingabe in dem Dokument an einer Stelle zwischen dem ersten Zeiger und dem zweiten Zeiger zu empfangen, und eine Stelle in der Zeichenfolge einzustellen, auf die der zweite Zeiger mit einer ganzen Zahl zeigt, die einer Anzahl von Zeichen in der Benutzereingabe gleich ist. Die Stilkarte kann einen oder mehrere angebundene Stile definieren, die mit einem bestimmten Zeichen in der eindimensionalen Zeichenfolge korreliert sind, anstatt in eine Position in der Folge. Die Stile können durch Markierungen in der eindimensionalen Zeichenfolge implementiert werden. In some aspects, the user input includes a paragraph break, and wherein copying the user input to the one-dimensional string includes placing a reserved character string in the string that triggers the creation of a paragraph break when the document is created. The generating of the document may include iterating through the one-dimensional string with pointers in the sparse character map mapped to the string, and a particular formatting between a first pointer that activates the formatting and a second pointer that deactivates the formatting, apply. In addition, the method may include receiving a user input in the document at a location between the first pointer and the second pointer, and adjusting a location in the string pointed to by the second pointer with an integer number corresponding to a number of characters in the user input is the same. The style map may define one or more tiled styles that correlate to a particular character in the one-dimensional string, rather than to a position in the sequence. The styles can be implemented by markers in the one-dimensional string.
In noch einer weiteren Implementierung wird ein Modell für ein elektronisches Dokument offenbart, das auf einem konkreten computer-lesbaren Speichermedium gespeichert wird, wird freigegeben. Das Modell umfasst eine eindimensionale Zeichenfolge, die eine Vielzahl von Klartextzeichen einschließt, die buchstäblich in dem elektronischen Dokument dargestellt werden sollen und einen oder mehrere Steuercodes zum Definieren von Absatzumbrüchen in dem elektronischen Dokument; eine Stilkarte, die von der eindimensionalen Zeichenfolge getrennt ist, aber mit ihr korreliert, und die Stilmarkierungen definiert, die auf eine Spannweite der Zeichen gelten, die das identifizierte eine mehrere Zeichen bedeckt; und einen oder mehrere Zeiger in dem Modell, die auf Einzelteile außerhalb des Modells gerichtet sind, um zu veranlassen, dass die externen Einzelteile in das elektronische Dokument aufgenommen werden. In yet another implementation, a model for an electronic document stored on a particular computer-readable storage medium is disclosed. The model includes a one-dimensional string including a plurality of plain text characters that are to be literally displayed in the electronic document and one or more control codes for defining paragraph breaks in the electronic document; a style map that is separate from, but correlates with, the one-dimensional string and defines the style markers that apply to a span of characters that covers the identified one of several characters; and one or more pointers in the model, which are directed to items outside the model to cause the external items to be included in the electronic document.
Die Details einer oder mehrerer Ausführungsformen sind in den begleitenden Zeichnungen und der nachfolgenden Beschreibung dargelegt. Andere Eigenschaften und Vorteile werden aus der Beschreibung und den Zeichnungen, und aus den Ansprüchen ersichtlich. The details of one or more embodiments are set forth in the accompanying drawings and the description below. Other features and advantages will become apparent from the description and drawings, and from the claims.
BESCHREIBUNG DER ZEICHNUNGEN DESCRIPTION OF THE DRAWINGS
1A ist ein Begriffsdiagramm eines Systems zum Handhaben einer Anzeige und der Interaktion mit einer auf einem Browser basierenden Textverarbeitungsanwendung. 1A Figure 13 is a conceptual diagram of a system for handling a display and interacting with a browser based word processing application.
1B zeigt eine schematische Ansicht eines Dokumentes und ein Datenmodell für das Darstellen des Dokumentes. 1B shows a schematic view of a document and a data model for presenting the document.
2A und 2B sind Blockdiagramme, die Komponenten einer Modellansichts-Controllerimplementierung einer Textverarbeitungsanwendung zeigen. 2A and 2 B Figure 10 are block diagrams showing components of a model view controller implementation of a word processing application.
2C ist ein Blockdiagramm eines Systems für das Ermöglichen des kollaborativen Bearbeitens eines Dokumentes durch mehrere Benutzer durch ein gehostetes Serversystem. 2C Figure 10 is a block diagram of a system for enabling collaborative editing of a document by multiple users by a hosted server system.
3A ist ein Flussdiagramm eines Beispielprozesses für das Hinzufügen von Daten zu einem Dokumentmodell. 3A Figure 4 is a flow chart of an example process for adding data to a document model.
3B ist ein Flussdiagramm eines Beispielprozesses für das Anwenden eines Absatzzusammenschlusses an ein Dokumentenmodell. 3B FIG. 10 is a flowchart of an example process for applying a sales merge to a document model.
4 ist ein Flussdiagramm eines Beispielprozesses zum Koordinieren von Kopien eines Dokumentenmodells zwischen mehrfachen Computern. 4 Figure 13 is a flow chart of an example process for coordinating copies of a document model between multiple computers.
5A und 5B zeigen Beispiele der verschiedenen Stile und Einheiten zum Rendern eines Dokumentenmodells. 5A and 5B show examples of different styles and units for rendering a document model.
6 zeigt das Beispiel eines Computergeräts und eines mobilen Computergeräts, die verwendet werden können, um die hier beschriebenen Techniken zu implementieren. 6 Figure 14 shows the example of a computing device and a mobile computing device that may be used to implement the techniques described herein.
Gleiche Verweissymbole in den verschiedenen Zeichnungen zeigen gleiche Elemente an. Identical reference symbols in the various drawings indicate the same elements.
AUSFÜHRLICHE BESCHREIBUNG DETAILED DESCRIPTION
Dieses Dokument beschreibt Systeme und Techniken um eine graphische Benutzerschnittstelle für eine Textverarbeitungsanwendung (oder andere ähnliche Anwendungen, wie Diadarstellungsanwendungen, Tabellenkalkulation, Desktop-Publishinganwendungen und dergleichen) zur Verfügung zu stellen, die in einem Web-Browser durchgeführt werden. Solche Systeme und Techniken können ein Dokumentenmodell für die Speicherung von Daten über ein Dokument einschließen. Das Dokumentenmodell kann Rohdokumententext, spezielle Layout-Zeichen wie Absatzumbrüche einschließen, Stil- und Formatierungsinformationen und Informationen über eingebettete Gegenstände wie Tabellen und Bilder. This document describes systems and techniques for providing a graphical user interface for a word processing application (or other similar applications such as slide show applications, spreadsheets, desktop publishing applications, and the like) that are executed in a web browser. Such systems and techniques may include a document model for storing data about a document. The document model may include raw document text, special layout characters such as paragraph breaks, style and formatting information, and information about embedded objects such as tables and images.
Das Dokument kann durch ein Web-Browser angezeigt werden, indem man das Dokumentenmodell in ein Dokumentengegenstandsmodell (DOM) des Browsers rendert. Zum Beispiel kann eine Zeichenfolge, die mit dem Rohdokumententext verbunden ist, durchlaufen werden, und Stil und Formatierung können auf den Text angewendet werden, und eingebettete Gegenstände können eingesetzt werden. Das Dokumentmodell und die Techniken, die mit dem Modell verbunden sind, können ein kompaktes aber dennoch flexibles Modell für die Speicherung, das Übertragen, das Bearbeiten, und das Rendern Dokumentinformationen zur Verfügung stellen. Das Modell kann zwischen einem Clienten und einem Serversystem koordiniert werden, das eine Vorlage des Modells speichert. Zusätzlich können mehrere Clienten gleichzeitig auf das Modell zugreifen und Änderungen am Modell können zwischen den mehreren Clienten koordiniert werden. The document can be viewed through a web browser by rendering the document model into a document object model (DOM) of the browser. For example, a string associated with the raw document text may be traversed, and style and formatting may be applied to the text, and embedded items may be employed. The document model and the techniques associated with the model can provide a compact yet flexible model for storing, transferring, editing, and rendering document information. The model can be coordinated between a client and a server system that stores a template of the model. In addition, multiple clients can access the model simultaneously and changes to the model can be coordinated between the multiple clients.
1A ist ein Begriffsdiagramm eines Systems 100 für handhabende Anzeige und der Interaktion mit einer Browser-basierten Textverarbeitungsanwendung. Im Allgemeinen wird ein Dokumentenmodell 102 in diesem Beispiel einem Web-Browser 102 zur Verfügung gestellt. Zum Beispiel kann das Modell 102 Dokumententext einschließen, Formatierung und Stilinformationen und Informationen, die sich auf eingebettete Einheiten, solchen Tabellen, Bildern und anderen solchen Gegenständen beziehen. Das Modell 102 kann in ein Format wie ein Dokument-Gegenstands-Modell (DOM) gerendert werden, das von dem Browser 102 angezeigt werden kann. Nach dem Rendern des Modells 102 kann das Dokument zum Beispiel innerhalb des Browsers 104 angezeigt werden. Zum Beispiel kann eine Webseite, die durch den Browser 104 angezeigt wird, eine oder mehrere eingebettete Anwendungen einschließen, wie Anwendungen, die mit Javascript implementiert werden, und asynchrones Javascript und XML (AJAX), für das Darstellen des Textverarbeitungsdokumentes, sowie Benutzerschnittstellen-Kontrollen, die Benutzerinteraktionen mit dem Dokument ermöglichen. In einigen Implementierungen kann ein Controller 106 die Benutzerinteraktionen handhaben. Zum Beispiel, durch Abfangen von einem oder mehreren Fällen, die mit der Benutzereingabe verbunden sind (z. B. der Benutzer tippt das Zeichen „s“, das auf einer Tastatur 108 eingeschlossen ist) kann der Controller entsprechende Änderungen an dem Modell 102 und an der Ansicht des Textverarbeitungsdokumentes anwenden, das von dem Web-Browser 104 angezeigt wird. 1A is a conceptual diagram of a system 100 for managing display and interaction with a browser-based word processing application. In general, a document model 102 in this example, a web browser 102 made available. For example, the model 102 Include document text, formatting and style information, and information related to embedded entities, such tables, images, and other such items. The model 102 can be rendered in a format such as a document-object model (DOM) that is provided by the browser 102 can be displayed. After rendering the model 102 For example, the document can be inside the browser 104 are displayed. For example, a web page can be accessed by the browser 104 include one or more embedded applications, such as applications implemented with Javascript and asynchronous Javascript and XML (AJAX), for presenting the word processing document, as well as user interface controls that enable user interactions with the document. In some implementations, a controller can 106 to manage the user interactions. For example, by intercepting one or more cases associated with user input (eg, the user types the character "s" on one user) keyboard 108 included), the controller may make appropriate changes to the model 102 and apply to the view of the word processing document that is from the web browser 104 is shown.
In einigen Implementierungen können die Änderungen von einer Layout-Engine 110 angewendet werden. Zum Beispiel kann die Layout-Engine 110 einen Computercode für das Erstellen einer Sichtdarstellung des Modells 102 innerhalb einer Ansicht einer Browseranwendung für das Arbeiten mit und das Darstellen des Textverarbeitungsdokumentes einschließen. Die Änderungen können zum Beispiel zuerst an dem Modell 102 angewendet werden, und die Layout-Engine 110 kann eine Ansicht des resultierenden Modells 102 rendern. Als ein Beispiel kann die Layout-Engine programmiert werden, um Teile des Modells (z. B. jedes Zeichen) in einem Off-Bildschirm-Element zu rendern (z. B. Implementieren eines div. Elements) und die Größe eines solchen Elements kann gemessen werden, um zu bestimmen, wieviel Raum dem Teil des Modells auf einer Bearbeitungsoberfläche zugeteilt werden sollte. Andere Teile können dann berechnet werden, um an Positionen im Verhältnis zu den Teilen vor ihnen angezeigt zu werden (z. B. Zeichen n+1 kann seinen linken Rand haben, der berechnet wird, um in einer horizontalen Position zu sein, die dem rechten Rand von Zeichen n entspricht). In some implementations, the changes may be from a layout engine 110 be applied. For example, the layout engine 110 a computer code for creating a visual representation of the model 102 within a view of a browser application for working with and presenting the word processing document. For example, the changes can be made to the model first 102 be applied, and the layout engine 110 can be a view of the resulting model 102 render. As an example, the layout engine may be programmed to render portions of the model (eg, each character) in an off-screen element (e.g., implement a div element) and size of such an element to determine how much space should be allocated to the part of the model on a machining surface. Other parts may then be calculated to be displayed at positions relative to the parts in front of them (eg, character n + 1 may have its left edge calculated to be in a horizontal position, that of the right one Border of character n corresponds).
In einigen Implementierungen kann das Modell 102 verschiedene Teile oder Strukturen für die Speicherung der Daten einschließen, die mit dem Textverarbeitungsdokument, wie einem Textteil 112 und einem Stil und einem Einheitsteil 114 verbunden sind. In einigen Implementierungen kann das Modell 102 zusätzliche Teile oder Strukturen für die Speicherung von Daten einschließen. In some implementations, the model may 102 include various parts or structures for storing the data associated with the word processing document, such as a piece of text 112 and a style and a unitary part 114 are connected. In some implementations, the model may 102 include additional parts or structures for storing data.
Der Textteil 112 kann eine Reihe von Zeichen einschließen, die Inhalt für das Textverarbeitungsdokument darstellen. In einigen Implementierungen kann der Textteil 112 durch eine eindimensionale Folge dargestellt werden, die Zeichen des Dokumentes in einer Reihenfolge einschließt, in dem sie im Dokument erscheinen. Die eindimensionale Folge kann auch reservierte Steuerzeichen einschließen, die Brüche (z. B. Absatzumbrüche, Seitenbrüche, und dergleichen) im Dokument kennzeichnen, um sichtbar zu sein, wenn das Dokument gerendert wird. Zum Beispiel können Absatzumbrüche als „\n“ dargestellt werden und können am Ende des Absatzes eingeschlossen sein, mit dem er verbunden ist. In einigen Implementierungen kann die eindimensionale Folge auch Identitätsidentifizierer einschließen, die auf Gegenstände zeigen (z. B., Listen, Tabellen, Bilder und dergleichen) die zum Modell 102 extern sind. Zum Beispiel kann der Inhalt in das Dokument integriert werden, wenn das Dokument gerendert wird. The text part 112 may include a series of characters representing content for the word processing document. In some implementations, the text part may 112 are represented by a one-dimensional sequence including characters of the document in an order in which they appear in the document. The one-dimensional sequence may also include reserved control characters that indicate breaks (eg, paragraph breaks, page breaks, and the like) in the document to be visible when the document is rendered. For example, paragraph breaks may be represented as "\ n" and may be included at the end of the paragraph to which it is associated. In some implementations, the one-dimensional sequence may also include identity identifiers pointing to objects (e.g., lists, tables, images, and the like) to the model 102 are external. For example, the content may be incorporated into the document when the document is rendered.
Der Stil und das Einheitsteil 114 können einen geordneten Satz von Modelländerungen einschließen, die mit dem Modell 102 verbunden sind. In einigen Implementierungen können die Modelländerungen, die in dem Stil und dem Einheitsteil 114 eingeschlossen sind, Änderungen an den Formatierungsstilen entsprechen, die auf das Dokument angewendet werden, und Änderungen an den Einheiten, die innerhalb des Dokumentes eingebettet sind. Zum Beispiel können die Modelländerungen in einer spärlichen Karte gespeichert werden, die Markierungen einschließt, die den Änderungen, oder Mutationen, und Zeigern auf die eindimensionale Zeichenfolge entsprechen. Die Zeiger können zum Beispiel Stellen entlang der Zeichenfolge definieren, an denen Stiländerungen auftreten sollen, und an denen eingebettete Einheiten erscheinen sollen. The style and the unitary part 114 can include an ordered set of model changes that match the model 102 are connected. In some implementations, the model changes that occur in the style and the unit part 114 include changes to the styling styles applied to the document and changes to the entities embedded within the document. For example, the model changes may be stored in a sparse map that includes markers that correspond to the changes, or mutations, and pointers to the one-dimensional string. For example, the pointers may define digits along the string where style changes should occur and where embedded units should appear.
In einigen Implementierungen können die Modelländerungen, die in dem Stil- und Einheitsteil 114 eingeschlossen sind, verwendet werden, um eine reverse Karte des Modells 102 zu errichten. Zum Beispiel können die Daten, die mit dem Modell 102 verbunden sind, in den Modelländerungen gespeichert werden, und die Änderungen können benutzt werden, um die eindimensionale Zeichenfolge, die Stile und die Einheiten zu errichten. Als ein anderes Beispiel können die Modelländerungen benutzt werden, um eine Änderung zu annullieren, oder eine Reihe von Änderungen zu annullieren. In some implementations, the model changes that occur in the style and unit parts 114 are included, used to make a reverse map of the model 102 to build. For example, the data that comes with the model 102 can be stored in the model changes, and the changes can be used to build the one-dimensional string, styles, and units. As another example, the model changes may be used to cancel a change or to cancel a number of changes.
Zum Zweck der Illustration wird eine Reihe von Beispielbenutzerinteraktionen mit dem Anwendungs-Web-Browser 104 hier für das Erstellen und das Modifizieren eines online-Textverarbeitungsdokumentes beschrieben. Mit Benutzung des Browsers Chrome 118, zum Beispiel, kann der Benutzer zu einer Webseite navigieren, die mit dem Textverarbeitungsdokument verbunden ist. Das Dokument Chrom 120, das Kontrollen einschließt, um dem Benutzer zu ermöglichen, mit einem Dokument zu wechselwirken, kann durch den Browser 104 heruntergeladen werden und dem Benutzer dargestellt werden. Um zum Beispiel Inhalt zuzugeben, kann der Benutzer eine Reihe von Zeichen tippen (z. B. „der Regen in Spanien fällt hauptsächlich auf das flache Land.“, gefolgt von einem Wagenrücklauf), der die Tastatur 108 verwendet. Der Controller 108 kann die Tastenanschläge abfangen und kann das Modell 102 nach und nach aktualisieren. Die Layout-Engine 110 kann das Modell 102 und die Modellaktualisierungen dann rendern, zum Beispiel den Web-Browser 104 ermöglichen, um das gerenderte Modell 102 in einem Dokumenteninhaltabschnitt 122 sichtlich darzustellen. For purposes of illustration, a number of example user interactions will be made with the application web browser 104 described here for creating and modifying an online word processing document. Using the browser Chrome 118 For example, the user may navigate to a web page associated with the word processing document. The document chrome 120 , which includes controls to enable the user to interact with a document, can by the browser 104 downloaded and presented to the user. For example, to admit content, the user may type a number of characters (eg, "the rain in Spain falls mainly on the flat land." Followed by a carriage return), which is the keyboard 108 used. The controller 108 can catch the keystrokes and can change the model 102 gradually update. The layout engine 110 can the model 102 and then render the model updates, such as the web browser 104 allow to render the rendered model 102 in a document content section 122 visualize.
Mit Benutzung eines Auswahlwerkzeugs (z. B., der Tastatur 108, oder eines anderen Eingabegeräts) kann der Benutzer eine Kontrolle auswählen (z. B. eine Befehlstaste oder einen Menüpunkt), der in dem Browser Chrome 120 angezeigt ist, entsprechend dem Zentrieren des Absatzes. Der Controller 106 kann den Befehl abfangen und die entsprechende Stiländerung an dem Modell 102 anwenden. Die Änderung kann dann dem Benutzer in dem Inhaltsabschnitt 122 sichtlich dargestellt werden, zum Beispiel Als Nächstes, mit Benutzung eines Auswahlwerkzeugs, kann der Benutzer einen Bereich von Zeichen auswählen, die in dem Dokumententext eingeschlossen sind (z. B. das Wort „Regen“), und mit dem Browser Chrome 120 kann eine Stiländerung (z. B. fett) angewandt werden. Ähnlich wie die vorhergehenden Modelländerungen, zum Beispiel kann die Änderung an dem Modell 102 angewendet werden, gerendert, und dem Benutzer dargestellt werden. Zunächst Zum Beispiel kann der Benutzer ein Bild in das Dokument einsetzen, indem er eine gewünschte Bildposition innerhalb des Dokumentes (Zum Beispiel, durch das Anklicken der Position mit einer Maus oder durch das Verwenden irgendeines anderen Eingabegeräts) vorwählt, dann schloss das Vorwählen einer Steuerung im Browserchrom ein 120, das mit Bildvorwähler verbunden ist (Zum Beispiel, ein pull-down Menü „des Einsatzes“). Nach dem Spezifizieren des Bildes, das eingesetzt werden soll (z. B. eine Graphikdatei, die Regen darstellt), kann die Änderung auf das Modell 102 angewendet, gerendert und dem Benutzer dargestellt werden. Using a selection tool (eg, the keyboard 108 , or any other input device), the user may select a control (eg, a command key or a menu item) that is in the browser Chrome 120 is displayed, according to the centering of the paragraph. The controller 106 can intercept the command and make the appropriate style change to the model 102 apply. The change can then be made to the user in the content section 122 For example, next, using a selection tool, the user may select a range of characters that are included in the document text (eg, the word "rain") and the browser Chrome 120 a style change (eg bold) can be applied. Similar to the previous model changes, for example, the change to the model 102 be applied, rendered, and presented to the user. First of all, for example, the user can insert an image into the document by selecting a desired image position within the document (for example, by clicking the position with a mouse or by using any other input device), then preselecting a control in the document Browser chrome 120 Associated with image selection (For example, a "use" pull-down menu). After specifying the image to be used (eg, a graphics file representing rainfall), the change may be to the model 102 applied, rendered and presented to the user.
Der Benutzer kann irgendeine geeignete Anzahl von zusätzlichen Dokumentänderungen durchführen, wie Hinzufügen von Text, Löschen von Text, Bearbeitung von Text, Anwenden von Stiländerungen und das Hinzufügen, das Entfernen und das Modifizieren von Einheiten, um nur einige Möglichkeiten zu nennen. Im Allgemeinen können die Änderungen dem Modell 102 hinzugefügt werden, von der Layout-Engine 110 gerendert werden, und dem Benutzer im Dokumenteninhaltsabschnitt 122 sichtlich dargestellt werden. The user may make any suitable number of additional document changes, such as adding text, deleting text, editing text, applying style changes, and adding, removing, and modifying entities, to name but a few. In general, the changes can be made to the model 102 be added by the layout engine 110 and the user in the document content section 122 visibly displayed.
Die Einzelteile in dem Dokumenteninhaltabschnitt 122 können jeweils als synthetische Darstellungen ihrer Modell-Gegenstücke geliefert werden. Insbesondere kann jedes Einzelteil in einem x, y Raum auf einer Leinwand in dem Dokumenteninhaltabschnitt abgebildet werden und kann möglicherweise getrennte zugrundeliegende Funktionalität oder Bedeutung nicht einschließen. Vielmehr kann die Anwendung die gegenwärtige Stelle eines Cursors verfolgen, der im Dokumenteninhaltabschnitt 122 angezeigt wird und durch die Ansicht und den Controller 106 basierend auf der Benutzereingabe bewegt wird. Der Cursor selbst kann synthetisch sein, wie in Form eines HTML Bildelements das ausgewählt wird, um wie eine Standard-Cursor-Darstellung auszusehen. The items in the document content section 122 can each be supplied as synthetic representations of their model counterparts. In particular, each item may be mapped into an x, y space on a canvas in the document content portion and may not include separate underlying functionality or meaning. Rather, the application can track the current location of a cursor in the document content section 122 is displayed and through the view and the controller 106 is moved based on the user input. The cursor itself may be synthetic, such as an HTML pixel selected to look like a standard cursor representation.
In dieser Weise kann das System 100 eine reiche Benutzer, fast WYSIWYG-Erfahrung, in einer Browser-basierten Anwendung vorsehen. Das System 100 kann auch ein einfaches Dokumentenmodell zur Verfügung stellen, das über das Internet bequem bedient werden kann. Also, das Modell, das Lokal zu einem Clientengerät ist und ein getrenntes aber entsprechendes Modell auf einem Serversystem können an einem Serversystem und an getrennten Clientensystemen unabhängig gehandhabt und aktualisiert werden, die gleichzeitig auf das Modell zugreifen, obwohl jede Komponente übereinstimmende Richtlinien für das Modifizieren des Modells anwenden kann, damit alle sie in der Synchronisierung bleiben. In this way the system can 100 a rich user, almost WYSIWYG experience, to provide in a browser-based application. The system 100 can also provide a simple document model that can be conveniently operated over the Internet. So, the model that is local to a client device and a separate but equivalent model on a server system can be independently handled and updated on a server system and separate client systems that access the model simultaneously, although each component has consistent policies for modifying the model Model so that they all stay in sync.
1B zeigt eine schematische Ansicht eines angezeigten Dokumentes 130 und eines Datenmodells 132 für das Darstellen des angezeigten Dokumentes 130. In einigen Implementierungen kann das angezeigte Dokument 130 durch einen Web-Browser wie der Web-Browser 104 dargestellt werden (in 1A gezeigt) und Betriebe, die für die Aktualisierung und Rendering des Datenmodells 132 durchgeführt wurden, kann im Allgemeinen den Betrieben ähnlich sein, die am Dokumentenmodell 102 durchgeführt werden (auch in 1A gezeigt), wie oben diskutiert. Zum Beispiel kann das Dokument 130 ein visuelles Rendern des Datenmodells 132 durch das System 100 darstellen. 1B shows a schematic view of a displayed document 130 and a data model 132 for presenting the displayed document 130 , In some implementations, the displayed document 130 through a web browser like the web browser 104 be presented (in 1A shown) and establishments responsible for updating and rendering the data model 132 In general, operations similar to those on the document model may be similar 102 be carried out (also in 1A shown), as discussed above. For example, the document 130 a visual rendering of the data model 132 through the system 100 represent.
Wie in 1B, das Datenmodell 132 kann Zeichen, Stile und Einheiten einschließen. Zeichen können zum Beispiel in einer eindimensionalen Folge 134 gespeichert werden und können Textzeichen und spezielle reservierte Zeichen zum Markieren der Positionen von Brüchen und eingebetteten Einheiten einschließen. Stile können zum Beispiel Eigenschaften einschließen, die auf Textzeichen und Absätze zutreffen. Einheiten können zum Beispiel Hinweise auf externe Gegenstände einschließen, die in dem Dokument 130 eingeschlossen werden können. As in 1B , the data model 132 can include characters, styles, and units. For example, characters can be in a one-dimensional sequence 134 and may include text characters and special reserved characters for marking the positions of fractions and embedded units. For example, styles can include properties that apply to text characters and paragraphs. For example, units may include references to external items contained in the document 130 can be included.
Um das Dokument 130 von dem Datenmodell 132 zu erzeugen, können ein oder mehrere Zeichen in der eindimensionalen Folge 134 zuerst identifiziert werden. Als Nächstes kann zum Beispiel in einer spärlichen Stilkarte, die mit der Folge 134 verbunden ist, nach Stilmarkierungen gesucht werden, die auf eine Spannweite der Zeichen zutreffen, die die identifizierten Zeichen umfasst. Indem auf die Zeichen Formatierung angewandt wird, die Stilmarkierungen entspricht, die gefunden wurden, um auf der Spannweite der Zeichen angewandt zu werden, kann das Dokument 130 dem Benutzer erzeugt und dargestellt werden (z. B. innerhalb einer Browseranwendung). To the document 130 from the data model 132 can generate one or more characters in the one-dimensional sequence 134 be identified first. Next, for example, in a sparse style card that comes with the episode 134 search for style marks that apply to a span of characters comprising the identified characters. By applying formatting to the characters, which corresponds to style marks found to be applied to the span of the characters, the document 130 generated and displayed to the user (eg within a browser application).
Das Datenmodell 132 schließt mehrere Arten von Durchläufen ein. Im Allgemeinen kann ein Durchlauf eine Änderung am Index anzeigen, zu dem sie zugewiesen wird. In einigen Implementierungen können Durchläufe an einer Spannweite von Zeichen angewendet werden. In einigen Implementierungen können Durchläufe an ein bestimmtes Zeichen angewendet werden oder angebunden werden. Die Bestimmung eines Durchlaufs für einen bestimmten Index oder Zeichens in der eindimensionalen Folge 134 kann rückwärtiges Suchen durch die Folge einschließen, um den nächstgelegenen Durchlauf zu finden. In einigen Implementierungen können die Durchläufe optimiert werden, indem man die spärlichen Diagramme verwendet, um einen Durchlauf zu einer verbundenen logischen Adresse abzubilden. Zum Beispiel können spärliche Karten Verschiebung von Durchläufen ermöglichen, während Zeichen eingesetzt oder gelöscht werden und während der Index, an dem ein Durchlauf angewendet werden kann, sich ändert. The data model 132 includes several types of runs. In general, a run can indicate a change to the index to which it is assigned. In some implementations, runs may be applied to a span of characters. In some implementations, runs can be directed to a specific Characters are applied or tethered. The determination of a run for a particular index or character in the one-dimensional sequence 134 may include backward searching through the sequence to find the nearest pass. In some implementations, the runs can be optimized by using the sparse diagrams to map a pass to a linked logical address. For example, sparse maps may allow scrolling while characters are inserted or deleted, and while the index to which a pass may be applied changes.
Das Datenmodell 132 im vorliegenden Beispiel kann einen Textstildurchlauf 136 einschließen. Um den entsprechenden Teil des Dokumentes 130 zu erzeugen, kann die eindimensionale Zeichenfolge 134 mit Zeigern in der spärlichen Karte durchlaufen werden, die zu der Folge 134 abgebildet werden. Zum Beispiel kann ein bestimmter Formatierungsstil zwischen einem Zeiger, der die Formatierung aktiviert, und einem anderen Zeiger angewendet werden, der die Formatierung deaktiviert. In dem vorliegenden Beispiel, durch Anwenden des Textartdurchlaufs 136 an dem Datenmodel 132, kann der entsprechende Stil (z. B. fett, 18 Pt Font) auf die Zeichenspannweite „sehen“ angewendet werden. Wie in dem gerenderten Dokument 130 gezeigt ist, erscheinen die entsprechenden Zeichen fett und in einem 18 pt Font. In einigen Implementierungen kann der angewandte Textstildurchlauf 136 eingestellt werden, um mit Zeichen, die zu oder von der eindimensionalen Folge 134 zwischen dem aktivierenden Zeiger und dem deaktivierenden Zeiger hinzugefügt werden oder entfernt werden, zu erweitern oder zusammenzuziehen. Zum Beispiel nach dem Empfang der Eingabe zwischen dem aktivierenden Zeiger und dem deaktivierenden Zeiger, kann die Stelle in der eindimensionalen Folge 134, auf die der deaktivierende Zeiger zeigt, durch eine ganze Zahl eingestellt werden, die der Anzahl der Zeichen in der Benutzereingabe gleich ist. In dem vorliegenden Beispiel wenn der Benutzer zusätzliche Zeichen zwischen dem „s“ und dem zweiten „e“ einträgt, dann kann der entsprechende Textstildurchlauf 136 erweitert werden, um mit den zusätzlichen Zeichen zu wachsen, und der entsprechende Stil kann auf alle Zeichen zwischen den zwei Zeigern angewendet werden. The data model 132 in the present example, a text-style pass 136 lock in. To the corresponding part of the document 130 can generate the one-dimensional string 134 to be traversed with pointers in the sparse map leading to the episode 134 be imaged. For example, a particular formatting style can be applied between a pointer that enables formatting and another pointer that disables formatting. In the present example, by applying the text type pass 136 on the data model 132 , the corresponding style (eg bold, 18 pt font) can be applied to the character span "see". As in the rendered document 130 is shown, the corresponding characters appear bold and in an 18 pt font. In some implementations, the applied text style pass 136 be set to use characters leading to or from the one-dimensional sequence 134 be added or removed, expanded or contracted between the activating pointer and the deactivating pointer. For example, after receiving the input between the activating pointer and the deactivating pointer, the location in the one-dimensional sequence may 134 to which the deactivating pointer points are set by an integer equal to the number of characters in the user input. In the present example, if the user enters additional characters between the "s" and the second "e", then the corresponding text-style scroll 136 can be expanded to grow with the extra characters, and the appropriate style can be applied to all characters between the two pointers.
Das Datenmodell 132 in dem vorliegenden Beispiel kann auch eine Bildeinheit 138 einschließen. Zum Beispiel kann ein Gegenstand 140 (z. B. ein Markierungsfahnenbild) außerhalb des Datenmodells 132 sein und kann in der eindimensionalen Folge 134 durch einen Identifizierer (z. B. einen Zeiger) dargestellt werden. Zum Beispiel kann der Gegenstand 140 auf einem Server bestehen, der durch das Internet zugänglich ist, oder auf einem lokalen Antrieb oder einer anderen Stelle. Um den Teil des Dokumentes 130 zu erzeugen, das dem Gegenstand 140 entspricht, kann der Identifizierer für den Gegenstand 140 lokalisiert werden, auf den der Gegenstand 140 kann zugegriffen werden, und der Gegenstand des Gegenstandes 140 kann in das Dokument 130 gerendert werden. In einigen Implementierungen können digitale Bilder in das Dokument 130 gerendert werden, indem man einen Ankerpunkt für jedes der Bilder zwischen Zeichen in das Dokument platziert, wobei ein entsprechender Identifizierer für das Bild in der eindimensionalen Folge 134 angeordnet ist. The data model 132 In the present example, an imaging unit may also be used 138 lock in. For example, an item 140 (eg, a flag image) outside the data model 132 and can be in the one-dimensional sequence 134 represented by an identifier (eg a pointer). For example, the item 140 on a server accessible through the Internet, or on a local drive or other location. To the part of the document 130 to produce that the object 140 corresponds, the identifier for the item 140 be located on the object 140 can be accessed, and the subject of the item 140 can in the document 130 be rendered. In some implementations, digital images may be in the document 130 are rendered by placing an anchor point for each of the images between characters in the document, with a corresponding identifier for the image in the one-dimensional sequence 134 is arranged.
Das Datenmodell 132 in dem vorliegenden Beispiel 132 kann auch einen Absatzstildurchlauf 146 einschließen. Zum Beispiel kann der Absatzstildurchlauf 146 an ein bestimmtes Zeichen (z. B. ein „\n“ Zeichen verbunden mit einem Absatzumbruch. angezeigt vom Benutzer) in der eindimensionalen Folge 134 angebunden sein. Statt mit einer Position in der Folge verbunden zu sein, kann der Absatzstil zum Beispiel mit dem Einzelheit „\n“ Zeichen korreliert werden. Wie in dem gerenderten Dokument 130 gezeigt ist, kann das entsprechende Zeichen die Erstellung eines Absatzumbruches auslösen, wenn das Dokument erzeugt wird. In dem Beispiel von Einzelteilen wie Absatzumbrüchen kann das ganze Einzelteil in der eindimensionalen Folge dargestellt werden und braucht nicht Informationen in der spärlichen Stilkarte einschließen, obwohl andere Einzelteile in der spärlichen Stilkarte auf die Zeichen zeigen können, die die Absatzmarkierung implementieren, oder auf die Position in der eindimensionalen Folge jener Zeichen. The data model 132 in the present example 132 can also have a paragraph style pass 146 lock in. For example, the paragraph style pass 146 to a particular character (for example, a "\ n" character associated with a paragraph break displayed by the user) in the one-dimensional sequence 134 be connected. For example, instead of being associated with a position in the sequence, the paragraph style may be correlated to the particular "\ n" character. As in the rendered document 130 is shown, the corresponding character can trigger the creation of a paragraph break when the document is created. In the example of items such as paragraph breaks, the whole item may be represented in the one-dimensional sequence and need not include information in the sparse style card, although other items in the sparse style card may point to the characters implementing the paragraph marker or to the position in the one-dimensional sequence of those signs.
In dem vorliegenden Beispiel kann das Datenmodell 132 auch einen Listenstildurchlauf 142 einschließen. Zum Beispiel kann der Listenstildurchlauf 142 an einen Satz von Markierungen (z. B., Markierungen, die an spezifische „\n“ Zeichen angebunden sind) in der eindimensionalen Folge 134 angebunden sein. In dem vorliegenden Beispiel kann der Listenstildurchlauf 142 mit einer Listeneinheit 144 verbunden sein, das in dem Datenmodell 132 eingeschlossen ist. Zum Beispiel kann das Listeneinheit 144 Verschachtelungs- und Einrückungsinformationen für die entsprechende Liste einschließen. Zusätzlich in dem vorliegenden Beispiel, kann das Datenmodell 132 einen Tabellenstildurchlauf 148 einschließen, der Zellenstildurchläufe 150A und 150B einschließt. Zum Beispiel können der Tabellenstildurchlauf 148 und Zellenstildurchläufe Art 150A, 150B an Markierungen angebunden sein, und können dem Dokument 130 ermöglichen, Modelldaten in einem tabellarischen Format anzuzeigen. In the present example, the data model 132 also a list style run 142 lock in. For example, the list style pass 142 to a set of tags (eg, tags bound to specific "\ n" characters) in the one-dimensional string 134 be connected. In the present example, the list style pass 142 with a list unit 144 be connected in the data model 132 is included. For example, the list unit 144 Include nesting and indentation information for the corresponding list. Additionally, in the present example, the data model 132 a table style run 148 include, the cell style runs 150A and 150B includes. For example, the table style pass 148 and cell style runs Art 150A . 150B attached to markings, and can document 130 allow to display model data in a tabular format.
In einigen Implementierungen kann das Dokument 130 von dem Datenmodell durch 132 gerendert werden, indem man Änderungen an der eindimensionalen Folge 134, Stiländerungen und Modelländerungen in der Reihenfolge anwendet, in der sie auftreten (z. B. durch die Speicherung und das Beibehalten einer Liste der Änderungen, die von einem oder mehreren Benutzern vorgenommen werden). In einigen Implementierungen können Durchläufe an der eindimensionalen Folge 134 der Reihe nach angewendet werden. Zum Beispiel kann auf die eindimensionale Folge 134 von dem Datenmodell 132 zugegriffen werden, und die verschiedenen Durchläufe (z. B. der Textstildurchlauf 136, die Bildeinheit 138, der Listenstildurchlauf 142, usw.) können zum Rendern des Dokumentes 130 verwendet werden, während die Durchläufe auf Teile des Dokumentes zutreffen, auf die von einem oder mehreren Benutzern zugegriffen wird. In some implementations, the document may 130 from the data model 132 be rendered by making changes to the one-dimensional sequence 134 , Style changes and Apply model changes in the order in which they occur (for example, by storing and maintaining a list of changes made by one or more users). In some implementations, runs may be on the one-dimensional sequence 134 be applied in turn. For example, on the one-dimensional sequence 134 from the data model 132 and the various passes (e.g., the textual style pass 136 , the picture unit 138 , the list style pass 142 , etc.) can be used to render the document 130 while the runs apply to parts of the document accessed by one or more users.
2A und 2B sind Blockdiagramme und zeigen die Komponenten der Modell-Präsentation-Steuerung (MVC) einer Textverarbeitungsanwendung. Die Textverarbeitungsanwendung kann beispielsweise von einem Webbrowser (z. B. dem in der 1A gezeigten Browser 104) ausgeführt werden. Im Allgemeinen sorgt die MVC-Implementierung für das Herunterladen eines Modells von einem Remote-Server auf einen Client und für die Wiedergabe des Modells in einem DOM. Die so hergestellte Ansicht des Modells kann direkt vom Webbrowser verwaltet werden. Die Steuerung kann Aktionen, beispielsweise Mausklicks auf Symbole und Tastaturbefehle, abfangen und dafür sorgen, dass derartige Aktionen implementiert werden, beispielsweise durch das gleichzeitige Hinzufügen von eingegebenen Zeichen zum Modell auf dem Client und auf dem Remote-Server (es kann sich hierbei beispielsweise um das Hochladen von Änderungen oder Mutationen auf den Server handeln. Dies kann über Regeln so programmiert werden, dass die Mutationen in ein Mastermodell integriert werden, damit das Modell auf dem Client noch während der Bearbeitung dem Mastermodell entspricht). 2A and 2 B Figures are block diagrams showing the components of the model presentation control (MVC) of a word processing application. The word processing application can be used, for example, by a web browser (eg, the one in the 1A shown browser 104 ). In general, the MVC implementation provides for downloading a model from a remote server to a client and for rendering the model in a DOM. The resulting view of the model can be managed directly from the web browser. The controller can intercept actions, such as mouse clicks on icons and keyboard commands, and ensure that such actions are implemented, for example, by simultaneously adding typed characters to the model on the client and on the remote server (for example, the Upload changes or mutations to the server, which can be programmed via rules to integrate the mutations into a master model so that the model on the client still conforms to the master model while editing).
Unter Bezugnahme auf 2A kann eine Computeranwendung 200A so konfiguriert werden, dass sie ein Textverarbeitungsdokument 202 anzeigt. Die Anwendung 200A beinhaltet und steuert ein Modell 204A, eine Ansicht 206A und einen Controller 208A, und greift auf diese zu. So kann das Modell 204A beispielsweise eine Darstellung des Zustands vom Textverarbeitungsdokument 202 enthalten, einschließlich solcher Elemente wie Zeichendaten, Formate, Stile, Absätze, Abschnitte, Umbrüche, Listen, Tabellen, Bilder, Formeln usw. Die Ansicht 206A kann eine Wiedergabe des aktuellen Zustands vom Modell 204A darstellen. Die Ansicht kann beispielsweise eine visuelle Darstellung liefern, in der die wesentlichen Inhalte des Dokuments (z. B. seinen Rohtext) mit Formatierung und Layoutinformationen kombiniert werden. Wenn die Ansicht von einem Browser angezeigt wird, gibt sie die Form, oder sogar die genaue WYSIWYG-Darstellung des Dokuments, wieder, die vom Modell definiert wird. With reference to 2A can be a computer application 200A be configured to be a word processing document 202 displays. The application 200A includes and controls a model 204A , a view 206A and a controller 208A , and accesses these. That's the model 204A For example, a representation of the state of the word processing document 202 including such elements as character data, styles, styles, paragraphs, sections, breaks, lists, tables, images, formulas, etc. The view 206A can be a representation of the current state of the model 204A represent. For example, the view may provide a visual representation in which the essential contents of the document (eg, its raw text) are combined with formatting and layout information. When viewed by a browser, the view reflects the shape, or even the exact, WYSIWYG representation of the document defined by the model.
Zusätzlich zum Rendern des Modells kann die Ansicht 206A benutzt werden, um dem Benutzer visuelle Informationen darzubieten, die mit dem Textverarbeitungsdokument 202 verbunden sind, wie sichtbare Benutzerkontrollen für die Anwendung (d. h., Chrome) und andere Textverarbeitungsdaten. Der Controller 208A kann auf Änderungen im Modell 204A oder in der Ansicht 206A reagieren und den Zustand des Modells 204A und der Ansicht 206A aktualisieren. Wie in 2A gezeigt, stellen durchgezogene Linien zwischen dem Modell 204A, der Ansicht 206A und dem Controller 208A direkte Bezüge zwischen Komponenten dar, während gestrichelte Linien auf Listener verweisen. So kann beispielsweise der Controller 208A beim Abhören von Benutzerinteraktionen (z. B. von Benutzersteuerelementen) an der Darstellung der Ansicht 206A das Modell 204A modifizieren, und nachfolgend auch die Ansicht 206A direkt oder indirekt modifizieren (indem er die Ansicht 206A veranlasst, neue Modelldaten abzurufen und diese neuen Daten wiederzugeben). In addition to rendering the model, the view 206A used to present visual information to the user associated with the word processing document 202 such as visible user controls for the application (ie, Chrome) and other word processing data. The controller 208A Can change the model 204A or in the view 206A react and the state of the model 204A and the view 206A To update. As in 2A shown, make solid lines between the model 204A , the opinion 206A and the controller 208A direct references between components, while dashed lines refer to listeners. For example, the controller 208A listening to user interactions (such as user controls) on the view's appearance 206A the model 204A modify, and below, the view 206A directly or indirectly modify (by viewing the view 206A causes retrieve new model data and render this new data).
Als ein anderes Beispiel, hörend auf Änderungen in dem Modell 204A, das von einem anderen Benutzer in einer kollaborativen Umgebung gemacht wird oder Änderungen, die durch eine automatisierte Datenaktualisierung oder einen anderen solchen Prozess gemacht werden, kann die Ansicht 206A ein Re-rendern eines aktualisierten Modells oder eines Teils des Modells anfordern. Wenn der Benutzer eines Clientgeräts beispielsweise nur ein Benutzer unter vielen ist, die ein Dokument gleichzeitig bearbeiten, können Zeichen und andere Bearbeitungen der anderen Benutzer vom Serversystem an das Clientgerät weitergegeben werden (und die Bearbeitungen des ersten Benutzers können vom Clientgerät an das Serversystem weitergegeben werden), und der Client-Code kann dem Modell Zeichen in Echtzeit hinzufügen. Derartige Änderungen können an das DOM (z. B. durch Wiedergabe der Ansicht 206A) weitergegeben werden, wodurch jeder Benutzer in kürzester Zeit die Bearbeitungen der anderen Benutzer sehen kann. As another example, listening for changes in the model 204A that is made by another user in a collaborative environment, or changes made by an automated data update or other such process may affect the view 206A request a render of an updated model or part of the model. For example, if the user of a client device is only one user among many who are editing one document at a time, characters and other edits of the other users may be passed from the server system to the client device (and the first user's edits may be passed from the client device to the server system). and the client code can add real-time characters to the model. Such changes can be made to the DOM (eg by viewing the view 206A ), whereby each user can see the edits of other users in no time.
Unter Bezugnahme auf 2B wird die Modell-Präsentation-Steuerung wie in 2A gezeigt, mit weiteren Details dargestellt. Wie dargestellt, beinhaltet eine Computeranwendung 200B (entsprechend der Anwendung 200A) Steuerelemente, oder greift auf ein Modell 204B (entsprechend dem Modell 204A), eine Ansicht 206B (entsprechend der Ansicht 206A) und einen Controller 208B (entsprechend dem Controller 208A) zu. With reference to 2 B will the model presentation control as in 2A shown, shown with further details. As shown, includes a computer application 200B (according to the application 200A ) Controls, or accesses a model 204B (according to the model 204A ), a view 206B (according to the view 206A ) and a controller 208B (according to the controller 208A ) too.
Das Modell 204B kann eine oder mehrere Dokumentenmodelle 210 einschließen. So kann beispielsweise jedes Dokumentmodell 210 in einer Sammlung von Textverarbeitungsdokumenten ein eigenes Dokument darstellen, und jedes Modell 210 kann Elemente wie Zeichen, Stile und Entitäten beinhalten. Andere Dokumentformen, beispielsweise Tabellen, können ebenfalls dargestellt werden. Modelldaten und Elemente können von einem Masterdokument 238 bereitgestellt werden, das auf einem Remote-Serversystem mit einer Verbindung zu einem Netzwerk 236 (z. B. das Internet) gespeichert wird. The model 204B can one or more document models 210 lock in. For example, every document model 210 in a Collection of word processing documents to represent their own document, and each model 210 may include elements such as characters, styles, and entities. Other forms of documents, such as tables, may also be presented. Model data and elements can be from a master document 238 be deployed on a remote server system with a connection to a network 236 (eg the internet) is stored.
Im Allgemeinen ist Dokumenttext in den Modellen 210 mit einer Reihe von Zeichen verbunden. Die Zeichen können beispielsweise Rohtext für das Textverarbeitungsdokument 202 darstellen. Sie können auch bestimmte reservierte Steuerzeichen, beispielsweise zur Andeutung eines Umbruchs (z. B. Absatzumbruch, Seitenumbruch usw.) beinhalten. In einigen Implementierungen kann jedes Dokumentmodell 210 eine eindimensionale Zeichenfolge beinhalten, die wiederum Dokumentzeichen in der Reihenfolge beinhalten, mit der sie im Dokument auftreten. In general, document text is in the models 210 associated with a series of characters. For example, the characters may be raw text for the word processing document 202 represent. You can also include specific reserved control characters, for example, to indicate a break (eg, paragraph break, page break, etc.). In some implementations, any document model 210 contain a one-dimensional string, which in turn contain document characters in the order in which they appear in the document.
Stile können verwendet werden, um die Informationen zu speichern, die auf der Darstellung des Dokumententextes bezogen sind (Zum Beispiel, die Reihe von Zeichen). Textstile können beispielsweise Zeichenformatierungs-Attribute (z. B. Schriftart, Schriftgröße, Fettdruck, Kursivschrift, Vordergrund- und Hintergrundfarben, Ausrichtung und ähnliche Attribute) beinhalten. In einigen Implementierungen können die in den einzelnen Dokumentmodellen 210 beinhalteten Stile in einer Sparse-Matrix gespeichert werden. So kann die Sparse-Matrix beispielsweise Markierungen beinhalten, die Stiländerungen im Dokument und Positionszeigern in der Zeichenfolge entsprechen. Die Zeiger können beispielsweise Stilfolgen zwischen abgeglichenen Markierungen definieren, indem Positionen innerhalb der Zeichenfolge, in der die Stiländerungen auftreten, festgelegt werden. In einigen Implementierungen können die Markierungen im abgeglichenen Satz so angeordnet werden, dass sie innerhalb der eindimensionalen Zeichenfolge mit bestimmten Zeichen verknüpft sind. Wenn beispielsweise zwischen zwei paarweise vorkommenden Markierungen Text hinzugefügt wird, kann sich der Zeiger für eine Markierung um eine Ganzzahl verschieben. Die Verschiebung entspricht dabei der Anzahl von Zeichen, die mit dem hinzugefügten Text verknüpft sind. Styles can be used to store the information related to the appearance of the document text (for example, the series of characters). For example, text styles may include character formatting attributes (eg, font, font size, bold, italics, foreground and background colors, alignment, and the like). In some implementations, those in each document model 210 included styles stored in a sparse matrix. For example, the sparse matrix may include markers that correspond to style changes in the document and position pointers in the string. For example, the pointers can define style sequences between matched markers by setting positions within the string in which the style changes occur. In some implementations, the tags in the matched set may be arranged to be associated with particular characters within the one-dimensional string. For example, if text is added between two paired tags, the pointer for a tag may shift one integer. The shift is the number of characters associated with the added text.
Einheiten in jedem der Modelle 210 können benutzt werden, um die Informationen zu speichern, die sich auf Gegenstände außerhalb des Dokumentenmodells 210 beziehen es kann auf sie durch Hinweise im Modell wie in der eindimensionalen Zeichenfolge gezeigt werden. So können beispielsweise Entitäten Objekte beinhalten, etwa Listen, Tabellen, Bilder usw. In einigen Implementierungen können die Referenzen Objektkennungen und Zeiger auf die eindimensionalen Zeichenfolgen (z. B. von der Sparse-Matrix) beinhalten, die angeben, wo das Objekt in der Zeichenfolge erscheinen soll. Sie können auch Kennungen innerhalb der Zeichenfolge beinhalten, die auf Entitäten verweisen und die Positionen markieren, an denen bestimmte Entitäten im Dokument bei der Wiedergabe oder Anzeige erscheinen sollen. Ein Bild beispielsweise, das zwischen zwei Absätzen erscheinen soll, kann mit einem Sonderzeichen verknüpft sein, das in der Zeichenfolge nach einer Absatzmarkierung für einen Absatz und vor dem ersten Zeichen des nächsten Absatzes erscheint. Units in each of the models 210 can be used to store information that relates to items outside the document model 210 they can be referenced by hints in the model as well as in the one-dimensional string. For example, entities may include objects, such as lists, tables, images, etc. In some implementations, the references may include object identifiers and pointers to the one-dimensional strings (eg, from the sparse matrix) indicating where the object in the string is should appear. You can also include identifiers within the string that refer to entities and mark the positions at which specific entities appear in the document during playback or viewing. For example, an image that should appear between paragraphs may be associated with a special character that appears in the string after a paragraph mark for a paragraph and before the first character of the next paragraph.
Die Ansicht 206B kann ein oder mehrere Ansichtseinzelteile 220 erzeugen, die dem Benutzer ermöglichen können, mit der Anwendung 200B, wie Menüleisten, Werkzeugleisten, Kontextmenüs, Chatfenstern, Dialogen, anderen Chrome und dergleichen zu wechselwirken. Die Ansicht 206B kann auch ein Dokumentmenü 222 beinhalten, das Informationen und Steueroptionen bezüglich eines oder mehrerer Dokumentmodelle 210 und eines oder mehrerer Sätze der Pro-Ansichten 224 bietet. So kann beispielsweise eine der Pro-Ansichten 224 mit einem entsprechenden Blattmodell 210 verknüpft sein. Jede Pro-Ansicht 224 kann Komponenten oder Steuerelemente, beispielsweise Selektoren (Cursors, Auswahlindikatoren usw.) und Navigations-Tools (Bildlaufleisten, Dokumentmatrizen, Umrisse usw.) beinhalten. The view 206B can have one or more view items 220 generate, which can enable the user with the application 200B how to interact with menu bars, toolbars, context menus, chat windows, dialogs, other Chrome, and the like. The view 206B can also be a document menu 222 include the information and control options related to one or more document models 210 and one or more sentences of the pro-views 224 offers. For example, one of the pro views 224 with a corresponding leaf model 210 be linked. Every pro view 224 may include components or controls such as selectors (cursors, selection indicators, etc.) and navigation tools (scroll bars, document matrices, outlines, etc.).
Der Controller 208B kann einen oder mehrere Controller 230 einschließen, die auf Benutzerinteraktionen mit einem oder mehreren der Ansichtseinzelteile 220 hören und sie handhaben können. In einigen Implementierungen kann jeder Controller 230 mit einem entsprechenden Ansichtselement 220 verknüpft sein. So können beispielsweise Controller für Menüleisten auf die Interaktionen mit Menüleisten-Ansichtselementen achten und diese verarbeiten (z. B. bezüglich verschiedener Aktionen, die ein Benutzer gewöhnlich unter mehreren Menüauswahlelementen ergreifen würde). Controller für Symbolleisten können auf die Interaktionen mit Symbolleisten-Ansichtselementen achten und diese verarbeiten. Controller für Kontextmenüs können auf die Interaktionen mit Kontextmenü-Ansichtselementen achten und diese verarbeiten, usw. Die Feststellung, dass ein bestimmtes Ereignis aufgetreten ist, kann einen bestimmten Controller 230 dazu veranlassen, vorbestimmte Codes oder einen sonstigen vorbestimmten Vorgang auszuführen, beispielsweise ein lokales Modell zu aktualisieren, sobald ein Tastendruck eingeht, und Informationen über den Tastendruck zu einem zentralen Serversystem hochzuladen. The controller 208B can be one or more controllers 230 based on user interactions with one or more of the view items 220 hear and handle them. In some implementations, any controller can 230 with a corresponding view element 220 be linked. For example, menu bar controllers may be aware of and process the interactions with menu bar view items (eg, regarding various actions that a user would typically take among multiple menu selectors). Toolbar controllers can monitor and process the interactions with toolbar view items. Context menu controllers can be aware of and process the interactions with context menu view items, and so on. The determination that a particular event has occurred can be a particular controller 230 cause to execute predetermined codes or other predetermined operation, for example to update a local model as soon as a key press comes in and to upload information about the keystroke to a central server system.
Der Controller 208B kann auch einen Dokumentencontroller 232 einschließen, der auf Benutzerinteraktionen mit dem Dokumentenmenü 222 hören und sie handhaben kann. Zusätzlich kann der Controller 208B einen Satz von Pro-Ansicht-Controllern 234 beinhalten, wobei jeder Controller 234 so konfiguriert ist, dass er auf Benutzerinteraktionen mit einer entsprechenden Ansicht im Satz der Pro-Ansichten 224 achtet und diese verarbeitet. Jeder Pro-Ansicht-Controller 234 kann verschiedene Controller-Typen beinhalten, beispielsweise Tasten-Controller für das Abfangen und Interpretieren von Tastatureingaben, Maus-Controller für das Abfangen und Interpretieren von Mauseingaben und Modelländerung-Controller für das Abfangen und Interpretieren von Modelländerungsereignissen. The controller 208B can also have a document controller 232 include on user interactions with the document menu 222 listen and handle it. In addition, the controller 208B a set of pro view controllers 234 include, with each controller 234 is configured to respond to user interactions with a corresponding view in the set of pro views 224 pay attention and process them. Any pro view controller 234 may include various types of controllers, such as keyboard controllers for intercepting and interpreting keyboard input, mouse controllers for intercepting and interpreting mouse inputs, and model change controllers for intercepting and interpreting model change events.
Im Allgemeinen können die in dem Controller 208B eingeschlossenen Controller Benutzer-erzeugte Ereignisse in Modell- und Ansichtsmutationen umwandeln. Ein relevanter Controller (z. B. ein für die Verarbeitung von Aktionen konfigurierter Controller) kann beispielsweise aufgrund einer Benutzeraktion ein oder mehrere Ereignisse empfangen, die mit der Aktion verknüpft sind, und vorübergehende Änderungen an der Ansicht 206B vornehmen, bevor die Benutzeraktion erfolgt. Anschließend kann der entsprechende Controller auf Grundlage der Ereigniseigenschaften einen Befehl zusammenstellen, um das Modell 204B zu mutieren, es auszuführen und das aktualisierte Modell oder lediglich die Daten der jeweiligen Mutationen an das Remote-Serversystem weiterzuleiten, welches das Dokumentmodell 238 über das Netzwerk 236 hostet. In general, those in the controller 208B included controller to convert user-generated events into model and view mutations. For example, a relevant controller (eg, a controller configured to process actions) may receive one or more events associated with the action due to a user action and temporary changes to the view 206B before the user action occurs. Then, based on the event properties, the appropriate controller can assemble a command to the model 204B to mutate, execute and forward the updated model or just the data of the respective mutations to the remote server system containing the document model 238 over the network 236 hosts.
Die Controller können auch Zeitgeber oder andere Mechanismen benutzen, um Eingaben oder Mutationen anzusammeln, um die Anzahl der Aktualisierungen zu senken, die zu den lokalen oder Server-basierten Modellen gebildet werden müssen. Die Controller können beispielsweise Änderungen an dem lokalen und/oder serverbasierten Modell in Batches implementieren, die innerhalb vordefinierter Zeitfenster auftreten. So kann etwa eine Wartezeit von 200 ms nach dem ersten Tastaturbefehl eingehalten werden, bevor das zentrale Serversystem die Daten über alle Tastaturbefehle erhält, die in diesem Zeitfenster aufgetreten sind. The controllers may also use timers or other mechanisms to accumulate inputs or mutations to reduce the number of updates that must be made to the local or server-based models. For example, the controllers may implement changes to the local and / or server-based model in batches occurring within predefined time windows. For example, a wait of 200 ms may be allowed after the first keyboard command before the central server system receives the data on all keyboard commands that occurred in that time slot.
Viele mögliche Benutzerinteraktionen mit der Anwendung 200B sind möglich, einschließlich Interaktionen, die in Einzelbenutzersitzungen und in Mehrfachbenutzersitzungen eingeschlossen sind. Zur Veranschaulichung wird nachfolgend eine Reihe von beispielhaften Benutzeraktionen mit der Anwendung 200B beschrieben. Um beispielsweise Text in das Textverarbeitungsdokument 202 einzugeben, kann der Benutzer mit einer Computermaus die gewünschte Dokumentposition 212 für die Texteinfügung auswählen, indem er auf das Dokument 202 klickt. Ein Maus-Controller, der in den Pro-Ansicht-Controllern 234 beinhaltet ist (z. B. ein Pro-Ansicht-Controller, der mit dem aktiven Dokument 202 verknüpft ist), kann auf ein Ereignis achten, das mit der Mauspositionierungs- und Mausklick-Eingabe verknüpft ist. Sobald dieses Ereignis abgefangen wird, kann der Controller die Ansicht 206B modifizieren (z. B. eine Pro-Ansicht, die mit dem aktiven Dokument verknüpft ist), um dem Benutzer einen visuellen Indikator für die Auswahl (z. B. einen Cursor) zu geben. Die ausgewählte Position 212 kann beispielsweise mit einem sichtbaren Cursor verknüpft sein (wobei der Cursor ein grafisches HTML-Element, beispielsweise ein Bild, ist und an einer geeigneten Position im Ansichtsbereich angezeigt wird, an der auch das Dokument angezeigt wird, wodurch das grafische Element in einer synthetischen Darstellung wie ein echter Cursor aussieht). Die ausgewählte Position kann auch optisch hervorgehoben werden oder eine andere Modifizierung erfahren. Zusätzlich kann die ausgewählte Position 212 auch mit einer Position im Modell 204B verknüpft sein. So kann beispielsweise eine in einer eindimensionalen Zeichenfolge und in den Dokumentmodellen 210 enthaltene Stelle auf Grundlage der ausgewählten Position 212 bestimmt werden. Many possible user interactions with the application 200B are possible, including interactions that are included in single-user sessions and in multiple-user sessions. By way of illustration, a number of example user actions with the application will follow 200B described. For example, text in the word processing document 202 The user can use a computer mouse to enter the desired document position 212 to select the text insertion by clicking on the document 202 clicks. A mouse controller running in the Pro view controllers 234 includes (for example, a pro view controller that interacts with the active document 202 can be aware of an event associated with the mouse positioning and mouse click input. Once this event is intercepted, the controller can change the view 206B modify (e.g., a pro view associated with the active document) to give the user a visual indicator of the selection (eg, a cursor). The selected position 212 For example, the cursor may be associated with a visible cursor (where the cursor is a graphical HTML element, such as an image, and is displayed in an appropriate location in the viewport where the document is displayed, rendering the graphical element in a synthetic representation, such as a real cursor looks like). The selected position may also be highlighted or undergo another modification. Additionally, the selected position 212 also with a position in the model 204B be linked. For example, one in a one-dimensional string and in document models 210 included position based on the selected position 212 be determined.
Mit einer Tastatur kann der Benutzer den gewünschten Text an der Dokumentenstelle 212 eingeben. Ein Tastatur-Controller, der in den Pro-Ansicht-Controllern 234 beinhaltet ist, kann auf Ereignisse achten, die mit der Tastatureingabe verknüpft sind. Sobald diese abgefangen werden, kann die Ansicht 206B dahingehend modifiziert werden, dass der Benutzer einen visuellen Indikator für die Eingabe erhält. Wenn der Benutzer beispielsweise Text an der Position 212 eingibt, kann das Dokument 202 visuell aktualisiert werden, sodass der Benutzer den Text sieht. Darüber hinaus kann der Tastatur-Controller das Modell 204B dahingehend modifizieren, dass der eingegebene Text durch Kopieren der Benutzereingabe in das Modell eingefügt wird. So kann beispielsweise eine eindimensionale und in den Dokumentmodellen 210 enthaltene Zeichenfolge so aktualisiert werden, dass die eingegebenen Zeichen enthalten sind. Darüber hinaus kann das Dokumentmodell 238 dahingehend aktualisiert werden, dass der eingegebene Text enthalten ist, wodurch also das Modell 204B mit dem Dokumentmodell 238 koordiniert wird. So können beispielsweise Änderungen am Modell 204B über eine Verbindung zum Netzwerk 236 an das Dokumentmodell 238 übertragen werden. In einigen Implementierungen können Änderungen periodisch (z. B. nach 100 ms, 200 ms, 500 ms, 1 s, 2 s oder einem anderen geeigneten Zeitintervall) weitergegeben werden. In einigen Implementierungen können Änderungen auf Grundlage einer Benutzeraktivität (z. B. bei Eingabe eines Absatzumbruchs, bei Anwenden einer Formatänderung, beim Navigieren zu einem anderen Dokumentabschnitt, beim Klicken einer Speichern-Schaltfläche oder bei einer anderen Aktion) weitergegeben werden. With a keyboard, the user can enter the desired text at the document location 212 enter. A keyboard controller included in the Pro View controllers 234 is included, can watch for events associated with keyboard input. Once these are intercepted, the view may 206B be modified so that the user receives a visual indicator for the input. For example, if the user is text at the location 212 enters, the document can 202 be visually updated so that the user sees the text. In addition, the keyboard controller may be the model 204B to modify the input text by copying the user input into the model. For example, a one-dimensional and in the document models 210 contained string so that the entered characters are included. In addition, the document model 238 be updated so that the entered text is included, so what the model 204B with the document model 238 is coordinated. For example, changes to the model 204B via a connection to the network 236 to the document model 238 be transmitted. In some implementations, changes may be propagated periodically (eg, after 100 ms, 200 ms, 500 ms, 1 s, 2 s, or any other suitable time interval). In some implementations, changes can be propagated based on user activity (such as entering a paragraph break, applying a style change, navigating to another section of the document, clicking a Save button, or other action).
Als ein anderes Beispiel, kann der Benutzer eine Einheit (Zum Beispiel, eine Liste, eine Tabelle, einen Hyperlink, ein Bild oder einen anderen derartigen Gegenstand) in das Dokument 202 einsetzen. Der Benutzer kann beispielsweise mit einer Computermaus eine gewünschte Dokumentposition (z. B. die Position 212) für die Entitätseinfügung auswählen, indem er auf das Dokument 202 klickt. Ähnlich wie bei Interaktionen im Zusammenhang mit Texteingabe kann beispielsweise ein in dem Pro-Ansicht-Controller 234 enthaltener Maus-Controller auf ein Ereignis achten, das mit der Mauspositionierungs-Eingabe und der Mausklick-Eingabe verknüpft ist. Sobald das Ereignis abgefangen wird, kann der Controller die Ansicht 206B so modifizieren, dass der Benutzer einen visuellen Indikator für die ausgewählte Position erhält. Als Nächstes kann der Benutzer beispielsweise die Entität für Einfügungen festlegen, indem er mit einem Ansichtselement 220 oder mit dem Dokumentmenü 222 interagiert. Beispielsweise kann der Benutzer eine Auswahl auf einer Menüleiste vornehmen, um hierdurch den Wunsch einer Bildeinfügung mitzuteilen. Ein mit der Bildauswahl verknüpftes Dialogfeld kann dem Benutzer angezeigt werden, damit dieser das gewünschte Bild auswählen kann. As another example, the user may be a unit (for example, a list, a table, a hyperlink, an image, or another such object) in the document 202 deploy. For example, the user can use a computer mouse to select a desired document location (eg, position 212 ) for the entity insertion by clicking on the document 202 clicks. For example, similar to interactions with text input, one in the per-view controller 234 The mouse controller included should pay attention to an event associated with mouse positioning input and mouse click input. Once the event is intercepted, the controller can change the view 206B modify so that the user receives a visual indicator for the selected position. For example, the user can next set the entity for inserts by using a view element 220 or with the document menu 222 interacts. For example, the user may make a selection on a menu bar to thereby indicate the desire for an image insertion. A dialog box associated with image selection can be displayed to the user to select the desired image.
Modell-Ansichts-Controller-Interaktionen für das Hinzufügen der Einheit innerhalb der Anwendung 200B können in einer ähnlichen Weise funktionieren, wie wenn ein Benutzer einen Text eingibt. Wenn der Benutzer beispielsweise das Bild an der Position 212 einfügt, kann das Dokument 202, wenn es auf einer Bearbeitungsfläche angezeigt wird, visuell aktualisiert werden, damit der Benutzer das Bild sieht. Zusätzlich kann das Modell 204B so modifiziert werden, dass es eine Referenz auf das eingefügte Bild enthält, indem die Referenz in das Modell geschrieben wird. Eines der Dokumentmodelle 210 (z. B. das mit dem aktiven Dokument verknüpfte Modell) kann beispielsweise so aktualisiert werden, dass es eine Referenz zum eingefügten Bild beinhaltet. Eine eindimensionale Zeichenfolge kann so aktualisiert werden, dass sie ein Sonderzeichen beinhaltet, das die Position des Bilds angibt, und die Referenz zum Bild kann gespeichert werden. Model view controller interactions for adding the unit within the application 200B can work in a similar way as when a user enters a text. If the user, for example, the picture in the position 212 can insert the document 202 when it is displayed on a canvas, be visually updated so that the user sees the picture. In addition, the model can 204B be modified to include a reference to the inserted image by writing the reference into the model. One of the document models 210 (eg, the model associated with the active document), for example, may be updated to include a reference to the inserted image. A one-dimensional string can be updated to include a special character indicating the position of the image, and the reference to the image can be saved.
Wenn das Dokument 202 von dem Modell gerendert wird, das mit dem aktiven Dokument verbunden ist, dann kann der Bildinhalt zum Beispiel in das Dokument 202 integriert werden, das dem Benutzer angezeigt wird. In einigen Implementierungen kann die eindimensionale Zeichenfolge mehrere Vorkommnisse einer Kennung für eine einzelne Entität beinhalten. So kann das Bild beispielsweise an mehreren Stellen im Dokument 202 positioniert werden, was durch mehrere Positionen für die Kennung in der eindimensionalen Zeichenfolge angegeben wird. Eine einzelne externe Entität kann also innerhalb eines Dokuments oder zwischen mehreren Dokumenten gemeinsam verwendet werden, jeweils durch gemeinsame Referenzen zur externen Entität. Das Dokumentmodell 238 kann dahingehend aktualisiert werden, dass das eingegebene Bild beinhaltet ist, wodurch also das Modell 204B mit dem Dokumentmodell 238 koordiniert wird. So können beispielsweise Änderungen am Modell 204B über eine Verbindung zum Netzwerk 236 an das Dokumentmodell 238 übertragen werden. If the document 202 is rendered by the model associated with the active document, then the image content may be included in the document, for example 202 which is displayed to the user. In some implementations, the one-dimensional string may include multiple occurrences of an identifier for a single entity. For example, the image may be in several places in the document 202 which is indicated by multiple positions for the identifier in the one-dimensional string. Thus, a single external entity can be shared within a document or between multiple documents, each with common references to the external entity. The document model 238 can be updated to include the input image, so the model 204B with the document model 238 is coordinated. For example, changes to the model 204B via a connection to the network 236 to the document model 238 be transmitted.
Zusätzlich kann der Benutzer zum Beispiel die Formatierung des Textes und die Einheit modifizieren, die in dem Dokument 202 dargestellt werden. Durch Interaktion mit einem der Ansichtselemente 220 oder mit dem Dokumentmenü 222 kann der Benutzer eine gewünschte Formatierungsänderung (z. B. die Änderung der Schriftart eines ausgewählten Textblocks in Fettdruck, die Änderung einer Wörteranordnung als Liste, die Änderung eines Absatzes auf Rechtsausrichtung, die Änderung eines Dokumentzeilenabstands auf Doppelzeilen usw.) angeben. Einer der Controller 230 oder der Dokument-Controller 232 kann zusammen mit der Ansicht 206B auf Benutzerinteraktionen achten. Sobald eine solche Interaktion erkannt wird, kann das Modell 204B so modifiziert werden, dass die Formatierungsänderung beinhaltet wird. Eines der Dokumentmodelle 210 (z. B. das mit dem aktiven Dokument verknüpfte Modell) kann beispielsweise so aktualisiert werden, dass ein Element in eine Sparse-Stilmatrix beinhaltet wird. Diese definiert die Formatierungsänderung und definiert zudem die Positionen auf der eindimensionalen Zeichenfolge, an denen die Stiländerungen vorgenommen werden sollen. Ein in den Pro-Ansicht-Controllern 234 beinhalteter Modelländerungs-Controller kann auf Ereignisse achten, die mit dem Modell 204B verknüpft sind und eine Anfrage an die Ansicht 206B senden, eine entsprechende Aktualisierung vorzunehmen (z. B. durch Wiedergeben einer Anzeige des formatierten Textes). In einigen Implementierungen kann der Modelländerungs-Controller auch Modelländerungs-Ereignisse verarbeiten, die sich aus kollaborativen Modelländerungen ergeben. In addition, the user may, for example, modify the formatting of the text and the entity included in the document 202 being represented. By interacting with one of the view elements 220 or with the document menu 222 For example, the user may specify a desired formatting change (eg, changing the font of a selected text block in bold, changing a word order as a list, changing a paragraph to the right orientation, changing a document line spacing to double lines, etc.). One of the controllers 230 or the document controller 232 can along with the view 206B Pay attention to user interactions. Once such interaction is detected, the model can 204B be modified to include the formatting change. One of the document models 210 For example, the model associated with the active document may be updated, for example, to include an element in a sparse style matrix. This defines the formatting change and also defines the positions on the one-dimensional string where the style changes should be made. One in the pro view controllers 234 included model change controller can watch for events with the model 204B are linked and a request to the view 206B send an appropriate update (for example, by playing a display of the formatted text). In some implementations, the model change controller may also handle model change events resulting from collaborative model changes.
In einigen Implementierungen kann ein Dokumentenmodell, das eines der Dokumentenmodelle 210 ist, eine Teilmenge der Dokumentendaten von dem Dokumentenmodell 238 einschließen. Wenn das Dokumentmodell 238 beispielsweise außergewöhnlich groß ist, kann eine Teilmenge der Daten (z. B. eine mit einem Abschnitt des Dokuments verknüpfte Teilmenge, die aktuell für den Benutzer sichtbar ist, plus eventuell ein Pufferbereich um den aktuell sichtbaren Bereich oder Ansichtsbereich, wodurch kleine Bildlaufentfernungen durch normale Browserinteraktionen und ohne Wiedergabe zusätzlicher Inhalte vom Modell verarbeitet werden können) für jeden einzelnen Client bereitgestellt werden, der aktuell das Textverarbeitungsdokument 202 anzeigt. Weiter ist es beispielsweise möglich, das vollständige Dokumentmodell 238 für jeden einzelnen Client bereitzustellen. In some implementations, a document model may be one of the document models 210 is a subset of the document data from the document model 238 lock in. If the document model 238 For example, if an object is unusually large, a subset of the data (eg, a subset associated with a portion of the document that is currently visible to the user, plus possibly a buffer area around the currently visible area or area of view, may cause small scrolling distances through normal browser interactions and can be processed by the model without rendering additional content) for each individual client currently using the word processing document 202 displays. Further, it is possible, for example, the complete document model 238 to provide for each individual client.
Der Benutzer kann wählen, um einen anderen Teil des Textverarbeitungsdokumentes 202 anzusehen, als dasjenige, das der Benutzer sich zur Zeit im Web-Browser ansieht. Wenn der Benutzer beispielsweise mit einer Bildlaufleiste 214 interagiert, die mit dem Dokument 202 verknüpft ist, kann der Benutzer die Absicht äußern, die Dokumentdaten außerhalb des aktuellen Ansichtsfensters oder des angezeigten Bereichs zu sehen. Einer der Pro-Ansicht-Controller 234 (z. B. der mit dem aktiven Dokument verknüpfte Pro-Ansicht-Controller) kann auf Benutzerinteraktionen bei der Ansicht 206B oder einer anderen entsprechenden Komponente achten (z. B. dem visuellen Teil der Bildlaufleiste 214). Beim Feststellen einer Interaktion (z. B. über eine Computermaus) kann er die Ansicht 206B auffordern, diese Aktion einzustellen. The user can choose to change another part of the word processing document 202 than what the user is currently viewing in the web browser. For example, if the user has a scroll bar 214 interacts with the document 202 the user can indicate the intention to see the document data outside the current viewport or the displayed area. One of the pro view controllers 234 (for example, the Pro View Controller associated with the active document) may be based on user interaction with the view 206B or any other appropriate component (such as the visual part of the scroll bar 214 ). When determining an interaction (eg via a computer mouse) he can view 206B ask to stop this action.
Wenn der Benutzer eine kleine Menge von Scrolling spezifiziert, dann kann die Ansicht 206A sich selbst veranlassen, durch den Browser angezeigt zu werden. So kann beispielsweise ein Pufferbereich der Dokumentdaten im Modell 204B (der bereits in einem DOM wiedergegeben wird) rund um die im sichtbaren Bereich von Dokument 202 angezeigten Daten beibehalten werden. Wenn sich das vom Benutzer festgelegte Maß an Bildlauf nach Ansicht 206B noch innerhalb der Grenzen des Pufferbereichs für Daten befindet, kann die Dokumentanzeige mithilfe der zuvor wiedergegebenen Daten aktualisiert werden. Wenn der Benutzer ein großes Maß an Bildlauf festlegt, sodass sich der vom Benutzer festgelegte Bildlauf nach Ansicht 206B außerhalb der Grenzen der zuvor wiedergegebenen Pufferdaten befindet, können beispielsweise vom Dokumentmodell 238 weitere Dokumentdaten über das Netzwerk 236 heruntergeladen werden. Hierdurch kann das Modell 204B mit Informationen aktualisiert werden, die mit weiteren Dokumentabschnitten verknüpft sind, und das Dokument kann mithilfe der heruntergeladenen Daten wiedergegeben werden. If the user specifies a small amount of scrolling then the view may be 206A to cause yourself to be displayed by the browser. For example, a buffer area of the document data in the model 204B (which is already rendered in a DOM) around the visible area of document 202 retained data. If the user-specified amount of scrolling by view 206B is still within the bounds of the data buffer area, the document display can be refreshed using the previously rendered data. If the user sets a large amount of scrolling, causing the user-specified scrolling by view 206B outside the limits of the buffer data previously reproduced, may be, for example, the document model 238 additional document data over the network 236 be downloaded. This allows the model 204B be updated with information associated with other sections of the document, and the document can be played using the downloaded data.
2C ist das Blockdiagramm eines Systems 240, bei dem die kollaborative Bearbeitung eines Dokuments durch mehrere Benutzer und über ein gehostetes Serversystem ermöglicht wird. Im Allgemeinen beinhaltet das System 240 ein gehostetes Dokumentsystem 242, das von einem oder mehreren Computerservern (z. B. einer Serverfarm) ausgeführt wird. Das gehostete Dokumentsystem 242 kann Dokumenthosting-Dienste für eine beliebige Anzahl von Clients über Verbindungen zu einem Netzwerk 244 (z. B. das Internet) anbieten. Mithilfe des Dokumentsystems 242 können Clientbenutzer neue Dokumente erstellen, bestehende Dokumente modifizieren, Dokumente freigeben und kollaborativ mit anderen Benutzern an Dokumenten arbeiten. 2C is the block diagram of a system 240 , which enables collaborative editing of a document by multiple users and a hosted server system. In general, the system includes 240 a hosted document system 242 that is executed by one or more computer servers (for example, a server farm). The hosted document system 242 Can document hosting services for any number of clients through connections to a network 244 (eg the internet). Using the document system 242 Client users can create new documents, modify existing documents, share documents, and work collaboratively with other users on documents.
Zum Zweck der Illustration können Dokumenten-Hosting-Service Browseranwendungen 246, 248 und 250 zur Verfügung gestellt werden. Jede dieser Anwendungen kann von einem Webbrowser (z. B. vom Browser 104, wie in 1 dargestellt) ausgeführt werden und kann Modell-, Ansichts- und Controller-Komponenten beinhalten (z. B. ähnlich wie bei Anwendung 200, die in den 2A und 2B dargestellt wird). Die Anwendungen 246, 248 und 250 können so konfiguriert werden, dass sie Computercode ausführen (z. B. JavaScript und andere Codes, die auf einem Webbrowser laufen), um eine Textverarbeitungsschnittstelle anzuzeigen und Textverarbeitungsfunktionen auszuführen, die mit einem oder mehreren der vom gehosteten Dokumentsystem 242 bereitgestellten Dokumenten verknüpft sind. For the purpose of illustration, document hosting service can be browser applications 246 . 248 and 250 to provide. Each of these applications can be viewed from a web browser (for example, from the browser 104 , as in 1 shown) and may include model, view, and controller components (eg, similar to application 200 that in the 2A and 2 B is pictured). The applications 246 . 248 and 250 can be configured to execute computer code (eg, JavaScript and other code running on a web browser) to display a word processing interface and execute word processing functions associated with one or more of the hosted document system 242 provided documents are linked.
Wie in der vorliegenden Illustration gezeigt ist, Chris kann mit einem Web-Browser 252 wechselwirken, Tina kann mit einem Web-Browser 254 wechselwirken, und Spike kann mit einem Web-Browser 256 wechselwirken. Jeder der Browser 252, 254 und 256 kann auf eine passende Anzahl von Browseranwendungen (z. B. eingebettete Anwendungen, Widgets, Internetdienste usw.) zugreifen. So kann der Browser 252 beispielsweise auf die Anwendung 246, der Browser 254 auf die Anwendung 248 und der Browser 256 auf die Anwendung 250 zugreifen. As shown in the present illustration, Chris can use a web browser 252 interact, Tina can use a web browser 254 interact, and Spike can use a web browser 256 interact. Each of the browsers 252 . 254 and 256 can access an appropriate number of browser applications (for example, embedded applications, widgets, Internet services, etc.). So can the browser 252 for example, on the application 246 , the browser 254 on the application 248 and the browser 256 on the application 250 access.
Indem sie mit Kontrollen wechselwirken, die durch die Web-Browsers, zum Beispiel, Benutzern des Systems 240 dargestellt werden (Zum Beispiel, Chris, Spike und Tina), können sie mit einem oder mehreren Dokumenten arbeiten, die von dem gehosteten Dokumentensystem 242 gehandhabt und zur Verfügung gestellt werden. Die Benutzer können z. B. auf die vom System 242 bereitgestellten Dokumente zugreifen oder neue Dokumente erstellen. Jede der Browseranwendungen 246, 248 und 250 kann mit einer Schnittstelle 260 des Dokumentsystems 242 über das Netzwerk 244 kommunizieren. So kann eine Kommunikation zwischen den Browseranwendungen 246, 248 und 250 sowie die Schnittstelle 260 beispielsweise HTTP-Anfragen (HyperText Transfer Protocol), SOAP-Meldungen (Simple Object Access Protocol) oder einige andere geeignete Protokolle beinhalten. In einigen Implementierungen können die Clientbrowser Kanalverbindungen zur Schnittstelle 260 unterhalten, um Sitzungsdaten zwischen Clients und dem Dokumentsystem 242 zu kommunizieren. By interacting with controls made by the web browsers, for example, users of the system 240 (For example, Chris, Spike, and Tina), they can work with one or more documents that are hosted by the hosted document system 242 handled and made available. The users can z. B. on the system 242 access the documents provided or create new documents. Each of the browser applications 246 . 248 and 250 can with an interface 260 of the document system 242 over the network 244 communicate. So can communication between the browser applications 246 . 248 and 250 as well as the interface 260 For example, HyperText Transfer Protocol (HTTP) requests, Simple Object Access Protocol (SOAP) messages, or some other suitable protocol. In some implementations, the client browsers may channel to the interface 260 maintain session data between clients and the document system 242 to communicate.
Das gehostete Dokumentensystem 242 kann Subkomponenten zum Speichern und Handhaben von Informationen einschließen, die auf Systembenutzer, Dokumente und Browseranwendungen bezogen sind. Die verschiedenen Teilkomponenten können von demselben Computerserver ausgeführt werden oder über mehrere Computerserver verteilt sein. Die Teilkomponenten können direkt (z. B. über Meldungen, übertragene Dateien, freigegebene Daten, entfernte Prozessrufe oder ein anderes Protokoll) oder auch indirekt (z. B. über eine zwischengeschaltete Anwendung) untereinander kommunizieren. Im Allgemeinen können Teilkomponenten, die im Dokumentsystem 242 beinhaltet sind, mit den Clientanwendungen (z. B. den Browseranwendungen 246, 248 und 250) über die Schnittstelle 260 kommunizieren. The hosted document system 242 may include subcomponents for storing and handling information related to system users, documents, and browser applications. The various subcomponents may be executed by the same computer server or distributed across multiple computer servers. The subcomponents can be used directly (eg via messages, transferred files, released data, remote process calls or another protocol) or indirectly (eg via a intermediate application) communicate with each other. In general, subcomponents that are in the document system 242 are included with the client applications (e.g., the browser applications 246 . 248 and 250 ) over the interface 260 communicate.
Das System 242 kann auch einen oder mehrere Datenspeicher für die Speicherung von Benutzerinformationen 270 einschließen. Die Benutzerinformation 270 kann beispielsweise Informationen bezüglich der Systembenutzer (z. B. Chris, Tina und Spike) beinhalten. Diese Informationen können u. a. Folgendes beinhalten: Allgemeine Benutzerinformationen und Anmeldeinformationen (z. B. Benutzernamen, Kennwörter, E-Mail-Adressen usw.); Informationen zu einem oder mehreren Geräten, über das bzw. die die Benutzer auf das System zugreifen (z. B. IP-Adressen, Browserversionen, Verbindungsgeschwindigkeiten usw.) und Systemnutzungsinformationen (z. B. Zugriffszeiten, Umfang der abgerufenen Daten usw.). The system 242 can also use one or more data stores for storing user information 270 lock in. The user information 270 may include, for example, information regarding system users (eg, Chris, Tina, and Spike). This information may include, but is not limited to: general user information and credentials (such as usernames, passwords, e-mail addresses, etc.); Information about one or more devices that users use to access the system (such as IP addresses, browser versions, connection speeds, etc.) and system usage information (for example, access times, volume of data retrieved, etc.).
In einigen Implementierungen kann das System 242 einen oder mehrere Datenspeicher für die Speicherung von Dokumenten 272 in der Form einschließen, Zum Beispiel wie die oben und unten diskutierte Dokumentenmodelle. So können die Dokumente 272 beispielsweise Textverarbeitungsdokumente beinhalten, die von Systembenutzern erstellt, unterhalten und abgerufen werden. Ein weiteres Beispiel sind die Dokumente 272, die von einem automatisierten Vorgang, beispielsweise einem News-Feed oder einem anderen Berichtsvorgang, generiert werden und wiederum auf den gesammelten Daten basieren. Informationen, die mit den Dokumenten 272 verknüpft sind, können Dokumentdaten-Modelle, Dokumenttext, Dokument-Formatierungsinformationen, Entitäten (z. B. Tabellen, Bilder, Videos, Sound-Clips oder ähnliche Objekte) usw. beinhalten. In some implementations, the system may 242 one or more data stores for storing documents 272 in the form, for example, like the document models discussed above and below. So can the documents 272 For example, include word processing documents that are created, maintained and retrieved by system users. Another example is the documents 272 that are generated by an automated process, such as a news feed or other reporting process, based on the data collected. Information with the documents 272 may include document data models, document text, document formatting information, entities (e.g., tables, images, videos, sound clips, or similar objects), and so on.
Das System 242 kann auch einen oder mehrere Datenspeicher für die Speicherung von Zugangsinformationen 274 einschließen. So kann die Zugriffsinformation 274 beispielsweise Informationen über die Zugriffssteuerung von Systembenutzern (z. B. Benutzern, die in den Benutzerinformationen 270 beinhaltet sind) auf Systemdokumente (z. B. Dokumente, die in den Dokumenten 272 beinhaltet sind) beinhalten. Im Allgemeinen können Systembenutzer die Zugriffsrechte für die selbst erstellten oder verwalteten Dokumente selbst definieren. So kann beispielsweise Chris ein persönliches Briefdokument erstellen und festlegen, dass dieses Dokument privat ist. Hierdurch können andere Systembenutzer (z. B. Tina und Spike) dieses Dokument nicht finden oder darauf zugreifen, da der Zugriff auf verschiedene gängige Weise eingeschränkt sein kann. Ein weiteres Beispiel wäre, dass Tina ein Zeitplandokument hochlädt und definieren könnte, dass dieses Dokument mit Chris geteilt werden soll und für diesen einsehbar ist. Spike könnte das Dokument deshalb weder finden noch darauf zugreifen, während Chris auf das Dokument im schreibgeschützten Modus zugreifen könnte. In einigen Implementierungen könnte Tina als Dokumentautorin den vollständigen Zugriff auf das Dokument behalten. Sie hätte dann bestimmte Rechte, beispielsweise das Hinzufügen, Bearbeiten und Löschen von Inhalten, könnte Rechte ändern und könnte das Dokument aus dem System 242 entfernen. Ein weiteres Beispiel wäre, dass Spike in Verbindung mit einem Gruppenprojekt ein Dokument erstellen könnte, und Chris sowie Tina (neben sich selbst) vollständige Zugriffsrechte einräumen könnte. In einigen Implementierungen können Benutzergruppen in der Zugriffsinformation 274 beinhaltet sein. So kann ein Benutzer beispielsweise eine Gruppe erstellen und dieser Gruppe ein oder mehrere Benutzer hinzufügen. Statt beim Zuweisen von Dokumentrechten einzelne Benutzer auszuwählen, kann der Benutzer in bestimmten Fällen eine Gruppe auswählen, in der die einzelnen Benutzer enthalten sind. Die Zugriffsinformation 274 kann auch solche Informationen wie die Benutzer-IDs der Dokumentbenutzer, die Dokument-Zugriffszeiten usw. beinhalten. The system 242 can also use one or more data stores for storing access information 274 lock in. So can the access information 274 For example, information about the access control of system users (for example, users in the user information 270 includes) on system documents (eg documents contained in the documents 272 include). In general, system users can define the access rights for the self-created or managed documents themselves. For example, Chris can create a personal letter document and specify that this document is private. This will prevent other system users (such as Tina and Spike) from finding or accessing this document because access to it may be restricted in several common ways. Another example would be that Tina uploads a schedule document and could define that this document should be shared with Chris and be viewable by him. Therefore, Spike could not find or access the document while Chris was accessing the document in read-only mode. In some implementations, Tina, as a document author, could retain full access to the document. She would then have certain rights, such as adding, editing and deleting content, could change rights and could remove the document from the system 242 remove. Another example would be that Spike could create a document in connection with a group project, and Chris and Tina (besides themselves) could grant full access rights. In some implementations, user groups may be in the access information 274 includes his. For example, a user can create a group and add one or more users to that group. Instead of selecting individual users when assigning document rights, in some cases, the user may select a group that contains each user. The access information 274 may also include such information as document user user IDs, document access times, and so on.
In einigen Implementierungen kann das System 242 einen oder mehrere Datenspeicher für die Speicherung von HTML/JavaScript 276 einschließen. So kann das HTML/JavaScript 276 beispielsweise den Anwendungscode für die Ausführung der Browseranwendungen 246, 248 und 250 beinhalten. Der Anwendungscode kann für einen der Browser 252, 254 und 256 bereitgestellt werden, beispielsweise, wenn die Browserbenutzer auf eine Website zugreifen, die mit dem gehosteten Dokumentsystem 242 verknüpft ist. Sobald beispielsweise eine Anfrage für eines der Dokumente 272 eingeht, kann das System 242 das HTML/JavaScript 276 neben einem oder mehreren Dokumenten 272 bereitstellen. Durch Verwendung des HTML/JavaScript 276 können die Browseranwendungen 246, 248 und 250 die Dokumentdaten wiedergeben und eine Schnittstelle bereitstellen, über die die Browserbenutzer mit den Dokumenten interagieren können. In einigen Implementierungen können andere Technologien als HTML und JavaScript für die Bereitstellung des Anwendungscodes verwendet werden. So kann beispielsweise für Webbrowser mit einem entsprechenden Plug-In ein anderer Typ des kompilierten oder interpretierten Codes bereitgestellt werden. In some implementations, the system may 242 one or more data stores for storing HTML / JavaScript 276 lock in. So can the HTML / JavaScript 276 For example, the application code for running the browser applications 246 . 248 and 250 include. The application code may be for one of the browsers 252 . 254 and 256 provided, for example, when the browser users access a web site using the hosted document system 242 is linked. Once, for example, a request for one of the documents 272 the system can 242 the HTML / JavaScript 276 next to one or more documents 272 provide. By using HTML / JavaScript 276 can the browser applications 246 . 248 and 250 render the document data and provide an interface through which browser users can interact with the documents. In some implementations, technologies other than HTML and JavaScript may be used to provide the application code. For example, for web browsers with a corresponding plug-in, a different type of compiled or interpreted code may be provided.
Viele mögliche Benutzerinteraktionen mit dem System 240 sind möglich, einschließlich Interaktionen in Einzelnutzersitzungen und in Mehrfachbenutzersitzungen. So können beispielsweise in einer kollaborativen Bearbeitungssitzung mehrere Benutzer gleichzeitig mit einem Dokument interagieren. Obwohl die für die Dokumentbearbeitung verwendeten Anwendungen möglicherweise unabhängig voneinander reagieren, können die Anwendungen beim Aktualisieren und Wiedergeben des Dokumentmodells denselben Bearbeitungsregeln folgen. Dadurch können mehrere Benutzer eine ähnliche Dokumenterfahrung haben und in der Lage sein, bei der Erstellung eines ähnlichen Dokumentmodells zusammenzuarbeiten. Many possible user interactions with the system 240 are possible, including interactions in single user sessions and in multiple user sessions. For example, in a collaborative editing session, multiple users can interact with a document at the same time. Although the applications used for document editing may be independent of each other, the applications can follow the same editing rules when updating and playing the document model. This allows multiple users to have a similar document experience and be able to collaborate in creating a similar document model.
In einer Beispielsitzung, um kollaborative Textverarbeitungs-Dokumentenbearbeitung einzuleiten, greift Chris auf das gehostete Dokumentensystem 242 zu, indem er den Web-Browser 252 auf eine Website verweist (Zum Beispiel, eine Domain), die mit dem System 242 verbunden ist. Beim Eingang der Anmeldeinformationen vom Browser 252 kann das System 242 die Informationen von Chris mit der Benutzerinformation 270 abgleichen. Bei dieser Abgleichung kann das System 242 dem Browser 252 das HTML/JavaScript 276 bereitstellen, damit die Online-Textverarbeitung ausgeführt wird (selbst wenn einige Teile des Codes bereits vor der Abgleichung weitergegeben werden). Der Browser kann einen Teil von HTML/JavaScript 276 als Browseranwendung 246 beinhalten, den mit der Anwendung verknüpften Chrome wiedergeben und die Anwendung für Chris anzeigen. In a sample session to initiate collaborative word processing document editing, Chris uses the hosted document system 242 to, by the web browser 252 refers to a website (For example, a domain) that works with the system 242 connected is. When the credentials are received from the browser 252 can the system 242 the information from Chris with the user information 270 compare. In this match, the system can 242 the browser 252 the HTML / JavaScript 276 provide for online word processing to be executed (even if some parts of the code are already passed before matching). The browser can be a part of HTML / JavaScript 276 as a browser application 246 include the Chrome associated with the application and display the application for Chris.
Chris kann mit der Browseranwendung 246 über einen Satz von Kontrollen wechselwirken, die in einer Anwendungsansicht innerhalb des Browsers 252 angezeigt werden. So kann Chris beispielsweise die Absicht erkennen lassen, dass er ein neues Dokument erstellen will, indem er auf eine Schaltfläche klickt oder eine Menüoption in der Anwendungsansicht auswählt. Der Anwendungs-Controller kann den Befehl abfangen und über das Netzwerk 244 an die Schnittstelle 260 weitergeben. Bei Eingang des Befehls kann das System 242 ein neues Dokument zu den Dokumenten 272 hinzufügen und die mit dem neuen Dokument verknüpften Informationen zum Satz der aktiven Modelle 262 hinzufügen. So können die aktiven Modelle 262 beispielsweise Modellinformationen beinhalten, die mit Dokumenten verknüpft sind, welche wiederum von anderen Benutzern des Systems 242 bearbeitet werden. Chris can with the browser application 246 interact through a set of controls that appear in an application view within the browser 252 are displayed. For example, Chris may indicate that he intends to create a new document by clicking a button or selecting a menu item in the application view. The application controller can intercept the command and over the network 244 to the interface 260 pass on. Upon receipt of the command, the system can 242 a new document about the documents 272 and the information associated with the new document about the set of active models 262 Add. So can the active models 262 For example, include model information associated with documents, which in turn are provided by other users of the system 242 to be edited.
Eine entsprechende Version eines Modells in dem Satz aktiver Modelle 262 kann an der Browseranwendung 246 anwesend sein. So kann Chris beispielsweise bei einem Textverarbeitungsdokument, das von der Ansicht der Browseranwendung 246 bereitgestellt wird, Inhalte hinzufügen und Änderungen vornehmen. Die entsprechenden Inhalte und Änderungen können auf ein Modell angewendet werden, auf das die Browseranwendung 246 (und verknüpfter HTML- und JavaScript-Code, der auf dem Browser ausgeführt wird) zugreift, und das auf die aktiven Modelle 262 weitergeleitet werden kann. A corresponding version of a model in the set of active models 262 can at the browser application 246 to be present. For example, Chris can work on a word processing document that looks like the browser application 246 provided, add content, and make changes. The appropriate content and changes can be applied to a model to which the browser application 246 (and linked HTML and JavaScript code running on the browser) accesses the active models 262 can be forwarded.
Chris kann das Dokument auch mit einem oder mehreren Benutzern teilen. Wenn Chris beispielsweise Steuerelemente verwendet, die mit der Anwendung 246 verknüpft sind, kann er Tina und Spike als Benutzer auswählen, die das Dokument teilen können. Zudem kann er Tina und Spike vollständige Benutzerrechte einräumen. So können Tina und Spike beispielsweise in eine dargestellte Liste von Benutzern aufgenommen werden, die gewöhnlich Dokumente mit Chris teilen, und Chris kann Tina und Spike aus dieser Liste auswählen. Ein weiteres Beispiel wäre, dass Chris die E-Mail-Adressen von Tina und Spike bereitstellen kann. Das System 242 kann die Freigabeinformationen (z. B. Benutzer-IDs anderer Benutzer, die Zugriff auf das Dokument haben, Zugriffsebenen der Benutzer usw.) in der Zugriffsinformation 274 speichern. In einigen Implementierungen kann das System 242 Nachrichten (z. B. E-Mails, Textnachrichten, Softwarenachrichten usw.) an Benutzer senden, die Dokumentrechte erhalten haben. In einigen Implementierungen können Benutzer, die Dokumentrechte erhalten haben, einen Link (z. B. einen Hyperlink oder URL) zum geteilten Dokument empfangen. Chris can also share the document with one or more users. For example, if Chris uses controls associated with the application 246 he can select Tina and Spike as users who can share the document. In addition, he can grant Tina and Spike full user rights. For example, Tina and Spike can be included in an illustrated list of users who usually share documents with Chris, and Chris can select Tina and Spike from this list. Another example is that Chris can provide the email addresses of Tina and Spike. The system 242 For example, the release information (eg, user IDs of other users having access to the document, user access levels, etc.) in the access information 274 to save. In some implementations, the system may 242 Send messages (eg emails, text messages, software messages, etc.) to users who have been granted document rights. In some implementations, users who have received document rights may receive a link (eg, a hyperlink or URL) to the shared document.
Nach Empfang der Mitteilung des geteilten Dokumentes können Tina und Spike auf das Dokument mit ihren Web-Browsern 254, 256 zugreifen. So kann das System 242 beispielsweise nach Prüfung das HTML/JavaScript 276 für die Browser 254 und 256 bereitstellen, um eine Online-Textverarbeitung auszuführen. Der Browser kann einen Teil des HTML/JavaScript 276 als Browseranwendungen 248 und 250 beinhalten, den mit der Anwendung verknüpften Chrome wiedergeben und die Anwendungen anzeigen. After receiving the message of the shared document, Tina and Spike can access the document with their web browsers 254 . 256 access. That's how the system works 242 For example, after checking the HTML / JavaScript 276 for the browser 254 and 256 provide to perform online word processing. The browser can be a part of HTML / JavaScript 276 as browser applications 248 and 250 include the Chrome associated with the application and display the applications.
Zusätzlich kann ein aktiver Modellmanager 264, der das gehostete Dokumentensystem 242 eingeschlossen hatte, identifizieren, welche Dokumente zur Zeit durch Benutzer des Systems geöffnet sind und Benutzer, die im Dokument aktiv sind (d. h. Chris) und kann eine kollaborative Sitzung aufstellen. So kann beispielsweise der aktive Modellmanager 264 bestimmen, dass das von Tina und Spike angeforderte Dokument mit einem oder mehreren der aktiven Modelle 262 verknüpft ist. Das System 242 kann die Dokumentanfrage dann an einen Computer weiterleiten, auf dem das Dokument gehostet ist, woraufhin der Computer Tina und Spike mit der aktuellen Sitzung verknüpfen kann. Darüber hinaus können die Browseranwendungen 248 und 250 die Modelldaten herunterladen, die mit dem/den aktiven Modell(en) 262 verknüpft sind, und die heruntergeladenen Modelldaten wiedergeben und anzeigen. In einigen Implementierungen kann das System 242 Modellinstanzen für Tina und Spike erstellen und diese zu den aktiven Modellen 262 hinzufügen. In addition, an active model manager 264 who hosted the document system 242 Identify which documents are currently open by users of the system and users who are active in the document (ie Chris) and can set up a collaborative session. For example, the active model manager 264 determine that the document requested by Tina and Spike with one or more of the active models 262 is linked. The system 242 can then forward the document request to a computer on which the document is hosted, whereupon the computer can associate Tina and Spike with the current session. In addition, the browser applications can 248 and 250 Download the model data associated with the active model (s) 262 and playback and view the downloaded model data. In some implementations, the system may 242 Create model instances for Tina and Spike and make them active models 262 Add.
Im vorliegenden Beispiel können Benutzer ihre eigenen Cursors sowie die Cursors anderer Benutzer in einer kollaborativen Sitzung sehen. Zur Veranschaulichung wird der Cursor jedes einzelnen Benutzers für ihn bzw. sie als Quadrat angezeigt. So kann Chris seinen eigenen Cursor beispielsweise als Quadrat sehen, während die Cursor anderer Benutzer als Kreis oder Dreieck dargestellt werden. Dementsprechend sehen Tina und Spike auch ihre eigenen Cursor möglicherweise als Quadrat, während die Cursor der anderen Benutzer als Kreis oder Dreieck dargestellt werden. In einigen Implementierungen können die Cursor in unterschiedlichen Farben dargestellt werden (was hier nicht gezeigt werden konnte). So können die Cursor beispielsweise im Allgemeinen als Unterstriche oder vertikale Striche dargestellt werden, wobei die Cursor für jeden Benutzer eine andere Farbe haben. In this example, users can see their own cursors and other users' cursors in a collaborative session. As an illustration, the cursor of each individual user is displayed for him or her as a square. For example, Chris may see his own cursor as a square, while other users' cursors may be represented as a circle or a triangle. Accordingly, Tina and Spike may also see their own cursors as a square, while the other users' cursors are represented as a circle or triangle. In some implementations, the cursors may be displayed in different colors (which could not be shown here). For example, the cursors may generally be represented as underscores or vertical bars, with the cursors having a different color for each user.
Im vorliegenden Beispiel können Änderungen, die von jedem der Benutzer vorgenommen werden, von den Browseranwendungen 246, 248 und 250 an das gehostete Dokumentensystem 242 gesendet werden, koordiniert und wieder zurück an die anderen Benutzer gesendet werden. In einigen Implementierungen können Änderungen in Zeitintervallen (z. B. nach 100 ms, 200 ms, 500 ms, 1 s, 2 s oder einem anderen geeigneten Zeitintervall) weitergegeben werden. In einigen Implementierungen kann das Senden zumindest teilweise von der Aktivität oder Inaktivität des Benutzers abhängig sein. Während der Perioden der Inaktivität können Änderungen beispielsweise weniger häufig gesendet oder empfangen werden, als in Perioden von Benutzeraktivität. Wenn ein Benutzer Daten eingibt, oder wenn sich ein lokaler Benutzer mit dem Zeigegerät über den Cursor für einen anderen Benutzer bewegt, kann eine Popup-Beschriftung zur Identifizierung des anderen Benutzers angezeigt werden. Auf diese Weise kann der lokale Benutzer feststellen, wer die Änderungen vornimmt, selbst wenn die Beschriftung anschließend wieder ausgeblendet werden kann, um das Dokument nicht weiter zu blockieren. In the present example, changes made by each of the users may be made by the browser applications 246 . 248 and 250 to the hosted document system 242 be sent, coordinated and sent back to the other users. In some implementations, changes may be propagated in time intervals (eg, after 100 ms, 200 ms, 500 ms, 1 s, 2 s, or any other suitable time interval). In some implementations, sending may be at least partially dependent on the user's activity or inactivity. For example, during periods of inactivity, changes may be sent or received less frequently than in periods of user activity. When a user enters data or when a local user moves the cursor over the cursor to another user, a pop-up label can be displayed to identify the other user. In this way, the local user can determine who made the changes, even if the caption can then be hidden again to stop blocking the document.
Um mehrfache Dokumentänderungen zu koordinieren, die von den mehreren Benutzern zum Beispiel das bewirtete Dokumentsystem 242 vorgenommen werden, kann Zusammenarbeit Logik 266 einschließen. Die Zusammenarbeitslogik 266 kann beispielsweise von einem oder mehreren Codemodulen ausgeführt werden, die wiederum von einem oder mehreren mit dem System 242 verknüpften Computerservern ausgeführt werden. In einigen Implementierungen können Teile der Zusammenarbeitslogik von den Browseranwendungen 246, 248 und 250 ausgeführt werden. Im Allgemeinen kann die Logik 266 Datenkonflikte (z. B. Fälle, in denen mehrere Benutzer denselben Dokumentteil bearbeiten oder widersprüchliche Dokumentformate anwenden) lösen, indem ein konsistenter Satz von Regeln auf alle Benutzeränderungen angewandt wird. Selbst wenn in manchen Fällen ein oder mehrere Benutzer möglicherweise aufgefordert werden, eine Änderung eindeutig zu machen. Wenn beispielsweise Tina eine Dokumentänderung vornimmt und Spike noch vor Empfang von Tinas Änderung eine widersprüchliche Dokumentänderung vornimmt, kann Spike eine Meldung von der Browseranwendung 250 mit möglichen Konfliktlösungsszenarien erhalten. In einigen Implementierungen kann ein Benutzer identifiziert werden, dessen Änderungen sich bei Konfliktsituationen gegenüber den Änderungen anderer Benutzer durchsetzen. So kann Chris als Dokumentautor bei Konflikten seine Änderungen möglicherweise gegenüber anderen Änderungen von Tina oder Spike durchsetzen. Wenn Spike beispielsweise genau dann einen Absatz bearbeitet, wenn Chris diesen löscht, kann der Absatz (einschließlich der Änderungen von Spike) gelöscht werden. To coordinate multiple document changes made by multiple users, for example, the hosted document system 242 can be made cooperation logic 266 lock in. The collaboration logic 266 For example, it may be executed by one or more code modules, in turn, by one or more of the system 242 linked computer servers. In some implementations, parts of the collaboration logic may be used by the browser applications 246 . 248 and 250 be executed. In general, the logic can 266 Resolve data conflicts (such as cases where multiple users edit the same piece of document or use conflicting document formats) by applying a consistent set of rules to all user changes. Even if in some cases one or more users may be asked to make a change unique. For example, if Tina makes a document change and Spike makes a conflicting document change before receiving Tina's change, Spike can get a message from the browser application 250 obtained with possible conflict resolution scenarios. In some implementations, a user may be identified whose changes prevail in conflict situations against the changes of other users. For example, as a document author in conflict, Chris may be able to apply his changes to other changes made by Tina or Spike. For example, if Spike edits a paragraph when Chris deletes it, the paragraph (including Spike's changes) can be deleted.
Das in 2C gezeigte System kann also kollaborative Bearbeitungen eines gehosteten Dokuments durch mehrere Benutzer gleichzeitig verarbeiten. Das Management solchen Redigierens kann eine niedrige Menge Daten mit einbeziehen, die zwischen die verschiedenen Untersysteme in das System überschreiten This in 2C Thus, the system shown can process collaborative edits of a hosted document by multiple users simultaneously. The management of such editing can involve a low amount of data passing between the various subsystems in the system
3A ist ein Flussdiagramm 300 eines Beispielprozesses für das Hinzufügen von Daten einem Dokumentmodell. In einigen Implementierungen können die Tätigkeiten, die im Flussdiagramm 300 dargestellt werden, durch ein Computer-eingeführtes System wie das System 100 durchgeführt werden, das in der FEIGE gezeigt wird. 1A und wird als solcher für Klarheit beschrieben. Im Allgemeinen können die Tätigkeiten mit einem Benutzer zusammenhängen, der das System zur Verfügung stellt, das durch das Schreiben auf einer Tastatur eingegeben wird (Zum Beispiel, die Tastatur 108). In einigen Implementierungen können die Tätigkeiten für jeden Tastenanschlag durchgeführt werden. In einigen Implementierungen kann einem Timer benutzt werden so, dass mehrfache Tastenanschläge in einem Zeitfenster empfangen werden können, und die Tätigkeiten können für mehrfache Tastenanschläge dadurch durchgeführt werden, dass das Fenster, das als Reihe verarbeitet wird (Zum Beispiel, verarbeitet auf der Klient Vorrichtung selbst und zu einem RemoteServersystem auch hochgeladen). 3A is a flowchart 300 an example process for adding data to a document model. In some implementations, the activities shown in the flowchart 300 through a computer-implemented system such as the system 100 performed in the FEIGE. 1A and is described as such for clarity. In general, the activities may be related to a user who provides the system input by typing on a keyboard (for example, the keyboard 108 ). In some implementations, the activities may be performed for each keystroke. In some implementations, a timer may be used such that multiple keystrokes can be received in a timeslot, and the activities may be performed for multiple keystrokes by processing the window that is processed in series (for example, on the client device itself and also uploaded to a remote server system).
Unter Bezugnahme auf 3A wird eine Tastenanschlagseingabe zu einem Dokument am Kasten 302 empfangen. Zum Beispiel kann der Benutzer mit einem Online-Textverarbeitungsdokument interagieren, das von einer Anwendung bereitgestellt wird, die durch den Browser 104 ausgeführt wird. Das Dokument kann als eine synthetische Kombination von visuellen Elementen dargestellt werden, die keinen Kontext haben, der auf das Modell zurückweist, und die Tastatureingabe kann von der Steuereinrichtung 106 unterbrochen und verarbeitet werden gemäß einer bestimmten Position auf einer Leinwand, wo das Dokument angezeigt wird, das mit einem Ort in einer eindimensionalen Zeichenkette in einem Modell des Dokuments im Zusammenhang steht. With reference to 3A becomes a keystroke entry to a document on the box 302 receive. For example, the user may interact with an online word processing document provided by an application provided by the browser 104 is performed. The document can be represented as a synthetic combination of visual elements that have no context that rejects the model, and the keyboard input may be from the controller 106 are interrupted and processed according to a particular position on a screen, where the document associated with a location in a one-dimensional string in a model of the document is displayed.
Im Kasten 304 wird eine Stelle in einer Dokumentenmodellfolge zur Eingabe identifiziert. Beispielsweise kann das Dokumentenmodell 102 eine eindimensionale Zeichenfolge enthalten, die dem Textdokumentinhalt zugeordnet ist, sowie Sonderzeichen, die mit Unterbrechungen und mit einbettbaren Objekten in Verbindung stehen. Um beispielsweise die Stelle für die Eingabe zu identifizieren, kann die Steuereinheit 106 die Position des Cursors eines Benutzers innerhalb der Browser-Anwendung bestimmen, die das Textverarbeitungsdokument bereitstellt. Auf der Grundlage der Position kann beispielsweise die Steuereinrichtung 106 eine entsprechende Position innerhalb der eindimensionalen Zeichenkette bestimmen. In the box 304 a location in a document model sequence is identified for input. For example, the document model 102 contain a one-dimensional string associated with the text document content, as well as special characters associated with interrupts and with embeddable objects. For example, to identify the location for input, the control unit may 106 determine the position of the cursor of a user within the browser application that provides the word processing document. On the basis of the position, for example, the control device 106 determine a corresponding position within the one-dimensional character string.
Im Kasten 306 wird bestimmt, ob die Eingabe eine Formatierung des Textes in dem Dokument beinhaltet. In einigen Implementierungen kann der Benutzer mit einer oder mehreren Steuerungen interagieren, die dem Dokument Chrome 120 zugeordnet sind, um einen oder mehrere Formatierungsstile anzugeben, die auf die Eingabe angewendet werden sollen. Beispielsweise kann der Benutzer angeben, dass ein Stil mit fetter Schrift verwendet für den Dokumenttext angewendet werden soll (z. B. nachdem der Benutzer einen Zeiger über den Text gezogen hat, um bestimmte Zeichen hervorzuheben). Die Steuerung 106 kann die Formatierungsanzeige erfassen und sie auf Text anwenden, wenn sie eingegeben wird. In the box 306 It is determined whether the input includes formatting the text in the document. In some implementations, the user may interact with one or more controls that the Chrome document 120 are assigned to specify one or more formatting styles to apply to the input. For example, the user may indicate that a bold font style should be used for the document text (eg, after the user has dragged a pointer over the text to highlight certain characters). The control 106 can capture the formatting indicator and apply it to text as it is typed.
Die Formatierungsinformation wird auf eine Stilabbildung bei Kasten 308 angewendet. Beispielsweise kann die Steuereinheit 106 das Dokumentmodell 102 aktualisieren, um Stilabbildungsinformationen, wie beispielsweise Stilattribute und Zeichenpositionen, die dem Stil zugeordnet sind, einzuschließen. In Feld 310 wird Text zu der Modellfolge hinzugefügt. Zum Beispiel kann die eindimensionale Modellfolge, die in dem Dokumentenmodell 102 enthalten ist, aktualisiert werden, um den eingegebenen Text einzuschließen. The formatting information will be on a style map box 308 applied. For example, the control unit 106 the document model 102 update to include style mapping information such as style attributes and character positions associated with the style. In box 310 text is added to the model sequence. For example, the one-dimensional model sequence used in the document model 102 is included, to include the entered text.
Im Kasten 312 werden Mutationsinformationen an ein Serversystem übertragen. Beispielsweise kann ein durch das Serversystem aufrechterhaltenes Master-Dokumentmodell aktualisiert werden, um die eingegebenen Textinformationen und die eingegebenen Stilinformationen einzuschließen. In zusammenarbeitenden Dokumentenbearbeitungssitzungen können beispielsweise die eingegebenen Informationen an einen oder mehrere andere Benutzer verteilt werden, die gleichzeitig an dem Textverarbeitungsdokument von anderen Webbrowsern arbeiten. In the box 312 mutation information is transmitted to a server system. For example, a master document model maintained by the server system may be updated to include the input textual information and the entered style information. For example, in collaborative document editing sessions, the input information may be distributed to one or more other users who are concurrently working on the word processing document of other web browsers.
3B ist ein Flussdiagramm 318 eines Beispielprozesses zur Anwendung eines Mergers von Paragraphen auf ein Dokumentmodell. In einigen Implementierungen können Aktionen, die in dem Flussdiagramm 318 dargestellt sind, durch ein computerimplementiertes System, wie das in 1A gezeigte System 100, durchgeführt werden und werden als solche zur Klarstellung beschrieben. Im Allgemeinen können die Aktionen mit dem Zusammenbruch von zwei Absätzen in einem zusammenhängen. 3B is a flowchart 318 an example process for applying a merger of paragraphs to a document model. In some implementations, actions that appear in the flowchart 318 represented by a computer-implemented system, such as the one in 1A shown system 100 , and are described as such for clarification. In general, the actions may be related to the collapse of two paragraphs in one.
Unter Bezugnahme auf 3B wird eine Benutzerlöschung eines Abschnitts oder eines Absatzumbruches am Kasten 320 empfangen. Zum Beispiel kann der Benutzer mit einem Online-Textverarbeitungsdokument interagieren, das von einer Anwendung bereitgestellt wird, die durch den Browser 104 ausgeführt wird. Unter Verwendung der Tastatur 108 kann der Benutzer beispielsweise eine Tastatureingabe vorsehen, die das Entfernen des Abschnitts oder des Absatzumbruchs anzeigt. Beispielsweise kann der Benutzer seinen Cursor am Anfang eines Absatzes positionieren und die Rücktaste betätigen, was das Löschen des vorangegangenen Absatzumbruches anzeigt, oder er kann eine andere gleichwertige Aktion durchführen. Die Tastatureingabe kann beispielsweise vom Steuergerät 106 abgefangen und verarbeitet werden. With reference to 3B is a user deletion of a section or paragraph break at the box 320 receive. For example, the user may interact with an online word processing document provided by an application provided by the browser 104 is performed. Using the keyboard 108 For example, the user may provide a keyboard input indicating removal of the section or paragraph break. For example, the user may position his cursor at the beginning of a paragraph and press the backspace key, indicating the deletion of the previous paragraph break, or he may perform another equivalent action. The keyboard input can be, for example, from the control unit 106 be intercepted and processed.
Im Kasten 322 kann das Metazeichen, das dem Umbruch zugeordnet ist, aus einer Dokumentenfolge entfernt werden. Beispielsweise kann das Dokumentenmodell 102 eine eindimensionale Zeichenfolge enthalten, die dem Textdokumentinhalt zugeordnet ist, sowie Sonderzeichen, die mit Unterbrechungen verbunden sind. In einigen Implementierungen können Unterbrechungen mit einem Zeilenumbruch oder Wagenrücklauf ("\n") Zeichen verknüpft sein. Beispielsweise können ein oder mehrere Stilattribute des Absatzes (z. B. Ausrichtung, Einrückung, Zeilenabstand, Tabulatorstopps und dergleichen) mit einem bestimmten Zeilenvorschubzeichen assoziiert oder damit verknüpft sein. In the box 322 For example, the metacharacter associated with the break can be removed from a sequence of documents. For example, the document model 102 contain a one-dimensional string associated with the text document content and special characters that are intermittently linked. In some implementations, interrupts may be associated with a carriage return or carriage return ("\ n") characters. For example, one or more paragraph style attributes (eg, alignment, indent, line spacing, tab stops, and the like) may be associated with or associated with a particular line feed character.
Formatverläufe in einer Format-Tabelle können am Kasten 324 angepasst werden. Beispielsweise kann die Formattabelle jede geeignete Anzahl von Absatzstilverläufen enthalten, die mit der eindimensionalen Zeichenkette verknüpft sind. Im Allgemeinen können Absatzstilverläufe auf Textinhalte in der eindimensionalen Zeichenkette angewendet werden, die der mit dem Stilverlauf verbundenen Zeichenmarkierung vorausgeht. Nach dem Entfernen der gelöschten Markierung kann beispielsweise der nächste Formatverlauf in der Formattabelle gesucht werden (Kasten 326). In einigen Implementierungen kann die Formatetabelle in für einen anderen Absatzstilverlauf, der näher am Anfang der Tabelle liegt, rückwärts gesucht werden. Bei der Suche nach dem Formatverlauf, zum Beispiel beim Kasten 328, kann der Absatzstil auf den zusammengeführten Absatz angewendet werden. Beispielsweise kann der Absatz unterhalb des gelöschten Absatzumbruches die Formatierung erhalten, die dem Absatz über dem gelöschten Absatzumbruch zugeordnet ist. Format gradients in a format table can at the box 324 be adjusted. For example, the format table may include any suitable number of paragraph styles associated with the one-dimensional string. In general, paragraph styles can be applied to textual content in the one-dimensional string that precedes the character style associated with the style history. After removing the deleted marking, for example, the next format course in the format table can be searched (box 326 ). In some implementations, the style table may be in for a other paragraph style history that is closer to the top of the table to be searched backwards. In the search for the format course, for example at the box 328 , the paragraph style can be applied to the merged paragraph. For example, the paragraph below the deleted paragraph break may receive the formatting associated with the paragraph above the deleted paragraph break.
Beim Kasten 330 wird die Änderung an ein Serversystem gemeldet. Beispielsweise kann ein Masterdokumentmodell, das durch das Serversystem aufrechterhalten wird, aktualisiert werden, um die aktualisierte Absatzstilinformation einzuschließen. In gemeinsamen Sitzungen zur Dokumentenbearbeitung können die aktualisierten Informationen beispielsweise an einen oder mehrere andere Benutzer verteilt werden, die gleichzeitig am Textverarbeitungsdokument von anderen Webbrowsern arbeiten. At the box 330 the change is reported to a server system. For example, a master document model maintained by the server system may be updated to include the updated paragraph style information. For example, in shared document editing sessions, the updated information may be distributed to one or more other users who are simultaneously working on the word processing document of other web browsers.
4 ist ein Flussdiagramm 400 eines Beispielprozesses zur Koordination von Kopien eines Dokumentenmodels zwischen mehreren Computern. Im Allgemeinen können die Aktionen mit dem Synchronisieren mehrerer Client-Textverarbeitungsanwendungen zusammenhängen, die zum Editieren eines Einzelwort-Verarbeitungsdokuments während einer gemeinsamen Bearbeitungssitzung verwendet werden. Zum Beispiel können die Aktionen das Übergeben von Informationen, die von einem Client über einen Server an einen anderen Client eingegeben werden und das Aktualisieren von Modellinformationen, die dem Server und dem anderen Client zugeordnet sind, umfassen. 4 is a flowchart 400 an example process for coordinating copies of a document model between multiple computers. In general, the actions may be related to synchronizing multiple client word processing applications used to edit a single-word processing document during a collaborative editing session. For example, the actions may include passing information entered from one client through a server to another client, and updating model information associated with the server and the other client.
Unter Bezugnahme auf 4, empfängt der Client A einen Tastenanschlag am Kasten 402. Beispielsweise kann ein Anwendungscontroller, der von Client A ausgeführt wird, den Tastenanschlag unterbrechen und verarbeiten. Am Kasten 404 kann der Client A den Ort des Tastenanschlags identifizieren. Wenn zum Beispiel die Position des Cursors innerhalb des Textverarbeitungsdokuments, das von einem Benutzer des Clients A bearbeitet wird, bestimmt wird, kann der Controller eine entsprechende Position innerhalb des lokalen Dokumentmodells identifizieren. Bei Kasten 406 kann Client A das lokale Modell und die Stilzuordnung aktualisieren. Beispielsweise kann der Anwendungscontroller Informationen in Bezug auf den Tastenanschlag an der identifizierten Position innerhalb des lokalen Dokumentmodells einfügen. Zusätzlich kann der Controller die entsprechende Stilabbildung aktualisieren, um Stil- und Formatierungsinformationen in Bezug auf den empfangenen Tastenanschlag zu enthalten. With reference to 4 Client A receives a keystroke on the box 402 , For example, an application controller running on client A may break and process the keystroke. At the box 404 Client A can identify the location of the keystroke. For example, if the position of the cursor within the word processing document being edited by a user of client A is determined, the controller may identify a corresponding location within the local document model. At box 406 Client A can update the local model and style mapping. For example, the application controller may include information regarding the keystroke at the identified location within the local document model. In addition, the controller may update the corresponding style map to include style and formatting information related to the received keystroke.
Am Kasten 408 kann der Client A Tastenanschlaginformationen (z. B. Zeichentext und verwandte Stil- und Formatierungsinformationen) an das Server-System übertragen Beispielsweise können die Informationen über eine Verbindung zum Internet übertragen werden. Am Kasten 410 kann das Serversystem die Tastenanschlagsinformationen empfangen und das Dokument identifizieren, das von dem Benutzer von Client A bearbeitet wird. Zum Beispiel können Identifikationsinformationen, die dem Dokument zugeordnet sind, zusammen mit Informationen, die sich auf Dokumentänderungen beziehen, übertragen werden. Unter Verwendung der Dokumentidentifikationsinformation kann das Serversystem andere Benutzer identifizieren, die in dem Dokument am Kasten 412 aktiv sind. Beispielsweise kann das Serversystem Informationen über andere Clients pflegen, die das Dokument bearbeiten (z. B. in einem oder mehreren Datenspeichern). Zusätzlich kann das Server-System beispielsweise Netzwerkverbindungen mit den anderen Clients pflegen. Somit kann das Serversystem Dokumentbearbeitungssitzungen unter mehreren Clients koordinieren, die mit einer gehosteten Version des Dokuments arbeiten. Am Kasten 414 aktualisiert das Serversystem das Hauptmodell und sendet Tastenanschlaginformationen an andere Benutzer. Beispielsweise kann das Serversystem ein Modell pflegen, das für zusätzliche Clients bereitgestellt werden kann, während die Clients eine Verbindung zum System herstellen. Darüber hinaus kann das Serversystem zum Beispiel das Modell speichern und es den Clientbenutzern während zukünftiger Bearbeitungssitzungen zur Verfügung stellen. At the box 408 For example, the client A may transmit keystroke information (e.g., character text and related style and formatting information) to the server system. For example, the information may be transmitted over a connection to the Internet. At the box 410 For example, the server system may receive the keystroke information and identify the document being edited by the user of client A. For example, identification information associated with the document may be transmitted along with information related to document changes. Using the document identification information, the server system may identify other users listed in the document box 412 are active. For example, the server system may maintain information about other clients that are processing the document (eg, in one or more data stores). In addition, the server system can, for example, maintain network connections with the other clients. Thus, the server system can coordinate document editing sessions among multiple clients working with a hosted version of the document. At the box 414 The server system updates the master model and sends keystroke information to other users. For example, the server system may maintain a model that can be provisioned for additional clients while the clients connect to the system. In addition, the server system may, for example, store the model and make it available to client users during future editing sessions.
An Kasten 416 empfängt Client B Tastenanschlaginformationen, die von dem Server-System gesendet werden. In dem vorliegenden Beispiel kann die Tastenanschlagsinformation im Wesentlichen ähnlich der Tastenanschlagsinformation sein, die vom Client A an den Kasten 408 gesendet wird. Beim Kasten 418 löst der Client B Kollisionen zwischen empfangenen Tastenanschlagsinformationen und Informationen, die mit der vom Client B gepflegten Dokumentenmodellversion assoziiert sind, auf. Zum Beispiel kann, wenn Benutzer von Client A und Client B zur selben Zeit verwandte Modellteile modifizieren, eine Datenkollision sein Die von Client A, Client B oder beiden angetroffen werden. Durch das Anwenden einer definierten Reihe von Regeln zum Handhaben von Modell-Updates und möglichen Modell-Kollisionen können beispielsweise mehrere Clients, die das Textverarbeitungsdokument gemeinsam bearbeiten, ähnliche Editier-Erlebnisse aufweisen. Im Kasten 420 kann Client B seine Version des Dokumentmodells aktualisieren, und bei Kasten 422 kann das aktualisierte Modell wiedergegeben und dem Benutzer angezeigt werden. To box 416 Client B receives keystroke information sent from the server system. In the present example, the keystroke information may be substantially similar to keystroke information sent from the client A to the box 408 is sent. At the box 418 Client B resolves collisions between received keystroke information and information associated with the client model B maintained document model version. For example, if client A and client B users modify related model parts at the same time, a data collision may be encountered by client A, client B, or both. For example, by applying a defined set of rules for handling model updates and possible model collisions, multiple clients sharing the word processing document may have similar editing experiences. In the box 420 Client B can update his version of the document model, and box 422 the updated model can be played and displayed to the user.
5A und 5B zeigen Beispiele der verschiedenen Stile und Einheiten zum Rendern eines Dokumentenmodells. Zum Beispiel können die Stile und Entitäten Attribute enthalten, die auf Dokumentinhalte angewendet werden können. In einigen Implementierungen können die Stile und Entitäten durch eine Computeranwendung, wie die Anwendung 200, die in 2A und 2B anzeigt wird, durchgeführt werden. 5A and 5B show examples of different styles and units for rendering a document model. For example, the styles and entities may contain attributes that can be applied to document content. In some implementations, the styles and entities may be through a computer application, like the application 200 , in the 2A and 2 B is displayed.
Unter Bezugnahme auf 5A sind verschiedene Stile 500 gezeigt. Beispielsweise können die Stile 500 einen Textstil 502, einen Absatzstil 504, einen Listenstil 506 und einen Schnittstil 508 beinhalten. Im Allgemeinen können Stile zum Dokumentieren von Text (z. B. Zeichen, die in einer eindimensionalen Zeichenkette enthalten sind) angewendet werden, um zugeordnete Anzeigeeigenschaften zu modifizieren. With reference to 5A are different styles 500 shown. For example, the styles 500 a text style 502 , a heel style 504 , a list style 506 and a cut style 508 include. In general, styles for documenting text (eg, characters contained in a one-dimensional string) can be applied to modify associated display properties.
Unter Bezugnahme auf 5B werden verschiedene Einheiten 510 gezeigt Beispielsweise können die Entitäten 510 eine positionierte Entität 512, ein Bild 514 und eine Liste 516 umfassen. Im Allgemeinen sind Entitäten adressierbare Objekte mit Eigenschaften, die vom Benutzer aktualisiert werden können. Beispielsweise kann eine Bildentität aktualisierbare Eigenschaften wie die Quelle, Höhe, Breite, Ausrichtung und dergleichen enthalten. In einigen Implementierungen kann eine Entität mit einer eindeutigen Kennung verknüpft sein, die als Hash-Map gespeichert werden kann. Entitäten können beispielsweise auch mit einem Zeichenindex verknüpft sein, an dem sie angehängt sind, oder mit einem bestimmten Zeichen, an das sie gebunden sind. With reference to 5B become different units 510 For example, the entities 510 a positioned entity 512 , a picture 514 and a list 516 include. In general, entities are addressable objects with properties that can be updated by the user. For example, an image entity may include updatable properties such as source, height, width, orientation, and the like. In some implementations, an entity can be associated with a unique identifier that can be stored as a hash map. For example, entities can also be linked to a character index to which they are attached, or to a specific character to which they are attached.
6 zeigt das Beispiel eines generischen Computergerätes 600 und eines generischen mobilen Computergeräts 650, die mit den hier beschriebenen Techniken verwendet werden können. Der Computer 600 dient zur Repräsentation verschiedener digitaler Computer, wie Laptops, Desktops, Workstations, Personal Digital Assistants, Server, Blade Server, Mainframes und anderer geeigneter Computer. Der Computer 650 dient zur Darstellung verschiedener mobiler Geräte, wie Personal Digital Assistants, Mobiltelefone, Smartphones und ähnliche Computergeräte. Die hier gezeigten Komponenten, ihre Verbindungen und Beziehungen und ihre Funktionen sollen nur exemplarisch sein und sollen Implementierungen der in diesem Dokument beschriebenen und/oder beanspruchten Erfindungen nicht einschränken. 6 shows the example of a generic computer device 600 and a generic mobile computing device 650 that can be used with the techniques described herein. The computer 600 It is used to represent various digital computers, such as laptops, desktops, workstations, personal digital assistants, servers, blade servers, mainframes, and other suitable computers. The computer 650 is used to display various mobile devices, such as personal digital assistants, mobile phones, smart phones and similar computing devices. The components, their connections and relationships and their functions shown herein are intended to be exemplary only and not intended to limit implementations of the inventions described and / or claimed in this document.
Das Computergerät 600 beinhaltet einen Prozessor 602, einen Speicher 604, ein Speichergerät 606, eine High-Speed-Schnittstelle 608, die mit dem Speicher 604 und -Erweiterungsanschlüssen 610 verbunden wird, und eine Low-Speed-Schnittstelle 612, die mit einem Low-Speed-Bus 614 und dem Speichergerät 606 verbunden wird. Jede der Komponenten 602, 604, 606, 608, 610 und 612 sind miteinander über verschiedene Busse verbunden und können auf einer gemeinsamen Hauptplatine oder auf eine andere angemessene Weise installiert werden. Der Prozessor 602 kann Ausführungsanweisungen innerhalb des Computers 600 verarbeiten, einschließlich Anweisungen, die im Speicher 604 oder in der Speichervorrichtung 606 gespeichert sind, um die grafischen Informationen für ein GUI auf einem externen Eingabe-/Ausgabegerät, z. B. auf dem Bildschirm 616 gekoppelt mit der High-Speed-Schnittstelle 608, anzuzeigen. In anderen Implementierungen können mehrere Prozessoren und/oder mehrere Busse verwendet sein, wie angemessen, zusammen mit mehreren Speichern und Speichertypen. Ebenso können mehrere Computergeräte 600 angeschlossen werden, wobei jedes Gerät Beiträge zu den notwendigen Operationen bereitstellt (z. B. ein Server, eine Gruppe von Blade-Servern oder ein Multiprozessorsystem). The computer device 600 includes a processor 602 , a store 604 , a storage device 606 , a high-speed interface 608 that with the memory 604 and extension ports 610 connected, and a low-speed interface 612 that with a low-speed bus 614 and the storage device 606 is connected. Each of the components 602 . 604 . 606 . 608 . 610 and 612 are interconnected via different buses and can be installed on a common motherboard or in some other appropriate way. The processor 602 can execute instructions within the computer 600 process, including instructions stored in memory 604 or in the storage device 606 stored to provide graphical information for a GUI on an external input / output device, e.g. B. on the screen 616 coupled with the high-speed interface 608 to display. In other implementations, multiple processors and / or multiple buses may be used, as appropriate, along with multiple memories and memory types. Likewise, multiple computer devices 600 each device provides input to the necessary operations (eg, a server, a group of blade servers, or a multiprocessor system).
Der Speicher 604 zeichnet Informationen im Computergerät 600 auf. In einer Implementierung ist der Speicher 604 ein flüchtiges Speichergerät oder flüchtige Speichergeräte. In einer anderen Implementierung ist der Speicher 604 ein nicht flüchtiges Speichergerät oder nicht flüchtige Speichergeräte. Der Speicher 604 kann ebenfalls ein anderes computerlesbares Medium darstellen, wie einen magnetischen oder optischen Datenträger. The memory 604 draws information in the computer device 600 on. In one implementation, the memory is 604 a volatile storage device or volatile storage devices. In another implementation, the memory is 604 a non-volatile storage device or non-volatile storage devices. The memory 604 may also be another computer-readable medium, such as a magnetic or optical medium.
Das Speichergerät 606 ist dafür geeignet, Massenspeicherung für das Computergerät 600 bereitzustellen. In einer Implementierung kann die Speichervorrichtung 606 ein computerlesbares Medium, z. B. ein Diskettenlaufwerk, eine Festplatte, ein optisches Laufwerk oder ein Bandlaufwerk, einen Flash-Speicher oder andere ähnliche Speicherelemente oder mehrere Geräte, einschließlich Geräte in einem Speichernetzwerk oder anderen Konfigurationen beinhalten. Ein Computerprogrammprodukt kann konkret in einem Informationsträger ausgeführt sein. Das Computerprogrammprodukt kann auch Anweisungen enthalten, die, wenn sie ausgeführt werden, ein oder mehrere Verfahren ausführen, wie die oben beschriebenen. Der Informationsträger ist ein computer- oder maschinenlesbares Medium, wie der Speicher 604, das Speichergerät 606, Speicher auf Prozessor 602 oder ein weitergeleitetes Signal. The storage device 606 is capable of mass storage for the computing device 600 provide. In one implementation, the storage device 606 a computer readable medium, e.g. A floppy disk drive, hard disk, optical drive or tape drive, flash memory or other similar storage elements or multiple devices, including devices in a storage network or other configurations. A computer program product may be embodied concretely in an information carrier. The computer program product may also include instructions that, when executed, perform one or more methods, such as those described above. The information carrier is a computer- or machine-readable medium, such as the memory 604 , the storage device 606 , Memory on processor 602 or a forwarded signal.
Der Hochgeschwindigkeits-Controller 608 verwaltet bandbreitenintensive Vorgänge für den Rechner 600, während der langsame Controller 612 Vorgänge mit niedrigerer Bandbreite verwaltet. Eine solche Zuordnung von Funktionen ist nur exemplarisch. In einer Implementierung ist der Hochgeschwindigkeits-Controller 608 an den Speicher 604, die Anzeige 616 (z. B. durch einen Grafikprozessor oder -beschleuniger) und an die Hochgeschwindigkeits-Erweiterungsanschlüsse 610 gekoppelt, die verschiedene Erweiterungskarten aufnehmen können (nicht gezeigt). In der Implementierung ist der langsame Controller 612 an das Speichergerät 606 und an den langsamen Erweiterungsanschluss 614 gekoppelt. Der Low-Speed-Erweiterungsanschluss, der verschiedene Kommunikationsanschlüsse (z. B. USB, B, Ethernet, Funkethernet) beinhalten kann, kann an ein oder mehrere Eingabe-/Ausgabe-Geräte, wie eine Tastatur, ein Zeigegerät, einen Scanner oder ein Netzwerkgerät, wie einen Switch oder Router, z. B. durch einen Netzwerkadapter gekoppelt sein. The high-speed controller 608 Manages bandwidth-intensive operations for the machine 600 while the slow controller 612 Managed operations with lower bandwidth. Such an assignment of functions is only an example. In one implementation, the high-speed controller is 608 to the store 604 , the ad 616 (eg, by a graphics processor or accelerator) and to the high-speed expansion ports 610 coupled, which can accommodate various expansion cards (not shown). In the implementation is the slow controller 612 to the storage device 606 and to the slow expansion port 614 coupled. The low-speed expansion port that connects various communication ports (eg USB, B, Ethernet, wireless Ethernet) may be connected to one or more input / output devices such as a keyboard, pointing device, scanner or network device such as a switch or router, e.g. B. be coupled by a network adapter.
Das Computergerät 600 kann in einer Reihe verschiedener Formen implementiert werden, wie in der Figur gezeigt. Es kann zum Beispiel als Standardserver 620 oder mehrmals in einer Gruppe solcher Server implementiert sein. Es kann auch als Teil eines rackgestützten Serversystems 624 implementiert sein. Außerdem kann es in einem Personal Computer, wie Laptop-Computer 622, implementiert sein. Alternativ können Komponenten des Computergerätes 600 mit anderen Komponenten in einem mobilen Gerät (nicht dargestellt), wie das Gerät 650, kombiniert werden. Jedes dieser Geräte kann ein oder mehrere Computergeräte 600, 650 enthalten, und ein ganzes System kann aus mehreren Computergeräten 600, 650 bestehen, die miteinander kommunizieren. The computer device 600 can be implemented in a number of different forms, as shown in the figure. It can be used as a standard server, for example 620 or implemented several times in a group of such servers. It can also be part of a rack-based server system 624 be implemented. Also, it can work in a personal computer, such as a laptop computer 622 to be implemented. Alternatively, components of the computing device 600 with other components in a mobile device (not shown), like the device 650 , be combined. Each of these devices can have one or more computing devices 600 . 650 included, and a whole system can be made up of multiple computing devices 600 . 650 exist that communicate with each other.
Das Computergerät 650 beinhaltet neben anderen Komponenten einen Prozessor 652, Speicher 664, ein Eingabe-/Ausgabegerät, wie eine Anzeige 654, eine Kommunikationsschnittstelle 666 und einen Sende-Empfänger 668. Das Gerät 650 kann ebenfalls mit einer Speichervorrichtung z. B. einem Microdrive oder einem anderen Gerät ausgestattet werden, um zusätzlichen Speicher bereitzustellen. Alle Komponenten 650, 652, 664, 654, 666 und 668 sind miteinander über verschiedene Busse verbunden und verschiedene Komponenten können auf einer gemeinsamen Hauptplatine oder auf eine andere angemessene Weise installiert werden. The computer device 650 includes among other components a processor 652 , Storage 664 , an input / output device, such as a display 654 , a communication interface 666 and a transceiver 668 , The device 650 can also with a storage device z. As a microdrive or other device to provide additional memory. All components 650 . 652 . 664 . 654 . 666 and 668 are interconnected via different buses and various components may be installed on a common motherboard or in some other appropriate manner.
Der Prozessor 652 kann Anweisungen im Computergerät 650 ausführen, zum Beispiel Anweisungen, die in Speicher 664 gespeichert sind. Der Prozessor kann als ein Chipsatz von Chips implementiert werden, die separate und mehrere analoge und digitale Prozessoren beinhalten. Der Prozessor kann beispielsweise zur Koordination der anderen Komponenten des Gerätes 650 dienen, wie die Steuerung der Benutzeroberflächen, der auf dem Gerät 650 laufenden Anwendungen und der drahtlosen Verbindung des Gerätes 650. The processor 652 can be instructions in the computer device 650 execute, for example, statements in memory 664 are stored. The processor may be implemented as a chipset of chips that include separate and multiple analog and digital processors. For example, the processor can coordinate the other components of the device 650 serve as the control of the user interfaces, on the device 650 running applications and the wireless connection of the device 650 ,
Der Prozessor 652 kann mit einem Benutzer über Steuerschnittstelle 658 und Displayschnittstelle 656 kommunizieren, die mit einem Display 654 gekoppelt ist. Das Display 654 kann zum Beispiel ein TFT-LCD(Thin-Film-Transistor Liquid Crystal Display)- oder ein OLED(organisches Leuchtdioden)-Display oder eine andere angemessene Anzeigetechnologie sein. Die Anzeigenschnittstelle 656 kann aus geeigneten Schaltungen für das Display 654 bestehen, um einem Benutzer grafische und andere Informationen bereitzustellen. Die Steuerschnittstelle 658 kann Befehle von einem Benutzer erhalten und diese für die Übermittlung an den Prozessor 652 konvertieren. Zusätzlich kann eine externe Schnittstelle 662 Kommunikation mit dem Prozessor 652 bereitstellen, zum Beispiel, um Nahbereichskommunikation des Gerätes 650 mit anderen Geräten zu ermöglichen. Die externe Schnittstelle 662 kann beispielsweise in manchen Implementierungen eine drahtgestützte Verbindung oder in anderen Implementierungen eine drahtlose Verbindung aufbauen, und es können auch mehrere Schnittstellen zur Anwendung kommen. The processor 652 can with a user via control interface 658 and display interface 656 communicate with a display 654 is coupled. the display 654 For example, a TFT-LCD (Thin Film Transistor Liquid Crystal Display) or OLED (organic light emitting diode) display or other appropriate display technology may be used. The ad interface 656 may be suitable circuits for the display 654 exist to provide graphical and other information to a user. The control interface 658 can receive commands from a user and submit them for transmission to the processor 652 convert. In addition, an external interface 662 Communication with the processor 652 provide, for example, to short-range communication of the device 650 to allow with other devices. The external interface 662 For example, in some implementations, it may be a wired connection or a wireless connection in other implementations, and multiple interfaces may be used.
Der Speicher 664 zeichnet Informationen im Computergerät 650 auf. Der Speicher 664 kann als ein computerlesbares Medium bzw. als eines von mehreren computerlesbaren Medien, als flüchtiger Speicher bzw. als flüchtige Speicher oder als ein nicht-flüchtiger Speicher bzw. als nicht-flüchtige Speicher implementiert werden. Erweiterungsspeicher 674 kann ebenfalls bereitgestellt und mit dem Gerät 650 über Erweiterungsschnittstelle 672 verbunden werden, die zum Beispiel eine SIMM(Single In Line Memory Module)-Kartenschnittstelle umfassen kann. Die Speichererweiterung 674 kann zusätzlichen Speicherplatz für das Gerät 650 bereitstellen oder ebenfalls Anwendungen oder andere Informationen für das Gerät 650 speichern. Insbesondere kann die Speichererweiterung 674 Anweisungen enthalten, die zur Ausführung oder Ergänzung der vorstehend beschriebenen Prozesse erforderlich sind; zudem kann sie vertrauliche Informationen beinhalten. Deshalb kann der Erweiterungsspeicher 674 zum Beispiel als ein Sicherheitsmodul für das Gerät 650 bereitgestellt werden und kann mit Anweisungen programmiert werden, die eine sichere Verwendung des Gerätes 650 erlauben. Zusätzlich dazu können über die SIMM-Cards sichere Anwendungen bereitgestellt werden, zusammen mit zusätzlichen Informationen, wie dem Ablegen von Identifizierungsinformationen auf der SIMM-Card auf eine Weise, die nicht gehackt werden kann. The memory 664 draws information in the computer device 650 on. The memory 664 can be implemented as a computer-readable medium or as one of several computer-readable media, as a volatile memory or as a non-volatile memory or non-volatile memory. extended memory 674 can also be provided and with the device 650 via extension interface 672 For example, it may include a single in-line memory module (SIMM) card interface. The memory extension 674 can add extra storage space for the device 650 or provide applications or other information for the device 650 to save. In particular, the memory extension 674 Contain instructions required to carry out or supplement the processes described above; It can also contain confidential information. Therefore, the extended memory can 674 for example as a security module for the device 650 can be provided and programmed with instructions for safe use of the device 650 allow. In addition, secure applications can be provided through the SIMM cards, along with additional information such as storing identification information on the SIMM card in a manner that can not be hacked.
Der Speicher kann beispielsweise Flash Speicher und/oder NVRAM-Speicher beinhalten, wie nachstehend erörtert. In einer Implementierung, ist ein Computerprogrammprodukt konkret in einem Informationsträger ausgeführt. Das Computerprogrammprodukt enthält Anweisungen, die, wenn sie ausgeführt werden, ein oder mehrere Verfahren ausführen, wie die oben beschriebenen. Der Informationsträger ist ein computer- oder maschinenlesbares Medium, wie der Speicher 664, das Speichergerät 674, Speicher auf Prozessor 652 oder ein weitergeleitetes Signal, das zum Beispiel über den Sende-Empfänger 668 oder die externe Schnittstelle 662 empfangen werden kann. The memory may include, for example, flash memory and / or NVRAM memory, as discussed below. In one implementation, a computer program product is concretely embodied in an information carrier. The computer program product includes instructions that, when executed, perform one or more methods, such as those described above. The information carrier is a computer- or machine-readable medium, such as the memory 664 , the storage device 674 , Memory on processor 652 or a forwarded signal, for example via the transceiver 668 or the external interface 662 can be received.
Das Gerät 650 kann drahtlos über die Verbindungsschnittstelle 666 kommunizieren, die digitale Signalverarbeitungsschaltkreise beinhalten kann, falls erforderlich. Die Kommunikationsschnittstelle 666 kann Kommunikation im Rahmen verschiedener Modi oder Protokolle, wie u. a. GSM-Anrufe, SMS, EMS oder MMS-Messaging, CDMA, TDMA, PDC, WCDMA, CDMA2000 oder GPRS bereitstellen. Eine solche Kommunikation kann zum Beispiel über Funkfrequenzempfänger 668 erfolgen. Zusätzlich kann eine Kurzstreckenkommunikation stattfinden, wie etwa unter Verwendung von Bluetooth, WiFi oder eines anderen solchen Sender-Empfängers (nicht gezeigt). Außerdem kann GPS(Global Positioning System)-Empfängermodul 670 zusätzliche mit der Navigation und dem Ort verbundene drahtlose Daten für Gerät 650 bereitstellen, die ggf. von Anwendungen verwendet werden können, die auf Gerät 650 ausgeführt werden. The device 650 can wirelessly over the connection interface 666 communicate, which may include digital signal processing circuitry, if necessary. The communication interface 666 can provide communication in various modes or protocols, such as GSM calls, SMS, EMS or MMS messaging, CDMA, TDMA, PDC, WCDMA, CDMA2000 or GPRS. Such communication may be via radio frequency receivers, for example 668 respectively. Additionally, short distance communication may take place, such as using Bluetooth, WiFi, or another such transceiver (not shown). In addition, GPS (Global Positioning System) receiver module 670 additional wireless device data associated with navigation and location 650 may be used by applications that may be on device 650 be executed.
Das Gerät 650 kann mithilfe des Audio-Codecs 660 auch akustisch kommunizieren, welches gesprochene Informationen von einem Benutzer empfangen und diese in nutzbare digitale Informationen konvertieren kann. Der Audio-Codec 660 kann ebenfalls über einen Lautsprecher, z. B. in einem Hörer von Gerät 650 für einen Benutzer hörbaren Ton erzeugen. Diese Töne können Töne von Sprachtelefonanrufen beinhalten, können aufgezeichnete Töne (z. B. Sprachnachrichten, Musikdateien usw.) beinhalten und können auch Töne beinhalten, die von laufenden Anwendungen auf Gerät 650 erstellt wurden. The device 650 can by using the audio codec 660 also communicate acoustically, which can receive spoken information from a user and convert it into usable digital information. The audio codec 660 can also via a speaker, z. B. in a handset of device 650 generate audible sound to a user. These tones may include tones of voice telephone calls, may include recorded sounds (eg, voice messages, music files, etc.), and may also include sounds from on-device applications 650 were created.
Das Computergerät 650 kann in einer Reihe verschiedener Formen implementiert sein, wie in der Figur gezeigt. Zum Beispiel kann es als Mobiltelefon implementiert werden 680. Es kann außerdem als Teil eines Smartphones 682, Personal Digital Assistant oder eines anderen ähnlichen mobilen Gerätes implementiert werden. The computer device 650 can be implemented in a number of different forms, as shown in the figure. For example, it can be implemented as a mobile phone 680 , It can also be considered part of a smartphone 682 , Personal Digital Assistant or any other similar mobile device.
Verschiedene Implementierungen der hier beschriebenen Systeme und Techniken können in digitalen elektronischen Schaltkreisen, integrierten Schaltkreisen, speziell konzipierten ASICs (anwendungsorientierten integrierten Schaltkreisen), Computerhardware, Firmware, Software und/oder Kombinationen davon realisiert werden. Diese verschiedenen Implementierungen können eine Implementierung in einem oder mehreren Computerprogrammen beinhalten, die auf einem programmierbaren System ausführbar und/oder interpretierbar sind, das mindestens einen programmierbaren Prozessor beinhaltet, der ein spezieller Prozessor oder ein Prozessor für allgemeine Zwecke sein kann, und der zum Empfangen von Daten und Anweisungen von und zum Übertragen von Daten und Anweisungen an ein Speichersystem, mindestens eine Eingabevorrichtung und mindestens eine Ausgabevorrichtung gekoppelt ist. Various implementations of the systems and techniques described herein may be implemented in digital electronic circuits, integrated circuits, specially designed ASICs (application-oriented integrated circuits), computer hardware, firmware, software, and / or combinations thereof. These various implementations may include implementation in one or more computer programs executable and / or interpretable on a programmable system including at least one programmable processor, which may be a special purpose processor or processor, and for receiving Data and instructions of and for transmitting data and instructions to a storage system, at least one input device and at least one output device is coupled.
Diese Computerprogramme (auch bekannt als Programme, Software, Softwareanwendungen oder Code) beinhalten Maschinenanweisungen für einen programmierbaren Prozessor und können in einer höheren prozeduralen und/oder objektorientierter Programmiersprache und/oder in Assembler-/Maschinensprache implementiert werden. Wie hier verwendet, bezeichnen die Begriffe „maschinenlesbares Medium“, „computerlesbares Medium“ ein beliebiges Computerprogrammprodukt, eine beliebige Vorrichtung und/oder ein beliebiges Gerät (z. B. Magnetplatten, optische Platten, Speicher, programmierbare Logikbausteine (PLDs)), die verwendet werden, um einem programmierbaren Prozessor Maschinenanweisungen und/oder Daten bereitzustellen, einschließlich eines maschinenlesbaren Mediums, das Maschinenanweisungen als ein maschinenlesbares Signal empfängt. Der Begriff „maschinenlesbares Signal“ bezeichnet ein beliebiges Signal, das verwendet wird, um einem programmierbaren Prozessor Maschinenanweisungen und/oder Daten bereitzustellen. These computer programs (also known as programs, software, software applications, or code) include machine instructions for a programmable processor and may be implemented in a higher level of procedural and / or object-oriented programming language and / or assembler / machine language. As used herein, the terms "machine-readable medium", "computer-readable medium" refer to any computer program product, device, and / or device (eg, magnetic disks, optical disks, memory, programmable logic devices (PLDs)) that uses to provide machine instructions and / or data to a programmable processor, including a machine-readable medium that receives machine instructions as a machine-readable signal. The term "machine-readable signal" refers to any signal used to provide machine instructions and / or data to a programmable processor.
Zur Interaktion mit einem Benutzer können die hier beschriebenen Systeme und Techniken auf einem Computer mit einem Anzeigegerät (z. B. ein CRT-[Kathodenstrahlröhre] oder ein LCD-[Flüssigkristallanzeige]Monitor) implementiert werden, um Informationen für den Benutzer anzuzeigen und eine Tastatur und ein Pointergerät (z. B. Maus oder Trackball), mit denen der Benutzer Eingaben in den Computer vornehmen kann. Andere Arten von Geräten können auch verwendet werden, um eine Interaktion mit einem Benutzer bereitzustellen; zum Beispiel kann eine dem Benutzer bereitgestellte Rückmeldung irgendeine Form von Sinnesrückmeldung sein (z. B. visuelle Rückmeldung, auditive Rückmeldung oder Tastrückmeldung); und eine Eingabe vom Benutzer kann in einer beliebigen Form empfangen werden, einschließlich akustischer, Sprach- oder Tasteingaben. For interaction with a user, the systems and techniques described herein may be implemented on a computer with a display device (eg, a CRT [cathode ray tube] or an LCD [liquid crystal display] monitor) to display information to the user and a keyboard and a pointer device (eg, mouse or trackball) with which the user can input to the computer. Other types of devices may also be used to provide interaction with a user; for example, a feedback provided to the user may be some form of sensory feedback (eg, visual feedback, auditory feedback, or tactile feedback); and an input from the user may be received in any form, including acoustic, voice or touch inputs.
Die hierin beschriebenen Systeme und Techniken können in einem Computersystem implementiert werden, das eine Back-End-Komponente beinhaltet (z. B. als Datenserver) oder das eine Middleware-Komponente beinhaltet (z. B. einen Anwendungsserver) oder das eine Front-End-Komponente beinhaltet (z. B. ein Client-Computer mit einer grafischen Benutzeroberfläche oder einem Webbrowser, über welche ein Benutzer mit einer Implementierung der hier beschriebenen Systeme und Techniken interagieren kann) oder eine Kombination derartiger Back-End-, Middleware- und Front-End-Komponenten. Die Komponenten des Systems können durch eine beliebige Form oder ein beliebiges Medium von digitaler Datenkommunikation (z. B. ein Kommunikationsnetzwerk) miteinander verbunden sein. Beispiele von Kommunikationsnetzwerken beinhalten ein lokales Netzwerk („LAN“), ein Fernnetz („WAN“) und das Internet. The systems and techniques described herein may be implemented in a computer system that includes a back-end component (eg, as a data server) or that includes a middleware component (eg, an application server) or a front-end Component (e.g., a client computer with a graphical user interface or web browser through which a user can interact with an implementation of the systems and techniques described herein) or a combination of such back-end, middleware, and front-end components. end components. The components of the system may be interconnected by any form or medium of digital data communication (e.g., a communications network). Examples of communication networks include a local area network ("LAN"), a wide area network ("WAN"), and the Internet.
Das Computersystem kann Clients und Server beinhalten. Ein Client und Server befinden sich im Allgemeinen ortsfern voneinander und interagieren typischerweise über ein Kommunikationsnetz. Die Beziehung zwischen Client und Server entsteht aufgrund von Computerprogrammen, die auf den jeweiligen Computern laufen und die eine Client-Server-Beziehung zueinander haben. The computer system may include clients and servers. A client and server are generally remote from each other and typically interact over a communications network. The relationship between client and server arises due to computer programs running on the respective computers and having a client-server relationship with each other.
Eine Anzahl von Ausführungsformen wurde beschrieben. Allerdings wird dabei vorausgesetzt, dass unterschiedliche Modifikationen gemacht werden können, ohne von der Reichweite und dem Umfang der Erfindung abzuweichen. So wurde beispielsweise ein Großteil dieses Dokuments in Bezug auf Fernsehwerbung beschrieben. Es können aber auch andere Formen von zukünftiger Zuschauerstamm-bezogener Werbung erläutert werden, beispielsweise Radio- und Online-Videowerbung. A number of embodiments have been described. However, it is understood that various modifications can be made without departing from the scope and scope of the invention. For example, much of this document has been described in relation to television advertising. However, other forms of future audience-based advertising may be discussed, such as radio and online video advertising.
Außerdem erfordern die in den Figuren dargestellten logischen Abläufe nicht die bestimmte dargestellte Reihenfolge oder sequenzielle Reihenfolge, um wünschenswerte Ergebnisse zu erzielen. Darüber hinaus können andere Schritte bereitgestellt oder Schritte aus den beschriebenen Abläufen eliminiert werden und andere Komponenten können zu den beschriebenen Systemen hinzugefügt werden oder aus diesen entfernt werden. Dementsprechend liegen Ausführungsformen innerhalb des Umfangs der nachfolgenden Ansprüche. In addition, the logical flows shown in the figures do not require the particular order or sequential order shown to achieve desirable results. In addition, other steps may be provided or steps may be eliminated from the described procedures, and other components may be added to or removed from the described systems. Accordingly, embodiments are within the scope of the following claims.