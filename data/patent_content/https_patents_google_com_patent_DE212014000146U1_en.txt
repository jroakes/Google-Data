QUERVERWEIS AUF VERWANDTE ANMELDUNGENCROSS-REFERENCE TO RELATED APPLICATIONS
Diese Patentanmeldung beansprucht die Priorität der vorläufigen US-Patentanmeldung Nr. 61/847,905, eingereicht am 18. Juli 2013, der vorläufigen US-Patentanmeldung Nr. 61/847,916, eingereicht am 18. Juli 2013, und der vorläufigen US-Patentanmeldung Nr. 61/847,937, eingereicht AM 18. Juli 2013. Jede der oben erwähnten Patentanmeldungen wird durch Bezugnahme in ihrer Gesamtheit für alle Zwecke aufgenommen.This patent application claims priority to US Provisional Patent Application No. 61 / 847,905, filed on Jul. 18, 2013, US Provisional Application No. 61 / 847,916, filed on Jul. 18, 2013, and US provisional patent application No. 61 / 847,937 filed on Jul. 18, 2013. Each of the above-referenced patent applications is incorporated by reference in its entirety for all purposes.
TECHNISCHES GEBIETTECHNICAL AREA
Diese Schrift bezieht sich auf Systeme zum Steuern einer Gefahrenmeldeanlage. Insbesondere bezieht sich diese Schrift auf Systeme und Verfahren zum Verwalten von Alarmzuständen und Voralarmzuständen der Gefahrenmeldeanlage.This document relates to systems for controlling a security alarm system. More particularly, this document relates to systems and methods for managing alarm conditions and pre-alarm conditions of the hazard alarm system.
HINTERGRUNDBACKGROUND
Gefahrenmeldeanlagen, wie Rauchmelder, Kohlenmonoxid-Detektoren, kombinierte Rauch- und Kohlenmonoxid-Detektoren, sowie Systeme zur Erfassung von anderen Bedingungen werden in Wohn-, Gewerbe-, und Industrie-Einrichtungen aus Schutz- und Sicherheitserwägungen verwendet. Viele Gefahrenmeldeanlagen arbeiten nach einer Reihe von Standards, die von einer Behörde (z. B. Occupational Safety and Health Administration) oder von für die Durchführung von Sicherheitsprüfungen autorisierten Unternehmen (z. B., Underwriters Laboratories (UL)) definiert werden. Beispielsweise definiert UL Schwellenwerte dafür, wann ein Rauchmelder ein Alarmsignal ausgeben soll und wann ein Kohlenmonoxid-Detektor ein Alarmsignal ausgeben soll. Ähnliche Schwellenwerte werden dafür festgesetzt, wie die Alarme für im Inneren befindliche Personen ausgedrückt werden (z. B. als spitze oder schrille hörbare Töne mit bestimmten Mindestlautstärke-Werten und Wiederholungsmustern). Herkömmliche Gefahrenmeldesysteme, die nur auf diesen Schwellenwerten basieren, können als in ihren Funktionsweisen relativ begrenzt oder einfach charakterisiert werden. Zum Beispiel kann ihre Betriebsart binär sein: Entweder Ausgabe des Alarms oder keine Ausgabe des Alarms, und die Entscheidung, ob der Alarm basierend auf einer Auslesung von nur einem Sensortyp ausgegeben werden kann. Diese relativ einfachen und herkömmlichen Systeme können einen oder mehrere Nachteile mit sich bringen. Beispielsweise können Nutzer Fehlalarmen unterliegen oder Alarmen mit zugrunde liegenden Ursachen oder Bedingungen, die nicht wirklich gefährlich sind und die bei einer vollständigeren Bewertung der Umgebung vor Ausgabe des Alarms hätten vermieden werden können. Andererseits können Benutzer ohne den Nutzen eines damit verbundenen Alarms oder einer Warnung bestimmten Bedingungen ausgesetzt sein, die in der Tat potenziell gefährlich sein können oder die möglicherweise tatsächlich zu Besorgnis Anlass geben, und zwar weil möglicherweise trotz des Vorliegens von erhöhten Stufen von einer oder mehreren Gefahrenzuständen die binären Schwellenwerte für die Auslösung des Alarms nicht eingehalten wurden.Hazard alarm systems, such as smoke detectors, carbon monoxide detectors, combined smoke and carbon monoxide detectors, as well as systems for detecting other conditions are used in residential, commercial, and industrial facilities for safety and security reasons. Many hazard detection systems operate on a set of standards defined by an authority (eg Occupational Safety and Health Administration) or by companies authorized to conduct safety testing (eg, Underwriters Laboratories (UL)). For example, UL defines thresholds for when a smoke detector should output an alarm signal and when a carbon monoxide detector should issue an alarm signal. Similar thresholds are set for how the alarms are expressed for inside persons (for example, as sharp or shrill audible tones with certain minimum volume values and repetitive patterns). Conventional hazard reporting systems based only on these thresholds may be relatively limited or simply characterized in their operation. For example, their mode of operation may be binary: either issuing the alarm or not issuing the alarm, and deciding whether the alarm can be issued based on a readout of only one sensor type. These relatively simple and conventional systems may involve one or more disadvantages. For example, users may be subject to false alarms or alarms with underlying causes or conditions that are not really dangerous and that could have been avoided in a more complete assessment of the environment prior to the alarm being issued. On the other hand, without the benefit of an associated alert or warning, users may be exposed to certain conditions that may indeed be potentially hazardous or may actually cause concern, possibly because of the presence of elevated levels of one or more hazardous conditions the binary thresholds for triggering the alarm were not met.
ZUSAMMENFASSUNGSUMMARY
Systeme für die Verwendung von multikriteriellen Zustandsmaschinen, um Alarmzustände und Voralarmzustände einer Gefahrenmeldeanlage zu verwalten, sind hierin beschrieben. Alarmzustände beziehen sich auf die Aktivierung eines Alarms, einer Anzeige oder einem anderen geeigneten Mechanismus, um betroffene Personen auf einen Gefahrenzustand hinzuweisen. Bei einem Alarmzustand kann ein relativ lauter Alarm ertönen, um die Betroffenen zu warnen. Voralarmzustände beziehen sich auf die Aktivierung eines Lautsprechers, einer Anzeige oder eines anderen geeigneten Mechanismus, um einen Betroffenen darauf hinzuweisen, dass bestimmte Bedingungen sich Bedingungen eines Alarmzustands nähern. Bei einem Voralarmzustand kann über einen Lautsprecher eine Sprachmeldung abgespielt werden, um für die Betroffenen erweiterte Warnungen darüber bereitzustellen, dass ein Gefahrenzustand bevorstehen kann. Wenn tatsächlich ein Gefahrenzustand vorliegt, kann die Voralarmwarnung bereitgestellt werden, bevor der eigentliche Alarm ausgelöst wird, wodurch für die Betroffenen zusätzliche Zeit bereitgestellt wird, um entsprechende Maßnahmen zu ergreifen. In anderen Fällen kann es die erweiterte Vorwarnung den Betroffenen ermöglichen, vorbeugende Maßnahmen zu ergreifen, um das Ertönen des eigentlichen Alarms zu vermeiden. Falls ein Betroffener beispielsweise kocht und übermäßiger Wasserdampf und/oder Rauch aus der Küche austritt kann die Alarm-Vorwarnung den Betroffenen auffordern, einen Ventilator einzuschalten oder ein Fenster zu öffnen.Systems for using multicriteria state machines to manage alarm states and pre-alarm conditions of a hazard alarm system are described herein. Alarm conditions refer to the activation of an alarm, display, or other suitable mechanism to alert affected persons to a hazardous condition. In an alarm condition, a relatively loud alarm may sound to alert those affected. Pre-alarm conditions refer to the activation of a loudspeaker, display or other suitable mechanism to alert an affected person that certain conditions are approaching conditions of an alarm condition. In a pre-alarm condition, a voice message can be played through a loudspeaker to provide extended warnings to those affected that a hazardous condition may be imminent. If there is indeed a dangerous condition, the pre-alarm warning may be provided before the actual alarm is triggered, providing additional time for those affected to take appropriate action. In other cases, advanced alerting may allow those affected to take preventative measures to avoid sounding the actual alarm. For example, if an individual cooks and exhales excessive water vapor and / or smoke from the kitchen, the alarm alert may prompt the person concerned to turn on a fan or open a window.
Die multikriteriellen Zustandsmaschinen können eine oder mehrere Sensorzustandsmaschinen und eine oder mehrere Systemzustandsmaschinen beinhalten. Jede Sensorzustandsmaschine und jede Systemzustandsmaschine kann einer besonderen Gefahr zugeordnet werden, wie beispielsweise einer Rauchgefahr, einer Kohlenmonoxid-Gefahr oder einer Hitzegefahr, und die multikriteriellen Zustandsmaschinen können bei der Handhabung der Gefahrenerkennung durch einen oder mehrere Sensoren erfasste Daten nutzen. Bei einigen Ausführungsformen kann für jede Gefahr eine Sensorzustandsmaschine implementiert werden. Bei anderen Ausführungsformen kann für jede Gefahr oder für eine Untermenge von Gefahren eine Systemzustandsmaschine implementiert werden. Bei der Handhabung der Erkennung einer Gefahr können jede Sensor-Zustandsmaschine und jede System-Zustandsmaschine auf der Basis von Sensordatenwerten, Stummschaltungsereignissen und/oder Übergangszuständen zwischen beliebigen ihrer Zustände wechseln. Ein Stummschaltungsereignis kann ein vom Nutzer eingeleiteter Befehl zum Verstummen eines ertönenden Alarms sein. Die Sensordatenwerte, Zustände und Übergangsbedingungen können zwischen unterschiedlichen Zustandsmaschinen variieren.The multicriteria state machines may include one or more sensor state machines and one or more system state machines. Each sensor state machine and each system state machine may be associated with a particular hazard, such as a smoke hazard, a carbon monoxide hazard or a heat hazard, and the multicriteria state machines may use data collected in the handling of hazard detection by one or more sensors. In some embodiments, a sensor state machine may be implemented for each hazard. In other embodiments, a system state machine may be implemented for each hazard or subset of hazards. In handling the detection of a hazard, each sensor state machine and system state machine may switch between any of their states based on sensor data values, mute events, and / or transition states. A mute event may be a user-initiated silence-sounding alarm command. The sensor data values, states, and transition conditions may vary between different state machines.
Die Übergangsbedingungen können eine Vielzahl von unterschiedlichen Bedingungen beinhalten, die definieren können, wie eine Zustandsmaschine von einem Zustand in einen anderen übergehen kann. Die Bedingungen können Schwellenwerte definieren, die mit einer oder mehreren der folgenden Eingaben verglichen werden können: Sensordatenwerte, Zeittakte und Ereignisse nach Benutzerinteraktion (z. B. stille Ereignisse). Zustandsänderungsübergänge können durch relativ simple Bedingungen gesteuert werden, die hierin als Einzelkriterium-Bedingungen bezeichnet sind, oder durch relativ komplexe Bedingungen, die hierin als multikriterielle Bedingungen bezeichnet werden. Einzelkriterium-Bedingungen können eine Eingabe mit einem Schwellenwert vergleichen. Beispielsweise kann eine einfache Bedingung ein Vergleich zwischen einem Sensordatenwert und einer Schwelle sein. Wenn der Sensordatenwert größer oder gleich der Schwelle ist, kann der Zustandsänderungsübergang durchgeführt werden. Im Gegensatz dazu kann eine multikriterielle Bedingung ein Vergleich von mindestens einer Eingabe mit zwei oder mehr Schwellenwerten oder ein Vergleich von zwei oder mehr Eingaben mit wenigstens einem Schwellenwert oder ein Vergleich einer ersten Eingabe mit einem ersten Schwellenwert und einer zweiten Eingabe mit einem zweiten Schwellenwert sein. Beispielsweise kann eine multikriterielle Bedingung ein Vergleich von einem ersten Sensorwert mit einem ersten Schwellenwert und ein Vergleich von einem zweiten Sensorwert mit einem zweiten Schwellenwert sein. Bei einigen Ausführungsformen müssen beide Vergleichsvorgänge erfüllt sein, um einen Zustandsänderungsübergang zu bewirken. Bei anderen Ausführungsformen muss nur einer der Vergleichsvorgänge erfüllt sein, um einen Zustandsänderungsübergang zu bewirken. Als weiteres Beispiel kann eine multikriterielle Bedingung ein Vergleich von einem Zeittakt mit einem Zeit-Schwellenwert und ein Vergleich von einem Sensorwert mit einem Schwellenwert sein.The transient conditions may involve a variety of different conditions that may define how a state machine can transition from one state to another. The conditions may define thresholds that may be compared to one or more of the following inputs: sensor data values, clocks, and events after user interaction (eg silent events). State change transitions may be controlled by relatively simple conditions, referred to herein as single criterion conditions, or by relatively complex conditions, referred to herein as multicriteria conditions. Single criterion conditions may compare an input to a threshold. For example, a simple condition may be a comparison between a sensor data value and a threshold. If the sensor data is greater than or equal to the threshold, the state transition can be performed. In contrast, a multi-criteria condition may be a comparison of at least one input with two or more thresholds, or a comparison of two or more inputs with at least one threshold, or a comparison of a first input with a first threshold and a second input with a second threshold. For example, a multi-criteria condition may be a comparison of a first sensor value with a first threshold value and a comparison of a second sensor value with a second threshold value. In some embodiments, both compare operations must be accomplished to effect a state transition transition. In other embodiments, only one of the comparisons must be satisfied to effect a state transition transition. As another example, a multi-criteria condition may be a comparison of a time clock with a time threshold and a comparison of a sensor value with a threshold.
Bei einigen Ausführungsformen kann der Schwellenwert für eine bestimmte Bedingung angepasst werden. Solche Schwellenwerte werden hierin als einstellbare Schwellenwerte bezeichnet. Einstellbare Schwellenwerte können aus einem von mindestens zwei wählbaren Schwellenwerten ausgewählt werden. Jedes geeignete Auswahlkriterium kann zur Auswahl des zweckmäßigen Schwellenwerts als den einstellbaren Schwellenwert verwendet werden. Bei einer Ausführungsform können die Auswahlkriterien mehrere Einzelkriterium-Bedingungen oder eine multikriterielle Bedingung beinhalten. Bei einer anderen Ausführungsform können die Auswahlkriterien, wenn der einstellbare Schwellenwert mit Sensorwerten eines ersten Sensors verglichen werden sollen, eine Analyse von mindestens einem vom ersten Sensor unterschiedlichen Sensor beinhalten. Beispielsweise kann der einstellbare Schwellenwert bei einer Ausführungsform der bei der Übergangsbedingung eines Rauchalarms verwendete Schwellenwert sein, und der einstellbare Schwellenwert kann aus einem von drei unterschiedlichen Schwellenwerten ausgewählt werden. Die Auswahl von einem der drei unterschiedlichen Schwellenwerte kann auf Sensordatenwerten basieren, die von einem Kohlenmonoxidsensor, einem Hitzesensor und einem Luftfeuchtesensor erhalten werden. Wenn daher die Auswertung der Sensordatenwerte erhöhte Pegel von Kohlenmonoxid oder Hitze angibt, kann der Rauchmelder-Schwellenwert auf einen niedrigeren Schwellenwert festgelegt werden, und wenn die Sensordatenwerte erhöhte Luftfeuchtelevel angeben, kann der Rauchmelder-Schwellenwert auf einen höheren Schwellenwert angehoben werden.In some embodiments, the threshold may be adjusted for a particular condition. Such thresholds are referred to herein as adjustable thresholds. Adjustable thresholds may be selected from one of at least two selectable thresholds. Any suitable selection criterion may be used to select the appropriate threshold as the adjustable threshold. In one embodiment, the selection criteria may include multiple single criterion conditions or a multi-criteria condition. In another embodiment, if the adjustable threshold is to be compared to sensor values of a first sensor, the selection criteria may include an analysis of at least one sensor different from the first sensor. For example, in one embodiment, the adjustable threshold may be the threshold used in the transition condition of a smoke alarm, and the adjustable threshold may be selected from one of three different thresholds. The selection of one of the three different thresholds may be based on sensor data obtained from a carbon monoxide sensor, a heat sensor, and a humidity sensor. Therefore, if the evaluation of the sensor data indicates increased levels of carbon monoxide or heat, the smoke detector threshold may be set to a lower threshold, and if the sensor data indicates increased humidity levels, the smoke alarm threshold may be raised to a higher threshold.
Bei einigen Ausführungsformen kann der Schwellenwert für eine bestimmte Übergangsbedingung eine erworbene Bedingungsschwelle sein. Die erworbene Bedingungsschwelle kann auf beliebigen geeigneten Kriterien basieren, beispielsweise auf Heuristik, erhobenen Daten, Software-Updates, Benutzerpräferenzen, Geräteeinstellungen usw. Auf der Grundlage dieser Kriterien kann die erworbene Bedingungsschwelle geändert werden, um Triggerpunkte für eine oder mehrere Vorwarnungen zu ändern.In some embodiments, the threshold for a particular transition condition may be an acquired condition threshold. The acquired condition threshold may be based on any suitable criteria, such as heuristics, collected data, software updates, user preferences, device settings, etc. Based on these criteria, the acquired condition threshold may be changed to change trigger points for one or more alerts.
Die Sensorzustandsmaschinen können für die Steuerung relativ grundlegender Funktionen des Gefahrenmeldesystems zuständig sein, und die Systemzustandsmaschinen können für die Steuerung relativ erweiterter Funktionen des Gefahrenmeldesystems zuständig sein. Jede Sensorzustandsmaschine kann für die Steuerung eines Alarmzustands bezüglich einer bestimmten Gefahr zuständig sein, und sie kann unabhängig von den anderen Sensorzustandsmaschinen und den Systemzustandsmaschinen arbeiten. Der unabhängige Betrieb jeder Sensorzustandsmaschine fördert die Zuverlässigkeit bei der Erkennung und der Alarmmeldungen für jede einzelne Gefahr. Die Sensorzustandsmaschinen können somit gemeinsam die Alarmzustände für alle durch das Gefahrenmeldesystem überwachten Gefahren verwalten.The sensor state machines may be responsible for controlling relatively basic functions of the hazard detection system, and the system state machines may be responsible for controlling relatively extended functions of the hazard detection system. Each sensor state machine may be responsible for controlling an alarm state for a particular hazard, and may operate independently of the other sensor state machines and system state machines. The independent operation of each sensor state machine promotes reliability in detection and reliability Alarm messages for every single danger. The sensor state machines can thus jointly manage the alarm conditions for all dangers monitored by the hazard detection system.
Bei einer Ausführungsform kann eine Zustandsmaschine des Rauchsensors den Alarmzustand einer Rauchgefahr verwalten. Insbesondere kann die Zustandsmaschine des Rauchsensors als ein Verfahren in einem Gefahrenmeldesystem mit einem Rauchsensor, einen Prozessor und einem Alarm implementiert werden. Das Verfahren kann das Empfangen von Rauchmesswerten vom Rauchsensor und das Empfangen eines Befehls für Stummschaltungsereignisse beinhalten. Das Verfahren kann den Übergang zwischen einer Vielzahl von Zuständen auf der Grundlage der empfangenen Rauchdatenwerte, dem empfangenen Befehl für Stummschaltungsereignisse und einer Vielzahl von Übergangsbedingungen beinhalten, wobei die Vielzahl von Übergangsbedingungen eine Vielzahl unterschiedlicher Rauch-Schwellenwerten beinhalten kann. Die Zustände können Inaktivität, Überwachung, Alarmmeldung und Stummschalten von Alarmen beinhalten. Damit die Zustandsmaschine des Rauchsensors einen Zustandsübergang bewirkt, können die Rauchdatenwerte mit einem der unterschiedlichen Rauchschwellenwerte verglichen werden. Die Übergangsbedingungen können auch eine einstellbare Alarmschwelle beinhalten, und das Verfahren kann den Alarm als Reaktion darauf aktivieren, ob der Rauchdatenwert die einstellbare Alarmschwelle erreicht oder übersteigt. Bei einigen Ausführungsformen kann einer von mindestens zwei der unterschiedlichen Rauch-Schwellenwerte als einstellbare Alarmschwelle ausgewählt werden.In one embodiment, a state machine of the smoke sensor may manage the alarm condition of a smoke hazard. In particular, the state machine of the smoke sensor may be implemented as a method in a hazard detection system with a smoke sensor, a processor, and an alarm. The method may include receiving smoke readings from the smoke sensor and receiving a mute event command. The method may include transitioning between a plurality of states based on the received smoke data values, the received mute event command, and a plurality of transient conditions, wherein the plurality of transient conditions may include a plurality of different smoke thresholds. The states may include inactivity, monitoring, alerting and muting of alarms. For the state machine of the smoke sensor to effect a state transition, the smoke data values may be compared to one of the different smoke thresholds. The transient conditions may also include an adjustable alarm threshold and the method may activate the alarm in response to the smoke data reaching or exceeding the adjustable alarm threshold. In some embodiments, one of at least two of the different smoke thresholds may be selected as an adjustable alarm threshold.
Bei einer anderen Ausführungsform kann eine Kohlenmonoxidsensor-Zustandsmaschine den Alarmzustand einer Kohlenmonoxidgefahr steuern. Insbesondere kann die Kohlenmonoxidsensor-Zustandsmaschine als ein Verfahren in einem Gefahrenmeldesystem mit einem Kohlenmonoxidsensor, einem Prozessor und einem Alarm implementiert werden. Das Verfahren kann das Empfangen von Kohlenmonoxid-(„CO”)-Datenwerten vom Kohlenmonoxidsensor beinhalten. Das Verfahren kann eine Vielzahl von CO-Zeitbändern verwalten, indem selektiv auf der Basis der empfangenen CO-Datenwerte Zeiteinheiten zu einem oder mehreren der Zeitbänder hinzugefügt oder daraus entfernt werden, wobei jedes CO-Zeitband eine Zeiteinheitenmenge beinhalten kann, und wobei eine Zeiteinheit zu einem oder mehreren der CO-Zeitbänder hinzugefügt wird, falls der CO-Datenwert gleich einem oder größer als ein mit einem oder mehreren CO-Zeitbändern assoziierten Implementierungspegel ist, und wobei eine Zeiteinheit aus einem oder mehreren der CO-Zeitbänder entfernt wird, falls der CO-Datenwert geringer ist als ein Bruchteil eines mit dem einem oder den mehreren CO-Zeitbändern assoziierten Implementierungspegels. Das Verfahren kann auf der Grundlage der empfangenen CO-Datenwerte und einer Vielzahl von Übergangsbedingungen zwischen einer Vielzahl von Zuständen wechseln. Die Übergangsbedingungen können mindestens einen Implementierungspegel und eine Alarm-Zeitschwelle für jedes CO-Zeitband beinhalten. Das Verfahren kann den Alarm ausgeben, falls die Zeiteinheitenmenge eines CO-Zeitbands die Alarm-Zeitschwelle für das betreffende CO-Zeitband erreicht.In another embodiment, a carbon monoxide sensor state machine may control the alarm state of a carbon monoxide hazard. In particular, the carbon monoxide sensor state machine may be implemented as a method in a hazard notification system with a carbon monoxide sensor, a processor, and an alarm. The method may include receiving carbon monoxide ("CO") data from the carbon monoxide sensor. The method may manage a plurality of CO time bands by selectively adding or removing time units from one or more of the time bands based on the received CO data values, wherein each CO time band may include a unit time amount, and wherein a unit of time or more of the CO time bands is added if the CO data value is equal to or greater than an implementation level associated with one or more CO time bands, and a time unit is removed from one or more of the CO time bands, if the CO- Data value is less than a fraction of an implementation level associated with the one or more CO time bands. The method may switch between a plurality of states based on the received CO data values and a plurality of transient conditions. Transition conditions may include at least one implementation level and one alarm time threshold for each CO time band. The method may issue the alarm if the time unit amount of a CO time band reaches the alarm time threshold for that CO time band.
Bei noch einer weiteren Ausführungsform kann eine Hitzesensor-Zustandsmaschine den Alarmzustand einer Hitzegefahr steuern. Insbesondere kann die Hitzesensor-Zustandsmaschine als ein Verfahren in einem Gefahrenmeldesystem mit mindestens einem Hitzesensor, einem Prozessor, und einem Alarm implementiert werden. Das Verfahren kann das Empfangen von unbearbeiteten Hitzedatenwerten von dem mindestens einen Hitzesensor, beinhalten Einsetzen einer Beschleunigungsfunktion zum Umwandeln der unbearbeiteten Hitzedatenwerte in skalierte Hitzedatenwerte und das Empfangen eines Befehls für ein Stummschaltungsereignis beinhalten. Das Verfahren kann auf der Grundlage der skalierten Hitzedatenwerte, des empfangenen Befehls für ein Stummschaltungsereignis und einer Vielzahl von Übergangsbedingungen zwischen einer Vielzahl von Zuständen wechseln. Die Vielzahl von Übergangsbedingungen kann mehrere unterschiedliche Hitzeschwellen beinhalten. Damit die Hitzesensor-Zustandsmaschine einen Zustandsübergang bewirkt, können die skalierten Datenwerte mit einem der unterschiedlichen Hitzeschwellenwerte verglichen werden.In still another embodiment, a heat sensor state machine may control the alarm state of a heat hazard. In particular, the heat sensor state machine may be implemented as a method in a hazard detection system having at least one heat sensor, a processor, and an alarm. The method may include receiving unprocessed heat data values from the at least one heat sensor, employing an acceleration function to convert the raw heat data values to scaled heat data values, and receiving a mute event command. The method may switch based on the scaled heat data values, the received mute event command, and a plurality of transient conditions between a plurality of states. The plurality of transient conditions may include several different heat thresholds. For the heat sensor state machine to effect a state transition, the scaled data values may be compared to one of the different heat threshold values.
Jede Systemzustandsmaschine kann für die Steuerung eines Voralarmzustands bezüglich einer bestimmten Gefahr zuständig sein. Beispielsweise kann eine Zustandsmaschine des Rauchsystems Vorwarnungen in Zusammenhang mit einer Rauchgefahr bereitstellen, und eine Kohlenmonoxid-Systemzustandsmaschine kann Vorwarnungen in Zusammenhang mit einer Kohlenmonoxid-Gefahr bereitstellen. Bei einigen Ausführungsformen kann jede Systemzustandsmaschine mehrere Voralarmzustände verwalten. Zudem kann jede Systemzustandsmaschine andere Zustände verwalten, die nicht durch die Sensorzustandsmaschinen gehandhabt werden können. Beispielsweise können diese anderen Zustände einen Überwachungszustand, einen Voralarm-Stummschaltungszustand und Alarm-Folgezustände beinhalten, wie z. B. Halte- und Alarmüberwachungs-Zustände.Each system state machine may be responsible for controlling a pre-alarm state for a particular hazard. For example, a state machine of the smoke system may provide alerts associated with a smoke hazard, and a carbon monoxide system state machine may provide alerts associated with a carbon monoxide threat. In some embodiments, each system state machine may manage multiple pre-alert states. In addition, each system state machine can manage other states that can not be handled by the sensor state machines. For example, these other states may include a monitor state, a pre-alarm mute state, and alarm wake-up states, such as: B. hold and alarm monitoring conditions.
Bei einer Ausführungsform kann ein Gefahrenmeldesystem mehrere Sensoren, einen Alarm, einen Lautsprecher und multikriterielle Zustandsmaschinen beinhalten, die eine Vielzahl von Zuständen verwalten können, basierend auf von mindestens einem der Sensoren erfassten Daten und auf mindestens einem Bedingungsparameter. Die Zustände können mindestens einen Alarmzustand beinhalten, der die Verwendung des Alarms steuern kann, und mindestens einen Voralarmzustand, der die Verwendung des Lautsprechers steuern kann. Die multikriterielle Zustandsmaschinen können mindestens eine Sensorzustandsmaschine beinhalten, die den mindestens einen Voralarmzustand verwalten kann. Die multikriteriellen Zustandsmaschinen können mindestens eine Systemzustandsmaschine beinhalten, die den mindestens einen Voralarmzustand verwalten kann.In one embodiment, a hazard detection system may include a plurality of sensors, an alarm, a speaker, and multicriteria state machines that manage a variety of states can, based on at least one of the sensors detected data and on at least one conditional parameter. The states may include at least one alarm state that may control the use of the alarm, and at least one pre-alarm state that may control the use of the speaker. The multi-criteria state machines may include at least one sensor state machine capable of managing the at least one pre-alarm state. The multi-criteria state machines may include at least one system state machine that may manage the at least one pre-alert state.
Die Systemzustandsmaschinen können einen oder mehrere Zustände gemeinsam mit Sensorzustandsmaschinen verwalten. Diese gemeinsam verwalteten Zustände, gelegentlich hierin auch als „geteilte Zustände” bezeichnet, können als Zustände sowohl in Systemzustandsmaschinen als auch in Sensorzustandsmaschinen für eine bestimmte Gefahr vorliegen. Beispielsweise kann eine Zustandsmaschine des Rauchsystems einen oder mehrere Zustände mit einer Zustandsmaschine des Rauchsensors teilen, und eine Zustandsmaschine des CO-Systems kann einen oder mehrere Zustände mit einer Zustandsmaschine des CO-Sensors teilen. Bei einigen Ausführungsformen können alle Zustandsänderungsübergänge auf einen geteilten Zustand durch die Sensorzustandsmaschine gesteuert werden. Beispielsweise kann der Alarmzustand ein geteilter Zustand sein, und bei jedem Übergang einer Sensorzustandsmaschine in den Alarmzustand geht die Systemzustandsmaschine, die Zustände gemeinsam mit der Sensorzustandsmaschine verwaltet, ebenfalls in den Alarmzustand über.The system state machines can manage one or more states along with sensor state machines. These co-managed states, sometimes referred to herein as "shared states", may exist as states in both system state machines and sensor state machines for a particular hazard. For example, a state machine of the smoke system may share one or more states with a state machine of the smoke sensor, and a state machine of the CO system may share one or more states with a state machine of the CO sensor. In some embodiments, all state change transitions may be controlled to a shared state by the sensor state machine. For example, the alarm state may be a shared state, and upon each transition of a sensor state machine to the alarm state, the system state machine, which manages states in common with the sensor state machine, also enters the alarm state.
Bei einer Ausführungsform kann ein Gefahrenmeldesystem mindestens einen Sensor und eine Sensorzustandsmaschine, die zum Übergang in einer aus einer Vielzahl von Sensorzuständen betrieben werden kann, beinhalten. Die Übergänge der Sensorzustandsmaschine können auf Daten basieren, die von dem mindestens einen Sensor erfasst wurden, sowie auf einer ersten Gruppe von Bedingungsparametern und Stummschaltungsereignissen. Das Gefahrenmeldesystem kann eine Systemzustandsmaschine beinhalten, die funktionsfähig ist, in einen aus einer Vielzahl von Systemzuständen überzugehen. Die Systemzustände können die Sensorzustände beinhalten, und die Übergänge der Systemzustandsmaschine können auf vom mindestens einen Sensor erfassten Daten, den Stummschaltungsereignissen und auf einer zweiten Menge von Bedingungsparametern basieren. Die zwischen der Sensorzustandsmaschine und der Systemzustandsmaschine geteilten Sensorzustände können durch die Sensorzustandsmaschine gesteuert werden.In one embodiment, a hazard detection system may include at least one sensor and a sensor state machine that may be operated to transition to one of a plurality of sensor states. The transitions of the sensor state machine may be based on data acquired by the at least one sensor and on a first group of condition parameters and muting events. The hazard detection system may include a system state machine that is operable to transition to one of a plurality of system states. The system states may include the sensor conditions, and the transitions of the system state machine may be based on data sensed by the at least one sensor, the mute events, and a second set of conditional parameters. The sensor states shared between the sensor state machine and the system state machine may be controlled by the sensor state machine.
Das Gefahrenmeldesystem kann eine gegabelte Prozessoranordnung verwenden, um die multikriteriellen Zustandsmaschinen gemäß verschiedenen Ausführungsformen auszuführen. Die gegabelte Prozessoranordnung kann es dem Gefahrenmeldesystem ermöglichen, die multikriteriellen Zustände in einer Weise zu verwalten, die minimalen Stromverbrauch fördert, während gleichzeitig Zuverlässigkeit bei der Gefahrenerkennung und beim Alarm-Funktionsumfang bereitgestellt wird. Die Systemzustandsmaschinen können durch einen Systemprozessor ausgeführt werden, und die Sensorzustandsmaschinen können durch einen Sicherheitsprozessor ausgeführt werden. Falls dann der Systemprozessor in einem Ruhezustand oder nicht funktionstüchtig ist (z. B. wegen geringer Stromaufnahme oder aus anderen Gründen), kann der Sicherheitsprozessor weiter den Funktionsumfang der Gefahren- und Alarmmeldung ausführen.The hazard notification system may use a forked processor arrangement to execute the multicriteria state machines according to various embodiments. The forked processor arrangement may enable the hazard detection system to manage the multi-criteria states in a manner that promotes minimal power consumption while at the same time providing reliability in hazard detection and alarm functionality. The system state machines may be executed by a system processor, and the sensor state machines may be executed by a security processor. Then, if the system processor is in an idle state or is not functional (eg due to low power consumption or other reasons), the security processor may continue to perform the functionality of the hazard and alarm message.
Bei einer Ausführungsform kann ein Gefahrenmeldesystem mehrere Sensoren beinhalten, z. B. einen Rauchsensor, einen Kohlenmonoxidsensor und einen Hitzesensor, einen Alarm, einen Lautsprecher und einen ersten Prozessor, der kommunikativ mit den Sensoren und dem Alarm gekoppelt sein kann. Der erste Prozessor kann mehrere Betriebsbedingungen von Sensorzustandsmaschinen beinhalten, wobei sowohl der Rauchsensor als auch der Kohlenmonoxidsensor und der Hitzesensor möglicherweise mindestens einer Alarmschwelle zugeordnet sein können. Der erste Prozessor kann dazu dienen, Datenwerte vom Rauchsensor, vom Kohlenmonoxidsensor und vom Hitzesensor zu erfassen und den Alarm als Reaktion auf die Entscheidung zu aktivieren, dass ein Datenwert, der einem oder mehreren der Sensoren zugeordnet ist, eine der Betriebsbedingungen der Sensorzustandsmaschine erreicht oder übersteigt. Das Gefahrenmeldesystem kann einen zweiten Prozessor beinhalten, der kommunikativ mit dem ersten Prozessor und dem Lautsprecher gekoppelt sein kann und der eine Vielzahl von Betriebsbedingungen der Systemzustandsmaschine einschließlich mehrerer Vorwarnschwellen beinhalten kann. Der zweite Prozessor kann betrieben werden, um die erfassten Datenwerte zu empfangen und um als Reaktion auf die Entscheidung, dass ein empfangener Datenwert eine der Betriebsbedingungen der Systemzustandsmaschine erreicht oder überschreitet, unter Verwendung des Lautsprechers eine Meldung wiederzugeben.In one embodiment, a hazard detection system may include multiple sensors, e.g. A smoke sensor, a carbon monoxide sensor and a heat sensor, an alarm, a speaker and a first processor that may be communicatively coupled to the sensors and the alarm. The first processor may include multiple operating conditions of sensor state machines, wherein both the smoke sensor and the carbon monoxide sensor and the heat sensor may be associated with at least one alarm threshold. The first processor may be operable to acquire data values from the smoke sensor, the carbon monoxide sensor and the heat sensor and to activate the alarm in response to the decision that a data value associated with one or more of the sensors meets or exceeds one of the operating conditions of the sensor state machine , The hazard notification system may include a second processor that may be communicatively coupled to the first processor and the speaker, and that may include a variety of operating conditions of the system state machine including multiple alert thresholds. The second processor may be operated to receive the acquired data values and to display a message using the loudspeaker in response to the decision that a received data value meets or exceeds one of the operating conditions of the system state machine.
Die gegabelte Prozessoranordnung ermöglicht es Gefahrenmeldesystem weiter, gemäß verschiedenen Ausführungsformen den Stromverbrauch zu minimieren, indem es dem relativ viel Strom verbrauchenden Systemprozessor ermöglicht wird, zwischen Ruhe- und Nicht-Ruhe-Zuständen zu wechseln, während der relativ wenig Strom verbrauchende Sicherheitsprozessor in einem Nicht-Ruhe-Zustand belassen wird. Der Systemprozessor kann im Ruhezustand gehalten werden, bis eines aus einer beliebigen Anzahl von Ereignissen eintritt, das den Systemprozessor aktiviert. Der Sicherheitsprozessor kann die Aktivierung des Systemprozessors als Reaktion auf ein Triggerereignis oder eine Zustandsänderung in einer Sensorzustandsmaschine bewirken. Trigger-Ereignisse können auftreten, wenn ein einem Sensor zugeordneter Datenwert aus einem Trigger-Band austritt, das dem betreffenden Sensor zugeordnet ist. Ein Trigger-Band kann obere und untere Grenzen der Datenwerte für jeden Sensor definieren, und es kann mit dem Sicherheitsprozessor gespeichert werden. Die Grenzen des Trigger-Bands können vom Systemprozessor, wenn dieser aktiviert ist, auf der Grundlage eines Betriebszustands des Gefahrenmeldesystems angepasst werden. Der Betriebszustand kann die Zustände sowohl der System- als auch der Sensorzustandsmaschine, die Sensordatenwerte und andere Faktoren beinhalten. Der Systemprozessor kann die Grenzen von einem oder mehreren Trigger-Bändern anpassen, um sie vor dem erneuten Wechsel in den Ruhezustand an die Zustände von einer oder mehreren Systemzustandsmaschinen anzugleichen. Somit kann der Systemprozessor über die Anpassung der Grenzen von einem oder mehreren Trigger-Bändern effektiv Aktivierungsanweisungen an den Sicherheitsprozessor kommunizieren.The bifurcated processor arrangement further enables the hazard notification system to minimize power consumption by allowing the relatively high power consuming system processor to switch between idle and non-idle states, during various embodiments relatively low power consuming security processor is left in a non-idle state. The system processor may be held idle until one of any number of events occurs that activates the system processor. The security processor may effect activation of the system processor in response to a trigger event or state change in a sensor state machine. Trigger events can occur when a data value associated with a sensor leaks out of a trigger band associated with that sensor. A trigger band can define upper and lower bounds of the data values for each sensor, and it can be stored with the security processor. The limits of the trigger band may be adjusted by the system processor, if enabled, based on an operating status of the hazard detection system. The operating state may include the states of both the system and sensor state machines, the sensor data values, and other factors. The system processor may adjust the boundaries of one or more trigger bands to match the states of one or more system state machines prior to reverting to idle state. Thus, by adjusting the boundaries of one or more trigger bands, the system processor can effectively communicate activation instructions to the security processor.
Bei einer Ausführungsform kann ein Gefahrenmeldesystem mehrere Sensoren beinhalten, z. B. einen Rauchsensor, einen Kohlenmonoxidsensor und einen Hitzesensor, einen Sicherheitsprozessor und einen Systemprozessor. Der Sicherheitsprozessor kann betrieben werden, um auf ein Trigger-Band von mindestens einem der Sensoren zuzugreifen und die Sensoren in Bezug auf Trigger-Ereignisse zu überwachen, wobei ein Triggerereignis auftreten kann, wenn ein einem überwachten Sensor zugeordneter Datenwert aus dem diesem überwachten Sensor zugeordneten Datenband austritt und als Reaktion auf jedes überwachte Triggerereignis ein Signal zum Systemprozessor ausgibt. Als Reaktion auf das ausgegebene Signal kann der Systemprozessor betrieben werden, um einen Betriebszustand des Gefahrenmeldesystems zu bewerten und selektiv auf der Basis des Betriebszustands mindestens eine Grenze von mindestens einem Trigger-Band anzupassen.In one embodiment, a hazard detection system may include multiple sensors, e.g. As a smoke sensor, a carbon monoxide sensor and a heat sensor, a security processor and a system processor. The security processor may be operated to access a trigger band from at least one of the sensors and to monitor the sensors for trigger events, wherein a trigger event may occur when a data value associated with a monitored sensor is from the data band associated with that monitored sensor and outputs a signal to the system processor in response to each monitored trigger event. In response to the output signal, the system processor may be operated to evaluate an operating state of the hazard detection system and to selectively adjust at least one limit of at least one trigger band based on the operating condition.
Ein besseres Verständnis der Natur und der Vorteile der hierin beschriebenen Ausführungsformen lässt sich unter Bezugnahme auf die verbleibenden Abschnitte der Spezifikation und die Zeichnungen erzielen.A better understanding of the nature and advantages of the embodiments described herein can be obtained by reference to the remaining portions of the specification and the drawings.
KURZBESCHREIBUNG DER ABBILDUNGENBRIEF DESCRIPTION OF THE FIGURES
1 ist ein Diagramm eines Gehäuses mit einem Gefahrenmeldesystem gemäß einigen Ausführungsformen; 1 FIG. 10 is a diagram of a housing having a hazard detection system in accordance with some embodiments; FIG.
2 zeigt ein veranschaulichendes Blockdiagramm eines in einem veranschaulichenden Gebäude verwendeten Gefahrenmeldesystems gemäß einigen Ausführungsformen; 2 FIG. 11 is an illustrative block diagram of a hazard detection system used in an illustrative building, in accordance with some embodiments; FIG.
3 zeigt ein veranschaulichendes Blockdiagramm mit der Darstellung verschiedener zusammenwirkender Komponenten eines Gefahrenmeldesystems gemäß einigen Ausführungsformen, um einen multikriteriellen Alarm- und Voralarm-Funktionsumfang bereitzustellen; 3 10 is an illustrative block diagram depicting various cooperative components of a hazard detection system, according to some embodiments, to provide multi-criteria alarm and pre-alarm functionality;
4A zeigt eine veranschaulichende Zustandsmaschine des Rauchsensors gemäß einigen Ausführungsformen; 4A FIG. 10 illustrates an illustrative state machine of the smoke sensor according to some embodiments; FIG.
4B zeigt die Bedingungen in Zusammenhang mit jedem Übergang der Zustandsmaschine des Rauchsensors aus 4A gemäß einigen Ausführungsformen; 4B shows the conditions associated with each transition of the state machine of the smoke sensor 4A according to some embodiments;
5A zeigt eine veranschaulichende Zustandsmaschine des CO-Sensors gemäß einigen Ausführungsformen; 5A FIG. 10 illustrates an illustrative state machine of the CO sensor according to some embodiments; FIG.
5B zeigt die Bedingungen in Zusammenhang mit jedem Übergang der Zustandsmaschine des CO-Sensors aus 5A gemäß einigen Ausführungsformen; 5B shows the conditions associated with each transition of the state machine of the CO sensor 5A according to some embodiments;
6A zeigt eine veranschaulichende Hitzesensor-Zustandsmaschine gemäß einigen Ausführungsformen; 6A FIG. 10 illustrates an illustrative heat sensor state machine according to some embodiments; FIG.
6B zeigt die Bedingungen in Zusammenhang mit jedem Übergang der Hitzesensor-Zustandsmaschine aus 6A, gemäß einigen Ausführungsformen; 6B shows the conditions associated with each transition of the heat sensor state machine 6A according to some embodiments;
7A zeigt eine veranschaulichende Zustandsmaschine des Rauchsystems gemäß einigen Ausführungsformen; 7A FIG. 12 shows an illustrative state machine of the smoke system according to some embodiments; FIG.
7B zeigt die Bedingungen in Zusammenhang mit jedem Übergang der Zustandsmaschine des Rauchsystems aus 7A gemäß einigen Ausführungsformen; 7B shows the conditions associated with each transition of the state machine of the smoke system 7A according to some embodiments;
8A zeigt eine veranschaulichende Zustandsmaschine des CO-Systems gemäß einigen Ausführungsformen; 8A FIG. 12 illustrates an illustrative state machine of the CO system according to some embodiments; FIG.
8B-1 und 8B-2 zeigen die Bedingungen in Zusammenhang mit jedem Übergang der Zustandsmaschine des CO-Sensors aus 8A gemäß einigen Ausführungsformen; 8B-1 and 8B-2 show the conditions associated with each transition of the state machine of the CO sensor 8A according to some embodiments;
9 zeigt ein veranschaulichendes Einstellungsmodul des Alarm/Voralarm-Schwellenwerts gemäß einigen Ausführungsformen; 9 FIG. 10 illustrates an illustrative alarm / pre-alarm threshold adjustment module according to some embodiments; FIG.
10 zeigt ein veranschaulichendes Systemzustandsmaschinen-Modul gemäß einigen Ausführungsformen; 10 FIG. 12 illustrates an illustrative system state machine module according to some embodiments; FIG.
11 zeigt ein veranschaulichendes Stummschaltungs-Modul gemäß einigen Ausführungsformen; 11 FIG. 12 illustrates an illustrative muting module according to some embodiments; FIG.
12 zeigt ein veranschaulichendes Alarm/Lautsprecher-Koordinierungsmodul gemäß einigen Ausführungsformen; 12 shows an illustrative alarm / speaker coordination module according to some embodiments;
13 zeigt eine veranschaulichende schematische Darstellung eines Gefahrenmeldesystems gemäß einigen Ausführungsformen; 13 FIG. 11 is an illustrative schematic illustration of a hazard detection system in accordance with some embodiments; FIG.
14A bis 14C zeigen veranschaulichende Zeitablaufdiagramme von verschiedenen Trigger-Bändern gemäß einigen Ausführungsformen; 14A to 14C 12 show illustrative timing diagrams of various trigger bands according to some embodiments;
15 zeigt ein detaillierteres Blockdiagramm eines Trigger-Anpassungsmoduls aus 13 gemäß einigen Ausführungsformen; 15 shows a more detailed block diagram of a trigger adaptation module 13 according to some embodiments;
16 zeigt ein veranschaulichendes Ablaufdiagramm der Schritte, die gemäß einigen Ausführungsformen ergriffen werden können, wenn ein Systemprozessor in einen Nicht-Ruhe-Zustand übergeht; 16 FIG. 11 is an illustrative flowchart of the steps that may be taken when a system processor transitions to a non-idle state, according to some embodiments; FIG.
17 zeigt ein veranschaulichendes Ablaufdiagramm der Schritte zum Implementieren vom multikriteriellen Alarm- und Voralarm-Funktionsumfang gemäß einigen Ausführungsformen; 17 FIG. 11 is an illustrative flowchart of the steps for implementing multi-criteria alarm and pre-alarm functionality, in accordance with some embodiments; FIG.
18 zeigt ein veranschaulichendes Ablaufdiagramm der Schritte zum Teilen von Zuständen unter multikriteriellen Maschinen gemäß einigen Ausführungsformen; 18 FIG. 11 is an illustrative flowchart of the steps for sharing states among multi-criteria machines, in accordance with some embodiments; FIG.
19 zeigt ein veranschaulichendes Ablaufdiagramm der Schritte zum Verwalten von Trigger-Bändern gemäß einigen Ausführungsformen; 19 FIG. 11 is an illustrative flowchart of the steps for managing trigger bands according to some embodiments; FIG.
20 zeigt ein veranschaulichendes Ablaufdiagramm der Schritte zum Implementieren einer Zustandsmaschine des Rauchsensors gemäß einigen Ausführungsformen; 20 FIG. 11 is an illustrative flowchart of the steps for implementing a state machine of the smoke sensor according to some embodiments; FIG.
21 zeigt ein veranschaulichendes Ablaufdiagramm der Schritte zum Implementieren einer Zustandsmaschine des CO-Sensors gemäß einigen Ausführungsformen; 21 FIG. 11 is an illustrative flowchart of the steps for implementing a state machine of the CO sensor according to some embodiments; FIG.
22 zeigt ein veranschaulichendes Ablaufdiagramm der Schritte zum Implementieren einer Hitzesensor-Zustandsmaschine gemäß einigen Ausführungsformen; und 22 FIG. 11 is an illustrative flowchart of the steps for implementing a heat sensor state machine according to some embodiments; FIG. and
23 zeigt ein veranschaulichendes Ablaufdiagramm von Schritten zum Anpassen von Alarm-Schwellenwerten gemäß einigen Ausführungsformen. 23 FIG. 11 is an illustrative flowchart of steps for adjusting alarm thresholds according to some embodiments. FIG.
AUSFÜHRLICHE BESCHREIBUNG DER OFFENBARUNGDETAILED DESCRIPTION OF THE DISCLOSURE
In der folgenden detaillierten Beschreibung werden zum Zwecke der Erläuterung zahlreiche spezifische Details dargelegt, um ein gründliches Verständnis der verschiedenen Ausführungsformen bereitzustellen. Fachleute auf diesem Gebiet werden erkennen, dass diese verschiedenen Ausführungsformen nur beispielhaft sind und dass sie in keiner Weise eingrenzend sein sollen. Andere Ausführungsformen erschließen sich Fachleuten leicht bei Anwendung des Nutzens dieser Offenbarung.In the following detailed description, for purposes of explanation, numerous specific details are set forth in order to provide a thorough understanding of the various embodiments. Those skilled in the art will recognize that these various embodiments are merely exemplary and that they are not intended to be limiting in any way. Other embodiments will be readily apparent to those skilled in the art upon application of the benefit of this disclosure.
Darüber hinaus sind im Interesse der Klarheit nicht alle routinemäßigen Merkmale der hierin beschriebenen Ausführungsformen gezeigt oder beschrieben. Fachleute auf diesem Gebiet werden leicht erkennen, dass bei der Entwicklung von derartigen praktischen Ausführungsformen zahlreiche ausführungsspezifische Entscheidungen erforderlich sein können, um spezifische Designziele zu erreichen. Diese Designziele weichen bei verschiedenen Ausführungsformen und unterschiedlichen Planern voneinander ab. Zudem versteht es sich, dass eine derartige Planung komplex und zeitaufwendig sein kann, aber dennoch bei der Umsetzung des Nutzens dieser Offenbarung eine routinemäßige technische Aufgabe für Fachleute auf diesem Gebiet darstellt. Moreover, for the sake of clarity, not all routine features of the embodiments described herein are shown or described. Those skilled in the art will readily appreciate that in developing such practical embodiments, numerous execution-specific decisions may be required to achieve specific design goals. These design goals differ for different embodiments and different designers. In addition, it will be understood that such planning may be complex and time-consuming but nevertheless constitutes a routine technical task for those skilled in the art in the implementation of the benefit of this disclosure.
Es versteht sich, dass, obwohl eine oder mehrere Ausführungsformen des Gefahrenmeldesystems hierin weiter im Zusammenhang der Verwendung in Wohnräumen beschrieben sind, wie z. B. in einem Ein-Familien-Haus, der Schutzumfang der vorliegenden Lehren nicht derart eingegrenzt ist. Oder allgemeiner, sind Gefahrenmeldesysteme auf eine breite Vielfalt von Gebäuden anwendbar, wie z. B. Doppelhäuser, Reihenhäuser, Mehrfamilien-Gebäude, Hotels, Einzelhandelsgeschäfte und industrielle Bauten. Weiter versteht es sich, dass, obwohl die Begriffe Nutzer, Kunde, Installateur, Hausbesitzer, Bewohner, Gast, Mieter, Vermieter, Wartungstechniker und Ähnliches verwendet werden können, um die Person oder Personen zu bezeichnen, die mit dem Gefahren-Detektor in Zusammenhang mit einem oder mehreren der hierin beschriebenen Szenarien interagieren, diese Bezugnahmen keineswegs so anzusehen sind, dass sie den Schutzumfang der vorliegenden Lehren bezüglich der Person oder Personen, die derartige Vorgänge ausführen, eingrenzen.It will be understood that while one or more embodiments of the danger alert system are further described herein in the context of residential use, such as, for example: In a one-family house, the scope of the present teachings is not so limited. Or more generally, hazard detection systems are applicable to a wide variety of buildings, such as: As semi-detached houses, terraced houses, multi-family buildings, hotels, retail stores and industrial buildings. Further, it should be understood that although the terms user, customer, installer, homeowner, resident, guest, tenant, landlord, maintenance technician and the like may be used to refer to the person or persons associated with the hazard detector interact with one or more of the scenarios described herein, these references should by no means be construed to limit the scope of the present teachings in relation to the person or persons performing such acts.
1 ist ein Diagramm, das ein veranschaulichendes Gebäude 100 darstellt, das das Gefahrenmeldesystem 105, das Fern-Gefahrenmeldesystem 107, das Thermostat 110, das Fern-Thermostat 112, das Heizungs-Lüftungs-Klimatechnik-(HLK)-System 120, den Router 122, den Computer 124 und die Zentralsteuerung 130 gemäß einigen Ausführungsformen verwendet. Das Gebäude 100 kann beispielsweise ein Einfamilienhaus, ein Doppelhaus, eine Wohneinheit in einem Apartmenthaus, ein Lagerhaus oder eine kommerzielle Struktur sein, wie z. B. ein Büro oder ein Einzelhandelsgeschäft. Das Gefahrenmeldesystem 105 kann batteriebetrieben, netzbetrieben oder netzbetrieben mit Batteriesicherung sein. Das Gefahrenmeldesystem 105 kann einen oder mehrere Prozessoren, mehrere Sensoren, nichtflüchtigen Speicher und andere Schaltungen beinhalten, um die gewünschte Sicherheitsüberwachung und Benutzerschnittstellenfunktionen bereitzustellen. Einige Funktionen der Benutzeroberfläche sind aufgrund von physischen Einschränkungen und Leistungsbeschränkungen möglicherweise nur in netzbetriebenen Ausführungsformen verfügbar. Darüber hinaus können einige, sowohl für netz- als auch für batteriebetriebene Ausführungsformen gemeinsame Merkmale unterschiedlich implementiert sein. Das Gefahrenmeldesystem 105 kann die folgenden Komponenten beinhalten: Low-Power-Wireless-Personal-Area-Network-(LoWPAN)-Schaltung, einen Systemprozessor, einen Sicherheitsprozessor, nichtflüchtigen Speicher (z. B. Flash), Wi-Fi-Schaltung, ein Umgebungslichtsensor (ALS), einen Rauchsensor, einen Kohlenmonoxid-(CO)-Sensor, einen Temperatursensor, einen Luftfeuchtesensor, einen Schallsensor, einen oder mehrere Ultraschallsensoren, einen passiven Infrarotsensor (PIR), einen Lautsprecher, eine oder mehrere Leuchtdioden (LED) und einen Alarmsummer. 1 is a diagram that is an illustrative building 100 that represents the hazard detection system 105 , the remote alarm system 107 , the thermostat 110 , the remote thermostat 112 , The Heating Ventilation Air Conditioning (HVAC) System 120 , the router 122 , the computer 124 and the central control 130 used according to some embodiments. The building 100 may be, for example, a detached house, a duplex, a residential unit in an apartment building, a warehouse or a commercial structure, such. An office or a retail store. The danger detection system 105 can be battery operated, mains powered or mains powered with battery backup. The danger detection system 105 may include one or more processors, multiple sensors, nonvolatile memory, and other circuitry to provide the desired security monitoring and user interface functions. Some features of the user interface may be available only in network powered embodiments due to physical limitations and performance limitations. In addition, some common features common to both mains and battery powered embodiments may be implemented differently. The danger detection system 105 may include the following components: low-power wireless personal area network (LoWPAN) circuit, a system processor, a security processor, nonvolatile memory (such as Flash), Wi-Fi circuitry, an ambient light sensor (ALS ), a smoke sensor, a carbon monoxide (CO) sensor, a temperature sensor, a humidity sensor, a sound sensor, one or more ultrasonic sensors, a passive infrared sensor (PIR), a speaker, one or more light emitting diodes (LED) and an alarm buzzer.
Das Gefahrenmeldesystem 105 kann Umgebungsbedingungen in Zusammenhang mit dem Gebäude 100 überwachen und die Betroffenen alarmieren, wenn eine Umgebungsbedingung eine vorbestimmte Schwelle überschreitet. Die überwachten Bedingungen können zum Beispiel Rauch, Hitze, Feuchtigkeit, Kohlenmonoxid, Kohlendioxid, Radon und andere Gase beinhalten. Zusätzlich zur Überwachung der Sicherheit der Umgebung kann das Gefahrenmeldesystem 105 mehrere Benutzerschnittstellen-Merkmale bereitstellen, die bei konventionellen Alarmsystemen nicht vorliegen. Diese Benutzerschnittstellen-Merkmale können zum Beispiel Sprachalarme und Sprachinstallationsanweisungen, Cloud-Kommunikation (z. B. überwachte Daten in die Cloud senden oder Benachrichtigungen an ein Mobiltelefon senden oder Software-Updates aus der Cloud empfangen), Gerät-zu-Gerät-Kommunikation (z. B. Kommunikation mit anderen Gefahrenmeldesystemen in dem Gebäude, einschließlich der Kommunikation von Software-Updates zwischen Gefahrenmeldesystemen), visuelle Sicherheitsindikatoren (z. B. zeigt die Anzeige eines grünes Licht an, dass der Betrieb sicher ist, und die Anzeige eines roten Lichts gibt eine Gefahr an), und taktile und berührungslose Eingabebefehlsverarbeitung und Software-Updates beinhalten.The danger detection system 105 may be environmental conditions related to the building 100 monitor and alert those affected when an environmental condition exceeds a predetermined threshold. The monitored conditions may include, for example, smoke, heat, moisture, carbon monoxide, carbon dioxide, radon, and other gases. In addition to monitoring the safety of the environment, the hazard detection system 105 provide multiple user interface features that are not available with conventional alarm systems. These user interface features may include, for example, voice alarms and voice installation instructions, cloud communication (eg, sending monitored data to the cloud or sending notifications to a mobile phone, or receiving software updates from the cloud), device-to-device communication (e.g. B. communication with other hazard detection systems in the building, including the communication of software updates between hazard detection systems), visual safety indicators (eg, the indication of a green light indicates that the operation is safe and gives the indication of a red light a hazard), and include tactile and non-contact input command processing and software updates.
Es versteht sich, dass das Gefahrenmeldesystem 105 als Smart-Home-Einrichtung implementiert sein kann. Obwohl also die Diskussion über das Gefahrenmeldesystem in erster Linie mit Bezug auf spezifische Gefahren beschrieben ist (z. B. Rauch, CO, Hitze), kann das Gefahrenmeldesystem zusätzliche Merkmale und Funktionen ohne Zusammenhang mit diesen Gefahren bereitstellen. Beispielsweise kann das Gefahrenmeldesystem viele unterschiedliche Bedingungen überwachen. Diese Bedingungen können Bewegungen, Geräusche und Gerüche beinhalten. Diese Bedingungen können auch Daten beinhalten, die von externen Sensoren geliefert werden (z. B. von Armbändern, Türsensoren, Fenstersensoren, persönlichen Mediengeräten).It is understood that the hazard detection system 105 can be implemented as a smart home device. Thus, while the discussion of the hazard detection system is primarily directed to specific hazards (eg, smoke, CO, heat), the hazard detection system may provide additional features and functions unrelated to those hazards. For example, the hazard detection system can monitor many different conditions. These conditions may include movement, noise and odors. These conditions may also include data provided by external sensors (eg, bracelets, door sensors, window sensors, personal media devices).
Das Gefahrenmeldesystem 105 kann multikriterielle Zustandsmaschinen gemäß verschiedenen hierin beschriebenen Ausführungsformen implementieren, um erweiterte Gefahrenmeldung und erweiterte Benutzerschnittstellen-Merkmale wie z. B. Vorwarnungen bereitzustellen. Darüber hinaus können die multikriteriellen Zustandsmaschinen Alarmzustände und Voralarmzustände verwalten, und sie können eine oder mehrere Sensorzustandsmaschinen beinhalten, die Alarmzustände steuern können, sowie eine oder mehrere Systemzustandsmaschinen, die Voralarmzustände steuern. Jede Zustandsmaschine kann auf der Basis von Sensordaten-Werten, Stummschaltungsereignissen und/oder Übergangsbedingungen zwischen beliebigen ihrer Zustände wechseln. Die Übergangsbedingungen können definieren, wie eine Zustandsmaschine von einem Zustand in einen anderen übergeht, und letztlich, wie das Gefahrenmeldesystem 105 arbeitet. Das Gefahrenmeldesystem 105 kann eine Doppelprozessoranordnung verwenden, um die multikriteriellen Zustandsmaschinen gemäß verschiedenen Ausführungsformen auszuführen. Die Doppelprozessoranordnung kann es dem Gefahrenmeldesystem 105 ermöglichen, die Alarm- und Voralarmzustände in einer Weise zu verwalten, die minimalen Strom verbraucht, während gleichzeitig relativ ausfallsichere Gefahrenerkennung und Alarmfunktionen bereitgestellt werden. Weitere Einzelheiten der verschiedenen Ausführungsformen des Gefahrenmeldesystems 105 werden im Folgenden erörtert. The danger detection system 105 may implement multicriteria state machines according to various embodiments described herein to provide enhanced threat notification and advanced user interface features such as e.g. For example, to provide alerts. In addition, the multi-criteria state machines may manage alarm conditions and pre-alarm conditions, and may include one or more sensor state machines that may control alarm conditions and one or more system state machines that control pre-alarm conditions. Each state machine may switch between any of its states based on sensor data values, muting events, and / or transient conditions. Transition conditions can define how a state machine transitions from one state to another, and ultimately, how the hazard detection system 105 is working. The danger detection system 105 For example, a dual processor arrangement may be used to execute the multicriteria state machines according to various embodiments. The dual processor arrangement allows the hazard detection system 105 allow the alarm and pre-alarm conditions to be managed in a manner that consumes minimal power while providing relatively fail-safe hazard detection and alarm functions. Further details of the various embodiments of the danger detection system 105 will be discussed below.
Das Gebäude 100 kann eine beliebige Anzahl von Gefahrenmeldesystemen beinhalten. Beispielsweise ist entsprechend der Darstellung das Gefahrenmeldesystem 107 ein weiteres Gefahrenmeldesystem, das dem System 105 ähneln kann. Bei einer Ausführungsform können beide Systeme 105 und 107 batteriebetriebene Systeme sein. Bei einer anderen Ausführungsform kann das System 105 netzbetrieben sein, und das System 107 kann batteriebetrieben sein. Zudem kann ein Gefahrenmeldesystem außerhalb des Gebäudes 100 installiert sein.The building 100 can include any number of hazard detection systems. For example, according to the representation of the danger detection system 107 another danger detection system that the system 105 can resemble. In one embodiment, both systems 105 and 107 be battery powered systems. In another embodiment, the system 105 be mains powered, and the system 107 can be battery operated. In addition, a hazard detection system outside the building 100 be installed.
Der Thermostat 110 kann einer von mehreren Thermostaten sein, die das HLK-System 120 regeln können. Der Thermostat 110 kann als „primärer” Thermostat bezeichnet werden, weil er über eine elektrische Verbindung mit zum HLK-System 120 führenden HLK-Steuerdrähten (z. B. W, G, Y usw.) elektrisch angeschlossen sein kann, um das gesamte HLK-System oder einen Teil davon zu betätigen. Der Thermostat 110 kann einen oder mehrere Sensoren beinhalten, um Umgebungsdaten in Zusammenhang mit dem Gebäude 100 zu erfassen. Beispielsweise kann ein Sensor verwendet werden, um Belegung, Temperatur, Licht und andere Umgebungsbedingungen in dem Gebäude 100 zu detektieren. Der entfernte Thermostat 112 kann als „Hilfs”-Thermostat bezeichnet werden, da er möglicherweise nicht elektrisch angeschlossen ist, um das HLK-System 120 zu betätigen; doch er kann ebenfalls einen oder mehrere Sensoren beinhalten, um Daten aus der Umgebung in Zusammenhang mit dem Gebäude 100 zu erfassen, und er kann über eine drahtgebundene oder drahtlose Verbindung Daten zum Thermostaten 110 übertragen. Beispielsweise kann der Thermostat 112 drahtlos mit dem Thermostaten 110 kommunizieren und damit kooperieren, um eine verbesserte Steuerung des HLK-Systems 120 zu erreichen. Der Thermostat 112 kann zusätzliche Temperaturdaten bereitstellen, die seine Position innerhalb des Gebäudes 100 angeben; er kann zusätzliche Belegungsinformationen bereitstellen oder eine andere Benutzeroberfläche für den Benutzer bereitstellen (z. B. zum Einstellen einer Soll-Temperatur).The thermostat 110 can be one of several thermostats that the HVAC system 120 can regulate. The thermostat 110 can be referred to as a "primary" thermostat because it has an electrical connection to the HVAC system 120 leading HVAC control wires (eg, W, G, Y, etc.) may be electrically connected to actuate the entire HVAC system or a portion thereof. The thermostat 110 may include one or more sensors to provide environmental data related to the building 100 capture. For example, a sensor can be used to control occupancy, temperature, light, and other environmental conditions in the building 100 to detect. The remote thermostat 112 may be referred to as an "auxiliary" thermostat, as it may not be electrically connected to the HVAC system 120 to operate; however, it may also include one or more sensors to collect data from the environment associated with the building 100 and it can record data to the thermostat via a wired or wireless connection 110 transfer. For example, the thermostat 112 wireless with the thermostat 110 communicate and cooperate for improved control of the HVAC system 120 to reach. The thermostat 112 can provide additional temperature data reflecting its position within the building 100 specify; it may provide additional occupancy information or provide a different user interface to the user (eg, to set a desired temperature).
Die Gefahrenmeldesysteme 105 und 107 können über eine drahtgebundene oder eine drahtlose Verbindung mit dem Thermostaten 110 oder dem Thermostaten 112 kommunizieren. Beispielsweise kann das Gefahrenmeldesystem 105 seine überwachten Daten drahtlos zum Thermostaten 110 übertragen (z. B. detektierte Daten zu Temperatur und Belegung), sodass zusätzliche Daten für besser fundierte Entscheidungen bei der Regelung des HLK-Systems 120 bereitgestellt werden. Weiter können bei einigen Ausführungsformen Daten über eine drahtgebundene oder drahtlose Verbindung von einem oder mehreren der Thermostaten 110 oder 112 zu einem oder mehreren der Gefahrenmeldesysteme 105 und 107 übertragen werden.The danger detection systems 105 and 107 can be connected to the thermostat via a wired or wireless connection 110 or the thermostat 112 communicate. For example, the hazard detection system 105 his monitored data wirelessly to the thermostat 110 transmit (eg, detected temperature and occupancy data), providing additional data for better informed decisions on HVAC system control 120 to be provided. Further, in some embodiments, data may be via a wired or wireless connection from one or more of the thermostats 110 or 112 to one or more of the hazard detection systems 105 and 107 be transmitted.
Die Zentralsteuerung 130 kann Teil eines Sicherheitssystems oder eines anderen Master-Steuerungssystems des Gebäudes 100 sein. Beispielsweise kann die Zentralsteuerung 130 ein Sicherheitssystem sein, das Fenster und Türen auf Einbrüche überwacht, und sie kann durch Bewegungsmelder bereitgestellte Daten überwachen. Bei einigen Ausführungsformen kann die Zentralsteuerung 130 auch mit einem oder mehreren der Thermostaten 110 und 112 und der Gefahrenmeldesysteme 105 und 107 kommunizieren. Die Zentralsteuerung 130 kann diese Kommunikationen über drahtgebundene Verbindungen, drahtlose Verbindungen oder eine Kombination daraus durchführen. Falls beispielsweise durch das Gefahrenmeldesystem 105 Rauch detektiert wird, kann der Zentralsteuerung 130 das Vorliegen von Rauch gemeldet werden, und sie kann die zweckmäßigen Mitteilungen vornehmen, wie z. B. das Aktivieren einer Anzeige darüber, dass in einer bestimmten Zone des Gebäudes 100 eine Gefahrenbedingung vorliegt.The central control 130 may be part of a security system or other master control system of the building 100 be. For example, the central control 130 a security system that monitors windows and doors for burglaries, and it can monitor data provided by motion detectors. In some embodiments, the central controller 130 also with one or more of the thermostats 110 and 112 and the danger detection systems 105 and 107 communicate. The central control 130 can perform these communications via wired connections, wireless connections, or a combination thereof. If, for example, through the hazard detection system 105 Smoke is detected, the central control 130 the presence of smoke and it can make the appropriate communications, such as For example, enabling an ad that is in a particular zone of the building 100 a danger condition exists.
Das Gebäude 100 kann weiter ein privates Netzwerk beinhalten, das sowohl drahtlos als auch über Kabelverbindungen zugänglich ist und das auch als lokales Netz (Local Area Network oder LAN) bezeichnet werden kann. Netzwerkeinrichtungen im privaten Netz können Gefahrenmeldesysteme 105 und 107, Thermostaten 110 und 112, den Computer 124 und die Zentralsteuerung 130 beinhalten. Bei einer Ausführungsform wird das private Netzwerk implementiert unter Verwendung des Routers 122, der die Weiterleitung, den Funktionsumfang eines drahtlosen Zugangspunkts, eine Firewall und mehrere drahtgebundene Anschluss-Ports zum Verbinden verschiedener drahtgebundener Netzwerkgeräte wie z. B. des Computers 124 bereitstellen kann. Drahtlose Kommunikation zwischen dem Router 122 und vernetzten Geräten kann unter Verwendung eines 802.11-Protokolls erfolgen. Der Router 122 kann weiter über ein Kabelmodem, ein DSL-Modem und einen Internet-Dienstanbieter (ISP) oder einen Anbieter anderer öffentlicher Netzdienste den Zugang zu einem öffentlichen Netzwerk wie dem Internet oder der Cloud für Netzwerkgeräte bereitstellen. Öffentliche Netzwerke wie das Internet werden gelegentlich als Wide Area Network oder WAN bezeichnet. The building 100 may further include a private network that is accessible both wirelessly and via cable connections, and which may also be referred to as a local area network (LAN). Network devices in the private network can alarm systems 105 and 107 , Thermostats 110 and 112 , the computer 124 and the central control 130 include. In one embodiment, the private network is implemented using the router 122 which provides routing, wireless access point functionality, a firewall, and multiple wired port ports for connecting various wired network devices, such as wireless LAN devices. For example, the computer 124 can provide. Wireless communication between the router 122 and networked devices can be done using an 802.11 protocol. The router 122 may further provide access to a public network such as the Internet or the cloud for network devices via a cable modem, a DSL modem and an Internet Service Provider (ISP) or a provider of other public network services. Public networks, such as the Internet, are sometimes referred to as wide area networks or WANs.
Beispielsweise kann der Zugang zum Internet vernetzten Geräten wie dem System 105 oder dem Thermostaten 110 ermöglichen, mit einer von dem Gebäude 100 entfernten Einrichtung oder einem Server zu kommunizieren. Der entfernte Server oder die entfernte Einrichtung können ein Account-Management-Programm ausführen, das verschiedene vernetzte, in dem Gebäude 100 enthaltene Geräte verwaltet. Beispielsweise kann gemäß hierin erörterten Ausführungsformen das System 105 im Zusammenhang von Gefahrenmeldesystemen periodisch Daten über den Router 122 zum entfernten Server hochladen. Falls ein Gefahrenereignis detektiert wird, kann der entfernte Server oder die entfernte Einrichtung weiter eine Nachricht über das Ereignis erhalten, nachdem das System 105 die Mitteilung über den Router 122 kommuniziert hat. Auf ähnliche Weise kann das System 105 Daten (z. B. Befehle oder Software-Updates) über den Router 122 vom Account-Management-Programm empfangen.For example, access to the Internet can be networked devices such as the system 105 or the thermostat 110 allow with one of the building 100 remote device or a server to communicate. The remote server or remote facility can run an account management program that has various networked, in the building 100 managed devices. For example, according to embodiments discussed herein, the system 105 in the context of hazard detection systems periodically data via the router 122 upload to the remote server. If a hazard event is detected, the remote server or remote device may continue to receive a message about the event after the system 105 the message about the router 122 has communicated. Similarly, the system can 105 Data (such as commands or software updates) through the router 122 received from the account management program.
Das Gefahrenmeldesystem 105 kann in einem von mehreren unterschiedlichen Stromverbrauchs-Modi arbeiten. Jeder Modus kann durch die vom System 105 ausgeführten Merkmale und die Konfiguration des Systems 105 in Bezug auf den Verbrauch unterschiedlicher Strommengen charakterisiert werden. Jeder Stromverbrauchs-Modus entspricht einer Menge von durch das Gefahrenmeldesystem 105 verbrauchtem Strom, und die Menge des verbrauchten Stroms kann von einer geringsten Menge bis zu einer Höchstmenge schwanken. Einer der Stromverbrauchs-Modi entspricht der geringsten Menge des Stromverbrauchs, und ein anderer Stromverbrauchs-Modus entspricht der Höchstmenge des Stromverbrauchs, und alle anderen Stromverbrauchs-Modi liegen zwischen der niedrigsten und der höchsten Menge des Stromverbrauchs. Beispiele für Stromverbrauchs-Modi können einen Inaktivitäts-Modus, einen Log-Update-Modus, einen Software-Update-Modus, einen Alarmmodus, einen Voralarmmodus, einen Stummschaltmodus und einen Nachtbetriebsmodus beinhalten. Diese Stromverbrauchs-Modi sind rein beispielhaft und sollen nicht eingrenzend sein. Zusätzliche oder weniger Stromverbrauchs-Modi können vorliegen. Weiter soll jede begriffsbestimmende Charakterisierung der unterschiedlichen hierin beschriebenen Modi nicht umfassend sein, sondern vielmehr einen generellen Kontext jedes Modus bereitstellen.The danger detection system 105 can work in one of several different power consumption modes. Each mode can by the system 105 executed features and the configuration of the system 105 be characterized in terms of consumption of different amounts of electricity. Each power consumption mode corresponds to an amount of the hazard detection system 105 consumed electricity, and the amount of electricity consumed may vary from a least amount to a maximum amount. One of the power consumption modes corresponds to the lowest amount of power consumption, and another power consumption mode corresponds to the maximum amount of power consumption, and all other power consumption modes are between the lowest and the highest amount of power consumption. Examples of power consumption modes may include an inactivity mode, a log update mode, a software update mode, an alarm mode, a pre-alarm mode, a mute mode, and a night mode of operation. These power consumption modes are purely exemplary and are not intended to be limiting. Additional or less power consumption modes may be present. Furthermore, any conceptual characterization of the various modes described herein is not intended to be exhaustive, but rather to provide a general context of each mode.
Obwohl ein oder mehrere Zustände der Sensorzustandsmaschinen und Systemzustandsmaschinen in einem oder mehreren der Stromverbrauchs-Modi implementiert sein können, können die Stromverbrauchs-Modi und Zustände unterschiedlich sein. Beispielsweise wird die Nomenklatur der Stromverbrauchs-Modi verwendet in Zusammenhang mit verschiedenen Strom-Budgetierungssystemen, die detaillierter erläutert sind in der gemeinschaftlich beanspruchten, gleichzeitig anhängigen US-Patentanmeldung Nr. _/__,__, gleichzeitig hiermit eingereicht (Attorney Docket Nr. GP-5742-00-US), und US-Patentanmeldung Nr. _/__,__, gleichzeitig hiermit eingereicht (Attorney Docket Nr. GP-5744-00-US), die jeweils durch Bezugnahme in ihrer Gesamtheit hierin übernommen werden.Although one or more states of the sensor state machines and system state machines may be implemented in one or more of the power consumption modes, the power consumption modes and states may be different. For example, the nomenclature of the power consumption modes is used in the context of various power budgeting systems, which are explained in more detail in copending, co-pending U.S. Patent Application No. / __, __, filed concurrently herewith (Attorney Docket No. GP-5742 -00-US), and US Patent Application No. _ / __, __, filed concurrently herewith (Attorney Docket No. GP-5744-00-US), each of which is incorporated herein by reference in its entirety.
2 zeigt ein veranschaulichendes Blockdiagramm eines in einem veranschaulichenden Gebäude 200 verwendeten Gefahrenmeldesystems 205 gemäß einigen Ausführungsformen. 2 zeigt auch ein wahlfreies Gefahrenmeldesystem 207 und einen Router 222. Die Gefahrenmeldesysteme 205 und 207 können den Gefahrenmeldesystemen 105 und 107 aus 1 ähneln, das Gebäude 200 kann ähnlich dem Gebäude 100 aus 1 sein, und der Router 222 kann dem Router 122 aus 1 ähneln. Das Gefahrenmeldesystem 205 kann mehrere Komponenten beinhalten, einschließlich des Systemprozessors 210, der drahtlosen Hochleistungs-Kommunikationsschaltung 212 mit Antenne, der drahtlosen Kommunikationsschaltung 214 mit Antenne und niedriger Leistung, des nichtflüchtigen Speichers 216, des Lautsprechers 218, der Sensoren 220, die einen oder mehrere Sicherheitssensoren 221 und einen oder mehrere nicht sicherheitsrelevanten Sensoren 222 beinhalten können, sowie des Sicherheitsprozessors 230, des Alarms 234, der Stromquelle 240, der Stromwandlerschaltung 242, der Hochqualitäts-Leistungsschaltung 243 und der Leistungsaustastschaltung 244. Das Gefahrenmeldesystem 205 kann betrieben werden, um ausfallsichere Sicherheitserkennungsmerkmale und Benutzerschnittstellenmerkmale unter Verwendung von Schaltungstopologie und Strom-Budgetierungsverfahren bereitzustellen, die den Stromverbrauch minimieren. 2 FIG. 12 is an illustrative block diagram of one in an illustrative building. FIG 200 used alarm system 205 according to some embodiments. 2 also shows an optional hazard detection system 207 and a router 222 , The danger detection systems 205 and 207 can alarm systems 105 and 107 out 1 resemble the building 200 can be similar to the building 100 out 1 be, and the router 222 can the router 122 out 1 resemble. The danger detection system 205 can include several components, including the system processor 210 , the wireless high-performance communication circuit 212 with antenna, the wireless communication circuit 214 with antenna and low power, non-volatile memory 216 , the speaker 218 , the sensors 220 containing one or more safety sensors 221 and one or more non-safety related sensors 222 and the security processor 230 , the alarm 234 , the power source 240 , the current transformer circuit 242 , the high-quality power circuit 243 and the power blanking circuit 244 , The danger detection system 205 can be operated to provide fail-safe security features and Provide user interface features using circuit topology and power budgeting techniques that minimize power consumption.
Das Gefahrenmeldesystem 205 kann eine gegabelte Prozessorschaltungs-Topologie zur Abwicklung der Funktionen des Systems 205 verwenden. Sowohl der Systemprozessor 210 als auch der Sicherheitsprozessor 230 können auf der gleichen Leiterplatte im System 205 vorliegen, aber unterschiedliche Aufgaben ausführen. Der Systemprozessor 210 ist ein größerer und leistungsfähigerer Prozessor, der mehr Leistung verbrauchen kann als der Sicherheitsprozessor 230. Das heißt, dass der Systemprozessor 210, wenn beide Prozessoren 210 und 230 aktiv sind, mehr Strom verbraucht als der Prozessor 230. Entsprechend kann der Prozessor 210, wenn beide Prozessoren inaktiv sind, mehr Strom verbrauchen als der Prozessor 230. Der Systemprozessor 210 kann betrieben werden, um Benutzerschnittstellenmerkmale abzuarbeiten. Beispielsweise kann der Prozessor 210 drahtlosen Datenverkehr über die drahtlosen Kommunikationsschaltungen 212 bzw. 214 sowohl mit hoher als auch mit niedriger Leistung leiten, auf nichtflüchtigen Speicher 216 zugreifen, mit dem Prozessor 230 kommunizieren und die Audio-Ausgabe aus dem Lautsprecher 218 bewirken. Als weiteres Beispiel kann der Prozessor 210 von einem oder mehreren Sensoren 220 erfasste Daten überwachen, um zu entscheiden, ob Maßnahmen ergriffen werden müssen (z. B. Abschalten eines schrillen Alarms als Reaktion auf einen benutzerinitiierten Vorgang der Stummschaltung des Alarms).The danger detection system 205 may be a forked processor circuit topology for handling the functions of the system 205 use. Both the system processor 210 as well as the security processor 230 can on the same circuit board in the system 205 exist, but perform different tasks. The system processor 210 is a larger and more powerful processor that can consume more power than the security processor 230 , That is, the system processor 210 if both processors 210 and 230 are active, consuming more power than the processor 230 , Accordingly, the processor 210 if both processors are idle, consume more power than the processor 230 , The system processor 210 can be operated to handle user interface features. For example, the processor 210 wireless data traffic over the wireless communication circuits 212 respectively. 214 with both high and low power on nonvolatile memory 216 access, with the processor 230 communicate and the audio output from the speaker 218 cause. As another example, the processor 210 from one or more sensors 220 Monitor captured data to determine if action needs to be taken (eg turning off a high-pitched alarm in response to a user-initiated alarm muting process).
Der Sicherheitsprozessor 230 kann betrieben werden, um sicherheitsbezogene Tasks des Systems 205 oder andere Task-Typen auszuführen, die die Überwachung von in Bezug auf das Gefahrenmeldesystem 205 externe Umgebungsbedingungen (z. B. Temperatur, Feuchtigkeit, Rauch, Kohlenmonoxid, Bewegung, Lichtintensität etc.) einbeziehen. Der Sicherheitsprozessor 230 kann einen oder mehrere der Sensoren 220 abfragen und den Alarm 234 aktivieren, wenn einer oder mehrere der Sensoren 220 angeben, dass ein Gefahrenereignis detektiert worden ist. Der Prozessor 230 kann unabhängig vom Prozessor 210 arbeiten und den Alarm 234 ungeachtet des Status des Prozessors 210 aktivieren. Falls der Prozessor 210 beispielsweise eine aktive Funktion ausführt (z. B. Ausführung eines Wi-Fi-Updates) oder wegen Strombeschränkungen abgeschaltet wird, kann der Prozessor 230 den Alarm 234 aktivieren, wenn ein Gefahrenereignis detektiert wird. Bei einigen Ausführungsformen kann die auf dem Prozessor 230 ausgeführte Software permanent festgelegt sein und nie über ein Software- oder Firmware-Update aktualisiert werden, nachdem das System 205 das Werk verlassen hat.The security processor 230 can be operated to perform safety-related tasks of the system 205 or other task types that perform the monitoring of in relation to the hazard detection system 205 Include external environmental conditions (eg temperature, humidity, smoke, carbon monoxide, movement, light intensity, etc.). The security processor 230 can be one or more of the sensors 220 query and alarm 234 activate if one or more of the sensors 220 indicate that a hazard event has been detected. The processor 230 can be independent of the processor 210 work and the alarm 234 regardless of the status of the processor 210 activate. If the processor 210 For example, if it performs an active function (such as performing a Wi-Fi update) or is turned off due to power restrictions, the processor may 230 the alarm 234 activate when a hazard event is detected. In some embodiments, that may be on the processor 230 Running software must be permanently set and never updated via a software or firmware update after the system 205 left the factory.
Im Vergleich zum Prozessor 210 ist der Prozessor 230 ein weniger Strom verbrauchender Prozessor. Die Verwendung des Prozessors 230 anstelle des Prozessors 210 zum Überwachen einer Untermenge von Sensoren 220 ergibt daher eine Stromeinsparung. Falls der Prozessor 210 die Sensoren 220 konstant überwachen würde, könnte die Stromeinsparung nicht erzielt werden. Zusätzlich zu der durch die Verwendung des Prozessors 230 zur Überwachung der Untermenge von Sensoren 220 erzielten Stromeinsparung stellt die Gabelung der Prozessoren auch sicher, dass die Sicherheitsüberwachung und die Kern-Überwachung und die Alarmfunktionen des Systems 205 unabhängig davon arbeiten, ob der Prozessor 210 arbeitet. Beispielsweise und ohne diesbezügliche Einschränkung kann ein Systemprozessor 210 einen Prozessor mit relativ hoher Leistungsaufnahme umfassen, wie z. B. einen Freescale Semiconductor K60 Microcontroller, während der Sicherheitsprozessor 230 einen Prozessor mit relativ niedriger Leistungsaufnahme umfassen kann, wie z. B. einen Freescale Semiconductor KL15 Microcontroller. Der Gesamtbetrieb des Gefahrenmeldesystems 205 umfasst eine zweckmäßig strukturierte funktionelle Überlappung von Systemprozessor 210 und Sicherheitsprozessor 230, wobei der Systemprozessor 210 ausgewählte erweiterte Funktionen höherer Ebene ausführt, die möglicherweise konventionell nicht mit Gefahrenmeldeeinheiten assoziiert sind (z. B. erweiterte Benutzerschnittstellen- und Kommunikationsfunktionen; verschiedene rechenintensive Algorithmen zum Erkennen von Muster im Nutzerverhalten oder von Muster bei den Umgebungsbedingungen; Algorithmen, um beispielsweise die Helligkeit einer LED-Nachtbeleuchtung in Abhängigkeit von Helligkeitspegeln der Umgebung zu steuern; Algorithmen, um beispielsweise den Lautstärkepegel eines integrierten Lautsprechers für interne Sprachanlagenfunktionen zu regeln; Algorithmen, um beispielsweise die Ausgabe von an Nutzer gerichteten Sprachbefehlen zu steuern; Algorithmen zum Hochladen von Protokolldaten auf einen zentralen Server; Algorithmen zum Aufbau einer Netzeinbindung; Algorithmen zum Ermöglichen von Updates für den programmierten Funktionsumfang von einem oder mehreren Elementen des Gefahrenmeldesystems 205, wie z. B. des Sicherheitsprozessors 230, der drahtlosen Hochleistungs-Kommunikationsschaltung 212, der drahtlosen Kommunikationsschaltung 214 mit niedriger Leistung, des Systemprozessor 210 selbst usw.), und wobei der Sicherheitsprozessor 230 die eher grundlegenden Funktionen ausführt, die möglicherweise konventionell mit Gefahrenmeldeeinheiten assoziiert sind (z. B. Rauch- und CO-Überwachung, Auslösen von schrillen/summenden Alarmen bei Gefahrerkennung). Beispielsweise und nicht einschränkend kann der Systemprozessor 210 in der Größenordnung von 18 mW verbrauchen, wenn er in einem aktiven Zustand mit relativ hoher Leistung ist und eine oder mehrere seiner zugeordneten erweiterten Funktionen ausführt, wohingegen der Sicherheitsprozessor 230 nur in der Größenordnung von 0,05 mW verbrauchen könnte, wenn er seine grundlegenden Überwachungsfunktionen durchführt. Wiederum beispielsweise und nicht einschränkend kann der Systemprozessor 210 auch nur in der Größenordnung von 0,005 mW verbrauchen, wenn er in einem inaktiven Zustand mit relativ hoher Leistung ist und wenn die von ihm ausgeführten erweiterten Funktionen zweckmäßig gewählt und getaktet sind, sodass der Systemprozessor nur etwa 0,05% der Zeit im aktiven Zustand mit relativ hoher Leistung ist und den Rest der Zeit im inaktiven Zustand mit relativ niedriger Leistung verbleibt. Der Sicherheitsprozessor 230, der bei der Durchführung einer grundlegenden Überwachungsfunktion nur eine durchschnittliche Stromaufnahme von 0,05 W benötigt, muss seine grundlegenden Überwachungsfunktionen selbstverständlich über 100% der Zeit ausführen. Gemäß einer oder mehreren Ausführungsformen ist die zweckmäßig strukturierte funktionelle Überlappung des Systemprozessors 210 und des Sicherheitsprozessors 230 so konzipiert, dass das Gefahrenmeldesystem 205 dank des fortlaufenden Betriebs des Sicherheitsprozessors 230 grundlegende Überwachung und schrille/summende Alarmausgabe bei Gefahrenzuständen auch dann ausführen kann, wenn der Systemprozessor 210 inaktiviert oder betriebsuntüchtig ist. Während der Systemprozessor 210 konfiguriert und programmiert ist, um viele unterschiedliche Fähigkeiten bereitzustellen, damit die Gefahrenmeldeeinheit 205 ein zweckmäßiger, wünschenswerter, aktualisierbarer, bedienerfreundlicher, intelligenter, vernetzter Erfassungs- und Kommunikationsknoten zur Verbesserung der Smart-Home-Umgebung wird, sind seine Funktionen vorteilhaft im Sinne einer Überlappung oder Ergänzung der durch den Sicherheitsprozessor 230 gesteuerten Kernsicherheitsvorgänge bereitgestellt, sodass selbst falls Betriebsprobleme oder Probleme mit dem Systemprozessor 210 und seinem erweiterten Funktionsumfang auftreten, die zugrunde liegenden sicherheitsrelevanten Zwecke und Funktionen des Gefahrendetektors 205 durch den Betrieb des Sicherheitsprozessors 230 weiterhin andauern, und zwar mit oder ohne den Systemprozessor 210 und seinen erweiterten Funktionsumfang.Compared to the processor 210 is the processor 230 a less power consuming processor. The use of the processor 230 instead of the processor 210 for monitoring a subset of sensors 220 therefore results in a power saving. If the processor 210 the sensors 220 constant monitoring, the electricity savings could not be achieved. In addition to that through the use of the processor 230 to monitor the subset of sensors 220 achieved power saving, the bifurcation of the processors also ensures that the security monitoring and core monitoring and alarm functions of the system 205 regardless of whether the processor 210 is working. For example, and without limitation, a system processor 210 include a processor with relatively high power consumption, such. For example, a Freescale Semiconductor K60 microcontroller while the security processor 230 may include a processor with relatively low power consumption, such. A Freescale Semiconductor KL15 microcontroller. The overall operation of the hazard detection system 205 includes a purpose-structured functional overlap of system processor 210 and security processor 230 , where the system processor 210 perform selected extended-level advanced functions that may not be conventionally associated with hazard reporting units (eg, advanced user interface and communication functions, various computation-intensive algorithms for detecting patterns in user behavior or patterns in environmental conditions, algorithms such as the brightness of an LED To control night-time lighting according to ambient brightness levels, algorithms to control, for example, the volume level of an integrated loudspeaker for internal voice facility functions, algorithms to control, for example, the output of user-directed voice commands, algorithms for uploading log data to a central server; Algorithms for establishing a network integration; algorithms for enabling updates to the programmed functionality of one or more elements of the hazard detection system 205 , such as B. the security processor 230 , the wireless high-performance communication circuit 212 , the wireless communication circuit 214 with low power, the system processor 210 itself, etc.), and where the security processor 230 performs the more basic functions that may be conventionally associated with hazard alarms (eg smoke and CO monitoring, triggering of shrill / buzzer alarms in case of hazard detection). By way of example and not limitation, the system processor 210 on the order of 18 mW when in an active state of relatively high power and performing one or more of its associated advanced functions, whereas security processor 230 only on the order of 0.05 mW, if it carries out its basic monitoring functions. Again, by way of example and not limitation, the system processor 210 even in the order of 0.005 mW when in a relatively high power inactive state, and when the advanced functions it performs are properly selected and timed so that the system processor is only active about 0.05% of the time in the active state is relatively high power and remains in the inactive state with relatively low power for the remainder of the time. The security processor 230 Of course, if you only need an average power consumption of 0.05 W when performing a basic monitoring function, you will need to perform your basic monitoring functions over 100% of the time. In one or more embodiments, the suitably structured functional overlap of the system processor is 210 and the security processor 230 designed so that the hazard detection system 205 thanks to the continuous operation of the security processor 230 can perform basic monitoring and shrill / buzzer alarm output in dangerous conditions even when the system processor 210 is inactivated or inoperable. While the system processor 210 is configured and programmed to provide many different capabilities to allow the hazard alarm unit 205 a convenient, desirable, updatable, easy to use, intelligent, networked detection and communication node to improve the smart home environment, its functions are advantageous in terms of overlap or supplementation by the security processor 230 provided with controlled core security operations, so even if operating problems or problems with the system processor 210 and its extended functionality, the underlying security-related purposes and functions of the hazard detector 205 through the operation of the security processor 230 continue, with or without the system processor 210 and its extended functionality.
Die drahtlose Kommunikationsschaltung 212 mit hoher Leistung kann beispielsweise ein Wi-Fi-Modul sein, das zur Kommunikation entsprechend einem der 802.11-Protokolle fähig ist. Beispielsweise kann die Schaltung 212 unter Verwendung von Wi-Fi-Teilenummer BCM43362, erhältlich von Murata, implementiert sein. In Abhängigkeit von einem Betriebsmodus des Systems 205 kann die Schaltung 212 in einem „Schlaf”-Zustand mit niedriger Stromaufnahme oder in einem „aktiven Zustand” bei hoher Leistung betrieben werden. Wenn das System 205 beispielsweise in einem Inaktivitätsmodus (Idle) ist, kann die Schaltung 212 im „Schlaf”-Zustand sein. Befindet sich das System 205 in einem Nicht-Ruhe-Modus, wie z. B. einem Wi-Fi-Update-Modus, einem Software-Update-Modus oder einem Alarmmodus, kann die Schaltung 212 in einem „aktiven” Zustand sein. Wenn das System 205 beispielsweise in einem aktiven Alarmmodus ist, kann die Hochleistungsschaltung 212 mit dem Router 222 kommunizieren, sodass eine Meldung zu einem entfernten Server oder Gerät versandt werden kann.The wireless communication circuit 212 For example, with high performance, a Wi-Fi module capable of communicating according to one of the 802.11 protocols may be used. For example, the circuit 212 using Wi-Fi part number BCM43362, available from Murata. Depending on a mode of operation of the system 205 can the circuit 212 be operated in a "sleep" state with low power consumption or in an "active state" at high power. If the system 205 For example, in an inactivity mode (idle), the circuit may 212 be in the "sleep" state. Is the system located? 205 in a non-idle mode, such as For example, a Wi-Fi update mode, a software update mode or an alarm mode, the circuit can 212 be in an "active" state. If the system 205 For example, in an active alarm mode, the high power circuit 212 with the router 222 communicate so that a message can be sent to a remote server or device.
Die drahtlose Kommunikationsschaltung 214 mit niedriger Leistung kann beispielsweise ein Low-Power-Wireless-Personal-Area-Network-(6LoWPAN)-Modul oder ein ZigBee-Modul sein, das zur Kommunikation entsprechend einem 802.15.4-Protokoll fähig ist. Beispielsweise kann die Schaltung 214 bei einer Ausführungsform die Teilenummer EM357 SoC von Silicon Laboratories sein. In Abhängigkeit vom Betriebsmodus des Systems 205 kann die Schaltung 214 in einem „Horch”-Zustand mit relativ niedriger Stromaufnahme oder in einem „Sende”-Zustand bei relativ hoher Leistung betrieben werden. Befindet sich das System 205 im Inaktivitäts-Modus, im Wi-Fi-Update-Modus (der die Verwendung der Hochleistungs-Kommunikationsschaltung 212 erfordern kann) oder im Software-Update-Modus, kann die Schaltung 214 im „Horch” Zustand sein. Wenn das System 205 im Alarmmodus ist, kann die Schaltung 214 Daten übertragen, sodass die drahtlose Kommunikationsschaltung im System 207 mit niedriger Leistung Daten empfangen kann, die angeben, dass das System 205 Alarme ausgibt. Auch wenn es möglich ist, die drahtlose Hochleistungs-Kommunikationsschaltung 212 zum Warten auf Alarmereignisse einzusetzen, kann es daher energieeffizienter sein, zu diesem Zweck die Schaltung 214 mit geringer Stromaufnahme zu verwenden. Stromeinsparungen lassen sich weiter erzielen, wenn mehrere Gefahrenmeldesysteme oder andere Systeme mit Schaltung 214 mit geringer Stromaufnahme ein drahtloses Verbundnetzwerk bilden.The wireless communication circuit 214 for example, a low power wireless personal area network (6LoWPAN) module or a ZigBee module capable of communicating according to an 802.15.4 protocol may be low power. For example, the circuit 214 in one embodiment, be part number EM357 SoC from Silicon Laboratories. Depending on the operating mode of the system 205 can the circuit 214 be operated in a "listening" state with relatively low power consumption or in a "transmit" state at relatively high power. Is the system located? 205 in inactivity mode, in Wi-Fi update mode (the use of the high-performance communication circuit 212 may require) or in software update mode, the circuit can 214 to be in the "listening" state. If the system 205 in alarm mode, the circuit can 214 Transfer data so that the wireless communication circuitry in the system 207 with low power can receive data indicating that the system 205 Issues alarms. Although it is possible, the high-performance wireless communication circuit 212 to use it to wait for alarm events, it may therefore be more energy efficient, for this purpose the circuit 214 to use with low power consumption. Power savings can be further achieved if multiple hazard detection systems or other systems with circuit 214 form a wireless interconnected network with low power consumption.
Stromeinsparungen lassen sich auch erzielen, weil, damit die Schaltung mit geringer Stromaufnahme 214 kontinuierlich nach von einer anderen Schaltung mit geringer Stromaufnahme gesendeten Daten suchen kann, die Schaltung 214 konstant in ihrem „Horch”-Zustand betrieben werden kann. Dieser Zustand verbraucht Strom, und, obwohl er mehr Strom verbrauchen kann als die in ihrem Ruhezustand betriebene Hochleistungsschaltung 212, kann der eingesparte Strom im Vergleich zum periodischen Aktivieren der Hochleistungsschaltung 214 bedeutend sein. Wenn die Hochleistungsschaltung 212 in ihrem aktiven Status ist und die Schaltung 214 mit geringer Stromaufnahme in ihrem Sendestatus ist, kann die Hochleistungsschaltung 212 wesentlich mehr Strom verbrauchen als die Schaltung 214 mit geringer Stromaufnahme.Power savings can also be achieved, because, so that the circuit with low power consumption 214 can continuously search for data sent by another circuit with low power consumption, the circuit 214 can be operated constantly in their "listening" state. This condition consumes power, and although it can consume more power than the high power circuit operated in its quiescent state 212 , the saved power compared to the periodic activation of the high power circuit 214 be significant. When the high power circuit 212 in their active status is and the circuit 214 With low power consumption in its transmit state, the high power circuit can 212 consume much more power than the circuit 214 with low power consumption.
Bei einigen Ausführungsformen kann die drahtlose Kommunikationsschaltung 214 mit geringer Stromaufnahme durch ihren relativ geringen Stromverbrauch gekennzeichnet werden sowie durch ihre Fähigkeit, gemäß einem ersten, durch relativ geringen Datendurchsatz gekennzeichneten Protokoll drahtlos zu kommunizieren, und die drahtlose Hochleistungs-Kommunikationsschaltung 212 lässt sich durch ihren relativ hohen Stromverbrauch charakterisieren sowie durch ihre Fähigkeit, gemäß einem zweiten, durch relativ hohen Datendurchsatz gekennzeichneten Protokoll drahtlos zu kommunizieren. Das zweite Protokoll kann eine viel kompliziertere Modulation als das erste Protokoll haben. In some embodiments, the wireless communication circuit 214 low power consumption, and their ability to wirelessly communicate according to a first protocol characterized by relatively low data throughput, and the high performance wireless communication circuitry 212 can be characterized by its relatively high power consumption and its ability to wirelessly communicate according to a second protocol characterized by relatively high data throughput. The second protocol may have a much more complicated modulation than the first protocol.
Bei einigen Ausführungsformen kann die drahtlose Kommunikationsschaltung 214 mit geringer Stromaufnahme ein mit Mesh-Netzwerken kompatibles Modul sein, das keinen Zugangspunkt oder Router benötigt, um mit Einrichtungen in einem Netzwerk zu kommunizieren. Mesh-Netzkompatibilität kann Einrichtungen beinhalten, die es mit Mesh-Netzen kompatiblen Modulen ermöglichen, andere mit Mesh-Netzen kompatible Module in der Nähe zu registrieren, sodass Daten über benachbarte Netzwerke weitergeleitet werden können. Mesh-Netzkompatibilität ist das wesentliche Merkmal des 802.15.4-Protokolls. Dagegen ist die drahtlose Hochleistungs-Kommunikationsschaltung 212 kein mit Mesh-Netzwerken kompatibles Modul, und sie erfordert einen Zugangspunkt oder Router, um mit Einrichtungen in einem Netzwerk zu kommunizieren. Wenn daher ein erstes Gerät mit Schaltung 212 Daten an ein anderes Gerät mit Schaltung 212 kommunizieren will, muss das erste Gerät mit dem Router kommunizieren, der die Daten dann zum zweiten Gerät überträgt. Somit besteht keine Punkt-zu-Punkt-Kommunikation an sich, wenn die Schaltung 212 die Verwendung eines Routers erfordert. Bei anderen Ausführungsformen kann die Schaltung 212 Punkt-zu-Punkt-Kommunikation über ein Wi-Fi-Direct-Kommunikationsprotokoll ausführen. Der Wi-Fi-Direct-Kommunikationsstandard kann es Geräten leicht ermöglichen, sich miteinander zu verbinden, ohne dass ein Router benötigt wird. So kann es eine beispielhafte Verwendung von Wi-Fi Direct dem Gefahrenmeldesystem 105 ermöglichen, direkt mit dem Thermostaten 110 zu kommunizieren.In some embodiments, the wireless communication circuit 214 with low power consumption, a mesh network compatible module that does not require an access point or router to communicate with facilities in a network. Mesh mesh compatibility can include facilities that allow mesh-network compatible modules to register other mesh-compatible modules nearby, allowing data to be forwarded across adjacent networks. Mesh network compatibility is the key feature of the 802.15.4 protocol. By contrast, the high-performance wireless communication circuit 212 not a mesh network compatible module, and it requires an access point or router to communicate with devices in a network. Therefore, if a first device with circuit 212 Data to another device with circuit 212 the first device must communicate with the router, which then transmits the data to the second device. Thus, there is no point-to-point communication per se when the circuit 212 requires the use of a router. In other embodiments, the circuit 212 Perform point-to-point communication over a Wi-Fi Direct communication protocol. The Wi-Fi Direct communication standard can easily allow devices to connect without the need for a router. So it may be an exemplary use of Wi-Fi Direct's hazard detection system 105 allow, directly with the thermostat 110 to communicate.
Der nichtflüchtige Speicher 216 kann ein beliebiger geeigneter permanenter Speicherort sein, wie z. B. NAND-Flash, eine Festplatte, NOR, ROM oder Phasenwechselspeicher. Bei einer Ausführungsform kann der nichtflüchtige Speicher 216 Audio-Clips speichern, die vom Lautsprecher 218 wiedergegeben werden können. Die Audio-Clips können Installationsanweisungen oder Warnungen in einer oder mehreren Sprachen beinhalten. Der Lautsprecher 218 kann ein beliebiger geeigneter Lautsprecher sein, der zur Wiedergabe von Klängen oder Audio-Dateien betrieben werden kann. Der Lautsprecher 218 kann einen Verstärker (nicht dargestellt) beinhalten.The non-volatile memory 216 can be any suitable permanent storage location, such as NAND flash, hard disk, NOR, ROM or phase change memory. In one embodiment, the nonvolatile memory 216 Save audio clips from the speaker 218 can be played back. The audio clips may include installation instructions or warnings in one or more languages. The speaker 218 can be any suitable speaker that can be used to play sounds or audio files. The speaker 218 may include an amplifier (not shown).
Sensoren 220 können vom Systemprozessor 210 und vom Sicherheitsprozessor 230 überwacht werden, und sie können Sicherheitssensoren 221 und nicht sicherheitsrelevante Sensoren 222 beinhalten. Einer oder mehrere der Sensoren 220 können exklusiv entweder durch den Systemprozessor 210 oder durch den Sicherheitsprozessor 230 überwacht werden. Die Überwachung eines Sensors entsprechend der hierin verwendeten Definition bezieht sich auf die Fähigkeit eines Prozessors, Daten von dem überwachten Sensor zu erfassen. Das heißt, dass ein bestimmter Prozessor für die Erfassung von Sensordaten und möglicherweise für ihre Speicherung in einem Sensorprotokoll verantwortlich sein kann, wobei die einmal erfassten Daten aber entweder in Form von Protokolldaten oder als Echtzeitdaten für einen anderen Prozessor verfügbar gemacht werden können. Beispielsweise kann der Systemprozessor 210 einen der nicht sicherheitsrelevanten Sensoren 222 überwachen, aber der Sicherheitsprozessor 230 kann nicht denselben nicht sicherheitsrelevanten Sensor überwachen. Bei einer anderen Ausführungsform kann der Sicherheitsprozessor 230 jeden Sicherheitssensor 221 überwachen, aber er kann die erfassten Sensordaten dem Systemprozessor 210 bereitstellen.sensors 220 can from the system processor 210 and the security processor 230 They can be monitored and they can use safety sensors 221 and not safety-related sensors 222 include. One or more of the sensors 220 can be exclusive by either the system processor 210 or through the security processor 230 be monitored. The monitoring of a sensor as defined herein refers to the ability of a processor to acquire data from the monitored sensor. That is, a particular processor may be responsible for capturing sensor data and possibly storing it in a sensor protocol, but the data once captured may be made available either in the form of log data or as real-time data for another processor. For example, the system processor 210 one of the non-safety-relevant sensors 222 monitor, but the security processor 230 can not monitor the same non-safety related sensor. In another embodiment, the security processor 230 every safety sensor 221 but he can capture the captured sensor data to the system processor 210 provide.
Die Sicherheitssensoren 221 können Sensoren beinhalten, die notwendig sind, um sicherzustellen, dass das Gefahrenmeldesystem 205 seine Umgebung auf Gefahrenzuständen überwachen und Nutzer warnen kann, wenn Gefahrenzuständen erkannt werden, und alle anderen zum Erkennen einer Gefahrenbedingung nicht erforderlichen Sensoren sind nicht sicherheitsrelevante Sensoren 222. Bei einigen Ausführungsformen schließen Sicherheitssensoren 221 nur solche Sensoren ein, die zum Erkennen einer Gefahrenbedingung notwendig sind. Falls die Gefahrenbedingung beispielsweise Rauch und Feuer einschließt, könnten die Sicherheitssensoren nur einen Rauchsensor und mindestens einen Hitzesensor beinhalten. Andere Sensoren wie nicht sicherheitsrelevante Sensoren könnten als Teil des Systems 205 eingeschlossen sein, aber sie könnten zum Erkennen von Rauch oder Feuer nicht erforderlich sein. Falls die Gefahrenbedingung Kohlenmonoxid einschließt, könnte der Sicherheitssensor als weiteres Beispiel ein Kohlenmonoxidsensor sein, und zur Durchführung dieser Aufgabe könnte kein weiterer Sensor benötigt werden.The safety sensors 221 may include sensors that are necessary to ensure that the hazard detection system 205 monitor its environment for hazardous conditions and warn users when hazardous conditions are detected, and all other sensors not required to detect a hazard condition are not safety related sensors 222 , In some embodiments, safety sensors include 221 only those sensors that are necessary to detect a hazard condition. For example, if the hazard condition includes smoke and fire, the safety sensors could include only one smoke sensor and at least one heat sensor. Other sensors such as non-safety related sensors could be part of the system 205 but they may not be needed to detect smoke or fire. As a further example, if the hazard condition includes carbon monoxide, the safety sensor could be a carbon monoxide sensor and no further sensor could be needed to accomplish this task.
Somit können Sensoren, die als notwendig erachtet werden, basierend auf den Funktionen und Merkmalen des Gefahrenmeldesystems 205 unterschiedlich sein. Bei einer Ausführungsform kann ein Gefahrenmeldesystem 205 ein kombiniertes Rauch-, Feuer- und Kohlenmonoxid-Alarmsystem sein. Bei einer derartigen Ausführungsform kann das Erkennungssystem 205 die folgenden benötigten Sicherheitssensoren 221 beinhalten: einen Rauchsensor, einen Kohlenmonoxidsensor (CO) und einen oder mehrere Hitzesensoren. Rauchmelder können Rauch erkennen und verwenden üblicherweise optische Erkennung, Ionisation oder Luftproben-Verfahren. Ein CO-Sensor kann das Vorliegen von Kohlenmonoxid-Gas erkennen, das in Wohngebäuden in der Regel durch offene Flammen, Raumheizer, Warmwasserbereiter, blockierte Schornsteine und Autos generiert wird. Das für elektrochemische CO-Sensoren verwendete Material hat normalerweise eine Einsatzdauer von 5–7 Jahren. Nach Ablauf eines Zeitraums von 5–7 Jahren muss der CO-Sensor daher ersetzt werden. Ein Hitzesensor kann ein Thermistor sein, der ein Typ eines Widerstands mit auf der Basis der Temperatur veränderlichem Widerstandswert ist. Thermistoren können Thermistoren mit negativem Temperaturkoeffizienten (NTC) oder Thermistoren mit positivem Temperaturkoeffizienten (PTC) beinhalten. Weiter kann das Erkennungssystem 205 bei dieser Ausführungsform die folgenden nicht sicherheitsrelevanten Sensoren 222 beinhalten: einen Feuchtigkeitssensor, einen Umgebungslichtsensor, einen Druckknopf-Sensor, einen passiven Infrarotsensor (PIR-Sensor) und einen oder mehrere Ultraschall-Sensoren. Ein Temperatur- und Luftfeuchtesensor kann relativ akkurate Ablesewerte der Temperatur und relativen Luftfeuchtigkeit bereitstellen. Ein Umgebungslichtsensor (ALS) kann Umgebungslicht erkennen, und der Druckknopf-Sensor kann beispielsweise ein Schalter sein, der die Betätigung des Schalters durch einen Benutzer erkennt. Ein PIR-Sensor kann für verschiedene Bewegungserkennungsfunktionen verwendet werden. Ein PIR-Sensor kann von in seinem Erkennungsfeld befindlichen Objekten ausgestrahlte Infrarotstrahlung messen. Ultraschallsensoren können verwendet werden, um das Vorhandensein eines Objekts zu erkennen. Derartige Sensoren können hochfrequente Schallwellen erzeugen und bestimmen, welche Welle(n) vom Sensor zurückempfangen werden. Sensoren 220 können auf einer Leiterplatte (z. B. auf der gleichen Platte, auf der die Prozessoren 210 und 230 montiert werden können), auf einer flexiblen Leiterplatte, in einem Gehäuse des Systems 205, oder in einer Kombination daraus angebracht sein.Thus, sensors that are considered necessary may be based on the functions and features of the hazard detection system 205 be different. In one embodiment, a Alarm system 205 be a combined smoke, fire and carbon monoxide alarm system. In such an embodiment, the recognition system 205 the following required safety sensors 221 include: a smoke sensor, a carbon monoxide (CO) sensor and one or more heat sensors. Smoke detectors can detect smoke and typically use optical detection, ionization or air sampling techniques. A CO sensor can detect the presence of carbon monoxide gas that is typically generated in homes by open flames, space heaters, water heaters, blocked chimneys, and cars. The material used for electrochemical CO sensors normally has a service life of 5-7 years. After a period of 5-7 years, the CO sensor must therefore be replaced. A heat sensor may be a thermistor that is a type of resistor having a temperature-variable resistance value. Thermistors may include negative temperature coefficient (NTC) or positive temperature coefficient (PTC) thermistors. Next, the detection system 205 in this embodiment, the following non-safety related sensors 222 include: a humidity sensor, an ambient light sensor, a push-button sensor, a passive infrared (PIR) sensor and one or more ultrasonic sensors. A temperature and humidity sensor can provide relatively accurate temperature and relative humidity readings. An ambient light sensor (ALS) may detect ambient light, and the push button sensor may be, for example, a switch that detects actuation of the switch by a user. A PIR sensor can be used for various motion detection functions. A PIR sensor can measure infrared radiation emitted by objects located in its detection field. Ultrasonic sensors can be used to detect the presence of an object. Such sensors can generate high frequency sound waves and determine which wave (s) will be received back by the sensor. sensors 220 can on a circuit board (for example, on the same plate on which the processors 210 and 230 can be mounted), on a flexible circuit board, in a housing of the system 205 , or in a combination thereof.
Bei einigen Ausführungsformen können von einem oder mehreren nicht sicherheitsrelevanten Sensoren 222 erfasste Daten durch den gleichen Prozessor erfasst werden, der verwendet wird, um Daten von einem oder mehreren Sicherheitssensoren 221 zu erfassen. Beispielsweise kann der Sicherheitsprozessor 230 betrieben werden, um entsprechend der vorstehenden Erörterung aus Gründen der Stromeinsparung sowohl sicherheitsrelevante als auch nicht sicherheitsrelevante Sensoren 221 bzw. 222 zu überwachen. Obwohl der Sicherheitsprozessor 230 möglicherweise keine der vom nicht sicherheitsrelevanten Sensor 222 erfassten Daten benötigt, um seine Gefahrenüberwachungs- und Alarmfunktionen auszuführen, können die Daten des nicht sicherheitsrelevanten Sensors verwendet werden, um einen erweiterten Funktionsumfang des Gefahrensystems 205 bereitzustellen. Der erweiterte Funktionsumfang kann gemäß verschiedenen hierin erörterten Ausführungsformen mittels Alarmalgorithmen realisiert werden. Die Nicht-Sensor-Daten können beispielsweise vom Systemprozessor 210 genutzt werden, um Systemzustandsmaschinen zu implementieren, die Schnittstellen mit einer oder mehreren Sensorzustandsmaschinen haben können, die im Folgenden detaillierter jeweils in Verbindung mit der Beschreibung zu den begleitenden 3–23 erörtert werden.In some embodiments, one or more non-safety related sensors may be used 222 captured data is captured by the same processor used to collect data from one or more safety sensors 221 capture. For example, the security processor 230 be operated in accordance with the above discussion for the sake of saving power both safety-related and non-safety-related sensors 221 respectively. 222 to monitor. Although the security processor 230 possibly none of the non-safety related sensor 222 data collected to perform its hazard monitoring and alarm functions, the data of the non-safety related sensor can be used to provide extended functionality of the hazard system 205 provide. The extended functionality may be implemented by alarm algorithms according to various embodiments discussed herein. The non-sensor data may be, for example, from the system processor 210 may be used to implement system state machines that may interface with one or more sensor state machines, each of which will be described in more detail below in conjunction with the description of the accompanying drawings 3 - 23 be discussed.
Der Alarm 234 kann ein beliebiger geeigneter Alarm sein, der Benutzer in der Nähe des Systems 205 auf das Vorliegen einer Gefahrenbedingung hinweist. Der Alarm 234 kann auch während Testszenarien aktiviert sein. Der Alarm 234 kann beispielsweise ein piezoelektrischer Summer sein.The alarm 234 can be any suitable alert the user near the system 205 indicates the existence of a hazard. The alarm 234 can also be activated during test scenarios. The alarm 234 For example, it may be a piezoelectric buzzer.
Die Stromquelle 240 kann Strom liefern, um den Betrieb des Systems 205 zu ermöglichen, und sie kann beliebige geeignete Energiequellen beinhalten. Hierin erörterte Ausführungsformen können Wechselstrom, Batteriestrom, eine Kombination aus Wechselstromnetzspannung mit Batterie-Backup und extern zugeführtem Gleichstrom (z. B. USB-gespeisten Strom) beinhalten. Ausführungsformen, die Wechselstrom, Wechselstromnetzspannung mit Batterie-Backup oder extern zugeführten Gleichstrom verwenden, können unterschiedlichen Energiespareinschränkungen unterliegen. Batteriebetriebene Ausführungsformen sind konzipiert, um den Stromverbrauch der begrenzten Energieversorgung zu verwalten, sodass das Gefahrenmeldesystem 205 über einen Mindestzeitraum arbeitet. Bei einigen Ausführungsformen kann der Mindestzeitraum ein (1) Jahr, drei (3) Jahre oder sieben (7) Jahre sein. Bei anderen Ausführungsformen kann der Mindestzeitraum mindestens sieben (7) Jahre, acht (8) Jahre, neun (9) Jahre oder zehn (10) Jahre sein. Netzbetriebene Ausführungsformen sind nicht derart eingeschränkt, da ihre Energieversorgung praktisch unbegrenzt ist. Netzbetriebene Ausführungsformen mit Batteriesicherung können Energiesparmethoden einsetzen, um die Einsatzdauer der Backup-Batterie zu verlängern.The power source 240 can supply power to the operation of the system 205 and may include any suitable source of energy. Embodiments discussed herein may include AC power, battery power, a combination of AC backup power with battery backup, and externally supplied DC power (eg, USB powered power). Embodiments using alternating current, AC mains voltage with battery backup or externally supplied DC may be subject to different power saving constraints. Battery powered embodiments are designed to manage the power consumption of the limited power supply, so the hazard detection system 205 works over a minimum period. In some embodiments, the minimum period may be one (1) year, three (3) years, or seven (7) years. In other embodiments, the minimum period may be at least seven (7) years, eight (8) years, nine (9) years or ten (10) years. Power operated embodiments are not so limited because their power supply is virtually unlimited. Battery-operated, battery-backed embodiments can use energy-saving methods to extend the life of the backup battery.
Bei rein batteriebetriebenen Ausführungsformen kann die Energiequelle 240 eine oder mehrere Batterien oder ein Batteriepaket beinhalten. Die Batterien können aus unterschiedlichen Zusammensetzungen bestehen (z. B. Alkali- oder Lithium-Ionen-Disulfid), und unterschiedliche Endbenutzerkonfigurationen können verwendet werden (z. B. permanent, durch Benutzer ersetzbar oder nicht durch Benutzer ersetzbar). Bei einer Ausführungsform können sechs Li-FeS2-Zellen in zwei Dreierstapeln angeordnet sein. Eine derartige Anordnung kann etwa 27000 mWh gesamter verfügbarer Energie für das System 205 ergeben.In purely battery powered embodiments, the power source may be 240 include one or more batteries or a battery pack. The batteries may be of different compositions (eg, alkali or lithium ion disulfide), and may have different end user configurations used (eg, permanent, user replaceable, or not user replaceable). In one embodiment, six Li-FeS 2 cells may be arranged in two triplicate stacks. Such an arrangement may consume about 27,000 mWh of total available energy to the system 205 result.
Die Stromwandlerschaltung 242 schließt eine Schaltung ein, die Strom von einem Pegel auf einen anderen umsetzt. Mehrere Einheiten der Stromwandlerschaltung 242 können verwendet werden, um die unterschiedlichen für die Komponenten im System 205 benötigten Strompegel bereitzustellen. Eine oder mehrere Einheiten der Stromwandlerschaltung 242 können betrieben werden, um ein durch die Stromquelle 240 zugeführtes Signal in ein unterschiedliches Signal umzuwandeln. Derartige Einheiten der Stromwandlerschaltung 242 können in Form von Abwärtswandlern oder Aufwärtswandlern vorliegen. Beispielsweise kann der Alarm 234 eine höhere Betriebsspannung erfordern als die drahtlose Hochleistungs-Kommunikationsschaltung 212, die eine höhere Betriebsspannung als der Prozessor 210 erfordern kann, sodass alle erforderlichen Spannungen anders sind als die von der Stromquelle 240 gelieferte Spannung. Somit sind, wie sich diesem Beispiel entnehmen lässt, mindestens drei unterschiedliche Einheiten der Stromwandlerschaltung 242 erforderlich.The current transformer circuit 242 includes a circuit that converts current from one level to another. Several units of the current transformer circuit 242 can be used to differentiate the components in the system 205 provide required power levels. One or more units of the current transformer circuit 242 can be operated to a through the power source 240 converted signal into a different signal. Such units of the power converter circuit 242 may be in the form of down-converters or up-converters. For example, the alarm 234 require a higher operating voltage than the high performance wireless communication circuit 212 that has a higher operating voltage than the processor 210 may require, so that all required voltages are different than that of the power source 240 delivered tension. Thus, as can be seen from this example, at least three different units of the current transformer circuit 242 required.
Die Hochqualitäts-Stromschaltung 243 wird betrieben, um ein von einer bestimmten Einheit der Stromwandlerschaltung 242 (z. B. einem Abwärtswandler) geliefertes Signal zu einem anderen Signal zu konditionieren. Die Hochqualitäts-Stromschaltung 243 kann in Form eines Reglers mit niedrigem Abfallstrom (Low-Dropout-Regler) vorliegen. Der Low-Dropout-Regler kann in der Lage sein, ein Signal in höherer Qualität als das von der Stromwandlerschaltung 242 gelieferte Signal bereitzustellen. Somit können bestimmte Komponenten mit Strom „höherer” Qualität als bei anderen Komponenten versorgt werden. Beispielsweise können bestimmte Sicherheitssensoren 221 wie Rauchmelder und CO-Sensoren eine relativ stabile Spannung benötigen, um korrekt ausgeführt zu werden.The high quality power circuit 243 is operated to one of a specific unit of the current transformer circuit 242 condition (e.g., a buck converter) to another signal. The high quality power circuit 243 can be in the form of a regulator with a low waste stream (low dropout regulator). The low-dropout regulator may be able to produce a signal of higher quality than that of the current transformer circuit 242 to provide the delivered signal. Thus, certain components can be supplied with "higher" quality power than other components. For example, certain safety sensors 221 how smoke detectors and CO sensors need a relatively stable voltage to run correctly.
Die Leistungsaustastschaltung 244 kann verwendet werden, um Komponenten selektiv mit einem Powerbus zu koppeln oder davon zu entkoppeln. Das Entkoppeln einer Komponente von einem Powerbus stellt sicher, dass die Komponente keinen Ruhestromverlust erleidet, und kann daher die Einsatzdauer der Batterie über das Maß hinaus verlängern, das gelten würde, wenn die Komponente nicht vom Powerbus entkoppelt wäre. Die Leistungsaustastschaltung 244 kann ein Schalter wie beispielsweise ein MOSFET-Transistor sein. Selbst wenn eine Komponente von einem Powerbus entkoppelt ist und keinen Stromverlust erleidet, kann die Leistungsaustastschaltung 244 selbst eine begrenzte Strommenge verbrauchen. Dieser begrenzte Stromverbrauch ist jedoch geringer als der Ruhestromverlust der Komponente.The power blanking circuit 244 can be used to selectively couple or decouple components from a power bus. Decoupling a component from a power bus ensures that the component does not suffer any quiescent current loss, and therefore, may extend the battery life beyond what would be the case if the component were not decoupled from the power bus. The power blanking circuit 244 may be a switch such as a MOSFET transistor. Even if a component is decoupled from a power bus and is not experiencing power loss, the power blanking circuit may 244 even consume a limited amount of electricity. However, this limited power consumption is less than the quiescent current loss of the component.
Es versteht sich, dass, obwohl das Gefahrenmeldesystem 205 mit zwei separaten Prozessoren, dem Systemprozessor 210 und dem Sicherheitsprozessor 230, beschrieben ist, die bestimmte vorstehend und im Folgenden beschriebene Vorteile bereitstellen können, einschließlich Vorteilen in Bezug auf Stromverbrauch sowie in Bezug auf die Lebensdauer der Kern-Sicherheitsüberwachung und Alarmmeldungen im Fall von Problemen bei der Bereitstellung erweiterter Funktionen, umfasst der Schutzumfang der vorliegenden Lehren auch den Fall, dass eine oder mehrere der verschiedenen hierin beschriebenen Ausführungsformen durch einen oder durch mehr als zwei Prozessoren ausgeführt werden.It is understood that, although the hazard detection system 205 with two separate processors, the system processor 210 and the security processor 230 , which may provide certain advantages described above and below, including benefits in terms of power consumption, as well as in terms of core security monitoring life and alarm messages in case of problems in providing advanced functionality, also encompasses the scope of the present teachings the case that one or more of the various embodiments described herein are performed by one or more than two processors.
3 zeigt ein veranschaulichendes Blockdiagramm mit der Darstellung verschiedener zusammenwirkender Komponenten eines Gefahrenmeldesystems 300, um multikriteriellen Alarm- und Voralarm-Funktionsumfang bereitzustellen. Entsprechend der Darstellung kann das System 300 Sensordaten 302 beinhalten, Stummschaltungsereignisse 304, Übergangsbedingungen 306, Schwellenwert-Anpassungsparameter 307, multikriterielle Zustandsmaschinen 310, den Zeittakt 312, andere Zustande 320, Alarmzustände 330, Voralarmzustände 340, den Alarm 350, das Display 352 und den Lautsprecher 354. Ebenfalls gezeigt sind mehrere Kommunikationsverbindungen 370, die jeweils unidirektionale oder bidirektionale Daten- und/oder Signalkommunikationsmöglichkeiten haben können. Multikriterielle Zustandsmaschinen 310 können Alarmzustände 330 steuern sowie Voralarmzustände 340 und alle anderen Statusmaschinenzustände 320 auf der Basis von Sensordaten 302, stille Erkennungsereignisse 304, Übergangsbedingungen 306, den Zeittakt 312 und andere Kriterien; und die Alarm- und Voralarmzustände 330 und 340 können die Ausgabe des Alarms 350, das Display 352 und den Lautsprecher 354 steuern. Alarmzustände 330 können mehrere Alarmzustände beinhalten (z. B. für jede Gefahr, wie den Rauchalarmzustand 331, den CO-Alarmzustand 332 und den Hitzealarmzustand 333), und die Voralarmzustände 340 können mehrere Voralarmzustände beinhalten (z. B. einen oder mehrere für jede Gefahr, wie den Rauch-Voralarmzustand 341 und den CO-Voralarmzustand 342). Andere Zustände können beispielsweise Inaktivitätszustände, Überwachungszustände, stille Alarmzustände, stille Voralarmzustände, Alarm-Folgezustände, Halte- und Alarmüberwachungs-Zustände beinhalten. 3 shows an illustrative block diagram showing various cooperating components of a hazard detection system 300 to provide multi-criteria alarm and pre-alarm functionality. As shown, the system can 300 sensor data 302 include, mute events 304 , Transitional conditions 306 , Threshold adjustment parameter 307 , multicriteria state machines 310 , the time clock 312 , other states 320 , Alarm conditions 330 , Pre-alarm conditions 340 , the alarm 350 , the display 352 and the speaker 354 , Also shown are several communication links 370 each having unidirectional or bidirectional data and / or signal communication capabilities. Multi-Criteria State Machines 310 can alarm states 330 control as well as pre-alarm conditions 340 and all other status machine states 320 based on sensor data 302 , silent recognition events 304 , Transitional conditions 306 , the time clock 312 and other criteria; and the alarm and pre-alarm conditions 330 and 340 can be the output of the alarm 350 , the display 352 and the speaker 354 Taxes. alarms 330 may include multiple alarm conditions (eg, for each hazard, such as the smoke alarm condition 331 , the CO alarm state 332 and the heat alarm condition 333 ), and the pre-alarm conditions 340 may include multiple pre-alarm conditions (eg, one or more for each hazard, such as the smoke pre-alarm condition 341 and the CO pre-alarm state 342 ). Other states may include, for example, inactivity states, monitor states, silent alarm states, silent pre-alarm states, alarm follow-on states, hold and alarm monitor states.
Alarmzustände 330 können die Aktivierung und Deaktivierung des Alarms 350 und des Displays 352 als Reaktion auf die durch die multikriteriellen Zustandsmaschinen 310 getroffenen Entscheidungen steuern. Der Alarm 350 kann akustische Signale bereitstellen (z. B. in Form von Summer-Signaltönen), dass eine Gefahrenbedingung vorliegt. Das Display 352 kann ein visuelles Signal bereitstellen (z. B. ein Blinklicht oder einen Farbwechsel), dass ein Gefahrenzustand vorliegt. Bei Bedarf können Alarmzustände 330 die Wiedergabe von Meldungen über den Lautsprecher 354 in Verbindung mit den akustischen und/oder visuellen Signalen steuern. Beispielsweise kann die kombinierte Verwendung des Alarms 350 und des Lautsprechers 354 die folgende Sequenz wiederholen: „PIEP, PIEP, PIEP – Rauch im Schlafzimmer erkannt – PIEP, PIEP, PIEP”, wobei die „PIEP”-Töne vom Alarm 350 ausgegeben werden und „Rauch im Schlafzimmer erkannt” vom Lautsprecher 354 ausgegeben wird. Als weiteres Beispiel kann die Verwendung des Alarms 350 und des Lautsprechers 354 die folgende Sequenz wiederholen: „PIEP, PIEP, PIEP – Winken zum Stummschalten des Alarms – PIEP, PIEP, PIEP”, wobei der Lautsprecher 354 verwendet wird, um Anweisungen zum Stummschalten des Alarms bereitzustellen. Jeder der Alarmzustände 330 (z. B. der Rauchalarmzustand 331, der CO-Alarmzustand 332 und der Hitzealarmzustand 333) kann den Alarm 350 und/oder das Display 352 und/oder den Lautsprecher 354 unabhängig steuern. Bei einigen Ausführungsformen können die Alarmzustände 330 bewirken, dass der Alarm 350 oder das Display 352 oder der Lautsprecher 354 basierend darauf, welcher spezifische Alarmzustand aktiv ist, unterschiedliche Signale ausgeben. Wenn ein Rauchalarmzustand aktiv ist, kann der Alarm 350 beispielsweise einen Klang mit einem ersten Merkmal ausgeben, doch wenn ein CO-Alarmzustand aktiv ist, kann der Alarm 350 einen Klang mit einem zweiten Merkmal ausgeben. Bei einigen Ausführungsformen können die Alarmzustände 330 bewirken, dass der Alarm 350 und das Display 352 und der Lautsprecher 354 unabhängig davon, welcher spezifische Alarmzustand aktiv ist, das gleiche Signal ausgeben. alarms 330 can be the activation and deactivation of the alarm 350 and the display 352 in response to the multicriteria state machines 310 control decisions taken. The alarm 350 may provide acoustic signals (eg in the form of buzzer beeps) that a hazard condition exists. the display 352 may provide a visual signal (eg, a flashing light or a color change) that a hazardous condition exists. If necessary, alarm conditions 330 the playback of messages via the loudspeaker 354 in conjunction with the acoustic and / or visual signals. For example, the combined use of the alarm 350 and the speaker 354 repeat the following sequence: "BEEP, BEEP, BEEP - smoke detected in the bedroom - BEEP, BEEP, BEEP", with the "BEEP" sounds from the alarm 350 to be issued and "smoke detected in the bedroom" from the speaker 354 is issued. As another example, the use of the alarm 350 and the speaker 354 repeat the following sequence: "BEEP, BEEP, BEEP - to mute the alarm - BEEP, BEEP, BEEP", with the speaker 354 is used to provide instructions for muting the alarm. Each of the alarm conditions 330 (eg the smoke alarm condition 331 , the CO alarm state 332 and the heat alarm condition 333 ) can alarm 350 and / or the display 352 and / or the speaker 354 to control independently. In some embodiments, the alarm conditions 330 cause the alarm 350 or the display 352 or the speaker 354 based on which specific alarm state is active, output different signals. If a smoke alarm condition is active, the alarm may sound 350 For example, to output a sound with a first feature, but when a CO alarm condition is active, the alarm may sound 350 output a sound with a second feature. In some embodiments, the alarm conditions 330 cause the alarm 350 and the display 352 and the speaker 354 regardless of which specific alarm state is active, output the same signal.
Voralarmzustände 340 können die Aktivierung und Deaktivierung des Lautsprechers 354 und des Displays 352 als Reaktion auf die durch die multikriteriellen Zustandsmaschinen 310 getroffenen Entscheidungen steuern. Vorwarnungen können als Hinweis dienen, dass ein Gefahrenzustand bevorstehen kann. Der Lautsprecher 354 kann verwendet werden, um Sprachwarnungen wiederzugeben, dass ein Gefahrenzustand bevorstehen kann. Für jeden Typ eines erkannten Voralarmereignisses können über den Lautsprecher 354 unterschiedliche Vorwarnungsmeldungen wiedergegeben werden. Wenn ein Rauchvoralarmzustand aktiv ist, kann beispielsweise über den Lautsprecher 354 eine rauchbezogene Meldung wiedergegeben werden. Wenn ein CO-Voralarmzustand aktiv ist, kann eine CO-bezogene Meldung wiedergegeben werden. Weiter können für jede der mehreren jeder Gefahr zugeordneten Vorwarnungen (z. B. Rauch und CO) unterschiedliche Meldungen wiedergegeben werden. Beispielsweise kann die Rauchgefahr zwei zugeordnete Vorwarnungen haben, wobei eine einem ersten Rauch-Voralarmzustand zugeordnet ist (z. B. mit dem Hinweis, dass ein Alarmzustand demnächst bevorstehen kann) und wobei eine andere einem zweiten Rauch-Voralarmzustand zugeordnet ist (z. B. mit dem Hinweis, dass ein Alarmzustand unmittelbar bevorstehen kann). Vorwarnungsmeldungen können auch Sprachanweisungen beinhalten, wie Vorwarnungsmeldungen stummgeschaltet werden können. Das Display 352 kann ebenfalls auf ähnliche Weise verwendet werden, um visuelle Signale eines bevorstehenden Alarmzustands bereitzustellen. Bei einigen Ausführungsformen können die Vorwarnungsmeldungen den Ort des Voralarmzustandes angeben. Falls das Gefahrensystem 300 beispielsweise weiß, dass der Ort im Schlafzimmer ist, kann es die Ortsangabe in die Vorwarnungsmeldung integrieren: „Rauch im Schlafzimmer erkannt”.Voralarmzustände 340 can be the activation and deactivation of the speaker 354 and the display 352 in response to the multicriteria state machines 310 control decisions taken. Alerts can serve as an indication that a dangerous condition may be imminent. The speaker 354 can be used to play voice warnings that a dangerous condition may be imminent. For each type of detected pre-alarm event can be through the speaker 354 different pre-warning messages are reproduced. If a smoke pre-alarm condition is active, for example, via the speaker 354 a smoke related message. If a CO pre-alarm condition is active, a CO-related message can be played back. Further, for each of the plurality of alerts associated with each hazard (eg, smoke and CO), different messages may be displayed. For example, the smoke hazard may have two associated alerts, one associated with a first smoke pre-alert condition (eg, indicating that an alert condition may soon be imminent) and another associated with a second pre-alert smoke condition (e. with an indication that an alarm condition may be imminent). Prewarning messages may also include voice prompts as to how preemptive messages can be muted. the display 352 can also be used in a similar manner to provide visual signals of an impending alarm condition. In some embodiments, the prewarning messages may indicate the location of the prealarm condition. If the danger system 300 For example, knowing that the place is in the bedroom, it can incorporate the location in the warning message: "smoke detected in the bedroom".
Das Gefahrenmeldesystem 300 kann in Abhängigkeit von den vorliegenden Bedingungen Alarm- und Voralarmprioritäten erzwingen. Falls beispielsweise erhöhte Rauch- und CO-Bedingungen gleichzeitig vorliegen, kann der Rauch-Alarmzustand und/oder der Rauch-Voralarmzustand Vorrang gegenüber dem CO-Alarmzustand und/oder dem CO-Voralarmzustand erhalten. Wenn ein Benutzer den Rauchalarm oder die Rauchvorwarnung stummschaltet und der CO-Alarmzustand oder der CO-Voralarmzustand noch aktiv ist, kann das System 300 eine Angabe bereitstellen (z. B. eine Sprachmitteilung), dass ein CO-Alarm oder eine CO-Vorwarnung ebenfalls stummgeschaltet ist. Wenn ein Rauchzustand endet und der CO-Alarm oder das CO-Voralarmereignis noch aktiv ist, kann der CO-Alarm oder die CO-Vorwarnung dem Benutzer vorgelegt werden.The danger detection system 300 may enforce alarm and pre-alert priorities, depending on the prevailing conditions. For example, if increased smoke and CO conditions are present simultaneously, the smoke alarm condition and / or the smoke pre-alarm condition may take precedence over the CO alarm condition and / or the CO pre-alarm condition. If a user mutes the smoke alarm or smoke alert and the CO alarm state or CO pre-alarm state is still active, the system may 300 provide an indication (eg, a voice message) that a CO alarm or CO warning is also muted. If a smoke condition ends and the CO alarm or CO pre-alarm event is still active, the CO alarm or CO warning can be presented to the user.
Die multikriteriellen Zustandsmaschinen 310 können in einen Inaktivitätszustand übergehen, wenn bestimmt wird, dass relativ geringe oder keine Gefahrenzuständen vorliegen. Der Inaktivitätszustand kann eine relativ niedrige Stufe der Aktivität des Gefahrenmeldesystems erzwingen. Beispielsweise können die Datenerfassungsraten von einem oder mehreren Sensoren im Inaktivitätszustand auf relativ große Intervalle eingestellt werden. Die multikriteriellen Zustandsmaschinen 310 können in einen Überwachungszustand übergehen, wenn festgestellt wird, dass Sensordatenwerte auf ein Niveau angestiegen sind, dass nähere Auswertung erfordert, aber nicht auf ein Niveau, das in einen Voralarm- oder Alarmzustand übergeht. Der Überwachungszustand kann eine relativ hohe Stufe der Aktivität des Gefahrenmeldesystems erzwingen. Beispielsweise können die Datenerfassungsraten von einem oder mehreren Sensoren auf relativ kurve Intervalle eingestellt werden. Weiter können die Datenerfassungsraten von einem oder mehreren Sensoren für Alarmzustände 330, für Voralarmzustände 340 oder für beide Zustände auf relativ kurze Intervalle eingestellt werden.The multicriteria state machines 310 may transition to an inactivity state if it is determined that there are relatively few or no threat states. The inactivity state may force a relatively low level of activity of the hazard detection system. For example, the data acquisition rates of one or more inactive state sensors may be set to relatively large intervals. The multicriteria state machines 310 may transition to a monitor state if it is determined that sensor data has risen to a level that requires closer evaluation, but not to a level that transitions to a pre-alarm or alarm state. The monitoring condition may force a relatively high level of activity of the hazard detection system. For example, the data acquisition rates of one or more sensors may be set to relatively curve intervals. Further, the data acquisition rates of one or more sensors may be for alarm conditions 330 , for pre-alarm conditions 340 or set to relatively short intervals for both states.
Das Stummschalten von Alarmzuständen und Voralarmzuständen kann sich auf eine vom Benutzer veranlasste Deaktivierung eines Alarms oder einer Vorwarnung beziehen. Beispielsweise kann ein Benutzer bei einer Ausführungsform eine Taste (nicht dargestellt) betätigen, um einen Alarm oder eine Vorwarnung stummzuschalten. Bei einer anderen Ausführungsform kann ein Benutzer vor dem Gefahrenmeldesystem eine Geste zum Stummschalten ausführen. Eine Stummschaltungsgeste kann ein vom Benutzer initiierter Vorgang sein, mit dem dieser mit der Absicht, einen schrillen Alarm abzuschalten oder stummzuschalten, in der Nähe des Systems 300 eine Geste (z. B. eine Winkbewegung) ausführt. Ein oder mehrere Ultraschall-Sensoren, ein PIR-Sensor oder eine Kombination daraus können zum Erkennen dieser Geste eingesetzt werden. Das Merkmal der Stummschaltungsgeste und Systeme und Verfahren zum Erkennen und Verarbeiten des Merkmals der Stummschaltungsgeste sind detaillierter erläutert in der gemeinschaftlich beanspruchten, gleichzeitig anhängigen US-Patentanmeldung Nr. _/__,__, eingereicht am ______ (Attorney Docket Nr. GP-5741-00-US), die durch Bezugnahme in ihrer Gesamtheit hierin übernommen wird.Muting alarm conditions and pre-alarm conditions may refer to user-initiated deactivation of an alarm or prewarning. For example, in one embodiment, a user may press a button (not shown) to mute an alarm or prewarning. In another embodiment, a user may execute a mute gesture in front of the hazard notification system. A mute gesture may be a user-initiated action with which the user intends to turn off or mute a high-pitched alarm near the system 300 makes a gesture (eg a winking motion). One or more ultrasonic sensors, a PIR sensor or a combination thereof can be used to detect this gesture. The feature of the mute gesture and systems and methods for recognizing and processing the feature of the mute gesture are explained in more detail in commonly-owned, co-pending U.S. Patent Application No. 0 / __, __, filed on ______ (Attorney Docket No. GP-5741-00 -US), which is incorporated herein by reference in its entirety.
Alarm-Folgezustände können sich auf Zustände beziehen, in die die multikriteriellen Zustandsmaschinen 310 übergehen können, nachdem sie in einem der Alarmzustände 330 oder in einem der Voralarmzustände 340 gewesen sind. In einem Alarm-Folgezustand kann das Gefahrenmeldesystem 300 eine Entwarnungsmeldung bereitstellen, um anzugeben, dass die Alarm- oder Voralarmbedingungen nicht länger anstehen. Dies kann beispielsweise bei CO besonders zweckmäßig sein, da Menschen kein CO erkennen können. Ein weiterer Alarm-Folgezustand kann ein Haltezustand sein, der als System-Entlastungszustand dienen kann. Dieser Zustand kann das Gefahrenmeldesystem 300 daran hindern, unmittelbar zurück in den Voralarmzustand 340 zu wechseln, nachdem es gerade einen Alarmzustand 330 verlassen hatte.Alert sequence conditions may refer to states into which the multi-criteria state machines 310 can pass after being in one of the alarm conditions 330 or in one of the pre-alarm conditions 340 have been. In an alarm subsequent state, the hazard detection system 300 provide an all-clear message to indicate that the alarm or pre-alarm conditions are no longer present. This can be particularly useful in CO, for example, because humans can not detect CO. Another alert following state may be a hold state that may serve as a system unload state. This condition can be the hazard detection system 300 prevent it from immediately returning to the pre-alarm state 340 to switch after it just got an alarm condition 330 had left.
Die multikriteriellen Zustandsmaschinen 310 können mehrere Zustandsmaschinen beinhalten: Sensorzustandsmaschinen und Systemzustandsmaschinen. Jede Zustandsmaschine kann einer besonderen Gefahr zugeordnet werden, wie beispielsweise einer Rauchgefahr, einer Kohlenmonoxid-Gefahr oder einer Hitzegefahr, und die multikriteriellen Zustandsmaschinen können bei der Handhabung der Gefahrenerkennung durch einen oder mehrere Sensoren erfasste Daten nutzen. Bei einigen Ausführungsformen kann für jede Gefahr eine Sensorzustandsmaschine implementiert werden. Bei anderen Ausführungsformen kann für jede Gefahr oder für eine Untermenge von Gefahren eine Systemzustandsmaschine implementiert werden. Die Sensorzustandsmaschinen können für die Steuerung relativ grundlegender Funktionen des Gefahrenmeldesystems zuständig sein, und die Systemzustandsmaschinen können für die Steuerung relativ erweiterter Funktionen des Gefahrenmeldesystems zuständig sein. Bei der Handhabung der Erkennung einer Gefahr können jede Sensor-Zustandsmaschine und jede System-Zustandsmaschine auf der Basis von Sensordatenwerten 302, Stummschaltungsereignissen 304 und/oder Übergangsbedingungen 306 zwischen beliebigen ihrer Zustände wechseln. Ein Stummschaltungsereignis kann ein vom Nutzer eingeleiteter Befehl zum Stummschalten beispielsweise eines ertönenden Alarms oder einer Voralarm-Sprachanweisung sein.The multicriteria state machines 310 may include multiple state machines: sensor state machines and system state machines. Each state machine may be associated with a particular hazard, such as a smoke hazard, a carbon monoxide hazard, or a heat hazard, and the multicriteria state machines may utilize data collected in the hazard detection handling by one or more sensors. In some embodiments, a sensor state machine may be implemented for each hazard. In other embodiments, a system state machine may be implemented for each hazard or subset of hazards. The sensor state machines may be responsible for controlling relatively basic functions of the hazard detection system, and the system state machines may be responsible for controlling relatively extended functions of the hazard detection system. In handling hazard detection, each sensor state machine and system state machine may be based on sensor data values 302 , Mute events 304 and / or transitional conditions 306 switch between any of their states. A mute event may be a user-initiated command to mute, for example, a sounding alarm or a pre-alarm voice prompt.
Übergangsbedingungen 306 können eine Vielzahl von unterschiedlichen Bedingungen beinhalten, die definieren können, wie eine Zustandsmaschine von einem Zustand in einen anderen übergeht. Jede Zustandsmaschine kann ihre eigene Menge von Übergangsbedingungen haben, und Beispiele für zustandsmaschinen-spezifische Übergangsbedingungen sind wiedergegeben in 4B, 5B, 6B, 7B und 8B. Die Bedingungen können Schwellenwerte definieren, die mit einer oder mehreren der folgenden Eingaben verglichen werden können: Sensordatenwerte, Zeittakte und Ereignisse nach Benutzerinteraktion (z. B. stille Ereignisse). Zustandsänderungsübergänge können durch relativ simple Bedingungen (z. B. durch Einzelkriterium-Bedingungen) gesteuert werden oder durch relativ komplexe Bedingungen (z. B. durch multikriterielle Bedingungen). Einzelkriterium-Bedingungen können eine Eingabe mit einem Schwellenwert vergleichen. Beispielsweise kann eine einfache Bedingung ein Vergleich zwischen einem Sensordatenwert und einer Schwelle sein. Wenn der Sensordatenwert größer oder gleich der Schwelle ist, kann der Zustandsänderungsübergang durchgeführt werden. Im Gegensatz dazu kann eine multikriterielle Bedingung ein Vergleich von einer oder mehreren Eingaben mit einem oder mehreren Schwellenwerten sein. Beispielsweise kann eine multikriterielle Bedingung ein Vergleich von einem ersten Sensorwert mit einem ersten Schwellenwert und ein Vergleich von einem zweiten Sensorwert mit einem zweiten Schwellenwert sein. Bei einigen Ausführungsformen müssen beide Vergleichsvorgänge erfüllt sein, um einen Zustandsänderungsübergang zu bewirken. Bei anderen Ausführungsformen muss nur einer der Vergleichsvorgänge erfüllt sein, um einen Zustandsänderungsübergang zu bewirken. Als weiteres Beispiel kann eine multikriterielle Bedingung ein Vergleich von einem Zeittakt mit einem Zeit-Schwellenwert und ein Vergleich von einem Sensorwert mit einem Schwellenwert sein.Transition conditions 306 may include a variety of different conditions that may define how a state machine transitions from one state to another. Each state machine may have its own set of transient conditions, and examples of state machine-specific transient conditions are given in FIG 4B . 5B . 6B . 7B and 8B , The conditions may define thresholds that may be compared to one or more of the following inputs: sensor data values, clocks, and events after user interaction (eg silent events). State change transitions can be controlled by relatively simple conditions (eg, by single criterion conditions) or by relatively complex conditions (eg, by multi-criteria conditions). Single criterion conditions may compare an input to a threshold. For example, a simple condition may be a comparison between a sensor data value and a threshold. If the sensor data is greater than or equal to the threshold, the state transition can be performed. In contrast, a multi-criteria condition may be a comparison of one or more inputs with one or more thresholds. For example, a multi-criteria condition may be a comparison of a first sensor value with a first threshold value and a comparison of a second sensor value with a second threshold value. In some embodiments, both compare operations must be accomplished to effect a state transition transition. In other embodiments, only one of the comparisons must be satisfied to effect a state transition transition. As another example, a multi-criteria condition may be a comparison of a time clock with a time threshold and a comparison of a sensor value with a threshold.
Bei einigen Ausführungsformen kann der Schwellenwert für eine bestimmte Übergangsbedingung angepasst werden. Solche Schwellenwerte werden hierin als einstellbare Schwellenwerte bezeichnet (z. B. gezeigt als Teil der Übergangsbedingungen 306). Der einstellbare Schwellenwert kann als Reaktion auf den Schwellenanpassungsparameter 307 geändert werden, der gemäß einer Ausführungsform beispielsweise durch ein Alarmschwellenwert-Einstellmodul bereitgestellt werden kann. Einstellbare Schwellenwerte können aus einem von mindestens zwei unterschiedlichen auswählbaren Schwellenwerten gewählt werden, und beliebige geeignete Auswahlkriterien können verwendet werden, um den geeigneten Schwellenwert für den einstellbaren Schwellenwert zu wählen. Bei einer Ausführungsform können die Auswahlkriterien mehrere Einzelkriterium-Bedingungen oder eine multikriterielle Bedingung beinhalten. Bei einer anderen Ausführungsform können die Auswahlkriterien, wenn der einstellbare Schwellenwert mit Sensorwerten eines ersten Sensors verglichen wird, eine Analyse von mindestens einem vom ersten Sensor unterschiedlichen Sensor beinhalten. Bei einer anderen Ausführungsform kann der einstellbare Schwellenwert der bei der Übergangsbedingung eines Rauchalarms verwendete Schwellenwert sein, und der einstellbare Schwellenwert kann aus einem von drei unterschiedlichen Schwellenwerten ausgewählt werden. In some embodiments, the threshold may be adjusted for a particular transition condition. Such thresholds are referred to herein as adjustable thresholds (eg, shown as part of the transient conditions 306 ). The adjustable threshold may be in response to the threshold adjustment parameter 307 may be provided, for example, by an alarm threshold adjustment module according to one embodiment. Adjustable thresholds may be selected from one of at least two different selectable thresholds, and any suitable selection criteria may be used to select the appropriate threshold for the adjustable threshold. In one embodiment, the selection criteria may include multiple single criterion conditions or a multi-criteria condition. In another embodiment, when the adjustable threshold is compared to sensor values of a first sensor, the selection criteria may include an analysis of at least one sensor different from the first sensor. In another embodiment, the adjustable threshold may be the threshold used in the transition condition of a smoke alarm, and the adjustable threshold may be selected from one of three different thresholds.
Bei einigen Ausführungsformen kann der Schwellenwert für eine bestimmte Übergangsbedingung eine erworbene Bedingungsschwelle sein (nicht dargestellt). Die erworbene Bedingungsschwelle kann das Ergebnis einer Differenzfunktion sein, die eine Konstante von einem anfänglichen Schwellenwert subtrahieren kann. Die Konstante kann bei Bedarf basierend auf beliebigen geeigneten Kriterien geändert werden, einschließlich beispielsweise Heuristik, erhobenen Daten, Software-Updates, Benutzerpräferenzen, Geräteeinstellungen usw. Das Ändern der Konstanten kann einen Mechanismus zum Ändern der Übergangsbedingung für einen oder mehrere Zustände bereitstellen (z. B. einen Voralarmzustand). Diese Konstante kann für Übergangsbedingungen 306 bereitgestellt werden, um Anpassungen an der erworbenen Bedingungsschwelle vorzunehmen. Bei einer Ausführungsform kann die Konstante basierend auf der Installation und Einrichtung des Gefahrenmeldesystems 300 ausgewählt werden. Beispielsweise kann der Wohnungsbesitzer angeben, dass das Gefahrenmeldesystem 300 in einem bestimmten Raum eines Gebäudes installiert worden ist. Je nachdem, welcher Raum dies ist, kann das System 300 eine geeignete Konstante wählen. Beispielsweise kann eine erste Konstante gewählt werden, falls der Raum ein Schlafzimmer ist, und eine zweite Konstante kann gewählt werden, wenn der Raum eine Küche ist. Die erste Konstante kann ein Wert sein, der das Gefahrenmeldesystem 300 sensibler in Bezug auf potenzielle Gefahren als die zweite Konstante macht, weil das Schlafzimmer an einem Ort ist, der generell weiter entfernt von einem Ausgang ist und/oder der nicht generell anfällig ist für Faktoren, die ansonsten einen Fehlalarm auslösen können. Im Gegensatz dazu ist die Küche beispielsweise in der Regel näher an einem Ausgang als ein Schlafzimmer und kann Bedingungen hervorrufen (z. B. Dampf oder Rauch vom Kochen), die einen Fehlalarm auslösen können. Andere Faktoren können ebenfalls bei der Auswahl der geeigneten Konstanten berücksichtigt werden. Beispielsweise kann der Wohnungseigentümer angeben, dass der Raum neben einem Badezimmer ist. Da aus einem Badezimmer kommende Luftfeuchte Fehlalarme auslösen könnte, kann das Gefahrensystem 300 eine Konstante auswählen, die dies berücksichtigt. Als weiteres Beispiel kann der Wohnungseigentümer angeben, dass der Raum einen offenen Kamin einschließt. Das Gefahrensystem 300 kann auf ähnliche Weise eine Konstante auswählen, die diesen Faktor berücksichtigt.In some embodiments, the threshold for a particular transition condition may be an acquired condition threshold (not shown). The acquired condition threshold may be the result of a difference function that can subtract a constant from an initial threshold. The constant may be changed as needed based on any suitable criteria including, for example, heuristics, collected data, software updates, user preferences, device settings, etc. Changing the constants may provide a mechanism for changing the transition condition for one or more states (e.g. a pre-alarm condition). This constant can be for transient conditions 306 be made available to make adjustments to the acquired conditional threshold. In one embodiment, the constant may be based on the installation and setup of the hazard detection system 300 to be selected. For example, the homeowner may specify that the hazard notification system 300 has been installed in a specific room of a building. Depending on which room this is, the system can 300 choose a suitable constant. For example, a first constant may be selected if the room is a bedroom, and a second constant may be selected if the room is a kitchen. The first constant can be a value of the hazard detection system 300 more sensitive to potential dangers than the second constant because the bedroom is in a location that is generally farther from an exit and / or that is not generally prone to factors that may otherwise trigger a false alarm. In contrast, for example, the kitchen is typically closer to an exit than a bedroom and can create conditions (eg, steam or smoke from cooking) that can trigger a false alarm. Other factors may also be taken into account when choosing the appropriate constants. For example, the apartment owner may specify that the room is next to a bathroom. Since the humidity coming from a bathroom could trigger false alarms, the danger system can 300 select a constant that takes this into account. As another example, the apartment owner may indicate that the room includes an open fireplace. The danger system 300 can similarly select a constant that takes this factor into account.
Bei einer anderen Ausführungsform kann das Gefahrenmeldesystem 300 Heuristik anwenden, um die Konstante selbsttätig anzupassen. Beispielsweise können weiter Bedingungen vorliegen, die immer wieder Vorwarnungen auslösen, wobei die Bedingungen aber keinen Anstieg auf Alarmpegel bewirken. Als Reaktion auf derartige ständige Voralarm-Auslösungen kann das Gefahrenmeldesystem 300 die Konstante modifizieren, sodass die Vorwarnungen nicht so leicht ausgelöst werden. Bei noch einer weiteren Ausführungsform kann die Konstante als Reaktion auf ein Software-Update geändert werden Beispielsweise kann ein Fernserver aus mehreren anderen Gefahrenmeldesystemen erfasste Daten analysieren, die Konstante entsprechend anpassen und die neue Konstante über ein Software-Update im Gefahrenmeldesystem 300 weiterleiten. Zusätzlich kann der Fernserver Konstanten auch basierend auf den Benutzereinstellungen oder Benutzerpräferenzen in das Gefahrenmeldesystem 300 pushen. Beispielsweise kann der Wohnungseigentümer in der Lage sein, eine begrenzte Anzahl von Einstellungen zu definieren, indem er direkt mit dem Gefahrenmeldesystem 300 interagiert. Der Wohnungseigentümer kann jedoch in der Lage sein, eine unbegrenzte Anzahl von Einstellungen zu definieren, indem er beispielsweise mit einem auf dem Fernserver befindlichen Web-basierten Programm interagiert. Basierend auf den Einstellungen kann der Fernserver eine oder mehrere geeignete Konstanten pushen.In another embodiment, the hazard detection system 300 Use Heuristic to adjust the constant automatically. For example, conditions may continue to exist that repeatedly trigger alerts, but conditions do not cause an increase to alarm levels. In response to such permanent pre-alarm trips, the hazard detection system 300 modify the constant so that the alerts are not so easily triggered. In yet another embodiment, the constant may be changed in response to a software update. For example, a remote server may analyze data collected from several other hazard reporting systems, adjust the constant accordingly, and update the new constant via a software update in the hazard detection system 300 hand off. Additionally, the remote server may also set constants based on the user preferences or user preferences in the hazard notification system 300 push. For example, the homeowner may be able to define a limited number of settings by working directly with the hazard notification system 300 interacts. However, the homeowner may be able to define an unlimited number of settings, for example interacting with a web-based program located on the remote server. Based on the settings, the remote server can push one or more appropriate constants.
Die Sensorzustandsmaschinen können Alarmzustände 330 und einen oder mehrere andere Zustände 320 steuern. Insbesondere kann die Zustandsmaschine des Rauchsensors 314 den Rauchalarmzustand 331 steuern, die Zustandsmaschine des CO-Sensors 316 kann den CO-Alarmzustand 332 steuern, und die Zustandsmaschine des Hitzesensors 318 kann den Hitzealarmzustand 333 steuern. Beispielsweise kann die Zustandsmaschine des Rauchsensors 314 betrieben werden, um als Reaktion auf ein erkanntes Rauchereignis den Alarm 350 auszugeben. Als weiteres Beispiel kann die Zustandsmaschine des CO-Sensors 316 betrieben werden, um als Reaktion auf ein erkanntes CO-Ereignis den Alarm 350 auszugeben. Als noch weiteres Beispiel kann die Zustandsmaschine des Hitzesensors 318 betrieben werden, um als Reaktion auf ein erkanntes Hitzeereignis den Alarm 350 auszugeben. Bei einigen Ausführungsformen kann eine Sensorzustandsmaschine die exklusive Kontrolle über einen oder mehrere Alarmzustände 330 ausüben.The sensor state machines can alarm states 330 and one or more other states 320 Taxes. In particular, the state machine of the smoke sensor 314 the smoke alarm condition 331 control, the state machine of the CO sensor 316 can change the CO alarm state 332 control, and the State machine of the heat sensor 318 can the heat alarm condition 333 Taxes. For example, the state machine of the smoke sensor 314 operated in response to a detected smoke event the alarm 350 issue. As another example, the state machine of the CO sensor 316 be operated to alarm in response to a detected CO event 350 issue. As yet another example, the state machine of the heat sensor 318 operated in response to a detected heat event alarm 350 issue. In some embodiments, a sensor state machine may have exclusive control over one or more alarm conditions 330 exercise.
Die Systemzustandsmaschinen können Voralarmzustände 340 und einen oder mehrere andere Zustände 320 steuern. Insbesondere kann die Zustandsmaschine des Rauchsystems 315 den Rauch-Voralarmzustand 341 steuern, und die Zustandsmaschine des CO-Systems 317 kann den CO-Voralarmzustand 342 steuern. Bei einigen Ausführungsformen kann jede Systemzustandsmaschine mehrere Voralarmzustände verwalten. Beispielsweise kann ein erster Voralarmzustand einen Benutzer warnen, dass ein anomaler Zustand vorliegt, und ein zweiter Voralarmzustand kann den Benutzer warnen, dass der anomale Zustand weiterhin ansteht. Zudem kann jede Systemzustandsmaschine andere Zustände verwalten, die nicht durch die Sensorzustandsmaschinen gehandhabt werden können. Beispielsweise können diese anderen Zustande einen Überwachungszustand, einen Voralarm-Stummschaltungszustand und Alarm-Folgezustände beinhalten, wie z. B. Halte- und Alarmüberwachungs-Zustände.The system state machines may have pre-alarm conditions 340 and one or more other states 320 Taxes. In particular, the state machine of the smoke system 315 the smoke pre-alarm state 341 control, and the state machine of the CO system 317 can the CO pre-alarm state 342 Taxes. In some embodiments, each system state machine may manage multiple pre-alert states. For example, a first pre-alarm condition may alert a user that an abnormal condition exists, and a second pre-alarm condition may alert the user that the abnormal condition is still pending. In addition, each system state machine can manage other states that can not be handled by the sensor state machines. For example, these other states may include a monitor state, a pre-alarm mute state, and alarm wake-up states, such as: B. hold and alarm monitoring conditions.
Die Systemzustandsmaschinen können einen oder mehrere Zustände gemeinsam mit Sensorzustandsmaschinen verwalten. Diese gemeinsam verwalteten Zustände („geteilte Zustände”) können als Zustände sowohl in Systemzustandsmaschinen als auch in Sensorzustandsmaschinen für eine bestimmte Gefahr vorliegen. Beispielsweise kann eine Zustandsmaschine des Rauchsystems 315 einen oder mehrere Zustände mit einer Zustandsmaschine des Rauchsensors 314 teilen, und eine Zustandsmaschine des CO-Systems 317 kann einen oder mehrere Zustände mit einer Zustandsmaschine des CO-Sensors 316 teilen. Das gemeinsame Zusammenwirken von System- und Sensorzustandsmaschinen für eine bestimmte Gefahr ist durch die Kommunikationsverbindung 370 dargestellt, die beide Zustandsmaschinen verbindet. Bei einigen Ausführungsformen können alle Zustandsänderungsübergänge auf einen geteilten Zustand durch die Sensorzustandsmaschine gesteuert werden. Beispielsweise kann der Alarmzustand ein geteilter Zustand sein, und bei jedem Übergang einer Sensorzustandsmaschine in den Alarmzustand geht die Systemzustandsmaschine, die Zustände gemeinsam mit der Sensorzustandsmaschine verwaltet, ebenfalls in den Alarmzustand über. Bei einigen Ausführungsformen können geteilte Zustände Inaktivitätszustände, Alarmzustände und Stummschaltungszustände von Alarmen beinhalten. Die Parameter, anhand derer die multikriteriellen Zustandsmaschinen 310 arbeiten können, werden detaillierter in Verbindung mit der folgenden Beschreibung zu 4A–8B erörtert.The system state machines can manage one or more states along with sensor state machines. These shared-managed states ("shared states") may exist as states in both system state machines and sensor state machines for a given hazard. For example, a state machine of the smoke system 315 one or more states with a state machine of the smoke sensor 314 share, and a state machine of the CO system 317 may be one or more states with a state machine of the CO sensor 316 share. The joint interaction of system and sensor state machines for a given hazard is through the communication link 370 which connects both state machines. In some embodiments, all state change transitions may be controlled to a shared state by the sensor state machine. For example, the alarm state may be a shared state, and upon each transition of a sensor state machine to the alarm state, the system state machine, which manages states in common with the sensor state machine, also enters the alarm state. In some embodiments, shared states may include inactivity states, alarm states, and alarm silences. The parameters by which the multicriteria state machines 310 will work in more detail in conjunction with the following description 4A - 8B discussed.
4A zeigt eine veranschaulichende Zustandsmaschine des Rauchsensors 400 gemäß einer Ausführungsform. Beispielsweise kann die Zustandsmaschine des Rauchsensors 400 eine der multikriteriellen Zustandsmaschinen (aus 3) sein, die einen Rauchmelder verwalten. Die Zustandsmaschine des Rauchsensors 400 kann einen Inaktivitätszustand 410, einen Überwachungszustand 420, einen Alarmzustand 430 und einen Alarm-Stummschaltungszustand 440 beinhalten. Die Zustandsmaschine 400 kann basierend auf einer oder mehreren Bedingungen zwischen den Zuständen 410, 420, 430 und 440 übergehen. Entsprechend der Darstellung können in einer Zustandsmaschine 400 sieben (7) unterschiedliche Zustandsübergänge vorliegen. 4B zeigt die Bedingungen in Zusammenhang mit jedem Übergang. Insbesondere beinhaltet 4B mehrere Spalten mit Informationen, die als Übergang, Von, Zu, Bedingung Set #1, Bedingung Set #2 und Bedingungsvariable bezeichnet sind. Jede Zeile entspricht einem der Übergänge aus 4A, identifiziert den „Von”-Zustand und den „Zu”-Zustand und eine oder mehrere der Bedingungen, die ggf. erfüllt sein müssen, damit der Übergang erfolgt, sowie ggf. die Bedingungsvariablen. Zwei Bedingungsmengen, Bedingungen Set #1 und Bedingungen Set #2, sind dargestellt, um anzuzeigen, dass bei der Zustandsmaschine 400 unterschiedliche Bedingungen vorgegeben werden können. Bedingungen Set #1 kann für eine erste geografische Region gelten, wie z. B. für die USA, und Bedingungen Set #2 kann für eine zweite geografische Region gelten, wie z. B. für Europa. Unter gemeinsamer Bezugnahme auf 4A und 4B wird jeder Übergang in erster Linie in Bezug auf die Bedingungen des Sets #1 erörtert. 4A shows an illustrative state machine of the smoke sensor 400 according to one embodiment. For example, the state machine of the smoke sensor 400 one of the multi-criteria state machines (out 3 ), which manage a smoke detector. The state machine of the smoke sensor 400 can be an inactivity state 410 , a monitoring state 420 , an alarm condition 430 and an alarm mute state 440 include. The state machine 400 can be based on one or more conditions between states 410 . 420 . 430 and 440 pass. As shown, in a state machine 400 seven (7) different state transitions are present. 4B shows the conditions associated with each transition. In particular, includes 4B multiple columns of information, referred to as Transition, From, To, Condition Set # 1, Condition Set # 2, and Condition Variable. Each line corresponds to one of the transitions 4A , identifies the "from" state and the "to" state, and one or more of the conditions that may need to be met for the transition to occur, and possibly the condition variables. Two sets of conditions, Conditions Set # 1 and Conditions Set # 2, are shown to indicate that the state machine 400 different conditions can be specified. Conditions Set # 1 may apply to a first geographic region, such as: For example, for the United States, and conditions Set # 2 may apply to a second geographic region, such as: Eg for Europe. With common reference to 4A and 4B each transition is discussed primarily in terms of the conditions of set # 1.
Beim Übergang 1 geht die Zustandsmaschine 400 vom Inaktivitätszustand 410 zum Überwachungszustand 420 über, wenn der überwachte Rauchdatenwert (hierin als „Rauch” bezeichnet) größer als oder gleich einem relativ niedrigen Rauch-Alarmschwellenwert ist (hierin bezeichnet als Smoke_T_Low). Der überwachte Rauchdatenwert kann anhand der Verdunkelung als Prozentangabe oder in dBm gemessen werden. Insbesondere kann der überwachte Rauchdatenwert ein Maß des Verdunkelungs-Prozentsatzes pro Meter (z. B. obs%/m), der Verdunkelung pro Fuß (obs%/foot) oder dBm pro Meter (z. B. obs%/m) sein. Verdunkelung ist der Effekt, den Rauch auf die Verringerung der „Sichtbarkeit” des Sensors hat, wobei höhere Rauchkonzentrationen höhere Verdunkelungspegel ergeben. dBm ist eine Sensibilitätsmessung eines Rauchmelders.At transition 1, the state machine goes 400 from inactivity state 410 to the monitoring state 420 when the monitored smoke data value (referred to herein as "smoke") is greater than or equal to a relatively low smoke alarm threshold (referred to herein as Smoke_T_Low). The monitored smoke data value can be measured in terms of dimming as a percentage or in dBm. In particular, the monitored smoke data value may be a measure of the blackout percentage per meter (eg, obs% / m), the obscuration per foot (obs% / foot), or dBm per meter (eg, obs% / m). Darkening is the effect that smoke has on reducing the "visibility" of the sensor, with higher smoke levels giving higher levels of dimming. dBm is a sensitivity measurement of a smoke detector.
Ein Rauchmelder kann eine fotoelektrische Rauchkammer beinhalten, die innen dunkel sein kann und die Lüftungsschlitze beinhalten kann, die den Eintritt und Austritt von Luft ermöglichen. Die Kammer kann eine Laserdiode beinhalten, die einen Infrarot-Lichtstrahl in einer bestimmten Richtung über die Kammer übertragen kann. Die Kammer kann auch einen Sensor beinhalten, der betrieben werden kann, um das Licht zu erkennen. Wenn in der Kammer kein Rauch vorliegt, kann der Lichtstrahl einfach absorbiert werden, und der Sensor „sieht” kein Licht. Wenn jedoch Rauch in die Kammer eintritt, können Rauchpartikel bewirken, dass das Licht streut und dadurch bewirkt, dass etwas Licht auf den Sensor trifft. Die durch den Sensor erkannte Lichtmenge kann direkt proportional zum Verdunkelungswert sein: Je mehr Licht, desto stärker ist die Verdunkelung. Bei 100% Verdunkelung kann die Kammer mit Rauch gefüllt sein, und eine wesentliche Lichtmenge kann auf den Sensor treffen. Bei 0% ist möglicherweise kein Rauch in der Kammer, sodass kein Licht den Sensor erreichen kann. Laut UL-Anforderungen für die Ausgabe eines Alarms kann alles, was 4% übersteigt, als Alarmbedingung angesehen werden.A smoke detector may include a photoelectric smoke chamber, which may be dark inside and may include air vents that allow entry and exit of air. The chamber may include a laser diode that can transmit an infrared light beam in a particular direction across the chamber. The chamber may also include a sensor that can be operated to detect the light. If there is no smoke in the chamber, the light beam can be easily absorbed and the sensor "sees" no light. However, when smoke enters the chamber, smoke particles can cause the light to scatter, causing some light to strike the sensor. The amount of light detected by the sensor can be directly proportional to the dimming value: the more light, the darker the darkening. At 100% darkening, the chamber may be filled with smoke and a significant amount of light may strike the sensor. At 0% there may be no smoke in the chamber, so no light can reach the sensor. According to UL requirements for issuing an alarm, anything exceeding 4% may be considered an alarm condition.
Der relativ geringe Rauchalarm-Schwellenwert Smoke_T_Low kann einer von mehreren Rauchalarm-Schwellenwerten sein. Andere Rauchalarmwerte können den Basispegel der Rauchalarm-Schwellenwerte – Smoke_T_Base –, den relativ moderaten Rauchalarm-Schwellenwert Smoke_T_Mid und den relativ hohen Rauchalarm-Schwellenwert Smoke_T_High beinhalten. Jeder dieser Rauchalarmwerte kann über die Rauchzustandsmaschine 400 zugänglich sein, wenn Entscheidungen zu Übergängen der Zustandsmaschine getroffen werden. Beispielsweise kann Smoke_T_Base einen Rauchschwellenwert für das Verlassen eines Alarmzustands definieren, und Smoke_T_Low, Smoke_T_Mid und Smoke_T_High können Schwellenwerte für die Auslösung eines Alarms definieren.The relatively low smoke alarm threshold Smoke_T_Low may be one of several smoke alarm thresholds. Other smoke alarm values may include the base level of smoke alarm thresholds - Smoke_T_Base -, the relatively moderate smoke alarm threshold Smoke_T_Mid and the relatively high smoke alarm threshold Smoke_T_High. Each of these smoke alarm values can be via the smoke state machine 400 be accessible when making decisions about state machine transitions. For example, Smoke_T_Base may define a smoke threshold for exiting an alarm condition, and Smoke_T_Low, Smoke_T_Mid, and Smoke_T_High may define thresholds for triggering an alarm.
Die folgende Tabelle 1 zeigt veranschaulichende Werte in Zusammenhang mit jedem Rauchalarm-Schwellenwert. Pegel Bedingungen Set #1 – (OBS%/m) Bedingungen Set #2 – (dBm/m)
Smoke_T_Base 0,8–1,0 0,05
Smoke_T_Low 2,0–2,2 0,07
Smoke_T_Mid 2,5–2,7 0,11
Smoke_T_High 3,6–3,7 0,18
Tabelle 1 The following Table 1 shows illustrative values associated with each smoke alarm threshold. level Conditions Set # 1 - (OBS% / m) Conditions Set # 2 - (dBm / m)
Smoke_T_Base 0.8-1.0 0.05
Smoke_T_Low 2.0-2.2 0.07
Smoke_T_Mid 2.5-2.7 0.11
Smoke_T_High 3.6-3.7 0.18
Table 1
Im Überwachungszustand 420 kann das Gefahrenmeldesystem mehrere seiner Sensoren mit einer im Vergleich zu seinem Inaktivitätszustand 410 schnelleren Rate abfragen. Statt den Rauchmelders (z. B. des Rauchmelders 1324) alle 10 Sekunden abzufragen, könnte der Rauchmelder alle 2 Sekunden abgefragt werden. Eine schnellere Abfrage könnte es dem Gefahrenmeldesystem ermöglichen, Daten mit schnellerer Geschwindigkeit zu erfassen, sodass das System schnell eine fundierte Entscheidung treffen kann, ob der Alarm ausgegeben werden soll.In the monitoring state 420 For example, the hazard detection system may have several of its sensors with one compared to its inactivity state 410 query faster rate. Instead of the smoke detector (eg the smoke detector 1324 ) every 10 seconds, the smoke detector could be polled every 2 seconds. A quicker query could allow the hazard detection system to collect data at faster speeds, so that the system can quickly make an informed decision as to whether the alarm should be issued.
Beim Übergang 2, geht die Zustandsmaschine 400 vom Überwachungszustand 420 zum Alarmzustand 430 über, wenn „Rauch” größer als oder gleich dem aktuell ausgewählten Rauchalarm-Schwellenwert Smoke_T_Cur ist. Der aktuell ausgewählte Rauchalarm-Schwellenwert kann auf einen beliebigen der Rauchalarm-Schwellenwerte eingestellt sein (z. B. Smoke_T_Base, Smoke_T_Low, Smoke_T_Mid oder Smoke_T_High). Bei einer Ausführungsform kann Smoke_T_Cur durch das weiter unten erörterte Alarm/Voralarm-Schwellenwerteinstellmodul 900 auf Smoke_T_Low, Smoke_T_Mid oder Smoke_T_High eingestellt werden. Bei einer anderen Ausführungsform kann Smoke_T_Cur als Standardeinstellung auf Smoke_T_Low eingestellt werden, sofern das Alarm/Voralarm-Schwellenwerteinstellmodul 900 die Zustandsmaschine 400 nicht anderweitig anweist.At transition 2, the state machine goes 400 from the monitoring state 420 to the alarm state 430 if "smoke" is greater than or equal to the currently selected smoke alarm threshold Smoke_T_Cur. The currently selected smoke alarm threshold may be set to any of the smoke alarm thresholds (eg, Smoke_T_Base, Smoke_T_Low, Smoke_T_Mid, or Smoke_T_High). In one embodiment, Smoke_T_Cur may be triggered by the alarm / pre-alarm threshold adjustment module discussed below 900 be set to Smoke_T_Low, Smoke_T_Mid, or Smoke_T_High. In another embodiment, Smoke_T_Cur can be set to Smoke_T_Low as the default if the alarm / pre-alarm threshold setting module 900 the state machine 400 does not otherwise instruct.
Beim Übergang 3 und entsprechend den Bedingungen Set #1 geht die Zustandsmaschine 400 vom Alarmzustand 430 zum Alarm-Stummschaltungszustand 440 über, wenn ein Stummschaltungsereignis erkannt wird und „Rauch” kleiner ist als Smoke_T_High. Das Stummschaltungsereignis kann ein mittels einer Geste erkanntes Stummschaltungsereignis sein, das vom Stummschaltungs-Modul 1307 verarbeitet wird (im Folgenden erörtert in Zusammenhang mit 13 und 15), oder ein Tastenbetätigungsereignis der Taste 1340 (im Folgenden erörtert in Zusammenhang mit 13 und 15). Wenn „Rauch” größer als oder gleich Smoke_T_High ist, dann bleibt die Zustandsmaschine 400 im Alarmzustand 430. Entsprechend den Bedingungen von Set #2 muss nur ein Stummstellungsereignis detektiert werden, um den Übergang 3 durchzuführen. Selbst wenn „Rauch” größer als Smoke_T_High ist, bleibt somit das erkannte Stummstellungsereignis ausreichend, um den Alarm stummzuschalten.At transition 3 and according to conditions set # 1, the state machine goes 400 from the alarm state 430 to the alarm mute state 440 if a mute event is detected and "smoke" is less than Smoke_T_High. The mute event may be a gesture-detected mute event from the mute module 1307 is processed (im The following discusses in connection with 13 and 15 ), or a key press event of the key 1340 (discussed below in connection with 13 and 15 ). If "smoke" is greater than or equal to Smoke_T_High, then the state machine remains 400 in alarm 430 , According to the conditions of Set # 2, only one mute event needs to be detected to perform transition 3. Even if "smoke" is greater than Smoke_T_High, the detected mute event will be enough to mute the alarm.
Beim Übergang 4 und entsprechend den Bedingungen in Set #1 geht die Zustandsmaschine 400 vom Alarmzustand 440 zum Alarm-Stummschaltungszustand 430 über, wenn ein Stummschaltungsereignis erkannt wird und „Rauch” kleiner ist als Smoke_T_High. Diese besondere Bedingung erfordert, dass die Zustandsmaschine 400 im Alarmzustand 440 ist, falls der überwachte Rauchdatenwert den relativ hohen Rauchalarm-Schwellenwertpegel überschreitet, und zwar unabhängig davon, ob ein Stummschaltungsereignis erkannt wird. Somit ertönt weiterhin der Alarm, wenn „Rauch” größer als Smoke_T_High ist, und ein Stummschaltungsereignis detektiert wird. Weiter kann die Zustandsmaschine 400 entsprechend den Bedingungen in Set #1 vom Alarm-Stummschaltungszustand 440 zum Alarmzustand 430 übergehen, wenn die seit dem Eintritt in den Zustand 440 (im Folgenden T_Hush) verstrichene Zeit größer als oder gleich einem maximal zulässigen Stummschaltungs-Zeitraum (im Folgenden Max_Hush_Time) ist und „Rauch” größer als oder gleich Smoke_T_Cur minus einer Konstanten K ist. Diese Bedingung kann die Situation betreffen, in der der „Rauch”-Pegel nicht um einen vorbestimmten Wert zurückgegangen ist, nachdem ein vorbestimmter Zeitraum verstrichen ist. Alternativ dazu kann die Zustandsmaschine 400 vom Alarm-Stummschaltungszustand 440 zum Alarmzustand 430 übergehen, wenn die seit dem Eintritt in den Zustand 440 (im Folgenden T_Hush) verstrichene Zeit größer als oder gleich einem maximal zulässigen Stummschaltungs-Zeitraum (im Folgenden Max_Hush_Time) ist und „Rauch” größer als oder gleich Smoke_T_Base ist. Entsprechend den Bedingungen in Set #2 ist die Zustandsmaschine 400 im Wesentlichen die gleiche wie bei den Bedingungen in Set #1, aber sie erzwingt die Stammschaltung für einen zulässigen Mindestzeitraum der Stummschaltung (im Folgenden Min_Hush_Time). Erst nachdem T_Hush größer (oder gleich) Min_Hush_Time geworden ist, kann die Zustandsmaschine 400 die Bedingungen bewerten, um einen potenziellen Zustandsänderungsübergang vorzunehmen.At transition 4 and according to the conditions in set # 1, the state machine goes 400 from the alarm state 440 to the alarm mute state 430 if a mute event is detected and "smoke" is less than Smoke_T_High. This particular condition requires that the state machine 400 in alarm 440 if the monitored smoke data value exceeds the relatively high smoke alarm threshold level, regardless of whether a mute event is detected. Thus, the alarm continues to sound when "smoke" is greater than Smoke_T_High and a mute event is detected. Next, the state machine 400 according to the conditions in set # 1 of the alarm mute state 440 to the alarm state 430 pass over when the entry into the state 440 (hereinafter T_Hush) elapsed time is greater than or equal to a maximum allowable muting period (hereinafter Max_Hush_Time) and "smoke" is greater than or equal to Smoke_T_Cur minus a constant K. This condition may concern the situation in which the "smoke" level has not decreased by a predetermined value after a predetermined period of time has elapsed. Alternatively, the state machine 400 from the alarm mute state 440 to the alarm state 430 pass over when the entry into the state 440 (hereinafter T_Hush) elapsed time is greater than or equal to a maximum allowable silence period (hereinafter Max_Hush_Time) and "smoke" is greater than or equal to Smoke_T_Base. According to the conditions in Set # 2, the state machine is 400 essentially the same as the conditions in Set # 1, but it forces the root circuit for a minimum allowable mute period (hereafter Min_Hush_Time). Only after T_Hush has become greater than (or equal to) Min_Hush_Time can the state machine 400 evaluate the conditions to make a potential state change transition.
Ks ist die zum Bestimmen einer erworbenen Bedingungsschwelle verwendete Konstante. Entsprechend der Erörterung weiter oben kann Ks auf der Basis einer beliebigen geeigneten Anzahl von Faktoren geändert werden. Beispielsweise kann Ks auf der Basis des erfassten Geräteverhaltens geändert werden. Das erfasste Geräteverhalten kann auf einer Gefahrenmeldeeinrichtung oder eine Gruppe von Gefahrenmeldeeinrichtungen basieren. Es versteht sich, dass Ks auf null gesetzt werden kann.K s is the constant used to determine an acquired condition threshold. As discussed above, K s may be changed based on any suitable number of factors. For example, K s may be changed based on the detected device behavior. The detected device behavior may be based on a hazard reporting device or a group of hazard reporting devices. It is understood that K s can be set to zero.
Beim Übergang 5 kann die Zustandsmaschine 400 vom Alarm-Stummschaltungszustand 440 zum Überwachungszustand 420 übergehen, wenn T_Hush größer als oder gleich Max_Hush_Time ist und wenn „Rauch” kleiner ist als Smoke_T_Cur minus Ks. Dies betrifft die Bedingung, in der der „Rauch”-Pegel um einen vorbestimmten Wert zurückgegangen ist, nachdem ein vorbestimmter Zeitraum verstrichen ist. Die Zustandsmaschine 400 kann auch vom Alarm-Stummschaltungszustand 440 zum Überwachungszustand 430 übergehen, wenn T_Hush größer als oder gleich Max_Hush_Time ist und wenn „Rauch” kleiner ist als Smoke_T_Base. Dies kann die Bedingung abdecken, in der der „Rauch”-Pegel auf einen extrem niedrigen Wert zurückgegangen ist, nachdem ein zweiter vorbestimmter Zeitraum verstrichen ist.At transition 5, the state machine can 400 from the alarm mute state 440 to the monitoring state 420 override if T_Hush is greater than or equal to Max_Hush_Time and if "smoke" is less than Smoke_T_Cur minus K s . This refers to the condition in which the "smoke" level has decreased by a predetermined value after a predetermined period of time has elapsed. The state machine 400 can also be from the alarm mute state 440 to the monitoring state 430 override if T_Hush is greater than or equal to Max_Hush_Time and if "smoke" is less than Smoke_T_Base. This can cover the condition in which the "smoke" level has decreased to an extremely low value after a second predetermined period of time has elapsed.
Beim Übergang 6 kann die Zustandsmaschine 400 vom Alarmzustand 430 zum Überwachungszustand 420 übergehen, wenn „Rauch” kleiner ist als Smoke_T_Cur minus Ks, oder alternativ dazu, wenn „Rauch” kleiner ist als Smoke_T_Base. Beim Übergang 7 kann die Zustandsmaschine 400 vom Überwachungszustand 420 zum Inaktivitätszustand 410 übergehen, wenn „Rauch” kleiner ist als Smoke_T_Base.At transition 6, the state machine can 400 from the alarm state 430 to the monitoring state 420 override if Smoke is less than Smoke_T_Cur minus K s , or alternatively if Smoke is less than Smoke_T_Base. At transition 7, the state machine can 400 from the monitoring state 420 to inactivity state 410 skip when "smoke" is smaller than Smoke_T_Base.
Wie nach dem Stand der Technik bereits bekannt ist, können CO-Detektoren, weil CO den menschlichen Körper erst nach Akkumulation über einen Zeitraum schädigt, nicht über einen simplen Schwellenwertvorgang einer gemessenen Bedingung des CO-Pegels betrieben werden. Stattdessen können CO-Detektoren mittels einer Zeitintegral-Methodik arbeiten, bei der unterschiedliche „Zeitbänder” sich zu füllen beginnen, wenn der CO-Pegel über bestimmte Schwellenwerte steigt, sodass anschließend ein CO-Alarm nur dann ertönen kann, wenn es über bestimmte Zeiträume erträgliche CO-Pegel gegeben hat. Bei einigen Ausführungsformen können die Zeitbänder leer sein, wenn der CO-Pegel unter bestimmte Schwellenwerte fällt. Diese CO-„Zeitbänder” sind in der Tabelle 2 weiter unten wiedergegeben. Tabelle 2 enthält mehrere Spalten, die Band, US-Verordnung (ppm), US-Implementierung (ppm), US-Vorwarnzeit (min), US-Alarmzeit (min), EU-Verordnung (ppm), EU-Implementierung (ppm), EU-Vorwarnzeit (min) und EU-Zeit (min) beinhalten. Die US-Parameter sind als Bedingung 1 gruppiert dargestellt, und die EU-Parameter sind als Bedingung 2 gruppiert dargestellt. Es gibt vier CO-Zeitbänder: CO_B_Low, CO_B_Mid, CO_B_High und CO_B_VeryHigh. Die Pegelspalten der US- und EU-Verordnungen (ppm) definieren regierungsamtliche Schwellenwerte bei der Verwaltung der unterschiedlichen CO-Zeitbänder. Beispielsweise sollte sich beim Band CO_B_Low dieses Zeitband zu füllen beginnen, wenn die CO-Pegel 70 +/– 5 ppm für die USA und 50 ppm für Europa überschreiten. Tabelle 2 As already known in the art, because CO damages the human body only after accumulation over a period of time, CO detectors can not be operated via a simple threshold operation of a measured CO level condition. Instead, CO detectors can operate using a time-integral methodology in which different "time bands" begin to fill as the CO level rises above certain thresholds, so that a CO alarm can sound only when it is tolerable over a period of time CO level has given. In some embodiments, the time bands may be empty when the CO level falls below certain thresholds. These CO "time bands" are shown in Table 2 below. Table 2 contains several columns, the band, US regulation (ppm), US implementation (ppm), US alert time (min), US alert time (min), EU regulation (ppm), EU implementation (ppm) , EU pre-warning time (min) and EU time (min). The US parameters are grouped as condition 1, and the EU parameters are grouped as condition 2. There are four CO time bands: CO_B_Low, CO_B_Mid, CO_B_High, and CO_B_VeryHigh. The US and EU regulations (ppm) level columns define government thresholds for the management of different CO time bands. For example, for band CO_B_Low, this time band should begin to fill when CO levels exceed 70 +/- 5 ppm for the US and 50 ppm for Europe. Table 2
Die US- und EU-Implementierungspegel (ppm) können Implementierungsschwellenwerte des Gefahrenmeldesystems zur Handhabung der unterschiedlichen CO-Bänder gemäß den hierin erörterten Ausführungsformen definieren. Entsprechend der Darstellung können die Implementierungspegel auf Schwellenwerte gesetzt werden, die konservativer sind als die regierungsamtlich vorgeschriebenen Pegel. Beispielsweise kann der Implementierungspegel für das Band CO_B_Low anfänglich auf einen Wert unterhalb des Mindestwerts der US-Verordnung gesetzt werden, wie z. B. auf einen Wert von 64 oder darunter. Zusätzlich kann ein variabler Sicherheitsfaktor (nicht dargestellt) in eine Funktion übernommen werden, die zur Definition der Implementierungspegel verwendet wird, sodass der Implementierungspegel beispielsweise geändert werden kann, nachdem die Gefahrenmeldeeinrichtung das Feld erreicht. Die Funktion kann eine Subtraktionsfunktion sein, die einen anfänglichen Pegel um einen bestimmten Prozentsatz reduziert. Beispielsweise kann ein anfänglicher Implementierungspegel ausgewählt werden, der das Niveau der Regierungsverordnung erfüllt, und dieser anfängliche Pegel kann um einen Prozentsatz reduziert werden. Als spezifisches Beispiel für das US-Band CO_B_Low kann der anfängliche Implementierungspegel auf 65 gesetzt werden, und der Reduzierungsprozentsatz kann auf 10% gesetzt werden. Es ergibt sich der Implementierungspegel 58: 65–10% von 65 = 58.The US and EU implementation levels (ppm) may define implementation thresholds of the hazard reporting system for handling the different CO bands according to the embodiments discussed herein. As shown, the implementation levels may be set to thresholds that are more conservative than governmentally prescribed levels. For example, the implementation level for the band CO_B_Low may initially be set to a value below the minimum value of the US regulation, such as: For example, to a value of 64 or below. In addition, a variable safety factor (not shown) may be included in a function used to define the implementation levels so that, for example, the implementation level may be changed after the hazard notification device reaches the field. The function may be a subtraction function that reduces an initial level by a certain percentage. For example, an initial implementation level that meets the level of governmental regulation may be selected, and this initial level may be reduced by a percentage. As a specific example of US band CO_B_Low, the initial implementation level can be set to 65, and the reduction percentage can be set to 10%. The implementation level is 58: 65-10% of 65 = 58.
Im Betrieb können die CO-Zeitbänder so gehandhabt werden, dass sie Zeiteinheiten zu einem oder mehreren der Bänder basierend auf den von einem CO-Sensor erhaltenen CO-Datenwerten hinzufügen oder subtrahieren. Zeiteinheiten können durch einen beliebigen geeigneten Zeitfaktor dargestellt werden, wie z. B. Minuten oder Stunden. Im Interesse der leichteren Erörterung nehme man an, dass die Zeiteinheiten Minuten sind. Eine Zeiteinheitenmenge gibt die Anzahl von Zeiteinheiten an, die in einem CO-Zeitband sind. Bei einigen Ausführungsformen kann die Zeiteinheitenmenge für jedes CO-Band anfänglich auf null (0) gesetzt sein, und die Zeiteinheitenmenge fällt nicht unter null (0) und steigt auch nicht über die für das betreffende CO-Zeitband vorbestimmte Alarmzeit an. Eine Zeiteinheit kann zu einem oder mehreren CO-Zeitbändern hinzugefügt werden, wenn der CO-Datenwert größer als oder gleich dem diesem CO-Zeitband zugeordneten Implementierungspegel ist. Nimmt man an, dass der Implementierungspegel für das Band CO_B_Low 58 ist, wird beispielsweise für jede Minute, in der der CO-Pegel 58 erreicht oder überschreitet, eine Zeiteinheit hinzugefügt. Eine Zeiteinheit kann von einem oder mehreren CO-Zeitbändern subtrahiert werden, wenn der CO-Datenwert kleiner als ein Bruchteil des jedem CO-Zeitband zugeordneten Implementierungspegels ist. Falls beispielsweise gilt CO < CO_B_X_Level – (CO_B_X_Level·0,2), wobei CO_B_X_Level die Zeiteinheitenmenge für das CO-Zeitband X ist und wobei X eines der vier Zeitbänder ist, kann eine Zeiteinheit vom Zeitband X subtrahiert werden. Zeitbänder können nicht auf null gesetzt werden.In operation, the CO time bands may be manipulated to add or subtract time units to one or more of the bands based on the CO data values obtained from a CO sensor. Time units can be represented by any suitable time factor, such. Minutes or hours. For ease of discussion, assume that the time units are minutes. A unit of time quantity indicates the number of units of time that are in a CO time band. In some embodiments, the amount of time units for each CO band may initially be set to zero (0), and the amount of time units does not fall below zero (0), nor does it increase above the alarm time predetermined for that CO time band. A time unit may be added to one or more CO time bands if the CO data value is greater than or equal to the implementation level associated with that CO time band. Assuming that the implementation level for the tape is CO_B_Low 58, for example, one time unit is added for each minute that the CO level reaches or exceeds 58. A time unit may be subtracted from one or more CO time bands if the CO data value is less than a fraction of the implementation level associated with each CO time band. For example, if CO <CO_B_X_Level - (CO_B_X_Level * 0.2), where CO_B_X_Level is the time unit set for the CO time band X and X is one of the four time bands, then a unit of time may be subtracted from the time band X. Time bands can not be set to zero.
Die US- und EU-Alarmzeiten sind Zeitwerte, die definieren können, wann ein Alarm für ein bestimmtes Zeitband ertönen soll. Falls die Zeiteinheitenmenge eines CO-Zeitbands die Alarmzeit für das betreffende CO-Zeitband erreicht oder überschreitet, kann daher der Alarm aktiviert werden. Diese Alarmzeit-Parameter werden im Allgemeinen durch eine Regierungsstelle oder eine andere offizielle Sicherheitsorganisation definiert. Hinsichtlich der US-Bedingungen gilt beispielsweise, dass, falls die überwachten CO-Pegel 80 ppm über mehr als 120 min überschritten haben, ein Alarm ertönen muss, da das Band CO_B_Low gefüllt ist (d. h. die Zeiteinheitenmenge für das niedrige CO-Band ist 120). Als weiteres Beispiel hinsichtlich der US-Bedingungen können die Binder CO-B-Mid und CO_B_High gefüllt sein, wenn die überwachten CO-Pegel 450 ppm für mehr als 50 min überschreiten. Das Band CO_B_Low kann in Abhängigkeit von den CO-Pegeln vor dem Zeitraum von 50 min, in dem die CO-Pegeln 450 ppm überschritten haben, gefüllt sein oder nicht.The US and EU alarm times are time values that can define when an alarm should sound for a specific time band. Therefore, if the time unit amount of a CO time band reaches or exceeds the alarm time for that CO time band, the alarm can be activated. These alarm time parameters are generally defined by a government agency or other official security organization. For example, with regard to US conditions, if the monitored CO levels have exceeded 80 ppm for more than 120 minutes, an alarm must sound as the band CO_B_Low is filled (ie, the low CO band time unit amount is 120). , As another example of US conditions, the CO-B-Mid and CO_B_High binders may be filled when the monitored CO levels exceed 450 ppm for more than 50 minutes. The band CO_B_Low may or may not be filled depending on the CO levels before the period of 50 minutes in which the CO levels have exceeded 450 ppm.
Die US- und EU-Voralarm-Zeitparameter können definieren, wann eine Vorwarnung für ein bestimmtes Zeitband ertönen soll. Falls die Zeiteinheitenmenge eines CO-Zeitbands die Voralarmzeit für das betreffende CO-Zeitband erreicht oder überschreitet, kann daher eine Vorwarnung aktiviert werden (z. B. entsprechend der Erörterung weiter unten in Verbindung mit 8A und 8B). Diese Parameter können auf Schwellenwerte unterhalb der US- und EU-Alarmzeitparameter festgelegt werden, damit die Vorwarnung ertönen kann, bevor der eigentliche Alarm ausgelöst wird. Es versteht sich, dass, während die Pegel und Alarmzeiten der US- und EU-Verordnungen im Wesentlichen feste Parameter sind, die den US- und EU-Implementierungspegeln zugeordneten Parameter und die Voralarm-Stummschaltungszeiten veranschaulichend sind. The US and EU pre-alarm time parameters can define when an alert should sound for a specific time band. Therefore, if the time-unit amount of a CO time band reaches or exceeds the pre-alarm time for the CO time band in question, an alert may be activated (eg, as discussed below in connection with FIG 8A and 8B ). These parameters can be set to thresholds below the US and EU alarm time parameters so that the prewarning can sound before the actual alarm is triggered. It should be understood that while the levels and alert times of US and EU regulations are essentially fixed parameters, the parameters associated with the US and EU implementation levels and the pre-alarm mute times are illustrative.
Die CO-Zeitbänder können ihre jeweiligen Zeiteinheitenmengen auch dann beibehalten, nachdem eine Zeiteinheitenmenge ihren Alarmzeitparameter erreicht hat. Dies weicht ab von konventionellen CO-Detektoren, die ihre Zeitbänder einfach „entleeren” und wieder von vorn anfangen. Die Beibehaltung der Zeiteinheitenmengen während des Alarmprozesses, ohne die Zeitbänder zu „entleeren”, kann aus Sicherheitsgründen viel zweckmäßiger sein, da der menschliche Körper seine CO-Pegel sicher nicht „entleert”, wenn er einen Alarm hört und ihn anschließend stummschaltet. So kann es dann bei einem hypothetischen Szenario mit einem beständigen CO-Pegel (von z. B. „70”) im Raum, wenn ein konventioneller CO-Alarm durch den Benutzer stummgeschaltet ist, über eine Stunde dauern, bis der Alarm erneut einsetzt, auch wenn sich der CO-Gehalt weiterhin im Blut aufbaut. Basierend auf dem Betrieb der Zustandsmaschine des CO-Sensors gemäß den erörterten Ausführungsformen kann es dann auch nach einem Stummschaltungsereignis dazu kommen, dass der CO-Alarm weiterhin ertönt, da dies für die Gesundheit des Betroffenen angebracht sein kann.The CO time bands may retain their respective time-unit sets even after a time-unit set has reached its alarm-time parameter. This deviates from conventional CO detectors, which simply "empty" their time bands and start all over again. Maintaining the amount of time units during the alarm process without "draining" the time bands may be much more convenient for safety reasons, since the human body will certainly not "empty" its CO levels if it hears an alarm and then mutes it. Thus, in a hypothetical scenario with a persistent CO level (eg, "70") in the room, if a conventional CO alarm is muted by the user, it may take over an hour for the alarm to resume, even if the CO content continues to build up in the blood. Based on the operation of the state machine of the CO sensor according to the discussed embodiments, it may then happen even after a mute event that the CO alarm continues to sound as this may be appropriate for the health of the person concerned.
5A zeigt eine veranschaulichende Zustandsmaschine des CO-Sensors 500 gemäß einer Ausführungsform. Die Zustandsmaschine des CO-Sensors 500 kann einen Inaktivitätszustand 510, einen Überwachungszustand 520 und einen Alarm-Stummschaltungszustand 530 beinhalten. Die Zustandsmaschine 500 kann basierend auf einer oder mehreren Bedingungen zwischen den Zuständen 510, 520 und 530 wechseln. Entsprechend der Darstellung können in der Zustandsmaschine 500 fünf (5) unterschiedliche Zustandsübergänge vorliegen. 5B zeigt die Bedingungen in Zusammenhang mit jedem Übergang. Insbesondere beinhaltet 5B mehrere Spalten mit Informationen, die als Übergang, Von, Zu und Bedingung bezeichnet sind. Jede Zeile entspricht einem der Übergänge aus 5A, und identifiziert den „Von”-Zustand und den „Zu”-Zustand und eine oder mehrere der Bedingungen, die ggf. erfüllt sein müssen, damit der Übergang erfolgt. Die Übergänge der Zustandsmaschine 500 werden nun mit Bezug auf 5A und 5B erörtert. 5A shows an illustrative state machine of the CO sensor 500 according to one embodiment. The state machine of the CO sensor 500 can be an inactivity state 510 , a monitoring state 520 and an alarm mute state 530 include. The state machine 500 can be based on one or more conditions between states 510 . 520 and 530 switch. As shown, in the state machine 500 there are five (5) different state transitions. 5B shows the conditions associated with each transition. In particular, includes 5B multiple columns of information called transition, from, to, and condition. Each line corresponds to one of the transitions 5A , and identifies the "from" state and the "to" state and one or more of the conditions that may need to be met for the transition to occur. The transitions of the state machine 500 are now referring to 5A and 5B discussed.
Beim Übergang 1 kann die Zustandsmaschine 500 vom Inaktivitätszustand 510 zum Alarmzustand 520 übergehen, wenn ein CO-Zeitband voll ist. Mit Bezug auf die vorstehende Tabelle 2 ist ein CO-Zeitband voll, wenn der überwachte CO-Datenwert (hierin als „CO” bezeichnet) den Implementierungsschwellenwert für eine die Alarmzeit überschreitende Zeitdauer überschreitet. Der überwachte CO-Datenwert kann ein Rohdatenwert oder ein gefilterter Datenwert sein. Beim Übergang 2 kann die Zustandsmaschine 500 als Reaktion auf ein detektiertes Stummschaltungsereignis vom Alarmzustand 520 zum Stummschaltungszustand 530 übergehen. Das detektierte Stummschaltungsereignis kann eine gestengesteuerte Stummschaltung oder eine Tastenbetätigung sein.At transition 1, the state machine can 500 from inactivity state 510 to the alarm state 520 skip when a CO time band is full. With reference to Table 2 above, a CO time band is full when the monitored CO data value (referred to herein as "CO") exceeds the implementation threshold for a time period exceeding the alarm time. The monitored CO data value may be a raw data value or a filtered data value. At transition 2, the state machine can 500 in response to a detected mute event from the alarm condition 520 to the mute state 530 pass. The detected mute event may be a gesture-controlled mute or a key press.
Beim Übergang 3 kann die Zustandsmaschine 500 vom Stummschaltungszustand 530 zum Alarmzustand 520 übergehen, falls die Zeitdauer der Stummschaltung (hierin als „T_Hushed” bezeichnet) größer als oder gleich einer Stummschaltungs-Zeitdauer (hierin als „Min_Alarm_Hush_Time” bezeichnet) ist und der überwachte CO-Pegel (CO) größer als oder gleich einem CO-Mindestschwellenwert (hierin als „CO_B_Low_Level” bezeichnet) ist. Bei einer Ausführungsform ist der CO_B_Low_Level der Implementierungspegel des Zeitbands CO_B_Low.At transition 3, the state machine can 500 from the mute state 530 to the alarm state 520 if the duration of the muting (herein referred to as "T_Hushed") is greater than or equal to a muting period (herein referred to as "Min_Alarm_Hush_Time") and the monitored CO level (CO) is greater than or equal to a minimum CO threshold ( herein referred to as "CO_B_Low_Level"). In one embodiment, the CO_B_Low_Level is the implementation level of the time band CO_B_Low.
Beim Übergang 4 kann die Zustandsmaschine 500 vom Stummschaltungszustand 530 zum Inaktivitätszustand 510 übergehen, falls die Zeitdauer der Stummschaltung (T_Hushed) größer als oder gleich der Mindest-Stummschaltungs-Zeitdauer (Min_Alarm_Hush_Time) ist und der überwachte CO-Pegel kleiner als der CO-Mindestschwellenwert (CO_B_Low_Level) ist. Beim Übergang 5 kann die Zustandsmaschine 500 vom Alarmzustand 520 zum Inaktivitätszustand 510 übergehen, falls der überwachte CO-Pegel kleiner als der CO-Mindestschwellenwert CO_B_Low_Level ist.At transition 4, the state machine can 500 from the mute state 530 to inactivity state 510 if the duration of the mute (T_Hushed) is greater than or equal to the minimum mute duration (Min_Alarm_Hush_Time) and the monitored CO level is less than the minimum CO level (CO_B_Low_Level). At transition 5, the state machine can 500 from the alarm state 520 to inactivity state 510 if the monitored CO level is less than the CO minimum threshold CO_B_Low_Level.
6A zeigt eine veranschaulichende Hitzezustandsmaschine 600 gemäß einer Ausführungsform. Die Hitzesensor-Zustandsmaschine 600 kann einen Inaktivitätszustand 610, einen Alarmzustand 620 und einen Stummschaltungszustand 630 beinhalten. Die Zustandsmaschine 600 kann basierend auf einer oder mehreren Bedingungen zwischen den Zuständen 610, 620 und 630 wechseln. Entsprechend der Darstellung können in der Zustandsmaschine 600 fünf (5) unterschiedliche Zustandsübergänge vorliegen. 6B zeigt die Bedingungen in Zusammenhang mit jedem Übergang. Insbesondere beinhaltet 6B mehrere Spalten mit Informationen, die als Übergang, Von, Zu und Bedingung bezeichnet sind. Jede Zeile entspricht einem der Übergänge aus 5A, und identifiziert den „Von”-Zustand und den „Zu”-Zustand und eine oder mehrere der Bedingungen, die ggf. erfüllt sein müssen, damit der Übergang erfolgt. Der Übergang zwischen Zuständen mit Bezug auf 6A und 6B wird erörtert. 6A shows an illustrative heat state machine 600 according to one embodiment. The heat sensor state machine 600 can be an inactivity state 610 , an alarm condition 620 and a mute state 630 include. The state machine 600 can be based on one or more conditions between states 610 . 620 and 630 switch. As shown, in the state machine 600 there are five (5) different state transitions. 6B show the Conditions associated with each transition. In particular, includes 6B multiple columns of information called transition, from, to, and condition. Each line corresponds to one of the transitions 5A , and identifies the "from" state and the "to" state and one or more of the conditions that may need to be met for the transition to occur. The transition between states with respect to 6A and 6B will be discussed.
Beim Übergang 1, geht die Zustandsmaschine 600 vom Inaktivitätszustand 610 zum Alarmzustand 620 über, wenn ein Hitzedatenwert (hierin als „Temp” bezeichnet) größer ist als ein Hitzealarm-Alarmschwellenwert ist (hierin bezeichnet als „Heat_T_First”). Bei einer Ausführungsform kann der Hitzedatenwert ein überwachter Hitzewert sein, der direkt von einem Hitzesensor (z. B. vom Temperatursensor 1326) im Gefahrenmeldesystem gemessen wird. Bei einer anderen Ausführungsform kann der Hitzedatenwert eine Funktion des überwachten Hitzewerts sein. Die Funktion kann einen beschleunigten Temperaturalgorithmus auf den überwachten Hitzewert anwenden, um eine Schätzung der tatsächlichen Temperatur der Umgebung des Gefahrenmeldesystems zu erzeugen. Die Anwendung eines solchen Algorithmus kann die relativ langsame Anstiegszeit eines Temperatursensors als Reaktion auf überwachte Temperaturänderungen kompensieren. Weitere Einzelheiten dieses Algorithmus werden im Folgenden erörtert.At transition 1, the state machine goes 600 from inactivity state 610 to the alarm state 620 when a heat data value (referred to herein as "Temp") is greater than a heat alarm alarm threshold (referred to herein as "Heat_T_First"). In one embodiment, the heat data value may be a monitored heat value derived directly from a heat sensor (eg, from the temperature sensor 1326 ) is measured in the hazard detection system. In another embodiment, the heat data value may be a function of the monitored heat value. The function may apply an accelerated temperature algorithm to the monitored heat value to produce an estimate of the actual temperature of the environment of the hazard detection system. The application of such an algorithm can compensate for the relatively slow rise time of a temperature sensor in response to monitored temperature changes. Further details of this algorithm are discussed below.
Beim Übergang 2 kann die Zustandsmaschine 600 vom Alarmzustand 620 zum Stummschaltungzustand 630 übergehen, wenn Temp kleiner ist als ein zweiter Hitzealarm-Schwellenwert (hierin bezeichnet als „Heat_T_Second”) und ein Stummschaltungsereignis detektiert wird. Heat_T_Second kann einen höheren Wert als Heat_T_First haben. Beim Übergang 3 kann die Zustandsmaschine 600 vom Stummschaltungszustand 630 zum Alarmzustand 620 übergehen, wenn Temp größer ist als Heat_T_Second. Die Zustandsmaschine 600 kann auch vom Stummschaltungszustand 630 zum Alarmzustand 620 übergehen, falls die Zeitdauer der Stummschaltung (hierin als „T_Hushed” bezeichnet) größer als oder gleich einer Mindest-Stummschaltungs-Zeitdauer (hierin bezeichnet als „Min_Alarm_Hush_Time”) ist und Temp größer als oder gleich einem dritten Hitzealarm-Schwellenwert (hierin bezeichnet als „Heat_T_Third”) ist. Der dritte Hitzealarm-Schwellenwert ist kleiner als der erste Hitzealarm-Schwellenwert.At transition 2, the state machine can 600 from the alarm state 620 to the mute state 630 transition when Temp is less than a second heat alarm threshold (herein referred to as "Heat_T_Second") and a mute event is detected. Heat_T_Second may have a higher value than Heat_T_First. At transition 3, the state machine can 600 from the mute state 630 to the alarm state 620 override if Temp is greater than Heat_T_Second. The state machine 600 can also be from the mute state 630 to the alarm state 620 if the duration of the muting (herein referred to as "T_Hushed") is greater than or equal to a minimum muting period (herein referred to as "Min_Alarm_Hush_Time") and Temp is greater than or equal to a third heat alarm threshold (herein referred to as " Heat_T_Third ") is. The third heat alarm threshold is less than the first heat alarm threshold.
Beim Übergang 4 kann die Zustandsmaschine 600 vom Stummschaltungszustand 630 zum Inaktivitätszustand 610 übergehen, wenn Temp kleiner ist als Heat_T_Third. Beim Übergang 5 kann die Zustandsmaschine 600 vom Alarmzustand 620 zum Inaktivitätszustand 610 übergehen, wenn T_Hushed größer als oder gleich Min_T_Hush_Time ist und wenn Temp kleiner ist als Heat_T_Third.At transition 4, the state machine can 600 from the mute state 630 to inactivity state 610 override if Temp is less than Heat_T_Third. At transition 5, the state machine can 600 from the alarm state 620 to inactivity state 610 override if T_Hushed is greater than or equal to Min_T_Hush_Time and if Temp is less than Heat_T_Third.
Entsprechend der vorstehenden Erörterung kann ein beschleunigter Temperaturalgorithmus verwendet werden, um die tatsächliche, von einem Temperatursensor erfasste Temperatur abzuschätzen. Bei einigen Ausführungsformen können die Rohtemperaturdaten von einem NTC-Thermistor in regelmäßigen Abständen (z. B. jede Sekunde oder alle zwei Sekunden) erfasst werden. Die erfassten Rohdaten zu einem einpoligen Tiefpassfilter mit unendlicher Impulsantwort (IIR) bereitgestellt werden, um eine Filterdatenauslesung zu erhalten. Die Filterdatenauslesung kann unter Verwendung der folgenden Formel (1) erhalten werden: yi = αxi + (1 – α)yi–1 (1) wobei yi ein gefilterter Wert ist, α ein Glättungsfaktor ist, xi vom Sensor erhaltene Rohdaten sind und yi–1 der zuvor gefilterte Wert ist. Der Glättungsfaktor kann laut Definition zwischen 0 ≤ α ≤ 1 liegen. Insbesondere kann α durch die folgende Gleichung (2) definiert werden: wobei RC durch die folgende Gleichung (3) definiert sein kann: RC = ΔT( 1 – α / α) (3). As discussed above, an accelerated temperature algorithm may be used to estimate the actual temperature sensed by a temperature sensor. In some embodiments, the raw temperature data from an NTC thermistor may be collected at regular intervals (eg, every second or every two seconds). The acquired raw data is provided to a single-ended infinite impulse response (IIR) low-pass filter to obtain a filter data readout. The filter data readout can be obtained by using the following formula (1): y i = αx i + (1-α) y i-1 (1) where y i is a filtered value, α is a smoothing factor, x i are raw data obtained from the sensor, and y i-1 is the previously filtered value. The smoothing factor can be defined as 0 ≤ α ≤ 1 by definition. In particular, α can be defined by the following equation (2): where RC can be defined by the following equation (3): RC = Δ T (1 - α / α) (3).
Bei einer Ausführungsform, wobei ΔT 1 Sekunde ist, kann α 0,01 sein. Die beschleunigte Temperatur kann auf der Grundlage der folgenden Gleichung (4) berechnet werden: Accelerated_Tempi = yi + (xi – yi)·Gain (4) wobei die Verstärkung (Gain) 10 sein kann. Es versteht sich, dass bei einigen Ausführungsformen die beschleunigte Temperatur der Parameter sein kann, der durch andere Zustandsmaschinen und Module verwendet wird. Beispielsweise kann die Zustandsmaschine des Rauchsensors 400 die beschleunigte Temperatur beim Übergang 6 verwenden. Als weiteres Beispiel kann das Alarmschwellen-Einstellmodul 900 (weiter unten erörtert) die beschleunigte Temperatur verwenden.In one embodiment, where Δ T is 1 second, α may be 0.01. The accelerated temperature can be calculated based on the following equation (4): Accelerated_Temp i = y i + (x i -y i ) · gain (4) where the gain may be 10. It is understood that in some embodiments, the accelerated temperature may be the parameter used by other state machines and modules is used. For example, the state machine of the smoke sensor 400 to use the accelerated temperature at transition 6. As another example, the alarm threshold adjustment module 900 (discussed below) use the accelerated temperature.
Bei einigen Ausführungsformen können zusätzliche Bedingungen für die Hitzesensor-Zustandsmaschine 600 vorgeschrieben werden. Zum Beispiel kann die Zustandsmaschine 600 aus jedem Zustand in den Alarmzustand 620 übergehen, wenn eine Änderungsrate von Temp eingehalten wird oder eine vorbestimmte Änderungsrate überschreitet. Die vorbestimmte Änderungsrate des Schwellenwerts kann beispielsweise eine Änderung um sechs Grad pro Minute sein. Bei anderen Ausführungsformen können zwei oder mehr von Hitzesensoren erfasste Datenwerte von der Zustandsmaschine 600 verwendet werden. Beispielsweise kann ein Mittelwert oder Medianwert der durch zwei oder mehr Hitzesensoren erfassten Datenwerte als Parameter Temp in 6B verwendet werden. Die zwei oder mehr Hitzesensoren können von der gleichen Art (beispielsweise zwei Thermistor-Hitzesensoren) oder unterschiedliche Typen sein. Als weiteres Beispiel können Datenwerte von zwei Hitzesensoren miteinander verglichen werden, und wenn die Differenz zwischen den beiden einen vorbestimmten Wert überschreitet, kann die Zustandsmaschine 600 temporär deaktiviert werden.In some embodiments, additional conditions may exist for the heat sensor state machine 600 be prescribed. For example, the state machine 600 from any state to the alarm state 620 when a rate of change of Temp is maintained or exceeds a predetermined rate of change. The predetermined rate of change of the threshold may be, for example, a six degree per minute change. In other embodiments, two or more data values sensed by heat sensors may be from the state machine 600 be used. For example, an average or median value of the data values acquired by two or more heat sensors may be used as the parameter Temp in 6B be used. The two or more heat sensors may be of the same type (eg, two thermistor heat sensors) or different types. As another example, data values from two heat sensors may be compared, and if the difference between the two exceeds a predetermined value, the state machine may 600 temporarily disabled.
7A zeigt eine beispielhafte Zustandsmaschine des Rauchsystems 700 gemäß einer Ausführungsform. Die Zustandsmaschine des Rauchsystems 700 kann einen Inaktivitätszustand 710, einen Überwachungszustand 720, einen Alarmzustand 730, einen Alarm-Stummschaltungszustand 738, einen ersten Voralarmzustand 740, einen zweiten Voralarmzustand 744, einen Voralarm-Stummschaltungszustand 748, einen Haltezustand 750 und einen Alarmüberwachungszustand 760 beinhalten. Es versteht sich, dass zusätzliche Zustände in die Zustandsmaschine 700 integriert und/oder dass ein oder mehrere Zustände ausgelassen werden können. Die Zustandsmaschine 700 kann gemäß einer Ausführungsform basierend auf den in 7B aufgeführten Bedingungen zwischen diesen Zuständen wechseln. 7B beinhaltet mehrere Spalten mit Informationen, die als Übergang, Von, Zu, Bedingung und Bedingungsvariable bezeichnet sind. Jede Zeile entspricht einem der Übergänge aus 7A, identifiziert den „Von”-Zustand und den „Zu”-Zustand und eine oder mehrere der Bedingungen, die ggf. erfüllt sein müssen, damit der Übergang erfolgt, sowie ggf. die Bedingungsvariablen. Bei der folgenden Erörterung wird kollektiv auf 7A und 7B Bezug genommen. 7A shows an exemplary state machine of the smoke system 700 according to one embodiment. The state machine of the smoke system 700 can be an inactivity state 710 , a monitoring state 720 , an alarm condition 730 , an alarm mute state 738 , a first pre-alarm state 740 , a second pre-alarm state 744 , a pre-alarm mute state 748 , a holding state 750 and an alarm monitoring state 760 include. It is understood that additional states in the state machine 700 integrated and / or that one or more states can be omitted. The state machine 700 According to one embodiment, based on the in 7B change conditions between these states. 7B contains several columns of information called transition, from, to, condition, and condition variables. Each line corresponds to one of the transitions 7A , identifies the "from" state and the "to" state, and one or more of the conditions that may need to be met for the transition to occur, and possibly the condition variables. In the following discussion will collectively on 7A and 7B Referenced.
Die Rauchsystem-Zustandsmaschine 700 kann es der Zustandsmaschine des Rauchsensors 400 ermöglichen, eine oder mehrere ihrer Zustandsübergänge zu steuern. Insbesondere kann die Zustandsmaschine des Rauchsensors 400 die Übergänge der Zustandsmaschine des Rauchsystems 700 in einen Inaktivitätszustand 710, einen Alarmzustand 730, einen Haltezustand 750 und einen Alarmüberwachungszustand 760 steuern. Diese gemeinsame Anordnung erlaubt es der Zustandsmaschine des Rauchsensors 400, den Alarmzustand des Rauchmelders zu steuern, und sie erlaubt es der Zustandsmaschine des Rauchsystems 700, die Voralarmzustände steuern. Somit kann die Zustandsmaschine des Rauchsensors 400 unabhängig davon, in welchem Nicht-Alarm-Zustand sich die Zustandsmaschine des Rauchsystems 700 befindet (z. B. erster Voralarmzustand 740, Voralarm-Stummschaltungszustand 748 usw.), das Ertönen des Alarms bewirken, falls die überwachten Rauchpegel den Rauchalarm-Schwellenwert überschreiten.The smoke system state machine 700 it may be the state machine of the smoke sensor 400 allow one or more of their state transitions to be controlled. In particular, the state machine of the smoke sensor 400 the transitions of the state machine of the smoke system 700 into an inactivity state 710 , an alarm condition 730 , a holding state 750 and an alarm monitoring state 760 Taxes. This common arrangement allows the state machine of the smoke sensor 400 to control the alarm condition of the smoke detector, and it allows the state machine of the smoke system 700 controlling pre-alarm conditions. Thus, the state machine of the smoke sensor 400 regardless of which non-alarm state the smoke machine state machine is 700 is located (eg first pre-alarm state 740 , Pre-alarm mute state 748 etc.) cause the alarm to sound if the monitored smoke levels exceed the smoke alarm threshold.
Beim Übergang 1 kann die Zustandsmaschine des Rauchsystems 700 von einem beliebigen Zustand zum Alarmzustand 730 übergehen, wenn „Rauch” größer als oder gleich Smoke_T_Cur ist. Dieser Übergang wird durch den Übergang 2 der Zustandsmaschine des Rauchsensors 400 gesteuert (entsprechend der Erörterung weiter oben).At transition 1, the state machine of the smoke system 700 from any state to the alarm state 730 skip when "smoke" is greater than or equal to Smoke_T_Cur. This transition is made by the transition 2 of the state machine of the smoke sensor 400 controlled (as discussed earlier).
Bei Übergang 2 kann die Zustandsmaschine des Rauchsystems 700 vom Überwachungszustand 720 zum ersten Voralarmzustand 740 übergehen, wenn „Rauch” größer als oder gleich einem ersten Voralarm-Schwellenwert ist (hierin bezeichnet als „Smoke_PA1_Threshold”). Smoke_PA1_Threshold kann durch das Alarm/Voralarm-Schwellenwerteinstellungsmodul 1312 bestimmt werden, das im Folgenden näher erläutert wird. Der erste Voralarmzustand 740 kann eine Bedingung darstellen, bei der erhöhte Rauchpegel erkannt werden, aber mit einem Pegel, der geringer ist als zum Auslösen des Alarms erforderlich. In diesem Zustand kann die Zustandsmaschine des Rauchsystems 700 eine Warnung über einen Lautsprecher (z. B. Lautsprecher 354) wiedergeben oder das Blinken einer Anzeige (z. B. Display 352) veranlassen. Bei Übergang 3 kann die Zustandsmaschine des Rauchsystems 700 vom ersten Voralarmzustand 740 zum zweiten Voralarmzustand 744 übergehen, wenn die seit Eintritt in den ersten Voralarmzustand 740 verstrichene Zeit (hierin bezeichnet als „T_PA1”) gleich einem maximalen Stummschaltungszeit-Schwellenwert (hierin bezeichnet als „Max_Hush_Time”) ist oder diesen überschreitet und wenn „Rauch” größer als oder gleich Smoke_PA1_Threshold plus einer Konstanten Ks ist. Der zweite Voralarmzustand 744 kann eine Bedingung darstellen, bei der stark erhöhte Rauchpegel erkannt werden. Ein derartiger Rauchpegel kann größer sein als der betreffende Rauchpegel beim ersten Voralarmzustand 740, aber kleiner als zur Alarmauslösung erforderlich ist. In diesem Zustand kann die Zustandsmaschine 700 eine weitere Meldung über den Lautsprecher wiedergeben oder das Blinken unterschiedlicher Leuchten veranlassen.At transition 2, the state machine of the smoke system 700 from the monitoring state 720 to the first pre-alarm state 740 when "smoke" is greater than or equal to a first pre-alarm threshold (referred to herein as "Smoke_PA1_Threshold"). Smoke_PA1_Threshold may be triggered by the alarm / pre-alarm threshold setting module 1312 be determined, which is explained in more detail below. The first pre-alarm state 740 may represent a condition where increased levels of smoke are detected but at a level less than that required to trigger the alarm. In this state, the state machine of the smoke system 700 a warning via a loudspeaker (eg loudspeaker 354 ) or the flashing of a display (eg display 352 ). At transition 3, the state machine of the smoke system 700 from the first pre-alarm state 740 to the second pre-alarm state 744 override if that since entering the first pre-alarm state 740 elapsed time (herein referred to as "T_PA1") equals or exceeds a maximum mute time threshold (herein referred to as "Max_Hush_Time") and when "smoke" is greater than or equal to Smoke_PA1_Threshold plus a constant K s . The second pre-alarm state 744 may represent a condition where high levels of smoke are detected. Such a smoke level may be greater than the respective smoke level at the first pre-alarm condition 740 , but less than required for alarm triggering. In this condition can the state machine 700 play another message via the loudspeaker or cause the flashing of different lights.
Bei Übergang 4 kann die Zustandsmaschine 700 vom ersten Voralarmzustand 748 zum zweiten Voralarmzustand 744 übergehen, wenn die seit Eintritt in den Voralarm-Stummschaltungszustand 748 verstrichene Zeit (hierin bezeichnet als „T_PA_Hushed”) gleich „Max_Hush_Time” ist oder diesen Wert überschreitet und wenn „Rauch” größer als oder gleich Smoke_Hushed plus Ks, wobei Smoke-Hushed der Rauchpegel ist, als die Zustandsmaschine 700 anfänglich in den Voralarm-Stummschaltungszustand 748 übergegangen ist.At transition 4, the state machine can 700 from the first pre-alarm state 748 to the second pre-alarm state 744 override when entering the pre-alarm mute state 748 elapsed time (herein referred to as "T_PA_Hushed") is equal to or exceeds "Max_Hush_Time" and when "smoke" is greater than or equal to Smoke_Hushed plus K s , where smoke-hushed is the smoke level, as the state machine 700 initially in the pre-alarm mute state 748 has passed.
Beim Übergang 5 kann die Zustandsmaschine 700 vom Alarm-Stummschaltungszustand 738 zum Alarmzustand 730 übergehen, wenn eine Bedingung des Übergangs 4 der Zustandsmaschine des Rauchsensors 400 erfüllt ist. Siehe hierzu die Bedingungen für Übergang 4 in 4B entsprechend der vorstehenden Erörterung.At transition 5, the state machine can 700 from the alarm mute state 738 to the alarm state 730 pass if a condition of transition 4 of the state machine of the smoke sensor 400 is satisfied. See the conditions for transition 4 in 4B according to the above discussion.
Bei den Übergängen 6 und 12 kann die Zustandsmaschine 700 aus dem ersten Voralarmzustand 740 oder aus dem zweiten Voralarmzustand 744 in den Überwachungszustand 720 oder aus dem Voralarm-Stummschaltungszustand 748 in den Überwachungszustand 720 übergehen, wenn (1) „Rauch” kleiner ist Smoke_PA1_Threshold minus Ks und wenn (2) CO kleiner ist als CO_B_Low_Level und wenn (3) Temp geringer ist als der dritte Hitzeschwellenwert, der kleiner ist als der erste Hitzeschwellenwert.At transitions 6 and 12, the state machine 700 from the first pre-alarm state 740 or from the second pre-alarm state 744 in the monitoring state 720 or from the pre-alarm mute state 748 in the monitoring state 720 when (1) "smoke" is less Smoke_PA1_Threshold minus K s and when (2) CO is less than CO_B_Low_Level and when (3) Temp is less than the third heat threshold smaller than the first heat threshold.
Beim Übergang 7 kann die Zustandsmaschine 700 vom Alarmzustand 730 oder vom Alarm-Stummschaltungszustand 738 in den Haltezustand 750 übergehen, wenn die Bedingungen entweder des Übergangs 5 oder des Übergangs 6 der Zustandsmaschine des Rauchsensors 400 erfüllt sind. Siehe hierzu die Bedingungen für die Übergänge 5 und 6 in 4B entsprechend der vorstehenden Erörterung. Falls das Gefahrenmeldesystem ein Alarmereignis erkannt hat und Bedingungen vorliegen, die ihm ein sicheres Verlassen des Alarmzustands 730 oder des Alarm-Stummschaltungszustands 738 ermöglichen, kann die Zustandsmaschine 700 in den Haltezustand 750 übergehen. Der Haltezustand 750 kann als Entwarnungszustand dienen, um die Aktivierung einer Vorwarnung (z. B. entweder der ersten oder der zweiten Vorwarnung) zu verhindern.At transition 7, the state machine can 700 from the alarm state 730 or from the alarm mute state 738 in the holding state 750 pass if the conditions of either the transition 5 or the transition 6 of the state machine of the smoke sensor 400 are fulfilled. See the conditions for transitions 5 and 6 in 4B according to the above discussion. If the hazard detection system has detected an alarm event and there are conditions that allow it to safely leave the alarm state 730 or the alarm mute state 738 can enable the state machine 700 in the holding state 750 pass. The holding state 750 may serve as a clear-save state to prevent the activation of an alert (eg, either the first or the second alert).
Beim Übergang 8 kann die Zustandsmaschine 700 aus dem Inaktivitätszustand 710 in den Überwachungszustand 720 übergehen, wenn „Rauch” größer als oder gleich Smoke_T_Cur ist. Im Überwachungszustand 720 kann die Zustandsmaschine 700 das Gefahrenmeldesystem anweisen, die Abtastrate von einem oder mehreren Sensoren zu erhöhen. Alternativ dazu kann der Übergang 8 durch den Übergang 2 der Rauchzustandsmaschine 400 gesteuert werden.At transition 8, the state machine can 700 from the inactivity state 710 in the monitoring state 720 skip when "smoke" is greater than or equal to Smoke_T_Cur. In the monitoring state 720 can the state machine 700 instruct the hazard detection system to increase the sampling rate of one or more sensors. Alternatively, the transition 8 through the transition 2 of the smoke state machine 400 to be controlled.
Beim Übergang 9 kann die Zustandsmaschine 700 vom Überwachungszustand 720 zum Inaktivitätszustand 710 übergehen, wenn die Bedingung des Übergangs 7 der Zustandsmaschine des Rauchsensors 400 erfüllt ist. Weiter kann die Zustandsmaschine 700, unmittelbar nachdem die Zustandsmaschine 700 in einen Alarmüberwachungszustand 760 übergegangen ist, automatisch vom Alarmüberwachungszustand 760 in den Inaktivitätszustand 710 übergehen. Im Alarmüberwachungszustand 760 kann die Zustandsmaschine 700 eine Meldung „Bedingung entfallen” über einen Lautsprecher wiedergeben. Die Meldung „Bedingung entfallen” kann beispielsweise angeben, dass die Rauchpegel nicht länger mit anomalen Werten detektiert werden.At transition 9, the state machine can 700 from the monitoring state 720 to inactivity state 710 go over when the condition of transition 7 of the state machine of the smoke sensor 400 is satisfied. Next, the state machine 700 immediately after the state machine 700 in an alarm monitoring state 760 has passed automatically from the alarm monitoring state 760 in the inactivity state 710 pass. In the alarm monitoring state 760 can the state machine 700 a message "condition omitted" over a loudspeaker play. For example, the message "condition omitted" may indicate that smoke levels are no longer detected at anomalous levels.
Beim Übergang 10 kann die Zustandsmaschine 700 als Reaktion auf ein detektiertes Stummschaltungsereignis aus dem ersten Voralarmzustand 740 oder aus dem zweiten Voralarmzustand 744 in den Voralarm-Stummschaltungszustand 748 übergehen. Beim Übergang 11 kann die Zustandsmaschine 700 als Reaktion auf ein detektiertes Stummschaltungsereignis vom Alarmzustand 730 zum Alarm-Stummschaltungszustand 738 übergehen. Beim Übergang 13 kann die Zustandsmaschine 700 vom Haltezustand 750 zum Alarm-Überwachungszustand 760 übergehen, wenn die Bedingung des Übergangs 7 der Zustandsmaschine des Rauchsensors 400 erfüllt ist.At transition 10, the state machine can 700 in response to a detected mute event from the first pre-alarm condition 740 or from the second pre-alarm state 744 in the pre-alarm mute state 748 pass. At transition 11, the state machine can 700 in response to a detected mute event from the alarm condition 730 to the alarm mute state 738 pass. At transition 13, the state machine can 700 from the holding state 750 to the alarm monitoring state 760 go over when the condition of transition 7 of the state machine of the smoke sensor 400 is satisfied.
8A zeigt eine veranschaulichende Zustandsmaschine des CO-Systems 800 gemäß einer Ausführungsform. Die Zustandsmaschine des CO-Systems 800 kann einen Inaktivitätszustand 810, einen Überwachungszustand 820, einen Alarmzustand 830, einen Alarm-Stummschaltungszustand 838, einen ersten Voralarmzustand 840, einen zweiten Voralarmzustand 844, einen Voralarm-Stummschaltungszustand 848, einen Haltezustand 850, und einen Alarmüberwachungszustand 860 beinhalten. Es versteht sich, dass zusätzliche Zustände in die Zustandsmaschine 800 integriert und/oder dass ein oder mehrere Zustände ausgelassen werden können. Die CO-Zustandsmaschine 800 kann viele oder alle der gleichen Zustande übernehmen wie die Zustandsmaschine des Rauchsystems 700, und jeder im Rahmen des Gefahrenmeldesystems als Reaktion auf den Eintritt eines der CO-Zustande ausgeführte Vorgang kann ähnlich dem vom Gefahrenmeldesystem ausgeführten Vorgang als Reaktion auf den Eintritt in einen der Rauchzustände sein. Auf verschiedene Sensor-Zustände des Rauch-Systems angewandte Definitionen sind somit auf die Sensor-Zustände des CO-Systems anwendbar. Falls beispielsweise entweder die Zustandsmaschine des Rauchsystems 700 oder die Zustandsmaschine des CO-Systems 800 in einen Alarmzustand übergeht, löst das Gefahrenmeldesystem den Alarm aus. Der Alarm kann als ein CO-Alarm charakterisiert werden, wenn die CO-bezogene Zustandsmaschine auf Alarm geht, oder der Alarm kann als Rauchalarm charakterisiert werden, wenn rauchbezogene Zustandsmaschine auf Alarm geht, oder der Alarm kann sowohl als Rauch- wie auch als CO-Alarm charakterisiert werden, wenn sowohl die rauchbezogene als auch die CO-bezogene Zustandsmaschine auf Alarm geht. Als weiteres ähnliches Beispiel kann das Gefahrenmeldesystem, wenn eine der Zustandsmaschinen in einen Voralarmzustand übergeht, eine Voralarmmeldung wiedergeben. Die Meldung kann allgemein sein, oder sie kann spezifisch für die Systemzustandsmaschine sein, die in den Voralarmzustand eingetreten ist. Obwohl viele der CO-Systemzustände gleich den Rauch-Systemzuständen sein können, basieren die Übergänge zwischen diesen Zuständen auf unterschiedlichen Bedingungen. Insbesondere kann die Zustandsmaschine 800 basierend auf den in 8B aufgeführten Bedingungen gemäß einer Ausführungsform zwischen Zuständen wechseln. 8B schließt mehrere Spalten mit Informationen ein, die bezeichnet sind als Übergang, Von, Zu, Bedingung und Bedingungsvariable. Jede Zeile entspricht einem der Übergänge aus 8A, identifiziert den „Von”-Zustand und den „Zu”-Zustand und eine oder mehrere der Bedingungen, die ggf. erfüllt sein müssen, damit der Übergang erfolgt, sowie ggf. die Bedingungsvariablen. Bei der folgenden Erörterung wird Bezug genommen auf 8A und 8B gemeinsam. 8A shows an illustrative state machine of the CO system 800 according to one embodiment. The state machine of the CO system 800 can be an inactivity state 810 , a monitoring state 820 , an alarm condition 830 , an alarm mute state 838 , a first pre-alarm state 840 , a second pre-alarm state 844 , a pre-alarm mute state 848 , a holding state 850 , and an alarm monitoring state 860 include. It is understood that additional states in the state machine 800 integrated and / or that one or more states can be omitted. The CO state machine 800 can take over many or all of the same states as the state machine of the smoke system 700 and any process performed as part of the hazard detection system in response to the occurrence of any CO condition may be similar to that of the hazard notification system be carried out in response to the entry into one of the smoke conditions. Definitions applied to different sensor states of the smoke system are thus applicable to the sensor states of the CO system. For example, if either the state machine of the smoke system 700 or the state machine of the CO system 800 goes into an alarm state, the hazard alarm system triggers the alarm. The alarm may be characterized as a CO alarm when the CO-related state machine is alarmed, or the alarm may be characterized as a smoke alarm when smoke related state machine is alarming, or the alarm may be both smoke and CO. Alarm can be characterized when both the smoke related and the CO-related state machine goes to alarm. As another similar example, when one of the state machines transitions to a pre-alert state, the hazard notification system may play a pre-alert message. The message may be general, or it may be specific to the system state machine that has entered the pre-alarm state. Although many of the CO system states may be equal to the smoke system states, the transitions between these states are based on different conditions. In particular, the state machine 800 based on the in 8B change conditions according to one embodiment. 8B Includes several columns of information called Transition, From, To, Condition, and Condition variable. Each line corresponds to one of the transitions 8A , identifies the "from" state and the "to" state, and one or more of the conditions that may need to be met for the transition to occur, and possibly the condition variables. In the following discussion, reference will be made to 8A and 8B together.
Die Zustandsmaschine des CO-Systems 800 kann es der Zustandsmaschine des CO-Sensors 500 ermöglichen, einen oder mehrere ihrer Zustandsübergänge zu steuern. Insbesondere kann die Zustandsmaschine des CO-Sensors 500 die Übergänge der Zustandsmaschine des CO-Systems 800 in einen Alarmzustand 830 und einen Haltezustand 850 steuern. Diese gemeinsame Anordnung erlaubt es der Zustandsmaschine des CO-Sensors 500, den Alarmzustand des CO-Detektors zu steuern, und sie erlaubt es der Zustandsmaschine des CO-Systems 800, die Voralarmzustände zu steuern. Somit kann die Zustandsmaschine des CO-Sensors 500, unabhängig davon, in welchem Nicht-Alarm-Zustand sich die Zustandsmaschine des CO-Systems 800 befindet (z. B. erster Voralarmzustand 840, Voralarm-Stummschaltungszustand 848 usw.), das Ertönen des Alarms bewirken, falls die überwachten CO-Pegel den CO-Alarmschwellenwert überschreiten.The state machine of the CO system 800 it can be the state machine of the CO sensor 500 allow one or more of their state transitions to be controlled. In particular, the state machine of the CO sensor 500 the transitions of the state machine of the CO system 800 in an alarm state 830 and a holding state 850 Taxes. This common arrangement allows the state machine of the CO sensor 500 to control the alarm state of the CO detector, and it allows the state machine of the CO system 800 to control the pre-alarm conditions. Thus, the state machine of the CO sensor 500 Regardless of which non-alarm state the state machine of the CO system is 800 is located (eg first pre-alarm state 840 , Pre-alarm mute state 848 etc.) cause the alarm to sound if the monitored CO levels exceed the CO alarm threshold.
Beim Übergang 1 kann die Zustandsmaschine des CO-Systems 800 von einem beliebigen Zustand in den Alarmzustand 830 übergehen, wenn die Bedingung des Übergangs 1 der Zustandsmaschine des CO-Sensors 500 erfüllt ist. Dieser Übergang wird durch den Übergang 1 der Zustandsmaschine des CO-Sensors 500 gesteuert (entsprechend der Erörterung weiter oben). Entsprechend der hierin wiedergegebenen Definition ist CO_Bx_Time der aktuelle Zeitwert des CO_Bx-Bands, wobei Bx ein bestimmtes Band bezeichnet. Entsprechend der hierin wiedergegebenen Definition ist CO_Bx_Level der Implementierungspegel für das Bx entsprechende Band. Mit Bezug auf Tabelle 2 (weiter oben) ist, falls Bx beispielsweise hoch ist, CO_Bx_Level 388. Wiederum im gleichen Beispiel ist, falls CO_Bx_Time 433 ist, das CO_B_High-Band voll.At transition 1, the state machine of the CO system 800 from any state to the alarm state 830 go over when the condition of transition 1 of the state machine of the CO sensor 500 is satisfied. This transition is through transition 1 of the state machine of the CO sensor 500 controlled (as discussed earlier). According to the definition given herein, CO_Bx_Time is the current time value of the CO_Bx band, where Bx denotes a particular band. According to the definition given herein, CO_Bx_Level is the implementation level for the band corresponding to Bx. For example, referring to Table 2 (above), if Bx is high, then CO_Bx_Level 388 , Again in the same example, if CO_Bx_Time 433 is full, the CO_B_High band.
Bei Übergang 2 kann die Zustandsmaschine des CO-Systems 800 vom Überwachungszustand 820 zum ersten Voralarmzustand 840 übergehen, wenn sich eines der CO-Bänder auf einen Zeitwert füllt (CO_Bx_Time), der seinen entsprechenden Voralarm-Bandschwellenwert erreicht oder überschreitet (hierin bezeichnet als „CO_Bx_PA1_Time”), wobei Bx eines der Bänder bezeichnet. Diese gleiche Bedingung kann auch den Übergang 8 steuern, wobei die Zustandsmaschine 800 vom Inaktivitätszustand 810 in den Überwachungszustand 820 übergeht. Die Parameter der CO-Voralarmbänder sind in Tabelle 2 (weiter oben) in den Spalten PA Time für die Bedingungen 1 und 2 wiedergegeben. Falls das Band für CO_B_Low beispielsweise 63 überschreitet, kann die Zustandsmaschine 800 in den ersten Voralarmzustand 840 übergehen. Wenn die Zustandsmaschine 800 in den ersten Voralarmzustand 840 eintritt, kann sie das Gefahrenmeldesystem anweisen, eine Voralarmmeldung wiederzugeben. Die Zustandsmaschine des CO-Systems 800 kann beim Übergang 3 vom ersten Voralarmzustand 840 in den zweiten Voralarmzustand 844 übergehen. Der Übergang 3 kann erfolgen, wenn die im ersten Voralarmzustand 840 verstrichene Zeit (hierin bezeichnet als „T_PA1”) größer als oder gleich einem Mindestschwellenwert der Stummschaltungsszeit ist (hierin bezeichnet als „Min_PA_Hush_Time”) und wenn das Band, das verantwortlich ist für den Eintritt in den ersten Voralarmzustand 840, weiterhin gefüllt worden ist über den Punkt hinaus, an dem es sich befunden hatte, als die Zustandsmaschine 800 in den ersten Voralarmzustand 840 eingetreten ist.At transition 2, the state machine of the CO system 800 from the monitoring state 820 to the first pre-alarm state 840 when one of the CO bands fills to a time value (CO_Bx_Time) that meets or exceeds its corresponding pre-alarm band threshold (herein referred to as "CO_Bx_PA1_Time"), where Bx denotes one of the bands. This same condition can also control the transition 8, the state machine 800 from inactivity state 810 in the monitoring state 820 passes. The CO prealarm band parameters are shown in Table 2 (above) in the PA Time columns for conditions 1 and 2. For example, if the band for CO_B_Low exceeds 63, the state machine may 800 in the first pre-alarm state 840 pass. If the state machine 800 in the first pre-alarm state 840 If necessary, it can instruct the danger reporting system to play a pre-alarm message. The state machine of the CO system 800 can at transition 3 from the first pre-alarm state 840 in the second pre-alarm state 844 pass. Transition 3 may occur when in the first pre-alarm state 840 elapsed time (herein referred to as "T_PA1") is greater than or equal to a minimum threshold of muting time (herein referred to as "Min_PA_Hush_Time") and if the band responsible for entering the first pre-alarm state 840 , has continued to be filled beyond the point it was at, as the state machine 800 in the first pre-alarm state 840 occurred.
Die Zustandsmaschine des CO-Systems 800 kann beim Übergang 4 vom ersten Voralarmzustand 848 in den zweiten Voralarmzustand 844 übergehen. Der Übergang 4 kann erfolgen, wenn die im ersten Voralarm-Stummschaltungszustand 848 verstrichene Zeit (hierin bezeichnet als „T_PA_Hushed”) größer als oder gleich einem Mindestschwellenwert der Stummschaltungszeit ist (hierin bezeichnet als „Min_PA_Hush_Time”) und wenn das Band, das verantwortlich ist für den Eintritt in den ersten Voralarmzustand 840, weiterhin gefüllt worden ist über den Punkt hinaus, an dem es sich befunden hatte, als die Zustandsmaschine 800 in den ersten Voralarmzustand 840 eingetreten ist.The state machine of the CO system 800 can at transition 4 from the first pre-alarm state 848 in the second pre-alarm state 844 pass. Transition 4 may occur when the first pre-alarm mute state 848 Elapsed time (herein referred to as "T_PA_Hushed") is greater than or equal to a minimum threshold of muting time (herein referred to as "Min_PA_Hush_Time") and if the band responsible for entering the first pre-alarm condition 840 , has continued to be filled beyond the point it was at, as the state machine 800 in the first pre-alarm state 840 occurred.
Beim Übergang 5 kann die Zustandsmaschine des CO-Systems 800 vom Alarm-Stummschaltungszustand 838 in den Alarmzustand 830 übergehen, wenn die Bedingung des Übergangs 3 der Zustandsmaschine des CO-Sensors 500 erfüllt ist (wie oben erörtert). Beim Übergang 7 kann die Zustandsmaschine des CO-Systems 800 vom Alarmzustand 830 in den Haltezustand 850 übergehen, wenn die Bedingung des Übergangs 4 oder des Übergangs 5 der Zustandsmaschine des CO-Sensors 500 erfüllt sind.At transition 5, the state machine of the CO system 800 from the alarm mute state 838 in the alarm state 830 go over when the condition of transition 3 of the state machine of the CO sensor 500 is satisfied (as discussed above). At transition 7, the state machine of the CO system 800 from the alarm state 830 in the holding state 850 pass if the condition of transition 4 or transition 5 of the state machine of the CO sensor 500 are fulfilled.
Beim Übergang 6 kann die Zustandsmaschine des CO-Systems 800 vom ersten Voralarmzustand 840 zum Überwachungszustand 820 übergehen, wenn zwei der drei Parameter erfüllt sind. Die Erfüllung des ersten Parameters ist verbindlich, und die Erfüllung von entweder der zweiten oder der dritten Bedingung ist für die Durchführung des Übergangs 6 erforderlich. Die erste Parameterbedingung ist erfüllt, wenn T_PA1 einen vorbestimmten Zeitschwellenwert erreicht oder überschreitet (bezeichnet als Min_PA_to_Monitor_Time). Die zweite Bedingung ist erfüllt, wenn der einem der Bänder zugeordnete Zeitwert gleich Null ist. Das Band kann beispielsweise das CO_B_Low-Band sein, obwohl beliebige Bänder verwendet werden können. Der dem Low-CO-Band zugeordnete Zeitwert wird hierin bezeichnet als CO_B_Low_Time. Die dritte Bedingung ist erfüllt, wenn (1) CO_B_Low_Time kleiner ist als ein Ergebnis einer Differenzfunktion und wenn (2) CO_B_Low_Time kleiner ist als der Zeitwert des Voralarm-Schwellenwerts des niedrigen Bandes (Bezeichnet als CO_BLow_PA1_Time). Die Differenzfunktion kann das Ergebnis der Differenz sein von (1) dem Zeitwert des Bandes, das den Eintritt der Systemzustandsmaschine in den ersten Voralarmzustand 840 verursacht hat (hierin bezeichnet als „X”) und (2) einem vorbestimmten Schwellenwert (hierin bezeichnet als „Min_ALARM_Clear_Time”).At transition 6, the state machine of the CO system 800 from the first pre-alarm state 840 to the monitoring state 820 override if two of the three parameters are met. The fulfillment of the first parameter is mandatory and the fulfillment of either the second or the third condition is required for the execution of the transition 6. The first parameter condition is met when T_PA1 reaches or exceeds a predetermined time threshold (referred to as Min_PA_to_Monitor_Time). The second condition is satisfied when the time value associated with one of the bands is equal to zero. For example, the band may be the CO_B_Low band, although any bands may be used. The time value associated with the low CO band is referred to herein as CO_B_Low_Time. The third condition is satisfied when (1) CO_B_Low_Time is less than a result of a difference function, and when (2) CO_B_Low_Time is less than the time value of the low-band pre-alarm threshold (referred to as CO_B Low _PA1_Time). The difference function may be the result of the difference of (1) the time value of the band, which is the entry of the system state machine into the first pre-alarm state 840 and (2) has a predetermined threshold (herein referred to as "Min_ALARM_Clear_Time").
Beim Übergang 9 kann die Zustandsmaschine 800 vom Überwachungszustand 820 oder Alarmüberwachungszustand 860 in den Inaktivitätszustand 810 übergehen, wenn CO_BLow_Time kleiner als ein vorbestimmter Schwellenwert ist (z. B. 45 Minuten). Beim Übergang 10 kann die Zustandsmaschine 800 als Reaktion auf ein detektiertes Stummschaltungsereignis aus dem ersten Voralarmzustand 840 oder aus dem zweiten Voralarmzustand 844 in den Voralarm-Stummschaltungszustand 848 übergehen. Beim Übergang 11 kann die Zustandsmaschine 800 als Reaktion auf ein detektiertes Stummschaltungsereignis vom Alarmzustand 830 zum Alarm-Stummschaltungszustand 838 übergehen.At transition 9, the state machine can 800 from the monitoring state 820 or alarm monitoring state 860 in the inactivity state 810 override if CO_B Low _Time is less than a predetermined threshold (eg, 45 minutes). At transition 10, the state machine can 800 in response to a detected mute event from the first pre-alarm condition 840 or from the second pre-alarm state 844 in the pre-alarm mute state 848 pass. At transition 11, the state machine can 800 in response to a detected mute event from the alarm condition 830 to the alarm mute state 838 pass.
Beim Übergang 12 kann die Zustandsmaschine 800 vom zweiten Voralarmzustand 844 oder vom Voralarm-Stummschaltungszustand 848 in den Überwachungszustand 820 übergehen, wenn (1) die verstrichene Zeit im zweiten Voralarmzustand 844 (als T_PA2 bezeichnet) größer als oder gleich Min_PA_to_Monitor_Time ist und wenn (2) CO kleiner ist als ein Bruchteil von CO_B_Low_Level (z. B. 80% von CO_B_Low_Level).At transition 12, the state machine can 800 from the second pre-alarm state 844 or from the pre-alarm mute state 848 in the monitoring state 820 when (1) the elapsed time is in the second pre-alarm state 844 (as T_PA2) is greater than or equal to Min_PA_to_Monitor_Time and if (2) CO is less than a fraction of CO_B_Low_Level (eg, 80% of CO_B_Low_Level).
Beim Übergang 13 kann die Zustandsmaschine 800 vom Haltezustand 850 in den Alarmüberwachungszustand 860 übergehen, wenn (1) die verstrichene Zeit im Haltezustand 850 (T_Holding) größer als oder gleich Min_Alarm_Clear_Time ist und wenn mindestens (2) CO_B_Low_Time gleich Null oder (3) CO_B_Low_Time kleiner ist als ein Ergebnis einer Differenzfunktion. Die Differenzfunktion kann das Ergebnis der Differenz sein von (1) dem Zeitwert des Bandes, das den Eintritt der Systemzustandsmaschine in den ersten Voralarmzustand 840 verursacht hat (hierin bezeichnet als „X”) und (2) Min_ALARM_Clear_Time.At transition 13, the state machine can 800 from the holding state 850 in the alarm monitoring state 860 skip when (1) the elapsed time is in the hold state 850 (T_Holding) is greater than or equal to Min_Alarm_Clear_Time and if at least (2) CO_B_Low_Time equals zero or (3) CO_B_Low_Time is less than a result of a difference function. The difference function may be the result of the difference of (1) the time value of the band, which is the entry of the system state machine into the first pre-alarm state 840 and (2) Min_ALARM_Clear_Time.
9 zeigt ein veranschaulichendes Alarm/Voralarmschwellenwert-Einstellungsmodul 900 gemäß einer Ausführungsform. Das Modul 900 kann zwei Untermodule beinhalten: das Alarmauswahlmodul 910 und das Voralarmauswahlmodul 930. Das Modul 910 kann betrieben werden, um den Rauchalarm-Schwellenwert Smoke_T_Cur einzustellen, der von der Zustandsmaschine des Rauchsensors 400 bei der Entscheidung verwendet wird, ob in einen Alarmzustand übergegangen werden soll. Zusätzlich kann das Modul 930 auch betrieben werden, um den Rauch-Voralarmschwellenwert Pre_Alarm1_Threshold einzustellen, der von der Zustandsmaschine des Rauchsystems 700 bei der Entscheidung verwendet wird, ob in einen Voralarmzustand übergegangen werden soll. 9 shows an illustrative alarm / pre-alarm threshold adjustment module 900 according to one embodiment. The module 900 can include two sub-modules: the alarm selection module 910 and the pre-alert selection module 930 , The module 910 can be operated to set the smoke alarm threshold Smoke_T_Cur that is from the smoke detector state machine 400 is used in the decision whether to go into an alarm state. In addition, the module 930 are also operated to set the smoke pre-alarm threshold Pre_Alarm1_Threshold, which is from the state machine of the smoke system 700 is used in the decision whether to go into a pre-alarm state.
Das Alarmauswahlmodul 910 umfasst die Auswahl-Engine 920, die Eingaben vom Rauchsensor 901, vom Hitzesensor 902, vom CO-Sensor 903, vom Feuchtigkeitssensor 904, sowie die Rauchalarm-Schwellenwerte Smoke_T_Low 911, Smoke_T_Mid 912 und Smoke_T_High 913 und die Auswahlkriterien 914 empfängt. Die Auswahl-Engine 920 kann basierend auf den empfangenen Eingaben die Ausgabe Smoke_T_Cur 922 erzeugen. Die von den Sensoren 901–904 empfangenen Eingaben können Rohdatenwerte oder verarbeitete Datenwerte sein. Beispielsweise können die vom Sensor 901 empfangenen Daten der momentan überwachte Rauchdatenwert Smoke sein. Die vom Sensor 903 empfangenen Daten können der momentan überwachte CO-Datenwert CO sein. Die vom Sensor 904 empfangenen Daten können der momentan überwachte Datenwert Hum der relativen Luftfeuchtigkeit sein. Vom Hitzesensor 902 empfangene Daten können mittels eines beschleunigten Temperaturalgorithmus verarbeitet werden (erörtert weiter oben in Verbindung mit 6A und 6B), bevor sie für die Auswahl-Engine 920 bereitgestellt werden. Der beschleunigte Temperaturwert kann als Heat bezeichnet werden. Andere Sensordatenwerte (nicht dargestellt) können für die Auswahl-Engine 920 bereitgestellt werden. Die Rauchalarm-Schwellenwerte Smoke_T_Low 911, Smoke_T_Mid 912 und Smoke_T_High 913 können den in Tabelle 1 weiter oben definierten Schwellenwerten entsprechen.The alarm selection module 910 includes the selection engine 920 , the inputs from the smoke sensor 901 , from the heat sensor 902 , from the CO sensor 903 , from the humidity sensor 904 , as well as the smoke alarm thresholds Smoke_T_Low 911 , Smoke_T_Mid 912 and Smoke_T_High 913 and the selection criteria 914 receives. The selection engine 920 Based on the received inputs, the output Smoke_T_Cur 922 produce. The ones from the sensors 901 - 904 Inputs received may be raw data values or processed data values. For example, those from the sensor 901 data received be the currently monitored smoke data Smoke. The from the sensor 903 received data can be the currently monitored CO data value to be CO. The from the sensor 904 received data may be the currently monitored data Hum of the relative humidity. From the heat sensor 902 received data can be processed by means of an accelerated temperature algorithm (discussed above in connection with 6A and 6B ) before going for the selection engine 920 to be provided. The accelerated temperature value can be referred to as heat. Other sensor data values (not shown) may be used for the selection engine 920 to be provided. The smoke alarm thresholds Smoke_T_Low 911 , Smoke_T_Mid 912 and Smoke_T_High 913 may correspond to the thresholds defined in Table 1 above.
Die Auswahlkriterien 914 können die Parameter definieren, mittels derer die Auswahl-Engine 920 basierend auf von den Sensoren 901–904 empfangenen Daten einen der Rauchalarm-Schwellenwerte Smoke_T_Low 911, Smoke_T_Mid 912 und 913 Smoke_T_High als Smoke_T_Cur 922 auswählt. Tabelle 3 weiter unten zeigt die Bedingungen, die festlegen, welcher Rauchalarm-Schwellenwert für Smoke_T_Cur 922 ausgewählt wird. Tabelle 3 enthält drei Spalten: Rauchalarm-Schwellenwert, Eintrittsbedingung und Endebedingung. Jede Zeile gibt einen bestimmten Rauchmelder-Schwellenwert und die Parameter an, die bewirken, dass die Auswahl-Engine 920 diesen bestimmten Rauchalarm-Schwellenwert wählt, sowie die Parameter, die es der Auswahl[-Engine] 920 ermöglichen, diesen bestimmten Rauchalarm-Schwellenwert abzuwählen. Die in Tabelle 3 dargestellten Werte sind beispielhaft und können bei Bedarf durch das Gefahrenmeldesystem modifiziert oder abgeändert werden. Entsprechend der Darstellung in Tabelle 3 ist Smoke_T_Mid der vorgegebene Rauchalarm-Schwellenwert. Sofern keiner der Sensordatenwerte eine der Eintrittsbedingungen der anderen Rauchalarm-Schwellenwerte erfüllt, kann die Auswahl-Engine 920 somit Smoke_T_Mid als Smoke_T_Cur 922 auswählen. Zusätzlich kann die Auswahl-Engine 920 beim anfänglichen Einschalten des Gefahrenmeldesystems Smoke_T_Mid wählen.The selection criteria 914 can define the parameters by which the selection engine 920 based on the sensors 901 - 904 received data one of the smoke alarm thresholds Smoke_T_Low 911 , Smoke_T_Mid 912 and 913 Smoke_T_High as Smoke_T_Cur 922 selects. Table 3 below shows the conditions that determine which smoke alarm threshold for Smoke_T_Cur 922 is selected. Table 3 contains three columns: Smoke Alarm Threshold, Entry Condition and End Condition. Each line specifies a specific smoke detector threshold and the parameters that cause the selection engine 920 selects this particular smoke alarm threshold, as well as the parameters that allow it to select [Engine] 920 allow you to deselect this particular smoke alarm threshold. The values shown in Table 3 are exemplary and may be modified or modified by the hazard notification system as needed. As shown in Table 3, Smoke_T_Mid is the default smoke alarm threshold. If none of the sensor data satisfies one of the entry conditions of the other smoke alarm thresholds, the selection engine 920 thus Smoke_T_Mid as Smoke_T_Cur 922 choose. Additionally, the selection engine 920 when switching on the hazard alarm system Smoke_T_Mid initially.
Smoke_Alarm_Threshold-Wert Eintrittsbedingung Endebedingung
Smoke_T_Mid Standardvorgabe
Smoke_T_Low CO >= 70 (ppm) CO < 20 (ppm)
Smoke_T_Low Heat >= 49 (°C) (120 (F)) Heat < 38 (°C) (100 (F))
Smoke_T_High Hum >= Hum_Recent + 25 Hum < Hum_Recent_at:_Entry + 10 ODER Eine Minute verstrichen
Tabelle 3 Smoke_Alarm_Threshold value entry condition end condition
Smoke_T_Mid default
Smoke_T_Low CO> = 70 (ppm) CO <20 (ppm)
Smoke_T_Low Heat> = 49 (° C) (120 (F)) Heat <38 (° C) (100 (F))
Smoke_T_High Hum> = Hum_Recent + 25 Hum <Hum_Recent_at: _Entry + 10 OR One minute elapsed
Table 3
Die Auswahl-Engine 920 kann Smoke_T_Low auswählen, wenn CO einen ersten CO-Schwellenwert erreicht oder übersteigt (dargestellt in Tabelle 3 als 70 ppm), und die Auswahl von Smoke_T_Low wird zurückgehalten, bis CO unter einen zweiten CO-Schwellenwert fällt (dargestellt in Tabelle 3 als 20 ppm). Der zweite CO-Schwellenwert ist kleiner als der erste CO-Schwellenwert. Die Auswahl von Smoke_T_Low als Alarmschwellenwert basierend auf CO-Werten stellt ein Beispiel dar, wie multikriterielle Zustandsmaschinen gemäß verschiedenen Ausführungsformen implementiert werden können. Wenn somit erhöhte CO-Pegel detektiert werden, wird der Rauchalarm-Schwellenwert auf Smoke_T_Low gesenkt (im Gegensatz zu Smoke_T_Mid oder Smoke_T_High), wodurch der Rauchmelder mit preemptiver Rauchalarm-Sensibilität vorgerüstet wird, da keine Nicht-Rauch-Bedingungen vorliegen, die mit größerer Wahrscheinlichkeit mit einer Rauchbedingung korrelieren.The selection engine 920 can select Smoke_T_Low when CO reaches or exceeds a first CO threshold (shown in Table 3 as 70 ppm), and the Smoke_T_Low selection is held off until CO falls below a second CO threshold (shown in Table 3 as 20 ppm) , The second CO threshold is less than the first CO threshold. Selecting Smoke_T_Low as an alarm threshold based on CO values provides an example of how multicriteria state machines can be implemented according to various embodiments. Thus, when elevated CO levels are detected, the smoke alarm threshold is lowered to Smoke_T_Low (as opposed to Smoke_T_Mid or Smoke_T_High), thereby pre-empting the smoke detector with preemptive smoke alarm sensitivity since there are no non-smoke conditions that are more likely to exist correlate with a smoke condition.
Die Auswahl-Engine 920 kann auch Smoke_T_Low auswählen, wenn Heat einen ersten Hitzeschwellenwert erreicht oder diesen überschreitet (dargestellt in Tabelle 3 als 49°C (120 F)), und die Auswahl von Smoke_T_Low wird zurückgehalten ist, bis Heat unter einem zweiten Hitzeschwellenwert fällt (dargestellt als 38°C (100 F)). Der zweite Hitzeschwellenwert ist kleiner als der erste Hitzeschwellenwert.The selection engine 920 may also select Smoke_T_Low when Heat reaches or exceeds a first heat threshold (shown in Table 3 as 49 ° C (120 F)) and the Smoke_T_Low selection is retained until Heat falls below a second heat threshold (shown as 38 °) C (100 F)). The second heat threshold is less than the first heat threshold.
Die Auswahl-Engine 920 kann Smoke_T_High auswählen, wenn Hum größer als oder gleich der Summe aus (1) Hum_Recent und (2) einer ersten vorbestimmten Luftfeuchtekonstante ist (z. B. 25). Hum_Recent ist ein Durchschnittswert oder Median der historischen Luftfeuchteablesungen. Hum_Recent kann ein beweglicher Wert sein, der in regelmäßigen Abständen aktualisiert wird. Beispielsweise kann Hum_Recent bei einer Ausführungsform der Durchschnittswert oder Median der Luftfeuchte in den letzten 5 Stunden sein und alle 30 Minuten aktualisiert werden. Die Auswahl-Engine 920 kann Smoke_T_High abwählen, wenn (1) Hum kleiner ist als die Summe von Hum_Recent_at_entry (was der Hum_Recent-Wert zum Zeitpunkt der Erfüllung der Eintrittsbedingung sein kann) und einer zweiten vorbestimmten Luftfeuchtekonstante (z. B. 10) oder wenn (2) ein vorbestimmter Zeitraum seit der Auswahl von Smoke_T_High verstrichen ist (in Tabelle 3 als eine Minute dargestellt). Die zweite vorbestimmte Luftfeuchtekonstante kann kleiner sein als die erste vorbestimmte Luftfeuchtekonstante. Die Auswahl von Smoke_T_High kann den Rauchalarm- Schwellenwert als Reaktion auf plötzliche Erhöhungen der Luftfeuchtigkeit zumindest vorübergehend auf einen höheren Wert setzen. Da relativ plötzliche Veränderungen in der Luftfeuchtigkeit manchmal den Rauchsensor veranlassen können, abgelesene Rauchpegel irrtümlich für erhöht zu halten, kann die Einstellung des Alarmschwellenwerts auf Smoke_T_High Fehlalarme verhindern.The selection engine 920 may select Smoke_T_High if Hum is greater than or equal to the sum of (1) Hum_Recent and (2) a first predetermined humidity constant (eg, 25). Hum_Recent is an average or median of historical humidity readings. Hum_Recent can be a moving value that is updated at regular intervals. For example, in one embodiment Hum_Recent may be the average or median humidity in the last 5 hours and updated every 30 minutes. The selection engine 920 may deselect Smoke_T_High if (1) Hum is less than the sum of Hum_Recent_at_entry (which may be the Hum_Recent value at the time of fulfillment of the entry condition) and a second predetermined humidity constant (eg, 10) or if (2) a predetermined period of time has elapsed since the selection of Smoke_T_High (shown as one minute in Table 3). The second predetermined humidity constant may be less than the first predetermined humidity constant. Selecting Smoke_T_High may set the smoke alarm threshold to a higher value, at least temporarily, in response to sudden increases in humidity. Since relatively sudden changes in humidity can sometimes cause the smoke sensor to mistakenly read read smoke levels, setting the alarm threshold to Smoke_T_High can prevent false alarms.
Die Auswahl-Engine 920 kann ihre Bewertung der Sensordaten in regelmäßigen Abständen oder als Reaktion auf ein oder mehrere Ereignisse durchführen. Die Ereignisse können Zustandsänderungsereignisse in einer oder mehreren Sensorzustandsmaschinen oder Systemzustandsmaschinen beinhalten, oder die Ereignisse können Trigger-Ereignisse beinhalten. Trigger-Ereignisse können auftreten, wenn ein einem Sensor zugeordneter Datenwert aus einem Trigger-Band austritt, das dem betreffenden Sensor zugeordnet ist. Entsprechend der hierin wiedergegebenen Definition kann ein Trigger-Band obere und untere Grenzen der Datenwerte für jeden Sensor definieren. Unabhängig davon, wie das Durchführen einer Bewertung durch die Auswahl-Engine 920 ausgelöst wird, setzt die Auswahl-Engine 920, nachdem alle Bedingungen bewertet worden sind, Smoke_T_Cur auf den niedrigsten Alarmschwellenwert, der die Bedingungen erfüllt. Man nehme beispielsweise an, dass die Eintrittsbedingungen für Smoke_T_High und Smoke_T_Low (für Heat) erfüllt sind. In dieser Situation kann die Auswahl-Engine 920 Smoke_T_Low für Smoke_T_Cur auswählen. Wenn keine Bedingungen erfüllt sind, kann die Auswahl-Engine 920 Smoke_T_Cur auf Smoke_T_Mid festlegen.The selection engine 920 may perform its evaluation of sensor data at regular intervals or in response to one or more events. The events may include state change events in one or more sensor state machines or system state machines, or the events may include trigger events. Trigger events can occur when a data value associated with a sensor leaks out of a trigger band associated with that sensor. As defined herein, a trigger band may define upper and lower bounds of the data values for each sensor. Regardless of how to do a rating through the selection engine 920 is triggered sets the selection engine 920 After all conditions have been evaluated, Smoke_T_Cur to the lowest alarm threshold that meets the conditions. For example, suppose the entry conditions for Smoke_T_High and Smoke_T_Low (for Heat) are met. In this situation, the selection engine 920 Select Smoke_T_Low for Smoke_T_Cur. If no conditions are met, the selection engine can 920 Set Smoke_T_Cur to Smoke_T_Mid.
Nachdem die Auswahl[-Engine] 920 eine Alarmschwelle für Smoke_T_Cur ausgewählt hat, kann diese Alarmschwelle dem Trigger-Anpassungsmodul 1310 (aus 13), der Rauchsensorzustandsmaschine 400 und dem Voralarm-Auswahlmodul 930 bereitgestellt werden. Das Voralarm-Auswahlmodul 930 kann Smoke_T_Cur auf die Funktion-Engine 932 anwenden, um Pre-Alarm1_Threshold- 934 zu erzeugen. Die Funktion-Engine 932 kann einen Multiplikationsfaktor im Bereich zwischen 0,01 und 0,99 auf Smoke_T_Cur anwenden, um Pre-Alarm1_Threshold 934 zu erzeugen. Bei einer Ausführungsform kann der Multiplikationsfaktor beispielsweise 0,75 sein. Entsprechend der Darstellung kann Pre-Alarm1_Threshold 934 für das Systemmodul 1000 (aus 10) und für die Zustandsmaschine des Rauchsystems 700 bereitgestellt werden.After the selection [Engine] 920 has selected an alarm threshold for Smoke_T_Cur, this alarm threshold can be applied to the trigger adjustment module 1310 (out 13 ), the smoke sensor state machine 400 and the pre-alarm selection module 930 to be provided. The pre-alarm selection module 930 can Smoke_T_Cur on the function engine 932 apply to Pre-Alarm1_Threshold- 934 to create. The function engine 932 can apply a multiplication factor in the range of 0.01 to 0.99 on Smoke_T_Cur to Pre-Alarm1_Threshold 934 to create. For example, in one embodiment, the multiplication factor may be 0.75. As shown, Pre-Alarm1_Threshold 934 for the system module 1000 (out 10 ) and for the state machine of the smoke system 700 to be provided.
10 zeigt ein veranschaulichendes Systemzustandsmaschinen-Modul 1000 gemäß einer Ausführungsform. Das Systemzustandsmaschinen-Modul 1000 kann eine allgemeine Darstellung der Systemzustandsmaschinen 700 und 800 sein, und es zeigt insbesondere Eingaben, die zur Systemzustandsmaschinen-Engine 1050 bereitgestellt werden, sowie diesbezügliche Ausgaben. Die Engine 1050 kann betrieben werden, um die Systemzustände der Zustandsmaschine des Rauchsystems und der Zustandsmaschine des CO-Systems zu steuern. Die Ausgaben der Engine 1050 können die folgenden Systemzustände beinhalten: einen Überwachungszustand 1052, einen ersten Voralarmzustand 1054, einen zweiten Voralarmzustand 1056, einen Voralarm-Stummschaltungszustand 1058, einen Stummschaltungszustand 1060 und einen Alarmüberwachungszustand 1062. Die Engine 1050 kann eine dieser Ausgaben basierend auf einer oder mehreren der folgenden Eingaben auswählen: Stummschaltungsereignis 1002, Rauchsensordaten 1006, CO-Sensordaten 1008, Hitzesensordaten 1009, Zustandsmaschine des Rauchsensors 400, Zustandsmaschine des CO-Sensors 500, Bedingungskriterien 1070 und Zeit 1072. Andere Eingaben (nicht dargestellt) können ebenfalls für die Engine 1050 bereitgestellt werden. 10 shows an illustrative system state machine module 1000 according to one embodiment. The system state machine module 1000 can be a general representation of system state machines 700 and 800 In particular, it shows inputs to the system state machine engine 1050 provided and related expenses. The engine 1050 can be operated to control the system states of the state machine of the smoke system and the state machine of the CO system. The issues of the engine 1050 may include the following system states: a monitor state 1052 , a first pre-alarm state 1054 , a second pre-alarm state 1056 , a pre-alarm mute state 1058 , a mute state 1060 and an alarm monitoring state 1062 , The engine 1050 can select one of these outputs based on one or more of the following inputs: Mute event 1002 , Smoke sensor data 1006 , CO sensor data 1008 , Heat sensor data 1009 , State machine of the smoke sensor 400 , State machine of the CO sensor 500 , Condition criteria 1070 and time 1072 , Other inputs (not shown) may also be for the engine 1050 to be provided.
10 gibt auch wieder, welche Zustände unter den Sensorzustandsmaschinen und Systemzustandsmaschinen geteilt werden können. Entsprechend der Darstellung beinhaltet das Systemzustandsmaschinen-Modul 1000 gestrichelt wiedergegebene Darstellungen eines Inaktivitätszustands 1080, eines Alarmzustands 1082 und eines Alarm-Stummschaltungszustands 1084. Die Zustände 1080, 1082 und 1084 können zwischen den jeweils gleichen Zuständen der Zustandsmaschine des Rauchsensors 400 und der Zustandsmaschine des CO-Sensors 500 geteilt werden. Obwohl daher das Modul 1000 den Status des Inaktivitätszustands 1080, des Alarmzustands 1082 und des Alarmstummschaltungszustands 1084 kennen kann, steuert die Engine 1050 diese Zustände nicht; diese Zustände werden durch die Sensorzustandsmaschine 400 und 500 gesteuert. Dies ist dargestellt durch von den Sensorzustandsmaschinen 400 und 500 kommenden und zu der Engine 1050 führenden Pfeile. Zwei unterschiedliche Überwachungszustände können zwischen der Zustandsmaschine des Rauchsensors 400 und dem Modul 1000 vorliegen, da unterschiedliche Bedingungen verwendet werden können, um entsprechende Zustandsmaschinenübergänge in den betreffenden Zustand zu steuern. 10 Also states what states can be shared among the sensor state machines and system state machines. As shown, the system state machine module includes 1000 dashed representations of an inactivity state 1080 , an alarm condition 1082 and an alarm mute state 1084 , The conditions 1080 . 1082 and 1084 can be between the same states of the state machine of the smoke sensor 400 and the state machine of the CO sensor 500 to be shared. Although therefore the module 1000 the status of the inactivity state 1080 , the alarm condition 1082 and the alarm mute state 1084 know the engine controls 1050 these states are not; these states are handled by the sensor state machine 400 and 500 controlled. This is illustrated by the sensor state machines 400 and 500 coming and going to the engine 1050 leading arrows. Two different monitoring states can be between the state machine of the smoke sensor 400 and the module 1000 because different conditions can be used to control appropriate state machine transitions to that state.
Die Auswahlkriterien 1070 können die in 7B und 8B dargestellten Bedingungen beinhalten. Zusätzlich können die Bedingungskriterien 1070 Pre_Alarm1_Threshold vom Alarm/Voralarm-Schwellenwerteinstellmodul 900 empfangen. Somit kann der Leser beispielsweise mit Bezug auf 10 in Verbindung mit 7A und 7B leicht die Betriebsprinzipien der Zustandsmaschine des Rauchsystems 700 unterscheiden, und unter Bezugnahme auf 10 in Verbindung mit 8A und 8B kann der Leser leicht die Betriebsprinzipien der Zustandsmaschine des CO-Systems 800 unterscheiden.The selection criteria 1070 can the in 7B and 8B conditions described. In addition, the condition criteria 1070 Pre_Alarm1_Threshold from alarm / pre-alarm threshold setting module 900 receive. Thus, for example, with reference to 10 combined with 7A and 7B easily the operating principles of the state machine of the smoke system 700 differ, and with reference to 10 combined with 8A and 8B The reader can easily understand the operating principles of the state machine of the CO system 800 differ.
11 zeigt ein veranschaulichendes Stummschaltungs-Modul 1100 gemäß einer Ausführungsform. Das Stummschaltungsmodul 1100 kann betrieben werden, um von einem oder mehreren Sensoren empfangene Daten zu verarbeiten; um zu entscheiden, ob ein Stummschaltungsereignis detektiert wurde; und um Angaben detektierter Stummschaltungsereignisse für die System- und/oder Sensorzustandsmaschinen bereitzustellen. Entsprechend der Darstellung kann beispielsweise die Stummschaltungserkennungs-Engine 1150 eine Entscheidung treffen, ob von einem oder mehreren der Ultraschallsensoren 1102, des PIR-Sensors 1104 und der Taste 1106 empfangene Daten ein Stummschaltungsereignis beinhalten. Daten von anderen Sensoren (nicht dargestellt) können ebenfalls für die Stummschaltungserkennungs-Engine 1150 bereitgestellt werden. Als Reaktion auf die Entscheidung, dass ein stilles Ereignis detektiert worden ist, kann die Engine 1150 eine Mitteilung 1152 über ein Alarm-Stummschaltungsereignis für die Sensorzustandsmaschinen 1160, sowie Voralarm-Stummschaltungs-Ereignismitteilungen 1154 für die Systemzustandsmaschinen 1170 und insbesondere für das Systemmodul 1172 bereitstellen. Ein Alarm-Stummschaltungsereignis 1152 kann basierend auf den in jeder Sensorzustandsmaschine (z. B. den Sensorzustandsmaschinen 400, 500 und 600) definierten Bedingungen bereitgestellt und verarbeitet werden. Auf ähnliche Weise kann ein Voralarm-Stummschaltungsereignis 1154 basierend auf den in jeder Systemzustandsmaschine (z. B. den Systemzustandsmaschinen 700 und 800) definierten Bedingungen bereitgestellt und verarbeitet werden. Bei einigen Ausführungsformen kann die Stummschaltungserkennungs-Engine 1150 eine allgemeine Stummschaltungsereignis-Mitteilung für die Sensorzustandsmaschinen 1160 und Systemzustandsmaschinen 1170 bereitstellen. Die allgemeine Stummschaltungsereignis-Benachrichtigung kann möglicherweise nicht spezifisch für eine bestimmte Zustandsmaschine oder einen Zustand gelten, sondern vielmehr eine Eingabe sein, die von jeder Zustandsmaschine basierend auf den darin definierten Bedingungen verarbeitet werden kann. 11 shows an illustrative mute module 1100 according to one embodiment. The mute module 1100 can be operated to process data received from one or more sensors; to decide if a muting event has been detected; and to provide indications of detected mute events to the system and / or sensor state machines. As shown, for example, the mute detection engine 1150 Make a decision as to whether from one or more of the ultrasonic sensors 1102 , the PIR sensor 1104 and the button 1106 received data include a mute event. Data from other sensors (not shown) may also be used for the mute detection engine 1150 to be provided. In response to the decision that a silent event has been detected, the engine may 1150 a message 1152 via an alarm mute event for the sensor state machines 1160 , as well as Pre-Alarm Mute event messages 1154 for the system state machines 1170 and especially for the system module 1172 provide. An alarm mute event 1152 may be based on the in each sensor state machine (eg, the sensor state machines 400 . 500 and 600 ) conditions are provided and processed. Similarly, a pre-alarm mute event may occur 1154 based on the in each system state machine (eg, the system state machines 700 and 800 ) conditions are provided and processed. In some embodiments, the mute detection engine 1150 a general mute event message for the sensor state machines 1160 and system state machines 1170 provide. The general mute event notification may not be specific to a particular state machine or state, but may rather be an input that can be processed by each state machine based on the conditions defined therein.
12 zeigt ein veranschaulichendes Alarm/Lautsprecher-Koordinierungsmodul 1200 gemäß einer Ausführungsform. Das Modul 1200 kann die Wiedergabe von Meldungen durch den Lautsprecher 1290 auf eine Weise koordinieren, die keine durch den Alarmsummer 1292 ausgegebenen Klänge stört oder überlappt. Entsprechend der Darstellung kann das Modul 1200 eine Voralarm-1-Meldung 1210, eine Voralarm-2-Meldung 1212, eine Alarmmeldung 1220 und eine Alarm/Lautsprecher-Koordinierungs-Engine 1250 beinhalten. Weiter gezeigt in 12 sind Sensorzustandsmaschinen 1280, die Alarminformationen für die Koordinierungs-Engine 1250 bereitstellen und den Betrieb des Alarmsummers 1292 steuern können. Die Meldungen 1210, 1212 und 1220 können Meldungen darstellen, die durch den Lautsprecher 1290 wiedergegeben werden können. Jede der Meldungen 1210, 1212 und 1220 kann eine oder mehrere Meldungen beinhalten, die wiedergegeben werden können. Die Meldungen können auch Warnungen und/oder Anweisungen beinhalten, wie ein Alarm oder eine Vorwarnung stummgeschaltet werden können. Zum Beispiel kann sich die Meldung 1210 auf den ersten Voralarmzustand einer Systemzustandsmaschine beziehen, und die Meldung 1212 kann sich auf den zweiten Voralarmzustand einer Systemzustandsmaschine beziehen. Wenn eine Systemzustandsmaschine in einen ersten Voralarmzustand eintritt, kann eine Voralarm-1-Meldung 1210 durch den Lautsprecher 1290 wiedergegeben werden (angegeben durch die Linie, die die Meldung 1210 mit dem Lautsprecher 1290 verbindet). Bei einigen Ausführungsformen kann die wiedergegebene Meldung spezifisch für die betreffende Systemzustandsmaschine sein, die sich im ersten Voralarmzustand befindet (z. B. kann eine Zustandsmaschine des Rauchsystems eine Meldung mit Bezug auf „Rauch” wiedergeben). Bei anderen Ausführungsformen kann die wiedergegebene Meldung allgemein sein, und die allgemeine Meldung kann unabhängig davon, welche Systemzustandsmaschine in den ersten Voralarmzustand eingetreten ist, wiedergegeben werden. Die Voralarm-2-Meldung 1212 kann auf ähnliche Weise wie bei der Wiedergabe der Voralarm-1-Meldung 1210 wiedergegeben werden (angegeben durch die Linie, die die Meldung 1212 mit dem Lautsprecher 1290 verbindet). 12 shows an illustrative alarm / speaker coordination module 1200 according to one embodiment. The module 1200 can playback of messages through the speaker 1290 Coordinate in a way that no through the alarm buzzer 1292 output sounds interferes or overlaps. As shown, the module can 1200 a pre-alarm 1 message 1210 , a pre-alarm 2 message 1212 , an alarm message 1220 and an alarm / speaker coordination engine 1250 include. Further shown in 12 are sensor state machines 1280 , the alarm information for the coordination engine 1250 provide and operate the alarm buzzer 1292 can control. The messages 1210 . 1212 and 1220 can display messages through the speaker 1290 can be played back. Each of the messages 1210 . 1212 and 1220 can contain one or more messages that can be played back. The messages may also include warnings and / or instructions on how to silence an alarm or prewarning. For example, the message may be 1210 refer to the first pre-alarm state of a system state machine, and the message 1212 may refer to the second pre-alarm state of a system state machine. When a system state machine enters a first pre-alarm state, a pre-alarm 1 message may be issued 1210 through the speaker 1290 (indicated by the line containing the message 1210 with the speaker 1290 links). In some embodiments, the reproduced message may be specific to the particular system state machine that is in the first pre-alert state (eg, a state machine of the smoke system may be reporting a "smoke" message). In other embodiments, the reported message may be general, and the generic message may be rendered regardless of which system state machine entered the first pre-alert state. The pre-alarm 2 message 1212 may be similar to when playing the pre-alarm 1 message 1210 (indicated by the line containing the message 1212 with the speaker 1290 links).
Die Alarmmeldung 1220 kann sich auf den Alarmzustand einer Systemzustandsmaschine beziehen (z. B. der Zustandsmaschine des Rauchsystems 700 oder der Zustandsmaschine des CO-Systems 800). Wenn eine Systemzustandsmaschine eine Alarmmeldung 1220 wiedergeben möchte, wird diese der Koordinierungs-Engine 1250 bereitgestellt, die auf der Basis der von den Sensorzustandsmaschinen 1280 empfangenen Alarminformationen bestimmt, welche Meldung 1220 wiedergegeben werden kann. Da die Sensorzustandsmaschinen 1280 den Betrieb des Alarmsummers 1292 steuern, können sie die Koordinierungs-Engine 1250 (über die Alarminformationen) darüber informieren, wann der Alarmsummer Töne ausgibt. Die Koordinierungs-Engine 1250 kann die Alarminformationen verwenden, um Zeiträume zu entscheiden, in denen der Alarmsummer 1292 stumm bleibt und deren Dauer ausreichend und für die Wiedergabe der Alarmmeldung 1220 geeignet ist. Wenn beispielsweise der Alarmsummer 1292 verwendet wird, kann er ein „Summen” ausgeben, anschließend über einen vorbestimmten Zeitraum stumm bleiben und dann ein weiteres „Summen” ausgeben. Die Alarmmeldung 1220 kann während des vorbestimmten stummen Zeitraums des Alarms wiedergegeben werden.The alarm message 1220 may refer to the alarm state of a system state machine (eg, the state machine of the smoke system 700 or the state machine of the CO system 800 ). When a system state machine issues an alarm message 1220 This will be the coordinating engine 1250 provided based on that of the sensor state machines 1280 received alarm information determines which message 1220 can be played. Because the sensor state machines 1280 the operation of the alarm buzzer 1292 They can control the coordination engine 1250 (via the alarm information) to inform when the alarm buzzer sounds. The coordination engine 1250 can use the alarm information to decide periods in which the alarm buzzer 1292 remains silent and whose duration is sufficient and for the playback of the alarm message 1220 suitable is. For example, if the alarm buzzer 1292 is used, he can spend a "buzz", then remain silent for a predetermined period of time and then spend another "buzz". The alarm message 1220 can be played during the predetermined silent period of the alarm.
13 zeigt ein veranschaulichendes Schema eines Gefahrenmeldesystems 1300 gemäß einer Ausführungsform, und sie zeigt unter anderem Signalpfade inmitten verschiedener Komponenten, Zustandsmaschinen und veranschaulichender Module, die durch unterschiedliche Prozessoren ausgeführt werden. Das System 1300 kann einen Systemprozessor 1302, einen Sicherheitsprozessor 1330, Ultraschallsensoren 1321, einen ALS-Sensor 1322, einen Luftfeuchtesensor 1323, einen Rauchsensor 1324, einen CO-Sensor 1325, Temperatursensoren 1326 und einen PIR-Sensor 1327, eine Taste 1340, LED(s) 1342, einen Alarm 1344 und einen Lautsprecher 1346 beinhalten. Der Systemprozessor 1302 kann dem Systemprozessor 210 aus 2 ähnlich sein. Der Systemprozessor 1302 kann Systemzustandsmaschinen 1304, das Systemzustandsmaschinen-Modul 1305, das Alarm/Lautsprecher-Koordinierungsmodul 1306, das Stummschaltungsmodul 1307, das Trigger-Anpassungsmodul 1310 und das Schlaf/Wach-Modul 1314 betreiben. Die Systemzustandsmaschinen 1304 können bei der Vornahme von Zustandsänderungsbestimmungen auf das Systemzustandsmaschinen-Modul 1305, das Alarm/Lautsprecher-Koordinierungsmodul 1306 und das Stummschaltungsmodul 1307 zugreifen. Der Systemprozessor 1302 kann von Ultraschallsensoren 1321 erfasste Datenwerte und andere Eingaben vom Sicherheitsprozessor 1330 empfangen. Der Systemprozessor 1302 kann Daten von den Sensoren 1322–1327, Daten vom Sensorprotokoll 1338, Trigger-Ereignisse vom Trigger-Modul 1336, Zustandsänderungsereignisse und Alarminformationen von den Sensorzustandsmaschinen 1332 und Tastenbetätigungsereignisse von der Taste 1340 empfangen. 13 shows an illustrative scheme of a hazard detection system 1300 according to one embodiment, and shows inter alia signal paths among various components, state machines and illustrative modules executed by different processors. The system 1300 can be a system processor 1302 , a security processor 1330 , Ultrasonic sensors 1321 , an ALS sensor 1322 , a humidity sensor 1323 , a smoke sensor 1324 , a CO sensor 1325 , Temperature sensors 1326 and a PIR sensor 1327 , a button 1340 , LED (s) 1342 , an alarm 1344 and a speaker 1346 include. The system processor 1302 can the system processor 210 out 2 be similar to. The system processor 1302 can system state machines 1304 , the system state machine module 1305 , the alarm / speaker coordination module 1306 , the mute module 1307 , the trigger adjustment module 1310 and the sleep / wake module 1314 operate. The system state machines 1304 may affect the System State Machine module when making state change determinations 1305 , the alarm / speaker coordination module 1306 and the mute module 1307 access. The system processor 1302 can be from ultrasonic sensors 1321 Collected data values and other inputs from the security processor 1330 receive. The system processor 1302 can get data from the sensors 1322 - 1327 , Data from the sensor protocol 1338 , Trigger events from the trigger module 1336 , State change events and alarm information from the sensor state machines 1332 and key press events from the key 1340 receive.
Der Sicherheitsprozessor 1330 kann dem Sicherheitsprozessor 230 aus 2 ähnlich sein. Der Sicherheitsprozessor 1330 kann die Sensorzustandsmaschinen 1332, die Alarmschwellenwerte 1333, das Trigger-Modul 1336 und das Sensorprotokoll 1338 betreiben. Der Sicherheitsprozessor 1330 kann den Betrieb der LEDs 1342 und des Alarms 1344 steuern. Der Sicherheitsprozessor 1330 kann von den Sensoren 1322–1327 und von der Taste 1340 erfasste Datenwerte empfangen. Alle erfassten Sensordaten oder ein Teil davon können den Sensorzustandsmaschinen 1332 bereitgestellt werden. Wie beispielsweise in 13 gezeigt, werden Rauch-, CO- und Hitze-Sensordaten den Sensorzustandsmaschinen 1332 direkt bereitgestellt. Das Sensorprotokoll 1338 kann große Mengen von erfassten Daten speichern, die dem Systemprozessor 1302 in regelmäßigen Abständen oder als Reaktion auf ein Ereignis, wie zum Beispiel eine Zustandsänderung in einer oder mehreren Sensorzustandsmaschinen 1332 oder durch das Trigger-Modul 1336 detektiertes Trigger-Ereignis bereitgestellt werden können. Weiter können die Sensordaten bei einigen Ausführungsformen, auch wenn sie im Sensorprotokoll 1338 gespeichert sein können, auch direkt dem Systemprozessor 1302 bereitgestellt werden, in 13 dargestellt.The security processor 1330 can the security processor 230 out 2 be similar to. The security processor 1330 can the sensor state machines 1332 , the alarm thresholds 1333 , the trigger module 1336 and the sensor protocol 1338 operate. The security processor 1330 can the operation of the LEDs 1342 and the alarm 1344 Taxes. The security processor 1330 can from the sensors 1322 - 1327 and from the button 1340 received data values received. All sensed sensor data or part thereof may be sent to the sensor state machines 1332 to be provided. Such as in 13 As shown, smoke, CO and heat sensor data become the sensor state machines 1332 directly provided. The sensor protocol 1338 can store large amounts of captured data to the system processor 1302 at regular intervals or in response to an event, such as a state change in one or more sensor state machines 1332 or through the trigger module 1336 Detected trigger event can be provided. Further, the sensor data may in some embodiments, even if they are in the sensor protocol 1338 stored, also directly to the system processor 1302 be provided in 13 shown.
Alarmschwellenwerte 1333 können die Alarmauslösungs-Schwellenwerte in einem Speicher (z. B. Flash-Speicher) lagern, auf den die Sensorzustandsmaschinen 1332 zugreifen können. Entsprechend der Erörterung weiter oben können Sensorzustandsmaschinen 1332 überwachte Sensordatenwerte mit Alarmschwellenwerten 1333 vergleichen, die im Sicherheitsprozessor 1330 gespeichert sein können, um zu entscheiden, ob ein Gefahrenereignis vorliegt, und die bei der Entscheidung, dass das Gefahrenereignis vorliegt, das Ertönen des Alarms bewirken können. Jeder Sensor (z. B. Rauchsensor, CO-Sensor und Hitzesensor) kann einen oder mehrere Alarmschwellenwerte haben. Wenn mehrere Alarmschwellenwerte für einen Sensor verfügbar sind, kann der Sicherheitsprozessor 1330 zunächst einen Vorgabe-Alarmschwellenwert wählen; er kann aber in Abhängigkeit von einer vom Systemprozessor 1302 empfangenen Anweisung (z. B. vom Alarm/Voralarm-Schwellenwerteinstellungsmodul 1312) einen der mehreren Alarmschwellenwerte als Alarmschwellenwert für den betreffenden Sensor auswählen. Der Sicherheitsprozessor 1330 kann automatisch zum Vorgabe-Alarmschwellenwert zurückgehen, falls bestimmte Bedingungen nicht erfüllt sind (z. B. Verstreichen eines vorbestimmten Zeitraums, in dem keine Alarm-Schwellenwerteinstellungs-Anweisung vom Systemprozessor 1302 empfangen wird).Alarm thresholds 1333 For example, the alarm trigger thresholds may be stored in a memory (eg, flash memory) to which the sensor state machines 1332 can access. As discussed above, sensor state machines can be used 1332 monitored sensor data values with alarm thresholds 1333 Compare that in the security processor 1330 may be stored to determine if there is a hazard event and which may cause the alarm to sound in deciding that the hazard event is present. Each sensor (eg smoke sensor, CO sensor and heat sensor) may have one or more alarm thresholds. If multiple alarm thresholds are available for a sensor, the security processor can 1330 first select a default alarm threshold; but it can be dependent on one from the system processor 1302 received instruction (eg from the alarm / pre-alarm threshold setting module 1312 ) select one of the multiple alarm thresholds as the alarm threshold for that sensor. The security processor 1330 may automatically go back to the default alarm threshold if certain conditions are not met (eg, lapse of a predetermined time period in which no alarm threshold setting instruction from the system processor 1302 Will be received).
Der Sicherheitsprozessor 1330 und/oder der Systemprozessor 1302 können die Taste 1340 auf Tastenbetätigungsereignisse überwachen. Die Taste 1340 kann eine extern zugängliche Taste sein, die durch einen Benutzer niedergedrückt werden kann. Beispielsweise kann ein Benutzer die Taste 1340 betätigen, um die Alarmfunktion zu testen oder um einen Alarm stummzuschalten. Der Sicherheitsprozessor 1330 kann den Betrieb des Alarms 1344 und der LEDs 1342 steuern. Der Prozessor 1330 kann Alarminformationen an das Alarm/Lautsprecher-Koordinierungsmodul 1306 bereitstellen, sodass das Modul 1306 die Sprachmitteilung des Lautsprechers mit Alarmtönen koordinieren kann. Bei einigen Ausführungsformen ist der Sicherheitsprozessor 1330 der einzige Prozessor, der den Alarm 1344 steuert. Der Sicherheitsprozessor 1330 kann auch Eingaben vom Systemprozessor 1302 empfangen, wie z. B. Stummschaltungsereignisse vom Stummschaltungs-Modul 1307, Anweisungen zur Grenzanpassung des Trigger-Bands vom Trigger-Anpassungsmodul 1310 und Anweisungen zur Änderung des Schwellenwerts vom Alarm/Voralarm-Schwellenwerteinstellungsmodul 1312.The security processor 1330 and / or the system processor 1302 can the button 1340 monitor for key actuation events. The key 1340 can be an externally accessible key that can be depressed by a user. For example, a user may press the button 1340 Press to test the alarm or mute an alarm. The security processor 1330 can stop the operation of the alarm 1344 and the LEDs 1342 Taxes. The processor 1330 can send alarm information to the alarm / speaker coordination module 1306 deploy so that the module 1306 can coordinate the voice message of the speaker with alarm sounds. In some embodiments, the security processor is 1330 the only processor that has the alarm 1344 controls. The security processor 1330 can also input from the system processor 1302 receive, such. B. mute events from the mute module 1307 , Boundary Adjustment Instructions for the Trigger Band from the Trigger Adjustment Module 1310 and instructions to change the threshold from the alarm / pre-alarm threshold adjustment module 1312 ,
Entsprechend der Darstellung kann das Gefahrenmeldesystem 1300 zur Realisierung der multikriteriellen Zustandsmaschinen zum Steuern der Alarm- und Voralarmzustände gemäß verschiedenen Ausführungsformen eine gegabelte Prozessoranordnung verwenden. Die Systemzustandsmaschinen können durch den Systemprozessor 1302 ausgeführt werden, und die Sensorzustandsmaschinen können durch den Sicherheitsprozessor 1330 ausgeführt werden. Entsprechend der Darstellung können sich die Sensorzustandsmaschinen 1332 innerhalb des Sicherheitsprozessors 1330 befinden. Dies zeigt, dass der Sicherheitsprozessor 1330 Sensorzustandsmaschinen wie die Zustandsmaschine des Rauchsensors 400, die Zustandsmaschine des CO-Sensors 500 und die Zustandsmaschine des Hitzesensors 600 entsprechend der vorstehenden Erörterung betreiben kann. Der Funktionsumfang der Sensorzustandsmaschinen (entsprechend der vorstehenden Erörterung) ist somit im Sicherheitsprozessor 1330 integriert und wird von diesem ausgeführt. Wie ebenfalls dargestellt ist, können sich die Systemzustandsmaschinen 1304 innerhalb des Systemprozessors 1302 befinden. Dies zeigt, dass der Systemprozessor 1302 Systemzustandsmaschinen wie die Zustandsmaschine des Rauchsystems 700 und die Zustandsmaschine des CO-Systems 800 entsprechend der vorstehenden Erörterung betreiben kann. Der Funktionsumfang der Systemzustandsmaschinen (entsprechend der vorstehenden Erörterung) ist somit im Systemprozessor 1302 integriert und wird von diesem ausgeführt. Weiter können die Module 1305, 1306 und 1307 dem Modul 1000 der Systemzustandsmaschine aus 10, dem Alarm/Lautsprecher-Koordinierungsmodul 1200 aus 12 bzw. und dem Stummschaltungsmodul 1100 aus 11 entsprechen.According to the presentation, the danger detection system 1300 to implement the multi-criteria state machines for controlling the alarm and pre-alarm conditions, according to various embodiments, use a forked processor array. The system state machines can be executed by the system processor 1302 and the sensor state machines may be executed by the security processor 1330 be executed. As shown, the sensor state machines can 1332 within the security processor 1330 are located. This shows that the security processor 1330 Sensor state machines such as the state machine of the smoke sensor 400 , the state machine of the CO sensor 500 and the state machine of the heat sensor 600 operate according to the above discussion. The functional scope of the sensor state machines (corresponding to the above discussion) is thus in the security processor 1330 integrated and is executed by this. As also shown, the system state machines can 1304 within the system processor 1302 are located. This shows that the system processor 1302 System state machines such as the state machine of the smoke system 700 and the state machine of the CO system 800 operate according to the above discussion. The functionality of the system state machines (as discussed above) is thus in the system processor 1302 integrated and is executed by this. Next, the modules can 1305 . 1306 and 1307 the module 1000 of the system state machine 10 , the alarm / speaker coordination module 1200 out 12 or and the mute module 1100 out 11 correspond.
Beim Gabelungsansatz kann der Sicherheitsprozessor 1330 als „Hirnstamm” des Gefahrenmeldesystems 1300 dienen, und der Systemprozessor 1302 kann als „frontaler Kortex” dienen. Bezogen auf den Menschen, hält, auch wenn eine Person schläft (d. h., wenn der frontale Kortex schläft), der Hirnstamm die grundlegenden Lebensfunktionen wie Atmung und Herzschlag aufrecht. Unter Verwendung dieses Vergleichs ist der Sicherheitsprozessor 1330 stets wach und in Betrieb; er überwacht konstant einen oder mehrere der Sensoren 1322–1327, selbst wenn der Systemprozessor 1302 ruht oder nicht arbeitet, und verwaltet die Sensorzustandsmaschinen des Gefahrenmeldesystems 1300. Ist eine Person wach, wird der frontale Kortex verwendet, um Funktionen höherer Ordnung abzuarbeiten, wie z. B. Denken und Sprechen. Im Vergleichsbeispiel führt der Systemprozessor 1302 Funktionen höherer Ordnung aus, die implementiert sind durch die Systemzustandsmaschinen 1304, das Alarm/Lautsprecher-Koordinierungsmodul 1306, das Stummschaltungsmodul 1307, das Trigger-Anpassungsmodul 1310 und das Alarm/Voralarm-Schwellenwerteinstellungsmodul 1312. Bei einigen Ausführungsformen kann der Sicherheitsprozessor 1330 selbstständig und unabhängig vom Systemprozessor 1302 arbeiten. Falls dann der Systemprozessor 1302 nicht funktionstüchtig ist (z. B. wegen geringer Stromaufnahme oder aus anderen Gründen), kann der Sicherheitsprozessor 1330 weiter den Funktionsumfang der Gefahren- und Alarmmeldung ausführen.In the fork approach, the security processor 1330 as the "brain stem" of the danger detection system 1300 serve, and the system processor 1302 can serve as a "frontal cortex". In terms of humans, even when a person sleeps (ie, when the frontal cortex sleeps), the brainstem maintains basic life functions such as breathing and heartbeat. Using this comparison is the security processor 1330 always awake and in operation; it constantly monitors one or more of the sensors 1322 - 1327 even if the system processor 1302 resting or not working, and manages the sensor state machines of the hazard detection system 1300 , When a person is awake, the frontal cortex is used to perform higher order functions, such as: Eg thinking and speaking. In the comparative example, the system processor performs 1302 Higher order functions implemented by the system state machines 1304 , the alarm / speaker coordination module 1306 , the mute module 1307 , the trigger adjustment module 1310 and the alarm / pre-alarm threshold adjustment module 1312 , In some embodiments, the security processor may 1330 independent and independent of the system processor 1302 work. If so, the system processor 1302 is not functional (eg due to low power consumption or other reasons), the security processor can 1330 continue to carry out the functional scope of the hazard and alarm message.
Die gegabelte Prozessoranordnung ermöglicht es dem Gefahrenmeldesystem 1300 weiter, den Stromverbrauch zu minimieren, indem es dem relativ viel Strom verbrauchenden Systemprozessor 1302 ermöglicht wird, zwischen Ruhe- und Nicht-Ruhe-Zuständen zu wechseln, während der relativ wenig Strom verbrauchende Sicherheitsprozessor 1330 in einem Nicht-Ruhe-Zustand belassen wird. Zum Einsparen von Strom kann der Systemprozessor 1302 im Ruhezustand gehalten werden, bis eines aus einer beliebigen Anzahl von Ereignissen eintritt, das den Systemprozessor 1302 aktiviert. Das Schlaf/Wach-Modul 1314 kann die Ruhe- und Nicht-Ruhe-Zustände des Systemprozessors 1302 steuern. Der Sicherheitsprozessor 1330 kann das Schlaf/Wach-Modul 1314 anweisen, den Systemprozessor 1302 als Reaktion auf ein Trigger-Ereignis (z. B. durch das Trigger-Modul 1336 detektiert) oder auf eine Zustandsänderung in den Sensorzustandsmaschinen 1332 aufzuwecken. Trigger-Ereignisse können auftreten, wenn ein einem Sensor zugeordneter Datenwert aus einem Trigger-Band austritt, das dem betreffenden Sensor zugeordnet ist. Eine Trigger-Band kann obere und untere Grenzen der Datenwerte für jeden Sensor definieren, und es kann mit dem Sicherheitsprozessor 1330 im Trigger-Modul 1336 gespeichert werden. Siehe beispielsweise 14A, die ein Zeitablaufdiagramm 1410 der Änderung von Sensordatenwerten im Zeitverlauf sowie das Trigger-Band 1412 zeigt. Die Sensordatenwerte können von einem bestimmten Sensor (z. B. einem Rauchsensor) erfasst werden. Das Trigger-Band 1412 hat eine untere Grenze (LB) an Position 0 und eine obere Grenze (UB) an Position 1. Das Trigger-Modul 1336 kann Sensordatenwerte überwachen und sie mit den für das betreffende Trigger-Band des Sensors festgelegten Grenzen vergleichen. Wenn dann ein Sensordatenwert aus dem Band austritt, registriert das Trigger-Modul 1336 dies als Trigger-Ereignis (gezeigt in 14A, wenn der Sensordatenwert die obere Grenze überquert) und meldet dem Systemprozessor 1302 das Trigger-Ereignis (z. B. durch Senden eines Signals zum Schlaf/Wach-Modul 1314).The bifurcated processor arrangement allows the danger detection system 1300 continue to minimize power consumption by the relatively power-consuming system processor 1302 is allowed to switch between idle and non-idle states while the relatively low power consuming security processor 1330 is left in a non-resting state. To save power, the system processor 1302 be held idle until one of any number of events occurs that is the system processor 1302 activated. The sleep / wake module 1314 can set the idle and non-idle states of the system processor 1302 Taxes. The security processor 1330 can sleep / wake module 1314 instruct the system processor 1302 in response to a trigger event (eg, by the trigger module 1336 detected) or a state change in the sensor state machines 1332 wake up. Trigger events can occur when a data value associated with a sensor leaks out of a trigger band associated with that sensor. A trigger band can define upper and lower bounds of the data values for each sensor, and it can work with the security processor 1330 in the trigger module 1336 get saved. See for example 14A , which is a timing diagram 1410 the change of sensor data over time as well as the trigger band 1412 shows. The sensor data values may be detected by a particular sensor (eg, a smoke sensor). The trigger band 1412 has a lower limit (LB) at position 0 and an upper limit (UB) at position 1. The trigger module 1336 can monitor sensor data values and compare them to the limits set for the sensor trigger band in question. Then, when a sensor data value exits the tape, the trigger module registers 1336 this as a trigger event (shown in 14A when the sensor data crosses the upper limit) and notifies the system processor 1302 the trigger event (for example, by sending a signal to the sleep / wake module 1314 ).
Die Grenzen des Trigger-Bands können vom Systemprozessor 1302, wenn dieser aktiviert ist, auf der Grundlage eines Betriebszustands des Gefahrenmeldesystems 1300 angepasst werden. Der Betriebszustand kann die Zustande sowohl der System- als auch der Sensorzustandsmaschine, die Sensordatenwerte und andere Faktoren beinhalten. Der Systemprozessor 1302 kann die Grenzen von einem oder mehreren Trigger-Bändern anpassen, um sie vor dem erneuten Wechsel in den Ruhezustand an die Zustände von einer oder mehreren Systemzustandsmaschinen anzugleichen. Somit kann der Systemprozessor 1302 über die Anpassung der Grenzen von einem oder mehreren Trigger-Bändern effektiv Aktivierungsanweisungen an den Sicherheitsprozessor 1330 kommunizieren. The limits of the trigger band can be determined by the system processor 1302 if activated, based on a health status of the hazard detection system 1300 be adjusted. The operating state may include the states of both the system and sensor state machines, the sensor data values, and other factors. The system processor 1302 may adjust the boundaries of one or more trigger bands to match the states of one or more system state machines prior to reverting to hibernation. Thus, the system processor 1302 By adjusting the boundaries of one or more trigger bands effectively enable instructions to the security processor 1330 communicate.
Die Aktivierungsanweisungen können durch das Trigger-Anpassungsmodul 1310 erzeugt und an das Trigger-Modul 1336 übertragen werden, wie dies gezeigt in 13 ist. Die Aktivierungsanweisungen können das Modul 1336 veranlassen, eine Grenze von einem oder mehreren Trigger-Bändern anzupassen. Beispielsweise kann das Trigger-Modul 1336 als Ergebnis des Empfangs von Anweisungen zur Anpassung der Grenze von einem oder mehreren Bändern das Trigger-Band entsprechend der Darstellung in 14B und 14C ändern. 14B und 14C zeigen Zeitablaufdiagramme 1420 bzw. 1430, in denen die oberen und unteren Grenzen der Trigger-Bänder 1422 und 1432 in Bezug auf das Zeitablaufdiagramm 1410 und relativ zueinander geändert sind. Insbesondere hat das Trigger-Band 1422 hat eine untere Grenze (LB) an Position 1 und eine obere Grenze (UB) an Position 2. Bei einigen Ausführungsformen können die oberen und unteren Grenzen gleich sein. Das Trigger-Band 1432 hat LB an Position 2 und UB an Position 3.The activation instructions can be activated by the trigger adjustment module 1310 generated and sent to the trigger module 1336 be transferred as shown in 13 is. The activation instructions can be the module 1336 to adjust a boundary of one or more trigger bands. For example, the trigger module 1336 as a result of receiving instructions to adjust the boundary of one or more bands, the trigger band as shown in FIG 14B and 14C to change. 14B and 14C show timing diagrams 1420 respectively. 1430 in which the upper and lower limits of the trigger bands 1422 and 1432 in relation to the timing diagram 1410 and changed relative to each other. In particular, the trigger band has 1422 has a lower limit (LB) at position 1 and an upper limit (UB) at position 2. In some embodiments, the upper and lower limits may be the same. The trigger band 1432 has LB at position 2 and UB at position 3.
15 zeigt ein detaillierteres Blockdiagramm des Trigger-Anpassungsmoduls 1310 gemäß einer Ausführungsform. Das Trigger-Anpassungsmodul 1310 kann eine Trigger-Anpassungs-Engine 1550 beinhalten, die Grenzen von einem oder mehreren Trigger-Bändern basierend auf einer beliebigen Anzahl geeigneter Faktoren anpassen kann, einschließlich beispielsweise von durch Sensoren 1321–1327 erhaltenen Sensordaten, protokollierten Sensordaten 1338, Systemzustandsmaschinen 1304, Alarm/Voralarm-Schwellenwerteinstellungsmodulen 1312 und Sensorzustandsmaschinen 1332. Alle Grenzanpassungen 1565 werden in der Trigger-Band-Grenztabelle 1560 aktualisiert und zum Trigger-Modul 1336 im Sicherheitsprozessor 1330 übertragen. Entsprechend der Darstellung kann die Trigger-Band-Grenztabelle 1560 die oberen und unteren Trigger-Band-Grenzen für mehrere unterschiedliche Sensoren beibehalten. Bei einigen Ausführungsformen kann für jeden der Sensoren 1321–1327 ein separates Trigger-Band beibehalten werden. 15 shows a more detailed block diagram of the trigger adjustment module 1310 according to one embodiment. The trigger adjustment module 1310 can be a trigger adjustment engine 1550 which can adjust limits of one or more trigger bands based on any number of suitable factors, including, for example, sensors 1321 - 1327 received sensor data, logged sensor data 1338 , System state machines 1304 , Alarm / pre-alarm threshold setting modules 1312 and sensor state machines 1332 , All border adjustments 1565 be in the trigger band limit table 1560 updated and to the trigger module 1336 in the security processor 1330 transfer. As shown, the trigger band limit table 1560 maintain the upper and lower trigger band limits for several different sensors. In some embodiments, for each of the sensors 1321 - 1327 maintain a separate trigger band.
Durch die Pflege eines Trigger-Bands für einen oder mehrere Sensoren und die Übertragung der Trigger-Band-Grenzen zum Trigger-Modul 1336 kann der Systemprozessor 1302 den Sicherheitsprozessor 1330 darüber informieren, wann er aktiviert werden soll. Da der Systemprozessor 1302 vorzugsweise in einem Ruhezustand gehalten wird, stellen die Trigger-Bänder einen Mechanismus bereit, der es dem Systemprozessor 1302 ermöglicht, inaktiv zu bleiben, bis ein Sensordatenwert aus dem Band austritt. Wenn ein Sensordatenwert aus einem Band austritt, bewirkt das Trigger-Ereignis, dass der Systemprozessor 1302 aktiviert wird und seinen Betriebszustand bewertet, und als Ergebnis dieser Bewertung kann ein Zustandsänderungsübergang auftreten, und/oder eine Trigger-Band-Anpassung kann vorgenommen werden.By maintaining a trigger band for one or more sensors and transmitting the trigger band boundaries to the trigger module 1336 can the system processor 1302 the security processor 1330 inform when it should be activated. As the system processor 1302 preferably held in an idle state, the trigger bands provide a mechanism that allows the system processor 1302 allows it to remain inactive until a sensor data value exits the tape. When a sensor data value exits a tape, the trigger event causes the system processor 1302 is activated and evaluates its operating state, and as a result of this evaluation, a state change transition may occur and / or a trigger band adjustment may be made.
Bei einigen Ausführungsformen kann es eine Korrelation geben zwischen den Trigger-Band-Grenzen von einem oder mehreren Sensoren und den Bedingungen, die Zustandsübergänge definieren (z. B. Bedingungen in 4B, 5B, 6B, 7B und/oder 8B), die in den multikriteriellen Zustandsmaschinen festgelegt sind. Bei anderen Ausführungsformen kann eine Korrelation zwischen den Trigger-Band-Grenzen von einem oder mehreren Sensoren auf den Bedingungen basieren, die Systemzustandsmaschinen-Übergänge definieren (z. B. wie die in 7A und 8B definierten Bedingungen). Man nehme beispielsweise an, dass sich die Zustandsmaschine des Rauchsystems 700 in ihrem Überwachungszustand befindet, dass das Trigger-Band für den Rauchsensor definiert durch das Trigger-Band 1422 ist (aus 14B) und dass der Systemprozessor 1302 im Ruhezustand ist. Wenn der Sensordatenwert die UB von Trigger-Band 1422 überschreitet, registriert das Trigger-Modul 1336 dies als Trigger-Ereignis und veranlasst die Aktivierung des Systemprozessors 1302. Nach der Aktivierung kann der Systemprozessor 1302 seinen Betriebszustand bewerten (z. B. die Sensordaten, Zeitdaten und andere geeignete Daten). Man nehme jetzt weiter an, dass der Rauchdatenwert auf einen Wert angestiegen ist, der größer ist als ein erster Voralarm-Schwellenwert. Als Reaktion auf diese Entscheidung kann die Zustandsmaschine des Rauchsystems 700 in den ersten Voralarmzustand übergehen. Nach dem Übergang in den ersten Voralarmzustand kann das Trigger-Anpassungsmodul 1310 die Grenzen des Trigger-Bands des Rauchsensors anpassen, sodass die Grenzen des Trigger-Bands 1432 gelten (aus 14C). Die Anpassung 1565 bei den Grenzen wird zum Trigger-Modul 1336 übertragen, und der Systemprozessor 1302 geht zurück in den Ruhezustand, und er kann inaktiv verbleiben, bis eine Grenze des Trigger-Bands 1422 überschritten wird oder ein anderes Ereignis eintritt, das die Aktivierung des Systemprozessors 1302 bewirkt.In some embodiments, there may be a correlation between the trigger band boundaries of one or more sensors and the conditions that define state transitions (eg, conditions in 4B . 5B . 6B . 7B and or 8B ) specified in the multi-criteria state machines. In other embodiments, a correlation between the trigger band boundaries of one or more sensors may be based on the conditions that define system state machine transitions (eg, as in FIG 7A and 8B defined conditions). For example, suppose that the state machine of the smoke system 700 In its monitoring state, the trigger band for the smoke sensor is defined by the trigger band 1422 is (off 14B ) and that the system processor 1302 is at rest. If the sensor data value is the UB of trigger band 1422 exceeds, registers the trigger module 1336 this as a trigger event and causes the activation of the system processor 1302 , After activation, the system processor can 1302 evaluate its operating status (eg the sensor data, time data and other suitable data). Now assume that the smoke data has risen to a value greater than a first pre-alarm threshold. In response to this decision, the state machine of the smoke system 700 go into the first pre-alarm state. After the transition to the first pre-alarm state, the trigger adjustment module 1310 Adjust the limits of the trigger band of the smoke sensor, thus limiting the trigger band 1432 apply (out 14C ). The adaptation 1565 at the borders becomes the trigger module 1336 transferred, and the system processor 1302 goes back to sleep, and he can remain inactive until a limit of the trigger band 1422 is exceeded or another event occurs that is activating the system processor 1302 causes.
16 zeigt ein veranschaulichendes Ablaufdiagramm der Schritte, die ergriffen werden können, wenn ein Systemprozessor in einen Nicht-Ruhe-Zustand übergeht. Eine gestrichelte Linie ist gezeigt, um veranschaulichend herauszustellen, welcher Prozessor (d. h. der Sicherheitsprozessor oder der Systemprozessor) den Schritt ausführt. Sowohl das Trigger-Ereignis 1602 wie auch das Zustandsänderungsereignis 1604 können als Aktivierungsereignis bei Schritt 1610 registriert werden. Als Reaktion auf das Aktivierungsereignis bei Schritt 1610 wird der Systemprozessor bei Schritt 1612 aus einem Ruhezustand aktiviert. Bei Schritt 1614 wird der Betriebszustand des Gefahrenmeldesystems bewertet. Die Bewertung des Betriebszustands kann viele Aspekte des Gefahrenmeldesystems umfassen. Bei einigen Ausführungsformen kann diese Bewertung alle vom Systemprozessor ausgeführten Vorgänge umfassen, wie z. B. multikriterielle Zustandsmaschinen (z. B. Sensorzustandsmaschinen 400, 500 und 600 und Systemzustandsmaschinen 700 und 800), das Alarmschwellenwert-Einstellmodul (z. B. das Alarm/Voralarm-Schwellenwerteinstellungsmodul 900) und das Trigger-Anpassungsmodul (z. B. das Trigger-Anpassungsmodul 1310). Zusätzlich kann die Bewertung Sensordaten berücksichtigen, die protokollierte Sensordaten, aktuelle Sensordaten oder beides sein können. Nach dem Schritt 1614 fährt das Ablaufdiagramm mit den Schritten 1615 und 1617 fort. 16 FIG. 11 is an illustrative flow chart of the steps that may be taken when a system processor transitions to a non-idle state. FIG. A dashed line is shown to illustratively highlight which processor (ie, the security processor or the system processor) is performing the step. Both the trigger event 1602 as well as the state change event 1604 can be used as an activation event at step 1610 be registered. In response to the activation event at step 1610 the system processor will go to step 1612 activated from a sleep state. At step 1614 the operating state of the hazard detection system is evaluated. The assessment of the operating state can include many aspects of the hazard detection system. In some embodiments, this score may include all operations performed by the system processor, such as: B. multi-criteria state machines (eg, sensor state machines 400 . 500 and 600 and system state machines 700 and 800 ), the alarm threshold adjustment module (eg, the alarm / pre-alarm threshold adjustment module 900 ) and the trigger adjustment module (eg, the trigger adjustment module 1310 ). Additionally, the evaluation may consider sensor data, which may be logged sensor data, current sensor data, or both. After the step 1614 the flowchart proceeds with the steps 1615 and 1617 continued.
Bei Schritt 1615 wird eine Entscheidung getroffen, ob eine Triggerband-Anpassung erforderlich ist. Wenn die Entscheidung JA ist, werden Grenzeinstellungen für ein oder mehrere Trigger-Bänder (bei Schritt 1616) vorgenommen und zum Sicherheitsprozessor übertragen (in Schritt 1620). Wenn die Entscheidung NEIN ist, wird der Systemprozessor in den Ruhezustand zurückversetzt (in Schritt 1622). Bei Schritt 1617 wird eine Entscheidung getroffen, ob eine Alarmschwellenwert-Anpassung erforderlich ist. Wenn die Entscheidung JA ist, werden Anweisungen für den Alarmschwellenwert vorgenommen (bei Schritt 1618) und zum Sicherheitsprozessor übertragen (in Schritt 1620). Wenn die Entscheidung NEIN ist, wird der Systemprozessor in den Ruhezustand zurückversetzt (in Schritt 1622). Zusätzlich wird der Systemprozessor nach vollständigem Abschluss der Schritte 1616 und 1618 in den Ruhezustand zurückversetzt (in Schritt 1622).At step 1615 a decision is made as to whether a trigger band adjustment is required. If the decision is YES, limit settings for one or more trigger bands (at step 1616 ) and transmitted to the security processor (in step 1620 ). If the decision is NO, the system processor is returned to the idle state (in step 1622 ). At step 1617 a decision is made as to whether an alarm threshold adjustment is required. If the decision is YES, instructions for the alarm threshold are made (at step 1618 ) and transferred to the security processor (in step 1620 ). If the decision is NO, the system processor is returned to the idle state (in step 1622 ). In addition, the system processor will after completion of the steps 1616 and 1618 returned to the idle state (in step 1622 ).
17 zeigt ein veranschaulichendes Ablaufdiagramm der Schritte zum Implementieren von multikriteriellem Alarm- und Voralarm-Funktionsumfang gemäß einer Ausführungsform. Beginnend in Schritt 1710 können Datenwerte von mehreren Sensoren erfasst werden, die in einem Gefahrenmeldesystem eingeschlossen sind. Beispielsweise können Datenwerte von den Sensoren 1321–1327 aus 13 bezogen werden. Bei Schritt 1720 kann eine Vielzahl von Schritten basierend auf den erfassten Datenwerten und auf mindestens einem Bedingungsparameter verwaltet werden. Die Vielzahl von Zuständen kann mindestens einen Alarmzustand und mindestens einen Voralarmzustand beinhalten. Bei Schritt 1730, wenn das Gefahrenmeldesystem in dem mindestens einen Alarmzustand ist, wird ein Alarm aktiviert. Bei Schritt 1740, wenn das Gefahrenmeldesystem in dem mindestens einen Voralarmzustand ist, wird durch den Lautsprecher eine Meldung wiedergegeben. 17 FIG. 12 is an illustrative flowchart of the steps for implementing multi-criteria alarm and pre-alarm functionality, according to one embodiment. FIG. Starting in step 1710 Data values can be captured by multiple sensors that are included in a hazard detection system. For example, data values from the sensors 1321 - 1327 out 13 be obtained. At step 1720 For example, a plurality of steps may be managed based on the collected data values and on at least one condition parameter. The plurality of states may include at least one alarm state and at least one pre-alarm state. At step 1730 when the hazard detection system is in the at least one alarm state, an alarm is activated. At step 1740 when the hazard alarm system is in the at least one pre-alarm state, a message is played through the loudspeaker.
18 zeigt ein veranschaulichendes Ablaufdiagramm der Schritte zum Mitbenutzen von Zuständen unter multikriteriellen Maschinen gemäß einer Ausführungsform. Bei Schritt 1810 kann eine Sensorzustandsmaschine ausgeführt werden, um Übergänge zu einem beliebigen aus einer Mehrzahl von Sensorzuständen zu verwalten, wobei Übergänge von Sensorzustandsmaschinen auf durch mindestens einen Sensor, einen ersten Satz von Bedingungsparametern und Stummschaltungsereignissen erfassten Daten basieren können. Bei Schritt 1820 kann eine Systemzustandsmaschine ausgeführt werden, um Übergänge zu einem aus einer Vielzahl von Systemzuständen zu verwalten. Die Systemzustände können die Sensorzustände beinhalten, und die Übergänge der Systemzustandsmaschine können auf von dem mindestens einen Sensor, den Stummschaltungsereignissen und einer zweiten Gruppe von Bedingungsparametern erfassten Daten basieren; und die zwischen der Sensorzustandsmaschine und der Systemzustandsmaschine geteilten Sensorzustände können durch die Sensorzustandsmaschine gesteuert werden. 18 FIG. 12 shows an illustrative flowchart of the steps of sharing states among multi-criteria machines according to one embodiment. FIG. At step 1810 For example, a sensor state machine may be executed to manage transitions to any of a plurality of sensor states, wherein transitions from sensor state machines may be based on data sensed by at least one sensor, a first set of condition parameters, and muting events. At step 1820 For example, a system state machine may be executed to manage transitions to one of a variety of system states. The system states may include the sensor states, and the transitions of the system state machine may be based on data acquired from the at least one sensor, the mute events, and a second group of conditional parameters; and the sensor states shared between the sensor state machine and the system state machine may be controlled by the sensor state machine.
19 zeigt ein veranschaulichendes Ablaufdiagramm der Schritte zum Verwalten von Trigger-Bändern gemäß einer Ausführungsform. In Schritt 1910 kann ein Sicherheitsprozessor das Auftreten eines Aktivierungsereignis-Signals überwachen. Das Aktivierungsereignis-Signal kann ein Trigger-Ereignis-Signal beinhalten, das durch den Sicherheitsprozessor zu einem Systemprozessor übertragen wird, wenn ein einem Sensor zugeordneter Datenwert aus einem mit diesem Sensor assoziierten Trigger-Band austritt. Bei Schritt 1920 kann der Systemprozessor als Reaktion auf ein überwachtes Aktivierungsereignis-Signal aus einem Ruhezustand in einen Nicht-Ruhezustand übergehen. Bei Schritt 1930 kann der Betriebszustand des Gefahrenmeldesystems bewertet werden. Bei Schritt 1940 kann eine Grenze von mindestens einem Trigger-Band selektiv auf der Grundlage der Auswertung des Betriebszustands angepasst werden. Bei Schritt 1950 kann die selektive Grenzanpassung an den Sicherheitsprozessor übertragen werden, um zumindest eine Grenze des mindestens einen Trigger-Bands zu aktualisieren. Bei Schritt 1960 kann der Systemprozessor anschließend aus dem Nicht-Ruhezustand in den Ruhezustand übergehen, nachdem die Vorgänge des Systemprozessors abgeschlossen sind. 19 FIG. 11 is an illustrative flowchart of the steps for managing trigger bands according to one embodiment. FIG. In step 1910 For example, a security processor may monitor the occurrence of an activation event signal. The activation event signal may include a trigger event signal that is transmitted by the security processor to a system processor when a data value associated with a sensor leaks out of a trigger band associated with that sensor. At step 1920 For example, the system processor may transition from a sleep state to a non-sleep state in response to a monitored activation event signal. At step 1930 the operating status of the hazard detection system can be evaluated. At step 1940 For example, a limit of at least one trigger band may be selectively adjusted based on the evaluation of the operating condition. At step 1950 For example, the selective boundary adaptation may be transmitted to the security processor to update at least one boundary of the at least one trigger band. At step 1960 the system processor can subsequently From idle to sleep, after the system processor completes.
20 zeigt ein veranschaulichendes Ablaufdiagramm der Schritte zum Implementieren einer Zustandsmaschine des Rauchsensors gemäß einer Ausführungsform. Beginnend bei Schritt 2010 können Rauchdatenwerte von einem Rauchsensor empfangen werden. In Schritt 2020 kann ein Befehl eines Stummschaltungsereignisses empfangen werden. Der Empfang des Befehls des Stummschaltungsereignisses kann auf einer Benutzerinteraktion wie einer Gesten-Interaktion oder einer Tastenbetätigung basieren. Bei Schritt 2030 kann die Zustandsmaschine des Rauchsensors auf der Grundlage der empfangenen Rauchdatenwerte, des empfangenen Befehls für ein Stummschaltungsereignis und einer Vielzahl von Übergangsbedingungen zwischen einer Vielzahl von Zuständen wechseln. Die Vielzahl von Übergangsbedingungen kann eine Vielzahl unterschiedlicher Rauch-Schwellenwerte beinhalten, und für jeden Zustandswechsel kann ein Vergleich zwischen den Rauchdatenwerten und einem der unterschiedlichen Rauch-Schwellenwerte erfolgen. 20 FIG. 11 is an illustrative flowchart of steps for implementing a state machine of the smoke sensor according to an embodiment. FIG. Starting at step 2010 smoke data values can be received by a smoke sensor. In step 2020 For example, an instruction of a mute event may be received. The receipt of the mute event command may be based on user interaction, such as a gesture interaction or a button press. At step 2030 For example, the smoke detector state machine may toggle based on the received smoke data values, the received mute event command, and a plurality of transient conditions between a plurality of states. The plurality of transient conditions may include a plurality of different smoke thresholds, and for each state transition, a comparison may be made between the smoke data values and one of the different smoke thresholds.
21 zeigt ein veranschaulichendes Ablaufdiagramm der Schritte zum Implementieren einer Zustandsmaschine des CO-Sensors gemäß einer Ausführungsform. Beginnend bei Schritt 2110 können Kohlenmonoxid-(„CO”)-Datenwerte von einem Kohlenmonoxid-Sensor empfangen werden. Bei Schritt 2120 kann die Zustandsmaschine des CO-Sensors mehrere CO-Zeitbänder verwalten, indem basierend auf den erhaltenen CO-Datenwerten selektiv Zeiteinheiten zu einem oder mehreren der Bänder hinzufügt oder davon subtrahiert werden. Jedes CO-Zeitband kann eine Zeiteinheitenmenge beinhalten, und eine Zeiteinheit kann zu einem oder mehreren der CO-Zeitbänder hinzugefügt werden, falls der CO-Datenwert gleich einem oder größer als ein mit dem einen oder den mehreren CO-Zeitbändern assoziierten Implementierungspegel ist, und eine Zeiteinheit kann aus einem oder mehreren der CO-Zeitbänder entfernt werden, falls der CO-Datenwert geringer ist als ein Bruchteil des mit dem einem oder den mehreren CO-Zeitbändern assoziierten Implementierungspegels. Bei Schritt 2130 kann die Zustandsmaschine des CO-Sensors auf der Grundlage der empfangenen CO-Datenwerte und einer Vielzahl von Übergangsbedingungen zwischen einer Vielzahl von Zuständen wechseln, wobei die Vielzahl von Übergangsbedingungen einen Alarmzeit-Schwellenwert für jedes CO-Zeitband beinhalten kann. 21 FIG. 11 is an illustrative flowchart of the steps for implementing a state machine of the CO sensor according to an embodiment. FIG. Starting at step 2110 For example, carbon monoxide ("CO") data may be received from a carbon monoxide sensor. At step 2120 For example, the state machine of the CO sensor may manage multiple CO time bands by selectively adding or subtracting time units to one or more of the bands based on the obtained CO data values. Each CO time band may include a unit time set, and a time unit may be added to one or more of the CO time bands if the CO data value is equal to or greater than an implementation level associated with the one or more CO time bands, and one Time unit may be removed from one or more of the CO time bands if the CO data value is less than a fraction of the implementation level associated with the one or more CO time bands. At step 2130 For example, the state machine of the CO sensor may switch between a plurality of states based on the received CO data values and a plurality of transient conditions, wherein the plurality of transient conditions may include an alarm time threshold for each CO time band.
22 zeigt ein veranschaulichendes Ablaufdiagramm der Schritte zum Implementieren einer Zustandsmaschine des Hitzesensors gemäß einer Ausführungsform. Beginnend bei Schritt 2210 können Hitze-Rohdatenwerte von einem Hitzesensor empfangen werden. Bei Schritt 2220 kann die Zustandsmaschine des Hitzesensors eine Beschleunigungsfunktion einsetzen, um die unbearbeiteten Hitzedatenwerte in skalierte Hitzedatenwerte umzuwandeln. In Schritt 2230 kann ein Befehl eines Stummschaltungsereignisses empfangen werden. Bei Schritt 2240 kann die Zustandsmaschine des Hitzesensors auf der Grundlage der skalierten Hitzedatenwerte, des empfangenen Befehls für ein Stummschaltungsereignis und einer Vielzahl von Übergangsbedingungen zwischen einer Vielzahl von Zuständen wechseln. Die Übergangsbedingungen können mehrere unterschiedliche Hitzeschwellenwerte beinhalten, wobei die skalierten Datenwerte für jeden Zustandswechsel mit einem der unterschiedlichen Hitzeschwellenwerte verglichen werden. 22 FIG. 11 is an illustrative flowchart of the steps for implementing a state machine of the heat sensor according to an embodiment. FIG. Starting at step 2210 For example, raw heat data values can be received by a heat sensor. At step 2220 For example, the state machine of the heat sensor may use an acceleration function to convert the raw heat data values into scaled heat data values. In step 2230 For example, an instruction of a mute event may be received. At step 2240 For example, the state machine of the heat sensor may switch based on the scaled heat data values, the received mute event command, and a variety of transient conditions between a plurality of states. The transient conditions may include a plurality of different heat threshold values, wherein the scaled data values for each state transition are compared to one of the different heat threshold values.
23 zeigt ein veranschaulichendes Ablaufdiagramm von Schritten zum Anpassen von Alarm-Schwellenwerten gemäß einer Ausführungsform. Beginnend bei Schritt 2310 werden Sensordatenwerte von mindestens zwei Sensoren empfangen. Bei Schritt 2320 wird die einstellbare Alarmschwelle über die Anwendung von Auswahlkriterien auf die empfangenen Sensordatenwerte aus einer Vielzahl von unterschiedlichen Schwellenwerten ausgewählt. Anschließend wird bei Schritt 2330 der ausgewählte einstellbare Alarmschwellenwert in einer Übergangsbedingung einer Zustandsmaschine verwendet. 23 FIG. 11 is an illustrative flowchart of steps for adjusting alarm thresholds according to an embodiment. FIG. Starting at step 2310 Sensor data values are received from at least two sensors. At step 2320 For example, the adjustable alarm threshold is selected by applying selection criteria to the received sensor data values from a plurality of different thresholds. Subsequently, at step 2330 the selected adjustable alarm threshold is used in a transient condition of a state machine.
Es versteht sich, dass die in den Ablaufdiagrammen von einer oder mehreren der 16–23 gezeigten Schritte rein beispielhaft sind und dass vorhandene Schritte abgeändert oder ausgelassen werden können, dass zusätzliche Schritte hinzugefügt werden können und dass die Reihenfolge bestimmter Schritte geändert werden kann.It is understood that in the flowcharts of one or more of the 16 - 23 The steps shown are purely exemplary and that existing steps can be modified or omitted, additional steps can be added, and the order of specific steps can be changed.
Der von verschiedenen hierin beschriebenen Ausführungsformen verwendete Rauchsensor kann in regelmäßigen Abständen kalibriert werden, um sicherzustellen, dass genaue Rauchsensordaten erhalten werden. Zum Beispiel kann der Rauchsensor über die Vornahme von Ablesungen einer dunklen (unbeleuchteten) Kammer und deren Subtraktion von Ablesungen einer hellen (beleuchteten) Kammer kalibriert werden. Diese differenzielle Ablesung kann definiert werden durch: R = SMOKElight – SMOKEdark wobei SMOKElight die Ablesung der hellen Kammer ist und SMOKEdark die Ablesung der dunklen Kammer ist. Falls jeder „R”-Wert unterhalb von Smoke_T_Base ist, wird er zu einem Filter hinzugefügt, der verwendet wird, um einen Reinluft-Offsets – des Werts, der zum Kalibrieren des Rauchsensors verwendet wird – zu bestimmen. Der Filter kann definiert werden durch: Fn = (0,0029·R) + (0,9971·Fn–1) wobei n eine vorbestimmte Anzahl von Proben definieren kann. Bei einigen Ausführungsformen kann der Filter vier Tage mit R-Werten beinhalten. Somit kann Rn einen laufenden Durchschnitt gefilterter R-Werte aufrechterhalten. Der Reinlauft-Offset kann definiert werden durch: Ccur = Clast·(R – Fn) wobei Ccur der aktuelle Wert des Reinluft-Offsets ist, wobei Clast der vorangegangene Wert des Reinluft-Offsets ist, wobei R die aktuelle differenzielle Ablesung ist und wobei Fn der gefilterte Durchschnitt von R-Werten ist. Ccur kann zum Kalibrieren des Rauchsensors verwendet werden. Bei einigen Ausführungsformen kann Ccur nach jeweils einer vorbestimmten Anzahl von Tagen in einem nichtflüchtigen Speicher gespeichert werden. Im Installationszustand kann Ccur anfänglich auf den vom Hersteller des Rauchsensors definierten Wert gesetzt sein, der im nichtflüchtigen Speicher gespeichert sein kann.The smoke sensor used by various embodiments described herein may be calibrated at regular intervals to ensure that accurate smoke sensor data is obtained. For example, the smoke sensor may be calibrated by taking readings of a dark (unlit) chamber and subtracting it from readings of a bright (lighted) chamber. This differential reading can be defined by: R = SMOKE light - SMOKE dark where SMOKE light is the reading of the light chamber and SMOKE dark is the reading of the dark chamber. If each "R" value is below Smoke_T_Base, it is added to a filter that is used to determine a clean air offset - the value used to calibrate the smoke sensor. The filter can be defined by: F n = (0.0029 × R) + (0.9971 × F n-1 ) where n can define a predetermined number of samples. In some embodiments, the filter may include four days of R values. Thus, Rn can maintain a running average of filtered R values. The clean-running offset can be defined by: C cur = C last * (R - F n ) where C cur is the current value of the clean air offset, where C last is the previous value of the clean air offset, where R is the current differential reading and where F n is the filtered average of R values. C cur can be used to calibrate the smoke sensor. In some embodiments, C cur may be stored in a nonvolatile memory after every predetermined number of days. When installed, C cur may initially be set to the value defined by the manufacturer of the smoke sensor, which may be stored in non-volatile memory.
Falls Ccur einen vorbestimmten Wert überschreitet, kann bei einigen Ausführungsformen ein Fehlersignal ausgelöst werden, um anzugeben, dass der Rauchsensor über einen maximalen Abweichungsschwellenwert hinaus abgewichen ist. Weiter können separate Tiefpassfilter von SMOKElight und SMOKEdark beibehalten werden, um Betriebsprobleme des Rauchsensors zu überwachen. Ein Fehlersignal kann ausgelöst werden, wenn die mit SMOKEdark assoziierten durchschnittlichen Daten einen vorbestimmten Schwellenwert überschreiten. Ein Fehlersignal kann ausgelöst werden, wenn der durchschnittliche R-Wert kleiner als ein vorbestimmter Schwellenwert ist, wobei der durchschnittliche R-Wert aus den Tiefpassfiltern von SMOKElight und SMOKEdark abgeleitet ist.If C cur exceeds a predetermined value, in some embodiments, an error signal may be triggered to indicate that the smoke sensor has deviated beyond a maximum deviation threshold. Furthermore, separate low-pass filters from SMOKE light and SMOKE dark can be maintained to monitor smoke detector operational issues. An error signal may be triggered when the average data associated with SMOKE dark exceeds a predetermined threshold. An error signal may be triggered if the average R value is less than a predetermined threshold, the average R value being derived from the low pass filters of SMOKE light and SMOKE dark .
Der CO-Sensor kann ebenfalls kalibriert werden. Die Verstärkungseinstellung des Herstellers des CO-Sensors kann in dem nichtflüchtigen Speicher programmiert werden. Zusätzlich können lokal gemessene Reinluft-Offset-Ablesungen im nichtflüchtigen Speicher gespeichert werden. Das Gefahrenmeldesystem kann Temperaturänderungen kompensieren, indem basierend auf von einem oder mehreren Temperatursensoren empfangenen Temperatursensordaten eine Verstärkungskorrektur angewandt wird.The CO sensor can also be calibrated. The gain setting of the manufacturer of the CO sensor can be programmed in the non-volatile memory. In addition, locally measured clean air offset readings can be stored in nonvolatile memory. The hazard notification system may compensate for temperature changes by applying gain correction based on temperature sensor data received from one or more temperature sensors.
Der CO-Sensor kann eine Einsatzdauer von etwa sieben Jahren haben. Das Gefahrenmeldesystem kann gemäß verschiedenen Ausführungsformen in der Lage sein, zu erfassen, seit wann der CO-Sensor verwendet wird. Dies kann beispielsweise erfolgen, indem die verstrichene Zeit in den nichtflüchtigen Speicher geschrieben wird. Wenn die Daten der verstrichenen Zeit einen Schwellenwert für das Ende der Nutzungsdauer des CO-Sensors überschreiten, kann ein Alarm ausgegeben werden, um anzugeben, dass der CO-Sensor nicht länger funktionstüchtig ist.The CO sensor can have a service life of about seven years. The hazard notification system may, according to various embodiments, be able to detect when the CO sensor is in use. This can be done, for example, by writing the elapsed time to the nonvolatile memory. If the elapsed time data exceeds a CO sensor end of life threshold, an alarm may be issued to indicate that the CO sensor is no longer functional.
Es versteht sich, dass, obwohl die Ausführungsformen hierin mit Bezug auf ein Gefahrenmeldesystem beschrieben sind, diese Ausführungsformen auch in beliebigen Systemen oder Einrichtungen verwendet werden können, bei denen die Aufrechterhaltung der Abfrage und Überwachung anderer Ereignisse erwünscht ist, während die betrieblichen Möglichkeiten von einer oder mehreren Komponenten des betreffenden Systems oder Geräts aktualisiert werden. Die anderen Ereignisse können beispielsweise Ereignisse beinhalten, die nicht notwendigerweise an Gefahren wie z. B. Rauch, CO und Hitze gebunden sind, sondern Bewegungserkennung, Geräuscherkennung und Ähnliches beinhalten können. Durch entfernte Einrichtungen gemeldete Ereignisse können ebenfalls berücksichtigt werden. Beispielsweise können Sicherheitseinrichtungen wie Fenster- und Türsensoren und Bewegungserkennungs-Sensoren, die Rückmeldungen an ein System bereitstellen, als andere Ereignisse gelten.It will be appreciated that while the embodiments are described herein with respect to a hazard detection system, these embodiments may also be used in any systems or devices in which the maintenance of interrogation and monitoring of other events is desired, while the operational capabilities of one or more several components of the system or device concerned. For example, the other events may include events that are not necessarily associated with hazards such as B. smoke, CO and heat are bound, but may include motion detection, noise detection and the like. Events reported by remote facilities may also be considered. For example, security devices such as window and door sensors and motion detection sensors that provide feedback to a system may be considered other events.
Weiter können die beschriebenen Prozesse mit Bezug auf 1–23 sowie beliebige andere Aspekte der Erfindung jeweils durch Software implementiert werden, aber sie können auch in Hardware, Firmware oder beliebigen Kombinationen aus Software, Hardware und Firmware implementiert sein. Sie können jeweils auch als maschinen- oder computerlesbarer Code ausgeführt und auf einem maschinen- oder computerlesbaren Medium aufgezeichnet sein. Das computerlesbare Medium kann jede Datenspeichereinrichtung sein, die Daten und/oder Anweisungen speichern kann, die anschließend von einem Computersystem eingelesen werden können. Beispiele des computerlesbaren Mediums können ohne diesbezügliche Einschränkung Festwertspeicher, Direktzugriffsspeicher, Flash-Speicher, CD-ROMs, DVDs, Magnetband und optische Datenspeichereinrichtungen beinhalten. Das computerlesbare Medium kann auch über netzgekoppelte Computersysteme verteilt werden, sodass der computerlesbare Code auf verteilte Weise gespeichert und ausgeführt wird. Beispielsweise kann das computerlesbare Medium unter Verwendung eines beliebigen geeigneten Kommunikationsprotokolls von einem elektronischen Subsystem oder Gerät zu einem anderen elektronischen Subsystem oder Gerät kommuniziert werden. Das computerlesbare Medium kann computerlesbaren Code, Anweisungen, Datenstrukturen, Programmmodule oder andere Daten in einem modulierten Datensignal wie z. B. einer Trägerwelle oder einem anderen Transportmechanismus umfassen, und es kann beliebige Informationsverteilungsmedien beinhalten. Ein moduliertes Datensignal kann ein Signal sein, bei dem eine oder mehrere seiner Merkmale so eingestellt oder verändert sind, dass Informationen im Signal codiert werden.Further, the processes described with respect to 1 - 23 and any other aspects of the invention may be implemented by software, respectively, but may also be implemented in hardware, firmware, or any combination of software, hardware, and firmware. They may each be embodied as machine or computer readable code and recorded on a machine or computer readable medium. The computer-readable medium may be any data storage device that can store data and / or instructions that can subsequently be read by a computer system. Examples of the computer readable medium may include, without limitation, read only memories, random access memories, flash memories, CD-ROMs, DVDs, magnetic tape, and optical data storage devices. The computer readable medium may also be distributed over networked computer systems so that the computer readable code is stored and executed in a distributed fashion. For example, the computer readable medium may be communicated from one electronic subsystem or device to another electronic subsystem or device using any suitable communication protocol. The computer-readable medium may include computer-readable code, instructions, data structures, program modules, or other data in a modulated data signal, such as data. A carrier wave or other transport mechanism, and may include any information distribution media. A modulated data signal may be a signal in which one or more of its features are set or altered to encode information in the signal.
Es versteht sich, dass einzelne Module oder Zustandsmaschinen oder jedes Modul und jede Zustandsmaschine, die hierin beschrieben sind, als Softwarekonstrukt, Firmwarekonstrukt, eine oder mehrere Hardwarekomponenten oder eine Kombination daraus bereitgestellt sein können. Beispielsweise können beliebige einzelne oder mehrere der Zustandsmaschinen oder Module im allgemeinen Zusammenhang von durch Computer ausführbaren Anweisungen beschrieben sein, wie z. B. Programmmodule, die durch einen oder mehrere Computer oder andere Einrichtungen ausgeführt werden können. Generell kann ein Programmmodul einzelne oder mehrere Routinen, Programme, Objekte, Komponenten und/oder Datenstrukturen beinhalten, die eine oder mehrere bestimmte Aufgaben ausführen können oder die einen oder mehrere bestimmte abstrakte Datentypen implementieren können. Es versteht sich weiter, dass die Anzahl, Konfiguration, Funktionalität und Verbindung der Module oder Zustandsmaschinen rein veranschaulichend sind und dass die Anzahl, Konfiguration, Funktionalität und Verbindung vorhandener Module abgeändert oder ausgelassen werden können, dass zusätzliche Module hinzugefügt werden können und dass die Verbindung bestimmter Module geändert werden kann.It is understood that individual modules or state machines or each module and state machine described herein may be provided as a software construct, firmware construct, one or more hardware components, or a combination thereof. For example, any one or more of the state machines or modules may be described in the general context of computer-executable instructions, such as: B. Program modules that may be executed by one or more computers or other devices. Generally, a program module may include one or more routines, programs, objects, components, and / or data structures that may perform one or more specific tasks or that may implement one or more particular abstract data types. It is further understood that the number, configuration, functionality, and connectivity of the modules or state machines are merely illustrative, and that the number, configuration, functionality, and interconnection of existing modules may be altered or omitted, additional modules may be added, and the connection may be of a particular type Modules can be changed.
Während viele Variationen und Abänderungen dieser Erfindung nach der Lektüre der vorstehenden Beschreibung zweifellos für Fachleute auf diesem Gebiet offensichtlich werden, versteht es sich, dass die besonderen zur Veranschaulichung gezeigten und beschriebenen Ausführungsformen auf keine Weise als einschränkend angesehen werden sollen. Ein Bezug auf die Einzelheiten der bevorzugten Ausführungsformen soll daher ihren Schutzumfang nicht einschränken.While many variations and modifications of this invention will become apparent to those skilled in the art after reading the foregoing description, it is to be understood that the particular embodiments shown and described for illustration are not to be considered in any way limiting. Reference to the details of the preferred embodiments is therefore not intended to limit its scope.