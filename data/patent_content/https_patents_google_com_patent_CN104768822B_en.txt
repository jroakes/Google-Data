The application is the U.S. Patent application No.13/623 of the submission on the 20th of September in 2012, and 397 continuation application is 2012
The U.S. Patent application No.13/623 of on September submission in 20,422 continuation application, the entire disclosure here cites addition
Come in.
Specific embodiment
In an aspect of this disclosure, can be by calculating including the laser scanning data of the data point collected along road
Machine is received.Laser scanning data may include position and the data point of brightness, roadway characteristic etc. for indicating the object around laser,
Include road around the laser, and also include surmounting the world of road boundary in some instances.The information can be used for
One or more highway weather conditions are recognized, it is as discussed in more detail below.Additionally, can be connect by computer from the image of cameras capture
Receive.As laser data, image can be included about the information around the camera including road.Image can be for subsequent use in identification
The instruction of highway weather conditions.Data from precipitation sensor can be received by computer, and can be used to recognize highway
The instruction of weather conditions.Weather related information can be received by network by computer from server.Weather related information can be with
For recognizing the instruction of highway weather conditions.Indicating for being recognized can subsequently for estimating the driving condition of road.The estimation
Can be used to make Driving Decision-making, as described in more detail below.
As shown in fig. 1, the car with various assemblies is included according to the automated driving system 100 of an aspect of this disclosure
101.Although the particular aspects of the disclosure are combined, certain types of vehicle is particularly useful, and vehicle can be any kind of car
, including but not limited to, automobile, truck, motorcycle, bus, ship, aircraft, helicopter, grass mower, recreational vehicle, travel
Field vehicle, tramcar, golf cart, train and handcart.Vehicle can have one or more computers, such as count
Calculation machine 110, comprising processor 120, memory 130 and the other assemblies generally present in all-purpose computer.
Memory 130 stores the addressable information of processor 120, including instruction 132 and data 134, and it can be by processing
Device 120 is performed or used.Memory 130 can be any kind of storage that can store the information that can be accessed by processor
Device, including computer-readable medium, or storage can be by other media of the data of electronic equipment reading, such as hard drive
Device, memory card, ROM, RAM, DVD or other CDs, and other writeable and read-only storages.Before system and method may include
The various combination stated, thus the different piece of instruction and data be stored on different types of medium.
Instruction 132 can directly be performed (such as machine code) by processor or perform any of (such as script) indirectly
Instruction set.For example, instruction can be stored as the computer code on computer-readable medium.Here, term " instruction " and " journey
Sequence " can be with here used interchangeably.Instruction can with the storage of object identification code form directly being processed by processor, or with it is any its
His computer language, the script or set including the independent modules of source code of to be interpreted on demand or advance compiling.Instruction
Function, method and routine are explained in further detail below.
Data 134 can be by processor 120 is according to the retrieval of instruction 132, storage or changes.For example, although system and method
Do not limited by any specific data structure, data can be stored in computer register, in relational database, as with many
Individual different field and the table for recording, XML document or flat file.Data can also be formatted as any computer-readable lattice
Formula.Further by way of only example, view data can be stored as bitmap and the computer for graphing refers to
Order, the bitmap is by according to compression or uncompressed, lossless (such as BMP) or damaging (such as JPEG), bitmap or based on vector (example
Such as SVG) the grid composition of the pixel of storage.Data can include recognizing any information of relevant information enough that the correlation is believed
Breath such as number, descriptive text, proprietary code, to being stored in the same memory or different memory (including other network positions
Put) other regions in data reference or be used to calculate the information that used of function of related data.
Processor 120 can be any conventional processors, such as commercially available CPU.Alternatively, processor can be special
With equipment, such as ASIC.Although it is identical that Fig. 1 features illustrate processor, memory with the other elements of computer 110
In block, it should be appreciated that processor and memory can actually include multiple processors and memory, and it can store or not deposit
Storage is in same physical inside the shell.For example, memory can be hard disk drive or other storage media, and it is located at and computer
In 110 different shells.Therefore, the reference of processor or computer will be understood to comprise pair can with parallel work-flow or not simultaneously
The processor of row operation or the reference of the set of computer or memory.Be not performed using single-processor it is described here
The step of, some components, such as steering assembly and reduction assemblies, the processor can each with their own, it is only carried out
The calculating related to the specific function of the component.
In various aspects described herein, processor may be located at away from vehicle and and vehicle wireless communication.At it
In terms of him, some process described here are performed on the processor being placed in vehicle, and other are by teleprocessing unit
Perform, including perform the required steps taken of single operating institute.
Computer 110 can include all component for generally using with reference to computer, such as CPU (CPU),
Memory (for example, RAM and internal hard disk drive), the electronic console of data storage 134 and the such as web browser of instruction
142 (for example, the monitor with screen, little LCD touch screen or can be used to any other electrical equipment of display information),
User input 140 (for example, mouse, keyboard, touch-screen and/or microphone) and for collecting about personal state and needing
The various sensors (such as video camera) of explicit (for example, the gesture) wanted or implicit expression (for example, " people is in sleep ") information.
In one example, computer 110 can be incorporated into the automatic Pilot computing system in vehicle 101.Fig. 2 describes
Exemplary design inside automotive vehicle.Automotive vehicle can include all features of non-automatic vehicle, for example：Turn to dress
Put, such as steering wheel 210；Navigation Display Unit, such as navigation indicator 215；And gear selector device, such as gear level
220.Vehicle can also have various user input equipments, such as gear level 220, touch-screen 217 or button input 219, be used for
Activation deactivates one or more automatic driving modes and for so that driver or passenger 290 provide such as navigation purpose
The information on ground is to automatic Pilot computer 110.
Vehicle 101 can also include one or more additional displays.For example, vehicle can be used for including display 225
Show with regard to automotive vehicle or the information of the state of its computer.In another example, vehicle may include state indicating device, all
The current state of vehicle 101 is indicated such as status bar 230.In the figure 2 example, status bar 230 shows " D " and " 2mph ", refers to
Show that vehicle is now arranged in driving model and is moved with 2 miles per hour of speed.Here, vehicle can show on an electronic display
Show text, illuminate some parts of vehicle 101, such as steering wheel 210, or the instruction that various other types are provided.
Automatic Pilot computing system be able to may communicate with the various assemblies of vehicle.For example, Fig. 1 is gone to, computer 110 can
Communicated with the conventional center processor 160 with vehicle and such as brake 180, can be accelerated from the various systems of vehicle 101
182nd, 186 systems of signal 184 and navigation, send and receive information, to control movement, the speed etc. of vehicle 101.Additionally,
When engaged, computer 110 can control some or all in these functions of vehicle 101 and therefore completely or only portion
Divide automatic.It will be understood that, although various systems and computer 110 are illustrated in vehicle 101, these elements may be in vehicle 101
Outside physically separates relatively large distance.
Vehicle may also include the geographical position component 144 communicated with computer 110, for determining the geographical position of equipment.
For example, location component may include GPS to determine longitude, latitude and/or the height and position of equipment.Other can also be used
Position system, the such as positioning based on the alignment system of laser, inertia assistant GPS or based on video camera are recognizing the position of vehicle
Put.The position of vehicle may include absolute geographical position, such as longitude, latitude and height, and relative position information, such as relatively
In the position of other automobiles just around it, generally can be determined with the noise less than absolute geographical position.
Vehicle may also include other features communicated with computer 110, such as accelerometer, gyroscope or other direction/speed
Spend testing equipment 146 to determine direction and speed or its change of vehicle.Only for example, equipment 146 can determine it
Pitching, deflection or rolling (or its change) relative to gravity direction or plane normal thereto.Equipment can also be tracked the increasing of speed
Plus or reduce and the change direction.The position of equipment set forth herein and the offer of directional data can be automatically provided to
User, computer 110, other computers and aforesaid combination.
Computer can control direction and the speed of vehicle by controlling various assemblies.For example, if vehicle with
Fully automated pattern is operated, then computer 110 can cause vehicle to accelerate (for example, by increasing fuel or being supplied to engine
Other energy), slow down (for example, by reduce be supplied to engine fuel and implement brake) and change direction (for example,
By rotating the first two wheel).
Vehicle can also include the object and situation for detecting outside vehicle, barrier in such as other vehicles, road,
The component 148 of traffic signals, mark, trees etc..Detecting system can include that laser instrument, sonar, radar, camera, precipitation are passed
Any other testing equipment for the data that sensor or record can be processed by computer 110.For example, if vehicle is small-sized passenger
Vehicle, automobile can include that being arranged on roof or other facilitates the laser instrument of position.As shown in fig. 3, vehicle 101 can be wrapped
Include small-sized coach.In this example, the sensor of vehicle 101 can include laser instrument 310 and 311, be separately mounted to vehicle
Anterior and top.Laser instrument can include commercially available laser instrument, such as Velodyne HDL-64 or other models.Laser instrument
More than one laser beam can be included；For example, Velodyne HDL-64 laser instruments can include 64 beams.In one example,
The beam of laser instrument 310 can have 150 meters of scope, 30 degree of vertical field of view and 30 degree of horizontal field of view.The beam of laser instrument 311
Can have scope, 30 degree of vertical field of view and 360 degree of horizontal field of view of 50-80 rice.Laser instrument can provide scope to vehicle
And monochrome information, computer can recognize the position of the various objects of vehicle periphery and distance using above- mentioned information.At one
In aspect, laser instrument can by rotating on its axle and change its pitching and measuring vehicle and towards vehicle body surface it
Between distance.
As described above, vehicle may also include one or more cameras.Camera may be mounted at and caused from 2 at preset distance
The parallax of individual or more polyphaser image can be used to calculate the distance of various objects.As shown in fig. 3, vehicle 300 can be with
Including 2 camera 320-321, it is arranged under windshield 330 near rearview mirror (not shown).In one example, phase
Machine 320 can include 200 meters of scope and 30 degree of horizontal field of view, and camera 321 can include that 100 meters of scopes and 60 degree of levels are regarded
.
Vehicle can also include one or more precipitation sensors.In one example, such as typical vehicle, precipitation sensing
Device 340 may be mounted at windshield 330 times or be incorporated in windshield 330.Precipitation sensor also may be installed it is various its
His position, such as or close headlight position etc..In one example, precipitation sensor can include one group one or many
Individual infrarede emitting diode (LED) and photodetector, such as photodiode.The light that LED is launched can be by windshield
Reflected light electric diode.The light that photodiode is received is fewer, and the precipitation outside vehicle is more.The amount or precipitation of reflected light
Some other indexs of detection limit can be for delivery to computer 110.
Above-mentioned sensor can allow vehicle understand and potential response its in environment to maximize passenger and environment
The safety of middle object or person.It should be understood that the number and type of type of vehicle, sensor, sensing station, sensor field of view and
What the sensors field of sensor was merely exemplary.Various other configurations can also be utilized.
In addition to above-mentioned sensor, computer it is also possible to use the defeated of the sensor from typical non-automatic vehicle
Enter.For example, these sensors can include tyre pressure sensor, engine temperature sensing unit, brake heat sensor, brake cushion
State sensor, tire tread sensor, fuel sensor, oil level and mass sensor, air mass sensor are (for detecting sky
Temperature, humidity or particulate in gas) etc..
Many these sensors are provided by the data of Computer real-time processing, it is, sensor can continuously update it
Output is at time range or interior sensed environment and continuous to be reflected in or provides this on demand and updated exports to meter
Calculation machine so that computer can determine vehicle when whether front direction or speed should respond to be changed in the environment for being sensed.
In addition to the processing data that various sensors are provided, computer may rely on what is obtained in time point before
Environmental data and expected retain but regardless of vehicle is present in the environment.For example, Fig. 1 is gone to, data 134 can include detailed
Cartographic information 136, for example recognize road shape and height above sea level, crossroad, crossing, speed limit, traffic signals, building,
The highly detailed map of mark, Real-time Traffic Information or other such objects and information.In some instances, detailed map
Information can include the data or laser brightness data value of the expected brightness of description, for different section roads.
Additional detailed map information 136 can also include lane markings information, position, height above sea level and shape that it recognizes lane markings
Shape.Lane markings can include the spy of such as solid line or doublet or bicycle diatom, solid line or empty lane line, speculum etc.
Levy.Given track can be associated with other lane markings of left-lane line and right-lane line or restriction lane boundary.Therefore, greatly
Most tracks can be delimited by the right hand edge of the left hand edge of a lane line and another lane line.
Fig. 4 depicts Figure 40 0 in detail, and it includes same example part (and the letter outside laser instrument scope of road
Breath).The detailed map of road sections includes the letter of such as real vehicle diatom 410, empty lane line 420,440 and double real vehicle diatoms 430
Breath.These lane lines limit track 450 and 460.Each track should advance with instruction vehicle generally in corresponding track
The rail 455,465 in direction is associated.For example, when driving along track 460, vehicle can follow rail 465.Show at this
In example, track 450 is delimited by right-lane line 410 and left-lane line 420, and track 460 is by right-lane line 420 and left-lane
Line 430 is delimiting.The edge in track 450 is edge 470,472, and the edge in track 460 is edge 474,476.
Additionally, although additional detailed map information here is depicted as based on the map of image, cartographic information need not be complete
It is based on image (for example, grating).For example, additional detailed map information can include one or more road figures or such as public
The graphic network of the information of the connection between road, track, crossroad and these features.Each feature can be stored as figure number
According to and can be associated with such as geographical position and its information for whether being linked to other correlated characteristics, such as stopping mark
Road surface and crossroad etc. may be linked to.In some instances, associated data can be included based on the road of grid
The index of figure is allowing the effective lookup to specified link graphic feature.
Computer 110 also from other computer receive informations or can send a message to other computers.For example, computer
110 cartographic informations for being stored can be received from other computers or transmitted, and/or, from the biography of the sensor collection of vehicle 101
Sensor data can be sent to another computer to be processed as described herein.As shown in figures 3 b and 3 c, from calculating
The data of machine 110 can be sent to computer 320 further to process via network.Network, and intermediate node, can include
Various configurations and agreement, including internet, WWW, Intranet, VPN, wide area network, LAN, using being specific to
The various combinations of the dedicated network of the communication protocol of one or more companies, Ethernet, WiFi and HTTP and the above.It is such
Communication can promote by transmiting data to and from any equipment of other computers, and described other computers such as modulate
Demodulator and wave point.In another example, data can be accessed by storing it in by computer 110 and 320
Or be connected on the memory of computer 110 and 320 and transmit.
In one example, computer 320 can include the server with multiple computers, such as load balancing services
Device group, its node switching information different from network is to receive, process and transmit the data from computer 110.Server
Can configure similar to computer 110, with processor 330, memory 350, instruction 360 and data 370.
In one example, the data 370 of server 320 can include providing weather related information.For example, server
320 can receive, monitor, store, update and launch the various information with regard to weather.The information can include for example with report,
Radar information, the precipitation of forecast form, cloud and/or temperature information etc..
In addition to the operation illustrated in above-mentioned and figure, various operations will now be described.It should be understood that following operation is not
Must be performed with following precise sequences.But, various steps can with different order or while process, and step can also increase or
Omit.
Can be along driving path including the vehicle of one or more sensors.For example, sensor can include laser instrument.
Laser instrument can be external sensor, and it is attached in typical vehicle or in a part for automated driving system, such as vehicle
101.Fig. 5 depicts the vehicle 101 on the part of the road 500 of the additional detailed map information corresponding to Fig. 4.In this illustration,
Road includes real vehicle diatom 510, empty lane line 520 and 540, two-way traffic line 530 and track 550 and 560.
As the laser instrument of vehicle is continued to move to, vehicle can collect data point, and it is included from some directions and/or not
With the scope and monochrome information of the same position (point or region) of time.For example, each data point can include representing laser instrument
The therefrom brightness value and positional information of the reflectivity of the object of receiving light.For example, the highly reflective surface of such as lane markings
To be associated with the brightness value bigger than the less reflective surface of such as asphalt road, cement or other road surfaces.Similarly,
Absorb the dark object (black, navy blue, palm fibre etc.) of more light by with than the more shallow color body by more light are reflected
(white, cream, silver etc.) much lower brightness value is associated.Now, when object is wet, it may actually become darker
And therefore the brightness value of object will not be increased, moisture may reduce brightness value.
In some instances, brightness value can be measured, such as from 0 to 250, wherein 0 is very dark and 250 is very
It is bright.Therefore, more reflectivity, brighter surface may be associated with close 250 brightness value, and with less reflectivity, darker
Surface may be associated with close 0 brightness value.
For example, laser scanning data can be received by computer 110 (or computer 320) and process to generate geographical position
Coordinate.These geographical position coordinates can include GPS longitudes and latitude coordinate (x, y), and height above sea level component (z), or can be with
It is associated with other coordinate systems.This result for processing is one group of data point.Each data point in this group can include table
Show the brightness value and positional information of the laser instrument therefrom reflectivity of the object of receiving light：(x,y,z).
Fig. 6 depicts the example images 600 of the vehicle 101 of close crossroad.Image is from the laser instrument by vehicle
Generate in the laser scanning data collected to the single 360 degree of scannings around vehicle, such as using the institute for collecting laser instrument
There is the data point of beam.How white line represents laser instrument " seeing " around it.When the data point of multiple beams considers together, data point
Other shape and three-dimensional (3D) position (x, y, z) in can indicating around vehicle.For example, laser scanning data can refer to
Show the such as profile of the various objects in people 610, vehicle 620 and roadside 630, shape and the distance away from vehicle 101.
In addition to the object and roadway characteristic that recognize vehicle periphery, computer 110 can also detect the finger of weather conditions
Show, it may affect the ability (" highway weather conditions ") of the security control vehicle 101 of computer 110.These highway weather conditions
May include such as moist or icing conditions, situation of snowing, the situation of the situation etc. that hazes.
In terms of some of the disclosure, computer 110 can detect the instruction of moist condition of road surface.In one example,
Computer can check the mean flow rate of the laser data point of road and it compares with threshold value to recognize whether road is damp
Wet instruction.For example, as described above, the water of covering wet or ice field may reduce the brightness of road on road.Therefore, tide
Wet road may have lower average brightness values more how many than dry roads (such as cement, asphalt road, fragment of brick etc.), Yi Jiqi
He is expected roadway characteristic, such as occurs in lane markings in cartographic information etc..
When it is determined that laser data point mean flow rate when, can check be associated with some parts of road or road or
All laser data points and brightness value in some parts of road or road.For example, vehicle can check with the vehicle
The associated data point in region in track directly before the vehicle, in the current lane identical general direction with the vehicle
All data points in road that all tracks of upper mobile traffic are associated with the laser instrument visual field of the vehicle etc..If certain
The laser data point for being checked of a little percentages has the brightness value less than specific threshold, then computer can determine that road is tide
Wet.For example, used as discussed above 0 to 250 scale, if had in road in 1000 laser data points and this 1000 points extremely
Few 850 points (or at least 85% these laser data points) has the brightness less than threshold value 10, then road is very dark.As above institute
State, relatively low brightness value can indicate that road is moist high probability.Also for example, can be based on using other threshold values and percentage
The expected brightness of road or constituent.Now, the threshold value for asphalt road can be less than the threshold for cement or fragment of brick road
Value.
The flow chart 700 of Fig. 7 is how computer 110 can recognize road using the mean flow rate and threshold value of road
For the example of moist instruction.In this illustration, in block 710, as vehicle is along driving path, computer 110 is received as
The laser data that road is collected.As described above, laser data includes multiple laser data points, it has position and monochrome information.
In block 720, computer 110 determines mean flow rate according to received laser data.In block 730, by this mean flow rate
Compared with the threshold value of road.When mean flow rate is less than threshold value, in block 740, computer subsequently recognizes that road is moist finger
Show.
In another example, computer can check the change of road brightness to recognize road whether moist instruction.Example
Such as, computer 110 can calculate standard deviation or the distribution of the brightness value along a road part.It is bright during dry condition
The distribution of angle value can close Gauss model, center for dry roads expected brightness value around.For example, without Road position
In where, under dry condition, brightness value will be expected and be gathered in around similar value.If the distribution of brightness value is pre- from being close to
Phase is used for the brightness of dry condition and migrates towards more low-light level, then computer can determine that road is dark.This can indicate road
For humidity, for example, if road includes the wet area of road, such as puddle or moist tire footprint.
Fig. 8 is an example of the road 500 with various damp condition indexs.In this illustration, track 550 includes
From before or now rainfall some puddles 810 and 812.After another vehicle drive passes through these puddles, vehicle may
Leave moist tire footprint 820.Fig. 9 A depict the showing from Fig. 8 compared with the additional detailed map information of the road 500 of Fig. 4
The example of the laser data point for processing of example.In this illustration, feature 910,912 and 920 represents respectively puddle 810,812
With the general position of the laser data point of track 820.These features 910,912 and 920 can be with the laser number with brightness value
Strong point is associated, and the brightness value has how many average brightness values less than the remainder of track 550.Go to Fig. 9 B, figure 960
Depict the example of the distribution 965 to the brightness value desired by dry condition.Figure 970 is depicted in the such as example of Fig. 9 A
The example of the distribution 975 of brightness value.In this illustration, distribution have been directed towards (with the direction of arrow 980) luminosity scale 0 or
Dark end migration.As described above, computer 110 can determine that road is humidity using the migration, or at least include
Wet area.
The flow chart 1000 of Figure 10 is how computer 110 can recognize road for humidity using the change of road brightness
Instruction example.In this illustration, in block 1010, as vehicle is along driving path, computer 110 is received as the road
The laser data of collection.As described above, laser data includes multiple laser data points, it has position and monochrome information.In block
1020, computer 110 processes laser data to recognize the distribution of the brightness value of road.In block 1030, by the distribution of the brightness value
Subsequently compared with the expected distribution of road brightness value under dry weather situation.When the distribution of brightness value is from dry weather situation
The expected distribution of lower road brightness value towards the dark end of luminosity scale migrate when, in block 1040, computer subsequently recognizes road
For moist instruction.
In further example, computer can recognize road for humidity by the way that whether detection vehicle tyre evokes spray
Instruction.For example, when road surface humidity causes the tire of automotive vehicle to evoke spray, computer 110 can detect wheel
Random Laser point afterwards.Now, computer 110 can detect the rear tyre 1120 and/or bumper bar located immediately at vehicle 101
The cloud 1110,1112 at the random number strong point after 1130, as shown in figures 11 a and 11b.Due to mobile water, data point in cloud
Position and number can be continually changing.Therefore, the cloud from the data point of water will not have certainty structure, and solid body
A part, the rear end of such as vehicle will be associated with the data point for limiting clear surface much.After other vehicles
It is observed that similar point cloud data.Such observation can indicate, rain or ground is really moist.
The flow chart 1200 of Figure 12 is how computer 110 can check the cloud of laser data point to recognize road for humidity
Instruction example.In this illustration, in block 1210, as vehicle is along driving path, computer 110 is received as the road
The laser data of collection.As described above, laser data includes multiple laser data points, it has positional information.In block 1220, meter
Calculation machine 110 checks laser data to recognize the change cloud of the data point for not indicating ad hoc structure.These data points can with car
101 or another mobile object for detecting in the road be associated.When cloud is identified, in block 1230, computer is subsequently known
Other road is moist instruction.
In another example, the position of laser data point can be by computer 110 using recognizing that road is moist finger
Show.For example, when road is very moist, such as in the case of it there is deep water hole, water may have the same outward appearance of glass.This
When, some water may serve as mirror reflection laser and some laser may pass through water and be reflected by road surface.Such as Figure 13
Shown in example, laser can collide moist road surface and the return laser light point cloud data 1310 in the region of puddle.Some this
A little laser data points can be occurred on or below ground 1320.Therefore, computer 110 can be observed in expected road surface
Above and below object.It is assumed that data point generally by the expected surface of the road in additional detailed map information it is slightly above and it
Under detect, distance threshold 1330 and 1340,15-20cm above and below such as road surface, can be used to from a beach water
The cloud of the data point being associated with dry roads surface is recognized in associated cloud.Therefore, because the data point 1310 of Figure 13
Cloud includes the data point of upper threshold value 1330 and lower threshold value 1340, and data point can be associated with puddle.Computer 110 can be used
It is such to indicate to determine road for humidity.
The flow chart 1400 of Figure 14 is how computer 110 can recognize road for humidity using the cloud of laser data point
Instruction another example.In this illustration, in block 1410, as vehicle is along driving path, computer 110 is received as this
The laser data that road is collected.As described above, laser data includes multiple laser data points, it has positional information.In block
1420, computer 110 recognizes the cloud of the laser data point on the expected surface (determining such as from Figure 136 in detail) of close road.
In block 1430, the laser data point of the cloud is expected into table with the first threshold being located on road expection surface and positioned at road
Second Threshold under face compares.When cloud is included under 1 laser data point and Second Threshold on first threshold
1 laser data point when, in block 1440, computer subsequently recognizes that road is moist instruction.
As above instructions, in addition to recognizing that road is moist instruction, computer 110 can also recognize the finger of the situation of snowing
Show, such as when road is at least partly covered by snow.For example, due to the color and reflectivity of snow, it can have than link table
The higher brightness in face.As described above, during dry condition, the distribution of brightness value may be close to Gauss model, and center is being dried
Around the expected brightness value of (covering without snow) road.For example, where it is located at without Road, under dry condition, brightness value will be by
Expection is gathered in around similar value.Therefore, if the distribution of brightness value is from the close brightness direction for being intended for dry condition
More high brightness is migrated, then computer can determine that road is brighter.This may indicate that road is at least partly covered by snow.
Figure 15 is the example of the road 500 with situation of snowing.In this illustration, road 500 some regions 1510,
1512 are slightly avenged and/or ice covering.Figure 15 B are gone to, figure 1560 depicts the distribution of brightness value expected from dry condition
1565 example, for example, when road is covered without part by snow.Figure 1570 is depicted in the such as example of Figure 15 A
The example of the distribution 1575 of brightness value.In this illustration, distribution (on the direction of arrow 1580) towards 250 or luminosity scale
Brighter end migration.As described above, computer 110 can to determine road using the migration snowy, or at least include
Snow-covered region.
The flow chart 1600 of Figure 16 is how computer 110 can recognize road at least portion using the change of road brightness
Divide the example of snow-covered instruction.In this illustration, in block 1610, as vehicle is along driving path, computer 110 connects
The laser data that Shou Weidaogai roads are collected.As described above, laser data includes multiple laser data points, it has position and brightness
Information.In block 1620, computer 110 processes laser data to recognize the distribution of road brightness value.In block 1630, by brightness value
This distribution is subsequently compared with the expected distribution of the brightness value of the road under dry weather situation.When brightness value distribution from
The expected distribution of the brightness value of the road under dry weather situation towards the dark end of luminosity scale migrate when, in block 1640, meter
Calculation machine subsequently recognizes road at least partly snow-covered instruction.
In another example, computer 110 can recognize that road is at least partly covered by snow using the mean flow rate of road
The instruction of lid.For example, as shown in Figure 17, whole road 500 is avenged and/or ice 1710 is covered.Because these surfaces cover
Thing can have more reflectivity than road surface, snow or ice may cause the laser brightness data specific surface road collected from road or
From the expected high at least threshold value of additional detailed map information.Additionally, this threshold value can be based on the constituent (pitch of road surface
Road, cement, fragment of brick etc.).For example, if the mean flow rate of road is bigger than the expected brightness of road (or the type road) at least
Threshold value or standard deviation difference, then the information can indicate that road has the covering of snow or ice.
The flow chart 1800 of Figure 18 is how computer 110 can be recognized using the mean flow rate and threshold value of road
The example of at least part of snow-covered instruction in road.In this illustration, in block 1810, as vehicle is along driving path, meter
Calculation machine 110 is received as the laser data that the road is collected.As described above, laser data includes multiple laser data points, it has
Position and monochrome information.In block 1820, computer 110 determines mean flow rate from received laser data.In block 1830, will
The mean flow rate is compared with the threshold value of road.When the mean flow rate is more than threshold value, in block 1840, computer is subsequently recognized
Road at least partly snow-covered instruction.
In another example, computer 110 can use the mean flow rate in the world, in other words also include outside road
Region is recognizing the instruction of snowy situation.Accumulated snow first would generally be piled up outside road boundary, just pile up in the road afterwards.Example
Such as, the snow outside road (such as surmounting lane boundary, curb, roadside etc.) on ground be likely to than road, curb, roadside,
Pavement is lighter, brighter and more highly reflective.The white snow of highly reflective may cause the laser collected from these regions
Brightness data ratio is significantly higher from the expection of additional detailed map information.If additionally, the mean flow rate ratio in the world outside road
The big at least a certain threshold value of expected brightness limited in additional detailed map information or standard deviation difference, then this may indicate that the world with extremely
Few some snow coverings, it also may be collected (or having begun to collect) on road.
The flow chart 1900 of Figure 19 is how computer 110 can be recognized using the mean flow rate and threshold value of road
Road is moist instruction.In this illustration, in block 1910, as vehicle is along driving path, computer 110 is received as the road
The laser data that the exterior domain on the border of road and the road is collected.As described above, laser data includes multiple laser data points,
It has position and monochrome information.Outside the border that block 1920, computer 110 determine road from received laser data
The mean flow rate in region.In block 1930, by this mean flow rate be threshold value expected from region (for example, according to detailed map
136) compare.When the mean flow rate is more than threshold value, in block 1940, computer subsequently recognizes the instruction of snowy situation.
Except or substitute and consider lightness or brightness value, computer 110 can also check the height above sea level or height of road and
Threshold value is recognizing the instruction of highway weather conditions.For example, if the height above sea level of road surface is detected higher than from detailed map
136 expection, this may indicate that the accumulation of snow or flood on road.Now, computer 110 can be used by including laser
The sensor of the various vehicles of device, radar, sonar, multiple cameras etc. is provided for road area or the data that generate are determining
The position of road surfaces.The information subsequently can be compared with the expected height above sea level from the road of the additional detailed map information specific region
Compared with.If the average height of road is at least a certain threshold value or standard deviation difference more than expected height above sea level, this may indicate that
There are flood or the covering with accumulated snow in road.
Figure 20 is the example of the height above sea level difference.Surface 2010 represent road 500 section floor surface expected height above sea level or
Position.Surface 2020 represents threshold value height above sea level or position, and higher than it highway weather conditions will be indicated.Data point 2032 is from laser
The tripleplane of one or more sites of road for determining in device, sonar, radar, camera data.Surface 2030 represents road 500
Section average detected surface.In this illustration, the average detected height above sea level of the road surface in the section of road 500 or position
More than threshold surface 2020. therefore, the example of Figure 20 indicates that road has flood or the covering with accumulated snow.
The flow chart 2100 of Figure 21 is how computer 110 can be recognized using the mean sea level and threshold value of road
Avenged the example of the instruction of covering or humidity in road.In this illustration, in block 2110, as vehicle is along driving path, calculate
Machine 110 is received as the laser data that the road is collected.As described above, laser data includes multiple laser data points, it has position
Confidence ceases.In block 2120, computer 110 determines the mean sea level of road from received laser data.In block 2130, calculate
Machine accesses additional detailed map information to recognize the expected height above sea level of road.In block 2140, by the mean sea level and road be expected height above sea level it
On threshold value compare.When the mean sea level is more than threshold value, in block 2150, computer subsequently recognizes that road is moist finger
Show.
In addition to snowing with moist highway weather conditions, computer 110 can also detect other highway days of such as mist
The instruction of vaporous condition.For example, the radar sensor of vehicle can penetrating fog well, but laser but can not.If computer 110
The laser obstacle in specified distance is observed in some threshold time periods, but without radar target, computer 110 can be recognized
Road has the instruction of mist.
In another example, except or substitute laser data, computer 110 may rely on camera information to recognize highway
Weather conditions, such as moist or road conditions of snowing.For example, it is also possible to determine from camera image lightness, road it is bright
The change of the lightness in degree and the world.Similar to above for the example described in laser brightness data, camera 320-21 is caught
The image caught can be processed to determine by the road of cameras capture lightness or reflectivity whether be more than from detailed map
The a certain threshold value of expection of information or standard deviation difference.If it is, these camera images may indicate that road is moist, freeze, snow
Deng.In another example, whether camera image may be used to determine the tire of other vehicles in the range of the camera of vehicle 101 and evokes
Spray.If it is, these camera images may indicate that road is moist.
In addition to camera and laser instrument, from the information of the other sensors of all precipitation sensors described above, also may be used
To be used for recognizing the instruction of highway weather conditions by computer 110.As described above, precipitation sensor may be carried to computer 110
For about the current information of precipitation, for example, by the amount or the detection of precipitation that recognize the reflected light received in photodetector
Some other indexs of amount.As lightness, height above sea level and monochrome information, from one or more precipitation sensors data also
Can be used to recognize the instruction of highway weather conditions, such as current precipitation.
Lightness, brightness, height above sea level and current precipitation information can also be combined with the Weather information received from computer 320.Institute
The Weather information for receiving can be used to recognize highway weather conditions, for example, if the skipper of vehicle 101 (or will drive quickly)
Region in just precipitation cross or current just in precipitation, then computer 110 can determine road may it is moist, freeze etc..
As described above, computer 110 can send and receive information with computer 320.Now, computer 320 can be to
Computer 110 is provided with the precipitation of report, radar information, forecast etc. form, cloud and/or temperature information.This information can be with
Periodic receipt, such as per a few minutes, hour or on demand, or be supplied to computer 110 when can have request.For example, if
Computer 110 recognizes highway weather conditions, and such as in the examples described above, then computer 110 can be included by network launches
Cut-off 101 current location information request to computer 320.In response to the request, computer 320 can be to computer
The related weather related information of 110 current locations that vehicle 101 is provided.In another example, computer 110 can be simply
Periodically send above-mentioned request.In another example, when correlation is become, computer 320 can be with broadcast message to specific geographic
Automotive vehicle in region.This may be particularly useful when weather related information is just providing Severe weather warning etc..
The instruction of various recognized highway weather conditions can be processed as one group of input to estimate car by computer 110
Prolong the driving condition of the road of its traveling.In one example, it is possible to use Bayesian Estimation come determine road surface work as
Front state.Now, whether vehicle may determine whether current just in precipitation or precipitation (rainfall, rain and snow mixed, snowfall etc.
Deng) and the weather how to affect road situation (puddle, humidity, icing, by snow cover, mixing etc.).
The estimation subsequently can be used for carrying out various Driving Decision-makings by computer 110.For example, if highway weather conditions are deposited
Then computer 110 can carry out determination more in the know so as to the safe manoeuvring of vehicle 101 using the estimation.For example, calculate
Machine 110 can continue the vehicle 110 that navigates, but also increase the distance between other objects on vehicle 101 and road, to vehicle
101 slow down, and leave specified link, or are moved to specific track.For example, computer 101 can be moved to expection and less be subject to
Inner lane or side track that highway weather conditions affect.In another example, under particular condition, specific driving characteristics can be with
Disabled or change.For example, if rained, the track of vehicle changes and can be disabled through function.Similarly, if
Rain or snow, then configuration of braking may be adjusted, such as periodically apply brake to keep its effective.
Except carrying out Driving Decision-making or as the alternative to it, highway weather conditions and/or road surface situation quilt
When being defined as extreme or dangerous, computer 110 can send and be alerted to driver.Warning can ask driver to vehicle 101
Take control.Warning can be audible signal, visual signal, tactile or sense of touch and/or cause that driver notes any other
Signal.The warning can also ask driver to take vehicle control.In this illustration, after warning driver, calculate
Machine 110 can be from driver's receives input.For example, driver can by steering wheel rotation, apply brake, application acceleration meter,
Press emergency cut-off etc. to take control to vehicle 101.If computer 110 do not have from driver receive input (or
It is input into enough), then computer 110 can navigate vehicle 101 to road side (that is, vehicle being pulled over), reduce vehicle 101
Speed, or make vehicle 101 stop completely.
The flow chart 2200 of Figure 22 provides the example of some in the step performed by computer as above 110.
It should be understood that step discussed herein is only example；Step may occur with different order, and step can be added, step
Can be omitted.In this illustration, in block 2202, connect including the laser scanning data of the data point collected along road
Receive.As described above, laser scanning data can include data point, it indicates the position of the object around laser and brightness, road
Feature etc., including road around the laser, and in some instances, including the world for surmounting road boundary.In block 2204,
The information be used to recognize one or more highway weather conditions (for example, with reference to the stream of Fig. 7,9,12,14,16,18,19 and 21
Journey figure and various examples above).In block 2206, the image from cameras capture is received.As laser data, image can
To include the information around about camera, road is included around the camera.In block 2208, image is subsequently used in identification highway
The instruction of weather conditions.In block 2210, the data from precipitation sensor are received, and be used to recognize highway in block 2212
The instruction of weather conditions.In block 2214, weather related information is received from server by network.Additionally, in block 2216, day gas phase
Pass information be used to recognize the instruction of highway weather conditions.In block 2218, the instruction for being recognized is used subsequently to estimate driving for road
Sail situation.In block 2220, the estimation is used to make Driving Decision-making, as mentioned above.
Because the master that these or other modification and the combination of features described above can be utilized to be limited without departing from claim
Topic, before diagramatic way, rather than the restriction of the theme limited claim should be considered to the description of exemplary realization
Mode.It should also be understood that the offer of example described herein (and is expressed as the bar of the word such as " ", " such as ", " including "
Money) it is not construed as theme required for protection being limited to particular example；But, these examples just want to explanation and are permitted
Some in more possible aspect.
Industrial usability
The present invention enjoys extensive industrial usability, including but not limited to, detects that highway day is vaporous with reference to vehicle is manipulated
Condition.