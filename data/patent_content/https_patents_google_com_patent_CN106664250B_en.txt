CN106664250B - Method and system for generating forwarding tables for packet switches - Google Patents
Method and system for generating forwarding tables for packet switches Download PDFInfo
- Publication number
- CN106664250B CN106664250B CN201580024495.4A CN201580024495A CN106664250B CN 106664250 B CN106664250 B CN 106664250B CN 201580024495 A CN201580024495 A CN 201580024495A CN 106664250 B CN106664250 B CN 106664250B
- Authority
- CN
- China
- Prior art keywords
- routing
- routing entries
- multipath
- entries
- network
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Active
Links
- 238000000034 method Methods 0.000 title claims abstract description 38
- 230000009467 reduction Effects 0.000 claims abstract description 50
- 238000010586 diagram Methods 0.000 description 11
- 230000005540 biological transmission Effects 0.000 description 6
- 230000002776 aggregation Effects 0.000 description 4
- 238000004220 aggregation Methods 0.000 description 4
- 239000013256 coordination polymer Substances 0.000 description 4
- 230000008859 change Effects 0.000 description 3
- 230000008569 process Effects 0.000 description 3
- 230000008901 benefit Effects 0.000 description 2
- 238000004590 computer program Methods 0.000 description 2
- 239000004065 semiconductor Substances 0.000 description 2
- 230000003139 buffering effect Effects 0.000 description 1
- 238000004364 calculation method Methods 0.000 description 1
- 230000001186 cumulative effect Effects 0.000 description 1
- 238000013500 data storage Methods 0.000 description 1
- 230000003287 optical effect Effects 0.000 description 1
- 230000000737 periodic effect Effects 0.000 description 1
- 230000011218 segmentation Effects 0.000 description 1
- 239000000758 substrate Substances 0.000 description 1
Images
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L45/00—Routing or path finding of packets in data switching networks
- H04L45/74—Address processing for routing
- H04L45/745—Address table lookup; Address filtering
- H04L45/7453—Address table lookup; Address filtering using hashing
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L45/00—Routing or path finding of packets in data switching networks
- H04L45/54—Organization of routing tables
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L45/00—Routing or path finding of packets in data switching networks
- H04L45/12—Shortest path evaluation
- H04L45/123—Evaluation of link metrics
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L45/00—Routing or path finding of packets in data switching networks
- H04L45/24—Multipath
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L45/00—Routing or path finding of packets in data switching networks
- H04L45/30—Routing of multiclass traffic
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L45/00—Routing or path finding of packets in data switching networks
- H04L45/42—Centralised routing
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L45/00—Routing or path finding of packets in data switching networks
- H04L45/74—Address processing for routing
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L45/00—Routing or path finding of packets in data switching networks
- H04L45/74—Address processing for routing
- H04L45/745—Address table lookup; Address filtering
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L45/00—Routing or path finding of packets in data switching networks
- H04L45/76—Routing in software-defined topologies, e.g. routing between virtual machines
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L47/00—Traffic control in data switching networks
- H04L47/10—Flow control; Congestion control
- H04L47/12—Avoiding congestion; Recovering from congestion
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L47/00—Traffic control in data switching networks
- H04L47/10—Flow control; Congestion control
- H04L47/17—Interaction among intermediate nodes, e.g. hop by hop
Abstract
A method and system for generating a forwarding table for a packet switch. The system includes a routing manager for a packet switch configured to identify a plurality of multipath groups, each multipath group corresponding to a respective initial set of routing entries in a forwarding table, and generate at least one replacement set of routing entries for one or more multipath groups, the replacement set having fewer routing entries than the initial set of routing entries corresponding to the respective multipath group. The routing manager selects one or more of the alternate sets of routing entries, each of the selected alternate sets corresponding to a different respective multipath group, based on a traffic reduction cost metric, and updates the forwarding table with the selected alternate sets. In some embodiments, the traffic reduction cost metric includes a traffic characteristic. In some implementations, the packet switch participates in a Software Defined Network (SDN) and the routing manager is part of an SDN controller.
Description
Cross reference to related applications
This application claims the benefit and priority of U.S. patent application No.14/643,712 entitled "prefx-Aware Weighted Cost Multi-Path Group Reduction" filed 3/10/2015, which claims the priority of U.S. provisional application No.61/991,969 entitled "prefx-Aware Weighted Cost Multi-Path Group Reduction" filed 5/12/2014. Both applications are incorporated herein by reference in their entirety.
Background
Information is transmitted between computer systems in the form of network packets that are communicated from network device to network device (e.g., switch) in one or more interconnected networks. Each network device forwards the received packet to a destination specified by header information in the packet. The destination address may be in a different network for a device that may be controlled by a third party, and the packet may traverse any number of different networks between the source and destination.
Some network devices (typically switches) include memory that is assigned to a forwarding table. When a network device receives a packet, the network device may use information in the forwarding table to determine how to handle the received packet. For example, the forwarding table may include routing entries that specify outbound ports connected to the next hop along the path to the network destination.
In some network configurations, there may be multiple variable paths from a network device to a particular network destination. Equal cost multi-path (ECMP) routing allows the forwarding table to include a routing entry for each of a plurality of paths. The ECMP enabled switch may then distribute network traffic among the plurality of routes in the ECMP route set. Weighted Cost Multipath (WCMP) routing causes some of the multiple variable paths in a multipath routing set to be used more than other paths in the same set. However, the route entries of the WCMP route set may consume a significant portion of the memory allocated to the forwarding table.
Disclosure of Invention
In one aspect, the present disclosure is directed to a method for generating a forwarding table for a packet switch. The method includes identifying a plurality of multipath groups in a forwarding table of a packet switch, each multipath group corresponding to a respective initial set of routing entries in the forwarding table. The method includes generating at least one alternative set of routing entries for one or more of the plurality of multipath groups, the alternative set having fewer routing entries than an initial set of routing entries corresponding to the respective multipath group. The method includes selecting one or more of the replacement sets of routing entries, each corresponding to a different respective one of the plurality of multipath groups, based on a traffic reduction cost metric, and replacing, in a forwarding table of the packet switch, an initial set of routing entries for each multipath group corresponding to the selected replacement set of routing entries with the respective corresponding selected replacement set of routing entries. In some embodiments, the traffic reduction cost metric comprises a first traffic characteristic.
In another aspect, the present disclosure is directed to a system. The system includes a packet switch having a forwarding table, and a routing manager of the packet switch. The routing manager is configured to: the method includes identifying a plurality of multipath groups in a forwarding table, each multipath group corresponding to a respective initial set of routing entries in the forwarding table, and generating, for one or more multipath groups of the plurality of multipath groups, at least one replacement set of routing entries having fewer routing entries than the initial set of routing entries corresponding to the respective multipath group. The routing manager is configured to select one or more of the replacement sets of routing entries, each corresponding to a different respective multipath group of the plurality of multipath groups, based on a traffic reduction cost metric, and replace, in the forwarding table, the initial set of routing entries for each multipath group corresponding to the selected replacement set of routing entries with the respective corresponding selected replacement set of routing entries. In some embodiments, the traffic reduction cost metric comprises a first traffic characteristic. In some implementations, the packet switch participates in a Software Defined Network (SDN) and the routing manager is part of an SDN controller for the packet switch.
Drawings
The foregoing and related objects, features and advantages of the present disclosure will be more fully understood by reference to the following detailed description when taken in conjunction with the accompanying drawings wherein:
FIG. 1 is a block diagram of an example network;
FIG. 2 is a block diagram of an example network device;
3A-3C are block diagrams of example forwarding tables;
figure 4 is a flow diagram of a method of prefix aware WCMP group reduction;
figure 5 is a flow diagram of a method for WCMP group reduction for multipath sets not used to transmit important network traffic; and
FIG. 6 is a block diagram of a computing system in accordance with an illustrative embodiment.
Like reference numbers and designations in the various drawings indicate like elements.
Detailed Description
FIG. 1 is a block diagram of an example network environment made up of multiple independent networks linked together at various interconnection points. As illustrated, the local network 110 communicates with the destination network 150 via one or more intermediary networks 130. Local network 110 is connected to an intermediary network 130 through network devices 124 and 126 at the edge of local network 110. These "edge" network devices participate in three illustrated network paths through the intermediate network 130: path "a" 144, path "B" 146, and path "C" 148. Each path 144, 146, and 148 is a different route through the networks 110, 130, and 150 to a destination device 154 in the destination network 150. Network device 122 in local network 110 may forward packets addressed to destination device 154 to edge device 124 or 126 and cause the packets to reach destination network 150. That is, network device 122 may implement multi-path routing.
Referring to fig. 1, in more detail, the local network 110 includes various network devices 122, 124, and 126. Local network 110 may be any kind of data network that facilitates communication between multiple computing systems. Network device 122 within local network 110 may send (transmit) packets to and receive packets from other network devices within local network 110, including network devices 124 and 126 at the edge of local network 110. In some implementations, local network 110 is a Software Defined Network (SDN), where one or more of the network devices are controlled by an SDN controller (not shown in fig. 1). An example of a network device controlled by an SDN controller is illustrated in fig. 2. An example of a computing system that may be used to implement a network device is illustrated in fig. 6.
Still referring to fig. 1, edge network devices 124 and 126 connect the local network 110 to other networks 130. In some embodiments, the edge device has a network interface connected to one network and another network interface connected to another network, such that the "multihomed" device can participate in both networks. In some implementations, the edge devices are connected to edge devices of another network via a network interconnect (e.g., an interconnect provided by a third party internet exchange provider (IXP)). The edge devices 124 and 126 act as gateways between the local network 110 and other networks 130. In some embodiments, edge devices 124 and 126 implement a routing protocol such as border network protocol (BGP). For a packet from within local network 110 to a destination device 154 outside local network 110, the packet is routed within local network 110 to an edge device along a network path to destination network 150 hosting destination device 154. Edge network device 124 is illustrated as participating in at least two different paths (path "a" 144 and path "B" 146) through intermediate network 130 to destination network 150. Another edge network device 126 is illustrated as participating in a third, different path (path "C" 148) through the intermediate network 130 to the destination network 150. That is, there are at least three different paths from the local network 110 to the destination network 150.
The intermediate network 130 is a data network that facilitates communication between multiple computing systems. In some embodiments, intermediary network 130 is controlled by the same party that controls local network 110, for example in an autonomous system. In some embodiments, the intermediary network 130 is controlled by a third party. In some embodiments, the intermediate network 130 is a carrier network. In some embodiments, packets transmitted from the local network 110 to the destination network 150 will pass through multiple intermediary networks 130.
In some embodiments, all of network devices 122, 124, 126, and 154 may be included in the same network, rather than being located in different networks. For example, the devices may all be in the same software defined data center network. Some data center networks include a large number of servers arranged in racks, each rack including one or more top-of-rack switches. The servers then communicate with other servers in the data center through one or more layers in the aggregation layer switch. In such a network, as an example, a top-of-rack switch in a data center may be linked to multiple aggregation-layer switches and configured to employ multipath routing to distribute traffic output by servers included in its chassis among the multiple switches in a given aggregation layer of the network. Similarly, aggregation layer switches may also employ multi-path routing.
Fig. 2 is a block diagram of an example software defined network controller 220 and network device 230 separated by a control link 112. In broad overview, SDN controller 220 includes a control module 242 and memory 226, e.g., for storing network configuration and routing data. Network device 230 includes a control module 244 and a memory 236, for example, for storing device configuration and routing data. Network device 230 includes a forwarding engine 234 that manages data traffic at network interface 238 using device configuration and routing data stored in memory 236. Network device 230 is suitable for use as any of network devices 122, 124, and 126 illustrated in fig. 1.
Referring to fig. 2, in more detail, SDN controller 220 includes a control module 242 and memory 226. The control module 242 uses the network configuration and routing data stored in the memory 246 to configure the network device 230. In some embodiments, the control module 242 periodically sends status or availability messages to the network device 230. In some implementations, SDN controller 220 generates and publishes a forwarding table to one or more network devices 230.
The forwarding engine 234 uses the configuration and routing data in memory 236 to manage data traffic at the network interface port 238. Configuration and routing data in memory 236 is controlled by SDN controller 220 via control module 244. In some embodiments, forwarding engine 234 updates the packet header before forwarding the packet to outbound network interface port 238. For example, the forwarding engine 234 may update Explicit Congestion Notification (ECN), hop count (TTL), or checksum information in the packet header.
Memory 226 and memory 236 may each be any device suitable for storing computer-readable data. Examples include, but are not limited to, semiconductor memory devices, such as EPROM, EEPROM, SRAM, and flash memory devices. In some implementations, the memory 236 is a Ternary Content Addressable Memory (TCAM). In some embodiments, the memory 236 of the network device 230 includes memory dedicated to buffering a packet flow as it traverses the network device 230. Network device 230 may have any number of memory devices 236. SDN controller 220 may have any number of memory devices 246.
Fig. 3A, 3B, and 3C are examples of forwarding tables that may be used by a network device to identify an outbound port of a packet.
Fig. 3A illustrates a reduced forwarding table 310. Each routing entry in table 310 indicates a matching pattern 316 and a forwarding instruction 318. Matching pattern 316 (e.g., "pattern a") is satisfied by packets that should be handled using corresponding forwarding instructions 318 (e.g., "forward along path a"). In some cases, the matching pattern 316 matches all packets that are directed to a particular network or autonomous system. For example, the matching pattern 316 may match a portion of the destination address of the packet and the corresponding forwarding instructions 318 may identify an outbound port from the network device to the next network device along a network path toward all network addresses of the matching pattern 316. In some cases, the matching pattern 316 only matches packets from a specified flow. Each route entry in forwarding table 310 is illustrated with an index 312 that uniquely identifies the route entry. In some embodiments, the forwarding table does not have a specific index 312.
Fig. 3B illustrates the multipath routing table 330 using an index 332, a matching pattern 336, and a forwarding instruction 338. Multipath routing table 330 includes a set of multipaths 342 of routing entries having the same pattern 336, "pattern a," but different forwarding instructions 338: forwarded along "path a", "path B" and "path C" respectively. Additional multipath sets 344 and non-multipath routing entries 348 are also shown. The same forwarding table 330 may be used for both multi-path routing entries and single-path routing entries.
Equal cost multi-path (ECMP) routing typically treats paths to destinations equally. A network switch may forward traffic to the same destination through any of a number of equal cost paths. In some embodiments of ECMP, a network device distributes traffic to a destination among multiple paths if multiple route entries exist in forwarding table 330 for the same destination. There are several ways in which traffic can be distributed. For example, the network device may simply cycle through the routing entries so that each packet takes a different path. In some embodiments, each new flow through the network device is assigned to a particular path. The method distributes different streams among different path options while transmitting different packets of a single stream along the same path. In some such embodiments, a portion of the header information of each packet is hashed and the least significant bits of the hash result are used to identify the routing entry for the packet, e.g., by index 332. The portions of the header information are selected so that packets of the same flow will generate the same hash value. For example, in some embodiments, header bits indicating the destination address and protocol type are hashed. The multipath forwarding table 330 illustrated in fig. 3B includes a multipath set 344, the multipath set 344 having two paths for the matching pattern 336 of "pattern B". As a simplified example of distributing flows through paths in set 344, the packet headers of the flows matched by pattern B may be hashed. In this example, if the hash value is even, the routing entry for pattern B with index "1344" is used to transmit the packet along path D, and if the hash value is odd, the routing entry for pattern B with index "1345" is used to transmit the packet along path E.
It is also possible to support some routing paths above others by using weighted cost multi-path (WCMP) routing. One way to implement WCMP is to enter additional route entries in the multipath set with the same path. For example, path D may have twice the bandwidth capacity of path E, and thus should be used twice as much. The multipath set 344 may be extended with additional entries (not shown) that repeat the matching pattern 336 and forwarding instructions 338 (entry index "1344") for path D. Network traffic is then distributed among the three route entries, resulting in twice as much traffic using path D as compared to path E. This weighted cost multipath set may be denoted as "{ Dx 2, Ex 1 }" or simply "{ 2,1 }". However, the extended representation of the multipath set in the forwarding table may consume a significant portion of the memory allocated to the forwarding table.
Fig. 3C illustrates a multipath routing table 350 with weighted routing entries. The multipath routing table 350 is shown with an index 352, a matching pattern 356, and a forwarding instruction 358. The multipath routing table 350 includes a multipath set 362 of routing entries having the same pattern 356, "pattern a," but with three possible forwarding instructions 358: and correspondingly along "path a" for subset 364, "path B" for subset 366, and "path C" for subset 368. Also shown are additional multipath sets 374 and non-multipath routing entries 376; these correspond to sets 344 and 348, respectively, shown in fig. 3B. Still referring to fig. 3C, the same forwarding table 350 may be used for both multi-path routing entries and single-path routing entries.
Fig. 3B and 3C demonstrate that minor changes in path weighting can have a dramatic impact on forwarding tables. The multipath set 342 in fig. 3B corresponds to three paths A, B and C (e.g., three paths 144, 146, and 148, see fig. 1). Each path having a weightroute entries 364 for path a and three route entries 366 for path B, but only two route entries 368 for path C. That is, path a and path B have a weight of 3/8-0.375 and path C has a weight of 2/8-0.250. However, multipath set 362 uses eight entries {3,3,2} in multipath table 350, while multipath set 342 uses only three entries {1,1,1} in multipath table 330.
Fig. 4 is a flow diagram of a method 400 of prefix aware WCMP group reduction. Method 400 begins with the route manager identifying one or more multipath sets in the forwarding table, each multipath set exceeding a minimum number of route entries, e.g., a set of three or more route entries (stage 410). For each of the identified multipath sets, the routing manager obtains a score corresponding to the importance of network traffic transmitted via the multipath set (stage 420). The routing manager then generates one or more potential replacement sets for each identified set of multipaths based on the obtained scores (stage 430). The routing manager compares the possible replacement sets (stage 440) and selects one or more potential replacement sets that meet the table entry reduction objective and network performance criteria (stage 450). The routing manager then replaces the route entries of the one or more multipath sets in the forwarding table with the route entries of the corresponding selected replacement set (460). Referring to fig. 2, in some embodiments, the routing manager is an SDN controller 220 or is included as part of the SDN controller 220.
Referring to fig. 4, in more detail, method 400 begins with the route manager identifying one or more multipath sets in the forwarding table, each multipath set exceeding a minimum number of route entries (stage 410). For example, if the minimum number of routing entries is five, then only a set of six or more entries will meet the goal of reduction. If the minimum number of routing entries is two, then only a set of three or more entries will meet the reduced goal. The routing manager identifies a set of multipaths in a forwarding table for the purpose of reducing the number of entries in the table used by the identified set of multipaths. In some embodiments, the method 400 is performed at periodic intervals. In some embodiments, method 400 is performed when the forwarding table is full of more than a threshold number of entries. In some embodiments, method 400 is initiated by an administrator.
For each of the identified multipath sets, the routing manager obtains a score corresponding to the importance of network traffic transmitted via the multipath set (stage 420). In some implementations, the score is part of a traffic reduction cost metric. In some embodiments, the routing manager maintains a score ("importance score") based on the type of packet transmitted. In some embodiments, a flow using a particular protocol is considered more important than other flows. For example, in some embodiments, network transmissions using stateful transport layer protocols are considered more important than transmissions using stateless transport layer protocols. Examples of stateful transport layer protocols include, but are not limited to, Transmission Control Protocol (TCP), Datagram Congestion Control Protocol (DCCP), and Stream Control Transmission Protocol (SCTP). An example of a stateless transport layer protocol is the User Datagram Protocol (UDP). In some embodiments, flows that exceed the size limit are considered more important than other network transmissions. In some embodiments, the source and/or destination network addresses (or network address prefixes) are used to identify whether network traffic is important. In some implementations, network packets addressed to a particular network address or range of network addresses are considered more important (or less important) than other network transmissions. In some implementations, the importance score is a cumulative score that measures the importance of network traffic transmitted during a period of time. In some implementations, the amount of data transmitted via the multipath set affects the importance score. In some embodiments, the importance score is a boolean value indicating important or unimportant. In some implementations, the importance score is a numerical value.
The routing manager then generates one or more potential alternate sets for each identified set of multipaths based on the obtained scores (stage 430). In some embodiments, if the multipath set has a score of comparatively low importance, or if the score indicates that the multipath set is not important, the routing manager uses the method 500 illustrated in fig. 5 to select a minimum set of different route entries for the unimportant multipath set. In some implementations, for a Weighted Cost Multipath (WCMP) set, a potential replacement set is generated by converting the WCMP set to an Equal Cost Multipath (ECMP) set. For example, the set of WCMPs of {4,4,2,1} can be flattened (flattened) to {1,1,1,1 }. In some implementations, for a set of WCMPs, one or more lower-weighted paths are removed from the set. For example, the set of WCMPs of {4,4,2,1} may be converted to {4,4,2} which is decomposed into {2,2,1 }. This may be repeated, for example, to further reduce {2,2,1} to {1,1 }. In some implementations, the set of WCMPs is modified by removing one or more paths and by flattening the remaining paths into a set of ECMPs, where each path in the set is represented only once. For example, the set of WCMPs of {4,4,2,1} may be reduced to {1,1,1 }.
The routing manager compares the possible replacement sets (stage 440) and selects one or more potential replacement sets that meet the table entry reduction objective and network performance criteria (stage 450). Each potential replacement set, if used in place of the corresponding multipath set, will reduce the number of forwarding table entries used. Each potential alternate set will also provide network traffic using multipath sets with reduced network performance if used in place of the corresponding multipath set. For example, if a path is removed from the multi-path set, traffic will lose access to the bandwidth contributed by the removed path. The loss may be offset by other factors. Potential changes in network performance are measured as traffic reduction cost metrics.
In some implementations, the potential changes in network performance are weighted by the importance scores obtained in stage 420. That is, low or medium importance traffic may be more acceptable to suffer a particular change in network performance, while high importance traffic is less acceptable to suffer the same particular change in network performance.
The comparison at stage 440 may include one or more of: comparing at least two different alternative sets of routing entries corresponding to the same multipath group; comparing the alternative sets of routing entries corresponding to the at least two different multipath groups; and comparing at least two aggregations of the plurality of alternative sets of routing entries, each routing entry corresponding to a plurality of multipath groups.
In some embodiments, the routing manager compares the likelihoods and selects (stage 450) one or more of the potential replacement sets such that at least the target number of forwarding table routing entries are freed, which results in an acceptably low impact on network performance. In some embodiments, the routing manager uses a combination of alternates between multiple multipath sets in order to achieve the table reduction goal. In some embodiments, the route manager calculates the likely bandwidth loss that may result from using one or more of the potential replacement sets, and uses the results of these calculations to determine which potential replacement sets to select at stage 450. In some implementations, the routing manager reports the expected bandwidth loss attributable to the selected one or more potential replacement sets to a network monitor.
As an illustrative example, referring to fig. 1 and 3C, the illustrated paths 144, 146, and 148 through the intermediate network 130 are multi-path sets. They are represented in the multipath forwarding table 350 as a multipath set 362, i.e., {3,3,2 }. Path A144 and path B146 use the first edge device 124, while path C148 uses the second edge device 126. The two edge devices 124 and 126 may be linked to different intermediate networks 130 or may have other implementation characteristics that cause path C148 to operate at a lower capacity than path a or path B. The multipath set 3,3,2 uses eight entries in the multipath forwarding table 350. In some embodiments, method 400 may generate {1,1} as a potential replacement set for {3,3,2} by discarding the third path (i.e., path C). This potential replacement set would use only two entries in the multipath forwarding table, resulting in 6 fewer table entries. However, removing path C results in a loss of network capacity contributed by path C. In particular, path C contributes two of eight routing options (25%), which will not be available after removing path C from the multi-path set. In some embodiments, the multipath sets are associated with values for an importance metric associated with traffic transmitted through the particular multipath set. For example, in some such implementations, the value of the importance metric is the importance score from stage 420. In some implementations, each potential replacement set is assigned an impact score equal to the value for the importance metric multiplied by the percentage of the routing options removed. Continuing with the example of reducing 3,3,2 to 1, assuming that the traffic transmitted via the multipath set has an importance value of X, the impact score will be X multiplied by 0.25. In some embodiments, this impact score is compared to some (or all) other possible reductions in the scores for the multipath groups in the forwarding table, and then the group replacement (or combination of group replacements) with the lowest impact score is selected.
As an example scenario, there may be three sets of WCMPs, denoted as groups G1, G2, and G3, each carrying a network flow matching one of the four patterns P1, P2, P3, and P4. Each pattern of network traffic is associated with a corresponding importance score: CP 1-32, CP 2-3, CP 3-3, and CP 4-8. The flow matched by pattern P1 uses network routing of multipath set G1, {2,2,2,2,1,1 }; flows matched by pattern P2 or P3 use network routing of multipath set G2, {3,3,2,2 }; and the flow matched by pattern P4 uses network routing of the multipath set G4, {3,3,3,1 }. This example scenario is shown below in table 1. Two examples of reducing these sets of WCMP (G1, G2, and G3) are shown below in tables 2 and 3. In table 2, the goal is to release at least five entries in the forwarding table. In table 3, the goal is to release at least twelve entries in the forwarding table.
TABLE 1 WCMP set for reduction examples
Table 2, shown below, illustrates some of the reduction options for an example in which the goal is to release at least five entries in the forwarding table. The multipath set G1, {2,2,2,2,1,1} may be replaced by a set {1,1,1,1}, the set {1,1,1} representing a set in which the two lowest weight paths are ignored and the remaining paths are treated equally. The result is that six entries are released from the forwarding table while only two of the ten routing options are lost. Twenty percent capacity loss (i.e., the sum of the importance scores of the network flows matched by the pattern used to route the traffic to the multipath group) is weighted by the importance of the traffic to generate a weighted reduction impact score of 6.4. The multipath set G2{3,3,2,2} may be replaced by a set {1,1,1,1} representing the set that holds all paths and treats them equally. The result is that six entries are released from the forwarding table while only twenty percent of the routing options are lost. Twenty percent capacity loss is weighted by the importance of the traffic matching pattern P2 and the traffic matching pattern P3 to generate a weighted reduction impact score of 1.2. The multipath set G3{3,3,3,1} may be replaced by a set {1,1,1}, the set {1,1,1} representing a set that disregards the lowest weighted path and treats the remaining paths equally. The result is that seven entries are released from the forwarding table while only ten percent of the routing options are lost. The weighted reduction impact score is 0.8, which is the lowest impact score of the three options. Thus, the third option of the three options is selected.
TABLE 2 WCMP reduction example 1
Table 3, shown below, illustrates some of the reduction options for an example in which the goal is to release at least twelve entries in the forwarding table. The multipath set G1, {2,2,2,2,1,1} may be replaced by a set {1,1,1,1}, as in example 1, or even by a smaller set of multipaths {1,1,1}, {1,1} or {1}, each representing a set that ignores additional paths. However, viewed alone, none of these options releases twelve entries in the forwarding table. This is also true for the multipath set G2{3,3,2,2} and for the multipath set G3{3,3,3,1 }. However, the combination of the two options with the lowest impact scores frees thirteen entries in the forwarding table, thereby achieving the goal. In some embodiments, if there is no single option to reduce the number of entries used in the forwarding table by the number of destinations, the routing manager will divide the number of destinations into two or more partial destinations, the sum of which is the original destination. For example, the goal of removing twelve entries from the forwarding table may be achieved by attempting to remove six entries, and then attempting to remove six more entries. That is, the target of (12) will be classified as the target of (6, 6). In some embodiments, multiple possible segmentations are attempted, such as (6,6), (7,5), (8,4), (4,4,4), (5,4,3), and so forth. In the example shown in Table 3, a search to release the replacement set of six entries would result in the selection of {1,1,1} to replace G3, while a search to release the replacement set of additional six entries would result in the selection of {1,1,1,1} to replace G2. This combination of replacement sets results in thirteen entries being subtracted from the forwarding table, satisfying the original goal of releasing twelve entries.
TABLE 3 WCMP reduction example 2
In some embodiments, an exhaustive comparison is performed among all possible alternative sets or all possible alternative sets within the constraint parameter set. In some embodiments, the exhaustive comparison is limited to generating a subset of the possible replacement sets as the candidate replacement set. For example, in some embodiments, the options for the multipath alternate set are generated only for the set of WCMPs used to carry traffic having an importance score below a threshold. In some such embodiments, the threshold is incremented until a viable option is identified. In some embodiments, the exhaustive comparison includes comparing potential combinations of the alternate sets. For example, a combination of alternate sets is used in the example illustrated in table 3.
Referring to fig. 4, the routing manager then replaces the route entries of the one or more multipath sets with the route entries of the corresponding selected replacement set in the forwarding table (460). In some embodiments, the routing manager generates a new forwarding table having the selected set of replacement multipaths and ignores the corresponding set replaced.
Fig. 5 is a flow diagram of a method 500 of WCMP group reduction for multipath sets not used to transmit important network traffic. Similar to method 400, method 500 begins with the route manager identifying a set of multipaths in the forwarding table having more than a minimum number of route entries (stage 510). The routing manager determines that the identified multipath set is not used to carry significant network traffic (stage 520) and selects a minimum set of different routing entries for the multipath set (stage 530). The routing manager then removes from the forwarding table all other routing entries in the multipath set that are not the selected entry (stage 540).
Referring in more detail to fig. 5, method 500 begins with the route manager identifying a set of multipaths in the forwarding table having more than a minimum number of route entries (stage 510) and determining that the identified set of multipaths is not to be used to carry significant network traffic (stage 520). This is a special case of stages 410 and 420 shown in fig. 4, where a multipath set in the forwarding table with more than a minimum number (e.g., two) of routing entries is identified as carrying no traffic or only low importance traffic.
Still referring in detail to FIG. 5, the routing manager selects a minimum set of distinct routing entries for the multipath set (stage 530). In some embodiments, the minimum set is two routes. In some embodiments, a larger minimum set is used. The routing manager selects route entries corresponding to non-identical paths such that the resulting set of replacement multipaths has path dissimilarity. In some embodiments, the routing manager selects the highest weighted non-identical paths for inclusion in the minimum set. In some embodiments, the route manager calculates potential bandwidth losses due to removing or replacing various route entries and selects a route entry associated with an acceptable level of bandwidth reduction. In some such embodiments, the selection minimizes the loss of bandwidth. In some embodiments, the routing manager reports the expected bandwidth loss due to the selected one or more potential replacement sets to a network monitor. In some embodiments, the route manager selects the non-identical paths randomly, or according to another selection criterion. In some embodiments, the selection at stage 530 is similar to the selection described with reference to stage 450 of the method shown in fig. 4.
Still referring to fig. 5, the route manager then updates the forwarding table to replace the set of multipath routes with the minimum set of selected diverse routes (stage 540). The routing manager removes all other routing entries of the multipath set for non-selected entries from the forwarding table.
FIG. 6 is a block diagram of a computing system 910 suitable for use in implementing the computerized components described herein. In broad overview, the computing system 910 includes at least one processor 950 for performing actions in accordance with instructions, and one or more memory devices 970 and/or 975 for storing instructions and data. The illustrated example computing system 910 includes one or more processors 950 in communication with a memory 970 via a bus 915, and at least one network interface controller 920, the at least one network interface controller 920 having a network interface 922 for connecting to an external network device 924, e.g., a joining network, such as networks 110, 130, and 150 shown in fig. 1. The one or more processors 950 also communicate with any I/O devices at the one or more I/O interfaces 930 and any other devices 980 via the bus 915. The illustrated processor 950 incorporates, or is directly connected to, a cache memory 975. Typically, a processor will execute instructions received from memory.
In more detail, processor 950 may be any logic circuitry that processes instructions, such as instructions fetched from memory 970 or cache 975. In many embodiments, processor 950 is a microprocessor unit or a special purpose processor. The computing device 910 may be based on any processor, or collection of processors, capable of operating as described herein. Processor 950 may be a single-core or multi-core processor. Processor 950 may be a plurality of processors.
Memory 970 may be any device suitable for storing computer-readable data. The memory 970 may be a device with fixed storage or a device for reading removable storage media. Examples include all forms of non-volatile memory, media and memory devices, semiconductor memory devices (e.g., EPROM, EEPROM, SDRAM, and flash memory devices), magnetic disks, magneto-optical disks, and optical disks (e.g., CD ROM, DVD-ROM, and CD ROM
Network interface controller 920 manages the exchange of data via network interface 922. The network interface controller 920 handles the physical layer and the data link layer of the OSI model for network communications. In some embodiments, the tasks of some of the network interface controllers are handled by processor 950. In some embodiments, the network interface controller 920 is part of the processor 950. In some implementations, the computing system 910 has multiple network interface controllers 920. In some embodiments, network interface 922 is a connection point to a physical network link, such as an RJ 45 connector. In some embodiments, the network interface controller 920 supports wireless network connections and the interface port 922 is a wireless receiver/transmitter. Generally, computing device 910 exchanges data with other computing devices 924 via physical or wireless links to a network interface 922. In some embodiments, the network interface controller 920 implements a network protocol such as ethernet.
In some uses, I/O interface 930 supports input devices and/or output devices (not shown). In some uses, the input device and the output device are integrated into the same hardware, for example in a touch screen. In some uses, such as in a server context, there is no I/O interface 930 or no I/O interface 930 is used. In some uses, additional other components 980 communicate with the computing system 910, such as external devices connected via a Universal Serial Bus (USB).
Other devices 980 may include I/O interfaces 930, external serial device ports, and any additional co-processors. For example, the computing system 910 may include an interface (e.g., a Universal Serial Bus (USB) interface) for connecting an input device (e.g., a keyboard, microphone, mouse, or other pointing device), an output device (e.g., a video display, speakers, refreshable braille terminals, or a printer), or an additional memory device (e.g., a portable flash drive or an external media drive). In some implementations, an I/O device is incorporated into the computing system 910, such as a touch screen on a tablet device. In some implementations, the computing device 910 includes additional devices 980, such as co-processors, e.g., math co-processors, which can assist the processor 950 in high precision or complex computations.
Embodiments of the subject matter and the operations described in this specification can be implemented in digital electronic circuitry, or in computer software, firmware, or hardware embodied in tangible media, including the structures disclosed in this specification and structural equivalents thereof, or in combinations of one or more of them. Embodiments of the subject matter described in this specification can be implemented as one or more computer programs, i.e., one or more modules of computer program instructions, encoded on one or more computer storage media for execution by, or to control the operation of, data processing apparatus. The computer storage media may be or be embodied in a computer-readable storage device, a computer-readable storage substrate, a random or sequential access memory array or device, or a combination of one or more of the foregoing. The computer storage medium may also be, or be included in, one or more separate components or media (e.g., multiple CDs, disks, or other storage devices). Computer storage media may be tangible and non-transitory.
The operations described in this specification may be implemented as operations performed by data processing apparatus on data stored on one or more computer-readable storage devices or received from other sources. The processes and logic flows can also be performed by, and apparatus can also be implemented as, special purpose logic circuitry, e.g., an FPGA (field programmable gate array) or an ASIC (application-specific integrated circuit).
While this specification contains many specific implementation details, these should not be construed as limitations on the scope of any invention or of what may be claimed, but rather as descriptions of features specific to particular implementations of particular inventions. Certain features that are described in this specification in the context of separate implementations can also be implemented in combination in a single implementation. Conversely, various features that are described in the context of a single implementation can also be implemented in multiple implementations separately or in any suitable subcombination. Moreover, although features may be described above as acting in certain combinations and even initially claimed as such, one or more features from a claimed combination can in some cases be excised from the combination, and the claimed combination may be directed to a subcombination or variation of a subcombination.
References to "or" may be interpreted as including such that any term described using "or" may mean any of the singular, the plural, and all of the stated terms. The labels "first," "second," "third," and the like do not necessarily denote an order, but rather are generally used to distinguish one item or element from another.
Thus, particular embodiments of the subject matter have been described. Other embodiments are within the scope of the following claims. In some cases, the actions recited in the claims can be performed in a different order and still achieve desirable results. Moreover, the processes depicted in the accompanying figures do not necessarily require the particular order shown, or sequential order, to achieve desirable results. In particular embodiments, multitasking or parallel processing may be utilized.
Claims (20)
1. A method of generating a forwarding table for a packet switch, the method comprising:
identifying a plurality of multipath groups in a forwarding table of a packet switch, wherein each multipath group corresponds to a respective initial set of a plurality of routing entries in the forwarding table, and each routing entry identifies an outbound port of the packet switch, and wherein each identified multipath group has a plurality of routing entries in the respective initial set of the plurality of routing entries that exceeds a predetermined number of entries in the forwarding table;
obtaining an importance score for each identified multipath group, each importance score indicating the importance of network traffic carried by the identified multipath group, and wherein the importance score is obtained based on one of: traffic reduction cost metrics, type of packet transmitted, ranking of protocols used for streaming, exceeding of flow size limits, source and/or destination addresses, amount of data transmitted over a period of time;
generating at least one alternative set of routing entries for one or more of a plurality of the identified multipath groups based on the obtained importance scores, the alternative set having fewer routing entries than the initial set of routing entries corresponding to the respective multipath group;
selecting one or more of the alternate sets of routing entries based on the traffic reduction cost metric, each selected alternate set corresponding to a different respective multipath group of the plurality of multipath groups; and
replacing, in the forwarding table of the packet switch, the initial set of routing entries for each multipath group corresponding to the selected replacement set of routing entries with a respective corresponding selected replacement set of routing entries.
2. The method of claim 1, wherein the first and second light sources are selected from the group consisting of a red light source, a green light source, and a blue light source,
wherein the traffic reduction cost metric comprises a first traffic characteristic; and
wherein selecting an alternate set of routing entries corresponding to a multipath group having a first traffic characteristic based on the traffic reduction cost metric comprises: an alternate set of route entries having less than a maximum number of route entries is selected, each route entry in the alternate set corresponding to a different network path.
3. The method of claim 2, wherein the alternate set of routing entries having less than the maximum number of routing entries has exactly two routing entries.
4. The method of claim 2, wherein the multipath group having the first traffic characteristic does not transmit a network packet to the multipath group as one or more of: network packets using a stateful transport layer protocol, network packets of a flow that exceed a size limit, and network packets addressed to a particular network address range.
5. The method of claim 1, further comprising:
comparing a first traffic reduction cost metric value of a first generated replacement set of routing entries corresponding to a first multipath group to a second traffic reduction cost metric value of a second generated replacement set of routing entries corresponding to the first multipath group; and
based on the comparison, the first generated alternative set of routing entries is selected.
6. The method of claim 1, further comprising:
comparing a first traffic reduction cost metric value of a first generated replacement set of routing entries corresponding to a first multipath group to a second traffic reduction cost metric value of a second generated replacement set of routing entries corresponding to a second multipath group; and
based on the comparison, the first generated alternative set of routing entries is selected.
7. The method of claim 1, further comprising:
comparing a first traffic reduction cost metric value of a first plurality of generation replacement sets of routing entries corresponding to a first plurality of multipath groups with a second traffic reduction cost metric value of a second plurality of generation replacement sets of routing entries corresponding to a second plurality of multipath groups; and
based on the comparison, the first plurality of generation alternate sets of routing entries are selected.
8. The method of claim 1 wherein replacing the initial set of routing entries with the replacement set of routing entries reduces the number of routing entries in the forwarding table by at least a predetermined amount.
9. The method of claim 1, wherein the traffic reduction cost metric comprises a network bandwidth metric weighted by a score corresponding to traffic traversing the multipath group.
10. The method of claim 1, wherein the packet switch is part of a Software Defined Network (SDN), and wherein replacing the initial set of routing entries with the replacement set of routing entries in the forwarding table of the packet switch comprises: transmitting instructions from an SDN controller to the packet switch.
11. A system, comprising:
a packet switch having a forwarding table; and
a route manager of the packet switch, the route manager configured to:
identifying a plurality of multipath groups in the forwarding table, wherein each multipath group corresponds to a respective initial set of a plurality of routing entries in the forwarding table, and each routing entry identifies an outbound port of the packet switch, and wherein each identified multipath group has a plurality of routing entries in the respective initial set of the plurality of routing entries that exceeds a predetermined number of entries in the forwarding table;
obtaining an importance score for each identified multipath group, each importance score indicating the importance of network traffic carried by the identified multipath group, and wherein the importance score is obtained based on one of: traffic reduction cost metrics, type of packet transmitted, ranking of protocols used for streaming, exceeding of flow size limits, source and/or destination addresses, amount of data transmitted over a period of time;
generating at least one alternative set of routing entries for one or more of a plurality of the identified multipath groups based on the obtained importance scores, the alternative set having fewer routing entries than the initial set of routing entries corresponding to the respective multipath group;
selecting one or more of the alternate sets of routing entries based on the traffic reduction cost metric, each selected alternate set corresponding to a different respective multipath group of the plurality of multipath groups; and
in the forwarding table, the initial set of route entries for each multipath group corresponding to the selected replacement set of route entries is replaced with the corresponding selected replacement set of route entries.
12. The system of claim 11, wherein the first and second sensors are arranged in a single unit,
wherein the traffic reduction cost metric comprises a first traffic characteristic; and
wherein the routing manager is configured to: selecting, based on the traffic reduction cost metric, an alternate set of routing entries corresponding to a multipath group having the first traffic characteristic by selecting an alternate set of routing entries having less than a maximum number of routing entries, each routing entry in the alternate set corresponding to a different network path.
13. The system of claim 12, the alternate set of routing entries having less than the maximum number of routing entries having exactly two routing entries.
14. The system of claim 12, wherein the multipath group having the first traffic characteristic does not transmit a network packet to the multipath group as one or more of: network packets using a stateful transport layer protocol, network packets of a flow that exceed a size limit, and network packets addressed to a particular network address range.
15. The system of claim 11, the routing manager further configured to:
comparing a first traffic reduction cost metric value of a first generated replacement set of routing entries corresponding to a first multipath group to a second traffic reduction cost metric value of a second generated replacement set of routing entries corresponding to the first multipath group; and
based on the comparison, the first generated alternative set of routing entries is selected.
16. The system of claim 11, the routing manager further configured to:
comparing a first traffic reduction cost metric value of a first generated replacement set of routing entries corresponding to a first multipath group to a second traffic reduction cost metric value of a second generated replacement set of routing entries corresponding to a second multipath group; and
based on the comparison, the first generated alternative set of routing entries is selected.
17. The system of claim 11, the routing manager further configured to:
comparing a first traffic reduction cost metric value of a first plurality of generation replacement sets of routing entries corresponding to a first plurality of multipath groups with a second traffic reduction cost metric value of a second plurality of generation replacement sets of routing entries corresponding to a second plurality of multipath groups; and
based on the comparison, the first plurality of generation alternate sets of routing entries are selected.
18. The system of claim 11, wherein the routing manager is configured to: replacing the initial set of routing entries with the replacement set of routing entries reduces the number of routing entries in the forwarding table by at least a predetermined amount.
19. The system of claim 11, wherein the traffic reduction cost metric comprises a network bandwidth metric weighted by a score corresponding to traffic traversing the multipath group.
20. The system of claim 11, wherein the packet switch is part of a Software Defined Network (SDN), and wherein the routing manager is part of an SDN controller configured to: replacing, in the forwarding table of the packet switch, the initial set of routing entries with the replacement set of routing entries by transmitting instructions to the packet switch.
Applications Claiming Priority (5)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US201461991969P | 2014-05-12 | 2014-05-12 | |
US61/991,969 | 2014-05-12 | ||
US14/643,712 US9736067B2 (en) | 2014-05-12 | 2015-03-10 | Prefix-aware weighted cost multi-path group reduction |
US14/643,712 | 2015-03-10 | ||
PCT/US2015/024217 WO2015175110A1 (en) | 2014-05-12 | 2015-04-03 | Prefix-aware weighted cost multi-path group reduction |
Publications (2)
Publication Number | Publication Date |
---|---|
CN106664250A CN106664250A (en) | 2017-05-10 |
CN106664250B true CN106664250B (en) | 2020-08-14 |
Family
ID=54368811
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN201580024495.4A Active CN106664250B (en) | 2014-05-12 | 2015-04-03 | Method and system for generating forwarding tables for packet switches |
Country Status (9)
Country | Link |
---|---|
US (1) | US9736067B2 (en) |
EP (1) | EP3143734B1 (en) |
JP (1) | JP6383805B2 (en) |
KR (1) | KR101922536B1 (en) |
CN (1) | CN106664250B (en) |
DE (1) | DE202015009259U1 (en) |
DK (1) | DK3143734T3 (en) |
SG (1) | SG11201609475QA (en) |
WO (1) | WO2015175110A1 (en) |
Families Citing this family (21)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US9565114B1 (en) * | 2014-03-08 | 2017-02-07 | Google Inc. | Weighted load balancing using scaled parallel hashing |
WO2015187256A1 (en) * | 2014-06-04 | 2015-12-10 | Burgio Al | Method and apparatus for identifying different routing paths between networks |
TWI542172B (en) * | 2014-09-22 | 2016-07-11 | 財團法人工業技術研究院 | Method and system for changing path and controllor thereof |
US10924381B2 (en) * | 2015-02-19 | 2021-02-16 | Arista Networks, Inc. | System and method of processing in-place adjacency updates |
US10003519B2 (en) * | 2015-11-13 | 2018-06-19 | Nanning Fugui Precision Industrial Co., Ltd. | Data delivery method based on software defined networking and software defined networking controller using the method |
US10313197B1 (en) * | 2016-03-09 | 2019-06-04 | Senseware, Inc. | System, method and apparatus for controlled entry of a sensor network node into a discovery state |
US10015096B1 (en) * | 2016-06-20 | 2018-07-03 | Amazon Technologies, Inc. | Congestion avoidance in multipath routed flows |
US10027571B2 (en) * | 2016-07-28 | 2018-07-17 | Hewlett Packard Enterprise Development Lp | Load balancing |
US10069734B1 (en) | 2016-08-09 | 2018-09-04 | Amazon Technologies, Inc. | Congestion avoidance in multipath routed flows using virtual output queue statistics |
US10097467B1 (en) * | 2016-08-11 | 2018-10-09 | Amazon Technologies, Inc. | Load balancing for multipath groups routed flows by re-associating routes to multipath groups |
US10116567B1 (en) | 2016-08-11 | 2018-10-30 | Amazon Technologies, Inc. | Load balancing for multipath group routed flows by re-routing the congested route |
US10009275B1 (en) | 2016-11-15 | 2018-06-26 | Amazon Technologies, Inc. | Uniform route distribution for a forwarding table |
US10084687B1 (en) * | 2016-11-17 | 2018-09-25 | Barefoot Networks, Inc. | Weighted-cost multi-pathing using range lookups |
US10397097B2 (en) * | 2017-01-18 | 2019-08-27 | Futurewei Technologies, Inc. | Weighted next hop selection at a router using an equal cost multipath process |
CN108259334A (en) | 2017-01-25 | 2018-07-06 | 新华三技术有限公司 | A kind of equivalent route item establishing method and device |
CN108881035B (en) * | 2018-09-13 | 2020-11-06 | 杭州迪普科技股份有限公司 | Message forwarding method and device |
KR102553167B1 (en) * | 2018-10-19 | 2023-07-06 | 주식회사 케이티 | Multi-path transmission system and method |
US11178046B2 (en) | 2019-11-27 | 2021-11-16 | Google Llc | Weighted bandwidth allocation for adaptive routing |
US11095552B1 (en) * | 2020-01-31 | 2021-08-17 | Avago Technologies International Sales Pte. Limited | Weighted cost multipath packet processing |
US11425030B2 (en) * | 2020-10-08 | 2022-08-23 | Cisco Technology, Inc. | Equal cost multi-path (ECMP) failover within an automated system (AS) |
CN113194030B (en) * | 2021-05-06 | 2021-12-24 | 中国人民解放军国防科技大学 | Multipath message forwarding method based on network prefix segmentation |
Citations (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN103053138A (en) * | 2010-07-29 | 2013-04-17 | 惠普发展公司，有限责任合伙企业 | A device and method for egress packet forwarding using mesh tagging |
CN103051985A (en) * | 2013-01-06 | 2013-04-17 | 中兴通讯股份有限公司 | Method and equipment for forwarding data through FCoE (Fiber Channel over Ethernet) router |
Family Cites Families (31)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6594261B1 (en) * | 1999-12-22 | 2003-07-15 | Aztech Partners, Inc. | Adaptive fault-tolerant switching network with random initial routing and random routing around faults |
US7366100B2 (en) * | 2002-06-04 | 2008-04-29 | Lucent Technologies Inc. | Method and apparatus for multipath processing |
GB0230330D0 (en) * | 2002-12-31 | 2003-02-05 | British Telecomm | Communications routing |
US7453883B1 (en) * | 2003-04-14 | 2008-11-18 | Cisco Technology, Inc. | Method for compressing route data in a router |
US7701858B2 (en) | 2003-07-17 | 2010-04-20 | Sensicast Systems | Method and apparatus for wireless communication in a mesh network |
JP2005057487A (en) * | 2003-08-04 | 2005-03-03 | Nippon Telegr & Teleph Corp <Ntt> | Path controller for selecting a plurality of paths, path selecting method, program thereof, and recording medium |
DE102004003547B3 (en) * | 2004-01-23 | 2005-06-30 | Siemens Ag | Shortest path routing method for packet-based communications network with updating of optimal routing path determined in dependence on communications link costs upon increasing of latter dependent on traffic loading |
JP4388464B2 (en) * | 2004-12-07 | 2009-12-24 | 株式会社日立製作所 | Packet relay device and packet communication network |
US20060133282A1 (en) * | 2004-12-21 | 2006-06-22 | Nortel Networks Limited | Systems and methods for multipath routing |
US20070147255A1 (en) * | 2005-12-23 | 2007-06-28 | Ozgur Oyman | Routing in wireless mesh networks |
US8208463B2 (en) * | 2006-10-24 | 2012-06-26 | Cisco Technology, Inc. | Subnet scoped multicast / broadcast packet distribution mechanism over a routed network |
US7898959B1 (en) | 2007-06-28 | 2011-03-01 | Marvell Israel (Misl) Ltd. | Method for weighted load-balancing among network interfaces |
US8014278B1 (en) * | 2007-12-17 | 2011-09-06 | Force 10 Networks, Inc | Adaptive load balancing between ECMP or LAG port group members |
US20110164527A1 (en) * | 2008-04-04 | 2011-07-07 | Mishra Rajesh K | Enhanced wireless ad hoc communication techniques |
US8160063B2 (en) * | 2008-06-09 | 2012-04-17 | Microsoft Corporation | Data center interconnect and traffic engineering |
JP5044537B2 (en) * | 2008-12-15 | 2012-10-10 | 株式会社日立製作所 | Transport control server, network system, and aggregated path determination method |
US8036126B2 (en) | 2009-02-17 | 2011-10-11 | At&T Intellectual Property Llp | System and method for compressing internet protocol routing tables |
US8996614B2 (en) * | 2011-02-09 | 2015-03-31 | Citrix Systems, Inc. | Systems and methods for nTier cache redirection |
US8693341B2 (en) * | 2011-06-10 | 2014-04-08 | Force10 Networks, Inc. | Method and apparatus for optimizing data traffic path through a stacked switch LAG configuration |
US9071541B2 (en) * | 2012-04-25 | 2015-06-30 | Juniper Networks, Inc. | Path weighted equal-cost multipath |
US8972602B2 (en) | 2012-06-15 | 2015-03-03 | Citrix Systems, Inc. | Systems and methods for using ECMP routes for traffic distribution |
KR102069501B1 (en) * | 2012-10-19 | 2020-01-23 | 한국전자통신연구원 | Multipath communication apparatus for improving energy efficiency and traffic distribution method for improving energy efficiency thereof |
US8964752B2 (en) * | 2013-02-25 | 2015-02-24 | Telefonaktiebolaget L M Ericsson (Publ) | Method and system for flow table lookup parallelization in a software defined networking (SDN) system |
CA2903422A1 (en) * | 2013-03-06 | 2014-09-12 | Seiji Oikawa | Communication system, switch, control apparatus, packet processing method, and program |
US9065721B2 (en) * | 2013-03-15 | 2015-06-23 | Dell Products L.P. | Dynamic network load rebalancing |
CN104144120A (en) * | 2013-05-07 | 2014-11-12 | 杭州华三通信技术有限公司 | Forwarding information configuration method and device |
WO2015041706A1 (en) * | 2013-09-23 | 2015-03-26 | Mcafee, Inc. | Providing a fast path between two entities |
US9467384B2 (en) * | 2013-12-05 | 2016-10-11 | Mediatek Singapore Pte. Ltd. | Packet forwarding apparatus and method using flow subgroup based path selection for dynamic load balancing |
US9246821B1 (en) * | 2014-01-28 | 2016-01-26 | Google Inc. | Systems and methods for implementing weighted cost multi-path using two-level equal cost multi-path tables |
US9391896B2 (en) * | 2014-03-10 | 2016-07-12 | Palo Alto Research Center Incorporated | System and method for packet forwarding using a conjunctive normal form strategy in a content-centric network |
US9485115B2 (en) * | 2014-04-23 | 2016-11-01 | Cisco Technology, Inc. | System and method for enabling conversational learning in a network environment |
-
2015
- 2015-03-10 US US14/643,712 patent/US9736067B2/en active Active
- 2015-04-03 DK DK15718305.4T patent/DK3143734T3/en active
- 2015-04-03 EP EP15718305.4A patent/EP3143734B1/en active Active
- 2015-04-03 DE DE202015009259.4U patent/DE202015009259U1/en active Active
- 2015-04-03 WO PCT/US2015/024217 patent/WO2015175110A1/en active Application Filing
- 2015-04-03 KR KR1020167031526A patent/KR101922536B1/en active IP Right Grant
- 2015-04-03 JP JP2016562804A patent/JP6383805B2/en active Active
- 2015-04-03 SG SG11201609475QA patent/SG11201609475QA/en unknown
- 2015-04-03 CN CN201580024495.4A patent/CN106664250B/en active Active
Patent Citations (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN103053138A (en) * | 2010-07-29 | 2013-04-17 | 惠普发展公司，有限责任合伙企业 | A device and method for egress packet forwarding using mesh tagging |
CN103051985A (en) * | 2013-01-06 | 2013-04-17 | 中兴通讯股份有限公司 | Method and equipment for forwarding data through FCoE (Fiber Channel over Ethernet) router |
Non-Patent Citations (1)
Title |
---|
WCMP:Weight Cost Multipathing for Improved Fairness in Data Centers;JUNLAN ZHOU ET;《COMPUTER SYSTEMS,ACM,2 PENN PLAZA,SUITE 701 NEW YORK NY 10121-0701 USA》;20140414;全文 * |
Also Published As
Publication number | Publication date |
---|---|
DK3143734T3 (en) | 2018-10-08 |
KR101922536B1 (en) | 2018-11-27 |
US9736067B2 (en) | 2017-08-15 |
JP2017516387A (en) | 2017-06-15 |
US20150326476A1 (en) | 2015-11-12 |
EP3143734A1 (en) | 2017-03-22 |
EP3143734B1 (en) | 2018-06-20 |
DE202015009259U1 (en) | 2017-01-19 |
KR20160142884A (en) | 2016-12-13 |
SG11201609475QA (en) | 2016-12-29 |
JP6383805B2 (en) | 2018-08-29 |
CN106664250A (en) | 2017-05-10 |
WO2015175110A1 (en) | 2015-11-19 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
CN106664250B (en) | Method and system for generating forwarding tables for packet switches | |
JP6527880B2 (en) | System and method for software defined routing of traffic within and between autonomous systems with improved flow routing, scalability and security | |
US8248925B2 (en) | Method and apparatus for selecting between multiple equal cost paths | |
US9806994B2 (en) | Routing via multiple paths with efficient traffic distribution | |
JP6510115B2 (en) | Method, apparatus, and network system for realizing load distribution | |
EP2276207B1 (en) | Node based path selection randomization | |
US11121984B2 (en) | Routing tables for forwarding packets between switches in a data center network | |
US9548930B1 (en) | Method for improving link selection at the borders of SDN and traditional networks | |
US20170310594A1 (en) | Expedited fabric paths in switch fabrics | |
US10462040B2 (en) | Non-minimum cost forwarding for packet-switched networks | |
EP2995048A1 (en) | Configuring forwarding information | |
Alqahtani et al. | Rethinking fat-tree topology design for cloud data centers | |
US8948171B1 (en) | System and method for IP multicast | |
US11570083B2 (en) | Selecting and deduplicating forwarding equivalence classes | |
US20180212881A1 (en) | Load-based compression of forwarding tables in network devices | |
TW201233213A (en) | Method and system for power-limited switching and/or routing in a network |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
PB01 | Publication | ||
PB01 | Publication | ||
SE01 | Entry into force of request for substantive examination | ||
SE01 | Entry into force of request for substantive examination | ||
CB02 | Change of applicant information |
Address after: American CaliforniaApplicant after: Google limited liability companyAddress before: American CaliforniaApplicant before: Google Inc. |
|
CB02 | Change of applicant information | ||
REG | Reference to a national code |
Ref country code: HKRef legal event code: DERef document number: 1235930Country of ref document: HK |
|
GR01 | Patent grant | ||
GR01 | Patent grant |