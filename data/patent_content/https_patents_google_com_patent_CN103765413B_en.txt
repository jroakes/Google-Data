CN103765413B - Render the text image for following lines - Google Patents
Render the text image for following lines Download PDFInfo
- Publication number
- CN103765413B CN103765413B CN201280041541.8A CN201280041541A CN103765413B CN 103765413 B CN103765413 B CN 103765413B CN 201280041541 A CN201280041541 A CN 201280041541A CN 103765413 B CN103765413 B CN 103765413B
- Authority
- CN
- China
- Prior art keywords
- text
- character
- text character
- coded data
- box
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Active
Links
Classifications
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T11/00—2D [Two Dimensional] image generation
- G06T11/20—Drawing from basic elements, e.g. lines or circles
- G06T11/206—Drawing of charts or graphs
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01C—MEASURING DISTANCES, LEVELS OR BEARINGS; SURVEYING; NAVIGATION; GYROSCOPIC INSTRUMENTS; PHOTOGRAMMETRY OR VIDEOGRAMMETRY
- G01C21/00—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00
- G01C21/26—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00 specially adapted for navigation in a road network
- G01C21/34—Route searching; Route guidance
- G01C21/36—Input/output arrangements for on-board computers
- G01C21/3667—Display of a road map
- G01C21/3673—Labelling using text of road map data items, e.g. road names, POI names
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F40/00—Handling natural language data
- G06F40/10—Text processing
- G06F40/103—Formatting, i.e. changing of presentation of documents
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T11/00—2D [Two Dimensional] image generation
- G06T11/20—Drawing from basic elements, e.g. lines or circles
- G06T11/203—Drawing of straight lines or curves
Abstract
A kind of figure or image rendering system, such as map image rendering system receive view data in the form of vector data and texture from image data base, the vector data defines various image objects, such as road, geographical frontier etc., and these textures define the text string that will be shown on image for example to provide the label for image object.Image rendering system renders image, so as to which the individual characters of text string follow the lines for being segmented or bending to be positioned on image more.This rendering system enables text string to be positioned on map image, so that text follows the details of the center lines for bending either angled road or other characteristics of image and the curvature of unknown following lines, will be when creating the texture of storage text string information along lines placement text.This feature provides the visual property of enhancing in map image, because it for example allows road name to follow the curvature of road to be positioned over any place within road therefore pleasant visual effect is provided in map image.
Description
Technical field
Present disclosure is related to image rendering (rendering) system, such as electronic map display system and more specific
Ground is related to a kind of render and follows lines, such as the image rendering engine of the text image of multi-segmented line bar.
Background technology
Numerical map is including each of mobile phone, auto-navigation system, handhold GPS unit, computer and many websites
Find and can be shown by these equipment in the equipment of kind various kinds.Although numerical map is easy to from the perspective of terminal user
Check and use, but creating numerical map is difficult task and is probably time-consuming process.Specifically, each numeral
Map start from map data base storage with using the millions of street shown as the part of map and crossing with
And the set of initial data corresponding to further feature starts.It is being stored in map data base and for generating numerical map figure
The original map data of picture obtains from multiple sources, and the information of each the commonly provided varying number in source and type.This ground
Therefore diagram data must be applied being rendered by map denotation or map and be compiled before hardware access and be stored in map
In database.
Certainly have and map image (referred to as numerical map is digitally rendered based on the map datum stored in map data base
Image) different modes.A kind of method for rendering map image is to be used as in map data base memory storage map image by many
The set of the grating (raster) or pixelation image of pixel count strong point composition, wherein each pixel count strong point includes following property
How matter, the specific pixel in these property definition images will be shown on electronic display unit.Although the ground of this type
Diagram data is relatively easy to create and stores, but usually requires to be used for comprehensively digitally using the map Rendering of this data
A large amount of memory spaces of figure image, and be difficult to be manipulated by the use of many useful modes and be used as the numerical map shown on the display device
Image.
Another more flexible method for rendering image uses the view data of conventionally referred to as vector image data.Arrow
Amount view data be typically used in high-resolution and quickly move imaging system, such as with games system and especially three-dimensional game
The mobile imaging system of play system relationship.In general, vector image data (or vector data) include following data, the number
The specific image object or element that are shown via image display as the part of image (are also referred to as body according to definition
Member).In the situation of map image, either volume elements may, for example, be an other road or section, text to such pictorial element
This label, region, text text box, building, point of interest mark, features of terrain, bicycle path, map or street label
Deng.Each pictorial element is typically by the collection of (different size, shape, color, filling pattern etc.) one or more triangle
The set of one or more triangle is combined into or is plotted as, wherein each triangle is included by the three of lines interconnection
Individual summit.Therefore for any specific pictorial element, the set of view data library storage vertex data point, wherein each summit
Data point defines the specific summit of one of the triangle of composition pictorial element.In general, each number of vertex strong point include with
The two dimension or three-dimensional position on summit (such as in X, Y either X, Y, Z coordinate system) and property, such as the color for defining summit
Matter, filling property, for dissipating from the relevant data of the various vertex attributes of the line thickness property of lines on summit etc..
During image rendering process, to the graphics processing unit (GUP) with such as graphics card or rasterizer etc
One or more image colorant device (shader) of binding operation provides and in one or more image colorant device
The summit that the various pictorial elements for the image for handling to be rendered define to produce two dimensional image on a display screen.It is general and
Speech, image colorant device are the collection for being mainly used to calculate the software instruction of rendering effect with the flexibility of height on graphic hardware
Close.Image colorant device is well known in the present art, and various types of image colorant devices for example by OpenGL and
It can be used in the various API (API) for being used to define special colouring function that Direct3D is provided.Substantially, image
Color device is the simple program in high-level programming language, and high-level programming language description either determines the spy of summit or pixel
Point.Vertex shader such as the characteristics of defining summit (such as position, texture coordinate, color), and pixel or fragment shading
Device defines the characteristics of pixel (color, z-depth and α values).Summit is called for each summit in pictorial element or volume elements
Tinter, hence for each summit inputted in tinter apicad, it is defeated that vertex shader produces (renewal) summit
Go out.Then each summit exported by tinter is rendered into a series of pixels to logical block, it will be finally to display screen
Send.As another example, fragment shader using the summit exported by vertex shader with by image pixel, determine quilt
The pixel color value of the image of establishment.Fragment shader can based on as caused by vertex shader the vertex attributes values on summit,
Filled or rendered pixel by the interpolation of the vertex attributes values on the different summits of image object.In other cases,
Fragment shader can be filled or pixelation image object with the form of pixel color map using predefined texture
Specific region defined in summit.In this case, texture is the various image definition pixel values and one to be rendered
As be used for text text or image are rendered on screen.
As the more specific example of image colorant device technology, Direct3D and OpenGL shape libraries, which use, includes vertex coloring
Three kinds of basic tinter types of device, geometry tinter and pixel or fragment shader.Vertex shader is to figure
Each summit operation that processor provides is once.As noted above, the purpose of vertex shader is virtual by summit
Two-dimensional coordinate that evolution in space occurs on a display screen into it (and the depth of the z-buffer for graphics processor
Angle value).Vertex shader can manipulate such as position, color and texture coordinate etc by setting the vertex attribute on summit
Property, but new summit can not be created.The output of vertex shader, the next stage are provided to the next stage in streamline is handled
If there is be then geometry tinter either rasterizer.Geometry tinter can be added and netted from summit and be removed
Summit and can be used in program generate picture geometry or to conventional images add volumetric details, this is in centre
Manage processing on unit (CPU) cost is too high.If using geometry tinter, send and export to rasterizer.Also referred to as
The color and light property of the respective pixel in image are calculated for the pixel coloring device of fragment shader.Input to this one-level comes from
Rasterizer, and fragment shader is operated for filling by the pixel value of the polygon of graphics pipeline transmission and can be with
Using texture to define pixel value in specific image object.Fragment shader is generally used for scenery illumination and relevant effect, ratio
Such as color toner.One-one relationship not between the calling to fragment shader and the pixel on screen, because often
Fragment shader is called per pixel many times, because for each pictorial element or object in corresponding space, i.e.,
Make the masking image object, still call these fragment shaders.But if drawing occluding objects first, then typically will not be
The pixel of the masking of other objects is handled in fragment shader.
Using vector graphics can in moving map system it is particularly advantageous, in the moving map system, from concentration
Formula map data base is via communication network (such as internet, cordless communication network etc.) to one or more movement or long-range
Equipment sends view data and is used to show.Specifically, vector data once sends can than pixelation to receiving device
Raster image data is easier to be scaled and manipulated (such as rotation etc.).But processing vector data is generally than receiving data
Taken in image rendering system and processor is much intensive.In addition, using by shown in map provide higher level details or
The vector image data of person's information cause to need to send more to map rendering system from the map data base for storing this information
A large amount of vector datas or summit, this may cause the requirement of more high bandwidth or download time in some cases.
In addition, rasterisation map image and vector data generate image both in the case of, typically store text,
Such as marking the text of the street of map, road and further feature as predetermined image.Such image be difficult to manipulate with
Just the placement of text is changed.Such as in the map image of pixelation, text is located relative to the fixed bit of other map features
Put, so if not can not possibly then be difficult to change orientation or placement of the text relative to other image objects.Using arrow
When measuring data, the general text that stores is used as still image or string, and the image or go here and there is not linked to other map features, therefore
Diverse location can be positioned in map.But it is relative to change the individual characters in text to be still difficult to manipulation text image
Extended at an angle to one another in mutual placement to make the character of text image follow lines, such as multi-segmented line bar, to have
The lines of multiple line segments or the lines of bending.
The content of the invention
It is a kind of to be used to render by computer-implemented method being included for image on the display device：Use computer equipment
It is determined that the lines in image, rendered along lines (can be stored as the text character of pixelation in image look-up table
Set) text string；It is determined that the multiple line segments associated with lines and the scope associated with each line segment；And in multiple line segments
Each line segment form text box, each text box in text box is oriented for painting in erection position along the line segment of association
Text processed.One text box of the text character that render text string wherein in this method selection text box, from text string
A text character in text character is selected, and determines the center of a text character in text character when on image
Whether by the scope of the line segment associated with a text box in text box when being rendered in a text box in text box
It is interior.If the center of a text character in text character when being rendered in a text box in text box will with
In the range of the line segment of text box association in text box, then this method then uses a text box in text box to exist
A text character in text character is rendered on display device.Otherwise, for example, if a text character in text character
Center when being rendered in a text box in text box by not in the line associated with a text box in text box
In the range of section, then this method selects the different text boxes in multiple text boxes to be used for as a text box in text box
Render on display device and used in text character text character.
In one embodiment, this method also includes：Text is selected in turn from the text string stored up in image look-up table
Each text character in character, and for the text character of each selection in text character, perform following steps：It is determined that
Whether will when being rendered in a text box in text box at the center of one text character of the selection in text character
In the range of the line segment associated with a text box in text box, if a text character of the selection in text character
Center when being rendered in a text box in text box by the line segment associated with a text box in text box
In the range of, then show a text of the selection in text character on the display device using a text box in text box
Character, and otherwise select the different text boxes in multiple text boxes to be used to set in display as a text box in text box
Used in a standby text character for above rendering the selection in text character.In addition, it is determined that a text in text character
Whether the center of character will close when being rendered in a text box in text box with a text box in text box
When in the range of the line segment of connection, this method can read the collection of the coded data for a text character in text character
Close, coded data specifies text character center at least one direction and/or specified text word in text character
The width of a text character in symbol.
When forming text box, this method can be formed along the length orientation of the association line segment in line segment in text box
In each text box, and so as to text box association line segment length direction on have than associate line segment scope it is bigger
Length.In one case, each text box that this method can be formed in text box, so as to the initiating terminal of each text box
Preset distance is upwardly extended in the side of the length of association line segment before the initiating terminal of line segment, and is surpassed so as to the end of text box
The end for crossing line segment upwardly extends preset distance in the side of line segment.Preset distance may, for example, be what is stored in image look-up table
The half of width of the text character when being formed in text box in the text character of text string.This method can also be
Each line segment in multiple line segments forms each text box that text box includes being formed in text box, so as to text box height with
The direction of association line segment orthogonally extends preset distance.In this case, the height of text box can be in image look-up table
Height of the text character when being formed in text box in the text character of the text string of middle storage.
If desired, then this method can be determined in a text character in text character using fragment shader
Whether the heart in a text box in text box when being rendered by the line segment associated with a text box in text box
In the range of and if a text character in text character will when being rendered in a text box in text box
Then set in the range of the line segment associated with a text box in text box using a text box in text box in display
The standby text character above rendered in text character.In addition, this method can think multiple line segment shapes using vertex shader
Into text box.
According in another embodiment, a kind of image rendering engine includes communications network interface, processor, is coupled to processing
Multiple examples of the memory of device, the display device for being coupled to processor and the font on a processor stored in memory
Journey.First routine receives the vector data for the data for including defining one or more image object via communications network interface
Set and one or more text string look-up table, the text string look-up table storage wherein in text string look-up table is at least
The text character of one text string as the text character of pixelation set and store coded data, coded data definition with
The center of each text character in multiple text characters of text string association.The determination of second routine associates more with lines
Individual line segment and the scope associated with each line segment, text string will be rendered along the lines.3rd routine determines to be used for multiple line segments
In each line segment text box, each text box in text box is oriented for drawing in erection position along association line segment
Text.One text box of the text character that render text string wherein in the 4th routine selection text box, selects text
Next text character in the text character of string, determine that the center of a text character of the selection in text character is worked as in image
Whether will be closed when being rendered in one text box of the selection in top box with the selection in text box text box
In the range of the line segment of connection, and if the center of a text character of selection in text character when the choosing in text box
By in the range of the line segment associated with the selection in text box a text box when being rendered in the text box selected, then
Show the pixel of a text character in text character on the display device using a text box in text box.Otherwise,
4th routine selects the different text boxes in multiple text boxes to be used for as the text box of the selection in text box in display device
On use when rendering the text character of selection in text character.
According to another embodiment, a kind of interior method that text is rendered along lines of image for rendering on the display device
It is included in storage text string look-up table in computer storage, text string look-up table includes the multiple text words associated with text string
Symbol and coded data, coded data define the centre bit of each text character in the multiple text characters associated with text string
Put.This method also determines the multiple line segments associated with the lines in image and the scope associated with each line segment, will be along the line
Bar renders text string.Then this method forms text box for each line segment in multiple line segments, each text in text box
This frame is oriented in the picture along association line segment in erection position rendering text.For each text word in text string
Symbol, this method select a text box of the text character that render text string wherein in text box, are searched from text string
Table reads coded data and determines the center of text character quilt when in a text box of the selection in text box
Whether render by the range of the line segment associated with the selection in text box a text box.If the center of text character
Position when being rendered in a text box of the selection in text box by with the selection in text box text box
In the range of the line segment of association, then this method and then a text box using the selection in text box are shown on the display device
Text character in image.Otherwise, i.e., if the center of text character is when a text box of the selection in text box
In when being rendered by not in the range of the line segment associated with the selection in text box a text box, then this method selection is more
A text box of the different text boxes as the selection in text box in individual text box.
In more another embodiments, a kind of map image rendering system includes map data base and map image renders and is
System.The map datum library storage vector image data relevant with map, vector image data include defining one or more figure
As the data of object He one or more text string look-up table, a text string look-up table wherein in text string look-up table is deposited
Store up set and storage of the text character associated with least one text string to be rendered as the text character of pixelation
Coded data, coded data define the center of each text character in the multiple text characters associated with text string.Ground
Be coupled to map data base to figure image rendering equipment communication with receive the vector image data relevant with map and use with
Map relevant vector image data render map image.Map image rendering apparatus include communications network interface, processor,
The memory that is coupled to processor, the display device for being coupled to processor and storage and on a processor on a memory
Multiple routines of font.Specifically, Communications routines are received for that on the display device will render via communications network interface
The vector image data of image.In addition, one or more image colorant device routine determine multiple line segments for being associated with lines and
The scope associated with each line segment, text string will be rendered along the lines, and text is formed for each line segment in multiple line segments
This frame, each text box in text box are oriented for drawing the text along association line segment in erection position in the picture,
And each text box has the set of the value range defined by the scope of association line segment.For each text in text string
Character, one or more image colorant device routine reads coded data from text string look-up table, it is determined that the text with value range
This frame, the center of text character will be fallen into the value range when will be rendered on text character image, and use text
The text box of determination in frame renders part of the text character as image on the display device.
Brief description of the drawings
Fig. 1 is implemented between the map data base and one or more map image rendering apparatus that store in the server
Communication map imaging system high level block diagram.
Fig. 2 is the high level block diagram for rendering the image rendering engine of map image using map vector data.
Fig. 3 is the description of the encoding texture with text string and encoding strip, and the encoding strip enables text string in image
Multi-segmented line bar is followed to render.
Fig. 3 A are the descriptions of the more specifically part of the text of the coding of pictorial image 3, and the part illustrates encoding strip.
Fig. 4 is the description of the multi-segmented line bar at the center that road is followed in map image.
Fig. 5 is that the figure of the first text box associated with the first line segment is described, and first text box is created for following
Fig. 4 multi-segmented line bar renders the text character obtained from Fig. 3 texture.
Fig. 6 is that the figure of the second text box associated with second line segment is described, and second text box is created for following
Fig. 4 multi-segmented line bar renders the text character obtained from Fig. 3 texture.
Fig. 7 A and 7B illustrate follows more points using Fig. 5 and 6 text box and Fig. 3 texture of coding in map image
Section lines render exemplary method, routine or the process flow diagram flow chart of the set of text character.
Fig. 8 illustrates the second texture, and second texture has in each text being used in multiple text strings wherein set
The set of second coding lines of string, wherein each second coding lines in the second coding lines are pointed to and deposited in the second texture
The font of storage.
Text string of Fig. 9 diagrams with overlay text character.
Figure 10 illustrates third texture, and multiple encoding strips are used for text string by the third texture using Fig. 8 coding techniques
Each text string of set is so that overlapping character can follow lines to render in image.
Figure 11 illustrate the 4th texture, the 4th texture using Fig. 3 coding techniques by multiple encoding strips be used for text string with
Overlapping character is set to follow lines in image to render.
Embodiment
Either image rendering system, such as map image rendering system connect a kind of figure from image data base or from application
View data is received, the application defines various images pair with the Form generation view data of vector data and texture, the vector data
As, such as road, border etc., these textures define the text string that will be shown on image for example to provide for image object
Label.Image rendering system renders image, follows the lines of multi-segmented line bar, such as bending to put so as to the individual characters of text string
It is placed on image.This rendering system for example enables text string to be positioned on map image, so as to text follow bending or
Angled road or the center lines of other characteristics of image.This Rendering provides big when text is rendered in image
Flexibility is measured, will be because this technology allows to render text to follow lines and the details of the curvature of unknown following lines
When creating the texture of storage text string information text is placed along the lines.This feature provided in map image enhancing can
Depending on property, because it for example allows road name to follow the curvature of road to be positioned over any place within road therefore rendered
Pleasant visual effect is provided in map image.
Referring now to Fig. 1, the imaging system 10 relevant with map is included in server 14 or for example positioned at center
Place or map data base 12 in multiple servers in a variety of places spaced apart and also include multiple
Map client device 16,18,20 and 22, each map client device storage and implementation map rendering apparatus or map wash with watercolours
Contaminate engine.Map client device 16-22 can via any hardwire or cordless communication network 25, for example including hardwire
Either WLAN, MAN or WAN, internet or its any combinations are connected to server 14.Map client device 16-22
May, for example, be mobile telephone equipment (18), computer, such as on knee, desktop type or other types of computer (16,
Or the part of other imaging systems, such as part of auto-navigation system (22) etc. 20).In addition, client device 16-22 can
With via any appropriate communication system, such as any publicly available or privately held communication network, including the use of based on hard
The communication structure of wiring, such as phone and cable hardware and/or the communication network of wireless communication configuration, such as wireless communication networks
Network, it is communicably connected to server 14 such as including WLAN and WAN, satellite and cellular telephone communication system.
Map data base 12 can store the map datum including raster image map of any desired type or species
Data and vector image map datum.But image rendering system described herein is best suitable for making with vector image data
With the vector image data definition is either including for the image object in image to be displayed, element or volume elements
The serial summit or number of vertex strong point of each set in multiple set and it will be shown using texture with defining on map
Text string.In general, each image object in the image object that vector data defines will be multiple with what is be associated
Summit, and these summits via one or more client device in client device 16-22 to user by for showing
Show the image object relevant with map.In addition, for example defining the various texture maps of text image or text character can deposit
It is stored in map data base 12 and is used to use when rendering label either other images on map or can be in client device
These texture maps are generated according to text character in one or more application in 16-22.
As also will be understood that, each client device in client device 16-22 includes image rendering engine, should
Image rendering engine has one or more processor 30, one or more memory 32, display device 34 and permitted
Include rasterizer or graphics card 36 in the case of more, the rasterizer or graphics card typically in a known way come program with mutually
Connect to implement or render figure (image) on association display device 34.Display for any client device 16-22 is set
Standby 34 can be any kind of electronic display unit, such as liquid crystal display (LCD), light emitting diode (LED) display, etc.
The known or appropriate electronic console of gas ions display, cathode-ray tube (CRT) display either any other type.
In general, Fig. 1 imaging system 10 relevant with map operates, so as to user client device 16-22 it
One opens or performs map application (being not shown in Fig. 1), and the map application is operated for via server 14 and map number
Communicated according to storehouse 12 and obtain cartographic information or the data relevant with map, the ground for being then based on reception from map data base 12
Diagram data shows or rendered map image.Map application can allow user to check in map data base 12 map stored
The map that the different geographical portions of data, the specific geographical position that zooms in or out, rotation, spin or change are shown
Two dimension or three-dimensional check angle etc..More specifically, when use system described below is in display device or display screen
When map image is rendered on 34, each client device in client device 16-22 is from map data base 12 with the shape of vector
Formula downloading map data and using one or more image colorant device come handle the vector data with association display device
Image is rendered on 34.
Referring now to Fig. 2, more specifically one of diagram and client device 16-22 are associated or by client device 16-
One of 22 image generations implemented or image rendering equipment 40.Fig. 2 image rendering system 40 include two processor 30a and
30b, two memories 32a and 32b, user interface 34 and with rasterizer 36.In this case, processor 30b, storage
Device 32b and rasterizer 36 are arranged on separated graphics card (hereinafter referred to as horizontal line), but this is needed not to be in all implementations
Situation in example.Such as in other embodiments, single processor can be used instead.In addition, image rendering system 40 is wrapped
Network interface 42, communication and storage routine 43 and one or more map application 48 are included, one or more map should
The display logic that can be performed on processor 30a stored with having wherein on memory 32a.Similarly, form example
One or more image colorant device such as vertex shader 44 and fragment shader 46 be stored on memory 32b and
It is performed on processor 30b.Memory 32a and 32b can include volatibility either nonvolatile memory or the two, and
Routine and tinter are performed on processor 30a and 30b to provide function described below.Network interface 42 includes any known
Software and/or hardware component, the software and/or hardware component operate for via hardwire or cordless communication network for example
Communicated with Fig. 1 server 14 and view data is obtained in the form of with vector data in user interface or display device 34
Used during upper establishment image display.Image rendering equipment 40 also includes the number for the vector data that storage receives from map data base 12
According to memory 48, the data storage may, for example, be the buffer or volatile memory portion of memory 32, the vector
Data include any number of number of vertex strong point and one or more image texture that such as will be described in further detail.
During operation, the map logic of map application 48 performed on processor 30 for example to be inputted using user, GPS
The specific picture number that signal, the logic that prestores or programming etc. show to determine needs to be used for via display device 34 to user
According to.Communicated using 48 display or map logic with server 14 by network interface 42 with from map data base 12 preferably
Map datum is obtained in the form of vector data or compressing vector data, is led to using Communications routines 43 with map data base 12
Letter.This vector data is returned by Communications routines 43 via network interface 42 and can be compressed and be stored in data storage
In device 49.Specifically, the data downloaded from map data base 12 can be compact, the structure of final vector data to be used
Change or the version that optimizes in addition, and map application 48 can operate for using processor 30a by the vector data of download
It is transformed into specific number of vertex strong point.In one embodiment, from server 14 send view data include vector data and
One or more image texture may be included, the vector data is generally comprised or defined for that will show on the screen 34
The association of multiple different images elements or image object summit set each summit data, this one or more
Image texture is defined either comprising the text string or other labels that will be shown on image relative to image object.It is more specific and
Speech, for each pictorial element either image object vector data can include with form image specific element or right
Multiple summits of one or more triangle association of elephant.Each such triangle includes (being defined by number of vertex strong point)
Three summits, and each number of vertex strong point has the vertex data being associated.In one embodiment, each vertex data
Point includes vertex position data and one or more vertex attributes values and/or attribute is quoted, vertex position data definition
Two dimension or three-dimensional position or position of the summit in reference either Virtual Space, the attribute, which is quoted, to be pair or defines summit
The set of property value.Each number of vertex strong point can also include other information, such as the figure that mark number of vertex strong point is associated
As the object type identifier of object type.Similarly, image texture defines the text character to be rendered on image, text string
Or label, the substantial text image of these image textures or pixel look-up table.Although can be under client device 16-22
Image texture as load, but these image textures can also be generated in client device 16-22, these client devices make
With the text-string for providing to client device 16-22 or being used in client device 16-22.
In general, it is described herein be used in map image along lines render text imaging system include or
It is related to three parts.First, by the text rendered in the picture be placed on image texture (without the path that is associated or
Specific orientation) in and encoded with coded data, the coded data is defined on some of each character string in text string
Characteristic.The step for can be performed by the map application in client device, and if it is, then text string encoding
Texture storage is in the memory of client device.If performing this coding in server 14, this texture (is also referred to as schemed
As or text string look-up table) can be stored in map data base 12 and can be sent to client device 16-22 and be used for
Store and use in client device.Second, the line segment that drafting or the foundation text to be rendered will follow on image
Set preferably as the triangle with appropriate vertex attribute.3rd, one or more shader computations is wherein painted
The character for making the text stored in texture or text string performs individual characters rotation correctly to follow line segment, so as to use
Following orientation renders each text character in the text character of text string, the orientation follow the line that line segment formed or relative to
The lines are by correct rotation.
As noted above, the text not rotated is rendered into texture or pixel map by Rendering.Certainly,
Any desired text being rendered into text in image texture or other types of look-up table can be used to render storehouse to hold
This process of row.If more than one text string will be placed in texture, records and store or provide each text
Part of the position of string as texture.In addition, the height of the text in each text string can be recorded and be encoded to texture
In or can be provided as the attribute data for texture.
In addition to the text not rotated that text string is rendered in texture, also carried in the texture for each text string
The pixel bars for coded data, such as encoded define each pixel column of text character relative to this with the X-direction along texture
The relative position at the center of text string.Coded data can also be defined on interruption or mistake between the text character in text string
Cross.Although coded data can be provided with any desired mode in texture, coded data can be in the text of coding
More than the top of the location of pixels of string immediately or closely it is positioned in pixel column in texture.
Fig. 3 examples showns texture 50, the texture have three text strings being located therein, and these text strings are with street name
" Freemont Ave ", " Aurora Ave " and " First St " form.As will be understood by those, texture 50 is stored for group
Into the pixel color value of each pixel in the pixel of text character, these text characters form text string.In addition, directly in text
A pixel column more than more than the top of each text string in this string, such as at the top of this is provided in the form of encoding strip 52
Coded data.In general, the pixel value in the pixel column of composition encoding strip 52 is encoded to react each text character
Center pixel row and text character width or from any specific pixel column position to the center of associated text character
Distance.The pixel lines that encoding strip 52 is color constancy are illustrated in figure 3, it will be understood that encoding strip 52 actually includes being used for
The different colours or pixel value of its different pixels position.In addition, for example, by using small in Fig. 3 coding lines 52
The center pixel row that associate of each text character for making marks to indicate in the text character with text string of vertical lines.
The part of one of encoding strip 52 is more specifically illustrated in figure 3 a.Specifically, Fig. 3 A illustrate setting for encoding strip 52
It is placed in Fig. 3 " the part more than text character " Free " of Freemont Ave " text strings.Although in figure 3 a in various pictures
Text character F, r, e and e are shown in block embossment on plain value position, it is done so that only for illustrate text 50 and these
The pixel row and column of text character association.It will be understood that the pixel value in the storage of these location of pixels will define these specific text strings
Specific characteristics of image.Fig. 3 A encoding strip 52 is located in texture 50 directly more than the text string that encoding strip 52 is associated,
Such as in the pixel column directly more than the top pixel row of associated text string.In this case, in encoding strip 52
The value reflection of each pixel in pixel either specify position along the X direction or the texture 50 of the pixel column such as relative to
The width of the center measurement of specific text string directly in encoding strip below 52 in pixel column.In one example, may be used
So that in the pixel value of the central series of text character value 128 will be arranged to, and can for from the center pixel of center character arrange from
The value of the pixel offset from center pixel is incremented by (such as to the left) or (such as to the right) one that successively decrease by each pixel column opened.Example
Such as " pixel coverage more than " F " text string in Freemont Ave " text strings includes 12 pixels and center pixel has
Value 128, five pixels on the right side of center pixel have value 127,126,125,124 and 123 and on a center pixel left sides respectively
Four pixels of side have value 129,130,131 and 132 respectively.Encoding strip 52 can use the value of the red color of each pixel
To perform this coding but instead or additionally can be used for using other color values of pixel to text character center
And width coding.To the example of red pixel color value coding in the pixel column for defining encoding strip 52 wherein in texture 50
In, each pixel in encoding strip 52 has red color value, and the red color value compares pixel on the scale from 0 to 255
To currently below pixel or same pixel row in text character center distance more than 128.Can be for each
On the left of the pixel in encoding strip 52 of text character and right side includes an additional pixels and the additional pixels on left side have
Have such as 255 red value and pixel on right side with such as 10 red value to indicate the end of current text character string
End.Certainly, encoding strip 52 can be used for similarly encoding each character string immediately in encoding strip below 52 in text string.
In addition, although diagram encoding strip 52 is more than associated text string, but encoding strip 52 can be alternatively located on identical texture
Either can otherwise it be provided below interior text string, such as in additional or separation texture with associated with it
The text string mirror image arrived or the position of correlation.Under any circumstance, the column position of encoding strip 52 in position with associated text
The pixel column of string is related.But can with any other hope either useful mode encode or provide it is each in text string
The center of text character and width.
As storage and use the coded number that can be provided for each text string in texture in the form of encoding strip 52
According to result, image rendering system described herein can render the text character in these text strings, so as to draw a malapropism
Symbol is properly oriented within along multi-segmented line bar.Specifically, be can determine using coded data, image rendering system in each text
Any specific X-coordinate of the position (i.e. pixel column) along texture and the relative distance at the center of associated text character of character.
As will be described below, using this information, image colorant device, such as one of fragment shader 46 can be operated for just
Really draw rotation text, i.e. along bending lines text and among character it is free of discontinuities.
Second general step of text render process described herein determines that text string in the texture of coding will be with
With lines line segment.The step for can occur when rendering map image, and of course, the side of final rendering text string
The specific lines that formula will will follow dependent on the text to be rendered.Certainly, lines to be followed can be any desired line
Bar type, such as use based on the image object of vector come create the lines passed through along the center of road, follow border
Lines etc..Such lines can typically be determined and for rendering text to mark road or other characteristics of image.When
So, lines to be followed can be the lines of any other type, such as follow characteristics of image profile lines or any
Other desired lines.Lines to be used can according to other characteristics of image, such as image object summit to determine, can be with
It is pre-stored in map data base 12 and is provided from map data base 12, can be specified by user or can be with any other
Desired mode determines.
When identifying lines to render text along the lines, lines are decomposed to the line segment for being in line but connecting, wherein
Each line segment is typically at an angle of with immediately adjacent segments.The example of diagram multi-segmented line bar 60 is in dotted line embossment in Fig. 4
The lines passed through along the center of more merogenesis roads 62.The lines 60 of segmentation include line segment 60A, 60B, 60C and 60D of interconnection.
Of course, it is possible to any desired mode, such as based on the data lines 60 provided in the summit for defining the segmentation of road 60
And/or its association line segment.
The line segment 60A and 60B of Fig. 5 more specifically pictorial images 4.Line segment 60A is illustrated in Figure 5 to start simultaneously in starting point 66
And extend to end point 68, and illustrate line segment 60B and extend from starting point 68 and extend to end point 70.In addition, Fig. 5 line segment
60A have (such as according to number of pixels or according to some other distance quantify symbol such as relative to line will be being used thereon
Measured in space for the image of bar) length 35.In the case of fig. 5, instruction line segment 60A is relative reference value 0 (in point
66) start and extend along the scale 72 being be arranged in parallel with line segment 60A in Fig. 5 to relative reference value 35 (in point 68).With
Similar manner, line segment 60B have length 70 (in relative image space) and started simultaneously (in point 68) in relative reference value 35
And to relative reference value 105 (in point 68) extension shown in the scale 74 such as being be arranged in parallel with line segment 60B.
Once identifying each line segment in the line segment (such as 60A and 60B) of lines 60 and determining its length, can represent
Each line segment is used as the triangle pair for forming rectangle, and the rectangle is by referred to herein as text box.In fig. 5 this is illustrated for line segment 60A
The rectangle or text box 80A of sample.In general, rectangle 80A is by for defining the set on the summit for text box, the text
Frame is used for rendering text along line segment 60A by fragment shader.Specifically, rectangle 80A summit is selected with from image
The position of beginning is crossed over predetermined in (as measured on the direction of the length along line segment 60A) before line segment 60A beginning
Justice or specific distance (such as half by the width of the most wide character of the text string rendered along lines 60A) are arrived in line segment
Predefined or specific distance (such as half of the width of the most wide character in text string) before 60A end.In Fig. 5
Example in, it is illustrated that preset distance is 5 (in the spaces of image), thus rectangle 80A along scale mark 72 from -5 to
40 extensions.On the direction orthogonal with line segment 60A, rectangle 80A across on the direction orthogonal with line segment 60A another distance,
For example the half of the height for the highest text character to be rendered is to another distance on the other direction orthogonal with line segment 60A
(such as half of the height for the highest text character to be rendered).Therefore, as shown in Fig. 5 scale 75, rectangle 80A from -5 to
5 across (assuming that by the height of the text string rendered along lines in relative image space be 10).
Now calculate or determine be referred to as here line segment 60A it is scope, from starting point 66 to the whole of end point 68
Line segment 60A length, and this scope is set as the vertex attribute for each summit in text box 80A summit
Two components (and each summit in vertex of a triangle of the value of these vertex attributes for forming text box 80A is identical).
Thus the scope of line segment will act as or be referred to as to be provided with the text box 80A of line segment scope.Therefore, rectangle 80A model
Enclose by be line segment 60A scope, text will be rendered along the line segment.This scope will be used for interpolation in terms of in fragment shader
The length value on the summit for rectangle 80A is calculated, so as to which length of the linear interpolation from rectangle 80A one end to the other end produces online
Section 60A beginning, in line segment 60A end and between them correct length a little.Of course, it is possible to by from up to
Line segment 60A beginning, line segment 60A length subtracts the half (i.e. preset distance) of the width of most wide character and is used for this
Rectangle summit before line segment 60A and by the half (such as preset distance) of the width of most wide character and line segment 60A end
Length be added and this be used for rectangle summit after line segment 60A to perform this interpolation.Furthermore, it is possible to text box
The vertex assignment more than line segment specify the vertex attributes of Y texture values 0, and can be to the top below line segment of text box
Point assigns vertex attribute, and the vertex attribute specifies the equal Y texture values of the height of text with such as being rendered in image.Therefore scheme
The X of 5 rectangle 80A outer dead centre, Y-coordinate are (- 5,0), (40,0), (- 5,10) and (40,10) in image space, should
Image space centered on line segment 60A starting point 66 and (in the X direction) parallel with line segment 60A and it is orthogonal (in the Y direction
On) extension.There is provided this coordinate space use can not be only for the ease of example image in itself in or performing
The real coordinate space used in the tinter of interpolation and image rendering.But can by coordinate rotation and translation come realize to
The conversion in coherent image space is with the X with image, Y-coordinate spatial match.
If providing multiple text strings in identical texture, the texture is used to specify in text box (such as text box
The text string rendered in 80A), then it can also be necessary that the Y skews for sending the text string for the discussion such as stored up in texture memory (will
The Y skews of the text string rendered in text box) vertex attribute is used as so as to render correct text image in text box.
It can also be necessary to allow for rendering the tinter in the text string of texture memory storage along specific line segment (such as line segment 60A)
The size (such as height) of the text string in texture is known appropriately to calculate texture coordinate so as to when any specific
Between the position text character to be rendered and perform appropriate interpolation when rendering text string on image.But in texture
The size of character or text string (such as height) can be unified, and this value then can be set as uniform variable and
Not as the vertex attribute of text box.
As will be understood by those, can be for each line in other line segment 60B, 60C, 60D of lines 60 to be followed
Section forms rectangle or text box.As an example, text box 80B is illustrated in figure 6 for line segment 60B.Text box 80B is (existing
What is defined by scale 74 and 76) have on the top of (30,0), (110,0), (30,10) and (110,10) in relative image space
Point.In addition, the scope of this text box will be 35 to 105 because this be measured since lines 60, line segment 60B from
Its starting point 68 arrives the scope of its end point 70.
Each line segment in the line segment of the lines followed is being defined for rectangle or text for the text to be rendered
After two vertexs of a triangle of each rectangle or text box in this frame, apicad this can be sent by one of tinter 44
A little summits and their relating attribute (such as two-dimensional position and scope and text string coordinate) are to render for line to be followed
The text box of each line segment in the line segment of bar.These text boxes then can be by fragment once being defined by vertex shader 44
Tinter 46 is used for using one of text string of coding such as example stored in Fig. 5 texture at this with mode described below
Text is rendered in a little text boxes.
In general, during operation, fragment shader 46 determines what each line segment in the line segment for determination defined
Be in text box each pixel draw from text image if which pixel.More specifically, it is segmented along more
When lines render text, map application 48 using fragment shader 46 to be placed one at a time in various text boxes text box
Text from text image.In doing so, map application 48 selects a line segment in line segment to start along the line segment
Render specific text string and using the text box created for the line segment.First line segment selected or text box can be with them
In have value range 0 line segment or text box.When using this text box to operate, fragment shader 46 can be from appropriate
Texture access the pixel for the first text character to be rendered and the encoding strip 52 in texture can be used searching or
It is determined that the relative distance with the center of text character.Can be by using the length value of interpolation as the X-coordinate into texture
To perform this function, the width of the X-coordinate divided by texture with obtain for such as texture memory storage the character rendered position
The texture coordinate put.The Y-coordinate that enter texture can be calculated as the first pixel column in texture or if into texture
It is then the first row after texture skew to tighten multiple strings.In the current text character for the text string for finding to render, fragment
Tinter 46 reads appropriate color value from the encoding strip 52 of text string and subtracts 128 to determine the distance with the center of character.
The length for adding interpolation is given until the length at the center of character.The center of (if as being interpolated into image space) character falls
In the range of text box, then fragment shader 46 in text box rendering text image over the display one or more
Pixel.But if the center of the calculating of text character not between first and second limitation of the scope provided for text box,
The pixel of current text character should then be abandoned and do not draw pixel.More specifically, fragment shader 46 is in individual element
On the basis of perform the determination for each pixel that each text character whether is placed in text box therefore for each of analysis
Respective pixel perform text image pixel whether determination associate with the text character with central point, the central point fall ought
Before in the range of the text box that renders.Certainly, if it is desired to, then fragment shader 46 can be for each pixel of text image
Row perform this analysis (when trying to fill the respective pixel of text box) and in this case by the centers according to character
Whether fall to draw the text image pixel of row in text box in the range of text box or be not so.In any situation
Under, when not abandoning any specific pixel or pixel column, fragment shader 46 can use to be sat with identical texture X above
Mark and divided by the Y texture coordinates of the interpolation incoming as vertex attribute of texture height plus one or more search at this
The color for text of pixel column (according to the specific row of the row rendered).This should give the correspondence from the text rendered
Pixel is so as to correcting the centre code pixel more than text.
Certainly, if not in text box rendering text character pixel because the center of text character is in text box
Beyond scope, then map application 48 will using fragment shader 46 with either render handling (with along the next of lines or
Candidate line sections association) next or follow-up text frame when draw text character.Fragment shader 46 repeats to determine whether to answer
When the process for the pixel that text character is rendered in the text box currently selected is until tinter 46 fills text box, i.e. arrival text
The end of this frame.Once the pixel of text character, fragment are rendered in specific text box or using specific text box
Tinter 46 is tried to render the pixel of next text character in same text inframe and repeats this process until it reaches text
The end of this frame.As will be understood by those, it is that the size of text box that line segment is formed can be small and in fact can be less than
The size of character, because if (because extending beyond scope of its central point in text box) renders not in a text box
Character, then character will be rendered in follow-up text frame (i.e. the text box that the center of text character falls wherein).In this process
Period, the text box for not rendering text character wherein can be created.
The result of this process is that each text character rendered in the text character in text image faces up and (existed
Erect in the orientation of text box) and lines are followed, but wherein each text character is being rotated up surely with just along lines
Really follow multi-segmented line bar.As a result, text string can be precalculated and be stored in texture with the mode not rotated
And it can repeatedly be used for multiple lines with different curvature.
Referring now to Fig. 7 A and 7B, more specifically diagram can be used for texture or text string look-up table using coding,
Such as the texture or text string look-up table of Fig. 3 and 3A coding in image along lines render the method for text, routine or
The process flow diagram flow chart or flow chart chart of person's process 100.Only as an example, routine 100 can in map rendering engine, such as
Be used in Fig. 2 map rendering engine along the borders of more segmentation roads or in these borders and more specifically along with
Text is rendered with the lines at the center of the road, so as to which the text rendered is centered in road so as to cross over various points of road
Section.In general, can implement routine or process 100 as performed in processor 30a and 30b one or more is soft
Part routine or application including following routine, these routines are part and/or summit and the fragment shader 44 of map application 48
With the routine of 46 definition.It can be implemented or write and can with any desired language, such as Javascript, C code etc.
To perform these routines on one or two processors in processor 30a and 30b.In addition, these routines can use
Rasterizer 36 on display device 34 to render image.
Under any circumstance, characteristics of image, such as more merogenesis roads can be drawn or be formed to the block 102 of routine 100, will
Along the characteristics of image applicating text character.As the part of this process or after this process is completed, block 104 determines
Characteristics of image, such as the multi-segmented line bar of more merogenesis roads are followed, text string will be rendered along the multi-segmented line bar.In a reality
Apply in example, this multi-segmented line bar can follow the center lines of more merogenesis roads, than lines 60 as shown in Figure 4.Then, block
106 the adjacent merogenesis of each pair of multi-segmented line bar intersection point along multi-segmented line bar find or anchor point.Therefore, block 106 is sent out
The beginning and end point of each line segment of existing lines --- text will be rendered along the lines --- and can be to multi-segmented line
The line segment of bar assigns unique range.The scope of appointment should or seamless extension continuous across line section boundary.That is, line
The each line segment for starting and passing through the line segment and then passing through in follow-up line segment that the scope of bar can start from a line segment is continuous
Extension, there is same range and only shared public end point from without two line segments.
Then, block 108 forms text box with the mode discussed above with respect to Fig. 5 and 6 for each line segment.Can be for example on ground
Figure, which is applied, to be defined or calculates in the routine in 48 and then can send these texts to one of Fig. 2 vertex shader 44
The summit of frame in using rasterizer 36 come the image that renders to form text box.Certainly, the profile of text box will be transparent
Or without color, because text box will not be that (but if it is desired to so then they can for the visual aspect of the image rendered in itself
To be).Summit for each text box by positioning of the specified text box summit in image and will include and text box closes
The scope of the line segment of connection and if it is desired to then be incorporated as attribute including one or more, one or more reference is
To by the text string of the text rendered in text box.That is, if desired, then text box summit can include pointing to
The text string rendered along lines is located at the positioning by the pointer of the following positioning in texture as attribute.
Then in block 110, routine or process 100 select the first text box in text box with along first text box
Start to render the text string of reference.This text box will be usually the text box with zero (0) value range, because this value range
Starting position is indicated to start to render the text string in texture memory storage along the starting position.But such case is needed not to be,
And it can start to render text in any desired positioning of the lines along determination or position along lines.In any feelings
Under condition, the following starting point that block 112 (Fig. 7 B) is positioned in current or selection text box is determined as along the current of lines
Position, will render text in the starting point.This starting point can with and (in addition to the first text box) typically will be in text box
Beginning or font end.Block 114 and then acquisition and the row of the following text character such as in the text string of texture memory storage
The set of the pixel or pixel of association, text character correspond to the value range associated with along the current location of lines.
If block 116 it is then determined that the whole text character in the center for the text character that those pixels are associated will along
Whether the prelocalization of working as of lines is placed or is rendered in current text frame then (big in text in the range of current text frame
When matching in the small size for being interpolated to specify in the part as current text frame).Block 116 can be by reading texture
Encoding strip 52 more than the pixel of the text character of consideration performs this test.That is, block 116 can be read
Encoding strip 52 is used for the location of pixels (in the X-direction of texture) in encoding strip 52 of current text character (i.e. not with determination
Across value be 0 or 255 location of pixels pass through) and then identify this position as consideration text character center (along
The X-direction of texture).Alternatively or additionally, block 116 can using the width coding in encoding strip 52 with determine with ought be above
The distance at the center of this character.If the current pixel that current text accords with when being to be positioned over current text inframe by appropriate interpolation
Position is in the range of current text frame, then block 118 renders text word in the current location along lines in current text frame
Symbol when all pixels (in the size of appropriate interpolation) in forefront.On the other hand, if worked as by appropriate interpolation to be positioned over
The center pixel position of text character is not in the range of current text frame during preceding text inframe, then (block 122) skips over block 118,
So as to not render the current pixel of text character or current pixel row in text box.If it is desired to so, then can be in piece
These processes are performed in section tinter 46.Certainly, will be along text when fragment shader 46 renders text character in text box
X and the Y orientation of this frame render the pixel of text character, so as to by the setting defined in the orientation such as text box along lines
Position renders text character.In addition, in operation, routine 100 can perform the He of block 116 in succession on the basis of individual element
118, so as to which fragment shader analyzes what the pixel belonged to for each pixel separation in the specific pixel column of texture
Whether text character has the center in the range of text box.But to put it more simply, Fig. 7 A and 7B flow chart not
Indicate the operation of individual element but instead indicate to handle text character pixel on the basis of individual element arranges.
Under any circumstance, after all pixels of specific pixel column of texture have been analyzed, block 124 will be along line
The current location of bar is incremented to the next position, and block 126 determines whether current location exceeds the rear end of current text frame.If
It is not then to return control to the block 114 for obtaining next pixel (or set of the pixel in the pixel column of texture), and
The step of for next pixel column repeatable block 116-126 in text character, is so that check whether should be in current text inframe wash with watercolours
Contaminate those pixels.
But in block 126, if it find that the new position of lines is beyond the end of current text frame or beyond ought be above
The end of this frame, then block 130 (can be run) in the application 48 along lines rendering text and determines whether rendered use
In all text boxes of lines.If it is not, then block 132 determines the next text box to be rendered and to fragment shader 46
The details for providing text frame is used to render.Then control, the text image that 112 determinations associate with new text box are provided to 112
Starting point as defined in the beginning with new text box along lines position correspondence the point and set this point to make
For along the current location of lines.Then fragment shader 46 is operated for implementing block 114 to 126 for next text box.
When block 130 determines rendered last text box, the process of text string is rendered by for a text in texture along lines
This string is completed.
As will be understood by those, the center that routine 100 is substantially operated for finding each text character will be fallen into wherein
Along the text box of selection or the lines determined and draw in text frame whole text character.Due to the model of lines
Enclose for determining text character position relative to each other and this scope is continuous and the intersection point in adjacent text box is free of discontinuities,
So text character will be each comfortable relative to being rendered in the correct direction for rendering their text box wherein.Yet with every
The end of individual text box extends beyond the scope of text box, thus routine ensure whole text character can with and will be at one simultaneously
And only one text box, i.e. with following value range text box in be rendered, the center of text character is fallen into the value range.
This system enables text box to have the size of very little, in such a case it is possible to do not rendered in each text box text character,
For example can be in the case of the lines of continuous bend.Therefore, this technology enables lines of the text along any bending
Correctly rendered.
It will of course be understood that can rearrange either resequence and in other manner or sequence perform Fig. 7 A and
The various actions that 7B different masses are specified.Determine furthermore it is possible to awing perform or establish text box, because each text
Frame is it is determined that the text to be rendered falls becomes to be required when beyond current text frame rather than exist as described herein
Text is pre-established before rendering beginning or pre-determined text frame.
Although describe for the text string in texture encoding strip 52 be immediately or directly more than associated text string,
But can in texture in text string this encoding strip 52 presented below, or if it is desired to so, then even can with
The mode that some correlations of the pixel of associated text string either quote these pixels provides this in another texture or look-up table
Encoding strip 52.Furthermore it is possible to use the mode in addition to mode described herein including the mode pair with unused encoding strip 52
The center of each text character in text string it is position encoded.In addition, in the case of using encoding strip, coding techniques is unlimited
In for example using specific pixel value described herein.Therefore, although value described herein 128 is the text being used to refer in encoding strip 52
The center of this character, but other values can be used instead.Similarly, although the red color value of pixel column is used to retouch here
The encoding strip 52 stated, but one or more other pixel color value can be used instead.
In addition, as noted above, it is important that the fragment shader that text string is rendered along lines can determine
The center of each text character where in texture, so as to which fragment shader can determine whether the center of text character falls in text
In the range of this frame or beyond the scope of the current text box for rendering text character wherein.It is a kind of as noted above to determine
The mode at the center of character can be to texture either image look-up table in itself, such as texture or image shown in Fig. 3 and 3A
The centre code of character in look-up table, wherein single encoded bar is used for single text-string or group.
But use other coding techniques, it is possible to by the part that will be used as various different text strings in texture memory storage
(the either part as same text string) and the different text characters that render reduce texture or text as the set of font
The size of this string look-up table.In addition, such more coding techniques need to provide the first coding data for each text string,
The first coding data includes center and/or the width information of each text character for text string, and special including pointing to
Second coded data of fixed font, the font will be used as text character in each text character position of text string.Such as Fig. 8
Texture 200 is illustrated, the texture storage is used for the coding information 202,204 and 206 of three different text strings, wherein these text strings
The label or title for the different roads in such as map tile (tile) can be defined.Fig. 8 text code information
202nd, 204 and 206 example lines can for example define text string " Freemont Ave ", " Aurora Ave " and " First
St”.Each text string in the text string associated with coding information 202,204 and 206 can for example be provided with map image
It is interior to be rendered along different lines.In this case, each set difference in the set 202,204 and 206 of coding information
Including encoding strip 202A, 204A, 206A, these encoding strips have the pixel at the center for representing each text character in text string
Value and/or the distance from each specific center of the pixel column to associated text character.Encoding strip 202A, 204A and 206A and figure
3 and 3A encoding strip 52 is similar or identical.Also, merely for example, the center of each text character of text string is by encoding
Small vertical lines instruction in bar.But the set of substitution storage actual pixel value, the set of the pixel value are defined in texture
Text character below each encoding strip in encoding strip 202A, 204A, 206A, in the set of text string coding information
The 202nd, second coding lines are provided in each set in 204 and 206.Be illustrated as in fig. 8 encode lines 202B, 204B and
206B these the second coding lines are substantially the pointer for pointing to the position in the font field 210 of the memory storage of texture 200
Set.Each font in font in font field 210 can be fixed in text string coding information 202,204 and 206
The single text character used in one or more text string in the text string of justice.In this case, can be in text
One in the font in font field 210 is used in the identical or different text string that string encoding information 202,204 and 206 defines
Individual or multiple fonts are more than once.
Therefore, in fig. 8 in shown coding techniques, each text string coding information lines or set 202,204 and 206
The set of first coding data including set 202A, 204A, 206A for being formed as pixel value, the set instruction of the pixel value exist
Width, spacing and the center of each character (or font) in associated text string and the different texts in associated text string
The relative spacing of character or font relative to each other.In addition, 202,204 and of each text string coding information lines or set
206 include the second pixel lines or set 202B, 204B, 206B, and the second pixel lines or set definition are such as in font
The position of the font stored in field 210 or positioning, what the position that the glyph definition is used in associated text string used
Specific text string.
Can the memory storage second of texture 200 or more coding lines 202B, 204B, 206B as with the first line of codes
Bar 202A, 204A, 206A be adjacent, such as in first coding lines 202A, 204A, below 206A separation pixel lines.One
In individual embodiment, second coded data lines 202B, 204B, 206B can include for example such as in first coding data lines
The separated sets for the font pointer value that the center of each text character defined in 202A, 204A, 206A starts.As showing
Example, the set of each font pointer value can include the pixel value of four codings, and the pixel value of these codings points to font together
The position of specific font in field 210.Only as an example, can be the of two pixel values (the first and second pixel values)
The X position of the font of the reference such as stored in font field 210 is stored in one set, and can be in two pixel values the (the 3rd
With the 4th pixel value) second set in store the Y location of the font of reference such as stored in font field 210.As more
Specific example, can be by storing the X values for the font quoted in the first location of pixels divided by 256 and being deposited in the second location of pixels
Remainder (X is mould with 256) is stored up to store X-coordinate in the first and second pixel values.In a similar manner, can be by the 3rd picture
The Y value for the font that the storage of plain position is quoted divided by 256 and come in the 4th location of pixels storage remainder (Y is mould with 256) the
The Y-coordinate of the font of reference is stored in three and the 4th pixel value.Of course, it is possible to any other offer or coding is used instead
The mode of pixel value with position indicator pointer, the other positions that these position indicator pointers are pointed in texture 200 (or are even pointed to
Position in the different texture for wherein storing font).In addition, the position that font pointer is quoted can be in association font
Any other predefined position of the heart, the turning of font position, such as upper left corner, lower right corner or font.Although such as exist
The font stored in texture 200 can be predetermined or predefined size, but their size can also change.It is latter at this
In the case of kind, coding lines 202A, 204A, 206A can be used for defining the width of font to be restored, and can be with fixed word
The height of shape.Alternatively, second coding lines 202B, 204B, 206B of text string information 202,204,206 can also include treating
The size of the font of acquisition.In another embodiment, font can have the set for the pixel value for defining their size in itself,
And the set of this pixel value can be recovered first to determine the definite picture associated with any specific font in texture
Plain position.
Certainly, one in text string is actually allowed using two or more encoding strip as shown in Fig. 8 example
The each text character or font that other places use in individual either multiple text strings are stored in texture 200 only once, because this
In-line can be quoted many times by identical the latter's difference text code bar.This dual coding technology is saved or reduced and downloading
It is used for performing when the set of multiple text boxes either renders text along multiple different lines or in equipment 40 with storage
Processor 30a and 30b between the space that is needed for texture when sending these textures or data.In addition, although in Fig. 8
Second data encoding line 202B, 204B, 206B of middle diagram immediately or is slightly associating first coding data to be respectively arranged at
Lines 202A, 204A, below 206A pixel column in, but second data encoding line 202B, 204B, 206B can be in texture
Other positions are stored in 200, such as more than first coding data lines or even as being used for first coding data line
The set of the pixel value of the different colours field of bar.For example, if first coding data lines are stored in location of pixels row, it is somebody's turn to do
Location of pixels exercises the red pixel value with the pixel column, then the second coded data lines can be stored in this same pixel row
Blueness or green pixel values in.
In some cases, as shown in Figure 9, it may be desirable to create or render the text string with overlapping character.
In Fig. 9 example, " r " and " A " is overlapping, because the part (i.e. the left column of pixel value) of " A " is located at the pixel value of " r " most
In right row identical X-coordinate.It can not carry out wash with watercolours using single text code window on Fig. 3,3A and 8 diagrams and the coding techniques of description
Text as dye, because the position of the text character in text string is serially defined so as to need all in single pixel lines
Clear transition between the end of text character and the beginning of adjacent character.
Overlay text character or font are rendered in public text string in order to allow either to realize, pass can be changed
In Fig. 3,3A and 8 describe coding techniques with include for each text string coding lines set.In Figure 10 texture 250
Technology as middle diagram.In this case, it is illustrated that single text string 252 is to include two different coding lines technologies 254
With 256 and each encode lines include on Fig. 8 description two encoding strips.In this case, (text string can be defined
" Freemont Ave's ") the first character 260 of text string information 252 in the set 254 of upper coding lines and including
Encoding strip 260A, the encoding strip define the center of text character (in the X direction) and the width from the center of the first character or
Distance, and also include the second coding lines 260B, the second coding lines point to will be used for first in font field 210
The position of the font of text character.But the second character 262 of text string information 252 is located in lower lines 256 and wrapped now
Encoding strip 262A is included, the encoding strip defines the center of the second text character (in the X direction) and the width from the center of the second character
Degree or distance, and also include the second coding lines 262B, the second coding lines point to will use in font field 210
In the position of the font of the second text character.As shown in Figure 10, not the going together in texture 250 due to encoding strip 260A and 262A
On, so they may have overlapping location of pixels or pixel column when being rendered on image.Therefore, such as institute in Figure 10
Show, the first character 260A most right pixel column is overlapping with the second character 262A most left pixel column.Read the set 254 of encoding strip
Fragment shader with 256 only needs to read two coding lines to identify the next character to be rendered for text string 252.
Fragment shader for example alternately can find next character, can read two between the set 254 and 256 of coding lines
It is individual coding lines set 254 and 256 and determine no matter next character (finds which based on next center detected
Encode next center of lines).Of course, it is possible to the collection of two coding lines is used in the case of text character is nonoverlapping
Close 254 and 256, one of set 254 and 256 of (1) coding lines in this case will without information therefore can be ignored or
(2) being used for the encoding strip of the adjacent text characters of two coding lines 254 and 256 will not overlap.Equally, such as the number of coding
According to set 270 and 280 it is shown in Fig. 10, each wherein with multiple coded datas set multiple text string encodings
The set of data can be stored in texture 250 together with font field 210.
Figure 11 illustrates texture 290, and the texture is located at immediately adjacent with center and width coding bar 52 in text character pixel
In the case of by two coding lines be used for single text string.Specifically, Figure 11, which is shown in Fig. 3 texture, applies overlapping volume
The mode of code data, the texture quote font without using coded data, the coded data.Specifically, in the example of fig. 11,
Two coding lines are used for providing text string " Freemont Ave. " " F " and " r " and most latter two word as text string
" e's " and " " of symbol is overlapping.
Rendered and text encoding techniques of course, it is possible to be changed with any number of mode or change text described herein
To provide a kind of image rendering system for having the ability to render indivedual text characters in text string along bending, such as multi-segmented line bar
System, such as map rendering system.
Through this specification, multiple examples can be implemented to be described as part, operation or the structure of single instance.Although figure
The individual operations for showing and describing one or more kinds of methods are individually operated, but can perform one in individual operations parallel
Or multiple individual operations and failed call perform operation according to shown order.It can be embodied in and separation unit is used as in example arrangement
Part and the structure or part of the 26S Proteasome Structure and Function that presents as combination.Similarly, it is possible to implement presented as single part
26S Proteasome Structure and Function as separate part.These and other change, modification, addition and improvement fall into subject content here
In the range of.
Such as network 25 can include but is not limited to LAN, MAN, WAN, movement, wired or wireless network, dedicated network
Or any combinations of VPN.In addition, although illustrate only four client devices in Fig. 1 so that description simplify and
It is clear, it is understood that any number of client computer or display device are supported and can communicated with server 14.
In addition, some embodiments described herein are to include logic either multiple parts, module or mechanism.Module can be with structure
Into software module (such as the code either embodied in the transmission signal in machine readable media) or hardware module.Hardware mould
Block is to be able to carry out the tangible unit of some operations and can configure or arrange by some way.In example embodiment
In, one or more computer system (such as separate customer end either server computer system) or computer system
One or more hardware module (such as processor either processor group) can be by software (such as apply or application obscure portions)
Configure as hardware module of the operation for performing some operations as described herein.
In various embodiments, hardware module can mechanically or electronically be implemented.Such as hardware module can include
Enduringly configured (such as application specific processor, such as field programmable gate array (FPGA) or application specific integrated circuit
(ASIC)) it is used for the special circuit device or logic for performing some operations.Hardware module can also include temporarily being matched somebody with somebody by software
Put for perform some operations FPGA either circuit arrangement (such as be contained in general processor or it is other can
In programmed process device).It will be understood that for mechanically, in special and persistent configuration circuit arrangement or in the electricity temporarily configured
The decision-making of road device (such as by software merit rating) can consider driving by cost and time.
Thus, term hardware be appreciated that cover tangible entity, i.e. by physically construction, by persistent configuration (such as
Hardwire) either it is used to operating or performing some operations described herein in some way by temporary transient configuration (such as programming)
Entity.Consider the wherein temporary transient embodiment of configuration (such as programming) hardware module, without in the configuration of any one time instance or
Person instantiates each hardware module in hardware module.Such as in hardware module including the use of software come the general processor that configures
When, general processor can be configured as corresponding different hardware module in different time.Software can be handled correspondingly in configuration
Device is for example to be formed specific hardware module in a time instance and be formed different hardware module in different time example.
Hardware and software module can provide information to other hardware and/or software module and from other hardware and/or soft
Part module receive information.Thus, the hardware module of description, which can be considered as, to be communicatively coupled.In multiple such hardware or soft
Part module simultaneously in the presence of, can be transmitted by connecting the signal of hardware module (such as by proper circuit and bus) realize it is logical
Letter.Wherein in different time configuration either instantiates the embodiment of multiple hardware modules or software, can for example it pass through
Information is stored and fetched in the memory construction of such hardware or software module Internet access to realize in multiple hardware
Or the communication between software module.Such as a hardware or software module can perform operation and be communicatively coupled at it
To memory devices in store the output of the operation.Then another hardware or software module can deposit in time access afterwards
Storage device is to fetch and handle the output of storage.Either software module can also be initiated and inputted or output equipment hardware
Communicate and resource (such as information taken) can be operated.
The various operations of exemplary method described herein can at least partly by by (such as software) temporarily configuration or by
Persistent configuration is used for one or more computing device for performing associative operation.Either temporary transient or persistent configuration, so
Processor may be constructed operation be used for perform one or more operation or function by processor implement module.Here
Signified module can include the module that processor is implemented in some example embodiments.
Similarly, method or routine described herein at least partly can be implemented by processor.Such as the operation of method
In at least some operations can by one or more processor or by processor implement hardware module perform.In operation
The execution of some operations can be distributed among one or more processor, not only reside in individual machine, still
Disposed across multiple machines.In some example embodiments, one or more processor can be located at single position (such as
In domestic environment, office environment or as server zone), and in other embodiments, can be across multiple positions
Distribution processor.
One or more processor can also be operated for supporting " in cloud computing environment or as " software takes
Business " (SaaS) performs associative operation.Such as at least some operations in operation can be by calculating unit (as including processor
The example of machine) perform, these operations are via network (such as internet) and (such as should via one or more appropriate interface
It may have access to routine interface (API).
The execution of some operations in operation can be distributed among one or more processor, not only reside at list
In individual machine but multiple machines are across to dispose.In some example embodiments, one or more processor or by
The module that reason device is implemented can be located at single geographical position (such as in home environment, office environment or server farm).
In other examples embodiment, it can implement across one or more processor of multiple location distributions or by processor
Module.
In the number to being stored in as position or binary digital signal in machine memory (such as computer storage)
According to operation algorithm or symbol expression in terms of present this specification some parts.These algorithms or symbol represent it is several
It is used for passing on the example of the technology of their work essence to others skilled in the art according to process field those of ordinary skill.
As used herein, " algorithm " either " routine " be facilitate desired result from coherency operation sequence or similar processing.At this
Wen Zhong, algorithm, routine and operation are related to the physical manipulation to physical magnitude.Generally still and nonessential, such quantity can
With using the shape that can be stored by machine, access, transmit, combine, compare the electricity either manipulated in addition, magnetic or optical signalling
Formula.The reason for primarily for common usage and use such as " data ", " content ", " position ", " value ", " element ", " symbol ", " word
Symbol ", " item ", " number ", the wording such as " numerical value " refer to that these signals are sometimes convenient.But these wordings are only for convenience of mark
And it will be associated with suitable physical quantity.
Unless otherwise specific statement, used here as such as " processing ", " calculating ", " computing ", " it is determined that ", " presentation ", " aobvious
Show " etc. the discussion of wording can refer to action or the process of following machine (such as computer), the machine manipulates or conversion
In one or more memory (such as either its combination of volatile memory, nonvolatile memory), register or connect
Receive, store, transmission is either expressed as physics (such as electronics, magnetic or optics) quantity in other machine parts of display information
Data.
As used herein, any reference to " one embodiment " or " embodiment " means that combining the embodiment describes
Specific element, feature, structure or characteristic be contained at least one embodiment.Phrase " in one embodiment " occurs
Identical embodiment is not necessarily all referring to everywhere in specification.
It can be reached using expression " coupling " and " connection " and its derivative table to describe some embodiments.Such as art can be used
Language " coupling " describes some embodiments to indicate that two or more element mutually directly physically and electrically contacts.But term
" coupling " may also mean that the mutually not direct contact of two or more element but still mutual cooperation or interaction.It is real
It is unrestricted in this context to apply example.
As used herein, term " comprising ", " having " or its any other change be intended to cover it is non exhaustive including.Example
Such as process, method, article or device including element list are not necessarily limited to those elements but can include being not known arranges
The other elements of either such process, method, article or the device lifted inherently.In addition unless clearly state otherwise, " or
Person " refer to include meaning either rather than exhaustive meaning or.Such as any one of the following meet condition A or
B：A be true (either existing) and B be false (or in the absence of), A is false (or in the absence of) and B is true and A and B is
Very (or presence).
In addition, the use to " one/a kind of " is used for describing the element and part of embodiment here.So do only for
General significance that is convenient and providing the present invention.It is including one or at least one that this description should be understood, and odd number removes
It is non-it is apparent that it meant otherwise then also include it is multiple.
In addition, accompanying drawing describes a kind of preferred embodiment of map rendering system only for example.Those skilled in the art
To be readily recognized that from following discussion can be with the alternative of structures and methods depicted herein and without departing from described herein
Principle.
When reading present disclosure, it will be appreciated by those skilled in the art that standby for more adding for following system and process
26S Proteasome Structure and Function is selected to design, the system and process are used to render map or other types of figure using principle disclosed herein
Picture.Therefore, specific embodiment and application while there has been illustrated and described that, it will be understood that disclosed embodiment is not limited to public affairs here
The accurate construction and part opened.Can be to make this area skill in methods disclosed herein and the arrangement of device, operation and details
Various modifications, change and change that art personnel will be clear that and without departing from Spirit Essence and model defined in the appended claims
Enclose.
Claims (113)
1. it is a kind of be used for render on the display device image by computer-implemented method, including：
The lines in described image are determined using computer equipment, text string, the text string are rendered along the lines
The set of the text character of pixelation is stored as in image look-up table；
Determine multiple line segments for being associated with the lines using the computer equipment and associate with the length of each line segment
Scope；
Text box is formed for each line segment in the multiple line segment using the computer equipment, it is every in the text box
Individual text box is oriented for the line segment along association in erection position rendering text；
The text character that render the text string wherein in the text box is selected using the computer equipment
One text box；
Institute using the computer equipment from the set for the text character that pixelation is stored as in described image look-up table
State a text character in the text string selection text character；
Determine the center of one text character in the text character when in the figure using the computer equipment
When being rendered in one text box as in the text box whether by with it is one in the text box
In the scope of the line segment of text box association；And
If the center of one text character in the text character is when one text in the text box
By in the scope of the line segment associated with one text box in the text box when being rendered in frame, then make
The text is rendered on the display device with the computer equipment, using one text box in the text box
One text character in character；And if the center of one text character in the text character is when in institute
Stating will not associate when being rendered in one text box in text box with one text box in the text box
The line segment the scope in, then without using one text box in the text box on the display device wash with watercolours
Contaminate one text character in the text character.
2. it is according to claim 1 by computer-implemented method, in addition to：If described one in the text character
The center of individual text character when being rendered in one text box in the text box will not with the text
In the scope of the line segment of one text box association in this frame, then the different texts in the text box are selected
Frame is as one text box in the text box with described in being rendered on the display device in the text character
Used in one text character.
3. it is according to claim 1 by computer-implemented method, in addition to：From what is stored up in described image look-up table
The text string selects each text character in the text character in turn, and for each choosing in the text character
The text character selected, perform following steps：
The center of a text character of the selection in the text character is determined using the computer equipment
When being rendered in one text box in the text box whether by with one text in the text box
In the scope of the line segment of this frame association,
If the center of a text character of the selection in the text character is when the institute in the text box
State described in the line segment associated with one text box in the text box when being rendered in a text box
In the range of, then using the computer equipment, using one text box in the text box on the display device
A text character of the selection in the text character is rendered, and
If the center of a text character of the selection in the text character is when the institute in the text box
State not in the institute of the line segment associated with one text box in the text box when being rendered in a text box
In the range of stating, then select different text boxes in the multiple text box as one text box in the text box with
Render on the display device and used in a text character of the selection in the text character.
4. it is according to claim 1 by computer-implemented method, wherein determining one in the text character
The center of text character when being rendered in one text box in the text box whether will with the text
Include reading in the scope of the line segment of one text box association in this frame and be used in the text character
The set of the coded data of one text character, the coded data specify one text in the text character
The center of character at least one direction.
5. according to claim 4 by computer-implemented method, wherein reading for described in the text character
The set of the coded data of one text character includes reading coded data, and the coded data is specified in the text character
The width of one text character.
6. it is according to claim 1 by computer-implemented method, wherein being each line segment shape in the multiple line segment
Into length direction of the text box including forming the association line segment being oriented along in the line segment in the text box
Each text box.
7. it is according to claim 1 by computer-implemented method, wherein being each line segment shape in the multiple line segment
Include being formed into text box and be oriented along associating the length direction of line segment and in the association line in the line segment
There is each in the text box of the length bigger than the scope of the association line segment on the direction of the length of section
Text box.
8. it is according to claim 7 by computer-implemented method, wherein being each line segment shape in the multiple line segment
The each text box for including being formed in the text box into text box so that the initiating terminal of each text box rises the line segment
Preset distance is upwardly extended in the side of the length of the association line segment before top, and the end of the text box is exceeded
The end of the line segment upwardly extends the preset distance in the side of the line segment.
9. it is according to claim 8 by computer-implemented method, wherein the preset distance is searched in described image
Width of the text character when being formed in the text box in the text character of the text string stored in table
The half of degree.
10. it is according to claim 7 by computer-implemented method, wherein being each line segment shape in the multiple line segment
The each text box for including being formed in the text box into text box so that the height of the text box and the association line segment
Direction orthogonally extends preset distance.
11. it is according to claim 10 by computer-implemented method, wherein the height of the text box is in the figure
As the text string stored in look-up table the text character in a text character when being formed in the text box
When height.
12. it is according to claim 1 by computer-implemented method, in addition to：Use the piece in the computer equipment
Section tinter is to determine the center of one text character in the text character when institute in the text box
Whether state when being rendered in a text box by the line segment associated with one text box in the text box
In the scope；And if one text character in the text character is when one in the text box
By in the scope of the line segment associated with one text box in the text box when being rendered in text box,
Described one in the text character is then rendered on the display device using one text box in the text box
Individual text character.
13. a kind of image rendering engine, including：
Communications network interface；
Processor；
It is coupled to the memory of the processor；
It is coupled to the display device of the processor；
The first routine stored in the memory, perform on the processor to be received via the communications network interface
The set of vector data including the data that define one or more image object, and from the memory obtain one or
The multiple text string look-up tables of person, wherein a text string look-up table in the text string look-up table stores at least one text string
Set and coded data of the text character as the text character of pixelation, the coded data definition and the text string
The center of each text character in multiple text characters of association；
The second routine stored in the memory, perform on the processor to determine the multiple line segments associated with lines
The scope associated with the length with each line segment, the text string will be rendered along the lines；
The 3rd routine stored in the memory, perform on the processor to determine to be used in the multiple line segment
The text box of each line segment, each text box in the text box are oriented for drawing in erection position along association line segment
Text；And
The 4th routine stored in the memory, perform on the processor with：
Select a text box of the text character that render the text string wherein in the text box；
Select one or more pixel of next text character in the text character of the text string；
Determine that the center of next text character in the text character ought be on the image in the text box
Whether will be closed when being rendered in one text box of the selection with a text box of the selection in the text box
In the scope of the line segment of connection；And
If one of the selection in the text box is worked as at the center of next text character in the text character
By the institute of the line segment associated in a text box with the selection in the text box when being rendered in individual text box
In the range of stating, then rendered using one text box in the text box on the display device in the text character
Next text character the pixel, and if the center of next text character in the text character is worked as
When being rendered in one text box in the text box by not with one text box in the text box
In the scope of the line segment of association, then without using one text box in the text box in the display device
On render the pixel of next text character in the text character.
14. image rendering engine according to claim 13, wherein the 3rd routine includes vertex shader.
15. image rendering engine according to claim 13, wherein the 4th routine is including the use of fragment shader
Using.
16. image rendering engine according to claim 13, wherein the 4th routine selects to be used in turn in the text
The pixel of each text character in the text character of the text string of this string look-up table storage, and for described
One text character of each selection in text character：
Determine the center of a text character of the selection in the text character when in the text box
Whether by the line segment associated with one text box in the text box when being rendered in one text box
The scope in,
If the center of a text character of the selection in the text character is when the institute in the text box
State described in the line segment associated with one text box in the text box when being rendered in a text box
In the range of, then rendered using one text box in the text box on the display device in the text character
One text character of the selection, and
If the center of a text character of the selection in the text character is when the institute in the text box
State not in the institute of the line segment associated with one text box in the text box when being rendered in a text box
In the range of stating, then select different text boxes in the multiple text box as one text box in the text box with
Render on the display device and used in a text character of the selection in the text character.
17. image rendering engine according to claim 13, wherein the 4th routine is operated to determine by following
The center of next text character in text character is stated when a text of the selection in the text box
When being rendered in frame whether described in the line segment that will be associated in a text box with the selection in the text box
In the range of：Read the set of the coded data for one text character in the text character, the coded data
The center of one text character at least one direction in the text character is specified, and uses the text
The position at the center of one text character in this character is to determine one text in the text character
The center of character when being rendered in one text box in the text box whether will with the text box
In one text box association the line segment the scope in.
18. image rendering engine according to claim 13, wherein the 3rd routine is oriented along by being formed
The text box of the length direction of association line segment in the line segment to form text box for each line segment in the multiple line segment.
19. image rendering engine according to claim 18, wherein the 4th routine formed be oriented along it is described
Length direction, in the text box each text box of association line segment in line segment so that every in the text box
Individual text box has the length bigger than the scope of the association line segment on the direction of the length of the association line segment.
20. a kind of method for rendering text along lines in the image being rendered on the display device, including：
Text string look-up table is stored in computer storage, the text string look-up table includes the multiple texts associated with text string
This character and coded data, the coded data define each in the multiple text character associated with the text string
The center of text character；
It is determined that the multiple line segments associated with the lines in described image and the scope associated with the length of each line segment, will be along institute
State lines and render the text string；
Text box is formed for each line segment in the multiple line segment, each text box in the text box is oriented for
Along association line segment in erection position rendering text in described image；And
For each text character in the text string：
Select a text box of the text character that render the text string wherein in the text box；
Work as from the center that the text string look-up table reads the coded data and determines the text character
When being rendered in one text box of the selection in the text box whether by with the selection in the text box
A text box association the line segment the scope in；And
If the center of the text character is when quilt in a text box of the selection in the text box
By in the scope of the line segment associated in a text box with the selection in the text box when rendering, then make
The text in described image is rendered on the display device with a text box of the selection in the text box
Character, if or additionally, the center of the text character is when one of the selection in the text box
By the line segment not associated in a text box with the selection in the text box when being rendered in individual text box
In the scope, then a text of the different text boxes in the text box as the selection in the text box is selected
Frame.
21. the method according to claim 20 that text is rendered along lines, wherein being read from the text string look-up table
The coded data for a text character in the text character includes reading coded data, and the coded data refers to
The centre bit of one text character on the direction of the length along the text string in the fixed text character
Put.
22. the method according to claim 21 that text is rendered along lines, wherein being read from the text string look-up table
The coded data for one text character in the text character includes reading coded data, the coded number
According to the width of length of the one text character specified in the text character along the text string.
23. the method according to claim 20 that text is rendered along lines, wherein to be each in the multiple line segment
Line segment, which forms text box, to be included being oriented each text to form the length direction along the association line segment in the multiple line segment
This frame.
24. the method according to claim 20 that text is rendered along lines, wherein to be each in the multiple line segment
Line segment, which forms text box, to be included being oriented to be formed along the length direction of the association line segment in the line segment and described
Associating has each text box of the length bigger than the scope of the association line segment on the direction of the length of line segment.
25. the method according to claim 24 that text is rendered along lines, wherein to be each in the multiple line segment
Line segment, which forms text box, to be included forming each text box so that the initiating terminal of each text box is before the initiating terminal of the line segment
Preset distance is upwardly extended in the side of the length of the association line segment, and causes the end of each text box to exceed the association
The end of line segment upwardly extends the preset distance in the side of the line segment.
26. the method according to claim 25 that text is rendered along lines, wherein the preset distance is and the text
The half of width when a text character in the multiple text character of this string association is formed in the text box.
27. the method according to claim 25 that text is rendered along lines, wherein to be each in the multiple line segment
Line segment, which forms text box, to be included forming each text box so that the height of the text box is orthogonally prolonged with associating the direction of line segment
Stretch preset distance.
28. the method according to claim 27 that text is rendered along lines, wherein the height of the text box is and institute
State a height when text character in the multiple text character of text string association is formed in the text box.
29. the method according to claim 20 that text is rendered along lines, wherein storing institute in computer storage
Stating text string look-up table includes pixel value of the storage coded data as each pixel column of the text string, the coded data
Define the center of each text character in the multiple text character associated with the text string.
30. the method according to claim 20 that text is rendered along lines, wherein storing institute in computer storage
Stating text string look-up table includes pixel value of the storage coded data as each pixel column of the text string, the coded data
The center of each text character in the multiple text character associated with the text string is defined, wherein specific picture
Plain value is used for defining the center of text character, and is used for from the specific pixel value increase or the pixel value reduced
Indicate text character each pixel column to the center of the text character distance.
31. the method according to claim 20 that text is rendered along lines, wherein storing institute in computer storage
The set for the font field memory storage font that text string look-up table is included in the text string look-up table is stated, and stores and is used for
The further coded data of each text character in the text string, the further coded data quote the word
A font in shape is used as the text character with the position in the text string.
32. the method according to claim 31 that text is rendered along lines, it is included in the text string look-up table and deposits
The coded data and the further coded data are stored up to be mutually associated according to position.
33. a kind of map image rendering system, including：
Database, the storage vector image data relevant with map, the vector image data include defining one or more
The data of image object and one or more text string look-up table a, wherein text string in the text string look-up table is looked into
Look for the table text character that is associated with least one text string to be rendered of storage as the text character of pixelation set with
And coded data, the coded data are defined in each text character in the multiple text characters associated with the text string
Heart position；And
Map image rendering apparatus, the database is communicatively coupled to use the vector image number relevant with map
Map image, the map image rendering apparatus bag are rendered according to and using the vector image data relevant with map
Include：
Processor；
It is coupled to the memory of the processor；
It is coupled to the display device of the processor；
One or more application stored on the memory, when being performed on the processor：
It is determined that the multiple line segments associated with lines and the scope associated with the length of each line segment, will render text along the lines
This string；
Text box is formed for each line segment in the multiple line segment, each text box in the text box is oriented for
Defined along association line segment in erection position rendering text in described image and with the scope by the association line segment
Value range set；And
For each text character in the text string：
(1) coded data is read from the text string look-up table；
(2) text box with value range is determined, the center of the text character will be in the text character
Fallen into when being rendered on the image in the value range；And
(3) using the determination in the text box text box rendered on the display device text character as
The part of described image.
34. map image rendering system according to claim 33, wherein the coded data also defines and the text
The width of each text character in the text character of string association.
35. map image rendering system according to claim 33, wherein one or more of applications include one
Or multiple images tinter, one or more of image colorant devices are oriented along in the line segment by being formed
Associating has on the direction of the length direction of line segment and the length in the association line segment than described in the association line segment
Each text box in the text box of the bigger length of scope forms text for each line segment in the multiple line segment
This frame.
36. map image rendering system according to claim 35, wherein one or more of image colorant devices are
Each line segment in the multiple line segment forms text box so that the initiating terminal of each text box the line segment initiating terminal it
The side of the preceding length in the association line segment upwardly extends preset distance, and causes the end of the text box to exceed the line
The end of section upwardly extends the preset distance in the side of the line segment.
37. map image rendering system according to claim 33 a, wherein text in the text string look-up table
Look-up table of going here and there stores the pixel value that the coded data is used as each pixel column for text string, the coded data definition and
The center of each text character in the text character of the text string association, wherein specific pixel value is used for determining
The center of adopted text character, and from the specific pixel value increase or reduce other pixel values to indicate in text
The distance of the center to the text character at each pixel column of character.
38. map image rendering system according to claim 33 a, wherein text in the text string look-up table
Go here and there the set of font field memory storage font of the look-up table also in the text string look-up table, and store for and the text
The further coded data of each text character of this string association, the further coded data are quoted in the font
One font is used as the text character with the position in the text string.
39. map image rendering system according to claim 33, wherein one or more of image colorant devices lead to
Following operation is crossed to determine to have the text box of value range, the center of the text character will be in the text
Fallen into when character is rendered on the image in the value range：
A text box of the text character that render the text string wherein in the text box is selected,
Determine the center of the text character when quilt in a text box of the selection in the text box
Whether by the scope of the line segment associated in a text box with the selection in the text box when rendering,
And
If the center of the text character is when quilt in a text box of the selection in the text box
By in the scope of the line segment associated in a text box with the selection in the text box when rendering, then make
The text in described image is rendered on the display device with a text box of the selection in the text box
Character, or else if a text of the selection in the text box is worked as in the center of the text character
Described in the line segment that will do not associated when being rendered in this frame in a text box with the selection in the text box
In the range of, then select a text box of the different text boxes in the text box as the selection in the text box.
40. it is a kind of be used for render on the display device image by computer-implemented method, including：
The text string to render in the picture is determined using computer equipment, the text string is stored in image look-up table
For the set of the text character of pixelation；
Analyze and determine to be stored in the text word of the text string in described image look-up table using the computer equipment
The pixel of one or more position of association is accorded with, is rendered for the specific position in described image；
The volume associated with the text character of the text string is read from described image look-up table using the computer equipment
Yardage determines the center of the text character in described image look-up table according to this；And
Use the position of the center of the computer equipment based on the text character in described image look-up table
The specific position in described image render in the text character of the text string positioned at one or
The pixel of multiple positions,
The coded data that associate with the text character is wherein read including reading with being stored in described image look-up table
The coded data that the adjacent position of the pixel of the text character of the text string stores in described image look-up table.
41. according to claim 40 by computer-implemented method, wherein based on described in described image look-up table
The specific position of the position of the center of text character in described image renders the institute in the text string
Stating the pixel in text character positioned at one or more of positions includes：Determine the center of the text character
Position whether will be in the range of the text box when being rendered in text box on the image；And in the text
The center of character in the text box on the image when being rendered by the scope of the text box
When, the specific position in described image render in the text character of the text string positioned at one or
The pixel of the multiple positions of person.
42. it is according to claim 41 by computer-implemented method, in addition to：At the center of the text character
Position when being rendered in the text box on the image by when beyond the scope of the text box, not in institute
The specific position stated in image is rendered in the text character of the text string positioned at one or more of
The pixel of position.
43. it is according to claim 40 by computer-implemented method, wherein reading the volume associated with the text character
Code data include the coded data for reading the width for specifying the text character.
44. it is according to claim 40 by computer-implemented method, wherein reading the volume associated with the text character
Code data include the coded data for being read as the specific pixel column storage of the text character, and the coded data is specified from institute
The specific pixel column of text character is stated to the distance of the pixel column in the center of the text character.
45. it is according to claim 40 by computer-implemented method, wherein the text character of the text string is deposited
Storage is used as pixel field in described image look-up table, and the pixel field has the text character for the text string
Multiple pixel columns and multiple pixel columns, wherein the coded data is stored as the coded number adjacent with the pixel field
According to row, and the coded data that is associated with the text character of the text string is wherein read to determine that described image is looked into
The center for the text character looked in table include from the coded data row, in the specific pixel column phase with text character
Read the coded data of the specific pixel column for the text character in position in same row.
46. according to claim 40 by computer-implemented method, wherein described image look-up table is 2 d texture
Figure.
47. a kind of image rendering engine, including：
Processor；
It is coupled to the memory of the processor；
It is coupled to the display device of the processor；
The text string look-up table stored in the memory, including stored at least as the set of the text character of pixelation
The text character of one text string and including coded data, the coded data defines the multiple texts associated with the text string
The center of each text character in this character；
The first routine stored in the memory, perform on the processor with from the text string look-up table read with
One or more pixel of text character association in the text character in the text string and from the text
This string look-up table reads the coded data associated with one text character in the text character；And
The second routine stored in the memory, perform on the processor to use and the institute in the text character
The coded data of text character association is stated to determine the text character in text string look-up table storage
In one text character center, wherein the institute associated with each text character in the text string look-up table
Stating coded data includes the picture of the text character associated with the coded data in the text string look-up table
The coded data of the adjacent position storage of element.
48. image rendering engine according to claim 47, in addition to：3rd routine, it is stored in the memory
And perform rendered with the specific position based on coded data in image on the display device on the processor
It is located at the pixel of one or more position, institute in one text character in the text character of the text string
State the center that coded data defines one text character in the text character in the text string look-up table
The position of position.
49. image rendering engine according to claim 48, wherein the 3rd routine is based on institute by following operation
The position of the center of one text character in the text character in text string look-up table is stated described
The specific position in image renders position in one text character in the text character of the text string
The pixel in one or more of positions：Determine one text character in the text character it is described in
Heart position whether will be in the range of the text box when being rendered in text box on the image；And in the text
The center of one text character in this character in the text box on the image when being rendered
Specific position during by the scope of the text box in described image renders the institute in the text string
State the pixel for being located at one or more of positions in one text character in text character.
50. image rendering engine according to claim 47, wherein the coded data associated with each text character
Including the coded data for the width for specifying the text character.
51. image rendering engine according to claim 47, wherein the coded data associated with each text character
Include coded data, the volume at each pixel column of the set of the pixel column of each text character in the text character
Code data specify the distance of the center pixel row from the pixel column of the coded data to associated text character.
52. image rendering engine according to claim 47, wherein with each text word in the text string look-up table
The coded data of symbol association includes being used in the identical with the specific pixel column of text character of the text string look-up table
Row in the coded data of the specific pixel column of the text character that stores.
53. image rendering engine according to claim 47, looked into wherein the text character is stored in the text string
Look for and pixel field be used as in table, the pixel field have for the text string the text character multiple pixel columns and
Multiple pixel columns, wherein the coded data is stored as the coded data row adjacent with the pixel field so that be used for
The coded data of the specific pixel column of text character be stored in in the specific pixel column identical pixel column.
54. image rendering engine according to claim 47, wherein the text string look-up table includes that text will be rendered as
Multiple text characters of this string, wherein each text character, which is stored in the text string look-up table, is used as pixel field, institute
Stating pixel field has the multiple pixel columns for being used for each text character and multiple pixel columns, wherein for specific text character
Coded data be stored in the text string look-up table and the pixel field phase for the specific text character
It is adjacent.
55. image rendering engine according to claim 54, wherein the coded data quilt for each text character
It is stored in the row more than the pixel field for each text character.
56. image rendering engine according to claim 54, wherein the text character stored in the text string is used as list
Individual pixel field lines, and the pixel field for being used for each text character share in the text string look-up table at least one
Individual common row but do not have any overlapping pixel column.
57. image rendering engine according to claim 54, wherein storing text character in the text string as two
Individual or more pixel field lines and the pixel field of each text character that is used in identical lines shares the text
At least one common pixels row in this string look-up table but do not have any overlapping pixel column and different pixels field
Text character in lines does not share any pixel column of the text string look-up table.
58. image rendering engine according to claim 57, wherein for the first pixel in the pixel field lines
The pixel field of at least one text character in field lines include with for the second pixel in the pixel field lines
The overlapping pixel column of the pixel columns of different text characters in field lines.
59. image rendering engine according to claim 58, wherein at least one text character and described different
Text character is the adjacent text character in the text string.
60. a kind of method for creating text string look-up table, including：
The text character of text string is stored in computer storage, in the memory location for defining the text string look-up table
Gather the set of the text character as pixelation so that multiple pixels for each text character are stored in the storage
In device；And
Stored in computer storage, in the memory location for defining the text string look-up table for each text character
Coded data, the coded data define the centre bit of each text character of the set of the text character of the text string
Put, the definition text of the coded data in the memory for each text character of the text character set
The pixel for the text character being associated on the position of this string look-up table with the coded data is coordinated,
Wherein store includes the definition text that is stored in the memory for the coded data of each text character
The volume of this string look-up table, adjacent with the pixel for the text character that the coded data is associated position storage
Code data.
61. method according to claim 60, wherein store includes depositing for the coded data of each text character
The coded data of the width of each text character is specified in storage.
62. method according to claim 60, wherein store includes depositing for the coded data of each text character
Coded data is stored up, the coded data is assigned to each pixel position in the set of the different location of pixels of each text character
The distance at the center for the text character put.
63. method according to claim 60, wherein store includes for the coded data of each text character
Each pixel column storage coded data of the set of the pixel column of each text character, the coded data are specified from the coding
The distance that the center pixel of the pixel column of data to the text character arranges.
64. method according to claim 60, wherein being stored in the memory for defining the text string look-up table
The coded data for each text character includes defining the memory and text of the text string look-up table
The coded data of the specific pixel column for the text character is stored in the specific pixel column identical row of character.
65. method according to claim 60, wherein being stored in the memory for defining the text string look-up table
The set of the text character of the text string is included in as the set of the text character of pixelation defines the text string
The text character is stored in the memory of look-up table as pixel field, the pixel field, which has, is used for the text
The multiple pixel columns and multiple pixel columns of the text character of string, and the coded data is wherein stored including described in storage
Coded data is as the coded data row adjacent with the pixel field so that the institute for the specific pixel column of text character
State coded data be stored in in the specific pixel column identical pixel column.
66. method according to claim 60, wherein the text string includes being rendered as the multiple of the text string
Text character, wherein each text character, which is stored in the memory for defining the text string look-up table, is used as pixel words
Section, the pixel field have the multiple pixel columns and multiple pixel columns for each text character, and are wherein used for specific
Text character coded data be stored in the text string look-up table with for the described of the specific text character
Pixel field is adjacent.
67. method according to claim 66, wherein the coded data for each text character is stored in
For in row more than the pixel field of each text character.
68. method according to claim 66, wherein the text character in the text string is stored in single pixel word
In section lines, and the shared memory for defining the text string look-up table of the pixel field for being used for each text character
In at least one common row but do not have any overlapping pixel column.
69. method according to claim 66, wherein the text character in the text string be stored in two or
In the more pixel field lines of person, and the pixel field for each text character being used in identical lines shares the text
String look-up table at least one common pixels row but do not have any overlapping pixel column and different pixel fields
Text character in lines does not share any pixel column of the text string look-up table.
70. method according to claim 69, wherein for a pixel field lines in the pixel field lines
In at least one text character pixel field include with for another pixel field lines in the pixel field lines
In different text characters the overlapping pixel column of pixel column.
71. method according to claim 70, wherein at least one text character and the different text character
It is the adjacent text character in the text string.
72. it is a kind of be used for render on the display device text image by computer-implemented method, including：
Using computer equipment carry out access images look-up table, described image look-up table, which has, to be used for and to be rendered in the picture
The set of the data of the coding of one or more text character of text string association；
The set of the data of the coding is read from described image look-up table using computer equipment to determine to be used for and the text
The first coding data and the second coded data of a text character in the text character of this string association, for the text
The first coding data of one text character in this character is defined on the text character in the text string
In position information, and for second coded data definition of one text character in the text character
Reference to the pixel field in described image look-up table, the set of the pixel field storing pixel values, the pixel value
The described image that set definition will be rendered for one text character in the text character；
Using the computer equipment according to be used in the text character described one stored up in described image look-up table
The pixel field of the reference of individual text character determines the pixel value for one text character in the text character
To analyze rendering for the specific position in described image；
Using the computer equipment based on first coding for one text character in the text character
Data determine in the institute by being defined for second coded data of one text character in the text character
State the center of one text character in the text character stored in pixel field；And
Use the position of the center of the computer equipment based on one text character in the text character
Put the pixel that the specific position in described image renders one text character in the text character.
73. according to claim 72 by computer-implemented method, wherein based on described one in the text character
The specific position of the position of the center of individual text character in described image is rendered in the text character
The pixel of one text character include：Determine one text character in the text character it is described in
Heart position whether will be in the range of the text box when being rendered in text box on the image；And in the text
The center of one text character in this character will be when being rendered in the text box on the image
When in the scope of the text box, the specific position in described image is rendered described in the text character
The pixel of one text character.
74. according to claim 72 by computer-implemented method, in addition to：Described one in the text character
The center of individual text character in the text box on the image when being rendered by the scope of the text box
When in addition, the specific position not in described image renders the institute of one text character in the text character
State pixel.
75. according to claim 72 by computer-implemented method, wherein reading the set of the coded data includes
Read the first coding data for the width for specifying the text character.
76. according to claim 72 by computer-implemented method, wherein reading the set of the coded data includes
The first coding data of the specific pixel column storage for the one text character being read as in the text character, institute
State first coding data and specify the specific pixel column from one text character in the text character in institute
State the distance of the pixel column at the center of one text character in text character.
77. according to claim 72 by computer-implemented method, wherein reading the set of the coded data includes
Read the first coding data of the position storage adjacent with second coded data in described image look-up table.
78. according to claim 72 by computer-implemented method, wherein reading the set of the coded data includes
Read the first coding data that is stored in the row with first coding data information of described image look-up table, described the
One encoded digital information defined for each column in the multiple row of described image look-up table from column position to the text character in institute
State the distance of the column position at the center of a text character.
79. according to claim 78 by computer-implemented method, wherein reading the set of the coded data includes
Second coded data is read from the row associated with the row of the first coding data of described image look-up table, it is described
Second coded data has the fixed position relative to the row in the row of the first coding data.
80. according to claim 78 by computer-implemented method, wherein reading the set of the coded data includes
Second coded data is read from the row associated with the row of the first coding data of described image look-up table, it is described
Second coded data is designated as the row of the described image look-up table of the central series of the text character in the first coding data
Place starts.
81. according to claim 72 by computer-implemented method, wherein for described one in the text character
The first coding data of individual text character is stored in the first coding data row across the multiple row of described image look-up table,
And second coded data for the one text character being wherein used in the text character is stored in across institute
The second coded data row of the multiple row of image look-up table is stated, the multiple row defines the figure used in the first coding data
As the subset of the multiple row of look-up table, and wherein read what is associated with one text character in the text character
The first coding data includes reading use to determine to state the center of one text character in the text character
The first coding data of the specific pixel column of one text character in the text character, the specific pixel
Row are located at the pixel field defined by second coded data of one text character in the text character
In.
82. according to claim 72 by computer-implemented method, wherein described image look-up table is 2 d texture
Figure.
83. a kind of image rendering engine, including：
Processor；
It is coupled to the memory of the processor；
It is coupled to the display device of the processor；
The text string look-up table stored in the memory, including the set of font and the collection of one or more coded data
Merogenesis is closed, wherein the pixel field for the displayable image that each font associates as definition with text character is stored, and wherein
The set merogenesis of each coded data defines the text string that will be rendered in the picture, wherein the set merogenesis of each coded data
Set including one or more character-coded data, and the set of each character-coded data include first coding data and
Second coded data, the first coding data define the letter of the position on the specific text character in the text string
Breath, second coded data define the reference to a font in the font to define the spy in the text string
The mark of fixed text character；And
The routine stored in the memory, perform on the processor to read the specific character for text character
The first coding data of the set of coded data and second coded data to determine with one of font storage or
The position of multiple pixels, the font associate with the text character in the text string to render in the picture.
84. the image rendering engine according to claim 83, wherein the routine use and the specific character code
The first coding data of the set associative of data determines the described of the font cited in second coded data
The center of text character.
85. the image rendering engine according to claim 83, including：The another routine stored in the memory,
Performed on the processor with the specific position wash with watercolours based on the first coding data on the display device in image
The pixel for being located at one or more position in the pixel field of a font in the font is contaminated, described first compiles
The position of the center of the text character described in code data definition cited in the second coded data.
86. the image rendering engine according to claim 85, wherein the another routine is based on institute by following operation
State the institute that the specific position of the first coding data in described image renders one font in the font
State the pixel for being located at one or more of positions in pixel field：Determine the center of the text character
Whether will be in the range of the text box when being rendered in text box on the image；And in the text character
The center when being rendered in the text box on the image by the scope of the text box when,
The specific position in described image renders to be located in the pixel field of one font in the font
The pixel of one or more of positions.
87. the image rendering engine according to claim 83, determined wherein the first coding data includes specifying by font
The coded data of the width of the text character of justice.
88. the image rendering engine according to claim 83, wherein first coding for specific text character
Data include first coding data, institute at each pixel column in the set for the pixel column of the specific text character
State first coding data specify from the pixel column of the first coding data to for the specific text character by
The distance of the center pixel row of the specific text character for the glyph definition that second coded data is quoted.
89. the image rendering engine according to claim 83, wherein each text character in the text string is described
First coding data is stored in the text string look-up table, is adjacent with second coded data of each text character
Position.
90. the image rendering engine according to claim 83 a, wherein volume in the set merogenesis of the coded data
Second coded data of a text character in the text character of the set merogenesis of code data is related to and the volume
Different text words in the text character of the set merogenesis of one coded data in the set merogenesis of code data
The second coded data identical font of symbol.
91. the image rendering engine according to claim 83 a, wherein volume in the set merogenesis of the coded data
Second coded data of a text character in the text character of the set merogenesis of code data is related to and the volume
The institute of a text character in the text character of the set merogenesis of the second coded data in the set merogenesis of code data
State the second coded data identical font.
92. the image rendering engine according to claim 83, wherein each volume in the merogenesis set of the coded data
The set merogenesis of code data is included in the first coding data stored in the row of the text string look-up table, and described first compiles
Code data are quoted for each column definition in the multiple row of the text string look-up table from column position to by second coded data
The text character pixel column center column position distance.
93. the image rendering engine according to claim 92, wherein each volume in the set merogenesis of the coded data
The set merogenesis of code data is included in the row relative to the first coding data in the text string look-up table
Second coded data stored in the fixed position of one row.
94. the image rendering engine according to claim 93, wherein the second coded data at a row, by described first
The column position that coded data is designated as the text string look-up table of the center of text character starts to be stored.
95. the image rendering engine according to claim 83, wherein for a text character in the text character
The first coding data be stored in across the text string look-up table multiple row first coding data row in, and its
In be used for second coded data of one text character in the text character and be stored in across the text
In second coded data row of the multiple row of string look-up table, the multiple row defines the text used in the first coding data
Go here and there look-up table the multiple row subset, and described the of the one text character being wherein used in the text character
One coded data is defined defined in second coded data of one text character in the text character
The center of one text character in the text character in the pixel field of the font.
96. the image rendering engine according to claim 83, wherein first coded number for each text character
According to being stored in the row more than second coded data for each text character of the text string look-up table.
97. the image rendering engine according to claim 83, wherein for a coded data in coded data merogenesis
The set of the character-coded data of merogenesis is stored as the lines of the set of single character-coded data, and the coding
The first coding data for each text character in one coded data merogenesis in data section division shares institute
State at least one common row in text string look-up table but without any overlapping in the text string look-up table
Row.
98. the image rendering engine according to claim 83, wherein for a coded data in coded data merogenesis
The set of the character-coded data of merogenesis is stored as the set lines of two or more character-coded data, and uses
The first coding data of each text character in the set lines in identical character-coded data shares the text
At least one common row in this string look-up table but without any overlapping row in the text string look-up table and
The first coding data for each text character in the set lines of different character-coded datas does not share institute
State any row of text string look-up table.
99. the image rendering engine according to claim 98, wherein for the set lines in the character-coded data
In the first character-coded data set lines at least one text character first coding data include with described
Gather the different text characters in lines the first of the second character-coded data gathered in lines of character-coded data
Coded data arranges overlapping row.
100. the image rendering engine according to claim 98, wherein at least one text character and described different
Text character is the adjacent text character in the text string defined by the coded data merogenesis.
101. a kind of method for creating text string look-up table, including：
The set of the memory location for defining text string look-up table storage font in computer storage, wherein each
Font is stored as pixel field, the displayable image that the pixel field definition associates with text character so that for each
Multiple pixels of font are stored in the memory；And
The memory location for defining the text string look-up table in the computer storage stores one or more volume
Code data section division, wherein each coded data merogenesis defines the text string that will be rendered in the picture, and wherein each coding
Data section division includes the set of one or more character-coded data, and the set of each character-coded data defines the text
The text character of this string and including first coding data and the second coded data, the first coding data definition is on described
The information of the position of text character in text string, second coded data define drawing to a font in the font
To define the mark of the text character in the text string.
102. the method according to claim 101, wherein storing the first coding data for each text character
Including storing first coding data, the first coding data defines the center of the text character of the text string,
For each character-coded data in the set of the character-coded data set the first coding data described
With described the of the set of character-coded data described in identical on the position for defining the text string look-up table in memory
Two coded datas are coordinated.
103. the method according to claim 101, wherein storing the first coding data for each text character
Including storing first coding data, the first coding data is assigned in the set of different pixels position of each text character
Each location of pixels text character center distance.
104. the method according to claim 101, wherein storing the first coding data for each text character
It is included in storage coded data, the coded data at each pixel column of the set of the pixel column for specific text character
The pixel column from the coded data is specified to by drawing for second coded data of the specific text character
The distance of the center pixel row of the specific text character of glyph definition.
105. the method according to claim 101, wherein storing the first coding data for each text character
It is included in described in the position storage adjacent with second coded data of each text character in the text string look-up table
The first coding data of each text character in text string.
106. the method according to claim 101, wherein storing the coding gathered in merogenesis of the coded data
Second coded data of a text character in the text character of the set merogenesis of data is related to and the coding
Different text characters in the text character of the set merogenesis of one coded data in the set merogenesis of data
The second coded data identical font.
107. the method according to claim 101, wherein storing the coding gathered in merogenesis of the coded data
Second coded data of a text character in the text character of the set merogenesis of data is related to and the coding
Data set merogenesis in the second coded data set merogenesis the text character in a text character it is described
Second coded data identical font.
108. the method according to claim 101, wherein each coding in storing the merogenesis set of the coded data
The merogenesis set of data, which is included in the row of the text string look-up table, stores the first coding data, first coded number
Defined according to each column in the multiple row for the text string look-up table from column position to the institute quoted by second coded data
State the distance of the column position at the center of the pixel column of text character.
109. the method according to claim 108, wherein storing each coding gathered in merogenesis of the coded data
The set merogenesis of data is included in one in the row relative to the first coding data in the text string look-up table
Second coded data is stored in the fixed position of row.
110. the method according to claim 101, wherein storing for a text character in the text character
The first coding data stores described the in being included in across the first coding data row of the multiple row of the text string look-up table
One coded data, and wherein store second coded data for one text character in the text character
Second coded data is stored in being included in across the second coded data row of the multiple row of the text string look-up table, it is described more
Row define the subset of the multiple row of the text string look-up table used in the first coding data.
111. the method according to claim 101, in addition to the coded data that storage is used in coded data merogenesis
Set lines of the set of the character-coded data of merogenesis as single character-coded data, and the coded data merogenesis
In one coded data merogenesis in the first coding data for each text character share the text string
At least one common row in look-up table but without any overlapping row in the text string look-up table.
112. the method according to claim 101, in addition to the coded data that storage is used in coded data merogenesis
Lines of the set of the character-coded data of merogenesis as the set of two or more character-coded data, and it is used for phase
The first coding data of each text character in the lines of the set of same character-coded data shares the text string
At least one common row in look-up table but without any overlapping row in the text string look-up table and be used for
The first coding data of each text character in the lines of the set of different character-coded datas does not share the text
Any row of this string look-up table.
113. the method according to claim 101, it is included in and set for the character-coded data is stored in row
The first coding data of at least one text character in the lines of the set of the first character-coded data in lines, the row
It is different from the lines of the set of the second character-coded data in the lines of the set for the character-coded data
The row of text character are overlapping.
Applications Claiming Priority (7)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US13/174,378 | 2011-06-30 | ||
US13/174,403 | 2011-06-30 | ||
US13/174,283 US8400453B2 (en) | 2011-06-30 | 2011-06-30 | Rendering a text image following a line |
US13/174,283 | 2011-06-30 | ||
US13/174,403 US8760451B2 (en) | 2011-06-30 | 2011-06-30 | Rendering a text image using texture map character center encoding with character reference encoding |
US13/174,378 US20130002679A1 (en) | 2011-06-30 | 2011-06-30 | Rendering a text image using texture map character center encoding |
PCT/US2012/044602 WO2013003567A2 (en) | 2011-06-30 | 2012-06-28 | Rendering a text image following a line |
Publications (2)
Publication Number | Publication Date |
---|---|
CN103765413A CN103765413A (en) | 2014-04-30 |
CN103765413B true CN103765413B (en) | 2018-02-16 |
Family
ID=47424793
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN201280041541.8A Active CN103765413B (en) | 2011-06-30 | 2012-06-28 | Render the text image for following lines |
Country Status (6)
Country | Link |
---|---|
EP (1) | EP2727006B1 (en) |
JP (1) | JP5959637B2 (en) |
KR (1) | KR102001191B1 (en) |
CN (1) | CN103765413B (en) |
DE (1) | DE202012013465U1 (en) |
WO (1) | WO2013003567A2 (en) |
Families Citing this family (12)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN105808617B (en) * | 2014-12-31 | 2020-02-07 | 高德软件有限公司 | Electronic map generating and displaying method and device |
KR101755807B1 (en) * | 2015-07-10 | 2017-07-10 | 김성일 | Method and storage medium for displaying character in portable terminal screen |
US20170249292A1 (en) * | 2016-02-29 | 2017-08-31 | Microsoft Technology Licensing, Llc | Conditional determination of lookups in glyph processing |
CN107066109A (en) * | 2016-09-10 | 2017-08-18 | 上海触乐信息科技有限公司 | The mthods, systems and devices that dynamic text is inputted immediately |
KR101887086B1 (en) * | 2017-12-15 | 2018-08-09 | 세종대학교산학협력단 | Method and apparatus for visualizing movement data in multi-directional vector field |
US11131987B2 (en) * | 2018-03-15 | 2021-09-28 | Xinxin Wang | Method and system for preventing and detecting hazardously misleading information on safety-critical display |
JP6656477B1 (en) * | 2018-12-07 | 2020-03-04 | 三菱電機株式会社 | Input display control device, input display control method, and input display system |
CN111489411B (en) * | 2019-01-29 | 2023-06-20 | 北京百度网讯科技有限公司 | Line drawing method and device, image processor, display card and vehicle |
CN109978968B (en) * | 2019-04-10 | 2023-06-20 | 广州虎牙信息科技有限公司 | Video drawing method, device and equipment of moving object and storage medium |
CN110309824B (en) * | 2019-07-02 | 2021-07-02 | 北京百度网讯科技有限公司 | Character detection method and device and terminal |
KR102142238B1 (en) * | 2020-02-25 | 2020-08-07 | 주식회사 엔디소프트 | Method of extracting text information such as abbreviation, handwriting, atypical word and sentence included in a predetermined image and automatically translating the extraction result into a predetermined language |
CN112464739B (en) * | 2020-11-05 | 2023-05-23 | 福建天泉教育科技有限公司 | Document text legibility evaluation method and terminal |
Citations (7)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US5724072A (en) * | 1995-03-13 | 1998-03-03 | Rutgers, The State University Of New Jersey | Computer-implemented method and apparatus for automatic curved labeling of point features |
CN1270366A (en) * | 1999-03-31 | 2000-10-18 | 国际商业机器公司 | Method and system for processing image by image hardware commands |
CN1395222A (en) * | 2001-06-29 | 2003-02-05 | 三星电子株式会社 | Representation and diawing method of three-D target and method for imaging movable three-D target |
US6803913B1 (en) * | 1999-12-01 | 2004-10-12 | Microsoft Corporation | Warping text along a curved path |
US7076505B2 (en) * | 2002-07-11 | 2006-07-11 | Metrobot Llc | Method, apparatus, and computer program product for providing a graphical user interface with a linear map component |
US7567252B2 (en) * | 2003-12-09 | 2009-07-28 | Microsoft Corporation | Optimizing performance of a graphics processing unit for efficient execution of general matrix operations |
US7787708B2 (en) * | 2005-06-07 | 2010-08-31 | Ids Scheer Aktiengesellschaft | Systems and methods for rendering text within symbols |
Family Cites Families (26)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
JPS58112176A (en) | 1981-12-26 | 1983-07-04 | Toshiba Corp | Optical character reader |
US4864628A (en) | 1983-08-26 | 1989-09-05 | Texas Instruments Incorporated | Method of optical character recognition |
US4847604A (en) * | 1987-08-27 | 1989-07-11 | Doyle Michael D | Method and apparatus for identifying features of an image on a video display |
US5134663A (en) | 1991-04-19 | 1992-07-28 | Unisys Corporation | Center line magnetic ink character recognition system |
ES2159505T3 (en) | 1991-09-26 | 2001-10-16 | Mitsubishi Electric Corp | SYSTEM WITH APPROXIMATION MEANS TO RECOGNIZE GRAPHIC ELEMENTS. |
JP2634126B2 (en) * | 1992-07-27 | 1997-07-23 | インターナショナル・ビジネス・マシーンズ・コーポレイション | Graphics display method and apparatus |
JP3161834B2 (en) * | 1992-09-18 | 2001-04-25 | 株式会社ザナヴィ・インフォマティクス | Car navigation system |
DE69316898T2 (en) * | 1993-11-05 | 1998-07-30 | Philips Patentverwaltung | Vehicle navigation display system |
JP3108979B2 (en) | 1994-07-28 | 2000-11-13 | セイコーエプソン株式会社 | Image processing method and image processing apparatus |
JP3345224B2 (en) | 1995-03-06 | 2002-11-18 | 富士通株式会社 | Pattern extraction device, pattern re-recognition table creation device, and pattern recognition device |
US5793936A (en) | 1996-09-27 | 1998-08-11 | Texas Instruments Incorporated | Center-line anti-aliasing for digital printing |
US6141002A (en) * | 1996-11-12 | 2000-10-31 | Opentv, Inc. | System and method for downloading and rendering glyphs in a set top box |
JP4434355B2 (en) * | 1998-03-27 | 2010-03-17 | キヤノン株式会社 | Animation font creation device |
US6565610B1 (en) * | 1999-02-11 | 2003-05-20 | Navigation Technologies Corporation | Method and system for text placement when forming maps |
US7305617B2 (en) | 2000-02-12 | 2007-12-04 | Adobe Systems Incorporated | Method for aligning text to baseline grids and to CJK character grids |
JP2001311625A (en) * | 2000-04-28 | 2001-11-09 | Pioneer Electronic Corp | Navigation device |
JP2002351311A (en) * | 2001-05-25 | 2002-12-06 | Zenrin Co Ltd | Output controller and its method, and computer program |
US7123261B2 (en) | 2002-12-26 | 2006-10-17 | Adobe Systems Incorporated | Coordinating grid tracking and mojikumi spacing of Japanese text |
JP2005115174A (en) * | 2003-10-09 | 2005-04-28 | Navitime Japan Co Ltd | Device, method, and program for map display |
US20050190970A1 (en) | 2004-02-27 | 2005-09-01 | Research In Motion Limited | Text input system for a mobile electronic device and methods thereof |
US20070211062A1 (en) * | 2006-03-13 | 2007-09-13 | International Business Machines Corporation | Methods and systems for rendering complex text using glyph identifiers in a presentation data stream |
US8271962B2 (en) | 2006-09-12 | 2012-09-18 | Brian Muller | Scripted interactive screen media |
JP2008165264A (en) | 2006-12-26 | 2008-07-17 | Dynacomware Taiwan Inc | System and method for editing asia web page document using various font by through network |
US8023725B2 (en) | 2007-04-12 | 2011-09-20 | Samsung Electronics Co., Ltd. | Identification of a graphical symbol by identifying its constituent contiguous pixel groups as characters |
US7791605B2 (en) | 2007-05-01 | 2010-09-07 | Qualcomm Incorporated | Universal rasterization of graphic primitives |
CA2732394C (en) * | 2008-10-20 | 2014-05-13 | Research In Motion Limited | Method and system for rendering of labels |
-
2012
- 2012-06-28 CN CN201280041541.8A patent/CN103765413B/en active Active
- 2012-06-28 KR KR1020147001988A patent/KR102001191B1/en active IP Right Grant
- 2012-06-28 WO PCT/US2012/044602 patent/WO2013003567A2/en active Application Filing
- 2012-06-28 DE DE202012013465.5U patent/DE202012013465U1/en not_active Expired - Lifetime
- 2012-06-28 EP EP12803602.7A patent/EP2727006B1/en active Active
- 2012-06-28 JP JP2014519010A patent/JP5959637B2/en active Active
Patent Citations (7)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US5724072A (en) * | 1995-03-13 | 1998-03-03 | Rutgers, The State University Of New Jersey | Computer-implemented method and apparatus for automatic curved labeling of point features |
CN1270366A (en) * | 1999-03-31 | 2000-10-18 | 国际商业机器公司 | Method and system for processing image by image hardware commands |
US6803913B1 (en) * | 1999-12-01 | 2004-10-12 | Microsoft Corporation | Warping text along a curved path |
CN1395222A (en) * | 2001-06-29 | 2003-02-05 | 三星电子株式会社 | Representation and diawing method of three-D target and method for imaging movable three-D target |
US7076505B2 (en) * | 2002-07-11 | 2006-07-11 | Metrobot Llc | Method, apparatus, and computer program product for providing a graphical user interface with a linear map component |
US7567252B2 (en) * | 2003-12-09 | 2009-07-28 | Microsoft Corporation | Optimizing performance of a graphics processing unit for efficient execution of general matrix operations |
US7787708B2 (en) * | 2005-06-07 | 2010-08-31 | Ids Scheer Aktiengesellschaft | Systems and methods for rendering text within symbols |
Also Published As
Publication number | Publication date |
---|---|
EP2727006A4 (en) | 2014-12-10 |
JP2014521148A (en) | 2014-08-25 |
DE202012013465U1 (en) | 2017-01-30 |
KR102001191B1 (en) | 2019-10-01 |
WO2013003567A2 (en) | 2013-01-03 |
JP5959637B2 (en) | 2016-08-02 |
KR20140073480A (en) | 2014-06-16 |
EP2727006A2 (en) | 2014-05-07 |
EP2727006B1 (en) | 2018-10-31 |
CN103765413A (en) | 2014-04-30 |
WO2013003567A3 (en) | 2013-04-11 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
CN103765413B (en) | Render the text image for following lines | |
US8400453B2 (en) | Rendering a text image following a line | |
EP2761584B1 (en) | Label positioning technique to reduce crawling during zoom activities | |
JP5721358B2 (en) | Graphics processing system | |
US20150130788A1 (en) | Visualize the obscure object in 3d space | |
US9093006B2 (en) | Image shader using style attribute references | |
US8730258B1 (en) | Anti-aliasing of straight lines within a map image | |
US7554546B1 (en) | Stippled lines using direct distance evaluation | |
US8730264B1 (en) | Determining when image elements intersect | |
JPH05507372A (en) | Method and apparatus for rendering anti-aliased polygons | |
US9721363B2 (en) | Encoding polygon data for fast retrieval and rendering | |
CN101714261A (en) | Graphics processing systems | |
Chao et al. | Parallel algorithm for viewshed analysis on a modern GPU | |
US9495767B2 (en) | Indexed uniform styles for stroke rendering | |
US8760451B2 (en) | Rendering a text image using texture map character center encoding with character reference encoding | |
CN112100795B (en) | Computer aided design drawing comparison method and device | |
US9092907B2 (en) | Image shader using two-tiered lookup table for implementing style attribute references | |
Yue et al. | A function-based linear map symbol building and rendering method using shader language | |
Coll et al. | Multi‐visibility maps of triangulated terrains | |
US9911205B1 (en) | Visual continuity for arbitrary length stipple patterns | |
US7170528B1 (en) | Fast glyph rendering for vector based fonts | |
US20130002679A1 (en) | Rendering a text image using texture map character center encoding | |
Lobão et al. | Generating a Terrain | |
Curington | Continuous field visualization with multi-resolution textures | |
Lu | SVG 3D Graphical Presentation for Web-based Applications |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
C06 | Publication | ||
PB01 | Publication | ||
C10 | Entry into substantive examination | ||
SE01 | Entry into force of request for substantive examination | ||
GR01 | Patent grant | ||
GR01 | Patent grant | ||
CP01 | Change in the name or title of a patent holder |
Address after: American CaliforniaPatentee after: Google limited liability companyAddress before: American CaliforniaPatentee before: Google Inc. |
|
CP01 | Change in the name or title of a patent holder |