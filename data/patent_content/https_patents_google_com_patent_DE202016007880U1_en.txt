HINTERGRUND DER ERFINDUNGBACKGROUND OF THE INVENTION
Verschiedene browserbasierte Systeme erlauben es Benutzern, den Namen eines geographischen Standorts einzugeben, und eine Karte des Standorts als Antwort zu erhalten. Zusätzlich zum Anzeigen von Straßen und der Namen der Straßen, können derartige Daten auch Gebäudegrundrisse anzeigen und hervorheben. Diese Systeme können es Benutzern auch ermöglichen, nach Unternehmenskategorien im Umkreis zu suchen und Markierungen auf der Karte anzuzeigen, welche die Standorte der übereinstimmenden Unternehmen identifizieren.Various browser-based systems allow users to enter the name of a geographic location and get a map of the location in response. In addition to displaying roads and the names of the roads, such data may also indicate and highlight building footprints. These systems can also enable users to search for business categories in the vicinity and display markers on the map that identify the locations of the matching businesses.
Unter Schutz gestellt werden und Gegenstand des Gebrauchsmusters sind, entsprechend den Vorschriften des Gebrauchsmustergesetzes, lediglich Vorrichtungen wie in den beigefügten Schutzansprüchen definiert, jedoch keine Verfahren. Soweit nachfolgend in der Beschreibung gegebenenfalls auf Verfahren Bezug genommen wird, dienen diese Bezugnahmen lediglich der beispielhaften Erläuterung der in den beigefügten Schutzansprüchen unter Schutz gestellten Vorrichtung oder Vorrichtungen.Under protection and subject to the utility model are, according to the provisions of the utility model law, only devices as defined in the appended claims, but no method. Wherever in the description, if appropriate, reference is made to methods, these references are merely illustrative of the device or devices set forth in the appended claims.
In bestimmten geographischen Standorten, wie etwa in Ballungsräumen, kann die Anzahl von anzuzeigenden Markierungen aufgrund einer hohen Dichte von Punkten von Interesse, wie etwa Unternehmen, sehr groß sein. Es besteht ein Bedarf danach, derartige Informationen auf effiziente Art und Weise zu verarbeiten, um eine schnelle Wiedergabe und ein schnelles Anzeigen von Karteninformationen zu ermöglichen, während gleichzeitig zugrundeliegende Einschränkungen bezüglich der Hardware und der Software respektiert werden, die mit der zu verwendenden Technologie zum Anzeigen von Karteninformationen in Verbindung gebracht werden.In certain geographic locations, such as metropolitan areas, the number of tags to be displayed may be very large due to a high density of points of interest, such as companies. There is a need to process such information in an efficient manner to enable rapid playback and display of map information while at the same time respecting underlying hardware and software limitations associated with the technology to be used for display of map information.
KURZDARSTELLUNG DER ERFINDUNGBRIEF SUMMARY OF THE INVENTION
Ausführungsformen der vorliegenden Erfindung betreffen Techniken zum Identifizieren, Verarbeiten und Anzeigen von Datenpunktclustern, die auf eine effiziente Art und Weise mit Karteninformationen in Verbindung gebracht werden. Ausführungsformen betreffen insbesondere Verfahren und Systeme zum Verarbeiten von Karteninformationen, um Cluster der angefragten anzuzeigenden Datenpunkte auf Basis eines interaktiven Clustering und Filtern von Datenpunkten zu identifizieren und betreffen auch Verfahren und Systeme für das Generieren von Polygonen, welche die Cluster repräsentieren.Embodiments of the present invention relate to techniques for identifying, processing, and displaying data point clusters that are associated with map information in an efficient manner. In particular, embodiments relate to methods and systems for processing map information to identify clusters of the queried data points to be displayed based on interactive clustering and filtering of data points, and also relate to methods and systems for generating polygons representing the clusters.
Eine Verbesserung in der Art und Weise, in der die Karteninformationen verarbeitet, angezeigt und wiedergegeben werden, kann Ressourcen auf Computersystemen, wie etwa Server und Benutzerterminals optimieren, um Ressourcen, die auf anderen Anwendungen und Prozessen betreiben werden, freizusetzen. Insbesondere kann in tragbaren Geräten, in denen die Speicher- und Leistungsressourcen beschränkt sind, eine Verbesserung in der Art und Weise, in der die Informationen verarbeitet und angezeigt werden, die Zeit, innerhalb der eine Anzeige aktiv ist, während die Karteninformationen verarbeitet werden, dazu veranlassen, reduziert zu werden, während dabei sichergestellt wird, dass Strom gespart wird und dass die Anforderungen des Benutzers schnell erfüllt werden. Das effiziente Verarbeiten von Karteninformationen kann auch zu einer Verbesserung der Kommunikation zwischen einem Benutzerterminal und einem Server, der die Karteninformationen hostet, führen, da die dem Terminal zu kommunizierenden Informationen optimiert werden können.An improvement in the way in which the map information is processed, displayed, and rendered can optimize resources on computer systems, such as servers and user terminals, to free resources that will run on other applications and processes. In particular, in portable devices in which the memory and power resources are limited, an improvement in the way the information is processed and displayed may be the time within which a display is active while the map information is being processed cause it to be reduced, while ensuring that power is saved and that the user's needs are met quickly. The efficient processing of map information may also improve the communication between a user terminal and a server hosting the map information, as the information to be communicated to the terminal can be optimized.
Techniken, die unter Bezugnahme auf die Ausführungsformen der Erfindung beschrieben werden, können unter Verwendung von Informationen zum Punkt von Interesse einen oder mehrere derartige Vorteile auf eine effiziente Art und Weise ermöglichen, so dass die zu verarbeitende und/oder anzuzeigende Datenmenge ohne den Verlust jeglicher damit in Verbindung stehender in einer Karte angezeigten Informationsinhalten reduziert werden kann. Durch das entsprechende Clustering und Filtern von Datenpunkten können bestimmte Datenpunkte aus der Betrachtung ausgeschlossen werden, während das Clustering-Verfahren ermöglicht, dass die geographischen Regionen einer Karte zusammen verarbeitet werden. Das Generieren von Polygonen, um derartige Regionen zu repräsentieren ermöglicht, dass Daten innerhalb des Polygons zusammen verarbeitet werden können.Techniques described with reference to the embodiments of the invention, using information on the point of interest, may enable one or more such advantages in an efficient manner such that the amount of data to be processed and / or displayed without the loss of any associated information content displayed in a map can be reduced. Through appropriate clustering and filtering of data points, certain data points can be excluded from consideration, while the clustering method allows the geographic regions of a map to be processed together. Generating polygons to represent such regions allows data within the polygon to be processed together.
KURZBESCHREIBUNG DER ZEICHNUNGENBRIEF DESCRIPTION OF THE DRAWINGS
1 ist ein Funktionsdiagramm eines Systems gemäß Aspekten der Offenbarung. 1 FIG. 10 is a functional diagram of a system according to aspects of the disclosure. FIG.
2 ist ein Beispiel einer Karte. 2 is an example of a map.
3 ist ein Beispiel eines Grafs der Straßensegmente auf einer Karte. 3 is an example of a count of road segments on a map.
4 ist ein Beispiel von Ergebnissen, die auf Basis von kantenspezifischen Informationen ermittelt werden. 4 is an example of results based on edge-specific information.
5 ist ein Beispiel von Ergebnissen, die auf Basis von Informationen ermittelt werden, die mehrere Kanten betreffen. 5 is an example of results that are determined based on information that affects multiple edges.
6 ein Beispiel des Grafs vor dem Filtern. 6 an example of the count before filtering.
7 ist ein Beispiel des Grafs nach dem anfänglichen Filtern. 7 is an example of the count after the initial filtering.
8 ist ein Beispiel des Grafs nach dem zusätzlichen Filtern. 8th is an example of the count after additional filtering.
9 ist ein Beispiel von Cluster nach dem zusätzlichen Filtern. 9 is an example of clusters after additional filtering.
10 ist ein Beispiel des Anzeigen der Straßensegmente, die mit Cluster in Verbindung gebracht werden. 10 is an example of displaying the road segments associated with clusters.
11 ist ein weiteres Beispiel eines Grafs von Straßensegmenten. 11 is another example of a count of road segments.
12 ist ein Beispiel des Filters von Kanten auf Basis der physikalischen Nähe des Punkts von Interesse (POI). 12 is an example of the filter of edges based on the physical proximity of the point of interest (POI).
13 ist ein Beispiel des Ermittelns eines Ergebnisses auf Basis der physikalischen Dichte des Punkts von Interesse (POI). 13 FIG. 10 is an example of obtaining a result based on the physical density of the point of interest (POI).
14 ist ein Beispiel des Ermittelns eines kürzesten Pfads zwischen einem Knotenpaar. 14 is an example of determining a shortest path between a pair of nodes.
15 ist ein Beispiel des Ermittelns eines kürzesten Pfads zwischen einem beliebigen Knotenpaar. 15 is an example of finding a shortest path between any node pair.
16 ist ein Beispiel eines Grafs aus 11 nach dem Filtern auf Basis der physikalischen Nähe und Dichte des POI. 16 is an example of a count 11 after filtering based on the physical proximity and density of the POI.
17 ist ein Beispiel einer Karte einschließlich Gebäudegrundrissen. 17 is an example of a map including building footprints.
18 ist ein Beispiel von Polygonen, die auf Basis der Straßensegmentgrundrisse generiert werden. 18 is an example of polygons that are generated based on the road segment floor plans.
19 ist ein Beispiel von Polygonen, die auf Basis von Gebäudegrundrissen generiert werden. 19 is an example of polygons that are generated based on building footprints.
20 ist ein Beispiel von Polygonen, die auf Basis von Straßensegment- und Gebäudegrundrissen generiert werden. 20 is an example of polygons that are generated based on road segment and building footprints.
21 ist ein Beispiel eines Polygons, das auf Basis der Polygone der 19 und 20 generiert werden. 21 is an example of a polygon based on the polygons of the 19 and 20 to be generated.
22 ist ein Beispiel des Anzeigens des Polygons aus 21 auf einer Karte. 22 is an example of displaying the polygon 21 on a map.
23–24 sind Flussdiagramme gemäß Aspekten der Offenbarung. 23 - 24 FIG. 10 are flowcharts in accordance with aspects of the disclosure. FIG.
AUSFÜHRLICHE BESCHREIBUNGDETAILED DESCRIPTION
Überblickoverview
Die Technologie betrifft das Generieren und Anzeigen einer Karte geographischer Regionen auf Basis der Nähe der Punkte von Interesse (POI) entlang von Straßensegmenten. Eine Karte kann zum Beispiel durch einen Graf dargestellt werden, so dass jeder Knoten eine Kreuzung darstellt, jede Kante ein Straßensegment darstellt, der mit einer Kreuzung verbunden ist und jede Kante einem Ergebnis auf Basis bestimmter Kriterien zugeordnet ist. Auf exemplarische Art und Weise können Kriterien auf der Gesamtanzahl von POI des Straßensegments (z. B. Restaurants), einem Ergebnis, den POI, der einem Straßensegment zugeordnet wurde, der Dichte von POI des Straßensegments relativ zu seiner physikalischen Länge, dem physikalischen Abstand des POI des Segments relativ zu einer Kreuzung und einem Ergebnis, das benachbarten Segmenten zugeordnet wird, basieren. Der Graf kann so lange iterativ gefiltert werden, bis kleine Cluster von Straßensegmenten identifiziert werden. Die Cluster können Benutzern durch das Konturieren der zugeordneten Segmente und des Grundrisses des POI, die sich innerhalb eines Schwellenabstands vom Segment befinden, angezeigt werden.The technology relates to generating and displaying a map of geographic regions based on the proximity of points of interest (POI) along road segments. For example, a map may be represented by a graph so that each node represents an intersection, each edge represents a road segment connected to an intersection, and each edge is associated with a result based on certain criteria. By way of example, criteria on the total number of POI of the road segment (eg, restaurants), a result, the POI assigned to a road segment, the density of POI of the road segment relative to its physical length, the physical distance of the road segment POI of the segment relative to an intersection and a result associated with adjacent segments. The count can be iteratively filtered until small clusters of road segments are identified. The clusters can be displayed to users by contouring the associated segments and the outline of the POI that are within a threshold distance from the segment.
Als Veranschaulichung zeigt 2 eine Karte von Straßensegmenten und POI, die im Speicher eines Systems, wie etwa dem in 1 dargestellten, gespeichert werden können. Wie in 3 ersichtlich, kann die Karte von einem Graf modelliert werden, bei dem jede Kante ein Straßensegment repräsentiert und jeder Knoten die Kreuzung eines oder mehrerer Straßensegmente mit einem anderen Straßensegment repräsentiert. Jede Kante kann anfänglich einem Ergebnis zugeordnet werden, das auf Informationen basiert, die sich insbesondere auf den POI dieses Straßensegments, beziehen, z. B. die Anzahl von POI, die auf dem Straßensegment positioniert sind und die Einstufung dieser POI in Relation zu anderen.As an illustration shows 2 a map of road segments and POIs stored in the memory of a system, such as the one in 1 represented, can be stored. As in 3 As can be seen, the map can be modeled by a graph in which each edge represents a road segment and each node represents the intersection of one or more road segments with another road segment. Each edge may initially be associated with a result based on information relating specifically to the POI of that road segment, e.g. For example, the number of POIs that are positioned on the road segment and the ranking of those POIs in relation to others.
Das Ergebnis, das einem Straßensegment zugeordnet wird, kann auch auf dem Ergebnis eines angrenzenden Segments basieren. Wie in 4 ersichtlich, kann ein Abschnitt des Ergebnisses der Kante AB zur benachbarten Kante BC hinzugefügt werden und ein noch kleinerer Abschnitt kann den Kanten hinzugefügt werden, die an Kante BC angrenzen. Insoweit kann das POI-basierte Ergebnis eines Straßensegments die direkten und indirekten benachbarten Bereiche des Segments diffundieren.The result associated with a road segment may also be based on the result of an adjacent segment. As in 4 As can be seen, a portion of the result of the edge AB may be added to the adjacent edge BC and an even smaller portion may be added to the edges adjacent to edge BC. In that regard, the POI-based result of a road segment can diffuse the direct and indirect adjacent areas of the segment.
In der Tat kann das einem Straßensegment zugeordnete Ergebnis auf viele andere Straßensegmente basieren. Zum Beispiel und wie in 5 ersichtlich, wird jedes anfängliche Ergebnis jeder Kante auf andere Segmente diffundiert, wobei ein zunehmend kleiner werdender Abschnitt dieses Ergebnisses zu indirekt angrenzenden Kanten so lange hinzugefügt wird, bis nichts mehr übrigbleibt, das weiterhin hinzugefügt werden kann. Infolgedessen kann das Ergebnis einer einzelnen Kante mehrere Male aktualisiert werden, falls die Kante an mehrere Kanten mit relativ hohen Ergebnissen angrenzt. 6 zeigt das Gesamtergebnis jedes Segments.In fact, the result associated with a road segment can be based on many other road segments. For example and how in 5 Obviously, every initial result is every one Edge diffuses to other segments, with an increasingly smaller portion of this result is added to indirectly adjacent edges until there is nothing left that can be added further. As a result, the result of a single edge can be updated multiple times if the edge is adjacent to multiple edges with relatively high results. 6 shows the overall result of each segment.
Der Graf der Karte kann auf Basis einer Vielzahl von Kriterien gefiltert werden. Zum Beispiel kann das Kriterium zumindest teilweise auf Charakteristiken basieren, die sich spezifisch auf ein einzelnes Straßensegment beziehen, wie etwa das Auszusondern von Kanten, deren Ergebnisse unterhalb eines bestimmten Schwellenwerts liegen. Das Aussondern der Kanten kann auf iterative Art und Weise bei immer größer werdenden Schwellenwerten fortgesetzt werden, die den Graf schließlich dazu veranlassen, Cluster verbundener Straßensegmente zu modellieren, die von anderen im Graf dargestellten getrennt sind. Auf exemplarische Art und Weise veranschaulichen 7 und 8 Cluster, die infolge eines interaktiven Anhebens des Schwellenwerts ausgebildet werden.The count of the card can be filtered based on a variety of criteria. For example, the criterion may be based, at least in part, on characteristics that are specific to a single road segment, such as the elimination of edges whose results are below a certain threshold. Eliminating the edges can be continued in an iterative manner as the thresholds continue to increase, eventually causing the graph to model clusters of connected road segments that are separated from others in the graph. Illustrate in an exemplary way 7 and 8th Clusters formed as a result of interactively raising the threshold.
Der Graf kann auch auf Basis von Kriterien gefiltert werden, die von Charakteristiken abhängen, die mehr als einem Segment zugeordnet werden können. Zum Beispiel kann das Cluster auf iterative Weise gefiltert werden, bis die Größe des Clusters kleiner als der Schwellenwert ausfällt, der auf einem bestimmten Bereich basiert. Falls, wie anhand eines Beispiels und wie in 8 ersichtlich, erfordert wird, dass ein Cluster aus höchstens zehn Segmenten besteht, würde Cluster 851 mit dem Schwellenwert übereinstimmen und würde von zusätzlichen Filtern, wie das oben beschriebene, ausgeschlossen werden. Da Cluster 850 jedoch über mehr als zehn Segmente verfügt, wird er weiterhin gefiltert werden, bis er die in 9 dargestellte Größe erreicht.The count can also be filtered based on criteria that depend on characteristics that can be assigned to more than one segment. For example, the cluster may be iteratively filtered until the size of the cluster is less than the threshold based on a particular area. If, as an example and as in 8th Obviously, a cluster consisting of at most ten segments would require clustering 851 match the threshold and would be excluded by additional filters such as those described above. Because clusters 850 however, having more than ten segments, it will continue to be filtered until it has the in 9 achieved shown size.
Der gefilterte Graf stellt eine geclusterte Karte dar. 10 stellt ein Beispiel dessen bereit, wie eine geclusterte Karte, die ein oder mehrere Cluster enthält, einem Benutzer gezeigt werden kann.The filtered Graf represents a clustered map. 10 provides an example of how a clustered map containing one or more clusters can be presented to a user.
Jedes Cluster von Segmenten kann auf Basis physikalischer Standorte der POI gefiltert werden, die relativ zu den Straßensegmenten, Kreuzungen und relativ zueinander sind. 11 stellt einen Graf dar, an dem der Standort der Kanten, Knoten und der POI-Markierungen im Graf sich in einem Maßstab befinden, der relativ zu den geographischen Standorten der zugeordneten Straßensegmente, der Straßenkreuzungen und der POI ist.Each cluster of segments may be filtered based on physical locations of POIs that are relative to the road segments, intersections, and relative to each other. 11 Figure 12 illustrates a graph where the location of the edges, nodes, and POI markers in the graph are on a scale that is relative to the geographic locations of the associated road segments, road junctions, and POI.
Eines der Kriterien für das weitere Filtern kann Segmente auf Basis des geographischen Standorts des POI relativ zu den Kreuzungen zurechtschneiden. Falls es, wie in 12 ersichtlich, keinen POI innerhalb einer Schwellenentfernung einer Kreuzung gibt, können alle Kanten, die mit dem Knoten der Kreuzung verbunden sind, vom Graf entfernt werden.One of the criteria for further filtering may truncate segments based on the geographical location of the POI relative to the intersections. If it is, as in 12 As can be seen, there is no POI within a threshold distance of an intersection, all edges connected to the node of the intersection can be removed from the graph.
Ein weiteres Kriterium für das Zurechtschneiden kann auf der Dichte eines POI des Straßensegments relativ zur physikalischen Länge des Segments basieren. Zum Beispiel und wie in 13 ersichtlich, kann ein virtueller Längenwert für jede Kante auf Basis der physikalischen Länge des Segments, die mit der Kante in Verbindung gebracht wird und der Anzahl der POI, die auf dem Segment positioniert sind, berechnet werden. Der virtuelle Abstand zwischen Kreuzungspaaren kann verwendet werden, um zusätzliche Straßensegmente aus dem Cluster herauszuschneiden. Zum Beispiel kann das System den kürzesten Pfad von jedem Knoten zu jedem anderen Knoten auf Basis der virtuellen Länge der Kante ermittelt werden und jede Kante, die nicht entlang mindestens eines dieser Pfade liegt, kann vom Graph entfernt werden. Insoweit veranschaulicht 14 den kürzesten Pfad zwischen Knoten A und E und 15 veranschaulicht den kürzesten Pfad zwischen einem Knoten C und jedem anderen Knoten. 16 veranschaulicht wie der Graf erscheinen würde, wenn jede Kante, dir nicht der kürzeste Pfad zwischen mindestens einem Knotenpaar ist, entfernt wird.Another criterion for trimming may be based on the density of a POI of the road segment relative to the physical length of the segment. For example and how in 13 As can be seen, a virtual length value for each edge can be calculated based on the physical length of the segment associated with the edge and the number of POIs positioned on the segment. The virtual distance between pairs of intersections can be used to cut out extra road segments from the cluster. For example, the system may determine the shortest path from each node to every other node based on the virtual length of the edge, and any edge that is not along at least one of these paths may be removed from the graph. As far as illustrated 14 the shortest path between nodes A and E and 15 illustrates the shortest path between a node C and every other node. 16 Figure 4 illustrates how the graph would appear if any edge, not the shortest path between at least one node pair, is removed.
Straßensegmentcluster können verwendet werden, um Regionen zu identifizieren und anzuzeigen, die für Benutzer von Interesse sein können. 17 veranschaulicht eine Karte, auf der Straßensegmente 750–51 infolge des vorstehend genannten Filtern und Zurechtschneiden identifiziert wurden. Wie in 18 ersichtlich, kann ein Polygon für jeden dieser Segmente generiert werden, worin jede Kante jedes Polygons ein feststehender Abstand von einer Kante des Segmentgrundrisses ist.Road segment clusters can be used to identify and display regions of interest to users. 17 illustrates a map on the road segments 750 -51 were identified as a result of the above-mentioned filtering and trimming. As in 18 As can be seen, a polygon may be generated for each of these segments, wherein each edge of each polygon is a fixed distance from an edge of the segmental outline.
Ein Polygon kann auch für jedes Gebäude generiert werden, das über eine Eigenschaft verfügt, die mit einem der Segmente in Verbindung gebracht wird. Zum Beispiel und wie 19 ersichtlich, kann ein Polygon für ein beliebiges Gebäude generiert werden, das über eine Zugangsroute auf dem Segment verfügt (z. B. eine Tür, oder eine Zufahrt) und einen POI enthält, der bestimmte Kriterien erfüllt (z. B. die Kategorie, die verwendet wird, um die in Verbindung mit 2 beschriebenen POIs auszuwählen.) Bei der Kante der Polygone kann es sich um einen feststehenden Abstand von den Kanten des Grundrisses des jeweiligen Gebäudes handeln.A polygon can also be generated for any building that has a property associated with one of the segments. For example and how 19 As can be seen, a polygon can be generated for any building that has an access route on the segment (eg, a door or driveway) and contains a POI that meets certain criteria (eg, the category that used in conjunction with 2 The edge of the polygons may be a fixed distance from the edges of the floor plan of the particular building.
Wie in 20 und 21 ersichtlich, können alle gebäudespezifischen Polygone, die sich mit einem segmentspezifischen Polygon überkreuzen, ausgewählt werden und mit den segmentspezifischen Polygonen kombiniert werden, um ein großes Polygon auszubilden. Wie in 21 ersichtlich, können Löcher innerhalb des Polygons und enge Räume an den Kanten des Polygons ausgefüllt werden und kleine Vorsprünge an der äußeren Kante können entfernt werden.As in 20 and 21 As can be seen, all building-specific polygons that deal with a segment-specific polygon cross over, be selected and combined with the segment specific polygons to form a large polygon. As in 21 As can be seen, holes within the polygon and narrow spaces at the edges of the polygon can be filled in and small protrusions on the outer edge can be removed.
Wie in 22 ersichtlich, kann das Polygon einem Benutzer auf einer Karte angezeigt werden und somit eine Region hervorheben, die über eine relativ hohe Bevölkerungsdichte des POI verfügt, das für den Benutzer von Interesse sein könnte. Ein Name für die Region könnte durch das Auswählen des Namens der Stadt oder des Stadtteils, in dem die Region erscheint, einer Kategorie, die verwendet wurde, um die POIs auszuwählen, einer Kategorie von Unternehmen, die in dieser Region üblich ist, oder durch das Auswählen des Namens der längsten Straße ermittelt und angezeigt werden.As in 22 As can be seen, the polygon can be displayed to a user on a map and thus highlight a region having a relatively high population density of the POI that could be of interest to the user. A name for the region could be selected by selecting the name of the city or district in which the region appears, a category that was used to select the POIs, a category of companies that is common in that region, or by the Select and display the name of the longest street.
Exemplarische SystemeExemplary systems
1 veranschaulicht ein mögliches System 100, in dem die hierin offengelegte Technologie implementiert werden kann. In diesem Beispiel kann System 100 Computergeräte 110 und 160 beinhalten. Computergerät 110 kann einen oder mehrere Prozessoren 112, Speicher 114 und sonstige Bauteile enthalten, die typischerweise in Allzweckrechnern vorhanden sind. Obwohl 1 jeden der Prozessoren 112 und Speicher 114 funktional als einen einzelnen Block innerhalb Vorrichtung 110 darstellt, die ebenfalls als ein einzelner Block dargestellt ist, kann das System und können die hierin beschriebenen Verfahren mehrere Prozessoren, Speicher und Vorrichtungen beinhalten, die innerhalb dieses physischen Gehäuses aufgenommen sein können oder nicht sein können. Zum Beispiel können verschiedene Verfahren, die nachstehend als eine einzige Komponente (z. B. Prozessor 112) beschrieben werden, mehrere Komponenten (z. B. mehrere Prozessoren in einer lastverteilenden Serverfarm) umfassen. In ähnlicher Weise können verschiedene Verfahren, die nachstehend als verschiedene Komponenten (z. B. Vorrichtung 110 und Vorrichtung 120) beschrieben werden, eine einzige Komponente umfassen (z. B. anstelle von Vorrichtung 120, die eine nachstehend beschriebene Bestimmung durchführt, kann Vorrichtung 120 die relevanten Daten zur Verarbeitung an Vorrichtung 110 senden und die Ergebnisse der Bestimmung zur weiteren Verarbeitung oder Anzeige empfangen). 1 illustrates a possible system 100 in which the technology disclosed herein can be implemented. In this example, system 100 computer equipment 110 and 160 include. computing device 110 can be one or more processors 112 , Storage 114 and other components typically present in general purpose computers. Even though 1 each of the processors 112 and memory 114 functional as a single block within device 110 Also shown as a single block, the system and methods described herein may include a plurality of processors, memory and devices that may or may not be housed within that physical enclosure. For example, various methods, hereinafter referred to as a single component (eg, processor 112 ), multiple components (eg, multiple processors in a load-sharing server farm). Similarly, various methods, hereinafter referred to as various components (eg, apparatus 110 and device 120 ), comprise a single component (eg instead of device 120 , which performs a determination described below, may device 120 the relevant data for processing on device 110 send and receive the results of the determination for further processing or display).
Speicher 114 von Computergerät 110 kann Informationen speichern, die von Prozessor 112 abgerufen werden können, einschließlich der Anweisungen 116, die von Prozessor ausgeführt werden können. Speicher 114 kann außerdem Daten 118 beinhalten, die von Prozessor 112 abgerufen, manipuliert oder gespeichert werden können. Speicher 114 kann jede Art von Speicher sein, der in der Lage ist, Informationen zu speichern, auf die der jeweilige Prozessor Zugriff hat, wie etwa Medien, die in der Lage sind, nicht flüchtige Daten zu speichern. Anhand eines Beispiels kann es sich bei Speicher 114 um eine Festplatte, einen Festkörperspeicher, eine Speicherkarte, RAM, DVD, einen beschreibbaren Speicher oder einen schreibgeschützten Speicher handeln. Darüber hinaus kann der Speicher ein verteiltes Speichersystem enthalten, in dem Daten, wie beispielsweise Daten 118, in einer Vielzahl von unterschiedlichen Speichervorrichtungen gespeichert sind, die sich physikalisch am gleichen oder an unterschiedlichen geografischen Standorten befinden können.Storage 114 from computer device 110 can store information by processor 112 can be obtained, including the instructions 116 that can be executed by processor. Storage 114 can also data 118 include, by processor 112 can be retrieved, manipulated or stored. Storage 114 can be any type of memory capable of storing information that the particular processor has access to, such as media capable of storing nonvolatile data. By way of example, memory may be 114 to a hard disk, a solid state memory, a memory card, RAM, DVD, a writable memory or a read-only memory act. In addition, the memory may include a distributed memory system in which data, such as data 118 are stored in a plurality of different storage devices that may physically reside at the same or different geographical locations.
Die Anweisungen 116 können ein beliebiger Satz von Anweisungen sein, die durch den Prozessor 112 oder ein sonstiges Computergerät auszuführen sind. Diesbezüglich können die Begriffe „Anweisungen”, „Anwendung”, „Schritte” und „Programme” hierin austauschbar verwendet werden. Die Anweisungen können im Object-Code-Format zur sofortigen Verarbeitung durch den Prozessor oder in einer anderen Computergerätesprache gespeichert werden, die Skripte oder Sammlungen von unabhängigen Quellcode-Modulen beinhaltet, die auf Anforderung interpretiert oder vorab kompiliert werden. Funktionen, Verfahren und Routinen der Anweisungen werden unten ausführlicher erklärt. Prozessor 112 kann jeder herkömmliche Prozessor sein, wie etwa eine im Handel erhältliche CPU. Alternativ kann der Prozessor eine dedizierte Komponente, wie etwa eine ASIC oder ein anderer hardwarebasierter Prozessor sein.The instructions 116 can be any set of instructions provided by the processor 112 or any other computing device. In this regard, the terms "instructions", "application", "steps" and "programs" may be used interchangeably herein. The instructions may be stored in object code format for immediate processing by the processor or other computer language language containing scripts or collections of independent source code modules that are interpreted on demand or compiled in advance. Functions, procedures and routines of the instructions are explained in more detail below. processor 112 can be any conventional processor, such as a commercially available CPU. Alternatively, the processor may be a dedicated component, such as an ASIC or other hardware-based processor.
Die Daten 118 können gemäß den Anweisungen 116 vom Computergerät 110 abgerufen, gespeichert oder verändert werden. So können beispielsweise, obwohl der hierin beschriebene Gegenstand nicht durch eine beliebige bestimmte Datenstruktur beschränkt ist, die Daten in Computerregistern, in einer relationalen Datenbank als Tabelle, die viele verschiedene Felder und Datensätze aufweist oder XML-Dokumenten gespeichert werden. Die Daten können außerdem in einem beliebigen computergerätlesbaren Format wie, aber nicht beschränkt auf Binärwerten, ASCII oder Unicode formatiert sein. Des Weiteren können die Daten beliebige Informationen umfassen, die ausreichend sind, um die relevanten Informationen zu identifizieren, wie Zahlen, beschreibenden Text, proprietäre Codes, Zeiger, Referenzen auf Daten, die in anderen Speichern, wie etwa anderen Netzwerkstandorten gespeichert sind oder Informationen, die von einer Funktion verwendet werden, um die relevanten Daten zu berechnen, umfassen.The data 118 can according to the instructions 116 from the computer device 110 be retrieved, saved or changed. For example, although the subject matter described herein is not limited by any particular data structure, the data may be stored in computer registers, in a relational database as a table having many different fields and records, or XML documents. The data may also be formatted in any computer-readable format such as, but not limited to, binary values, ASCII or Unicode. Furthermore, the data may include any information sufficient to identify the relevant information, such as numbers, descriptive text, proprietary codes, pointers, references to data stored in other memory such as other network locations, or information that is stored used by a function to compute the relevant data.
Das Computergerät 110 kann sich an einem Knoten eines Netzwerks 160 befinden und entweder direkt oder indirekt mit anderen Knoten des Netzwerks 160 kommunizieren können. Obwohl nur einige Computergeräte in 1 dargestellt sind, kann ein typisches System eine große Anzahl verbundener Computergeräte beinhalten, wobei sich jedes unterschiedliche Computergerät an einem unterschiedlichen Knoten des Netzwerks 160 befindet. Das Netzwerk 160 und dazwischenliegende Knoten, die hierin beschrieben sind, können unter Verwendung verschiedener Protokolle und Systeme so vernetzt sein, dass das Netzwerk Teil des Internets, Word Wide Web, spezifischer Intranets, Langstreckennetze oder lokaler Netzwerke sein kann. Das Netzwerk kann Standardkommunikationsprotokolle, wie Ethernet, WLAN und HTTP, Protokolle, die proprietär für ein oder mehrere Unternehmen sind und verschiedene Kombinationen der Vorstehenden nutzen. Als ein Beispiel kann Computergerät 110 ein Webserver sein, der imstande ist, mit Computergerät 120 über das Netzwerk 160 zu kommunizieren. Computergerät 120 kann ein Client-Computergerät sein und Server 110 kann Informationen unter Verwendung eines Netzwerks 160 anzeigen und einem Benutzer 125 von Vorrichtung 120 über ein Display 122 Informationen bereitstellen. Obwohl bestimmte Vorteile erzielt werden, wenn Informationen wie oben beschrieben übertragen oder empfangen werden, sind andere Aspekte des hierin beschriebenen Gegenstands nicht auf eine bestimmte Art der Übertragung von Informationen beschränkt.The computer device 110 can connect to a node of a network 160 located and either directly or indirectly with other nodes of the network 160 to be able to communicate. Although only some computer devices in 1 For example, a typical system may include a large number of connected computing devices, each different computing device at a different node of the network 160 located. The network 160 and intervening nodes described herein may be networked using various protocols and systems such that the network may be part of the Internet, Word Wide Web, specific intranets, long distance networks, or local area networks. The network may use standard communication protocols such as Ethernet, WLAN and HTTP, protocols proprietary to one or more companies, and various combinations of the foregoing. As an example, computing device 110 a web server that is capable of using computer device 120 over the network 160 to communicate. computing device 120 can be a client computing device and server 110 can get information using a network 160 Show and a user 125 of device 120 via a display 122 Provide information. Although certain advantages are achieved when transmitting or receiving information as described above, other aspects of the subject matter described herein are not limited to any particular type of information transfer.
Computergerät 120 kann ähnlich dem Server 110 mit einem Prozessor, Speicher und Anweisungen, wie oben beschrieben, konfiguriert sein. Computergerät 120 kann ein persönliches Computergerät sein, das zur Verwendung durch einen Benutzer vorgesehen ist und das alle Bauteile beinhalten kann, die üblicherweise in Verbindung mit einem persönlichen Computergerät verwendet werden, z. B. eine zentrale Verarbeitungseinheit (CPU), ein Speicher, der Daten und Anweisungen speichert, eine Anzeige wie Anzeige 122 (z. B. ein Monitor mit einem Bildschirm, ein berührungsempfindlicher Bildschirm, ein Projektor, ein Fernseher oder ein anderes Gerät, das zur Anzeige von Informationen betrieben werden kann), sowie ein Benutzereingabegerät 162 (z. B. eine Maus, eine Tastatur, ein berührungsempfindlicher Bildschirm, ein Mikrofon usw.) und eine Kamera 163.computing device 120 can be similar to the server 110 with a processor, memory and instructions as described above. computing device 120 may be a personal computing device that is intended for use by a user and that may include all of the components that are commonly used in conjunction with a personal computing device, e.g. A central processing unit (CPU), a memory storing data and instructions, a display such as a display 122 (eg, a monitor with a screen, a touch screen, a projector, a TV or other device that can operate to display information), and a user input device 162 (eg, a mouse, a keyboard, a touch screen, a microphone, etc.) and a camera 163 ,
Computergerät 120 kann außerdem ein mobiles Computergerät sein, das imstande ist, Daten drahtlos über ein Netzwerk, wie dem Internet, mit einem Server auszutauschen. Nur beispielhaft kann Computergerät 120 ein Mobiltelefon oder eine Vorrichtung, wie ein funkfähiger PDA, ein Tablet-PC, ein tragbares Computergerät oder ein Netbook sein, die in der Lage sind, Informationen über das Internet abzurufen. Die Vorrichtung kann konfiguriert sein, um mit einem Betriebssystem wie Googles Betriebssystem Android, Microsoft Windows oder Apple iOS zu funktionieren. Diesbezüglich können einige der Anweisungen, die während der hierin beschriebenen Operationen ausgeführt werden, durch das Betriebssystem bereitgestellt sein, wohingegen andere Anweisungen durch eine Anwendung, die auf der Vorrichtung installiert ist, bereitgestellt sein können. Computergeräte gemäß den hierin beschriebenen Systemen und Verfahren können andere Vorrichtungen beinhalten, die imstande sind, Anweisungen zu verarbeiten und Daten an und von Menschen und/oder anderen Computer, einschließlich Netzwerkcomputern, denen eine lokale Speichermöglichkeit fehlt und Set-Top-Boxen für Fernseher zu übertragen.computing device 120 may also be a mobile computing device capable of wirelessly exchanging data with a server over a network, such as the Internet. Only by way of example can computing device 120 a mobile phone or a device such as a wireless PDA, a tablet PC, a portable computing device, or a netbook that are capable of retrieving information over the Internet. The device may be configured to work with an operating system such as Google's Android operating system, Microsoft Windows or Apple iOS. In this regard, some of the instructions that are executed during the operations described herein may be provided by the operating system, whereas other instructions may be provided by an application installed on the device. Computer devices according to the systems and methods described herein may include other devices capable of processing instructions and transmitting data to and from humans and / or other computers, including networked computers lacking local storage capability and television set-top boxes ,
Computergerät 120 kann eine Komponente 130, wie Schaltungen, beinhalten, um den geografischen Standort und Ausrichtung der Vorrichtung zu bestimmen. Die Komponente kann zum Beispiel einen GPS-Empfänger 131 beinhalten, um den Breitengrad, Längengrad und/oder die Höhenlage des Geräts zu bestimmen. Die Komponente kann außerdem Software zum Bestimmen der Position der Vorrichtung basierend auf anderen Signalen, die an einer Client-Vorrichtung 120 empfangen werden, wie Signale, die an einer Antenne eines Mobiltelefons von einem oder mehreren Mobilfunkmasten empfangen werden, wenn die Client-Vorrichtung ein Mobiltelefon ist, umfassen. Sie kann außerdem einen Magnetkompass 132, einen Beschleunigungssensor 133 und Gyroskop 134 beinhalten, um die Richtung, in der die Vorrichtung ausgerichtet ist, zu bestimmen.computing device 120 can be a component 130 such as circuits, to determine the geographic location and orientation of the device. The component can for example be a GPS receiver 131 include to determine the latitude, longitude, and / or elevation of the unit. The component may also include software for determining the position of the device based on other signals sent to a client device 120 such as signals received at an antenna of a mobile phone from one or more mobile masts when the client device is a mobile phone. It also has a magnetic compass 132 , an acceleration sensor 133 and gyroscope 134 to determine the direction in which the device is aligned.
Der Server kann kartenbezogene Informationen, wie etwa die Namen und Standorte von Straßen speichern. Der Standort einer Straße kann als einer oder mehrere Straßensegmente gespeichert werden, bei denen jedes Segment eine Straße, oder einen Abschnitt der Straße, die sich zwischen zwei geographischen Standorten erstreckt, darstellt Falls zum Beispiel eine Straße namens „Hauptstraße” mit Straßennamen „Erste Straße”, „Zweite Straße” und „Dritte Straße” dementsprechend kreuzen würde, könnte der erste Abschnitt der Hauptstraße, der sich zwischen der ersten Straße und der zweiten Straße erstreckt, als ein Segment gespeichert werden und der Abschnitt der Hauptstraße, der sich zwischen der zweiten Straße und der dritten Straße erstreckt, als ein anderes Segment gespeichert werden. Ein individuelles Straßensegment kann im Speicher als eine Serie von kleineren Straßensegmenten gespeichert werden. Falls das Segment der Hauptstraße, das sich beispielsweise zwischen der Kreuzung mit der ersten Straße und der zweiten Straße erstreckt, kurvenreich verläuft, kann dieses Segment als eine Serie von linearen Straßensegmenten gespeichert werden, im Rahmen derer, jedes lineare Straßensegment von einem Paar von Breitengrad/Längengrad-Positionen, die auf der Straße positioniert sind, definiert werden. Das Segment zwischen der ersten Straße und der zweiten Straße kann auch als eine Serie von parabolischen Straßensegmenten gespeichert werden, wobei jedes parabolische Straßensegment von drei Breitengrad/Längengrad-Positionen, die auf der Straße positioniert sind, definiert wird. Straßensegmente können optional andere geographisch-orientierte Bahnen, wie etwa Fußgängerwege, darstellen.The server can store card-related information, such as the names and locations of roads. The location of a street may be stored as one or more street segments where each segment represents a street, or a portion of the street that extends between two geographic locations. For example, if a street called "Main Street" with street name "First Street""SecondRoad" and "Third Road" would cross accordingly, the first section of the main road that extends between the first road and the second road could be stored as a segment and the section of the main road extending between the second road and the third road extends as another segment is stored. An individual road segment can be stored in memory as a series of smaller road segments. If the segment of the main road extending, for example, between the intersection with the first road and the second road is winding, this segment may be stored as a series of linear road segments, in which each linear road segment is separated from a pair of latitude / Longitude positions that are positioned on the road can be defined. The segment between the first street and the second street may also be stored as a series of parabolic road segments, wherein each parabolic road segment is defined by three latitude / longitude positions positioned on the road. Road segments may optionally represent other geographically-oriented tracks, such as pedestrian paths.
Die kartenbezogenen Informationen können Punkte von Interesse (POI) beinhalten, wie etwa ein Restaurant, ein Unternehmen, ein Gebäude, einen Park, einen See oder jede andere Einheit von potentiellem Interesse für Benutzer, die mit einem geographischen Standort in Verbindung gebracht wird. Zusätzlich zum Namen und dem Standort des POI, kann das System einen POI mit einer oder mehreren Kategorien in Verbindung bringen (z. B. „Restaurant”).The map related information may include points of interest (POI), such as a restaurant, business, building, park, lake, or any other entity of potential interest to users associated with a geographic location. In addition to the name and location of the POI, the system may associate a POI with one or more categories (eg, "restaurant").
Standorte können auf einem Speicher gespeichert werden, das sich eines oder mehrerer Referenzsysteme bedient, z. B. Breitengrad-/Längengradpositionen, Straßennamen, Straßenkreuzungen, eine x-y-Koordinate in Bezug auf Kanten einer Karte (z. B. Pixelpositionen, wenn ein Benutzer auf eine Karte klickt), Namen von Gebäuden und anderen Informationen in anderen Referenzsystemen, die einen geographischen Standort identifizieren können (z. B. Grundstücks- und Blocknummern auf Übersichtskarten). Ein geographischer Standort kann auch als eine Reihe des Vorstehenden (z. B. der Standort einer Stadt kann von der geographischen Position ihrer Grenzen definiert werden) gespeichert werden, und das System kann Standorte von einem Referenzsystem auf das andere umformatieren. Zum Beispiel kann Server 110 auf einen Geocoder zugreifen, um einen Standort, der als eine Straßenadresse gespeichert wird, in eine Breitengrad-/Längengrad-Koordinate umzuwandeln (z. B. von „1500 Amphitheatre Parkway, Mountain View, CA” zu „37.423021°, –122.083939°”).Locations can be stored in a memory that uses one or more reference systems, eg. Latitude / longitude positions, street names, street intersections, an xy coordinate with respect to edges of a map (e.g., pixel locations when a user clicks on a map), names of buildings, and other information in other reference systems that is geographic Location (for example, land and block numbers on outline maps). A geographic location may also be stored as a series of the foregoing (eg, the location of a city may be defined by the geographic location of its boundaries), and the system may reformat locations from one reference system to the other. For example, server can 110 access a geocoder to convert a location stored as a street address into a latitude / longitude coordinate (e.g., from "1500 Amphitheater Parkway, Mountain View, CA" to "37.423021 °, -122.083939 °" ).
Das System kann auch Informationen speichern, aus denen der Grundriss eines geographisch positionierten Objekts ermittelt werden kann. Zum Beispiel kann der Server einen Grundriss des Gebäudes als ein Polygon speichern, dessen Scheitelpunkte spezifischen Breitengrad/Längengrad Positionen entsprechen. Grundrisse können auch auf Basis einer oder mehrerer Annahmen ermittelt werden. Auf exemplarische Art und Weise, falls das System nur auf die Breitengrad/Längengrad-Position der Endpunkte eines Straßensegments zugreifen kann, kann das System ermitteln, dass der Grundriss des Straßensegments ein Rechteck ist, das sich zwischen zwei Endpunkten erstreckt und so breit wie eine typische zweispurige Fahrbahn ist.The system can also store information from which the floor plan of a geographically positioned object can be determined. For example, the server may store a floor plan of the building as a polygon whose vertices correspond to specific latitude / longitude positions. Floor plans can also be determined on the basis of one or more assumptions. By way of example, if the system can only access the latitude / longitude position of the endpoints of a road segment, the system may determine that the floor plan of the road segment is a rectangle that extends between two endpoints and as wide as a typical one is two-lane roadway.
Das System kann auch angeben, ob ein Gebäude über eine Zugangsroute zu einem Straßensegment verfügt. Zum Beispiel können Daten 118 angeben, dass ein Gebäude über einen öffentlichen Eingang verfügt, der einem bestimmten Straßensegment zugewandt ist und sich innerhalb einer bestimmten Entfernung davon befindet oder dass es zwischen einem bestimmten Straßensegment (wobei in diesem Fall von einer Zugangsstraße zum Straßensegment ausgegangen werden kann) und dem öffentlichen Eingang einen Fußgängerweg gibt.The system can also specify whether a building has an access route to a road segment. For example, data 118 indicate that a building has a public entrance facing a certain road segment within a certain distance of it, or that it is between a particular road segment (in which case an access road to the road segment can be assumed) and the public entrance There is a pedestrian path.
Exemplarische VerfahrenExemplary procedure
Ein Verfahren für das Ermitteln und zum Anzeigen einer Karte einer gewerblichen, geographischen Region von Interesse für Benutzer, wird im Folgenden beschrieben. Es sei darauf hingewiesen, dass die folgenden Operationen nicht in der nachstehend beschriebenen genauen Reihenfolge durchgeführt werden müssen. Vielmehr können verschiedene Schritte in unterschiedlicher Reihenfolge oder gleichzeitig erledigt werden.A method for determining and displaying a map of a commercial geographic region of interest to users is described below. It should be noted that the following operations need not be performed in the order described below. Rather, different steps can be done in different order or simultaneously.
Die geographische Region kann sich innerhalb eines großen geographischen Bereichs, der vom System identifiziert wird, befinden. Zum Beispiel kann Server 110 eine Anfrage nach Informationen über eine spezifische Stadt von Benutzer 125 über Client-Einrichtung 120 erhalten. Server 110 kann auch den geographischen Bereich durch das iterative Auswählen und Verarbeiten von Städten, die in Daten 118 gespeichert werden, identifizieren.The geographic region may be located within a large geographic area identified by the system. For example, server can 110 a request for information about a specific city of users 125 via client setup 120 receive. server 110 can also change the geographical area by iteratively selecting and processing cities in data 118 be stored, identify.
Das System kann Karteninformationen, die mit dem zu verarbeitenden geographischen Bereich in Verbindung gebracht werden, abrufen. 2 stellt eine Karte als ein Beispiel eines derartigen Bereichs bereit. Insoweit setzt sich Karte 200 aus miteinander verbundenen Straßensegmenten wie etwa Segmenten 210–212 zusammen.The system can retrieve map information associated with the geographic area to be processed. 2 provides a map as an example of such an area. In that regard, sits card 200 from interconnected road segments such as segments 210 - 212 together.
Die Karteninformationen können Standort und Kategorien des POI innerhalb des Bereichs beinhalten. Geographische Bereiche, die eine relativ hohe Konzentration von Restaurants umfassen, die sich in fußläufiger Entfernung voneinander befinden, sind bei Benutzern oft sehr beliebt. Daher kann das System die Region von Interesse auf Basis des POI, der mit der Restaurantkategorie in Verbindung gebracht wird, identifizieren. Die Standorte der Restaurants werden auf Karte 200 als tropfenförmige Form dargestellt. Karte 200 gibt daher an, dass auf Segment 210 vier Restaurants positioniert sind, auf Segment 211 ein Restaurant positioniert ist, und auf Segment 212 ein Restaurant positioniert ist. Eine weitere Kategorie des POI kann verbraucherorientierte Geschäfte beinhalten.The map information may include location and categories of the POI within the area. Geographic areas, which include a relatively high concentration of restaurants within walking distance of each other, are often popular with users. Therefore, the system can identify the region of interest based on the POI associated with the restaurant category. The locations of the restaurants are on map 200 shown as a drop-shaped form. map 200 therefore indicates that on segment 210 four restaurants are positioned on segment 211 a restaurant is positioned, and on segment 212 a restaurant is positioned. Another category of the POI may include consumer-oriented businesses.
Das System kann einen Graf auf Basis der Karteninformationen generieren, worin jede Kante ein Straßensegment repräsentiert und jeder Knoten die Kreuzung des einen oder der mehreren Straßensegmente mit einem anderen Straßensegment darstellt. Insoweit stellen Kanten 310, 311, und 312 in 3 jeweils Straßensegmente 210, 211 und 212 dar und Knoten 321 stellt die Kreuzung des Straßensegments 210 und des Straßensegments 211 dar.The system may generate a count based on the map information, wherein each edge represents a road segment and each node represents the intersection of the one or more road segments with another road segment. In that regard, make edges 310 . 311 , and 312 in 3 each street segments 210 . 211 and 212 and knots 321 represents the intersection of the road segment 210 and the road segment 211 represents.
Jede Kante des Grafs kann mit einem Auswertungsergebnis in Verbindung gebracht werden, das auf der Anzahl der POI, die auf dem zugeordneten Straßensegment positioniert sind, basiert. Zum Beispiel kann den Kanten 310, 311 und 312 anfänglich ein Ergebnis von 4, 1 und 1 auf Basis der Anzahl der Restaurants, die jeweils auf den Straßensegmenten 210, 211 und 212 positioniert sind, zugeordnet werden. (Zur einfacheren Bezugnahme beziehen sich die verbliebenen Figuren hauptsächlich auf die Knoten und die Kanten gemäß Buchstaben und nicht gemäß Referenznummern.) Ein POI kann nur als auf einem Segment positioniert betrachtet werden, wenn er über eine Zugangsroute zum Segment verfügt. Zusätzlich oder alternativ kann eine POI als auf einem Segment positioniert betrachtet werden, wenn er sich innerhalb einer Schwellenentfernung vom Segment befindet oder falls er über eine Straßenadresse verfügt, die sich innerhalb eines Bereichs von Adressennummern befindet, die mit diesem Segment in Verbindung gebracht werden.Each edge of the graph may be associated with an evaluation result based on the number of POIs positioned on the associated road segment. For example, the edges 310 . 311 and 312 initially a result of 4, 1 and 1 based on the number of restaurants, each on the road segments 210 . 211 and 212 are assigned to be assigned. (For ease of reference, the remaining figures refer mainly to the nodes and the edges according to letters and not according to reference numbers.) A POI can only be considered positioned on a segment if it has an access route to the segment. Additionally or alternatively, a POI may be considered to be positioned on a segment if it is within a threshold distance from the segment, or if it has a street address that is within a range of address numbers associated with that segment.
Das Gesamtergebnis kann auch vom Ergebnis abhängen, das dem jeweiligen POI zugeordnet worden ist. Zum Beispiel können Restaurants, die in einer Suche für alle Restaurants in dem Bereich höher eingestuft werden, ein höheres Ergebnis als anderen Restaurants zugeordnet werden, wobei in diesem Fall Straßensegmente mit der gleichen Anzahl von Restaurants anfänglich ungleiche Ergebnisse aufweisen können.The overall result may also depend on the outcome that has been assigned to the respective POI. For example, restaurants ranked higher in a search for all restaurants in the area may be given a higher score than other restaurants, in which case street segments with the same number of restaurants may initially have uneven results.
Das einem Straßensegment zugeordnete Ergebnis kann auf dem Ergebnis eines benachbarten Segments basieren. Wie oben bemerkt, kann Ergebnis 331 der Kante 310 (im Folgenden, Kante „AB”) anfänglich ein Wert von 4 zugeordnet werden, da 4 POI auf dem Straßensegment 211 positioniert werden. Da Kante AB sich mit Kante BC bei Knoten B überkreuzt, kann ein Abschnitt des anfänglichen Ergebnisses von Kante AB dem Ergebnis der Kante BC hinzugefügt werden. Zum Beispiel kann ein Wert, der Eins weniger als Wert 331 der Kante AB beträgt, Wert 332 von Kante BC hinzugefügt werden, d. h. der Wert des Ergebnisses 332 kann um 3 erhöht werden. Kante CD überkreuzt sich direkt mit Kante BC bei Knoten C, weswegen Ergebnis 333 der Kante CD auch erhöht werden kann, aber um einen Betrag, der weniger als die Zunahme zu Kante BC beträgt. Da Ergebnis 331 der Kante BC anhand eines Beispiels um 3 erhöht wurde, kann Ergebnis 333 von Kante CD um 2 erhöht werden. Ein Abschnitt dieses Anstiegs wird im Gegenzug zur angrenzenden Kante DE hinzugefügt, z. B. Ergebnis 334 der Kante ED kann um 1 erhöht werden. Der Zunahmebetrag, der auf die ursprüngliche Quellenkante zurückzuführen ist, kann weiterhin abnehmen, bis keine Zunahme mehr verzeichnet werden kann. Zum Beispiel wird das Ergebnis der Kante EF nicht erhöht, da das Abziehen von Eins von der Zunahme zu Kante ED (+1) mit einer Zunahme von 0 gleichzusetzen ist.The result associated with a road segment may be based on the result of an adjacent segment. As noted above, can result 331 the edge 310 (hereinafter, edge "AB") initially assigned a value of 4, since 4 POI on the road segment 211 be positioned. Since edge AB intersects edge BC at node B, a portion of the initial result of edge AB may be added to the result of edge BC. For example, a value that is one less than value 331 the edge AB is, value 332 be added by edge BC, ie the value of the result 332 can be increased by 3. Edge CD crosses directly with edge BC at node C, so result 333 The edge CD can also be increased, but by an amount that is less than the increase to edge BC. As result 331 the edge BC has been increased by 3 by an example, can result 333 be increased by 2 by edge CD. A portion of this rise is in turn added to the adjacent edge DE, e.g. B. Result 334 the edge ED can be increased by 1. The increase amount due to the original source edge may continue to decrease until no increase can be noted. For example, the result of the edge EF is not increased, since subtracting one from the increase to edge ED (+1) equates to an increase of zero.
Jede Kante, die an einer Kante angrenzt, der über ein Ergebnis verfügt, das aktualisiert worden ist, kann sein Ergebnis aktualisiert haben. Infolgedessen können die Änderungen von einer einzelnen Kante durch den Graf diffundiert werden. Wie in 4 ersichtlich, werden die Ergebnisse der Kanten CG, GH, GI, CJ ebenfalls, aufgrund des Ergebnisses, das Kante AB zugeordnet worden ist, erhöht.Any edge adjacent to an edge that has a result that has been updated may have its result updated. As a result, the changes from a single edge can be diffused through the graph. As in 4 As can be seen, the results of the edges CG, GH, GI, CJ are also increased due to the result that has been assigned to the edge AB.
Das mit einem Straßensegment in Verbindung gebrachte Ergebnis kann daher nicht nur auf der Anzahl der POI basieren, die auf einem Segment positioniert sind, sondern auch auf der Anzahl der POI, die auf vielen anderen Segmenten positioniert sind. Zum Beispiel wie in den 5 und 6 ersichtlich, basiert Ergebnis 532 von Kante BC auf der Anzahl der POI, die auf seinem zugehörigen Segment (1) positioniert sind und der Zunahme (+3) aufgrund von Ergebnis 331 der angrenzenden Kante AB, die ein Gesamtergebnis von 4 zur Folge hat. Kante GI verfügt über keinen POI, auf dem zugehörigen Straßensegment (Segment 240 von 2). Selbst unter diesen Bedingungen ist Ergebnis 540 von Kante GI relativ hoch aufgrund der Zunahmen von +1, +2 und +1, die es von den anfänglichen Ergebnissen 331, 541 und 542, die den jeweiligen Kanten AB, IK und KL zugeordnet worden sind, erhält.The result associated with a road segment can therefore be based not only on the number of POIs positioned on a segment, but also on the number of POIs positioned on many other segments. For example like in the 5 and 6 apparent, result is based 532 of edge BC on the number of POIs positioned on its associated segment (1) and the increase (+3) due to result 331 the adjacent edge AB, which results in a total score of 4. Edge GI has no POI, on the associated road segment (segment 240 from 2 ). Even under these conditions is result 540 edge GI relatively high due to the increases of +1, +2 and +1, which it from the initial results 331 . 541 and 542 , which have been assigned to the respective edges AB, IK and KL receives.
Im vorstehenden Beispiel ist die Zunahme zu einem Straßensegment aufgrund eines unterschiedlichen Straßensegments direkt und umgekehrt proportional zur niedrigsten Zahl der Straßenkreuzungen zwischen den zwei Segmenten. Die Ergebnisse angrenzender Kanten können jedoch auch auf andere Arten angepasst werden. Auf exemplarische Weise kann das Ausmaß der Zunahme exponentiell mit jeder Kreuzung abnehmen, kann auf die niedrigste Anzahl der Kreuzungen auf zwei unterschiedlichen Pfaden beruhen und kann auf den physischen Abstand zwischen zwei Segmenten beruhen.In the above example, the increase to a road segment due to a different road segment is directly and inversely proportional to the lowest number of road intersections between the two segments. However, the results of adjacent edges can also be adjusted in other ways. By way of example, the amount of increase may decrease exponentially with each intersection, may be based on the lowest number of intersections on two different paths, and may be based on the physical distance between two segments.
Anstatt potentiell interessante Segmente ausschließlich auf den mit ihnen verbundenen anfänglichen Ergebnissen der Kanten und aktualisierten Ergebnissen auszuwählen, kann der Graf auch auf Basis einer Vielzahl von Kriterien gefiltert werden.Instead of selecting potentially interesting segments based solely on the initial edge results and updated results associated with them, the graph can also be filtered based on a variety of criteria.
Diese Kriterien können Eigenschaften beinhalten, die sich spezifisch auf eine einzelne Kante/auf ein einzelnes Segment beziehen. Anhand eines Beispiels kann das Ergebnis jeder Kante mit einem vorbestimmten Schwellenwert verglichen werden und vom Graf ausgesondert werden, falls dessen Ergebnis sich unterhalb des Schwellenwerts befindet. 7 zeigt das Ergebnis des Entfernen jeglicher Kanten, wie etwa Kanten DE und EF, die das Kriterium „Ergebnis ≥ 2” nicht erfüllen können.These criteria may include properties that are specific to a single edge / segment. By way of example, the result of each edge may be compared to a predetermined threshold and discarded from the graph if its result is below the threshold located. 7 shows the result of removing any edges, such as edges DE and EF, that can not satisfy the criterion "result ≥ 2".
Ein derartiges Filtern des Grafs kann interaktiv mit zunehmend größeren Schwellenwerten fortgesetzt werden, welche den Graf letzten Endes dazu veranlassen, Cluster verbundener Straßensegmente darzustellen, die von anderen Cluster verbundener Straßensegmente getrennt sind. Auf exemplarische Art und Weise und wie in 8 ersichtlich, können zwei Cluster von Kanten 850 und 851 im Graf verbleiben, nachdem die Kanten, die das Kriterium „Ergebnis ≥ 3” nicht erfüllen können, ausgesondert werden.Such filtering of the count may be continued interactively with progressively larger thresholds that ultimately cause the graph to represent clusters of connected road segments that are separate from other clusters of connected road segments. In an exemplary way and as in 8th You can see two clusters of edges 850 and 851 remain in the graph after the edges that can not satisfy the criterion "result ≥ 3" are discarded.
Der Graf kann auch auf Basis von Kriterien, die von mehr als einem Segment abhängen, gefiltert werden. Das vorstehend genannte iterative Filtern kann zum Beispiel fortgesetzt werden, bis ein Cluster von Kanten eine bestimmte Größe erreicht, die relativ zu einem bereichbasierten Schwellenwert ist. Falls anhand eines Beispiels und wie in 8 ersichtlich, erfordert wird, dass Cluster aus zehn oder weniger Segmenten bestehen, würde Cluster 851 die Schwellenwertbedingungen erfüllen, da es nur über drei Segmente verfügt (PQ, QN, QR). Infolgedessen würde Cluster 851 vom zusätzlichen Filtern ausgeschlossen werden. Cluster 850 verfügt auf der anderen Seite über mehr als zehn Segmente, weswegen es weiterhin gefiltert werden würde, z. B. kann der segmentbasierte Schwellenwert für Cluster 850 auf „Ergebnis ≥ 4” erhöht werden. Wie in 9 ersichtlich, erfüllt Cluster 850 im Anschluss daran die bereichbasierten Kriterien. Der bereichbasierte Schwellenwert kann auch einen Bereich definieren. Falls eine Zunahme im Schwellenwert ein Cluster beispielsweise dazu veranlasst, zu klein zu werden, kann das gesamte Cluster vom Graph vollständig entfernt werden.The count can also be filtered based on criteria that depend on more than one segment. For example, the aforementioned iterative filtering may continue until a cluster of edges reaches a certain size that is relative to a region-based threshold. If by example and as in 8th Obviously, clusters that consist of ten or fewer segments would require clusters 851 meet the threshold conditions because it has only three segments (PQ, QN, QR). As a result, clusters would 851 excluded from additional filtering. cluster 850 on the other hand has more than ten segments, so it would still be filtered, e.g. For example, the segment-based threshold for clusters 850 to "result ≥ 4". As in 9 apparent, meets clusters 850 then the area-based criteria. The scope-based threshold can also define an area. For example, if an increase in threshold causes a cluster to become too small, the entire cluster can be completely removed from the graph.
Im vorstehenden Beispiel basiert die Größe des Straßensegments auf der Gesamtzahl seiner zugehörigen Kanten. Die Größe eines Clusters kann jedoch auch auf andere Arten ermittelt werden. Anhand eines Beispiels kann die Größe auf der kombinierten physikalischen Länge aller Segmente, der Anzahl der Segmente im kürzesten oder längsten sich nicht überlappenden Pfad von Segmenten, der physikalischen Länge der kürzesten oder längsten sich nicht überlappenden überlappenden Pfad von Segmenten, der Gesamtanzahl von Hektar (Morgen) innerhalb eines Polygons, die von den geographischen Standorten der äußersten Kreuzungen im Cluster oder Kombinationen des vorstehenden definiert werden, basieren.In the above example, the size of the road segment is based on the total number of its associated edges. However, the size of a cluster can also be determined in other ways. By way of example, the size may be on the combined physical length of all segments, the number of segments in the shortest or longest non-overlapping path of segments, the physical length of the shortest or longest non-overlapping overlapping path of segments, the total number of hectares (acres ) within a polygon defined by the geographic locations of the outermost junctions in the cluster or combinations of the above.
Der gefilterte Graf repräsentiert eine geclusterte Karte, die einem Benutzer angezeigt werden kann. 10 stellt ein Beispiel dessen bereit, wie eine geclusterte Karte, die ein oder mehrere Cluster enthält, einem Benutzer gezeigt werden kann. Browser 1010 zeigt eine Karte 1020 an, die Ähnlichkeiten mit der Karte, die in Verbindung mit 2 beschrieben wird, aufweist, obwohl die Karte auch visuelle Charakteristiken beinhaltet, die das Cluster der Segmente 1050 und 1051, die mit den Grafclustern 850 und 851 in Verbindung gebracht werden, auf dementsprechende Weise identifiziert.The filtered count represents a clustered map that can be viewed by a user. 10 provides an example of how a clustered map containing one or more clusters can be presented to a user. browser 1010 shows a map 1020 the similarities with the card in connection with 2 although the map also includes visual characteristics representing the cluster of segments 1050 and 1051 that with the graph clusters 850 and 851 identified in a corresponding manner.
Jedes Cluster von Segmenten kann ferner durch das Zurechtschneiden des Grafs auf Basis der geographischen Standorte des POI, relativ zu den Straßensegmenten, Kreuzungen und sonstigen Elementen gefiltert werden. Als Veranschaulichung stellt 11 einen Graf 1110 dar, bei dem die Länge der Kanten, und der Standort der Knoten und der damit in Verbindung stehende POI sich im ungefähren Maßstab mit den geographischen Standorten, die mit Straßensegmenten, Kreuzungen und POI in Verbindung gebracht werden, befindet. Zum Beispiel repräsentiert AB eine erstes Straßensegment, das 100 m lang ist. Kante AF stellt ein zweites Straßensegment dar, das sich mit dem ersten Straßensegment überschneidet und die Entfernung von der Kreuzung zur nächsten Kreuzung beträgt 144 m. Jede tränenförmige Form stellt einen POI dar; zum Beispiel befinden sich die auf Graf 1110, relativ zu den Knoten C und E befindlichen Positionen der POI, maßstabsgetreue Indikatoren 1180–82 in Bezug auf den geographischen Standort der drei POI auf einem Straßensegment, das sich zwischen den Kreuzungen, die mit diesem Knoten in Verbindung gebracht werden, erstreckt. Anhand eines weiteren Beispiel, beträgt der geographische Abstand von POI 1150 zur von Knoten H dargestellten Kreuzung 32 m.Each cluster of segments may also be filtered by trimming the graph based on the geographical locations of the POI, relative to the road segments, intersections, and other elements. As an illustration 11 a count 1110 in which the length of the edges, and the location of the nodes and the associated POI are on an approximate scale with the geographical locations associated with road segments, intersections and POIs. For example, AB represents a first road segment that is 100 meters long. Edge AF represents a second road segment that overlaps the first road segment and the distance from the intersection to the next intersection is 144 m. Each teardrop shape represents a POI; for example, they are on Graf 1110 , relative to the nodes C and E positions of the POI, true to scale indicators 1180 With respect to the geographical location of the three POIs on a road segment extending between the intersections associated with that node. By way of another example, the geographic distance is POI 1150 to the junction of 32 m, represented by node H.
Ein Kriterium für das Zurechtschneiden kann auf dem geographischen Standort des POI relativ zu den Kreuzungen basieren. Falls es zum Beispiel kein POI innerhalb einer Schwellenwertentfernung von einer Kreuzung gäbe, könnten alle Kanten die mit dem Knoten, der mit der Kreuzung in Verbindung steht, verbunden sind, vom Graf entfernt werden. Anhand eines Beispiels veranschaulicht Referenzkreis 1280 aus 12 eine Schwellenwertentfernung von 25 m (Radius). Referenzkreis 1280 ist um Fadenkreuz 1290 zentriert, das Standort des POI 1180 entspricht. Wie in der Figur ersichtlich, befindet sich Knoten C innerhalb der 25 m Schwellenwertentfernung vom Fadenkreuz 1290, d. h. der Standort des POI 1180. Demzufolge gibt es mindestens einen POI innerhalb einer Schwellenwertentfernung von Knoten C, damit Knoten C das Zurechtschneiden auf Basis dieses bestimmten Kriteriums überlebt. Gleiches gilt auch bezüglich des Referenzkreises 1281, (welcher den Bereich darstellt, der 25 m vom Standort des POI 1182 entfernt ist) und Knoten E. Da beide Knoten C und E das Zurechtschneiden überleben, gilt dasselbe auch für Kante CE. Alternativ können die Kanten über das Ermitteln eines Ergebnisses auf Basis der Anzahl ihrer POI, die sich innerhalb eines Schwellenwertabstands einer Kreuzung befinden und das Aussondern der Kanten mit Ergebnissen unterhalb eines Schwellenwerts, zurechtgeschnitten werden.A trimming criterion may be based on the geographical location of the POI relative to the intersections. For example, if there were no POI within a threshold distance from an intersection, all edges connected to the node associated with the intersection could be removed from the graph. An example illustrates a reference circle 1280 out 12 a threshold distance of 25 m (radius). reference circle 1280 is around crosshair 1290 centered, the location of the POI 1180 equivalent. As seen in the figure, node C is within the 25 m threshold distance from the crosshairs 1290 ie the location of the POI 1180 , As a result, there is at least one POI within a threshold distance of node C for node C to survive trimming based on this particular criterion. The same applies also with regard to the reference circle 1281 , (which represents the area 25 m from the location of the POI 1182 is removed) and node E. Since both nodes C and E survive trimming, the same holds true for edge CE. Alternatively, the edges may be determined by determining a result based on the number their POIs, which are within a threshold distance of an intersection, and crop the edges with results below a threshold.
Auf der anderen Seite befinden sich keine POI innerhalb eines Schwellenwertabstands von Knoten H. Wie von Referenz 1250 ersichtlich, handelt es sich bei dem nächsten POI um POI 1150 und er befindet sich 25 m von der Kreuzung entfernt, die von Knoten H dargestellt wird. Deswegen werden Knoten H und alle Kanten, die mit dem Knoten in Verbindung stehen (z. B. Kanten BH und CH) vom Graph 1110 ausgesondert.On the other hand, there are no POIs within a threshold distance of node H. As of reference 1250 As can be seen, the next POI is POI 1150 and it is located 25 meters from the junction represented by node H. Therefore, node H and all edges associated with the node (eg, edges BH and CH) become graph 1110 discarded.
Die Schwellenwertentfernung kann auf Basis der Wahrscheinlichkeit ausgewählt werden, dass Fußgänger bereit sind, eine bestimmte Entfernung zu Fuß zurückzulegen, wenn sie ein unterschiedliches POI entdecken möchten. Insoweit und unter mindestens einigen Umständen wurde die Schwellenwertentfernung auf 50 m angesetzt. Der im Voraus ermittelte Schwellenwert kann auf Basis von Daten, die vom System erhalten werden, ermittelt werden.Threshold distance may be selected based on the likelihood that pedestrians will be willing to walk a certain distance if they want to discover a different POI. In that regard, and under at least some circumstances, the threshold distance was set at 50 m. The threshold determined in advance may be determined based on data obtained from the system.
Falls die Fußgängerverkehrsdaten in einer bestimmten Stadt zum Beispiel angeben, dass Fußgänger dazu neigen, größere Entfernungen als durchschnittlich pro Tag zurückzulegen, dann kann die im Voraus ermittelte Schwellenwertentfernung, die mit dieser Stadt in Verbindung gebracht wird, automatisch auf einen Wert eingestellt werden, der proportional größer als der durchschnittliche Schwellenwert ausfällt, der für andere Städte eingestellt ist.For example, if the pedestrian traffic data in a particular city indicates that pedestrians tend to travel longer distances than average per day, then the pre-determined threshold distance associated with that city may be automatically set to a value that is proportional greater than the average threshold set for other cities.
Andere Kriterien für das Zurechtschneiden können auf der Dichte der POI entlang eines Straßensegments beruhen. Zum Beispiel und wie in 13 ersichtlich, kann ein Ergebnis, das mit einem Segment in Verbindung gebracht wird, einen virtuellen Längenwert darstellen, der für jede Kante auf Basis der physikalischen Länge des mit der Kante in Verbindung gebrachten Segments und der Anzahl der POI, die auf dem Segment positioniert sind, berechnet wird. Der Wert kann in Übereinstimmung mit Funktion Vs = max(L – D·N, 0) berechnet werden, wobei
- Vs
- = virtuelle Länge von Segment S,
- max(x, 0)
- = eine Funktion, die X oder 0 zurücksendet, je nachdem, welcher davon größer ausfällt.
- L
- = physikalische Länge von Segment S,
- D
- = ein Koeffizient gleich (Benchmarklänge)/(bevorzugte Mindestanzahl von POI innerhalb der Benchmarklänge), und
- N
- = Anzahl von POI, die auf Segment S positioniert sind.
Other criteria for trimming may be based on the density of the POI along a road segment. For example and how in 13 As can be seen, a result associated with a segment may represent a virtual length value, for each edge, based on the physical length of the segment associated with the edge and the number of POIs positioned on the segment. is calculated. The value can be in accordance with function V s = max (L - D x N, 0), in which - V s
- = virtual length of segment S,
- max (x, 0)
- = a function that returns X or 0, whichever is greater.
- L
- = physical length of segment S,
- D
- = a coefficient equal to (benchmark length) / (preferred minimum number of POIs within the benchmark length), and
- N
- = Number of POIs positioned on segment S.
Die in 13 angezeigten Werte basieren auf einem bevorzugten Minimum von 4 POI für jeden 100 m langen Streckenabschnitt der Straße, das heißt D = 100/4 = 25. Da es anhand eines Beispiels drei POI gibt, die auf Kante AB positioniert sind und die physikalische Länge, die mit der Kante in Verbindung gebracht wird, 100 m beträgt, beträgt die virtuelle Länge 1310 von AB = max (100 – 25·3,0) = 25. Es gibt keine POI, die auf Kante FG positioniert sind, so dass seine virtuelle Länge 1320 der physikalischen Länge von 100 m entspricht. Kante CE ist 70 m lang und es gibt 3 POI, die darauf positioniert sind, was bedeutet, dass Kante CE über eine durchschnittliche Dichte von 4,2 POI für alle 100 m verfügt. Dies überschreitet das bevorzugte Minimum von 4 POI für alle 100 m Straße und folglich beträgt der virtuelle Abstand 1330 von Kante CE null.In the 13 displayed values are based on a preferred minimum of 4 POIs for each 100 m long stretch of road, that is D = 100/4 = 25. Since there are, by way of example, three POIs positioned on edge AB and the physical length, the associated with the edge is 100 m, the virtual length is 1310 from AB = max (100 - 25 · 3.0) = 25. There are no POIs that are positioned on edge FG, so its virtual length 1320 corresponds to the physical length of 100 m. Edge CE is 70 m long and there are 3 POIs positioned on it, which means that Edge CE has an average density of 4.2 POIs for every 100 m. This exceeds the preferred minimum of 4 POIs for every 100 meters of road and hence the virtual distance 1330 from edge CE zero.
Der virtuelle Abstand zwischen Kreuzungspaaren kann verwendet werden, um Straßensegmente vom Cluster zurechtzuschneiden. Anhand eines Beispiels kann das System den kürzesten Pfad von jedem Knoten zu jedem anderen Knoten auf Basis der virtuellen Längen der Kante ermitteln und jede Kante, die nicht entlang mindestens eines dieser Pfade liegt, kann vom Graf entfernt werden. Wie in 14 ersichtlich, beträgt die virtuelle Länge 1310 der Kante AB und die virtuelle Länge 1425 der Kante BC 50. Demzufolge beträgt der virtuelle Abstand von Knoten C von A über Kanten AB und BC 75. Die virtuelle Länge 1330 der Kante CE beträgt null, weswegen der gesamte virtuelle Abstand 1340 vom Knoten C von A über Kanten AB, BC und CE 75 beträgt. Die virtuelle Länge eines jeden anderen Pfads von Knoten A Knoten E würde länger als 75 ausfallen. Infolgedessen repräsentieren Kanten AB, BC und CE zusammen den kürzesten Pfad zwischen Knoten A und E und infolgedessen werden diese Kanten nicht auf Basis der POI Dichte ausgesondert.The virtual distance between pairs of intersections can be used to tailor road segments from the cluster. By way of example, the system may determine the shortest path from each node to every other node based on the virtual lengths of the edge, and any edge that is not along at least one of these paths may be removed from the graph. As in 14 As can be seen, the virtual length is 1310 the edge AB and the virtual length 1425 As a result, the virtual distance of node C from A via edges AB and BC is 75. The virtual length 1330 The edge CE is zero, so the total virtual distance 1340 from node C of A across edges AB, BC and CE 75. The virtual length of any other path from node A node E would be longer than 75. As a result, edges AB, BC, and CE together represent the shortest path between nodes A and E, and as a result, these edges are not discarded based on POI density.
15 veranschaulicht die kürzest möglichen Pfade vom Knoten C zu jedem anderen Knoten in Graph 1110. Zum Beispiel befindet sich der kürzeste Pfad von Knoten C zu Knoten F entlang der Kanten CD und CF. Kanten AB, BC, CD, DF, CE und EG sind auch der kürzeste Pfad von Knoten C zu mindestens einem anderen Knoten, damit sie nicht auf Basis der POI Dichte zurechtgeschnitten werden. Standardmäßige kürzeste-Wege-Algorithmen aller Paare können verwendet werden, um die kürzesten Pfade zwischen allen Knotenpaaren zu identifizieren. Standardmäßige kürzeste-Wege-Algorithmen aller Paare können verwendet werden, um die kürzesten Pfade zwischen allen Knotenpaaren zu identifizieren. 15 illustrates the shortest possible paths from node C to every other node in graph 1110 , For example, the shortest path is from node C to node F along edges CD and CF. Edges AB, BC, CD, DF, CE, and EG are also the shortest path from node C to at least one other node, so that they are not trimmed based on POI density. Standard shortest path algorithms of all pairs can be used to identify the shortest paths between all node pairs. Standard shortest path algorithms of all pairs can be used to identify the shortest paths between all node pairs.
16 zeigt alle Kanten, die sich auf dem kürzesten Pfad von mindestens einem Knoten zu einem anderen Knoten von Paragraf 1110 befinden. Kanten AF, CG, DG und FG befinden sich nicht auf jeglichen der kürzesten Pfade und wurden daher von Graf 1110 zurechtgeschnitten. Infolgedessen kann das Überleben der Kanten AB, BC, CE, CD, EG und DF Straßensegmente darstellen, die zusammen eine geographische Region von bestimmtem Interesse für Fußgänger auf Basis des POI darstellen. 16 shows all edges that are on the shortest path from at least one node to another node by paragraph 1110 are located. Edges AF, CG, DG, and FG are not on any of the shortest paths and were therefore used by Graf 1110 cut. As a result, the survival of the edges AB, BC, CE, CD, EG and DF can represent road segments that together represent a geographic region of particular interest to pedestrians based on the POI.
Durch das Reduzieren der Größe von Cluster, kann das System die Wahrscheinlichkeit herabsenken, dass ein Cluster eine Ansammlung nichtgewerblicher (z. B. zum Wohnen genutzter) Straßensegmente um einen Kern von Straßensegmenten zu gewerblichen Zwecken herum, darstellt, oder dass ein einzelnes Cluster zwei separate gewerbliche Regionen beinhaltet, die durch eine nicht gewerbliche Region miteinander verbunden sind. Auf der anderen Seite kann das System durch das anfängliche Diffundieren der oben beschriebenen Ergebnisse die Wahrscheinlichkeit herabsetzen, dass Cluster von Segmenten durch eine kleine Lücke von Straßensegmenten getrennt werden. Wenn der virtuelle Abstand außerdem wie oben beschrieben berechnet wird, neigen die überlebenden Straßensegmente dazu, Pfade auszubilden, die hochgewerblichen Straßen folgen.By reducing the size of clusters, the system can reduce the likelihood that a cluster will represent a collection of non-commercial (e.g., residential) road segments around a core of road segments for commercial purposes, or that a single cluster will be two separate includes industrial regions linked by a non-commercial region. On the other hand, by initially diffusing the results described above, the system can reduce the likelihood that clusters of segments will be separated by a small gap in road segments. In addition, when the virtual distance is calculated as described above, the surviving road segments tend to form paths following high-traffic roads.
Im vorangegangenen Beispiel generierte das System den in 16 dargestellten Graf durch das Filtern des Grafs in mehreren Stadien, einschließlich des Filtern auf Basis der Anzahl der POI am Straßensegment der Kante, der Anzahl der POI an den Straßensegmenten, die mit dem Straßensegment der Kante benachbart sind, der Gesamtanzahl der miteinander verbundenen Segmente, der Nähe des POI zu den Straßenkreuzungen und der Dichte des POI, in ungefähr dieser Reihenfolge. Sonstige Ausführungsformen von System 100 können jedoch einen oder mehrere dieser Stadien überspringen, die Stadien in einer unterschiedlichen Reihenfolge anwenden, oder die Ergebnisse der Kriterien, die in Verbindung mit einem Stadium oder einem anderen Stadium besprochen werden, verwenden. Anhand eines Beispiels kann das anfängliche in Verbindung mit 3 besprochene Ergebnis auf der POI-Dichte des Segments basieren, und die in 13 besprochene virtuelle Entfernung kann auf einem Ergebnis basieren, das die Anzahl der POI eines Segments innerhalb einer Schwellenwertentfernung einer Kreuzung wie in Verbindung mit 12 besprochen, widerspiegelt und das System kann das Zurechtschneiden, das in Verbindung mit 12 besprochen wurde, überspringen.In the previous example, the system generated the in 16 4, by filtering the graph in multiple stages, including filtering based on the number of POIs on the road segment of the edge, the number of POIs on the road segments adjacent to the road segment of the edge, the total number of interconnected segments, the Proximity of the POI to the intersections and the density of the POI, in approximately this order. Other embodiments of system 100 however, may skip one or more of these stages, apply the stages in a different order, or use the results of the criteria discussed in connection with a stage or other stage. By way of example, the initial may be in connection with 3 The results discussed are based on the POI density of the segment, and those in 13 The virtual distance discussed may be based on a result that is the number of POIs of a segment within a threshold distance of an intersection, as in connection with 12 discussed, reflected and the system can be trimmed in conjunction with 12 was discussed, skip.
10 stellt ein Beispiel dazu bereit, wie eine Region von Interesse Benutzern angezeigt werden kann. 17–22 stellen ein anderes Beispiel dazu bereit, wie eine Region von Interesse angezeigt wird. 10 provides an example of how a region of interest can be displayed to users. 17 - 22 provide another example of how a region of interest is displayed.
17 zeigt eine Karte von Straßensegmenten, wobei Straßensegmente 1750 und 1751 als von potentiellem Interesse für Benutzer ermittelt wurden. Die Karte zeigt auch Grundrisse der sich in der Nähe befindlichen Gebäude, wie etwa Gebäude 1701–03. 17 shows a map of road segments, with road segments 1750 and 1751 identified as of potential interest to users. The map also shows floor plans of nearby buildings, such as buildings 1701 -03.
Das System kann Polygone generieren, die mit spezifischen Straßensegmenten in Verbindung gebracht werden. Zum Beispiel und wie in 18 ersichtlich, kann Polygon 1861 auf Basis von Grundriss 1851 des Straßensegments 1751 generiert werden. Wie in der Nahansicht 1810 auf der rechten Seite des Grundrisses 1851 ersichtlich, kann jede Kante des Polygons 1861 gegenüber der Kante des Grundrisses parallel angeordnet sein und eine feststehende Entfernung dazu aufweisen. Polygon 1860 kann auf ähnliche Weise auf Basis von Grundriss 1850 des Straßensegments 1750 generiert werden.The system can generate polygons that are associated with specific road segments. For example and how in 18 can be seen polygon 1861 based on floor plan 1851 of the road segment 1751 to be generated. As in the close up 1810 on the right side of the floor plan 1851 can be seen, every edge of the polygon 1861 be arranged parallel to the edge of the floor plan and have a fixed distance thereto. polygon 1860 can be done in a similar way based on floor plan 1850 of the road segment 1750 to be generated.
Ein Polygon kann auch für jedes Gebäude generiert werden, das über eine Eigenschaft verfügt, die mit einem oder mehreren Segmenten in Verbindung gebracht wird. Anhand eines Beispiels und wie 19 ersichtlich, kann diese Eigenschaft das Gebäude dazu veranlassen, über eine Zugangsroute zum relevanten Segment zu verfügen. Insoweit kann das System ein Polygon 1901 für Gebäude 1701 generieren, da es über einen Fußgängerweg 1921 vom Gebäude zum Straßensegment 1851 verfügt. Obwohl Gebäude 1702 näher als Gebäude 1701 an Straßensegment 1851 liegt, kann das System kein Polygon für Gebäude 1702 generieren, da seine Zugangsroute 1922 sich nicht zu Segmenten 1850 oder 1851 erstreckt. Obwohl das Gebäude über eine Zugangsroute 1934 zu einem Straßensegment, zu dem Segmente 1850–51 nicht gehören, verfügt, würde ein Polygon für Gebäude 1704 dennoch generiert werden können, da es ebenfalls über eine Zugangsroute 1924 zu Segment 1850 verfügt. Eine zusätzliche oder alternative Charakteristik könnte erfordern, dass der Grundriss des Gebäudes sich innerhalb einer Schwellenwertentfernung von den relevanten Segmenten befindet. Eine andere Charakteristik könnte erfordern, dass das Gebäude über mindestens einen POI verfügt, der mit den Kriterien übereinstimmt, die für das Auswählen des POI verwendet wurden, der für das Identifizieren der Segmente, die für Benutzer von Interesse sein können, verwendet wird. Falls Segmente 1850–51 zum Beispiel auf Basis dessen identifiziert würden, wie viele Restaurants auf dem Segment oder nahe gelegenen Segmenten positioniert seien, würde kein Polygon für Gebäude 1705 generiert werden, sofern dieses kein Restaurant umfasse.A polygon can also be generated for any building that has a property associated with one or more segments. By an example and how 19 this property may cause the building to have an access route to the relevant segment. In that regard, the system can be a polygon 1901 for buildings 1701 Generate as it is over a pedestrian path 1921 from the building to the road segment 1851 features. Although building 1702 closer than buildings 1701 at road segment 1851 The system can not build a polygon for buildings 1702 Generate as its access route 1922 not to segments 1850 or 1851 extends. Although the building has an access route 1934 to a road segment to which segments 1850 -51 does not belong, would have a polygon for building 1704 Nevertheless, it can be generated as it also has an access route 1924 to segment 1850 features. An additional or alternative characteristic could require that the floor plan of the building be within a threshold distance from the relevant segments. Another characteristic might require that the building have at least one POI that matches the criteria used to select the POI that is used to identify the segments that may be of interest to users. If segments 1850 For example, based on how many restaurants are positioned on the segment or nearby segments, no polygon would be used for buildings 1705 be generated, if this does not include a restaurant.
Die Kanten der für die Gebäude generierten Polygone können parallel zur Kante des Grundrisses des Gebäudes verlaufen und über eine feststehende Entfernung 1945 dazu verfügen.The edges of the polygons generated for the building can be parallel to the edge of the floor plan of the building and over a fixed distance 1945 to dispose of.
Alle generierten Polygone können in ein einzelnes Polygon kombiniert werden. Wie 20 ersichtlich, können alle Polygone 1901–05, die auf Basis der Grundrisse der Gebäude und aller Polygone 1860–61, die auf Basis der Grundrisse der Straßensegmente generiert wurden, miteinander kombiniert werden. Insoweit stellt der nicht schattierte Abschnitt 2130 von Polygon 2100, der in 21 ersichtlich ist, die Einheit der Polygone 1901–05 und 1860–61 dar. Löcher im Inneren des Polygons 2100, wie Loch 2150, können ausgefüllt werden, enge Lücken 2140 entlang der äußeren Kanten, wie etwa Lücken 2140–541 können ausgefüllt werden, und enge Vorsprünge wie Vorsprung 2160 können entfernt werden.All generated polygons can be combined into a single polygon. As 20 can be seen, all polygons 1901 -05, based on the floor plans of the buildings and all polygons 1860 -61, which were generated on the basis of the floor plans of the road segments, are combined with each other. In that regard, the unshaded section represents 2130 of polygon 2100 who in 21 it can be seen, the unity of the polygons 1901 -05 and 1860 -61. Holes inside the polygon 2100 like hole 2150 , can be filled in, narrow gaps 2140 along the outer edges, such as gaps 2140 -541 can be filled in, and tight tabs like tab 2160 can be removed.
Das Polygon kann einem Benutzer auf einer Karte angezeigt werden, um die Region hervorzuheben, die für den Benutzer von potentiellem Interesse ist. Anhand eines Beispiels kann Browser 2200 Polygon 2100 auf Karte 2210 auf einer Position anzeigen, die der entsprechenden Straße und den Grundrissen des Gebäudes entspricht. Die optischen Eigenschaften der auf der Karte angezeigten Objekte können sich auf Basis ihrer Relevanz zum Polygon ändern. Anhand eines Beispiels können die Farben des einen oder der mehreren der folgenden Gegenstände dieselben sein oder sich voneinander unterscheiden: Hintergrund 2290 des Polygons 2100, Gebäudegrundrisse 1701, 1702, 1704, 1706 und 1707, die sich innerhalb des Polygons befinden und mit Gebäuden in Verbindung gebracht werden, welche einen relevanten POI umfassen, ein Gebäudegrundriss 1705, der sich innerhalb des Polygons befindet und nicht mit einem Gebäude in Verbindung gebracht wird, das den entsprechenden POI enthält, Straßengrundrisse 2240, die sich innerhalb des Polygons befinden, Gebäudegrundrisse 1702 und 1703, die sich außerhalb des Polygons befinden, Straßengrundrisse, die sich außerhalb des Polygons befinden und der Hintergrund der Karte außerhalb des Polygons.The polygon may be displayed to a user on a map to highlight the region of potential interest to the user. By way of example, browser can 2200 polygon 2100 on card 2210 in a position corresponding to the corresponding street and floor plans of the building. The optical properties of objects displayed on the map may change based on their relevance to the polygon. By way of example, the colors of one or more of the following items may be the same or different from each other: Background 2290 of the polygon 2100 , Building footprints 1701 . 1702 . 1704 . 1706 and 1707 located within the polygon and associated with buildings that comprise a relevant POI, a building floor plan 1705 which is inside the polygon and is not associated with a building containing the corresponding POI, street layouts 2240 that are inside the polygon, building footprints 1702 and 1703 that are outside the polygon, street outlines that are outside the polygon, and the background of the map outside the polygon.
Ein Name für die Region kann auch ermittelt und angezeigt werden. Zum Beispiel kann Name 2250 durch das Auswählen des Namens der Stadt oder des Stadtviertels, in dem die Region erscheint, des Namens des Stadtviertels oder der Straße mit der größten Anzahl von POI, der Kategorie, die verwendet wurde, um die POI auszuwählen, einer Kategorie eines für die Region üblichen Unternehmens, oder des Namens der Straße mit dem größten Grundrissbereich im Polygon ermittelt werden. Wenn die Region auf dem Namen eines Stadtviertels basiert oder es eine Reihe von Namen gibt, die mit Stadtvierteln übereinstimmen, die sich innerhalb einer Region befinden, die darin enthalten sind oder sich auf sonstige Weise in der Nähe dieser Region befinden, können die Namen eingestuft werden und ein Name kann auf Basis dessen ausgewählt werden, wie sehr die geographischen Grenzen, die mit diesem Stadtviertel in Verbindung gebracht werden, mit den Grenzen der Region und der Online-Beliebtheit des Namens übereinstimmen.A name for the region can also be found and displayed. For example, name 2250 by selecting the name of the city or district in which the region appears, the name of the district or street with the largest number of POIs, the category used to select the POI, a category of one common to the region Company, or the name of the street with the largest floor plan area in the polygon. If the region is based on the name of a neighborhood, or if there are a number of names that match neighborhoods that are within a region that is contained within it or otherwise located near that region, the names may be categorized and a name can be selected based on how closely the geographic boundaries associated with that neighborhood match the region's boundaries and the online popularity of the name.
Obwohl viele die vorstehenden Beispiele sich auf das Verwenden von Restaurants konzentrieren, um gewerbliche Korridore zu identifizieren, können andere POI-Kategorien verwendet werden, um andere Arten von Bereichen von Interesse zu identifizieren. Nur anhand eines Beispiels zählen hierzu das Identifizieren von Bereichen mit vielen Museen, Touristenattraktionen, teuren Boutiquen und kinderfreundlichen Restaurants. Außerdem können POI, die mit einer kulturellen Identität in Verbindung gebracht werden, verwendet werden, um Bereiche zu identifizieren, die auch mit dieser kulturellen Identität in Verbindung gebracht werden (z. B. Kleinitalien New York City).Although many of the above examples focus on using restaurants to identify commercial corridors, other POI categories may be used to identify other types of areas of interest. Just one example of this includes identifying areas with many museums, tourist attractions, expensive boutiques, and kid-friendly restaurants. In addition, POIs associated with a cultural identity can be used to identify areas that are also associated with this cultural identity (eg, New Orleans, northern Italy).
23 ist ein Flussdiagramm eines computerimplementierten Verfahrens für das Verarbeiten von Karteninformationen, um Regionen von Interesse zu identifizieren. Bei Block 2310 wird eine Karte erhalten, die eine Vielzahl von Knoten beinhaltet, die mittels einer Vielzahl von Kanten verbunden sind, innerhalb denen, jede Kante über ein zugeordnetes Ergebnis auf Basis vorbestimmter Kriterien verfügt. Bei Block 2320 wird die Karte durch das Vergleichen des Ergebnisses jeder Kante mit einem zuvor bestimmten Filterschwellenwert verglichen, wobei für das Aussondern der Kanten ein Ergebnis unterhalb des Schwellenwerts erforderlich ist. Bei Block 2330 wird die ungefilterte Karte durch das Identifizieren eines oder mehrerer Cluster verarbeitet, das angrenzende Kanten beinhaltet und eine geclusterte Karte generiert, die ein oder mehrere Cluster umfasst. Bei Block 2340 wird die Größe des einen oder der mehreren Cluster mit einem Bereichschwellenwert verglichen, wobei diese Größe Cluster identifiziert, die kleiner als der Bereichschwellenwert der Regionen von Interesse ist. Bei Block 2350 werden Regionen von Interesse von der geclusterten Karte entfernt. Bei Block 2360 wird ermittelt, ob alle der bei Block 2340 identifizierten Cluster kleiner als der Schwellenwert ausfallen. Falls das der Fall ist, wird bei Block 2380 eine verarbeitete Karte, die jede der identifizierten Regionen von Interesse umfasst, ausgegeben. Falls das nicht der Fall ist, wird bei Block 2370 der im Voraus bestimmte Filterschwellenwert erhöht und das Verfahren kehrt zu Block 2320 zurück. Das Verfahren fährt somit mit der iterativen Durchführung der Blöcke 2320–2350 fort, worin die geclusterte Karte mit den entfernten Regionen bei Block 2330 mittels eines erhöhten vordefinierten Filterschwellenwerts gefiltert wird, worin die Iteration solange durchgeführt wird, bis alle sich bei Block 2340 befindlichen Cluster, die kleiner als der Bereichschwellenwert ausfallen, identifiziert worden sind. 23 FIG. 10 is a flow diagram of a computer-implemented method for processing map information to identify regions of interest. At block 2310 For example, a map is obtained that includes a plurality of nodes connected by a plurality of edges within which each edge has an associated result based on predetermined criteria. At block 2320 For example, the map is compared to a previously determined filter threshold by comparing the result of each edge, with the result of eliminating the edges requiring a score below the threshold. At block 2330 The unfiltered map is processed by identifying one or more clusters that includes adjacent edges and generates a clustered map that includes one or more clusters. At block 2340 For example, the size of the one or more clusters is compared to a range threshold, which size identifies clusters that are less than the range threshold of the regions of interest. At block 2350 Regions of interest are removed from the clustered map. At block 2360 it is determined if all of the at block 2340 identified clusters smaller than the threshold fail. If so, block 2380 a processed map comprising each of the identified regions of interest is issued. If this is not the case, at block 2370 the predetermined filter threshold increases and the process returns to block 2320 back. The method thus proceeds with the iterative execution of the blocks 2320 - 2350 where the clustered map with the removed regions at block 2330 is filtered by means of an increased predefined filter threshold, wherein the iteration is performed until all are at block 2340 clusters that are smaller than the range threshold have been identified.
24 ist ein Flussdiagramm eines computerimplementierten Verfahrens zum Anzeigen einer Karte. Bei Block 2410 wird ein Straßensegment auf Basis einer Anzahl von POI, die auf dem Segment positioniert sind, identifiziert. Bei Block 2420 wird ein geographisch gelegenes Objekt, das über eine Eigenschaft verfügt, die mit dem Straßensegment in Verbindung gebracht wird, identifiziert. Bei Block 2430 wird ein Polygon generiert, worin die Standorte der Kanten des Polygons auf dem Grundriss des Straßensegments und dem Grundriss des geographisch gelegenen Objekts basieren. Bei Block 2440 wird eine Karte bereitgestellt, welche die Straßensegmente und das Polygon relativ zu den geographischen Standorten der Straßensegmente anzeigt. 24 FIG. 10 is a flowchart of a computer-implemented method for displaying a map. FIG. At block 2410 For example, a road segment is identified based on a number of POIs positioned on the segment. At block 2420 is a geographically located object that has a property that is associated with the road segment, identified. At block 2430 A polygon is generated in which the locations of the edges of the polygon are based on the floor plan of the street segment and the floor plan of the geographically located object. At block 2440 a map is provided which displays the road segments and the polygon relative to the geographic locations of the road segments.
Während diese und andere Variationen und Kombinationen der oben beschriebenen Merkmale verwendet werden können, ohne von der Erfindung, wie sie durch die Ansprüche definiert wird, abzuweichen, sollte die vorhergehende Beschreibung der Ausführungsformen eher als Illustration und nicht als Gelegenheit angesehen werden, um die durch die Ansprüche definierte Erfindung zu begrenzen. Das Bereitstellen von Beispielen der Erfindung (sowie auch Klauseln, die mit Begriffen wie „wie etwa”, „z. °B.”, „einschließlich” und dergleichen formuliert werden) sollte nicht als Begrenzung der Erfindung auf diese spezifischen Beispiele interpretiert werden, da die Beispiele eher dazu dienen, einige der vielen möglichen Aspekte zu illustrieren. Auf ähnliche Weise können Bezugnahmen auf „ausgehend von” oder dergleichen „zumindest teilweise ausgehend von” bedeuten.While these and other variations and combinations of the features described above may be utilized without departing from the invention as defined by the claims, the foregoing description of the embodiments should be considered as illustrative and not as an occasion to avoid those described by the claims Claims defined invention to limit. Providing examples of the invention (as well as terms formulated with terms such as "such as", "eg", "including", and the like) should not be interpreted as limiting the invention to these specific examples the examples serve to illustrate some of the many possible aspects. Similarly, references to "starting from" or the like may mean "at least in part".