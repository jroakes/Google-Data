Background technology
Bar code scanner is widely used in supermarket, retail shop and the various place that relates to catalogue and inventory management, for example warehouse and factory now.Usually, bar code sticks on the article in the catalogue, and adopts the label that can be read by optical scanner.Following IBM such as those can be helped the user to read at the correct position of the bar code of relative scanning device at the common linearity or the one-dimensional bar code of the unified product code (UPC) of the research and development seventies in 20th century by the grating of " luminous point (flying spot) " laser scanner emission.Usually these scanners or be fixed on the directory management equipment of cashier counter, supermarket such as conveyer belt are perhaps as hand-held wired or wireless equipment.
Two dimension (2D) bar code is also more and more general.Therefore linear bar code is limited between 10 to 20 characters usually, the simple index that writes down in the database (for example part number, customer accounting code etc.).Yet two-dimensional bar can be finished same function with the space of much less.Equally, such as the Aztec sign indicating number, PDF417, the two-dimensional bar of Data Matrix and MaxiCode also can be used as database itself, the character that several thousand machine readables fetch data because they can be encoded out.Therefore two-dimensional bar can be used as portable database or portable data file, binds with product in whole produce and market chain.In addition, can in two-dimensional bar, embed the error correcting rule, thereby guarantee when the code surface zone is damaged, not lose any readable information.Therefore the improvement in the widely-used and design of bar code makes bar code continue to be popularized in future.
Digital camera has been represented another technology that widely adopts.Recent years, the cost and the size of digital camera reduced rapidly, and camera quality and screen resolution improve constantly.Present digital camera is frequent and various electronic is integrated, for example mobile phone, personal digital assistant and notebook computer.
Prior art has comprised the enlightenment that digital camera technology is combined with bar code scanner.Such combination can be to the digital picture of bar code, rather than the laser scanning of bar code is analyzed and decoded.Therefore bar code scanner not only can be used for retailer and directory administrator, and can search this product more information or storage products price and out of Memory consumer for future reference by the scanning product bar code and use.Yet if bar code is not decoded immediately, there is certain problem in the digital picture of bar code so, because can't confirm whether the digital picture of bar code has enough quality and can successfully be decoded.When successfully obtaining with the decoding bar font code in system usually, hand-held Laser Barcode Scanner sends familiar signal sound.Especially when the bar code that part is degraded or damage scanned, the user of scanner needed the bar code position of repetitive operation with respect to scanner usually, sends signal indication up to scanner and successfully reads bar code.What on the other hand, the user of digital camera may take is the bar code image that can not decode immediately.At this moment, such as fuzzy, out of focus or the low-quality image of the not enough bar code of resolution or size possibly can't read, and the user may no longer access to bar code, thereby can not obtain new, a high-quality image.
The possible way that a kind of user's of help digital camera is taken the decodable picture of bar code is to enclose the grating that is similar to based on the bar code scanner use of laser on digital camera.With usually seemingly based on the class of operation of the scanner of laser, the user of digital camera before obtaining bar code image with grating alignment bar font code correctly.Thereby the camera user can determine the result images of bar code relatively and can decode.Yet because visual grating needs additional firmware and consumes certain energy, also there is deficiency in this technology.
Description of drawings
In order to understand the present invention better and to produce actual effect, with reference to accompanying drawing typical embodiment is described as a reference, central same reference number is represented same element, wherein:
Fig. 1 is the schematic diagram of diagram according to the leading face of the camera system of the embodiment of the invention;
Fig. 2 is the schematic diagram of diagram according to the back working face of the camera system of the embodiment of the invention;
Fig. 3 is a picture of observing image from the preview window of digital camera system;
Fig. 4 is and the picture of identical image shown in Figure 3, has still comprised the data with pattern according to the embodiment of the invention;
Fig. 5 is the diagram that adopts the conventional browse mode of camera system to take bar code image by imageing sensor;
Fig. 6 is the diagram of same bar code image as shown in Figure 5, but has activated bar code read mode of the present invention;
Fig. 7 is based on the diagram of the bar code image that can take, store or decode of Fig. 5 and bar code image shown in Figure 6;
Fig. 8 is another diagram based on the bar code image that can take, store or decode of Fig. 5 and bar code image shown in Figure 6; With
Fig. 9 is that diagram is according to the flow chart of the embodiment of the invention to the method step of coding data image.
Embodiment
With reference to figure 1, be schematic diagram according to embodiment of the invention diagram camera system 100.With most of camera-type seemingly, system 100 has comprised the camera frame 105 of leading face 110 integrated.Leading face 110 comprises the imageing sensor 115 that is suitable for receiving image.Imageing sensor 115 can comprise conventional camera lens and optics and such as the digital image sensor of charge coupled device (CCD) transducer, cmos sensor etc.
With reference to figure 2, be the schematic diagram of camera system 100 back working faces 120.Back working face 120 comprises the preview window 125 that is fit to show the image frame that is received by imageing sensor 115.Similar with most digital cameras, those skilled in the art will know that the preview window 125 can be used as the view finder of conventional camera, and show any mobile image that is positioned at imageing sensor 115 the place ahead scenes in real time.Typically, the only of short duration existence of realtime graphic that the preview window 125 shows, and when the user activates shutter release button (not shown), timer or other image taking trigger equipment, take in the memory of system 100.A kind of embodiment of the present invention further comprises mode selector switch 130, is used for camera system 100 is arranged to different Photographing Mode.For example, with most prior art equipment class seemingly, mode selector switch 130 can be used for system 100 is arranged to standard rest image pattern, video mode, low optical mode, fast mode etc.According to the present invention, mode selector switch 130 also can be used for system 100 is arranged to the bar code read mode.When mode selector switch 130 is arranged to the bar code read mode, at the preview window 125 show bar font code data shooting areas 135.Those skilled in the art will know that mode selector switch 130 can be physical switch or the toggle switch on the camera frame 105, or use for example soft switch of the preview window 125 activation.The inside of frame 105 also comprises and imageing sensor 115, and the processor 140 that the preview window 125 is connected with mode selector switch 130 is to help between those assemblies of control and to be used for the mutual of image data processing.
The different embodiment in image taking zone 135 can comprise different sizes, shape and form, and can be translucent or opaque.The user that data shooting area 135 is used for guidance system 100 in the use correctly places imageing sensor 115 such as the coded data of bar code relatively.Therefore, the position of data shooting area 135 will be fixing with respect to the preview window 125 in the use.According to a kind of embodiment, data shooting area 135 is designed to imitate the pattern of conventional bar code laser scanning grating, thereby is shown as the red rectangle that is positioned near the flicker at the preview window 124 centers at the preview window 125.
As shown in Figure 2, in the operation of an embodiment of the present invention, the user is placed on data shooting area 135 center of linear bar code usually, thereby the left and right edges of data shooting area 135 just extends to first and last bar code of bar code respectively.On this position, system 100 is designed for take to aim at focus, clear and have an image of the bar code of enough resolution, thus can be with decoding algorithm effectively and reliably to graphical analysis and decode bar code.
Because data shooting area 135 can be simulated the grating of conventional bar code laser scanner, the user of the bar code read mode of the embodiment of system 100 can be very easy to usually and use data shooting area 135 by intuition.That is because majority are familiar to the laser scanner in when shopping in the retail shop.Thereby a kind of typical embodiment of the present invention imitates the red raster of the flicker of conventional laser scanner, with the red rectangle video data shooting area 135 of flicker.
With reference to figure 3, be the picture of the image observed from the preview window 125 of digital camera system 100.With reference to figure 4, be the picture of identical image as shown in Figure 3, but comprise data shooting area 135 with pattern according to the embodiment of the invention.
With reference to figure 5, be to adopt the diagram of the conventional browse mode of camera system 100 by imageing sensor 115 shooting bar code images.With reference to figure 6, be the diagram of same bar code as shown in Figure 5, but activated bar code read mode of the present invention.Data shooting area 135 passes all bar codes of bar code, and roughly overlapping at the center of bar code.This correct position assists in ensuring that shoots the image that can be correctly decoded, and wherein all decodable code elements of bar code such as all lines of linear bar code, all have enough definition when taking.
With reference to figure 7, be based on the diagram of the bar code image that can take, store and decode of Fig. 5 and bar code image shown in Figure 6.Image among Fig. 7 has only been represented the part in data shooting area stack bar code data zone among Fig. 6.The image of this cut out areas has many advantages for native system 100 aspect the barcode reader of the digital picture of prior art.At first, image as shown in Figure 7 is very little and compact, thereby needs still less memory space than the full size image of bar code shown in Figure 5; The second, image shown in Figure 7 is only taken the related data part of the bar code that needs decoding.This means that decoding algorithm can directly handle image, and without any need for pre-determined bit, registration, location or shear step.Therefore decoding algorithm can be simplified, and this is highly beneficial in the limited handheld device of storage and computational resource.
With reference to figure 8, be based on another diagram of the bar code image that to take, store and decode of Fig. 5 and bar code image shown in Figure 6.Graphical representation among Fig. 8 further embodiment of the present invention, wherein, in order to increase the possibility of taking decodable picture, regional bigger than under the data shooting area 135 of the image after the shooting.The optimization that the size in photographic images zone can effectively be decoded by specific graphical analysis and decoding algorithm.Therefore the size in photographic images zone as shown in Figure 7 and Figure 8 can be adjusted or be preset by manufacturer by the user.
The technology that skilled in the art will recognize that the digital camera miniaturization makes camera frame 105, imageing sensor 115 and the preview window 124 can have almost size arbitrarily, so embodiments of the invention can be integrated in the various electronic such as mobile phone, personal digital assistant and notebook computer.In addition, data shooting area 135 can be designed at various types of coded datas, and is not only the linear bar code data.For example circular or oval data shooting area 135 reads such as PDF417 the multiple 2 d code of Data Matrix and MaxiCode applicable to helping.
With reference to figure 9, be flow chart according to embodiment of the invention graphic technique 900 steps.At first, in step 905, the imageing sensor 115 of camera system 100 receives preview image.Preview image comprises the data area of the coded data of expression such as bar code.As mentioned above, preview image normally is used for camera system 100 is aimed at the temporary transient image of coded data.Then, in step 910, the preview window 125 of camera system 100 associations shows the picture of preview image.In step 915, data shooting area 135 is presented at the preview window 125 of camera system 100.Usually after the user selects the coded data read mode of camera system 100, at the preview window 125 video data shooting areas.Next, in step 920, in the preview window 125, data shooting area 135 is superimposed upon on the picture of at least a portion image-region.For example as shown in Figure 6, data shooting area 135 can be superimposed upon on all lines centers of linear bar code.Be the step 925 of method 900 then, will take as data image corresponding at least a portion data area of data shooting area and data area overlapping portion.At last,, the data image of taking is analyzed, to extract coded data in step 930.
The step 930 of method 900 can use the software that is stored in the camera system 100 to carry out, and perhaps as selection, step 930 can be carried out at remote location.For example, camera system 100 can be used for just taking the correct and decodable image of coded data, and before downloads data to another position according to one's analysis at actual figure.
Generally speaking, the present invention is to carry out the improved method and system of imaging such as the coded data of bar code.Embodiments of the invention are user friendly and are imbued with intuition, because they have simulated the action of hand-held laser scanner effectively, although be under the diverse environment of the preview window 125 of camera system 100.Therefore the present invention helps the user correctly and reliably to take the decodable picture of coded data by the tram of camera system 100 relative coding data.In addition, the image of captured coded data can be more succinct, and handled by image analysis software than the image that uses prior art to take is easier.
Top detailed execution mode only provides typical embodiment, and the scope that is not meant to limit the present invention, applicability or structure.On the contrary, but the detailed execution mode of typical embodiment provides the line description of realizing exemplary embodiments of the present invention for those skilled in the art.Need will be appreciated that, on the basis of the spirit and scope of the invention illustrated, can carry out multiple modification with arranging the function of element and step without prejudice to claims.