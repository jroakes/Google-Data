US20150167989A1 - Intelligent environment control including use of smart meter and energy cost information in heat pump and auxiliary heating control - Google Patents
Intelligent environment control including use of smart meter and energy cost information in heat pump and auxiliary heating control Download PDFInfo
- Publication number
- US20150167989A1 US20150167989A1 US14/574,355 US201414574355A US2015167989A1 US 20150167989 A1 US20150167989 A1 US 20150167989A1 US 201414574355 A US201414574355 A US 201414574355A US 2015167989 A1 US2015167989 A1 US 2015167989A1
- Authority
- US
- United States
- Prior art keywords
- systems
- intelligent
- control
- intelligent controller
- aux
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Abandoned
Links
- 238000010438 heat treatment Methods 0.000 title claims description 91
- 230000004044 response Effects 0.000 claims description 215
- 230000008859 change Effects 0.000 claims description 91
- 238000012423 maintenance Methods 0.000 claims description 60
- 238000000034 method Methods 0.000 claims description 54
- 230000007613 environmental effect Effects 0.000 claims description 36
- 230000015654 memory Effects 0.000 claims description 34
- 230000004913 activation Effects 0.000 claims description 19
- 230000007423 decrease Effects 0.000 claims description 19
- 230000007704 transition Effects 0.000 claims description 18
- 230000003213 activating effect Effects 0.000 claims description 8
- 238000011217 control strategy Methods 0.000 abstract description 20
- 238000012544 monitoring process Methods 0.000 description 51
- 238000004891 communication Methods 0.000 description 46
- 230000000875 corresponding effect Effects 0.000 description 24
- 238000012545 processing Methods 0.000 description 16
- 238000010586 diagram Methods 0.000 description 14
- 230000006870 function Effects 0.000 description 13
- 230000006399 behavior Effects 0.000 description 12
- 238000005516 engineering process Methods 0.000 description 10
- 239000003570 air Substances 0.000 description 9
- 230000005611 electricity Effects 0.000 description 9
- 238000001556 precipitation Methods 0.000 description 9
- 238000003860 storage Methods 0.000 description 9
- 238000001816 cooling Methods 0.000 description 8
- 238000009825 accumulation Methods 0.000 description 7
- 238000013459 approach Methods 0.000 description 7
- 230000000694 effects Effects 0.000 description 7
- 230000008569 process Effects 0.000 description 7
- 238000013500 data storage Methods 0.000 description 6
- 238000005265 energy consumption Methods 0.000 description 6
- VNWKTOKETHGBQD-UHFFFAOYSA-N methane Chemical compound C VNWKTOKETHGBQD-UHFFFAOYSA-N 0.000 description 6
- 238000004364 calculation method Methods 0.000 description 5
- 230000001276 controlling effect Effects 0.000 description 5
- 239000007789 gas Substances 0.000 description 5
- 230000008520 organization Effects 0.000 description 5
- XLYOFNOQVPJJNP-UHFFFAOYSA-N water Substances O XLYOFNOQVPJJNP-UHFFFAOYSA-N 0.000 description 5
- 238000010168 coupling process Methods 0.000 description 4
- 238000005859 coupling reaction Methods 0.000 description 4
- 230000003247 decreasing effect Effects 0.000 description 4
- 238000001514 detection method Methods 0.000 description 4
- 239000011521 glass Substances 0.000 description 4
- 230000004048 modification Effects 0.000 description 4
- 238000012986 modification Methods 0.000 description 4
- 239000007787 solid Substances 0.000 description 4
- 230000008901 benefit Effects 0.000 description 3
- 239000003990 capacitor Substances 0.000 description 3
- 238000010276 construction Methods 0.000 description 3
- 238000013461 design Methods 0.000 description 3
- 238000009826 distribution Methods 0.000 description 3
- 230000002349 favourable effect Effects 0.000 description 3
- 238000009434 installation Methods 0.000 description 3
- 230000010354 integration Effects 0.000 description 3
- SYHGEUNFJIGTRX-UHFFFAOYSA-N methylenedioxypyrovalerone Chemical compound C=1C=C2OCOC2=CC=1C(=O)C(CCC)N1CCCC1 SYHGEUNFJIGTRX-UHFFFAOYSA-N 0.000 description 3
- 239000003345 natural gas Substances 0.000 description 3
- PXHVJJICTQNCMI-UHFFFAOYSA-N Nickel Chemical compound [Ni] PXHVJJICTQNCMI-UHFFFAOYSA-N 0.000 description 2
- 238000004378 air conditioning Methods 0.000 description 2
- 238000009529 body temperature measurement Methods 0.000 description 2
- 238000012512 characterization method Methods 0.000 description 2
- 239000012530 fluid Substances 0.000 description 2
- 238000007710 freezing Methods 0.000 description 2
- 230000008014 freezing Effects 0.000 description 2
- 230000010365 information processing Effects 0.000 description 2
- 238000003780 insertion Methods 0.000 description 2
- 230000037431 insertion Effects 0.000 description 2
- 230000003993 interaction Effects 0.000 description 2
- 230000002262 irrigation Effects 0.000 description 2
- 238000003973 irrigation Methods 0.000 description 2
- 238000007726 management method Methods 0.000 description 2
- 238000010295 mobile communication Methods 0.000 description 2
- 230000003287 optical effect Effects 0.000 description 2
- 230000002093 peripheral effect Effects 0.000 description 2
- 238000012935 Averaging Methods 0.000 description 1
- VYZAMTAEIAYCRO-UHFFFAOYSA-N Chromium Chemical compound [Cr] VYZAMTAEIAYCRO-UHFFFAOYSA-N 0.000 description 1
- HBBGRARXTFLTSG-UHFFFAOYSA-N Lithium ion Chemical compound [Li+] HBBGRARXTFLTSG-UHFFFAOYSA-N 0.000 description 1
- 241000699670 Mus sp. Species 0.000 description 1
- XUIMIQQOPSSXEZ-UHFFFAOYSA-N Silicon Chemical compound [Si] XUIMIQQOPSSXEZ-UHFFFAOYSA-N 0.000 description 1
- 230000001133 acceleration Effects 0.000 description 1
- 239000008186 active pharmaceutical agent Substances 0.000 description 1
- 230000003044 adaptive effect Effects 0.000 description 1
- 239000000654 additive Substances 0.000 description 1
- 230000000996 additive effect Effects 0.000 description 1
- 230000002776 aggregation Effects 0.000 description 1
- 238000004220 aggregation Methods 0.000 description 1
- 230000004075 alteration Effects 0.000 description 1
- 239000012080 ambient air Substances 0.000 description 1
- 210000000133 brain stem Anatomy 0.000 description 1
- 239000000969 carrier Substances 0.000 description 1
- 238000006243 chemical reaction Methods 0.000 description 1
- 230000007748 combinatorial effect Effects 0.000 description 1
- 239000002131 composite material Substances 0.000 description 1
- 238000004590 computer program Methods 0.000 description 1
- 239000004020 conductor Substances 0.000 description 1
- 230000002596 correlated effect Effects 0.000 description 1
- 230000008878 coupling Effects 0.000 description 1
- 238000013480 data collection Methods 0.000 description 1
- 238000009795 derivation Methods 0.000 description 1
- 238000011161 development Methods 0.000 description 1
- -1 electricity Substances 0.000 description 1
- 230000001747 exhibiting effect Effects 0.000 description 1
- 239000000835 fiber Substances 0.000 description 1
- 239000000446 fuel Substances 0.000 description 1
- 210000002816 gill Anatomy 0.000 description 1
- 230000036541 health Effects 0.000 description 1
- 238000010348 incorporation Methods 0.000 description 1
- 230000002452 interceptive effect Effects 0.000 description 1
- 238000002955 isolation Methods 0.000 description 1
- 229910001416 lithium ion Inorganic materials 0.000 description 1
- 238000004519 manufacturing process Methods 0.000 description 1
- 239000000463 material Substances 0.000 description 1
- 230000005055 memory storage Effects 0.000 description 1
- 230000006855 networking Effects 0.000 description 1
- 229910052759 nickel Inorganic materials 0.000 description 1
- 238000011022 operating instruction Methods 0.000 description 1
- 230000000737 periodic effect Effects 0.000 description 1
- 239000013641 positive control Substances 0.000 description 1
- 238000003672 processing method Methods 0.000 description 1
- 230000001737 promoting effect Effects 0.000 description 1
- 230000000246 remedial effect Effects 0.000 description 1
- 230000008439 repair process Effects 0.000 description 1
- 238000012827 research and development Methods 0.000 description 1
- 230000000717 retained effect Effects 0.000 description 1
- 230000002441 reversible effect Effects 0.000 description 1
- 229910052710 silicon Inorganic materials 0.000 description 1
- 239000010703 silicon Substances 0.000 description 1
- 238000007619 statistical method Methods 0.000 description 1
- 239000000126 substance Substances 0.000 description 1
- 238000013519 translation Methods 0.000 description 1
- 238000013022 venting Methods 0.000 description 1
Images
Classifications
-
- F—MECHANICAL ENGINEERING; LIGHTING; HEATING; WEAPONS; BLASTING
- F24—HEATING; RANGES; VENTILATING
- F24D—DOMESTIC- OR SPACE-HEATING SYSTEMS, e.g. CENTRAL HEATING SYSTEMS; DOMESTIC HOT-WATER SUPPLY SYSTEMS; ELEMENTS OR COMPONENTS THEREFOR
- F24D19/00—Details
- F24D19/10—Arrangement or mounting of control or safety devices
-
- F—MECHANICAL ENGINEERING; LIGHTING; HEATING; WEAPONS; BLASTING
- F24—HEATING; RANGES; VENTILATING
- F24D—DOMESTIC- OR SPACE-HEATING SYSTEMS, e.g. CENTRAL HEATING SYSTEMS; DOMESTIC HOT-WATER SUPPLY SYSTEMS; ELEMENTS OR COMPONENTS THEREFOR
- F24D19/00—Details
- F24D19/10—Arrangement or mounting of control or safety devices
- F24D19/1006—Arrangement or mounting of control or safety devices for water heating systems
- F24D19/1009—Arrangement or mounting of control or safety devices for water heating systems for central heating
-
- F—MECHANICAL ENGINEERING; LIGHTING; HEATING; WEAPONS; BLASTING
- F24—HEATING; RANGES; VENTILATING
- F24H—FLUID HEATERS, e.g. WATER OR AIR HEATERS, HAVING HEAT-GENERATING MEANS, e.g. HEAT PUMPS, IN GENERAL
- F24H15/00—Control of fluid heaters
- F24H15/10—Control of fluid heaters characterised by the purpose of the control
- F24H15/172—Scheduling based on user demand, e.g. determining starting point of heating
-
- F—MECHANICAL ENGINEERING; LIGHTING; HEATING; WEAPONS; BLASTING
- F24—HEATING; RANGES; VENTILATING
- F24H—FLUID HEATERS, e.g. WATER OR AIR HEATERS, HAVING HEAT-GENERATING MEANS, e.g. HEAT PUMPS, IN GENERAL
- F24H15/00—Control of fluid heaters
- F24H15/30—Control of fluid heaters characterised by control outputs; characterised by the components to be controlled
- F24H15/375—Control of heat pumps
-
- G—PHYSICS
- G05—CONTROLLING; REGULATING
- G05B—CONTROL OR REGULATING SYSTEMS IN GENERAL; FUNCTIONAL ELEMENTS OF SUCH SYSTEMS; MONITORING OR TESTING ARRANGEMENTS FOR SUCH SYSTEMS OR ELEMENTS
- G05B15/00—Systems controlled by a computer
- G05B15/02—Systems controlled by a computer electric
-
- G—PHYSICS
- G05—CONTROLLING; REGULATING
- G05D—SYSTEMS FOR CONTROLLING OR REGULATING NON-ELECTRIC VARIABLES
- G05D23/00—Control of temperature
- G05D23/19—Control of temperature characterised by the use of electric means
- G05D23/1919—Control of temperature characterised by the use of electric means characterised by the type of controller
- G05D23/1923—Control of temperature characterised by the use of electric means characterised by the type of controller using thermal energy, the cost of which varies in function of time
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L12/00—Data switching networks
- H04L12/28—Data switching networks characterised by path configuration, e.g. LAN [Local Area Networks] or WAN [Wide Area Networks]
- H04L12/2803—Home automation networks
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L12/00—Data switching networks
- H04L12/28—Data switching networks characterised by path configuration, e.g. LAN [Local Area Networks] or WAN [Wide Area Networks]
- H04L12/2803—Home automation networks
- H04L12/2823—Reporting information sensed by appliance or service execution status of appliance services in a home automation network
- H04L12/2827—Reporting to a device within the home network; wherein the reception of the information reported automatically triggers the execution of a home appliance functionality
- H04L12/2829—Reporting to a device within the home network; wherein the reception of the information reported automatically triggers the execution of a home appliance functionality involving user profiles according to which the execution of a home appliance functionality is automatically triggered
-
- Y—GENERAL TAGGING OF NEW TECHNOLOGICAL DEVELOPMENTS; GENERAL TAGGING OF CROSS-SECTIONAL TECHNOLOGIES SPANNING OVER SEVERAL SECTIONS OF THE IPC; TECHNICAL SUBJECTS COVERED BY FORMER USPC CROSS-REFERENCE ART COLLECTIONS [XRACs] AND DIGESTS
- Y02—TECHNOLOGIES OR APPLICATIONS FOR MITIGATION OR ADAPTATION AGAINST CLIMATE CHANGE
- Y02B—CLIMATE CHANGE MITIGATION TECHNOLOGIES RELATED TO BUILDINGS, e.g. HOUSING, HOUSE APPLIANCES OR RELATED END-USER APPLICATIONS
- Y02B70/00—Technologies for an efficient end-user side electric power management and consumption
- Y02B70/30—Systems integrating technologies related to power network operation and communication or information technologies for improving the carbon footprint of the management of residential or tertiary loads, i.e. smart grids as climate change mitigation technology in the buildings sector, including also the last stages of power distribution and the control, monitoring or operating management systems at local level
-
- Y—GENERAL TAGGING OF NEW TECHNOLOGICAL DEVELOPMENTS; GENERAL TAGGING OF CROSS-SECTIONAL TECHNOLOGIES SPANNING OVER SEVERAL SECTIONS OF THE IPC; TECHNICAL SUBJECTS COVERED BY FORMER USPC CROSS-REFERENCE ART COLLECTIONS [XRACs] AND DIGESTS
- Y04—INFORMATION OR COMMUNICATION TECHNOLOGIES HAVING AN IMPACT ON OTHER TECHNOLOGY AREAS
- Y04S—SYSTEMS INTEGRATING TECHNOLOGIES RELATED TO POWER NETWORK OPERATION, COMMUNICATION OR INFORMATION TECHNOLOGIES FOR IMPROVING THE ELECTRICAL POWER GENERATION, TRANSMISSION, DISTRIBUTION, MANAGEMENT OR USAGE, i.e. SMART GRIDS
- Y04S20/00—Management or operation of end-user stationary applications or the last stages of power distribution; Controlling, monitoring or operating thereof
- Y04S20/20—End-user application control systems
Definitions
- the current patent application is directed to intelligent controllers and, in particular, to intelligent controllers, and methods incorporated within intelligent controller, that monitors the response of a controlled environment in order to effectively control one or more systems that control the environment.
- Control systems and control theory are well-developed fields of research and development that have had a profound impact on the design and development of a large number of systems and technologies, from airplanes, spacecraft, and other vehicle and transportation systems to computer systems, industrial manufacturing and operations facilities, machine tools, process machinery, and consumer devices.
- Control theory encompasses a large body of practical, system-control-design principles, but is also an important branch of theoretical and applied mathematics.
- Various different types of controllers are commonly employed in many different application domains, from simple closed-loop feedback controllers to complex, adaptive, state-space and differential-equations-based processor-controlled control systems.
- One class of intelligent controllers includes intelligent controllers that control systems that affect one or more environmental parameters within an environment. Often, an intelligent controller is tasked with controlling the systems under various constraints in order to meet two or more control goals, requiring careful balancing and tradeoffs in the degrees to which potentially conflicting goals are obtained. Designers, manufactures, and users of intelligent controllers continue to seek control methods and systems that effectively control systems when two or more control goals may conflict.
- the current application is directed to intelligent controllers that continuously, periodically, or intermittently monitor progress towards one or more control goals under one or more constraints in order to achieve control that satisfies potentially conflicting goals.
- An intelligent controller may alter aspects of control, dynamically, while the control is being carried out, in order to ensure that goals are obtained and a balance is achieved between potentially conflicting goals.
- the intelligent controller uses various types of information to determine an initial control strategy as well as to dynamically adjust the control strategy as the control is being carried out.
- FIG. 1 illustrates a smart-home environment.
- FIG. 2 illustrates integration of smart-home devices with remote devices and systems.
- FIG. 3 illustrates information processing within the environment of intercommunicating entities illustrated in FIG. 2 .
- FIG. 4 illustrates a general class of intelligent controllers to which the current application is directed.
- FIG. 5 illustrates additional internal features of an intelligent controller.
- FIG. 6 illustrates a generalized computer architecture that represents an example of the type of computing machinery that may be included in an intelligent controller, server computer, and other processor-based intelligent devices and systems.
- FIG. 7 illustrates features and characteristics of an intelligent controller of the general class of intelligent controllers to which the current application is directed.
- FIG. 8 illustrates a typical control environment within which an intelligent controller operates.
- FIG. 9 illustrates the general characteristics of sensor output.
- FIG. 10 illustrates examples of different communication media smart meters may use to communicate with a utility company.
- FIG. 11 illustrates examples of various ways in which an intelligent controller may exchange data.
- FIGS. 12A-D illustrate information processed and generated by an intelligent controller during control operations.
- FIGS. 13A-C show three different types of control schedules.
- FIGS. 14A-G show representations of immediate-control inputs that may be received and executed by an intelligent controller, and then recorded and overlaid onto control schedules, such as those discussed above with reference to FIGS. 11A-C , as part of automated control-schedule learning.
- FIGS. 15A-D illustrate the general context in which intelligent controllers, to which the current application is directed, operate.
- FIGS. 16A-E illustrate construction of one or more of a first type of P-response model based on observed P-response data.
- FIGS. 17A-B illustrate one or more types of local models and/or modeling techniques.
- FIGS. 18-19 illustrate, using plots similar to the plots shown in FIGS. 14B-C and 15 A-B, two additional types of information that may be obtained by monitoring P versus t response behaviors and various types of additional information with respect to the systems controlled by the intelligent controller.
- FIG. 20 illustrates an auto-component-activation-level user interface provided to users by one implementation of an intelligent controller.
- FIGS. 21A-D illustrate additional types of information that may be electronically stored within an intelligent controller with respect to P-responses and response times.
- FIG. 22 illustrates one implementation of a technique for efficient control, by an intelligent controller, of one or more systems in order to change the value of an environmental variable P according to a control schedule or immediate-control input.
- FIG. 23 illustrates a power versus time plot for two systems controlled by an intelligent controller.
- FIG. 24 illustrates a cost versus time plot for two systems controlled by an intelligent controller.
- FIG. 25A illustrates a plot of a portion of a control schedule adjusted by an intelligent controller to lower energy consumption and cost of using two systems.
- FIG. 25B illustrates a plot of ⁇ P/ ⁇ t versus P curve for systems controlled directly by an intelligent controller.
- FIG. 26 illustrates a plot of P values over a maintenance interval versus an iteration index.
- FIG. 27 illustrates a plot of total energy E consumed to operate two systems versus an same iteration index.
- FIG. 28 illustrates a control-flow diagram for intelligent-controller operation.
- FIGS. 29A-F illustrate, using control-flow diagrams, the logic employed by an intelligent controller to achieve desired P-response behavior following immediate-control inputs and scheduled setpoint changes.
- FIG. 30A illustrates a perspective view of an intelligent thermostat.
- FIGS. 30B-C illustrate the intelligent thermostat being controlled by a user.
- FIG. 31 illustrates an exploded perspective view of the intelligent thermostat and an HVAC-coupling wall dock.
- FIGS. 32A-B illustrate exploded front and rear perspective views of the intelligent thermostat.
- FIGS. 33A-B illustrate exploded front and rear perspective views, respectively, of the head unit.
- FIGS. 34A-B illustrate exploded front and rear perspective views, respectively, of the head unit frontal assembly.
- FIGS. 35A-B illustrate exploded front and rear perspective views, respectively, of the backplate unit.
- FIG. 36 shows a perspective view of a partially assembled head unit.
- FIG. 37 illustrates the head unit circuit board.
- FIG. 38 illustrates a rear view of the backplate circuit board.
- FIGS. 39A-B illustrate a problem domain related to intelligent-thermostat control of heat pumps and how the above discussed intelligent-controller monitoring and adjustment methods are applied to that problem domain in one intelligent-thermostat implementation.
- FIG. 40 illustrates example responses for setpoint changes obtained by an intelligent controller for different auto-component-configuration levels.
- FIG. 41 illustrates two setpoint diagrams for responses following a setpoint with auto-component-configuration levels max savings and balance, respectively.
- FIGS. 42A-E illustrate a problem domain related to intelligent-thermostat economization of a control schedule.
- FIG. 43 illustrates steps for automated system matching that are carried out by an intelligent thermostat.
- FIGS. 44A-C illustrate an example auto-component-configuration-level-selection interface for an intelligent thermostat.
- FIG. 45 shows a settings display for an intelligent thermostat. Indications are provided, in the display, for whether or not various features are activated.
- FIGS. 46A-C illustrate additional types of information that an intelligent thermostat can obtain, and provide to users or employ during control operations.
- FIG. 47 provides an example configuration of the response-time monitoring methods used in one implementation of an intelligent thermostat.
- the current application is directed to intelligent controllers that continuously, periodically, or intermittently monitor progress towards one or more control goals under one or more constraints in order to achieve control that satisfies potentially conflicting goals.
- An intelligent controller may alter aspects of control, dynamically, while the control is being carried out, in order to ensure that goals are obtained and a balance is achieved between potentially conflicting goals.
- the detailed description includes three subsections: (1) an overview of the smart-home environment; (2) methods and implementations for monitoring progress and dynamically altering control by an intelligent controller; and (3) intelligent thermostats that incorporate methods and implementations methods and implementations for monitoring progress and dynamically altering control by an intelligent controller.
- the first subsection provides a description of one area of technology that offers many opportunities for application and incorporation of methods for monitoring and dynamically adjusting control.
- the second subsection provides a detailed description of a general class of intelligent controllers that monitor progress towards control goals and dynamically adjust control based on monitoring results, information collected by one or more smart meters, and costs.
- a third subsection provides a specific example of intelligent thermostats that incorporate methods for monitoring and dynamically adjusting control.
- FIG. 1 illustrates a smart-home environment.
- the smart-home environment 100 includes a number of intelligent, multi-sensing, network-connected devices. These smart-home devices intercommunicate and are integrated together within the smart-home environment.
- the smart-home devices may also communicate with cloud-based smart-home control and/or data-processing systems in order to distribute control functionality, to access higher-capacity and more reliable computational facilities, and to integrate a particular smart home into a larger, multi-home or geographical smart-home-device-based aggregation.
- the smart-home devices may include one more intelligent thermostats 102 , one or more intelligent hazard-detection units 104 , one or more intelligent entryway-interface devices 106 , smart switches, including smart wall-like switches 108 , smart utilities interfaces and other services interfaces, such as smart wall-plug interfaces 110 , and a wide variety of intelligent, multi-sensing, network-connected appliances 112 , including refrigerators, televisions, washers, dryers, lights, audio systems, intercom systems, mechanical actuators, wall air conditioners, pool-heating units, irrigation systems, and many other types of intelligent appliances and systems.
- smart-home devices include one or more different types of sensors, one or more controllers and/or actuators, and one or more communications interfaces that connect the smart-home devices to other smart-home devices, routers, bridges, and hubs within a local smart-home environment, various different types of local computer systems, and to the Internet, through which a smart-home device may communicate with cloud-computing servers and other remote computing systems.
- Data communications are generally carried out using any of a large variety of different types of communications media and protocols, including wireless protocols, such as Wi-Fi, ZigBee, 6LoWPAN, various types of wired protocols, including CAT6 Ethernet, HomePlug, and other such wired protocols, and various other types of communications protocols and technologies.
- Smart-home devices may themselves operate as intermediate communications devices, such as repeaters, for other smart-home devices.
- the smart-home environment may additionally include a variety of different types of legacy appliances and devices 140 and 142 which lack communications interfaces and processor-based controllers.
- FIG. 2 illustrates integration of smart-home devices with remote devices and systems.
- Smart-home devices within a smart-home environment 200 can communicate through the Internet 202 via 3G/4G wireless communications 204 , through a hubbed network 206 , or by other communications interfaces and protocols.
- Many different types of smart-home-related data, and data derived from smart-home data 208 can be stored in, and retrieved from, a remote system 210 , including a cloud-based remote system.
- the remote system may include various types of statistics, inference, and indexing engines 212 for data processing and derivation of additional information and rules related to the smart-home environment.
- the stored data can be exposed, via one or more communications media and protocols, in part or in whole, to various remote systems and organizations, including charities 214 , governments 216 , academic institutions 218 , businesses 220 , and utilities 222 .
- the remote data-processing system 210 is managed or operated by an organization or vendor related to smart-home devices or contracted for remote data-processing and other services by a homeowner, landlord, dweller, or other smart-home-associated user.
- the data may also be further processed by additional commercial-entity data-processing systems 213 on behalf of the smart-homeowner or manager and/or the commercial entity or vendor which operates the remote data-processing system 210 .
- external entities may collect, process, and expose information collected by smart-home devices within a smart-home environment, may process the information to produce various types of derived results which may be communicated to, and shared with, other remote entities, and may participate in monitoring and control of smart-home devices within the smart-home environment as well as monitoring and control of the smart-home environment.
- export of information from within the smart-home environment to remote entities may be strictly controlled and constrained, using encryption, access rights, authentication, and other well-known techniques, to ensure that information deemed confidential by the smart-home manager and/or by the remote data-processing system is not intentionally or unintentionally made available to additional external computing facilities, entities, organizations, and individuals.
- FIG. 3 illustrates information processing within the environment of intercommunicating entities illustrated in FIG. 2 .
- the various processing engines 212 within the external data-processing system 210 can process data with respect to a variety of different goals, including provision of managed services 302 , various types of advertizing and communications 304 , social-networking exchanges and other electronic social communications 306 , and for various types of monitoring and rule-generation activities 308 .
- the various processing engines 212 communicate directly or indirectly with smart-home devices 310 - 313 , each of which may have data-consumer (“DC”), data-source (“DS”), services-consumer (“SC”), and services-source (“SS”) characteristics.
- DC data-consumer
- DS data-source
- SC services-consumer
- SS services-source
- the processing engines may access various other types of external information 316 , including information obtained through the Internet, various remote information sources, and even remote sensor, audio, and video feeds and sources.
- FIG. 4 illustrates a general class of intelligent controllers to which the current application is directed.
- the intelligent controller 402 controls a device, machine, system, or organization 404 via any of various different types of output control signals and receives information about the controlled entity and an environment from sensor output received by the intelligent controller from sensors embedded within the controlled entity 404 , the intelligent controller 402 , or in the environment.
- the intelligent controller is shown connected to the controlled entity 404 via a wire or fiber-based communications medium 406 .
- the intelligent controller may be interconnected with the controlled entity by alternative types of communications media and communications protocols, including wireless communications.
- the intelligent controller and controlled entity may be implemented and packaged together as a single system that includes both the intelligent controller and a machine, device, system, or organization controlled by the intelligent controller.
- the controlled entity may include multiple devices, machines, system, or organizations and the intelligent controller may itself be distributed among multiple components and discrete devices and systems.
- the intelligent controller also provides a user interface 410 - 413 through which a human user can input immediate-control inputs to the intelligent controller as well as create and modify the various types of control schedules, and may also provide the immediate-control and schedule interfaces to remote entities, including a user-operated processing device or a remote automated control system.
- a user interface 410 - 413 through which a human user can input immediate-control inputs to the intelligent controller as well as create and modify the various types of control schedules, and may also provide the immediate-control and schedule interfaces to remote entities, including a user-operated processing device or a remote automated control system.
- the intelligent controller provides a graphical-display component 410 that displays a control schedule 416 and includes a number of input components 411 - 413 that provide a user interface for input of immediate-control directives to the intelligent controller for controlling the controlled entity or entities and input of scheduling-interface commands that control display of one or more control schedules, creation of control schedules, and modification of control schedules.
- the general class of intelligent controllers to which the current is directed receive sensor input, output control signals to one or more controlled entities, and provide a user interface that allows users to input immediate-control command inputs to the intelligent controller for translation by the intelligent controller into output control signals as well as to create and modify one or more control schedules that specify desired controlled-entity operational behavior over one or more time periods.
- the user interface may be included within the intelligent controller as input and display devices, may be provided through remote devices, including mobile phones, or may be provided both through controller-resident components as well as through remote devices.
- FIG. 5 illustrates additional internal features of an intelligent controller.
- An intelligent controller is generally implemented using one or more processors 502 , electronic memory 504 - 507 , and various types of microcontrollers 510 - 512 , including a microcontroller 512 and transceiver 514 that together implement a communications port that allows the intelligent controller to exchange data and commands with one or more entities controlled by the intelligent controller, with other intelligent controllers, and with various remote computing facilities, including cloud-computing facilities through cloud-computing servers.
- an intelligent controller includes multiple different communications ports and interfaces for communicating by various different protocols through different types of communications media.
- intelligent controllers for example, to use wireless communications to communicate with other wireless-enabled intelligent controllers within an environment and with mobile-communications carriers as well as any of various wired communications protocols and media.
- an intelligent controller may use only a single type of communications protocol, particularly when packaged together with the controlled entities as a single system.
- Electronic memories within an intelligent controller may include both volatile and non-volatile memories, with low-latency, high-speed volatile memories facilitating execution of control routines by the one or more processors and slower, non-volatile memories storing control routines and data that need to survive power-on/power-off cycles.
- Certain types of intelligent controllers may additionally include mass-storage devices.
- FIG. 6 illustrates a generalized computer architecture that represents an example of the type of computing machinery that may be included in an intelligent controller, server computer, and other processor-based intelligent devices and systems.
- the computing machinery includes one or multiple central processing units (“CPUs”) 602 - 605 , one or more electronic memories 608 interconnected with the CPUs by a CPU/memory-subsystem bus 610 or multiple busses, a first bridge 612 that interconnects the CPU/memory-subsystem bus 610 with additional busses 614 and 616 and/or other types of high-speed interconnection media, including multiple, high-speed serial interconnects.
- CPUs central processing units
- electronic memories 608 interconnected with the CPUs by a CPU/memory-subsystem bus 610 or multiple busses
- a first bridge 612 that interconnects the CPU/memory-subsystem bus 610 with additional busses 614 and 616 and/or other types of high-speed interconnection media, including multiple, high-speed serial interconnects.
- busses and/or serial interconnections connect the CPUs and memory with specialized processors, such as a graphics processor 618 , and with one or more additional bridges 620 , which are interconnected with high-speed serial links or with multiple controllers 622 - 627 , such as controller 627 , that provide access to various different types of mass-storage devices 628 , electronic displays, input devices, and other such components, subcomponents, and computational resources.
- specialized processors such as a graphics processor 618
- additional bridges 620 which are interconnected with high-speed serial links or with multiple controllers 622 - 627 , such as controller 627 , that provide access to various different types of mass-storage devices 628 , electronic displays, input devices, and other such components, subcomponents, and computational resources.
- FIG. 7 illustrates features and characteristics of an intelligent controller of the general class of intelligent controllers to which the current application is directed.
- An intelligent controller includes controller logic 702 generally implemented as electronic circuitry and processor-based computational components controlled by computer instructions stored in physical data-storage components, including various types of electronic memory and/or mass-storage devices.
- controller logic 702 generally implemented as electronic circuitry and processor-based computational components controlled by computer instructions stored in physical data-storage components, including various types of electronic memory and/or mass-storage devices.
- computer instructions stored in physical data-storage devices and executed within processors comprise the control components of a wide variety of modern devices, machines, and systems, and are as tangible, physical, and real as any other component of a device, machine, or system.
- statements are encountered that suggest that computer-instruction-implemented control logic is “merely software” or something abstract and less tangible than physical machine components.
- Computer instructions executed by processors must be physical entities stored in physical devices. Otherwise, the processors would not be able to access and execute the instructions.
- the term “software” can be applied to a symbolic representation of a program or routine, such as a printout or displayed list of programming-language statements, but such symbolic representations of computer programs are not executed by processors. Instead, processors fetch and execute computer instructions stored in physical states within physical data-storage devices.
- computer-readable media are physical data-storage media, such as disks, memories, and mass-storage devices that store data in a tangible, physical form that can be subsequently retrieved from the physical data-storage media.
- the controller logic accesses and uses a variety of different types of stored information and inputs in order to generate output control signals 704 that control the operational behavior of one or more controlled entities.
- the information used by the controller logic may include one or more stored control schedules 706 , received output from one or more sensors 708 - 710 , immediate control inputs received through an immediate-control interface 712 , and data, commands, and other information received from remote data-processing systems, including cloud-based data-processing systems 713 .
- the controller logic provides an interface 714 that allows users to create and modify control schedules and may also output data and information to remote entities, other intelligent controllers, and to users through an information-output interface.
- FIG. 8 illustrates a typical control environment within which an intelligent controller operates.
- an intelligent controller 802 receives control inputs from users or other entities 804 and uses the control inputs, along with stored control schedules and other information, to generate output control signals 805 that control operation of one or more controlled entities 808 . Operation of the controlled entities may alter an environment within which sensors 810 - 812 are embedded. The sensors return sensor output, or feedback, to the intelligent controller 802 . Based on this feedback, the intelligent controller modifies the output control signals in order to achieve a specified goal or goals for controlled-system operation. In essence, an intelligent controller modifies the output control signals according to two different feedback loops.
- the first, most direct feedback loop includes output from sensors that the controller can use to determine subsequent output control signals or control-output modification in order to achieve the desired goal for controlled-system operation.
- a second feedback loop involves environmental or other feedback 816 to users which, in turn, elicits subsequent user control and scheduling inputs to the intelligent controller 802 .
- users can either be viewed as another type of sensor that outputs immediate-control directives and control-schedule changes, rather than raw sensor output, or can be viewed as a component of a higher-level feedback loop.
- sensor output is directly or indirectly related to some type of parameter, machine state, organization state, computational state, or physical environmental parameter.
- FIG. 9 illustrates the general characteristics of sensor output.
- a sensor may output a signal, represented by curve 904 , over time, with the signal directly or indirectly related to a parameter P, plotted with respect to the vertical axis 906 .
- the sensor may output a signal continuously or at intervals, with the time of output plotted with respect to the horizontal axis 908 .
- sensor output may be related to two or more parameters.
- a sensor outputs values directly or indirectly related to two different parameters P 1 and P 2 , plotted with respect to axes 912 and 914 , respectively, over time, plotted with respect to vertical axis 916 .
- sensors produce output directly or indirectly related to a single parameter, as in plot 902 in FIG. 9 .
- the sensor output is assumed to be a set of parameter values for a parameter P.
- the parameter may be related to environmental conditions, such as temperature, ambient light level, sound level, and other such characteristics.
- the parameter may also be the position or positions of machine components, the data states of memory-storage address in data-storage devices, the current drawn from a power supply, the flow rate of a gas or fluid, the pressure of a gas or fluid, and many other types of parameters that comprise useful information for control purposes.
- An intelligent controller may also be in communication with a smart meter that records smart-meter data corresponding to consumption of utilities or services provided by a utility company in intervals of time and communicates smart-meter data back to the utility company for monitoring and billing purposes.
- the terms “utility” and “service” are used inter-changeably and both terms are used to refer to natural gas, electricity, or water or any other service provided by a utility company.
- Smart meters enable two-way communication between the smart meter and the utility company or public utility. Examples of smart meters include smart electricity meters that measure electricity consumption, smart gas meters that measure natural gas consumption, and smart water meters that measure water consumption. Unlike home energy monitors, smart meters can gather smart-meter data for remote reporting and are capable of two-way communications between the smart meter and the utility company.
- Smart meters are also different from other types of meters, such as interval or time-of-use meters, because smart meters collect real-time or near real-time sensor data, provide service outage notifications, and provide service quality monitoring. Because smart meters provide a way of measuring utility consumption in intervals of time, utilities are able to introduce different pricing based on the time of day and season. Smart meters also provide a number of potential benefits to households by enabling smart-meter users to estimate bills based on consumption and may also help users better manage their energy use by providing up-to-date information on the cost of gas, water, and electricity consumption in the currency of the customer's country.
- Smart meters may be equipped with any one of a number of different media for two-way communication with a utility company. Each smart meter is able to reliably and securely communicate smart-meter data back to a utility company and receive operating instructions from the utility company.
- FIG. 10 illustrates examples of different communication media smart meters may use to communicate with a utility company 1000 .
- Each of the smart homes 1001 - 1005 includes one of six smart meters 1007 - 1011 , which records smart-meter data associated with electricity consumption, water consumption, or natural gas consumption.
- the smart meters 1007 - 1011 can be smart electricity meters that record the amount of electricity the smart homes 1001 - 1005 consume per interval of time.
- FIG. 10 illustrates examples of different communication media smart meters may use to communicate with a utility company 1000 .
- Each of the smart homes 1001 - 1005 includes one of six smart meters 1007 - 1011 , which records smart-meter data associated with electricity consumption, water consumption, or natural gas consumption.
- the smart meters 1007 - 1011 can be smart electricity
- each of the smart meters 1007 - 1011 uses a different communication medium to transmit smart-meter data to the utility company 1000 and receive instructions from the utility company 1000 .
- Smart meter 1007 is connected to the Internet 1014 via a hubbed network 1016 , such as Wi-Fi, Ethernet, or any other Internet related network connection.
- the smart meter 1007 communicates with the utility company 1000 via the Internet 1014 and the hub 1016 located in the smart home 1001 .
- Smart meter 1008 communicates with the utility company 1000 using communication satellites 1018 .
- Smart meter 1009 communicates with the utility company 1000 using mobile communications technologies 1020 , such as 3G/4G wireless communications.
- Smart meter 1210 communicates with the utility company 1200 using licensed radio or a combination of licensed and unlicensed radio 1021 .
- smart meter 1011 communicates with the utility company 1000 using power-line communication 1022 , which is a technique for transmitting data on a conductor that is also used to simultaneously carry electricity to the smart home 1005 .
- the smart meters 1007 - 1011 may be equipped to use any one of a number of different communications protocols.
- ANSI C12.18 is an ANSI standard protocol typically used for two-way communications with a smart meter.
- ANSI C12.19 specifies the data tables to be used, and
- ANSI C12.21 is an extension of C12.18 written for modem communications.
- Other communication protocols such as those set by the International Electrotechnical Commission digital formats can be used, such as IEC 61107 and IEC 62056.
- the Open Smart Grid Protocol is a family of specifications published by the European Telecommunications Standards Institute used in conjunction with the ISO/IEC 14908 control networking standard for smart metering and smart grid applications.
- TCP/IP technology can be used as a communication platform for smart meter applications, so that utilities can deploy multiple communication systems, while using IP technology as a common management platform.
- Other communications protocols include a single, universal connector separating the function of the smart grid device and its communication module.
- the smart homes 1001 - 1005 include intelligent controllers 1025 - 1029 that control operation of a controlled entity.
- Each of the intelligent controllers 1004 is in direct communication with a corresponding smart meter so that when the smart meter transmits recorded smart-meter data to the utility company 1000 , the corresponding intelligent controller also receivers the same recorded smart-meter data.
- the intelligent controllers 1025 - 1029 control operation of the corresponding controlled entities and generate operational data that may be sent with the smart-meter data to a utility 1000 or other remote system.
- Operational data can be raw data collected from the one or more intelligent-controller sensors, control specifications and control schedules input to the intelligent controller by an intelligent-controller user, and any other data generated by the intelligent controller in response to the raw data collected by one or more sensors, control specification and control schedules. Because the smart meters send smart-meter data to a corresponding intelligent controller, each of the intelligent controllers can store the smart-meter data and display the smart-meter data on the intelligent controller user interface.
- FIG. 11 illustrates examples of various ways in which an intelligent controller 1101 , a smart meter 1102 , a utility company 1103 , a remote system 1104 , and a user 1105 can exchange data.
- the user 1105 represents an occupant or owner of a home equipped with the intelligent controller 1101 and the smart meter 1102 .
- Solid directional arrows 1107 - 1111 represent two-way communications between the entities.
- directional arrow 1112 represents two-way communications between the smart meter 1102 and the utility company 1103 .
- the communications can be carried out using any one or the media and protocols described above with reference to FIG. 10 .
- Directional arrow 1109 represents the user's 1105 to access the user's utility company account information that may provide the user access to smart-meter data and different time-interval billing rates.
- Directional arrow 1111 represents the intelligent controller 1101 displaying notices from the intelligent controller 1101 to the user 1105 and the intelligent controller 1101 receiving operational settings, such as adjusting a control schedule, from the user 1105 .
- Directional arrow 1104 represents the remote system 1104 receiving operational data from the intelligent controller 1101 and the intelligent controller 1101 receiving commands and information from the remote system 1104 .
- Directional arrow 1108 represents the remote system 1104 providing the user 1105 access to operational data collected by the intelligent controller 1101 and the user 1105 entering information to the remote system 1104 .
- the user 1105 when the user 1105 purchases and installs the intelligent controller 1101 the user 1105 can register the intelligent controller 1101 with the manufacturer or vendor by providing address information and provide information on the layout of the smart home. Dashed-directional arrows 1114 and 1116 represent one-way communications.
- the smart meter 1102 may directly transmit smart-meter data to the intelligent controller 1101 when the smart meter 1102 transmits smart-meter data to the utility company 1103 , and the remote system 1104 can retrieve the smart-meter data from the intelligent controller 1101 .
- FIGS. 12A-D illustrate information processed and generated by an intelligent controller during control operations. All the figures show plots, similar to plot 902 in FIG. 9 , in which values of a parameter or another set of control-related values are plotted with respect to a vertical axis and time is plotted with respect to a horizontal axis.
- FIG. 12A shows an idealized specification for the results of controlled-entity operation.
- the vertical axis 1202 in FIG. 12A represents a specified parameter value, P S .
- the specified parameter value may be temperature.
- the specified parameter value may be flow rate.
- 12A is the plot of a continuous curve 1204 that represents desired parameter values, over time, that an intelligent controller is directed to achieve through control of one or more devices, machines, or systems.
- the specification indicates that the parameter value is desired to be initially low 1206 , then rise to a relatively high value 1208 , then subside to an intermediate value 1210 , and then again rise to a higher value 1212 .
- a control specification can be visually displayed to a user, as one example, as a control schedule.
- FIG. 12B shows an alternate view, or an encoded-data view, of a control schedule corresponding to the control specification illustrated in FIG. 12A .
- the control schedule includes indications of a parameter-value increase 1216 corresponding to edge 1218 in FIG. 12A , a parameter-value decrease 1220 corresponding to edge 1222 in FIG. 12A , and a parameter-value increase 1224 corresponding to edge 1216 in FIG. 12A .
- the directional arrows plotted in FIG. 12B can be considered to be setpoint changes, or indications of desired parameter changes at particular points in time within some period of time.
- a setpoint change may be stored as a record with multiple fields, including fields that indicate whether the setpoint change is a system-generated setpoint or a user-generated setpoint, whether the setpoint change is an immediate-control-input setpoint change or a scheduled setpoint change, the time and date of creation of the setpoint change, the time and date of the last edit of the setpoint change, and other such fields.
- a setpoint may be associated with two or more parameter values.
- a range setpoint may indicate a range of parameter values within which the intelligent controller should maintain a controlled environment. Setpoint changes are often referred to as “setpoints.”
- FIG. 12C illustrates the control output by an intelligent controller that might result from the control schedule illustrated in FIG. 12B .
- the magnitude of an output control signal is plotted with respect to the vertical axis 1226 .
- the control output may be a voltage signal output by an intelligent thermostat to a heating unit, with a high-voltage signal indicating that the heating unit should be currently operating and a low-voltage output indicating that the heating system should not be operating.
- Edge 1228 in FIG. 12C corresponds to setpoint 1216 in FIG. 12B .
- the width of the positive control output 1230 may be related to the length, or magnitude, of the desired parameter-value change, indicated by the length of setpoint arrow 1216 .
- the intelligent controller discontinues output of a high-voltage signal, as represented by edge 1232 .
- Similar positive output control signals 1234 and 1236 are elicited by setpoints 1220 and 1224 in FIG. 12B .
- FIG. 12D illustrates the observed parameter changes, as indicated by sensor output, resulting from control, by the intelligent controller, of one or more controlled entities.
- the sensor output directly or indirectly related to the parameter P, is plotted with respect to the vertical axis 1240 .
- the observed parameter value is represented by a smooth, continuous curve 1242 .
- this continuous curve can be seen to be related to the initial specification curve, plotted in FIG. 12A , the observed curve does not exactly match that specification curve.
- the parameter value may begin to fall 1246 , resulting in a feedback-initiated control output to resume operation of the controlled entity in order to maintain the desired parameter value.
- the desired high-level constant parameter value 1208 in FIG. 12A may, in actuality, end up as a time-varying curve 1248 that does not exactly correspond to the control specification 1204 .
- the first level of feedback discussed above with reference to FIG. 8 , is used by the intelligent controller to control one or more control entities so that the observed parameter value, over time, as illustrated in FIG. 12D , matches the specified time behavior of the parameter in FIG. 12A as closely as possible.
- the second level feedback control loop discussed above with reference to FIG.
- FIG. 8 may involve alteration of the specification, illustrated in FIG. 12A , by a user, over time, either by changes to stored control schedules or by input of immediate-control directives, in order to generate a modified specification that produces a parameter-value/time curve reflective of a user's desired operational results.
- FIGS. 13A-C show three different types of control schedules.
- the control schedule is a continuous curve 1302 representing a parameter value, plotted with respect to the vertical axis 1304 , as a function of time, plotted with respect to the horizontal axis 1306 .
- the continuous curve comprises only horizontal and vertical sections. Horizontal sections represent periods of time at which the parameter is desired to remain constant and vertical sections represent desired changes in the parameter value at particular points in time.
- This is a simple type of control schedule and is used, below, in various examples of automated control-schedule learning. However, automated control-schedule-learning methods can also learn more complex types of schedules. For example, FIG.
- FIG. 13B shows a control schedule that includes not only horizontal and vertical segments, but arbitrarily angled straight-line segments.
- a change in the parameter value may be specified, by such a control schedule, to occur at a given rate, rather than specified to occur instantaneously, as in the simple control schedule shown in FIG. 13A .
- Automated-control-schedule-learning methods may also accommodate smooth-continuous-curve-based control schedules, such as that shown in FIG. 13C .
- the characterization and data encoding of smooth, continuous-curve-based control schedules, such as that shown in FIG. 13C is more complex and includes a greater amount of stored data than the simpler control schedules shown in FIGS. 13B and 13A .
- a parameter value tends to relax towards lower values in the absence of system operation, such as when the parameter value is temperature and the controlled system is a heating unit.
- the parameter value may relax toward higher values in the absence of system operation, such as when the parameter value is temperature and the controlled system is an air conditioner.
- the direction of relaxation often corresponds to the direction of lower resource or expenditure by the system.
- the direction of relaxation may depend on the environment or other external conditions, such as when the parameter value is temperature and the controlled system is an HVAC system including both heating and cooling functionality.
- the continuous-curve-represented control schedule 1302 may be alternatively encoded as discrete setpoints corresponding to vertical segments, or edges, in the continuous curve.
- a continuous-curve control schedule is generally used, in the following discussion, to represent a stored control schedule either created by a user or remote entity via a schedule-creation interface provided by the intelligent controller or created by the intelligent controller based on already-existing control schedules, recorded immediate-control inputs, and/or recorded sensor data, or a combination of these types of information.
- FIGS. 12A-G show representations of immediate-control inputs that may be received and executed by an intelligent controller, and then recorded and overlaid onto control schedules, such as those discussed above with reference to FIGS. 13A-C , as part of automated control-schedule learning.
- An immediate-control input is represented graphically by a vertical line segment that ends in a small filled or shaded disk.
- FIG. 14A shows representations of two immediate-control inputs 1402 and 1404 .
- An immediate-control input is essentially equivalent to an edge in a control schedule, such as that shown in FIG.
- An immediate-control input is therefore a real-time setpoint input through a control-input interface to the intelligent controller.
- an immediate-control input alters the current control schedule
- an immediate-control input is generally associated with a subsequent, temporary control schedule, shown in FIG. 14A as dashed horizontal and vertical lines that form a temporary-control-schedule parameter vs. time curve extending forward in time from the immediate-control input.
- Temporary control schedules 1406 and 1408 are associated with immediate-control inputs 1402 and 1404 , respectively, in FIG. 14A .
- FIG. 14B illustrates an example of immediate-control input and associated temporary control schedule.
- the immediate-control input 1410 is essentially an input setpoint that overrides the current control schedule and directs the intelligent controller to control one or more controlled entities in order to achieve a parameter value equal to the vertical coordinate of the filled disk 1412 in the representation of the immediate-control input.
- a temporary constant-temperature control-schedule interval 1414 extends for a period of time following the immediate-control input, and the immediate-control input is then relaxed by a subsequent immediate-control-input endpoint, or subsequent setpoint 1416 .
- the length of time for which the immediate-control input is maintained, in interval 1414 is a parameter of automated control-schedule learning.
- the direction and magnitude of the subsequent immediate-control-input endpoint setpoint 1416 represents one or more additional automated-control-schedule-learning parameters.
- an automated-control-schedule-learning parameter is an adjustable parameter that controls operation of automated control-schedule learning, and is different from the one or more parameter values plotted with respect to time that comprise control schedules.
- the parameter values plotted with respect to the vertical axis in the example control schedules to which the current discussion refers are related directly or indirectly to observables, including environmental conditions, machines states, and the like.
- FIG. 14C shows an existing control schedule on which an immediate-control input is superimposed.
- the existing control schedule called for an increase in the parameter value P, represented by edge 1420 , at 7:00 a.m. ( 1422 in FIG. 14C ).
- the immediate-control input 1424 specifies an earlier parameter-value change of somewhat less magnitude.
- FIGS. 14D-G illustrate various subsequent temporary control schedules that may obtain, depending on various different implementations of intelligent-controller logic and/or current values of automated-control-schedule-learning parameter values.
- the temporary control schedule associated with an immediate-control input is shown with dashed line segments and that portion of the existing control schedule overridden by the immediate-control input is shown by dotted line segments. In one approach, shown in FIG.
- the desired parameter value indicated by the immediate-control input 1424 is maintained for a fixed period of time 1426 after which the temporary control schedule relaxes, as represented by edge 1428 , to the parameter value that was specified by the control schedule at the point in time that the immediate-control input is carried out.
- This parameter value is maintained 1430 until the next scheduled setpoint, which corresponds to edge 1432 in FIG. 14C , at which point the intelligent controller resumes control according to the control schedule.
- the parameter value specified by the immediate-control input 1424 is maintained 1432 until a next scheduled setpoint is reached, in this case the setpoint corresponding to edge 1420 in the control schedule shown in FIG. 14C .
- the intelligent controller resumes control according to the existing control schedule.
- the parameter value specified by the immediate-control input 1424 is maintained by the intelligent controller for a fixed period of time 1434 , following which the parameter value that would have been specified by the existing control schedule at that point in time is resumed 1436 .
- the parameter value specified by the immediate-control input 1424 is maintained 1438 until a setpoint with opposite direction from the immediate-control input is reached, at which the existing control schedule is resumed 1440 .
- the immediate-control input may be relaxed further, to a lowest-reasonable level, in order to attempt to optimize system operation with respect to resource and/or energy expenditure.
- a user is compelled to positively select parameter values greater than, or less than, a parameter value associated with a minimal or low rate of energy or resource usage.
- an intelligent controller monitors immediate-control inputs and schedule changes over the course of a monitoring period, generally coinciding with the time span of a control schedule or subschedule, while controlling one or more entities according to an existing control schedule except as overridden by immediate-control inputs and input schedule changes.
- the recorded data is superimposed over the existing control schedule and a new provisional schedule is generated by combining features of the existing control schedule and schedule changes and immediate-control inputs.
- the new provisional schedule is promoted to the existing control schedule for future time intervals for which the existing control schedule is intended to control system operation.
- FIGS. 15A-D illustrate the general context in which intelligent controllers operate.
- this context comprises a region or volume 1502 , one or more intelligent controllers 1504 and 1506 , and one or more devices, systems, or other entities 1506 - 1508 that are controlled by the one or more intelligent controllers and that operate on the region or volume 1502 .
- the intelligent controllers are described as controlling the region or volume 1502 although, in fact, they directly control the one or more devices, systems, or other entities 1506 - 1508 .
- the region or volume 1502 may be a complex region or volume that includes multiple connected or separate subregions or subvolumes.
- the region, regions, volume, or volumes controlled by an intelligent controller is referred to, below, as the “controlled environment.”
- the intelligent controllers may reside within the environment, as intelligent controller 1504 shown in FIG. 15A , or may reside externally, as, for example, intelligent controller 1506 in FIG. 15A .
- the devices, systems, or other entities that operate on the environment 1506 - 1508 may reside within the environment, as, for example, system 1506 in FIG. 15A , or may be located outside of the environment, as, for example, systems 1507 - 1508 in FIG. 15A .
- the systems are HVAC systems and/or additional air conditioners and heaters and the intelligent controllers are intelligent thermostats, with the environment a residence, multi-family dwelling, commercial building, or industrial building that is heated, cooled, and/or ventilated by the systems controlled by the intelligent thermostats.
- the intelligent controllers 1504 and 1506 generally intercommunicate with one another and may additionally intercommunicate with a remote computing system 1510 to which certain of control tasks and intelligent-control-related computations are distributed.
- the intelligent controllers generally output control signals to, and receive data signals from, the systems 1506 - 1508 controlled by the intelligent controllers.
- the systems 1506 - 1508 are controlled by the intelligent controllers to operate on the environment 1502 . This operation may involve exchange of various types of substances, operations that result in heat exchange with the environment, exchange of electrical current with the environment, and many other types of operations. These operations generally affect one or more characteristics or parameters of the environment which are directly or indirectly monitored by the intelligent controllers.
- the intelligent controllers to which the current application is directed, generally control the environment based on control schedules and immediate-control inputs that can be thought of as overlaid on or added to the control schedules.
- the context within which the general class of intelligent controllers operates is illustrated, in FIG. 15C , with two plots 1512 and 1514 .
- the first plot 1512 is a portion of a control schedule to which an immediate-control input 1516 has been added.
- the portion of the control schedule may feature a scheduled setpoint rather than the immediate-control input 1516 .
- the vertical axis is labeled “P” 1518 to represent the value of a particular parameter or characteristic of the environment, referred to as an “environmental parameter,” and the horizontal axis represents time 1520 .
- the immediate-control input 1516 or, alternatively, a scheduled setpoint generally represent a desired change in the parameter or characteristic 1522 , designated ⁇ P.
- the intelligent controller At the time of the immediate-control input, or before or at the time of a scheduled input, the intelligent controller generally outputs control signals to the systems in order to change the parameter or characteristic P by ⁇ P.
- ⁇ P is positive, with the desired parameter P greater than the current value of the parameter P, the ⁇ P may also be negative, with the desired value of P less than the current P.
- intelligent controllers control the systems with respect to multiple parameters, in which case there may be separate control schedules for each parameter, and multiple parameters may be combined together to form a composite parameter for a single control schedule.
- setpoints may be associated with multiple P values for each of one or more environmental parameters.
- each setpoint specifies a single parameter value, and that intelligent controllers output control signals to one or more systems in order to control the value of the parameter P within the controlled environment 1502 .
- the parameter P changes, over time, in a continuous manner from the initial P value 1524 to the desired P value 1526 .
- the P values cannot be instantaneously altered at times corresponding to immediate-control inputs or scheduled setpoints.
- ⁇ t 1528 there is a time interval ⁇ t 1528 , referred to as the “response time,” that separates the time of an immediate-control input or scheduled setpoint change in the time which the parameter value specified by the setpoint change or immediate-control input is achieved.
- Intelligent controllers to which the current application is directed model the P versus t behavior within this response-time ⁇ t interval 1528 so that, at any point in time during the response time, the time remaining to a point in time the desired t value is obtained, or, in other words, the remaining response time, can be displayed or reported.
- the intelligent controller calculates the length of time interval ⁇ t 1 1532 , the remaining response time, and reports the length of this time interval in a textural, graphical, or numeric display output on an intelligent-controller display device, such as display device 410 in FIG. 4 , or outputs the information through a remote-display interface for display on a remote display device, such as a smart phone.
- the information may include a remaining-response-time indication, an indication of the remaining response time relative to the entire response time, information including the response time so far elapsed, and other response-time related information. It should be noted that calculation of the time remaining before a desired P value is achieved may be used independently, for various different intelligent-controller operations, from the display of the remaining response time. For example, intelligent controllers may alter control strategies depending on the remaining response time computed for various different control strategies.
- FIG. 15D shows various different conditions and effects that may alter the P versus t behavior of a controlled environment.
- the time of day, weather, and time of year 1540 may alter the P versus t behavior of the environment, referred to below as the environment's P response.
- the P response may also be altered by different types of inputs 1542 - 1544 to the systems or internal states of the systems. For example, a system that requires electricity for operation may be inoperable during power failures, as a result of which the P response during power failures may be substantially different than the P response when power is available.
- the P response may also be affected by external entities other than the systems 1546 which operate on the environment or by internal systems and devices other than systems 1506 - 1508 that operate on the environment 1548 .
- changes to buildings or structures, such as opened windows 1550 may significantly alter the P response to the environment due to a thermal or material exchange 1552 .
- FIGS. 16A-E illustrate construction of one or more of a first type of P-response model based on observed P-response data.
- FIG. 16A shows a collection of data by an intelligent controller and construction of a parameterized P-response curve from the data.
- the horizontal axis 1602 is a time axis with respect to which various data states are shown.
- the intelligent controller monitors the change in P value in time and plots points to represent an observed P-response curve.
- the first such plot 1604 represents the points plotted with respect to a first observed P-response curve of the intelligent controller.
- the points are stored in a file or database, often as encoded coordinate pairs, rather than plotted in a graphical plot.
- the stored data is referred to as a “plot” in the following discussion.
- Observation of a first P response generally produces a set of points, such as those shown plotted in plot 1604 , that describe a general trend in P versus t behavior.
- the intelligent controller continues to make observations of P responses, over time, adding observed P versus t points to the plot, as shown by plots 1606 - 1609 in FIG. 16A . After some time, were the recorded P versus t points plotted visually in a graph, they would form a relatively dense cloud of points that suggest a P versus t curve that describes the P response for the control environment.
- the intelligent controller can generate a parameterized model, or function, that statistically best fits the collected points, as represented in FIG. 16A by parameterized plot 1610 .
- a parameterized plot is a plot that is associated with a model that represents the observed P versus t data over the course of many P-response observations.
- the P-response data may be discarded following plot parameterization, or after passage of significant periods of time.
- FIG. 16B illustrates one P-response-curve model.
- the model computes ⁇ P as a function of time, the function parameterized by and one or more constant-valued parameters that are determined for a given P and a given controlled environment.
- the slope of the straight-line portion of the P-response curve generated from the model can be varied by varying the value of parameter b, while the range in ⁇ P values can be altered by changing the value of parameter a.
- Many other types of models can be used for P-response curves.
- the parameterized model generated for a collection of observed P responses is generally only an estimate and, because of all the different factors that may affect P responses, the parameterized model is generally an estimate for the average P response of the controlled environment.
- the model curve to be plotted within the dense clouds of points representing the observed data, generally only a very few of the observed points would actually fall on the P-response curve generated by the model.
- Models are selected and evaluated by evaluating how well the data fits the model. There are many statistical methods that may be employed to compute the fit of a model to experimental data.
- FIGS. 16C-D illustrate one such method.
- FIG. 16C shows the model P response curve in a graphical plot 1630 similar to that shown in FIG. 16B along with one of the observed P versus t points 1632 .
- a vertical line segment 1634 passing through the observed P versus t point 1632 , also passes through the model curve at point 1636 and through the time axis at point 1638 , the time coordinate of which is referred to as t 1 .
- the ⁇ P coordinate 1638 of the observed P versus t point is labeled ⁇ p o and the ⁇ P coordinate 1640 of the point on the model curve corresponding to time t 1 1610 is labeled ⁇ p c .
- a discrepancy ⁇ o/c i between the observed data point i 1632 and corresponding model point 1636 can be computed as:
- ⁇ o / c i ( ⁇ ⁇ ⁇ p o - ⁇ ⁇ ⁇ p c ) 2 ⁇ ⁇ ⁇ p c
- a fit value for the curve with respect to the observed data can be computed by summing all of the discrepancies for all of the data points, as follows:
- fit values calculated from various different data sets fall into a particular type of probability distribution.
- One such probability distribution is shown in FIG. 16D .
- the vertical axis 1660 represents the probability of observing a particular fit value and the horizontal axis 1662 represents the different possible fit values.
- the area under the probability-distribution curve to the right of the fit value 1666 shown cross-hatched in FIG. 16D , represents the probability of observing the fit value 1664 or a fit value greater than that fit value.
- This probability can also be used to evaluate the reasonableness of the model with respect to observed data. When the probability of a fit value equal to or greater than the observed fit value falls below a threshold probability, the model may be rejected.
- the intelligent controller may, after observing each response and adding the data points for the observed P response to a plot, compute the fit value of various different models with respect to the data and, when one or more models is associated with a fit value less than a first threshold value or with a corresponding probability value greater than a second threshold value, the intelligent controller may select the best fitting model from the one or more models and generate a parameterized plot by associating the selected model, including selected constant values for the model parameters, with the plot. This constitutes what is referred to as “parameterizing the plot” in the following discussion. Once a plot is parameterized, the plot becomes a global model that can be used, by the intelligent controller, to predict remaining response time, or time-to, values for display and for other purposes.
- the parameterized plot may be continued to be refined, over time, following addition of new P-response data, including changing the global model associated with the parameterized plot and altering constant-parameter values. This refinement may continue indefinitely, or may be discontinued after a highly reliable model is constructed. Alternatively, the parameterized plot may represent a sliding data window, with only recent data used to select a current associated model and parameter values.
- An intelligent controller may generate various different parameterized models, also referred to as “global models,” for various different conditions.
- FIG. 16E illustrates generation of multiple global models as a continuation of the timeline shown in FIG. 16A .
- the intelligent controller may elect to divide the collected data points among multiple plots 1612 - 1615 each collecting observed P responses under different conditions. For example, when it is determined that weather and outside-temperature are important influences on P responses, the intelligent controller may collect separate P-response data for sunny days, cloudy days, nighttime, days with high wind, and other such different weather conditions.
- 16E illustrates division of the initial plot 1610 into four plots 1612 - 1615 arranged along a vertical parameter or condition dimension, such as a weather-and-temperature dimension. Then, as shown in FIG. 16E , the intelligent controller may continue to collect data for each of these individual plots until they can be parameterized, with the parameterized plots shown in column 1620 . At this point, the intelligent controller may then generate new plots, essentially extending the data collection along a new dimension, as represented by the column of sets of plots 1622 shown in FIG. 16E .
- the intermediate global models, such as global model 1610 may be retained in addition to the subsequently generated global models for particular conditions.
- an intelligent controller need not be constrained to generating only a single global model, but may generate multiple global models, each for a different condition or set of conditions, in order to better approximate P response curves that obtain under those conditions.
- the response model may depend on the magnitude of the ⁇ P represented by a scheduled setpoint change or immediate-input control.
- a second type of P-response model that may be employed by intelligent controllers is referred to as a “local model.”
- a local model A second type of P-response model that may be employed by intelligent controllers.
- FIGS. 15A-B illustrate several types of local modeling techniques.
- FIG. 17A illustrates one type of local model.
- ⁇ t unstable 1702 Following output of control signals to one or more systems by an intelligent controller, there is a period of time referred to as ⁇ t unstable 1702 during which the P value may fail to change or actually change in the direction opposite from the desired direction. After the unstable time interval 1702 , the ⁇ P versus t response may be nearly linear 1704 .
- This type of local model may be expressed as:
- m is the slope of the straight-line portion and is the single constant for the model.
- the response may be approximated by a series of local linear models.
- the portion of the P response within the dashed circle 1702 about the point 1704 with time coordinate t 1 1706 , considered as a local origin, is nearly linear, and can be approximated by a linear model 1708 , expressed as:
- Another portion of the P-response curve within dashed circle 1710 can be approximated by a different linear model with a different slope.
- the intelligent controller can incrementally calculate accurate remaining response times.
- global models and local models provide models of P responses.
- the global models are generally used during the initial portion of a response time following an immediate-control input or scheduled setpoint because, during this initial period of time, there is generally insufficient observed data to compute parameters for a local model and/or to select a particular local model.
- a local model can be selected and parameterized to provide more accurate remaining-response-time predictions up until the time that the desired P value is obtained. This is, however, not always the case.
- the global model is more predictive throughout the entire response time or that, after a local model is selected and used, the global model again, after another period of time, is again better able to predict the remaining-response-time value from a local model.
- neither global nor local models provide adequate predictive power. For this reason, many intelligent controllers of the class of intelligent controllers to which the current application is directed continuously reevaluate P-response models and attempt to select the best model for each point in time over an entire interval during which the remaining-response-time values are continuously, periodically, or intermittently calculated and displayed.
- FIGS. 18-19 illustrate, using plots similar to the plots shown in FIGS. 16B-C and 17 A-B, two additional types of information that may be obtained by monitoring P versus t response behaviors and various types of additional information with respect to the systems controlled by the intelligent controller.
- FIG. 18 shows a ⁇ P/ ⁇ t versus P curve for a particular type of system that affects a controlled environment and that is controlled directly by the intelligent controller.
- a portion of the ⁇ P/ ⁇ t versus P curve is a straight line 1802 .
- This line represents the fact that, for the particular systems for which the data has been collected, the rate at which the systems change the value of parameter P within the controlled environment varies with respect to the current value of P.
- the current value of P may be the current value of P within the controlled environment or the current value of P external to the controlled environment.
- this type of curve is frequently used to describe dependence of heat-pump and AUX effectiveness with respect to outside temperature P. As shown in FIG.
- an intelligent controller When an intelligent controller is attempting to increase the P value in the controlled environment, it clearly would not choose to use a system with ⁇ P/ ⁇ t characteristics such as those shown in FIG. 18 when the current P value, such as the outside temperature, is less than the critical P value P c . Frequently, an intelligent controller establishes a P-value cutoff, or lockout value, substantially higher than P c , below which the intelligent controller does not activate the system in order to increase the value of P in a controlled environment due to the poor effectiveness, or rate of change in P, of the system below the lockout value.
- FIG. 19 shows a different type of information that may be obtained and electronically stored by an intelligent controller to characterize a particular system.
- FIG. 19 shows a plot of ⁇ E/ ⁇ P versus P for a particular system, where ⁇ E is the amount of energy needed to change the value of the parameter P within a controlled environment by ⁇ P.
- ⁇ E is the amount of energy needed to change the value of the parameter P within a controlled environment by ⁇ P.
- this curve is reflective of the dependence of the energy efficiency of a system with respect to the current value of P.
- the current value of P may be the current value of P within the controlled environment or the current value of P external to the controlled environment. As one example, such a curve may represent the energy efficiency of a furnace with respect to the outside temperature.
- the energy efficiency is maximized, when ⁇ E/ ⁇ P is lowest, at a P value of approximately P 1 1904 and decreases as P is either increased or decreased from this maximum-efficiency P value.
- the energy efficiency of the furnace may decrease as outside temperatures decreases due to increasing thermal exchange of the controlled environment with the external environment and may also decrease as temperatures reach a relatively high value, due to the decreasing difference between the temperature of air output by the furnace with respect to the ambient temperature. In other words, when the temperature is neither too cold nor too hot, the furnace may not be capable of efficiently increasing the temperature of a controlled environment.
- the data plotted in FIGS. 18 and 19 is generally stored as a collection of data points in memory and/or mass-storage devices.
- the data corresponding to the plot shown in FIGS. 18 and 19 may be accumulated, over time, by an intelligent controller as for the previously described P-response models.
- the data corresponding to the plot shown in FIG. 18 may be accumulated, over time, as for the previously described P-response models, and may be parameterized for computational efficiency, as well.
- the data corresponding to the plot shown in FIG. 19 may also be partially or fully obtained from other sources, including from characteristics for particular types of systems.
- the current applications is directed to intelligent controllers which balance control in order to achieve multiple goals which may, at times, conflict, and in order to achieve one or more goals under conflicting constraints.
- an intelligent controller may be designed to produce specified changes in the value of an environmental parameter P as rapidly as possible, in order to conform to a control schedule featuring controlled, vertical setpoint changes, as discussed above, with minimum expenditure of energy.
- these goals conflict, since, as ⁇ P/ ⁇ t increase, ⁇ E/ ⁇ P decreases for certain particular systems controlled by the intelligent controller in order to control the value of P in the controlled environment, such as a system exhibiting the characteristics illustrated in FIGS. 18 and 19 .
- the intelligent controller provides a user-interface feature to allow a user to select an auto-component-activation level for operation of the intelligent controller, the auto-component-activation level specifying how the intelligent controller balances the competing goals of quickly carrying out setpoint changes but doing so in an energy-efficient manner.
- the auto-component-activation level is used during determinations by the intelligent controller with respect to which system or systems to activate in order to carry out a setpoint change.
- FIG. 20 illustrates an auto-component-activation-level user interface provided to users by one implementation of an intelligent controller.
- the auto-component-activation-level user interface includes a slider-bar feature 2002 that allows a user to move a slider or cursor 2004 along the slider bar 2002 to select an auto-component-activation level in the range of [max savings, max comfort].
- the intelligent controller seeks to use the most energy efficient and/or cost efficient means for achieving desired changes in the value of environmental parameter P within an environment controlled by the intelligent controller.
- the intelligent controller attempts to execute desired changes in P value as quickly as possible.
- Intermediate auto-component-activation-level values represent various levels of balance between max savings and max comfort.
- the auto-component-activation-level user interface may also be enabled and disabled via an on/off feature 2006 .
- the intelligent controller recognizes four auto-component-activation levels: (1) off; (2) max savings; (3) balance; and (4) max comfort. In other implementations, there may be a larger number of auto-component-activation levels. In certain implementations, there may be a continuous range of auto-component-activation levels.
- FIG. 20 additionally shows a P-response curve overlaid on a control schedule as well as an indication of energy usage for both the max-savings auto-component-activation level 2008 and for the max-comfort auto-component-activation level 2010 .
- the control schedule is represented by a solid line, such as solid line 2012 and the P-response curve is illustrated with a dashed line, such as dashed curve 2014 .
- a vertical bar such as vertical bar 2016 , represents the range of energy usage by one or more systems controlled by the intelligent controller, with a filled disk, such as filled disk 2018 , representing a particular energy-usage value.
- filled disk such as filled disk 2018
- FIGS. 21A-D illustrate additional types of information that may be electronically stored within an intelligent controller with respect to P-responses and response times.
- FIG. 21A illustrates a table 2102 with four columns 2104 - 2107 that include: (1) auto-component-activation level 2104 ; (2) P lowLockout 2105 ; (3) P highLockout 2106 ; and (4) system 2107 .
- Each row in this table represents a range of P values, [P lowLockout , P highLockout ] within which a system is activated by an intelligent controller under each of various different auto-component-activation levels.
- certain types of systems may be ineffectual below a critical P value.
- a P lowLockout value may be set to the P c critical value indicated by a plot, such as that shown in FIG. 16 , or to a higher P value below which a system may be too inefficient to use in order to raise the value of an environmental parameter P within a controlled environment.
- a system may be associated with an upper P highLockout for efficient operation.
- Values of P lowLockout and P highLockout lockout define a range of P values within which the intelligent controller may choose to activate a particular system, and this range of P values may vary with the auto-component-activation-level.
- the values stored in table 2102 may be empirically derived, determined, over time, by an intelligent controller, or initially specified and then adjusted. They represent a heuristic with respect to selecting systems to activate in order to achieve setpoint changes under various P values. Additional such tables may be used when there are additional environmental variables being controlled.
- FIG. 21B illustrates additional tables that may be stored by an intelligent controller in electronic memory and/or in a mass-storage device.
- An intelligent controller may store a separate table of the type shown in FIG. 21B for each of various different auto-component-activation levels.
- Each table, such as table 2110 includes three columns 2112 - 2114 , including (1) system configuration 2112 ; immediate-control input 2113 ; and scheduled setpoint change 2114 .
- Each table stores the maximum response time that the intelligent controller should achieve for setpoint changes for particular system configurations and types of setpoint changes.
- the system configuration may correspond to an overall classification of the systems controlled by the intelligent controller.
- the system configuration may refer to the overall type of heating used to heat a residence, including radiant heating, heat pump, forced-air furnace, or various combinations of heating units.
- Users of various different types of heating-unit configurations may expect different response-time characteristics. Radiant heating users, for example, may be accustomed to slow response times, allowing the intelligent controller greater latitude in controlling the heating units to achieve energy-efficient control.
- similar tables may include preconditioning times for each of various different auto-component-activation levels, each table providing preconditioning intervals for particular system configurations and types of setpoint changes.
- FIG. 21C illustrates yet additional tables that may be stored within electronic memory and/or a mass-storage device within an intelligent controller.
- FIG. 21C shows a series of three compatibility tables 2120 - 2122 , each for a different range of P values that indicate pairwise compatibility between each of four systems controlled by an intelligent controller. These tables indicate whether or not two systems can be currently activated by an intelligent controller.
- a heat pump is often accompanied by an auxiliary heating strip for home heating and, under certain conditions, the heat-pump compressor cannot be concurrently operated with the auxiliary heating strip.
- FIG. 21D illustrates information stored by an intelligent controller, in one implementation, with respect to P-responses and other characteristics of four different systems controlled by the intelligent controller to control the value of an environmental parameter P within a controlled environment.
- each of the four systems is represented by a rectangle 2130 - 2133 .
- the intelligent controller stores ⁇ P/ ⁇ t versus P data, ⁇ E/ ⁇ P versus P data, and P versus t data for each system, such as the ⁇ P/ ⁇ t versus P data 2136 , ⁇ E/ ⁇ P versus P data 2138 , and P versus t data 2140 associated with system 2130 . This type of information is discussed above with reference to FIGS. 16A-19 .
- the P-response models may additionally be global models collected for specific system or system combinations, so that they reflect system-specific or system-combination-specific P-responses.
- the intelligent controller stores tables of system compatibility indications 2142 , lockout values 2144 , and maximum response times 2146 for all of the systems and/or configurations, as discussed above with reference to FIGS. 21A-C .
- FIG. 22 illustrates one implementation of a technique for efficient control, by an intelligent controller, of one or more systems in order to change the value of an environmental variable P according to a scheduled setpoint change or immediate-control input.
- FIG. 22 shows a control schedule 2202 along with a P-response curve 2204 that obtains as the intelligent controller controls one or more systems to raise the value of the environmental variable P by a specified amount ⁇ P 2206 .
- the intelligent controller is constrained to raise the value of the environmental parameter P within a maximum response time 2208 .
- the intelligent controller makes an initial decision, represented by shaded disk 2210 , with regard to which systems to activate and then continuously monitors the P-response curve, as represented by unshaded disks, such as unshaded disk 2212 , to ensure that the desired ⁇ P change is achieved within the maximum response time.
- the intelligent controller makes one or more additional decisions, such as decision 2218 , with respect to the systems that are activated in order to achieve the target P value. Note that the initial decision is shown, in FIG.
- the initial decision is not tied to the time of the setpoint change, but may occur earlier, in order to begin changing the value of the environmental variable P so that an energy efficient and/or cost-effective control strategy that may need a longer period of time than the maximum response time may be employed. There may be cases when the initial decision occurs later in time than the time of the setpoint change or at the same time as the time of the setpoint change, as well.
- An intelligent controller in communication with a smart meter may also record the same data typically sent from the smart meter to the utility as described above with reference to FIGS. 12 and 13 . As a result, the intelligent controller may maintain a record of the amount of a service used and the cost of the service provided by the utility to operate controlled entities over time.
- FIGS. 23-24 illustrate the amount of power and associated cost, respectively, obtained by an intelligent controller from a smart meter.
- FIG. 23 illustrates a power versus time plot 2300 for a two-system controlled entity controlled by an intelligent controller.
- Vertical axis 2302 represents ⁇ E/ ⁇ t or power, such as electrical power supplied by an electric utility
- horizontal axis 2304 represents time.
- Bar 2306 represents power used to operate system 1 alone for a period of time
- bar 2308 represents the power used to operate systems 1 and 2 for a period of time.
- the increased power 2310 in bar 2308 results from the substantially higher demand for power used to operate system 2 for the same period of time.
- the power demand for using AUX can be 2 to 5 times greater than the power demand for using a heat pump alone for the same period of time.
- the intelligent controller can determine the cost associated with operating the systems controlled by the intelligent controller.
- FIG. 24 illustrates a cost versus time plot 2400 for two systems controlled by an intelligent controller.
- Vertical axis 2402 represents cost, such as the cost of electrical power supplied by an electric utility
- horizontal axis 2404 represents time.
- Bar 2406 represents the cost of operating system 1 alone for a period of time
- bar 2408 represents the cost of operating systems 1 and 2 over a period of time.
- the increased cost 2410 in bar 2408 results from the higher power demand of system 2 for the same period of time as system 1 .
- the power demand for using AUX can be 2 to 5 times greater than the power demand for using a heat pump alone, the cost of using AUX is also 2 to 5 time greater than the cost of using the heat pump alone for the same period of time.
- the intelligent controller can display the power consumption and associated cost on the intelligent controller user interface. Moreover, the intelligent controller can use this same information to control the systems in a manner that lowers power consumption and associated costs of operating the systems.
- the current application is directed to iterative methods for lowering power consumption and associated costs of systems controlled by an intelligent controller based on the data provided by a smart meter.
- FIGS. 25-27 illustrate an iterative approach used by an intelligent controller to lower power consumption and cost of using a two-system controlled entity.
- the first system 1 has a lower energy demand or power consumption than the cost of operating the second system 2 for the same period of time.
- the controlled entity may be a heat pump (e.g., system 1 ) with an AUX (e.g., system 2 ).
- the method incrementally lowers energy consumption and cost by incrementally adjusting parameters controlled by the intelligent controller that result in increased use of system 1 and decreased use of dependence on system 2 .
- FIG. 25A illustrates a plot 2500 of a portion of a control schedule along with a representative number of P-response curves an intelligent controller may use to lower energy consumption and cost of using two systems.
- vertical axis 2502 represents an internal environment variable P and horizontal axis 2504 represents time.
- the control schedule allows the internal environment variable P to decrease from P 2505 to P low 2506 at time 2508 .
- the interval between 2508 and 2510 is called a low-P maintenance interval.
- the low-P maintenance interval may correspond to an interval of time in an internal temperature control schedule when the occupants are not present during the day or when the occupants are sleeping.
- FIG. 25B illustrates a plot 2514 of ⁇ P/ ⁇ t versus P curve for the systems controlled directly by the intelligent controller.
- vertical axis 2516 represents ⁇ P/ ⁇ t of the internal controlled environment and horizontal axis 2518 represents the current value of P external to the controlled environment.
- Line 2520 represents the rate at which the systems change the internal P value of the controlled environment with respect to the current value of P external to the controlled environment.
- this type of curve is frequently used to describe dependence of heat-pump and AUX effectiveness with respect to outside temperature.
- the intelligent controller accesses the internet to retrieve the value of P external and uses the response curve shown in FIG. 25B to determine an appropriate use of the systems 1 and 2 to maintain P low .
- the intelligent controller uses more of system 2 than when the value of P external is P′ 0 .
- the intelligent controller makes a decision based on the response curve shown in FIG. 25B at time 2526 with regard to which of the two systems to activate and then continuously monitors the P-response curve 2528 to ensure that the desired P target 2512 is achieved within the response time ⁇ t low , as described above with reference to FIG. 22 .
- the intelligent controller Based on data supplied by the smart meter, the intelligent controller records the energy and calculates the cost of maintaining P low between the times 2522 and 2526 and transitioning to P target 2512 .
- n is a positive integer index. Note that the response times for reaching P target 2512 decreases for each incremental increase P n .
- the intelligent controller maintains a record of the energy and cost of maintaining P n and transitioning to P target 2512 for every incremental increase in P over the low-P maintenance interval. The incremental increase in P over the low-P maintenance interval is repeated until the energy and cost no longer decreases.
- the parameter P low may be reset to the P value that results in the lowest energy or cost of operating systems 1 and 2 over the low-P maintenance interval and the transition to P target .
- FIG. 26 illustrates a plot of the P values over the low-P maintenance interval shown in FIG. 25 versus the iteration index, n
- FIG. 27 illustrates a plot of the total energy E consumed to operate the two systems over the low-P maintenance interval and the transition to P target versus the same iteration index.
- vertical axis 2602 represents P
- horizontal axis 2604 represents the iteration index.
- Solid dots 2606 represent low-P for each incremental increase of P over the low-P maintenance interval shown in FIG. 25 .
- vertical axis 2702 represents energy and horizontal axis 2704 represent the same iteration index.
- Solid dots 2706 represent the total energy used over the low-P maintenance interval and the transition to P target 2512 for each of the P values shown in FIG. 26 .
- FIGS. 26 and 27 show that as the value P over the low-P maintenance interval is incrementally increased from P low to P n , the corresponding total energies E 1 to E n decrease, because dependence on system 2 decreases. However, when the value P over the low-P maintenance interval is incrementally increased to P n+1 , the associated total energy E n+1 increases instead of decreases.
- the near minimum energy over the low-P maintenance interval and the transition to P target 2512 is E n 2708 . As a result, the parameter P low is reset to P n 2608 .
- the near minimum energy E n can be determined by monitoring the slope of the energy consumed by the systems. When the slope of the energy transitions from negative to positive a minimum energy exists and an approximate or near minimum energy can be determined. For example, in FIG. 27 , dotted line 2710 represents negative slope E n ⁇ E n ⁇ 1 and dotted line 2712 represents positive slope E n+1 ⁇ E n . As a result, E n is taken as an approximate minimum energy. When systems 1 and 2 are a heat pump and an AUX, the approximate minimum energy E n may be the result of using the heat pump alone to maintain P n over the low-P maintenance interval and to transition to P target 2512 .
- E n+1 may be the result of using the heat pump alone to maintain P n+1 over the low-P maintenance interval and to transition to P target 2512 , but the heat pump may be used more often to maintain P n+1 than to maintain P n .
- E n may also represent approximate minimum power or cost.
- P low over the low-P maintenance interval can also be adjusted to substantially minimize power consumption or cost over the low-P maintenance interval and the transition to P target .
- FIG. 28 illustrates a control-flow diagram for intelligent-controller operation.
- an intelligent controller at a high level, continuously operates within the context of an event handler or event loop.
- the intelligent controller waits for a next control event. When the next control event occurs, then, in a series of conditional statements, the intelligent controller determines the type of event and invokes a corresponding control routine.
- the intelligent controller calls an immediate-control routine, in step 2806 , to carry out the intelligent controller's portion of a user interaction to receive one or more immediate-control inputs that direct the intelligent controller to issue control signals, adjust a control schedule, and/or carry out other activities specified by a user through an intermediate-control interface.
- the control event is a scheduled control event, such as when the current time corresponds to a time at which a control schedule specifies a control activity to be undertaken, as determined in step 2808 , a schedule-control routine is called, in step 2810 , to carry out the scheduled control event.
- the intelligent controller invokes a schedule-interaction routine, in step 2814 , to carry out the intelligent controller's portion of a schedule-input or schedule-change dialog with the user through a schedule interface.
- a schedule-interaction routine in step 2814 , to carry out the intelligent controller's portion of a schedule-input or schedule-change dialog with the user through a schedule interface.
- the control event is a sensor event
- a sensor routine is called by the intelligent controller in step 2818 to process the sensor event.
- Sensor events may include interrupts generated by a sensor as a result of a change in sensor output, expiration of timers set to awaken the intelligent controller to process sensor data of a next-scheduled sensor-data-processing interval, and other such types of events.
- a response-time-monitoring routine is called, in step 2822 , to handle the event. This type of event is discussed, in detail, below.
- a reset P low routine is called in step 2826 to reset P low over the low-P interval.
- FIGS. 29A-F illustrate, using control-flow diagrams, the logic employed by an intelligent controller to achieve desired P-response behavior following immediate-control inputs and scheduled setpoint changes.
- FIG. 29A shows a portion of the immediate-control routine called in step 2806 of FIG. 28 . This is an event handler for an immediate-control event.
- the routine adds an immediate-control setpoint to the control schedule.
- the routine calls a routine “initial system activation” in order to select an initial system or set of systems to activate in order to carry out the immediate-control input. This initial-system-activation routine is discussed above with reference to decision 2210 in FIG. 22 .
- step 2906 the immediate-control routine outputs appropriate control signals to the selected one or more systems and, as indicated by ellipses 2908 , may carry out various other steps related to handling immediate-control events.
- a similar call to the routine “initial system activation” is made in the routine “scheduled control” called in step 2910 of FIG. 28 to handle scheduled setpoint changes.
- FIG. 29B provides a control-flow diagram for the routine “initial system activation” called in step 2904 in FIG. 29A .
- the routine “initial system activation” determines the ⁇ P corresponding to an immediate-control input or scheduled setpoint change as well as the current P value, P initial , a target P value, P target , and the current time, or initial time.
- the initial-system-activation routine determines the current auto-component-activation level, in certain embodiments set through an auto-component-activation-level user interface, as discussed above with reference to FIG. 20 .
- the intelligent controller uses the determined auto-component-activation-level value and system-configuration information to determine the maximum response time for carrying out the immediate-control input or scheduled setpoint change which resulted in a call to the routine “initial system activation” from an immediate-control-input event handler or scheduled-setpoint-change event handler.
- the routine “select system combination” is called to select one or more systems for initial activation in order to carry out the immediate-control input or scheduled setpoint change.
- an indication of the selected one or more systems is stored along with a target time for achieving the P target value in memory.
- step 2920 the routine “initial system activation” schedules a next response-time-monitoring event in order to continuously, intermittently, or periodically monitor the P-response curve to ensure that the target P value, P target , is achieved within the maximum response time.
- FIG. 29C provides a control-flow diagram for the routine “select system combination” called in step 2916 of FIG. 29B .
- the routine “select system combination” sets numerous local variables, including setting the local variables energy 1 , time 1 , energy 2 , and time 2 to large values and setting the local variables combo 1 and combo 2 to null. Then, in the for-loop of steps 2925 - 2933 , the routine “select system combination” considers possible combinations of one or more systems in order to select a best combination for activation by the intelligent controller in order to achieve a specified ⁇ P P-value change as a result of an immediate-control input or scheduled setpoint change.
- step 2926 the routine “select system combination” uses the appropriate compatibility table for the current P-value range, discussed above with reference to FIG. 21C , to ensure that the currently considered system combination contains no incompatible systems. Also, in step 2926 , the routine “select system combination” uses the table discussed above in FIG. 21A to ensure that none of the systems in the currently considered system combination is outside of its P-value range.
- the routine “select system combination” uses the system specific information, such as the data 2136 , 2138 , and 2140 for system 2130 in FIG. 21D , for each system in the currently considered combination in order to compute a time needed to achieve P target and the amount of energy used to do so.
- the estimation of P target may additionally use other types of information, including weather forecasts, system operational status, and other such information obtained from remote information sources.
- Various different methods can be used to obtain the time and energy values.
- Simplistic methods may employ additive combination of the energies and times needed for individual systems to achieve P target , with weighting or subsequent averaging, in order to compute a total time and energy value.
- more complex types of calculations may be used in order to precisely estimate the response time and energy usage needed for the currently considered combination of systems to achieve P target .
- step 29B the local variable combo 1 is set to the currently considered combination of systems, energy 1 is set to the computed energy, and time 1 is set to the computed time.
- the computed time is not less than or equal to the max response time, but the computed time is less than the value currently stored in the local variable time 2 , as determined in step 2931 , then the local variable combo 2 is set to the currently considered combination of systems, energy 2 is set to the computed energy, and time 2 is set to the computed time in step 2932 .
- the for-loop of steps 2925 - 2933 of the various possible combinations of one or more systems is considered in order to find, when possible, a combination that will achieve P target in less than or equal to the maximum response time for the system configuration with the lowest possible energy usage.
- the maximum response time may be dynamically altered, from values stored in memory, such as in the tables discussed above with reference to FIG. 21B , according to various additional rules, heuristics, and considerations, such as the nature of the setpoint change being carried out.
- additional rules and characterizations may be used to dynamically alter various of the thresholds employed for monitoring and adjustment of the control strategies.
- FIG. 29D provides a control-flow diagram for the routine “response time monitoring,” called in step 2822 of FIG. 28 .
- This is an event handler for the response-time-monitoring event, and carries out the monitoring for the P-response as discussed above with reference to 2212 in FIG. 22 .
- the routine “response time monitoring” determines the current value for the environmental variable P.
- step 2942 When this value is less than P initial , as determined in step 2942 , and when the current time is greater than the initial time of the P-response curve plus some constant value, as determined in step 2944 , then the routine “reselect” is called in step 2946 in order to attempt to choose a better combination of one or more systems to activate in order to achieve P target as quickly as possible.
- the routine “reselect” corresponds to the subsequent decision discussed above with reference to 2218 in FIG. 22 . In this case, the change in P value is opposite, in direction, from the desired change.
- the constant value added to the current time ensures that a reselection of active systems is not undertaken during an initial unstable period following initial system activation.
- step 2946 when the current value of the environmental variable P is less than the projected value of P minus a constant, as determined in step 2948 , indicating that sufficient progress towards P target is not being made, the routine “reselect” is called in step 2946 .
- the routine “response time monitoring” returns without scheduling a next response-time-monitoring event, since P target the response-time monitoring is no longer needed. Otherwise, a next response-time-monitoring event is scheduled in step 2952 .
- FIG. 29E provides a control-flow diagram for the routine “reselect” called in step 2946 of FIG. 29D .
- This routine is similar to the routine “select system combination” shown in FIG. 29C .
- the combination of one or more systems that provides the most rapid achievement of P target is determined, in the for-loop of steps 2959 - 2964 .
- the selected combination is assigned the value of combo 1
- the targetTime is assigned the value “1.”
- the appropriate control signals are output to the selected one or more systems in step 2966 .
- step 2968 a next response-time-monitoring event is scheduled.
- the routine “initial system activation,” shown in FIG. 29B is called in order to decide which combination of one or more systems to activate in order to achieve the target P value, a step represented by decision 2210 in FIG. 22 . Then, by continuously rescheduling a next response-time-monitoring event, the routine “response time monitoring” is repeatedly called, during the response time, to monitor progress towards target P, as represented by the unfilled circles, such as unfilled circle 2212 in FIG. 22 .
- routine “reschedule,” shown in FIG. 29E is called in order to reselect one or more systems for activation in order to attempt to reach the target P value either within the maximum response time, if still possible, or as quickly as possible, if no longer possible within the maximum response time.
- a rescheduling operation is illustrated in FIG. 22 by filled disk 2218 .
- the monitoring may be carried out, using simple heuristics, by a low-power processor within the intelligent controller, in one implementation, while the system-activation decisions may be made by a higher-power processor that is awaken by the low-power processor when the need for active-system reselection is determined.
- the continuous, intermittent, or periodic monitoring by the intelligent controller, of the progress towards a target P value following an immediate-control input or scheduled setpoint change allows the intelligent controller to achieve a desired balance between energy efficiency and response time.
- other considerations may be factored into the selection of one or more subsystems for activation in order to achieve a specified value of an environmental parameter.
- more complex considerations may be made by an intelligent controller in order to achieve specified values for multiple parameters under various different constraints.
- the intelligent controller computes response-time values and stores the computed remaining-response-time values in at least one memory during response-monitoring.
- the intelligent controller also stores selections of one or more systems for activation in memory in order to subsequently generate control signals.
- FIG. 29F provides a control-flow diagram for the routine “reset P low ” called in step 2826 of FIG. 28 .
- This routine executes an incremental process for lowering the energy and cost as described above with reference to FIGS. 25-27 .
- step 2970 physical quantities measured by sensors, data provided by a smart meter, and operation of systems controlled by an intelligent controller are tracked, correlated, and recorded in internal memory of the intelligent controller.
- control flows to step 2974 , otherwise, control flows back to step 2970 .
- step 2974 data points corresponding to internal controlled environment rates ⁇ P/ ⁇ t with respect to values of P external to the controlled environment are used to determine a response curve that represents the rates at which the systems change the internal P value of the controlled environment with respect to the current value of P external to the controlled environment as described above with reference to FIG. 25B .
- iteration index n is initialized to “1,” and the energy E 0 consumed to maintain a value P low over the maintenance interval and transition to a higher value P target is determined from data sent from the smart meter to the intelligent controller.
- the maintenance interval may be a period of time in a control schedule where P low is constant, as described above with reference to FIG. 25 .
- control schedule can be a temperature control schedule and the maintenance interval in the control schedule is an extended period of time in which P low is a low temperature value in the schedule that corresponds to when the occupants of the controlled environment are not present or are sleeping.
- P value over the maintenance interval is incrementally increased by n ⁇ P to P n .
- the intelligent controller receives a current external controlled environmental value P 0 from the Internet and may also receive forcasted external controlled environmental P values for the duration of the maintenance interval.
- the response curve determined in step 2974 is used to calculate the rate ⁇ P 0 / ⁇ t for the value P 0 and calculates the rates for the forecasted external environmental values at different times in the maintenance interval.
- step 2984 the controller maintains the value P n of the internal controlled environment by activating systems in accordance with the calculated rates from step 2982 .
- step 2986 the routine “select system combination” described above with reference to FIG. 29C is called to consider possible combinations of one or more systems in order to select a best combination for activation by the intelligent controller in order to achieve a specified ⁇ P P-value change from P n to P target as a result of a scheduled setpoint change.
- the energy E n used to maintain P n and transition to P target is determined from the smart meter data and stored at the intelligent controller.
- step 2990 the energy E n is compared with the energy from the previous iteration, E n ⁇ 1 , in step 2990 to determine if the energy is decreasing as the value of P is increased from P n ⁇ 1 to P n .
- step 2990 when the difference E n ⁇ E n ⁇ 1 is less than zero, control flows to the step 2992 , otherwise control flows to step 2994 .
- step 2992 the iteration index n is incremented.
- step 2990 When the difference E n ⁇ E n ⁇ 1 is determined in step 2990 to be greater than or equal to zero, the approximate minimum energy has been exceeded, so in step 2994 , the approximate minimum energy is assumed to be approximately E n ⁇ 1 and the value P low for the maintenance interval is assigned the value P n ⁇ P and is returned.
- step 2996 the intelligent controller waits until the same maintenance interval in the control schedule is repeated, such as the next day, and the operations of steps 2978 - 2990 are repeated.
- minimization can be based on minimizing the total cost or a ratio of costs. For example, if the controlled entity is composed of two systems, the cost is given by
- n a ⁇ (time during which system 1 is operational)+ b ⁇ (time during which system 2 is operational)+( a+b ) ⁇ (time during which both systems are operational)
- n is the incremental index
- a is the cost of operating system 1 expressed in units of money per time
- b is the cost of operating system 2 expressed in units of money per time.
- the response-monitoring techniques discussed with reference to FIGS. 22-29F find particular application in intelligent thermostats, one class of intelligent controllers.
- Many residential and commercial controlled environments employ heat pumps for heating and cooling. Heat pumps are efficient at higher temperatures but lose their efficiency as the outside temperature falls. For this reason, many residential and commercial controlled environments include some type of auxiliary heating system, in addition to the heat pump, to allow for reasonable response times at temperatures below those for which heat pumps efficiently heat a controlled environment.
- the auxiliary heating systems tend to be less energy efficient than heat pumps, more costly to operate than heat pumps, or, commonly, both less energy efficient and more costly, often by a factor of between 3 and 5.
- an intelligent thermostat can attempt to dynamically strike an acceptable balance between activating only a heat pump, in order to conserve energy, and activating the auxiliary heating system instead of, or concurrently with, the heat pump in order to achieve acceptable response times.
- the user interface for an energy-saving device generally needs to provide, to users, an easy, enjoyable, and pleasant experience, or else the user may disregard the energy-saving features of the device, such as by avoiding interaction with advanced energy-saving features, de-activating the advanced features by, for example, setting a thermostat to a temporary manual-override mode on a permanent basis, or even exchanging the device for an older-technology device with a less complicated user interface.
- Certain of the above described intelligent-controller interfaces contribute to providing an intelligent, multi-sensing, network-connected, energy-saving device for adoption into the home in an easy, pleasant, seamless, and user-friendly manner.
- An intelligent-thermostat implementation incorporates many features that contribute to providing an intelligent, multi-sensing, network-connected, energy-saving device for adoption into the home in an easy, pleasant, seamless, and user-friendly manner.
- FIGS. 30A-38 illustrate an implementation of an intelligent thermostat. Following a discussion of these figures, provided below, application of the above-discussed intelligent-controller monitoring-and-adjustment techniques in an intelligent thermostat implementation is discussed, with reference to FIGS. 39-46 .
- FIG. 30A illustrates a perspective view of an intelligent thermostat.
- the intelligent thermostat 3000 has a sleek, elegant appearance.
- the intelligent thermostat 3000 comprises a circular main body 3008 with a diameter of about 8 cm and that has a visually pleasing outer finish, such as a satin nickel or chrome finish.
- a cap-like structure comprising a rotatable outer ring 3006 , a sensor ring 3004 , and a circular display monitor 3002 is separated from the main body 3008 by a small peripheral gap 3010 .
- the outer ring 3006 may have an outer finish identical to that of the main body 3008 , while the sensor ring 3004 and circular display monitor 3002 may have a common circular glass (or plastic) outer covering that is gently arced in an outward direction and that provides a sleek yet solid and durable-looking overall appearance.
- the sensor ring 3004 contains any of a wide variety of sensors, including infrared sensors, visible-light sensors, and acoustic sensors.
- the glass or plastic that covers the sensor ring 3004 may be smoked or mirrored such that the sensors themselves are not visible to the user.
- An air venting functionality may be provided, via the peripheral gap 3010 , which allows the ambient air to be sensed by the internal sensors without the need for gills or grill-like vents.
- FIGS. 30B-30C illustrate the intelligent thermostat being controlled by a user.
- the intelligent thermostat 3000 is controlled by two types of user input: (1) a rotation of the outer ring 3006 ( FIG. 30B ); and (2) an inward push on the outer ring 3006 ( FIG. 30C ) until an audible and/or tactile “click” occurs.
- the inward push may cause the outer ring 3006 to move forward, while in another implementation, the entire cap-like structure, including both the outer ring 3006 and the glass covering of the sensor ring 3004 and circular display monitor 3002 , move inwardly together when pushed.
- the sensor ring 3004 , the circular display monitor 3002 , and the common glass covering do not rotate with outer ring 3006 in one implementation.
- the intelligent thermostat 3000 can receive all necessary information from the user for basic setup and operation.
- the outer ring 3006 is mechanically mounted in a manner that provides a smooth yet viscous feel to the user, for further promoting an overall feeling of elegance while also reducing spurious or unwanted rotational inputs.
- the intelligent thermostat 3000 recognizes three fundamental user inputs: (1) ring rotate left, (2) ring rotate right, and (3) inward click. In other implementations, more complex fundamental user inputs can be recognized, such as double-click or triple-click inward presses and speed-sensitive or acceleration-sensitive rotational inputs.
- FIG. 31 illustrates an exploded perspective view of the intelligent thermostat and an HVAC-coupling wall dock.
- the HVAC-coupling wall dock 3106 has the functionality as a very simple, elemental, standalone thermostat when the intelligent thermostat 3000 is removed, the elemental thermostat including a standard temperature readout/setting dial 3108 and a simple COOL-OFF-HEAT switch 3109 . This can prove useful for a variety of situations, such as when the intelligent thermostat 3000 needs to be removed for service or repair for an extended period of time.
- the elemental thermostat components 3108 and 3109 are entirely mechanical in nature, so that no electrical power is needed to trip the control relays.
- simple electronic controls such as electrical up/down buttons and/or an LCD readout, are provided.
- a subset of the advanced functionalities of the intelligent thermostat 3000 can be provided, such as elemental network access to allow remote control that provides a brain-stem functionality while the intelligent thermostat is temporarily removed.
- FIGS. 32A-32B illustrate exploded front and rear perspective views of the intelligent thermostat.
- FIGS. 32A-32B show the intelligent thermostat 3202 with respect to its two main components: (1) the head unit 3204 ; and (2) the back plate 3206 .
- the z direction is outward from the wall
- the y direction is the head-to-toe direction relative to a walk-up user
- the x direction is the user's left-to-right direction.
- FIGS. 33A-33B illustrate exploded front and rear perspective views, respectively, of the head unit.
- Head unit 3104 includes a head unit frame 3210 , the outer ring 3211 , a head unit frontal assembly 3212 , a front lens 3213 , and a front grille 3214 .
- Electrical components on the head unit frontal assembly 3212 can connect to electrical components on the backplate 3206 via ribbon cables and/or other plug type electrical connectors.
- FIGS. 34A-34B illustrate exploded front and rear perspective views, respectively, of the head unit frontal assembly.
- Head unit frontal assembly 3212 comprises a head unit circuit board 3216 , a head unit front plate 3218 , and an LCD module 3242 .
- the components of the front side of head unit circuit board 3216 are hidden behind an RF shield in FIG. 34A .
- a rechargeable Lithium-Ion battery 3225 is located on the back of the head unit circuit board 3216 , which, in one implementation, has a nominal voltage of 3.7 volts and a nominal capacity of 560 mAh. To extend battery life, the battery 3225 is normally not charged beyond 450 mAh by the thermostat battery charging circuitry.
- the battery 3225 is rated to be capable of being charged to 4.2 volts, the intelligent thermostat battery-charging circuitry normally does not charge the intelligent thermostat beyond 3.95 volts.
- an optical finger navigation module 3224 that is configured and positioned to sense rotation of the outer ring 3211 .
- the module 3224 uses methods analogous to the operation of optical computer mice to sense the movement of a texturable surface on a facing periphery of the outer ring 3211 .
- the module 3224 is one of the very few sensors that are controlled by the relatively power-intensive head unit microprocessor rather than the relatively low-power backplate microprocessor.
- FIG. 34A Also shown in FIG. 34A is a Fresnel lens 3220 that operates in conjunction with a PIR motion sensor disposes thereunderneath.
- FIGS. 35A-35B illustrate exploded front and rear perspective views, respectively, of the backplate unit.
- Backplate unit 3206 comprises a backplate rear plate 3230 , a backplate circuit board 3232 , and a backplate cover 3239 .
- FIG. 35A shows the HVAC wire connectors 3234 that include integrated wire-insertion-sensing circuitry and two relatively large capacitors 3236 that are used by the power stealing circuitry that is mounted on the back side of the backplate circuit board 3232 .
- FIG. 36 shows a perspective view of a partially assembled head unit.
- placement of grille member 3214 over the Fresnel lens 3220 and an associated PIR motion sensor 324 conceals and protects these PIR sensing elements, while horizontal slots in the grille member 3214 allow the PIR motion sensing hardware, despite being concealed, to detect the lateral motion of occupants in a room or area.
- a temperature sensor 3240 uses a pair of thermal sensors to more accurately measure ambient temperature.
- a first or upper thermal sensor 3241 associated with temperature sensor 3240 gathers temperature data closer to the area outside or on the exterior of the thermostat while a second or lower thermal sensor 3242 collects temperature data more closely associated with the interior of the housing.
- each of the temperature sensors 3241 and 3242 comprises a Texas Instruments TMP112 digital temperature sensor chip
- the PIR motion sensor 3244 comprises PerkinElmer DigiPyro PYD 1998 dual-element pyrodetector.
- the temperature taken from the lower thermal sensor 3242 is considered in conjunction with the temperatures measured by the upper thermal sensor 3241 and when determining the effective ambient temperature.
- This configuration can be used to compensate for the effects of internal heat produced in the thermostat by the microprocessor(s) and/or other electronic components, obviating or minimizing temperature measurement errors that might otherwise be suffered.
- the accuracy of the ambient temperature measurement may be further enhanced by thermally coupling upper thermal sensor 3241 of temperature sensor 3240 to grille member 3214 as the upper thermal sensor 3241 better reflects the ambient temperature than lower thermal sensor 3242 .
- FIG. 37 illustrates the head unit circuit board.
- the head unit circuit board 3216 comprises a head unit microprocessor 3702 (such as a Texas Instruments AM3703 chip) and an associated oscillator 3704 , along with DDR SDRAM memory 3706 , and mass NAND storage 3708 .
- a Wi-Fi module 3710 such as a Murata Wireless Solutions LBWA19XSLZ module, which is based on the Texas Instruments WL1270 chipset supporting the 802.11 b/g/n WLAN standard, is provided in a separate compartment of RF shielding 3734 for Wi-Fi capability.
- Wi-Fi module 3710 is associated with supporting circuitry 3712 including an oscillator 3714 .
- a ZigBee module 3716 which can be, for example, a C2530F256 module from Texas Instruments, is provided, also in a separately shielded RF compartment, for ZigBee capability.
- the ZigBee module 3716 is associated with supporting circuitry 3718 , including an oscillator 3719 and a low-noise amplifier 3720 .
- Display backlight voltage conversion circuitry 3722 , piezoelectric driving circuitry 3724 , and power management circuitry 3726 are additionally provided.
- a proximity sensor and an ambient light sensor is provided on a flex circuit 3728 that attaches to the back of the head unit circuit board by a flex circuit connector 3730 .
- Battery-charging-supervision-disconnect circuitry 3732 and spring/RF antennas 3736 are additionally provided.
- a temperature sensor 3738 and a PIR motion sensor 3740 are additionally provided.
- FIG. 38 illustrates a rear view of the backplate circuit board.
- the backplate circuit board 3232 comprises a backplate processor/microcontroller 3802 , such as a Texas Instruments MSP430F System-on-Chip Microcontroller that includes an on-board memory 3803 .
- the backplate circuit board 3232 further comprises power-supply circuitry 3804 , which includes power-stealing circuitry, and switch circuitry 3806 for each HVAC respective HVAC function.
- the switch circuitry 3806 includes an isolation transformer 3808 and a back-to-back NFET package 3810 .
- FETs in the switching circuitry allows for active power stealing, i.e., taking power during the HVAC ON cycle, by briefly diverting power from the HVAC relay circuit to the reservoir capacitors for a very small interval, such as 100 micro-seconds. This time is small enough not to trip the HVAC relay into the OFF state but is sufficient to charge up the reservoir capacitors.
- the use of FETs allows for this fast switching time (100 micro-seconds), which would be difficult to achieve using relays (which stay on for tens of milliseconds). Also, such relays would readily degrade with fast switching, and they would also make audible noise. In contrast, the FETS operate with essentially no audible noise.
- a combined temperature/humidity sensor module 3812 such as a Sensirion SHT21 module, is additionally provided.
- the backplate microcontroller 3802 performs polling of the various sensors, sensing for mechanical wire insertion at installation, alerting the head unit regarding current vs. setpoint temperature conditions and actuating the switches accordingly, and other functions such as looking for appropriate signal on the inserted wire at installation.
- control strategies are chosen by an intelligent thermostat to achieve a change in temperature corresponding to a setpoint change within a maximum response time in as energy efficient, least costly, or, commonly, both energy efficient and least costly manner as possible.
- cost of operating a heat pump is a, where a is expressed in units of money per time or energy-usage per time
- b is expressed in units of money per time or energy-usage per time
- the ratio a/b is low, or, in other words, when it is substantially less costly to operate the heat pump than the AUX, then it may often be the case that the total time of heat pump and/or AUX operation for a cost effective control strategy is greater than the total time of heat pump and/or AUX operation for a less cost effective control strategy.
- a/b is 1 ⁇ 4
- a first control strategy that operates the heat pump alone for 120 minutes has a cost significantly less than a second control strategy that operates the heat pump alone for 60 minutes and the heat pump and AUX together for 30 minutes:
- control strategy that takes longer to carry out a setpoint change
- an intelligent controller can make a determination as to the relative cost efficiency of control strategies knowing only the ratios of costs of operation, even when the absolute costs of operation are unavailable.
- FIGS. 39A-B illustrate a problem domain related to intelligent-thermostat control of heat pumps and how the above discussed intelligent-controller monitoring and adjustment methods are applied to that problem domain in one intelligent-thermostat implementation.
- FIG. 39A shows a plot 3902 of a first setpoint change 3904 within a control schedule, using illustration conventions used previously in FIGS. 13A , 14 A-G, and 20 .
- a thermostat might immediately invoke the auxiliary heating unit (“AUX”), at decision point 3906 , generating response 3908 which carries out the setpoint change within a predetermined response time 3910 .
- AUX auxiliary heating unit
- the heat pump represents a first system, often referred to as the “compressor,” and the AUX represents a second system.
- the P highLockout for the AUX is often referred to as “AUX lockout.”
- the response time includes an initial period of AUX heating 3914 followed by spare time 3916 during which maintenance heating occurs. This spare time was available for carrying out the setpoint change, but is unused, resulting is use of costly AUX heating for the entire setpoint change.
- the period of time for costly operation 3918 is shown labeled b, using the cost notation discussed above.
- FIG. 39A also shows a plot 3920 of a second setpoint change within a control schedule.
- the AUX is not initially used, in the initial determination 3922 , and a shallow-sloped initial response results 3924 .
- the thermostat switches to AUX heating, resulting in a steep, final response 3926 .
- the response time includes an initial heat-pump interval 3928 , an AUX interval 3930 , and a spare-time interval 3932 .
- the spare time interval represents time that was available for slower, more energy-efficient heating.
- the costs 3924 and 3936 are illustrated as in plot 3902 .
- FIG. 39B shows a plot 3940 of a third setpoint change within a control schedule.
- the intelligent-controller monitoring and adjustment methods have been incorporated into an intelligent thermostat.
- the intelligent thermostat carefully considers information, such as that described with reference to FIGS. 21A-D , and initially determines 3942 that the heat pump can be initially employed alone, resulting in initial response 3944 .
- the intelligent thermostat determines 3946 that AUX heating is needed, and deploys the AUX, resulting in a final steep response 3928 .
- the AUX may not be needed at all. However, even when needed, the intelligent controller, armed with the information discussed above with reference to FIGS.
- the above-described intelligent-controller monitoring and adjustment methods can be used to make use of the available maximum response time in order to employ control strategies that take more time, but end up costing less than control strategies that fail to employ all of the maximum response time available.
- FIG. 40 illustrates example responses for setpoint changes obtained by an intelligent controller for different auto-component-configuration levels.
- either the heat pump is operated alone or the AUX is operated alone.
- both the heat pump and AUX may be operated together, and therefore the costs labeled b in the figures would be replaced by a cost labeled a+b.
- FIG. 40 shows three setpoint diagrams 4002 - 4004 for responses following a setpoint with auto-component-configuration levels max savings, balance, and max comfort, respectively.
- a temperature change from initial temperature 4006 to final temperature 4008 is specified by setpoint change 4010 .
- the intelligent controller initially determines 4012 to use only the heat pump, resulting in response 4014 , since, for the max-savings auto-component-configuration level, the maximum response time 4015 and pre-heating 4016 intervals are relatively long, as a result of which the heat pump can be used, without any AUX heating, to carry out the setpoint change. Whether or not AUX heating is needed depends on the outside temperature and other factors, but the maximum response time is sufficiently long to minimize AUX usage. Thus, in the max-savings mode, the heat-pump is used in both a pre-heating mode 4012 and the remaining response time 4018 , resulting in a heat-pump-only operational cost 4020 .
- the intelligent controller initially determines 4022 to use only the heat pump, resulting in response 4023 , but then decides 4024 that AUX is needed, and deploys AUX to produce a steeper response curve 4025 . This is necessary due to shorter max response 4026 and pre-heating 4027 intervals.
- the remaining response time is divided between heat-pump heating 4028 and AUX heating 4029 , with operational costs 4032 and 4034 . Again, under certain conditions, no AUX heating would be used, and, under other conditions, only AUX heating might be used.
- FIG. 40 are provided in the context of an outside temperature and other condition when the need for AUX heating depends on the maximum response time.
- the intelligent controller initially determines 4036 to use only AUX, resulting in response 4038 , because of the much shorter max-response-time 4040 and pre-heating 4042 intervals.
- the remaining response time is entirely AUX heating 4029 , with operational cost 4046 .
- the example setpoint diagram 4002 assumes that max-saving is achieved by only using the heat pump, and the setpoint diagram 4003 assumes that balance is achieved using AUX at the end of the response time.
- the intelligent controller may use smart meter data and cost information a and b to determine that it is actually less expensive to use a combination of heat pump and AUX to achieve max savings or that AUX may be used in pre-heating or at various times within the response time to achieve to reduce energy costs.
- FIG. 41 illustrates example responses for setpoint changes obtained by an intelligent controller based on cost.
- FIG. 41 illustrates two setpoint diagrams 4102 and 4104 for responses following a setpoint with auto-component-configuration levels max savings and balance, respectively.
- a temperature change from initial temperature 4106 to final temperature 4108 is specified by setpoint change 4110 .
- the intelligent controller initially uses the outdoor temperature, HPR curve, and costs to determine 4112 that use of AUX, resulting in response 4114 , followed by a determination 4116 that use the heat pump, resulting in response 4118 , actually achieves a larger savings than if the heat pump alone is used to achieve the setpoint change.
- the intelligent controller may determine that AUX can be used along with the heat-pump in both pre-heating 4121 and the remaining response time 4122 , when the cost of using AUX 4124 and the heat pump 4126 is lower than using the heat-pump-only for maximum response time 4128 and pre-heating.
- the intelligent controller determines 4130 to initially use only the heat pump, resulting in response 4132 , but then decides 4134 that AUX is needed to raise the temperature, resulting in steeper response 4136 , and then decides 4138 to deploy the heat pump to produce response 4140 . This is necessary due to shorter max response time 4142 and pre-heating 4144 intervals.
- the intelligent controller has determined to briefly use AUX near the beginning of the response time 4146 to lower operational costs 4148 - 4150 .
- FIGS. 42A-B illustrate a problem domain related to intelligent-thermostat economization of a control schedule.
- FIG. 42A shows a plot of a first setpoint change 4202 and a second setpoint change 4204 separated by a low temperature maintenance interval 4206 within a control schedule.
- the maintenance interval 4206 may correspond to a scheduled period of time in the control schedule when the occupants are away, such as when the occupants are at work during the day, or the maintenance period 4206 may correspond to a scheduled period at night when the occupants are sleeping.
- dashed line curve 4208 represents temperature drift which occurs after the setpoint 4202 when the temperature is allowed to decrease to the maintenance-interval temperature.
- the intelligent thermostat uses the heat pump 4210 to maintain the temperature T low for the maintenance interval 4206 and begins preheating at point 4212 using a combination of heat pump and AUX represented by response 4214 to reach the target temperature T target .
- the intelligent thermostat uses the smart meter data to calculate the cost, cost 0 , of maintaining T low over the maintenance interval 4206 and the response 4214 .
- FIGS. 42B-E represent the intelligent thermostat use of only the heat pump to incrementally increase the maintenance interval temperature of the control schedule to higher temperatures 4216 - 4219 , respectively, to the setpoint change 4204 within a maximum response time.
- the intelligent thermostat uses only heat pump heating 4220 and 4222 to reach the target temperature in the maximum response time.
- the intelligent thermostat records the cost associated with maintaining the maintenance interval temperatures and transitioning the temperature to the target temperature and compares the cost with previous the cost of the previous maintenance interval temperature. When the cost no longer decreases, as in FIG.
- the maintenance interval temperature is reset to the maintenance interval temperature of the previous iteration.
- the maintenance interval temperature is reset to T low +3 ⁇ . It should be noted that when the outside temperature is below a certain threshold, such as below heat pump lockout, the intelligent thermostat may end up using an initial heat-pump interval followed by an AUX-heating period to reach the target temperature.
- FIG. 43 illustrates steps for automated system matching that are carried out by an intelligent thermostat. It has been found particularly desirable to make thermostat setup and governance as user-friendly as possible by judiciously automating the selection of which among a variety of available energy-saving and comfort-promoting control algorithms are appropriate for the particular HVAC configuration of the home in which the thermostat is installed.
- the HVAC system features available for control by the thermostat are determined by virtue of at least one of (i) automated wire insertion detection, (ii) interactive user interview, (iii) automated inferences or deductions based on automated trial runs of the HVAC system at or near the time of thermostat installation, and (iv) automated inferences or deductions based on observed system behaviors or performance. Examples of such methods are described in one or more of the commonly assigned US20120130679A1, US20120203379A1, and US20130087629A1.
- a smart preconditioning feature for cooling mode operation is enabled.
- a smart preconditioning feature is described in the commonly assigned U.S. Pat. No. 8,630,742.
- the smart preconditioning method is configured to: constantly learn how fast the home heats up or cools down by monitoring the recent heating and cooling history of the home, optionally incorporating external environmental information such as outside temperatures, sun heating effects, etc.; predict how long the HVAC system will need to actively heat or cool in order to reach a particular scheduled setpoint; and begin preconditioning toward the particular scheduled setpoint at just the right time such that the scheduled setpoint temperature will be reached at the scheduled setpoint time.
- User comfort is promoted by virtue of not reaching the scheduled setpoint temperature too late, while energy savings is promoted by virtue of not reaching the scheduled setpoint temperature too early.
- a smart radiant control feature for heating mode operation is enabled.
- a smart radiant control feature is described in the commonly assigned U.S. Pat. No. 8,600,561.
- the smart radiant control feature is configured to monitor radiant heating cycles on an ongoing basis, compute an estimated thermal model of the home as heated by the radiant system, and predictively control the radiant system in a manner that takes into account the thermal model of the house, the time of day, and the previous heat cycle information.
- the smart radiant control feature is configured to achieve comfortable maintenance band temperatures while also minimizing frequent changes in HVAC on/off states and minimizing HVAC energy consumption. Among other advantages, uncomfortable and energy-wasting target temperature overshoots are avoided.
- auxiliary resistive electrical heating i.e., so-called auxiliary or AUX heat
- step 4310 When it is determined that the HVAC system includes a heat pump including auxiliary resistive electrical heating (i.e., so-called auxiliary or AUX heat) (step 4310 ), and when it is determined (step 4312 ) that the thermostat is network-connected (such that it can receive outside temperature information based on location data and an internet-based temperature information source) or otherwise has access to outside temperature information (such as by wired or wireless connection to an outside temperature sensor) and when it is further determined that the thermostat is in communication with a smart meter, then, at step 4316 , a smart heat pump control feature is enabled.
- auxiliary resistive electrical heating i.e., so-called auxiliary or AUX heat
- a smart preconditioning feature for heat mode is enabled, which can be a similar or identical opposing counterpart to the preconditioning feature for cooling mode discussed above with respect to step 4306 .
- the smart heat pump control feature of step 4316 is not enabled and instead the smart preconditioning feature of step 4314 is enabled.
- the smart heat pump control feature 4316 is configured to monitor heat pump heating cycles on an ongoing basis, tracking how fast the home is heated (for example, in units of degrees F. per hour) by the heat pump compressor alone in view of the associated outside air temperatures.
- the smart heat pump control feature 4316 judiciously activates the AUX heating function in a manner that achieves an appropriate balance between user comfort and AUX heating costs.
- the factors affecting the judicious invocation of AUX heat include (i) a predicted amount of time needed for the heat pump alone to achieve the current temperature setpoint, (ii) whether the current temperature setpoint resulted from an immediate user control input versus whether it was a scheduled temperature setpoint, (iii) the particular selected user preference within the “Max Comfort” to “Max Savings” range, and (iv) the costs of using the heat pump and AUX.
- the AUX function determination will be more favorable to invoking AUX heat as the compressor-alone time estimate increases, more favorable to invoking AUX heat for immediate user control inputs versus scheduled setpoints, and more favorable to invoking AUX heat for “Max Comfort” directed preferences than for “Max Savings” directed preferences.
- the smart heat pump control feature 4316 further provides for automated adjustment of a so-called AUX lockout temperature, which corresponds to an outside air temperature above which the AUX heat will never be turned on, based on the monitored heat pump heating cycle information and the user preference between “Max Comfort” and “Max Savings.”
- AUX lockout temperatures will be lower (leading to less AUX usage) for better-performing heat pumps, and will also be lower (leading to less AUX usage) as the user preference tends toward “Max Savings”.
- the smart heat pump control feature further provides for night time temperature economization in which an overnight setpoint temperature may be raised higher than a normally scheduled overnight setpoint if, based on the overnight temperature forecast, the AUX function would be required to reach a morning setpoint temperature from the normal overnight setpoint temperature when morning comes. In such situations, even though the overnight temperature inside the home is made higher it would otherwise be, the user actually saves energy and money by avoiding the use of the AUX function when morning comes.
- the determinations made at one or more of steps 4308 and 4310 can be based on automatically observed HVAC system performance information rather than specific system identification information. For example, it may be the case that a particular heating functionality of an HVAC system is not physically a radiant system, but nevertheless tends to exhibit signs of a high thermal mass combined with substantial control lag, making it similar in nature to a radiant heating system. For such cases, the smart radiant control feature 4318 may be enabled to improve performance.
- the HVAC system has a heat pump with AUX functionality, but it may have a two-stage heating functionality in which the first stage (which type was likely chosen as a first stage because it was more cost-effective) tends to be very slow or “fall behind” at lower outside temperatures, and in which the second stage (which type was likely chosen as a second stage because it was less cost-effective) tends to be very time-effective in heating up the home, thus making the system act very much like a heat pump system with AUX functionality.
- the smart heat pump control feature 3616 may be enabled to improve performance.
- FIGS. 44A-C illustrate an example auto-component-configuration-level-selection interface for an intelligent thermostat.
- the heat pump balance feature is not check marked in a feature-selection display.
- a user can invoke selection, via input to the intelligent-thermostat input interface, resulting in display of a heat-pump-balance-selection, or auto-component-configuration-level-selection interface, shown in FIG. 44B .
- Selection of an auto-component-configuration-level then returns to the feature-selection display, with the heat-pump balance feature now checked.
- FIG. 45 shows a settings display for an intelligent thermostat. Indications are provided, in the display, for whether or not various features are activated.
- FIGS. 46A-C illustrate additional types of information that an intelligent thermostat can obtain, and provide to users or employ during control operations.
- FIG. 46A shows an actual plot 4600 of heat-pump data points 4602 and a best-fit ⁇ T/ ⁇ t versus T curve 4604 for a heat pump, referred to as a heat-pump-rate curve (“HPR”). The data points are collected, as discussed above, over time by an intelligent thermostat during heat-pump operation when AUX is not operational.
- HPR heat-pump-rate curve
- 46B shows a plot 4604 of heat-pump data points and a best-fit HPR 4606 , collected by an intelligent thermostat during heat-pump operation when AUX is not operational, for a heat pump that exhibits outlier data points 4608 near the freezing point that indicate inefficient heat-pump operation due to accumulation of precipitation, such as frost, on internal heat-pump components.
- Certain heat pumps include logic for detection of the accumulation of precipitation, and take remedial actions to remove the precipitation. For example, the heat-pump logic may reverse heat-pump operation, temporarily, extracting heat from a residence in order to heat the heat-pump components with accumulated precipitation and remove the precipitation, followed by again reversing operation to continue heating the residence.
- AUX heating may be invoked by heat-pump logic in order to prevent cooling the residence.
- the detection and amelioration of the accumulation of precipitation is carried out internally, within the heat pump.
- an intelligent thermostat continuously, intermittently, or periodically monitors heat-pump operation and collects ⁇ T/ ⁇ t versus T data
- an intelligent controller is able to analyze the collected ⁇ T/ ⁇ t versus T data and detect outlier data points 4608 near the freezing point, and thus determine the precipitation accumulation characteristics of the heat pump.
- the intelligent thermostat can often consider many more factors than the internal heat-pump precipitation-accumulation logic, and therefore far better characterize the precipitation accumulation characteristics of the heat pump.
- the intelligent controller can combine this information with many additional types of information to create sophisticated control strategies for ameliorating precipitation accumulation.
- FIG. 46C illustrates another plot 4610 of a set of HPR heat-pump data points and a best-fit ⁇ T/ ⁇ t versus T curve 4612 for a heat pump.
- the critical temperature 4614 discussed above with reference to FIG. 16 , at which the AT/At for the heat pump becomes negative, is nearly 50° F. This critical temperature is much higher than would be expected for a properly functioning heat pump, and is indicative of a poorly operating or essentially inoperable heat pump. Often, residents fail to notice inoperable or poorly operating heat pumps, because the AUX is generally routinely activated when the heat pump fails to heat residential environments.
- An intelligent thermostat that continuously, intermittently, or periodically monitors heat-pump operation and collects ⁇ T/ ⁇ t versus T data can easily detect such problems and report them to users, utility companies, and other entities so that the heat pump can be repaired and the residence or other controlled environment can be then heated efficiently.
- FIG. 47 provides an example configuration of the response-time monitoring methods used in one implementation of an intelligent thermostat. This figure is provided simply as an example of certain parameters used in one example implementation, but does not apply generally to all implementations.
- each column 4702 - 4705 represents the control logic that transpires for each of four different auto-component-activation levels, including max savings, balanced, max conform, and off.
- Many of the parameters are derived from a ⁇ P/ ⁇ t versus P data, described above with reference to FIG. 16 , for the heat pump controlled by the intelligent controller.
- the HPR curve is, for heat pumps, a definitive system characteristic that allows for determination of the various parameters for the response-time-monitoring techniques used by one type of intelligent thermostat.
- FIG. 47 provides an example configuration of the response-time monitoring methods used in one implementation of an intelligent thermostat. This figure is provided simply as an example of certain parameters used in one example implementation, but does not apply generally to all implementations.
- each column 4702 - 4705 represents the control logic that transpires for each of four
- row 4710 discusses how the auxiliary-heating-system P highLockout is determined for the various auto-component-activation levels. As indicated in the figure, there is a default P highLockout that is overridden when an HPR is available, with the P highLockout set to a temperature at which the ⁇ T/ ⁇ t is above a threshold value, such as 1° F./hour. Different thresholds are used for different auto-component-configuration levels. Row 4712 discusses whether night-time temperature economizing is deployed for each of the auto-component-activation levels.
- Night-time temperature economization refers to incrementally adjusting a control schedule for nighttime hours so that, in the morning, at a first scheduled setpoint change, the estimated response time will not be of sufficient length to result in use of the auxiliary heating system.
- This feature is deployed only when access to weather forecasts or other types of weather information are available, and thus is turned off when, for example, WiFi is unavailable to an intelligent thermostat which relies on WiFi to access such information.
- use of the HPR and response-monitoring techniques discussed above with reference to FIGS. 20-22F , can inform the intelligent controller of potential control-schedule adjustments that can result in more economical overall environmental control.
- Rows 4714 and 4716 describe a heuristic according to which the auxiliary heating unit is activated when estimated response times exceed threshold values.
- Row 4714 discusses activation of the auxiliary heating unit for response times following immediate-control inputs and row 4716 shows heuristics for response times following scheduled setpoint changes.
- the thresholds for activating AUX are lower for immediate-control inputs than for scheduled setpoint changes, since users generally expect faster response for manually input setpoint changes.
- t2T time-to-temperature
- the AUX is activated, while, for scheduled setpoint changes, the threshold is twice as long, or 120 minutes.
- Row 4718 indicates whether a pre-heating feature is deployed by various auto-component-activation levels. Pre-heating is activation of the heat pump prior to a scheduled setpoint change.
- pre-heating When pre-heating is deployed, it may be the case that a more efficient heat pump can be used for larger ⁇ t changes because the total response time distributed over an initial pre-heating period prior to the scheduled setpoint change as well as a period of time following the scheduled setpoint change.
- the scheduled setpoint change indicates a point in time that a user desires the temperature to rise
- pre-heating allows for use of the heat pump, with a shallower P-response curve, rather than employing auxiliary heating at the time corresponding to the scheduled setpoint change.
- response-time monitoring and system-rescheduling techniques employed by intelligent controllers may be implemented in many different ways by changing any of many different design and implementation parameters, including programming language, hardware platforms, logic types, control structures, data structures, modular organization, operating systems, and other such parameters.
- an intelligent controller may use information about the environment, information about system performance and system health, information about the controlled environment, and many additional types of information. For example, were the intelligent controller to know that the windows of a controlled environment are open and that the heating efficiency of the systems used to the controlled environment are therefore necessarily significantly less, under these circumstances, the intelligent controller may select a different system or combination of systems to activate in order to achieve a desired temperature change.
Abstract
The current application is directed to intelligent controllers that continuously, periodically, or intermittently monitor progress towards one or more control goals under one or more constraints in order to achieve control that satisfies potentially conflicting goals. An intelligent controller may alter aspects of control, dynamically, while the control is being carried out, in order to ensure that goals are obtained and a balance is achieved between potentially conflicting goals. The intelligent controller uses various types of information to determine an initial control strategy as well as to dynamically adjust the control strategy as the control is being carried out.
Description
- This application claims the benefit of U.S. Provisional Application No. 61/917,527, filed Dec. 18, 2013, the entirety of which is incorporated by reference herein.
- The current patent application is directed to intelligent controllers and, in particular, to intelligent controllers, and methods incorporated within intelligent controller, that monitors the response of a controlled environment in order to effectively control one or more systems that control the environment.
- Control systems and control theory are well-developed fields of research and development that have had a profound impact on the design and development of a large number of systems and technologies, from airplanes, spacecraft, and other vehicle and transportation systems to computer systems, industrial manufacturing and operations facilities, machine tools, process machinery, and consumer devices. Control theory encompasses a large body of practical, system-control-design principles, but is also an important branch of theoretical and applied mathematics. Various different types of controllers are commonly employed in many different application domains, from simple closed-loop feedback controllers to complex, adaptive, state-space and differential-equations-based processor-controlled control systems.
- One class of intelligent controllers includes intelligent controllers that control systems that affect one or more environmental parameters within an environment. Often, an intelligent controller is tasked with controlling the systems under various constraints in order to meet two or more control goals, requiring careful balancing and tradeoffs in the degrees to which potentially conflicting goals are obtained. Designers, manufactures, and users of intelligent controllers continue to seek control methods and systems that effectively control systems when two or more control goals may conflict.
- The current application is directed to intelligent controllers that continuously, periodically, or intermittently monitor progress towards one or more control goals under one or more constraints in order to achieve control that satisfies potentially conflicting goals. An intelligent controller may alter aspects of control, dynamically, while the control is being carried out, in order to ensure that goals are obtained and a balance is achieved between potentially conflicting goals. The intelligent controller uses various types of information to determine an initial control strategy as well as to dynamically adjust the control strategy as the control is being carried out.
-
FIG. 1 illustrates a smart-home environment. -
FIG. 2 illustrates integration of smart-home devices with remote devices and systems. -
FIG. 3 illustrates information processing within the environment of intercommunicating entities illustrated inFIG. 2 . -
FIG. 4 illustrates a general class of intelligent controllers to which the current application is directed. -
FIG. 5 illustrates additional internal features of an intelligent controller. -
FIG. 6 illustrates a generalized computer architecture that represents an example of the type of computing machinery that may be included in an intelligent controller, server computer, and other processor-based intelligent devices and systems. -
FIG. 7 illustrates features and characteristics of an intelligent controller of the general class of intelligent controllers to which the current application is directed. -
FIG. 8 illustrates a typical control environment within which an intelligent controller operates. -
FIG. 9 illustrates the general characteristics of sensor output. -
FIG. 10 illustrates examples of different communication media smart meters may use to communicate with a utility company. -
FIG. 11 illustrates examples of various ways in which an intelligent controller may exchange data. -
FIGS. 12A-D illustrate information processed and generated by an intelligent controller during control operations. -
FIGS. 13A-C show three different types of control schedules. -
FIGS. 14A-G show representations of immediate-control inputs that may be received and executed by an intelligent controller, and then recorded and overlaid onto control schedules, such as those discussed above with reference toFIGS. 11A-C , as part of automated control-schedule learning. -
FIGS. 15A-D illustrate the general context in which intelligent controllers, to which the current application is directed, operate. -
FIGS. 16A-E illustrate construction of one or more of a first type of P-response model based on observed P-response data. -
FIGS. 17A-B illustrate one or more types of local models and/or modeling techniques. -
FIGS. 18-19 illustrate, using plots similar to the plots shown inFIGS. 14B-C and 15A-B, two additional types of information that may be obtained by monitoring P versus t response behaviors and various types of additional information with respect to the systems controlled by the intelligent controller. -
FIG. 20 illustrates an auto-component-activation-level user interface provided to users by one implementation of an intelligent controller. -
FIGS. 21A-D illustrate additional types of information that may be electronically stored within an intelligent controller with respect to P-responses and response times. -
FIG. 22 illustrates one implementation of a technique for efficient control, by an intelligent controller, of one or more systems in order to change the value of an environmental variable P according to a control schedule or immediate-control input. -
FIG. 23 illustrates a power versus time plot for two systems controlled by an intelligent controller. -
FIG. 24 illustrates a cost versus time plot for two systems controlled by an intelligent controller. -
FIG. 25A illustrates a plot of a portion of a control schedule adjusted by an intelligent controller to lower energy consumption and cost of using two systems. -
FIG. 25B illustrates a plot of ΔP/Δt versus P curve for systems controlled directly by an intelligent controller. -
FIG. 26 illustrates a plot of P values over a maintenance interval versus an iteration index. -
FIG. 27 illustrates a plot of total energy E consumed to operate two systems versus an same iteration index. -
FIG. 28 illustrates a control-flow diagram for intelligent-controller operation. -
FIGS. 29A-F illustrate, using control-flow diagrams, the logic employed by an intelligent controller to achieve desired P-response behavior following immediate-control inputs and scheduled setpoint changes. -
FIG. 30A illustrates a perspective view of an intelligent thermostat. -
FIGS. 30B-C illustrate the intelligent thermostat being controlled by a user. -
FIG. 31 illustrates an exploded perspective view of the intelligent thermostat and an HVAC-coupling wall dock. -
FIGS. 32A-B illustrate exploded front and rear perspective views of the intelligent thermostat. -
FIGS. 33A-B illustrate exploded front and rear perspective views, respectively, of the head unit. -
FIGS. 34A-B illustrate exploded front and rear perspective views, respectively, of the head unit frontal assembly. -
FIGS. 35A-B illustrate exploded front and rear perspective views, respectively, of the backplate unit. -
FIG. 36 shows a perspective view of a partially assembled head unit. -
FIG. 37 illustrates the head unit circuit board. -
FIG. 38 illustrates a rear view of the backplate circuit board. -
FIGS. 39A-B illustrate a problem domain related to intelligent-thermostat control of heat pumps and how the above discussed intelligent-controller monitoring and adjustment methods are applied to that problem domain in one intelligent-thermostat implementation. -
FIG. 40 illustrates example responses for setpoint changes obtained by an intelligent controller for different auto-component-configuration levels. -
FIG. 41 illustrates two setpoint diagrams for responses following a setpoint with auto-component-configuration levels max savings and balance, respectively. -
FIGS. 42A-E illustrate a problem domain related to intelligent-thermostat economization of a control schedule. -
FIG. 43 illustrates steps for automated system matching that are carried out by an intelligent thermostat. -
FIGS. 44A-C illustrate an example auto-component-configuration-level-selection interface for an intelligent thermostat. -
FIG. 45 shows a settings display for an intelligent thermostat. Indications are provided, in the display, for whether or not various features are activated. -
FIGS. 46A-C illustrate additional types of information that an intelligent thermostat can obtain, and provide to users or employ during control operations. -
FIG. 47 provides an example configuration of the response-time monitoring methods used in one implementation of an intelligent thermostat. - The current application is directed to intelligent controllers that continuously, periodically, or intermittently monitor progress towards one or more control goals under one or more constraints in order to achieve control that satisfies potentially conflicting goals. An intelligent controller may alter aspects of control, dynamically, while the control is being carried out, in order to ensure that goals are obtained and a balance is achieved between potentially conflicting goals.
- The detailed description includes three subsections: (1) an overview of the smart-home environment; (2) methods and implementations for monitoring progress and dynamically altering control by an intelligent controller; and (3) intelligent thermostats that incorporate methods and implementations methods and implementations for monitoring progress and dynamically altering control by an intelligent controller. The first subsection provides a description of one area of technology that offers many opportunities for application and incorporation of methods for monitoring and dynamically adjusting control. The second subsection provides a detailed description of a general class of intelligent controllers that monitor progress towards control goals and dynamically adjust control based on monitoring results, information collected by one or more smart meters, and costs. A third subsection provides a specific example of intelligent thermostats that incorporate methods for monitoring and dynamically adjusting control.
-
FIG. 1 illustrates a smart-home environment. The smart-home environment 100 includes a number of intelligent, multi-sensing, network-connected devices. These smart-home devices intercommunicate and are integrated together within the smart-home environment. The smart-home devices may also communicate with cloud-based smart-home control and/or data-processing systems in order to distribute control functionality, to access higher-capacity and more reliable computational facilities, and to integrate a particular smart home into a larger, multi-home or geographical smart-home-device-based aggregation. - The smart-home devices may include one more
intelligent thermostats 102, one or more intelligent hazard-detection units 104, one or more intelligent entryway-interface devices 106, smart switches, including smart wall-like switches 108, smart utilities interfaces and other services interfaces, such as smart wall-plug interfaces 110, and a wide variety of intelligent, multi-sensing, network-connectedappliances 112, including refrigerators, televisions, washers, dryers, lights, audio systems, intercom systems, mechanical actuators, wall air conditioners, pool-heating units, irrigation systems, and many other types of intelligent appliances and systems. - In general, smart-home devices include one or more different types of sensors, one or more controllers and/or actuators, and one or more communications interfaces that connect the smart-home devices to other smart-home devices, routers, bridges, and hubs within a local smart-home environment, various different types of local computer systems, and to the Internet, through which a smart-home device may communicate with cloud-computing servers and other remote computing systems. Data communications are generally carried out using any of a large variety of different types of communications media and protocols, including wireless protocols, such as Wi-Fi, ZigBee, 6LoWPAN, various types of wired protocols, including CAT6 Ethernet, HomePlug, and other such wired protocols, and various other types of communications protocols and technologies. Smart-home devices may themselves operate as intermediate communications devices, such as repeaters, for other smart-home devices. The smart-home environment may additionally include a variety of different types of legacy appliances and
devices -
FIG. 2 illustrates integration of smart-home devices with remote devices and systems. Smart-home devices within a smart-home environment 200 can communicate through theInternet 202 via 3G/4G wireless communications 204, through ahubbed network 206, or by other communications interfaces and protocols. Many different types of smart-home-related data, and data derived from smart-home data 208, can be stored in, and retrieved from, aremote system 210, including a cloud-based remote system. The remote system may include various types of statistics, inference, andindexing engines 212 for data processing and derivation of additional information and rules related to the smart-home environment. The stored data can be exposed, via one or more communications media and protocols, in part or in whole, to various remote systems and organizations, includingcharities 214,governments 216,academic institutions 218,businesses 220, andutilities 222. In general, the remote data-processing system 210 is managed or operated by an organization or vendor related to smart-home devices or contracted for remote data-processing and other services by a homeowner, landlord, dweller, or other smart-home-associated user. The data may also be further processed by additional commercial-entity data-processingsystems 213 on behalf of the smart-homeowner or manager and/or the commercial entity or vendor which operates the remote data-processing system 210. Thus, external entities may collect, process, and expose information collected by smart-home devices within a smart-home environment, may process the information to produce various types of derived results which may be communicated to, and shared with, other remote entities, and may participate in monitoring and control of smart-home devices within the smart-home environment as well as monitoring and control of the smart-home environment. Of course, in many cases, export of information from within the smart-home environment to remote entities may be strictly controlled and constrained, using encryption, access rights, authentication, and other well-known techniques, to ensure that information deemed confidential by the smart-home manager and/or by the remote data-processing system is not intentionally or unintentionally made available to additional external computing facilities, entities, organizations, and individuals. -
FIG. 3 illustrates information processing within the environment of intercommunicating entities illustrated inFIG. 2 . Thevarious processing engines 212 within the external data-processing system 210 can process data with respect to a variety of different goals, including provision of managedservices 302, various types of advertizing andcommunications 304, social-networking exchanges and other electronicsocial communications 306, and for various types of monitoring and rule-generation activities 308. Thevarious processing engines 212 communicate directly or indirectly with smart-home devices 310-313, each of which may have data-consumer (“DC”), data-source (“DS”), services-consumer (“SC”), and services-source (“SS”) characteristics. In addition, the processing engines may access various other types ofexternal information 316, including information obtained through the Internet, various remote information sources, and even remote sensor, audio, and video feeds and sources. -
FIG. 4 illustrates a general class of intelligent controllers to which the current application is directed. Theintelligent controller 402 controls a device, machine, system, ororganization 404 via any of various different types of output control signals and receives information about the controlled entity and an environment from sensor output received by the intelligent controller from sensors embedded within the controlledentity 404, theintelligent controller 402, or in the environment. InFIG. 4 , the intelligent controller is shown connected to the controlledentity 404 via a wire or fiber-basedcommunications medium 406. However, the intelligent controller may be interconnected with the controlled entity by alternative types of communications media and communications protocols, including wireless communications. In many cases, the intelligent controller and controlled entity may be implemented and packaged together as a single system that includes both the intelligent controller and a machine, device, system, or organization controlled by the intelligent controller. The controlled entity may include multiple devices, machines, system, or organizations and the intelligent controller may itself be distributed among multiple components and discrete devices and systems. In addition to outputting control signals to controlled entities and receiving sensor input, the intelligent controller also provides a user interface 410-413 through which a human user can input immediate-control inputs to the intelligent controller as well as create and modify the various types of control schedules, and may also provide the immediate-control and schedule interfaces to remote entities, including a user-operated processing device or a remote automated control system. InFIG. 4 , the intelligent controller provides a graphical-display component 410 that displays acontrol schedule 416 and includes a number of input components 411-413 that provide a user interface for input of immediate-control directives to the intelligent controller for controlling the controlled entity or entities and input of scheduling-interface commands that control display of one or more control schedules, creation of control schedules, and modification of control schedules. - To summarize, the general class of intelligent controllers to which the current is directed receive sensor input, output control signals to one or more controlled entities, and provide a user interface that allows users to input immediate-control command inputs to the intelligent controller for translation by the intelligent controller into output control signals as well as to create and modify one or more control schedules that specify desired controlled-entity operational behavior over one or more time periods. The user interface may be included within the intelligent controller as input and display devices, may be provided through remote devices, including mobile phones, or may be provided both through controller-resident components as well as through remote devices. These basic functionalities and features of the general class of intelligent controllers provide a basis upon which automated control-schedule learning, to which the current application is directed, can be implemented.
-
FIG. 5 illustrates additional internal features of an intelligent controller. An intelligent controller is generally implemented using one ormore processors 502, electronic memory 504-507, and various types of microcontrollers 510-512, including amicrocontroller 512 andtransceiver 514 that together implement a communications port that allows the intelligent controller to exchange data and commands with one or more entities controlled by the intelligent controller, with other intelligent controllers, and with various remote computing facilities, including cloud-computing facilities through cloud-computing servers. Often, an intelligent controller includes multiple different communications ports and interfaces for communicating by various different protocols through different types of communications media. It is common for intelligent controllers, for example, to use wireless communications to communicate with other wireless-enabled intelligent controllers within an environment and with mobile-communications carriers as well as any of various wired communications protocols and media. In certain cases, an intelligent controller may use only a single type of communications protocol, particularly when packaged together with the controlled entities as a single system. Electronic memories within an intelligent controller may include both volatile and non-volatile memories, with low-latency, high-speed volatile memories facilitating execution of control routines by the one or more processors and slower, non-volatile memories storing control routines and data that need to survive power-on/power-off cycles. Certain types of intelligent controllers may additionally include mass-storage devices. -
FIG. 6 illustrates a generalized computer architecture that represents an example of the type of computing machinery that may be included in an intelligent controller, server computer, and other processor-based intelligent devices and systems. The computing machinery includes one or multiple central processing units (“CPUs”) 602-605, one or moreelectronic memories 608 interconnected with the CPUs by a CPU/memory-subsystem bus 610 or multiple busses, afirst bridge 612 that interconnects the CPU/memory-subsystem bus 610 withadditional busses graphics processor 618, and with one or moreadditional bridges 620, which are interconnected with high-speed serial links or with multiple controllers 622-627, such ascontroller 627, that provide access to various different types of mass-storage devices 628, electronic displays, input devices, and other such components, subcomponents, and computational resources. -
FIG. 7 illustrates features and characteristics of an intelligent controller of the general class of intelligent controllers to which the current application is directed. An intelligent controller includescontroller logic 702 generally implemented as electronic circuitry and processor-based computational components controlled by computer instructions stored in physical data-storage components, including various types of electronic memory and/or mass-storage devices. It should be noted, at the onset, that computer instructions stored in physical data-storage devices and executed within processors comprise the control components of a wide variety of modern devices, machines, and systems, and are as tangible, physical, and real as any other component of a device, machine, or system. Occasionally, statements are encountered that suggest that computer-instruction-implemented control logic is “merely software” or something abstract and less tangible than physical machine components. Those familiar with modern science and technology understand that this is not the case. Computer instructions executed by processors must be physical entities stored in physical devices. Otherwise, the processors would not be able to access and execute the instructions. The term “software” can be applied to a symbolic representation of a program or routine, such as a printout or displayed list of programming-language statements, but such symbolic representations of computer programs are not executed by processors. Instead, processors fetch and execute computer instructions stored in physical states within physical data-storage devices. Similarly, computer-readable media are physical data-storage media, such as disks, memories, and mass-storage devices that store data in a tangible, physical form that can be subsequently retrieved from the physical data-storage media. - The controller logic accesses and uses a variety of different types of stored information and inputs in order to generate output control signals 704 that control the operational behavior of one or more controlled entities. The information used by the controller logic may include one or more stored
control schedules 706, received output from one or more sensors 708-710, immediate control inputs received through an immediate-control interface 712, and data, commands, and other information received from remote data-processing systems, including cloud-based data-processingsystems 713. In addition to generatingcontrol output 704, the controller logic provides aninterface 714 that allows users to create and modify control schedules and may also output data and information to remote entities, other intelligent controllers, and to users through an information-output interface. -
FIG. 8 illustrates a typical control environment within which an intelligent controller operates. As discussed above, anintelligent controller 802 receives control inputs from users orother entities 804 and uses the control inputs, along with stored control schedules and other information, to generate output control signals 805 that control operation of one or morecontrolled entities 808. Operation of the controlled entities may alter an environment within which sensors 810-812 are embedded. The sensors return sensor output, or feedback, to theintelligent controller 802. Based on this feedback, the intelligent controller modifies the output control signals in order to achieve a specified goal or goals for controlled-system operation. In essence, an intelligent controller modifies the output control signals according to two different feedback loops. The first, most direct feedback loop includes output from sensors that the controller can use to determine subsequent output control signals or control-output modification in order to achieve the desired goal for controlled-system operation. In many cases, a second feedback loop involves environmental orother feedback 816 to users which, in turn, elicits subsequent user control and scheduling inputs to theintelligent controller 802. In other words, users can either be viewed as another type of sensor that outputs immediate-control directives and control-schedule changes, rather than raw sensor output, or can be viewed as a component of a higher-level feedback loop. - There are many different types of sensors and sensor output. In general, sensor output is directly or indirectly related to some type of parameter, machine state, organization state, computational state, or physical environmental parameter.
FIG. 9 illustrates the general characteristics of sensor output. As shown in afirst plot 902 inFIG. 9 , a sensor may output a signal, represented bycurve 904, over time, with the signal directly or indirectly related to a parameter P, plotted with respect to thevertical axis 906. The sensor may output a signal continuously or at intervals, with the time of output plotted with respect to thehorizontal axis 908. In certain cases, sensor output may be related to two or more parameters. For example, inplot 910, a sensor outputs values directly or indirectly related to two different parameters P1 and P2, plotted with respect toaxes vertical axis 916. In the following discussion, for simplicity of illustration and discussion, it is assumed that sensors produce output directly or indirectly related to a single parameter, as inplot 902 inFIG. 9 . In the following discussion, the sensor output is assumed to be a set of parameter values for a parameter P. The parameter may be related to environmental conditions, such as temperature, ambient light level, sound level, and other such characteristics. However, the parameter may also be the position or positions of machine components, the data states of memory-storage address in data-storage devices, the current drawn from a power supply, the flow rate of a gas or fluid, the pressure of a gas or fluid, and many other types of parameters that comprise useful information for control purposes. - An intelligent controller may also be in communication with a smart meter that records smart-meter data corresponding to consumption of utilities or services provided by a utility company in intervals of time and communicates smart-meter data back to the utility company for monitoring and billing purposes. In the following description the terms “utility” and “service” are used inter-changeably and both terms are used to refer to natural gas, electricity, or water or any other service provided by a utility company. Smart meters enable two-way communication between the smart meter and the utility company or public utility. Examples of smart meters include smart electricity meters that measure electricity consumption, smart gas meters that measure natural gas consumption, and smart water meters that measure water consumption. Unlike home energy monitors, smart meters can gather smart-meter data for remote reporting and are capable of two-way communications between the smart meter and the utility company. Smart meters are also different from other types of meters, such as interval or time-of-use meters, because smart meters collect real-time or near real-time sensor data, provide service outage notifications, and provide service quality monitoring. Because smart meters provide a way of measuring utility consumption in intervals of time, utilities are able to introduce different pricing based on the time of day and season. Smart meters also provide a number of potential benefits to households by enabling smart-meter users to estimate bills based on consumption and may also help users better manage their energy use by providing up-to-date information on the cost of gas, water, and electricity consumption in the currency of the customer's country.
- Smart meters may be equipped with any one of a number of different media for two-way communication with a utility company. Each smart meter is able to reliably and securely communicate smart-meter data back to a utility company and receive operating instructions from the utility company.
FIG. 10 illustrates examples of different communication media smart meters may use to communicate with autility company 1000. Each of the smart homes 1001-1005 includes one of six smart meters 1007-1011, which records smart-meter data associated with electricity consumption, water consumption, or natural gas consumption. For example, the smart meters 1007-1011 can be smart electricity meters that record the amount of electricity the smart homes 1001-1005 consume per interval of time. In the example ofFIG. 10 , each of the smart meters 1007-1011 uses a different communication medium to transmit smart-meter data to theutility company 1000 and receive instructions from theutility company 1000.Smart meter 1007 is connected to theInternet 1014 via ahubbed network 1016, such as Wi-Fi, Ethernet, or any other Internet related network connection. Thesmart meter 1007 communicates with theutility company 1000 via theInternet 1014 and thehub 1016 located in thesmart home 1001.Smart meter 1008 communicates with theutility company 1000 usingcommunication satellites 1018.Smart meter 1009 communicates with theutility company 1000 usingmobile communications technologies 1020, such as 3G/4G wireless communications.Smart meter 1210 communicates with the utility company 1200 using licensed radio or a combination of licensed andunlicensed radio 1021. Finally,smart meter 1011 communicates with theutility company 1000 using power-line communication 1022, which is a technique for transmitting data on a conductor that is also used to simultaneously carry electricity to thesmart home 1005. - The smart meters 1007-1011 may be equipped to use any one of a number of different communications protocols. For example, ANSI C12.18 is an ANSI standard protocol typically used for two-way communications with a smart meter. ANSI C12.19 specifies the data tables to be used, and ANSI C12.21 is an extension of C12.18 written for modem communications. Other communication protocols, such as those set by the International Electrotechnical Commission digital formats can be used, such as IEC 61107 and IEC 62056. The Open Smart Grid Protocol is a family of specifications published by the European Telecommunications Standards Institute used in conjunction with the ISO/IEC 14908 control networking standard for smart metering and smart grid applications. In addition, TCP/IP technology can be used as a communication platform for smart meter applications, so that utilities can deploy multiple communication systems, while using IP technology as a common management platform. Other communications protocols include a single, universal connector separating the function of the smart grid device and its communication module.
- In
FIG. 10 , the smart homes 1001-1005 include intelligent controllers 1025-1029 that control operation of a controlled entity. Each of theintelligent controllers 1004 is in direct communication with a corresponding smart meter so that when the smart meter transmits recorded smart-meter data to theutility company 1000, the corresponding intelligent controller also receivers the same recorded smart-meter data. The intelligent controllers 1025-1029 control operation of the corresponding controlled entities and generate operational data that may be sent with the smart-meter data to autility 1000 or other remote system. Operational data can be raw data collected from the one or more intelligent-controller sensors, control specifications and control schedules input to the intelligent controller by an intelligent-controller user, and any other data generated by the intelligent controller in response to the raw data collected by one or more sensors, control specification and control schedules. Because the smart meters send smart-meter data to a corresponding intelligent controller, each of the intelligent controllers can store the smart-meter data and display the smart-meter data on the intelligent controller user interface. -
FIG. 11 illustrates examples of various ways in which anintelligent controller 1101, asmart meter 1102, autility company 1103, aremote system 1104, and auser 1105 can exchange data. Theuser 1105 represents an occupant or owner of a home equipped with theintelligent controller 1101 and thesmart meter 1102. Solid directional arrows 1107-1111 represent two-way communications between the entities. In particular,directional arrow 1112 represents two-way communications between thesmart meter 1102 and theutility company 1103. The communications can be carried out using any one or the media and protocols described above with reference toFIG. 10 .Directional arrow 1109 represents the user's 1105 to access the user's utility company account information that may provide the user access to smart-meter data and different time-interval billing rates.Directional arrow 1111 represents theintelligent controller 1101 displaying notices from theintelligent controller 1101 to theuser 1105 and theintelligent controller 1101 receiving operational settings, such as adjusting a control schedule, from theuser 1105.Directional arrow 1104 represents theremote system 1104 receiving operational data from theintelligent controller 1101 and theintelligent controller 1101 receiving commands and information from theremote system 1104.Directional arrow 1108 represents theremote system 1104 providing theuser 1105 access to operational data collected by theintelligent controller 1101 and theuser 1105 entering information to theremote system 1104. For example, when theuser 1105 purchases and installs theintelligent controller 1101 theuser 1105 can register theintelligent controller 1101 with the manufacturer or vendor by providing address information and provide information on the layout of the smart home. Dashed-directional arrows smart meter 1102 may directly transmit smart-meter data to theintelligent controller 1101 when thesmart meter 1102 transmits smart-meter data to theutility company 1103, and theremote system 1104 can retrieve the smart-meter data from theintelligent controller 1101. -
FIGS. 12A-D illustrate information processed and generated by an intelligent controller during control operations. All the figures show plots, similar toplot 902 inFIG. 9 , in which values of a parameter or another set of control-related values are plotted with respect to a vertical axis and time is plotted with respect to a horizontal axis.FIG. 12A shows an idealized specification for the results of controlled-entity operation. Thevertical axis 1202 inFIG. 12A represents a specified parameter value, PS. For example, in the case of an intelligent thermostat, the specified parameter value may be temperature. For an irrigation system, by contrast, the specified parameter value may be flow rate.FIG. 12A is the plot of acontinuous curve 1204 that represents desired parameter values, over time, that an intelligent controller is directed to achieve through control of one or more devices, machines, or systems. The specification indicates that the parameter value is desired to be initially low 1206, then rise to a relativelyhigh value 1208, then subside to anintermediate value 1210, and then again rise to ahigher value 1212. A control specification can be visually displayed to a user, as one example, as a control schedule. -
FIG. 12B shows an alternate view, or an encoded-data view, of a control schedule corresponding to the control specification illustrated inFIG. 12A . The control schedule includes indications of a parameter-value increase 1216 corresponding to edge 1218 inFIG. 12A , a parameter-value decrease 1220 corresponding to edge 1222 inFIG. 12A , and a parameter-value increase 1224 corresponding to edge 1216 inFIG. 12A . The directional arrows plotted inFIG. 12B can be considered to be setpoint changes, or indications of desired parameter changes at particular points in time within some period of time. - A setpoint change may be stored as a record with multiple fields, including fields that indicate whether the setpoint change is a system-generated setpoint or a user-generated setpoint, whether the setpoint change is an immediate-control-input setpoint change or a scheduled setpoint change, the time and date of creation of the setpoint change, the time and date of the last edit of the setpoint change, and other such fields. In addition, a setpoint may be associated with two or more parameter values. As one example, a range setpoint may indicate a range of parameter values within which the intelligent controller should maintain a controlled environment. Setpoint changes are often referred to as “setpoints.”
-
FIG. 12C illustrates the control output by an intelligent controller that might result from the control schedule illustrated inFIG. 12B . In this figure, the magnitude of an output control signal is plotted with respect to thevertical axis 1226. For example, the control output may be a voltage signal output by an intelligent thermostat to a heating unit, with a high-voltage signal indicating that the heating unit should be currently operating and a low-voltage output indicating that the heating system should not be operating.Edge 1228 inFIG. 12C corresponds tosetpoint 1216 inFIG. 12B . The width of thepositive control output 1230 may be related to the length, or magnitude, of the desired parameter-value change, indicated by the length ofsetpoint arrow 1216. When the desired parameter value is obtained, the intelligent controller discontinues output of a high-voltage signal, as represented byedge 1232. Similar positiveoutput control signals setpoints FIG. 12B . - Finally,
FIG. 12D illustrates the observed parameter changes, as indicated by sensor output, resulting from control, by the intelligent controller, of one or more controlled entities. InFIG. 12D , the sensor output, directly or indirectly related to the parameter P, is plotted with respect to thevertical axis 1240. The observed parameter value is represented by a smooth,continuous curve 1242. Although this continuous curve can be seen to be related to the initial specification curve, plotted inFIG. 12A , the observed curve does not exactly match that specification curve. First, it may take a finite period oftime 1244 for the controlled entity to achieve the parameter-valued change represented bysetpoint 1216 in the control schedule plotted inFIG. 12B . Also, once the parameter value is obtained, and the controlled entity directed to discontinue operation, the parameter value may begin to fall 1246, resulting in a feedback-initiated control output to resume operation of the controlled entity in order to maintain the desired parameter value. Thus, the desired high-levelconstant parameter value 1208 inFIG. 12A may, in actuality, end up as a time-varyingcurve 1248 that does not exactly correspond to thecontrol specification 1204. The first level of feedback, discussed above with reference toFIG. 8 , is used by the intelligent controller to control one or more control entities so that the observed parameter value, over time, as illustrated inFIG. 12D , matches the specified time behavior of the parameter inFIG. 12A as closely as possible. The second level feedback control loop, discussed above with reference toFIG. 8 , may involve alteration of the specification, illustrated inFIG. 12A , by a user, over time, either by changes to stored control schedules or by input of immediate-control directives, in order to generate a modified specification that produces a parameter-value/time curve reflective of a user's desired operational results. -
FIGS. 13A-C show three different types of control schedules. InFIG. 13A , the control schedule is acontinuous curve 1302 representing a parameter value, plotted with respect to thevertical axis 1304, as a function of time, plotted with respect to thehorizontal axis 1306. The continuous curve comprises only horizontal and vertical sections. Horizontal sections represent periods of time at which the parameter is desired to remain constant and vertical sections represent desired changes in the parameter value at particular points in time. This is a simple type of control schedule and is used, below, in various examples of automated control-schedule learning. However, automated control-schedule-learning methods can also learn more complex types of schedules. For example,FIG. 13B shows a control schedule that includes not only horizontal and vertical segments, but arbitrarily angled straight-line segments. Thus, a change in the parameter value may be specified, by such a control schedule, to occur at a given rate, rather than specified to occur instantaneously, as in the simple control schedule shown inFIG. 13A . Automated-control-schedule-learning methods may also accommodate smooth-continuous-curve-based control schedules, such as that shown inFIG. 13C . In general, the characterization and data encoding of smooth, continuous-curve-based control schedules, such as that shown inFIG. 13C , is more complex and includes a greater amount of stored data than the simpler control schedules shown inFIGS. 13B and 13A . - In the following discussion, it is generally assumed that a parameter value tends to relax towards lower values in the absence of system operation, such as when the parameter value is temperature and the controlled system is a heating unit. However, in other cases, the parameter value may relax toward higher values in the absence of system operation, such as when the parameter value is temperature and the controlled system is an air conditioner. The direction of relaxation often corresponds to the direction of lower resource or expenditure by the system. In still other cases, the direction of relaxation may depend on the environment or other external conditions, such as when the parameter value is temperature and the controlled system is an HVAC system including both heating and cooling functionality.
- Turning to the control schedule shown in
FIG. 13A , the continuous-curve-representedcontrol schedule 1302 may be alternatively encoded as discrete setpoints corresponding to vertical segments, or edges, in the continuous curve. A continuous-curve control schedule is generally used, in the following discussion, to represent a stored control schedule either created by a user or remote entity via a schedule-creation interface provided by the intelligent controller or created by the intelligent controller based on already-existing control schedules, recorded immediate-control inputs, and/or recorded sensor data, or a combination of these types of information. - Immediate-control inputs are also graphically represented in parameter-value versus time plots.
FIGS. 12A-G show representations of immediate-control inputs that may be received and executed by an intelligent controller, and then recorded and overlaid onto control schedules, such as those discussed above with reference toFIGS. 13A-C , as part of automated control-schedule learning. An immediate-control input is represented graphically by a vertical line segment that ends in a small filled or shaded disk.FIG. 14A shows representations of two immediate-control inputs FIG. 13A , that is input to an intelligent controller by a user or remote entity with the expectation that the input control will be immediately carried out by the intelligent controller, overriding any current control schedule specifying intelligent-controller operation. An immediate-control input is therefore a real-time setpoint input through a control-input interface to the intelligent controller. - Because an immediate-control input alters the current control schedule, an immediate-control input is generally associated with a subsequent, temporary control schedule, shown in
FIG. 14A as dashed horizontal and vertical lines that form a temporary-control-schedule parameter vs. time curve extending forward in time from the immediate-control input.Temporary control schedules control inputs FIG. 14A . -
FIG. 14B illustrates an example of immediate-control input and associated temporary control schedule. The immediate-control input 1410 is essentially an input setpoint that overrides the current control schedule and directs the intelligent controller to control one or more controlled entities in order to achieve a parameter value equal to the vertical coordinate of the filled disk 1412 in the representation of the immediate-control input. Following the immediate-control input, a temporary constant-temperature control-schedule interval 1414 extends for a period of time following the immediate-control input, and the immediate-control input is then relaxed by a subsequent immediate-control-input endpoint, orsubsequent setpoint 1416. The length of time for which the immediate-control input is maintained, ininterval 1414, is a parameter of automated control-schedule learning. The direction and magnitude of the subsequent immediate-control-input endpoint setpoint 1416 represents one or more additional automated-control-schedule-learning parameters. Please note that an automated-control-schedule-learning parameter is an adjustable parameter that controls operation of automated control-schedule learning, and is different from the one or more parameter values plotted with respect to time that comprise control schedules. The parameter values plotted with respect to the vertical axis in the example control schedules to which the current discussion refers are related directly or indirectly to observables, including environmental conditions, machines states, and the like. -
FIG. 14C shows an existing control schedule on which an immediate-control input is superimposed. The existing control schedule called for an increase in the parameter value P, represented byedge 1420, at 7:00 a.m. (1422 inFIG. 14C ). The immediate-control input 1424 specifies an earlier parameter-value change of somewhat less magnitude.FIGS. 14D-G illustrate various subsequent temporary control schedules that may obtain, depending on various different implementations of intelligent-controller logic and/or current values of automated-control-schedule-learning parameter values. InFIGS. 14D-G , the temporary control schedule associated with an immediate-control input is shown with dashed line segments and that portion of the existing control schedule overridden by the immediate-control input is shown by dotted line segments. In one approach, shown inFIG. 14D , the desired parameter value indicated by the immediate-control input 1424 is maintained for a fixed period oftime 1426 after which the temporary control schedule relaxes, as represented byedge 1428, to the parameter value that was specified by the control schedule at the point in time that the immediate-control input is carried out. This parameter value is maintained 1430 until the next scheduled setpoint, which corresponds to edge 1432 inFIG. 14C , at which point the intelligent controller resumes control according to the control schedule. - In an alternative approach shown in
FIG. 14E , the parameter value specified by the immediate-control input 1424 is maintained 1432 until a next scheduled setpoint is reached, in this case the setpoint corresponding to edge 1420 in the control schedule shown inFIG. 14C . At the next setpoint, the intelligent controller resumes control according to the existing control schedule. - In a different approach, shown in
FIG. 14F , the parameter value specified by the immediate-control input 1424 is maintained by the intelligent controller for a fixed period oftime 1434, following which the parameter value that would have been specified by the existing control schedule at that point in time is resumed 1436. - In the approach shown in
FIG. 14G , the parameter value specified by the immediate-control input 1424 is maintained 1438 until a setpoint with opposite direction from the immediate-control input is reached, at which the existing control schedule is resumed 1440. In still alternative approaches, the immediate-control input may be relaxed further, to a lowest-reasonable level, in order to attempt to optimize system operation with respect to resource and/or energy expenditure. In these approaches, generally used during aggressive learning, a user is compelled to positively select parameter values greater than, or less than, a parameter value associated with a minimal or low rate of energy or resource usage. - In one example implementation of automated control-schedule learning, an intelligent controller monitors immediate-control inputs and schedule changes over the course of a monitoring period, generally coinciding with the time span of a control schedule or subschedule, while controlling one or more entities according to an existing control schedule except as overridden by immediate-control inputs and input schedule changes. At the end of the monitoring period, the recorded data is superimposed over the existing control schedule and a new provisional schedule is generated by combining features of the existing control schedule and schedule changes and immediate-control inputs. Following various types of resolution, the new provisional schedule is promoted to the existing control schedule for future time intervals for which the existing control schedule is intended to control system operation.
-
FIGS. 15A-D illustrate the general context in which intelligent controllers operate. As shown inFIG. 15A , this context comprises a region orvolume 1502, one or moreintelligent controllers volume 1502. In many cases, the intelligent controllers are described as controlling the region orvolume 1502 although, in fact, they directly control the one or more devices, systems, or other entities 1506-1508. The region orvolume 1502 may be a complex region or volume that includes multiple connected or separate subregions or subvolumes. The region, regions, volume, or volumes controlled by an intelligent controller is referred to, below, as the “controlled environment.” The intelligent controllers may reside within the environment, asintelligent controller 1504 shown inFIG. 15A , or may reside externally, as, for example,intelligent controller 1506 inFIG. 15A . Similarly, the devices, systems, or other entities that operate on the environment 1506-1508 may reside within the environment, as, for example,system 1506 inFIG. 15A , or may be located outside of the environment, as, for example, systems 1507-1508 inFIG. 15A . In a specific example discussed in a following subsection, the systems are HVAC systems and/or additional air conditioners and heaters and the intelligent controllers are intelligent thermostats, with the environment a residence, multi-family dwelling, commercial building, or industrial building that is heated, cooled, and/or ventilated by the systems controlled by the intelligent thermostats. - As shown in
FIG. 15B , theintelligent controllers remote computing system 1510 to which certain of control tasks and intelligent-control-related computations are distributed. In addition, the intelligent controllers generally output control signals to, and receive data signals from, the systems 1506-1508 controlled by the intelligent controllers. As shown inFIG. 15C , the systems 1506-1508 are controlled by the intelligent controllers to operate on theenvironment 1502. This operation may involve exchange of various types of substances, operations that result in heat exchange with the environment, exchange of electrical current with the environment, and many other types of operations. These operations generally affect one or more characteristics or parameters of the environment which are directly or indirectly monitored by the intelligent controllers. The intelligent controllers, to which the current application is directed, generally control the environment based on control schedules and immediate-control inputs that can be thought of as overlaid on or added to the control schedules. The context within which the general class of intelligent controllers operates is illustrated, inFIG. 15C , with twoplots first plot 1512 is a portion of a control schedule to which an immediate-control input 1516 has been added. Alternatively, the portion of the control schedule may feature a scheduled setpoint rather than the immediate-control input 1516. The vertical axis is labeled “P” 1518 to represent the value of a particular parameter or characteristic of the environment, referred to as an “environmental parameter,” and the horizontal axis representstime 1520. The immediate-control input 1516 or, alternatively, a scheduled setpoint, generally represent a desired change in the parameter or characteristic 1522, designated ΔP. At the time of the immediate-control input, or before or at the time of a scheduled input, the intelligent controller generally outputs control signals to the systems in order to change the parameter or characteristic P by ΔP. It should be noted that, although in the current example ΔP is positive, with the desired parameter P greater than the current value of the parameter P, the ΔP may also be negative, with the desired value of P less than the current P. It may also be the case that intelligent controllers control the systems with respect to multiple parameters, in which case there may be separate control schedules for each parameter, and multiple parameters may be combined together to form a composite parameter for a single control schedule. Alternatively, setpoints may be associated with multiple P values for each of one or more environmental parameters. In the following discussion, for simplicity of illustration and discussion, it is assumed that a single parameter P is monitored by the one or more intelligent controllers, each setpoint specifies a single parameter value, and that intelligent controllers output control signals to one or more systems in order to control the value of the parameter P within the controlledenvironment 1502. - As shown in
plot 1514, once intelligent controllers initiate system operation in order to change the value of the parameter P by ΔP, the parameter P changes, over time, in a continuous manner from theinitial P value 1524 to the desiredP value 1526. In other words, the P values cannot be instantaneously altered at times corresponding to immediate-control inputs or scheduled setpoints. As a result, there is atime interval Δt 1528, referred to as the “response time,” that separates the time of an immediate-control input or scheduled setpoint change in the time which the parameter value specified by the setpoint change or immediate-control input is achieved. Intelligent controllers to which the current application is directed model the P versus t behavior within this response-time Δt interval 1528 so that, at any point in time during the response time, the time remaining to a point in time the desired t value is obtained, or, in other words, the remaining response time, can be displayed or reported. Thus, for example, attime t 1 1530, the intelligent controller calculates the length oftime interval Δt 1 1532, the remaining response time, and reports the length of this time interval in a textural, graphical, or numeric display output on an intelligent-controller display device, such asdisplay device 410 inFIG. 4 , or outputs the information through a remote-display interface for display on a remote display device, such as a smart phone. The information may include a remaining-response-time indication, an indication of the remaining response time relative to the entire response time, information including the response time so far elapsed, and other response-time related information. It should be noted that calculation of the time remaining before a desired P value is achieved may be used independently, for various different intelligent-controller operations, from the display of the remaining response time. For example, intelligent controllers may alter control strategies depending on the remaining response time computed for various different control strategies. - At first impression, the task of computing the remaining response time may appear relatively simple. However, as shown in
FIG. 15D , the task is often far from simple.FIG. 15D shows various different conditions and effects that may alter the P versus t behavior of a controlled environment. In many cases, the time of day, weather, and time ofyear 1540 may alter the P versus t behavior of the environment, referred to below as the environment's P response. The P response may also be altered by different types of inputs 1542-1544 to the systems or internal states of the systems. For example, a system that requires electricity for operation may be inoperable during power failures, as a result of which the P response during power failures may be substantially different than the P response when power is available. The P response may also be affected by external entities other than thesystems 1546 which operate on the environment or by internal systems and devices other than systems 1506-1508 that operate on theenvironment 1548. In addition, changes to buildings or structures, such as openedwindows 1550 may significantly alter the P response to the environment due to a thermal ormaterial exchange 1552. These are but a few of the many different possible factors that may change the P response of the environment, and thus complicate and frustrate remaining-response-time calculations and displays carried out by intelligent controllers. - In many implementations of the intelligent controllers to which the current application is directed, as a result of the many factors that may impact a particular P response for a controlled environment, the intelligent controller or controllers uses at least two different models for the P response during the response time in order to compute and display remaining response times.
FIGS. 16A-E illustrate construction of one or more of a first type of P-response model based on observed P-response data.FIG. 16A shows a collection of data by an intelligent controller and construction of a parameterized P-response curve from the data. InFIG. 16A , thehorizontal axis 1602 is a time axis with respect to which various data states are shown. During the response time after an immediate-control input or scheduled setpoint, such asinterval Δt 1528 inFIG. 15C , the intelligent controller monitors the change in P value in time and plots points to represent an observed P-response curve. InFIG. 16A , the firstsuch plot 1604 represents the points plotted with respect to a first observed P-response curve of the intelligent controller. In general, the points are stored in a file or database, often as encoded coordinate pairs, rather than plotted in a graphical plot. However, for ease of description and illustration, the stored data is referred to as a “plot” in the following discussion. Observation of a first P response generally produces a set of points, such as those shown plotted inplot 1604, that describe a general trend in P versus t behavior. The intelligent controller continues to make observations of P responses, over time, adding observed P versus t points to the plot, as shown by plots 1606-1609 inFIG. 16A . After some time, were the recorded P versus t points plotted visually in a graph, they would form a relatively dense cloud of points that suggest a P versus t curve that describes the P response for the control environment. When sufficient points have been stored, the intelligent controller can generate a parameterized model, or function, that statistically best fits the collected points, as represented inFIG. 16A by parameterizedplot 1610. A parameterized plot is a plot that is associated with a model that represents the observed P versus t data over the course of many P-response observations. In certain cases, the P-response data may be discarded following plot parameterization, or after passage of significant periods of time. - There are many possible models for P-response curves.
FIG. 16B illustrates one P-response-curve model. InFIG. 16B , theexpression 1616 -
- is plotted in
graph 1618 withhorizontal axis 1620 representing time andvertical axis 1622 representing a change in P value, ΔP, starting from an initial time represented by theorigin 1624. The model is non-linear between zero and about 15 minutes, is approximately linear for ten minutes, is again non-linear until about 35 minutes, and then flattens considerably thereafter. It should be noted that this model can be appropriate for certain ΔP changes and certain types of characteristics and parameters in certain environments acted on by certain types of devices and systems, but is certainly not appropriate for a large number or even a large fraction of possible controlled environments, ΔP changes, and characteristics and parameters. The expression is parameterized by two constants a and b. Thus, in general, the model computes ΔP as a function of time, the function parameterized by and one or more constant-valued parameters that are determined for a given P and a given controlled environment. In the case of the model shown inFIG. 16D , the slope of the straight-line portion of the P-response curve generated from the model can be varied by varying the value of parameter b, while the range in ΔP values can be altered by changing the value of parameter a. Many other types of models can be used for P-response curves. - The parameterized model generated for a collection of observed P responses is generally only an estimate and, because of all the different factors that may affect P responses, the parameterized model is generally an estimate for the average P response of the controlled environment. Were the model curve to be plotted within the dense clouds of points representing the observed data, generally only a very few of the observed points would actually fall on the P-response curve generated by the model. Models are selected and evaluated by evaluating how well the data fits the model. There are many statistical methods that may be employed to compute the fit of a model to experimental data.
FIGS. 16C-D illustrate one such method.FIG. 16C shows the model P response curve in agraphical plot 1630 similar to that shown inFIG. 16B along with one of the observed P versus t points 1632. Avertical line segment 1634, passing through the observed P versust point 1632, also passes through the model curve atpoint 1636 and through the time axis atpoint 1638, the time coordinate of which is referred to as t1. The ΔP coordinate 1638 of the observed P versus t point is labeled Δpo and the ΔP coordinate 1640 of the point on the model curve corresponding totime t 1 1610 is labeled Δpc. A discrepancy Δo/ci between the observed data point i 1632 andcorresponding model point 1636 can be computed as: -
- A fit value for the curve with respect to the observed data can be computed by summing all of the discrepancies for all of the data points, as follows:
-
- Were all of the data points to fall along the model curve, the fit value would be 0. As the observed data departs further from the model curve, the fit value increases.
- As shown in
FIG. 16D , it is often the case that fit values calculated from various different data sets fall into a particular type of probability distribution. One such probability distribution is shown inFIG. 16D . Thevertical axis 1660 represents the probability of observing a particular fit value and thehorizontal axis 1662 represents the different possible fit values. For a particular fit value, such asfit value 1664, the area under the probability-distribution curve to the right of thefit value 1666, shown cross-hatched inFIG. 16D , represents the probability of observing thefit value 1664 or a fit value greater than that fit value. This probability can also be used to evaluate the reasonableness of the model with respect to observed data. When the probability of a fit value equal to or greater than the observed fit value falls below a threshold probability, the model may be rejected. - Returning to
FIG. 16A , the intelligent controller may, after observing each response and adding the data points for the observed P response to a plot, compute the fit value of various different models with respect to the data and, when one or more models is associated with a fit value less than a first threshold value or with a corresponding probability value greater than a second threshold value, the intelligent controller may select the best fitting model from the one or more models and generate a parameterized plot by associating the selected model, including selected constant values for the model parameters, with the plot. This constitutes what is referred to as “parameterizing the plot” in the following discussion. Once a plot is parameterized, the plot becomes a global model that can be used, by the intelligent controller, to predict remaining response time, or time-to, values for display and for other purposes. The parameterized plot may be continued to be refined, over time, following addition of new P-response data, including changing the global model associated with the parameterized plot and altering constant-parameter values. This refinement may continue indefinitely, or may be discontinued after a highly reliable model is constructed. Alternatively, the parameterized plot may represent a sliding data window, with only recent data used to select a current associated model and parameter values. - An intelligent controller may generate various different parameterized models, also referred to as “global models,” for various different conditions.
FIG. 16E illustrates generation of multiple global models as a continuation of the timeline shown inFIG. 16A . Once a first parameterizedplot 1610 has been generated, the intelligent controller may elect to divide the collected data points among multiple plots 1612-1615 each collecting observed P responses under different conditions. For example, when it is determined that weather and outside-temperature are important influences on P responses, the intelligent controller may collect separate P-response data for sunny days, cloudy days, nighttime, days with high wind, and other such different weather conditions.FIG. 16E illustrates division of theinitial plot 1610 into four plots 1612-1615 arranged along a vertical parameter or condition dimension, such as a weather-and-temperature dimension. Then, as shown inFIG. 16E , the intelligent controller may continue to collect data for each of these individual plots until they can be parameterized, with the parameterized plots shown incolumn 1620. At this point, the intelligent controller may then generate new plots, essentially extending the data collection along a new dimension, as represented by the column of sets ofplots 1622 shown inFIG. 16E . The intermediate global models, such asglobal model 1610, may be retained in addition to the subsequently generated global models for particular conditions. Of course, the amount of data that may need to be collected in order to parameterize multi-dimensional plots expands exponentially, and this combinatorial effect severely constrains the number of different dimensions that an intelligent controller may consider. Nonetheless, an intelligent controller need not be constrained to generating only a single global model, but may generate multiple global models, each for a different condition or set of conditions, in order to better approximate P response curves that obtain under those conditions. In certain cases, the response model may depend on the magnitude of the ΔP represented by a scheduled setpoint change or immediate-input control. - A second type of P-response model that may be employed by intelligent controllers is referred to as a “local model.” Generally, regardless of how much data is collected and used to generate one or more global models, it is difficult for an intelligent controller to generate global models that are sufficiently accurate for highly accurate remaining-response-time calculations. Although this is not always the case, it is not unexpected, due to all the various different types of factors that may affect a P response, discussed above with reference to
FIG. 15D . However, it is frequently possible to generate a simpler local model, during a particular response time.FIGS. 15A-B illustrate several types of local modeling techniques. -
FIG. 17A illustrates one type of local model. In many cases, following output of control signals to one or more systems by an intelligent controller, there is a period of time referred to asΔt unstable 1702 during which the P value may fail to change or actually change in the direction opposite from the desired direction. After theunstable time interval 1702, the ΔP versus t response may be nearly linear 1704. This type of local model may be expressed as: -
ΔP=mt−mt unstable - where m is the slope of the straight-line portion and is the single constant for the model. As shown in
FIG. 17B , even when the response following the unstable period is not linear, but is instead a curve, the response may be approximated by a series of local linear models. InFIG. 17B , the portion of the P response within the dashedcircle 1702 about thepoint 1704 with time coordinatet 1 1706, considered as a local origin, is nearly linear, and can be approximated by alinear model 1708, expressed as: -
ΔP=mtc. - Another portion of the P-response curve within dashed
circle 1710 can be approximated by a different linear model with a different slope. Thus, by selecting a set of successive linear models over the interval between an immediate-control input or scheduled setpoint and the time when the desired P value is obtained, the intelligent controller can incrementally calculate accurate remaining response times. - Thus, global models and local models provide models of P responses. The global models are generally used during the initial portion of a response time following an immediate-control input or scheduled setpoint because, during this initial period of time, there is generally insufficient observed data to compute parameters for a local model and/or to select a particular local model. However, often it is the case that, following an initial period of time, when sufficient P versus t data points are available for the current P response, a local model can be selected and parameterized to provide more accurate remaining-response-time predictions up until the time that the desired P value is obtained. This is, however, not always the case. It may be the case that the global model is more predictive throughout the entire response time or that, after a local model is selected and used, the global model again, after another period of time, is again better able to predict the remaining-response-time value from a local model. In certain cases, neither global nor local models provide adequate predictive power. For this reason, many intelligent controllers of the class of intelligent controllers to which the current application is directed continuously reevaluate P-response models and attempt to select the best model for each point in time over an entire interval during which the remaining-response-time values are continuously, periodically, or intermittently calculated and displayed.
- In addition to the local and global P-response models for the change in ΔP with t during responses of an environment to immediate-control-elicited or scheduled-setpoint-change-elicited control of one or more systems, many additional types of P-response-related information can be obtained by an intelligent controller and electronically stored in memory and/or mass-storage devices within the intelligent controller or in remote computing facilities accessible to intelligent controllers.
FIGS. 18-19 illustrate, using plots similar to the plots shown inFIGS. 16B-C and 17A-B, two additional types of information that may be obtained by monitoring P versus t response behaviors and various types of additional information with respect to the systems controlled by the intelligent controller.FIG. 18 shows a ΔP/Δt versus P curve for a particular type of system that affects a controlled environment and that is controlled directly by the intelligent controller. In the case shown inFIG. 18 , a portion of the ΔP/Δt versus P curve is astraight line 1802. This line represents the fact that, for the particular systems for which the data has been collected, the rate at which the systems change the value of parameter P within the controlled environment varies with respect to the current value of P. The current value of P may be the current value of P within the controlled environment or the current value of P external to the controlled environment. For example, this type of curve is frequently used to describe dependence of heat-pump and AUX effectiveness with respect to outside temperature P. As shown inFIG. 18 , there are two critical P values,P s1 1804 andP s2 1806. When ΔP/Δt transitions from a positive to a negative value at criticalP value P lowLockout 1804, the system 1 (e.g., heat pump) is locked out and the system 2 (e.g., AUX) alone is used to maintain or increase P for the internal environment. As P increases fromP lowLockout 1804 toP highLockout 1806, use ofsystem 2 may decrease and use ofsystem 1 may increase. When ΔP/Δt reaches the criticalP value P highLockout 1806,system 2 is locked out andsystem 1 alone may be used exclusively to maintain or increase P for the internal environment. When an intelligent controller is attempting to increase the P value in the controlled environment, it clearly would not choose to use a system with ΔP/Δt characteristics such as those shown inFIG. 18 when the current P value, such as the outside temperature, is less than the critical P value Pc. Frequently, an intelligent controller establishes a P-value cutoff, or lockout value, substantially higher than Pc, below which the intelligent controller does not activate the system in order to increase the value of P in a controlled environment due to the poor effectiveness, or rate of change in P, of the system below the lockout value. -
FIG. 19 shows a different type of information that may be obtained and electronically stored by an intelligent controller to characterize a particular system.FIG. 19 shows a plot of ΔE/ΔP versus P for a particular system, where ΔE is the amount of energy needed to change the value of the parameter P within a controlled environment by ΔP. In essence, this curve is reflective of the dependence of the energy efficiency of a system with respect to the current value of P. The current value of P may be the current value of P within the controlled environment or the current value of P external to the controlled environment. As one example, such a curve may represent the energy efficiency of a furnace with respect to the outside temperature. In thecurve 1902 plotted inFIG. 19 , the energy efficiency is maximized, when ΔE/ΔP is lowest, at a P value of approximatelyP 1 1904 and decreases as P is either increased or decreased from this maximum-efficiency P value. In the example of a furnace, the energy efficiency of the furnace may decrease as outside temperatures decreases due to increasing thermal exchange of the controlled environment with the external environment and may also decrease as temperatures reach a relatively high value, due to the decreasing difference between the temperature of air output by the furnace with respect to the ambient temperature. In other words, when the temperature is neither too cold nor too hot, the furnace may not be capable of efficiently increasing the temperature of a controlled environment. - The data plotted in
FIGS. 18 and 19 , like the previously described P-response models, is generally stored as a collection of data points in memory and/or mass-storage devices. The data corresponding to the plot shown inFIGS. 18 and 19 may be accumulated, over time, by an intelligent controller as for the previously described P-response models. The data corresponding to the plot shown inFIG. 18 may be accumulated, over time, as for the previously described P-response models, and may be parameterized for computational efficiency, as well. The data corresponding to the plot shown inFIG. 19 may also be partially or fully obtained from other sources, including from characteristics for particular types of systems. - The current applications is directed to intelligent controllers which balance control in order to achieve multiple goals which may, at times, conflict, and in order to achieve one or more goals under conflicting constraints. As an example, an intelligent controller may be designed to produce specified changes in the value of an environmental parameter P as rapidly as possible, in order to conform to a control schedule featuring controlled, vertical setpoint changes, as discussed above, with minimum expenditure of energy. Often, these goals conflict, since, as ΔP/Δt increase, ΔE/ΔP decreases for certain particular systems controlled by the intelligent controller in order to control the value of P in the controlled environment, such as a system exhibiting the characteristics illustrated in
FIGS. 18 and 19 . - In certain intelligent controllers within the class of intelligent controllers to which the current application is directed, the intelligent controller provides a user-interface feature to allow a user to select an auto-component-activation level for operation of the intelligent controller, the auto-component-activation level specifying how the intelligent controller balances the competing goals of quickly carrying out setpoint changes but doing so in an energy-efficient manner. The auto-component-activation level is used during determinations by the intelligent controller with respect to which system or systems to activate in order to carry out a setpoint change. The
FIG. 20 illustrates an auto-component-activation-level user interface provided to users by one implementation of an intelligent controller. The auto-component-activation-level user interface includes a slider-bar feature 2002 that allows a user to move a slider orcursor 2004 along theslider bar 2002 to select an auto-component-activation level in the range of [max savings, max comfort]. At the max-savings level, the intelligent controller seeks to use the most energy efficient and/or cost efficient means for achieving desired changes in the value of environmental parameter P within an environment controlled by the intelligent controller. By contrast, at the auto-component-activation level max comfort, the intelligent controller attempts to execute desired changes in P value as quickly as possible. Intermediate auto-component-activation-level values represent various levels of balance between max savings and max comfort. The auto-component-activation-level user interface may also be enabled and disabled via an on/offfeature 2006. In certain implementations, the intelligent controller recognizes four auto-component-activation levels: (1) off; (2) max savings; (3) balance; and (4) max comfort. In other implementations, there may be a larger number of auto-component-activation levels. In certain implementations, there may be a continuous range of auto-component-activation levels. -
FIG. 20 additionally shows a P-response curve overlaid on a control schedule as well as an indication of energy usage for both the max-savings auto-component-activation level 2008 and for the max-comfort auto-component-activation level 2010. InFIG. 20 , the control schedule is represented by a solid line, such assolid line 2012 and the P-response curve is illustrated with a dashed line, such as dashedcurve 2014. Below the overlaid control schedules, a vertical bar, such asvertical bar 2016, represents the range of energy usage by one or more systems controlled by the intelligent controller, with a filled disk, such as filled disk 2018, representing a particular energy-usage value. As can be seen inFIG. 20 , in the max-savings mode, relatively little energy is used, as represented by the position of filled disk 2018 within thevertical range bar 2016, in order to achieve a change in the P value, but the P-response curve 2014 has a relatively shallow slope, as a result of which the response time is relatively long. By contrast, in the max-comfort mode, response time is relatively short, but the energy usage relatively high. -
FIGS. 21A-D illustrate additional types of information that may be electronically stored within an intelligent controller with respect to P-responses and response times.FIG. 21A illustrates a table 2102 with four columns 2104-2107 that include: (1) auto-component-activation level 2104; (2)P lowLockout 2105; (3)P highLockout 2106; and (4)system 2107. Each row in this table represents a range of P values, [PlowLockout, PhighLockout] within which a system is activated by an intelligent controller under each of various different auto-component-activation levels. As discussed above with reference toFIG. 16 , certain types of systems may be ineffectual below a critical P value. As also discussed with reference to that figure, a PlowLockout value may be set to the Pc critical value indicated by a plot, such as that shown inFIG. 16 , or to a higher P value below which a system may be too inefficient to use in order to raise the value of an environmental parameter P within a controlled environment. Similarly, a system may be associated with an upper PhighLockout for efficient operation. Values of PlowLockout and PhighLockout lockout define a range of P values within which the intelligent controller may choose to activate a particular system, and this range of P values may vary with the auto-component-activation-level. The values stored in table 2102 may be empirically derived, determined, over time, by an intelligent controller, or initially specified and then adjusted. They represent a heuristic with respect to selecting systems to activate in order to achieve setpoint changes under various P values. Additional such tables may be used when there are additional environmental variables being controlled. -
FIG. 21B illustrates additional tables that may be stored by an intelligent controller in electronic memory and/or in a mass-storage device. An intelligent controller may store a separate table of the type shown inFIG. 21B for each of various different auto-component-activation levels. Each table, such as table 2110, includes three columns 2112-2114, including (1)system configuration 2112; immediate-control input 2113; and scheduledsetpoint change 2114. Each table stores the maximum response time that the intelligent controller should achieve for setpoint changes for particular system configurations and types of setpoint changes. The system configuration may correspond to an overall classification of the systems controlled by the intelligent controller. For example, in a climate-control application, the system configuration may refer to the overall type of heating used to heat a residence, including radiant heating, heat pump, forced-air furnace, or various combinations of heating units. Users of various different types of heating-unit configurations may expect different response-time characteristics. Radiant heating users, for example, may be accustomed to slow response times, allowing the intelligent controller greater latitude in controlling the heating units to achieve energy-efficient control. In certain implementations, similar tables may include preconditioning times for each of various different auto-component-activation levels, each table providing preconditioning intervals for particular system configurations and types of setpoint changes. -
FIG. 21C illustrates yet additional tables that may be stored within electronic memory and/or a mass-storage device within an intelligent controller.FIG. 21C shows a series of three compatibility tables 2120-2122, each for a different range of P values that indicate pairwise compatibility between each of four systems controlled by an intelligent controller. These tables indicate whether or not two systems can be currently activated by an intelligent controller. As an example, a heat pump is often accompanied by an auxiliary heating strip for home heating and, under certain conditions, the heat-pump compressor cannot be concurrently operated with the auxiliary heating strip. -
FIG. 21D illustrates information stored by an intelligent controller, in one implementation, with respect to P-responses and other characteristics of four different systems controlled by the intelligent controller to control the value of an environmental parameter P within a controlled environment. InFIG. 21D , each of the four systems is represented by a rectangle 2130-2133. The intelligent controller stores ΔP/Δt versus P data, ΔE/ΔP versus P data, and P versus t data for each system, such as the ΔP/Δt versusP data 2136, ΔE/ΔP versusP data 2138, and P versust data 2140 associated withsystem 2130. This type of information is discussed above with reference toFIGS. 16A-19 . The P-response models may additionally be global models collected for specific system or system combinations, so that they reflect system-specific or system-combination-specific P-responses. In addition, the intelligent controller stores tables ofsystem compatibility indications 2142,lockout values 2144, and maximum response times 2146 for all of the systems and/or configurations, as discussed above with reference toFIGS. 21A-C . -
FIG. 22 illustrates one implementation of a technique for efficient control, by an intelligent controller, of one or more systems in order to change the value of an environmental variable P according to a scheduled setpoint change or immediate-control input.FIG. 22 shows acontrol schedule 2202 along with a P-response curve 2204 that obtains as the intelligent controller controls one or more systems to raise the value of the environmental variable P by a specifiedamount ΔP 2206. In general, the intelligent controller is constrained to raise the value of the environmental parameter P within amaximum response time 2208. In order to achieve the specified change in P value, ΔP, within the maximum response time, the intelligent controller makes an initial decision, represented by shadeddisk 2210, with regard to which systems to activate and then continuously monitors the P-response curve, as represented by unshaded disks, such asunshaded disk 2212, to ensure that the desired ΔP change is achieved within the maximum response time. Should the rate of change in P value begin to lag the degree of change needed to achieve thetarget P value 2214 associated with an immediate-control input or scheduledsetpoint change 2216, then the intelligent controller makes one or more additional decisions, such asdecision 2218, with respect to the systems that are activated in order to achieve the target P value. Note that the initial decision is shown, inFIG. 22 , to occur at a point in time earlier than the time of the setpoint change. This reflects the fact that the initial decision is not tied to the time of the setpoint change, but may occur earlier, in order to begin changing the value of the environmental variable P so that an energy efficient and/or cost-effective control strategy that may need a longer period of time than the maximum response time may be employed. There may be cases when the initial decision occurs later in time than the time of the setpoint change or at the same time as the time of the setpoint change, as well. - An intelligent controller in communication with a smart meter may also record the same data typically sent from the smart meter to the utility as described above with reference to
FIGS. 12 and 13 . As a result, the intelligent controller may maintain a record of the amount of a service used and the cost of the service provided by the utility to operate controlled entities over time.FIGS. 23-24 illustrate the amount of power and associated cost, respectively, obtained by an intelligent controller from a smart meter. For example,FIG. 23 illustrates a power versustime plot 2300 for a two-system controlled entity controlled by an intelligent controller.Vertical axis 2302 represents ΔE/Δt or power, such as electrical power supplied by an electric utility, andhorizontal axis 2304 represents time.Bar 2306 represents power used to operatesystem 1 alone for a period of time, andbar 2308 represents the power used to operatesystems power 2310 inbar 2308 results from the substantially higher demand for power used to operatesystem 2 for the same period of time. For example, the power demand for using AUX can be 2 to 5 times greater than the power demand for using a heat pump alone for the same period of time. When the intelligent controller is also provided with the cost of a service provided by a utility, the intelligent controller can determine the cost associated with operating the systems controlled by the intelligent controller.FIG. 24 illustrates a cost versustime plot 2400 for two systems controlled by an intelligent controller.Vertical axis 2402 represents cost, such as the cost of electrical power supplied by an electric utility, andhorizontal axis 2404 represents time.Bar 2406 represents the cost ofoperating system 1 alone for a period of time, andbar 2408 represents the cost ofoperating systems cost 2410 inbar 2408 results from the higher power demand ofsystem 2 for the same period of time assystem 1. For example, because the power demand for using AUX can be 2 to 5 times greater than the power demand for using a heat pump alone, the cost of using AUX is also 2 to 5 time greater than the cost of using the heat pump alone for the same period of time. - The intelligent controller can display the power consumption and associated cost on the intelligent controller user interface. Moreover, the intelligent controller can use this same information to control the systems in a manner that lowers power consumption and associated costs of operating the systems. The current application is directed to iterative methods for lowering power consumption and associated costs of systems controlled by an intelligent controller based on the data provided by a smart meter.
FIGS. 25-27 illustrate an iterative approach used by an intelligent controller to lower power consumption and cost of using a two-system controlled entity. Thefirst system 1 has a lower energy demand or power consumption than the cost of operating thesecond system 2 for the same period of time. For example, the controlled entity may be a heat pump (e.g., system 1) with an AUX (e.g., system 2). The method incrementally lowers energy consumption and cost by incrementally adjusting parameters controlled by the intelligent controller that result in increased use ofsystem 1 and decreased use of dependence onsystem 2. -
FIG. 25A illustrates aplot 2500 of a portion of a control schedule along with a representative number of P-response curves an intelligent controller may use to lower energy consumption and cost of using two systems. InFIG. 25A ,vertical axis 2502 represents an internal environment variable P andhorizontal axis 2504 represents time. The control schedule allows the internal environment variable P to decrease fromP 2505 toP low 2506 attime 2508. The interval between 2508 and 2510 is called a low-P maintenance interval. The low-P maintenance interval may correspond to an interval of time in an internal temperature control schedule when the occupants are not present during the day or when the occupants are sleeping. Although the control schedule drops the P value fromP value 2505 to theP low 2506 attime 2508, dottedcurve 2511 represents the actual decrease or drift fromP value 2505 toP low 2506. The control schedule raises the variable P to a higher target P,P target 2512 attime 2510.FIG. 25B illustrates aplot 2514 of ΔP/Δt versus P curve for the systems controlled directly by the intelligent controller. InFIG. 25B ,vertical axis 2516 represents ΔP/Δt of the internal controlled environment andhorizontal axis 2518 represents the current value of P external to the controlled environment.Line 2520 represents the rate at which the systems change the internal P value of the controlled environment with respect to the current value of P external to the controlled environment. As explained above with reference toFIG. 18 , this type of curve is frequently used to describe dependence of heat-pump and AUX effectiveness with respect to outside temperature. InFIG. 25A , during the low-P maintenance interval, when the internal P dips below Plow attime 2522 the intelligent controller accesses the internet to retrieve the value of P external and uses the response curve shown inFIG. 25B to determine an appropriate use of thesystems FIG. 25B , when the value of P external is P″0, the external temperature is close to PlowLockout, in which case, the intelligent controller uses more ofsystem 2 than when the value of P external is P′0. InFIG. 25A , in order to achieve the specifiedP target 2512 within theresponse time Δt low 2524, the intelligent controller makes a decision based on the response curve shown inFIG. 25B attime 2526 with regard to which of the two systems to activate and then continuously monitors the P-response curve 2528 to ensure that the desiredP target 2512 is achieved within the response time Δtlow, as described above with reference toFIG. 22 . Based on data supplied by the smart meter, the intelligent controller records the energy and calculates the cost of maintaining Plow between thetimes P target 2512. When the low-P maintenance interval of the control schedule is encountered after a waiting period, such as one day, the intelligent controller incrementally increases P over the low-P maintenance interval by δP to P1 2530 (i.e., P1=Plow+δP) selects the systems used to maintain P1 betweentimes 2532 to 2534 and to transition toP target 2512 from the response curve shown inFIG. 25B and records of the energy and cost of maintaining P1 and transitioning toP target 2512 from data supplied by smart meter data. As shown inFIG. 25A , the intelligent controller continues to incrementally increase P over the low-P maintenance interval according to -
P n−1 =P n +nδP - where n is a positive integer index. Note that the response times for reaching
P target 2512 decreases for each incremental increase Pn. The intelligent controller maintains a record of the energy and cost of maintaining Pn and transitioning toP target 2512 for every incremental increase in P over the low-P maintenance interval. The incremental increase in P over the low-P maintenance interval is repeated until the energy and cost no longer decreases. The parameter Plow may be reset to the P value that results in the lowest energy or cost ofoperating systems -
FIG. 26 illustrates a plot of the P values over the low-P maintenance interval shown inFIG. 25 versus the iteration index, n, andFIG. 27 illustrates a plot of the total energy E consumed to operate the two systems over the low-P maintenance interval and the transition to Ptarget versus the same iteration index. InFIG. 26 ,vertical axis 2602 represents P andhorizontal axis 2604 represents the iteration index.Solid dots 2606 represent low-P for each incremental increase of P over the low-P maintenance interval shown inFIG. 25 . InFIG. 27 ,vertical axis 2702 represents energy andhorizontal axis 2704 represent the same iteration index.Solid dots 2706 represent the total energy used over the low-P maintenance interval and the transition toP target 2512 for each of the P values shown inFIG. 26 .FIGS. 26 and 27 show that as the value P over the low-P maintenance interval is incrementally increased from Plow to Pn, the corresponding total energies E1 to En decrease, because dependence onsystem 2 decreases. However, when the value P over the low-P maintenance interval is incrementally increased to Pn+1, the associated total energy En+1 increases instead of decreases. As shown inFIG. 27 , the near minimum energy over the low-P maintenance interval and the transition toP target 2512 isE n 2708. As a result, the parameter Plow is reset toP n 2608. The near minimum energy En can be determined by monitoring the slope of the energy consumed by the systems. When the slope of the energy transitions from negative to positive a minimum energy exists and an approximate or near minimum energy can be determined. For example, inFIG. 27 , dottedline 2710 represents negative slope En−En−1 and dottedline 2712 represents positive slope En+1−En. As a result, En is taken as an approximate minimum energy. Whensystems P target 2512. The increase in energy to En+1 may be the result of using the heat pump alone to maintain Pn+1 over the low-P maintenance interval and to transition toP target 2512, but the heat pump may be used more often to maintain Pn+1 than to maintain Pn. It should be noted that En may also represent approximate minimum power or cost. In other words, Plow over the low-P maintenance interval can also be adjusted to substantially minimize power consumption or cost over the low-P maintenance interval and the transition to Ptarget. -
FIG. 28 illustrates a control-flow diagram for intelligent-controller operation. In general, an intelligent controller, at a high level, continuously operates within the context of an event handler or event loop. Instep 2802, the intelligent controller waits for a next control event. When the next control event occurs, then, in a series of conditional statements, the intelligent controller determines the type of event and invokes a corresponding control routine. In the case of an immediate-control event, as determined instep 2804, the intelligent controller calls an immediate-control routine, instep 2806, to carry out the intelligent controller's portion of a user interaction to receive one or more immediate-control inputs that direct the intelligent controller to issue control signals, adjust a control schedule, and/or carry out other activities specified by a user through an intermediate-control interface. In the case that the control event is a scheduled control event, such as when the current time corresponds to a time at which a control schedule specifies a control activity to be undertaken, as determined instep 2808, a schedule-control routine is called, instep 2810, to carry out the scheduled control event. When the control event is a schedule-interface event, as determined instep 2812, the intelligent controller invokes a schedule-interaction routine, instep 2814, to carry out the intelligent controller's portion of a schedule-input or schedule-change dialog with the user through a schedule interface. In the case that the control event is a sensor event, as determined in step 2816 a sensor routine is called by the intelligent controller instep 2818 to process the sensor event. Sensor events may include interrupts generated by a sensor as a result of a change in sensor output, expiration of timers set to awaken the intelligent controller to process sensor data of a next-scheduled sensor-data-processing interval, and other such types of events. When a response-time-monitoring event occurs, as determined instep 2820, a response-time-monitoring routine is called, instep 2822, to handle the event. This type of event is discussed, in detail, below. When the schedule includes a low-P interval as determined instep 2824, a reset Plow routine is called instep 2826 to reset Plow over the low-P interval. -
FIGS. 29A-F illustrate, using control-flow diagrams, the logic employed by an intelligent controller to achieve desired P-response behavior following immediate-control inputs and scheduled setpoint changes.FIG. 29A shows a portion of the immediate-control routine called instep 2806 ofFIG. 28 . This is an event handler for an immediate-control event. Instep 2902, the routine adds an immediate-control setpoint to the control schedule. Then, instep 2904, the routine calls a routine “initial system activation” in order to select an initial system or set of systems to activate in order to carry out the immediate-control input. This initial-system-activation routine is discussed above with reference todecision 2210 inFIG. 22 . Instep 2906, the immediate-control routine outputs appropriate control signals to the selected one or more systems and, as indicated byellipses 2908, may carry out various other steps related to handling immediate-control events. A similar call to the routine “initial system activation” is made in the routine “scheduled control” called instep 2910 ofFIG. 28 to handle scheduled setpoint changes. -
FIG. 29B provides a control-flow diagram for the routine “initial system activation” called instep 2904 inFIG. 29A . Instep 2910, the routine “initial system activation” determines the ΔP corresponding to an immediate-control input or scheduled setpoint change as well as the current P value, Pinitial, a target P value, Ptarget, and the current time, or initial time. Then, instep 2912, the initial-system-activation routine determines the current auto-component-activation level, in certain embodiments set through an auto-component-activation-level user interface, as discussed above with reference toFIG. 20 . Instep 2914, the intelligent controller uses the determined auto-component-activation-level value and system-configuration information to determine the maximum response time for carrying out the immediate-control input or scheduled setpoint change which resulted in a call to the routine “initial system activation” from an immediate-control-input event handler or scheduled-setpoint-change event handler. Instep 2916, the routine “select system combination” is called to select one or more systems for initial activation in order to carry out the immediate-control input or scheduled setpoint change. Instep 2918, an indication of the selected one or more systems is stored along with a target time for achieving the Ptarget value in memory. Instep 2920, the routine “initial system activation” schedules a next response-time-monitoring event in order to continuously, intermittently, or periodically monitor the P-response curve to ensure that the target P value, Ptarget, is achieved within the maximum response time. -
FIG. 29C provides a control-flow diagram for the routine “select system combination” called instep 2916 ofFIG. 29B . Instep 2924, the routine “select system combination” sets numerous local variables, including setting the local variables energy1, time1, energy2, and time2 to large values and setting the local variables combo1 and combo2 to null. Then, in the for-loop of steps 2925-2933, the routine “select system combination” considers possible combinations of one or more systems in order to select a best combination for activation by the intelligent controller in order to achieve a specified ΔP P-value change as a result of an immediate-control input or scheduled setpoint change. It should be noted that, while the illustrated control logic assumes that complete information, such as that shown inFIG. 21D , may be available for all systems, this may often not be the case, in which appropriate adjustments are made in calculations that depend on these types of information, including use of default values or omission of application of certain types of rules. Instep 2926, the routine “select system combination” uses the appropriate compatibility table for the current P-value range, discussed above with reference toFIG. 21C , to ensure that the currently considered system combination contains no incompatible systems. Also, instep 2926, the routine “select system combination” uses the table discussed above inFIG. 21A to ensure that none of the systems in the currently considered system combination is outside of its P-value range. When the currently considered system combination includes incompatible systems or systems that should not be activated under current conditions, the combination is rejected, and control flows to a next iteration of the for-loop of steps 2925-2933. Instep 2927, the routine “select system combination” uses the system specific information, such as thedata system 2130 inFIG. 21D , for each system in the currently considered combination in order to compute a time needed to achieve Ptarget and the amount of energy used to do so. The estimation of Ptarget may additionally use other types of information, including weather forecasts, system operational status, and other such information obtained from remote information sources. Various different methods can be used to obtain the time and energy values. Simplistic methods may employ additive combination of the energies and times needed for individual systems to achieve Ptarget, with weighting or subsequent averaging, in order to compute a total time and energy value. Alternatively, more complex types of calculations may be used in order to precisely estimate the response time and energy usage needed for the currently considered combination of systems to achieve Ptarget. When the computed time is less than or equal to the maximum response time determined instep 2914 inFIG. 29B , as determined instep 2928, and when the computed energy is less than the value stored in energy1, which represents the lowest observed energy for previously considered combinations of systems, as determined instep 2929, then, instep 2930, the local variable combo1 is set to the currently considered combination of systems, energy1 is set to the computed energy, and time1 is set to the computed time. When the computed time is not less than or equal to the max response time, but the computed time is less than the value currently stored in the local variable time2, as determined instep 2931, then the local variable combo2 is set to the currently considered combination of systems, energy2 is set to the computed energy, and time2 is set to the computed time instep 2932. In other words, in the for-loop of steps 2925-2933, of the various possible combinations of one or more systems is considered in order to find, when possible, a combination that will achieve Ptarget in less than or equal to the maximum response time for the system configuration with the lowest possible energy usage. It should be noted that the maximum response time may be dynamically altered, from values stored in memory, such as in the tables discussed above with reference toFIG. 21B , according to various additional rules, heuristics, and considerations, such as the nature of the setpoint change being carried out. In fact, additional rules and characterizations may be used to dynamically alter various of the thresholds employed for monitoring and adjustment of the control strategies. When no combination of one or more systems can achieve Ptarget in less than or equal to the maximum response time, and the combination of one or more systems with the least estimated response time is determined. When at least one combination of systems can achieve Ptarget in less than or equal to the maximum response time, as determined instep 2934, then the most energy efficient of these systems is returned by the routine “select system combination.” Otherwise the combination that most quickly achieves Ptarget is returned. In alternative implementations, rather than considering a large number of possible combinations of systems, in the for-loop of steps 2925-2933, an initial system may be selected and additional systems added, as needed, to obtain a combination of systems adequate to carry out the setpoint change. -
FIG. 29D provides a control-flow diagram for the routine “response time monitoring,” called instep 2822 ofFIG. 28 . This is an event handler for the response-time-monitoring event, and carries out the monitoring for the P-response as discussed above with reference to 2212 inFIG. 22 . Instep 2940, the routine “response time monitoring” determines the current value for the environmental variable P. When this value is less than Pinitial, as determined instep 2942, and when the current time is greater than the initial time of the P-response curve plus some constant value, as determined instep 2944, then the routine “reselect” is called instep 2946 in order to attempt to choose a better combination of one or more systems to activate in order to achieve Ptarget as quickly as possible. The routine “reselect” corresponds to the subsequent decision discussed above with reference to 2218 inFIG. 22 . In this case, the change in P value is opposite, in direction, from the desired change. The constant value added to the current time ensures that a reselection of active systems is not undertaken during an initial unstable period following initial system activation. Similarly, when the current value of the environmental variable P is less than the projected value of P minus a constant, as determined instep 2948, indicating that sufficient progress towards Ptarget is not being made, the routine “reselect” is called instep 2946. When the current value of the environmental variable P is within a threshold distance of Ptarget, as determined instep 2950, the routine “response time monitoring” returns without scheduling a next response-time-monitoring event, since Ptarget the response-time monitoring is no longer needed. Otherwise, a next response-time-monitoring event is scheduled instep 2952. -
FIG. 29E provides a control-flow diagram for the routine “reselect” called instep 2946 ofFIG. 29D . This routine is similar to the routine “select system combination” shown inFIG. 29C . However, in the case of the routine “reschedule,” the combination of one or more systems that provides the most rapid achievement of Ptarget is determined, in the for-loop of steps 2959-2964. Instep 2965, the selected combination is assigned the value of combo1, the targetTime is assigned the value “1.” The appropriate control signals are output to the selected one or more systems instep 2966. Finally, instep 2968, a next response-time-monitoring event is scheduled. - Thus, returning to
FIG. 22 , following an immediate-control input or scheduledsetpoint change 2216, the routine “initial system activation,” shown inFIG. 29B , is called in order to decide which combination of one or more systems to activate in order to achieve the target P value, a step represented bydecision 2210 inFIG. 22 . Then, by continuously rescheduling a next response-time-monitoring event, the routine “response time monitoring” is repeatedly called, during the response time, to monitor progress towards target P, as represented by the unfilled circles, such asunfilled circle 2212 inFIG. 22 . In the case that progress towards target P is unsatisfactory, as detected in the routine “response time monitoring,” the routine “reschedule,” shown inFIG. 29E is called in order to reselect one or more systems for activation in order to attempt to reach the target P value either within the maximum response time, if still possible, or as quickly as possible, if no longer possible within the maximum response time. A rescheduling operation is illustrated inFIG. 22 by filleddisk 2218. The monitoring may be carried out, using simple heuristics, by a low-power processor within the intelligent controller, in one implementation, while the system-activation decisions may be made by a higher-power processor that is awaken by the low-power processor when the need for active-system reselection is determined. - The continuous, intermittent, or periodic monitoring by the intelligent controller, of the progress towards a target P value following an immediate-control input or scheduled setpoint change allows the intelligent controller to achieve a desired balance between energy efficiency and response time. In additional implementations, other considerations may be factored into the selection of one or more subsystems for activation in order to achieve a specified value of an environmental parameter. In certain cases, more complex considerations may be made by an intelligent controller in order to achieve specified values for multiple parameters under various different constraints.
- It should be noted that the intelligent controller computes response-time values and stores the computed remaining-response-time values in at least one memory during response-monitoring. The intelligent controller also stores selections of one or more systems for activation in memory in order to subsequently generate control signals.
-
FIG. 29F provides a control-flow diagram for the routine “reset Plow” called instep 2826 ofFIG. 28 . This routine executes an incremental process for lowering the energy and cost as described above with reference toFIGS. 25-27 . Instep 2970, physical quantities measured by sensors, data provided by a smart meter, and operation of systems controlled by an intelligent controller are tracked, correlated, and recorded in internal memory of the intelligent controller. When sufficient data has been collected and recorded by the intelligent controller, as determined instep 2972, control flows to step 2974, otherwise, control flows back tostep 2970. Instep 2974, data points corresponding to internal controlled environment rates ΔP/Δt with respect to values of P external to the controlled environment are used to determine a response curve that represents the rates at which the systems change the internal P value of the controlled environment with respect to the current value of P external to the controlled environment as described above with reference toFIG. 25B . Instep 2976, iteration index n is initialized to “1,” and the energy E0 consumed to maintain a value Plow over the maintenance interval and transition to a higher value Ptarget is determined from data sent from the smart meter to the intelligent controller. The maintenance interval may be a period of time in a control schedule where Plow is constant, as described above with reference toFIG. 25 . For example, the control schedule can be a temperature control schedule and the maintenance interval in the control schedule is an extended period of time in which Plow is a low temperature value in the schedule that corresponds to when the occupants of the controlled environment are not present or are sleeping. Instep 2978, the P value over the maintenance interval is incrementally increased by nδP to Pn. Instep 2980, the intelligent controller receives a current external controlled environmental value P0 from the Internet and may also receive forcasted external controlled environmental P values for the duration of the maintenance interval. Instep 2982, the response curve determined instep 2974 is used to calculate the rate ΔP0/Δt for the value P0 and calculates the rates for the forecasted external environmental values at different times in the maintenance interval. Instep 2984, the controller maintains the value Pn of the internal controlled environment by activating systems in accordance with the calculated rates fromstep 2982. Instep 2986, the routine “select system combination” described above with reference toFIG. 29C is called to consider possible combinations of one or more systems in order to select a best combination for activation by the intelligent controller in order to achieve a specified ΔP P-value change from Pn to Ptarget as a result of a scheduled setpoint change. Inblock 2988, the energy En used to maintain Pn and transition to Ptarget is determined from the smart meter data and stored at the intelligent controller. Next, the energy En is compared with the energy from the previous iteration, En−1, instep 2990 to determine if the energy is decreasing as the value of P is increased from Pn−1 to Pn. Instep 2990, when the difference En−En−1 is less than zero, control flows to thestep 2992, otherwise control flows to step 2994. Instep 2992, the iteration index n is incremented. When the difference En−En−1 is determined instep 2990 to be greater than or equal to zero, the approximate minimum energy has been exceeded, so instep 2994, the approximate minimum energy is assumed to be approximately En−1 and the value Plow for the maintenance interval is assigned the value Pn−δP and is returned. Instep 2996, the intelligent controller waits until the same maintenance interval in the control schedule is repeated, such as the next day, and the operations of steps 2978-2990 are repeated. - It should be noted that methods for resetting Plow conserve energy consumption and cost is not limited to minimizing energy consumption. Alternatively, minimization can be based on minimizing the total cost or a ratio of costs. For example, if the controlled entity is composed of two systems, the cost is given by
-
costn =a×(time during whichsystem 1 is operational)+b×(time during whichsystem 2 is operational)+(a+b)×(time during which both systems are operational) - where n is the incremental index, a is the cost of
operating system 1 expressed in units of money per time, and b is the cost ofoperating system 2 expressed in units of money per time. - The response-monitoring techniques discussed with reference to
FIGS. 22-29F find particular application in intelligent thermostats, one class of intelligent controllers. Many residential and commercial controlled environments employ heat pumps for heating and cooling. Heat pumps are efficient at higher temperatures but lose their efficiency as the outside temperature falls. For this reason, many residential and commercial controlled environments include some type of auxiliary heating system, in addition to the heat pump, to allow for reasonable response times at temperatures below those for which heat pumps efficiently heat a controlled environment. However, in general, the auxiliary heating systems tend to be less energy efficient than heat pumps, more costly to operate than heat pumps, or, commonly, both less energy efficient and more costly, often by a factor of between 3 and 5. Thus, using the above-discussed response-type monitoring techniques, an intelligent thermostat can attempt to dynamically strike an acceptable balance between activating only a heat pump, in order to conserve energy, and activating the auxiliary heating system instead of, or concurrently with, the heat pump in order to achieve acceptable response times. - Important issues arise at the interface between (i) energy-saving technologies that might be achievable using known sensing and processing methods, and (ii) the actual widespread user adoption of devices that implement such energy-saving technologies and the integration of those devices into their daily routines and environment. The user interface for an energy-saving device generally needs to provide, to users, an easy, enjoyable, and pleasant experience, or else the user may disregard the energy-saving features of the device, such as by avoiding interaction with advanced energy-saving features, de-activating the advanced features by, for example, setting a thermostat to a temporary manual-override mode on a permanent basis, or even exchanging the device for an older-technology device with a less complicated user interface. Certain of the above described intelligent-controller interfaces, including the auto-component-activation-level-selection interface shown in
FIG. 18 , contribute to providing an intelligent, multi-sensing, network-connected, energy-saving device for adoption into the home in an easy, pleasant, seamless, and user-friendly manner. An intelligent-thermostat implementation, discussed below, incorporates many features that contribute to providing an intelligent, multi-sensing, network-connected, energy-saving device for adoption into the home in an easy, pleasant, seamless, and user-friendly manner. -
FIGS. 30A-38 illustrate an implementation of an intelligent thermostat. Following a discussion of these figures, provided below, application of the above-discussed intelligent-controller monitoring-and-adjustment techniques in an intelligent thermostat implementation is discussed, with reference toFIGS. 39-46 . -
FIG. 30A illustrates a perspective view of an intelligent thermostat. Theintelligent thermostat 3000 has a sleek, elegant appearance. Theintelligent thermostat 3000 comprises a circularmain body 3008 with a diameter of about 8 cm and that has a visually pleasing outer finish, such as a satin nickel or chrome finish. A cap-like structure comprising a rotatableouter ring 3006, asensor ring 3004, and acircular display monitor 3002 is separated from themain body 3008 by a smallperipheral gap 3010. Theouter ring 3006 may have an outer finish identical to that of themain body 3008, while thesensor ring 3004 andcircular display monitor 3002 may have a common circular glass (or plastic) outer covering that is gently arced in an outward direction and that provides a sleek yet solid and durable-looking overall appearance. Thesensor ring 3004 contains any of a wide variety of sensors, including infrared sensors, visible-light sensors, and acoustic sensors. The glass or plastic that covers thesensor ring 3004 may be smoked or mirrored such that the sensors themselves are not visible to the user. An air venting functionality may be provided, via theperipheral gap 3010, which allows the ambient air to be sensed by the internal sensors without the need for gills or grill-like vents. -
FIGS. 30B-30C illustrate the intelligent thermostat being controlled by a user. Theintelligent thermostat 3000 is controlled by two types of user input: (1) a rotation of the outer ring 3006 (FIG. 30B ); and (2) an inward push on the outer ring 3006 (FIG. 30C ) until an audible and/or tactile “click” occurs. The inward push may cause theouter ring 3006 to move forward, while in another implementation, the entire cap-like structure, including both theouter ring 3006 and the glass covering of thesensor ring 3004 andcircular display monitor 3002, move inwardly together when pushed. Thesensor ring 3004, thecircular display monitor 3002, and the common glass covering do not rotate withouter ring 3006 in one implementation. - By rotation of the
outer ring 3006, or ring rotation, and inward pushing of theouter ring 3006, or inward click, theintelligent thermostat 3000 can receive all necessary information from the user for basic setup and operation. Theouter ring 3006 is mechanically mounted in a manner that provides a smooth yet viscous feel to the user, for further promoting an overall feeling of elegance while also reducing spurious or unwanted rotational inputs. Theintelligent thermostat 3000 recognizes three fundamental user inputs: (1) ring rotate left, (2) ring rotate right, and (3) inward click. In other implementations, more complex fundamental user inputs can be recognized, such as double-click or triple-click inward presses and speed-sensitive or acceleration-sensitive rotational inputs. -
FIG. 31 illustrates an exploded perspective view of the intelligent thermostat and an HVAC-coupling wall dock. The HVAC-coupling wall dock 3106 has the functionality as a very simple, elemental, standalone thermostat when theintelligent thermostat 3000 is removed, the elemental thermostat including a standard temperature readout/setting dial 3108 and a simple COOL-OFF-HEAT switch 3109. This can prove useful for a variety of situations, such as when theintelligent thermostat 3000 needs to be removed for service or repair for an extended period of time. In one implementation, theelemental thermostat components intelligent thermostat 3000 can be provided, such as elemental network access to allow remote control that provides a brain-stem functionality while the intelligent thermostat is temporarily removed. -
FIGS. 32A-32B illustrate exploded front and rear perspective views of the intelligent thermostat.FIGS. 32A-32B show theintelligent thermostat 3202 with respect to its two main components: (1) thehead unit 3204; and (2) theback plate 3206. In the drawings shown, the z direction is outward from the wall, the y direction is the head-to-toe direction relative to a walk-up user, and the x direction is the user's left-to-right direction. -
FIGS. 33A-33B illustrate exploded front and rear perspective views, respectively, of the head unit.Head unit 3104 includes ahead unit frame 3210, theouter ring 3211, a head unitfrontal assembly 3212, afront lens 3213, and afront grille 3214. Electrical components on the head unitfrontal assembly 3212 can connect to electrical components on thebackplate 3206 via ribbon cables and/or other plug type electrical connectors. -
FIGS. 34A-34B illustrate exploded front and rear perspective views, respectively, of the head unit frontal assembly. Head unitfrontal assembly 3212 comprises a headunit circuit board 3216, a headunit front plate 3218, and anLCD module 3242. The components of the front side of headunit circuit board 3216 are hidden behind an RF shield inFIG. 34A . A rechargeable Lithium-Ion battery 3225 is located on the back of the headunit circuit board 3216, which, in one implementation, has a nominal voltage of 3.7 volts and a nominal capacity of 560 mAh. To extend battery life, the battery 3225 is normally not charged beyond 450 mAh by the thermostat battery charging circuitry. Moreover, although the battery 3225 is rated to be capable of being charged to 4.2 volts, the intelligent thermostat battery-charging circuitry normally does not charge the intelligent thermostat beyond 3.95 volts. Also shown inFIG. 34B is an opticalfinger navigation module 3224 that is configured and positioned to sense rotation of theouter ring 3211. Themodule 3224 uses methods analogous to the operation of optical computer mice to sense the movement of a texturable surface on a facing periphery of theouter ring 3211. Notably, themodule 3224 is one of the very few sensors that are controlled by the relatively power-intensive head unit microprocessor rather than the relatively low-power backplate microprocessor. This is achievable without excessive power drain because the head unit microprocessor is already awake when a user is manually turning the dial, avoiding excessive wake-up power drain. Advantageously, very fast response can also be provided by the head unit microprocessor. Also shown inFIG. 34A is aFresnel lens 3220 that operates in conjunction with a PIR motion sensor disposes thereunderneath. -
FIGS. 35A-35B illustrate exploded front and rear perspective views, respectively, of the backplate unit.Backplate unit 3206 comprises a backplaterear plate 3230, abackplate circuit board 3232, and abackplate cover 3239.FIG. 35A shows theHVAC wire connectors 3234 that include integrated wire-insertion-sensing circuitry and two relativelylarge capacitors 3236 that are used by the power stealing circuitry that is mounted on the back side of thebackplate circuit board 3232. -
FIG. 36 shows a perspective view of a partially assembled head unit. In certain implementations, placement ofgrille member 3214 over theFresnel lens 3220 and an associated PIR motion sensor 324 conceals and protects these PIR sensing elements, while horizontal slots in thegrille member 3214 allow the PIR motion sensing hardware, despite being concealed, to detect the lateral motion of occupants in a room or area. Atemperature sensor 3240 uses a pair of thermal sensors to more accurately measure ambient temperature. A first or upperthermal sensor 3241 associated withtemperature sensor 3240 gathers temperature data closer to the area outside or on the exterior of the thermostat while a second or lowerthermal sensor 3242 collects temperature data more closely associated with the interior of the housing. In one implementation, each of thetemperature sensors PIR motion sensor 3244 comprises PerkinElmer DigiPyro PYD 1998 dual-element pyrodetector. - To more accurately determine the ambient temperature, the temperature taken from the lower
thermal sensor 3242 is considered in conjunction with the temperatures measured by the upperthermal sensor 3241 and when determining the effective ambient temperature. This configuration can be used to compensate for the effects of internal heat produced in the thermostat by the microprocessor(s) and/or other electronic components, obviating or minimizing temperature measurement errors that might otherwise be suffered. In some implementations, the accuracy of the ambient temperature measurement may be further enhanced by thermally coupling upperthermal sensor 3241 oftemperature sensor 3240 togrille member 3214 as the upperthermal sensor 3241 better reflects the ambient temperature than lowerthermal sensor 3242. -
FIG. 37 illustrates the head unit circuit board. The headunit circuit board 3216 comprises a head unit microprocessor 3702 (such as a Texas Instruments AM3703 chip) and an associatedoscillator 3704, along withDDR SDRAM memory 3706, andmass NAND storage 3708. A Wi-Fi module 3710, such as a Murata Wireless Solutions LBWA19XSLZ module, which is based on the Texas Instruments WL1270 chipset supporting the 802.11 b/g/n WLAN standard, is provided in a separate compartment of RF shielding 3734 for Wi-Fi capability. Wi-Fi module 3710 is associated with supportingcircuitry 3712 including anoscillator 3714. AZigBee module 3716, which can be, for example, a C2530F256 module from Texas Instruments, is provided, also in a separately shielded RF compartment, for ZigBee capability. TheZigBee module 3716 is associated with supportingcircuitry 3718, including anoscillator 3719 and a low-noise amplifier 3720. Display backlightvoltage conversion circuitry 3722,piezoelectric driving circuitry 3724, andpower management circuitry 3726 are additionally provided. A proximity sensor and an ambient light sensor (PROX/ALS), more particularly a Silicon Labs SI1142 Proximity/Ambient Light Sensor with an I2C Interface, is provided on aflex circuit 3728 that attaches to the back of the head unit circuit board by aflex circuit connector 3730. Battery-charging-supervision-disconnect circuitry 3732 and spring/RF antennas 3736 are additionally provided. Atemperature sensor 3738 and aPIR motion sensor 3740 are additionally provided. -
FIG. 38 illustrates a rear view of the backplate circuit board. Thebackplate circuit board 3232 comprises a backplate processor/microcontroller 3802, such as a Texas Instruments MSP430F System-on-Chip Microcontroller that includes an on-board memory 3803. Thebackplate circuit board 3232 further comprises power-supply circuitry 3804, which includes power-stealing circuitry, andswitch circuitry 3806 for each HVAC respective HVAC function. For each such function, theswitch circuitry 3806 includes anisolation transformer 3808 and a back-to-back NFET package 3810. The use of FETs in the switching circuitry allows for active power stealing, i.e., taking power during the HVAC ON cycle, by briefly diverting power from the HVAC relay circuit to the reservoir capacitors for a very small interval, such as 100 micro-seconds. This time is small enough not to trip the HVAC relay into the OFF state but is sufficient to charge up the reservoir capacitors. The use of FETs allows for this fast switching time (100 micro-seconds), which would be difficult to achieve using relays (which stay on for tens of milliseconds). Also, such relays would readily degrade with fast switching, and they would also make audible noise. In contrast, the FETS operate with essentially no audible noise. A combined temperature/humidity sensor module 3812, such as a Sensirion SHT21 module, is additionally provided. Thebackplate microcontroller 3802 performs polling of the various sensors, sensing for mechanical wire insertion at installation, alerting the head unit regarding current vs. setpoint temperature conditions and actuating the switches accordingly, and other functions such as looking for appropriate signal on the inserted wire at installation. - Next, various problem domains and application of the above discussed intelligent-controller monitoring and adjustment methods to those problem domains, in the context of an intelligent thermostat, are discussed. At the onset, it should be noted that control strategies, in these examples, are chosen by an intelligent thermostat to achieve a change in temperature corresponding to a setpoint change within a maximum response time in as energy efficient, least costly, or, commonly, both energy efficient and least costly manner as possible. In general, when the cost of operating a heat pump is a, where a is expressed in units of money per time or energy-usage per time, and when the cost of operating an AUX is b, where b is expressed in units of money per time or energy-usage per time, then the cost of carrying out a setpoint change is:
-
cost=a×(time during which heat pump is operational)+b×(time during which AUX is operational)+(a+b)×(time during which both heat pump and AUX are operational) - When the ratio a/b is low, or, in other words, when it is substantially less costly to operate the heat pump than the AUX, then it may often be the case that the total time of heat pump and/or AUX operation for a cost effective control strategy is greater than the total time of heat pump and/or AUX operation for a less cost effective control strategy. For example, when a/b is ¼, a first control strategy that operates the heat pump alone for 120 minutes has a cost significantly less than a second control strategy that operates the heat pump alone for 60 minutes and the heat pump and AUX together for 30 minutes:
-
- Thus, it may be less costly to employ a control strategy that takes longer to carry out a setpoint change, and an intelligent controller can make a determination as to the relative cost efficiency of control strategies knowing only the ratios of costs of operation, even when the absolute costs of operation are unavailable.
-
FIGS. 39A-B illustrate a problem domain related to intelligent-thermostat control of heat pumps and how the above discussed intelligent-controller monitoring and adjustment methods are applied to that problem domain in one intelligent-thermostat implementation.FIG. 39A shows aplot 3902 of afirst setpoint change 3904 within a control schedule, using illustration conventions used previously inFIGS. 13A , 14A-G, and 20. In certain cases, when the outside temperate falls below PlowLockout for a heat pump, referred to as the “compressor lockout,” a thermostat might immediately invoke the auxiliary heating unit (“AUX”), atdecision point 3906, generatingresponse 3908 which carries out the setpoint change within apredetermined response time 3910. In this example, and following examples, the heat pump represents a first system, often referred to as the “compressor,” and the AUX represents a second system. The PhighLockout for the AUX is often referred to as “AUX lockout.” As a result of the initially deploying the AUX, the response time includes an initial period ofAUX heating 3914 followed byspare time 3916 during which maintenance heating occurs. This spare time was available for carrying out the setpoint change, but is unused, resulting is use of costly AUX heating for the entire setpoint change. The period of time forcostly operation 3918 is shown labeled b, using the cost notation discussed above.FIG. 39A also shows aplot 3920 of a second setpoint change within a control schedule. In this case, the AUX is not initially used, in theinitial determination 3922, and a shallow-sloped initial response results 3924. However, after a period of time, when progress towards the setpoint temperature is determined to be inadequate, the thermostat switches to AUX heating, resulting in a steep,final response 3926. In this case, the response time includes an initial heat-pump interval 3928, anAUX interval 3930, and a spare-time interval 3932. Again, the spare time interval represents time that was available for slower, more energy-efficient heating. Thecosts plot 3902. -
FIG. 39B shows aplot 3940 of a third setpoint change within a control schedule. In this example, the intelligent-controller monitoring and adjustment methods have been incorporated into an intelligent thermostat. In this case, the intelligent thermostat carefully considers information, such as that described with reference toFIGS. 21A-D , and initially determines 3942 that the heat pump can be initially employed alone, resulting ininitial response 3944. Much later, the intelligent thermostat determines 3946 that AUX heating is needed, and deploys the AUX, resulting in a finalsteep response 3928. OF course, in many cases, the AUX may not be needed at all. However, even when needed, the intelligent controller, armed with the information discussed above with reference toFIGS. 21A-D and able to closely monitor progress towards the setpoint temperature, employs a control strategy that results in a long initial heat-pump interval 3930, a very short AUX interval, and no spare time, as in the examples shown inFIG. 39A . As discussed above, when a/b is a relative low value, well below 1, the longer response time of the control strategy shown inFIG. 39B may represent the least costly of the three strategies shown inFIGS. 39A and 39B . Particularly in cases in which use of the AUX can be avoided altogether, the above-described intelligent-controller monitoring and adjustment methods can be used to make use of the available maximum response time in order to employ control strategies that take more time, but end up costing less than control strategies that fail to employ all of the maximum response time available. -
FIG. 40 illustrates example responses for setpoint changes obtained by an intelligent controller for different auto-component-configuration levels. In these examples, either the heat pump is operated alone or the AUX is operated alone. In other cases, both the heat pump and AUX may be operated together, and therefore the costs labeled b in the figures would be replaced by a cost labeled a+b.FIG. 40 shows three setpoint diagrams 4002-4004 for responses following a setpoint with auto-component-configuration levels max savings, balance, and max comfort, respectively. A temperature change frominitial temperature 4006 tofinal temperature 4008 is specified bysetpoint change 4010. The intelligent controller initially determines 4012 to use only the heat pump, resulting inresponse 4014, since, for the max-savings auto-component-configuration level, themaximum response time 4015 and pre-heating 4016 intervals are relatively long, as a result of which the heat pump can be used, without any AUX heating, to carry out the setpoint change. Whether or not AUX heating is needed depends on the outside temperature and other factors, but the maximum response time is sufficiently long to minimize AUX usage. Thus, in the max-savings mode, the heat-pump is used in both apre-heating mode 4012 and the remainingresponse time 4018, resulting in a heat-pump-onlyoperational cost 4020. - In the case of the balance auto-component-configuration level, the intelligent controller initially determines 4022 to use only the heat pump, resulting in
response 4023, but then decides 4024 that AUX is needed, and deploys AUX to produce asteeper response curve 4025. This is necessary due toshorter max response 4026 and pre-heating 4027 intervals. The remaining response time is divided between heat-pump heating 4028 andAUX heating 4029, withoperational costs FIG. 40 are provided in the context of an outside temperature and other condition when the need for AUX heating depends on the maximum response time. In the case of the max-comfort auto-component-configuration level, the intelligent controller initially determines 4036 to use only AUX, resulting inresponse 4038, because of the much shorter max-response-time 4040 and pre-heating 4042 intervals. The remaining response time is entirelyAUX heating 4029, withoperational cost 4046. - The example setpoint diagram 4002 assumes that max-saving is achieved by only using the heat pump, and the setpoint diagram 4003 assumes that balance is achieved using AUX at the end of the response time. However, the intelligent controller may use smart meter data and cost information a and b to determine that it is actually less expensive to use a combination of heat pump and AUX to achieve max savings or that AUX may be used in pre-heating or at various times within the response time to achieve to reduce energy costs.
FIG. 41 illustrates example responses for setpoint changes obtained by an intelligent controller based on cost.FIG. 41 illustrates two setpoint diagrams 4102 and 4104 for responses following a setpoint with auto-component-configuration levels max savings and balance, respectively. A temperature change frominitial temperature 4106 tofinal temperature 4108 is specified bysetpoint change 4110. In this example, the intelligent controller initially uses the outdoor temperature, HPR curve, and costs to determine 4112 that use of AUX, resulting inresponse 4114, followed by adetermination 4116 that use the heat pump, resulting inresponse 4118, actually achieves a larger savings than if the heat pump alone is used to achieve the setpoint change. Thus, in the max-savings mode, the intelligent controller may determine that AUX can be used along with the heat-pump in both pre-heating 4121 and the remainingresponse time 4122, when the cost of usingAUX 4124 and theheat pump 4126 is lower than using the heat-pump-only formaximum response time 4128 and pre-heating. - In the case of the balance auto-component-configuration level, the intelligent controller determines 4130 to initially use only the heat pump, resulting in
response 4132, but then decides 4134 that AUX is needed to raise the temperature, resulting insteeper response 4136, and then decides 4138 to deploy the heat pump to produceresponse 4140. This is necessary due to shortermax response time 4142 and pre-heating 4144 intervals. In this example, the intelligent controller has determined to briefly use AUX near the beginning of theresponse time 4146 to lower operational costs 4148-4150. - When a/b<1, the cost associated with the setpoint strategies follow in the descending order max savings, off, balance, and max comfort, while the time to the specified temperature associated with the setpoint strategies follow in the descending order max comfort, balance, off, and max savings. These orderings may differ under different conditions, of course, but the present examples illustrate the effects of auto-component-configuration levels on responses to setpoint changes. It should be noted that an intelligent thermostat may choose more complex strategies, with multiple heat-pump and/or AUX intervals in various orders, depending on environmental conditions and other considerations.
- The above-described intelligent-controller monitoring and adjustment techniques can be extended to control-schedule adjustments, as well. One example is a night-time-temperature economization feature that adjusts a control schedule for nighttime hours so that, in the morning, at a first scheduled setpoint change, the estimated response time will not be of sufficient length to result in use of the auxiliary heating system. This feature is deployed only when access to weather forecasts or other types of weather information are available.
FIGS. 42A-B illustrate a problem domain related to intelligent-thermostat economization of a control schedule.FIG. 42A shows a plot of afirst setpoint change 4202 and asecond setpoint change 4204 separated by a lowtemperature maintenance interval 4206 within a control schedule. Themaintenance interval 4206 may correspond to a scheduled period of time in the control schedule when the occupants are away, such as when the occupants are at work during the day, or themaintenance period 4206 may correspond to a scheduled period at night when the occupants are sleeping. InFIG. 42A and subsequentFIGS. 42B-E , dashedline curve 4208 represents temperature drift which occurs after thesetpoint 4202 when the temperature is allowed to decrease to the maintenance-interval temperature. InFIG. 42A , the intelligent thermostat uses theheat pump 4210 to maintain the temperature Tlow for themaintenance interval 4206 and begins preheating atpoint 4212 using a combination of heat pump and AUX represented byresponse 4214 to reach the target temperature Ttarget. The intelligent thermostat uses the smart meter data to calculate the cost, cost0, of maintaining Tlow over themaintenance interval 4206 and theresponse 4214.FIGS. 42B-E represent the intelligent thermostat use of only the heat pump to incrementally increase the maintenance interval temperature of the control schedule to higher temperatures 4216-4219, respectively, to thesetpoint change 4204 within a maximum response time. InFIGS. 42D-E , the intelligent thermostat uses onlyheat pump heating FIGS. 42D-E the intelligent thermostat records the cost associated with maintaining the maintenance interval temperatures and transitioning the temperature to the target temperature and compares the cost with previous the cost of the previous maintenance interval temperature. When the cost no longer decreases, as inFIG. 42E , the maintenance interval temperature is reset to the maintenance interval temperature of the previous iteration. In the example ofFIGS. 42A-E , the maintenance interval temperature is reset to Tlow+3α. It should be noted that when the outside temperature is below a certain threshold, such as below heat pump lockout, the intelligent thermostat may end up using an initial heat-pump interval followed by an AUX-heating period to reach the target temperature. -
FIG. 43 illustrates steps for automated system matching that are carried out by an intelligent thermostat. It has been found particularly desirable to make thermostat setup and governance as user-friendly as possible by judiciously automating the selection of which among a variety of available energy-saving and comfort-promoting control algorithms are appropriate for the particular HVAC configuration of the home in which the thermostat is installed. Atstep 4302, the HVAC system features available for control by the thermostat are determined by virtue of at least one of (i) automated wire insertion detection, (ii) interactive user interview, (iii) automated inferences or deductions based on automated trial runs of the HVAC system at or near the time of thermostat installation, and (iv) automated inferences or deductions based on observed system behaviors or performance. Examples of such methods are described in one or more of the commonly assigned US20120130679A1, US20120203379A1, and US20130087629A1. - In relation to cooling mode operation, if it is determined that the HVAC system includes air conditioning (step 4304), as a result of a dedicated air conditioning system and/or a heat pump operating in the cooling direction, then, at
step 4306, a smart preconditioning feature for cooling mode operation is enabled. One example of a smart preconditioning feature is described in the commonly assigned U.S. Pat. No. 8,630,742. For some implementations, the smart preconditioning method is configured to: constantly learn how fast the home heats up or cools down by monitoring the recent heating and cooling history of the home, optionally incorporating external environmental information such as outside temperatures, sun heating effects, etc.; predict how long the HVAC system will need to actively heat or cool in order to reach a particular scheduled setpoint; and begin preconditioning toward the particular scheduled setpoint at just the right time such that the scheduled setpoint temperature will be reached at the scheduled setpoint time. User comfort is promoted by virtue of not reaching the scheduled setpoint temperature too late, while energy savings is promoted by virtue of not reaching the scheduled setpoint temperature too early. - In relation to heating mode operation, if it is determined that the HVAC system includes radiant heating (step 4308), then, at
step 4318, a smart radiant control feature for heating mode operation is enabled. One example of a smart radiant control feature is described in the commonly assigned U.S. Pat. No. 8,600,561. In certain implementations, the smart radiant control feature is configured to monitor radiant heating cycles on an ongoing basis, compute an estimated thermal model of the home as heated by the radiant system, and predictively control the radiant system in a manner that takes into account the thermal model of the house, the time of day, and the previous heat cycle information. The smart radiant control feature is configured to achieve comfortable maintenance band temperatures while also minimizing frequent changes in HVAC on/off states and minimizing HVAC energy consumption. Among other advantages, uncomfortable and energy-wasting target temperature overshoots are avoided. - When it is determined that the HVAC system includes a heat pump including auxiliary resistive electrical heating (i.e., so-called auxiliary or AUX heat) (step 4310), and when it is determined (step 4312) that the thermostat is network-connected (such that it can receive outside temperature information based on location data and an internet-based temperature information source) or otherwise has access to outside temperature information (such as by wired or wireless connection to an outside temperature sensor) and when it is further determined that the thermostat is in communication with a smart meter, then, at
step 4316, a smart heat pump control feature is enabled. When, atstep 4310, there is not a heat pump with AUX heat (which will most commonly be because there is a conventional gas furnace instead of a heat pump, or else because there is a heat pump in a so-called dual-fuel system that does not include AUX heat), then, atstep 4314, a smart preconditioning feature for heat mode is enabled, which can be a similar or identical opposing counterpart to the preconditioning feature for cooling mode discussed above with respect to step 4306. Similarly, when, atstep 4312, there is no network connectivity or other access to outside temperature information, then the smart heat pump control feature ofstep 4316 is not enabled and instead the smart preconditioning feature ofstep 4314 is enabled. - Although the AUX heat function allows for faster heating of the home, which can be particularly useful at lower outside temperatures at which heat pump compressors alone are of lesser efficacy, the energy costs of using AUX heat can often be two to five times as high as the energy costs of using the heat pump alone. For some embodiments, the smart heat
pump control feature 4316 is configured to monitor heat pump heating cycles on an ongoing basis, tracking how fast the home is heated (for example, in units of degrees F. per hour) by the heat pump compressor alone in view of the associated outside air temperatures. Based on computed correlations between effective heating rates and outside air temperatures, and further including a user preference setting in a range from “Max Comfort” to “Max Savings” (including a “Balanced” selection in between these end points), the smart heatpump control feature 4316 judiciously activates the AUX heating function in a manner that achieves an appropriate balance between user comfort and AUX heating costs. For some embodiments, the factors affecting the judicious invocation of AUX heat include (i) a predicted amount of time needed for the heat pump alone to achieve the current temperature setpoint, (ii) whether the current temperature setpoint resulted from an immediate user control input versus whether it was a scheduled temperature setpoint, (iii) the particular selected user preference within the “Max Comfort” to “Max Savings” range, and (iv) the costs of using the heat pump and AUX. Generally speaking, the AUX function determination will be more favorable to invoking AUX heat as the compressor-alone time estimate increases, more favorable to invoking AUX heat for immediate user control inputs versus scheduled setpoints, and more favorable to invoking AUX heat for “Max Comfort” directed preferences than for “Max Savings” directed preferences. - In some implementations, the smart heat
pump control feature 4316 further provides for automated adjustment of a so-called AUX lockout temperature, which corresponds to an outside air temperature above which the AUX heat will never be turned on, based on the monitored heat pump heating cycle information and the user preference between “Max Comfort” and “Max Savings.” Generally speaking, the AUX lockout temperatures will be lower (leading to less AUX usage) for better-performing heat pumps, and will also be lower (leading to less AUX usage) as the user preference tends toward “Max Savings”. For some embodiments in which there is network connectivity available such that overnight temperature forecasts can be provided, the smart heat pump control feature further provides for night time temperature economization in which an overnight setpoint temperature may be raised higher than a normally scheduled overnight setpoint if, based on the overnight temperature forecast, the AUX function would be required to reach a morning setpoint temperature from the normal overnight setpoint temperature when morning comes. In such situations, even though the overnight temperature inside the home is made higher it would otherwise be, the user actually saves energy and money by avoiding the use of the AUX function when morning comes. - According to some embodiments, the determinations made at one or more of
steps radiant control feature 4318 may be enabled to improve performance. Likewise, it may not be the case that the HVAC system has a heat pump with AUX functionality, but it may have a two-stage heating functionality in which the first stage (which type was likely chosen as a first stage because it was more cost-effective) tends to be very slow or “fall behind” at lower outside temperatures, and in which the second stage (which type was likely chosen as a second stage because it was less cost-effective) tends to be very time-effective in heating up the home, thus making the system act very much like a heat pump system with AUX functionality. For such cases, the smart heat pump control feature 3616 may be enabled to improve performance. -
FIGS. 44A-C illustrate an example auto-component-configuration-level-selection interface for an intelligent thermostat. InFIG. 44A , the heat pump balance feature is not check marked in a feature-selection display. A user can invoke selection, via input to the intelligent-thermostat input interface, resulting in display of a heat-pump-balance-selection, or auto-component-configuration-level-selection interface, shown inFIG. 44B . Selection of an auto-component-configuration-level then returns to the feature-selection display, with the heat-pump balance feature now checked. -
FIG. 45 shows a settings display for an intelligent thermostat. Indications are provided, in the display, for whether or not various features are activated. -
FIGS. 46A-C illustrate additional types of information that an intelligent thermostat can obtain, and provide to users or employ during control operations.FIG. 46A shows anactual plot 4600 of heat-pump data points 4602 and a best-fit ΔT/Δt versusT curve 4604 for a heat pump, referred to as a heat-pump-rate curve (“HPR”). The data points are collected, as discussed above, over time by an intelligent thermostat during heat-pump operation when AUX is not operational.FIG. 46B shows aplot 4604 of heat-pump data points and a best-fit HPR 4606, collected by an intelligent thermostat during heat-pump operation when AUX is not operational, for a heat pump that exhibitsoutlier data points 4608 near the freezing point that indicate inefficient heat-pump operation due to accumulation of precipitation, such as frost, on internal heat-pump components. Certain heat pumps include logic for detection of the accumulation of precipitation, and take remedial actions to remove the precipitation. For example, the heat-pump logic may reverse heat-pump operation, temporarily, extracting heat from a residence in order to heat the heat-pump components with accumulated precipitation and remove the precipitation, followed by again reversing operation to continue heating the residence. During this period, AUX heating may be invoked by heat-pump logic in order to prevent cooling the residence. Currently, the detection and amelioration of the accumulation of precipitation is carried out internally, within the heat pump. Because an intelligent thermostat continuously, intermittently, or periodically monitors heat-pump operation and collects ΔT/Δt versus T data, an intelligent controller is able to analyze the collected ΔT/Δt versus T data and detectoutlier data points 4608 near the freezing point, and thus determine the precipitation accumulation characteristics of the heat pump. The intelligent thermostat can often consider many more factors than the internal heat-pump precipitation-accumulation logic, and therefore far better characterize the precipitation accumulation characteristics of the heat pump. Moreover, the intelligent controller can combine this information with many additional types of information to create sophisticated control strategies for ameliorating precipitation accumulation. -
FIG. 46C illustrates anotherplot 4610 of a set of HPR heat-pump data points and a best-fit ΔT/Δt versusT curve 4612 for a heat pump. In this case, thecritical temperature 4614, discussed above with reference toFIG. 16 , at which the AT/At for the heat pump becomes negative, is nearly 50° F. This critical temperature is much higher than would be expected for a properly functioning heat pump, and is indicative of a poorly operating or essentially inoperable heat pump. Often, residents fail to notice inoperable or poorly operating heat pumps, because the AUX is generally routinely activated when the heat pump fails to heat residential environments. An intelligent thermostat that continuously, intermittently, or periodically monitors heat-pump operation and collects ΔT/Δt versus T data can easily detect such problems and report them to users, utility companies, and other entities so that the heat pump can be repaired and the residence or other controlled environment can be then heated efficiently. -
FIG. 47 provides an example configuration of the response-time monitoring methods used in one implementation of an intelligent thermostat. This figure is provided simply as an example of certain parameters used in one example implementation, but does not apply generally to all implementations. InFIG. 47 , each column 4702-4705 represents the control logic that transpires for each of four different auto-component-activation levels, including max savings, balanced, max conform, and off. Many of the parameters are derived from a ΔP/Δt versus P data, described above with reference toFIG. 16 , for the heat pump controlled by the intelligent controller. The HPR curve is, for heat pumps, a definitive system characteristic that allows for determination of the various parameters for the response-time-monitoring techniques used by one type of intelligent thermostat. InFIG. 47 , each row of the table, below the top row, describes the operational parameters for various functionalities related to response-time monitoring. For example,row 4710 discusses how the auxiliary-heating-system PhighLockout is determined for the various auto-component-activation levels. As indicated in the figure, there is a default PhighLockout that is overridden when an HPR is available, with the PhighLockout set to a temperature at which the ΔT/Δt is above a threshold value, such as 1° F./hour. Different thresholds are used for different auto-component-configuration levels.Row 4712 discusses whether night-time temperature economizing is deployed for each of the auto-component-activation levels. Night-time temperature economization refers to incrementally adjusting a control schedule for nighttime hours so that, in the morning, at a first scheduled setpoint change, the estimated response time will not be of sufficient length to result in use of the auxiliary heating system. This feature is deployed only when access to weather forecasts or other types of weather information are available, and thus is turned off when, for example, WiFi is unavailable to an intelligent thermostat which relies on WiFi to access such information. Thus, use of the HPR and response-monitoring techniques, discussed above with reference toFIGS. 20-22F , can inform the intelligent controller of potential control-schedule adjustments that can result in more economical overall environmental control.Rows Row 4714 discusses activation of the auxiliary heating unit for response times following immediate-control inputs androw 4716 shows heuristics for response times following scheduled setpoint changes. The thresholds for activating AUX are lower for immediate-control inputs than for scheduled setpoint changes, since users generally expect faster response for manually input setpoint changes. Thus, when the time-to-temperature (“t2T”) estimated for a manually input setpoint change is greater than 60 minutes in the max-savings mode, the AUX is activated, while, for scheduled setpoint changes, the threshold is twice as long, or 120 minutes.Row 4718 indicates whether a pre-heating feature is deployed by various auto-component-activation levels. Pre-heating is activation of the heat pump prior to a scheduled setpoint change. When pre-heating is deployed, it may be the case that a more efficient heat pump can be used for larger Δt changes because the total response time distributed over an initial pre-heating period prior to the scheduled setpoint change as well as a period of time following the scheduled setpoint change. Thus, assuming that the scheduled setpoint change indicates a point in time that a user desires the temperature to rise, pre-heating allows for use of the heat pump, with a shallower P-response curve, rather than employing auxiliary heating at the time corresponding to the scheduled setpoint change. - Although the present invention has been described in terms of particular examples, it is not intended that the invention be limited to these examples. Modifications within the spirit of the invention will be apparent to those skilled in the art. For example, the response-time monitoring and system-rescheduling techniques employed by intelligent controllers may be implemented in many different ways by changing any of many different design and implementation parameters, including programming language, hardware platforms, logic types, control structures, data structures, modular organization, operating systems, and other such parameters. As discussed above, many different types of information may be used by an intelligent controller to estimate response times, both initially, at the time of an immediate-control setpoint or scheduled setpoint change, prior to a scheduled setpoint change, or during the response time, when failures to make sufficient progress towards a target environmental parameter value may require selecting a new system or combination of systems to activate. Other considerations include information about the environment, information about system performance and system health, information about the controlled environment, and many additional types of information. For example, were the intelligent controller to know that the windows of a controlled environment are open and that the heating efficiency of the systems used to the controlled environment are therefore necessarily significantly less, under these circumstances, the intelligent controller may select a different system or combination of systems to activate in order to achieve a desired temperature change.
- It is appreciated that the previous description of the disclosed examples is provided to enable any person skilled in the art to make or use the present disclosure. Various modifications to these examples will be readily apparent to those skilled in the art, and the generic principles defined herein may be applied to other examples without departing from the spirit or scope of the disclosure. Thus, the present disclosure is not intended to be limited to the examples shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein.
Claims (22)
1. An intelligent controller that controls an environment, the intelligent controller comprising:
a processor;
a memory that stores a control schedule, operational characteristics of systems controlled by the intelligent controller, and information generated by a smart meter;
a current control schedule stored in the memory;
one or more sensors that sense current values of an environmental parameter;
instructions stored within the memory that, when executed by the processor, control the intelligent controller to
determine, using the operational characteristics of systems controlled by the intelligent controller stored in memory the information generated by the smart meter, a set of one or more systems to activate in order to achieve a target environmental-parameter value with approximate minimum energy use and within a maximum response time;
activate the determined set of one or more systems; and
during a response time following a scheduled setpoint change, at each of multiple points in time,
determine, using the operational characteristics of systems controlled by the intelligent controller stored in memory and the information generated by the smart meter, whether the target environmental-parameter will be obtained with approximate minimum energy use and within the maximum response time, and
when the target environmental-parameter will not be obtained within the maximum response time, select a next set of one or more systems to activate.
2. The intelligent controller of claim 1 wherein the operational characteristics of systems controlled by the intelligent controller include
ΔP/Δt versus P data;
ΔE/ΔP versus P data; and
P versus t data.
3. The intelligent controller of claim 1 wherein the intelligent controller provides an auto-component-configuration-level selection interface that receives an auto-component-configuration-level selection specifying an auto-component-configuration mode for determining the set of one or more systems to activate and determining whether the target environmental-parameter will be obtained with approximate minimum energy use and within the maximum response time.
4. The intelligent controller of claim 3 wherein, in addition to using operational characteristics and information generated by the smart meter for determining the set of one or more systems to activate and determining whether the target environmental-parameter will be obtained with approximate minimum energy use and within the maximum response time, the intelligent controller uses electronically stored information to determine the maximum response time and the approximate minimum energy use, the electronically stored information specifying environmental-parameter response information and a maximum response time for each of multiple combinations of system configurations, setpoint-change types, and selected auto-component-configuration mode.
5. The intelligent controller of claim 3 wherein, in addition to using operational characteristics and information generated by the smart meter for determining the set of one or more systems to activate and determining whether the target environmental-parameter will be obtained with approximate minimum energy use and within the maximum response time, the intelligent controller uses electronically stored information to determine whether a candidate set of systems includes compatible systems for concurrent activation.
6. The intelligent controller of claim 3 wherein, in addition to using operational characteristics and information generated by the smart meter for determining the set of one or more systems to activate and determining whether the target environmental-parameter will be obtained with approximate minimum energy use and within the maximum response time, the intelligent controller uses electronically stored information to determine whether current environmental conditions fall within a range of environmental conditions within which each system in a candidate set of systems can be activated associated with the selected auto-component-configuration mode.
7. The intelligent controller of claim 1 wherein the intelligent controller determines approximate minimum energy use by selecting a maintenance interval from the control schedule; incrementally raising the maintenance interval environmental parameter each time the maintenance interval is repeated until energy used to maintain the maintenance interval environmental parameter and transition to a subsequent target parameter no longer decreases; and changing the maintenance interval environmental parameter to the environmental parameter that achieves the approximate minimum energy use over the maintenance interval and the transition to the subsequent target environmental parameter.
8. An intelligent thermostat that controls an environment, the intelligent thermostat comprising:
a processor;
a memory that stores a control schedule, information generated by a smart meter, and operational characteristics of systems controlled by the intelligent thermostat;
a current control schedule stored in the memory;
one or more sensors that sense current temperature values;
instructions stored within the memory that, when executed by the processor, control the intelligent thermostat to
determine, using the operational characteristics of systems controlled by the intelligent thermostat stored in memory the information generated by the smart meter, a set of one or more systems to activate at a point in time near a scheduled setpoint change in order to achieve a target temperature with approximate minimum cost and within a pre-heating interval and maximum response time;
activate the determined set of one or more systems; and
and
during a response time following a scheduled setpoint change, at each of multiple points in time,
determine, using the operational characteristics of systems controlled by the intelligent thermostat and information generated by the smart meter stored in memory, whether the target temperature will be obtained with approximate minimum cost and within the pre-heating interval and maximum response time, and
when the target temperature will not be obtained within the pre-heating interval and maximum response time, select a next set of one or more systems to activate.
9. The intelligent thermostat of claim 8 wherein the operational characteristics of systems controlled by the intelligent thermostat include
ΔT/Δt versus T data;
ΔE/ΔT versus T data; and
T versus t data.
10. The intelligent thermostat of claim 8 wherein the intelligent thermostat provides an auto-component-configuration-level selection interface that receives an auto-component-configuration-level selection specifying an auto-component-configuration mode for determining the set of one or more systems to activate and determining whether the target temperature will be obtained with approximate minimum cost and within the pre-heating interval and maximum response time.
11. The intelligent thermostat of claim 10 wherein, in addition to using operational characteristics and information generated by the smart meter for determining the set of one or more systems to activate and determining whether the target temperature will be obtained with approximate minimum cost and within the pre-heating interval and maximum response time, the intelligent thermostat uses electronically stored information to determine the pre-heating interval and maximum response time with approximate minimum cost and, the electronically stored information specifying environmental-parameter response information and a pre-heating interval and maximum response time time for each of multiple combinations of system configurations, setpoint-change types, and specified auto-component-configuration mode.
12. The intelligent thermostat of claim 10 wherein, in addition to using operational characteristics and information generated by the smart meter for determining the set of one or more systems to activate and determining whether the target temperature will be obtained with approximate minimum cost and within the pre-heating interval and maximum response time, the intelligent thermostat uses electronically stored information to determine whether a candidate set of systems includes compatible systems for concurrent activation.
13. The intelligent thermostat of claim 10 wherein, in addition to using operational characteristics and information generated by the smart meter for determining the set of one or more systems to activate and determining whether the target environmental-parameter will be obtained with approximate minimum cost and within the pre-heating interval and maximum response time, the intelligent thermostat uses electronically stored information to determine whether current temperature fall within a range of temperatures within which each system in a candidate set of systems can be activated with respect to the specified auto-component-configuration mode.
14. The intelligent thermostat of claim 8 wherein the intelligent thermostat determines the set of one or more systems to activate and selects the next set of one or more systems to activate from among two or more systems that include:
a heat pump; and
an AUX heating unit.
15. The intelligent thermostat of claim 14 wherein the intelligent thermostat determines the set of one or more systems to activate and selects the next set of one or more systems to activate from among two or more systems that provide an energy-efficient strategy for controlling the heat pump and AUX to achieve the target temperature within the pre-heating interval and maximum response time, a cost-efficient strategy for controlling the heat pump and AUX to achieve the target temperature within the pre-heating interval and maximum response time, or an energy-efficient strategy and cost-efficient strategy for controlling the heat pump and AUX to achieve the target temperature within the pre-heating interval and maximum response time.
16. The intelligent thermostat of claim 8 wherein the intelligent thermostate determines approximate minimum cost by selecting a maintenance interval from the control schedule; incrementally raising the maintenance interval temperature each time the maintenance interval is repeated until cost of energy used to maintain the maintenance interval temperature and transition to a subsequent target temperature no longer decreases; and changing the maintenance interval temperature to the temperature that achieves the approximate minimum cost of energy over the maintenance interval and the transition to the subsequent target temperature.
17. A method, incorporated in an intelligent thermostat that includes a processor, a memory that stores a control schedule and operational characteristics of systems controlled by the intelligent controller, information generated by a smart meter, a current control schedule stored in the memory, and one or more temperature sensors, the method comprising:
determining, using the operational characteristics of a heat pump, an AUX controlled by the intelligent controller, and heat pump response curve stored in memory, whether to activate the heat pump only, the AUX only, or both the heat pump and the AUX, at a point in time near a scheduled setpoint change in order to achieve a target temperature with approximate minimum cost and within a pre-heating interval and maximum response time; and
during a response time following activation of the heat pump only, the AUX only, or both the heat pump and the AUX,
determining, using the operational characteristics of the heat pump and the AUX controlled by the intelligent controller stored in memory, whether the target temperature will be obtained with approximate minimum cost and within the pre-heating interval and maximum response time, and
when the target temperature will not be obtained within the pre-heating interval and the maximum response time, activating the heat pump and the AUX together or the AUX only.
18. The method of claim 17 wherein the operational characteristics of the heat pump and AUX may include:
ΔT/Δt versus T data;
ΔE/ΔT versus T data; and
T versus t data.
19. The method of claim 18 further comprising providing an auto-component-configuration-level selection interface that receives an auto-component-configuration-level selection specifying an auto-component-configuration mode for determining whether to activate the heat pump only, the AUX only, or both the heat pump and the AUX and determining whether the target temperature will be obtained with approximate minimum cost and within the pre-heating interval and the maximum response time.
20. The method of claim 18 further comprising activating the heat pump only, the AUX only, or both the heat pump and the AUX in order to obtain the target temperature in an energy-efficient manner by using as little energy as possible.
21. The method of claim 18 further comprising activating the heat pump only, the AUX only, or both the heat pump and the AUX in order to obtain the target temperature in a cost-effective manner by incurring as low a cost as possible.
22. The method of claim 21 wherein activating the heat pump only, the AUX only, or both the heat pump and the AUX in order to obtain the target temperature in a cost-effective manner by incurring as low a cost as possible further comprises selecting a maintenance interval from the control schedule; incrementally raising the maintenance interval temperature each time the maintenance interval is repeated until cost of energy used to maintain the maintenance interval temperature and transition to a subsequent target temperature no longer decreases; and changing the maintenance interval temperature to the temperature that achieves the approximate minimum cost of energy over the maintenance interval and the transition to the subsequent target temperature.
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US14/574,355 US20150167989A1 (en) | 2013-12-18 | 2014-12-17 | Intelligent environment control including use of smart meter and energy cost information in heat pump and auxiliary heating control |
Applications Claiming Priority (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US201361917527P | 2013-12-18 | 2013-12-18 | |
US14/574,355 US20150167989A1 (en) | 2013-12-18 | 2014-12-17 | Intelligent environment control including use of smart meter and energy cost information in heat pump and auxiliary heating control |
Publications (1)
Publication Number | Publication Date |
---|---|
US20150167989A1 true US20150167989A1 (en) | 2015-06-18 |
Family
ID=53367951
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US14/574,355 Abandoned US20150167989A1 (en) | 2013-12-18 | 2014-12-17 | Intelligent environment control including use of smart meter and energy cost information in heat pump and auxiliary heating control |
Country Status (1)
Country | Link |
---|---|
US (1) | US20150167989A1 (en) |
Cited By (16)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US9732536B2 (en) | 2014-06-20 | 2017-08-15 | Pentair Water Pool And Spa, Inc. | Hybrid heater |
US20180066854A1 (en) * | 2016-09-08 | 2018-03-08 | Lochinvar, Llc | Boiler Integrated Control With Non-Linear Outdoor Reset Methodology |
US20180245801A1 (en) * | 2017-02-28 | 2018-08-30 | Honeywell International Inc. | Evaluation of heating liquid pressure drops in a hydronic heating system |
US10235686B2 (en) | 2014-10-30 | 2019-03-19 | Microsoft Technology Licensing, Llc | System forecasting and improvement using mean field |
US10386862B2 (en) * | 2014-10-06 | 2019-08-20 | Fisher Controls International Llc | Cut-off transition for control valve positioners |
USD859618S1 (en) | 2017-09-15 | 2019-09-10 | Pentair Water Pool And Spa, Inc. | Heating apparatus clip |
US10451302B2 (en) * | 2016-08-29 | 2019-10-22 | Iot Cloud Technologies Inc. | Weather anticipating programmable thermostat and wireless network PTAC control |
WO2019204943A1 (en) * | 2018-04-26 | 2019-10-31 | Michael Glover | Building energy system |
WO2020093857A1 (en) * | 2018-11-08 | 2020-05-14 | 程玉明 | Distributed metering device and method based on matching coefficient |
CN111412540A (en) * | 2020-04-20 | 2020-07-14 | 广州耐奇电气科技有限公司 | Heat accumulating type electric heating interactive system monitoring terminal |
US10951433B2 (en) * | 2015-12-15 | 2021-03-16 | Pentair Water Pool And Spa, Inc. | Systems and methods for wireless monitoring and control of pool pumps based on environmental data |
US11022337B2 (en) * | 2017-11-20 | 2021-06-01 | Carrier Corporation | Air conditioning system |
US11038350B2 (en) | 2015-09-01 | 2021-06-15 | Samsung Electronics Co., Ltd. | Method and device for managing energy consumption by user ranking |
US11349339B1 (en) * | 2017-04-27 | 2022-05-31 | EMC IP Holding Company LLC | Usage-based cost structuring system and method |
CN115560381A (en) * | 2022-12-06 | 2023-01-03 | 建科环能科技有限公司 | Intelligent group control electric heating system, method and equipment based on edge calculation |
US20230038564A1 (en) * | 2016-03-23 | 2023-02-09 | Lutron Technology Company Llc | Configuring control devices operable for a load control environment |
Citations (7)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20030149539A1 (en) * | 2002-02-04 | 2003-08-07 | Kolk Richard A. | Temperature control balancing desired comfort with energy cost savings |
US20130030576A1 (en) * | 2010-04-23 | 2013-01-31 | Emerson Electric Co. | Load Reduction Based on Percentage Change in Energy Price |
US8554376B1 (en) * | 2012-09-30 | 2013-10-08 | Nest Labs, Inc | Intelligent controller for an environmental control system |
US20140067132A1 (en) * | 2012-08-30 | 2014-03-06 | Honeywell International Inc. | Hvac controller with regression model to help reduce energy consumption |
US20140365017A1 (en) * | 2013-06-05 | 2014-12-11 | Jason Hanna | Methods and systems for optimized hvac operation |
US20150134124A1 (en) * | 2012-05-15 | 2015-05-14 | Passivsystems Limited | Predictive temperature management system controller |
US20150338137A1 (en) * | 2013-01-02 | 2015-11-26 | Danfoss A/S | Method for controlling an integrated cooling and heating facility |
-
2014
- 2014-12-17 US US14/574,355 patent/US20150167989A1/en not_active Abandoned
Patent Citations (7)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20030149539A1 (en) * | 2002-02-04 | 2003-08-07 | Kolk Richard A. | Temperature control balancing desired comfort with energy cost savings |
US20130030576A1 (en) * | 2010-04-23 | 2013-01-31 | Emerson Electric Co. | Load Reduction Based on Percentage Change in Energy Price |
US20150134124A1 (en) * | 2012-05-15 | 2015-05-14 | Passivsystems Limited | Predictive temperature management system controller |
US20140067132A1 (en) * | 2012-08-30 | 2014-03-06 | Honeywell International Inc. | Hvac controller with regression model to help reduce energy consumption |
US8554376B1 (en) * | 2012-09-30 | 2013-10-08 | Nest Labs, Inc | Intelligent controller for an environmental control system |
US20150338137A1 (en) * | 2013-01-02 | 2015-11-26 | Danfoss A/S | Method for controlling an integrated cooling and heating facility |
US20140365017A1 (en) * | 2013-06-05 | 2014-12-11 | Jason Hanna | Methods and systems for optimized hvac operation |
Cited By (22)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US9732536B2 (en) | 2014-06-20 | 2017-08-15 | Pentair Water Pool And Spa, Inc. | Hybrid heater |
US11142923B2 (en) | 2014-06-20 | 2021-10-12 | Pentair Water Pool And Spa, Inc. | Hybrid heater |
US11686118B2 (en) | 2014-06-20 | 2023-06-27 | Pentair Water Pool And Spa, Inc. | Hybrid heater |
US10400466B2 (en) | 2014-06-20 | 2019-09-03 | Pentair Water Pool And Spa, Inc. | Hybrid heater |
US10386862B2 (en) * | 2014-10-06 | 2019-08-20 | Fisher Controls International Llc | Cut-off transition for control valve positioners |
US10235686B2 (en) | 2014-10-30 | 2019-03-19 | Microsoft Technology Licensing, Llc | System forecasting and improvement using mean field |
US11038350B2 (en) | 2015-09-01 | 2021-06-15 | Samsung Electronics Co., Ltd. | Method and device for managing energy consumption by user ranking |
US10951433B2 (en) * | 2015-12-15 | 2021-03-16 | Pentair Water Pool And Spa, Inc. | Systems and methods for wireless monitoring and control of pool pumps based on environmental data |
US11856051B2 (en) * | 2016-03-23 | 2023-12-26 | Lutron Technology Company Llc | Configuring control devices operable for a load control environment |
US20230038564A1 (en) * | 2016-03-23 | 2023-02-09 | Lutron Technology Company Llc | Configuring control devices operable for a load control environment |
US10451302B2 (en) * | 2016-08-29 | 2019-10-22 | Iot Cloud Technologies Inc. | Weather anticipating programmable thermostat and wireless network PTAC control |
US20180066854A1 (en) * | 2016-09-08 | 2018-03-08 | Lochinvar, Llc | Boiler Integrated Control With Non-Linear Outdoor Reset Methodology |
US10876741B2 (en) * | 2016-09-08 | 2020-12-29 | Lochinvar, Llc | Boiler integrated control with non-linear outdoor reset methodology |
US10401039B2 (en) * | 2017-02-28 | 2019-09-03 | Ademco Inc. | Evaluation of heating liquid pressure drops in a hydronic heating system |
US20180245801A1 (en) * | 2017-02-28 | 2018-08-30 | Honeywell International Inc. | Evaluation of heating liquid pressure drops in a hydronic heating system |
US11349339B1 (en) * | 2017-04-27 | 2022-05-31 | EMC IP Holding Company LLC | Usage-based cost structuring system and method |
USD859618S1 (en) | 2017-09-15 | 2019-09-10 | Pentair Water Pool And Spa, Inc. | Heating apparatus clip |
US11022337B2 (en) * | 2017-11-20 | 2021-06-01 | Carrier Corporation | Air conditioning system |
WO2019204943A1 (en) * | 2018-04-26 | 2019-10-31 | Michael Glover | Building energy system |
WO2020093857A1 (en) * | 2018-11-08 | 2020-05-14 | 程玉明 | Distributed metering device and method based on matching coefficient |
CN111412540A (en) * | 2020-04-20 | 2020-07-14 | 广州耐奇电气科技有限公司 | Heat accumulating type electric heating interactive system monitoring terminal |
CN115560381A (en) * | 2022-12-06 | 2023-01-03 | 建科环能科技有限公司 | Intelligent group control electric heating system, method and equipment based on edge calculation |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US10416627B2 (en) | HVAC control system providing user efficiency-versus-comfort settings that is adaptable for both data-connected and data-unconnected scenarios | |
US20150167989A1 (en) | Intelligent environment control including use of smart meter and energy cost information in heat pump and auxiliary heating control | |
US11359831B2 (en) | Automated presence detection and presence-related control within an intelligent controller | |
US10222277B2 (en) | Methods and systems for generating virtual smart-meter data | |
US10909153B2 (en) | Methods and systems for identification and correction of controlled system data | |
US9417637B2 (en) | Background schedule simulations in an intelligent, network-connected thermostat | |
US10241484B2 (en) | Intelligent controller providing time to target state | |
US10012407B2 (en) | Heating controls and methods for an environmental control system | |
EP3528083B1 (en) | Radiant heating controls and methods for an environmental control system | |
CA2885374C (en) | Automated presence detection and presence-related control within an intelligent controller | |
US20130144445A1 (en) | System and method for optimizing use of plug-in air conditioners and portable heaters | |
EP2901232B1 (en) | Intelligent controller for an environmental control system |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
AS | Assignment |
Owner name: GOOGLE INC., CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:MATSUOKA, YOKY;MALHOTRA, MARK RAJAN;ROGERS, MATTHEW L.;AND OTHERS;SIGNING DATES FROM 20161205 TO 20170107;REEL/FRAME:040972/0454 |
|
AS | Assignment |
Owner name: GOOGLE LLC, CALIFORNIAFree format text: CHANGE OF NAME;ASSIGNOR:GOOGLE INC.;REEL/FRAME:044129/0001Effective date: 20170929 |
|
STCB | Information on status: application discontinuation |
Free format text: ABANDONED -- FAILURE TO RESPOND TO AN OFFICE ACTION |