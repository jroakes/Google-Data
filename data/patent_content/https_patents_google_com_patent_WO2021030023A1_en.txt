WO2021030023A1 - Accessing a communication channel by multiple user devices at the same time - Google Patents
Accessing a communication channel by multiple user devices at the same time Download PDFInfo
- Publication number
- WO2021030023A1 WO2021030023A1 PCT/US2020/043186 US2020043186W WO2021030023A1 WO 2021030023 A1 WO2021030023 A1 WO 2021030023A1 US 2020043186 W US2020043186 W US 2020043186W WO 2021030023 A1 WO2021030023 A1 WO 2021030023A1
- Authority
- WO
- WIPO (PCT)
- Prior art keywords
- base station
- response message
- harq
- transmission
- user device
- Prior art date
Links
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W74/00—Wireless channel access, e.g. scheduled or random access
- H04W74/002—Transmission of channel access control information
- H04W74/004—Transmission of channel access control information in the uplink, i.e. towards network
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W74/00—Wireless channel access, e.g. scheduled or random access
- H04W74/08—Non-scheduled or contention based access, e.g. random access, ALOHA, CSMA [Carrier Sense Multiple Access]
- H04W74/0833—Non-scheduled or contention based access, e.g. random access, ALOHA, CSMA [Carrier Sense Multiple Access] using a random access procedure
- H04W74/0841—Non-scheduled or contention based access, e.g. random access, ALOHA, CSMA [Carrier Sense Multiple Access] using a random access procedure with collision treatment
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L1/00—Arrangements for detecting or preventing errors in the information received
- H04L1/12—Arrangements for detecting or preventing errors in the information received by using return channel
- H04L1/16—Arrangements for detecting or preventing errors in the information received by using return channel in which the return channel carries supervisory signals, e.g. repetition request signals
- H04L1/18—Automatic repetition systems, e.g. Van Duuren systems
- H04L1/1812—Hybrid protocols; Hybrid automatic repeat request [HARQ]
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L5/00—Arrangements affording multiple use of the transmission path
- H04L5/003—Arrangements for allocating sub-channels of the transmission path
- H04L5/0053—Allocation of signaling, i.e. of overhead other than pilot signals
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W74/00—Wireless channel access, e.g. scheduled or random access
- H04W74/08—Non-scheduled or contention based access, e.g. random access, ALOHA, CSMA [Carrier Sense Multiple Access]
- H04W74/0833—Non-scheduled or contention based access, e.g. random access, ALOHA, CSMA [Carrier Sense Multiple Access] using a random access procedure
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W72/00—Local resource management
- H04W72/20—Control channels or signalling for resource management
- H04W72/23—Control channels or signalling for resource management in the downlink direction of a wireless link, i.e. towards a terminal
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W80/00—Wireless network protocols or protocol adaptations to wireless operation
- H04W80/02—Data link layer protocols
Definitions
- This disclosure relates to wireless communications and, more particularly, to synchronizing wireless communications in a channel access procedure.
- a user device referred to as user equipment, or “UE” and a base station can use a random access channel (RACH) procedure, for example.
- RACH random access channel
- a user device sends a random access preamble to the base station (“Msgl”); (2) the base station sends a random access response (RAR) to the user device (“Msg2”); (3) the user device sends a scheduled transmission to the base station (“Msg3”); and (4) the base station sends a contention resolution to the user device (“Msg4”).
- Some standards recently introduced a two-step procedure which condenses steps (1) and (3) into a first step and steps (2) and (4) into a second step, such that (1) a user device sends a random access preamble and a scheduled transmission to the base station (“MsgA”); and (2) the base station sends an RAR and contention resolution to the user device (“MsgB”).
- the base station may send the MsgB in a medium access control (MAC) protocol data unit (PDU) using a hybrid automatic repeat request (HARQ) transmission scheme. If the user device receives and successfully decodes the HARQ transmission to obtain the MAC PDU, the user device transmits a HARQ acknowledgement (ACK) on a physical uplink control channel (PUCCH) to the base station to acknowledge receipt of the HARQ transmission. Otherwise, the base station retransmits the HARQ transmission until the base station receives a HARQ ACK from the user device.
- MAC medium access control
- HARQ hybrid automatic repeat request
- the base station when multiple user devices send MsgAs in the two-step RACH procedure at the same time, the base station includes different MsgBs in the MAC PDU for each of the user devices.
- the HARQ transmission of the MAC PDU is sent on the same physical downlink shared channel (PDSCH) to each of the user devices, and because each of the user devices share the PDSCH, each of the user devices transmit HARQ ACKs on the same physical uplink control channel (PUCCH). Accordingly, the base station cannot determine which of the user devices received the MAC PDU from the HARQ ACK.
- PDSCH physical downlink shared channel
- PUCCH physical uplink control channel
- the base station may not be able to determine that the other user device did not receive or successfully decode the HARQ transmission.
- the base station may not retransmit the MsgB to the other user device, and the other user device may fail to successfully complete the two-step RACH procedure.
- the techniques of this disclosure allow the base station to determine which user device transmitted a HARQ ACK to the base station in response to a HARQ transmission sent to several user devices when the user devices transmitted respective communications during a channel access procedure to the base station at the same time.
- the channel access communications are RACH transmissions from the user devices, such as MsgAs each including a random access preamble and a data payload.
- the base station transmits different MsgBs for each of the user devices.
- Each of the MsgBs include an identifier related to a particular user device, such as a contention resolution identity which may be generated from content in the MsgA sent by the corresponding user device.
- the response message(s) to the user devices may include channel resource assignments configuring channel resources for each of the user devices to transmit an acknowledgement of the response message, such as a HARQ ACK.
- the channel resource assignments are PUCCH resource assignments.
- the user device If a user device receives and successfully decodes the HARQ transmission(s) to obtain the MAC PDU, the user device transmits a HARQ ACK to the base station on the channel resource assigned to the user device according to the channel resource assignments included in the HARQ transmission(s).
- the base station generates a HARQ transmission including different MsgBs and channel resource assignments for the user devices within a MAC PDU.
- the base station sends the HARQ transmission to the user devices over a PDSCH.
- the base station transmits a downlink control information (DCI) element which includes the channel resource assignments for the user devices, and a HARQ transmission which includes the different MsgBs in the MAC PDU.
- the base station generates several response messages, where each response message is transmitted to a particular user device.
- DCI downlink control information
- the base station transmits a separate response message to each user device including a DCI element which includes the channel resource assignment for the user device and a HARQ transmission including a MAC PDU having the MsgB for the user device.
- the user device then transmits a HARQ ACK to the base station on the channel resource assigned to the user device according to the channel resource assignment included in the separate response message.
- One example embodiment of these techniques is a method in a base station for granting access to a plurality of user devices to a communication channel.
- the method includes receiving, by processing hardware at the base station, at least a first request to access the communication channel from a first user device and a second request to access the communication channel from a second user device, the first request including a first random access preamble and a first data payload and the second request including a second random access preamble and a second data payload.
- the method further includes transmitting, by the processing hardware to the at least first and second user devices on a first shared channel, a single response message including at least a first channel resource assignment configuring a first channel resource for the first user device to transmit an acknowledgement of the single response message and a second channel resource assignment configuring a second channel resource for the second user device to transmit an acknowledgement of single response message.
- Another embodiment of these techniques is a base station comprising processing hardware configured to implement the method above.
- Yet another embodiment of these techniques is a method in a first user device for requesting access to a communication channel.
- the method includes transmitting, by processing hardware at the first user device to a base station, a request to access the communication channel, the request including a random access preamble and a data payload, and receiving, by the processing hardware on a first shared channel, a single response message to the request including at least a first channel resource assignment configuring a first channel resource for the first user device to transmit an acknowledgement of the single response message and a second channel resource assignment configuring a second channel resource for a second user device to transmit an acknowledgement of the single response message.
- the method further includes attempting to decode, by the processing hardware, the single response message to identify the first channel resource assigned to the first user device.
- Still another embodiment of these techniques is a user device comprising processing hardware configured to implement the method above.
- FIG. 1 is a block diagram of an example wireless communication network in which a base station and user devices can handle channel access procedures in accordance with the techniques of this disclosure
- FIG. 2 is a messaging diagram of an example two-step RACH procedure
- Fig. 3 is a messaging diagram of an example procedure for providing resource assignments via a MAC PDU to user devices for transmitting acknowledgements of a response message from the base station;
- Fig. 4 is a messaging diagram of an example procedure for providing resource assignments to user devices for transmitting acknowledgements of a response message from the base station and retransmitting the response message when one of the user devices does not transmit an acknowledgement;
- Fig. 5 is a messaging diagram of an example procedure for providing resource assignments to user devices for transmitting acknowledgements of a response message from the base station and retransmitting the response message when each of the user devices does not transmit an acknowledgement;
- Fig. 6 is a messaging diagram of an example procedure for providing resource assignments to user devices for transmitting acknowledgements of a response message from the base station and transmitting a second response message when one of the user devices does not transmit an acknowledgement;
- Fig. 7 is a messaging diagram of an example procedure for providing resource assignments to user devices for transmitting acknowledgements of a response message from the base station and retransmitting the response message when one of the user devices transmits a negative acknowledgement;
- Fig. 8 is a messaging diagram of an example procedure for providing resource assignments to user devices for transmitting acknowledgements of a response message from the base station and transmitting a second response message when one of the user devices transmits a negative acknowledgement;
- Fig. 9 is a messaging diagram of an example procedure for providing resource assignments via a DCI element to user devices for transmitting acknowledgements of a response message from the base station;
- Fig. 10 illustrates an example format of a DCI element and a MAC PDU in the response message including a MsgB 1, a MsgB 2, and first and second PUCCH resource assignments;
- Fig. 11 is a messaging diagram of an example procedure for providing resource assignments via a DCI element to user devices for transmitting acknowledgements of a response message from the base station and retransmitting the response message when one of the user devices does not transmit an acknowledgement;
- Fig. 12 is a messaging diagram of an example procedure for providing resource assignments via a DCI element to user devices for transmitting acknowledgements of a response message from the base station and retransmitting the response message when each of the user devices does not transmit an acknowledgement;
- Fig. 13 is a messaging diagram of an example procedure for providing resource assignments via a DCI element to user devices for transmitting acknowledgements of a response message from the base station and transmitting a second response message when one of the user devices does not transmit an acknowledgement;
- Fig. 14 is a messaging diagram of an example procedure for providing resource assignments via a DCI element to user devices for transmitting acknowledgements of a response message from the base station and retransmitting the response message when one of the user devices transmits a negative acknowledgement;
- Fig. 15 is a messaging diagram of an example procedure for providing resource assignments via a DCI element to user devices for transmitting acknowledgements of a second response message when one of the user devices transmits a negative acknowledgement;
- Fig. 16 is a messaging diagram of an example procedure for providing resource assignments via separate response messages to user devices for transmitting acknowledgements of the response messages from the base station;
- Fig. 17 is a flow diagram of an example method for granting access to several user devices to a communication channel, which can be implemented in the base station of Fig. 1;
- Fig. 18 is a flow diagram of an example detailed method of the method of Fig. 17 for granting access to several user devices to a communication channel by providing resource assignments via a MAC PDU to user devices for transmitting acknowledgements of a response message from the base station, which can be implemented in the base station of Fig. l;
- Fig. 19 is a flow diagram of another example detailed method of the method of Fig. 17 for granting access to several user devices to a communication channel by providing resource assignments via a DCI element to user devices for transmitting acknowledgements of a response message from the base station, which can be implemented in the base station of Fig. 1;
- Fig. 20 is a flow diagram of yet another example detailed method of the method of Fig. 17 for granting access to several user devices to a communication channel by providing resource assignments via separate response messages to user devices for transmitting acknowledgements of a response message from the base station, which can be implemented in the base station of Fig. 1;
- Fig. 21 is a flow diagram of an example method for requesting access to a communication channel, which can be implemented in the user device of Fig. 1;
- Fig. 22 is a flow diagram of an example detailed method of the method of Fig. 21 for requesting access to a communication channel by transmitting an acknowledgement of a response message from the base station via a channel resource assigned to the user device via the MAC PDU, which can be implemented in the user device of Fig. 1;
- Fig. 23 is a flow diagram of another example detailed method of the method of Fig. 21 for requesting access to a communication channel by transmitting an acknowledgement of a response message from the base station via a channel resource assigned to the user device via the MAC PDU, which can be implemented in the user device of Fig. 1;
- Fig. 24 is a flow diagram of yet another example detailed method of the method of Fig. 21 for requesting access to a communication channel by transmitting an acknowledgement of a response message from the base station via a channel resource assigned to the user device via the DCI element, which can be implemented in the user device of Fig. 1; and
- Fig. 25 is a flow diagram of another example detailed method of the method of Fig. 21 for requesting access to a communication channel by transmitting an acknowledgement of a response message from the base station via a channel resource assigned to the user device via the DCI element, which can be implemented in the user device of Fig. 1, which can be implemented in the user device of Fig. 1.
- Fig. 1 depicts an example wireless communication network 100 in which devices such as base stations and user devices (also referred to user equipment, or UEs) communicate using channel access procedures.
- devices such as base stations and user devices (also referred to user equipment, or UEs) communicate using channel access procedures.
- the wireless communication network 100 in an example configuration includes multiple UEs 102, 106, which can be any suitable device capable of wireless communications (as further discussed below).
- the wireless communication network 100 further includes a 5G New Radio (NR) base station 104 connected to a core network (CN) 107 of CN type 5GC.
- the 5G NR base station 104 accordingly operates as a g Node B (gNB).
- the wireless communication network 100 can include one or more base stations that operate according to radio access technologies (RATs) of types other than NR, and these base stations can be connected to CNs of other CN types, or operated in a standalone mode without a connection to any CN. Accordingly, devices operating using any RAT can implement the techniques of this disclosure when attempting to obtain radio resources in an unlicensed spectrum.
- RATs radio access technologies
- the base station 104 covers a 5G NR cell 108 in which UEs can utilize licensed spectrum or unlicensed spectrum as well as portions of the radio spectrum allocated specifically to the service provider that operates the base station 104 and the core network 107.
- the UEs 102, 106 may share the unlicensed spectrum with other devices.
- a UE 110 can be a subscriber of the service provider that operates the base station 104 and the core network 107, and thus can communicate with the base station 104.
- the UE 110 is a subscriber of another service provider that supports the NR-U and communicates with a base station other than the base station 104 (not shown to avoid clutter).
- a user operates the base station 104 and connects the base station 104 to a data network of an Internet service provider (ISP).
- the base station 104 in this case operates similar to a WiFi access point (AP) but utilizes the NR-U instead of one of IEEE 802.11 standards to communicate with the UEs.
- an AP 112 can utilize portions of the radio spectrum as the NR-U when operating in a wireless local area network (WLAN) according to one of IEEE 802.11 standards.
- WLAN wireless local area network
- the wireless communication network 100 can include any number of base stations, and each of the base stations can cover one, two, three, or any other suitable number of cells. Additionally, the wireless communication network 100 can include any number of UEs 102, 106.
- the UE 102, 106 is equipped with processing hardware 120 that can include one or more general-purpose processors (e.g., CPUs) and a non-transitory computer-readable memory storing instructions that the one or more general-purpose processors execute. Additionally or alternatively, the processing hardware 120 can include special-purpose processing units.
- the processing hardware 120 in an example implementation includes a channel access request generator 122, a response message decoder 124, and a downlink transmission processor 126.
- the channel access request generator 122 may generate a Msg A having a random access preamble and a payload.
- the payload in the MsgA is a MAC PDU.
- the payload may include an uplink common control channel (CCCH) message having an RRC request message (e.g., an RRC Setup Request message, an RRC Resume Request message, an RRC Reestablishment Request message, or an RRC Early Data Request message).
- the payload may include an Internet Protocol (IP) packet.
- IP Internet Protocol
- the MAC PDU may include at least one of an RRC request message, a MAC control element (CE), a radio link control (RLC) PDU, a Packet Data Convergence Protocol (PDCP) PDU and a Service Data Adaptation Protocol (SDAP) PDU.
- the base station 104 may provide a response message to the MsgA including a DCI on a physical downlink control channel (PDCCH), and a MAC PDU in a physical data shared channel (PDSCH).
- the MAC PDU may be included in a HARQ transmission.
- the response message may include several MsgBs in the MAC PDU each for a particular UE of several UEs 102, 106 that provided a MsgA to the base station 104 at the same time.
- Each MsgB may include information for a particular UE 102, 106.
- the information is UE specific and may include at least one of a temporary cell-radio network temporary identifier (C-RNTI), a contention resolution identity, and a timing advanced command for a specific UE.
- the MsgB may or may not include a PDU.
- the PDU may be a packet data convergence protocol (PDCP) PDU, a radio link control (RLC) PDU, a radio resource control (RRC) PDU or an RRC message.
- the base station 104 may include several MsgBs for different UEs in the MAC PDU, where each MsgB is for a particular UE of the UEs that transmitted a MsgA to the base station 104 at the
- the response message may include PUCCH resource assignments configuring a different PUCCH resource for each UE 102, 106 to transmit a HARQ ACK in response to successfully decoding the MAC PDU in the HARQ transmission. Then the response message decoder 124 may decode the response message by obtaining the DCI.
- the downlink transmission processor 126 can receive a PDSCH transmission including the MAC PDU according to the DCI.
- the response message decoder 124 may then attempt to decode the MAC PDU to identify a MsgB having a contention resolution identity that corresponds to the particular UE 102, 106.
- the contention resolution identity may be associated with or generated from content in the payload of the MsgA sent by the particular UE 102,
- the UE 102, 106 may transmit a HARQ ACK to the base station 104 on the PUCCH resource assigned to the UE 102, 106 in the response message. If the response message decoder 124 is unable to decode the MAC PDU, the UE 102, 106 may transmit a HARQ negative acknowledgement (NACK) to the base station 104 or may not transmit anything to the base station 104.
- NACK HARQ negative acknowledgement
- the memory of the processing hardware 120 also can store an RNTI 128 of the UE 102, 106.
- the RNTI can be for example a cell RNTI (C-RNTI), a temporary C-RNTI, a random access RNTI (RA-RNTI), a system information RNTI (SI-RNTI), a paging RNTI (P- RNTI), a configured scheduling RNTI (CS-RNTI), etc.
- the UE 102, 106 can attempt to decode a PDCCH using the RNTI 128.
- the base station 104 may transmit to the UE 102,
- Processing hardware 130 of the base station 104 also can include one or more general-purpose processors such as CPUs and a non-transitory computer-readable memory storing instructions that the one or more general-purpose processors execute. Additionally or alternatively, the processing hardware 130 can include special-purpose processing units.
- the processing hardware in an example implementation includes a payload decoder 132, a DCI controller 134, a PDU controller 136, and an RNTI generator 138. In other implementations, the processing hardware 130 includes only some of the units 132-138.
- the payload decoder 132 decodes the payloads included in the MsgAs from the UEs 102, 106.
- the DCI controller 134 generates a DCI to be transmitted to the UE 102, 106 via a PDCCH.
- the DCI includes PUCCH resource assignments configuring a different PUCCH resource for each UE 102, 106 to transmit a HARQ ACK in response to successfully decoding the MAC PDU in the HARQ transmission.
- the PDU controller 136 generates a MAC PDU to be transmitted to the UEs 102, 106 via a PDSCH.
- the generated MAC PDU includes PUCCH resource assignments configuring a different PUCCH resource for each UE 102, 106 to transmit a HARQ ACK in response to successfully decoding the MAC PDU in the HARQ transmission.
- the MAC PDU may also include several MsgBs each corresponding to a different UE. Each MsgB includes a contention resolution identity corresponding to one of the UEs, so that a particular UE 102, 106 may identify the MsgB intended for the particular UE 102, 106.
- the RNTI generator 138 generates an RNTI which is used to scramble the DCI to be transmitted to the UE 102, 106 via a PDCCH.
- each of the MsgAs includes a random access preamble and a payload.
- the base station 104 then generates a response message which may include a HARQ transmission having a MAC PDU with several MsgBs each corresponding to a different one of the UEs 102, 106 that transmitted the MsgA.
- Each MsgB may include an identifier related to a particular UE, such as a contention resolution identity which may be generated from content in the MsgA sent by the corresponding UE.
- Each UE 102, 106 attempts to decode the MAC PDU included in the HARQ transmission to identify a MsgB corresponding to the particular UE 102, 106 based on the contention resolution identity of the MsgB. If the UE 102, 106 successfully decodes the MAC PDU, the UE 102, 106 may transmit a HARQ ACK to the base station 104 on the PUCCH resource assigned to the UE 102, 106 in the response message. On the other hand, if the UE 102, 106 is unable to decode the MAC PDU, the UE 102, 106 may transmit a HARQ NACK to the base station 104 or may not send a transmission to the base station 104.
- any number of UEs may transmit MsgAs to the base station 104 at the same time, and thus may receive a response message from the base station 104 including MsgBs corresponding to each of the MsgAs. Additionally, while the MsgAs may be transmitted simultaneously, the MsgAs may be transmitted on different frequencies or the same frequencies.
- the base station may transmit PUCCH resource assignments to the UEs 102, 106 via the MAC PDU.
- Fig. 3 depicts a messaging diagram of an example procedure for providing resource assignments via a MAC PDU to UEs 102, 106 for transmitting acknowledgements of a response message from the base station 104.
- UE 102 and UE 106 both initiate 302, 304 a two-step RACH procedure.
- a base station (e.g., gNB) 104 receives 306, 308 a MsgA 1 from UE 102 and a MsgA 2 from UE 106.
- the base station 104 generates a MsgB 1 to respond to the MsgA 1 and generates a MsgB 2 to respond to the MsgA 2.
- the base station 104 generates a first PUCCH resource assignment and includes the first PUCCH resource assignment in the MsgB 1.
- the base station 104 generates a second PUCCH resource assignment different from the first PUCCH resource assignment, and includes the second PUCCH resource assignment in the MsgB 2.
- the first PUCCH resource assignment configures a first PUCCH resource and the second resource assignment configures a second PUCCH resource.
- the first PUCCH resource and the second PUCCH resource may be different or may not overlap.
- the first and second PUCCH resources can be on different OFDM symbols, different slots, different subcarriers or different physical resource blocks.
- the OFDM can be a Discrete Fourier Transform-Spread (DFT-S-OFDM) or a cyclic -prefix (CP) OFDM.
- the base station 104 includes the MsgB 1 and the MsgB 2 in a first MAC PDU.
- the base station 104 transmits 310 a first HARQ transmission of the first MAC PDU on a first PDSCH.
- the UE 102 and the UE 106 perform PDCCH monitoring to receive the first PDSCH. If the UE 102 receives the first MAC PDU on the first PDSCH, the UE 102 identifies the first PUCCH resource assignment from the MsgB 1 in the first MAC PDU. The UE 102 transmits 320 a first HARQ ACK according to the first PUCCH resource assignment.
- the base station 104 determines the UE 102 received the MsgB E If the UE 102 does not receive the first MAC PDU on the first PDSCH, the UE 102 does not transmit the first HARQ ACK on the first PUCCH resource. In this case, the base station 104 does not receive the first HARQ ACK. The base station 104 determines the UE 102 does not receive the MsgB 1 due to not receiving a HARQ ACK on the first PUCCH resource.
- the UE 106 identifies the second PUCCH resource assignment from the MsgB 2 in the first MAC PDU.
- the UE 106 transmits 322 a second HARQ ACK according to the second PUCCH resource assignment. If the base station 104 receives the second HARQ ACK on the second PUCCH resource, the base station 104 determines the UE 106 received the MsgB 2. If the UE 106 does not receive the first MAC PDU on the first PDSCH, the UE 106 does not transmit the second HARQ ACK on the second PUCCH resource. In this case, the base station 104 does not receive the second HARQ ACK. The base station 104 determines the UE 106 does not receive the MsgB 2 due to not receiving a HARQ ACK on the second PUCCH resource.
- the base station 104 can determine whether the UE 102 received the MsgB 1 according to whether a HARQ ACK is received from the UE 102 on the first PUCCH resource.
- the base station 104 can determine whether the UE 106 received the MsgB 2 according to whether a HARQ ACK is received from the UE 106 on the second PUCCH resource.
- the base station 104 transmits the first MAC PDU using a HARQ transmission scheme. For example, the base station 104 generates a first HARQ transmission of the first MAC PDU and transmits the first HARQ transmission on the first PDSCH to the UE 102 and UE 106. The UE 102 receives the first HARQ transmission and attempts to decode 312 the first HARQ transmission to obtain the first MAC PDU.
- the UE 102 If the UE 102 successfully decodes 314 the first HARQ transmission to obtain the first MAC PDU and identifies the MsgB 1, the UE 102 transmits the first HARQ ACK 320 on the first PUCCH resource included in the MsgB 1 to the base station 104 to acknowledge reception of the first MAC PDU or the MsgB 1.
- the UE 102 may identify the MsgB 1 according to a contention resolution identity in the MsgB 1.
- the contention resolution identity may be associated with/generated from content in a payload of the MsgA 1.
- the UE 102 identifies the contention resolution identity in the MsgB 1 is generated from the content in the payload of the MsgA 1, the UE 102 identifies the MsgB 1 as a Msg B intended for the UE 102.
- the UE 106 receives the first HARQ transmission and attempts to decode 316 the first HARQ transmission to obtain the first MAC PDU. If the UE 106 successfully decodes 318 the first HARQ transmission to obtain the first MAC PDU and identifies the MsgB 2, the UE 106 transmits 322 the second HARQ ACK on the second PUCCH resource included in the MsgB 2 to the base station 104 to acknowledge reception of the first MAC PDU or the MsgB 2. The UE 106 may identify the MsgB 2 according to a contention resolution identity in the MsgB 2. The contention resolution identity may be associated with/generated from content in a payload of the MsgA 2.
- the base station 104 stops transmitting 324 the MAC PDU.
- the UE 102 and the UE 106 may transmit HARQ ACKs at the same time (e.g., with different spatial assignments). In other implementations, the UE 102 and the UE 106 may transmit the HARQ ACKs at different time slots or different OFDM symbols.
- Figs. 4 and 5 illustrate example scenarios where one or both of the UEs 102, 106 do not successfully decode the MAC PDU. More specifically, Fig. 4 depicts a messaging diagram of an example procedure for providing resource assignments to UEs for transmitting acknowledgements of a response message from the base station 104 and retransmitting the response message when one of the UEs does not transmit an acknowledgement. While many of the steps in the messaging diagram of Fig. 4 are similar to the steps in the messaging diagram of Fig. 3, the differences are described in more detail below.
- the UE 102 either fails 414 to decode the first HARQ transmission or does not receive the first HARQ transmission and accordingly, does not transmit the first HARQ ACK to the base station 104.
- the base station 104 does not receive 422 the first HARQ ACK on the first PUCCH resource, and in some implementations may generate a second HARQ transmission of the first MAC PDU and transmit 424 the second HARQ transmission on a second PDSCH to the UE 102.
- the UE 106 may not receive the second PDSCH, or the UE 106 may receive the second PDSCH and may not process 430 the second HARQ transmission. Alternatively, if the UE 106 receives the second PDSCH and obtains the first MAC PDU from the second HARQ transmission, the UE 106 still transmits a HARQ ACK on the second PUCCH resource to the base station 104. If the UE 102 receives the first HARQ transmission and the second HARQ transmission, the UE 102 may combine the first HARQ transmission and the second HARQ transmission together and decode the combination of the first HARQ transmission and the second HARQ transmission.
- the UE 102 If the UE 102 obtains the first MAC PDU from successfully decoding the combination, the UE 102 identifies the MsgB 1 from the first MAC PDU by using the contention resolution identity of the UE 102. Then the UE 102 transmits 428 a third HARQ ACK on the first PUCCH resource indicated in the MsgB 1 to the base station 104.
- the UE 102 If the UE 102 does not receive the first HARQ transmission and receives the second HARQ transmission, the UE 102 decodes the second HARQ transmission. If the UE 102 successfully decodes 426 the second HARQ transmission to obtain the first MAC PDU, the UE 102 identifies the MsgB 1 from the first MAC PDU according to the contention resolution identity of the UE 102.
- the UE 102 does not obtain the first MAC PDU from the second HARQ transmission or does not receive the second HARQ transmission, the UE 102 does not transmit HARQ feedback (e.g., neither a HARQ ACK nor a HARQ NACK) since the UE 102 has no PUCCH resource assigned to transmit the HARQ feedback. Since the base station 104 does not receive a HARQ ACK from the UE 102, the base station 104 in some implementations may generate a third HARQ transmission of the first MAC PDU and transmits the third HARQ transmission on a third PDSCH to the UE 102.
- HARQ feedback e.g., neither a HARQ ACK nor a HARQ NACK
- Fig. 5 depicts a messaging diagram of an example procedure for providing resource assignments to UEs for transmitting acknowledgements of a response message from the base station 104 and retransmitting the response message when each of the UEs does not transmit an acknowledgement. While many of the steps in the messaging diagram of Fig. 5 are similar to the steps in the messaging diagram of Fig. 3, differences are described in more detail below.
- the UE 102 either fails 514 to decode the first HARQ transmission or does not receive the first HARQ transmission and accordingly, does not transmit the first HARQ ACK to the base station 104.
- the UE 106 either fails 518 to decode the first HARQ transmission or does not receive the first HARQ transmission and accordingly, does not transmit the second HARQ ACK to the base station 104.
- the base station 104 does not receive 520 the first HARQ ACK on the first PUCCH resource and also does not receive the second HARQ ACK on the second PUCCH resource, and in some implementations may generate a second HARQ transmission of the first MAC PDU and transmit 522 the second HARQ transmission on a second PDSCH to the UE 102 and the UE 106.
- the UE 102 If the UE 102 does not receive the first HARQ transmission and receives the second HARQ transmission, the UE 102 decodes the second HARQ transmission. If the UE 102 successfully decodes 524 the second HARQ transmission to obtain the first MAC PDU, the UE 102 identifies the MsgB 1 from the first MAC PDU according to the contention resolution identity of the UE 102. Then the UE 102 transmits 526 a third HARQ ACK on the first PUCCH resource indicated in the MsgB 1 to the base station 104.
- the UE 106 decodes the second HARQ transmission. If the UE 106 successfully decodes 528 the second HARQ transmission to obtain the first MAC PDU, the UE 106 identifies the MsgB 2 from the first MAC PDU according to the contention resolution identity of the UE 106. Then the UE 106 transmits 530 a fourth HARQ ACK on the second PUCCH resource indicated in the MsgB 2 to the base station 104. In response to receiving a HARQ ACK from each of the UEs 102, 106, the base station 104 stops transmitting 532 the MAC PDU.
- the base station 104 may generate a third HARQ transmission of the first MAC PDU and transmit the third HARQ transmission on a third PDSCH to the UE 102 and/or the UE 106.
- the UE 102 and/or the UE 106 may receive and process the third HARQ transmission on the third PDSCH in a similar manner as described above with reference to the first and second HARQ transmissions on the first and second PDSCH.
- the base station 104 uses the same RV or different RVs for the first HARQ transmission, the second HARQ transmission and the third HARQ transmission.
- the base station 104 may transmit a first DCI element and a first scramble cyclic redundancy check (CRC) on a first PDCCH for the first PDSCH.
- the first scrambled CRC is a first CRC scrambled by a radio network temporary identifier (RNTI).
- the UE 102 and UE 106 monitor the first PDCCH to receive the first DCI and the scrambled CRC. If the UE 102 and/or the UE 106 receive the first DCI element and the first scrambled CRC, the UE 102 and/or the UE 106 verify the scrambled CRC with the RNTI. If the UE 102 and/or the UE 106, in one implementation, correctly verify the first scrambled CRC, the UE 102 and/or the UE 106 receive and process the first PDSCH based on the information in the first DCI element.
- RNTI radio network temporary identifier
- the UE 102 and/or the UE 106 receive the first PDSCH irrespective of a correct or incorrect verification of the first scrambled CRC. If the UE 102 and/or the UE 106 incorrectly verify the first scrambled CRC, the UE 102 and/or the UE 106 may not process the first PDSCH or may not receive the first PDSCH.
- the base station 104 may transmit a second DCI element with a second CRC scrambled by the RNTI on a second PDCCH for the second PDSCH.
- the second scrambled CRC may be a second CRC scrambled by the RNTI.
- the base station 104 may also transmit a third DCI element with a third CRC scrambled by the RNTI on a third PDCCH for the third PDSCH.
- the third scrambled CRC may be a third CRC scrambled by the RNTI.
- the UE 102 and/or the UE 106 may not receive the second PDCCH, may receive the second PDCCH and may not process the second scrambled CRC, may ignore the second DCI element, or may ignore the second HARQ transmission. Consequently, the UE 102 and/or the UE 106 may not receive the second PDSCH, or may receive the second PDSCH and may not process the second HARQ transmission.
- the UE 102 and/or the UE 106 may not receive the third PDCCH, may receive the third PDCCH and may not process the third scrambled CRC, or may ignore the third DCI element. Consequently, the UE 102 and/or the UE 106 may not receive the third PDSCH, or may receive the third PDSCH and may not process the third HARQ transmission.
- the base station 104 retransmits the same MAC PDU in a second or subsequent HARQ transmissions in response to not receiving a HARQ ACK from at least one of the UEs 102, 106.
- the base station 104 generates different MAC PDUs in second or subsequent HARQ transmissions which only include the MsgBs which were not received by the corresponding UEs in previous HARQ transmissions.
- the base station 104 may transmit a first HARQ transmission with a first MAC PDU including a MsgB 1, a MsgB 2, and a MsgB 3 intended for a UE 1, a UE 2, and a UE 3 respectively. If the UE 102 and UE 106 do not transmit HARQ ACKs to the base station 104, the base station 104 may transmit a second HARQ transmission with a second MAC PDU including the MsgB 1 and the MsgB 2 and not including the MsgB 3.
- the base station 104 may transmit a third HARQ transmission with a third MAC PDU including the MsgB 1 and not including the MsgB 2 or the MsgB 3.
- the UE 102 fails to decode 614 the first HARQ transmission while the UE 106 successfully decodes 618 the first HARQ transmission and transmits 620 a HARQ ACK on the second PUCCH resource.
- the base station 104 then generates 622 a second MAC PDU which includes the MsgB 1 and does not include the MsgB 2.
- the base station 104 generates a second HARQ transmission of the second MAC PDU instead of the first MAC PDU.
- the base station 104 transmits 624 the second HARQ transmission on a second PDSCH to the UE 102.
- the UE 106 may not receive the second PDSCH, or may receive the second PDSCH and may not process 630 the second HARQ transmission. Alternatively, the UE 106 may receive the second PDSCH, obtain the first MAC PDU from the second HARQ transmission, and transmit a HARQ ACK on the second PUCCH resource to the base station 104. If the UE 102 receives the first HARQ transmission and the second HARQ transmission, the UE 102 discards the first HARQ transmission and decodes the second HARQ transmission.
- the base station 104 may transmit the UE 102 a second DCI element (e.g., with a CRC scrambled with the RNTI) on a second PDCCH to indicate to the UE 102 to receive the second PDSCH.
- the second DCI element may include a second new data indicator (NDI) which indicates to the UE 102 to discard the first HARQ transmission or indicates to the UE 102 that the second HARQ transmission is a new transmission.
- NDI second new data indicator
- the UE 102 If the UE 102 successfully decodes 626 the second HARQ transmission to obtain the second MAC PDU, the UE 102 identifies the MsgB 1 from the second MAC PDU and transmits 628 a third HARQ ACK on a third PUCCH resource indicated in the MsgB 1 to the base station. If the UE 102 does not receive the second HARQ transmission or fails to decode the second HARQ transmission, the UE 102 does not obtain the MsgB 1. In this case, the UE 102 does not transmit HARQ feedback (e.g., neither a HARQ ACK nor a HARQ NACK) since the UE 102 has no PUCCH resource to transmit the HARQ feedback.
- HARQ feedback e.g., neither a HARQ ACK nor a HARQ NACK
- the base station 104 may generate a third HARQ transmission of the second MAC PDU and transmit the third HARQ transmission on a third PDSCH to the UE 102.
- the UE 106 may not receive the third PDSCH, or may receive the third PDSCH and may not process the third HARQ transmission.
- the UE 102 combines the second HARQ transmission and the third HARQ transmission together to decode the combination of the second and third HARQ transmissions.
- the base station 104 may transmit to the UE 102 a third DCI element (e.g., with a CRC scrambled with the RNTI) on a third PDCCH to indicate to the UE 102 to receive the third PDSCH.
- the third DCI element may include a NDI which indicates to the UE 102 to combine the third HARQ transmission with the second HARQ transmission or indicates to the UE 102 that the third HARQ transmission is a retransmission (i.e., not a new transmission).
- the third DCI element may include a NDI which indicates to the UE 102 not to combine the third HARQ transmission with the second HARQ transmission or indicates the third HARQ transmission is a new transmission. Accordingly, the UE 102 discards the second HARQ transmission and decodes the third HARQ transmission.
- the UE 102 If the UE 102 successfully decodes the third transmission or the combination to obtain the second MAC PDU, the UE 102 identifies the MsgB 1 from the second MAC PDU and transmits the base station 104 a third HARQ ACK or a fourth HARQ ACK on the third PUCCH resource indicated in the MsgB 1.
- the base station 104 may assign a new PUCCH resource in the MsgB 1 in the second MAC PDU. That is, the base station 104 may generate a new MsgB 1 and include the new MsgB 1 in the second MAC PDU. In this case, the UE 102 uses the new PUCCH resource to transmit the third HARQ ACK or the fourth HARQ ACK.
- the base station 104 includes first, second, and third RVs in the first, second, and third DCI elements, respectively.
- the first, second, and third RVs can be the same or different.
- the first, second, and third DCI elements may also include first, second, and third NDIs respectively.
- the base station 104 sets at least consecutive two of the first, second, and third NDIs to the same value in order to instruct the UE 102, 106 to combine the HARQ transmissions as described above.
- the first, second and third CRCs may have the same or different values.
- the base station 104 may not include a PUCCH resource assignment in the first, second, and third DCI elements.
- the base station 104 may include a PUCCH resource assignment in the first, second, and third DCI elements.
- a UE 102, 106 receives a PUCCH resource assignment in a DCI element assigning a PDSCH and receives a MAC PDU on the PDSCH which includes a MsgB including a PUCCH resource assignment and the contention resolution identity of the UE 102, 106, the UE 102, 106 ignores the PUCCH resource assignment in the DCI element.
- the UE 102, 106 transmits a HARQ ACK on a PUCCH resource indicated by the PUCCH resource assignment in the MsgB.
- the UE 102, 106 receives a PUCCH resource assignment in a DCI element assigning a PDSCH and receives a MAC PDU on the PDSCH which includes the MsgB excluding the PUCCH resource assignment and including the contention resolution identity of the UE 102, 106, the UE 102, 106 transmits a HARQ ACK on a PUCCH resource indicated by the PUCCH resource assignment in the DCI element.
- a UE 102, 106 receives a PUCCH resource assignment in a DCI element assigning a PDSCH and receives a MAC PDU on the PDSCH which includes a MsgB including a PUCCH resource assignment and the contention resolution identity of the UE 102, 106, the UE uses the PUCCH resource assignment in the DCI element and the PUCCH resource assignment in the MsgB to determine a PUCCH resource and transmits a HARQ ACK on the determined PUCCH resource.
- the RNTI is a random access-RNTI (RA-RNTI).
- the RNTI is a new RNTI specific for receiving a PDSCH containing one or more MsgBs.
- the base station 104 may determine a value of the RNTI according to the location of physical random access channel (PRACH) resources where the base station 104 receives the MsgA 1 or MsgA 2.
- PRACH physical random access channel
- the UE 102 and the UE 106 may determine the values of respective RNTIs according to the locations of PRACH resources where the UE 102 and the UE 106 transmitted the MsgA 1 and the MsgA 2.
- the base station 104 estimates channel conditions (e.g., impulse response, Rx beam direction, signal strength, etc.) to derive channel estimation results by using reference signals (e.g., a demodulation reference signal (DMRS), a sounding reference signal (SRS), etc.) in or with the MsgA 1 and the MsgA 2, respectively or jointly.
- reference signals e.g., a demodulation reference signal (DMRS), a sounding reference signal (SRS), etc.
- the base station 104 transmits the first HARQ transmission with a transmission configuration (e.g., a precoding matrix, Tx beam direction, signal power, redundant version, rate matching, etc.) based on the channel estimation results derived from the reference signals in the MsgA 1 and the MsgA 2. If the base station 104 receives the first HARQ ACK (e.g., UE 102 completes the RACH procedure) and does not receive the second HARQ ACK, the base station 104 transmits the second HARQ transmission with a transmission configuration based on the channel estimation results derived from the reference signals in the MsgA 2.
- a transmission configuration e.g., a precoding matrix, Tx beam direction, signal power, redundant version, rate matching, etc.
- a UE 102, 106 when a UE 102, 106 is unable to decode a HARQ transmission, the UE 102, 106 may transmit a HARQ NACK to the base station 104.
- Fig. 7 depicts a messaging diagram of an example procedure for providing resource assignments to UEs for transmitting acknowledgements of a response message from the base station 104 and retransmitting the response message when one of the UEs transmits a NACK.
- the base station 104 configures a seventh PUCCH resource assignment associated with a preamble 1 in the MsgA 1.
- the seventh PUCCH resource assignment configures a seventh PUCCH resource for transmitting a HARQ NACK.
- the base station 104 configures an eighth PUCCH resource assignment associated with a preamble 2 in the MsgA 2.
- the eighth PUCCH resource assignment configures an eighth PUCCH resource for transmitting a HARQ NACK.
- the preamble 1 may be different from the preamble 2.
- the base station 104 broadcasts 702 the seventh and the eighth PUCCH resource assignments in system information.
- the UE 102 receives the system information and selects the preamble 1 and includes the preamble 1 in the MsgA 1.
- the UE 106 receives the system information and selects the preamble 2 and includes the preamble 2 in the MsgA 2.
- the UE 102 transmits 708 the MsgA 1 to the base station 104, and the UE 106 transmits 710 the MsgA 2 to the base station 104.
- the UE 102 fails 716 to decode the first HARQ transmission.
- the UE 102 transmits a HARQ NACK on the seventh PUCCH resource to indicate that the UE 102 failed to receive or decode the first HARQ transmission of the MAC PDU.
- the base station 104 transmits 726 the second HARQ transmission of the MAC PDU on the second PDSCH.
- the UE 102 receives the second HARQ transmission on the second PDSCH.
- the UE 102 successfully decodes 728 the second HARQ transmission with or without combining the second HARQ transmission with the first HARQ transmission to obtain the MAC PDU.
- the UE 102 then identifies the MsgB 1 in the MAC PDU according to the contention resolution identity of the UE 102 and determines contention resolution succeeds. Then the UE 102 transmits 730 a third HARQ ACK on the first PUCCH resource to the base station 104.
- the base station 104 may stop transmitting 734 the MAC PDU in response to receiving HARQ ACKs from each of the UEs 102, 106.
- Fig. 8 depicts a messaging diagram of an example procedure for providing resource assignments to UEs for transmitting acknowledgements of a response message from the base station 104 and transmitting a second response message when one of the UEs transmits a NACK.
- the base station 104 configures a seventh PUCCH resource assignment associated with a preamble 1 in the MsgA 1.
- the seventh PUCCH resource assignment configures a seventh PUCCH resource for transmitting a HARQ NACK.
- the base station 104 configures an eighth PUCCH resource assignment associated with a preamble 2 in the MsgA 2.
- the eighth PUCCH resource assignment configures an eighth PUCCH resource for transmitting a HARQ NACK.
- the preamble 1 may be different from the preamble 2.
- the base station 104 broadcasts 702 the seventh and the eighth PUCCH resource assignments in system information.
- the UE 102 receives the system information and selects the preamble 1 and includes the preamble 1 in the MsgA 1.
- the UE 106 receives the system information and selects the preamble 2 and includes the preamble 2 in the MsgA 2.
- the UE 102 transmits 708 the MsgA 1 to the base station 104, and the UE 106 transmits 710 the MsgA 2 to the base station 104.
- the UE 102 fails 816 to decode the first HARQ transmission.
- the UE 102 transmits a HARQ NACK on the seventh PUCCH resource to indicate that the UE 102 failed to receive or decode the first HARQ transmission of the MAC PDU.
- the base station 104 In response to receiving the HARQ NACK the base station 104 generates 826 a second MAC PDU including a second MsgB 1 and excluding the MsgB 2.
- the second MsgB 1 includes a third PUCCH resource assignment.
- the second MsgB 1 may be the same as or different from the first MsgB 1 in the first MAC PDU.
- the first and third PUCCH resource assignment may be the same or different.
- the base station 104 transmits 828 the second HARQ transmission of the second MAC PDU on the second PDSCH.
- the UE 102 receives the second HARQ transmission on the second PDSCH.
- the UE 102 successfully decodes 830 the second HARQ transmission without combining the first HARQ transmission to obtain the second MAC PDU.
- the UE 102 identifies the second MsgB 1 by using the contention resolution identity of the UE 102 and determines contention resolution succeeds.
- the UE 102 transmits 832 a third HARQ ACK on the third PUCCH resource to the base station 104.
- the base station 104 may stop transmitting 836 the MAC PDU in response to receiving HARQ ACKs from each of the UEs 102, 106.
- the base station 104 may transmit the UE 102 a DCI element (e.g., with a CRC scrambled with the RNTI) on a PDCCH to indicate to the UE 102 to receive the second PDSCH.
- the DCI element may include a second NDI which indicates to the UE 102 to discard the first HARQ transmission or indicates to the UE 102 that the second HARQ transmission is a new transmission. According to the DCI element, the UE 102 does not combine the first and second HARQ transmissions.
- the base station 104 transmits PUCCH resource assignments to the UEs 102, 106 via the MAC PDU. In other implementations, the base station 104 provides PUCCH resource assignments to the UEs 102, 106 via DCI elements.
- Fig. 9 depicts a messaging diagram of an example procedure for providing resource assignments via a DCI element to UEs for transmitting acknowledgements of a response message from the base station 104.
- the UE 102 and the UE 106 both initiate 902, 904 a two-step RACH procedure.
- the base station 104 receives 906, 908 a MsgA 1 from the UE 102 and a MsgA 2 from the UE 106.
- the base station 104 generates a MsgB 1 and a first PUCCH resource assignment to respond to the MsgA 1, and generates a MsgB 2 and a second PUCCH resource assignment to respond to the MsgA 2.
- the first PUCCH resource assignment configures a first PUCCH resource for the UE 102 to transmit a first HARQ ACK.
- the second PUCCH resource assignment configures a second PUCCH resource for the UE 106 to transmit a second HARQ ACK.
- the first PUCCH resource and the second PUCCH resource may be different or may not overlap.
- the first and second PUCCH resources can be on different OFDM symbols, different slots, different subcarriers or different physical resource blocks.
- the OFDM can be a Discrete Fourier Transform-Spread (DFT-S-OFDM) or a cyclic -prefix (CP) OFDM.
- the base station 104 includes the MsgB 1 and the MsgB 2 in a first MAC PDU and generates a first HARQ transmission of the first MAC PDU.
- the base station includes the first PUCCH resource assignment and the second PUCCH resource assignment in a first DCI element according to a format of the first DCI element.
- the first DCI element configures a first PDSCH which includes the first HARQ transmission.
- the base station 104 transmits 910 the first DCI element (with a CRC scrambled by a RNTI) on a first PDCCH and the first DCI element configures (i.e., assigns) a first PDSCH to the UEs.
- the base station 104 transmits 912 the first HARQ transmission on the first PDSCH.
- the base station 104 To transmit a MAC PDU including several MsgBs for several UEs, the base station 104 generates several PUCCH resource assignments and includes the plurality of PUCCH resource assignments in the DCI element. Each of the PUCCH resource assignments is associated with a specific MsgB of the several MsgBs. In some implementations, the base station 104 includes the PUCCH resource assignments in the DCI element according to a format of the DCI element and a format of the MAC PDU. An association between a PUCCH resource assignment of the several PUCCH resource assignments and its corresponding MsgB of the several MsgBs may be specified in a 3GPP specification.
- the base station 104 in other implementations generates a base PUCCH resource assignment and includes the base PUCCH resource assignment in the DCI element.
- Each of the several UEs derives a particular PUCCH resource assignment from the base PUCCH resource assignment.
- a particular UE of the several UEs derives a particular PUCCH resource assignment from the base PUCCH resource assignment and a supplementary PUCCH resource assignment in a MsgB for the particular UE.
- the particular UE can obtain an offset to the base PUCCH resource assignment from the supplementary PUCCH resource assignment, e.g. with or without a formula.
- the offset can be represented by OFDM symbol(s), slot(s), different subcarrier(s) and/or different physical resource block(s).
- a particular UE of the several UEs derives a particular PUCCH resource assignment from the base PUCCH resource assignment and location of a MsgB in a MAC PDU for the particular UE.
- the particular UE can obtain an offset to the base PUCCH resource assignment from the location of the MsgB in a formula or an equation.
- the offset can be represented by OFDM symbol(s), slot(s), different subcarrier(s) and/or different physical resource block(s).
- a particular UE of the several UEs derives a particular PUCCH resource assignment from the base PUCCH resource assignment and a supplementary PUCCH resource assignment broadcast in system information.
- the particular UE can obtain an offset to the base PUCCH resource assignment from the supplementary PUCCH resource assignment with/without a formula or an equation.
- the offset can be represented by OFDM symbol(s), slot(s), different subcarrier(s) and/or different physical resource block(s).
- Fig. 10 illustrates an example format of a DCI element and a MAC PDU in a response message including a MsgB 1, a MsgB 2, and first and second PUCCH resource assignments.
- the first PUCCH resource assignment is in a location of the first DCI element according to a location of the MsgB 1 in the first MAC PDU
- the second PUCCH resource assignment is in a location of the first DCI element according to a location of the MsgB 2.
- the MsgB 1 and the first PUCCH resource assignment are in the same location within their respective elements (the MAC PDU and the DCI element).
- the MsgB 2 and the second PUCCH resource assignment in the same location within their respective elements (the MAC PDU and the DCI element).
- the MsgB 1 appears before the MsgB 2 in the MAC PDU and accordingly, the first PUCCH resource assignment appears before the second PUCCH resource assignment in the DCI element.
- the UE 102 and the UE 106 perform PDCCH monitoring to receive the first PDSCH. If the UE 102 receives the first DCI element on the first PDCCH and receives the first MAC PDU on the first PDSCH according to the first DCI element, the UE 102 identifies the MsgB 1 in the first MAC PDU. Then the UE 102 identifies the first PUCCH resource assignment in the first DCI element according to the location of the MsgB 1 in the first MAC PDU. The UE 102 then transmits 922 a first HARQ ACK according to the first PUCCH resource assignment.
- the base station 104 determines the UE 102 received the MsgB 1. If the UE 102 does not receive the first MAC PDU on the first PDSCH, the UE 102 does not transmit the first HARQ ACK on the first PUCCH resource. In this case, the base station 104 does not receive the first HARQ ACK on the first PUCCH resource. The base station determines the UE 102 did not receive the MsgB 1 since the base station 104 did not receive a HARQ ACK on the first PUCCH resource.
- the UE 106 identifies the MsgB 2 in the first MAC PDU. Then the UE 106 identifies the second PUCCH resource assignment according to the location of the MsgB 2 in the first MAC PDU. The UE 106 transmits 922 a second HARQ ACK according to the second PUCCH resource assignment. If the base station 104 receives the second HARQ ACK on the second PUCCH resource, the base station 104 determines the UE 106 received the MsgB 2.
- the UE 106 does not transmit the second HARQ ACK on the second PUCCH resource.
- the base station 104 does not receive the second HARQ ACK on the second PUCCH resource.
- the base station determines the UE 106 did not receive the MsgB 2 since the base station 104 did not receive a HARQ ACK on the second PUCCH resource.
- the UE 102 and the UE 106 may transmit HARQ ACKs at the same time (e.g., with different spatial assignments). In other implementations, the UE 102 and the UE 106 may transmit the HARQ ACKs at different time slots.
- the base station 104 can determine whether the UE 102 received the MsgB 1 according to whether a HARQ ACK on the first PUCCH resource is received from the UE 102.
- the base station 104 can determine whether the UE 106 received the MsgB 2 according to whether a HARQ ACK on the second PUCCH resource is received from the UE 106. If each of the UEs that transmitted MsgAs received a corresponding MsgB, the base station 104 stops transmitting 926 the MAC PDU.
- the base station 104 transmits the first MAC PDU using a HARQ transmission scheme. For example, the base station 104 generates a first HARQ transmission of the first MAC PDU and transmits the first HARQ transmission on the first PDSCH to the UE 102 and UE 106. If the UE 102 receives the first HARQ transmission and successfully decodes the first HARQ transmission to obtain the first MAC PDU and identifies the MsgB 1, the UE 102 transmits the first HARQ ACK on the first PUCCH resource to the base station 104 to acknowledge reception of the first MAC PDU or the MsgB
- the UE 102 may identify the MsgB 1 according to a contention resolution identity in the MsgB 1.
- the contention resolution identity may be associated with/generated from content in a payload of the MsgA 1. For example, if the UE 102 identifies the contention resolution identity in the MsgB 1 is generated from the content in the payload of the MsgA 1, the UE 102 identifies the MsgB 1 is a Msg B intended for the UE 102.
- the UE 106 receives the first HARQ transmission, successfully decodes the first HARQ transmission to obtain the first MAC PDU and identifies the MsgB
- the UE 106 transmits the second HARQ ACK on the second PUCCH resource to the base station 104 to acknowledge reception of the first MAC PDU or the MsgB 2.
- UE 106 may identify the MsgB 2 according to a contention resolution identity in the MsgB 2.
- the contention resolution identity may be associated with/generated from content in a payload of the MsgA 2. For example, if UE 106 identifies the contention resolution identity in the MsgB 2 is generated from the content in the payload of the MsgA 2, the UE 106 identifies the MsgB 2 is a Msg B intended for the UE 106.
- the messaging diagrams in Fig. 11-15 depict example scenarios in which the base station 104 sends a response message to UEs which transmitted MsgAs to the base station.
- the base station 104 transmits PUCCH resource assignments in the DCI element. These scenarios include a first scenario where the UE 102 does not receive and successfully decode the HARQ transmission and the base station 104 retransmits the MAC PDU (Fig. 11), a second scenario where both the UE 102 and UE 106 do not receive and successfully decode the HARQ transmission and the base station 104 retransmits the MAC PDU (Fig. 11), a second scenario where both the UE 102 and UE 106 do not receive and successfully decode the HARQ transmission and the base station 104 retransmits the MAC PDU (Fig.
- the UE 102 either fails 1116 to decode the first HARQ transmission or does not receive the first HARQ transmission and accordingly, does not transmit the first HARQ ACK to the base station 104.
- the base station 104 does not receive 1124 the first HARQ ACK on the first PUCCH resource, and in some implementations may generate a second HARQ transmission of the first MAC PDU.
- the base station 104 uses the same RV or different RVs for the first HARQ transmission and the second HARQ transmission.
- the first DCI element may include a first RV and the second DCI may include a second RV and the first and second RBs can be the same or different.
- the base station 104 includes a third PUCCH resource assignment in a second DCI element.
- the third PUCCH resource assignment configures a third PUCCH resource for the UE 102 to transmit a third HARQ ACK.
- the base station 104 may or may not include a fourth PUCCH resource assignment in the second DCI element.
- the fourth PUCCH resource assignment may configure a fourth PUCCH resource for the UE 106 to transmit a fourth HARQ ACK, or the fourth PUCCH resource assignment may a dummy PUCCH resource assignment.
- the second DCI element configures a second PDSCH which includes the second HARQ transmission.
- the base station transmits 1126 the second DCI (with a second CRC scrambled by the RNTI) on a second PDCCH to the UE 102 and transmits 1128 the second HARQ transmission on the second PDSCH to the UE 102. If the UE 106 receives the first MAC PDU in the first HARQ transmission, the UE 106 may not receive the second PDSCH, or the UE 106 may receive the second PDSCH and may not process the second HARQ transmission. Alternatively, if the UE 106 receives the second PDSCH and obtains the first MAC PDU from the second HARQ transmission, the UE 106 still transmits a HARQ ACK on the second PUCCH resource to the base station 104.
- the UE 102 uses the second DCI to receive the second PDSCH (i.e., the second HARQ transmission). If the UE 102 receives the first HARQ transmission and the second HARQ transmission, the UE 102 may combine the first HARQ transmission and the second HARQ transmission together and decode the combination of the first HARQ transmission and the second HARQ transmission. If the UE 102 obtains the first MAC PDU from successfully decoding 1130 the combination, the UE 102 identifies the MsgB 1 from the first MAC PDU by using the contention resolution identity of the UE 102.
- the UE 102 transmits 1132 the third HARQ ACK to the base station 104 on the third PUCCH resource indicated in the second DCI element.
- the UE 102 identifies the third PUCCH resource assignment according to the location of the MsgB E
- the UE 102 If the UE 102 does not receive the first HARQ transmission and receives the second HARQ transmission, the UE 102 decodes the second HARQ transmission. If the UE 102 successfully decodes 1130 the second HARQ transmission to obtain the MAC PDU, the UE 102 identifies the MsgB 1 from the MAC PDU according to the contention resolution identity of the UE 102. If the UE 102 does not obtain the first MAC PDU from the second HARQ transmission, the UE 102 does not transmit HARQ feedback (e.g., neither a HARQ ACK nor a HARQ NACK) since the UE 102 has no PUCCH resource to transmit the HARQ feedback.
- HARQ feedback e.g., neither a HARQ ACK nor a HARQ NACK
- the base station 104 may generate a third HARQ transmission of the first MAC PDU and may transmit the third HARQ transmission on a third PDSCH to the UE 102.
- the base station 104 stops transmitting 1136 the MAC PDU.
- the first PUCCH resource assignment and the third PUCCH resource assignment may configure the same PUCCH resource or different PUCCH resources.
- Fig. 12 depicts a messaging diagram of an example procedure for providing resource assignments via a DCI element to UEs for transmitting acknowledgements of a response message from the base station 104 and retransmitting the response message when each of the UEs does not transmit an acknowledgement.
- the UE 102 either fails 1216 to decode the first HARQ transmission or does not receive the first HARQ transmission and accordingly, does not transmit the first HARQ ACK to the base station 104.
- the UE 106 either fails 1220 to decode the first HARQ transmission or does not receive the first HARQ transmission and accordingly, does not transmit the second HARQ ACK to the base station 104.
- the base station 104 does not receive 1222 the first HARQ ACK on the first PUCCH resource and also does not receive the second HARQ ACK on the second PUCCH resource, and in some implementations may generate a second HARQ transmission of the first MAC PDU.
- the base station 104 may include a third PUCCH resource assignment and a fourth PUCCH resource assignment in a second DCI configuring a second PDSCH which includes the second HARQ transmission.
- the third PUCCH resource assignment configures a third PUCCH resource for the UE 102 to transmit a third HARQ ACK.
- the fourth PUCCH resource assignment configures a fourth PUCCH resource for the UE 106 to transmit a fourth HARQ ACK.
- the third and fourth PUCCH resources may be different or may not overlap.
- the base station 104 transmits 1224, 1226 the second DCI (with a second CRC scrambled by the RNTI) and the second HARQ transmission on a second PDSCH to the UE 102 and the UE 106. If the UE 102 and/or the UE 106 receives the second DCI and receives the second HARQ transmission according to the second DCI, the UE 102 and/or the UE 106 decodes the second HARQ transmission.
- the UE 102 If the UE 102 successfully decodes 1228 the second HARQ transmission to obtain the first MAC PDU, the UE 102 identifies the MsgB 1 from the first MAC PDU according to the contention resolution identity of the UE 102. Then the UE 102 transmits 1230 a third HARQ ACK to the base station 104 on a third PUCCH resource indicated in the third PUCCH resource assignment.
- the UE 106 identifies the MsgB 2 from the first MAC PDU according to the contention resolution identity of the UE 106. Then the UE 106 transmits 1234 a fourth HARQ ACK to the base station 104 on a fourth PUCCH resource indicated in the fourth PUCCH resource assignment.
- the base station 104 may generate a third HARQ transmission of the first MAC PDU.
- the base station may include a fifth PUCCH resource assignment and/or a sixth PUCCH resource assignment in a third DCI configuring a third PDSCH.
- the fifth PUCCH resource assignment configures a fifth PUCCH resource for the UE 102 to transmit a fifth HARQ ACK.
- the sixth PUCCH resource assignment configures a sixth PUCCH resource for the UE 106 to transmit a sixth HARQ ACK.
- the fifth and sixth PUCCH resources may be different or may not overlap.
- the base station 104 transmits the third DCI (with a third CRC scrambled by the RNTI) on a third PDCCH and transmits the third HARQ transmission on a third PDSCH to the UE 102 and the UE 106.
- the UE 102 and/or the UE 106 may receive and process the third HARQ transmission on the third PDSCH in a similar manner as described above with reference to the first and second HARQ transmissions on the first and second PDSCH.
- the base station 104 uses the same RV or different RVs for the first HARQ transmission, the second HARQ transmission and the third HARQ transmissions.
- the base station 104 includes first, second, and third RVs in the first, second, and third DCI elements, respectively.
- the first, second, and third RVs can be the same or different.
- the first, second, and third DCI elements may also include first, second, and third NDIs respectively.
- the base station 104 sets at least two of the first, second, and third NDIs to the same value in order to instruct the UE 102, 106 to combine the HARQ transmissions as described above.
- the PUCCH resource assignments in each of the DCI elements for the UE 102 may be the same or different resource assignments.
- the PUCCH resource assignments in each of the DCI elements for the UE 106 may be the same or different resource assignments.
- the PUCCH resource assignments for the UE 102 and UE 106 are different so that the base station 104 can identify each UE that receives a corresponding Msg B.
- the base station 104 retransmits the same MAC PDU in a second or subsequent HARQ transmissions in response to not receiving a HARQ ACK from at least one of the UEs 102, 106.
- the base station 104 generates different MAC PDUs in second or subsequent HARQ transmissions which only include the MsgBs which were not received by the corresponding UEs in previous HARQ transmissions.
- Fig. 13 depicts a messaging diagram of an example procedure for providing resource assignments via a DCI element to UEs for transmitting acknowledgements of a response message from the base station 104 and transmitting a second response message when one of the user devices does not transmit an acknowledgement.
- the UE 102 fails to decode 1316 the first HARQ transmission while the UE 106 successfully decodes 1320 the first HARQ transmission and transmits 1322 a HARQ ACK on the second PUCCH resource.
- the base station 104 then generates 1324 a second MAC PDU which includes the MsgB 1 and does not include the MsgB 2.
- the base station 104 generates a second HARQ transmission of the second MAC PDU instead of the first MAC PDU.
- the base station 104 also generates a second DCI configuring a second PDSCH which includes the second HARQ transmission.
- the base station 104 includes a third PUCCH resource assignment in the second DCI.
- the base station 104 transmits 1326 the second DCI (with a second CRC scrambled by the RNTI) on a second PDCCH and transmits 1328 the second HARQ transmission on a second PDSCH to the UE 102.
- the UE 106 may not receive the second PDSCH, or may receive the second PDSCH and may not process 1334 the second HARQ transmission. If the UE 102 receives the first HARQ transmission and the second HARQ transmission, the UE 102 discards the first HARQ transmission and decodes the second HARQ transmission. The UE 102 does not combine the first HARQ transmission and the second HARQ transmission to decode the combination.
- the base station 104 may include a second NDI in the second DCI.
- the second NDI indicates to the UEs 102, 106 to discard the first HARQ transmission or indicates to the UEs 102, 106 that the second HARQ transmission is a new transmission.
- the base station 104 sets a value of the second NDI which is different from a value of the first NDI.
- the UE 102 If the UE 102 receives the second PDSCH according to the second DCI and successfully decodes 1330 the second HARQ transmission to obtain the second MAC PDU, the UE 102 identifies the MsgB 1 from the second MAC PDU and transmits 1332 a third HARQ ACK on a third PUCCH resource to the base station 104. If the UE 102 does not receive the second DCI element, does not receive the second HARQ transmission, or fails to decode the second HARQ transmission, the UE 102 does not obtain the MsgB 1. In this case, the UE 102 does not transmit HARQ feedback (e.g., neither a HARQ ACK nor a HARQ NACK) since the UE 102 has no PUCCH resource to transmit the HARQ feedback.
- HARQ feedback e.g., neither a HARQ ACK nor a HARQ NACK
- the base station 104 may generate a third HARQ transmission of the second MAC PDU.
- the base station 104 may include a fourth PUCCH resource assignment in a third DCI element configuring a third PDSCH which includes the third HARQ transmission.
- the base station 104 transmits the third DCI (with a third CRC scrambled by the RNTI) on a third PDCCH. Additionally, the base station 104 transmits the third HARQ transmission on a third PDSCH to the UE 102.
- the UE 106 may not receive the third PDSCH, or may receive the third PDSCH and may not process the third HARQ transmission.
- the UE 102 receives the third DCI element on the third PDCCH and receives the third PDSCH and the third HARQ transmission according to the third DCI element. In some implementations, the UE 102 combines the second HARQ transmission and the third HARQ transmission together to decode the combination of the second and third HARQ transmissions.
- the third DCI element may include a third NDI which indicates to the UE 102 to combine the third HARQ transmission with the second HARQ transmission or indicates to the UE 102 that the third HARQ transmission is a retransmission (i.e., not a new transmission).
- the base station 104 may set a value of the third NDI which is the same as the value of the second NDI.
- the third DCI element may include a third NDI which indicates to the UE 102 not to combine the third HARQ transmission with the second HARQ transmission or indicates the third HARQ transmission is a new transmission. Accordingly, the UE 102 discards the second HARQ transmission and decodes the third HARQ transmission.
- the base station 104 may set a value of the third NDI which is different from the value of the second NDI.
- the UE 102 If the UE 102 successfully decodes the third transmission or the combination to obtain the second MAC PDU, the UE 102 identifies the MsgB 1 from the second MAC PDU and transmits the base station 104 a fourth HARQ ACK on the fourth PUCCH resource.
- the base station 104 includes first, second, and third RVs in the first, second, and third DCI elements, respectively.
- the first, second, and third RVs can be the same or different.
- the PUCCH resource assignments in each of the DCI elements for the UE 102 may be the same or different resource assignments.
- the PUCCH resource assignments in each of the DCI elements for the UE 106 may be the same or different resource assignments.
- the PUCCH resource assignments for the UE 102 and UE 106 are different so that the base station 104 can identify each UE that receives a corresponding Msg B.
- the UE 102 and/or the UE 106 monitor the first, second, and/or third PDCCH to receive the first, second, and/or third DCI element, and the first, second, and/or third scrambled CRC. If the UE 102 and/or the UE 106 receive the first, second, and/or third DCI element, and the first, second, and/or third scrambled CRC, the UE 102 and/or the UE 106 verify the first, second, and/or third scrambled CRC with the RNTI.
- the UE 102 and/or the UE 106 If the UE 102 and/or the UE 106, in one implementation, correctly verify the first, second, and/or third scrambled CRC, the UE 102 and/or the UE 106 receive and process the respective PDSCH.
- the UE 102 and/or the UE 106 receive the first, second, and/or third PDSCH irrespective of a correct or incorrect verification of the respective scrambled CRC. If the UE 102 and/or the UE 106 incorrectly verify the respective scrambled CRC, the UE 102 and/or the UE 106 may not process the corresponding PDSCH or may not receive the corresponding PDSCH.
- the RNTI is a RA-RNTI. In another implementation, the RNTI is a new RNTI specific for receiving a PDSCH containing one or more MsgBs.
- the base station 104 may determine a value of the RNTI according to location of PRACH resources where the base station 104 receives the MsgA 1 or MsgA 2.
- the UE 102 and the UE 106 may determine the values of respective RNTIs according to the locations of PRACH resources where the UE 102 and the UE 106 transmitted the MsgA 1 and the MsgA 2.
- the base station 104 estimates channel conditions (e.g., impulse response, Rx beam direction, signal strength, etc.) to derive channel estimation results by using reference signals (e.g., a DMRS, a SRS, etc.) in or with the MsgA 1 and the MsgA 2, respectively or jointly.
- channel conditions e.g., impulse response, Rx beam direction, signal strength, etc.
- reference signals e.g., a DMRS, a SRS, etc.
- the base station 104 transmits the first HARQ transmission with a transmission configuration (e.g., a precoding matrix, Tx beam direction, signal power, redundant version, rate matching, etc.) based on the channel estimation results derived from the reference signals in the MsgA 1 and the MsgA 2. If the base station 104 receives the first HARQ ACK (e.g., UE 102 completes the RACH procedure) and does not receive the second HARQ ACK, the base station 104 transmits the second HARQ transmission with a transmission configuration based on the channel estimation results derived from the reference signals in the MsgA 2.
- a transmission configuration e.g., a precoding matrix, Tx beam direction, signal power, redundant version, rate matching, etc.
- a UE 102, 106 when a UE 102, 106 is unable to decode a HARQ transmission, the UE 102, 106 may transmit a HARQ NACK to the base station 104.
- Fig. 14 depicts a messaging diagram of an example procedure for providing resource assignments via a DCI element to UEs for transmitting acknowledgements of a response message from the base station 104 and retransmitting the response message when one of the UEs transmits a NACK.
- the base station 104 configures a seventh PUCCH resource assignment associated with a preamble 1 in the MsgA 1.
- the seventh PUCCH resource assignment configures a seventh PUCCH resource for transmitting a HARQ NACK.
- the base station 104 configures an eighth PUCCH resource assignment associated with a preamble 2 in the MsgA 2.
- the eighth PUCCH resource assignment configures an eighth PUCCH resource for transmitting a HARQ NACK.
- the preamble 1 may be different from the preamble 2.
- the base station 104 broadcasts 1402 the seventh and the eighth PUCCH resource assignments in system information.
- the UE 102 receives the system information and selects the preamble 1 and includes the preamble 1 in the MsgA 1.
- the UE 106 receives the system information and selects the preamble 2 and includes the preamble 2 in the MsgA 2.
- the UE 102 transmits 1408 the MsgA 1 to the base station 104, and the UE 106 transmits 1410 the MsgA 2 to the base station 104.
- the UE 102 fails to decode the first HARQ transmission.
- the UE 102 transmits 1418 a first HARQ NACK on the seventh PUCCH resource to indicate that the UE 102 failed to receive or decode the first HARQ transmission of the MAC PDU.
- the UE 106 also fails to decode the first HARQ transmission.
- the UE 106 transmits 1422 a second HARQ NACK on the eight PUCCH resource to indicate that the UE 106 failed to receive or decode the first HARQ transmission of the MAC PDU.
- the base station 104 In response to receiving the HARQ NACKs, the base station 104 generates a second DCI configuring a second PDSCH which includes the second HARQ transmission.
- the base station 104 includes a third PUCCH resource assignment and a fourth PUCCH resource assignment in the second DCI. Then the base station 104 transmits 1424 the second DCI (with a second CRC scrambled by the RNTI) on a second PDCCH and transmits 1426 a second HARQ transmission of the MAC PDU on a second PDSCH to the UE 102 and the UE 106.
- the UE 102 receives the second HARQ transmission on the second PDSCH.
- the UE 102 fails to decode the second HARQ transmission of the MAC PDU and transmits 1430 a third HARQ NACK on the seventh PUCCH resource.
- the UE 106 successfully decodes 1428 the second HARQ transmission without or without combining the second HARQ transmission with the first HARQ transmission.
- the UE 106 then identifies the MsgB 2 in the MAC PDU according to the contention resolution identity of the UE 106 and determines contention resolution succeeds.
- the UE 106 transmits 1432 a HARQ ACK on the third PUCCH resource to the base station 104.
- the base station 104 may transmit a third HARQ transmission of the MAC PDU.
- Fig. 15 depicts a messaging diagram of an example procedure for providing resource assignments via a DCI element to UEs for transmitting acknowledgements of a second response message when one of the user devices transmits a NACK.
- the base station 104 configures a seventh PUCCH resource assignment associated with a preamble 1 in the MsgA 1.
- the seventh PUCCH resource assignment configures a seventh PUCCH resource for transmitting a HARQ NACK.
- the base station 104 configures an eighth PUCCH resource assignment associated with a preamble 2 in the MsgA 2.
- the eighth PUCCH resource assignment configures an eighth PUCCH resource for transmitting a HARQ NACK.
- the preamble 1 may be different from the preamble 2.
- the base station 104 broadcasts 1502 the seventh and the eighth PUCCH resource assignments in system information.
- the UE 102 receives the system information and selects the preamble 1 and includes the preamble 1 in the MsgA 1.
- the UE 106 receives the system information and selects the preamble 2 and includes the preamble 2 in the MsgA 2.
- the UE 102 transmits 1508 the MsgA 1 to the base station 104, and the UE 106 transmits 1510 the MsgA 2 to the base station 104.
- the UE 102 fails to decode the first HARQ transmission.
- the UE 102 transmits 1522 a HARQ NACK on the seventh PUCCH resource to indicate that the UE 102 failed to receive or decode the first HARQ transmission of the MAC PDU.
- the base station 104 In response to receiving the HARQ NACK the base station 104 generates 1526 a second MAC PDU including a second MsgB 1 and excluding the MsgB 2.
- the second MsgB 1 may be the same as or different from the first MsgB 1 in the first MAC PDU.
- the base station 104 also generates a second DCI configuring a second PDSCH which includes the second HARQ transmission.
- the base station 104 includes a third PUCCH resource assignment in the second DCI.
- the first and third PUCCH resource assignment may be the same or different.
- the base station 104 then transmits 1528 the second DCI (with a second CRC scrambled by the RNTI) on a second PDCCH and transmits 1530 the second HARQ transmission of the second MAC PDU on the second PDSCH.
- the UE 102 receives the second HARQ transmission on the second PDSCH.
- the UE 102 successfully decodes 1532 the second HARQ transmission without combining the first HARQ transmission to obtain the second MAC PDU.
- the UE 102 identifies the second MsgB 1 by using the contention resolution identity of the UE 102 and determines contention resolution succeeds.
- the UE 102 transmits 1534 a third HARQ ACK on the third PUCCH resource to the base station 104.
- the base station 104 may stop transmitting 1538 the MAC PDU in response to receiving HARQ ACKs from each of the UEs 102, 106.
- the base station 104 transmits PUCCH resource assignments in a response message to the UEs 102, 106 via the MAC PDU.
- the base station 104 transmits PUCCH resource assignments in a response message to the UEs 102, 106 via DCI elements.
- the base station 104 transmits a separate response message to each UE 102, 106 that transmitted a MsgA to the base station 104 at the same time.
- Each separate response message includes a PUCCH resource assignment for a particular UE 102, 106.
- Fig. 16 depicts a messaging diagram of an example procedure for providing resource assignments via separate response messages to UEs for transmitting acknowledgements of the response messages from the base station 104.
- UE 102 and UE 106 both initiate 1602, 1604 a two-step RACH procedure.
- the base station 104 receives 1606, 1608 a MsgA 1 from UE 102 and a MsgA 2 from UE 106.
- the base station 104 generates a first MAC PDU including a MsgB 1 to respond the MsgA 1, and generates a second MAC PDU including a MsgB 2 to respond to the MsgA 2.
- the base station 104 generates a first PUCCH resource assignment. Additionally, the base station 104 generates a first DCI element including the first PUCCH resource assignment and assigning a first PDSCH for receiving a first HARQ transmission.
- the base station 104 also generates a second PUCCH resource assignment different from the first PUCCH resource assignment. Moreover, the base station 104 generates a second DCI element including the second PUCCH resource assignment and assigning a second PDSCH for receiving a second HARQ transmission.
- the first PUCCH resource assignment configures a first PUCCH resource and the second resource assignment configures a second PUCCH resource.
- the first PUCCH resource and the second PUCCH resource may be different or may not overlap.
- the first and second PUCCH resources can be on different OFDM symbols, different slots, different subcarriers or different physical resource blocks.
- the OFDM can be a Discrete Fourier Transform-Spread (DFT-S-OFDM) or a cyclic -prefix (CP) OFDM.
- the base station 104 transmits 1610 the first DCI element (with a first CRC scrambled by a first RNTI) on a first PDCCH and transmits 1614 a first HARQ transmission of the first MAC PDU including a MsgB 1 on the first PDSCH to the UE 102.
- the base station 104 also transmits 1612 the second DCI element (with a second CRC scrambled by a second RNTI) on a second PDCCH and transmits 1616 a second HARQ transmission of the second MAC PDU including a MsgB 2 on the second PDSCH to the UE 106.
- the base station 104 may transmit 1610, 1612 the first and second DCI elements at the same time. In other implementations, the base station 104 may transmit 1610, 1612 the first and second DCI elements at different times. Also in some implementations, the base station 104 may transmit 1614, 1616 the first and second HARQ transmissions at the same time. In other implementations, the base station 104 may transmit 1614, 1616 the first and second HARQ transmissions at different times.
- the UE 102 performs PDCCH monitoring to receive the first PDSCH.
- the UE 102 receives the first DCI element on the first PDCCH by using the first RNTI and receives the first MAC PDU on the first PDSCH according to the first DCI element.
- the UE 102 identifies the first PUCCH resource assignment according to the first DCI element.
- the base station 104 transmits the first MAC PDU using a HARQ transmission scheme. For example, the base station 104 generates a first HARQ transmission of the first MAC PDU and transmits the first HARQ transmission on the first PDSCH to the UE 102.
- the UE 102 receives the first HARQ transmission and attempts to decode 1618 the first HARQ transmission to obtain the first MAC PDU. If the UE 102 successfully decodes 1620 the first HARQ transmission to obtain the first MAC PDU and identifies the MsgB 1, the UE 102 transmits 1626 the first HARQ ACK to the base station 104 on the first PUCCH resource according to the first PUCCH resource assignment in the first DCI element to acknowledge reception of the first MAC PDU or the MsgB 1. If the base station 104 receives the first HARQ ACK on the first PUCCH resource, the base station 104 determines the UE 102 received the MsgB 1.
- the UE 102 does not transmit the first HARQ ACK on the first PUCCH resource.
- the base station 104 does not receive the first HARQ ACK.
- the base station 104 determines the UE 102 did not receive the MsgB 1 due to not receiving a HARQ ACK on the first PUCCH resource.
- the base station 104 may transmit the first DCI element on a third PDCCH and transmit the first HARQ transmission on a third PDSCH in response to determining that the UE 102 did not receive the MsgB 1. If the UE 102 receives the first DCI element on the third PDCCH by using the first RNTI and receives the first HARQ transmission on the third PDSCH according to the first DCI element, the UE 102 may decode the first HARQ transmission on the third PDSCH or may decode a combination of the first HARQ transmission on the first PDSCH and the first HARQ transmission on the third PDSCH.
- the UE 102 may then successfully decode the first HARQ transmission to obtain the first MAC PDU including the MsgB 1.
- the UE 102 may transmit a first HARQ ACK according to the first PUCCH resource assignment included in the first DCI element. If the base station 104 receives the first HARQ ACK on the first PUCCH resource, the base station 104 determines the UE 102 received the first MAC PDU and the MsgB E If the UE 102 does not receive the first MAC PDU on the third PDSCH, the UE 102 does not transmit the first HARQ ACK on the first PUCCH resource. In this case, the base station 104 does not receive the first HARQ ACK. The base station 104 determines the UE 102 did not receive the MsgB 1 due to not receiving a HARQ ACK on the first PUCCH resource.
- the base station 104 may generate a third DCI element including a third PUCCH resource assignment and assigning a third PDSCH in response to determining that the UE 102 did not receive the MsgB 1.
- the third PUCCH resource assignment configures a third PUCCH resource and may be the same as or different from the first PUCCH resource assignment.
- the base station 104 may transmit the third DCI element on a third PDCCH and may transmit a third HARQ transmission of the first MAC PDU on a third PDSCH.
- the UE 102 may decode the third HARQ transmission on the third PDSCH or may decode a combination of the first HARQ transmission on the first PDSCH and the third HARQ transmission on the third PDSCH. The UE 102 may then successfully decode the third HARQ transmission to obtain the first MAC PDU including the MsgB 1.
- the UE 102 may transmit a first HARQ ACK according to the third PUCCH resource assignment included in the third DCI element. If the base station 104 receives the first HARQ ACK on the third PUCCH resource, the base station 104 determines the UE 102 received the first MAC PDU and the MsgB 1. If the UE 102 does not receive the first MAC PDU on the third PDSCH, the UE 102 does not transmit the first HARQ ACK on the third PUCCH resource. In this case, the base station 104 does not receive the first HARQ ACK. The base station 104 determines the UE 102 did not receive the MsgB 1 due to not receiving a HARQ ACK on the third PUCCH resource.
- the UE 106 performs PDCCH monitoring to receive the second PDSCH.
- the UE 106 receives the second DCI element on the second PDCCH by using the second RNTI and receives the second MAC PDU on the second PDSCH according to the second DCI element.
- the UE 106 identifies the second PUCCH resource assignment according to the second DCI element.
- the base station 104 transmits the second MAC PDU using a HARQ transmission scheme. For example, the base station 104 generates a second HARQ transmission of the second MAC PDU and transmits the second HARQ transmission on the second PDSCH to the UE 106.
- the UE 106 receives the second HARQ transmission and attempts to decode 1622 the second HARQ transmission to obtain the second MAC PDU. If the UE 106 successfully decodes 1624 the second HARQ transmission to obtain the second MAC PDU and identifies the MsgB 2, the UE 106 transmits 1628 the second HARQ ACK to the base station 104 on the second PUCCH resource according to the second PUCCH resource assignment in the second DCI element to acknowledge reception of the second MAC PDU or the MsgB 2. If the base station 104 receives the second HARQ ACK on the second PUCCH resource, the base station 104 determines the UE 106 received the MsgB 2.
- the UE 106 does not transmit the second HARQ ACK on the second PUCCH resource. In this case, the base station 104 does not receive the second HARQ ACK. The base station 104 determines the UE 106 did not receive the MsgB 2 due to not receiving a HARQ ACK on the second PUCCH resource.
- the UE 102 and the UE 106 may transmit HARQ ACKs at the same time (e.g., with different spatial assignments). In other implementations, the UE 102 and the UE 106 may transmit the HARQ ACKs at different time slots or different OFDM symbols. In response to receiving a HARQ ACK from each of the UEs 102, 106, the base station 104 stops transmitting 1630 the MAC PDU.
- the base station 104 may transmit the second DCI element on a fourth PDCCH and transmit the second HARQ transmission on a fourth PDSCH in response to determining that the UE 106 did not receive the MsgB 2. If the UE 106 receives the second DCI element on the fourth PDCCH by using the second RNTI and receives the second HARQ transmission on the fourth PDSCH according to the second DCI element, the UE 106 may decode the second HARQ transmission on the fourth PDSCH or may decode a combination of the second HARQ transmission on the second PDSCH and the second HARQ transmission on the fourth PDSCH.
- the UE 106 may then successfully decode the second HARQ transmission to obtain the second MAC PDU including the MsgB 2.
- the UE 106 may transmit a second HARQ ACK according to the second PUCCH resource assignment included in the second DCI element. If the base station 104 receives the second HARQ ACK on the second PUCCH resource, the base station 104 determines the UE 106 received the second MAC PDU and the MsgB 2. If the UE 106 does not receive the second MAC PDU on the fourth PDSCH, the UE 106 does not transmit the second HARQ ACK on the second PUCCH resource. In this case, the base station 104 does not receive the second HARQ ACK. The base station 104 determines the UE 106 does not receive the MsgB 2 due to not receiving a HARQ ACK on the second PUCCH resource.
- the base station 104 may generate a fourth DCI element including a fourth PUCCH resource assignment and assigning a fourth PDSCH in response to determining that the UE 106 did not receive the MsgB 2.
- the fourth PUCCH resource assignment configures a fourth PUCCH resource and may be the same as or different from the second PUCCH resource assignment.
- the base station 104 may transmit the fourth DCI element on a fourth PDCCH and may transmit a fourth HARQ transmission of the second MAC PDU on a fourth PDSCH.
- the UE 106 may decode the fourth HARQ transmission on the fourth PDSCH or may decode a combination of the second HARQ transmission on the second PDSCH and the fourth HARQ transmission on the fourth PDSCH. The UE 106 may then successfully decode the fourth HARQ transmission to obtain the first MAC PDU including the MsgB 2. The UE 106 may transmit a second HARQ ACK according to the fourth PUCCH resource assignment included in the fourth DCI element.
- the base station 104 determines the UE 106 received the first MAC PDU and the MsgB 2. If the UE 106 does not receive the second MAC PDU on the fourth PDSCH, the UE 106 does not transmit the second HARQ ACK on the fourth PUCCH resource. In this case, the base station 104 does not receive the second HARQ ACK. The base station 104 determines the UE 106 does not receive the MsgB 2 due to not receiving a HARQ ACK on the fourth PUCCH resource.
- the base station 104 configures the UE 102 and the UE 106 to share the same Control resource set (CORSET) and search space which the UE 102 and the UE 106 monitor to receive the DCI elements on the PDCCHs.
- the UE 102 and the UE 106 may have different RNTIs.
- the base station 104 configures the UE 102 and the UE 106 to have different CORSETs and share the same RNTI.
- the UE 102 and the UE 106 transmit the MsgA 1 and the MsgA 2 on the same OFDM symbols, slots, subcarriers or physical resource blocks.
- the UE 102 and the UE 106 transmit the MsgA 1 and the MsgA 2 on different OFDM symbols, slots, subcarriers or physical resource blocks.
- a RNTI associated with a PRACH occasion in which a MsgA is transmitted may be computed as:
- RNTI 1 + s_id + 14 x t_id + 14 x 80 x f_id + 14 x 80 x 8 x ul_carrier_id + 14 x 80 x 8 x 2 x preamble ID of a MsgA, (Eq. 1) where:
- s_id is the index of the first OFDM symbol of the PRACH occasion (0 ⁇ s_id ⁇ 14),
- t_id is the index of the first slot of the PRACH occasion in a system frame (0 ⁇ t_id ⁇ 80), where the subcarrier spacing to determine t_id is based on the value of m specified in clause 5.3.2 in TS 38.211 [8],
- f_id is the index of the PRACH occasion in the frequency domain (0 ⁇ f_id ⁇ 8),
- ul_carrier_id is the UL carrier used for Random Access Preamble transmission (0 for NUL carrier, and 1 for SUL carrier), and
- preamble ID is an identity or identifier of a preamble included in the MsgA (e.g, 0 ⁇ preamble ID ⁇ 64).
- the UE 102, 106 transmitting a MsgA may then calculate the RNTI according to Equation 1, and may descramble the CRC included within a DCI element using the calculated RNTI.
- a method 1700 can be implemented in the processing hardware of a base station using hardware, firmware, software, or any suitable combination of hardware, firmware, and software.
- Fig. 17 is discussed below with example reference to the base station 104, in which one or more of the modules 132-138 can implement the method 1700.
- the method 1700 begins at block 1702, where the base station 104 receives a request to access a communication channel from several UEs 102, 106.
- Each request may be a MsgA having a random access preamble and a payload, such as a MsgA 1 and a MsgA 2.
- the MsgAs can be associated with the transmissions 306, 308 of Fig. 3, transmissions 406, 408 of Fig. 4, transmissions 506, 508 of Fig. 5, transmissions 606, 608 of Fig. 6, transmissions 708, 710 of Fig. 7, transmissions 808, 810 of Fig. 8, transmissions 906, 908 of Fig. 9, transmissions 1106, 1108 of Fig. 11, transmissions 1206, 1208 of Fig. 12, transmissions 1306, 1308 of Fig. 13, transmissions 1408, 1410 of Fig. 14, transmissions 1508, 1510 of Fig. 15, and transmissions 1606, 1608 of Fig. 16.
- the base station 104 transmits one or more response messages to each of the UEs 102, 106 that transmitted the MsgAs.
- the one or more response messages may include channel resource assignments (e.g., PUCCH resource assignments) configuring a respective channel resource (e.g., a PUCCH resource) for each of the UEs 102, 106 to transmit an acknowledgement (e.g., a HARQ ACK) of the one or more response messages.
- the response message may include a DCI element and a HARQ transmission including a MAC PDU having MsgBs corresponding to each of the UEs 102, 106.
- Each MsgB may include a contention resolution identity corresponding to one of the UEs 102, 106 so that a particular UE 102, 106 may identify the MsgB intended for the particular UE 102, 106.
- the one or more response messages may be a single response message and the channel resource assignments may be included in the MAC PDU, where each PUCCH resource assignment is included in one of the MsgBs.
- the one or more response messages may be a single response message and the channel resource assignments may be included in the DCI element.
- the base station 104 may transmit a separate response message including a separate DCI element and a separate MAC PDU to each of the UEs 102, 106, where each respective response message includes the channel resource assignment for the respective UE.
- the response messages can be associated with the transmission 310 of Fig. 3, transmission 410 of Fig. 4, transmission 510 of Fig. 5, transmission 610 of Fig. 6, transmission 712 of Fig. 7, transmission 812 of Fig. 8, transmissions 910, 912 of Fig. 9, transmissions 1110, 1112 of Fig. 11, transmissions 1210, 1212 of Fig. 12, transmissions 1310, 1312 of Fig. 13, transmissions 1412, 1414 of Fig. 14, transmissions 1512, 1514 of Fig. 15, and transmissions 1610-1616 of Fig. 16.
- the base station 104 receives HARQ ACKs from the UEs 102, 106 that successfully decoded the one or more response messages.
- the base station 104 identifies the UE 102, 106 that transmitted the HARQ ACK according to the channel resource (e.g., the PUCCH resource) on which the HARQ ACK is received. For example, if the base station 104 assigned a first PUCCH resource to UE 102 in the response message and receives a HARQ ACK on the first PUCCH resource, the base station 104 may determine that the UE 102 transmitted the HARQ ACK.
- the channel resource e.g., the PUCCH resource
- the base station 104 may receive HARQ NACKs indicating that the UEs that transmitted the HARQ NACKs did not successfully decode the one or more response messages.
- the HARQ ACK can be associated with the transmissions 320, 322 of Fig. 3, transmissions 420, 428 of Fig. 4, transmissions 526, 530 of Fig. 5, transmissions 620, 628 of Fig. 6, transmissions 724, 730 of Fig. 7, transmissions 824, 832 of Fig. 8, transmissions 922, 924 of Fig. 9, transmissions 1122, 1132 of Fig. 11, transmissions 1230, 1234 of Fig. 12, transmissions 1322, 1332 of Fig. 13, transmission 1432 of Fig. 14, transmissions 1524, 1534 of Fig. 15, and transmissions 1626, 1628 of Fig. 16.
- the HARQ NACK can be associated with the transmission 722 of Fig. 7, transmission 822 of Fig. 8, transmissions 1418, 1422, 1430 of Fig. 14, and transmission 1522 of Fig. 15.
- the base station 104 If the base station 104 receives a HARQ ACK from each of the UEs 102, 106 that transmitted MsgAs, the base station 104 stops transmitting HARQ transmissions including a MAC PDU. On the other hand, if the base station 104 does not receive a HARQ ACK from at least one of the UEs 102, 106 that transmitted a MsgA or receives a HARQ NACK from at least one of the UEs 102, 106 that transmitted a MsgA, the base station 104 transmits an additional response message including a HARQ transmission (block 1710).
- the additional response message may include the same MAC PDU or a different MAC PDU including only the MsgBs intended for UEs 102, 106 that did not receive and successfully decode the first HARQ transmission.
- the base station 104 may transmit a second HARQ transmission including the same MAC PDU. Then when at least one of the UEs 102, 106 receives and successfully decodes the second HARQ transmission, the base station 104 may transmit a third HARQ transmission including a different MAC PDU having only the MsgBs intended for UEs 102, 106 that did not receive and successfully decode the second HARQ transmission.
- the base station 104 may continue to transmit subsequent HARQ transmissions until each of the UEs 102, 106 receives and successfully decodes one of the HARQ transmissions.
- the base station 104 may format each HARQ transmission in a sequence of HARQ transmissions in any suitable manner, for example, where at least some of the HARQ transmissions are retransmissions of the same MAC PDU and other HARQ transmissions include new MAC PDUs.
- the base station 104 may transmit the additional response message to the UEs 102, 106 that did not receive and successfully decode the first HARQ transmission, or may transmit the additional response message to each of the UEs 102, 106.
- the UEs 102, 106 that transmitted a HARQ ACK in response to the first HARQ transmission may ignore the additional response message.
- the additional response message can be associated with the transmissions 424 of Fig. 4, transmission 522 of Fig. 5, transmission 624 of Fig. 6, transmission 726 of Fig. 7, transmission 828 of Fig. 8, transmissions 1126, 1128 of Fig. 11, transmissions 1224, 1226 of Fig. 12, transmissions 1326, 1328 of Fig. 13, transmissions 1424, 1426 of Fig. 14, and transmissions 1528, 1530 of Fig. 15.
- the base station 104 continues to generate and transmit additional response messages until the base station 104 receives a HARQ ACK from each of the UEs 102, 106 that transmitted MsgAs.
- a method 1800 can be implemented in the processing hardware of a base station using hardware, firmware, software, or any suitable combination of hardware, firmware, and software.
- the method 1800 may be a detailed method of the method 1700 of Fig. 17 for granting access to several UEs 102, 106 to a communication channel by providing resource assignments via a MAC PDU.
- Fig. 18 is discussed below with example reference to the base station 104, in which one or more of the modules 132-138 can implement the method 1800.
- the base station 104 receives a request to access a communication channel from at least one UE 102, 106.
- Each request may be a MsgA having a random access preamble and a payload, such as a MsgA 1 and a MsgA 2.
- the MsgAs can be associated with the transmissions 306, 308 of Fig. 3, transmissions 406, 408 of Fig. 4, transmissions 506, 508 of Fig. 5, transmissions 606, 608 of Fig. 6, transmissions 708, 710 of Fig. 7, and transmissions 808, 810 of Fig. 8.
- the base station 104 In response to receiving at least one MsgA from at least one UE 102, 106, the base station 104 generates a MAC PDU including at least one MsgB intended for a respective UE 102, 106 (block 1804).
- Each MsgB includes a different channel resource assignment (e.g., a PUCCH resource assignment) configuring a respective channel resource (e.g., a PUCCH resource) for each of the UEs 102, 106 to transmit an acknowledgement (e.g., a HARQ ACK).
- the base station 104 transmits a HARQ transmission of the MAC PDU.
- the HARQ transmissions can be associated with the transmission 310 of Fig.
- the base station 104 determines whether a HARQ ACK is received on each respective channel resource corresponding each of the MsgBs. If a HARQ ACK is received on each respective channel resource corresponding each of the MsgBs, the base station 104 stops transmitting the MAC PDU (block 1810).
- the base station 104 may transmit another HARQ transmission of the MAC PDU including each of the MsgBs and channel resource assignments.
- the base station 104 may generate a new MAC PDU including only MsgBs for which HARQ ACKs have not been received.
- the base station 104 may then transmit the new MAC PDU in an additional HARQ transmission.
- the additional HARQ transmissions can be associated with the transmission 424 of Fig. 4, transmission 522 of Fig. 5, transmission 624 of Fig. 6, transmission 726 of Fig. 7, and transmission 828 of Fig. 8.
- a method 1900 can be implemented in the processing hardware of a base station using hardware, firmware, software, or any suitable combination of hardware, firmware, and software.
- the method 1900 may be a detailed method of the method 1700 of Fig. 17 for granting access to several UEs 102, 106 to a communication channel by providing resource assignments via a DCI element.
- Fig. 19 is discussed below with example reference to the base station 104, in which one or more of the modules 132-138 can implement the method 1900.
- the base station 104 receives a request to access a communication channel from at least one UE 102, 106.
- Each request may be a MsgA having a random access preamble and a payload, such as a MsgA 1 and a MsgA 2.
- the MsgAs can be associated with the transmissions 906, 908 of Fig. 9, transmissions 1106, 1108 of Fig. 11, transmissions 1206, 1208 of Fig. 12, transmissions 1306, 1308 of Fig. 13, transmissions 1408, 1410 of Fig. 14, and transmissions 1508, 1510 of Fig. 15.
- the base station 104 In response to receiving at least one MsgA from at least one UE 102, 106, the base station 104 generates a MAC PDU including at least one MsgB intended for a respective UE 102, 106 (block 1904).
- the base station 104 also generates a first DCI element which assigns a first PDSCH and channel resources (e.g., PUCCH resources) for each of the UEs 102, 106 to transmit an acknowledgement (e.g., a HARQ ACK) (block 1906).
- Each channel resource corresponds to a different MsgB intended for a particular UE 102, 106.
- the base station 104 transmits the first DCI element on a first PDCCH and transmits a HARQ transmission including the MAC PDU on the first PDSCH.
- the DCI element and HARQ transmissions can be associated with the transmissions 910, 912 of Fig. 9, transmissions 1110, 1112 of Fig. 11, transmissions 1210, 1212 of Fig. 12, transmissions 1310, 1312 of Fig. 13, transmissions 1412, 1414 of Fig. 14, and transmissions 1512, 1514 of Fig. 15.
- the base station 104 determines whether a HARQ ACK is received on each respective channel resource corresponding each of the MsgBs. If a HARQ ACK is received on each respective channel resource corresponding each of the MsgBs, the base station 104 stops transmitting the MAC PDU (block 1912). On the other hand, if at least one HARQ ACK is not received on a respective channel resource corresponding to one of the MsgBs, the base station 104 may transmit the first DCI element and the first HARQ transmission of the MAC PDU on a second PDSCH.
- the base station 104 may generate a second DCI element which assigns a second PDSCH and second PUCCH resources.
- Each of the second PUCCH resources may correspond to a different MsgB intended for a particular UE 102, 106.
- Some of the second PUCCH resources may be the same as or different from some of the first PUCCH resources.
- the base station 104 may transmit the second DCI element on a second PDCCH and transmit a second HARQ transmission of the MAC PDU on the second PDSCH.
- the base station 104 generates a new MAC PDU including only MsgBs for which HARQ ACKs have not been received.
- the base station 104 generates a third DCI element which assigns a third PDSCH and third PUCCH resources.
- Each of the third PUCCH resources may correspond to a different MsgB intended for a particular UE 102, 106.
- Some of the third PUCCH resources may be the same as or different from some of the first PUCCH resources.
- the base station 104 may transmit the third DCI element on a second PDCCH and transmit a third HARQ transmission of the MAC PDU on the third PDSCH.
- the additional DCI element and HARQ transmissions can be associated with the transmissions 1126, 1128 of Fig. 11, transmissions 1224, 1226 of Fig. 12, transmissions 1326, 1328 of Fig. 13, transmissions 1424, 1426 of Fig. 14, and transmissions 1528, 1530 of Fig. 15.
- a method 2000 can be implemented in the processing hardware of a base station using hardware, firmware, software, or any suitable combination of hardware, firmware, and software.
- the method 2000 may be a detailed method of the method 1700 of Fig. 17 for granting access to several UEs 102, 106 to a communication channel by providing resource assignments via separate response messages.
- Fig. 20 is discussed below with example reference to the base station 104, in which one or more of the modules 132-138 can implement the method 2000.
- the base station 104 receives a request to access a communication channel from at least two UE 102, 106.
- Each request may be a MsgA having a random access preamble and a payload, such as a MsgA 1 and a MsgA 2.
- the MsgAs can be associated with the transmissions 1606, 1608 of Fig. 16.
- the base station 104 For each of the MsgAs, the base station 104 generates a separate MAC PDU including a corresponding MsgB (block 2004). The base station 104 also generates a separate DCI element assigning a separate PDSCH for the MAC PDU and a channel resource assignment (e.g., a PUCCH resource assignment) for the UE 102, 106 to transmit an acknowledgement (e.g., a HARQ ACK) in response to receiving and successfully decoding the separate MAC PDU (block 2006). At block 2008, the base station 104 transmits the separate DCI element on a separate PDCCH and transmits a HARQ transmission including the MAC PDU on the separate PDSCH. As a more specific example, the DCI element and HARQ transmissions can be associated with the transmissions 1610-1616 of Fig. 16.
- a method 2100 can be implemented in the processing hardware of a UE using hardware, firmware, software, or any suitable combination of hardware, firmware, and software.
- Fig. 21 is discussed below with example reference to the UE 102, in which one or more of the modules 122-126 can implement the method 2100.
- the method 2100 begins at block 2102, where the UE 102 transmits, to a base station 104, a request to access a communication channel.
- the request may be a MsgA having a random access preamble and a payload.
- the MsgA can be associated with the transmission 306 of Fig. 3, transmission 406 of Fig. 4, transmission 506 of Fig. 5, transmission 606 of Fig. 6, transmission 708 of Fig. 7, transmission 808 of Fig. 8, transmission 906 of Fig. 9, transmission 1106 of Fig. 11, transmission 1206 of Fig. 12, transmission 1306 of Fig. 13, transmission 1408 of Fig. 14, transmission 1508 of Fig. 15, and transmission 1606 of Fig. 16.
- the UE 102 receives a response message from the base station 104.
- the response message may include channel resource assignments (e.g., PUCCH resource assignments) configuring a respective channel resource (e.g., a PUCCH resource) for each of several UEs 102, 106 (including the UE 102) to transmit an acknowledgement (e.g., a HARQ ACK) of the response message.
- the response message may include a DCI element and a HARQ transmission including a MAC PDU having MsgBs corresponding to each of the UEs 102, 106.
- Each MsgB may include a contention resolution identity corresponding to one of the UEs 102, 106 so that a particular UE 102, 106 may identify the MsgB intended for the particular UE 102, 106.
- the channel resource assignments may be included in the MAC PDU, where each PUCCH resource assignment is included in one of the MsgBs.
- the channel resource assignments may be included in the DCI element.
- the response message can be associated with the transmission 310 of Fig. 3, transmission 410 of Fig. 4, transmission 510 of Fig. 5, transmission 610 of Fig. 6, transmission 712 of Fig. 7, transmission 812 of Fig. 8, transmissions 910, 912 of Fig. 9, transmissions 1110, 1112 of Fig. 11, transmissions 1210, 1212 of Fig. 12, transmissions 1310, 1312 of Fig. 13, transmissions 1412, 1414 of Fig. 14, and transmissions 1512, 1514 of Fig. 15.
- the UE 102 attempts to decode the response message to identify a channel resource assigned to the UE 102. If the UE 102 is unable to successfully decode the response message, the UE 102 may not transmit a HARQ ACK to the base station 104 or may transmit a HARQ NACK to the base station 104 on a PUCCH resource assigned to the UE 102 for transmitting HARQ NACKs to the base station 104.
- the UE 102 transmits a HARQ ACK to the base station 104 on the PUCCH resource assigned to the UE 102 for transmitting an acknowledgement of the response message (block 2110).
- the HARQ ACK can be associated with the transmission 320 of Fig. 3, transmission 428 of Fig. 4, transmission 526 of Fig. 5, transmission 628 of Fig. 6, transmission 730 of Fig. 7, transmission 832 of Fig. 8, transmission 922 of Fig. 9, transmission 1132 of Fig. 11, transmission 1230 of Fig. 12, transmission 1332 of Fig. 13, transmission 1534 of Fig. 15, and transmission 1626 of Fig. 16.
- a method 2200 can be implemented in the processing hardware of a UE using hardware, firmware, software, or any suitable combination of hardware, firmware, and software.
- the method 2200 may be a detailed method of the method 2100 of Fig. 21 for granting access to several UEs 102, 106 to a communication channel by providing resource assignments via a MAC PDU.
- Fig. 22 is discussed below with example reference to the base station 104, in which one or more of the modules 132-138 can implement the method 2200.
- the UE 102 transmits to a base station 104, a request to access a communication channel.
- the request may be a MsgA having a random access preamble and a payload.
- the MsgA can be associated with the transmission 306 of Fig. 3, transmission 406 of Fig. 4, transmission 506 of Fig. 5, transmission 606 of Fig. 6, transmission 708 of Fig. 7, and transmission 808 of Fig. 8.
- the UE 102 starts monitoring PDCCH(s). Then the UE 102 receives a DCI element with a CRC scrambled by a first RNTI on a PDCCH (block 2206).
- the DCI element may include a PDSCH for receiving a HARQ transmission.
- the UE 102 attempts to decode the HARQ transmission to obtain a MAC PDU having MsgBs intended for several UEs (block 2208).
- the UE 102 If the UE 102 successfully decodes the HARQ transmission to obtain the MAC PDU, the UE 102 obtains a MsgB within the MAC PDU having a contention resolution identity that corresponds to the UE 102.
- the contention resolution identity may be associated with or generated from content in the payload of the MsgA sent by the UE 102. If the UE 102 identifies a MsgB within the MAC PDU having a contention resolution identity that corresponds to the UE 102, the UE 102 determines contention resolution succeeds (block 2212).
- the UE 102 may transmit a HARQ ACK to the base station 104 on the channel resource (e.g., the PUCCH resource) indicated in the corresponding MsgB (block 2214).
- the HARQ ACK can be associated with the transmission 320 of Fig. 3, transmission 428 of Fig. 4, transmission 526 of Fig. 5, transmission 628 of Fig. 6, transmission 730 of Fig. 7, and transmission 832 of Fig. 8.
- the UE 102 may determine that contention resolution fails (block 2216). Then the UE 102 may transmit a second MsgA or may initiate a four-step RACH. [0176]
- the UE 102 includes a first preamble and a first payload in the first MsgA.
- the UE 102 also includes a second preamble and a second payload in the second MsgA. In some implementations, the first preamble and the second preamble are the same. In other implementations, the first preamble and the second preamble are the different.
- the UE 102 may select a second preamble which is different from the first preamble. Also in some implementations, the first payload and the second payload are the same, such that the UE 102 retransmits the first payload in the second MsgA. In other implementations, the first payload and the second payload are different, such that the UE 102 does not retransmit the first payload in the second MsgA.
- the first payload includes a first uplink MAC PDU and the second payload includes a second uplink MAC PDU.
- the first and second uplink MAC PDUs can be the same or different.
- the first payload includes a first uplink HARQ transmission of a first uplink MAC PDU and the second payload includes a second uplink HARQ transmission of a second uplink MAC PDU.
- the first and second uplink MAC PDUs can be the same or different.
- RVs of the first and second uplink HARQ transmissions can also be the same or different.
- the UE 102 may transmit a third preamble.
- the third preamble may be different from the first preamble.
- the UE 102 once again monitors PDCCH(s). Then the UE 102 may receive a MAC PDU including a random access response (RAR) on a PDCCH by using a second RNTI.
- the second RNTI may be different from the first RNTI.
- the RAR includes a preamble identity of the third preamble
- the UE 102 transmits a third HARQ transmission of a third uplink MAC PDU by using an uplink grant included in the RAR.
- the first and third uplink MAC PDUs can be the same or different.
- RVs of the first and third uplink HARQ transmissions can also be the same or different.
- a method 2300 can be implemented in the processing hardware of a UE using hardware, firmware, software, or any suitable combination of hardware, firmware, and software.
- the method 2300 may be a detailed method of the method 2100 of Fig. 21 for granting access to several UEs 102, 106 to a communication channel by providing resource assignments via a MAC PDU.
- Fig. 23 is discussed below with example reference to the base station 104, in which one or more of the modules 132-138 can implement the method 2300.
- the UE 102 transmits to a base station 104, a request to access a communication channel.
- the request may be a MsgA having a random access preamble and a payload.
- the MsgA can be associated with the transmission 306 of Fig. 3, transmission 406 of Fig. 4, transmission 506 of Fig. 5, transmission 606 of Fig. 6, transmission 708 of Fig. 7, and transmission 808 of Fig. 8.
- the UE 102 starting monitoring PDCCH(s) in a MsgB receiving window.
- the UE 102 monitors PDCCHs in the MsgB receiving window with a first RNTI to receive a downlink MAC PDU including a corresponding MsgB. If the UE 102 does not receive the corresponding MsgB in the downlink MAC PDU within the MsgB receiving window, the UE 102 determines that contention resolution fails (block 2316). If the MsgB receiving window has not yet expired, the UE 102 continues monitoring PDCCH(s) with the first RNTI.
- the UE 102 may start a timer to determine whether or not the MsgB receiving window has ended. In other implementations, the UE 102 may start a counter to count the number of time units (e.g., subframes or slots) passed to determine whether or not the MsgB receiving window has ended.
- time units e.g., subframes or slots
- the UE 102 receives a DCI element with a CRC scrambled by a first RNTI on a PDCCH (block 2306).
- the DCI element may include a PDSCH for receiving a HARQ transmission.
- the UE 102 attempts to decode the HARQ transmission to obtain a MAC PDU having MsgBs intended for several UEs (block 2308).
- the UE 102 If the UE 102 successfully decodes the HARQ transmission to obtain the MAC PDU, the UE 102 obtains a MsgB within the MAC PDU having a contention resolution identity that corresponds to the UE 102.
- the contention resolution identity may be associated with or generated from content in the payload of the MsgA sent by the UE 102. If the UE 102 identifies a MsgB within the MAC PDU having a contention resolution identity that corresponds to the UE 102, the UE 102 determines contention resolution succeeds (block 2312).
- the UE 102 may transmit a HARQ ACK to the base station 104 on the channel resource (e.g., the PUCCH resource) indicated in the corresponding MsgB (block 2314).
- the HARQ ACK can be associated with the transmission 320 of Fig. 3, transmission 428 of Fig. 4, transmission 526 of Fig. 5, transmission 628 of Fig. 6, transmission 730 of Fig. 7, and transmission 832 of Fig. 8.
- the HARQ NACK can be associated with the transmission 722 of Fig. 7, and transmission 822 of Fig. 8.
- the UE 102 may determine that contention resolution fails (block 2316). Then the UE 102 may transmit a second MsgA or may initiate a four-step RACH. If the MsgB receiving window has not yet expired, the UE 102 continues monitoring PDCCH(s) with the first RNTI.
- a method 2400 can be implemented in the processing hardware of a UE using hardware, firmware, software, or any suitable combination of hardware, firmware, and software.
- the method 2400 may be a detailed method of the method 2100 of Fig. 21 for granting access to several UEs 102, 106 to a communication channel by providing resource assignments via a DCI element.
- Fig. 24 is discussed below with example reference to the base station 104, in which one or more of the modules 132-138 can implement the method 2400.
- the UE 102 transmits to a base station 104, a request to access a communication channel.
- the request may be a MsgA having a random access preamble and a payload.
- the MsgA can be associated with the transmission 906 of Fig. 9, transmission 1106 of Fig. 11, transmission 1206 of Fig. 12, transmission 1306 of Fig. 13, transmission 1408 of Fig. 14, and transmission 1508 of Fig. 15.
- the UE 102 starting monitoring PDCCH(s). Then the UE 102 receives a DCI element with a CRC scrambled by a first RNTI on a PDCCH (block 2406).
- the DCI element may include a PDSCH for receiving a HARQ transmission.
- the UE 102 attempts to decode the HARQ transmission to obtain a MAC PDU having MsgBs intended for several UEs (block 2408).
- the UE 102 obtains a MsgB within the MAC PDU having a contention resolution identity that corresponds to the UE 102.
- the contention resolution identity may be associated with or generated from content in the payload of the MsgA sent by the UE 102. If the UE 102 identifies a MsgB within the MAC PDU having a contention resolution identity that corresponds to the UE 102, the UE 102 determines contention resolution succeeds (block 2412).
- the UE 102 may transmit a HARQ ACK to the base station 104 on the channel resource (e.g., the PUCCH resource) indicated in the DCI element (block 2414).
- the HARQ ACK can be associated with the transmission 922 of Fig. 9, transmission 1132 of Fig. 11, transmission 1230 of Fig. 12, transmission 1332 of Fig. 13, and transmission 1534 of Fig. 15.
- the HARQ NACK can be associated with the transmissions 1418, 1430 of Fig. 14, and transmission 1522 of Fig. 15.
- the UE 102 may determine that contention resolution fails (block 2416). Then the UE 102 may transmit a second MsgA or may initiate a four-step RACH.
- the UE 102 includes a first preamble and a first payload in the first MsgA.
- the UE 102 also includes a second preamble and a second payload in the second MsgA.
- the first preamble and the second preamble are the same.
- the first preamble and the second preamble are the different.
- the UE 102 may select a second preamble which is different from the first preamble.
- the first payload and the second payload are the same, such that the UE 102 retransmits the first payload in the second MsgA.
- the first payload and the second payload are different, such that the UE 102 does not retransmit the first payload in the second MsgA.
- the first payload includes a first uplink MAC PDU and the second payload includes a second uplink MAC PDU.
- the first and second uplink MAC PDUs can be the same or different.
- the first payload includes a first uplink HARQ transmission of a first uplink MAC PDU and the second payload includes a second uplink HARQ transmission of a second uplink MAC PDU.
- the first and second uplink MAC PDUs can be the same or different.
- RVs of the first and second uplink HARQ transmissions can also be the same or different.
- the UE 102 may transmit a third preamble.
- the third preamble may be different from the first preamble.
- the UE 102 once again monitors PDCCH(s). Then the UE 102 may receive a MAC PDU including a random access response (RAR) on a PDCCH by using a second RNTI.
- the second RNTI may be different from the first RNTI.
- the RAR includes a preamble identity of the third preamble
- the UE 102 transmits a third HARQ transmission of a third uplink MAC PDU by using an uplink grant included in the RAR.
- the first and third uplink MAC PDUs can be the same or different.
- RVs of the first and third uplink HARQ transmissions can also be the same or different.
- a method 2500 can be implemented in the processing hardware of a UE using hardware, firmware, software, or any suitable combination of hardware, firmware, and software.
- the method 2500 may be a detailed method of the method 2100 of Fig. 21 for granting access to several UEs 102, 106 to a communication channel by providing resource assignments via a DCI element.
- Fig. 24 is discussed below with example reference to the base station 104, in which one or more of the modules 132-138 can implement the method 2500.
- the UE 102 transmits to a base station 104, a request to access a communication channel.
- the request may be a MsgA having a random access preamble and a payload.
- the MsgA can be associated with the transmission 906 of Fig. 9, transmission 1106 of Fig. 11, transmission 1206 of Fig. 12, transmission 1306 of Fig. 13, transmission 1408 of Fig. 14, and transmission 1508 of Fig. 15.
- the UE 102 starting monitoring PDCCH(s) in a MsgB receiving window.
- the UE 102 monitors PDCCHs in the MsgB receiving window with a first RNTI to receive a downlink MAC PDU including a corresponding MsgB. If the UE 102 does not receive the corresponding MsgB in the downlink MAC PDU within the MsgB receiving window, the UE 102 determines that contention resolution fails (block 2516). If the MsgB receiving window has not yet expired, the UE 102 continues monitoring PDCCH(s) with the first RNTI.
- the UE 102 may start a timer to determine whether or not the MsgB receiving window has ended. In other implementations, the UE 102 may start a counter to count the number of time units (e.g., subframes or slots) passed to determine whether or not the MsgB receiving window has ended.
- time units e.g., subframes or slots
- the UE 102 receives a DCI element with a CRC scrambled by a first RNTI on a PDCCH (block 2506).
- the DCI element may include a PDSCH for receiving a HARQ transmission.
- the UE 102 attempts to decode the HARQ transmission to obtain a MAC PDU having MsgBs intended for several UEs (block 2508).
- the UE 102 obtains a MsgB within the MAC PDU having a contention resolution identity that corresponds to the UE 102.
- the contention resolution identity may be associated with or generated from content in the payload of the MsgA sent by the UE 102. If the UE 102 identifies a MsgB within the MAC PDU having a contention resolution identity that corresponds to the UE 102, the UE 102 determines contention resolution succeeds (block 2512).
- the UE 102 may transmit a HARQ ACK to the base station 104 on the channel resource (e.g., the PUCCH resource) indicated in the DCI element (block 2514).
- the HARQ ACK can be associated with the transmission 922 of Fig. 9, transmission 1132 of Fig. 11, transmission 1230 of Fig. 12, transmission 1332 of Fig. 13, and transmission 1534 of Fig. 15.
- the HARQ NACK can be associated with the transmissions 1418, 1430 of Fig. 14, and transmission 1522 of Fig. 15.
- the UE 102 may determine that contention resolution fails (block 2516). Then the UE 102 may transmit a second MsgA or may initiate a four-step RACH. If the MsgB receiving window has not yet expired, the UE 102 continues monitoring PDCCH(s) with the first RNTI.
- Embodiments of the techniques described in the present disclosure may include any number of the following aspects, either alone or combination:
- a method in a base station for granting access to a plurality of user devices to a communication channel comprising: receiving, by processing hardware at the base station from at least a first user device and a second user device, at least a first request to access the communication channel and a second request to access the communication channel, the first request including a first random access preamble and a first data payload and the second request including a second random access preamble and a second data payload; and transmitting, by the processing hardware to the at least first and second user devices, one or more response messages including at least a first channel resource assignment and a second channel resource assignment configuring at least a first and second channel resource for each of the at least first and second user devices to transmit an acknowledgement of the one or more response messages.
- transmitting the one or more response messages includes: transmitting a single response message having a protocol data unit (PDU) associated with a media access control (MAC) layer and including the at least first and second channel resource assignments.
- PDU protocol data unit
- MAC media access control
- transmitting the single response message includes: transmitting the single response message having the PDU including at least a first identifier and a second identifier related to the at least first and second user devices.
- response message is transmitted on a first shared channel and further comprising: in response to not receiving an acknowledgement of the response message from at least one of the at least first and second user devices, retransmitting, by the processing hardware to the at least one user device, the response message on a second shared channel.
- the response message is a first response message transmitted on a first shared channel
- the method further comprising: in response to not receiving an acknowledgement of the response message from at least one of the at least first and second of user devices, transmitting, by the processing hardware to the at least one user device, a second response message on a second shared channel having a second PDU including an additional channel resource assignment configuring an additional channel resource for the at least one user device to transmit an acknowledgement of the second response message.
- the method according to any of the preceding aspects further comprising: transmitting, by the processing hardware to the at least first and second user devices, at least a third channel resource assignment and a fourth channel resource assignment configuring at least a third channel resource and a fourth channel resource for each of the at least first and second user devices to transmit a negative acknowledgement (NACK) of the response message; receiving, by the processing hardware from at least one of the at least first and second user devices, a NACK of the response message on at least one of the at least third and fourth channel resources; and transmitting, by the processing hardware to the at least one user device, the second response message on the second shared channel.
- NACK negative acknowledgement
- transmitting the one or more response messages includes: transmitting a single response message having a downlink control information (DCI) element including the at least first and second channel resource assignments and a protocol data unit (PDU) associated with a media access control (MAC) layer.
- DCI downlink control information
- PDU protocol data unit
- transmitting the one or more response messages includes: transmitting a separate message having a downlink control information (DCI) element including a channel resource assignment configuring a channel resource for each of the at least first and second user devices to transmit an acknowledgement of the separate response message.
- transmitting the separate response message includes: transmitting the separate response message including a protocol data unit (PDU) associated with a media access control (MAC) layer, the PDU including an identifier related to the user device, and the DCI element including a separate shared channel for receiving the PDU at the user device.
- PDU protocol data unit
- MAC media access control
- a method in a first user device for requesting access to a communication channel comprising: transmitting, by processing hardware at the first user device to a base station, a request to access the communication channel, the request include a random access preamble and a data payload; receiving, by the processing hardware, a response message to the request including at least a first channel resource assignment and a second channel resource assignment configuring at least a first channel resource and a second channel resource for each of at least the first user device and a second user device to transmit an acknowledgement of the response message; and attempting to decode, by the processing hardware, the response message to identify the first channel resource assigned to the first user device.
- attempting to decode the response message includes: attempting to decode a protocol data unit (PDU) associated with a media access control (MAC) layer and including the at least first and second channel resource assignments.
- PDU protocol data unit
- MAC media access control
- attempting to decode the response message includes: attempting to decode, by the processing hardware, a downlink control information (DCI) element including the at least first and second channel resource assignments; and attempting to decode, by the processing hardware, a protocol data unit (PDU) associated with a media access control (MAC) layer and including at least a first identifier and a second identifier related to the at least first and second user devices.
- DCI downlink control information
- PDU protocol data unit associated with a media access control (MAC) layer and including at least a first identifier and a second identifier related to the at least first and second user devices.
- [0226] 28 The method according to any of aspects 17-26, wherein the response message is received via a first shared channel, the method further comprising: in response to unsuccessfully decoding the PDU: receiving, by the processing hardware, a DCI element including an additional channel resource assignment configuring an additional channel resource for the first user device to transmit an acknowledgement of a second response message; and receiving, by the processing hardware, a second PDU on a second shared channel.
- a user device in which the techniques of this disclosure can be implemented can be any suitable device capable of wireless communications such as a smartphone, a tablet computer, a laptop computer, a mobile gaming console, a point-of-sale (POS) terminal, a health monitoring device, a drone, a camera, a media- streaming dongle or another personal media device, a wearable device such as a smartwatch, a wireless hotspot, a femtocell, or a broadband router.
- the user device in some cases may be embedded in an electronic system such as the head unit of a vehicle or an advanced driver assistance system (ADAS).
- ADAS advanced driver assistance system
- the user device can operate as an internet-of-things (IoT) device or a mobile-internet device (MID).
- IoT internet-of-things
- MID mobile-internet device
- the user device can include one or more general-purpose processors, a computer-readable memory, a user interface, one or more network interfaces, one or more sensors, etc.
- Modules can be software modules (e.g., code stored on non- transitory machine-readable medium) or hardware modules.
- a hardware module is a tangible unit capable of performing certain operations and may be configured or arranged in a certain manner.
- a hardware module can comprise dedicated circuitry or logic that is permanently configured (e.g., as a special-purpose processor, such as a field programmable gate array (FPGA) or an application- specific integrated circuit (ASIC)) to perform certain operations.
- a hardware module may also comprise programmable logic or circuitry (e.g., as encompassed within a general-purpose processor or other programmable processor) that is temporarily configured by software to perform certain operations.
- the decision to implement a hardware module in dedicated and permanently configured circuitry, or in temporarily configured circuitry (e.g., configured by software) may be driven by cost and time considerations.
- the techniques can be provided as part of the operating system, a library used by multiple applications, a particular software application, etc.
- the software can be executed by one or more general-purpose processors or one or more special-purpose processors.
Abstract
Granting access to a communication channel for several user devices by a base station includes receiving, from at least a first and second user device, at least a first request to access the communication channel and a second request to access the communication channel (1702), the first request including a first random access preamble and a first payload, and the second request including a second random access preamble and a second payload, and transmitting, to at least the first and second user devices, one or more response messages including at least a first and second channel resource assignment configuring at least a first and second channel resource for at least the first and second user devices to transmit an acknowledgement of the one or more response messages (1704).
Description
ACCESSING A COMMUNICATION CHANNEL BY MULTIPLE USER DEVICES
AT THE SAME TIME
FIELD OF THE DISCLOSURE
[0001] This disclosure relates to wireless communications and, more particularly, to synchronizing wireless communications in a channel access procedure.
BACKGROUND
[0002] The background description provided herein is for the purpose of generally presenting the context of the disclosure. Work of the presently named inventors, to the extent it is described in this background section, as well as aspects of the description that may not otherwise qualify as prior art at the time of filing, are neither expressly nor impliedly admitted as prior art against the present disclosure.
[0003] To synchronize communication over a radio interface, a user device (referred to as user equipment, or “UE”) and a base station can use a random access channel (RACH) procedure, for example. According to the four-step RACH procedure, (1) a user device sends a random access preamble to the base station (“Msgl”); (2) the base station sends a random access response (RAR) to the user device (“Msg2”); (3) the user device sends a scheduled transmission to the base station (“Msg3”); and (4) the base station sends a contention resolution to the user device (“Msg4”). Some standards recently introduced a two-step procedure which condenses steps (1) and (3) into a first step and steps (2) and (4) into a second step, such that (1) a user device sends a random access preamble and a scheduled transmission to the base station (“MsgA”); and (2) the base station sends an RAR and contention resolution to the user device (“MsgB”).
[0004] The base station may send the MsgB in a medium access control (MAC) protocol data unit (PDU) using a hybrid automatic repeat request (HARQ) transmission scheme. If the user device receives and successfully decodes the HARQ transmission to obtain the MAC PDU, the user device transmits a HARQ acknowledgement (ACK) on a physical uplink control channel (PUCCH) to the base station to acknowledge receipt of the HARQ transmission. Otherwise, the base station retransmits the HARQ transmission until the base station receives a HARQ ACK from the user device.
[0005] However, when multiple user devices send MsgAs in the two-step RACH procedure at the same time, the base station includes different MsgBs in the MAC PDU for each of the user devices. The HARQ transmission of the MAC PDU is sent on the same
physical downlink shared channel (PDSCH) to each of the user devices, and because each of the user devices share the PDSCH, each of the user devices transmit HARQ ACKs on the same physical uplink control channel (PUCCH). Accordingly, the base station cannot determine which of the user devices received the MAC PDU from the HARQ ACK. As a result, if one of the user devices transmits a HARQ ACK and another user device does not receive and successfully decode the HARQ transmission, the base station may not be able to determine that the other user device did not receive or successfully decode the HARQ transmission. Thus, the base station may not retransmit the MsgB to the other user device, and the other user device may fail to successfully complete the two-step RACH procedure.
SUMMARY
[0006] Generally speaking, the techniques of this disclosure allow the base station to determine which user device transmitted a HARQ ACK to the base station in response to a HARQ transmission sent to several user devices when the user devices transmitted respective communications during a channel access procedure to the base station at the same time. In some implementations, the channel access communications are RACH transmissions from the user devices, such as MsgAs each including a random access preamble and a data payload. In one or several response messages to the user devices, which may be HARQ transmission(s), the base station transmits different MsgBs for each of the user devices. Each of the MsgBs include an identifier related to a particular user device, such as a contention resolution identity which may be generated from content in the MsgA sent by the corresponding user device. Still further, the response message(s) to the user devices may include channel resource assignments configuring channel resources for each of the user devices to transmit an acknowledgement of the response message, such as a HARQ ACK. In some implementations, the channel resource assignments are PUCCH resource assignments. Each user device then attempts to decode the HARQ transmission(s) to obtain the MsgB corresponding to the user device. If a user device receives and successfully decodes the HARQ transmission(s) to obtain the MAC PDU, the user device transmits a HARQ ACK to the base station on the channel resource assigned to the user device according to the channel resource assignments included in the HARQ transmission(s).
[0007] In some implementations, the base station generates a HARQ transmission including different MsgBs and channel resource assignments for the user devices within a MAC PDU. The base station sends the HARQ transmission to the user devices over a
PDSCH. In other implementations, the base station transmits a downlink control information (DCI) element which includes the channel resource assignments for the user devices, and a HARQ transmission which includes the different MsgBs in the MAC PDU. In yet other implementations, the base station generates several response messages, where each response message is transmitted to a particular user device. The base station transmits a separate response message to each user device including a DCI element which includes the channel resource assignment for the user device and a HARQ transmission including a MAC PDU having the MsgB for the user device. The user device then transmits a HARQ ACK to the base station on the channel resource assigned to the user device according to the channel resource assignment included in the separate response message.
[0008] One example embodiment of these techniques is a method in a base station for granting access to a plurality of user devices to a communication channel. The method includes receiving, by processing hardware at the base station, at least a first request to access the communication channel from a first user device and a second request to access the communication channel from a second user device, the first request including a first random access preamble and a first data payload and the second request including a second random access preamble and a second data payload. The method further includes transmitting, by the processing hardware to the at least first and second user devices on a first shared channel, a single response message including at least a first channel resource assignment configuring a first channel resource for the first user device to transmit an acknowledgement of the single response message and a second channel resource assignment configuring a second channel resource for the second user device to transmit an acknowledgement of single response message.
[0009] Another embodiment of these techniques is a base station comprising processing hardware configured to implement the method above.
[0010] Yet another embodiment of these techniques is a method in a first user device for requesting access to a communication channel. The method includes transmitting, by processing hardware at the first user device to a base station, a request to access the communication channel, the request including a random access preamble and a data payload, and receiving, by the processing hardware on a first shared channel, a single response message to the request including at least a first channel resource assignment configuring a first channel resource for the first user device to transmit an acknowledgement of the single
response message and a second channel resource assignment configuring a second channel resource for a second user device to transmit an acknowledgement of the single response message. The method further includes attempting to decode, by the processing hardware, the single response message to identify the first channel resource assigned to the first user device.
[0011] Still another embodiment of these techniques is a user device comprising processing hardware configured to implement the method above.
BRIEF DESCRIPTION OF THE DRAWINGS
[0012] Fig. 1 is a block diagram of an example wireless communication network in which a base station and user devices can handle channel access procedures in accordance with the techniques of this disclosure;
[0013] Fig. 2 is a messaging diagram of an example two-step RACH procedure;
[0014] Fig. 3 is a messaging diagram of an example procedure for providing resource assignments via a MAC PDU to user devices for transmitting acknowledgements of a response message from the base station;
[0015] Fig. 4 is a messaging diagram of an example procedure for providing resource assignments to user devices for transmitting acknowledgements of a response message from the base station and retransmitting the response message when one of the user devices does not transmit an acknowledgement;
[0016] Fig. 5 is a messaging diagram of an example procedure for providing resource assignments to user devices for transmitting acknowledgements of a response message from the base station and retransmitting the response message when each of the user devices does not transmit an acknowledgement;
[0017] Fig. 6 is a messaging diagram of an example procedure for providing resource assignments to user devices for transmitting acknowledgements of a response message from the base station and transmitting a second response message when one of the user devices does not transmit an acknowledgement;
[0018] Fig. 7 is a messaging diagram of an example procedure for providing resource assignments to user devices for transmitting acknowledgements of a response message from the base station and retransmitting the response message when one of the user devices transmits a negative acknowledgement;
[0019] Fig. 8 is a messaging diagram of an example procedure for providing resource assignments to user devices for transmitting acknowledgements of a response message from the base station and transmitting a second response message when one of the user devices transmits a negative acknowledgement;
[0020] Fig. 9 is a messaging diagram of an example procedure for providing resource assignments via a DCI element to user devices for transmitting acknowledgements of a response message from the base station;
[0021] Fig. 10 illustrates an example format of a DCI element and a MAC PDU in the response message including a MsgB 1, a MsgB 2, and first and second PUCCH resource assignments;
[0022] Fig. 11 is a messaging diagram of an example procedure for providing resource assignments via a DCI element to user devices for transmitting acknowledgements of a response message from the base station and retransmitting the response message when one of the user devices does not transmit an acknowledgement;
[0023] Fig. 12 is a messaging diagram of an example procedure for providing resource assignments via a DCI element to user devices for transmitting acknowledgements of a response message from the base station and retransmitting the response message when each of the user devices does not transmit an acknowledgement;
[0024] Fig. 13 is a messaging diagram of an example procedure for providing resource assignments via a DCI element to user devices for transmitting acknowledgements of a response message from the base station and transmitting a second response message when one of the user devices does not transmit an acknowledgement;
[0025] Fig. 14 is a messaging diagram of an example procedure for providing resource assignments via a DCI element to user devices for transmitting acknowledgements of a response message from the base station and retransmitting the response message when one of the user devices transmits a negative acknowledgement;
[0026] Fig. 15 is a messaging diagram of an example procedure for providing resource assignments via a DCI element to user devices for transmitting acknowledgements of a second response message when one of the user devices transmits a negative acknowledgement;
[0027] Fig. 16 is a messaging diagram of an example procedure for providing resource assignments via separate response messages to user devices for transmitting acknowledgements of the response messages from the base station;
[0028] Fig. 17 is a flow diagram of an example method for granting access to several user devices to a communication channel, which can be implemented in the base station of Fig. 1;
[0029] Fig. 18 is a flow diagram of an example detailed method of the method of Fig. 17 for granting access to several user devices to a communication channel by providing resource assignments via a MAC PDU to user devices for transmitting acknowledgements of a response message from the base station, which can be implemented in the base station of Fig. l;
[0030] Fig. 19 is a flow diagram of another example detailed method of the method of Fig. 17 for granting access to several user devices to a communication channel by providing resource assignments via a DCI element to user devices for transmitting acknowledgements of a response message from the base station, which can be implemented in the base station of Fig. 1;
[0031] Fig. 20 is a flow diagram of yet another example detailed method of the method of Fig. 17 for granting access to several user devices to a communication channel by providing resource assignments via separate response messages to user devices for transmitting acknowledgements of a response message from the base station, which can be implemented in the base station of Fig. 1;
[0032] Fig. 21 is a flow diagram of an example method for requesting access to a communication channel, which can be implemented in the user device of Fig. 1;
[0033] Fig. 22 is a flow diagram of an example detailed method of the method of Fig. 21 for requesting access to a communication channel by transmitting an acknowledgement of a response message from the base station via a channel resource assigned to the user device via the MAC PDU, which can be implemented in the user device of Fig. 1;
[0034] Fig. 23 is a flow diagram of another example detailed method of the method of Fig. 21 for requesting access to a communication channel by transmitting an acknowledgement of a response message from the base station via a channel resource assigned to the user device via the MAC PDU, which can be implemented in the user device of Fig. 1;
[0035] Fig. 24 is a flow diagram of yet another example detailed method of the method of Fig. 21 for requesting access to a communication channel by transmitting an acknowledgement of a response message from the base station via a channel resource assigned to the user device via the DCI element, which can be implemented in the user device of Fig. 1; and
[0036] Fig. 25 is a flow diagram of another example detailed method of the method of Fig. 21 for requesting access to a communication channel by transmitting an acknowledgement of a response message from the base station via a channel resource assigned to the user device via the DCI element, which can be implemented in the user device of Fig. 1, which can be implemented in the user device of Fig. 1.
DETAILED DESCRIPTION OF THE DRAWINGS
[0037] Fig. 1 depicts an example wireless communication network 100 in which devices such as base stations and user devices (also referred to user equipment, or UEs) communicate using channel access procedures.
[0038] The wireless communication network 100 in an example configuration includes multiple UEs 102, 106, which can be any suitable device capable of wireless communications (as further discussed below). The wireless communication network 100 further includes a 5G New Radio (NR) base station 104 connected to a core network (CN) 107 of CN type 5GC. The 5G NR base station 104 accordingly operates as a g Node B (gNB). In other implementations, however, the wireless communication network 100 can include one or more base stations that operate according to radio access technologies (RATs) of types other than NR, and these base stations can be connected to CNs of other CN types, or operated in a standalone mode without a connection to any CN. Accordingly, devices operating using any RAT can implement the techniques of this disclosure when attempting to obtain radio resources in an unlicensed spectrum.
[0039] The base station 104 covers a 5G NR cell 108 in which UEs can utilize licensed spectrum or unlicensed spectrum as well as portions of the radio spectrum allocated specifically to the service provider that operates the base station 104 and the core network 107. When receiving data from, and transmitting data to, the base station 104 using the 5G NR air interface on the unlicensed spectrum (i.e., NR-unlicensed (NR-U)), the UEs 102, 106 may share the unlicensed spectrum with other devices. For example, a UE 110 can be a subscriber of the service provider that operates the base station 104 and the core network 107,
and thus can communicate with the base station 104. In another scenario, the UE 110 is a subscriber of another service provider that supports the NR-U and communicates with a base station other than the base station 104 (not shown to avoid clutter). In this scenario, a user operates the base station 104 and connects the base station 104 to a data network of an Internet service provider (ISP). The base station 104 in this case operates similar to a WiFi access point (AP) but utilizes the NR-U instead of one of IEEE 802.11 standards to communicate with the UEs. Further, an AP 112 can utilize portions of the radio spectrum as the NR-U when operating in a wireless local area network (WLAN) according to one of IEEE 802.11 standards.
[0040] In general, the wireless communication network 100 can include any number of base stations, and each of the base stations can cover one, two, three, or any other suitable number of cells. Additionally, the wireless communication network 100 can include any number of UEs 102, 106.
[0041] The UE 102, 106 is equipped with processing hardware 120 that can include one or more general-purpose processors (e.g., CPUs) and a non-transitory computer-readable memory storing instructions that the one or more general-purpose processors execute. Additionally or alternatively, the processing hardware 120 can include special-purpose processing units. The processing hardware 120 in an example implementation includes a channel access request generator 122, a response message decoder 124, and a downlink transmission processor 126.
[0042] The channel access request generator 122 may generate a Msg A having a random access preamble and a payload. In some implementations, the payload in the MsgA is a MAC PDU. The payload may include an uplink common control channel (CCCH) message having an RRC request message (e.g., an RRC Setup Request message, an RRC Resume Request message, an RRC Reestablishment Request message, or an RRC Early Data Request message). In other implementations, the payload may include an Internet Protocol (IP) packet. The MAC PDU may include at least one of an RRC request message, a MAC control element (CE), a radio link control (RLC) PDU, a Packet Data Convergence Protocol (PDCP) PDU and a Service Data Adaptation Protocol (SDAP) PDU. The base station 104 may provide a response message to the MsgA including a DCI on a physical downlink control channel (PDCCH), and a MAC PDU in a physical data shared channel (PDSCH). The MAC PDU may be included in a HARQ transmission. The response message may include several
MsgBs in the MAC PDU each for a particular UE of several UEs 102, 106 that provided a MsgA to the base station 104 at the same time. Each MsgB may include information for a particular UE 102, 106. The information is UE specific and may include at least one of a temporary cell-radio network temporary identifier (C-RNTI), a contention resolution identity, and a timing advanced command for a specific UE. In some cases, the MsgB may or may not include a PDU. The PDU may be a packet data convergence protocol (PDCP) PDU, a radio link control (RLC) PDU, a radio resource control (RRC) PDU or an RRC message. The base station 104 may include several MsgBs for different UEs in the MAC PDU, where each MsgB is for a particular UE of the UEs that transmitted a MsgA to the base station 104 at the same time.
[0043] Additionally, the response message may include PUCCH resource assignments configuring a different PUCCH resource for each UE 102, 106 to transmit a HARQ ACK in response to successfully decoding the MAC PDU in the HARQ transmission. Then the response message decoder 124 may decode the response message by obtaining the DCI.
When the response message decoder 124 successfully obtains the DCI, the downlink transmission processor 126 can receive a PDSCH transmission including the MAC PDU according to the DCI. The response message decoder 124 may then attempt to decode the MAC PDU to identify a MsgB having a contention resolution identity that corresponds to the particular UE 102, 106. For example, the contention resolution identity may be associated with or generated from content in the payload of the MsgA sent by the particular UE 102,
106. If the response message decoder 124 successfully decodes the MAC PDU, the UE 102, 106 may transmit a HARQ ACK to the base station 104 on the PUCCH resource assigned to the UE 102, 106 in the response message. If the response message decoder 124 is unable to decode the MAC PDU, the UE 102, 106 may transmit a HARQ negative acknowledgement (NACK) to the base station 104 or may not transmit anything to the base station 104.
[0044] The memory of the processing hardware 120 also can store an RNTI 128 of the UE 102, 106. The RNTI can be for example a cell RNTI (C-RNTI), a temporary C-RNTI, a random access RNTI (RA-RNTI), a system information RNTI (SI-RNTI), a paging RNTI (P- RNTI), a configured scheduling RNTI (CS-RNTI), etc. The UE 102, 106 can attempt to decode a PDCCH using the RNTI 128. The base station 104 may transmit to the UE 102,
106 a MAC PDU with a HARQ transmission in a PDSCH. The MAC PDUs may include different MsgBs for different UEs. The UE 102, 106 can store multiple RNTIs of different types and utilize these RNTIs when processing different messages as discussed below.
[0045] Processing hardware 130 of the base station 104 also can include one or more general-purpose processors such as CPUs and a non-transitory computer-readable memory storing instructions that the one or more general-purpose processors execute. Additionally or alternatively, the processing hardware 130 can include special-purpose processing units. The processing hardware in an example implementation includes a payload decoder 132, a DCI controller 134, a PDU controller 136, and an RNTI generator 138. In other implementations, the processing hardware 130 includes only some of the units 132-138.
[0046] In operation, the payload decoder 132 decodes the payloads included in the MsgAs from the UEs 102, 106. The DCI controller 134 generates a DCI to be transmitted to the UE 102, 106 via a PDCCH. In some implementations, the DCI includes PUCCH resource assignments configuring a different PUCCH resource for each UE 102, 106 to transmit a HARQ ACK in response to successfully decoding the MAC PDU in the HARQ transmission.
[0047] The PDU controller 136 generates a MAC PDU to be transmitted to the UEs 102, 106 via a PDSCH. In some implementations, the generated MAC PDU includes PUCCH resource assignments configuring a different PUCCH resource for each UE 102, 106 to transmit a HARQ ACK in response to successfully decoding the MAC PDU in the HARQ transmission. The MAC PDU may also include several MsgBs each corresponding to a different UE. Each MsgB includes a contention resolution identity corresponding to one of the UEs, so that a particular UE 102, 106 may identify the MsgB intended for the particular UE 102, 106.
[0048] The RNTI generator 138 generates an RNTI which is used to scramble the DCI to be transmitted to the UE 102, 106 via a PDCCH.
[0049] As described above, during a channel access procedure, several UEs 102, 106 transmit MsgAs to the base station 104 at the same time where each of the MsgAs includes a random access preamble and a payload. The base station 104 then generates a response message which may include a HARQ transmission having a MAC PDU with several MsgBs each corresponding to a different one of the UEs 102, 106 that transmitted the MsgA. Each MsgB may include an identifier related to a particular UE, such as a contention resolution identity which may be generated from content in the MsgA sent by the corresponding UE. Each UE 102, 106 attempts to decode the MAC PDU included in the HARQ transmission to identify a MsgB corresponding to the particular UE 102, 106 based on the contention resolution identity of the MsgB. If the UE 102, 106 successfully decodes the MAC PDU, the
UE 102, 106 may transmit a HARQ ACK to the base station 104 on the PUCCH resource assigned to the UE 102, 106 in the response message. On the other hand, if the UE 102, 106 is unable to decode the MAC PDU, the UE 102, 106 may transmit a HARQ NACK to the base station 104 or may not send a transmission to the base station 104.
[0050] While the messaging diagrams in Figs. 3-9 and 10-16, described in more detail below, include two UEs (UE 102 and UE 106), any number of UEs may transmit MsgAs to the base station 104 at the same time, and thus may receive a response message from the base station 104 including MsgBs corresponding to each of the MsgAs. Additionally, while the MsgAs may be transmitted simultaneously, the MsgAs may be transmitted on different frequencies or the same frequencies.
[0051] In some implementations, the base station may transmit PUCCH resource assignments to the UEs 102, 106 via the MAC PDU. Fig. 3 depicts a messaging diagram of an example procedure for providing resource assignments via a MAC PDU to UEs 102, 106 for transmitting acknowledgements of a response message from the base station 104. As shown in Fig. 3, UE 102 and UE 106 both initiate 302, 304 a two-step RACH procedure. In particular, a base station (e.g., gNB) 104 receives 306, 308 a MsgA 1 from UE 102 and a MsgA 2 from UE 106. The base station 104 generates a MsgB 1 to respond to the MsgA 1 and generates a MsgB 2 to respond to the MsgA 2. To generate the MsgB 1, the base station 104 generates a first PUCCH resource assignment and includes the first PUCCH resource assignment in the MsgB 1. To generate the MsgB 2, the base station 104 generates a second PUCCH resource assignment different from the first PUCCH resource assignment, and includes the second PUCCH resource assignment in the MsgB 2. The first PUCCH resource assignment configures a first PUCCH resource and the second resource assignment configures a second PUCCH resource. The first PUCCH resource and the second PUCCH resource may be different or may not overlap. In one example, the first and second PUCCH resources can be on different OFDM symbols, different slots, different subcarriers or different physical resource blocks. The OFDM can be a Discrete Fourier Transform-Spread (DFT-S-OFDM) or a cyclic -prefix (CP) OFDM. The base station 104 includes the MsgB 1 and the MsgB 2 in a first MAC PDU. The base station 104 transmits 310 a first HARQ transmission of the first MAC PDU on a first PDSCH.
[0052] The UE 102 and the UE 106 perform PDCCH monitoring to receive the first PDSCH. If the UE 102 receives the first MAC PDU on the first PDSCH, the UE 102
identifies the first PUCCH resource assignment from the MsgB 1 in the first MAC PDU. The UE 102 transmits 320 a first HARQ ACK according to the first PUCCH resource assignment. If the base station 104 receives the first HARQ ACK on the first PUCCH resource, the base station 104 determines the UE 102 received the MsgB E If the UE 102 does not receive the first MAC PDU on the first PDSCH, the UE 102 does not transmit the first HARQ ACK on the first PUCCH resource. In this case, the base station 104 does not receive the first HARQ ACK. The base station 104 determines the UE 102 does not receive the MsgB 1 due to not receiving a HARQ ACK on the first PUCCH resource.
[0053] Likewise, if the UE 106 receives the first MAC PDU on the first PDSCH, the UE 106 identifies the second PUCCH resource assignment from the MsgB 2 in the first MAC PDU. The UE 106 transmits 322 a second HARQ ACK according to the second PUCCH resource assignment. If the base station 104 receives the second HARQ ACK on the second PUCCH resource, the base station 104 determines the UE 106 received the MsgB 2. If the UE 106 does not receive the first MAC PDU on the first PDSCH, the UE 106 does not transmit the second HARQ ACK on the second PUCCH resource. In this case, the base station 104 does not receive the second HARQ ACK. The base station 104 determines the UE 106 does not receive the MsgB 2 due to not receiving a HARQ ACK on the second PUCCH resource.
[0054] The base station 104 can determine whether the UE 102 received the MsgB 1 according to whether a HARQ ACK is received from the UE 102 on the first PUCCH resource. The base station 104 can determine whether the UE 106 received the MsgB 2 according to whether a HARQ ACK is received from the UE 106 on the second PUCCH resource.
[0055] In some implementations, the base station 104 transmits the first MAC PDU using a HARQ transmission scheme. For example, the base station 104 generates a first HARQ transmission of the first MAC PDU and transmits the first HARQ transmission on the first PDSCH to the UE 102 and UE 106. The UE 102 receives the first HARQ transmission and attempts to decode 312 the first HARQ transmission to obtain the first MAC PDU. If the UE 102 successfully decodes 314 the first HARQ transmission to obtain the first MAC PDU and identifies the MsgB 1, the UE 102 transmits the first HARQ ACK 320 on the first PUCCH resource included in the MsgB 1 to the base station 104 to acknowledge reception of the first MAC PDU or the MsgB 1. The UE 102 may identify the MsgB 1 according to a contention
resolution identity in the MsgB 1. The contention resolution identity may be associated with/generated from content in a payload of the MsgA 1. For example, if the UE 102 identifies the contention resolution identity in the MsgB 1 is generated from the content in the payload of the MsgA 1, the UE 102 identifies the MsgB 1 as a Msg B intended for the UE 102.
[0056] Likewise, the UE 106 receives the first HARQ transmission and attempts to decode 316 the first HARQ transmission to obtain the first MAC PDU. If the UE 106 successfully decodes 318 the first HARQ transmission to obtain the first MAC PDU and identifies the MsgB 2, the UE 106 transmits 322 the second HARQ ACK on the second PUCCH resource included in the MsgB 2 to the base station 104 to acknowledge reception of the first MAC PDU or the MsgB 2. The UE 106 may identify the MsgB 2 according to a contention resolution identity in the MsgB 2. The contention resolution identity may be associated with/generated from content in a payload of the MsgA 2. For example, if the UE 106 identifies the contention resolution identity in the MsgB 2 is generated from the content in the payload of the MsgA 2, the UE 106 identifies the MsgB 2 as a Msg B intended for the UE 106. In response to receiving a HARQ ACK from each of the UEs 102, 106, the base station 104 then stops transmitting 324 the MAC PDU. In some implementations, the UE 102 and the UE 106 may transmit HARQ ACKs at the same time (e.g., with different spatial assignments). In other implementations, the UE 102 and the UE 106 may transmit the HARQ ACKs at different time slots or different OFDM symbols.
[0057] In the example scenario shown in the messaging diagram of Fig. 3, both the UE 102 and the UE 106 successfully decode the MAC PDU and transmit a HARQ ACK in response to the first HARQ transmission from the base station. Figs. 4 and 5 illustrate example scenarios where one or both of the UEs 102, 106 do not successfully decode the MAC PDU. More specifically, Fig. 4 depicts a messaging diagram of an example procedure for providing resource assignments to UEs for transmitting acknowledgements of a response message from the base station 104 and retransmitting the response message when one of the UEs does not transmit an acknowledgement. While many of the steps in the messaging diagram of Fig. 4 are similar to the steps in the messaging diagram of Fig. 3, the differences are described in more detail below.
[0058] In any event, the UE 102 either fails 414 to decode the first HARQ transmission or does not receive the first HARQ transmission and accordingly, does not transmit the first
HARQ ACK to the base station 104. As a result, the base station 104 does not receive 422 the first HARQ ACK on the first PUCCH resource, and in some implementations may generate a second HARQ transmission of the first MAC PDU and transmit 424 the second HARQ transmission on a second PDSCH to the UE 102.
[0059] If the UE 106 receives the first MAC PDU in the first HARQ transmission, the UE 106 may not receive the second PDSCH, or the UE 106 may receive the second PDSCH and may not process 430 the second HARQ transmission. Alternatively, if the UE 106 receives the second PDSCH and obtains the first MAC PDU from the second HARQ transmission, the UE 106 still transmits a HARQ ACK on the second PUCCH resource to the base station 104. If the UE 102 receives the first HARQ transmission and the second HARQ transmission, the UE 102 may combine the first HARQ transmission and the second HARQ transmission together and decode the combination of the first HARQ transmission and the second HARQ transmission. If the UE 102 obtains the first MAC PDU from successfully decoding the combination, the UE 102 identifies the MsgB 1 from the first MAC PDU by using the contention resolution identity of the UE 102. Then the UE 102 transmits 428 a third HARQ ACK on the first PUCCH resource indicated in the MsgB 1 to the base station 104.
[0060] If the UE 102 does not receive the first HARQ transmission and receives the second HARQ transmission, the UE 102 decodes the second HARQ transmission. If the UE 102 successfully decodes 426 the second HARQ transmission to obtain the first MAC PDU, the UE 102 identifies the MsgB 1 from the first MAC PDU according to the contention resolution identity of the UE 102.
[0061] If the UE 102 does not obtain the first MAC PDU from the second HARQ transmission or does not receive the second HARQ transmission, the UE 102 does not transmit HARQ feedback (e.g., neither a HARQ ACK nor a HARQ NACK) since the UE 102 has no PUCCH resource assigned to transmit the HARQ feedback. Since the base station 104 does not receive a HARQ ACK from the UE 102, the base station 104 in some implementations may generate a third HARQ transmission of the first MAC PDU and transmits the third HARQ transmission on a third PDSCH to the UE 102. In response to receiving a HARQ ACK from each of the UEs 102, 106, the base station 104 stops transmitting 432 the MAC PDU. In one example, the base station 104 uses the same redundant version (RV) or different RVs for the first HARQ transmission, the second HARQ transmission and the third HARQ transmission.
[0062] Fig. 5 depicts a messaging diagram of an example procedure for providing resource assignments to UEs for transmitting acknowledgements of a response message from the base station 104 and retransmitting the response message when each of the UEs does not transmit an acknowledgement. While many of the steps in the messaging diagram of Fig. 5 are similar to the steps in the messaging diagram of Fig. 3, differences are described in more detail below.
[0063] In any event, the UE 102 either fails 514 to decode the first HARQ transmission or does not receive the first HARQ transmission and accordingly, does not transmit the first HARQ ACK to the base station 104. Similarly, the UE 106 either fails 518 to decode the first HARQ transmission or does not receive the first HARQ transmission and accordingly, does not transmit the second HARQ ACK to the base station 104. As a result, the base station 104 does not receive 520 the first HARQ ACK on the first PUCCH resource and also does not receive the second HARQ ACK on the second PUCCH resource, and in some implementations may generate a second HARQ transmission of the first MAC PDU and transmit 522 the second HARQ transmission on a second PDSCH to the UE 102 and the UE 106.
[0064] If the UE 102 does not receive the first HARQ transmission and receives the second HARQ transmission, the UE 102 decodes the second HARQ transmission. If the UE 102 successfully decodes 524 the second HARQ transmission to obtain the first MAC PDU, the UE 102 identifies the MsgB 1 from the first MAC PDU according to the contention resolution identity of the UE 102. Then the UE 102 transmits 526 a third HARQ ACK on the first PUCCH resource indicated in the MsgB 1 to the base station 104.
[0065] Likewise, if the UE 106 does not receive the first HARQ transmission and receives the second HARQ transmission, the UE 106 decodes the second HARQ transmission. If the UE 106 successfully decodes 528 the second HARQ transmission to obtain the first MAC PDU, the UE 106 identifies the MsgB 2 from the first MAC PDU according to the contention resolution identity of the UE 106. Then the UE 106 transmits 530 a fourth HARQ ACK on the second PUCCH resource indicated in the MsgB 2 to the base station 104. In response to receiving a HARQ ACK from each of the UEs 102, 106, the base station 104 stops transmitting 532 the MAC PDU.
[0066] If the base station 104 does not receive the third HARQ ACK or the fourth HARQ ACK, the base station 104 in some implementations may generate a third HARQ
transmission of the first MAC PDU and transmit the third HARQ transmission on a third PDSCH to the UE 102 and/or the UE 106. The UE 102 and/or the UE 106 may receive and process the third HARQ transmission on the third PDSCH in a similar manner as described above with reference to the first and second HARQ transmissions on the first and second PDSCH. In one example, the base station 104 uses the same RV or different RVs for the first HARQ transmission, the second HARQ transmission and the third HARQ transmission.
[0067] In some implementations, the base station 104 may transmit a first DCI element and a first scramble cyclic redundancy check (CRC) on a first PDCCH for the first PDSCH. The first scrambled CRC is a first CRC scrambled by a radio network temporary identifier (RNTI). The UE 102 and UE 106 monitor the first PDCCH to receive the first DCI and the scrambled CRC. If the UE 102 and/or the UE 106 receive the first DCI element and the first scrambled CRC, the UE 102 and/or the UE 106 verify the scrambled CRC with the RNTI. If the UE 102 and/or the UE 106, in one implementation, correctly verify the first scrambled CRC, the UE 102 and/or the UE 106 receive and process the first PDSCH based on the information in the first DCI element.
[0068] In another implementation, the UE 102 and/or the UE 106 receive the first PDSCH irrespective of a correct or incorrect verification of the first scrambled CRC. If the UE 102 and/or the UE 106 incorrectly verify the first scrambled CRC, the UE 102 and/or the UE 106 may not process the first PDSCH or may not receive the first PDSCH. The base station 104 may transmit a second DCI element with a second CRC scrambled by the RNTI on a second PDCCH for the second PDSCH. The second scrambled CRC may be a second CRC scrambled by the RNTI. The base station 104 may also transmit a third DCI element with a third CRC scrambled by the RNTI on a third PDCCH for the third PDSCH. The third scrambled CRC may be a third CRC scrambled by the RNTI.
[0069] If the UE 102 and/or the UE 106 receive the first MAC PDU from the first HARQ transmission, the UE 102 and/or the UE 106 may not receive the second PDCCH, may receive the second PDCCH and may not process the second scrambled CRC, may ignore the second DCI element, or may ignore the second HARQ transmission. Consequently, the UE 102 and/or the UE 106 may not receive the second PDSCH, or may receive the second PDSCH and may not process the second HARQ transmission. If the UE 102 and/or the UE 106 receive the first MAC PDU from the second HARQ transmission or a combination of the first and second HARQ transmissions, the UE 102 and/or the UE 106 may not receive the
third PDCCH, may receive the third PDCCH and may not process the third scrambled CRC, or may ignore the third DCI element. Consequently, the UE 102 and/or the UE 106 may not receive the third PDSCH, or may receive the third PDSCH and may not process the third HARQ transmission.
[0070] In the example messaging diagrams of Figs. 4 and 5, the base station 104 retransmits the same MAC PDU in a second or subsequent HARQ transmissions in response to not receiving a HARQ ACK from at least one of the UEs 102, 106. In other implementations, as described below with reference to Fig. 6, the base station 104 generates different MAC PDUs in second or subsequent HARQ transmissions which only include the MsgBs which were not received by the corresponding UEs in previous HARQ transmissions. For example, the base station 104 may transmit a first HARQ transmission with a first MAC PDU including a MsgB 1, a MsgB 2, and a MsgB 3 intended for a UE 1, a UE 2, and a UE 3 respectively. If the UE 102 and UE 106 do not transmit HARQ ACKs to the base station 104, the base station 104 may transmit a second HARQ transmission with a second MAC PDU including the MsgB 1 and the MsgB 2 and not including the MsgB 3. Then if the UE 102 still does not transmit a HARQ ACK to the base station 104, the base station 104 may transmit a third HARQ transmission with a third MAC PDU including the MsgB 1 and not including the MsgB 2 or the MsgB 3.
[0071] Turning now to Fig. 6, as in the messaging diagram of Fig. 4, the UE 102 fails to decode 614 the first HARQ transmission while the UE 106 successfully decodes 618 the first HARQ transmission and transmits 620 a HARQ ACK on the second PUCCH resource. The base station 104 then generates 622 a second MAC PDU which includes the MsgB 1 and does not include the MsgB 2. The base station 104 generates a second HARQ transmission of the second MAC PDU instead of the first MAC PDU. The base station 104 transmits 624 the second HARQ transmission on a second PDSCH to the UE 102. The UE 106 may not receive the second PDSCH, or may receive the second PDSCH and may not process 630 the second HARQ transmission. Alternatively, the UE 106 may receive the second PDSCH, obtain the first MAC PDU from the second HARQ transmission, and transmit a HARQ ACK on the second PUCCH resource to the base station 104. If the UE 102 receives the first HARQ transmission and the second HARQ transmission, the UE 102 discards the first HARQ transmission and decodes the second HARQ transmission. In one implementation, the base station 104 may transmit the UE 102 a second DCI element (e.g., with a CRC scrambled with the RNTI) on a second PDCCH to indicate to the UE 102 to receive the
second PDSCH. The second DCI element may include a second new data indicator (NDI) which indicates to the UE 102 to discard the first HARQ transmission or indicates to the UE 102 that the second HARQ transmission is a new transmission.
[0072] If the UE 102 successfully decodes 626 the second HARQ transmission to obtain the second MAC PDU, the UE 102 identifies the MsgB 1 from the second MAC PDU and transmits 628 a third HARQ ACK on a third PUCCH resource indicated in the MsgB 1 to the base station. If the UE 102 does not receive the second HARQ transmission or fails to decode the second HARQ transmission, the UE 102 does not obtain the MsgB 1. In this case, the UE 102 does not transmit HARQ feedback (e.g., neither a HARQ ACK nor a HARQ NACK) since the UE 102 has no PUCCH resource to transmit the HARQ feedback.
[0073] If the base station 104 does not receive the third HARQ ACK from the UE 102, the base station 104 in some implementations may generate a third HARQ transmission of the second MAC PDU and transmit the third HARQ transmission on a third PDSCH to the UE 102. The UE 106 may not receive the third PDSCH, or may receive the third PDSCH and may not process the third HARQ transmission. In some implementations, the UE 102 combines the second HARQ transmission and the third HARQ transmission together to decode the combination of the second and third HARQ transmissions.
[0074] In one implementation, the base station 104 may transmit to the UE 102 a third DCI element (e.g., with a CRC scrambled with the RNTI) on a third PDCCH to indicate to the UE 102 to receive the third PDSCH. The third DCI element may include a NDI which indicates to the UE 102 to combine the third HARQ transmission with the second HARQ transmission or indicates to the UE 102 that the third HARQ transmission is a retransmission (i.e., not a new transmission). In other implementations, the third DCI element may include a NDI which indicates to the UE 102 not to combine the third HARQ transmission with the second HARQ transmission or indicates the third HARQ transmission is a new transmission. Accordingly, the UE 102 discards the second HARQ transmission and decodes the third HARQ transmission.
[0075] If the UE 102 successfully decodes the third transmission or the combination to obtain the second MAC PDU, the UE 102 identifies the MsgB 1 from the second MAC PDU and transmits the base station 104 a third HARQ ACK or a fourth HARQ ACK on the third PUCCH resource indicated in the MsgB 1. In some implementations, the base station 104 may assign a new PUCCH resource in the MsgB 1 in the second MAC PDU. That is, the
base station 104 may generate a new MsgB 1 and include the new MsgB 1 in the second MAC PDU. In this case, the UE 102 uses the new PUCCH resource to transmit the third HARQ ACK or the fourth HARQ ACK.
[0076] At least two of the first, second and third DCI elements may have the same content or different content. The base station 104 includes first, second, and third RVs in the first, second, and third DCI elements, respectively. The first, second, and third RVs can be the same or different. The first, second, and third DCI elements may also include first, second, and third NDIs respectively. In some implementations, the base station 104 sets at least consecutive two of the first, second, and third NDIs to the same value in order to instruct the UE 102, 106 to combine the HARQ transmissions as described above. The first, second and third CRCs may have the same or different values. In some implementations, the base station 104 may not include a PUCCH resource assignment in the first, second, and third DCI elements. In other implementations, the base station 104 may include a PUCCH resource assignment in the first, second, and third DCI elements.
[0077] In one implementation, if a UE 102, 106 receives a PUCCH resource assignment in a DCI element assigning a PDSCH and receives a MAC PDU on the PDSCH which includes a MsgB including a PUCCH resource assignment and the contention resolution identity of the UE 102, 106, the UE 102, 106 ignores the PUCCH resource assignment in the DCI element. The UE 102, 106 transmits a HARQ ACK on a PUCCH resource indicated by the PUCCH resource assignment in the MsgB. If the UE 102, 106 receives a PUCCH resource assignment in a DCI element assigning a PDSCH and receives a MAC PDU on the PDSCH which includes the MsgB excluding the PUCCH resource assignment and including the contention resolution identity of the UE 102, 106, the UE 102, 106 transmits a HARQ ACK on a PUCCH resource indicated by the PUCCH resource assignment in the DCI element.
[0078] In other implementations, if a UE 102, 106 receives a PUCCH resource assignment in a DCI element assigning a PDSCH and receives a MAC PDU on the PDSCH which includes a MsgB including a PUCCH resource assignment and the contention resolution identity of the UE 102, 106, the UE uses the PUCCH resource assignment in the DCI element and the PUCCH resource assignment in the MsgB to determine a PUCCH resource and transmits a HARQ ACK on the determined PUCCH resource.
[0079] In one implementation, the RNTI is a random access-RNTI (RA-RNTI). In another implementation, the RNTI is a new RNTI specific for receiving a PDSCH containing one or
more MsgBs. In some implementations, the base station 104 may determine a value of the RNTI according to the location of physical random access channel (PRACH) resources where the base station 104 receives the MsgA 1 or MsgA 2. Correspondingly, the UE 102 and the UE 106 may determine the values of respective RNTIs according to the locations of PRACH resources where the UE 102 and the UE 106 transmitted the MsgA 1 and the MsgA 2.
[0080] In some implementations, after the base station 104 receives the MsgA 1 from the UE 102 and the MsgA 2 from the UE 106, the base station 104 estimates channel conditions (e.g., impulse response, Rx beam direction, signal strength, etc.) to derive channel estimation results by using reference signals (e.g., a demodulation reference signal (DMRS), a sounding reference signal (SRS), etc.) in or with the MsgA 1 and the MsgA 2, respectively or jointly. Then the base station 104 transmits the first HARQ transmission with a transmission configuration (e.g., a precoding matrix, Tx beam direction, signal power, redundant version, rate matching, etc.) based on the channel estimation results derived from the reference signals in the MsgA 1 and the MsgA 2. If the base station 104 receives the first HARQ ACK (e.g., UE 102 completes the RACH procedure) and does not receive the second HARQ ACK, the base station 104 transmits the second HARQ transmission with a transmission configuration based on the channel estimation results derived from the reference signals in the MsgA 2.
[0081] In some implementations, when a UE 102, 106 is unable to decode a HARQ transmission, the UE 102, 106 may transmit a HARQ NACK to the base station 104. Fig. 7 depicts a messaging diagram of an example procedure for providing resource assignments to UEs for transmitting acknowledgements of a response message from the base station 104 and retransmitting the response message when one of the UEs transmits a NACK.
[0082] In some implementations, the base station 104 configures a seventh PUCCH resource assignment associated with a preamble 1 in the MsgA 1. The seventh PUCCH resource assignment configures a seventh PUCCH resource for transmitting a HARQ NACK. The base station 104 configures an eighth PUCCH resource assignment associated with a preamble 2 in the MsgA 2. The eighth PUCCH resource assignment configures an eighth PUCCH resource for transmitting a HARQ NACK. The preamble 1 may be different from the preamble 2. Then the base station 104 broadcasts 702 the seventh and the eighth PUCCH resource assignments in system information. The UE 102 receives the system information and selects the preamble 1 and includes the preamble 1 in the MsgA 1. The UE 106 receives the system information and selects the preamble 2 and includes the preamble 2 in the MsgA
2. The UE 102 transmits 708 the MsgA 1 to the base station 104, and the UE 106 transmits 710 the MsgA 2 to the base station 104.
[0083] In the messaging diagram of Fig. 7, the UE 102 fails 716 to decode the first HARQ transmission. As a result, the UE 102 transmits a HARQ NACK on the seventh PUCCH resource to indicate that the UE 102 failed to receive or decode the first HARQ transmission of the MAC PDU. In response to receiving the HARQ NACK, the base station 104 transmits 726 the second HARQ transmission of the MAC PDU on the second PDSCH. The UE 102 receives the second HARQ transmission on the second PDSCH. The UE 102 successfully decodes 728 the second HARQ transmission with or without combining the second HARQ transmission with the first HARQ transmission to obtain the MAC PDU. The UE 102 then identifies the MsgB 1 in the MAC PDU according to the contention resolution identity of the UE 102 and determines contention resolution succeeds. Then the UE 102 transmits 730 a third HARQ ACK on the first PUCCH resource to the base station 104. The base station 104 may stop transmitting 734 the MAC PDU in response to receiving HARQ ACKs from each of the UEs 102, 106.
[0084] In yet other implementations, when at least one UE 102, 106 transmits a HARQ NACK to the base station 104, the base station generates different MAC PDUs in second or subsequent HARQ transmissions which only include the MsgBs which were not received by the corresponding UEs in previous HARQ transmissions. Fig. 8 depicts a messaging diagram of an example procedure for providing resource assignments to UEs for transmitting acknowledgements of a response message from the base station 104 and transmitting a second response message when one of the UEs transmits a NACK.
[0085] As in the messaging diagram of Fig. 7, the base station 104 configures a seventh PUCCH resource assignment associated with a preamble 1 in the MsgA 1. The seventh PUCCH resource assignment configures a seventh PUCCH resource for transmitting a HARQ NACK. The base station 104 configures an eighth PUCCH resource assignment associated with a preamble 2 in the MsgA 2. The eighth PUCCH resource assignment configures an eighth PUCCH resource for transmitting a HARQ NACK. The preamble 1 may be different from the preamble 2. Then the base station 104 broadcasts 702 the seventh and the eighth PUCCH resource assignments in system information. The UE 102 receives the system information and selects the preamble 1 and includes the preamble 1 in the MsgA 1. The UE 106 receives the system information and selects the preamble 2 and includes the
preamble 2 in the MsgA 2. The UE 102 transmits 708 the MsgA 1 to the base station 104, and the UE 106 transmits 710 the MsgA 2 to the base station 104.
[0086] In the messaging diagram of Fig. 8, the UE 102 fails 816 to decode the first HARQ transmission. As a result, the UE 102 transmits a HARQ NACK on the seventh PUCCH resource to indicate that the UE 102 failed to receive or decode the first HARQ transmission of the MAC PDU. In response to receiving the HARQ NACK the base station 104 generates 826 a second MAC PDU including a second MsgB 1 and excluding the MsgB 2. The second MsgB 1 includes a third PUCCH resource assignment. The second MsgB 1 may be the same as or different from the first MsgB 1 in the first MAC PDU. The first and third PUCCH resource assignment may be the same or different. The base station 104 transmits 828 the second HARQ transmission of the second MAC PDU on the second PDSCH.
[0087] The UE 102 receives the second HARQ transmission on the second PDSCH. The UE 102 successfully decodes 830 the second HARQ transmission without combining the first HARQ transmission to obtain the second MAC PDU. The UE 102 identifies the second MsgB 1 by using the contention resolution identity of the UE 102 and determines contention resolution succeeds. Then the UE 102 transmits 832 a third HARQ ACK on the third PUCCH resource to the base station 104. The base station 104 may stop transmitting 836 the MAC PDU in response to receiving HARQ ACKs from each of the UEs 102, 106. In one implementation, the base station 104 may transmit the UE 102 a DCI element (e.g., with a CRC scrambled with the RNTI) on a PDCCH to indicate to the UE 102 to receive the second PDSCH. The DCI element may include a second NDI which indicates to the UE 102 to discard the first HARQ transmission or indicates to the UE 102 that the second HARQ transmission is a new transmission. According to the DCI element, the UE 102 does not combine the first and second HARQ transmissions.
[0088] As described above, in the messaging diagrams of Figs. 3-8, the base station 104 transmits PUCCH resource assignments to the UEs 102, 106 via the MAC PDU. In other implementations, the base station 104 provides PUCCH resource assignments to the UEs 102, 106 via DCI elements. Fig. 9 depicts a messaging diagram of an example procedure for providing resource assignments via a DCI element to UEs for transmitting acknowledgements of a response message from the base station 104.
[0089] As shown in Fig. 9, the UE 102 and the UE 106 both initiate 902, 904 a two-step RACH procedure. In particular, the base station 104 receives 906, 908 a MsgA 1 from the
UE 102 and a MsgA 2 from the UE 106. The base station 104 generates a MsgB 1 and a first PUCCH resource assignment to respond to the MsgA 1, and generates a MsgB 2 and a second PUCCH resource assignment to respond to the MsgA 2. The first PUCCH resource assignment configures a first PUCCH resource for the UE 102 to transmit a first HARQ ACK. The second PUCCH resource assignment configures a second PUCCH resource for the UE 106 to transmit a second HARQ ACK. The first PUCCH resource and the second PUCCH resource may be different or may not overlap. In one example, the first and second PUCCH resources can be on different OFDM symbols, different slots, different subcarriers or different physical resource blocks. The OFDM can be a Discrete Fourier Transform-Spread (DFT-S-OFDM) or a cyclic -prefix (CP) OFDM. The base station 104 includes the MsgB 1 and the MsgB 2 in a first MAC PDU and generates a first HARQ transmission of the first MAC PDU. The base station includes the first PUCCH resource assignment and the second PUCCH resource assignment in a first DCI element according to a format of the first DCI element. The first DCI element configures a first PDSCH which includes the first HARQ transmission. The base station 104 transmits 910 the first DCI element (with a CRC scrambled by a RNTI) on a first PDCCH and the first DCI element configures (i.e., assigns) a first PDSCH to the UEs. The base station 104 transmits 912 the first HARQ transmission on the first PDSCH.
[0090] To transmit a MAC PDU including several MsgBs for several UEs, the base station 104 generates several PUCCH resource assignments and includes the plurality of PUCCH resource assignments in the DCI element. Each of the PUCCH resource assignments is associated with a specific MsgB of the several MsgBs. In some implementations, the base station 104 includes the PUCCH resource assignments in the DCI element according to a format of the DCI element and a format of the MAC PDU. An association between a PUCCH resource assignment of the several PUCCH resource assignments and its corresponding MsgB of the several MsgBs may be specified in a 3GPP specification.
[0091] To transmit a MAC PDU including several MsgBs for several UEs, the base station 104 in other implementations generates a base PUCCH resource assignment and includes the base PUCCH resource assignment in the DCI element. Each of the several UEs derives a particular PUCCH resource assignment from the base PUCCH resource assignment. In one implementation, a particular UE of the several UEs derives a particular PUCCH resource assignment from the base PUCCH resource assignment and a supplementary PUCCH resource assignment in a MsgB for the particular UE. For example, the particular UE can
obtain an offset to the base PUCCH resource assignment from the supplementary PUCCH resource assignment, e.g. with or without a formula. The offset can be represented by OFDM symbol(s), slot(s), different subcarrier(s) and/or different physical resource block(s). In another implementation, a particular UE of the several UEs derives a particular PUCCH resource assignment from the base PUCCH resource assignment and location of a MsgB in a MAC PDU for the particular UE. For example, the particular UE can obtain an offset to the base PUCCH resource assignment from the location of the MsgB in a formula or an equation. The offset can be represented by OFDM symbol(s), slot(s), different subcarrier(s) and/or different physical resource block(s). In a further implementation, a particular UE of the several UEs derives a particular PUCCH resource assignment from the base PUCCH resource assignment and a supplementary PUCCH resource assignment broadcast in system information. For example, the particular UE can obtain an offset to the base PUCCH resource assignment from the supplementary PUCCH resource assignment with/without a formula or an equation. The offset can be represented by OFDM symbol(s), slot(s), different subcarrier(s) and/or different physical resource block(s).
[0092] For example, Fig. 10 illustrates an example format of a DCI element and a MAC PDU in a response message including a MsgB 1, a MsgB 2, and first and second PUCCH resource assignments. As shown in Fig. 10, the first PUCCH resource assignment is in a location of the first DCI element according to a location of the MsgB 1 in the first MAC PDU, and the second PUCCH resource assignment is in a location of the first DCI element according to a location of the MsgB 2. In other words, the MsgB 1 and the first PUCCH resource assignment are in the same location within their respective elements (the MAC PDU and the DCI element). Likewise, the MsgB 2 and the second PUCCH resource assignment in the same location within their respective elements (the MAC PDU and the DCI element).
The MsgB 1 appears before the MsgB 2 in the MAC PDU and accordingly, the first PUCCH resource assignment appears before the second PUCCH resource assignment in the DCI element.
[0093] The UE 102 and the UE 106 perform PDCCH monitoring to receive the first PDSCH. If the UE 102 receives the first DCI element on the first PDCCH and receives the first MAC PDU on the first PDSCH according to the first DCI element, the UE 102 identifies the MsgB 1 in the first MAC PDU. Then the UE 102 identifies the first PUCCH resource assignment in the first DCI element according to the location of the MsgB 1 in the first MAC PDU. The UE 102 then transmits 922 a first HARQ ACK according to the first PUCCH
resource assignment. If the base station 104 receives the first HARQ ACK on the first PUCCH resource, the base station 104 determines the UE 102 received the MsgB 1. If the UE 102 does not receive the first MAC PDU on the first PDSCH, the UE 102 does not transmit the first HARQ ACK on the first PUCCH resource. In this case, the base station 104 does not receive the first HARQ ACK on the first PUCCH resource. The base station determines the UE 102 did not receive the MsgB 1 since the base station 104 did not receive a HARQ ACK on the first PUCCH resource.
[0094] Likewise, if the UE 106 receives the first DCI element on the first PDCCH and receives the first MAC PDU on the first PDSCH according to the first DCI, the UE 106 identifies the MsgB 2 in the first MAC PDU. Then the UE 106 identifies the second PUCCH resource assignment according to the location of the MsgB 2 in the first MAC PDU. The UE 106 transmits 922 a second HARQ ACK according to the second PUCCH resource assignment. If the base station 104 receives the second HARQ ACK on the second PUCCH resource, the base station 104 determines the UE 106 received the MsgB 2. If the UE 106 does not receive the first MAC PDU on the first PDSCH, the UE 106 does not transmit the second HARQ ACK on the second PUCCH resource. In this case, the base station 104 does not receive the second HARQ ACK on the second PUCCH resource. The base station determines the UE 106 did not receive the MsgB 2 since the base station 104 did not receive a HARQ ACK on the second PUCCH resource. In some implementations, the UE 102 and the UE 106 may transmit HARQ ACKs at the same time (e.g., with different spatial assignments). In other implementations, the UE 102 and the UE 106 may transmit the HARQ ACKs at different time slots.
[0095] As described above, the base station 104 can determine whether the UE 102 received the MsgB 1 according to whether a HARQ ACK on the first PUCCH resource is received from the UE 102. The base station 104 can determine whether the UE 106 received the MsgB 2 according to whether a HARQ ACK on the second PUCCH resource is received from the UE 106. If each of the UEs that transmitted MsgAs received a corresponding MsgB, the base station 104 stops transmitting 926 the MAC PDU.
[0096] In some implementations, the base station 104 transmits the first MAC PDU using a HARQ transmission scheme. For example, the base station 104 generates a first HARQ transmission of the first MAC PDU and transmits the first HARQ transmission on the first PDSCH to the UE 102 and UE 106. If the UE 102 receives the first HARQ transmission and
successfully decodes the first HARQ transmission to obtain the first MAC PDU and identifies the MsgB 1, the UE 102 transmits the first HARQ ACK on the first PUCCH resource to the base station 104 to acknowledge reception of the first MAC PDU or the MsgB
1. The UE 102 may identify the MsgB 1 according to a contention resolution identity in the MsgB 1. The contention resolution identity may be associated with/generated from content in a payload of the MsgA 1. For example, if the UE 102 identifies the contention resolution identity in the MsgB 1 is generated from the content in the payload of the MsgA 1, the UE 102 identifies the MsgB 1 is a Msg B intended for the UE 102.
[0097] Likewise, if the UE 106 receives the first HARQ transmission, successfully decodes the first HARQ transmission to obtain the first MAC PDU and identifies the MsgB
2, the UE 106 transmits the second HARQ ACK on the second PUCCH resource to the base station 104 to acknowledge reception of the first MAC PDU or the MsgB 2. UE 106 may identify the MsgB 2 according to a contention resolution identity in the MsgB 2. The contention resolution identity may be associated with/generated from content in a payload of the MsgA 2. For example, if UE 106 identifies the contention resolution identity in the MsgB 2 is generated from the content in the payload of the MsgA 2, the UE 106 identifies the MsgB 2 is a Msg B intended for the UE 106.
[0098] Similar to the messaging diagrams illustrated in Fig. 4-8, the messaging diagrams in Fig. 11-15 depict example scenarios in which the base station 104 sends a response message to UEs which transmitted MsgAs to the base station. In the example scenarios of Figs. 11-15, the base station 104 transmits PUCCH resource assignments in the DCI element. These scenarios include a first scenario where the UE 102 does not receive and successfully decode the HARQ transmission and the base station 104 retransmits the MAC PDU (Fig. 11), a second scenario where both the UE 102 and UE 106 do not receive and successfully decode the HARQ transmission and the base station 104 retransmits the MAC PDU (Fig. 12), a third scenario where the UE 102 does not receive and successfully decode the HARQ transmission and the base station 104 transmits a different MAC PDU (Fig. 13), a fourth scenario where both the UE 102 and UE 106 do not successfully decode the HARQ transmission, transmit HARQ NACKs to the base station 104, and the base station 104 retransmits the MAC PDU (Fig. 14), and a fifth scenario where the UE 102 does not successfully decode the HARQ transmission, transmits a HARQ NACK to the base station 104, and the base station 104 transmits a different MAC PDU (Fig. 15).
[0099] Fig. 11 depicts a messaging diagram of an example procedure for providing resource assignments via a DCI element to UEs, and retransmitting the response message when one of the UEs does not transmit an acknowledgement. The UE 102 either fails 1116 to decode the first HARQ transmission or does not receive the first HARQ transmission and accordingly, does not transmit the first HARQ ACK to the base station 104. As a result, the base station 104 does not receive 1124 the first HARQ ACK on the first PUCCH resource, and in some implementations may generate a second HARQ transmission of the first MAC PDU. In one example, the base station 104 uses the same RV or different RVs for the first HARQ transmission and the second HARQ transmission. The first DCI element may include a first RV and the second DCI may include a second RV and the first and second RBs can be the same or different.
[0100] The base station 104 includes a third PUCCH resource assignment in a second DCI element. The third PUCCH resource assignment configures a third PUCCH resource for the UE 102 to transmit a third HARQ ACK. The base station 104 may or may not include a fourth PUCCH resource assignment in the second DCI element. The fourth PUCCH resource assignment may configure a fourth PUCCH resource for the UE 106 to transmit a fourth HARQ ACK, or the fourth PUCCH resource assignment may a dummy PUCCH resource assignment. The second DCI element configures a second PDSCH which includes the second HARQ transmission. The base station transmits 1126 the second DCI (with a second CRC scrambled by the RNTI) on a second PDCCH to the UE 102 and transmits 1128 the second HARQ transmission on the second PDSCH to the UE 102. If the UE 106 receives the first MAC PDU in the first HARQ transmission, the UE 106 may not receive the second PDSCH, or the UE 106 may receive the second PDSCH and may not process the second HARQ transmission. Alternatively, if the UE 106 receives the second PDSCH and obtains the first MAC PDU from the second HARQ transmission, the UE 106 still transmits a HARQ ACK on the second PUCCH resource to the base station 104.
[0101] If the UE 102 receives the second DCI, the UE 102 uses the second DCI to receive the second PDSCH (i.e., the second HARQ transmission). If the UE 102 receives the first HARQ transmission and the second HARQ transmission, the UE 102 may combine the first HARQ transmission and the second HARQ transmission together and decode the combination of the first HARQ transmission and the second HARQ transmission. If the UE 102 obtains the first MAC PDU from successfully decoding 1130 the combination, the UE 102 identifies the MsgB 1 from the first MAC PDU by using the contention resolution
identity of the UE 102. Then the UE 102 transmits 1132 the third HARQ ACK to the base station 104 on the third PUCCH resource indicated in the second DCI element. In some implementations, the UE 102 identifies the third PUCCH resource assignment according to the location of the MsgB E
[0102] If the UE 102 does not receive the first HARQ transmission and receives the second HARQ transmission, the UE 102 decodes the second HARQ transmission. If the UE 102 successfully decodes 1130 the second HARQ transmission to obtain the MAC PDU, the UE 102 identifies the MsgB 1 from the MAC PDU according to the contention resolution identity of the UE 102. If the UE 102 does not obtain the first MAC PDU from the second HARQ transmission, the UE 102 does not transmit HARQ feedback (e.g., neither a HARQ ACK nor a HARQ NACK) since the UE 102 has no PUCCH resource to transmit the HARQ feedback. Since the base station 104 does not receive a HARQ ACK from the UE 102, the base station 104 in some implementations may generate a third HARQ transmission of the first MAC PDU and may transmit the third HARQ transmission on a third PDSCH to the UE 102. In response to receiving a HARQ ACK from each of the UEs 102, 106, the base station 104 stops transmitting 1136 the MAC PDU. In some implementations, the first PUCCH resource assignment and the third PUCCH resource assignment may configure the same PUCCH resource or different PUCCH resources.
[0103] Fig. 12 depicts a messaging diagram of an example procedure for providing resource assignments via a DCI element to UEs for transmitting acknowledgements of a response message from the base station 104 and retransmitting the response message when each of the UEs does not transmit an acknowledgement.
[0104] The UE 102 either fails 1216 to decode the first HARQ transmission or does not receive the first HARQ transmission and accordingly, does not transmit the first HARQ ACK to the base station 104. Similarly, the UE 106 either fails 1220 to decode the first HARQ transmission or does not receive the first HARQ transmission and accordingly, does not transmit the second HARQ ACK to the base station 104. As a result, the base station 104 does not receive 1222 the first HARQ ACK on the first PUCCH resource and also does not receive the second HARQ ACK on the second PUCCH resource, and in some implementations may generate a second HARQ transmission of the first MAC PDU. The base station 104 may include a third PUCCH resource assignment and a fourth PUCCH resource assignment in a second DCI configuring a second PDSCH which includes the
second HARQ transmission. The third PUCCH resource assignment configures a third PUCCH resource for the UE 102 to transmit a third HARQ ACK. The fourth PUCCH resource assignment configures a fourth PUCCH resource for the UE 106 to transmit a fourth HARQ ACK. The third and fourth PUCCH resources may be different or may not overlap.
[0105] The base station 104 transmits 1224, 1226 the second DCI (with a second CRC scrambled by the RNTI) and the second HARQ transmission on a second PDSCH to the UE 102 and the UE 106. If the UE 102 and/or the UE 106 receives the second DCI and receives the second HARQ transmission according to the second DCI, the UE 102 and/or the UE 106 decodes the second HARQ transmission.
[0106] If the UE 102 successfully decodes 1228 the second HARQ transmission to obtain the first MAC PDU, the UE 102 identifies the MsgB 1 from the first MAC PDU according to the contention resolution identity of the UE 102. Then the UE 102 transmits 1230 a third HARQ ACK to the base station 104 on a third PUCCH resource indicated in the third PUCCH resource assignment.
[0107] Likewise, if the UE 106 successfully decodes 1232 the second HARQ transmission to obtain the first MAC PDU, the UE 106 identifies the MsgB 2 from the first MAC PDU according to the contention resolution identity of the UE 106. Then the UE 106 transmits 1234 a fourth HARQ ACK to the base station 104 on a fourth PUCCH resource indicated in the fourth PUCCH resource assignment.
[0108] If the base station 104 does not receive the third HARQ ACK or the fourth HARQ ACK, the base station 104 in some implementations may generate a third HARQ transmission of the first MAC PDU. The base station may include a fifth PUCCH resource assignment and/or a sixth PUCCH resource assignment in a third DCI configuring a third PDSCH. The fifth PUCCH resource assignment configures a fifth PUCCH resource for the UE 102 to transmit a fifth HARQ ACK. The sixth PUCCH resource assignment configures a sixth PUCCH resource for the UE 106 to transmit a sixth HARQ ACK. The fifth and sixth PUCCH resources may be different or may not overlap.
[0109] The base station 104 transmits the third DCI (with a third CRC scrambled by the RNTI) on a third PDCCH and transmits the third HARQ transmission on a third PDSCH to the UE 102 and the UE 106. The UE 102 and/or the UE 106 may receive and process the third HARQ transmission on the third PDSCH in a similar manner as described above with reference to the first and second HARQ transmissions on the first and second PDSCH.
[0110] In one example, the base station 104 uses the same RV or different RVs for the first HARQ transmission, the second HARQ transmission and the third HARQ transmissions.
The base station 104 includes first, second, and third RVs in the first, second, and third DCI elements, respectively. The first, second, and third RVs can be the same or different. The first, second, and third DCI elements may also include first, second, and third NDIs respectively. In some implementations, the base station 104 sets at least two of the first, second, and third NDIs to the same value in order to instruct the UE 102, 106 to combine the HARQ transmissions as described above. The PUCCH resource assignments in each of the DCI elements for the UE 102 may be the same or different resource assignments. Likewise, the PUCCH resource assignments in each of the DCI elements for the UE 106 may be the same or different resource assignments. In a particular DCI element (e.g., the first DCI element), the PUCCH resource assignments for the UE 102 and UE 106 are different so that the base station 104 can identify each UE that receives a corresponding Msg B.
[0111] In the example messaging diagrams of Figs. 11 and 12, the base station 104 retransmits the same MAC PDU in a second or subsequent HARQ transmissions in response to not receiving a HARQ ACK from at least one of the UEs 102, 106. In other implementations, as described below with reference to Fig. 13, the base station 104 generates different MAC PDUs in second or subsequent HARQ transmissions which only include the MsgBs which were not received by the corresponding UEs in previous HARQ transmissions. Fig. 13 depicts a messaging diagram of an example procedure for providing resource assignments via a DCI element to UEs for transmitting acknowledgements of a response message from the base station 104 and transmitting a second response message when one of the user devices does not transmit an acknowledgement.
[0112] The UE 102 fails to decode 1316 the first HARQ transmission while the UE 106 successfully decodes 1320 the first HARQ transmission and transmits 1322 a HARQ ACK on the second PUCCH resource. The base station 104 then generates 1324 a second MAC PDU which includes the MsgB 1 and does not include the MsgB 2. The base station 104 generates a second HARQ transmission of the second MAC PDU instead of the first MAC PDU. The base station 104 also generates a second DCI configuring a second PDSCH which includes the second HARQ transmission. The base station 104 includes a third PUCCH resource assignment in the second DCI. Then the base station 104 transmits 1326 the second DCI (with a second CRC scrambled by the RNTI) on a second PDCCH and transmits 1328 the second HARQ transmission on a second PDSCH to the UE 102.
[0113] The UE 106 may not receive the second PDSCH, or may receive the second PDSCH and may not process 1334 the second HARQ transmission. If the UE 102 receives the first HARQ transmission and the second HARQ transmission, the UE 102 discards the first HARQ transmission and decodes the second HARQ transmission. The UE 102 does not combine the first HARQ transmission and the second HARQ transmission to decode the combination. In some implementations, the base station 104 may include a second NDI in the second DCI. The second NDI indicates to the UEs 102, 106 to discard the first HARQ transmission or indicates to the UEs 102, 106 that the second HARQ transmission is a new transmission. In one implementation, the base station 104 sets a value of the second NDI which is different from a value of the first NDI.
[0114] If the UE 102 receives the second PDSCH according to the second DCI and successfully decodes 1330 the second HARQ transmission to obtain the second MAC PDU, the UE 102 identifies the MsgB 1 from the second MAC PDU and transmits 1332 a third HARQ ACK on a third PUCCH resource to the base station 104. If the UE 102 does not receive the second DCI element, does not receive the second HARQ transmission, or fails to decode the second HARQ transmission, the UE 102 does not obtain the MsgB 1. In this case, the UE 102 does not transmit HARQ feedback (e.g., neither a HARQ ACK nor a HARQ NACK) since the UE 102 has no PUCCH resource to transmit the HARQ feedback.
[0115] If the base station 104 does not receive a HARQ ACK from the UE 102, the base station 104 in some implementations may generate a third HARQ transmission of the second MAC PDU. The base station 104 may include a fourth PUCCH resource assignment in a third DCI element configuring a third PDSCH which includes the third HARQ transmission. The base station 104 transmits the third DCI (with a third CRC scrambled by the RNTI) on a third PDCCH. Additionally, the base station 104 transmits the third HARQ transmission on a third PDSCH to the UE 102. The UE 106 may not receive the third PDSCH, or may receive the third PDSCH and may not process the third HARQ transmission. The UE 102 receives the third DCI element on the third PDCCH and receives the third PDSCH and the third HARQ transmission according to the third DCI element. In some implementations, the UE 102 combines the second HARQ transmission and the third HARQ transmission together to decode the combination of the second and third HARQ transmissions.
[0116] The third DCI element may include a third NDI which indicates to the UE 102 to combine the third HARQ transmission with the second HARQ transmission or indicates to
the UE 102 that the third HARQ transmission is a retransmission (i.e., not a new transmission). The base station 104 may set a value of the third NDI which is the same as the value of the second NDI. In other implementations, the third DCI element may include a third NDI which indicates to the UE 102 not to combine the third HARQ transmission with the second HARQ transmission or indicates the third HARQ transmission is a new transmission. Accordingly, the UE 102 discards the second HARQ transmission and decodes the third HARQ transmission. The base station 104 may set a value of the third NDI which is different from the value of the second NDI.
[0117] If the UE 102 successfully decodes the third transmission or the combination to obtain the second MAC PDU, the UE 102 identifies the MsgB 1 from the second MAC PDU and transmits the base station 104 a fourth HARQ ACK on the fourth PUCCH resource.
[0118] The base station 104 includes first, second, and third RVs in the first, second, and third DCI elements, respectively. The first, second, and third RVs can be the same or different. The PUCCH resource assignments in each of the DCI elements for the UE 102 may be the same or different resource assignments. Likewise, the PUCCH resource assignments in each of the DCI elements for the UE 106 may be the same or different resource assignments. In a particular DCI element (e.g., the first DCI element), the PUCCH resource assignments for the UE 102 and UE 106 are different so that the base station 104 can identify each UE that receives a corresponding Msg B.
[0119] In some implementations, the UE 102 and/or the UE 106 monitor the first, second, and/or third PDCCH to receive the first, second, and/or third DCI element, and the first, second, and/or third scrambled CRC. If the UE 102 and/or the UE 106 receive the first, second, and/or third DCI element, and the first, second, and/or third scrambled CRC, the UE 102 and/or the UE 106 verify the first, second, and/or third scrambled CRC with the RNTI.
If the UE 102 and/or the UE 106, in one implementation, correctly verify the first, second, and/or third scrambled CRC, the UE 102 and/or the UE 106 receive and process the respective PDSCH.
[0120] In another implementation, the UE 102 and/or the UE 106 receive the first, second, and/or third PDSCH irrespective of a correct or incorrect verification of the respective scrambled CRC. If the UE 102 and/or the UE 106 incorrectly verify the respective scrambled CRC, the UE 102 and/or the UE 106 may not process the corresponding PDSCH or may not receive the corresponding PDSCH.
[0121] In one implementation, the RNTI is a RA-RNTI. In another implementation, the RNTI is a new RNTI specific for receiving a PDSCH containing one or more MsgBs. In some implementations, the base station 104 may determine a value of the RNTI according to location of PRACH resources where the base station 104 receives the MsgA 1 or MsgA 2. Correspondingly, the UE 102 and the UE 106 may determine the values of respective RNTIs according to the locations of PRACH resources where the UE 102 and the UE 106 transmitted the MsgA 1 and the MsgA 2.
[0122] In some implementations, after the base station 104 receives the MsgA 1 from the UE 102 and the MsgA 2 from the UE 106, the base station 104 estimates channel conditions (e.g., impulse response, Rx beam direction, signal strength, etc.) to derive channel estimation results by using reference signals (e.g., a DMRS, a SRS, etc.) in or with the MsgA 1 and the MsgA 2, respectively or jointly. Then the base station 104 transmits the first HARQ transmission with a transmission configuration (e.g., a precoding matrix, Tx beam direction, signal power, redundant version, rate matching, etc.) based on the channel estimation results derived from the reference signals in the MsgA 1 and the MsgA 2. If the base station 104 receives the first HARQ ACK (e.g., UE 102 completes the RACH procedure) and does not receive the second HARQ ACK, the base station 104 transmits the second HARQ transmission with a transmission configuration based on the channel estimation results derived from the reference signals in the MsgA 2.
[0123] In some implementations, when a UE 102, 106 is unable to decode a HARQ transmission, the UE 102, 106 may transmit a HARQ NACK to the base station 104. Fig. 14 depicts a messaging diagram of an example procedure for providing resource assignments via a DCI element to UEs for transmitting acknowledgements of a response message from the base station 104 and retransmitting the response message when one of the UEs transmits a NACK.
[0124] In some implementations, the base station 104 configures a seventh PUCCH resource assignment associated with a preamble 1 in the MsgA 1. The seventh PUCCH resource assignment configures a seventh PUCCH resource for transmitting a HARQ NACK. The base station 104 configures an eighth PUCCH resource assignment associated with a preamble 2 in the MsgA 2. The eighth PUCCH resource assignment configures an eighth PUCCH resource for transmitting a HARQ NACK. The preamble 1 may be different from the preamble 2. Then the base station 104 broadcasts 1402 the seventh and the eighth
PUCCH resource assignments in system information. The UE 102 receives the system information and selects the preamble 1 and includes the preamble 1 in the MsgA 1. The UE 106 receives the system information and selects the preamble 2 and includes the preamble 2 in the MsgA 2. The UE 102 transmits 1408 the MsgA 1 to the base station 104, and the UE 106 transmits 1410 the MsgA 2 to the base station 104.
[0125] In the messaging diagram of Fig. 14, the UE 102 fails to decode the first HARQ transmission. As a result, the UE 102 transmits 1418 a first HARQ NACK on the seventh PUCCH resource to indicate that the UE 102 failed to receive or decode the first HARQ transmission of the MAC PDU. The UE 106 also fails to decode the first HARQ transmission. As a result, the UE 106 transmits 1422 a second HARQ NACK on the eight PUCCH resource to indicate that the UE 106 failed to receive or decode the first HARQ transmission of the MAC PDU.
[0126] In response to receiving the HARQ NACKs, the base station 104 generates a second DCI configuring a second PDSCH which includes the second HARQ transmission. The base station 104 includes a third PUCCH resource assignment and a fourth PUCCH resource assignment in the second DCI. Then the base station 104 transmits 1424 the second DCI (with a second CRC scrambled by the RNTI) on a second PDCCH and transmits 1426 a second HARQ transmission of the MAC PDU on a second PDSCH to the UE 102 and the UE 106.
[0127] The UE 102 receives the second HARQ transmission on the second PDSCH. The UE 102 fails to decode the second HARQ transmission of the MAC PDU and transmits 1430 a third HARQ NACK on the seventh PUCCH resource. The UE 106 successfully decodes 1428 the second HARQ transmission without or without combining the second HARQ transmission with the first HARQ transmission. The UE 106 then identifies the MsgB 2 in the MAC PDU according to the contention resolution identity of the UE 106 and determines contention resolution succeeds. Then the UE 106 transmits 1432 a HARQ ACK on the third PUCCH resource to the base station 104. In response to the third HARQ NACK, the base station 104 may transmit a third HARQ transmission of the MAC PDU.
[0128] In yet other implementations, when at least one UE 102, 106 transmits a HARQ NACK to the base station 104, the base station generates different MAC PDUs in second or subsequent HARQ transmissions which only include the MsgBs which were not received by the corresponding UEs in previous HARQ transmissions. Fig. 15 depicts a messaging
diagram of an example procedure for providing resource assignments via a DCI element to UEs for transmitting acknowledgements of a second response message when one of the user devices transmits a NACK.
[0129] As in the messaging diagram of Fig. 14, the base station 104 configures a seventh PUCCH resource assignment associated with a preamble 1 in the MsgA 1. The seventh PUCCH resource assignment configures a seventh PUCCH resource for transmitting a HARQ NACK. The base station 104 configures an eighth PUCCH resource assignment associated with a preamble 2 in the MsgA 2. The eighth PUCCH resource assignment configures an eighth PUCCH resource for transmitting a HARQ NACK. The preamble 1 may be different from the preamble 2. Then the base station 104 broadcasts 1502 the seventh and the eighth PUCCH resource assignments in system information. The UE 102 receives the system information and selects the preamble 1 and includes the preamble 1 in the MsgA 1. The UE 106 receives the system information and selects the preamble 2 and includes the preamble 2 in the MsgA 2. The UE 102 transmits 1508 the MsgA 1 to the base station 104, and the UE 106 transmits 1510 the MsgA 2 to the base station 104.
[0130] The UE 102 fails to decode the first HARQ transmission. As a result, the UE 102 transmits 1522 a HARQ NACK on the seventh PUCCH resource to indicate that the UE 102 failed to receive or decode the first HARQ transmission of the MAC PDU. In response to receiving the HARQ NACK the base station 104 generates 1526 a second MAC PDU including a second MsgB 1 and excluding the MsgB 2. The second MsgB 1 may be the same as or different from the first MsgB 1 in the first MAC PDU. The base station 104 also generates a second DCI configuring a second PDSCH which includes the second HARQ transmission. The base station 104 includes a third PUCCH resource assignment in the second DCI. The first and third PUCCH resource assignment may be the same or different. The base station 104 then transmits 1528 the second DCI (with a second CRC scrambled by the RNTI) on a second PDCCH and transmits 1530 the second HARQ transmission of the second MAC PDU on the second PDSCH.
[0131] The UE 102 receives the second HARQ transmission on the second PDSCH. The UE 102 successfully decodes 1532 the second HARQ transmission without combining the first HARQ transmission to obtain the second MAC PDU. The UE 102 identifies the second MsgB 1 by using the contention resolution identity of the UE 102 and determines contention resolution succeeds. Then the UE 102 transmits 1534 a third HARQ ACK on the third
PUCCH resource to the base station 104. The base station 104 may stop transmitting 1538 the MAC PDU in response to receiving HARQ ACKs from each of the UEs 102, 106.
[0132] As described above, in the messaging diagrams of Figs. 3-8, the base station 104 transmits PUCCH resource assignments in a response message to the UEs 102, 106 via the MAC PDU. In the messaging diagrams of Figs. 9 and 11-15, the base station 104 transmits PUCCH resource assignments in a response message to the UEs 102, 106 via DCI elements. In yet other implementations, the base station 104 transmits a separate response message to each UE 102, 106 that transmitted a MsgA to the base station 104 at the same time. Each separate response message includes a PUCCH resource assignment for a particular UE 102, 106. Fig. 16 depicts a messaging diagram of an example procedure for providing resource assignments via separate response messages to UEs for transmitting acknowledgements of the response messages from the base station 104.
[0133] As shown in Fig. 16, UE 102 and UE 106 both initiate 1602, 1604 a two-step RACH procedure. In particular, the base station 104 receives 1606, 1608 a MsgA 1 from UE 102 and a MsgA 2 from UE 106.
[0134] The base station 104 generates a first MAC PDU including a MsgB 1 to respond the MsgA 1, and generates a second MAC PDU including a MsgB 2 to respond to the MsgA 2. The base station 104 generates a first PUCCH resource assignment. Additionally, the base station 104 generates a first DCI element including the first PUCCH resource assignment and assigning a first PDSCH for receiving a first HARQ transmission. The base station 104 also generates a second PUCCH resource assignment different from the first PUCCH resource assignment. Moreover, the base station 104 generates a second DCI element including the second PUCCH resource assignment and assigning a second PDSCH for receiving a second HARQ transmission. The first PUCCH resource assignment configures a first PUCCH resource and the second resource assignment configures a second PUCCH resource. The first PUCCH resource and the second PUCCH resource may be different or may not overlap. In one example, the first and second PUCCH resources can be on different OFDM symbols, different slots, different subcarriers or different physical resource blocks. The OFDM can be a Discrete Fourier Transform-Spread (DFT-S-OFDM) or a cyclic -prefix (CP) OFDM.
[0135] The base station 104 transmits 1610 the first DCI element (with a first CRC scrambled by a first RNTI) on a first PDCCH and transmits 1614 a first HARQ transmission of the first MAC PDU including a MsgB 1 on the first PDSCH to the UE 102. The base
station 104 also transmits 1612 the second DCI element (with a second CRC scrambled by a second RNTI) on a second PDCCH and transmits 1616 a second HARQ transmission of the second MAC PDU including a MsgB 2 on the second PDSCH to the UE 106. In some implementations, the base station 104 may transmit 1610, 1612 the first and second DCI elements at the same time. In other implementations, the base station 104 may transmit 1610, 1612 the first and second DCI elements at different times. Also in some implementations, the base station 104 may transmit 1614, 1616 the first and second HARQ transmissions at the same time. In other implementations, the base station 104 may transmit 1614, 1616 the first and second HARQ transmissions at different times.
[0136] The UE 102 performs PDCCH monitoring to receive the first PDSCH. The UE 102 receives the first DCI element on the first PDCCH by using the first RNTI and receives the first MAC PDU on the first PDSCH according to the first DCI element. The UE 102 identifies the first PUCCH resource assignment according to the first DCI element. In some implementations, the base station 104 transmits the first MAC PDU using a HARQ transmission scheme. For example, the base station 104 generates a first HARQ transmission of the first MAC PDU and transmits the first HARQ transmission on the first PDSCH to the UE 102. The UE 102 receives the first HARQ transmission and attempts to decode 1618 the first HARQ transmission to obtain the first MAC PDU. If the UE 102 successfully decodes 1620 the first HARQ transmission to obtain the first MAC PDU and identifies the MsgB 1, the UE 102 transmits 1626 the first HARQ ACK to the base station 104 on the first PUCCH resource according to the first PUCCH resource assignment in the first DCI element to acknowledge reception of the first MAC PDU or the MsgB 1. If the base station 104 receives the first HARQ ACK on the first PUCCH resource, the base station 104 determines the UE 102 received the MsgB 1. If the UE 102 does not receive the first MAC PDU on the first PDSCH, the UE 102 does not transmit the first HARQ ACK on the first PUCCH resource. In this case, the base station 104 does not receive the first HARQ ACK. The base station 104 determines the UE 102 did not receive the MsgB 1 due to not receiving a HARQ ACK on the first PUCCH resource.
[0137] In some implementations, the base station 104 may transmit the first DCI element on a third PDCCH and transmit the first HARQ transmission on a third PDSCH in response to determining that the UE 102 did not receive the MsgB 1. If the UE 102 receives the first DCI element on the third PDCCH by using the first RNTI and receives the first HARQ transmission on the third PDSCH according to the first DCI element, the UE 102 may decode
the first HARQ transmission on the third PDSCH or may decode a combination of the first HARQ transmission on the first PDSCH and the first HARQ transmission on the third PDSCH. The UE 102 may then successfully decode the first HARQ transmission to obtain the first MAC PDU including the MsgB 1. The UE 102 may transmit a first HARQ ACK according to the first PUCCH resource assignment included in the first DCI element. If the base station 104 receives the first HARQ ACK on the first PUCCH resource, the base station 104 determines the UE 102 received the first MAC PDU and the MsgB E If the UE 102 does not receive the first MAC PDU on the third PDSCH, the UE 102 does not transmit the first HARQ ACK on the first PUCCH resource. In this case, the base station 104 does not receive the first HARQ ACK. The base station 104 determines the UE 102 did not receive the MsgB 1 due to not receiving a HARQ ACK on the first PUCCH resource.
[0138] In other implementations, the base station 104 may generate a third DCI element including a third PUCCH resource assignment and assigning a third PDSCH in response to determining that the UE 102 did not receive the MsgB 1. The third PUCCH resource assignment configures a third PUCCH resource and may be the same as or different from the first PUCCH resource assignment. The base station 104 may transmit the third DCI element on a third PDCCH and may transmit a third HARQ transmission of the first MAC PDU on a third PDSCH. If the UE 102 receives the third DCI element on the third PDCCH by using the first RNTI and receives the third HARQ transmission on the third PDSCH according to the third DCI element, the UE 102 may decode the third HARQ transmission on the third PDSCH or may decode a combination of the first HARQ transmission on the first PDSCH and the third HARQ transmission on the third PDSCH. The UE 102 may then successfully decode the third HARQ transmission to obtain the first MAC PDU including the MsgB 1.
The UE 102 may transmit a first HARQ ACK according to the third PUCCH resource assignment included in the third DCI element. If the base station 104 receives the first HARQ ACK on the third PUCCH resource, the base station 104 determines the UE 102 received the first MAC PDU and the MsgB 1. If the UE 102 does not receive the first MAC PDU on the third PDSCH, the UE 102 does not transmit the first HARQ ACK on the third PUCCH resource. In this case, the base station 104 does not receive the first HARQ ACK. The base station 104 determines the UE 102 did not receive the MsgB 1 due to not receiving a HARQ ACK on the third PUCCH resource.
[0139] Likewise, the UE 106 performs PDCCH monitoring to receive the second PDSCH. The UE 106 receives the second DCI element on the second PDCCH by using the second
RNTI and receives the second MAC PDU on the second PDSCH according to the second DCI element. The UE 106 identifies the second PUCCH resource assignment according to the second DCI element. In some implementations, the base station 104 transmits the second MAC PDU using a HARQ transmission scheme. For example, the base station 104 generates a second HARQ transmission of the second MAC PDU and transmits the second HARQ transmission on the second PDSCH to the UE 106. The UE 106 receives the second HARQ transmission and attempts to decode 1622 the second HARQ transmission to obtain the second MAC PDU. If the UE 106 successfully decodes 1624 the second HARQ transmission to obtain the second MAC PDU and identifies the MsgB 2, the UE 106 transmits 1628 the second HARQ ACK to the base station 104 on the second PUCCH resource according to the second PUCCH resource assignment in the second DCI element to acknowledge reception of the second MAC PDU or the MsgB 2. If the base station 104 receives the second HARQ ACK on the second PUCCH resource, the base station 104 determines the UE 106 received the MsgB 2. If the UE 106 does not receive the second MAC PDU on the second PDSCH, the UE 106 does not transmit the second HARQ ACK on the second PUCCH resource. In this case, the base station 104 does not receive the second HARQ ACK. The base station 104 determines the UE 106 did not receive the MsgB 2 due to not receiving a HARQ ACK on the second PUCCH resource.
[0140] In some implementations, the UE 102 and the UE 106 may transmit HARQ ACKs at the same time (e.g., with different spatial assignments). In other implementations, the UE 102 and the UE 106 may transmit the HARQ ACKs at different time slots or different OFDM symbols. In response to receiving a HARQ ACK from each of the UEs 102, 106, the base station 104 stops transmitting 1630 the MAC PDU.
[0141] In some implementations, the base station 104 may transmit the second DCI element on a fourth PDCCH and transmit the second HARQ transmission on a fourth PDSCH in response to determining that the UE 106 did not receive the MsgB 2. If the UE 106 receives the second DCI element on the fourth PDCCH by using the second RNTI and receives the second HARQ transmission on the fourth PDSCH according to the second DCI element, the UE 106 may decode the second HARQ transmission on the fourth PDSCH or may decode a combination of the second HARQ transmission on the second PDSCH and the second HARQ transmission on the fourth PDSCH. The UE 106 may then successfully decode the second HARQ transmission to obtain the second MAC PDU including the MsgB 2. The UE 106 may transmit a second HARQ ACK according to the second PUCCH
resource assignment included in the second DCI element. If the base station 104 receives the second HARQ ACK on the second PUCCH resource, the base station 104 determines the UE 106 received the second MAC PDU and the MsgB 2. If the UE 106 does not receive the second MAC PDU on the fourth PDSCH, the UE 106 does not transmit the second HARQ ACK on the second PUCCH resource. In this case, the base station 104 does not receive the second HARQ ACK. The base station 104 determines the UE 106 does not receive the MsgB 2 due to not receiving a HARQ ACK on the second PUCCH resource.
[0142] In other implementations, the base station 104 may generate a fourth DCI element including a fourth PUCCH resource assignment and assigning a fourth PDSCH in response to determining that the UE 106 did not receive the MsgB 2. The fourth PUCCH resource assignment configures a fourth PUCCH resource and may be the same as or different from the second PUCCH resource assignment. The base station 104 may transmit the fourth DCI element on a fourth PDCCH and may transmit a fourth HARQ transmission of the second MAC PDU on a fourth PDSCH. If the UE 106 receives the fourth DCI element on the fourth PDCCH by using the second RNTI and receives the fourth HARQ transmission on the fourth PDSCH according to the fourth DCI element, the UE 106 may decode the fourth HARQ transmission on the fourth PDSCH or may decode a combination of the second HARQ transmission on the second PDSCH and the fourth HARQ transmission on the fourth PDSCH. The UE 106 may then successfully decode the fourth HARQ transmission to obtain the first MAC PDU including the MsgB 2. The UE 106 may transmit a second HARQ ACK according to the fourth PUCCH resource assignment included in the fourth DCI element. If the base station 104 receives the second HARQ ACK on the fourth PUCCH resource, the base station 104 determines the UE 106 received the first MAC PDU and the MsgB 2. If the UE 106 does not receive the second MAC PDU on the fourth PDSCH, the UE 106 does not transmit the second HARQ ACK on the fourth PUCCH resource. In this case, the base station 104 does not receive the second HARQ ACK. The base station 104 determines the UE 106 does not receive the MsgB 2 due to not receiving a HARQ ACK on the fourth PUCCH resource.
[0143] In some implementations, the base station 104 configures the UE 102 and the UE 106 to share the same Control resource set (CORSET) and search space which the UE 102 and the UE 106 monitor to receive the DCI elements on the PDCCHs. The UE 102 and the UE 106 may have different RNTIs. In other implementations, the base station 104 configures the UE 102 and the UE 106 to have different CORSETs and share the same RNTI.
[0144] In some scenarios, the UE 102 and the UE 106 transmit the MsgA 1 and the MsgA 2 on the same OFDM symbols, slots, subcarriers or physical resource blocks. In other scenarios, the UE 102 and the UE 106 transmit the MsgA 1 and the MsgA 2 on different OFDM symbols, slots, subcarriers or physical resource blocks.
[0145] In some implementations, a RNTI associated with a PRACH occasion in which a MsgA is transmitted, may be computed as:
RNTI = 1 + s_id + 14 x t_id + 14 x 80 x f_id + 14 x 80 x 8 x ul_carrier_id + 14 x 80 x 8 x 2 x preamble ID of a MsgA, (Eq. 1) where:
• s_id is the index of the first OFDM symbol of the PRACH occasion (0 < s_id < 14),
• t_id is the index of the first slot of the PRACH occasion in a system frame (0 < t_id < 80), where the subcarrier spacing to determine t_id is based on the value of m specified in clause 5.3.2 in TS 38.211 [8],
• f_id is the index of the PRACH occasion in the frequency domain (0 < f_id < 8),
• ul_carrier_id is the UL carrier used for Random Access Preamble transmission (0 for NUL carrier, and 1 for SUL carrier), and
• preamble ID is an identity or identifier of a preamble included in the MsgA (e.g, 0 < preamble ID < 64).
[0146] The UE 102, 106 transmitting a MsgA may then calculate the RNTI according to Equation 1, and may descramble the CRC included within a DCI element using the calculated RNTI.
[0147] Referring to Fig. 17, a method 1700 can be implemented in the processing hardware of a base station using hardware, firmware, software, or any suitable combination of hardware, firmware, and software. For convenience, Fig. 17 is discussed below with example reference to the base station 104, in which one or more of the modules 132-138 can implement the method 1700.
[0148] The method 1700 begins at block 1702, where the base station 104 receives a request to access a communication channel from several UEs 102, 106. Each request may be a MsgA having a random access preamble and a payload, such as a MsgA 1 and a MsgA 2.
As a more specific example, the MsgAs can be associated with the transmissions 306, 308 of Fig. 3, transmissions 406, 408 of Fig. 4, transmissions 506, 508 of Fig. 5, transmissions 606,
608 of Fig. 6, transmissions 708, 710 of Fig. 7, transmissions 808, 810 of Fig. 8, transmissions 906, 908 of Fig. 9, transmissions 1106, 1108 of Fig. 11, transmissions 1206, 1208 of Fig. 12, transmissions 1306, 1308 of Fig. 13, transmissions 1408, 1410 of Fig. 14, transmissions 1508, 1510 of Fig. 15, and transmissions 1606, 1608 of Fig. 16.
[0149] At block 1704, the base station 104 transmits one or more response messages to each of the UEs 102, 106 that transmitted the MsgAs. The one or more response messages may include channel resource assignments (e.g., PUCCH resource assignments) configuring a respective channel resource (e.g., a PUCCH resource) for each of the UEs 102, 106 to transmit an acknowledgement (e.g., a HARQ ACK) of the one or more response messages. The response message may include a DCI element and a HARQ transmission including a MAC PDU having MsgBs corresponding to each of the UEs 102, 106. Each MsgB may include a contention resolution identity corresponding to one of the UEs 102, 106 so that a particular UE 102, 106 may identify the MsgB intended for the particular UE 102, 106. In some implementations, the one or more response messages may be a single response message and the channel resource assignments may be included in the MAC PDU, where each PUCCH resource assignment is included in one of the MsgBs. In other implementations, the one or more response messages may be a single response message and the channel resource assignments may be included in the DCI element. In yet other implementations, the base station 104 may transmit a separate response message including a separate DCI element and a separate MAC PDU to each of the UEs 102, 106, where each respective response message includes the channel resource assignment for the respective UE. As a more specific example, the response messages can be associated with the transmission 310 of Fig. 3, transmission 410 of Fig. 4, transmission 510 of Fig. 5, transmission 610 of Fig. 6, transmission 712 of Fig. 7, transmission 812 of Fig. 8, transmissions 910, 912 of Fig. 9, transmissions 1110, 1112 of Fig. 11, transmissions 1210, 1212 of Fig. 12, transmissions 1310, 1312 of Fig. 13, transmissions 1412, 1414 of Fig. 14, transmissions 1512, 1514 of Fig. 15, and transmissions 1610-1616 of Fig. 16.
[0150] Then at block 1706, the base station 104 receives HARQ ACKs from the UEs 102, 106 that successfully decoded the one or more response messages. When a HARQ ACK is received, the base station 104 identifies the UE 102, 106 that transmitted the HARQ ACK according to the channel resource (e.g., the PUCCH resource) on which the HARQ ACK is received. For example, if the base station 104 assigned a first PUCCH resource to UE 102 in the response message and receives a HARQ ACK on the first PUCCH resource, the base
station 104 may determine that the UE 102 transmitted the HARQ ACK. In addition to receiving HARQ ACKs, the base station 104 may receive HARQ NACKs indicating that the UEs that transmitted the HARQ NACKs did not successfully decode the one or more response messages. As a specific example, the HARQ ACK can be associated with the transmissions 320, 322 of Fig. 3, transmissions 420, 428 of Fig. 4, transmissions 526, 530 of Fig. 5, transmissions 620, 628 of Fig. 6, transmissions 724, 730 of Fig. 7, transmissions 824, 832 of Fig. 8, transmissions 922, 924 of Fig. 9, transmissions 1122, 1132 of Fig. 11, transmissions 1230, 1234 of Fig. 12, transmissions 1322, 1332 of Fig. 13, transmission 1432 of Fig. 14, transmissions 1524, 1534 of Fig. 15, and transmissions 1626, 1628 of Fig. 16.
The HARQ NACK can be associated with the transmission 722 of Fig. 7, transmission 822 of Fig. 8, transmissions 1418, 1422, 1430 of Fig. 14, and transmission 1522 of Fig. 15.
[0151] If the base station 104 receives a HARQ ACK from each of the UEs 102, 106 that transmitted MsgAs, the base station 104 stops transmitting HARQ transmissions including a MAC PDU. On the other hand, if the base station 104 does not receive a HARQ ACK from at least one of the UEs 102, 106 that transmitted a MsgA or receives a HARQ NACK from at least one of the UEs 102, 106 that transmitted a MsgA, the base station 104 transmits an additional response message including a HARQ transmission (block 1710). The additional response message may include the same MAC PDU or a different MAC PDU including only the MsgBs intended for UEs 102, 106 that did not receive and successfully decode the first HARQ transmission. In some implementations, when none of the UEs 102, 106 receives and successfully decodes the first HARQ transmission, the base station 104 may transmit a second HARQ transmission including the same MAC PDU. Then when at least one of the UEs 102, 106 receives and successfully decodes the second HARQ transmission, the base station 104 may transmit a third HARQ transmission including a different MAC PDU having only the MsgBs intended for UEs 102, 106 that did not receive and successfully decode the second HARQ transmission. The base station 104 may continue to transmit subsequent HARQ transmissions until each of the UEs 102, 106 receives and successfully decodes one of the HARQ transmissions. The base station 104 may format each HARQ transmission in a sequence of HARQ transmissions in any suitable manner, for example, where at least some of the HARQ transmissions are retransmissions of the same MAC PDU and other HARQ transmissions include new MAC PDUs.
[0152] The base station 104 may transmit the additional response message to the UEs 102, 106 that did not receive and successfully decode the first HARQ transmission, or may
transmit the additional response message to each of the UEs 102, 106. The UEs 102, 106 that transmitted a HARQ ACK in response to the first HARQ transmission may ignore the additional response message. As a specific example, the additional response message can be associated with the transmissions 424 of Fig. 4, transmission 522 of Fig. 5, transmission 624 of Fig. 6, transmission 726 of Fig. 7, transmission 828 of Fig. 8, transmissions 1126, 1128 of Fig. 11, transmissions 1224, 1226 of Fig. 12, transmissions 1326, 1328 of Fig. 13, transmissions 1424, 1426 of Fig. 14, and transmissions 1528, 1530 of Fig. 15.
[0153] The base station 104 continues to generate and transmit additional response messages until the base station 104 receives a HARQ ACK from each of the UEs 102, 106 that transmitted MsgAs.
[0154] Referring to Fig. 18, a method 1800 can be implemented in the processing hardware of a base station using hardware, firmware, software, or any suitable combination of hardware, firmware, and software. The method 1800 may be a detailed method of the method 1700 of Fig. 17 for granting access to several UEs 102, 106 to a communication channel by providing resource assignments via a MAC PDU. For convenience, Fig. 18 is discussed below with example reference to the base station 104, in which one or more of the modules 132-138 can implement the method 1800.
[0155] At block 1802, the base station 104 receives a request to access a communication channel from at least one UE 102, 106. Each request may be a MsgA having a random access preamble and a payload, such as a MsgA 1 and a MsgA 2. As a more specific example, the MsgAs can be associated with the transmissions 306, 308 of Fig. 3, transmissions 406, 408 of Fig. 4, transmissions 506, 508 of Fig. 5, transmissions 606, 608 of Fig. 6, transmissions 708, 710 of Fig. 7, and transmissions 808, 810 of Fig. 8.
[0156] In response to receiving at least one MsgA from at least one UE 102, 106, the base station 104 generates a MAC PDU including at least one MsgB intended for a respective UE 102, 106 (block 1804). Each MsgB includes a different channel resource assignment (e.g., a PUCCH resource assignment) configuring a respective channel resource (e.g., a PUCCH resource) for each of the UEs 102, 106 to transmit an acknowledgement (e.g., a HARQ ACK). At block 1806, the base station 104 transmits a HARQ transmission of the MAC PDU. As a more specific example, the HARQ transmissions can be associated with the transmission 310 of Fig. 3, transmission 410 of Fig. 4, transmission 510 of Fig. 5, transmission 610 of Fig. 6, transmission 712 of Fig. 7, and transmission 812 of Fig. 8.
[0157] Then at block 1808, the base station 104 determines whether a HARQ ACK is received on each respective channel resource corresponding each of the MsgBs. If a HARQ ACK is received on each respective channel resource corresponding each of the MsgBs, the base station 104 stops transmitting the MAC PDU (block 1810). On the other hand, if at least one HARQ ACK is not received on a respective channel resource corresponding to one of the MsgBs, the base station 104 may transmit another HARQ transmission of the MAC PDU including each of the MsgBs and channel resource assignments. In other implementations, the base station 104 may generate a new MAC PDU including only MsgBs for which HARQ ACKs have not been received. The base station 104 may then transmit the new MAC PDU in an additional HARQ transmission. As a more specific example, the additional HARQ transmissions can be associated with the transmission 424 of Fig. 4, transmission 522 of Fig. 5, transmission 624 of Fig. 6, transmission 726 of Fig. 7, and transmission 828 of Fig. 8.
[0158] Referring to Fig. 19, a method 1900 can be implemented in the processing hardware of a base station using hardware, firmware, software, or any suitable combination of hardware, firmware, and software. The method 1900 may be a detailed method of the method 1700 of Fig. 17 for granting access to several UEs 102, 106 to a communication channel by providing resource assignments via a DCI element. For convenience, Fig. 19 is discussed below with example reference to the base station 104, in which one or more of the modules 132-138 can implement the method 1900.
[0159] At block 1902, the base station 104 receives a request to access a communication channel from at least one UE 102, 106. Each request may be a MsgA having a random access preamble and a payload, such as a MsgA 1 and a MsgA 2. As a more specific example, the MsgAs can be associated with the transmissions 906, 908 of Fig. 9, transmissions 1106, 1108 of Fig. 11, transmissions 1206, 1208 of Fig. 12, transmissions 1306, 1308 of Fig. 13, transmissions 1408, 1410 of Fig. 14, and transmissions 1508, 1510 of Fig. 15.
[0160] In response to receiving at least one MsgA from at least one UE 102, 106, the base station 104 generates a MAC PDU including at least one MsgB intended for a respective UE 102, 106 (block 1904). The base station 104 also generates a first DCI element which assigns a first PDSCH and channel resources (e.g., PUCCH resources) for each of the UEs 102, 106 to transmit an acknowledgement (e.g., a HARQ ACK) (block 1906). Each channel resource corresponds to a different MsgB intended for a particular UE 102, 106.
[0161] At block 1908, the base station 104 transmits the first DCI element on a first PDCCH and transmits a HARQ transmission including the MAC PDU on the first PDSCH. As a more specific example, the DCI element and HARQ transmissions can be associated with the transmissions 910, 912 of Fig. 9, transmissions 1110, 1112 of Fig. 11, transmissions 1210, 1212 of Fig. 12, transmissions 1310, 1312 of Fig. 13, transmissions 1412, 1414 of Fig. 14, and transmissions 1512, 1514 of Fig. 15.
[0162] Then at block 1910, the base station 104 determines whether a HARQ ACK is received on each respective channel resource corresponding each of the MsgBs. If a HARQ ACK is received on each respective channel resource corresponding each of the MsgBs, the base station 104 stops transmitting the MAC PDU (block 1912). On the other hand, if at least one HARQ ACK is not received on a respective channel resource corresponding to one of the MsgBs, the base station 104 may transmit the first DCI element and the first HARQ transmission of the MAC PDU on a second PDSCH.
[0163] In other implementations, the base station 104 may generate a second DCI element which assigns a second PDSCH and second PUCCH resources. Each of the second PUCCH resources may correspond to a different MsgB intended for a particular UE 102, 106. Some of the second PUCCH resources may be the same as or different from some of the first PUCCH resources. The base station 104 may transmit the second DCI element on a second PDCCH and transmit a second HARQ transmission of the MAC PDU on the second PDSCH.
[0164] In yet other implementations, the base station 104 generates a new MAC PDU including only MsgBs for which HARQ ACKs have not been received. The base station 104 generates a third DCI element which assigns a third PDSCH and third PUCCH resources. Each of the third PUCCH resources may correspond to a different MsgB intended for a particular UE 102, 106. Some of the third PUCCH resources may be the same as or different from some of the first PUCCH resources. The base station 104 may transmit the third DCI element on a second PDCCH and transmit a third HARQ transmission of the MAC PDU on the third PDSCH. As a more specific example, the additional DCI element and HARQ transmissions can be associated with the transmissions 1126, 1128 of Fig. 11, transmissions 1224, 1226 of Fig. 12, transmissions 1326, 1328 of Fig. 13, transmissions 1424, 1426 of Fig. 14, and transmissions 1528, 1530 of Fig. 15.
[0165] Referring to Fig. 20, a method 2000 can be implemented in the processing hardware of a base station using hardware, firmware, software, or any suitable combination
of hardware, firmware, and software. The method 2000 may be a detailed method of the method 1700 of Fig. 17 for granting access to several UEs 102, 106 to a communication channel by providing resource assignments via separate response messages. For convenience, Fig. 20 is discussed below with example reference to the base station 104, in which one or more of the modules 132-138 can implement the method 2000.
[0166] At block 2002, the base station 104 receives a request to access a communication channel from at least two UE 102, 106. Each request may be a MsgA having a random access preamble and a payload, such as a MsgA 1 and a MsgA 2. As a more specific example, the MsgAs can be associated with the transmissions 1606, 1608 of Fig. 16.
[0167] For each of the MsgAs, the base station 104 generates a separate MAC PDU including a corresponding MsgB (block 2004). The base station 104 also generates a separate DCI element assigning a separate PDSCH for the MAC PDU and a channel resource assignment (e.g., a PUCCH resource assignment) for the UE 102, 106 to transmit an acknowledgement (e.g., a HARQ ACK) in response to receiving and successfully decoding the separate MAC PDU (block 2006). At block 2008, the base station 104 transmits the separate DCI element on a separate PDCCH and transmits a HARQ transmission including the MAC PDU on the separate PDSCH. As a more specific example, the DCI element and HARQ transmissions can be associated with the transmissions 1610-1616 of Fig. 16.
[0168] Referring to Fig. 21, a method 2100 can be implemented in the processing hardware of a UE using hardware, firmware, software, or any suitable combination of hardware, firmware, and software. For convenience, Fig. 21 is discussed below with example reference to the UE 102, in which one or more of the modules 122-126 can implement the method 2100.
[0169] The method 2100 begins at block 2102, where the UE 102 transmits, to a base station 104, a request to access a communication channel. The request may be a MsgA having a random access preamble and a payload. As a more specific example, the MsgA can be associated with the transmission 306 of Fig. 3, transmission 406 of Fig. 4, transmission 506 of Fig. 5, transmission 606 of Fig. 6, transmission 708 of Fig. 7, transmission 808 of Fig. 8, transmission 906 of Fig. 9, transmission 1106 of Fig. 11, transmission 1206 of Fig. 12, transmission 1306 of Fig. 13, transmission 1408 of Fig. 14, transmission 1508 of Fig. 15, and transmission 1606 of Fig. 16.
[0170] At block 2104, the UE 102 receives a response message from the base station 104. The response message may include channel resource assignments (e.g., PUCCH resource assignments) configuring a respective channel resource (e.g., a PUCCH resource) for each of several UEs 102, 106 (including the UE 102) to transmit an acknowledgement (e.g., a HARQ ACK) of the response message. The response message may include a DCI element and a HARQ transmission including a MAC PDU having MsgBs corresponding to each of the UEs 102, 106. Each MsgB may include a contention resolution identity corresponding to one of the UEs 102, 106 so that a particular UE 102, 106 may identify the MsgB intended for the particular UE 102, 106. In some implementations, the channel resource assignments may be included in the MAC PDU, where each PUCCH resource assignment is included in one of the MsgBs. In other implementations, the channel resource assignments may be included in the DCI element. As a more specific example, the response message can be associated with the transmission 310 of Fig. 3, transmission 410 of Fig. 4, transmission 510 of Fig. 5, transmission 610 of Fig. 6, transmission 712 of Fig. 7, transmission 812 of Fig. 8, transmissions 910, 912 of Fig. 9, transmissions 1110, 1112 of Fig. 11, transmissions 1210, 1212 of Fig. 12, transmissions 1310, 1312 of Fig. 13, transmissions 1412, 1414 of Fig. 14, and transmissions 1512, 1514 of Fig. 15.
[0171] At block 2106, the UE 102 attempts to decode the response message to identify a channel resource assigned to the UE 102. If the UE 102 is unable to successfully decode the response message, the UE 102 may not transmit a HARQ ACK to the base station 104 or may transmit a HARQ NACK to the base station 104 on a PUCCH resource assigned to the UE 102 for transmitting HARQ NACKs to the base station 104. On the other hand, if the UE 102 successfully decodes the response message to obtain the MAC PDU, the UE 102 transmits a HARQ ACK to the base station 104 on the PUCCH resource assigned to the UE 102 for transmitting an acknowledgement of the response message (block 2110). As a specific example, the HARQ ACK can be associated with the transmission 320 of Fig. 3, transmission 428 of Fig. 4, transmission 526 of Fig. 5, transmission 628 of Fig. 6, transmission 730 of Fig. 7, transmission 832 of Fig. 8, transmission 922 of Fig. 9, transmission 1132 of Fig. 11, transmission 1230 of Fig. 12, transmission 1332 of Fig. 13, transmission 1534 of Fig. 15, and transmission 1626 of Fig. 16. The HARQ NACK can be associated with the transmission 722 of Fig. 7, transmission 822 of Fig. 8, transmissions 1418, 1430 of Fig. 14, and transmission 1522 of Fig. 15.
[0172] Referring to Fig. 22, a method 2200 can be implemented in the processing hardware of a UE using hardware, firmware, software, or any suitable combination of hardware, firmware, and software. The method 2200 may be a detailed method of the method 2100 of Fig. 21 for granting access to several UEs 102, 106 to a communication channel by providing resource assignments via a MAC PDU. For convenience, Fig. 22 is discussed below with example reference to the base station 104, in which one or more of the modules 132-138 can implement the method 2200.
[0173] At block 2202, the UE 102 transmits to a base station 104, a request to access a communication channel. The request may be a MsgA having a random access preamble and a payload. As a more specific example, the MsgA can be associated with the transmission 306 of Fig. 3, transmission 406 of Fig. 4, transmission 506 of Fig. 5, transmission 606 of Fig. 6, transmission 708 of Fig. 7, and transmission 808 of Fig. 8.
[0174] At block 2204, the UE 102 starts monitoring PDCCH(s). Then the UE 102 receives a DCI element with a CRC scrambled by a first RNTI on a PDCCH (block 2206). The DCI element may include a PDSCH for receiving a HARQ transmission. In response to receiving a HARQ transmission on the PDSCH indicated by the DCI element, the UE 102 attempts to decode the HARQ transmission to obtain a MAC PDU having MsgBs intended for several UEs (block 2208). If the UE 102 successfully decodes the HARQ transmission to obtain the MAC PDU, the UE 102 obtains a MsgB within the MAC PDU having a contention resolution identity that corresponds to the UE 102. For example, the contention resolution identity may be associated with or generated from content in the payload of the MsgA sent by the UE 102. If the UE 102 identifies a MsgB within the MAC PDU having a contention resolution identity that corresponds to the UE 102, the UE 102 determines contention resolution succeeds (block 2212). The UE 102 may transmit a HARQ ACK to the base station 104 on the channel resource (e.g., the PUCCH resource) indicated in the corresponding MsgB (block 2214). As a specific example, the HARQ ACK can be associated with the transmission 320 of Fig. 3, transmission 428 of Fig. 4, transmission 526 of Fig. 5, transmission 628 of Fig. 6, transmission 730 of Fig. 7, and transmission 832 of Fig. 8.
[0175] If the UE 102 does not identify a MsgB within the MAC PDU having a contention resolution identity that corresponds to the UE 102, the UE 102 may determine that contention resolution fails (block 2216). Then the UE 102 may transmit a second MsgA or may initiate a four-step RACH.
[0176] The UE 102 includes a first preamble and a first payload in the first MsgA. The UE 102 also includes a second preamble and a second payload in the second MsgA. In some implementations, the first preamble and the second preamble are the same. In other implementations, the first preamble and the second preamble are the different. In one implementation, the UE 102 may select a second preamble which is different from the first preamble. Also in some implementations, the first payload and the second payload are the same, such that the UE 102 retransmits the first payload in the second MsgA. In other implementations, the first payload and the second payload are different, such that the UE 102 does not retransmit the first payload in the second MsgA.
[0177] In some implementations, the first payload includes a first uplink MAC PDU and the second payload includes a second uplink MAC PDU. The first and second uplink MAC PDUs can be the same or different. In other implementations, the first payload includes a first uplink HARQ transmission of a first uplink MAC PDU and the second payload includes a second uplink HARQ transmission of a second uplink MAC PDU. The first and second uplink MAC PDUs can be the same or different. RVs of the first and second uplink HARQ transmissions can also be the same or different.
[0178] If the UE 102 initiates the four-step RACH after contention resolution fails, the UE 102 may transmit a third preamble. The third preamble may be different from the first preamble. The UE 102 once again monitors PDCCH(s). Then the UE 102 may receive a MAC PDU including a random access response (RAR) on a PDCCH by using a second RNTI. The second RNTI may be different from the first RNTI. If the RAR includes a preamble identity of the third preamble, the UE 102 transmits a third HARQ transmission of a third uplink MAC PDU by using an uplink grant included in the RAR. The first and third uplink MAC PDUs can be the same or different. RVs of the first and third uplink HARQ transmissions can also be the same or different.
[0179] Referring to Fig. 23, a method 2300 can be implemented in the processing hardware of a UE using hardware, firmware, software, or any suitable combination of hardware, firmware, and software. The method 2300 may be a detailed method of the method 2100 of Fig. 21 for granting access to several UEs 102, 106 to a communication channel by providing resource assignments via a MAC PDU. For convenience, Fig. 23 is discussed below with example reference to the base station 104, in which one or more of the modules 132-138 can implement the method 2300.
[0180] At block 2302, the UE 102 transmits to a base station 104, a request to access a communication channel. The request may be a MsgA having a random access preamble and a payload. As a more specific example, the MsgA can be associated with the transmission 306 of Fig. 3, transmission 406 of Fig. 4, transmission 506 of Fig. 5, transmission 606 of Fig. 6, transmission 708 of Fig. 7, and transmission 808 of Fig. 8.
[0181] At block 2304, the UE 102 starting monitoring PDCCH(s) in a MsgB receiving window. The UE 102 monitors PDCCHs in the MsgB receiving window with a first RNTI to receive a downlink MAC PDU including a corresponding MsgB. If the UE 102 does not receive the corresponding MsgB in the downlink MAC PDU within the MsgB receiving window, the UE 102 determines that contention resolution fails (block 2316). If the MsgB receiving window has not yet expired, the UE 102 continues monitoring PDCCH(s) with the first RNTI.
[0182] In some implementations, the UE 102 may start a timer to determine whether or not the MsgB receiving window has ended. In other implementations, the UE 102 may start a counter to count the number of time units (e.g., subframes or slots) passed to determine whether or not the MsgB receiving window has ended.
[0183] If the MsgB receiving window has not ended, the UE 102 receives a DCI element with a CRC scrambled by a first RNTI on a PDCCH (block 2306). The DCI element may include a PDSCH for receiving a HARQ transmission. In response to receiving a HARQ transmission on the PDSCH indicated by the DCI element, the UE 102 attempts to decode the HARQ transmission to obtain a MAC PDU having MsgBs intended for several UEs (block 2308). If the UE 102 successfully decodes the HARQ transmission to obtain the MAC PDU, the UE 102 obtains a MsgB within the MAC PDU having a contention resolution identity that corresponds to the UE 102. For example, the contention resolution identity may be associated with or generated from content in the payload of the MsgA sent by the UE 102. If the UE 102 identifies a MsgB within the MAC PDU having a contention resolution identity that corresponds to the UE 102, the UE 102 determines contention resolution succeeds (block 2312). The UE 102 may transmit a HARQ ACK to the base station 104 on the channel resource (e.g., the PUCCH resource) indicated in the corresponding MsgB (block 2314). As a specific example, the HARQ ACK can be associated with the transmission 320 of Fig. 3, transmission 428 of Fig. 4, transmission 526 of Fig. 5, transmission 628 of Fig. 6,
transmission 730 of Fig. 7, and transmission 832 of Fig. 8. The HARQ NACK can be associated with the transmission 722 of Fig. 7, and transmission 822 of Fig. 8.
[0184] If the UE 102 does not identify a MsgB within the MAC PDU having a contention resolution identity that corresponds to the UE 102 and the MsgB receiving window has expired, the UE 102 may determine that contention resolution fails (block 2316). Then the UE 102 may transmit a second MsgA or may initiate a four-step RACH. If the MsgB receiving window has not yet expired, the UE 102 continues monitoring PDCCH(s) with the first RNTI.
[0185] Referring to Fig. 24, a method 2400 can be implemented in the processing hardware of a UE using hardware, firmware, software, or any suitable combination of hardware, firmware, and software. The method 2400 may be a detailed method of the method 2100 of Fig. 21 for granting access to several UEs 102, 106 to a communication channel by providing resource assignments via a DCI element. For convenience, Fig. 24 is discussed below with example reference to the base station 104, in which one or more of the modules 132-138 can implement the method 2400.
[0186] At block 2402, the UE 102 transmits to a base station 104, a request to access a communication channel. The request may be a MsgA having a random access preamble and a payload. As a more specific example, the MsgA can be associated with the transmission 906 of Fig. 9, transmission 1106 of Fig. 11, transmission 1206 of Fig. 12, transmission 1306 of Fig. 13, transmission 1408 of Fig. 14, and transmission 1508 of Fig. 15.
[0187] At block 2404, the UE 102 starting monitoring PDCCH(s). Then the UE 102 receives a DCI element with a CRC scrambled by a first RNTI on a PDCCH (block 2406). The DCI element may include a PDSCH for receiving a HARQ transmission. In response to receiving a HARQ transmission on the PDSCH indicated by the DCI element, the UE 102 attempts to decode the HARQ transmission to obtain a MAC PDU having MsgBs intended for several UEs (block 2408). If the UE 102 successfully decodes the HARQ transmission to obtain the MAC PDU, the UE 102 obtains a MsgB within the MAC PDU having a contention resolution identity that corresponds to the UE 102. For example, the contention resolution identity may be associated with or generated from content in the payload of the MsgA sent by the UE 102. If the UE 102 identifies a MsgB within the MAC PDU having a contention resolution identity that corresponds to the UE 102, the UE 102 determines contention resolution succeeds (block 2412). The UE 102 may transmit a HARQ ACK to the base
station 104 on the channel resource (e.g., the PUCCH resource) indicated in the DCI element (block 2414). As a specific example, the HARQ ACK can be associated with the transmission 922 of Fig. 9, transmission 1132 of Fig. 11, transmission 1230 of Fig. 12, transmission 1332 of Fig. 13, and transmission 1534 of Fig. 15. The HARQ NACK can be associated with the transmissions 1418, 1430 of Fig. 14, and transmission 1522 of Fig. 15.
[0188] If the UE 102 does not identify a MsgB within the MAC PDU having a contention resolution identity that corresponds to the UE 102, the UE 102 may determine that contention resolution fails (block 2416). Then the UE 102 may transmit a second MsgA or may initiate a four-step RACH.
[0189] The UE 102 includes a first preamble and a first payload in the first MsgA. The UE 102 also includes a second preamble and a second payload in the second MsgA. In some implementations, the first preamble and the second preamble are the same. In other implementations, the first preamble and the second preamble are the different. In one implementation, the UE 102 may select a second preamble which is different from the first preamble. Also in some implementations, the first payload and the second payload are the same, such that the UE 102 retransmits the first payload in the second MsgA. In other implementations, the first payload and the second payload are different, such that the UE 102 does not retransmit the first payload in the second MsgA.
[0190] In some implementations, the first payload includes a first uplink MAC PDU and the second payload includes a second uplink MAC PDU. The first and second uplink MAC PDUs can be the same or different. In other implementations, the first payload includes a first uplink HARQ transmission of a first uplink MAC PDU and the second payload includes a second uplink HARQ transmission of a second uplink MAC PDU. The first and second uplink MAC PDUs can be the same or different. RVs of the first and second uplink HARQ transmissions can also be the same or different.
[0191] If the UE 102 initiates the four-step RACH after contention resolution fails, the UE 102 may transmit a third preamble. The third preamble may be different from the first preamble. The UE 102 once again monitors PDCCH(s). Then the UE 102 may receive a MAC PDU including a random access response (RAR) on a PDCCH by using a second RNTI. The second RNTI may be different from the first RNTI. If the RAR includes a preamble identity of the third preamble, the UE 102 transmits a third HARQ transmission of a third uplink MAC PDU by using an uplink grant included in the RAR. The first and third
uplink MAC PDUs can be the same or different. RVs of the first and third uplink HARQ transmissions can also be the same or different.
[0192] Referring to Fig. 25, a method 2500 can be implemented in the processing hardware of a UE using hardware, firmware, software, or any suitable combination of hardware, firmware, and software. The method 2500 may be a detailed method of the method 2100 of Fig. 21 for granting access to several UEs 102, 106 to a communication channel by providing resource assignments via a DCI element. For convenience, Fig. 24 is discussed below with example reference to the base station 104, in which one or more of the modules 132-138 can implement the method 2500.
[0193] At block 2502, the UE 102 transmits to a base station 104, a request to access a communication channel. The request may be a MsgA having a random access preamble and a payload. As a more specific example, the MsgA can be associated with the transmission 906 of Fig. 9, transmission 1106 of Fig. 11, transmission 1206 of Fig. 12, transmission 1306 of Fig. 13, transmission 1408 of Fig. 14, and transmission 1508 of Fig. 15.
[0194] At block 2504, the UE 102 starting monitoring PDCCH(s) in a MsgB receiving window. The UE 102 monitors PDCCHs in the MsgB receiving window with a first RNTI to receive a downlink MAC PDU including a corresponding MsgB. If the UE 102 does not receive the corresponding MsgB in the downlink MAC PDU within the MsgB receiving window, the UE 102 determines that contention resolution fails (block 2516). If the MsgB receiving window has not yet expired, the UE 102 continues monitoring PDCCH(s) with the first RNTI.
[0195] In some implementations, the UE 102 may start a timer to determine whether or not the MsgB receiving window has ended. In other implementations, the UE 102 may start a counter to count the number of time units (e.g., subframes or slots) passed to determine whether or not the MsgB receiving window has ended.
[0196] If the MsgB receiving window has not ended, the UE 102 receives a DCI element with a CRC scrambled by a first RNTI on a PDCCH (block 2506). The DCI element may include a PDSCH for receiving a HARQ transmission. In response to receiving a HARQ transmission on the PDSCH indicated by the DCI element, the UE 102 attempts to decode the HARQ transmission to obtain a MAC PDU having MsgBs intended for several UEs (block 2508). If the UE 102 successfully decodes the HARQ transmission to obtain the MAC PDU, the UE 102 obtains a MsgB within the MAC PDU having a contention resolution identity that
corresponds to the UE 102. For example, the contention resolution identity may be associated with or generated from content in the payload of the MsgA sent by the UE 102. If the UE 102 identifies a MsgB within the MAC PDU having a contention resolution identity that corresponds to the UE 102, the UE 102 determines contention resolution succeeds (block 2512). The UE 102 may transmit a HARQ ACK to the base station 104 on the channel resource (e.g., the PUCCH resource) indicated in the DCI element (block 2514). As a specific example, the HARQ ACK can be associated with the transmission 922 of Fig. 9, transmission 1132 of Fig. 11, transmission 1230 of Fig. 12, transmission 1332 of Fig. 13, and transmission 1534 of Fig. 15. The HARQ NACK can be associated with the transmissions 1418, 1430 of Fig. 14, and transmission 1522 of Fig. 15.
[0197] If the UE 102 does not identify a MsgB within the MAC PDU having a contention resolution identity that corresponds to the UE 102 and the MsgB receiving window has expired, the UE 102 may determine that contention resolution fails (block 2516). Then the UE 102 may transmit a second MsgA or may initiate a four-step RACH. If the MsgB receiving window has not yet expired, the UE 102 continues monitoring PDCCH(s) with the first RNTI.
[0198] Embodiments of the techniques described in the present disclosure may include any number of the following aspects, either alone or combination:
[0199] 1. A method in a base station for granting access to a plurality of user devices to a communication channel, the method comprising: receiving, by processing hardware at the base station from at least a first user device and a second user device, at least a first request to access the communication channel and a second request to access the communication channel, the first request including a first random access preamble and a first data payload and the second request including a second random access preamble and a second data payload; and transmitting, by the processing hardware to the at least first and second user devices, one or more response messages including at least a first channel resource assignment and a second channel resource assignment configuring at least a first and second channel resource for each of the at least first and second user devices to transmit an acknowledgement of the one or more response messages.
[0200] 2. The method according to aspect 1, wherein transmitting the one or more response messages includes: transmitting a single response message having a protocol data
unit (PDU) associated with a media access control (MAC) layer and including the at least first and second channel resource assignments.
[0201] 3. The method according to any of the preceding aspects, wherein transmitting the single response message includes: transmitting the single response message having the PDU including at least a first identifier and a second identifier related to the at least first and second user devices.
[0202] 4. The method according to any of the preceding aspects, further comprising: receiving, by the processing hardware from each of the at least first and second user devices, an acknowledgement of the response message, transmitted on one of the at least first and second channel resources.
[0203] 5. The method according to any of the preceding aspects, wherein the response message is transmitted on a first shared channel and further comprising: in response to not receiving an acknowledgement of the response message from at least one of the at least first and second user devices, retransmitting, by the processing hardware to the at least one user device, the response message on a second shared channel.
[0204] 6. The method according to any of the preceding aspects, further comprising: transmitting, by the processing hardware to the at least first and second user devices, at least a third channel resource assignment and a fourth channel resource assignment configuring at least a third and fourth channel resource for each of the at least first and second user devices to transmit a negative acknowledgement (NACK) of the response message; receiving, by the processing hardware from at least one of the at least first and second user devices, a NACK of the response message on at least one of the at least third and fourth channel resources; and retransmitting, by the processing hardware to the at least one user device, the response message on the second shared channel.
[0205] 7. The method according to any of the preceding aspects, wherein the response message is a first response message transmitted on a first shared channel, the method further comprising: in response to not receiving an acknowledgement of the response message from at least one of the at least first and second of user devices, transmitting, by the processing hardware to the at least one user device, a second response message on a second shared channel having a second PDU including an additional channel resource assignment configuring an additional channel resource for the at least one user device to transmit an acknowledgement of the second response message.
[0206] 8. The method according to any of the preceding aspects, further comprising: transmitting, by the processing hardware to the at least first and second user devices, at least a third channel resource assignment and a fourth channel resource assignment configuring at least a third channel resource and a fourth channel resource for each of the at least first and second user devices to transmit a negative acknowledgement (NACK) of the response message; receiving, by the processing hardware from at least one of the at least first and second user devices, a NACK of the response message on at least one of the at least third and fourth channel resources; and transmitting, by the processing hardware to the at least one user device, the second response message on the second shared channel.
[0207] 9. The method according to any of the preceding aspects, wherein transmitting the one or more response messages includes: transmitting a single response message having a downlink control information (DCI) element including the at least first and second channel resource assignments and a protocol data unit (PDU) associated with a media access control (MAC) layer.
[0208] 10. The method according to any of the preceding aspects, further comprising: receiving, by the processing hardware from each of the at least first and second user devices, an acknowledgement of the response message, transmitted on one of the at least first and second channel resources.
[0209] 11. The method according to any of the preceding aspects, wherein the PDU is transmitted on a first shared channel, the method further comprising: in response to not receiving an acknowledgement of the response message from at least one of the at least first and second user devices: transmitting, by the processing hardware to the at least one user device, a DCI element including an additional channel resource assignment configuring an additional channel resource for the at least one user device to transmit an acknowledgement of the response message; and retransmitting, by the processing hardware to the at least one user device, the PDU on a second shared channel.
[0210] 12. The method according to any of the preceding aspects, further comprising: transmitting, by the processing hardware to the at least first and second user devices, at least a third channel resource assignment and a fourth channel resource assignment configuring at least a third channel resource and a fourth channel resource for each of the at least first and second user devices to transmit a negative acknowledgement (NACK) of the response message; receiving, by the processing hardware from at least one of the at least first and
second user devices, a NACK of the response message on at least one of the at least third and fourth channel resources; transmitting, by the processing hardware to the at least one user device, the DCI element including the additional channel resource assignment configuring the additional channel resource for the at least one user device to transmit the acknowledgement of the response message; and retransmitting, by the processing hardware to the at least one user device, the PDU on the second shared channel.
[0211] 13. The method according to any of the preceding aspects, wherein the response message is transmitted on a first shared channel, the method further comprising: in response to not receiving an acknowledgement of the response message from at least one of the at least first and second user devices: transmitting, by the processing hardware to the at least one user device, a DCI element including an additional channel resource assignment configuring an additional channel resource for the at least one user device to transmit an acknowledgement of a second response message; and transmitting, by the processing hardware to the at least one user device, a second PDU on a second shared channel
[0212] 14. The method according to any of the preceding aspects, further comprising: transmitting, by the processing hardware to the at least first and second user devices, at least a third channel resource assignment and a fourth channel resource assignment configuring at least a third channel resource and a fourth channel resource for each of the at least first and second user devices to transmit a negative acknowledgement (NACK) of the response message; receiving, by the processing hardware from at least one of the at least first and second user devices, a NACK of the response message on at least one of the at least third and fourth channel resources; transmitting, by the processing hardware to the at least one user device, the DCI element including the additional channel resource assignment configuring the additional channel resource for the at least one user device to transmit the acknowledgement of the second response message; and transmitting, by the processing hardware to the at least one user device, the second PDU on the second shared channel.
[0213] 15. The method according to any of the preceding aspects, wherein transmitting the one or more response messages includes: transmitting a separate message having a downlink control information (DCI) element including a channel resource assignment configuring a channel resource for each of the at least first and second user devices to transmit an acknowledgement of the separate response message.
[0214] 16. The method according to any of the preceding aspects, wherein transmitting the separate response message includes: transmitting the separate response message including a protocol data unit (PDU) associated with a media access control (MAC) layer, the PDU including an identifier related to the user device, and the DCI element including a separate shared channel for receiving the PDU at the user device.
[0215] 17. A method in a first user device for requesting access to a communication channel, the method comprising: transmitting, by processing hardware at the first user device to a base station, a request to access the communication channel, the request include a random access preamble and a data payload; receiving, by the processing hardware, a response message to the request including at least a first channel resource assignment and a second channel resource assignment configuring at least a first channel resource and a second channel resource for each of at least the first user device and a second user device to transmit an acknowledgement of the response message; and attempting to decode, by the processing hardware, the response message to identify the first channel resource assigned to the first user device.
[0216] 18. The method according to aspect 17, wherein attempting to decode the response message includes: attempting to decode a protocol data unit (PDU) associated with a media access control (MAC) layer and including the at least first and second channel resource assignments.
[0217] 19. The method according to either one of aspect 17 or aspect 18, further comprising: in response to successfully decoding the PDU, transmitting, by the processing hardware to the base station, an acknowledgement of the response message on the first channel resource.
[0218] 20. The method according to any of aspects 17-19, wherein the response message is received via a first shared channel, the method further comprising: in response to unsuccessfully decoding the PDU, receiving, by the processing hardware, the response message on a second shared channel.
[0219] 21. The method according to any of aspects 17-21, further comprising: receiving, by the processing hardware, at least a third channel resource assignment and a fourth channel resource assignment configuring at least a third channel resource and a fourth channel resource for each of the at least first and second user devices to transmit a negative acknowledgement (NACK) of the response message; transmitting, by the processing
hardware to the base station, a NACK of the response message on the third channel resource; and receiving, by the processing hardware, the response message on the second shared channel.
[0220] 22. The method according to any of aspects 17-20, wherein the response message is received via a first shared channel, the method further comprising: in response to unsuccessfully decoding the PDU, receiving, by the processing hardware, a second response message on a second shared channel having a second PDU including an additional channel resource assignment configuring an additional channel resource for the first user device to transmit an acknowledgement of the second response message.
[0221] 23. The method according to any of aspects 17-22, further comprising: receiving, by the processing hardware, at least a third channel resource assignment and a fourth channel resource assignment configuring at least a third channel resource and a fourth channel resource for each of the at least first and second user devices to transmit a negative acknowledgement (NACK) of the response message; transmitting, by the processing hardware to the base station, a NACK of the response message on the third channel resource; and receiving, by the processing hardware, the second response message on the second shared channel.
[0222] 24. The method according to any of aspects 17-23, wherein attempting to decode the response message includes: attempting to decode, by the processing hardware, a downlink control information (DCI) element including the at least first and second channel resource assignments; and attempting to decode, by the processing hardware, a protocol data unit (PDU) associated with a media access control (MAC) layer and including at least a first identifier and a second identifier related to the at least first and second user devices.
[0223] 25. The method according to any of aspects 17-24, further comprising: in response to successfully decoding the PDU, transmitting, by the processing hardware to the base station, an acknowledgement of the response message on the channel resource assigned to the first user device and included in the DCI.
[0224] 26. The method according to any of aspects 17-25, wherein the response message is received via a first shared channel, the method further comprising: in response to unsuccessfully decoding the PDU: receiving, by the processing hardware, a DCI element including an additional channel resource assignment configuring an additional channel
resource for the first user device to transmit an acknowledgement of the response message; and receiving, by the processing hardware, the PDU on a second shared channel.
[0225] 27. The method according to any of aspects 17-27, further comprising: receiving, by the processing hardware, a least a third channel resource assignment and a fourth channel resource assignment configuring at least a third channel resource and a fourth channel resource for each of the at least first and second user devices to transmit a negative acknowledgement (NACK) of the response message; transmitting, by the processing hardware to the base station, a NACK of the response message on the third channel resource; receiving, by the processing hardware, the DCI element including the additional channel resource assignment configuring the additional channel resource for the first user device to transmit the acknowledgement of the response message; and receiving, by the processing hardware, the PDU on the second shared channel.
[0226] 28. The method according to any of aspects 17-26, wherein the response message is received via a first shared channel, the method further comprising: in response to unsuccessfully decoding the PDU: receiving, by the processing hardware, a DCI element including an additional channel resource assignment configuring an additional channel resource for the first user device to transmit an acknowledgement of a second response message; and receiving, by the processing hardware, a second PDU on a second shared channel.
[0227] 29. The method according to any of aspects 17-28, further comprising: receiving, by the processing hardware, at least a third channel resource assignment and a fourth channel resource assignment configuring at least a third channel resource and a fourth channel resource for each of the at least first and second user devices to transmit a negative acknowledgement (NACK) of the response message; transmitting, by the processing hardware to the base station, a NACK of the response message on the third channel resource; receiving, by the processing hardware, the DCI element including the additional channel resource assignment configuring the additional channel resource for the first user device to transmit the acknowledgement of a second response message; and receiving, by the processing hardware, the second PDU on the second shared channel.
[0228] The following additional considerations apply to the foregoing discussion.
[0229] A user device in which the techniques of this disclosure can be implemented (e.g., the UE 102) can be any suitable device capable of wireless communications such as a
smartphone, a tablet computer, a laptop computer, a mobile gaming console, a point-of-sale (POS) terminal, a health monitoring device, a drone, a camera, a media- streaming dongle or another personal media device, a wearable device such as a smartwatch, a wireless hotspot, a femtocell, or a broadband router. Further, the user device in some cases may be embedded in an electronic system such as the head unit of a vehicle or an advanced driver assistance system (ADAS). Still further, the user device can operate as an internet-of-things (IoT) device or a mobile-internet device (MID). Depending on the type, the user device can include one or more general-purpose processors, a computer-readable memory, a user interface, one or more network interfaces, one or more sensors, etc.
[0230] Certain embodiments are described in this disclosure as including logic or a number of components or modules. Modules can be software modules (e.g., code stored on non- transitory machine-readable medium) or hardware modules. A hardware module is a tangible unit capable of performing certain operations and may be configured or arranged in a certain manner. A hardware module can comprise dedicated circuitry or logic that is permanently configured (e.g., as a special-purpose processor, such as a field programmable gate array (FPGA) or an application- specific integrated circuit (ASIC)) to perform certain operations. A hardware module may also comprise programmable logic or circuitry (e.g., as encompassed within a general-purpose processor or other programmable processor) that is temporarily configured by software to perform certain operations. The decision to implement a hardware module in dedicated and permanently configured circuitry, or in temporarily configured circuitry (e.g., configured by software) may be driven by cost and time considerations.
[0231] When implemented in software, the techniques can be provided as part of the operating system, a library used by multiple applications, a particular software application, etc. The software can be executed by one or more general-purpose processors or one or more special-purpose processors.
[0232] Upon reading this disclosure, those of skill in the art will appreciate still additional alternative structural and functional designs for handling channel access procedures through the disclosed principles herein. Thus, while particular embodiments and applications have been illustrated and described, it is to be understood that the disclosed embodiments are not limited to the precise construction and components disclosed herein. Various modifications, changes and variations, which will be apparent to those of ordinary skill in the art, may be
made in the arrangement, operation and details of the method and apparatus disclosed herein without departing from the spirit and scope defined in the appended claims.
Claims
1. A method in a base station for granting access to a plurality of user devices to a communication channel, the method comprising: receiving, by processing hardware at the base station, at least a first request to access the communication channel from a first user device and a second request to access the communication channel from a second user device, the first request including a first random access preamble and a first data payload and the second request including a second random access preamble and a second data payload; and transmitting, by the processing hardware to the at least first and second user devices on a first shared channel, a single response message including at least a first channel resource assignment configuring a first channel resource for the first user device to transmit an acknowledgement of the single response message, and a second channel resource assignment configuring a second channel resource for the second user device to transmit an acknowledgement of the single response message.
2. The method of claim 1, wherein the single response message includes a protocol data unit (PDU) associated with a media access control (MAC) layer, the PDU including the at least first and second channel resource assignments.
3. The method of claim 2, wherein transmitting the single response message includes: transmitting the single response message having the PDU including at least a first identifier related to the first user device and a second identifier related to the second user device.
4. The method of claim 2 or claim 3, further comprising: receiving, by the processing hardware from at least one of the at least first and second user devices, an acknowledgement of the single response message, transmitted on one of the at least first and second channel resources.
5. The method of any one of claims 1-3, wherein the single response message is a first response message and further comprising: transmitting, by the processing hardware to the at least first and second user devices, at least a third channel resource assignment configuring a third channel resource for the first user device to transmit a negative acknowledgement (NACK) of the single response message, and a fourth channel resource assignment configuring a fourth channel resource for the second user device to transmit a NACK of the single response message; receiving, by the processing hardware from at least one of the at least first and second user devices, a NACK of the single response message on at least one of the at least third and fourth channel resources; and transmitting, by the processing hardware to the at least one user device on a second shared channel, a second response message.
6. The method of any one of claims 2-4, wherein the single response message is a first response message, the method further comprising: in response to not receiving an acknowledgement of the first response message from at least one of the at least first and second of user devices, transmitting, by the processing hardware to the at least one user device on a second shared channel, a second response message having a second PDU including an additional channel resource assignment configuring an additional channel resource for the at least one user device to transmit an acknowledgement of the second response message.
7. The method of claim 1, wherein transmitting the single response message includes: transmitting the single response message having a downlink control information (DCI) element including the at least first and second channel resource assignments and a protocol data unit (PDU) associated with a media access control (MAC) layer.
8. The method of claim 7, wherein the PDU is a first PDU transmitted on the first shared channel, the method further comprising:
in response to not receiving an acknowledgement of the single response message from at least one of the at least first and second user devices: transmitting, by the processing hardware to the at least one user device, a DCI element including an additional channel resource assignment configuring an additional channel resource for the at least one user device to transmit an acknowledgement of the single response message; and transmitting, by the processing hardware to the at least one user device on a second shared channel, a second PDU.
9. The method of claim 7, further comprising: in response to not receiving an acknowledgement of the single response message from at least one of the at least first and second user devices: transmitting, by the processing hardware to the at least one user device, a DCI element including an additional channel resource assignment configuring an additional channel resource for the at least one user device to transmit an acknowledgement of a second response message; and transmitting, by the processing hardware to the at least one user device on a second shared channel, a second PDU.
10. A base station comprising processing hardware configured to implement a method of any of claims 1-9.
11. A method in a first user device for requesting access to a communication channel, the method comprising: transmitting, by processing hardware at the first user device to a base station, a request to access the communication channel, the request including a random access preamble and a data payload; receiving, by the processing hardware on a first shared channel, a single response message to the request including at least a first channel resource assignment configuring a first channel resource for the first user device to transmit an acknowledgement of the single response message, and
a second channel resource assignment configuring a second channel for a second user device to transmit an acknowledgement of the single response message; and attempting to decode, by the processing hardware, the single response message to identify the first channel resource assigned to the first user device.
12. The method of claim 11, wherein attempting to decode the single response message includes: attempting to decode a protocol data unit (PDU) associated with a media access control (MAC) layer and including the at least first and second channel resource assignments.
13. The method of claim 12, further comprising: in response to successfully decoding the PDU, transmitting, by the processing hardware to the base station, an acknowledgement of the single response message on the first channel resource.
14. The method of claim 11 or claim 12, wherein the single response message is a first response message and further comprising: receiving, by the processing hardware, at least a third channel resource assignment configuring a third channel resource for the first user device to transmit a negative acknowledgement (NACK) of the single response message, and a fourth channel resource assignment configuring a fourth channel resource for the second user device to transmit a NACK of the single response message; transmitting, by the processing hardware to the base station, a NACK of the response message on the third channel resource; and receiving, by the processing hardware on the second shared channel, a second response message.
15. The method of claim 12, further comprising: in response to unsuccessfully decoding the PDU, receiving, by the processing hardware on a second shared channel, a second response message having a second PDU
including an additional channel resource assignment configuring an additional channel resource for the first user device to transmit an acknowledgement of the second response message.
16. The method of claim 11, wherein attempting to decode the response message includes: attempting to decode, by the processing hardware, a downlink control information (DCI) element including the at least first and second channel resource assignments; and attempting to decode, by the processing hardware, a protocol data unit (PDU) associated with a media access control (MAC) layer and including at least a first identifier related to the first user device and a second identifier related to the second user device.
17. The method of claim 16, wherein the PDU is a first PDU and further comprising: in response to unsuccessfully decoding the first PDU: receiving, by the processing hardware, a DCI element including an additional channel resource assignment configuring an additional channel resource for the first user device to transmit an acknowledgement of the response message; and receiving, by the processing hardware on a second shared channel, a second PDU.
18. A user device comprising processing hardware configured to implement a method of any of claims 11-17.
Applications Claiming Priority (4)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US201962886479P | 2019-08-14 | 2019-08-14 | |
US62/886,479 | 2019-08-14 | ||
US201962907166P | 2019-09-27 | 2019-09-27 | |
US62/907,166 | 2019-09-27 |
Publications (1)
Publication Number | Publication Date |
---|---|
WO2021030023A1 true WO2021030023A1 (en) | 2021-02-18 |
Family
ID=72047063
Family Applications (2)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
PCT/US2020/043186 WO2021030023A1 (en) | 2019-08-14 | 2020-07-23 | Accessing a communication channel by multiple user devices at the same time |
PCT/US2020/043187 WO2021030024A1 (en) | 2019-08-14 | 2020-07-23 | Accessing a communication channel by multiple user devices at the same time |
Family Applications After (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
PCT/US2020/043187 WO2021030024A1 (en) | 2019-08-14 | 2020-07-23 | Accessing a communication channel by multiple user devices at the same time |
Country Status (5)
Country | Link |
---|---|
US (1) | US20220174748A1 (en) |
EP (1) | EP3858081A1 (en) |
CN (1) | CN113261374B (en) |
AU (1) | AU2020329732A1 (en) |
WO (2) | WO2021030023A1 (en) |
Families Citing this family (1)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US11778655B2 (en) * | 2020-11-16 | 2023-10-03 | Qualcomm Incorporated | Techniques for configuring multiple frequency domain opportunities for sidelink feedback |
Citations (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20100272066A1 (en) * | 2009-04-23 | 2010-10-28 | Interdigital Patent Holdings, Inc. | Base station assistance for random access performance improvement |
WO2018174656A1 (en) * | 2017-03-24 | 2018-09-27 | Samsung Electronics Co., Ltd. | Method and apparatus for transmitting and receiving uplink data |
Family Cites Families (9)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
KR100457185B1 (en) * | 2000-12-23 | 2004-11-16 | 엘지전자 주식회사 | Tone Providing Method in Next Generation Network |
US9301318B2 (en) * | 2006-01-20 | 2016-03-29 | Nokia Technologies Oy | Random access procedure with enhanced coverage |
US8295243B2 (en) * | 2006-08-21 | 2012-10-23 | Qualcomm Incorporated | Method and apparatus for random access in an orthogonal multiple-access communication system |
US20110194511A1 (en) * | 2010-02-10 | 2011-08-11 | Qualcomm Incorporated | Multi-user control channel assignment |
US9258820B2 (en) * | 2011-11-14 | 2016-02-09 | Blackberry Limited | Method and system for requesting a service utilizing a sequence of codes |
US10973055B2 (en) * | 2016-10-20 | 2021-04-06 | Alcatel Lucent | System and method for preamble sequence transmission and reception to control network traffic |
US11140715B2 (en) * | 2016-10-26 | 2021-10-05 | Qualcomm Incorporated | Waveform-dependent random access channel procedure |
CN109392017B (en) * | 2017-08-11 | 2021-07-09 | 大唐移动通信设备有限公司 | Random access response method, device, base station and terminal |
US10568147B2 (en) * | 2017-11-16 | 2020-02-18 | Qualcomm Incorporated | Uplink specific backoff indicator |
-
2020
- 2020-07-23 WO PCT/US2020/043186 patent/WO2021030023A1/en active Application Filing
- 2020-07-23 AU AU2020329732A patent/AU2020329732A1/en active Pending
- 2020-07-23 WO PCT/US2020/043187 patent/WO2021030024A1/en unknown
- 2020-07-23 CN CN202080007578.3A patent/CN113261374B/en active Active
- 2020-07-23 EP EP20754487.5A patent/EP3858081A1/en active Pending
- 2020-07-23 US US17/286,746 patent/US20220174748A1/en active Pending
Patent Citations (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20100272066A1 (en) * | 2009-04-23 | 2010-10-28 | Interdigital Patent Holdings, Inc. | Base station assistance for random access performance improvement |
WO2018174656A1 (en) * | 2017-03-24 | 2018-09-27 | Samsung Electronics Co., Ltd. | Method and apparatus for transmitting and receiving uplink data |
Non-Patent Citations (2)
Title |
---|
MEDIATEK INC: "2-step RACH msgB addressing and HARQ", vol. RAN WG2, no. Spokane, US; 20181112 - 20181116, 12 November 2018 (2018-11-12), XP051556256, Retrieved from the Internet <URL:http://www.3gpp.org/ftp/Meetings%5F3GPP%5FSYNC/RAN2/Docs/R2%2D1816687%2Ezip> [retrieved on 20181112] * |
NOKIA ET AL: "Random access principles for new radio", vol. RAN WG1, no. Reno, USA; 20161114 - 20161118, 4 November 2016 (2016-11-04), XP051189268, Retrieved from the Internet <URL:http://www.3gpp.org/ftp/tsg_ran/WG1_RL1/TSGR1_87/Docs/> [retrieved on 20161104] * |
Also Published As
Publication number | Publication date |
---|---|
CN113261374A (en) | 2021-08-13 |
WO2021030024A1 (en) | 2021-02-18 |
AU2020329732A1 (en) | 2021-05-20 |
EP3858081A1 (en) | 2021-08-04 |
US20220174748A1 (en) | 2022-06-02 |
CN113261374B (en) | 2024-03-15 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US9370024B2 (en) | Method and apparatus for random access in wireless communication system | |
KR20200036797A (en) | Random access method and apparatus in wireless communication system | |
CN108464051B (en) | Two-step signaling of uplink scheduling assignments | |
US9369980B2 (en) | Method of handling random access response | |
CN110999489B (en) | Communication system | |
US11178645B2 (en) | Terminal device, base station device, integrated circuit, and communication method | |
EP3639590B1 (en) | Base station, user equipment and corresponding methods for uplink transmission without grant | |
US10541791B2 (en) | Techniques for reducing latency in a wireless communication system | |
EP3661257A1 (en) | Terminal device, base station device, and communication method | |
WO2013107036A1 (en) | Handling random access failure | |
US20210410191A1 (en) | Efficient messaging in a procedure for accessing a communication channel | |
US11177927B2 (en) | Terminal apparatus, base station apparatus, communication method, and integrated circuit | |
US20220191938A1 (en) | Method performed by user equipment, and user equipment | |
EP3791505A1 (en) | Arq/harq-related procedure for grant-free random access | |
US20220132476A1 (en) | Terminal and transmission method | |
CN109804698B (en) | Data transmission method, medium and device for contention channel | |
WO2021030023A1 (en) | Accessing a communication channel by multiple user devices at the same time | |
WO2019021929A1 (en) | Terminal device, base station device, and communication method | |
US20180132218A1 (en) | Terminal device, base station device, integrated circuit, and communication method | |
US11051205B2 (en) | Terminal apparatus, base station apparatus, and communication method | |
CN113508540B (en) | Method for MSG-B in two-step RACH | |
CN113508540A (en) | Method for MSG-B in two-step RACH |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
121 | Ep: the epo has been informed by wipo that ep was designated in this application |
Ref document number: 20754486Country of ref document: EPKind code of ref document: A1 |
|
NENP | Non-entry into the national phase |
Ref country code: DE |
|
122 | Ep: pct application non-entry in european phase |
Ref document number: 20754486Country of ref document: EPKind code of ref document: A1 |