US8819004B1 - Ranking image search results using hover data - Google Patents
Ranking image search results using hover data Download PDFInfo
- Publication number
- US8819004B1 US8819004B1 US13/585,894 US201213585894A US8819004B1 US 8819004 B1 US8819004 B1 US 8819004B1 US 201213585894 A US201213585894 A US 201213585894A US 8819004 B1 US8819004 B1 US 8819004B1
- Authority
- US
- United States
- Prior art keywords
- count
- image
- hover
- search query
- click
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Expired - Fee Related
Links
Images
Classifications
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/50—Information retrieval; Database structures therefor; File system structures therefor of still image data
- G06F16/58—Retrieval characterised by using metadata, e.g. metadata not derived from the content or metadata generated manually
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/90—Details of database functions independent of the retrieved data types
- G06F16/95—Retrieval from the web
- G06F16/951—Indexing; Web crawling techniques
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/90—Details of database functions independent of the retrieved data types
- G06F16/95—Retrieval from the web
- G06F16/953—Querying, e.g. by the use of web search engines
- G06F16/9538—Presentation of query results
Definitions
- This specification relates to information retrieval.
- the Internet provides access to a wide variety of resources, such as image files, audio files, video files, and web pages.
- a search system can identify resources in response to queries.
- the queries can be text queries that include one or more search terms or phrases, image queries that include images, or a combination of text and image queries.
- the search system ranks the resources and provides search results that link to the identified resources. The search results are typically ordered for viewing according to the rank.
- the search system may also rank resources based on the performance of the resource with respect to the particular query. For example, some conventional search systems rank resources having a high click-through rate for the particular query higher than resources having a lower click-through rate for the particular query.
- Some conventional search systems rank resources having a high click-through rate for the particular query higher than resources having a lower click-through rate for the particular query.
- the general assumption under such an approach is that queries are often an incomplete expression of the information needed, and the user's action of clicking on a particular resource is a signal that the resource is at least as responsive to, or more responsive to, the user's informational need that the other identified resources.
- some innovative aspects of the subject matter described in this specification can be embodied in methods that include the actions of determining a click count for an image and a search query pair, the click count specifying a number of times that an image search result that includes a representation of the image has been selected when provided in response to the search query; determining a hover count for the image and the search query pair, the hover count specifying a number of times that the representation of the image has been hovered over by a cursor when the image search result has been provided in response to the search query; determining a quality measure for the image with respect to the search query, the quality measure being based at least on the click count and the hover count; and adjusting a ranking of the image relative to other images for the search query, the ranking being based on the quality measure for the image.
- Other embodiments of this aspect include corresponding systems, apparatus, and computer programs, configured to perform the actions of the methods, encoded on computer storage devices.
- the hover count can specify the number of times that the representation of the image has been hovered over by a cursor without being selected.
- the ranking can be further based on corresponding quality measures for each of the other images.
- Determining the quality measure for the image with respect to the search query can include: determining a hover weighting for the search query based on a total click count for the search query, the total click count being a total click count for all image and search query pairs that the search query is a member, the hover weighting specifying an amount to adjust the hover count relative to the click count; adjusting the hover count using the hover weighting to generate an adjusted hover count; summing the click count and the adjusted hover count together to generate a total image selection count; and providing the total image selection count as an input to an image ranking process that determines the quality measure using at least the total image selection count.
- the hover weighting can be inversely proportional to the total click count for the search query. Determining the hover weighting can include applying a sigmoid function to the total click count for the search query.
- the sigmoid function can define a range of total click counts for which the hover weighting varies based on the total click count for the search query, the range of total click counts being defined by an upper total click value and a lower total click value.
- the hover weighting can increase as the total click count for the search query approaches the lower click value.
- the hover weighting can decrease as the total click count for the search query approaches the upper click value.
- aspects can further include identifying a query hover count for the search query, the query hover count for the search query specifying a total number of hovers for all image and search query pairs that the search query is a member; adjusting the query hover count using the hover weighting to generate an adjusted query hover count; and summing the adjusted query hover count and the total click count for the search query to generate a total query selection count.
- the total query selection count can be provided as an input to the image ranking process.
- the image ranking process can determine the quality measure using at least the total image selection count and the total query selection count.
- aspects can further include determining a click to hover ratio for the image and search query pair.
- the click to hover ratio can be a ratio of the click count to the hover count for the image and search query pair.
- the quality measure can be based on the click to hover ratio.
- Determining the quality measure for the image with respect to the search query can include: providing the click count as an input to an image ranking process that generates an initial quality score for the image and the search query pair based at least on the click count; and adjusting the quality score using the click to hover ratio to determine the quality measure.
- Determining the quality measure for the image with respect to the search query can include: determining a demoting factor by applying a sigmoid function to the click to hover ratio; and adjusting the initial quality score using the demoting factor to determine the quality measure. Adjusting the initial quality score using the demoting factor to determine the quality measure can include multiplying the initial quality score by the demoting factor.
- Determining the quality measure for the image with respect to the search query can include: obtaining an initial quality score for the image with respect to the search query; determining an impression count for the image and the search query pair, the impression count being a number of times the image search result was provided in response to the search query; determining whether the impression count satisfies a first threshold; and in response to determining that the impression count satisfies the first threshold: determining a total selection count for the image and the search query pair, the total selection count being the sum of the click count and the hover count; determining a click through rate for the image and the search query pair, the click through rate being a ratio of the total selection count to the impression count; determining a click to hover ratio for the image and the search query pair, the click to hover ratio being a ratio of the of the click count to the hover count; and determining the quality measure for the image and the search query pair using the initial quality score, the click through rate, and the click to hover ratio.
- a quality measure can be determined by multiplying the initial quality measure by a default value in response to the impression count not satisfying the first threshold.
- the first threshold can be zero.
- Determining the quality measure for the image and the search query pair using the initial quality score, the click through rate, and the click to hover ratio can include: adjusting the click through rate by a first parameter to generate an adjusted click through rate; adjusting the click to hover ratio by a second parameter to generate an adjusted click to hover ratio; multiplying the adjusted click through rate by the adjusted click to hover ratio to generate an intermediate value; adjusting the intermediate value by a third parameter to generate an adjusted intermediate value; and determining the quality measure by determining the product of the adjusted intermediate value and the initial quality score.
- the first parameter, the second parameter, and the third parameter can each include a predefined value for adjusting the quality measure to meet an image ranking metric.
- Search results can be more accurately ordered by using data regarding hovers over search results.
- Search results that receive a large number of hovers relative to clicks such as search results that reference click magnet images, can be demoted in search result rankings.
- Hover data can be used to more accurately rank search results for uncommon or unpopular search queries that have little associated selection data.
- the weighting of hover data for search result rankings can be adjusted based on query popularity such that hovers are weighted less for popular queries than unpopular queries.
- FIG. 1 is a block diagram of an example environment in which a search system provides search services.
- FIG. 2 is a block diagram of example components of a search system.
- FIG. 3 is a flow chart of an example process for providing image search results in response to a search query.
- FIG. 4 is a flow chart of an example process for determining quality measures for images with respect to a search query.
- FIG. 5 is a flow chart of an example process for determining a quality measure for an image with respect to a search query.
- FIG. 6 is a flow chart of another example process for determining a quality measure for an image with respect to a search query.
- FIG. 7 is a flow chart of another example process for determining a quality measure for an image with respect to a search query.
- Data regarding hovers can be used to rank or adjust the ranking of search results, such as image search results.
- Image search results are often presented as reduced-sized representations of the original images that they reference.
- a pointer such as a mouse cursor
- This hover activity can be seen as a sign of interest in the image and can be used to better rank images.
- a system ranks images for a particular query based, at least in part, on a quality measure for each image with respect to the particular query. For example, the images may be ranked based on a measure of relevance of the image for the particular query. This ranking may then be adjusted based on the quality measures for the images with respect to the particular query.
- the quality measure for an image with respect to a search query indicates the performance of the image as a search result for the search query.
- the quality measure for an image with respect to a particular query is based on a total selection count for the image with respect to the search query.
- the total selection count for an image and search query pair may be based on a click count for the image and search query pair and a hover count for the image and search query pair.
- the click count specifies the number of times that search results referencing the image have been explicitly selected, e.g., clicked on, when provided in response to the search query.
- the hover count specifies the number of times that search results referencing the image have been hovered over when provided as a search result in response to the search query.
- the hover count is weighted relative to the click count in the total selection count computation.
- the hover count may be weighted based on the popularity of the search query.
- the popularity of the search query may be based on a total click count for the search query across all image and search query pairs for which the search query is a member. That is, the popularity of the search query may be based on the total number of clicks that image search results have received when provided in response to the search query. Other measures of query popularity may also be used, such as the total number of times the search query has been received.
- the quality measure for an image with respect to a search query is determined or adjusted based on a click to hover ratio for the image and search query pair. For example, images that receive a small number of clicks relative to the number of hovers may be demoted as these images may be considered low performing or click magnets that draw a user's attention but does not receive a proportional amount of clicks.
- an initial quality score for the image is adjusted by a demoting factor, which is based on the click to hover ratio. For example, a sigmoid function may be applied to the click to hover ratio to determine the demoting factor. In turn, the demoting factor can by multiplied by the initial quality score to determine the quality measure for the image.
- a click through rate that combines clicks with hovers is used along with the click to hover ratio to adjust the ranking of an image for a particular query. For example, an initial quality score may be multiplied by a factor that is proportional to the product of the click through rate and the click to hover ratio to determine the quality measure. For images that have not been provided responsive to a search query, the quality measure is based on the initial quality score and a default factor, as date for determining a click through rate and click to hover ratio may not be available for the images.
- FIG. 1 is a block diagram of an example environment 100 in which a search system 110 provides search services.
- a computer network 102 such as a local area network (LAN), wide area network (WAN), the Internet, a mobile phone network, or a combination thereof, connects web sites 104 , user devices 106 , and the search system 110 .
- the environment 100 may include many thousands of web sites 104 and user devices 106 .
- a web site 104 is one or more resources 105 associated with a domain name and hosted by one or more servers.
- An example web site 104 is a collection of web pages formatted in hypertext markup language (HTML) that can contain text, images, multimedia content, and programming elements, such as scripts.
- HTML hypertext markup language
- Each web site 104 is maintained by a publisher, e.g., an entity that manages and/or owns the web site.
- a resource 105 is any data that can be provided by a web site 104 over the network 102 and that is associated with a resource address.
- Resources 105 include HTML pages, word processing documents, portable format (PDF) documents, images, video, and feed sources, to name just a few.
- the resources 105 can include content, such as words, phrases, images, and sound, and may include embedded information, e.g., meta information and hyperlinks, and/or embedded instructions, e.g., scripts.
- a user device 106 is an electronic device that is under control of a user and is capable of requesting and receiving resources 105 over the network 102 .
- Example user devices 106 include personal computers, mobile communication devices, and other devices that can send and receive data over the network 102 .
- a user device 106 typically includes a user application, such as a web browser, to facilitate the sending and receiving of data over the network 102 .
- the search system 110 identifies the resources 105 by crawling and indexing the resources 105 provided on web sites 104 .
- Data about the resources 105 can be indexed based on the resource 105 to which the data corresponds.
- the indexed and, optionally, cached copies of the resources 105 are stored in a search index 112 .
- a user device such as user device 106 can submit a search query 109 to the search system 110 .
- the search system 110 performs a search operation that uses the search query 109 as input to identify resources 105 responsive to the search query 109 .
- the search system 110 may access the search index 112 to identify resources 105 that are relevant to the search query 109 .
- the search system 110 identifies the resources 105 , generates search results 111 that identify the resources 105 , and returns the search results 111 to the user devices 106 .
- the search query 109 can include one or more search terms.
- a search term can, for example, include a keyword submitted as part of a search query 109 to the search system 110 that is used to retrieve responsive search results 111 .
- a search result 111 is data generated by the search system 110 that identifies a resource 105 that is responsive to a particular search query 109 , and includes a link to the resource 105 .
- An example search result 111 can include a web page title, a snippet of text or an image or portion thereof extracted from the web page, and a hypertext link, e.g., a uniform resource locator (URL), to the web page.
- An image search result typically includes a representation of the image referenced by the search result, but is often not the referenced image.
- an image search result may include a reduced-sized version of the referenced image, e.g., a thumbnail image, or a cropped version of the referenced image.
- the search terms in the search query 109 can control the search results 111 that are identified by the search system 110 .
- the search system 110 can retrieve and rank search results 111 based on the search terms submitted through a search query 109 .
- the user devices 106 receive the search results pages and render the pages for presentation to the users.
- the user device 106 requests the resource identified by the resource locator included in the search result 111 .
- the web site 104 hosting the resource 105 receives the request for the resource 105 from the user device 106 and provides the resource 105 to the requesting user device 106 .
- Data for the search queries 109 submitted during user sessions are stored in a data store, such as the historical data store 114 .
- a data store such as the historical data store 114 .
- the text of the query is stored in the historical data store 114 .
- an index of the images is stored in the historical data store 114 , or, optionally, the image is stored in the historical data store 114 .
- Selection data specifying actions taken in response to search results 111 provided in response to each search query 109 are also stored in the historical data store 114 . These actions can include whether a search result 111 was selected, and for each selection, for which search query 109 the search result 111 was provided. As used herein, an image that is referenced in a search result 111 is considered to be selected when the search result referencing the image is selected, e.g., clicked on by a user or hovered over by a cursor or other pointer under control of a user.
- the selection data can also specify, for each selection, the type of selection, e.g, click or hover, and for hovers, the amount of time that the cursor hovered over the search result and/or whether the search result was selected after being hovered.
- the data stored in the historical data store 114 can be used to map search queries 109 submitted during search sessions to resources 105 that were identified in search results 111 and the actions taken by the users.
- the data stored in the historical data store 114 can also be used to derive click counts and hover counts for image and search query pairs.
- the click count for an image and search query pair specifies the number of times that an image search result that include a representation of the image of the image has been clicked on or selected when provided in response to the search query.
- the hover count for an image and search query pair specifies the number of the times that the representation of the image has been hovered over by a cursor or other pointer when the image search result has been provided in response to the search query.
- a total selection count for an image and search query pair can be derived by summing the click count and the hover count, or a weighted version of the hover count, for the image and search query pair.
- short hovers e.g., hovers lasting for less than 0.5 seconds
- a short hover may result from a user moving a mouse cursor over several images with the intention of selecting a particular image. These short hovers may not be indicative of the user's interest in the image and thus, may be excluded from the hover count.
- FIG. 2 is a block diagram of example components of a search system, such as the search system 110 .
- the components include an indexing engine 210 , a ranking engine 220 , and a rank modifier engine 230 .
- the indexing engine 210 can actively search a corpus, e.g., web pages on the Internet, to index the resources 105 found in the corpus, and the index information for the resources 105 can be stored in the search index 112 .
- the search index 112 can be accessed to identify resources 105 related to search queries 109 .
- the ranking engine 220 ranks the resources 105 related to a search query 109 .
- the search results 111 are typically ranked based on relevance scores related to resources 105 identified by the search results 111 , such as information retrieval (“IR”) scores, and optionally a score of each resource relative to other resources.
- IR information retrieval
- the relevance scores are a measure of the relevance of the images to the search query 109 .
- the search results 111 are ordered according to the relevance scores and are provided to the user device 106 according to the order.
- the relevance scores for an image can be based on labels that are associated with the image.
- Labels are text or data flags that indicate a topic to which the image belongs.
- Labels can be explicitly associated with an image, for example, by the publisher that is providing the image. For example, a publisher can associate the text “basketball” with an image that includes content that is directed to football, e.g., an image of a basketball or a basketball player. Labels can also be explicitly associated with an image by users to whom the image is presented.
- the labels may be stored in the search index 112 with reference to the corresponding image.
- Labels can also be associated with an image based on a relevance feedback score for the image.
- a label matching a search query 109 can be associated with an image when the image is selected for presentation by the users at a rate that satisfies a threshold selection rate.
- the rate of selection by the users may satisfy the threshold selection rate by exceeding the threshold selection rate.
- the threshold selection rate can be specified as a portion of the total search results 111 for the search query 109 in which the image is referenced.
- the label can then be used to select the image for reference in search results 111 responsive to future instances of the search query 109 .
- the relevance score for an image can be based on how well an image label matches the search query 109 .
- an image having a label that is the same as the search query 109 can have a higher relevance score to the search query 109 than an image having a label that is a root of the search query 109 or otherwise matches the search query 109 based on query expansion techniques, e.g., synonym identification or clustering techniques.
- images having labels that match the search query 109 are identified as more relevant to the search query 109 than images that do not have labels matching the search query 109 .
- images having labels that match the search query 109 may be selected for reference at higher search positions than images that do not have labels that match the search query 109 .
- the ranking engine 220 can provide information about the ranked images to the rank modifier engine 230 .
- the rank modifier engine 230 can determine, for each image, a quality measure for the image and adjust the ranking of the images based on the quality measures to produce an adjusted ranking 240 .
- the quality measure for an image may be based on the click count, hover count, and/or total selection count for the image with respect to search query 109 for which the images are ranked.
- a data logging component 250 can be used to record data for search queries and search results provided responsive to the search queries.
- the data logging component 250 can receive and store selection data for received queries in a result selection log 260 , such as the historical data store 114 of FIG. 1 .
- this selection data can specify actions taken in response to search results provided in response to search queries, such as whether a search result was selected, the type of selection, and an amount of time associated with the selection, e.g., an amount of time that a search result was hovered.
- FIG. 3 is a flow chart of an example process 300 for providing image search results in response to a search query.
- the process 300 can, for example, be implemented by the search system 110 .
- Query data defining a search query is received ( 302 ).
- the search query can be, for example, a search query directed to images submitted by a user through a user device 106 .
- the query data can be received, for example, by the search system 110 .
- Images are ranked based, at least in part, on a quality measure for each image with respect to the received search query.
- a ranking engine 220 of the search system 110 accesses the search index 112 to identify images that are relevant to the received search query and ranks the images based on a relevance score for each image with respect to the received search query.
- the ranking engine 220 can provide data regarding the ranked images to a rank modifier engine 230 .
- the provided data may include data identifying the relevant images, data specifying the ranking, and/or data specifying the relevance score for each relevant image.
- the rank modifier engine 230 accesses the historical data 114 to identify image and search query pairs for which the search query is a member, and to identify a click count and/or hover count for each identified image and search query pair.
- Each identified image and search query pair includes as members, the received search query and an image that has been clicked on or hovered over when presented in the form of a search result for the search query.
- the rank modifier engine 230 may determine a quality measure for each image included in an identified image and search query pair based on the respective click count and/or the hover count for the image and search query pair.
- the rank modifier engine 230 can re-rank the images based, at least in part, on the quality measures.
- the rank modifier engine determines a rank score for each image based on the relevance score for the image with respect to the search query and the quality measure for the image with respect to the search query. For example, the rank modifier engine 230 may determine the rank score for an image by multiplying the relevance score for the image by the quality measure.
- the rank modifier engine 230 may re-rank the images based on the rank scores to produce an adjusted ranking.
- Images are provided according to the adjusted ranking ( 306 ).
- the search system 110 may select a number of the higher ranked images, generate search results that reference the selected images, and provide the search results to the user device 106 that submitted the search query.
- the user device 106 can present the search results to the user, for example on a search results page.
- FIG. 4 is a flow chart of an example process 400 for determining quality measures for images with respect to a search query.
- the process can, for example, be implemented by the search system 110 .
- Image and search query pairs that include a particular search query are identified ( 402 ).
- the search system 110 can access the historical data 114 to identify each image that has received a click and/or a hover when presented in the form of a search result in response to the particular search query.
- Each identified image is included in an image and search query pair with the particular search query.
- a click count is determined for each image and search query pair ( 404 ).
- a click count for an image and search query pair specifies the number of times that image search results that include a representation of the image have been clicked on or selected when provided in response to the search query.
- the search system 110 can determine the click count for an image and search query pair using click data stored in the historical data 114 .
- a hover count is determined for each identified image and search query pair ( 406 ).
- a hover count for an image and search query pair specifies the number of times that the representation of the image—or the search result—has been hovered over by a cursor when the image search result having the representation of the image has been provided in response to the search query.
- the search system 110 can determine the hover count for an image and search query pair using hover data stored in the historical data 114 .
- a quality measure is determined for each identified image that is included in one of the identified image and search query pairs ( 408 ).
- the search system 110 can determine the quality measure for each image using the click count and/or the hover count for the image and search query pair that the image is a member. That is, the quality measure for an image with respect to the particular search query can be determined based on the number of clicks and the number of hovers the image received when presented in the form of a search result for the particular search query.
- FIG. 5 is a flow chart of an example process 500 for determining a quality measure for an image with respect to a search query.
- the process 500 can, for example, be implemented by the search system 110 .
- the quality measure is determined based upon a total selection count for the image when the image is presented in the form of a search result for the search query.
- the total selection count can be based on a sum of the click count for the image and search query pair and a weighted hover count for the image and search query pair.
- Treating hover counts as click counts, with some weighting can improve the ranking of images, especially for search queries for which image search results have not received many selections. For example, there may be little click data available for uncommon queries.
- the search system 110 can more accurately rank images for the uncommon search queries, as the hover data can indicate images that were of interest to users.
- a weighted denominator is determined for the search query ( 502 ).
- the weighted denominator is based on the popularity of the search query.
- the weighed denominator may be the total number of clicks for the search query across all search results—or all image search results—that have been clicked on when provided for the search query.
- the search system 110 can determine the number of times each image search result was clicked when provided for the search query and sum these numbers to determine the total number of clicks for the search query.
- the weighted denominator can be based on other measures of query popularity.
- the weighted denominator may be based on, or equal to, the number of times the search query was received by the search system 110 or the frequency of occurrence of the search query.
- a hover weighting is determined using the weighted denominator ( 504 ).
- the hover weighting is a factor by which the hover count is adjusted relative to the click count.
- the search system 110 determines the hover weighting by applying a sigmoid function to the weighted denominator, e.g.,
- Equation 2 shown below, is an example equation for determining the hover weighting using a sigmoid function.
- Equation 2 “wd” is the weighted denominator for the search query and the parameters “a” and “b” are smoothing coefficients.
- the values of the smoothing coefficients can be selected to adjust the hover weighting based on the value of the weighted denominator. That is, the values of the smoothing coefficients can be selected to result in target hover weightings for particular click counts. For example, the values of the smoothing coefficients may be selected to achieve a hover weighting of about one for a first click count and a hover weighting of about zero for a second click count. Other values can also be used.
- the hover count for the image and search query pair is adjusted based on the hover weighting to produce an adjusted hover count ( 506 ).
- the search system 110 determines the adjusted hover count by multiplying the hover weighting by the hover count for the image and search query pair. For example, if the hover weighting is 0.5 and the hover count is 200, the adjusted hover count would be 100 (0.5*200).
- a total selection count for the image and search query pair is determined using the click count and the adjusted hover count for the image and search query pair ( 508 ).
- the total selection count represents a total number of times the image has been selected when provided for the search query, with the hover count being weighted as described above.
- the search system 110 determines the total selection count by summing the click count and the adjusted hover count.
- the popularity of the search query can affect the total selection count. For example, if the search query is popular, for example based on the click count for the search query, then the hover weighting may be low, causing the adjusted hover count to also be low. If the search query is not popular, for example based on a small number of clicks for the search query, then the hover weighting may be one or approximately one, causing the adjusted hover count to be approximately equal to the actual hover count.
- a total hover count for the search query is determined ( 510 ). This hover count can be based on the hover count for each image search result that was hovered over when provided for the search query. To illustrate, consider a search query for which twenty images were hovered at least once when provided in response to the search query. The search system 110 can determine the number of times that each of the twenty images was hovered when provided for the search query and sum these numbers to determine the total hover count.
- the total hover count for the search query is adjusted to produce an adjusted total hover count ( 512 ).
- the total hover count is adjusted using the hover weighting determined above for the image and search query pair.
- the search system 110 may multiply the total hover count for the search query by the hover weighting to determine the adjusted total hover count.
- a total selection count for the search query is determined using the total click count for the search query and the adjusted total hover count for the search query.
- the search system 110 may determine the total selection count for the search query by summing the total click count for the search query and the adjusted hover count for the search query.
- a quality measure is determined for the image with respect to the search query ( 516 ).
- the search system 110 determines the quality measure using the total selection count for the image and search query pair and the total selection count for the search query. For example, the search system 110 may determine the quality measure for the image based on a ratio of the total selection count for the image and search query pair to the total selection count for the search query.
- the search system 110 provides the total selection count for the image and search query pair and the total selection count for the search query to an image ranking or re-ranking process that determines the quality measure for the image and other images, and ranks the images, at least in part on the quality measures.
- an image ranking process may rank the images based on relevance scores for the images.
- the image ranking process may provide the ranking to an image re-ranking process that determines the quality measures for the images and re-ranks the images based on the original ranking and the quality measures.
- the image re-ranking process may multiply the relevance score for each image by the quality measure for the image to determine a rank score and re-rank the images based on the rank scores.
- FIG. 6 is a flow chart of another example process 600 for determining a quality measure for an image with respect to a search query.
- the process 600 can, for example, be implemented by the search system 110 .
- the example process 600 utilizes a demoting factor to adjust an initial quality score for the image.
- the initial quality score may be based on a click count for the image and search query pair and a total click count for the search query, such as a ratio of the two click counts.
- the demoting factor is based on a click to hover ratio for the image and search query pair.
- the click to hover ratio may be determined by dividing the click count for the image and search query pair by the hover count for the image and search query pair.
- the click to hover ratio can be a very useful signal for demoting certain types of images, such as click magnet images that tend to be off-topic but attract users' attention.
- a click magnet image may receive a large number of hovers from users that are drawn to the image. However, as the image may not be what the user was searching for, the image may not receive a large number of clicks, resulting in a small click to hover ratio.
- An initial quality score is determined for the image with respect to the search query ( 602 ).
- the search system 110 determines the initial quality score based, in part, on a ratio of the click count for the image and search query pair and the total click count for the search query across all images that have been clicked for the search query.
- the initial quality measure may be proportional to the product of this ratio and a relevance score for the image with respect to the search query.
- a click to hover ratio is determined for the image and search query pair ( 604 ).
- the search system 110 may determine the click to hover ratio by dividing the click count for the image and search query pair by the hover count for the image and search query pair.
- a demoting factor is determined for the image and search query pair using the click to hover ratio ( 606 ).
- the search system 110 applies a sigmoid function to the click to hover ratio to determine the demoting factor. For example, Equation 3, shown below, may be used to determine the demoting factor.
- Equation 3 “x” is the click to hover ratio for the image and search query pair, and the parameters “a” and “b” smoothing coefficients.
- the smoothing coefficients can be adjusted, for example to adjust the sigmoid function to generate a desirable demoting factor for particular click to hover ratios.
- a quality measure is determined for the image with respect to the search query ( 608 ).
- the search system 110 determines the quality measure using the initial quality score and the demoting factor.
- the quality measure may be proportional to the product of the initial quality score and the demoting factor.
- the minimum quality measure for the image is one.
- Equation 4 “iqs” is the initial quality score for the image with respect to the search query and “df” is the demoting factor for the image and search query pair.
- the rank score for the image won't be reduced to a value less than the image's relevance score as a result of multiplying the relevance score by the quality measure.
- relevant images may not be unfairly penalized for having a low click to hover ratio.
- FIG. 7 is a flow chart of another example process 700 for determining a quality measure for an image with respect to a search query.
- the process 700 can, for example, be implemented by the search system 110 .
- An initial quality score is determined for the image with respect to the search query ( 702 ).
- the search system 110 determines the initial quality score based, in part, on a ratio of the click count for the image and search query pair and the total click count for the search query across all images that have been clicked for the search query.
- impression count is determined for the image and search query pair ( 704 ).
- the impression count is the number of times that the image has been presented in the form of a search result to users in response to the search query.
- the search system 110 may compare the impression count to a threshold, such as zero or another number.
- the impression count satisfies the threshold when the impression count exceeds the threshold. If it is determined that the impression count satisfies the threshold, the quality measure is determined based on the initial quality score, a click through rate for the image and search query pair, and a click to hover ratio for the image and search query pair ( 708 - 712 ), as described below.
- the quality measure is determined based on an initial quality score and a default factor ( 714 ).
- the impression count may not satisfy the threshold when the impression count does not exceed the threshold.
- the default factor can be used for images that have not been provided for the search query as there may not be data to compute a click through rate or click to hover ratio for the image and search query.
- This default factor can be any number and can be set, for example, by a system designer or system administrator.
- the default factor can be set based on a desired rank for images that have not been previously provided for the search query. For example, a higher default factor can be used to promote new images or other images that have not yet been provided for the search query.
- a modified click through rate is determined for the image and search query pair using the click count for the image and search query pair and the hover count for the image and search query pair ( 708 ).
- the search system 110 may determine the click count and hover count using the historical data 114 and, in turn, determine the modified click through rate.
- the modified click though rate is determined using Equation 5 below.
- CTR is the modified click through rate
- C is the click count
- H is the hover count
- I is the impression count for the image and search query pair.
- a click to hover ratio is determined for the image and search query pair ( 710 ).
- the search system 110 may determine the click to hover ratio using the click count and hover count for the image and search query pair.
- the click to hover ratio is determined using Equation 6 below.
- Equation 6 “CHR” is the click to hover ratio, “C” is the click count and “H” is the hover count for the image and search query pair.
- the quality measure is determined for the image with respect to the search query using the modified click through rate and the click to hover ratio ( 712 ).
- the quality measure is based on the modified click through rate, the click to hover ratio, and the initial quality score.
- the quality measure may be proportional to a product of the modified click through rate, the click to hover ratio, and the initial quality score. Smoothing coefficients and/or other parameters also may be used to determine the quality measure.
- Equation 7 “iqs” is the initial quality score, “A” is an adjustable parameter, “CTR” is the modified click through rate, “CHR” is the click to hover ratio, and the parameters “m,” “n,” and “k” are smoothing coefficients.
- the parameter “A” can be used to scale the quality measure to a value closer to one, or closer to another value.
- the parameters “m,” “n,” and “k” have a predefined or adjustable value for adjusting the quality measure to meet an image ranking metric.
- the parameter “m” can be used to weight the modified click through rate. For example, a higher “m” can be used to more heavily penalize images having a low click through rate.
- the parameter “n” can be used to weight the click to hover ratio. For example, a higher “n” can be used to more heavily penalize images that receive a large number of hovers relative to the number of clicks.
- the parameter “k” can be used to weight the product of the modified click through rate and the click to hover ratio. A higher “k” gives the modified click through rate and the click to hover ratio more influence on the quality measure relative to the initial quality score.
- Implementations of the subject matter and the operations described in this specification can be implemented in digital electronic circuitry, or in computer software, firmware, or hardware, including the structures disclosed in this specification and their structural equivalents, or in combinations of one or more of them.
- Implementations of the subject matter described in this specification can be implemented as one or more computer programs, e.g., one or more modules of computer program instructions, encoded on computer storage medium for execution by, or to control the operation of, data processing apparatus.
- the program instructions can be encoded on an artificially generated propagated signal, e.g., a machine-generated electrical, optical, or electromagnetic signal, that is generated to encode information for transmission to suitable receiver apparatus for execution by a data processing apparatus.
- a computer storage medium can be, or be included in, a computer-readable storage device, a computer-readable storage substrate, a random or serial access memory array or device, or a combination of one or more of them.
- a computer storage medium is not a propagated signal, a computer storage medium can be a source or destination of computer program instructions encoded in an artificially generated propagated signal.
- the computer storage medium can also be, or be included in, one or more separate physical components or media, e.g., multiple CDs, disks, or other storage devices.
- the operations described in this specification can be implemented as operations performed by a data processing apparatus on data stored on one or more computer-readable storage devices or received from other sources.
- the term “data processing apparatus” encompasses all kinds of apparatus, devices, and machines for processing data, including by way of example a programmable processor, a computer, a system on a chip, or multiple ones, or combinations, of the foregoing
- the apparatus can include special purpose logic circuitry, e.g., an FPGA (field programmable gate array) or an ASIC (application specific integrated circuit).
- the apparatus can also include, in addition to hardware, code that creates an execution environment for the computer program in question, e.g., code that constitutes processor firmware, a protocol stack, a database management system, an operating system, a cross-platform runtime environment, a virtual machine, or a combination of one or more of them.
- the apparatus and execution environment can realize various different computing model infrastructures, such as web services, distributed computing and grid computing infrastructures.
- a computer program also known as a program, software, software application, script, or code
- a computer program may, but need not, correspond to a file in a file system.
- a program can be stored in a portion of a file that holds other programs or data, e.g., one or more scripts stored in a markup language document, in a single file dedicated to the program in question, or in multiple coordinated files, e.g., files that store one or more modules, sub programs, or portions of code.
- a computer program can be deployed to be executed on one computer or on multiple computers that are located at one site or distributed across multiple sites and interconnected by a communication network.
- the processes and logic flows described in this specification can be performed by one or more programmable processors executing one or more computer programs to perform actions by operating on input data and generating output.
- the processes and logic flows can also be performed by, and apparatus can also be implemented as, special purpose logic circuitry, e.g., an FPGA (field programmable gate array) or an ASIC (application specific integrated circuit).
- processors suitable for the execution of a computer program include, by way of example, both general and special purpose microprocessors, and any one or more processors of any kind of digital computer.
- a processor will receive instructions and data from a read only memory or a random access memory or both.
- the essential elements of a computer are a processor for performing actions in accordance with instructions and one or more memory devices for storing instructions and data.
- a computer will also include, or be operatively coupled to receive data from or transfer data to, or both, one or more mass storage devices for storing data, e.g., magnetic, magneto optical disks, or optical disks.
- mass storage devices for storing data, e.g., magnetic, magneto optical disks, or optical disks.
- a computer need not have such devices.
- a computer can be embedded in another device, e.g., a mobile telephone, a personal digital assistant (PDA), a mobile audio or video player, a game console, a Global Positioning System (GPS) receiver, or a portable storage device, e.g., a universal serial bus (USB) flash drive, to name just a few.
- Devices suitable for storing computer program instructions and data include all forms of non volatile memory, media and memory devices, including by way of example semiconductor memory devices, e.g., EPROM, EEPROM, and flash memory devices; magnetic disks, e.g., internal hard disks or removable disks; magneto optical disks; and CD ROM and DVD-ROM disks.
- the processor and the memory can be supplemented by, or incorporated in, special purpose logic circuitry.
- implementations of the subject matter described in this specification can be implemented on a computer having a display device, e.g., a CRT (cathode ray tube) or LCD (liquid crystal display) monitor, for displaying information to the user and a keyboard and a pointing device, e.g., a mouse or a trackball, by which the user can provide input to the computer.
- a display device e.g., a CRT (cathode ray tube) or LCD (liquid crystal display) monitor
- keyboard and a pointing device e.g., a mouse or a trackball
- Other kinds of devices can be used to provide for interaction with a user as well; for example, feedback provided to the user can be any form of sensory feedback, e.g., visual feedback, auditory feedback, or tactile feedback; and input from the user can be received in any form, including acoustic, speech, or tactile input.
- a computer can interact with a user by sending documents to and receiving documents from a device that is used
- Implementations of the subject matter described in this specification can be implemented in a computing system that includes a back end component, e.g., as a data server, or that includes a middleware component, e.g., an application server, or that includes a front end component, e.g., a client computer having a graphical user interface or a Web browser through which a user can interact with an implementation of the subject matter described in this specification, or any combination of one or more such back end, middleware, or front end components.
- the components of the system can be interconnected by any form or medium of digital data communication, e.g., a communication network.
- Examples of communication networks include a local area network (“LAN”) and a wide area network (“WAN”), an inter-network, e.g., the Internet, and peer-to-peer networks, e.g., ad hoc peer-to-peer networks.
- LAN local area network
- WAN wide area network
- Internet inter-network
- peer-to-peer networks e.g., ad hoc peer-to-peer networks.
- the computing system can include clients and servers.
- a client and server are generally remote from each other and typically interact through a communication network. The relationship of client and server arises by virtue of computer programs running on the respective computers and having a client-server relationship to each other.
- a server transmits data, e.g., an HTML page, to a client device, e.g., for purposes of displaying data to and receiving user input from a user interacting with the client device.
- Data generated at the client device e.g., a result of the user interaction, can be received from the client device at the server.
Abstract
Description
Quality Measure=max(1,iqs*df) Equation 4:
Quality Measure=iqs*A*(CTRm*CHRn)k Equation 7:
Claims (22)
Priority Applications (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US13/585,894 US8819004B1 (en) | 2012-08-15 | 2012-08-15 | Ranking image search results using hover data |
US14/445,446 US9218369B2 (en) | 2012-08-15 | 2014-07-29 | Ranking image search results using hover data |
Applications Claiming Priority (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US13/585,894 US8819004B1 (en) | 2012-08-15 | 2012-08-15 | Ranking image search results using hover data |
Related Child Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US14/445,446 Continuation US9218369B2 (en) | 2012-08-15 | 2014-07-29 | Ranking image search results using hover data |
Publications (1)
Publication Number | Publication Date |
---|---|
US8819004B1 true US8819004B1 (en) | 2014-08-26 |
Family
ID=51358708
Family Applications (2)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US13/585,894 Expired - Fee Related US8819004B1 (en) | 2012-08-15 | 2012-08-15 | Ranking image search results using hover data |
US14/445,446 Active US9218369B2 (en) | 2012-08-15 | 2014-07-29 | Ranking image search results using hover data |
Family Applications After (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US14/445,446 Active US9218369B2 (en) | 2012-08-15 | 2014-07-29 | Ranking image search results using hover data |
Country Status (1)
Country | Link |
---|---|
US (2) | US8819004B1 (en) |
Cited By (7)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20150088665A1 (en) * | 2013-09-26 | 2015-03-26 | Aol Advertising Inc. | Computerized systems and methods related to controlled content optimization |
US20150112978A1 (en) * | 2013-10-18 | 2015-04-23 | Google Inc. | Distance based search ranking demotion |
US20160334963A1 (en) * | 2015-05-12 | 2016-11-17 | Lg Electronics Inc. | Image display device and method for controlling the same |
US10459927B1 (en) | 2014-08-15 | 2019-10-29 | Groupon, Inc. | Enforcing diversity in ranked relevance results returned from a universal relevance service framework |
US10572925B1 (en) | 2014-08-15 | 2020-02-25 | Groupon, Inc. | Universal relevance service framework |
US11216843B1 (en) | 2014-08-15 | 2022-01-04 | Groupon, Inc. | Ranked relevance results using multi-feature scoring returned from a universal relevance service framework |
US11442945B1 (en) | 2015-12-31 | 2022-09-13 | Groupon, Inc. | Dynamic freshness for relevance rankings |
Families Citing this family (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20170011038A1 (en) * | 2015-07-06 | 2017-01-12 | David Revelle | System and method for multiple factor sorting and user interface thereof |
US20170011125A1 (en) * | 2015-07-06 | 2017-01-12 | David Revelle | System and method for multiple term sorting and user interface thereof |
CN105224959B (en) * | 2015-11-02 | 2019-03-26 | 北京奇艺世纪科技有限公司 | The training method and device of order models |
Citations (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20050120311A1 (en) * | 2003-12-01 | 2005-06-02 | Thrall John J. | Click-through re-ranking of images and other data |
US20120203757A1 (en) * | 2011-02-08 | 2012-08-09 | Balaji Ravindran | Methods, apparatus, and articles of manufacture to measure search results |
-
2012
- 2012-08-15 US US13/585,894 patent/US8819004B1/en not_active Expired - Fee Related
-
2014
- 2014-07-29 US US14/445,446 patent/US9218369B2/en active Active
Patent Citations (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20050120311A1 (en) * | 2003-12-01 | 2005-06-02 | Thrall John J. | Click-through re-ranking of images and other data |
US20120203757A1 (en) * | 2011-02-08 | 2012-08-09 | Balaji Ravindran | Methods, apparatus, and articles of manufacture to measure search results |
Cited By (13)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20150088665A1 (en) * | 2013-09-26 | 2015-03-26 | Aol Advertising Inc. | Computerized systems and methods related to controlled content optimization |
US20150112978A1 (en) * | 2013-10-18 | 2015-04-23 | Google Inc. | Distance based search ranking demotion |
US9262541B2 (en) * | 2013-10-18 | 2016-02-16 | Google Inc. | Distance based search ranking demotion |
US11893034B2 (en) | 2013-10-18 | 2024-02-06 | Google Llc | Distance based search ranking demotion |
US10031951B1 (en) | 2013-10-18 | 2018-07-24 | Google Llc | Distance based search ranking demotion |
US11442946B2 (en) | 2013-10-18 | 2022-09-13 | Google Llc | Distance based search ranking demotion |
US11216843B1 (en) | 2014-08-15 | 2022-01-04 | Groupon, Inc. | Ranked relevance results using multi-feature scoring returned from a universal relevance service framework |
US11194821B2 (en) | 2014-08-15 | 2021-12-07 | Groupon, Inc. | Enforcing diversity in ranked relevance results returned from a universal relevance service framework |
US10572925B1 (en) | 2014-08-15 | 2020-02-25 | Groupon, Inc. | Universal relevance service framework |
US10459927B1 (en) | 2014-08-15 | 2019-10-29 | Groupon, Inc. | Enforcing diversity in ranked relevance results returned from a universal relevance service framework |
US10678396B2 (en) * | 2015-05-12 | 2020-06-09 | Lg Electronics Inc. | Image display device and method for controlling the same |
US20160334963A1 (en) * | 2015-05-12 | 2016-11-17 | Lg Electronics Inc. | Image display device and method for controlling the same |
US11442945B1 (en) | 2015-12-31 | 2022-09-13 | Groupon, Inc. | Dynamic freshness for relevance rankings |
Also Published As
Publication number | Publication date |
---|---|
US9218369B2 (en) | 2015-12-22 |
US20150169639A1 (en) | 2015-06-18 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US9218369B2 (en) | Ranking image search results using hover data | |
US10846346B2 (en) | Search suggestion and display environment | |
US8615514B1 (en) | Evaluating website properties by partitioning user feedback | |
US8977612B1 (en) | Generating a related set of documents for an initial set of documents | |
US8359309B1 (en) | Modifying search result ranking based on corpus search statistics | |
US9390143B2 (en) | Recent interest based relevance scoring | |
US8346815B2 (en) | Dynamic image display area and image display within web search results | |
US8856162B2 (en) | Cross language search options | |
US8832096B1 (en) | Query-dependent image similarity | |
US8874555B1 (en) | Modifying scoring data based on historical changes | |
EP3252619A1 (en) | Method and system for dynamically rankings images to be matched with content in response to a search query | |
US9183499B1 (en) | Evaluating quality based on neighbor features | |
US8856125B1 (en) | Non-text content item search | |
US9152652B2 (en) | Sub-query evaluation for image search | |
US9218366B1 (en) | Query image model | |
US8949229B1 (en) | Measuring video content of web domains | |
US9195944B1 (en) | Scoring site quality | |
US8838649B1 (en) | Determining reachability | |
US9558233B1 (en) | Determining a quality measure for a resource | |
US20160070703A1 (en) | Distance based adjustments of search ranking | |
US20150161127A1 (en) | Ranking entity realizations for information retrieval | |
US20150088859A1 (en) | Click magnet images | |
US10025830B1 (en) | Aggregation of disparate entity lists for local entities | |
US10133788B1 (en) | Determining resource quality based on resource competition |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
AS | Assignment |
Owner name: GOOGLE INC., CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:PETCHERSKI, ALEXANDRE;KURAMOCHI, MICHIHIRO;TONG, SIMON;REEL/FRAME:028861/0335Effective date: 20120813 |
|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |
|
AS | Assignment |
Owner name: GOOGLE LLC, CALIFORNIAFree format text: CHANGE OF NAME;ASSIGNOR:GOOGLE INC.;REEL/FRAME:044277/0001Effective date: 20170929 |
|
MAFP | Maintenance fee payment |
Free format text: PAYMENT OF MAINTENANCE FEE, 4TH YEAR, LARGE ENTITY (ORIGINAL EVENT CODE: M1551)Year of fee payment: 4 |
|
FEPP | Fee payment procedure |
Free format text: MAINTENANCE FEE REMINDER MAILED (ORIGINAL EVENT CODE: REM.); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
LAPS | Lapse for failure to pay maintenance fees |
Free format text: PATENT EXPIRED FOR FAILURE TO PAY MAINTENANCE FEES (ORIGINAL EVENT CODE: EXP.); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
STCH | Information on status: patent discontinuation |
Free format text: PATENT EXPIRED DUE TO NONPAYMENT OF MAINTENANCE FEES UNDER 37 CFR 1.362 |
|
FP | Lapsed due to failure to pay maintenance fee |
Effective date: 20220826 |