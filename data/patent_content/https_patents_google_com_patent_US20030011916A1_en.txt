US20030011916A1 - Restoration of hard disk drive readback signal in the presence of thermal modulation - Google Patents
Restoration of hard disk drive readback signal in the presence of thermal modulation Download PDFInfo
- Publication number
- US20030011916A1 US20030011916A1 US09/904,429 US90442901A US2003011916A1 US 20030011916 A1 US20030011916 A1 US 20030011916A1 US 90442901 A US90442901 A US 90442901A US 2003011916 A1 US2003011916 A1 US 2003011916A1
- Authority
- US
- United States
- Prior art keywords
- digital
- readback signal
- signal
- envelope sequence
- digital readback
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Granted
Links
Images
Classifications
-
- G—PHYSICS
- G11—INFORMATION STORAGE
- G11B—INFORMATION STORAGE BASED ON RELATIVE MOVEMENT BETWEEN RECORD CARRIER AND TRANSDUCER
- G11B20/00—Signal processing not specific to the method of recording or reproducing; Circuits therefor
- G11B20/24—Signal processing not specific to the method of recording or reproducing; Circuits therefor for reducing noise
-
- G—PHYSICS
- G11—INFORMATION STORAGE
- G11B—INFORMATION STORAGE BASED ON RELATIVE MOVEMENT BETWEEN RECORD CARRIER AND TRANSDUCER
- G11B20/00—Signal processing not specific to the method of recording or reproducing; Circuits therefor
- G11B20/10—Digital recording or reproducing
-
- G—PHYSICS
- G11—INFORMATION STORAGE
- G11B—INFORMATION STORAGE BASED ON RELATIVE MOVEMENT BETWEEN RECORD CARRIER AND TRANSDUCER
- G11B5/00—Recording by magnetisation or demagnetisation of a record carrier; Reproducing by magnetic means; Record carriers therefor
- G11B5/012—Recording on, or reproducing or erasing from, magnetic disks
-
- G—PHYSICS
- G11—INFORMATION STORAGE
- G11B—INFORMATION STORAGE BASED ON RELATIVE MOVEMENT BETWEEN RECORD CARRIER AND TRANSDUCER
- G11B5/00—Recording by magnetisation or demagnetisation of a record carrier; Reproducing by magnetic means; Record carriers therefor
- G11B5/02—Recording, reproducing, or erasing methods; Read, write or erase circuits therefor
-
- G—PHYSICS
- G11—INFORMATION STORAGE
- G11B—INFORMATION STORAGE BASED ON RELATIVE MOVEMENT BETWEEN RECORD CARRIER AND TRANSDUCER
- G11B5/00—Recording by magnetisation or demagnetisation of a record carrier; Reproducing by magnetic means; Record carriers therefor
- G11B2005/0002—Special dispositions or recording techniques
- G11B2005/0005—Arrangements, methods or circuits
- G11B2005/001—Controlling recording characteristics of record carriers or transducing characteristics of transducers by means not being part of their structure
- G11B2005/0013—Controlling recording characteristics of record carriers or transducing characteristics of transducers by means not being part of their structure of transducers, e.g. linearisation, equalisation
- G11B2005/0016—Controlling recording characteristics of record carriers or transducing characteristics of transducers by means not being part of their structure of transducers, e.g. linearisation, equalisation of magnetoresistive transducers
Definitions
- the present invention is concerned with hard disk drives, and is more particularly concerned with processing a readback signal provided by a hard disk drive.
- Hard disk drives are well known components of computer systems.
- a typical hard disk drive includes one or more data storage disks for storing data in magnetic form and a transducer used to write and read magnetic data respectively to and from the data storage disk.
- the data storage disk is mounted on a hub of a spindle motor which rotates the disk at speeds typically on the order of several thousand revolutions-per-minute.
- Digital frequency modulation information is stored in the form of magnetic transitions on a series of concentric, spaced tracks comprising the surface of the magnetizable rigid data storage disk.
- An actuator assembly adjustably positions the transducer above the data storage disk as the disk rotates. It is known to use an MR (magnetoresistive) element as a read transducer.
- the MR read transducer typically uses a constant bias current passing through the MR element. The magnetic information stored on the disk will modulate the MR resistance and thus changes the readback signal voltage.
- a problem encountered with MR read transducers in hard disk drives is thermal modulation of the readback signal voltage produced by the MR read transducer.
- the thermal modulation of the readback signal voltage may interfere with recovery of data from the readback signal.
- Thermal modulation may come about in a number of ways.
- the MR head of an MR read transducer may come into contact with a burr or protrusion on the data storage disk. Such contact causes rapid frictional heating of the MR head. Because of the positive thermal coefficient of resistance of the MR head, the resistance of the MR head is rapidly increased. With the constant bias current applied to the MR head, the increase in resistance leads to a large positive excursion in the readback signal voltage. An event of this type is referred to as a “thermal asperity”.
- FIG. 1( a ) is a graphical representation of a hard disk drive readback signal modulated at location 10 by a thermal asperity.
- FIG. 1( b ) is a graphical illustration of the thermal component of the readback signal.
- the readback signal from the MR head can also be thermally modulated by non-contact heating or cooling from the data storage disk.
- the thermal modulation is caused by variations in heat transfer from the MR head to the disk. Because of the constant bias current supplied to the MR head, it is heated above ambient temperature and tends to be cooled by the proximity of the data storage disk. When the MR head travels over a pit in the data storage disk, the greater distance separating the MR head from the data storage disk results in a decrease in the cooling effect of the data storage disk upon the MR head, so that the temperature of the MR head increases, leading to increasing thermal modulation of the readback signal produced by the MR head.
- the MR head travels over a bump on the data storage disk (without contact between the MR head and the data storage disk) the closer proximity of the MR head to the surface of the data storage disk at the locus of the bump leads to increased cooling of the MR head by the data storage disk. This lowers the temperature of the MR head, due to greater heat transfer leading to a decreased thermal modulation of the readback signal produced by the MR head. These types of thermal modulation of the readback signal are sometimes referred to as “baseline signal wander”.
- U.S. Pat. No. 5 , 751 , 510 which has the same inventors and the same assignee as the present invention, discloses a circuit that is adapted to remove a thermal modulation component from the readback signal produced by an MR head of a hard disk drive.
- the '510 patent is incorporated herein by reference in its entirety.
- the readback signal from the MR head is sampled and digitized and then a digital filter having a lowpass characteristic extracts the thermal component from the digitized readback signal.
- the thermal component is then subtracted from the readback signal (after the readback signal has been delayed to compensate for the delay in the filter) to produce a restored magnetic readback signal that is substantially free of thermal modulation.
- a method for processing a signal obtained from a storage medium using a magnetoresistive (MR) element includes reading the signal from the storage medium using the MR element and sampling and digitizing the signal to obtain a digital readback signal.
- the method further includes estimating an envelope of the digital readback signal by applying a nonlinear digital process to the digital readback signal to obtain an upper envelope sequence and a lower envelope sequence.
- the method further includes deriving an estimated thermal component of the digital readback signal from the upper envelope sequence and the lower envelope sequence, and subtracting the estimated thermal component from the digital readback signal to generate a restored digital readback signal.
- the estimation of the thermal component of the digital readback signal may include examining the digital readback signal within each of a sequence of timing windows. Further, the method may include, for each of the timing windows, finding a second highest value of the digital readback signal in the respective window to indicate the upper envelope sequence, and finding the second lowest value of the digital readback signal in the respective window to indicate the lower envelope sequence.
- the step of deriving the estimated thermal component of the digital readback signal may include obtaining an arithmetic mean of the upper and lower envelope sequences.
- Computer program products may be provided in accordance with these and other aspects of the invention.
- Each inventive program product may be carried by a medium readable by a computer (e.g., a carrier wave signal, a floppy disk, a hard drive, a random access memory, etc.).
- FIG. 1( a ) is a graphical representation of a readback signal voltage produced by an MR head of a hard disk drive and modulated by a thermal asperity;
- FIG. 1( b ) is a graphical representation of the thermal component of the signal voltage shown in FIG. 1( a );
- FIG. 2 is a schematic block diagram representation of a hard disk drive provided in accordance with the present invention.
- FIG. 3 is a flow chart that illustrates a procedure carried out by the circuitry of FIG. 2 to obtain an upper envelope sequence for a digital readback signal generated in the hard disk drive of FIG. 2;
- FIG. 4 is a flow chart that illustrates a procedure carried out by the circuitry of FIG. 2 to obtain a lower envelope sequence for the digital readback signal generated by the hard disk drive of FIG. 2;
- FIG. 5( a ) is a graphical representation of a readback signal voltage produced by the hard disk drive of FIG. 2 and modulated by a thermal asperity;
- FIG. 5( b ) shows the readback signal voltage of FIG. 5( a ) after thermal modulation has been removed therefrom by the circuitry of FIG. 2;
- FIG. 6( a ) is a graphical representation of a readback signal voltage produced by the hard disk drive of FIG. 2 and modulated by a thermal reaction to a bump on the surface of the data storage disk;
- FIG. 6( b ) is a graphical representation of the thermal voltage component of the signal of FIG. 6( a );
- FIG. 7( a ) is a graphical representation of the signal of FIG. 6( a ) with the thermal voltage component removed therefrom;
- FIG. 7( b ) is a graphical representation of the zeroed-out thermal voltage component of the signal of FIG. 7( a ).
- FIG. 2 is a schematic block diagram representation of a hard disk drive provided in accordance with an embodiment of the present invention.
- reference numeral 100 generally indicates the hard disk drive.
- the hard disk drive 100 includes a data storage disk 110 which is mounted for rotation by a spindle motor which is not shown.
- a transducer including an MR head 112 is adjustably positioned above the rotating data storage disk 110 .
- the MR head 112 produces a readback signal which is high-pass filtered, amplified, sampled and digitized by arm-electronics (AE) and analog-to-digital (A/D) block 114 to obtain a digital readback signal x(n) outputted on line 116 .
- AE arm-electronics
- A/D analog-to-digital
- the digital readback signal x(n) on line 116 is provided in parallel to a delay block 118 and to a block 120 .
- the block 120 employs a dual one-two-algorithm (to be described below) to perform an envelope estimation process on the digital readback signal x(n).
- the block 120 estimates the envelope of the digital readback signal by obtaining an upper envelope sequence and a lower envelope sequence.
- the block 120 further derives an estimated thermal component th(m) of the digital readback signal x(n) from the upper envelope sequence and the lower envelope sequence. Normally, the thermal component th(m) is of much lower frequency than the readback signal x(n).
- An impulse generator 122 generates a unit impulse train q(n) which is synchronized with the digital readback signal x(n) (e.g., a unit impulse train having a frequency that is the same as the rate at which the readback signal is sampled).
- the unit impulse train q(n) generated by the impulse generator 122 is modulated at multiplication block 124 by the thermal component sequence th(m) outputted from block 120 .
- the resulting sequence th(n) has the same higher sampling rate as, and is synchronized with, the digital readback signal x(n).
- the higher sampling rate thermal component sequence th(n) is provided as a subtraction input to a summation block 126 .
- summation block 126 Also provided to the summation block 126 is the digital readback signal, after having been delayed by a number of samples M which corresponds to a timing window length used in block 120 to obtain the estimated thermal component of the digital readback signal (as described below).
- the output of summation block 126 is a sequence y(n) which represents a “restored” readback sequence from which the thermal modulation of the digital readback signal has been removed. It will be seen from FIG. 2 that the resulting restored readback sequence y(n) is given by the following equation:
- the restored digital readback sequence y(n) is then supplied to a recording channel 128 for equalization and decoding.
- the resulting decoded data is outputted on a line 130 and passed on to the host system, which is not shown.
- the processes of blocks 118 , 120 , 122 , 124 and 126 may be performed, in whole or in part, by a digital signal processor or other suitable processing circuitry (not shown).
- a timing window of M samples is set.
- the digital readback sequence x(n) is provided as an input on line 211 .
- the next input sample of x(n) in the window namely x(3) in the first instance, is obtained as an input on line 215 and is compared with the second element of vector r at decision block 218 (e.g., either x(1) or x(2) in this example, depending on whether the vector r was organized in block 214 or block 216 ). If the next input sample of x(n) is found to be greater than the second element r(2) of vector r, then block 222 follows. At block 222 , vector r is reorganized as [r(1), x(n)]. If it is found at block 218 that the input sample x(n) is not greater than r(2) then vector r remains unchanged (block 220 ) as [r(1),r(2)].
- decision block 224 in which it is determined whether the second element r(2) of the vector r is greater than the first element r(1) of the vector r. If so, the order of the two elements is reversed in block 226 . If not, the order of the two elements of the vector r remains unchanged.
- the second element r(2) of the vector r is stored (block 230 ) as an indication of the upper envelope of the digital readback signal x(n). It will be recognized that the algorithm of FIG. 3 has operated so that, after all of the input samples for the window have been considered, the second element r(2) of the vector r is the second largest sample within the window. While the next window of samples is being considered, the stored second largest value from the previous window is outputted as u(m) as an element of an upper envelope sequence.
- the algorithm of FIG. 4 operates in similar fashion to find the second smallest sample in the current window.
- initial conditions including setting of the window length M, are set in block 310 .
- the input sample train x(n) of the digital readback signal is received on line 311 and the first two samples of the window, x(1) and x(2), are extracted on line 313 and compared to each other at decision block 312 . If x(1) is less then x(2), then the vector r is initially established as [x(2),x(1)] (block 316 ). Otherwise, at block 314 , the vector r is established as [x(1),x(2)].
- decision block 318 follows, receiving as an input the next sample of the digital readback signal on line 315 (e.g., x(3)). This next sample is compared with r(1), the first element of the vector r. If the current sample is less than r(1), then the current sample replaces r(1) in vector r (block 322 ). Otherwise vector r remains unchanged (block 320 ). Block 324 then follows block 320 or block 322 as the case may be. At block 324 it is determined whether the second element of the vector r is greater than the first element of the vector r. If so, the positions of the two elements are reversed (block 326 ). Otherwise, the vector r remains unchanged.
- Block 120 (FIG. 2) derives the estimated thermal component sequence th(m) as the arithmetic mean of the sequences u(m) and v(m) as indicated in the following equation:
- the resulting estimated thermal component after being converted to a high-rate sample train th(n) via modulation by the impulse train q(n) generated by the impulse generator 122 , is subtracted from the delayed digital readback signal x(n ⁇ M) to generate a restored digital readback signal y(n).
- FIG. 5( a ) is reminiscent of FIG. 1( a ) and graphically presents the digital readback signal x(n) modulated by a thermal asperity.
- FIG. 5( b ) shows the corresponding restored digital readback signal y(n) produced by the circuit of FIG. 2. It will be observed that the thermal modulation has been removed from the digital readback signal and the baseline has been restored, so that the restored readback sequence y(n) can be processed without soft or hard data errors by the recording channel 128 (FIG. 2).
- FIG. 6( a ) shows the readback signal x(n) disturbed by a bump on the data storage disk 110 , but without contact between the MR head 112 and data storage disk 110 .
- the thermal component of the signal shown in FIG. 6( a ) is graphically illustrated in FIG. 6( b ). It will be noted that the magnitude of the thermal component is only on the order of about 5% of the thermal component of the thermal asperity of FIGS. 5 ( a ) and 1 ( a ).
- FIG. 7( a ) shows the restored readback signal y(n) produced by the circuitry of FIG. 2, and FIG. 7( b ) indicates the zeroed-out thermal component of the restored readback signal.
- the present invention operates effectively to remove thermal modulation from a readback signal provided by an MR head of a hard disk drive. Even in the presence of variable frequencies which are characteristic of user-recorded data on a hard disk drive, the technique of the present invention is robust because it is non-linear. It will be appreciated that the present invention can be implemented in software (microcode) and therefore can be easily incorporated in, or provided as a retrofit for, hard disk drives.
- the effective readback signal restoration provided by the present invention is likely to be of particular importance as hard disk drive recording density continues to increase, with corresponding reductions in transducer fly height and greater susceptibility to thermal modulation.
- the present invention uses the second largest and second smallest samples in each window as indicators, respectively, of upper and lower envelopes of the readback signal to reduce the possibility that outliers due to noise may distort the estimated thermal component of the readback signal.
- the third highest and lowest, or fourth highest and lowest, etc. samples in each window may be used as indicators of the upper and lower envelopes of the readback signal.
Abstract
Description
- The present invention is concerned with hard disk drives, and is more particularly concerned with processing a readback signal provided by a hard disk drive.
- Hard disk drives are well known components of computer systems. A typical hard disk drive includes one or more data storage disks for storing data in magnetic form and a transducer used to write and read magnetic data respectively to and from the data storage disk. The data storage disk is mounted on a hub of a spindle motor which rotates the disk at speeds typically on the order of several thousand revolutions-per-minute. Digital frequency modulation information is stored in the form of magnetic transitions on a series of concentric, spaced tracks comprising the surface of the magnetizable rigid data storage disk. An actuator assembly adjustably positions the transducer above the data storage disk as the disk rotates. It is known to use an MR (magnetoresistive) element as a read transducer. The MR read transducer typically uses a constant bias current passing through the MR element. The magnetic information stored on the disk will modulate the MR resistance and thus changes the readback signal voltage.
- A problem encountered with MR read transducers in hard disk drives is thermal modulation of the readback signal voltage produced by the MR read transducer. The thermal modulation of the readback signal voltage may interfere with recovery of data from the readback signal.
- Thermal modulation may come about in a number of ways.
- For example, the MR head of an MR read transducer may come into contact with a burr or protrusion on the data storage disk. Such contact causes rapid frictional heating of the MR head. Because of the positive thermal coefficient of resistance of the MR head, the resistance of the MR head is rapidly increased. With the constant bias current applied to the MR head, the increase in resistance leads to a large positive excursion in the readback signal voltage. An event of this type is referred to as a “thermal asperity”.
- FIG. 1(a) is a graphical representation of a hard disk drive readback signal modulated at
location 10 by a thermal asperity. FIG. 1(b) is a graphical illustration of the thermal component of the readback signal. - The readback signal from the MR head can also be thermally modulated by non-contact heating or cooling from the data storage disk. The thermal modulation is caused by variations in heat transfer from the MR head to the disk. Because of the constant bias current supplied to the MR head, it is heated above ambient temperature and tends to be cooled by the proximity of the data storage disk. When the MR head travels over a pit in the data storage disk, the greater distance separating the MR head from the data storage disk results in a decrease in the cooling effect of the data storage disk upon the MR head, so that the temperature of the MR head increases, leading to increasing thermal modulation of the readback signal produced by the MR head. Also, when the MR head travels over a bump on the data storage disk (without contact between the MR head and the data storage disk) the closer proximity of the MR head to the surface of the data storage disk at the locus of the bump leads to increased cooling of the MR head by the data storage disk. This lowers the temperature of the MR head, due to greater heat transfer leading to a decreased thermal modulation of the readback signal produced by the MR head. These types of thermal modulation of the readback signal are sometimes referred to as “baseline signal wander”.
- U.S. Pat. No.5,751,510, which has the same inventors and the same assignee as the present invention, discloses a circuit that is adapted to remove a thermal modulation component from the readback signal produced by an MR head of a hard disk drive. The '510 patent is incorporated herein by reference in its entirety. According to the circuit shown in FIG. 9 of the '510 patent, the readback signal from the MR head is sampled and digitized and then a digital filter having a lowpass characteristic extracts the thermal component from the digitized readback signal. The thermal component is then subtracted from the readback signal (after the readback signal has been delayed to compensate for the delay in the filter) to produce a restored magnetic readback signal that is substantially free of thermal modulation.
- While the '510 patent represents an advance in the art, the present inventors have found that it would be desirable to remove thermal modulation from a hard disk drive readback signal provided by a MR head in a manner that copes more satisfactorily with the nonlinear characteristics of the readback signal as it reflects actual data stored on the data storage disk.
- According to an aspect of the invention, a method for processing a signal obtained from a storage medium using a magnetoresistive (MR) element is provided. The MR signal may be either a voltage or a current signal. The method includes reading the signal from the storage medium using the MR element and sampling and digitizing the signal to obtain a digital readback signal. The method further includes estimating an envelope of the digital readback signal by applying a nonlinear digital process to the digital readback signal to obtain an upper envelope sequence and a lower envelope sequence. The method further includes deriving an estimated thermal component of the digital readback signal from the upper envelope sequence and the lower envelope sequence, and subtracting the estimated thermal component from the digital readback signal to generate a restored digital readback signal.
- The estimation of the thermal component of the digital readback signal may include examining the digital readback signal within each of a sequence of timing windows. Further, the method may include, for each of the timing windows, finding a second highest value of the digital readback signal in the respective window to indicate the upper envelope sequence, and finding the second lowest value of the digital readback signal in the respective window to indicate the lower envelope sequence. The step of deriving the estimated thermal component of the digital readback signal may include obtaining an arithmetic mean of the upper and lower envelope sequences.
- Computer program products may be provided in accordance with these and other aspects of the invention. Each inventive program product may be carried by a medium readable by a computer (e.g., a carrier wave signal, a floppy disk, a hard drive, a random access memory, etc.).
- With the present invention, removal of a thermal modulation component from the readback signal produced by an MR head from a hard disk drive is performed satisfactorily, notwithstanding changes in frequency that are characteristic of the frequency modulated data stored in actual practical use of the hard disk drive.
- Other objects, features and advantages of the present invention will become more fully apparent from the following detailed description of the preferred embodiments, the appended claims and the accompanying drawings.
- FIG. 1(a) is a graphical representation of a readback signal voltage produced by an MR head of a hard disk drive and modulated by a thermal asperity;
- FIG. 1(b) is a graphical representation of the thermal component of the signal voltage shown in FIG. 1(a);
- FIG. 2 is a schematic block diagram representation of a hard disk drive provided in accordance with the present invention;
- FIG. 3 is a flow chart that illustrates a procedure carried out by the circuitry of FIG. 2 to obtain an upper envelope sequence for a digital readback signal generated in the hard disk drive of FIG. 2;
- FIG. 4 is a flow chart that illustrates a procedure carried out by the circuitry of FIG. 2 to obtain a lower envelope sequence for the digital readback signal generated by the hard disk drive of FIG. 2;
- FIG. 5(a) is a graphical representation of a readback signal voltage produced by the hard disk drive of FIG. 2 and modulated by a thermal asperity;
- FIG. 5(b) shows the readback signal voltage of FIG. 5(a) after thermal modulation has been removed therefrom by the circuitry of FIG. 2;
- FIG. 6(a) is a graphical representation of a readback signal voltage produced by the hard disk drive of FIG. 2 and modulated by a thermal reaction to a bump on the surface of the data storage disk;
- FIG. 6(b) is a graphical representation of the thermal voltage component of the signal of FIG. 6(a);
- FIG. 7(a) is a graphical representation of the signal of FIG. 6(a) with the thermal voltage component removed therefrom; and
- FIG. 7(b) is a graphical representation of the zeroed-out thermal voltage component of the signal of FIG. 7(a).
- FIG. 2 is a schematic block diagram representation of a hard disk drive provided in accordance with an embodiment of the present invention. In FIG. 2,
reference numeral 100 generally indicates the hard disk drive. Thehard disk drive 100 includes adata storage disk 110 which is mounted for rotation by a spindle motor which is not shown. A transducer including anMR head 112 is adjustably positioned above the rotatingdata storage disk 110. TheMR head 112 produces a readback signal which is high-pass filtered, amplified, sampled and digitized by arm-electronics (AE) and analog-to-digital (A/D)block 114 to obtain a digital readback signal x(n) outputted online 116. The digital readback signal x(n) online 116 is provided in parallel to adelay block 118 and to ablock 120. Theblock 120 employs a dual one-two-algorithm (to be described below) to perform an envelope estimation process on the digital readback signal x(n). Theblock 120 estimates the envelope of the digital readback signal by obtaining an upper envelope sequence and a lower envelope sequence. Theblock 120 further derives an estimated thermal component th(m) of the digital readback signal x(n) from the upper envelope sequence and the lower envelope sequence. Normally, the thermal component th(m) is of much lower frequency than the readback signal x(n). - An
impulse generator 122 generates a unit impulse train q(n) which is synchronized with the digital readback signal x(n) (e.g., a unit impulse train having a frequency that is the same as the rate at which the readback signal is sampled). The unit impulse train q(n) generated by theimpulse generator 122 is modulated atmultiplication block 124 by the thermal component sequence th(m) outputted fromblock 120. The resulting sequence th(n) has the same higher sampling rate as, and is synchronized with, the digital readback signal x(n). The higher sampling rate thermal component sequence th(n) is provided as a subtraction input to asummation block 126. Also provided to the summation block 126 is the digital readback signal, after having been delayed by a number of samples M which corresponds to a timing window length used inblock 120 to obtain the estimated thermal component of the digital readback signal (as described below). Thus the output of summation block 126 is a sequence y(n) which represents a “restored” readback sequence from which the thermal modulation of the digital readback signal has been removed. It will be seen from FIG. 2 that the resulting restored readback sequence y(n) is given by the following equation: - y(n)=x(n−M)−th(m)*q(n) (1)
- The restored digital readback sequence y(n) is then supplied to a
recording channel 128 for equalization and decoding. The resulting decoded data is outputted on aline 130 and passed on to the host system, which is not shown. The processes ofblocks - Operation of
block 120 will now be described with reference to FIGS. 3 and 4. Referring initially to FIG. 3, there will first be described extraction of an upper envelope sequence for the digital readback signal. - Initially, at block210 a timing window of M samples is set. According to a preferred embodiment of the invention, M is at least as large as the quotient Fs/F(low), where Fs is the sampling rate used in block 114 (FIG. 2) to obtain the digital readback signal and F(low) is a lowest frequency modulation frequency of the digital readback signal. For example, if the sampling rate Fs is 250 MHz and F(low) is 10 MHz, then the minimum window length becomes M=25 samples.
- Continuing to refer to FIG. 3, the digital readback sequence x(n) is provided as an input on
line 211. The first two samples x(1) and x(2) of the window of M samples are extracted online 213 and provided todecision block 212. It is determined atdecision block 212 whether the first sample x(1) is less than the second sample x(2). If so, a two-element vector r is organized as r=[x(2),x(1)] atblock 216. However, if a negative determination is made atblock 212, then the two element vector r is set as [x(1),x(2)] inblock 214. The next input sample of x(n) in the window, namely x(3) in the first instance, is obtained as an input online 215 and is compared with the second element of vector r at decision block 218 (e.g., either x(1) or x(2) in this example, depending on whether the vector r was organized inblock 214 or block 216). If the next input sample of x(n) is found to be greater than the second element r(2) of vector r, then block 222 follows. Atblock 222, vector r is reorganized as [r(1), x(n)]. If it is found atblock 218 that the input sample x(n) is not greater than r(2) then vector r remains unchanged (block 220) as [r(1),r(2)]. Following either block 220 or 222, as the case may be, is adecision block 224 in which it is determined whether the second element r(2) of the vector r is greater than the first element r(1) of the vector r. If so, the order of the two elements is reversed inblock 226. If not, the order of the two elements of the vector r remains unchanged. Followingblock 226 if a positive determination is made atdecision block 224, or directly followingdecision block 224 if a negative determination is made thereat, isdecision block 228. Atdecision block 228 it is determined whether the current input sample x(n) is the last sample of the timing window; i.e. it is determined if n=M. If not, the index n is incremented atblock 232, and the process of FIG. 3 loops back to provide the next sample online 215 todecision block 218. - However, if it is determined at
block 228 that the current sample of x(n) is the last sample of the window, then the second element r(2) of the vector r is stored (block 230) as an indication of the upper envelope of the digital readback signal x(n). It will be recognized that the algorithm of FIG. 3 has operated so that, after all of the input samples for the window have been considered, the second element r(2) of the vector r is the second largest sample within the window. While the next window of samples is being considered, the stored second largest value from the previous window is outputted as u(m) as an element of an upper envelope sequence. - The algorithm of FIG. 4 operates in similar fashion to find the second smallest sample in the current window. Thus, initial conditions, including setting of the window length M, are set in
block 310. The input sample train x(n) of the digital readback signal is received online 311 and the first two samples of the window, x(1) and x(2), are extracted online 313 and compared to each other atdecision block 312. If x(1) is less then x(2), then the vector r is initially established as [x(2),x(1)] (block 316). Otherwise, atblock 314, the vector r is established as [x(1),x(2)]. Then decision block 318 follows, receiving as an input the next sample of the digital readback signal on line 315 (e.g., x(3)). This next sample is compared with r(1), the first element of the vector r. If the current sample is less than r(1), then the current sample replaces r(1) in vector r (block 322). Otherwise vector r remains unchanged (block 320).Block 324 then follows block 320 or block 322 as the case may be. Atblock 324 it is determined whether the second element of the vector r is greater than the first element of the vector r. If so, the positions of the two elements are reversed (block 326). Otherwise, the vector r remains unchanged.Block 328 follows, at which it is determined whether the current input sample is the last sample within the timing window (e.g., if n=M). If not, the index n is incremented (block 332) and the next sample of the window is inputted online 315 todecision block 318. However, if it is determined atblock 328 that the current sample is the last sample in the window, then the first element of the vector r is stored as an indication of the lower envelope of the digital readback signal (block 330). It will be recognized that the stored first element of vector r is the second lowest sample within the timing window. While processing of the next window of samples proceeds, this value is outputted as v(m) as an element of the lower envelope sequence. - Block120 (FIG. 2) derives the estimated thermal component sequence th(m) as the arithmetic mean of the sequences u(m) and v(m) as indicated in the following equation:
- th(m)=[u(m)+v(m)]/2 (2)
- As noted before, the resulting estimated thermal component, after being converted to a high-rate sample train th(n) via modulation by the impulse train q(n) generated by the
impulse generator 122, is subtracted from the delayed digital readback signal x(n−M) to generate a restored digital readback signal y(n). - FIG. 5(a) is reminiscent of FIG. 1(a) and graphically presents the digital readback signal x(n) modulated by a thermal asperity. FIG. 5(b) shows the corresponding restored digital readback signal y(n) produced by the circuit of FIG. 2. It will be observed that the thermal modulation has been removed from the digital readback signal and the baseline has been restored, so that the restored readback sequence y(n) can be processed without soft or hard data errors by the recording channel 128 (FIG. 2).
- FIG. 6(a) shows the readback signal x(n) disturbed by a bump on the
data storage disk 110, but without contact between theMR head 112 anddata storage disk 110. The thermal component of the signal shown in FIG. 6(a) is graphically illustrated in FIG. 6(b). It will be noted that the magnitude of the thermal component is only on the order of about 5% of the thermal component of the thermal asperity of FIGS. 5(a) and 1(a). - FIG. 7(a) shows the restored readback signal y(n) produced by the circuitry of FIG. 2, and FIG. 7(b) indicates the zeroed-out thermal component of the restored readback signal.
- The present invention operates effectively to remove thermal modulation from a readback signal provided by an MR head of a hard disk drive. Even in the presence of variable frequencies which are characteristic of user-recorded data on a hard disk drive, the technique of the present invention is robust because it is non-linear. It will be appreciated that the present invention can be implemented in software (microcode) and therefore can be easily incorporated in, or provided as a retrofit for, hard disk drives. The effective readback signal restoration provided by the present invention is likely to be of particular importance as hard disk drive recording density continues to increase, with corresponding reductions in transducer fly height and greater susceptibility to thermal modulation.
- The present invention uses the second largest and second smallest samples in each window as indicators, respectively, of upper and lower envelopes of the readback signal to reduce the possibility that outliers due to noise may distort the estimated thermal component of the readback signal. As alternatives, however, the third highest and lowest, or fourth highest and lowest, etc. samples in each window may be used as indicators of the upper and lower envelopes of the readback signal. As another alternative, it is contemplated in a relatively low-noise environment to use the maximum and minimum samples in each window as indicators of the upper envelope and the lower envelope of the readback signal.
- Those who are skilled in the art will also note that the algorithms respectively illustrated in FIGS. 3 and 4 are similar to each other and accordingly could be combined into a single algorithm to produce both the upper envelope sequence u(m) and the lower envelope sequence v(m). This method is much more efficient and faster than a median filter which must rank or sort all of the samples within the timing window before the median value can be determined. This is an important feature of the invention which may operate in real time at a very high speed and requires very low computational burden.
- The foregoing description discloses only the preferred embodiments of the invention; modifications of the above disclosed apparatus and method which fall within the scope of the invention will be readily apparent to those of ordinary skill in the art. Accordingly, while the present invention has been disclosed in connection with the preferred embodiments thereof, it should be understood that other embodiments may fall within the spirit and scope of the invention, as defined by the following claims.
Claims (17)
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US09/904,429 US6654191B2 (en) | 2001-07-12 | 2001-07-12 | Restoration of hard disk drive readback signal in the presence of thermal modulation |
Applications Claiming Priority (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US09/904,429 US6654191B2 (en) | 2001-07-12 | 2001-07-12 | Restoration of hard disk drive readback signal in the presence of thermal modulation |
Publications (2)
Publication Number | Publication Date |
---|---|
US20030011916A1 true US20030011916A1 (en) | 2003-01-16 |
US6654191B2 US6654191B2 (en) | 2003-11-25 |
Family
ID=25419149
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US09/904,429 Expired - Fee Related US6654191B2 (en) | 2001-07-12 | 2001-07-12 | Restoration of hard disk drive readback signal in the presence of thermal modulation |
Country Status (1)
Country | Link |
---|---|
US (1) | US6654191B2 (en) |
Families Citing this family (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US7023632B1 (en) * | 2001-06-18 | 2006-04-04 | Maxtor Corporation | Monitoring of phenomena indicative of PTP in a hard disk and controlling the burnishing of heads |
US7872824B1 (en) | 2007-06-11 | 2011-01-18 | Western Digital (Fremont), Llc | Setting an operating bias current for a magnetoresistive head by computing a target operating voltage |
US7804657B1 (en) | 2007-06-11 | 2010-09-28 | Western Digital Technologies, Inc. | Setting an operating bias current for a magnetoresistive head using ratio of target voltage and measured voltage |
US7760458B1 (en) | 2008-08-12 | 2010-07-20 | Western Digital Technologies, Inc. | Disk drive adjusting head bias during servo synchronization to compensate for over/under sensitivity |
JP6826017B2 (en) * | 2017-10-05 | 2021-02-03 | 株式会社東芝 | Magnetic disk drive and read processing method |
Citations (6)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US4914398A (en) * | 1988-08-01 | 1990-04-03 | International Business Machines Corporation | Method and circuitry to suppress additive disturbances in data channels containing MR sensors |
US5739972A (en) * | 1996-01-02 | 1998-04-14 | Ibm | Method and apparatus for positioning a magnetoresistive head using thermal response to servo information on the record medium |
US5751510A (en) * | 1996-01-02 | 1998-05-12 | International Business Machines Corporation | Method and apparatus for restoring a thermal response signal of a magnetoresistive head |
US6392841B1 (en) * | 1999-07-16 | 2002-05-21 | International Business Machines Corporation | Method and apparatus for restoring a thermal response of a magnetoresistive read transducer |
US20020191314A1 (en) * | 2001-06-01 | 2002-12-19 | International Business Machines Corporation | In-situ envelope detection system for magnetic recording |
US20020191313A1 (en) * | 2001-06-01 | 2002-12-19 | International Business Machines Corporation | Head modulation detection |
Family Cites Families (9)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US5455730A (en) | 1993-02-18 | 1995-10-03 | International Business Machines Corporation | Contact magnetic recording disk file with a magnetoresistive read sensor |
US6151177A (en) | 1994-12-09 | 2000-11-21 | Seagate Technology, Inc. | Apparatus for compensating for non-linear characteristics of magnetoresistive heads |
JPH0944810A (en) | 1995-07-24 | 1997-02-14 | Mitsubishi Electric Corp | Signal reproducing circuit for mr head |
JP3458567B2 (en) | 1995-11-28 | 2003-10-20 | 三菱電機株式会社 | Amplifier for MR head |
JPH09320008A (en) | 1996-05-31 | 1997-12-12 | Fujitsu Ltd | Magnetic disk reproducing device and control method for the device |
JP3553292B2 (en) | 1996-09-30 | 2004-08-11 | 富士通株式会社 | Thermal asperity removal method and magnetic disk drive |
US6038091A (en) | 1997-10-06 | 2000-03-14 | Cirrus Logic, Inc. | Magnetic disk drive read channel with digital thermal asperity detector |
US6094316A (en) | 1998-03-27 | 2000-07-25 | Samsung Electronics Co., Ltd. | Method and apparatus for providing thermal asperity compensation in a fixed delay tree search detector |
US6587292B1 (en) | 1999-04-16 | 2003-07-01 | Infineon Technologies North America Corp. | Magneto-resistive asymmetry compensation loop |
-
2001
- 2001-07-12 US US09/904,429 patent/US6654191B2/en not_active Expired - Fee Related
Patent Citations (6)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US4914398A (en) * | 1988-08-01 | 1990-04-03 | International Business Machines Corporation | Method and circuitry to suppress additive disturbances in data channels containing MR sensors |
US5739972A (en) * | 1996-01-02 | 1998-04-14 | Ibm | Method and apparatus for positioning a magnetoresistive head using thermal response to servo information on the record medium |
US5751510A (en) * | 1996-01-02 | 1998-05-12 | International Business Machines Corporation | Method and apparatus for restoring a thermal response signal of a magnetoresistive head |
US6392841B1 (en) * | 1999-07-16 | 2002-05-21 | International Business Machines Corporation | Method and apparatus for restoring a thermal response of a magnetoresistive read transducer |
US20020191314A1 (en) * | 2001-06-01 | 2002-12-19 | International Business Machines Corporation | In-situ envelope detection system for magnetic recording |
US20020191313A1 (en) * | 2001-06-01 | 2002-12-19 | International Business Machines Corporation | Head modulation detection |
Also Published As
Publication number | Publication date |
---|---|
US6654191B2 (en) | 2003-11-25 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US5831888A (en) | Automatic gain control circuit and method | |
US5862007A (en) | Method and apparatus for removing baseline shifts in a read signal using filters | |
TW201030740A (en) | Systems and methods for adaptive baseline compensation | |
EP0828242A1 (en) | Servo demodulator and method for synchronous servo demodulation | |
JP3467041B2 (en) | MR head read signal preprocessing circuit | |
Siegel | Applications of a peak detection channel model | |
US6765745B2 (en) | Method and apparatus for in situ detection of high-flying sliders over customer data | |
US20120026623A1 (en) | Dibit extraction for estimation of channel parameters | |
JPH0159667B2 (en) | ||
US6654191B2 (en) | Restoration of hard disk drive readback signal in the presence of thermal modulation | |
US5966262A (en) | Method and apparatus for high data rate detection for three dimensional 110 channels | |
US6219387B1 (en) | Metric circuit and method for use in a viterbi detector | |
JP2006286188A (en) | Method and apparatus for data detection of data storage equipment | |
JP3609721B2 (en) | Digital data reproducing apparatus and digital data reproducing method | |
JP3545579B2 (en) | Reproduction signal processing method, reproduction signal processing circuit, and magnetic storage device | |
Kasparis et al. | Adaptive scratch noise filtering | |
Erden et al. | Thermal asperity detection and cancellation in perpendicular magnetic recording systems | |
JPH04335260A (en) | Decoder for adaptive maximum likelihood | |
US6385260B1 (en) | Asynchronous sampling digital detection (ASDD) methods and apparatus | |
JPH08212717A (en) | Demodulating circuit of magnetic recording/reproducing apparatus | |
JP2754920B2 (en) | Recorded information playback device | |
KR0135789B1 (en) | Data detecting method and device | |
US7065029B2 (en) | Signal processor | |
US8094397B2 (en) | System, method, and computer program product for characterizing media associated with data storage channels | |
TW477118B (en) | Phase detector for a phase-locked loop |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
AS | Assignment |
Owner name: INTERNATIONAL BUSINESS MACHINES CORPORATION, NEW YFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:OTTESEN, HAL HJALMAR;SMITH, GORDON JAMES;REEL/FRAME:012015/0912;SIGNING DATES FROM 20010710 TO 20010711 |
|
FPAY | Fee payment |
Year of fee payment: 4 |
|
FPAY | Fee payment |
Year of fee payment: 8 |
|
AS | Assignment |
Owner name: GOOGLE INC., CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:INTERNATIONAL BUSINESS MACHINES CORPORATION;REEL/FRAME:026664/0866Effective date: 20110503 |
|
REMI | Maintenance fee reminder mailed | ||
LAPS | Lapse for failure to pay maintenance fees | ||
STCH | Information on status: patent discontinuation |
Free format text: PATENT EXPIRED DUE TO NONPAYMENT OF MAINTENANCE FEES UNDER 37 CFR 1.362 |
|
FP | Lapsed due to failure to pay maintenance fee |
Effective date: 20151125 |
|
AS | Assignment |
Owner name: GOOGLE LLC, CALIFORNIAFree format text: CHANGE OF NAME;ASSIGNOR:GOOGLE INC.;REEL/FRAME:044144/0001Effective date: 20170929 |