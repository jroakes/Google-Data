US11417351B2 - Multi-channel echo cancellation with scenario memory - Google Patents
Multi-channel echo cancellation with scenario memory Download PDFInfo
- Publication number
- US11417351B2 US11417351B2 US16/019,402 US201816019402A US11417351B2 US 11417351 B2 US11417351 B2 US 11417351B2 US 201816019402 A US201816019402 A US 201816019402A US 11417351 B2 US11417351 B2 US 11417351B2
- Authority
- US
- United States
- Prior art keywords
- acoustic
- loudspeaker
- scenario
- signal
- driving signal
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Active, expires
Links
Images
Classifications
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L21/00—Processing of the speech or voice signal to produce another audible or non-audible signal, e.g. visual or tactile, in order to modify its quality or its intelligibility
- G10L21/02—Speech enhancement, e.g. noise reduction or echo cancellation
- G10L21/0208—Noise filtering
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F3/00—Input arrangements for transferring data to be processed into a form capable of being handled by the computer; Output arrangements for transferring data from processing unit to output unit, e.g. interface arrangements
- G06F3/16—Sound input; Sound output
- G06F3/167—Audio in a user interface, e.g. using voice commands for navigating, audio feedback
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04M—TELEPHONIC COMMUNICATION
- H04M9/00—Arrangements for interconnection not involving centralised switching
- H04M9/08—Two-way loud-speaking telephone systems with means for conditioning the signal, e.g. for suppressing echoes for one or both directions of traffic
- H04M9/082—Two-way loud-speaking telephone systems with means for conditioning the signal, e.g. for suppressing echoes for one or both directions of traffic using echo cancellers
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L21/00—Processing of the speech or voice signal to produce another audible or non-audible signal, e.g. visual or tactile, in order to modify its quality or its intelligibility
- G10L21/02—Speech enhancement, e.g. noise reduction or echo cancellation
- G10L21/0208—Noise filtering
- G10L2021/02082—Noise filtering the noise being echo, reverberation of the speech
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L21/00—Processing of the speech or voice signal to produce another audible or non-audible signal, e.g. visual or tactile, in order to modify its quality or its intelligibility
- G10L21/02—Speech enhancement, e.g. noise reduction or echo cancellation
- G10L21/0208—Noise filtering
- G10L21/0216—Noise filtering characterised by the method used for estimating noise
- G10L2021/02161—Number of inputs available containing the signal or the noise to be suppressed
- G10L2021/02163—Only one microphone
Definitions
- This description relates to echo cancellation for a multi-channel audio signal having two or more audio signals that are not independent.
- an audio system may include multiple loudspeakers and one or more microphones. A person may be speaking, and the microphone may pick up a microphone signal. Echo cancellation may remove, from the microphone signal, the signal components that are correlated to the signals driving the two or more loudspeakers. Echo cancellation may be relatively straightforward if the loudspeakers all transmit or produce different signals (e.g., statistically independent signals).
- the loudspeakers do not produce independent signals, which can make echo cancellation relatively difficult.
- an audio system that plays out a mono signal there is only one signal being transmitted out of both loudspeakers.
- the audio system is not able to uniquely determine the transfer functions between the microphone and the loudspeakers.
- the transfer functions are not unique, a problem may not occur if the acoustic scenario remains the same (e.g., the driving signals remain a mono signal).
- a change in the acoustic scenario e.g., the mono signal changing to a stereo signal
- a common echo canceller configuration is based on adaptive filters that have an objective to minimize the mean square difference between their output and the microphone observation.
- the optimal solution is not unique and the adaptive filters do not identify the individual loudspeaker-microphone transfer functions. If the relation between driving signals of the loudspeakers then suddenly changes (e.g., the acoustic scenario changes), echo cancellation may fail.
- distortion or noise may be introduced into one of the played-out loudspeaker signals (thereby causing the loudspeaker signals to become unique), and then the audio system can uniquely determine the transfer functions between the microphone and the loudspeakers.
- the introduction of distortion or noise into the loudspeakers may affect the quality of the audio being played-out.
- the loudspeaker signals may correspond to multi-channel music signals, distortion is undesirable. This is particularly true since the masking threshold for a spatial audio signal can be significantly lower when its spatial profile differs from that of the masker and is difficult to predict with existing methods.
- a method for multi-channel echo cancellation includes receiving a microphone signal and a multi-channel loudspeaker driving signal.
- the multi-channel loudspeaker driving signal includes a first driving signal that drives a first loudspeaker, and a second driving signal that drives a second loudspeaker.
- the first driving signal is substantially the same as second driving signal.
- the microphone signal includes a near-end signal with echo.
- the method includes determining a unique solution for acoustic transfer functions for a present acoustic scenario based on the microphone signal and the multi-channel loudspeaker driving signal.
- the acoustic transfer functions includes a first acoustic transfer function and a second acoustic transfer function.
- the unique solution for the first and second acoustic transfer functions is determined based on time-frequency transforms of observations from the present acoustic scenario and at least one previous acoustic scenario.
- the method includes removing the echo from the microphone signal based on the first acoustic transfer function and the second acoustic transfer function.
- the method may include one or more of the following features (or any combination thereof).
- the first transfer function defines transmission characteristics in a room between the microphone and the first loudspeaker
- the second transfer function defines transmission characteristics in the room between the microphone and the second loudspeaker.
- the method may include updating the unique solution for the first acoustic transfer function and the second acoustic transfer function when the present acoustic scenario changes to a new acoustic scenario.
- the unique solution for the first and second acoustic transfer functions is non-ambiguous for a combination of the present acoustic scenario and one or more previous acoustic scenarios.
- the present acoustic scenario is a first time interval in which a first relationship between sound signals played out by the first and second loudspeakers are fixed
- a previous acoustic scenario is a second time interval in which a second relationship between the sound signals is fixed, where the second time interval occurs before the first time interval, and the second relationship is different than the first relationship.
- the removing the echo from the microphone may include generating an echo replica signal based on the first and second acoustic transfer functions, and subtracting the echo replica signal from the microphone signal.
- a voice-activated speaker device includes a network interface configured to wirelessly connect to a network to receive audio data, a microphone configured to capture a voice-activated command, a first loudspeaker configured to generate a first sound signal, and a multi-channel echo canceller configured to receive a microphone signal and a multi-channel loudspeaker driving signal having the audio data.
- the multi-channel loudspeaker driving signal includes a first driving signal that drives the first loudspeaker, and a second driving signal that drives a second loudspeaker to generate a second sound signal.
- the first driving signal is substantially the same as second driving signal
- the microphone signal includes the voice-activated command with echo from the first sound signal and the second sound signal.
- the multi-channel echo canceller is configured to determine a unique solution for acoustic transfer functions for a present acoustic scenario based on the microphone signal and the multi-channel loudspeaker driving signal.
- the acoustic transfer functions include a first acoustic transfer function and a second acoustic transfer function, where the unique solution for the first and second acoustic transfer functions is determined based on time-frequency transforms of observations from the present acoustic scenario and at least one previous acoustic scenario.
- the multi-channel echo canceller is configured to remove the echo from the microphone signal based on the first and second acoustic transfer functions.
- the voice-activated speaker device may include one of more of the above and/or following features (or any combination thereof).
- the second loudspeaker is included within the voice-activated speaker device.
- the second loudspeaker is connected to the voice-activated speaker device.
- the first transfer function defines transmission characteristics in a room between the microphone and the first loudspeaker, and the second transfer function defines transmission characteristics in the room between the microphone and the second loudspeaker.
- the multi-channel echo canceller is configured to update the unique solution for the first acoustic transfer function and the second acoustic transfer function when the present acoustic scenario changes to a new acoustic scenario.
- the unique solution for the first and second acoustic transfer functions is non-ambiguous for a combination of the present acoustic scenario and at least one previous acoustic scenario.
- the present acoustic scenario is a first time interval in which a first relationship between sound signals played out by the first and second loudspeakers are fixed
- a previous acoustic scenario is a second time interval in which a second relationship between the sound signals is fixed, where the second time interval occurs before the first time interval, and the second relationship is different than the first relationship.
- the multi-channel echo canceller is configured to generate an echo replica signal based on the first and second acoustic transfer functions and subtract the echo replica signal from the microphone signal.
- a non-transitory computer-readable medium storing executable instructions that when executed by at least one processor cause the at least one processor to receive a microphone signal and a multi-channel loudspeaker driving signal, where the multi-channel loudspeaker driving signal includes a first driving signal that drives a first loudspeaker, and a second driving signal that drives a second loudspeaker, the first driving signal is substantially the same as second driving signal, the microphone signal includes a near-end signal with echo, determine a unique solution for acoustic transfer functions for a present acoustic scenario based on the microphone signal and the multi-channel loudspeaker driving signal, where the acoustic transfer functions includes a first acoustic transfer function and a second acoustic transfer function, and the unique solution for the first and second acoustic transfer functions is determined based on time-frequency transforms of observations from the present acoustic scenario and at least one previous acoustic scenario, and remove the echo from the microphone signal based
- the non-transitory computer-readable medium may include one or more of the above and/or following features (or any combination thereof).
- the first transfer function defines transmission characteristics in a room between the microphone and the first loudspeaker
- the second transfer function defines transmission characteristics in the room between the microphone and the second loudspeaker.
- the executable instructions include instructions to update the unique solution for the first acoustic transfer function and the second acoustic transfer function when the present acoustic scenario changes to a new acoustic scenario.
- the one or more previous acoustic scenarios may include a first previous acoustic scenario and a second previous acoustic scenario, where the unique solution for the first and second acoustic transfer functions is non-ambiguous for a combination of the present acoustic scenario, the first previous acoustic scenario, and the second previous acoustic scenario.
- the present acoustic scenario is a first time interval in which a first relationship between sound signals played out by the first and second loudspeakers are fixed
- a previous acoustic scenario is a second time interval in which a second relationship between the sound signals is fixed, where the second time interval occurs before the first time interval, and the second relationship is different than the first relationship.
- the executable instructions include instructions to generate an echo replica signal based on the first and second acoustic transfer functions, and subtract the echo replica signal from the microphone signal.
- FIG. 1 illustrates an audio system having a multi-channel echo canceller according to an aspect.
- FIG. 2 illustrates cancellation filters of the multi-channel echo canceller according to an aspect.
- FIG. 3 illustrates the cancellation filters of the multi-channel echo canceller according to an aspect.
- FIG. 4A illustrates a flowchart depicting example operations of the cancellation filters according to an aspect.
- FIG. 4B illustrates example operations of the flowchart of FIG. 4A according to an aspect.
- FIG. 5 illustrates a voice-activated speaker device having the multi-channel echo canceller according to an aspect.
- FIG. 6 shows an example of a computer device and a mobile computer device according to an aspect.
- the embodiments discussed herein disclose an audio system that includes a multi-channel echo canceller configured to determine a unique solution for acoustic transfers functions between a microphone and two or more loudspeakers transmitting non-unique loudspeaker signals even when the acoustic scenario changes and without introducing noise or distortion into one or more of the loudspeaker signals.
- the multi-channel echo canceller uniquely determines the acoustic transfer functions between the microphone and the loudspeakers based on observations from a present acoustic scenario and one or more previous acoustic scenarios.
- the multi-channel echo canceller uniquely determines the acoustic transfer functions based on time-frequency transforms of the observations from the present acoustic scenario and one or more previous acoustic scenarios. For example, the multi-channel echo canceller may obtain a solution for the acoustic transfer functions in the present acoustic scenario that i) is optimal for the present acoustic scenario, and ii) is optimal for each previous acoustic scenario under the constraint that it is optimal for acoustic scenarios after the previous acoustic scenario up to the present acoustic scenario.
- the term optimal may refer to the situation where the echo is exactly cancelled in the present acoustic scenario for the formulated problem, but the problem formulation is an approximation to the real world.
- echo may not be exactly cancelled because there is noise and the room may change (e.g., temperature affects the speed of sound, movement of people, etc.).
- the cancellation is approximate, and being more accurate if the approximation is good.
- the multi-channel echo canceller does not require distortion (perturbation) of signals played out over the loudspeakers.
- the multi-channel echo canceller can determine the contribution of the driving signal to the signal in the microphone. That contribution may change over time since it may be dependent on a number of factors such as temperature (e.g., the speed of sound changes with the temperature), arrangement of the furniture, where people are located, etc. As such, the multi-channel echo canceller may update the acoustic transfer functions over time based on the most recent available information about the acoustic transfer functions and exploits previous information for those aspects where the recent information is inadequate.
- FIG. 1 illustrates an audio system 100 having a multi-channel echo canceller 110 according to an aspect.
- the audio system 100 also includes a microphone 108 , a first loudspeaker 102 and a second loudspeaker 104 .
- the audio system 100 includes a third loudspeaker 106 .
- the audio system 100 may include more than three loudspeakers.
- the audio system 100 may include more than two microphones.
- the first loudspeaker 102 , the second loudspeaker 104 , and the third loudspeaker 106 may be disposed at different locations in a room 111 .
- the audio system 100 may include any type of device (or multiple devices) that have at least one microphone and two or more loudspeakers.
- the audio system 100 is a voice-activated speaker device.
- the audio system 100 includes one or more computing devices.
- the audio system 100 is a teleconference audio system or device.
- Each of the first loudspeaker 102 , the second loudspeaker 104 , and the third loudspeaker 106 may be an electroacoustic transducer that converts a loudspeaker driving signal into a corresponding sound signal.
- the first loudspeaker 102 generates a first sound signal according to a first loudspeaker driving signal
- the second loudspeaker 104 generates a second sound signal according to a second loudspeaker driving signal
- the third loudspeaker 106 generates a third sound signal according to a third loudspeaker driving signal.
- the first loudspeaker driving signal, the second loudspeaker driving signal, and the third loudspeaker driving signals are substantially the same.
- the loudspeaker signal signals are not statistically independent signals.
- the microphone 108 may be a transducer that converts sound into an electrical microphone signal.
- a near-end signal is produced, which is captured by the microphone 108 , but the microphone signal also contains acoustic echo caused by the proximity of the loudspeakers 102 , 104 , and 106 to the microphone 108 .
- acoustic echoes may be created when the loudspeaker driving signals are broadcast by the loudspeakers 102 , 104 , and 106 , and picked up by the microphone 108 either directly or indirectly by acoustic reflections off objects of the room 111 in which the loudspeakers 102 , 104 , and 106 are located.
- Echoes of the audio signal of the loudspeakers 102 , 104 , and 106 are combined with the near-end signal.
- the near-end signal is a signal that is processed by the audio system 100 , but the near-end signal with echo may cause problems with the processing of the microphone signal.
- a first acoustic transfer function defines the relationship of the first loudspeaker 102 and the microphone 108
- a second acoustic transfer function defines the relationship of the second loudspeaker 104 and the microphone 108
- a third acoustic transfer function defines the relationship between the third loudspeaker 106 and the microphone 108 .
- An acoustic echo cancellation system may use adaptive filters to estimate the acoustic transfer functions by modeling the impulse response of the room 111 in view of the loudspeakers 102 , 104 , and 106 , and the microphone 108 .
- each of the loudspeakers 102 , 104 , and 106 has one scalar impulse response for the microphone 108 .
- the impulse response of the room 111 can be used to predictively characterize the signals that will be captured by the microphone 108 when presented with an input signal, referred as an impulse.
- the impulse response may describe the reaction of the audio system 100 as a function of time, and the impulse may have its own frequency response.
- the acoustic transfer functions can change dynamically, such as when movement of something in the room 111 alters the acoustics of the room 111 . As a result, it may be necessary to continually update the acoustic transfer functions to maintain good echo cancellation.
- the multi-channel echo canceller 110 may uniquely determine the acoustic transfers functions between the microphone 108 and two or more of the loudspeakers 102 , 104 , and 106 transmitting non-unique loudspeaker signals even when the acoustic scenario changes and without introducing noise or distortion into one or more of the loudspeaker driving signals.
- the multi-channel echo canceller 110 is configured to remove the echo from the microphone signal using the unique acoustic transfer functions even when the relation between the loudspeaker driving signals changes.
- the multi-channel echo canceller 110 may include cancellation filters 112 , and a subtractor 114 .
- the cancellation filters 112 may uniquely determine the acoustic transfer functions and generate an echo replica signal that replicates the echo using the determined acoustic transfer functions.
- the echo replica signal may be a signal that is the loudspeaker driving signals distorted by the room 111 represented by the acoustic transfer functions.
- the subtractor 114 is configured to subtract the echo replica signal from the microphone signal (having the near-end signal with echo) to obtain the near-end signal without the echo.
- FIG. 2 illustrates the cancellation filters 112 according to an aspect.
- the cancellation filters 112 include a processor 130 and a non-transitory computer-readable medium 132 having executable instructions that when executed by the processor 130 is configured to implement the operations discussed herein.
- the cancellation filters 112 are configured to receive a multi-channel driving signal that includes the first loudspeaker driving signal for driving the first loudspeaker 102 and the second loudspeaker driving signal for driving the second loudspeaker 104 .
- the multi-channel driving signal also includes the third loudspeaker driving signal for driving the third loudspeaker 106 .
- the multi-channel echo canceller 110 may also receive the microphone signal (e.g., near-end signal with echo).
- the cancellation filters 112 are configured to uniquely determine the acoustic transfer functions using a cancellation solution algorithm 125 inputted with the microphone signal and the multi-channel driving signal such that unique acoustic transfer functions are obtained using observations from a present acoustic scenario 116 and one or more acoustic scenarios stored in a scenario memory 113 .
- “uniqueness” may mean that there is only one solution possible for each of the transfer functions.
- the unique acoustic transfer functions may include a first acoustic transfer function 124 that defines the relationship between the microphone 108 and the first loudspeaker 102 , a second acoustic transfer function 126 that defines the relationship between the microphone 108 and the second loudspeaker 104 , and a third acoustic transfer function 128 that defines the relationship between the microphone 108 and the third loudspeaker 106 (if the audio system 100 includes the third loudspeaker 106 . Accordingly, if the audio system 100 includes more than three loudspeakers, the unique acoustic transfer functions include a fourth acoustic transfer function, a fifth acoustic transfer function, and so forth.
- the cancellation filters 112 estimate the acoustic transfer functions 124 , 126 , 128 for the present acoustic scenario 116 and one or more previous acoustic scenarios of the scenario memory 113 using the cancellation solution algorithm 125 until a unique cancellation solution is obtained.
- the unique cancellation solution refers to the determination of the proper coefficients for the acoustic transfer functions 124 , 126 , and 128 .
- all of the acoustic scenarios may have a non-unique cancellation solution.
- the cancellation filters 112 are configured to find the cancellation solution that is the optimal solution for a past acoustic scenario subject to the constraint that it is an optimal solution from that past acoustic scenario forward in time until the present acoustic scenario.
- the cancellation filters 112 naturally restrict the scenario memory 113 to what is needed to find a unique cancellation solution, and uniquely defines the acoustic transfer functions.
- the cancellation filters 112 may attempt to uniquely determine the acoustic transfer functions 124 , 126 , 128 based on observations from the present acoustic scenario 116 and a first previous acoustic scenario 118 .
- the first previous acoustic scenario 118 may be the acoustic scenario that immediately precedes the present acoustic scenario 116 .
- the present acoustic scenario may be a first time interval in which a first relationship between sound signals played out by the first loudspeaker 102 and the second loudspeaker 104 is fixed (e.g., does not change during the first time interval).
- the first previous acoustic scenario 118 may be a second time interval (i.e., previous time interval) in which a second relationship between the sound signals played out by the first loudspeaker 102 and the second loudspeaker 104 is fixed (e.g., does not change during the second time interval), where the second relationship is different than the first relationship, and the second time interval occurs before the first time interval.
- a second time interval i.e., previous time interval
- the first loudspeaker 102 and the second loudspeaker 104 may be playing out a mono signal for a period of time (i.e., the second time interval), and then the audio system 100 may switch to a stereo signal, and the first loudspeaker 102 and the second loudspeaker 104 plays out the stereo signal for another period of time (i.e., the first time interval).
- the first time interval relates to a different acoustic scenario than the second time interval because the relationship between the two loudspeakers has changed.
- any change in the relationship between the loudspeakers 102 , 104 , and 106 defines a different acoustic scenario, and, over time, there may be a number of acoustic scenarios, which are exploited by the cancellation filters 112 to uniquely determine the acoustic transfer functions.
- the cancellation filter 112 attempts to uniquely determine the acoustic transfer functions 124 , 126 , 128 based on a combination of observations from the present acoustic scenario 116 , the first previous acoustic scenario 118 , and a second previous acoustic scenario 120 .
- the second previous acoustic scenario 120 may be the acoustic scenario that immediately precedes the first previous acoustic scenario 118 .
- the cancellation filters 112 attempt to uniquely determine the acoustic transfer functions 124 , 126 , 128 based on a combination of observations from the present acoustic scenario 116 , the first previous acoustic scenario 118 , the second previous acoustic scenario 120 , and a third previous acoustic scenario that immediately precedes the second previous acoustic scenario 120 .
- the cancellation filters 112 may continue to evaluate previous acoustic scenarios (until N previous acoustic scenario 122 ) until a unique cancellation solution is obtained. In this manner, distortion is not needed to make the sound signals independent, and the cancellation filters 112 store the most up-to-date information about the acoustic transfer functions 124 , 126 , and 128 because characteristics about the room 111 may change.
- FIG. 3 illustrates an example of the cancellation filters 112 according to an aspect.
- the cancellation filters 112 are configured to perform a time-frequency transform 131 (e.g., a forward transform) of the acoustic signals (e.g., the multi-channel driving signal, microphone signal) for the present acoustic scenario 116 and one or more previous acoustic scenarios (e.g., the first acoustic scenario 118 , the second previous acoustic scenario 120 through N previous acoustic scenario 122 ).
- the cancellation filters 112 are configured to remove the echo in the corresponding frequency bin.
- the cancellation filters 112 are configured to remove the echo in frequency bin k.
- the operation 133 may include two steps, where the first step is a model identification step.
- the first step characterizes the effect of the room 111 by means of a transfer function that provides a linear relation between the loudspeaker signal and the microphone response.
- the second step is use the loudspeaker signal and the transfer function to compute the expected contribution of the loudspeaker signal in the observed microphone signal. This contribution is then subtracted to obtain the echo-free signal. In practice, estimates have errors and the output will be an approximation of an error-free signal.
- the cancellation filters 112 are configured to remove the echo in frequency bin k+1 using the operations described with reference to operation 133 . Then, the cancellation filters 112 are configured to perform a time-frequency un-transform 136 (e.g., a back transform).
- FIGS. 4A and 4B illustrate a flowchart 400 depicting example operations of the cancellation solution algorithm 125 of the cancellation filters 112 according to an aspect.
- the principle of the cancellation solution algorithms 125 is as follows: An echo-free microphone signal is computed from the input of scalar microphone signal y and a multi-channel loudspeaker signal x in a stepwise process for each frequency channel k: An estimate h for the loudspeaker impulse response is computed for each previously observed acoustic scenario j.
- the cancellation requires a first step that includes estimating the transfer functions between loudspeakers and microphones. The transfer functions provide the microphone signals for the given loudspeaker signals.
- the estimation of the loudspeaker signals involves solving a set of linear equations that are based on observed loudspeaker signals and corresponding observed microphone signals. If for a particular acoustic scenario A some of the loudspeakers signal are substantially the same, then the solution of the linear equations is not unique. That is, the estimated transfer functions are not unique for that acoustic scenario. This means that there is a subspace where the components of the transfer functions can be chosen freely and yet satisfy the equations for the particular scenario A. For convenience, this subspace may be referred to as the null-space. The transfer functions are fully determined in the complement of the null space. To make the overall solution unique, additional equations are needed.
- a first previous acoustic scenario may be referred to as scenario B.
- the transfer functions of scenario B are determined by a set of linear equations that are based on loudspeaker and microphone data.
- the cancellation solution algorithm 125 processes the equations of scenario B such that they only apply to the null-space found from scenario A. Based on the processed equations of scenario B, the cancellation solution algorithm 125 attempts to solve for the transfer function component in the null-space to make the transfer function unique.
- the solution of the component of the transfer function in the null space based on scenario B may reduce or remove the null space. If it is not unique, the cancellation solution algorithm 125 may repeat the procedure with a scenario C.
- the cancellation filters 112 receive the multi-channel driving signal and the microphone signal (i.e., the microphone observation), stacks the loudspeaker path vectors into X j (operation 402 ) and stacks microphone observations into y j (operation 404 ).
- the cancellation filters 112 obtain the abbreviated acoustic scenario j specification including Z j and Q j .
- the cancellation filters 112 receive the abbreviated scenarios, and obtains the loudspeakers (plural) response h lying in column space B j H for current scenario j (operation 412 ). Outside this subspace, the solution can be anything without impacting optimality for scenario j.
- FIG. 5 illustrates a voice-activated speaker device 500 having a multi-channel echo canceller 510 .
- the multi-channel echo canceller 510 may be the multi-channel echo canceller 110 , and may include any of the features described herein.
- the voice-activated speaker device 500 may also have a first loudspeaker 502 , a microphone 508 , and a network interface 512 configured to wirelessly connect to a network (e.g., Internet) to receive audio data that is played out by the first loudspeaker 502 .
- the microphone 508 may capture a voice-command that can control the content and an operation of the voice-activated speaker device 500 .
- the voice-activated speaker device 500 is a type of wireless speaker and voice command device with an integrated virtual assistant that provides interactive actions.
- the voice-activated speaker device 500 includes a second loudspeaker 504 (e.g., the first loudspeaker and the second loudspeaker are included within a housing of the voice-activated speaker device 500 ).
- the voice-activated speaker device 500 is connected (wireless or wired connection) to a speaker device 550 , and the speaker device 550 includes the second loudspeaker 504 .
- the speaker device 550 is another voice-activated speaker device 500 .
- a user may provide a voice-command captured by the microphone 508 that begins the playback of music through the first loudspeaker 502 and the second loudspeaker 504 during a first acoustic scenario.
- the loudspeaker driving signals for the first loudspeaker 502 and the second loudspeaker 504 are the same since it is the same music being played on both of the loudspeakers.
- a different signal may be played out over the first loudspeaker 502 and the second loudspeaker 504 during a second acoustic scenario.
- the user may provide another voice-command, which is captured by the microphone 508 , and the multi-channel echo canceller 510 is configured to remove the echo from the microphone signal having the voice-command so that any speech recognition performed by the voice-activated speaker device 500 can perform properly.
- the following description provides formalization and mathematical proofs of the above-described multi-channel echo canceller 110 .
- section 1 the basic operation of an echo canceller for the case that the solution is unique is reviewed.
- this section there is a description of a direct solution method, avoiding adaptive filtering (e.g., adaptive filtering may converge to the same solution).
- the direct solution method may be particularly convenient when considering a sequence of acoustic scenarios.
- section 2 various aspects of the multi-channel echo canceller 110 are described.
- x be a stationary real-valued vector discrete-time ergodic stochastic vector process that is L ⁇ 1 valued representing the known driving signals of L loudspeakers (e.g., loudspeakers 102 , 104 , 106 of FIG. 1 ).
- y be a stationary scalar real-valued scalar discrete-time ergodic stochastic process describing the microphone signal (e.g., the microphone signal captured by microphone 108 ).
- a room e.g., the room 111 of FIG. 1
- ⁇ H is the Hermitian transpose
- g is a real-valued scalar stochastic error process representing both the near-end signal and the noise going into the room 111 .
- L the Hermitian transpose
- g a real-valued scalar stochastic error process representing both the near-end signal and the noise going into the room 111 .
- Eq. (1) reduces to a straightforward convolution of a scalar x with a scalar impulse response h.
- h m may be considered the cancellation filters 112 , and attempt to represent the effect of the room 111 (and any delay and distortion by the loudspeaker and microphone) on the loudspeaker signal before they are observed in the microphone 108 .
- each element y i of y is a scalar random variable: y i ⁇ L 2 ( ⁇ , B, ), where B is a Borel sigma algebra, and is a probability measure.
- the convolutive nature of Eq. (1) can be cumbersome.
- the problem can be reformulated using a time-frequency representation based on frame theory (where the forward transform is the time-frequency transform 131 and the back transform is the time-frequency un-transform 136 ).
- w be a window with finite time support.
- a time-frequency frame is built by means of time-shift operator and frequency-shift operator .
- Eq. (7) is the discrete time-frequency transform defined by Eq. (7). It is noted that while the Fourier transform of a stationary discrete-time random process cannot be defined, the time-frequency transform of a stationary discrete-time random process may be well-defined. Furthermore, Eq. (6) is the downsampling of the output of a time-invariant operator. This implies that the time-invariant operator h is also time-invariant in the time-frequency domain. A third attribute is that the memory introduced by the response h is limited to one time-sample in the time-frequency domain if P/2>M.
- W can be seen as a composite of partial time-frequency operators W k :l 2 ( ) ⁇ l 2 ( ) that are bounded linear operators corresponding to the functional x . If the
- sequences are interleaved, and a new sequence index m p
- +k is defined, then a bounded linear operator W:l 2 ( ) ⁇ l 2 ( ) is defined. Importantly, by selecting suitable windows such that w n ⁇ p P 2 1 , the time-frequency transform that corresponds to a tight frame (l 2 norm preserving except for a constant factor) can be ensured.
- Eq. (9) is of a more general nature than Eq. (8).
- For each ⁇ tilde over (y) ⁇ p,k one can omit from the stacking all those terms where ⁇ tilde over (x) ⁇ p+r,l is not correlated to ⁇ tilde over (y) ⁇ p,k and hence does not contribute to Eq. (9).
- the dimensionality can be reduced until any pre-set bound on precision is reached for ⁇ tilde over (y) ⁇ . If a set of vectors k (a time-frequency “patch”) in the stacking is retained, then ⁇ hacek over (x) ⁇ p,k ⁇ , and ⁇
- time interval is p ⁇ 0, . . . , ⁇ 1 ⁇ . This corresponds to operations 402 and 404 in FIG. 4A .
- E[ ⁇ hacek over (x) ⁇ p,k ⁇ hacek over (x) ⁇ p,k H ] is sometimes singular or nearly singular. This may lead to numerical problems when computing X # because X H X is then generally nearly singular.
- the patch includes random vectors x q,l uncorrelated with the random vector y k .
- the loudspeaker signals are not independent. The first cause generally does not vary in time in a practical environment and hence does not cause problems in multi-channel echo cancellation. However, the second cause can be a problem as the loudspeaker signals may suddenly become dependent because of a change in the input signals to the loudspeakers. In other words, a change in the far-end arrangement may cause problems in multi-channel echo cancellation.
- Section 2 A Method to Address Rank-Deficient Scenarios
- the acoustic scenarios (e.g., present acoustic scenario 116 , first previous acoustic scenario 118 , second previous acoustic scenario 120 to N previous acoustic scenario 122 of FIG. 2 ) can be of different time duration, and a sequence of pairs is obtained. Some of these acoustic scenarios may have an X j that is nearly singular.
- the multi-channel echo canceller 110 is configured to obtain the solution ⁇ to be optimal for the present acoustic scenario 116 (or current block), while retaining relevant information from previous acoustic scenarios (or previous blocks) that leads to an unambiguous solution. If the near-end acoustic arrangement does not vary, this approach results in a good estimate of the transfer function h at all times, despite variation in the loudspeaker dependencies between the acoustic scenarios.
- the multi-channel echo canceller 110 is configured to provide a good estimate of the transfer function ⁇ for the present acoustic scenario.
- the recursive notion of j-future-conditioned optimality for ⁇ is defined, and let ⁇ be optimal for block j. Then a solution ⁇ is j-future-conditioned optimal for block m ⁇ j if it optimal for block j given that it is j-future-conditioned optimal for all blocks n, such that n>m and n ⁇ j, and optimal for block j.
- the optimality criterion for ⁇ is i) present-block optimal (e.g., ⁇ should be the optimal solution for block j), and ii) past-block j-future-conditioned optimal (e.g., ⁇ is j-future-conditioned optimal for all blocks preceding block j).
- Eq. (25) can be interpreted as specifying a set of constraints on the solution ⁇ j , one for each row. If these constraints are satisfied, then ⁇ is optimal for block j. Note that both z j and B j have low dimensionality and require significantly less memory than storing y j and X j .
- n b n are solutions lying in the desired subspaces and n 0 is sufficiently less than n.
- Algorithm 1 is an example of the cancellation solution algorithm 125 of FIG. 2 .
- the multi-channel echo canceller 110 is configured to receive scalar microphone signal y, and a multi-channel loudspeaker driving signal x.
- the multi-channel echo canceller 110 is configured to execute Algorithm 1 (e.g., the cancellation solution algorithm 125 ) to generate an echo-free microphone signal and the transfer function ⁇ j for each subsequent scenario j.
- Algorithm 1 e.g., the cancellation solution algorithm 125
- Algorithm 1 Data scalar microphone signal y, and a multi-channel loudspeaker driving signal x
- Result echo-free micophone signal
- the transfer function ⁇ j for each subsequent scenario j define time-frequency patches k for each frequency k , and for each frequency k ⁇ do: %% Obtain channel k for time-frequency representation; compute sequence of patch vectors ⁇ p,k ⁇ ; compute sequence of scalars ⁇ tilde over (y) ⁇ p,k ⁇ ; identify scenario time intervals with scenario label j ⁇ J; %% for clarity drop identifiers p and k where clear below; for each scenario j ⁇ do %%Characterize scenario; stack j scenario vectors p into matrix X j ; %% step 402 stack j scenario scalars ⁇ tilde over (y) ⁇ p into vector y j ; %% step 404 compute Q j and B j in QR decomposition
- An arrangement that is a version of the system defined in earlier sections is a time-domain system.
- the time-frequency patch is the time segment corresponding to the impulse response.
- one particular arrangement is where only two acoustic scenarios are used: the current scenario and the last acoustic scenario where B j was square and full rank.
- This variation may result in very low storage and computational requirements.
- the information used may be less up-to-date than of the variant described with reference to Algorithm 1.
- This problem formulation explicitly assigns priority to optimizations with a lower index value. Note that in this Section, the indexing forward in time, for simplicity, is run. Some notation is introduced first. Let A be a matrix, then ⁇ denotes the subspace spanned by its column vectors. The null-space of A H is then ⁇ , where I is the identity matrix. h is expanded into components that are constrained to lie in subspaces that are orthogonal to components found earlier in the recursion. The components are indexed with k ⁇ 0,1, . . . , K ⁇ .
- C n be a full-rank matrix with its columns constraining the subspace that a k'th solution component must lie in.
- C k+1 be the column space of C n that does not intersect with the column space of B n .
- any matrix C n is defined with column space C n .
- the progressive shrinkage of the subspaces C n facilitates a convenient expansion of h:
- FIG. 6 shows an example of a generic computer device 600 and a generic mobile computer device 650 , which may be used with the techniques described here.
- Computing device 600 is intended to represent various forms of digital computers, such as laptops, desktops, tablets, workstations, personal digital assistants, televisions, servers, blade servers, mainframes, and other appropriate computing devices.
- Computing device 650 is intended to represent various forms of mobile devices, such as personal digital assistants, cellular telephones, smart phones, and other similar computing devices.
- the components shown here, their connections and relationships, and their functions, are meant to be exemplary only, and are not meant to limit implementations of the inventions described and/or claimed in this document.
- Computing device 600 includes a processor 602 , memory 604 , a storage device 606 , a high-speed interface 608 connecting to memory 604 and high-speed expansion ports 610 , and a low speed interface 612 connecting to low speed bus 614 and storage device 606 .
- the processor 602 can be a semiconductor-based processor.
- the memory 604 can be a semiconductor-based memory.
- Each of the components 602 , 604 , 606 , 608 , 610 , and 612 are interconnected using various busses, and may be mounted on a common motherboard or in other manners as appropriate.
- the processor 602 can process instructions for execution within the computing device 600 , including instructions stored in the memory 604 or on the storage device 606 to display graphical information for a GUI on an external input/output device, such as display 616 coupled to high speed interface 608 .
- multiple processors and/or multiple buses may be used, as appropriate, along with multiple memories and types of memory.
- multiple computing devices 600 may be connected, with each device providing portions of the necessary operations (e.g., as a server bank, a group of blade servers, or a multi-processor system).
- the memory 604 stores information within the computing device 600 .
- the memory 604 is a volatile memory unit or units.
- the memory 604 is a non-volatile memory unit or units.
- the memory 604 may also be another form of computer-readable medium, such as a magnetic or optical disk.
- the storage device 606 is capable of providing mass storage for the computing device 600 .
- the storage device 606 may be or contain a computer-readable medium, such as a floppy disk device, a hard disk device, an optical disk device, or a tape device, a flash memory or other similar solid state memory device, or an array of devices, including devices in a storage area network or other configurations.
- a computer program product can be tangibly embodied in an information carrier.
- the computer program product may also contain instructions that, when executed, perform one or more methods, such as those described above.
- the information carrier is a computer- or machine-readable medium, such as the memory 604 , the storage device 606 , or memory on processor 602 .
- the high speed controller 608 manages bandwidth-intensive operations for the computing device 600 , while the low speed controller 612 manages lower bandwidth-intensive operations. Such allocation of functions is exemplary only.
- the high-speed controller 608 is coupled to memory 604 , display 616 (e.g., through a graphics processor or accelerator), and to high-speed expansion ports 610 , which may accept various expansion cards (not shown).
- low-speed controller 612 is coupled to storage device 606 and low-speed expansion port 614 .
- the low-speed expansion port which may include various communication ports (e.g., USB, Bluetooth, Ethernet, wireless Ethernet) may be coupled to one or more input/output devices, such as a keyboard, a pointing device, a scanner, or a networking device such as a switch or router, e.g., through a network adapter.
- input/output devices such as a keyboard, a pointing device, a scanner, or a networking device such as a switch or router, e.g., through a network adapter.
- the computing device 600 may be implemented in a number of different forms, as shown in the figure. For example, it may be implemented as a standard server 620 , or multiple times in a group of such servers. It may also be implemented as part of a rack server system 624 . In addition, it may be implemented in a personal computer such as a laptop computer 622 . Alternatively, components from computing device 600 may be combined with other components in a mobile device (not shown), such as device 650 . Each of such devices may contain one or more of computing device 600 , 650 , and an entire system may be made up of multiple computing devices 600 , 650 communicating with each other.
- Computing device 650 includes a processor 652 , memory 664 , an input/output device such as a display 654 , a communication interface 666 , and a transceiver 668 , among other components.
- the device 650 may also be provided with a storage device, such as a microdrive or other device, to provide additional storage.
- a storage device such as a microdrive or other device, to provide additional storage.
- Each of the components 650 , 652 , 664 , 654 , 666 , and 668 are interconnected using various buses, and several of the components may be mounted on a common motherboard or in other manners as appropriate.
- the processor 652 can execute instructions within the computing device 650 , including instructions stored in the memory 664 .
- the processor may be implemented as a chipset of chips that include separate and multiple analog and digital processors.
- the processor may provide, for example, for coordination of the other components of the device 650 , such as control of user interfaces, applications run by device 650 , and wireless communication by device 650 .
- Processor 652 may communicate with a user through control interface 658 and display interface 656 coupled to a display 654 .
- the display 654 may be, for example, a TFT LCD (Thin-Film-Transistor Liquid Crystal Display) or an OLED (Organic Light Emitting Diode) display, or other appropriate display technology.
- the display interface 656 may comprise appropriate circuitry for driving the display 654 to present graphical and other information to a user.
- the control interface 658 may receive commands from a user and convert them for submission to the processor 652 .
- an external interface 662 may be provided in communication with processor 652 , so as to enable near area communication of device 650 with other devices. External interface 662 may provide, for example, for wired communication in some implementations, or for wireless communication in other implementations, and multiple interfaces may also be used.
- the memory 664 stores information within the computing device 650 .
- the memory 664 can be implemented as one or more of a computer-readable medium or media, a volatile memory unit or units, or a non-volatile memory unit or units.
- Expansion memory 674 may also be provided and connected to device 650 through expansion interface 672 , which may include, for example, a SIMM (Single In Line Memory Module) card interface.
- SIMM Single In Line Memory Module
- expansion memory 674 may provide extra storage space for device 650 , or may also store applications or other information for device 650 .
- expansion memory 674 may include instructions to carry out or supplement the processes described above, and may include secure information also.
- expansion memory 674 may be provide as a security module for device 650 , and may be programmed with instructions that permit secure use of device 650 .
- secure applications may be provided via the SIMM cards, along with additional information, such as placing identifying information on the SIMM card in a non-hackable manner.
- the memory may include, for example, flash memory and/or NVRAM memory, as discussed below.
- a computer program product is tangibly embodied in an information carrier.
- the computer program product contains instructions that, when executed, perform one or more methods, such as those described above.
- the information carrier is a computer- or machine-readable medium, such as the memory 664 , expansion memory 674 , or memory on processor 652 that may be received, for example, over transceiver 668 or external interface 662 .
- Device 650 may communicate wirelessly through communication interface 666 , which may include digital signal processing circuitry where necessary. Communication interface 666 may provide for communications under various modes or protocols, such as GSM voice calls, SMS, EMS, or MMS messaging, CDMA, TDMA, PDC, WCDMA, CDMA2000, or GPRS, among others. Such communication may occur, for example, through radio-frequency transceiver 668 . In addition, short-range communication may occur, such as using a Bluetooth, Wi-Fi, or other such transceiver (not shown). In addition, GPS (Global Positioning System) receiver module 670 may provide additional navigation- and location-related wireless data to device 650 , which may be used as appropriate by applications running on device 650 .
- GPS Global Positioning System
- Device 650 may also communicate audibly using audio codec 660 , which may receive spoken information from a user and convert it to usable digital information. Audio codec 660 may likewise generate audible sound for a user, such as through a speaker, e.g., in a handset of device 650 . Such sound may include sound from voice telephone calls, may include recorded sound (e.g., voice messages, music files, etc.) and may also include sound generated by applications operating on device 650 .
- Audio codec 660 may receive spoken information from a user and convert it to usable digital information. Audio codec 660 may likewise generate audible sound for a user, such as through a speaker, e.g., in a handset of device 650 . Such sound may include sound from voice telephone calls, may include recorded sound (e.g., voice messages, music files, etc.) and may also include sound generated by applications operating on device 650 .
- the computing device 650 may be implemented in a number of different forms, as shown in the figure. For example, it may be implemented as a cellular telephone 680 . It may also be implemented as part of a smart phone 682 , personal digital assistant, or other similar mobile device.
- implementations of the systems and techniques described here can be realized in digital electronic circuitry, integrated circuitry, specially designed ASICs (application specific integrated circuits), computer hardware, firmware, software, and/or combinations thereof.
- ASICs application specific integrated circuits
- These various implementations can include implementation in one or more computer programs that are executable and/or interpretable on a programmable system including at least one programmable processor, which may be special or general purpose, coupled to receive data and instructions from, and to transmit data and instructions to, a storage system, at least one input device, and at least one output device.
- the systems and techniques described here can be implemented on a computer having a display device (e.g., a CRT (cathode ray tube) or LCD (liquid crystal display) monitor) for displaying information to the user and a keyboard and a pointing device (e.g., a mouse or a trackball) by which the user can provide input to the computer.
- a display device e.g., a CRT (cathode ray tube) or LCD (liquid crystal display) monitor
- a keyboard and a pointing device e.g., a mouse or a trackball
- Other kinds of devices can be used to provide for interaction with a user as well; for example, feedback provided to the user can be any form of sensory feedback (e.g., visual feedback, auditory feedback, or tactile feedback); and input from the user can be received in any form, including acoustic, speech, or tactile input.
- the systems and techniques described here can be implemented in a computing system that includes a back end component (e.g., as a data server), or that includes a middleware component (e.g., an application server), or that includes a front end component (e.g., a client computer having a graphical user interface or a Web browser through which a user can interact with an implementation of the systems and techniques described here), or any combination of such back end, middleware, or front end components.
- the components of the system can be interconnected by any form or medium of digital data communication (e.g., a communication network). Examples of communication networks include a local area network (“LAN”), a wide area network (“WAN”), and the Internet.
- LAN local area network
- WAN wide area network
- the Internet the global information network
- the computing system can include clients and servers.
- a client and server are generally remote from each other and typically interact through a communication network.
- the relationship of client and server arises by virtue of computer programs running on the respective computers and having a client-server relationship to each other.
Abstract
Description
y n=Σm=0 M-1 h m H x n−m +g n, Eq. (1):
∥y n−Σm=0 M-1 ĥ m H x n−m∥2. Eq. (2):
A time-frequency frame for
w (p,k)=
where w(p,k) is a shifted and modulated window function.
{tilde over (x)} p,k =
{tilde over (x)}=Wx. Eq. (7):
{tilde over (y)} p,k=
{tilde over (y)} p,k =
{tilde over (y)} p,k ={tilde over (h)} k H {tilde over (x)} pk +{tilde over (g)} pk. Eq. (10):
{tilde over (y)} p,k=
y=Xh+g, Eq. (13):
ĥ=X # y, Eq. (14):
ĥ=B H(BB H)−1 Q H y. Eq. (19):
Q j H y j +B j ĥ j=0, Eq. (24):
z j +B j ĥ j=0, Eq. (25):
ĥ j=Σn=n
|
Data: scalar microphone signal y, and a multi-channel loudspeaker driving |
signal x |
Result: echo-free micophone signal |
Result: the transfer function ĥj for each subsequent scenario j |
define time-frequency patches |
for each frequency k ∈ |
%% Obtain channel k for time-frequency representation; |
compute sequence of patch vectors { |
compute sequence of scalars {{tilde over (y)}p,k}; |
identify scenario time intervals with scenario label j ∈ J; |
%% for clarity drop identifiers p and k where clear below; |
for each scenario j ∈ |
%%Characterize scenario; |
stack |
stack |
compute Qj and Bj in QR decomposition Xj = QjBj; %% step 406 |
zj = Qj H yj discard Xj and Qj (typically of high dimensionality); |
|
%% Compute response; |
b = Bj H (BjBj H)−1 zj; %% first part of step 412 |
hj = b; %% second and last part of step 412 |
|
l = j − 1; %% previous scenario; |
while rank( C ) > rank(Bl H) do %% step 426 |
b = CH Bl H (BlCCH Bl H)−1(z1 − Blĥj); |
ĥj = ĥj + Cb; %% step 420 |
|
l = l − 1; %% decrease previous scenario index; |
end |
b = (CH Bl H BlC)−1CK H Bl H (zl − Blĥj); %% part of |
ĥj = ĥj + Cb ; %% also part of |
echo-free microphone signal: yj − Xjĥj |
retain zj and Bj (of low-dimensionality) for future use |
end |
end |
Section 3—Variants on the Basic Algorithm
y=Ax, Eq. (27):
where x ∈
∥x∥ 2 2 =x 0 H x 0 +{tilde over (x)} H {tilde over (x)} Eq. (28):
x=A H z, Eq. (29):
y=AA H z Eq. (30):
z=(AA H)−1 y, Eq. (31):
and hence:
x=A H(AA H)−1 y, which concludes the derivation. Eq. (32):
Section 5—A Recursive Subspace Problem
b 0 =B 0 H(B 0 B 0 H)−1 z 0, Eq. (36):
Claims (17)
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US16/019,402 US11417351B2 (en) | 2018-06-26 | 2018-06-26 | Multi-channel echo cancellation with scenario memory |
Applications Claiming Priority (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US16/019,402 US11417351B2 (en) | 2018-06-26 | 2018-06-26 | Multi-channel echo cancellation with scenario memory |
Publications (2)
Publication Number | Publication Date |
---|---|
US20190392853A1 US20190392853A1 (en) | 2019-12-26 |
US11417351B2 true US11417351B2 (en) | 2022-08-16 |
Family
ID=68980766
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US16/019,402 Active 2041-06-04 US11417351B2 (en) | 2018-06-26 | 2018-06-26 | Multi-channel echo cancellation with scenario memory |
Country Status (1)
Country | Link |
---|---|
US (1) | US11417351B2 (en) |
Families Citing this family (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
EP3771226A1 (en) * | 2019-07-23 | 2021-01-27 | FRAUNHOFER-GESELLSCHAFT zur Förderung der angewandten Forschung e.V. | Acoustic echo cancellation unit |
CN111583950B (en) * | 2020-04-21 | 2024-05-03 | 珠海格力电器股份有限公司 | Audio processing method and device, electronic equipment and storage medium |
CN111726464B (en) * | 2020-06-29 | 2021-04-20 | 珠海全志科技股份有限公司 | Multichannel echo filtering method, filtering device and readable storage medium |
Citations (28)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US5323459A (en) | 1992-11-10 | 1994-06-21 | Nec Corporation | Multi-channel echo canceler |
US5796819A (en) * | 1996-07-24 | 1998-08-18 | Ericsson Inc. | Echo canceller for non-linear circuits |
US6246760B1 (en) | 1996-09-13 | 2001-06-12 | Nippon Telegraph & Telephone Corporation | Subband echo cancellation method for multichannel audio teleconference and echo canceller using the same |
US20020176584A1 (en) * | 1999-10-06 | 2002-11-28 | Kates James Mitchell | Apparatus and methods for hearing aid performance measurment, fitting, and initialization |
US20020198690A1 (en) * | 1996-02-06 | 2002-12-26 | The Regents Of The University Of California | System and method for characterizing, synthesizing, and/or canceling out acoustic signals from inanimate sound sources |
US6556682B1 (en) | 1997-04-16 | 2003-04-29 | France Telecom | Method for cancelling multi-channel acoustic echo and multi-channel acoustic echo canceller |
US6700977B2 (en) | 1997-04-15 | 2004-03-02 | Nec Corporation | Method and apparatus for cancelling multi-channel echo |
US20060002547A1 (en) | 2004-06-30 | 2006-01-05 | Microsoft Corporation | Multi-channel echo cancellation with round robin regularization |
US20100135483A1 (en) * | 2008-12-02 | 2010-06-03 | Qualcomm Incorporated | Systems and methods for double-talk detection in acoustically harsh environments |
US8284949B2 (en) | 2008-04-17 | 2012-10-09 | University Of Utah Research Foundation | Multi-channel acoustic echo cancellation system and method |
US8605890B2 (en) | 2008-09-22 | 2013-12-10 | Microsoft Corporation | Multichannel acoustic echo cancellation |
US20140056435A1 (en) * | 2012-08-24 | 2014-02-27 | Retune DSP ApS | Noise estimation for use with noise reduction and echo cancellation in personal communication |
US8712068B2 (en) | 2009-02-20 | 2014-04-29 | Harman Becker Automotive Systems Gmbh | Acoustic echo cancellation |
US20150381821A1 (en) * | 2013-03-19 | 2015-12-31 | Koninklijke Philips N.V. | Method and apparatus for audio processing |
US20160127535A1 (en) * | 2014-11-04 | 2016-05-05 | Apple Inc. | System and method of double talk detection with acoustic echo and noise control |
US20160171964A1 (en) * | 2014-12-12 | 2016-06-16 | Qualcomm Incorporated | Feedback cancelation for enhanced conversational communications in shared acoustic space |
US20160322045A1 (en) * | 2013-12-18 | 2016-11-03 | Cirrus Logic International Semiconductor Ltd. | Voice command triggered speech enhancement |
US9554210B1 (en) | 2015-06-25 | 2017-01-24 | Amazon Technologies, Inc. | Multichannel acoustic echo cancellation with unique individual channel estimations |
US9633651B2 (en) * | 2012-09-03 | 2017-04-25 | Fraunhofer-Gesellschaft zur Förderung der angewandten Forschung e.V. | Apparatus and method for providing an informed multichannel speech presence probability estimation |
US20170127206A1 (en) * | 2015-10-28 | 2017-05-04 | MUSIC Group IP Ltd. | Sound level estimation |
US20190028824A1 (en) * | 2017-07-24 | 2019-01-24 | Bose Corporation | Acoustical method for detecting speaker movement |
US20200359154A1 (en) * | 2018-01-09 | 2020-11-12 | Dolby Laboratories Licensing Corporation | Reducing unwanted sound transmission |
US20200374617A1 (en) * | 2019-05-23 | 2020-11-26 | Beijing Xiaoniao Tingting Technology Co., Ltd | Method and device for detecting wearing state of earphone and earphone |
US20210193103A1 (en) * | 2018-05-02 | 2021-06-24 | Harman Becker Automotive Systems Gmbh | Feedfoward active noise control |
US20210274296A1 (en) * | 2020-02-27 | 2021-09-02 | Oticon A/S | Hearing aid system for estimating acoustic transfer functions |
US20210306744A1 (en) * | 2018-06-22 | 2021-09-30 | Facebook Technologies, Llc | Audio system for dynamic determination of personalized acoustic transfer functions |
US20210314721A1 (en) * | 2018-08-17 | 2021-10-07 | Dts, Inc. | System and method for real time loudspeaker equalization |
US20210360363A1 (en) * | 2018-08-29 | 2021-11-18 | Orange | Method for the spatialized sound reproduction of a sound field that is audible in a position of a moving listener and system implementing such a method |
-
2018
- 2018-06-26 US US16/019,402 patent/US11417351B2/en active Active
Patent Citations (29)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US5323459A (en) | 1992-11-10 | 1994-06-21 | Nec Corporation | Multi-channel echo canceler |
US20020198690A1 (en) * | 1996-02-06 | 2002-12-26 | The Regents Of The University Of California | System and method for characterizing, synthesizing, and/or canceling out acoustic signals from inanimate sound sources |
US5796819A (en) * | 1996-07-24 | 1998-08-18 | Ericsson Inc. | Echo canceller for non-linear circuits |
US6246760B1 (en) | 1996-09-13 | 2001-06-12 | Nippon Telegraph & Telephone Corporation | Subband echo cancellation method for multichannel audio teleconference and echo canceller using the same |
US6700977B2 (en) | 1997-04-15 | 2004-03-02 | Nec Corporation | Method and apparatus for cancelling multi-channel echo |
US6556682B1 (en) | 1997-04-16 | 2003-04-29 | France Telecom | Method for cancelling multi-channel acoustic echo and multi-channel acoustic echo canceller |
US20030149553A1 (en) * | 1998-12-02 | 2003-08-07 | The Regents Of The University Of California | Characterizing, synthesizing, and/or canceling out acoustic signals from sound sources |
US20020176584A1 (en) * | 1999-10-06 | 2002-11-28 | Kates James Mitchell | Apparatus and methods for hearing aid performance measurment, fitting, and initialization |
US20060002547A1 (en) | 2004-06-30 | 2006-01-05 | Microsoft Corporation | Multi-channel echo cancellation with round robin regularization |
US8284949B2 (en) | 2008-04-17 | 2012-10-09 | University Of Utah Research Foundation | Multi-channel acoustic echo cancellation system and method |
US8605890B2 (en) | 2008-09-22 | 2013-12-10 | Microsoft Corporation | Multichannel acoustic echo cancellation |
US20100135483A1 (en) * | 2008-12-02 | 2010-06-03 | Qualcomm Incorporated | Systems and methods for double-talk detection in acoustically harsh environments |
US8712068B2 (en) | 2009-02-20 | 2014-04-29 | Harman Becker Automotive Systems Gmbh | Acoustic echo cancellation |
US20140056435A1 (en) * | 2012-08-24 | 2014-02-27 | Retune DSP ApS | Noise estimation for use with noise reduction and echo cancellation in personal communication |
US9633651B2 (en) * | 2012-09-03 | 2017-04-25 | Fraunhofer-Gesellschaft zur Förderung der angewandten Forschung e.V. | Apparatus and method for providing an informed multichannel speech presence probability estimation |
US20150381821A1 (en) * | 2013-03-19 | 2015-12-31 | Koninklijke Philips N.V. | Method and apparatus for audio processing |
US20160322045A1 (en) * | 2013-12-18 | 2016-11-03 | Cirrus Logic International Semiconductor Ltd. | Voice command triggered speech enhancement |
US20160127535A1 (en) * | 2014-11-04 | 2016-05-05 | Apple Inc. | System and method of double talk detection with acoustic echo and noise control |
US20160171964A1 (en) * | 2014-12-12 | 2016-06-16 | Qualcomm Incorporated | Feedback cancelation for enhanced conversational communications in shared acoustic space |
US9554210B1 (en) | 2015-06-25 | 2017-01-24 | Amazon Technologies, Inc. | Multichannel acoustic echo cancellation with unique individual channel estimations |
US20170127206A1 (en) * | 2015-10-28 | 2017-05-04 | MUSIC Group IP Ltd. | Sound level estimation |
US20190028824A1 (en) * | 2017-07-24 | 2019-01-24 | Bose Corporation | Acoustical method for detecting speaker movement |
US20200359154A1 (en) * | 2018-01-09 | 2020-11-12 | Dolby Laboratories Licensing Corporation | Reducing unwanted sound transmission |
US20210193103A1 (en) * | 2018-05-02 | 2021-06-24 | Harman Becker Automotive Systems Gmbh | Feedfoward active noise control |
US20210306744A1 (en) * | 2018-06-22 | 2021-09-30 | Facebook Technologies, Llc | Audio system for dynamic determination of personalized acoustic transfer functions |
US20210314721A1 (en) * | 2018-08-17 | 2021-10-07 | Dts, Inc. | System and method for real time loudspeaker equalization |
US20210360363A1 (en) * | 2018-08-29 | 2021-11-18 | Orange | Method for the spatialized sound reproduction of a sound field that is audible in a position of a moving listener and system implementing such a method |
US20200374617A1 (en) * | 2019-05-23 | 2020-11-26 | Beijing Xiaoniao Tingting Technology Co., Ltd | Method and device for detecting wearing state of earphone and earphone |
US20210274296A1 (en) * | 2020-02-27 | 2021-09-02 | Oticon A/S | Hearing aid system for estimating acoustic transfer functions |
Also Published As
Publication number | Publication date |
---|---|
US20190392853A1 (en) | 2019-12-26 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US10446171B2 (en) | Online dereverberation algorithm based on weighted prediction error for noisy time-varying environments | |
US10403299B2 (en) | Multi-channel speech signal enhancement for robust voice trigger detection and automatic speech recognition | |
CN107123430B (en) | Echo cancel method, device, meeting plate and computer storage medium | |
US9768829B2 (en) | Methods for processing audio signals and circuit arrangements therefor | |
US8483398B2 (en) | Methods and systems for reducing acoustic echoes in multichannel communication systems by reducing the dimensionality of the space of impulse responses | |
US9100466B2 (en) | Method for processing an audio signal and audio receiving circuit | |
US7925007B2 (en) | Multi-input channel and multi-output channel echo cancellation | |
CN109754813B (en) | Variable step size echo cancellation method based on rapid convergence characteristic | |
US11417351B2 (en) | Multi-channel echo cancellation with scenario memory | |
US20140016794A1 (en) | Echo cancellation system and method with multiple microphones and multiple speakers | |
US10431240B2 (en) | Speech enhancement method and system | |
US20090323924A1 (en) | Acoustic echo suppression | |
US20100217590A1 (en) | Speaker localization system and method | |
US20100074433A1 (en) | Multichannel Acoustic Echo Cancellation | |
US10978086B2 (en) | Echo cancellation using a subset of multiple microphones as reference channels | |
EP3613220B1 (en) | Apparatus and method for multichannel interference cancellation | |
US20160182770A1 (en) | Display apparatus and echo cancellation method thereof | |
Enzner | Bayesian inference model for applications of time-varying acoustic system identification | |
US8208649B2 (en) | Methods and systems for robust approximations of impulse responses in multichannel audio-communication systems | |
TWI234941B (en) | Echo canceler, article of manufacture, and method and system for canceling echo | |
US11640830B2 (en) | Multi-microphone signal enhancement | |
Helwani et al. | On the robust and efficient computation of the Kalman gain for multichannel adaptive filtering with application to acoustic echo cancellation | |
US11120814B2 (en) | Multi-microphone signal enhancement | |
US20230051021A1 (en) | Apparatus, Methods and Computer Programs for Performing Acoustic Echo Cancellation | |
US20060262842A1 (en) | Method for signal estimation and extraction |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
FEPP | Fee payment procedure |
Free format text: ENTITY STATUS SET TO UNDISCOUNTED (ORIGINAL EVENT CODE: BIG.); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
AS | Assignment |
Owner name: GOOGLE LLC, CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:KLEIJN, WILLEM BASTIAAN;SHABESTARY, TURAJ ZAKIZADEH;SIGNING DATES FROM 20180621 TO 20180622;REEL/FRAME:046222/0324 |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: NON FINAL ACTION MAILED |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: RESPONSE TO NON-FINAL OFFICE ACTION ENTERED AND FORWARDED TO EXAMINER |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: FINAL REJECTION MAILED |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: RESPONSE AFTER FINAL ACTION FORWARDED TO EXAMINER |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: NOTICE OF ALLOWANCE MAILED -- APPLICATION RECEIVED IN OFFICE OF PUBLICATIONS |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: PUBLICATIONS -- ISSUE FEE PAYMENT VERIFIED |
|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |