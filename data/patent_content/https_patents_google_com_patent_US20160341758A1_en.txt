US20160341758A1 - Extracting inertial information from nonlinear periodic signals - Google Patents
Extracting inertial information from nonlinear periodic signals Download PDFInfo
- Publication number
- US20160341758A1 US20160341758A1 US15/160,091 US201615160091A US2016341758A1 US 20160341758 A1 US20160341758 A1 US 20160341758A1 US 201615160091 A US201615160091 A US 201615160091A US 2016341758 A1 US2016341758 A1 US 2016341758A1
- Authority
- US
- United States
- Prior art keywords
- digital signal
- proof mass
- periodic
- determining
- result
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Granted
Links
Images
Classifications
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01P—MEASURING LINEAR OR ANGULAR SPEED, ACCELERATION, DECELERATION, OR SHOCK; INDICATING PRESENCE, ABSENCE, OR DIRECTION, OF MOVEMENT
- G01P15/00—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration
- G01P15/02—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses
- G01P15/08—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses with conversion into electric or magnetic values
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01P—MEASURING LINEAR OR ANGULAR SPEED, ACCELERATION, DECELERATION, OR SHOCK; INDICATING PRESENCE, ABSENCE, OR DIRECTION, OF MOVEMENT
- G01P15/00—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration
- G01P15/02—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses
- G01P15/08—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses with conversion into electric or magnetic values
- G01P15/093—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses with conversion into electric or magnetic values by photoelectric pick-up
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01C—MEASURING DISTANCES, LEVELS OR BEARINGS; SURVEYING; NAVIGATION; GYROSCOPIC INSTRUMENTS; PHOTOGRAMMETRY OR VIDEOGRAMMETRY
- G01C19/00—Gyroscopes; Turn-sensitive devices using vibrating masses; Turn-sensitive devices without moving masses; Measuring angular rate using gyroscopic effects
- G01C19/02—Rotary gyroscopes
- G01C19/04—Details
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01P—MEASURING LINEAR OR ANGULAR SPEED, ACCELERATION, DECELERATION, OR SHOCK; INDICATING PRESENCE, ABSENCE, OR DIRECTION, OF MOVEMENT
- G01P15/00—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration
- G01P15/02—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses
- G01P15/08—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses with conversion into electric or magnetic values
- G01P15/0802—Details
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01P—MEASURING LINEAR OR ANGULAR SPEED, ACCELERATION, DECELERATION, OR SHOCK; INDICATING PRESENCE, ABSENCE, OR DIRECTION, OF MOVEMENT
- G01P15/00—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration
- G01P15/02—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses
- G01P15/08—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses with conversion into electric or magnetic values
- G01P15/097—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses with conversion into electric or magnetic values by vibratory elements
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01P—MEASURING LINEAR OR ANGULAR SPEED, ACCELERATION, DECELERATION, OR SHOCK; INDICATING PRESENCE, ABSENCE, OR DIRECTION, OF MOVEMENT
- G01P15/00—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration
- G01P15/02—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses
- G01P15/08—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses with conversion into electric or magnetic values
- G01P15/125—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses with conversion into electric or magnetic values by capacitive pick-up
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01P—MEASURING LINEAR OR ANGULAR SPEED, ACCELERATION, DECELERATION, OR SHOCK; INDICATING PRESENCE, ABSENCE, OR DIRECTION, OF MOVEMENT
- G01P15/00—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration
- G01P15/02—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses
- G01P15/08—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses with conversion into electric or magnetic values
- G01P15/13—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses with conversion into electric or magnetic values by measuring the force required to restore a proofmass subjected to inertial forces to a null position
-
- B—PERFORMING OPERATIONS; TRANSPORTING
- B81—MICROSTRUCTURAL TECHNOLOGY
- B81B—MICROSTRUCTURAL DEVICES OR SYSTEMS, e.g. MICROMECHANICAL DEVICES
- B81B2201/00—Specific applications of microelectromechanical systems
- B81B2201/02—Sensors
- B81B2201/0228—Inertial sensors
- B81B2201/0235—Accelerometers
-
- B—PERFORMING OPERATIONS; TRANSPORTING
- B81—MICROSTRUCTURAL TECHNOLOGY
- B81B—MICROSTRUCTURAL DEVICES OR SYSTEMS, e.g. MICROMECHANICAL DEVICES
- B81B2203/00—Basic microelectromechanical structures
- B81B2203/05—Type of movement
- B81B2203/051—Translation according to an axis parallel to the substrate
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01D—MEASURING NOT SPECIALLY ADAPTED FOR A SPECIFIC VARIABLE; ARRANGEMENTS FOR MEASURING TWO OR MORE VARIABLES NOT COVERED IN A SINGLE OTHER SUBCLASS; TARIFF METERING APPARATUS; MEASURING OR TESTING NOT OTHERWISE PROVIDED FOR
- G01D5/00—Mechanical means for transferring the output of a sensing member; Means for converting the output of a sensing member to another variable where the form or nature of the sensing member does not constrain the means for converting; Transducers not specially adapted for a specific variable
- G01D5/12—Mechanical means for transferring the output of a sensing member; Means for converting the output of a sensing member to another variable where the form or nature of the sensing member does not constrain the means for converting; Transducers not specially adapted for a specific variable using electric or magnetic means
- G01D5/14—Mechanical means for transferring the output of a sensing member; Means for converting the output of a sensing member to another variable where the form or nature of the sensing member does not constrain the means for converting; Transducers not specially adapted for a specific variable using electric or magnetic means influencing the magnitude of a current or voltage
- G01D5/24—Mechanical means for transferring the output of a sensing member; Means for converting the output of a sensing member to another variable where the form or nature of the sensing member does not constrain the means for converting; Transducers not specially adapted for a specific variable using electric or magnetic means influencing the magnitude of a current or voltage by varying capacitance
- G01D5/241—Mechanical means for transferring the output of a sensing member; Means for converting the output of a sensing member to another variable where the form or nature of the sensing member does not constrain the means for converting; Transducers not specially adapted for a specific variable using electric or magnetic means influencing the magnitude of a current or voltage by varying capacitance by relative movement of capacitor electrodes
- G01D5/2412—Mechanical means for transferring the output of a sensing member; Means for converting the output of a sensing member to another variable where the form or nature of the sensing member does not constrain the means for converting; Transducers not specially adapted for a specific variable using electric or magnetic means influencing the magnitude of a current or voltage by varying capacitance by relative movement of capacitor electrodes by varying overlap
- G01D5/2415—Mechanical means for transferring the output of a sensing member; Means for converting the output of a sensing member to another variable where the form or nature of the sensing member does not constrain the means for converting; Transducers not specially adapted for a specific variable using electric or magnetic means influencing the magnitude of a current or voltage by varying capacitance by relative movement of capacitor electrodes by varying overlap adapted for encoders
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01P—MEASURING LINEAR OR ANGULAR SPEED, ACCELERATION, DECELERATION, OR SHOCK; INDICATING PRESENCE, ABSENCE, OR DIRECTION, OF MOVEMENT
- G01P15/00—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration
- G01P15/02—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses
- G01P15/08—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses with conversion into electric or magnetic values
- G01P2015/0805—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses with conversion into electric or magnetic values being provided with a particular type of spring-mass-system for defining the displacement of a seismic mass due to an external acceleration
- G01P2015/0808—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses with conversion into electric or magnetic values being provided with a particular type of spring-mass-system for defining the displacement of a seismic mass due to an external acceleration for defining in-plane movement of the mass, i.e. movement of the mass in the plane of the substrate
- G01P2015/0811—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses with conversion into electric or magnetic values being provided with a particular type of spring-mass-system for defining the displacement of a seismic mass due to an external acceleration for defining in-plane movement of the mass, i.e. movement of the mass in the plane of the substrate for one single degree of freedom of movement of the mass
- G01P2015/0814—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses with conversion into electric or magnetic values being provided with a particular type of spring-mass-system for defining the displacement of a seismic mass due to an external acceleration for defining in-plane movement of the mass, i.e. movement of the mass in the plane of the substrate for one single degree of freedom of movement of the mass for translational movement of the mass, e.g. shuttle type
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01P—MEASURING LINEAR OR ANGULAR SPEED, ACCELERATION, DECELERATION, OR SHOCK; INDICATING PRESENCE, ABSENCE, OR DIRECTION, OF MOVEMENT
- G01P15/00—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration
- G01P15/02—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses
- G01P15/08—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses with conversion into electric or magnetic values
- G01P2015/0862—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses with conversion into electric or magnetic values being provided with particular means being integrated into a MEMS accelerometer structure for providing particular additional functionalities to those of a spring mass system
- G01P2015/0865—Measuring acceleration; Measuring deceleration; Measuring shock, i.e. sudden change of acceleration by making use of inertia forces using solid seismic masses with conversion into electric or magnetic values being provided with particular means being integrated into a MEMS accelerometer structure for providing particular additional functionalities to those of a spring mass system using integrated signal processing circuitry
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01P—MEASURING LINEAR OR ANGULAR SPEED, ACCELERATION, DECELERATION, OR SHOCK; INDICATING PRESENCE, ABSENCE, OR DIRECTION, OF MOVEMENT
- G01P21/00—Testing or calibrating of apparatus or devices covered by the preceding groups
Definitions
- Linear inertial sensors those which use linear signals to determine inertial information, are subject to error due to drift. These linear inertial sensors scale linear signals by one or more predetermined quantities to determine inertial information such as acceleration or rotation. These predetermined quantities can account for spring constants, amplifier gain, and other factors. However, since spring constants, gain, and these other factors can drift over time, linear inertial sensors can develop an error due to this drift.
- a system for determining an inertial parameter can include circuitry configured for receiving a first periodic analog signal from a first sensor that is responsive to motion of a proof mass, converting the first periodic analog signal to a first periodic digital signal, determining a result of trigonometrically inverting a quantity, the quantity based on the first periodic digital signal, and determining the inertial parameter based on the result.
- the first sensor is a first electrode interacting with the proof mass. In some examples, the first electrode electrostatically interacts with the proof mass.
- the inertial parameter includes a displacement of the proof mass. In some examples, determining the inertial parameter can include multiplying the unwrapped inverted signal by a geometric dimension to obtain the displacement of the proof mass.
- the system can include circuitry configured for unwrapping the result. Determining the inertial parameter based on the result can include determining the inertial parameter based on the unwrapped result.
- the system can include circuitry configured for conditioning the first periodic digital signal by scaling the first periodic digital signal to a predetermined amplitude and offsetting the first periodic digital signal.
- the quantity can be based on the conditioned first periodic digital signal.
- determining the result of trigonometrically inverting includes determining the result of applying an arcsine function to the quantity. In some examples, determining the result of trigonometrically inverting includes determining the result of applying an arccosine function to the quantity. In some examples, determining the result of trigonometrically inverting includes determining the result using a lookup table, the result corresponding to the conditioned digital signal.
- unwrapping includes determining that a phase wrap has occurred by determining that a slope of the result has changed sign, determining that the result has changed by a predetermined increment, and determining that the sum of a prior slope and a prior value of the result would exceed a threshold. Unwrapping can further include adjusting the present value of and one or more future values of the result.
- the system can include circuitry configured for low-pass filtering the displacement to determine an inertial displacement and multiplying the inertial displacement by a square of a natural frequency of the proof mass to determine an acceleration of the proof mass.
- the first periodic digital signal includes a quotient of a first digital signal and a second digital signal.
- the system further includes circuitry configured for conditioning the first periodic digital signal by scaling the first periodic digital signal to a predetermined amplitude, and offsetting the first periodic digital signal.
- the quantity can be based on the conditioned periodic digital signal.
- offsetting includes integrating the first periodic digital signal for a predetermined time interval to determine an integral and subtracting the integral from the first periodic digital signal.
- the system includes circuitry configured for amplifying the first periodic analog signal to a first periodic analog voltage.
- the system includes circuitry configured for receiving a second analog signal from a second sensor that is responsive to motion of the proof mass, amplifying the second analog signal to a second analog voltage, converting the second analog voltage to a second periodic digital signal, and conditioning the second periodic digital signal.
- Conditioning the second periodic digital signal can include scaling the second periodic digital signal to the predetermined amplitude and offsetting the second periodic digital signal to the predetermined offset. The quantity can be based on a quotient of the first and second conditioned digital signals.
- the system can include circuitry configured for receiving a second analog signal from a second electrode adjacent to the proof mass.
- Amplifying the first analog signal to the first analog voltage can include amplifying a difference between the first and second analog signals to the first analog voltage.
- the system can include circuitry configured for receiving third and fourth analog signals from third and fourth sensors, respectively, each sensor responsive to motion of the proof mass.
- the system can also include circuitry configured for amplifying a second difference between the third and fourth analog signals to a second analog voltage, converting the second analog voltage to a second digital representation to generate a second periodic digital signal, and conditioning the second periodic digital signal.
- Conditioning the second periodic digital signal can include scaling the second periodic digital signal to the predetermined amplitude and offsetting the second periodic digital signal to the predetermined offset.
- the quantity can include a quotient of the first and second conditioned digital signals.
- the second, third, and fourth sensors are second, third, and fourth electrodes, respectively, each electrostatically interacting with the proof mass.
- the system includes the proof mass and the first sensor. In some examples, the system includes the second sensor. In some examples, the system includes the third and fourth sensors.
- FIG. 1 depicts an inertial device that extracts inertial information from nonlinear periodic signals, according to an illustrative implementation
- FIG. 2 depicts a schematic of an inertial device and enlarged views that depict fixed and movable teeth of an inertial device, according to an illustrative implementation
- FIG. 3 depicts a graph that shows the relationship between capacitance of a time-domain-switched (TDS) structure and displacement of a movable element, according to an illustrative implementation
- FIG. 4 depicts a graph showing differential capacitance and displacement of a TDS structure, according to an illustrative implementation
- FIG. 5 depicts a block diagram illustrating signal flows of a system for determining inertial perimeters from an inertial device, according to an illustrative implementation
- FIG. 6 depicts a block diagram showing signal flows and exemplary implementations of the systems and methods described herein, according to an illustrative implementation
- FIG. 7 depicts a system using digital control to control drive velocity, according to an illustrative implementation
- FIG. 8 depicts a block diagram representing signal flows and transfer functions of the system depicted in FIG. 7 , according to an illustrative implementation
- FIG. 9 schematically depicts a feedback loop that represents the closed-loop feedback of the system depicted in FIG. 7 , according to an illustrative implementation
- FIG. 10 depicts a Bode plot with a magnitude graph and a phase graph of the system depicted in FIG. 7 , according to an illustrative implementation
- FIG. 11 depicts a graph showing the change in oscillation frequency of the system depicted in FIG. 7 as a function of phase shift for various quality factors, according to an illustrative implementation
- FIG. 12 depicts a graph showing the gain loss of the system depicted in FIG. 7 as a function of phase shift, according to an illustrative implementation
- FIG. 13 depicts a graph illustrating a start-up procedure of a resonating proof mass, according to an illustrative implementation
- FIG. 14 depicts a graph showing sense signals of an inertial device during resonator start-up, according to an illustrative implementation
- FIG. 15 depicts a system that includes two TDS structures and a graph that depicts capacitance profiles of the TDS structures, according to an illustrative implementation
- FIG. 16 depicts a system for determining acceleration with a transimpedance amplifier (TIA), according to an illustrative implementation
- FIG. 17 depicts a graph illustrating signals of the system depicted in FIG. 16 , according to an illustrative implementation
- FIG. 18 depicts a system for determining acceleration with a charge amplifier (CA), according to an illustrative implementation
- FIG. 19 depicts a graph illustrating signals of the system depicted in FIG. 18 , according to an illustrative implementation
- FIG. 20 depicts a graph illustrating displacement of a proof mass and TDS timing events, according to an illustrative implementation
- FIG. 21 depicts a graph showing various time intervals that can be extracted from a differential TIA output, according to an illustrative implementation
- FIG. 22 depicts a summing block illustrating signal flows for using an analog-to-digital converter (ADC) to digitally reproduce an analog input signal, according to an illustrative implementation
- FIG. 23 depicts the use of linear interpolation to determine zero crossings of a digitized signal, according to an illustrative implementation
- FIG. 24 depicts a graph illustrating zero-crossings of an ADC digital output signal, according to an illustrative implementation
- FIG. 25 depicts a graph that shows an upsampled AFE output curve, according to an illustrative implementation
- FIG. 26 depicts a block diagram illustrating signal flows of the arccosine algorithm, according to an illustrative implementation
- FIG. 27 depicts a block diagram illustrating the signal flows of the arctangent algorithm, according to an illustrative implementation
- FIG. 28 depicts a graph that shows the digital output of the arctangent algorithm for a low amplitude of proof mass oscillation, an amplitude that does not result in phase wrap events, according to an illustrative implementation
- FIG. 29 depicts a graph showing the output of the arctangent algorithm when a proof mass has an oscillation amplitude larger than one-half the pitch distance of a TDS structure, according to an illustrative implementation
- FIG. 30 depicts a graph showing a digital output signal of the arcsine algorithm, where the proof mass has an oscillation amplitude greater than one-half the pitch, causing phase wraps, according to an illustrative implementation
- FIG. 31 depicts a method illustrating phase unwrapping in the arccosine and arcsine algorithms, according to an illustrative implementation
- FIG. 32 depicts an example of phase unwrap error due to excessive noise at the phase unwrap boundary, according to an illustrative implementation
- FIG. 33 depicts capacitive signals of an inertial device with a proof mass that is driven to amplitudes that do not cause false phase transitions, according to an illustrative implementation
- FIG. 34 depicts capacitance curves of an inertial device with a proof mass driven at two different amplitudes, according to an illustrative implementation
- FIG. 35 illustrates the error reduction from interpolation, according to an illustrative implementation
- FIG. 36 depicts an enlarged view of the phase error curves depicted in FIG. 35 , according to an illustrative implementation
- FIG. 37 depicts an inertial device with TDS structures that have four different phase offsets, according to an illustrative implementation
- FIG. 38 depicts an in-phase capacitance curve and a quadrature capacitance curve at a drive amplitude of 2 microns, according to an illustrative implementation
- FIG. 39 depicts an in-phase capacitance curve and a quadrature capacitance curve at a drive amplitude of 7 microns, according to an illustrative implementation
- FIG. 40 depicts an in-phase capacitance curve and a quadrature capacitance curve at a drive amplitude of 12 microns, according to an illustrative implementation
- FIG. 41 depicts analog output signals of differential charge amplifiers at a proof mass oscillation of 7 microns, according to an illustrative implementation
- FIG. 42 depicts analog output signals of differential charge amplifiers at a proof mass oscillation of 4 microns, according to an illustrative implementation
- FIG. 43 depicts a ratio of quadrature and in-phase signals, according to an illustrative implementation
- FIG. 44 depicts the arctangent of the quadrature to in-phase signal ratio without unwrapping, according to an illustrative implementation
- FIG. 45 depicts a proof mass position after unwrapping, according to an illustrative implementation.
- FIG. 46 depicts an enlarged view of a portion of FIG. 45 , showing the difference between a true displacement and a digital estimate, according to an illustrative implementation.
- the systems and methods described herein extract inertial information from nonlinear periodic signals.
- the systems and methods described herein produce an analog signal that varies nonlinearly and nonmonotonically in response to monotonic motion of a proof mass.
- the proof mass is oscillated periodically, and so the analog signal also oscillates periodically.
- Inertial information is extracted from the nonlinear, nonmonotonic analog signal.
- the proof mass is driven to oscillate in a substantially sinusoidal motion, which causes the analog signal to oscillate substantially sinusoidally.
- the proof mass can be driven in an open-loop manner, or it can be driven by an analog or a digital closed-loop drive.
- One way to produce a nonmonotonic signal from a monotonic motion of the proof mass is to oscillate a surface of the proof mass relative to an opposing surface, both surfaces having some nonplanarity.
- the opposing surface is located on a frame of the inertial device, such that the opposing surface experiences the same acceleration as the inertial device.
- a surface nonplanarity is a single asperity, or a tooth. Teeth on opposing surfaces can be aligned when the proof mass is in a rest position, or the teeth can be shifted with respect to each other at rest. As the proof mass moves with respect to the opposing surface in a motion that maintains the nominal gap between the proof mass and the opposing surface, the spacing between the tips of the teeth changes. As the teeth approach and then move past each other, the spacing between the respective teeth varies nonmonotonically, because it decreases and then increases. The spacing changes nonmonotonically even though the motion of the proof mass is monotonic over this region.
- the analog signal can be received by a sensor that responds to motion of the proof mass.
- the sensor can comprise an electrode.
- the electrode can electrostatically interact with the proof mass.
- the analog signal can be produced as a result of electrostatic interaction between the proof mass and the opposing surface.
- the analog signal can be a capacitance, a capacitive current, an inductance, an inductive current, a tunneling current, an optical signal, an electromagnetic signal, or another similar signal.
- An electrical voltage can be applied between the proof mass and the opposing surface to aid in generating the analog signal.
- the geometric dimension is tied to the length, width and thickness of the complaint spring structures used to establish the resonant frequencies of each of the coupled oscillators.
- the shuttering mechanism is attached to the oscillating proof mass and a sensor is positioned to detect light from a source.
- the shuttering mechanism modulates the intensity of the transmitted light. Changes in the light transmission resulting from movement of the shuttering mechanism with the proof mass are sensed by the optical sensor. In this case, as a result of changes in the position of the shutter, there can be an increase, such as a doubling, in modulation frequency as the light is passed through the shutter relative to an oscillation of the proof mass, such as two times per oscillation cycle of the proof mass.
- the sensor responds to the changes in transmission resulting from motion of the proof mass, such that the reference mass interacts with the sensor, and produces a resulting analog signal.
- an optically resonant cavity such as a Fabry-Perot wherein one of the mirrors is attached to the proof mass. If the proof mass oscillates such that the cavity spacing between the mirrors changes, and if the oscillation amplitude is large enough, the cavity will spatially pass multiples of n* ⁇ /2 where ⁇ is the wavelength of light and n is the index of refraction of the optical cavity. Every time the spatial mirror gap reaches n* ⁇ /2, a maximum in optical transmission occurs. So as long as the drive amplitude>n* ⁇ /2 multiple max or min values will be reached every oscillation cycle.
- the optical sensor will sense the variation in transmission resulting from motion of the proof mass, such that the reference mass interacts with the sensor, and the sensor responds to the position (and motion) of the proof mass to produce an analog signal.
- the geometrical dimension is tied to the wavelength of light used.
- the analog signal it is desirable to amplify the analog signal by using a proof mass with an array of teeth and an opposing surface with another array of teeth.
- Each array of teeth is regularly spaced, with a pitch defining the distance between adjacent teeth in the array.
- the two arrays of teeth have the same pitch so that amplification of the produced signal is maximized.
- there exists a relative position of the proof mass such that all of the teeth in the array on the proof mass are at the minimum separation from the opposing teeth in the array on the opposing surface.
- the produced signal can be amplified further by interdigitating the proof mass with the opposing surface and arranging arrays of teeth on each of the interdigitated surfaces of the proof mass and the opposing surface.
- the teeth can be rectangular, triangular, or another shape.
- the shape of the teeth determines the specific relationship between the produced signal and the motion of the proof mass, but does not change the nonmonotonicity.
- An analog front end converts the analog signal produced by the teeth to an analog voltage signal.
- the AFE does this by generating an analog voltage that is linearly proportional to the analog signal produced by the teeth.
- the analog voltage signal is also nonlinear and nonmonotonic.
- the AFE can be selected based on the type of analog signal to be measured. If the analog signal to be measured is a capacitance, the AFE can be a capacitance-to-voltage (C-to-V) converter such as a charge amplifier (CA) or a bridge with a general impedance converter (GIC). If the produced signal is a current such as a capacitive current or a tunneling current, the AFE can include a current amplifier such as a transimpedance amplifier (TIA). If the analog signal to be measured is optical, the AFE can include an optical device such as a photodiode or a charge coupled device. If the produced signal is electromagnetic, the AFE can include an antenna.
- C-to-V capacitance-to-
- the inertial devices includes a time-to-digital converter (TDC) to convert the analog voltage signal to a digital signal.
- TDC time-to-digital converter
- the TDC measures times at which the analog signal crosses certain thresholds, such as when the analog signal experiences maxima, minima, zeros, or other values.
- the TDC produces a binary output that switches between two values when the analog voltage signal crosses these thresholds.
- the inertial device uses an analog-to-digital converter (ADC) to convert the analog voltage signal to a digital signal. The digital signal can then be used to determine inertial information.
- ADC analog-to-digital converter
- the inertial device can include digital circuitry which extracts inertial information from the digital signal produced by the ADC or the TDC.
- FIG. 1 depicts an inertial device 100 that extracts inertial information from nonlinear periodic signals.
- the inertial device 100 includes a proof mass 102 that is connected to anchors 112 a, 112 b, 112 c, and 112 d (collectively, anchors 112 ) by springs 110 a, 110 b, 110 c, 110 d (collectively, springs 110 ), respectively.
- FIG. 1 also depicts a coordinate system 122 with an x axis, a y axis perpendicular to the x axis, and a z axis perpendicular to each of the x and y axes.
- the proof mass 102 is driven along the x axis by drive combs 114 a and 114 b (collectively, drive combs 114 ).
- An AC voltage applied to the drive combs 114 causes the proof mass 102 to oscillate along the x axis.
- the inertial device 100 includes sense combs 118 a, 118 b, 118 c, and 118 d (collectively sense combs 118 ) used to detect motion of the proof mass 102 .
- the capacitance between the sense combs 118 and the proof mass 102 varies.
- This varying capacitance causes a capacitive current to flow when a DC sense voltage is applied between the sense combs 118 and the proof mass 102 .
- This capacitive current which is proportional to the position of the proof mass 102 , can be used to determine drive amplitude and velocity of the proof mass 102 .
- the sense combs 118 are linear in that they produce an analog output signal (e.g., current or capacitance) that is a monotonic and linear (or substantially linear) function of the position of the proof mass 102 .
- the inertial device 100 can include a digital closed-loop drive which regulates the amplitude of the motion of the proof mass 102 to a desired value.
- the digital closed-loop drive can use the drive amplitude and velocity of the proof mass determined using the sense combs 118 .
- the digital (closed-loop drive) compares the measured motion of the proof mass 102 to the desired value and regulates the voltage applied to the drive combs 114 to maintain the amplitude of the proof mass 102 at the desired value.
- the proof mass 102 includes arrays of movable teeth 104 a and 104 b (collectively, movable teeth 104 ).
- the movable teeth 104 are spaced along the x axis.
- the inertial device 100 includes fixed beams 108 a, 108 b, 108 c, and 108 d (collectively, fixed beams 108 ).
- the fixed beams 108 include arrays of fixed teeth 106 a, 106 b, 106 c, and 106 d (collectively, fixed teeth 106 ), respectively.
- the fixed teeth 106 are spaced along the x axis and adjacent to the movable teeth 104 .
- the fixed teeth 106 and the movable teeth 104 electrostatically interact with each other.
- the inertial device includes arrays of teeth arranged with phase offsets. In the example depicted in FIG.
- teeth of the movable teeth 104 align with teeth of the fixed teeth 106 b and 106 c.
- teeth of the fixed teeth 106 a and 106 d do not align with teeth of the movable teeth 104 , but instead align with the centers of gaps between respective teeth of the movable teeth 104 .
- the teeth 106 b and 106 c experience a maximum in capacitance
- the teeth 106 a and 106 d experience a minimum in capacitance, and vice-versa.
- the inertial device 100 includes a device layer comprising the features depicted in FIG. 1 .
- the inertial device 100 also includes a top layer (not shown) above the device layer and a bottom layer (not shown) below the device layer.
- the anchors 112 , the fixed beams 108 , the drive combs 114 , and the sense combs 118 are connected to one or both of the top layer (not shown) and the bottom layer (not shown).
- the proof mass 102 can move freely within the plane of the device layer.
- the proof mass 102 is at a ground voltage, as it is electrically connected to the anchors 112 by the springs 110 .
- the anchors 112 are grounded through their connection to the bottom layer (not shown) or the top layer (not shown).
- a DC voltage is applied to the fixed beams 108 .
- the DC voltage applied is 2.5 V.
- DC voltages of opposite polarities are applied to the sense combs 118 to enable a differential capacitance measurement.
- a voltage of +2.5 V is applied to the sense combs 118 c and 118 d
- a DC voltage of ⁇ 2.5 V is applied to the sense combs 118 a and 118 b.
- the AC voltages applied to the respective drive combs 114 a and 114 b are of equal amplitudes, but 180° out of phase.
- the drive combs 114 alternately electrostatically attract, or “pull,” the proof mass.
- FIG. 2 depicts a schematic of an inertial device 202 and enlarged views 206 , 210 , and 214 that depict fixed and movable teeth of the inertial device 202 .
- the view of the inertial device 202 schematically depicts a proof mass and movable and fixed teeth.
- the view of inertial device 202 includes an area of interest 204 that includes both movable teeth connected to the proof mass and fixed teeth connected to an anchor.
- the enlarged view 206 is an enlarged view of features of the area of interest 204 .
- the enlarged view 206 depicts a time-domain-switched (TDS) structure 207 that includes a fixed element 216 and a movable element 220 .
- TDS time-domain-switched
- the movable element 220 is connected to the proof mass 203 , while the fixed element 216 is anchored to a bottom layer (not shown) and/or a top layer (not shown) of the inertial device 202 .
- the fixed element 216 includes a plurality of fixed beams, including a fixed beam 218 .
- the movable element 220 includes a plurality of movable beams, including a movable beam 222 .
- the enlarged view 206 also includes an area of interest 208 .
- the enlarged view 210 is an enlarged view of the area of interest 208 and depicts fixed and movable beams, including the fixed beam 218 and the movable beam 222 .
- the enlarged view 210 also includes an area of interest 212 .
- the enlarged view 214 is an enlarged view of the area of interest 212 .
- the enlarged view 214 depicts the fixed beam 218 and the movable beam 222 .
- the fixed beam 218 includes fixed teeth 226 a and 226 b (collectively, fixed teeth 226 ).
- the movable beam 222 includes movable teeth 224 a and 224 b (collectively, movable teeth 224 ).
- the centers of the fixed teeth 226 are separated by a pitch distance 228
- the centers of the movable teeth 224 are separated by the same pitch distance 228 .
- the teeth of the movable beam 222 and the teeth of the fixed beams 218 have the same widths and have the same gaps between adjacent teeth.
- FIG. 3 depicts a graph 300 that shows the relationship between capacitance of the TDS structure 207 ( FIG. 2 ) and displacement of the movable element 220 ( FIG. 2 ).
- the graph 300 includes a capacitance curve 302 representing capacitance as a function of displacement of the movable element 220 ( FIG. 2 ).
- the capacitance curve 302 is centered at a middle level 306 and ranges between a maximum level 304 and a minimum level 308 .
- the capacitance curve 302 reaches the maximum level 304 when the teeth of the movable element 220 ( FIG. 2 ) are aligned with teeth of the fixed element 216 ( FIG. 2 ).
- the capacitance curve 302 reaches the minimum level 308 when the teeth of the movable element 220 ( FIG. 2 ) are anti-aligned (e.g., aligned with gaps between) the teeth of the fixed element 216 ( FIG. 2 ). While changes in voltage applied between the fixed element 216 ( FIG. 2 ) and the movable element 220 ( FIG. 2 ) can affect the amplitude of the capacitance curve 302 , the capacitive curve 302 and the maximum level 304 and the minimum level 308 , changes in voltage will not affect the displacement at which the capacitive curve reaches a maximum or minimum.
- the capacitance curve 302 reaches maximum and minimum levels at permanently fixed positions that are defined during fabrication of the inertial device 202 ( FIG.
- the capacitance curve 302 reaches these level when teeth are aligned or anti-aligned.
- the displacement at which the capacitive curve reaches the maximum level 304 or the minimum level 308 are unaffected by drift in the voltage applied between the fixed element 216 ( FIG. 2 ) and the movable element 220 ( FIG. 2 ).
- the graph 300 also depicts displacement levels that include a ⁇ P displacement level 318 , a ⁇ 3P/4 displacement level 326 , a ⁇ P/2 displacement level 314 , a ⁇ P/4 displacement level 322 , a 0 displacement level 310 , a +P/4 displacement level 320 , a +P/2 displacement level 312 , a +3 P/4 displacement level 324 , and a +P displacement level 316 .
- the graph 302 reaches the maximum capacitance level 304 at the displacement levels 318 , 310 , and 316 , and reaches the minimum capacitance level 308 at the displacement levels 314 and 312 .
- the capacitance curve 302 intersects the middle level 306 at the displacement levels 326 , 322 , 320 , and 324 .
- the capacitance curve 302 experiences maxima when the movable element 220 ( FIG. 2 ) has moved integer multiples of the pitch distance from its neutral position.
- the capacitance curve 302 experiences minima when the movable element 220 ( FIG. 2 ) has moved one-half the pitch distance from its neutral position in either direction.
- the movable element 220 ( FIG. 2 ) is resonated with the respect to the fixed element 206 ( FIG. 2 ). As the movable element oscillates in sinusoidal motion, the capacitance varies periodically according to the capacitance curve 302 .
- the periodic variation depends on factors including the shape of the teeth of the movable element 220 and the fixed element 206 , the size of gaps between the teeth, and manufacturing variations. In some examples, the periodic variation is sinusoidal, in some examples, the periodic variation is semi-sinusoidal, and in some examples, the periodic variation is not sinusoidal. Because the movable element 220 ( FIG. 2 ) is connected to the proof mass 203 ( FIG. 2 ), an acceleration applied to the inertial device will affect the motion of the proof mass 203 ( FIG.
- the acceleration applied to the inertial device 202 will affect the capacitance curve 302 by shifting the maximum level 304 , the middle level 306 , and the minimum level 308 in proportion to the magnitude of the acceleration. This offset in the capacitance curve 302 can be measured and used to determine the applied acceleration.
- the applied acceleration is measured with respect to the pitch distance, which is a fixed spatial constant defined by the fabrication process.
- FIG. 4 depicts a graph 400 showing differential capacitance and displacement of a TDS structure such as the TDS structure 207 ( FIG. 2 ).
- the graph 400 includes a differential TDS capacitance curve 404 and a displacement curve 402 .
- the displacement curve 402 represents the motion of a proof mass (e.g., 102 ( FIG. 1 )) as a function of time.
- the differential TDS capacitance curve 404 represents a difference in capacitance between an in-phase TDS structure (e.g., 105 b, 105 c ( FIG. 1 )) and an out-of-phase TDS structure (e.g., 105 a, 105 d ( FIG. 1 )).
- the graph 400 includes times 406 , 412 , and 418 at which the differential TDS capacitance curve 404 reaches a maximum and at which a proof mass (e.g., 102 ( FIG. 1 )) is displaced at integer multiples of the pitch distance from a neutral position.
- the graph 400 also includes times 408 and 416 at which the proof mass is displaced by one-half the pitch distance from its neutral position and at which the differential TDS capacitance curve 404 reaches a minimum.
- the graph 400 also includes times 410 , 414 , 424 , and 426 at which the proof mass is displaced by one-half the pitch distance from its neutral position and at which the differential TDS capacitance curve crosses a zero level.
- the graph 400 also includes a displacement level 420 at which the displacement curve 402 reaches a minimum and a displacement level 422 at which the displacement curve 402 reaches a maximum.
- the differential TDS capacitance curve 404 also reaches a maximum at the times 420 and 422 , but the differential TDS capacitance at the times 420 and 422 is lower than at the times 406 , 412 , and 418 .
- the differential TDS capacitance curve 404 only reaches a maximum at the times 420 and 422 because the proof mass (e.g., 102 ( FIG. 1 )) reverses direction at these times.
- Equation 1 illustrates the dependence on time and displacement of the differential TDS capacitance curve 404 .
- Equation 2 shows the relationship between displacement and time of the displacement curve 402 .
- the displacement curve 402 is affected by a sinusoidal drive component and an inertial component.
- the time interval T 1 428 corresponds to the interval between times 410 and 426 of successive crossings of the ⁇ P/4 level.
- the time interval T 2 430 corresponds to the interval between times 414 and 424 of successive crossings of the +P/4 level.
- the time intervals T 1 428 and T 2 430 can be used as shown in equations 3-6 to determine oscillation offset A of the proof mass (e.g., 102 ( FIG. 1 )) and acceleration A of the inertial device (e.g., 100 ( FIG. 1 )).
- FIG. 5 depicts a block diagram 500 illustrating signal flows of a system for determining inertial perimeters from an inertial device (e.g., 100 , 202 ( FIGS. 1 and 2 )).
- the block diagram 500 includes a drive controller 502 that applies a drive voltage 504 to a MEMS TDS sensor 506 .
- the MEMS TDS sensor 506 can be the inertial device 100 ( FIG. 1 ) or the inertial device 202 ( FIG. 2 ), and the drive voltage 504 can be applied to the drive combs 114 ( FIG. 1 ) to oscillate a proof mass (e.g., 102 ).
- a drive sense capacitance 508 of the MEMS TDS sensor 506 is detected by a drive sense pickoff AFE 510 .
- the drive sense capacitance 508 can be a capacitance of the sense combs 118 ( FIG. 1 ).
- the AFE 510 generates an analog output 512 that is proportional to an estimate of drive amplitude.
- the analog output 512 is received by the drive controller 502 and used to adjust the drive voltage 504 to regulate the motion of the proof mass (e.g., 102 , 203 ( FIGS. 1 and 2 )) to a constant amplitude.
- the MEMS TDS sensor 506 generates a TDS capacitance 514 that is detected by a TDS AFE 516 .
- the TDS AFE 516 can be a charge amplifier (CA), a transimpedence amplifier (TIA), or a bridge with a general impedance converter (GIC).
- CA charge amplifier
- TIA transimpedence amplifier
- GIC general impedance converter
- the TDS AFE 516 produces an analog output 518 that is a representation of the TDS capacitance signal 514 .
- the analog output 518 is digitized by digitization circuitry 520 .
- the digitization circuitry 520 can be a time-to-digital converter (TDC) or an analog-to-digital converter (ADC).
- the digitization circuitry 520 produces a digital signal 522 that is a digital representation of the TDS capacitance signal 514 .
- the digital signal 522 is received by digital circuitry 524 that implements one or more TDS inertial algorithms (including the cosine, arcsine, arccosine, and arctangent algorithms) to determine amplitude, frequency, and acceleration information 526 of the MEMS TDS sensor 506 .
- FIG. 6 depicts a block diagram 600 showing signal flows and exemplary implementations of the systems and methods described herein.
- the block diagram 600 schematically depicts a MEMS structure 602 that includes a proof mass 608 and TDS structures 604 and 606 .
- the TDS structure 604 is an in-phase TDS structure and the TDS structure 606 is an out-of-phase TDS structure. In some examples, the out-of-phase TDS structure 606 may be shifted by a portion of the pitch distance.
- the proof mass 608 oscillates with its motion schematically depicted by graph 610 . As a result of the motion of the proof mass 608 , the TDS structures 604 and 606 produce non-linear capacitive signals 611 and 613 , respectively.
- the non-linear capacitive signals 611 and 613 are illustrated by graphs 612 and 614 , respectively.
- the non-linear capacitive signals 611 and 613 are received by a differential AFE 616 .
- the differential AFE 616 can be CA 618 or a TIA 620 .
- the differential AFE 616 outputs an analog signal 626 that corresponds to the difference between the non-linear capacitive signals 611 and 613 . If the AFE 616 is a CA 618 , the analog signal 626 is a voltage that represents capacitance of the TDS structures 604 and 606 , and is illustrated by the graph 622 . If the AFE 616 is a TIA 620 , the analog signal 626 is a voltage that represents a time rate of change of capacitance of the TDS structures 604 and 606 , and is illustrated by graph 624 .
- the analog signal 626 is received by a comparator 628 that outputs an rectangular-wave signal 629 based on comparing the analog signal 626 to one or more thresholds. If the AFE 616 is a CA 618 , the rectangular-wave signal 629 represents times at which the capacitance of the TDS structure 604 and 606 crosses the one or more thresholds and is illustrated by graph 630 . If the AFE 616 is a TIA 620 , the rectangular-wave signal 629 represents times at which the time rate of change of capacitance of the TDS structures 604 and 606 crosses the one or more thresholds and is illustrated by graph 634 . The rectangular-wave signal 629 is received by a time-to-digital converter (TDC) which provides digital signals representing timestamps of threshold crossings to digital circuitry that implements a cosine algorithm to determine acceleration of the inertial device 602 .
- TDC time-to-digital converter
- the analog signal 626 is received by an ADC 634 .
- the ADC 634 generates a digital signal 635 that represents the analog signal 626 . If the AFE 616 is a CA 618 , the digital signal 635 represents a capacitance of the TDS structures 604 and 636 . If the AFE 616 is a TIA 620 , the digital signal 635 represents a time rate of change of capacitance of the TDS structures 604 and 606 , and is illustrated by graph 638 .
- digital circuitry 640 receives the digital signal 635 and performs digital interpolation to determine times at which the digital signal 635 crosses a threshold, and then implements the cosine algorithm to determine proof mass displacement and/or acceleration of the inertial device 602 based on the timestamps.
- digital circuitry 642 receives the digital signal 635 and implements an arctangent algorithm to determine proof mass displacement and/or acceleration of the inertial device 602 based on the digital signal 635 .
- digital circuitry 644 receives the digital signal 635 and implements an arccosine or an arcsine algorithm to determine proof mass displacement and/or acceleration of the inertial device based on the digital signal 635 .
- a CA 618 or a TIA 620 can be used in conjunction with a comparator 628 or an ADC 634 and digital circuitry to implement the cosine algorithm, the arctangent algorithm, the arccosine algorithm, or the arcsine algorithm.
- FIG. 7 depicts a system 700 using digital control to control drive velocity.
- the system 700 includes an oscillating structure 715 .
- the oscillating structure 715 can be the drive frame 120 ( FIG. 1 ).
- the oscillating structure 715 includes drive capacitors 718 a and 718 b (collectively, drive capacitors 718 ) that cause the oscillating structure 715 to oscillate.
- the oscillating structure 715 also includes sense capacitors 717 a and 717 b (collectively, sense capacitors 717 ).
- the sense capacitors 717 produce current signals 720 and 722 which are provided to a transimpedance amplifier system 712 .
- the transimpedance amplifier system produces differential output signals that are provided to a fixed gain amplifier 728 and a low-pass filter 713 .
- the output of the low-pass filter 713 is provided to a comparator 714 which produces a rectangular-wave drive sync signal.
- the outputs of the fixed gain amplifier 728 are provided to a kick-start subsystem 740 .
- the kick-start subsystem 740 includes a set of switches and a high voltage kick-start pulse sequence used to initiate oscillations of the oscillating structure 715 .
- the kick-start subsystem 740 simply passes the outputs of the fixed gain amplifier 728 on as the drive signals 724 and 726 .
- the drive signals 724 and 726 are provided to the drive capacitors 718 and cause the drive capacitors 718 to drive the oscillating structure 715 into oscillation.
- the system 700 includes a digital automatic gain control loop 730 .
- the digital automatic gain control loop 730 includes amplitude computation circuitry 732 .
- the amplitude computation circuitry 732 uses time intervals from nonlinear periodic capacitors such as the TDS structures (e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )) to determine amplitude of the oscillations of the oscillating structure 715 .
- the amplitude computation circuitry 732 produces an amplitude output which is subtracted from a desired amplitude at block 734 to produce an error signal which is provided to a digital controller 736 .
- the digital controller 736 can use proportional-integral-derivative (PID) control to adjust a bias voltage 738 that is provided to the common mode offset terminals of the amplifier 728 and the amplifier in the amplifier system 712 .
- PID proportional-integral-derivative
- the system 700 maintains a desired drive amplitude.
- the system 700 could also maintain a desired drive frequency.
- By controlling drive amplitude and/or frequency, the velocity of the oscillating structure 715 is controlled.
- FIG. 8 depicts a block diagram 800 representing signal flows and transfer functions of the system 700 ( FIG. 7 ).
- the block diagram 800 includes a MEMS dynamics block 802 reflecting the transfer function of force into oscillator velocity.
- the oscillator velocity from the MEMS dynamics block 802 is provided to a sense capacitor block 804 which includes a transfer function for transferring oscillator velocity into sense current.
- the sense current produced by the sense capacitor block 804 is provided to a transimpedance amplifier block 806 which converts sense current into a sense voltage.
- the sense voltage is provided to a fixed gain amplifier block 808 which converts the sense voltage into an AC voltage to power the drive capacitors.
- the AC voltage is provided to a symmetric drive block 810 which represents the drive capacitors.
- the symmetric drive 810 transforms the AC voltage into a force acting on the oscillator.
- the block diagram 800 also includes TDC timing values 812 provided to an amplitude computation block 814 .
- the amplitude computation block 814 computes an amplitude which is provided to a summing block 816 .
- the summing block 816 subtracts the computed amplitude from an amplitude setpoint and provides an output error to a PID controller block 818 .
- the PID controller block 818 provides a drive voltage control setting to the sense capacitor block 804 and the symmetric drive block 810 .
- FIG. 9 schematically depicts a feedback loop 900 that represents the closed-loop feedback of the system 700 ( FIG. 7 ).
- the feedback loop 900 includes a drive voltage block 910 that provides a voltage to drive capacitors.
- the drive voltage produced by the drive voltage block 910 results in a force 902 that is in phase with the drive voltage 910 .
- the force 902 produces a proof mass displacement 904 that has a ⁇ 90° phase offset from the force 902 .
- the proof mass displacement 904 produced a sense current 906 that has a +90° phase offset from the proof mass displacement 904 .
- the sense current 906 is in phase with the drive voltage 910 and the force 902 .
- a transimpedance amplifier 908 produces a voltage based on the sense current 906 that is approximately in phase with the sense current 906 .
- the voltage produced by the transimpedance amplifier 908 is provided to the drive voltage block 910 , which adjusts the drive voltage accordingly.
- appropriate phase offsets are maintained throughout the feedback loop 900 .
- Interdigitated electrode (IDE) capacitors provide a means for driving and sensing inertial motion of a MEMS proof mass.
- the drive combs 114 ( FIG. 1 ) and the sense combs 118 ( FIG. 1 ) are examples of IDE capacitors. Expressions for the IDE capacitance and associated gradient terms of each of the drive combs 114 ( FIG. 1 ) and each of the sense combs 118 ( FIG. 1 ) are shown in equations 7-14.
- the capacitance and gradient in capacitance of the left-side drive combs (e.g., 114 a ( FIG. 1 )) is given by equations 7 and 8.
- C DL N ⁇ ⁇ ⁇ h ⁇ ( g o - x ) d + C fringeDL ⁇ [ F ] [ 7 ]
- Equation 9 The capacitance and gradient in capacitance of the right-side drive combs (e.g., 114 b ( FIG. 1 )) is given by equations 9 and 10.
- Equation 20 generally provides an adequate representation of the mechanical behavior of the proof mass.
- Motion of the proof mass causes a change in capacitance of the drive sense electrodes (e.g., 118 ( FIG. 1 )).
- the drive sense electronics maintain a fixed bias voltage across the drive sense electrodes, which in turn produces a detectable motion-induced current as shown in equations 22 and 23.
- the first-stage amplifier converts this transduced current of equations 24 and 25 into a voltage signal.
- the voltage at the output terminals of the amplifier (non-inverting/inverting, respectively) is given by equations 26 and 27.
- the feedback impedance transfer function, Z F determines the gain and phase lag introduced into the closed loop drive as shown in equation 28. The goal is to provide an adequate gain with minimal imposed phase lag.
- a secondary gain stage provides an additional signal boost ( ⁇ ) along with a required signal inversion.
- ⁇ additional signal boost
- ⁇ positive AC voltage change
- the output signals following the secondary stage are oriented such that the detected sense current provides the necessary reinforcing drive behavior (see FIG. 7 ).
- a comparator is used to extract a timing reference signal (i.e., a “sync” trigger) used to coordinate the processing of timing events in one or more of the cosine, arcsine, arccosine, and arctangent algorithms.
- a timing reference signal i.e., a “sync” trigger
- the timing reference signal tracks proof mass velocity because sense current is directly proportional the rate of change of MEMS displacement (see equation 23).
- a digital proportional-integral-derivative (PID) controller compares an active measurement of proof mass displacement amplitude (obtained by one or more of the cosine, arcsine, arccosine, and arctangent algorithms) to a desired setpoint level to produce an error signal.
- the PID controller determines a computed drive voltage level based on the error signal. With the appropriate setting of the PID coefficients, feedback action drives the steady-state error signal to zero thus enforcing automatic regulation of the displacement amplitude.
- the loop In general, for steady-state oscillation, the loop must satisfy the Barkhausen stability criteria, which are necessary by not sufficient conditions for stability.
- the Barkhausen criteria require, first, that the magnitude of the loop gain,
- , is equal to unity and, second, that the phase shift around the loop is zero or an integer multiple of 2 ⁇ : ⁇ T(j ⁇ ) 2 ⁇ n, n ⁇ 0, 1, 2 . . . .
- V DC m ⁇ ⁇ ⁇ o 2 ⁇ QR F ⁇ ⁇ C S ⁇ ⁇ C D ⁇ ⁇ + V Proof [ 29 ]
- the electronics can induce a phase shift which can move the oscillation frequency away from the desired mechanical resonance frequency.
- a transimpedance amplifier will cause a phase lag which produces a negative frequency shift as shown in equations 30 and 31.
- ⁇ S - tan - 1 ⁇ ( ⁇ ⁇ ⁇ R F ⁇ C F ) ⁇ [ rad ] [ 30 ]
- ⁇ * positive ⁇ ⁇ root ⁇ ⁇ ⁇ 2 + ⁇ ⁇ ⁇ o Q ⁇ ⁇ tan ⁇ ( ⁇ ⁇ ⁇ ⁇ S - ⁇ 2 ) - ⁇ o 2 ⁇ ⁇ [ rad sec ] [ 31 ]
- a charge amplifier produces a positive frequency shift resulting from its induced phase lead, as shown in equation 32.
- the gain loss is a measure of the degradation of the mechanical displacement resulting from a phase-shifted isolation frequency ⁇ * as shown in equation 33 and 34.
- FIG. 10 depicts a Bode plot with a magnitude graph 1000 and a phase graph 1050 .
- the magnitude graph 1000 depicts the magnitude of the transfer function of equation 34 at various quality factors Q.
- the phase graph 1050 depicts the phase of the transfer function of equation 34 as a function of frequency for various quality factors Q.
- FIG. 11 depicts a graph 1100 showing the change in oscillation frequency as a function of phase shift for various quality factors Q. As the quality factor decreases, the oscillation frequency exhibits a greater dependence on the phase shift.
- FIG. 12 depicts a graph 1200 showing the gain loss as a function of phase shift. As the quality factor Q increases, the gain loss becomes more dependent on phase shift. Thus, for a given phase shift, low-Q resonators demonstrate a larger shift in oscillation frequency with minimal loss of displacement amplitude. The contrary is true for high-Q devices; gain loss is more severe while oscillation frequency deviation remains small.
- FIG. 13 depicts a graph 1300 illustrating a start-up procedure of a resonating proof mass (e.g., 102 , 203 , 608 ( FIGS. 1, 2, and 6 )).
- the resonator's start-up procedure includes a sequence of open-loop high-voltage pulses that are alternately applied to left and right drive capacitors (e.g., 114 a and 114 b, respectively ( FIG. 1 )) at the expected resonant frequency of the proof mass (e.g., 102 , 203 , 608 ( FIGS. 1, 2, and 6 )).
- the pulses are applied with a duty cycle of approximately 20-25%.
- the graph 1300 includes a left comb drive voltage curve 1302 and a right comb drive voltage curve 1304 .
- the graph 1300 also includes a time 1306 at which the open-loop start-up sequence ends and the resonator is oscillated in closed-loop drive mode at a lower voltage.
- the graph 1300 also includes a time interval 1308 depicting the settling time of the resonator, corresponding to the time required for the resonator to enter into steady-state oscillations. In the example depicted in FIG. 13 , the settling time interval 1308 is approximately 10 milliseconds from initiation of the start-up sequence. As depicted in FIG.
- an initial set of open-loop high-voltage drive pulses are used to rapidly increase the amplitude of the oscillation of the proof mass.
- the left and right comb drive voltage curves 1302 and 1304 include alternating pulses, so that the proof mass (e.g., 102 , 203 , 608 ( FIGS. 1, 2, and 6 )) is driven for a greater proportion of the time.
- the symmetric pulse depicted in FIG. 13 rapidly drives the proof mass (e.g., 102 , 203 , 608 ( FIGS. 1, 2, and 6 )) from rest to an amplitude close to the desired steady-state amplitude prior to engaging the digital closed-loop controller.
- FIG. 13 an initial set of open-loop high-voltage drive pulses are used to rapidly increase the amplitude of the oscillation of the proof mass.
- the left and right comb drive voltage curves 1302 and 1304 include alternating pulses, so that the proof mass (e.g., 102 , 203 , 608
- the digital closed-loop controller is engaged to regulate the displacement amplitude of the proof mass (e.g., 102 , 203 , 608 ( FIGS. 1, 2, and 6 )) to the desired level.
- the number of required pulses and rate are predetermined for a given inertial device (e.g., 100 , 202 , 602 ( FIGS. 1, 2, and 6 )). Pulse rate can be adjusted based on temperature and/or previously measured data, such as resonant frequency.
- FIG. 14 depicts a graph 1400 showing sense signals of an inertial device (e.g., 100 , 202 , 602 ( FIGS. 1, 2, and 6 )) during resonator start-up.
- the graph 1400 includes a drive sense signal 102 , a drive velocity curve 1404 , a proof mass displacement curve 1406 , and a sense current curve 1408 .
- the graph 1400 also includes a time 1410 at which the open-loop start-up ends and the digital closed-loop controller is engaged.
- the time 1410 corresponds to the time 1306 ( FIG. 13 ).
- the open-loop sequence prior to the time 1410 lasts approximately 7 milliseconds and the proof mass (e.g., 102 , 203 , 608 ( FIGS.
- the proof mass (e.g., 102 , 203 , 608 ( FIGS. 1, 2, and 6 )) is rapidly brought to the desired oscillation amplitude.
- a TDS algorithm e.g., one or more of the cosine, arcsine, arccosine, and arctangent algorithms
- a digital proportional-integral-derivative (PID) scheme can provide effective closed-loop regulation of resonator oscillation.
- the digital controller e.g., 736 , 818 ( FIGS. 7 and 8 ) is derived from an equivalent continuous time PID controller design.
- the digital controller (e.g., 736 , 818 ( FIGS. 7 and 8 )) accepts digital displacement measurements that are subtracted from a desired setpoint to produce an error signal, which is processed to produce an updated drive DC voltage setting (V DC ).
- the drive force is proportional to the DC and AC drive voltage levels.
- the DC drive voltage is controlled using a digital potentiometer and a buffer circuit.
- the controller's maximum update rate is set by the sample rate, which is in turn determined by the resonant frequency of the proof mass (e.g., 102 , 203 , 608 ( FIGS. 1, 2, and 6 )).
- the digital controller (e.g., 736 , 818 ( FIGS. 7 and 8 )) determines the DC drive voltage according to equation 35 below.
- v DC ⁇ ( t ) K p ⁇ e ⁇ ( t ) + K i ⁇ ⁇ 0 t ⁇ e ⁇ ( ⁇ ) ⁇ ⁇ ⁇ ⁇ + K d ⁇ ⁇ ⁇ t ⁇ e ⁇ ( t ) ⁇ [ V ] [ 35 ]
- e(t) is the difference between the desired setpoint and the measured displacement.
- Equation 36 The Laplace transform of equation 35 is shown in equation 36.
- V DC ⁇ ( s ) [ K p + K i s + sK d ] ⁇ E ⁇ ( s ) [ 36 ]
- the Z-transform is more appropriate and is shown in equation 37.
- V DC ⁇ ( z ) [ K p + K i 1 - z - 1 + ( 1 - z - 1 ) ⁇ K d ] ⁇ E ⁇ ( z ) [ 37 ]
- Equation 37 can be rearranged as shown in equation 38.
- V DC ⁇ ( z ) [ ( K p + K i + K d ) - ( K p + 2 ⁇ K d ) ⁇ z - 1 + K d ⁇ z - 2 ] 1 - z - 1 ⁇ E ⁇ ( z ) [ 38 ]
- the digital PID coefficients can be defined in terms of the more intuitive continuous-time coefficients as shown in equations 39, 40, and 41.
- K 1 K p +K L +K d [39]
- Equations 39, 40, and 41 can be used to rewrite equation 38 as shown in equation 42.
- V DC ( z ) ⁇ z ⁇ 1 V DC ( z ) [ K 1 +K 2 z ⁇ 1 +K 3 z ⁇ 2 ]E ( z ) [42]
- Equation 42 can be converted to a difference equation suitable for implementation as shown in equation 43.
- v DC ( n ) v DC ( n ⁇ 1)+ K 1 e ( n )+ K 2 e ( n ⁇ 1)+ K 3 e ( n ⁇ 2) [43]
- the digital error signal e(n) in equation 43 represents the difference between the desired displacement and displacement amplitude measurements, as shown in equation 44.
- the block diagram 800 ( FIG. 8 ) can be used to determine a V DC gain setting required to stabilize the closed-loop drive when the digital loop converges to steady state as shown in equation 45 and 46.
- V DC m ⁇ ⁇ ⁇ o 2 ⁇ QR F ⁇ ⁇ C S ⁇ ⁇ C D ⁇ ⁇ + V Proof [ 46 ]
- PID perimeters can be performed either manually or automatically using additional algorithms to obtain adequate enclosed-loop performance.
- a good regulator design should provide a favorable balance between robust stability and rejection of disturbances in the resonator's displacement amplitude.
- FIG. 15 depicts a system 1500 that includes two TDS structures and a graph 1550 that depicts capacitance profiles of the TDS structures.
- the system 1500 includes an in-phase TDS structure 1501 and an out-of-phase TDS structure 1503 .
- the system 1500 includes a fixed beam 1502 and a movable beam 1504 .
- the in-phase TDS structure 1501 includes movable teeth 1510 a, 1510 b, and 1510 c (collectively, movable teeth 1510 ) on the movable beam 1504 and fixed teeth 1506 a, 1506 b, and 1506 c (collectively, fixed teeth 1506 ) on the fixed beam 1502 .
- the out-of-phase TDS structure 1503 includes movable teeth 1512 a, 1512 b, 1512 c, and 1512 d (collectively, movable teeth 1512 ) on the movable beam 1504 and fixed teeth 1508 a, 1508 b, and 1508 c (collectively, fixed teeth 1508 ) on the fixed beam 1502 .
- the fixed beam 1502 is connected by an anchor (not shown) to a top layer (not shown) and/or a bottom layer (not shown).
- the movable beam 1504 is connected by a spring 1514 a to an anchor 1516 a and by a spring 1514 b to an anchor 1516 b.
- the movable beam 1504 oscillates as shown by the arrow 1505 .
- FIG. 15 depicts pitch distances 1518 a, 1518 b, 1518 c, and 1518 d, all of which are equal, and any of which can be referred to as the pitch distance 1518 .
- the graph 1550 illustrates the variation of capacitance of the TDS structures 1501 and 1503 with displacement of the movable beam 1504 .
- the graph 1550 includes capacitance curves 1552 and 1554 corresponding to capacitance of the TDS structures 1501 and 1503 , respectively.
- the graph 1550 includes a pitch distance 1556 , corresponding to the pitch distance 1518 .
- the graph 1550 includes displacement levels 1556 , 1558 , 1560 , 1562 , 1564 , 1566 , 1568 , 1570 , 1572 , 1574 , 1576 , 1578 , and 1580 , spaced by one-fourth the pitch distance 1556 .
- the capacitance curve 1554 is 180° out of phase from the capacitance curve 1552 .
- the out-of-phase capacitance curve 1554 can be subtracted from the in-phase capacitance curve 1552 to generate a differential capacitance signal.
- the quantity d 0 is defined by equation 47.
- FIG. 16 depicts a system 1600 for determining acceleration with a TIA.
- the system 1600 includes an inertial device 1602 which can include any or all of the features of the inertial devices described herein (e.g., 100 , 202 , 602 ( FIGS. 1, 2, and 6 )).
- the inertial device 1602 includes a proof mass 1604 which can include any or all of the features of the proof masses as described herein (e.g., 102 , 203 , 608 ( FIGS. 1, 2, and 6 )).
- the inertial device 1602 includes an in-phase TDS structure 1606 and an out-of-phase TDS structure 1608 .
- the TDS structures 1606 and 1608 can include any and all the features of the TDS structures described herein (e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 ( FIGS. 1, 2, 5, 6, and 15 )).
- the TDS structures 1606 and 1608 produce analog output signals 1626 and 1628 , respectively.
- the analog output signals 1626 and 1628 are received by a differential transimpedance amplifier 1610 .
- the differential transimpedance amplifier 1610 includes an operational amplifier 1638 , feedback resistors 1632 and 1636 and feedback capacitors 1634 and 1630 .
- the values of the feedback capacitor 1630 and the feedback resistor 1632 are selected to satisfy equation 48, where coo is the oscillation frequency of the proof mass 1604 .
- the values of the feedback capacitor 1634 and the feedback resistor 1636 are also chosen to satisfy equation 48.
- the transimpedance amplifier 1610 generates an in-phase TIA output signal 1612 and an out-of-phase TIA output signal 1613 .
- the TIA output 1612 and 1613 are received by a low-pass filter 1614 which removes higher-frequency components to generate respective analog signals 1616 and 1617 .
- the analog signals 1615 and 1617 are received by a comparator 1616 which compares the two signals and generates a rectangular-wave signal 1618 with pulse edges corresponding to times at which a difference of the output signals 1612 and 1613 crosses zero.
- the rectangular-wave signal 1618 is received by a TDC 1620 which generates digital timestamps of rising and falling edges of the rectangular-wave signal 1618 .
- the TDC 1620 receives a sync signal 1622 comprising a sync pulse and uses the sync pulse as an index for determining the timestamps.
- the timestamps generated by the TDC 1620 are received by digital circuitry 1624 which implements the cosine algorithm to determine inertial parameters, including acceleration of the inertial device 1602 .
- the system 1600 can reject common-mode noise.
- FIG. 17 depicts a graph 1700 illustrating signals of the system 1600 ( FIG. 16 ).
- the graph 1700 includes a displacement curve 1702 , an in-phase TIA output curve 1704 and an out-of-phase TIA output curve 1706 .
- the displacement curve 1702 illustrates the motion of the proof mass 1604 with respect to time. As the proof mass 1604 oscillates, the in-phase TIA output curve 1704 and the out-of-phase TIA output curve 1706 also oscillate and cross each other.
- the graph 1700 includes an pulse signal 1708 that represents the rectangular-wave signal 1618 generated by the comparator 1616 .
- the graph 1700 includes points 1710 , 1712 , 1714 , 1716 , 1718 , 1720 , 1722 and 1724 , each corresponding to an integral multiple of the quantity d 0 , which is defined as one-half of the pitch distance of the TDS structures 1606 and 1608 ( FIG. 16 ).
- the in-phase TIA output curve 1704 crosses the out-of-phase TIA output curve 1706
- the pulse signal 1708 changes value, when the proof mass 1604 ( FIG. 16 ) is at distances from its rest position that are equal to integer multiples of d 0 .
- the motion of the proof mass 1604 ( FIG. 16 ) can be determined from crossings of the TIA output curves 1704 and 1706 independently of bias voltage applied to the TDS structures 1606 and 1608 ( FIG. 16 ).
- FIG. 18 depicts a system 1800 for determining acceleration with a CA.
- the system 1800 includes an inertial device 1802 which can include any or all of the features of the inertial devices described herein (e.g., 100 , 202 , 602 ( FIGS. 1, 2, and 6 )).
- the inertial device 1802 includes a proof mass 1804 which can include any or all of the features of the proof masses as described herein (e.g., 102 , 203 , 608 ( FIGS. 1, 2, and 6 )).
- the inertial device 1802 includes an in-phase TDS structure 1806 and an out-of-phase TDS structure 1808 .
- the TDS structures 1806 and 1808 can include any and all the features of the TDS structures described herein (e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 ( FIGS. 1, 2, 5, 6, 15, and 16 )).
- the TDS structures 1806 and 1808 produce analog output signals 1826 and 1828 , respectively.
- the analog output signals 1826 and 1828 are received by a differential charge amplifier 1810 .
- the differential charge amplifier 1810 includes an operational amplifier 1838 , feedback resistors 1832 and 1836 and feedback capacitors 1834 and 1830 .
- the values of the feedback capacitor 1830 and the feedback resistor 1832 are selected to satisfy equation 49, where ⁇ 0 is the oscillation frequency of the proof mass 1804 .
- the values of the feedback capacitor 1834 and the feedback resistor 1836 are also chosen to satisfy equation 49.
- the charge amplifier 1810 generates an in-phase TIA output signal 1812 and an out-of-phase TIA output signal 1813 .
- the TIA output 1812 and 1813 are received by a low-pass filter 1814 which removes higher-frequency components to generate respective analog signals 1816 and 1817 .
- the analog signals 1815 and 1817 are received by a comparator 1816 which compares the two signals and generates a rectangular-wave signal 1818 with pulse edges corresponding to times at which a difference of the output signals 1812 and 1813 crosses zero.
- the rectangular-wave signal 1818 is received by a TDC 1820 which generates digital timestamps of rising and falling edges of the rectangular-wave signal 1818 .
- the TDC 1820 receives a sync signal 1822 comprising a sync pulse and uses the sync pulse as an index for determining the timestamps.
- the timestamps generated by the TDC 1820 are received by digital circuitry 1824 which implements the cosine algorithm to determine inertial parameters, including acceleration of the inertial device 1802 .
- the system 1800 can reject common-mode noise.
- FIG. 19 depicts a graph 1900 illustrating signals of the system 1800 ( FIG. 18 ).
- the graph 1900 includes a displacement curve 1902 , an in-phase TIA output curve 1904 and an out-of-phase TIA output curve 1906 .
- the displacement curve 1902 illustrates the motion of the proof mass 1804 ( FIG. 18 ) with respect to time. As the proof mass 1804 ( FIG. 18 ) oscillates, the in-phase TIA output curve 1904 and the out-of-phase TIA output curve 1906 also oscillate and cross each other.
- the graph 1900 includes a pulse signal 1908 that represents the rectangular-wave signal 1818 ( FIG. 18 ) generated by the comparator 1816 ( FIG. 18 ).
- the graph 1900 includes points 1910 , 1912 , 1914 , 1916 , 1918 , 1920 , 1922 and 1924 , each corresponding to a proof mass displacement that satisfies the quantity d 0 (n+1 ⁇ 2), where d 0 is defined as one-half of the pitch distance of the TDS structures 1806 and 1808 ( FIG. 18 ) and n is an integer.
- d 0 is defined as one-half of the pitch distance of the TDS structures 1806 and 1808 ( FIG. 18 ) and n is an integer.
- the in-phase TIA output curve 1904 crosses the out-of-phase TIA output curve 1906 , and the pulse signal 1908 changes value, when the proof mass 1804 ( FIG. 18 ) is at distances from its rest position that satisfy the quantity d 0 (n+1 ⁇ 2).
- the motion of the proof mass 1804 ( FIG. 18 ) can be determined from crossings of the TIA output curves 1904 and 1906 independently of bias voltage applied to the TDS structures 1806 and 1808
- the circuit topology is the same but the feedback time constant of the charge amplifier is selected such that its frequency pole is placed at frequencies much lower than the resonant frequency of the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )), as shown in equation 49.
- This ensures that the motion-induced current is integrated to produce an output that is proportional to the time-varying capacitance of the TDS structures (e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )).
- the time integral of current is charge, integrating the motion-induced current can be also described as charge amplification.
- a TDS structure e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )
- a mechanical oscillator to generate a time-varying periodic capacitive signal.
- the period of the capacitive signal is based on the geometry of the TDS structure, which is fixed by the fabrication process. This enables an inertial device to have stability and insensitivity to variations in amplitude and frequency of the oscillator.
- the time-varying capacitive signal is measured due to determine inertial parameters such as acceleration and rotation of the inertial device.
- discrete-time systems and methods such as switched capacitor amplifiers and commutating, or chopping, modulating techniques are used to measure the time-varying capacitive signal.
- a bridge with a general impedance converter (GIC) can be used.
- GIC general impedance converter
- continuous-time architectures such as a transimpedance amplifier or a charge amplifier can be used.
- an inertial device e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16 , and 18 )
- a proof mass e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )
- a TDS structure e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )
- TDS structure e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )
- can measure position of the proof mass by converting a motion-induced capacitive current from the TDS structure to a voltage using the TI
- the total capacitive current (e.g., 1626 , 1628 ( FIG. 16 )) is determined by the time-derivative of the charge of the relevant capacitor (e.g., TDS structures, 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )).
- Capacitor charge (Q) is the product of capacitance (C) and voltage potential across the capacitor (V C ) as shown in equation 50.
- the capacitive current (e.g., 1626 , 1628 ( FIG. 16 )) is approximately equal to the product of the gradient of the physical capacitor (dC/dx), the velocity of the proof mass ( ⁇ dot over (x) ⁇ ), and the fixed potential across the capacitor (V C ).
- the capacitor design can include structures that force the capacitive gradient (dC/dx) to zero at geometrically fixed locations. Thus, as long as the voltage across the capacitor (V C ) is not zero and the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS.
- Equation 52 can be rewritten as equation 53.
- ⁇ i ⁇ t ( ⁇ 2 ⁇ C ⁇ x 2 ⁇ x . 2 + ⁇ C ⁇ x ⁇ x ⁇ ) ⁇ V C [ 53 ]
- the rate of change of the capacitive current is proportional to the voltage across the capacitor (V C ), the curvature of the spatial capacitance (d 2 C/dx 2 ), and the square of the proof mass velocity ( ⁇ dot over (x) ⁇ 2 ). It is also in proportion to the gradient (dC/dx) of the capacitance and the acceleration of the proof mass ( ⁇ dot over (x) ⁇ ).
- the peak curvature of the capacitance occurs when the proof mass is near a position in which the capacitive gradient approaches zero and this coincides with a zero acceleration and maximum velocity condition. Therefore, equation 53 can be approximated as shown in equation 54.
- An accurate measurement of the time associated with a zero-crossing of the current can be used to determine acceleration of the inertial device (e.g., 100 , 202 , 602 , 1602 and 1802 ).
- These zero-crossing times correspond to fixed physical displacements of the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )) located at integer multiples of one-half of the pitch, where the pitch is the periodic spacing of the teeth in the TDS structure (e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )).
- FIG. 15 depicts an example of differential TDS structures 1501 and 1503 having a pitch 1518 .
- a differential TIA can be implemented as depicted in FIG. 16 .
- the time constant of the feedback impedance (e.g., 1630 , 1632 , 1634 , 1636 ) sets the bandwidth of the TIA 1610 .
- the design of the TIA 1610 can balance several competing variables which can influence the performance of the sensor. For example, a large feedback resistance (e.g., 1632 , 1636 ) improves the signal gain, but also reduces bandwidth and reduces noise.
- the bandwidth must be large enough to pass the spectral content of the capacitive signal (e.g., 1626 , 1628 ) without attenuation and frequency-dependent phase shift. Signal attenuation will reduce signal slope which in turn will increase the measurement uncertainty of the zero-crossing. Excessive phase shift can distort the measured times leading to harmonic distortion of the output signals (e.g., 1612 , 1613 ) of the TIA 1610.
- an inertial device (e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16 , and 18 )) can include signal processing circuitry such as a charge amplifier that generates an output voltage that is proportional to the time-varying capacitance signal of a TDS structure (e.g., 105 , 207 , 506 , 604 , 606 , 801 , 1503 , 1606 , 1608 , 1806 , 1808 ).
- This architecture for signal processing circuitry can be referred to as a capacitance-to-voltage (C-to-V) architecture.
- bridge circuits may be used to determine times at which a proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )) is at positions at which the capacitance of structures (e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )) have equivalent values (i.e., become balanced).
- a proof mass e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )
- the capacitance of structures e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )
- this balancing may occur when in-phase TDS structures (e.g., 604 , 1501 , 1606 , 1806 ) have equivalent capacitance values as out-of-phase TDS structures (e.g., 606 , 1503 , 1608 , 1808 ).
- in-phase capacitance curve 1552 crosses the out-of-phase capacitance curve 1554 at odd multiples of displacement increments of one-fourth of the pitch.
- C-to-V signal processing circuit is a charge amplifier (e.g., 1810 ).
- the charge amplifier 1810 shares the same circuit topology as the transimpedance amplifier 1610 , but the charge amplifier 1810 has a pole location that is at very low frequencies. The pole location is determined by the time constant of the feedback impedance (e.g., 1830 , 1832 , 1834 , 1836 ).
- the charge amplifier 1810 has a low frequency pole occurring at a frequency much lower than the mechanical resonant frequency of the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )).
- the current amplifier 1810 can operate to integrate current, which is operationally equivalent to charge amplification.
- the pole placement is selected to be much lower than the mechanical resonant frequency of the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )) and sufficiently low so as not to impose phase shift on the time-varying capacitive signal (e.g., 1826 , 1828 ).
- the ratio of bias voltage (set by operational amplifier common mode voltage) to the feedback capacitor value determines the gain (i.e., volts per Farad), of the output signal (e.g., 1812 , 1813 ).
- a smaller value of feedback capacitance (e.g., 1830 , 1834 ) and/or a larger bias voltage will increase the signal gain.
- noise is largely determined by the value of the feedback capacitor (e.g., 1830 , 1834 ), especially if this value is quite small.
- the feedback capacitor's contribution to output RMS noise is proportional to sqrt(kT/C F ).
- Other factors such as operational amplifier current and voltage noise density, parasitic capacitance, and low-pass filtering also affect the signal-to-noise ratio.
- the inertial parameters of the inertial device e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16, and 18 )
- the differential TDS structures e.g., 1806 , 1808
- the capacitor gradients i.e.
- an inertial device e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS.
- 1, 2, 6, 16, and 18 can have a proof mass of (e.g., 102 , 203 , 608 , 1604 , 1804 ) with a 1.2 kHz resonant frequency and a drive displacement amplitude of 12 microns. If this inertial device experiences a 1 g DC acceleration and 0.5 g and 0.2 g sinusoidal inputs at 2.5 Hz and 33.1 Hz respectively, the inertial device can have a noise level of approximately 10 ⁇ g/rtHz.
- inertial parameters can be determined from zero-crossing times by using transimpedance amplifiers, charge amplifiers, or switched capacitors to convert analog input signals to analog voltages.
- a comparator and a TDC can be used to measure zero-crossing times as digital inputs to digital circuitry implementing zero-crossing times as digital inputs to digital circuitry implementing a cosine algorithm.
- an ADC can be used in place of the comparator and TDC to digitize the analog voltages and to produce time measurements in the digital domain.
- Digital signal processing techniques such as upsampling and interpretation, may be used to enhance the accuracy of ADC zero-crossing detection.
- the methods and systems described herein utilize the periodic nature of the motion of a proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )), in conjunction with TDS structures (e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )) that generate capacitive signals (e.g., 1626 , 1628 , 1826 , 1828 ) with measureable timing events.
- a proof mass e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )
- TDS structures e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808
- the timing events can be zero-crossings and can correspond to fixed spatial locations at known multiples of half-pitch and/or quarter-pitch spacing of the TDS structure.
- the underlying mathematical formulations behind the methods assume that the displacement offset due to an input acceleration of the inertial device of (e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16, and 18 )) is constant over the duration of the resonant period, and that the sinusoidal proof mass motion is spectrally pure.
- the methods rely on approximations that assume that the input offset is quasi-static, exhibiting change much slower than the time scale of the resonant period. If the input offset changes more rapidly, this can result in an increased harmonic distortion of output signals.
- the cosine algorithm can be implemented as described below, but can also be implemented with other forms of timing intervals, each having implications for noise, frequency response, and harmonic distortion performance.
- the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )) can be modeled as a simple harmonic oscillator experiencing a quasi-static input acceleration, and the steady-state displacement response of the proof mass takes the form of a sinusoidal signal with displacement amplitude ( ⁇ x) and constant offset ( ⁇ d) as shown in equation 55.
- quasi-static displacement accelerations are inertial excitations evolving over time scales much longer than the resonant period of oscillation (i.e., frequency is approaching the zero).
- the relationship between input acceleration ( ⁇ umlaut over (x) ⁇ ) and physical offset is represented by equation 56.
- FIG. 20 depicts a graph 2000 illustrating displacement of a proof mass and TDS timing events.
- the graph 2000 includes a displacement curve 2002 corresponding to displacement of the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )).
- the graph 2000 also includes timing events 2004 , 2006 , 2008 and 2010 that correspond to threshold crossing times, which can be determined using the systems and methods described with reference to FIGS. 4, 6, 15, 16, 17, 18, and 19 .
- the graph 2000 also includes time intervals 2012 , 2014 , 2024 and 2026 , and these points 2016 , 2018 , 2020 and 2022 used in the systems and method described herein.
- the inertial device (e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16, and 18 )) provides measurements of times at which the proof mass crosses four known physical location (e.g., 2004 , 2006 , 2008 , and 2010 ) as dictated by the geometry of the TDS structure (e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )).
- These known physical locations correspond to a specific spatial phase points (e.g., 2016 , 2018 , 2020 and 2024 ).
- the measured time intervals can be used to determine an input acceleration of the inertial device.
- the input acceleration can be directly determined while eliminating dependence on displacement amplitude ( ⁇ x) and frequency. This is because information about the period of the oscillation of the proof mass is actively measured each cycle by measuring the time intervals 2024 , 2026 .
- the time intervals are measured with respect to the peak of the cosine carrier signal or oscillation of the proof mass, and the static input offset assumption ensures symmetry about the peak. Equations 57, 58, 59, and 60 can be used to express the relationships between physical locations, phase points, measured time intervals and oscillation offset.
- the resonant frequency is inversely related to the resonant period and can be measured independently using time intervals 2024 and 2026 as shown in equation 61.
- the average resonant frequency estimated can be determined from the average measured period as shown in equation 62.
- equation 63 equations 59 and 58 are added and trigonometric sum-to-product formulas are applied.
- equation 64 equations 60 and 57 are added and trigonometric sum-to-product formulas are applied.
- equation 65 By subtracting equation 64 from equation 63 and incorporating equation 61, the dependence on offset ( ⁇ d) can be eliminated and an expression for the displacement amplitude can be obtained as shown in equation 65.
- the subscript indicates the current measurement cycle.
- equation 66 By adding equations 63 and 64 and substituting the expression for displacement amplitude, an expression for displacement offset (( ⁇ d) can be obtained as shown in equation 66.
- ⁇ ⁇ ⁇ d d 1 + d 2 + d 3 + d 4 4 - ⁇ ⁇ ⁇ x 2 ⁇ [ cos ⁇ ( ⁇ T 2 ⁇ ( t 3 + t 2 ) ) ⁇ cos ⁇ ( ⁇ T 2 ⁇ ⁇ 32 ) + cos ⁇ ( ⁇ T 1 ⁇ ( t 4 + t 1 ) ) ⁇ cos ⁇ ( ⁇ T 1 ⁇ ⁇ 41 ) ] [ 66 ]
- Equation 66 can be rearranged as shown in equation 67.
- ⁇ ⁇ ⁇ ⁇ d d 1 + d 2 + d 3 + d 4 4 - ( d 3 + d 2 - d 4 - d 1 2 ) ⁇ [ ⁇ cos ⁇ ( ⁇ T 2 ⁇ ( t 3 + t 2 ) ) ⁇ cos ⁇ ( ⁇ T 2 ⁇ ⁇ 32 ) + cos ⁇ ( ⁇ T 1 ⁇ ( t 4 + t 1 ) ) ⁇ cos ⁇ ( ⁇ T 1 ⁇ ⁇ 41 ) cos ⁇ ( ⁇ T 2 ⁇ ( t 3 + t 2 ) ) ⁇ cos ⁇ ( ⁇ T 2 ⁇ ⁇ 32 ) - cos ⁇ ( ⁇ T 1 ⁇ ( t 4 + t 1 ) ) ⁇ cos ⁇ ( ⁇ T 1 ⁇ 41 ) ⁇ ] [ 67 ]
- the output of TDS structures includes measurable zero-crossings for every traversal of a proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )) past a given spatial reference point (d 0 ).
- the timing intervals for zero-crossings corresponding to the traversal of the same spatial reference point are symmetric about the maxima and minima of the displacement curve or the analog output signal (e.g., 611 , 613 , 1626 , 1628 , 1826 , 1828 ( FIGS. 6, 16, and 18 )). Therefore, the timing intervals used in the cosine method (e.g., T 1 , T 2 , T 3 , and T 4 of equations 61-68) are one-half of these timing intervals between zero-crossings.
- the d 0 spatial reference points can include teeth of the TDS structures ( 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )).
- the motion-induced current produced by the TDS structure e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS.
- a capacitance-to-voltage or charge-amplifier conversion device would produce zero-crossings that correspond to odd multiples of the quarter-pitch spacing of the TDS structure. Fabrication-induced variations can modify the effective d 0 scale factor used in implementing the cosine algorithm. This is accounted for with a small calibration correction.
- an inertial device (e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16 , and 18 )) can include a TDC to provide high-resolution measurements of zero-crossing times with respect to a rising edge of a sync signal generated based on a drive-sync signal (which has a 90° lead and is proportional to the velocity of a proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )) of the inertial device.
- the TDC can have programmable masking windows and edge sensitivity to enable extracting timing of specific events as depicted in FIG. 21 .
- FIG. 21 depicts a graph 2100 showing various time intervals that can be extracted from a differential TIA output.
- the graph 2100 includes a proof mass displacement curve 2102 illustrating the position of a proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )) over time.
- the graph 2100 also includes a differential TIA output curve 2104 illustrating an analog output (e.g., 624 , 626 , 1612 , 1613 ( FIGS. 6 and 16 )) of a TIA (e.g., 620 , 1610 ( FIGS.
- the graph 2100 also includes a comparator output curve 2108 that illustrates the digital output of a comparator (e.g., 1620 ( FIG. 16 )).
- the comparator output curve 2108 consists substantially of two values: a high value and a low value.
- the comparator output curve 2108 transitions from a low value to a high value when the TIA output curve 2102 crosses zero and has a positive slope.
- the comparator output curve 2108 transitions from a high value to a low value when the TIA output curve 2014 crosses zero and has a negative slope.
- the comparator output curve 2108 is a digital representation of the zero-crossing times of the TIA output curve 2104 .
- the graph 2100 includes reference levels 2112 and 2114 , each corresponding to a displacement of magnitude d 0 , or one-half the pitch distance, of the proof mass from its neutral position. Because a displacement of magnitude d 0 results in a minimum in capacitance (for an in-phase TDS structure such as 1606 ( FIG. 16 )) or a maximum in capacitance (for an out-of-phase TDS structure such as 1608 ( FIG. 16 )), the spatial capacitance gradient and thus the capacitive current is zero. Thus, the TIA output curve 2104 crosses zero when the proof mass displacement curve 2102 crosses either of the reference levels 2112 or 2114 .
- the graph 2100 includes times 2116 , 2122 , 2124 , and 2130 at which the displacement curve 2102 crosses the reference level 2114 and times 2118 , 2120 , 2126 , and 2128 at which the displacement curve 2102 crosses the reference level 2112 .
- the graph 2100 also includes time intervals 2132 , 2134 , 2136 , and 2138 .
- the time interval T 1 2132 corresponds to the time interval between the times 2116 and 2124 .
- the time interval T 2 2134 corresponds to the time interval between the times 2118 and 2126 .
- the time interval T 32 2136 corresponds to the time interval between the times 2126 and 2128 .
- the time interval T 41 2138 corresponds to the time interval between the times 2124 and 2130 .
- the graph 2100 also includes a digital sync signal 2142 .
- this can be a sync signal created from a drive sync signal.
- the sync time interval 2140 corresponds to the time interval between adjacent rising edges of the digital sync signal 2142 .
- the TDC e.g., 1620 ( FIG. 16 )
- the TDC can use the most recent rising edge of the digital sync signal 2142 as a reference for determining digital timestamps of changes in value of the comparator output signal 2108 . These timestamps can be used to determine the time intervals 2132 , 2134 , 2136 , and 2138 .
- the data determined per cycle includes a sync time 2140 marking the interval between the previous sync rising edge and the most recent zero-crossing times (e.g., 2116 , 2118 , 2120 , 2122 ) measured with respect to the most recent rising edge of the digital sync signal 2108 .
- a sync time 2140 marking the interval between the previous sync rising edge and the most recent zero-crossing times (e.g., 2116 , 2118 , 2120 , 2122 ) measured with respect to the most recent rising edge of the digital sync signal 2108 .
- One reason the sync time 2140 is useful is for establishing a relationship with past timing events so that time intervals crossing the sync boundaries (e.g., 2132 , 2134 ) can be computed for zero-crossing and period measurements.
- Equations 69-78 can be used to compute output acceleration at time n.
- Equations 69-78 can be substituted directly into equations 65 and 68 to produce measurements of displacement amplitude and output acceleration one or more times per oscillation cycle of the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )).
- a set of simultaneous equations can be written for each reference level (e.g., 2112 , 2114 ) as shown in equations 79 and 80.
- Equations 79 and 80 can be subtracted to solve for displacement amplitude at the n th measurement cycle as shown in equation 81.
- ⁇ ⁇ ⁇ x n 2 ⁇ d o cos ⁇ ( ⁇ ⁇ T 41 T 1 ) - cos ⁇ ( ⁇ ⁇ T 32 T 2 ) [ 81 ]
- equations 79 and 80 can be added and the expression for displacement amplitude substituted to solve for input acceleration for the inertial device (e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16, and 18 )), scaled to units of g as shown in equation 82.
- the inertial device e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16, and 18 )
- x ⁇ n d o ⁇ ( 2 ⁇ ⁇ ⁇ ⁇ f avg ) 2 g ⁇ cos ⁇ ( ⁇ ⁇ T 41 T 1 ) + cos ⁇ ( ⁇ ⁇ T 32 T 2 ) cos ⁇ ( ⁇ ⁇ T 41 T 1 ) - cos ⁇ ( ⁇ ⁇ T 32 T 2 ) [ 82 ]
- cosine algorithm is useful is that it is relatively insensitive to variations in the amplitude and frequency of the oscillation of the proof mass. Since the cosine algorithm rejects variations in these parameters for timescales much longer than the resonant period of the oscillation, the cosine algorithm generally has excellent drift performance.
- the low-drift performance of the systems and methods described herein is significantly attributable to the fact that the timing measurements ultimately relate back to a fixed, known reference dimension (i.e., the pitch of the TDS structures such as 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )).
- d 0 is defined as one-half the pitch
- equations 81 and 82 can be rewritten as shown in equations 83 and 84 to isolate the terms involving timing measurement to a ratio that itself defines a ratio of the desired output variable to the geometrically fixed pitch of the TDS structure.
- ⁇ ⁇ ⁇ x n Pitch 1 cos ⁇ ( ⁇ ⁇ T 41 T 1 ) - cos ⁇ ( ⁇ ⁇ T 32 T 2 ) [ 83 ]
- x ⁇ n Pitch ( 2 ⁇ ⁇ ⁇ ⁇ f avg ) 2 2 ⁇ g ⁇ cos ⁇ ( ⁇ ⁇ T 41 T 1 ) + cos ⁇ ( ⁇ ⁇ T 32 T 2 ) cos ⁇ ( ⁇ ⁇ T 41 T 1 ) - cos ⁇ ( ⁇ ⁇ T 32 T 2 ) [ 84 ]
- Equation 82 applies perturbation analysis by considering the measured time intervals with additive white Gaussian noise (i.e., jitter, E), and includes some simplifying assumptions. Equations 85-90 illustrate the addition of white Gaussian noise to equation 82.
- T ⁇ 32 T 32 + ⁇ 32 [ 85 ]
- T ⁇ 41 T 41 + ⁇ 41 [ 86 ]
- T ⁇ 1 T 1 + ⁇ P ⁇ ⁇ 1 [ 87 ]
- T ⁇ 2 T 2 + ⁇ P ⁇ ⁇ 2 [ 88 ]
- x ⁇ n d o g ⁇ ( 2 ⁇ ⁇ T ⁇ avg ) 2 ⁇ cos ⁇ ( ⁇ ⁇ T ⁇ 41 T 1 ) + cos ⁇ ( ⁇ ⁇ T ⁇ 32 T ⁇ 2 ) cos ⁇ ( ⁇ ⁇ T ⁇ 41 T ⁇ 1 ) - cos ⁇ ( ⁇ ⁇ T ⁇ 32 T ⁇ 2 )
- Equation 91 is an approximation of equation 90 based noting that the noise terms of the expansion of ⁇ circumflex over (T) ⁇ avg 2 are small compared to T avg 2 .
- x ⁇ n ⁇ d o ⁇ ( 2 ⁇ ⁇ ) 2 g ⁇ 1 T avg 2 + 2 ⁇ T avg ⁇ ⁇ _ T + ⁇ _ T 2 ⁇ cos ⁇ ( ⁇ ⁇ T ⁇ 41 T ⁇ 1 ) + cos ⁇ ( ⁇ ⁇ T ⁇ 32 T ⁇ 2 ) cos ⁇ ( ⁇ ⁇ T ⁇ 41 T ⁇ 1 ) - cos ⁇ ( ⁇ ⁇ T ⁇ 32 T ⁇ 2 ) ⁇ ⁇ d o g ⁇ ( 2 ⁇ ⁇ T avg ) 2 ⁇ cos ⁇ ( ⁇ ⁇ T ⁇ 41 T ⁇ 1 ) + cos ⁇ ( ⁇ ⁇ T ⁇ 32 T ⁇ 2 ) cos ⁇ ( ⁇ ⁇ T ⁇ 41 T ⁇ 1 ) - cos ⁇ ( ⁇ ⁇ T ⁇ 32 T ⁇ 2 ) [ 91 ]
- Equation 92 The common trigonometric sum-difference formula shown in equation 92 can be used to expand noise terms as shown in equation 93.
- the cosine terms involving the timing jitter ( ⁇ ) are small with zero mean so the small-angle approximation can once again be applied.
- the multiplicative sine terms involving the measured periods (T 41 and T 32 ) are, at their largest, bounded by ⁇ 1. This will be a convenient consideration when examining the variance of ⁇ umlaut over (x) ⁇ n , and this also causes the noise estimation to be somewhat conservative. Because the period measurements and the denominator of each sinusoidal argument are much larger than the noise, the noise term here can be ignored. Furthermore, the resulting noise terms in denominator are negligible compared to the cosine terms. Applying all of these approximations to equation 94, the individual terms of the resulting expression can be collected into two main terms as shown in equation 95, one representing the approximate expected value of the output acceleration (left term), and the other containing noise error components (right term).
- T avg , T 1 , and T 2 are approximately equal, as shown in equation 98.
- the final noise equation illustrated in equation 100, includes the product of displacement magnitude ( ⁇ x n [m]), the cube of the resonance frequency ( ⁇ 0 3 [rad 3 /sec 3 ]), and the timing event jitter ( ⁇ t [sec RMS ]).
- the additional factor of 0.85 is an empirical factor that calibrates the estimation with both laboratory and detailed simulation results.
- Edge timing jitter ( ⁇ t ) can be readily estimated from the total integrated electronics noise divided by the signal slope at the zero-crossing event. Simulations may be used to provide values for the electronic noise and signal slew rate. Differential or single-ended noise and slews may be used as long as the consistency is observed. TDC timing uncertainty may also be included by root-sum-squaring with the electronics induced jitter as shown in equation 101.
- Equation 102 can be used for noise performance estimation and compares well with experimental results.
- an ADC may be used to convert analog outputs (e.g., 626 , 1615 , 1617 , 1815 , 1817 ( FIGS. 6, 16, and 18 )) of AFE's (e.g., 616 ) such as charge amplifiers (e.g., 618 , 1810 ( FIGS. 6 and 18 )) or transimpedance amplifiers (e.g., 620 , 1610 ( FIGS. 6 and 16 )) to digital representations (e.g., 635 ( FIG. 6 )).
- AFE's e.g., 616
- charge amplifiers e.g., 618 , 1810 ( FIGS. 6 and 18 )
- transimpedance amplifiers e.g., 620 , 1610 ( FIGS. 6 and 16
- digital representations e.g., 635 ( FIG.
- inertial parameters e.g., acceleration and proof mass displacement
- inertial device e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16, and 18 )
- FIG. 22 depicts a summing block 2200 illustrating signal flows for using an ADC to digitally reproduce an analog input signal.
- the summing block 2200 includes input differential capacitance signals 2202 that can be received from differential TDS structures (e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )).
- the input differential capacitance signals 2202 can be signals such as any of the signals 1611 , 1613 , 1626 , 1628 , 1826 , 1828 ( FIGS. 16 and 18 ).
- the differential capacitance signals 2202 are received by an AFE 2204 .
- the AFE 2204 can be a charge amplifier or transimpedance amplifier.
- the ADC 2204 introduces ADC input noise 2208 , the injection of which is schematically represented by the summing block 2206 .
- the output of the summing block 2206 is received by a low-pass filter 2210 which removes higher frequency components of the signal.
- the output of the low-pass filter 2210 is received by an ADC 2212 .
- the ADC 2212 performs sample-and-hold 2214 at a sampling rate of 400 kS/sec.
- the ADC 2212 also includes a quantizer 2218 .
- the ADC 2212 produces a digital output signal 2220 that is a digital representation of the difference between the input differential capacitor signals 2202 .
- Digital circuitry can receive the digital signal 2220 and perform upsampling, interpolation, and further post-processing to determine inertial parameters.
- the digital circuitry receiving the digital signal 2220 can extract inertial information using one or more of interpolation, trigonometric functions, and inverse trigonometric functions.
- An example of a trigonometric function that the digital circuitry can implement is the cosine function.
- Examples of inverse trigonometric functions that the digital circuitry can implement include the arcsine, arccosine, and arctangent functions.
- Interpolation can be used to improve the timing accuracy of threshold crossing times of the digital signal 2220 measured by the digital circuitry.
- the digital circuitry can interpolate and upsample the digital signal 2220 to produce a higher-resolution indication of threshold crossing by the digital signal 2220 .
- the interpolation can include linear interpolation and/or splined interpolation.
- the digital circuitry can use a sync signal that is derived from a drive signal or a drive sense signal to synchronize measured threshold crossings with known positions of the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )). Because the sync signal is derived from the drive or the drive sense signal, there is a known phase relationship between the sync signal and the position of the proof mass. In some examples, the drive signal is 90° out-of-phase with respect to the proof mass motion, and a phase lead or lag can be applied as necessary to properly align the sync signal. In some examples, the sync signal is not required to be exactly aligned to the digital signal (e.g., 2220 ).
- the required alignment accuracy is related to the time between zero crossings of the digital signal (e.g., 2220 ). As long as the sync signal is sufficiently aligned to fall within the correct interval between zero-crossings of the digitized signal, the position of the proof mass within its oscillation can be determined with sufficient accuracy.
- the digital circuitry can use a cosine function to determine displacement and/or acceleration as follows.
- the digital circuitry can determine threshold crossings of the interpolated and upsampled digital signal 2220 .
- the digital circuitry can then determine time intervals between the threshold crossings, and can determine quantities containing ratios of the time intervals.
- the digital circuitry can then determine results of cosine functions of these quantities, as illustrated in equations 81 and 82.
- the digital circuitry can implement the cosine method as described with reference to FIGS. 1-21 , except that the threshold crossings can be detected by the digital circuitry instead of by a comparator and TDC.
- the digital circuitry can use an inverse trigonometric function to determine displacement of the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )) as follows.
- the digital circuitry can apply a trigonometric function or other periodic function to a quantity comprising a ratio of the proof mass displacement to the periodicity of the teeth of a TDS structure (e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )).
- the periodicity of the teeth can be the pitch of the arrays of the teeth.
- the digital circuitry can extract the ratio of the displacement to the periodicity. Because the periodicity is a known constant that is determined during fabrication of inertial device, subsequent determination of the inertial parameters can be obtained by multiplying the extracted ratio by the periodicity.
- the periodic function need not be a trigonometric function; for non-trigonometric functions, an appropriate inverse function is used.
- the digital circuitry can extract a ratio of the displacement of the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )) to any physical position or dimension, and the function does not need to be periodic.
- the ratio of displacement to periodicity is proportional to the phase of the periodic function. Changes in displacement induced by accelerations of the inertial device (e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16, and 18 )) will result in phase shifts of the periodic function.
- the inertial device e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16, and 18 )
- FIG. 23 depicts the use of linear interpolation to determine zero crossings of a digitized signal (e.g., 2220 ( FIG. 22 )).
- FIG. 23 includes three views 2300 , 2330 , and 2360 , each depicting successively enlarged views of a threshold crossing.
- the view 2300 includes a displacement curve 2302 depicting the motion of a proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )) and a differential ADC output curve 2304 , which can be the digital signal 2220 .
- a proof mass e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )
- differential ADC output curve 2304 which can be the digital signal 2220 .
- the view 2300 also includes a threshold 2310 which, in this example, occurs at the 0 V level, and an area of interest 2320 in which the ADC output curve 2304 crosses the threshold 2310 .
- a threshold 2310 which, in this example, occurs at the 0 V level
- an area of interest 2320 in which the ADC output curve 2304 crosses the threshold 2310 is limited by the time resolution of the ADC unless further processing is performed. Without further processing, all that can be determined is that the ADC output curve 2304 crossed the threshold 2310 at some time between two samples of the ADC.
- the view 2330 is an enlarged view of the area of interest 2320 and depicts the use of interpolation to improve the resolution of the zero-crossing time measurement.
- the view 2330 includes points 2334 and 2336 , which are points sampled by the ADC and are thus points on the ADC output curve 2304 .
- the point 2334 is below the threshold 2310
- the point 2336 is above the threshold 2310 .
- the ADC output curve 2304 crossed the threshold 2310 sometime between point 2334 and point 2336 .
- linear interpolation can be performed to determine the time at which a straight line 2332 drawn between the points 2334 and 2336 would intersect the threshold 2310 .
- splined or polynomial interpolation is performed to determine the time at which a curved line drawn between the points 2334 and 2336 would intersect the threshold 2310 . This intersection is illustrated in the view 2330 by a point 2338 .
- the point 2338 is the digitally interpolated estimate of the threshold crossing time of the analog signal represented by the digital ADC output curve 2304 .
- the view 2330 also includes an area of interest 2350 centered on the point 2338 .
- the view 2360 is an enlarged view of the area of interest 2350 and depicts the error incurred by digital interpolation.
- the view 2336 includes the curve 2364 which is the analog signal represented by the ADC output curve 2304 .
- the analog curve 2334 crosses the threshold 2310 at a true crossing point 2368 .
- the time interval between the digitally estimated point 2338 and the true crossing point 2368 is represented by time interval 2372 .
- the time interval 2372 is thus the error of the timing measurement obtained by digital interpolation. Because the time interval 2372 is smaller than the sampling rate of the ADC, the interpolation has improved the accuracy and resolution of the threshold crossing time measurements.
- FIG. 24 depicts a graph 2400 illustrating zero-crossings of an ADC digital output signal.
- the graph 2400 includes a displacement curve 2402 representing displacement of a proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )) of an inertial device (e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16, and 18 )).
- the graph 2400 includes a differential AFE output curve 2404 that represents an output of an AFE (e.g., 626 ( FIG. 6 )).
- the graph 2400 also includes an ADC output curve 2404 representing a digital output (e.g., 2220 ( FIG.
- the ADC output curve 2406 is a digital representation of the AFE output curve 2404 .
- the graph 2400 depicts points 2411 , 2413 , 2415 , and 2417 on the displacement curve 2402 that correspond to times at which the proof mass crosses reference points that are multiples of d 0 from the neutral position.
- the differential AFE output curve 2404 includes points 2412 , 2414 , 2416 , and 2418 that are threshold crossings corresponding to the points 2411 , 2413 , 2415 , and 2417 , but with a time delay. The time delay is imposed by analog band-limiting filtering.
- FIG. 25 depicts a graph 2500 that shows an upsampled AFE output curve.
- the graph 2500 includes the displacement curve 2402 ( FIG. 24 ), the differential AFE output curve 2404 ( FIG. 24 ), and the points 2411 , 2413 , 2415 , and 2417 ( FIG. 24 ).
- the graph 2500 also includes an upsampled AFE output curve 2506 .
- the output curve 2506 has been upsampled to a sampling rate triple that of the AFE output curve 2406 ( FIG. 24 ).
- the upsampled output curve 2506 has a lower timing uncertainty in zero-crossing measurements, which results in better timing resolution. Digital upsampling and interpolation can eliminate spurious artifacts for a given input noise level and can provide better agreement between the ADC output curve 2506 and the AFE output curve 2404 .
- Digital interpolation and zero-crossing detection in the digital domain can result in performance equivalent to analog zero-crossing detection.
- digital interpolation, upsampling, and filtering a band-limited input signal can produce a higher-resolution rendition of the original input signal. This improves the accuracy of subsequent digital zero-crossing detection.
- digital zero-crossing detection digital circuitry detects when a digital signal crosses zero and applies local linear interpolation to determine a precise crossing time.
- the digital circuitry may apply hysteresis to reduce the effects of signal noise at the decision boundaries.
- the arccosine algorithm and the arcsine algorithm can be used by digital processing circuitry to determine displacement information from a periodic nonlinear signal. Both the arccosine algorithm and the arcsine algorithm operate on the output of an ADC.
- the difference between the arccosine and arcsine algorithms is that the arccosine algorithm is implemented on signals generated by arrays of teeth that have opposing teeth that are aligned in the neutral position, while the arcsine algorithm is implemented on analog signals generated by arrays of teeth that have teeth that are offset by one-fourth of the tooth pitch (or a spatial phase shift of 90°) at the neutral position.
- the arccosine algorithm can be implemented using arrays of teeth designed for the arcsine algorithm by including a 90° spatial phase shift.
- the arcsine algorithm can operate on signals generated by arrays of teeth designed for the arccosine algorithm by including a 90° spatial phase shift.
- Signals generated by arrays of teeth with arbitrary offsets in the neutral position can also be operated on by either the arccosine or the arcsine algorithm by including an appropriate spatial phase shift corresponding to the offset.
- the orthogonal capacitance signals can be described by equations 103-105.
- the offset phase ⁇ can also be expressed as an effective offset to x(t) as shown in equation 107.
- x ⁇ ( t ) A ⁇ sin ⁇ ( w 0 ⁇ t ) + x Inertial ⁇ ( t ) [ 106 ] C I ⁇ ( t ) ⁇ A ⁇ ⁇ cos ⁇ ( 2 ⁇ ⁇ P ⁇ ( x ⁇ ( t ) + x 0 ) ) [ 107 ]
- the quantity x 0 is defined by equation 108.
- the arccosine and arcsine algorithms can be implemented using only one of the two signals C I and C Q .
- C I (t) by measuring C I (t), scaling, applying the arccosine function, applying the known phase offset ⁇ , and scaling by the pitch, the proof mass displacement x(t) can be determined by the arccosine algorithm using equation 103.
- the arcsine algorithm can be implemented according to equation 104 by measuring C Q (t), scaling, applying the arcsine function, adjusting by the phase offset ⁇ , and scaling by the pitch to determine x(t).
- the arctangent algorithm can be used as well to determine displacement.
- the arctangent algorithm can be implemented according to equation 105, by measuring the ratio of the capacitances C Q and C I , applying the arctangent function, scaling by the phase offset ⁇ , and scaling by the pitch P to determine x(t).
- the arcsine algorithm and the arccosine algorithm can be implemented using only one of the signals C I and C Q .
- phase offset ⁇ is arbitrary but fixed, so that the terms cos(q) and sin(q) are fixed constants, and the inverse tangent of the remaining term, tan(2 ⁇ x(t)/P), can be determined using the arctangent algorithm as described above.
- FIG. 26 depicts a block diagram 2600 illustrating signal flows of the arccosine algorithm.
- the block diagram 2600 includes a TDS structure 2602 (e.g., any of TDS structures 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )) that generates an analog output signal 2604 (e.g., any of analog output signals 611 , 613 , 1626 , 1628 , 1826 , and 1828 ( FIGS. 6, 16, and 18 )).
- An AFE 2608 receives the analog output signal 2604 .
- the AFE 2608 can be a charge amplifier (e.g., 618 , 1810 ( FIGS. 6 and 18 )) or a transimpedance amplifier (e.g., 620 , 712 , 806 , 908 , 1610 ( FIGS. 6, 7, 8, 9, and 16 )).
- An ADC 2612 receives the output of the AFE 2608 and generates a digital output signal.
- the digital output of the ADC 2612 is received by digital circuitry 2622 that performs zero centering, or offsetting. This zero centering, or offsetting, can include integrating the digital output of the ADC 2612 over a predetermined time interval to determine an integral. The integral corresponds to the mean value over the predetermined time interval.
- the predetermined time interval can be a period of oscillation of a proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )).
- the zero centering can then include subtracting the integral from the digital output of the ADC 2612 .
- the output of the digital circuitry 2622 is received by digital circuitry 2624 that scales the received signal, which can include scaling by the quantity A of equations 103-105. Together, the digital circuitry 2622 and 2624 condition the digital output of the ADC 2612 .
- the conditioned digital signal generated by digital circuitry 2624 is received by digital circuitry 2626 that implements an arccosine function to trigonometrically invert the conditioned digital signal. Implementing the arccosine function can include using a lookup table to determine a table entry corresponding to the conditioned digital signal.
- the output of the arccosine digital circuitry 2626 is received by phase unwrap digital circuitry 2628 .
- the phase unwrap circuitry 2628 determines if a phase jump has occurred and adjusts the digital signal appropriately. Further details of the phase unwrap circuitry are depicted in FIG. 31 .
- the phase unwrap circuitry can adjust the digital signal by the phase offset ⁇ as shown in equations 103-105.
- the output of the phase unwrap circuitry 2628 is received by scaling circuitry 2630 .
- the scaling circuitry 2630 scales the digital signal such that it corresponds to acceleration in units of g.
- the scaled output of the scaling circuitry 2630 is received by signal conditioning circuitry 2632 that performs low-pass filtering and resampling to generate output inertial data 2634 .
- the signal conditioning circuitry 2632 can also perform multiplication by a geometric dimension.
- the geometric dimension can be a pitch of the TDS structure 2602 .
- the output inertial data 2634 corresponds to an acceleration of the inertial device (e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16, and 18 )).
- the arccosine block 2626 is replaced with an arcsine block that implements an arcsine function to trigonometrically invert the conditioned digital signal.
- Implementing the arcsine function can include using a lookup table to determine a table entry corresponding to the conditioned digital signal.
- operations are performed in orders different than depicted in FIG. 26 .
- the scaling 2624 can be performed before the zero centering 2622 .
- the scaling 2624 and zero centering 2622 can be performed on the digital signals 2616 and 2618 before dividing 2620 .
- V 1 ⁇ ( t ) C 1 ⁇ ⁇ cos ⁇ ( ⁇ P ⁇ ( A ⁇ cos ⁇ ( ⁇ ⁇ ⁇ t ) + x ⁇ ( t ) ) ) [ 113 ]
- V n ⁇ ( t ) cos ⁇ ( ⁇ P ⁇ ( A ⁇ cos ⁇ ( ⁇ ⁇ ⁇ t ) + x ⁇ ( t ) ) ) [ 114 ]
- a ⁇ cos ⁇ ( ⁇ ⁇ ⁇ t ) + x ⁇ ( t ) a ⁇ cos ⁇ ( V n ⁇ ( t ) ) ⁇ P [ 115 ]
- V 2 ⁇ ( t ) C 2 ⁇ ⁇ sin ⁇ ( ⁇ P ⁇ ( A ⁇ sin ⁇ ( ⁇ ⁇ ⁇ t ) + x ⁇ ( t ) ) ) [ 116 ]
- V n ⁇ ( t ) sin ⁇ ( ⁇ P ⁇ ( A ⁇ sin ⁇ ( ⁇ ⁇ ⁇ t ) + x ⁇ ( t ) ) ) [ 117 ]
- a ⁇ sin ⁇ ( ⁇ ⁇ ⁇ t ) + x ⁇ ( t ) a ⁇ sin ⁇ ( V n ⁇ ( t ) ) ⁇ P [ 118 ]
- FIG. 27 depicts a block diagram 2700 illustrating the signal flows of the arctangent algorithm.
- the block diagram 2700 includes a TDS structure block 2702 (e.g., any of TDS structures 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16 , and 18 )) that generates analog output signals 2704 and 2706 (each, e.g., any of analog output signals 611 , 613 , 1626 , 1628 , 1826 , and 1828 ( FIGS. 6, 16, and 18 )).
- AFE's 2708 and 2710 receive the analog output signals 2704 and 2706 , respectively.
- Each of the AFE's 2708 and 2710 can be a charge amplifier (e.g., 618 , 1810 ( FIGS. 6 and 18 )) or a transimpedance amplifier (e.g., 620 , 712 , 806 , 908 , 1610 ( FIGS. 6, 7, 8, 9, and 16 )).
- ADC's 2712 and 2714 receive the output of the AFE's 2708 and 2710 , respectively, and generate digital output signals 2716 and 2718 , respectively.
- the digital output signals 2716 and 2718 are received by digital circuitry that divides the two signals 2716 and 2718 to determine a quotient signal.
- the quotient signal is received by digital circuitry 2722 that performs zero centering, or offsetting.
- This zero centering, or offsetting can include integrating the digital output of the ADC 2712 over a predetermined time interval to determine an integral.
- the integral corresponds to the mean value over the predetermined time interval.
- the zero centering can then include subtracting the integral from the digital output of the ADC 2712 .
- the output of the digital circuitry 2722 is received by digital circuitry 2724 that scales the centered signal, which can include scaling by the quantity A of equations 103-105. Together, the digital circuitry 2722 and 2724 condition the digital output of the ADC 2712 .
- the conditioned digital signal generated by circuitry 2724 is received by digital circuitry 2726 that implements an arctangent function to trigonometrically invert the conditioned digital signal. Implementing the arctangent function can include using a lookup table to determine a table entry corresponding to the conditioned digital signal.
- the output of the arctangent digital circuitry 2726 is received by phase unwrap digital circuitry 2728 .
- the phase unwrap circuitry 2728 determines if a phase jump has occurred and adjusts the digital signal appropriately. Further details of the phase unwrap circuitry are depicted in FIG. 31 .
- the phase unwrap circuitry can adjust the digital signal by the phase offset ⁇ as shown in equations 103-105.
- the output of the phase unwrap circuitry 2728 is received by scaling circuitry 2730 .
- the scaling circuitry 2730 scales the digital signal such that it corresponds to acceleration in units of g.
- the scaled output of the scaling circuitry 2730 is received by signal conditioning circuitry 2732 that performs low-pass filtering and resampling to generate output inertial data 2734 .
- the signal conditioning circuitry 2732 can also perform multiplication by a geometric dimension.
- the geometric dimension can be a pitch of the TDS structure 2702 .
- the output inertial data 2734 corresponds to an acceleration of the inertial device (e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16, and 18 )).
- operations are performed in orders different than depicted in FIG. 27 .
- the scaling 2724 can be performed before the zero centering 2722 .
- the scaling 2724 and zero centering 2722 can be performed on the digital signals 2716 and 2718 before dividing 2720 .
- V 1 ⁇ ( t ) C 1 ⁇ ⁇ cos ⁇ ( ⁇ P ⁇ ( A ⁇ sin ⁇ ( ⁇ ⁇ ⁇ t ) + x ⁇ ( t ) ) ) [ 119 ]
- V 2 ⁇ ( t ) C 2 ⁇ ⁇ sin ⁇ ( ⁇ P ⁇ ( A ⁇ sin ⁇ ( ⁇ ⁇ ⁇ t ) + x ⁇ ( t ) ) ) [ 120 ]
- the arcsine, arccosine, and arctangent algorithms are similar in that in each, an analog output of a TDS structure is digitized by an ADC after amplification by one or more AFE's.
- the analog electronics can include any implementation that converts the physical motion of the sensor to an electronic signal such as current or voltage. This can include, for example, a TIA or a CA.
- the digital output of the ADC is then processed by digital circuitry to extract the inertial information of interest.
- only one analog signal is amplified and digitized, reducing electronics, size and power consumption, in part because only one AFE is required.
- the arccosine algorithm only requires one periodic capacitive structure (or other periodic sense structure), or two if force-balancing of the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )) is desired.
- the arctangent algorithm amplifies and digitizes two analog signals and requires two AFE's.
- the arctangent algorithm requires at least two arrays of TDS structures separated in spatial phase by 90°, or four arrays if force-balancing of the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )) is desired.
- inertial devices e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16, and 18 )
- arcsine and arccosine algorithms instead of the arctangent algorithm, have reduced complexity and number of electrical contacts to the TDS structure (e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )).
- the arctangent algorithm has advantages in determining the phase unwrap, as will be described in more detail below.
- the signal is scaled and zero-centered, and an inverse trigonometric function is applied to the data.
- the two digital signals are divided by each other, and the quotient is trigonometrically inverted using an arctangent function.
- the single digitized signal is trigonometrically inverted using an arcsine or an arccosine function, respectively.
- the output of the trigonometric inverse function is phase.
- the analog input signal is periodic, the inverse trigonometric functions are not single-valued.
- the inverse trigonometric functions are not single-valued, they can have multiple output values for a given input value.
- the outputs of these trigonometric functions are restricted to a single-valued range at the origin. However, this can result in degeneracy, because the true phase of the input analog signal may be outside this restricted range.
- additional processing must be performed. This additional processing is referred to herein as phase unwrapping or unwrapping.
- Unwrapping recreates the original phase of the input analog signal, which corresponds to the motion of the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16 , and 18 )).
- This concept can also apply to non-inertial sensors, whereby any oscillatory wave form is modified by an input signal to be detected.
- the disadvantage of the arcsine and arccosine algorithms is that the phase is more difficult to unwrap compared to the arctangent algorithm.
- the arctangent algorithm there is a clear jump in phase near the unwrap boundaries, facilitating detection of phase wrap.
- the phase simply changes direction at the unwrapped boundaries, requiring a more involved algorithm to detect a phase wrap event.
- the arctangent algorithm requires a simpler phase unwrap algorithm, it requires more analog circuitry than the arcsine and arccosine algorithms.
- the arctangent algorithm requires twice the number of AFE blocks compared to the arcsine and arccosine algorithms.
- the arctangent algorithm also requires a synchronization between ADC's or simultaneous sampling, and two banks of TDS structures at respective phases of 0° and 90°. If force balancing is also desired, four banks of TDS structures at 0°, 90°, 180°, and 270° are required.
- the arcsine and arccosine algorithms each require only one AFE, one ADC, and one bank of TDS structures. To perform force balancing, only two banks of such structures at 0° and 180° are required for the arcsine and arccosine algorithms.
- FIG. 28 depicts a graph 2800 that shows the digital output of the arctangent algorithm for a low amplitude of proof mass oscillation, an amplitude that does not result in phase wrap events.
- the graph 2800 includes a digital output curve 2802 that represents the output of the arctangent block (e.g., 2726 ( FIG. 27 )) before phase unwrapping.
- the curve 2802 is in the shape of a sine wave, representing the oscillation of the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )), plus any offsets induced by inertial forces (or any signal of interest).
- the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )) has been oscillated with an amplitude of 0.4 microns, less than one-half of the pitch distance of the TDS structure (e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )). Because the oscillation amplitude is less than one-half the pitch distance (corresponding to a phase of ⁇ /2 radians), the digital output curve 2802 is continuous and without phase wraps.
- FIG. 29 depicts a graph 2900 showing the output of the arctangent algorithm when the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )) has an oscillation amplitude larger than one-half the pitch distance of the TDS structure (e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )).
- the graph 2900 includes a digital output curve 2902 generated by digital circuitry implementing the arctangent algorithm (e.g., 2726 ).
- the digital output curve 2902 includes a phase wrap between points 2904 and 2906 and a second phase wrap between points 2908 and 2910 . These phase wraps occur when the proof mass position reaches displacements that are integer multiples of one-half the pitch of the TDS structure (e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )).
- the phase determined from the arctangent algorithm is ⁇ or ⁇ radians at these points, and at the phase wrap, transitions in the opposite direction by 2 ⁇ radians.
- the phase is ⁇
- the output curve 2902 transitions by ⁇ 2 ⁇ radians to a value of ⁇ at point 2906 .
- This transition happens sharply, and occurs between adjacent data points of the digital output curve 2902 .
- This sharp transition can be easily detected by setting a threshold to detect large changes in data between adjacent data points.
- This sharp transition occurs because the arctangent function is not single-valued and returns only values between ⁇ and ⁇ for any given input.
- the phase unwrap block can be used to detect these phase wraps and remove their effects.
- FIG. 30 depicts a graph 3000 showing a digital output signal of the arcsine algorithm, where the proof mass has an oscillation amplitude greater than one-half the pitch, causing phase wraps.
- the graph 3000 includes a digital output curve 3002 that is generated by digital circuitry implementing an arcsine function (e.g., 2626 ( FIG. 26 )).
- the digital output curve 3002 has phase wraps at points 3006 and 3008 , but these phase wraps are continuous, simply involving a reversal in direction of the digital output curve 3002 .
- Digital outputs of the arccosine algorithm exhibit similar phase wraps as the arcsine algorithm.
- the absolute value of the digital output signal is used, so the phase wraps occur when the absolute value of the digital output signal reaches 0 or ⁇ /2 radians.
- the phase wraps occur when the digital output signal reaches 0 or ⁇ radians, regardless of whether the absolute value of the digital signal is used.
- the phase does not jump by 2 ⁇ , but simply changes direction, with the same rate of change as before the phase wrap. Comparing the digital output curve 3002 to a simple data jump threshold is insufficient to detect the phase wrap for the arcsine and arccosine algorithms, because the digital output curve 3002 remains continuous across the phase wraps. However, there is still a sharp transition in the otherwise smoothly changing data.
- This sharp transition can be detected by the following method.
- the method determines if a sharp transition has occurred when the digital output curve 3002 has values near 0 or ⁇ /2 for the arcsine algorithm, or 0 and ⁇ for the arccosine algorithm.
- the digital circuitry determines whether the transition was due to noise or a genuine phase wrap event.
- the digital circuitry keeps track of prior phase directions to maintain continuity of the unwrapped function.
- the digital circuitry can determine when a phase wrap has occurred by monitoring a running difference between consecutive data points. Over a given time I, if the difference between the data point at time i and the data point at time i ⁇ 1 or the difference between the data point at time i and the data point of time i+1 is above ⁇ /2 or below zero, then the digital circuitry determines that a phase wrap event has occurred in the arcsine algorithm. If the arccosine algorithm is implemented, the digital circuitry compares the two differences to zero and ⁇ . The digital circuitry then determines between which data points the phase wrap occurred by comparing neighboring differences. The digital circuitry can determine that the phase wrap occurred between the two data points with the smallest difference.
- the corresponding succeeding data point is then modified to take into account the portion of the difference that occurred before and after the phase wrap.
- the sign of the slope of the phase is tracked by altering the sign of the register. The sign is then applied to either subtract or add subsequent differences in order to reconstruct the original phase.
- FIG. 31 depicts a method 3100 illustrating phase unwrapping in the arccosine and arcsine algorithms.
- digital circuitry receives input data 3102 and determines the time derivative, or slope.
- the input data 3102 can comprise a result of trigonometric inversion.
- determining the time derivative can include comparing the current value of the signal to the previous value of the signal and dividing by the difference in time between the two data points.
- the digital circuitry determines if the derivative has changed sign. In some examples, the digital circuitry can do this by comparing the sign of the time derivative at the current time increment and comparing it to the sign of the time derivative at the previous time increment.
- the digital circuitry stores the output value at the current time increment as the sign multiplied by the output value at the previous time increment, added to the derivative at the current time increment. Because the sign is reversed each time a phase wrap is detected, as described below, the step 3108 adjusts the present value and future values of the output value according to the number of detected phase wrap events.
- step 3110 the digital circuitry determines whether the sum of the current derivative and the output value at the last time increment is greater than ⁇ . If the circuitry determines at 3110 that the sum is not greater than ⁇ , the method 3100 proceeds to step 3114 .
- step 3114 the digital circuitry determines whether the sum of the output value at the previous time increment and the current derivative is less than zero. If, at 3114 , the digital circuitry determines that the sum is not less than zero, no phase wrap has occurred and the method 3114 proceeds to step 3108 .
- the digital circuitry determines that the sum is greater than ⁇ , or, if, at step 3114 , the digital circuitry determines that the sum is less than zero, the method proceeds to steps 3112 and 3116 .
- the sign is reversed, such that the new value of the sign is the opposite of the previously stored value.
- the digital circuitry determines if the absolute value of the current derivative is greater than the absolute value of the previous derivative. If yes, the method 3100 proceeds to steps 3118 and 3120 .
- the previous output value is stored as the sign multiplied by the output value at time i ⁇ 2 and added to the derivative at the previous time i ⁇ 1.
- the digital circuitry stores the previous derivative as the value obtained from subtracting the output values at times i ⁇ 1 and i ⁇ 2 from 2 ⁇ .
- the digital circuitry determines that the absolute value of the derivative at time i is not greater than the derivative at time i minus 1, the method 3100 proceeds to steps 3118 and 3122 .
- the digital circuitry stores the derivative at time i as a value obtained by subtracting the output value at time i and the output value at time i ⁇ 1 from 2 ⁇ . In this way, the digital circuitry can implement the method 3100 to unwrap, rephase and reconstruct the digital output signal without phase wrap artifacts.
- noise in the digital input data 3102 can be sufficiently high to cause errors in tracking the phase. This may occur when noise causes the digital signal to temporarily cross the phase boundaries at zero and/or ⁇ /2. This may occur in particular when the noise is much higher than the quantization level (or bit resolution) of the ADC such that the noise is greater than the difference between successive data points near the boundary.
- FIG. 32 depicts an example of phase unwrap error due to excessive noise at the phase unwrap boundary.
- FIG. 32 depicts an acceleration curve 3202 that has been determined using phase unwrapping, but exhibits a phase unwrap error at point 3204 , where the phase is not correctly tracked due to noise.
- digital circuitry may determine phase crossings by using a larger data difference threshold. For example, instead of comparing local data differences to the phase boundary, a larger threshold may be used. The threshold can be large enough such that no local noise in the data is large enough to cause a false phase transition. The magnitude in this threshold is limited by the full-scale range of the sensor data.
- the threshold must not be so large that an actual signal of interest (such as acceleration) can cause a false phase transition by falling within the threshold range.
- this can be designed into the system such that, for a given resonant frequency, the signal of interest causes the displacement of the oscillator to stay well within a single pitch distance of the periodic physical structure.
- An example of scaled capacitance signals generated by such a design is shown in FIG. 33 .
- FIG. 33 depicts capacitive signals of an inertial device (e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16, and 18 )) with a proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16 , and 18 )) that is driven to amplitudes that do not cause false phase transitions.
- FIG. 33 depicts a capacitive curve 3302 corresponding to a 0 g acceleration, and a capacitive curve 3304 corresponding to a 16 g acceleration, which is a full-scale acceleration of the inertial device.
- the proof mass is driven at an oscillation amplitude such that the signal change under acceleration never exceeds +1 or is less than ⁇ 1, which would result in a phase transition after applying the arccosine function.
- the threshold may be set that under full acceleration, the phase does not enter the threshold range near the phase boundary. In this case, the threshold may be set much greater than the noise level and may not cause issues with phase tracking.
- the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )) may be driven at nearly arbitrary amplitudes without having an effect on signal resolution.
- These methods only require the proof mass to traverse at least the distance of one-half the pitch of the TDS structure (e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )). This minimum distance traversal ensures that there is at least one positive and one negative periodic phase boundary crossing.
- the proof mass may be driven at higher amplitudes without any effect on the resolution of the final output signal. This allows flexibility when designing the system for a desired full-scale range of the output signal. In some examples, it is advantageous to drive the proof mass at a minimum amplitude necessary to achieve a given full-scale range, in order to minimize the drive voltage and power, as well as to simplify the phase unwrap algorithm. In addition, drive amplitude does not affect the noise floor in many cases.
- FIG. 34 depicts capacitance curves of an inertial device (e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16, and 18 )) with a proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16 , and 18 )) driven at two different amplitudes.
- FIG. 34 depicts a capacitive curve 3402 of an oscillating proof mass driven to an amplitude of 0.5 microns and a capacitive curve 3404 of an oscillating proof mass driven to an amplitude of 3.5 microns.
- the proof mass When the oscillator is driven to an amplitude of 0.5 microns, the proof mass does not reach a negative phase boundary, and so the capacitive signal cannot be scaled to maximum and minimum values of +1 and ⁇ 1.
- the proof mass When the proof mass is driven to an oscillation amplitude of 3.5 microns, there are multiple phase boundary crossings, allowing the capacitive signal to be properly scaled to maximum and minimum values of +1 and ⁇ 1, respectively.
- the drive amplitude is such that the digitized capacitive signal (with no input acceleration) ranges halfway between phase boundaries, resulting in an optimized full-scale range.
- driving the proof mass in quarter-pitch amplitude increments that are greater than one-half pitch
- the full scale range itself can be optimized by choosing the resonant frequency of the sensor and thus its mechanical sensitivity (displacement caused by a given input acceleration).
- the proof mass e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )
- the proof mass e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )
- the proof mass e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )
- the arcsine or arccosine algorithms with phase unwrapping can be used to determine inertial parameters from the scaled capacitive signal 3402 .
- scaling the signal after digitization by the ADC is more complicated when the oscillator is driven at amplitudes less than one-half the pitch.
- One potential implementation for scaling is a one-time calibration.
- Another implementation involves occasionally driving the proof mass to higher amplitudes when the inertial device (e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16, and 18 )) is known to be at rest, or during start up of the inertial device, to measure the appropriate scaling factor.
- the proof mass oscillation amplitude may be arbitrarily high. This would increase the number of phase crossings, which must be tracked.
- FIG. 35 illustrates the error reduction from interpolation.
- FIG. 35 depicts an phase error curve 3502 showing phase error of an inertial device (e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16, and 18 )) when interpolation is not used, and a phase error occurred 3504 showing phase error of the same inertial device when interpolation has been used.
- an inertial device e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16, and 18 )
- phase error occurred 3504 showing phase error of the same inertial device when interpolation has been used.
- interpolation significantly reduces phase error, and in particular by reducing the large spikes at single data points.
- FIG. 36 depicts an enlarged view of the phase error curves 3502 and 3504 ( FIG. 35 ).
- interpolation removes disproportionately large phase errors at single data points. With interpolation, some error remains, but this error is periodic with the motion of the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )). This error occurs as spectral artifacts at harmonics of the oscillation frequency of the proof mass. No such artifacts appear in FIG. 36 below the oscillation frequency, or in the range of interest for desired signals (below resonance). However, for high levels of noise and without interpolation of points of phase boundary crossings, artifacts may occur in the range of interest.
- error may be reduced further by implementing a digital low-pass filter before applying the unwrap algorithm.
- the sample rate of the ADC may be much greater than the frequency range of the desired signal. Therefore, most of the noise is at high frequencies and may be filtered out, provided the frequency content of the proof mass oscillation is preserved.
- the low-pass filter can remove noise at frequencies more than twenty times the drive frequency of the proof mass. This filtering improves the fidelity of the phase unwrap algorithm and reduces the overall noise floor.
- the arcsine and arccosine algorithms can have equivalent noise performance as the arctangent algorithm.
- the arctangent algorithm operates on the output of an ADC to determine inertial parameters.
- the arctangent algorithm unfolds periodic non-linear signal output from the TDS structures (e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )), recovering a digitized representation of the motion of the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )).
- the low-frequency displacements that are induced by inertial forces are the desired signals and can be isolated from the oscillation of the proof mass (and any other higher frequency motion) by digital low-pass filtering.
- the arctangent algorithm requires in-phase (I) and quadrature (Q) signals to be generated by the inertial device (e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16 , and 18 )). These signals have intrinsic phase separation of 90°. These I and Q signals can be produced by arrays of periodic structures that are offset by 90° or one-fourth the pitch of the periodic structures. In some examples, the phase separation need not be exactly 90°, in which case the modified equations can be used.
- I in-phase
- Q quadrature
- TDS structures with 0°, 180°, 90° and 270° phase offsets may be used as shown in FIG. 37 .
- FIG. 37 depicts an inertial device 3700 with TDS structures (e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )) that have four different phase offsets.
- the inertial device 3700 includes a proof mass 3702 that is oscillated along the x axis by drive combs 3704 a, 3704 b, 3704 c, and 3704 d (collectively, drive combs 3704 ).
- FIG. 37 depicts an inertial device 3700 with TDS structures (e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )) that have four different phase offsets.
- the inertial device 3700 includes a proof
- the proof mass 3702 is connected to springs and anchors 3706 a and 3706 b (collectively, anchors 3706 ).
- the inertial device 3700 also includes anchors 3708 a, 3708 b, 3708 c, and 3708 d (collectively, anchors 3708 ).
- the anchors 3706 and 3708 are connected to a top layer and/or bottom layer (not shown).
- the inertial device 3700 includes 0° TDS structures 3710 a and 3710 b (collectively, TDS structures 3710 ), 90° TDS structures 3712 a and 3712 b (collectively, TDS structures 3712 ), 180° TDS structures 3714 a and 3714 b (collectively, TDS structures 3714 ), and 270° TDS structures 3716 a and 3716 b (collectively, TDS structures 3716 ).
- FIG. 37 also depicts areas of interest 3718 , 3720 , 3722 , and 3724 .
- FIG. 37 depicts the enlarged views 3726 , 3728 , 3730 , and 3732 , which are enlarged views of the areas of interest 3718 , 3720 , 3722 , and 3724 , respectively.
- the view 3726 depicts a portion of the TDS structure 3710 a and shows moveable beams 3734 a and 3738 a.
- the moveable beams 3734 a and 3738 a move along the x axis with respect to a fixed beam 3736 a.
- the view 3726 depicts the proof mass 3702 in the neutral position, and the teeth of the fixed beam 3736 a are aligned with the teeth of the moveable beams 3734 a and 3738 a, corresponding to a spatial phase of 0° and 0 radians.
- the view 3728 depicts a portion of the TDS structure 3712 a and shows moveable beams 3734 b and 3738 b.
- the moveable beams 3734 b and 3738 b move along the x axis with respect to a fixed beam 3736 b.
- the view 3728 depicts the proof mass 3702 in the neutral position, and the teeth of the fixed beam 3736 b are offset from the teeth of the moveable beams 3734 b and 3738 b by one-fourth of the pitch distance of the TDS structure 3712 a, corresponding to a spatial phase of 90° and ⁇ /2 radians.
- the view 3730 depicts a portion of the TDS structure 3714 a and shows moveable beams 3734 c and 3738 c.
- the moveable beams 3734 c and 3738 c move along the x axis with respect to a fixed beam 3736 c.
- the view 3730 depicts the proof mass 3702 in the neutral position, and the teeth of the fixed beam 3736 c are offset from the teeth of the moveable beams 3734 c and 3738 c by one-fourth of the pitch distance of the TDS structure 3714 a, corresponding to a spatial phase of 180° and ⁇ radians.
- the view 3732 depicts a portion of the TDS structure 3716 a and shows moveable beams 3734 d and 3738 d.
- the moveable beams 3734 d and 3738 d move along the x axis with respect to a fixed beam 3736 d.
- the view 3732 depicts the proof mass 3702 in the neutral position, and the teeth of the fixed beam 3736 d are offset from the teeth of the moveable beams 3734 d and 3738 d by one-fourth of the pitch distance of the TDS structure 3716 a corresponding to a spatial phase of 270° and 3 ⁇ /2 radians.
- C ⁇ ( x ) ⁇ A + B ⁇ cos ⁇ [ 2 ⁇ ⁇ P ⁇ x ] + C ⁇ cos ⁇ [ 4 ⁇ ⁇ P ⁇ x ] + D ⁇ cos ⁇ [ 6 ⁇ ⁇ P ⁇ x ] + E ⁇ cos ⁇ [ 8 ⁇ ⁇ P ⁇ x ] + F ⁇ cos ⁇ [ 10 ⁇ ⁇ P ⁇ x ] + G ⁇ cos ⁇ [ 12 ⁇ ⁇ P ⁇ x ] ⁇ [ 124 ]
- equation 124 can be approximated by equation 125. While equation 124 more accurately captures the capacitance behavior of the TDS structure 3710 , the simpler equation 125 will be used for the conceptual analysis below.
- the pitch of the teeth of the TDS structure 3710 is indicated by the variable P.
- the capacitance behavior of the TDS structures 3710 , 3712 , 3714 , and 3716 can be modeled using equation 125, with spatial phase offsets in quarter-pitch increments as shown in equations 126-129.
- the capacitance can be expressed as a function of time by substituting the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )) motion x(t) into equation 125 as shown in equation 130.
- the proof mass e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )
- the capacitances of the 0° TDS structure 3710 and the 180° TDS structure 3714 are combined to define the in-phase signal (I) as shown in equation 131.
- the capacitance signals of the 90° TDS structure 3712 and the 270° TDS structure 3716 are combined to define the quadrature signal (Q) as shown in equation 132.
- FIGS. 38, 39, and 40 depict the capacitance signals of equations 131 and 132 at various drive amplitudes of the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )).
- FIG. 38 depicts an in-phase capacitance curve 3802 and a quadrature capacitance curve 3804 at a drive amplitude of 2 microns.
- FIG. 39 depicts an in-phase capacitance curve 3902 and a quadrature capacitance curve 3904 at a drive amplitude of seven microns.
- FIG. 40 depicts an in-phase capacitance curve 4002 and a quadrature capacitance curve 4004 at a drive amplitude of 12 microns.
- FIGS. 38-40 when the drive amplitude increases, the peak capacitance does not change, but the frequency of the capacitance signal does change. This is true even though the oscillation frequency of the proof mass has not changed.
- the displacement of the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16 , and 18 )) can be determined by dividing equations 131 to produce equation 133.
- digital circuitry can perform the operations of equation 133 on received capacitance signals C Q and C I to determine proof mass displacement.
- the digital representation of the motion of the proof mass can include different frequency components, including contributions from the drive comb actuation, from inertial forces, and from acoustic coupling. These components are illustrated in equation 134.
- the first term in equation 134 represents the resonant motion of the proof mass caused by comb drives.
- This component can be extracted using a digital band-pass filter.
- this digital band-pass filter can utilize a third order Butterworth filter centered at two kilohertz with cut-offs at 2.25 and 1.75 kHz. These filter parameters can be used for a drive frequency of 2 kHz.
- the oscillator amplitude can be isolated from this filtered digital signal using an envelope detector.
- the third term in equation 134 represents high frequency motion (e.g., 200 Hz-20 kHz), caused by acoustic coupling from a speaker. These signals are at frequencies above the inertial signals, but if acoustic signals exist in the band of the band pass filter, there can corrupt the amplitude signal.
- x Inertial (t) represents low-frequency motion of the proof mass (e.g., less than 200 Hz) caused by inertial forces acting on the inertial device. Motion in this frequency range is the desired measurement.
- the inertial component of the signal is isolated using a digital low-pass filter.
- the low-pass filter can be a fourth order Butterworth filter with a 200 Hz cutoff.
- the inertial acceleration is thus given by equation 135, where ⁇ 0 2 represents the square of the natural frequency of the proof mass. In some examples, ⁇ 0 2 represents the square of the drive frequency of the proof mass.
- the resonant frequency of the proof mass can be measured in real time because the closed loop drive can accurately track resonance.
- Initial calibration can be used to determine the resonant frequency.
- the relative change in sensitivity over time can be tracked by measuring the closed loop drive frequency, with some initial calibration.
- the relative change in sensitivity can include a fixed offset. If the fixed offset drifts with time, this can affect accuracy of the measurement of inertial parameters.
- the unwrap accuracy does not depend on knowledge of the actual resonant frequency.
- the unwrap accuracy in these algorithms only depends on an accurate measurement of the drive frequency. However, knowledge of the actual resonant frequency does affect the scaling of the unwrapped output to units of ‘g’ in the arcsine, arccosine, and arctangent algorithms, as well as in the cosine algorithm.
- FIGS. 41 and 42 depict analog output signals of differential charge amplifiers at proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )) oscillation of 7 microns and 4 microns, respectively.
- FIG. 41 includes an in-phase analog signal 4102 and an out-of-phase analog signal 4104 .
- FIG. 42 includes an in-phase analog signal 4202 and an out-of-phase analog signal 4204 .
- the signals 4102 , 4104 , 4202 , and 4204 represent outputs of one or more matched analog to digital converters that can use sigma-delta direct conversion, and/or successive-approximation methods.
- the curves 4102 , 4104 , 4202 , and 4204 are sampled at 400 kHz over one period of a 2 kHz resonant oscillation of the proof mass.
- the arctangent algorithm requires the amplitudes of the I and Q signals to be equalized. One way to achieve this is to use a peak detection algorithm to determine the maximum amplitude of each signal and then scale each signal appropriately.
- the mean value, or DC component, of both I and Q signals should be zero. One way to achieve this is to subtract off the integrated value, or mean value, over one period of oscillation of the proof mass. Another way to achieve the zero mean is to constrain the drive amplitude to discrete levels at which the I and Q signals are naturally zero-valued. In particular, this condition requires that the quantity 2 ⁇ * Amplitude/Pitch equal a zero of the zero order Bessel function of the first kind. After this scaling and mean-value adjusting, the I and Q signals can be divided as shown in equation 136.
- FIG. 43 depicts the ratio of Q and I signals given by equation 136.
- FIG. 43 includes a curve 4302 that illustrates this ratio and includes phase wrap events.
- equation 136 can be inverted, resulting in equation 137.
- applying the arctangent function of equation 137 requires applying a phase unwrap function.
- this function monitors the output of the arctangent function and adds multiples of ⁇ 2 ⁇ when absolute jumps between adjacent data points are greater than or equal to ⁇ radians.
- FIG. 44 depicts the arctangent of the Q/I ratio without unwrapping, as shown by curve 4402 .
- FIG. 45 depicts the proof mass position after unwrapping.
- FIG. 45 includes a calculated displacement curve 4502 that represents a digital estimate of the proof mass position. After unwrapping, the curve 4502 is a smooth sinusoidal curve without phase wraps.
- FIG. 46 depicts an enlarged view of a portion of FIG. 45 , showing the difference between the true displacement and the digital estimate.
- FIG. 46 includes a displacement curve 4602 that represents the true displacement of the proof mass.
- FIG. 46 also includes a digital estimate curve 4604 that represents the digital estimate of the position of the proof mass.
- the curve 4604 drawn in FIG. 46 is an enlarged view of the curve 4502 shown in FIG. 45 .
- FIG. 46 shows the quantization error inherent in any digital representation of a continuous variable.
- the arcsine, arccosine, and arctangent algorithms described herein are useful because they produce a digitized, accurate representation of oscillator position as a function of time, scaled by the pitch of a TDS structure (e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )).
- These methods have a bandwidth higher than the drive frequency of the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )).
- the cosine, arcsine, arccosine, and arctangent algorithms are relatively immune to 1/f noise caused by electronics amplifiers and filters.
- the algorithms essentially encode the acceleration information on a higher frequency signal, thus up-modulating the acceleration information.
- low frequency drift of the electronics does not impact accuracy or drift of the acceleration measurement.
- the algorithms effectively remove offset and gain drift of electronics from acceleration measurement accuracy. As a result, only white noise significantly impacts resolution of the algorithms (but does not impact drift).
- analog and/or digital circuitry of the inertial device (e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16, and 18 )) is included in a single mixed-signal application-specific integrated circuit (ASIC) located on a single substrate.
- ASIC application-specific integrated circuit
- analog and/or digital circuitry of the inertial device (e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16, and 18 )) is distributed between multiple integrated circuits.
- the multiple integrated circuits can all be located on a single substrate.
- the multiple integrated circuits can be distributed across multiple substrates that are electrically connected.
- some or all of the inertial device (e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16, and 18 )) is implemented using one or more digital processors.
- the systems described herein can be fabricated using MEMS and microelectronics fabrication processes such as lithography, deposition, and etching.
- the features of the the inertial device e.g., 100 , 202 , 602 , 1602 , 1802 ( FIGS. 1, 2, 6, 16, and 18 )
- etching can include deep reactive ion etching (DRIE) and wet etching.
- DRIE deep reactive ion etching
- one or more intermediate metal, semiconducting, and/or insulating layers are deposited.
- the base wafer can be a doped semiconductor such as silicon.
- ion implantation can be used to increase doping levels in regions defined by lithography.
- the proof mass (e.g., 102 , 203 , 608 , 1604 , 1804 ( FIGS. 1, 2, 6, 16, and 18 )) and TDS structures (e.g., 105 , 207 , 506 , 604 , 606 , 1501 , 1503 , 1606 , 1608 , 1806 , 1808 ( FIGS. 1, 2, 5, 6, 15, 16, and 18 )) can be defined in a substrate silicon wafer, which is then bonded to top and bottom cap wafers, also made of silicon. Encasing the proof mass in this manner allows the volume surrounding the mass to be evacuated. In some examples, a getter material such as titanium is deposited within the evacuated volume to maintain a low pressure throughout the lifetime of the device.
- a getter material such as titanium is deposited within the evacuated volume to maintain a low pressure throughout the lifetime of the device.
- conducting traces are deposited using metal deposition techniques such as sputtering or physical vapor deposition (PVD). These conducting traces electrically connect active areas of the proof mass and TDS structures to the microelectronic circuits depicted in FIG. 1 . Similar conducting traces can be used to electrically connect the microelectronic circuits depicted in FIG. 1 to each other.
- the fabricated MEMS and microelectronic structures can be packaged using semiconductor packaging techniques including wire bonding and flip-chip packaging.
- memory includes any type of integrated circuit or other storage device adapted for storing digital data including, without limitation, ROM, PROM, EEPROM, DRAM, SDRAM, DDR/2 SDRAM, EDO/FPMS, RLDRAM, SRAM, flash memory (e.g., AND/NOR, NAND), memrister memory, and PSRAM.
- digital circuitry is meant generally to include all types of digital processing devices including, without limitation, digital signal processors (DSPs), reduced instruction set computers (RISC), general-purpose (CISC) processors, microprocessors, field programmable gate arrays (FPGAs), PLDs, reconfigurable compute fabrics (RCFs), array processors, secure microprocessors, and application-specific integrated circuits ASICs.
- DSPs digital signal processors
- RISC reduced instruction set computers
- CISC general-purpose processors
- microprocessors microprocessors
- FPGAs field programmable gate arrays
- RCFs reconfigurable compute fabrics
- array processors secure microprocessors
- application-specific integrated circuits ASICs application-specific integrated circuits
- any of the circuits described herein may be implemented as a printed circuit.
- various features of the system may be implemented as software routines or instructions to be executed on a processing device (e.g. a general purpose processor, an ASIC, field programmable gate array (FPGA), etc.)
- a processing device e.g. a general purpose processor, an ASIC, field programmable gate array (FPGA), etc.
- the described embodiments are to be considered in all respects as illustrative and not restrictive. It should also be understood that the system is not limited to the particular examples described herein, but can be implemented in other examples without departing from the scope of the claims.
Abstract
Description
- This application claims priority to U.S. Provisional Application Ser. No. 62/164,378, filed May 20, 2015, the entire contents of which are hereby incorporated by reference.
- Linear inertial sensors, those which use linear signals to determine inertial information, are subject to error due to drift. These linear inertial sensors scale linear signals by one or more predetermined quantities to determine inertial information such as acceleration or rotation. These predetermined quantities can account for spring constants, amplifier gain, and other factors. However, since spring constants, gain, and these other factors can drift over time, linear inertial sensors can develop an error due to this drift.
- Accordingly, systems and methods are described herein for extracting inertial information from nonlinear periodic signals. A system for determining an inertial parameter can include circuitry configured for receiving a first periodic analog signal from a first sensor that is responsive to motion of a proof mass, converting the first periodic analog signal to a first periodic digital signal, determining a result of trigonometrically inverting a quantity, the quantity based on the first periodic digital signal, and determining the inertial parameter based on the result.
- In some examples, the first sensor is a first electrode interacting with the proof mass. In some examples, the first electrode electrostatically interacts with the proof mass.
- In some examples, the inertial parameter includes a displacement of the proof mass. In some examples, determining the inertial parameter can include multiplying the unwrapped inverted signal by a geometric dimension to obtain the displacement of the proof mass.
- In some examples, the system can include circuitry configured for unwrapping the result. Determining the inertial parameter based on the result can include determining the inertial parameter based on the unwrapped result.
- In some examples, the system can include circuitry configured for conditioning the first periodic digital signal by scaling the first periodic digital signal to a predetermined amplitude and offsetting the first periodic digital signal. The quantity can be based on the conditioned first periodic digital signal.
- In some examples, determining the result of trigonometrically inverting includes determining the result of applying an arcsine function to the quantity. In some examples, determining the result of trigonometrically inverting includes determining the result of applying an arccosine function to the quantity. In some examples, determining the result of trigonometrically inverting includes determining the result using a lookup table, the result corresponding to the conditioned digital signal.
- In some examples, unwrapping includes determining that a phase wrap has occurred by determining that a slope of the result has changed sign, determining that the result has changed by a predetermined increment, and determining that the sum of a prior slope and a prior value of the result would exceed a threshold. Unwrapping can further include adjusting the present value of and one or more future values of the result.
- In some examples, the system can include circuitry configured for low-pass filtering the displacement to determine an inertial displacement and multiplying the inertial displacement by a square of a natural frequency of the proof mass to determine an acceleration of the proof mass.
- In some examples, the first periodic digital signal includes a quotient of a first digital signal and a second digital signal.
- In some examples, the system further includes circuitry configured for conditioning the first periodic digital signal by scaling the first periodic digital signal to a predetermined amplitude, and offsetting the first periodic digital signal. The quantity can be based on the conditioned periodic digital signal.
- In some examples, offsetting includes integrating the first periodic digital signal for a predetermined time interval to determine an integral and subtracting the integral from the first periodic digital signal.
- In some examples, the system includes circuitry configured for amplifying the first periodic analog signal to a first periodic analog voltage.
- In some examples, the system includes circuitry configured for receiving a second analog signal from a second sensor that is responsive to motion of the proof mass, amplifying the second analog signal to a second analog voltage, converting the second analog voltage to a second periodic digital signal, and conditioning the second periodic digital signal. Conditioning the second periodic digital signal can include scaling the second periodic digital signal to the predetermined amplitude and offsetting the second periodic digital signal to the predetermined offset. The quantity can be based on a quotient of the first and second conditioned digital signals.
- In some examples, the system can include circuitry configured for receiving a second analog signal from a second electrode adjacent to the proof mass. Amplifying the first analog signal to the first analog voltage can include amplifying a difference between the first and second analog signals to the first analog voltage.
- In some examples, the system can include circuitry configured for receiving third and fourth analog signals from third and fourth sensors, respectively, each sensor responsive to motion of the proof mass. The system can also include circuitry configured for amplifying a second difference between the third and fourth analog signals to a second analog voltage, converting the second analog voltage to a second digital representation to generate a second periodic digital signal, and conditioning the second periodic digital signal. Conditioning the second periodic digital signal can include scaling the second periodic digital signal to the predetermined amplitude and offsetting the second periodic digital signal to the predetermined offset. The quantity can include a quotient of the first and second conditioned digital signals.
- In some examples, the second, third, and fourth sensors are second, third, and fourth electrodes, respectively, each electrostatically interacting with the proof mass.
- In some examples, the system includes the proof mass and the first sensor. In some examples, the system includes the second sensor. In some examples, the system includes the third and fourth sensors.
- The above and other features of the present disclosure, including its nature and its various advantages, will be more apparent upon consideration of the following detailed description, taken in conjunction with the accompanying drawings in which:
-
FIG. 1 depicts an inertial device that extracts inertial information from nonlinear periodic signals, according to an illustrative implementation; -
FIG. 2 depicts a schematic of an inertial device and enlarged views that depict fixed and movable teeth of an inertial device, according to an illustrative implementation; -
FIG. 3 depicts a graph that shows the relationship between capacitance of a time-domain-switched (TDS) structure and displacement of a movable element, according to an illustrative implementation; -
FIG. 4 depicts a graph showing differential capacitance and displacement of a TDS structure, according to an illustrative implementation; -
FIG. 5 depicts a block diagram illustrating signal flows of a system for determining inertial perimeters from an inertial device, according to an illustrative implementation; -
FIG. 6 depicts a block diagram showing signal flows and exemplary implementations of the systems and methods described herein, according to an illustrative implementation; -
FIG. 7 depicts a system using digital control to control drive velocity, according to an illustrative implementation; -
FIG. 8 depicts a block diagram representing signal flows and transfer functions of the system depicted inFIG. 7 , according to an illustrative implementation; -
FIG. 9 schematically depicts a feedback loop that represents the closed-loop feedback of the system depicted inFIG. 7 , according to an illustrative implementation; -
FIG. 10 depicts a Bode plot with a magnitude graph and a phase graph of the system depicted inFIG. 7 , according to an illustrative implementation; -
FIG. 11 depicts a graph showing the change in oscillation frequency of the system depicted inFIG. 7 as a function of phase shift for various quality factors, according to an illustrative implementation; -
FIG. 12 depicts a graph showing the gain loss of the system depicted inFIG. 7 as a function of phase shift, according to an illustrative implementation; -
FIG. 13 depicts a graph illustrating a start-up procedure of a resonating proof mass, according to an illustrative implementation; -
FIG. 14 depicts a graph showing sense signals of an inertial device during resonator start-up, according to an illustrative implementation; -
FIG. 15 depicts a system that includes two TDS structures and a graph that depicts capacitance profiles of the TDS structures, according to an illustrative implementation; -
FIG. 16 depicts a system for determining acceleration with a transimpedance amplifier (TIA), according to an illustrative implementation; -
FIG. 17 depicts a graph illustrating signals of the system depicted inFIG. 16 , according to an illustrative implementation; -
FIG. 18 depicts a system for determining acceleration with a charge amplifier (CA), according to an illustrative implementation; -
FIG. 19 depicts a graph illustrating signals of the system depicted inFIG. 18 , according to an illustrative implementation; -
FIG. 20 depicts a graph illustrating displacement of a proof mass and TDS timing events, according to an illustrative implementation; -
FIG. 21 depicts a graph showing various time intervals that can be extracted from a differential TIA output, according to an illustrative implementation; -
FIG. 22 depicts a summing block illustrating signal flows for using an analog-to-digital converter (ADC) to digitally reproduce an analog input signal, according to an illustrative implementation; -
FIG. 23 depicts the use of linear interpolation to determine zero crossings of a digitized signal, according to an illustrative implementation; -
FIG. 24 depicts a graph illustrating zero-crossings of an ADC digital output signal, according to an illustrative implementation; -
FIG. 25 depicts a graph that shows an upsampled AFE output curve, according to an illustrative implementation; -
FIG. 26 depicts a block diagram illustrating signal flows of the arccosine algorithm, according to an illustrative implementation; -
FIG. 27 depicts a block diagram illustrating the signal flows of the arctangent algorithm, according to an illustrative implementation; -
FIG. 28 depicts a graph that shows the digital output of the arctangent algorithm for a low amplitude of proof mass oscillation, an amplitude that does not result in phase wrap events, according to an illustrative implementation; -
FIG. 29 depicts a graph showing the output of the arctangent algorithm when a proof mass has an oscillation amplitude larger than one-half the pitch distance of a TDS structure, according to an illustrative implementation; -
FIG. 30 depicts a graph showing a digital output signal of the arcsine algorithm, where the proof mass has an oscillation amplitude greater than one-half the pitch, causing phase wraps, according to an illustrative implementation; -
FIG. 31 depicts a method illustrating phase unwrapping in the arccosine and arcsine algorithms, according to an illustrative implementation; -
FIG. 32 depicts an example of phase unwrap error due to excessive noise at the phase unwrap boundary, according to an illustrative implementation; -
FIG. 33 depicts capacitive signals of an inertial device with a proof mass that is driven to amplitudes that do not cause false phase transitions, according to an illustrative implementation; -
FIG. 34 depicts capacitance curves of an inertial device with a proof mass driven at two different amplitudes, according to an illustrative implementation; -
FIG. 35 illustrates the error reduction from interpolation, according to an illustrative implementation; -
FIG. 36 depicts an enlarged view of the phase error curves depicted inFIG. 35 , according to an illustrative implementation; -
FIG. 37 depicts an inertial device with TDS structures that have four different phase offsets, according to an illustrative implementation; -
FIG. 38 depicts an in-phase capacitance curve and a quadrature capacitance curve at a drive amplitude of 2 microns, according to an illustrative implementation; -
FIG. 39 depicts an in-phase capacitance curve and a quadrature capacitance curve at a drive amplitude of 7 microns, according to an illustrative implementation; -
FIG. 40 depicts an in-phase capacitance curve and a quadrature capacitance curve at a drive amplitude of 12 microns, according to an illustrative implementation; -
FIG. 41 depicts analog output signals of differential charge amplifiers at a proof mass oscillation of 7 microns, according to an illustrative implementation; -
FIG. 42 depicts analog output signals of differential charge amplifiers at a proof mass oscillation of 4 microns, according to an illustrative implementation; -
FIG. 43 depicts a ratio of quadrature and in-phase signals, according to an illustrative implementation; -
FIG. 44 depicts the arctangent of the quadrature to in-phase signal ratio without unwrapping, according to an illustrative implementation; -
FIG. 45 depicts a proof mass position after unwrapping, according to an illustrative implementation; and -
FIG. 46 depicts an enlarged view of a portion ofFIG. 45 , showing the difference between a true displacement and a digital estimate, according to an illustrative implementation. - The systems and methods described herein extract inertial information from nonlinear periodic signals. In particular, the systems and methods described herein produce an analog signal that varies nonlinearly and nonmonotonically in response to monotonic motion of a proof mass. In some examples, the proof mass is oscillated periodically, and so the analog signal also oscillates periodically. Inertial information is extracted from the nonlinear, nonmonotonic analog signal.
- In some examples, the proof mass is driven to oscillate in a substantially sinusoidal motion, which causes the analog signal to oscillate substantially sinusoidally. The proof mass can be driven in an open-loop manner, or it can be driven by an analog or a digital closed-loop drive. One way to produce a nonmonotonic signal from a monotonic motion of the proof mass is to oscillate a surface of the proof mass relative to an opposing surface, both surfaces having some nonplanarity. In some examples, the opposing surface is located on a frame of the inertial device, such that the opposing surface experiences the same acceleration as the inertial device.
- One example of a surface nonplanarity is a single asperity, or a tooth. Teeth on opposing surfaces can be aligned when the proof mass is in a rest position, or the teeth can be shifted with respect to each other at rest. As the proof mass moves with respect to the opposing surface in a motion that maintains the nominal gap between the proof mass and the opposing surface, the spacing between the tips of the teeth changes. As the teeth approach and then move past each other, the spacing between the respective teeth varies nonmonotonically, because it decreases and then increases. The spacing changes nonmonotonically even though the motion of the proof mass is monotonic over this region. This nonmonotonic change in spacing between the teeth produces an analog signal that also changes nonmonotonically based on a monotonic motion of the proof mass. The analog signal can be received by a sensor that responds to motion of the proof mass. The sensor can comprise an electrode. The electrode can electrostatically interact with the proof mass. The analog signal can be produced as a result of electrostatic interaction between the proof mass and the opposing surface. Depending on the configuration of the sensor, the analog signal can be a capacitance, a capacitive current, an inductance, an inductive current, a tunneling current, an optical signal, an electromagnetic signal, or another similar signal. An electrical voltage can be applied between the proof mass and the opposing surface to aid in generating the analog signal.
- There are other possible ways to create a spatial frequency that is higher than the drive frequency and that would be to use coupled oscillator systems where sums and differences of the two resonator frequencies are generated. For the coupled oscillator example, the geometric dimension is tied to the length, width and thickness of the complaint spring structures used to establish the resonant frequencies of each of the coupled oscillators.
- Another possibility is an optical shuttering system (where optics are used instead of electrostatics). The shuttering mechanism is attached to the oscillating proof mass and a sensor is positioned to detect light from a source. The shuttering mechanism modulates the intensity of the transmitted light. Changes in the light transmission resulting from movement of the shuttering mechanism with the proof mass are sensed by the optical sensor. In this case, as a result of changes in the position of the shutter, there can be an increase, such as a doubling, in modulation frequency as the light is passed through the shutter relative to an oscillation of the proof mass, such as two times per oscillation cycle of the proof mass. The sensor responds to the changes in transmission resulting from motion of the proof mass, such that the reference mass interacts with the sensor, and produces a resulting analog signal.
- Alternatively, again using optics, is to create an optically resonant cavity such as a Fabry-Perot wherein one of the mirrors is attached to the proof mass. If the proof mass oscillates such that the cavity spacing between the mirrors changes, and if the oscillation amplitude is large enough, the cavity will spatially pass multiples of n*λ/2 where λ is the wavelength of light and n is the index of refraction of the optical cavity. Every time the spatial mirror gap reaches n*λ/2, a maximum in optical transmission occurs. So as long as the drive amplitude>n*λ/2 multiple max or min values will be reached every oscillation cycle. In this way, the optical sensor will sense the variation in transmission resulting from motion of the proof mass, such that the reference mass interacts with the sensor, and the sensor responds to the position (and motion) of the proof mass to produce an analog signal. For the optical resonator, the geometrical dimension is tied to the wavelength of light used.
- In some examples, it is desirable to amplify the analog signal by using a proof mass with an array of teeth and an opposing surface with another array of teeth. Each array of teeth is regularly spaced, with a pitch defining the distance between adjacent teeth in the array. The two arrays of teeth have the same pitch so that amplification of the produced signal is maximized. In other words, there exists a relative position of the proof mass such that all of the teeth in the array on the proof mass are at the minimum separation from the opposing teeth in the array on the opposing surface. In some examples, the produced signal can be amplified further by interdigitating the proof mass with the opposing surface and arranging arrays of teeth on each of the interdigitated surfaces of the proof mass and the opposing surface.
- The teeth can be rectangular, triangular, or another shape. The shape of the teeth determines the specific relationship between the produced signal and the motion of the proof mass, but does not change the nonmonotonicity.
- An analog front end (AFE) converts the analog signal produced by the teeth to an analog voltage signal. The AFE does this by generating an analog voltage that is linearly proportional to the analog signal produced by the teeth. Thus, the analog voltage signal is also nonlinear and nonmonotonic. The AFE can be selected based on the type of analog signal to be measured. If the analog signal to be measured is a capacitance, the AFE can be a capacitance-to-voltage (C-to-V) converter such as a charge amplifier (CA) or a bridge with a general impedance converter (GIC). If the produced signal is a current such as a capacitive current or a tunneling current, the AFE can include a current amplifier such as a transimpedance amplifier (TIA). If the analog signal to be measured is optical, the AFE can include an optical device such as a photodiode or a charge coupled device. If the produced signal is electromagnetic, the AFE can include an antenna.
- In some examples the inertial devices includes a time-to-digital converter (TDC) to convert the analog voltage signal to a digital signal. The TDC measures times at which the analog signal crosses certain thresholds, such as when the analog signal experiences maxima, minima, zeros, or other values. In some examples, the TDC produces a binary output that switches between two values when the analog voltage signal crosses these thresholds.
- In some examples, the inertial device uses an analog-to-digital converter (ADC) to convert the analog voltage signal to a digital signal. The digital signal can then be used to determine inertial information. In some examples, the inertial device can include digital circuitry which extracts inertial information from the digital signal produced by the ADC or the TDC.
-
FIG. 1 depicts aninertial device 100 that extracts inertial information from nonlinear periodic signals. Theinertial device 100 includes aproof mass 102 that is connected toanchors springs FIG. 1 also depicts a coordinatesystem 122 with an x axis, a y axis perpendicular to the x axis, and a z axis perpendicular to each of the x and y axes. Theproof mass 102 is driven along the x axis by drive combs 114 a and 114 b (collectively, drive combs 114). An AC voltage applied to the drive combs 114 causes theproof mass 102 to oscillate along the x axis. Theinertial device 100 includes sense combs 118 a, 118 b, 118 c, and 118 d (collectively sense combs 118) used to detect motion of theproof mass 102. As theproof mass 102 oscillates along the x axis, the capacitance between the sense combs 118 and theproof mass 102 varies. This varying capacitance causes a capacitive current to flow when a DC sense voltage is applied between the sense combs 118 and theproof mass 102. This capacitive current, which is proportional to the position of theproof mass 102, can be used to determine drive amplitude and velocity of theproof mass 102. The sense combs 118 are linear in that they produce an analog output signal (e.g., current or capacitance) that is a monotonic and linear (or substantially linear) function of the position of theproof mass 102. - The
inertial device 100 can include a digital closed-loop drive which regulates the amplitude of the motion of theproof mass 102 to a desired value. The digital closed-loop drive can use the drive amplitude and velocity of the proof mass determined using the sense combs 118. The digital (closed-loop drive) compares the measured motion of theproof mass 102 to the desired value and regulates the voltage applied to the drive combs 114 to maintain the amplitude of theproof mass 102 at the desired value. - The
proof mass 102 includes arrays ofmovable teeth inertial device 100 includes fixedbeams teeth proof mass 102 moves monotonically along the x axis, capacitance between theproof mass 102 and the fixed beams 108 varies nonmonotonically, increasing as teeth align with adjacent teeth and decreasing as teeth align with gaps. In some examples, as is depicted inFIG. 1 , the inertial device includes arrays of teeth arranged with phase offsets. In the example depicted inFIG. 1 , when theproof mass 102 is in its neutral position, teeth of the movable teeth 104 align with teeth of the fixedteeth proof mass 102 is in the neutral position, as shown inFIG. 1 , teeth of the fixedteeth teeth teeth teeth teeth proof mass 102 and the fixed beams 108. - The
inertial device 100 includes a device layer comprising the features depicted inFIG. 1 . Theinertial device 100 also includes a top layer (not shown) above the device layer and a bottom layer (not shown) below the device layer. The anchors 112, the fixed beams 108, the drive combs 114, and the sense combs 118 are connected to one or both of the top layer (not shown) and the bottom layer (not shown). Theproof mass 102 can move freely within the plane of the device layer. - In some examples, the
proof mass 102 is at a ground voltage, as it is electrically connected to the anchors 112 by thesprings 110. In these examples, the anchors 112 are grounded through their connection to the bottom layer (not shown) or the top layer (not shown). In some examples, a DC voltage is applied to the fixed beams 108. In some examples, the DC voltage applied is 2.5 V. In some examples, DC voltages of opposite polarities are applied to the sense combs 118 to enable a differential capacitance measurement. In some examples, a voltage of +2.5 V is applied to the sense combs 118 c and 118 d, and a DC voltage of −2.5 V is applied to the sense combs 118 a and 118 b. In some examples, the AC voltages applied to the respective drive combs 114 a and 114 b are of equal amplitudes, but 180° out of phase. In these examples, the drive combs 114 alternately electrostatically attract, or “pull,” the proof mass. -
FIG. 2 depicts a schematic of aninertial device 202 andenlarged views inertial device 202. The view of theinertial device 202 schematically depicts a proof mass and movable and fixed teeth. The view ofinertial device 202 includes an area ofinterest 204 that includes both movable teeth connected to the proof mass and fixed teeth connected to an anchor. Theenlarged view 206 is an enlarged view of features of the area ofinterest 204. Theenlarged view 206 depicts a time-domain-switched (TDS)structure 207 that includes a fixedelement 216 and amovable element 220. Themovable element 220 is connected to the proof mass 203, while the fixedelement 216 is anchored to a bottom layer (not shown) and/or a top layer (not shown) of theinertial device 202. The fixedelement 216 includes a plurality of fixed beams, including a fixedbeam 218. Likewise, themovable element 220 includes a plurality of movable beams, including amovable beam 222. Theenlarged view 206 also includes an area ofinterest 208. - The
enlarged view 210 is an enlarged view of the area ofinterest 208 and depicts fixed and movable beams, including the fixedbeam 218 and themovable beam 222. Theenlarged view 210 also includes an area ofinterest 212. - The
enlarged view 214 is an enlarged view of the area ofinterest 212. Theenlarged view 214 depicts the fixedbeam 218 and themovable beam 222. The fixedbeam 218 includes fixedteeth movable beam 222 includesmovable teeth pitch distance 228, and the centers of the movable teeth 224 are separated by thesame pitch distance 228. Furthermore, the teeth of themovable beam 222 and the teeth of the fixedbeams 218 have the same widths and have the same gaps between adjacent teeth. -
FIG. 3 depicts agraph 300 that shows the relationship between capacitance of the TDS structure 207 (FIG. 2 ) and displacement of the movable element 220 (FIG. 2 ). Thegraph 300 includes acapacitance curve 302 representing capacitance as a function of displacement of the movable element 220 (FIG. 2 ). Thecapacitance curve 302 is centered at amiddle level 306 and ranges between amaximum level 304 and aminimum level 308. Thecapacitance curve 302 reaches themaximum level 304 when the teeth of the movable element 220 (FIG. 2 ) are aligned with teeth of the fixed element 216 (FIG. 2 ). Thecapacitance curve 302 reaches theminimum level 308 when the teeth of the movable element 220 (FIG. 2 ) are anti-aligned (e.g., aligned with gaps between) the teeth of the fixed element 216 (FIG. 2 ). While changes in voltage applied between the fixed element 216 (FIG. 2 ) and the movable element 220 (FIG. 2 ) can affect the amplitude of thecapacitance curve 302, thecapacitive curve 302 and themaximum level 304 and theminimum level 308, changes in voltage will not affect the displacement at which the capacitive curve reaches a maximum or minimum. Thecapacitance curve 302 reaches maximum and minimum levels at permanently fixed positions that are defined during fabrication of the inertial device 202 (FIG. 2 ), because thecapacitance curve 302 reaches these level when teeth are aligned or anti-aligned. Thus, the displacement at which the capacitive curve reaches themaximum level 304 or theminimum level 308 are unaffected by drift in the voltage applied between the fixed element 216 (FIG. 2 ) and the movable element 220 (FIG. 2 ). - The
graph 300 also depicts displacement levels that include a −P displacement level 318, a −3P/4displacement level 326, a −P/2displacement level 314, a −P/4displacement level 322, a 0displacement level 310, a +P/4displacement level 320, a +P/2displacement level 312, a +3 P/4displacement level 324, and a +P displacement level 316. Thegraph 302 reaches themaximum capacitance level 304 at thedisplacement levels minimum capacitance level 308 at thedisplacement levels capacitance curve 302 intersects themiddle level 306 at thedisplacement levels capacitance curve 302 experiences maxima when the movable element 220 (FIG. 2 ) has moved integer multiples of the pitch distance from its neutral position. Thecapacitance curve 302 experiences minima when the movable element 220 (FIG. 2 ) has moved one-half the pitch distance from its neutral position in either direction. - The movable element 220 (
FIG. 2 ) is resonated with the respect to the fixed element 206 (FIG. 2 ). As the movable element oscillates in sinusoidal motion, the capacitance varies periodically according to thecapacitance curve 302. The periodic variation depends on factors including the shape of the teeth of themovable element 220 and the fixedelement 206, the size of gaps between the teeth, and manufacturing variations. In some examples, the periodic variation is sinusoidal, in some examples, the periodic variation is semi-sinusoidal, and in some examples, the periodic variation is not sinusoidal. Because the movable element 220 (FIG. 2 ) is connected to the proof mass 203 (FIG. 2 ), an acceleration applied to the inertial device will affect the motion of the proof mass 203 (FIG. 2 ) and the movable element 220 (FIG. 2 ). The acceleration applied to the inertial device 202 (FIG. 2 ) will affect thecapacitance curve 302 by shifting themaximum level 304, themiddle level 306, and theminimum level 308 in proportion to the magnitude of the acceleration. This offset in thecapacitance curve 302 can be measured and used to determine the applied acceleration. The applied acceleration is measured with respect to the pitch distance, which is a fixed spatial constant defined by the fabrication process. -
FIG. 4 depicts agraph 400 showing differential capacitance and displacement of a TDS structure such as the TDS structure 207 (FIG. 2 ). Thegraph 400 includes a differentialTDS capacitance curve 404 and adisplacement curve 402. Thedisplacement curve 402 represents the motion of a proof mass (e.g., 102 (FIG. 1 )) as a function of time. The differentialTDS capacitance curve 404 represents a difference in capacitance between an in-phase TDS structure (e.g., 105 b, 105 c (FIG. 1 )) and an out-of-phase TDS structure (e.g., 105 a, 105 d (FIG. 1 )). Thegraph 400 includestimes TDS capacitance curve 404 reaches a maximum and at which a proof mass (e.g., 102 (FIG. 1 )) is displaced at integer multiples of the pitch distance from a neutral position. Thegraph 400 also includestimes TDS capacitance curve 404 reaches a minimum. Thegraph 400 also includestimes graph 400 also includes adisplacement level 420 at which thedisplacement curve 402 reaches a minimum and adisplacement level 422 at which thedisplacement curve 402 reaches a maximum. The differentialTDS capacitance curve 404 also reaches a maximum at thetimes times times TDS capacitance curve 404 only reaches a maximum at thetimes FIG. 1 )) reverses direction at these times. Thus, the maximum in capacitance at thetimes FIGS. 1 and 2 )). As, as such, the maximum in capacitance at thetimes Equation 1 illustrates the dependence on time and displacement of the differentialTDS capacitance curve 404. -
C(t)=C[x(t)] [1] -
Equation 2 shows the relationship between displacement and time of thedisplacement curve 402. -
x(t)=A·sin(ω0(t)+ . . . x(t)INERTIAL [2] - As shown in
equation 2, thedisplacement curve 402 is affected by a sinusoidal drive component and an inertial component. - The
time interval T 1 428 corresponds to the interval betweentimes time interval T 2 430 corresponds to the interval betweentimes time intervals T 1 428 andT 2 430 can be used as shown in equations 3-6 to determine oscillation offset A of the proof mass (e.g., 102 (FIG. 1 )) and acceleration A of the inertial device (e.g., 100 (FIG. 1 )). -
-
FIG. 5 depicts a block diagram 500 illustrating signal flows of a system for determining inertial perimeters from an inertial device (e.g., 100, 202 (FIGS. 1 and 2 )). The block diagram 500 includes adrive controller 502 that applies adrive voltage 504 to aMEMS TDS sensor 506. TheMEMS TDS sensor 506 can be the inertial device 100 (FIG. 1 ) or the inertial device 202 (FIG. 2 ), and thedrive voltage 504 can be applied to the drive combs 114 (FIG. 1 ) to oscillate a proof mass (e.g., 102). Adrive sense capacitance 508 of theMEMS TDS sensor 506 is detected by a drivesense pickoff AFE 510. Thedrive sense capacitance 508 can be a capacitance of the sense combs 118 (FIG. 1 ). TheAFE 510 generates ananalog output 512 that is proportional to an estimate of drive amplitude. Theanalog output 512 is received by thedrive controller 502 and used to adjust thedrive voltage 504 to regulate the motion of the proof mass (e.g., 102, 203 (FIGS. 1 and 2 )) to a constant amplitude. TheMEMS TDS sensor 506 generates aTDS capacitance 514 that is detected by aTDS AFE 516. TheTDS AFE 516 can be a charge amplifier (CA), a transimpedence amplifier (TIA), or a bridge with a general impedance converter (GIC). TheTDS AFE 516 produces ananalog output 518 that is a representation of theTDS capacitance signal 514. Theanalog output 518 is digitized bydigitization circuitry 520. Thedigitization circuitry 520 can be a time-to-digital converter (TDC) or an analog-to-digital converter (ADC). Thedigitization circuitry 520 produces adigital signal 522 that is a digital representation of theTDS capacitance signal 514. Thedigital signal 522 is received bydigital circuitry 524 that implements one or more TDS inertial algorithms (including the cosine, arcsine, arccosine, and arctangent algorithms) to determine amplitude, frequency, and acceleration information 526 of theMEMS TDS sensor 506. -
FIG. 6 depicts a block diagram 600 showing signal flows and exemplary implementations of the systems and methods described herein. The block diagram 600 schematically depicts aMEMS structure 602 that includes aproof mass 608 andTDS structures TDS structure 604 is an in-phase TDS structure and theTDS structure 606 is an out-of-phase TDS structure. In some examples, the out-of-phase TDS structure 606 may be shifted by a portion of the pitch distance. Theproof mass 608 oscillates with its motion schematically depicted bygraph 610. As a result of the motion of theproof mass 608, theTDS structures capacitive signals graphs differential AFE 616. Thedifferential AFE 616 can beCA 618 or aTIA 620. Thedifferential AFE 616 outputs ananalog signal 626 that corresponds to the difference between the non-linear capacitive signals 611 and 613. If theAFE 616 is aCA 618, theanalog signal 626 is a voltage that represents capacitance of theTDS structures graph 622. If theAFE 616 is aTIA 620, theanalog signal 626 is a voltage that represents a time rate of change of capacitance of theTDS structures graph 624. - In some examples, the
analog signal 626 is received by acomparator 628 that outputs an rectangular-wave signal 629 based on comparing theanalog signal 626 to one or more thresholds. If theAFE 616 is aCA 618, the rectangular-wave signal 629 represents times at which the capacitance of theTDS structure graph 630. If theAFE 616 is aTIA 620, the rectangular-wave signal 629 represents times at which the time rate of change of capacitance of theTDS structures graph 634. The rectangular-wave signal 629 is received by a time-to-digital converter (TDC) which provides digital signals representing timestamps of threshold crossings to digital circuitry that implements a cosine algorithm to determine acceleration of theinertial device 602. - In some examples, the
analog signal 626 is received by anADC 634. TheADC 634 generates adigital signal 635 that represents theanalog signal 626. If theAFE 616 is aCA 618, thedigital signal 635 represents a capacitance of theTDS structures AFE 616 is aTIA 620, thedigital signal 635 represents a time rate of change of capacitance of theTDS structures digital circuitry 640 receives thedigital signal 635 and performs digital interpolation to determine times at which thedigital signal 635 crosses a threshold, and then implements the cosine algorithm to determine proof mass displacement and/or acceleration of theinertial device 602 based on the timestamps. In some examples,digital circuitry 642 receives thedigital signal 635 and implements an arctangent algorithm to determine proof mass displacement and/or acceleration of theinertial device 602 based on thedigital signal 635. In some examples,digital circuitry 644 receives thedigital signal 635 and implements an arccosine or an arcsine algorithm to determine proof mass displacement and/or acceleration of the inertial device based on thedigital signal 635. Accordingly, aCA 618 or aTIA 620 can be used in conjunction with acomparator 628 or anADC 634 and digital circuitry to implement the cosine algorithm, the arctangent algorithm, the arccosine algorithm, or the arcsine algorithm. -
FIG. 7 depicts asystem 700 using digital control to control drive velocity. Thesystem 700 includes anoscillating structure 715. Theoscillating structure 715 can be the drive frame 120 (FIG. 1 ). Theoscillating structure 715 includesdrive capacitors oscillating structure 715 to oscillate. Theoscillating structure 715 also includessense capacitors current signals transimpedance amplifier system 712. The transimpedance amplifier system produces differential output signals that are provided to a fixedgain amplifier 728 and a low-pass filter 713. The output of the low-pass filter 713 is provided to acomparator 714 which produces a rectangular-wave drive sync signal. - The outputs of the fixed
gain amplifier 728 are provided to a kick-start subsystem 740. The kick-start subsystem 740 includes a set of switches and a high voltage kick-start pulse sequence used to initiate oscillations of theoscillating structure 715. When theoscillating structure 715 is oscillating in steady state, the kick-start subsystem 740 simply passes the outputs of the fixedgain amplifier 728 on as the drive signals 724 and 726. The drive signals 724 and 726 are provided to the drive capacitors 718 and cause the drive capacitors 718 to drive theoscillating structure 715 into oscillation. - The
system 700 includes a digital automaticgain control loop 730. The digital automaticgain control loop 730 includesamplitude computation circuitry 732. Theamplitude computation circuitry 732 uses time intervals from nonlinear periodic capacitors such as the TDS structures (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )) to determine amplitude of the oscillations of theoscillating structure 715. Theamplitude computation circuitry 732 produces an amplitude output which is subtracted from a desired amplitude atblock 734 to produce an error signal which is provided to adigital controller 736. Thedigital controller 736 can use proportional-integral-derivative (PID) control to adjust abias voltage 738 that is provided to the common mode offset terminals of theamplifier 728 and the amplifier in theamplifier system 712. By using digital control to adjust the output common mode voltage level of the amplifiers, thesystem 700 maintains a desired drive amplitude. Thesystem 700 could also maintain a desired drive frequency. By controlling drive amplitude and/or frequency, the velocity of theoscillating structure 715 is controlled. -
FIG. 8 depicts a block diagram 800 representing signal flows and transfer functions of the system 700 (FIG. 7 ). The block diagram 800 includes a MEMS dynamics block 802 reflecting the transfer function of force into oscillator velocity. The oscillator velocity from the MEMS dynamics block 802 is provided to asense capacitor block 804 which includes a transfer function for transferring oscillator velocity into sense current. The sense current produced by thesense capacitor block 804 is provided to atransimpedance amplifier block 806 which converts sense current into a sense voltage. The sense voltage is provided to a fixedgain amplifier block 808 which converts the sense voltage into an AC voltage to power the drive capacitors. The AC voltage is provided to asymmetric drive block 810 which represents the drive capacitors. Thesymmetric drive 810 transforms the AC voltage into a force acting on the oscillator. The block diagram 800 also includes TDC timing values 812 provided to anamplitude computation block 814. Theamplitude computation block 814 computes an amplitude which is provided to a summingblock 816. The summingblock 816 subtracts the computed amplitude from an amplitude setpoint and provides an output error to aPID controller block 818. ThePID controller block 818 provides a drive voltage control setting to thesense capacitor block 804 and thesymmetric drive block 810. -
FIG. 9 schematically depicts afeedback loop 900 that represents the closed-loop feedback of the system 700 (FIG. 7 ). Thefeedback loop 900 includes adrive voltage block 910 that provides a voltage to drive capacitors. The drive voltage produced by thedrive voltage block 910 results in aforce 902 that is in phase with thedrive voltage 910. Theforce 902 produces a proofmass displacement 904 that has a −90° phase offset from theforce 902. The proofmass displacement 904 produced a sense current 906 that has a +90° phase offset from theproof mass displacement 904. Thus, the sense current 906 is in phase with thedrive voltage 910 and theforce 902. Atransimpedance amplifier 908 produces a voltage based on the sense current 906 that is approximately in phase with the sense current 906. The voltage produced by thetransimpedance amplifier 908 is provided to thedrive voltage block 910, which adjusts the drive voltage accordingly. Thus, appropriate phase offsets are maintained throughout thefeedback loop 900. - Interdigitated electrode (IDE) capacitors provide a means for driving and sensing inertial motion of a MEMS proof mass. The drive combs 114 (
FIG. 1 ) and the sense combs 118 (FIG. 1 ) are examples of IDE capacitors. Expressions for the IDE capacitance and associated gradient terms of each of the drive combs 114 (FIG. 1 ) and each of the sense combs 118 (FIG. 1 ) are shown in equations 7-14. - The capacitance and gradient in capacitance of the left-side drive combs (e.g., 114 a (
FIG. 1 )) is given byequations -
- The capacitance and gradient in capacitance of the right-side drive combs (e.g., 114 b (
FIG. 1 )) is given byequations -
- The capacitance and gradient in capacitance of the left-side sense combs (e.g., 118 a (
FIG. 1 )) is given byequations 11 and 12. -
- The capacitance and gradient in capacitance of the right-side sense combs (e.g., 118 b (
FIG. 1 )) is given byequations 13 and 14. -
- It is assumed that fringe capacitance does not vary with position and that nonlinear capacitance contributions (e.g., parallel plate effects) are negligible. The differential force applied to the proof mass (e.g., 102, 203, 608 (
FIGS. 1, 2, and 6 )) subject to a symmetric sinusoidal drive voltage with static DC offset is given by equations 15-19. -
- This implicitly assumes that the forces produced by the drive sense and TDS pick-off capacitor pairs approximately cancel resulting in negligible influence on the overall forcing vector. The collective force is in-phase with the applied AC drive voltage excitation.
- Applied force leads to a mechanical displacement.
Equation 20 below generally provides an adequate representation of the mechanical behavior of the proof mass. -
- At resonance, the transfer of force to displacement imparts a −90° phase shift, as shown in equation 21.
-
- Motion of the proof mass causes a change in capacitance of the drive sense electrodes (e.g., 118 (
FIG. 1 )). The drive sense electronics maintain a fixed bias voltage across the drive sense electrodes, which in turn produces a detectable motion-induced current as shown in equations 22 and 23. -
i sense ={dot over (q)} sense =Ċ S(V DC −V Proof)+C S({dot over (V)} DC −{dot over (V)} Proof) [A] [22] -
i sense ={dot over (x)}∇C S(V DC −V Proof)+C S({dot over (V)} DC {dot over (V)} Proof)≈{dot over (x)}∇C S(V DC −V Proof) [23] - Given the symmetric nature of the drive design, the left and right sense currents are 180° out of phase with each other, as shown in
equations 24 and 25. This lends itself well to the fully-differential closed-loop architecture shown inFIG. 7 . -
- The first-stage amplifier converts this transduced current of
equations 24 and 25 into a voltage signal. The voltage at the output terminals of the amplifier (non-inverting/inverting, respectively) is given by equations 26 and 27. -
- The feedback impedance transfer function, ZF, determines the gain and phase lag introduced into the closed loop drive as shown in equation 28. The goal is to provide an adequate gain with minimal imposed phase lag.
-
- For charge amplifier (i.e., current integrator) C-to-V drive loop designs, (RFCF)−1<<ωo. For transimpedance (i.e., current to voltage) I-to-V designs, (RFCF)−1>>ωo.
- A secondary gain stage provides an additional signal boost (α) along with a required signal inversion. As a result, a positive AC voltage change will pull the proof mass in the +x direction. Effectively, the output signals following the secondary stage are oriented such that the detected sense current provides the necessary reinforcing drive behavior (see
FIG. 7 ). - A comparator is used to extract a timing reference signal (i.e., a “sync” trigger) used to coordinate the processing of timing events in one or more of the cosine, arcsine, arccosine, and arctangent algorithms. For drive designs using a transimpedance amplifier, the timing reference signal tracks proof mass velocity because sense current is directly proportional the rate of change of MEMS displacement (see equation 23).
- Examination of equation 19 reveals that applied force is proportional to both the AC and DC drive voltage levels. This suggests that one can linearly control the force by manipulating either signal variable (or both). The method described here makes use of the DC drive level to effect automatic control of the displacement amplitude.
- A digital proportional-integral-derivative (PID) controller compares an active measurement of proof mass displacement amplitude (obtained by one or more of the cosine, arcsine, arccosine, and arctangent algorithms) to a desired setpoint level to produce an error signal. The PID controller determines a computed drive voltage level based on the error signal. With the appropriate setting of the PID coefficients, feedback action drives the steady-state error signal to zero thus enforcing automatic regulation of the displacement amplitude.
- In general, for steady-state oscillation, the loop must satisfy the Barkhausen stability criteria, which are necessary by not sufficient conditions for stability. The Barkhausen criteria require, first, that the magnitude of the loop gain, |T(jΩ)|, is equal to unity and, second, that the phase shift around the loop is zero or an integer multiple of 2π: ∠T(jω)=2πn, n ∈ 0, 1, 2 . . . .
- Using the closed-loop transfer functions summarized in
FIG. 8 , one can determine the DC drive voltage requirement for stable oscillation (i.e., |T(jωo)|=1), as shown in equation 29. -
- The electronics can induce a phase shift which can move the oscillation frequency away from the desired mechanical resonance frequency. A transimpedance amplifier will cause a phase lag which produces a negative frequency shift as shown in
equations 30 and 31. -
- In comparison, a charge amplifier produces a positive frequency shift resulting from its induced phase lead, as shown in
equation 32. -
- The gain loss is a measure of the degradation of the mechanical displacement resulting from a phase-shifted isolation frequency ω* as shown in equation 33 and 34.
-
-
FIG. 10 depicts a Bode plot with amagnitude graph 1000 and aphase graph 1050. Themagnitude graph 1000 depicts the magnitude of the transfer function of equation 34 at various quality factors Q. Thephase graph 1050 depicts the phase of the transfer function of equation 34 as a function of frequency for various quality factors Q. -
FIG. 11 depicts agraph 1100 showing the change in oscillation frequency as a function of phase shift for various quality factors Q. As the quality factor decreases, the oscillation frequency exhibits a greater dependence on the phase shift. -
FIG. 12 depicts agraph 1200 showing the gain loss as a function of phase shift. As the quality factor Q increases, the gain loss becomes more dependent on phase shift. Thus, for a given phase shift, low-Q resonators demonstrate a larger shift in oscillation frequency with minimal loss of displacement amplitude. The contrary is true for high-Q devices; gain loss is more severe while oscillation frequency deviation remains small. -
FIG. 13 depicts agraph 1300 illustrating a start-up procedure of a resonating proof mass (e.g., 102, 203, 608 (FIGS. 1, 2, and 6 )). The resonator's start-up procedure includes a sequence of open-loop high-voltage pulses that are alternately applied to left and right drive capacitors (e.g., 114 a and 114 b, respectively (FIG. 1 )) at the expected resonant frequency of the proof mass (e.g., 102, 203, 608 (FIGS. 1, 2, and 6 )). In some examples, the pulses are applied with a duty cycle of approximately 20-25%. Thegraph 1300 includes a left combdrive voltage curve 1302 and a right combdrive voltage curve 1304. Thegraph 1300 also includes atime 1306 at which the open-loop start-up sequence ends and the resonator is oscillated in closed-loop drive mode at a lower voltage. Thegraph 1300 also includes atime interval 1308 depicting the settling time of the resonator, corresponding to the time required for the resonator to enter into steady-state oscillations. In the example depicted inFIG. 13 , the settlingtime interval 1308 is approximately 10 milliseconds from initiation of the start-up sequence. As depicted inFIG. 13 , an initial set of open-loop high-voltage drive pulses are used to rapidly increase the amplitude of the oscillation of the proof mass. The left and right combdrive voltage curves FIGS. 1, 2, and 6 )) is driven for a greater proportion of the time. The symmetric pulse depicted inFIG. 13 rapidly drives the proof mass (e.g., 102, 203, 608 (FIGS. 1, 2, and 6 )) from rest to an amplitude close to the desired steady-state amplitude prior to engaging the digital closed-loop controller. In the example depicted inFIG. 13 , after an initial set of twenty pulses per drive comb (e.g., 114 a, 114 b (FIG. 1 )), the digital closed-loop controller is engaged to regulate the displacement amplitude of the proof mass (e.g., 102, 203, 608 (FIGS. 1, 2, and 6 )) to the desired level. The number of required pulses and rate are predetermined for a given inertial device (e.g., 100, 202, 602 (FIGS. 1, 2, and 6 )). Pulse rate can be adjusted based on temperature and/or previously measured data, such as resonant frequency. -
FIG. 14 depicts agraph 1400 showing sense signals of an inertial device (e.g., 100, 202, 602 (FIGS. 1, 2, and 6 )) during resonator start-up. Thegraph 1400 includes adrive sense signal 102, adrive velocity curve 1404, a proofmass displacement curve 1406, and a sensecurrent curve 1408. Thegraph 1400 also includes atime 1410 at which the open-loop start-up ends and the digital closed-loop controller is engaged. Thetime 1410 corresponds to the time 1306 (FIG. 13 ). The open-loop sequence prior to thetime 1410 lasts approximately 7 milliseconds and the proof mass (e.g., 102, 203, 608 (FIGS. 1, 2, and 6 )) experiences an approximately linear increase in amplitude with time. After thetime 1410, closed-loop regulation maintains the desired displacement amplitude and rejects disturbances. By applying alternating high-voltage open-loop pulses prior to engaging the digital closed-loop controller, the proof mass (e.g., 102, 203, 608 (FIGS. 1, 2, and 6 )) is rapidly brought to the desired oscillation amplitude. - Once the initial start-up sequence is complete and the displacement of the proof mass (e.g., 102, 203, 608 (
FIGS. 1, 2, and 6 )) is sufficiently large to produce timing measurements for use in determining inertial perimeters, a TDS algorithm (e.g., one or more of the cosine, arcsine, arccosine, and arctangent algorithms) can determine amplitude estimates of the proof mass displacement. A digital proportional-integral-derivative (PID) scheme can provide effective closed-loop regulation of resonator oscillation. The digital controller (e.g., 736, 818 (FIGS. 7 and 8 )) is derived from an equivalent continuous time PID controller design. The digital controller (e.g., 736, 818 (FIGS. 7 and 8 )) accepts digital displacement measurements that are subtracted from a desired setpoint to produce an error signal, which is processed to produce an updated drive DC voltage setting (VDC). The drive force is proportional to the DC and AC drive voltage levels. The DC drive voltage is controlled using a digital potentiometer and a buffer circuit. The controller's maximum update rate is set by the sample rate, which is in turn determined by the resonant frequency of the proof mass (e.g., 102, 203, 608 (FIGS. 1, 2, and 6 )). The digital controller (e.g., 736, 818 (FIGS. 7 and 8 )) determines the DC drive voltage according to equation 35 below. -
- Where e(t) is the difference between the desired setpoint and the measured displacement.
- The Laplace transform of equation 35 is shown in equation 36.
-
- For digital implementations, the Z-transform is more appropriate and is shown in equation 37.
-
- Equation 37 can be rearranged as shown in equation 38.
-
- The digital PID coefficients can be defined in terms of the more intuitive continuous-time coefficients as shown in
equations 39, 40, and 41. -
K 1 =K p +K L +K d [39] -
K 2 =−K p−2K d [40] -
K3=Kd [41] -
Equations 39, 40, and 41 can be used to rewrite equation 38 as shown in equation 42. -
V DC(z)−z −1 V DC(z)=[K 1 +K 2 z −1 +K 3 z −2 ]E(z) [42] - Equation 42 can be converted to a difference equation suitable for implementation as shown in equation 43.
-
v DC(n)=v DC(n−1)+K 1 e(n)+K 2 e(n−1)+K 3 e(n−2) [43] - The digital error signal e(n) in equation 43 represents the difference between the desired displacement and displacement amplitude measurements, as shown in equation 44.
-
e(n)=Δx Setpoint Δx n [m] [44] - The block diagram 800 (
FIG. 8 ) can be used to determine a VDC gain setting required to stabilize the closed-loop drive when the digital loop converges to steady state as shown in equation 45 and 46. -
- Selection of PID perimeters can be performed either manually or automatically using additional algorithms to obtain adequate enclosed-loop performance. When properly tuned, a good regulator design should provide a favorable balance between robust stability and rejection of disturbances in the resonator's displacement amplitude.
-
FIG. 15 depicts asystem 1500 that includes two TDS structures and agraph 1550 that depicts capacitance profiles of the TDS structures. Thesystem 1500 includes an in-phase TDS structure 1501 and an out-of-phase TDS structure 1503. Thesystem 1500 includes a fixedbeam 1502 and amovable beam 1504. The in-phase TDS structure 1501 includesmovable teeth movable beam 1504 and fixedteeth beam 1502. The out-of-phase TDS structure 1503 includesmovable teeth movable beam 1504 and fixedteeth beam 1502. The fixedbeam 1502 is connected by an anchor (not shown) to a top layer (not shown) and/or a bottom layer (not shown). Themovable beam 1504 is connected by aspring 1514 a to ananchor 1516 a and by aspring 1514 b to ananchor 1516 b. Themovable beam 1504 oscillates as shown by thearrow 1505. As themovable beams 1504 oscillates, the capacitance of theTDS structures FIG. 15 depictspitch distances - The
graph 1550 illustrates the variation of capacitance of theTDS structures movable beam 1504. Thegraph 1550 includescapacitance curves TDS structures graph 1550 includes apitch distance 1556, corresponding to the pitch distance 1518. Thegraph 1550 includesdisplacement levels pitch distance 1556. Because of the movable teeth 1512 are offset by one-half the pitch distance 1518 from the fixed teeth 1508 when themovable beam 1504 is in the rest position, while the movable teeth 1510 are aligned with the fixed teeth 1506 when themovable beam 1504 is in the rest position, thecapacitance curve 1554 is 180° out of phase from thecapacitance curve 1552. The out-of-phase capacitance curve 1554 can be subtracted from the in-phase capacitance curve 1552 to generate a differential capacitance signal. The quantity d0 is defined by equation 47. -
-
FIG. 16 depicts asystem 1600 for determining acceleration with a TIA. Thesystem 1600 includes aninertial device 1602 which can include any or all of the features of the inertial devices described herein (e.g., 100, 202, 602 (FIGS. 1, 2, and 6 )). Theinertial device 1602 includes aproof mass 1604 which can include any or all of the features of the proof masses as described herein (e.g., 102, 203, 608 (FIGS. 1, 2, and 6 )). Theinertial device 1602 includes an in-phase TDS structure 1606 and an out-of-phase TDS structure 1608. TheTDS structures FIGS. 1, 2, 5, 6, and 15 )). TheTDS structures analog output signals analog output signals differential transimpedance amplifier 1610. Thedifferential transimpedance amplifier 1610 includes anoperational amplifier 1638,feedback resistors feedback capacitors feedback capacitor 1630 and thefeedback resistor 1632 are selected to satisfy equation 48, where coo is the oscillation frequency of theproof mass 1604. -
- The values of the
feedback capacitor 1634 and thefeedback resistor 1636 are also chosen to satisfy equation 48. Thetransimpedance amplifier 1610 generates an in-phaseTIA output signal 1612 and an out-of-phaseTIA output signal 1613. TheTIA output pass filter 1614 which removes higher-frequency components to generaterespective analog signals comparator 1616 which compares the two signals and generates a rectangular-wave signal 1618 with pulse edges corresponding to times at which a difference of theoutput signals - The rectangular-
wave signal 1618 is received by aTDC 1620 which generates digital timestamps of rising and falling edges of the rectangular-wave signal 1618. TheTDC 1620 receives async signal 1622 comprising a sync pulse and uses the sync pulse as an index for determining the timestamps. The timestamps generated by theTDC 1620 are received bydigital circuitry 1624 which implements the cosine algorithm to determine inertial parameters, including acceleration of theinertial device 1602. By using thedifferential transimpedance amplifier 1610 to measure differential signals of theinertial device 1602, thesystem 1600 can reject common-mode noise. -
FIG. 17 depicts agraph 1700 illustrating signals of the system 1600 (FIG. 16 ). Thegraph 1700 includes adisplacement curve 1702, an in-phaseTIA output curve 1704 and an out-of-phaseTIA output curve 1706. Thedisplacement curve 1702 illustrates the motion of theproof mass 1604 with respect to time. As theproof mass 1604 oscillates, the in-phaseTIA output curve 1704 and the out-of-phaseTIA output curve 1706 also oscillate and cross each other. Thegraph 1700 includes anpulse signal 1708 that represents the rectangular-wave signal 1618 generated by thecomparator 1616. - The
graph 1700 includespoints TDS structures 1606 and 1608 (FIG. 16 ). As thegraph 1700 illustrates, the in-phaseTIA output curve 1704 crosses the out-of-phaseTIA output curve 1706, and thepulse signal 1708 changes value, when the proof mass 1604 (FIG. 16 ) is at distances from its rest position that are equal to integer multiples of d0. Thus, the motion of the proof mass 1604 (FIG. 16 ) can be determined from crossings of theTIA output curves TDS structures 1606 and 1608 (FIG. 16 ). -
FIG. 18 depicts asystem 1800 for determining acceleration with a CA. Thesystem 1800 includes aninertial device 1802 which can include any or all of the features of the inertial devices described herein (e.g., 100, 202, 602 (FIGS. 1, 2, and 6 )). Theinertial device 1802 includes aproof mass 1804 which can include any or all of the features of the proof masses as described herein (e.g., 102, 203, 608 (FIGS. 1, 2, and 6 )). Theinertial device 1802 includes an in-phase TDS structure 1806 and an out-of-phase TDS structure 1808. TheTDS structures FIGS. 1, 2, 5, 6, 15, and 16 )). TheTDS structures analog output signals analog output signals differential charge amplifier 1810. Thedifferential charge amplifier 1810 includes anoperational amplifier 1838,feedback resistors feedback capacitors feedback capacitor 1830 and thefeedback resistor 1832 are selected to satisfy equation 49, where ω0 is the oscillation frequency of theproof mass 1804. -
- The values of the
feedback capacitor 1834 and thefeedback resistor 1836 are also chosen to satisfy equation 49. Thecharge amplifier 1810 generates an in-phaseTIA output signal 1812 and an out-of-phaseTIA output signal 1813. TheTIA output pass filter 1814 which removes higher-frequency components to generaterespective analog signals comparator 1816 which compares the two signals and generates a rectangular-wave signal 1818 with pulse edges corresponding to times at which a difference of theoutput signals - The rectangular-
wave signal 1818 is received by aTDC 1820 which generates digital timestamps of rising and falling edges of the rectangular-wave signal 1818. TheTDC 1820 receives async signal 1822 comprising a sync pulse and uses the sync pulse as an index for determining the timestamps. The timestamps generated by theTDC 1820 are received bydigital circuitry 1824 which implements the cosine algorithm to determine inertial parameters, including acceleration of theinertial device 1802. By using thedifferential charge amplifier 1810 to measure differential signals of theinertial device 1802, thesystem 1800 can reject common-mode noise. -
FIG. 19 depicts agraph 1900 illustrating signals of the system 1800 (FIG. 18 ). Thegraph 1900 includes adisplacement curve 1902, an in-phaseTIA output curve 1904 and an out-of-phaseTIA output curve 1906. Thedisplacement curve 1902 illustrates the motion of the proof mass 1804 (FIG. 18 ) with respect to time. As the proof mass 1804 (FIG. 18 ) oscillates, the in-phaseTIA output curve 1904 and the out-of-phaseTIA output curve 1906 also oscillate and cross each other. Thegraph 1900 includes apulse signal 1908 that represents the rectangular-wave signal 1818 (FIG. 18 ) generated by the comparator 1816 (FIG. 18 ). - The
graph 1900 includespoints TDS structures 1806 and 1808 (FIG. 18 ) and n is an integer. As thegraph 1900 illustrates, the in-phaseTIA output curve 1904 crosses the out-of-phaseTIA output curve 1906, and thepulse signal 1908 changes value, when the proof mass 1804 (FIG. 18 ) is at distances from its rest position that satisfy the quantity d0(n+½). Thus, the motion of the proof mass 1804 (FIG. 18 ) can be determined from crossings of theTIA output curves TDS structures 1806 and 1808 (FIG. 18 ). - When a charge amplifier is used instead of a transimpedance amplifier, the circuit topology is the same but the feedback time constant of the charge amplifier is selected such that its frequency pole is placed at frequencies much lower than the resonant frequency of the proof mass (e.g., 102, 203, 608, 1604, 1804 (
FIGS. 1, 2, 6, 16, and 18 )), as shown in equation 49. This ensures that the motion-induced current is integrated to produce an output that is proportional to the time-varying capacitance of the TDS structures (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )). As the time integral of current is charge, integrating the motion-induced current can be also described as charge amplification. - In some examples, a TDS structure (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (
FIGS. 1, 2, 5, 6, 15, 16, and 18 )) can be coupled to a mechanical oscillator to generate a time-varying periodic capacitive signal. The period of the capacitive signal is based on the geometry of the TDS structure, which is fixed by the fabrication process. This enables an inertial device to have stability and insensitivity to variations in amplitude and frequency of the oscillator. The time-varying capacitive signal is measured due to determine inertial parameters such as acceleration and rotation of the inertial device. In some examples, discrete-time systems and methods such as switched capacitor amplifiers and commutating, or chopping, modulating techniques are used to measure the time-varying capacitive signal. In some examples, a bridge with a general impedance converter (GIC) can be used. In some examples, continuous-time architectures such as a transimpedance amplifier or a charge amplifier can be used. - In some examples, an inertial device (e.g., 100, 202, 602, 1602, 1802 (
FIGS. 1, 2, 6, 16 , and 18)) including a proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )) and a TDS structure (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )) can measure position of the proof mass by converting a motion-induced capacitive current from the TDS structure to a voltage using the TIA circuit architecture depicted inFIG. 16 . - The total capacitive current (e.g., 1626, 1628 (
FIG. 16 )) is determined by the time-derivative of the charge of the relevant capacitor (e.g., TDS structures, 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )). Capacitor charge (Q) is the product of capacitance (C) and voltage potential across the capacitor (VC) as shown inequation 50. -
{dot over (q)}=i=ĊV C +C{dot over (V)} C [50] - If series resistance is approximately zero, an operational amplifier provides a virtually fixed potential across the capacitor, then the right-most term in
equation 50, which includes the first time derivative of the capacitor voltage, can be neglected, resulting in equation 51. -
- Therefore, the capacitive current (e.g., 1626, 1628 (
FIG. 16 )) is approximately equal to the product of the gradient of the physical capacitor (dC/dx), the velocity of the proof mass ({dot over (x)}), and the fixed potential across the capacitor (VC). In some examples, the capacitor design can include structures that force the capacitive gradient (dC/dx) to zero at geometrically fixed locations. Thus, as long as the voltage across the capacitor (VC) is not zero and the proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )) has a non-zero velocity at these locations, at least some of the times at which the capacitive current (i) is zero correspond to times at which the proof mass passes these geometrically fixed locations. This enables the zero-crossings of the capacitive current to be used in determining that the proof mass has either crossed the zero-gradient locations or has come to rest (such as at minimum or maximum displacements). The slope of the current signal (i) is given by its time derivative as shown in equation 52. -
- Equation 52 can be rewritten as equation 53.
-
- As a result, the rate of change of the capacitive current (e.g., 1626, 1628 (
FIG. 16 )) is proportional to the voltage across the capacitor (VC), the curvature of the spatial capacitance (d2C/dx2), and the square of the proof mass velocity ({dot over (x)}2). It is also in proportion to the gradient (dC/dx) of the capacitance and the acceleration of the proof mass ({dot over (x)}). Typically, the peak curvature of the capacitance occurs when the proof mass is near a position in which the capacitive gradient approaches zero and this coincides with a zero acceleration and maximum velocity condition. Therefore, equation 53 can be approximated as shown in equation 54. -
- An accurate measurement of the time associated with a zero-crossing of the current can be used to determine acceleration of the inertial device (e.g., 100, 202, 602, 1602 and 1802). These zero-crossing times correspond to fixed physical displacements of the proof mass (e.g., 102, 203, 608, 1604, 1804 (
FIGS. 1, 2, 6, 16, and 18 )) located at integer multiples of one-half of the pitch, where the pitch is the periodic spacing of the teeth in the TDS structure (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )).FIG. 15 depicts an example ofdifferential TDS structures - Uncertainty in the measurement of the zero-crossing times is given by the ratio of the electronic noise amplitude to the rate of the signal crossing. Therefore, maximizing the slope of the current signal (di/dt) can minimize the timing uncertainty of the zero-crossings of the current. Larger values of the capacitive curvature (d2C/dx2) velocity of the proof mass ({dot over (x)}) and bias by voltage (VC) can increase the slope of the current signal (di/dt) and thus would reduce uncertainty in the time measurements. These parameters can be selected based on a desired rate of signal crossing as well as other parameters to achieve a desired performance of the inertial device (e.g., 100, 202, 602, 1602, 1802 (
FIGS. 1, 2, 6, 16, and 18 )). A differential TIA can be implemented as depicted inFIG. 16 . The time constant of the feedback impedance (e.g., 1630, 1632, 1634, 1636) sets the bandwidth of theTIA 1610. The design of theTIA 1610 can balance several competing variables which can influence the performance of the sensor. For example, a large feedback resistance (e.g., 1632, 1636) improves the signal gain, but also reduces bandwidth and reduces noise. The bandwidth must be large enough to pass the spectral content of the capacitive signal (e.g., 1626, 1628) without attenuation and frequency-dependent phase shift. Signal attenuation will reduce signal slope which in turn will increase the measurement uncertainty of the zero-crossing. Excessive phase shift can distort the measured times leading to harmonic distortion of the output signals (e.g., 1612, 1613) of theTIA 1610. - In some examples, an inertial device (e.g., 100, 202, 602, 1602, 1802 (
FIGS. 1, 2, 6, 16 , and 18)) can include signal processing circuitry such as a charge amplifier that generates an output voltage that is proportional to the time-varying capacitance signal of a TDS structure (e.g., 105, 207, 506, 604, 606, 801, 1503, 1606, 1608, 1806, 1808). This architecture for signal processing circuitry can be referred to as a capacitance-to-voltage (C-to-V) architecture. - In some examples, bridge circuits may be used to determine times at which a proof mass (e.g., 102, 203, 608, 1604, 1804 (
FIGS. 1, 2, 6, 16, and 18 )) is at positions at which the capacitance of structures (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )) have equivalent values (i.e., become balanced). In some examples, this balancing may occur when in-phase TDS structures (e.g., 604, 1501, 1606, 1806) have equivalent capacitance values as out-of-phase TDS structures (e.g., 606, 1503, 1608, 1808). For an example, as depicted in thegraph 1550 ofFIG. 15 , the in-phase capacitance curve 1552 crosses the out-of-phase capacitance curve 1554 at odd multiples of displacement increments of one-fourth of the pitch. - One example of a C-to-V signal processing circuit is a charge amplifier (e.g., 1810). The
charge amplifier 1810 shares the same circuit topology as thetransimpedance amplifier 1610, but thecharge amplifier 1810 has a pole location that is at very low frequencies. The pole location is determined by the time constant of the feedback impedance (e.g., 1830, 1832, 1834, 1836). Thecharge amplifier 1810 has a low frequency pole occurring at a frequency much lower than the mechanical resonant frequency of the proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )). Thecurrent amplifier 1810 can operate to integrate current, which is operationally equivalent to charge amplification. In some examples, the pole placement is selected to be much lower than the mechanical resonant frequency of the proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )) and sufficiently low so as not to impose phase shift on the time-varying capacitive signal (e.g., 1826, 1828). The ratio of bias voltage (set by operational amplifier common mode voltage) to the feedback capacitor value determines the gain (i.e., volts per Farad), of the output signal (e.g., 1812, 1813). A smaller value of feedback capacitance (e.g., 1830, 1834) and/or a larger bias voltage will increase the signal gain. In some examples, noise is largely determined by the value of the feedback capacitor (e.g., 1830, 1834), especially if this value is quite small. The feedback capacitor's contribution to output RMS noise is proportional to sqrt(kT/CF). Other factors such as operational amplifier current and voltage noise density, parasitic capacitance, and low-pass filtering also affect the signal-to-noise ratio. - By measuring times at which the output (e.g., 1826, 1828) of the differential charge amplifier (e.g., 1810) crosses zero, the inertial parameters of the inertial device (e.g., 100, 202, 602, 1602, 1802 (
FIGS. 1, 2, 6, 16, and 18 )) can be determined. Because the differential TDS structures (e.g., 1806, 1808) are well-matched with a 180° phase relationship, they will provide reliable crossing events that correspond to fixed physical displacements. When using a charge amplifier, timing uncertainty is minimized by maximizing the capacitor gradients (i.e. first spatial derivative of the capacitance) occurring at odd multiples of one-fourth of the pitch of the TDS structure (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )). In some examples, an inertial device (e.g., 100, 202, 602, 1602, 1802 (FIGS. 1, 2, 6, 16, and 18 )) can have a proof mass of (e.g., 102, 203, 608, 1604, 1804) with a 1.2 kHz resonant frequency and a drive displacement amplitude of 12 microns. If this inertial device experiences a 1 g DC acceleration and 0.5 g and 0.2 g sinusoidal inputs at 2.5 Hz and 33.1 Hz respectively, the inertial device can have a noise level of approximately 10 μg/rtHz. - As described with reference to
FIG. 6 , inertial parameters can be determined from zero-crossing times by using transimpedance amplifiers, charge amplifiers, or switched capacitors to convert analog input signals to analog voltages. In some cases a comparator and a TDC can be used to measure zero-crossing times as digital inputs to digital circuitry implementing zero-crossing times as digital inputs to digital circuitry implementing a cosine algorithm. In some examples an ADC can be used in place of the comparator and TDC to digitize the analog voltages and to produce time measurements in the digital domain. Digital signal processing techniques, such as upsampling and interpretation, may be used to enhance the accuracy of ADC zero-crossing detection. - The methods and systems described herein utilize the periodic nature of the motion of a proof mass (e.g., 102, 203, 608, 1604, 1804 (
FIGS. 1, 2, 6, 16, and 18 )), in conjunction with TDS structures (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )) that generate capacitive signals (e.g., 1626, 1628, 1826, 1828) with measureable timing events. The timing events can be zero-crossings and can correspond to fixed spatial locations at known multiples of half-pitch and/or quarter-pitch spacing of the TDS structure. The underlying mathematical formulations behind the methods assume that the displacement offset due to an input acceleration of the inertial device of (e.g., 100, 202, 602, 1602, 1802 (FIGS. 1, 2, 6, 16, and 18 )) is constant over the duration of the resonant period, and that the sinusoidal proof mass motion is spectrally pure. In practice, the methods rely on approximations that assume that the input offset is quasi-static, exhibiting change much slower than the time scale of the resonant period. If the input offset changes more rapidly, this can result in an increased harmonic distortion of output signals. - The cosine algorithm can be implemented as described below, but can also be implemented with other forms of timing intervals, each having implications for noise, frequency response, and harmonic distortion performance.
- The proof mass (e.g., 102, 203, 608, 1604, 1804 (
FIGS. 1, 2, 6, 16, and 18 )) can be modeled as a simple harmonic oscillator experiencing a quasi-static input acceleration, and the steady-state displacement response of the proof mass takes the form of a sinusoidal signal with displacement amplitude (Δx) and constant offset (Δd) as shown in equation 55. -
x(t)=Δx·cos(θ(t))+Δd [55] - In these examples, quasi-static displacement accelerations are inertial excitations evolving over time scales much longer than the resonant period of oscillation (i.e., frequency is approaching the zero). In these examples, the relationship between input acceleration ({umlaut over (x)}) and physical offset is represented by equation 56.
-
-
FIG. 20 depicts agraph 2000 illustrating displacement of a proof mass and TDS timing events. Thegraph 2000 includes adisplacement curve 2002 corresponding to displacement of the proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )). Thegraph 2000 also includes timingevents FIGS. 4, 6, 15, 16, 17, 18, and 19 . Thegraph 2000 also includestime intervals points - In general the inertial device (e.g., 100, 202, 602, 1602, 1802 (
FIGS. 1, 2, 6, 16, and 18 )) provides measurements of times at which the proof mass crosses four known physical location (e.g., 2004, 2006, 2008, and 2010) as dictated by the geometry of the TDS structure (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )). These known physical locations correspond to a specific spatial phase points (e.g., 2016, 2018, 2020 and 2024). The measured time intervals (e.g., times at which the proof mass is at 2004, 2006, 2008 and 2010) can be used to determine an input acceleration of the inertial device. Under the quasi-static assumption, the input acceleration can be directly determined while eliminating dependence on displacement amplitude (Δx) and frequency. This is because information about the period of the oscillation of the proof mass is actively measured each cycle by measuring thetime intervals Equations 57, 58, 59, and 60 can be used to express the relationships between physical locations, phase points, measured time intervals and oscillation offset. -
Δx·cos(θ1)+Δd=Δx·cos(2πf o t 1)+Δd=d 1 [57] -
Δx·cos(θ2)+Δd=Δx·cos(2πf o t 2)+Δd=d 2 [58] -
Δx·cos(θ3)+Δd=Δx·cos(2πf o t 3)+Δd=d 3 [59] -
Δx·cos(θ4)+Δd=Δx·cos(2πf o t 4)+Δd=d 4 [60] - The resonant frequency is inversely related to the resonant period and can be measured independently using
time intervals -
- The average resonant frequency estimated can be determined from the average measured period as shown in equation 62.
-
- In equation 63, equations 59 and 58 are added and trigonometric sum-to-product formulas are applied.
-
2Δd+Δx·cos(2πf o t 3)+Δx·cos(2πf o t 2)=2Δd+2Δx·cos(2πf o(t 3 +t 2))cos(πf oδ32)=d 3 +d 2 [63] - In equation 64,
equations 60 and 57 are added and trigonometric sum-to-product formulas are applied. -
2Δd+Δx·cos(2πf o t 4)+Δx·cos(2πf o t 1)=2Δd+2Δx·cos(2πf o(t 4 +t 1))cos(πf oδ41)=d 4 +d 1 [64] - By subtracting equation 64 from equation 63 and incorporating equation 61, the dependence on offset (Δd) can be eliminated and an expression for the displacement amplitude can be obtained as shown in equation 65. The subscript indicates the current measurement cycle.
-
- By adding equations 63 and 64 and substituting the expression for displacement amplitude, an expression for displacement offset ((Δd) can be obtained as shown in equation 66.
-
- Equation 66 can be rearranged as shown in equation 67.
-
- Using the approximate input-output relationship between acceleration and displacement derived in equation 56, an expression for sensed input acceleration, scaled to units of g, can be derived as shown in equation 68.
-
- In some examples, it may be difficult to accurately measure time intervals using a peak of a displacement curve as a reference point. In some examples, this issue can be overcome by taking advantage of several aspects. First, the output of TDS structures (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (
FIGS. 1, 2, 5, 6, 15, 16, and 18 )) includes measurable zero-crossings for every traversal of a proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )) past a given spatial reference point (d0). Second, the timing intervals for zero-crossings corresponding to the traversal of the same spatial reference point are symmetric about the maxima and minima of the displacement curve or the analog output signal (e.g., 611, 613, 1626, 1628, 1826, 1828 (FIGS. 6, 16, and 18 )). Therefore, the timing intervals used in the cosine method (e.g., T1, T2, T3, and T4 of equations 61-68) are one-half of these timing intervals between zero-crossings. As described herein, the d0 spatial reference points can include teeth of the TDS structures (105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )). In some examples, the motion-induced current produced by the TDS structure (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )) is measured using a transimpedance amplifier, and d0 corresponds to the first-half pitch spacing (e.g., for a pitch=4.5 μm count d0=2.25 μm) of the teeth of the TDS structure. It some examples, a capacitance-to-voltage or charge-amplifier conversion device would produce zero-crossings that correspond to odd multiples of the quarter-pitch spacing of the TDS structure. Fabrication-induced variations can modify the effective d0 scale factor used in implementing the cosine algorithm. This is accounted for with a small calibration correction. - In some examples, an inertial device (e.g., 100, 202, 602, 1602, 1802 (
FIGS. 1, 2, 6, 16 , and 18)) can include a TDC to provide high-resolution measurements of zero-crossing times with respect to a rising edge of a sync signal generated based on a drive-sync signal (which has a 90° lead and is proportional to the velocity of a proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )) of the inertial device. The TDC can have programmable masking windows and edge sensitivity to enable extracting timing of specific events as depicted inFIG. 21 . -
FIG. 21 depicts agraph 2100 showing various time intervals that can be extracted from a differential TIA output. Thegraph 2100 includes a proofmass displacement curve 2102 illustrating the position of a proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )) over time. Thegraph 2100 also includes a differentialTIA output curve 2104 illustrating an analog output (e.g., 624, 626, 1612, 1613 (FIGS. 6 and 16 )) of a TIA (e.g., 620, 1610 (FIGS. 6 and 16 )) receiving an analog signal (e.g., 611, 613, 1626, 1628 (FIGS. 6 and 16 )) from the proof mass. Thegraph 2100 also includes acomparator output curve 2108 that illustrates the digital output of a comparator (e.g., 1620 (FIG. 16 )). As a digital signal, thecomparator output curve 2108 consists substantially of two values: a high value and a low value. Thecomparator output curve 2108 transitions from a low value to a high value when theTIA output curve 2102 crosses zero and has a positive slope. Thecomparator output curve 2108 transitions from a high value to a low value when theTIA output curve 2014 crosses zero and has a negative slope. Thus, thecomparator output curve 2108 is a digital representation of the zero-crossing times of theTIA output curve 2104. - The
graph 2100 includesreference levels FIG. 16 )) or a maximum in capacitance (for an out-of-phase TDS structure such as 1608 (FIG. 16 )), the spatial capacitance gradient and thus the capacitive current is zero. Thus, theTIA output curve 2104 crosses zero when the proofmass displacement curve 2102 crosses either of thereference levels graph 2100 includestimes displacement curve 2102 crosses thereference level 2114 andtimes displacement curve 2102 crosses thereference level 2112. Thegraph 2100 also includestime intervals time interval T 1 2132 corresponds to the time interval between thetimes time interval T 2 2134 corresponds to the time interval between thetimes 2118 and 2126. Thetime interval T 32 2136 corresponds to the time interval between thetimes 2126 and 2128. Thetime interval T 41 2138 corresponds to the time interval between thetimes graph 2100 also includes adigital sync signal 2142. In some examples, this can be a sync signal created from a drive sync signal. Thesync time interval 2140 corresponds to the time interval between adjacent rising edges of thedigital sync signal 2142. The TDC (e.g., 1620 (FIG. 16 )) can use the most recent rising edge of thedigital sync signal 2142 as a reference for determining digital timestamps of changes in value of thecomparator output signal 2108. These timestamps can be used to determine thetime intervals - In summary, the data determined per cycle includes a
sync time 2140 marking the interval between the previous sync rising edge and the most recent zero-crossing times (e.g., 2116, 2118, 2120, 2122) measured with respect to the most recent rising edge of thedigital sync signal 2108. One reason thesync time 2140 is useful is for establishing a relationship with past timing events so that time intervals crossing the sync boundaries (e.g., 2132, 2134) can be computed for zero-crossing and period measurements. - Equations 69-78 can be used to compute output acceleration at time n.
-
- Equations 69-78 can be substituted directly into equations 65 and 68 to produce measurements of displacement amplitude and output acceleration one or more times per oscillation cycle of the proof mass (e.g., 102, 203, 608, 1604, 1804 (
FIGS. 1, 2, 6, 16, and 18 )). A set of simultaneous equations can be written for each reference level (e.g., 2112, 2114) as shown inequations 79 and 80. -
-
Equations 79 and 80 can be subtracted to solve for displacement amplitude at the nth measurement cycle as shown in equation 81. -
- Similarly,
equations 79 and 80 can be added and the expression for displacement amplitude substituted to solve for input acceleration for the inertial device (e.g., 100, 202, 602, 1602, 1802 (FIGS. 1, 2, 6, 16, and 18 )), scaled to units of g as shown in equation 82. -
- One reason the cosine algorithm is useful is that it is relatively insensitive to variations in the amplitude and frequency of the oscillation of the proof mass. Since the cosine algorithm rejects variations in these parameters for timescales much longer than the resonant period of the oscillation, the cosine algorithm generally has excellent drift performance.
- The low-drift performance of the systems and methods described herein is significantly attributable to the fact that the timing measurements ultimately relate back to a fixed, known reference dimension (i.e., the pitch of the TDS structures such as 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (
FIGS. 1, 2, 5, 6, 15, 16, and 18 )). Recalling that d0 is defined as one-half the pitch, equations 81 and 82 can be rewritten as shown in equations 83 and 84 to isolate the terms involving timing measurement to a ratio that itself defines a ratio of the desired output variable to the geometrically fixed pitch of the TDS structure. -
- Estimating output acceleration noise performance given simulated front-end electronic noise and signal properties (i.e., the slope of the zero-crossings) can be useful for quickly evaluating candidate inertial sensor designs and iterating the design process to achieve desired performance specifications without requiring detailed, time-consuming simulations. The following illustrates a derivation of a simple equation which can be used to evaluate output noise density (g/rtHz). The derivation begins with equation 82, applies perturbation analysis by considering the measured time intervals with additive white Gaussian noise (i.e., jitter, E), and includes some simplifying assumptions. Equations 85-90 illustrate the addition of white Gaussian noise to equation 82.
-
- Equation 91 is an approximation of
equation 90 based noting that the noise terms of the expansion of {circumflex over (T)}avg 2 are small compared to Tavg 2. -
- The common trigonometric sum-difference formula shown in equation 92 can be used to expand noise terms as shown in equation 93.
-
- The cosine terms involving the timing jitter (ε) are small with zero mean so the small-angle approximation can be applied as shown in equation 94.
-
- The cosine terms involving the timing jitter (ε) are small with zero mean so the small-angle approximation can once again be applied. The multiplicative sine terms involving the measured periods (T41 and T32) are, at their largest, bounded by ±1. This will be a convenient consideration when examining the variance of {umlaut over (x)}n, and this also causes the noise estimation to be somewhat conservative. Because the period measurements and the denominator of each sinusoidal argument are much larger than the noise, the noise term here can be ignored. Furthermore, the resulting noise terms in denominator are negligible compared to the cosine terms. Applying all of these approximations to equation 94, the individual terms of the resulting expression can be collected into two main terms as shown in equation 95, one representing the approximate expected value of the output acceleration (left term), and the other containing noise error components (right term).
-
- The cosine terms in the denominator of the noise portion of equation 95 can be replaced with the expression in equation 96 involving the displacement amplitude to result in equation 97.
-
- Another simplification can be made because Tavg, T1, and T2 are approximately equal, as shown in equation 98.
-
- Taking the variance of {umlaut over (x)}n allows the computation of total noise power (note: ωo=2π/Tavg) as shown in equation 99.
-
- The jitter properties associated with individual time measurements (t1, t2, t3, t4) are assumed to be uncorrelated. As a consequence the measured interval timing jitter (ε41 and ε32) is also uncorrelated. Further, it is assumed that the jitter variance of each timing event is identical (σt1=σt2= . . . =σt, this is approximately true and sufficient for a noise estimation) as shown in
equation 100. Using these arguments we conclude, σε41 =σε32 =σε=√{square root over (2)}σt. -
- The final noise equation, illustrated in
equation 100, includes the product of displacement magnitude (Δxn [m]), the cube of the resonance frequency (ω0 3 [rad3/sec3]), and the timing event jitter (σt [secRMS]). The additional factor of 0.85 is an empirical factor that calibrates the estimation with both laboratory and detailed simulation results. - Edge timing jitter (σt) can be readily estimated from the total integrated electronics noise divided by the signal slope at the zero-crossing event. Simulations may be used to provide values for the electronic noise and signal slew rate. Differential or single-ended noise and slews may be used as long as the consistency is observed. TDC timing uncertainty may also be included by root-sum-squaring with the electronics induced jitter as shown in equation 101.
-
- The one-sided TDS output acceleration noise density may be estimated using
equation 100 and dividing the results by the square-root of the sensor bandwidth (i.e., Nyquist sampling rate=Bandwidth=fo/2), givingequation 102. When using the double-sampled TDS cosine algorithm, where one applies the cosine algorithm once for the positive and once for the negative half of the resonant period (thus producing two samples each cycle), one should substitute twice the bandwidth (i.e., bandwidth=fo).Equation 102 can be used for noise performance estimation and compares well with experimental results. -
- In some examples, an ADC may be used to convert analog outputs (e.g., 626, 1615, 1617, 1815, 1817 (
FIGS. 6, 16, and 18 )) of AFE's (e.g., 616) such as charge amplifiers (e.g., 618, 1810 (FIGS. 6 and 18 )) or transimpedance amplifiers (e.g., 620, 1610 (FIGS. 6 and 16 )) to digital representations (e.g., 635 (FIG. 6 )). The digital representations (e.g., 635 (FIG. 6 )) can be received by digital circuitry that can determine timestamps of threshold crossings and can implement the cosine algorithm of equations 81 and 82 to determine inertial parameters (e.g., acceleration and proof mass displacement) of the inertial device (e.g., 100, 202, 602, 1602, 1802 (FIGS. 1, 2, 6, 16, and 18 )). -
FIG. 22 depicts a summingblock 2200 illustrating signal flows for using an ADC to digitally reproduce an analog input signal. The summingblock 2200 includes inputdifferential capacitance signals 2202 that can be received from differential TDS structures (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )). The inputdifferential capacitance signals 2202 can be signals such as any of thesignals FIGS. 16 and 18 ). Thedifferential capacitance signals 2202 are received by anAFE 2204. TheAFE 2204 can be a charge amplifier or transimpedance amplifier. TheADC 2204 introducesADC input noise 2208, the injection of which is schematically represented by the summingblock 2206. The output of the summingblock 2206 is received by a low-pass filter 2210 which removes higher frequency components of the signal. The output of the low-pass filter 2210 is received by anADC 2212. TheADC 2212 performs sample-and-hold 2214 at a sampling rate of 400 kS/sec. TheADC 2212 also includes aquantizer 2218. TheADC 2212 produces adigital output signal 2220 that is a digital representation of the difference between the input differential capacitor signals 2202. Digital circuitry can receive thedigital signal 2220 and perform upsampling, interpolation, and further post-processing to determine inertial parameters. - The digital circuitry receiving the
digital signal 2220 can extract inertial information using one or more of interpolation, trigonometric functions, and inverse trigonometric functions. An example of a trigonometric function that the digital circuitry can implement is the cosine function. Examples of inverse trigonometric functions that the digital circuitry can implement include the arcsine, arccosine, and arctangent functions. - Interpolation can be used to improve the timing accuracy of threshold crossing times of the
digital signal 2220 measured by the digital circuitry. The digital circuitry can interpolate and upsample thedigital signal 2220 to produce a higher-resolution indication of threshold crossing by thedigital signal 2220. The interpolation can include linear interpolation and/or splined interpolation. - The digital circuitry can use a sync signal that is derived from a drive signal or a drive sense signal to synchronize measured threshold crossings with known positions of the proof mass (e.g., 102, 203, 608, 1604, 1804 (
FIGS. 1, 2, 6, 16, and 18 )). Because the sync signal is derived from the drive or the drive sense signal, there is a known phase relationship between the sync signal and the position of the proof mass. In some examples, the drive signal is 90° out-of-phase with respect to the proof mass motion, and a phase lead or lag can be applied as necessary to properly align the sync signal. In some examples, the sync signal is not required to be exactly aligned to the digital signal (e.g., 2220). The required alignment accuracy is related to the time between zero crossings of the digital signal (e.g., 2220). As long as the sync signal is sufficiently aligned to fall within the correct interval between zero-crossings of the digitized signal, the position of the proof mass within its oscillation can be determined with sufficient accuracy. - The digital circuitry can use a cosine function to determine displacement and/or acceleration as follows. The digital circuitry can determine threshold crossings of the interpolated and upsampled
digital signal 2220. The digital circuitry can then determine time intervals between the threshold crossings, and can determine quantities containing ratios of the time intervals. The digital circuitry can then determine results of cosine functions of these quantities, as illustrated in equations 81 and 82. The digital circuitry can implement the cosine method as described with reference toFIGS. 1-21 , except that the threshold crossings can be detected by the digital circuitry instead of by a comparator and TDC. - The digital circuitry can use an inverse trigonometric function to determine displacement of the proof mass (e.g., 102, 203, 608, 1604, 1804 (
FIGS. 1, 2, 6, 16, and 18 )) as follows. The digital circuitry can apply a trigonometric function or other periodic function to a quantity comprising a ratio of the proof mass displacement to the periodicity of the teeth of a TDS structure (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )). The periodicity of the teeth can be the pitch of the arrays of the teeth. By determining an inverse of the determined trigonometric function, the digital circuitry can extract the ratio of the displacement to the periodicity. Because the periodicity is a known constant that is determined during fabrication of inertial device, subsequent determination of the inertial parameters can be obtained by multiplying the extracted ratio by the periodicity. The periodic function need not be a trigonometric function; for non-trigonometric functions, an appropriate inverse function is used. In general, the digital circuitry can extract a ratio of the displacement of the proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )) to any physical position or dimension, and the function does not need to be periodic. When the function is periodic, the ratio of displacement to periodicity is proportional to the phase of the periodic function. Changes in displacement induced by accelerations of the inertial device (e.g., 100, 202, 602, 1602, 1802 (FIGS. 1, 2, 6, 16, and 18 )) will result in phase shifts of the periodic function. -
FIG. 23 depicts the use of linear interpolation to determine zero crossings of a digitized signal (e.g., 2220 (FIG. 22 )).FIG. 23 includes threeviews view 2300 includes adisplacement curve 2302 depicting the motion of a proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )) and a differentialADC output curve 2304, which can be thedigital signal 2220. Theview 2300 also includes athreshold 2310 which, in this example, occurs at the 0 V level, and an area ofinterest 2320 in which theADC output curve 2304 crosses thethreshold 2310. However, the measurement of the time at which theADC output curve 2304 crosses thethreshold 2310 is limited by the time resolution of the ADC unless further processing is performed. Without further processing, all that can be determined is that theADC output curve 2304 crossed thethreshold 2310 at some time between two samples of the ADC. - The
view 2330 is an enlarged view of the area ofinterest 2320 and depicts the use of interpolation to improve the resolution of the zero-crossing time measurement. Theview 2330 includespoints ADC output curve 2304. Thepoint 2334 is below thethreshold 2310, while thepoint 2336 is above thethreshold 2310. Thus, theADC output curve 2304 crossed thethreshold 2310 sometime betweenpoint 2334 andpoint 2336. With the time and voltage values of thepoints straight line 2332 drawn between thepoints threshold 2310. In some examples, splined or polynomial interpolation is performed to determine the time at which a curved line drawn between thepoints threshold 2310. This intersection is illustrated in theview 2330 by apoint 2338. Thepoint 2338 is the digitally interpolated estimate of the threshold crossing time of the analog signal represented by the digitalADC output curve 2304. Theview 2330 also includes an area ofinterest 2350 centered on thepoint 2338. - The
view 2360 is an enlarged view of the area ofinterest 2350 and depicts the error incurred by digital interpolation. Theview 2336 includes thecurve 2364 which is the analog signal represented by theADC output curve 2304. Theanalog curve 2334 crosses thethreshold 2310 at atrue crossing point 2368. The time interval between the digitally estimatedpoint 2338 and thetrue crossing point 2368 is represented bytime interval 2372. Thetime interval 2372 is thus the error of the timing measurement obtained by digital interpolation. Because thetime interval 2372 is smaller than the sampling rate of the ADC, the interpolation has improved the accuracy and resolution of the threshold crossing time measurements. -
FIG. 24 depicts agraph 2400 illustrating zero-crossings of an ADC digital output signal. Thegraph 2400 includes adisplacement curve 2402 representing displacement of a proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )) of an inertial device (e.g., 100, 202, 602, 1602, 1802 (FIGS. 1, 2, 6, 16, and 18 )). Thegraph 2400 includes a differentialAFE output curve 2404 that represents an output of an AFE (e.g., 626 (FIG. 6 )). Thegraph 2400 also includes anADC output curve 2404 representing a digital output (e.g., 2220 (FIG. 22 )) of an ADC (e.g., 2212 (FIG. 22 )). TheADC output curve 2406 is a digital representation of theAFE output curve 2404. Thegraph 2400 depictspoints displacement curve 2402 that correspond to times at which the proof mass crosses reference points that are multiples of d0 from the neutral position. The differentialAFE output curve 2404 includespoints points -
FIG. 25 depicts agraph 2500 that shows an upsampled AFE output curve. Thegraph 2500 includes the displacement curve 2402 (FIG. 24 ), the differential AFE output curve 2404 (FIG. 24 ), and thepoints FIG. 24 ). Thegraph 2500 also includes an upsampledAFE output curve 2506. Theoutput curve 2506 has been upsampled to a sampling rate triple that of the AFE output curve 2406 (FIG. 24 ). Theupsampled output curve 2506 has a lower timing uncertainty in zero-crossing measurements, which results in better timing resolution. Digital upsampling and interpolation can eliminate spurious artifacts for a given input noise level and can provide better agreement between theADC output curve 2506 and theAFE output curve 2404. - Digital interpolation and zero-crossing detection in the digital domain can result in performance equivalent to analog zero-crossing detection. As described herein, digital interpolation, upsampling, and filtering a band-limited input signal can produce a higher-resolution rendition of the original input signal. This improves the accuracy of subsequent digital zero-crossing detection. In digital zero-crossing detection, digital circuitry detects when a digital signal crosses zero and applies local linear interpolation to determine a precise crossing time. In some examples, the digital circuitry may apply hysteresis to reduce the effects of signal noise at the decision boundaries. These digital systems and methods can result in accuracy at least as high as analog zero-crossing systems and methods.
- The arccosine algorithm and the arcsine algorithm can be used by digital processing circuitry to determine displacement information from a periodic nonlinear signal. Both the arccosine algorithm and the arcsine algorithm operate on the output of an ADC. The difference between the arccosine and arcsine algorithms is that the arccosine algorithm is implemented on signals generated by arrays of teeth that have opposing teeth that are aligned in the neutral position, while the arcsine algorithm is implemented on analog signals generated by arrays of teeth that have teeth that are offset by one-fourth of the tooth pitch (or a spatial phase shift of 90°) at the neutral position.
- In some examples, the arccosine algorithm can be implemented using arrays of teeth designed for the arcsine algorithm by including a 90° spatial phase shift. Conversely, the arcsine algorithm can operate on signals generated by arrays of teeth designed for the arccosine algorithm by including a 90° spatial phase shift. Signals generated by arrays of teeth with arbitrary offsets in the neutral position can also be operated on by either the arccosine or the arcsine algorithm by including an appropriate spatial phase shift corresponding to the offset. For teeth that are offset by a phase φ in the neutral position, the orthogonal capacitance signals can be described by equations 103-105.
-
- Where displacement is described by equation 106, the offset phase φ can also be expressed as an effective offset to x(t) as shown in equation 107.
-
- The quantity x0 is defined by equation 108.
-
- The arccosine and arcsine algorithms can be implemented using only one of the two signals CI and CQ. Thus, by measuring CI(t), scaling, applying the arccosine function, applying the known phase offset φ, and scaling by the pitch, the proof mass displacement x(t) can be determined by the arccosine algorithm using equation 103. Similarly, the arcsine algorithm can be implemented according to equation 104 by measuring CQ(t), scaling, applying the arcsine function, adjusting by the phase offset φ, and scaling by the pitch to determine x(t).
- The arctangent algorithm can be used as well to determine displacement. The arctangent algorithm can be implemented according to equation 105, by measuring the ratio of the capacitances CQ and CI, applying the arctangent function, scaling by the phase offset φ, and scaling by the pitch P to determine x(t). The arcsine algorithm and the arccosine algorithm can be implemented using only one of the signals CI and CQ. In contrast, the arctangent algorithm uses both signals CI and CQ. Equations 103-105 are written assuming that CI and CQ are 90° apart. In general, however, the two signals may have an arbitrary phase difference φ. In this general case, the two signals can be represented as shown in equations 109-112.
-
- The phase offset φ is arbitrary but fixed, so that the terms cos(q) and sin(q) are fixed constants, and the inverse tangent of the remaining term, tan(2πx(t)/P), can be determined using the arctangent algorithm as described above.
-
FIG. 26 depicts a block diagram 2600 illustrating signal flows of the arccosine algorithm. The block diagram 2600 includes a TDS structure 2602 (e.g., any ofTDS structures FIGS. 1, 2, 5, 6, 15, 16, and 18 )) that generates an analog output signal 2604 (e.g., any of analog output signals 611, 613, 1626, 1628, 1826, and 1828 (FIGS. 6, 16, and 18 )). AnAFE 2608 receives theanalog output signal 2604. TheAFE 2608 can be a charge amplifier (e.g., 618, 1810 (FIGS. 6 and 18 )) or a transimpedance amplifier (e.g., 620, 712, 806, 908, 1610 (FIGS. 6, 7, 8, 9, and 16 )). AnADC 2612 receives the output of theAFE 2608 and generates a digital output signal. The digital output of theADC 2612 is received bydigital circuitry 2622 that performs zero centering, or offsetting. This zero centering, or offsetting, can include integrating the digital output of theADC 2612 over a predetermined time interval to determine an integral. The integral corresponds to the mean value over the predetermined time interval. In some examples, the predetermined time interval can be a period of oscillation of a proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )). The zero centering can then include subtracting the integral from the digital output of theADC 2612. - The output of the
digital circuitry 2622 is received bydigital circuitry 2624 that scales the received signal, which can include scaling by the quantity A of equations 103-105. Together, thedigital circuitry ADC 2612. The conditioned digital signal generated bydigital circuitry 2624 is received bydigital circuitry 2626 that implements an arccosine function to trigonometrically invert the conditioned digital signal. Implementing the arccosine function can include using a lookup table to determine a table entry corresponding to the conditioned digital signal. - The output of the arccosine
digital circuitry 2626 is received by phase unwrapdigital circuitry 2628. Thephase unwrap circuitry 2628 determines if a phase jump has occurred and adjusts the digital signal appropriately. Further details of the phase unwrap circuitry are depicted inFIG. 31 . The phase unwrap circuitry can adjust the digital signal by the phase offset φ as shown in equations 103-105. The output of thephase unwrap circuitry 2628 is received by scalingcircuitry 2630. Thescaling circuitry 2630 scales the digital signal such that it corresponds to acceleration in units of g. The scaled output of thescaling circuitry 2630 is received bysignal conditioning circuitry 2632 that performs low-pass filtering and resampling to generate outputinertial data 2634. Thesignal conditioning circuitry 2632 can also perform multiplication by a geometric dimension. The geometric dimension can be a pitch of theTDS structure 2602. The outputinertial data 2634 corresponds to an acceleration of the inertial device (e.g., 100, 202, 602, 1602, 1802 (FIGS. 1, 2, 6, 16, and 18 )). - In some examples, the
arccosine block 2626 is replaced with an arcsine block that implements an arcsine function to trigonometrically invert the conditioned digital signal. Implementing the arcsine function can include using a lookup table to determine a table entry corresponding to the conditioned digital signal. In some examples, operations are performed in orders different than depicted inFIG. 26 . For example, the scaling 2624 can be performed before the zero centering 2622. In some examples, the scaling 2624 and zero centering 2622 can be performed on the digital signals 2616 and 2618 before dividing 2620. - The arccosine algorithm is described by equations 113-115.
-
- The arcsine algorithm is described by equations 116-118.
-
-
FIG. 27 depicts a block diagram 2700 illustrating the signal flows of the arctangent algorithm. The block diagram 2700 includes a TDS structure block 2702 (e.g., any ofTDS structures FIGS. 1, 2, 5, 6, 15, 16 , and 18)) that generatesanalog output signals 2704 and 2706 (each, e.g., any of analog output signals 611, 613, 1626, 1628, 1826, and 1828 (FIGS. 6, 16, and 18 )). AFE's 2708 and 2710 receive theanalog output signals FIGS. 6 and 18 )) or a transimpedance amplifier (e.g., 620, 712, 806, 908, 1610 (FIGS. 6, 7, 8, 9, and 16 )). ADC's 2712 and 2714 receive the output of the AFE's 2708 and 2710, respectively, and generatedigital output signals digital output signals signals digital circuitry 2722 that performs zero centering, or offsetting. This zero centering, or offsetting, can include integrating the digital output of theADC 2712 over a predetermined time interval to determine an integral. The integral corresponds to the mean value over the predetermined time interval. The zero centering can then include subtracting the integral from the digital output of theADC 2712. - The output of the
digital circuitry 2722 is received bydigital circuitry 2724 that scales the centered signal, which can include scaling by the quantity A of equations 103-105. Together, thedigital circuitry ADC 2712. The conditioned digital signal generated bycircuitry 2724 is received bydigital circuitry 2726 that implements an arctangent function to trigonometrically invert the conditioned digital signal. Implementing the arctangent function can include using a lookup table to determine a table entry corresponding to the conditioned digital signal. - The output of the arctangent
digital circuitry 2726 is received by phase unwrapdigital circuitry 2728. Thephase unwrap circuitry 2728 determines if a phase jump has occurred and adjusts the digital signal appropriately. Further details of the phase unwrap circuitry are depicted inFIG. 31 . The phase unwrap circuitry can adjust the digital signal by the phase offset φ as shown in equations 103-105. The output of thephase unwrap circuitry 2728 is received by scalingcircuitry 2730. Thescaling circuitry 2730 scales the digital signal such that it corresponds to acceleration in units of g. The scaled output of thescaling circuitry 2730 is received bysignal conditioning circuitry 2732 that performs low-pass filtering and resampling to generate outputinertial data 2734. Thesignal conditioning circuitry 2732 can also perform multiplication by a geometric dimension. The geometric dimension can be a pitch of theTDS structure 2702. The outputinertial data 2734 corresponds to an acceleration of the inertial device (e.g., 100, 202, 602, 1602, 1802 (FIGS. 1, 2, 6, 16, and 18 )). - In some examples, operations are performed in orders different than depicted in
FIG. 27 . For example, the scaling 2724 can be performed before the zero centering 2722. In some examples, the scaling 2724 and zero centering 2722 can be performed on thedigital signals - The arctangent algorithm is described by equations 119-123.
-
- The arcsine, arccosine, and arctangent algorithms are similar in that in each, an analog output of a TDS structure is digitized by an ADC after amplification by one or more AFE's. In each method, the analog electronics can include any implementation that converts the physical motion of the sensor to an electronic signal such as current or voltage. This can include, for example, a TIA or a CA. The digital output of the ADC is then processed by digital circuitry to extract the inertial information of interest. In the arcsine and arccosine algorithms, only one analog signal is amplified and digitized, reducing electronics, size and power consumption, in part because only one AFE is required. Also, the arccosine algorithm only requires one periodic capacitive structure (or other periodic sense structure), or two if force-balancing of the proof mass (e.g., 102, 203, 608, 1604, 1804 (
FIGS. 1, 2, 6, 16, and 18 )) is desired. In contrast, the arctangent algorithm amplifies and digitizes two analog signals and requires two AFE's. The arctangent algorithm requires at least two arrays of TDS structures separated in spatial phase by 90°, or four arrays if force-balancing of the proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )) is desired. Thus, inertial devices (e.g., 100, 202, 602, 1602, 1802 (FIGS. 1, 2, 6, 16, and 18 )) utilizing the arcsine and arccosine algorithms, instead of the arctangent algorithm, have reduced complexity and number of electrical contacts to the TDS structure (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )). However, the arctangent algorithm has advantages in determining the phase unwrap, as will be described in more detail below. - Once digitized, the signal is scaled and zero-centered, and an inverse trigonometric function is applied to the data. In the arctangent algorithm, the two digital signals are divided by each other, and the quotient is trigonometrically inverted using an arctangent function. In the arcsine and arccosine algorithms, the single digitized signal is trigonometrically inverted using an arcsine or an arccosine function, respectively. In each of the three methods, the output of the trigonometric inverse function is phase. However, because the analog input signal is periodic, the inverse trigonometric functions are not single-valued.
- Because the inverse trigonometric functions are not single-valued, they can have multiple output values for a given input value. When inverse trigonometric functions are implemented in hardware and software, the outputs of these trigonometric functions are restricted to a single-valued range at the origin. However, this can result in degeneracy, because the true phase of the input analog signal may be outside this restricted range. To arrive at a result that is outside this restricted range for an inverse trigonometric function, additional processing must be performed. This additional processing is referred to herein as phase unwrapping or unwrapping. Unwrapping recreates the original phase of the input analog signal, which corresponds to the motion of the proof mass (e.g., 102, 203, 608, 1604, 1804 (
FIGS. 1, 2, 6, 16 , and 18)). This concept can also apply to non-inertial sensors, whereby any oscillatory wave form is modified by an input signal to be detected. - The disadvantage of the arcsine and arccosine algorithms is that the phase is more difficult to unwrap compared to the arctangent algorithm. In the arctangent algorithm, there is a clear jump in phase near the unwrap boundaries, facilitating detection of phase wrap. In the arcsine and arccosine algorithms, the phase simply changes direction at the unwrapped boundaries, requiring a more involved algorithm to detect a phase wrap event.
- While the arctangent algorithm requires a simpler phase unwrap algorithm, it requires more analog circuitry than the arcsine and arccosine algorithms. The arctangent algorithm requires twice the number of AFE blocks compared to the arcsine and arccosine algorithms. The arctangent algorithm also requires a synchronization between ADC's or simultaneous sampling, and two banks of TDS structures at respective phases of 0° and 90°. If force balancing is also desired, four banks of TDS structures at 0°, 90°, 180°, and 270° are required. The arcsine and arccosine algorithms each require only one AFE, one ADC, and one bank of TDS structures. To perform force balancing, only two banks of such structures at 0° and 180° are required for the arcsine and arccosine algorithms.
-
FIG. 28 depicts agraph 2800 that shows the digital output of the arctangent algorithm for a low amplitude of proof mass oscillation, an amplitude that does not result in phase wrap events. Thegraph 2800 includes adigital output curve 2802 that represents the output of the arctangent block (e.g., 2726 (FIG. 27 )) before phase unwrapping. Thecurve 2802 is in the shape of a sine wave, representing the oscillation of the proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )), plus any offsets induced by inertial forces (or any signal of interest). The proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )) has been oscillated with an amplitude of 0.4 microns, less than one-half of the pitch distance of the TDS structure (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )). Because the oscillation amplitude is less than one-half the pitch distance (corresponding to a phase of π/2 radians), thedigital output curve 2802 is continuous and without phase wraps. -
FIG. 29 depicts agraph 2900 showing the output of the arctangent algorithm when the proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )) has an oscillation amplitude larger than one-half the pitch distance of the TDS structure (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )). Thegraph 2900 includes adigital output curve 2902 generated by digital circuitry implementing the arctangent algorithm (e.g., 2726). Thedigital output curve 2902 includes a phase wrap betweenpoints 2904 and 2906 and a second phase wrap between points 2908 and 2910. These phase wraps occur when the proof mass position reaches displacements that are integer multiples of one-half the pitch of the TDS structure (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )). The phase determined from the arctangent algorithm is π or −π radians at these points, and at the phase wrap, transitions in the opposite direction by 2π radians. For example, at point 2904, the phase is π, and theoutput curve 2902 transitions by −2π radians to a value of −π atpoint 2906. This transition happens sharply, and occurs between adjacent data points of thedigital output curve 2902. This sharp transition can be easily detected by setting a threshold to detect large changes in data between adjacent data points. This sharp transition occurs because the arctangent function is not single-valued and returns only values between −π and π for any given input. The phase unwrap block can be used to detect these phase wraps and remove their effects. -
FIG. 30 depicts agraph 3000 showing a digital output signal of the arcsine algorithm, where the proof mass has an oscillation amplitude greater than one-half the pitch, causing phase wraps. Thegraph 3000 includes adigital output curve 3002 that is generated by digital circuitry implementing an arcsine function (e.g., 2626 (FIG. 26 )). Thedigital output curve 3002 has phase wraps atpoints digital output curve 3002. Digital outputs of the arccosine algorithm exhibit similar phase wraps as the arcsine algorithm. In the arcsine algorithm, the absolute value of the digital output signal is used, so the phase wraps occur when the absolute value of the digital output signal reaches 0 or π/2 radians. In the arccosine algorithm, the phase wraps occur when the digital output signal reaches 0 or π radians, regardless of whether the absolute value of the digital signal is used. However, in the arcsine and arccosine algorithms, the phase does not jump by 2π, but simply changes direction, with the same rate of change as before the phase wrap. Comparing thedigital output curve 3002 to a simple data jump threshold is insufficient to detect the phase wrap for the arcsine and arccosine algorithms, because thedigital output curve 3002 remains continuous across the phase wraps. However, there is still a sharp transition in the otherwise smoothly changing data. - This sharp transition can be detected by the following method. First, the method determines if a sharp transition has occurred when the
digital output curve 3002 has values near 0 or π/2 for the arcsine algorithm, or 0 and π for the arccosine algorithm. Second, the digital circuitry determines whether the transition was due to noise or a genuine phase wrap event. Third, the digital circuitry keeps track of prior phase directions to maintain continuity of the unwrapped function. - In some examples, the digital circuitry can determine when a phase wrap has occurred by monitoring a running difference between consecutive data points. Over a given time I, if the difference between the data point at time i and the data point at time i−1 or the difference between the data point at time i and the data point of time i+1 is above π/2 or below zero, then the digital circuitry determines that a phase wrap event has occurred in the arcsine algorithm. If the arccosine algorithm is implemented, the digital circuitry compares the two differences to zero and π. The digital circuitry then determines between which data points the phase wrap occurred by comparing neighboring differences. The digital circuitry can determine that the phase wrap occurred between the two data points with the smallest difference. The corresponding succeeding data point is then modified to take into account the portion of the difference that occurred before and after the phase wrap. The sign of the slope of the phase is tracked by altering the sign of the register. The sign is then applied to either subtract or add subsequent differences in order to reconstruct the original phase.
-
FIG. 31 depicts amethod 3100 illustrating phase unwrapping in the arccosine and arcsine algorithms. At 3104, digital circuitry receivesinput data 3102 and determines the time derivative, or slope. Theinput data 3102 can comprise a result of trigonometric inversion. In some examples, determining the time derivative can include comparing the current value of the signal to the previous value of the signal and dividing by the difference in time between the two data points. At 3106, the digital circuitry determines if the derivative has changed sign. In some examples, the digital circuitry can do this by comparing the sign of the time derivative at the current time increment and comparing it to the sign of the time derivative at the previous time increment. If the derivative has not changed in sign, at 3108, the digital circuitry stores the output value at the current time increment as the sign multiplied by the output value at the previous time increment, added to the derivative at the current time increment. Because the sign is reversed each time a phase wrap is detected, as described below, thestep 3108 adjusts the present value and future values of the output value according to the number of detected phase wrap events. - If, at 3106, the digital circuitry determines that the derivative has changed in sign, the
method 3100 proceeds to step 3110. At 3110, the digital circuitry determines whether the sum of the current derivative and the output value at the last time increment is greater than π. If the circuitry determines at 3110 that the sum is not greater than π, themethod 3100 proceeds to step 3114. At 3114, the digital circuitry determines whether the sum of the output value at the previous time increment and the current derivative is less than zero. If, at 3114, the digital circuitry determines that the sum is not less than zero, no phase wrap has occurred and themethod 3114 proceeds to step 3108. If, atstep 3110, the digital circuitry determines that the sum is greater than π, or, if, atstep 3114, the digital circuitry determines that the sum is less than zero, the method proceeds tosteps method 3100 proceeds tosteps - If, at 3112, the digital circuitry determines that the absolute value of the derivative at time i is not greater than the derivative at time i minus 1, the
method 3100 proceeds tosteps method 3100 to unwrap, rephase and reconstruct the digital output signal without phase wrap artifacts. - In some examples, noise in the
digital input data 3102 can be sufficiently high to cause errors in tracking the phase. This may occur when noise causes the digital signal to temporarily cross the phase boundaries at zero and/or π/2. This may occur in particular when the noise is much higher than the quantization level (or bit resolution) of the ADC such that the noise is greater than the difference between successive data points near the boundary. -
FIG. 32 depicts an example of phase unwrap error due to excessive noise at the phase unwrap boundary.FIG. 32 depicts anacceleration curve 3202 that has been determined using phase unwrapping, but exhibits a phase unwrap error at point 3204, where the phase is not correctly tracked due to noise. To overcome this error, digital circuitry may determine phase crossings by using a larger data difference threshold. For example, instead of comparing local data differences to the phase boundary, a larger threshold may be used. The threshold can be large enough such that no local noise in the data is large enough to cause a false phase transition. The magnitude in this threshold is limited by the full-scale range of the sensor data. In other words, the threshold must not be so large that an actual signal of interest (such as acceleration) can cause a false phase transition by falling within the threshold range. In practice, this can be designed into the system such that, for a given resonant frequency, the signal of interest causes the displacement of the oscillator to stay well within a single pitch distance of the periodic physical structure. An example of scaled capacitance signals generated by such a design is shown inFIG. 33 . - Even with proper thresholding, noise can cause occasional errors with the arcsine and arccosine algorithms. This issue is specific to the arcsine and arccosine algorithms, in contrast to the arctangent algorithm. These errors may arise in the output signal near the phase crossing boundaries, because noise tends to become magnified near these phase crossing boundaries. These errors do not occur when using the arctangent algorithm because its sharp a phase transition make false phase transitions unlikely to occur. In particular, the error can be highest when a phase boundary is crossed. This type of error tends to manifest as significant errors confined to the phase crossing boundary region. Because of this, these errors can be systematically reduced by interpolating between neighboring output data points.
-
FIG. 33 depicts capacitive signals of an inertial device (e.g., 100, 202, 602, 1602, 1802 (FIGS. 1, 2, 6, 16, and 18 )) with a proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16 , and 18)) that is driven to amplitudes that do not cause false phase transitions.FIG. 33 depicts acapacitive curve 3302 corresponding to a 0 g acceleration, and acapacitive curve 3304 corresponding to a 16 g acceleration, which is a full-scale acceleration of the inertial device. The proof mass is driven at an oscillation amplitude such that the signal change under acceleration never exceeds +1 or is less than −1, which would result in a phase transition after applying the arccosine function. The threshold may be set that under full acceleration, the phase does not enter the threshold range near the phase boundary. In this case, the threshold may be set much greater than the noise level and may not cause issues with phase tracking. - When implementing the arcsine, arccosine, and arctangent algorithms, the proof mass (e.g., 102, 203, 608, 1604, 1804 (
FIGS. 1, 2, 6, 16, and 18 )) may be driven at nearly arbitrary amplitudes without having an effect on signal resolution. These methods only require the proof mass to traverse at least the distance of one-half the pitch of the TDS structure (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )). This minimum distance traversal ensures that there is at least one positive and one negative periodic phase boundary crossing. This is equivalent to a requirement that the digitized signal, before applying an inverse trigonometric function and phase unwrap, be scaled to maximum and minimum amplitudes of +1 and −1, respectively, as shown inFIG. 33 . The proof mass may be driven at higher amplitudes without any effect on the resolution of the final output signal. This allows flexibility when designing the system for a desired full-scale range of the output signal. In some examples, it is advantageous to drive the proof mass at a minimum amplitude necessary to achieve a given full-scale range, in order to minimize the drive voltage and power, as well as to simplify the phase unwrap algorithm. In addition, drive amplitude does not affect the noise floor in many cases. -
FIG. 34 depicts capacitance curves of an inertial device (e.g., 100, 202, 602, 1602, 1802 (FIGS. 1, 2, 6, 16, and 18 )) with a proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16 , and 18)) driven at two different amplitudes.FIG. 34 depicts acapacitive curve 3402 of an oscillating proof mass driven to an amplitude of 0.5 microns and acapacitive curve 3404 of an oscillating proof mass driven to an amplitude of 3.5 microns. When the oscillator is driven to an amplitude of 0.5 microns, the proof mass does not reach a negative phase boundary, and so the capacitive signal cannot be scaled to maximum and minimum values of +1 and −1. When the proof mass is driven to an oscillation amplitude of 3.5 microns, there are multiple phase boundary crossings, allowing the capacitive signal to be properly scaled to maximum and minimum values of +1 and −1, respectively. Additionally, the drive amplitude is such that the digitized capacitive signal (with no input acceleration) ranges halfway between phase boundaries, resulting in an optimized full-scale range. In general, driving the proof mass in quarter-pitch amplitude increments (that are greater than one-half pitch) optimizes a given full scale range. The full scale range itself can be optimized by choosing the resonant frequency of the sensor and thus its mechanical sensitivity (displacement caused by a given input acceleration). - Although it is preferable to drive the proof mass (e.g., 102, 203, 608, 1604, 1804 (
FIGS. 1, 2, 6, 16, and 18 )) at amplitudes greater than one-half pitch of the TDS structure (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )), this is not necessary. For example, the arcsine or arccosine algorithms with phase unwrapping can be used to determine inertial parameters from the scaledcapacitive signal 3402. However, scaling the signal after digitization by the ADC is more complicated when the oscillator is driven at amplitudes less than one-half the pitch. One potential implementation for scaling is a one-time calibration. Another implementation involves occasionally driving the proof mass to higher amplitudes when the inertial device (e.g., 100, 202, 602, 1602, 1802 (FIGS. 1, 2, 6, 16, and 18 )) is known to be at rest, or during start up of the inertial device, to measure the appropriate scaling factor. Conversely, the proof mass oscillation amplitude may be arbitrarily high. This would increase the number of phase crossings, which must be tracked. In addition, it is possible to use a full-scale signal range that causes a displacement that exceeds a pitch or a half-pitch interval. Accommodating this range requires the digital circuitry to track phase crossings due to the signal as well as from the mechanical oscillation. -
FIG. 35 illustrates the error reduction from interpolation.FIG. 35 depicts anphase error curve 3502 showing phase error of an inertial device (e.g., 100, 202, 602, 1602, 1802 (FIGS. 1, 2, 6, 16, and 18 )) when interpolation is not used, and a phase error occurred 3504 showing phase error of the same inertial device when interpolation has been used. As depicted inFIG. 35 , interpolation significantly reduces phase error, and in particular by reducing the large spikes at single data points. -
FIG. 36 depicts an enlarged view of the phase error curves 3502 and 3504 (FIG. 35 ). As depicted inFIG. 36 , interpolation removes disproportionately large phase errors at single data points. With interpolation, some error remains, but this error is periodic with the motion of the proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )). This error occurs as spectral artifacts at harmonics of the oscillation frequency of the proof mass. No such artifacts appear inFIG. 36 below the oscillation frequency, or in the range of interest for desired signals (below resonance). However, for high levels of noise and without interpolation of points of phase boundary crossings, artifacts may occur in the range of interest. - In addition to interpolation, error may be reduced further by implementing a digital low-pass filter before applying the unwrap algorithm. The sample rate of the ADC may be much greater than the frequency range of the desired signal. Therefore, most of the noise is at high frequencies and may be filtered out, provided the frequency content of the proof mass oscillation is preserved. In some examples, the low-pass filter can remove noise at frequencies more than twenty times the drive frequency of the proof mass. This filtering improves the fidelity of the phase unwrap algorithm and reduces the overall noise floor.
- With proper thresholding, interpolation, and digital pre-filtering, the arcsine and arccosine algorithms can have equivalent noise performance as the arctangent algorithm.
- The arctangent algorithm operates on the output of an ADC to determine inertial parameters. The arctangent algorithm unfolds periodic non-linear signal output from the TDS structures (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (
FIGS. 1, 2, 5, 6, 15, 16, and 18 )), recovering a digitized representation of the motion of the proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )). The low-frequency displacements that are induced by inertial forces are the desired signals and can be isolated from the oscillation of the proof mass (and any other higher frequency motion) by digital low-pass filtering. - In some examples, the arctangent algorithm requires in-phase (I) and quadrature (Q) signals to be generated by the inertial device (e.g., 100, 202, 602, 1602, 1802 (
FIGS. 1, 2, 6, 16 , and 18)). These signals have intrinsic phase separation of 90°. These I and Q signals can be produced by arrays of periodic structures that are offset by 90° or one-fourth the pitch of the periodic structures. In some examples, the phase separation need not be exactly 90°, in which case the modified equations can be used. In some examples, to prevent imbalances from capacitive forces and to employ a differential AFE amplifier to reject common-mode noise, four arrays of TDS structures with 0°, 180°, 90° and 270° phase offsets may be used as shown inFIG. 37 . -
FIG. 37 depicts aninertial device 3700 with TDS structures (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )) that have four different phase offsets. Theinertial device 3700 includes aproof mass 3702 that is oscillated along the x axis bydrive combs FIG. 37 depicts a coordinatesystem 3703 with an x axis, a y axis perpendicular to the x axis, and a z axis perpendicular to each of the x and y axes. Theproof mass 3702 is connected to springs and anchors 3706 a and 3706 b (collectively, anchors 3706). Theinertial device 3700 also includesanchors - The
inertial device 3700 includes 0°TDS structures TDS structures TDS structures TDS structures FIG. 37 also depicts areas ofinterest -
FIG. 37 depicts theenlarged views interest view 3726 depicts a portion of theTDS structure 3710 a and showsmoveable beams moveable beams beam 3736 a. Theview 3726 depicts theproof mass 3702 in the neutral position, and the teeth of the fixedbeam 3736 a are aligned with the teeth of themoveable beams - The
view 3728 depicts a portion of theTDS structure 3712 a and showsmoveable beams moveable beams beam 3736 b. Theview 3728 depicts theproof mass 3702 in the neutral position, and the teeth of the fixedbeam 3736 b are offset from the teeth of themoveable beams TDS structure 3712 a, corresponding to a spatial phase of 90° and π/2 radians. - The
view 3730 depicts a portion of theTDS structure 3714 a and showsmoveable beams moveable beams beam 3736 c. Theview 3730 depicts theproof mass 3702 in the neutral position, and the teeth of the fixedbeam 3736 c are offset from the teeth of themoveable beams TDS structure 3714 a, corresponding to a spatial phase of 180° and π radians. - The
view 3732 depicts a portion of theTDS structure 3716 a and showsmoveable beams moveable beams beam 3736 d. Theview 3732 depicts theproof mass 3702 in the neutral position, and the teeth of the fixedbeam 3736 d are offset from the teeth of themoveable beams TDS structure 3716 a corresponding to a spatial phase of 270° and 3π/2 radians. - The capacitance of the 0° of the TDS structure 3710 as a function of displacement of the
proof mass 3702 is shown by equation 124. -
- Because the variables C, D, E, F, and G are approximately two orders of magnitudes of the variables A and B, equation 124 can be approximated by equation 125. While equation 124 more accurately captures the capacitance behavior of the TDS structure 3710, the simpler equation 125 will be used for the conceptual analysis below. The pitch of the teeth of the TDS structure 3710 is indicated by the variable P. The capacitance behavior of the TDS structures 3710, 3712, 3714, and 3716 can be modeled using equation 125, with spatial phase offsets in quarter-pitch increments as shown in equations 126-129.
-
- The capacitance can be expressed as a function of time by substituting the proof mass (e.g., 102, 203, 608, 1604, 1804 (
FIGS. 1, 2, 6, 16, and 18 )) motion x(t) into equation 125 as shown in equation 130. -
- Using two matched differential AFE's such as transimpedance or charge amplifiers, the capacitances of the 0° TDS structure 3710 and the 180° TDS structure 3714 are combined to define the in-phase signal (I) as shown in equation 131. Similarly, the capacitance signals of the 90° TDS structure 3712 and the 270° TDS structure 3716 are combined to define the quadrature signal (Q) as shown in equation 132.
-
-
FIGS. 38, 39, and 40 depict the capacitance signals of equations 131 and 132 at various drive amplitudes of the proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )).FIG. 38 depicts an in-phase capacitance curve 3802 and aquadrature capacitance curve 3804 at a drive amplitude of 2 microns.FIG. 39 depicts an in-phase capacitance curve 3902 and aquadrature capacitance curve 3904 at a drive amplitude of seven microns.FIG. 40 depicts an in-phase capacitance curve 4002 and aquadrature capacitance curve 4004 at a drive amplitude of 12 microns. As can be seen inFIGS. 38-40 , when the drive amplitude increases, the peak capacitance does not change, but the frequency of the capacitance signal does change. This is true even though the oscillation frequency of the proof mass has not changed. - The displacement of the proof mass (e.g., 102, 203, 608, 1604, 1804 (
FIGS. 1, 2, 6, 16 , and 18)) can be determined by dividing equations 131 to produce equation 133. Thus, digital circuitry can perform the operations of equation 133 on received capacitance signals CQ and CI to determine proof mass displacement. -
- The digital representation of the motion of the proof mass (e.g., 102, 203, 608, 1604, 1804 (
FIGS. 1, 2, 6, 16, and 18 )) can include different frequency components, including contributions from the drive comb actuation, from inertial forces, and from acoustic coupling. These components are illustrated in equation 134. -
x(t)=A·sin (ω0 ·t)+x Inertial(t)+x Acoustic(t) [134] - The first term in equation 134, A·sin (ω0·t), represents the resonant motion of the proof mass caused by comb drives. This component can be extracted using a digital band-pass filter. In some examples, this digital band-pass filter can utilize a third order Butterworth filter centered at two kilohertz with cut-offs at 2.25 and 1.75 kHz. These filter parameters can be used for a drive frequency of 2 kHz. The oscillator amplitude can be isolated from this filtered digital signal using an envelope detector. The third term in equation 134 represents high frequency motion (e.g., 200 Hz-20 kHz), caused by acoustic coupling from a speaker. These signals are at frequencies above the inertial signals, but if acoustic signals exist in the band of the band pass filter, there can corrupt the amplitude signal.
- The second term in equation 134, xInertial (t) represents low-frequency motion of the proof mass (e.g., less than 200 Hz) caused by inertial forces acting on the inertial device. Motion in this frequency range is the desired measurement. The inertial component of the signal is isolated using a digital low-pass filter. In some examples, the low-pass filter can be a fourth order Butterworth filter with a 200 Hz cutoff. The inertial acceleration is thus given by equation 135, where ω0 2 represents the square of the natural frequency of the proof mass. In some examples, ω0 2 represents the square of the drive frequency of the proof mass.
-
a(t)=ω0 2 ·x Inertial(t) [135] - The resonant frequency of the proof mass can be measured in real time because the closed loop drive can accurately track resonance. Initial calibration can be used to determine the resonant frequency. The relative change in sensitivity over time can be tracked by measuring the closed loop drive frequency, with some initial calibration. The relative change in sensitivity can include a fixed offset. If the fixed offset drifts with time, this can affect accuracy of the measurement of inertial parameters. In the arcsine, arccosine, and arctangent algorithms, the unwrap accuracy does not depend on knowledge of the actual resonant frequency. The unwrap accuracy in these algorithms only depends on an accurate measurement of the drive frequency. However, knowledge of the actual resonant frequency does affect the scaling of the unwrapped output to units of ‘g’ in the arcsine, arccosine, and arctangent algorithms, as well as in the cosine algorithm.
-
FIGS. 41 and 42 depict analog output signals of differential charge amplifiers at proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )) oscillation of 7 microns and 4 microns, respectively.FIG. 41 includes an in-phase analog signal 4102 and an out-of-phase analog signal 4104.FIG. 42 includes an in-phase analog signal 4202 and an out-of-phase analog signal 4204. Thesignals curves -
-
FIG. 43 depicts the ratio of Q and I signals given by equation 136.FIG. 43 includes acurve 4302 that illustrates this ratio and includes phase wrap events. To recover displacement information of the proof mass, equation 136 can be inverted, resulting in equation 137. -
- However, applying the arctangent function of equation 137 requires applying a phase unwrap function. In some examples, this function monitors the output of the arctangent function and adds multiples of ±2π when absolute jumps between adjacent data points are greater than or equal to π radians.
-
FIG. 44 depicts the arctangent of the Q/I ratio without unwrapping, as shown bycurve 4402. -
FIG. 45 depicts the proof mass position after unwrapping.FIG. 45 includes a calculateddisplacement curve 4502 that represents a digital estimate of the proof mass position. After unwrapping, thecurve 4502 is a smooth sinusoidal curve without phase wraps. -
FIG. 46 depicts an enlarged view of a portion ofFIG. 45 , showing the difference between the true displacement and the digital estimate.FIG. 46 includes adisplacement curve 4602 that represents the true displacement of the proof mass.FIG. 46 also includes adigital estimate curve 4604 that represents the digital estimate of the position of the proof mass. Thecurve 4604 drawn inFIG. 46 is an enlarged view of thecurve 4502 shown inFIG. 45 .FIG. 46 shows the quantization error inherent in any digital representation of a continuous variable. - The arcsine, arccosine, and arctangent algorithms described herein are useful because they produce a digitized, accurate representation of oscillator position as a function of time, scaled by the pitch of a TDS structure (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (
FIGS. 1, 2, 5, 6, 15, 16, and 18 )). These methods have a bandwidth higher than the drive frequency of the proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )). This high bandwidth prevents inputs from frequencies higher than the resonant frequency from coupling or aliasing into the inertial low-frequency band and affecting the inertial acceleration measurements. In addition, the arcsine, arccosine, and arctangent algorithms accurately map the motion of the proof mass, regardless of whether the motion is sinusoidal. Thus, the arcsine, arccosine, and arctangent algorithms will accurately recover the displacement and acceleration signals, despite spring non-idealities or high-frequency vibrational coupling. - The cosine, arcsine, arccosine, and arctangent algorithms are relatively immune to 1/f noise caused by electronics amplifiers and filters. The algorithms essentially encode the acceleration information on a higher frequency signal, thus up-modulating the acceleration information. Thus, low frequency drift of the electronics does not impact accuracy or drift of the acceleration measurement. The algorithms effectively remove offset and gain drift of electronics from acceleration measurement accuracy. As a result, only white noise significantly impacts resolution of the algorithms (but does not impact drift).
- In some examples, analog and/or digital circuitry of the inertial device (e.g., 100, 202, 602, 1602, 1802 (
FIGS. 1, 2, 6, 16, and 18 )) is included in a single mixed-signal application-specific integrated circuit (ASIC) located on a single substrate. In other examples, analog and/or digital circuitry of the inertial device (e.g., 100, 202, 602, 1602, 1802 (FIGS. 1, 2, 6, 16, and 18 )) is distributed between multiple integrated circuits. The multiple integrated circuits can all be located on a single substrate. In some examples, the multiple integrated circuits can be distributed across multiple substrates that are electrically connected. In some examples, some or all of the inertial device (e.g., 100, 202, 602, 1602, 1802 (FIGS. 1, 2, 6, 16, and 18 )) is implemented using one or more digital processors. - The systems described herein can be fabricated using MEMS and microelectronics fabrication processes such as lithography, deposition, and etching. The features of the the inertial device (e.g., 100, 202, 602, 1602, 1802 (
FIGS. 1, 2, 6, 16, and 18 )) are patterned with lithography and selected portions are removed through etching. Such etching can include deep reactive ion etching (DRIE) and wet etching. In some examples, one or more intermediate metal, semiconducting, and/or insulating layers are deposited. The base wafer can be a doped semiconductor such as silicon. In some examples, ion implantation can be used to increase doping levels in regions defined by lithography. The proof mass (e.g., 102, 203, 608, 1604, 1804 (FIGS. 1, 2, 6, 16, and 18 )) and TDS structures (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )) can be defined in a substrate silicon wafer, which is then bonded to top and bottom cap wafers, also made of silicon. Encasing the proof mass in this manner allows the volume surrounding the mass to be evacuated. In some examples, a getter material such as titanium is deposited within the evacuated volume to maintain a low pressure throughout the lifetime of the device. This low pressure enhances the quality factor of the resonator. From the proof mass and TDS structures (e.g., 105, 207, 506, 604, 606, 1501, 1503, 1606, 1608, 1806, 1808 (FIGS. 1, 2, 5, 6, 15, 16, and 18 )), conducting traces are deposited using metal deposition techniques such as sputtering or physical vapor deposition (PVD). These conducting traces electrically connect active areas of the proof mass and TDS structures to the microelectronic circuits depicted inFIG. 1 . Similar conducting traces can be used to electrically connect the microelectronic circuits depicted inFIG. 1 to each other. The fabricated MEMS and microelectronic structures can be packaged using semiconductor packaging techniques including wire bonding and flip-chip packaging. - As used herein, the term “memory” includes any type of integrated circuit or other storage device adapted for storing digital data including, without limitation, ROM, PROM, EEPROM, DRAM, SDRAM, DDR/2 SDRAM, EDO/FPMS, RLDRAM, SRAM, flash memory (e.g., AND/NOR, NAND), memrister memory, and PSRAM.
- As used herein, the term “digital circuitry” is meant generally to include all types of digital processing devices including, without limitation, digital signal processors (DSPs), reduced instruction set computers (RISC), general-purpose (CISC) processors, microprocessors, field programmable gate arrays (FPGAs), PLDs, reconfigurable compute fabrics (RCFs), array processors, secure microprocessors, and application-specific integrated circuits ASICs. Such digital processors may be contained on a single unitary integrated circuit die, or distributed across multiple components.
- From the above description of the system it is manifest that various techniques may be used for implementing the concepts of the system without departing from its scope. For example, in some examples, any of the circuits described herein may be implemented as a printed circuit. Further, various features of the system may be implemented as software routines or instructions to be executed on a processing device (e.g. a general purpose processor, an ASIC, field programmable gate array (FPGA), etc.) The described embodiments are to be considered in all respects as illustrative and not restrictive. It should also be understood that the system is not limited to the particular examples described herein, but can be implemented in other examples without departing from the scope of the claims.
- Similarly, while operations are depicted in the drawings in a particular order, this should not be understood as requiring that such operations be performed in the particular order shown or in sequential order, or that all illustrated operations be performed, to achieve desirable results.
Claims (41)
Priority Applications (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
PCT/US2016/033566 WO2016187560A1 (en) | 2015-05-20 | 2016-05-20 | Extracting inertial information from nonlinear periodic signals |
US15/160,091 US10234476B2 (en) | 2015-05-20 | 2016-05-20 | Extracting inertial information from nonlinear periodic signals |
Applications Claiming Priority (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US201562164378P | 2015-05-20 | 2015-05-20 | |
US15/160,091 US10234476B2 (en) | 2015-05-20 | 2016-05-20 | Extracting inertial information from nonlinear periodic signals |
Publications (2)
Publication Number | Publication Date |
---|---|
US20160341758A1 true US20160341758A1 (en) | 2016-11-24 |
US10234476B2 US10234476B2 (en) | 2019-03-19 |
Family
ID=57324393
Family Applications (2)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US15/160,098 Active 2036-10-09 US9989553B2 (en) | 2015-05-20 | 2016-05-20 | Extracting inertial information from nonlinear periodic signals |
US15/160,091 Active 2036-11-18 US10234476B2 (en) | 2015-05-20 | 2016-05-20 | Extracting inertial information from nonlinear periodic signals |
Family Applications Before (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US15/160,098 Active 2036-10-09 US9989553B2 (en) | 2015-05-20 | 2016-05-20 | Extracting inertial information from nonlinear periodic signals |
Country Status (4)
Country | Link |
---|---|
US (2) | US9989553B2 (en) |
EP (1) | EP3298414A1 (en) |
CN (1) | CN107636473B (en) |
TW (2) | TWI650558B (en) |
Cited By (7)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US9910061B2 (en) | 2014-06-26 | 2018-03-06 | Lumedyne Technologies Incorporated | Systems and methods for extracting system parameters from nonlinear periodic signals from sensors |
US9989553B2 (en) | 2015-05-20 | 2018-06-05 | Lumedyne Technologies Incorporated | Extracting inertial information from nonlinear periodic signals |
US10234477B2 (en) | 2016-07-27 | 2019-03-19 | Google Llc | Composite vibratory in-plane accelerometer |
WO2019229663A1 (en) * | 2018-05-26 | 2019-12-05 | Robert Bosch Gmbh | Yaw rate sensor comprising a substrate having a main extension plane and at least one mass oscillator |
FR3097044A1 (en) * | 2019-06-05 | 2020-12-11 | Robert Bosch Gmbh | Rotation speed sensor |
IT201900009453A1 (en) * | 2019-06-19 | 2020-12-19 | Bosch Gmbh Robert | Angular velocity sensor with a substrate having a main extension plane and with at least one mass oscillator |
CN114397480A (en) * | 2022-01-04 | 2022-04-26 | 湖南大学 | Acoustic Doppler velocimeter error estimation method, device and system |
Families Citing this family (21)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US10564200B2 (en) * | 2015-10-06 | 2020-02-18 | The Charles Stark Draper Laboratory, Inc. | Electric field detector system |
US10585150B2 (en) * | 2015-10-06 | 2020-03-10 | The Charles Stark Draper Laboratory, Inc. | Magnetic field detector system |
TWM537219U (en) * | 2016-05-17 | 2017-02-21 | Iner Aec | Ionizing radiation reader and micro current measuring device |
US10578641B2 (en) * | 2016-08-22 | 2020-03-03 | Nxp Usa, Inc. | Methods and systems for electrically calibrating transducers |
WO2018064554A1 (en) | 2016-09-30 | 2018-04-05 | The Charles Stark Draper Laboratory, Inc. | Biophysical sensing systems and methods using non-contact electric field detectors |
CN107064555B (en) * | 2017-03-10 | 2020-09-04 | 中国科学院地质与地球物理研究所 | MEMS accelerometer and manufacturing process thereof |
US10859620B2 (en) | 2017-04-04 | 2020-12-08 | The Charles Stark Draper Laboratory, Inc. | Miniature electric field detector |
US10466053B2 (en) | 2017-04-04 | 2019-11-05 | Invensense, Inc. | Out-of-plane sensing gyroscope robust to external acceleration and rotation |
US11525870B2 (en) | 2017-10-05 | 2022-12-13 | The Charles Stark Draper Laboratory, Inc. | Electromagnetic gradiometers |
CN108020687B (en) * | 2018-02-06 | 2024-03-19 | 深迪半导体(绍兴)有限公司 | MEMS accelerometer |
JP7119478B2 (en) * | 2018-03-23 | 2022-08-17 | セイコーエプソン株式会社 | Circuit devices, physical quantity measuring devices, electronic devices and moving objects |
US11693020B2 (en) | 2018-11-06 | 2023-07-04 | Rohm Co., Ltd. | Accelerometer having a root-mean-square (RMS) output |
CN110175427B (en) * | 2019-06-03 | 2023-06-09 | 江西理工大学 | Method for realizing asymmetric oscillation death in coupled vibrator system |
CN110517563B (en) * | 2019-08-14 | 2021-07-27 | 武汉光驰教育科技股份有限公司 | Interactive trigonometric function teaching device and method |
US11287441B2 (en) | 2019-11-07 | 2022-03-29 | Honeywell International Inc. | Resonator including one or more mechanical beams with added mass |
TWI708470B (en) * | 2020-02-21 | 2020-10-21 | 龍華科技大學 | A power converter |
US10862505B1 (en) * | 2020-02-27 | 2020-12-08 | Nxp Usa, Inc. | Arbitrary rate decimator and timing error corrector for an FSK receiver |
US20220252636A1 (en) * | 2021-02-05 | 2022-08-11 | Kionix, Inc. | Accelerometer apparatuses and systems |
KR20220121121A (en) * | 2021-02-24 | 2022-08-31 | 현대모비스 주식회사 | Apparatus and method for processing of sensor signal |
US11788840B2 (en) | 2021-11-08 | 2023-10-17 | Northrop Grumman Systems Corporation | Vibrating-mass sensor system |
US20230301864A1 (en) * | 2022-03-22 | 2023-09-28 | David Barwick | Technologies for improving the gait of individuals with parkinson's disease |
Citations (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20060074338A1 (en) * | 2000-10-11 | 2006-04-06 | Greenwald Richard M | System for monitoring a physiological parameter of players engaged in a sporting activity |
US20110004444A1 (en) * | 2009-06-02 | 2011-01-06 | Reginald Conway Farrow | Vibration powered impact recorder (vpir) |
Family Cites Families (177)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
GB947310A (en) | 1960-07-22 | 1964-01-22 | August Karolus | Improvements in or relating to rotation responsive devices |
US3925642A (en) | 1974-05-13 | 1975-12-09 | United Technologies Corp | Strapdown gyro drift calculator |
US4930351A (en) | 1988-03-24 | 1990-06-05 | Wjm Corporation | Vibratory linear acceleration and angular rate sensing system |
JPH02119314A (en) | 1988-10-28 | 1990-05-07 | Fuji Xerox Co Ltd | Zero cross voltage detector |
US6109114A (en) | 1993-08-16 | 2000-08-29 | California Institute Of Technology | Caging, calibration, characterization and compensation of microstructural transducers |
DE4445553A1 (en) | 1993-12-21 | 1995-06-22 | Nippon Denso Co | Semiconductor accelerometer for motor vehicle engine or safety control |
US5703292A (en) | 1994-03-28 | 1997-12-30 | The Charles Stark Draper Laboratory, Inc. | Sensor having an off-frequency drive scheme and a sense bias generator utilizing tuned circuits |
JP3479853B2 (en) | 1994-10-05 | 2003-12-15 | アイシン精機株式会社 | Vibrator drive |
US5635638A (en) | 1995-06-06 | 1997-06-03 | Analog Devices, Inc. | Coupling for multiple masses in a micromachined device |
KR100327481B1 (en) | 1995-12-27 | 2002-06-24 | 윤종용 | Micro gyroscope |
CN1104777C (en) | 1996-04-26 | 2003-04-02 | 财团法人工业技术研究院 | Third order A-D converter |
US6250156B1 (en) | 1996-05-31 | 2001-06-26 | The Regents Of The University Of California | Dual-mass micromachined vibratory rate gyroscope |
US5992233A (en) | 1996-05-31 | 1999-11-30 | The Regents Of The University Of California | Micromachined Z-axis vibratory rate gyroscope |
US5996411A (en) | 1996-11-25 | 1999-12-07 | Alliedsignal Inc. | Vibrating beam accelerometer and method for manufacturing the same |
US5894282A (en) | 1996-12-27 | 1999-04-13 | International Business Machines Corporation | Floating triangle analog-to-digital conversion system and method |
US5955668A (en) | 1997-01-28 | 1999-09-21 | Irvine Sensors Corporation | Multi-element micro gyro |
JP3702607B2 (en) | 1997-02-28 | 2005-10-05 | 株式会社村田製作所 | Angular velocity detector |
US6044707A (en) | 1997-06-20 | 2000-04-04 | Aisin Seiki Kabushiki Kaisha | Angular rate sensor |
DE19732081A1 (en) | 1997-07-25 | 1999-01-28 | Bosch Gmbh Robert | Method and arrangement for determining the inertial position of a vehicle |
JP3399336B2 (en) | 1997-12-22 | 2003-04-21 | 株式会社豊田中央研究所 | Detector |
GB9815826D0 (en) | 1998-07-22 | 1998-09-16 | British Aerospace | Capacitive position transducer |
RU2155964C1 (en) | 1999-06-23 | 2000-09-10 | Коновалов Сергей Феодосьевич | Compensation pendulous accelerometer |
DE69932516T2 (en) | 1999-09-10 | 2007-02-15 | Stmicroelectronics S.R.L., Agrate Brianza | Integrated semiconductor inertial sensor with micro-drive for calibration |
FR2799852B1 (en) | 1999-09-30 | 2002-01-11 | St Microelectronics Sa | METHOD AND DEVICE FOR EXTRACTING BINARY DATA VEHICLE BY AN INCIDENTAL SIGNAL, IN PARTICULAR A SIGNAL FROM A DIGITAL DISC |
DE19960094A1 (en) | 1999-12-14 | 2001-07-05 | Bosch Gmbh Robert | Method for the micromechanical production of a semiconductor element, in particular an acceleration sensor |
WO2001053872A1 (en) | 2000-01-18 | 2001-07-26 | Cornell Research Foundation, Inc. | Single crystal silicon micromirror and array |
KR100373484B1 (en) | 2000-01-27 | 2003-02-25 | 국방과학연구소 | vibrating micromachined gyroscope |
US6393913B1 (en) | 2000-02-08 | 2002-05-28 | Sandia Corporation | Microelectromechanical dual-mass resonator structure |
US6629448B1 (en) | 2000-02-25 | 2003-10-07 | Seagate Technology Llc | In-situ testing of a MEMS accelerometer in a disc storage system |
US20020020219A1 (en) | 2000-03-13 | 2002-02-21 | Deroo David W. | Method of driving MEMS sensor with balanced four-phase comb drive |
JP2001264072A (en) | 2000-03-17 | 2001-09-26 | Aisin Seiki Co Ltd | Angular velocity sensor |
WO2001071364A1 (en) | 2000-03-17 | 2001-09-27 | Microsensors, Inc. | Method of canceling quadrature error in an angular rate sensor |
JP2001264071A (en) | 2000-03-17 | 2001-09-26 | Aisin Seiki Co Ltd | Vibrator driving device |
US6744173B2 (en) | 2000-03-24 | 2004-06-01 | Analog Devices, Inc. | Multi-layer, self-aligned vertical combdrive electrostatic actuators and fabrication methods |
JP2002005955A (en) | 2000-06-26 | 2002-01-09 | Denso Corp | Capacitance-type dynamic quantity sensor |
DE60030268T2 (en) | 2000-07-10 | 2007-03-29 | Infineon Technologies Sensonor As | accelerometer |
US20020093908A1 (en) | 2000-11-24 | 2002-07-18 | Esion Networks Inc. | Noise/interference suppression system |
US6739189B2 (en) | 2001-04-26 | 2004-05-25 | Samsung Electronics Co., Ltd. | Micro structure for vertical displacement detection and fabricating method thereof |
KR100373739B1 (en) | 2001-05-07 | 2003-02-26 | 조동일 | Method for Fabrication of Electrostatic Vertical Actuators Using One Single-crystalline Silicon Wafer |
GB0116393D0 (en) | 2001-07-05 | 2001-08-29 | Druck Ltd | Improved sensor |
US6619121B1 (en) | 2001-07-25 | 2003-09-16 | Northrop Grumman Corporation | Phase insensitive quadrature nulling method and apparatus for coriolis angular rate sensors |
US6629460B2 (en) | 2001-08-10 | 2003-10-07 | The Boeing Company | Isolated resonator gyroscope |
US6993291B2 (en) | 2001-10-11 | 2006-01-31 | Nokia Corporation | Method and apparatus for continuously controlling the dynamic range from an analog-to-digital converter |
US6955086B2 (en) | 2001-11-19 | 2005-10-18 | Mitsubishi Denki Kabushiki Kaisha | Acceleration sensor |
US6859751B2 (en) | 2001-12-17 | 2005-02-22 | Milli Sensor Systems & Actuators, Inc. | Planar inertial measurement units based on gyros and accelerometers with a common structure |
KR100431004B1 (en) | 2002-02-08 | 2004-05-12 | 삼성전자주식회사 | Rotation type MEMS gyroscpoe of a decoupled structure |
US6747462B2 (en) | 2002-03-18 | 2004-06-08 | Hewlett-Packard Development Company, L.P. | Method and system for determining position of a body |
US6725719B2 (en) | 2002-04-17 | 2004-04-27 | Milli Sensor Systems And Actuators, Inc. | MEMS-integrated inertial measurement units on a common substrate |
US6715353B2 (en) | 2002-04-25 | 2004-04-06 | Honeywell International, Inc. | MEMS gyroscope with parametric gain |
JP3851870B2 (en) | 2002-12-27 | 2006-11-29 | 株式会社東芝 | Variable resolution A / D converter |
JP2004264053A (en) | 2003-02-10 | 2004-09-24 | Tokyo Electron Ltd | Acceleration sensor and tilt detection method |
US6966224B2 (en) | 2003-03-06 | 2005-11-22 | Bei Technologies, Inc. | Micromachined vibratory gyroscope with electrostatic coupling |
JP4310571B2 (en) | 2003-04-07 | 2009-08-12 | 株式会社村田製作所 | Capacitance detection type vibration gyro and capacitance change detection method |
US6848304B2 (en) | 2003-04-28 | 2005-02-01 | Analog Devices, Inc. | Six degree-of-freedom micro-machined multi-sensor |
US6767758B1 (en) | 2003-04-28 | 2004-07-27 | Analog Devices, Inc. | Micro-machined device structures having on and off-axis orientations |
TW594016B (en) | 2003-04-29 | 2004-06-21 | Chung Shan Inst Of Science | Z-axis solid state gyroscope and three-axis inertial measurement apparatus |
TWI234819B (en) | 2003-05-06 | 2005-06-21 | Walsin Lihwa Corp | Selective etch method for side wall protection and structure formed using the method |
US20050031140A1 (en) | 2003-08-07 | 2005-02-10 | Tymphany Corporation | Position detection of an actuator using a capacitance measurement |
DE10342192B4 (en) | 2003-09-12 | 2011-06-16 | Infineon Technologies Ag | Method and apparatus for calculating zero-crossing reference sequences for the signal detection of angle-modulated signals on the basis of zero crossings of the received signal |
US7036372B2 (en) * | 2003-09-25 | 2006-05-02 | Kionix, Inc. | Z-axis angular rate sensor |
US6934665B2 (en) | 2003-10-22 | 2005-08-23 | Motorola, Inc. | Electronic sensor with signal conditioning |
KR100513345B1 (en) | 2003-12-20 | 2005-09-07 | 삼성전기주식회사 | a capacitance z-axis accelerometer |
DE10360962B4 (en) | 2003-12-23 | 2007-05-31 | Litef Gmbh | Method for quadrature bias compensation in a Coriolis gyro and suitable Coriolis gyro |
US7377167B2 (en) | 2004-02-27 | 2008-05-27 | The Regents Of The University Of California | Nonresonant micromachined gyroscopes with structural mode-decoupling |
US7204123B2 (en) * | 2004-03-26 | 2007-04-17 | Honeywell International Inc. | Accuracy enhancement of a sensor during an anomalous event |
DE102004017480B4 (en) | 2004-04-08 | 2009-04-16 | Fraunhofer-Gesellschaft zur Förderung der angewandten Forschung e.V. | Rotary rotation rate sensor with mechanically decoupled vibration modes |
JP4455201B2 (en) | 2004-07-20 | 2010-04-21 | 富士通マイクロエレクトロニクス株式会社 | Detection circuit |
US7481112B2 (en) | 2004-09-30 | 2009-01-27 | University Of Southern California | Silicon inertial sensors formed using MEMS |
US20060114140A1 (en) | 2004-11-29 | 2006-06-01 | Taiwan Semiconductor Manufacturing Co., Ltd. | Two step flash analog to digital converter |
US7302848B2 (en) | 2005-03-10 | 2007-12-04 | The Charles Stark Draper Laboratory, Inc. | Force compensated comb drive |
DE102005011243A1 (en) | 2005-03-11 | 2006-09-21 | Robert Bosch Gmbh | Method and device for roll angle determination for occupant protection devices |
JP2006304035A (en) | 2005-04-22 | 2006-11-02 | Agilent Technol Inc | Analog-digital converting method and system thereof |
KR100695153B1 (en) | 2005-06-15 | 2007-03-14 | 삼성전자주식회사 | Laser scanner having multi-layered comb drive |
US20070032748A1 (en) | 2005-07-28 | 2007-02-08 | 608442 Bc Ltd. | System for detecting and analyzing body motion |
JP2007101526A (en) | 2005-09-06 | 2007-04-19 | Sony Corp | Apparatus, method, and program for detecting speed and position and navigation system |
JP2007071677A (en) | 2005-09-07 | 2007-03-22 | Hitachi Ltd | Combined sensor and manufacturing method therefor |
EP1832841B1 (en) | 2006-03-10 | 2015-12-30 | STMicroelectronics Srl | Microelectromechanical integrated sensor structure with rotary driving motion |
US7444868B2 (en) * | 2006-06-29 | 2008-11-04 | Honeywell International Inc. | Force rebalancing for MEMS inertial sensors using time-varying voltages |
US7265702B1 (en) | 2006-07-17 | 2007-09-04 | Fortemedia, Inc. | Method for converting an analog signal to multiple different phase outputs utilizing an analog-to-digital converter |
TWI305578B (en) * | 2006-11-14 | 2009-01-21 | Ind Tech Res Inst | Method and apparatus of signal processing and an inertia pointing device using thereof |
TWI317898B (en) * | 2006-12-12 | 2009-12-01 | Ind Tech Res Inst | Inertial sensing input apparatus and method |
US20100071467A1 (en) | 2008-09-24 | 2010-03-25 | Invensense | Integrated multiaxis motion sensor |
JP5110885B2 (en) | 2007-01-19 | 2012-12-26 | キヤノン株式会社 | Structure having a plurality of conductive regions |
FI120921B (en) | 2007-06-01 | 2010-04-30 | Vti Technologies Oy | Method for measuring angular velocity and oscillating micromechanical angular velocity sensor |
US8061201B2 (en) | 2007-07-13 | 2011-11-22 | Georgia Tech Research Corporation | Readout method and electronic bandwidth control for a silicon in-plane tuning fork gyroscope |
JP4838229B2 (en) * | 2007-07-27 | 2011-12-14 | トレックス・セミコンダクター株式会社 | Accelerometer |
US7836765B2 (en) * | 2007-07-31 | 2010-11-23 | The Boeing Company | Disc resonator integral inertial measurement unit |
KR20090022155A (en) | 2007-08-29 | 2009-03-04 | 한국전자통신연구원 | Bidirectional readout circuit for the detection of the direction and amplitued of the capacitive mems accelerometers |
US8042394B2 (en) | 2007-09-11 | 2011-10-25 | Stmicroelectronics S.R.L. | High sensitivity microelectromechanical sensor with rotary driving motion |
JP4510068B2 (en) | 2007-12-05 | 2010-07-21 | 東京エレクトロン株式会社 | Displacement measuring apparatus and displacement measuring method for microstructure |
US20090183570A1 (en) | 2008-01-18 | 2009-07-23 | Custom Sensors & Technologies, Inc. | Micromachined cross-differential dual-axis accelerometer |
US8443667B2 (en) | 2008-02-21 | 2013-05-21 | The Regents Of The University Of California | Temperature-robust MEMS gyroscope with 2-DOF sense-mode addressing the tradeoff between bandwith and gain |
EP2098823B1 (en) | 2008-03-05 | 2016-10-19 | Colibrys S.A. | Accelerometer with offset compensation |
KR101467017B1 (en) | 2008-03-31 | 2014-12-01 | 아사히 가라스 가부시키가이샤 | Acceleration sensor device and sensor network system |
WO2009145897A1 (en) | 2008-05-29 | 2009-12-03 | Lucon Peter A | Automatic control of oscillatory penetration apparatus |
US8082790B2 (en) | 2008-08-15 | 2011-12-27 | Sural C.A. | Solid-state inertial sensor on chip |
US8327705B2 (en) | 2009-08-10 | 2012-12-11 | ISC8 Inc. | Frequency modulated micro-gyro signal processing method and device |
JP4645725B2 (en) | 2008-11-05 | 2011-03-09 | 株式会社デンソー | Angular velocity detection method of vibration type angular velocity sensor |
JP4737276B2 (en) | 2008-11-10 | 2011-07-27 | 株式会社デンソー | Semiconductor dynamic quantity sensor and manufacturing method thereof |
JP2010145274A (en) * | 2008-12-19 | 2010-07-01 | Panasonic Corp | Inertial sensor |
FR2945621B1 (en) | 2009-05-15 | 2011-08-26 | Commissariat Energie Atomique | COUPLING STRUCTURE FOR RESIN GYROMETER |
JP2010286471A (en) | 2009-05-15 | 2010-12-24 | Seiko Epson Corp | Mems sensor and electronic apparatus |
DE102009026511A1 (en) | 2009-05-27 | 2010-12-02 | Sensordynamics Ag | Micro-gyroscope for determining rotational movements about at least one of three mutually perpendicular spatial axes |
IT1394898B1 (en) | 2009-06-03 | 2012-07-20 | St Microelectronics Rousset | MICROELETTROMECHANICAL GYROSCOPE WITH POSITION CONTROL AND METHOD FOR THE CONTROL OF A MICROELECTRANOMANICAL GYROSCOPE |
EP2263532A1 (en) | 2009-06-05 | 2010-12-22 | Koninklijke Philips Electronics N.V. | Motion determination apparatus |
EP2447671B1 (en) | 2009-06-26 | 2017-08-09 | Rohm Co., Ltd. | Angular velocity sensor, and synchronous detection circuit used therein |
US8418555B2 (en) | 2009-06-26 | 2013-04-16 | Honeywell International Inc. | Bidirectional, out-of-plane, comb drive accelerometer |
FR2947333B1 (en) | 2009-06-30 | 2011-07-29 | Thales Sa | MICRO-FACTORY GYROSCOPE WITH DETECTION IN PLATE PLATE PLAN |
CN101957201B (en) | 2009-07-13 | 2012-10-03 | 上海丽恒光微电子科技有限公司 | Capacitive MEMS gyroscope and method of making the same |
US8701459B2 (en) | 2009-10-20 | 2014-04-22 | Analog Devices, Inc. | Apparatus and method for calibrating MEMS inertial sensors |
KR101283683B1 (en) | 2009-12-14 | 2013-07-08 | 한국전자통신연구원 | Vertical Accelerometer |
US8453504B1 (en) | 2010-01-23 | 2013-06-04 | Minyao Mao | Angular rate sensor with suppressed linear acceleration response |
US8539834B2 (en) | 2010-02-15 | 2013-09-24 | Stmicroelectronics S.R.L. | Microelectromechanical gyroscope with calibrated synchronization of actuation and method for actuating a microelectromechanical gyroscope |
US8378756B2 (en) | 2010-05-18 | 2013-02-19 | Taiwan Semiconductor Manufacturing Company, Ltd. | Drive loop for MEMS oscillator |
JP5527019B2 (en) * | 2010-05-28 | 2014-06-18 | セイコーエプソン株式会社 | Physical quantity sensor and electronic equipment |
GB201009062D0 (en) | 2010-05-28 | 2010-07-14 | Cambridge Entpr Ltd | MEMS inertial sensor and method of inertial sensing |
US8527228B2 (en) | 2010-06-04 | 2013-09-03 | Apple Inc. | Calibration for three dimensional motion sensor |
US9278846B2 (en) | 2010-09-18 | 2016-03-08 | Fairchild Semiconductor Corporation | Micromachined monolithic 6-axis inertial sensor |
US8539832B2 (en) | 2010-10-25 | 2013-09-24 | Rosemount Aerospace Inc. | MEMS gyros with quadrature reducing springs |
US8726717B2 (en) * | 2011-04-27 | 2014-05-20 | Honeywell International Inc. | Adjusting a MEMS gyroscope to reduce thermally varying bias |
FR2974896B1 (en) | 2011-05-02 | 2013-11-22 | Commissariat Energie Atomique | INERTIAL PLANT WITH SEVERAL AXIS DETECTION |
JP5822177B2 (en) | 2011-05-20 | 2015-11-24 | セイコーエプソン株式会社 | Gyro sensor, electronic equipment |
TWI520898B (en) | 2011-05-23 | 2016-02-11 | 深迪半導體（上海）有限公司 | Mems devices sensing both rotation and acceleration |
US9705450B2 (en) * | 2011-06-24 | 2017-07-11 | The United States Of America As Represented By The Secretary Of The Navy | Apparatus and methods for time domain measurement of oscillation perturbations |
US20160299873A1 (en) | 2011-06-24 | 2016-10-13 | Spawar Systems Center Pacific | Time Domain Sensor Systems, Devices, and Methods Using Enhanced Nonlinear Least-Squares Curve Fitting |
US9103673B2 (en) * | 2011-06-24 | 2015-08-11 | The United States Of America As Represented By The Secretary Of The Navy | Inertial sensor using sliding plane proximity switches |
US9157814B2 (en) | 2011-06-24 | 2015-10-13 | United States Of America, As Represented By The Secretary Of The Navy | Apparatus and methods for time domain measurement using phase shifted virtual intervals |
CN104040903B (en) | 2011-08-19 | 2016-09-28 | 路梅戴尼科技公司 | Time domain switching analog-digital converter apparatus and method for |
KR20130028346A (en) | 2011-09-09 | 2013-03-19 | 삼성전기주식회사 | Device for measuring acceleration and method for measuring acceleation |
US9863769B2 (en) | 2011-09-16 | 2018-01-09 | Invensense, Inc. | MEMS sensor with decoupled drive system |
US9170107B2 (en) | 2011-09-16 | 2015-10-27 | Invensense, Inc. | Micromachined gyroscope including a guided mass system |
US8833162B2 (en) | 2011-09-16 | 2014-09-16 | Invensense, Inc. | Micromachined gyroscope including a guided mass system |
DE102011083487B4 (en) | 2011-09-27 | 2023-12-21 | Robert Bosch Gmbh | Acceleration sensor and method for operating an acceleration sensor |
US8427249B1 (en) | 2011-10-19 | 2013-04-23 | The United States Of America As Represented By The Secretary Of The Navy | Resonator with reduced acceleration sensitivity and phase noise using time domain switch |
US8875578B2 (en) | 2011-10-26 | 2014-11-04 | Silicon Laboratories Inc. | Electronic damper circuit for MEMS sensors and resonators |
US8490462B2 (en) * | 2011-10-26 | 2013-07-23 | The United States Of America As Represented By The Secretary Of The Navy | Auto-ranging for time domain inertial sensor |
US9128496B2 (en) | 2011-10-26 | 2015-09-08 | The United States Of America As Represented By Secretary Of The Navy | Auto-ranging for time domain extraction of perturbations to sinusoidal oscillation |
US8683862B2 (en) | 2011-11-03 | 2014-04-01 | The United States Of America As Represented By The Secretary Of The Navy | Oscillation apparatus with atomic-layer proximity switch |
FR2985029B1 (en) | 2011-12-22 | 2014-10-24 | Commissariat Energie Atomique | MICRO / NANO MULTIMETERIAL INERTIAL SENSOR DEVICE FOR MOVEMENTS |
US8650955B2 (en) | 2012-01-18 | 2014-02-18 | The United States Of America As Represented By The Secretary Of The Navy | Time domain switched gyroscope |
US9759563B2 (en) | 2012-01-31 | 2017-09-12 | Nxp Usa, Inc. | Vibration robust x-axis ring gyro transducer |
US9246017B2 (en) * | 2012-02-07 | 2016-01-26 | Mcube, Inc. | MEMS-based dual and single proof-mass accelerometer methods and apparatus |
US9423272B2 (en) * | 2012-02-17 | 2016-08-23 | Honeywell International Inc. | Estimation of conventional inertial sensor errors with atomic inertial sensor |
WO2013125212A1 (en) * | 2012-02-21 | 2013-08-29 | パナソニック株式会社 | Inertial force sensor and electronic device using same |
US20130239679A1 (en) | 2012-03-13 | 2013-09-19 | Pavel Kornilovich | Three-axis gyroscope |
US8875576B2 (en) | 2012-03-21 | 2014-11-04 | The United States Of America As Represented By The Secretary Of The Navy | Apparatus and method for providing an in-plane inertial device with integrated clock |
TWI444628B (en) | 2012-03-23 | 2014-07-11 | Univ Nat Chiao Tung | Digital readout module﹑digital sensing apparatus |
US9212908B2 (en) | 2012-04-26 | 2015-12-15 | Analog Devices, Inc. | MEMS gyroscopes with reduced errors |
JP6143430B2 (en) | 2012-05-08 | 2017-06-07 | 三菱プレシジョン株式会社 | Vibration gyro with bias correction function |
US9310202B2 (en) | 2012-07-09 | 2016-04-12 | Freescale Semiconductor, Inc. | Angular rate sensor with quadrature error compensation |
US20140055124A1 (en) | 2012-08-27 | 2014-02-27 | Samsung Electro-Mechanics Co., Ltd. | Peak detector and auto gain controller using the same |
US8991250B2 (en) * | 2012-09-11 | 2015-03-31 | The United States Of America As Represented By Secretary Of The Navy | Tuning fork gyroscope time domain inertial sensor |
DE102012219511A1 (en) | 2012-10-25 | 2014-04-30 | Robert Bosch Gmbh | Micromechanical structure |
US9146109B2 (en) | 2012-11-26 | 2015-09-29 | Stmicroelectronics S.R.L. | Microelectromechanical gyroscope with improved start-up phase, system including the microelectromechanical gyroscope, and method for speeding-up the start up phase |
US20140144232A1 (en) | 2012-11-28 | 2014-05-29 | Yizhen Lin | Spring for microelectromechanical systems (mems) device |
ITTO20121116A1 (en) | 2012-12-20 | 2014-06-21 | St Microelectronics Srl | CIRCUIT AND DYNAMIC COMPENSATION METHOD OF OFFSET FOR A MEMS SENSOR DEVICE |
US8912856B2 (en) | 2013-01-08 | 2014-12-16 | Maxim Integrated Products, Inc. | Electro-mechanical resonance loop |
US9274136B2 (en) | 2013-01-28 | 2016-03-01 | The Regents Of The University Of California | Multi-axis chip-scale MEMS inertial measurement unit (IMU) based on frequency modulation |
US9075079B2 (en) | 2013-03-07 | 2015-07-07 | MCube Inc. | Method and structure of an integrated MEMS inertial sensor device using electrostatic quadrature-cancellation |
US9221679B2 (en) | 2013-03-12 | 2015-12-29 | Freescale Semiconductor, Inc. | Compensation and calibration for MEMS devices |
US9194704B2 (en) | 2013-03-13 | 2015-11-24 | Freescale Semiconductor, Inc. | Angular rate sensor having multiple axis sensing capability |
EP2976597A4 (en) | 2013-03-20 | 2016-11-16 | Lumedyne Technologies Inc | Inertial sensor using sliding plane proximity switches |
JP2015087262A (en) | 2013-10-31 | 2015-05-07 | セイコーエプソン株式会社 | Vibration element, vibrator, electronic apparatus and movable body |
GB2529277B (en) | 2014-04-16 | 2018-09-19 | Cirrus Logic Inc | Systems and methods for determining acceleration based on phase demodulation of an electrical signal |
WO2015200850A2 (en) | 2014-06-26 | 2015-12-30 | Lumedyne Technologies Incorporated | System and methods for determining rotation from nonlinear periodic signals |
US10746548B2 (en) | 2014-11-04 | 2020-08-18 | Analog Devices, Inc. | Ring gyroscope structural features |
KR101754634B1 (en) | 2015-05-12 | 2017-07-07 | 주식회사 신성씨앤티 | MEMS gyroscope with 2 DOF sense-mode |
FI126508B (en) | 2015-05-15 | 2017-01-13 | Murata Manufacturing Co | Process for producing a multi-level micromechanical structure |
WO2016187560A1 (en) | 2015-05-20 | 2016-11-24 | Lumedyne Technologies Incorporated | Extracting inertial information from nonlinear periodic signals |
CN107636473B (en) | 2015-05-20 | 2020-09-01 | 卢米达因科技公司 | Extracting inertial information from non-linear periodic signals |
WO2017004443A2 (en) | 2015-06-30 | 2017-01-05 | Lumedyne Technologies Incorporated | Z-axis physical proximity switch |
US10012671B2 (en) | 2015-11-03 | 2018-07-03 | Richtek Technology Corporation | Micro-electro-mechanical system device |
US20170153266A1 (en) | 2015-11-30 | 2017-06-01 | Lumedyne Technologies Incorporated | Systems and methods for determining inertial parameters using integration |
US20180299269A1 (en) | 2016-07-27 | 2018-10-18 | Lumedyne Technologies Incorporated | Multi-axis, single-drive inertial device |
US20180031603A1 (en) | 2016-07-27 | 2018-02-01 | Lumedyne Technologies Incorporated | Systems and methods for detecting inertial parameters using a vibratory accelerometer with multiple degrees of freedom |
US20180031602A1 (en) | 2016-07-27 | 2018-02-01 | Lumedyne Technologies Incorporated | Converting rotational motion to linear motion |
US10234477B2 (en) | 2016-07-27 | 2019-03-19 | Google Llc | Composite vibratory in-plane accelerometer |
-
2016
- 2016-05-20 CN CN201680019583.XA patent/CN107636473B/en active Active
- 2016-05-20 EP EP16730553.1A patent/EP3298414A1/en not_active Ceased
- 2016-05-20 US US15/160,098 patent/US9989553B2/en active Active
- 2016-05-20 TW TW105115787A patent/TWI650558B/en not_active IP Right Cessation
- 2016-05-20 US US15/160,091 patent/US10234476B2/en active Active
- 2016-05-20 TW TW107139565A patent/TWI676029B/en active
Patent Citations (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20060074338A1 (en) * | 2000-10-11 | 2006-04-06 | Greenwald Richard M | System for monitoring a physiological parameter of players engaged in a sporting activity |
US20110004444A1 (en) * | 2009-06-02 | 2011-01-06 | Reginald Conway Farrow | Vibration powered impact recorder (vpir) |
Cited By (8)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US9910061B2 (en) | 2014-06-26 | 2018-03-06 | Lumedyne Technologies Incorporated | Systems and methods for extracting system parameters from nonlinear periodic signals from sensors |
US9910062B2 (en) | 2014-06-26 | 2018-03-06 | Lumedyne Technologies Incorporated | Systems and methods for extracting system parameters from nonlinear periodic signals from sensors |
US9989553B2 (en) | 2015-05-20 | 2018-06-05 | Lumedyne Technologies Incorporated | Extracting inertial information from nonlinear periodic signals |
US10234477B2 (en) | 2016-07-27 | 2019-03-19 | Google Llc | Composite vibratory in-plane accelerometer |
WO2019229663A1 (en) * | 2018-05-26 | 2019-12-05 | Robert Bosch Gmbh | Yaw rate sensor comprising a substrate having a main extension plane and at least one mass oscillator |
FR3097044A1 (en) * | 2019-06-05 | 2020-12-11 | Robert Bosch Gmbh | Rotation speed sensor |
IT201900009453A1 (en) * | 2019-06-19 | 2020-12-19 | Bosch Gmbh Robert | Angular velocity sensor with a substrate having a main extension plane and with at least one mass oscillator |
CN114397480A (en) * | 2022-01-04 | 2022-04-26 | 湖南大学 | Acoustic Doppler velocimeter error estimation method, device and system |
Also Published As
Publication number | Publication date |
---|---|
TWI676029B (en) | 2019-11-01 |
TW201712342A (en) | 2017-04-01 |
US20160341762A1 (en) | 2016-11-24 |
TW201907163A (en) | 2019-02-16 |
EP3298414A1 (en) | 2018-03-28 |
CN107636473B (en) | 2020-09-01 |
CN107636473A (en) | 2018-01-26 |
TWI650558B (en) | 2019-02-11 |
US9989553B2 (en) | 2018-06-05 |
US10234476B2 (en) | 2019-03-19 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US10234476B2 (en) | Extracting inertial information from nonlinear periodic signals | |
EP3491395B1 (en) | Composite vibratory in-plane accelerometer | |
US9618533B2 (en) | Systems and methods for determining rotation from nonlinear periodic signals | |
US20180031603A1 (en) | Systems and methods for detecting inertial parameters using a vibratory accelerometer with multiple degrees of freedom | |
Papariello et al. | Ultrasensitive hysteretic force sensing with parametric nonlinear oscillators | |
US20170003314A1 (en) | Z-axis physical proximity switch | |
WO2016187560A1 (en) | Extracting inertial information from nonlinear periodic signals | |
US20170153266A1 (en) | Systems and methods for determining inertial parameters using integration | |
Bahl et al. | Model and observations of dielectric charge in thermally oxidized silicon resonators | |
US10608614B2 (en) | Method and device for bi-state control of nonlinear resonators | |
US7088452B2 (en) | Dither stripper with non-linearity correction | |
US20140107969A1 (en) | Frequency-Modulated Micro-Gyro Half-Period Signal Processing Method | |
TW201721151A (en) | Z-axis physical proximity switch |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
AS | Assignment |
Owner name: LUMEDYNE TECHNOLOGIES INCORPORATED, CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:WATERS, RICHARD LEE;FRALICK, MARK STEVEN;TALLY, CHARLES HAROLD, IV;AND OTHERS;SIGNING DATES FROM 20160519 TO 20160520;REEL/FRAME:038661/0095 |
|
AS | Assignment |
Owner name: GOOGLE LLC, CALIFORNIAFree format text: CHANGE OF NAME;ASSIGNOR:GOOGLE INC.;REEL/FRAME:044695/0115Effective date: 20170929 |
|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |
|
CC | Certificate of correction | ||
AS | Assignment |
Owner name: GOOGLE LLC, CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:LUMEDYNE TECHNOLOGIES INCORPORATED;REEL/FRAME:055038/0098Effective date: 20201217 |
|
AS | Assignment |
Owner name: NXTANT, INC., CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:GOOGLE LLC;REEL/FRAME:059043/0923Effective date: 20220201 |
|
FEPP | Fee payment procedure |
Free format text: ENTITY STATUS SET TO SMALL (ORIGINAL EVENT CODE: SMAL); ENTITY STATUS OF PATENT OWNER: SMALL ENTITY |
|
MAFP | Maintenance fee payment |
Free format text: PAYMENT OF MAINTENANCE FEE, 4TH YR, SMALL ENTITY (ORIGINAL EVENT CODE: M2551); ENTITY STATUS OF PATENT OWNER: SMALL ENTITYYear of fee payment: 4 |