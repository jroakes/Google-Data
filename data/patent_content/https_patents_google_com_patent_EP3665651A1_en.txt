EP3665651A1 - Hierarchical disparity hypothesis generation with slanted support windows - Google Patents
Hierarchical disparity hypothesis generation with slanted support windowsInfo
- Publication number
- EP3665651A1 EP3665651A1 EP19709350.3A EP19709350A EP3665651A1 EP 3665651 A1 EP3665651 A1 EP 3665651A1 EP 19709350 A EP19709350 A EP 19709350A EP 3665651 A1 EP3665651 A1 EP 3665651A1
- Authority
- EP
- European Patent Office
- Prior art keywords
- image
- disparity
- hypothesis
- tile
- pixels
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Granted
Links
- 238000000034 method Methods 0.000 claims abstract description 45
- 238000003384 imaging method Methods 0.000 claims abstract description 25
- 238000007670 refining Methods 0.000 claims abstract description 9
- 238000010899 nucleation Methods 0.000 claims description 2
- 230000000875 corresponding effect Effects 0.000 description 14
- 238000010586 diagram Methods 0.000 description 12
- 230000008901 benefit Effects 0.000 description 8
- 230000008569 process Effects 0.000 description 6
- 238000004364 calculation method Methods 0.000 description 5
- 230000000694 effects Effects 0.000 description 4
- 230000003287 optical effect Effects 0.000 description 4
- 238000010606 normalization Methods 0.000 description 3
- 230000002776 aggregation Effects 0.000 description 2
- 238000004220 aggregation Methods 0.000 description 2
- 238000005516 engineering process Methods 0.000 description 2
- 230000006870 function Effects 0.000 description 2
- 238000009499 grossing Methods 0.000 description 2
- 238000012986 modification Methods 0.000 description 2
- 230000004048 modification Effects 0.000 description 2
- 238000012545 processing Methods 0.000 description 2
- 230000001902 propagating effect Effects 0.000 description 2
- 230000009471 action Effects 0.000 description 1
- 238000004458 analytical method Methods 0.000 description 1
- 238000013459 approach Methods 0.000 description 1
- 230000003190 augmentative effect Effects 0.000 description 1
- 239000006227 byproduct Substances 0.000 description 1
- 230000001413 cellular effect Effects 0.000 description 1
- 230000008859 change Effects 0.000 description 1
- 238000010276 construction Methods 0.000 description 1
- 230000001276 controlling effect Effects 0.000 description 1
- 230000002596 correlated effect Effects 0.000 description 1
- 238000013461 design Methods 0.000 description 1
- 239000000284 extract Substances 0.000 description 1
- 238000001914 filtration Methods 0.000 description 1
- 238000002329 infrared spectrum Methods 0.000 description 1
- 230000000644 propagated effect Effects 0.000 description 1
- 238000012887 quadratic function Methods 0.000 description 1
- 230000002040 relaxant effect Effects 0.000 description 1
- 230000011218 segmentation Effects 0.000 description 1
- 238000000926 separation method Methods 0.000 description 1
- 239000007787 solid Substances 0.000 description 1
- 230000002123 temporal effect Effects 0.000 description 1
- 230000009466 transformation Effects 0.000 description 1
- 230000007704 transition Effects 0.000 description 1
- 238000001429 visible spectrum Methods 0.000 description 1
Classifications
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T7/00—Image analysis
- G06T7/50—Depth or shape recovery
- G06T7/55—Depth or shape recovery from multiple images
- G06T7/593—Depth or shape recovery from multiple images from stereo images
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N13/00—Stereoscopic video systems; Multi-view video systems; Details thereof
- H04N13/20—Image signal generators
- H04N13/204—Image signal generators using stereoscopic image cameras
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T2207/00—Indexing scheme for image analysis or image enhancement
- G06T2207/10—Image acquisition modality
- G06T2207/10004—Still image; Photographic image
- G06T2207/10012—Stereo images
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N13/00—Stereoscopic video systems; Multi-view video systems; Details thereof
- H04N2013/0074—Stereoscopic image analysis
- H04N2013/0081—Depth or disparity estimation from stereoscopic image signals
Definitions
- depth imaging may be obtained by correlating left and right stereoscopic images to match pixels between the stereoscopic images.
- the pixels may be matched by determining which pixels are the most similar between the left and right images.
- Pixels correlated between the left and right stereoscopic images may be used to determine depth information.
- a disparity between the location of the pixel in the left image and the location of the corresponding pixel in the right image may be used to calculate the depth information using binocular disparity techniques.
- An image may be produced that contains depth information for a scene, such as information related to how deep or how far away objects in the scene are in relation to a camera's viewpoint. Such images are useful in perceptual computing for applications such as gesture tracking and object recognition, for example.
- FIG. 1 is a block diagram of an active stereo imaging system configured to produce depth maps for AR/VR applications in accordance with at least one embodiment of the present disclosure.
- FIG. 2 is a diagram illustrating the operations of an image preprocessor in
- FIGs. 3A-3B are diagrams illustrating the operations of an image initializer to perform hierarchical initialization in accordance with at least one embodiment of the present disclosure.
- FIG. 4 is a flow diagram illustrating a method of propagating hypotheses at the tile level in accordance with at least one embodiment of the present disclosure.
- FIG. 5 is a flow diagram illustrating a method of refining per-tile estimates to infer per- pixel disparity in accordance with at least one embodiment of the present disclosure.
- FIG. 6 is a flow diagram illustrating a method of estimating depth from pairs of stereo images in accordance with at least one embodiment of the present disclosure.
- depth sensing technologies are used in computer vision tasks including telepresence, 3D scene reconstruction, object recognition, and robotics. These depth sensing technologies include gated or continuous wave time-of-f light (ToF), triangulation-based spatial, temporal structured light (SL), or active stereo systems. Such techniques have traditionally been computationally intensive or suffer from other draw backs (e.g., multipath for ToF systems). Since depth imaging may be used in a wide variety of applications, it may be desirable to make depth imaging more accurate and reliable. However, efficient estimation of depth from pairs of stereo images is computationally expensive and one of the core problems in computer vision. Multiple memory accesses are often required to retrieve stored image patches from memory. The algorithms are therefore both memory and computationally bound. The computational complexity therefore increases in proportion to the sample size, e.g., the number of pixels in an image.
- FIGs. 1 -6 describe systems and methods for dividing an image into multiple non-overlapping tiles. This disclosure provides techniques for exploring the much-larger cost volume corresponding to disparity-space planes by amortizing compute across these tiles, thereby removing dependency on any explicit window size to compute correlation between left and right image patches in determining stereo correspondence.
- a method of depth estimation from pairs of stereo images includes capturing, at a pair of cameras, a first image and a second image of a scene.
- the first image and the second image form a stereo pair and each include a plurality of pixels.
- Each of the plurality of pixels in the second image is initialized with a disparity hypothesis.
- the method includes recursively
- each image tile of the initial tiled disparity map is assigned a disparity value estimate.
- the disparity value estimate of each image tile is refined to include a slant hypothesis. Additionally, the disparity value estimate and slant hypothesis for each tile may be replaced by a better matching disparity-slant estimate from a neighboring tile to incorporate smoothness costs that enforce continuous surfaces.
- FIG. 1 is a block diagram of an active stereo imaging system 100 configured to produce depth maps for AR/VR applications in accordance with at least one embodiment of the present disclosure.
- the active stereo imaging system 100 includes a user equipment 102 such as a tablet computer, computing-enabled cellular phone (e.g., a“smartphone”), a head-mounted display (HMD), a notebook computer, a personal digital assistant (PDA), a gaming system remote, a television remote, camera attachments with or without a screen, and the like.
- a user equipment 102 such as a tablet computer, computing-enabled cellular phone (e.g., a“smartphone”), a head-mounted display (HMD), a notebook computer, a personal digital assistant (PDA), a gaming system remote, a television remote, camera attachments with or without a screen, and the like.
- the active stereo imaging system 100 is generally described herein in the example context of a mobile device, such as a tablet computer or a smartphone; however, the active stereo imaging system 100 is not limited to these example implementations.
- the user equipment 102 can include another type of mobile device, such as an automobile, robot, remote-controlled drone or other airborne device, and the like.
- Some embodiments of the active stereo imaging system 100 include other devices that are configured to solve computer vision problems such as desktop computers, servers, and the like. Examples of computer vision problems that are addressed by the active stereo imaging system 100 include identification of stereo images, stereo matching, producing of depth maps, object classification,
- the user equipment 102 includes a processor 104 and a memory 106.
- the processor 104 may be used to execute instructions stored in the memory 106 and to store information in the memory 106 such as the results of the executed instructions.
- the user equipment 102 also implements one or more cameras that are used to acquire images.
- the active stereo imaging system 100 includes a left infrared (IR) camera 108 for capturing at least a first left image 1 10.
- IR left infrared
- the active stereo imaging system 100 further includes a right infrared camera 1 12 for capturing at least a first right image 1 14.
- the processor 104 is configured to operate on pixels representative of the images 1 10, 1 14 and the memory 106 is configured to store values of the pixels of the image 1 10, 1 14.
- the cameras 108, 1 12 are integral to the user equipment 102 in this embodiment, in some embodiments of the user equipment 102 (or other processing devices) operate on images acquired by external image acquisition devices. Additionally, although described here in the context of infrared cameras, those skilled in the art will recognize that any type of imaging camera may be used without departing from the scope of this disclosure.
- each pixel in one image (e.g., left image 1 10) has a correspondence match in the other image (e.g., right image 1 14) of its stereo pair which lies on the same vertical line (e.g., along y-axis), but at a different horizontal position (e.g., along x-axis).
- This difference in image location of the same three-dimensional (3D) point when projected under perspective to two different cameras is referred to as“disparity” and is used to extract depth information.
- finding correspondence between pixels can be difficult in texture-less regions of images (e.g., when looking at a white wall or a blue sky).
- the user equipment also includes an active light projector 1 16, such as a diffractive optical element (DOE) projector, that projects energy into a real-world environment surrounding the user equipment 102 to artificially produce texture in the scene.
- the active light projector 1 16 projects a pattern (e.g., a dot pattern, a striped pattern, or other pattern structure) into the surrounding environment to provide texture for the field of view of the cameras 108, 1 12 to be used for stereo matching.
- the active light projector 1 16 operates in the infrared spectrum in conjunction with the cameras 108, 1 12.
- the active light projector 1 16 operates in the visible spectrum.
- the active stereo vision configuration provided by the active light projector 1 16 and one or more cameras allow for disparity vector-based depth calculations to be performed for texture-less regions and removes the need to project a known structured light (SL) pattern.
- SL structured light
- depth estimation may also be performed in a structured light configuration with a single projector and a single camera.
- depth estimation may also be performed in a passive configuration without an active light projector.
- depth estimation may also be performed in a motion stereo configuration using a single camera and no active light projectors.
- the active stereo imaging system 100 includes using local smoothness to amortize disparity compute across the entire stereo pipeline.
- the active stereo imaging system 100 includes an image preprocessor module 1 18, an image initialization module 120, a propagation module 122, and a refinement module 124. Each of these modules represents hardware, software, or a combination thereof, configured to execute the operations as described herein.
- the image preprocessor module 1 18 processes the raw IR signal for the left image 1 10 and the right image 1 14 with local contrast normalization (LCN) such that simpler matching costs can be used for determining stereo correspondence.
- the image initialization module 120 performs a hierarchical search in which each pixel of an image is seeded with a number of disparity hypotheses, which the image initialization module 120 then recursively examines in a fine-to-coarse manner by dividing the images into multiple non-overlapping tiles of increasing pixel size, as described in further detail below.
- the hierarchical search performed by the image initialization module 120 generates a tiled disparity map in which each tile is assigned a single disparity value as an initial estimate.
- the propagation module 122 propagates disparity hypotheses at the tile level by refining the initial estimates to jointly optimize for surface angle, surface smoothness constraints, and matching cost.
- the propagation module 122 outputs a per tile hypothesis, including both an estimate of the disparity and slant for each tile, that describes the local tile surface.
- the refinement module 124 performs refinement of the tile hypotheses to infer per- pixel disparity by using adjusted per-tile hypothesis and local matching costs to write out per pixel disparity before performing final invalidation of clearly erroneous values and smoothing.
- FIG. 2 is a diagram illustrating the operations of an image preprocessor, such as image preprocessor module 1 18 of FIG.
- the image preprocessor module 1 18 receives a rectified stereo pair of images (e.g., the left image 1 10, which is also interchangeably referred to as I L in this disclosure and the right image 1 14, which is also interchangeably referred to as I R in this disclosure) as input.
- a rectified stereo pair of images e.g., the left image 1 10, which is also interchangeably referred to as I L in this disclosure and the right image 1 14, which is also interchangeably referred to as I R in this disclosure
- rectification determines a transformation of each image plane such that pairs of conjugate epipolar lines become collinear and parallel to one of the image axes.
- each pixel p (x, y) in one image (e.g., the left image 1 10) has a correspondence match to its corresponding pixel p' in the other image of its stereo pair (e.g., right image 1 14) which lies on the same y-axis but at a different x-axis coordinate.
- the image preprocessor module 1 18 preprocesses the left image 1 10 and the right image 1 14 with local contrast normalization (LCN) to generate a left LCN image 210 and a right LCN image 214 (referred to herein as a left-right LCN pair 202 of images).
- the LCN normalizes the left image 1 10 and the right image 1 14 such that simpler matching costs can be used for stereo correspondence.
- FIGs. 3A-3B are diagrams illustrating the operations of an image initializer, such as image initialization module 120 of FIG. 1 , to perform hierarchical initialization in accordance with at least one embodiment of the present disclosure.
- the image initializer receives a pair of calibrated and rectified images (e.g., left-right LCN pair 202 of FIG. 2) as input and performs a hierarchical search to output an initial tiled disparity map, where the disparity values within each tile follows a planar equation.
- the image initializer computes, for every pixel 302, matching costs associated with a set of disparity hypotheses 304.
- the set of disparity hypotheses 304 includes a number K of random or predefined integer disparity hypotheses (i.e. , integer disparity values).
- Each pixel p (x, y) 302 in one image (e.g., the left image 1 10) has a
- the image initializer uses a matching cost calculation to identify a single disparity hypothesis of the set of disparity hypotheses 304 with the best cost. For example, in some embodiments, a pixel-wise sum of absolute differences (SAD) calculation identifies a single disparity hypothesis of the set of disparity hypotheses 304 with the best cost.
- the SAD calculation includes comparing the absolute differences between hypotheses in the set of disparity hypotheses 304 for a pixel relative to the disparity between its corresponding pixels in the stereo image pair.
- a single disparity hypothesis with the best cost i.e.
- lowest matching cost for each pixel 302 is stored, as illustrated in FIG. 3A, to generate a tiled disparity map 306 in which the tiles are 1x1 pixels wide.
- various other matching cost calculations e.g., sum of squared difference, zero-mean normalized cross-correlation (ZNCC), and the like are implemented to identify a single disparity hypothesis of the set of disparity hypotheses 304 with the best cost.
- the image initializer then increases the tiles to a size of 2x2 pixels wide and recursively examines 2x2 non- overlapping tiles containing winning hypotheses from the previous level.
- the image initializer computes, for each 2x2 non-overlapping tile 308, matching costs associated with the four winning disparity hypotheses associated with that tile 308 from the previous level of recursion.
- the value of pixels 302 in the disparity map 306 is updated by storing a single disparity hypothesis with the best cost for each pixel of the tile 308. That is, the pixels 302 of each 2x2 non-overlapping tile 308 (only one tile highlighted by dotted line in FIG.
- 3A stores the value of a winning hypothesis from the previous level of recursion, which the image initializer evaluates across the entire 2x2 non-overlapping tile 308 (e.g., using SAD) in pixel space.
- the hypothesis candidates are ranked, and the winning hypothesis per tile 308 is provided as input to the next level (e.g., coarser granularity) of the recursion.
- the image initializer increases the tiles to a size of 4x4 pixels wide and recursively examines 4x4 non-overlapping tiles containing winning hypotheses from the previous level.
- the image initializer computes, for each 4x4 non-overlapping tile 310, matching costs associated with four winning disparity hypotheses of the four 2x2 tiles 308 from the previous level of recursion (e.g., as represented by the set of four values 312 at the center of tile 310).
- the value of pixels 302 in the disparity map 306 is updated by storing a single disparity hypothesis with the best cost for each pixel of the tile 310. That is, the pixels 302 of each 4x4 non-overlapping tile 310 (only one tile highlighted by dotted line in FIG.
- 3B stores the value of a winning hypothesis from the previous level of recursion, which the image initializer evaluates across the entire 4x4 non-overlapping tile 310 (e.g., using SAD) in pixel space.
- the hypothesis candidates are ranked, and the winning hypothesis per tile 310 is provided as input to the next level (e.g., coarser granularity) of the recursion.
- Each level of the recursion doubles the width and height of the tiles but halves the number of tiles in each dimension that must be processed.
- the image initializer performs another round of matching cost comparison using 8x8 non-overlapping tiles 314 to generate an initial tiled disparity map 316 with a hypothesis for each 8x8 non-overlapping tile 314. That is, the image initializer computes, for each 8x8 non-overlapping tile 314, matching costs associated with four winning disparity hypotheses of the four 4x4 tiles 310 from the previous level of recursion (e.g., as represented by the set of four values 318 at the center of tile 314), ranks those hypothesis candidates (i.e. , set of four values 318), and propagates the winning hypothesis with the lowest matching cost to the rest of the tile 314.
- initialization is described here in the context of performing a hierarchical search that recursively generates the initial tiled disparity map 316 having a tile size of 8x8 pixels, those skilled in the art will recognize that any number of levels of recursion may be performed without departing from the scope of this
- a further level of recursion is performed to generate an initial tiled disparity map having a tile size of 16x16 pixels.
- a further level of recursion is performed to generate an initial tiled disparity map having a tile size of 16x16 pixels.
- the tile dimensions change by a different factor for each level of recursion (e.g., 1x1 tiles at a first level of recursion, 2x2 tiles at a second level of recursion, 6x6 tiles at a third level of recursion, 12x12 at a fourth level of recursion, and the like).
- a correct disparity is low for all time sizes - true negative (e.g., poor reconstruction error and incorrect disparity) candidates are quickly rejected at low cost, and the image initializer samples much of the disparity space in this manner at the finer levels of the recursion.
- False positive (e.g., good reconstruction error but poor disparity) and true positive (e.g., good reconstruction error and correct disparity) candidates are propagated up the hierarchy where increasingly larger tiles permit removal of false positives while retaining true positives.
- the initialization described herein outputs an initial disparity map with a single disparity hypothesis for each tile (e.g., each 8x8 tile 314 as illustrated in FIG. 3B).
- the disparity hypothesis is assumed to be fronto- parallel such that physical points in the 3D world corresponding to the tiles have a similar appearance when viewed from different vantage points and that the depth within each tile is homogenous. However, this fronto-parallel assumption is often violated, as a 3D scene seldomly consists only of upright planar surfaces.
- the initial tiled disparity map is refined to relax the fronto-parallel constraint.
- FIG. 4 is a flow diagram illustrating a method 400 of propagating, such as by using propagation module 122 of FIG. 1 , hypotheses at the tile level in
- the image initializer outputs an initial disparity map in which each tile (e.g., 8x8 tile 314 of FIG. 3B) is assigned a single disparity value d.
- the initial tiled disparity map includes an incorrect local minimum from the matching cost determination to find a minimum cost surface for some of the tiles.
- the output of the initial disparity map from the image initializer includes fronto- parallel depth tiles for the full image. However, such fronto-parallel constraints need to be relaxed to allow for slanted surfaces in a scene.
- the method 400 begins with a slant estimation and sub-pixel refinement process in which the propagation module 122 refines the disparity cf for each tile via a standard parabola fit in the cost space.
- the propagation module 122 evaluates the matching cost (e.g., using SAD and the like) of a full tile (e.g., 8x8 tile 314 of FIG. 3B) with disparity cf-1 , disparity d, and disparity d+ 1.
- the propagation module 122 evaluates the matching cost (e.g., using SAD and the like) of a full tile (e.g., 8x8 tile 314 of FIG.
- the propagation module 122 fits a parabola to the local cost space described by those reconstruction errors. Using the standard closed form expression, the propagation module 122 extracts the minimum of this quadratic polynomial and designates the minimum as a refined estimate of disparity d. However, the refined estimate still corresponds to a fronto-parallel planar solution. In the vast majority of scenes, this fronto-parallel assumption does not hold and hence must be lifted.
- the method 400 continues with a propagation process in which the propagation module 122 refines the disparity cf for each tile via a standard parabola fit in the cost space.
- the propagation module 122 performs patch level propagation and enforces local disparity consistency and smoothness, and models local surface slant and curvature. Further, the propagation module 122 performs sub-pixel refinement by using nearby patch hypotheses about surface and local matching costs, allowing the adding of depth details smaller than patch size (while still limited by feature size present in the image).
- the propagation module 122 defines a data term y h ( Z ⁇ ) corresponding to the reconstruction error for a tile / under the planar hypothesis Zi, as represented by the following equation: where the summation is performed for all pixels p from the set of pixels t contained in tile i.
- the function S(p x , l t ) of equation (2) estimates the disparity of pixel p under the planar hypothesis l t . / L (. ) and I R (. ) return the intensity values stored in the left and right images, respectively, for queried pixels.
- the proposed unary i.e.
- the propagation module 122 evaluates a pairwise potential y r over the neighbors JV), corresponding to the tiles above, below, left, and right from tile i, and is defined as where c(i ) returns the position of the pixel at the center of tile i, and If
- Equation (4) first evaluates what the disparity of the center of tile / would be if it were to belong to the plane Z 7 .
- a truncated l - norm between that estimated disparity and the current candidate disparity is then computed. In order to not over-penalize large disparity changes (e.g., transitions from foreground to background), this distance is truncated.
- the parameter x controls the degree of smoothness in the solution.
- the union of the labels associated with the current tile and its ⁇ Ni ⁇ neighbors is ranked by evaluating the following minimizer equation: which is used as the new disparity value for tile i , representing a hypothesis matching cost per tile that describes the local surface.
- the propagation operations of blocks 402 and 404 are iterated a number of times to model slanted surfaces, enforce local smoothness, and fill in gaps left by initialization.
- disparity and slant estimates for each tile may be replaced by a better matching disparity-slant estimate from a neighboring tile to incorporate smoothness costs that enforce continuous surfaces.
- performing two iterations of the above-described propagation operations is sufficient to converge to good solutions.
- a per tile hypothesis that describes local smoothness is outputted.
- the disparity at each tile is refined using another parabola fit leveraging the estimated l as described in further detail below.
- FIG. 5 is a flow diagram illustrating a method 500 of refining, such as by using refinement module 124 of FIG. 1 , per-tile estimates to infer per-pixel disparity in accordance with at least one embodiment of the present disclosure.
- each tile of the tiled disparity map includes an estimate of the disparity and slant.
- the slant quadratic approximation of the above propagation processes for estimating the slant of tiles is robust in the 30 degrees to -30 degrees range. Although this range of angles provides inferred solutions that are higher quality relative to assuming fronto-parallel tiles, real surfaces can be much steeper and quadratic approximation becomes weaker for angles greater than 30 degrees. Accordingly, the refinement module computes the final slant of each tile using central differences built using the disparity at the center of neighboring tiles.
- the method 500 begins at block 502 by expanding each tile of the tiled disparity map by 50% in both the x- and y-axis directions, causing any given pixel (except at the image boundaries) to overlap 4 expanded tiles.
- a tile of the tiled disparity map is expanded in one or more directions if the tile hypothesis in that direction is above a difference threshold (e.g., based on a pre-determined level of difference) relative to a current tile hypothesis of the tile (i.e. , the tile to be expanded). This approach saves compute at a cost of blurring small details.
- the refinement module 124 builds, for each expanded tile, an integral tile of the reconstruction error (e.g., SAD and the like) obtained using the corresponding plane hypothesis /, ⁇ . Additionally, at block 506, the refinement module 124 builds two additional integral tiles per expanded tile, which captures the reconstruction error with a small delta added to the disparity component of /, ⁇ .
- an integral tile of the reconstruction error e.g., SAD and the like
- the refinement module 124 performs four parabola fits, for each pixel of the expanded tiles, of their respective cost volumes using the above integral tiles. After the parabola fit, each expanded tile includes a disparity and cost per pixel. Thus, each pixel in the original image (e.g., the left image 1 10 or the right image 1 14) is covered by up to four expanded tiles.
- the refinement module 124 determines final per pixel disparity and cost values by identifying the final value for each pixel as the best out of the values as computed in the expanded tiles (from the up to four expanded tiles). The cost of each pixel is defined as the reconstruction error and is computed over patches centered on the pixel in question, with the smallest interpolated reconstruction error saved as the final disparity estimate.
- FIG. 6 is a flow diagram illustrating a method 600 of estimating depth from pairs of stereo images in accordance with at least one embodiment of the present disclosure.
- the IR cameras 108, 1 12 of FIG. 1 each capture an image of a scene, forming a pair of stereo images.
- the left IR camera 108 captures a left image 1 10
- the right IR camera 1 12 captures a right image 1 14.
- the left image 1 10 is the reference image from which disparity is determined.
- the right image 1 14 is the reference image.
- the image preprocessor module 1 18 processes the raw IR signal for the left image 1 10 and the right image 1 14 of block 602 with local contrast normalization (LCN) such that simpler matching costs can be used for determining stereo correspondence.
- the image initialization module 120 performs a hierarchical search in which each pixel of an image is seeded with a number of disparity hypotheses, which the image initialization module 120 then recursively examines in a fine-to-coarse manner by dividing the images into multiple non-overlapping tiles of increasing pixel size, as described in further detail above relative to FIGs. 3A-3B.
- the image initialization module 120 recursively examines non-overlapping tiles containing winning hypotheses from the previous level.
- the image initialization module 120 computes, for a tile (e.g., 2x2 non-overlapping tile 308 of FIG. 3A), matching costs associated with the four winning disparity hypotheses associated with that tile 308 from the previous level of recursion.
- the value of pixels 302 in the disparity map 306 is updated by storing a single disparity hypothesis with the best cost for each pixel of the tile 308.
- each 2x2 non- overlapping tile 308 stores the value of a winning hypothesis from the previous level of recursion, which the image initialization module 120 evaluates across the entire 2x2 non-overlapping tile 308 (e.g., using SAD and the like) in pixel space.
- the hypothesis candidates are ranked, and the winning hypothesis per tile 308 is provided as input to the next level (e.g., coarser granularity with larger tiles, e.g., 2x2 non-overlapping tile 310) of the recursion.
- the hierarchical search performed by the image initialization module 120 generates a tiled disparity map in which each tile is assigned a single disparity value as an initial estimate.
- the propagation module 122 propagates disparity hypotheses at the tile level by refining the initial estimates to jointly optimize for surface angle, surface smoothness constraints and matching cost, as described in further detail above relative to FIG. 4.
- the propagation module 122 outputs a per tile hypothesis, including both an estimate of the disparity and slant for each tile, that describes the local tile surface.
- the refinement module 124 After propagation, at block 610, the refinement module 124 performs refinement of the tile hypotheses to infer per-pixel disparity by using adjusted per-tile hypothesis and local matching costs to write out per pixel disparity as described in further detail above relative to FIG. 5.
- the refinement module 124 expands each tile of the tiled disparity map in one or more of the x- and y-axis directions, causing any given pixel (except at the image boundaries) to overlap up to four expanded tiles.
- the refinement module 124 builds, for each expanded tile, an integral tile of the reconstruction error (e.g., SAD and the like) obtained using the corresponding plane hypothesis /, ⁇ .
- an integral tile of the reconstruction error e.g., SAD and the like
- the refinement module 124 builds two additional integral tiles per expanded tile, which captures the reconstruction error with a small delta added to the disparity component of /, ⁇ .
- the refinement module 124 performs four parabola fits, for each pixel of the expanded tiles, of their respective cost volumes using the above integral tiles.
- the cost of each pixel is defined as the reconstruction error and is computed over patches centered on the pixel in question, with the smallest interpolated reconstruction error saved as the final disparity estimate.
- the processor performs final invalidation of clearly erroneous values and smoothing. Given the inherent physical limitations of an active stereo system (e.g., poor signal to noise ratio on dark or far surfaces, occlusions), not enough data is available to perform robust estimates for any given pixel. Traditional methods of invalidation involve left-right consistency checks, filtering, and/or connected component analysis - all computationally expensive methods.
- the method of 600 uses byproducts of the disparity estimation process to perform fast and precise invalidation.
- the processor does consider tiles that have slants greater than 75 degrees. Further, the processor invalidates pixels after refinement when the final matching cost is higher than a pre-defined threshold Q.
- initial disparity estimates per pixel are quickly extracted via initialization, which aggregates results in a pyramidal fashion and only keeps good hypotheses.
- Reasoning about disparity at the pixel level allows quick discard of bad disparity hypotheses and shifts usage of compute resources towards better hypotheses, thus improving compute efficiency.
- the initial disparity estimates (i.e. , disparity) candidates are refined through continuous refinement, which is then followed by an invalidation step.
- a method can include capturing a first image and a second image of a scene using at least one imaging camera of an imaging system, wherein the first image and the second image form a stereo image pair and each comprises a plurality of pixels, initializing, at a processor of the imaging system, each of the plurality of pixels in the second image with a disparity hypothesis.
- the method further includes recursively determining, at the processor, from an image tile of a smaller pixel size to an image tile of a larger pixel size, matching costs of the disparity hypothesis for each of the plurality of pixels in the second image to generate an initial tiled disparity map including a plurality of image tiles, wherein each image tile of the initial tiled disparity map is assigned a disparity value estimate, refining, at the processor, the disparity value estimate of each image tile and further associating the disparity value estimate of each image tile with a slant hypothesis, determining, at the processor, a final disparity estimate for each pixel of the second image based on the refined disparity value estimate of each image tile, and generating a depth map for the scene using correspondence between the plurality of pixels of the first image and the second image and based on the determined final disparity estimate for each pixel of the second image.
- the method includes initializing each of the plurality of pixels in the second image with a disparity hypothesis including seeding each of the plurality of pixels in the second image with a set of disparity hypotheses, and comparing, for a first pixel of the plurality of pixels, matching costs between hypotheses in the set of disparity hypotheses relative to a disparity between a corresponding pixel in the stereo image pair, and storing one of the set of disparity hypotheses with a lowest matching cost as the disparity hypothesis.
- the method includes recursively determining matching costs of the disparity hypothesis for each of the plurality of pixels in the second image further including computing, for the image tile of the smaller pixel size, matching costs associated with the disparity hypothesis for pixels associated with the image tile of the smaller pixel size, and storing, for the image tile of the smaller pixel size, a hypothesis identified as having the lowest matching cost, and providing the identified hypothesis to a next level of recursion.
- the method includes computing, for the image tile of the larger pixel size, matching costs associated with the disparity hypothesis for pixels associated with the image tile of the larger pixel size, wherein the disparity hypothesis includes the identified hypothesis from the image tile of the smaller pixel size, storing, for the image tile of the larger pixel size, the identified hypothesis having the lowest matching cost, and providing the identified hypothesis to the next level of recursion.
- the method includes refining the disparity value estimate of each image tile further includes replacing the disparity value estimate and the slant estimate for at least one image tile with the disparity value estimate and the slant estimate of a neighboring image tile having a lower reconstruction cost.
- the method includes determining the final disparity estimate for each pixel of the second image further including expanding each image tile of the initial tiled disparity map to overlap a plurality of neighboring image tiles, and generating, based on the expanded image tiles, a plurality of integral tiles.
- the method includes performing, for each one pixel of the expanded image tiles, a plurality of parabola fits of cost volumes using the plurality of integral tiles, computing a reconstruction error over patches centered over each one pixel of the expanded image tiles, and saving a smallest reconstruction error as a final disparity estimate for each pixel of the initial tiled disparity map.
- an electronic device can include a pair of cameras to capture a first image and a second image of a scene, wherein the first image and the second image form a stereo image pair and each comprises a plurality of pixels, and further wherein each of the plurality of pixels in the first image is associated with a disparity value.
- the electronic device can further include a processor configured to initialize each of the plurality of pixels in the second image with a disparity hypothesis, recursively determine, from an image tile of a smaller pixel size to an image tile of a larger pixel size, matching costs of the disparity hypothesis for each of the plurality of pixels in the second image to generate an initial tiled disparity map including a plurality of image tiles, wherein each image tile of the initial tiled disparity map is assigned a disparity value estimate, refine the disparity value estimate of each image tile and associate the disparity value estimate of each image tile with a slant hypothesis, determine, based on the refined disparity value estimate of each image tile, a final disparity estimate for each pixel of the second image and generate a depth map for the scene, using correspondence between the plurality of pixels of the first image and the second image and based on the determined final disparity estimate for each pixel of the second image.
- a processor configured to initialize each of the plurality of pixels in the second image with a disparity hypothesis, recursively
- the processor is further configured to seed each of the plurality of pixels in the second image with a set of disparity hypotheses, compare, for a first pixel of the plurality of pixels, matching costs between hypotheses in the set of disparity hypotheses relative to a disparity between a corresponding pixel in the stereo image pair, and store one of the set of disparity hypotheses with a lowest matching cost as the disparity hypothesis.
- the processor is further configured to compute, for the image tile of the smaller pixel size, matching costs associated with the disparity hypothesis for pixels associated with the image tile of the smaller pixel size, and store, for the image tile of a smaller pixel size, a hypothesis identified as having the lowest matching cost, and provide the identified hypothesis to a next level of recursion.
- the processor is further configured to compute, for the image tile of the larger pixel size, matching costs associated with the disparity hypothesis for pixels associated with the image tile of the larger pixel size, wherein the disparity hypothesis includes the identified hypothesis from the image tile of the smaller pixel size, store, for the image tile of the larger pixel size, the identified hypothesis having the lowest matching cost, and provide the identified hypothesis to the next level of recursion.
- the processor is further configured to replace the disparity value estimate and the slant estimate for at least one image tile with the disparity value estimate and the slant estimate of a neighboring image tile having a lower reconstruction cost.
- the processor is further configured to expand each image tile of the initial tiled disparity map to overlap a plurality of neighboring image tiles, and generate, based on the expanded image tiles, a plurality of integral tiles.
- the processor is further configured to perform, for each one pixel of the expanded image tiles, a plurality of parabola fits of cost volumes using the plurality of integral tiles, compute a reconstruction error over patches centered over each one pixel of the expanded image tiles, and save a smallest
- a system can include a pair of cameras to capture a first image and a second image of a scene, wherein the first image and the second image form a stereo image pair and each comprises a plurality of pixels, and further wherein each of the plurality of pixels in the first image is associated with a disparity value, an initialization module configured to initialize each of the plurality of pixels in the second image with a disparity hypothesis, wherein the initialization module is further configured to recursively determine, from an image tile of a smaller pixel size to an image tile of a larger pixel size, matching costs of the disparity hypothesis for each of the plurality of pixels in the second image to generate an initial tiled disparity map including a plurality of image tiles, wherein each image tile of the initial tiled disparity map is assigned a disparity value estimate, a propagation module configured to refine the disparity value estimate of each image tile and to associate the disparity value estimate of each image
- the initialization module is further configured to seed each of the plurality of pixels in the second image with a set of disparity hypotheses, compare, for a first pixel of the plurality of pixels, matching costs between hypotheses in the set of disparity hypotheses relative to a disparity between a corresponding pixel in the stereo image pair, and store one of the set of disparity hypotheses with a lowest matching cost as the disparity hypothesis.
- the initialization module is further configured to compute, for the image tile of the smaller pixel size, matching costs associated with the disparity hypothesis for pixels associated with the image tile of the smaller pixel size, and store, for the image tile of a smaller pixel size, a hypothesis identified as having the lowest matching cost, and provide the identified hypothesis to a next level of recursion.
- the initialization module is further configured to compute, for the image tile of the larger pixel size, matching costs associated with the disparity hypothesis for pixels associated with the image tile of the larger pixel size, wherein the disparity hypothesis includes the identified hypothesis from the image tile of the smaller pixel size, store, for the image tile of the larger pixel size, the identified hypothesis having the lowest matching cost, and provide the identified hypothesis to the next level of recursion.
- the propagation module is further configured to replace the disparity value estimate and the slant estimate for at least one image tile with the disparity value estimate and the slant estimate of a neighboring image tile having a lower reconstruction cost.
- the refinement module is further configured to expand each image tile of the initial tiled disparity map to overlap a plurality of neighboring image tiles, generate, based on the expanded image tiles, a plurality of integral tiles, perform, for each one pixel of the expanded image tiles, a plurality of parabola fits of cost volumes using the plurality of integral tiles, compute a reconstruction error over patches centered over each one pixel of the expanded image tiles, and save a smallest reconstruction error as a final disparity estimate for each pixel of the initial tiled disparity map.
- certain aspects of the techniques described above may implemented by one or more processors of a processing system executing software.
- the software comprises one or more sets of executable instructions stored or otherwise tangibly embodied on a non-transitory computer readable storage medium.
- the software can include the instructions and certain data that, when executed by the one or more processors, manipulate the one or more processors to perform one or more aspects of the techniques described above.
- the non-transitory computer readable storage medium can include, for example, a magnetic or optical disk storage device, solid state storage devices such as Flash memory, a cache, random access memory (RAM) or other non-volatile memory device or devices, and the like.
- the executable instructions stored on the non-transitory computer readable storage medium may be in source code, assembly language code, object code, or other instruction format that is interpreted or otherwise executable by one or more processors.
- a computer readable storage medium may include any storage medium, or combination of storage media, accessible by a computer system during use to provide instructions and/or data to the computer system.
- Such storage media can include, but is not limited to, optical media (e.g., compact disc (CD), digital versatile disc (DVD), Blu-Ray disc), magnetic media (e.g., floppy disc , magnetic tape, or magnetic hard drive), volatile memory (e.g., random access memory (RAM) or cache), non-volatile memory (e.g., read-only memory (ROM) or Flash memory), or microelectromechanical systems (MEMS)-based storage media.
- optical media e.g., compact disc (CD), digital versatile disc (DVD), Blu-Ray disc
- magnetic media e.g., floppy disc , magnetic tape, or magnetic hard drive
- volatile memory e.g., random access memory (RAM) or cache
- non-volatile memory e.g., read-only memory (ROM) or Flash memory
- MEMS microelect
- the computer readable storage medium may be embedded in the computing system (e.g., system RAM or ROM), fixedly attached to the computing system (e.g., a magnetic hard drive), removably attached to the computing system (e.g., an optical disc or Universal Serial Bus (USB)-based Flash memory), or coupled to the computer system via a wired or wireless network (e.g., network accessible storage (NAS)).
- system RAM or ROM system RAM or ROM
- USB Universal Serial Bus
- NAS network accessible storage
Abstract
Description
Claims
Applications Claiming Priority (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US201862642856P | 2018-03-14 | 2018-03-14 | |
US16/158,676 US10839541B2 (en) | 2018-03-14 | 2018-10-12 | Hierarchical disparity hypothesis generation with slanted support windows |
PCT/US2019/019177 WO2019177761A1 (en) | 2018-03-14 | 2019-02-22 | Hierarchical disparity hypothesis generation with slanted support windows |
Publications (2)
Publication Number | Publication Date |
---|---|
EP3665651A1 true EP3665651A1 (en) | 2020-06-17 |
EP3665651B1 EP3665651B1 (en) | 2021-10-20 |
Family
ID=67905874
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
EP19709350.3A Active EP3665651B1 (en) | 2018-03-14 | 2019-02-22 | Hierarchical disparity hypothesis generation with slanted support windows |
Country Status (4)
Country | Link |
---|---|
US (1) | US10839541B2 (en) |
EP (1) | EP3665651B1 (en) |
CN (1) | CN112005273A (en) |
WO (1) | WO2019177761A1 (en) |
Families Citing this family (4)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US10839543B2 (en) * | 2019-02-26 | 2020-11-17 | Baidu Usa Llc | Systems and methods for depth estimation using convolutional spatial propagation networks |
US11100664B2 (en) * | 2019-08-09 | 2021-08-24 | Google Llc | Depth-aware photo editing |
US11810313B2 (en) | 2020-02-21 | 2023-11-07 | Google Llc | Real-time stereo matching using a hierarchical iterative refinement network |
CN115222782A (en) * | 2021-04-16 | 2022-10-21 | 安霸国际有限合伙企业 | Mounting calibration of structured light projector in monocular camera stereo system |
Family Cites Families (6)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US7330593B2 (en) | 2004-06-25 | 2008-02-12 | Stmicroelectronics, Inc. | Segment based image matching method and system |
CN101933335B (en) * | 2008-01-29 | 2012-09-05 | 汤姆森特许公司 | Method and system for converting 2d image data to stereoscopic image data |
KR101875532B1 (en) * | 2011-11-23 | 2018-07-11 | 엘지이노텍 주식회사 | Apparatus and method for hierarchical stereo matching |
EP3869797B1 (en) * | 2012-08-21 | 2023-07-19 | Adeia Imaging LLC | Method for depth detection in images captured using array cameras |
EP2887311B1 (en) * | 2013-12-20 | 2016-09-14 | Thomson Licensing | Method and apparatus for performing depth estimation |
KR102324605B1 (en) * | 2015-05-26 | 2021-11-10 | 한국전자통신연구원 | Method and apparatus for generating disparity image |
-
2018
- 2018-10-12 US US16/158,676 patent/US10839541B2/en active Active
-
2019
- 2019-02-22 WO PCT/US2019/019177 patent/WO2019177761A1/en unknown
- 2019-02-22 CN CN201980025255.4A patent/CN112005273A/en active Pending
- 2019-02-22 EP EP19709350.3A patent/EP3665651B1/en active Active
Also Published As
Publication number | Publication date |
---|---|
US10839541B2 (en) | 2020-11-17 |
WO2019177761A1 (en) | 2019-09-19 |
CN112005273A (en) | 2020-11-27 |
EP3665651B1 (en) | 2021-10-20 |
US20190287259A1 (en) | 2019-09-19 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
EP3698323B1 (en) | Depth from motion for augmented reality for handheld user devices | |
JP7173772B2 (en) | Video processing method and apparatus using depth value estimation | |
EP3665651B1 (en) | Hierarchical disparity hypothesis generation with slanted support windows | |
JP7115846B2 (en) | Generate Segmented Image Using Markov Random Field Optimization | |
Stühmer et al. | Real-time dense geometry from a handheld camera | |
US9417700B2 (en) | Gesture recognition systems and related methods | |
US9269012B2 (en) | Multi-tracker object tracking | |
US10554957B2 (en) | Learning-based matching for active stereo systems | |
US20180249144A1 (en) | System and Method for Virtually-Augmented Visual Simultaneous Localization and Mapping | |
EP2854104A1 (en) | Semi-dense simultaneous localization and mapping | |
EP2158573A1 (en) | System and method for stereo matching of images | |
Yin et al. | Towards accurate reconstruction of 3d scene shape from a single monocular image | |
CN107330930B (en) | Three-dimensional image depth information extraction method | |
Praveen | Efficient depth estimation using sparse stereo-vision with other perception techniques | |
Gehrig et al. | Priors for stereo vision under adverse weather conditions | |
Zhao et al. | 3D object tracking via boundary constrained region-based model | |
JP2019507934A (en) | 3D motion evaluation apparatus, 3D motion evaluation method, and program | |
Boyle et al. | Advances in Visual Computing: Third International Symposium, ISVC 2007, Lake Tahoe, NV, USA, November 26-28, 2007, Proceedings, Part I | |
Raviya et al. | Depth and Disparity Extraction Structure for Multi View Images-Video Frame-A Review | |
De Cubber et al. | Partial differential equation-based dense 3D structure and motion estimation from monocular image sequences | |
Gheissari et al. | Parametric model-based motion segmentation using surface selection criterion | |
Lee | Time-of-flight depth camera accuracy enhancement | |
KR20190025267A (en) | Apparatus for detecting of inside wall frame in single image using orthogonal vanishing points and method thereof | |
Based Swift | PRN-SORB-SLAM | |
Kaaniche et al. | Disparity estimation techniques |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: UNKNOWN |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: THE INTERNATIONAL PUBLICATION HAS BEEN MADE |
|
PUAI | Public reference made under article 153(3) epc to a published international application that has entered the european phase |
Free format text: ORIGINAL CODE: 0009012 |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: REQUEST FOR EXAMINATION WAS MADE |
|
17P | Request for examination filed |
Effective date: 20200310 |
|
AK | Designated contracting states |
Kind code of ref document: A1Designated state(s): AL AT BE BG CH CY CZ DE DK EE ES FI FR GB GR HR HU IE IS IT LI LT LU LV MC MK MT NL NO PL PT RO RS SE SI SK SM TR |
|
AX | Request for extension of the european patent |
Extension state: BA ME |
|
RAP1 | Party data changed (applicant data changed or rights of an application transferred) |
Owner name: GOOGLE LLC |
|
GRAP | Despatch of communication of intention to grant a patent |
Free format text: ORIGINAL CODE: EPIDOSNIGR1 |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: GRANT OF PATENT IS INTENDED |
|
INTG | Intention to grant announced |
Effective date: 20201216 |
|
GRAJ | Information related to disapproval of communication of intention to grant by the applicant or resumption of examination proceedings by the epo deleted |
Free format text: ORIGINAL CODE: EPIDOSDIGR1 |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: REQUEST FOR EXAMINATION WAS MADE |
|
GRAP | Despatch of communication of intention to grant a patent |
Free format text: ORIGINAL CODE: EPIDOSNIGR1 |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: GRANT OF PATENT IS INTENDED |
|
INTC | Intention to grant announced (deleted) | ||
INTG | Intention to grant announced |
Effective date: 20210519 |
|
DAV | Request for validation of the european patent (deleted) | ||
DAX | Request for extension of the european patent (deleted) | ||
GRAS | Grant fee paid |
Free format text: ORIGINAL CODE: EPIDOSNIGR3 |
|
GRAA | (expected) grant |
Free format text: ORIGINAL CODE: 0009210 |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: THE PATENT HAS BEEN GRANTED |
|
AK | Designated contracting states |
Kind code of ref document: B1Designated state(s): AL AT BE BG CH CY CZ DE DK EE ES FI FR GB GR HR HU IE IS IT LI LT LU LV MC MK MT NL NO PL PT RO RS SE SI SK SM TR |
|
REG | Reference to a national code |
Ref country code: GBRef legal event code: FG4D |
|
REG | Reference to a national code |
Ref country code: CHRef legal event code: EP |
|
REG | Reference to a national code |
Ref country code: DERef legal event code: R096Ref document number: 602019008545Country of ref document: DE |
|
REG | Reference to a national code |
Ref country code: IERef legal event code: FG4D |
|
REG | Reference to a national code |
Ref country code: ATRef legal event code: REFRef document number: 1440560Country of ref document: ATKind code of ref document: TEffective date: 20211115 |
|
REG | Reference to a national code |
Ref country code: LTRef legal event code: MG9D |
|
REG | Reference to a national code |
Ref country code: NLRef legal event code: MPEffective date: 20211020 |
|
REG | Reference to a national code |
Ref country code: ATRef legal event code: MK05Ref document number: 1440560Country of ref document: ATKind code of ref document: TEffective date: 20211020 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: RSFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020Ref country code: LTFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020Ref country code: FIFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020Ref country code: BGFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20220120Ref country code: ATFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: ISFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20220220Ref country code: SEFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020Ref country code: PTFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20220221Ref country code: PLFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020Ref country code: NOFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20220120Ref country code: NLFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020Ref country code: LVFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020Ref country code: HRFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020Ref country code: GRFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20220121Ref country code: ESFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020 |
|
REG | Reference to a national code |
Ref country code: DERef legal event code: R097Ref document number: 602019008545Country of ref document: DE |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: SMFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020Ref country code: SKFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020Ref country code: ROFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020Ref country code: EEFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020Ref country code: DKFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020Ref country code: CZFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020 |
|
PLBE | No opposition filed within time limit |
Free format text: ORIGINAL CODE: 0009261 |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: NO OPPOSITION FILED WITHIN TIME LIMIT |
|
26N | No opposition filed |
Effective date: 20220721 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: MCFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020 |
|
REG | Reference to a national code |
Ref country code: CHRef legal event code: PL |
|
REG | Reference to a national code |
Ref country code: BERef legal event code: MMEffective date: 20220228 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: LUFree format text: LAPSE BECAUSE OF NON-PAYMENT OF DUE FEESEffective date: 20220222Ref country code: ALFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: SIFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: FRFree format text: LAPSE BECAUSE OF NON-PAYMENT OF DUE FEESEffective date: 20220228 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: LIFree format text: LAPSE BECAUSE OF NON-PAYMENT OF DUE FEESEffective date: 20220228Ref country code: IEFree format text: LAPSE BECAUSE OF NON-PAYMENT OF DUE FEESEffective date: 20220222Ref country code: CHFree format text: LAPSE BECAUSE OF NON-PAYMENT OF DUE FEESEffective date: 20220228 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: BEFree format text: LAPSE BECAUSE OF NON-PAYMENT OF DUE FEESEffective date: 20220228 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: ITFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020 |
|
PGFP | Annual fee paid to national office [announced via postgrant information from national office to epo] |
Ref country code: GBPayment date: 20230227Year of fee payment: 5Ref country code: DEPayment date: 20230223Year of fee payment: 5 |
|
P01 | Opt-out of the competence of the unified patent court (upc) registered |
Effective date: 20230505 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: MKFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020Ref country code: CYFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211020 |
|
PGFP | Annual fee paid to national office [announced via postgrant information from national office to epo] |
Ref country code: DEPayment date: 20240228Year of fee payment: 6Ref country code: GBPayment date: 20240227Year of fee payment: 6 |