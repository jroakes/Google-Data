CN103959343B - Layered digital image data reordering and related digital image rendering engine - Google Patents
Layered digital image data reordering and related digital image rendering engine Download PDFInfo
- Publication number
- CN103959343B CN103959343B CN201280059548.2A CN201280059548A CN103959343B CN 103959343 B CN103959343 B CN 103959343B CN 201280059548 A CN201280059548 A CN 201280059548A CN 103959343 B CN103959343 B CN 103959343B
- Authority
- CN
- China
- Prior art keywords
- image data
- original
- layer
- image
- rearrangement
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Active
Links
Classifications
-
- G—PHYSICS
- G09—EDUCATION; CRYPTOGRAPHY; DISPLAY; ADVERTISING; SEALS
- G09G—ARRANGEMENTS OR CIRCUITS FOR CONTROL OF INDICATING DEVICES USING STATIC MEANS TO PRESENT VARIABLE INFORMATION
- G09G5/00—Control arrangements or circuits for visual indicators common to cathode-ray tube indicators and other visual indicators
- G09G5/36—Control arrangements or circuits for visual indicators common to cathode-ray tube indicators and other visual indicators characterised by the display of a graphic pattern, e.g. using an all-points-addressable [APA] memory
- G09G5/37—Details of the operation on graphic patterns
- G09G5/377—Details of the operation on graphic patterns for mixing or overlaying two or more graphic patterns
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T15/00—3D [Three Dimensional] image rendering
- G06T15/10—Geometric effects
- G06T15/40—Hidden part removal
- G06T15/405—Hidden part removal using Z-buffer
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T17/00—Three dimensional [3D] modelling, e.g. data description of 3D objects
- G06T17/05—Geographic models
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F3/00—Input arrangements for transferring data to be processed into a form capable of being handled by the computer; Output arrangements for transferring data from processing unit to output unit, e.g. interface arrangements
- G06F3/14—Digital output to display device ; Cooperation and interconnection of the display device with other functional units
-
- G—PHYSICS
- G09—EDUCATION; CRYPTOGRAPHY; DISPLAY; ADVERTISING; SEALS
- G09G—ARRANGEMENTS OR CIRCUITS FOR CONTROL OF INDICATING DEVICES USING STATIC MEANS TO PRESENT VARIABLE INFORMATION
- G09G2340/00—Aspects of display data processing
- G09G2340/10—Mixing of images, i.e. displayed pixel being the result of an operation, e.g. adding, on the corresponding input pixels
-
- G—PHYSICS
- G09—EDUCATION; CRYPTOGRAPHY; DISPLAY; ADVERTISING; SEALS
- G09G—ARRANGEMENTS OR CIRCUITS FOR CONTROL OF INDICATING DEVICES USING STATIC MEANS TO PRESENT VARIABLE INFORMATION
- G09G2370/00—Aspects of data communication
- G09G2370/02—Networking aspects
- G09G2370/022—Centralised management of display operation, e.g. in a server instead of locally
Abstract
A digital image rendering system, such as a geographic map rendering system, receives image data from an image database, such as a map database, in the form of data having image features defined as sets of image objects arranged in a series of layers. The image rendering system processes the received data in a manner that allows for rendering the original layered data without rendering each original layer separately by reordering the original layered digital image data into fewer layers.
Description
Technical field
Present disclosure is related to digital picture rendering system, such as numeral geography map display system.More specifically, originally
Disclosure is related to a kind of Digital Image Data rearrangement routine, and the Digital Image Data rearrangement routine is when executed
Original " layering " Digital Image Data collection is resequenced, so that render to be displayed without individually rendering original hierarchy number
Per layer and unused intermediate image of word image data set.
Background technology
Setting including the extensive various of mobile phone, auto-navigation system, handhold GPS unit, computer and many websites
Standby middle discovery and these equipment can with display digit image, such as geographic pattern, games system, internal anatomy, with dialogue gas
Cartoon of bubble etc..Although digital picture is easy to check from from the viewpoint of terminal use and uses, digital picture Jing is created
It is often the intensive task of a difficulty and processor.Any given Digital Image Display rendering apparatus are once directed do so
The speed of the digital picture given with regard to actual displayed is slow because of desired data process quantity.Display renders delay from end
It is undesirable from the viewpoint of end subscriber.
The establishment Jing of digital picture often from store in digital image databases for example with using as the part of geographical map
And millions of shown streets and crossing and the corresponding raw digital image data collection of further feature.Jing often from it is various come
Source obtains the original figure map datum stored in map data base, wherein each the commonly provided varying number in source and type
Information.For example, the first source can be the number with a series of data relevant with satellites or aviation, photographic image files
According to storehouse, second source can be the data base with a series of data relevant with local highways, and the 3rd source can be had
A series of data base of the data relevant with state highways, the 4th source can be with a series of relevant data of interstate highways
Data base, etc..Routinely, the digital image data set of gained layering represents scattered multiple images object and figure in multilamellar
As the synthesis of file.Any given image object and specific image object type (profile or highway of such as highway it is interior
Portion part) association.These respective sources of digital picture map datum can show by client device or by other maps
Show to render to apply and be compiled and be stored in digital picture map data base with before hardware access.
A kind of view data of common methods for rendering digital picture using conventionally referred to as vector image data.Generally
In high-resolution and quick mobile imaging system (such as with games system and the in particular imaging of 3d gaming system relationship
System) used in vector image data.In general, vector image data (or vector data) are including following data, the number
According to definition using as show part and coloured concrete image object (also referred to as primitive).Representing the number of geographical map
In the situation of word image, such image object or primitive can for example define indivedual roads, text label, region, text
Frame, building, railway, river, interest point-marker, features of terrain, cycle track, map or street label etc..
Generally, it is layered numerical map packet and includes great amount of images object scattered through various layers.For example, geographical map
Basal layer can be the aerial print on the surface of the image file or the earth of satellite.The second layer can be included by corresponding inside
Local highway that filled object and outline object are represented (i.e., for example, represented by the white interior with black silhouette one or
The multiple highways of person).Third layer can be comprising state expressway (that is, the example represented by corresponding internal filled object and outline object
Such as, by one or more highway represented inside the Lycoperdon polymorphum Vitt with black silhouette).4th layer can be included by corresponding inside
The interstate highway that filled object and outline object are represented is (i.e., for example, by orange internal for representing with black silhouette
Or multiple highways).Each image object in any given layer has each attribute, such as shape, color, line chi
Very little, alpha blended value, z-depth functional value etc..Then, the digital picture map datum for rendering can be shown as all these
Three-dimensional relationship is visibly described in the compiling of layer and image object, the compiling.It should be appreciated that any given original hierarchy number
Word image data set can have the original layer forming differently, and for example, can combine original layer of any combinations to form list
Individual intermediate image.
In conventional application, the digital picture number of layering is rendered on corresponding client device by individually rendering per layer
According to.Original layer is rasterized into into intermediate image first.Subsequently merged intermediate image before display is rendered.For intermediate image
Extra storage and the time merged required for intermediate image cause display to render delay.Therefore, using usual manner rendering point
Layer digital image map data need larger memory, processor intensive and expend the time.
The content of the invention
A kind of computer reality for the original hierarchical image data collection rearrangement for using when display is rendered
The method applied, is included in computer equipment and receives the original hierarchical image data collection for including multiple original image data layers, multiple
Original image data layer is arranged to be rendered forming intermediate image before intermediate image is rendered in display.Original figure
As each the original image data layer in data Layer is included according to the tactic multiple images object of image object in layer.The party
Method performs view data rearrangement routine on a computing device, and view data resequences routine from original image data layer
In two or more original image data layer extract the image object set of the first kind and create rearrangement
Image data set is for the image data layer as single rearrangement for the use when display is rendered.Rearrangement
Image data layer includes the original image data layer according to each image object from the image object which extracts the first kind
Mark and according to from its extract the first kind image object in each image object original image data layer layer
The image object of the first kind of interior image object order sequence.The method then stores the sequence again in computer equipment
Image data layer.
In another embodiment, a kind of digital picture rendering engine for using when display is rendered includes communication network
Interface, one or more processor, one or more memorizer for being coupled to processor and the display for being coupled to processor
Equipment.Communications routines are stored at least one of memorizer memorizer, and Communications routines are performed with Jing on one of processor
The digital image data set of original layering is obtained by communications network interface, original layering numeral image data set is included according to ascending order quilt
It is arranged for coloured multiple original image data layers in display.Each original image data layer is included according to image in layer
The different types of multiple images object of object-order arrangement.Digital Image Data rearrangement routine is stored in one of memorizer
On, when Digital Image Data rearrangement routine is performed on one of processor, from the digital image data set of original layering
The the first image object set for extracting the first kind and the Digital Image Data collection for creating rearrangement.The numeral of rearrangement
Image data set includes ground floor, and ground floor includes the image object of the first kind, wherein Digital Image Data rearrangement example
Journey is resequenced to the image object of the first kind, so that the specific original view data in original image data layer
Layer the first kind all image objects rearrangement Digital Image Data in positioned at from according to ascending order in original figure
As the of any original image data layer in the original image data layer after the specific original image data layer in data Layer
Before any image object in the image object of one type, and so that specific original in original image data layer
Have image data layer the first kind image object in each image object rearrangement Digital Image Data middle position
It is any in the original image data layer before the specific original image data layer according to ascending order in original image data layer
After all image objects of original image data layer, and each the original image data layer in wherein original image data layer
The first kind image object it is suitable according to image object in the layer of each the original image data layer in original image data layer
The reverse order of sequence is located in the Digital Image Data of rearrangement.Z value assignment routines are stored on one of memorizer, and z values are assigned
Value routine is when executed according to each image object in the Digital Image Data of rearrangement in the digitized map resequenced
As the order in data is to image object assignment z value.There is provided and come using the Digital Image Data collection of rearrangement when executed
The display for rendering display renders routine.
In another embodiment, there is provided a kind of for used in the imaging system of routine is rendered with processor and display
And for when display is rendered using and per layer of the digital image data set of original layering of number is not rendered in intermediate image
Word view data rearrangement routine.Digital Image Data rearrangement routine includes that the first data for storing on a memory are visited
Routine is asked, the first data access routines access the original layering digitized map for including multiple original layer when being performed on a processor
As data set, multiple original layers be arranged to be rendered before intermediate image is merged for the use when display is rendered with
Form intermediate image.Each original layer is included according to the tactic multiple images object of image object in layer, and original layer
It is sorted according to ascending order.Including one or more Digital Image Data handling routine, one or more Digital Image Data
Handling routine extracts first image object set from original layering numeral image data set when being performed on a processor
And create the Digital Image Data collection of rearrangement.The Digital Image Data collection of rearrangement includes ground floor, ground floor bag
The image object of the first kind is included, one or more image object of Digital Image Data handling routine to the first kind
Rearrangement, so that all image objects of the first kind of specific original layer in original layer are in rearrangement
Digital Image Data be centrally located at from according to ascending order after the specific original image data layer in original image data layer
Before any image object in the image object of the first kind of any original layer in original layer, and so that from
Digital picture of each image object in the image object of the first kind of specific original layer in original layer in rearrangement
Data are centrally located at any original layer in the original layer before the specific original layer according to ascending order in original layer of all figures
After picture object, and the image object of each original layer of the first kind in wherein original layer is according to original image data layer
Layer in image object order reverse order be located at rearrangement Digital Image Data concentrate.Z value assignment routines are stored in
On one of memorizer, z value assignment routine is when executed according in original relative image pair being layered in digital image data set
As depth is to each the image object assignment z value in the Digital Image Data of rearrangement.
Feature and advantage described in present invention and detailed description below not exhaustive.It is many additional
Feature and advantage will in view of accompanying drawing, description and its claim and it is clear by those of ordinary skill in the art.
Description of the drawings
Fig. 1 is the high level block diagram of digital image system, and the digital image system is implemented in the numeral being stored in server
Communication between image data base and one or more digital picture rendering apparatus；
Fig. 2 is the high level block diagram of digital imaging system, and the digital image system is implemented in being stored in first server
Digital image databases, the Digital Image Data being stored at least one second server reorganization device and one are more
Communication between individual digital image rendering equipment；
Fig. 3 describes the high level block diagram of engine of resequencing for the Digital Image Data for rendering layering Digital Image Data；
Fig. 4 A and Fig. 4 B illustrated operations be used for original Digital Image Data collection for representing in the table of Fig. 5 A of rearrangement with
The example routine or process flow diagram flow chart of the image data set of the rearrangement that generation is represented in the table of figure 5b；
Fig. 5 A and Fig. 5 B is depicted in respectively by the Digital Image Data before reorganization and after by reorganization
Table；
Fig. 6 A and Fig. 6 B describes overlap and non-intersecting highway；
Fig. 7 A and Fig. 7 B describes the coloured intersecting highway of Display Technique that can use description；And
Fig. 8 and Fig. 9 describes the display of the Digital Image Data for rendering.
Specific embodiment
A kind of Digital Image Data rearrangement routine extracts various from indivedual layers of the digital image data set of original layering
Image object is comparing needs more with the time using the digital image data set of original layering to render display and need to create
The Digital Image Data collection of few rearrangement of the time to render in display.
Based on layer to the digital image data set sequence of original layering, wherein first or bottom layer represent it is aobvious relative to correspondence
The viewer for showing farthest away from layer, and wherein last or top layers are represented relative to the immediate layer of viewer.Each is former
There are various image object of the layer comprising at least first kind, such as represent the line object of highway.Digital Image Data is resequenced
Routine travels through original layer and selects and export at least ground floor relevant with the first image object type.Correspondence shows rendering engine
Rendered using the Digital Image Data layer of new rearrangement and be displayed without individually rendering each original layer, thus reduced
Render the time for showing and needing.Rendered using the Digital Image Data of rearrangement and shown without the need for making before display is rendered
With intermediate image, therefore further reduce and render the time for showing and needing.
According to original layer that image object is extracted from which and according to image object order in original layer according to the second image
Object-order is resequenced to image object.According to from original relative image subject depth being layered in digital image data set
Each image object assignment z value in the Digital Image Data in rearrangement.Thus, for example, will can represent with many
Original layering numeral image data set of individual original layer of geographical map is condensed into two-layer.The Digital Image Data of rearrangement
Ground floor includes the image object of the profile for representing highway, and the second layer of the Digital Image Data resequenced includes representing
The image object of the interior section of corresponding highway.By image object is resequenced on strategy and it is same on strategy to
Each image object assignment z value, realizes the display of feature, and these aspect ratios are represented as the tunnel of dotted outline in this way in display
The transparent overline bridge of the visual appearance of road and offer image object, these image objects may be hidden from view in showing originally
Cover.
Each original layer can include various types of image objects (that is, more than one image object type), such as such as
The internal filled object of outline object and correspondence of the highway in example earlier.A kind of Digital Image Data rearrangement routine time
Go through original layer and select and export the ground floor relevant with the first image object type and relevant with the second image object type
The second layer.Correspondence is shown rendering engine and is displayed without to render using the Digital Image Data layer of two new rearrangements
Do not render each original layer and intermediate image is not used, thus reduce the time in display rendering image and needing.
In one example, the digital image data set of original layering can represent a series of geographical map with highways.
In this case, in the various layers of original layering numerical map data set comprising the interior section with highway is associated one it is
Row " internal filling " object and a series of " profile " objects associated with the outline portion of highway.Computing device digital picture number
Internal filled object is extracted with the various layers from original layering Digital Image Data according to rearrangement routine and create the first number
Word image data layer.Additionally, Digital Image Data is resequenced, routine is extracted from the various layers of original layering Digital Image Data
Outline object and create the second Digital Image Data layer.First Digital Image Data layer and the storage of the second Digital Image Data layer
On computer-readable medium and it is rendered as two-layer and maintains to generally include original Digital Image Data of much more layer
Appearance and three-dimensional situation.Carry out wash with watercolours using the first Digital Image Data layer and the second Digital Image Data layer that are rendered as two-layer
Dye Digital Image Display renders Digital Image Display ratio with by individually rendering original be layered Digital Image Data per layer
It is less dense compared with processor and need less memorizer.
Term " layer " is commonly used to describe image object in the term relevant with Digital Image Data or image file can
(that is, the z-depth) not at the same level being located at the viewer for relative to each other and relative to correspondence showing.Digitized map can created
Stack during picture, merge or define indivedual layers.Per layer can partly be covered so as to allow the object in given layer extremely
Small part being at least partly hidden in translucent fashion or illustrating relative to the image object in the different layers.Can combine
Indivedual layers, so that two or more original layer forms single new layer.For the purpose of editor, allow giving with layer work
Globally it is changed in fixed layer and other layer of holding is not edited completely.Once combine two-layer or more layers to create list
Layer, then perform follow-up editor to monolayer as overall.Generally, per layer of rasterisation that will be included in the digital image data set of layering
To form intermediate image.Then merged intermediate image before rendering in display.
Perform Digital Image Data rearrangement routine described herein coloured given for being formed to reduce needs
Display or image the number of plies.Rendered using the Digital Image Data of rearrangement and show and intermediate image is not used.Close
In the Digital Image Data of rearrangement, keep term " layer " to be reflected in the Digital Image Data layer and wash with watercolours that render for showing
Dependency between dye sequence.The depth of any given image object or image file is no longer by the data in rearrangement
In layer position determine.In the Digital Image Data of rearrangement, image object or image file can be relative to each other
With the viewer shown relative to correspondence and (that is, the z-depth) not at the same level that be located at by being determined by the z values of individually assignment.
Which layer is located at according to any given image or object relative defined in the digital image data set of original layering
Image object depth.The number of plies is lower, and image object just will be further away from as viewed from the perspective of viewer.In the feelings for showing road-map
In border, layer is generally used to the three-dimensional relationship being depicted between indivedual highways, so as to illustrating which highway more than other highways or
Person below by way of, the intersection point of road, bridge and tunnel.
Referring now to Fig. 1, the digital image system 110 for being configured to Digital Image Data rearrangement routine is wrapped
Include in server 114 or in multiple servers in for example centrally located place or a variety of places spaced apart
The digital image databases 112 of storage.Digital image system 110 also include multiple digital picture client devices 116,118,
120 and 122, each the digital picture client device in these digital picture client devices is stored and performs digital picture number
Routine is rendered according to rearrangement routine and display, or including display rendering engine.Client device 116-122 can via appoint
What hardwire or cordless communication network 125 are (for example, including hardwire or WLAN, MAN or WAN, WiFi, the Internet
Or its any combinations) it is connected to server 114.Client device 116-122 may, for example, be mobile telephone equipment (118),
Computer (part (the ratio of such as on knee, desk-top or other types of computer (116,120)) or other imaging systems
The such as part of auto-navigation system (122)) etc..In addition, client device 116-122 can be via any appropriate communication system
(such as via any publicly available or privately held communication network, including use based on hard wired communication structure (such as
Phone and cable hardware) and/or the communication network of wireless communication configuration (such as cordless communication network is (for example, including WLAN
With WAN, satellite and cellular telephone communication system) etc.) it is communicably connected to server 114.
Digital image databases 112 can store any desired class including raster image data and vector image data
The Digital Image Data of type or species.However, Digital Image Data rearrangement routine described herein and display render example
Journey is most preferably suitable for being used together with vector image data, the vector image data definition or including for multiple images
A series of summits or number of vertex strong point of each the image object set in object set.In general, fixed by vector data
Each image object in the image object of justice is by the multiple summits with associated.Summit is in client device 116-
Each image object is rendered on the display device of one or more client device in 122.In one embodiment, client
Each client in end equipment 116-122 can include showing rendering engine that the display rendering engine has general with known
Mode interconnects one for rendering one or more processor that routine renders display on association display device 134 using display
130th, one or more memorizer 132, display device 134 and there is rasterizer or graphics card in many cases
136.Display device 134 for any particular client device 116-122 can be any kind of electronic display unit, than
Such as liquid crystal display (LCD), light emitting diode (LED) display, plasma scope, cathode ray tube (CRT) display
Or the known or appropriate electronic displayss of any other type.
In general, the digital image system 110 of Fig. 1 is operable so that user sending out in one of client device 116-122
Rise and perform digital picture application (not shown in FIG), the digital picture application operating is for communicating with from number with server 114
Word image data base 112 obtains one or more original layering numeral image data set.Given client device performs number
Word view data rearrangement routine, the Digital Image Data resequence routine from the various of original layering Digital Image Data
Layer extracts image object to produce the digital picture number of the rearrangement with the layer more less than original layering Digital Image Data
According to.Client device and then execution display render routine (not shown in FIG), and the display renders routine using rearrangement
Digital Image Data is rendering display.Digital picture application can allow user for example to check in digital image databases 112
The different geographical portions of original layering Digital Image Data of storage, the specific geographic that zooms in or out position, rotation, spin or
Person changes the two-dimentional or three-dimensional of the digital picture for showing and checks angle etc..
More specifically, when image is rendered on a display device 134 using picture system described herein, client sets
Each client device in standby 116-122 download Digital Image Data from digital image databases 112 and use one or
The multiple Digital Image Data rearrangement routines of person carry out processing data.The Digital Image Data of rearrangement is with than original layering
The less layer of Digital Image Data and therefore resequence data can be by client device for less close with processor
The mode of collection renders image on association display device 134.The Digital Image Data rearrangement routine for performing this operation is deposited
It is stored on the memorizer 132 of client device and is performed by the processor 130 in client device.In addition, Alpha's attribute
Value assignment and mixing routine and z-depth functional value assignment routine are stored on memorizer 132 and in processor 130
On be performed with to the attribute value of each image object difference assignment Ai Er and z-depth functional value.In a relevant embodiment,
Client device performs using the Digital Image Data of rearrangement to render the aobvious of display on client device processor 130
Show and render routine.
In general, digital image system 110 phase of the digital image system 210 of Fig. 2 from from the viewpoint of user with Fig. 1
As operate.In the digital image system 210 of Fig. 2, Digital Image Data rearrangement routine is stored respectively in server
214th, perform on the memorizer 215,242,247 in one of 240,245 and by processor 213,241,246.Although digitized map
As system 110,210 is similarly operated from from the viewpoint of user, but the rearrangement routine storage of the Digital Image Data of Fig. 1
It is performed in the memorizer 132 of client device and on client device processor 130.To the client device of Fig. 1
116-122 passes on layering Digital Image Data, and the digital picture number of rearrangement is passed on to the client device 216-22 of Fig. 2
According to.The remaining element with 200 serial labels described in Fig. 2 and the corresponding unit with 100 serial numbers with reference to Fig. 1
The unit of description is similar.
When being used in the digital image system 210 of Fig. 2, Alpha's property value assignment and mixing routine and/or z depths
Degree functional value assignment routine be stored in being performed on memorizer 232 and on processor 230 and operate for
Each image object assignment Alpha property value and/or z-depth functional value.Alternatively, when the digital image system 210 in Fig. 2
It is interior when being used, to Alpha's property value assignment of each image object assignment Alpha property value and z-depth functional value and mixed
Close routine and/or z-depth functional value assignment routine can be stored on any memory in memorizer 213,241,246 and
It is performed in respective processor 215,242,247.
Fig. 3 describe associate with one of client device 116-122,216-222 or by client device 116-122,
The display rendering engine 300 that one of 216-222 is implemented.When the digital image system 110 with Fig. 1 is combined and is used, client
Equipment 116-122 performs Digital Image Data rearrangement routine 314 and display renders both routines 323.In the numeral with Fig. 2
Picture system 210 is combined when being used, and client device 216-222 only performs display and renders routine 323, and Digital Image Data
Rearrangement routine 314 is at least partially in being performed on one of server 214,240,245.It should be appreciated that Digital Image Data
A part (as such as image object extracts routine 315) for rearrangement routine 314 can be in one of server 214,240,245
On be performed, and image object rearrangement routine 320 be for example performed on client device 216-222.
The display rendering engine 300 of Fig. 3 includes two processors, 340,345, three memorizeies 308,324,360, user
Interface 355 and rasterizer 350.Processor 345, memorizer 324 and rasterizer 350 are arranged at (in horizontal line following presentation
) on detached graphics card.Alternatively, single processor can be used to implement to show rendering engine.Additionally, showing rendering engine
300 include network interface 305.Memorizer 308,324 and 360 can include volatile memory and nonvolatile memory or
Including both.
Communication and storage routine 309 and one or more digital picture application 310 are stored on memorizer 308.Communication
It is performed on processor 340 with storage routine 309 and is connect via network interface 305 with obtaining and storing on memorizer 360
One or more Digital Image Data collection received.Network interface 305 includes operation for for example via hardwire or wireless
What one of communication network and server 114,214,240,245 communicated any knows software and/or hardware component.Memorizer 360
May, for example, be buffer or volatile memory.In the digital image system 110 described in such as Fig. 1, communicate and store
Routine 309 is executed for obtaining and storing one or more original point via server 114 from Digital Image Data block 112
Layer digital image data set.In the digital image system 210 described in such as Fig. 2, communication and storage routine 309 are executed for
The Digital Image Data collection of one or more rearrangement is obtained and is stored from one of server 214,240,245, wherein
Given server 214,240,245 performs Digital Image Data rearrangement routine 314.As described in Fig. 3, numeral
View data rearrangement routine 314 can be included in one or more image object store on memorizer 308 and extract example
Journey 315 and one or more image object rearrangement routine 320.It should be appreciated that image object extracts routine 315 and image
Object rearrangement routine 320 can be combined, be stored in memorizer 308 in and be performed on processor 340.
In operation, digital picture application 310 is initiated in response to user and is performed on processor 340 with for example using use
Family input, global positioning system (GPS) signal, the logic that prestores or programming etc. are special to determine one or more that wish to show
Fixed number word image data set.Digital picture application 310 by via network interface 305 and server 114,214,240,245 it
One communication uses communication and stores routine 309 and Digital Image Data block 112,212 to obtain desired Digital Image Data
Interaction.The Digital Image Data of request is returned and is stored in memory 360 via network interface 305.In particular example,
Digital Image Data is downloaded from data base 112,212.Digital Image Data can be by for rendering the final vector number of display
According to compact, structuring or the version for otherwise optimizing, and correspondence digital picture application 310 can be operated for making
With processor 340 by the vector downloaded into concrete number of vertex strong point.In general, in Digital Image Data block 112,212
The Digital Image Data of middle storage can include vector data and potentially including one or more look-up table, this or
The data on multiple each summit of vertex set for associating with multiple different images objects of searching table definitions.More particularly,
Vector data for each image object can include associating with one or more triangle of composition specific image object
Multiple summits.
Alpha's property value assignment and mixing routine 321 are also stored in being held on memorizer 308 and on processor 340
Row is with the lap of the image object to each image object assignment Alpha property value and alpha blended same type.
Similarly, z-depth functional value assignment routine 322 be stored on memorizer 308 and with Digital Image Data resequence routine
With reference to being performed on processor 340 with to each image object assignment z-depth functional value.Certainly, Alpha's property value assignment
Can be combined, store and perform as single routine with mixing routine and z-depth functional value assignment routine.
Graphics card with fragment shader 330 can be used to calculate for process each pixel z values and mix
Alpha value.On some embedded graphic cards, z values are directly calculated based on the summit produced by vertex shader 325.Based on embedding
The WebGL for entering formula API can be used to calculate z values.
Reference picture 4A, Fig. 5 A and Fig. 5 B, describes to show the specific example of rendering engine 300, wherein showing rendering engine
300 are configured to digital geographical map rendering apparatus.In the example present, Digital Image Data rearrangement and attribute assignment example
Journey 400a is executed for obtaining such as the original layering numeral image data set 500a described in Fig. 5 A.Especially, via beginning
Block 405a initiates Digital Image Data rearrangement and attribute assignment routine 400a.Then, obtain in block 410a and represent one and be
Original layering Digital Image Data 500a of row highway, these highways are included among multilamellar scattered multiple outline objects and many
Individual internal filled object.Outline object visibly represents the outline portion of highway, and internal filled object visibly represents public affairs
The interior section on road.Original layering numeral image data set 500a of the example of Fig. 5 A include such as row 505a in describe it is original
Layer one, original layer two and original layer three.Original layer one includes three outline objects such as described in row 510a and three inside
Filled object.Original layer two includes two outline objects such as described in row 510a and two internal filled objects.Original layer
Three include four outline objects describing and four internal filled objects such as in row 510a.It is original to describe according in 515a is arranged
Individual images object order of the original image object order to original layering Digital Image Data.It will be appreciated, however, that original
Layering Digital Image Data can include any number of original layer and can include in each original layer any number of
Original layering Digital Image Data of image object type and Fig. 5 A is only an example.
With further reference to Fig. 4 A, image object extracts block 415a and is executed for from the digital image data set of original layering carrying
Take internal filled object to create the layer one of the rearrangement such as described in the row 520b of Fig. 5 B.Image object extracts block 415a
Also extract outline object to create the rearrangement such as described in the row 520b of Fig. 5 B from the digital image data set of original layering
Layer two.Image object rearrangement block 420a is executed for the inside of the extraction to such as describing in the row 510b of Fig. 5 B and fills out
Fill object rearrangement.The profile pair of image object rearrangement extractions of the block 420a also to such as describing in the row 510b of Fig. 5 B
As rearrangement.Such as from comparison array 520b and row 505a, the Digital Image Data of rearrangement is with than original hierarchy number
The less layer of word view data.It should be appreciated that original layering numeral image data set can only have an image object type, example
The line object of highway is represented such as.Original layering numeral image data set can include three or more image object types.
Referring again to Fig. 4 A, to each image object assignment z value in block 425a.In the art relevant with Digital Image Data
In language, " z buffer " is made with regard to the management of image object or image file depth coordinate in three-dimensional (3D) figure
Term.Generally within hardware, but perform sometimes Z in software to buffer.Z bufferings provide a kind of for visibility problem
Solution, the visibility problem are will be seen that and which will be hidden and associate with which image object of display for determining to render
Problem.When image object is rendered by 3D graphics cards, the depth of the pixel (z coordinate) of generation is stored in buffer (z-buffer
Or depth buffer) in.This buffer is generally arranged to each element for the two-dimensional array (x-y) of respective pixel.
When rendering another image object in same pixel, graphics card compares two depth and selection is associated with viewer more
The depth of close image object.Then the depth of selection is preserved to z-buffer.Finally, z-buffer enables graphics card correct
Depth preception (for example, closer to the farther object of Objects hide) desired by reproducing." Z is selected " is the early stage pixel based on pixel depth
Eliminate.Z is selected, because eliminating the pixel of " hiding ".Hiding pixel is eliminated
It is the direct benefit of z buffer, wherein comparing the depth of each pixel candidate with its face may be hidden behind existing geometry
The depth of shape.
When starting to render new display, z-buffer is arranged to into predefined value, usually 1.0, because this value is depth
The upper limit (in 0 to 1 ratio) of degree, it means that without image object by checking frustum (viewing frustum)
Exist in this point.When using z-buffer, once the depth of known pixels is hidden, then it can be selected (eliminate), this makes
Brightening and veining must be possible to omit anyway by the whole process of sightless pixel.And, will not typically be to select
Pixel perform time consuming pixel coloring device.This causes z to select in filling rate, brightening, veining or pixel coloring device
It is good optimization candidate in the situation for being limiting factor.
As general item, to each image object assignment z-depth functional value, so that in the digitized map of rearrangement
Relative z-depth as each image object of original layering Digital Image Data is kept in data.For the image object for giving
Resulting z value be the following function：1) image object type, 2) image object position original layer in the inner, and 3) figure
As original order of object.More specifically, the figure of the first kind extracted from the ground floor of original layering Digital Image Data
As object is assigned minimum z values according to their original order.The extracted from the ground floor of original layering Digital Image Data
The image object of two types is assigned time minimum z values according to their original order.For in original layering Digital Image Data
Ground floor in each image object type for including continue this z value assignment sequence, until to the digital picture number of original layering
According to ground floor all image object assignment.Once to each figure that the ground floor from original layering Digital Image Data is extracted
As object value z values, the then first image object type assignment z values extracted to the second layer from original Digital Image Data.
Continue this z value assignment sequence, until the z values of the last image object type to the final layer of original layering Digital Image Data
Assignment.
Reference picture 5B, from the outline object farthest away from viewer in the original layer farthest away from viewer (i.e. according to original
1) outline object for having image object order starts assignment z-depth functional value.Z-depth functional value assignment routine is to closest to looking into
Include in first original layer of the person of seeing outline object (i.e. according to the outline object 5 of original image object order) progress continue to
From remaining outline object assignment that the ground floor of original layering Digital Image Data is extracted.Z-depth functional value assignment routine is then
From farthest away from viewer inside filled object (i.e. according to the inside filled object 2 of original image object order) start and to
(fill according to the inside of original image object order from the inside filled object of original layer of extraction of first closest to viewer
6) object is in progress and continues for value to be assigned to the inside filled object from first original layer of extraction.According to this pattern and to most connecing
Original layer of nearly viewer is in progress remaining the z-depth function in outline object and internal filled object assignment z-depth functional value
Value.It should be appreciated that the image of the same type that can be included into any given layer in original layering Digital Image Data
The identical z values of object value rather than the z values of increase proportional to original image object order.
Perform in block 425a to each the internal filled object and each outline object assignment z such as described in row 530b
The z-depth functional value assignment routine of depth function value.The z-depth that assignment of starting from scratch is associated with first original layer of outline object
Functional value will be shown farthest away from (i.e. z values 3,2,1) to reflect as viewed from the perspective of viewer them.To with first original layer
The ensuing z values of z-depth functional value assignment (i.e. z values 6,5,4) of internal filled object association.To the profile with second original layer
The ensuing z values of z-depth functional value assignment (i.e. z values 8,7) of object association.Close to the inside filled object with second original layer
The ensuing z values of z-depth functional value assignment (i.e. z values 10,9) of connection.To the z-depth that the outline object with the 3rd original layer is associated
The ensuing z values of functional value assignment (i.e. z values 14,13,12,11).To the z depths that the inside filled object with the 3rd original layer is associated
The ensuing z values (i.e. z values 18,17,16,15) of degree functional value assignment.As the implementing result of block 415a, 420a, 425a, pass through
Keep in the Digital Image Data of rearrangement in original layering numeral to each image object assignment z-depth functional value
The relative depth relationships of each image object included in image data set.
With continued reference to Fig. 4 A and Fig. 5 B, perform in block 430a to each the internal filled object such as described in row 535b
With Alpha's property value assignment and mixing routine of each outline object assignment Alpha's property value.When display is rendered using Ah
Your attribute value is visibly drawing the lap of two or more image object.In general, in rearrangement
The Alpha associated with each image object included in the digital image data set of original layering is maintained in Digital Image Data
Property value.Alpha's property value generally corresponds to given color.It should be appreciated that preference assignment that can for example according to viewer
Any given Alpha's property value.
Digital image synthesis are digitally to assemble multiple digital pictures to be generally used for printing to create a final image
Or the process for showing.Digital image synthesis represent optical cement and intervolve into the differentiation in digital field.With Digital Image Data
In relevant term, " alpha blended " is for controlling to be synthesized into single output picture in opacity value Alpha (" α ")
The term used during the ratio of two or more input pixel value of plain value.Alpha blended be used for realize with regard to Fig. 6 B,
The desired visual effect of Fig. 7 B, Fig. 8 and Fig. 9 description.Alpha is performed according to any mathematical calculation in multiple mathematical calculations
Mixing, below description illustrate example calculation：
Foreground pixel f
Background pixel b,
Resulting pixel c,
And
α, the opacity value of foreground pixel.(for opaque prospect is α=1, for fully transparent prospect is α=0).
Consideration all three chrominance channel (that is, red-to be represented by subscript r, green-represented by subscript g, and blue-by under
Mark b is represented), and assume the expression chrominance channel in γ=1 colour space (i.e., that is to say, that measured value is proportional to light intensity),
As a result it is：
cr=α fr+(1-α)br
cg=α fg+(1-α)bg
cb=α fb+(1-α)bb
Wherein four layers of alpha blended (that is, is for example superimposed geographically more than aerial print with producing final image
The part with three overlap highways of figure) in the case of：F=A* (B* (C*D)), wherein A, B, C, D are partially transparent figures
As object, and " * " represents synthesis operator (wherein left layer is on right layer).If only layer C changes, should avoid calculating
All layers are re-mixed during F.Without any special consideration, four full images mixing will need appearance.In order to synthesize tradable calculation
The mixing of symbol, such as addition, is safe to hybrid operation rearrangement.In this case, only calculate T=A* (B*D) once,
And mix T*C to produce F in single computing.Regrettably, most of arithmetic are not interchangeable.However, many is to close
Connection.Therefore, it is safe computing to be grouped again and do not change their order.In this case, it is possible to calculate S=
A*B once and preserves this result.In order to F be formed with association operator, perform two additional synthesis computings with integrated new layer C：F
=S* (C*D).Note, this expression formula indicates synthesis in one step, and C is with all layers below it and and then mixes
In its all of the above layer and Previous results producing final image in the second step.
If all layers of image regularly change and need to be synthesized (such as in Distributed Rendering Environment), still may be used
Even if with utilize synthesis operator interchangeability with without from the gain of precomputation when still through concurrency speed-up computation.
Image F=A* (B* (C*D)) is considered again.In this expression formula each synthesis computing depend on it is next synthesis computing so as to
Produce serial computing.However, interchangeability allows to rewrite F=(A*B) * (C*D), wherein obviously have not interdepending and can
With two computings being executed in parallel.In general, can derive with the number of plies into the height of logarithm by synthesize computing
Tree.
Each pixel value to be mixed can be weighted relative to the value of any other pixel.For example, in three images pair
As with lap and each image object have 50% alpha value when, gained is shown with from background
12.5% contribution, 12.5% contribution from the first image object drawn, 25% tribute of the second image object from drawing
Offer, contribute from the 50% of the 3rd image object drawn.
Referring again to Fig. 5 B, describe rearrangement beside the original image object order in row 515b in row 525b
Image object.As can be understood by the row 520b of the row 505a of comparison diagram 5A and Fig. 5 B, original layering numeral
View data needs three drawing to call to render correspondence display, and the Digital Image Data resequenced only needs two tune of drawing
To render correspondence display.It is to be appreciated that there is original point of high-layer ratio relative to the number of different images object type
Layer digital view data will be benefited with regard to required process resource, and the example of Fig. 5 A and Fig. 5 B is selected for ease of illustration, and this shows
Example has original three layers be layered in Digital Image Data and has two different images object types.
Fig. 4 B describe the display for being suitable for performing on client device 116-122 and render routine 400b.Starting block
Display is initiated in 405b and renders routine.Then, the Digital Image Data collection of rearrangement is obtained in block 410b.In block 415b
Start from top image object (that is, with the immediate top of viewer) and continue continuously to delay to bottommost image object
Rush image object in layer.In block 420b from bottom layer (that is, with viewer farthest away from bottom) start continuously buffer again
The ground floor and the second layer of the Digital Image Data of sequence.Perform in block 425b and call for the indivedual drawing for rendering per layer.
Render in the implementing of routine 400b in the display of the example for being such as applied to Fig. 5 A and Fig. 5 B, buffer from original
Object in first group of layer of the digital image data set of layering, so that being included in three with the buffering of image object order 6,4,2
First original layer of portion's filled object (that is, original image object sequentially 2,4,6), then with image object order 10,8 buffers packets
Include second original layer of two internal filled objects (that is, original image object order 8,10), and with image object order 18,
16th, 14,12 bufferings include the 3rd original layer of four internal filled objects (that is, original image object sequentially 12,14,16,18).
The object in second group of layer of the digital image data set of original layering is buffered, so that slow with image object order 5,3,1
Punching includes first original layer of three outline objects (that is, original image object sequentially 1,3,5), then with image object order 9,
7 bufferings include second original layer of two outline objects (that is, original image object sequentially 7,9), and use then image object
Sequentially 17,15,13,11 bufferings include the 3rd original of four outline objects (that is, original image object sequentially 11,13,15,17)
Layer.Perform in block 425b render in display internal filled object first drawing call, then perform render outline object
Second drawing call.
First draws calls to draw to call with second can include identical image object properties collection.However, in attribute
Some attribute assignment different values (that is, not collinear type, different line widths, different colours etc.).It is referring again to road map, internal
Both filled object and outline object are shown as line by visual.For the line width attribute of outline object more than filling out for inside
Fill the line width of object.By internal filled object being rendered more than correspondence line object, realize the desired outward appearance for highway,
The outward appearance as shown in reference picture 6A, Fig. 6 B, Fig. 7 A, Fig. 7 B, Fig. 8 and Fig. 9 with the first color profile and at them
Between have the second color.
In order to illustrate, Fig. 6 A by the tube 600a of the first highway 605a be depicted in region 610a the second highway 615a with
Under pass through.First highway 605a has profile 606a, 607a, and the second highway 615a has profile 616a, 617a.In region
610a does not provide alpha blended between the first highway and the second highway.Therefore, the profile of highway 615a and interior section two
It is continuous that person is depicted as pass-through zone 610a.
Similar to Fig. 6 A, Fig. 6 B are depicted as in region 610b the tube 600b of the first highway 805b in the second highway
615b below by way of.First highway 805b has profile 606b, 607b, and the second highway 610b has profile 616b, 617b.
Different from the example of Fig. 6 A, alpha blended is provided between the first highway 605b and the second highway 615b in the 610b of region.
So, both the correspondence profile and interior section of highway 605b, 615b is visibly shown in the overlap in the 610b of region.Region
The color of 610b is the alpha blended of the color of the interior section of the color of the interior section of highway 605b and highway 615b.
It is during according to z values assignment routine described herein to individual images object value z values, overlapped in different types of image object
When be not used alpha blended.Only the overlap image object of same type performs alpha blended.For example, mutual Alpha mixes
Close the lap of internal filled object, however, not with the lap alpha blended of outline object inside filled object.
Fig. 7 A describe the first highway 705a in the region 710a and intersection point 700a of the second highway 715a.First highway 705a has
There are profile 706a, 707a, and the second highway 710a has profile 716a, 717a.In region, 710a is in the first highway and second
Alpha blended is not provided between highway, because highway is intersecting and therefore usually same color.So, highway 705a,
Both the correspondence profile and interior section of 715a visibly illustrates highway and intersects.
Fig. 7 B describe the first highway 705b in the region 710b and intersection point 700b of the second highway 715b.First highway 705a has
There are profile 706b, 707b, and the second highway 710b has profile 716b, 717b.In region, 710b is in the first highway and second
Alpha blended is provided between highway.As can be understood by comparison diagram 6A and Fig. 6 B and Fig. 7 A and Fig. 7 B, Ah
You strengthen the visual appearance for overlapping highway at method mixing.On the other hand, alpha blended weakens the visual appearance of intersecting highway.
Fig. 8 describes the Digital Image Display 800 for including Bay area 805, and Bay area 805 has land on either side
810.First inside filled object 815 and the second inside filled object 820 and associate outline object 816,817,821 and indicate to exist
Tunnel of the Bay area below 805.Region 825,826 indicates tunnel portal and outlet.Second inside filled object 830 with associate
Outline object 831,832 indicates the bridge in Bay area more than 805.3rd inside filled object 835 with associate outline object
836th, 837 indicate the highway on land 810.Fig. 8 describe tunnel, the tunnel be represented as layering and with other highways A Er
The dotted outline of method mixing, so that dotted outline visibly indicates tunnel prolonging below water body and below other highways
Stretch.
Fill out in the interior dotted outline objects visibly represented with tunnel-associated of display 800 and inside in region 825,826
Fill both objects.Do not associated with land (or water body) with the dotted outline object of tunnel-associated and internal filled object
Any image object in image object that image object is associated with surface highway or the image object that associated with overline bridge is hidden
Cover.Mutually alpha blended is overlap with the inside filled object that tunnel, land (or water body), surface highway and overline bridge are associated
When part is overlapped with filled objects inside visibly reflecting only two, when three internal filled objects overlap.Association weight
The gained color of folded internal filled object part is the alpha blended of each respective inner filled object part.
Display is rendered using the digital image data set of original layering needs to use intermediate image.For example, render with
The display of the dotted outline object of tunnel-associated is continued by following operation：1) render in intermediate image thick complete opaque
Dash-dotted gray line outline object, 2) slightly thinner solid limpid internal filled object is rendered in intermediate image and mixed without Alpha
Close (that is, the opaque gray pixels in intermediate image are replaced with the all-transparent pixel in lap, therefore Lycoperdon polymorphum Vitt is in tunnel
Disappear in interior section), and 3) intermediate image is synthesized on the basic map below it using alpha blended.Logical
When crossing pixel of the render process tracking in the zone line in the tunnel in water body：1) pixel is opened as the blueness for representing water body
Begin, 2) create the intermediate image with blue background, 3) dotted outline object rendered so as to cause not in the second intermediate image
Transparent, dotted line Lycoperdon polymorphum Vitt outline object, 4) to render limpid, tunnel internal filled object in the second intermediate image limpid so as to cause
Internal filled object and dotted line Lycoperdon polymorphum Vitt tunnel contour, and 5) synthesize two intermediate images with alpha blended, so that blue
Color background is occurred together with the tunnel represented by dotted line Lycoperdon polymorphum Vitt profile.Unused intermediate image and tunnel is directly rendered in background
Road outline object and internal filled object produce Different Results.Display is rendered in this sequence by following operation to continue：
1) pixel starts from blueness from water body, 2) renders dash-dotted gray line outline object, and pixel becomes grey, and 3) renders limpid solid interior
Portion's filled object, pixel if alpha blended is not used are become limpid and Lycoperdon polymorphum Vitt are kept if using alpha blended.
The pixel associated with the interior section in tunnel keeps blue.Therefore, it is being layered digital layer data collection to render display using original
When need intermediate image.Even if in reverse layer object rendering order and during the direct rendering layer object in background, still making
Intermediate image during display need to be rendered with the digital image data set of original layering.For example, tunnel of the tracking in the region of water body
Pixel in the interior section in road is continued by following operation：1) pixel starts from blueness, 2) renders limpid solid interior filling
Object, pixel becomes limpid if alpha blended is not used or it keeps blue if alpha blended is used, and
And 3) dash-dotted gray line outline object is rendered, pixel becomes grey.It is also desirable to result be convey tunnel interior section association
Pixel for blueness.
Using z buffer so that internal filled object than corresponding outline object closer to viewer and using arranging again
The Digital Image Data of sequence renders sequence by following operation to continue rendering during display：1) pixel is with than tunnel contour pair
As or the lower z values of tunnel internal filled object start from blueness, 2) render limpid solid interior filled object, if pixel is not
Then become to understand using alpha blended or pixel keeps blue when using alpha blended, gained pixel z value becomes more
Viewer is close to, and 3) renders dash-dotted gray line outline object, pixel will become grey, however, dotted line Lycoperdon polymorphum Vitt outline object tool
There is z value of the z values having more current than pixel further from viewer, therefore occur without changing.As desired, gained pixel exists
Using during alpha blended for blueness.Therefore, passing through first with the z than being used for the z values of correspondence profile object closer to viewer
Value realizes desired result when rendering internal filled object to render display using the Digital Image Data of rearrangement.
Fig. 9 describes the Digital Image Display 900 for including land 906, and land 906 has with the first inside filled object 905
With the expressway for associating the description of outline object 906,907.With the second inside filled object 910 with associate outline object 911,912
Describe from the local highway of high speed road direction a series of exit ramps for extending.Intersected more than expressway in region 918
Three inside filled objects 915 describe local highway with outline object 916,917 is associated.In at least one embodiment, such as Fig. 6 B
The region 918 of the 3rd inside filled object 915 of alpha blended and the first inside filled object 905 as middle description.It can be seen that
What transparent effect Jing was often desirable in following example (example such as described in fig .9), in these examples, region
918 is the combination of basic aerial print and two crossing roads in basal layer stacked on top.Profile 916,917 be it is continuous,
And profile 906,907 is discontinuous, so as to visibly indicate which highway in upper cross.With 33.33% basal layer face
The inside filled object that color, 33.33% highway 905 and 33.33% highway, 915 alpha blended are associated with region 918.With region
918 association inside filled objects can alternatively 50% basal layer color, 25% highway 905 and 25% highway 915 Ah
You mix method.In either case, not with outline object alpha blended inside filled object.
Can be schemed so that lower floor is provided when using the Digital Image Data of rearrangement to render display with rendering transparent overline bridge
As the view of object.For example, can retouch having below inside 50% opaque yellow highway of 100% opaque black silhouette
Drawing tools have the green background inside 50% opaque white color highway with 100% opaque black silhouette.Using rearrangement
Digital Image Data rendered the white interior filled object of highway before correspondence profile object rendering during display.Rendered
Journey is continued by following operation：1) from from viewer away from z values green background from the beginning of, tool is rendered in background 2)
There is the inside filled object of 50% white so as to cause 50% green and 50% white and with being middle rank relative to viewer
Z values, 3) render with when comparing with white interior filled object relative to viewer further from z values black silhouette pair
As, therefore the pixel holding white associated with outline object in the boundary of object is filled with, 4) render yellow with 50%
Normal complexion is close to filled object inside the yellow of the z values of viewer, is as a result the green of background 25%, 25% white and 50% yellow,
And 5) render the black silhouette pair further from the z values of viewer with the z values than associating with filled object inside corresponding yellow
As, therefore the pixel associated with the interior section of filled object inside yellow keeps constant.Using the digital picture of rearrangement
Data are rendering result desired by Display Realization to provide transparent overline bridge.
When using the digital image data set of original layering to render display, need intermediate image to produce transparent overline bridge.
Render process is shown by following operation to continue：1) to for white road profile intermediate image in render it is thick
100% opaque black line, 2) render 50% thinner opaque white color line in intermediate image and without alpha blended, with white
Color replace lap in black, 3) with alpha blended to synthetic mesophase image in background with obtain 50% green background and
50% white road with 100% black silhouette, 4) renders in the second intermediate image associated to the profile with yellow road
100% thick opaque black silhouette object, 5) renders in the second intermediate image and fills out inside the opaque yellow of thinner 50%
Fill object and without alpha blended, replace the black silhouette object in lap with yellow, and 6) with alpha blended to
Synthesize the second intermediate image to obtain 25% green background, 25% white highway and 50% yellow highway in background.By correspondence
Render process tracking pixel continues following operation：1) background is green, 2) creates the intermediate image with green background, highway
Interior section is white, 3) the black silhouette object associated with the profile of white highway, and background for green and highway profile is
Black, 4) renders inside white road, and background is green, and middle is 50% opaque white color, the 5) intermediate image with background,
Gained highway interior section is that 50% green and 50% are white, 6) is created in 50% green and 50% white background second
Between image, 7) render the black silhouette object associated with the profile of yellow highway, as a result for 50% green and 50% white and it is black
Colour wheel is wide to be used for yellow road, 8) renders filled object inside yellow, and the result has background and internal filled object is 50%
Green and 50% white and be filled object inside 50% opaque yellow, and 9) with alpha blended synthetic mesophase image
So as to cause the lap of 25% green, 25% white and 50% yellow.
Rendered using the digital image data set of original layering and show and cause without intermediate image：1) green, 2) black, 3)
50% black, 50% white, 4) black, and 5) 50 black and 50% yellow.This is unrealized with transparent overline bridge.Similarly do not wish
The result of prestige occurs when upside-down image object is rendered, wherein using z values and using alpha blended：1) from green background and
From viewer away from corresponding z values from the beginning of, 2) add 50% yellow, be as a result 50% green, 50% yellow, resulting z value more connects
Nearly viewer, 3) renders black silhouette object further from the z values of viewer with than correspondence inside filled object, so as to cause in weight
Black is omitted in folded part, 4) white road is rendered with the z values compared with filled object inside yellow further from viewer, the knot
Fruit is the inaccessible white in lap, 5) is rendered with the z when comparing with filled object inside yellow further from viewer
Black silhouette in value, therefore the inaccessible black silhouette object in lap.The result is 50% green and 50% yellow, and
And non-alpha blended white interior filled object, this is undesirable.Even if to the higher z values of white road assignment so that
When obtaining unobstructed white road, render process is continued by following operation：1) from the green back of the body with the z values away from viewer
Scape starts, and 2) adds 50% yellow, and the result is 50% green and 50% yellow, and 3) resulting z value renders tool closer to viewer
Have further from z values black silhouette object so that the inaccessible black silhouette object in lap, 4) render to have and connect
Filled object inside the white road of the z values of nearly viewer, the result are 25% green, 25% yellow and 50% white, gained z
Value closer to viewer, and 5) render with further from z values black silhouette object so that closing in lap
Plug black silhouette object.It is desirable for yellow most strong, instead result is white.
A kind of method that per layer is not individually rendered for rendering layering Digital Image Data is extended to and is rendered in layer
The generic concept of data, wherein per layer of alpha blended for not utilizing the image object in given layer.However, by indivedual layers
Alpha blended itself is together.For example, original hierarchical image data collection and the human body with skeletal system, blood circulation etc.
Internal anatomy is associated as different layers, wherein only in each pixel rendering top object in indivedual layers, and above mutually Ah
That method mixed layer.This allows the viewer of client device for example to be transformed into 50% opacity to see behind organ by muscle
And see how they queue up, rather than only transmit muscle and another flesh below it that top muscle is seen below it
Meat, therefore the viewer of client device can not have an X-rayed organ well enough.
Can pass through to ensure any previously passed z depths for each the z-depth value for passing through in the layer more than this layer
Angle value but any z-depth value for passing through relative to superincumbent any layer of viewer is less than come many more than the identical data
It is individual by middle rendering layer.According to rendering by causing to realize desired display from finally to reverse order at first.As an example,
Can describe in display with the image object layer (that is, the conversation bubble in cartoon) for falling shade.First pass through relative
In association conversation bubble with downward and render bubble to right translation transparent black and fall shade to render.Rendering for giving
Layer all shades after, so that desired color and position render conversation bubble itself without alpha blended so that
Replaced by the corresponding part of conversation bubble completely inaccessible shadow region.By first rendering finally by and can also ensure such as
Assignment z-depth functional value as described herein is rendered realizing what this class two passed through, so that conversation bubble elder generation quilt
Render and blocking shadow is originally by the part being drawn.When shade is subsequently rendered, the moon is not rendered in those overlapping regions
Shadow, so as to give as first draw and and then blocking shadow identical appearance.
It should be appreciated that given Digital Image Data rearrangement routine can create additional character image data layer (i.e.,
3rd set, the 4th set ... etc.).For example, original Digital Image Data collection can comprising with the mankind arranged in various layers
The relevant image object of dissection.Carried according to a kind of Digital Image Data rearrangement routine of present disclosure when executed
For：The first Digital Image Data layer corresponding with " skin " object；The second Digital Image Data layer corresponding with " muscle " object；
The 3rd Digital Image Data layer corresponding with " skeleton " object；The 4th Digital Image Data layer corresponding with " nerve " object；…
Deng.
It should be appreciated that the specific example for specifically describing here and embodiment are intended to provide the best mode for realizing the present invention
Description and meet written description so that those of ordinary skill in the art can realize and use the present invention.Should in no way be by this
A little examples and embodiment are construed to limit scope of the following claims.
Claims (10)
1. a kind of computer for the original layering numeral image data set rearrangement for using when display is rendered
The method of enforcement, including：
Obtaining in computer equipment includes original hierarchical image data collection of multiple original image data layers, the plurality of original figure
It is as data Layer is arranged to be rendered to form the intermediate image before intermediate image is rendered in display, described original
Each original image data layer in image data layer is included according to the tactic multiple images object of image object in layer；
View data rearrangement routine is performed on the computer equipment, described image data resequence routine from described
Two or more original image data layer in original image data layer extracts the image object set of the first kind, and creates
The image data set of rearrangement is built for being used as the image data layer of the first rearrangement for making when display is rendered
Include the described image object of the first kind with the image data layer of, the rearrangement, the first kind it is described
Described original image of the image object according to each image object in the described image object from its extraction first kind
The mark of data Layer and according to each image object in the described image object from its extraction first kind
In the layer of original image data layer, image object order is sorted；And
The image data layer of the rearrangement is stored in the computer equipment.
2. computer-implemented method according to claim 1, wherein the plurality of original image data layer is received as
Associating with ascending order, and wherein perform described image data rearrangement routine includes the described image pair to the first kind
As rearrangement, so that the first kind of the specific original image data layer in original image data layer
All described image objects in the image data layer of the rearrangement positioned at the following first kind image object in
Before any view data：The image object of these first kind exists according to the ascending order in original image data layer
Any original image data layer in described original image data layer after specific original image data layer, and so as to
So that the described image of the first kind of described specific original image data layer in original image data layer
Each image object in object in the image data layer of the rearrangement be located at original image data layer according to
Any original view data of the ascending order in the described original image data layer before specific original image data layer
After all described image objects of layer, and the institute of each the original image data layer in wherein described original image data layer
State the layer of the described image object according to each the original image data layer in original image data layer of the first kind
The reverse order of interior image object order is located in the image data layer of the rearrangement.
3. computer-implemented method according to claim 2, wherein the described image of the first kind to as if generation
The line object of the highway in table geographical map.
4. computer-implemented method according to claim 2, wherein performing described image data rearrangement routine also
The image pair of Second Type is extracted including two or more the original image data layer from original image data layer
As set, and the Digital Image Data collection of another rearrangement is created for the view data as the second rearrangement
Layer.
5. computer-implemented method according to claim 4, wherein the described image of the first kind to as if generation
The inside filled object of the interior section of the highway in table geographical map, and the described image of Second Type represents ground to liking
The outline object of the outline portion of the highway in reason map.
6. computer-implemented method according to claim 5, also including performing z value assignment routines, the z values assignment example
The mark that original layer according to image object type, each image object position in the inner of journey and described image object are according to the layer
Original positioning of interior image object order and to described image object value z values maintaining original relative image subject depth.
7. computer-implemented method according to claim 6, also includes the image data layer using the first rearrangement
Display is performed with the second image data layer resequenced and routine is rendered to render display, wherein the display renders routine and exists
The internal filled object is rendered before the outline object, so that the internal filled object is covered in the display
Overlapping region in association outline object.
8. a kind of digital image processing system for using when image is rendered in display, including：
Communications network interface；
One or more processor；
It is coupled to the memorizer of one or more of processors；
The routine stored at least one of one or more of memorizeies memorizer, the routine is one
Or one of multiple processors are upper performs to obtain the original layering numeral image data set including multiple original image data layers,
The plurality of original image data layer is arranged to be rendered in display according to ascending order, and each original image data layer includes
According to the tactic different types of multiple images object of image object in layer；
The Digital Image Data rearrangement routine stored on one of one or more of memorizeies, when the digitized map
When being performed on one of one or more of processors as data rearrangement routine, from original layering digitized map
It is as data set extracts the first image object set of the first kind and creates the Digital Image Data collection of rearrangement, described heavy
The Digital Image Data collection of new sort includes ground floor, and the ground floor includes the image object of the first kind, wherein institute
State Digital Image Data rearrangement routine to resequence the described image object of the first kind, so that from institute
All described image objects of the first kind of specific original image data layer in original image data layer are stated described
In the Digital Image Data of rearrangement before any image object in the image object of the following first kind：These
The image object of one type is in original image data layer according to the ascending order in specific original image data layer
Any original image data layer in described original image data layer afterwards, and so that from original picture number
Each image object in the described image object of the first kind of the described specific original image data layer according to layer exists
In the Digital Image Data of the rearrangement be located at original image data layer according to the ascending order in the specific original
All described image objects of any original image data layer in described original image data layer before having image data layer
Afterwards, the described image of the first kind of each the original image data layer and in wherein described original image data layer
Object according in the layer of each the original image data layer in original image data layer image object order it is contrary
Order is located in the Digital Image Data of the rearrangement；And
The z value assignment routines stored on one of one or more of memorizeies, the z values assignment routine are being performed
When, according to each image object in the Digital Image Data of the rearrangement the rearrangement Digital Image Data
In order to described image object value z values.
9. digital image processing system according to claim 8, also includes：Client, is arranged to via communication network
Network receives the Digital Image Data collection of rearrangement, and the client device includes display device and display renders routine, described
Display renders routine and renders image using the Digital Image Data collection of the rearrangement in the display when executed.
10. a kind of digital image processing apparatus, the digital image processing apparatus for render show and not in intermediate image
In use when rendering every layer of the digital image data set of original layering, the digital image processing apparatus include：
For accessing the device of the original layering numeral image data set for including multiple original layer, the plurality of original layer is arranged
For being rendered to form the intermediate image before intermediate image is merged for the use when display is rendered, each is original
Layer includes being sorted according to ascending order according to the tactic multiple images object of image object in layer, and original layer；
For the first image object set being extracted from original layering numeral image data set, and create the number of rearrangement
The device of word image data set, the Digital Image Data collection of the rearrangement include ground floor, and the ground floor includes first
The image object of type, wherein for extracting the first image object set from original layering numeral image data set, and
The device for creating the Digital Image Data collection of rearrangement is resequenced to the described image object of the first kind, so that
Specific original layer in original layer of the first kind all described image objects in the rearrangement
View data be centrally located at any image object in the image object of the following first kind before：The figure of these first kind
As object in original image data layer according to the ascending order described in after specific original image data layer
Any original layer in original layer, and so that the first kind of described specific original layer in original layer
Each image object in the described image object of type is centrally located in original layer in the view data of the rearrangement
According to all described image objects of any original layer of the ascending order in the described original layer before specific original layer
Afterwards, the described image object of each original layer of the first kind and in wherein described original layer is according to described original
In the layer of image data layer, the reverse order of image object order is located at the view data concentration of the rearrangement；And
For relative image subject depth of the basis in original layering numeral image data set to the rearrangement
The device of each the image object assignment z value in Digital Image Data.
Applications Claiming Priority (5)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US201161546395P | 2011-10-12 | 2011-10-12 | |
US61/546,395 | 2011-10-12 | ||
US13/306,052 | 2011-11-29 | ||
US13/306,052 US8411113B1 (en) | 2011-10-12 | 2011-11-29 | Layered digital image data reordering and related digital image rendering engine |
PCT/US2012/056092 WO2013055505A1 (en) | 2011-10-12 | 2012-09-19 | Layered digital image data reordering and related digital image rendering engine |
Publications (2)
Publication Number | Publication Date |
---|---|
CN103959343A CN103959343A (en) | 2014-07-30 |
CN103959343B true CN103959343B (en) | 2017-05-03 |
Family
ID=47989818
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN201280059548.2A Active CN103959343B (en) | 2011-10-12 | 2012-09-19 | Layered digital image data reordering and related digital image rendering engine |
Country Status (9)
Country | Link |
---|---|
US (1) | US8411113B1 (en) |
EP (1) | EP2766878B1 (en) |
JP (1) | JP6008973B2 (en) |
KR (1) | KR101991470B1 (en) |
CN (1) | CN103959343B (en) |
AU (1) | AU2012321223B2 (en) |
CA (1) | CA2851049C (en) |
DE (1) | DE202012013456U1 (en) |
WO (1) | WO2013055505A1 (en) |
Families Citing this family (20)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
GB2460589B (en) * | 2007-08-31 | 2012-11-28 | Furuno Electric Co | Chart display device and method for displaying chart |
KR20120072124A (en) * | 2010-12-23 | 2012-07-03 | 한국전자통신연구원 | Method for generating indoor digital map |
JP2013118468A (en) * | 2011-12-02 | 2013-06-13 | Sony Corp | Image processing device and image processing method |
US20150029214A1 (en) * | 2012-01-19 | 2015-01-29 | Pioneer Corporation | Display device, control method, program and storage medium |
US9124635B2 (en) | 2012-11-30 | 2015-09-01 | Intel Corporation | Verified sensor data processing |
CN105247566B (en) | 2013-06-23 | 2020-10-16 | 英特尔公司 | Method, apparatus, and medium for selectively disclosing information based on context |
JP6244137B2 (en) * | 2013-08-12 | 2017-12-06 | 株式会社ジオ技術研究所 | 3D map display system |
US9823824B2 (en) * | 2013-08-19 | 2017-11-21 | Kodak Alaris Inc. | Context sensitive adaptable user interface |
KR102146557B1 (en) * | 2013-11-06 | 2020-08-21 | 삼성전자주식회사 | Method and apparatus for rendering data of web application and recording medium thereof |
US20150170617A1 (en) * | 2013-12-16 | 2015-06-18 | Kabushiki Kaisha Toshiba | Electronic device, method, and storage medium |
US20150371429A1 (en) * | 2014-02-10 | 2015-12-24 | Sigma Cubed Inc. | Method and Apparatus For Interactive 3D Visual Display of Microseismic Events |
JP5759605B1 (en) * | 2014-09-29 | 2015-08-05 | 株式会社 ディー・エヌ・エー | Image drawing apparatus and image drawing program |
US9665924B2 (en) | 2015-04-01 | 2017-05-30 | Microsoft Technology Licensing, Llc | Prioritized requesting of mapping layers |
KR102292789B1 (en) * | 2015-04-07 | 2021-08-25 | 삼성전자 주식회사 | Display apparatus and control method thereof |
KR102395023B1 (en) * | 2015-06-30 | 2022-05-06 | 현대오토에버 주식회사 | System and method for displaying of web vector map based on graphic |
JP6449180B2 (en) * | 2016-02-01 | 2019-01-09 | ベステラ株式会社 | 3D image display system, 3D image display device, 3D image display method, and 3D image display system for plant equipment |
US10296565B2 (en) * | 2017-01-18 | 2019-05-21 | International Business Machines Corporation | Optimized browser object rendering |
US10503457B2 (en) | 2017-05-05 | 2019-12-10 | Nvidia Corporation | Method and apparatus for rendering perspective-correct images for a tilted multi-display environment |
US11321914B1 (en) * | 2018-01-10 | 2022-05-03 | Amazon Technologies, Inc. | System for generating a navigational map of an environment |
CN109767466B (en) * | 2019-01-10 | 2021-07-13 | 深圳看到科技有限公司 | Picture rendering method and device, terminal and corresponding storage medium |
Citations (1)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN101415018A (en) * | 2007-10-17 | 2009-04-22 | 北京灵图软件技术有限公司 | Transmission method and system for geographical message data |
Family Cites Families (15)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
JPH07225849A (en) * | 1993-12-17 | 1995-08-22 | Hitachi Ltd | Graphics computer and line plotter |
US6034697A (en) * | 1997-01-13 | 2000-03-07 | Silicon Graphics, Inc. | Interpolation between relational tables for purposes of animating a data visualization |
US7483042B1 (en) * | 2000-01-13 | 2009-01-27 | Ati International, Srl | Video graphics module capable of blending multiple image layers |
JP2003044992A (en) * | 2001-07-31 | 2003-02-14 | Pioneer Electronic Corp | Updating method for map data in communication navigation system, and server device, recording medium and communication navigation terminal device |
JP2003185445A (en) * | 2001-12-21 | 2003-07-03 | Zenrin Co Ltd | Distribution of electronic map data for path survey through network |
US7107285B2 (en) * | 2002-03-16 | 2006-09-12 | Questerra Corporation | Method, system, and program for an improved enterprise spatial system |
US6906643B2 (en) * | 2003-04-30 | 2005-06-14 | Hewlett-Packard Development Company, L.P. | Systems and methods of viewing, modifying, and interacting with “path-enhanced” multimedia |
JP2005235041A (en) | 2004-02-23 | 2005-09-02 | Nippon Telegr & Teleph Corp <Ntt> | Retrieval image display method and retrieval image display program |
KR20060083331A (en) * | 2005-01-14 | 2006-07-20 | 엘지전자 주식회사 | Method for processing graphic data in a digital broadcasting receiver |
EP1681656A1 (en) * | 2005-01-18 | 2006-07-19 | Oculus Info Inc. | System and method for processing map data |
ITMI20070038A1 (en) | 2007-01-12 | 2008-07-13 | St Microelectronics Srl | RENDERING DEVICE FOR GRAPHICS WITH THREE DIMENSIONS WITH SORT-MIDDLE TYPE ARCHITECTURE. |
GB2460589B (en) * | 2007-08-31 | 2012-11-28 | Furuno Electric Co | Chart display device and method for displaying chart |
US20090210388A1 (en) * | 2008-02-20 | 2009-08-20 | Microsoft Corporation | Efficiently discovering and synthesizing maps from a large corpus of maps |
US8296056B2 (en) * | 2009-04-20 | 2012-10-23 | Honeywell International Inc. | Enhanced vision system for precision navigation in low visibility or global positioning system (GPS) denied conditions |
US20110193871A1 (en) | 2010-02-07 | 2011-08-11 | Microsoft Corporation | Rendering multi-layered image |
-
2011
- 2011-11-29 US US13/306,052 patent/US8411113B1/en active Active
-
2012
- 2012-09-19 AU AU2012321223A patent/AU2012321223B2/en active Active
- 2012-09-19 KR KR1020147012745A patent/KR101991470B1/en active IP Right Grant
- 2012-09-19 WO PCT/US2012/056092 patent/WO2013055505A1/en active Application Filing
- 2012-09-19 DE DE202012013456.6U patent/DE202012013456U1/en not_active Expired - Lifetime
- 2012-09-19 EP EP12839683.5A patent/EP2766878B1/en active Active
- 2012-09-19 CA CA2851049A patent/CA2851049C/en active Active
- 2012-09-19 JP JP2014535732A patent/JP6008973B2/en active Active
- 2012-09-19 CN CN201280059548.2A patent/CN103959343B/en active Active
Patent Citations (1)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN101415018A (en) * | 2007-10-17 | 2009-04-22 | 北京灵图软件技术有限公司 | Transmission method and system for geographical message data |
Also Published As
Publication number | Publication date |
---|---|
EP2766878B1 (en) | 2020-02-05 |
JP6008973B2 (en) | 2016-10-19 |
WO2013055505A1 (en) | 2013-04-18 |
US8411113B1 (en) | 2013-04-02 |
CN103959343A (en) | 2014-07-30 |
AU2012321223B2 (en) | 2018-03-15 |
AU2012321223A1 (en) | 2014-04-17 |
US20130093780A1 (en) | 2013-04-18 |
KR20140072205A (en) | 2014-06-12 |
CA2851049A1 (en) | 2013-04-18 |
EP2766878A1 (en) | 2014-08-20 |
KR101991470B1 (en) | 2019-09-30 |
CA2851049C (en) | 2020-09-22 |
JP2014534510A (en) | 2014-12-18 |
EP2766878A4 (en) | 2015-10-28 |
DE202012013456U1 (en) | 2017-01-27 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
CN103959343B (en) | Layered digital image data reordering and related digital image rendering engine | |
JP6997290B2 (en) | Map data processing methods, computer equipment and computer programs | |
Wilhelms et al. | A coherent projection approach for direct volume rendering | |
US9384596B2 (en) | Visualization of obscured objects in 3D space | |
EP1792281B1 (en) | Method and system for anti-aliasing by pixel sampling | |
US8237745B1 (en) | Label positioning technique to reduce crawling during zoom activities | |
CN104137152B (en) | Techniques for reducing memory access bandwidth in a graphics processing system based on destination alpha values | |
CN103765413B (en) | Render the text image for following lines | |
US8464170B2 (en) | 2D editing metaphor for 3D graphics | |
KR20090114860A (en) | Image presenting method and apparatus for 3D navigation, and mobile apparatus comprising the same apparatus | |
US10762669B2 (en) | Colorization of vector images | |
Graciano et al. | Real-time visualization of 3D terrains and subsurface geological structures | |
GB2357412A (en) | Geometry processing in a 3D graphics rendering pipeline | |
TW201537533A (en) | Three-dimensional map display system | |
Jenny et al. | Design principles for Swiss-style rock drawing | |
TWI552120B (en) | Three-dimensional map display system | |
Hoarau et al. | Mixing, blending, merging or scrambling topographic maps and orthoimagery in geovisualizations | |
Yue et al. | A function-based linear map symbol building and rendering method using shader language | |
JP5893142B2 (en) | Image processing apparatus and image processing method | |
Hoarau et al. | Color and texture interpolation between orthoimagery and vector data | |
Hardy et al. | Portrayal and cartography | |
US20090213111A1 (en) | Method for three-dimensional depiction of a digital road map | |
Clouston et al. | Tile-based mapping with opacity | |
Rössler | Rendering interactive maps on mobile devices using graphics hardware | |
Trantham et al. | Terrain representation using orientation |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
C06 | Publication | ||
PB01 | Publication | ||
C10 | Entry into substantive examination | ||
SE01 | Entry into force of request for substantive examination | ||
GR01 | Patent grant | ||
GR01 | Patent grant | ||
CP01 | Change in the name or title of a patent holder |
Address after: American CaliforniaPatentee after: Google limited liability companyAddress before: American CaliforniaPatentee before: Google Inc. |
|
CP01 | Change in the name or title of a patent holder |