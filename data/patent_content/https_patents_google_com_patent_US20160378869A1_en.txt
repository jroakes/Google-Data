US20160378869A1 - Utilizing user co-search behavior to identify search queries seeking inappropriate content - Google Patents
Utilizing user co-search behavior to identify search queries seeking inappropriate content Download PDFInfo
- Publication number
- US20160378869A1 US20160378869A1 US14/747,492 US201514747492A US2016378869A1 US 20160378869 A1 US20160378869 A1 US 20160378869A1 US 201514747492 A US201514747492 A US 201514747492A US 2016378869 A1 US2016378869 A1 US 2016378869A1
- Authority
- US
- United States
- Prior art keywords
- query
- queries
- search
- occurring
- content
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Granted
Links
Images
Classifications
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/30—Information retrieval; Database structures therefor; File system structures therefor of unstructured textual data
- G06F16/35—Clustering; Classification
- G06F16/355—Class or cluster creation or modification
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/90—Details of database functions independent of the retrieved data types
- G06F16/95—Retrieval from the web
- G06F16/953—Querying, e.g. by the use of web search engines
- G06F16/9535—Search customisation based on user profiles and personalisation
-
- G06F17/30867—
-
- G06F17/3071—
Definitions
- This disclosure generally relates to search engines.
- Content in the Internet may include sensitive or offensive content such as, for example, child pornography, gore scenes and images, terrorist or gang recruitment content, and spoof content. Because users may, in some cases, involuntarily receive the sensitive or offensive content, it is important to identify search queries for the sensitive or offensive content and to configure search results to limit exposure to certain types of the sensitive or offensive content.
- This disclosure generally describes a method and system for training a classifier to identify search queries seeking inappropriate sensitive or offensive content.
- an improved method to train a search query classifier may be used to develop a large database of search queries used to access inappropriate sensitive or offensive content.
- a database of well-known and frequently-used search queries for accessing inappropriate sensitive or offensive content is generated. This database is expanded by identifying additional search queries received from a user within a preset time period of the user submitting one of the well-known and frequently-used search queries. The additional search queries received from a user are further evaluated to determine if they are likely associated with inappropriate sensitive or offensive content. Any additional search queries determined to be likely associated with inappropriate sensitive or offensive content are added to the database of well-known and frequently-used search queries for accessing inappropriate sensitive or offensive content.
- This expanded database of search queries can be used to train a search query classifier and modify search results provided in response to search queries seeking inappropriate sensitive or offensive content.
- An advantage of the method and system according to the implementations described herein is that a large database of terms can be acquired with minimal human input and used to train a search query classifier.
- Non-transitory computer-readable storage medium that includes instructions, which, when executed by one or more computers, cause the one or more computers to perform actions.
- the actions include obtaining one or more reference queries that are associated with a particular type of content and identifying a set of co-occurring queries that co-occur with any of the one or more reference queries in a collection of search queries received by a search engine. For each of the co-occurring queries, the co-occurring query is classified as (i) a candidate query, or (ii) not a candidate query.
- One or more queries of the candidate queries are determined to be likely associated with the particular type of content and provided as training data for training a classifier.
- each of the one or more reference queries that are associated with the particular type of content includes two or more terms associated with the particular type of content.
- the action of identifying the set of co-occurring queries that co-occur with any of the one or more reference queries in the collection of search queries received by the search engine includes determining, for each co-occurring query, that the co-occurring query is received by the search engine within a determined time period of any reference query being received.
- the action of identifying the set of co-occurring queries that co-occur with any of the one or more reference queries in the collection of search queries received by the search engine includes one or more actions. These one or more actions include receiving an indication that a search query is associated with the subset of the particular type of content, and receiving an indication that a search query is received by the search engine a number of times that satisfies a particular threshold.
- the action of classifying the co-occurring query as a candidate query based at least on the co-occurrence value includes determining that a co-occurrence value associated with the co-occurring query satisfies a co-occurrence threshold.
- the co-occurrence value is determined based on (i) a number of occurrences of the co-occurring query in the collection of the search queries received by the search engine, and (ii) a number of co-occurrences of the co-occurring query with any reference query in the collection of the search queries received by the search engine.
- the action of determining that one or more queries of the candidate queries is likely associated with the particular type of content includes determining that the one or more queries of the candidate queries satisfies one or more criteria.
- the one or more criteria includes one or more of: (i) determining that any reference query in the collection of the search queries is received, by the search engine from the same user, within a determined time period before or after the candidate query; (ii) determining that the candidate query is not associated with appropriate sensitive content and appropriate offensive content; and (iii) determining that the candidate query was received from the same user once in a calendar day.
- the one or more computers are further configured to perform actions including receiving a search query from a user, determining that the search query from the user includes the one or more candidate queries that are classified as likely associated with the particular type of content, and modifying search results obtained in response to receiving the search query from the user.
- a computer-implemented method includes actions of obtaining a first set of seed terms related to a particular type of content, obtaining a second set of seed terms related to a subset of the particular type of content, identifying a set of search queries that include one or more terms from the first set of seed terms and one or more terms from the second set of seed terms, and classifying one or more queries of the identified set of search queries as reference queries.
- the reference queries are associated with the subset of the particular type of content. For each of the reference queries that are associated with the subset of the particular type of content, a set of co-occurring queries that co-occur with any reference query in a collection of search queries received by a search engine is identified.
- the actions of the computer-implemented method further include determining, for each of the co-occurring queries in the set of the co-occurring queries: (i) a number of occurrences of the co-occurring query in the collection of the search queries received by the search engine; and (ii) a number of co-occurrences of the co-occurring query with any reference query in the collection of the search queries received by the search engine.
- a co-occurrence value is determined based on (i) the number of occurrences of the co-occurring query in the collection of the search queries received by the search engine, and (ii) the number of co-occurrences of the co-occurring query with any reference query in the collection of the search queries received by the search engine.
- the co-occurring query is classified as (i) a candidate query, or (ii) not a candidate query, based at least on the co-occurrence value.
- the actions of the computer-implemented method further include determining, for each candidate query, whether the candidate query satisfies one or more criteria associated with selecting queries that are likely associated with the subset of the particular type of content.
- Each candidate query is classified as (i) likely associated with the subset of the particular type of content, or (ii) unlikely to be associated with the subset of the particular type of content, based at least on whether the candidate query is determined to satisfy the one or more criteria.
- One or more candidate queries that are classified as likely associated with the particular subset of the particular type of content are provided as training data for training a classifier.
- a system includes one or more computers and one or more storage devices storing instructions that are operable and when executed by one or more computers, cause the one or more computers to perform actions.
- the actions include obtaining a first set of seed terms related to a particular type of content, obtaining a second set of seed terms related to a subset of the particular type of content, identifying a set of search queries that include one or more terms from the first set of seed terms and one or more terms from the second set of seed terms, and classifying one or more queries of the identified set of search queries as reference queries.
- the reference queries are associated with the subset of the particular type of content.
- a set of co-occurring queries that co-occur with any reference query in a collection of search queries received by a search engine is identified.
- the actions of the computer-implemented method further include determining, for each of the co-occurring queries in the set of the co-occurring queries: (i) a number of occurrences of the co-occurring query in the collection of the search queries received by the search engine; and (ii) a number of co-occurrences of the co-occurring query with any reference query in the collection of the search queries received by the search engine.
- a co-occurrence value is determined based on (i) the number of occurrences of the co-occurring query in the collection of the search queries received by the search engine, and (ii) the number of co-occurrences of the co-occurring query with any reference query in the collection of the search queries received by the search engine.
- the co-occurring query is classified as (i) a candidate query, or (ii) not a candidate query, based at least on the co-occurrence value.
- the actions of the computer-implemented method further include determining, for each candidate query, whether the candidate query satisfies one or more criteria associated with selecting queries that are likely associated with the subset of the particular type of content.
- Each candidate query is classified as (i) likely associated with the subset of the particular type of content, or (ii) unlikely to be associated with the subset of the particular type of content, based at least on whether the candidate query is determined to satisfy the one or more criteria.
- One or more candidate queries that are classified as likely associated with the particular subset of the particular type of content are provided as training data for training a classifier.
- the action of identifying a set of search queries that include one or more terms from the first set of seed terms and one or more terms from the second set of seed terms includes one or more actions. These actions include receiving an indication that a search query is associated with the subset of the particular type of content, and receiving an indication that a search query is received by the search engine a number of times that satisfies a particular threshold.
- the action of determining, for each of the co-occurring queries in the set of the co-occurring queries, a number of co-occurrences of the co-occurring query with any reference query of the one or more reference queries in the collection of the search queries received by the search engine includes an action of determining a number of times the co-occurring query is received by the search engine within a particular time period before or after a time at which any reference query in the collection of the search queries is received by the search engine.
- classifying each of the co-occurring queries as a candidate query based at least on the co-occurrence value includes determining, for each co-occurring query, that the co-occurrence value associated with the co-occurring query satisfies a co-occurrence threshold.
- the one or more criteria includes one or more of: (i) determining that any reference query in the collection of the search queries is received, by the search engine from the same user, within a determined time period before or after the candidate query; (ii) determining that the candidate query is not associated with appropriate sensitive content and appropriate offensive content; and (iii) determining that the candidate query was received from the same user once in a calendar day.
- a search query from a user is received.
- the search query from the user is determined to include the one or more candidate queries that are classified as likely associated with the subset of the particular type of content, and search results obtained in response to receiving the search query from the user are modified.
- the action of modifying the search results obtained in response to receiving the search query from the user includes one or more actions. These actions include removing, from the search results, content associated with the subset of the particular type of content, and decreasing, in the search results, a ranking of a resource that includes the content associated with the subset of the particular type of content.
- the action of classifying, for each of the co-occurring queries, the co-occurring query as (i) a candidate query, or (ii) not a candidate query, based at least on the co-occurrence value includes determining whether the co-occurrence value of the co-occurring query is within a determined proximity threshold of satisfying a candidate threshold.
- a verification action to verify that the co-occurring query is associated with the subset of the particular type of content is performed.
- the co-occurring query is classified as a candidate query based on verifying that the co-occurring query is associated with the subset of the particular type of content.
- one or more queries related to the candidate query are generated using modifications of the candidate query.
- the modifications of the candidate query include one or more of: (i) a modified spelling of the candidate query, (ii) an incorrect spelling of the candidate query, and (iii) one or more character n-grams of the candidate query.
- the one or more queries related to the candidate query that is classified as likely associated with the particular subset of the particular type of content are provided as training data for training the classifier.
- a classification input associated with one or more of the candidate queries that are classified as likely associated with the particular subset of the particular type of content is received.
- the one or more of the candidate queries are classified according to the received classification input and provided as training data for training the classifier.
- FIG. 1 depicts a flowchart illustrating a method for training a classifier to identify search queries seeking inappropriate sensitive or offensive content.
- FIG. 2 depicts a flowchart illustrating a method for the operation in FIG. 1 to obtain seed terms and queries.
- FIG. 3 depicts a flowchart illustrating a method for the operation in FIG. 1 of labelling a co-occurring query.
- FIG. 4 depicts a flowchart illustrating a method for displaying search results using the trained classifier.
- FIG. 5 depicts a block diagram illustrating a system for training a classifier to identify search queries seeking inappropriate sensitive or offensive content.
- This disclosure generally describes a method and system for training a classifier to identify search queries seeking inappropriate sensitive or offensive content. Some implementations of the method are described in FIGS. 2-4 .
- initially seed terms and queries are obtained ( 110 ).
- a collection of a first set of seed terms related to a particular content type ( 210 ) and a collection of a second set of seed terms related to a subset of the particular content type ( 220 ) may be obtained.
- the particular content type may be a content type selected from any subject matter of interest.
- the subject matter of interest may be determined by an administrator of the search query classifier.
- the particular content may generally relate to children, and the first set of seed terms may be any term associated with children.
- this first set of seed terms may include, for example, terms such as “teen,” “teenager,” “kindergarten,” and “infant.” It should be understood that various terms associated with a particular content may be obtained, and that the association of terms with particular content may change over time.
- the subset of particular content type may include one or more subject matter categories of inappropriate sensitive or offensive content associated with the particular content type.
- the subset of particular content may generally relate to violence
- the second set of seed terms may be any term associated with violence.
- this second set of seed terms may include, for example, terms such as “gun,” “rifle,” “bomb,” and “gang.”
- the subset of particular content may generally relate to pornography
- the second set of seed terms may be any term associated with pornography.
- the second set of seed terms may include, for example, terms such as “porn,” “rape,” and “sex.”
- terms associated with the subset of particular content may be obtained, and that the association of terms with subset of particular content may change over time.
- search queries that include one or more terms of the first set of seed terms and one or more terms of the second set of seed terms are identified ( 230 ).
- Various suitable methods may be used to identify the search queries that include one or more terms of the first set of seed terms and one or more terms of the second set of seed terms.
- search logs or databases of search query entries may be searched using, for example, a keyword match, to identify search query entries in the search logs or the databases of search entries with terms that match one or more terms of the first set of seed terms and one or more terms of the second set of seed terms.
- the identified search query entries are extracted from the search logs or the databases of search entries for further processing.
- a search frequency of the identified search query entries is determined and only the identified search query entries that have been searched a number of times that satisfies a particular threshold are extracted. For example, in some cases, only search entries that have been searched a threshold number of times during a particular time period using a particular search engine are extracted. In some cases, only the top ranking identified search query entries (e.g., top 10, top 100, top 500) ranked based on search frequency are extracted.
- the extracted search query entries are classified as reference queries if, upon verification, the extracted search query entries are determined to be related to the subset of particular content ( 240 ).
- various suitable verification methods may be used.
- a filter, algorithm, or combination thereof may be used to determine a context of the extracted search query entries, a meaning of the extracted search query entries, and/or an application of the extracted search query entries. If the context, meaning, and/or application of an extracted search query entry is determined to be related to the subset of particular content, the extracted search query entry is classified as a reference query.
- human review may be used to verify whether the extracted search query entries are related to the subset of the particular content. If an extracted search query entry is determined to be related to the subset of the particular content, the extracted search query entry is classified as a reference query.
- Co-occurring queries are queries that have been submitted by users of a search engine within a determined period of time of a reference query.
- the determined period of time may be any suitable time configured by an administrator of the search query classifier.
- the determined period of time may be, for example, 2 minutes, 5 minutes, 10 minutes, 30 minutes, or 1 hour.
- the determined period of time may include time before or after a reference query was submitted to the search engine. In some implementations, the determined period of time may be empirically determined.
- any suitable method may be used to identify the one or more co-occurring queries.
- search logs of the search engine or other databases of search queries may be examined and queries co-occurring with a reference query may be identified.
- a particular count of the number of times a query co-occurs with a particular reference query is determined.
- a reference count of the number of times a query co-occurs with any reference query and a cumulative count of the number of times a query is entered or listed in the search log or databases of search queries.
- the reference count and the cumulative count may be used to determine a co-occurrence value ( 130 ).
- the co-occurrence value may be a ratio of the reference count to the cumulative count.
- a query “where to purchase guns” may be received by a search engine one thousand times a day, and may co-occur with reference queries (e.g., “Columbine shooting anniversary,” “school shooting”) a hundred times a day. Accordingly, the query “where to purchase guns” would have a 100 to 1000 or 10% co-occurrence value.
- a query “child sex” may occur ten thousand times a day, and may co-occur with reference queries (e.g., “teen rape”) six hundred times a day. Accordingly, the query “child sex” would have a 600 to 10,000 or 6% co-occurrence value.
- the co-occurrence value is compared with a determined co-occurrence threshold to determine if the co-occurrence value for a co-occurring query satisfies the determined co-occurrence threshold ( 140 ).
- the co-occurring query is labeled as unlikely associated with the subset of particular content and is not added to training data for the search query classifier ( 150 ).
- the co-occurring query may be further verified.
- the further verification may include any suitable type of verification, such as a human review, to verify whether the co-occurring query is associated with the subset of particular content. If the further verification indicates that the co-occurring query is associated with the subset of particular content, the co-occurring query is assigned a label if the co-occurring query satisfies a criteria ( 160 ).
- the determined proximity may be set by an administrator of the search query classifier. For example, the determined proximity may be set to a threshold range (e.g., within 5 percent or 2 percent) of the co-occurrence threshold.
- the co-occurring query is assigned a label if the co-occurring query satisfies a criteria ( 160 ).
- a criteria An explanation of the criteria is provided in FIG. 3 .
- a search record of the co-occurring query is examined to determine if the same user issued the co-occurring query earlier on the same calendar day ( 310 ). If the same user issued the co-occurring query earlier on the same calendar day, the co-occurring query is not added as training data for the search query classifier ( 150 ).
- the search record of the co-occurring query is further examined to determine if the same user issued a reference query within the determined time period of entering the co-occurring query in the search query ( 320 ).
- the co-occurring query is not added as training data for the search query classifier ( 150 ). If the same user did issue a reference query within the determined time period of entering the co-occurring query in the search query, the co-occurring query is further examined to determine if the co-occurring query includes or is related to appropriate offensive content or appropriate sensitive content ( 330 ).
- the administrator of the search query classifier may control the classification of content into different categories, such as, for example, appropriate sensitive content, inappropriate sensitive content, appropriate offensive content, and inappropriate offensive content.
- appropriate sensitive content such as “how to shoot my classmates”
- school shooting may be classified as appropriate sensitive content.
- queries such as “preteen sex” may be classified as inappropriate sensitive content and inappropriate offensive content
- “sex” or “pornography” may be classified as appropriate sensitive content and appropriate offensive content.
- training data associated with the co-occurring query is not added as training data for the search query classifier ( 150 ). If the co-occurring query includes or is related to inappropriate offensive content or inappropriate sensitive content, the co-occurring query is labeled as likely associated with the subset of particular content. The labeled co-occurring query is then provided to the search query classifier as training data for queries associated with the subset of particular content ( 170 ).
- a labelled co-occurring query may be expanded to multiple queries that are similar but not identical.
- the multiple queries may be generated through various types of modifications of the labelled co-occurring query and added as training data along with the labelled co-occurring query. For example, in some cases, a modified or incorrect spelling of the labelled co-occurring query may be generated.
- a labelled co-occurring query may be split into one or more character-ngrams to generate multiple queries associated with the labelled co-occurring query.
- the multiple queries generated and added as training data increase the amount of training data and may result in the search query classifier being robust against common variations of queries associated with the subset of particular content.
- the trained search query classifier may be calibrated by sampling queries with different classifications and confidences and presenting the queries to human operators for classification. If a classification of a query by the search query classifier systematically disagrees with a classification of the query by human operators, a classification of the query may be corrected by a monotonic transformation function that maps the search query classifier's confidence values to those obtained from human operators.
- the search query classifier may configure a search engine to modify search results in response to search queries that include the labeled co-occurring queries. Search engine receipt and output of data is described with reference to FIGS. 4 and 5 .
- a search engine may receive a search query from a user ( 410 ). The search engine may determine if one or more terms in the received search query correspond to a query likely associated with a subset of particular content ( 420 ).
- the search engine may determine that the submitted query corresponds to a query likely associated with a subset (e.g., child violence) of particular content for which the search query classifier has been trained in.
- a user may submit a query “naughty children.”
- the search engine may determine that the submitted query does not correspond to a query likely associated with a subset of particular content for which the search query classifier has been trained in.
- the search engine retrieves resources from a database and provides search results in response to the search query ( 430 ).
- the search engine may determine user behavior or preferences ( 440 ).
- the search engine may use various suitable techniques to determine user behavior or preferences.
- the user behavior or preferences may include data indicative of subject matter, web pages, videos, images, and, in general, any content the user may be interested in obtaining information about.
- the search engine may search the user's current or previous search session logs and, based on previously-submitted queries, determine user behavior or preferences.
- the search engine may search the user's current search session log and, based on search results (e.g., images, links) selected by the user, determine user behavior or preferences.
- search results e.g., images, links
- a user may have provided an input, such as an activation of a filter (e.g., spoof content filter, pornography filter, under 18 filter, etc.) or button in the browser.
- a filter e.g., spoof content filter, pornography filter, under 18 filter, etc.
- the search engine may determine user behavior or preferences.
- the search engine determines if the user is interested in inappropriate offensive content or inappropriate sensitive content ( 450 ). For example, if the user has activated a child-lock or a filter (e.g., pornography filter, violent content filter), the search engine may determine that the user is not interested in search results that include inappropriate offensive content or inappropriate sensitive content. In another example, if the user has a history of viewing inappropriate offensive or sensitive content, the search engine may determine that the user is interested in search results that include inappropriate offensive or sensitive content.
- a filter e.g., pornography filter, violent content filter
- the search engine may modify the search results provided to the user ( 460 ). In some implementations, the search engine may modify the search results by decreasing the rank of resources that include inappropriate offensive or sensitive content. In some implementations, the search engine may suppress resources that include inappropriate offensive or sensitive content from the search results.
- the search engine may provide search results without modifications ( 430 ).
- the search results may be modified by decreasing the ranking of resources that include inappropriate offensive or sensitive content to thereby limit the exposure of inappropriate offensive or sensitive content. For example, if the search engine has determined that the user is interested in search results that include inappropriate offensive or sensitive content such as child pornography, the search results may be modified such that child pornography content is suppressed (e.g., remove link to resource related to child pornography from search results, significantly lower ranking of resource related to child pornography) and, in some cases, not provided for a user.
- FIG. 5 depicts a block diagram illustrating a system 500 for implementing the training method described hereinabove.
- a user may access a search system 530 via network 520 using a user device 510 .
- User device 510 may be any suitable electronic device such as a personal computer, a mobile telephone, a smart phone, a smart watch, a smart TV, a mobile audio or video player, a game console, or a combination of one or more of these devices.
- the user device 510 may be a wired or wireless device capable of browsing the Internet and providing a user with search results.
- the user device 510 may include various components such as a memory, a processor, a display, and input/output units.
- the input/output units may include, for example, a transceiver which can communicate with network 520 to send one or more search queries 5010 and receive one or more search results 5020 .
- the display may be any suitable display including, for example, liquid crystal displays, light emitting diode displays.
- the display may display search results 5020 received from the search system 530 .
- the network 520 may include one or more networks that provide network access, data transport, and other services to and from user device 510 .
- the one or more networks may include and implement any commonly defined network architectures including those defined by standards bodies, such as the Global System for Mobile communication (GSM) Association, the Internet Engineering Task Force (IETF), and the Worldwide Interoperability for Microwave Access (WiMAX) forum.
- GSM Global System for Mobile communication
- IETF Internet Engineering Task Force
- WiMAX Worldwide Interoperability for Microwave Access
- the one or more networks may implement one or more of a GSM architecture, a General Packet Radio Service (GPRS) architecture, a Universal Mobile Telecommunications System (UMTS) architecture, and an evolution of UMTS referred to as Long Term Evolution (LTE).
- GSM Global System for Mobile communication
- IETF Internet Engineering Task Force
- WiMAX Worldwide Interoperability for Microwave Access
- the one or more networks may implement one or more of a GSM architecture, a General Packet Radio Service (
- the one or more networks may implement a WiMAX architecture defined by the WiMAX forum or a Wireless Fidelity (WiFi) architecture.
- the one or more networks may include, for instance, a local area network (LAN), a wide area network (WAN), the Internet, a virtual LAN (VLAN), an enterprise LAN, a layer 3 virtual private network (VPN), an enterprise IP network, or any combination thereof.
- the one or more networks may include one or more databases, access points, servers, storage systems, cloud systems, and modules.
- the one or more networks may include at least one server, which may include any suitable computing device coupled to the one or more networks, including but not limited to a personal computer, a server computer, a series of server computers, a mini computer, and a mainframe computer, or combinations thereof.
- the at least one server may be a web server (or a series of servers) running a network operating system, examples of which may include but are not limited to Microsoft® Windows® Server, Novell® NetWare®, or Linux®.
- the at least one server may be used for and/or provide cloud and/or network computing.
- the server may have connections to external systems providing messaging functionality such as e-mail, SMS messaging, text messaging, and other functionalities, such as advertising services, search services, etc.
- data may be sent and received using any technique for sending and receiving information including, but not limited to, using a scripting language, a remote procedure call, an email, an application programming interface (API), Simple Object Access Protocol (SOAP) methods, Common Object Request Broker Architecture (CORBA), HTTP (Hypertext Transfer Protocol), REST (Representational State Transfer), any interface for software components to communicate with each other, using any other known technique for sending information from a one device to another, or any combination thereof.
- API application programming interface
- SOAP Simple Object Access Protocol
- CORBA Common Object Request Broker Architecture
- HTTP Hypertext Transfer Protocol
- REST Real State Transfer
- the search system 530 can be implemented, at least in part, as, for example, computer script running on one or more servers in one or more locations that are coupled to each other through network 520 .
- the search system 530 includes an index database 550 and a search engine 570 , which includes a classifier 560 , an index engine 580 and a ranking engine 590 .
- the index database 550 stores indexed resources found in a corpus, which is a collection or repository of resources.
- the resources may include, for example, web pages, images, or news articles.
- the resources may include resources on the Internet. While one index database 550 is shown, in some implementations, multiple index databases can be built and used.
- the index engine 580 indexes resources in the index database 550 using any suitable technique.
- the index engine 580 receives information about the contents of resources, e. g., tokens appearing in the resources that are received from a web crawler, and indexes the resources by storing index information in the index database 550 .
- the search engine 570 uses the index database 550 to identify resources that match a search query 5010 .
- the ranking engine 590 ranks resources that match a search query 5010 .
- the ranking engine 590 may rank the resources using various suitable techniques.
- the search engine 570 transmits one or more search results 5020 through the network 520 to the user device 510 .
- the search engine 570 provides search results 5020 to the user device 510 according to the method of providing search results depicted in FIG. 4 .
- Classifier 560 may include one or more search query classifiers.
- the search query classifier 560 may be trained according to the method of training a search query classifier depicted in FIGS. 1-3 .
- the classifier 560 may classify search queries as likely seeking a subset of a particular content or as unlikely seeking a subset of a particular content.
- a user device 510 can connect to the search system 530 to submit a query 5010 .
- the submitted query 5010 is transmitted through network 520 to the search system 530 .
- the search system 530 responds to the query 5010 by generating search results 5020 , which are transmitted through the network 520 to the user device 510 in a form that can be presented to the user (e.g., as a search results web page to be displayed in a web browser running on the user device 510 ).
- the search engine 570 may classify the search query 5010 using classifier 560 and identify relevant resources (i.e., resources matching or satisfying classified query). Based on the classification of the received search query 5010 and identified relevant resources, the search engine 570 may provide search results 5020 as described above with respect to FIGS. 1-3 .
- An advantage of the method described hereinabove is that a large database of query terms can be obtained and continuously updated with minimal human input. This large database of query terms can be used to train a search query classifier to detect queries seeking inappropriate sensitive or offensive content.
- Embodiments and all of the functional operations and/or actions described in this specification may be implemented in digital electronic circuitry, or in computer software, firmware, or hardware, including the structures disclosed in this specification and their structural equivalents, or in combinations of one or more of them.
- Embodiments may be implemented as one or more computer program products, e.g., one or more modules of computer program instructions encoded on a computer readable medium for execution by, or to control the operation of, data processing apparatus.
- the computer readable medium may be a machine-readable storage device, a machine-readable storage substrate, a memory device, a composition of matter effecting a machine-readable propagated signal, or a combination of one or more of them.
- data processing apparatus encompasses all apparatus, devices, and machines for processing data, including by way of example a programmable processor, a computer, or multiple processors or computers.
- the apparatus may include, in addition to hardware, code that creates an execution environment for the computer program in question, e.g., code that constitutes processor firmware, a protocol stack, a database management system, an operating system, or a combination of one or more of them.
- a propagated signal is an artificially generated signal, e.g., a machine-generated electrical, optical, or electromagnetic signal that is generated to encode information for transmission to suitable receiver apparatus.
- a computer program (also known as a program, software, software application, script, or code) may be written in any form of programming language, including compiled or interpreted languages, and it may be deployed in any form, including as a standalone program or as a module, component, subroutine, or other unit suitable for use in a computing environment.
- a computer program does not necessarily correspond to a file in a file system.
- a program may be stored in a portion of a file that holds other programs or data (e.g., one or more scripts stored in a markup language document), in a single file dedicated to the program in question, or in multiple coordinated files (e.g., files that store one or more modules, sub programs, or portions of code).
- a computer program may be deployed to be executed on one computer or on multiple computers that are located at one site or distributed across multiple sites and interconnected by a communication network.
- the processes and logic flows described in this specification may be performed by one or more programmable processors executing one or more computer programs to perform actions by operating on input data and generating output.
- the processes and logic flows may also be performed by, and apparatus may also be implemented as, special purpose logic circuitry, e.g., an FPGA (field programmable gate array) or an ASIC (application specific integrated circuit).
- FPGA field programmable gate array
- ASIC application specific integrated circuit
- processors suitable for the execution of a computer program include, by way of example, both general and special purpose microprocessors, and any one or more processors of any kind of digital computer.
- a processor will receive instructions and data from a read only memory or a random access memory or both.
- Elements of a computer may include a processor for performing instructions and one or more memory devices for storing instructions and data.
- a computer will also include, or be operatively coupled to receive data from or transfer data to, or both, one or more mass storage devices for storing data, e.g., magnetic, magneto optical disks, or optical disks.
- mass storage devices for storing data, e.g., magnetic, magneto optical disks, or optical disks.
- a computer may not have such devices.
- a computer may be embedded in another device, e.g., a tablet computer, a mobile telephone, a personal digital assistant (PDA), a mobile audio player, a Global Positioning System (GPS) receiver, to name just a few.
- PDA personal digital assistant
- GPS Global Positioning System
- Computer-readable media suitable for storing computer program instructions and data include all forms of non-volatile memory, media and memory devices, including by way of example semiconductor memory devices, e.g., EPROM, EEPROM, and flash memory devices; magnetic disks, e.g., internal hard disks or removable disks; magneto optical disks; and CD ROM and DVD-ROM disks.
- semiconductor memory devices e.g., EPROM, EEPROM, and flash memory devices
- magnetic disks e.g., internal hard disks or removable disks
- magneto optical disks e.g., CD ROM and DVD-ROM disks.
- the processor and the memory may be supplemented by, or incorporated in, special purpose logic circuitry.
- embodiments may be implemented on one or more computers having a display device, e.g., a cathode ray tube (CRT), liquid crystal display (LCD), or light emitting diode (LED) monitor, for displaying information to the user and a keyboard and a pointing device, e.g., a mouse or a trackball, by which the user may provide input to the computer.
- a display device e.g., a cathode ray tube (CRT), liquid crystal display (LCD), or light emitting diode (LED) monitor
- a keyboard and a pointing device e.g., a mouse or a trackball
- Other kinds of devices may be used to provide for interaction with a user as well; for example, feedback provided to the user may be any form of sensory feedback, e.g., visual feedback, auditory feedback, or tactile feedback; and input from the user may be received in any form, including acoustic, speech, or tactile input.
- Embodiments may be implemented in a computing system that includes a back end component, e.g., as a data server, or that includes a middleware component, e.g., an application server, or that includes a front end component, e.g., a client computer having a graphical user interface or a Web browser through which a user may interact with an implementation, or any combination of one or more such back end, middleware, or front end components.
- the components of the system may be interconnected by any form or medium of digital data communication, e.g., a communication network.
- the computing system may include clients and servers.
- a client and server are generally remote from each other and typically interact through a communication network.
- the relationship of client and server arises by virtue of computer programs running on the respective computers and having a client-server relationship to each other.
Abstract
Description
- This disclosure generally relates to search engines.
- Internet users can search for various types of content using search engines. Content in the Internet may include sensitive or offensive content such as, for example, child pornography, gore scenes and images, terrorist or gang recruitment content, and spoof content. Because users may, in some cases, involuntarily receive the sensitive or offensive content, it is important to identify search queries for the sensitive or offensive content and to configure search results to limit exposure to certain types of the sensitive or offensive content.
- This disclosure generally describes a method and system for training a classifier to identify search queries seeking inappropriate sensitive or offensive content.
- According to implementations, an improved method to train a search query classifier may be used to develop a large database of search queries used to access inappropriate sensitive or offensive content. A database of well-known and frequently-used search queries for accessing inappropriate sensitive or offensive content is generated. This database is expanded by identifying additional search queries received from a user within a preset time period of the user submitting one of the well-known and frequently-used search queries. The additional search queries received from a user are further evaluated to determine if they are likely associated with inappropriate sensitive or offensive content. Any additional search queries determined to be likely associated with inappropriate sensitive or offensive content are added to the database of well-known and frequently-used search queries for accessing inappropriate sensitive or offensive content. This expanded database of search queries can be used to train a search query classifier and modify search results provided in response to search queries seeking inappropriate sensitive or offensive content. An advantage of the method and system according to the implementations described herein is that a large database of terms can be acquired with minimal human input and used to train a search query classifier.
- Innovative aspects of the subject matter described in this specification may, in some implementations, be a non-transitory computer-readable storage medium that includes instructions, which, when executed by one or more computers, cause the one or more computers to perform actions. The actions include obtaining one or more reference queries that are associated with a particular type of content and identifying a set of co-occurring queries that co-occur with any of the one or more reference queries in a collection of search queries received by a search engine. For each of the co-occurring queries, the co-occurring query is classified as (i) a candidate query, or (ii) not a candidate query. One or more queries of the candidate queries are determined to be likely associated with the particular type of content and provided as training data for training a classifier.
- In some implementations, each of the one or more reference queries that are associated with the particular type of content includes two or more terms associated with the particular type of content.
- In some implementations, the action of identifying the set of co-occurring queries that co-occur with any of the one or more reference queries in the collection of search queries received by the search engine includes determining, for each co-occurring query, that the co-occurring query is received by the search engine within a determined time period of any reference query being received.
- In some implementations, the action of identifying the set of co-occurring queries that co-occur with any of the one or more reference queries in the collection of search queries received by the search engine, includes one or more actions. These one or more actions include receiving an indication that a search query is associated with the subset of the particular type of content, and receiving an indication that a search query is received by the search engine a number of times that satisfies a particular threshold.
- In some implementations, for each of the co-occurring queries, the action of classifying the co-occurring query as a candidate query based at least on the co-occurrence value includes determining that a co-occurrence value associated with the co-occurring query satisfies a co-occurrence threshold. The co-occurrence value is determined based on (i) a number of occurrences of the co-occurring query in the collection of the search queries received by the search engine, and (ii) a number of co-occurrences of the co-occurring query with any reference query in the collection of the search queries received by the search engine.
- In some implementations, the action of determining that one or more queries of the candidate queries is likely associated with the particular type of content, includes determining that the one or more queries of the candidate queries satisfies one or more criteria. The one or more criteria includes one or more of: (i) determining that any reference query in the collection of the search queries is received, by the search engine from the same user, within a determined time period before or after the candidate query; (ii) determining that the candidate query is not associated with appropriate sensitive content and appropriate offensive content; and (iii) determining that the candidate query was received from the same user once in a calendar day.
- In some implementations, the one or more computers are further configured to perform actions including receiving a search query from a user, determining that the search query from the user includes the one or more candidate queries that are classified as likely associated with the particular type of content, and modifying search results obtained in response to receiving the search query from the user.
- In some implementations, a computer-implemented method includes actions of obtaining a first set of seed terms related to a particular type of content, obtaining a second set of seed terms related to a subset of the particular type of content, identifying a set of search queries that include one or more terms from the first set of seed terms and one or more terms from the second set of seed terms, and classifying one or more queries of the identified set of search queries as reference queries. The reference queries are associated with the subset of the particular type of content. For each of the reference queries that are associated with the subset of the particular type of content, a set of co-occurring queries that co-occur with any reference query in a collection of search queries received by a search engine is identified. The actions of the computer-implemented method further include determining, for each of the co-occurring queries in the set of the co-occurring queries: (i) a number of occurrences of the co-occurring query in the collection of the search queries received by the search engine; and (ii) a number of co-occurrences of the co-occurring query with any reference query in the collection of the search queries received by the search engine. For each of the co-occurring queries, a co-occurrence value is determined based on (i) the number of occurrences of the co-occurring query in the collection of the search queries received by the search engine, and (ii) the number of co-occurrences of the co-occurring query with any reference query in the collection of the search queries received by the search engine. For each of the co-occurring queries, the co-occurring query is classified as (i) a candidate query, or (ii) not a candidate query, based at least on the co-occurrence value. The actions of the computer-implemented method further include determining, for each candidate query, whether the candidate query satisfies one or more criteria associated with selecting queries that are likely associated with the subset of the particular type of content. Each candidate query is classified as (i) likely associated with the subset of the particular type of content, or (ii) unlikely to be associated with the subset of the particular type of content, based at least on whether the candidate query is determined to satisfy the one or more criteria. One or more candidate queries that are classified as likely associated with the particular subset of the particular type of content are provided as training data for training a classifier.
- In some implementations, a system includes one or more computers and one or more storage devices storing instructions that are operable and when executed by one or more computers, cause the one or more computers to perform actions. The actions include obtaining a first set of seed terms related to a particular type of content, obtaining a second set of seed terms related to a subset of the particular type of content, identifying a set of search queries that include one or more terms from the first set of seed terms and one or more terms from the second set of seed terms, and classifying one or more queries of the identified set of search queries as reference queries. The reference queries are associated with the subset of the particular type of content. For each of the reference queries that are associated with the subset of the particular type of content, a set of co-occurring queries that co-occur with any reference query in a collection of search queries received by a search engine is identified. The actions of the computer-implemented method further include determining, for each of the co-occurring queries in the set of the co-occurring queries: (i) a number of occurrences of the co-occurring query in the collection of the search queries received by the search engine; and (ii) a number of co-occurrences of the co-occurring query with any reference query in the collection of the search queries received by the search engine. For each of the co-occurring queries, a co-occurrence value is determined based on (i) the number of occurrences of the co-occurring query in the collection of the search queries received by the search engine, and (ii) the number of co-occurrences of the co-occurring query with any reference query in the collection of the search queries received by the search engine. For each of the co-occurring queries, the co-occurring query is classified as (i) a candidate query, or (ii) not a candidate query, based at least on the co-occurrence value. The actions of the computer-implemented method further include determining, for each candidate query, whether the candidate query satisfies one or more criteria associated with selecting queries that are likely associated with the subset of the particular type of content. Each candidate query is classified as (i) likely associated with the subset of the particular type of content, or (ii) unlikely to be associated with the subset of the particular type of content, based at least on whether the candidate query is determined to satisfy the one or more criteria. One or more candidate queries that are classified as likely associated with the particular subset of the particular type of content are provided as training data for training a classifier.
- In some implementations, the action of identifying a set of search queries that include one or more terms from the first set of seed terms and one or more terms from the second set of seed terms, includes one or more actions. These actions include receiving an indication that a search query is associated with the subset of the particular type of content, and receiving an indication that a search query is received by the search engine a number of times that satisfies a particular threshold.
- In some implementations, the action of determining, for each of the co-occurring queries in the set of the co-occurring queries, a number of co-occurrences of the co-occurring query with any reference query of the one or more reference queries in the collection of the search queries received by the search engine, includes an action of determining a number of times the co-occurring query is received by the search engine within a particular time period before or after a time at which any reference query in the collection of the search queries is received by the search engine.
- In some implementations, classifying each of the co-occurring queries as a candidate query based at least on the co-occurrence value includes determining, for each co-occurring query, that the co-occurrence value associated with the co-occurring query satisfies a co-occurrence threshold.
- In some implementations, the one or more criteria includes one or more of: (i) determining that any reference query in the collection of the search queries is received, by the search engine from the same user, within a determined time period before or after the candidate query; (ii) determining that the candidate query is not associated with appropriate sensitive content and appropriate offensive content; and (iii) determining that the candidate query was received from the same user once in a calendar day.
- In some implementations, a search query from a user is received. The search query from the user is determined to include the one or more candidate queries that are classified as likely associated with the subset of the particular type of content, and search results obtained in response to receiving the search query from the user are modified.
- In some implementations, the action of modifying the search results obtained in response to receiving the search query from the user includes one or more actions. These actions include removing, from the search results, content associated with the subset of the particular type of content, and decreasing, in the search results, a ranking of a resource that includes the content associated with the subset of the particular type of content.
- In some implementations, the action of classifying, for each of the co-occurring queries, the co-occurring query as (i) a candidate query, or (ii) not a candidate query, based at least on the co-occurrence value includes determining whether the co-occurrence value of the co-occurring query is within a determined proximity threshold of satisfying a candidate threshold. In response to determining that the co-occurrence value of the co-occurring query is within the determined proximity threshold of satisfying the candidate threshold, a verification action to verify that the co-occurring query is associated with the subset of the particular type of content is performed. The co-occurring query is classified as a candidate query based on verifying that the co-occurring query is associated with the subset of the particular type of content.
- In some implementations, for each of the candidate queries that are classified as likely associated with the particular subset of the particular type of content, one or more queries related to the candidate query are generated using modifications of the candidate query. The modifications of the candidate query include one or more of: (i) a modified spelling of the candidate query, (ii) an incorrect spelling of the candidate query, and (iii) one or more character n-grams of the candidate query. The one or more queries related to the candidate query that is classified as likely associated with the particular subset of the particular type of content are provided as training data for training the classifier.
- In some implementations, a classification input associated with one or more of the candidate queries that are classified as likely associated with the particular subset of the particular type of content is received. The one or more of the candidate queries are classified according to the received classification input and provided as training data for training the classifier.
- Other embodiments of these aspects include corresponding systems, apparatus, and computer programs, configured to perform the actions of the methods, encoded on computer storage devices.
- The details of one or more embodiments are set forth in the accompanying drawings and the description below. Other features and advantages will become apparent from the description, the drawings, and the claims.
-
FIG. 1 depicts a flowchart illustrating a method for training a classifier to identify search queries seeking inappropriate sensitive or offensive content. -
FIG. 2 depicts a flowchart illustrating a method for the operation inFIG. 1 to obtain seed terms and queries. -
FIG. 3 depicts a flowchart illustrating a method for the operation inFIG. 1 of labelling a co-occurring query. -
FIG. 4 depicts a flowchart illustrating a method for displaying search results using the trained classifier. -
FIG. 5 depicts a block diagram illustrating a system for training a classifier to identify search queries seeking inappropriate sensitive or offensive content. - Like reference numbers and designation in the various drawings indicate like elements.
- This disclosure generally describes a method and system for training a classifier to identify search queries seeking inappropriate sensitive or offensive content. Some implementations of the method are described in
FIGS. 2-4 . - Referring to
FIGS. 1 and 2 , to train a search query classifier, initially seed terms and queries are obtained (110). In particular, a collection of a first set of seed terms related to a particular content type (210) and a collection of a second set of seed terms related to a subset of the particular content type (220) may be obtained. - The particular content type may be a content type selected from any subject matter of interest. The subject matter of interest may be determined by an administrator of the search query classifier. For example, in some cases, the particular content may generally relate to children, and the first set of seed terms may be any term associated with children. In the example of children, this first set of seed terms may include, for example, terms such as “teen,” “teenager,” “kindergarten,” and “infant.” It should be understood that various terms associated with a particular content may be obtained, and that the association of terms with particular content may change over time.
- The subset of particular content type may include one or more subject matter categories of inappropriate sensitive or offensive content associated with the particular content type. For example, in some cases, the subset of particular content may generally relate to violence, and the second set of seed terms may be any term associated with violence. In the example of a “violence” subset, this second set of seed terms may include, for example, terms such as “gun,” “rifle,” “bomb,” and “gang.”
- In another example, the subset of particular content may generally relate to pornography, and the second set of seed terms may be any term associated with pornography. In the example of pornography, the second set of seed terms may include, for example, terms such as “porn,” “rape,” and “sex.” In general, it should be understood that various terms associated with the subset of particular content may be obtained, and that the association of terms with subset of particular content may change over time.
- It should be appreciated that although example of particular types of subject matter are provided in this disclosure, these examples are not meant to be limiting. The particular content and subset of particular content may include various types of content.
- Next, search queries that include one or more terms of the first set of seed terms and one or more terms of the second set of seed terms are identified (230). Various suitable methods may be used to identify the search queries that include one or more terms of the first set of seed terms and one or more terms of the second set of seed terms. For example, in some implementations, search logs or databases of search query entries may be searched using, for example, a keyword match, to identify search query entries in the search logs or the databases of search entries with terms that match one or more terms of the first set of seed terms and one or more terms of the second set of seed terms. The identified search query entries are extracted from the search logs or the databases of search entries for further processing.
- In some implementations, a search frequency of the identified search query entries is determined and only the identified search query entries that have been searched a number of times that satisfies a particular threshold are extracted. For example, in some cases, only search entries that have been searched a threshold number of times during a particular time period using a particular search engine are extracted. In some cases, only the top ranking identified search query entries (e.g., top 10, top 100, top 500) ranked based on search frequency are extracted.
- Next, the extracted search query entries are classified as reference queries if, upon verification, the extracted search query entries are determined to be related to the subset of particular content (240). To classify the extracted search query entries as reference queries various suitable verification methods may be used.
- For instance, in some implementations, a filter, algorithm, or combination thereof, may be used to determine a context of the extracted search query entries, a meaning of the extracted search query entries, and/or an application of the extracted search query entries. If the context, meaning, and/or application of an extracted search query entry is determined to be related to the subset of particular content, the extracted search query entry is classified as a reference query.
- In some implementations, human review may be used to verify whether the extracted search query entries are related to the subset of the particular content. If an extracted search query entry is determined to be related to the subset of the particular content, the extracted search query entry is classified as a reference query.
- Referring to
FIG. 1 , after obtaining seed terms and one or more reference queries (110), for each reference query, one or more co-occurring queries are identified (130). Co-occurring queries are queries that have been submitted by users of a search engine within a determined period of time of a reference query. The determined period of time may be any suitable time configured by an administrator of the search query classifier. The determined period of time may be, for example, 2 minutes, 5 minutes, 10 minutes, 30 minutes, or 1 hour. The determined period of time may include time before or after a reference query was submitted to the search engine. In some implementations, the determined period of time may be empirically determined. - It should be understood that any suitable method may be used to identify the one or more co-occurring queries. For example, search logs of the search engine or other databases of search queries may be examined and queries co-occurring with a reference query may be identified.
- In some implementations, a particular count of the number of times a query co-occurs with a particular reference query is determined. In some implementations, a reference count of the number of times a query co-occurs with any reference query and a cumulative count of the number of times a query is entered or listed in the search log or databases of search queries. The reference count and the cumulative count may be used to determine a co-occurrence value (130). The co-occurrence value may be a ratio of the reference count to the cumulative count.
- As an example, a query “where to purchase guns” may be received by a search engine one thousand times a day, and may co-occur with reference queries (e.g., “Columbine shooting anniversary,” “school shooting”) a hundred times a day. Accordingly, the query “where to purchase guns” would have a 100 to 1000 or 10% co-occurrence value. As another example, a query “child sex” may occur ten thousand times a day, and may co-occur with reference queries (e.g., “teen rape”) six hundred times a day. Accordingly, the query “child sex” would have a 600 to 10,000 or 6% co-occurrence value.
- After the co-occurrence value is determined for a co-occurring query, the co-occurrence value is compared with a determined co-occurrence threshold to determine if the co-occurrence value for a co-occurring query satisfies the determined co-occurrence threshold (140).
- If the co-occurrence value for a co-occurring query does not satisfy the determined co-occurrence threshold, the co-occurring query is labeled as unlikely associated with the subset of particular content and is not added to training data for the search query classifier (150).
- In some implementations, if the co-occurrence value for a co-occurring query does not satisfy the determined co-occurrence threshold but is within a determined proximity of the co-occurrence threshold, the co-occurring query may be further verified. The further verification may include any suitable type of verification, such as a human review, to verify whether the co-occurring query is associated with the subset of particular content. If the further verification indicates that the co-occurring query is associated with the subset of particular content, the co-occurring query is assigned a label if the co-occurring query satisfies a criteria (160). The determined proximity may be set by an administrator of the search query classifier. For example, the determined proximity may be set to a threshold range (e.g., within 5 percent or 2 percent) of the co-occurrence threshold.
- In some implementations, if the co-occurrence value for a co-occurring query does satisfy the determined co-occurrence threshold, the co-occurring query is assigned a label if the co-occurring query satisfies a criteria (160). An explanation of the criteria is provided in
FIG. 3 . - Referring to
FIG. 3 , a search record of the co-occurring query is examined to determine if the same user issued the co-occurring query earlier on the same calendar day (310). If the same user issued the co-occurring query earlier on the same calendar day, the co-occurring query is not added as training data for the search query classifier (150). - If the same user did not issue the co-occurring query earlier on the same calendar day, the search record of the co-occurring query is further examined to determine if the same user issued a reference query within the determined time period of entering the co-occurring query in the search query (320).
- If the same user did not issue a reference query within the determined time period of entering the co-occurring query in the search query, the co-occurring query is not added as training data for the search query classifier (150). If the same user did issue a reference query within the determined time period of entering the co-occurring query in the search query, the co-occurring query is further examined to determine if the co-occurring query includes or is related to appropriate offensive content or appropriate sensitive content (330).
- The administrator of the search query classifier may control the classification of content into different categories, such as, for example, appropriate sensitive content, inappropriate sensitive content, appropriate offensive content, and inappropriate offensive content. As an example, queries such as “how to shoot my classmates” may be classified as inappropriate sensitive content, whereas “school shooting” may be classified as appropriate sensitive content. In another example, queries such as “preteen sex” may be classified as inappropriate sensitive content and inappropriate offensive content, whereas “sex” or “pornography” may be classified as appropriate sensitive content and appropriate offensive content.
- If the co-occurring query includes or is related to appropriate offensive content or appropriate sensitive content, training data associated with the co-occurring query is not added as training data for the search query classifier (150). If the co-occurring query includes or is related to inappropriate offensive content or inappropriate sensitive content, the co-occurring query is labeled as likely associated with the subset of particular content. The labeled co-occurring query is then provided to the search query classifier as training data for queries associated with the subset of particular content (170).
- In some implementations, a labelled co-occurring query may be expanded to multiple queries that are similar but not identical. The multiple queries may be generated through various types of modifications of the labelled co-occurring query and added as training data along with the labelled co-occurring query. For example, in some cases, a modified or incorrect spelling of the labelled co-occurring query may be generated. In some cases, a labelled co-occurring query may be split into one or more character-ngrams to generate multiple queries associated with the labelled co-occurring query.
- The multiple queries generated and added as training data increase the amount of training data and may result in the search query classifier being robust against common variations of queries associated with the subset of particular content.
- In some implementations, after the search query classifier is trained, the trained search query classifier may be calibrated by sampling queries with different classifications and confidences and presenting the queries to human operators for classification. If a classification of a query by the search query classifier systematically disagrees with a classification of the query by human operators, a classification of the query may be corrected by a monotonic transformation function that maps the search query classifier's confidence values to those obtained from human operators.
- After the search query classifier is trained or trained and calibrated, the search query classifier may configure a search engine to modify search results in response to search queries that include the labeled co-occurring queries. Search engine receipt and output of data is described with reference to
FIGS. 4 and 5 . - Referring to
FIG. 4 , a method of providing a search result according to a trained search query classifier is described. After a search query classifier has been trained according to the implementations described hereinabove, a search engine may receive a search query from a user (410). The search engine may determine if one or more terms in the received search query correspond to a query likely associated with a subset of particular content (420). - For example, when a user submits a query “how to poison children,” the search engine may determine that the submitted query corresponds to a query likely associated with a subset (e.g., child violence) of particular content for which the search query classifier has been trained in. In another example, a user may submit a query “naughty children.” In this case, the search engine may determine that the submitted query does not correspond to a query likely associated with a subset of particular content for which the search query classifier has been trained in.
- If the one or more terms in the received search query do not correspond to a query likely associated with a subset of particular content, the search engine retrieves resources from a database and provides search results in response to the search query (430).
- If the one or more terms in the received search query do correspond to a query likely associated with a subset of particular content, the search engine may determine user behavior or preferences (440). The search engine may use various suitable techniques to determine user behavior or preferences. The user behavior or preferences may include data indicative of subject matter, web pages, videos, images, and, in general, any content the user may be interested in obtaining information about.
- In some implementations, the search engine may search the user's current or previous search session logs and, based on previously-submitted queries, determine user behavior or preferences.
- In some implementations, the search engine may search the user's current search session log and, based on search results (e.g., images, links) selected by the user, determine user behavior or preferences.
- In some implementations, a user may have provided an input, such as an activation of a filter (e.g., spoof content filter, pornography filter, under 18 filter, etc.) or button in the browser. Based on the user input, the search engine may determine user behavior or preferences.
- After determining user behavior or preferences, the search engine determines if the user is interested in inappropriate offensive content or inappropriate sensitive content (450). For example, if the user has activated a child-lock or a filter (e.g., pornography filter, violent content filter), the search engine may determine that the user is not interested in search results that include inappropriate offensive content or inappropriate sensitive content. In another example, if the user has a history of viewing inappropriate offensive or sensitive content, the search engine may determine that the user is interested in search results that include inappropriate offensive or sensitive content.
- If the search engine has determined that the user is not interested in search results that include inappropriate offensive or sensitive content, the search engine may modify the search results provided to the user (460). In some implementations, the search engine may modify the search results by decreasing the rank of resources that include inappropriate offensive or sensitive content. In some implementations, the search engine may suppress resources that include inappropriate offensive or sensitive content from the search results.
- In some implementations, if the search engine has determined that the user is interested in search results that include inappropriate offensive or sensitive content, the search engine may provide search results without modifications (430). In some implementations, the search results may be modified by decreasing the ranking of resources that include inappropriate offensive or sensitive content to thereby limit the exposure of inappropriate offensive or sensitive content. For example, if the search engine has determined that the user is interested in search results that include inappropriate offensive or sensitive content such as child pornography, the search results may be modified such that child pornography content is suppressed (e.g., remove link to resource related to child pornography from search results, significantly lower ranking of resource related to child pornography) and, in some cases, not provided for a user.
-
FIG. 5 depicts a block diagram illustrating asystem 500 for implementing the training method described hereinabove. A user may access asearch system 530 vianetwork 520 using auser device 510. -
User device 510 may be any suitable electronic device such as a personal computer, a mobile telephone, a smart phone, a smart watch, a smart TV, a mobile audio or video player, a game console, or a combination of one or more of these devices. In general, theuser device 510 may be a wired or wireless device capable of browsing the Internet and providing a user with search results. - The
user device 510 may include various components such as a memory, a processor, a display, and input/output units. The input/output units may include, for example, a transceiver which can communicate withnetwork 520 to send one ormore search queries 5010 and receive one or more search results 5020. The display may be any suitable display including, for example, liquid crystal displays, light emitting diode displays. The display may displaysearch results 5020 received from thesearch system 530. - The
network 520 may include one or more networks that provide network access, data transport, and other services to and fromuser device 510. In general, the one or more networks may include and implement any commonly defined network architectures including those defined by standards bodies, such as the Global System for Mobile communication (GSM) Association, the Internet Engineering Task Force (IETF), and the Worldwide Interoperability for Microwave Access (WiMAX) forum. For example, the one or more networks may implement one or more of a GSM architecture, a General Packet Radio Service (GPRS) architecture, a Universal Mobile Telecommunications System (UMTS) architecture, and an evolution of UMTS referred to as Long Term Evolution (LTE). The one or more networks may implement a WiMAX architecture defined by the WiMAX forum or a Wireless Fidelity (WiFi) architecture. The one or more networks may include, for instance, a local area network (LAN), a wide area network (WAN), the Internet, a virtual LAN (VLAN), an enterprise LAN, a layer 3 virtual private network (VPN), an enterprise IP network, or any combination thereof. - The one or more networks may include one or more databases, access points, servers, storage systems, cloud systems, and modules. For instance, the one or more networks may include at least one server, which may include any suitable computing device coupled to the one or more networks, including but not limited to a personal computer, a server computer, a series of server computers, a mini computer, and a mainframe computer, or combinations thereof. The at least one server may be a web server (or a series of servers) running a network operating system, examples of which may include but are not limited to Microsoft® Windows® Server, Novell® NetWare®, or Linux®. The at least one server may be used for and/or provide cloud and/or network computing. Although not shown in the figures, the server may have connections to external systems providing messaging functionality such as e-mail, SMS messaging, text messaging, and other functionalities, such as advertising services, search services, etc.
- In some implementations, data may be sent and received using any technique for sending and receiving information including, but not limited to, using a scripting language, a remote procedure call, an email, an application programming interface (API), Simple Object Access Protocol (SOAP) methods, Common Object Request Broker Architecture (CORBA), HTTP (Hypertext Transfer Protocol), REST (Representational State Transfer), any interface for software components to communicate with each other, using any other known technique for sending information from a one device to another, or any combination thereof.
- The
search system 530 can be implemented, at least in part, as, for example, computer script running on one or more servers in one or more locations that are coupled to each other throughnetwork 520. Thesearch system 530 includes anindex database 550 and asearch engine 570, which includes aclassifier 560, anindex engine 580 and aranking engine 590. - The
index database 550 stores indexed resources found in a corpus, which is a collection or repository of resources. The resources may include, for example, web pages, images, or news articles. In some implementations, the resources may include resources on the Internet. While oneindex database 550 is shown, in some implementations, multiple index databases can be built and used. - The
index engine 580 indexes resources in theindex database 550 using any suitable technique. In some implementations, theindex engine 580 receives information about the contents of resources, e. g., tokens appearing in the resources that are received from a web crawler, and indexes the resources by storing index information in theindex database 550. - The
search engine 570 uses theindex database 550 to identify resources that match asearch query 5010. Theranking engine 590 ranks resources that match asearch query 5010. Theranking engine 590 may rank the resources using various suitable techniques. Thesearch engine 570 transmits one ormore search results 5020 through thenetwork 520 to theuser device 510. In some implementations, thesearch engine 570 providessearch results 5020 to theuser device 510 according to the method of providing search results depicted inFIG. 4 . -
Classifier 560 may include one or more search query classifiers. Thesearch query classifier 560 may be trained according to the method of training a search query classifier depicted inFIGS. 1-3 . For example, in some implementations, theclassifier 560 may classify search queries as likely seeking a subset of a particular content or as unlikely seeking a subset of a particular content. - A
user device 510 can connect to thesearch system 530 to submit aquery 5010. The submittedquery 5010 is transmitted throughnetwork 520 to thesearch system 530. Thesearch system 530 responds to thequery 5010 by generatingsearch results 5020, which are transmitted through thenetwork 520 to theuser device 510 in a form that can be presented to the user (e.g., as a search results web page to be displayed in a web browser running on the user device 510). - When the
search query 5010 is received by thesearch engine 570, thesearch engine 570 may classify thesearch query 5010 usingclassifier 560 and identify relevant resources (i.e., resources matching or satisfying classified query). Based on the classification of the receivedsearch query 5010 and identified relevant resources, thesearch engine 570 may providesearch results 5020 as described above with respect toFIGS. 1-3 . - An advantage of the method described hereinabove is that a large database of query terms can be obtained and continuously updated with minimal human input. This large database of query terms can be used to train a search query classifier to detect queries seeking inappropriate sensitive or offensive content.
- Embodiments and all of the functional operations and/or actions described in this specification may be implemented in digital electronic circuitry, or in computer software, firmware, or hardware, including the structures disclosed in this specification and their structural equivalents, or in combinations of one or more of them. Embodiments may be implemented as one or more computer program products, e.g., one or more modules of computer program instructions encoded on a computer readable medium for execution by, or to control the operation of, data processing apparatus. The computer readable medium may be a machine-readable storage device, a machine-readable storage substrate, a memory device, a composition of matter effecting a machine-readable propagated signal, or a combination of one or more of them. The term “data processing apparatus” encompasses all apparatus, devices, and machines for processing data, including by way of example a programmable processor, a computer, or multiple processors or computers. The apparatus may include, in addition to hardware, code that creates an execution environment for the computer program in question, e.g., code that constitutes processor firmware, a protocol stack, a database management system, an operating system, or a combination of one or more of them. A propagated signal is an artificially generated signal, e.g., a machine-generated electrical, optical, or electromagnetic signal that is generated to encode information for transmission to suitable receiver apparatus.
- A computer program (also known as a program, software, software application, script, or code) may be written in any form of programming language, including compiled or interpreted languages, and it may be deployed in any form, including as a standalone program or as a module, component, subroutine, or other unit suitable for use in a computing environment. A computer program does not necessarily correspond to a file in a file system. A program may be stored in a portion of a file that holds other programs or data (e.g., one or more scripts stored in a markup language document), in a single file dedicated to the program in question, or in multiple coordinated files (e.g., files that store one or more modules, sub programs, or portions of code). A computer program may be deployed to be executed on one computer or on multiple computers that are located at one site or distributed across multiple sites and interconnected by a communication network.
- The processes and logic flows described in this specification may be performed by one or more programmable processors executing one or more computer programs to perform actions by operating on input data and generating output. The processes and logic flows may also be performed by, and apparatus may also be implemented as, special purpose logic circuitry, e.g., an FPGA (field programmable gate array) or an ASIC (application specific integrated circuit).
- Processors suitable for the execution of a computer program include, by way of example, both general and special purpose microprocessors, and any one or more processors of any kind of digital computer. Generally, a processor will receive instructions and data from a read only memory or a random access memory or both.
- Elements of a computer may include a processor for performing instructions and one or more memory devices for storing instructions and data. Generally, a computer will also include, or be operatively coupled to receive data from or transfer data to, or both, one or more mass storage devices for storing data, e.g., magnetic, magneto optical disks, or optical disks. However, a computer may not have such devices. Moreover, a computer may be embedded in another device, e.g., a tablet computer, a mobile telephone, a personal digital assistant (PDA), a mobile audio player, a Global Positioning System (GPS) receiver, to name just a few. Computer-readable media suitable for storing computer program instructions and data include all forms of non-volatile memory, media and memory devices, including by way of example semiconductor memory devices, e.g., EPROM, EEPROM, and flash memory devices; magnetic disks, e.g., internal hard disks or removable disks; magneto optical disks; and CD ROM and DVD-ROM disks. The processor and the memory may be supplemented by, or incorporated in, special purpose logic circuitry.
- To provide for interaction with a user, embodiments may be implemented on one or more computers having a display device, e.g., a cathode ray tube (CRT), liquid crystal display (LCD), or light emitting diode (LED) monitor, for displaying information to the user and a keyboard and a pointing device, e.g., a mouse or a trackball, by which the user may provide input to the computer. Other kinds of devices may be used to provide for interaction with a user as well; for example, feedback provided to the user may be any form of sensory feedback, e.g., visual feedback, auditory feedback, or tactile feedback; and input from the user may be received in any form, including acoustic, speech, or tactile input.
- Embodiments may be implemented in a computing system that includes a back end component, e.g., as a data server, or that includes a middleware component, e.g., an application server, or that includes a front end component, e.g., a client computer having a graphical user interface or a Web browser through which a user may interact with an implementation, or any combination of one or more such back end, middleware, or front end components. The components of the system may be interconnected by any form or medium of digital data communication, e.g., a communication network.
- The computing system may include clients and servers. A client and server are generally remote from each other and typically interact through a communication network. The relationship of client and server arises by virtue of computer programs running on the respective computers and having a client-server relationship to each other.
- While this specification contains many specifics, these should not be construed as limitations on the scope of the disclosure or of what may be claimed, but rather as descriptions of features specific to particular embodiments. Certain features that are described in this specification in the context of separate embodiments may also be implemented in combination in a single embodiment. Conversely, various features that are described in the context of a single embodiment may also be implemented in multiple embodiments separately or in any suitable sub-combination. Moreover, although features may be described above as acting in certain combinations and even initially claimed as such, one or more features from a claimed combination may in some cases be excised from the combination, and the claimed combination may be directed to a sub-combination or variation of a sub-combination.
- Similarly, while actions are depicted in the drawings in a particular order, this should not be understood as requiring that such actions be performed in the particular order shown or in sequential order, or that all illustrated actions be performed, to achieve desirable results. Moreover, the separation of various system components in the embodiments described above should not be understood as requiring such separation in all embodiments, and it should be understood that the described program components and systems may generally be integrated together in a single software product or packaged into multiple software products.
- Thus, particular embodiments have been described. Other embodiments are within the scope of the following claims. For example, the actions recited in the claims may be performed in a different order and still achieve desirable results.
Claims (20)
Priority Applications (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US14/747,492 US9959354B2 (en) | 2015-06-23 | 2015-06-23 | Utilizing user co-search behavior to identify search queries seeking inappropriate content |
PCT/US2016/032288 WO2016209402A1 (en) | 2015-06-23 | 2016-05-13 | Utilizing user co-search behavior to identify search queries seeking inappropriate content |
Applications Claiming Priority (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US14/747,492 US9959354B2 (en) | 2015-06-23 | 2015-06-23 | Utilizing user co-search behavior to identify search queries seeking inappropriate content |
Publications (2)
Publication Number | Publication Date |
---|---|
US20160378869A1 true US20160378869A1 (en) | 2016-12-29 |
US9959354B2 US9959354B2 (en) | 2018-05-01 |
Family
ID=56411875
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US14/747,492 Active 2036-03-18 US9959354B2 (en) | 2015-06-23 | 2015-06-23 | Utilizing user co-search behavior to identify search queries seeking inappropriate content |
Country Status (2)
Country | Link |
---|---|
US (1) | US9959354B2 (en) |
WO (1) | WO2016209402A1 (en) |
Cited By (7)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20170344625A1 (en) * | 2016-05-27 | 2017-11-30 | International Business Machines Corporation | Obtaining of candidates for a relationship type and its label |
US20210303718A1 (en) * | 2020-03-31 | 2021-09-30 | Citrix Systems, Inc. | Context based data leak prevention of sensitive information |
US11507876B1 (en) * | 2018-12-21 | 2022-11-22 | Meta Platforms, Inc. | Systems and methods for training machine learning models to classify inappropriate material |
US11539709B2 (en) | 2019-12-23 | 2022-12-27 | Citrix Systems, Inc. | Restricted access to sensitive content |
US11544415B2 (en) | 2019-12-17 | 2023-01-03 | Citrix Systems, Inc. | Context-aware obfuscation and unobfuscation of sensitive content |
US11582266B2 (en) | 2020-02-03 | 2023-02-14 | Citrix Systems, Inc. | Method and system for protecting privacy of users in session recordings |
US11627102B2 (en) | 2020-08-29 | 2023-04-11 | Citrix Systems, Inc. | Identity leak prevention |
Citations (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20110258148A1 (en) * | 2010-04-19 | 2011-10-20 | Microsoft Corporation | Active prediction of diverse search intent based upon user browsing behavior |
US8560539B1 (en) * | 2009-07-29 | 2013-10-15 | Google Inc. | Query classification |
US20150154306A1 (en) * | 2013-12-02 | 2015-06-04 | Qbase, LLC | Method for searching related entities through entity co-occurrence |
US9201945B1 (en) * | 2013-03-08 | 2015-12-01 | Google Inc. | Synonym identification based on categorical contexts |
US20160188696A1 (en) * | 2014-12-27 | 2016-06-30 | Dassault Systemes | Clustering database queries for runtime prediction |
Family Cites Families (8)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6144958A (en) | 1998-07-15 | 2000-11-07 | Amazon.Com, Inc. | System and method for correcting spelling errors in search queries |
US20040006560A1 (en) | 2000-05-01 | 2004-01-08 | Ning-Ping Chan | Method and system for translingual translation of query and search and retrieval of multilingual information on the web |
US20060161520A1 (en) | 2005-01-14 | 2006-07-20 | Microsoft Corporation | System and method for generating alternative search terms |
US7814086B2 (en) | 2006-11-16 | 2010-10-12 | Yahoo! Inc. | System and method for determining semantically related terms based on sequences of search queries |
US9002869B2 (en) | 2007-06-22 | 2015-04-07 | Google Inc. | Machine translation for query expansion |
US8095540B2 (en) | 2008-04-16 | 2012-01-10 | Yahoo! Inc. | Identifying superphrases of text strings |
US8024341B1 (en) | 2008-04-30 | 2011-09-20 | AudienceScience Inc. | Query expansion |
US8296279B1 (en) | 2008-06-03 | 2012-10-23 | Google Inc. | Identifying results through substring searching |
-
2015
- 2015-06-23 US US14/747,492 patent/US9959354B2/en active Active
-
2016
- 2016-05-13 WO PCT/US2016/032288 patent/WO2016209402A1/en active Application Filing
Patent Citations (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US8560539B1 (en) * | 2009-07-29 | 2013-10-15 | Google Inc. | Query classification |
US20110258148A1 (en) * | 2010-04-19 | 2011-10-20 | Microsoft Corporation | Active prediction of diverse search intent based upon user browsing behavior |
US9201945B1 (en) * | 2013-03-08 | 2015-12-01 | Google Inc. | Synonym identification based on categorical contexts |
US20150154306A1 (en) * | 2013-12-02 | 2015-06-04 | Qbase, LLC | Method for searching related entities through entity co-occurrence |
US20160188696A1 (en) * | 2014-12-27 | 2016-06-30 | Dassault Systemes | Clustering database queries for runtime prediction |
Cited By (8)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20170344625A1 (en) * | 2016-05-27 | 2017-11-30 | International Business Machines Corporation | Obtaining of candidates for a relationship type and its label |
US11163806B2 (en) * | 2016-05-27 | 2021-11-02 | International Business Machines Corporation | Obtaining candidates for a relationship type and its label |
US11507876B1 (en) * | 2018-12-21 | 2022-11-22 | Meta Platforms, Inc. | Systems and methods for training machine learning models to classify inappropriate material |
US11544415B2 (en) | 2019-12-17 | 2023-01-03 | Citrix Systems, Inc. | Context-aware obfuscation and unobfuscation of sensitive content |
US11539709B2 (en) | 2019-12-23 | 2022-12-27 | Citrix Systems, Inc. | Restricted access to sensitive content |
US11582266B2 (en) | 2020-02-03 | 2023-02-14 | Citrix Systems, Inc. | Method and system for protecting privacy of users in session recordings |
US20210303718A1 (en) * | 2020-03-31 | 2021-09-30 | Citrix Systems, Inc. | Context based data leak prevention of sensitive information |
US11627102B2 (en) | 2020-08-29 | 2023-04-11 | Citrix Systems, Inc. | Identity leak prevention |
Also Published As
Publication number | Publication date |
---|---|
US9959354B2 (en) | 2018-05-01 |
WO2016209402A1 (en) | 2016-12-29 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US9959354B2 (en) | Utilizing user co-search behavior to identify search queries seeking inappropriate content | |
US10083237B2 (en) | Protecting users from inappropriate sensitive or offensive search results | |
US10642845B2 (en) | Multi-domain search on a computing device | |
US9514405B2 (en) | Scoring concept terms using a deep network | |
US8429161B2 (en) | Search filtering | |
US9449271B2 (en) | Classifying resources using a deep network | |
US9594826B2 (en) | Co-selected image classification | |
US10073913B2 (en) | System and method for displaying of most relevant vertical search results | |
US10242003B2 (en) | Search relevance using messages of a messaging platform | |
US10496418B2 (en) | Method for assembling Android application based on application content | |
US10572561B1 (en) | Performing multiple related searches | |
CN106095766A (en) | Use selectivity again to talk and correct speech recognition | |
CN113261299B (en) | Multi-layer scalable media analysis | |
US9582544B2 (en) | Temporal proximity query expansion | |
US20220391459A1 (en) | Identification and Issuance of Repeatable Queries | |
US9760641B1 (en) | Site quality score | |
US20180314948A1 (en) | Generating multiple language training data for seach classifier | |
US9361198B1 (en) | Detecting compromised resources | |
US9754036B1 (en) | Adapting third party applications | |
US20150169739A1 (en) | Query Classification | |
US20210097117A1 (en) | Event-driven internet of things search optimization | |
US9824161B1 (en) | Providing third party answers |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
AS | Assignment |
Owner name: GOOGLE INC., CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:NITTKA, ROBIN;HEILER, MATTHIAS;VAGO, DAVID;REEL/FRAME:036334/0458Effective date: 20150623 |
|
AS | Assignment |
Owner name: GOOGLE LLC, CALIFORNIAFree format text: CHANGE OF NAME;ASSIGNOR:GOOGLE INC.;REEL/FRAME:044129/0001Effective date: 20170929 |
|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |
|
MAFP | Maintenance fee payment |
Free format text: PAYMENT OF MAINTENANCE FEE, 4TH YEAR, LARGE ENTITY (ORIGINAL EVENT CODE: M1551); ENTITY STATUS OF PATENT OWNER: LARGE ENTITYYear of fee payment: 4 |
|
CC | Certificate of correction |