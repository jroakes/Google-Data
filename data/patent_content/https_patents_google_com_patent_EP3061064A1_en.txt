EP3061064A1 - Depth map generation - Google Patents
Depth map generationInfo
- Publication number
- EP3061064A1 EP3061064A1 EP14787371.5A EP14787371A EP3061064A1 EP 3061064 A1 EP3061064 A1 EP 3061064A1 EP 14787371 A EP14787371 A EP 14787371A EP 3061064 A1 EP3061064 A1 EP 3061064A1
- Authority
- EP
- European Patent Office
- Prior art keywords
- video
- depth map
- computing devices
- still image
- capture
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Granted
Links
- 238000013519 translation Methods 0.000 claims abstract description 10
- 238000000034 method Methods 0.000 claims description 33
- 230000015654 memory Effects 0.000 claims description 23
- 230000004044 response Effects 0.000 claims description 6
- 230000001413 cellular effect Effects 0.000 claims description 4
- 230000006870 function Effects 0.000 description 27
- 230000008901 benefit Effects 0.000 description 5
- 230000033001 locomotion Effects 0.000 description 5
- 238000005457 optimization Methods 0.000 description 5
- 230000000875 corresponding effect Effects 0.000 description 4
- 238000010586 diagram Methods 0.000 description 4
- 238000005516 engineering process Methods 0.000 description 4
- 238000001514 detection method Methods 0.000 description 3
- 239000011159 matrix material Substances 0.000 description 3
- 210000001525 retina Anatomy 0.000 description 3
- 230000008859 change Effects 0.000 description 2
- 238000012545 processing Methods 0.000 description 2
- 238000013515 script Methods 0.000 description 2
- 238000009825 accumulation Methods 0.000 description 1
- 238000013459 approach Methods 0.000 description 1
- 230000005540 biological transmission Effects 0.000 description 1
- 239000003086 colorant Substances 0.000 description 1
- 230000002596 correlated effect Effects 0.000 description 1
- 230000004807 localization Effects 0.000 description 1
- 238000005259 measurement Methods 0.000 description 1
- 230000008569 process Effects 0.000 description 1
- 230000000750 progressive effect Effects 0.000 description 1
- 238000013139 quantization Methods 0.000 description 1
- 230000000007 visual effect Effects 0.000 description 1
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N13/00—Stereoscopic video systems; Multi-view video systems; Details thereof
- H04N13/20—Image signal generators
- H04N13/271—Image signal generators wherein the generated image signals comprise depth maps or disparity maps
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T7/00—Image analysis
- G06T7/50—Depth or shape recovery
- G06T7/55—Depth or shape recovery from multiple images
- G06T7/579—Depth or shape recovery from multiple images from motion
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T2207/00—Indexing scheme for image analysis or image enhancement
- G06T2207/10—Image acquisition modality
- G06T2207/10016—Video; Image sequence
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T2207/00—Indexing scheme for image analysis or image enhancement
- G06T2207/30—Subject of image; Context of image processing
- G06T2207/30244—Camera pose
Definitions
- the method includes receiving, by one or more computing devices, an initialization request for a still image capture mode; after receiving the request to initialize the still image capture mode, automatically beginning, by the one or more computing devices, to capture a video including a plurality of image frames; tracking, by the one or more computing devices, features between a first image frame of the video and each of the other image frames of the video; generating, by the one or more computing devices, a set of 3D points corresponding to the tracked features using a set of assumptions, the set of assumptions including a first assumption that there is no rotation between the plurality of image frames of the video and a second assumption that there is no translation between the plurality of image frames of the video; and generating a depth map of the scene, by the one or more computing devices, based at least in part on the set of 3D points.
- the method also includes, after beginning to capture the video, receiving instructions to capture a still image of the scene and in response to receiving the instructions, stopping the capture of the video and capturing the still image.
- the method also includes associating the depth map with the still image; and storing the depth map, the still image, and the association in memory.
- the set of assumptions also includes a third assumption that depths of any observed points in the scene are initially set to random distances.
- generating the depth map includes using a smoothness prior that considers relationships of non-adjacent pixels.
- the method also includes using the depth map to generate a 3- dimensional representation of the scene.
- the one or more computing devices are cellular phones .
- Another aspect of the disclosure provides a system comprising one or more computing devices.
- the one or more computing devices are configured to receive an initialization request for a still image capture mode; after receiving the request to initialize the still image capture mode, automatically begin to capture a video including a plurality of image frames; track features between a first image frame of the video and each of the other image frames of the video; generate a set of 3D points corresponding to the tracked features using a set of assumptions, the set of assumptions including a first assumption that there is no rotation between the plurality of image frames of the video and a second assumption that there is no translation between the plurality of image frames of the video; and generate a depth map of the scene based at least in part on the set of 3D points .
- the one or more computing devices are also configured to after beginning to capture the video, receive instructions to capture a still image of the scene and in response to receiving the instructions, stop the capture of the video and capturing the still image.
- the one or more computing devices are also configured to associate the depth map with the still image and store the depth map, the still image, and the association in memory.
- the set of assumptions also includes a third assumption that depths of any observed points in the scene are initially set to random distances.
- the one or more computing devices are also configured to generate the depth map includes by using a smoothness prior that considers relationships of non-adjacent pixels.
- the one or more computing devices are also configured to use the depth map to generate a 3-dimensional representation of the scene.
- the one or more computing devices are cellular phones .
- a further aspect of the disclosure provides a non- transitory, computer-readable storage device on which computer readable instructions of a program are stored.
- the instructions when executed by one or more processors, cause the one or more processors to perform a method.
- the method includes receiving an initialization request for a still image capture mode; after receiving the request to initialize the still image capture mode, automatically beginning to capture a video including a plurality of image frames; tracking features between a first image frame of the video and each of the other image frames of the video; generating a set of 3D points corresponding to the tracked features using a set of assumptions including a first assumption that there is no rotation between the plurality of image frames of the video and a second assumption that there is no translation between the plurality of image frames of the video; and generating a depth map of the scene based at least in part on the set of 3D points.
- the method also includes after beginning to capture the video, receiving instructions to capture a still image of the scene and in response to receiving the instructions, stopping the capture of the video and capturing the still image.
- the method also includes associating the depth map with the still image and storing the depth map, the still image, and the association in memory.
- the set of assumptions also includes a third assumption that depths of any observed points in the scene are initially set to random distances.
- the method also includes receiving, from a client computing device, the video and sending, to the client computing device, the generated depth map.
- the method also includes generating the depth map by using a smoothness prior that considers relationships of non-adjacent pixels.
- FIGURE 1 is a functional diagram of an example system in accordance with aspects of the disclosure.
- FIGURE 2 is a pictorial diagram of the example system of FIGURE 1.
- FIGURE 3 is an example of a client computing device and user input in accordance with aspects of the disclosure.
- FIGURE 4 is an example of image frames of a video stram in accordance with aspects of the disclosure.
- FIGURES 5A and 5B are examples of image frames and image data in accordance with aspects of the disclosure.
- FIGURE 6 is chart of example data in accordance with aspects of the disclosure.
- FIGURE 7 is an example of image data in accordance with aspects of the disclosure.
- FIGURE 8 is a flow diagram in accordance with aspects of the disclosure.
- aspects of the technology relate to generating a depth map of a scene.
- a camera such as one associated with a mobile computing device such as a phone
- the user may spend a few seconds holding the phone steady.
- the technology takes advantage of the time leading up to the mobile computing device actually capturing the image and the fact that the user's hand is not perfectly steady and may move the mobile computing device several millimeters.
- the mobile computing device may actually capture a video or a series of image frames. These image frames may be used to generate the depth map and/or a 3D model of the scene .
- the user may have to install an application, select a setting, and/or the like. After this, a user may attempt to capture an image of a scene using a mobile computing device. In doing so, the user may put the client computing device into a still image capturing mode (a camera mode) . After doing so, the client computing device may automatically begin recording a video of the scene. The video may end when the client computing device begins to capture the still image of the scene, for example, when the user selects to take a picture.
- features may be tracked between image frames of the video. The specific features tracked may include, for examples, unique features such as corners, edges, etc. Outliers may be removed.
- features may be tracked directly between a reference frame and all other images. For example, rather than tracking images between frame 1 and frame 2, then frame 2 and frame 3, images are tracked from frame 1 to frame 2, from frame 1 to frame 3, etc. This avoids the accumulating error and may provide better results.
- the camera's position and the actual 3D points in the scene must be determined in order to generate the depth map.
- a bundle adjustment where the points are parametrized by inverse depth may be used.
- all of the cameras for the image frames may be assumed to have the same location and orientation.
- the depths of the observed points in the scene may initially be set to random distances .
- the result of the bundle adjustment is a depth map from which a 3D scene may be reconstructed.
- a smoothness function which accounts for relationships between non- adjacent pixels may be used in order to preserve consistency of depth around an object within the scene.
- This depth map may be associated with the image captured by the user. Such information may be useful to generate 3D models, for authentication, and for other such technologies.
- the minimum number of images required may depend upon various factors including the amount of light, the quality of the optics and resolution of the camera, the amount of movement by the user, and how far away the scene is.
- Outliers are an inevitable result of the feature tracking, and generally may not affect the results. Thus, in some examples, a robustifier can be used. While the robustifier is not necessary, the bundle adjustment results may appear better .
- FIGURES 1 and 2 include an example system 100 in which the features described above may be implemented. It should not be considered as limiting the scope of the disclosure or usefulness of the features described herein.
- system 100 can include computing devices 110, 120, 130, and 140 as well as storage system 150.
- Each of computing devices 110 can contain one or more processors 112, memory 114 and other components typically present in general purpose computing devices.
- Memory 114 of computing device 110 can store information accessible by the one or more processors 112, including instructions 116 that can be executed by the one or more processors 112.
- Memory can also include data 118 that can be retrieved, manipulated or stored by the processor.
- the memory can be of any non-transitory type capable of storing information accessible by the processor, such as a hard- drive, memory card, ROM, RAM, DVD, CD-ROM, write-capable, and read-only memories.
- the instructions 116 can be any set of instructions to be executed directly, such as machine code, or indirectly, such as scripts, by the one or more processors.
- the terms "instructions,” “application,” “steps” and “programs” can be used interchangeably herein.
- the instructions can be stored in object code format for direct processing by a processor, or in any other computing device language including scripts or collections of independent source code modules that are interpreted on demand or compiled in advance. Functions, methods and routines of the instructions are explained in more detail below.
- Data 118 can be retrieved, stored or modified by the one or more processors 112 in accordance with the instructions 116.
- the data can be stored in computer registers, in a relational database as a table having many different fields and records, or XML documents.
- the data can also be formatted in any computing device-readable format such as, but not limited to, binary values, ASCII or Unicode.
- the data can comprise any information sufficient to identify the relevant information, such as numbers, descriptive text, proprietary codes, pointers, references to data stored in other memories such as at other network locations, or information that is used by a function to calculate the relevant data.
- the one or more processors 112 can be any conventional processors, such as a commercially available CPU. Alternatively, the processors can be dedicated components such as an application specific integrated circuit ("ASIC") or other hardware-based processor. Although not necessary, one or more of computing devices 110 may include specialized hardware components to perform specific computing processes, such as decoding video, matching video frames with images, distorting videos, encoding distorted videos, etc. faster or more efficiently.
- ASIC application specific integrated circuit
- FIGURE 1 functionally illustrates the processor, memory, and other elements of computing device 110 as being within the same block
- the processor, computer, computing device, or memory can actually comprise multiple processors, computers, computing devices, or memories that may or may not be stored within the same physical housing.
- the memory can be a hard drive or other storage media located in housings different from that of the computing devices 110.
- references to a processor, computer, computing device, or memory will be understood to include references to a collection of processors, computers, computing devices, or memories that may or may not operate in parallel.
- the computing devices 110 may include server computing devices operating as a load-balanced server farm.
- some functions described below are indicated as taking place on a single computing device having a single processor, various aspects of the subject matter described herein can be implemented by a plurality of computing devices, for example, communicating information over network 160.
- Each of the computing devices 110 can be at different nodes of a network 160 and capable of directly and indirectly communicating with other nodes of network 160. Although only a few computing devices are depicted in FIGURES 1-2, it should be appreciated that a typical system can include a large number of connected computing devices, with each different computing device being at a different node of the network 160.
- the network 160 and intervening nodes described herein can be interconnected using various protocols and systems, such that the network can be part of the Internet, World Wide Web, specific intranets, wide area networks, or local networks.
- the network can utilize standard communications protocols, such as Ethernet, WiFi and HTTP, protocols that are proprietary to one or more companies, and various combinations of the foregoing.
- each of the computing devices 110 may include web servers capable of communicating with storage system 150 as well as computing devices 120, 130, and 140 via the network.
- server computing devices 110 may use network 160 to transmit and present information to a user, such as user 220, 230, or 240, on a display, such as displays 122, 132, or 142 of computing devices 120, 130, or 140.
- computing devices 120, 130, and 140 may be considered client computing devices and may perform all or some of the features described herein.
- Each of the client computing devices may be configured similarly to the server computing devices 110, with one or more processors, memory and instructions as described above.
- Each client computing device 120, 130 or 140 may be a personal computing device intended for use by a user 220, 230, 240, and have all of the components normally used in connection with a personal computing device such as a central processing unit (CPU), memory (e.g., RAM and internal hard drives) storing data and instructions, a display such as displays 122, 132, or 142 (e.g., a monitor having a screen, a touch-screen, a projector, a television, or other device that is operable to display information), and user input device 124 (e.g., a mouse, keyboard, touch-screen or microphone) .
- the client computing device may also include a camera 126 for capturing still images or recording video streams, speakers, a network interface device, and all of the components used for connecting these elements to one another.
- client computing devices 120, 130 and 140 may each comprise a full-sized personal computing device, they may alternatively comprise mobile computing devices capable of wirelessly exchanging data with a server over a network such as the Internet.
- client computing device 120 may be a mobile phone or a device such as a wireless-enabled PDA, a tablet PC, or a netbook that is capable of obtaining information via the Internet.
- client computing device 130 may be a head- mounted computing system.
- the user may input information using a small keyboard, a keypad, microphone, using visual signals with a camera, or a touch screen.
- storage system 150 can be of any type of computerized storage capable of storing information accessible by the server computing devices 110, such as a hard-drive, memory card, ROM, RAM, DVD, CD-ROM, write-capable , and read-only memories.
- storage system 150 may include a distributed storage system where data is stored on a plurality of different storage devices which may be physically located at the same or different geographic locations.
- Storage system 150 may be connected to the computing devices via the network 160 as shown in Figure 1 and/or may be directly connected to or incorporated into the memory of any of the computing devices 110-140 (not shown ) .
- Storage system 150 may store images and associated depth information.
- each image may be associated with a depth map defining the 3D location of objects in the image relative to the coordinate system of the camera that captured the image. These depth maps may be generated as described in more detail below.
- the user may have to install an application, select a setting, and/or the like. Once the application or setting has been activated, the user may be able to generate depth maps for still images captured using a camera. As noted above, this camera may be associated with a client computing device, such as camera 126 of client computing device 140.
- a user Before capturing a still image, a user may first be required to initialize a still image capturing mode of a client computing device.
- this client computing device may be a mobile computing device such as client computing device 120, 130, or 140.
- the application may cause the client computing device to automatically begin recording a video.
- the user may spend a few seconds holding mobile computing device steady. Because the user's hand is not perfectly steady, the mobile computing device may actually move several millimeters.
- the video may end when the client computing device begins to capture the still image of the scene, for example, when the user selects to take a picture .
- FIGURE 3 is an example of a user attempting to capture a still image of a scene.
- user 220 's hand 320 may attempt to hold client computing device 120 steady.
- the client computing device may capture a video of that same scene.
- image frame 330 may represent the first image frame of the video captured before the user captures an image of scene 340.
- the client computing device may stop capturing the video.
- the client computing device may capture a plurality of image frames.
- a typical mobile phone may be able to capture about 100 image frames in 4 seconds.
- image frame 330 plus each of the images 410 and 420 through N may represent a plurality of images frames of a video that begins with image frame 330.
- the next image in the sequence of image frames may be image frame 410, then 420, and so on until the last image frame in the video, image frame N.
- features may be tracked between image frames of the video.
- KLT Kanade-Lucas-Tomasi
- the specific features tracked may include, for examples, unique features such as corners, edges, etc.
- corner features may be detected in the reference image using known computer vision and pattern recognizing techniques.
- the features may be tracked not in sequence, but directly between a reference frame and all other images.
- the reference frame may be, for example, the first image frame in the sequence, though other image frames may also be used as a reference frame.
- image frame 330 may be considered the reference frame. Rather than tracking images between frame 330 and frame 410, then frame 410 and frame 420, and so on until image frame N, images are tracked from frame 330 to frame 410, from frame 330 to frame 420, etc .
- This type of tracking may avoid the accumulating error and may provide better results, and is possible because the amount of movement between the reference frame and the other frames is slight. For example, with typical tracking the tracking error between each frame accumulates so that the error from frame 1 to frame N is sigma * sqrt(N), where sigma is the standard deviation of the inter-frame tracking error.
- Standard approaches for direct frame to frame correspondences may not provide as much precision and, thus, less accurate depth data .
- SIFT Harris corner tracking and scale invariant feature transform
- Outlier features are an inevitable result of the feature tracking. Although the outliers may not always affect the results, they may be removed or ignored to ensure that they do not affect the results. For example, requiring that all of the features can be tracked to all non-reference image frames and that the maximum color gradient difference per pixel between two patches should be under a threshold may remove outliers. For example, in an 8-but encoded gray image, the threshold may be 6. The threshold may be selected, for example, using gain-adaptive tracking.
- the camera's position and the actual 3D points of the features in the scene must be determined in order to generate the depth map.
- a bundle adjustment where the points are parametrized by inverse depth may be used.
- the bundle adjustment may be initialized using various assumptions. For example, all of the cameras for the image frames may be assumed to have the same location and orientation. In other words, in order to solve for the camera's position, an assumption of zero rotation or translation between the image frames is used as an initial guess for a numerical solve operation.
- the depths of the observed points in the scene may initially be set to random distances, for example between 2 and 4 meters. This initial guess may actually be close to the true solution, and by chance, a significant fraction of the randomly assigned depths will in fact be correct.
- the captured video may be considered a sequence of N c image frames with N c points in 3 dimensions ("3D") . Every point may visible to all the images .
- the position of the y ' th point in the coordinate system of the reference camera may be Pj .
- the Pj ' s position in the coordinate system of the tth camera may be RtPj + Tj .
- each 3D point may be parametized by its inverse depth.
- the cost function of the bundle adjustment in the retina plane may be defined as:
- the depth may be simpler in the context of small motion, such as the user attempting hold a client computing device steady when capturing a still image as described above.
- the general form of f* and f? , f(x) ( ⁇ ) / where a and b are the zero and pole of the function, respectively.
- the function may be convex in [b,—— - I .
- the convexity analysis of the cost function may not depend on the approximation of the rotation matrix. Rather, it may be an exact property of depth estimation with small motion.
- the uncertainty in the depth estimation may also be determined. For example, consider a rectified stereo pair separated by a baseline b. The relationship between the d ,
- This may indicate that if the feature detection errors are independent, the standard deviation of the inverse depth estimation may decrease linearly with -Jn . However, if the feature detection errors are fully correlated, multiple observations may not help reduce uncertainty. Similar conclusions may be drawn from depth .
- the cost function of the bundle adjustment in the retina plane may also be optimized.
- the cost function may be optimized using a portable C++ library that allows for modeling and solving large complicated nonlinear least squares problems such as Ceres Solver.
- the result of the bundle adjustment is a depth map.
- This depth map may be considered a sparse depth map as it only includes an estimated depth for some fraction of the pixels in the reference image.
- a Markov random field (“MRF") framework may be used. This framework may be helpful to solve a smooth depth map as the depth signal at the pixels may be noisy.
- a smoothness function which accounts for relationships between non-adjacent pixels may be used in order to preserve consistency of depth around an object within the scene.
- second order smoothness may be combined with long range connection in an MRF energy function .
- the depth map may be associated with the image captured by the user. Such information may be useful to generate 3D models, for authentication, and for other such technologies.
- the depth map may also be used to generate a 3D representation of the scene. Because all of the image frames of the video are likely to show the scene from a similar viewpoint, the 3D representation may only be generated for that viewpoint. Thus, the output of the 3D representation may be of the reference view.
- the input may be a set of image frames.
- the index set of the pixels in a reference image frame I may be H
- the color of the ith pixel may be l(i),ieH
- D may represent a dense depth map.
- L may map each pizel index ieH to a 2-dimensional ("2D") location in an image frame.
- the photo consistency function may be represented by P such that P(i, d) is the photo consistency score of the ith pixel at a distance d.
- the function E s may represent the smoothness prior which places a cost function, p s , on the smoothness function S of a neighborhood ⁇ c H 3 , as well as a per-neighborhood conditional random field ("CRF") weight function W .
- the function E c may connect distant pixels with similar colors as they are likely to have the same depth and belong to the same object.
- a background object may be obstructed by an object in the foreground.
- the background object should have approximately the same depth on either side of the foreground object.
- c and ⁇ ⁇ may be parameters to control the connection strength and range.
- This function C(i,j,I,L,D) may provide a score for the depth assignment of the tth and the jt pixels based on the color intensities and their locations in the reference images .
- E p may be solved easily as no two pixels depend on one another.
- the function C(i,j,I,L,D) may be used to solve E p (D) + aE s (D) .
- a similar MRF may be solved with first-order smoothness using approximate optimization such as graph cut and then use the resulted labels to initialize and solve E p (D) + aE s (D) .
- the whole energy may be optimized as a continuous function as well, although this may be less efficient than other options.
- a mean field method with an efficient implementation may be used.
- FIGURES 5A and 5B are examples of 3D reconstructions generated using the example techniques described above.
- FIGURE 5A is an example of a reconstruction of reference image frame 330.
- Data 512 is a representation of the bundle adjustment results for image frame 330 using a video including approximately 100 image frames.
- Data 514 is a representation of the foreground points of data 512 and demonstrates that although distance points have relatively large uncertainty, the foreground points may recover shape fairly well.
- Data 516 is an example depth map generated from the bundle adjustment results of data 512.
- FIGURE 5B is an example of a 3D representation of a reference image frame 520.
- Data 522 is a representation of the bundle adjustment results for image frame 522 using a video including approximately 100 image frames.
- Data 524 is a representation of the foreground points of data 522 and demonstrates that although distance points have relatively large uncertainty, the foreground points may recover shape fairly well.
- Data 526 is an example depth map generated from the bundle adjustment results of data 522.
- the minimum number of images required may depend upon various factors including the amount of light, the quality of the optics and resolution of the camera, the amount of movement by the user, and how far away the scene is.
- 100 image frames may be captured in approximately 4 seconds and used to generate a depth map of an object between 2 and 5 meters with a depth error of about 0.25 meters 50% of the time.
- FIGURE 6 demonstrates the change in depth estimation uncertainty with the number of cameras (video frames) in the example of FIGURE 5A.
- Figure 7 is an example of using a robustifier where the camera of the reference image frame is fixed at the coordinate origin.
- image frame 710 may be the 20th image frame in a video of approximately 100 image frames
- image frame 720 may be the 60th image frame in the video.
- These image frames are depicted with features points overlaid on the image frames. Rectangles 712, 714, 722, and 724 highlight tracking outliers.
- the bundle adjustment results for the video are depicted by data 730.
- the video, and in some examples, the captured image may be uploaded by the user to one or more server computing devices .
- the depth map may be determined by the server computing device.
- the results may be associated with the image and stored by the server computing device and/or may be sent back to the client computing device.
- Flow diagram 800 of FIGURE 8 is an example of some of the aspects described above which may be performed by one or more computing devices, such as the client computing devices described above.
- one or more computing devices receive an initialization request for a still image capture mode at block 802. After receiving the request to initialize the still image capture mode, the one or more automatically begin to capture a video including a plurality of image frames at block 804.
- the one or more computing devices track features between a first image frame of the video and each of the other image frames of the video at block 806.
- the one or more computing devices generate a set of 3D points corresponding to the tracked features using a set of assumptions at block 808.
- This set of assumptions includes a first assumption that there is no rotation between the plurality of image frames of the video and a second assumption that there is no translation between the plurality of image frames of the video.
- the one or more computing devices also generate a depth map of the scene based at least in part on the set of 3D points at block 810.
- the present invention enjoys wide industrial applicability including, but not limited to, generating depth data from a video .
Abstract
Description
Claims
Applications Claiming Priority (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US14/061,423 US8760500B1 (en) | 2013-10-23 | 2013-10-23 | Depth map generation |
US14/278,471 US10681336B2 (en) | 2013-10-23 | 2014-05-15 | Depth map generation |
PCT/US2014/060084 WO2015061061A1 (en) | 2013-10-23 | 2014-10-10 | Depth map generation |
Publications (2)
Publication Number | Publication Date |
---|---|
EP3061064A1 true EP3061064A1 (en) | 2016-08-31 |
EP3061064B1 EP3061064B1 (en) | 2021-06-30 |
Family
ID=50944078
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
EP14787371.5A Active EP3061064B1 (en) | 2013-10-23 | 2014-10-10 | Depth map generation |
Country Status (5)
Country | Link |
---|---|
US (2) | US8760500B1 (en) |
EP (1) | EP3061064B1 (en) |
CN (1) | CN105765628B (en) |
DE (1) | DE202014010922U1 (en) |
WO (1) | WO2015061061A1 (en) |
Families Citing this family (14)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US9225959B2 (en) * | 2012-01-10 | 2015-12-29 | Samsung Electronics Co., Ltd. | Method and apparatus for recovering depth value of depth image |
US20140300702A1 (en) * | 2013-03-15 | 2014-10-09 | Tagir Saydkhuzhin | Systems and Methods for 3D Photorealistic Automated Modeling |
US9292906B1 (en) * | 2013-09-06 | 2016-03-22 | Google Inc. | Two-dimensional image processing based on third dimension data |
CN108107571B (en) * | 2013-10-30 | 2021-06-01 | 株式会社摩如富 | Image processing apparatus and method, and non-transitory computer-readable recording medium |
CN106157307B (en) * | 2016-06-27 | 2018-09-11 | 浙江工商大学 | A kind of monocular image depth estimation method based on multiple dimensioned CNN and continuous CRF |
CN109559271B (en) * | 2017-09-26 | 2023-02-28 | 富士通株式会社 | Method and device for optimizing depth image |
CN109816709B (en) * | 2017-11-21 | 2020-09-11 | 深圳市优必选科技有限公司 | Monocular camera-based depth estimation method, device and equipment |
US10739784B2 (en) * | 2017-11-29 | 2020-08-11 | Qualcomm Incorporated | Radar aided visual inertial odometry initialization |
CN107992848B (en) * | 2017-12-19 | 2020-09-25 | 北京小米移动软件有限公司 | Method and device for acquiring depth image and computer readable storage medium |
CN111344644B (en) * | 2018-08-01 | 2024-02-20 | 深圳市大疆创新科技有限公司 | Techniques for motion-based automatic image capture |
US11080532B2 (en) * | 2019-01-16 | 2021-08-03 | Mediatek Inc. | Highlight processing method using human pose based triggering scheme and associated system |
US20200314411A1 (en) * | 2019-03-29 | 2020-10-01 | Alibaba Group Holding Limited | Synchronizing an illumination sequence of illumination sources with image capture in rolling shutter mode |
US11182630B2 (en) | 2019-03-29 | 2021-11-23 | Advanced New Technologies Co., Ltd. | Using an illumination sequence pattern for biometric authentication |
US20210279967A1 (en) * | 2020-03-06 | 2021-09-09 | Apple Inc. | Object centric scanning |
Family Cites Families (20)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
JP3973525B2 (en) * | 2002-09-24 | 2007-09-12 | シャープ株式会社 | Electronic device having 2D (2D) and 3D (3D) display functions |
WO2006083297A2 (en) * | 2004-06-10 | 2006-08-10 | Sarnoff Corporation | Method and apparatus for aligning video to three-dimensional point clouds |
US7324687B2 (en) * | 2004-06-28 | 2008-01-29 | Microsoft Corporation | Color segmentation-based stereo 3D reconstruction system and process |
GB0502891D0 (en) * | 2005-02-12 | 2005-03-16 | Next Device Ltd | User interfaces |
EP1862969A1 (en) * | 2006-06-02 | 2007-12-05 | Eidgenössische Technische Hochschule Zürich | Method and system for generating a representation of a dynamically changing 3D scene |
JP4458151B2 (en) * | 2007-11-06 | 2010-04-28 | ソニー株式会社 | Automatic imaging apparatus, automatic imaging control method, image display system, image display method, display control apparatus, display control method |
US8456517B2 (en) * | 2008-07-09 | 2013-06-04 | Primesense Ltd. | Integrated processor for 3D mapping |
CN101400001B (en) | 2008-11-03 | 2010-06-02 | 清华大学 | Generation method and system for video frame depth chart |
CN101815225B (en) | 2009-02-25 | 2014-07-30 | 三星电子株式会社 | Method for generating depth map and device thereof |
US8483715B2 (en) * | 2009-03-26 | 2013-07-09 | Yahoo! Inc. | Computer based location identification using images |
US8717417B2 (en) * | 2009-04-16 | 2014-05-06 | Primesense Ltd. | Three-dimensional mapping and imaging |
CN101945295B (en) | 2009-07-06 | 2014-12-24 | 三星电子株式会社 | Method and device for generating depth maps |
US9380292B2 (en) | 2009-07-31 | 2016-06-28 | 3Dmedia Corporation | Methods, systems, and computer-readable storage media for generating three-dimensional (3D) images of a scene |
CN102760234B (en) | 2011-04-14 | 2014-08-20 | 财团法人工业技术研究院 | Depth image acquisition device, system and method |
AU2011224051B2 (en) * | 2011-09-14 | 2014-05-01 | Canon Kabushiki Kaisha | Determining a depth map from images of a scene |
FR2981185B1 (en) * | 2011-10-10 | 2014-02-14 | Univ Blaise Pascal Clermont Ii | METHOD OF CALIBRATING A COMPUTER VISION SYSTEM ON A MOBILE |
US8995785B2 (en) | 2012-02-28 | 2015-03-31 | Lytro, Inc. | Light-field processing and analysis, camera control, and user interfaces and interaction on light-field capture devices |
US9159135B2 (en) * | 2012-03-28 | 2015-10-13 | Intel Corporation | Systems, methods, and computer program products for low-latency warping of a depth map |
US8923638B2 (en) * | 2012-04-06 | 2014-12-30 | Adobe Systems Incorporated | Algorithm selection for structure from motion |
CN103177446B (en) | 2013-03-13 | 2016-03-30 | 北京航空航天大学 | Based on the accurate extracting method of display foreground of neighborhood and non-neighborhood smoothing prior |
-
2013
- 2013-10-23 US US14/061,423 patent/US8760500B1/en active Active
-
2014
- 2014-05-15 US US14/278,471 patent/US10681336B2/en active Active
- 2014-10-10 DE DE202014010922.2U patent/DE202014010922U1/en active Active
- 2014-10-10 WO PCT/US2014/060084 patent/WO2015061061A1/en active Application Filing
- 2014-10-10 CN CN201480063939.0A patent/CN105765628B/en active Active
- 2014-10-10 EP EP14787371.5A patent/EP3061064B1/en active Active
Non-Patent Citations (2)
Title |
---|
None * |
See also references of WO2015061061A1 * |
Also Published As
Publication number | Publication date |
---|---|
DE202014010922U1 (en) | 2017-03-03 |
US8760500B1 (en) | 2014-06-24 |
WO2015061061A1 (en) | 2015-04-30 |
US20150109416A1 (en) | 2015-04-23 |
CN105765628B (en) | 2018-11-13 |
EP3061064B1 (en) | 2021-06-30 |
CN105765628A (en) | 2016-07-13 |
US10681336B2 (en) | 2020-06-09 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US8760500B1 (en) | Depth map generation | |
US9087405B2 (en) | Depth map generation using bokeh detection | |
Yu et al. | 3d reconstruction from accidental motion | |
CN101933335B (en) | Method and system for converting 2d image data to stereoscopic image data | |
TWI587205B (en) | Method and system of three - dimensional interaction based on identification code | |
US20190156504A1 (en) | Three-dimensional (3d) reconstructions of dynamic scenes using a reconfigurable hybrid imaging system | |
US20100182406A1 (en) | System and method for three-dimensional object reconstruction from two-dimensional images | |
US9936128B2 (en) | Automatic detection of panoramic gestures | |
EP3022899A1 (en) | Feature-based image set compression | |
CN106256124A (en) | Structuring is three-dimensional | |
KR20200000106A (en) | Method and apparatus for reconstructing three dimensional model of object | |
Lan et al. | Development of a virtual reality teleconference system using distributed depth sensors | |
US9208549B2 (en) | Method and apparatus for color transfer between images | |
KR101797814B1 (en) | Teaching apparatus, method for child based on image comparison algorithm | |
EP3391330B1 (en) | Method and device for refocusing at least one plenoptic video | |
Lu et al. | Efficient video sequences alignment using unbiased bidirectional dynamic time warping | |
Huang et al. | Using Wavelet Transformation and Edge Detection to Generate a Depth Map from a Single Image | |
US10027887B1 (en) | Dynamic 3D panoramas | |
Fallqvist | Automatic Volume Estimation Using Structure-from-Motion Fused with a Cellphone's Inertial Sensors | |
Keane et al. | Practical image registration concerns overcome by the weighted and filtered mutual information metric | |
Soto et al. | Fast and correspondence-less camera motion estimation based on voting mechanism and morton codes | |
Mao et al. | Design and implementation of H. 264 based embedded video coding technology | |
CN115497029A (en) | Video processing method, device and computer readable storage medium | |
Kang | A Framework for Mobile Object Recognition of Internet of Things Devices and Inference with Contexts | |
Du et al. | Image depth estimation from compressed sensing theory |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
PUAI | Public reference made under article 153(3) epc to a published international application that has entered the european phase |
Free format text: ORIGINAL CODE: 0009012 |
|
17P | Request for examination filed |
Effective date: 20160421 |
|
AK | Designated contracting states |
Kind code of ref document: A1Designated state(s): AL AT BE BG CH CY CZ DE DK EE ES FI FR GB GR HR HU IE IS IT LI LT LU LV MC MK MT NL NO PL PT RO RS SE SI SK SM TR |
|
AX | Request for extension of the european patent |
Extension state: BA ME |
|
DAX | Request for extension of the european patent (deleted) | ||
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: EXAMINATION IS IN PROGRESS |
|
17Q | First examination report despatched |
Effective date: 20170203 |
|
RAP1 | Party data changed (applicant data changed or rights of an application transferred) |
Owner name: GOOGLE LLC |
|
REG | Reference to a national code |
Ref country code: DERef legal event code: R079Ref document number: 602014078454Country of ref document: DEFree format text: PREVIOUS MAIN CLASS: G06T0007000000Ipc: G06T0007579000 |
|
RIC1 | Information provided on ipc code assigned before grant |
Ipc: G06T 7/579 20170101AFI20201130BHEPIpc: H04N 13/271 20180101ALI20201130BHEP |
|
GRAP | Despatch of communication of intention to grant a patent |
Free format text: ORIGINAL CODE: EPIDOSNIGR1 |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: GRANT OF PATENT IS INTENDED |
|
INTG | Intention to grant announced |
Effective date: 20210112 |
|
RIN1 | Information on inventor provided before grant (corrected) |
Inventor name: SEITZ, STEVEN, MAXWELLInventor name: GALLUP, DAVID, ROBERTInventor name: YU, FU |
|
GRAS | Grant fee paid |
Free format text: ORIGINAL CODE: EPIDOSNIGR3 |
|
GRAA | (expected) grant |
Free format text: ORIGINAL CODE: 0009210 |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: THE PATENT HAS BEEN GRANTED |
|
AK | Designated contracting states |
Kind code of ref document: B1Designated state(s): AL AT BE BG CH CY CZ DE DK EE ES FI FR GB GR HR HU IE IS IT LI LT LU LV MC MK MT NL NO PL PT RO RS SE SI SK SM TR |
|
REG | Reference to a national code |
Ref country code: CHRef legal event code: EP |
|
REG | Reference to a national code |
Ref country code: ATRef legal event code: REFRef document number: 1407048Country of ref document: ATKind code of ref document: TEffective date: 20210715 |
|
REG | Reference to a national code |
Ref country code: DERef legal event code: R096Ref document number: 602014078454Country of ref document: DE |
|
REG | Reference to a national code |
Ref country code: IERef legal event code: FG4D |
|
REG | Reference to a national code |
Ref country code: LTRef legal event code: MG9D |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: FIFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210630Ref country code: BGFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210930Ref country code: HRFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210630 |
|
REG | Reference to a national code |
Ref country code: NLRef legal event code: MPEffective date: 20210630 |
|
REG | Reference to a national code |
Ref country code: ATRef legal event code: MK05Ref document number: 1407048Country of ref document: ATKind code of ref document: TEffective date: 20210630 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: NOFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210930Ref country code: SEFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210630Ref country code: RSFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210630Ref country code: GRFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211001Ref country code: LVFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210630 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: SMFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210630Ref country code: SKFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210630Ref country code: EEFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210630Ref country code: CZFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210630Ref country code: ATFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210630Ref country code: PTFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20211102Ref country code: ROFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210630Ref country code: NLFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210630Ref country code: ESFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210630 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: PLFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210630 |
|
REG | Reference to a national code |
Ref country code: DERef legal event code: R097Ref document number: 602014078454Country of ref document: DE |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: DKFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210630 |
|
PLBE | No opposition filed within time limit |
Free format text: ORIGINAL CODE: 0009261 |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: NO OPPOSITION FILED WITHIN TIME LIMIT |
|
REG | Reference to a national code |
Ref country code: CHRef legal event code: PL |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: ALFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210630 |
|
26N | No opposition filed |
Effective date: 20220331 |
|
REG | Reference to a national code |
Ref country code: BERef legal event code: MMEffective date: 20211031 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: MCFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210630 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: LUFree format text: LAPSE BECAUSE OF NON-PAYMENT OF DUE FEESEffective date: 20211010Ref country code: ITFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210630Ref country code: BEFree format text: LAPSE BECAUSE OF NON-PAYMENT OF DUE FEESEffective date: 20211031 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: LIFree format text: LAPSE BECAUSE OF NON-PAYMENT OF DUE FEESEffective date: 20211031Ref country code: CHFree format text: LAPSE BECAUSE OF NON-PAYMENT OF DUE FEESEffective date: 20211031 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: IEFree format text: LAPSE BECAUSE OF NON-PAYMENT OF DUE FEESEffective date: 20211010 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: LTFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210630 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: HUFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMIT; INVALID AB INITIOEffective date: 20141010 |
|
P01 | Opt-out of the competence of the unified patent court (upc) registered |
Effective date: 20230508 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: CYFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210630 |
|
PGFP | Annual fee paid to national office [announced via postgrant information from national office to epo] |
Ref country code: GBPayment date: 20231027Year of fee payment: 10 |
|
PGFP | Annual fee paid to national office [announced via postgrant information from national office to epo] |
Ref country code: FRPayment date: 20231025Year of fee payment: 10Ref country code: DEPayment date: 20231027Year of fee payment: 10 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: MKFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20210630 |