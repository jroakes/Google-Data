EP3143516A1 - Disambiguation of queries implicit to multiple entities - Google Patents
Disambiguation of queries implicit to multiple entitiesInfo
- Publication number
- EP3143516A1 EP3143516A1 EP15722417.1A EP15722417A EP3143516A1 EP 3143516 A1 EP3143516 A1 EP 3143516A1 EP 15722417 A EP15722417 A EP 15722417A EP 3143516 A1 EP3143516 A1 EP 3143516A1
- Authority
- EP
- European Patent Office
- Prior art keywords
- entity
- entities
- query
- user device
- user
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Withdrawn
Links
Classifications
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/90—Details of database functions independent of the retrieved data types
- G06F16/95—Retrieval from the web
- G06F16/953—Querying, e.g. by the use of web search engines
- G06F16/9537—Spatial or temporal dependent retrieval, e.g. spatiotemporal queries
Definitions
- the Internet provides access to a wide variety of resources, such as image files, audio files, video files, and web pages.
- a search system can identify resources in response to queries submitted by users and provide information about the resources in a manner that is useful to the users. The users can navigate through, e.g., click on, search results to acquire information of interest.
- This specification relates to interpreting user queries based on a location of a user device.
- Implementations of the present disclosure are generally directed to rewriting queries based on one or more implied entities. More particularly, implementations of the present disclosure are directed to identifying a set of entities based on an approximate location of a user device that submits a query, determining that the query is implicitly directed to multiple entities of the set of entities, selectively providing an interface for disambiguation of the multiple entities, and rewriting the query to explicitly reference an entity of the set of entities. In some examples, the entity is identified by the user using the disambiguation interface.
- innovative aspects of the subject matter described in this specification can be embodied in methods that include actions of receiving a first query provided from a user device, and determining that the first query is implicitly about some entity, and in response: obtaining a first approximate location of the user device when the user device provided the first query, obtaining a first set of entities including a plurality of entities, each entity in the first set of entities being associated with the first approximate location, determining that the first query is implicitly about at least two entities in the first set of entities, and in response providing a first selection interface for display to the user, the first selection interface including graphical representations, each graphical representation representing a respective entity of the at least two entities of the first set of entities, receiving user input indicating user selection of a first entity, and providing a first revised query based on the first query and the first entity, the first revised query explicitly referencing the first entity.
- Other implementations of this aspect include corresponding systems, apparatus, and computer programs, configured to perform the actions of the methods, encoded on computer storage devices.
- a graphical representation includes one or more of a name of a respective entity, a type of the respective entity, an approximate distance between the user device and the respective entity, one or more images of the respective entity, a rating of the respective entity, an address of the respective entity, a telephone number of the respective entity, and one or more results that would be displayed, if the respective entity is selected; actions further include: receiving a second query provided from the user device, and determining that the second query is implicitly about some entity, and in response: obtaining a second approximate location of the user device when the user device provided the second query, obtaining a second set of entities including a plurality of entities, each entity in the second set of entities being associated with the second approximate location, determining that the second query is implicitly about at least two entities in the second set of entities, automatically, without displaying a second selection interface, selecting a second entity, and providing a second revised query based on the second query and the second entity, the second revised query explicitly
- a disambiguation interface can be selectively provided to the user. For example, previous information can be processed to determine whether to provide the disambiguation interface, or to automatically select an entity without user input. In this manner, interaction with the user can be streamlined.
- the user submitting the query does not need to know the name of the entity that is the subject of the query. For example, the user can be standing near a monument and can submit the query [what is this monument], without having to first determine the name of the monument. In some examples, the user does not need to know how to properly pronounce and/or spell the name of the entity.
- implementations of the present disclosure enable users to more conveniently and naturally interact with a search system (e.g., submitting the query [show me lunch specials] instead of the query [Fino Ristorante & Bar lunch specials].
- search system e.g., submitting the query [show me lunch specials] instead of the query [Fino Ristorante & Bar lunch specials].
- FIG. 1 depicts an example environment in which a search system provides search results based on interpreted user queries.
- FIG. 2 depicts an example use cases in accordance with implementations of the present disclosure.
- FIG. 3 depicts an example disambiguation interface based on the example use case of FIG. 2.
- FIG. 4 depicts an example process that can be executed in accordance with implementations of the present disclosure.
- FIG. 5 depicts an example process that can be executed in accordance with implementations of the present disclosure.
- Implementations of the present disclosure are generally directed to rewriting queries based on one or more implied entities. More particularly, implementations of the present disclosure are directed to determining one or more entities that a received query is implicitly about, selecting an entity of the one or more entities, and rewriting the query to explicitly reference the selected entity.
- a set of entities is identified based on an approximate location of a user device that submits a query, each entity in the set of entities being determined to be sufficiently close to the approximate location.
- each entity it is determined whether one or more n-grams of the query correlate to a type of the entity, and, if a correlation is provided, the query is deemed to be potentially about the respective entity, and the entity is added to a sub-set of entities.
- an entity is selected from the sub-set of entities, and the query is rewritten to explicitly reference the selected entity.
- search results are provided based on the revised query.
- FIG. 1 depicts an example environment 100 in which a search system provides search results based on interpreted user queries.
- the example environment 100 enables users to interact with one or more computer-implemented services.
- Example computer-implemented services can include a search service, an electronic mail service, a chat service, a document sharing service, a calendar sharing service, a photo sharing service, a video sharing service, blogging service, a micro- blogging service, a social networking service, a location (location-aware) service, a check-in service and a ratings and review service.
- a search system 120 is depicted, which provides a search service, as described in further detail herein.
- the example environment 100 includes a network 102, e.g., a local area network (LAN), wide area network (WAN), the Internet, or a combination thereof, connects web sites 104, user devices 106, and the search system 120.
- the network 102 can be accessed over a wired and/or a wireless communications link.
- mobile computing devices such as smartphones can utilize a cellular network to access the network 102.
- the environment 100 may include millions of web sites 104 and user devices 106.
- a web site 104 is provided as one or more resources 105 associated with a domain name and hosted by one or more servers.
- An example web site is a collection of web pages formatted in an appropriate machine-readable language, e.g., hypertext markup language (HTML), that can contain text, images, multimedia content, and programming elements, e.g., scripts.
- HTML hypertext markup language
- Each web site 104 is maintained by a publisher, e.g., an entity that manages and/or owns the web site.
- a resource 105 is data provided over the network 102 and that is associated with a resource address, e.g., a uniform resource locator (URL).
- resources 105 that can be provided by a web site 104 include web pages, word processing documents, and portable document format (PDF) documents, images, video, and feed sources, among other appropriate digital content.
- PDF portable document format
- the resources 105 can include content, e.g., words, phrases, images and sounds and may include embedded information, e.g., meta information and hyperlinks, and/or embedded instructions, e.g., scripts.
- a user device 106 is an electronic device that is capable of requesting and receiving resources 105 over the network 102.
- Example user devices 106 include personal computers, laptop computers, and mobile computing devices, e.g., smartphones and/or tablet computing devices, that can send and receive data over the network 102.
- mobile computing device refers to a user device that is configured to communicate over a mobile communications network.
- a smartphone e.g., a phone that is enabled to communicate over the Internet, is an example of a mobile device.
- a user device 106 can execute a user application, e.g., a web browser, to facilitate the sending and receiving of data over the network 102.
- the search system 120 identifies the resources 105 by crawling and indexing the resources 105 provided on web sites 104. Data about the resources 105 can be indexed based on the resource to which the data corresponds. The indexed and, optionally, cached copies of the resources 105 are stored in a search index 122.
- a user device 106 submit search queries 109 to the search system 120.
- a user device 106 can include one or more input modalities.
- Example modalities can include a keyboard, a touchscreen and/or a microphone.
- a user can use a keyboard and/or touchscreen to type in a search query.
- a user can speak a search query, the user speech being captured through a microphone, and being processed through speech recognition to provide the search query.
- a search results display can include one or more web pages, e.g., one or more search results pages.
- a web page can be provided based on a web document that can be written in any appropriate machine- readable language. It is contemplated, however, that implementations of the present disclosure can include other appropriate display types.
- search results can be provided in a display generated by an application that is executed on a computing device, and/or a display generated by an operating system, e.g., mobile operating system.
- search results can be provided based on any appropriate form, e.g., Javascript-html, plaintext.
- a search result 112 is data generated by the search system 120 that identifies a resource 105 that is responsive to a particular search query, and includes a link to the resource 105.
- An example search result 1 12 can include a web page title, a snippet of text or a portion of an image extracted from the web page, and the URL of the web page.
- data provided in the search results 1 12 can be retrieved from a resource data store.
- the search system 120 can provide the search results display 1 11, which displays the search results 1 12.
- the search results display 11 1 can be populated with information, e.g., a web page title, a snippet of text or a portion of an image extracted from the web page, that is provided from the resource data store.
- data for the search queries 109 submitted during user sessions are stored in a data store, such as the historical data store 124.
- the search system 120 can store received search queries in the historical data store 124.
- selection data specifying actions taken in response to search results 1 12 provided in response to each search query 109 are also stored in the historical data store 124, for example, by the search system 120. These actions can include whether a search result 112 was selected, e.g., clicked or hovered over with a pointer.
- the selection data can also include, for each selection of a search result 1 12, data identifying the search query 109 for which the search result 1 12 was provided.
- the example environment 100 also includes a query interpretation system 130 communicably coupled to the search system 120, e.g., directly coupled or coupled over a network such as network 102. Although the search system 120 and the query interpretation system 120 are depicted as separate systems in FIG.
- the search system 120 can include the query interpretation system 130.
- the query interpretation system 130 provides a revised query based on a query received from a user device 106.
- the revised query is provided based on an approximate location of the user device 106 that provided the query, and one or more entities that are determined to be proximate to the user device 106.
- the search results 112 provided by the search system 120 are responsive to the revised query.
- a plurality of entities and information associated therewith can be stored as structured data in a knowledge graph.
- a knowledge graph includes a plurality of nodes and edges between nodes.
- a node represents an entity and an edge represents a relationship between entities.
- the knowledge graph can be provided based on an example schema that structures data based on domains, types and properties.
- a domain includes one or more types that share a namespace.
- a namespace is provided as a directory of uniquely named objects, where each object in the namespace has a unique name, e.g., identifier.
- a type denotes an "is a" relationship about a topic, and is used to hold a collection of properties.
- a topic represents an entity, such as a person, place or thing.
- each topic can have one or more types associated therewith.
- a property is associated with a topic and defines a "has a" relationship between the topic and a value of the property.
- the value of the property can include another topic.
- a plurality of entities can be provided in one or more databases.
- a plurality of entities can be provided in a table that can provide data associated with each entity.
- Example data can include a name of the entity, a location of the entity, one or more types, described in further detail below, assigned to the entity, one or more ratings associated with the entity, and any other appropriate information that can be provided for the entity.
- Implementations of the present disclosure are generally directed to rewriting queries based on one or more implied entities. More particularly, implementations of the present disclosure are directed to identifying a set of entities based on an approximate location of a user device that submits a query, determining that the query is implicitly directed to multiple entities of the set of entities, selectively providing an interface for disambiguation of the multiple entities, and rewriting the query to explicitly reference an entity of the set of entities. In some examples, the entity is identified by the user using the disambiguation interface.
- FIG. 2 depicts an example use cases in accordance with implementations of the present disclosure.
- an area 200 is provided, in which a user device 202 is located.
- Multiple entities are also located within the area 200.
- Example entities can include a restaurant, a bar, a hotel, a theater, a school, a university, a music venue, a tourist attraction, and a park. It is appreciated that implementations of the present disclosure are not limited to entities specifically identified herein.
- an entity "Great Hotel” 204, an entity “Not-so-Great Hotel” 206, an entity “Horrible Hotel” 208, an entity “Acceptable Hotel” 210, and an entity “Awesome Pizza” 212 are provided in the area 200.
- a query is received from a user device.
- the user device 202 can provide a query to a search system, e.g., the search system 120 of FIG. 1.
- a search system e.g., the search system 120 of FIG. 1.
- it can be determined that the query is implicitly about an entity.
- the query is absent an explicit reference to an entity, it can be determined that the query is implicitly about an entity.
- the query includes a pronoun, it can be determined that the query is implicitly about an entity.
- the received query can be processed and can be compared to one or more query patterns to determine whether the query is implicitly referencing an entity.
- the query is processed to remove one or more stop words and/or conversational terms to provide a cleaned query. For example, the example query [can you please show me ratings] can be processed to provide
- the cleaned query is compared to one or more query patterns, each query pattern indicating an implicit reference to some entity. In some examples, if the cleaned query matches a query pattern, it is determined that the query is implicitly about some entity. In some examples, if the cleaned query does not match a query pattern, it is determined that the query is not implicitly about some entity. For example, the clean query [ratings], from the example above, can match a query pattern [ratings]. Consequently, it can be determined that the query [can you please show me ratings] is implicitly about some entity.
- the example query [can you please show me ratings for Awesome Pizza] can be processed to provide the cleaned query [ratings Awesome Pizza].
- the cleaned query [ratings Awesome Pizza] can be compared to one or more query patterns, and it can be determined that the cleaned query does not match any of the one or more query patterns.
- the term "Awesome Pizza" is specific to an entity, and is thus, not included in any of the query patterns. Consequently, it is determined that the query [can you please show me ratings for Awesome Pizza] is not implicitly about some entity. Instead, and in this example, the query [can you please show me ratings for Awesome Pizza] is explicitly about an entity, i.e., Awesome Pizza.
- an approximate location of the user device that submitted the query can be determined.
- the approximate location can be determined based on one or more location-related signals.
- Example location related-signals can include cellular signals, global-positioning system (GPS) signals, wireless signals (WiFi), and the like.
- location data that is representative of the one or more location-related signals is provided with the query.
- the location data is provided to a location service, which processes the location data and provides the approximate location of the user device.
- the approximate location can be provided as geographic coordinates, e.g., longitude, latitude.
- a time can be associated with the approximate location.
- the location service can provide the approximate location and a time associated therewith.
- the time indicates an approximate time, at which the user device is determined to be or have been at the approximate location.
- a time difference can be determined between a current time and the time associated with the approximate location, and can be compared to a threshold difference. In some examples, if the time difference exceeds the threshold difference, the approximate location is determined to not be sufficiently fresh. In some examples, the current time is provided as the time, at which the query was sent from the user device, or received by the search system.
- a set of entities is provided based on the approximate location. For example, if the confidence score exceeds the threshold confidence score and/or the approximate location is sufficiently fresh, the set of entities is provided, as described below.
- the set of entities includes one or more entities.
- the set of entities includes one or more entities that are determined to be sufficiently close to the approximate location, such that the query could be potentially about the one or more entities.
- the one or more entities are selected for inclusion in the set of entities based on a location of a respective entity relative to the approximate location.
- entities that are within a threshold distance, e.g., threshold radius, of the location can be identified, and are included in the set of entities.
- a geographic location can be divided into a grid that includes a plurality of cells, e.g., square or rectangular cells, each cell accounting for an area of the geographic location.
- each cell is associated with a set of entities that are located in the respective area.
- a cell, within which the approximate location lies can be identified, and can be provided as a central cell.
- a plurality of surrounding cells that surround the central cell can be identified.
- any cell that is at least partially within the threshold distance can be provided as a surrounding cell and can be included in the plurality of surrounding cells.
- the set of entities includes all entities associated with the central cell and each of the surrounding cells in the plurality of surrounding cells.
- a threshold radius 220 is provided, which defines a circular area 222.
- the example area 222 is circular, it is contemplated that the area can include any appropriate geometric shape.
- entities that lie within the area 222 are included in the set of entities. Consequently, in the example of FIG. 2, the entities "Great Hotel” 204, "Not-so-Great Hotel” 206, "Horrible Hotel” 208 and “Acceptable Hotel” 210 are included in the set of entities.
- the approximate location can be provided to an entity service, which processes the approximate location and provides the set of entities.
- each entity is associated with a respective type.
- the type corresponds to a category associated with the entity.
- the entity "Great Hotel” 204 can be provided as a type [hotel].
- the entity "Awesome Pizza” 212 can be provided as a type [restaurant].
- the entity service provides the respective type for each entity in the set of entities.
- the type of an entity is determined from the knowledge graph, or database, which store information about respective entities, as described above. In accordance with implementations of the present disclosure, for each entity in the set of entities, it is determined whether the query is implicitly referencing the entity. In some examples, the type of the entity is cross-referenced to an index.
- the index associates types to respective n-grams of queries.
- an n-gram includes one or more terms of a query. If it is determined, based on the index, that one or more n-grams of the query correlate to the type, the query is deemed to be potentially about the respective entity, and the entity is added to a sub-set of entities.
- the index is provided based on analysis of one or more search logs.
- the search logs provide a record of received queries.
- the search logs can be processed to provide the index.
- the search logs can be processed to determine that queries including the term [menu] correlate to the type [restaurant].
- the search logs can be processed to determine that queries including the term [reviews] correlate to the types [restaurant], [hotel], [movie], [play], [store] and [service provider].
- the index can be provided to correlate the term [menu] to the type [restaurant], and to correlate the terms [reviews] to the types [restaurant], [hotel], [movie], [play], [store], and [service provider].
- a revised query is provided based on the query and at least one entity in the sub-set of entities.
- the revised query is provided by rewriting the query to explicitly reference the at least one entity.
- an entity is selected from the set of entities.
- an entity of the subset of entities can be selected.
- the entity is selected based on user input.
- a selection interface is displayed to the user in response to multiple entities being included in the sub-set of entities.
- the selection interface includes a graphical representation of each entity in the sub-set of entities.
- a list of entities is represented in the selection interface.
- the list of entities includes an ordered list that has the entities ordered based on one or more attributes associated with the respective entities, and/or results that would be displayed based on respective revised queries that would be provided based on the respective entities.
- Example attributes include an approximate distance between the user and the entity, a rating of the entity, a popularity of the entity, and whether the user has previously submitted a query about the respective entity.
- Example attributes also include one or more user interactions.
- Example user interactions include locations physically visited by the user, a web page previously visited by the user.
- respective results can be provided for each entity, which can include results that would be provided, if the query were to be rewritten to explicitly reference the respective entity.
- the order of the entities can be at least partially based on the respective results. For example, entities associated with results of relatively higher quality can be displayed higher in the order than entities associated with results of relatively low quality.
- each graphical representation of an entity provides information associated with the entity.
- Example information includes a name of the entity, a type of the entity, an approximate distance between the user and the entity, one or more images of the entity, a rating of the entity, an address of the entity, and a telephone number of the entity.
- a graphical representation of an entity can include one or more results that would be displayed, if the query were to be rewritten to explicitly reference the respective entity.
- a graphical representation can be provided for each restaurant, each graphical representation including a result that is representative of a menu for the respective restaurant, e.g., a hyperlink to the menu, a snippet of the menu, a thumbnail image of the menu.
- the query is rewritten to provide a revised query that explicitly references the entity selected by the user.
- the revised query is provided to a search service.
- the search service provides search results that are responsive to the revised query, which search results are displayed to the user.
- an entity can be automatically selected without user input, e.g., without displaying a selection interface to the user.
- whether to automatically select an entity can be determined based on time, queries, and/or location.
- it can be determined that the user recently selected an entity using a selection interface, as described herein. For example, it can be determined that the user selected an entity a threshold time ago, e.g., X minute(s) ago, where X is a positive value.
- the entity can be selected.
- the user selected an entity a threshold number of queries ago e.g., X quer(y/ies) ago, where X is a positive value.
- the entity can be selected.
- the entity can be selected.
- the selection interface is not displayed, if the approximate location is determined not to be sufficiently fresh and/or not to be sufficiently accurate.
- a time difference can be determined between a current time and the time associated with the approximate location, and can be compared to a threshold difference. In some examples, if the time difference exceeds the threshold difference, the approximate location is determined to not be sufficiently fresh. Consequently, a selection interface is not displayed.
- an accuracy of the user's location can be provided and can be compared to an accuracy threshold. For example, the accuracy of the user's location can be provided as 50 ft., meaning that the approximate location is accurate within 50 ft. An example accuracy threshold can be provided as 20 ft. If, for example, the accuracy exceeds the accuracy threshold, the approximate location is not sufficiently accurate. Consequently, a selection interface is not displayed
- the query [show me room rates] is received, and it is determined that the entity "Great Hotel” 204 having the type [hotel], the entity “Not-so-Great Hotel” 206 having the type [hotel], the entity “Horrible Hotel” 208 having the type [hotel], and the entity “Awesome Pizza” 212 having the type [restaurant] are within the threshold distance of the approximate location of the user device 202. Consequently, the entities "Great Hotel” 204, “Not-so-Great Hotel” 206, “Horrible Hotel” 208 and “Awesome Pizza” 212 are included in a set of entities. In this example, it is determined that one or more of the n-grams [room], [rate] and [room rate] correlate to the type [hotel].
- the entities "Great Hotel” 204, "Not-so-Great Hotel” 206 and “Horrible Hotel” 208 are included in a sub-set of entities. Also in this example, it is determined that none of the n-grams [room], [rate] and [room rate] correlate to the type [restaurant]. Consequently, the entity “Awesome Pizza” 212 is not included in the sub-set of entities. It is determined that the sub-set of entities includes multiple entities, e.g., "Great Hotel,” “Not-so-Great Hotel,” and “Horrible Hotel.” In response, a selection interface can be displayed to the user, the selection interface including respective graphical elements, etc.
- FIG. 3 depicts an example selection interface 300 based on the example use case of FIG. 2.
- the selection interface 300 includes graphical representations 302, 304, 306, respectively representing the entities "Great Hotel,” “Not- so-Great Hotel” and "Horrible Hotel.”
- each graphical representation 302, 304, 306 includes data associated with the respective entity.
- each graphical representation 302, 304, 306 provides a name 310 of the entity, an image 312 associated with the entity, contact information 314 for the entity, an approximate distance 316 between the user device 202 and the entity, and respective representations of search results 318, which include search results that would be provided, if the respective entity is selected.
- the selection interface also includes a selection icon 328 that enables the user to search for other entities that are not graphically represented in the selection interface 300.
- the user can select the selection icon 328, and graphical representations of additional entities that are within an enlarged threshold distance from the approximate location of the user device 202 can be displayed.
- the graphical representation 302 of the entity "Great Hotel” can be displayed more prominently than the graphical representation 304 of the entity "Not-so-Great Hotel,” and the graphical representation 306 of the entity "Horrible Hotel.”
- the user can select an entity using the selection interface 300.
- the user can tap-on a graphical representation 302, 304, 306 to select an entity.
- the user selects "Great Hotel” using the selection interface 300.
- the query can be rewritten to explicitly reference the entity "Great Hotel” instead of the entity "Not-so-Great Hotel” or the entity "Horrible Hotel.”
- the query [show me room rates] can be rewritten to provide the revised query [room rates Great Hotel].
- the revised query can be provided to a search service, and search results that are responsive to the revised query can be received.
- the search query [show me room rates] was received, the entities "Great Hotel,” “Not-so-Great Hotel” and “Horrible Hotel” were included in the sub-set of entities, a selection interface was displayed to the user, the selection interface including respective graphical representations of "Great Hotel,” “Not- so-Great Hotel,” and “Horrible Hotel,” the user selected "Great Hotel,” and the query was rewritten to explicitly reference "Great Hotel.”
- the search query [show me room images] is next received. It is determined that the entity "Great Hotel” 204 having the type [hotel], the entity “Not-so-Great Hotel” 206 having the type [hotel], the entity “Horrible Hotel” 208 having the type [hotel], and the entity “Awesome Pizza” 212 having the type [restaurant] are within the threshold distance of the approximate location of the user device 202. Consequently, the entities "Great Hotel” 204, "Not-so- Great Hotel” 206, “Horrible Hotel” 208 and “Awesome Pizza” 212 are included in a set of entities.
- n-grams [room], [images] and [room images] correlate to the type [hotel]. Consequently, the entities "Great Hotel” 204, "Not-so-Great Hotel” 206 and "Horrible Hotel” are included in a subset of entities. Also in this example, it is determined that the n-grams [room] and [room images] do not correlate to the type [restaurant]. Consequently, the entity "Awesome Pizza" 212 is not included in the sub-set of entities.
- the sub-set of entities includes multiple entities, e.g., "Great Hotel,” “Not-so-Great Hotel” and “Horrible Hotel.” It is also determined that the user device 202 is within a threshold distance of when the previous query [show me room rates] was received, and that the user previously selected "Great Hotel” from a previously displayed selection interface, e.g., the selection interface 300 of FIG. 3. In response, the entity "Great Hotel” is automatically selected, without displaying a selection interface to the user, and the query was rewritten to explicitly reference "Great Hotel.”
- the revised query can be provided to a search service, and search results that are responsive to the revised query can be received.
- the search query [show me room images] is received, and it is determined that the entity "Great Hotel” 204 having the type [hotel], the entity “Not-so- Great Hotel” 206 having the type [hotel], and the entity “Horrible Hotel” 208 having the type [hotel] are within the threshold distance of the approximate location of the user device 202. Consequently, the entities "Great Hotel” 204, “Not-so-Great Hotel” 206 and “Horrible Hotel” 208 are included in a set of entities. In this example, it is determined that one or more of the n-grams [room], [images] and [room images] correlate to the type [hotel]. Consequently, the entities "Great Hotel,” “Not-so-Great Hotel” and “Horrible Hotel” are included in a sub-set of entities.
- the sub-set of entities includes multiple entities, e.g., "Great Hotel,” “Not-so-Great Hotel,” and “Horrible Hotel,” and that the user previously selected "Great Hotel” from a previously displayed selection interface that was displayed in response to the query [show me room rates], e.g., the selection interface 300 of FIG. 3.
- the user device 202 is approximately Y feet away from the approximate location, from which the user device 202 had previously submitted the query [show me room rates], and that Y is greater than a threshold distance, e.g., X.
- a selection interface is displayed to the user, because the user device 202 is greater than the threshold distance away from where the user had submitted the query [show me room rates].
- the selection interface can include respective graphical representations of "Great Hotel,” “Not-so-Great Hotel,” and “Horrible Hotel,” and the user selects "Horrible Hotel” using the selection interface.
- the query can be rewritten to explicitly reference the entity “Horrible Hotel” instead of the entities "Great Hotel” and/or "Not-so-Great Hotel.”
- the query [show me room images] can be rewritten to provide the revised query [room images Horrible Hotel].
- the revised query can be provided to a search service, and search results that are responsive to the revised query can be received.
- FIG. 4 depicts an example process 400 that can be executed in accordance with implementations of the present disclosure.
- the example process 400 can be implemented, for example, by the example environment 100 of FIG. 1, e.g., the search system 120 and/or the query interpretation system 130.
- the example process 400 can be provided by one or more computer-executable programs executed using one or more computing devices.
- a query Q is received (402).
- the search system 120 and/or the query interpretation system 130 receives a query from a user device 106, 202.
- Location data is received (404).
- the search system 120 and/or the query interpretation system 130 receives a location data from the user device 106, 202.
- the location data can be provided with the query.
- a set of entities is received based on the location data (406).
- entities e within a threshold distance of the user device 106, 202 are determined and are included in the set of entities.
- the set of entities includes m entities, where m is greater than or equal to 1.
- a counter is set equal to 1 (408).
- the query Q is determined whether the query Q is implicitly about an entity a (410). In some examples, and as described herein, if one or more n-grams of the query Q are associated with a type of the entity ei, the query Q is determined to be implicitly about the entity e If the query Q is determined to be implicitly about the entity ei, the entity ei is included in a sub-set of entities (412). If the query Q is not determined to be implicitly about the entity ei, the entity ei is not included in a sub-set of entities, and it is determined whether the counter is equal to m (414). If the counter is not equal to m, all entities in the set of entities have not been considered. Consequently, the counter is incremented (416), and the example process 400 loops back.
- the query Q is rewritten based on the entity to provide the revised query (420). If the sub-set of entities includes multiple entities, it is determined whether an entity is to be automatically selected from the sub-set of entities (422). In some examples, and as described herein, whether to automatically select an entity can be determined based on time, queries and/or location. If an entity is to be automatically selected from the sub-set of entities, an entity is selected (424) and the query Q is rewritten based on the entity to provide the revised query (420).
- a selection interface is provided for display to the user (426).
- the search system 120 and/or the query interpretation system 130 provides instructions to the user device 106, 202 to display the selection interface.
- a user selection is received (428).
- the user can selected a graphical representation of an entity from the selection interface, and data indicating the user selection, e.g., indicating the selected entity, is received by the search system 120 and/or the query interpretation system 130.
- the query Q is rewritten based on the entity to provide the revised query (420). As described herein, the revised query is used, e.g., by the search service 120, to provide search results responsive to the query Q.
- FIG. 5 depicts an example process 500 that can be executed in accordance with implementations of the present disclosure.
- the example process 500 can be implemented, for example, by the example environment 100 of FIG. 1, e.g., the search system 120 and/or the query interpretation system 130.
- the example process 500 can be provided by one or more computer-executable programs executed using one or more computing devices.
- a query is received (502).
- the search system 120 and/or the query interpretation system 130 receives a query from a user device 106, 202. It is determined whether the query is implicitly about some entity (504). For example, it can be determined that the query is absent an explicit reference to an entity. Consequently, it can be determined that the query is implicitly about some entity. As another example, it can be determined that the query includes a pronoun. Consequently, it can be determined that the query is implicitly about an entity. If it is determined that the query is not implicitly about some entity, search results are provided based on the query (506). For example, the search system 120 can receive search results that are responsive to the query, and can provide the search results to the user device 106, 202.
- an approximate location of the user device is obtained (508).
- the search system 120 and/or the query interpretation system 130 receives location data from the user device 106, 202.
- the location data can be provided with the query.
- a set of entities is obtained (510).
- the set of entities includes one or more entities that are each a threshold distance from the approximate location of the user device 106, 202.
- the query is implicitly about an entity in the set of entities (514).
- the entity is selected, based on user input to a selection interface that is displayed on the user device. In some examples, and as described herein, the selection interface in response to determining that the query is implicitly about at least two entities in the set of entities.
- a revised query is provided (516).
- the query is rewritten to explicitly reference the entity.
- Search results are provided based on the revised query (518).
- the search system 120 can receive search results that are responsive to the revised query, and can provide the search results to the user device 106, 202.
- Implementations of the subject matter and the operations described in this specification can be realized in digital electronic circuitry, or in computer software, firmware, or hardware, including the structures disclosed in this specification and their structural equivalents, or in combinations of one or more of them. Implementations of the subject matter described in this specification can be realized using one or more computer programs, i.e., one or more modules of computer program instructions, encoded on computer storage medium for execution by, or to control the operation of, data processing apparatus. Alternatively or in addition, the program instructions can be encoded on an artificially-generated propagated signal, e.g., a machine-generated electrical, optical, or electromagnetic signal that is generated to encode information for transmission to suitable receiver apparatus for execution by a data processing apparatus.
- an artificially-generated propagated signal e.g., a machine-generated electrical, optical, or electromagnetic signal that is generated to encode information for transmission to suitable receiver apparatus for execution by a data processing apparatus.
- a computer storage medium can be, or be included in, a computer-readable storage device, a computer- readable storage substrate, a random or serial access memory array or device, or a combination of one or more of them. Moreover, while a computer storage medium is not a propagated signal, a computer storage medium can be a source or destination of computer program instructions encoded in an artificially-generated propagated signal. The computer storage medium can also be, or be included in, one or more separate physical components or media (e.g., multiple CDs, disks, or other storage devices).
- the operations described in this specification can be implemented as operations performed by a data processing apparatus on data stored on one or more computer- readable storage devices or received from other sources.
- the term "data processing apparatus” encompasses all kinds of apparatus, devices, and machines for processing data, including by way of example a programmable processor, a computer, a system on a chip, or multiple ones, or combinations, of the foregoing
- the apparatus can include special purpose logic circuitry, e.g., an FPGA (field programmable gate array) or an ASIC (application-specific integrated circuit).
- the apparatus can also include, in addition to hardware, code that creates an execution environment for the computer program in question, e.g., code that constitutes processor firmware, a protocol stack, a database management system, an operating system, a cross- platform runtime environment, a virtual machine, or a combination of one or more of them.
- the apparatus and execution environment can realize various different computing model infrastructures, such as web services, distributed computing and grid computing infrastructures.
- a computer program (also known as a program, software, software application, script, or code) can be written in any form of programming language, including compiled or interpreted languages, declarative or procedural languages, and it can be deployed in any form, including as a stand-alone program or as a module, component, subroutine, object, or other unit suitable for use in a computing environment.
- a computer program may, but need not, correspond to a file in a file system.
- a program can be stored in a portion of a file that holds other programs or data (e.g., one or more scripts stored in a markup language document), in a single file dedicated to the program in question, or in multiple coordinated files (e.g., files that store one or more modules, sub-programs, or portions of code).
- a computer program can be deployed to be executed on one computer or on multiple computers that are located at one site or distributed across multiple sites and interconnected by a communication network.
- the processes and logic flows described in this specification can be performed by one or more programmable processors executing one or more computer programs to perform actions by operating on input data and generating output.
- the processes and logic flows can also be performed by, and apparatus can also be implemented as, special purpose logic circuitry, e.g., an FPGA (field programmable gate array) or an ASIC (application-specific integrated circuit).
- processors suitable for the execution of a computer program include, by way of example, both general and special purpose microprocessors, and any one or more processors of any kind of digital computer.
- a processor will receive instructions and data from a read-only memory or a random access memory or both.
- Elements of a computer can include a processor for performing actions in accordance with instructions and one or more memory devices for storing instructions and data.
- a computer will also include, or be operatively coupled to receive data from or transfer data to, or both, one or more mass storage devices for storing data, e.g., magnetic, magneto-optical disks, or optical disks.
- mass storage devices for storing data
- a computer need not have such devices.
- a computer can be embedded in another device, e.g., a mobile telephone, a personal digital assistant (PDA), a mobile audio or video player, a game console, a Global Positioning System (GPS) receiver, or a portable storage device (e.g., a universal serial bus (USB) flash drive), to name just a few.
- PDA personal digital assistant
- GPS Global Positioning System
- USB universal serial bus
- Devices suitable for storing computer program instructions and data include all forms of non-volatile memory, media and memory devices, including by way of example semiconductor memory devices, e.g., EPROM, EEPROM, and flash memory devices; magnetic disks, e.g., internal hard disks or removable disks; magneto-optical disks; and CD-ROM and DVD-ROM disks.
- semiconductor memory devices e.g., EPROM, EEPROM, and flash memory devices
- magnetic disks e.g., internal hard disks or removable disks
- magneto-optical disks e.g., CD-ROM and DVD-ROM disks.
- the processor and the memory can be supplemented by, or incorporated in, special purpose logic circuitry.
- implementations of the subject matter described in this specification can be implemented on a computer having a display device, e.g., a CRT (cathode ray tube) or LCD (liquid crystal display) monitor, for displaying information to the user and a keyboard and a pointing device, e.g., a mouse or a trackball, by which the user can provide input to the computer.
- a display device e.g., a CRT (cathode ray tube) or LCD (liquid crystal display) monitor
- keyboard and a pointing device e.g., a mouse or a trackball
- Other kinds of devices can be used to provide for interaction with a user as well; for example, feedback provided to the user can be any form of sensory feedback, e.g., visual feedback, auditory feedback, or tactile feedback; and input from the user can be received in any form, including acoustic, speech, or tactile input.
- a computer can interact with a user by sending documents to and receiving documents from a device that is used
- Implementations of the subject matter described in this specification can be implemented in a computing system that includes a back-end component, e.g., as a data server, or that includes a middleware component, e.g., an application server, or that includes a front-end component, e.g., a client computer having a graphical user interface or a Web browser through which a user can interact with an implementation of the subject matter described in this specification, or any combination of one or more such back-end, middleware, or front-end components.
- the components of the system can be
- Examples of communication networks include a local area network (“LAN”) and a wide area network (“WAN”), an inter-network (e.g., the
- peer-to-peer networks e.g., ad hoc peer-to-peer networks.
- the computing system can include clients and servers.
- a client and server are generally remote from each other and typically interact through a communication network. The relationship of client and server arises by virtue of computer programs running on the respective computers and having a client-server relationship to each other.
- a server transmits data (e.g., an HTML page) to a client device (e.g., for purposes of displaying data to and receiving user input from a user interacting with the client device).
- client device e.g., for purposes of displaying data to and receiving user input from a user interacting with the client device.
- Data generated at the client device e.g., a result of the user interaction
Abstract
Description
Claims
Applications Claiming Priority (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US201461991950P | 2014-05-12 | 2014-05-12 | |
PCT/US2015/029696 WO2015175313A1 (en) | 2014-05-12 | 2015-05-07 | Disambiguation of queries implicit to multiple entities |
Publications (1)
Publication Number | Publication Date |
---|---|
EP3143516A1 true EP3143516A1 (en) | 2017-03-22 |
Family
ID=53177398
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
EP15722417.1A Withdrawn EP3143516A1 (en) | 2014-05-12 | 2015-05-07 | Disambiguation of queries implicit to multiple entities |
Country Status (3)
Country | Link |
---|---|
EP (1) | EP3143516A1 (en) |
CN (1) | CN106462603B (en) |
WO (1) | WO2015175313A1 (en) |
Families Citing this family (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN110059164B (en) * | 2018-01-11 | 2023-06-06 | 国际商业机器公司 | Method and system for presenting a user interface of a dialog system |
US20190213284A1 (en) | 2018-01-11 | 2019-07-11 | International Business Machines Corporation | Semantic representation and realization for conversational systems |
CN110555208B (en) * | 2018-06-04 | 2021-11-19 | 北京三快在线科技有限公司 | Ambiguity elimination method and device in information query and electronic equipment |
Family Cites Families (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
KR20080035089A (en) * | 2006-10-18 | 2008-04-23 | 야후! 인크. | Apparatus and method for providing regional information based on location |
US9141705B2 (en) * | 2009-06-15 | 2015-09-22 | Nuance Communications, Inc. | Method and system for search string entry and refinement on a mobile device |
US9275154B2 (en) * | 2010-06-18 | 2016-03-01 | Google Inc. | Context-sensitive point of interest retrieval |
US9152726B2 (en) * | 2010-12-01 | 2015-10-06 | Microsoft Technology Licensing, Llc | Real-time personalized recommendation of location-related entities |
US20130006914A1 (en) * | 2011-06-28 | 2013-01-03 | Microsoft Corporation | Exposing search history by category |
-
2015
- 2015-05-07 WO PCT/US2015/029696 patent/WO2015175313A1/en active Application Filing
- 2015-05-07 CN CN201580024802.9A patent/CN106462603B/en active Active
- 2015-05-07 EP EP15722417.1A patent/EP3143516A1/en not_active Withdrawn
Also Published As
Publication number | Publication date |
---|---|
CN106462603B (en) | 2020-03-27 |
WO2015175313A1 (en) | 2015-11-19 |
CN106462603A (en) | 2017-02-22 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US11397784B2 (en) | Structured user graph to support querying and predictions | |
US11709829B2 (en) | Retrieving context from previous sessions | |
US10354647B2 (en) | Correcting voice recognition using selective re-speak | |
US10474671B2 (en) | Interpreting user queries based on nearby locations | |
US9275147B2 (en) | Providing query suggestions | |
US20230244657A1 (en) | Query composition system | |
US10922321B2 (en) | Interpreting user queries based on device orientation | |
CN106462603B (en) | Disambiguation of queries implied by multiple entities | |
US20170277702A1 (en) | Interpreting user queries based on nearby locations | |
US10528564B2 (en) | Identifying teachable moments for contextual search |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
PUAI | Public reference made under article 153(3) epc to a published international application that has entered the european phase |
Free format text: ORIGINAL CODE: 0009012 |
|
17P | Request for examination filed |
Effective date: 20161121 |
|
AK | Designated contracting states |
Kind code of ref document: A1Designated state(s): AL AT BE BG CH CY CZ DE DK EE ES FI FR GB GR HR HU IE IS IT LI LT LU LV MC MK MT NL NO PL PT RO RS SE SI SK SM TR |
|
AX | Request for extension of the european patent |
Extension state: BA ME |
|
DAV | Request for validation of the european patent (deleted) | ||
DAX | Request for extension of the european patent (deleted) | ||
RAP1 | Party data changed (applicant data changed or rights of an application transferred) |
Owner name: GOOGLE LLC |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: THE APPLICATION IS DEEMED TO BE WITHDRAWN |
|
18D | Application deemed to be withdrawn |
Effective date: 20170701 |
|
P01 | Opt-out of the competence of the unified patent court (upc) registered |
Effective date: 20230522 |