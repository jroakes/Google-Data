CN103608860A - Method and apparatus for encoding a signal - Google Patents
Method and apparatus for encoding a signal Download PDFInfo
- Publication number
- CN103608860A CN103608860A CN201280028814.5A CN201280028814A CN103608860A CN 103608860 A CN103608860 A CN 103608860A CN 201280028814 A CN201280028814 A CN 201280028814A CN 103608860 A CN103608860 A CN 103608860A
- Authority
- CN
- China
- Prior art keywords
- signal
- produce
- frequency
- frequency band
- low
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Granted
Links
- 238000000034 method Methods 0.000 title claims abstract description 47
- 238000001228 spectrum Methods 0.000 claims description 49
- 238000001914 filtration Methods 0.000 claims description 28
- 238000006243 chemical reaction Methods 0.000 claims description 19
- 230000008569 process Effects 0.000 claims description 12
- 238000012545 processing Methods 0.000 abstract description 5
- 238000004519 manufacturing process Methods 0.000 abstract 1
- 238000007781 pre-processing Methods 0.000 abstract 1
- 238000005070 sampling Methods 0.000 description 22
- 238000010586 diagram Methods 0.000 description 21
- 238000007493 shaping process Methods 0.000 description 6
- 238000005516 engineering process Methods 0.000 description 4
- 239000000284 extract Substances 0.000 description 4
- 230000008901 benefit Effects 0.000 description 3
- 238000000605 extraction Methods 0.000 description 3
- 238000005086 pumping Methods 0.000 description 3
- 238000012952 Resampling Methods 0.000 description 2
- 230000009471 action Effects 0.000 description 2
- 238000006073 displacement reaction Methods 0.000 description 2
- 230000005284 excitation Effects 0.000 description 2
- 230000004044 response Effects 0.000 description 2
- 102100029469 WD repeat and HMG-box DNA-binding protein 1 Human genes 0.000 description 1
- 101710097421 WD repeat and HMG-box DNA-binding protein 1 Proteins 0.000 description 1
- 230000008859 change Effects 0.000 description 1
- 238000013461 design Methods 0.000 description 1
- 230000004048 modification Effects 0.000 description 1
- 238000012986 modification Methods 0.000 description 1
- 238000004064 recycling Methods 0.000 description 1
- 230000001172 regenerating effect Effects 0.000 description 1
- 230000035945 sensitivity Effects 0.000 description 1
- 230000005236 sound signal Effects 0.000 description 1
- 230000003595 spectral effect Effects 0.000 description 1
- 230000009466 transformation Effects 0.000 description 1
- 230000007704 transition Effects 0.000 description 1
- 238000013519 translation Methods 0.000 description 1
Images
Classifications
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L19/00—Speech or audio signals analysis-synthesis techniques for redundancy reduction, e.g. in vocoders; Coding or decoding of speech or audio signals, using source filter models or psychoacoustic analysis
- G10L19/005—Correction of errors induced by the transmission channel, if related to the coding algorithm
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L19/00—Speech or audio signals analysis-synthesis techniques for redundancy reduction, e.g. in vocoders; Coding or decoding of speech or audio signals, using source filter models or psychoacoustic analysis
- G10L19/02—Speech or audio signals analysis-synthesis techniques for redundancy reduction, e.g. in vocoders; Coding or decoding of speech or audio signals, using source filter models or psychoacoustic analysis using spectral analysis, e.g. transform vocoders or subband vocoders
- G10L19/0204—Speech or audio signals analysis-synthesis techniques for redundancy reduction, e.g. in vocoders; Coding or decoding of speech or audio signals, using source filter models or psychoacoustic analysis using spectral analysis, e.g. transform vocoders or subband vocoders using subband decomposition
- G10L19/0208—Subband vocoders
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L19/00—Speech or audio signals analysis-synthesis techniques for redundancy reduction, e.g. in vocoders; Coding or decoding of speech or audio signals, using source filter models or psychoacoustic analysis
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L21/00—Processing of the speech or voice signal to produce another audible or non-audible signal, e.g. visual or tactile, in order to modify its quality or its intelligibility
- G10L21/02—Speech enhancement, e.g. noise reduction or echo cancellation
- G10L21/038—Speech enhancement, e.g. noise reduction or echo cancellation using band spreading techniques
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L19/00—Speech or audio signals analysis-synthesis techniques for redundancy reduction, e.g. in vocoders; Coding or decoding of speech or audio signals, using source filter models or psychoacoustic analysis
- G10L19/04—Speech or audio signals analysis-synthesis techniques for redundancy reduction, e.g. in vocoders; Coding or decoding of speech or audio signals, using source filter models or psychoacoustic analysis using predictive techniques
- G10L19/16—Vocoder architecture
- G10L19/18—Vocoders using multiple modes
- G10L19/24—Variable rate codecs, e.g. for generating different qualities using a scalable representation such as hierarchical encoding or layered encoding
Abstract
A method and apparatus for encoding a signal is provided herein. During operation a wideband signal that is to be encoded enters a filter bank. A high-frequency band signal and a low-frequency band signal are output from the filter bank. Each signal is separately encoded. During the production of the high-frequency band signal, a down frequency mixing operation is implemented after preprocessing, and prior to decimating. The down frequency mixing operation greatly reduces system complexity. In fact, it will be observed that the highest sample rate in the prior-art implementation is 64 kHz whereas the sample rate in the system described above remains at 32 kHz or below. This represents a significant complexity saving, as do the reduced number of processing blocks.
Description
Technical field
The present invention relates generally to coded signal, and particularly, relate to the method and apparatus for voice signal is encoded.
Background technology
Current speech coder is designed to the broadband of sustainable growth.The scope of being supported by speech coder expands to higher frequency can improve sharpness.For example, distinguishing will be in high-frequency such as the fricative information spinner of " s " and " f ".High frequency band expansion can also improve other quality of voice, such as there being sense (presence).For example, voiced sound vowel even can have the spectrum energy far above PSTN restriction.
A kind of method for wideband speech coding relates to the technology of the convergent-divergent narrowband speech coding for covering wide band frequency spectrum.For example, can to voice signal, sample with higher rate, to comprise the component at high-frequency place, and arrowband coding techniques can be reconfigured as with more filter coefficient and represent this broadband signal.Such as the Excited Linear Prediction of CELP(code book) arrowband coding techniques be computation-intensive, yet broadband celp coder may consume too much treatment cycle and put into practice for a lot of movements and other Embedded Application.By such technology, become desired qualities also may cause the unacceptable increase obtaining greatly in broadband the whole spectrum coding of broadband signal.In addition, though the arrowband part of signal of coding can be sent to only support the system of arrowband coding and/or by this system decodes before, may also need the transcoding of such coded signal.
In order to address this problem, proposed to make scrambler that wideband speech signal is divided into low band signal or narrow band signal and high-frequency band signals, then each signal is encoded separately.At title, be SYSTEMS, METHODS, has described such scrambler in the U.S. Patent Application Publication 2008/0126086 of AND APPARATUS FOR GAIN CODING, and has been incorporated herein by reference.
Fig. 1 shows the block diagram of prior art wideband acoustic encoder 100.Bank of filters 101 is configured to wideband speech signal to carry out filtering, to produce low band signal and the high-frequency band signals of lower bandwidth.Arrowband scrambler 102 is configured to low band signal to encode, to produce narrow band filter parameter and arrowband residual signals.Arrowband scrambler 102 is configured to produce as the narrow band filter parameter of code book index or other quantized versions and the arrowband pumping signal of coding conventionally.High band encoder 103 is configured to, according to the information in the arrowband pumping signal of coding, high-frequency band signals is encoded to produce high frequency band coding parameter.High band encoder 103 is configured to produce the high frequency band coding parameter as code book index or other quantized versions conventionally.A concrete example of wideband acoustic encoder 100 is configured to, with about 8.55kbps(kilobits per second) speed wideband speech signal is encoded, wherein about 7.55kbps is used for the arrowband pumping signal of narrow band filter parameter and coding, and approximately 1kbps is used for high frequency band coding parameter.
In typical realization, bank of filters 101 comprises low-pass filter and Hi-pass filter.Fig. 2 and Fig. 3 show the relative broadband of wideband speech signal, low band signal and high-frequency band signals in two different realization examples.In these two concrete examples, wideband speech signal has the sampling rate (representing the frequency component in 0 to 16kHz scope) of 32kHz, and low band signal has the sampling rate (representing the frequency component in 0 to 8kHz scope) of 16kHz.
In the example of Fig. 2, between two subbands, do not exist obviously overlapping.Can obtain the high-frequency band signals illustrating in this example with the Hi-pass filter with the passband of 8-16kHz.In this case, can expect, by carrying out down-sampling with 2 pairs of filtering signals of decimation factor, sampling rate is reduced to 16kHz.Can expect that the such operation reducing significantly the computation complexity of the further processing operation of signal relates to the scope that passband energy is moved down into 0 to 8kHz, to prevent information dropout.
In the alternative exemplary of Fig. 3, upper subband and lower subband have obviously overlapping, make to describe 7 to 8kHz region by two subband signals.Can expect this overlapping consider after the decoding of low-frequency band and high frequency band parameters on imperfect filtering during the reconfiguring of subband and lower subband.
Consider according in the situation that the realization of Fig. 2 of the sampling rate of 32kHz and in the situation that have the ultra-broadband signal (50Hz – 14.0kHz) representing from the 12.8kHz sampling low frequency band component of 0 to 6.4kHz signal, the 8kHz bandwidth signal of strict sampling goes for the high band component of regenerating.
Fig. 4 shows the block diagram of existing techniques in realizing of bank of filters 101 that operates to carry out the functional equivalence of high-pass filtering and down-sampling operation with interpolation, resampling, extraction and other.In Fig. 4, low-pass filter 401 and down-sampler 402 are for generating low-frequency band voice signal, and interpolator 403, resampling device 404, withdrawal device 405, frequency spectrum negative circuit 406, withdrawal device 407 and frequency spectrum shaping circuit 408 are for generating high frequency band voice signal.
This realization may more easily design and/or can allow the recycling of the functional block of logic and/or code.For example, identical functional block can be for carrying out the operation of the extraction of carrying out with 2/5 to 12.8kHz (402) as shown in Figure 4 and the extraction of carrying out with 5/11 to 16kHz (407).Can be by making this signal times with function e
jn πor sequence (1) realizes frequency spectrum operated in anti-phase, its value between+1 and-1 alternately.Frequency spectrum shaping operation may be implemented as low-pass filter, and this low pass filter arrangement in pairs this signal is carried out shaping to obtain the all-pass filter response of expectation.
It should be noted, as the result of frequency spectrum operated in anti-phase, the frequency spectrum of high-frequency band signals is inverted.The correspondingly subsequent operation in configuration codes device and respective decoder.For example, high band excitation maker described herein can be configured to produce the high band excitation signal also with the anti-phase form of frequency spectrum.
Can find that the highest sampling rate in above-mentioned realization is 64kHz, and the number that obtains the needed treatment step of strict sampled version of high frequency band voice signal is 6, the relatively high degree of indication complexity before can starting coding.In addition, owing to need to realizing the strict sampled version of high frequency band voice signal, that is, the sampling rate corresponding with the just in time twice of the upper frequency of the band that will encode, so the sensitivity of the method is restricted.In this case, the sampling rate needing is the 28.8kHz for high frequency band being encoded with the upper frequency of 14.4kHz.Therefore, exist for reducing the complexity of above-mentioned coding and improving the method and apparatus needs for coded signal of the dirigibility that different high frequency band configurations are configured.
Accompanying drawing explanation
Fig. 1 is the block diagram of the scrambler of prior art.
Fig. 2 illustrates broadband voice and low-frequency band and high band component.
Fig. 3 illustrates broadband voice and low-frequency band and high band component.
Fig. 4 is the block diagram for the prior art bank of filters of the scrambler of Fig. 1.
Fig. 5 is the block diagram of bank of filters.
Fig. 6 is the block diagram of the down-conversion mixer of Fig. 5.
Fig. 7 illustrates the filtering that utilizes the bank of filters of Fig. 5 to carry out.
Fig. 8 is the block diagram of prior art demoder.
Fig. 9 is the block diagram of demoder.
Figure 10 illustrates the decoding that utilizes the demoder of Fig. 9 to carry out.
Figure 11 is the process flow diagram that the operation of scrambler is shown.
Figure 12 is the process flow diagram that the operation of bank of filters is shown.
Figure 13 is the process flow diagram that the operation of down-conversion mixer is shown.
Figure 14 is the process flow diagram of operation that the high band filter of Fig. 9 is shown.
Figure 15 is the alternative block diagram of bank of filters.
Figure 16 illustrates the filtering that utilizes the bank of filters of Figure 15 to carry out.
It will be appreciated by those skilled in the art that the element in accompanying drawing is for concisely illustrating, and not necessarily draw to scale.For example, in accompanying drawing, the size of some elements and/or relative position may be exaggerated with respect to other elements, to help lend some impetus to the understanding of various embodiment of the present invention.And commercially in feasible embodiment, useful or necessary common and understandable element is not described conventionally, so that promote the uncrossed view to various embodiment of the present invention.Further will understand, and can describe or describe specific action and/or step with concrete order of occurrence, and it will be apparent to one skilled in the art that in fact need to be for such regulation of order.Those skilled in the art will be further understood that, the general-purpose calculating appts that can be equally stored in the software instruction in non-volatile computer scale storer via execution such as the specific implementation embodiment of " circuit " (for example, CPU) or special processor (for example, DSP) realize.It will also be understood that, term used herein and expression have routine techniques implication, and this type of term and expression that this is used with the those skilled in the art that above set forth are consistent, unless wherein different specific meanings other aspects in this article are illustrated.
Embodiment
In order to meet above-mentioned needs, provide a kind of method and apparatus for signal is encoded herein.During operation, the broadband signal that encode enters bank of filters.From this bank of filters output high-frequency band signals and low band signal.Each signal is encoded separately.During the generation of high-frequency band signals, mixing operation under realizing after frequency spectrum is anti-phase and before extracting.Lower mixing operation reduces system complexity to a great extent.In fact, can find that the highest sampling rate in existing techniques in realizing is 64kHz, and sampling rate in said system remains on 32kHz or following.This represents, along with the minimizing of the number of processing block, to have omitted significantly complexity.
The present invention includes a kind of method for signal is encoded.The method comprises the steps: the receiving wide-band signal at bank of filters place; Broadband signal is carried out to filtering to produce low band signal and high-frequency band signals; Utilize arrowband scrambler to encode to low band signal; And utilize high band encoder to encode to high-frequency band signals.Broadband signal is carried out to filtering comprises the steps: to make broadband signal frequency spectrum anti-phase to produce frequency spectrum inversion signal to produce the step of high-frequency band signals; And the anti-phase signal of frequency spectrum is carried out to lower mixing, to produce lower mixed frequency signal.
The present invention also comprises a kind of method for signal is decoded.The method comprises the steps: to utilize arrowband demoder to decode to first signal, to produce low band signal; Utilize high band decoder to decode to secondary signal, to produce high-frequency band signals; And low band signal and high-frequency band signals are combined.The step of combination low band signal and high-frequency band signals comprises the steps: to make high-frequency band signals frequency spectrum anti-phase; Frequency spectrum inversion signal is carried out to lower mixing; And lower mixed frequency signal and narrow band voice signal are added.
The present invention also comprises a kind of device, and this device comprises: bank of filters, receiving wide-band signal and output low frequency band signal and high-frequency band signals; Arrowband scrambler, encodes to low band signal; And high band encoder, high-frequency band signals is encoded.Bank of filters comprises frequency spectrum negative circuit, broadband signal is carried out to frequency spectrum anti-phase to produce frequency spectrum inversion signal; Lower mixting circuit, carries out lower mixing to produce lower mixed frequency signal to frequency spectrum inversion signal.
The present invention also comprises a kind of device, and this device comprises: the first demoder, first signal is decoded to produce low band signal; The second demoder, decodes to produce high-frequency band signals to secondary signal; Frequency spectrum negative circuit, carries out frequency spectrum to high-frequency band signals anti-phase to produce frequency spectrum inversion signal; Lower mixting circuit, carries out lower mixing to produce lower mixed frequency signal to frequency spectrum inversion signal; And totalizer, lower mixed frequency signal and narrow band voice signal are added.
Forward now accompanying drawing to, wherein identical Reference numeral represents same components, and Fig. 5 is the block diagram of bank of filters.Be apparent that, the wave filter of Fig. 5 comprises lower mixting circuit 501.Pre-service before the lower mixing of carrying out lower mixing is undertaken by frequency spectrum negative circuit 406.Lower mixting circuit 501 is for carrying out lower mixing to pretreated (that is, frequency spectrum is anti-phase) signal of exporting from frequency spectrum negative circuit 406.More specifically, during lower mixing, with scheduled volume, make signal in frequency upper shift position.The more detailed block diagram of down-conversion mixer 501 has been shown in Fig. 6.
As shown in Figure 6, down-conversion mixer 501 comprises hilbert transform circuit 601, frequency mixer 602 and 603, sin/cos maker 604 and summing circuit 605.By the pretreated input signal of 32kHz being expressed as to the just in time sine wave in 20 sampling periods, realize for example lower mixing of 1600Hz signal.In order to realize Frequency mixing processing under 1600Hz frequency spectrum, be necessary to derive the quadrature component of frequency spectrum rp input signal.This can realize via circuit 601, is wherein that the Hilbert transformer that all equals the all-pass filter of pi/2 displacement for all frequency plot responses is applied to input signal, only to obtain imaginary part output (Im).In fact, be easier to obtain having the all-pass filter pair that phase place each other differs the output of pi/2 in all frequencies.A kind of such wave filter is to being:
When input signal being applied to this two wave filters, will draw two quadrature versions of input signal (real number (Re) and imaginary number (Im)).Although can find that each wave filter has molecule and the denominator on 8 rank, only the even power of z is non-zero, and therefore this wave filter only needs every sample totally 8 parallel multiplications.It is evident that, because the magnitude of molecule and denominator coefficients is time reversal each other, so there is all-pass characteristic.
For with 1600Hz by mixing under two quadrature versions of signal, with the sampling of identical sampling rate-quadrature versions of 1600Hz tone signal must take advantage of positive input signal sampling again.This realizes by frequency mixer 602 and 603.
The tone of mixing has form
With 32kHz sampling-1600Hz orthogonal tones signal only needs to store in table 604 25 words, because cosine value and sine value overlapping and every 20 sampling sites as follows repeat.
cos(0) =1.0
cos(π/10) =0.951056516
cos(π/5) =0.809016994
cos(3π/10) =0.587785252
cos(2π/5) =0.309016994
cos(π/2) =-sin(0) =0.0
cos(3π/5) =-sin(π/10) =-0.309016994
cos(7π/10) =-sin(π/5) =-0.587785252
cos(4π/5) =-sin(3π/10) =-0.809016994
cos(9π/10) =-sin(2π/5) =-0.951056516
cos(π) =-sin(π/2)=-1.0
cos(11π/10) =-sin(3π/5) =-0.951056516
cos(6π/5) =-sin(7π/10) =-0.809016994
cos(13π/10) =-sin(4π/5) =-0.587785252
cos(7π/5) =-sin(9π/10) =-0.309016994
cos(3π/2) =-sin(π) =0.0
cos(8π/5) =-sin(11π/10) =0.309016994
cos(17π/10) =-sin(6π/5) =0.587785252
cos(9π/5) =-sin(13π/10) =0.809016994
cos(19π/10) =-sin(7π/5) =0.951056516
-sin(3π/2) =1.0
-sin(8π/5) =0.951056516
-sin(17π/10) =0.809016994
-sin(9π/5) =0.587785252
-sin(19π/10) =0.309016994
For storage, only need actual samples that this is taken advantage of again, its by this take advantage of be again reduced to following;
output[i]＝input
Real[i].cos_table[j]+input
Imag[i].sine_table[j]
Wherein, Sample Counter j equals counter i mould 20 (i%20).
Under the situation of high band component of using 12.8kHz sampling core generation ultra-broadband signal, the useful processing block of control and display of mixing under 1600Hz after spectrum inversion.Particularly, because the combination of this operation be to band-limited signal from anti-phase.This signal obtaining is added and outputs to withdrawal device 407 by totalizer 605.
Fig. 7 illustrates the filtering that utilizes the bank of filters of Fig. 5 to carry out.Input signal 701 is fed to pre-process circuit, and pre-process circuit comprises frequency spectrum negative circuit 406 in this case.Circuit 406 comprises the 32kHz sampled signal that occupies 14.4kHz bandwidth with high band component and low frequency band component (being sometimes referred to as arrowband component).After spectrum inversion (702), the signal obtaining is present between 1.6kHz and 16kHz, and wherein high band component is lower than low frequency band component in frequency.Now, low frequency band component can be via wave filter (not shown in Fig. 6) by filtering (703).During carrying out lower mixing by down-conversion mixer 501, the high band component obtaining is at frequency upper shift position 1600Hz(704).Finally, 16kHz signal extracts with 2 via withdrawal device 407, obtains signal 705.
Fig. 8 is the block diagram of prior art demoder.As show, the demoder of Fig. 8 comprise arrowband demoder 802 and high band decoder 803 the two.Be similar to scrambler, bank of filters 801 is provided as suitably combining low band signal and high-frequency band signals.As mentioned above, there is the problem of complexity in the bank of filters of prior art.In order to address this problem, provide above-mentioned wave filter.This is shown in Figure 9.As shown in Figure 9, provide down-conversion mixer 902.Down-conversion mixer 902 is similar to above-mentioned down-conversion mixer, and its operation will be described in Figure 10.
Figure 10 illustrates the decoding that utilizes the demoder of Fig. 9 to carry out.During operation, input signal 1001 enters the interpolator 904 that wherein interpolation occurs, and it is expanded in frequency.This is shown as signal 1002.Spectrum inversion circuit 903 makes consequential signal upset (anti-phase), to produce the pretreated signal of signal 1003(of upset).Then, down-conversion mixer 902 makes the highband part displacement scheduled volume of signal 1003, to produce signal 1004.Finally, by totalizer 901, add low band signal, obtain signal 1005.
In all above-mentioned lower mixing operations, the transition period of the synthetic speech that the high-frequency band signals of strict sampling is sampled to 32kHz in the output of demoder, in encoder, for obtaining the cataloged procedure of echo signal, adopt the step of mixing under spectrum inversion and 1600Hz in the two.Can exchange the order of the treatment step of spectrum inversion and the translation of Hilbert transform action/linear frequency.
Figure 11 is the process flow diagram that the operation of scrambler is shown.Logic flow starts in step 1101, wherein, by bank of filters 500, comes receiving wide-band signal (for example: broadband voice).In step 1103,500 pairs of broadband signals of bank of filters are carried out filtering, to produce low band signal and high-frequency band signals.Then, by arrowband scrambler, low band signal is encoded (step 1105), simultaneously by high band encoder to the highband part of broadband signal encode (step 1107).
Figure 12 is the process flow diagram that the operation of bank of filters is shown.Particularly, Figure 12 is illustrated in those steps for generation of high-frequency band signals that piece 1103 places carry out.Logic flow starts in step 1201, and wherein, it is reverse that 406 pairs of broadband signals of frequency spectrum negative circuit are carried out frequency spectrum.At step 1203 place, then down-conversion mixer 501 descends mixing frequency spectrum inversion signal.This logic flow proceeds to step 1205, wherein, then by withdrawal device 407, extracts lower mixed frequency signal.Then, by circuit 408, at step 1207 place, the signal obtaining is carried out to frequency spectrum shaping.Finally, then this signal obtaining is output to high band encoder (step 1209).
Figure 13 is the process flow diagram that is illustrated in the operation of down-conversion mixer 501 during above-mentioned steps 1203.Logic flow starts in step 1301, and wherein, the signal of 601 pairs of pre-service of hilbert transform circuit (for example, frequency spectrum is reverse) is carried out Hilbert transform, to produce two quadrature versions (real number and imaginary number) of frequency spectrum inversion signal.In step 1303, the real number signal and the imaginary signal that via the frequency mixer 602 and 603 with cosine function and sine function, are mixed to get respectively.Finally, in step 1305, via circuit 605 and the signal plus mixing.Then, the signal obtaining is outputed to withdrawal device 407.
Figure 14 is the process flow diagram of operation that the high band filter of Fig. 9 is shown.Logic flow starts at step 1401 place, wherein, the high frequency band voice signal receiving from high band encoder is carried out to frequency spectrum shaping.This realizes via circuit 905.At step 1403 place, the signal of 904 pairs of frequency spectrum shapings of circuit carries out interpolation.Next, at step 1405 place, by circuit 903, make the signal spectrum that obtains anti-phase.Then, the signal obtaining is sent to the down-conversion mixer 902(step 1407 of wherein descending mixing to occur).Finally, at step 1409 place, low band signal is added via totalizer 901 and lower mixed frequency signal.It should be noted, the step of lower mixing occurs as shown in Figure 13.
Figure 15 is the block diagram of the alternate embodiment of bank of filters.Be apparent that, the wave filter of Figure 15 comprises lower mixting circuit 1502.In this case, lower mixting circuit 1502 for lower mixing the input signal by the high-pass filtered version of wave filter 1501 filtering.The pre-service that enters down-conversion mixer from signal comprises that the previously described bank of filters of frequency spectrum operated in anti-phase is different, and in this specific embodiment, the pre-service that is fed to the signal of down-conversion mixer 1502 comprises high-pass filtering.
Figure 16 illustrates the filtering that utilizes the bank of filters of Figure 15 to carry out.The input signal 701 that enters Hi-pass filter 1501 comprises the 32kHz sampled signal of utilizing high band component and low frequency band component (being sometimes referred to as arrowband component) to occupy the bandwidth of 14.4kHz.In filtering (1602) afterwards, the signal obtaining is present between 6.4kHz and 14.4kHz.During passing through 1502 times mixing of down-conversion mixer, the high band component obtaining is at frequency upper shift position 6400Hz(1603).Finally, via withdrawal device 407, with 2 pairs of 16kHz signals, extract, obtain signal 1604.By Figure 16 and Fig. 7 are compared, can find that two kinds of filtering operations all obtain the strict sampled version of high band component, yet each is another spectral image.
Although specifically illustrated and described the present invention with reference to specific embodiment, it will be understood by those skilled in the art that and do not departing under the situation of the spirit and scope of the present invention, can carry out the change of various forms and details in this article.For example, although the coding of ultra-broadband signal is above described, should be clearly, this technology adapts to high frequency band or the Whole frequency band sound signal of midband (20Hz – 20kHz) actually equally.Wish that these changes can be included in the scope of claim below.
Claims (according to the modification of the 19th of treaty)
1. the method for signal is encoded, described method comprises the steps:
At bank of filters place receiving wide-band signal;
Described broadband signal is carried out to filtering, to produce low band signal and high-frequency band signals;
Utilize the first scrambler to encode to described low band signal;
Utilize the second scrambler to encode to described high-frequency band signals; Wherein
Described broadband signal is carried out to filtering and to produce the described step of described high-frequency band signals, comprise the steps: to carry out by carrying out Hilbert transform the lower mixing operation of frequency shift, as described broadband signal being carried out to a part for filtering; And the broadband signal after lower mixing is extracted.
2. method according to claim 1, further comprises the steps: described broadband signal to carry out pre-service to produce preprocessed signal; And wherein, the described step of lower mixing comprises the steps:, by frequency shift, described preprocessed signal is carried out to lower mixing to produce lower mixed frequency signal.
3. the method for signal is decoded, described method comprises the steps:
Utilize the first demoder to decode to first signal, to produce low band signal;
Utilize the second demoder to decode to secondary signal, to produce high-frequency band signals; And
The lower mixing operation that operates to carry out frequency shift by carrying out Hilbert transform, carries out filtering to described low-frequency band and described high-frequency band signals, to produce broadband signal, and the broadband signal after described lower mixing is extracted.
4. method according to claim 3, wherein, the described step of described low-frequency band and described high-frequency band signals being carried out to filtering comprises the steps:
Described high-frequency band signals is carried out to pre-service, to produce preprocessed signal;
By frequency shift, described preprocessed signal is carried out to lower mixing, to produce lower mixed frequency signal; And
Described lower mixed frequency signal and low band signal are added.
5. a device, comprising:
Bank of filters, described bank of filters receiving wide-band signal and output low frequency band signal and high-frequency band signals;
The first scrambler, described the first scrambler is encoded to described low band signal;
The second scrambler, described the second scrambler is encoded to described high-frequency band signals; And
Wherein, described bank of filters comprises:
Lower mixting circuit, described lower mixting circuit is used for using hilbert transform circuit to carry out frequency shift to produce lower mixed frequency signal to signal; And
Withdrawal device, described withdrawal device is for extracting described lower mixed frequency signal.
6. device according to claim 5, wherein, described bank of filters comprises:
Pre-process circuit, described pre-process circuit makes described broadband signal frequency spectrum anti-phase to produce frequency spectrum inversion signal, or described broadband signal is carried out to high-pass filtering to produce high pass filtered signals; And
Described lower mixting circuit, described lower mixting circuit is for carrying out frequency shift to produce lower mixed frequency signal to pretreated signal.
7. a device, comprising:
The first demoder, described the first demoder decodes to produce low band signal to first signal;
The second demoder, described the second demoder decodes to produce high-frequency band signals to secondary signal;
Down-conversion mixer, described down-conversion mixer is used hilbert transform circuit to carry out frequency shift to produce lower mixed frequency signal to signal;
Withdrawal device, described withdrawal device extracts described lower mixed frequency signal; And
Totalizer, described totalizer is added described lower mixed frequency signal and described low band signal.
Claims (10)
1. the method for signal is encoded, described method comprises the steps:
At bank of filters place receiving wide-band signal;
Described broadband signal is carried out to filtering, to produce low band signal and high-frequency band signals;
Utilize the first scrambler to encode to described low band signal;
Utilize the second scrambler to encode to described high-frequency band signals; Wherein
Described broadband signal is carried out to filtering and to produce the described step of described high-frequency band signals, comprise the steps: to carry out lower mixing operation, as described broadband signal being carried out to a part for filtering.
2. method according to claim 1, further comprises the steps: described broadband signal to carry out pre-service to produce preprocessed signal; And wherein, the described step of lower mixing comprises the steps: described preprocessed signal to carry out lower mixing to produce lower mixed frequency signal.
3. method according to claim 1, wherein, carries out the described step of mixing operation down and comprises the steps: to carry out Hilbert transform.
4. the method for signal is decoded, described method comprises the steps:
Utilize the first demoder to decode to first signal, to produce low band signal;
Utilize the second demoder to decode to secondary signal, to produce high-frequency band signals; And
Described low-frequency band and described high-frequency band signals are carried out to filtering, to produce broadband signal by carrying out lower mixing operation.
5. method according to claim 4, wherein, the described step of described low-frequency band and described high-frequency band signals being carried out to filtering comprises the steps:
Described high-frequency band signals is carried out to pre-service, to produce preprocessed signal;
Described preprocessed signal is carried out to lower mixing, to produce lower mixed frequency signal; And
Described lower mixed frequency signal and low band signal are added.
6. method according to claim 4, wherein, described lower mixing operation comprises Hilbert transform operation.
7. a device, comprising:
Bank of filters, described bank of filters receiving wide-band signal and output low frequency band signal and high-frequency band signals;
The first scrambler, described the first scrambler is encoded to described low band signal;
The second scrambler, described the second scrambler is encoded to described high-frequency band signals; And
Wherein, described bank of filters comprises:
Lower mixting circuit, described lower mixting circuit carries out lower mixing to produce lower mixed frequency signal to signal.
8. device according to claim 7, wherein, described bank of filters comprises:
Pre-process circuit, described pre-process circuit makes described broadband signal frequency spectrum anti-phase to produce frequency spectrum inversion signal, or described broadband signal is carried out to high-pass filtering to produce high pass filtered signals; And
Described lower mixting circuit, described lower mixting circuit carries out lower mixing to produce lower mixed frequency signal to pretreated signal.
9. device according to claim 8, wherein, described lower mixting circuit comprises hilbert transform circuit.
10. a device, comprising:
The first demoder, described the first demoder decodes to produce low band signal to first signal;
The second demoder, described the second demoder decodes to produce high-frequency band signals to secondary signal;
Down-conversion mixer, described down-conversion mixer carries out lower mixing to produce lower mixed frequency signal to signal; And
Totalizer, described totalizer is added described lower mixed frequency signal and described low band signal.
Applications Claiming Priority (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US13/157,371 | 2011-06-10 | ||
US13/157,371 US9070361B2 (en) | 2011-06-10 | 2011-06-10 | Method and apparatus for encoding a wideband speech signal utilizing downmixing of a highband component |
PCT/US2012/040844 WO2012170385A1 (en) | 2011-06-10 | 2012-06-05 | Method and apparatus for encoding a signal |
Publications (2)
Publication Number | Publication Date |
---|---|
CN103608860A true CN103608860A (en) | 2014-02-26 |
CN103608860B CN103608860B (en) | 2016-06-22 |
Family
ID=46246278
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN201280028814.5A Active CN103608860B (en) | 2011-06-10 | 2012-06-05 | The method and apparatus that signal is encoded |
Country Status (8)
Country | Link |
---|---|
US (1) | US9070361B2 (en) |
EP (1) | EP2718926B1 (en) |
KR (1) | KR101613345B1 (en) |
CN (1) | CN103608860B (en) |
BR (1) | BR112013031796B1 (en) |
CA (1) | CA2838201C (en) |
MX (1) | MX2013014493A (en) |
WO (1) | WO2012170385A1 (en) |
Cited By (1)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN113170205A (en) * | 2018-12-03 | 2021-07-23 | 杜比实验室特许公司 | Interpolation of shaping functions |
Families Citing this family (6)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
JP6179122B2 (en) * | 2013-02-20 | 2017-08-16 | 富士通株式会社 | Audio encoding apparatus, audio encoding method, and audio encoding program |
EP2830052A1 (en) | 2013-07-22 | 2015-01-28 | Fraunhofer-Gesellschaft zur Förderung der angewandten Forschung e.V. | Audio decoder, audio encoder, method for providing at least four audio channel signals on the basis of an encoded representation, method for providing an encoded representation on the basis of at least four audio channel signals and computer program using a bandwidth extension |
US10083708B2 (en) | 2013-10-11 | 2018-09-25 | Qualcomm Incorporated | Estimation of mixing factors to generate high-band excitation signal |
KR20180040716A (en) | 2015-09-04 | 2018-04-20 | 삼성전자주식회사 | Signal processing method and apparatus for improving sound quality |
US10573326B2 (en) * | 2017-04-05 | 2020-02-25 | Qualcomm Incorporated | Inter-channel bandwidth extension |
BR112022002100A2 (en) * | 2019-08-08 | 2022-04-12 | Boomcloud 360 Inc | Adaptable non-linear filter banks for psychoacoustic frequency range extension |
Citations (9)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN1154013A (en) * | 1995-10-26 | 1997-07-09 | 索尼公司 | Signal encoding method and apparatus |
US6104822A (en) * | 1995-10-10 | 2000-08-15 | Audiologic, Inc. | Digital signal processing hearing aid |
US6182031B1 (en) * | 1998-09-15 | 2001-01-30 | Intel Corp. | Scalable audio coding system |
WO2001050458A1 (en) * | 1999-12-31 | 2001-07-12 | Thomson Licensing S.A. | Subband adpcm voice encoding and decoding |
US6732070B1 (en) * | 2000-02-16 | 2004-05-04 | Nokia Mobile Phones, Ltd. | Wideband speech codec using a higher sampling rate in analysis and synthesis filtering than in excitation searching |
CN1589469A (en) * | 2001-11-23 | 2005-03-02 | 皇家飞利浦电子股份有限公司 | Audio signal bandwidth extension |
CN101180677A (en) * | 2005-04-01 | 2008-05-14 | 高通股份有限公司 | Systems, methods, and apparatus for wideband speech coding |
WO2009063728A1 (en) * | 2007-11-15 | 2009-05-22 | National Institute Of Advanced Industrial Science And Technology | Frequency conversion device |
CN101868821A (en) * | 2007-11-21 | 2010-10-20 | Lg电子株式会社 | The method and apparatus that is used for processing signals |
Family Cites Families (12)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
KR920010633A (en) | 1990-11-30 | 1992-06-26 | 김광호 | Reference voltage generation circuit of semiconductor memory device |
SE512719C2 (en) | 1997-06-10 | 2000-05-02 | Lars Gustaf Liljeryd | A method and apparatus for reducing data flow based on harmonic bandwidth expansion |
US6947509B1 (en) | 1999-11-30 | 2005-09-20 | Verance Corporation | Oversampled filter bank for subband processing |
US7403577B2 (en) * | 2004-06-09 | 2008-07-22 | The Aerospace Corporation | Generalized polyphase channelization system |
MX2007012187A (en) * | 2005-04-01 | 2007-12-11 | Qualcomm Inc | Systems, methods, and apparatus for highband time warping. |
JP2009524101A (en) * | 2006-01-18 | 2009-06-25 | エルジー エレクトロニクス インコーポレイティド | Encoding / decoding apparatus and method |
KR100848324B1 (en) | 2006-12-08 | 2008-07-24 | 한국전자통신연구원 | An apparatus and method for speech condig |
US8015368B2 (en) * | 2007-04-20 | 2011-09-06 | Siport, Inc. | Processor extensions for accelerating spectral band replication |
JP4337913B2 (en) * | 2007-06-04 | 2009-09-30 | ソニー株式会社 | Receiving apparatus, program, and receiving method |
WO2011059254A2 (en) * | 2009-11-12 | 2011-05-19 | Lg Electronics Inc. | An apparatus for processing a signal and method thereof |
CA2779388C (en) * | 2009-12-16 | 2015-11-10 | Dolby International Ab | Sbr bitstream parameter downmix |
US8600737B2 (en) * | 2010-06-01 | 2013-12-03 | Qualcomm Incorporated | Systems, methods, apparatus, and computer program products for wideband speech coding |
-
2011
- 2011-06-10 US US13/157,371 patent/US9070361B2/en active Active
-
2012
- 2012-06-05 KR KR1020137032837A patent/KR101613345B1/en active IP Right Grant
- 2012-06-05 EP EP12727043.7A patent/EP2718926B1/en active Active
- 2012-06-05 MX MX2013014493A patent/MX2013014493A/en active IP Right Grant
- 2012-06-05 WO PCT/US2012/040844 patent/WO2012170385A1/en active Application Filing
- 2012-06-05 BR BR112013031796-5A patent/BR112013031796B1/en active IP Right Grant
- 2012-06-05 CN CN201280028814.5A patent/CN103608860B/en active Active
- 2012-06-05 CA CA2838201A patent/CA2838201C/en active Active
Patent Citations (11)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6104822A (en) * | 1995-10-10 | 2000-08-15 | Audiologic, Inc. | Digital signal processing hearing aid |
CN1154013A (en) * | 1995-10-26 | 1997-07-09 | 索尼公司 | Signal encoding method and apparatus |
US6182031B1 (en) * | 1998-09-15 | 2001-01-30 | Intel Corp. | Scalable audio coding system |
WO2001050458A1 (en) * | 1999-12-31 | 2001-07-12 | Thomson Licensing S.A. | Subband adpcm voice encoding and decoding |
US6732070B1 (en) * | 2000-02-16 | 2004-05-04 | Nokia Mobile Phones, Ltd. | Wideband speech codec using a higher sampling rate in analysis and synthesis filtering than in excitation searching |
CN1589469A (en) * | 2001-11-23 | 2005-03-02 | 皇家飞利浦电子股份有限公司 | Audio signal bandwidth extension |
CN101180677A (en) * | 2005-04-01 | 2008-05-14 | 高通股份有限公司 | Systems, methods, and apparatus for wideband speech coding |
CN101185127A (en) * | 2005-04-01 | 2008-05-21 | 高通股份有限公司 | Methods and apparatus for coding and decoding highband part of voice signal |
CN101185120A (en) * | 2005-04-01 | 2008-05-21 | 高通股份有限公司 | Systems, methods, and apparatus for highband burst suppression |
WO2009063728A1 (en) * | 2007-11-15 | 2009-05-22 | National Institute Of Advanced Industrial Science And Technology | Frequency conversion device |
CN101868821A (en) * | 2007-11-21 | 2010-10-20 | Lg电子株式会社 | The method and apparatus that is used for processing signals |
Cited By (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN113170205A (en) * | 2018-12-03 | 2021-07-23 | 杜比实验室特许公司 | Interpolation of shaping functions |
CN113170205B (en) * | 2018-12-03 | 2023-11-10 | 杜比实验室特许公司 | Shaping function generation method and device and image decoding method and device |
Also Published As
Publication number | Publication date |
---|---|
KR101613345B1 (en) | 2016-04-18 |
KR20140009560A (en) | 2014-01-22 |
CN103608860B (en) | 2016-06-22 |
CA2838201A1 (en) | 2012-12-13 |
EP2718926B1 (en) | 2017-09-13 |
MX2013014493A (en) | 2014-03-27 |
BR112013031796A2 (en) | 2016-12-20 |
US20120316885A1 (en) | 2012-12-13 |
BR112013031796B1 (en) | 2021-03-09 |
EP2718926A1 (en) | 2014-04-16 |
US9070361B2 (en) | 2015-06-30 |
CA2838201C (en) | 2016-10-18 |
WO2012170385A1 (en) | 2012-12-13 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
CN103608860A (en) | Method and apparatus for encoding a signal | |
CN103384900B (en) | Low-delay sound-encoding alternating between predictive encoding and transform encoding | |
CN105210149B (en) | It is adjusted for the time domain level of audio signal decoding or coding | |
JP5551692B2 (en) | Speech encoder, speech decoder, speech encoding method, speech decoding method, and computer program | |
JP4599558B2 (en) | Pitch period equalizing apparatus, pitch period equalizing method, speech encoding apparatus, speech decoding apparatus, and speech encoding method | |
CN101471072B (en) | High-frequency reconstruction method, encoding device and decoding module | |
CN101183527B (en) | Method and apparatus for encoding and decoding high frequency signal | |
CN101527138B (en) | Coding method and decoding method for ultra wide band expansion, coder and decoder as well as system for ultra wide band expansion | |
JP2002023800A (en) | Multi-mode sound encoder and decoder | |
CN103366755A (en) | Method and apparatus for encoding and decoding audio signal | |
CN103703512A (en) | Method and apparatus for audio coding and decoding | |
EP2625688A1 (en) | Apparatus and method for processing an audio signal and for providing a higher temporal granularity for a combined unified speech and audio codec (usac) | |
CN103155034A (en) | Audio signal bandwidth extension in CELP-based speech coder | |
CN103714822A (en) | Sub-band coding and decoding method and device based on SILK coder decoder | |
CN103155035B (en) | Audio signal bandwidth extension in CELP-based speech coder | |
Chong et al. | A new waveform interpolation coding scheme based on pitch synchronous wavelet transform decomposition | |
CN105280189B (en) | The method and apparatus that bandwidth extension encoding and decoding medium-high frequency generate | |
CN100498933C (en) | Transcoder and code conversion method | |
Yeldener | A 4 kb/s toll quality harmonic excitation linear predictive speech coder | |
JPH0792998A (en) | Encoding method and decoding method for speech signal | |
JP3321933B2 (en) | Pitch detection method | |
CN102598124A (en) | Encoder, decoder and methods thereof | |
Hedelin | A sinusoidal LPC vocoder | |
KR100221185B1 (en) | Voice coding and decoding device and method thereof | |
KR100255297B1 (en) | Voice data code/decode apparatus and the method |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
C06 | Publication | ||
PB01 | Publication | ||
SE01 | Entry into force of request for substantive examination | ||
SE01 | Entry into force of request for substantive examination | ||
C41 | Transfer of patent application or patent right or utility model | ||
TA01 | Transfer of patent application right |
Effective date of registration: 20160401Address after: American CaliforniaApplicant after: Technology Holdings Co., Ltd of GoogleAddress before: Illinois StateApplicant before: Motorola Mobility, Inc. |
|
C14 | Grant of patent or utility model | ||
GR01 | Patent grant |