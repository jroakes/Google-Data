US8264406B2 - Manifold calibration for a communication system - Google Patents
Manifold calibration for a communication system Download PDFInfo
- Publication number
- US8264406B2 US8264406B2 US12/759,872 US75987210A US8264406B2 US 8264406 B2 US8264406 B2 US 8264406B2 US 75987210 A US75987210 A US 75987210A US 8264406 B2 US8264406 B2 US 8264406B2
- Authority
- US
- United States
- Prior art keywords
- calibration
- vector
- determining
- mobile unit
- angle
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Active, expires
Links
- 238000004891 communication Methods 0.000 title description 11
- 238000000034 method Methods 0.000 claims abstract description 60
- 230000005540 biological transmission Effects 0.000 claims description 34
- 230000000694 effects Effects 0.000 claims description 20
- 239000011159 matrix material Substances 0.000 description 22
- 230000004044 response Effects 0.000 description 14
- 238000010586 diagram Methods 0.000 description 6
- 239000004165 Methyl ester of fatty acids Substances 0.000 description 4
- 230000008859 change Effects 0.000 description 3
- 230000008878 coupling Effects 0.000 description 3
- 238000010168 coupling process Methods 0.000 description 3
- 238000005859 coupling reaction Methods 0.000 description 3
- 230000008569 process Effects 0.000 description 3
- 230000014509 gene expression Effects 0.000 description 2
- 238000005259 measurement Methods 0.000 description 2
- 230000007480 spreading Effects 0.000 description 2
- 208000001992 Autosomal Dominant Optic Atrophy Diseases 0.000 description 1
- 206010011906 Death Diseases 0.000 description 1
- 230000003044 adaptive effect Effects 0.000 description 1
- 230000004075 alteration Effects 0.000 description 1
- 238000012937 correction Methods 0.000 description 1
- 230000001808 coupling effect Effects 0.000 description 1
- 238000012545 processing Methods 0.000 description 1
- 238000000926 separation method Methods 0.000 description 1
Images
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04B—TRANSMISSION
- H04B7/00—Radio transmission systems, i.e. using radiation field
- H04B7/02—Diversity systems; Multi-antenna system, i.e. transmission or reception using multiple antennas
- H04B7/04—Diversity systems; Multi-antenna system, i.e. transmission or reception using multiple antennas using two or more spaced independent antennas
- H04B7/08—Diversity systems; Multi-antenna system, i.e. transmission or reception using multiple antennas using two or more spaced independent antennas at the receiving station
- H04B7/0837—Diversity systems; Multi-antenna system, i.e. transmission or reception using multiple antennas using two or more spaced independent antennas at the receiving station using pre-detection combining
- H04B7/0842—Weighted combining
- H04B7/086—Weighted combining using weights depending on external parameters, e.g. direction of arrival [DOA], predetermined weights or beamforming
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04B—TRANSMISSION
- H04B17/00—Monitoring; Testing
- H04B17/10—Monitoring; Testing of transmitters
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04B—TRANSMISSION
- H04B17/00—Monitoring; Testing
- H04B17/20—Monitoring; Testing of receivers
- H04B17/21—Monitoring; Testing of receivers for calibration; for correcting measurements
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04B—TRANSMISSION
- H04B7/00—Radio transmission systems, i.e. using radiation field
- H04B7/02—Diversity systems; Multi-antenna system, i.e. transmission or reception using multiple antennas
- H04B7/04—Diversity systems; Multi-antenna system, i.e. transmission or reception using multiple antennas using two or more spaced independent antennas
- H04B7/06—Diversity systems; Multi-antenna system, i.e. transmission or reception using multiple antennas using two or more spaced independent antennas at the transmitting station
- H04B7/0613—Diversity systems; Multi-antenna system, i.e. transmission or reception using multiple antennas using two or more spaced independent antennas at the transmitting station using simultaneous transmission
- H04B7/0615—Diversity systems; Multi-antenna system, i.e. transmission or reception using multiple antennas using two or more spaced independent antennas at the transmitting station using simultaneous transmission of weighted versions of same signal
- H04B7/0617—Diversity systems; Multi-antenna system, i.e. transmission or reception using multiple antennas using two or more spaced independent antennas at the transmitting station using simultaneous transmission of weighted versions of same signal for beam forming
Definitions
- the present invention relates generally to communication systems and in particular, to a method and apparatus for performing manifold calibration within a communication system.
- Transmit beamforming (sometimes referred to as transmit adaptive array (TXAA) transmission) increases the effective signal-to-noise ratio seen by a receiver device by creating a coverage pattern that tends to be directional in nature (i.e., not uniformly broadcast). Transmit beamforming is accomplished by employing multiple antennas at the transmit site and weighting each antenna such that the combined transmissions result in a beamformed pattern that delivers maximum power/energy to the receiver.
- TXAA transmit adaptive array
- an unknown gain and phase is present on each transmit and receive branches due to such hardware mismatches such as cable length differences and filter response differences.
- These unknown gain and phase values which may be frequency selective, make direction of arrival (DOA) or direction of departure (DOD) estimation difficult (if not impossible) because they cause the baseband array response vector for a given DOA or DOD to be different from what would be predicted from the array geometry (i.e., the position and orientation of the antennas comprising the antenna array).
- manifold calibration means that for each DOD of interest, the corresponding transmit array response vector at baseband corresponds (to within a scalar constant) to the array response vector that would be predicted from the array geometry. If the array is manifold calibrated, then a DOA estimated on the uplink can easily be translated to a DOD on the downlink (i.e., a beam can be pointed in the mobile direction using an uplink DOA estimate).
- manifold calibration means that the baseband response of a signal received from a certain direction on the uplink matches the array response vector predicted from the array geometry (or equivalently that the baseband vector channel response is spatially equivalent to the RF vector channel response).
- FIG. 1 illustrates gain and phase values introduced by system hardware.
- the response of the base station transmit hardware from baseband to RF is captured by the M ⁇ 1 vector q(k) where M is the number of antennas (transmit and receive) at the base station and k is the subcarrier (or frequency) index.
- the response of the base station receiver hardware from RF to baseband is captured by the M ⁇ 1 vector g(k).
- g 1 (k) refers to element one of g(k)
- g 2 (k) refers to element 2 of g(k)
- so on and a similar definition is true for q(k)).
- the M ⁇ 1 noiseless signal received at the base station array of M antennas from a mobile with a single antenna may be modeled at baseband in the frequency domain as
- k is the subcarrier index
- b is the time (OFDM symbol) index
- x(k,b) is the transmitted symbol
- P is the number of multipath components (rays)
- ⁇ l (b) is the complex gain of the l th multipath component
- G(k) diag(g 1 (k), .
- g m (k) is the receive hardware induced gain and phase for receive antenna m
- ⁇ l is the time of arrival (TOA) for path l
- ⁇ F is the subcarrier separation (in Hz)
- ⁇ l is the DOA of the l th path
- a( ⁇ ) is the array manifold vector which for a uniform linear array with inter-element spacing of d (in wavelengths) is given as
- This type of DOA calibration is shown in FIG. 2 where additional blocks are included on the input to each receive branch (c i (k)). These blocks represent the calibration coefficients that are applied to eliminate the effects of G(k).
- the transmitted signal from the M-element base array received at a single mobile antenna may be modeled as:
- q M (k) where q m (k) is the transmit hardware induced gain and phase for transmit antenna m.
- some of the downlink channel parameters will be the same as the uplink channel in Error! Reference source not found. such as the angles (the DODs equal the DOAs) and the TOAs regardless of whether the system is time division duplexed (TDD) or frequency division duplexed (FDD).
- TDD time division duplexed
- FDD frequency division duplexed
- the channel gains and antenna spacing in wavelengths will be different on the uplink and downlink, whereas for TDD systems the channel gains are likely the same on the uplink and downlink.
- the transmitted frequency-domain signal from each antenna, v(k,b) can be pilot sequences which enable mobiles to compute the downlink channel.
- This measured downlink channel can then be turned into feedback (e.g., codebook feedback) which the mobile will send to the base station.
- This feedback can be used by the base to beamform the downlink.
- the DOD calibration is illustrated in FIG. 2 where the output from each transmit branch has DOD calibration coefficient (d m (k) for antenna branch m) applied.
- the DOD calibrated signal is given as
- v(k,b) could be traditional DOD beamforming based on an estimate of the DOA on the uplink.
- the existing manifold calibration methods either require special hardware at the base station like calibration hardware or a sensing antenna or require hardware outside of the base station like a special transceiver with a fixed location to perform calibration.
- FIG. 1 illustrates gain and phase values introduced by system hardware.
- FIG. 2 illustrates DOA and DOD calibration coefficients being applied to received and transmitted signals in order to reduce the gain and phase values introduced by system hardware.
- FIG. 3 is a block diagram of a communication system.
- FIG. 4 is a block diagram of a receiver.
- FIG. 5 is a flow chart showing the operation of the receiver of FIG. 4 .
- FIG. 6 block diagram of a transmitter.
- FIG. 7 is a flow chart showing the operation of the transmitter of FIG. 6 .
- FIG. 8 is a flow chart showing an alternate operation of the transmitter of FIG. 6 .
- references to specific implementation embodiments such as “circuitry” may equally be accomplished via replacement with software instruction executions either on general purpose computing apparatus (e.g., CPU) or specialized processing apparatus (e.g., DSP).
- general purpose computing apparatus e.g., CPU
- specialized processing apparatus e.g., DSP
- an uplink direction of arrival (DOA) and a downlink direction of departure (DOD) calibration procedure are implemented using uplink signals and GPS information from a subset of mobiles without the need of calibration circuitry at the base. Because the presented calibration procedure needs no new hardware it can be deployed in existing deployments with only a software upgrade.
- DOA uplink direction of arrival
- DOD downlink direction of departure
- the present invention encompasses a method for performing direction of arrival (DOA) manifold calibration.
- the method comprising the steps of determining by a base station, an angle ⁇ to a mobile unit, receiving by the base station, an uplink transmission (Y(k,b)) from the mobile unit, and determining, by the base station, a dominant vector r(b) from the received uplink transmission.
- the base station then computes calibration coefficients C(b) based on the angle ⁇ and r(b) and applies the calibration coefficients to received uplink transmissions.
- the present invention additionally encompasses a method for performing direction of departure (DOD) manifold calibration.
- the method comprises the steps of determining by a base station, an angle ⁇ to a mobile unit, receiving feedback from the mobile unit regarding a dominant downlink vector r(b), and determining, calibration coefficients D based on the angle ⁇ and dominant downlink vector r(b). the calibration coefficients are then applied to downlink transmissions to the mobile unit.
- DOD direction of departure
- the present invention additionally encompasses an apparatus for performing direction of arrival (DOA) manifold calibration.
- the apparatus comprises calibration circuitry having as an input, information on an angle ⁇ to a mobile unit, an uplink transmission (Y(k,b)) from a mobile unit, the calibration circuitry determining a dominant vector r(b) from the received uplink transmission, the calibration circuitry outputting calibration coefficients C(b) based on the angle ⁇ and r(b).
- the apparatus additionally comprises multiplication circuitry applying the calibration coefficients to received uplink transmissions.
- the present invention additionally encompasses an apparatus for performing direction of departure (DOD) manifold calibration.
- the apparatus comprises calibration circuitry receiving information on an angle ⁇ to a mobile unit and receiving vector feedback from the mobile unit regarding a dominant downlink vector r(b), the calibration circuitry outputting calibration coefficients D based on the angle ⁇ and dominant downlink vector r(b).
- the apparatus additionally comprises multiplication circuitry applying the calibration coefficients to downlink transmissions to the mobile unit.
- FIG. 3 is a block diagram of communication system 300 .
- communication system 300 utilizes an Orthogonal Frequency Division Multiplexed (OFDM) or multicarrier based architecture.
- this architecture may also include the use of spreading techniques such as multi-carrier CDMA (MC-CDMA), multi-carrier direct sequence CDMA (MC-DS-CDMA), Orthogonal Frequency and Code Division Multiplexing (OFCDM) with one or two dimensional spreading, or may be based on simpler time and/or frequency division multiplexing/multiple access techniques, or a combination of these various techniques.
- OFDM Orthogonal Frequency Division Multiplexed
- MC-CDMA multi-carrier CDMA
- MC-DS-CDMA multi-carrier direct sequence CDMA
- OFDM Orthogonal Frequency and Code Division Multiplexing
- communication system 300 comprises a base station 301 and multiple mobile or stationary nodes 302 - 303 . Although only a single base station and two nodes are shown, one of ordinary skill in the art will recognize that such communication systems generally comprise multiple base stations 301 in communication with many nodes 302 - 303 .
- communication system 300 may utilize DOD beamforming to beamform transmissions between base station 301 and nodes 302 - 303 . As discussed above, beamforming is accomplished by employing multiple antennas at the transmit site and weighting each antenna such that the combined transmissions result in a beamformed pattern having a maximum power received at the receivers.
- transmit and receive hardware can induce an unknown gain and phase on each transmit and receive branches due to such hardware mismatches such as cable length differences and filter response differences.
- These unknown gain and phase values which may be frequency selective, make DOA or DOD estimation difficult (if not impossible) because they change the array response vector from what theory predicts.
- manifold calibration is performed by base station 301 .
- manifold calibration means that a DOA estimated on the uplink can be translated to a DOD on the downlink (i.e., a beam can be pointed in the mobile direction using an uplink DOA estimate).
- manifold calibration means that a signal received from a certain direction on the uplink matches the expected array manifold from theory (or equivalently that the baseband channel matches the RF channel).
- an uplink DOA and a downlink DOD calibration procedure is implemented using uplink signals and GPS information from a subset of mobiles without the need of calibration circuitry at the base. Because the presented calibration procedure needs no new hardware it can be deployed in existing deployments with only a software upgrade.
- the DOA, ⁇ of the mobile is needed which may be obtained from GPS information or from another location estimation process such as E911 location methods that use time of arrival information concerning the mobile based on observations at multiple base stations.
- the dominant received vector at time b is needed to relate the expected dominant angle of the mobile from GPS to the measured signal received through the hardware chain.
- the following covariance (correlation) matrix can be used to determine the dominant received vector from the mobile:
- r(b) From R(b) the dominant received vector, r(b), is the singular vector associated with the largest singular vector of R(b) (which may also be referred to as the largest singular vector of R(b)). There is some ambiguity as to how a singular vector is calculated so r(b) will likely not match a( ⁇ ) even in a perfectly line of sight environment. Hence r(b) should be normalized so that the first element in r(b) matches the first element in a( ⁇ ).
- r(b) used in the following equations should be r(b)a 1 ( ⁇ )/r 1 (b) where r(b) is the largest singular vector with the arbitrary scaling, a 1 ( ⁇ ) is the first element of a( ⁇ ) (which for the ULA of Error! Reference source not found. is 1), and r 1 (b) is the first element of r(b).
- the DOA calibration procedure using multiple mobiles is written assuming that the calibration coefficients need to be refreshed every t hours.
- a set of mobiles whose GPS information (x and y location or angle relative to the base, ⁇ ) is known for a given uplink transmission and which are mostly line of sight (LOS) (as determined from uplink channel measurements) are used to calibrate the receive array. Since only GPS information and an uplink signal are required, this procedure works for both TDD and FDD systems.
- the covariance matrix estimate in step 3 should be as broadband as possible (i.e., not on a small set of subcarriers) since it is used to determine if a mobile is LOS or not and also is used to determine a vector that is used to match the expected manifold as determined from the GSP information.
- the uplink signal could be a broadband sounding signal that occupies every p th subcarrier.
- W [ W diag ⁇ ( r ⁇ ( b ) ⁇ a 1 ⁇ ( ⁇ ) / r 1 ⁇ ( b ) ) ] where r 1 (b) is the first element of r(b) and a 1 ( ⁇ ) is the first element of a( ⁇ ).
- [ g 1 ⁇ g M ] ( W H ⁇ W ) - 1 ⁇ W H ⁇ w .
- the base station will require a measurement of the downlink channel at a mobile station, which may be obtained through such mobile feedback methods as codebook feedback, covariance matrix feedback, eigenvector feedback, or any other method as is known in the art. Note that in TDD where the base is already reciprocity calibrated, DOA calibration on the uplink will result in DOD calibration on the downlink and hence no further procedure is necessary.
- DOA DOA
- ⁇ the DOA of the mobile
- the dominant received vector at time b is needed to relate the expected dominant angle of the mobile from GPS to the measured signal received at the mobile through the transmit hardware chain. Unlike the DOA calibration operation, this r(b) will need be obtained from feedback from the mobile. For example in vector codebook feedback, r(b) is simply equal to the codebook vector selected by the mobile. If the codebook feedback is a matrix, then r(b) is the dominant singular vector of the fed-back matrix. If covariance matrix feedback is used, then r(b) is the dominant singular vector of the fed-back matrix. If eigenvector feedback is used, r(b) equals the fed-back principal eigenvector.
- r(b) should be normalized so that the first element in r(b) matches the first element in a( ⁇ ).
- the r(b) used in the following equations should be r(b)a 1 ( ⁇ )/r 1 (b) where r(b) obtained from the mobile feedback and may have an arbitrary scaling, a 1 ( ⁇ ) is the first element of a( ⁇ ) (which for the ULA of Error! Reference source not found. is 1), and r 1 (b) is the first element of r(b).
- the DOD calibration procedure is very similar to the DOA calibration procedure and even relies on an uplink signal to determine if the mobile is LOS or not.
- the feedback in step 8 below just needs to be on a small group of subcarriers.
- the DOD calibration procedure for multiple-mobile operation is as follows:
- w [ w a ⁇ ( ⁇ ) ] where a( ⁇ ) is the downlink array manifold vector (as opposed to the uplink array manifold vector used in the DOA calibration procedure).
- W [ W diag ⁇ ( ua 1 ⁇ ( ⁇ ) / u 1 ) ] where u 1 is the first element of u and a 1 ( ⁇ ) is the first element of a( ⁇ ).
- FIG. 4 is a block diagram of base station receiver 400 for performing DOA calibration coefficient estimation and correction.
- receiver 400 comprises antennas 411 , receive circuitry 403 , multiplication circuitry 405 , and receiver DOA calibration estimation circuitry 407 .
- Receive circuitry 403 is common OFDM circuitry known in the art that outputs Y m (k,b) on antenna m which is element m of Y(k,b).
- mixer 405 is provided to apply a the DOA calibration coefficient, c m , to Y m (k,b), outputting ⁇ tilde over (Y) ⁇ m (k,b).
- Circuitry 407 comprises a digital signal processor (DSP), general purpose microprocessor, a programmable logic device, or application specific integrated circuit (ASIC) and is utilized to determine C, and output C to multiplication circuitry 405 .
- DSP digital signal processor
- ASIC application specific integrated circuit
- FIG. 5 is a flow chart showing operation of receiver 400 during DOA calibration for a single mobile.
- the logic flow begins at step 501 where circuitry 407 receives information related to an angle of arrival ( ⁇ ) for mobile transmissions. Angle ⁇ is determined from this information by means other than analyzing the direction of the received signal. As discussed above, the information related to the angle preferably comes from the mobile providing its GPS coordinates to base station 301 .
- an uplink transmission Y(k,b) is received from the mobile unit by receive circuitry 403 and is passed to circuitry 407 .
- Receiver DOA calibration estimation circuitry 407 then computes the covariance matrix estimate for the mobile at time b, R(b), using Error! Reference source not found. (step 505 ).
- Circuitry 407 then computes a dominant received vector at time b, r(b) as the largest singular vector of R(b) (step 507 ) from the uplink transmission. It is assumed that the dominant received vector had no scattering, which would effect the angle of arrival ( ⁇ ).
- the stream weights are calculated, they are output to multiplication circuitry 405 where they are applied to the incoming stream (received uplink transmissions) in order to minimize the effects of hardware on the incoming signal and hence DOA.
- Outdated DOA calibration coefficients can then be removed by circuitry 407 from the dominant vector r(b) after r(b) is calculated.
- FIG. 6 is a block diagram of base station transmitter 600 for performing for performing DOD calibration.
- transmitter 600 comprises antennas 611 , transmit circuitry 603 , multiplication circuitry 605 , and transmitter DOD calibration estimation circuitry 607 .
- Transmit circuitry 603 is common OFDM circuitry known in the art that outputs d m q m v m (k,b) on antenna branch m. All of the outputs will be weighed and summed by the channel and the result will be a signal, ⁇ tilde over (z) ⁇ (k,b), received at the mobile.
- Circuitry 607 comprises a digital signal processor (DSP), general purpose microprocessor, a programmable logic device, or application specific integrated circuit (ASIC) and is utilized to determine D, and output D to multiplication circuitry 605 .
- DSP digital signal processor
- ASIC application specific integrated circuit
- FIG. 7 is a flow chart showing operation of transmitter 600 during DOD calibration for a single mobile.
- the logic flow begins at step 701 where circuitry 607 receives information related to an angle of arrival ( ⁇ ) for mobile transmissions. Angle ⁇ is determined from this information by means other than analyzing the direction of the received signal. As discussed above, the information related to the angle preferably comes from the mobile providing its GPS coordinates to base station 301 .
- step 703 feedback from the mobile is received by receive circuitry (not shown in FIG. 6 ).
- the feedback may, for example, may be vector feedback in the form of codebook feedback, and is passed to circuitry 607 .
- This feedback preferably comprises information on a dominant downlink vector r(b).
- circuitry 607 then computes DOD calibration coefficients based on angle of arrival ( ⁇ ) and r(b).
- ⁇ circumflex over (q) ⁇ b (A H A) ⁇ 1 A H r(b)
- the stream weights are calculated, they are output to multiplication circuitry 605 where they are applied to the outgoing stream (downlink transmissions) in order to minimize the effects of hardware on the outgoing signal.
- FIG. 8 is a flow chart showing operation of transmitter 600 for DOD calibration using multiple mobiles.
- the logic flow begins at step 801 where circuitry 607 receives information related to an angle of arrival ( ⁇ ) for mobile transmissions. Angle ⁇ is determined from this information by means other than analyzing the direction of the received signal. As discussed above, the information related to the angle preferably comes from the mobile providing its GPS coordinates to base station 301 .
- an uplink transmission Y(k,b) is received by receive circuitry 403 and passed to circuitry 607 .
- transmitter DOD calibration estimation circuitry 607 determines if the mobile was a line-of-sight (LOS) mobile (see steps 3-5 above). If the mobile was a non-LOS mobile, the logic flow returns to step 801 and the process continues for another mobile unit. If, however, the mobile unit was a LOS mobile, the logic flow continues to step 807 where A is calculated as:
- step 809 vector feedback (u) is received from the mobile unit and at step 811 W is updated as:
- DOD calibration coefficients are calculated, they are output to multiplication circuitry 605 where they are applied to the outgoing stream in order to minimize the effects of hardware on the outgoing signal.
Abstract
Description
where k is the subcarrier index, b is the time (OFDM symbol) index, x(k,b) is the transmitted symbol, P is the number of multipath components (rays), γl(b) is the complex gain of the lth multipath component, G(k)=diag(g1(k), . . . , gM(k)) where gm(k) is the receive hardware induced gain and phase for receive antenna m, τl is the time of arrival (TOA) for path l, ΔF is the subcarrier separation (in Hz), θl is the DOA of the lth path, and a(θ) is the array manifold vector which for a uniform linear array with inter-element spacing of d (in wavelengths) is given as
The goal of DOA calibration is to find a matrix C(k)=diag(c1(k), . . . , cM(k)), which contains the DOA calibration coefficients, that when it is applied to Y(k,b), removes the effects of G(k). Mathematically the application of C(k) can be expressed as:
which now has the unknown receiver gains and phases removed and thus a ray from angle θl will appear to mathematically match the array response vector in Error! Reference source not found. This type of DOA calibration is shown in
where v(k,b) is a M×1 vector containing the frequency-domain signals transmitted from each transmit antenna and Q(k)=diag(q1(k), . . . , qM(k)) where qm(k) is the transmit hardware induced gain and phase for transmit antenna m. Note that some of the downlink channel parameters will be the same as the uplink channel in Error! Reference source not found. such as the angles (the DODs equal the DOAs) and the TOAs regardless of whether the system is time division duplexed (TDD) or frequency division duplexed (FDD). However, for FDD systems, the channel gains and antenna spacing in wavelengths will be different on the uplink and downlink, whereas for TDD systems the channel gains are likely the same on the uplink and downlink. The transmitted frequency-domain signal from each antenna, v(k,b), can be pilot sequences which enable mobiles to compute the downlink channel. This measured downlink channel can then be turned into feedback (e.g., codebook feedback) which the mobile will send to the base station. This feedback can be used by the base to beamform the downlink. Another example of v(k,b) is DOD beamforming with v(k,b)=wx(k,b) where x(k,b) is a data stream and w is an M×1 vector corresponding to the DOD beamformer as is known in the art.
which has the effects of the transmit hardware removed.
G b a(θ)=r(b) (7)
This equation can be rearranged into the following equivalent equation which assists in finding a least squares estimate of Gb:
Ag b =r(b) (8)
where A=diag(a(θ)) and gb is the M×1 vector containing the gains and phases of the receive hardware (i.e., Gb=diag(gb)). An estimate of gb is given as:
ĝ b=(A H A)−1 A H r(b) (9)
Then an estimate of Cb would be the inverse of diag(ĝb).
The other option is to estimate Cb directly without finding Gb first which can be done using the following relationship:
a(θ)=Cr(b) (10)
This equation can be rearranged into the following equivalent equation which assists in finding a least squares estimate of Cb=diag(cb):
a(θ)=Wc b (11)
where W=diag(r(b)). An estimate of cb is then given as:
ĉ b=(W H W)−1 W H a(θ) (12)
Note that the above procedure can work even if outdated calibration weights are applied to the received signal as is shown in
-
- 1. Be provided the DOA of the mobile, θ, from GPS or some other source like E911 and form a(θ) (e.g., using Error! Reference source not found). The important thing to note here is that θ is not determined by analyzing a direction of the incoming signal from the mobile. Instead, θ is determined by some other means.
- 2. Receive an uplink transmission from the mobile, Y(k,b).
- 3. Compute the covariance matrix estimate for the mobile at time b, R(b), using the received uplink transmission (e.g., compute R(b) using Error! Reference source not found).
- 4. Compute the dominant received vector at time b, r(b) as the largest singular vector of R(b).
- 5. Normalize r(b) by updating it according to r(b)=r(b)a1(θ)/r1(b).
- 6. For the preferred embodiment, form W=diag(r(b)) and for the alternate embodiment form A=diag(a(θ)).
- 7. For the preferred embodiment compute ĉb=(WHW)−1WHa(θ) and C=diag(ĉb). For the alternate embodiment compute ĝb=(AHA)−1AHr(b) form G=diag(ĝb), and then C=G−1.
Multiple Mobile Operation
-
- 1. Set the number of mobiles in the set of line of sight (LOS) mobiles, NLOS, to 0 and set the number of mobiles in the set of non-los mobiles, Nn, to 0. Set w=[ ] and W=[ ] (i.e., to an empty vector and matrix respectively).
- 2. GPS information (x and y location or DOA θ) is obtained for a mobile which is not in the current set of LOS or non-LOS mobiles along with an uplink signal, Y(k,b) (assuming 0≦k≦K−1) that occurs close to when the GPS information is obtained (e.g., within 1.0 second).
- 3. Calculate the covariance matrix estimate as
and determine the largest and second largest singular values of R(b) denoted s1 and s2 respectively. These two singular values are used in
-
- 4. If s1>αs2 (e.g., α=0.1), then go to step 6 (i.e., the mobile is likely in LOS conditions), otherwise go to step 5.
- 5. Record the mobile in the set of non-LOS mobiles (along with the time of its uplink transmission, b) and increment Nn=Nn+1. Go to step 11.
-
- 7. Update NLOSM×1 w as
-
- 8. Determine the largest singular vector of R(b), r(b).
- 9. Update NLOSM×M W as
where r1(b) is the first element of r(b) and a1(θ) is the first element of a(θ).
-
- 10. Record the mobile in the set of LOS mobiles (along with the time of its uplink transmission, b) and increment NLOS=NLOS+1.
- 11. Remove mobiles in both the set of non-LOS mobiles and LOS mobiles whose uplink information is older than t hours. Decrement the counters, Nn and NLOS, according to the number of mobiles removed from each set.
- 12. Calculate the current DOA calibration coefficients as
-
- 13. Go to step 2.
Automatic DOD Calibration Procedure
- 13. Go to step 2.
Q b a(θ)=r(b) (13)
This equation can be rearranged into the following equivalent equation which assists in finding a least squares estimate of Qb:
Aq b =r(b) (14)
where A=diag(a(θ) and qb is the M×1 vector containing the gains and phases of the transmit hardware (i.e., Qb=diag(qb)). An estimate of qb is given as:
q b=(A H A)−1 A H r(b) (15)
Then an estimate of Db would be the inverse of diag({circumflex over (q)}b).
The other option is to estimate Db directly without finding Qb first which can be done using the following relationship:
a(θ)=Dr(b) (16)
This equation can be rearranged into the following equivalent equation which assists in finding a least squares estimate of Db=diag(db):
a(θ)=Wd b (17)
where W=diag(r(b)). An estimate of db is then given as:
{circumflex over (d)} b=(W H W)−1 W H a(θ) (18)
Note that the above procedure can work even if outdated DOD calibration weights are applied to the transmitted signal as is shown in
-
- 1. Be provided the DOA of the mobile, θ, from GPS or some other source like E911 and form a(θ) (e.g., using Error! Reference source not found).
- 2. Receive feedback from the mobile and determine r(b) from the feedback using a technique described above.
- 3. Normalize r(b) by updating it according to r(b)=r(b)a1(θ)/r1(b).
- 4. For the preferred embodiment, form W=diag(r(b)) and for the alternate embodiment form A=diag(a(θ)).
- 5. For the preferred embodiment compute {circumflex over (d)}b=(WHW)−1WHa(θ) and D=diag({circumflex over (d)}b). For the alternate embodiment compute {circumflex over (q)}b=(AHA)−1AHr(b), next form Q=diag({circumflex over (q)}b) and then D=Q−1.
Multiple Mobile DOD Calibration Procedure
-
- 1. Set the number of mobiles in the set of LOS mobiles, NLOS, to 0 and set the number of mobiles in the set of non-los mobiles, Nn to 0. Set w=[ ] and W=[ ] (i.e., to an empty vector and matrix respectively).
- 2. GPS information (x and y location or DOA θ) is obtained for a mobile which is not in the current set of LOS or non-LOS mobiles along with an uplink signal, Y(k,b) (assuming 0≦k≦K−1) that occurs close to when the GPS information is obtained (e.g., within 1.0 second).
- 3. Calculate the covariance matrix estimate as
and determine the largest and second largest singular values of R(b) denoted s1 and s2 respectively which are used to determine if a mobile is in LOS or non-LOS conditions.
-
- 4. If s1>αs2 (e.g., α=0.1), then go to step 6 (i.e., the mobile is likely in LOS conditions), otherwise go to step 5.
- 5. Record the mobile in the set of non-LOS mobiles (along with the time of its uplink transmission, b) and increment Nn=Nn+1. Go to step 11.
- 6. Determine the DOA, θ, of the mobile from the GPS information.
- 7. Update NLOSM×1 w as
where a(θ) is the downlink array manifold vector (as opposed to the uplink array manifold vector used in the DOA calibration procedure).
-
- 8. Receive feedback from the mobile and determine the dominant vector from the feedback, u, using one of the procedures described above.
- 9. Update NLOSM×M W as
where u1 is the first element of u and a1(θ) is the first element of a(θ).
-
- 10. Record the mobile in the set of LOS mobiles (along with the time that the feedback was measured, bf) and increment NLOS=NLOS+1.
- 11. Remove mobiles in both the set of non-LOS mobiles and LOS mobiles whose uplink information is older than t hours. Decrement the counters, Nn and NLOS, according to the number of mobiles removed from each set.
- 12. Calculate the current DOD calibration coefficients as
-
- 13. Go to step 2.
At
At
Claims (12)
Priority Applications (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US12/759,872 US8264406B2 (en) | 2010-04-14 | 2010-04-14 | Manifold calibration for a communication system |
PCT/US2011/032011 WO2011130192A2 (en) | 2010-04-14 | 2011-04-12 | Manifold calibration for a communication system |
Applications Claiming Priority (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US12/759,872 US8264406B2 (en) | 2010-04-14 | 2010-04-14 | Manifold calibration for a communication system |
Publications (2)
Publication Number | Publication Date |
---|---|
US20110254736A1 US20110254736A1 (en) | 2011-10-20 |
US8264406B2 true US8264406B2 (en) | 2012-09-11 |
Family
ID=44209655
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US12/759,872 Active 2030-09-21 US8264406B2 (en) | 2010-04-14 | 2010-04-14 | Manifold calibration for a communication system |
Country Status (2)
Country | Link |
---|---|
US (1) | US8264406B2 (en) |
WO (1) | WO2011130192A2 (en) |
Families Citing this family (7)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
EP2854318B1 (en) | 2012-05-22 | 2020-11-04 | Sun Patent Trust | Transmission method and transmission system |
CN103782618B (en) * | 2012-07-23 | 2018-03-09 | 华为技术有限公司 | One kind determines azimuthal method and device |
US10320511B2 (en) | 2015-03-31 | 2019-06-11 | Telefonaktiebolaget Lm Ericsson (Publ) | Methods and arrangements for pilot sequence coordination |
CN106559118B (en) * | 2015-09-24 | 2020-03-20 | 中国电信股份有限公司 | Method and device for estimating azimuth angle of user terminal under large-scale antenna |
CN110138519A (en) * | 2018-02-02 | 2019-08-16 | 索尼公司 | Device and method, computer readable storage medium in wireless communication system |
CN111487599B (en) * | 2020-04-30 | 2023-07-14 | 长江大学 | Bistatic MIMO radar angle estimation method and device under gain-phase error background |
WO2023168569A1 (en) * | 2022-03-07 | 2023-09-14 | Telefonaktiebolaget Lm Ericsson (Publ) | Methods and wireless devices for estimating antenna calibration error in a wireless communication network |
Citations (9)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US5546090A (en) | 1991-12-12 | 1996-08-13 | Arraycomm, Inc. | Method and apparatus for calibrating antenna arrays |
WO2001017065A1 (en) | 1999-08-27 | 2001-03-08 | Telefonaktiebolaget Lm Ericsson (Publ) | Method for electronical beam control in a telecommunications system and base station using said method |
US6232918B1 (en) | 1997-01-08 | 2001-05-15 | Us Wireless Corporation | Antenna array calibration in wireless communication systems |
US7199753B2 (en) * | 2005-06-16 | 2007-04-03 | Raytheon Company | Calibration method for receive only phased array radar antenna |
US7218273B1 (en) * | 2006-05-24 | 2007-05-15 | L3 Communications Corp. | Method and device for boresighting an antenna on a moving platform using a moving target |
US7304605B2 (en) * | 2003-11-19 | 2007-12-04 | Roke Manor Research Limited | Method of calibrating an adaptive antenna array of a satellite navigation system |
US20080079763A1 (en) | 2006-09-29 | 2008-04-03 | Weyerhaeuser Co. | Systems And Methods For Verifying The Operational Conditions Of Print Heads in a Digital Printing Environment |
US20090323783A1 (en) | 2008-06-25 | 2009-12-31 | Motorola, Inc. | Calibration techniques for mimo wireless communication systems |
US20100117890A1 (en) | 2008-11-10 | 2010-05-13 | Motorola, Inc. | Antenna reciprocity calibration |
Family Cites Families (1)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
JP5186748B2 (en) * | 2006-09-29 | 2013-04-24 | 富士通株式会社 | Wireless communication apparatus and wireless communication method |
-
2010
- 2010-04-14 US US12/759,872 patent/US8264406B2/en active Active
-
2011
- 2011-04-12 WO PCT/US2011/032011 patent/WO2011130192A2/en active Application Filing
Patent Citations (9)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US5546090A (en) | 1991-12-12 | 1996-08-13 | Arraycomm, Inc. | Method and apparatus for calibrating antenna arrays |
US6232918B1 (en) | 1997-01-08 | 2001-05-15 | Us Wireless Corporation | Antenna array calibration in wireless communication systems |
WO2001017065A1 (en) | 1999-08-27 | 2001-03-08 | Telefonaktiebolaget Lm Ericsson (Publ) | Method for electronical beam control in a telecommunications system and base station using said method |
US7304605B2 (en) * | 2003-11-19 | 2007-12-04 | Roke Manor Research Limited | Method of calibrating an adaptive antenna array of a satellite navigation system |
US7199753B2 (en) * | 2005-06-16 | 2007-04-03 | Raytheon Company | Calibration method for receive only phased array radar antenna |
US7218273B1 (en) * | 2006-05-24 | 2007-05-15 | L3 Communications Corp. | Method and device for boresighting an antenna on a moving platform using a moving target |
US20080079763A1 (en) | 2006-09-29 | 2008-04-03 | Weyerhaeuser Co. | Systems And Methods For Verifying The Operational Conditions Of Print Heads in a Digital Printing Environment |
US20090323783A1 (en) | 2008-06-25 | 2009-12-31 | Motorola, Inc. | Calibration techniques for mimo wireless communication systems |
US20100117890A1 (en) | 2008-11-10 | 2010-05-13 | Motorola, Inc. | Antenna reciprocity calibration |
Non-Patent Citations (2)
Title |
---|
Patent Cooperation Treaty, International Search Report and Written Opinion of the International Searching Authority for International Application No. PCT/US2011/032011, Oct. 18, 2011, 15 pages. |
Tao Su, et al., "Simulation of Mutual Coupling Effect in Circular Arrays for Direction-Finding Application," Microwave and Optical Tech. Letters, vol. 26, No. 5, Sep. 5, 2000. |
Also Published As
Publication number | Publication date |
---|---|
US20110254736A1 (en) | 2011-10-20 |
WO2011130192A3 (en) | 2011-12-01 |
WO2011130192A2 (en) | 2011-10-20 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US8264406B2 (en) | Manifold calibration for a communication system | |
US9685702B2 (en) | Beamforming method, apparatus for polarized antenna array and radio communication device and system thereof | |
US9413474B2 (en) | Efficient large-scale multiple input multiple output communications | |
US7570211B1 (en) | Digital beamforming method and apparatus for pointing and null steering without calibration or calculation of covariance matrix | |
US10382139B2 (en) | Polarization pre-coding for a single carrier communication system | |
EP2384558B1 (en) | Phase calibration and erroneous cabling detection for a multi-antenna radio base station | |
EP2534867B1 (en) | Method and arrangement in a wireless communication system | |
US10136404B2 (en) | Reciprocity calibration for multiple-input multiple-output systems | |
JP4976504B2 (en) | Method and apparatus for improving transmission efficiency in a mobile radio communication system | |
US20200382346A1 (en) | Efficient sparse channel estimation based on compressed sensing | |
CN106062580A (en) | Localization with non-synchronous emission and multipath transmission | |
US20130044024A2 (en) | Method for iterative estimation of global parameters | |
KR20190043080A (en) | Estimation method and compensation method for rf chain imbalance in uca oam radio system | |
US20100008268A1 (en) | Frequency transformation based transmit beamforming in a communication system | |
US10531465B2 (en) | Communication device, access node and methods thereof | |
US8537928B2 (en) | Channel estimation methods and systems based on power measurement at receivers | |
Mahfoudi et al. | ORION: Orientation estimation using commodity Wi-Fi | |
EP3360265B1 (en) | Channel condition estimation | |
US10756831B2 (en) | Characterizing transmit channels from an antenna array to a transceiver | |
US10693546B2 (en) | Apparatus and method for sparsifying channel using beamforming | |
US7817091B2 (en) | Single input multiple output (SIMO) ranging and positioning systems | |
Landmann et al. | Estimation of multidimensional polarimetric channel model parameters | |
Li et al. | Intelligent Reflecting Surface-Assisted Dual-Function Radar-Communication System | |
WO2011058751A1 (en) | Mimo evaluation device and mimo evaluation method | |
JP2003255034A (en) | Method and apparatus for estimation of arrival direction, transmitter/receiver and base-station device |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
AS | Assignment |
Owner name: MOTOROLA, INC., ILLINOISFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:THOMAS, TIMOTHY A.;VOOK, FREDERICK W.;SIGNING DATES FROM 20100413 TO 20100414;REEL/FRAME:024230/0433 |
|
AS | Assignment |
Owner name: MOTOROLA MOBILITY, INC, ILLINOISFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:MOTOROLA, INC;REEL/FRAME:025673/0558Effective date: 20100731 |
|
AS | Assignment |
Owner name: MOTOROLA MOBILITY LLC, ILLINOISFree format text: CHANGE OF NAME;ASSIGNOR:MOTOROLA MOBILITY, INC.;REEL/FRAME:028441/0265Effective date: 20120622 |
|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |
|
AS | Assignment |
Owner name: GOOGLE TECHNOLOGY HOLDINGS LLC, CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:MOTOROLA MOBILITY LLC;REEL/FRAME:034421/0001Effective date: 20141028 |
|
FPAY | Fee payment |
Year of fee payment: 4 |
|
MAFP | Maintenance fee payment |
Free format text: PAYMENT OF MAINTENANCE FEE, 8TH YEAR, LARGE ENTITY (ORIGINAL EVENT CODE: M1552); ENTITY STATUS OF PATENT OWNER: LARGE ENTITYYear of fee payment: 8 |
|
FEPP | Fee payment procedure |
Free format text: MAINTENANCE FEE REMINDER MAILED (ORIGINAL EVENT CODE: REM.); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |