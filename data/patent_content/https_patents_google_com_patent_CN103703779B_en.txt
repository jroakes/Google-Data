CN103703779B - Use the image compression of Sub-reso image - Google Patents
Use the image compression of Sub-reso image Download PDFInfo
- Publication number
- CN103703779B CN103703779B CN201280036377.1A CN201280036377A CN103703779B CN 103703779 B CN103703779 B CN 103703779B CN 201280036377 A CN201280036377 A CN 201280036377A CN 103703779 B CN103703779 B CN 103703779B
- Authority
- CN
- China
- Prior art keywords
- image
- input picture
- reso
- pixel
- sub
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Active
Links
Classifications
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T9/00—Image coding
- G06T9/004—Predictors, e.g. intraframe, interframe coding
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/50—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using predictive coding
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/46—Embedding additional information in the video signal during the compression process
- H04N19/463—Embedding additional information in the video signal during the compression process by compressing encoding parameters before transmission
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/90—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using coding techniques not provided for in groups H04N19/10-H04N19/85, e.g. fractals
- H04N19/91—Entropy coding, e.g. variable length coding [VLC] or arithmetic coding
Abstract
Disclose for using Sub-reso image to come the method for image compression and decompress(ion), system and goods.Carry out compression to image to comprise: determine multiple entropy code set based on the statistics similar area in input picture; Generate comprise comprise multiple entropy code set first time image in different resolution one or more Sub-reso images; Use the one or more Sub-reso images generated to control to comprise one or more compression parameters of entropy code, input picture is encoded; And export encoded input picture and the image file of the one or more Sub-reso images generated as the entropy code of compression.Carry out decompress(ion) to image to comprise: decompose image file and visit encoded compression input picture and the corresponding Sub-reso image about each in multiple compression parameters; And use corresponding Sub-reso image to control each in multiple compression parameters, and encoded compression input picture is decoded.
Description
Technical field
The disclosure relates generally to image compression.
Background technology
The wide usability of digital camera, the mobile phone being equipped with camera and portable equipment and other image-capturing apparatus has easily caused being uploaded to termly various based on the great amount of images in the image applications of web.Such as these application highlights the lasting demand of Image Compression to improve efficiency, quality and flexibility.
Portable network figure (PNG) form is for storing over networks, such as the internet and transmitting the form of the frequent use of image.Also other picture formats are frequently used at internet environment, such as GIF(Graphic Interchange format) (GIF), tagged image file format (TIFF) and JPEG (joint photographic experts group) (JPEG).PNG and GIF is considered to lossless compression method, and JPEG is lossy compression method method.GIFF sometimes can use and damage or Lossless Compression.Each in these technology provides many benefits when image compression.But each in these technology has weakness in efficiency, quality or flexibility.
Therefore, expect to obtain being widely adopted and support and the efficiency of the improvement exceeding current techniques available and the Image Compression of quality are provided.
Summary of the invention
Disclose for the method for the image compression and decompress(ion) using Sub-reso image, system and goods.For image compression, these comprise: determine multiple entropy code set based on the statistics similar area in input picture; Generate comprise comprise multiple entropy code set first time image in different resolution one or more Sub-reso images; Use the one or more Sub-reso images generated to control to comprise one or more compression parameters of entropy code, and input picture is encoded; And export encoded input picture and the image file of the one or more Sub-reso images generated as the entropy code of compression.
Another embodiment for image compression comprises: generate corresponding Sub-reso image from input picture about each multiple compression parameters; Use corresponding Sub-reso image to control each in multiple compression parameters, and input picture is encoded; And export encoded input picture and the image file of the Sub-reso image generated as the entropy code of compression.
Embodiment for image decompression comprises: decompose image file and visit encoded compression input picture and the corresponding Sub-reso image about each in multiple compression parameters; Use corresponding Sub-reso image to control each in multiple compression parameters, and encoded compression input picture is decoded; And the input picture exported through decoding.
Describe further Characteristics and advantages in detail with reference to accompanying drawing below, and the structure of various embodiment and operation.It is noted that the present invention is not limited at specific embodiment as herein described.Only such embodiment is provided for purpose of explanation herein.Based on the instruction comprised herein, other embodiment will be apparent to various equivalent modifications.
Accompanying drawing explanation
With reference to embodiments of the invention, its example can be illustrated in the accompanying drawings.These accompanying drawings be intended to illustrate and unrestricted.Although generally describe the disclosure under the sight of these embodiments, but should be understood that, these embodiments are not the restrictions to scope.
Fig. 1 is that diagram is according to the image compression of embodiment and the flow chart of coding techniques.
Fig. 2 is the flow chart of diagram according to the preconditioning technique used in the image compression at Fig. 1 of embodiment and coding techniques.
Fig. 3 is the flow chart of diagram according to the spatial prediction techniques used in the image compression at Fig. 1 of embodiment and coding techniques.
Fig. 4 is the flow chart of diagram according to the colour switching technology used in the image compression at Fig. 1 of embodiment and coding techniques.
Fig. 5 is the flow chart of diagram according to the compress technique based on initial pixel used in the image compression at Fig. 1 of embodiment and coding techniques.
Fig. 6 is the flow chart of diagram according to the technology for determining entropy code used in the image compression at Fig. 1 of embodiment and coding techniques.
Fig. 7 is the flow chart of diagram according to the general image coding techniques used in the image compression at Fig. 1 of embodiment and coding techniques.
Fig. 8 is the block diagram of the encoder according to embodiment.
Fig. 9 is the block diagram of diagram according to the data that can be associated with the encoder of Fig. 8 of embodiment.
Figure 10 is the block diagram of the image file format of the compression of foundation embodiment.
Figure 11 is that diagram is according to the image decompression of embodiment and the flow chart of decoding technique.
Figure 12 is the block diagram of the decoder according to embodiment.
Figure 13 is the computer system according to embodiment.
Embodiment
Although describe the illustrative embodiment for application-specific in the disclosure, but should be understood that, embodiment is not limited to this.Other embodiments are possible, and the spirit and scope of instructing herein and embodiment are by having in the other field of great function, can modify embodiment.Further, when describing special characteristic, structure or characteristic in conjunction with the embodiments, should think no matter whether clearly describe, realize such feature, structure or characteristic in the ken of various equivalent modifications in conjunction with other embodiments.
The disclosure relates generally to method, system and goods for compressing image.The embodiment being included in clear and definite those disclosed herein achieves harmless or near Lossless Image Compression, also in treatment effeciency, picture quality and storage, achieves huge advantage simultaneously.Some differences between current welcome PNG image compression and embodiment are illustrative.
Embodiment is the independent entropy code set of the Area generation with similar statistics amount of input picture.The entropy code of corresponding generation is stored in Sub-reso image (that is, having the resolution lower than input picture, therefore little than input picture image), and then it be used to the entropy code of the pixel in control inputs image.By doing like this, in an embodiment, advantageously make use of the entropy characteristic of pixel close in the two-dimensional space of image.By contrast, PNG is to the block forecast entropy of linear memory, that is, image is converted into byte stream, is then coded by entropy.Do not effectively utilize in PNG and be present in the entropy characteristic of the two dimension in input picture close to place, because linear byte stream is coded by entropy.In addition, by using Sub-reso image to come for zones of different specifies entropy code, embodiment can more have cost effectively to change entropy code during decode procedure.
About spatial prediction too, the two dimension effectively utilized in an embodiment is in the picture come for each rectangular block designated space fallout predictor close to the local similitude occurred.Spatial predictors is stored in Sub-reso image, and then this Sub-reso image is used to control spatial prediction.By contrast, PNG is every a line designated space fallout predictor of input picture, and does not consider the statistics similarity of regional area especially.
Embodiment predicts spatial prediction error by using colour contamination component fallout predictor, utilizes the correlation between different color channels.Embodiment uses independent entropy code to encode to each Color Channel, with the correlation between the component being used advantageously in the same color in input picture.Common entropy code is used for all colours passage by PNG.
In view of the color palette that PNG definition is static, embodiment describes the color palette of the region local definition into input picture.This palette uses salted hash Salted dynamically to generate, and it can cause the color characteristics improved.
In addition, embodiment uses Sub-reso image to control the various aspects of image compression and entropy code.Sub-reso image can use the technology identical with the technology being used for storing input picture to store.
Fig. 1-7 illustrates the various aspects of the embodiment of compression method.Fig. 8-10 and 13 illustrates the system according to embodiment.
Fig. 1 illustrates the method 100 for image compression and entropy code according to embodiment.The method can such as use as realized about the system as described in Fig. 8-10 and 13 below.Method 100 can occur in sequence not in accordance with shown, and can not require all steps.
In step 102, preliminary treatment is performed to input picture.Input picture can be digitized photograph or other digital pictures.Input picture can be represented as logical rectangle pel array in memory.Pixel can be one or more byte.According to embodiment, pixel is 4 bytes and comprises redness, green, blueness and alpha channel.Pre-treatment step 102 can process the pixel of input picture, makes after pre-processing, and input picture produces the compression improved.According to embodiment, Alpha's replacement, color discretization and palette can be performed in step 102 and select.Pre-treatment step 102 is further described below about Fig. 2.
In step 104, input picture or more specifically pretreated input picture stand spatial prediction.Particularly, as is known to persons skilled in the art, spatial prediction refers to that the pixel based on one or more previous appearance carrys out predict pixel.Difference between predicted value and actual value is recorded in the location of pixels in the image of spatial prediction.In addition, the Sub-reso image of the spatial predictors selected by storage.
Input picture can be divided into the rectangular area (" block ") of predefined size.Block can be any size, such as 16 × 16 pixels.The block of identical or different size can be used in spatial prediction, color notation conversion space and entropy Code Selection.
For each pixel in each block, attempt spatial predictors collection.Can be preconfigured by the spatial predictors collection attempted or can dynamically be determined.According to embodiment, spatial predictors collection comprise independent pixel or the current pixel left side (term " current pixel " is used to refer to current just processed pixel) pixel and/or be the combination of pixel of one or more row above current pixel.Notice, according to L-R, the previous-next processing sequence of the pixel in image, the current pixel left side or above pixel processed before current pixel.
The spatial predictors selected for block can be the spatial predictors that difference between the spatial predictor of pixel in the block and respective actual value produces minimum summation entropy.Therefore, in an embodiment, to optimize the mode of entropy partly to each block to determine spatial predictors.
In certain embodiments, when selecting spatial predictors for current block, the standard considered comprises the absolute value of the difference be minimized between spatial predictor and actual value, and has a preference for the deflection of predetermined neighbor as the part of fallout predictor and/or fallout predictor.Entropy can be reduced within the scope of image overall to the minimizing of absolute value of difference.According to embodiment, each pixel that can be based upon in block that minimizes of absolute value is minimized to poor absolute value or minimizes poor summation absolute value for block.According to another embodiment, can be realized by the weighted sum of the universe counting minimizing difference at least partly minimizing of absolute value.This weighting can be such as the index or the Gauss that have a preference for little absolute value relative to large absolute value.
Then, the spatial predictors selected for each block is recorded in spatial predictors Sub-reso image.The further details of spatial prediction is described below about Fig. 3.
In step 106, perform the color notation conversion space of input picture.The color notation conversion space of input picture can be performed before or after spatial prediction.In the described embodiment, the input to color notation conversion space comprises the intermediate input image of spatial prediction difference as pixel value.
Color notation conversion space comprises and identifying and the correlation be recorded between color component.Such as, the correlation identification between green and red, green and blue and red and blueness is recorded as color correlation factor.Therefore, the pixel included at first for three green, red and blue seperate color values can be represented by the original color value of green and the value that uses red and blue correlation factor to determine after colour switching.Red can be represented as the red and green correlation factor be associated, and blueness can be represented as the blue and red correlation factor that is associated or one or more by blueness and the green correlation factor be associated.
Correlation factor is stored in Sub-reso image.Based on corresponding correlation factor, change to comprise red and blue predicated error to the color value in input picture.Color notation conversion space is further described below about Fig. 4.
In step 108, perform the compression based on initial pixel of input picture.In embodiment described herein, the input to the compression based on initial pixel is the input picture that subjected to spatial prediction and colour switching process.But step 108 can perform in other positions of the flow process of method 100, therefore, the input picture before or after step 104 and 106 can be had in other embodiments.
For each pixel, based on the squeeze operation of initial pixel insert backward reference, pixel or palette quote in one.It should be recognized by those skilled in the art that the compression by inserting backward reference performs with the traditional LZ77 based on byte.Compared with LZ77, in an embodiment, to the insertion of backward reference based on pixel.Compression based on pixel makes it possible to use the two dimension in image to improve compression close to characteristic better.According to embodiment, palette (being called as herein " emerging color palette ") dynamically can be filled between the compression period based on pixel.The compression based on initial pixel of input picture is further described below about Fig. 5.
In step 110, the compressed input picture exported from step 108 stands two-dimensional locality conversion.Two-dimensional locality map function identifies the positional information in compressed image, and with representing that the code of corresponding two-dimensional distance is encoded to this positional information.Such as, backward reference can be inserted into (such as, step 108) at first as pixel distance between compression period.Two-dimensional locality conversion can replace this pixel distance with the short code for corresponding two-dimensional distance.Pre-configured two-dimensional locality code table specifies in the relation between corresponding short code and selected corresponding generic pixel distance.According to embodiment, pre-configured table is that 16 × 8 pixel neighbours around current pixel specify short code.These short codes are arranged to current pixel by its Euclidean distance.Short code is used for the region of direct neighbor is such as enable quotes more cheap (in place) from direct superincumbent one or more pixel moving ahead.
In step 112, determine entropy code and recording needle to the Sub-reso image of entropy code.For the regional area (such as, block or block cluster) with similar statistics amount of image determines entropy code.By entropy code or to being used for quoting in the Sub-reso image being stored in and being called as entropy Sub-reso image the entropy code that each pixel is encoded.Further describe entropy code about Fig. 6 below to determine.
In step 114, entropy code is carried out to input picture.According to embodiment, the input to entropy code can be subjected to spatial prediction, colour switching, pixel compression and two-dimensional locality conversion input picture.
Entropy code operates input picture by pixel in mode from left to right and from top to bottom.In each position of image, determine entropy code based on the entropy code quoted in entropy Sub-reso image.As below about as described in Fig. 6, it is each block determination entropy code set of input picture.Entropy code set can comprise the corresponding entropy code for color, distance etc.Entropy Sub-reso image can specify the entropy code set of the respective pixel be ready to use in input picture.Block based on current pixel visits entropy code.Entropy code can based on such as Huffman code and arithmetic code.
In step 116, the compressed image of entropy code outputted to memory, permanent memory or be transferred to another entity.Export the image file that the image of entropy code can comprise the entropy code forming compression, such as about described in Figure 10, it comprises the input picture of the entropy code of compression, Sub-reso image and decompress(ion) to recover other information needed for input picture.
Fig. 2 illustrates the flow chart for carrying out pretreated method 200 to input picture.According to embodiment, method 200 can use when performing the step 102 of said method 100.Method 200 can occur in sequence not in accordance with shown, and can not require all steps.
In step 202, Alpha is performed to input picture and replaces.Alpha's replacement is the technology of the entropy reduced in input picture.Alpha's replacement operation replaces part alpha value with the alpha value that more often occurs in the picture, such as unique alpha value or seldom occur in the picture those.According to embodiment, such as, to the special color value also with translucent value, those such as appearance with the picture format of such as PNG, TIFF and GIF process, and comprise corresponding specific translucent value and remove by they being corrected into the translucent value comprised at first.This process operation reduces the entropy in alpha channel.
Can any amount of pixel be labeled as translucent, thus, make it stand Alpha's replacement.According to embodiment, not translucently to be designated as red, green and blue seperate color value, and to be alternatively designated as the skew with corresponding alpha value.Specifying translucent redness, green and blueness to enable embodiment when there is multiple Alpha for specific RGB tlv triple even if use with the skew of Alpha, also retaining translucency information.As the side effect using skew to specify alpha value, the entropy of alpha channel can be reduced.
In step 204, color discretization can be performed.According to embodiment, color discretization and compatibility (compatification) operation encapsulate the dynamic range of (topack) color, make to predict by only or major part produce color value as those in original image and/or prediction error value.This avoid or reduces the demand that predicted picture has the symbol unique than original image.
Such as, in the embodiment not having color discretization and compatibility, fallout predictor can be considered two color values and be the prediction color of pixel by the consensus forecast of values that those two are considered.But mean value may not be color Anywhere in original image, therefore, prediction signal will introduce new symbol.The dynamic range of encapsulation color, the possibility of the new value that prediction and/or predicated error are produced not yet in original image result in the interpolation minimizing new symbol.Therefore, compared with conventional art time, the image of prediction may decrease entropy.
In step 206, alternatively, perform palette to select.According to embodiment, in only minority color needs coding in the picture, just perform palette and select.Palette is selected to allow multiple pixel to be encapsulated into single pixel.
Fig. 3 illustrates the method 300 for performing spatial prediction.According to embodiment, method 300 can use when performing the step 104 of said method 100.Method 300 can occur in sequence not in accordance with shown, and can not require all steps.
In step 302, determine spatial predictors.As above about as described in step 104, spatial predictors is found in the disclosed embodiments operation, makes the pre-error of measurement minimized in block.In another embodiment, other standards can be used, such as, but not limited to: be minimized in the entropy of the spatial prediction difference in block, the absolute value of the pre-error of measurement of minimize spatial and the deflection choice criteria of preference adjacent pixel blocks, to optimize to the local characteristics for block and alternatively for the selection of the spatial predictors of global property.
As mentioned above, for predicting that the pixel that current pixel is selected can from the location of pixels of any first pre-treatment.According to embodiment, pre-configured spatial predictors code table is each appointment codes in multiple location of pixels and combination of pixels.Such as, spatial predictors code table can comprise for without prediction code, for copy independent pixel multiple code and for asking multiple codes of the mean value of two or more pixels.Therefore, can based on one or more pixel to the prediction of current pixel.
Based on the one or more determined cost function in above-mentioned standard based on every block, select the spatial predictors of input picture being encoded with it.In block, all pixels are associated with the spatial predictors of identical selection.
In step 304, the spatial predictors selected by each block is stored in spatial predictors Sub-reso image.Pixel in Sub-reso image represents the block in input picture.
Identical memory technology for the input picture of the entropy code of store compressed may be used for storing corresponding Sub-reso image.Disclose the image of the entropy code for store compressed below about Fig. 7, comprise for Sub-reso image, current techique.
In step 306, to input picture (through or not through preliminary treatment) carry out process and according to spatial predictors Sub-reso image, spatial prediction encoded.For each pixel in block, determine predicted value based on the corresponding spatial predictors be stored in spatial predictors Sub-reso image.Then, the difference between predicted value and actual value is coded in pixel.When spatial prediction proceeds to across input picture process pixel, spatial predictors Sub-reso image controls the spatial predictors applied for each block.
Fig. 4 illustrates the method 400 for the color notation conversion space to image.According to embodiment, method 400 can use when performing the step 106 of said method 100.Method 400 can occur in sequence not in accordance with shown, and can not require all steps.
In step 402, determine color correlation.The color correlator between color component is determined based on block.For each block, to pixel, or more specifically red, green, blue (RGB) value, carry out the correlation analyzing to determine between them.According to embodiment, determine in green and red, red and blue and between green and blueness correlation.Color correlator operative reduces the entropy in red and blue channel.Such as, by redness being expressed as the factor of the green value in this pixel, embodiment decreases the entropy in red channel.Such as, consider as in conventional systems by encode, two blocks respectively with RGB8:6:2 and 4:3:0.According to embodiment, can be 8:X:Y and 4:X:Y by this information coding, wherein X and Y be the code for 75% and 25%.Therefore, colour switching can reduce entropy that is red and blue channel by utilizing the color relationship between adjacent block.
For each block determination common colors correlator collection.Can such as based on average or select the correlator of block based on the color value the most frequently occurred in current block.According to embodiment, can to minimize the correlator mode of the entropy of red and blue component and the combined inspiration of absolute value being determined block.Such as, can test to red all values the green in block, and the value producing minimum inspiration can be selected.Further, can test to blue and red all combinations to blueness the green in block, and the combination with minimum inspiration can be selected.In addition, in certain embodiments, the correlator value similar to the selected correlator of the block on next comfortable current block or the left side can be had a preference for a little selective.
In step 404, selected correlation factor is stored in color correlation Sub-reso image.In color correlation Sub-reso image, each pixel represents the block in input picture.Each pixel in Sub-reso image stores green to red, green to blue and red to blue correlation factor respectively.These factors can be stored can make instruction plus or minus such mode of being correlated with.
In a step 406, in the input image colour switching is encoded.Now the redness in input picture and blue channel are modified as the predicated error representing color correlation prediction.Particularly, as described below prediction color is encoded.Green does not have predicted, and therefore, the value stored is actual green value.Predict red to red correlation factor from green based on the green corresponding with current block specified in color correlation Sub-reso image.Now to encoding based on the difference between the red predicted value of color correlation factor and the spatial prediction error of the previous coding of red component.Can be blue from the one or more predictions green and redness.If use green and redness when predicting blue valve, then according to embodiment, by green to the blue and red predicted value be on average taken as blue component to blue prediction.Pre-configuredly can predict blue pattern.Therefore, the coding to red and blue channel is controlled according to correlation factor specified in color correlation Sub-reso image.
Fig. 5 illustrates the method 500 for the compression based on pixel to input picture.According to embodiment, method 500 can use when the step 108 of manner of execution 100.Step 502-516 illustrates by traveling through the process of pixel to image with from left to right and from top to bottom Move Mode.Method 500 can occur in sequence not in accordance with shown, and can not require all steps.
In step 502, select next pixel to be treated.Process will typically start in top left pixel.In other iteration, select pixel subsequently.Next selected pixel is called as current pixel.
Step 504-508 determines can to the cost of each operation that current pixel performs in the process compressed input picture.According to embodiment, three independent options can be considered: 1) insert backward reference; 2) pixel is inserted; And 3) insert palette entry.
" backward reference " instruction can copy specified one or more pixels in the position of current pixel, to compress image.Such as, if current pixel is all beginnings of the string of three pixels of color C, and the first pre-treatment position of 200 pixels before current pixel, there is the string of three color C pixels, then embodiment can insert instruction to the backward reference quoted before 200 pixels of coupling current pixel, and the length of the string of these 3 pixels starts at quoted pixel place.Backward reference is specified by Distance geometry length value.Distance refers to the distance from current pixel to quoted pixel, and length refers to the pixel count of the current pixel that can be copied to from the pixel quoted.
Insertion pixel refers to be inserted current pixel in compressed image.In some cases, for pixel, this can be the most cost-efficient operation.
Insertion palette entry refers to and is inserted in compressed image by index.In certain embodiments, insert palette entry can also comprise corresponding color entry insertion palette.Emerging color palette is dynamically built when the compression based on pixel advances through image.In each pixel position, consider cost color value being inserted emerging palette and corresponding palette index is inserted compressed image.Can the size of pre-configured emerging palette.According to embodiment, 32 integers of expression red/green/alpha value are multiplied with predetermined multiplier.Based on this size, be used as the index of the array representing emerging color palette from some of integer as a result.Such as, for the palette of emerging 128 sizes, index value can be used as by 7.For each color value of the pixel stream from uncompressed, index can be determined with in several mode.According to embodiment, the index of color is determined in 7 adjacent continuous positions based on the predefine original position of the byte representation from above-mentioned color.According to another embodiment, modulo operation can be performed to determine the hash index of emerging palette to color value.According to embodiment, an emerging color palette can be used for input picture.In other embodiments, independent emerging palette can be defined for respective regions.Such as, can be that every 32 pixels create new emerging palette along the x-axis of input picture.
In step 504, determine cost backward reference being inserted in current pixel place.As mentioned above, insert backward reference and comprise the Distance geometry length inserted apart from pixel.Length refers to the pixel count that can be replicated from quoted pixel.Cost comprises cost Distance geometry length being inserted in the position corresponding with current pixel in compressed image.The cost of this insertion position can be considered in conjunction with the cost savings that need not copy the pixel count equal with the pixel count that can start to be replicated in the position of current pixel from backward reference.Such as, if backward reference spends 5 bytes to encode, and the length of 3 pixels is instructed to, then, when the pixel of size 1 byte, the cost that backward reference inserts will be 5-3=2 byte.According to another embodiment, the cost of backward reference is only based on insertion cost, if that is, backward reference spends 5 bytes to encode, then inserting cost is 5 bytes.
According to embodiment, select the longest backward reference.According to another embodiment, two or more backward references may with different distance and length characteristic compare, and select the most cost-efficient one.
In step 506, determine cost pixel inserted in input picture.This cost can be considered to the position cost of an insertion pixel.
In step 508, determine the cost inserting emerging palette index.The cost inserting emerging palette entry can be considered to the size of directory entry.
In step 510, determine based on the cost in step 504-508, determine that minimum cost operates, and by minimum cost operation note at current pixel position place.Become originally to be specified to this based on position.
In step 512, determine whether the last pixel reaching input picture.If be no, then that in traversal mode, next pixel repeats step 502-512.
If determine that current pixel is last pixel in step 512, then process proceeds to step 514.In step 514, follow the tracks of back and determine the reverse of water channel principium, with compressed image from the path of last pixel.
In step 514, then make determined path reverse and produce pending squeeze operation, think the water channel principium that image traversal is compressed.It is one or more that this path can be included in pixel position coding backward reference, encoded pixel values and coding palette index value.Terminate in step 514, input picture has completed the compression based on pixel.
Fig. 6 illustrates the method 600 for determining entropy code.According to embodiment, method 600 can use when performing the step 112 of said method 100.Method 600 can occur in sequence not in accordance with shown, and can not require all steps.
In step 602, receive image to be coded by entropy.According to embodiment, the image received have passed through the compression process based on pixel.Before the compression based on pixel, input picture may subjected to spatial prediction and color notation conversion space.But method 600 is applicable to the input picture of other types.
In step 604, determine block from input picture.According to embodiment, determine the block of size 16 × 16.Other block sizes are possible.
In step 606, it is each block determination statistic.Can for redness, green, blueness, Alpha's color component, for distance code, backward reference length code and determine statistic respectively for palette cryptographic Hash.Can with the represented as histograms determination statistic that can count the pixel count of each statistics.
In step 608, carry out cluster block according to the similitude of the statistic of each block.According to embodiment, perform stochastic clustering.Stochastic clustering can, by first each block being thought cluster, then select arbitrarily cluster to perform iteratively.Then, from selected multiple clusters, find the most similar cluster, and selected cluster is combined with the cluster found.This cluster operation can carry out, until cluster number is reduced to determined threshold value cluster number.Definite threshold cluster number can also be carried out based on cost function.Such as, can to the Cost Modeling for each cluster-based storage entropy code, wherein the size of each entropy code depends on the distribution of block to cluster.In an embodiment, such as, cluster number is reduced to about 50 clusters from about 1000 by random algorithm operation.
In step 610, cluster of refining.The operation of this step is by moving to cluster to refine the cluster determined at random, to improve the precision of the coupling between block and cluster thereof by block (or block statistic).The clustering algorithm of such as k mean algorithm can be used in this step.According to another embodiment, to each block carry out analysis for its determine optimum cluster and moved to there, to make the expection figure place minimizing (storage) to be output.After each moves, adjustment is carried out to statistic and moves to compensate this.This operation can be repeated predetermined number of times or until expection figure place to be output constantly reduces, be caused for all pieces cluster of refining.
In step 612, it is each cluster determination entropy code.So, because cluster is organized poly-for the block with similar characteristic together, therefore, the characteristic for each respective cluster determines entropy code as a result clearly.In addition, in each cluster, for green, red, blueness, Alpha and distance component determine independent entropy code.In an embodiment, identical entropy code can be used for green, palette index and length component.Any technology can be used to determine entropy code, such as, but not limited to Huffman code, its specific to each cluster and in each cluster specific to each in color and distance component.
In step 614, determine the entropy code of each block.Particularly, the collection (" entropy code set ") of entropy code comprise for redness, green, blueness, Alpha's color component, for distance code, backward reference length code and the independent entropy code for palette cryptographic Hash.This can by identifying that the cluster belonging to specific piece is determined.
In step 616, entropy code set is stored in entropy code Sub-reso image, and in entropy code Sub-reso image, specifies the entropy code being applied to each pixel.Entropy code Sub-reso image is such as that each 16 × 16 pieces in input picture store a pixel.Each pixel in entropy code Sub-reso image specifies the entropy code set of the corresponding blocks in input picture to be applied to.Such as, can upgrade the green component of the pixel in Sub-reso image with to the quoting of position of the corresponding entropy code set in stored entropy code set.Entropy code set can comprise five independent entropy codes: the entropy code of green/pixel index/backward reference length; And the entropy code of red, blue, Alpha and distance component.Each in these entropy codes can use Huffman encoding and run-length encoding to write respectively.
What use when can be used in the input picture storing other Sub-reso images and compressed entropy code constructedly stores entropy code Sub-reso image.The storage to image is described below about Fig. 7.
Fig. 7 illustrates for compression and the method 700 of entropy code form memory image.According to embodiment, method 700 can be used for storing input picture and the Sub-reso image (such as, entropy Sub-reso image, color correlation Sub-reso image and spatial predictors Sub-reso image) of compressed entropy code.Method 700 can occur in sequence not in accordance with shown, and can not require all steps.
In step 702, input picture stands the compression based on pixel.The exemplary compression based on pixel, although in similar to LZ77, be applied to pixel instead of byte.Fig. 5 illustrates the exemplary compression method based on pixel.Output based on the compression of pixel is the pixel stream with pixel, backward reference and palette index value.
In step 704, the output from the compression based on pixel stands two-dimensional locality conversion.Two-dimensional locality conversion converts the distance in pixel distance to code based on two-dimentional proximity.Example two dimensional conversion is described about the step 110 of said method 100 above.
In step 706, input picture is divided into (such as, 16 × 16 pixels) block and is each block determination statistic.Redness, green, blueness, Alpha and distance component collect statistics can be respectively.Can also be (backward reference) length and pixel index value collect statistics.According to embodiment, can by combined for the statistic of green/length/pixel index value.Describe as block determination statistic about the step 604-606 of method 600 above.
In step 708, the similitude according to statistic carries out cluster to block, and in step 710, to refine the coupling improved between block and respective cluster to cluster.In step 712, it is cluster determination entropy code.Cluster to block, refining and be each cluster determination entropy code cluster is described respectively about the step 608,610 and 612 of method 600.
In step 714, store entropy Sub-reso image.Can use and the identical memory technology defined in method 700 storage of entropy Sub-reso image.Therefore, method 700 defines the recurrence storage of image.The storage to entropy code Sub-reso image is described about the step 616 of method 600 above.
In step 716, entropy code is carried out to input picture.The entropy code to input picture is described about the step 114 of method 100 above.
Fig. 8 illustrates the encoder 800 according to embodiment.Encoder 800 comprises pretreatment module 802, spatial predictors 804, color notation conversion space device 806, pixel compressor reducer 808, two-dimensional locality conversion module 810, entropy code generation module 814, image storage module 812 and compressed image file output module 816.
Pretreatment module 802 is configured to carry out preliminary treatment to image, is compressed better to enable them.Pretreatment module 802 can such as operate at image by the entropy reduced before compressing in image.Pretreatment module 802 comprises Alpha and replaces mapper 822, color discretizer 824 and palette selector 826.
Alpha replaces mapper 822 and is configured to remove or replace selected alpha value.According to embodiment, Alpha's replacement module can to accomplish method 200 step 202.
Color discretizer 824 is configured to by eliminating for the dynamic range of fallout predictor adjusted value or reducing the predicted value not in original image, and reduces entropy as a result.According to embodiment, color discretizer 824 can to accomplish method 200 step 204.
Palette selector 826 be configured to by be encapsulated in data structure closer to multiple colors reduce the entropy of Joint Distribution between adjacent pixels when image only has the color being less than predefined quantity.According to embodiment, palette selector 826 can to accomplish method 200 step 206.
Spatial predictors 804 is configured to implementation space prediction.Such as describe spatial prediction about the step 104 of method 100 and method 300.
Color notation conversion space device 806 is configured to realize color notation conversion space.Such as describe color notation conversion space above about the step 106 of method 100 and method 400.Above-described embodiment is described with reference to RGB color model.Also other color model can be used, such as, but not limited to YUV color model.
Pixel compressor reducer 808 is configured to perform the compression based on pixel to input picture.According to embodiment, pixel compressor reducer 808 is configured to realize the compression based on pixel, as described in the step 702 about method 700.Pixel compressor reducer 808 comprises backward reference insert module 832, greedy compressor module 834, minimum cost compressor module 836 and palette insert module 838.
Backward reference module 832 operation determines that the pixel whether current pixel can previously occur by reference is compressed, and if like this, inserts the pixel distance apart from the pixel be just cited and length.The insertion to backward reference is described about the step 504 of Fig. 5 above.
It is each pixel determination index value that palette insert module 838 operates, and dynamically builds emerging color palette when it processes respective pixel simultaneously.After determine to quote the index of palette entry for respective pixel, if the cost compare of the cost inserted for cost and the pixel of backward reference is favourable, then this index can be inserted compressed image by palette insert module 838.
When during compression process, when palette insert module 838 is called to process each pixel, carry out the generation to emerging palette.Each pixel can comprise color value (such as, RGB or RGBA).Color value can represent the error of corresponding spatial prediction and/or colour switching prediction.Hash index is generated from the value of current pixel.According to embodiment, select from the position, predetermined position of pixel the position pre-determining quantity.Selected position is used as hash index.Then, based on hash index, pixel (such as, color value) is inserted in table.For the additive method of each color determination Hash position is possible, and expection is in the scope of the present disclosure.
Minimum cost compressor reducer 836 is configured to the compression of input picture determination minimum cost.Minimum cost compressor reducer 836, at each pixel place of input picture, is selected: a) insert backward reference between following one or more option; B) current pixel is inserted; And c) insert index to palette entry.This selection is based on cost analysis.Fig. 5 describes the method 500 that can be realized compressing by minimum cost compressor reducer 836 input picture.
Greedy compressor module 834 operates by the longest backward reference, copying and inserting and carry out selection between palette index and compress input picture pixel.Step 504 above respectively about method 500,506 and 508 describes inserts backward reference, copying and the operation of insertion to palette entry pixel.Greedy compressor module 834 can be operating as compress technique faster, comes to use when speed is more important than compression level.Therefore, such as, when considering backward reference, greedy compressor module 834 can only consider the string backward with the longest matching sequence, for the cost compare inserted for pixel insertion and palette index.
Two-dimensional transform module 810 is configured to the appearance using shorter code replacement pixel distance based on two-dimensional distance.According to embodiment, about the process described in the step 110 of method 100 above two-dimensional transform module 810 can be implemented in.
Entropy code generation module 814 is configured to the respective regions formation entropy code with similar statistics amount of input picture.According to embodiment, block cluster device module 842 determines the block of predefined size for input picture, and then, the similitude according to statistic carries out cluster to block.Entropy code generation module 814 can generate independent entropy code for each cluster, and is the characteristic optimizing code of this cluster.It can be each cluster formation entropy code set.Entropy code generation module 814 is further configured to formation entropy Sub-reso image to be come for each block of input picture stores entropy code.About the process described in the step 604-610 of method 600 and/or the step 706-710 of method 700 above block cluster device module 842 can be implemented in.About the process described in the step 712-716 of the step 612-616 of method 600 and/or method 700 above entropy code generation module 814 can be implemented in.
Each in the input picture that image storage module 812 is configured to store compressed entropy code and the Sub-reso image that generates based on input picture.According to embodiment, about the process described in method 700 above image storage module 812 can be implemented in.As mentioned above, method 700 makes definition by recursion carry out memory image.Such as, step 714 requires to use same procedure 700 to store entropy code Sub-reso image.
Compressed image file output module 816 is configured to such as after the process based on method 100, exports the input picture of completely compressed entropy code in file or to be transferred to another entity for decoding.The input picture of compressed entropy code and Sub-reso image etc. are comprised as the input picture of completely compressed entropy code exported.The exemplary file of the input picture storing compressed entropy code is illustrated below in Figure 10.
Fig. 9 illustrates the data entity when image compression according to embodiment.Input picture 900 is imported into encoder 800 with by the unpressed image compressed.The image 904 of compressed entropy code compresses completely and the input picture of entropy code.Input picture intermediate form 902(is also referred to as " intermediate image ") refer to several interstages of that input picture stands, between unpressed input picture and the image of compressed entropy code picture format.Example comprise from pretreatment module 802 and the output from its submodule any, the output from spatial predictors 804, from the output of color notation conversion space device 806, from pixel compressor reducer 808 and the output of its submodule any and the output from two-dimensional locality conversion module 810.
Spatial predictors Sub-reso image 906, color correlation Sub-reso image 908 and entropy Sub-reso image 910 each comprise pixel for each block (such as, 16 × 16 pixel regions) in input picture.Spatial predictors Sub-reso image 906 is stored as the spatial predictors selected by each block of input picture.Color correlation Sub-reso image 908 is that each block in input picture stores color correlation factor.Entropy Sub-reso image 910 is that each block of input picture stores quoting entropy code set.
According to embodiment, emerging palette 920 is Hash tables, and wherein each entry comprises hash index 922 and palette value 924.Palette value 924 comprises color.Hash index 922 corresponds to the index using the position from respective color value to calculate.
Two-dimensional color table 930 is configured with the short code for selected pixel distance.Short code table shows the two-dimensional distance between location of pixels in the picture.Each entry in 2 d code table 930 can comprise the generic pixel distance entry 932 of the pixel distance represented between two pixels and represent the short 2 d code 936 of this distance.
Spatial predictors code table 940 is configured with the code representing multiple spatial predictors.As mentioned above, spatial predictors can based on the combination of single pixel or two or more pixels.
Figure 10 illustrates the block diagram of the content of the file format 1000 of the image 904 that can store compressed entropy code.Picture format 1000 can be used for the input picture 904 of compressed entropy code to be stored in permanent memory.In addition, picture format 1000 can be used as the input picture 904 of compressed entropy code is transferred to another entity so that the form be extracted.One skilled in the art will appreciate that and can comprise other elements in file format 1000.
The size of image size 1002 presentation video file.Size can be specified with byte.Block size 1006 represents the block size (such as, 16 × 16 pixels) used in compression process.Palette Hash information 1004 represents the information about color palette, includes but not limited to: hash index size and palette entry.The entropy Sub-reso image 1012 stored, the color correlation Sub-reso image 1014 stored and the spatial predictors Sub-reso image 1016 stored are stored corresponding Sub-reso images.The entropy Sub-reso image stored can comprise quoting entropy code set 1008.Such as, this is quoted can be the integer identifying entropy code set from entropy code set 1008.As mentioned above, can use and be used for compressing and the identical process storing input picture stores each Sub-reso image in a recursive manner.The input picture 1022 of the compressed entropy code stored is the bit stream of the input picture of compressed entropy code.
When have received, using method 100 is by the image of encoding, and such as, during the input picture 1022 of such as stored compressed entropy code, corresponding decoder can perform the reversion of the part in step 116-102 to obtain input picture that is uncompressed and decoding.Figure 11 illustrates the method 1100 of the execution decode procedure according to embodiment.
In step 1102, the input picture obtaining compressed entropy code, compressed Sub-reso image and decompress(ion) are processed to recover other information needed for input picture to the image file of compressed entropy code.Compressed Sub-reso image comprises the compressed version of entropy code Sub-reso image, spatial predictors Sub-reso image and color correlation Sub-reso image.Describe the content of the image file of compressed entropy code about Figure 10 above.As mentioned above, each compressed Sub-reso image may be stored by the same procedure 100 being recursively used for compressing input picture.Therefore, corresponding unpressed Sub-reso image can be obtained to the Sub-reso image manner of execution 1100 of each compressed entropy code respectively.For ease of describing, below with reference to the step decoding of input picture being described to method 1100.
In step 1104, perform the decoding of the input picture to entropy code.The entropy code used when encoding to input picture is determined based on the respective pixel in entropy code Sub-reso image.As mentioned above, each pixel of entropy code Sub-reso image corresponds to the block in input picture, and specifies the entropy code set being used for this block.Entropy code Sub-reso image can comprise quoting corresponding entropy code set for each block.Entropy code set can be used for decoder respectively, decompose image in or pass through individual transmission.By decoding to entropy code, obtain compressed input picture from the input picture of entropy code.
In step 1106, two-dimensional locality is made to convert reversion.Such as, each position comprising two-dimensional locality transform code in compressed input picture, by the actual pixels distance replacement values of correspondence.Two-dimensional locality transformed distances code can be used for decoder respectively, in the image decomposed, by individual transmission or by configuration.
In step 1108, decompress(ion) is carried out to compressed input picture.As mentioned above, during compression input picture, perform the compression based on pixel by each location of pixels inserted from the top left pixel of input picture to bottom right pixel of in backward reference, pixel or palette being quoted.During decompress(ion), from top left pixel to bottom right pixel, travel through compressed input picture, insert from the data of backward reference, pixel value or the value from color palette.As above about input picture initial compression as described in, when decompression procedure advances through the pixel of compressed input picture, build emerging palette.When traveling through compressed location of pixels, dynamically build emerging palette by the Hash table of Fill Color value.When running into the position of having inserted palette index in compressed input picture, be used for from the corresponding color value of the emerging palette of dynamic construction to replace it.Output from pixel depressurization steps 1108 is the input picture through decompress(ion), and it still comprises the coding to other pre-treatment step performed by color notation conversion space, spatial prediction and encoder.
In step 1110, the color notation conversion space in input picture is decoded.The predicated error that the color notation conversion space of coding is red and blue based on corresponding correlation factor as mentioned above substituted for color value.Correlation factor is available in color correlation Sub-reso image.Use the correlation factor be stored in color correlation Sub-reso image, decode procedure makes color value recover to get back to it is not having the value in color correlation situation.
In step 1112, the spatial prediction performed during being reversed in coding.To be used in spatial prediction Sub-reso image can spatial predictors to the spatial prediction that reverses.For each pixel, replace predicted value or more accurately, prediction error value with actual corresponding pixel value.
In step 1114, the one or more pre-treatment step of reversion performed by encoder.Pre-treatment step performed during encoding can comprise that such as Alpha replaces, color discretization and palette select in one or more.Each in these pre-treatment step is described about coding method 100 above.
When Method Of Accomplishment 1100, obtain the decoded version of original input picture.
Figure 12 illustrates the decoder 1200 according to embodiment.Decoder 1200 comprises input picture decoder 1201 and image file decomposer 1202.Input picture decoder 1201 comprises entropy decoder 1204, two-dimensional transform decoder 1206, pixel decompression machine 1208, palette maker 1210, color notation conversion space decoder 1212, spatial prediction decoder 1214 and preliminary treatment decoder 1216.According to embodiment, decoder 1200 manner of execution 1200 is decoded to the image previously using the process of such as method 100 to encode.
The image file that image file decomposer 1202 operates the compressed coding created by the cataloged procedure of such as method 100 when as input, and extracts the input picture of encoded compression, Sub-reso image and assists the components to other storages that input picture is decoded.Figure 10 illustrates the example format of the image file of the compressed coding being imported into image file decomposer 1202.Input picture decoder 1201 operation is decoded to the input picture of encoded compression, as described below.According to embodiment, input picture decoder 1201 is also used to decode to each in Sub-reso image.
Entropy decoder 1204 operates the entropy code performed compressed input picture by cataloged procedure that reverses.Entropy decode procedure use (decoding from the image file of compressed coding) entropy Sub-reso image carrys out each the block selective entropy code for input picture.
Two-dimensional transform decoder 1206 operation actual pixels distance replacement encoder is inserted in the two-dimensional transform code in compressed input picture.
Pixel decompression machine 1208 operates the initial compression of reversing performed by encoder.According to embodiment, image decompression device using the image of the compression of the entropy decoding after being replaced at two-dimensional distance code when as inputting.During decompress(ion), from top left pixel to bottom right pixel, travel through compressed input picture, insert from the data of backward reference, pixel value or the value from color palette.
Palette maker 1210 operates dynamic creation color palette (being called as above " emerging palette ") during to input picture decompress(ion).As described in the step 1108 about method 1100, when traveling through compressed location of pixels, dynamically build emerging palette by the Hash table of Fill Color value.
Color notation conversion space decoder 1212 operates and is taken as the input picture of decompress(ion) into input, and the color notation conversion space coding that the encoder that reverses inserts.When decoding to color notation conversion space, use the color correlator be stored in based on every block in color space Sub-reso image.Color space decoding is described about the step 1110 of method 1100 above.
Spatial prediction decoder 1214 operates decodes to spatial prediction coded during cataloged procedure.The spatial predictors of each block is available in spatial predictors Sub-reso image.
Preliminary treatment decoder 1216 operates any pre-treatment step that may perform during cataloged procedure of reversing, and such as Alpha's replacement, color discretization and palette are selected.The output of preliminary treatment decoder 1216 is input pictures of complete decoding.
Figure 13 illustrates the computer system 1300 of the embodiment that wherein can realize coding/decoding method, encoder 800 and/or decoder 1200 illustrated in coding method illustrated in such as Fig. 1-7, Figure 11.System 1300 comprises processor 1302, and it can comprise for performing instruction and for the treatment of information, comprising any computer or the electronic processors of Pixel Information.Processor 1302 can comprise can process any equipment of any command sequence or the part of this any equipment.Processor 1302 can comprise such as computer processor, processor in a mobile device or other electronics and/or digital processing unit.Processor 1302 can such as be included in computer, mobile computing device, smart mobile phone, Set Top Box, amusement platform, server, camera or other image-capturing apparatus, server zone, cloud computer etc.
Processor 1302 can be connected to memory 1304 by bus 1308.Memory 1304 can comprise the volatile memory, permanent, virtual or in addition using for system 1300 for storage information or exported by system 1300.Memory 1304 can comprise such as random-access memory (ram) and/or dynamic ram (DRAM).Memory 1304 can be used for storing any information, such as the state information of system 1300.Memory 1304 such as can also be used to the instruction of storage system 1300, comprises the instruction of image processing module 112.System 1300 can comprise one or more processor 1302 as required or optionally.
Bus 1308 can comprise the mutual communication infrastructure allowed between the various assemblies of system 1300.Bus 1308 can such as between the assembly of system 1300, such as between processor 1302 and memory 1304, and carry data.Bus 1308 can be included in the wireless and/or wired communication media between the assembly of system 1300, and can comprise parallel, serial or other topologys arrange.
Permanent storage 1306 can comprise assembly, as system 1300 be used in a certain long-time section (such as, compared with memory 1304) store memory or other permanent storage of data.Permanent storage 1306 can comprise as the processor 1302 in system 1300 the non-volatile main memory that uses.Permanent storage 1306 can comprise such as flash memory, hard disk, CD or other computer-readable mediums.
Input/output interface 1310 can be included in keyboard, mouse, voice command input, display or other input or output the interface of equipment.Can configuration order be received by input-output apparatus interface 1310 and/or treat by the image compressed.
Network interface 1312 can be included in one or more interfaces of the network of such as local area network (LAN) or internet.Network interface 1312 can comprise the interface for wired or wireless connection.Can configuration order be received by network interface 1312 and/or treat by the image compressed.
The present invention is described by means of the functional configuration block of the realization that appointed function and relation thereof are described above.For convenience of description, the border of these functional configuration blocks is at random defined in this article.Alternative border can be limited, as long as specified function and relation thereof are duly executed.
Describe before specific embodiment and so disclose general aspects of the present invention fully, make other people can when not deviating from universal of the present invention, be that such specific embodiment is easily revised and/or adjusted in various application by the knowledge be applied in the art, and need not undo experimentation be carried out.Therefore, based on the instruction provided in this article and guidance, such adjustment and amendment are intended in the implication and scope of the equivalent of the disclosed embodiments.Should be understood that, word in this article or term be unrestriced object for description, and therefore the term of this specification or word should be explained according to described instruction and instructing by technical staff.
Width of the present invention and scope should not limit by any above-mentioned exemplary embodiment, but should only limit according to claims and equivalent thereof.
Claims (27)
1. the method for compressing input picture, comprising:
Multiple entropy code set is determined based on the statistics similar area in described input picture;
Generate Sub-reso image, each pixel in wherein said Sub-reso image stores from an entropy code set in described multiple entropy code set, and this entropy code set is encoded to the respective pixel in described input picture;
Use the Sub-reso image generated to control to comprise the compression parameters of entropy code, and described input picture is encoded; And
Export encoded input picture and the image file of the Sub-reso image generated as the entropy code of compression.
2. the method for compressing input picture, comprising:
Corresponding Sub-reso image is generated for each multiple compression parameters from described input picture, each pixel in each Sub-reso image in wherein said corresponding Sub-reso image is encoded to from a compression parameters in described multiple compression parameters, and this compression parameters is encoded to the set of pixels in described input picture; Use described corresponding Sub-reso image to control each in described multiple compression parameters, and described input picture is encoded; And
Export encoded input picture and the image file of the Sub-reso image generated as the entropy code of compression.
3. method according to claim 2, wherein generates corresponding Sub-reso image and comprises:
Multiple entropy code set is determined based on the statistics similar area in described input picture; And
Generate first time image in different resolution, each pixel in wherein said first time image in different resolution stores from an entropy code set in described multiple entropy code set, and this entropy code set is encoded to the respective pixel in described input picture.
4. method according to claim 3, wherein determine that described multiple entropy code set comprises:
Described input picture is divided into multiple pieces;
For from each block determination entropy statistic of described multiple pieces;
Similitude according to determined entropy statistic carries out cluster to form multiple pieces of clusters to described multiple pieces; And
For each in described multiple pieces of clusters determines entropy code.
5. method according to claim 4, the number of wherein formed block cluster minimizes based on the size of the position making described first time image in different resolution to be determined.
6. method according to claim 2, wherein generates corresponding Sub-reso image and comprises:
Each block for described input picture determines the spatial predictors being configured to the entropy reducing prediction; And
For each block described generates the second time image in different resolution comprising described spatial predictors.
7. method according to claim 6, wherein coding is carried out to described input picture and comprise:
Each block being described input picture from described second time image in different resolution determines described spatial predictors.
8. method according to claim 6, wherein determines described spatial predictors further based on minimizing the coding cost of described piece, the predicated error of described multiple pieces and the deflection towards the spatial predictors selected for neighbor.
9. method according to claim 2, wherein generates corresponding Sub-reso image and comprises:
For each block of described input picture, determine the color correlation factor that correlation between two or more color components in the pixel of described piece is corresponding; And
For each block described generates the third time image in different resolution comprising described color correlation factor.
10. method according to claim 9, wherein for described piece determine described color correlation factor further based on:
Correlation between any two of green component, red component and blue component; And
Redness in reducing described piece and the entropy in blue channel.
11. methods according to claim 9, wherein coding is carried out to described input picture and comprise:
At least part of use determines predicated error from the described color correlation factor of described third time image in different resolution access.
12. methods according to claim 2, wherein coding is carried out to described input picture and comprise:
Independent entropy code is used to encode to red, blue, green and alpha channel.
13. methods according to claim 2, wherein coding is carried out to described input picture and comprise:
For each group of one or more pieces of described input picture determines color palette partly.
14. methods according to claim 13, wherein said color palette uses salted hash Salted dynamically to determine.
15. methods according to claim 2, wherein export encoded input picture and the Sub-reso image that generates and comprise use first coding techniques to the Sub-reso image storing encoded input picture He generate as the image file of the entropy code of compression.
16. methods according to claim 2, wherein said coding comprises:
For each pixel in described input picture, based on corresponding cost, select to generate intermediate image from following operation: backward reference is inserted into the pixel more early occurred, the index inserting described pixel or insert from color palette entry; And
Determine the water channel principium from the first pixel of described intermediate image to the operation of last pixel.
17. methods according to claim 16, wherein said backward reference is specified with pixel.
18. methods according to claim 16, wherein said backward reference uses to specify for the predetermined distance code of the distance in two dimensional surface.
19. methods according to claim 16, each in wherein said corresponding cost comprises the output figure place for respective operations.
20. methods according to claim 2, comprise further:
With skew, the alpha value with the pixel of translucent redness, green and blue valve in described input picture is adjusted.
21. methods according to claim 20, wherein adjust alpha value and comprise:
The dynamic range of the color in described input picture is encapsulated, to reduce the new symbol in predicated error as a result.
22. 1 kinds of encoders, comprising:
Processor;
Be couple to the memory of described processor;
Entropy code generation module, described entropy code generation module is configured to, when being performed by described processor, impel described processor:
Multiple entropy code set is determined based on the statistics similar area in input picture; And
Generate Sub-reso image, each pixel in wherein said Sub-reso image stores from an entropy code set in described multiple entropy code set, and this entropy code set is encoded to the respective pixel in described input picture;
Image storage module, described image storage module is configured to, when being performed by described processor, impel described processor:
Use the Sub-reso image generated to control compression parameters, and described input picture is encoded; And
Compressed image file output module, described compressed image file output module is configured to, when being performed by described processor, impel described processor:
Export encoded input picture and the image file of the Sub-reso image generated as the entropy code of compression.
23. encoders according to claim 22, wherein said entropy code generation module is further configured to when being performed by described processor, impels described processor:
Described input picture is divided into multiple pieces;
For from each block determination entropy statistic of described multiple pieces;
Similitude according to determined entropy statistic carries out cluster to form multiple pieces of clusters to described multiple pieces; And
For each in described multiple pieces of clusters determines entropy code.
24. encoders according to claim 22, wherein said compressed image file output module is further configured to when being performed by described processor, impels described processor to use the first coding techniques to the encoded version of Sub-reso image storing encoded input picture and generate.
25. 1 kinds, for the system compressed input picture, comprising:
For determining the device of multiple entropy code set based on the statistics similar area in described input picture;
For generating the device of Sub-reso image, each pixel in wherein said Sub-reso image stores from an entropy code set in described multiple entropy code set, and this entropy code set is encoded to the respective pixel in described input picture;
For the compression parameters using generated Sub-reso image to control to comprise entropy code, and to the device that described input picture is encoded; And
For exporting encoded input picture and the device of the Sub-reso image generated as the image file of the entropy code of compression.
26. 1 kinds, for carrying out the method for decompress(ion) to the input picture of coding, comprising:
The image file of the entropy code of compression is decomposed and visits encoded input picture and the corresponding Sub-reso image about each in multiple compression parameters, each pixel in each Sub-reso image in wherein said corresponding Sub-reso image is encoded to from a compression parameters in described multiple compression parameters, and this compression parameters is encoded to the set of pixels in original image;
Use described corresponding Sub-reso image to control each in described multiple compression parameters, encoded input picture is decoded; And
Export the input picture through decoding.
27. 1 kinds of decoders, comprising:
Processor;
Be couple to the memory of described processor;
Image file decomposer, described image file decomposer is configured to, when being performed by described processor, impel described processor:
The input picture that visits encoded compression and the corresponding Sub-reso image about each in multiple compression parameters are decomposed to the image file of entropy code of compression, each pixel in each Sub-reso image in wherein said corresponding Sub-reso image is encoded to from a compression parameters in described multiple compression parameters, and this compression parameters is encoded to the set of pixels in original image; And
Input picture decoder, described input picture decoder is configured to, when being performed by described processor, impel described processor:
Use described corresponding Sub-reso image to control each in described multiple compression parameters, and encoded input picture is decoded.
Applications Claiming Priority (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US13/288,445 | 2011-11-03 | ||
US13/288,445 US8615138B2 (en) | 2011-11-03 | 2011-11-03 | Image compression using sub-resolution images |
PCT/US2012/063290 WO2013067327A2 (en) | 2011-11-03 | 2012-11-02 | Image compression using sub-resolution images |
Publications (2)
Publication Number | Publication Date |
---|---|
CN103703779A CN103703779A (en) | 2014-04-02 |
CN103703779B true CN103703779B (en) | 2016-01-20 |
Family
ID=47295153
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN201280036377.1A Active CN103703779B (en) | 2011-11-03 | 2012-11-02 | Use the image compression of Sub-reso image |
Country Status (9)
Country | Link |
---|---|
US (2) | US8615138B2 (en) |
EP (1) | EP2761873A2 (en) |
JP (1) | JP2014525183A (en) |
KR (1) | KR101461209B1 (en) |
CN (1) | CN103703779B (en) |
AU (1) | AU2012332327B2 (en) |
CA (1) | CA2831967C (en) |
DE (1) | DE202012013410U1 (en) |
WO (1) | WO2013067327A2 (en) |
Families Citing this family (35)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US8615138B2 (en) | 2011-11-03 | 2013-12-24 | Google Inc. | Image compression using sub-resolution images |
WO2014000154A1 (en) * | 2012-06-26 | 2014-01-03 | Intel Corporation | Cross-layer cross-channel sample prediction |
US11259020B2 (en) | 2013-04-05 | 2022-02-22 | Qualcomm Incorporated | Determining palettes in palette-based video coding |
US10291827B2 (en) * | 2013-11-22 | 2019-05-14 | Futurewei Technologies, Inc. | Advanced screen content coding solution |
WO2015136693A1 (en) * | 2014-03-14 | 2015-09-17 | 富士通株式会社 | Image encoding apparatus, image decoding apparatus, image encoding method, and image decoding method |
CN105637861B (en) * | 2014-03-17 | 2018-11-20 | 富士通株式会社 | Code device, method and image processing equipment based on palette |
EP3120548B1 (en) * | 2014-03-17 | 2019-12-11 | Nokia Technologies Oy | Decoding of video using a long-term palette |
WO2015143351A1 (en) | 2014-03-21 | 2015-09-24 | Futurewei Technologies, Inc. | Advanced screen content coding with improved color table and index map coding methods |
US10091512B2 (en) | 2014-05-23 | 2018-10-02 | Futurewei Technologies, Inc. | Advanced screen content coding with improved palette table and index map coding methods |
CN106716999B (en) * | 2014-06-20 | 2019-08-09 | 寰发股份有限公司 | The method of palette fallout predictor signaling for Video coding |
US10687064B2 (en) | 2014-08-04 | 2020-06-16 | Qualcomm Incorporated | Palette mode encoding and decoding with inferred pixel scan order |
KR102216656B1 (en) | 2014-09-02 | 2021-02-17 | 삼성전자주식회사 | Method for processing image and electronic device thereof |
US10158866B2 (en) * | 2014-09-26 | 2018-12-18 | Qualcomm Incorporated | Parsing dependency reduction for palette index coding |
GB2531005A (en) | 2014-10-06 | 2016-04-13 | Canon Kk | Improved encoding process using a palette mode |
CN107005717B (en) * | 2014-11-12 | 2020-04-07 | 寰发股份有限公司 | Skip pixel coding and decoding method in index mapping coding and decoding |
AU2015345649A1 (en) | 2014-11-12 | 2017-06-08 | Hfi Innovation Inc. | Methods of escape pixel coding in index map coding |
JP6122516B2 (en) | 2015-01-28 | 2017-04-26 | 財團法人工業技術研究院Ｉｎｄｕｓｔｒｉａｌ Ｔｅｃｈｎｏｌｏｇｙ Ｒｅｓｅａｒｃｈ Ｉｎｓｔｉｔｕｔｅ | Encoding method and encoder |
SG11201706531UA (en) * | 2015-02-16 | 2017-09-28 | Hfi Innovation Inc | Method and apparatus for palette predictor initialization for palette coding in video and image compression |
CN107409227B (en) * | 2015-03-20 | 2020-01-21 | 联发科技（新加坡）私人有限公司 | Video coding and decoding method and device |
US9460365B1 (en) * | 2015-03-24 | 2016-10-04 | Intel Corporation | Clustered palette compression |
SG11201708026TA (en) * | 2015-04-08 | 2017-10-30 | Hfi Innovation Inc | Methods of palette mode coding in video coding |
US9544608B1 (en) | 2015-07-03 | 2017-01-10 | Microsoft Technology Licensing, Llc | Lossless image compression for few-colored images |
US10356432B2 (en) * | 2015-09-14 | 2019-07-16 | Qualcomm Incorporated | Palette predictor initialization and merge for video coding |
CN105578191B (en) * | 2015-12-15 | 2018-12-07 | 辽宁师范大学 | Index map primary colours selection method based on histogram sliding window |
US11892311B2 (en) | 2016-11-26 | 2024-02-06 | Thinkware Corporation | Image processing apparatus, image processing method, computer program and computer readable recording medium |
CN108121764B (en) * | 2016-11-26 | 2022-03-11 | 星克跃尔株式会社 | Image processing device, image processing method, computer program, and computer-readable recording medium |
EP3565259A1 (en) * | 2016-12-28 | 2019-11-06 | Panasonic Intellectual Property Corporation of America | Three-dimensional model distribution method, three-dimensional model receiving method, three-dimensional model distribution device, and three-dimensional model receiving device |
US10872180B2 (en) | 2017-01-20 | 2020-12-22 | Hamilton Sunstrand Corporation | Complex feature cloning in additive manufacturing datasets |
US10313715B2 (en) * | 2017-04-27 | 2019-06-04 | Nanning Fugui Precision Industrial Co., Ltd. | Transmission method for video data and device employing same |
CN110915215B (en) * | 2017-05-26 | 2024-03-08 | 谷歌有限责任公司 | Tiled image compression using neural networks |
US10362319B2 (en) * | 2017-06-04 | 2019-07-23 | Apple Inc. | Techniques for compressing multiple-channel images |
US10362325B2 (en) * | 2017-06-04 | 2019-07-23 | Apple Inc. | Techniques for compressing multiple-channel images |
CN107801026B (en) * | 2017-11-09 | 2019-12-03 | 京东方科技集团股份有限公司 | Method for compressing image and device, compression of images and decompression systems |
US10776957B2 (en) | 2018-10-02 | 2020-09-15 | Samsung Electronics Co., Ltd. | Online image compression in hardware |
US11025913B2 (en) * | 2019-03-01 | 2021-06-01 | Intel Corporation | Encoding video using palette prediction and intra-block copy |
Citations (4)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
WO2000033583A1 (en) * | 1998-11-30 | 2000-06-08 | Microsoft Corporation | Efficient macroblock header coding for video compression |
CN101427584A (en) * | 2006-03-27 | 2009-05-06 | 高通股份有限公司 | Methods and systems for significance coefficient coding in video compression |
CN101491098A (en) * | 2006-07-12 | 2009-07-22 | 高通股份有限公司 | Video compression using adaptive variable length codes |
CN101904171A (en) * | 2007-12-21 | 2010-12-01 | 皇家飞利浦电子股份有限公司 | Methods and apparatus for efficient distribution of image data |
Family Cites Families (24)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
JPH0759086A (en) * | 1993-07-30 | 1995-03-03 | Canon Inc | Picture processing unit |
KR960706267A (en) * | 1993-11-15 | 1996-11-08 | 존 엠. 클락 3세 | QUADTREE-STRUCTURED WALSH TRANSFORM CONDING |
US5805735A (en) * | 1995-03-02 | 1998-09-08 | Apple Computer, Inc. | Method and apparatus for compression of digitized image data using variable color fidelity |
JPH09200535A (en) * | 1996-01-18 | 1997-07-31 | Canon Inc | Device and method for processing image |
JPH11161782A (en) * | 1997-11-27 | 1999-06-18 | Seiko Epson Corp | Method and device for encoding color picture, and method and device for decoding color picture |
US6853755B2 (en) * | 2001-03-28 | 2005-02-08 | Sharp Laboratories Of America, Inc. | Method and apparatus for adaptive compression of scanned documents |
US7688894B2 (en) | 2003-09-07 | 2010-03-30 | Microsoft Corporation | Scan patterns for interlaced video content |
EP1538844A3 (en) * | 2003-11-26 | 2006-05-31 | Samsung Electronics Co., Ltd. | Color image residue transformation and encoding method |
JP4418762B2 (en) * | 2004-05-07 | 2010-02-24 | キヤノン株式会社 | Image encoding apparatus, image decoding apparatus, control method thereof, computer program, and computer-readable storage medium |
US7006700B2 (en) * | 2004-06-25 | 2006-02-28 | Avocent Corporation | Digital video compression command priority |
JP2006128944A (en) * | 2004-10-27 | 2006-05-18 | Canon Inc | Information processing device, information processing method, image forming device, program, storage medium, and printing system |
US7450134B2 (en) * | 2004-11-18 | 2008-11-11 | Time Warner Cable Inc. | Methods and apparatus for encoding and decoding images |
JP4493551B2 (en) * | 2005-06-09 | 2010-06-30 | オリンパスイメージング株式会社 | Data encoding apparatus, data decoding apparatus, data encoding method, data decoding method, and program |
KR101088375B1 (en) * | 2005-07-21 | 2011-12-01 | 삼성전자주식회사 | apparatus and method for adaptive variable block-size transform and the appartus and the method for video encoding/decoding thereof. |
KR101200865B1 (en) * | 2006-03-23 | 2012-11-13 | 삼성전자주식회사 | An video encoding/decoding method and apparatus |
CN101496406B (en) * | 2006-03-23 | 2012-02-01 | 三星电子株式会社 | Image encoding/decoding method and apparatus |
JP4771288B2 (en) * | 2006-04-03 | 2011-09-14 | 富士ゼロックス株式会社 | Data processing apparatus and program |
JP4717704B2 (en) | 2006-04-26 | 2011-07-06 | ルネサスエレクトロニクス株式会社 | Data processing apparatus and data processing method |
KR101266168B1 (en) * | 2006-08-16 | 2013-05-21 | 삼성전자주식회사 | Method and apparatus for encoding, decoding video |
US8705623B2 (en) * | 2009-10-02 | 2014-04-22 | Texas Instruments Incorporated | Line-based compression for digital image data |
EP3595316B1 (en) * | 2010-01-08 | 2022-03-30 | Nokia Technologies Oy | Apparatus and method for video coding and decoding |
WO2011095959A1 (en) * | 2010-02-08 | 2011-08-11 | Nokia Corporation | An apparatus, a method and a computer program for video coding |
JP2011205693A (en) * | 2011-06-14 | 2011-10-13 | Sharp Corp | Image decoding apparatus and image encoding apparatus |
US8615138B2 (en) | 2011-11-03 | 2013-12-24 | Google Inc. | Image compression using sub-resolution images |
-
2011
- 2011-11-03 US US13/288,445 patent/US8615138B2/en not_active Expired - Fee Related
-
2012
- 2012-11-02 KR KR1020137032384A patent/KR101461209B1/en active IP Right Grant
- 2012-11-02 CN CN201280036377.1A patent/CN103703779B/en active Active
- 2012-11-02 CA CA2831967A patent/CA2831967C/en active Active
- 2012-11-02 WO PCT/US2012/063290 patent/WO2013067327A2/en active Application Filing
- 2012-11-02 JP JP2014520416A patent/JP2014525183A/en active Pending
- 2012-11-02 EP EP12795920.3A patent/EP2761873A2/en not_active Ceased
- 2012-11-02 DE DE202012013410.8U patent/DE202012013410U1/en not_active Expired - Lifetime
- 2012-11-02 AU AU2012332327A patent/AU2012332327B2/en active Active
-
2013
- 2013-11-15 US US14/081,323 patent/US8977066B2/en active Active
Patent Citations (4)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
WO2000033583A1 (en) * | 1998-11-30 | 2000-06-08 | Microsoft Corporation | Efficient macroblock header coding for video compression |
CN101427584A (en) * | 2006-03-27 | 2009-05-06 | 高通股份有限公司 | Methods and systems for significance coefficient coding in video compression |
CN101491098A (en) * | 2006-07-12 | 2009-07-22 | 高通股份有限公司 | Video compression using adaptive variable length codes |
CN101904171A (en) * | 2007-12-21 | 2010-12-01 | 皇家飞利浦电子股份有限公司 | Methods and apparatus for efficient distribution of image data |
Also Published As
Publication number | Publication date |
---|---|
CA2831967A1 (en) | 2013-05-10 |
AU2012332327A1 (en) | 2013-11-21 |
US20140072239A1 (en) | 2014-03-13 |
US8615138B2 (en) | 2013-12-24 |
JP2014525183A (en) | 2014-09-25 |
DE202012013410U1 (en) | 2016-11-15 |
AU2012332327B2 (en) | 2014-04-10 |
US20130114893A1 (en) | 2013-05-09 |
KR20130143678A (en) | 2013-12-31 |
KR101461209B1 (en) | 2014-11-14 |
CN103703779A (en) | 2014-04-02 |
WO2013067327A2 (en) | 2013-05-10 |
WO2013067327A3 (en) | 2013-07-25 |
EP2761873A2 (en) | 2014-08-06 |
US8977066B2 (en) | 2015-03-10 |
CA2831967C (en) | 2015-06-02 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
CN103703779B (en) | Use the image compression of Sub-reso image | |
KR100903711B1 (en) | Texture encoding apparatus, texture decoding apparatus, method, and computer readable medium recording program | |
JP2022517060A (en) | Point cloud coding structure | |
CN100514992C (en) | Method for processing mobile-terminal frame carboon | |
CN113574567A (en) | Method and device for point cloud compression | |
KR101758954B1 (en) | Decoder and method | |
CN113795870B (en) | Method, device and storage medium for encoding and decoding point cloud attribute | |
KR20160114570A (en) | Method and device for image compression, having enhanced matching of fixed-width, variable-length pixel sample strings | |
KR20200140824A (en) | Method and apparatus for encoding/decoding a point cloud representing a 3D object | |
CN114424247A (en) | Method and device for point cloud coding | |
CN112218077B (en) | Method and device for encoding point cloud attributes between channels and readable storage medium | |
CN112188197A (en) | Method and device for decoding point cloud attributes between channels and readable storage medium | |
KR20200140825A (en) | Method and apparatus for encoding/decoding a point cloud representing a 3D object | |
CN116997935A (en) | Block compression for grid compression | |
CN113615201B (en) | Point cloud compression and decompression method and device | |
US20230298216A1 (en) | Predictive coding of boundary geometry information for mesh compression | |
CN113115019B (en) | Video encoding and decoding method and device, computer equipment and storage medium | |
CN107770543B (en) | Data compression method and device for sequentially increasing cutoff values in multiple types of matching parameters | |
US20230281876A1 (en) | Mesh compression with constrained geometry dynamic range | |
US20230306645A1 (en) | Convolutional Approach to Fast and Compact Packing of 3D Mesh Into 2D Maps | |
WO2023024842A1 (en) | Point cloud encoding/decoding method, apparatus and device, and storage medium | |
KR20230175240A (en) | Systems, methods and bitstream structure for hybrid feature video bitstream and decoder | |
JP2024512915A (en) | Method, apparatus, and computer program for detection of boundary loops in non-manifold meshes | |
de Oliveira Matos | Lossless compression algorithms for microarray images and whole genome alignments | |
JPH09244610A (en) | Pixel processing method for picture segment by computer |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
C06 | Publication | ||
PB01 | Publication | ||
C10 | Entry into substantive examination | ||
SE01 | Entry into force of request for substantive examination | ||
C14 | Grant of patent or utility model | ||
GR01 | Patent grant | ||
CP01 | Change in the name or title of a patent holder | ||
CP01 | Change in the name or title of a patent holder |
Address after: American CaliforniaPatentee after: Google limited liability companyAddress before: American CaliforniaPatentee before: Google Inc. |