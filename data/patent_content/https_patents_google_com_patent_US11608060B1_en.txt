US11608060B1 - Speed planning for autonomous vehicles - Google Patents
Speed planning for autonomous vehicles Download PDFInfo
- Publication number
- US11608060B1 US11608060B1 US16/831,980 US202016831980A US11608060B1 US 11608060 B1 US11608060 B1 US 11608060B1 US 202016831980 A US202016831980 A US 202016831980A US 11608060 B1 US11608060 B1 US 11608060B1
- Authority
- US
- United States
- Prior art keywords
- vehicle
- constraints
- time
- speed
- speed plan
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Active, expires
Links
Images
Classifications
-
- B—PERFORMING OPERATIONS; TRANSPORTING
- B60—VEHICLES IN GENERAL
- B60W—CONJOINT CONTROL OF VEHICLE SUB-UNITS OF DIFFERENT TYPE OR DIFFERENT FUNCTION; CONTROL SYSTEMS SPECIALLY ADAPTED FOR HYBRID VEHICLES; ROAD VEHICLE DRIVE CONTROL SYSTEMS FOR PURPOSES NOT RELATED TO THE CONTROL OF A PARTICULAR SUB-UNIT
- B60W30/00—Purposes of road vehicle drive control systems not related to the control of a particular sub-unit, e.g. of systems using conjoint control of vehicle sub-units, or advanced driver assistance systems for ensuring comfort, stability and safety or drive control systems for propelling or retarding the vehicle
- B60W30/14—Adaptive cruise control
- B60W30/143—Speed control
-
- B—PERFORMING OPERATIONS; TRANSPORTING
- B60—VEHICLES IN GENERAL
- B60W—CONJOINT CONTROL OF VEHICLE SUB-UNITS OF DIFFERENT TYPE OR DIFFERENT FUNCTION; CONTROL SYSTEMS SPECIALLY ADAPTED FOR HYBRID VEHICLES; ROAD VEHICLE DRIVE CONTROL SYSTEMS FOR PURPOSES NOT RELATED TO THE CONTROL OF A PARTICULAR SUB-UNIT
- B60W30/00—Purposes of road vehicle drive control systems not related to the control of a particular sub-unit, e.g. of systems using conjoint control of vehicle sub-units, or advanced driver assistance systems for ensuring comfort, stability and safety or drive control systems for propelling or retarding the vehicle
- B60W30/18—Propelling the vehicle
- B60W30/18009—Propelling the vehicle related to particular drive situations
- B60W30/18145—Cornering
-
- B—PERFORMING OPERATIONS; TRANSPORTING
- B60—VEHICLES IN GENERAL
- B60W—CONJOINT CONTROL OF VEHICLE SUB-UNITS OF DIFFERENT TYPE OR DIFFERENT FUNCTION; CONTROL SYSTEMS SPECIALLY ADAPTED FOR HYBRID VEHICLES; ROAD VEHICLE DRIVE CONTROL SYSTEMS FOR PURPOSES NOT RELATED TO THE CONTROL OF A PARTICULAR SUB-UNIT
- B60W30/00—Purposes of road vehicle drive control systems not related to the control of a particular sub-unit, e.g. of systems using conjoint control of vehicle sub-units, or advanced driver assistance systems for ensuring comfort, stability and safety or drive control systems for propelling or retarding the vehicle
- B60W30/18—Propelling the vehicle
- B60W30/18009—Propelling the vehicle related to particular drive situations
- B60W30/18159—Traversing an intersection
-
- B—PERFORMING OPERATIONS; TRANSPORTING
- B60—VEHICLES IN GENERAL
- B60W—CONJOINT CONTROL OF VEHICLE SUB-UNITS OF DIFFERENT TYPE OR DIFFERENT FUNCTION; CONTROL SYSTEMS SPECIALLY ADAPTED FOR HYBRID VEHICLES; ROAD VEHICLE DRIVE CONTROL SYSTEMS FOR PURPOSES NOT RELATED TO THE CONTROL OF A PARTICULAR SUB-UNIT
- B60W60/00—Drive control systems specially adapted for autonomous road vehicles
- B60W60/001—Planning or execution of driving tasks
- B60W60/0011—Planning or execution of driving tasks involving control alternatives for a single driving scenario, e.g. planning several paths to avoid obstacles
-
- B—PERFORMING OPERATIONS; TRANSPORTING
- B60—VEHICLES IN GENERAL
- B60W—CONJOINT CONTROL OF VEHICLE SUB-UNITS OF DIFFERENT TYPE OR DIFFERENT FUNCTION; CONTROL SYSTEMS SPECIALLY ADAPTED FOR HYBRID VEHICLES; ROAD VEHICLE DRIVE CONTROL SYSTEMS FOR PURPOSES NOT RELATED TO THE CONTROL OF A PARTICULAR SUB-UNIT
- B60W60/00—Drive control systems specially adapted for autonomous road vehicles
- B60W60/001—Planning or execution of driving tasks
- B60W60/0013—Planning or execution of driving tasks specially adapted for occupant comfort
-
- B—PERFORMING OPERATIONS; TRANSPORTING
- B60—VEHICLES IN GENERAL
- B60W—CONJOINT CONTROL OF VEHICLE SUB-UNITS OF DIFFERENT TYPE OR DIFFERENT FUNCTION; CONTROL SYSTEMS SPECIALLY ADAPTED FOR HYBRID VEHICLES; ROAD VEHICLE DRIVE CONTROL SYSTEMS FOR PURPOSES NOT RELATED TO THE CONTROL OF A PARTICULAR SUB-UNIT
- B60W60/00—Drive control systems specially adapted for autonomous road vehicles
- B60W60/001—Planning or execution of driving tasks
- B60W60/0015—Planning or execution of driving tasks specially adapted for safety
-
- B—PERFORMING OPERATIONS; TRANSPORTING
- B60—VEHICLES IN GENERAL
- B60W—CONJOINT CONTROL OF VEHICLE SUB-UNITS OF DIFFERENT TYPE OR DIFFERENT FUNCTION; CONTROL SYSTEMS SPECIALLY ADAPTED FOR HYBRID VEHICLES; ROAD VEHICLE DRIVE CONTROL SYSTEMS FOR PURPOSES NOT RELATED TO THE CONTROL OF A PARTICULAR SUB-UNIT
- B60W60/00—Drive control systems specially adapted for autonomous road vehicles
- B60W60/001—Planning or execution of driving tasks
- B60W60/0027—Planning or execution of driving tasks using trajectory prediction for other traffic participants
-
- B—PERFORMING OPERATIONS; TRANSPORTING
- B60—VEHICLES IN GENERAL
- B60W—CONJOINT CONTROL OF VEHICLE SUB-UNITS OF DIFFERENT TYPE OR DIFFERENT FUNCTION; CONTROL SYSTEMS SPECIALLY ADAPTED FOR HYBRID VEHICLES; ROAD VEHICLE DRIVE CONTROL SYSTEMS FOR PURPOSES NOT RELATED TO THE CONTROL OF A PARTICULAR SUB-UNIT
- B60W2554/00—Input parameters relating to objects
- B60W2554/40—Dynamic objects, e.g. animals, windblown objects
- B60W2554/404—Characteristics
- B60W2554/4041—Position
-
- B—PERFORMING OPERATIONS; TRANSPORTING
- B60—VEHICLES IN GENERAL
- B60W—CONJOINT CONTROL OF VEHICLE SUB-UNITS OF DIFFERENT TYPE OR DIFFERENT FUNCTION; CONTROL SYSTEMS SPECIALLY ADAPTED FOR HYBRID VEHICLES; ROAD VEHICLE DRIVE CONTROL SYSTEMS FOR PURPOSES NOT RELATED TO THE CONTROL OF A PARTICULAR SUB-UNIT
- B60W2554/00—Input parameters relating to objects
- B60W2554/40—Dynamic objects, e.g. animals, windblown objects
- B60W2554/404—Characteristics
- B60W2554/4042—Longitudinal speed
-
- B—PERFORMING OPERATIONS; TRANSPORTING
- B60—VEHICLES IN GENERAL
- B60W—CONJOINT CONTROL OF VEHICLE SUB-UNITS OF DIFFERENT TYPE OR DIFFERENT FUNCTION; CONTROL SYSTEMS SPECIALLY ADAPTED FOR HYBRID VEHICLES; ROAD VEHICLE DRIVE CONTROL SYSTEMS FOR PURPOSES NOT RELATED TO THE CONTROL OF A PARTICULAR SUB-UNIT
- B60W2554/00—Input parameters relating to objects
- B60W2554/40—Dynamic objects, e.g. animals, windblown objects
- B60W2554/404—Characteristics
- B60W2554/4044—Direction of movement, e.g. backwards
-
- B—PERFORMING OPERATIONS; TRANSPORTING
- B60—VEHICLES IN GENERAL
- B60W—CONJOINT CONTROL OF VEHICLE SUB-UNITS OF DIFFERENT TYPE OR DIFFERENT FUNCTION; CONTROL SYSTEMS SPECIALLY ADAPTED FOR HYBRID VEHICLES; ROAD VEHICLE DRIVE CONTROL SYSTEMS FOR PURPOSES NOT RELATED TO THE CONTROL OF A PARTICULAR SUB-UNIT
- B60W2554/00—Input parameters relating to objects
- B60W2554/40—Dynamic objects, e.g. animals, windblown objects
- B60W2554/404—Characteristics
- B60W2554/4045—Intention, e.g. lane change or imminent movement
-
- B—PERFORMING OPERATIONS; TRANSPORTING
- B60—VEHICLES IN GENERAL
- B60W—CONJOINT CONTROL OF VEHICLE SUB-UNITS OF DIFFERENT TYPE OR DIFFERENT FUNCTION; CONTROL SYSTEMS SPECIALLY ADAPTED FOR HYBRID VEHICLES; ROAD VEHICLE DRIVE CONTROL SYSTEMS FOR PURPOSES NOT RELATED TO THE CONTROL OF A PARTICULAR SUB-UNIT
- B60W2555/00—Input parameters relating to exterior conditions, not covered by groups B60W2552/00, B60W2554/00
- B60W2555/60—Traffic rules, e.g. speed limits or right of way
-
- B—PERFORMING OPERATIONS; TRANSPORTING
- B60—VEHICLES IN GENERAL
- B60W—CONJOINT CONTROL OF VEHICLE SUB-UNITS OF DIFFERENT TYPE OR DIFFERENT FUNCTION; CONTROL SYSTEMS SPECIALLY ADAPTED FOR HYBRID VEHICLES; ROAD VEHICLE DRIVE CONTROL SYSTEMS FOR PURPOSES NOT RELATED TO THE CONTROL OF A PARTICULAR SUB-UNIT
- B60W2720/00—Output or target parameters relating to overall vehicle dynamics
- B60W2720/10—Longitudinal speed
Definitions
- Autonomous vehicles such as vehicles that do not require a human driver, can be used to aid in the transport of passengers or items from one location to another. Such vehicles may operate in a fully autonomous mode where passengers may provide some initial input, such as a pickup or destination location, and the vehicle maneuvers itself to that location.
- autonomous vehicles may include lasers, sonar, radar, cameras, and other devices which scan and record data from the vehicle's surroundings. Sensor data from one or more of these devices may be used to detect objects and their respective characteristics (position, shape, heading, speed, etc.). These characteristics can be used to predict what an object is likely to do for some brief period into the future which can be used to control the vehicle in order to avoid these objects. Thus, detection, identification, and prediction are critical functions for the safe operation of autonomous vehicle.
- aspects of the disclosure relate to a method of maneuvering a vehicle in an autonomous driving mode.
- the method includes identifying, by one or more processors, an initial speed plan for controlling speed of the vehicle for a first predetermined period of time corresponding to an amount of time along a route of the vehicle; receiving, by the one or more processors, from a perception system of the vehicle, data identifying an object and characteristics of that object; predicting, by the one or more processors, a trajectory for the object that will intersect with the route at an intersection point at particular point in time using the data; generating, by the one or more processors, a set of constraints based on at least the trajectory; adjusting, by the one or more processors, the initial speed plan in order to satisfy the set of constraints for a second predetermined period of time corresponding to the amount of time; and maneuvering, by the one or more processors, the vehicle in the autonomous driving mode according to the adjusted initial speed plan.
- the initial speed plan corresponds to a previously adjusted initial speed plan such that the initial speed plan is adjusted as an iterative process.
- the initial speed plan corresponds to a maximum speed of the vehicle defined by a fixed limit on the speed of the vehicle for a power system of the vehicle.
- the initial speed plan corresponds to a maximum speed of the vehicle defined by a legal speed limit on the speed of the vehicle for a roadway on which the vehicle is currently located.
- a constraint of the set of constraints includes constraint that the vehicle should not be within a predetermined distance of the intersection point at the particular point in time.
- the method also includes determining a status of a traffic signal, and wherein generating a constraint of the set of constraints is based on the determined status.
- the method also includes receiving from the perception system of the vehicle, second data identifying a second object and characteristics of the second object including a speed of the second object, wherein the second object corresponds to a road user; predicting a second trajectory of the second object that indicates that the vehicle will pass the second object; and the set of constraints includes a constraint that limits the speed of the vehicle relative to the speed of the second object when the vehicle passes the second object.
- the method also includes receiving from the perception system of the vehicle, second data identifying a second object and characteristics of the second object including a signal of the second object, wherein the second object corresponds to a road user, and wherein generating the set of constraints includes generating a first constraint of the set of constraints based on the signal of the second object.
- the method also includes adjusting the adjusted initial speed plan to generate a speed plan based on the first constraint where the signal does not persist while the speed plan is being generated, and wherein the signal is a hand signal and the second object is a bicyclist.
- a constraint of the set of constraints includes a deceleration limit corresponding to a mechanical limit of deceleration for the vehicle.
- a constraint of the set of constraints includes a deceleration limit for the vehicle corresponding to a level of deceleration likely to be comfortable to a passenger.
- a constraint of the set of constraints includes a headway distance limit between the vehicle and the object corresponding to a distance likely to be comfortable to a passenger.
- a constraint of the set of constraints includes a lateral gap distance limit between the vehicle and the object corresponding to a lateral gap distance likely to be comfortable to a passenger.
- the system includes one or more processors configured to identify an initial speed plan for controlling speed of the vehicle for a first predetermined period of time corresponding to an amount of time along a route of the vehicle; receive from a perception system of the vehicle, data identifying an object and characteristics of that object; predict a trajectory for the object that will intersect with the route at an intersection point at particular point in time using the data; generate a set of constraints based on at least the trajectory; adjust the initial speed plan in order to satisfy the set of constraints for a second predetermined period of time corresponding to the amount of time; and maneuvering the vehicle in the autonomous driving mode according to the adjusted initial speed plan.
- the initial speed plan corresponds to a previously adjusted initial speed plan such that the initial speed plan is adjusted as an iterative process.
- a constraint of the set of constraints includes constraint that the vehicle should not be within a predetermined distance of the intersection point at the particular point in time.
- the one or more processors are further configured to determine a status of a traffic signal, and generating a constraint of the set of constraints is based on the status.
- a constraint of the set of constraints includes a deceleration limit for the vehicle corresponding to a level of deceleration likely to be comfortable to a passenger.
- a constraint of the set of constraints includes a headway distance limit between the vehicle and the object corresponding to a distance likely to be comfortable to a passenger.
- a further aspect of the disclosure provides a non-transitory computer readable medium on which instructions are stored.
- the instructions when executed by one or more processors, cause the one or more processors to perform a method of controlling a vehicle in an autonomous driving mode.
- the method includes identifying an initial speed plan for controlling speed of the vehicle for a first predetermined period of time corresponding to an amount of time along a route of the vehicle; receiving from a perception system of the vehicle, data identifying an object and characteristics of that object; predicting a trajectory for the object that will intersect with the route at an intersection point at particular point in time using the data; generating a set of constraints based on at least the trajectory; adjusting the initial speed plan in order to satisfy the set of constraints for a second predetermined period of time corresponding to the amount of time; and maneuvering the vehicle according to the adjusted initial speed plan.
- FIG. 1 is a functional diagram of an example vehicle in accordance with an exemplary embodiment.
- FIG. 2 is a diagram of map information in accordance with an exemplary embodiment.
- FIGS. 3 A- 3 D are example external views of a vehicle in accordance with aspects of the disclosure.
- FIG. 4 is a pictorial diagram of a system in accordance with aspects of the disclosure.
- FIG. 5 is a functional diagram of the system of FIG. 4 in accordance with aspects of the disclosure.
- FIG. 6 is a view of a section of roadway in accordance with aspects of the disclosure.
- FIG. 7 is a flow diagram in accordance with aspects of the disclosure.
- aspects of the technology relate to controlling autonomous vehicles.
- these vehicles operate by detecting and identifying objects in the vehicle's environment and reacting to those objects.
- the vehicle's computing devices must be able to determine the speed at which to drive the vehicle. To do this, the computing devices may begin with an initial speed plan and adjust that speed plan based on various constraints in real time.
- a speed plan may be determined for a predetermined period into the future.
- the speed plan may define how the vehicle varies its speed over the predetermined period of time.
- the speed plan may then be used to control the speed of the vehicle, for instance, by adjusting braking and acceleration inputs (i.e. pedals).
- braking and acceleration inputs i.e. pedals.
- the vehicle's computing devices may first determine a route to a location to which the vehicle will be driven.
- the initial speed plan may be based on detailed map information defining the geometry of vehicle's expected environment including roadways as well as speed restrictions for those roadways.
- the initial speed plan may be based on speed restrictions for the vehicle, for instance, as autonomous vehicles may have speed limit requirements.
- the initial speed profile may thus be based on a fastest possible speed for the vehicle at various locations along the route for the predetermined period.
- the initial speed plan may then be adjusted using a set of constraints.
- the fastest possible speed may be reduced in order to satisfy all of the constraints of the set of constraints.
- satisfying the constraints may also include increasing the speed of the vehicle, presumably within the limits of the vehicle and legal speed limits.
- the resulting adjusted speed plan may then be used to control the speed of the vehicle.
- the computing devices may revert to comparing an expected result if the vehicle were to return to the fastest possible speed with an expected result if the vehicle were to come to a complete stop. If the fastest possible speed would allow the vehicle to continue safely, in other words, without coming too close to any other objects or their predicted trajectories (i.e. other vehicles, bicyclists or pedestrians), the prior speed plan may be adjusted back to the fastest possible speed. If not, the vehicle may be brought to a complete stop. In other words, the computing devices may compare the relative penetration between the route and the predicted trajectory of another vehicle and select the option which will cause the least amount of overlap.
- adjusting the speed plan may be an iterative process.
- the prior speed plan may be used to determine a current speed plan. For instance, once the initial speed plan is adjusted based on an initial set of constraints, the adjust speed plan may thereafter be adjusted on an updated set of constraints using updated predicted trajectories and environmental conditions. In addition, the prior speed plan may be adjusted periodically.
- the features described herein not only allow for safe operation of a vehicle, but can also achieve smoother speed transitions than typical methods.
- By computing over the predetermined period of time and iteratively changing the speed profile the changes in acceleration or “jerk” experienced by a passenger may be reduced. This allows passengers to feel as if the vehicle is being controlled in a more natural, human-like way.
- a vehicle 100 in accordance with one aspect of the disclosure includes various components. While certain aspects of the disclosure are particularly useful in connection with specific types of vehicles, the vehicle may be any type of vehicle including, but not limited to, cars, trucks, motorcycles, busses, recreational vehicles, etc.
- the vehicle may have one or more computing devices, such as computing devices 110 containing one or more processors 120 , memory 130 and other components typically present in general purpose computing devices.
- the memory 130 stores information accessible by the one or more processors 120 , including instructions 132 and data 134 that may be executed or otherwise used by the processor 120 .
- the memory 130 may be of any type capable of storing information accessible by the processor, including a computing device-readable medium, or other medium that stores data that may be read with the aid of an electronic device, such as a hard-drive, memory card, ROM, RAM, DVD or other optical disks, as well as other write-capable and read-only memories.
- Systems and methods may include different combinations of the foregoing, whereby different portions of the instructions and data are stored on different types of media.
- the instructions 132 may be any set of instructions to be executed directly (such as machine code) or indirectly (such as scripts) by the processor.
- the instructions may be stored as computing device code on the computing device-readable medium.
- the terms “instructions” and “programs” may be used interchangeably herein.
- the instructions may be stored in object code format for direct processing by the processor, or in any other computing device language including scripts or collections of independent source code modules that are interpreted on demand or compiled in advance. Functions, methods and routines of the instructions are explained in more detail below.
- the data 134 may be retrieved, stored or modified by processor 120 in accordance with the instructions 132 .
- the data may be stored in computing device registers, in a relational database as a table having a plurality of different fields and records, XML documents or flat files.
- the data may also be formatted in any computing device-readable format.
- the one or more processor 120 may be any conventional processors, such as commercially available CPUs. Alternatively, the one or more processors may be a dedicated device such as an ASIC or other hardware-based processor.
- FIG. 1 functionally illustrates the processor, memory, and other elements of computing devices 110 as being within the same block, it will be understood by those of ordinary skill in the art that the processor, computing device, or memory may actually include multiple processors, computing devices, or memories that may or may not be stored within the same physical housing.
- memory may be a hard drive or other storage media located in a housing different from that of computing devices 110 . Accordingly, references to a processor or computing device will be understood to include references to a collection of processors or computing devices or memories that may or may not operate in parallel.
- Computing devices 110 may all of the components normally used in connection with a computing device such as the processor and memory described above as well as a user input 150 (e.g., a mouse, keyboard, touch screen and/or microphone) and various electronic displays (e.g., a monitor having a screen or any other electrical device that is operable to display information).
- a user input 150 e.g., a mouse, keyboard, touch screen and/or microphone
- various electronic displays e.g., a monitor having a screen or any other electrical device that is operable to display information
- the vehicle includes an internal electronic display 152 as well as one or more speakers 154 to provide information or audio visual experiences.
- internal electronic display 152 may be located within a cabin of vehicle 100 and may be used by computing devices 110 to provide information to passengers within the vehicle 100 .
- Computing devices 110 may also include one or more wireless network connections 156 to facilitate communication with other computing devices, such as the client computing devices and server computing devices described in detail below.
- the wireless network connections may include short range communication protocols such as Bluetooth, Bluetooth low energy (LE), cellular connections, as well as various configurations and protocols including the Internet, World Wide Web, intranets, virtual private networks, wide area networks, local networks, private networks using communication protocols proprietary to one or more companies, Ethernet, WiFi and HTTP, and various combinations of the foregoing.
- computing devices 110 may be an autonomous driving computing system incorporated into vehicle 100 .
- the autonomous driving computing system may be capable of communicating with various components of the vehicle.
- computing devices 110 may be in communication with various systems of vehicle 100 , such as deceleration system 160 , acceleration system 162 , steering system 164 , signaling system 166 , navigation system 168 , positioning system 170 , and perception system 172 in order to control the movement, speed, etc. of vehicle 100 in accordance with the instructions 132 of memory 130 .
- these systems are shown as external to computing devices 110 , in actuality, these systems may also be incorporated into computing devices 110 , again as an autonomous driving computing system for controlling vehicle 100 .
- computing devices 110 may interact with deceleration system 160 and acceleration system 162 in order to control the speed of the vehicle.
- steering system 164 may be used by computing devices 110 in order to control the direction of vehicle 100 .
- vehicle 100 is configured for use on a road, such as a car or truck, the steering system may include components to control the angle of wheels to turn the vehicle.
- Signaling system 166 may be used by computing devices 110 in order to signal the vehicle's intent to other drivers or vehicles, for example, by lighting turn signals or brake lights when needed.
- Navigation system 168 may be used by computing devices 110 in order to determine and follow a route to a location.
- the navigation system 168 and/or data 134 may store detailed map information, e.g., highly detailed maps identifying the shape and elevation of roadways, lane lines, intersections, crosswalks, speed limits, traffic signals, buildings, signs, real time traffic information, vegetation, or other such objects and information.
- this detailed map information may define the geometry of vehicle's expected environment including roadways as well as speed restrictions (legal speed limits) for those roadways
- FIG. 2 is an example of map information 200 for a section of roadway including intersections 202 and 204 .
- the map information 200 includes information identifying the shape, location, and other characteristics of lane lines 210 , 212 , 214 , traffic signal lights 220 , 222 , crosswalk 230 , sidewalks 240 , stop signs 250 , 252 , and yield sign 260 .
- Areas where the vehicle can drive may be associated with one or more rails 270 , 272 , and 274 which indicate the location and direction in which a vehicle should generally travel at various locations in the map information.
- a vehicle may follow rail 270 when driving in the lane between lane lines 210 and 212 , and may transition to rail 272 in order to make a right turn at intersection 204 . Thereafter the vehicle may follow rail 274 .
- rail 270 when driving in the lane between lane lines 210 and 212 , and may transition to rail 272 in order to make a right turn at intersection 204 . Thereafter the vehicle may follow rail 274 .
- rail 270 when driving in the lane between lane lines 210 and 212 , and may transition to rail 272 in order to make a right turn at intersection 204 . Thereafter the vehicle may follow rail 274 .
- the map information is depicted herein as an image-based map, the map information need not be entirely image based (for example, raster).
- the map information may include one or more roadgraphs or graph networks of information such as roads, lanes, intersections, and the connections between these features.
- Each feature may be stored as graph data and may be associated with information such as a geographic location and whether or not it is linked to other related features, for example, a stop sign may be linked to a road and an intersection, etc.
- the associated data may include grid-based indices of a roadgraph to allow for efficient lookup of certain roadgraph features.
- Positioning system 170 may be used by computing devices 110 in order to determine the vehicle's relative or absolute position on a map or on the earth.
- the position system 170 may include a GPS receiver to determine the device's latitude, longitude and/or altitude position.
- Other location systems such as laser-based localization systems, inertial-aided GPS, or camera-based localization may also be used to identify the location of the vehicle.
- the location of the vehicle may include an absolute geographical location, such as latitude, longitude, and altitude as well as relative location information, such as location relative to other cars immediately around it which can often be determined with less noise than absolute geographical location.
- the positioning system 170 may also include other devices in communication with computing devices 110 , such as an accelerometer, gyroscope or another direction/speed detection device to determine the direction and speed of the vehicle or changes thereto.
- an acceleration device may determine its pitch, yaw or roll (or changes thereto) relative to the direction of gravity or a plane perpendicular thereto.
- the device may also track increases or decreases in speed and the direction of such changes.
- the device's provision of location and orientation data as set forth herein may be provided automatically to the computing devices 110 , other computing devices and combinations of the foregoing.
- the perception system 172 also includes one or more components for detecting objects external to the vehicle such as other vehicles, obstacles in the roadway, traffic signals, signs, trees, etc.
- the perception system 172 may include lasers, sonar, radar, cameras and/or any other detection devices that record data which may be processed by computing devices 110 .
- the vehicle is a small passenger vehicle such as a car
- the car may include a laser or other sensors mounted on the roof or other convenient location.
- a vehicle's perception system may use various sensors, such as LIDAR, sonar, radar, cameras, etc. to detect objects and their characteristics such as location, orientation, size, shape, type, direction and speed of movement, etc.
- the raw data from the sensors and/or the aforementioned characteristics can be quantified or arranged into a descriptive function or vector for processing by the computing devices 110 .
- computing devices 110 may use the positioning system 170 to determine the vehicle's location and perception system 172 to detect and respond to objects when needed to reach the location safely.
- FIGS. 3 A- 3 D are examples of external views of vehicle 100 .
- vehicle 100 includes many features of a typical vehicle such as headlights 302 , windshield 303 , taillights/turn signal lights 304 , rear windshield 305 , doors 306 , side view mirrors 308 , tires and wheels 310 , and turn signal/parking lights 312 .
- Headlights 302 , taillights/turn signal lights 304 , and turn signal/parking lights 312 may be associated the signaling system 166 .
- Light bar 307 may also be associated with the signaling system 166 .
- Vehicle 100 also includes sensors of the perception system 172 .
- housing 314 may include one or more laser devices for having 360 degree or narrower fields of view and one or more camera devices.
- Housings 316 and 318 may include, for example, one or more radar and/or sonar devices.
- the devices of the perception system 172 may also be incorporated into the typical vehicle components, such as taillights/turn signal lights 304 and/or side view mirrors 308 .
- Each of these radar, camera, and lasers devices may be associated with processing components which process data from these devices as part of the perception system 172 and provide sensor data to the computing devices 110 .
- Data 134 may store various behavior-time models for predicting an objects future behavior for a pre-determined period of time, such as the next 10 seconds or more or less.
- the behavior-time models may be configured to use data for an object received from the perception system 172 , and in particular another road user, including the road user's characteristics as well as additional contextual information discussed in further detail below.
- the behavior-time models may provide a set of one or more predictions for how the object could behave for the predetermined period of time as well as a corresponding likelihood value for each prediction.
- the predictions may include a trajectory, for instance, defining a set of future locations where the object is expected to be at various times in the future corresponding to the predetermined period of time.
- the likelihood values may indicate which of the predictions are more likely to occur (relative to one another). In this regard, the prediction with the greatest likelihood value may be the most likely to occur whereas predictions with lower likelihood values may be less likely to occur.
- the behavior-time models may be configured to generate a set of possible hypotheses for what a particular road user will do over a particular horizon or predetermined period of time (e.g. 10 seconds) and relative likelihoods for each hypothesis.
- These models may be trained using data about how an object observed at that location behaved in the past, intuition, etc., and may also be specifically designated for particular types of objects, such as vehicles, pedestrians, motorcycles, bicyclists, etc.
- the computing devices 110 can then reason about hypotheses that interact with the vehicle's trajectory and are of a sufficient likelihood to be worth considering.
- the computing devices 110 may control the direction and speed of the vehicle by controlling various components.
- computing devices 110 may navigate the vehicle to a destination location completely autonomously using data from the detailed map information and navigation system 168 .
- computing devices 110 may cause the vehicle to accelerate (e.g., by increasing fuel or other energy provided to the engine by acceleration system 162 ), decelerate (e.g., by decreasing the fuel supplied to the engine, changing gears, and/or by applying brakes by deceleration system 160 ), change direction (e.g., by turning the front or rear wheels of vehicle 100 by steering system 164 ), and signal such changes (e.g., by lighting turn signals of signaling system 166 ).
- accelerate e.g., by increasing fuel or other energy provided to the engine by acceleration system 162
- decelerate e.g., by decreasing the fuel supplied to the engine, changing gears, and/or by applying brakes by deceleration system 160
- change direction e.g., by turning the front or rear wheels of vehicle 100 by steering
- the acceleration system 162 and deceleration system 160 may be a part of a drivetrain that includes various components between a power system 174 (for instance, a gas or electrican engine) of the vehicle and the wheels of the vehicle.
- a power system 174 for instance, a gas or electrican engine
- computing devices 110 may also control the drivetrain of the vehicle in order to maneuver the vehicle autonomously.
- FIGS. 4 and 5 are pictorial and functional diagrams, respectively, of an example system 400 that includes a plurality of computing devices 410 , 420 , 430 , 440 and a storage system 450 connected via a network 460 .
- System 400 also includes vehicle 100 , and vehicle 100 A which may be configured similarly to vehicle 100 . Although only a few vehicles and computing devices are depicted for simplicity, a typical system may include significantly more.
- each of computing devices 410 , 420 , 430 , 440 may include one or more processors, memory, data and instructions. Such processors, memories, data and instructions may be configured similarly to one or more processors 120 , memory 130 , data 134 , and instructions 132 of computing devices 110 .
- the network 460 may include various configurations and protocols including short range communication protocols such as Bluetooth, Bluetooth LE, the Internet, World Wide Web, intranets, virtual private networks, wide area networks, local networks, private networks using communication protocols proprietary to one or more companies, Ethernet, WiFi and HTTP, and various combinations of the foregoing.
- short range communication protocols such as Bluetooth, Bluetooth LE, the Internet, World Wide Web, intranets, virtual private networks, wide area networks, local networks, private networks using communication protocols proprietary to one or more companies, Ethernet, WiFi and HTTP, and various combinations of the foregoing.
- Such communication may be facilitated by any device capable of transmitting data to and from other computing devices, such as modems and wireless interfaces.
- one or more computing devices 410 may include a server having a plurality of computing devices, e.g., a load balanced server farm, that exchange information with different nodes of a network for the purpose of receiving, processing and transmitting the data to and from other computing devices.
- one or more computing devices 410 may include one or more server computing devices that are capable of communicating with one or more computing devices 110 of vehicle 100 or a similar computing device of vehicle 100 A as well as client computing devices 420 , 430 , 440 via the network 460 .
- vehicles 100 and 100 A may be a part of a fleet of vehicles that can be dispatched by server computing devices to various locations. In this regard, the vehicles of the fleet may periodically send the server computing devices location information provided by the vehicle's respective positioning systems and the one or more server computing devices may track the locations of the vehicles.
- server computing devices 410 may use network 460 to transmit and present information to a user, such as user 422 , 432 , 442 on a display, such as displays 424 , 434 , 444 of computing devices 420 , 430 , 440 .
- computing devices 420 , 430 , 440 may be considered client computing devices.
- each client computing device 420 , 430 , 440 may be a personal computing device intended for use by a user 422 , 432 , 442 , and have all of the components normally used in connection with a personal computing device including a one or more processors (e.g., a central processing unit (CPU)), memory (e.g., RAM and internal hard drives) storing data and instructions, a display such as displays 424 , 434 , 444 (e.g., a monitor having a screen, a touch-screen, a projector, a television, or other device that is operable to display information), and user input devices 426 , 436 , 446 (e.g., a mouse, keyboard, touch-screen or microphone).
- the client computing devices may also include a camera for recording video streams, speakers, a network interface device, and all of the components used for connecting these elements to one another.
- client computing devices 420 , 430 , and 440 may each comprise a full-sized personal computing device, they may alternatively comprise mobile computing devices capable of wirelessly exchanging data with a server over a network such as the Internet.
- client computing device 420 may be a mobile phone or a device such as a wireless-enabled PDA, a tablet PC, a wearable computing device or system, laptop, or a netbook that is capable of obtaining information via the Internet or other networks.
- client computing device 430 may be a wearable computing device, such as a “smart watch” as shown in FIG. 4 .
- the user may input information using a keyboard, a keypad, a multi-function input button, a microphone, visual signals (for instance, hand or other gestures) with a camera or other sensors, a touch screen, etc.
- client computing device 440 may be concierge work station used by an administrator to provide concierge services to users such as users 422 and 432 .
- user 442 may be a concierge that uses concierge work station 440 to communicate via a telephone call or audio connection with users through their respective client computing devices or vehicles 100 or 100 A in order to ensure the safe operation of vehicles 100 and 100 A and the safety of the users as described in further detail below.
- FIGS. 4 and 5 any number of such work stations may be included in a typical system.
- Storage system 450 may store various types of information. This information may be retrieved or otherwise accessed by a server computing device, such as one or more server computing devices 410 , in order to perform some or all of the features described herein.
- the information may include user account information such as credentials (e.g., a user name and password as in the case of a traditional single-factor authentication as well as other types of credentials typically used in multi-factor authentications such as random identifiers, biometrics, etc.) that can be used to identify a user to the one or more server computing devices.
- the user account information may also include personal information such as the user's name, contact information, identifying information of the user's client computing device (or devices if multiple devices are used with the same user account), as well as one or more unique signals for the user.
- storage system 450 can be of any type of computerized storage capable of storing information accessible by the server computing devices 410 , such as a hard-drive, memory card, ROM, RAM, DVD, CD-ROM, write-capable, and read-only memories.
- storage system 450 may include a distributed storage system where data is stored on a plurality of different storage devices which may be physically located at the same or different geographic locations.
- Storage system 450 may be connected to the computing devices via the network 460 as shown in FIG. 4 and/or may be directly connected to or incorporated into any of the computing devices 110 , 410 , 420 , 430 , 440 , etc.
- a user may download an application for requesting a vehicle to a client computing device.
- users 422 and 432 may download the application via a link in an email, directly from a website, or an application store to client computing devices 420 and 430 .
- client computing device may transmit a request for the application over the network, for example, to one or more server computing devices 410 , and in response, receive the application.
- the application may be installed locally at the client computing device.
- the user may then use his or her client computing device to access the application and request a vehicle.
- a user such as user 432 may use client computing device 430 to send a request to one or more server computing devices 410 for a vehicle.
- the request may include information identifying a pickup location or area and/or a destination location or area.
- the one or more server computing devices 410 may identify and dispatch, for example based on availability and location, a vehicle to the pickup location. This dispatching may involve sending information to the vehicle identifying the user (and/or the user's client device) in order to assign the vehicle to the user (and/or the user's client computing device), the pickup location, and the destination location or area.
- the vehicle's one or more computing devices 110 may maneuver the vehicle to the pickup location using the various features described above. Once the user, now passenger, is safely in the vehicle, the computing devices 110 may initiate the necessary systems to control the vehicle autonomously along a route to the destination location. For instance, the navigation system 168 may use the map information of data 134 to determine a path or route to the destination location that follows a set of connected rails of map information 200 . The computing devices 110 may then maneuver the vehicle autonomously (or in an autonomous driving mode) as described above along the route towards the destination.
- FIG. 6 depicts vehicle 100 being maneuvered on a section of roadway 600 including intersections 602 and 604 .
- intersections 602 and 604 correspond to intersections 202 and 204 of the map information 200 , respectively.
- lane lines 610 , 612 , and 614 correspond to the shape, location, and other characteristics of lane lines 210 , 212 , and 214 , respectively.
- crosswalk 630 corresponds to the shape, location, and other characteristics of crosswalk 230 , respectively; sidewalks 640 correspond to sidewalks 240 ; traffic signal lights 620 , 622 correspond to traffic signal lights 220 , 222 , respectively; stop signs 650 , 652 correspond to stop signs 250 , 252 , respectively; and yield sign 660 corresponds to yield sign 260 .
- the computing devices 110 have used map information 200 to determine a route 670 for vehicle 100 to follow in order to reach a destination (not shown).
- the computing devices 110 may generate an initial speed plan.
- a speed plan may be determined for a predetermined period into the future, such as 15 seconds or more or less.
- the speed plan may define how the vehicle varies its speed (accelerates, decelerates, continues) over the predetermined period of time. For instance, the speed of a vehicle may remain continuous for the 15 seconds or accelerate/decelerate for at least some portion of the 15 seconds.
- the speed plan may then be used to control the speed of the vehicle, for instance, by adjusting braking and acceleration inputs (i.e. pedals).
- the changes in acceleration or “jerk” experienced by a passenger may be reduced.
- the vehicle's computing devices may first determine the route to the location to which the vehicle will be driven. This location may be, for instance, a destination location selected by a passenger or designated by an operator for cargo.
- the initial speed plan may be based on the detailed map information defining the geometry of vehicle's expected environment as the vehicle maneuvers along the route.
- the initial speed plan may be based on speed restrictions for the vehicle, for instance, as autonomous vehicles may have physical speed limits (i.e. only so much power can be generated by the power system 174 ) and/or legal speed limit requirements (i.e. the vehicle must be driven at, no faster than, or below 25 miles per hour, etc.).
- the initial speed plan may thus be based on a fastest possible speed for the vehicle at various locations along the route for the predetermined period. For instance, returning to FIG. 6 , the initial speed plan for vehicle 100 may include maneuvering along portion 672 (the solid portion of route 670 ) of route 670 at 25 miles per hour (the legal speed requirement for vehicle 100 ) for the next 15 seconds.
- the initial speed plan may then be adjusted using a set of constraints.
- the fastest possible speed may be reduced in order to satisfy all of the constraints of the set of constraints.
- the adjusted initial speed plan may thereafter be adjusted based on a new set of constraints such that the process is iterative.
- a prior speed plan may be used to determine a current speed plan (or next speed plan as the case may be). For instance, once the initial speed plan is adjusted based on an initial set of constraints, the adjust speed plan may thereafter be adjusted on an updated set of constraints using updated predicted trajectories and environmental conditions.
- the prior speed plan may be adjusted periodically, for instance every 0.1 second ( 1/10 second) or more or less.
- satisfying the constraints may also include increasing the speed of the vehicle, presumably within the physical limits of the vehicle (i.e. the acceleration system 162 , deceleration system 160 , and or power system 174 ) and legal speed limits. However, in most cases, the constraints may cause the vehicle to be slowed down. The resulting adjusted speed plan may then be used by the computing devices 110 to control the speed of the vehicle 100 .
- a constraint of the set of constraints may be based on the predicted trajectories of other objects detected in the vehicle's environment. For instance, when an object is detected, its speed, orientation, type, and other characteristics may be used to generate a prediction of where that object is likely to travel for a brief period of time into the future. Where that predicted trajectory crosses and/or comes within a predetermined distance of the route at some particular point in time, the predicted trajectory may be used to generate a constraint to avoid a particular location at a particular point in time.
- the perception system 172 may provide the computing devices with information about objects, including other road users, detected in the vehicle's environment. For instance, FIG. 6 depicts vehicle 100 approaching intersection 604 in order to make a left turn.
- the perception system 172 may provide the computing device 110 with information about vehicle 601 such as its type, location, heading, velocity, etc.
- the raw data and/or characteristics of objects received from the perception system may be used with contextual information as input to a behavior-time model of data 134 to make a prediction about what other objects are going to do for the predetermined period of time. For instance, information such as the object's type, location, recent motion heading, acceleration, and velocity may be combined with other information such as where the object is in the world using the detailed map information discussed above may be used as input to a behavior-time model.
- the contextual information may include the status of other objects in the environment, such as the states of traffic lights.
- features of other objects (such as vehicles) that might be crossing the objects' path may also be used as input to the model.
- the behavior-time model may provide a set of hypotheses each having an associated likelihood value.
- one or more of those hypotheses with the highest likelihoods may be identified as an actual future trajectory or behavior prediction for the object over the predetermined period of time.
- the vehicle's computing devices may use a behavior-time model to generate a prediction of what an object will do during the next predetermined period of time (e.g. 10 seconds) or a time period corresponding to how long the vehicle 100 is likely to interact with the object (e.g. until the object is well behind the autonomous vehicle).
- the computing devices 110 may predict that vehicle 601 is going to continue move towards and pass through intersection 604 according to trajectory 603 .
- the route and trajectory are expected to intersect at point 680 .
- a constraint may be generated for vehicle 100 to avoid the point 680 , at the point in time when vehicle 601 (or any portion of vehicle) is expected to overlap with point 680 .
- the initial speed plan (or prior speed plan) may be adjusted such that the vehicle 100 is able to satisfy the constraint as well as any other constraints within the set of constraints.
- this constraint may cause vehicle 100 to adjust the initial speed plan (or prior speed plan), for instance in order to cause vehicle 100 to slow down or alternatively maintain its speed in order to avoid point 680 during the point in time at which trajectory 603 of vehicle 601 (or any portion of vehicle 601 ) is expected to overlap with point 680 .
- a constraint may be that at the particular point in time when the predicted trajectory crosses or comes within a predetermined distance of the route, the vehicle must come no closer than some distance from the object.
- another constraint may be generated that prevents or limits vehicle from entering an area that is proximate to point 680 corresponding to area 690 that is within a predetermined distance, such as 3 meters or more or less, of point 680 , during the period of time during which the trajectory 603 of vehicle 601 (or any portion of vehicle 601 ) is expected to overlap with area 690 .
- the initial speed profile may be adjusted such that the vehicle 100 is able to satisfy this constraint as well as any other constraints within the set of constraints.
- this constraint may cause vehicle 100 to adjust the initial speed plan (or prior speed plan), for instance in order to cause vehicle 100 to slow down or alternatively maintain its speed in order to avoid area 690 during the period of time during which the trajectory 603 of vehicle 601 (or any portion of vehicle 601 ) is expected to overlap with area 690 .
- a constraint may be generated that requires the vehicle to yield to oncoming traffic or rather to not be in the lane of the oncoming traffic when that oncoming traffic is close to or crossing the route.
- a constraint may be generated that limits vehicle from entering area 690 until vehicle 601 has completely cleared area 690 , thereby yielding to vehicle 601 .
- the initial speed profile may be adjusted such that the vehicle 100 is able to satisfy this constraint as well as any other constraints within the set of constraints. In other words, this constraint may cause vehicle 100 to generate a speed plan for vehicle 100 to slow down and yield to vehicle 601 .
- a constraint may be that the vehicle must pass the other object by a certain point on the route and if not, the vehicle must not pass the other object, for instance, prior to reaching an exit ramp or to making a turn.
- a vehicle may need to change from a first lane to a second lane in order to reach an exit ramp or make a turn.
- a constraint may be generated that the vehicle must pass the object within a predetermined distance, such as 50 or 100 meters or more or less, from the exit ramp or where the turn needs to be made. The predetermined distance may be selected based upon the current speed of the vehicle and/or the other object.
- the proximity of the vehicle to other moving or potentially moving objects may be used to generate constraints.
- the vehicle may be restricted from traveling too fast next to other objects such as other vehicles, bicyclists, motorcycles, or pedestrians whether stopped (parked) or moving.
- the other object is moving, such as where the vehicle is passing another object (such as other vehicles, bicyclists, motorcycles, or pedestrians) in an adjacent lane (or on the side of the lane in which the vehicle is currently traveling)
- a constraint may limit the speed of the vehicle to the speed of the other object plus some fixed number or percentage of the speed. In some examples, that fixed number could change depending on the speed of the other object and the lateral gap between the vehicle and the other object.
- constraints may be generated based on environmental conditions. For instance, a state of a traffic light signal may be used to generate a constraint for the vehicle. In this regard, a vehicle's location relative to a traffic light signal which is red or yellow may be used to generate a constraint that the vehicle must stop prior to an intersection. Again, this constraint may be used to adjust the initial speed plan (or prior speed plan).
- it may be useful for the computing devices to “remember” environmental conditions, even where they do not persist into the next iteration. For instance, if a bicyclist makes a hand signal for a turn, even though the hand signal does not persist, it is important for the computing devices to consider this signal for generating constraints for future iterations. In this regard, such a signal may continue to be used to generate constraints for the next few seconds, for instance 3 seconds or more or less.
- constraints may be generated based on expected “comfort” of passengers within the vehicle.
- the constraints may include the hard physical limits to fore/aft and lateral deceleration and acceleration values of the vehicle which correspond to mechanical limit of the vehicle (i.e. how hard the brakes or accelerator can be applied by the deceleration system 160 or acceleration system 162 at any given time).
- constraints may include “soft limits” which correspond to fore/aft and lateral deceleration and/or acceleration limits for the vehicle which correlate to a more comfortable experience for a passenger. Because these soft limits constraints are based in comfort, they may be treated differently than other constraints in that the computing devices may be able to violate such soft limits constraints when necessary, such as to avoid a collision or other dangerous situation.
- a constraint may relate to the absolute minimum distance to another object to ensure the safety of the passenger, such as a headway distance (from the front of the vehicle to the object), a tailing distance (from the rear of the vehicle to the object), or lateral gap (lateral distance between the vehicle and the object).
- additional soft limits constraints may include greater distance limits for the above than actually required for safety.
- these soft limits constraints may also relate to the comfort or discomfort of pedestrians, bicyclists, motorcyclists, and passengers other vehicles as well as passengers of vehicle 100 , and may be violated when necessary, such as to avoid a collision or other dangerous situation.
- constraints may relate to how other objects are likely to respond to the speed or speed changes of the vehicle.
- additional soft limits constraints may correspond to fore/aft and lateral deceleration and/or acceleration limits for other objects, or really, other road users. This may correlate to a more comfortable experience for those other objects (or passengers within a vehicle if the object is a vehicle).
- the speed plan of the vehicle would be constrained by a limit on the amount of deceleration and/or acceleration that the speed plan would require of other vehicles in order to satisfy all of the constraints of the set of constraints.
- constraints may vary based upon whether the vehicle is within the field of view of that other object.
- constraints corresponding to acceptable fore/aft and lateral deceleration and acceleration values of another object may be even lower where the vehicle is not within a field of view of that other object or in other words, is not within some angle range such as 50 degrees or more or less from the heading of the other object.
- these soft limits constraints are based in comfort, they may be treated differently than other constraints in that the computing devices may be able to violate such soft limits constraints when necessary, such as to avoid a collision or other dangerous situation.
- the constraints may cause the computing devices to adjust the initial speed plan (or prior speed plan).
- the initial speed plan (or prior speed plan) may be adjusted by iteratively decelerating and/or accelerating 1 mile per hour over the period of time for the initial speed plan (or prior speed plan) and determining whether all of the constraints of the set of constraints are satisfied. Once all of the constraints are satisfied, the adjusted speed plan may be used by the computing devices 110 to control the vehicle 100 .
- the computing devices may revert to comparing an expected result if the vehicle were to return to the fastest possible speed with an expected result if the vehicle were to come to a complete stop. If the fastest possible speed would allow the vehicle to continue safely, in other words, without coming too close to any other objects or their predicted trajectories (i.e. other vehicles, bicyclists or pedestrians), the prior speed plan may be adjusted back to the fastest possible speed. If not, the vehicle may be brought to a complete stop. In other words, the computing devices may compare the relative penetration between the route and the predicted trajectory of another vehicle and select the option which will cause the least amount of overlap.
- FIG. 7 is an example flow diagram 700 in accordance which may be performed by one or more computing devices of a vehicle, such as computing devices 110 of vehicle 100 in order to maneuver the vehicle 100 in an autonomous driving mode.
- an initial speed plan for controlling speed of the vehicle for a first predetermined period of time corresponding to an amount of time along a route of the vehicle is identified at block 710 .
- Data identifying an object and characteristics of that object is received from a perception system of the vehicle at block 720 .
- a trajectory for the object that will intersect with the route at an intersection point at particular point in time is predicted using the data at block 730 .
- a set of constraints is generated based on at least the trajectory at block 740 .
- the speed plan is adjusted in order to satisfy the set of constraints for a second predetermined period of time corresponding to the amount of time at block 750 .
- the vehicle is maneuvered in the autonomous driving mode according to the adjusted speed plan at block 760 .
Abstract
Aspects of the disclosure relate to identifying and adjusting speed plans for controlling a vehicle in an autonomous driving mode. In one example, an initial speed plan for controlling speed of the vehicle for a first predetermined period of time corresponding to an amount of time along a route of the vehicle is identified. Data identifying an object and characteristics of that object is received from a perception system of the vehicle. A trajectory for the object that will intersect with the route at an intersection point at particular point in time is predicted using the data. A set of constraints is generated based on at least the trajectory. The speed plan is adjusted in order to satisfy the set of constraints for a second predetermined period of time corresponding to the amount of time. The vehicle is maneuvered in the autonomous driving mode according to the adjusted speed plan.
Description
The present application is a continuation of U.S. patent application Ser. No. 15/258,324, filed Sep. 7, 2016, the disclosure of which is incorporated herein by reference.
Autonomous vehicles, such as vehicles that do not require a human driver, can be used to aid in the transport of passengers or items from one location to another. Such vehicles may operate in a fully autonomous mode where passengers may provide some initial input, such as a pickup or destination location, and the vehicle maneuvers itself to that location.
Such vehicles are typically equipped with various types of sensors in order to detect objects in the surroundings. For example, autonomous vehicles may include lasers, sonar, radar, cameras, and other devices which scan and record data from the vehicle's surroundings. Sensor data from one or more of these devices may be used to detect objects and their respective characteristics (position, shape, heading, speed, etc.). These characteristics can be used to predict what an object is likely to do for some brief period into the future which can be used to control the vehicle in order to avoid these objects. Thus, detection, identification, and prediction are critical functions for the safe operation of autonomous vehicle.
Aspects of the disclosure relate to a method of maneuvering a vehicle in an autonomous driving mode. The method includes identifying, by one or more processors, an initial speed plan for controlling speed of the vehicle for a first predetermined period of time corresponding to an amount of time along a route of the vehicle; receiving, by the one or more processors, from a perception system of the vehicle, data identifying an object and characteristics of that object; predicting, by the one or more processors, a trajectory for the object that will intersect with the route at an intersection point at particular point in time using the data; generating, by the one or more processors, a set of constraints based on at least the trajectory; adjusting, by the one or more processors, the initial speed plan in order to satisfy the set of constraints for a second predetermined period of time corresponding to the amount of time; and maneuvering, by the one or more processors, the vehicle in the autonomous driving mode according to the adjusted initial speed plan.
In one example, the initial speed plan corresponds to a previously adjusted initial speed plan such that the initial speed plan is adjusted as an iterative process. In another example, the initial speed plan corresponds to a maximum speed of the vehicle defined by a fixed limit on the speed of the vehicle for a power system of the vehicle. In another example, the initial speed plan corresponds to a maximum speed of the vehicle defined by a legal speed limit on the speed of the vehicle for a roadway on which the vehicle is currently located. In another example, a constraint of the set of constraints includes constraint that the vehicle should not be within a predetermined distance of the intersection point at the particular point in time. In another example, the method also includes determining a status of a traffic signal, and wherein generating a constraint of the set of constraints is based on the determined status. In another example, the method also includes receiving from the perception system of the vehicle, second data identifying a second object and characteristics of the second object including a speed of the second object, wherein the second object corresponds to a road user; predicting a second trajectory of the second object that indicates that the vehicle will pass the second object; and the set of constraints includes a constraint that limits the speed of the vehicle relative to the speed of the second object when the vehicle passes the second object. In another example, the method also includes receiving from the perception system of the vehicle, second data identifying a second object and characteristics of the second object including a signal of the second object, wherein the second object corresponds to a road user, and wherein generating the set of constraints includes generating a first constraint of the set of constraints based on the signal of the second object. In this example, the method also includes adjusting the adjusted initial speed plan to generate a speed plan based on the first constraint where the signal does not persist while the speed plan is being generated, and wherein the signal is a hand signal and the second object is a bicyclist. In another example, a constraint of the set of constraints includes a deceleration limit corresponding to a mechanical limit of deceleration for the vehicle. In another example, a constraint of the set of constraints includes a deceleration limit for the vehicle corresponding to a level of deceleration likely to be comfortable to a passenger. In another example, a constraint of the set of constraints includes a headway distance limit between the vehicle and the object corresponding to a distance likely to be comfortable to a passenger. In another example, a constraint of the set of constraints includes a lateral gap distance limit between the vehicle and the object corresponding to a lateral gap distance likely to be comfortable to a passenger.
Another aspect of the disclosure provides a system for maneuvering a vehicle in autonomous driving mode. The system includes one or more processors configured to identify an initial speed plan for controlling speed of the vehicle for a first predetermined period of time corresponding to an amount of time along a route of the vehicle; receive from a perception system of the vehicle, data identifying an object and characteristics of that object; predict a trajectory for the object that will intersect with the route at an intersection point at particular point in time using the data; generate a set of constraints based on at least the trajectory; adjust the initial speed plan in order to satisfy the set of constraints for a second predetermined period of time corresponding to the amount of time; and maneuvering the vehicle in the autonomous driving mode according to the adjusted initial speed plan.
In one example, the initial speed plan corresponds to a previously adjusted initial speed plan such that the initial speed plan is adjusted as an iterative process. In another example, a constraint of the set of constraints includes constraint that the vehicle should not be within a predetermined distance of the intersection point at the particular point in time. In another example, the one or more processors are further configured to determine a status of a traffic signal, and generating a constraint of the set of constraints is based on the status. In another example, a constraint of the set of constraints includes a deceleration limit for the vehicle corresponding to a level of deceleration likely to be comfortable to a passenger. In another example, a constraint of the set of constraints includes a headway distance limit between the vehicle and the object corresponding to a distance likely to be comfortable to a passenger.
A further aspect of the disclosure provides a non-transitory computer readable medium on which instructions are stored. The instructions when executed by one or more processors, cause the one or more processors to perform a method of controlling a vehicle in an autonomous driving mode. The method includes identifying an initial speed plan for controlling speed of the vehicle for a first predetermined period of time corresponding to an amount of time along a route of the vehicle; receiving from a perception system of the vehicle, data identifying an object and characteristics of that object; predicting a trajectory for the object that will intersect with the route at an intersection point at particular point in time using the data; generating a set of constraints based on at least the trajectory; adjusting the initial speed plan in order to satisfy the set of constraints for a second predetermined period of time corresponding to the amount of time; and maneuvering the vehicle according to the adjusted initial speed plan.
Overview
Aspects of the technology relate to controlling autonomous vehicles. Generally, these vehicles operate by detecting and identifying objects in the vehicle's environment and reacting to those objects. However, in order to control the vehicle safely, the vehicle's computing devices must be able to determine the speed at which to drive the vehicle. To do this, the computing devices may begin with an initial speed plan and adjust that speed plan based on various constraints in real time.
A speed plan may be determined for a predetermined period into the future. The speed plan may define how the vehicle varies its speed over the predetermined period of time. The speed plan may then be used to control the speed of the vehicle, for instance, by adjusting braking and acceleration inputs (i.e. pedals). By computing over the predetermined period of time, the changes in acceleration or “jerk” experienced by a passenger may be reduced.
To determine an initial speed plan, the vehicle's computing devices may first determine a route to a location to which the vehicle will be driven. The initial speed plan may be based on detailed map information defining the geometry of vehicle's expected environment including roadways as well as speed restrictions for those roadways. In addition, the initial speed plan may be based on speed restrictions for the vehicle, for instance, as autonomous vehicles may have speed limit requirements. The initial speed profile may thus be based on a fastest possible speed for the vehicle at various locations along the route for the predetermined period.
The initial speed plan may then be adjusted using a set of constraints. In other words, the fastest possible speed may be reduced in order to satisfy all of the constraints of the set of constraints. Because the process is iterative, satisfying the constraints may also include increasing the speed of the vehicle, presumably within the limits of the vehicle and legal speed limits. The resulting adjusted speed plan may then be used to control the speed of the vehicle.
In some instances, there may be no adjustment to the prior speed plan that will satisfy all of the constraints of the set of constraints. If this occurs, the computing devices may revert to comparing an expected result if the vehicle were to return to the fastest possible speed with an expected result if the vehicle were to come to a complete stop. If the fastest possible speed would allow the vehicle to continue safely, in other words, without coming too close to any other objects or their predicted trajectories (i.e. other vehicles, bicyclists or pedestrians), the prior speed plan may be adjusted back to the fastest possible speed. If not, the vehicle may be brought to a complete stop. In other words, the computing devices may compare the relative penetration between the route and the predicted trajectory of another vehicle and select the option which will cause the least amount of overlap.
As noted above, adjusting the speed plan may be an iterative process. In this regard, the prior speed plan may be used to determine a current speed plan. For instance, once the initial speed plan is adjusted based on an initial set of constraints, the adjust speed plan may thereafter be adjusted on an updated set of constraints using updated predicted trajectories and environmental conditions. In addition, the prior speed plan may be adjusted periodically.
The features described herein not only allow for safe operation of a vehicle, but can also achieve smoother speed transitions than typical methods. By computing over the predetermined period of time and iteratively changing the speed profile, the changes in acceleration or “jerk” experienced by a passenger may be reduced. This allows passengers to feel as if the vehicle is being controlled in a more natural, human-like way.
Example Systems
As shown in FIG. 1 , a vehicle 100 in accordance with one aspect of the disclosure includes various components. While certain aspects of the disclosure are particularly useful in connection with specific types of vehicles, the vehicle may be any type of vehicle including, but not limited to, cars, trucks, motorcycles, busses, recreational vehicles, etc. The vehicle may have one or more computing devices, such as computing devices 110 containing one or more processors 120, memory 130 and other components typically present in general purpose computing devices.
The memory 130 stores information accessible by the one or more processors 120, including instructions 132 and data 134 that may be executed or otherwise used by the processor 120. The memory 130 may be of any type capable of storing information accessible by the processor, including a computing device-readable medium, or other medium that stores data that may be read with the aid of an electronic device, such as a hard-drive, memory card, ROM, RAM, DVD or other optical disks, as well as other write-capable and read-only memories. Systems and methods may include different combinations of the foregoing, whereby different portions of the instructions and data are stored on different types of media.
The instructions 132 may be any set of instructions to be executed directly (such as machine code) or indirectly (such as scripts) by the processor. For example, the instructions may be stored as computing device code on the computing device-readable medium. In that regard, the terms “instructions” and “programs” may be used interchangeably herein. The instructions may be stored in object code format for direct processing by the processor, or in any other computing device language including scripts or collections of independent source code modules that are interpreted on demand or compiled in advance. Functions, methods and routines of the instructions are explained in more detail below.
The data 134 may be retrieved, stored or modified by processor 120 in accordance with the instructions 132. For instance, although the claimed subject matter is not limited by any particular data structure, the data may be stored in computing device registers, in a relational database as a table having a plurality of different fields and records, XML documents or flat files. The data may also be formatted in any computing device-readable format.
The one or more processor 120 may be any conventional processors, such as commercially available CPUs. Alternatively, the one or more processors may be a dedicated device such as an ASIC or other hardware-based processor. Although FIG. 1 functionally illustrates the processor, memory, and other elements of computing devices 110 as being within the same block, it will be understood by those of ordinary skill in the art that the processor, computing device, or memory may actually include multiple processors, computing devices, or memories that may or may not be stored within the same physical housing. For example, memory may be a hard drive or other storage media located in a housing different from that of computing devices 110. Accordingly, references to a processor or computing device will be understood to include references to a collection of processors or computing devices or memories that may or may not operate in parallel.
In one example, computing devices 110 may be an autonomous driving computing system incorporated into vehicle 100. The autonomous driving computing system may be capable of communicating with various components of the vehicle. For example, returning to FIG. 1 , computing devices 110 may be in communication with various systems of vehicle 100, such as deceleration system 160, acceleration system 162, steering system 164, signaling system 166, navigation system 168, positioning system 170, and perception system 172 in order to control the movement, speed, etc. of vehicle 100 in accordance with the instructions 132 of memory 130. Again, although these systems are shown as external to computing devices 110, in actuality, these systems may also be incorporated into computing devices 110, again as an autonomous driving computing system for controlling vehicle 100.
As an example, computing devices 110 may interact with deceleration system 160 and acceleration system 162 in order to control the speed of the vehicle. Similarly, steering system 164 may be used by computing devices 110 in order to control the direction of vehicle 100. For example, if vehicle 100 is configured for use on a road, such as a car or truck, the steering system may include components to control the angle of wheels to turn the vehicle. Signaling system 166 may be used by computing devices 110 in order to signal the vehicle's intent to other drivers or vehicles, for example, by lighting turn signals or brake lights when needed.
Although the map information is depicted herein as an image-based map, the map information need not be entirely image based (for example, raster). For example, the map information may include one or more roadgraphs or graph networks of information such as roads, lanes, intersections, and the connections between these features. Each feature may be stored as graph data and may be associated with information such as a geographic location and whether or not it is linked to other related features, for example, a stop sign may be linked to a road and an intersection, etc. In some examples, the associated data may include grid-based indices of a roadgraph to allow for efficient lookup of certain roadgraph features.
The positioning system 170 may also include other devices in communication with computing devices 110, such as an accelerometer, gyroscope or another direction/speed detection device to determine the direction and speed of the vehicle or changes thereto. By way of example only, an acceleration device may determine its pitch, yaw or roll (or changes thereto) relative to the direction of gravity or a plane perpendicular thereto. The device may also track increases or decreases in speed and the direction of such changes. The device's provision of location and orientation data as set forth herein may be provided automatically to the computing devices 110, other computing devices and combinations of the foregoing.
The perception system 172 also includes one or more components for detecting objects external to the vehicle such as other vehicles, obstacles in the roadway, traffic signals, signs, trees, etc. For example, the perception system 172 may include lasers, sonar, radar, cameras and/or any other detection devices that record data which may be processed by computing devices 110. In the case where the vehicle is a small passenger vehicle such as a car, the car may include a laser or other sensors mounted on the roof or other convenient location. For instance, a vehicle's perception system may use various sensors, such as LIDAR, sonar, radar, cameras, etc. to detect objects and their characteristics such as location, orientation, size, shape, type, direction and speed of movement, etc. The raw data from the sensors and/or the aforementioned characteristics can be quantified or arranged into a descriptive function or vector for processing by the computing devices 110. As discussed in further detail below, computing devices 110 may use the positioning system 170 to determine the vehicle's location and perception system 172 to detect and respond to objects when needed to reach the location safely.
Thus, the behavior-time models may be configured to generate a set of possible hypotheses for what a particular road user will do over a particular horizon or predetermined period of time (e.g. 10 seconds) and relative likelihoods for each hypothesis. These models may be trained using data about how an object observed at that location behaved in the past, intuition, etc., and may also be specifically designated for particular types of objects, such as vehicles, pedestrians, motorcycles, bicyclists, etc. The computing devices 110 can then reason about hypotheses that interact with the vehicle's trajectory and are of a sufficient likelihood to be worth considering.
The computing devices 110 may control the direction and speed of the vehicle by controlling various components. By way of example, computing devices 110 may navigate the vehicle to a destination location completely autonomously using data from the detailed map information and navigation system 168. In order to maneuver the vehicle, computing devices 110 may cause the vehicle to accelerate (e.g., by increasing fuel or other energy provided to the engine by acceleration system 162), decelerate (e.g., by decreasing the fuel supplied to the engine, changing gears, and/or by applying brakes by deceleration system 160), change direction (e.g., by turning the front or rear wheels of vehicle 100 by steering system 164), and signal such changes (e.g., by lighting turn signals of signaling system 166). Thus, the acceleration system 162 and deceleration system 160 may be a part of a drivetrain that includes various components between a power system 174 (for instance, a gas or electrican engine) of the vehicle and the wheels of the vehicle. Again, by controlling these systems, computing devices 110 may also control the drivetrain of the vehicle in order to maneuver the vehicle autonomously.
The one or more computing devices 110 of vehicle 100 may also receive or transfer information to and from other computing devices. FIGS. 4 and 5 are pictorial and functional diagrams, respectively, of an example system 400 that includes a plurality of computing devices 410, 420, 430, 440 and a storage system 450 connected via a network 460. System 400 also includes vehicle 100, and vehicle 100A which may be configured similarly to vehicle 100. Although only a few vehicles and computing devices are depicted for simplicity, a typical system may include significantly more.
As shown in FIG. 4 , each of computing devices 410, 420, 430, 440 may include one or more processors, memory, data and instructions. Such processors, memories, data and instructions may be configured similarly to one or more processors 120, memory 130, data 134, and instructions 132 of computing devices 110.
The network 460, and intervening nodes, may include various configurations and protocols including short range communication protocols such as Bluetooth, Bluetooth LE, the Internet, World Wide Web, intranets, virtual private networks, wide area networks, local networks, private networks using communication protocols proprietary to one or more companies, Ethernet, WiFi and HTTP, and various combinations of the foregoing. Such communication may be facilitated by any device capable of transmitting data to and from other computing devices, such as modems and wireless interfaces.
In one example, one or more computing devices 410 may include a server having a plurality of computing devices, e.g., a load balanced server farm, that exchange information with different nodes of a network for the purpose of receiving, processing and transmitting the data to and from other computing devices. For instance, one or more computing devices 410 may include one or more server computing devices that are capable of communicating with one or more computing devices 110 of vehicle 100 or a similar computing device of vehicle 100A as well as client computing devices 420, 430, 440 via the network 460. For example, vehicles 100 and 100A may be a part of a fleet of vehicles that can be dispatched by server computing devices to various locations. In this regard, the vehicles of the fleet may periodically send the server computing devices location information provided by the vehicle's respective positioning systems and the one or more server computing devices may track the locations of the vehicles.
In addition, server computing devices 410 may use network 460 to transmit and present information to a user, such as user 422, 432, 442 on a display, such as displays 424, 434, 444 of computing devices 420, 430, 440. In this regard, computing devices 420, 430, 440 may be considered client computing devices.
As shown in FIG. 5 , each client computing device 420, 430, 440 may be a personal computing device intended for use by a user 422, 432, 442, and have all of the components normally used in connection with a personal computing device including a one or more processors (e.g., a central processing unit (CPU)), memory (e.g., RAM and internal hard drives) storing data and instructions, a display such as displays 424, 434, 444 (e.g., a monitor having a screen, a touch-screen, a projector, a television, or other device that is operable to display information), and user input devices 426, 436, 446 (e.g., a mouse, keyboard, touch-screen or microphone). The client computing devices may also include a camera for recording video streams, speakers, a network interface device, and all of the components used for connecting these elements to one another.
Although the client computing devices 420, 430, and 440 may each comprise a full-sized personal computing device, they may alternatively comprise mobile computing devices capable of wirelessly exchanging data with a server over a network such as the Internet. By way of example only, client computing device 420 may be a mobile phone or a device such as a wireless-enabled PDA, a tablet PC, a wearable computing device or system, laptop, or a netbook that is capable of obtaining information via the Internet or other networks. In another example, client computing device 430 may be a wearable computing device, such as a “smart watch” as shown in FIG. 4 . As an example the user may input information using a keyboard, a keypad, a multi-function input button, a microphone, visual signals (for instance, hand or other gestures) with a camera or other sensors, a touch screen, etc.
In some examples, client computing device 440 may be concierge work station used by an administrator to provide concierge services to users such as users 422 and 432. For example, user 442 may be a concierge that uses concierge work station 440 to communicate via a telephone call or audio connection with users through their respective client computing devices or vehicles 100 or 100A in order to ensure the safe operation of vehicles 100 and 100A and the safety of the users as described in further detail below. Although only a single concierge work station 440 is shown in FIGS. 4 and 5 , any number of such work stations may be included in a typical system.
As with memory 130, storage system 450 can be of any type of computerized storage capable of storing information accessible by the server computing devices 410, such as a hard-drive, memory card, ROM, RAM, DVD, CD-ROM, write-capable, and read-only memories. In addition, storage system 450 may include a distributed storage system where data is stored on a plurality of different storage devices which may be physically located at the same or different geographic locations. Storage system 450 may be connected to the computing devices via the network 460 as shown in FIG. 4 and/or may be directly connected to or incorporated into any of the computing devices 110, 410, 420, 430, 440, etc.
Example Methods
In addition to the operations described above and illustrated in the figures, various operations will now be described. It should be understood that the following operations do not have to be performed in the precise order described below. Rather, various steps can be handled in a different order or simultaneously, and steps may also be added or omitted.
In one aspect, a user may download an application for requesting a vehicle to a client computing device. For example, users 422 and 432 may download the application via a link in an email, directly from a website, or an application store to client computing devices 420 and 430. For example, client computing device may transmit a request for the application over the network, for example, to one or more server computing devices 410, and in response, receive the application. The application may be installed locally at the client computing device.
The user may then use his or her client computing device to access the application and request a vehicle. As an example, a user such as user 432 may use client computing device 430 to send a request to one or more server computing devices 410 for a vehicle. The request may include information identifying a pickup location or area and/or a destination location or area. In response the one or more server computing devices 410 may identify and dispatch, for example based on availability and location, a vehicle to the pickup location. This dispatching may involve sending information to the vehicle identifying the user (and/or the user's client device) in order to assign the vehicle to the user (and/or the user's client computing device), the pickup location, and the destination location or area.
Once the vehicle 100 receives the information dispatching the vehicle, the vehicle's one or more computing devices 110 may maneuver the vehicle to the pickup location using the various features described above. Once the user, now passenger, is safely in the vehicle, the computing devices 110 may initiate the necessary systems to control the vehicle autonomously along a route to the destination location. For instance, the navigation system 168 may use the map information of data 134 to determine a path or route to the destination location that follows a set of connected rails of map information 200. The computing devices 110 may then maneuver the vehicle autonomously (or in an autonomous driving mode) as described above along the route towards the destination.
For instance, FIG. 6 depicts vehicle 100 being maneuvered on a section of roadway 600 including intersections 602 and 604. In this example, intersections 602 and 604 correspond to intersections 202 and 204 of the map information 200, respectively. In this example, lane lines 610, 612, and 614 correspond to the shape, location, and other characteristics of lane lines 210, 212, and 214, respectively. Similarly, crosswalk 630 corresponds to the shape, location, and other characteristics of crosswalk 230, respectively; sidewalks 640 correspond to sidewalks 240; traffic signal lights 620, 622 correspond to traffic signal lights 220, 222, respectively; stop signs 650, 652 correspond to stop signs 250, 252, respectively; and yield sign 660 corresponds to yield sign 260. In this example, the computing devices 110 have used map information 200 to determine a route 670 for vehicle 100 to follow in order to reach a destination (not shown).
In order to control the vehicle safely, the computing devices 110 may generate an initial speed plan. A speed plan may be determined for a predetermined period into the future, such as 15 seconds or more or less. The speed plan may define how the vehicle varies its speed (accelerates, decelerates, continues) over the predetermined period of time. For instance, the speed of a vehicle may remain continuous for the 15 seconds or accelerate/decelerate for at least some portion of the 15 seconds. The speed plan may then be used to control the speed of the vehicle, for instance, by adjusting braking and acceleration inputs (i.e. pedals). By computing over the predetermined period of time, the changes in acceleration or “jerk” experienced by a passenger may be reduced.
To determine an initial speed plan, the vehicle's computing devices may first determine the route to the location to which the vehicle will be driven. This location may be, for instance, a destination location selected by a passenger or designated by an operator for cargo. The initial speed plan may be based on the detailed map information defining the geometry of vehicle's expected environment as the vehicle maneuvers along the route.
In addition, the initial speed plan may be based on speed restrictions for the vehicle, for instance, as autonomous vehicles may have physical speed limits (i.e. only so much power can be generated by the power system 174) and/or legal speed limit requirements (i.e. the vehicle must be driven at, no faster than, or below 25 miles per hour, etc.). In one example, the initial speed plan may thus be based on a fastest possible speed for the vehicle at various locations along the route for the predetermined period. For instance, returning to FIG. 6 , the initial speed plan for vehicle 100 may include maneuvering along portion 672 (the solid portion of route 670) of route 670 at 25 miles per hour (the legal speed requirement for vehicle 100) for the next 15 seconds.
The initial speed plan may then be adjusted using a set of constraints. In other words, the fastest possible speed may be reduced in order to satisfy all of the constraints of the set of constraints. The adjusted initial speed plan may thereafter be adjusted based on a new set of constraints such that the process is iterative. In this regard, a prior speed plan may be used to determine a current speed plan (or next speed plan as the case may be). For instance, once the initial speed plan is adjusted based on an initial set of constraints, the adjust speed plan may thereafter be adjusted on an updated set of constraints using updated predicted trajectories and environmental conditions. In addition, the prior speed plan may be adjusted periodically, for instance every 0.1 second ( 1/10 second) or more or less.
Because the process is iterative, satisfying the constraints may also include increasing the speed of the vehicle, presumably within the physical limits of the vehicle (i.e. the acceleration system 162, deceleration system 160, and or power system 174) and legal speed limits. However, in most cases, the constraints may cause the vehicle to be slowed down. The resulting adjusted speed plan may then be used by the computing devices 110 to control the speed of the vehicle 100.
In one example, a constraint of the set of constraints may be based on the predicted trajectories of other objects detected in the vehicle's environment. For instance, when an object is detected, its speed, orientation, type, and other characteristics may be used to generate a prediction of where that object is likely to travel for a brief period of time into the future. Where that predicted trajectory crosses and/or comes within a predetermined distance of the route at some particular point in time, the predicted trajectory may be used to generate a constraint to avoid a particular location at a particular point in time.
As noted above, as the vehicle is being maneuvered by the computing device 110, the perception system 172 may provide the computing devices with information about objects, including other road users, detected in the vehicle's environment. For instance, FIG. 6 depicts vehicle 100 approaching intersection 604 in order to make a left turn. The perception system 172 may provide the computing device 110 with information about vehicle 601 such as its type, location, heading, velocity, etc.
The raw data and/or characteristics of objects received from the perception system may be used with contextual information as input to a behavior-time model of data 134 to make a prediction about what other objects are going to do for the predetermined period of time. For instance, information such as the object's type, location, recent motion heading, acceleration, and velocity may be combined with other information such as where the object is in the world using the detailed map information discussed above may be used as input to a behavior-time model. The contextual information may include the status of other objects in the environment, such as the states of traffic lights. In addition, features of other objects (such as vehicles) that might be crossing the objects' path may also be used as input to the model.
As noted above, the behavior-time model may provide a set of hypotheses each having an associated likelihood value. As an example, one or more of those hypotheses with the highest likelihoods (or those above a particular threshold such that a given hypothesis is considered to have a reasonable likelihood of occurrence) may be identified as an actual future trajectory or behavior prediction for the object over the predetermined period of time. For instance, the vehicle's computing devices may use a behavior-time model to generate a prediction of what an object will do during the next predetermined period of time (e.g. 10 seconds) or a time period corresponding to how long the vehicle 100 is likely to interact with the object (e.g. until the object is well behind the autonomous vehicle). Returning to FIG. 6 , the computing devices 110 may predict that vehicle 601 is going to continue move towards and pass through intersection 604 according to trajectory 603.
According to the predicted trajectory, the route and trajectory are expected to intersect at point 680. As such, a constraint may be generated for vehicle 100 to avoid the point 680, at the point in time when vehicle 601 (or any portion of vehicle) is expected to overlap with point 680. Thus, the initial speed plan (or prior speed plan) may be adjusted such that the vehicle 100 is able to satisfy the constraint as well as any other constraints within the set of constraints. In other words, this constraint may cause vehicle 100 to adjust the initial speed plan (or prior speed plan), for instance in order to cause vehicle 100 to slow down or alternatively maintain its speed in order to avoid point 680 during the point in time at which trajectory 603 of vehicle 601 (or any portion of vehicle 601) is expected to overlap with point 680.
As another example, a constraint may be that at the particular point in time when the predicted trajectory crosses or comes within a predetermined distance of the route, the vehicle must come no closer than some distance from the object. Returning to FIG. 6 , another constraint may be generated that prevents or limits vehicle from entering an area that is proximate to point 680 corresponding to area 690 that is within a predetermined distance, such as 3 meters or more or less, of point 680, during the period of time during which the trajectory 603 of vehicle 601 (or any portion of vehicle 601) is expected to overlap with area 690. Again, the initial speed profile may be adjusted such that the vehicle 100 is able to satisfy this constraint as well as any other constraints within the set of constraints. In other words, this constraint may cause vehicle 100 to adjust the initial speed plan (or prior speed plan), for instance in order to cause vehicle 100 to slow down or alternatively maintain its speed in order to avoid area 690 during the period of time during which the trajectory 603 of vehicle 601 (or any portion of vehicle 601) is expected to overlap with area 690.
In another example, where the vehicle is to make a left turn at an intersection, a constraint may be generated that requires the vehicle to yield to oncoming traffic or rather to not be in the lane of the oncoming traffic when that oncoming traffic is close to or crossing the route. In this regard, referring to FIG. 6 , a constraint may be generated that limits vehicle from entering area 690 until vehicle 601 has completely cleared area 690, thereby yielding to vehicle 601. Again, the initial speed profile may be adjusted such that the vehicle 100 is able to satisfy this constraint as well as any other constraints within the set of constraints. In other words, this constraint may cause vehicle 100 to generate a speed plan for vehicle 100 to slow down and yield to vehicle 601.
As another example, a constraint may be that the vehicle must pass the other object by a certain point on the route and if not, the vehicle must not pass the other object, for instance, prior to reaching an exit ramp or to making a turn. For example, a vehicle may need to change from a first lane to a second lane in order to reach an exit ramp or make a turn. If another object is expected to be located within the second lane according to the predicted trajectory for that object, a constraint may be generated that the vehicle must pass the object within a predetermined distance, such as 50 or 100 meters or more or less, from the exit ramp or where the turn needs to be made. The predetermined distance may be selected based upon the current speed of the vehicle and/or the other object.
In addition or alternatively, the proximity of the vehicle to other moving or potentially moving objects may be used to generate constraints. For example, the vehicle may be restricted from traveling too fast next to other objects such as other vehicles, bicyclists, motorcycles, or pedestrians whether stopped (parked) or moving. If the other object is moving, such as where the vehicle is passing another object (such as other vehicles, bicyclists, motorcycles, or pedestrians) in an adjacent lane (or on the side of the lane in which the vehicle is currently traveling), a constraint may limit the speed of the vehicle to the speed of the other object plus some fixed number or percentage of the speed. In some examples, that fixed number could change depending on the speed of the other object and the lateral gap between the vehicle and the other object.
In yet other examples, constraints may be generated based on environmental conditions. For instance, a state of a traffic light signal may be used to generate a constraint for the vehicle. In this regard, a vehicle's location relative to a traffic light signal which is red or yellow may be used to generate a constraint that the vehicle must stop prior to an intersection. Again, this constraint may be used to adjust the initial speed plan (or prior speed plan). In some examples, it may be useful for the computing devices to “remember” environmental conditions, even where they do not persist into the next iteration. For instance, if a bicyclist makes a hand signal for a turn, even though the hand signal does not persist, it is important for the computing devices to consider this signal for generating constraints for future iterations. In this regard, such a signal may continue to be used to generate constraints for the next few seconds, for instance 3 seconds or more or less.
Still other constraints may be generated based on expected “comfort” of passengers within the vehicle. For instance, the constraints may include the hard physical limits to fore/aft and lateral deceleration and acceleration values of the vehicle which correspond to mechanical limit of the vehicle (i.e. how hard the brakes or accelerator can be applied by the deceleration system 160 or acceleration system 162 at any given time). However, because these physical limits can be uncomfortable to the passengers (causing the jerk described above), constraints may include “soft limits” which correspond to fore/aft and lateral deceleration and/or acceleration limits for the vehicle which correlate to a more comfortable experience for a passenger. Because these soft limits constraints are based in comfort, they may be treated differently than other constraints in that the computing devices may be able to violate such soft limits constraints when necessary, such as to avoid a collision or other dangerous situation.
As another constraint, a constraint may relate to the absolute minimum distance to another object to ensure the safety of the passenger, such as a headway distance (from the front of the vehicle to the object), a tailing distance (from the rear of the vehicle to the object), or lateral gap (lateral distance between the vehicle and the object). Again, because these physical limits, while still considered safe for the passenger, can be uncomfortable to passengers, additional soft limits constraints may include greater distance limits for the above than actually required for safety. In that regard, these soft limits constraints may also relate to the comfort or discomfort of pedestrians, bicyclists, motorcyclists, and passengers other vehicles as well as passengers of vehicle 100, and may be violated when necessary, such as to avoid a collision or other dangerous situation.
Other constraints may relate to how other objects are likely to respond to the speed or speed changes of the vehicle. For instance, additional soft limits constraints may correspond to fore/aft and lateral deceleration and/or acceleration limits for other objects, or really, other road users. This may correlate to a more comfortable experience for those other objects (or passengers within a vehicle if the object is a vehicle). In this regard, the speed plan of the vehicle would be constrained by a limit on the amount of deceleration and/or acceleration that the speed plan would require of other vehicles in order to satisfy all of the constraints of the set of constraints. Still further, such constraints may vary based upon whether the vehicle is within the field of view of that other object. In this regard, constraints corresponding to acceptable fore/aft and lateral deceleration and acceleration values of another object may be even lower where the vehicle is not within a field of view of that other object or in other words, is not within some angle range such as 50 degrees or more or less from the heading of the other object. Again, because these soft limits constraints are based in comfort, they may be treated differently than other constraints in that the computing devices may be able to violate such soft limits constraints when necessary, such as to avoid a collision or other dangerous situation.
As noted above, the constraints may cause the computing devices to adjust the initial speed plan (or prior speed plan). As an example, the initial speed plan (or prior speed plan) may be adjusted by iteratively decelerating and/or accelerating 1 mile per hour over the period of time for the initial speed plan (or prior speed plan) and determining whether all of the constraints of the set of constraints are satisfied. Once all of the constraints are satisfied, the adjusted speed plan may be used by the computing devices 110 to control the vehicle 100.
In some instances, there may be no adjustment to the prior speed plan that will satisfy all of the constraints of the set of constraints. If this occurs, the computing devices may revert to comparing an expected result if the vehicle were to return to the fastest possible speed with an expected result if the vehicle were to come to a complete stop. If the fastest possible speed would allow the vehicle to continue safely, in other words, without coming too close to any other objects or their predicted trajectories (i.e. other vehicles, bicyclists or pedestrians), the prior speed plan may be adjusted back to the fastest possible speed. If not, the vehicle may be brought to a complete stop. In other words, the computing devices may compare the relative penetration between the route and the predicted trajectory of another vehicle and select the option which will cause the least amount of overlap.
Unless otherwise stated, the foregoing alternative examples are not mutually exclusive, but may be implemented in various combinations to achieve unique advantages. As these and other variations and combinations of the features discussed above can be utilized without departing from the subject matter defined by the claims, the foregoing description of the embodiments should be taken by way of illustration rather than by way of limitation of the subject matter defined by the claims. In addition, the provision of the examples described herein, as well as clauses phrased as “such as,” “including” and the like, should not be interpreted as limiting the subject matter of the claims to the specific examples; rather, the examples are intended to illustrate only one of many possible embodiments. Further, the same reference numbers in different drawings can identify the same or similar elements.
Claims (21)
1. A method of maneuvering a vehicle in an autonomous driving mode, the method comprising:
identifying, by one or more processors, an initial speed plan for controlling a speed of the vehicle for a predetermined period of time in the future according to a route along which the vehicle will be driven;
receiving by the one or more processors, from a perception system of the vehicle, sensor data from an environment around the vehicle;
identifying, by the one or more processors based on the received sensor data, an object in the environment and one or more characteristics of the object;
evaluating, by the one or more processors, the one or more characteristics of the object according to a behavior-time model, the behavior-time model providing (i) a set of predictions for how the object could behave for at least a portion of the predetermined period of time, and (ii) a corresponding likelihood value for each prediction of the set of predictions;
predicting, by the one or more processors, a set of trajectories for the object based on the evaluating of the one or more characteristics;
generating, by the one or more processors, a set of constraints for vehicle operation based on the predicted set of trajectories and a driving scenario;
adjusting, by the one or more processors, the initial speed plan in order to satisfy the set of constraints; and
maneuvering, by the one or more processors, the vehicle in the autonomous driving mode according to the adjusted speed plan;
wherein adjusting the initial speed plan in order to satisfy the set of constraints includes iteratively modifying the speed of the vehicle by a specific amount over at least part of the predetermined period of time to determine whether all of the constraints in the set are satisfied.
2. The method of claim 1 , wherein the driving scenario includes that the vehicle is to make a turn at an intersection.
3. The method of claim 2 , wherein the set of constraints includes at least one of the vehicle yielding to oncoming traffic or the vehicle not being in a particular lane when there is oncoming traffic.
4. The method of claim 1 , wherein the driving scenario includes that the vehicle is to pass the object by a certain point on the route along which the vehicle will be driven.
5. The method of claim 4 , wherein the certain paint along the route is based on an exit ramp or a turning point along the route.
6. The method of claim 1 , wherein the driving scenario includes a proximity of the vehicle to the object while driving along the route.
7. The method of claim 6 , wherein the set of constraints includes a relative speed limit between a speed of the vehicle to a speed of the object.
8. The method of claim 7 , wherein the relative speed limit is variable based on a lateral gap between the vehicle and the object.
9. The method of claim 1 , wherein the set of constraints includes a constraint based on a state of a traffic signal.
10. The method of claim 9 , wherein the constraint based on the state of the traffic signal indicates whether the vehicle is to stop prior to an intersection.
11. The method of claim 1 , wherein predicting the set of trajectories for the object includes generating a set of possible hypotheses for what the object will do over at least a portion of the predetermined period of time.
12. The method of claim 1 , wherein the behavior-time model is part of a set of behavior-time models, each behavior-time model of the set being designated for a particular type of object.
13. The method of claim 1 , wherein:
the set of constraints include a first constraint and a second constraint, the first constraint having a hard limit and the second constraint having a soft limit; and
adjusting the initial speed plan in order to satisfy the set of constraints includes ensuring that the hard limit of the first constraint is not violated.
14. The method of claim 13 , wherein adjusting the initial speed plan further includes violating the soft limit of the second constraint in order to avoid a dangerous situation.
15. The method of claim 1 , wherein the set of constraints further includes another constraint having a soft limit based on comfort of a road user external to the vehicle.
16. A system for maneuvering a vehicle in autonomous driving mode, the system comprising one or more processors configured to:
identify an initial speed plan for controlling a speed of the vehicle for a predetermined period of time in the future according to a route along which the vehicle will be driven;
receive, from a perception system of the vehicle, sensor data from an environment around the vehicle;
identify, based on the received sensor data, an object in the environment and one or more characteristics of the object;
evaluate the one or more characteristics of the object according to a behavior-time model, the behavior-time model providing (i) a set of predictions for how the object could behave for at least a portion of the predetermined period of time, and (ii) a corresponding likelihood value for each prediction of the set of predictions;
predict a set of trajectories for the object based on the evaluating of the one or more characteristics;
generate a set of constraints for vehicle operation based on the predicted set of trajectories and a driving scenario;
adjust the initial speed plan in order to satisfy the set of constraints; and
maneuver the vehicle in the autonomous driving mode according to the adjusted speed plan
wherein adjustment of the initial speed plan in order to satisfy the set of constraints includes iterative modification of the speed of the vehicle by a specific amount over at least part of the predetermined period of time to determine whether all of the constraints in the set are satisfied.
17. The system of claim 16 , wherein the driving scenario includes that the vehicle is to make a turn at an intersection.
18. The system of claim 16 , wherein the driving scenario includes that the vehicle is to pass the object by a certain point on the route along which the vehicle will be driven.
19. The system of claim 16 , wherein the driving scenario includes a proximity of the vehicle to the object while driving along the route.
20. The system of claim 16 , wherein the behavior-time model is part of a set of behavior-time models, each behavior-time model of the set being designated for a particular type of object.
21. A non-transitory computer readable medium on which instructions are stored, the instructions when executed by one or more processors, cause the one or more processors to perform a method of controlling a vehicle in an autonomous driving mode, the method comprising:
identifying an initial speed plan for controlling a speed of the vehicle for a predetermined period of time in the future according to a route along which the vehicle will be driven;
receiving, from a perception system of the vehicle, sensor data from an environment around the vehicle;
identifying, based on the received sensor data, an object in the environment and one or more characteristics of the object;
evaluating the one or more characteristics of the object according to a behavior-time model, the behavior-time model providing (i) a set of predictions for how the object could behave for at least a portion of the predetermined period of time, and (ii) a corresponding likelihood value for each prediction of the set of predictions;
predicting a set of trajectories for the object based on the evaluating of the one or more characteristics;
generating a set of constraints for vehicle operation based on the predicted set of trajectories and a driving scenario;
adjusting the initial speed plan in order to satisfy the set of constraints; and
maneuvering the vehicle in the autonomous driving mode according to the adjusted speed plan;
wherein adjusting the initial speed plan in order to satisfy the set of constraints includes iteratively modifying the speed of the vehicle by a specific amount over at least part of the predetermined period of time to determine whether all of the constraints in the set are satisfied.
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US16/831,980 US11608060B1 (en) | 2016-09-07 | 2020-03-27 | Speed planning for autonomous vehicles |
Applications Claiming Priority (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US15/258,324 US10640111B1 (en) | 2016-09-07 | 2016-09-07 | Speed planning for autonomous vehicles |
US16/831,980 US11608060B1 (en) | 2016-09-07 | 2020-03-27 | Speed planning for autonomous vehicles |
Related Parent Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US15/258,324 Continuation US10640111B1 (en) | 2016-09-07 | 2016-09-07 | Speed planning for autonomous vehicles |
Publications (1)
Publication Number | Publication Date |
---|---|
US11608060B1 true US11608060B1 (en) | 2023-03-21 |
Family
ID=70461465
Family Applications (2)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US15/258,324 Active 2036-11-09 US10640111B1 (en) | 2016-09-07 | 2016-09-07 | Speed planning for autonomous vehicles |
US16/831,980 Active 2037-01-02 US11608060B1 (en) | 2016-09-07 | 2020-03-27 | Speed planning for autonomous vehicles |
Family Applications Before (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US15/258,324 Active 2036-11-09 US10640111B1 (en) | 2016-09-07 | 2016-09-07 | Speed planning for autonomous vehicles |
Country Status (1)
Country | Link |
---|---|
US (2) | US10640111B1 (en) |
Cited By (1)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20230001925A1 (en) * | 2021-06-30 | 2023-01-05 | Robert Bosch Gmbh | Method for controlling an approach of a vehicle, distance controller, computer program, and memory unit |
Families Citing this family (13)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US10996679B2 (en) * | 2018-04-17 | 2021-05-04 | Baidu Usa Llc | Method to evaluate trajectory candidates for autonomous driving vehicles (ADVs) |
US10860025B2 (en) * | 2018-05-15 | 2020-12-08 | Toyota Research Institute, Inc. | Modeling graph of interactions between agents |
US11520331B2 (en) * | 2018-12-28 | 2022-12-06 | Intel Corporation | Methods and apparatus to update autonomous vehicle perspectives |
US11353870B2 (en) * | 2018-12-31 | 2022-06-07 | Baidu Usa Llc | Autonomous driving computing and storage expansion device with flexible host and client configuration |
JP7093738B2 (en) * | 2019-03-08 | 2022-06-30 | 本田技研工業株式会社 | Vehicle control unit |
US11572079B2 (en) * | 2019-04-25 | 2023-02-07 | WeRide Corp. | Apparatus and method for controlling velocity of autonomous driving vehicle, and storage medium |
US11643073B2 (en) * | 2019-10-24 | 2023-05-09 | Zoox, Inc. | Trajectory modifications based on a collision zone |
US11420630B2 (en) | 2019-10-24 | 2022-08-23 | Zoox, Inc. | Trajectory modifications based on a collision zone |
KR20220032912A (en) * | 2020-09-08 | 2022-03-15 | 현대모비스 주식회사 | Apparatus for controlling driving of a vehicle and method thereof |
US11841704B2 (en) * | 2020-11-04 | 2023-12-12 | Waymo Llc | Behavior prediction for railway agents for autonomous driving system |
CN114572240B (en) * | 2020-11-30 | 2023-11-14 | 北京百度网讯科技有限公司 | Vehicle running control method, device, vehicle, electronic device and storage medium |
CN113619594B (en) * | 2021-08-27 | 2023-11-28 | 中国第一汽车股份有限公司 | Method, device, equipment and medium for determining driving mode of vehicle |
CN113715845A (en) * | 2021-09-07 | 2021-11-30 | 北京百度网讯科技有限公司 | Automatic driving method and device and electronic equipment |
Citations (48)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20040030499A1 (en) | 2001-07-11 | 2004-02-12 | Michael Knoop | Method and device for initiating and executing a deceleration of a vehicle |
US20060273922A1 (en) | 2005-06-06 | 2006-12-07 | International Business Machines Corporation | Method, system, and computer program product for determining and reporting tailgating incidents |
US20090319112A1 (en) * | 2007-09-28 | 2009-12-24 | Honeywell International Inc. | Automatic planning and regulation of the speed of autonomous vehicles |
US20100106356A1 (en) | 2008-10-24 | 2010-04-29 | The Gray Insurance Company | Control and systems for autonomously driven vehicles |
US20100204896A1 (en) | 2009-02-06 | 2010-08-12 | Gm Global Technology Operations, Inc. | Cruise control systems and methods with adaptive speed adjustment rates |
US20100312434A1 (en) | 2007-02-22 | 2010-12-09 | Pieter Jan Schutyser | Vehicle driving assistance |
US20110184605A1 (en) | 2006-11-29 | 2011-07-28 | Neff Ryan A | Driverless vehicle |
US20120218093A1 (en) | 2009-10-30 | 2012-08-30 | Toyota Jidosha Kabushiki Kaisha | Driving support device |
US8473144B1 (en) * | 2012-10-30 | 2013-06-25 | Google Inc. | Controlling vehicle lateral lane positioning |
US20130197758A1 (en) | 2012-01-27 | 2013-08-01 | Denso Corporation | Vehicle automatic steering control apparatus |
US8676466B2 (en) | 2009-04-06 | 2014-03-18 | GM Global Technology Operations LLC | Fail-safe speed profiles for cooperative autonomous vehicles |
US8712663B1 (en) | 2012-10-31 | 2014-04-29 | GM Global Technology Operations LLC | Systems and methods for vehicle cruise control |
US8781669B1 (en) * | 2012-05-14 | 2014-07-15 | Google Inc. | Consideration of risks in active sensing for an autonomous vehicle |
US8788134B1 (en) | 2013-01-04 | 2014-07-22 | GM Global Technology Operations LLC | Autonomous driving merge management system |
US8930058B1 (en) | 2008-10-20 | 2015-01-06 | The United States Of America As Represented By The Secretary Of The Navy | System and method for controlling a vehicle traveling along a path |
US9014905B1 (en) | 2014-01-28 | 2015-04-21 | Google Inc. | Cyclist hand signal detection by an autonomous vehicle |
US20150224845A1 (en) | 2013-03-15 | 2015-08-13 | Levant Power Corporation | Active vehicle suspension system |
US20150291216A1 (en) | 2012-11-29 | 2015-10-15 | Toyota Jidosha Kabushiki Kaisha | Drive assist device, and drive assist method |
US20150346723A1 (en) | 2014-05-30 | 2015-12-03 | Nissan North America, Inc. | Vehicle trajectory planning for autonomous vehicles |
US20160023656A1 (en) | 2014-07-24 | 2016-01-28 | Toyota Jidosha Kabushiki Kaisha | Vehicle travelling control device |
US9248834B1 (en) | 2014-10-02 | 2016-02-02 | Google Inc. | Predicting trajectories of objects based on contextual information |
US9254846B2 (en) | 2013-05-03 | 2016-02-09 | Google Inc. | Predictive reasoning for controlling speed of a vehicle |
US20160200317A1 (en) | 2013-08-20 | 2016-07-14 | Audi Ag | Device and method for controlling a motor vehicle |
US20160288788A1 (en) * | 2015-03-31 | 2016-10-06 | Toyota Motor Engineering & Manufacturing North America, Inc. | Gap-based speed control for automated driving system |
US20160318513A1 (en) | 2015-04-30 | 2016-11-03 | GM Global Technology Operations LLC | Real-time anticipatory speed control |
US9494439B1 (en) | 2015-05-13 | 2016-11-15 | Uber Technologies, Inc. | Autonomous vehicle operated with guide assistance of human driven vehicles |
US20170010618A1 (en) * | 2015-02-10 | 2017-01-12 | Mobileye Vision Technologies Ltd. | Self-aware system for adaptive navigation |
US20170039855A1 (en) | 2015-08-07 | 2017-02-09 | Hitachi, Ltd. | Vehicle Drive Control Apparatus and Speed Control Method |
US20170090478A1 (en) | 2015-09-30 | 2017-03-30 | Ants Technology (Hk) Limited. | Systems and Methods for Autonomous Vehicle Navigation |
US20170113686A1 (en) | 2014-04-09 | 2017-04-27 | Hitachi Automotive Systems, Ltd. | Traveling control device, on-vehicle display device, and traveling control system |
US20170120902A1 (en) | 2015-11-04 | 2017-05-04 | Zoox, Inc. | Resilient safety system for a robotic vehicle |
US20170131719A1 (en) * | 2015-11-05 | 2017-05-11 | Ford Global Technologies, Llc | Autonomous Driving At Intersections Based On Perception Data |
US20170136842A1 (en) | 2015-06-03 | 2017-05-18 | Levant Power Corporation | Methods and systems for controlling vehicle body motion and occupant experience |
WO2017087199A1 (en) | 2015-11-19 | 2017-05-26 | Amazon Technologies, Inc. | Lane assignments for autonomous vehicles |
US20170329332A1 (en) | 2016-05-10 | 2017-11-16 | Uber Technologies, Inc. | Control system to adjust operation of an autonomous vehicle based on a probability of interference by a dynamic object |
US20180004211A1 (en) | 2016-06-30 | 2018-01-04 | GM Global Technology Operations LLC | Systems for autonomous vehicle route selection and execution |
US20180032082A1 (en) * | 2016-01-05 | 2018-02-01 | Mobileye Vision Technologies Ltd. | Machine learning navigational engine with imposed constraints |
US20180032079A1 (en) * | 2015-02-12 | 2018-02-01 | Hitachi, Ltd. | Autonomous operation verification device and autonomous system |
US20180141568A1 (en) | 2016-11-21 | 2018-05-24 | Nio Usa, Inc. | Vehicle autonomy level selection based on user context |
US20180162409A1 (en) | 2016-12-12 | 2018-06-14 | Hitachi, Ltd. | Driving Assistance Apparatus with Human Machine Interface System |
US20180197415A1 (en) | 2017-01-11 | 2018-07-12 | Suzuki Motor Corporation | Driving assistance device |
US20180326980A1 (en) | 2017-05-12 | 2018-11-15 | Valeo Interior Controls (Shenzhen) Co., Ltd | Method and a vehicle control system for controlling an autonomous vehicle |
US20190025067A1 (en) | 2017-07-19 | 2019-01-24 | Volkswagen Aktiengesellschaft | Method for determining a trajectory for an autonomously-driven transportation vehicle, control device, and transportation vehicle |
US20190056743A1 (en) | 2016-02-25 | 2019-02-21 | NEC Laboratories Europe GmbH | Method for motion planning for autonomous moving objects |
US20190064813A1 (en) | 2017-08-29 | 2019-02-28 | Uber Technologies, Inc. | Systems and Methods of Controlling an Autonomous Vehicle Using an Enhanced Trajectory Following Configuration |
US20190072973A1 (en) | 2017-09-07 | 2019-03-07 | TuSimple | Data-driven prediction-based system and method for trajectory planning of autonomous vehicles |
US20190291726A1 (en) | 2018-03-20 | 2019-09-26 | Mobileye Vision Technologies Ltd. | Systems and methods for navigating a vehicle |
US10627825B2 (en) | 2017-11-22 | 2020-04-21 | Waymo Llc | Using discomfort for speed planning in autonomous vehicles |
-
2016
- 2016-09-07 US US15/258,324 patent/US10640111B1/en active Active
-
2020
- 2020-03-27 US US16/831,980 patent/US11608060B1/en active Active
Patent Citations (51)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20040030499A1 (en) | 2001-07-11 | 2004-02-12 | Michael Knoop | Method and device for initiating and executing a deceleration of a vehicle |
US20060273922A1 (en) | 2005-06-06 | 2006-12-07 | International Business Machines Corporation | Method, system, and computer program product for determining and reporting tailgating incidents |
US20110184605A1 (en) | 2006-11-29 | 2011-07-28 | Neff Ryan A | Driverless vehicle |
US20100312434A1 (en) | 2007-02-22 | 2010-12-09 | Pieter Jan Schutyser | Vehicle driving assistance |
US20090319112A1 (en) * | 2007-09-28 | 2009-12-24 | Honeywell International Inc. | Automatic planning and regulation of the speed of autonomous vehicles |
US8930058B1 (en) | 2008-10-20 | 2015-01-06 | The United States Of America As Represented By The Secretary Of The Navy | System and method for controlling a vehicle traveling along a path |
US20100106356A1 (en) | 2008-10-24 | 2010-04-29 | The Gray Insurance Company | Control and systems for autonomously driven vehicles |
US8412449B2 (en) | 2008-10-24 | 2013-04-02 | Gray & Company, Inc. | Control and systems for autonomously driven vehicles |
US20100204896A1 (en) | 2009-02-06 | 2010-08-12 | Gm Global Technology Operations, Inc. | Cruise control systems and methods with adaptive speed adjustment rates |
US8676466B2 (en) | 2009-04-06 | 2014-03-18 | GM Global Technology Operations LLC | Fail-safe speed profiles for cooperative autonomous vehicles |
US20120218093A1 (en) | 2009-10-30 | 2012-08-30 | Toyota Jidosha Kabushiki Kaisha | Driving support device |
US20130197758A1 (en) | 2012-01-27 | 2013-08-01 | Denso Corporation | Vehicle automatic steering control apparatus |
US8781669B1 (en) * | 2012-05-14 | 2014-07-15 | Google Inc. | Consideration of risks in active sensing for an autonomous vehicle |
US8473144B1 (en) * | 2012-10-30 | 2013-06-25 | Google Inc. | Controlling vehicle lateral lane positioning |
US8712663B1 (en) | 2012-10-31 | 2014-04-29 | GM Global Technology Operations LLC | Systems and methods for vehicle cruise control |
US20150291216A1 (en) | 2012-11-29 | 2015-10-15 | Toyota Jidosha Kabushiki Kaisha | Drive assist device, and drive assist method |
US8788134B1 (en) | 2013-01-04 | 2014-07-22 | GM Global Technology Operations LLC | Autonomous driving merge management system |
US20150224845A1 (en) | 2013-03-15 | 2015-08-13 | Levant Power Corporation | Active vehicle suspension system |
US9254846B2 (en) | 2013-05-03 | 2016-02-09 | Google Inc. | Predictive reasoning for controlling speed of a vehicle |
US20160200317A1 (en) | 2013-08-20 | 2016-07-14 | Audi Ag | Device and method for controlling a motor vehicle |
US9014905B1 (en) | 2014-01-28 | 2015-04-21 | Google Inc. | Cyclist hand signal detection by an autonomous vehicle |
US20170113686A1 (en) | 2014-04-09 | 2017-04-27 | Hitachi Automotive Systems, Ltd. | Traveling control device, on-vehicle display device, and traveling control system |
US20150346723A1 (en) | 2014-05-30 | 2015-12-03 | Nissan North America, Inc. | Vehicle trajectory planning for autonomous vehicles |
US20160023656A1 (en) | 2014-07-24 | 2016-01-28 | Toyota Jidosha Kabushiki Kaisha | Vehicle travelling control device |
US9248834B1 (en) | 2014-10-02 | 2016-02-02 | Google Inc. | Predicting trajectories of objects based on contextual information |
US20170010618A1 (en) * | 2015-02-10 | 2017-01-12 | Mobileye Vision Technologies Ltd. | Self-aware system for adaptive navigation |
US20180032079A1 (en) * | 2015-02-12 | 2018-02-01 | Hitachi, Ltd. | Autonomous operation verification device and autonomous system |
US20160288788A1 (en) * | 2015-03-31 | 2016-10-06 | Toyota Motor Engineering & Manufacturing North America, Inc. | Gap-based speed control for automated driving system |
US20160318513A1 (en) | 2015-04-30 | 2016-11-03 | GM Global Technology Operations LLC | Real-time anticipatory speed control |
US9494439B1 (en) | 2015-05-13 | 2016-11-15 | Uber Technologies, Inc. | Autonomous vehicle operated with guide assistance of human driven vehicles |
US20170136842A1 (en) | 2015-06-03 | 2017-05-18 | Levant Power Corporation | Methods and systems for controlling vehicle body motion and occupant experience |
US20170039855A1 (en) | 2015-08-07 | 2017-02-09 | Hitachi, Ltd. | Vehicle Drive Control Apparatus and Speed Control Method |
US20170090478A1 (en) | 2015-09-30 | 2017-03-30 | Ants Technology (Hk) Limited. | Systems and Methods for Autonomous Vehicle Navigation |
US20170120902A1 (en) | 2015-11-04 | 2017-05-04 | Zoox, Inc. | Resilient safety system for a robotic vehicle |
US20170131719A1 (en) * | 2015-11-05 | 2017-05-11 | Ford Global Technologies, Llc | Autonomous Driving At Intersections Based On Perception Data |
WO2017087199A1 (en) | 2015-11-19 | 2017-05-26 | Amazon Technologies, Inc. | Lane assignments for autonomous vehicles |
US20180032082A1 (en) * | 2016-01-05 | 2018-02-01 | Mobileye Vision Technologies Ltd. | Machine learning navigational engine with imposed constraints |
US20190286154A1 (en) | 2016-01-05 | 2019-09-19 | Mobileye Vision Technologies Ltd. | Prioritized constraints for a navigational system |
US20190286157A1 (en) | 2016-01-05 | 2019-09-19 | Mobileye Vision Technologies Ltd. | Constraint augmentation in a navigational system |
US20190056743A1 (en) | 2016-02-25 | 2019-02-21 | NEC Laboratories Europe GmbH | Method for motion planning for autonomous moving objects |
US20170329332A1 (en) | 2016-05-10 | 2017-11-16 | Uber Technologies, Inc. | Control system to adjust operation of an autonomous vehicle based on a probability of interference by a dynamic object |
US20180004211A1 (en) | 2016-06-30 | 2018-01-04 | GM Global Technology Operations LLC | Systems for autonomous vehicle route selection and execution |
US20180141568A1 (en) | 2016-11-21 | 2018-05-24 | Nio Usa, Inc. | Vehicle autonomy level selection based on user context |
US20180162409A1 (en) | 2016-12-12 | 2018-06-14 | Hitachi, Ltd. | Driving Assistance Apparatus with Human Machine Interface System |
US20180197415A1 (en) | 2017-01-11 | 2018-07-12 | Suzuki Motor Corporation | Driving assistance device |
US20180326980A1 (en) | 2017-05-12 | 2018-11-15 | Valeo Interior Controls (Shenzhen) Co., Ltd | Method and a vehicle control system for controlling an autonomous vehicle |
US20190025067A1 (en) | 2017-07-19 | 2019-01-24 | Volkswagen Aktiengesellschaft | Method for determining a trajectory for an autonomously-driven transportation vehicle, control device, and transportation vehicle |
US20190064813A1 (en) | 2017-08-29 | 2019-02-28 | Uber Technologies, Inc. | Systems and Methods of Controlling an Autonomous Vehicle Using an Enhanced Trajectory Following Configuration |
US20190072973A1 (en) | 2017-09-07 | 2019-03-07 | TuSimple | Data-driven prediction-based system and method for trajectory planning of autonomous vehicles |
US10627825B2 (en) | 2017-11-22 | 2020-04-21 | Waymo Llc | Using discomfort for speed planning in autonomous vehicles |
US20190291726A1 (en) | 2018-03-20 | 2019-09-26 | Mobileye Vision Technologies Ltd. | Systems and methods for navigating a vehicle |
Non-Patent Citations (3)
Title |
---|
"File History for U.S. Appl. No. 15/258,324, filed Sep. 7, 2016". |
"International Search Report and Written Opinion received for PCT Patent Application No. PCT/US2018/062044, dated Mar. 14, 2019", 7 pages. |
Glaser, et al., "Maneuver Based Trajectory Planning For Highly Autonomous Vehicles On Real Road With Traffic And Driver Interaction", Submitted to IEEE Transaction on Intelligent Transportation System, May 10, 2010, 15 pages. |
Cited By (1)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20230001925A1 (en) * | 2021-06-30 | 2023-01-05 | Robert Bosch Gmbh | Method for controlling an approach of a vehicle, distance controller, computer program, and memory unit |
Also Published As
Publication number | Publication date |
---|---|
US10640111B1 (en) | 2020-05-05 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US11608060B1 (en) | Speed planning for autonomous vehicles | |
US11951975B1 (en) | Handling sensor occlusions for autonomous vehicles | |
US11745742B2 (en) | Planning stopping locations for autonomous vehicles | |
US11762392B2 (en) | Using discomfort for speed planning in autonomous vehicles | |
US11780431B2 (en) | Testing predictions for autonomous vehicles | |
US11709490B1 (en) | Behavior and intent estimations of road users for autonomous vehicles | |
US11634134B2 (en) | Using discomfort for speed planning in responding to tailgating vehicles for autonomous vehicles | |
CA3094795C (en) | Using discomfort for speed planning for autonomous vehicles |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
FEPP | Fee payment procedure |
Free format text: ENTITY STATUS SET TO UNDISCOUNTED (ORIGINAL EVENT CODE: BIG.); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |
|
CC | Certificate of correction | ||
CC | Certificate of correction |