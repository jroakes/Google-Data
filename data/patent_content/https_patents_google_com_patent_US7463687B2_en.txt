US7463687B2 - Method and apparatus for performing high quality fast predictive motion search - Google Patents
Method and apparatus for performing high quality fast predictive motion search Download PDFInfo
- Publication number
- US7463687B2 US7463687B2 US11/168,584 US16858405A US7463687B2 US 7463687 B2 US7463687 B2 US 7463687B2 US 16858405 A US16858405 A US 16858405A US 7463687 B2 US7463687 B2 US 7463687B2
- Authority
- US
- United States
- Prior art keywords
- motion vector
- motion
- search pattern
- search
- difference metric
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Expired - Fee Related, expires
Links
Images
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/50—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using predictive coding
- H04N19/503—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using predictive coding involving temporal prediction
- H04N19/51—Motion estimation or motion compensation
- H04N19/57—Motion estimation characterised by a search window with variable size or shape
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/50—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using predictive coding
- H04N19/503—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using predictive coding involving temporal prediction
- H04N19/51—Motion estimation or motion compensation
- H04N19/513—Processing of motion vectors
- H04N19/517—Processing of motion vectors by encoding
- H04N19/52—Processing of motion vectors by encoding by predictive encoding
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/50—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using predictive coding
- H04N19/503—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using predictive coding involving temporal prediction
- H04N19/51—Motion estimation or motion compensation
- H04N19/527—Global motion vector estimation
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/50—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using predictive coding
- H04N19/503—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using predictive coding involving temporal prediction
- H04N19/51—Motion estimation or motion compensation
- H04N19/533—Motion estimation using multistep search, e.g. 2D-log search or one-at-a-time search [OTS]
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/50—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using predictive coding
- H04N19/503—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using predictive coding involving temporal prediction
- H04N19/51—Motion estimation or motion compensation
- H04N19/56—Motion estimation with initialisation of the vector search, e.g. estimating a good candidate to initiate a search
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/60—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using transform coding
- H04N19/61—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using transform coding in combination with predictive coding
Definitions
- This invention relates to the field of motion estimation, and in particular to block-based motion estimation as applied to video image compression.
- motion estimation is a key component of many video compression techniques.
- the purpose of motion estimation is to reduce temporal redundancy between frames of a video sequence.
- a motion estimation algorithm predicts image data for an image frame using one or more previously coded image frames or future frames.
- a difference image is computed by taking the arithmetic difference between the original pixel data and the corresponding predicted pixel data.
- a difference image with large variations indicates little or no temporal redundancy between the image frames.
- a difference image with small variations indicates a high degree of temporal redundancy between the image frames.
- the difference image represents a reduced temporal redundancy representation of the image frames, which yields better coding efficiency.
- Block-based motion estimation algorithms operate on blocks of image data.
- a block of image data in a current frame is predicted by a block of data from a previous image frame.
- the motion estimation algorithm outputs a motion vector for the block of image data that specifies the location of the best block match from the previous image frame.
- this motion vector information is compressed and transmitted or stored along with the compressed difference data.
- FSME Full search motion estimation
- B c is the block in the current image frame
- B p is a block in the previous image frame.
- the indices m and n index the pixels within a block of N rows and M columns.
- a small SAD value corresponds to a good block match and a large SAD value corresponds to a poor block match.
- full search motion estimation becomes prohibitive as the search window is increased.
- a motion vector predictor (PMV) is calculated as a best matching motion vector. Then, a motion vector search following a zonal pattern around the PMV is performed. This is followed by similar zonal search around a zero motion vector. At every step, there is a criterion to end the search if a good enough criterion is obtained. Unfortunately, this approach does not give consistently good results over a wide range of video sequences.
- PMV motion vector predictor
- PMVFAST motion estimation algorithm
- a zonal search pattern instead of a zonal search pattern, an iterative diamond search pattern is use. Large or small diamond search patterns can be used depending upon certain criteria. Unfortunately, this approach gives a very similar result when compared to the zonal approach.
- a method and apparatus for performing a fast predictive motion search in a video encoder system using block-based motion estimation may include obtaining a plurality of motion vector predictors, where the motion vector predictor can represent approximations of possible motion vectors for a current macroblock.
- the method may also include defining a search pattern, searching around each motion vector predictor of the plurality of motion vector predictors using the search pattern, and determining a final motion vector.
- FIG. 1 is an exemplary block diagram of a video compression system according to one embodiment
- FIG. 2 is an exemplary depiction of a neighborhood of a current macroblock according to one embodiment
- FIG. 3 is an exemplary search pattern used during a first stage of a preferred embodiment
- FIG. 4 is an exemplary search pattern used in a capture mode during a first stage of a preferred embodiment
- FIG. 5 is an exemplary illustration of a search pattern used during a second stage of a preferred embodiment
- FIG. 6 is an exemplary flowchart outlining the operation of the present invention according to a preferred embodiment.
- FIG. 7 is an exemplary block diagram of a fast predictive motion search motion estimation circuit according to one embodiment.
- the present invention gives an improved performance over a wide range of video sequences. There are several improvements and new algorithmic innovations that result in better quality. In fact, when averaged over several video sequences, the present invention out-performs even the traditional full search algorithm in terms of achieved video compression efficiency.
- the present invention can be performed in two stages.
- first stage several predictor motion vectors can be considered and a search around each of the candidates can be performed using a fixed search pattern.
- a new set of candidate motion vectors can be selected and a new search can be performed. This can be done to capture the motion of any new object that appears in the scene.
- the best result of the first stage can be considered and a new search using a moving, weighted, spiral search pattern can be performed to arrive the best block match.
- FIG. 1 is an exemplary block diagram of a video compression system 100 for a video encoder according to one embodiment.
- the video compression system 100 can include a fast predictive motion search motion estimation circuit 110 , a motion compensation circuit 115 , an adder 120 , a discrete cosine transform circuit (DCT) 125 , a quantizer 130 , a variable length code (VLC) encoder 135 , an inverse quantizer 140 , an inverse discrete cosine transform circuit (IDCT) 145 , another adder 150 , and a previous frame circuit 155 .
- DCT discrete cosine transform circuit
- VLC variable length code
- IDCT inverse discrete cosine transform circuit
- motion estimation is computed for blocks of image data from a current image frame using one or more previously processed image frames.
- the motion estimation circuit 110 outputs a motion vector corresponding to a processed block.
- the motion compensation circuit 115 forms a prediction block from the previous frame using the computed motion vectors.
- a difference image is computed by the adder 120 by subtracting the predicted image data from the current image frame. This difference image is transformed using the DCT circuit 125 .
- the motion estimation circuit 110 and the motion compensation circuit 115 serve to reduce the temporal redundancy between image frames
- the DCT circuit 125 serves to reduce the spatial redundancy within a frame.
- the DCT coefficients are subsequently are subject to reduced precision by the quantizer 140 .
- the quantizer 140 increases compression while introducing numerical loss.
- the quantized DCT coefficients are then encoded by the VLC encoder 135 and transmitted in a compressed video bitstream along with the motion vectors.
- the local reconstruction loop is comprised of the inverse quantizer 140 , the IDCT 145 , and the adder 150 .
- the inverse quantizer 140 reconstructs the DCT coefficients.
- the IDCT 145 transforms the DCT coefficients back into the spatial domain to form a quantized difference image.
- the reconstructed frame is computed by the adder 150 by adding the motion compensated data to the quantized difference image. This reconstructed data is then stored in the previous frame circuit 155 for use in processing subsequent image frames.
- the operation of the fast predictive motion search motion estimation circuit 110 can consist of two stages. In the first stage, a small search can be done around several motion vector predictors. These motion vector predictors (MVP) can be obtained from other motion vectors (MV).
- MVP motion vector predictors
- an MV is the difference in co-ordinates of a block of data in the current frame of video data and the block of data in the reference frame to which it is matched.
- An MV has two components: X and Y. The value of an MV is described as an ordered pair (X, Y).
- MVPs are MVs that are used as a good “guess” of the best MV when performing a match.
- a macroblock (MB) is a 16 ⁇ 16 block of data within a video frame.
- a MB can also refer to a blocks of data of different sizes as well (e.g. 8 ⁇ 8, 4'8, 4'4, 16'8 etc.) without loss of generality.
- One motion vector predictor can be based on a zero motion vector.
- a motion vector predictor being based on a particular motion vector can define the motion vector predictor as equal to the particular motion vector.
- the zero motion vector being a motion vector with the coordinates of (0,0).
- a second motion vector predictor can be based on a motion vector of the co-located macroblock in the previous frame.
- FIG. 2 is an exemplary illustration of the location of a current macroblock and neighboring macroblocks used to determine additional motion vectors.
- a third motion vector predictor can be based on the motion vector of the macroblock to the left of the current macroblock.
- a fourth motion vector predictor can be based on the motion vector of the macroblock to the top of or above the current macroblock.
- a fifth motion vector predictor can be based on the motion vector of the macroblock above and to the right of the current macroblock.
- a sixth motion vector predictor can be based on the median motion vector of the third, fourth, and fifth motion vector predictors. This median motion vector predictor can be computed independently for the X and Y components of the motion vector.
- a seventh motion vector predictor can be based on an estimated global motion vector.
- This global motion vector is estimated by the motion estimation circuit 110 as the average of all final motion vectors of the previous frame for which a difference metric was below a certain threshold THRESH 1 .
- the difference metric can be a sum of absolute difference metric, a sum of squares difference metric, a modified sum of absolute difference metric, or any other useful metric.
- the global motion vector may also be determined by other means such as motion sensors on video cameras, other algorithms, or any other means for determining a global motion vector.
- Further motion vector predictors can be determined based on the result of motion estimation done for the same macroblock, but on a different previously coded frame.
- the motion estimation circuit 110 can determine the global motion vector by using an average of all final motion vectors in a previous frame for which a difference metric is below a specified threshold.
- the motion estimation circuit 110 can determine the global motion vector by calculating a difference metric for each of final motion vectors in a previous frame, comparing the difference metric for each of the final motion vectors in the previous frame with a predetermined threshold, and determining the global motion vector based on the each of the final motion vectors in a previous frame with a difference metric that is below the threshold.
- MSAD Sum of Absolute Differences
- the motion estimation circuit 110 can perform a predictive motion search by obtaining a plurality of motion vector predictors, the motion vector predictors representing approximations of possible motion vectors for a current macroblock, defining a search pattern, searching around each motion vector predictor of the plurality of motion vector predictors using the search pattern, and determining a final motion vector.
- the motion estimation circuit can further calculate a difference metric representing a quality of a macroblock match, where the difference metric can be a sum of absolute differences metric, a sum of squares of differences metric, or any other metric useful in motion estimation.
- FIG. 3 An example search pattern around each MVP is shown in FIG. 3 .
- the search pattern can extend more in the horizontal direction than in the vertical direction. This can take advantage of the fact that in most real life video data, there is more motion and variations in motion in the horizontal direction.
- THRESH 2 4*MMSADAVG
- additional MVPs can be considered such as those depicted in FIG. 4 .
- the 8 points can be:
- a search around each of the MVPs is performed using the same search pattern depicted in FIG. 3 .
- only 4 out of the 8 MVPs can be considered for a macroblock.
- the first 4 are considered.
- the next macroblock the other 4 MVPs are considered and so on. This can be done to reduce the number of computations.
- the aim of the capture mode is to detect any new object that moves rapidly into the screen.
- the MVPs based on neighborhood motion vectors would fail.
- Using the 8 new points improves the chance of getting a good motion vector match.
- the 8 points can be chosen to favor the horizontal direction since there often is more motion in this direction.
- the motion estimation circuit 110 can search around each motion vector predictor of the plurality of motion vector predictors using the search pattern, determine a best motion vector having a difference metric higher than a predetermined threshold, and perform a search pattern around a new set of motion vector predictors.
- an early exit criterion can be employed to terminate the search for that MVP.
- the search can be terminated if the MSAD obtained for the MV is higher than the current minimum MSAD (MMSAD) by a threshold THRESH 3 , i.e., if (MSAD i >(MMSAD+THRESH 3 )).
- MMSAD is the MSAD obtained for MVPi
- MMSAD is the minimum of all the MSAD values obtained until this point for the current MB.
- the value of THRESH 3 can be chosen to be around 768.
- the motion estimation circuit 110 can perform a search pattern on the motion vector predictors, determine a current difference metric for a current motion vector, compare the current difference metric to a previous minimum difference metric, set a new minimum difference metric if the current difference metric is below the previous minimum difference metric, and terminate the search pattern if the difference metric exceeds the previous minimum metric by a predetermined amount.
- the MV that gives the lowest MSAD metric is chosen and this becomes a starting point for the second stage.
- the best MV from the first stage i.e. the one giving the lowest MSAD
- a search is performed around this MV.
- the search can be performed in a pattern as depicted in FIG. 5 .
- the search pattern can start from the center and can spiral out in a sequence as shown in FIG. 5 as a sequence of numbers.
- the search pattern is recentered around the new MV and the spiral search pattern starts over. This process continues until one of 3 conditions are met:
- the best MV at the end of the second stage is chosen as the best MV for the macroblock.
- This MV can be further refined for half-pixel, quarter-pixel or higher accuracy in a subsequent stage using well known techniques.
- the search pattern can be chosen to give wider coverage to the horizontal direction than the vertical direction.
- the MSAD metric can be a useful part of the invention. While the modified sum of differences metric gives preferred results, any difference metric can be interchangeably used in every embodiment of the present invention requiring a sum of absolute differences metric, a modified sum of differences metric, or any other difference metric.
- the MSAD metric is a function of the sum of absolute differences (SAD) described above, the candidate MV being evaluated, and the predictor motion vector (PMV).
- the PMV is generally used by the video encoder during the encoding of the final motion vector.
- the final motion vector is encoded as a difference with respect to PMV, which is different from a MVP. For example, it can be a unique MV defined within H.261, H.263, MPEG-1, MPEG-2 and MPEG-4 standards for the purpose of encoding motion vectors.
- the SAD is the metric used in classical motion estimation algorithms as described above.
- the MSAD metric is independent of the motion estimation algorithm and can be used to advantage in practically all algorithms.
- the benefit of the new metric is the reduced number of bits needed to encode motion vectors by biasing the algorithm towards PMV thus improving the overall compression efficiency.
- the zero MV could potentially lead to improved compression efficiency. But this can happen only if the resultant macroblock is coded in the “not coded” mode within H.261, H.263, MPEG-1, MPEG-2 and MPEG-4 standards. This can be taken into account by biasing the SAD in the case where it is below a certain threshold:
- the motion estimation circuit 110 can calculate a difference metric, calculate a bias based on a predictor motion vector and a candidate motion vector, and determine a modified difference metric based on the difference metric and the bias.
- search sequences depicted are the ones used in the preferred embodiment. They have been optimized to get a good match in the quickest possible time over a wide range of video sequences. It is possible to use alternative search patterns as well.
- the disclosed invention does not make any assumptions on the motion vector range. Any restriction on the motion vector values can be applied on the candidates and, if they are beyond the allowed range, they can be discarded.
- the spiral search pattern can be re-centered on obtaining a new best matched candidate MV.
- the next point that needs to be evaluated may not be known apriori.
- the next candidate to be evaluated potentially depends on the result of evaluating the current candidate. Hence it may becomes difficult to implement several candidate MSAD calculations in parallel (which some hardware architectures may want to do).
- the re-centering of the search pattern can be done after evaluating a set of candidates, allowing the set to be processed in parallel.
- FIG. 6 is an exemplary flowchart 600 outlining the operation of the motion estimation circuit 110 according to one embodiment.
- the flowchart begins.
- the motion estimation circuit 110 obtains a plurality of motion vector predictors.
- the motion estimation circuit. 110 defines a search pattern.
- the motion estimation circuit 110 searches around each motion vector predictor.
- the motion estimation circuit 110 determines a final motion vector.
- the motion estimation circuit 110 outputs the final motion vector.
- FIG. 7 is an exemplary block diagram of a fast predictive motion search motion estimation circuit 110 according to one embodiment.
- the motion estimation circuit 110 can include a motion vector predictor storage circuit 710 , a search pattern definition circuit 720 , a plurality of motion vectors search circuit 730 , and a final motion vector determination circuit 740 .
- the motion estimation circuit 110 can also include a global motion vector determination circuit 750 , a capture mode circuit 760 , a pattern termination circuit 770 , and a modified sum of absolute differences circuit 780 .
- the circuits operate in accordance with their like functions described above.
- a fast predictive motion search method can be performed by two stages.
- the 7 MVP candidates can be computed as described above.
- all MV candidates can be evaluated according to the search pattern in FIG. 3 and the exit criteria can be employed to break out of the MVP or go into the capture mode.
- the search can be performed at and around the MVP depicted in FIG. 4 using the same search pattern in FIG. 3 and the same exit criteria.
- the best MV from the first stage can be chosen and a search can be performed in a spiral fashion depicted in FIG. 5 . The spiral can be re-centered and reset the index can be reset to zero whenever a better match is found.
- the process can be continued until one of the three exit criteria are found.
- the present invention provides a method for performing a fast predictive motion search in a video encoder system using block-based motion estimation.
- the method can include determining a plurality of motion vector predictors, performing a search pattern on at least one of the plurality of motion vector predictors, determining a best motion vector having a difference metric higher than a predetermined threshold, and performing a new search pattern around a new set of motion vector predictors.
- the step of performing a new search pattern can further perform a new search pattern around a new set of motion vector predictors based on a best motion vector.
- the new search pattern can be biased more in the horizontal direction than the vertical direction.
- the present invention can provide a method for performing a fast predictive motion search in a video encoder system using block-based motion estimation.
- the method can include performing a search pattern around a motion vector predictor, determining a current difference metric for a current motion vector, comparing the current difference metric to a previous minimum difference metric, setting a new minimum difference metric if the current difference metric is below the previous minimum difference metric, and terminating the search pattern if the difference metric exceeds the previous minimum metric by a predetermined amount.
- the present invention can provide a method for performing fast predictive motion search in a video encoder system using motion vectors representing the difference in coordinates of a macroblock of data in a current frame of video data and coordinates of a related macroblock of data in a reference frame of video data.
- the method can include defining a search pattern that is more extensive in a horizontal direction than in a vertical direction, performing a candidate search based on the defined search pattern, and determining a final motion vector.
- the disclosed invention can achieve a high degree of compression efficiency while keeping the complexity low.
- the complexity can be similar to the complexity of APDZS and PMVFAST. However, the achieved quality is higher.
- the present invention achieves about 0.6% better compression efficiency for a fixed video quality. This number was obtained after averaging over 24 different QCIF video sequences.
- One application for this invention is in real time video encoders on hand held devices.
- the typical bandwidth of such encoded video is in the range 32 kbps to 512 kbps and the typical video frame size is QCIF and CIF.
- the method of this invention is preferably implemented on a programmed processor.
- the video compression system 100 , fast predictive motion search motion estimation circuitry 110 , and other elements may also be implemented on a general purpose or special purpose computer, a programmed microprocessor or microcontroller and peripheral integrated circuit elements, an ASIC or other integrated circuit, a hardware electronic or logic circuit such as a discrete element circuit, a programmable logic device such as a PLD, PLA, FPGA or PAL, or the like.
- any device on which resides a finite state machine capable of implementing the flowcharts shown in the Figures and the methods described may be used to implement the processor functions of this invention.
Abstract
Description
Where, Bc is the block in the current image frame and Bp is a block in the previous image frame. The indices m and n index the pixels within a block of N rows and M columns. A small SAD value corresponds to a good block match and a large SAD value corresponds to a poor block match. Unfortunately, full search motion estimation becomes prohibitive as the search window is increased.
THRESH1=SAD1+OFFSET,
-
- Where OFFSET may nominally be set to 500
- Where SAD1 is given by the equation:
THRESH2=4*MMSADAVG,
-
- MMSADAVG=Average of all MMSADS (i.e. MSADS of best MVs) of the previous frame.
-
- (−12,0) (12, 0) (0, −8) (0, 8) (−6, 4) (6, 4) (6, 4) (−6, 4)
-
- CONDITION 1: The MSAD is below a threshold THRESH4, given by:
THRESH4=A*Q+B - Where Q is the quantization step size used by the encoder for the current MB, A and B are constants. In the preferred embodiment, A=8 and B=0.
- CONDITION 2: The maximum number of candidates, N, have already been considered in
stage 2. In the preferred embodiment, N=30. - CONDITION 3: These is no improvement in the minimum MSAD (MMSAD) during the last M candidate MVs. Here M is a function of the index of the position of the last MV candidate in the spiral search pattern. For example, the search starts from
index 0. It then spirals around points 1, 2, 3, . . . Whenever a better MV is found, the spiral search pattern gets re-centered around this new MV and the index starts from 0 once again. This index is used to determine the value of M. In the preferred embodiment, M is chosen from the set of values {4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 8, 8, 8, 8, 8, 9, 9} based on the index.
- CONDITION 1: The MSAD is below a threshold THRESH4, given by:
MSAD=SAD+Bias
Where the bias id any value that is based on a difference metric between MV and PMV. For example,
MSAD=SAD+C*(|MVx−PMVX|+|MVY−PMVY|)
Where SAD is the classical metric used for the matching blocks defined earlier, MVX and MVY are the X and Y components of the candidate motion vector, PMVX and PMVY are the X and Y components of PMV, and C is a constant. In the preferred embodiment, C is approximately 5. The PMV generally stays fixed for all the candidates in an MB, while the MV changes.
-
- If (SAD<THRESH5)
MSAD=SAD−THRESH6 - Else
MSAD=SAD+C*(|PMVx|+|PMVY) - Endif
C, PMVx and PMVY are as described earlier.
THRESH5=D*Q+E
THRESH6=F
Where Q is the quanization step size. D, E and F are constants. In a preferred embodiment D is approximately 128, E=0, and F is approximately 100.
- If (SAD<THRESH5)
Claims (6)
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US11/168,584 US7463687B2 (en) | 2002-08-06 | 2005-06-28 | Method and apparatus for performing high quality fast predictive motion search |
Applications Claiming Priority (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US10/212,940 US6925123B2 (en) | 2002-08-06 | 2002-08-06 | Method and apparatus for performing high quality fast predictive motion search |
US11/168,584 US7463687B2 (en) | 2002-08-06 | 2005-06-28 | Method and apparatus for performing high quality fast predictive motion search |
Related Parent Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US10/212,940 Division US6925123B2 (en) | 2002-08-06 | 2002-08-06 | Method and apparatus for performing high quality fast predictive motion search |
Publications (2)
Publication Number | Publication Date |
---|---|
US20050238103A1 US20050238103A1 (en) | 2005-10-27 |
US7463687B2 true US7463687B2 (en) | 2008-12-09 |
Family
ID=31494390
Family Applications (2)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US10/212,940 Expired - Fee Related US6925123B2 (en) | 2002-08-06 | 2002-08-06 | Method and apparatus for performing high quality fast predictive motion search |
US11/168,584 Expired - Fee Related US7463687B2 (en) | 2002-08-06 | 2005-06-28 | Method and apparatus for performing high quality fast predictive motion search |
Family Applications Before (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US10/212,940 Expired - Fee Related US6925123B2 (en) | 2002-08-06 | 2002-08-06 | Method and apparatus for performing high quality fast predictive motion search |
Country Status (10)
Country | Link |
---|---|
US (2) | US6925123B2 (en) |
EP (1) | EP1530831B1 (en) |
JP (1) | JP2005535228A (en) |
CN (1) | CN100468982C (en) |
AU (1) | AU2003261250A1 (en) |
EG (1) | EG23806A (en) |
MX (1) | MXPA05001447A (en) |
RU (1) | RU2323541C2 (en) |
WO (1) | WO2004013985A1 (en) |
ZA (2) | ZA200500769B (en) |
Cited By (7)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20100329343A1 (en) * | 2009-06-29 | 2010-12-30 | Hung Wei Wu | Motion vector calibration circuit, image generating apparatus and method thereof |
US20110002389A1 (en) * | 2009-07-03 | 2011-01-06 | Lidong Xu | Methods and systems to estimate motion based on reconstructed reference frames at a video decoder |
US20110002390A1 (en) * | 2009-07-03 | 2011-01-06 | Yi-Jen Chiu | Methods and systems for motion vector derivation at a video decoder |
US20110002387A1 (en) * | 2009-07-03 | 2011-01-06 | Yi-Jen Chiu | Techniques for motion estimation |
US20110090964A1 (en) * | 2009-10-20 | 2011-04-21 | Lidong Xu | Methods and apparatus for adaptively choosing a search range for motion estimation |
US9509995B2 (en) | 2010-12-21 | 2016-11-29 | Intel Corporation | System and method for enhanced DMVD processing |
US10250885B2 (en) | 2000-12-06 | 2019-04-02 | Intel Corporation | System and method for intracoding video data |
Families Citing this family (71)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
KR100603592B1 (en) * | 2001-11-26 | 2006-07-24 | 학교법인 고황재단 | Intelligent Water ring scan apparatus and method using Quality Factor, video coding/decoding apparatus and method using that |
JP2003324743A (en) * | 2002-05-08 | 2003-11-14 | Canon Inc | Motion vector searching apparatus and motion vector searching method |
KR100774296B1 (en) | 2002-07-16 | 2007-11-08 | 삼성전자주식회사 | Method and apparatus for encoding and decoding motion vectors |
US6925123B2 (en) * | 2002-08-06 | 2005-08-02 | Motorola, Inc. | Method and apparatus for performing high quality fast predictive motion search |
US7792194B2 (en) * | 2003-04-10 | 2010-09-07 | Lefan Zhong | MPEG artifacts post-processed filtering architecture |
US9330060B1 (en) | 2003-04-15 | 2016-05-03 | Nvidia Corporation | Method and device for encoding and decoding video image data |
US8660182B2 (en) * | 2003-06-09 | 2014-02-25 | Nvidia Corporation | MPEG motion estimation based on dual start points |
US7978769B2 (en) * | 2003-06-30 | 2011-07-12 | Ntt Docomo, Inc. | Method and apparatus for coding motion information |
KR100517504B1 (en) * | 2003-07-01 | 2005-09-28 | 삼성전자주식회사 | Method and apparatus for determining motion compensation mode of B-picture |
KR100987764B1 (en) * | 2003-09-04 | 2010-10-13 | 경희대학교 산학협력단 | Method of and apparatus for determining reference data unit for predictive video data coding |
US8000392B1 (en) | 2004-02-27 | 2011-08-16 | Vbrick Systems, Inc. | Phase correlation based motion estimation in hybrid video compression |
TWI240214B (en) * | 2004-05-18 | 2005-09-21 | Sunplus Technology Co Ltd | Optimized correlation matching method and system for determining track behavior |
CN100385957C (en) * | 2004-05-21 | 2008-04-30 | 中国科学院计算技术研究所 | Kinematic vector predicting method |
US20060002472A1 (en) * | 2004-06-30 | 2006-01-05 | Mehta Kalpesh D | Various methods and apparatuses for motion estimation |
TWI252695B (en) * | 2004-07-21 | 2006-04-01 | Realtek Semiconductor Corp | Block-based motion estimation method |
US20060056511A1 (en) * | 2004-08-27 | 2006-03-16 | University Of Victoria Innovation And Development Corporation | Flexible polygon motion estimating method and system |
BRPI0517069A (en) * | 2004-11-04 | 2008-09-30 | Thomson Licensing | fast intra mode prediction for a video encoder |
US8761259B2 (en) * | 2005-09-22 | 2014-06-24 | Qualcomm Incorporated | Multi-dimensional neighboring block prediction for video encoding |
WO2007078800A1 (en) * | 2005-12-15 | 2007-07-12 | Analog Devices, Inc. | Motion estimation using prediction guided decimated search |
US8731071B1 (en) | 2005-12-15 | 2014-05-20 | Nvidia Corporation | System for performing finite input response (FIR) filtering in motion estimation |
KR20070069615A (en) | 2005-12-28 | 2007-07-03 | 삼성전자주식회사 | Motion estimator and motion estimating method |
US8265145B1 (en) * | 2006-01-13 | 2012-09-11 | Vbrick Systems, Inc. | Management and selection of reference frames for long term prediction in motion estimation |
US8724702B1 (en) | 2006-03-29 | 2014-05-13 | Nvidia Corporation | Methods and systems for motion estimation used in video coding |
US8160144B1 (en) * | 2006-05-10 | 2012-04-17 | Texas Instruments Incorporated | Video motion estimation |
US20080002772A1 (en) * | 2006-06-28 | 2008-01-03 | Hong Kong Applied Science and Technology Research Institute Company Limited | Motion vector estimation method |
US8660380B2 (en) | 2006-08-25 | 2014-02-25 | Nvidia Corporation | Method and system for performing two-dimensional transform on data value array with reduced power consumption |
US9307122B2 (en) * | 2006-09-27 | 2016-04-05 | Core Wireless Licensing S.A.R.L. | Method, apparatus, and computer program product for providing motion estimation for video encoding |
JP2008109632A (en) * | 2006-09-28 | 2008-05-08 | Toshiba Corp | Motion vector detector and its method |
JP4898415B2 (en) * | 2006-12-19 | 2012-03-14 | キヤノン株式会社 | Moving picture coding apparatus and moving picture coding method |
KR101383540B1 (en) | 2007-01-03 | 2014-04-09 | 삼성전자주식회사 | Method of estimating motion vector using multiple motion vector predictors, apparatus, encoder, decoder and decoding method |
US8756482B2 (en) | 2007-05-25 | 2014-06-17 | Nvidia Corporation | Efficient encoding/decoding of a sequence of data frames |
US9118927B2 (en) | 2007-06-13 | 2015-08-25 | Nvidia Corporation | Sub-pixel interpolation and its application in motion compensated encoding of a video signal |
US8873625B2 (en) | 2007-07-18 | 2014-10-28 | Nvidia Corporation | Enhanced compression in representing non-frame-edge blocks of image frames |
US8279936B1 (en) * | 2007-12-11 | 2012-10-02 | Marvell International Ltd. | Method and apparatus for fractional pixel expansion and motion vector selection in a video codec |
US8743972B2 (en) * | 2007-12-20 | 2014-06-03 | Vixs Systems, Inc. | Coding adaptive deblocking filter and method for use therewith |
EP2240905B1 (en) * | 2008-01-11 | 2012-08-08 | Zoran (France) | Sparse geometry for super resolution video processing |
US8120659B2 (en) * | 2008-05-22 | 2012-02-21 | Aptina Imaging Corporation | Method and system for motion estimation in digital imaging applications |
US8831101B2 (en) * | 2008-08-02 | 2014-09-09 | Ecole De Technologie Superieure | Method and system for determining a metric for comparing image blocks in motion compensated video coding |
US8363727B2 (en) * | 2008-09-30 | 2013-01-29 | Microsoft Corporation | Techniques to perform fast motion estimation |
US8666181B2 (en) | 2008-12-10 | 2014-03-04 | Nvidia Corporation | Adaptive multiple engine image motion detection system and method |
FR2940736B1 (en) * | 2008-12-30 | 2011-04-08 | Sagem Comm | SYSTEM AND METHOD FOR VIDEO CODING |
TWI450591B (en) * | 2009-04-16 | 2014-08-21 | Univ Nat Taiwan | Video processing chip set and method for loading data on motion estimation therein |
TWI450590B (en) * | 2009-04-16 | 2014-08-21 | Univ Nat Taiwan | Embedded system and method for loading data on motion estimation therein |
US20110150093A1 (en) * | 2009-12-22 | 2011-06-23 | Stephen Mangiat | Methods and apparatus for completion of video stabilization |
US9357228B2 (en) * | 2010-05-27 | 2016-05-31 | The Hong Kong University Of Science And Technology | Motion estimation of images |
CN102447892A (en) * | 2010-09-30 | 2012-05-09 | 宝利微电子系统控股公司 | Motion estimation method and device |
ES2773774T3 (en) * | 2010-10-06 | 2020-07-14 | Ntt Docomo Inc | Bipredictive image encoding device, method and program, and bipredictive image decoding device, method and program |
RU2010144450A (en) | 2010-10-29 | 2012-05-10 | ЭлЭсАй Корпорейшн (US) | ASSESSING MOTION FOR A VIDEO TRANSCODER |
TWI590083B (en) * | 2010-11-18 | 2017-07-01 | 創意電子股份有限公司 | A method of adaptive motion estimation in search windows for video coding |
US9635382B2 (en) * | 2011-01-07 | 2017-04-25 | Texas Instruments Incorporated | Method, system and computer program product for determining a motion vector |
GB2487200A (en) | 2011-01-12 | 2012-07-18 | Canon Kk | Video encoding and decoding with improved error resilience |
WO2012128540A2 (en) * | 2011-03-21 | 2012-09-27 | 엘지전자 주식회사 | Method for selecting motion vector predictor and device using same |
FR2966681A1 (en) * | 2011-05-26 | 2012-04-27 | Thomson Licensing | Image slice coding method, involves determining lighting compensation parameter so as to minimize calculated distance between cumulated functions, and coding image slice from reference image |
JP5729817B2 (en) | 2011-06-29 | 2015-06-03 | 日本電信電話株式会社 | Moving picture encoding apparatus, moving picture decoding apparatus, moving picture encoding method, moving picture decoding method, moving picture encoding program, and moving picture decoding program |
CN102263958A (en) * | 2011-07-26 | 2011-11-30 | 中兴通讯股份有限公司 | method and device for obtaining initial point based on H264 motion estimation algorithm |
RU2477891C1 (en) * | 2011-09-02 | 2013-03-20 | Открытое акционерное общество "Концерн радиостроения "Вега" | Method of detecting modification of electronic image (versions) |
JP2013074571A (en) * | 2011-09-29 | 2013-04-22 | Sony Corp | Image processing apparatus, image processing method, program, and recording medium |
RU2487489C2 (en) * | 2011-10-18 | 2013-07-10 | Федеральное государственное автономное образовательное учреждение высшего профессионального образования "Национальный исследовательский университет "МИЭТ" | Method of searching for displacement vectors in dynamic images |
RU2493670C2 (en) * | 2011-12-15 | 2013-09-20 | Федеральное государственное автономное образовательное учреждение высшего профессионального образования "Национальный исследовательский университет "МИЭТ" | Method for block interframe motion compensation for video encoders |
US20150016530A1 (en) * | 2011-12-19 | 2015-01-15 | James M. Holland | Exhaustive sub-macroblock shape candidate save and restore protocol for motion estimation |
CN104811584B (en) * | 2014-01-29 | 2018-03-27 | 晨星半导体股份有限公司 | Image-processing circuit and method |
CN106537918B (en) * | 2014-08-12 | 2019-09-20 | 英特尔公司 | The system and method for estimation for Video coding |
CN104469381B (en) * | 2014-12-30 | 2017-06-30 | 合肥工业大学 | A kind of VLSI of H.264 motion estimation search window Adaptive adjusting algorithm realizes system |
US10999602B2 (en) | 2016-12-23 | 2021-05-04 | Apple Inc. | Sphere projected motion estimation/compensation and mode decision |
US11259046B2 (en) | 2017-02-15 | 2022-02-22 | Apple Inc. | Processing of equirectangular object data to compensate for distortion by spherical projections |
US10924747B2 (en) | 2017-02-27 | 2021-02-16 | Apple Inc. | Video coding techniques for multi-view video |
US11093752B2 (en) | 2017-06-02 | 2021-08-17 | Apple Inc. | Object tracking in multi-view video |
US10602180B2 (en) | 2017-06-13 | 2020-03-24 | Qualcomm Incorporated | Motion vector prediction |
US10754242B2 (en) | 2017-06-30 | 2020-08-25 | Apple Inc. | Adaptive resolution and projection format in multi-direction video |
CN107861990B (en) * | 2017-10-17 | 2020-11-06 | 深圳市梦网视讯有限公司 | Video searching method and system and terminal equipment |
US11899724B2 (en) * | 2019-04-19 | 2024-02-13 | Nec Corporation | Order preserving pattern matching apparatus, order preserving pattern matching method, and computer-readable medium storing program |
Citations (4)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US5557341A (en) * | 1991-04-12 | 1996-09-17 | Dv Sweden Ab | Iterative method for estimating motion content in video signals using successively reduced block size |
US6778606B2 (en) * | 2000-02-21 | 2004-08-17 | Hyundai Curitel, Inc. | Selective motion estimation method and apparatus |
US6891891B2 (en) * | 2000-05-05 | 2005-05-10 | Stmicroelectronics S.R.L. | Motion estimation process and system |
US6925123B2 (en) * | 2002-08-06 | 2005-08-02 | Motorola, Inc. | Method and apparatus for performing high quality fast predictive motion search |
Family Cites Families (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
JP4294743B2 (en) * | 1996-12-13 | 2009-07-15 | 富士通株式会社 | Motion vector search apparatus and moving picture coding apparatus |
JPH10210473A (en) * | 1997-01-16 | 1998-08-07 | Toshiba Corp | Motion vector detector |
US6081553A (en) * | 1998-04-06 | 2000-06-27 | Hewlett Packard Company | Block-matching motion estimation technique for video compression of noisy source signals |
-
2002
- 2002-08-06 US US10/212,940 patent/US6925123B2/en not_active Expired - Fee Related
-
2003
- 2003-07-25 WO PCT/US2003/023286 patent/WO2004013985A1/en active Application Filing
- 2003-07-25 RU RU2005106233/09A patent/RU2323541C2/en not_active IP Right Cessation
- 2003-07-25 CN CNB038189542A patent/CN100468982C/en not_active Expired - Fee Related
- 2003-07-25 MX MXPA05001447A patent/MXPA05001447A/en active IP Right Grant
- 2003-07-25 AU AU2003261250A patent/AU2003261250A1/en not_active Abandoned
- 2003-07-25 EP EP03766912.4A patent/EP1530831B1/en not_active Expired - Fee Related
- 2003-07-25 JP JP2004526157A patent/JP2005535228A/en active Pending
-
2005
- 2005-01-26 ZA ZA200500769A patent/ZA200500769B/en unknown
- 2005-01-26 ZA ZA2005/00796A patent/ZA200500796B/en unknown
- 2005-02-06 EG EGNA2005000020 patent/EG23806A/en active
- 2005-06-28 US US11/168,584 patent/US7463687B2/en not_active Expired - Fee Related
Patent Citations (4)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US5557341A (en) * | 1991-04-12 | 1996-09-17 | Dv Sweden Ab | Iterative method for estimating motion content in video signals using successively reduced block size |
US6778606B2 (en) * | 2000-02-21 | 2004-08-17 | Hyundai Curitel, Inc. | Selective motion estimation method and apparatus |
US6891891B2 (en) * | 2000-05-05 | 2005-05-10 | Stmicroelectronics S.R.L. | Motion estimation process and system |
US6925123B2 (en) * | 2002-08-06 | 2005-08-02 | Motorola, Inc. | Method and apparatus for performing high quality fast predictive motion search |
Cited By (18)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US10701368B2 (en) | 2000-12-06 | 2020-06-30 | Intel Corporation | System and method for intracoding video data |
US10250885B2 (en) | 2000-12-06 | 2019-04-02 | Intel Corporation | System and method for intracoding video data |
US8467453B2 (en) * | 2009-06-29 | 2013-06-18 | Silicon Integrated Systems Corp. | Motion vector calibration circuit, image generating apparatus and method thereof |
US20100329343A1 (en) * | 2009-06-29 | 2010-12-30 | Hung Wei Wu | Motion vector calibration circuit, image generating apparatus and method thereof |
US9955179B2 (en) | 2009-07-03 | 2018-04-24 | Intel Corporation | Methods and systems for motion vector derivation at a video decoder |
US9654792B2 (en) | 2009-07-03 | 2017-05-16 | Intel Corporation | Methods and systems for motion vector derivation at a video decoder |
US11765380B2 (en) | 2009-07-03 | 2023-09-19 | Tahoe Research, Ltd. | Methods and systems for motion vector derivation at a video decoder |
US8917769B2 (en) * | 2009-07-03 | 2014-12-23 | Intel Corporation | Methods and systems to estimate motion based on reconstructed reference frames at a video decoder |
US9445103B2 (en) | 2009-07-03 | 2016-09-13 | Intel Corporation | Methods and apparatus for adaptively choosing a search range for motion estimation |
US10863194B2 (en) | 2009-07-03 | 2020-12-08 | Intel Corporation | Methods and systems for motion vector derivation at a video decoder |
US9538197B2 (en) | 2009-07-03 | 2017-01-03 | Intel Corporation | Methods and systems to estimate motion based on reconstructed reference frames at a video decoder |
US20110002389A1 (en) * | 2009-07-03 | 2011-01-06 | Lidong Xu | Methods and systems to estimate motion based on reconstructed reference frames at a video decoder |
US20110002387A1 (en) * | 2009-07-03 | 2011-01-06 | Yi-Jen Chiu | Techniques for motion estimation |
US20110002390A1 (en) * | 2009-07-03 | 2011-01-06 | Yi-Jen Chiu | Methods and systems for motion vector derivation at a video decoder |
US10404994B2 (en) | 2009-07-03 | 2019-09-03 | Intel Corporation | Methods and systems for motion vector derivation at a video decoder |
US8462852B2 (en) | 2009-10-20 | 2013-06-11 | Intel Corporation | Methods and apparatus for adaptively choosing a search range for motion estimation |
US20110090964A1 (en) * | 2009-10-20 | 2011-04-21 | Lidong Xu | Methods and apparatus for adaptively choosing a search range for motion estimation |
US9509995B2 (en) | 2010-12-21 | 2016-11-29 | Intel Corporation | System and method for enhanced DMVD processing |
Also Published As
Publication number | Publication date |
---|---|
US20040028133A1 (en) | 2004-02-12 |
CN100468982C (en) | 2009-03-11 |
EP1530831B1 (en) | 2015-09-02 |
MXPA05001447A (en) | 2005-06-03 |
CN1675848A (en) | 2005-09-28 |
EP1530831A4 (en) | 2011-07-06 |
RU2323541C2 (en) | 2008-04-27 |
ZA200500796B (en) | 2006-07-26 |
AU2003261250A1 (en) | 2004-02-23 |
EG23806A (en) | 2007-09-03 |
ZA200500769B (en) | 2006-07-26 |
JP2005535228A (en) | 2005-11-17 |
US6925123B2 (en) | 2005-08-02 |
EP1530831A1 (en) | 2005-05-18 |
WO2004013985A1 (en) | 2004-02-12 |
RU2005106233A (en) | 2005-08-10 |
US20050238103A1 (en) | 2005-10-27 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US7463687B2 (en) | Method and apparatus for performing high quality fast predictive motion search | |
US7023921B2 (en) | Method and apparatus for determining block match quality | |
US9621917B2 (en) | Continuous block tracking for temporal prediction in video encoding | |
US8040948B2 (en) | Method and system for coding moving image signals, corresponding computer program product | |
Grecos et al. | Fast inter mode prediction for P slices in the H264 video coding standard | |
EP1960967B1 (en) | Motion estimation using prediction guided decimated search | |
US20070268964A1 (en) | Unit co-location-based motion estimation | |
US20150172687A1 (en) | Multiple-candidate motion estimation with advanced spatial filtering of differential motion vectors | |
JPH08512189A (en) | How to predict movement in a video sequence | |
JP2002152760A (en) | Hybrid type high-speed motion estimate method and its device | |
KR100560843B1 (en) | Method and Apparatus for Determining Search Range for Adaptive Motion Vector for Use in Video Encoder | |
US7433407B2 (en) | Method for hierarchical motion estimation | |
US20060056511A1 (en) | Flexible polygon motion estimating method and system | |
JP7054007B2 (en) | Encoding device and program | |
KR100987581B1 (en) | Method of Partial Block Matching for Fast Motion Estimation | |
KR100859073B1 (en) | Motion estimation method | |
JP2004260251A (en) | Apparatus and program of detecting motion vector | |
Wu et al. | Linear predicted hexagonal search algorithm with moments | |
Duanmu et al. | A continuous tracking algorithm for long-term memory motion estimation [video coding] | |
Wu et al. | Technical Report number RUCS/2005/TR/01/002/A |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
AS | Assignment |
Owner name: MOTOROLA MOBILITY, INC, ILLINOISFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:MOTOROLA, INC;REEL/FRAME:025673/0558Effective date: 20100731 |
|
FPAY | Fee payment |
Year of fee payment: 4 |
|
AS | Assignment |
Owner name: MOTOROLA MOBILITY LLC, ILLINOISFree format text: CHANGE OF NAME;ASSIGNOR:MOTOROLA MOBILITY, INC.;REEL/FRAME:029216/0282Effective date: 20120622 |
|
AS | Assignment |
Owner name: GOOGLE TECHNOLOGY HOLDINGS LLC, CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:MOTOROLA MOBILITY LLC;REEL/FRAME:034301/0001Effective date: 20141028 |
|
REMI | Maintenance fee reminder mailed | ||
LAPS | Lapse for failure to pay maintenance fees | ||
STCH | Information on status: patent discontinuation |
Free format text: PATENT EXPIRED DUE TO NONPAYMENT OF MAINTENANCE FEES UNDER 37 CFR 1.362 |
|
FP | Lapsed due to failure to pay maintenance fee |
Effective date: 20161209 |