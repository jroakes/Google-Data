EP3596725B1 - Detecting and suppressing voice queries - Google Patents
Detecting and suppressing voice queries Download PDFInfo
- Publication number
- EP3596725B1 EP3596725B1 EP18701897.3A EP18701897A EP3596725B1 EP 3596725 B1 EP3596725 B1 EP 3596725B1 EP 18701897 A EP18701897 A EP 18701897A EP 3596725 B1 EP3596725 B1 EP 3596725B1
- Authority
- EP
- European Patent Office
- Prior art keywords
- voice query
- voice
- query processing
- processing requests
- query
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Active
Links
- 238000012545 processing Methods 0.000 claims description 133
- 238000000034 method Methods 0.000 claims description 87
- 230000008569 process Effects 0.000 claims description 48
- 230000004044 response Effects 0.000 claims description 38
- 230000001629 suppression Effects 0.000 claims description 28
- 238000013518 transcription Methods 0.000 claims description 7
- 230000035897 transcription Effects 0.000 claims description 7
- 230000001133 acceleration Effects 0.000 claims description 5
- 238000005070 sampling Methods 0.000 claims 2
- 230000015654 memory Effects 0.000 description 36
- 238000004891 communication Methods 0.000 description 19
- 238000010586 diagram Methods 0.000 description 11
- 230000005236 sound signal Effects 0.000 description 11
- 230000004913 activation Effects 0.000 description 9
- 238000004590 computer program Methods 0.000 description 9
- 230000008859 change Effects 0.000 description 7
- 230000003993 interaction Effects 0.000 description 6
- 230000009471 action Effects 0.000 description 3
- 230000001413 cellular effect Effects 0.000 description 3
- 230000003287 optical effect Effects 0.000 description 3
- 230000002123 temporal effect Effects 0.000 description 3
- 230000008901 benefit Effects 0.000 description 2
- 238000012790 confirmation Methods 0.000 description 2
- 238000001514 detection method Methods 0.000 description 2
- 238000001914 filtration Methods 0.000 description 2
- 230000006870 function Effects 0.000 description 2
- 239000004973 liquid crystal related substance Substances 0.000 description 2
- 238000012216 screening Methods 0.000 description 2
- 239000000126 substance Substances 0.000 description 2
- 230000000007 visual effect Effects 0.000 description 2
- 230000003213 activating effect Effects 0.000 description 1
- 238000013528 artificial neural network Methods 0.000 description 1
- 230000006399 behavior Effects 0.000 description 1
- 230000005540 biological transmission Effects 0.000 description 1
- 238000013479 data entry Methods 0.000 description 1
- 230000001419 dependent effect Effects 0.000 description 1
- 230000000694 effects Effects 0.000 description 1
- 238000005516 engineering process Methods 0.000 description 1
- 230000000977 initiatory effect Effects 0.000 description 1
- 230000000116 mitigating effect Effects 0.000 description 1
- 238000010295 mobile communication Methods 0.000 description 1
- 238000012986 modification Methods 0.000 description 1
- 230000004048 modification Effects 0.000 description 1
- 238000012544 monitoring process Methods 0.000 description 1
- 230000006855 networking Effects 0.000 description 1
- 238000007781 pre-processing Methods 0.000 description 1
- 230000002265 prevention Effects 0.000 description 1
- 230000000644 propagated effect Effects 0.000 description 1
- 230000001953 sensory effect Effects 0.000 description 1
- 239000007787 solid Substances 0.000 description 1
- 230000003595 spectral effect Effects 0.000 description 1
- 230000003068 static effect Effects 0.000 description 1
- 239000013589 supplement Substances 0.000 description 1
- 238000012706 support-vector machine Methods 0.000 description 1
- 238000012546 transfer Methods 0.000 description 1
- 230000007704 transition Effects 0.000 description 1
- 230000003612 virological effect Effects 0.000 description 1
- 239000002699 waste material Substances 0.000 description 1
Images
Classifications
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/40—Information retrieval; Database structures therefor; File system structures therefor of multimedia data, e.g. slideshows comprising image and additional audio data
- G06F16/43—Querying
- G06F16/432—Query formulation
- G06F16/433—Query formulation using audio data
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L15/00—Speech recognition
- G10L15/08—Speech classification or search
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L15/00—Speech recognition
- G10L15/22—Procedures used during a speech recognition process, e.g. man-machine dialogue
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L15/00—Speech recognition
- G10L15/26—Speech to text systems
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L17/00—Speaker identification or verification
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L63/00—Network architectures or network communication protocols for network security
- H04L63/14—Network architectures or network communication protocols for network security for detecting or protecting against malicious traffic
- H04L63/1408—Network architectures or network communication protocols for network security for detecting or protecting against malicious traffic by monitoring network traffic
- H04L63/1425—Traffic logging, e.g. anomaly detection
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L63/00—Network architectures or network communication protocols for network security
- H04L63/14—Network architectures or network communication protocols for network security for detecting or protecting against malicious traffic
- H04L63/1441—Countermeasures against malicious traffic
- H04L63/1458—Denial of Service
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L15/00—Speech recognition
- G10L15/06—Creation of reference templates; Training of speech recognition systems, e.g. adaptation to the characteristics of the speaker's voice
- G10L15/063—Training
- G10L2015/0635—Training updating or merging of old and new templates; Mean values; Weighting
- G10L2015/0636—Threshold criteria for the updating
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L15/00—Speech recognition
- G10L15/08—Speech classification or search
- G10L2015/088—Word spotting
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L15/00—Speech recognition
- G10L15/22—Procedures used during a speech recognition process, e.g. man-machine dialogue
- G10L2015/223—Execution procedure of a spoken command
Definitions
- This specification generally relates to computer-based systems and techniques for recognizing spoken words, otherwise referred to as speech recognition
- Voice-based client devices can be placed in a home, office, or other environment and can transform the environment into a speech-enabled environment.
- a user can speak a query or command to prompt the voice-based client to generate an answer or to perform another operation in accordance with the user's query or command.
- the client may be configured to activate only when a pre-defined hotword is detected in the environment.
- a hotword which is also referred to as an "attention word" or "voice action initiation command,” is generally a predetermined word or term that is spoken to invoke the attention of a system.
- the system detects that the user has spoken a hotword, the system can enter a ready state for receiving further voice queries.
- US2007186282A1 describes techniques for identifying a potentially harmful request.
- a threat rating is assigned to a received request in accordance with one or more attribute values of the received request.
- An action is determined in accordance with the threat rating.
- US8561188B1 describes detection and prevention of botnet behavior by monitoring access request in a network.
- WO2016191232A1 describes techniques for mitigating computer network attacks.
- voice-based clients may communicate over a network with a voice query processing server system to obtain responses to voice queries detected by the clients.
- voice queries received at the server system may be for legitimate ends (e.g., to request an answer to an individual person's question or to invoke performance of a one-time transaction), not all voice queries may be benign.
- Some voice queries may be used by malicious actors, for example, to carry out a distributed denial of service (DDoS) attack.
- Other queries may arise from media content rather than human users, such as dialog in a video that includes a hotword.
- DDoS distributed denial of service
- the hotword may activate a voice-based client into a state in which other dialog in the video is inadvertently captured as a voice query and requested to be processed.
- the capture, transmission and/or processing of such dialog may constitute a waste of computational resources.
- the techniques disclosed herein can be used to detect illegitimate voice queries by clustering the same or similar queries received at a server system from multiple client devices over a period of time. If a group of common voice queries satisfies one or more suppression criteria, the system may blacklist the voice query so as to suppress performance of operations indicated by other, matching voice queries that the system subsequently receives.
- the system may identify a spike in traffic at the system as a signal to search for potentially illegitimate voice queries that may attempt to exploit the system.
- the system may block operations indicated in voice queries that risk compromising user accounts or consuming computational resources of client devices and/or a server system.
- the system can identify illegitimate voice queries without human intervention and even if the voice queries do not contain pre-defined markers of illegitimate voice queries. For example, the system may determine that a common set of voice queries issued by devices within a particular geographic area are illegitimate based on a statistical inference that the same voice query would not be independently repeated by users above a threshold volume or frequency within a specified time interval.
- the system may classify such a commonly occurring voice query as illegitimate and permanently or temporarily blacklist the query for all or some users of the system. Additional features and advantages will be recognized by those of skill in the art based on the following description, the claims, and the figures.
- an illegitimate voice query is a voice query that is not issued under conditions that a voice query processing system deems acceptable such that the voice query can be safely processed.
- some illegitimate voice queries may be issued by malicious actors in an attempt to exploit a voice query processing system, e.g., to invoke a fraudulent transaction or to invoke performance of operations that risk consuming an unwarranted amount of computational resources of the system.
- the techniques disclosed herein may be applied to detect and suppress a large-scale event in which voice queries are issued to many (e.g., tens, hundreds, or thousands) voice-based clients simultaneously or within a short timeframe in an attempt to overload the backend servers of a voice query processing system.
- the system may monitor characteristics of incoming voice query processing requests across a population of client devices to identify potential threats and suppress processing of illegitimate voice queries. The details of these and additional techniques are described with respect to the figures.
- Figure 1A is a conceptual diagram of an example process 100 for responding to a first voice query 118a and suppressing a second voice query 118b.
- the first voice query 118a may be a legitimate query that a voice query processing system 108 is configured to respond to in a manner expected by a user 104
- the second voice query 118b may be an illegitimate voice query has been blacklisted so as to prevent the voice query processing system 108 from acting on the query in a requested manner.
- a voice query client device 102 receives the first voice query 118a and the second voice query 118b.
- the client device 102 may be any suitable device that can receive voice queries and interact with a remotely located voice query processing system 108 to process the received voice queries and determine how to respond to such queries.
- the client device 102 may be a smart appliance, a mobile device (e.g., a smartphone, a tablet computer, a notebook computer), a desktop computer, or a wearable computing device (e.g., a smartwatch or virtual reality visor).
- the client device 102 is a voice-based client that primarily relies on speech interactions to receive user inputs and present information to users.
- the device 102 may include one or more microphones and a hotworder that is configured to constantly listen for pre-defined hotwords spoken in proximity of the device 102 (e.g., in a local environment of the device 102).
- the device 102 may be configured to activate upon detecting ambient audio that contains a pre-defined hotword.
- the phrase "OK Voice Service" is a hotword that activates the device 102 in a mode that enables it to receive voice queries.
- a voice-based client device 102 can facilitate a substantially hands-free experience for a user so that the user can provide queries and obtain responses without needing to physically interact with the device 102 with his or her hands.
- a voice query is generally a string of one or more words that are spoken to prompt a computing system to perform one or more operations indicated by the words.
- the first voice query 118a includes the phrase "What's traffic like to work today?"
- the first voice query 118a is thus spoken in a natural and conversation manner that the voice query processing system 108 is capable of parsing to determine a meaning of the query and a response to the query.
- the second voice query 118b includes the phrase "What's on my calendar today?", which is spoken to prompt the client device 102 and/or the voice query processing system 108 to identify events on a user's calendar and to present a response to the user.
- Some voice queries may include a carrier phrase as a prefix that indicates a particular operation or command to be performed, followed by one or more words that indicate parameters of the operation or command indicated by the carrier phrase.
- a carrier phrase may be the same or different from a hotword for activating a device 102.
- a user 104 may first speak the "OK Voice Service” hotword to activate the device 102 and then speak the query "Call Maria's school” to prompt a dialing operation.
- the first voice query 118a is uttered by a human user 104
- the second voice query 118b is a recording or synthesized speech played by speaker(s) of an audio device 106.
- the audio device 106 may be any audio source that generates voice queries in audible range of the client device 102, e.g., in the same room or other local environment of the client device 102.
- the audio device 106 may be a television, a multimedia center, a radio, a mobile computing device, a desktop computer, a wearable computing device, or other types of devices that include one or more speakers to playback a voice query.
- an audio device 106 may be caused to play an illegitimate voice query.
- an attacker may attempt to overload the voice query processing subsystem 108 by broadcasting the second voice query 118b to many audio devices 106 in separate locations, so as to cause many instances of the second voice query 118b to be played in close temporal proximity to each other.
- Client devices 102 located near the audio devices 106 may detect respective instances of the second voice query 118b and request the voice query processing system 108 to process the second voice query 118b at substantially the same or similar times.
- Such a distributed attack may occur by leveraging playback of viral online videos or broadcasting video content (e.g., television shows or commercials) that includes a voice query having the pre-defined activation hotword for playback on audio devices 106 in various environments in proximity of client devices 102.
- the system 108 may determine that the first voice query 118a is legitimate and provide a response to the first voice query 118a based on performance of an operation indicated by the voice query 118a.
- the system 108 may determine that the second voice query 118b is illegitimate and therefore selects to suppress performance of the operation indicated by the second voice query 118b.
- the device 102 may generate and transmit a request to the voice query processing system 108 requesting the system 108 to process the received voice query.
- a request can be, for example, a hypertext transfer protocol (HTTP) message that includes header information and other information that identifies the voice query that is to be processed.
- the other information that identifies the voice query can be audio data for the voice query itself such that data representing the voice query is embedded within the request.
- the information that identifies the voice query in a request may be an address or other pointer indicating a network location at which a copy of the voice query can be accessed.
- the voice query processing system 108 and the client device 102 can be remotely located from each other and can communicate over one or more networks (e.g., the Internet).
- the client device 102 may transmit voice query processing requests 118a, 118b over a network to the voice query processing system 108, and in response, the voice query processing system 108 may transmit responses 126a, 126b to the requests 118a, 11b over the network to client device 102.
- the audio data representing a voice query indicated in a request may include audio data for the content of the query (e.g., "What's traffic like to work today?" or "What's on my calendar today?”), and optionally may include audio data for an activation hotword that precedes the content of the query (e.g., "OK Voice Service").
- the audio data may further include a representation of audio that precedes or follows the voice query for a short duration to provide additional acoustic context to the query.
- the client device 102 may use various techniques to capture a voice query.
- the device 102 may record audio for a fixed length of time following detection of an activation hotword (e.g., 2-5 seconds). In some implementations, the device 102 may use even more sophisticated endpointing techniques to predict when a user has finished uttering a voice query.
- the client device 102 transmits a first request 122a to the voice query processing system 108.
- the client device 102 transmits a second request 122b to the voice query processing system 108.
- the requests 122a, 122b include, or otherwise identify, audio data for the first voice query 118a and the second voice query 118b, respectively.
- the operations associated with processing voice queries 118a and 118b are described here in parallel by way of example, in practice the voice queries 118a and 118b may be detected at different times and processed independently of each other in a serial manner.
- the voice query processing system 108 screens the request to determine whether the voice query identified by the request is legitimate. If a voice query is legitimate (e.g., benign), the system 108 may process the voice query in an expected manner by performing an operation indicated by the query. However, if a voice query is deemed illegitimate, the system 108 may suppress performance of one or more operations indicated by the query.
- a voice query e.g., benign
- the system 108 may process the voice query in an expected manner by performing an operation indicated by the query. However, if a voice query is deemed illegitimate, the system 108 may suppress performance of one or more operations indicated by the query.
- the system 108 may provide the request 122a to a gatekeeper 110 (stage C) that implements a voice query suppression service.
- the gatekeeper 110 generates an electronic fingerprint that distinctively models the first voice query 118a identified by the request 122a.
- the fingerprint may represent acoustic features derived from audio data of the first voice query 118a and, optionally, may include a textual transcription of the first voice query 118a.
- the gatekeeper 110 may then compare the fingerprint for the first voice query 118a to fingerprints stored in the database 112 (stage D), which are fingerprints of voice queries that have been blacklisted by the system 108.
- the first voice query 118a is validated as a legitimate query and is provided to a validated query processing subsystem 116 for further processing.
- the validated query processing subsystem 116 may transcribe and parse the first voice query 118a to determine a requested operation, and may at least partially perform the requested operation (e.g., gather data about traffic conditions on a route to work for the user 104).
- the second voice query 118b is also screened by the gatekeeper 110 and is determined to be an illegitimate voice query having a fingerprint that matches a fingerprint in the database of blacklisted queries 112.
- the voice query processing system 108 suppresses complete performance of the operation indicated by the second voice query 118b.
- the system 108 may not provide the voice query 118b to the validated query processing subsystem 116 in response to determining that the voice query 118b is not a legitimate query.
- the voice query processing system 108 returns a response 126a to the client device's first request 122a.
- the response 126a may be, for example, text or other data that the client device 102 can process with a speech synthesizer to generate an audible response to the user's question about current traffic conditions on route to work.
- the voice query processing system 108 includes a speech synthesizer that generates an audio file which is transmitted to the client device 102 for playback as a response to the first query 118a.
- the system 108 does not transmit a substantive response to the question about the current day's calendar events, as indicated by the second voice query 118b.
- the system 108 may transmit an indication 126b that processing of the second voice query 118b was suppressed (e.g., blocked) or otherwise could not be performed.
- the voice query processing system 108 may not send any message to the client device 102 in response to a request that has been blocked for identifying an illegitimate voice query.
- the client device 102 may instead, for example, timeout waiting for a response from the system 108. Upon timing out, the device 102 may re-enter a state in which it prepares to receive another voice query by listening for an occurrence of the activation hotword in the local environment.
- the voice query processing system 108 further includes a traffic analyzer 114.
- the traffic analyzer 114 monitors characteristics of requests received by the system over time from a range of client devices 102 that the system 108 services.
- the traffic analyzer 114 can identify trends in network traffic received from multiple client devices 102 to automatically identify illegitimate voice queries.
- the traffic analyzer 114 may, for instance, determine a volume of requests received over a given time interval for a common voice query.
- the traffic analyzer 114 may classify a voice query as illegitimate and add a fingerprint of the query to the database 112. As such, so long as the fingerprint for the query is registered in the database 112, the gatekeeper 110 may suppress voice queries that correspond to the blacklisted query. Additional detail about the traffic analyzer 114 is described with respect to Figures 2B , 3 and 4 .
- Figure 1B is a conceptual diagram of the voice query processing system 108 in communication with a multiple client devices 102a-i. Although Figure 1A focused on the interaction between the voice query processing system 108 and a particular client device 102, Figure 1B shows that the system 108 may interact with many client devices 102a-i concurrently.
- Each of the client devices 102a-i sends voice query processing requests 118 to the system 108.
- the system 108 may screen the requests 118 with a gatekeeper 110 to classify voice queries identified in the requests 118 as legitimate or not. The system 108 may then either respond to the requests 118 as requested in the voice queries or suppress performance of operations indicated by the voice queries based on whether the queries have been classified as legitimate.
- different ones of the client devices 102a-i may be geographically distant from each other and located in different acoustic environments.
- An acoustic environment defines an area within aural range of a given client device 102 such that the device 102 can detect voice queries uttered at normal audible levels like those spoken by a human (e.g., 60-90 dB).
- Some environments can have multiple client devices located within them. For example, both client devices 106a and 106b are located in the same acoustic environment 152a. As such, both devices 106a and 106b may detect the same voice queries spoken within the common environment 152a.
- Other environments, such as environment 152b may include just a single client device 102 that is configured to process voice queries uttered in the environment.
- the system 108 includes a traffic analyzer 114 that analyzes trends in the traffic of voice query processing requests received from many different client devices over time. If certain conditions in traffic patterns are met, the traffic analyzer 114 may identify voice queries that are common across multiple requests and register all or some of these queries as illegitimate. Future occurrences of the illegitimate voice queries may then be detected and, as a result, the system 108 may suppress performance of operations indicated by the queries.
- a traffic analyzer 114 that analyzes trends in the traffic of voice query processing requests received from many different client devices over time. If certain conditions in traffic patterns are met, the traffic analyzer 114 may identify voice queries that are common across multiple requests and register all or some of these queries as illegitimate. Future occurrences of the illegitimate voice queries may then be detected and, as a result, the system 108 may suppress performance of operations indicated by the queries.
- the client device 200 can be a computing device in a local acoustic environment that is configured to detect voice queries uttered in the local environment, and to communicate with the voice query processing server system to obtain responses to the detected voice queries.
- the client device 200 is configured in a like manner to client device 102 ( Figures 1A-1B ).
- the voice query processing server system 250 is a system of one or more computers, which may be implemented in one or more locations.
- the system 250 is configured to perform backend operations on voice query processing requests corresponding to voice queries detected by client devices 200.
- the system 250 may communicate with one or more client devices 200 over a network such as the Internet.
- the system 250 is configured in a like manner to system 108 ( Figures 1A-1B ).
- the client device 200 can include all or some of the components 202-224.
- the client device 200 is a voice-based client that primarily relies on speech interactions to receive user inputs and to provide responses to users.
- the client device 200 may be set in a local environment such as an office, a residential living room, a kitchen, or a vehicle cabin.
- the device 200 may maintain a low-powered default state. In the low-powered state, the device 200 monitors ambient noise in the local environment until a pre-defined activation hotword is detected. In response to detecting the occurrence of an activation hotword, the device 200 transitions from the low-powered state to an active state in which it can receive and process a voice query.
- the device 200 may include one or more microphones 202.
- the device can record audio signals detected by the microphones 202 and process the audio with a hotworder 204.
- the hotworder 204 is configured to process audio signals detected in the local environment of the device 200 to identify occurrences of pre-defined hotwords uttered in the local environment. For example, the hotworder 204 may determine if a detected audio signal, or features of the detected audio signal, match a pre-stored audio signal or pre-stored features of an audio signal for a hotword.
- the hotworder 204 may provide an indication to a controller to trigger the device 200 to wake-up so that it may capture and process a voice query that follows the detected hotword.
- the hotworder 204 is configured to identify hotwords in an audio signal by extracting audio features from the audio signal such as filterbank energies or mel-frequency cepstral coefficients. The hotworder 204 may use classifying windows to process these audio features using, for example, a support vector machine, a machine-learned neural network, or other models.
- the client device further includes an audio buffer 206 and an audio pre-processor 208.
- the audio pre-processor 208 receives an analog audio signal from the microphones 202 and converts the analog signal to a digital signal that can be processed by the hotworder 204 or other components of the client device 200.
- the pre-processor 208 may amplify, filter, and/or crop audio signals to determined lengths. For example, the pre-processor 208 may generate snippets of audio that contain a single voice query and, optionally, a short amount of audio preceding the voice query, a short amount of audio immediately following the voice query, or both.
- the voice query may or may not include the activation hotword that precedes the substance of the query.
- the audio-pre-processor 208 can process initial audio data for a voice query to generate a feature representation of a voice query that includes features (e.g., filterbank energies, spectral coefficients).
- the digital audio data generated by the pre-processor 208 e.g., a processed digital waveform representation of a voice query or a feature representation of the voice query
- the client device 200 can further include an electronic display 212 to present visual information to a user, speakers 214 to present audible information to a user, or both. If the device 200 is a voice-based client that is primarily configured for hands-free user interactions based on voice inputs and speech-based outputs, the device 200 may present responses to user queries using synthesized speech that is played through the speakers 214.
- the device 200 may receive illegitimate voice queries that are subject to suppression so as to prevent exploitation of user account information, the client device 200, or the voice query processing server system 250.
- the client device 200 includes a local gatekeeper 216 to screen voice queries detected by the client device 200 and to determine whether to suppress operations associated with certain voice queries.
- the gatekeeper 216 can include a fingerprinter 218, a database 220 of blacklisted voice queries, a suppressor 222, and a suppression log 224.
- the fingerprinter 218 is configured to generate an electronic fingerprint for a voice query.
- the electronic fingerprint is a model or signature of a voice query that identifies distinctive features of the query.
- the fingerprint can include an audio component that represents acoustic features of the query, a textual component that represents a transcription of the query, or both.
- the fingerprint may model both the substance of the query (what was spoken) as well as the manner in which it was spoken, which may vary based on the speaker or other factors.
- the gatekeeper 216 may compare a fingerprint for a voice query detected in a local (e.g., acoustic) environment to fingerprints for blacklisted voice queries stored in the database 220. If the gatekeeper 216 determines a match between the fingerprint and one or more of the fingerprints in database 220, an indication may be provided to the suppressor 222.
- the suppressor 222 suppresses performance of operations associated with voice queries that are determined to be illegitimate. In some implementations, the suppressor 222 may block an operation from being performed in the first instance. For example, if the query "What meetings do I have with Becky today?" is deemed illegitimate, the suppressor 222 may block the system from accessing calendar data to answer the question.
- the suppressor 222 may reverse an operation that was performed if a query was not immediately identified as being illegitimate, but is later determined to be illegitimate. For example, a change to a user account setting or a financial transaction requested in a voice query may be reversed if the query is determined to be illegitimate after the operation was initially performed.
- the gatekeeper 216 maintains a suppression log 224.
- the suppression log 224 is a data structure stored in memory of the client device 200 that includes data entries representing information about illegitimate voice queries and information about suppressed operations associated with illegitimate voice queries.
- the device 200 may periodically transmit information from the suppression log 224 to a remote server system, e.g., voice query processing server system 250 for analysis.
- the gatekeeper 216 may screen every voice query received at the client device 200 to determine if it is an illegitimate query that corresponds to a blacklisted query. In other implementations, the gatekeeper 216 may select to screen only some voice queries received at the client device 200, rather than all of them. The selection may be random or based on defined filtering criteria (e.g., every nth voice query received, voice queries received during certain times, voice queries received from particular users).
- the client device 200 may also include a network interface 210 that enables the device 200 to connect to one or more wired or wireless networks.
- the device 200 may use the network interface 210 to send messages to, and receive messages from, a remote computing system over a packet-switched network (e.g., the Internet), for example.
- a packet-switched network e.g., the Internet
- the client device 200 obtains fingerprints to add to the blacklisted voice queries database 220 from the voice query processing server system 250 over a network.
- the client device 200 may transmit audio data for received voice queries from the client device 200 to the voice query processing server system 250.
- the audio data may be transmitted to the system 250 along with requests for the system 250 to process the voice query, including to screen the voice query for legitimacy, and to invoke any operations specified in a validated (legitimate) query.
- the voice query processing server system 250 is configured to receive voice query processing requests from one or more client devices, along with audio data for voice queries identified in the requests.
- the voice query processing system 250 may communicate with the client devices (e.g., client device 200) over one or more networks using a network interface 256.
- the system 250 is distributed among multiple computers in one or more locations.
- the system 250 may also include a speech recognizer 251, a natural language processor 252, a service hub 254, a gatekeeper 258, and a traffic analyzer 268, or a combination of all or some of components 251-268.
- the server gatekeeper 258 can perform the same or similar operations to those described with respect to the gatekeeper 216 at client device 200. However, unlike the client-side gatekeeper 216, the server gatekeeper 258 may screen voice queries from many devices connected to the system 250. As an example, the fingerprinter 260 may process audio data for a voice query to generate an electronic fingerprint of the voice query. The generated fingerprint can be compared to fingerprints that have been registered with a voice query suppression service. The registered fingerprints are stored in database 262. A suppressor 264 suppresses operations associated with illegitimate voice queries. The gatekeeper 258 may classify a voice query as illegitimate if the electronic fingerprint of the query matches one of the registered fingerprints in database 262.
- the gatekeeper 258 may require an identical match to classify a voice query as illegitimate. In other implementations, an identical match may not be required. In these implementations, the gatekeeper 258 may allow for a non-zero tolerance to identify matches among fingerprints that are sufficiently similar so as to confidently indicate that the voice queries from which the fingerprints were derived are the same (e.g., common voice queries). For example, if a similarity score representing the similarity between two fingerprints meets a threshold value, the gatekeeper 258 may determine a match between fingerprints.
- the threshold value represents an acceptable tolerance for the match and may be a fixed value or a dynamic value that changes based on certain parameters. Information about voice queries that have been classified as illegitimate and information about suppressed operations associated with illegitimate voice queries may be stored in suppression log 266.
- the queries may be processed by a speech recognizer 251, natural language processor 252, service hub 254, or a combination of these.
- the speech recognizer 251 is configured to process audio data for a voice query and generate a textual transcript that identifies a sequence of words included in the voice query.
- the natural language processor 252 parses the transcription of a voice query to determine an operation requested by the voice query and any parameters in the voice query that indicate how the operation should be performed. For example, the voice query "Call Bob Thomas" includes a request to perform a telephone calling operation and includes a callee parameter indicating that Bob Thomas should be the recipient of the call.
- the service hub 254 may then interact with one or more services to perform the operation and to generate a response to the query.
- the service hub 254 may be capable of interacting a wide range of services that can perform a range of operations that may be specified in a voice query. Some of the services may be hosted on the voice query processing system 250 itself, while other services may be hosted on external computing systems.
- the voice query processing system 250 includes a traffic analyzer 268.
- the traffic analyzer 268 is configured to aggregate and analyze data traffic (e.g., voice query processing requests) received by the system 250 over time. Based on results of the analysis, the traffic analyzer 268 may identify a portion of the traffic that likely pertains to illegitimate voice queries. The voice queries associated with such traffic may be blacklisted so that subsequent voice queries that match the blacklisted queries are suppressed. In some implementations, the traffic analyzer 268 may identify an illegitimate voice query without supervision and without a priori knowledge of the voice query.
- data traffic e.g., voice query processing requests
- the traffic analyzer 268 may further identify an illegitimate voice query without identifying a pre-defined watermark in the voice query that is intended to signal that operations associated with the voice query should be suppressed (e.g., a television commercial that includes a watermark to prevent triggering voice-based client devices in audible range of the devices when an activation hotword is spoken in the commercial).
- an illegitimate voice query without identifying a pre-defined watermark in the voice query that is intended to signal that operations associated with the voice query should be suppressed (e.g., a television commercial that includes a watermark to prevent triggering voice-based client devices in audible range of the devices when an activation hotword is spoken in the commercial).
- the traffic analyzer 268 may include all or some of the components 270-280 shown in Figure 2B .
- the fingerprinter 270 is configured to generate an electronic fingerprint of a voice query, e.g., like fingerprinters 218 and 260 in gatekeepers 216 and 268, respectively.
- the fingerprint database 272 stores fingerprints for voice queries that the system 250 has received over a period of time.
- the collision detector 274 is configured to identify a number of collisions or matches between fingerprints in the fingerprint data base 272. In some implementations, the collision detector 274 is configured to blacklist a voice query represented by a group of matching fingerprints in the fingerprint database 272 based on a size of the group.
- the traffic analyzer 268 identifies that a common voice query appears in requests received by the system 250 with sufficient frequency over time, as indicated by the size of the matching group of fingerprints, then the common voice query may be blacklisted, e.g., by adding a fingerprint of the voice query to database 262 and/or database 220.
- traffic volume analyzer 278 monitors a volume of traffic received at the system 250 over time.
- the analyzed traffic may be global or may be only a portion of traffic that the traffic filter 280 has filtered based on criteria such as the geographic locations of users or client devices that submitted the voice queries, the models of client devices that submitted the voice queries, profile information of users that submitted the queries, or a combination of these and other criteria. If the volume of requests that the system 250 receives in a given time interval is sufficiently high (e.g., meets a threshold volume), the volume analyzer 278 may trigger the collision detector 274 to search for illegitimate voice queries in the received traffic.
- the collision detector 274 may identify an illegitimate voice query from a set of traffic based on identifying that a common voice query occurs in a significant portion of the traffic. For example, if a threshold number of voice query processing requests from various client devices, or a threshold portion of the requests in a sample set of traffic, are determined to include the same voice query, the analyzer 268 may blacklist the voice query and register its electronic fingerprint with a gatekeeper 216 or 258 (e.g., a voice query suppression service).
- a gatekeeper 216 or 258 e.g., a voice query suppression service
- a policy manager 276 manages the criteria by which the traffic analyzer 268 determines to filter traffic, trigger searches for illegitimate voice queries, and blacklist common voice queries.
- the policy manager 276 can expose an application programming interface ("API") or provide a dashboard or other interface for a system administrator to view and adjust these policies.
- API application programming interface
- FIG. 3 is a flowchart of an example process 300 for analyzing traffic at a voice query processing system to identify an illegitimate voice query based on a volume of traffic experienced by the system over time.
- the process 300 may be carried out by a voice query processing server system, e.g., voice query processing server system 108 or 250.
- the voice query processing server system may have a traffic analyzer, e.g., traffic analyzer 268, to analyze voice query processing requests received by the system over time and detect illegitimate voice queries indicated by such requests.
- a traffic analyzer e.g., traffic analyzer 268, to analyze voice query processing requests received by the system over time and detect illegitimate voice queries indicated by such requests.
- the voice query processing system receives requests from client devices to process voice queries that were detected by the client devices in their local environments.
- the system communicates with many client devices (e.g., tens, hundreds, thousands, or millions) over one or more networks, and therefore receives many voice query processing requests.
- a voice query processing request typically identifies a single voice query that the system is requested to process, although in some implementations a query may identify multiple voice queries.
- the voice query processing system may process a voice query by transcribing the voice query to text and performing an operation indicated by the content of the query.
- the system may transmit to a client device a response to a voice query, which may be a confirmation that an operation was performed successfully, an indication that a requested operation has been suppressed, or an answer to a question, for instance.
- audio data e.g., a compressed waveform or audio features
- the audio data for a voice query can be transmitted to the server system in one or more messages separate from the request itself, but the request references the messages that provide the audio data.
- a voice query processing request may include a pointer or other address indicating a network storage location that the server system can access a copy of audio data for the voice query at issue.
- the system determines a volume of client requests (e.g., traffic) received over time. This stage may be performed, for example, by traffic volume analyzer 278.
- the volume of received requests can be determined with respect to a defined window of time.
- the system determines the volume of client requests received during a most recent period of time (e.g., a number of requests received in the past 30 seconds, 1 minute, 2 minutes, 5 minutes, 15 minutes, 30 minutes, 1 hour, 4 hours, 12 hours, 24 hours, or 1 week).
- the time interval may be pre-defined and may be a static or dynamic parameter that can be set automatically or based upon user input.
- the volume of received requests represents a value that is based upon a total number of requests received by the system during the specified time interval.
- the volume indicates an absolute number of requests received by the system during a specified time interval.
- the volume indicates a relative number of requests received by the system during a specified time interval.
- the volume indicates a rate of change in the number of requests received by the system during a specified time interval.
- the volume indicates an acceleration in the number of requests received by the system during a specified time interval.
- the volume is a value that is based upon a combination of factors such as two or more of an absolute number, a relative number, a rate of change, and an acceleration in the number of requests received by the system during a specified time interval.
- the system determines the volume of requests received by the system globally over time (e.g., counts substantially all requests received by the system during a specified time interval without filtering the requests). In other implementations, the system determines the volume of requests only with respect to requests having characteristics that meet certain criteria. For example, the system may determine a volume of requests received from client devices having a limited set of internet protocol (IP) addresses, from client devices or users that are located in particular geographic regions, or from particular models of client devices.
- IP internet protocol
- the system determines whether the volume of requests received by the system over time, as determined at stage 304, meets one or more criteria for triggering a deep-dive traffic analysis.
- Stage 306 may be performed by a traffic volume analyzer 178, for example.
- the system analyzes voice query processing requests received over a period of time in search of any illegitimate voice queries that should be blacklisted.
- the determining whether the volume of requests meets criteria for triggering a deep-dive traffic analysis includes comparing the volume of requests received during a particular time interval to a threshold value.
- the system may compare the absolute number of requests received to a threshold number of requests. If a traffic spike is indicated because the actual number of requests received exceeds the threshold, the system may proceed to a deep-dive traffic analysis at stage 308. If the volume of requests indicates a rate of change in the number of requests received by the system over time, the system may compare the observed rate of change to a threshold rate to determine whether to perform a deep-dive traffic analysis. If the criteria for triggering a deep-dive analysis is not satisfied, the process 300 may end or return to stage 302 in some implementations.
- the system performs a deep-dive analysis of received requests to determine if the requests include any illegitimate voice queries that are not currently blacklisted.
- This stage 308 can be performed by a fingerprinter 270, collision detector 274, and traffic volume analyzer 278 in some implementations. If, for example, a malicious entity has launched a distributed campaign against the voice query processing system 250 (e.g., a distributed denial of service (DDOS) attack), the system may be flooded within a short time span with requests to process many instances of the same or similar voice query.
- DDOS distributed denial of service
- a video broadcasted on television or over a computer network may be played, where the video is designed to trigger many voice-based clients in audible range of the played video to generate voice query processing requests containing a voice query uttered in the video.
- one objective of the system at stage 308 is to identify a common voice query that occurs within a significant number of requests received from client devices over a period of time. Because utterances for voice queries from legitimate users are typically distinctive, e.g., based on the unique voice patterns and speech characteristics of individual speakers, the system may classify a common voice query that occurs in many voice query processing requests from disparate client devices over time as illegitimate.
- the system may then flag the voice query as illegitimate.
- the volume of common voice queries can be determined based on a count of a number of voice queries whose electronic fingerprints match each other, a number of voice queries whose text transcriptions match each other, or a combination of these.
- the volume may be an absolute count of the number of voice queries in a group of voice queries having matching electronic fingerprints and/or transcriptions, a relative count, a rate of change in counts over time, an acceleration of counts over time, or a combination of these.
- the analysis in stage 308 is limited to voice query processing requests received over a limited time interval.
- the time interval may be the same or different from the time interval applied in stage 304.
- the analysis in stage 308 is not limited to voice query processing requests received over a specific time interval. For example, a video on an online video streaming service may be played a number of times by different users, even if not within a short time span.
- the system may detect common occurrences of a voice query in the video over time and determine that the voice query is not an actual user's voice, but is rather a feature of a reproducible media. Accordingly, the voice query may be deemed illegitimate and blacklisted.
- the system determines whether a set of requests that request processing of a common voice query meets one or more suppression criteria.
- the suppression criteria can include a volume of requests associated with the common voice criteria, characteristics of the common voice query (e.g., whether the query includes blacklisted terms), and/or additional criteria.
- the system may classify as illegitimate a voice query that is common among a set of requests if it determines that the size of the set (e.g., the volume or quantity of requests in the set) meets a threshold size, thereby indicating for example that the common voice query occurs with sufficient frequency in received traffic.
- signals in addition to or alternatively to the size of the set can be applied in determining whether the set of requests meets suppression criteria.
- These signals can include information about user feedback to a response to the voice query or to an operation performed as requested in the voice query.
- the system may obtain data that indicates whether a user accepted, rejected, or modified a response to a voice query.
- the system may bias its determination as to whether the voice query should be blacklisted or whether the set of requests meets prescribed suppression criteria.
- the system may prompt users to confirm that they would like to obtain a response to this question. As more users confirm that the system accurately received the voice query and confirm that they desire to obtain a response to the question, the system may be influenced as less likely that the voice query is illegitimate (and less likely to meet the suppression criteria). In contrast, as more users cancel or modify the query in response to the prompt, the system may be influenced as more likely to classify the voice query as illegitimate (and more likely to meet the suppression criteria).
- the system selects a path in the process 300 based on whether the set of requests for the common voice query meets the suppression criteria. If the suppression criteria is met, the process 300 can advance to stage 314. If the suppression criteria is not met, the process may, for example, return to stage 302.
- the suppression criteria is a null set. That is, any set of requests that identify a common voice query may be classified as illegitimate regardless of whether the set meets additional criteria.
- a fingerprinter e.g., fingerprinter 270, generates an electronic fingerprint to model the common voice query that occurs in a set of requests.
- the fingerprinter may generate an electronic fingerprint from audio data for the voice query, a textual transcription of the voice query, or both.
- the fingerprint is derived from a representative instance of the common voice query selected from among the set of voice queries identified by the set of requests.
- the representative instance of the common voice query may be selected in any suitable manner, e.g., by selecting an instance of the common voice query having a highest audio quality or by selecting the representative instance at random.
- the fingerprint is derived from multiple representative instances of the common voice query or from all of the common voice queries identified by the set of requests. For example, the audio data from multiple instances of the common voice query may be merged before generating a fingerprint. Alternatively, intermediate fingerprints may be generated for each instance, and the intermediate fingerprints then merged to form a final electronic fingerprint for the common voice query.
- the system's traffic analyzer registers the electronic fingerprint of the common voice query with a gatekeeper.
- registering the fingerprint includes adding the fingerprint to a database of voice queries, e.g., database 262, which the gatekeeper checks new voice queries against to determine whether to suppress requested operations indicated by the new voice queries.
- a voice query may be blacklisted for only a subset of client devices which interact with the system, rather than being universally blacklisted. For example, if the system identifies that an illegitimate voice query is originating from a devices in a particular geographic region, the system may blacklist the voice query only with respect to client devices or users located in that region. In some implementations, the system may also attach temporal constraints to a blacklisted voice query.
- a voice query may be blacklisted either in perpetuity (no expiration) or temporarily. After a voice query is removed from the blacklist, new instances of the voice query may not be subject to suppression. Temporal constraints, geographic constraints, and other rules that govern how a voice query is blacklisted can be registered along with the fingerprint for the voice query in a database of a gatekeeper.
- the server system can push updates to the client devices to keep the devices' local blacklist databases current. For example, a fingerprint for a voice query that the traffic analyzer at the server system has recently classified as illegitimate may be transmitted to multiple client devices.
- the system may push a fingerprint for a blacklisted voice query to all client devices without restriction.
- the system may push a fingerprint for a blacklisted voice query only to client devices that are covered by the blacklist, e.g., devices within a particular geographic region.
- FIG. 4 is a flowchart of an example process 400 for analyzing traffic at a voice query processing system to identify an illegitimate voice query based on the frequency that a common voice query occurs in the traffic over time.
- the process 400 may be carried out by a voice query processing system, e.g., systems 108 or 250.
- the process 400 is carried out at least in part by a traffic analyzer at a server system, e.g., traffic analyzer 268.
- the voice query processing system receives requests from client devices to process voice queries that were detected by the client devices in their local environments.
- the system communicates with many client devices (e.g., tens, hundreds, thousands, or millions) over one or more networks, and therefore receives many voice query processing requests.
- a voice query processing request typically identifies a single voice query that the system is requested to process, although in some implementations a query may identify multiple voice queries.
- the voice query processing system may process a voice query by transcribing the voice query to text and performing an operation indicated by the content of the query.
- the system may transmit to a client device a response to a voice query, which may be a confirmation that an operation was performed successfully, an indication that a requested operation has been suppressed, or an answer to a question, for instance.
- audio data e.g., a compressed waveform or audio features
- the audio data for a voice query can be transmitted to the server system in one or more messages separate from the request itself, but the request references the messages that provide the audio data.
- a voice query processing request may include a pointer or other address indicating a network storage location that the server system can access a copy of audio data for the voice query at issue.
- the system performs various operations on voice queries that correspond to a set of voice query processing requests.
- the operations are performed on voice queries corresponding to substantially all voice queries received by the system over a period of time.
- the system may sample the received requests and perform stages 406-410 on voice queries corresponding to only a selected (sampled) subset of the voice queries received by the system over a period of time.
- the system samples received voice query processing requests at stage 404. Requests may be sampled according to one or more criteria such as the time the requests were transmitted by the client devices or received by the server system, the location or geographic region of client devices or users that submitted the requests, or a combination of these or other factors.
- a fingerprinter generates electronic fingerprints for voice queries identified in the requests received from the client devices.
- fingerprints are generated only for the voice queries that correspond to requests that were selected in the sample set from stage 404.
- the fingerprints for the voice queries are added to a database such as fingerprint database 172.
- the fingerprint database can include a cache of electronic fingerprints for voice queries received by the system over a recent period of time (e.g., last 10 seconds, 30 seconds, 1 minute, 2, minutes, 5 minutes, 15 minutes, 30 minutes, 1 hour, 4 hours, 1 day, or 1 week).
- a collision detector of the voice query processing system monitors a volume of collisions among fingerprints for each unique voice query represented in the fingerprint database.
- a collision occurs each time a fingerprint for a new voice query is added to the database that matches a previously stored fingerprint in the database.
- a collision indicates that a new instance of a previously detected voice query has been identified.
- each group of matching fingerprints within the database represent a same or similar voice query that is different from the voice queries represented by other groups of matching fingerprints in the database. That is, each group of matching fingerprints represents a unique voice query that was common among a set of processing requests.
- the collision detector may constantly monitor a volume of collisions in the fingerprint database for each unique voice query.
- the volume of collisions for a given voice query is determined based on a count of a number of matching fingerprints in a group detected by the system over time.
- the volume of collisions may indicate, for example, an absolute number of collisions, a relative number of collisions, a rate of change in collisions over time, an acceleration of collisions over time, or a combination of two or more of these.
- the system determines whether to classify one or more of the unique voice queries represented in the fingerprint database as illegitimate voice queries.
- a voice query may be deemed illegitimate based on the volume of collisions detected for the voice query over a recent period of time. For example, the system may determine to blacklist a voice query if the volume of collisions detected for the voice query over a recent period of time meets a threshold volume of collisions.
- the collision detector may keep track of groups of matching fingerprints in the fingerprint database and counts of the number of matching fingerprints in each group. Being as the groups are sorted based on having matching fingerprints, each group can represent a different voice query (e.g., a same voice query or sufficiently similar voice queries).
- voice queries for groups having counts that meet a threshold count may be classified as illegitimate.
- signals in addition to or alternatively to the volume of collisions can be applied in determining whether to classify a voice query as illegitimate and to blacklist the voice query.
- These signals can include information about user feedback to a response to the voice query or to an operation performed as requested in the voice query.
- the system may obtain data that indicates whether a user accepted, rejected, or modified a response to a voice query.
- the system may bias its determination as to whether the voice query should be blacklisted or whether the set of requests meets prescribed suppression criteria.
- the system may prompt users to confirm that they would like to obtain a response to this question. As more users confirm that the system accurately received the voice query and confirm that they desire to obtain a response to the question, the system may be influenced as less likely that the voice query is illegitimate (and less likely to meet the suppression criteria). In contrast, as more users cancel or modify the query in response to the prompt, the system may be influenced as more likely to classify the voice query as illegitimate (and more likely to meet the suppression criteria).
- the system then blacklists an illegitimate voice query by registering a fingerprint for the voice query with gatekeepers at the server system and/or the client devices.
- the system registers a fingerprint with a gatekeeper (e.g., a voice query suppression service) in a similar manner to that described at stage 316 of Figure 3 .
- a gatekeeper e.g., a voice query suppression service
- FIG. 5 is a swim-lane diagram illustrating an example process 500 for detecting an illegitimate voice query and suppressing a voice query operation at a server system.
- the process 500 is performed between a client device, e.g., client 106 or 200, and a voice query processing server system, e.g., system 108 or 250.
- the client device detects a hotword in its local environment.
- the device activates and at stage 504 captures a voice query that includes a series of words following the hotword.
- the client device pre-processes audio data for the received voice query.
- pre-processing can include generating a feature representation of an audio signal for the received voice query.
- the client device generates and transmits a voice query processing request for the voice query to the server system.
- the server system receives the request at stage 510.
- the server system Upon receiving the request, the server system generates an electronic fingerprint of the voice query.
- the electronic fingerprint is compared to other fingerprints that are pre-stored in a database of blacklisted voice queries at stage 514. If the fingerprint for the received voice query matches any of the pre-stored fingerprints corresponding to a blacklisted voice query, then the system determines that the received voice query has been blacklisted and suppresses performance of an operation indicated by the received voice query (stage 518).
- the server system may transmit an indication to the client device that the operation indicated by the received voice query has been suppressed (stage 520). The client device receives the indication at stage 522.
- the client may log the indication of a suppressed voice query and may generate a user notification about the suppressed operation.
- FIG. 6 is a swim-lane diagram illustrating an example process 600 for detecting an illegitimate voice query and suppressing a voice query operation at a client device.
- the process 600 is performed between a client device, e.g., client 106 or 200, and a voice query processing server system, e.g., system 108 or 250.
- the process 600 of Figure 6 screens voice queries locally at the client device rather than at the server system. Nonetheless, the client device may obtain the model electronic fingerprints for blacklisted voice queries from a server system.
- the fingerprints for blacklisted voice queries may be generated by the server system in some implementations using the techniques described with respect to Figures 3 and 4 .
- the server system generates fingerprints of blacklisted voice queries.
- the server system transmits registers the fingerprints for the blacklisted voice queries including transmitting the fingerprints to a client device that has a local gatekeeper fro screening voice queries.
- the client device receives the model fingerprints for the blacklisted voice queries from the server system.
- the client device stores the fingerprints in a local blacklisted voice queries database.
- the client device detects an utterance of a hotword in the local environment of the device. In response to detecting the hotword, the client device activates and captures a voice query that includes one or more words following the hotword (stage 612).
- the device generates an electronic fingerprint of the received voice query.
- the electronic fingerprint is compared to other fingerprints that are pre-stored in a database of blacklisted voice queries at stage 616. If the fingerprint for the received voice query matches any of the pre-stored fingerprints corresponding to a blacklisted voice query (stage 618), then the device determines that the received voice query has been blacklisted and suppresses performance of an operation indicated by the received voice query (stage 620).
- Figure 7 shows an example of a computing device 700 and a mobile computing device that can be used to implement the techniques described herein.
- the computing device 700 is intended to represent various forms of digital computers, such as laptops, desktops, workstations, personal digital assistants, servers, blade servers, mainframes, and other appropriate computers.
- the mobile computing device is intended to represent various forms of mobile devices, such as personal digital assistants, cellular telephones, smart-phones, and other similar computing devices.
- the components shown here, their connections and relationships, and their functions, are meant to be exemplary only, and are not meant to limit implementations of the inventions described and/or claimed in this document.
- the computing device 700 includes a processor 702, a memory 704, a storage device 706, a high-speed interface 708 connecting to the memory 704 and multiple high-speed expansion ports 710, and a low-speed interface 712 connecting to a low-speed expansion port 714 and the storage device 706.
- Each of the processor 702, the memory 704, the storage device 706, the high-speed interface 708, the high-speed expansion ports 710, and the low-speed interface 712 are interconnected using various busses, and may be mounted on a common motherboard or in other manners as appropriate.
- the processor 702 can process instructions for execution within the computing device 700, including instructions stored in the memory 704 or on the storage device 706 to display graphical information for a GUI on an external input/output device, such as a display 716 coupled to the high-speed interface 708.
- an external input/output device such as a display 716 coupled to the high-speed interface 708.
- multiple processors and/or multiple buses may be used, as appropriate, along with multiple memories and types of memory.
- multiple computing devices may be connected, with each device providing portions of the necessary operations (e.g., as a server bank, a group of blade servers, or a multi-processor system).
- the memory 704 stores information within the computing device 700.
- the memory 704 is a volatile memory unit or units.
- the memory 704 is a non-volatile memory unit or units.
- the memory 704 may also be another form of computer-readable medium, such as a magnetic or optical disk.
- the storage device 706 is capable of providing mass storage for the computing device 700.
- the storage device 706 may be or contain a computer-readable medium, such as a floppy disk device, a hard disk device, an optical disk device, or a tape device, a flash memory or other similar solid state memory device, or an array of devices, including devices in a storage area network or other configurations.
- the computer program product may also contain instructions that, when executed, perform one or more methods, such as those described above.
- the computer program product can also be tangibly embodied in a computer- or machine-readable medium, such as the memory 704, the storage device 706, or memory on the processor 702.
- the high-speed interface 708 manages bandwidth-intensive operations for the computing device 700, while the low-speed interface 712 manages lower bandwidth-intensive operations.
- the high-speed interface 708 is coupled to the memory 704, the display 716 (e.g., through a graphics processor or accelerator), and to the high-speed expansion ports 710, which may accept various expansion cards (not shown).
- the low-speed interface 712 is coupled to the storage device 706 and the low-speed expansion port 714.
- the low-speed expansion port 714 which may include various communication ports (e.g., USB, Bluetooth, Ethernet, wireless Ethernet) may be coupled to one or more input/output devices, such as a keyboard, a pointing device, a scanner, or a networking device such as a switch or router, e.g., through a network adapter.
- input/output devices such as a keyboard, a pointing device, a scanner, or a networking device such as a switch or router, e.g., through a network adapter.
- the computing device 700 may be implemented in a number of different forms, as shown in the figure. For example, it may be implemented as a standard server 720, or multiple times in a group of such servers. In addition, it may be implemented in a personal computer such as a laptop computer 722. It may also be implemented as part of a rack server system 724. Alternatively, components from the computing device 700 may be combined with other components in a mobile device (not shown), such as a mobile computing device 750. Each of such devices may contain one or more of the computing device 700 and the mobile computing device 750, and an entire system may be made up of multiple computing devices communicating with each other.
- the mobile computing device 750 includes a processor 752, a memory 764, an input/output device such as a display 754, a communication interface 766, and a transceiver 768, among other components.
- the mobile computing device 750 may also be provided with a storage device, such as a micro-drive or other device, to provide additional storage.
- a storage device such as a micro-drive or other device, to provide additional storage.
- Each of the processor 752, the memory 764, the display 754, the communication interface 766, and the transceiver 768, are interconnected using various buses, and several of the components may be mounted on a common motherboard or in other manners as appropriate.
- the processor 752 can execute instructions within the mobile computing device 750, including instructions stored in the memory 764.
- the processor 752 may be implemented as a chipset of chips that include separate and multiple analog and digital processors.
- the processor 752 may provide, for example, for coordination of the other components of the mobile computing device 750, such as control of user interfaces, applications run by the mobile computing device 750, and wireless communication by the mobile computing device 750.
- the processor 752 may communicate with a user through a control interface 758 and a display interface 756 coupled to the display 754.
- the display 754 may be, for example, a TFT (Thin-Film-Transistor Liquid Crystal Display) display or an OLED (Organic Light Emitting Diode) display, or other appropriate display technology.
- the display interface 756 may comprise appropriate circuitry for driving the display 754 to present graphical and other information to a user.
- the control interface 758 may receive commands from a user and convert them for submission to the processor 752.
- an external interface 762 may provide communication with the processor 752, so as to enable near area communication of the mobile computing device 750 with other devices.
- the external interface 762 may provide, for example, for wired communication in some implementations, or for wireless communication in other implementations, and multiple interfaces may also be used.
- the memory 764 stores information within the mobile computing device 750.
- the memory 764 can be implemented as one or more of a computer-readable medium or media, a volatile memory unit or units, or a non-volatile memory unit or units.
- An expansion memory 774 may also be provided and connected to the mobile computing device 750 through an expansion interface 772, which may include, for example, a SIMM (Single In Line Memory Module) card interface.
- SIMM Single In Line Memory Module
- the expansion memory 774 may provide extra storage space for the mobile computing device 750, or may also store applications or other information for the mobile computing device 750.
- the expansion memory 774 may include instructions to carry out or supplement the processes described above, and may include secure information also.
- the expansion memory 774 may be provide as a security module for the mobile computing device 750, and may be programmed with instructions that permit secure use of the mobile computing device 750.
- secure applications may be provided via the SIMM cards, along with additional information, such as placing identifying information on the SIMM card in a non-hackable manner.
- the memory may include, for example, flash memory and/or NVRAM memory (non-volatile random access memory), as discussed below.
- the computer program product contains instructions that, when executed, perform one or more methods, such as those described above.
- the computer program product can be a computer- or machine-readable medium, such as the memory 764, the expansion memory 774, or memory on the processor 752.
- the computer program product can be received in a propagated signal, for example, over the transceiver 768 or the external interface 762.
- the mobile computing device 750 may communicate wirelessly through the communication interface 766, which may include digital signal processing circuitry where necessary.
- the communication interface 766 may provide for communications under various modes or protocols, such as GSM voice calls (Global System for Mobile communications), SMS (Short Message Service), EMS (Enhanced Messaging Service), or MMS messaging (Multimedia Messaging Service), CDMA (code division multiple access), TDMA (time division multiple access), PDC (Personal Digital Cellular), WCDMA (Wideband Code Division Multiple Access), CDMA2000, or GPRS (General Packet Radio Service), among others.
- GSM voice calls Global System for Mobile communications
- SMS Short Message Service
- EMS Enhanced Messaging Service
- MMS messaging Multimedia Messaging Service
- CDMA code division multiple access
- TDMA time division multiple access
- PDC Personal Digital Cellular
- WCDMA Wideband Code Division Multiple Access
- CDMA2000 Code Division Multiple Access
- GPRS General Packet Radio Service
- a GPS (Global Positioning System) receiver module 770 may provide additional navigation- and location-related wireless data to the mobile computing device 750, which may be used as appropriate by applications running on the mobile computing device 750.
- the mobile computing device 750 may also communicate audibly using an audio codec 760, which may receive spoken information from a user and convert it to usable digital information.
- the audio codec 760 may likewise generate audible sound for a user, such as through a speaker, e.g., in a handset of the mobile computing device 750.
- Such sound may include sound from voice telephone calls, may include recorded sound (e.g., voice messages, music files, etc.) and may also include sound generated by applications operating on the mobile computing device 750.
- the mobile computing device 750 may be implemented in a number of different forms, as shown in the figure. For example, it may be implemented as a cellular telephone 780. It may also be implemented as part of a smart-phone 782, personal digital assistant, or other similar mobile device.
- implementations of the systems and techniques described here can be realized in digital electronic circuitry, integrated circuitry, specially designed ASICs (application specific integrated circuits), computer hardware, firmware, software, and/or combinations thereof.
- ASICs application specific integrated circuits
- These various implementations can include implementation in one or more computer programs that are executable and/or interpretable on a programmable system including at least one programmable processor, which may be special or general purpose, coupled to receive data and instructions from, and to transmit data and instructions to, a storage system, at least one input device, and at least one output device.
- machine-readable medium and computer-readable medium refer to any computer program product, apparatus and/or device (e.g., magnetic discs, optical disks, memory, Programmable Logic Devices (PLDs)) used to provide machine instructions and/or data to a programmable processor, including a machine-readable medium that receives machine instructions as a machine-readable signal.
- machine-readable signal refers to any signal used to provide machine instructions and/or data to a programmable processor.
- the systems and techniques described here can be implemented on a computer having a display device (e.g., a CRT (cathode ray tube) or LCD (liquid crystal display) monitor) for displaying information to the user and a keyboard and a pointing device (e.g., a mouse or a trackball) by which the user can provide input to the computer.
- a display device e.g., a CRT (cathode ray tube) or LCD (liquid crystal display) monitor
- a keyboard and a pointing device e.g., a mouse or a trackball
- Other kinds of devices can be used to provide for interaction with a user as well; for example, feedback provided to the user can be any form of sensory feedback (e.g., visual feedback, auditory feedback, or tactile feedback); and input from the user can be received in any form, including acoustic, speech, or tactile input.
- the systems and techniques described here can be implemented in a computing system that includes a back end component (e.g., as a data server), or that includes a middleware component (e.g., an application server), or that includes a front end component (e.g., a client computer having a graphical user interface or a Web browser through which a user can interact with an implementation of the systems and techniques described here), or any combination of such back end, middleware, or front end components.
- the components of the system can be interconnected by any form or medium of digital data communication (e.g., a communication network). Examples of communication networks include a local area network (LAN), a wide area network (WAN), and the Internet.
- LAN local area network
- WAN wide area network
- the Internet the global information network
- the computing system can include clients and servers.
- a client and server are generally remote from each other and typically interact through a communication network.
- the relationship of client and server arises by virtue of computer programs running on the respective computers and having a client-server relationship to each other.
- the systems, methods, devices, and other techniques here collect personal information (e.g., context data) about users, or may make use of personal information
- the users may be provided with an opportunity to control whether programs or features collect user information (e.g., information about a user's social network, social actions or activities, profession, a user's preferences, or a user's current location), or to control whether and/or how to receive content from the content server that may be more relevant to the user.
- certain data may be treated in one or more ways before it is stored or used, so that personally identifiable information is removed.
- a user's identity may be treated so that no personally identifiable information can be determined for the user, or a user's geographic location may be generalized where location information is obtained (such as to a city, ZIP code, or state level), so that a particular location of a user cannot be determined.
- location information such as to a city, ZIP code, or state level
- the user may have control over how information is collected about the user and used by a content server.
Description
- This specification generally relates to computer-based systems and techniques for recognizing spoken words, otherwise referred to as speech recognition
- Voice-based client devices can be placed in a home, office, or other environment and can transform the environment into a speech-enabled environment. In a speech enabled-environment, a user can speak a query or command to prompt the voice-based client to generate an answer or to perform another operation in accordance with the user's query or command. In order to prevent a voice-based client from picking up all utterances made in a speech-enabled environment, the client may be configured to activate only when a pre-defined hotword is detected in the environment. A hotword, which is also referred to as an "attention word" or "voice action initiation command," is generally a predetermined word or term that is spoken to invoke the attention of a system. When the system detects that the user has spoken a hotword, the system can enter a ready state for receiving further voice queries.
-
US2007186282A1 describes techniques for identifying a potentially harmful request. A threat rating is assigned to a received request in accordance with one or more attribute values of the received request. An action is determined in accordance with the threat rating. -
US8561188B1 describes detection and prevention of botnet behavior by monitoring access request in a network. -
WO2016191232A1 describes techniques for mitigating computer network attacks. - Carlini et al, "Hidden Voice Commands", Proceedings of the 25th Usenix Security Symposium, August 10-12 2016, vol. 8275, pages 513-530 describes how voice interfaces can be attacked with hidden voice commands that are unintelligible to human listeners but which are interpreted as commands by devices.
- This document describes systems, methods, devices, and other techniques for detecting illegitimate voice queries uttered in the environment of a client device and for suppressing operations indicated by such illegitimate voice queries. In some implementations, voice-based clients may communicate over a network with a voice query processing server system to obtain responses to voice queries detected by the clients. Although many voice queries received at the server system may be for legitimate ends (e.g., to request an answer to an individual person's question or to invoke performance of a one-time transaction), not all voice queries may be benign. Some voice queries may be used by malicious actors, for example, to carry out a distributed denial of service (DDoS) attack. Other queries may arise from media content rather than human users, such as dialog in a video that includes a hotword. When the video is played back, whether intentionally or unintentionally, the hotword may activate a voice-based client into a state in which other dialog in the video is inadvertently captured as a voice query and requested to be processed. As will be appreciated, the capture, transmission and/or processing of such dialog may constitute a waste of computational resources. In some implementations, the techniques disclosed herein can be used to detect illegitimate voice queries by clustering the same or similar queries received at a server system from multiple client devices over a period of time. If a group of common voice queries satisfies one or more suppression criteria, the system may blacklist the voice query so as to suppress performance of operations indicated by other, matching voice queries that the system subsequently receives. In some implementations, the system may identify a spike in traffic at the system as a signal to search for potentially illegitimate voice queries that may attempt to exploit the system.
- The present invention is defined by the appended independent claims. Preferred embodiments are set forth in the dependent claims.
- Some implementations of the subject matter described herein may, in certain instances, realize one or more of the following advantages. The system may block operations indicated in voice queries that risk compromising user accounts or consuming computational resources of client devices and/or a server system. In some implementations, the system can identify illegitimate voice queries without human intervention and even if the voice queries do not contain pre-defined markers of illegitimate voice queries. For example, the system may determine that a common set of voice queries issued by devices within a particular geographic area are illegitimate based on a statistical inference that the same voice query would not be independently repeated by users above a threshold volume or frequency within a specified time interval. Accordingly, the system may classify such a commonly occurring voice query as illegitimate and permanently or temporarily blacklist the query for all or some users of the system. Additional features and advantages will be recognized by those of skill in the art based on the following description, the claims, and the figures.
-
-
Figure 1A depicts a conceptual diagram of an example process for responding to a first voice query and suppressing a second voice query received at a client device. -
Figure 1B depicts a conceptual diagram of a voice query processing system in communication with a multiple client devices. The system may analyze traffic from the multiple devices to identify illegitimate voice queries. -
Figure 2A depicts a block diagram of an example voice-based client device. -
Figure 2B depicts a block diagram of an example voice query processing server system. -
Figure 3 is a flowchart of an example process for analyzing traffic at a voice query processing system to identify an illegitimate voice query based on a volume of traffic experienced by the system over time. -
Figure 4 is a flowchart of an example process for analyzing traffic at a voice query processing system to identify an illegitimate voice query based on the frequency that a common voice query occurs in the traffic over time. -
Figure 5 is a swim-lane diagram illustrating an example process for detecting an illegitimate voice query and suppressing a voice query operation at a server system. -
Figure 6 is a swim-lane diagram illustrating an example process for detecting an illegitimate voice query and suppressing a voice query operation at a client device. -
Figure 7 depicts an example computing device and mobile computing device that may be applied to implement the computer-implemented methods and other techniques disclosed herein. - Like numbers and references among the drawings indicate like elements.
- This document describes computer-based systems, methods, devices, and other techniques for detecting and suppressing illegitimate voice queries. In general, an illegitimate voice query is a voice query that is not issued under conditions that a voice query processing system deems acceptable such that the voice query can be safely processed. For example, some illegitimate voice queries may be issued by malicious actors in an attempt to exploit a voice query processing system, e.g., to invoke a fraudulent transaction or to invoke performance of operations that risk consuming an unwarranted amount of computational resources of the system. In some implementations, the techniques disclosed herein may be applied to detect and suppress a large-scale event in which voice queries are issued to many (e.g., tens, hundreds, or thousands) voice-based clients simultaneously or within a short timeframe in an attempt to overload the backend servers of a voice query processing system. The system may monitor characteristics of incoming voice query processing requests across a population of client devices to identify potential threats and suppress processing of illegitimate voice queries. The details of these and additional techniques are described with respect to the figures.
-
Figure 1A is a conceptual diagram of anexample process 100 for responding to afirst voice query 118a and suppressing asecond voice query 118b. For example, thefirst voice query 118a may be a legitimate query that a voicequery processing system 108 is configured to respond to in a manner expected by auser 104, while thesecond voice query 118b may be an illegitimate voice query has been blacklisted so as to prevent the voicequery processing system 108 from acting on the query in a requested manner. - As illustrated in
Figure 1A , at stages A1 and A2, respectively, a voice query client device 102 receives thefirst voice query 118a and thesecond voice query 118b. The client device 102 may be any suitable device that can receive voice queries and interact with a remotely located voicequery processing system 108 to process the received voice queries and determine how to respond to such queries. For example, the client device 102 may be a smart appliance, a mobile device (e.g., a smartphone, a tablet computer, a notebook computer), a desktop computer, or a wearable computing device (e.g., a smartwatch or virtual reality visor). - In some implementations, the client device 102 is a voice-based client that primarily relies on speech interactions to receive user inputs and present information to users. For instance, the device 102 may include one or more microphones and a hotworder that is configured to constantly listen for pre-defined hotwords spoken in proximity of the device 102 (e.g., in a local environment of the device 102). The device 102 may be configured to activate upon detecting ambient audio that contains a pre-defined hotword. For example, as shown in
Figure 1A , the phrase "OK Voice Service" is a hotword that activates the device 102 in a mode that enables it to receive voice queries. In some implementations, a voice-based client device 102 can facilitate a substantially hands-free experience for a user so that the user can provide queries and obtain responses without needing to physically interact with the device 102 with his or her hands. - A voice query is generally a string of one or more words that are spoken to prompt a computing system to perform one or more operations indicated by the words. As an example, the
first voice query 118a includes the phrase "What's traffic like to work today?" Thefirst voice query 118a is thus spoken in a natural and conversation manner that the voicequery processing system 108 is capable of parsing to determine a meaning of the query and a response to the query. Similarly, thesecond voice query 118b includes the phrase "What's on my calendar today?", which is spoken to prompt the client device 102 and/or the voicequery processing system 108 to identify events on a user's calendar and to present a response to the user. Some voice queries may include a carrier phrase as a prefix that indicates a particular operation or command to be performed, followed by one or more words that indicate parameters of the operation or command indicated by the carrier phrase. For example, in the query "Call Teresa's school," the word "Call" is a carrier term that is to prompt performance of a telephone dialing operation, while the words "Teresa's school" comprise a value of a parameter indicating the entity that is to be dialed in response to the voice query. The carrier phrase may be the same or different from a hotword for activating a device 102. For example, auser 104 may first speak the "OK Voice Service" hotword to activate the device 102 and then speak the query "Call Teresa's school" to prompt a dialing operation. - Noticeably, in the example of
Figure 1A , thefirst voice query 118a is uttered by ahuman user 104, while thesecond voice query 118b is a recording or synthesized speech played by speaker(s) of anaudio device 106. Theaudio device 106 may be any audio source that generates voice queries in audible range of the client device 102, e.g., in the same room or other local environment of the client device 102. For example, theaudio device 106 may be a television, a multimedia center, a radio, a mobile computing device, a desktop computer, a wearable computing device, or other types of devices that include one or more speakers to playback a voice query. - In some instances, an
audio device 106 may be caused to play an illegitimate voice query. For instance, an attacker may attempt to overload the voicequery processing subsystem 108 by broadcasting thesecond voice query 118b to manyaudio devices 106 in separate locations, so as to cause many instances of thesecond voice query 118b to be played in close temporal proximity to each other. Client devices 102 located near theaudio devices 106 may detect respective instances of thesecond voice query 118b and request the voicequery processing system 108 to process thesecond voice query 118b at substantially the same or similar times. Such a distributed attack may occur by leveraging playback of viral online videos or broadcasting video content (e.g., television shows or commercials) that includes a voice query having the pre-defined activation hotword for playback onaudio devices 106 in various environments in proximity of client devices 102. As discussed with respect to stages Bi through G2, thesystem 108 may determine that thefirst voice query 118a is legitimate and provide a response to thefirst voice query 118a based on performance of an operation indicated by thevoice query 118a. In contrast, thesystem 108 may determine that thesecond voice query 118b is illegitimate and therefore selects to suppress performance of the operation indicated by thesecond voice query 118b. - For each voice query received by the client device 102, the device 102 may generate and transmit a request to the voice
query processing system 108 requesting thesystem 108 to process the received voice query. A request can be, for example, a hypertext transfer protocol (HTTP) message that includes header information and other information that identifies the voice query that is to be processed. In some implementations, the other information that identifies the voice query can be audio data for the voice query itself such that data representing the voice query is embedded within the request. In other implementations, the information that identifies the voice query in a request may be an address or other pointer indicating a network location at which a copy of the voice query can be accessed. The voicequery processing system 108 and the client device 102 can be remotely located from each other and can communicate over one or more networks (e.g., the Internet). The client device 102 may transmit voicequery processing requests query processing system 108, and in response, the voicequery processing system 108 may transmitresponses requests 118a, 11b over the network to client device 102. - The audio data representing a voice query indicated in a request may include audio data for the content of the query (e.g., "What's traffic like to work today?" or "What's on my calendar today?"), and optionally may include audio data for an activation hotword that precedes the content of the query (e.g., "OK Voice Service"). In some instances, the audio data may further include a representation of audio that precedes or follows the voice query for a short duration to provide additional acoustic context to the query. The client device 102 may use various techniques to capture a voice query.
- In some implementations, the device 102 may record audio for a fixed length of time following detection of an activation hotword (e.g., 2-5 seconds). In some implementations, the device 102 may use even more sophisticated endpointing techniques to predict when a user has finished uttering a voice query.
- At stage B1, the client device 102 transmits a
first request 122a to the voicequery processing system 108. At stage B2, the client device 102 transmits asecond request 122b to the voicequery processing system 108. Therequests first voice query 118a and thesecond voice query 118b, respectively. Although the operations associated with processing voice queries 118a and 118b are described here in parallel by way of example, in practice the voice queries 118a and 118b may be detected at different times and processed independently of each other in a serial manner. - In some implementations, upon receiving a request from the client device 102, the voice
query processing system 108 screens the request to determine whether the voice query identified by the request is legitimate. If a voice query is legitimate (e.g., benign), thesystem 108 may process the voice query in an expected manner by performing an operation indicated by the query. However, if a voice query is deemed illegitimate, thesystem 108 may suppress performance of one or more operations indicated by the query. - For example, upon receiving the first voice
query processing request 122a, thesystem 108 may provide therequest 122a to a gatekeeper 110 (stage C) that implements a voice query suppression service. Thegatekeeper 110 generates an electronic fingerprint that distinctively models thefirst voice query 118a identified by therequest 122a. The fingerprint may represent acoustic features derived from audio data of thefirst voice query 118a and, optionally, may include a textual transcription of thefirst voice query 118a. Thegatekeeper 110 may then compare the fingerprint for thefirst voice query 118a to fingerprints stored in the database 112 (stage D), which are fingerprints of voice queries that have been blacklisted by thesystem 108. - In the example of
Figure 1A , no match is identified between the electronic fingerprint for thefirst voice query 118a and fingerprints in the blacklistedvoice queries database 112. Accordingly, thefirst voice query 118a is validated as a legitimate query and is provided to a validatedquery processing subsystem 116 for further processing. The validatedquery processing subsystem 116 may transcribe and parse thefirst voice query 118a to determine a requested operation, and may at least partially perform the requested operation (e.g., gather data about traffic conditions on a route to work for the user 104). In contrast, thesecond voice query 118b is also screened by thegatekeeper 110 and is determined to be an illegitimate voice query having a fingerprint that matches a fingerprint in the database of blacklisted queries 112. As a result, the voicequery processing system 108 suppresses complete performance of the operation indicated by thesecond voice query 118b. For example, thesystem 108 may not provide thevoice query 118b to the validatedquery processing subsystem 116 in response to determining that thevoice query 118b is not a legitimate query. - At stage G1, the voice
query processing system 108 returns aresponse 126a to the client device'sfirst request 122a. Theresponse 126a may be, for example, text or other data that the client device 102 can process with a speech synthesizer to generate an audible response to the user's question about current traffic conditions on route to work. In some implementations, the voicequery processing system 108 includes a speech synthesizer that generates an audio file which is transmitted to the client device 102 for playback as a response to thefirst query 118a. However, because thesecond query 118b was determined to be illegitimate, thesystem 108 does not transmit a substantive response to the question about the current day's calendar events, as indicated by thesecond voice query 118b. Instead, thesystem 108 may transmit anindication 126b that processing of thesecond voice query 118b was suppressed (e.g., blocked) or otherwise could not be performed. In other implementations, the voicequery processing system 108 may not send any message to the client device 102 in response to a request that has been blocked for identifying an illegitimate voice query. The client device 102 may instead, for example, timeout waiting for a response from thesystem 108. Upon timing out, the device 102 may re-enter a state in which it prepares to receive another voice query by listening for an occurrence of the activation hotword in the local environment. - In some implementations, the voice
query processing system 108 further includes atraffic analyzer 114. Thetraffic analyzer 114 monitors characteristics of requests received by the system over time from a range of client devices 102 that thesystem 108 services. In general, thetraffic analyzer 114 can identify trends in network traffic received from multiple client devices 102 to automatically identify illegitimate voice queries. Thetraffic analyzer 114 may, for instance, determine a volume of requests received over a given time interval for a common voice query. If certain criteria are met, such as a spike in the level of system traffic, an increase in the number of requests received to process a common voice query over time, or a combination of these and other criteria, thetraffic analyzer 114 may classify a voice query as illegitimate and add a fingerprint of the query to thedatabase 112. As such, so long as the fingerprint for the query is registered in thedatabase 112, thegatekeeper 110 may suppress voice queries that correspond to the blacklisted query. Additional detail about thetraffic analyzer 114 is described with respect toFigures 2B ,3 and4 . -
Figure 1B is a conceptual diagram of the voicequery processing system 108 in communication with amultiple client devices 102a-i. AlthoughFigure 1A focused on the interaction between the voicequery processing system 108 and a particular client device 102,Figure 1B shows that thesystem 108 may interact withmany client devices 102a-i concurrently. - Each of the
client devices 102a-i sends voicequery processing requests 118 to thesystem 108. In turn, thesystem 108 may screen therequests 118 with agatekeeper 110 to classify voice queries identified in therequests 118 as legitimate or not. Thesystem 108 may then either respond to therequests 118 as requested in the voice queries or suppress performance of operations indicated by the voice queries based on whether the queries have been classified as legitimate. Moreover, different ones of theclient devices 102a-i may be geographically distant from each other and located in different acoustic environments. An acoustic environment defines an area within aural range of a given client device 102 such that the device 102 can detect voice queries uttered at normal audible levels like those spoken by a human (e.g., 60-90 dB). Some environments can have multiple client devices located within them. For example, both client devices 106a and 106b are located in the sameacoustic environment 152a. As such, both devices 106a and 106b may detect the same voice queries spoken within thecommon environment 152a. Other environments, such asenvironment 152b, may include just a single client device 102 that is configured to process voice queries uttered in the environment. In some implementations, thesystem 108 includes atraffic analyzer 114 that analyzes trends in the traffic of voice query processing requests received from many different client devices over time. If certain conditions in traffic patterns are met, thetraffic analyzer 114 may identify voice queries that are common across multiple requests and register all or some of these queries as illegitimate. Future occurrences of the illegitimate voice queries may then be detected and, as a result, thesystem 108 may suppress performance of operations indicated by the queries. - Turning to
Figures 2A and 2B , block diagrams are shown of anexample client device 200 and an example voice queryprocessing server system 250. Theclient device 200 can be a computing device in a local acoustic environment that is configured to detect voice queries uttered in the local environment, and to communicate with the voice query processing server system to obtain responses to the detected voice queries. In some implementations, theclient device 200 is configured in a like manner to client device 102 (Figures 1A-1B ). The voice queryprocessing server system 250 is a system of one or more computers, which may be implemented in one or more locations. Thesystem 250 is configured to perform backend operations on voice query processing requests corresponding to voice queries detected byclient devices 200. Thesystem 250 may communicate with one ormore client devices 200 over a network such as the Internet. In some implementations, thesystem 250 is configured in a like manner to system 108 (Figures 1A-1B ). - The
client device 200 can include all or some of the components 202-224. In some implementations, theclient device 200 is a voice-based client that primarily relies on speech interactions to receive user inputs and to provide responses to users. For example, theclient device 200 may be set in a local environment such as an office, a residential living room, a kitchen, or a vehicle cabin. When powered on, thedevice 200 may maintain a low-powered default state. In the low-powered state, thedevice 200 monitors ambient noise in the local environment until a pre-defined activation hotword is detected. In response to detecting the occurrence of an activation hotword, thedevice 200 transitions from the low-powered state to an active state in which it can receive and process a voice query. - To detect an activation hotword and receive voice queries uttered in a local environment, the
device 200 may include one ormore microphones 202. The device can record audio signals detected by themicrophones 202 and process the audio with ahotworder 204. In some implementations, thehotworder 204 is configured to process audio signals detected in the local environment of thedevice 200 to identify occurrences of pre-defined hotwords uttered in the local environment. For example, thehotworder 204 may determine if a detected audio signal, or features of the detected audio signal, match a pre-stored audio signal or pre-stored features of an audio signal for a hotword. If a match is determined, thehotworder 204 may provide an indication to a controller to trigger thedevice 200 to wake-up so that it may capture and process a voice query that follows the detected hotword. In some implementations, thehotworder 204 is configured to identify hotwords in an audio signal by extracting audio features from the audio signal such as filterbank energies or mel-frequency cepstral coefficients. Thehotworder 204 may use classifying windows to process these audio features using, for example, a support vector machine, a machine-learned neural network, or other models. - In some implementations, the client device further includes an
audio buffer 206 and anaudio pre-processor 208. Theaudio pre-processor 208 receives an analog audio signal from themicrophones 202 and converts the analog signal to a digital signal that can be processed by thehotworder 204 or other components of theclient device 200. The pre-processor 208 may amplify, filter, and/or crop audio signals to determined lengths. For example, the pre-processor 208 may generate snippets of audio that contain a single voice query and, optionally, a short amount of audio preceding the voice query, a short amount of audio immediately following the voice query, or both. The voice query may or may not include the activation hotword that precedes the substance of the query. In some implementations, the audio-pre-processor 208 can process initial audio data for a voice query to generate a feature representation of a voice query that includes features (e.g., filterbank energies, spectral coefficients). The digital audio data generated by the pre-processor 208 (e.g., a processed digital waveform representation of a voice query or a feature representation of the voice query) can be stored in anaudio buffer 206 on thedevice 200. - The
client device 200 can further include anelectronic display 212 to present visual information to a user,speakers 214 to present audible information to a user, or both. If thedevice 200 is a voice-based client that is primarily configured for hands-free user interactions based on voice inputs and speech-based outputs, thedevice 200 may present responses to user queries using synthesized speech that is played through thespeakers 214. - In some instances, the
device 200 may receive illegitimate voice queries that are subject to suppression so as to prevent exploitation of user account information, theclient device 200, or the voice queryprocessing server system 250. In some implementations, theclient device 200 includes alocal gatekeeper 216 to screen voice queries detected by theclient device 200 and to determine whether to suppress operations associated with certain voice queries. Thegatekeeper 216 can include afingerprinter 218, adatabase 220 of blacklisted voice queries, asuppressor 222, and asuppression log 224. Thefingerprinter 218 is configured to generate an electronic fingerprint for a voice query. The electronic fingerprint is a model or signature of a voice query that identifies distinctive features of the query. The fingerprint can include an audio component that represents acoustic features of the query, a textual component that represents a transcription of the query, or both. Thus, the fingerprint may model both the substance of the query (what was spoken) as well as the manner in which it was spoken, which may vary based on the speaker or other factors. - The
gatekeeper 216 may compare a fingerprint for a voice query detected in a local (e.g., acoustic) environment to fingerprints for blacklisted voice queries stored in thedatabase 220. If thegatekeeper 216 determines a match between the fingerprint and one or more of the fingerprints indatabase 220, an indication may be provided to thesuppressor 222. Thesuppressor 222 suppresses performance of operations associated with voice queries that are determined to be illegitimate. In some implementations, thesuppressor 222 may block an operation from being performed in the first instance. For example, if the query "What meetings do I have with Becky today?" is deemed illegitimate, thesuppressor 222 may block the system from accessing calendar data to answer the question. In some implementations, thesuppressor 222 may reverse an operation that was performed if a query was not immediately identified as being illegitimate, but is later determined to be illegitimate. For example, a change to a user account setting or a financial transaction requested in a voice query may be reversed if the query is determined to be illegitimate after the operation was initially performed. - In some implementations, the
gatekeeper 216 maintains asuppression log 224. Thesuppression log 224 is a data structure stored in memory of theclient device 200 that includes data entries representing information about illegitimate voice queries and information about suppressed operations associated with illegitimate voice queries. Thedevice 200 may periodically transmit information from thesuppression log 224 to a remote server system, e.g., voice queryprocessing server system 250 for analysis. - The
gatekeeper 216 may screen every voice query received at theclient device 200 to determine if it is an illegitimate query that corresponds to a blacklisted query. In other implementations, thegatekeeper 216 may select to screen only some voice queries received at theclient device 200, rather than all of them. The selection may be random or based on defined filtering criteria (e.g., every nth voice query received, voice queries received during certain times, voice queries received from particular users). - The
client device 200 may also include anetwork interface 210 that enables thedevice 200 to connect to one or more wired or wireless networks. Thedevice 200 may use thenetwork interface 210 to send messages to, and receive messages from, a remote computing system over a packet-switched network (e.g., the Internet), for example. In some implementations, theclient device 200 obtains fingerprints to add to the blacklistedvoice queries database 220 from the voice queryprocessing server system 250 over a network. In some implementations, theclient device 200 may transmit audio data for received voice queries from theclient device 200 to the voice queryprocessing server system 250. The audio data may be transmitted to thesystem 250 along with requests for thesystem 250 to process the voice query, including to screen the voice query for legitimacy, and to invoke any operations specified in a validated (legitimate) query. - The voice query
processing server system 250, as shown inFigure 2B , is configured to receive voice query processing requests from one or more client devices, along with audio data for voice queries identified in the requests. The voicequery processing system 250 may communicate with the client devices (e.g., client device 200) over one or more networks using anetwork interface 256. In some implementations, thesystem 250 is distributed among multiple computers in one or more locations. Thesystem 250 may also include aspeech recognizer 251, anatural language processor 252, aservice hub 254, agatekeeper 258, and atraffic analyzer 268, or a combination of all or some of components 251-268. - The
server gatekeeper 258 can perform the same or similar operations to those described with respect to thegatekeeper 216 atclient device 200. However, unlike the client-side gatekeeper 216, theserver gatekeeper 258 may screen voice queries from many devices connected to thesystem 250. As an example, thefingerprinter 260 may process audio data for a voice query to generate an electronic fingerprint of the voice query. The generated fingerprint can be compared to fingerprints that have been registered with a voice query suppression service. The registered fingerprints are stored indatabase 262. Asuppressor 264 suppresses operations associated with illegitimate voice queries. Thegatekeeper 258 may classify a voice query as illegitimate if the electronic fingerprint of the query matches one of the registered fingerprints indatabase 262. In some implementations, thegatekeeper 258 may require an identical match to classify a voice query as illegitimate. In other implementations, an identical match may not be required. In these implementations, thegatekeeper 258 may allow for a non-zero tolerance to identify matches among fingerprints that are sufficiently similar so as to confidently indicate that the voice queries from which the fingerprints were derived are the same (e.g., common voice queries). For example, if a similarity score representing the similarity between two fingerprints meets a threshold value, thegatekeeper 258 may determine a match between fingerprints. The threshold value represents an acceptable tolerance for the match and may be a fixed value or a dynamic value that changes based on certain parameters. Information about voice queries that have been classified as illegitimate and information about suppressed operations associated with illegitimate voice queries may be stored insuppression log 266. - For voice queries that the
gatekeeper 258 validated as being legitimate, the queries may be processed by aspeech recognizer 251,natural language processor 252,service hub 254, or a combination of these. Thespeech recognizer 251 is configured to process audio data for a voice query and generate a textual transcript that identifies a sequence of words included in the voice query. Thenatural language processor 252 parses the transcription of a voice query to determine an operation requested by the voice query and any parameters in the voice query that indicate how the operation should be performed. For example, the voice query "Call Bob Thomas" includes a request to perform a telephone calling operation and includes a callee parameter indicating that Bob Thomas should be the recipient of the call. Using information about which operation and parameters have been specified in a voice query, as indicated by thenatural language processor 252, theservice hub 254 may then interact with one or more services to perform the operation and to generate a response to the query. Theservice hub 254 may be capable of interacting a wide range of services that can perform a range of operations that may be specified in a voice query. Some of the services may be hosted on the voicequery processing system 250 itself, while other services may be hosted on external computing systems. - In some implementations, the voice
query processing system 250 includes atraffic analyzer 268. Thetraffic analyzer 268 is configured to aggregate and analyze data traffic (e.g., voice query processing requests) received by thesystem 250 over time. Based on results of the analysis, thetraffic analyzer 268 may identify a portion of the traffic that likely pertains to illegitimate voice queries. The voice queries associated with such traffic may be blacklisted so that subsequent voice queries that match the blacklisted queries are suppressed. In some implementations, thetraffic analyzer 268 may identify an illegitimate voice query without supervision and without a priori knowledge of the voice query. In these and other implementations, thetraffic analyzer 268 may further identify an illegitimate voice query without identifying a pre-defined watermark in the voice query that is intended to signal that operations associated with the voice query should be suppressed (e.g., a television commercial that includes a watermark to prevent triggering voice-based client devices in audible range of the devices when an activation hotword is spoken in the commercial). - The
traffic analyzer 268 may include all or some of the components 270-280 shown inFigure 2B . Thefingerprinter 270 is configured to generate an electronic fingerprint of a voice query, e.g., likefingerprinters gatekeepers fingerprint database 272 stores fingerprints for voice queries that thesystem 250 has received over a period of time. Thecollision detector 274 is configured to identify a number of collisions or matches between fingerprints in thefingerprint data base 272. In some implementations, thecollision detector 274 is configured to blacklist a voice query represented by a group of matching fingerprints in thefingerprint database 272 based on a size of the group. Thus, if thetraffic analyzer 268 identifies that a common voice query appears in requests received by thesystem 250 with sufficient frequency over time, as indicated by the size of the matching group of fingerprints, then the common voice query may be blacklisted, e.g., by adding a fingerprint of the voice query todatabase 262 and/ordatabase 220. - In some implementations, traffic volume analyzer 278 monitors a volume of traffic received at the
system 250 over time. The analyzed traffic may be global or may be only a portion of traffic that thetraffic filter 280 has filtered based on criteria such as the geographic locations of users or client devices that submitted the voice queries, the models of client devices that submitted the voice queries, profile information of users that submitted the queries, or a combination of these and other criteria. If the volume of requests that thesystem 250 receives in a given time interval is sufficiently high (e.g., meets a threshold volume), the volume analyzer 278 may trigger thecollision detector 274 to search for illegitimate voice queries in the received traffic. In some implementations, thecollision detector 274 may identify an illegitimate voice query from a set of traffic based on identifying that a common voice query occurs in a significant portion of the traffic. For example, if a threshold number of voice query processing requests from various client devices, or a threshold portion of the requests in a sample set of traffic, are determined to include the same voice query, theanalyzer 268 may blacklist the voice query and register its electronic fingerprint with agatekeeper 216 or 258 (e.g., a voice query suppression service). - In some implementations, a
policy manager 276 manages the criteria by which thetraffic analyzer 268 determines to filter traffic, trigger searches for illegitimate voice queries, and blacklist common voice queries. In some implementations, thepolicy manager 276 can expose an application programming interface ("API") or provide a dashboard or other interface for a system administrator to view and adjust these policies. -
Figure 3 is a flowchart of anexample process 300 for analyzing traffic at a voice query processing system to identify an illegitimate voice query based on a volume of traffic experienced by the system over time. Theprocess 300 may be carried out by a voice query processing server system, e.g., voice queryprocessing server system traffic analyzer 268, to analyze voice query processing requests received by the system over time and detect illegitimate voice queries indicated by such requests. - At
stage 302, the voice query processing system receives requests from client devices to process voice queries that were detected by the client devices in their local environments. In some implementations, the system communicates with many client devices (e.g., tens, hundreds, thousands, or millions) over one or more networks, and therefore receives many voice query processing requests. A voice query processing request typically identifies a single voice query that the system is requested to process, although in some implementations a query may identify multiple voice queries. The voice query processing system may process a voice query by transcribing the voice query to text and performing an operation indicated by the content of the query. Further, the system may transmit to a client device a response to a voice query, which may be a confirmation that an operation was performed successfully, an indication that a requested operation has been suppressed, or an answer to a question, for instance. In some implementations, audio data (e.g., a compressed waveform or audio features) for a voice query is explicitly embedded within a voice query processing request. In some implementations, the audio data for a voice query can be transmitted to the server system in one or more messages separate from the request itself, but the request references the messages that provide the audio data. In some implementations, a voice query processing request may include a pointer or other address indicating a network storage location that the server system can access a copy of audio data for the voice query at issue. - At
stage 304, the system determines a volume of client requests (e.g., traffic) received over time. This stage may be performed, for example, by traffic volume analyzer 278. The volume of received requests can be determined with respect to a defined window of time. In some implementations, the system determines the volume of client requests received during a most recent period of time (e.g., a number of requests received in the past 30 seconds, 1 minute, 2 minutes, 5 minutes, 15 minutes, 30 minutes, 1 hour, 4 hours, 12 hours, 24 hours, or 1 week). The time interval may be pre-defined and may be a static or dynamic parameter that can be set automatically or based upon user input. The volume of received requests represents a value that is based upon a total number of requests received by the system during the specified time interval. In a first example, the volume indicates an absolute number of requests received by the system during a specified time interval. In a second example, the volume indicates a relative number of requests received by the system during a specified time interval. In a third example, the volume indicates a rate of change in the number of requests received by the system during a specified time interval. In a fourth example, the volume indicates an acceleration in the number of requests received by the system during a specified time interval. In a fourth example, the volume is a value that is based upon a combination of factors such as two or more of an absolute number, a relative number, a rate of change, and an acceleration in the number of requests received by the system during a specified time interval. - In some implementations, the system determines the volume of requests received by the system globally over time (e.g., counts substantially all requests received by the system during a specified time interval without filtering the requests). In other implementations, the system determines the volume of requests only with respect to requests having characteristics that meet certain criteria. For example, the system may determine a volume of requests received from client devices having a limited set of internet protocol (IP) addresses, from client devices or users that are located in particular geographic regions, or from particular models of client devices.
- At
stage 306, the system determines whether the volume of requests received by the system over time, as determined atstage 304, meets one or more criteria for triggering a deep-dive traffic analysis.Stage 306 may be performed by a traffic volume analyzer 178, for example. During a deep-dive traffic analysis, the system analyzes voice query processing requests received over a period of time in search of any illegitimate voice queries that should be blacklisted. In some implementations, the determining whether the volume of requests meets criteria for triggering a deep-dive traffic analysis includes comparing the volume of requests received during a particular time interval to a threshold value. For example, if the volume of requests indicates an absolute number of requests received by the system during a specified time interval, then the system may compare the absolute number of requests received to a threshold number of requests. If a traffic spike is indicated because the actual number of requests received exceeds the threshold, the system may proceed to a deep-dive traffic analysis atstage 308. If the volume of requests indicates a rate of change in the number of requests received by the system over time, the system may compare the observed rate of change to a threshold rate to determine whether to perform a deep-dive traffic analysis. If the criteria for triggering a deep-dive analysis is not satisfied, theprocess 300 may end or return tostage 302 in some implementations. - At
stage 308, the system performs a deep-dive analysis of received requests to determine if the requests include any illegitimate voice queries that are not currently blacklisted. Thisstage 308 can be performed by afingerprinter 270,collision detector 274, and traffic volume analyzer 278 in some implementations. If, for example, a malicious entity has launched a distributed campaign against the voice query processing system 250 (e.g., a distributed denial of service (DDOS) attack), the system may be flooded within a short time span with requests to process many instances of the same or similar voice query. For instance, a video broadcasted on television or over a computer network may be played, where the video is designed to trigger many voice-based clients in audible range of the played video to generate voice query processing requests containing a voice query uttered in the video. In some implementations, one objective of the system atstage 308 is to identify a common voice query that occurs within a significant number of requests received from client devices over a period of time. Because utterances for voice queries from legitimate users are typically distinctive, e.g., based on the unique voice patterns and speech characteristics of individual speakers, the system may classify a common voice query that occurs in many voice query processing requests from disparate client devices over time as illegitimate. For example, if the volume (e.g., quantity) of voice queries indicated by a set of requests received at the server system is at least a threshold volume, the system may then flag the voice query as illegitimate. In some implementations, the volume of common voice queries can be determined based on a count of a number of voice queries whose electronic fingerprints match each other, a number of voice queries whose text transcriptions match each other, or a combination of these. The volume may be an absolute count of the number of voice queries in a group of voice queries having matching electronic fingerprints and/or transcriptions, a relative count, a rate of change in counts over time, an acceleration of counts over time, or a combination of these. In some implementations, the analysis instage 308 is limited to voice query processing requests received over a limited time interval. The time interval may be the same or different from the time interval applied instage 304. In other implementations, the analysis instage 308 is not limited to voice query processing requests received over a specific time interval. For example, a video on an online video streaming service may be played a number of times by different users, even if not within a short time span. The system may detect common occurrences of a voice query in the video over time and determine that the voice query is not an actual user's voice, but is rather a feature of a reproducible media. Accordingly, the voice query may be deemed illegitimate and blacklisted. - At
stage 310, the system determines whether a set of requests that request processing of a common voice query meets one or more suppression criteria. The suppression criteria can include a volume of requests associated with the common voice criteria, characteristics of the common voice query (e.g., whether the query includes blacklisted terms), and/or additional criteria. For example, the system may classify as illegitimate a voice query that is common among a set of requests if it determines that the size of the set (e.g., the volume or quantity of requests in the set) meets a threshold size, thereby indicating for example that the common voice query occurs with sufficient frequency in received traffic. - In some implementations, signals in addition to or alternatively to the size of the set (e.g., a volume or count of the number of requests in the set having matching fingerprints for a common voice query) can be applied in determining whether the set of requests meets suppression criteria. These signals can include information about user feedback to a response to the voice query or to an operation performed as requested in the voice query. The system may obtain data that indicates whether a user accepted, rejected, or modified a response to a voice query. Depending on the distribution of users that accepted, rejected or modified responses or the results of operations performed as requested in respective instances of a common voice query, the system may bias its determination as to whether the voice query should be blacklisted or whether the set of requests meets prescribed suppression criteria. For example, if the system receives a large number of requests that each includes the voice query "What's the traffic like today between home and the park?", the system may prompt users to confirm that they would like to obtain a response to this question. As more users confirm that the system accurately received the voice query and confirm that they desire to obtain a response to the question, the system may be influenced as less likely that the voice query is illegitimate (and less likely to meet the suppression criteria). In contrast, as more users cancel or modify the query in response to the prompt, the system may be influenced as more likely to classify the voice query as illegitimate (and more likely to meet the suppression criteria).
- At
stage 312, the system selects a path in theprocess 300 based on whether the set of requests for the common voice query meets the suppression criteria. If the suppression criteria is met, theprocess 300 can advance to stage 314. If the suppression criteria is not met, the process may, for example, return tostage 302. In some implementations, the suppression criteria is a null set. That is, any set of requests that identify a common voice query may be classified as illegitimate regardless of whether the set meets additional criteria. - At
stage 314, a fingerprinter, e.g.,fingerprinter 270, generates an electronic fingerprint to model the common voice query that occurs in a set of requests. The fingerprinter may generate an electronic fingerprint from audio data for the voice query, a textual transcription of the voice query, or both. In some implementations, the fingerprint is derived from a representative instance of the common voice query selected from among the set of voice queries identified by the set of requests. The representative instance of the common voice query may be selected in any suitable manner, e.g., by selecting an instance of the common voice query having a highest audio quality or by selecting the representative instance at random. In some implementations, the fingerprint is derived from multiple representative instances of the common voice query or from all of the common voice queries identified by the set of requests. For example, the audio data from multiple instances of the common voice query may be merged before generating a fingerprint. Alternatively, intermediate fingerprints may be generated for each instance, and the intermediate fingerprints then merged to form a final electronic fingerprint for the common voice query. - At
stage 316, the system's traffic analyzer registers the electronic fingerprint of the common voice query with a gatekeeper. In some implementations, registering the fingerprint includes adding the fingerprint to a database of voice queries, e.g.,database 262, which the gatekeeper checks new voice queries against to determine whether to suppress requested operations indicated by the new voice queries. In some implementations, a voice query may be blacklisted for only a subset of client devices which interact with the system, rather than being universally blacklisted. For example, if the system identifies that an illegitimate voice query is originating from a devices in a particular geographic region, the system may blacklist the voice query only with respect to client devices or users located in that region. In some implementations, the system may also attach temporal constraints to a blacklisted voice query. For example, a voice query may be blacklisted either in perpetuity (no expiration) or temporarily. After a voice query is removed from the blacklist, new instances of the voice query may not be subject to suppression. Temporal constraints, geographic constraints, and other rules that govern how a voice query is blacklisted can be registered along with the fingerprint for the voice query in a database of a gatekeeper. In some implementations where the client devices perform voice query screening locally, the server system can push updates to the client devices to keep the devices' local blacklist databases current. For example, a fingerprint for a voice query that the traffic analyzer at the server system has recently classified as illegitimate may be transmitted to multiple client devices. In some implementations, the system may push a fingerprint for a blacklisted voice query to all client devices without restriction. In other implementations, the system may push a fingerprint for a blacklisted voice query only to client devices that are covered by the blacklist, e.g., devices within a particular geographic region. -
Figure 4 is a flowchart of anexample process 400 for analyzing traffic at a voice query processing system to identify an illegitimate voice query based on the frequency that a common voice query occurs in the traffic over time. Theprocess 400 may be carried out by a voice query processing system, e.g.,systems process 400 is carried out at least in part by a traffic analyzer at a server system, e.g.,traffic analyzer 268. - At
stage 402, the voice query processing system receives requests from client devices to process voice queries that were detected by the client devices in their local environments. In some implementations, the system communicates with many client devices (e.g., tens, hundreds, thousands, or millions) over one or more networks, and therefore receives many voice query processing requests. A voice query processing request typically identifies a single voice query that the system is requested to process, although in some implementations a query may identify multiple voice queries. The voice query processing system may process a voice query by transcribing the voice query to text and performing an operation indicated by the content of the query. Further, the system may transmit to a client device a response to a voice query, which may be a confirmation that an operation was performed successfully, an indication that a requested operation has been suppressed, or an answer to a question, for instance. In some implementations, audio data (e.g., a compressed waveform or audio features) for a voice query is explicitly embedded within a voice query processing request. In some implementations, the audio data for a voice query can be transmitted to the server system in one or more messages separate from the request itself, but the request references the messages that provide the audio data. In some implementations, a voice query processing request may include a pointer or other address indicating a network storage location that the server system can access a copy of audio data for the voice query at issue. - At stages 406-410, the system performs various operations on voice queries that correspond to a set of voice query processing requests. In some implementations, the operations are performed on voice queries corresponding to substantially all voice queries received by the system over a period of time. In other implementations, the system may sample the received requests and perform stages 406-410 on voice queries corresponding to only a selected (sampled) subset of the voice queries received by the system over a period of time. In these implementations, the system samples received voice query processing requests at
stage 404. Requests may be sampled according to one or more criteria such as the time the requests were transmitted by the client devices or received by the server system, the location or geographic region of client devices or users that submitted the requests, or a combination of these or other factors. - At
stage 406, a fingerprinter generates electronic fingerprints for voice queries identified in the requests received from the client devices. In some implementations, fingerprints are generated only for the voice queries that correspond to requests that were selected in the sample set fromstage 404. Atstage 408, the fingerprints for the voice queries are added to a database such as fingerprint database 172. The fingerprint database can include a cache of electronic fingerprints for voice queries received by the system over a recent period of time (e.g., last 10 seconds, 30 seconds, 1 minute, 2, minutes, 5 minutes, 15 minutes, 30 minutes, 1 hour, 4 hours, 1 day, or 1 week). - At
stage 410, a collision detector of the voice query processing system, e.g.,collision detector 274, monitors a volume of collisions among fingerprints for each unique voice query represented in the fingerprint database. A collision occurs each time a fingerprint for a new voice query is added to the database that matches a previously stored fingerprint in the database. Generally, a collision indicates that a new instance of a previously detected voice query has been identified. In some implementations, each group of matching fingerprints within the database represent a same or similar voice query that is different from the voice queries represented by other groups of matching fingerprints in the database. That is, each group of matching fingerprints represents a unique voice query that was common among a set of processing requests. The collision detector may constantly monitor a volume of collisions in the fingerprint database for each unique voice query. In some implementations, the volume of collisions for a given voice query is determined based on a count of a number of matching fingerprints in a group detected by the system over time. The volume of collisions may indicate, for example, an absolute number of collisions, a relative number of collisions, a rate of change in collisions over time, an acceleration of collisions over time, or a combination of two or more of these. - At
stage 412, the system determines whether to classify one or more of the unique voice queries represented in the fingerprint database as illegitimate voice queries. A voice query may be deemed illegitimate based on the volume of collisions detected for the voice query over a recent period of time. For example, the system may determine to blacklist a voice query if the volume of collisions detected for the voice query over a recent period of time meets a threshold volume of collisions. The collision detector may keep track of groups of matching fingerprints in the fingerprint database and counts of the number of matching fingerprints in each group. Being as the groups are sorted based on having matching fingerprints, each group can represent a different voice query (e.g., a same voice query or sufficiently similar voice queries). The system can select to classify voice queries corresponding to one or more of the groups based on the counts of the number of matching fingerprints in each group. For example, voice queries for groups having the top-n (e.g., n = 1, 2, 3, 4, 5, or more) highest counts may be selected and classified as illegitimate, and/or voice queries for groups having counts that meet a threshold count may be classified as illegitimate. - In some implementations, signals in addition to or alternatively to the volume of collisions (e.g, values based on counts of matching fingerprints per group) can be applied in determining whether to classify a voice query as illegitimate and to blacklist the voice query. These signals can include information about user feedback to a response to the voice query or to an operation performed as requested in the voice query. The system may obtain data that indicates whether a user accepted, rejected, or modified a response to a voice query. Depending on the distribution of users that accepted, rejected or modified responses or the results of operations performed as requested in respective instances of a common voice query, the system may bias its determination as to whether the voice query should be blacklisted or whether the set of requests meets prescribed suppression criteria. For example, if the system receives a large number of requests that each includes the voice query "What's the traffic like today between home and the park?", the system may prompt users to confirm that they would like to obtain a response to this question. As more users confirm that the system accurately received the voice query and confirm that they desire to obtain a response to the question, the system may be influenced as less likely that the voice query is illegitimate (and less likely to meet the suppression criteria). In contrast, as more users cancel or modify the query in response to the prompt, the system may be influenced as more likely to classify the voice query as illegitimate (and more likely to meet the suppression criteria).
- At
stage 414, the system then blacklists an illegitimate voice query by registering a fingerprint for the voice query with gatekeepers at the server system and/or the client devices. In some implementations, the system registers a fingerprint with a gatekeeper (e.g., a voice query suppression service) in a similar manner to that described atstage 316 ofFigure 3 . -
Figure 5 is a swim-lane diagram illustrating anexample process 500 for detecting an illegitimate voice query and suppressing a voice query operation at a server system. In some implementations, theprocess 500 is performed between a client device, e.g.,client system stage 502, the client device detects a hotword in its local environment. In response to detecting the hotword, the device activates and atstage 504 captures a voice query that includes a series of words following the hotword. Atstage 506, the client device pre-processes audio data for the received voice query. Optionally, pre-processing can include generating a feature representation of an audio signal for the received voice query. Atstage 508, the client device generates and transmits a voice query processing request for the voice query to the server system. The server system receives the request atstage 510. Upon receiving the request, the server system generates an electronic fingerprint of the voice query. The electronic fingerprint is compared to other fingerprints that are pre-stored in a database of blacklisted voice queries atstage 514. If the fingerprint for the received voice query matches any of the pre-stored fingerprints corresponding to a blacklisted voice query, then the system determines that the received voice query has been blacklisted and suppresses performance of an operation indicated by the received voice query (stage 518). In some implementations, the server system may transmit an indication to the client device that the operation indicated by the received voice query has been suppressed (stage 520). The client device receives the indication at stage 522. The client may log the indication of a suppressed voice query and may generate a user notification about the suppressed operation. -
Figure 6 is a swim-lane diagram illustrating anexample process 600 for detecting an illegitimate voice query and suppressing a voice query operation at a client device. In some implementations, theprocess 600 is performed between a client device, e.g.,client system process 500 ofFigure 5 , theprocess 600 ofFigure 6 screens voice queries locally at the client device rather than at the server system. Nonetheless, the client device may obtain the model electronic fingerprints for blacklisted voice queries from a server system. The fingerprints for blacklisted voice queries may be generated by the server system in some implementations using the techniques described with respect toFigures 3 and4 . - At
stage 602, the server system generates fingerprints of blacklisted voice queries. Atstage 604, the server system transmits registers the fingerprints for the blacklisted voice queries including transmitting the fingerprints to a client device that has a local gatekeeper fro screening voice queries. Atstage 606, the client device receives the model fingerprints for the blacklisted voice queries from the server system. Atstage 608, the client device stores the fingerprints in a local blacklisted voice queries database. Atstage 610, the client device detects an utterance of a hotword in the local environment of the device. In response to detecting the hotword, the client device activates and captures a voice query that includes one or more words following the hotword (stage 612). Atstage 614, the device generates an electronic fingerprint of the received voice query. The electronic fingerprint is compared to other fingerprints that are pre-stored in a database of blacklisted voice queries atstage 616. If the fingerprint for the received voice query matches any of the pre-stored fingerprints corresponding to a blacklisted voice query (stage 618), then the device determines that the received voice query has been blacklisted and suppresses performance of an operation indicated by the received voice query (stage 620). -
Figure 7 shows an example of acomputing device 700 and a mobile computing device that can be used to implement the techniques described herein. Thecomputing device 700 is intended to represent various forms of digital computers, such as laptops, desktops, workstations, personal digital assistants, servers, blade servers, mainframes, and other appropriate computers. The mobile computing device is intended to represent various forms of mobile devices, such as personal digital assistants, cellular telephones, smart-phones, and other similar computing devices. The components shown here, their connections and relationships, and their functions, are meant to be exemplary only, and are not meant to limit implementations of the inventions described and/or claimed in this document. - The
computing device 700 includes aprocessor 702, amemory 704, astorage device 706, a high-speed interface 708 connecting to thememory 704 and multiple high-speed expansion ports 710, and a low-speed interface 712 connecting to a low-speed expansion port 714 and thestorage device 706. Each of theprocessor 702, thememory 704, thestorage device 706, the high-speed interface 708, the high-speed expansion ports 710, and the low-speed interface 712, are interconnected using various busses, and may be mounted on a common motherboard or in other manners as appropriate. Theprocessor 702 can process instructions for execution within thecomputing device 700, including instructions stored in thememory 704 or on thestorage device 706 to display graphical information for a GUI on an external input/output device, such as adisplay 716 coupled to the high-speed interface 708. In other implementations, multiple processors and/or multiple buses may be used, as appropriate, along with multiple memories and types of memory. Also, multiple computing devices may be connected, with each device providing portions of the necessary operations (e.g., as a server bank, a group of blade servers, or a multi-processor system). - The
memory 704 stores information within thecomputing device 700. In some implementations, thememory 704 is a volatile memory unit or units. In some implementations, thememory 704 is a non-volatile memory unit or units. Thememory 704 may also be another form of computer-readable medium, such as a magnetic or optical disk. - The
storage device 706 is capable of providing mass storage for thecomputing device 700. In some implementations, thestorage device 706 may be or contain a computer-readable medium, such as a floppy disk device, a hard disk device, an optical disk device, or a tape device, a flash memory or other similar solid state memory device, or an array of devices, including devices in a storage area network or other configurations. The computer program product may also contain instructions that, when executed, perform one or more methods, such as those described above. The computer program product can also be tangibly embodied in a computer- or machine-readable medium, such as thememory 704, thestorage device 706, or memory on theprocessor 702. - The high-
speed interface 708 manages bandwidth-intensive operations for thecomputing device 700, while the low-speed interface 712 manages lower bandwidth-intensive operations. Such allocation of functions is exemplary only. In some implementations, the high-speed interface 708 is coupled to thememory 704, the display 716 (e.g., through a graphics processor or accelerator), and to the high-speed expansion ports 710, which may accept various expansion cards (not shown). In the implementation, the low-speed interface 712 is coupled to thestorage device 706 and the low-speed expansion port 714. The low-speed expansion port 714, which may include various communication ports (e.g., USB, Bluetooth, Ethernet, wireless Ethernet) may be coupled to one or more input/output devices, such as a keyboard, a pointing device, a scanner, or a networking device such as a switch or router, e.g., through a network adapter. - The
computing device 700 may be implemented in a number of different forms, as shown in the figure. For example, it may be implemented as astandard server 720, or multiple times in a group of such servers. In addition, it may be implemented in a personal computer such as alaptop computer 722. It may also be implemented as part of arack server system 724. Alternatively, components from thecomputing device 700 may be combined with other components in a mobile device (not shown), such as amobile computing device 750. Each of such devices may contain one or more of thecomputing device 700 and themobile computing device 750, and an entire system may be made up of multiple computing devices communicating with each other. - The
mobile computing device 750 includes aprocessor 752, amemory 764, an input/output device such as adisplay 754, acommunication interface 766, and atransceiver 768, among other components. Themobile computing device 750 may also be provided with a storage device, such as a micro-drive or other device, to provide additional storage. Each of theprocessor 752, thememory 764, thedisplay 754, thecommunication interface 766, and thetransceiver 768, are interconnected using various buses, and several of the components may be mounted on a common motherboard or in other manners as appropriate. - The
processor 752 can execute instructions within themobile computing device 750, including instructions stored in thememory 764. Theprocessor 752 may be implemented as a chipset of chips that include separate and multiple analog and digital processors. Theprocessor 752 may provide, for example, for coordination of the other components of themobile computing device 750, such as control of user interfaces, applications run by themobile computing device 750, and wireless communication by themobile computing device 750. - The
processor 752 may communicate with a user through acontrol interface 758 and adisplay interface 756 coupled to thedisplay 754. Thedisplay 754 may be, for example, a TFT (Thin-Film-Transistor Liquid Crystal Display) display or an OLED (Organic Light Emitting Diode) display, or other appropriate display technology. Thedisplay interface 756 may comprise appropriate circuitry for driving thedisplay 754 to present graphical and other information to a user. Thecontrol interface 758 may receive commands from a user and convert them for submission to theprocessor 752. In addition, anexternal interface 762 may provide communication with theprocessor 752, so as to enable near area communication of themobile computing device 750 with other devices. Theexternal interface 762 may provide, for example, for wired communication in some implementations, or for wireless communication in other implementations, and multiple interfaces may also be used. - The
memory 764 stores information within themobile computing device 750. Thememory 764 can be implemented as one or more of a computer-readable medium or media, a volatile memory unit or units, or a non-volatile memory unit or units. Anexpansion memory 774 may also be provided and connected to themobile computing device 750 through an expansion interface 772, which may include, for example, a SIMM (Single In Line Memory Module) card interface. Theexpansion memory 774 may provide extra storage space for themobile computing device 750, or may also store applications or other information for themobile computing device 750. Specifically, theexpansion memory 774 may include instructions to carry out or supplement the processes described above, and may include secure information also. Thus, for example, theexpansion memory 774 may be provide as a security module for themobile computing device 750, and may be programmed with instructions that permit secure use of themobile computing device 750. In addition, secure applications may be provided via the SIMM cards, along with additional information, such as placing identifying information on the SIMM card in a non-hackable manner. - The memory may include, for example, flash memory and/or NVRAM memory (non-volatile random access memory), as discussed below. The computer program product contains instructions that, when executed, perform one or more methods, such as those described above. The computer program product can be a computer- or machine-readable medium, such as the
memory 764, theexpansion memory 774, or memory on theprocessor 752. In some implementations, the computer program product can be received in a propagated signal, for example, over thetransceiver 768 or theexternal interface 762. - The
mobile computing device 750 may communicate wirelessly through thecommunication interface 766, which may include digital signal processing circuitry where necessary. Thecommunication interface 766 may provide for communications under various modes or protocols, such as GSM voice calls (Global System for Mobile communications), SMS (Short Message Service), EMS (Enhanced Messaging Service), or MMS messaging (Multimedia Messaging Service), CDMA (code division multiple access), TDMA (time division multiple access), PDC (Personal Digital Cellular), WCDMA (Wideband Code Division Multiple Access), CDMA2000, or GPRS (General Packet Radio Service), among others. Such communication may occur, for example, through thetransceiver 768 using a radio-frequency. In addition, short-range communication may occur, such as using a Bluetooth, WiFi, or other such transceiver (not shown). In addition, a GPS (Global Positioning System)receiver module 770 may provide additional navigation- and location-related wireless data to themobile computing device 750, which may be used as appropriate by applications running on themobile computing device 750. - The
mobile computing device 750 may also communicate audibly using anaudio codec 760, which may receive spoken information from a user and convert it to usable digital information. Theaudio codec 760 may likewise generate audible sound for a user, such as through a speaker, e.g., in a handset of themobile computing device 750. Such sound may include sound from voice telephone calls, may include recorded sound (e.g., voice messages, music files, etc.) and may also include sound generated by applications operating on themobile computing device 750. - The
mobile computing device 750 may be implemented in a number of different forms, as shown in the figure. For example, it may be implemented as acellular telephone 780. It may also be implemented as part of a smart-phone 782, personal digital assistant, or other similar mobile device. - Various implementations of the systems and techniques described here can be realized in digital electronic circuitry, integrated circuitry, specially designed ASICs (application specific integrated circuits), computer hardware, firmware, software, and/or combinations thereof. These various implementations can include implementation in one or more computer programs that are executable and/or interpretable on a programmable system including at least one programmable processor, which may be special or general purpose, coupled to receive data and instructions from, and to transmit data and instructions to, a storage system, at least one input device, and at least one output device.
- These computer programs (also known as programs, software, software applications or code) include machine instructions for a programmable processor, and can be implemented in a high-level procedural and/or object-oriented programming language, and/or in assembly/machine language. As used herein, the terms machine-readable medium and computer-readable medium refer to any computer program product, apparatus and/or device (e.g., magnetic discs, optical disks, memory, Programmable Logic Devices (PLDs)) used to provide machine instructions and/or data to a programmable processor, including a machine-readable medium that receives machine instructions as a machine-readable signal. The term machine-readable signal refers to any signal used to provide machine instructions and/or data to a programmable processor.
- To provide for interaction with a user, the systems and techniques described here can be implemented on a computer having a display device (e.g., a CRT (cathode ray tube) or LCD (liquid crystal display) monitor) for displaying information to the user and a keyboard and a pointing device (e.g., a mouse or a trackball) by which the user can provide input to the computer. Other kinds of devices can be used to provide for interaction with a user as well; for example, feedback provided to the user can be any form of sensory feedback (e.g., visual feedback, auditory feedback, or tactile feedback); and input from the user can be received in any form, including acoustic, speech, or tactile input.
- The systems and techniques described here can be implemented in a computing system that includes a back end component (e.g., as a data server), or that includes a middleware component (e.g., an application server), or that includes a front end component (e.g., a client computer having a graphical user interface or a Web browser through which a user can interact with an implementation of the systems and techniques described here), or any combination of such back end, middleware, or front end components. The components of the system can be interconnected by any form or medium of digital data communication (e.g., a communication network). Examples of communication networks include a local area network (LAN), a wide area network (WAN), and the Internet.
- The computing system can include clients and servers. A client and server are generally remote from each other and typically interact through a communication network. The relationship of client and server arises by virtue of computer programs running on the respective computers and having a client-server relationship to each other.
- In situations in which the systems, methods, devices, and other techniques here collect personal information (e.g., context data) about users, or may make use of personal information, the users may be provided with an opportunity to control whether programs or features collect user information (e.g., information about a user's social network, social actions or activities, profession, a user's preferences, or a user's current location), or to control whether and/or how to receive content from the content server that may be more relevant to the user. In addition, certain data may be treated in one or more ways before it is stored or used, so that personally identifiable information is removed. For example, a user's identity may be treated so that no personally identifiable information can be determined for the user, or a user's geographic location may be generalized where location information is obtained (such as to a city, ZIP code, or state level), so that a particular location of a user cannot be determined. Thus, the user may have control over how information is collected about the user and used by a content server.
- Although various implementations have been described in detail above, other modifications are possible. In addition, the logic flows depicted in the figures do not require the particular order shown, or sequential order, to achieve desirable results. In addition, other steps may be provided, or steps may be eliminated, from the described flows, and other components may be added to, or removed from, the described systems. The scope of the invention is defined by the following claims.
Claims (15)
- A computer-implemented method, comprising:receiving, by a system of one or more computers and from a plurality of client devices, a plurality of voice query processing requests, each voice query processing request identifying a respective voice query detected in a local environment of a respective client device;identifying, by the system, that a value that is based on a number of the plurality of voice query processing requests received by the system during a specified time interval satisfies one or more criteria;in response to identifying that the value that is based on the number of voice query processing requests received by the system during the specified time interval satisfies the one or more criteria, analyzing at least some of the voice query processing requests received during the specified time interval to determine a set of voice query processing requests that each identify a common voice query, including:for each analyzed voice query processing request, generating an electronic fingerprint for the voice query referenced by the voice query processing request, wherein the electronic fingerprint represents acoustic features of the respective voice query, anddetermining matches among the electronic fingerprints; andsuppressing performance of operations indicated by the common voice query in one or more voice query processing requests subsequently received by the system.
- The computer-implemented method of claim 1, further comprising:determining, by the system, whether the set of voice query processing requests that each identify the common voice query satisfies one or more second criteria;wherein the system selects to generate an electronic fingerprint of the common voice query based on whether the set of voice query processing requests that each identify the common voice query is determined to satisfy the one or more second criteria.
- The computer-implemented method of claim 2, wherein determining whether the set of voice query processing requests that each identify the common voice query satisfies the one or more second criteria comprises determining whether a value that is based on a number of voice query processing requests in the set of voice query processing requests that each identify the common voice query satisfies a threshold value.
- The computer-implemented method of any one of the preceding claims, wherein identifying that the value that is based on the number of voice query processing requests to process voice queries received by the system during the specified time interval satisfies the one or more criteria comprises determining that a volume of voice query processing requests received by the system during the specified time interval satisfies a threshold volume.
- The computer-implemented method of claim 4, wherein the volume of voice query processing requests received by the system during the specified time interval indicates at least one of an absolute number of voice query processing requests received during the specified time interval, a relative number of voice query processing requests received during the specified time interval, a rate of voice query processing requests received during the specified time interval, or an acceleration of voice query processing requests received during the specified time interval.
- The computer-implemented method of any one of the preceding claims, wherein the common voice query comprises a hotword that is to activate client devices and one or more words that follow the hotword.
- A computer-implemented method, comprising:receiving, by a system of one or more computers and from a plurality of client devices, a plurality of voice query processing requests, each voice query processing request identifying a voice query that has been detected in a local environment of a respective client device;for each voice query processing request in at least a subset of the voice query processing requests, generating an electronic fingerprint that represents acoustic features of the voice query identified by the voice query processing request;comparing, by the system, the electronic fingerprints of the respective voice queries of voice query processing requests in the at least the subset of the voice query processing requests to determine groups of matching electronic fingerprints;determining, by the system and for each group in at least a subset of the groups of matching electronic fingerprints, a respective count that indicates a number of matching electronic fingerprints in the group;selecting, by the system and based on the counts, one or more of the groups of matching electronic fingerprints;for each selected group of matching electronic fingerprints, registering a respective electronic fingerprint that is based on one or more of the matching electronic fingerprints in the group with a voice query suppression service; andsuppressing performance of operations indicated by one or more subsequently received voice query processing requests each identifying a voice query having an electronic fingerprint matching one of the registered one or more electronic fingerprints.
- The computer-implemented method of claim 7, wherein the electronic fingerprint further characterizes a textual transcription for the respective voice query.
- The computer-implemented method of any one of claims 7 to 8, wherein for each selected group of matching electronic fingerprints, registering the respective electronic fingerprint for the group with the voice query suppression service comprises adding the respective electronic fingerprint to a database of blacklisted voice queries.
- The computer-implemented method of any one of claims 7 to 9, comprising selecting the one or more of the groups of matching electronic fingerprints based on the one or more of the groups having counts that indicate greater numbers of matching electronic fingerprints than other ones of the groups of matching electronic fingerprints.
- The computer-implemented method of any one of claims 7 to 10, comprising selecting the one or more of the groups of matching electronic fingerprints based on the one or more of the groups having counts that satisfy a threshold count.
- The computer-implemented method of any one of claims 7 to 11, further comprising sampling particular ones of the received voice query processing requests to generate the subset of the voice query processing requests, wherein the system generates an electronic fingerprint for each voice query identified by voice query processing requests in the subset of the voice query processing requests rather than for voice queries identified by voice query processing requests not within the subset of the voice query processing requests.
- The computer-implemented method of claim 12, wherein sampling particular ones of the received voice query processing requests to generate the subset of the voice query processing requests comprises at least one of randomly selecting voice query processing requests for inclusion in the subset of the voice query processing requests or selecting voice query processing requests for inclusion in the subset of the voice query processing requests based on one or more characteristics of client devices that submitted the voice query processing requests.
- The computer-implemented method of any one of claims 7 to 13, further comprising:for a first group of the selected groups of matching electronic fingerprints, generating a representative electronic fingerprint for the first group based on multiple electronic fingerprints from the first group of matching electronic fingerprints; andregistering the representative electronic fingerprint with the voice query suppression service.
- A system comprising:one or more processors; andone or more computer-readable media having instructions stored thereon that, when executed by the one or more processors, cause performance of the method of any preceding claim.
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
EP23174578.7A EP4235651A3 (en) | 2017-05-11 | 2018-01-10 | Detecting and suppressing voice queries |
Applications Claiming Priority (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US15/593,278 US10170112B2 (en) | 2017-05-11 | 2017-05-11 | Detecting and suppressing voice queries |
PCT/US2018/013144 WO2018208336A1 (en) | 2017-05-11 | 2018-01-10 | Detecting and suppressing voice queries |
Related Child Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
EP23174578.7A Division EP4235651A3 (en) | 2017-05-11 | 2018-01-10 | Detecting and suppressing voice queries |
Publications (2)
Publication Number | Publication Date |
---|---|
EP3596725A1 EP3596725A1 (en) | 2020-01-22 |
EP3596725B1 true EP3596725B1 (en) | 2023-06-21 |
Family
ID=61054580
Family Applications (2)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
EP23174578.7A Pending EP4235651A3 (en) | 2017-05-11 | 2018-01-10 | Detecting and suppressing voice queries |
EP18701897.3A Active EP3596725B1 (en) | 2017-05-11 | 2018-01-10 | Detecting and suppressing voice queries |
Family Applications Before (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
EP23174578.7A Pending EP4235651A3 (en) | 2017-05-11 | 2018-01-10 | Detecting and suppressing voice queries |
Country Status (6)
Country | Link |
---|---|
US (4) | US10170112B2 (en) |
EP (2) | EP4235651A3 (en) |
JP (3) | JP6929383B2 (en) |
KR (2) | KR102449760B1 (en) |
CN (2) | CN110651323B (en) |
WO (1) | WO2018208336A1 (en) |
Families Citing this family (25)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US10170112B2 (en) * | 2017-05-11 | 2019-01-01 | Google Llc | Detecting and suppressing voice queries |
US10395650B2 (en) | 2017-06-05 | 2019-08-27 | Google Llc | Recorded media hotword trigger suppression |
US10885919B2 (en) * | 2018-01-05 | 2021-01-05 | Nuance Communications, Inc. | Routing system and method |
US11016957B2 (en) | 2018-02-28 | 2021-05-25 | Microsoft Technology Licensing, Llc | Sensor data based query results |
US10777203B1 (en) * | 2018-03-23 | 2020-09-15 | Amazon Technologies, Inc. | Speech interface device with caching component |
US20190347358A1 (en) * | 2018-05-10 | 2019-11-14 | Microsoft Technology Licensing, Llc | Query Formulation Using Networked Device Candidates |
US10810998B2 (en) * | 2018-09-28 | 2020-10-20 | International Business Machines Corporation | Custom temporal blacklisting of commands from a listening device |
US11165779B2 (en) * | 2018-11-29 | 2021-11-02 | International Business Machines Corporation | Generating a custom blacklist for a listening device based on usage |
JP7241190B2 (en) * | 2019-02-06 | 2023-03-16 | グーグル エルエルシー | Voice Query Quality of Service QoS Based on Client Computed Content Metadata |
US10659588B1 (en) * | 2019-03-21 | 2020-05-19 | Capital One Services, Llc | Methods and systems for automatic discovery of fraudulent calls using speaker recognition |
US11501761B2 (en) * | 2019-04-05 | 2022-11-15 | Samsung Electronics Co., Ltd. | Method and apparatus for speech recognition |
KR20200117826A (en) * | 2019-04-05 | 2020-10-14 | 삼성전자주식회사 | Method and apparatus for speech recognition |
JP2020181016A (en) * | 2019-04-23 | 2020-11-05 | コニカミノルタ株式会社 | Information processing system, information processing device, terminal device, and program |
US11133005B2 (en) * | 2019-04-29 | 2021-09-28 | Rovi Guides, Inc. | Systems and methods for disambiguating a voice search query |
CN112291281B (en) * | 2019-07-09 | 2023-11-03 | 钉钉控股（开曼）有限公司 | Voice broadcasting and voice broadcasting content setting method and device |
CN110474878B (en) * | 2019-07-17 | 2021-09-24 | 海南大学 | DDoS attack situation early warning method and server based on dynamic threshold |
US11289086B2 (en) * | 2019-11-01 | 2022-03-29 | Microsoft Technology Licensing, Llc | Selective response rendering for virtual assistants |
US11676586B2 (en) * | 2019-12-10 | 2023-06-13 | Rovi Guides, Inc. | Systems and methods for providing voice command recommendations |
WO2021133155A1 (en) * | 2019-12-23 | 2021-07-01 | Mimos Berhad | System and method for managing voice query of a presentation |
CN111897838A (en) * | 2020-06-28 | 2020-11-06 | 中国建设银行股份有限公司 | Transaction query method and device, electronic equipment and readable storage medium thereof |
EP4191577A4 (en) * | 2020-09-25 | 2024-01-17 | Samsung Electronics Co Ltd | Electronic device and control method therefor |
EP4200841A4 (en) * | 2020-12-18 | 2024-02-21 | Samsung Electronics Co Ltd | A method and systems for decoding an audio query |
US11967322B2 (en) | 2021-05-06 | 2024-04-23 | Samsung Electronics Co., Ltd. | Server for identifying false wakeup and method for controlling the same |
CN113872987A (en) * | 2021-10-18 | 2021-12-31 | 深圳追一科技有限公司 | Malicious attack defense method and device, storage medium and gateway |
EP4198970A1 (en) * | 2021-12-20 | 2023-06-21 | Samsung Electronics Co., Ltd. | Computer implemented method for determining false positives in a wakeup-enabled device, corresponding device and system |
Family Cites Families (43)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20040111632A1 (en) * | 2002-05-06 | 2004-06-10 | Avner Halperin | System and method of virus containment in computer networks |
US8166014B2 (en) * | 2003-05-02 | 2012-04-24 | Yahoo! Inc. | Detection of improper search queries in a wide area network search engine |
JP4301102B2 (en) * | 2004-07-22 | 2009-07-22 | ソニー株式会社 | Audio processing apparatus, audio processing method, program, and recording medium |
US7933985B2 (en) * | 2004-08-13 | 2011-04-26 | Sipera Systems, Inc. | System and method for detecting and preventing denial of service attacks in a communications system |
US7478429B2 (en) * | 2004-10-01 | 2009-01-13 | Prolexic Technologies, Inc. | Network overload detection and mitigation system and method |
EP1877905B1 (en) * | 2005-05-05 | 2014-10-22 | Cisco IronPort Systems LLC | Identifying threats in electronic messages |
WO2007033344A2 (en) * | 2005-09-14 | 2007-03-22 | Sipera Systems, Inc. | System, method and apparatus for classifying communications in a communications system |
US20070186282A1 (en) | 2006-02-06 | 2007-08-09 | Microsoft Corporation | Techniques for identifying and managing potentially harmful web traffic |
US8670537B2 (en) * | 2006-07-31 | 2014-03-11 | Cisco Technology, Inc. | Adjusting audio volume in a conference call environment |
US8014308B2 (en) * | 2006-09-28 | 2011-09-06 | Microsoft Corporation | Hardware architecture for cloud services |
US8966619B2 (en) * | 2006-11-08 | 2015-02-24 | Verizon Patent And Licensing Inc. | Prevention of denial of service (DoS) attacks on session initiation protocol (SIP)-based systems using return routability check filtering |
US8244752B2 (en) * | 2008-04-21 | 2012-08-14 | Microsoft Corporation | Classifying search query traffic |
KR100987354B1 (en) * | 2008-05-22 | 2010-10-12 | 주식회사 이베이지마켓 | System for checking false code in website and Method thereof |
JP5058088B2 (en) * | 2008-07-14 | 2012-10-24 | 日本電信電話株式会社 | Service component disturbance prevention method and service component disturbance control apparatus |
US8255994B2 (en) * | 2008-08-20 | 2012-08-28 | Sprint Communications Company L.P. | Detection and suppression of short message service denial of service attacks |
US8271422B2 (en) * | 2008-11-29 | 2012-09-18 | At&T Intellectual Property I, Lp | Systems and methods for detecting and coordinating changes in lexical items |
US8495742B2 (en) * | 2010-05-17 | 2013-07-23 | Microsoft Corporation | Identifying malicious queries |
US9558677B2 (en) * | 2011-04-08 | 2017-01-31 | Wombat Security Technologies, Inc. | Mock attack cybersecurity training system and methods |
US8812474B2 (en) * | 2011-07-14 | 2014-08-19 | Nuance Communications, Inc. | Methods and apparatus for identifying and providing information sought by a user |
US8561188B1 (en) | 2011-09-30 | 2013-10-15 | Trend Micro, Inc. | Command and control channel detection with query string signature |
US8549645B2 (en) * | 2011-10-21 | 2013-10-01 | Mcafee, Inc. | System and method for detection of denial of service attacks |
US20130263226A1 (en) * | 2012-01-22 | 2013-10-03 | Frank W. Sudia | False Banking, Credit Card, and Ecommerce System |
KR20130140423A (en) * | 2012-06-14 | 2013-12-24 | 삼성전자주식회사 | Display apparatus, interactive server and method for providing response information |
CN104969289B (en) * | 2013-02-07 | 2021-05-28 | 苹果公司 | Voice trigger of digital assistant |
IL231503A0 (en) * | 2013-03-14 | 2014-08-31 | Verisign Inc | White listing dns top-talkers |
US9548047B2 (en) * | 2013-07-31 | 2017-01-17 | Google Technology Holdings LLC | Method and apparatus for evaluating trigger phrase enrollment |
US9002835B2 (en) * | 2013-08-15 | 2015-04-07 | Google Inc. | Query response using media consumption history |
US9443522B2 (en) * | 2013-11-18 | 2016-09-13 | Beijing Lenovo Software Ltd. | Voice recognition method, voice controlling method, information processing method, and electronic apparatus |
US20160021105A1 (en) * | 2014-07-15 | 2016-01-21 | Sensory, Incorporated | Secure Voice Query Processing |
US10116676B2 (en) * | 2015-02-13 | 2018-10-30 | Time Warner Cable Enterprises Llc | Apparatus and methods for data collection, analysis and service modification based on online activity |
US10048934B2 (en) * | 2015-02-16 | 2018-08-14 | International Business Machines Corporation | Learning intended user actions |
CN104902070A (en) * | 2015-04-13 | 2015-09-09 | 青岛海信移动通信技术股份有限公司 | Mobile terminal voice control method and mobile terminal |
US9641680B1 (en) * | 2015-04-21 | 2017-05-02 | Eric Wold | Cross-linking call metadata |
US9954891B2 (en) * | 2015-05-18 | 2018-04-24 | Verizon Digital Media Services Inc. | Unobtrusive and dynamic DDoS mitigation |
US9621577B2 (en) * | 2015-05-28 | 2017-04-11 | Microsoft Technology Licensing, Llc | Mitigation of computer network attacks |
US9329762B1 (en) * | 2015-06-02 | 2016-05-03 | Interactive Memories, Inc. | Methods and systems for reversing editing operations in media-rich projects |
US20160373909A1 (en) * | 2015-06-17 | 2016-12-22 | Hive Life, LLC | Wireless audio, security communication and home automation |
US20170024657A1 (en) * | 2015-07-21 | 2017-01-26 | Yp Llc | Fuzzy autosuggestion for query processing services |
US9838422B2 (en) * | 2015-09-15 | 2017-12-05 | International Business Machines Corporation | Detecting denial-of-service attacks on graph databases |
US9747926B2 (en) * | 2015-10-16 | 2017-08-29 | Google Inc. | Hotword recognition |
JP6463710B2 (en) * | 2015-10-16 | 2019-02-06 | グーグル エルエルシー | Hot word recognition |
CN106847292B (en) * | 2017-02-16 | 2018-06-19 | 平安科技（深圳）有限公司 | Method for recognizing sound-groove and device |
US10170112B2 (en) * | 2017-05-11 | 2019-01-01 | Google Llc | Detecting and suppressing voice queries |
-
2017
- 2017-05-11 US US15/593,278 patent/US10170112B2/en active Active
-
2018
- 2018-01-10 EP EP23174578.7A patent/EP4235651A3/en active Pending
- 2018-01-10 CN CN201880031026.9A patent/CN110651323B/en active Active
- 2018-01-10 KR KR1020227000335A patent/KR102449760B1/en active IP Right Grant
- 2018-01-10 KR KR1020197032939A patent/KR102349985B1/en active IP Right Grant
- 2018-01-10 EP EP18701897.3A patent/EP3596725B1/en active Active
- 2018-01-10 WO PCT/US2018/013144 patent/WO2018208336A1/en active Search and Examination
- 2018-01-10 JP JP2019561767A patent/JP6929383B2/en active Active
- 2018-01-10 CN CN202110309045.7A patent/CN113053391A/en active Pending
- 2018-11-21 US US16/198,084 patent/US10699710B2/en active Active
-
2020
- 2020-05-27 US US16/885,072 patent/US11341969B2/en active Active
-
2021
- 2021-04-07 JP JP2021065204A patent/JP7210634B2/en active Active
-
2022
- 2022-05-20 US US17/749,892 patent/US20220284899A1/en active Pending
-
2023
- 2023-01-11 JP JP2023002458A patent/JP2023052326A/en active Pending
Also Published As
Publication number | Publication date |
---|---|
JP7210634B2 (en) | 2023-01-23 |
US20220284899A1 (en) | 2022-09-08 |
JP6929383B2 (en) | 2021-09-01 |
JP2023052326A (en) | 2023-04-11 |
KR20190137863A (en) | 2019-12-11 |
US20180330728A1 (en) | 2018-11-15 |
KR102449760B1 (en) | 2022-09-30 |
US20200357400A1 (en) | 2020-11-12 |
JP2020519946A (en) | 2020-07-02 |
KR102349985B1 (en) | 2022-01-11 |
US10170112B2 (en) | 2019-01-01 |
CN110651323A (en) | 2020-01-03 |
CN110651323B (en) | 2021-04-09 |
US20190156828A1 (en) | 2019-05-23 |
EP3596725A1 (en) | 2020-01-22 |
EP4235651A3 (en) | 2023-09-13 |
CN113053391A (en) | 2021-06-29 |
US11341969B2 (en) | 2022-05-24 |
US10699710B2 (en) | 2020-06-30 |
KR20220008940A (en) | 2022-01-21 |
WO2018208336A1 (en) | 2018-11-15 |
EP4235651A2 (en) | 2023-08-30 |
JP2021119388A (en) | 2021-08-12 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US11341969B2 (en) | Detecting and suppressing voice queries | |
EP2806425B1 (en) | System and method for speaker verification | |
US11373652B2 (en) | Hotword suppression | |
US8121845B2 (en) | Speech screening | |
US20190325345A1 (en) | Bot-based data collection for detecting phone solicitations | |
KR20190077075A (en) | Suppress recorded media hot word trigger | |
CN116597836A (en) | Recorded media hotword trigger suppression | |
US9571652B1 (en) | Enhanced diarization systems, media and methods of use | |
US11114104B2 (en) | Preventing adversarial audio attacks on digital assistants | |
US20220262367A1 (en) | Voice Query QoS based on Client-Computed Content Metadata | |
CN111031329B (en) | Method, apparatus and computer storage medium for managing audio data | |
CN115699165A (en) | Automatic hotword threshold tuning | |
US11165779B2 (en) | Generating a custom blacklist for a listening device based on usage | |
Ramasubramanian | Speaker spotting: Automatic telephony surveillance for homeland security |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: UNKNOWN |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: THE INTERNATIONAL PUBLICATION HAS BEEN MADE |
|
PUAI | Public reference made under article 153(3) epc to a published international application that has entered the european phase |
Free format text: ORIGINAL CODE: 0009012 |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: REQUEST FOR EXAMINATION WAS MADE |
|
17P | Request for examination filed |
Effective date: 20191018 |
|
AK | Designated contracting states |
Kind code of ref document: A1Designated state(s): AL AT BE BG CH CY CZ DE DK EE ES FI FR GB GR HR HU IE IS IT LI LT LU LV MC MK MT NL NO PL PT RO RS SE SI SK SM TR |
|
AX | Request for extension of the european patent |
Extension state: BA ME |
|
DAV | Request for validation of the european patent (deleted) | ||
DAX | Request for extension of the european patent (deleted) | ||
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: EXAMINATION IS IN PROGRESS |
|
17Q | First examination report despatched |
Effective date: 20210419 |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: EXAMINATION IS IN PROGRESS |
|
GRAP | Despatch of communication of intention to grant a patent |
Free format text: ORIGINAL CODE: EPIDOSNIGR1 |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: GRANT OF PATENT IS INTENDED |
|
RIC1 | Information provided on ipc code assigned before grant |
Ipc: G10L 15/22 20060101AFI20221212BHEP |
|
INTG | Intention to grant announced |
Effective date: 20230103 |
|
GRAS | Grant fee paid |
Free format text: ORIGINAL CODE: EPIDOSNIGR3 |
|
GRAA | (expected) grant |
Free format text: ORIGINAL CODE: 0009210 |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: THE PATENT HAS BEEN GRANTED |
|
AK | Designated contracting states |
Kind code of ref document: B1Designated state(s): AL AT BE BG CH CY CZ DE DK EE ES FI FR GB GR HR HU IE IS IT LI LT LU LV MC MK MT NL NO PL PT RO RS SE SI SK SM TR |
|
P01 | Opt-out of the competence of the unified patent court (upc) registered |
Effective date: 20230522 |
|
REG | Reference to a national code |
Ref country code: CHRef legal event code: EP |
|
REG | Reference to a national code |
Ref country code: DERef legal event code: R096Ref document number: 602018052060Country of ref document: DE |
|
REG | Reference to a national code |
Ref country code: ATRef legal event code: REFRef document number: 1581482Country of ref document: ATKind code of ref document: TEffective date: 20230715 |
|
REG | Reference to a national code |
Ref country code: IERef legal event code: FG4D |
|
REG | Reference to a national code |
Ref country code: LTRef legal event code: MG9D |
|
REG | Reference to a national code |
Ref country code: NLRef legal event code: MPEffective date: 20230621 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: SEFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230621Ref country code: NOFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230921 |
|
REG | Reference to a national code |
Ref country code: ATRef legal event code: MK05Ref document number: 1581482Country of ref document: ATKind code of ref document: TEffective date: 20230621 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: RSFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230621Ref country code: NLFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230621Ref country code: LVFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230621Ref country code: LTFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230621Ref country code: HRFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230621Ref country code: GRFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230922 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: FIFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230621 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: SKFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230621 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: ESFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230621 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: ISFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20231021 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: SMFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230621Ref country code: SKFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230621Ref country code: ROFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230621Ref country code: PTFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20231023Ref country code: ISFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20231021Ref country code: ESFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230621Ref country code: EEFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230621Ref country code: CZFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230621Ref country code: ATFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230621 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: PLFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230621 |
|
PLBE | No opposition filed within time limit |
Free format text: ORIGINAL CODE: 0009261 |
|
STAA | Information on the status of an ep patent application or granted ep patent |
Free format text: STATUS: NO OPPOSITION FILED WITHIN TIME LIMIT |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: DKFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230621 |
|
PGFP | Annual fee paid to national office [announced via postgrant information from national office to epo] |
Ref country code: DEPayment date: 20240129Year of fee payment: 7Ref country code: GBPayment date: 20240129Year of fee payment: 7 |
|
PG25 | Lapsed in a contracting state [announced via postgrant information from national office to epo] |
Ref country code: SIFree format text: LAPSE BECAUSE OF FAILURE TO SUBMIT A TRANSLATION OF THE DESCRIPTION OR TO PAY THE FEE WITHIN THE PRESCRIBED TIME-LIMITEffective date: 20230621 |