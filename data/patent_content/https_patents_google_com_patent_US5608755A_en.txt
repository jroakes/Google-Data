US5608755A - Method and apparatus for implementing carrierless amplitude/phase encoding in a network - Google Patents
Method and apparatus for implementing carrierless amplitude/phase encoding in a network Download PDFInfo
- Publication number
- US5608755A US5608755A US08/336,821 US33682194A US5608755A US 5608755 A US5608755 A US 5608755A US 33682194 A US33682194 A US 33682194A US 5608755 A US5608755 A US 5608755A
- Authority
- US
- United States
- Prior art keywords
- data
- receiver
- conductors
- twisted pair
- channel
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Expired - Lifetime
Links
- 238000000034 method Methods 0.000 title claims abstract description 33
- 238000012360 testing method Methods 0.000 claims abstract description 69
- 238000001514 detection method Methods 0.000 claims abstract description 20
- 230000011664 signaling Effects 0.000 claims abstract description 10
- 239000004020 conductor Substances 0.000 claims description 53
- 230000005540 biological transmission Effects 0.000 claims description 20
- 230000000694 effects Effects 0.000 claims description 6
- 230000000737 periodic effect Effects 0.000 claims description 6
- 230000001360 synchronised effect Effects 0.000 claims description 6
- 238000012549 training Methods 0.000 abstract description 13
- 230000007704 transition Effects 0.000 description 44
- 238000010586 diagram Methods 0.000 description 21
- 238000011084 recovery Methods 0.000 description 13
- 230000004044 response Effects 0.000 description 9
- 230000006854 communication Effects 0.000 description 6
- 238000004891 communication Methods 0.000 description 6
- 230000006978 adaptation Effects 0.000 description 4
- 230000003044 adaptive effect Effects 0.000 description 4
- 230000008569 process Effects 0.000 description 4
- 230000008901 benefit Effects 0.000 description 3
- 230000001934 delay Effects 0.000 description 3
- 230000003111 delayed effect Effects 0.000 description 3
- 238000012544 monitoring process Methods 0.000 description 3
- 238000012935 Averaging Methods 0.000 description 2
- 230000009471 action Effects 0.000 description 2
- 230000005672 electromagnetic field Effects 0.000 description 2
- 239000000284 extract Substances 0.000 description 2
- 230000006870 function Effects 0.000 description 2
- 230000010354 integration Effects 0.000 description 2
- 230000003993 interaction Effects 0.000 description 2
- 230000002452 interceptive effect Effects 0.000 description 2
- 238000009825 accumulation Methods 0.000 description 1
- 230000004913 activation Effects 0.000 description 1
- 230000001154 acute effect Effects 0.000 description 1
- 239000000654 additive Substances 0.000 description 1
- 230000000996 additive effect Effects 0.000 description 1
- 230000006399 behavior Effects 0.000 description 1
- 230000007175 bidirectional communication Effects 0.000 description 1
- 230000002457 bidirectional effect Effects 0.000 description 1
- 238000006243 chemical reaction Methods 0.000 description 1
- 238000012937 correction Methods 0.000 description 1
- 230000008878 coupling Effects 0.000 description 1
- 238000010168 coupling process Methods 0.000 description 1
- 238000005859 coupling reaction Methods 0.000 description 1
- 239000013078 crystal Substances 0.000 description 1
- 230000003247 decreasing effect Effects 0.000 description 1
- 230000001419 dependent effect Effects 0.000 description 1
- 230000001627 detrimental effect Effects 0.000 description 1
- 239000006185 dispersion Substances 0.000 description 1
- 238000001413 far-infrared spectroscopy Methods 0.000 description 1
- 238000001914 filtration Methods 0.000 description 1
- 230000005577 local transmission Effects 0.000 description 1
- 230000007257 malfunction Effects 0.000 description 1
- 230000005039 memory span Effects 0.000 description 1
- 238000012986 modification Methods 0.000 description 1
- 230000004048 modification Effects 0.000 description 1
- 230000035755 proliferation Effects 0.000 description 1
- 230000005855 radiation Effects 0.000 description 1
- 230000003252 repetitive effect Effects 0.000 description 1
- 239000013589 supplement Substances 0.000 description 1
Images
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L25/00—Baseband systems
- H04L25/38—Synchronous or start-stop systems, e.g. for Baudot code
- H04L25/40—Transmitting circuits; Receiving circuits
- H04L25/49—Transmitting circuits; Receiving circuits using code conversion at the transmitter; using predistortion; using insertion of idle bits for obtaining a desired frequency spectrum; using three or more amplitude levels ; Baseband coding techniques specific to data transmission systems
- H04L25/4917—Transmitting circuits; Receiving circuits using code conversion at the transmitter; using predistortion; using insertion of idle bits for obtaining a desired frequency spectrum; using three or more amplitude levels ; Baseband coding techniques specific to data transmission systems using multilevel codes
- H04L25/4919—Transmitting circuits; Receiving circuits using code conversion at the transmitter; using predistortion; using insertion of idle bits for obtaining a desired frequency spectrum; using three or more amplitude levels ; Baseband coding techniques specific to data transmission systems using multilevel codes using balanced multilevel codes
- H04L25/4921—Transmitting circuits; Receiving circuits using code conversion at the transmitter; using predistortion; using insertion of idle bits for obtaining a desired frequency spectrum; using three or more amplitude levels ; Baseband coding techniques specific to data transmission systems using multilevel codes using balanced multilevel codes using quadrature encoding, e.g. carrierless amplitude-phase coding
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L27/00—Modulated-carrier systems
- H04L27/32—Carrier systems characterised by combinations of two or more of the types covered by groups H04L27/02, H04L27/10, H04L27/18 or H04L27/26
- H04L27/34—Amplitude- and phase-modulated carrier systems, e.g. quadrature-amplitude modulated carrier systems
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04L—TRANSMISSION OF DIGITAL INFORMATION, e.g. TELEGRAPHIC COMMUNICATION
- H04L27/00—Modulated-carrier systems
- H04L27/32—Carrier systems characterised by combinations of two or more of the types covered by groups H04L27/02, H04L27/10, H04L27/18 or H04L27/26
- H04L27/34—Amplitude- and phase-modulated carrier systems, e.g. quadrature-amplitude modulated carrier systems
- H04L27/38—Demodulator circuits; Receiver circuits
Definitions
- This invention relates to encoding schemes for communicating data from point to point, and more particularly to a method and apparatus for carrierless phase/amplitude encoding data to be communicated over a communications network.
- LANs which comply with the well-known ethernet standard typically require four twisted pairs of conductors for communication between two stations on the network. Two of these pairs are dedicated to transmission in one direction, and another two pairs are bidirectional. Using four pairs of conductors increases the amount of information that can be transmitted in a predetermined period of time. However, the need to provide four twisted pairs increases the cost of installing a LAN. Furthermore, there are a number of buildings that have less than four twisted pairs available.
- data to be transmitted is encoded using carrierless amplitude-modulation, phase-modulation encoding (CAP).
- CAP carrierless amplitude-modulation, phase-modulation encoding
- an impulse is generated which has two components. The first component is an in-phase signal; the second component is a quadrature signal. As implied by the name, the quadrature signal is 90° out of phase with the in-phase signal. Each component may have an amplitude which is equal to one of six different amplitude levels.
- an impulse may be generated which has 36 unique combinations of in-phase signal amplitude and quadrature signal amplitude. These 36 combinations are typically referred to as a CAP 36 constellation.
- the amplitude of the in-phase component and the quadrature component is determined.
- a single CAP signal can be decoded to represent up to 5 bits of digital data. For example, in one scheme known as "CAP 32", 32 of the points are associated with the 32 possible values that can be represented by five binary digits; the other 4 points are ignored or invalid.
- the rate at which digital information can be transmitted can be increased by a factor of five without increasing the frequency of the signal used to transmit that information.
- CAP signals are both phase and amplitude sensitive
- transmission of CAP information along wires is more sensitive to interference than are signals which do not encode data by modulating phase and amplitude.
- cross talk between adjacent wires carrying different signals can be particularly troublesome to systems which implement encoding schemes such as CAP.
- Cross talk adds noise to signals in adjacent wires. The amount of distortion is dependent upon the power of the electromagnetic waves that radiate from each of the wires, and the amount of that radiation which is converted to current in each adjacent wire. Since systems such as ethernet LANs have cables containing a plurality of conductors, pairs of which are twisted together to carry unique information, cross talk between these pairs of conductors must be tamed to minimize ingress to the signals being carried on each pair.
- networks such as Ethernet
- networks do not require signal activity to be constantly present
- maintaining synchronization between remote devices during idle periods presents a problem. That is, when a device is not receiving data for an extended period of time, its internal receive clock may fall out of synchronization with the transmit clocks of other devices in the network.
- the present invention is a method and apparatus for transmitting data between a least a first and second station over a network interface, such as the well-known ethernet network.
- the present invention provides a method and apparatus for reducing cross talk in a network using carrierless amplitude modulation and phase modulation encoding (CAP) with independent data clock source at each station, providing a relatively simple and fast data detection apparatus, maintaining synchronization between stations during idle periods while minimizing cross talk, providing a technique to allow filters to be trained during idle periods, and providing a technique which allows automatic gain control to be used with CAP.
- CAP carrierless amplitude modulation and phase modulation encoding
- stations on a network have a transceiver which has a receiver section (the receiver) and transmitter section (the transmitter) for transmitting and receiving information to and from the network.
- a transceiver which has a receiver section (the receiver) and transmitter section (the transmitter) for transmitting and receiving information to and from the network.
- the receiver the receiver
- transmitter the transmitter
- only two transceivers are coupled to any two pairs of signal lines. Each pair is preferably unidirectional.
- One of the major advantages of the present invention is the ability to communicate relatively large amounts of data over two twisted pairs of conductors.
- the receiver comprises a low pass filter (LPF), an automatic gain controlled amplifier (AGC), an analog-to-digital circuit (A/D), a near end cross-talk (NEXT) canceler, an in-phase and a quadrature detector, a decoder including a fast line status detection, a first-in/first-out circuit (FIFO), and a descrambler.
- the transmitter comprises a scrambler, a FIFO, an encoder, an in-phase and a quadrature modulator, a summing circuit, a digital-to-analog converter (D/A), an amplifier, and an LPF.
- the inventive aspects of the present invention lie in the scheme used to encode and decode data as CAP signals, the fast line status detect circuit within the decoder, the use of an AGC to improve the received signal, and the configuration of the NEXT canceler.
- the present invention provides a method for reducing cross-talk between receive and transmit signals by using a particular arrangement of points from a CAP 36 constellation to represent various control signals, increasing the speed at which line status may be detected, maintaining synchronization between the transmit clock and the receive clock during idle periods, maintaining a relatively constant phase relationship between the receive clock and the transmit clock, and generating a signal reporting a "jam" condition (i.e., signals are received at a hub by more than one station).
- particular signalling symbols are associated with each of the following conditions: (1) idle state, (2) preamble, (3) start of frame detection, (4) test condition, (5) each possible combination of five binary bits representing 32 different data symbols, and (6) jam condition.
- a unique pair of the four inner most points on the CAP 36 constellation are used for indicating idle mode. All four inner most points are used for testing the link and training the filters in the receiver.
- Two of the four points at the outer-most comers of the CAP 36 constellation are used as a preamble prior to transmission of data.
- the other two points at the outer-most comers of the CAP 36 constellation are used to transmit the first bit of data after the end of the preamble (i.e., start of frame detection).
- a first inner most point and a first outer-most point within the same quadrant of the CAP 36 constellation are used to signal a jam condition.
- each of the conditions is designed to reduce cross-talk by selecting signals to be transmitted on the transmit pair which have a low frequency due to the manner in which the in-phase and quadrature signals combine, and which are relatively distant in amplitude from the amplitude of signals likely to be present on the receive line of the pair.
- the present invention provides rapid detection of a preamble by bypassing the encoder and the scrambler at the transmit side, and the decoder and descrambler at the receive side. Since the encoder and scrambler are bypassed during transmission of the preamble, a means for synchronizing the scrambler and descrambler circuits after the preamble has been completely transmitted is required.
- the present invention provides for synchronization of the scrambler and descrambler by providing a unique symbol for the first bit of data transmitted after a preamble.
- each receiver By transmitting a test signal at intervals as required by each receiver, each receiver can maintain synchronization with the associated transmitter. Furthermore, in accordance with the present invention, differences between the phase of the receive clock and the transmit clock can be identified by shifts in the constellation points received from those points which are expected. That is, each point on the CAP 36 constellation is expected to fall generally within a narrow range of amplitudes for the in-phase and quadrature signals which define the points of the CAP 36 constellation. If the signals received are decoded and determined to each be shifted a relatively equal amount, the difference between the received points and the expected points is calculated and the phase of the receive clock is adjusted to correct for the difference.
- test signals can be used to train receive filters as required during periods when no data is being transmitted. In this way, filters are accurately configured for data prior to transmission of the data. Thus, data is not distorted by the fact that the filters are not properly configured.
- the present invention allows an AGC to be used to ensure that the full dynamic range of the A/D is used, while preventing saturation or clipping by exceeding the maximum input levels of the A/D.
- a servo loop of the AGC controls the gain of a variable gain amplifier (VGA).
- the servo loop operates in one of two modes. The first mode is a high servo loop gain mode (non-data mode). The second mode is a low servo loop gain mode (data mode). In non-data mode, the VGA has lower gain for signals output by the A/D. Furthermore, the speed of the servo loop is decreased when receiving data to prevent the gain from being increased by a short periods in which a number of low amplitude data symbols are received.
- the NEXT canceler can be relatively simple, since the interference that is likely to be present due to near end cross-talk is one of a limited number of patterns. For example, when data is present on one line, the other line can only be in the test or idle state. The signals transmitted during test and idle states are well defined. Therefore, cancellation of the near end cross-talk due to these signals is simplified.
- the jam condition symbol includes a symbol which is unique from any of the data symbols.
- the indication transmitted can be distinguished from data as well as from each of the other possible states.
- control symbols are transmitted out of band over an out of band control channel.
- a first twisted pair i.e., two wires
- a second twisted pair is used to communicate overhead (control) information over a control channel.
- Each of the twisted pairs carry signals in the same direction.
- the control channel carries a clock pattern
- the data channel carries data patterns (i.e., preferably CAP encoded signal patterns).
- FIG. 1a is block diagram of a system in accordance with one embodiment of the present invention.
- FIG. 1b is block diagram of a system in accordance with an alternative embodiment of the present invention.
- FIG. 2 is a state diagram of the transmit state machine in accordance with the present invention.
- FIG. 3 is a state diagram of a CAP 36 constellation.
- FIG. 4a is a block diagram of the AGC controller circuit in accordance with the present invention, illustrating the interaction of the AGC controller circuit with the VGA and the A/D.
- FIG. 4b is a block diagram of an alternative equalizer and NEXT canceler in accordance with the present invention.
- FIG. 4c is a block diagram of another alternative equalizer and NEXT canceler in accordance with the present invention.
- FIG. 5 is a state diagram of the states of a receiver in accordance with one embodiment of the present invention.
- FIG. 6 illustrates a IDLE SLICER MODE in accordance with one embodiment of the present invention.
- FIG. 7 illustrates the ranges of amplitude used to identify symbols in PREAMBLE SLICER MODE
- FIG. 8 illustrates the ranges of amplitude used to identify symbols in DATA SLICER MODE in accordance with one embodiment of the present invention.
- FIG. 8 illustrates the ranges of amplitude used to identify symbols in DATA SLICER MODE in accordance with one embodiment of the present invention.
- FIGS. 9a-9d illustrate the relationship between the output of the detector, the decoder, and the bit stream at the receiver MII output RXD in accordance with one embodiment of the present invention.
- FIG. 10 is a block diagram of the relationship between the clocks in the transceiver and the components which utilize those clocks.
- FIG. 11 is a block diagram of the clock recovery circuit in accordance with the present invention.
- FIG. 12 is an illustration of a network in accordance with one embodiment of the present invention which has a plurality of stations and uses repeaters to allow each station to communicate with each other station.
- FIGS 13a, 13b, and 13c, 13d illustrates the direction of signals on a control channel and a data channel when data is transmitted between a first and a second station in alternative embodiment of the present invention in which out-of-band signalling is provided.
- FIG. 14 is a block diagram of a station 1303 in accordance with one embodiment of the present invention in which control symbols are transmitted out of band.
- FIG. 1a is a block diagram of a transceiver 101 in accordance with the present invention coupled to a media access control unit (MAC) 103, each within a first station in a network, the first station being coupled to another station 105 in the network.
- the transceiver includes four sections; a Receiver, a Transmitter, a Media Independent Interface (MII), and a miscellaneous section.
- MII Media Independent Interface
- CAP constellation points being assigned to represent data patterns
- particular periodic patterns of CAP symbols are used to communicate overhead.
- idle symbols comprising an idle pattern can be transmitted when there is no data being transmitted to allow the receive clock in a transceiver receiving the idle symbols to remain synchronized with the transmit clock in a transceiver transmitting the idle symbols.
- the idle pattern in accordance with preferred embodiment of the present invention is a periodic sequence of idle symbols represented by CAP constellation points.
- the idle pattern alternates between a first and a second CAP constellation point.
- preamble symbols may be transmitted which indicate that the beginning of a data frame is forthcoming. Other such overhead symbols are discussed below.
- the use of periodic sequences of CAP constellation points to communicate overhead symbols allows the same hardware to modulate (and encode) and demodulate (and detect) both data and overhead symbols.
- the Transmitter 128 includes a scrambler 107, a first-in/first-out memory (FIFO) 109, an encoder 111, a first and a second multiplexer 113, 115, a first and a second transmit finite impulse response (FIR) filter 117, 119, a summing circuit 121, a digital-to-analog converter (DAC) 123, a Jabber detection circuit 125, a transmitter state machine 126, a low pass filter (LPF) 124, and a driver 122.
- the MII section includes a transmit MII 127, a receive MII 129, a station management interface 131, an EEPROM interface 133, and a status and configuration circuit 135.
- the receiver 170 includes a variable gain amplifier (VGA) 137, an analog to digital converter (A/D) 139, a clock recovery circuit 140, an automatic gain control (AGC) circuit 141, an equalizer 150 comprising a first and second receive FIR filter 143, 145, and a least mean square (LMS)/near-end cross-talk circuit (NC) 147, a squelch/carrier detect circuit 149, a first and second summing circuit 151, 153, a detector circuit 155, a decoder circuit 157, a FIFO 159, a descrambler 161, and a receiver state machine 162.
- the miscellaneous section includes a startup circuit 163, a joint test action group (JTAG) 165, a light emitting diode (LED) control circuit 167, a repeater interface circuit 168, and a clock generator 169.
- JTAG joint test action group
- LED light emitting diode
- the scrambler 107 manipulates data received from the transmit MII 127 to ensure that the appropriate number of transitions occur in the data stream to be transmitted, as required by transmission standards such as V.31.
- the data is then buffered in the transmit FIFO 109.
- the encoder 111 receives the digital information to be transmitted and maps each group of five bits into an output symbol which is presented to the FIR filters 117, 119 through multiplexers 113, 115.
- the encoder 111 also monitors the state of the transmitter and injects appropriate symbol sequences to be output during states of the transmitter other than the data transmission state.
- An FIR filter 117, 119 associated with each component shapes the in-phase and quadrature components.
- the multiplexers 113, 115 can select symbols generated by the repeater interface 168 to signal a jam condition.
- the in-phase and quadrature components of the symbols output from the FIR filters 117, 119 are combined and in a summing circuit 121 and applied to the DAC 123.
- the DAC converts the digital signals which represent the symbols to analog format.
- the signals pass through a low pass reconstruction filter 124 having an output which is preferably coupled to the driver 122.
- a jabber detection circuit is provided to monitor the duration of the transmitter activity and to detect malfunction when the duration exceeds a threshold set by Ethernet standards.
- the VGA 137 Signals are received in the transceiver and coupled to the VGA 137.
- Gain of the VGA 137 is controlled by the AGC control circuit 141.
- the VGA 137 has four modes of operation, the first of which is mutually exclusive with the second, and the third of which is mutually exclusive with the fourth.
- the output of the VGA 137 is coupled to the input of the A/D 139.
- the A/D 139 converts the analog signal into a digital representation of the analog signal.
- the A/D converter 139 preferably operates at a rate of three times the symbol rate (e.g., 3 ⁇ 20 million; or 60 million samples per second). In one embodiment, a 60 MHz clock is provided to the A/D converter 139 by the clock recovery circuit 140.
- the output of the A/D 139 is coupled to the input to the in-phase receiver FIR filter 143, a quadrature receiver FIR filter 145, and a squelch/carrier detect circuit 149.
- the squelch/carrier detect circuit 149 is capable of determining directly whether a preamble is present on the incoming signal line. Presence of a preamble causes the carrier sense (CRS) signal 173 to be asserted.
- the in-phase receiver FIR filter 143 extracts the quadrature component from the received signal.
- the quadrature receiver FIR filter 145 extracts the in-phase component from the received signal.
- the LMS/NC circuit 147 cancels near end cross talk, and equalizes the signals for distortion and interference.
- the quadrature and in-phase signals are provided to the detector 155.
- the detector 155 determines transitions between receiver modes, determines which constellation point on the CAP 36 constellation the received signal represents, produces error signals for equalizer filter adaptation, and provides metrics used to monitor receiver performance.
- the decoder 157 receives the output from the detector 155 and generates a bit stream that is essentially equal to the data encoded by the far-end transmitter. This bit stream is buffered in the receiver FIFO 159. The output from the FIFO 159 is coupled to the input of the descrambler 161. The descrambler 161 returns the data to essentially the condition the data was in at the input to the scrambler 107 (i.e., decodes any inversions created to ensure that the required number of transitions occurred). The output of the decoder 161 is coupled to the receiver MII 129.
- the transmitter and receiver MII 127, 129 interface the transceiver to the MAC 103.
- Such interfaces are well known in the art (e.g., IEEE standard 802.3 interface).
- the station interface 131 has a simple two wire interface defined by IEEE 802.3u MII supplement and provides for bidirectional communication between the physical layer and a station management entity in known fashion.
- the EEPROM interface 133 provides an interface to read and write information into an electrically erasable programmable read only memory (EEPROM) (not shown).
- EEPROM electrically erasable programmable read only memory
- the input of a decision feedback equalizer (DFE) 190 is coupled to the output from the detector, and the output of the DFE 190 is coupled to additional inputs to the summing circuits 151, 153.
- DFE decision feedback equalizer
- This configuration may be advantageous for use as the transceiver within a repeater.
- the DFE 190 provides cancellation of cross talk that results when the receive and transmit lines of a plurality of stations are all bundled together, as may be the case when a multi-conductor cable is routed from one repeater to a plurality of stations. Details of the operation of the DFE 190 are provided below.
- the transmitter state machine 126 continuously monitors the transmit data line (TXD) 171, the transmit enable line (TXEN), and the CRS 173.
- the TXEN is a signal generated by the MAC 103.
- FIG. 2 is a state diagram of the transmit state machine 127.
- the state of the transmitter is important to synchronize the scrambler 107 and FIFO 109 with the encoder 111 activities to ensure that signalling information is properly encoded in the symbol stream and that there is no loss of data in the bit stream. State transitions preferably occur synchronous to the MII (in one example, at 25 MHz octet boundaries) and are synchronized with symbol generation (which occurs at 20 MHz in on embodiment of the present invention).
- the transmitter state machine 127 may transition to either TEST STATE 203 or PREAMBLE STATE 205.
- a transition to TEST STATE 203 is made upon receipt from another station on the network of a request to transmit a test pattern.
- the remote receiver transmits an idle violation code to request a test pattern from the local transmitter. Detecting an idle violation code will notify the local transmitter that a request has been issued.
- the local transmitter monitors the duration of inactivity and when the transmitter is inactive for more than a predetermined amount of time, a test pattern is transmitted.
- a transition to PREAMBLE STATE 205 is made whenever a preamble symbol is received by the transmitter MII 127 over the TXD 171 and the TXEN is asserted.
- the transmit enable is asserted by the MAC 103 which transmits a signal to the transmitter MII 127 upon a transmit packet request and the transmitter being IDLE.
- the transmitter state machine 126 may reenter IDLE STATE 201 at the end of the normal test cycle, or may enter PREAMBLE STATE 205 if a preamble appears on the TXD 171. Thus, the fact that the transmitter is in TEST STATE 203 will not preclude the transmitter from transmitting data.
- the transmitter state machine 126 Upon entering PREAMBLE STATE 205, the transmitter state machine 126 continues to monitor the TXEN to ensure that the TXEN remains asserted. If at any time during PREAMBLE STATE 205, the TXEN is deasserted, the transmitter state machine 126 reverts to IDLE STATE 201. In addition, if the TXD 171 contains a "00" pattern (i.e., two zero bits in succession) or a "11" pattern that is not consistent with the start of time delimiter (SFD), then the transmitter state machine 126 reverts to IDLE STATE 201.
- a "00" pattern i.e., two zero bits in succession
- SFD start of time delimiter
- the state machine can also transition to DATA STATE 207, during which data is received by the transmitter MII 127 and transmitted onto the network, as will be discussed in greater detail below.
- the transmitter state machine 126 transitions to IDLE STATE 201.
- the transmitter state machine 126 transitions to JAM STATE 209.
- a jam occurs when more than one station attempts to send information on the network at the same time.
- a jam occurs when two stations attempt to send data to one repeater at the same time. (A discussion of repeaters and the operation of transceivers within repeaters is presented later).
- a jam condition is signaled by the repeater interface 168 directly through the multiplexers 113, 115, or by the station that detects the jam condition.
- the data that is being output from the encoder 111 is ignored.
- the transmitter state machine 126 can only enter IDLE STATE 201.
- the encoder outputs the symbols used to generate the pattern that indicates an IDLE STATE 201 condition.
- this pattern is generated by alternating between two of the inner most points of the CAP 36 constellation, preferably in opposing quadrants (i.e., the amplitude of each component of the first point is the negative of the amplitude of the corresponding component of the second point).
- a diagram of the CAP 36 constellation is provided in FIG. 3.
- a first axis 303 represents the amplitude of the in-phase component of the output signal transmitted by the transceiver over the network. Points to the right of the origin 305 have positive amplitudes, and point to the left of the origin 305 have negative amplitudes.
- a second axis 304 represents the amplitude of the quadrature component of the signals to be transmitted by the transceiver. Points above the origin 305 have positive amplitudes, and points below the origin have negative amplitudes.
- points 301,302 are used to generate a pattern (“IDLE pattern") that signals that the transmitter is in IDLE STATE 201.
- IDLE pattern a pattern that signals that the transmitter is in IDLE STATE 201.
- These particular points have been selected for the following reasons.
- the amplitude of the pattern generated by alternating between these points 301, 302 is relatively low. Therefore, the amount of cross talk generated in wires adjacent to the wires on which this pattern is transmitted will be minimized.
- the pattern that is generated has a frequency that is approximately half the symbol rate (e.g., in fast ethernet, the symbol rate is 20 MHz; accordingly, the tone frequency is 10 MHz).
- the IDLE pattern will generate less cross talk than would be generated if some other point or combination of points were used which generated a tone that had a higher frequency.
- the IDLE pattern is preferably generated directly by the encoder 111. That is, the encoder does not receive any information from the transmitter FIFO 109 during IDLE STATE 201.
- the encoder 111 outputs a first data stream that represents the in-phase component of the IDLE pattern, and a second data stream that represents the quadrature component of the IDLE pattern.
- the in-phase data stream and the quadrature data stream are each coupled to a respective one of the two multiplexers 113, 115.
- the multiplexers 113, 115 are each controlled during IDLE STATE 201 to couple the outputs from the encoder 111 to the inputs of the transmitter FIR filters 117, 119.
- Each of the transmitter FIR filters 117, 119 are fixed coefficient (i.e., non-adaptive) FIRs. However, the coefficients may be altered during initialization of the transceiver 101. Alternatively, the filters 117, 119 may be adaptive. In the preferred embodiment, each filter has 15 taps, T/4 fractional spacing, 3-bit wide inputs, 13-bit coefficient precision, output scaling, and an 8-bit wide output. In one embodiment of the present invention, the in-phase and quadrature components are input to the filters are 4-bit two's compliment values in the set ⁇ +/-1, +/-3, +/-5 ⁇ . That is, each 4-bit value represents one of the six possible amplitude levels available to the corresponding component within the CAP 36 constellation.
- the 12 taps correspond to a memory span of four symbols.
- the filter response is a square root raised cosine 50% rolloff.
- the filter output is computed according to the following equation: ##EQU1## where symbols are indexed with the letter "k”, and "n" is the number of taps, Y n is the output of the FIR filter at the n-th iteration (sample, instance), and "t" is the input symbol to the FIR filter.
- the summing circuit 121 receives the output from each FIR filter 117, 119 and subtracts the output of the quadrature filter 119 from the output of the in-phase filter 117. The difference is presented to the DAC 123.
- the DAC 123 converts the digital signal to an analog signal in conventional fashion.
- the analog signal is driven on the network by a conventional analog driver circuit 128.
- the present invention preferably outputs a TEST pattern that comprising a pseudo random sequence of inner constellation points 301,302, 306, 307.
- the TEST pattern is preferably generated by the encoder 111 directly. That is, the encoder 111 is signalled that the transmitter is in TEST STATE 203. In response, the encoder 111 generates a digital output which at the output of the FIR filters 117, 119 is equal to the TEST pattern.
- the TEST pattern is used to train the receiver filters included within the station that requested the TEST pattern. Training is performed in known fashion. Use of the inner most points 301, 302, 306, 307 of the constellation reduce the energy that is transmitted during TEST STATE 203. Thus, the amount of cross talk due to the TEST pattern is reduced.
- the present invention preferably outputs a PREAMBLE pattern which alternates between a first and a second of the outer most points in the CAP 36 constellation.
- the PREAMBLE pattern alternates between the points 308, 310.
- These points 308, 310 provide the maximum amplitude at a relatively low frequency (half the symbol rate; e.g., 10 MHz for fast ethernet) and thus reduces the effects of cross talk received on the receiver lines. The use of these points also makes the resulting PREAMBLE pattern easy to detect.
- the encoder 111 outputs the data required to generate the PREAMBLE pattern upon receiving a preamble from the transmitter MII 127 through the scrambler 107 (which is disabled during PREAMBLE STATE 205) and the FIFO 109.
- the preamble is preferably a predetermined pattern of bits which can be recognized by the encoder.
- the preamble received by the encoder 111 is a repeating pattern of 64-bits alternating between ones and zeros (i.e., "1010 . . . 1010").
- the last two bits of the last preamble symbol are "11". This ensures that the encoder 111 will distinguish the beginning of the data from the preamble.
- This last symbol of the PREAMBLE STATE 205 is referred to as a Start of Frame Detection symbol (SFD).
- SFD Start of Frame Detection symbol
- the SFD is encoded as one of two points on the CAP 36 constellation. These two points used to encode the SFD are preferably distinct from the two points used to encode the previous portion of the preamble. In addition to serving as a preamble delimiter, the SFD determines the state of the first bit of digital data.
- the particular symbol used to encode the SFD will determine whether the first bit is a one or a zero.
- one of the two points 312, 314 at the outer comers opposite the two points 308, 310 are used to encode the SFD.
- Use of these points 312, 314 provides a symbol in which the amplitude of each of the components is as distinct from the components of the other symbols used in the preamble as is possible within the limits of the CAP 36 constellation.
- the SFD will be easily detected by the receiver.
- the transmitter After receipt of the SFD, the transmitter enters DATA STATE 207. It should be noted that the first bit of data is encoded in the SFD and accordingly transmitted in PREAMBLE STATE 205, not DATA STATE 207.
- the present invention transmits data encoded using 32 of the 36 symbols available in the CAP 36 constellation.
- the inner most four points 301,302, 306, 307 are not used to encode valid data.
- the 32 possible combinations of five bits of binary data can be encoded. That is, each data symbol will represent five bits of digital data.
- Table 1 illustrates the bit pattern represented by each combination of in-phase and quadrature components.
- the transmitter state machine 126 transitions to JAM STATE 209.
- a jam symbol sequence includes an alternating pattern of the inner most and outer most corners within a single quadrant of the CAP 36 constellation.
- the jam symbol sequence is preferably an alternating pattern between the points 301 and 314. Since the point 301 should never be transmitted during DATA STATE 207, the repeated receipt of this point during data reception repeatedly followed by the point 314 indicates a jam condition.
- the jam sequence is transmitted for a predetermined time, such as 6 symbols, after which the receiver transitions back to IDLE STATE 201.
- the receiver of the preferred embodiment of the present invention receives the signal over a two wire twisted pair, similar to the twisted pair used by the transmitter.
- the receive twisted pair is coupled to the differential inputs of a conventional low pass filter 136 having a cut-off of approximately 37.5 MHz.
- the differential output of the low pass filter 136 is coupled to a differential input to the VGA 137.
- the gain of the VGA is controlled by the AGC controller circuit 141.
- FIG. 4 is a block diagram of the AGC controller circuit 141, illustrating the interaction of the AGC controller circuit 141 with the VGA 137 and the A/D 139.
- the gain of the VGA 137 is controlled by a servo loop which includes the A/D 139 and the AGC controller circuit 141.
- Data output by the A/D 139 is monitored by a peak detector circuit 403 which maintains a record of the largest input magnitude of a given period.
- the output of the peak detector circuit 403 is coupled to a first input to a multiplexer 401 and to a multiplier circuit 402.
- the output of the multiplier circuit 402 is coupled to a second input to the multiplexer 401.
- the output of the multiplexer 401 is coupled to a summing circuit 405.
- the multiplexer 401 may select to directly couple the output of the peak detector circuit 403 to the summing circuit 405 or may route the output of the peak detector circuit 403 through the multiplier circuit 402.
- the multiplier circuit 402 multiplies a signal by five.
- the output of the summing circuit 405 is coupled to a first amplifier block 407.
- the output of the first amplifier/integrator block 407 is coupled to a subtraction input of the summing circuit 405.
- the output of the first amplifier/integrator block 407 is subtracted from the output of the multiplexer 402.
- a first input to a second summing circuit 409 is coupled to the output of the first amplifier/integrator block 407, and a second input to the second summing circuit 409 is coupled to an AGC reference signal.
- the AGC reference signal By adjusting the AGC reference signal the gain curve of the servo loop can be adjusted.
- the AGC reference level is set at startup. However, the AGC reference signal level may be reestablished during operation by the station interface 131.
- the output of the second summing circuit 409 is coupled to the input of a second amplifier/integrator circuit 411.
- the result of the summing circuits 405, 409 and amplifier/integrator circuits 407, 411 is to average the peak signal values and set the gain of the VGA 137 to maintain a relatively constant average peak signal level.
- the output of the AGC controller circuit 141 is one of 16 discrete values. Accordingly, the gain of the VGA can be one of 16 values.
- the peak detector circuit 403 maintains a "leaky" sample of the largest absolute value recorded. That is, the magnitude of the largest input to the peak detector circuit 403 decays (or is reduced) at a predetermined rate.
- the rate of decay in the preferred embodiment is approximately the time required to receive 1000 symbols.
- the current sample is compared with the value of the reduced recorded sample. If the magnitude of the current sample is greater than the magnitude of the current recorded value, the current sample is recorded and begins to decay at the predetermined rate.
- the recorded sample is reduced by an amount proportional to the difference between the recorded value and the magnitude of the current sample. Accordingly, during CGC MODE updates to the recorded value are made each sample regardless of whether the current sample is greater than or less than the recorded sample. Therefore, averaging and error integration is performed on a sample by sample basis. Updates to the recorded sample cease upon detection of a collision (i.e., the local transmitter is or becomes active during receipt of data or preamble).
- a frame comprises a preamble (which may comprise a predetermined pattern of bits) and data (substantive information, as opposed to overhead, which is to be communicated to another station).
- a frame is referred to as a "data frame”.
- a frame may also include a series of test symbols. This is referred to as a "test frame”.
- the peak detector value is then updated for each sample within a frame only if the current sample is greater than the recorded sample.
- FGC MODE the recorded sample maintains value (i.e., does not decay).
- averaging and error integration is performed on a frame by frame basis during FGC MODE.
- the gain of each amplifier/integrator block 407, 411 is greater during CGC MODE than during FGC MODE.
- the lower update rate, together with the lower servo loop gains increases the time constant (i.e., slows the slewing of the VGA) during FGC MODE.
- CGC is preferably used to accelerate convergence of the AGC without concern that the loop gain will be too great, since the receive signal is controlled during the training procedure implemented during startup, as is described below.
- the multiplexer 401 In a third mode (DATA MODE) the multiplexer 401 causes the output of the peak detector circuit 403 to be directly coupled to the summing circuit 405. In a fourth mode (NON-DATA MODE) the multiplexer 401 routes the output of the peak detector 403 through the multiplier 402. NON-DATA MODE is used when receiving either test or idle symbols. Since non-data symbols are preferably at the lowest amplitude levels (i.e., in-phase and quadrature components have the least amplitude) the multiplier 402 compensates for the difference in average peak signal amplitude between non-data symbols and data symbols.
- Control of the mode selection in the AGC controller circuit 141 is made by the receiver state machine 162.
- the multiplexer 401 selects the input which directly couples the output of a peak detector 403 to the summing circuit 405.
- the A/D converter 139 is preferably a flash analog-to-digital converter with a true 8-bit resolution at its output.
- the sample rate is preferably approximately 60 million samples per second (60 Ms/s), as determined by the clock provided to the A/D converter 139 by the clock recovery circuit 140. Symbols are received at 20 million symbols per second. Accordingly, there are three samples taken for each symbol.
- the A/D converter 139 preferably has an on-line auto-calibration mode and a block auto-calibration mode.
- the on-line mode allows individual comparators to be zeroed, one per clock, during conversion processes. This strategy results in a random probability of 1/256 every symbol that the output will be skewed by 1 least significant bit because the specific comparator was busy being calibrated when needed to generate the output. This will have a negligible impact on the noise level of the receiver.
- the entire A/D converter 139 is calibrated at the end of each data frame and at the end of each test sequence.
- the LMS/NC circuit 147 includes two FIR filter having 1 tap each, 1 data input, 10-bit coefficient width, output scaling of 2 -4 , an 8-bit output width, an 8-bit error width, and an adaptive gain of 2 -6 .
- the LMS/NC circuit 147 operates to cancel the near-end cross talk as follows. Since the near end cross talk is an IDLE pattern, the LMS/NC circuit 147 need only deal with the in-phase component having a unit amplitude of +/-1. Likewise, the quadrature component has a unit amplitude of -/+1.
- the output of the LMS/NC circuit 147 is equal to:
- S is the output scaling factor
- B r are the filter coefficients
- data input is indicated as (-1) k .
- the IDLE pattern at the output of the receiver FIR is an additive alternating sign vector very slowly rotating, the LMS/NC circuit 147 estimates the in phase and quadrature components of that vector with its alternating sign and subtracts it from the receiver FIR outputs, thus cancelling the near end cross talk interference.
- the coefficients are updated alternatively, one per symbol period, according to the following formula:
- ⁇ NC is the adaption gain
- the coefficients of the NEXT canceler within the LMS/NC circuit 147 may determined by a lookup table.
- the lookup table need only have one entry, since the transmit signal which causes the cross talk to be cancelled is known to have an amplitude alternating between plus and minus one referenced to the CAP constellation.
- the FIR filters 143, 145 are two nearly identical adaptive FIR filters.
- the LMS/NC input, d is input to both filters 143, 145 at the same time, at the 60 MHz sample rate.
- Each filter 143, 145 has 21 taps, 7 symbols, an 8-bit input width, a 13-bit precision coefficient, an 8-bit output width, and a 6-bit error width.
- the 18 taps correspond to a memory length of 6 symbol periods. There is no difference in the structure of these filters 143, 145, however the coefficient values may vary.
- the FIR filters 143, 145 are tasked with extracting out the in-phase and quadrature components from the input signal in known fashion.
- these filters 143, 145 perform line equalization to compensate for signal distortion due to line dispersion, temperature fluctuations, and inter-symbol interference. Accordingly, the output of the receiver in-phase FIR filter 143 is the in-phase component of the received symbol, and the output of the receiver quadrature FIR filter 145 is the quadrature component of the received symbol.
- the filter output is calculated according to the following: ##EQU2## where r is the filter output; S is the output scaling factor; R i are the filter coefficients; and d is the input to the filter.
- the symbols are indexed with "k”.
- the coefficients are indexed with "i”.
- ⁇ is the error signal from the detector and ⁇ is the adaptation gain.
- the FIR filters may be in one of three different modes: (1) ADAPT MODE, in which coefficient adaptation takes place); (2) FREEZE MODE, in which coefficient adaptation is inhibited; and (3) INIT MODE, in which initial coefficient values are loaded from a fixed set of values.
- the startup state machine 163 will transition the equalizer 150 from INIT MODE to ADAPT MODE. External control of these modes takes place through the receive MII 129.
- the FIR filters 143, 145 count the number of saturation events that occur due to excessive gain in the VGA 137 by counting, during the accumulation, overflow and underflow detected.
- FIG. 4b is a block diagram of an alternative embodiment of the present invention in which the each component of the transmitted signal is feed from the multiplexers 113, 115 into the receiver near end cross talk canceler 450 and a least mean square circuit 452, as well as into the transmitter filters 117, 119.
- the output of the near end cross talk canceler 452 is coupled to the inverting input of a summing circuit 454.
- the non-inverting input to the summing circuit 454 is coupled to the output of the A/D converter 139. Therefore the output from the transmitter (which generates the near end cross talk signal) is subtracted from the output of the A/D converter 139.
- the output from the A/D converter is also coupled to the input of the least mean square circuit 452.
- the least mean square circuit controls the filter characteristics to ensure that the proper amount of the transmitter signal is applied to the summing circuit 454.
- Receiver filters 456, 458 are controlled by least mean square circuit 460 to equalize the received signal at the output of the summing circuit 454.
- the least mean square circuit 460 is feed with control signals from the detector 155. Thus, it can be seen that the near end cross talk is subtracted prior to equalizing the received signal.
- FIG. 4c is a block diagram of another alternative embodiment of the present invention.
- the signal components of transmitter are coupled to summing circuits 470, 472 which subtract the transmitter components after the receiver signal has been equalized by receiver filters 474, 476.
- a least mean square circuit 473 controls the parameters of an FIR filter 475 to determine the proper coupling of the transmitter components based on a signal output from the detector 155.
- a least means square circuit 478 controls the filters 474, 476 based upon the output from the detector 155 after the near end cross talk has been cancelled.
- the receiver state machine 162 preferably controls the states of the receiver.
- FIG. 5 is a state diagram of the states of a receiver in accordance with one embodiment of the present invention. Assuming the receiver is in IDLE STATE 501, the receiver may transition to any one of four other states. For example, the receiver may transition to a PREAMBLE STATE 503 upon detecting receipt of a preamble symbol (e.g., in one embodiment of the present invention, either the point 308 or 310 of the CAP 36 constellation shown in FIG. 3). The receiver may also transition to TEST STATE 502 upon receipt of a test symbol. In one embodiment of the present invention, the test symbols include the inner most four points 301, 302, 306, 307 in the CAP 36 constellation shown in FIG. 3.
- the points 301 and 302 are idle symbols. Therefore, the receiver will transition from IDLE STATE 501 to TEST STATE 502 upon receipt of either of the test symbols (i.e.,points 306, 307 in the preferred embodiment). Alternatively, the receiver may transition to XON STATE 505. A transition to XON STATE 505 occurs when the receiver is in IDLE STATE 501 and the local transmitter (i.e., the transmitter within the same transceiver 101) begins transmitting a data frame (i.e., preamble and data). In the preferred embodiment, the transmitter generates a signal on a signal line "TXON") which indicates that the transmitter is active (i.e., is transmitting a data frame).
- TXON signal line
- the transmitter MII 127 generates the TXON signal upon receipt of TXEN.
- the receiver may transition from IDLE STATE 501 to COLLISION STATE 507.
- the receiver preferably transitions from IDLE STATE 501 to COLLISION STATE 507 upon detection of two consecutive preamble symbols (e.g., points 308, 310) and the local transmitter begins transmitting preamble symbols after the second preamble symbol is received.
- only one transceiver may send data at any one time.
- collisions are defined as the impermissible concurrent sending of data or preamble by two transceivers coupled to one another.
- the receiver in accordance with the one embodiment of the present invention may transition back to IDLE STATE 501 or to PREAMBLE STATE 503.
- a transition from TEST STATE 502 to IDLE STATE 501 preferably occurs after receipt of six consecutive idle symbols. Requiring that six consecutive idle symbols are received before transitioning to IDLE STATE 501 ensures that the far end transmitter (i.e., the transmitter sending the symbols) has transitioned to IDLE STATE 201 (see FIG. 2). Alternatively, the number of symbols may be greater or fewer.
- the receiver may either transition to IDLE STATE 501 or COLLISION STATE 507.
- a transition from XON STATE 505 to IDLE STATE 501 occurs when the local transmitter returns to IDLE STATE 201.
- a transition from XON STATE 505 to COLLISION STATE 507 occurs when the receiver receives two consecutive preamble symbols (e.g., points 308, 310).
- the receiver can transition to PREAMBLE STATE 503 from either TEST STATE 502 or IDLE STATE 501. In either case, the transition occurs upon receipt of one preamble symbol. For example, in the preferred embodiment, receipt of a either the point 308, or the point 310 from the CAP 36 constellation shown in FIG. 3 will cause a transition from either TEST STATE 502 or IDLE STATE 501 to PREAMBLE STATE 503.
- the receiver may either transition to DATA STATE 509 or COLLISION STATE 507.
- a transition to DATA STATE 509 occurs upon receipt of an SFD symbol (e.g., in the preferred embodiment of the present invention, either the point 312 or the point 314).
- SFD symbol e.g., in the preferred embodiment of the present invention, either the point 312 or the point 314.
- selection of one of two available SFD symbols will determine the state of the first data bit (i.e., "0" or "1").
- the SFD serves double duty as both a data symbol and as a delimiter for the preamble.
- the SFD may be encoded using one of 16 different symbols. Accordingly, the SFD may be used to convey up to four bits of data.
- a transition from PREAMBLE STATE 503 to COLLISION STATE 507 occurs in response to the local transmitter sending a preamble symbol concurrent with the receipt of a preamble symbol at the receiver, as determined by monitoring the TXON to determine whether the local transmitter is active.
- the receiver can transition to either IDLE STATE 501, COLLISION STATE 507, or JAM STATE 511.
- the receiver transitions from DATA STATE 509 to IDLE STATE 501 preferably upon receiving one idle symbol.
- the receipt of an idle symbols is interpreted in the preferred embodiment as an indication that the far-end transmitter has completed the data frame. In an alternative embodiment, additional idle symbols may be required to ensure that the far-end transmitter has completed the data frame.
- the receiver may transition from DATA STATE 509 to COLLISION STATE 507 upon activation of the local transmitter as determined by assertion of TXON.
- the receiver can transition to JAM STATE 511 in response to receipt of a jam symbol sequence.
- the jam symbol sequence is an alternating pattern of symbols from the same quadrant of the CAP 36 constellation as shown in FIG. 3.
- the jam symbol sequence is a pattern which alternates between the points 314 and 301.
- the jam symbol sequence must be received a number of times in order to distinguish the jam symbol sequence from data which has been misinterpreted as being received as the point 301 (which is not assigned any data value, but which is interpreted as "0100x" in one embodiment of the present invention, where the "x" represents an ambiguity in the received data).
- the receiver can transition to either IDLE STATE 501 or to DATA STATE 509.
- the receiver transitions from COLLISION STATE 507 to IDLE STATE 501 preferably upon receipt of an idle symbol (e.g., points 301 or 302 in the preferred embodiment). In an alternative embodiment, a number of idle symbols may be required to be received before transition to IDLE STATE 501 occurs.
- the receiver transitions from COLLISION STATE 507 to DATA STATE 509 upon the local transmitter returning to IDLE STATE 201 (see FIG. 2), followed by receipt of seven consecutive idle symbols (e.g., points 301 or 302 in the preferred embodiment).
- the receiver can transition to either IDLE STATE 501 or COLLISION STATE 507.
- a transition from JAM STATE 511 to IDLE STATE 501 occurs upon receipt of six consecutive idle symbols (e.g., points 301 or 302 in the preferred embodiment).
- a transition to COLLISION STATE 507 occurs when the local transmitter becomes active during JAM STATE 511 (i.e., in the preferred embodiment, the TXON is asserted).
- the functions and outputs of the receiver are affected by the current state of the receiver.
- the CRS 173 is asserted in each of the following states: (1) PREAMBLE STATE 503, (2) DATA STATE 509, (3) COLLISION STATE 507, and (4) JAM STATE 511.
- a collision signal line (COL) is asserted in COLLISION STATE 507.
- a received data valid line (RXDV) 174 is asserted by the receiver MII 129.
- the LMS/NC circuit 147 and the AGC controller circuit 141 are each active only in TEST STATE 502 and DATA STATE 509. Clock recover (to be described in greater detail below) is enabled in each of the receiver states except XON STATE 505 and COLLISION STATE 507. Still further, the mode in which the detector 155 operates is determined by the receiver state.
- the detector 155 receives fully equalized estimates of both the in-phase and the quadrature components of the received signals from the equalizer circuit 150.
- the detector 155 identifies which symbols the input signal represents (i.e., maps the amplitude of the in-phase and quadrature components to the symbols of the CAP 36 constellation).
- the detector is also responsible for tracking performance parameters (referred to as "metrics").
- the detector 155 identifies which symbols have been received by determining within which of a predetermined number of amplitude ranges the amplitude of each component lies.
- the ranges associated with each symbol are determined by the particular mode the detector 155 is operating in, which is in turn determined by the receiver state.
- the amplitude ranges of the in-phase and quadrature components used by the detector 155 to determine which symbol has been received depend upon the "slicer modes" of the detector 155.
- the ranges associated with each slicer mode in accordance with the preferred embodiment of the present invention are illustrated in FIGS. 6-8.
- FIG. 6 illustrates the IDLE SLICER MODE.
- any combination of the two components having amplitudes which lie within an entire first quadrant 601 i.e., the area that is both to the left of the quadrature axis "Q" and above the in-phase axis "I" will be accepted as a first idle symbol.
- components having amplitudes which lie within an entire third quadrant 603 i.e., the area that is both to the right of the quadrature axis "Q" and below the in-phase axis "I" will be accepted as a second idle symbol.
- the range of amplitudes for the first idle symbol includes all positive values of amplitude for the quadrature component to a maximum amplitude of 3C, where 3C is preferably the maximum amplitude without saturation of the receiver, and all negative values of amplitude for the in-phase component to a maximum amplitude of -3C.
- the ranges used to determine whether test symbols have been received are interactive. That is, the sum of the amplitude of the two components received must be less than +/-2.5C, with the amplitude of both components being of the same sign (e.g., in the first or third quadrant) in order to identify the received signal as a test symbol.
- the ranges used to determine whether the received signal is a preamble symbol are also interactive, with the sum of the in-phase and quadrature components being greater than +/-2.5C and each being less than 3C, and the amplitude of both components being of the same sign. Accordingly, any combination of in phase and quadrature amplitudes is within the range of +/-3C will be identified as one of three types of symbols; idle, test or preamble. While the ranges are relatively wide, the receiver nonetheless anticipates that the signals received were sent at the component amplitudes assigned to each symbol. Thus, the receiver can determine an error with respect to amplitude and phase to self correct the gain of the VGA 137 and the receiver clock phase and frequency for relatively large errors during IDLE STATE 501.
- FIG. 7 illustrates the ranges of amplitude used to identify symbols in PREAMBLE SLICER MODE.
- PREAMBLE SLICER MODE only four symbols can be identified. That is, symbols are identified as either one of two preamble symbols or one of two SFD symbols. Therefore, the particular quadrant 601, 603, 605, 607 of the CAP 36 constellation in which the input signal lies determines the identity of the symbol received. For example, if the in-phase component is positive and the quadrature component is positive, the symbol is assumed to be a preamble symbol represented by the point 308. If the in-phase component is negative and the quadrature component is positive, then the symbol is assumed to be an SFD symbol represented by the point 314. The particular amplitude is of no consequence, as long as the amplitude is within the range +/-3C.
- FIG. 8 illustrates the ranges of amplitude used to identify symbols in DATA SLICER MODE.
- DATA SLICER MODE 32 symbols can be identified. Therefore, each symbol is associated with a range of +/C for both the in-phase and the quadrature components.
- a signal received with a quadrature component having an amplitude within the range 0 to +C and an in-phase component within the range -2C to -3C will be interpreted as being point 801, which in the preferred embodiment of the present invention is the symbol used to represent the binary value "10100" (see Table 2).
- the inner most four points 301,302, 306, 307 have an "x" in the fifth bit position.
- reception of a symbol which has components equal to one of these points 301,302, 306, 307 may be considered to have an ambiguity in the last bit. That is, it is assumed that the symbol that was received was in error by only one amplitude unit in only one component.
- the component having the greatest absolute value is assumed to be in error, and as such is assumed to be between C and 2C for positive amplitudes or between -C and -2C for negative amplitudes. That is, the symbol is bumped to the nearest directly adjacent valid symbol.
- conventional error detection and correction techniques may be used to determine the state of the ambiguous bit.
- the value C is maintained in a "cursor" register within the receiver MII 129.
- the value C in the cursor register may be selected to scale the ranges used to determine which symbols have been received.
- the cursor register holds a 7-bit unsigned value with a nominal value of (2 8 -1)/3.
- the cursor register can be updated in one of two ways. First, the cursor register can be updated by writes from the receiver MII 129. Second, the cursor register can be updated by periodic updates based upon the performance of the receiver as determined by the decoder 157. For example, by determining the relative position of the idle symbols the value in the cursor register can be updated to properly locate the idle symbols. Accordingly, adjusting the value of the cursor register has an effect which is similar to adjusting the gain of the VGA 137.
- the preferred embodiment of the present invention calculates an error value ⁇ x associated with each component of each symbol received.
- the error is the difference between the amplitude of each component of the symbol received and the amplitude expected of the symbol to which the received signal was mapped.
- the error is calculated as follows:
- R x is the amplitude of the x component of the received signal
- C is the cursor value
- S x is the value of the ideal normalized amplitude of the x component of the symbol to which the received symbol has been mapped.
- the error is 0.05 for the in-phase component.
- the error for the in-phase component is added to the error for the quadrature component to yield a total error associated with the received symbol.
- the error may be calculated by determining the absolute distance between the two points using conventional means such as by applying the following formula:
- the detector 155 preferably tracks performance metrics, using two "noise level meters", one associated with each component of the received signal, and two “far-end signal level meters".
- Each noise level meter is a "leaky integrator" structure which accumulates the value of the slicer error ⁇ x , using the following equation:
- NM xj is the value of the meter for the x component of the j th symbol; and ⁇ x is the slicer error for component x as defined above.
- the coefficient k is a constant preferably equal to approximately 1/64.
- the noise meter values NM I and NM Q are summed to provide the total noise meter value for each input symbol.
- a noise threshold register within the detector 155 stores a threshold value that is continuously compared with the noise meter value NM being calculated. This comparison is used by the start-up state machine 163 to provide feedback to assist in locking onto the optimal phase for the receiver clock during initialization, and if the threshold is violated to indicate whether action is required.
- the far-end signal level meter monitors the estimated level of the far-end signal without reference to the cursor value C at the receiver.
- a leaky integrator is associated with each component of the received signal.
- the far-end signal level meter operates in accordance with the following formula:
- SM xj is the far-end signal level of the x component of the j th symbol
- R x is the value of the x component of the j th symbol
- k is a constant.
- the far-end signal level of both the in-phase and the quadrature component are summed to comprise the total far-end signal level SM.
- a signal level threshold register maintains a threshold value for the far end signal level. This threshold level is used when the AGC controller circuit 141 is actively adjusting the gain of the VGA 137 and to determine the appropriate cursor value C.
- the carrier detect circuit 149 directly signals the receiver state machine upon receipt of a preamble symbol, preferably by asserting the CRS 173.
- the input to the squelch/carrier detect circuit 149 is provided with little equalization and filtering. This is possible because the preamble is a single tone. Furthermore, the tone is not near the edge of the pass band of the input data. Still further, the amplitude of the preamble is relatively high. Accordingly, preamble detection is very fast since the delays of the filter and equalizer are substantially less.
- the decoder 157 interprets the relative amplitudes associated with each component output from the detector and outputs a stream of digital bits to the FIFO 159.
- predetermined bit patterns are injected into the system interface by the decoder 157 during non-data modes of operation of the decoder 157.
- the output of the decoder 157 is all digital 0's.
- the output of the decoder 157 is in two's compliment data format.
- the descrambler 161 outputs data at a data rate of 100 megabits per second.
- the descrambler 161 is disabled by the receiver state machine 162.
- the decoder 157 operates in IDLE MODE when the receiver is in IDLE STATE 501, TEST STATE 502, or XON STATE 505.
- the decoder 157 preferably outputs a correct preamble sequence, such as an sequence of alternating "1"s and "0"s as specified by IEEE 802.3 specification which comprises the first digital preamble symbol.
- the sequence preferably always begins with "10101" in two's compliment format, regardless of which point on the CAP 36 constellation received as the first preamble symbol.
- the first digital preamble symbol "10101" output by the decoder 157 defines the start of the octet boundary synchronization. That is, upon receipt of the first digital preamble symbol, the data bits output by the decoder 157 begin to be grouped in 8-bit octets.
- FIG. 9a-9d illustrate the relationship between the output of the detector 155, the decoder 157, and the bit stream at the receiver MII output RXD.
- amplitude values indicating that preamble symbols represented by CAP 36 constellation points 301 and 302 are received by the decoder 157 as the first three symbols 901. Accordingly, the decoder 157 outputs a series of "0"s. In response to the received "0"s, the receiver MII 129 outputs "0"s on the RXD output line 130. Upon receipt of the first preamble symbol 902 represented by the CAP 36 constellation point 308, the decoder 157 outputs a preamble pattern "10101". Likewise, the receiver MII 129 outputs a bit pattern "10101" on the RXD output line 130.
- Each subsequently received symbol 904 represented by the CAP 36 constellation point 308 causes an output pattern of "10101" to be output by the decoder 157.
- Received signals 906 represented by CAP 36 constellation points 310 received by the decoder 157 cause patterns "01010” to be output by the decoder 157. This data pattern is repeated by the receiver MII 129 on the RXD output line 130.
- the output from the decoder 157 and the receiver MII 129 are shown for a pattern of symbols in which the CAP 36 constellation point 310 is the first received preamble symbol.
- the digital preamble symbol output by the decoder 157 starts with the pattern "10101" for the first preamble symbol, "10101" even though the first CAP point received was the point 310 rather than the point 308 as in FIG. 9a.
- the last preamble symbol 903 represented by CAP 36 point 310 is followed by an SFD symbol 905 represented by CAP 36 point 312.
- the data pattern that is output by the decoder 157 in response to the SFD symbol 905 is "01011 ".
- the "11" bit pattern at the end of the digital SFD symbol output from the decoder 157 identifies that digital symbol as the SFD.
- the receiver MII 129 outputs an SFD symbol 907 that is eight bits long and includes the "01011" pattern as the last four of those eight bits. In the instance shown in FIG.
- the SFD symbol 905 received at the decoder 157 is properly aligned with the last five bits of the 8-bit octet output by the receiver MII 129, such that the last four bits of the 8-bit symbol are "01011".
- the SFD indicates whether the first data bit output by the receiver MII 129 is to be a "0" or a "1".
- the first data bit 909 output by the receiver MII 129 is a "1".
- the decoder 157 enters data mode after receipt of the SFD symbol.
- the remainder of the data that is output by the receiver MII 129 tracks (with a one bit lag in the case illustrated in FIG. 9c) the data that is output from the decoder 157 as each symbol received by the decoder 157 and decoded into digital bits of data.
- buffer bits are inserted in the RXD 130 output by the receiver MII 129, as shown in FIG. 9d.
- the five digital bits 911 that correspond with the SFD symbol 913 are not aligned with the last five bits of the last 8-bit digital preamble octet output by the receiver MII 129.
- the output of the receiver MII 129 is padded with the addition of an alternating pattern 912 of "1"s and "0"s which allow the five bits of the SFD output by the decoder 157 to align with the last five bits of the octet output by the receiver MII 129.
- bit-stuffing For example, in FIG. 9d a "010101" pattern is inserted (or bit-stuffed) into the data stream output by the receiver MII 129, after which the pattern "01011" 911 associated with the SFD symbol 913 is output by the receiver MII 129.
- the FIFO 159 is used to buffer the data. Prior to the receiver entering the DATA STATE 509, the FIFO 159 remains idle and empty. That is, the output of the decoder 157 falls straight through the FIFO 159.
- the digital SFD symbol output from the decoder 157 is loaded into the FIFO 159 and remains in the FIFO 159 until the receiver MII 129 detects that the first three bits of a preamble octet have been output on the RXD 130.
- the contents of the FIFO 159 begin to flow into the receiver MII 129 at the rate of the receiver MII output.
- the FIFO 159 is preferably 12 bits deep (i.e., the five bits of the five-bit digital SFD, plus up to seven bits of data).
- the receiver MII 129 processes data at the rate of one 4-bit nibble every 40 ns, and the decoder 157 outputs data at a rate of one 5-bit digital symbol every 50 ns. Therefore, the rate at which data is output by the decoder 157 and the rate at which data is processed by the receiver MII 129 is approximately equal.
- the clock used to process data in the receiver MII 129 is not derived from the same source as the clock used to output digital symbols from the decoder 157. Accordingly, the present invention must account for the frequency tolerance and jitter of the receiver MII clock with respect to the decoder clock.
- the FIFO 159 absorbs any difference or jitter between the receiver MII clock and the decoder clock.
- the SFD symbol 913 is the CAP 36 point 314. Therefore, the first bit of data output by the receiver MII 129 following the 8-bit SFD octet is a "0". Had the SFD symbol been the CAP 36 point 312 (as in FIG. 9c) the first data bit would have been a "1" as in FIG. 9c.
- the alignment of the 5-bit codes output by the decoder 157 typically do not align with the 8-bit octets output by the receiver MII 129 during DATA STATE 509. These examples do not address the fact that the descrambler may alter the pattern output by the decoder 157.
- the detector is capable of detecting and correcting either a phase reversal, such as would occur if the signal and return lines are reversed when connected, and for reversal of the in-phase and quadrature components of the CAP 36 constellation.
- the descrambler 161 is a conventional descrambler used in telephony, such as defined in standards such as International Brass and Telephone Consultative Committee (CCITT) V.34, to ensure that a sufficient number of bit inversions occur in the data.
- scrambler 161 is disabled during IDLE STATE 501, TEST STATE 502, PREAMBLE STATE 503, AND XON STATE 505.
- the descrambler 161 is effectively bypassed during these receiver states.
- the descrambler 161 is synchronized to begin descrambling the data stream output from the FIFO 159 at the first bit of data (e.g., the bit represented by SFD) and is disabled after the last bit of the last data symbol is descrambled.
- the scrambler 107 in the transmit section of the transceiver 101, and the descrambler 161 in the receiver section of the same transceiver 101 are distinct and thus can function concurrently to facilitate loopback modes of operation.
- FIG. 10 is a block diagram of the relationship between the clocks in the transceiver and the components which utilize those clocks. It should be understood that the receive clock of a first transceiver receiving data from a second transceiver is independent of the transmit clock of the second transceiver. Therefore, as discussed below, the receive clock must maintain synchronization with the receive data by a clock recovery process.
- a clock (SCLK) 175 received in the transceiver 101 by the clock generator 169 from a crystal in the MAC 103 preferably runs at approximately 20 MHz. The clock generator uses the SCLK 175 to generate two internal clocks, MCLK 1001 and TCLK 1003.
- MCLK 1001 is used to synchronize the interface to the MAC 103, and TCLK 1003 is used to drive the digital portion (including the DAC 123) of the transmitter.
- Another clock, RCLK 1005, is used to clock the receiver.
- a phase-lock-loop (PLL) circuit 1013 that is preferably used to generate the MCLK 1001 at a frequency of 80 MHz and to generate the TCLK 1003 at a frequency of 25 MHz in conventional fashion.
- the RCLK 1005 is generated by a clock recovery circuit 1011 within the clock generator 161.
- FIG. 11 is a block diagram of the clock recovery circuit 1011 and the devices within the receiver that are coupled to the clock recovery circuit 1011.
- the clock recovery circuit 1011 comprises a sum/difference modulator 1101, a charge pump 1103, a low pass filter 1105, a frequency controllable oscillator, such as a voltage controlled oscillator (VCO) 1107, a phase detector 1109 and a mode switch 1111.
- VCO voltage controlled oscillator
- the clock recovery circuit operates in two modes; track mode and capture mode.
- the phase detector 1109 is coupled to the low pass filter 1105 and receives an error signal representing the phase difference between the phase of the SCLK 175 and the phase of the signal output by the VCO 1107 to phase lock the output of the VCO 1107 to the reference SCLK 175, in conventional fashion. Accordingly, when the system first begins to operate, or if the error that is detected at the detector 155 exceeds a tolerance level, the VCO 1107 can be brought back to a known condition. Under normal conditions, the VCO 1107 tracks an error signal PHERR 1113 which is derived from the error signal ⁇ x generated by the detector 155, as detailed above.
- the PHERR signal is derived in accordance with the following formula:
- the error signal PHERR is preferably a six bit digital value that quantifies the magnitude and direction of any rotation (i.e., phase difference) of the CAP constellation points received, with respect to the CAP constellation derived with respect to the RCLK 1005.
- the phase error is compared with a zero reference, and the charge pump 1103 either sources or sinks current depending upon whether the phase error is positive or negative.
- the loop gain and filter characteristics are generally not the same for the capture and tracking modes. During tracking, a relatively high gain is preferably used during PREAMBLE STATE 503 AND IDLE STATE 501, and a relatively low gain is preferably used during TEST STATE 502, DATA STATE 509, and JAM STATE 511.
- the transceiver has a startup state machine 163.
- the startup state machine 163 controls the operation of the transceiver after power is first applied.
- the startup state machine first ensures that an IDLE pattern is being received at the receiver to ensure that another station is connected to the receive data lines.
- Preferably training of either the local receiver or the remote receiver must be done with only the transmitter coupled to that receiver transmitting. Therefore, once an IDLE pattern is received, the startup state machine 163 determines whether receiver is to be trained first. This is determined by an arbitrary selection of one of two states (on and off) with respect to the local transmitter.
- the local transmitter continues to transmit an IDLE pattern, anticipating that the remote transmitter will be turned off and the remote receiver will begin a training routine. Conversely, if a second state is arbitrarily selected, then the local transmitter ceases transmitting. Assuming that the first state is selected, the assumption that the remote transmitter is off is verified by detecting that the remote transmitter has ceased transmitting. If the remote transmitter has also arbitrarily selected the "on" state, then the local receiver senses that the remote transmitter continues to send an IDLE pattern. The remote receiver will also sense that the local transmitter is still on. Each startup state machine 163 will then make a new arbitrary selection between "on” and “off” states. This process continues until only one of the transmitters is operating.
- the local transceiver begins performing a training procedure.
- the ACG controller 141 is activated to converge on the appropriate gain for the IDLE pattern received.
- the control voltage from the AGC controller 141 to the VGA 137 is preferably used to make an estimate of the length of the receiver line.
- the local startup state machine 163 can predict the proper coefficients to supply to the FIR filters by either applying theory or using experimental data. In accordance with the present invention, such estimates are made to an accuracy of 30 meters. That is, the voltage on the VGA control line is divided by at least one threshold into at least two voltage ranges.
- Each of the ranges include the control voltages which will likely be present on the VGA control lines when the transmission line between the receiver and the transmitter is within a 30 meter range.
- a plurality of thresholds may be set.
- the range of transmission line lengths indicated by voltages that are less than the first threshold are assumed to be in the range of 0-30 meters (assuming that the gain of the VGA 137 increases with greater control voltage).
- the second threshold is set such that control voltages between the first and second threshold are assumed to be in the range of 30-60 meters.
- Each of the other thresholds which determine a range of control voltages is set such that the assumption that the transmission line length is in a range of 30x to 30(x+1), where x is an integer value.
- two thresholds are set which define three transmission line ranges; 0-30 meters, 30-60 meters, and greater than 60 meters.
- the clock recovery circuit 140 causes the receive clock to converge, as described above.
- the remote transmitter will transition to TEST STATE 203 under control of the remote startup state machine 163.
- the local receiver adapts the equalizer circuit 150, in known fashion. Once the equalizer circuit 150 has been properly adapted, the local transmitter begins transmitting an idle pattern. The local NEXT canceler is then adapted. Receipt of the idle pattern at the remote transceiver causes the remote startup state machine 163 to begin the training procedure to allow the local transmitter to train the remote receiver after a period which is sufficiently long to allow the NEXT canceler to be adapted.
- the local startup state machine 163 sends an idle pattern for a predetermined amount of time which is sufficiently long to ensure that a properly operating remote transceiver will have time to converge the gain of the VGA 137 and clock recovery circuit 140.
- the local transmitter sends a test pattern (preferably the test pattern described above) for a sufficiently long period to allow the remote equalizer circuit 150 to converge. If the local receiver has not already been trained, then the startup state machine 163 awaits an indication that the receiver is receiving an idle pattern and turns the local transmitter off to allow the local receiver to be trained.
- each transmitter By training each receiver without any local transmission from the local transmitter, the AGC control circuit 141, clock recovery circuit, and the equalizers are provided the best possible conditions in which to be adapted. Once the training periods for both the local and remote transceivers are completed, each transmitter enters IDLE STATE 201.
- FIG. 12 is an illustration of a network in accordance with one embodiment of the present invention which has a plurality of stations 1201 and uses repeaters 1203 to allow each station 1201 to communicate with each other station 1201.
- a plurality of transceivers 101 essentially identical to the transceivers described above are provided within the repeater 1203.
- Each of the plurality of transceivers 101 is associated with a unique corresponding port of the repeater 1203.
- the repeater interface 168 interfaces a transceiver 101 within a repeater with each other transceiver 101 within that repeater via a repeater bus 1206.
- a transceiver 101a sends data that is received by the repeater 1203 in the first transceiver 101a from a first station 1201a to a second transceiver 101b which repeats the data to a second station 1201b.
- Data is transmitted over the repeater bus on six data lines.
- a digital representation of one CAP 36 point is transmitted in parallel over the data lines.
- the data lines comprise three bi-directional lines dedicated to transmitting a digital representation of the in-phase amplitude of a symbol as a signed binary number, and three bi-directional lines dedicated to transmitting a digital representation of the quadrature amplitude of the symbol as a signed binary number. That is, since the amplitude of the in-phase component and the quadrature component may each have an amplitude that is +/-1, +/-3, or +/-5 (with respect to a standard unit measure of received amplitude), three bits will determine which of these amplitudes are associated with the symbol. Alternatively, eight lines (four lines per component) may be used to transmit the in-phase and quadrature amplitudes in two's compliment.
- the repeater bus clock is a 20 MHz clock derived by a clock generator within the repeater 1203.
- the repeater bus clock may be derived from a transmit clock received by the repeater from an MII.
- the clock is preferably common to all transceivers 101 within the repeater 1202.
- control lines there are preferably six control lines within the repeater bus 1206; (1) four transceiver address lines, which indicate which (if any) transceiver is active on the repeater bus 1206; (2) one carrier sense, which indicates when at least one transceivers 101 has received a data frame (i.e., preamble) from a station 1201 coupled to the repeater 1203; and (3) one collision detect, which indicates that more than one transceiver 101 has received a data frame.
- each of the control lines is an open-collector, active low type. That is, any one or more of the transceivers 101 may assert a control line by pulling the control line low.
- data and control lines used may vary.
- data may be transmitted serially, or in other formats which require a different number of data lines.
- the repeater bus To understand the operation of the repeater bus, the following example of the repeater bus operation is provided. Assume that the transceiver 101a receives a preamble from the station 1201a. The repeater interface 168 within the transceiver 101a asserts the carrier sense control line to indicate that a preamble has been received within the repeater 1203 by one of the transceivers 101. The repeater interface 168 also asserts a unique repeater bus address which is associated with that transceiver 101a on the four repeater bus address lines. It should be understood that the number of transceivers 101 is limited by the number of unique addresses available and the ability of each transceiver to drive the repeater bus lines.
- the repeater interface 168 then checks the state of the repeater bus address lines. If the repeater bus address lines do not reflect the address of the transceiver, then it is assumed that another transceiver 101 also received a data frame and has asserted repeater bus address lines and the carrier sense line. The repeater interface 168 asserts the collision line in response to the perceived contention. Upon sensing that the collision line has been asserted, each transceiver 101 within the repeater 1203, including the transceiver 101 a which asserts the collision line, transmits JAM symbols to the station 1201 associated with that transceiver 101. A number of alternatives for dealing with such a contention at each station are possible.
- each repeater interface 168 begins transmitting each symbol received (i.e., digital data representing the amplitude of each symbol output from the detector 155 of the transceiver 101a) over the repeater bus interface data lines.
- each repeater interface 168 within each transceiver 101b, 101c, 101d, 101f couples the data into the transmit FIR filters 117, 119 through the multiplexers 113, 115 for transmission to the associated station 1201.
- one (or more) of the ports of a repeater 1203 may be coupled to another repeater 1203.
- FIG. 1b illustrates one method in accordance with the present invention for reducing the detrimental effects of cross talk between transmit lines and receive lines coupled to one repeater 1203.
- the embodiment of the present invention illustrated in FIG. 1b shows a DFE 190 coupled the detector 155 and to the summing circuits 151, 153.
- the DFE 190 receives the information regarding the amplitude of each of the two components (in-phase and quadrature) from the detector 155.
- the DFE 190 then delays and weights these signals so as to cancel any cross talk which may be been imposed on the signal transmitted by the repeater 1203 by the signal being received within the transceiver 1201. Since the signal being transmitted by any transceiver 1201 within the repeater 1203 is a delayed representation of the same signal that is being received in accordance with the present invention, any cross talk generated by a transmit line bundled together with one or more receive lines is generated by the same signal being received by the repeater 1203, however delayed by the delays through each transceiver. Thus, by delaying and weighting the received signal and summing the weighted delayed representation of the received signal back into the summing circuits 151, 153, the cross talk is cancelled.
- signaling of the line condition is implemented on a control channel over one twisted pair of conductors, while data is transmitted over a corresponding data channel on a second twisted pair of conductors.
- Both the data channel and the corresponding control channel carry signals in the same direction under normal conditions.
- the twisted pair of conductors that are used to transmit control symbols on the control channel from the first station to the second station is also used to transmit data symbols on the data channel from the second station to the first station.
- the twisted pair that is used to transmit control symbols on the control channel from the second station to the first station is used to transmit data symbols on the data channel from the first station to the second station. Therefore, only one station can transmit data at a time.
- FIG. 13 illustrates the direction of signals on both the control channel and the data channel when data is transmitted between a first and a second station in such an alternative embodiment of the present invention in which out-of-band signalling is provided.
- FIG. 13 illustrates the direction of signals on both the control channel and the data channel when data is transmitted between a first and a second station in such an alternative embodiment of the present invention in which out-of-band signalling is provided.
- neither channel 1301 carries a signal until a transmission of information is to occur.
- each station 1303, 1305 can determine that the corresponding data channel is idle.
- an IDLE pattern can be defined and transmitted on the control channel 1301 a to signify an IDLE state.
- FIG. 13a when data is to be transmitted over a data channel from a first station 1303 to a second station 1305, a first twisted pair of conductors is used as the control channel.
- the control channel carries a clock pattern when data is being transmitted on the data channel. The clock pattern indicates that the transmitter in the transmitting station 1303 is in DATA state, and that the corresponding data channel is in use.
- the clock pattern is preferably identical to the IDLE pattern disclosed above. That is, the clock pattern preferably alternates between a first and a second point on a CAP 16 constellation, each such point preferably being one of the four inner most points on the constellation. Still further, the first and second constellation points of the clock pattern are preferably in opposite quadrants from each other.
- the second point is in the third quadrant of the constellation (both in-phase and quadrature components have negative amplitudes), and alternatively, if the first point is in the second quadrant of the constellation (i.e., the in-phase component has a positive amplitude and the quadrature component has a negative amplitude), then the second point is in the fourth quadrant of the constellation (i.e., the in-phase component has a negative amplitude, and the quadrature component has a positive amplitude).
- the receiver By using a pattern of alternating inner points in opposite quadrants of the CAP constellation on the control channel, the receiver is provided with a signal indicative of the fact that the corresponding data channel is in use and that has relatively low energy, relatively low frequency, and can be relatively easily detected.
- the clock pattern allows the receiver within the station 1305 receiving the data to be synchronized in known fashion with the transmitter in the station 1303 sending data on another twisted pair 1301b. It should be understood that in accordance with one embodiment of the present invention, the clock pattern may be any pattern of data that allows the receiver to synchronize to the transmitter.
- the control channel transmitter may transmit a pattern to which the receiving station may not be able to synchronize, but which does indicate the presence of data on the data channel.
- the second twisted pair 1301b is used as the data channel.
- Data is preferably encoded using CAP 16 encoding.
- CAP 16 encoding 16 different symbols are possible by combining an in-phase and quadrature component, each of which may have an amplitude that is within one of four ranges.
- each CAP symbol preferably represents four bits of digital data. Due to the use of CAP encoding, a relatively high data rate can be achieved using only one data channel over a twisted pair of conductors in accordance with the EIA/TIA 568 category 3 standard.
- CAP 16 encoding is preferable to CAP 32 encoding, since the rate at which symbols can be transmitted is greater due to the fact that no overhead (i.e., control) symbols are transmitted over the data channel. Because CAP 16 has only four amplitude ranges, either the signal to noise ratio can be improved, or the maximum required amplitude within the constellation can be reduced, thus reducing the emission of electromagnetic fields, or some combination of these two.
- the second station 1305 can begin transmitting data on the data channel using one twisted pair 1301a, and the clock pattern on the control channel using the other twisted pair 1301b, as shown in FIG. 13b.
- FIG. 13c is an illustration of a station 1305 training another station.
- the transmitter within each station 1303, 1305 can train the receiver within the other station 1305, 1303 by transmitting a test pattern over the control channel.
- a test pattern may be transmitted by both stations 1303, 1305 at the same time.
- the test pattern is the same as the test pattern used with the embodiment described above with respect to in-band signalling. That is, the test pattern in one embodiment of the present invention includes the inner most four points in the CAP 16 constellation, preferably transmitted in a pseudo-random sequence.
- each transmitter detects the presence of a clock pattern on the data channel. That is, the first station 1303 transmits data over the data channel 1301a and a clock pattern over control channel 1305, while the second station transmits data over the data channel 1301b and a clock pattern over the control channel 1301a.
- the twisted pair used for transmitting the data channel in one direction is also used to transmit the control channel in the other direction.
- a cancellation circuit such as an FIR filter and more particularly, such as the receiver filters 143, 145 described above in connection with FIG.
- each station Upon detecting a contention, each station ceases transmitting data, and begins transmitting a JAM pattern over the corresponding control channel.
- the JAM pattern is preferably a pattern of CAP 16 signals which alternate between a first and second CAP point within the same quadrant of the CAP constellation.
- FIG. 14 is a block diagram of a station 1303 in accordance with one embodiment of the present invention in which control symbols are transmitted out of band.
- the data transmit channel is essentially as depicted in FIG. 1a.
- a data channel transmitter 128 is coupled to a transmit MII 127 and causes data to be transmitted essentially under control of the transmit MII 127.
- the output of the data channel transmitter 128 is transformer coupled to the twisted pair of conductors 1301b on which the data channel is transmitted.
- Also transformer coupled to the twisted pair of conductors 1301b on which the data channel is transmitted is a control channel receiver 1401.
- a conventional phase lock loop circuit 1403 receives the signal from the twisted pair 1301b, and when a clock pattern is received from another station 1305, phase locks to the clock pattern.
- the phase lock loop output synchronizes a detector/decoder circuit which detects CAP symbols in a conventional manner to the clock pattern received on the control channel.
- the control channel receiver 1401 is coupled to and controlled by the receiver MII 129.
- the symbols received by the control channel receiver 1401 are provided to the receiver MII 129. Accordingly, the receiver MII 129 determines the state of the received data channel.
- the control channel receiver 1401 may be coupled to discrete processor which communicates with the receiver MII 129.
- a control channel transmitter 1407 is transformer coupled to the twisted pair of conductors 1301a.
- the control channel transmitter 1407 comprises low pass filter, and a pattern generator 1411.
- the pattern generator 1411 is coupled to, and receives commands from the transmit MII 127 which indicate which particular pattern is to be transmitted.
- the pattern generator 1411 preferably outputs one of the following patterns: (1) the clock pattern, (2) the test pattern, or (3) the jam pattern in response to the commands from the transmit MII 127.
- a discrete processor may be coupled to the pattern generator to command the patterns to be transmitted.
- a data channel receiver 170 Also transformer coupled to the twisted pair of conductors 1301a is a data channel receiver 170, which is essentially identical to the receiver depicted in FIG. 1a.
- the data channel receiver 170 is coupled to a receiver MII 129.
- a near end cross talk canceler is provided to cancel the cross talk generated between the data and clock patterns.
- Such a near end cross talk canceler receives the data patterns being transmitted from the transmitter over a connection between the transmitter circuit responsible for generating the clock pattern and the near end crosstalk canceler.
- the near end cross talk canceler comprises an FIR filter which cancels the data patterns from the outgoing clock pattern in known fashion.
- the present invention preferably alternates between the CAP constellation points 301,302 shown in FIG. 3 at the symbol rate, the frequency and amplitude of the idle pattern transmitted by a station during IDLE STATE 201 is relatively low. Thus, the near end cross talk that results from the transmitted signal is reduced. Furthermore, since during IDLE STATE 201, each component of the transmitted signal is at only one of two relative amplitudes, the near end cross talk filters may be simplified.
- preamble symbols are detected by the detector 155 directly from the amplitude of the in phase and quadrature components of the received signal without having to decode or descramble the preamble symbol, preamble symbols are detected rapidly, facilitating rapid collision detection, and aiding in properly synchronizing the descrambler and decoder.
- the transmission of a pattern during IDLE STATE 201 in the transmitter allows a receiver coupled to the transmitter to maintain synchronization with the transmitter.
- a pattern comprised of alternating between the two inner points of the CAP 36 constellation during IDLE STATE 201 reduces cross talk (i.e., electromagnetic emissions) since the amplitude is as low as allowed within the confines of the CAP 36 encoding scheme, and the frequency is reduced by alternating between two points in opposing quadrants of the CAP 36 constellation.
- cross talk i.e., electromagnetic emissions
- use of a TEST pattern which can be requested of a transmitter by a receiver when the transmitter is in IDLE STATE 201 allows filters in the receiver to be trained prior to receipt of data.
- the present invention Since the present invention operates at relatively low frequency while transmitting at relatively high data rates, the present invention is able to transmit very large amounts of data over twisted pair conductors while operating within the limits for electromagnetic emissions set by Federal Communications Commission (FCC) as defined in FCC part 15 class B.
- FCC Federal Communications Commission
- the present invention is capable of phase locking the RCLK to a reference frequency in order to start (or restart) the RCLK at a known frequency near the frequency of the TCLK.
- the AGC controller circuit of the present invention allows the received signal to be amplified in proportion with the strength of the received signal without disproportionatly increasing the gain of the signal when the receiver is receiving an idle pattern in IDLE STATE 501.
- the present invention defines an idle pattern and TEST pattern, the near end cross talk canceler circuit 147 can be made relatively simply to cancel those particular tones when present.
- the present invention defines a jam pattern which allows the transmitter to indicate that a preamble has been received by the local receiver when the transmitter is in either PREAMBLE STATE 205 or DATA STATE 207. Defining a jam pattern allows the transmitter to cease transmitting and indicate to the receiver to which the transmitter is transmitting that the jam has occurred. This is particularly useful when the transmission is occurring from a repeater device.
- an out of band control channel can be provided on one twisted pair of conductors, concurrent with transmission of data over a data channel provided on a second twisted pair of conductors.
- the CAP symbol rate between a first and a second station can be increased. That is, if control signals are provided over an out of band control channel, the data channel can transmit more symbols per second.
Abstract
Description
TABLE 1 ______________________________________ I/Q -5 -3 -1 +1 +3 +5 ______________________________________ +5 10111 10011 10101 00101 00011 00111 +3 10110 10010 10001 00001 00010 00110 +1 10100 10000 1000x 0000x 00000 00100 -1 11100 11000 1100x 0100x 01000 01100 -3 11110 11010 11011 01001 01010 01110 -5 11111 11011 11101 01101 01011 01111 ______________________________________
b.sub.N,F =S.sub.HC B.sub.r)-1).sup.N
b.sub.r,k =B.sub.r,k-1 +μ.sub.HC ·E.sub.r,k ·(-1).sup.k
R.sub.i,k+1 =R.sub.i,e +μ.sub.eq ε.sub.k E.sub.k-1
TABLE 2 ______________________________________ .sup.- 3C- .sup.- 2C- .sup.+ 2C- I/Q .sup.- 2C .sup.- C .sup.- C-0 0-.sup.+ C .sup.+ C-.sup.+ 2C .sup.+ 3C ______________________________________ .sup.+ 2C-.sup.+ 3C 10111 10011 10101 00101 00011 00111 .sup.+ C-.sup.+ 2C 10110 10010 10001 00001 00010 00110 0-.sup.+ C 10100 10000 1000x 0000x 00000 00100 .sup.- C-0 11100 11000 1100x 0100x 01000 01100 .sup.- 2C-.sup.- C 11110 11010 11001 01001 01010 01110 .sup.- 3C-.sup.- 2C 11111 11011 11101 01101 01011 01111 ______________________________________
ξ.sub.x =R.sub.x -(S.sub.x ·C)/2
ξ=[(R.sub.1 -S.sub.1 ·C).sup.2 +(R.sub.Q -S.sub.Q ·C).sup.2 ].sup.1/2
NM.sub.x,j =(1-k)NM.sub.xj-1 +k|ξ.sub.x |
SM.sub.xj =(1-j)SM.sub.xj-1 +k|R.sub.xj |
PHERR=(R.sub.I ·ε.sub.Q)-(R.sub.Q ·ξ.sub.1)
PHERR=(R.sub.1 ·S.sub.Q)-(R.sub.Q ·S.sub.I)
Claims (22)
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US08/336,821 US5608755A (en) | 1994-10-14 | 1994-11-08 | Method and apparatus for implementing carrierless amplitude/phase encoding in a network |
Applications Claiming Priority (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US08/324,171 US5812594A (en) | 1994-10-14 | 1994-10-14 | Method and apparatus for implementing carrierless amplitude/phase encoding in a network |
US08/336,821 US5608755A (en) | 1994-10-14 | 1994-11-08 | Method and apparatus for implementing carrierless amplitude/phase encoding in a network |
Related Parent Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US80324171 Continuation-In-Part | 1994-10-14 |
Publications (1)
Publication Number | Publication Date |
---|---|
US5608755A true US5608755A (en) | 1997-03-04 |
Family
ID=46250108
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US08/336,821 Expired - Lifetime US5608755A (en) | 1994-10-14 | 1994-11-08 | Method and apparatus for implementing carrierless amplitude/phase encoding in a network |
Country Status (1)
Country | Link |
---|---|
US (1) | US5608755A (en) |
Cited By (44)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6052380A (en) * | 1996-11-08 | 2000-04-18 | Advanced Micro Devices, Inc. | Network adapter utilizing an ethernet protocol and utilizing a digital subscriber line physical layer driver for improved performance |
WO2000027075A1 (en) * | 1998-10-29 | 2000-05-11 | Advanced Micro Devices, Inc. | Physical layer transceiver architecture for a home network station connected to a telephone medium |
EP1049251A2 (en) * | 1999-03-31 | 2000-11-02 | Harada Industry Co., Ltd. | Control device |
WO2002021782A2 (en) * | 2000-09-05 | 2002-03-14 | Rambus Inc. | Calibration of a multi-level current mode driver |
US20020075968A1 (en) * | 1999-10-19 | 2002-06-20 | Jared Zerbe | Method and apparatus for generating multi-level reference voltage in systems using equalization or crosstalk cancellation |
US20020091948A1 (en) * | 1999-10-19 | 2002-07-11 | Carl Werner | Apparatus and method for improving resolution of a current mode driver |
US20020094055A1 (en) * | 2001-01-16 | 2002-07-18 | International Business Machines Corporation | Unified digital architecture |
WO2002063813A2 (en) * | 2001-02-06 | 2002-08-15 | The Board Of Trustees Of The Leland Stanford Junior University | Crosstalk identification in xdsl systems |
US20020153936A1 (en) * | 1999-10-19 | 2002-10-24 | Zerbe Jared L. | Method and apparatus for receiving high speed signals with low latency |
US20020191475A1 (en) * | 2000-11-22 | 2002-12-19 | Dongyun Lee | Communications architecture for memory-based devices |
WO2003044979A1 (en) * | 2001-11-21 | 2003-05-30 | Telefonaktiebolaget L M Ericsson (Publ) | Dynamic allocation of frequency spectrum |
US6772351B1 (en) | 1999-10-19 | 2004-08-03 | Rambus, Inc. | Method and apparatus for calibrating a multi-level current mode driver |
US20040172652A1 (en) * | 2001-02-09 | 2004-09-02 | Fisk Julian Basil | Distribution and networking of television, video and other signals, installation of such distribution systems, and control of television sets |
US20050135528A1 (en) * | 2003-12-18 | 2005-06-23 | Oki Electric Industry Co., Ltd. | Device for preventing erroneous synchronization in wireless communication apparatus |
US20060056352A1 (en) * | 2002-11-15 | 2006-03-16 | Widefi, Inc. | Wireless local area network repeater with detection |
US20060063484A1 (en) * | 2002-10-24 | 2006-03-23 | Proctor James A Jr | Wireless local area network repeater with in-band control channel |
US20060063485A1 (en) * | 2002-10-15 | 2006-03-23 | Gainey Kenneth M | Wireless local area network repeater with automatic gain control for extending network coverage |
US20060095216A1 (en) * | 2004-11-04 | 2006-05-04 | Mindspeed Technologies, Inc. | Optic module calibration using an enhanced golden module |
US20060098592A1 (en) * | 2002-12-16 | 2006-05-11 | Widefi, Inc. | Wireless network repeater |
US20060193271A1 (en) * | 2005-01-28 | 2006-08-31 | Widefi, Inc. | Physical layer repeater configuration for increasing MIMO performance |
US20070025486A1 (en) * | 2002-10-01 | 2007-02-01 | Widefi, Inc. | Control message management in physical layer repeater |
US20070032192A1 (en) * | 2004-06-03 | 2007-02-08 | Widefi, Inc. | Frequency translating repeater with low cost high performance local oscillator architecture |
US7269212B1 (en) | 2000-09-05 | 2007-09-11 | Rambus Inc. | Low-latency equalization in multi-level, multi-line communication systems |
US20080049822A1 (en) * | 2002-07-12 | 2008-02-28 | Rambus Inc. | Selectable-Tap Equalizer |
US20090238295A1 (en) * | 2001-08-31 | 2009-09-24 | Adaptive Networks, Inc. | Communicating data using wideband communications |
US20090290526A1 (en) * | 2006-09-21 | 2009-11-26 | Qualcomm Incorporated | Method and apparatus for mitigating oscillation between repeaters |
US20100002620A1 (en) * | 2006-09-01 | 2010-01-07 | Qualcomm Incorporated | Repeater having dual receiver or transmitter antenna configuration with adaptation for increased isolation |
US20100111117A1 (en) * | 2007-04-23 | 2010-05-06 | Pasi Kolinummi | Transferring data between asynchronous clock domains |
US7797592B1 (en) * | 2005-11-23 | 2010-09-14 | Marvell International Ltd. | Automatic communication channel fault mitigation |
US8023885B2 (en) | 2004-05-13 | 2011-09-20 | Qualcomm Incorporated | Non-frequency translating repeater with downlink detection for uplink and downlink synchronization |
US8027642B2 (en) | 2004-04-06 | 2011-09-27 | Qualcomm Incorporated | Transmission canceller for wireless local area network |
US8078100B2 (en) | 2002-10-15 | 2011-12-13 | Qualcomm Incorporated | Physical layer repeater with discrete time filter for all-digital detection and delay generation |
US8089913B2 (en) | 2002-10-24 | 2012-01-03 | Qualcomm Incorporated | Physical layer repeater with selective use of higher layer functions based on network operating conditions |
US8122134B2 (en) | 2002-10-11 | 2012-02-21 | Qualcomm Incorporated | Reducing loop effects in a wireless local area network repeater |
US8144800B2 (en) * | 2004-09-18 | 2012-03-27 | Broadcom Corporatino | Downstream transmitter and cable modem receiver for 1024 QAM |
US8498234B2 (en) | 2002-06-21 | 2013-07-30 | Qualcomm Incorporated | Wireless local area network repeater |
US8774079B2 (en) | 2006-10-26 | 2014-07-08 | Qualcomm Incorporated | Repeater techniques for multiple input multiple output utilizing beam formers |
US8861667B1 (en) | 2002-07-12 | 2014-10-14 | Rambus Inc. | Clock data recovery circuit with equalizer clock calibration |
US8930795B1 (en) | 2010-10-24 | 2015-01-06 | Valens Semiconductor Ltd. | Methods for slicing dynamically modulated symbols |
US20150254154A1 (en) * | 2014-03-10 | 2015-09-10 | Qualcomm Incorporated | Systems and methods for detecting errors and recording actions on a bus |
US9257151B2 (en) | 2001-02-28 | 2016-02-09 | Rambus Inc. | Printed-circuit board supporting memory systems with multiple data-bus configurations |
US9730192B1 (en) * | 2001-09-25 | 2017-08-08 | Netgear, Inc. | System and method for stacking receiver channels for increased system through-put in an RF data transmission system |
CN107026807A (en) * | 2016-01-29 | 2017-08-08 | 三星显示有限公司 | The method and system of the performance of serial communication channel is estimated using process circuit |
CN115421928A (en) * | 2022-11-04 | 2022-12-02 | 摩尔线程智能科技(北京)有限责任公司 | Device and method for reducing electromagnetic interference generated by chip and electronic equipment |
Citations (17)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US3479462A (en) * | 1965-11-10 | 1969-11-18 | Nippon Telegraph & Telephone | Equational timing system in time division multiplex communication |
US3517137A (en) * | 1966-03-29 | 1970-06-23 | Itt | Combination voice and data telephone sub-set |
US3651474A (en) * | 1970-03-31 | 1972-03-21 | Ibm | A synchronization system which uses the carrier and bit timing of an adjacent terminal |
US3828130A (en) * | 1972-04-14 | 1974-08-06 | Fuji Electric Co Ltd | Data transmitting system |
US4172963A (en) * | 1961-11-20 | 1979-10-30 | Acf Industries, Incorporated | Checker and automatic synchronizer for coding equipment |
US4231114A (en) * | 1978-02-27 | 1980-10-28 | Motorola, Inc. | Synchronizing means for a two-way communication system |
US4455663A (en) * | 1981-11-19 | 1984-06-19 | Novation, Inc. | Full duplex modems and synchronizing methods and apparatus therefor |
US4606022A (en) * | 1983-06-13 | 1986-08-12 | Nissan Motor Company, Limited | Data transmission/reception network system |
US4635249A (en) * | 1985-05-03 | 1987-01-06 | At&T Information Systems Inc. | Glitchless clock signal control circuit for a duplicated system |
US4651330A (en) * | 1983-10-14 | 1987-03-17 | British Telecommunications Public Limited Company | Multipoint data communications |
US4691294A (en) * | 1984-09-21 | 1987-09-01 | International Computers Limited | Clock/data synchronization interface apparatus and method |
US4794596A (en) * | 1985-07-01 | 1988-12-27 | Gloyne Francis R | Data network synchronisation |
US4924492A (en) * | 1988-03-22 | 1990-05-08 | American Telephone And Telegraph Company | Method and apparatus for wideband transmission of digital signals between, for example, a telephone central office and customer premises |
US5214637A (en) * | 1991-04-15 | 1993-05-25 | Codex Corporation | High speed two wire modem |
US5331670A (en) * | 1992-01-31 | 1994-07-19 | At&T Bell Laboratories | Synchronization scheme for a digital communications system |
US5444712A (en) * | 1993-08-30 | 1995-08-22 | At&T Corp. | Communication mode identification technique |
US5452330A (en) * | 1992-07-06 | 1995-09-19 | Digital Equipment Corporation | Bus-oriented switching system for asynchronous transfer mode |
-
1994
- 1994-11-08 US US08/336,821 patent/US5608755A/en not_active Expired - Lifetime
Patent Citations (18)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US4172963A (en) * | 1961-11-20 | 1979-10-30 | Acf Industries, Incorporated | Checker and automatic synchronizer for coding equipment |
US3479462A (en) * | 1965-11-10 | 1969-11-18 | Nippon Telegraph & Telephone | Equational timing system in time division multiplex communication |
US3517137A (en) * | 1966-03-29 | 1970-06-23 | Itt | Combination voice and data telephone sub-set |
US3651474A (en) * | 1970-03-31 | 1972-03-21 | Ibm | A synchronization system which uses the carrier and bit timing of an adjacent terminal |
US3828130A (en) * | 1972-04-14 | 1974-08-06 | Fuji Electric Co Ltd | Data transmitting system |
US4231114A (en) * | 1978-02-27 | 1980-10-28 | Motorola, Inc. | Synchronizing means for a two-way communication system |
US4455663A (en) * | 1981-11-19 | 1984-06-19 | Novation, Inc. | Full duplex modems and synchronizing methods and apparatus therefor |
US4606022A (en) * | 1983-06-13 | 1986-08-12 | Nissan Motor Company, Limited | Data transmission/reception network system |
US4651330A (en) * | 1983-10-14 | 1987-03-17 | British Telecommunications Public Limited Company | Multipoint data communications |
US4691294A (en) * | 1984-09-21 | 1987-09-01 | International Computers Limited | Clock/data synchronization interface apparatus and method |
US4635249A (en) * | 1985-05-03 | 1987-01-06 | At&T Information Systems Inc. | Glitchless clock signal control circuit for a duplicated system |
US4794596A (en) * | 1985-07-01 | 1988-12-27 | Gloyne Francis R | Data network synchronisation |
US4924492A (en) * | 1988-03-22 | 1990-05-08 | American Telephone And Telegraph Company | Method and apparatus for wideband transmission of digital signals between, for example, a telephone central office and customer premises |
US5214637A (en) * | 1991-04-15 | 1993-05-25 | Codex Corporation | High speed two wire modem |
US5347539A (en) * | 1991-04-15 | 1994-09-13 | Codex Corporation | High speed two wire modem |
US5331670A (en) * | 1992-01-31 | 1994-07-19 | At&T Bell Laboratories | Synchronization scheme for a digital communications system |
US5452330A (en) * | 1992-07-06 | 1995-09-19 | Digital Equipment Corporation | Bus-oriented switching system for asynchronous transfer mode |
US5444712A (en) * | 1993-08-30 | 1995-08-22 | At&T Corp. | Communication mode identification technique |
Cited By (98)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6052380A (en) * | 1996-11-08 | 2000-04-18 | Advanced Micro Devices, Inc. | Network adapter utilizing an ethernet protocol and utilizing a digital subscriber line physical layer driver for improved performance |
GB2363042B (en) * | 1998-10-29 | 2003-06-04 | Advanced Micro Devices Inc | Physical layer transceiver architecture for a home network station connected to a telephone medium |
WO2000027075A1 (en) * | 1998-10-29 | 2000-05-11 | Advanced Micro Devices, Inc. | Physical layer transceiver architecture for a home network station connected to a telephone medium |
GB2363042A (en) * | 1998-10-29 | 2001-12-05 | Advanced Micro Devices Inc | Physical layer transceiver architecture for a home network station connected to a telephone medium |
US6771750B1 (en) | 1998-10-29 | 2004-08-03 | Advanced Micro Devices, Inc. | Physical layer transceiver architecture for a home network station connected to a telephone line medium |
EP1049251A2 (en) * | 1999-03-31 | 2000-11-02 | Harada Industry Co., Ltd. | Control device |
US6671502B1 (en) | 1999-03-31 | 2003-12-30 | Harada Industry Co., Ltd. | Control device for radio repeater in communication field |
EP1049251A3 (en) * | 1999-03-31 | 2003-09-03 | Harada Industry Co., Ltd. | Control device |
US20060186915A1 (en) * | 1999-10-19 | 2006-08-24 | Carl Werner | Method and apparatus for calibrating a multi-level current mode driver having a plurality of source calibration signals |
US20060061405A1 (en) * | 1999-10-19 | 2006-03-23 | Zerbe Jared L | Method and apparatus for receiving high speed signals with low latency |
US20020153936A1 (en) * | 1999-10-19 | 2002-10-24 | Zerbe Jared L. | Method and apparatus for receiving high speed signals with low latency |
US20100134153A1 (en) * | 1999-10-19 | 2010-06-03 | Zerbe Jared L | Low Latency Multi-Level Communication Interface |
US7809088B2 (en) | 1999-10-19 | 2010-10-05 | Rambus Inc. | Multiphase receiver with equalization |
US7859436B2 (en) | 1999-10-19 | 2010-12-28 | Rambus Inc. | Memory device receiver |
US9998305B2 (en) | 1999-10-19 | 2018-06-12 | Rambus Inc. | Multi-PAM output driver with distortion compensation |
US7161513B2 (en) | 1999-10-19 | 2007-01-09 | Rambus Inc. | Apparatus and method for improving resolution of a current mode driver |
US20060233278A1 (en) * | 1999-10-19 | 2006-10-19 | Rambus Inc. | Method and apparatus for generating multi-level reference voltage in systems using equalization or crosstalk cancellation |
US20020091948A1 (en) * | 1999-10-19 | 2002-07-11 | Carl Werner | Apparatus and method for improving resolution of a current mode driver |
US20020075968A1 (en) * | 1999-10-19 | 2002-06-20 | Jared Zerbe | Method and apparatus for generating multi-level reference voltage in systems using equalization or crosstalk cancellation |
US6772351B1 (en) | 1999-10-19 | 2004-08-03 | Rambus, Inc. | Method and apparatus for calibrating a multi-level current mode driver |
US20110140741A1 (en) * | 1999-10-19 | 2011-06-16 | Zerbe Jared L | Integrating receiver with precharge circuitry |
US20090097338A1 (en) * | 1999-10-19 | 2009-04-16 | Carl Werner | Memory Device Receiver |
US9544169B2 (en) | 1999-10-19 | 2017-01-10 | Rambus Inc. | Multiphase receiver with equalization circuitry |
US7072415B2 (en) | 1999-10-19 | 2006-07-04 | Rambus Inc. | Method and apparatus for generating multi-level reference voltage in systems using equalization or crosstalk cancellation |
US8199859B2 (en) | 1999-10-19 | 2012-06-12 | Rambus Inc. | Integrating receiver with precharge circuitry |
US8320494B2 (en) | 1999-10-19 | 2012-11-27 | Rambus Inc. | Method and apparatus for generating reference voltage to adjust for attenuation |
US8634452B2 (en) | 1999-10-19 | 2014-01-21 | Rambus Inc. | Multiphase receiver with equalization circuitry |
WO2002021782A2 (en) * | 2000-09-05 | 2002-03-14 | Rambus Inc. | Calibration of a multi-level current mode driver |
WO2002021782A3 (en) * | 2000-09-05 | 2002-11-07 | Rambus Inc | Calibration of a multi-level current mode driver |
US7269212B1 (en) | 2000-09-05 | 2007-09-11 | Rambus Inc. | Low-latency equalization in multi-level, multi-line communication systems |
US7903684B2 (en) | 2000-11-22 | 2011-03-08 | Silicon Image, Inc. | Communications architecture for transmission of data between memory bank caches and ports |
US20080126824A1 (en) * | 2000-11-22 | 2008-05-29 | Silicon Image, Inc. | Communications architecture for memory-based devices |
US20020191475A1 (en) * | 2000-11-22 | 2002-12-19 | Dongyun Lee | Communications architecture for memory-based devices |
US7257129B2 (en) * | 2000-11-22 | 2007-08-14 | Silicon Image | Memory architecture with multiple serial communications ports |
US20020094055A1 (en) * | 2001-01-16 | 2002-07-18 | International Business Machines Corporation | Unified digital architecture |
US6970529B2 (en) | 2001-01-16 | 2005-11-29 | International Business Machines Corporation | Unified digital architecture |
US20060029177A1 (en) * | 2001-01-16 | 2006-02-09 | International Business Machines Corporation | Unified digital architecture |
US7646839B2 (en) | 2001-01-16 | 2010-01-12 | International Business Machines Corporation | Unified digital architecture |
US20020136397A1 (en) * | 2001-02-06 | 2002-09-26 | The Board Of Trustees Of The Leland Stanford Junior University | Crosstalk identification in xDSL systems |
WO2002063813A2 (en) * | 2001-02-06 | 2002-08-15 | The Board Of Trustees Of The Leland Stanford Junior University | Crosstalk identification in xdsl systems |
WO2002063813A3 (en) * | 2001-02-06 | 2003-05-08 | Univ Leland Stanford Junior | CROSSTALK IDENTIFICATION IN xDSL SYSTEMS |
US6990196B2 (en) | 2001-02-06 | 2006-01-24 | The Board Of Trustees Of The Leland Stanford Junior University | Crosstalk identification in xDSL systems |
US20040172652A1 (en) * | 2001-02-09 | 2004-09-02 | Fisk Julian Basil | Distribution and networking of television, video and other signals, installation of such distribution systems, and control of television sets |
US20110239258A1 (en) * | 2001-02-09 | 2011-09-29 | Quadriga Technology Limited | Distribution and networking of television, video and other signals, installation of such distribution systems, and control of television sets |
US9824036B2 (en) | 2001-02-28 | 2017-11-21 | Rambus Inc. | Memory systems with multiple modules supporting simultaneous access responsive to common memory commands |
US9257151B2 (en) | 2001-02-28 | 2016-02-09 | Rambus Inc. | Printed-circuit board supporting memory systems with multiple data-bus configurations |
US20090238295A1 (en) * | 2001-08-31 | 2009-09-24 | Adaptive Networks, Inc. | Communicating data using wideband communications |
US8014442B2 (en) * | 2001-08-31 | 2011-09-06 | Ceres Communications Technologies, Llc | Communicating data using wideband communications |
US10070423B2 (en) | 2001-09-25 | 2018-09-04 | Netgear, Inc. | System and method for stacking receiver channels for increased system through-put in an RF data transmission system |
US9730192B1 (en) * | 2001-09-25 | 2017-08-08 | Netgear, Inc. | System and method for stacking receiver channels for increased system through-put in an RF data transmission system |
US20050089114A1 (en) * | 2001-11-21 | 2005-04-28 | Per Hakan Albin Johansson | Dynamic allocation of frequency spectrum |
WO2003044979A1 (en) * | 2001-11-21 | 2003-05-30 | Telefonaktiebolaget L M Ericsson (Publ) | Dynamic allocation of frequency spectrum |
US7483401B2 (en) | 2001-11-21 | 2009-01-27 | Telefonaktiebolaget L M Ericsson (Publ) | Dynamic allocation of frequency spectrum |
US8498234B2 (en) | 2002-06-21 | 2013-07-30 | Qualcomm Incorporated | Wireless local area network repeater |
US20090060017A1 (en) * | 2002-07-12 | 2009-03-05 | Rambus Inc. | Selectable-Tap Equalizer |
US20090067482A1 (en) * | 2002-07-12 | 2009-03-12 | Rambus Inc. | Selectable-Tap Equalizer |
US20090067484A1 (en) * | 2002-07-12 | 2009-03-12 | Rambus Inc. | Selectable-Tap Equalizer |
US20080049822A1 (en) * | 2002-07-12 | 2008-02-28 | Rambus Inc. | Selectable-Tap Equalizer |
US8861667B1 (en) | 2002-07-12 | 2014-10-14 | Rambus Inc. | Clock data recovery circuit with equalizer clock calibration |
US7873115B2 (en) | 2002-07-12 | 2011-01-18 | Rambus Inc. | Selectable-tap equalizer |
US8467437B2 (en) | 2002-07-12 | 2013-06-18 | Rambus Inc. | Selectable-Tap Equalizer |
US8023584B2 (en) | 2002-07-12 | 2011-09-20 | Rambus Inc. | Selectable-tap equalizer |
US8885688B2 (en) | 2002-10-01 | 2014-11-11 | Qualcomm Incorporated | Control message management in physical layer repeater |
US20070025486A1 (en) * | 2002-10-01 | 2007-02-01 | Widefi, Inc. | Control message management in physical layer repeater |
US8122134B2 (en) | 2002-10-11 | 2012-02-21 | Qualcomm Incorporated | Reducing loop effects in a wireless local area network repeater |
US8060009B2 (en) | 2002-10-15 | 2011-11-15 | Qualcomm Incorporated | Wireless local area network repeater with automatic gain control for extending network coverage |
US20060063485A1 (en) * | 2002-10-15 | 2006-03-23 | Gainey Kenneth M | Wireless local area network repeater with automatic gain control for extending network coverage |
US8078100B2 (en) | 2002-10-15 | 2011-12-13 | Qualcomm Incorporated | Physical layer repeater with discrete time filter for all-digital detection and delay generation |
US20060063484A1 (en) * | 2002-10-24 | 2006-03-23 | Proctor James A Jr | Wireless local area network repeater with in-band control channel |
US8089913B2 (en) | 2002-10-24 | 2012-01-03 | Qualcomm Incorporated | Physical layer repeater with selective use of higher layer functions based on network operating conditions |
US20060056352A1 (en) * | 2002-11-15 | 2006-03-16 | Widefi, Inc. | Wireless local area network repeater with detection |
US8111645B2 (en) | 2002-11-15 | 2012-02-07 | Qualcomm Incorporated | Wireless local area network repeater with detection |
US7990904B2 (en) | 2002-12-16 | 2011-08-02 | Qualcomm Incorporated | Wireless network repeater |
US20060098592A1 (en) * | 2002-12-16 | 2006-05-11 | Widefi, Inc. | Wireless network repeater |
US7359367B2 (en) * | 2003-12-18 | 2008-04-15 | Oki Electric Industry Co., Ltd. | Device for preventing erroneous synchronization in wireless communication apparatus |
US20050135528A1 (en) * | 2003-12-18 | 2005-06-23 | Oki Electric Industry Co., Ltd. | Device for preventing erroneous synchronization in wireless communication apparatus |
US8027642B2 (en) | 2004-04-06 | 2011-09-27 | Qualcomm Incorporated | Transmission canceller for wireless local area network |
US8023885B2 (en) | 2004-05-13 | 2011-09-20 | Qualcomm Incorporated | Non-frequency translating repeater with downlink detection for uplink and downlink synchronization |
US20070032192A1 (en) * | 2004-06-03 | 2007-02-08 | Widefi, Inc. | Frequency translating repeater with low cost high performance local oscillator architecture |
US8095067B2 (en) | 2004-06-03 | 2012-01-10 | Qualcomm Incorporated | Frequency translating repeater with low cost high performance local oscillator architecture |
US8144800B2 (en) * | 2004-09-18 | 2012-03-27 | Broadcom Corporatino | Downstream transmitter and cable modem receiver for 1024 QAM |
US20060095216A1 (en) * | 2004-11-04 | 2006-05-04 | Mindspeed Technologies, Inc. | Optic module calibration using an enhanced golden module |
US20060193271A1 (en) * | 2005-01-28 | 2006-08-31 | Widefi, Inc. | Physical layer repeater configuration for increasing MIMO performance |
US8059727B2 (en) | 2005-01-28 | 2011-11-15 | Qualcomm Incorporated | Physical layer repeater configuration for increasing MIMO performance |
US7797592B1 (en) * | 2005-11-23 | 2010-09-14 | Marvell International Ltd. | Automatic communication channel fault mitigation |
US20100002620A1 (en) * | 2006-09-01 | 2010-01-07 | Qualcomm Incorporated | Repeater having dual receiver or transmitter antenna configuration with adaptation for increased isolation |
US8559379B2 (en) | 2006-09-21 | 2013-10-15 | Qualcomm Incorporated | Method and apparatus for mitigating oscillation between repeaters |
US20090290526A1 (en) * | 2006-09-21 | 2009-11-26 | Qualcomm Incorporated | Method and apparatus for mitigating oscillation between repeaters |
US8774079B2 (en) | 2006-10-26 | 2014-07-08 | Qualcomm Incorporated | Repeater techniques for multiple input multiple output utilizing beam formers |
US8867573B2 (en) * | 2007-04-23 | 2014-10-21 | Nokia Corporation | Transferring data between asynchronous clock domains |
US20100111117A1 (en) * | 2007-04-23 | 2010-05-06 | Pasi Kolinummi | Transferring data between asynchronous clock domains |
US9210018B2 (en) | 2010-10-24 | 2015-12-08 | Valens Semiconductor Ltd. | Slicer for dynamically modulated symbols |
US9294319B2 (en) | 2010-10-24 | 2016-03-22 | Valens Semiconductor Ltd. | Receivers for dynamically modulated symbols |
US8930795B1 (en) | 2010-10-24 | 2015-01-06 | Valens Semiconductor Ltd. | Methods for slicing dynamically modulated symbols |
US9229841B2 (en) * | 2014-03-10 | 2016-01-05 | Qualcomm Incorporated | Systems and methods for detecting errors and recording actions on a bus |
US20150254154A1 (en) * | 2014-03-10 | 2015-09-10 | Qualcomm Incorporated | Systems and methods for detecting errors and recording actions on a bus |
CN107026807A (en) * | 2016-01-29 | 2017-08-08 | 三星显示有限公司 | The method and system of the performance of serial communication channel is estimated using process circuit |
CN115421928A (en) * | 2022-11-04 | 2022-12-02 | 摩尔线程智能科技(北京)有限责任公司 | Device and method for reducing electromagnetic interference generated by chip and electronic equipment |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US5608755A (en) | Method and apparatus for implementing carrierless amplitude/phase encoding in a network | |
US5812594A (en) | Method and apparatus for implementing carrierless amplitude/phase encoding in a network | |
US5742642A (en) | Signal processing method and apparatus for reducing equalizer error | |
US7388904B2 (en) | Near-end, far-end and echo cancellers in a multi-channel transceiver system | |
US6647071B2 (en) | Method and apparatus for equalization and tracking of coded digital communications signals | |
US6647070B1 (en) | Method and apparatus for combating impulse noise in digital communications channels | |
US5675612A (en) | Method and apparatus for timing recovery | |
US8107573B2 (en) | Method and apparatus for baseline wander compensation in Ethernet application | |
US7403752B2 (en) | Multi-channel communications transceiver | |
JP4130994B2 (en) | Improvements in or related to multi-carrier transmission systems | |
US6011814A (en) | Adaptive comb filter and decision feedback equalizer for noise suppression | |
JP4447056B2 (en) | Improvements in or related to multi-carrier transmission systems | |
JP4016126B2 (en) | Improvement of multi-carrier transmission system | |
KR100458971B1 (en) | Noise Impulse Impact Reduction Method, Receiver, and Transmitter Receiver System | |
JPH05244040A (en) | Carrier phase reproduction for adaptive equalizer | |
US7254194B2 (en) | Automatic gain control for communication receivers | |
JP2005278222A (en) | Mixed mode adaption analog receiving architecture for data communication | |
US7212582B2 (en) | Combining precoding with spectral shaping | |
CA1308793C (en) | Receiver of a system for transmitting data symbols at a given baud-rate | |
US7248890B1 (en) | Channel power balancing in a multi-channel transceiver system | |
US6463106B1 (en) | Receiver with adaptive processing | |
US7079572B2 (en) | Method for setting up a data transmission link between xDSL transceivers | |
Bryan | QAM for terrestrial and cable transmission | |
US7068711B2 (en) | Multi-function equalizer arrangement | |
US6137809A (en) | Quantization noise compensator apparatus and method |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |
|
FPAY | Fee payment |
Year of fee payment: 4 |
|
FPAY | Fee payment |
Year of fee payment: 8 |
|
FPAY | Fee payment |
Year of fee payment: 12 |
|
FEPP | Fee payment procedure |
Free format text: PAT HOLDER NO LONGER CLAIMS SMALL ENTITY STATUS, ENTITY STATUS SET TO UNDISCOUNTED (ORIGINAL EVENT CODE: STOL); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
REFU | Refund |
Free format text: REFUND - PAYMENT OF MAINTENANCE FEE, 12TH YR, SMALL ENTITY (ORIGINAL EVENT CODE: R2553); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
REFU | Refund |
Free format text: REFUND - PAYMENT OF MAINTENANCE FEE, 12TH YEAR, LARGE ENTITY (ORIGINAL EVENT CODE: R1553); ENTITY STATUS OF PATENT OWNER: LARGE ENTITYFree format text: REFUND - 11.5 YR SURCHARGE - LATE PMT W/IN 6 MO, LARGE ENTITY (ORIGINAL EVENT CODE: R1556); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
AS | Assignment |
Owner name: GENERAL INSTRUMENT CORPORATION, PENNSYLVANIAFree format text: MERGER;ASSIGNOR:TERAYON COMMUNICATION SYSTEMS, INC.;REEL/FRAME:030587/0733Effective date: 20110113 |
|
AS | Assignment |
Owner name: MOTOROLA MOBILITY LLC, ILLINOISFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:GENERAL INSTRUMENT HOLDINGS, INC.;REEL/FRAME:030866/0113Effective date: 20130528Owner name: GENERAL INSTRUMENT HOLDINGS, INC., CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:GENERAL INSTRUMENT CORPORATION;REEL/FRAME:030764/0575Effective date: 20130415 |
|
AS | Assignment |
Owner name: GOOGLE TECHNOLOGY HOLDINGS LLC, CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:MOTOROLA MOBILITY LLC;REEL/FRAME:035354/0420Effective date: 20141028 |