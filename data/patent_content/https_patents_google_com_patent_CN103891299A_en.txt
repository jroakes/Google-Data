CN103891299A - Method and system for providing efficient and accurate estimates of tv viewership ratings - Google Patents
Method and system for providing efficient and accurate estimates of tv viewership ratings Download PDFInfo
- Publication number
- CN103891299A CN103891299A CN201280050741.XA CN201280050741A CN103891299A CN 103891299 A CN103891299 A CN 103891299A CN 201280050741 A CN201280050741 A CN 201280050741A CN 103891299 A CN103891299 A CN 103891299A
- Authority
- CN
- China
- Prior art keywords
- computer
- family
- predetermined
- burst
- qualified event
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Granted
Links
Images
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/40—Client devices specifically adapted for the reception of or interaction with content, e.g. set-top-box [STB]; Operations thereof
- H04N21/43—Processing of content or additional data, e.g. demultiplexing additional data from a digital video stream; Elementary client operations, e.g. monitoring of home network or synchronising decoder's clock; Client middleware
- H04N21/442—Monitoring of processes or resources, e.g. detecting the failure of a recording device, monitoring the downstream bandwidth, the number of times a movie has been viewed, the storage space available from the internal hard disk
- H04N21/44204—Monitoring of content usage, e.g. the number of times a movie has been viewed, copied or the amount which has been watched
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/20—Servers specifically adapted for the distribution of content, e.g. VOD servers; Operations thereof
- H04N21/25—Management operations performed by the server for facilitating the content distribution or administrating data related to end-users or client devices, e.g. end-user or client device authentication, learning user preferences for recommending movies
- H04N21/258—Client or end-user data management, e.g. managing client capabilities, user preferences or demographics, processing of multiple end-users preferences to derive collaborative data
- H04N21/25866—Management of end-user data
- H04N21/25891—Management of end-user data being end-user preferences
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/40—Client devices specifically adapted for the reception of or interaction with content, e.g. set-top-box [STB]; Operations thereof
- H04N21/43—Processing of content or additional data, e.g. demultiplexing additional data from a digital video stream; Elementary client operations, e.g. monitoring of home network or synchronising decoder's clock; Client middleware
- H04N21/442—Monitoring of processes or resources, e.g. detecting the failure of a recording device, monitoring the downstream bandwidth, the number of times a movie has been viewed, the storage space available from the internal hard disk
- H04N21/44213—Monitoring of end-user related data
- H04N21/44222—Analytics of user selections, e.g. selection of programs or purchase activity
- H04N21/44224—Monitoring of user activity on external systems, e.g. Internet browsing
- H04N21/44226—Monitoring of user activity on external systems, e.g. Internet browsing on social networks
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/60—Network structure or processes for video distribution between server and client or between remote clients; Control signalling between clients, server and network components; Transmission of management data between server and client, e.g. sending from server to client commands for recording incoming content stream; Communication details between server and client
- H04N21/65—Transmission of management data between client and server
- H04N21/658—Transmission by the client directed to the server
- H04N21/6582—Data stored in the client, e.g. viewing habits, hardware capabilities, credit card number
Abstract
A method for providing efficient and accurate estimates of TV viewership ratings through a distributed computer system that includes multiple computers is disclosed. The method includes: receiving a query from a client at the distributed computer system; dynamically selecting one or more computers according to a predefined sharding function; at each of the selected computers, determining a count of qualified event records that satisfy the query; aggregating the respective counts of qualified event records determined by the selected computers; statistically projecting the aggregated count of qualified event records into an estimated total count of qualified event records on the distributed computer system; and returning the estimated total count of qualified event records to the requesting client.
Description
Technical field
Disclosure execution mode relate generally to TV audience rating, relates to particularly for the system and method for effectively and accurately estimating to TV audience rating is provided.
Background technology
Now, people can for example, obtain identical television content by different communication channels (satellite, cable, telephone wire and internet) from different suppliers.The selection of communication channel usually has a lot of geography and demographic consideration.For example, for the family of rural area, satellite receiver may be the most frequently used device of received television signal.But for the family of metropolitan area, utilizing cable to connect or carry out received television signal by broadcast (OTA) antenna may be more common.Although a lot of people still watch TV programme by TV, young viewers can be selected more computer by being couple to internet, even support the smart mobile phone of 3G/4G radio communication to watch TV programme.Due to the diversified communication channel existing for received television program, on a large level of population, (for example, in national level) provides effective, the accurate estimation of audience ratings had more to challenge specific television program.
Summary of the invention
According to more following execution modes, disclose a kind of for the computer-implemented method of effectively and accurately estimating of TV audience rating is provided.Described method is implemented at the Distributed Computer System place that comprises multiple computers, and each computer has the memory of one or more processors and the multiple logouts of storage, and each logout comprises predetermined time interval.Described method comprises: receive from the inquiry of client, wherein said inquiry comprises one or more preassigneds, and in described preassigned one specifies predetermined amount of time; By at least one in described one or more preassigneds is applied to predetermined burst function, dynamically select one or more computers, wherein on the selected computer that may meet described one or more preassigneds, have the candidate events record of predetermined quantity at least; At each selected computer place: multiple candidate events records of storing in identifying the memory of described computer; In identified candidate events record, determine the counting of the qualified event record that meets described one or more preassigneds, wherein each qualified event record has and the described predetermined amount of time that is associated with described inquiry overlapping predetermined time interval at least in part; Gather the corresponding counts of the qualified event record definite by selected computer; The counting of gathered qualified event record is predicted as to the estimation tale of qualified event record in described Distributed Computer System, the estimation tale of wherein said qualified event record have be associated put letter grade; And Query Result is returned to the client of the request of sending, wherein said Query Result comprise the estimation tale of described qualified event record and be associated put letter grade.
According to more following execution modes, disclose a kind of for the Distributed Computer System of effectively and accurately estimating of TV audience rating is provided, described Distributed Computer System comprises multiple computers, each computer has the memory of one or more processors and the multiple logouts of storage, and each logout comprises predetermined time interval.Described one or more program comprise instruction for: receive from the inquiry of client, wherein said inquiry comprises one or more preassigneds, and in described preassigned one specifies predetermined amount of time; By at least one in described one or more preassigneds is applied to predetermined burst function, dynamically select one or more computers, wherein on the selected computer that may meet described one or more preassigneds, have the candidate events record of predetermined quantity at least; At each selected computer place: multiple candidate events records of storing in identifying the memory of described computer; In identified candidate events record, determine the counting of the qualified event record that meets described one or more preassigneds, wherein each qualified event record has and the described predetermined amount of time that is associated with described inquiry overlapping predetermined time interval at least in part; Gather the corresponding counts of the qualified event record definite by selected computer; The counting of gathered qualified event record is predicted as to the estimation tale of qualified event record in described Distributed Computer System, the estimation tale of wherein said qualified event record have be associated put letter grade; And Query Result is returned to the client of the request of sending, wherein said Query Result comprise the estimation tale of described qualified event record and be associated put letter grade.
According to more following execution modes, a kind of nonvolatile computer-readable recording medium is disclosed, the one or more programs of described nonvolatile computer-readable recording medium storage for being carried out by one or more processors of computer system, described computer system is for providing effectively and accurately estimating of TV audience rating.Described one or more program comprise instruction for: receive from the inquiry of client, wherein said inquiry comprises one or more preassigneds, and in described preassigned one specifies predetermined amount of time; By at least one in described one or more preassigneds is applied to predetermined burst function, dynamically select one or more computers, wherein on the selected computer that may meet described one or more preassigneds, have the candidate events record of predetermined quantity at least; At each selected computer place: multiple candidate events records of storing in identifying the memory of described computer; In identified candidate events record, determine the counting of the qualified event record that meets described one or more preassigneds, wherein each qualified event record has and the described predetermined amount of time that is associated with described inquiry overlapping predetermined time interval at least in part; Gather the corresponding counts of the qualified event record definite by selected computer; The counting of gathered qualified event record is predicted as to the estimation tale of qualified event record in described Distributed Computer System, the estimation tale of wherein said qualified event record have be associated put letter grade; And Query Result is returned to the client of the request of sending, wherein said Query Result comprise the estimation tale of described qualified event record and be associated put letter grade.
Accompanying drawing explanation
When by reference to the accompanying drawings, as the result of the following detailed description of various aspects of the present invention, will more be expressly understood above-mentioned execution mode of the present invention and additional execution mode.All in accompanying drawing, identical Reference numeral represents corresponding parts.
Figure 1A is the block diagram illustrating according to the distributed TV content delivery system of some execution modes, and described distributed TV content delivery system comprises multiple communication channels for send from TV signal to family and for estimating the distributed measurement server of TV audience rating.
Figure 1B is the block diagram illustrating according to the assembly of the distributed measurement server of some execution modes, the estimation that described distributed measurement server is used for collecting television program receiving continuous data from multiple sources and TV audience rating is provided to the client of the request of sending.
Fig. 2 is the block diagram that the assembly of the computer of the root/mixture as the distributed measurement server/leaf burst member operation according to some execution modes is shown.
Fig. 3 A illustrates that according to the television program receiving continuous data of some execution modes the root burst by distributed measurement server how moves to the block diagram of one or more leaf bursts that root burst selects from data source.
Fig. 3 B be illustrate use according to the data source of some execution modes for organizing the block diagram of data structure of television program receiving continuous data.
Fig. 3 C be illustrate use according to the distributed measurement server of some execution modes for storing the block diagram of data structure of television program receiving continuous data.
Fig. 3 D be illustrate use according to the distributed measurement server of some execution modes for storing the block diagram of data structure of family population statistics.
Fig. 3 E be illustrate use according to the distributed measurement server of some execution modes for storing the block diagram of data structure of TV broadcasting organization information.
Fig. 4 A illustrates according to the distributed measurement server of some execution modes flow chart that enters television program receiving continuous data how deal with data source provides.
Fig. 4 B illustrates according to the distributed measurement server of some execution modes how will to be applied to television program receiving continuous data from the inquiry of client and Query Result to be returned to the flow chart of the client of the request of sending.
Fig. 4 C illustrates flow chart how to identify the television program receiving continuous data that meets inquiry according to the leaf burst of the distributed measurement server of some execution modes.
Embodiment
The television program receiving situation of national market can be unusual fragmentation.In some embodiments, television program receiving prognoses system for example, receives original viewing-data from various television content suppliers (wired and satellite company, sees off by broadcasting organization and the Internet flows).Television program receiving prognoses system for different geographic demographics's groups (, certain combination of niche audience demographics, geographic area and/or two specific characters) gather the initial data from each different content supplier, and in the level that has important statistical significance, particular group is calculated to rating occupation rate information.For example, television program receiving prognoses system (for example, in urban area) in the time having enough data is calculated occupation rate information per minute and in the time there is no enough data, is calculated occupation rate information per hour, to determine reliably occupation rate information per minute (for example, the underpopulatio area who special services/content provider almost be there is no to subscriber).Then, produce reliable occupation rate information in order to contrast the large region, region covering from diverse supplier's information, television program receiving prognoses system by weighting heterogeneity by the occupation rate information combination from diverse content provider.In some cases, rating occupation rate information covers identical geographic demographics's group (for example from satellite supplier and cable supplier the audience information for same geographical area).And, by the rating occupation rate information of the content provider about different being combined and weighting, become and can organize and (for example generate reliable information any group of geographic demographics that all can not fully represent separately, occupation rate information about cable supplier A and satellite supplier B may not comprise separately the full information of organizing X about identical geographic demographics, but comprises after their combinations).
Fig. 1 is the block diagram illustrating according to the distributed TV content delivery system of some execution modes, and described distributed TV content delivery system comprises the multiple communication channels for send TV signal to family.In some embodiments, one or more television broadcasting mechanism/TV continuous data suppliers 102 are collected in the accounts information for certain subscriber family 180 keeping in one or more account information database 132.This information 132 is distributed formula measurement server 150 and accesses, distributed measurement server 150 gathers in response to inquiry and analytical information, for example, so that one or more TV programme of geographic demographics's group (various combination to spectators by age, sex and geographic area) scope are determined to TV audience rating.In some embodiments, as shown in fig. 1, have the supplier of more than one television program receiving continuous data, each continuous data supplier monitors specific geographic and the demographics part of whole TV populations.Therefore, variant between the television program receiving continuous data set of collecting by different suppliers.In order to utilize these data sets incompatible generation country or zone television audience ratings, distributed measurement server 150 can be applied to some weight the television program receiving continuous data from different suppliers, and is a TV audience rating for a TV programme of specific population by their " mixing ".In order to complete this task, distributed measurement server has for programs stored module and carries out the memory 212 that this estimates needed data.The more detailed description of distributed measurement server and related-program module and data is provided below in conjunction with Figure 1B to Fig. 4.
In some embodiments, the family 180 that keeps its account and audience information in database 132 is the participants in television program receiving group (panel), their television-viewing, account and demographic information agreed to can collect, gather and analyze in television program receiving group, to allow distributed measurement server 150 to determine television-viewing data to particular home 180.Account information database 132 generally comprises account number 134, title 136 and the charging address 138 for each participant family.In some embodiments, accounts information 132 also comprises physical address 140, the IP address 126 that the one or more devices with the Internet-enabled that use such as the home address of family and/or with family 180 are associated, to access in general manner and to watch stream television content and/or the service based on internet.In some cases, family 180 has fixed ip address 126, and fixed ip address 126 is associated with the family account in database 132 in this case.In other cases, family 180 has the IP address of dynamic assignment, and the IP address of dynamic assignment can be on regular basis (for example each kinsfolk's " dialing " or to Internet service provider 128(ISP) while newly connecting) change.In this case, broadcasting organization/supplier 102 follows the tracks of the change of household IP address 126 the therefore record in new database 132 more.In some cases, account information database 132 comprises the account data 144 being associated with each family.Account data 144 can comprise the one or more demographics parameters that characterize kinsfolk, includes but not limited to kinsfolk's quantity and at least one kinsfolk's age, sex, education degree, income and occupation.As described below, the information in account data 144 is for inquire about viewing-data in response to client-requested, or the deviation in the time predicting TV audience rating according to the viewing-data of collecting, the viewing-data of collecting with a supplier being associated minimizes.In some cases, account information database 132 comprises television program receiving data 142, and television program receiving data 142 represent the television-viewing activity of the family 180 being associated with each account.For example, television-viewing activity can comprise the information of each program of watching about family, for each program, comprises the Name and Description of program, the channel of broadcast program, the date/time of watching etc.The television-viewing activity of preserving in database 132 in other embodiments, only comprises program and the time started of program and the end time of program of viewed at least threshold time amount (for example 1 minute or 5 minutes).In some embodiments, the activity of watching of following the tracks of only comprises good (premium) content.Television program receiving data 142 can comprise the primary data sample of collecting from family, such as the information of the TV programme of collecting date and time when data sample and broadcast in family when collecting data sample; Or preprocessed data sample, such as the broadcast duration of the TV programme in family.As shown in fig. 1, database 132 can comprise the television program receiving data of collecting from multiple television broadcasting mechanisms (or TV continuous data supplier) 102.If be different from from the form of the data of homology not the form that database 132 uses, can be to they application data preprocessing process.The application uses the term as " viewing-data " and " continuous data " in the whole text interchangeably.
In some embodiments, television broadcasting mechanism is only responsible for broadcast television signal, and simultaneously discrete TV continuous data supplier is responsible for collecting the TV continuous data about different TV programme from family.In some other execution modes, television broadcasting mechanism and TV continuous data supplier are as the single entity work of being responsible for broadcast television signal and collecting TV continuous data.But the application's execution mode is applicable to any configuration.For the sake of simplicity, the application's remainder will use term " TV continuous data supplier " to represent two kinds of entities.The context occurring according to this term, it will be appreciated by those skilled in the art which kind of entity it refers to.
As shown in fig. 1, TV continuous data supplier 102 can be by cable 112, by from the transmission of satellite 104 or by such as internet of communication network 130() stream be sent to family's 180 TV transmission programs.The in the situation that of satellite transmission 106, family 180 has the receiver antenna 108 that receives signal.In family 180, there is receiver or the transducer 110 processing or decode the TV signal entering.The TV signal of decoding is transferred to Set Top Box (STB) 117, and STB117 can be controlled at kinsfolk 118 on TV 116, to show what content.In some embodiments, receiver/transducer 110 and STB117 combination.Conventionally, control STB117 such as the kinsfolk of member 118-1 or 118-2 by remote control.In some embodiments, by telephone wire 114, between TV continuous data supplier 102 and STB117, there is added communications.For example, what TV programme STB117 can provide about just in viewed information, or can receive the further information about interactive TV program from TV continuous data supplier 102.TV continuous data supplier 102 process from STB117 about the movable information of watching of kinsfolk, and the information of processing is stored in database 132.
In some embodiments, kinsfolk's the activity of watching is identified by receiver/transducer 110, and by STB117 transmit wire back look continuous data supplier 102, STB117 is connected to such as internet of communication network 130(by wired or wireless home router 120).In other embodiments, the signal that STB117 can receive from receiver/transducer 110 by assessment is determined the program of watching.In these execution modes, STB117 for example, is transferred to TV continuous data supplier 102 by viewing information (program, channel, date/time etc.) via home router 120 again.Because transmit viewing information by home router 120, so the IP address 126 of home router 120 is also transferred to TV continuous data supplier 102 together with viewing information.In some embodiments, on periodic basis, IP address 126 and/or viewing information are transferred to TV continuous data supplier 102 by (for example from one hour once to once a day even weekly).Between twice continuous transmission, store data in STB117.As mentioned above, in some alternative execution modes, STB117 transfers data to TV continuous data supplier 102 by telephone wire 114.In these execution modes, STB117 can retrieve IP address 126 from router one 20, and transmits it together with watching data.
Actual TV programme signal generally via satellite 104, by cable 112 or transmit (being traditional television broadcasting) via terrestrial television and transmit.In some embodiments, TV programme is sent by communication network 130 streams such as internet.In these execution modes, can be not shown by being directly connected in home router 120(Fig. 1) computer 103, STB117 or receiver/transducer 110 carry out the processing of selecting TV programme.Home router 120 is the gateways from family 180 to internet.In family 180 inside, router one 20 is connected to STB117, and is connected in some cases multiple computers 103, smart phone or digital audio-frequency player 124 or game console 122, such as XBOX, PLAYSTATION or WII.Router one 20 is by being connected to communication network 130 to the Internet service provider 128 of home router 120 distributing IP addresses 126.
In some embodiments, in order to receive the continuous data of a lot of families that TV continuous data supplier collects and their consensus data, distributed measurement server 150 is connected to TV continuous data supplier 102 or account information database 132 or the two.In some other execution modes, distributed measurement server 150 receives the continuous data from the STB117 of family via communication network 130, ISP128 and home router 120.As described below, distributed measurement server 150 estimates TV audience rating for the inquiry in response to from its client and such viewership information offered to the client of the request of sending, and manages it self metering and consensus data's copy.TV continuous data discussed in more detail below, distributed measurement server 150 is stored one group of standard application in its memory, to determine that scope is for example from being less than the reasonable estimation to the audience ratings of the client-requested the short time frame of a few minutes in a second.In some embodiments, distributed measurement server 150 is to the different weight of the data allocations from different suppliers, to eliminate or to reduce associated deviation, weight is one or more geographic demographics's factors functions of (comprising position, sex, age, income, education etc.).
Figure 1B illustrates collecting television program receiving continuous data and the block diagram of the assembly of the distributed measurement server 150 of the estimation of TV audience rating is provided to the client 170 of the request of sending for the multiple sources from such as STB117 and TV continuous data supplier 102 according to some execution modes.In order to process a large amount of television program receiving data, distributed measurement server 150 can comprise hundreds of (for example 512) computer, and each computer is in charge of the subset (also referred to as " burst ") of the television program receiving data definite according to predetermined burst function.As shown in Figure 1B, according to the corresponding function of a hundreds of computer, they are divided into three ranks, and according to the tree-like hierarchy as shown in Figure 1B by the computer link of three ranks together.
The root node of hierarchy is called as " root burst " 151.According to the total quantity of distributed measurement server Computer, hierarchy can comprise the intermediate node of zero or multiple layers.In the example shown in Fig. 1, distributed measurement server 150 comprises one deck intermediate node, and intermediate node is called as " mixture burst " (153-1,153-M).The leaf burst of each mixture management by district predetermined quantity (for example 16) (for example 155 or 157).In the time that distributed measurement server 150 for example, imports new continuous data from data source (STB117 and TV continuous data supplier 102), root burst 151 is responsible for selecting one or more leaf bursts according to predetermined burst function, to distribute new continuous data in distributed measurement server 150.The more detailed description of the data importing processing in distributed measurement server 150 is provided below in conjunction with Fig. 4 A.In the time that distributed measurement server 150 receives the inquiry from client 170, root burst 151 is responsible for according to selecting one or more leaf bursts for the treatment of the predetermined burst function of inquiry.Query Result is submitted to respective mixtures burst 153 by leaf burst.Mixture burst 153 aggregate query results, and the Query Result gathering is submitted to root burst 151, to return to the client 170 of the request of sending.The more detailed description of the query processing in distributed measurement server 150 is provided below in conjunction with Fig. 4 B and Fig. 4 C.In some embodiments, root/mixture/leaf burst is corresponding to the software module of three types, makes the identical calculations hands-operation that the dissimilar burst shown in Figure 1B can be in distributed measurement server 150.For example, the computer of being in charge of the burst (for example leaf burst 155-1) of continuous data also can serve as the mixture burst 153-1 for receive Query Result from other leaf bursts (155-2,155-N), can be even root burst 151.
In some embodiments, burst function is the hash table function from television program receiving data record and one or more leaf burst definition mapping relations, make for given data record, root burst 151 can determine which leaf burst is stored this data record (when in response to inquiry) or which leaf burst will be stored this data record (in the time receiving new continuous data).As example, by exemplary burst function definition be:
Shard_Number=hash_K（TV_ID，STB_ID，Broadcaster_ID）
Wherein " hash_K " refers to the scope [1 of utilizing, K] in sequence number the continuous data (or inquiry) of input is mapped to the predetermined hash table function of corresponding leaf burst, and K be unique leaf burst in distributed measurement server 150 total quantity (, not to the redundant copy counting for each unique leaf burst), it serves as the mould of hash table function.Unique TV in parameter " TV_ID " identification family, and parameter " STB_ID " is identified unique STB that TV is connected to.Parameter " Broadcaster_ID " identification provides unique TV content provider of TV programme to STB.In some embodiments, in order to receive the content from different television content suppliers, one family can have the multiple TVs that are connected to multiple STB.Based on these three parameters, definite which the leaf burst of root burst 151 is responsible for being assigned as the continuous data that the specific TV in particular home generates.For illustrative purposes, some example hypothesis one families of describing below in conjunction with Fig. 4 A to Fig. 4 C have a STB, make household_ID be equivalent to STB_ID.
In some embodiments, carry out configuring distributed measurement server 150 by burst function, make to be dispersed on multiple leaf bursts from the continuous data of a data source, multiple leaf bursts can be associated with identical or different mixture burst.For example, do not allow exceed 5% the continuous data of leaf burst storage from identical data supplier.By doing like this, distributed measurement server 150 can provide estimation audience ratings in response to inquiry, even if it is interim or forever unavailable because of system maintenance or other reasons to be identified as having one or more leaf bursts of the continuous data being associated with inquiry.In some embodiments, distributed measurement server 150 is configured to the copy of the predetermined quantity of identical continuous data to remain on the different computers that are associated from different leaf nodes.Root burst 151 is configured to monitor the use of continuous data copy at different leaf bursts, make in the time receiving the inquiry of continuous data, root burst 151 not only can find which leaf burst has the continuous data of request, and can select the leaf burst that those operating loads are little to process inquiry.On the other hand, the continuous data being associated with same home is stored on identical computer storage, and by identical leaf management by district.In other words, in the time that distributed measurement discovering server the first leaf burst has the continuous data being associated with the family identifying by inquiry, it does not need to find the second leaf burst, because any other leaf burst all has the continuous data identical with the first leaf burst (being copy), or there is no continuous data at all.
To be dispersed on multiple leaf bursts from the continuous data of same data source and keep the configuration of multiple copies of identical leaf burst not only to improve the load balance of distributed measurement server, and make it more fault-tolerant.For given inquiry, may there be multiple leaf bursts to there is continuous data associated with the query.Work at present load based on these leaf bursts, root burst 151 can be identified the subset of the multiple leaf bursts for responding inquiry.If in the leaf burst of identifying is unavailable, root burst 151 can select other leaf bursts of the copy of the continuous data with request to replace original leaf burst.If client 170 receiving portion Query Results, this is particularly useful (for example so, client can be specified in inquiry: if if its accuracy exceedes predetermined threshold or from processing the continuous data that obtains the scheduled volume that is less than whole continuous data set, Query Result is acceptable).
In some embodiments, distributed measurement server 150 provides predetermined API (API), mutual for client 170 and server 150.This API can support existing query language (for example SQL), or tissue based on continuous data on leaf burst defines new more flexibly query language.For example, API and client application 171 can realize with Java.In the time receiving the inquiry that client application 171 submits to, root burst 151 checks these inquiries, and to confirm that it is correct and there is no syntax error, then interprets queries, to determine which leaf burst may have and the continuous data of match query.For example, if inquiry is that the specific program of specific broadcasting organization broadcast is determined to TV audience rating, first root burst 151 identifies one or more leaf bursts that the continuous data providing by this specific broadcasting organization is provided, if the factor of the relevant metering data volume of storing in the present load balance then based on such as leaf burst, leaf burst and the audience ratings accuracy while specifying by client, submits to one or more in identified leaf burst by inquiry.
At the leaf burst of each selection, query engine is responsible for inquiry to be applied to the continuous data of storing in leaf burst.This processing is that the each continuous data record in the memory of the condition of inquiry and computer is compared, and determines whether this data record meets the condition of inquiry.In some embodiments, query engine keeps the counting of the data record that meets inquiry, makes whenever to find that new continuous data record meets inquiry and just will count and increase by one, until checked last data record.
Because continuous data is distributed on multiple leaf bursts, each leaf burst has its query engine, so different leaf bursts produces multiple countings of the data record that meets inquiry independently, then multiple countings of data record are submitted to the respective mixtures burst being associated with these leaf bursts.In some embodiments, it is a counting that mixture burst gathers multiple countings, and the tale that gathers of the data record that meets inquiry is submitted to root burst 151, and it returns to the client 170 of the request of sending as at least a portion response to inquiry.
As mentioned above, distributed measurement server 150 can comprise multiple computers, and each computer can be supported polytype burst.Fig. 2 is the block diagram that the assembly of the computer 200 of the root/mixture as the distributed measurement server/leaf burst member operation according to some execution modes is shown.Thereby comprising for the module of execute store 212 storages, program and/or instruction, computer 200 carries out one or more processing units (CPU) 202 of processing operation; One or more networks or other communication interfaces 210; Memory 212; And for by one or more communication buss 214 of these assembly interconnects.In some embodiments, computer 200 comprises user interface 204, and user interface 204 comprises display unit 208 and for example keyboard of one or more input unit 206(or mouse).In some embodiments, memory 212 comprises high-speed random access memory, such as DRAM, SRAM, DDR RAM, or other arbitrary access solid state memory devices.In some embodiments, memory 212 comprises nonvolatile memory, such as one or more disk storage devices, optical disk storage apparatus, flash memory device, or other non-volatile solid state memory.In some embodiments, memory 212 comprises the storage device of one or more positions away from CPU202.Non-volatile memory device in memory 212 or as an alternative memory 212 comprises non-volatile computer readable storage medium storing program for executing.In some embodiments, the following element of computer-readable recording medium storage of memory 212 or memory 212 or the subset of these elements, and can comprise add ons:
Television program receiving continuous data 240(is for example by the data of set top box of family organization), wherein for the data of set top box 242 of each family comprise the TV continuous data record 244 of multiple compressions and family population statistics record 246 both.
In some embodiments, root burst module 220 can further comprise following element:
Final Query Result processing module 222, is prepared as the final Query Result of the client that will return to the request of sending for Query Result leaf burst and mixture burst being returned according to inquiry; And
In some embodiments, mixture burst module 226 can further comprise following element:
Partial query result treatment module 228, for by for example gathering to prepare the Query Result that leaf burst returns, and submits to root burst by the Query Result of processing; And
In some embodiments, data processing module 232 can further comprise following element:
Data importing device module 234, for importing and the continuous data entering and the consensus data of allocate memory 212;
Data compression (decompression) device module 234, be used for is predetermined format by the continuous data entering from its basis format conversion in the case of necessary, and the continuous data entering by recording compressed records to be stored in memory 212, or in the time of response inquiry, the continuous data record of compression is decompressed; And
In order to provide service to client 170, distributed measurement server 150 need to have the TV continuous data of a lot of families.As above in conjunction with described in Figure 1A, for distributed measurement server 150, there are a lot of modes to access TV continuous data.For example, TV continuous data supplier 102 can receive the continuous data form of Set Top Box daily record (for example with) from respective subscriber family.Because distributed measurement server 150 is couple to TV continuous data supplier 102, so TV continuous data supplier 102 can be transmitted to Set Top Box daily record distributed measurement server.In some embodiments, continuous data is stored in (for example viewing-data 142) in account information database 132 by TV continuous data supplier 102, and provide the access to database 132 to distributed measurement server 150.In this case, distributed measurement server 150 can directly receive new continuous data from account information database 132.In some embodiments, distributed measurement server 150 can also directly receive viewing-data from individual family 180.In this case, the Set Top Box daily record that the STB117 in family 180 generates Set Top Box by home router 120, ISP128 and communication network 130 offers distributed measurement server 150.As described below, distributed measurement server 150 can find the position of the new continuous data record entering for trustship, and no matter data record is from the STB117 in TV continuous data supplier 102 or family.
In some embodiments, different TV continuous data suppliers 102 can have the different scheduling that continuous data is provided.Certain supplier can provide new continuous data to distributed measurement server 150 in scope after the predetermined time interval of a day to a week.This relatively long delay may be associated with a large amount of families (for example scope is from several ten thousand to millions of) conventionally with TV continuous data supplier 102, and wait for that possibly the time more of a specified duration is from the daily record of all subscriber's gathering machine top boxs, then for multiple object is relevant to the fact of daily record application predetermined process process.On the other hand, (for example per hour or per minute) new continuous data that it has been accumulated to 150 reports of distributed measurement server more continually of the STB117 in family 180.From the angle of distributed measurement server 150, from the continuous data of homology can be for different objects.For example, can help the TV audience rating that distributed measurement server 150 produces more accurately, deviation is less to estimate from a large amount of continuous datas of TV continuous data supplier 102.But directly can be used for carrying out almost real-time audience ratings from the continuous data of individual family Set Top Box estimates.
Fig. 3 A illustrates that according to the television program receiving continuous data of some execution modes the root burst by distributed measurement server 150 how is transplanted to the block diagram of one or more leaf bursts that root burst selects from data source.In order to illustrate, the data source in this example is TV continuous data supplier 102.As mentioned above, TV continuous data supplier 102 may accumulate a certain amount of TV continuous data, and is ready to transfer data to distributed measurement server 150.According to predetermined scheduling, the new continuous data of its accumulation is sent to distributed measurement server 150 by TV continuous data supplier 102.In some embodiments, continuous data is present in one or more journal files, each journal file comprises that data set provider ID102-1(is associated with TV continuous data supplier 102 uniquely, to be different from other data sources), when report time 102-3(indication journal file edited) and the each record of multiple Set Top Box log recording 102-5(be associated with the Set Top Box of particular home).
Fig. 3 B illustrates that data source (for example TV continuous data supplier 102) according to some execution modes makes the block diagram of the example data structure (for example Set Top Box log recording 102-5) for organizing television program receiving continuous data.Set Top Box log recording 102-5 comprises that STB ID312(identifies in the Set Top Box being associated with TV continuous data supplier 102 or family uniquely), when report time 314(indication log recording 102-5 edited by STB117 and report to TV continuous data supplier 102), duration of daily record time started 316 and daily record end time 318(indication record period) and multiple event 320, each event comprises event id 322, event time started 324, event end time 326, channel information 328, content type 330 etc.The multiple events 320 that are associated with STB117 record the family activity of watching TV programme by STB117, and such as when opening/closing of TV, what program family has watched, and how long each program seen, program of what type etc. has been watched by family.For example, in the time that family is switched to another channel from a channel, STB117 will produce new events record for new channel.Note, individual Set Top Box log recording 102-5 can provide the information of watching custom about individual family.Be associated with corresponding geographic demographics's data by summary machine top box log recording 102-5 and by viewing-data, can obtain the statistical information such as the audience ratings of the TV programme in niche audience group in specific geographical area, this is in a lot of critical services of providing of distributed measurement server 150.
Distributed measurement server 150 comprises for the one or more bursts 151 from different data source request/reception continuous datas and for example, for multiple leaf bursts (participating in Figure 1B) of distribution and computation data.As shown in Fig. 3 A, when the continuous data that enters in reception, root burst 151 can be applied to continuous data predetermined burst function, and selects one or more leaf bursts to process continuous data.In some embodiments, predetermined burst function is implemented as hash table.For given data set provider ID, the continuous data that has predetermined leaf burst set (for example 155-1 to 155-N) trustship to be associated with this data set provider ID.In order to improve server performance, distributed measurement server 150 will be dispersed on multiple leaf bursts from the continuous data of same data source.For example, server 150 can arrange max-thresholds, makes a leaf burst should have for example, the data that are no more than predetermined percentage or absolute magnitude from particular source (TV continuous data supplier).In some embodiments, server 150 can be also that leaf burst arranges minimum threshold about the data volume from particular source.In some embodiments, root burst 151 for example, transmits the copy of the continuous data entering that it receives from TV continuous data supplier 102 to the leaf burst (155-1 to 155-N) of each identification, makes the leaf burst can parallel data processing.Each leaf burst screens the Set Top Box log recording in continuous data one by one, and selects to be stored in the subset of for example, Set Top Box log recording in the data structure of storing in the memory of leaf burst (300,302 or 304).The more detailed description of the data importing processing at distributed measurement server 150 places is described below in conjunction with Fig. 4 A.
Fig. 3 C illustrates the block diagram that makes to look for store electricity the data structure (for example set-top box recording 340 in memory) of rating continuous data according to the distributed measurement server 150 of some execution modes.Distributed measurement server 150 remains its reset condition by the continuous data entering as far as possible, except being the form that server 150 keeps by continuous data from its basis format conversion.For the each event 320 in Set Top Box log recording 102-5, leaf burst determines whether to have set-top box recording 340 in corresponding memory, if think that Set Top Box log recording 102 is to be distributed in leaf burst, produces corresponding set-top box recording.In some embodiments, in memory, set-top box recording 340 comprises that Record ID 342(can comprise identification data supplier ID, the information of STB ID and the event id that is associated with record), channel information 344, the content time started 346, the end of text time 348, TV information index 350(can be used for the attribute of identification for the TV of view content, for example type, size, manufacturer etc.), the consensus data that home id 352(generates the family of record 340 for being identified as it), the local time of reproduction time 354(indication family view content), watching type 356(indication family is by real time or by DVR view content) and the type of the Set Top Box of Set Top Box type 358(indication contribution set-top box recording 340).In some embodiments, the set-top box recording that is associated with leaf burst is stored in the memory of computer, this makes query processing more effective.In some embodiments, leaf burst compresses each record and the record of compression is stored in memory, to save the space of the more records of trustship.In the time of response inquiry, the each record that decompresses of leaf burst, and determine whether the record decompressing meets inquiry.Can use a lot of known data compression/decompression contracting schemes (for example Lempel-Ziv) for this reason.
Fig. 3 D illustrates the block diagram that makes the data structure (for example family population statistic record 360) for storing family population statistics according to the distributed measurement server 150 of some execution modes.As mentioned above, account information database 132 is for the different object storages such as charging and system maintenance are from the consensus data of millions of families.In some embodiments, distributed measurement server 150 at least keeps the consensus data's who is associated with each family subset.For example, the storage of leaf burst is from all continuous datas of particular home and the consensus data of family.As described below, family population statistics can be a part or the corresponding result of inquiry itself.In some embodiments, family population statistic record 360 comprises that home id 362, home address 364, kinsfolk's quantity 366, family income 368, kinsfolk educate 370 and kinsfolk's age and sex information 372.For efficiency, leaf burst also can be stored in family population statistics in its memory.In the time that reception has the inquiry of the relevant prerequisite of family, if family population statistics does not meet prerequisite, leaf burst can be skipped rapidly the continuous data being associated with particular home.For example, if inquiry is limited to family in a geographic area, if home address indication it outside the geographic area of inquiry, the leaf burst associated continuous data of family that do not need to decompress.In some embodiments, not family population statistics in compressing ram, for example, because its size is conventionally significantly less than the size (, one family may have several thousand set-top box recording) of continuous data and there is no too many income from compression family data.
Fig. 3 E illustrates the block diagram that makes to look for store electricity the data structure (for example television broadcasting mechanism information recording 380) of broadcasting organization's information according to the distributed measurement server 150 of some execution modes.In some embodiments, can on different channels, broadcast identical program by different television broadcasting mechanisms.Sometimes, even if also there is different channels in identical television broadcasting mechanism, for broadcasting identical program in different positions.If inquiry is to find out the audience ratings by the live program of multiple broadcasting organizations in same area, distributed measurement server 150 need to not only have broadcast scheduling 384, and have channel data queued 386, for avoiding missing any set-top box recording by each broadcasting organization of the ID382 of its broadcasting organization identification.
Fig. 4 A for example illustrates, according to the how flow chart of the television program receiving continuous data entering that deal with data source (TV metering supplier or Set Top Box) provides of the distributed measurement server 150 of some execution modes.Note, can push continuous data to server 150 by data source, or be retrieved from data source by server 150.In distributed measurement server 150, can there be multiple computers that root burst module is installed, each as root Fragmentation, and manage the predetermined set of mixture burst or leaf burst, for the treatment of the predetermined set of data source.One in root burst 151 receives the report of (411) TV continuous data from respective data sources.In some embodiments, data source is TV continuous data supplier, and report comprises the multiple logouts that are associated with the different home of subscribing TV continuous data supplier.In some embodiments, data source is the Set Top Box in particular home, and report comprises the multiple logouts that are associated with family.Alternatively, the form that root burst 151 defines from its basis format conversion (413) logout for measuring server 150.Then, root burst 151 is applied to predetermined burst function by the continuous data entering and selects (415) one or more leaf bursts to process logout, makes each leaf burst be responsible for the subset of trustship logout.In some embodiments, can specify which leaf burst to process the continuous data from this data source for determining the identity of data source.For the leaf burst of copy with identical continuous data, root burst 151 is also considered their present load balance (for example, some in them may in other inquiries of service) and selects to compare other have compared with one of heavy load ability.In some embodiments, root burst 151 is according to making to have in same computer the mode from the continuous data of the reasonable percentage of different geographic regions to configure its burst function, makes the accuracy that closing not of a computer in distributed measurement server 150 can negative effect Query Result.Finally, the new continuous data of storing in a leaf burst will be copied to other leaf bursts.Finally, root burst 151 notifies the leaf burst of (417) each selection to process multiple logouts, and for example subset of assignment record in its memory, for subsequent query service.
Each leaf burst 155 places that identify at root burst 151, data importing device module reception (421) multiple logouts or at least its subset.In some embodiments, each has the independent access of the continuous data to entering root burst 151 is selected different leaf bursts 155.For each new logout, data importing device module produces new continuous data record, packed data record, and the data record of compression is stored in to (423) in its memory.Different leaf burst parallel processing logouts, makes each end of record in by a storage in leaf burst.In some embodiments, data importing device module is returned to result (425) root burst 151, and result can be identified the subset of the logout of storing in this specific leaf burst.Root burst 151 can upgrade its burst function by such information, for example makes in the time receiving inquiry, and root burst 151 can determine which leaf burst may have and the continuous data of match query.In some embodiments, data importing device module is also propagated (427) to other leaf bursts (if the each copy with data record that is designated as in them) by newly-generated data record.
In some embodiments, different leaf bursts can have and is associated with the not even copy of the continuous data of same family set of different pieces of information source, to improve the load balance of distributed measurement server, and avoid in them one to become the bottleneck of adverse effect server overall performance.For example, suppose to have three leaf bursts and three data sources, can will be stored in from the continuous data of three data sources on three leaf bursts according to following relation table:
A target of the present invention is that distributed measurement server 150 is provided the answer in the inquiry of watching TV programme and their geographic demographics to distribute as how many families/personnel with real-time mode.Distributed measurement server 150 can be realized this target from the inquiry of client 170 by response, even if it has stored billions of television program receiving continuous data records.
Fig. 4 B illustrates according to the distributed measurement server 150 of some execution modes how will to be applied to television program receiving continuous data from the inquiry of client 170 and Query Result to be returned to the flow chart of the client of the request of sending.Initially, the root burst 151 of server 150 receives (431) inquiry from client 170.Client 170 can provide inquiry by carrying out API Calls to root burst 151.For example, for example, determine that for the specific channel of specific broadcasting organization (" Broadcaster_Channel_Num ") during (for example, from July 2,1 day to 2011 July in 2011) during specified time interval the inquiry of audience ratings can be expressed as follows:
'content<time<interval<start_time:"2011-07-01",end_time:"2011-07-02">>,metered_channel<channel_info:"Broadcaster_Channel_Num">>'.
Above-mentioned inquiry can further be revised as follows, and other parameters by for example, being associated with set-top box recording in memory (STB_Type) are divided into groups Query Result:
'content<time<interval<start_time:"2011-07-01",end_time:"2011-07-02">>,metered_channel<channel_info:"Broadcaster_Channel_Num">>,group_by_spec<screen_group_by_expr:"STB_Type">'.
Above-mentioned inquiry can further be revised as follows, makes the available television continuous data of at least scheduled volume by processing storage in distributed measurement server 150 (for example 50%) draw Query Result:
'content<time<interval<start_time:"2011-07-01",end_time:"2011-07-02">>,metered_channel<channel_info:"Broadcaster_Channel_Num">>,group_by_spec<screen_group_by_expr:"STB_Type">,min_data_set:0.5'.
Above-mentioned inquiry can further be revised as follows, makes Query Result be restricted to specific type (for example only DVR) the rating type of watching:
'content<time<interval<start_time:"2011-07-01",end_time:"2011-07-02">>,metered_channel<channel_info:"Broadcaster_Channel_Num">>,viewing_type_filter<dvr_capable_only:true>,group_by_spec<screen_group_by_expr:"STB_Type">,min_data_set:0.5'.
In the time receiving inquiry, root burst 151 is to query execution (433) sanity check, to guarantee that inquiry is correct on grammer.If inquiry is not by sanity check, root burst 151 returns to error message the client of the request of sending, and the mistake of identifying in can interprets queries.For by each inquiry of sanity check, inquiry is applied to predetermined burst function by root burst 151, and select one or more leaf bursts to process inquiry (435).In some embodiments, this step is similar to the selection leaf burst of step 415 and processes the continuous data entering, and root burst not only considers whether leaf burst has the continuous data of the inquiry of being associated with, and considers the load balance at different leaf bursts place.For example, if not relevant to the television broadcasting mechanism of identification in the inquiry continuous data of leaf burst, root burst 151 is not selected this leaf burst.Even but leaf burst has continuous data, root burst 151 also needs to consider the holistic health of leaf burst, for example, whether the work at present load at leaf burst place becomes the most qualified leaf burst of processing this inquiry.Finally, root burst 151 sends (437) inquiry to each leaf burst of selecting.
At specific leaf burst 155, query engine module receives (441) inquiry, then inquiry is applied to the data record of (443) leaf burst place storage, to determine the counting of the data record that meets inquiry.Provide leaf burst 155 how inquiry to be applied to the more detailed description of the continuous data of leaf burst place storage below in conjunction with Fig. 4 C.Finally, definite counting is returned to (445) root burst 151 by leaf burst 155.As above in conjunction with described in Figure 1B, distributed measurement server 151 is realized in tree-like hierarchy.The different identical inquiries of leaf burst 155 parallel processings, and return to the corresponding definite counting that meets the continuous data record of inquiring about.Because different leaf bursts is processed the different sets of continuous data record, thus do not have data record to be counted twice, and obtain final Query Result by gathering from the partial query result of different leaf nodes.Depend on whether hierarchy comprises any mixture burst, can carry out and gather separately by root burst 151, or then carry out and gather by root burst 151 by one or more mixture bursts 153.
As shown in Figure 4 B, suppose not have intermediate blend burst to relate to aggregation process, root burst 151 receives the part counting of (451) data record from corresponding leaf burst, and part counting is gathered to the tale that meets the data record of data record for (453).In some embodiments, for distributed measurement server 150, do not need to check that each possible continuous data records to provide Query Result accurately.If client 170(is advertizer such as) be enough to make his or she satisfied Query Result interested for being accurate to statistically, this is correct especially so.In some embodiments, for distributed measurement server 150, be difficult to provide point-device Query Result, because may there be too many data to process, make client 170 must wait for a long time (for example several hours) and obtain any Query Result.In order to meet the needs of dissimilar client, the final Query Result processing module 222 of distributed measurement server 150 is implemented statistical forecast function, and the Query Result that leaf burst 155 is returned is predicted as the Query Result of whole continuous data set statistical estimates of (455) managing from server 150.Finally, root burst 151 returns to the Query Result of estimation to (457) to the client 170 of sending request.
In some embodiments, root burst 151 use measure burst function, burst health and the load information of servers 150 come leaf burst in identified server 150 bunch in the subset of data sample, to assess inquiry.To bunch in total sample-size counting after, root burst 151 propagates into every other leaf burst 155 together with the original query of the hierarchy definition shown in Figure 1B by total sample-size of each bunch.Particularly, the definite " k that is defined as of each leaf burst
c/ K
c" respective cluster weight, wherein k
cand K
cit is respectively the overall size of target demographic in total sample chi (as determined above) and bunch c.For each bunch, root burst 151 is determined weighted average, weighted average is zoomed to whole target demographic, and total population is added together scale value.In some embodiments, for each Set Top Box, leaf burst calculates and is defined as " k
c/ K
c" weight, wherein k
cand K
csample-size and the overall size of the target demographic in leaf burst.Then, the sample-size of root burst 151 based on each leaf burst is weighted on average among all leaf bursts.For other execution modes of statistical forecast, please refer to U.S. Provisional Patent Application No.61/501,105 and U.S. Patent application No.12/055,906, each patent merges its full content by reference.
Fig. 4 C illustrates flow chart how to identify the television program receiving continuous data that meets inquiry according to the leaf burst 155 of the distributed measurement server 150 of some execution modes.Leaf burst 155 receives (461) inquiry from root burst 151.In some embodiments, inquiry comprises one or more standards (for example family's filter).Then, one group of candidate family that leaf burst 155 is associated with leaf burst based on its consensus data identification (463), and in selection (465) family one is for further processing.In some embodiments, in the time that ad hoc inquiry arrives leaf burst 155 and operates the certain computer at place, for the treatment of entire population's statistics of this inquiry all in the memory of computer.155 of leaf bursts need to be applied to inquiry the television program receiving data of storing on the memory of computer, and this makes query processing rapid.For the family of selecting, itself and family's filter are compared (467) by leaf burst 155.For example, if family's filter is restricted to inquiry the family of having in predetermined postcode set, the family that does not find its postcode in set can be regarded as defective (469, no), and leaf burst 155 moves to continue to process next family.If but candidate family passes through family's filter (469, be), leaf burst 155 starts to process data record (471) in the memory being associated with this family.In some embodiments, leaf burst 155 is identified data of set top box record in the memory being associated with family, that shown in Fig. 3 C.Leaf burst 155 is data record (if compression) decompression (473), and will inquire about (standard, being associated with inquiry) and be applied to the data record (475) of decompression.Conventionally, there are two possible results from this step: (i) meet the data record of all query criteria or (ii) do not meet at least one the data record query criteria.In the first result, leaf burst 155 is for example accumulated (477) Query Result by the counting of satisfied data record is increased to one.In the second result, leaf burst 155 is skipped simply and is recorded and move to continue processing next data record, until process last data record (479, be).Because record of the method single treatment, so its only needs little memory, therefore leaf burst 155 can be saved more memory and come the data record of store compressed.But because all data record are all stored in memory, so the method is for example, for the client that Query Result is returned to the request of sending by (several seconds within) in the short time period very effective.Process the final data being associated with last family record after (481, be), leaf burst 155 for example, returns to Query Result (meeting the counting of data record of inquiry) to (485) to the higher level's burst (can be root burst or mixture burst) in hierarchy.
Although a part for each accompanying drawing illustrates multiple logical stages according to particular order, the stage that does not rely on order can resequence, and can combine or cut apart other stages.In the time mentioning especially some rearrangement or other groupings, other situation is apparent to those skilled in the art, and therefore the exclusive list of alternative is not provided.In addition will be appreciated that, can in hardware, firmware, software or its combination, implement these stages.
For the object of explaining, with reference to specific implementations, description is above described.But above illustrative discussion is not intended to exhaustive or limits the invention to disclosed precise forms.According to above instruction, can there be many modifications and variations.In order to explain best the present invention and principle and practical application thereof, select and described execution mode, thereby make those skilled in the art can utilize best the present invention, and the various execution modes with various modifications are suitable for the special-purpose of expection.Execution mode comprises substituting in the spirit and scope that fall into claims, modification and equivalent.For the thorough understanding of the theme presenting is provided, a lot of details are provided here.But be apparent that to those skilled in the art, can in the situation that there is no these details, realize theme.In other examples, do not describe known method, process, assembly and circuit in detail, thereby can make necessarily the aspect of execution mode fuzzy.
Claims (30)
1. a computer-implemented method, comprising:
At the Distributed Computer System place that comprises multiple computers, wherein each computer has the memory of one or more processors and the multiple logouts of storage, and each logout comprises predetermined time interval:
Receive from the inquiry of client, wherein said inquiry comprises one or more preassigneds, and in described preassigned one specifies predetermined amount of time;
By at least one in described one or more preassigneds is applied to predetermined burst function, dynamically select one or more computers, wherein on the selected computer that may meet described one or more preassigneds, have the candidate events record of predetermined quantity at least;
At each selected computer place:
Identify multiple candidate events records of storing in the memory of described computer; And
In identified candidate events record, determine the counting of the qualified event record that meets described one or more preassigneds, wherein each qualified event record has and the described predetermined amount of time that is associated with described inquiry overlapping predetermined time interval at least in part;
Gather the corresponding counts of the qualified event record definite by selected computer;
By the counting statistics of gathered qualified event record be predicted as the estimation tale of qualified event record in described Distributed Computer System, the estimation tale of wherein said qualified event record have be associated put letter grade; And
Query Result is returned to the client of the request of sending, wherein said Query Result comprise the estimation tale of described qualified event record and be associated put letter grade.
2. computer-implemented method according to claim 1, wherein said multiple computer is configured in the predetermined hierarchy that comprises a root burst and multiple leaf bursts, make to be responsible for receiving described inquiry as the computer of described Fragmentation, and select one or more computers as described leaf burst by least one in described one or more preassigneds is applied to described predetermined burst function.
3. computer-implemented method according to claim 1, the mapping relations of wherein said predetermined burst function definition between multiple data sources and described multiple computer of the described logout of contribution, make one or more predetermined computation machines for storing the logout that is derived from respective data sources.
4. computer-implemented method according to claim 1, wherein, in described preassigned one requires qualified event record to have and described predetermined amount of time overlapping predetermined time interval at least in part.
5. computer-implemented method according to claim 1, a requirement in wherein said preassigned was checked the logout of minimum number before returning to described Query Result by described Distributed Computer System.
6. computer-implemented method according to claim 1, further comprises: before being applied to described predetermined burst function by one in described one or more preassigneds, described one or more preassigneds are carried out to sanity check.
7. computer-implemented method according to claim 1, is wherein applied to described at least one and described predetermined amount of time in described one or more preassigneds of described predetermined burst function irrelevant.
8. computer-implemented method according to claim 1, wherein dynamically select one or more computers further to comprise:
Select at least two computers according to described predetermined burst function, wherein said at least two computers have the copy of identical logout set; And
A computer at least two computers described in selection with relatively low operating load is processed described inquiry.
9. computer-implemented method according to claim 1, wherein said logout is the television program receiving data of collecting from multiple families.
10. computer-implemented method according to claim 9, wherein each logout comprises when channel information and indication one family start to watch channel and this family when to stop watching event time started and the event end time pair of described channel.
11. computer-implemented methods according to claim 9 are wherein distributed described logout between described computer, and whole television program receiving data of collecting from a particular home are all stored in a computer.
12. computer-implemented methods according to claim 9, wherein between described computer, distribute described logout, the television program receiving data that multiple families from being associated with a specific TV broadcasting organization are collected are dispersed among multiple computers, and the television program receiving data at a certain computer place in described multiple computers are no more than the predetermined percentage of the whole television program receiving data that are associated with described television broadcasting mechanism.
13. computer-implemented methods according to claim 9, wherein, a requirement in described preassigned is collected qualified event record and wherein among identified candidate events record, is determined that the counting of the qualified event record that meets described one or more preassigneds further comprises from the set of predetermined family:
The set of the candidate events record that identification is collected from First Family;
If described First Family is one in the set of described predetermined family, determine whether any one in the set of described candidate events record has and the described predetermined amount of time that is associated with described inquiry overlapping predetermined time interval at least in part; And
If described First Family is not one in the set of described predetermined family, advance to the second family and repeat described identification and determining step until the last family being associated with selected computer.
14. computer-implemented methods according to claim 9, wherein, if a selected computer has the multiple qualified event records that are associated with one family, increase by one by the counting of the qualified event record at this computer place.
15. computer-implemented methods according to claim 9, wherein, each family in described multiple family have and the described logout collected from described family together be stored in the consensus data who is associated same computer, and at least one in described preassigned requires the family that meets one or more predetermined conditions from its consensus data to collect qualified event record.
16. computer-implemented methods according to claim 9, wherein, each family in described multiple family has the weight factor being associated, and wherein among identified candidate events records, determines that the counting of qualified event record further comprises: revise according to the respective weights factor of the family of collecting described qualified event record from it counting that qualified event records.
17. computer-implemented methods according to claim 9, wherein, the candidate events record of described predetermined quantity is the subset of the whole candidate events records in described Distributed Computer System, and wherein the counting that gathers of the described qualified event record of statistics ground prediction further comprises:
Ratio between the candidate events record of determining described predetermined quantity records with the described whole candidate events in described Distributed Computer System; And
The counting that gathers of described qualified event record is multiplied by described ratio.
18. 1 kinds of Distributed Computer Systems, comprising:
Be connected to multiple computers of computer network, each computer has one or more processors and stores the memory of one or more programs and multiple logouts, each logout comprises predetermined time interval, operation below wherein said multiple computers are configured to carry out in the time carrying out described one or more program:
Receive from the inquiry of client, wherein said inquiry comprises one or more preassigneds, and in described preassigned one specifies predetermined amount of time;
By at least one in described one or more preassigneds is applied to predetermined burst function, dynamically select one or more computers, wherein on the selected computer that may meet described one or more preassigneds, have the candidate events record of predetermined quantity at least;
At each selected computer place:
Identify multiple candidate events records of storing in the memory of described computer; And
In identified candidate events record, determine the counting of the qualified event record that meets described one or more preassigneds, wherein each qualified event record has and the described predetermined amount of time that is associated with described inquiry overlapping predetermined time interval at least in part;
Gather the corresponding counts of the qualified event record definite by selected computer;
By the counting statistics of gathered qualified event record be predicted as the estimation tale of qualified event record in described Distributed Computer System, the estimation tale of wherein said qualified event record have be associated put letter grade; And
Query Result is returned to the client of the request of sending, wherein said Query Result comprise the estimation tale of described qualified event record and be associated put letter grade.
19. Distributed Computer Systems according to claim 18, wherein said multiple computer is configured in the predetermined hierarchy that comprises a root burst and multiple leaf bursts, make to be responsible for receiving described inquiry as the computer of described Fragmentation, and select one or more computers as described leaf burst by least one in described one or more preassigneds is applied to described predetermined burst function.
20. Distributed Computer Systems according to claim 18, the mapping relations of wherein said predetermined burst function definition between multiple data sources and described multiple computer of the described logout of contribution, make one or more predetermined computation machines for storing the logout that is derived from respective data sources.
21. Distributed Computer Systems according to claim 18, wherein dynamically select the operation of one or more computers further to comprise:
Select at least two computers according to described predetermined burst function, wherein said at least two computers have the copy of identical logout set; And
A computer at least two computers described in selection with relatively low operating load is processed described inquiry.
22. Distributed Computer Systems according to claim 18, wherein said logout is the television program receiving data of collecting from multiple families.
23. Distributed Computer Systems according to claim 22 are wherein distributed described logout between described computer, and whole television program receiving data of collecting from a particular home are all stored in a computer.
24. Distributed Computer Systems according to claim 22, wherein, if a selected computer has the multiple qualified event records that are associated with one family, increase by one by the counting of the qualified event record at this computer place.
25. Distributed Computer Systems according to claim 22, wherein, each family in described multiple family have and the described logout collected from described family together be stored in the consensus data who is associated same computer, and at least one in described preassigned requires the family that meets one or more predetermined conditions from its consensus data to collect qualified event record.
26. 1 kinds of nonvolatile computer-readable recording mediums, one or more programs that storage is configured to be carried out by Distributed Computer System, described Distributed Computer System comprises multiple computers, each computer has the memory of one or more processors and the multiple logouts of storage, each logout comprises predetermined time interval, described one or more programs comprise instruction for:
Receive from the inquiry of client, wherein said inquiry comprises one or more preassigneds, and in described preassigned one specifies predetermined amount of time;
By at least one in described one or more preassigneds is applied to predetermined burst function, dynamically select one or more computers, wherein on the selected computer that may meet described one or more preassigneds, have the candidate events record of predetermined quantity at least;
At each selected computer place:
Identify multiple candidate events records of storing in the memory of described computer; And
In identified candidate events record, determine the counting of the qualified event record that meets described one or more preassigneds, wherein each qualified event record has and the described predetermined amount of time that is associated with described inquiry overlapping predetermined time interval at least in part;
Gather the corresponding counts of the qualified event record definite by selected computer;
The counting of gathered qualified event record is predicted as to the estimation tale of qualified event record in described Distributed Computer System, the estimation tale of wherein said qualified event record have be associated put letter grade; And
Query Result is returned to the client of the request of sending, wherein said Query Result comprise the estimation tale of described qualified event record and be associated put letter grade.
27. nonvolatile computer-readable recording mediums according to claim 26, wherein said multiple computer is configured in the predetermined hierarchy that comprises a root burst and multiple leaf bursts, make to be responsible for receiving described inquiry as the computer of described Fragmentation, and select one or more computers as described leaf burst by least one in described one or more preassigneds is applied to described predetermined burst function.
28. nonvolatile computer-readable recording mediums according to claim 26, the mapping relations of wherein said predetermined burst function definition between multiple data sources and described multiple computer of the described logout of contribution, make one or more predetermined computation machines for storing the logout that is derived from respective data sources.
29. nonvolatile computer-readable recording mediums according to claim 26, wherein said logout is the television program receiving data of collecting from multiple families.
30. nonvolatile computer-readable recording mediums according to claim 29 wherein distribute described logout between described computer, and whole television program receiving data of collecting from a particular home are all stored in a computer.
Applications Claiming Priority (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US201161529801P | 2011-08-31 | 2011-08-31 | |
US61/529,801 | 2011-08-31 | ||
PCT/US2012/052716 WO2013033122A1 (en) | 2011-08-31 | 2012-08-28 | Method and system for providing efficient and accurate estimates of tv viewership ratings |
Publications (2)
Publication Number | Publication Date |
---|---|
CN103891299A true CN103891299A (en) | 2014-06-25 |
CN103891299B CN103891299B (en) | 2017-05-24 |
Family
ID=47756815
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN201280050741.XA Active CN103891299B (en) | 2011-08-31 | 2012-08-28 | Method and system for providing efficient and accurate estimates of tv viewership ratings |
Country Status (5)
Country | Link |
---|---|
US (1) | US9197929B2 (en) |
EP (1) | EP2752019B1 (en) |
KR (1) | KR101952674B1 (en) |
CN (1) | CN103891299B (en) |
WO (1) | WO2013033122A1 (en) |
Cited By (4)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN104202627A (en) * | 2014-09-20 | 2014-12-10 | 黄友锋 | Digital television real-time interaction management system based on cloud data processing |
CN110869968A (en) * | 2017-03-17 | 2020-03-06 | 融文新闻国际控股有限公司 | Event processing system |
WO2021129391A1 (en) * | 2019-12-23 | 2021-07-01 | 海信视像科技股份有限公司 | Audiovidual history analysis apparatus |
CN116170618A (en) * | 2022-12-29 | 2023-05-26 | 北京奇树有鱼文化传媒有限公司 | Method and device for calculating play quantity, electronic equipment and readable storage medium |
Families Citing this family (11)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
EP2721463B1 (en) | 2011-06-15 | 2017-03-08 | University Of Washington Through Its Center For Commercialization | Methods and systems for haptic rendering and creating virtual fixtures from point clouds |
US20140320392A1 (en) | 2013-01-24 | 2014-10-30 | University Of Washington Through Its Center For Commercialization | Virtual Fixtures for Improved Performance in Human/Autonomous Manipulation Tasks |
US10445769B2 (en) * | 2013-12-24 | 2019-10-15 | Google Llc | Systems and methods for audience measurement |
US20150227950A1 (en) * | 2014-02-13 | 2015-08-13 | Rentrak Corporation | Systems and methods for ascertaining network market subscription coverage |
US10226869B2 (en) | 2014-03-03 | 2019-03-12 | University Of Washington | Haptic virtual fixture tools |
US9965550B2 (en) * | 2014-07-03 | 2018-05-08 | Ca, Inc. | Estimating full text search results of log records |
US10600076B2 (en) | 2014-08-14 | 2020-03-24 | Google Llc | Systems and methods for obfuscated audience measurement |
US10834449B2 (en) | 2016-12-31 | 2020-11-10 | The Nielsen Company (Us), Llc | Methods and apparatus to associate audience members with over-the-top device media impressions |
US11210317B2 (en) * | 2019-01-16 | 2021-12-28 | Walmart Apollo, Llc | System and method for high-availability in a distributed computing environment including multiple availability zones |
US11949932B2 (en) * | 2021-05-25 | 2024-04-02 | The Nielsen Company (Us), Llc | Synthetic total audience ratings |
US11743524B1 (en) | 2023-04-12 | 2023-08-29 | Recentive Analytics, Inc. | Artificial intelligence techniques for projecting viewership using partial prior data sources |
Citations (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN1494321A (en) * | 2002-09-10 | 2004-05-05 | ������������ʽ���� | Receiver and its method, and method for ordering of watching rate |
US20070204298A1 (en) * | 2006-02-17 | 2007-08-30 | Shanks David E | Dynamic viewership rating system |
CN101076093A (en) * | 2006-05-18 | 2007-11-21 | 株式会社东芝 | Server and method for collecting information relating to the viewing or listening mode and information transmiting program |
Family Cites Families (7)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
JP2002158627A (en) | 2000-11-16 | 2002-05-31 | Sony Corp | Broadcast receiver, viewing information calculation method and viewing information calculation system |
JP2002324025A (en) * | 2001-02-20 | 2002-11-08 | Sony Computer Entertainment Inc | Audience rating survey device and method, network distribution program receiving set and receiving method, audience rating survey system, recording medium with audience rating survey program recorded thereon, recording medium with control program for network distribution program receiving set, audience rating survey program and control program for network distribution program receiving set |
US8582584B2 (en) | 2005-10-04 | 2013-11-12 | Time Warner Cable Enterprises Llc | Self-monitoring and optimizing network apparatus and methods |
US8930989B2 (en) * | 2007-08-20 | 2015-01-06 | AdsVantage | System and method for providing supervised learning to associate profiles in video audiences |
US8000993B2 (en) * | 2008-04-14 | 2011-08-16 | Tra, Inc. | Using consumer purchase behavior for television targeting |
US7729940B2 (en) | 2008-04-14 | 2010-06-01 | Tra, Inc. | Analyzing return on investment of advertising campaigns by matching multiple data sources |
US9094140B2 (en) * | 2008-04-28 | 2015-07-28 | Time Warner Cable Enterprises Llc | Methods and apparatus for audience research in a content-based network |
-
2012
- 2012-08-28 US US14/342,326 patent/US9197929B2/en active Active
- 2012-08-28 WO PCT/US2012/052716 patent/WO2013033122A1/en active Application Filing
- 2012-08-28 CN CN201280050741.XA patent/CN103891299B/en active Active
- 2012-08-28 EP EP12826755.6A patent/EP2752019B1/en active Active
- 2012-08-28 KR KR1020147008570A patent/KR101952674B1/en active IP Right Grant
Patent Citations (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN1494321A (en) * | 2002-09-10 | 2004-05-05 | ������������ʽ���� | Receiver and its method, and method for ordering of watching rate |
US20070204298A1 (en) * | 2006-02-17 | 2007-08-30 | Shanks David E | Dynamic viewership rating system |
CN101076093A (en) * | 2006-05-18 | 2007-11-21 | 株式会社东芝 | Server and method for collecting information relating to the viewing or listening mode and information transmiting program |
Cited By (6)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN104202627A (en) * | 2014-09-20 | 2014-12-10 | 黄友锋 | Digital television real-time interaction management system based on cloud data processing |
CN104202627B (en) * | 2014-09-20 | 2017-06-20 | 西安科技大学 | A kind of real time digital television interactive managing system based on cloud data processing |
CN110869968A (en) * | 2017-03-17 | 2020-03-06 | 融文新闻国际控股有限公司 | Event processing system |
WO2021129391A1 (en) * | 2019-12-23 | 2021-07-01 | 海信视像科技股份有限公司 | Audiovidual history analysis apparatus |
CN116170618A (en) * | 2022-12-29 | 2023-05-26 | 北京奇树有鱼文化传媒有限公司 | Method and device for calculating play quantity, electronic equipment and readable storage medium |
CN116170618B (en) * | 2022-12-29 | 2023-11-14 | 北京奇树有鱼文化传媒有限公司 | Method and device for calculating play quantity, electronic equipment and readable storage medium |
Also Published As
Publication number | Publication date |
---|---|
EP2752019A1 (en) | 2014-07-09 |
EP2752019A4 (en) | 2015-07-15 |
CN103891299B (en) | 2017-05-24 |
EP2752019B1 (en) | 2019-12-11 |
KR101952674B1 (en) | 2019-02-27 |
US9197929B2 (en) | 2015-11-24 |
WO2013033122A1 (en) | 2013-03-07 |
US20150089522A1 (en) | 2015-03-26 |
KR20140062504A (en) | 2014-05-23 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
CN103891298B (en) | For collecting the method and system with Management Television viewing-data | |
EP2752019B1 (en) | Method and system for providing efficient and accurate estimates of tv viewership ratings | |
US20200344320A1 (en) | Facilitating client decisions | |
KR102105313B1 (en) | Generating a sequence of audio fingerprints at a set top box | |
US8843952B2 (en) | Determining TV program information based on analysis of audio fingerprints | |
US9113203B2 (en) | Generating a sequence of audio fingerprints at a set top box | |
US11470403B2 (en) | Methods and apparatus for determining audience metrics across different media platforms | |
US8874725B1 (en) | Monitoring the performance of a content player | |
CN101355686B (en) | Method and system for statistic of audience rating | |
US20070074258A1 (en) | Data collection and analysis for internet protocol television subscriber activity | |
US20050278731A1 (en) | System and method of anonymous settop event collection and processing in a multimedia network | |
US9021543B2 (en) | Highly scalable audience measurement system with client event pre-processing | |
US10862994B1 (en) | Facilitating client decisions | |
US20200275146A1 (en) | Viewing Data | |
Li et al. | Understanding Watching Patterns of Live TV Programs on Mobile Devices: A Content Centric Perspective |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
C06 | Publication | ||
PB01 | Publication | ||
C10 | Entry into substantive examination | ||
SE01 | Entry into force of request for substantive examination | ||
GR01 | Patent grant | ||
GR01 | Patent grant | ||
CP01 | Change in the name or title of a patent holder | ||
CP01 | Change in the name or title of a patent holder |
Address after: American CaliforniaPatentee after: Google limited liability companyAddress before: American CaliforniaPatentee before: Google Inc. |