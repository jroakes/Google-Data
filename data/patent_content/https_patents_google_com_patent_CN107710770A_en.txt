CN107710770A - The multizone media streaming of time synchronized - Google Patents
The multizone media streaming of time synchronized Download PDFInfo
- Publication number
- CN107710770A CN107710770A CN201680034765.4A CN201680034765A CN107710770A CN 107710770 A CN107710770 A CN 107710770A CN 201680034765 A CN201680034765 A CN 201680034765A CN 107710770 A CN107710770 A CN 107710770A
- Authority
- CN
- China
- Prior art keywords
- playback
- media
- leader
- reproducer
- follower
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Granted
Links
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/40—Client devices specifically adapted for the reception of or interaction with content, e.g. set-top-box [STB]; Operations thereof
- H04N21/43—Processing of content or additional data, e.g. demultiplexing additional data from a digital video stream; Elementary client operations, e.g. monitoring of home network or synchronising decoder's clock; Client middleware
- H04N21/4302—Content synchronisation processes, e.g. decoder synchronisation
- H04N21/4307—Synchronising the rendering of multiple content streams or additional data on devices, e.g. synchronisation of audio on a mobile phone with the video output on the TV screen
- H04N21/43076—Synchronising the rendering of multiple content streams or additional data on devices, e.g. synchronisation of audio on a mobile phone with the video output on the TV screen of the same content streams on multiple devices, e.g. when family members are watching the same movie on different devices
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/40—Client devices specifically adapted for the reception of or interaction with content, e.g. set-top-box [STB]; Operations thereof
- H04N21/43—Processing of content or additional data, e.g. demultiplexing additional data from a digital video stream; Elementary client operations, e.g. monitoring of home network or synchronising decoder's clock; Client middleware
- H04N21/4302—Content synchronisation processes, e.g. decoder synchronisation
- H04N21/4305—Synchronising client clock from received content stream, e.g. locking decoder clock with encoder clock, extraction of the PCR packets
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/40—Client devices specifically adapted for the reception of or interaction with content, e.g. set-top-box [STB]; Operations thereof
- H04N21/43—Processing of content or additional data, e.g. demultiplexing additional data from a digital video stream; Elementary client operations, e.g. monitoring of home network or synchronising decoder's clock; Client middleware
- H04N21/4302—Content synchronisation processes, e.g. decoder synchronisation
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/40—Client devices specifically adapted for the reception of or interaction with content, e.g. set-top-box [STB]; Operations thereof
- H04N21/43—Processing of content or additional data, e.g. demultiplexing additional data from a digital video stream; Elementary client operations, e.g. monitoring of home network or synchronising decoder's clock; Client middleware
- H04N21/436—Interfacing a local distribution network, e.g. communicating with another STB or one or more peripheral devices inside the home
- H04N21/43615—Interfacing a Home Network, e.g. for connecting the client to a plurality of peripherals
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/40—Client devices specifically adapted for the reception of or interaction with content, e.g. set-top-box [STB]; Operations thereof
- H04N21/43—Processing of content or additional data, e.g. demultiplexing additional data from a digital video stream; Elementary client operations, e.g. monitoring of home network or synchronising decoder's clock; Client middleware
- H04N21/442—Monitoring of processes or resources, e.g. detecting the failure of a recording device, monitoring the downstream bandwidth, the number of times a movie has been viewed, the storage space available from the internal hard disk
- H04N21/44209—Monitoring of downstream path of the transmission network originating from a server, e.g. bandwidth variations of a wireless network
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/40—Client devices specifically adapted for the reception of or interaction with content, e.g. set-top-box [STB]; Operations thereof
- H04N21/43—Processing of content or additional data, e.g. demultiplexing additional data from a digital video stream; Elementary client operations, e.g. monitoring of home network or synchronising decoder's clock; Client middleware
- H04N21/442—Monitoring of processes or resources, e.g. detecting the failure of a recording device, monitoring the downstream bandwidth, the number of times a movie has been viewed, the storage space available from the internal hard disk
- H04N21/44227—Monitoring of local network, e.g. connection or bandwidth variations; Detecting new devices in the local network
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N21/00—Selective content distribution, e.g. interactive television or video on demand [VOD]
- H04N21/60—Network structure or processes for video distribution between server and client or between remote clients; Control signalling between clients, server and network components; Transmission of management data between server and client, e.g. sending from server to client commands for recording incoming content stream; Communication details between server and client
- H04N21/63—Control signaling related to video distribution between client, server and network components; Network processes for video distribution between server and clients or between remote clients, e.g. transmitting basic layer and enhancement layers over different transmission paths, setting up a peer-to-peer communication via Internet between remote STB's; Communication protocols; Addressing
- H04N21/64—Addressing
Abstract
In universal aspect, the system for media playback can include：It is configured to throw the first media playback devices of broadcasting device reception Media Stream from media by data network；With the second media playback devices for being configured to receive Media Stream, the second media playback devices are the members of media playback group.First media playback devices and the second media playback devices can jointly be configured to leader's playback reproducer that one in the first media playback devices and the second media playback devices is appointed as into media playback group.The playback reproducer for being not designated as leader's playback reproducer can be appointed as to follower's playback reproducer of media playback group.First media playback devices and the second media playback devices further can jointly be configured to determine the clock skew between leader's playback reproducer and follower's playback reproducer.Leader's playback reproducer may be configured to：The broadcast of Media Stream is received by data network；Play Media Stream；And Media Stream is supplied to follower's playback reproducer.Follower's playback reproducer is configured to clock skew and synchronously plays Media Stream with leader's playback reproducer.
Description
The cross reference of related application
The priority for the US provisional patent the 62/233rd, 972 submitted for 28th this application claims September in 2015, it is public
Content is opened to be hereby incorporated herein by.
Technical field
This disclosure relates to media streaming.More specifically, this disclosure relates to matchmaker of the time synchronized on multiple devices
Body transmits (for example, multizone media streaming) as a stream.
The content of the invention
In general aspect, the system for media playback can include：Media, which are thrown, broadcasts (cast) device, and the media are thrown and broadcast
Device is configured to media stream broadcast to data network to be played back by media playback group；First media playback devices,
First media playback devices are configured to receive Media Stream, and first media playback devices are the members of media playback group；With
And second media playback devices, second media playback devices are configured to receive Media Stream, second media playback devices are
The member of media playback group.First media playback devices and the second media playback devices can be jointly configured to the first matchmaker
A media playback devices in body playback reproducer and the second media playback devices are appointed as leader's playback of media playback group
Device.One of leader's playback reproducer can will be not designated as in first media playback devices and the second media playback devices
Media playback devices are appointed as follower's playback reproducer of media playback group.First media playback devices and the second media playback dress
Put the clock skew that further can be jointly configured to determine between leader's playback reproducer and follower's playback reproducer.Neck
The person's of leading playback reproducer may be configured to：Receive the broadcast of the Media Stream from data network；Play Media Stream；And by media
Stream is supplied to follower's playback reproducer.Follower's playback reproducer is configured to clock skew and leader's playback reproducer
Synchronously play Media Stream.
Embodiment can include one or more in following characteristics.For example, the first media playback devices and second
Media playback devices can each include the respective record of the member relation in instruction media playback group.Media playback group can be
First media playback group, and the respective record of the first media playback devices can further indicate that in the second media playback group
Member relation.
The system can include the 3rd media playback devices, and the 3rd media playback devices are configured to receive Media Stream.
3rd media playback devices can be the member of media playback group.3rd media playback devices and leader's playback reproducer can be total to
The clock skew being configured to determine together between leader's playback reproducer and the 3rd playback reproducer.Leader's playback reproducer can be with
It is further configured to Media Stream being supplied to the 3rd media playback devices.3rd media playback devices are configured to
Clock skew between leader's playback reproducer and the 3rd playback reproducer synchronously plays Media Stream with leader's playback reproducer.
A media playback devices in first media playback devices and the second media playback devices are appointed as into media to return
Putting leader's playback reproducer of group can include：The survey for the quality that first media playback devices and the data of data network are connected
Measure with the second media playback devices compared with the measurement for the quality that the data of data network connect.
Each in first media playback devices and the second media playback devices may be configured to implement broadcast clothes
Business, the message of the member relation in media playback group is indicated with broadcast.Broadcast message can include to being connected to data network
The inquiry of the membership request of media playback devices and media playback group response.
Media Stream is supplied to follower's playback reproducer to include by leader's playback reproducer：In the data with timestamp point
Media Stream is supplied to follower's playback reproducer in the sequence of group.
Synchronously playing Media Stream with leader's playback reproducer based on clock skew by follower's playback reproducer can include：
By output delay of follower's playback reproducer based on clock skew and follower's playback reproducer and leader's playback reproducer synchronously
Play Media Stream.Can based on the two-way time (RTT) between leader's playback reproducer and follower's playback reproducer to determine when
Clock is offset.
In another general aspect, a kind of method can include：First media playback devices are connected with data network,
First media playback devices are operatively associated with media playback group；And the second media playback devices and data network are connected
Connect, the second media playback devices are operatively associated with media playback group.This method may further include：First media are returned
Leader's playback reproducer that in device and the second media playback devices media playback devices is appointed as media playback group is put,
Wherein it is possible to one of leader's playback reproducer will be not designated as in the first media playback devices and the second media playback devices
Media playback devices are appointed as follower's playback reproducer of media playback group.This method can also include：Determine that leader plays back
Clock skew between device and follower's playback reproducer；Media Stream is received at leader's playback reproducer so as to by media playback
Group is played back；And Media Stream is played by leader's playback reproducer.This method still may further include：Returned by leader
Put device and Media Stream is supplied to follower's playback reproducer, and clock skew is based on by follower's playback reproducer and returned with leader
Put device and synchronously play Media Stream.
Embodiment can include one or more in following characteristics：For example, by the first media playback devices and number
It can include according to network connection：First media playback devices send instruction the first media playback devices in media playback group into
The broadcast message of member's relation.Broadcast message can be included to being connected to data network and operatively associated with media playback group
Media playback devices request response inquiry.Media playback group can be the first media playback group, and broadcast the message can be with
Indicate member relation of first media playback devices in the second media playback group.By the second media playback devices and data network
Connection can include：Second media playback devices send member relation of the second media playback devices of instruction in media playback group
Broadcast message.
A media playback devices in first media playback devices and the second media playback devices are appointed as leader
Playback reproducer can include：Determine leader's relationship metric of the first media playback devices；Determine the neck of the second media playback devices
Lead relationship metric；And based on by the leader pass of leader relationship metric and the second media playback devices of the first media playback devices
It is that measurement is compared, by one in the first media playback devices and the second media playback devices and the second media playback devices
Media playback devices are appointed as leader's playback reproducer.Leader's relationship metric of first media playback devices can be based on the first matchmaker
Body plays back one or more attribute with the network connection of data network.Leader's relationship metric of second media playback devices can
With one or more attribute of the network connection based on the second media playback and data network.
Determine that the clock skew between leader's playback reproducer and follower's playback reproducer can include, iteratively：By with
Being sent with person's playback reproducer to leader's playback reproducer includes the synchronization request of the packet with timestamp, the packet with timestamp
Indicate the time of the clock of follower's playback reproducer；Receiving the synchronization from follower's playback reproducer by leader's playback reproducer please
Ask；Sync response is sent in response to synchronization request by leader's playback reproducer, the sync response includes leader's playback reproducer
Clock time and the instruction of time of the clock of follower's playback reproducer that includes of synchronization request；And filled by follower
Put based on sync response to determine：The two-way time of synchronization request and sync response (RTT)；And the clock skew based on RRT.
Determine that RTT can include：Calculated based on two or more sync response in weighted moving average and linear regression extremely
It is few one.
It is supplied to follower's playback reproducer to include Media Stream：By matchmaker in the sequence of the packet with timestamp
Body stream is supplied to follower's playback reproducer.This method can include：Buffered by leader's playback reproducer and follower's playback reproducer
The appropriate section of Media Stream.
Follower's playback reproducer can be first follower's playback reproducer, and this method can include：By the 3rd media
Playback reproducer is connected with data network.3rd media playback devices can be operatively associated with media playback group.This method can
With including the 3rd media playback devices are appointed as into second follower's playback reproducer, and determine leader's playback reproducer and second
Time migration between follower's playback reproducer.This method can include：Media Stream is supplied to by leader's playback reproducer
Two follower's playback reproducers, and leader's playback reproducer and the second follower playback dress are based on by second follower's playback reproducer
Clock skew between putting synchronously plays Media Stream with leader's playback reproducer.
This method can include：Sending follower playback reproducer to leader's playback reproducer from follower's playback reproducer will be from
Open the instruction of media playback group.In response to the instruction, this method can include：Stop to carry Media Stream by leader's playback reproducer
Supply follower's device；And the membership info of media playback group is updated to remove the follower by leader's playback reproducer
Playback reproducer.
Synchronously playing Media Stream with leader's playback reproducer based on clock skew by follower's playback reproducer can include：
By output delay of follower's playback reproducer based on clock skew and follower's playback reproducer and leader's playback reproducer synchronously
Play Media Stream.
Media Stream can be the first Media Stream, and this method can include：At leader's playback reproducer receive to by
Media playback group plays back the request of the second Media Stream.In response to the request to playing back the second Media Stream, this method can include：Stop
The first Media Stream is only played back by leader's playback reproducer and follower's playback reproducer., should after the first Media Stream is stopped playback
Method can include：Second Media Stream is played by leader's playback reproducer；By leader's playback reproducer by second matchmaker
Body stream is supplied to follower's playback reproducer；And clock skew and leader's playback reproducer are based on by follower's playback reproducer
Synchronously play the second Media Stream.
Brief description of the drawings
Fig. 1 be a diagram that the block diagram of the system for multizone media streaming.
Fig. 2 be a diagram that the schematic diagram of the communication between the part of Fig. 1 system and these parts.
Fig. 3 be a diagram that the media playback for carrying out time synchronized to the media playback group including multiple playback reproducers
The flow chart of method.
Fig. 4 be a diagram that the flow chart of the method for the leader device for specifying media playback group.
Fig. 5 be a diagram that the clock skew between the leader device for determining media playback group and follower's device
The flow chart of method.
Fig. 6 be a diagram that the flow of the method for adding playback reproducer to the media playback group that media are currently played
Figure.
Fig. 7 be a diagram that the flow chart for the method that media playback group is left for playback reproducer.
Fig. 8 be a diagram that the flow chart of the method for changing the Media Stream put by media playback multicast.
Fig. 9 be a diagram that the flow chart for the method that the audio output for determining media playback devices postpones.
Figure 10 be a diagram that the example that can be used for the computing device and mobile computing device for implementing technology described herein
Schematic diagram.
Similar reference in different figures represents similar element.It is some similar for all this elements
The reference of element may not repeat.
Embodiment
This disclosure relates to the system and method for media (for example, audio streaming transmission), wherein, play back in multiple playback
Time synchronized (for example, multizone playback) in device.Although the stream transmission (playback) directed generally toward audio content discusses
Method described herein but to understand that, method described herein can be used for other types of media such as, video, photograph
The broadcasting of piece etc..
It is more when playing media from the common source (for example, media source device) on multiple playback reproducers by data network
The change of the corresponding network quality of connection of individual playback reproducer can cause the playback duration between multiple playback reproducers to postpone.It is this
Playback duration delay may negatively influence Consumer's Experience., can be by including leader by using method described herein
The media playback group of playback reproducer (leader device) and one or more follower's playback reproducer (follower's device) is back and forth
Put media.In this embodiment, by using method described herein, leader device can respectively with follower's device
In each time synchronized (for example, determining corresponding clock skew and/or corresponding clock drift) with view of corresponding
The change of the network connection of playback reproducer (leader device and/or follower's device).Leader device can be (for example, from matchmaker
Body source device) Media Stream is received to be played back by leader device and follower's device (media playback group).Leader fills
Put and then the Media Stream received can be played, and be also supplied to its associated follower to fill the Media Stream received
Put.Follower's device can play the matchmaker received from leader device based on its time synchronized corresponding to leader device
Body stream.
Fig. 1 be a diagram that the media streaming (media time that can be used for multizone time synchronized according to embodiment
Put) system 100 block diagram.System 100 is shown as example and is to illustrate.In other embodiments, it is more
Area media streaming system can have some other configurations.
As illustrated in fig. 1, system 100 includes first user device 110 (it is, for example, possible to use the first user device is come
Start or stop media and throw to broadcast (broadcast) and/or media for stream transmission are provided) and second user device 120.User
Device 110 and 120 can take various forms, such as, smart phone, laptop computer, notebook, media play
Device device, TV etc., for example, in the system 100 of figure 1, user's set 110 and 120 can be with data network communications energy
The computing device of power.
Fig. 1 system 100 also includes the first one playback group leader device 130 and the second one playback group leader device 140.Neck
The person's of leading device 130 and 140 can be can playing stream media (for example, the media that are received from user's set 110 and 120 and/or
Media over a data network such, leader's playback reproducer 130,140 can obtain the media to carry out matchmaker
Body throw broadcast) device, and also have and (such as, the multizone media described herein of multizone media streaming systems 100
Streaming system) other playback reproducers data network messaging abilities (for example, for obtaining and/or transmit media data
And control data).
As shown in figure 1, system 100 also includes the first one playback group follower device 150, second one playback group follower's device
160 and the 3rd one playback group follower device 170.Leader device 130 and 140 can be can playing stream media (for example, from
Media that user's set 110 and 120 receives, the media received from internet etc.) device and also there is data network
Communication capacity (for example, so that other devices with multizone media streaming systems 100 are communicated).In leader device
The media and then can be led to by leader device and corresponding follower's device (150,160,170) that (130,140) place receives
Cross and carry out time synchronized and playback (throwing is broadcast, streaming etc.) using method described herein.In one embodiment, given time
It can be the leader device and/or follower's device in multiple one playback groups to put device.
As shown in figure 1, follower's device 150 and follower's device 160 in the first multizone media streaming with neck
Device 130 is led to be operatively coupled.Similarly, follower's device 160 and follower's device 170 pass in the second multizone media streaming
It is operatively coupled in defeated group with leader device 140.Within system 100, follower's device 160 is the first multizone Media Stream
Member's (operatively associated with both) of both formula transmission group and the second multizone media streaming group.In other implementations
In mode, other arrangements and possible, for example, system can include additional or less media streaming device,
With additional or less one playback group, with single assembly with one playback group etc..
Within system 100, such as can be dynamically determined by using method described herein for given one playback group
On which of one playback group device 130 to 170 device be leader device and which device be follower's device determination.
By using this method, although being not shown in Fig. 1, the playback reproducer as follower's device in an one playback group can be with
It is the leader device in another one playback group, vice versa.Device in one playback group can be bonded to each other operation with usage time
Synchronous (for example, such as, according to method described herein) playback media stream transmission (for example, DAB streaming transmission etc.)
With synchronously playback media streaming in each playback (for example, leader device and follower's device) in given one playback group
Transmission.
In embodiments, all one playback groups as discussed in this article can be completed on the basis of every device (playback reproducer)
Configuration.For example, given playback reproducer can follow the trail of its one playback group (group) as member (for example, within system 100), without
Rely on the standard source of the concentration of craft personal relation information.In this embodiment, playback reproducer only can be online at its
When added to group and/or from group remove.
According to the method, as playback reproducer online (or added to group), it can use multicast domain name system
(mDNS) (or other suitable mechanism) is broadcast the message to declare its group membership's relation, it is all as shown in Figure 2.Disappeared based on this
Breath, other online playback reproducers (online) or other multizone media streaming systems within system 100 can
To dynamically determine group membership's relation of all devices when all devices are online.New online playback reproducer can also be sent pair
The mDNS requests (or other suitable agreement requests) of group membership's relation information of existing on-line equipment.Based on to the request
Response, new on-line equipment can establish group membership's relation information of all other on-line equipment.Similarly, played back when from a group removal
When device and/or playback reproducer add another group, it can notify it is newly assembled to put so that other on-line equipments can update it
On declaring group membership's relation knowledge of device.
When group is disbanded (for example, from available one playback group remove group), it can will dismiss notice and send into the one playback group
Device.However, some devices as the member of dismission group possibly can not be notified with being dismissed corresponding to reception online.This
In the case of, when dismiss notify when offline those group memberships it is online when, in order to avoid the group being disbanded occurs again (for example,
Such as in the list of the available one playback group shown in the media source device of user's set 110,120 to user), can constantly by
Group is dismissed notice and is stored in all local, online devices (for example, untill all group memberships are notified).When being solved
It is other traditional thread binding during when the previous off-line equipment for the group put is online again and by its member relation in the group being disbanded
Put and then previous dismission can be sent to previous off-line equipment and notify.In some cases, new on-line equipment may not recognized
Know it to be disbanded (for example, when the new on-line equipment declares that its member in emancipated group is closed as the group of member
When being, there is no the member online in the group being disbanded).In this case, the group can be disbanded again (for example, by from
Media source device (such as, user's set 110, user 120)).
In certain embodiments, for example, each one playback group of system 100 can by universal unique identifier (UUID) Lai
Mark, the universal unique identifier can be generated at random when creating given one playback group.It can be determined using this UUID
Group membership's relation, and also identify the group being disbanded using this UUID.In certain embodiments, user can create
Building two with identical (for example, text label) title logically different groups (different UUID) and/or one playback group can
So that there is identical (for example, text label) title with multiple devices, the plurality of device.
In other embodiments, the storage device based on cloud is (for example, local cloud storage device, internet cloud storage dress
Put) it can be used for craft personal relation information.Because play back the device separated maintenance of group information and given one playback group, institute
The ability that will allow to show online group membership with this embodiment and from a group ability for removal off-line equipment.According to this
Method, on startup, can be when it be reached the standard grade from group device removed in device offline, one as initialization process
Point, it is each group (for example, by UUID for organizing as key) of its member's (device is considered its member) based on cloud with device
Membership info is synchronous, to determine whether to remove the device (or whether the group has been disbanded) from group.It is similar
Ground, playback reproducer (for example, leader device 130,140 and follower's device 160,170,180) can be based on cloud using this
Membership info determine that playback reproducer is complete group of each group of its member's (playback reproducer is considered its member)
Member relation.
As briefly mentioned, one playback group configuration process can include disappearing as by " service declaration " (for example, mDNS)
Breath transmission (broadcast) is such as schemed in fig. 2 to each playback reproducer of at least one group of member of other online playback reproducers
Show.In example embodiment, this message can be text (TXT) record, wherein, the first entry of TXT records can be with
It is device ID (for example, according to form " id=<device ID>”).Additional entries in TXT records can list given return
Put all groups that device is its member.For example, the corresponding entry that device is each one playback group of its member can include group name
And UUID；Whether setter thinks that it is currently the instruction of the leader of given one playback group；Whether given one playback group is current just
The instruction (for example, in the TXT of one playback group leader device is recorded) of (broadcasting) media is broadcast in throwing.
In some embodiments, entry can be the service discovery based on DNS for the requirement for meeting the Section 6 of RFC 6763
(DNS-SD) TXT is recorded.For example, Groups List can be<length><key>=<value>The list of entry, every group of bar
Mesh.<key>Can be encoded to hexadecimal group of UUID of small letter；It can incite somebody to action<value>It is encoded to<flags>|<group
name>, wherein,<flags>Include the bit flag being encoded to 10 for the integer at bottom on current group state.This mark can
With as follows, although other marks are also possible.For example, the mark that value is 0x01 can indicate that corresponding playback reproducer is (phase
Believing it is) current group of leader of given one playback group.The mark being worth for 0x02 can indicate that corresponding one playback group is currently being broadcast
Put the media currently broadcast by throwing.The mark being worth for 0x04 can indicate that corresponding intrument has clearly been configured to one playback group leader
Person.In other embodiments, other marks and/or other values of statistical indicant can be used.
Service (SRV) record that can be included in the DNS information of the device of system 100 can include the preferential of record
" leader's relationship metric " (for example, as 32 measurements) in level and weight field.SRV records the service that can also include advertisement
Host IP address and port id.(all members' of group) leader's relationship metric can be used for which is determined by each group membership
Device should be the one playback group leader of given one playback group (for example, will can be selected with the maximum device for leading relationship metric
For (being identified as) leader).In embodiments, leader's relationship metric of given playback reproducer can be defined as follows：
If playback reproducer (for example, follower's device in follower's device 150,160,170) does not possess conduct
The ability of one playback group leader, such as due to limited CPU/ memories, then it can return to 0 as its and lead relationship metric.
For the device with the ability for serving as one playback group leader, leader's relationship metric can be defined as to given playback reproducer
The measurement of network quality.In embodiments, the measurement may be calculated as follows：If given playback reproducer is via Ethernet
Corresponding playback system (one playback group) is connected to, then can be 100*65536 by the measure setup of network quality.Otherwise,
Can be the letters of (measuring) WiFi in units of dBm for the playback reproducer that 10*65536+ gives by the measure setup of network quality
Make an uproar than (SNR).If WiFi network is 5GHz, the SNR value for determining network quality measurement, such as " rise " can be provided
(for example, value for measuring SNR added to given playback reproducer), to determine to be determined for the leader of given one playback group
Effective SNR value of device (by compared with effective SNR value of other playback reproducers of one playback group).If playback reproducer
" connecting all the time ", then its mass measurement can be multiplied by (scaling, weighting etc.) constant related to embodiment.
In certain embodiments, the other methods for being used for determining leader's relationship metric (mass measurement) can be used.Example
Such as, if the SNR that measures of playback reproducer exceeds SNR threshold values (for example, in example embodiment, 25dBm threshold values), can be then
The playback reproducer addition of one playback group is connected to the attached of effective SNR value for determining leader's relationship metric via 5GHz WiFi
Add rise.For example, additional effective SNR rises can be determined that 3* (measure or effective SNR-SNR threshold values), its
In, the multiplier value of (in this example, 3) can be based on embodiment and change.Further, in certain embodiments,
For the playback reproducer via the WiFi connections in any frequency, can by another additional fixation lift-off value (for example,
6dBm) it is given to the effectively SNR value (for example, measuring SNR adds any lift-off value previously added) such as (added to), effective SNR
It is worth leader's relationship metric for determining the currently assigned playback reproducer for one playback group leader, this can reduce because playback fills
The one playback group that the corresponding SNR (for example, measure/actual SNR) put fluctuation exchanges between the device of associated one playback group
The frequency of leader.
Using the above method, can using following sequence come calculate (it is determined that) be used to calculate and be connected to back via WiFi connections
Put effective SNR (effective_SNR) value of leader's relationship metric of the playback reproducer of group.Initially, given can be returned
What the effective_SNR values for putting device were equal to the device measures (reality) SNR.If WiFi rate of connections is
5GHz, then can by 5GHz lift-off values (for example, 8dBm, 10dBm etc.) added to previous effective_SNR values (for example,
In the example, actual SNR).For example, if the WiFi rate of connections of given playback reproducer is 5GHz and measures SNR to be higher than SNR
Threshold value, can be (such as, discussed above) added to previously determined by the additional lift-off value proportional to measuring SNR
Effective_SNR values.Further, if given playback reproducer is currently designated as the leader of associated one playback group
Person's device, then it can make another additional rise (for example, 6dBm, such as, discussed above) of effective_SNR values.
Using method described herein, such as playback group membership within system 100 can have found each other when it is reached the standard grade,
And broadcast service-seeking using throwing and throwing broadcasts service declaration (for example, mDNS message) and follows the trail of other group memberships, it is all as shown in Figure 2.
For example, when (playback) device of system 100 is reached the standard grade or when its group membership changes, its can declare this event and/or
Change.Online playback reproducer can also inquire about all other local playback reproducer.After timeout period (for example, 1 second),
The playback reproducer of line can determine that it is the group leader of each one playback group of its member.It is, for example, possible to use be discussed below
Method determines the leader device of one playback group.
If there was only playback reproducer (for example, a movable, online device etc.) in one playback group, this is filled
Put and be appointed as one playback group leader.If one playback group, which is currently thrown, broadcasts (stream transmission) media, one playback group neck is designated as
The playback reproducer for the person of leading keeps leader to be thrown until media and broadcasts end.Otherwise, make with supreme officer's relationship metric (for example,
Effective_SNR values) playback reproducer as one playback group leader.If there is multiple devices identical to lead relationship degree
The IP address of these multiple devices, then can be by being compared to determine leader device by amount.In one embodiment,
Can be leader by the playback reproducer selection with minimum IP address.In another embodiment, can there will be highest IP
The playback reproducer selection of address is leader.In other embodiments, other methods can be used (for example, using other ginsengs
Number) determine the leader from the playback reproducer with equal leader's relationship degree value.
Once given playback reproducer is one playback group determination group leader that it is its member (assuming that given playback dress
Put is not leader), playback (follower) device can establishes reliable data transfer with leader device and is connected such as TCP
Connection, wherein, data transfer connects and then can be used for certification follower device and establishes encryption key.In example embodiment
In, TCP connection time-out can be 15 seconds.If the given TCP connections time-out of follower's device, assume that associated neck
The person's of leading device offline (for example, deadlock), and follower's device with other devices in the one playback group of system 100 (for example, assist
Make) new leader (for example, starting by inquiring about the playback reproducer in associated one playback group again) can be determined.In order to determine
Whether leader device is movable, alternative, and given follower's device can start synchronous to leader device tranmitting data register
(sync) ask.When each follower's device in one playback group at least can send once this with every five seconds for example clock to leader device
Clock synchronization request.Synchronously rung if follower's device received any clock in 20 seconds not (from indicated leader device)
Should, then assume that indicated leader device lost (for example, have been off, not plug-in, disconnection etc.) and can be with
It is determined that the new leader (for example, being started by inquiring about again) of associated one playback group.Whenever one playback group leader device changes
When, associated follower's device should establish connection (for example, TCP and time synchronized) with new leader device.
In embodiments, if playback reproducer thinks that it should turn into new group of leader of given one playback group, this time
Acquisition mode can be entered by putting device, and its SRV and TXT records (as discussed above) are put into the authorization portion of corresponding probe queries
Point.When receiving the inquiry, current leader's (if present) checks the inquiry to check that detection device actually whether should
It is leader's (for example, based on leader's relationship metric).If current leader determines that it should be replaced, it should send out immediately
Goodbye packet for its leader service is sent, and is nullified as a group leader.Detection device can be in previous leader
Device completes detection (for example, in about 1 second or less time) after nullifying and turns into new leader.According to this
Method, there may be the short time window that leader is wherein not present for giving one playback group (for example, about 1 second or less
Time).
In certain embodiments, possibly one playback group can not be changed during a group throwing is broadcast and (broadcast for example, multizone media are thrown)
Leader.In this embodiment, if group leader is offline, playback stops.Similarly, if user for example from
Different Media Streams (different from currently throwing the Media Stream broadcast) is directly thrown to cast to by family device 110 and user's set 120 works as
The leader device (or another group comprising the leader) of group is broadcast in preceding throwing, then the first (current) group throwing is broadcast and can stopped.Press
According to this method, for Consumer's Experience uniformity, if user throws and casts to any amount of current throw and broadcast group and (or overlapping deserve
Another group of group is broadcast in preceding throwing), then currently group throwing is broadcast and can stopped, and newly throwing is broadcast and then can be in target playback device/playback
Played in group.However, by contrast, in this embodiment, if current throw playback group membership (the follower's dress for broadcasting group
Put) offline and/or because some other reasons become unavailable, then organize throwing and broadcast and may not stop, if this will be avoided one
(or multiple) one playback group follower member (for example, due to bad network connection and/or other problems) it is online with it is offline
Between iterative cycles then one playback group media playback stops and started repeatedly.
It is simultaneous between different media players and/or media throwing broadcast application in order to be supported in execution group media throwing sowing time
Capacitive, compared with throwing casts to single assembly, one playback group leader (if present) can advertise itself as having what is be associated
The playback service of group name, but sensing (specified) broadcasts the different port in port from the throwing of its standard default media and (is used to group playback take
Business) so that startup to one playback group request with can with to the specific device (for example, as not being to throw the part for broadcasting group
Single playback reproducer) startup request distinguish.According to the method, throwing broadcasts group and may then act as virtual bench and operate.
Pay attention to, in some embodiments, if an only online group membership, playback reproducer may not declare that clothes are broadcast in a group throwing
Business.
However, in certain embodiments, each media are thrown and broadcast session (for example, the user's set in Fig. 1 system 100
110 or each media asked of user's set 120 throw and broadcast session) may be configured to as group playback and operate (even if
Request is broadcast in the throwing made for initially broadcasting group to single playback reproducer rather than predetermined throwing).It can be originally sent by making to have
Extremely all media of single playback reproducer, which are thrown, broadcasts the method foundation that session broadcasts group description using being thrown herein for multiple playback reproducers
To implement this method (this method can be referred to as to the group or program request group for implementing program request).In this embodiment, can be with
Follower's device is easily added to associated throwing and broadcasts session/from the associated throwing meeting of broadcasting by any time between date of seeding is thrown
Words remove follower's device, such as, use technique described herein.
Session is broadcast once creating program request group and throwing, it can be operated in a manner of broadcasting session identical with predefined group of throwing.
For example, pause, recovery and other functions may be configured to work according to from any device in program request group.Further, return
Put that a group volume functions (for example, group volume and single device volume) are all to be may be configured to on pre- as described herein
The mode that the program request group of the one playback group of definition is similar operates.Each playback reproducer can be included including (fixed by implementing this program request group
Justice) " virtual group " member relation entry (for example, in corresponding TXT records), wherein, by the virtual group of given playback reproducer
Member relation is defined as only including the playback reproducer.In this manner it is achieved that such as system 100 can for associated media playback system
Using be configured so that these virtual groups be easily selected by a user (for example, thrown in media broadcast, sender, in) as can be used for
Occurred without during the playback reproducer of playback.However, it is possible to use virtual group carries out a matchmaker to use (using) to be broadcast group by predefined throwing
The function of body playback.
In certain embodiments, it can be considered and just cast to by throwing added to the playback reproducer of the media playback of program request group
Corresponding one playback group " interim " member.In other words, in this embodiment, as long as session is broadcast in this throwing stops (and phase
The program request group of association is not actuated or is disbanded), interim member may be configured to remove themselves from program request group.
Session (for example, adding program request group) is broadcast in order to add ongoing throwing, multizone media playback system is such as
Playback reproducer in system 100 is configured to find that all ongoing media on given network throw the meeting of broadcasting
Words.For example, playback reproducer may be configured to listen to mDNS services, wherein, indicate currently to throw time broadcast using mark
Put group.In the embodiment including program request group because all playback can with group (including single assembly playback it is virtual
Group) it is associated, so mDNS services can provide the information thrown on all current medias and broadcast session.
In embodiments, current playback device may be configured to on identical network one or more it is other can
Signal is sent with playback reproducer, is broadcast so that those other devices add (playback) with current throwing broadcasting device identical media throwing.On
The mDNS services that text is mentioned can be used for identifying one or more other available throwing broadcasting device by currently throwing broadcasting device.Pay attention to,
It has been that the playback reproducer of the part that group (permanent or interim) is broadcast in the current throwing for throwing broadcasting device can ignore the signal.
Throw and broadcast in one playback group for the given media in system 100 (or other multizone media playback systems)
It is synchronous that Media Stream playback duration is provided between leader device 130,140 and follower's device 150,160,170, in one playback group
Each follower's device can follow the trail of (for example, dull) system of its (for example, dull) system clock and one playback group leader
Time migration between system clock.In embodiments, can use with weighted average is smooth and/or linear regression is smooth
(based on RTT's or based on rtt's) method based on two-way time determines the skew.Hereafter will be discussed in further detail
This method.Using this time synchronized, leader device and associated follower's device are considered that network delay (example
Such as, the change of network quality such as WiFi mass), this enables the leader device of given one playback group and follower's device not
In the case of in the presence of the perceptible playback duration delay from a playback reproducer to another playback reproducer, in the same time
(generally same time) playback media, so as to improve Consumer's Experience.
Briefly, the time (clock) between the device in one playback group within system 100 can be synchronously used by following
Person's device (for example, follower's device 150,160,170) is sent corresponding to the extremely current clock time comprising follower's device
The unicast UDP requests of leader device (for example, leader device 130,140) are grouped to realize.In other embodiments, its
The use of its agreement is also possible.After request packet is received, then leader device can use the clock of its own
Clock time that time and follower's device replicate from request (such as so that follower's device need not follow the trail of request order)
To be responded.Follower's device can estimate RTT and clock skew using the response.
In certain embodiments, follower's device in system 100 can be according to the clock skew by follower's device
The speed that estimation error determines send request (if for example, follower's device thinks that it does not possess the good estimation of clock skew,
Then it can more frequently send time synchronized request).If given one playback group does not carry out throwing currently and broadcast, one playback group is given
Follower's device can simply substantially every five seconds for example clock sends once this request.It can also make to detect do not having in this way
In the case of having notice, when offline leader device is.Broadcast once having been started up media and throwing, follower's device can be with every 50 milliseconds
Or more frequently increase its clock (time) synchronization request speed (according to skew accuracy, the minimum period of every five seconds for example clock once)
Rate.
In example embodiment, the mobile linear regression with the window size of 10 minutes can be used to original clock
Bias estimation smoothly, estimated with providing accurate clock skew.According to the method, to asking from time synchronized
RTT estimations are carried out smoothly, and estimate, to determine when be directed to audio stream packet transmission NACK, such as, to make using the RTT
With the exemplary method being discussed in detail below.
The follower's device organized is broadcast in throwings in Fig. 1 system 100 or in other multizone media throwing broadcast system can be with
Associated leader device is all connected to (as long as example, leader device is using reciprocity transmission control protocol (TCP)
Know) and connected using any amount of suitable authentication techniques to establish Transport Layer Security (TLS).As startup multizone matchmaker
Body throws sowing time, and corresponding leader device can create new random key, and this will newly be used for broadcasting (playback) group in throwing with secret
The data sent between member are encrypted.The key can be distributed to all follower's devices by corresponding TLS connections.
If follower's device broadcasts midway in throwing and adds one playback group (reaching the standard grade), key can also be sent to follower and filled by leader
Put.All media contents (and other data) can be added using key using any amount of suitable cryptographic protocol
It is close.Clock (time) synchronous package can not be encrypted in any manner or certification clock (time) synchronous package.However,
Control message can be encrypted, and pass through TLS linkup transmit control messages.
When such as starting a group throwing sowing time within system 100 using method described herein, for the media content of association
Leader device on presentation process may be configured to the audio/video stream of demultiplexing being redirected to multizone (group) and
Journey, to carry out local playback (for example, passing through leader device) and to arrive follower's device for (for example, voice data)
Distribution (for example, to be played back by follower's device).This can use any amount of suitable media rendering services
To complete.If being applicable, for particular implementation, managing DRM can be carried out using software, hardware, and/or firmware.
When receiving a group startup request (for example, the request of group media playback), the leader device specified is (for example, use
What method described herein determined) it can be sent by TCP control channels by notice is started to all follower's devices.The notice
The group media on being asked can be included to throw the metadata broadcast and also can indicate that follower's device should be ready to throw
The media broadcast.Notified in response to starting, follower's device can with every 50 milliseconds increase its clock (time) synchronization request speed (if
It is required/to need), wherein, the time synchronized request rate of given follower's device can the clock based on follower's device
Offset error is estimated.By starting transmission can also be notified extremely to broadcast any follower's device for having begun to add afterwards in throwing.
Once (throwing asked is broadcast) voice data can use, leader's (for example, leader device 130) can be by the sound
Frequency data stream formula is transmitted to all available follower's devices (for example, follower's device 150 and 160).In this example, can be with
Voice data is transmitted as a stream according to form described below.Once follower's device has reached rational good clock skew
Estimation (for example, when its corresponding clock offset errors estimation is less than 5 milliseconds), each follower's device can start to play back sound
Frequency evidence.In most cases, the playback will be instant, because broadcasting startup request with starting stream media in throwing
There may be the period of several seconds between (for example, voice data), it is allowed to which the sufficient time completes associated therewith in leader device
Clock between follower's device of connection is synchronous.
Within system 100, can use with the RTP in the UDP (UDP) retransmitted
(RTP) voice data (or other media datas) is passed from such as streaming of leader device 130 (for example, with reference to RFC 4588)
Follower's device 150,160 corresponding to transporting to.It is being used for using RTP in the embodiment that audio streaming is transmitted, can be being used suitable
Different synchronisation source (SSRC) ID in the RTP fields of conjunction identify each voice data stream.The data of re-transmission will use with most
The data identical SSRC ID just sent.According to the clock of leader, the timestamp in each audio data packet can be this
The playback duration of packet, and each follower can using its clock bias estimation come determine suitable time for playing back every time with
Maintain the time synchronized with the playback of leader device.
In certain embodiments, because the individually possible excessive and unsuitable single packet of content frame, this list
Only content frame can be divided into multiple packets.According to the method, preceding 4 bytes being each grouped can be 16 frame ID and
16 packet indexes, wherein, there is index 0 to the first packet in framing.This index value can be according to network byte order.
Last packet in frame can be indicated by setting mark mark in associated RTP headers.
As long as lost packets (for example, due to sequence number gap), follower's device (example are detected by follower's device
Such as, follower's device 150 and 160) can (for example, to leader device 130) send NACK to lost packets
(NACK)., may not be than every 10ms in example embodiment in order to limit the bandwidth cost associated with NACK transmission
Transmission once more frequently sends NACK.According to the method, if sending NACK in past 10ms, corresponding follower
Device will wait 10ms to send another NACK after it have sent previous NACK.NACK packet formats can be such as RFC
As 4585 definition.
In embodiments, follower's device of system 100 can not be directed in estimated associated leader device
The packet transmission NACK that (for example, estimating based on current RTT) will expire is responsive to before reaching.Can expiring lost packets
Time Estimate is the time expiration of next packet received.Moreover, leader device 130,140 may be configured to not weigh
The expired packet of hair.
According to the method, the NACK each sent can have the associated of packet for the NACK to be retransmitted to surpass
When the period, the timeout period can be defined as<RTT estimates>+<Maximum jitter>.If wrap after the time-out period has expired still
So lose, as long as packet not yet expire, it is possible to be grouped again carry out NACK (and it is expected receive response before will not
Expire).
When frame includes multiple packets, it is contemplated that all be grouped in specific interval (for example, 10ms) in frame reaches.
Pass by not yet to reach after expected interval (adding delay jitter) if some in frame are grouped in, can be to losing
Packet carries out NACK.Moreover, if interframe space can be estimated, next point will be directed to after last packet of frame
Group sends NACK.It can will check that timing is (interframe space+delay jitter) to the NACK of next packet.
As discussed above, in addition to certification and key exchange, leader device within system 100 with it is associated
TLS/TCP control channels (control channel) between follower's device can be used for by leader device will be with multizone (group) matchmaker
Various orders are sent to its associated (one playback group) follower's device corresponding to body playback.This order can include：Start
Media Stream order, suspending/resuming order (order can include the leader device timestamp that to suspend or recover so that
Follower synchronously can suspend and recover), terminating Media Stream order, (order can include the sequence number of final media data frame
And timestamp), and/or group playback volume control command.In other embodiments, other orders can be used.
Within system 100, follower's device (for example, follower's device 150,160) can use control channel right to its
The leader device (for example, leader device 130) answered sends information.It can be wrapped for this information for giving follower's device
Information volume is included (for example, determining given playback for being adjusted in response to the one playback group volume carried out on leader device
Volume adjustment on device), suspending/resuming/next/previous/expiry notification (if for example, user's pressing it is given with
With the button on person's device) and stream (leaving one playback group) notice is left (if for example, the reception of follower's device is local (single
Device) throw and broadcast startup request, or broadcast startup request from different groups of group throwing).
Whenever group in start (for example, throw broadcast media) state when, each playback reproducer is (all as shown in Figure 2 and below
In be discussed in further detail) multi-region domain manager can be sender's application (for example, in media source device (such as, user
Device 110 and 120) on) provide for control it is each throw broadcast group membership single device volume mechanism.This can be via biography
Defeated name space (for example, multi-region domain namespace) is completed.
For example, when starting one playback group (for example, group media are thrown and broadcast), multi-region domain manager can provide (implementation) group volume
Controlling mechanism.The volume controlling mechanism can make sender's application can be according to coordination mode control group (in media source device)
Media throw the volume broadcast.For example, to the group volume of sender's application report can be being averaged for single device volume.It is if single
The volume of only playback reproducer (leader or follower), which is set, to be changed (for example, because the volume control button on device is pressed
Pressure changes API (API) by using the special volume of device), then can be (for example, passing through corresponding multi-region
Domain manager) correspondingly adjustment group volume, such as, in proportion or according to corresponding amount.
For example, if user such as throws the volume for broadcasting group (for example, by sound from sender's application increase in media source device
10%), then each playback reproducer (for example, leader device and follower's device) in associated one playback group can be with for amount increase
By its volume increase identical amount (10%).According to the method, exceed if the volume of single device will be added to
100%, then the volume of the device can control in 100% (then this can be reflected in discussed above group of volume).
If user's reduction group volume, there may be a group threshold value for volume behavior change (for example, giving playback reproducer
Always may volume 10%).For example, exceed threshold value if all of playback reproducer volume, then can be simply by each device
Volume reduces reduces identical amount (for example, in sender using upper) with user.If the however, volume of given playback reproducer
Threshold value is at or below, then behavior can change so that have the device of higher volume more Jing Yin than (for example, being less than threshold
The volume of value is set) device quickly reduce its volume.This can be by carrying out the change of overall request volume (for example, all
Overall change in group membership, to carry out expectation change to average volume) and between the devices with its single device volume
Volume is proportionally divided to change to complete.If for example, device is in 10% and another device is in 90% (group sound
Amount=50%), and user is asked group volume change to 40%, then and overall change is 20% (10% is multiplied by 2 devices), its
In, 2% is applied to silencing apparatus (reaching 8%), and 18% is applied to strong acoustic device (reaching 72%), so as to produce 40% it is new flat
(group) volume.
When reducing one playback group volume, if no playback reproducer is currently at or less than (amount of bass) threshold value, but subtract
It is small that at least one device can be caused to exceed threshold value, then this reduction can be fifty-fifty divided in a device, until a device reaches
Untill threshold value.Then can be subtracted pari passu using remaining according to the method for regulation of sound volume discussed above less than threshold value
It is small.
Generally speaking, in the case that and if only if its all member are Jing Yin, will can throw broadcast group be considered as it is Jing Yin.
In particular implementation, user can select by whole one playback group it is Jing Yin/cancel Jing Yin, whole one playback group in this case
Jing Yin/cancellation is Jing Yin (simultaneously) together by all members.In order to implement this Jing Yin/cancellation mute function, multi-region domain namespace
API (API) can be provided, the API (API) be configured to by single group membership it is Jing Yin/cancel
It is Jing Yin and/or as it is overall by one playback group it is Jing Yin/cancel it is Jing Yin.
In certain embodiments, multichannel configuration can be implemented using system 100.For example, in some embodiments
In, the individual channel (example for the media that single group membership that user can configure one playback group is being continuously streamed with only playing back
Such as, left channel or right channel).This multichannel configuration can be completed on the basis of every one playback group.It is if for example, given
Playback reproducer be two one playback groups member, then given playback reproducer may be configured to playing in the first one playback group
Left audio channel is only played during media, and right voice-grade channel is only played when the second one playback group is just in playback media.This
In embodiment, when follower's device is connected to group leader, follower's device will can match somebody with somebody on its channel (multichannel)
The information put is sent to leader device.Leader device may be configured to then decide whether only to each follower's device
Send necessary channel (for example, to reduce network bandwidth use).Under any circumstance, in this embodiment, it is each to return
Putting device can configure according to its corresponding multichannel and only play back desired channel, wherein it is possible to use side described herein
Method carries out time synchronized to this playback.
Fig. 2 be a diagram that the user's set 110 of the system 100 according to Fig. 1 of embodiment, leader device 130 and with
The signal of example embodiment with person's device 150 and for the communication between these parts of multizone media streaming
Figure.As mentioned above, leader device 130 can be dynamically determined and the one group of matchmaker broadcast in group (one playback group) is thrown from media
Body playback reproducer selects the leader device 130.Except those parts and element for being shown in Fig. 2, other portions can also be included
Part, or some parts in illustrated part can be excluded in some embodiments.
Fig. 2 device may be operative to as follows.Playback reproducer (for example, leader device 130 and follower's device 150) can
Service is broadcast to start and start its corresponding media throwing.As a part for the startup, each playback reproducer can create phase
The example for the multi-region domain manager 212 and 242 answered, including creation time (clock) synchronous service, and make these examples initial
Change.Each playback reproducer and then can reach the standard grade and send service-seeking, and declare the throwing of its own broadcast service (for example,
In corresponding service-seeking), so as to indicate that the playback reproducer is that (playback) group (for example, using UUID) is broadcast in the throwing of its member.Can
To receive the response to inquiry, and from these responses, each playback reproducer can determine which other playback on network
Device be each playback reproducer be its member identical one playback group member.
Each one playback group of its member for given playback reproducer, given playback reproducer (for example, with each playback
In group other playback reproducers cooperation) and then can determine which playback reproducer should be the group group leader (be based on comprising
Leader's quality information in corresponding SRV and/or TXT records, such as, leader's relationship metric discussed above).In Fig. 2
In, playback reproducer 130 is defined as leader device (as shown in fig. 1), and playback reproducer 150 is defined as follower's dress
Put.Although illustrate only single follower's device in fig. 2, it is to be understood that other follower's devices can include showing in fig. 2
It can be operated in the arrangement gone out (such as, in system 100 in Fig. 1) and according to the mode similar to follower's device 150.
In this example, then follower's device 150 can create follower and organize example service (follower's group) 236.With
The control socket (for example, TCP/TLS connections) of leader's 216 examples of group of leader device 130 can be created with person's group 236
238, and creation time synchronization request device 234, the time synchronized requester can start the time synchronized response to leader
Device 214 sends time synchronized request packet.
After leader's playback reproducer is identified as, leader device 130 can create leader and organize example 216 and open
Begin to receive the control socket connection for being used for corresponding one playback group, such as, from the control socket 238 of follower's device 150.Neck
The person's of leading device 130 can also create and declare that service (for example, being broadcast the message using mDNS) is broadcast in the throwing of group.It is as previously mentioned
, the SRV of leader device 130 record can be to be exclusively used in the port of group (for example, virtually throwing broadcasting device port) in instruction device.
Media throwing is cast into playback (throwing is broadcast) group using the arrangement shown in Fig. 2 can perform to be as follows.User can beat
The throwing of the media on user's set 110 (user's set 110 can be hand-held device, laptop computer/computer etc.) is opened to broadcast
app.App is broadcast in media throwing can send service-seeking.Then service response (declaration) can be returned in response to the inquiry, wrapped
Service is broadcast in the throwing for including the group.Then group selection can be that target is broadcast in throwing by user.In response to selection, it can establish and organize and be special
The transmission connection (being connected for example, being broadcast via throwing and connecting 202 transmission that receiver 204 is broadcast with throwing) of port.Pay attention to, this transmission connects
Connect and can be also used for controlling single playback reproducer throwing to broadcast session (for example, being directed to single assembly, non-group of throwing is broadcast).
Throwing, which broadcasts receiver 204 and then starts content, applies 206.Once starting content applies 206, leader device 130
Multi-region domain manager 212 can broadcast receiver 204 from throwing and receive " starting app " notices.The port of application has been started by checking,
Multi-region domain manager 212 can determine that start content casts to time that playback reproducer 130 is leader using 206 so that media to be thrown
Put group.
Then multi-region domain manager 212 can inform that leader organizes example 216 and starting content using 206.It is for example, more
Zone manager 212 can send initiation message to follower's device of all networkings, including follower's device 150, and its is right
After can increase its time (clock) synchronization request speed, it is all as described herein.Content is using 206 and then can open audio
Output stream, the audio output stream can be supplied to content streaming transmitter 220 and the synchronization of local streamer service 218
Audio output 222.For example, with by multi-region domain manager 212 intercept create export pipeline calling can, then can be by multizone
The calling is supplied to local streamer 218 by manager 212.Content can also configure local streamer using 206
218 carry out media playback.Then multi-region domain manager 212 can inform that leader organizes example 216 so that audio configuration information to be sent out
Deliver to follower's device 150 (and any other follower's device of group is broadcast in the throwing of leader device 130).
Content using 206 and then stream media data can be started, its can by content using 206 from for example mutual
Networking, user's set 110 or any other suitable media data source obtain.In this example, local streamer
218 can add timestamp to the buffering of each voice data of voice data, be existed with (clock based on leader device 130)
Played in audio stream 1 second or 1 second in advance in the future, the buffering with timestamp is transferred to local synchronization audio output 222, and
The buffering with timestamp is also transferred to content streaming transmitter example 220 to send it to follower's device (for example, following
Person's device 150 etc.).The content receiving 230 of follower's group 236 can receive audio pack (as the Audio Buffer with timestamp
Subdivision) and gathered in complete voice data buffering, the data that request is lost as needed.Based on from when
Between synchronization request device 234 estimation clock skew, the timestamp of each Audio Buffer is adjusted to local clock time.Content connects
Receive device and then audio buffer data transfer to its isochronous audio can be exported 242.Isochronous audio output example 222 and 242 is true
The time (for example, by corresponding audio output pipeline 224 and 234) indicated by the timestamp in Audio Buffer is protected to broadcast each
Audio Buffer (for example, stabbed based on buffer time, and for follower's device, its clock skew estimated).
In other embodiments, leader device 130 can be attempted further to read the stream of playback in advance, for example,
Most 5 seconds.In certain embodiments, when carrying out this media throwing sowing time to predefined one playback group, it can use 500ms's
Playback delay enables playback (follower) device buffering audio data.In other embodiments, such as, such as it is described herein
" program request group ", leader device can be immediately begun to when receiving playback request playback (for example, not to buffering addition in the future
Timestamp).Longer (for example, up to 5 seconds) are read in advance due to buffering in this approach, so this multizone throws broadcast system
Can more tolerate may cause the interruption in playback or the temporary network fault that exits, because each group membership can have
For being continuously streamed to the buffered data of up to 5 seconds of the media of associated one playback group.
According to the method, the speed for sending data to follower can be rate limit.If the transmission of data
Excessive velocities, then used bandwidth can be higher than the bandwidth that associated network connection can be supported, this is likely to result in
Packet loss and the packet retransmitted, so as to further influence bandwidth.In example embodiment, can be by data rate limit
1.5 times (that is, not retransmitting) of the playback rate of initial packet, and 2 times of the playback rate for the packet retransmitted.
When suspending/resuming plays back according to the method, can be stabbed with the scheduled time of suspending/resuming to follower's device
Send control message.Then each follower's device can suspend immediately after suspending message is obtained, and be adapted to
Timestamp at recover playback (in response to recover message).In this embodiment, leader device 130 must follow the trail of playback
The time being suspended, and the interval (period of pause) is included in the recovery message for its follower's device.With
Its data time stamp buffered can be updated with person's device and then correspondingly so that the playback of recovery is still time synchronized.
In program request group embodiment, if media, which are thrown to broadcast initially to throw, casts to single playback reproducer, zero can be realized
Audio playback delay instead of discussed above for the audio playback that the 500ms used is broadcast in predefined group of throwing (for example, can prolong
Late).This use of zero-lag may not cause any audio-quality problems, because for the initial throwing of single playback reproducer
Broadcast, (at least initial) be not present is starting to throw follower device of the sowing time needs to playback progress time synchronized.Predefined group
Audio frequency delay is broadcast in throwing will allow all group memberships to start to play back when beginning is broadcast in throwing.
In technique described herein, for example, between leader device 130 and follower's device 150 time (when
Clock) the synchronous RTT being intended that between two devices of measurement, and calculate clock skew using to the RTT measurement.Example
Such as, requester can use initial transmission time (time_1) that time synchronized is asked into packet transmission to responsor.Responsor can be with
Packet is received, by its current time (time_2) added to packet, and packet transmission is then returned into requester as to the time
The response of synchronization request.Requester when receiving response then can obtain its current time (for example, receive response when
Between, hereinafter referred to as (now (present))).
If the transmission delay in travel directions is identical, it can determine that time_2-time_1=- offsets+prolonged
When, and now-time_2=skews+delay.Therefore, clock skew can be estimated as to ((now-time_2)-(time_2-
time_1))/2。
However, in many cases, transmission delay is not identical in travel directions.For example, in WiFi network, can
With the transmission delay being randomly distributed on each direction.This means be up to for given RTT, the error of bias estimation
RTT/2.It should be noted that the delay being calculated can also include drawing due to process scheduling (in playback reproducer) and clock accuracy
The change risen.However, with compared with RTT changes are oriented caused by WiFi, this effect may be relatively small (for example, several
On the order of magnitude of ten microseconds).
For the change in view of transmission delay, such as according to method described herein, can be changed using multiple samples
Enter clock skew estimation.In example embodiment, the error of given sample can be initially estimated as (RTT/2).Then can be with
Using the simple weighted average of sample, wherein, weight=1/error^2=1/RTT^2.This method can initially be used for quick true
Fixed accurate clock skew estimation (even if using 1 sample, if RTT is very low).Can be approximate by the weighted sum of sample error
Average weighted error.
However, in some embodiments, the estimation of clock drift, and if one can not be provided using weighted average
Individual clock ratio another clock faster, then can introduce consistent biasing (for example, wherein, within average period, when biasing is equal to
Clock drift 1/2).Therefore, as described herein, clock skew can be estimated exactly using mobile weighted linear regression,
And mobile weighted linear regression is additionally contemplates that any clock drift speed.In example embodiment, use mobile linear time
Return window (there is relatively long window period, for example, being similar to 5 to 10 minutes) more accurate, so as in view of clock
Any change of drift speed over time.
In the figure 2 example, the multi-region domain manager 232 of follower's device 150 can safeguard that the movement of clock skew is put down
Equal and mobile both linear regression estimations, and final clock skew estimation is produced based on the evaluated error from each result
Weighted average as the two results.Moreover, rolling average estimation weight can after initial time period is had already been through line
Property drops to 0.Provided hereinafter the empirical example for this method of clock skew estimated service life.
In the empirical example, two devices, " leader " device (leader device 130) and " follower " dress are described
Put (follower's device 150), it is all as shown in Figure 2.The leader to other groups and follower's device in this way can also be made
Carry out time synchronized.Moreover, in this example, follower's device 150 is try to estimate its system clock and leader device
Skew between 130 system clock.The two devices are communicated by WiFi network.
Initially, in this example, the clock of leader device 130 is 1000000 (microseconds), and follower's device 150
Clock be 2000000.The clock of leader device 130 was increased in 1 second by with/the drift with 20ppm
It is added to 1000020.The clock of follower's device 150 does not have appreciable drift in this example.Pay attention to, in this example,
Follower's device 150 can not determine leader's precision clock value at any given time or determine the drift speed of any clock
Rate.
In the empirical example, follower's device 150 sends initial request (for example, time synchronized request) to leader
Device 130, so as to include its current clock value (2000000).The request spends 50000 microseconds to reach leader device 130.
Response is sent back follower's device 150 by leader device 130, current clock value of the response bag containing leader device
(1050001) and follower's device 150 the clock value from request.The response spends 10000 microseconds to be back to follower's dress
Put 150.When follower's device 150, which receives, to be responded, follower's device obtains current time (2060000).Follower's device 150
Then can calculate two-way time (2060000-2000000=60000) and bias estimation ((2060000-1050001)-
(1050000-2000000))/2=980000 microseconds.Follower's device 150 have now sample (time=206000,
Skew=980000, weight=1/RTT^2=2.78*10-10).The sample is added to weighted linear regression and weighted average.
In this example, because linear regression needs at least three sample to carry out evaluated error exactly, and weighted average needs at least 2
Individual sample carrys out evaluated error exactly, so can't calculate based on linear regression and/or average weighted bias estimation.
With continued reference to aforementioned exemplary, when follower's device 150 can make another when its clock reaches 2100000 then
Between synchronization request.Specifically, request spend 5ms reach leader (on the clock of leader device 130,1105002), and
Response spends 5ms to return (on the clock of follower's device 150,2110000).RTT is 10000, and bias estimation is
999998.Follower's device then can be by another sample (time=2110000, skew=999998, weight=1.0*10-8)
Added to linear regression and weighted average.
Now, in this example, skew and error can be estimated using weighted average.Weighted average is (980000*
2.78*10-10+999998*1.0*10-8)/(2.78*10-10+1.0*10-8The microsecond of)=999458.The variance of weighting is (2.78*
10-10*(980000-999458)2+1.0*10-8*(999998--999458)2)/(2.78*10-10+1.0*10-8)=
10516521, and standard error is 3243.Due to only obtaining two RTT samples, can't be estimated using linear regression
Meter.Therefore, the current estimation of clock skew is 999998 microseconds, wherein, estimation error is that 3243 microseconds (are weighted based on double sample
It is average).
Reference above-mentioned example is again continued to, when follower's device 150 can carry out the 3rd when its clock reaches 2200000
Between synchronization request.In this example, the 3rd request spends 10ms to reach leader device 130 (in the clock of leader device 130
On, 1210004) and spending 20ms to be back to follower (on the clock of leader device 150,2230000).RTT
It is 30000, and bias estimation is 1004996.Follower's device now can by another (the 3rd) sample (time=
2230000, skew=1004996, weight=1.11*10-9) it is added to linear regression and weighted average.
Weighted average is (980000*2.78*10 now-10+999998*1.0*10-8+1004996*1.11*10-9)/
(2.78*10-10+1.0*10-8+1.11*10-9The microsecond of)=999997.Weighted variance is (2.78*10-10*(980000-
999997)2+1.0*10-8*(999998999997)2+1.11*10-9*(1004996 999997)2)/(2.78*10-10+1.0*
10-8+1.11*10-9)=12197537, and standard error is 3492.
Due to having been obtained for three samples, so weighted linear regression can be calculated now, wherein, x values are to obtain sample
This time, and y values are the skews of each sample.X weighted mean (mean) is 2120476, and y weighted mean is
999997.It is sum (weight [i] * (x [i] x_mean) * (y [i] y_mean))/sum to weight covariance (covariance)
(weight [i])=82879170.X variances (variance) are sum (weight [i] * (x [i] x_mean)2)/sum
(weight [i])=1354866562.Y variances are 12197537.Slope (slope) followed by covariance/x_
Variance=0.06117.Current x differences are (current time x_mean)=109524, and estimate that skew is y_mean+
Slope*x_diff=1006697.
Residual sum of squares (RSS) is covariance2* sum (weight [i])/x_variance=0.05773, mean square deviation is y_
Variance-rss=0.08117.Slope variance is mse/x_variance=0.0052608.Intercept variance is slope_
Variance*x_variance=7127697.Then, the y error being calculated is sqrt (intercept_variance+
slope_variance*x_diff2)=8381.It may then pass through and the 99th quantile of the t distributions of student is multiplied by 1 certainly
By spending the confidential interval (31.82) to calculate the 98% of bias estimation, so as to provide the final of the linear regression of 266670 microseconds
Estimation error.98% confidential interval is have selected in this example, because it is generated well in associated experience test
Time synchronized result.
Then can be from average weighted estimation and from linear regression by final bias estimation and error calculation
The weighted average of estimation.The weight of linear regression is 1/ (linear_error2)=1.406*10-11.In this example, weight
The weight of averaged power spectrum is (age_weight/avg_error2), wherein, age_weight 1 lines when time synchronized
Property is decreased to 0 after five minutes.In other embodiments, it can use and be decreased to its of 0 therebetween in age_weight
Its period (in addition to 5 minutes).In the examples described above, due to having already been through 230000 microseconds since the estimation,
Age_weight is 0.9992, and the weight of weighted average estimation is 8.194*10-8.Therefore, final combination bias estimation is
999998 microseconds, wherein, estimation error is 3493 microseconds.
Follower's device 150, which may then continue with, to carry out time synchronized request and puts down more samples added to weighting
Equal and linear regression.Over time, linear regression estimation will become more accurate (with the increase of sample size, side
Subtractive is small, and t distribution multipliers rapid decrease).Due to clock drift, weighted average estimation may finally become inaccurate.Example
Such as, last 5 minutes of sample are used to calculate weighted average, and the error of the skew being calculated is 3000 microseconds (due to clock
Drifted about according to 20 microsecond per second).
Pay attention to, in this example, a time synchronized request is carried out per 100ms.In other embodiments, request frequency
Error current estimation and system (for example, system 100) state can be based on and change (for example, at runtime when).If i.e.
Lock in time (for example, the time synchronized audio playback of one playback group will start) will be needed, then can increase time synchronized request
Frequency is estimated with improving time migration.
In other embodiments, instead of by the way that (sample, weight) is determined added to linear regression and rolling average
Clock skew/error, can be equal added to linear regression and movement by (sample-delay, weight) and (sample+delay, weight)
Value, wherein, delay=RTT/2.This method can provide the accuracy of estimation error, and reduced and determined with enough precision
The time of error, to realize that time synchronized plays back.According to the method, audio playback can be opened with sufficiently exact estimation error
Begin, to prevent the appreciable audio distortion that may occur when using other methods correction (convergence) clock offset errors.
Mathematically, can be using only the measurement twice (as described above) for beginning to use linear regression progress estimation error and for using
The one-shot measurement of mobile average implements this method.However, in certain embodiments, can be in estimation clock skew/error
Additional measurement is carried out before.For example, in embodiments, at least 2 times measurements can be carried out before using rolling average, and
15 measurements can be carried out before linear regression is begun to use.In other embodiments, can using rolling average or
Person's linear regression obtains the sample of other respective numbers before carrying out evaluated error (skew).
Different loudspeaker/audio output devices can have different intrinsic output to postpone, for example, in audio sample
Through being pushed to corresponding audio pipeline hardware, postponing can be between the different loudspeakers before corresponding sound is produced
Significantly change.Difference can be with up to hundreds of milliseconds.
The synchronization broadcast between different loudspeakers in (playback) group is thrown in order to improve multizone, can be by adjusting sample
Software output postpones to determine and compensate for the intrinsic output of each loudspeaker so that while produce actual sound.Pay attention to, according to
This method, it is not necessary to it is determined that the absolute delay of each loudspeaker, only each loudspeaker prolonging relative to common reference point
Late, it is, for example, possible to use example embodiment described below determines the delay.
In the illustrated embodiment, the hand-held device of user can be used as common reference point.For (for example, given
The playback reproducer of one playback group) each loudspeaker, user can hold the hand-held device by loudspeaker and run calibration application
(for example, by pressing " calibration " button).Calibration application may be configured to make throwing broadcast (playback) device and the hand-held dress of user
Put and sound (same sound) is played at known common time stamp.Hand-held device will record the broadcasting from the two devices
Sound, and determine that the reality output of speaker system is delayed (relative to hand-held using the time difference between the two devices
The output delay of device).
This playback reproducer audio (loudspeaker) delay calibration can be realized using the example below method.In the example
In, be carrying out audio delay calibration throwings broadcasting device can realize with hand-held device be directed to audio delay calibrate use it is interior
The time synchronized of portion's clock.The time synchronized can be realized using method for synchronizing time described herein.Realizing that the time is same
After step, hand-held device can determine the suitable volume level to be used when playing sound.For example, in order that calibrate normal work
Make, the volume for broadcasting the sound that (playback) device receives from throwing at hand-held device should be in the sound of the sound of such as hand-held device
Measure in 12dB.Therefore, hand-held device can play sound first in recording, loudspeaker is then instructed to be played while record
Sound.If desired (if for example, the volume distance for the sound that hand-held device receives from itself receiving from loudspeaker
Volume>12dB), hand-held device can adjust its output volume and repeat above-mentioned process.
Once it is determined that time synchronized and acceptable volume level, hand-held device is assured that and (obtained, acquisition etc.) that it is worked as
Preceding timestamp N.Then hand-held device can indicate that throwing broadcasts (playback) device in the given of the internal clocking relative to hand-held device
(wherein, Dc is length of delay to time stamp T c=N+Dc, for example, Dc can be initially 100ms and change in the iteration of calibration procedure
Become) the predefined sound of place's broadcasting.The process can use the method used in multizone time synchronized media streaming
To be broadcast in throwing on (playback) device sound is played at given long-range (away from hand-held device) timestamp.Hand-held device then can
With (in the suitable time) start recording to capture the sound played back by the playback reproducer calibrated.Further, hand-held device can
To play sound at the time stamp T h=N+Dh for the time that sound should be played close to playback reproducer (Dh=such as 100ms) place.
It can be determined using the getTimestamp functions of hand-held device by the real time (Ta) of hand-held device broadcasting sound.
In this example, the sound from both hand-held device and playback reproducer will be recorded, wherein, having already been through this
After two sound should have been completed the grace time of broadcasting, record can stop.Then signal transacting can be used
Determine the incremental time (poor) between the sound of the two records.For first iteration, the poor value can be defined as absolutely
To value (for example, because it may not be known which device of hand-held device or playback reproducer has played sound first).Cause
This, it is necessary to repeat to measure (at least once) to obtain the poor symbol using the timestamp of modification.For example, above-mentioned process can be with
The time point that its current time stamp is obtained from hand-held device repeats, but changes the hand-held timestamp (Th) for playing sound and playback
Device plays the timestamp (Tc) of sound so that playback reproducer more early 20ms than previous iteration should play sound (for example, at this
In example, Dc=80ms).
After the completion of preceding iteration twice, if adding incremental time (poor), poor symbol between preceding iteration twice
Number it can be defined as bearing, otherwise, difference is just.The playback reproducer that may then pass through (delta (Tc-Ta)) to determine to calibrate/raise
The delay of sound device.Then can be sent the value as the calibration audio frequency delay of given loudspeaker to playback reproducer, the value can be with
It is used for safeguarding that the audio playback between the playback reproducer of corresponding playback (media are thrown and broadcast) group is synchronous by playback reproducer.For foregoing sound
Particular value, time and the iterations of frequency delay calibration procedure can change and will depend, at least partially, on particular implementation
Mode.
Fig. 3 be a diagram that the media playback for carrying out time synchronized to the media playback group including multiple playback reproducers
The flow chart of method 300.The method of method 300 and Fig. 4 to 9 shown in Fig. 3 can be embodied in Fig. 1 system 100 neutralize/
Or implemented using the leader device 130 and follower's device 150 (or other follower's devices) that are illustrated in Fig. 2.Moreover,
The method of implementing Fig. 3 to 9 can be carried out using the method being discussed herein, although may the flow chart of no longer reference picture 3 to 9 repeat this
The detail of a little methods.Further, it is therefore to be understood that Fig. 3 to 9 method can be embodied in with illustrating in Fig. 1 and Fig. 2
In the media playback system for configuring different configurations.
As shown in figure 3, method 300 can include：In a block 310, the first media playback devices are connected with data network,
Wherein, the first media playback devices are operatively associated with (first) media playback group.In a block 320, method 300 can wrap
Include：Second media playback devices are connected with data network, wherein, the second media playback devices operatively with media playback group phase
Association.First media playback devices and the second media playback devices are connected with data network and can included：First media playback
Device and the second media playback devices are sent over data networks declares the corresponding of its member relation in media playback group
Broadcast the message and including a pair respective queries for the other devices for the member as media playback group being connected with data network.Such as
Described herein, the first media playback devices and the second media playback devices can also be operatively related to other media playback groups
Join (for example, as leader device and/or follower's device).
In frame 330, method 300 can include：By one in the first media playback devices and the second media playback devices
Individual media playback devices are appointed as leader's playback reproducer of media playback group.In method 300, by the first media playback devices
Refer to that media playback devices for being not designated as leader's playback reproducer in the second media playback devices in method 300
It is set to follower's playback reproducer of media playback group.As described herein, the first media playback devices and the second matchmaker can be based on
Corresponding leader's relationship metric of body playback reproducer specifies leader's playback reproducer, and leader's relationship metric returned based on the first media
Put the respective attributes of the network connection (for example, network connection quality) of device and the second media playback devices.In another way,
Can specifying with pre-configured leader device and follower's device to the first media playback devices and the second media playback devices.
In frame 340, method 300 can include：Determine between leader's playback reproducer and follower's playback reproducer when
Clock is offset, wherein it is possible to use method described herein (for example, by calculating weighted average and/or linear regression based on RTT)
To determine clock skew.In frame 350, method 300 can include：Media Stream is received at leader's playback reproducer so as to by matchmaker
Body one playback group is played back.
In frame 360, method 300 can include：Media Stream is played by leader's playback reproducer.In frame 370, method
300 can include：Media Stream is supplied to follower's playback reproducer by leader's playback reproducer, this can be included in band timestamp
Packet sequence in Media Stream is supplied to follower's playback reproducer.In frame 380, method 300 can include：By with
Clock skew (and corresponding timestamp of packet), which is based on, with person's playback reproducer synchronously plays media with leader's playback reproducer
Stream.Method 300 can also include：It is all by the appropriate section of leader's playback reproducer and follower's playback reproducer buffer media stream
As described herein.
Fig. 4 be a diagram that the flow chart of the method 400 of the leader device for specifying media playback group.In embodiment
In, method 400 can be realized at the frame 330 of method 300.
As shown in figure 4, method 400 can include：In frame 410, leader's relationship degree of the first media playback devices is determined
Amount, and in frame 420, determine leader's relationship metric of the second media playback devices.In a block 430, method 400 can wrap
Include：Based on leader's relationship metric of the first media playback devices and leader's relationship metric of the second media playback devices are compared
Compared with, by a media playback devices in the first media playback devices and the second media playback devices be appointed as leader play back dress
Put.For example, the playback reproducer with higher (strong, big etc.) effective_SNR values can be appointed as leader device.
Determination in a block 430 can include：Neck is determined between the playback reproducer with equal leader's relationship metric
The person of leading, such as, by being compared the IP address of playback reproducer and relatively specifying leader device based on this.In method
In 400, in frame 410, leader's relationship metric of the first media playback devices can be based on the first media playback and data network
Network connection one or more attribute.Equally, in frame 420, leader's relationship metric of the second media playback devices can
With one or more attribute of the network connection based on the second media playback and data network.
Fig. 5 be a diagram that the clock skew between the leader device for determining media playback group and follower's device
The flow chart of method 500.In embodiments, can be by (such as before media playback and during media playback) iteratively
The operation of execution method 500 determines clock skew.(weighted average can be e.g., including calculated using method described herein
And/or linear regression) carry out implementation 500.
In frame 510, method 500 can include：Being sent from follower's playback reproducer to leader's playback reproducer includes band
The synchronization request of the packet of timestamp, the time of the clock of packet instruction follower's playback reproducer with timestamp.In frame 520
In, method 500 can include：Synchronization request from follower's playback reproducer is received by leader's playback reproducer.In frame 530
In, method 500 can include：Sync response is sent in response to synchronization request by leader's playback reproducer, the sync response bag
Include the time of the clock of leader's playback reproducer and the finger of the time of the clock of follower's playback reproducer that synchronization request includes
Show.In frame 540, method 500 can include：Synchronization request and sync response are determined based on sync response by follower's device
Two-way time (RTT) and the clock skew based on RTT.In method 500, determine that RTT can include：Based on two or more
Multiple (iteration) synchronization requests and sync response sequence are at least one in weighted moving average and linear regression to calculate.
Fig. 6 be a diagram that the method 600 for playback reproducer to be added to the media playback group that media are currently played
Flow chart, such as, the 3rd playback reproducer is added to media playback group by Fig. 3 method.For example, the follower of method 300
Playback reproducer can be first follower's playback reproducer.
In block 610, when associated methods 300 are implemented, method 600 can include：By the 3rd media playback devices and number
According to network connection, wherein, the 3rd media playback devices are operatively associated with media playback group.In frame 620, method 600 can
With including：3rd media playback devices are appointed as second follower's playback reproducer.In frame 630, method 600 can include：
The clock skew between leader's playback reproducer and second follower's playback reproducer is determined, such as using method described herein.
Method 600 may further include：In frame 640, it is supplied to the second follower to play back Media Stream by leader's playback reproducer
Device, and in frame 650, leader's playback reproducer and second follower's playback reproducer are based on by second follower's playback reproducer
Between clock skew and leader's playback reproducer synchronously play Media Stream.
Fig. 7 be a diagram that the playback reproducer of follower's playback reproducer for such as method 300 leaves media playback group
The flow chart of method 700.In block 710, method 700 can include (for example, when associated methods 300 are realized)：By follower
Playback reproducer sends follower's playback reproducer to leader's playback reproducer will leave the instruction of media playback group.In frame 720, side
Method 700 can include：In response to the instruction, stopped Media Stream being supplied to follower's device by leader's playback reproducer, and
By the membership info of leader's playback reproducer renewal media playback group to remove follower's playback reproducer.
Fig. 8 be a diagram that the flow chart of the method 800 for changing the Media Stream played back by media playback group.As
Method 600 and 700 is such, and method 800 can be realized with reference to Fig. 3 method 300, wherein, the Media Stream of method 300 is first
Media Stream.
In frame 810, method 800 can include：Received at leader's playback reproducer to by media playback group playback the
The request of two Media Streams.In response to the request to playing back the second Media Stream, method 800 can include：In frame 820, stop by
Leader's playback reproducer and follower's playback reproducer play back the first Media Stream.After the first Media Stream is stopped playback in frame 820,
Method 800 can include：In frame 830, the second Media Stream is played by leader's playback reproducer, and in the block 840, by leader
Second Media Stream is supplied to follower's playback reproducer by person's playback reproducer.In frame 850, method 800 can include：By follower
Playback reproducer is based on clock skew and synchronously plays the second Media Stream with leader's playback reproducer.
Fig. 9 be a diagram that the flow chart for the method 900 that the audio output for determining media playback devices postpones.It can make
With the method for determining audio output delay described herein come implementation 900.
In frame 910, method 900 can include：It is determined that at reference unit (for example, hand-held device, such as smart phone)
The volume of the upper sound to be played (by reference unit), wherein, determine that the audio output of playback reproducer postpones using sound.
In frame 920, method 900 can include：Sound iteratively is played using playback reproducer and reference unit, while changes each iteration
Playback delay (playback offsets).Moreover, in the block 920, for each iteration, reference unit can be recorded from playback reproducer
With the playback of the sound of reference unit.In frame 930, method 900 can include：Iteration at least twice based on playback and record
To determine incremental time (audio playback delay).In embodiments, it is same by follower's playback reproducer and leader's playback reproducer
Step ground, which plays Media Stream, to be included：The follower determined by follower's playback reproducer based on clock skew and application method 900
The output delay of playback reproducer synchronously plays Media Stream with leader's playback reproducer.
In general aspect, the system for media playback can include：Media throw broadcasting device, and the media throw broadcasting device quilt
It is configured to media stream broadcast to data network to be played back by media playback group；First media playback devices, this first
Media playback devices are configured to receive Media Stream, and first media playback devices are the members of media playback group；And second
Media playback devices, second media playback devices are configured to receive Media Stream, and second media playback devices are that media return
Put the member of group.First media playback devices and the second media playback devices can be jointly configured to the first media playback
A media playback devices in device and the second media playback devices are appointed as leader's playback reproducer of media playback group.Can
So that a media for leader's playback reproducer will be not designated as in the first media playback devices and the second media playback devices
Playback reproducer is appointed as follower's playback reproducer of media playback group.First media playback devices and the second media playback devices can
To be further jointly configured to determine the clock skew between leader's playback reproducer and follower's playback reproducer.Leader
Playback reproducer may be configured to：Receive the broadcast of the Media Stream from data network；Play Media Stream；And Media Stream is carried
Supply follower's playback reproducer.It is synchronous with leader's playback reproducer that follower's playback reproducer is configured to clock skew
Ground plays Media Stream.
Embodiment can include one or more in following characteristics.For example, the first media playback devices and second
Media playback devices can each include the respective record of the member relation in instruction media playback group.Media playback group can be
First media playback group, and the respective record of the first media playback devices can further indicate that in the second media playback group
Member relation.
The system can include the 3rd media playback devices, and the 3rd media playback devices are configured to receive Media Stream.
3rd media playback devices can be the member of media playback group.3rd media playback devices and leader's playback reproducer can be total to
The clock skew being configured to determine together between leader's playback reproducer and the 3rd playback reproducer.Leader's playback reproducer can be with
It is further configured to Media Stream being supplied to the 3rd media playback devices.3rd media playback devices are configured to
Clock skew between leader's playback reproducer and the 3rd playback reproducer synchronously plays Media Stream with leader's playback reproducer.
A media playback devices in first media playback devices and the second media playback devices are appointed as into media to return
Putting leader's playback reproducer of group can include：The survey for the quality that first media playback devices and the data of data network are connected
Measure with the second media playback devices compared with the measurement for the quality that the data of data network connect.
Each in first media playback devices and the second media playback devices may be configured to implement broadcast clothes
Business, the message of the member relation in media playback group is indicated with broadcast.Broadcast message can include to be connected to data network and
It is the inquiry of the media playback devices request response of the member of media playback group.
Media Stream is supplied to follower's playback reproducer to include by leader's playback reproducer：In the data with timestamp point
Media Stream is supplied to follower's playback reproducer in the sequence of group.
Synchronously playing Media Stream with leader's playback reproducer based on clock skew by follower's playback reproducer can include：
By output delay of follower's playback reproducer based on clock skew and follower's playback reproducer and leader's playback reproducer synchronously
Play Media Stream.Can based on the two-way time (RTT) between leader's playback reproducer and follower's playback reproducer to determine when
Clock is offset.
In another universal aspect, a kind of method can include：First media playback devices are connected with data network, the
One media playback devices are operatively associated with media playback group；And the second media playback devices are connected with data network,
Second media playback devices are operatively associated with media playback group.This method may further include：By the first media playback
A media playback devices in device and the second media playback devices are appointed as leader's playback reproducer of media playback group, its
In, a matchmaker of leader's playback reproducer can will be not designated as in the first media playback devices and the second media playback devices
Body playback reproducer is appointed as follower's playback reproducer of media playback group.This method can also include：Determine that leader plays back dress
Put the clock skew between follower's playback reproducer；Media Stream is received at leader's playback reproducer so as to by media playback group
Played back；And Media Stream is played by leader's playback reproducer.This method still may further include：Played back by leader
Media Stream is supplied to follower's playback reproducer by device, and is based on clock skew by follower's playback reproducer and is played back with leader
Device synchronously plays Media Stream.
Embodiment can include one or more in following characteristics.For example, by the first media playback devices and number
It can include according to network connection：First media playback devices send instruction the first media playback devices in media playback group into
The broadcast message of member's relation.Broadcast message can be included to being connected to data network and operatively associated with media playback group
Media playback devices request response inquiry.Media playback group can be the first media playback group, and broadcast the message can be with
Indicate member relation of first media playback devices in the second media playback group.By the second media playback devices and data network
Connection can include：Second media playback devices send member relation of the second media playback devices of instruction in media playback group
Broadcast message.
A media playback devices in first media playback devices and the second media playback devices are appointed as leader
Playback reproducer can include：Determine leader's relationship metric of the first media playback devices；Determine the neck of the second media playback devices
Lead relationship metric；And based on by the leader pass of leader relationship metric and the second media playback devices of the first media playback devices
It is that measurement is compared, by one in the first media playback devices and the second media playback devices and the second media playback devices
Media playback devices are appointed as leader's playback reproducer.Leader's relationship metric of first media playback devices can be based on the first matchmaker
Body plays back one or more attribute with the network connection of data network.Leader's relationship metric of second media playback devices can
With one or more attribute of the network connection based on the second media playback and data network.
Determine that the clock skew between leader's playback reproducer and follower's playback reproducer can include：Played back by follower
Device iteratively sends the synchronization request for including the packet with timestamp to leader's playback reproducer, and the packet with timestamp refers to
Show the time of the clock of follower's playback reproducer；Receiving the synchronization from follower's playback reproducer by leader's playback reproducer please
Ask；Sync response is sent in response to synchronization request by leader's playback reproducer, the sync response includes leader's playback reproducer
Clock time and the instruction of time of the clock of follower's playback reproducer that includes of synchronization request；And filled by follower
Put based on sync response to determine：The two-way time of synchronization request and sync response (RTT)；And the clock skew based on RRT.
Determine that RTT can include：Calculated based on two or more sync response in weighted moving average and linear regression extremely
It is few one.
It is supplied to follower's playback reproducer to include Media Stream：By matchmaker in the sequence of the packet with timestamp
Body stream is supplied to follower's playback reproducer.This method can include：Buffered by leader's playback reproducer and follower's playback reproducer
The appropriate section of Media Stream.
Follower's playback reproducer can be first follower's playback reproducer, and this method can include returning the 3rd media
Device is put to be connected with data network.3rd media playback devices can be operatively associated with media playback group.This method can be with
Including the 3rd media playback devices are appointed as into second follower's playback reproducer, and determine leader's playback reproducer and second with
With the time migration between person's playback reproducer.This method can include：Media Stream is supplied to second by leader's playback reproducer
Follower's playback reproducer, and leader's playback reproducer and second follower's playback reproducer are based on by second follower's playback reproducer
Between clock skew and leader's playback reproducer synchronously play Media Stream.
This method can include：Sending follower playback reproducer to leader's playback reproducer from follower's playback reproducer will be from
Open the instruction of media playback group.In response to the instruction, this method can include：Stop to carry Media Stream by leader's playback reproducer
Follower's device is supplied, and the membership info of media playback group is updated to remove the follower by leader's playback reproducer
Playback reproducer.
Synchronously playing Media Stream with leader's playback reproducer based on clock skew by follower's playback reproducer can include：
By output delay of follower's playback reproducer based on clock skew and follower's playback reproducer and leader's playback reproducer synchronously
Play Media Stream.
Media Stream can be the first Media Stream, and this method can include：At leader's playback reproducer receive to by
Media playback group plays back the request of the second Media Stream.In response to the request to playing back the second Media Stream, this method can include：Stop
The first Media Stream is only played back by leader's playback reproducer and follower's playback reproducer., should after the first Media Stream is stopped playback
Method can include：Second Media Stream is played by leader's playback reproducer；And clock skew is based on by follower's playback reproducer
The second Media Stream is synchronously played with leader's playback reproducer.
Figure 10 shows the general computing device 1000 and General Mobile that can be used together with technique described herein
The example of computer installation 1050.Computing device 1000 is intended to indicate that various forms of digital computers, such as, calculating on knee
Machine, desktop computer, work station, personal digital assistant, server, blade server, mainframe computer and it is other be adapted to
Computer.Computing device 1050 is intended to indicate that various forms of mobile devices, such as, personal digital assistant, cell phone, intelligence
Can phone and other similar computing devices.Part, their connection and relation shown here and their function are only
It is intended merely to be examples, and is not intended to described in limitation this document and/or requirement embodiments of the present invention.
Computing device 1000 includes：Processor 1002, memory 1004, storage device 1006, it is connected to memory 1004
With the high-speed interfaces 1008 of high-speed expansion ports 1010 and it is connected to the low-speed interface of low speed bus 1014 and storage device 1006
1012.Each part 1002,1004,1006,1008,1010 and 1012 is interconnected using various buses, and can be installed
Install in another manner on public mainboard or as needed.Processor 1002 can be to in computing device 1000
The instruction of execution is handled, including is stored in memory 1004 or on storage device 1006 with outside input/output
Device is such as coupled to the instruction for the graphical information that GUI is shown on the display 1016 of high-speed interface 1008.In other embodiment party
In formula, if desired, can be used together multiple processors and/or multiple bus with multiple memorizers with multiple memories.Together
Sample, can connect multiple computing devices 1000, and each device provides the part of necessary operation (for example, as server array, one
Group blade server or multicomputer system).
Memory 1004 is stored in the information in computing device 1000.In one embodiment, memory 1004 is one
Individual or multiple volatile memory-elements.In another embodiment, memory 1004 is that one or more is non-volatile
Memory cell.Memory 1004 can also be another form of computer-readable medium, such as, disk or CD.
Storage device 1006 can be that computing device 1000 provides high-capacity storage.In one embodiment, store
Device 1006 can be or can include computer-readable medium, such as, diskette unit, hard disk unit, optical disc apparatus or
The array of magnetic tape equipment, flash memory either other similar solid state memory devices or device, including storage area network
Device in network or other configurations.Computer program product can be tangibly embodied as information carrier.Computer program product
Instruction can also be included, the instruction performs one or more kinds of methods when executed, such as, those described above method.
Information carrier is computer-readable medium or machine readable media, such as, memory 1004, storage device 1006 or
Memory on processor 1002.
High-speed controller 1008 manage computing device 1000 bandwidth-intensive operations, and low speed controller 1012 manage compared with
Low bandwidth-intensive operations.What this function distribution was merely exemplary.In one embodiment, high-speed controller 1008
Coupled to memory 1004, display 1016 (for example, by graphics processor or accelerator) and high-speed expansion ports
1010, the high-speed expansion ports 1010 can receive various expansion card (not shown).In embodiments, low speed controller 1012
Coupled to storage device 1006 and low-speed expansion port 1014.Various COM1s can be included (for example, USB, bluetooth, ether
Net and wireless ethernet) low-speed expansion port 1014 can be for example by network adapter coupled to one or more is defeated
Enter/output device, such as, keyboard, indicator device, scanner or interconnection device such as interchanger or router.
As illustrated, computing device 1000 can be implemented using diversified forms.For example, can be real by computing device 1000
Apply as standard server 1020, or repeatedly implement in one group of this server.Computing device 1000 can also be embodied as
A part for rack-mount server 1024.In addition, computing device 1000 can be embodied in personal computer (such as, meter on knee
Calculation machine 1022) in.As an alternative, the part from computing device 1000 can be with the mobile device (not shown) of such as device 1050
In other parts combine.Each this device can include one or more in computing device 1000,1050, and whole
Individual system can be made up of the multiple computing devices 1000,1050 to communicate with one another.
Among other things, computing device 1050 also includes processor 1052, memory 1064, input/output dress
Put such as display 1054, communication interface 1066 and transceiver 1068.Device 1050 is also provided with additional for providing
The storage device of storage, such as, micro hard disk or other devices.In part 1050,1052,1064,1054,1066 and 1068
Each interconnected using various buses, and some parts may be mounted on public mainboard or as needed with other
Mode is installed.
Processor 1052 can perform the instruction in computing device 1050, including the finger being stored in memory 1064
Order.Processor can be embodied as to including the individually chipset with the chip of multiple analog- and digital- processors.Processor can
To provide the coordination for example to other parts of device 1050, the control of such as user interface, the application operated by device 1050,
With the radio communication carried out by device 1050.
Processor 1052 can by the control interface 1058 coupled to display 1054 and display interface device 1056 come with
User communicates.For example, display 1054 can be TFT LCD (Thin Film Transistor-LCD) or OLED (organic light emissions
Diode) display, or other suitable Display Techniques.Display interface 1056 can include be used for drive display 1054 to
The suitable circuit system of figure and other information is presented in user.Control interface 1058 can receive the order from user and
Order is changed to be committed to processor 1052.Furthermore it is possible to the external interface 1062 to be communicated with processor 1052 is provided,
To enable device 1050 to carry out adjacent domain communication with other devices.For example, in some embodiments, external interface
1062 can provide wire communication, or in other embodiments, can provide radio communication, and can also use multiple
Interface.
Memory 1064 is stored in the information in computing device 1050.Memory 1064 can be embodied as to one or more
Individual computer-readable medium, one or more volatile memory-elements or one or more nonvolatile memory
Unit.Extended menory 1074 can also be provided and extended menory 1074 is connected to by device by expansion interface 1072
1050, for example, the expansion interface 1072 can include SIMM (single line memory module) card interface.This extended menory 1074
Can be that device 1050 provides additional memory space, either can be with the application of storage device 1050 or other information.Specifically
Ground, extended menory 1074 can include being used for the instruction for performing or supplementing procedures described above, and can also include
Security information.Thus, for example, extended menory 1074 can be provided as to the security module of device 1050, and it can use and permit
Perhaps the instruction for using device 1050 safely is programmed to it.Furthermore it is possible to provided via SIMM cards together with additional information
Safety applications, such as, identification information is placed on SIMM cards in the way of it can not invade.
As discussed below, for example, memory can include flash memory and/or NVRAM memory.Implement in one kind
In mode, computer program product is tangibly embodied as information carrier.Computer program product includes instruction, and the instruction is being held
One or more kinds of methods are performed during row, such as, those described above method.Information carrier be computer-readable medium or
Machine readable media, such as, memory 1064, extended menory 1074 or the memory on processor 1052.For example,
The information carrier can be received by transceiver 1068 or external interface 1062.
Device 1050 can wirelessly be communicated by communication interface 1066, if desired, the communication interface 1066 can include
Digital signal processing circuit system.The communication that communication interface 1066 can be provided under various patterns or agreement, such as, GSM
Voice call, SMS, EMS or MMS message transmission, CDMA, TDMA, PDC, WCDMA, CDMA2000 or GPRS etc..Example
Such as, this communication can be occurred by RF transceiver 1068.In addition, junction service can by using such as bluetooth, WiFi,
Or other this transceiver (not shown) and occur.In addition, global positioning system (GPS) receiver module 1070 can will be attached
The wireless data relevant with navigation or position added is supplied to device 1050, if properly, the wireless data can be in device
Run on 1050 using.
Device 1050 can also audibly be communicated by using audio codec 1060, the audio codec
1060 can receive the verbal information from user and verbal information is converted into available digital information.Audio codec
1060 can also be that user generates audible sound, such as, by loudspeaker, for example, raising in the receiver of device 1050
Sound device.This sound can include the sound from voice call, can include the sound of record (for example, speech message, music
File etc.), and the sound generated by the application operated on device 1050 can also be included.
As illustrated, computing device 1050 can be implemented into many different forms.For example, can be by computing device
1050 are embodied as cell phone 1080, computing device 1050 can also be embodied as smart phone 1082, personal digital assistant or
A part for the other similar mobile devices of person.
Digital electronic circuitry, IC system, special ASIC (application specific integrated circuit), computer can be utilized hard
Part, firmware, software, and/or combinations thereof implement the various embodiments of system and technology described herein.These are various
Embodiment can include：Implement in one or more computer program, one or more computer program can be
Perform and/or explain on programmable system including at least one programmable processor, the programmable processor can be special
Or general purpose programmable processors, may be coupled to storage system, at least one input unit and at least one output device with
Receive from it data and instruct and be sent to data and instruct transmit.
These calculation procedures (also referred to as program, software, software application or code) include the machine of programmable processor
Instruction, and these can be implemented using the programming language, and/or compilation/machine language of level process and/or object-oriented
Calculation procedure.As used herein, term " machine readable media " and " computer-readable medium " refer to being used to refer in machine
Order and/or data are supplied to any computer program product, equipment, and/or the device of programmable processor (for example, disk, light
Disk, memory, programmable logic device (PLD)), including, reception is machine readable as the machine instruction of machine-readable signal
Medium.Term " machine-readable signal " is referred to for machine instruction and/or data to be supplied into any of programmable processor
Signal.
Interacted to provide with user, can implement system and technology described herein, the computer on computers
Have：For the display device to user's display information (for example, CRT (cathode-ray tube) or LCD (liquid crystal display) monitoring
Device)；And keyboard and indicator device (for example, mouse or trace ball), user can by the keyboard and the indicator device come
Provide input to computer.The devices of other species can be also used for providing and be interacted with user；For example, it is supplied to user's
Feedback can be any type of sense feedback (for example, visual feedback, audio feedback or touch feedback)；And it can use
Any form include vocal input, phonetic entry or, sense of touch receive the input from user.
System described herein and technology can be implemented in the computing system including background component (for example, as data
Server) or the computing system (for example, application server) including middleware component or the calculating including front end component
System is (for example, the subscriber computer with graphic user interface or web browser, user can pass through graphical user circle
Face or the web browser to interact with the embodiment of system described herein and technology) or including this backstage portion
In any combination of computing system of part, middleware component or front end component.Any form or the number of medium can be passed through
The part of system is connected with each other by digital data communication (for example, communication network).The example of communication network includes LAN
(" LAN "), wide area network (" WAN ") and internet.
Computer system can include client and server.Client and server is generally off-site from each other and generally logical
Communication network is crossed to interact.By the way that the meter of client-server relation is run and had each other on corresponding computer
Calculation machine program produces the relation of client and server.
Some embodiments have been described.However, it is to be understood that without departing from the spirit and scope of the present invention,
Various modifications may be made.
In addition, the logic flow described in the diagram does not need shown particular order or sequential order, to realize
Desired result.Furthermore it is possible to provide other steps or can be from the flow delete step of description, and can be by other portions
System of the part added to description or the system from description remove other parts.Therefore, other embodiment then adds any
In the range of the claims added.
Claims (25)
1. a kind of system, the system includes：
Media throw broadcasting device, and the media are thrown broadcasting device and are configured to media stream broadcast to data network so as to by media playback
Group is played back；
First media playback devices, first media playback devices are configured to receive the Media Stream, first media
Playback reproducer is the member of the media playback group；And
Second media playback devices, second media playback devices are configured to receive the Media Stream, second media
Playback reproducer is the member of the media playback group,
First media playback devices and second media playback devices are jointly configured to：
A media playback devices in first media playback devices and second media playback devices are appointed as institute
State leader's playback reproducer of media playback group, by first media playback devices and second media playback devices not
A media playback devices for being designated as leader's playback reproducer are appointed as follower's playback of the media playback group
Device；And
The clock skew between leader's playback reproducer and follower's playback reproducer is determined,
Leader's playback reproducer is configured to：
Receive the broadcast of the Media Stream from the data network；
Play the Media Stream；And
The Media Stream is supplied to follower's playback reproducer,
Follower's playback reproducer is configured to：Based on the clock skew, synchronously broadcast with leader's playback reproducer
Put the Media Stream.
2. system according to claim 1, wherein, first media playback devices and second media playback devices
It is each to include indicating the respective record of the member relation in the media playback group.
3. system according to claim 2, wherein, the media playback group is the first media playback group, first matchmaker
The respective record of body playback reproducer further indicates the member relation in the second media playback group.
4. system according to any one of the preceding claims, further comprises：3rd media playback devices, the described 3rd
Media playback devices are configured to receive the Media Stream, the 3rd media playback devices be the media playback group into
Member,
3rd media playback devices and leader's playback reproducer are jointly configured to determine leader's playback
Clock skew between device and the 3rd playback reproducer,
Leader's playback reproducer is further configured to the Media Stream being supplied to the 3rd media playback devices,
3rd media playback devices are configured to：Based between leader's playback reproducer and the 3rd playback reproducer
The clock skew, synchronously play the Media Stream with leader's playback reproducer.
5. system according to any one of the preceding claims, wherein, by first media playback devices and described
One in the two media playback devices leader's playback reproducer for being appointed as the media playback group includes：By first media
The measurement for the quality that playback reproducer is connected with the data of the data network and second media playback devices and the data
The measurement of the quality of the data connection of network is compared.
6. system according to any one of the preceding claims, wherein, first media playback devices and described second
Each in media playback devices is configured to：Implement broadcast service, the member in the media playback group is indicated with broadcast
The message of relation.
7. system according to claim 6, wherein, the message broadcasted includes inquiry, it is described inquire about it is described to being connected to
The media playback devices of data network and be the media playback group membership request response.
8. system according to any one of the preceding claims, wherein, leader's playback reproducer is by the Media Stream
It is supplied to follower's playback reproducer to include：The Media Stream is supplied to institute in the sequence of the packet with timestamp
State follower's playback reproducer.
9. system according to any one of the preceding claims, wherein, when being based on described by follower's playback reproducer
Clock skew synchronously plays the Media Stream with leader's playback reproducer to be included：Based on the clock skew and described follow
The output delay of person's playback reproducer, the matchmaker is synchronously played by follower's playback reproducer and leader's playback reproducer
Body stream.
10. system according to any one of the preceding claims, wherein, based on leader's playback reproducer with it is described with
The clock skew is determined with the two-way time (RTT) between person's playback reproducer.
11. a kind of method, methods described include：
First media playback devices are connected with data network, first media playback devices operatively with media playback group phase
Association；
Second media playback devices are connected with the data network, second media playback devices operatively with the media
One playback group is associated；
A media playback devices in first media playback devices and second media playback devices are appointed as institute
State leader's playback reproducer of media playback group, by first media playback devices and second media playback devices not
A media playback devices for being designated as leader's playback reproducer are appointed as follower's playback of the media playback group
Device；
Determine the clock skew between leader's playback reproducer and follower's playback reproducer；
Media Stream is received at leader's playback reproducer, to be played back by the media playback group；
The Media Stream is played by leader's playback reproducer；
The Media Stream is supplied to follower's playback reproducer by leader's playback reproducer；And
Based on the clock skew, the matchmaker is synchronously played by follower's playback reproducer and leader's playback reproducer
Body stream.
12. according to the method for claim 11, wherein, first media playback devices are connected with the data network
Including：First media playback devices send broadcast message, and the broadcast message indicates that first media playback devices exist
Member relation in the media playback group.
13. according to the method for claim 12, wherein, the broadcast message includes inquiry, described to inquire about to being connected to
State data network and media playback devices operatively associated with media playback group request response.
14. according to the method described in claim 12 or 13, wherein, the media playback group is the first media playback group, and
And the broadcast message further indicates member relation of first media playback devices in the second media playback group.
15. the method according to any one of claim 11 to 14, wherein, by second media playback devices with it is described
Data network connection includes：Second media playback devices send broadcast message, and the broadcast message indicates second matchmaker
Member relation of the body playback reproducer in the media playback group.
16. the method according to any one of claim 11 to 15, wherein, by first media playback devices with it is described
A media playback devices in second media playback devices, which are appointed as leader's playback reproducer, to be included：
Determine leader's relationship metric of first media playback devices；
Determine leader's relationship metric of second media playback devices；And
Leader's relationship metric and the neck of second media playback devices based on first media playback devices
The comparison of relationship metric is led, by a media playback in first media playback devices and second media playback devices
Device is appointed as leader's playback reproducer.
17. the method according to claim 11, wherein：
Leader's relationship metric of first media playback devices is based on first media playback and the data network
Network connection one or more attribute；And
Leader's relationship metric of second media playback devices is based on second media playback and the data network
Network connection one or more attribute.
18. the method according to any one of claim 11 to 17, wherein it is determined that leader's playback reproducer with it is described
Clock skew between follower's playback reproducer includes, iteratively：
Being sent from follower's playback reproducer to leader's playback reproducer includes the synchronization request of the packet with timestamp,
The packet with timestamp indicates the clock time of follower's playback reproducer；
The synchronization request from follower's playback reproducer is received by leader's playback reproducer；
In response to the synchronization request, sync response is sent by leader's playback reproducer, the sync response includes described
During the clock for follower's playback reproducer that the clock time of leader's playback reproducer and the synchronization request include
Between instruction；And
Determined by follower's device based on the sync response：
The two-way time RTT of the synchronization request and sync response；And
The clock skew based on the RTT.
19. according to the method for claim 18, wherein it is determined that the RTT includes：Synchronously rung based on two or more
Should be at least one in weighted moving average and linear regression to calculate.
20. the method according to any one of claim 11 to 19, wherein, the Media Stream is supplied to the follower
Playback reproducer includes：It is supplied to the follower to play back dress the Media Stream in the sequence of the packet with timestamp
Put.
21. the method according to any one of claim 11 to 20, further comprises：By leader's playback reproducer and
Follower's playback reproducer buffers the appropriate section of the Media Stream.
22. the method according to any one of claim 11 to 21, wherein, follower's playback reproducer is first to follow
Person's playback reproducer, methods described further comprise：
3rd media playback devices are connected with the data network, the 3rd media playback devices operatively with the media
One playback group is associated；
3rd media playback devices are appointed as second follower's playback reproducer；
Determine the clock skew between leader's playback reproducer and the second follower playback reproducer；
The Media Stream is supplied to the second follower playback reproducer by leader's playback reproducer；And
Based on the clock skew between leader's playback reproducer and the second follower playback reproducer, by described
Two follower's playback reproducers synchronously play the Media Stream with leader's playback reproducer.
23. the method according to any one of claim 11 to 21, further comprises：
To be left from follower's playback reproducer to leader's playback reproducer transmission follower's playback reproducer described
The instruction of media playback group；And
In response to the instruction：
Stopped the Media Stream being supplied to follower's device by leader's playback reproducer；And
The membership info that the media playback group is updated by leader's playback reproducer is played back with removing the follower
Device.
24. the method according to any one of claim 11 to 21, wherein, based on the clock skew by the follower
Playback reproducer synchronously plays the Media Stream with leader's playback reproducer to be included：Based on the clock skew and it is described with
Postpone with the output of person's playback reproducer, synchronously played by follower's playback reproducer and leader's playback reproducer described
Media Stream.
25. the method according to any one of claim 11 to 21, wherein, the Media Stream is the first Media Stream, described
Method further comprises：
The request to playing back the second Media Stream by the media playback group is received at leader's playback reproducer；
In response to the request to playing back second Media Stream, stop by leader's playback reproducer and the follower
Playback reproducer plays back first Media Stream；
After first Media Stream is stopped playback, second Media Stream is played by leader's playback reproducer；
Second Media Stream is supplied to follower's playback reproducer by leader's playback reproducer；And
The clock skew and follower's playback reproducer are based on by follower's playback reproducer and synchronously play described the
Two Media Streams.
Applications Claiming Priority (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US201562233972P | 2015-09-28 | 2015-09-28 | |
US62/233,972 | 2015-09-28 | ||
PCT/US2016/053350 WO2017058654A1 (en) | 2015-09-28 | 2016-09-23 | Time-synchronized, multizone media streaming |
Publications (2)
Publication Number | Publication Date |
---|---|
CN107710770A true CN107710770A (en) | 2018-02-16 |
CN107710770B CN107710770B (en) | 2021-02-09 |
Family
ID=57068234
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN201680034765.4A Active CN107710770B (en) | 2015-09-28 | 2016-09-23 | System and method for time synchronized multi-zone media streaming |
Country Status (4)
Country | Link |
---|---|
US (5) | US10334306B2 (en) |
EP (1) | EP3357252B1 (en) |
CN (1) | CN107710770B (en) |
WO (1) | WO2017058654A1 (en) |
Cited By (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN109819310A (en) * | 2019-01-25 | 2019-05-28 | 青岛海信传媒网络技术有限公司 | A kind of stream medium data playback method and device |
CN112685008A (en) * | 2020-11-30 | 2021-04-20 | 上海赫千电子科技有限公司 | Service failure control method adopting service-oriented architecture based on AUTOSAR |
CN114026640A (en) * | 2019-06-17 | 2022-02-08 | 谷歌有限责任公司 | Methods, systems, and media for providing dynamic media sessions |
Families Citing this family (77)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US8326951B1 (en) | 2004-06-05 | 2012-12-04 | Sonos, Inc. | Establishing a secure wireless network with minimum human intervention |
US9344292B2 (en) * | 2011-12-30 | 2016-05-17 | Sonos, Inc. | Systems and methods for player setup room names |
US9231545B2 (en) * | 2013-09-27 | 2016-01-05 | Sonos, Inc. | Volume enhancements in a multi-zone media playback system |
US9654545B2 (en) | 2013-09-30 | 2017-05-16 | Sonos, Inc. | Group coordinator device selection |
US9947316B2 (en) | 2016-02-22 | 2018-04-17 | Sonos, Inc. | Voice control of a media playback system |
US9965247B2 (en) | 2016-02-22 | 2018-05-08 | Sonos, Inc. | Voice controlled media playback system based on user profile |
US10509626B2 (en) | 2016-02-22 | 2019-12-17 | Sonos, Inc | Handling of loss of pairing between networked devices |
US10743101B2 (en) | 2016-02-22 | 2020-08-11 | Sonos, Inc. | Content mixing |
US10095470B2 (en) | 2016-02-22 | 2018-10-09 | Sonos, Inc. | Audio response playback |
US10264030B2 (en) | 2016-02-22 | 2019-04-16 | Sonos, Inc. | Networked microphone device control |
US9978390B2 (en) | 2016-06-09 | 2018-05-22 | Sonos, Inc. | Dynamic player selection for audio signal processing |
US10152969B2 (en) | 2016-07-15 | 2018-12-11 | Sonos, Inc. | Voice detection by multiple devices |
US10134399B2 (en) | 2016-07-15 | 2018-11-20 | Sonos, Inc. | Contextualization of voice inputs |
US10979757B2 (en) * | 2016-07-25 | 2021-04-13 | Roku, Inc. | Synchronization with synthesized audio clock |
US10115400B2 (en) | 2016-08-05 | 2018-10-30 | Sonos, Inc. | Multiple voice services |
KR20190079613A (en) * | 2016-09-14 | 2019-07-05 | 소닉센서리, 인크. | Multi-device audio streaming system with synchronization |
US9942678B1 (en) | 2016-09-27 | 2018-04-10 | Sonos, Inc. | Audio playback settings for voice interaction |
US9743204B1 (en) | 2016-09-30 | 2017-08-22 | Sonos, Inc. | Multi-orientation playback device microphones |
US10805358B2 (en) * | 2016-10-13 | 2020-10-13 | Microsoft Technology Licensing, Llc | Universal casting service |
US10181323B2 (en) | 2016-10-19 | 2019-01-15 | Sonos, Inc. | Arbitration-based voice recognition |
US10028069B1 (en) * | 2017-06-22 | 2018-07-17 | Sonos, Inc. | Immersive audio in a media playback system |
US10475449B2 (en) | 2017-08-07 | 2019-11-12 | Sonos, Inc. | Wake-word detection suppression |
US10048930B1 (en) | 2017-09-08 | 2018-08-14 | Sonos, Inc. | Dynamic computation of system response volume |
US10446165B2 (en) | 2017-09-27 | 2019-10-15 | Sonos, Inc. | Robust short-time fourier transform acoustic echo cancellation during audio playback |
US10621981B2 (en) | 2017-09-28 | 2020-04-14 | Sonos, Inc. | Tone interference cancellation |
US10482868B2 (en) | 2017-09-28 | 2019-11-19 | Sonos, Inc. | Multi-channel acoustic echo cancellation |
US10466962B2 (en) | 2017-09-29 | 2019-11-05 | Sonos, Inc. | Media playback system with voice assistance |
US10433057B2 (en) * | 2017-10-23 | 2019-10-01 | Bose Corporation | Wireless audio synchronization |
US10897489B2 (en) | 2017-12-07 | 2021-01-19 | Mcom Media Comunications Dmcc | Managing content casting |
WO2019113352A1 (en) * | 2017-12-07 | 2019-06-13 | Mcom Media Communications Dmcc | Managing content casting |
US10880650B2 (en) | 2017-12-10 | 2020-12-29 | Sonos, Inc. | Network microphone devices with automatic do not disturb actuation capabilities |
US10818290B2 (en) | 2017-12-11 | 2020-10-27 | Sonos, Inc. | Home graph |
WO2019152722A1 (en) | 2018-01-31 | 2019-08-08 | Sonos, Inc. | Device designation of playback and network microphone device arrangements |
US11175880B2 (en) | 2018-05-10 | 2021-11-16 | Sonos, Inc. | Systems and methods for voice-assisted media content selection |
US10847178B2 (en) | 2018-05-18 | 2020-11-24 | Sonos, Inc. | Linear filtering for noise-suppressed speech detection |
US10959029B2 (en) | 2018-05-25 | 2021-03-23 | Sonos, Inc. | Determining and adapting to changes in microphone performance of playback devices |
WO2020006410A1 (en) * | 2018-06-28 | 2020-01-02 | Sonos, Inc. | Systems and methods for associating playback devices with voice assistant services |
US10681460B2 (en) | 2018-06-28 | 2020-06-09 | Sonos, Inc. | Systems and methods for associating playback devices with voice assistant services |
US11558454B2 (en) * | 2018-07-31 | 2023-01-17 | Hewlett Packard Enterprise Development Lp | Group leader role queries |
US11076035B2 (en) | 2018-08-28 | 2021-07-27 | Sonos, Inc. | Do not disturb feature for audio notifications |
US10461710B1 (en) | 2018-08-28 | 2019-10-29 | Sonos, Inc. | Media playback system with maximum volume setting |
US10587430B1 (en) | 2018-09-14 | 2020-03-10 | Sonos, Inc. | Networked devices, systems, and methods for associating playback devices based on sound codes |
US11024331B2 (en) | 2018-09-21 | 2021-06-01 | Sonos, Inc. | Voice detection optimization using sound metadata |
US10811015B2 (en) | 2018-09-25 | 2020-10-20 | Sonos, Inc. | Voice detection optimization based on selected voice assistant service |
US11100923B2 (en) | 2018-09-28 | 2021-08-24 | Sonos, Inc. | Systems and methods for selective wake word detection using neural network models |
US10692518B2 (en) | 2018-09-29 | 2020-06-23 | Sonos, Inc. | Linear filtering for noise-suppressed speech detection via multiple network microphone devices |
US11416209B2 (en) | 2018-10-15 | 2022-08-16 | Sonos, Inc. | Distributed synchronization |
US11899519B2 (en) | 2018-10-23 | 2024-02-13 | Sonos, Inc. | Multiple stage network microphone device with reduced power consumption and processing load |
EP3654249A1 (en) | 2018-11-15 | 2020-05-20 | Snips | Dilated convolutions and gating for efficient keyword spotting |
US11183183B2 (en) | 2018-12-07 | 2021-11-23 | Sonos, Inc. | Systems and methods of operating media playback systems having multiple voice assistant services |
US11132989B2 (en) | 2018-12-13 | 2021-09-28 | Sonos, Inc. | Networked microphone devices, systems, and methods of localized arbitration |
US10602268B1 (en) | 2018-12-20 | 2020-03-24 | Sonos, Inc. | Optimization of network microphone devices using noise classification |
US10867604B2 (en) | 2019-02-08 | 2020-12-15 | Sonos, Inc. | Devices, systems, and methods for distributed voice processing |
US11315556B2 (en) | 2019-02-08 | 2022-04-26 | Sonos, Inc. | Devices, systems, and methods for distributed voice processing by transmitting sound data associated with a wake word to an appropriate device for identification |
US11064228B2 (en) * | 2019-04-02 | 2021-07-13 | Qualcomm Incorporated | Audio playback timing adjustment |
US11120794B2 (en) | 2019-05-03 | 2021-09-14 | Sonos, Inc. | Voice assistant persistence across multiple network microphone devices |
US10586540B1 (en) | 2019-06-12 | 2020-03-10 | Sonos, Inc. | Network microphone device with command keyword conditioning |
US11361756B2 (en) | 2019-06-12 | 2022-06-14 | Sonos, Inc. | Conditional wake word eventing based on environment |
US11200894B2 (en) | 2019-06-12 | 2021-12-14 | Sonos, Inc. | Network microphone device with command keyword eventing |
US10871943B1 (en) | 2019-07-31 | 2020-12-22 | Sonos, Inc. | Noise classification for event detection |
US11138975B2 (en) | 2019-07-31 | 2021-10-05 | Sonos, Inc. | Locally distributed keyword detection |
US11138969B2 (en) | 2019-07-31 | 2021-10-05 | Sonos, Inc. | Locally distributed keyword detection |
US11189286B2 (en) | 2019-10-22 | 2021-11-30 | Sonos, Inc. | VAS toggle based on device orientation |
US11200900B2 (en) | 2019-12-20 | 2021-12-14 | Sonos, Inc. | Offline voice control |
US11380344B2 (en) | 2019-12-23 | 2022-07-05 | Motorola Solutions, Inc. | Device and method for controlling a speaker according to priority data |
US11562740B2 (en) | 2020-01-07 | 2023-01-24 | Sonos, Inc. | Voice verification for media playback |
US11556307B2 (en) | 2020-01-31 | 2023-01-17 | Sonos, Inc. | Local voice data processing |
US11308958B2 (en) | 2020-02-07 | 2022-04-19 | Sonos, Inc. | Localized wakeword verification |
US11063738B1 (en) * | 2020-04-27 | 2021-07-13 | Equinix, Inc. | Time synchronization using a weighted regression analysis |
US11308962B2 (en) | 2020-05-20 | 2022-04-19 | Sonos, Inc. | Input detection windowing |
US11482224B2 (en) | 2020-05-20 | 2022-10-25 | Sonos, Inc. | Command keywords with input detection windowing |
US11727919B2 (en) | 2020-05-20 | 2023-08-15 | Sonos, Inc. | Memory allocation for keyword spotting engines |
US11698771B2 (en) | 2020-08-25 | 2023-07-11 | Sonos, Inc. | Vocal guidance engines for playback devices |
US11178227B1 (en) * | 2020-11-13 | 2021-11-16 | Vmware, Inc. | Efficient resynchronization for stale components of geographically distributed computing systems |
WO2022133067A1 (en) * | 2020-12-17 | 2022-06-23 | That Corporation | Audio sampling clock synchronization |
US11551700B2 (en) | 2021-01-25 | 2023-01-10 | Sonos, Inc. | Systems and methods for power-efficient keyword detection |
US11943276B2 (en) * | 2022-03-23 | 2024-03-26 | International Business Machines Corporation | Line-drawing video conferencing |
Citations (8)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20060013208A1 (en) * | 2002-11-06 | 2006-01-19 | Johannes Rietschel | Method and device for the synchronised restitution of data flows |
US20070038999A1 (en) * | 2003-07-28 | 2007-02-15 | Rincon Networks, Inc. | System and method for synchronizing operations among a plurality of independently clocked digital data processing devices |
US20100318860A1 (en) * | 2009-06-12 | 2010-12-16 | Sony Corporation | Information processing apparatus, synchronization correction method and computer program |
US20130234913A1 (en) * | 2012-03-11 | 2013-09-12 | Samsung Electronics Co., Ltd. | Method and apparatus for providing an enhanced wi-fi display session in a wi-fi display network, and system thereof |
CN103327377A (en) * | 2012-03-23 | 2013-09-25 | 索尼公司 | System, method, and infrastructure for synchronized streaming of content |
CN104052562A (en) * | 2013-03-13 | 2014-09-17 | 三星电子株式会社 | Method and apparatus for allowing playback devices to perform synchronized playback of streaming content |
US20140323036A1 (en) * | 2013-04-29 | 2014-10-30 | Motorola Mobility Llc | Systems and Methods for Syncronizing Multiple Electronic Devices |
WO2015038186A1 (en) * | 2013-09-16 | 2015-03-19 | Thomson Licensing | Auxiliary content synchronization system and method |
Family Cites Families (8)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US5087980A (en) * | 1988-01-22 | 1992-02-11 | Soundmaster International, Inc. | Synchronization of recordings |
US9207905B2 (en) * | 2003-07-28 | 2015-12-08 | Sonos, Inc. | Method and apparatus for providing synchrony group status information |
US8015306B2 (en) * | 2005-01-05 | 2011-09-06 | Control4 Corporation | Method and apparatus for synchronizing playback of streaming media in multiple output devices |
JP2010510695A (en) * | 2006-10-17 | 2010-04-02 | アベガ システムズ ピーティーワイ リミテッド | Media distribution in wireless networks |
US8457328B2 (en) * | 2008-04-22 | 2013-06-04 | Nokia Corporation | Method, apparatus and computer program product for utilizing spatial information for audio signal enhancement in a distributed network environment |
US9787523B2 (en) * | 2012-07-05 | 2017-10-10 | Eric Lazarus | Managing data in a data queue including synchronization of media on multiple devices |
US9331799B2 (en) * | 2013-10-07 | 2016-05-03 | Bose Corporation | Synchronous audio playback |
US20160191584A1 (en) * | 2014-12-30 | 2016-06-30 | Myine Electronics, Inc. | Synchronized vehicle media content sharing moderation |
-
2016
- 2016-09-23 WO PCT/US2016/053350 patent/WO2017058654A1/en active Application Filing
- 2016-09-23 CN CN201680034765.4A patent/CN107710770B/en active Active
- 2016-09-23 EP EP16775950.5A patent/EP3357252B1/en active Active
- 2016-09-23 US US15/762,903 patent/US10334306B2/en active Active
-
2019
- 2019-06-24 US US16/450,323 patent/US10587908B2/en active Active
-
2020
- 2020-03-09 US US16/812,816 patent/US11051066B2/en active Active
-
2021
- 2021-06-28 US US17/360,264 patent/US11463762B2/en active Active
-
2022
- 2022-08-19 US US17/891,284 patent/US11871067B2/en active Active
Patent Citations (8)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20060013208A1 (en) * | 2002-11-06 | 2006-01-19 | Johannes Rietschel | Method and device for the synchronised restitution of data flows |
US20070038999A1 (en) * | 2003-07-28 | 2007-02-15 | Rincon Networks, Inc. | System and method for synchronizing operations among a plurality of independently clocked digital data processing devices |
US20100318860A1 (en) * | 2009-06-12 | 2010-12-16 | Sony Corporation | Information processing apparatus, synchronization correction method and computer program |
US20130234913A1 (en) * | 2012-03-11 | 2013-09-12 | Samsung Electronics Co., Ltd. | Method and apparatus for providing an enhanced wi-fi display session in a wi-fi display network, and system thereof |
CN103327377A (en) * | 2012-03-23 | 2013-09-25 | 索尼公司 | System, method, and infrastructure for synchronized streaming of content |
CN104052562A (en) * | 2013-03-13 | 2014-09-17 | 三星电子株式会社 | Method and apparatus for allowing playback devices to perform synchronized playback of streaming content |
US20140323036A1 (en) * | 2013-04-29 | 2014-10-30 | Motorola Mobility Llc | Systems and Methods for Syncronizing Multiple Electronic Devices |
WO2015038186A1 (en) * | 2013-09-16 | 2015-03-19 | Thomson Licensing | Auxiliary content synchronization system and method |
Non-Patent Citations (1)
Title |
---|
MARIO MONTAGUD FERNANDO BORONAT,HANS STOKKING RAY VAN BRANDEBURG: ""Inter-destination multimedia synchronization:schemes,use cases and standardization"", 《MULTIMEDIA SYSTEMS》 * |
Cited By (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN109819310A (en) * | 2019-01-25 | 2019-05-28 | 青岛海信传媒网络技术有限公司 | A kind of stream medium data playback method and device |
CN109819310B (en) * | 2019-01-25 | 2021-07-27 | 青岛海信传媒网络技术有限公司 | Streaming media data playing method and device |
CN114026640A (en) * | 2019-06-17 | 2022-02-08 | 谷歌有限责任公司 | Methods, systems, and media for providing dynamic media sessions |
CN114026640B (en) * | 2019-06-17 | 2023-10-20 | 谷歌有限责任公司 | Method, system and medium for providing dynamic media sessions |
CN112685008A (en) * | 2020-11-30 | 2021-04-20 | 上海赫千电子科技有限公司 | Service failure control method adopting service-oriented architecture based on AUTOSAR |
Also Published As
Publication number | Publication date |
---|---|
US10587908B2 (en) | 2020-03-10 |
US10334306B2 (en) | 2019-06-25 |
US11871067B2 (en) | 2024-01-09 |
US20210329332A1 (en) | 2021-10-21 |
US11051066B2 (en) | 2021-06-29 |
WO2017058654A1 (en) | 2017-04-06 |
EP3357252B1 (en) | 2023-09-06 |
US20180262792A1 (en) | 2018-09-13 |
US20220408141A1 (en) | 2022-12-22 |
US11463762B2 (en) | 2022-10-04 |
CN107710770B (en) | 2021-02-09 |
EP3357252A1 (en) | 2018-08-08 |
US20190313143A1 (en) | 2019-10-10 |
US20200213658A1 (en) | 2020-07-02 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
CN107710770A (en) | The multizone media streaming of time synchronized | |
CN110291819B (en) | Wireless coordination device and method for audio playback and computer readable storage medium | |
JP6987189B2 (en) | Wireless adjustment of audio source | |
CN103828449B (en) | Be used for the method and apparatus of the time synchronized of wireless network | |
CN104813357B (en) | For the matched system and method for live media content | |
US9548869B2 (en) | Systems and methods for implementing multicasting using personal area network “pan” wireless technology | |
US10516718B2 (en) | Platform for multiple device playout | |
EP1931084B1 (en) | A method for getting the link estimating parameters | |
US9053106B2 (en) | Time monitor | |
US20150341248A1 (en) | Method for detecting network transmission status and related device | |
US9967437B1 (en) | Dynamic audio synchronization | |
JP2016503623A (en) | Common event-based multi-device media playback | |
WO2005002100A1 (en) | High accuracy network clock synchronization | |
US10901684B2 (en) | Wireless inter-room coordination of audio playback | |
US11652860B2 (en) | Synchronization of streaming content using live edge offsets | |
KR100785239B1 (en) | System for synchronization of mobile terminals, synchronization server and method using the same | |
KR20110040121A (en) | Apparatus for measuring communication quality and method for synchronizing time thereof | |
Atkinson et al. | An internet protocol (IP) sound system | |
CN108234051A (en) | A kind of two-shipper method for synchronizing time |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
PB01 | Publication | ||
PB01 | Publication | ||
SE01 | Entry into force of request for substantive examination | ||
SE01 | Entry into force of request for substantive examination | ||
GR01 | Patent grant | ||
GR01 | Patent grant |