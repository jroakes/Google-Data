DE202011110882U1 - Motion direction detection with noisy signals from inertial navigation systems in mobile devices - Google Patents
Motion direction detection with noisy signals from inertial navigation systems in mobile devices Download PDFInfo
- Publication number
- DE202011110882U1 DE202011110882U1 DE202011110882.5U DE202011110882U DE202011110882U1 DE 202011110882 U1 DE202011110882 U1 DE 202011110882U1 DE 202011110882 U DE202011110882 U DE 202011110882U DE 202011110882 U1 DE202011110882 U1 DE 202011110882U1
- Authority
- DE
- Germany
- Prior art keywords
- processor
- mobile device
- movement
- memory
- accelerometer
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Expired - Lifetime
Links
Images
Classifications
-
- G—PHYSICS
- G01—MEASURING; TESTING
- G01C—MEASURING DISTANCES, LEVELS OR BEARINGS; SURVEYING; NAVIGATION; GYROSCOPIC INSTRUMENTS; PHOTOGRAMMETRY OR VIDEOGRAMMETRY
- G01C21/00—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00
- G01C21/10—Navigation; Navigational instruments not provided for in groups G01C1/00 - G01C19/00 by using measurements of speed or acceleration
Abstract
Vorrichtung, die Folgendes umfasst: einen Speicher, der konfiguriert ist, Mobilgerätedaten zu speichern; und einen an den Speicher gekoppelten Prozessor, wobei der Prozessor konfiguriert ist: eine Vielzahl von Beschleunigungsmesswerten zu empfangen, die mit einem Mobilgerät assoziiert sind und die Beschleunigungsmesswerte im Speicher als zumindest ein Teil der Mobilgerätedaten zu speichern; eine Hochpassfilterung an den empfangenen Beschleunigungsmesswerten durchzuführen, um eine Hochfrequenzkomponente zu erhalten; eine Schüttelenergie aus der Hochfrequenzkomponente zu ermitteln; und eine primäre Bewegungsrichtung des Mobilgeräts auf Basis der ermittelten Schüttelenergie zu ermitteln.An apparatus, comprising: a memory configured to store mobile device data; and a processor coupled to the memory, the processor configured to: receive a plurality of acceleration measurements associated with a mobile device and store the acceleration measurements in memory as at least a portion of the mobile device data; perform high pass filtering on the received acceleration measurements to obtain a high frequency component; to determine a shaking energy from the high-frequency component; and determine a primary direction of movement of the mobile device based on the determined shaking energy.
Description
HINTERGRUNDBACKGROUND
Verschiedene Mobilgeräte stellen Benutzern standortbasierte Dienste (LBS) zur Verfügung. Diese beinhalten erweiterte Mobiltelefone, PDAs, Netbooks und Tablet-PCs. Die Fähigkeit, die Standorte solcher Mobilgeräte nachzuverfolgen, kann eine Anzahl an Anwendungen verbessern. Deshalb werden LBS schnell zur nächsten allgegenwärtigen Technologie für einen breiten Bereich an mobilen Anwendungen, wie Standortpositionierung, Standortnavigation, standortbezogene Suche, standortbezogener Handel und standortbezogene Werbung, nur um einige zu nennen. Aktuelle LBS-Technologien leiden jedoch unter mehreren Nachteilen. Ein Problem ist das Fehlen von Unterstützung für Positionierung und Navigation in Innenräumen. Während GPS-Signale verwendet werden können, um eine genaue Position in Freiluftbereichen bereitzustellen, ist dies üblicherweise in Räumen eines Gebäudes und Straßenschluchten nicht machbar. Auch kann GPS eine lange Zeit bis zur ersten Standortbestimmung erfordern und die Ermittlung des Standorts des Geräts verzögern. Ein weiteres Problem ist, dass der Stromverbrauch durch Mobilgeräte beim Empfangen von GPS- und WLAN-Signalen zu hoch sein kann, um eine fortlaufende Nutzung aufrechtzuerhalten.Different mobile devices provide users with location-based services (LBS). These include advanced mobile phones, PDAs, netbooks and tablet PCs. The ability to track the locations of such mobile devices can improve a number of applications. As a result, LBS is rapidly becoming the next ubiquitous technology for a wide range of mobile applications, such as location positioning, location navigation, location-based search, location-based commerce, and location-based advertising, just to name a few. However, current LBS technologies suffer from several disadvantages. One problem is the lack of support for indoor positioning and navigation. While GPS signals can be used to provide an accurate location in open air areas, this is usually not feasible in a building's premises and street canyons. Also, GPS may take a long time to first locate and delay detection of the location of the device. Another problem is that the power consumption by mobile devices when receiving GPS and WLAN signals may be too high to maintain continuous use.
Mobilgeräte wie die oben beschriebenen können ein Inertialnavigationssystem (INS) einsetzen, um bei der Erfassung des Standorts und Bewegungsrichtung des Geräts zu helfen. INS wurde in Autos, Flugzeugen und Raumfahrzeugen eingesetzt, um zu berechnen, um die Position des Fahrzeugs zu erhalten. Entwickler solcher Fahrzeuge können es sich leisten, teure, hochqualitative und gut kalibrierte INS zu verwenden, um genaue Bewegungssignale zu erhalten. Diese Technologien können fortlaufende und Echtzeit-Positionsdienste unterstützen, auch wenn das externe Positionierungssignal unterbrochen ist. Im Gegensatz werden INS-Geräte auf Basis mikroelektromechanischer Systeme (MEMS) aufgrund des Formfaktors und aus Kostengründen häufig in tragbaren Mobilgeräten verwendet. MEMS-INS-Geräte müssen klein und billig sein, da tragbare Mobilgeräte im Allgemeinen klein und billig sind.Mobile devices such as those described above may employ an inertial navigation system (INS) to assist in detecting the location and direction of movement of the device. INS was used in cars, airplanes and spacecraft to calculate to get the position of the vehicle. Developers of such vehicles can afford to use expensive, high quality and well-calibrated INS to obtain accurate motion signals. These technologies can support continuous and real-time positioning services even when the external positioning signal is lost. In contrast, INS devices based on microelectromechanical systems (MEMS) are often used in portable mobile devices due to the form factor and cost considerations. MEMS-INS devices need to be small and cheap because portable mobile devices are generally small and cheap.
MEMS-INS-Komponenten sind möglicherweise nicht so genau wie INS-Geräte, die in Luxusfahrzeugen eingesetzt werden. Ein MEMS-Kompass kann zum Beispiel systematische Messabweichungen in der Größenordnung von 20 bis 30 Grad aufweisen. MEMS-basierte Beschleunigungsmesser können unter falscher Achsausrichtung, Zufallsrauschen und Nullpunktabweichung leiden. Das Rauschen und andere Fehler, die mit MEMS-INS-Komponenten assoziiert sind, können eine Standortschätzung negativ beeinflussen. Deshalb würden viele herkömmliche Techniken, die auf genauen abgelesenen Werten beruhen, um Geschwindigkeit und Position zu berechnen, beim INS eines tragbaren Mobilgeräts wahrscheinlich fehlschlagen.MEMS-INS components may not be as accurate as INS devices used in luxury vehicles. For example, a MEMS compass may have systematic errors in the order of 20 to 30 degrees. MEMS-based accelerometers may suffer from misalignment, random noise, and zero offset. The noise and other errors associated with MEMS-INS components can adversely affect location estimation. Therefore, many conventional techniques based on accurate readings to calculate speed and position would likely fail at INS of a portable mobile device.
Unter Schutz gestellt werden und Gegenstand des Gebrauchsmusters sind, entsprechend den Vorschriften des Gebrauchsmustergesetzes, lediglich Vorrichtungen wie in den beigefügten Schutzansprüchen definiert, jedoch keine Verfahren. Soweit nachfolgend in der Beschreibung gegebenenfalls auf Verfahren Bezug genommen wird, dienen diese Bezugnahmen lediglich der beispielhaften Erläuterung der in den beigefügten Schutzansprüchen unter Schutz gestellten Vorrichtung oder Vorrichtungen.Under protection and subject to the utility model are, according to the provisions of the utility model law, only devices as defined in the appended claims, but no method. Wherever in the description, if appropriate, reference is made to methods, these references are merely illustrative of the device or devices set forth in the appended claims.
ZUSAMMENFASSUNGSUMMARY
Ein Aspekt der Offenbarung arbeitet mit verrauschten INS-Signalen niedriger Qualität, um eine zuverlässige Bewegungsrichtung durch Analysieren der Schüttelenergie eines Benutzers zu extrahieren. Die Richtung einer Bewegung eines Benutzers wird zum Beispiel aus den INS-Einheiten auf einem Mobilgerät ermittelt, wenn das Mobilgerät selbst relativ zur Bewegung des Benutzers in Bewegung ist. Insbesondere kann das Mobilgerät in Bezug auf die Bewegung des Benutzers nicht stationär sein. Das Mobilgerät muss zum Beispiel nicht durch einen Körperteil des Benutzers ruhig gehalten werden oder auf einem solchen montiert sein. Stattdessen kann das Mobilgerät selbst in Bewegung sein, z. B. in einer schwingenden Hand, in einer Handtasche oder in einer Tasche. Mit dieser Bewegung assoziierte Schüttelenergie wird verwendet, um die relative Bewegungsrichtung zu ermitteln. Nach einem Aspekt wird ein Verfahren zur Ermittlung einer Bewegungsrichtung eines Mobilgeräts bereitgestellt. Das Verfahren umfasst ein Empfangen einer Vielzahl von Beschleunigungsmesswerten, die mit dem Mobilgerät assoziiert sind; ein Durchführen einer Hochpassfilterung an den empfangenen Beschleunigungsmesswerten, um eine Hochfrequenzkomponente zu erhalten; ein Ermitteln einer Schüttelenergie aus der Hochfrequenzkomponente; und ein Ermitteln einer primären Bewegungsrichtung des Mobilgeräts auf Basis der ermittelten Schüttelenergie.One aspect of the disclosure utilizes low quality, noisy INS signals to extract a reliable direction of motion by analyzing a user's shaking energy. The direction of movement of a user is determined, for example, from the INS units on a mobile device when the mobile device itself is in motion relative to the user's movement. In particular, the mobile device may not be stationary with respect to the movement of the user. For example, the mobile device need not be kept still or mounted on a part of the user's body. Instead, the mobile device itself may be in motion, e.g. B. in a swinging hand, in a purse or in a bag. Shaking energy associated with this movement is used to determine the relative direction of movement. In one aspect, a method for determining a direction of movement of a mobile device is provided. The method includes receiving a plurality of acceleration measurements associated with the mobile device; performing high pass filtering on the received acceleration measurements to obtain a high frequency component; determining a shaking energy from the high frequency component; and determining a primary direction of movement of the mobile device based on the determined shaking energy.
In einem Beispiel umfasst das Verfahren ferner ein Durchführen von Tiefpassfiltern an der ermittelten Schüttelenergie, um geglättete Daten zu erhalten. Hier enthält das Ermitteln der primären Bewegungsrichtung ein Auswerten der geglätteten Daten, um die wahrscheinlichste Bewegungsrichtung zu identifizieren. In einem anderen Beispiel wird die Vielzahl der Beschleunigungsmesswerte unter Verwendung eines Gyroskops und eines Mehrachsenbeschleunigungsmessers generiert. In einem weiteren Beispiel umfasst das Verfahren ein Kalibrieren des Mehrachsenbeschleunigungsmessers vor Empfangen der Vielzahl von Beschleunigungsmesswerten. In einer Alternative enthält das Kalibrieren des Mehrachsenbeschleunigungsmessers ein Mitteln von Beschleunigungsmesswerten vom Mehrachsenbeschleunigungsmesser über ein ausgewähltes Zeitfenster; ein Ermitteln von Abweichungs- und Skalenfaktoren; und ein Durchführen eines Kostenfunktionsprozesses unter Verwendung der Abweichungs- und Skalenfaktoren.In one example, the method further comprises performing low pass filters on the determined shaking energy to obtain smoothed data. Here contains determining the primary direction of movement evaluating the smoothed data to identify the most likely direction of movement. In another example, the plurality of acceleration measurements are generated using a gyroscope and a multi-axis accelerometer. In another example, the method includes calibrating the multi-axis accelerometer prior to receiving the plurality of acceleration measurements. In one alternative, calibrating the multi-axis accelerometer includes averaging accelerometer readings from the multi-axis accelerometer over a selected time window; determining deviation and scale factors; and performing a cost function process using the deviation and scale factors.
In einem anderen Beispiel ist die Hochfrequenzkomponente mit Schwingenergie assoziiert, die durch Bewegung des Mobilgeräts durch einen Benutzer generiert wird. In einem weiteren Beispiel wird die Schüttelenergie nach der folgenden Gleichung ermittelt: AEnergie = Ahoch × AT hoch, wobei AEnergie ein Vektor ist, der die Schüttelenergie darstellt und Ahoch die Hochfrequenzkomponente ist. In noch einem weiteren Beispiel enthält das Ermitteln der primären Bewegungsrichtung ein Durchführen einer Signalfusion, um alternative Bewegungsrichtungen zu eliminieren. In diesem Fall kann das Durchführen der Signalfusion ein Auswerten von Funksignalen und Karteninformationen enthalten, die mit einem Standort innerhalb eines Gebäudes assoziiert sind.In another example, the high frequency component is associated with swing energy generated by movement of the mobile device by a user. In another example, the shaking energy is determined according to the following equation: A energy = A high × A T high , where A energy is a vector representing the shaking energy and A high is the high frequency component. In yet another example, determining the primary direction of motion includes performing signal fusion to eliminate alternative directions of motion. In this case, performing the signal fusion may include evaluating radio signals and map information associated with a location within a building.
Und in einem anderen Beispiel, falls das Ermitteln der primären Bewegungsrichtung eine konsistente vertikale Energie anzeigt, umfasst das Verfahren ferner ein Identifizieren, dass das Mobilgerät Stockwerke wechselt.And in another example, if determining the primary direction of motion indicates a consistent vertical energy, the method further comprises identifying that the mobile device is changing floors.
Nach einem anderen Aspekt der Offenbarung umfasst ein Gerät Speicher, der konfiguriert ist, Mobilgerätedaten zu speichern und einen Prozessor, der an den Speicher gekoppelt ist. Der Prozessor ist so konfiguriert, eine Vielzahl von Beschleunigungsmesswerten zu empfangen, die mit einem Mobilgerät assoziiert sind sowie um die Beschleunigungsmesswerte im Speicher als zumindest ein Teil der Mobilgerätedaten zu speichern; eine Hochpassfilterung an den empfangenen Beschleunigungsmesswerten durchzuführen, um eine Hochfrequenzkomponente zu erhalten; eine Schüttelenergie aus der Hochfrequenzkomponente zu ermitteln; und eine primäre Bewegungsrichtung des Mobilgeräts auf Basis der ermittelten Schüttelenergie zu ermitteln.In another aspect of the disclosure, a device includes memory configured to store mobile device data and a processor coupled to the memory. The processor is configured to receive a plurality of accelerometer readings associated with a mobile device and to store the accelerometer readings in memory as at least a portion of the mobile device data; perform high pass filtering on the received acceleration measurements to obtain a high frequency component; to determine a shaking energy from the high-frequency component; and determine a primary direction of movement of the mobile device based on the determined shaking energy.
In einem Beispiel ist der Prozessor ferner so konfiguriert, um Tiefpassfiltern an der ermittelten Schüttelenergie durchzuführen und damit geglättete Daten zu erhalten. Hier werden die geglätteten Daten im Speicher gespeichert und der Prozessor ist so konfiguriert, dass er die primäre Bewegungsrichtung durch Auswerten der geglätteten Daten ermittelt, um die wahrscheinlichste Bewegungsrichtung zu identifizieren. In einem anderen Beispiel enthält das Mobilgerät einen Mehrachsenbeschleunigungsmesser und der Prozessor ist ferner so konfiguriert, dass er den Mehrachsenbeschleunigungsmesser vor dem Empfangen der Vielzahl der Beschleunigungsmesswerte kalibriert. In diesem Fall kann der Prozessor konfiguriert werden, um den Mehrachsenbeschleunigungsmesser durch Mitteln von Beschleunigungsmesswerten von dem Mehrachsenbeschleunigungsmesser über ein ausgewähltes Zeitfenster zu kalibrieren, zur Ermittlung der Abweichungs- und Skalenfaktoren und Durchführung eines Kostenfunktionsprozesses unter Verwendung der Abweichungs- und Skalenfaktoren.In one example, the processor is further configured to perform low pass filtering on the determined shaking energy to obtain smoothed data. Here, the smoothed data is stored in memory and the processor is configured to determine the primary direction of motion by evaluating the smoothed data to identify the most likely direction of movement. In another example, the mobile device includes a multi-axis accelerometer and the processor is further configured to calibrate the multi-axis accelerometer prior to receiving the plurality of accelerometer readings. In this case, the processor may be configured to calibrate the multi-axis accelerometer by averaging acceleration measurements from the multi-axis accelerometer over a selected time window, determining the deviation and scale factors, and performing a cost function process using the deviation and scale factors.
In einem weiteren Beispiel ist der Prozessor konfiguriert, um die primäre Bewegungsrichtung bei der Durchführung einer Signalfusion zu ermitteln sowie um alternative Bewegungsrichtungen zu eliminieren. In diesem Fall kann die primäre Bewegungsrichtung verwendet werden, um einem Benutzer des Mobilgeräts eine Kartografieanwendung und/oder gerichtete Werbung bereitzustellen. In einem anderen Beispiel ist der Prozessor konfiguriert, um die Signalfusion durch Auswerten von Funksignalen und Karteninformationen durchzuführen, die mit einem Standort innerhalb eines Gebäudes assoziiert sind.In another example, the processor is configured to determine the primary direction of motion when performing signal fusion and to eliminate alternative directions of movement. In this case, the primary direction of movement may be used to provide a user of the mobile device with a mapping application and / or directed advertising. In another example, the processor is configured to perform the signal fusion by evaluating radio signals and map information associated with a location within a building.
In einer Alternative sind der Prozessor und der Speicher Teil des Mobilgeräts. In einer anderen Alternative sind mindestens entweder der Prozessor oder der Speicher Teil eines vom Mobilgerät entfernten, externen Servers. Und nach einem anderen Aspekt der Offenbarung speichert ein greifbares, nicht-transitorisches Computerprogrammprodukt computerlesbare Anweisungen eines Computerprogramms. Die Anweisungen bewirken, wenn sie von einem Prozessor ausgeführt werden, dass der Prozessor ein Verfahren des Ermittelns einer Bewegungsrichtung eines Mobilgeräts ausführt. Das Verfahren umfasst ein Empfangen einer Vielzahl von Beschleunigungsmesswerten, die mit dem Mobilgerät assoziiert sind; ein Durchführen einer Hochpassfilterung an den empfangenen Beschleunigungsmesswerten, um eine Hochfrequenzkomponente zu erhalten; ein Ermitteln einer Schüttelenergie aus der Hochfrequenzkomponente; und ein Ermitteln einer primären Bewegungsrichtung des Mobilgeräts auf Basis der ermittelten Schüttelenergie.In one alternative, the processor and memory are part of the mobile device. In another alternative, at least one of the processor and memory is part of an external server remote from the mobile device. And in another aspect of the disclosure, a tangible non-transitory computer program product stores computer readable instructions of a computer program. The instructions, when executed by a processor, cause the processor to perform a method of determining a direction of movement of a mobile device. The method includes receiving a plurality of acceleration measurements associated with the mobile device; performing high pass filtering on the received acceleration measurements to obtain a high frequency component; determining a shaking energy from the high frequency component; and determining a primary direction of movement of the mobile device based on the determined shaking energy.
KURZBESCHREIBUNG DER ZEICHNUNGEN BRIEF DESCRIPTION OF THE DRAWINGS
Die Aspekte, Merkmale und Vorteile der Offenbarung werden ersichtlich, wenn sie unter Bezugnahme auf die folgende Beschreibung von Ausführungsformen und beigefügten Figuren betrachtet wird. Die folgende Beschreibung schränkt die vorliegende Offenbarung nicht ein; sondern der Umfang der Offenbarung wird durch die angehängten Ansprüche und Äquivalente definiert.The aspects, features and advantages of the disclosure will become apparent when considered with reference to the following description of embodiments and attached figures. The following description does not limit the present disclosure; but the scope of the disclosure is defined by the appended claims and equivalents.
AUSFÜHRLICHE BESCHREIBUNGDETAILED DESCRIPTION
Ein Aspekt der Offenbarung betrifft eine Signalfusionsarchitektur zur Positionierung und Navigation in Innenräumen. Das System kann eine oder mehrere Signalquellen einsetzen, die einen Standort eines sich bewegenden Objekts als eine externe Referenz oder Randbedingung kalibrieren kann. Solche Signalquellen können zum Beispiel GPS, WLAN oder Standortinformationen eines Geräts in der Nähe sein, die über ein Punkt-zu-Punkt-Protokoll übertragen werden. Die Randbedingung kann Karten- und räumliche Anordnungsinformationen enthalten. Das INS kann bewegungserkennende Vorrichtungen wie Beschleunigungsmesser, Gyroskope und magnetische Sensoren enthalten, ist jedoch nicht darauf beschränkt. Informationen von der bzw den Signal quelle(n) und dem INS können verschmolzen werden, um eine genaue Standortpositionierung durchzuführen, sowohl in Innenräumen als auch im Freien und dies in einer energiesparenden Weise tun.One aspect of the disclosure relates to a signal fusion architecture for indoor positioning and navigation. The system may employ one or more signal sources that may calibrate a location of a moving object as an external reference or constraint. Such signal sources may be, for example, GPS, WLAN or location information of a nearby device transmitted via a point-to-point protocol. The constraint may include map and spatial arrangement information. The INS may include, but is not limited to, motion-sensing devices such as accelerometers, gyroscopes and magnetic sensors. Information from the signal source (s) and the INS can be merged to perform accurate location positioning, both indoors and outdoors, and in an energy efficient manner.
Herkömmliche billige interne Navigationssysteme sind berüchtigt dafür, dass sie Fehler aufgrund von Falschausrichtung, Nullpunktabweichung und Integrationsdrift erzeugen. Ein leicht ungenauer Messwert der linearen Beschleunigung (Beschleunigungsmesser) und Winkelgeschwindigkeit (Gyroskope) kann in (zeitlich) zunehmende große Fehler in der Geschwindigkeit integriert werden, die in größere Fehler in der Position verstärkt werden. Die Bewegung eines Fußgängers ist eine noch größere Herausforderung. Im Gegensatz zu einem Flugzeug, Automobil oder anderem Fahrzeug ist eine Fußgängerbewegung im Allgemeinen „nicht glatt”. Ein Mobilgerät kann zum Beispiel von unterschiedlichen Personen zu unterschiedlichen Zeiten und auf unterschiedliche Weisen getragen werden. Es ist so gut wie unmöglich, echte Signale von Störsignalen zu unterscheiden.Conventional cheap internal navigation systems are notorious for producing errors due to misalignment, zero offset, and integration drift. A slightly inaccurate reading of linear acceleration (accelerometer) and angular velocity (gyroscopes) can be incorporated into (time-increasing) large errors in speed, which are amplified into larger errors in position. The movement of a pedestrian is even more challenging. In contrast to an airplane, automobile or other vehicle, a pedestrian movement is generally "not smooth". For example, a mobile device may be worn by different people at different times and in different ways. It is almost impossible to distinguish true signals from interfering signals.
Um Störsignale zu minimieren, setzt ein Aspekt nicht intrusive Kalibrierschemata ein. In einem Fall kann ein Prozess verwendet werden, der hier als ein „Vibrationsenergiemodell” (VEM) bezeichnet wird, um eine Bewegungsrichtung eines Fußgängers auf Basis des Gleichverteilungssatzes zu ermitteln. Der Gleichverteilungssatz besagt, dass Energie gleichermaßen unter allen Freiheitsgraden aufgeteilt ist. Der Kalibrierprozess stellt eine Basis bereit, um genaue Sensormessungen zu erhalten, um eine produktive multimodale Signalfusion durchzuführen, um eine Standortpositionierung durchzuführen. In einem Szenario können Partikel-Filter für den Fusionsalgorithmus verwendet werden. Die Kalibrierung macht die Messwerte jedes INS genauer. Das Vibrationsenergiemodell verwendet die vom INS gesammelten Signale, um die Bewegungsrichtung im „Energie”-Bereich zu berechnen, um vergrößerte Fehler zu reduzieren und damit sicherzustellen, dass ein Fehler, egal ob klein oder groß, kalibriert oder nicht kalibriert, nicht zu stark vergrößert wird. Fusion kombiniert die Ergebnisse vom INS mit externen Signalen, um die Standortvorhersagegenauigkeit und Effizienz weiter zu verbessern.To minimize spurious signals, one aspect does not employ intrusive calibration schemes. In one case, a process, referred to herein as a "vibration energy model" (VEM), may be used to determine a direction of travel of a pedestrian based on the DC distribution set. The equal distribution theorem states that energy is equally divided among all degrees of freedom. The calibration process provides a basis for obtaining accurate sensor measurements to perform productive multimodal signal fusion to perform site positioning. In a scenario, particle filters can be used for the fusion algorithm. The calibration makes the readings of each INS more accurate. The vibration energy model uses the signals collected by the INS to compute the direction of motion in the "energy" region to reduce magnified errors, thus ensuring that an error, whether small or large, calibrated or uncalibrated, is not oversized , Fusion combines the INS results with external signals to further improve location prediction accuracy and efficiency.
Der Speicher
Die Anweisungen
Die Daten
Nach einem Aspekt können die Daten
Auch wenn
Der Server
Jeder Client-Computer
Obwohl die Clientgeräte
Der Server
Wie in
Clientgerät
Dabei versteht sich, dass die hier beschriebene Versorgung eines Clientgeräts mit Orientierungsdaten dem Clientgerät automatisch bereitgestellt werden kann. Alternativ oder zusätzlich können solche Orientierungsdaten oder andere Daten von den internen Sensoren
Die von den internen Sensoren
Die internen Sensoren
Daten
Die Daten
Die Verwendung von INS-Geräten, um eine Person zu lokalisieren, kann grob in zwei Kategorien klassifiziert werden, je nachdem, wie die INS-Einheiten platziert sind. Eine implementiert einen Fußgänger-Ortsbestimmungs-Prototyp für Innenräume unter Verwendung einer am Fuß befestigten Inertialeinheit. Eine andere nimmt an, dass eine INS-Einheit an der Taille getragen wird. Beide Schemata stellen sicher, dass die Bewegungsmuster ihrer INS-Einheiten vorhergesagt werden können. Im am Fuß befestigten Fall, wenn ein Fuß den Boden berührt, empfängt die INS-Einheit ein klares Signal, einen Schritt zu starten und diese Rücksetzung erfolgt periodisch. Im an der Taille getragenen Fall wird erwartet, dass sich die INS-Einheit stetig bewegt. INS-Einheiten, die in einem Mobiltelefon eingebettet sind, können diese Vorteile jedoch nicht genießen. Ein Mobiltelefon kann an der Taille getragen werden, in einer Handtasche platziert werden, in eine Tasche gesteckt werden oder in einer Hand geschwungen werden.The use of INS devices to locate a person can roughly be classified into two categories, depending on how the INS units are placed. One implements an indoor pedestrian locator prototype using a foot-mounted inertial unit. Another assumes that an INS unit is worn at the waist. Both schemes ensure that the motion patterns of their INS units can be predicted. In the foot-mounted case, when a foot touches the ground, the INS unit receives a clear signal to start a step and this reset occurs periodically. In the case worn at the waist, the INS unit is expected to move steadily. However, INS units embedded in a mobile phone can not enjoy these benefits. A mobile phone can be worn at the waist, placed in a handbag, tucked into a bag, or swung in a hand.
Ein telefoninterner Schrittmesser kann einen Beschleunigungsmesser verwenden. Obwohl die geschätzten Schritte nicht sehr zuverlässig sein können, kann er eine gute Schätzung der Wegdistanz aber ohne Orientierungsinformationen bereitstellen. Ein Kompass kann verwendet werden, um die Orientierung des Benutzers abzuschätzen; ein zuverlässiger Messwert erfordert jedoch, dass der Benutzer das Telefon auf eine solche Weise hält, dass die Orientierung des Telefons immer mit dem des Benutzers übereinstimmt. Auch können Kompasse an Mobiltelefonen sehr ungenau sein, z. B. aufgrund von schwerwiegender Deduktion von den anderen Elektronikeinheiten des Mobiltelefons.An in-phone pedometer can use an accelerometer. Although the estimated steps may not be very reliable, it can provide a good estimate of the travel distance but without orientation information. A compass can be used to estimate the orientation of the user; however, a reliable reading requires that the user hold the phone in such a way that the orientation of the phone always matches that of the user. Also Compasses on mobile phones can be very inaccurate, eg. B. due to serious deduction of the other electronic units of the mobile phone.
Bestimmte Techniken können verwendet werden, um diese Probleme zu behandeln, können jedoch nur funktionieren, wenn sich die Orientierung des Telefons nicht zu häufig ändert. Diese bestehenden Verfahren, die INS nutzen, können eine effektive Strategie zur Bekämpfung der zunehmenden Fehler bereitstellen, die durch verschiedene INS-Störsignale eingeführt werden.Certain techniques may be used to address these issues, but may only work if the orientation of the phone does not change too often. These existing methods using INS can provide an effective strategy to combat the increasing errors introduced by various INS interfering signals.
Eine hochwertige Sensorkalibrierung erfordert oft eine teure mechanische Plattform, durch die Orientierung und Drehzahl präzise gesteuert werden können. Die Sensorausgaben werden dann mit externen Kalibrierwerten verglichen, die mit bekannten Parametern der mechanischen Plattform berechnet werden. Diese Art von teurem und intrusivem Ansatz ist nicht zum Kalibrieren von INS-Einheiten in Mobiltelefonen oder anderen tragbaren Benutzervorrichtungen geeignet. Um eine INS-Kalibrierung für Mobiltelefone anzusprechen, wurde eine billige Ausrüstung wie optische Nachverfolgungsgeräte vorgeschlagen. Es ist jedoch nicht durchführbar, den Käufer eines Mobiltelefons oder einer anderen tragbaren Vorrichtung zu bitten, auch eine solche Kalibrierstation zu kaufen oder zu einem Laden zu reisen, um periodisch seine Vorrichtung zu kalibrieren. Im Gegensatz dazu stellt ein Aspekt der vorliegenden Offenbarung eine Kalibrierung bereit, die effektiv mit minimalem, vom Benutzer des tragbaren Mobilgeräts erforderlichem Aufwand durchgeführt werden kann.High-quality sensor calibration often requires an expensive mechanical platform to precisely control orientation and speed. The sensor outputs are then compared with external calibration values calculated using known parameters of the mechanical platform. This type of expensive and intrusive approach is not suitable for calibrating INS units in mobile phones or other portable user devices. In order to address an INS calibration for mobile phones, cheap equipment such as optical tracking devices has been proposed. However, it is not feasible to ask the purchaser of a mobile phone or other portable device to also purchase such a calibration station or travel to a store to periodically calibrate his device. In contrast, one aspect of the present disclosure provides a calibration that can be effectively performed with minimal effort required by the user of the portable mobile device.
Da die MEMS-Inertialsensoren, die im Inneren von Mobiltelefonen eingebettet sind, ein starkes Grundrauschen aufweisen, ist es wichtig, sie zu kalibrieren, bevor sie für eine genaue Ortsbestimmung verwendet werden. Es gibt zwei Gelegenheiten, bei denen die Inertialeinheiten in einem Mobiltelefon kalibriert werden können: beim Hersteller und zu Hause. Der Kalibrierprozess beim Hersteller kann sich auf externe, teure Geräte stützen. Sobald jedoch ein Benutzer ein Mobiltelefon oder ein anderes portables Gerät gekauft hat, ist der Kalibrierprozess zu Hause wünschenswerterweise ein einmaliger, nicht intrusiver und sollte sich nicht auf externe Vorrichtungen wie einen Drehteller stützen.Since the MEMS inertial sensors embedded inside mobile phones have a strong background noise, it is important to calibrate them before they are used for accurate location determination. There are two occasions when the inertial units can be calibrated in a mobile phone: at the manufacturer's and at home. The manufacturer's calibration process can rely on external, expensive equipment. However, once a user has purchased a mobile phone or other portable device, the home-based calibration process is desirably a unique, non-intrusive, and should not rely on external devices such as a turntable.
Eine Vorrichtung, die häufig in mobilen Clientgeräten gefunden wird, ist ein Beschleunigungsmesser. Wie mit anderen Komponenten, die zur Inertialnavigation verwendet werden, kann der Beschleunigungsmesser eine Kalibrierung erfordern, da er unter einem starken Grundrauschen leiden kann. Ein einfaches Experiment wurde durchgeführt, um dabei zu helfen, das Grundrauschen zu analysieren und zu partitionieren, mit dem Ziel, es zu modellieren. Insbesondere wurden zwei Smartphones nebeneinander platziert, zuerst auf einem Tisch liegend und danach an einer Wand stehend. Die empfindlichste Achse eines 3-Achsen-Beschleunigungsmessers ist die, die einer Parallelität mit der Anziehungskraft der Schwerkraft am nächsten sind. Die vorgenannten zwei Platzierungen erlauben eine Isolierung der Achse, von der gewünscht wird, dass sie die empfindlichste ist. Sie fordern jedoch nicht, dass die Smartphones oder eine Achse der Beschleunigungsmesser präzise parallel oder senkrecht zur Horizontalen sind/ist.A device that is commonly found in mobile client devices is an accelerometer. As with other components used for inertial navigation, the accelerometer may require calibration because it may suffer from a strong background noise. A simple experiment was performed to help analyze and partition the noise floor with the aim of modeling it. In particular, two smartphones were placed next to each other, first lying on a table and then standing on a wall. The most sensitive axis of a 3-axis accelerometer is the one closest to parallelism with gravity's gravitational pull. The aforementioned two placements allow isolation of the axle that is desired to be the most sensitive. However, they do not require the smartphones or an accelerometer axis to be precisely parallel or perpendicular to the horizontal.
In jeder Platzierung des Experiments blieb das Smartphone mindestens 30 Sekunden lang stationär. Die Größe der während dieser Zeit gemessenen Beschleunigung wird in
Eine wichtige Eigenschaft, die zur Beschleunigungskalibrierung verwendet wird, ist, dass die Größe der Beschleunigung, die gemessen wird, während die Telefone oder anderen Vorrichtungen stationär sind, gleich der der Schwerkraft sein muss. Intuitiv, falls ein Beschleunigungsmesser keinen Fehler einführt, sollte die in einer stationären Position gemessene Beschleunigung (als ein Tripel repräsentiert) eine Kugel bilden, die einen Radius mit der Größe der Beschleunigung der Schwerkraft aufweist. Die Abweichungen und Skalenfaktoren dehnen die Kugel in eine schlecht geformte Ellipse und die zufälligen Fehler stören die Ellipse. Ein Ziel des Beschleunigungsmesser-Kalibrierprozesses ist es, die Parameter im Fehlermodell zu ermitteln, um die Ellipse zurück in die gewünschte Kugel zu transformieren.An important feature used for acceleration calibration is that the magnitude of the acceleration measured while the phones or other devices are stationary must be equal to that of gravity. Intuitively, if an accelerometer introduces no error, the acceleration measured in a stationary position (represented as a triple) should form a sphere having a radius of magnitude of acceleration of gravity. The deviations and scale factors stretch the sphere into a poorly shaped ellipse and the random errors disturb the ellipse. One goal of the accelerometer calibration process is to determine the parameters in the error model to transform the ellipse back into the desired sphere.
Da der zufällige Fehler V kein konstanter Wert ist und er von Zeitpunkt zu Zeitpunkt abweicht, involviert ein effizientes Verfahren zum Eliminieren der Zufälligkeit ein Mitteln der Messwerte des Beschleunigungsmessers während eines ausgewählten Zeitfensters. Die Allan-Varianz kann eingesetzt werden, um zu ermitteln, wie lang das Zeitfenster sein sollte. Die Allan-Varianz wurde zuerst von David Allan vorgeschlagen, um Oszillatorinstabilität im Zeitbereich zu messen und sie ist auch ein effizientes Verfahren zum Darstellen von Zufallsrauschen als eine Funktion der Durchschnittszeit. Hier bedeutet Durchschnittszeit die Zeitspanne, während der Proben zusammen gemittelt werden. Die Allan-Varianz kann durch die folgende Gleichung dargestellt werden: Since the random error V is not a constant value and it deviates from time to time, an efficient method of eliminating randomness involves averaging the measurements of the accelerometer during a selected time window. The Allan variance can be used to determine how long the window should be. The Allan variance was first proposed by David Allan to measure oscillator instability in the time domain, and it is also an efficient method of representing random noise as a function of average time. Here, average time means the time span during which samples are averaged together. The Allan variance can be represented by the following equation:
In einem Test wurden stationäre Beschleunigungsmesssignale 160 Minuten lang gesammelt. Die Durchschnittszeit T variierte von 1 Sekunde (N = 9599) bis zu 400 Sekunden (N = 23).
Eine längere Durchschnittszeit als 6 Sekunden würde wahrscheinlich die Allan-Varianz etwas reduzieren; für Kalibrierungen vor Ort wird jedoch gewünscht, dass die Kalibrierzeit so kurz wie möglich ist. Deshalb können ungefähr 6 Sekunden (z. B. plus oder minus 2 Sekunden, mindestens 3 Sekunden oder weniger als 10 Sekunden) als ein angemessener Wert gewählt werden. Dieser Entfernungsschritt für Zufallsrauschen steht im Gegensatz zu einem, der zufällig ein Einsekundenintervall als die Länge des Mittelungs-Zeitfensters wählt. Die gemessene Allan-Varianz zeigt an, dass der Durchschnitt der Signale des Beschleunigungsmessers, die nur eine Sekunde umfassen, jeweils von einer Sekunde zur nächsten verschieden ist.A longer average time than 6 seconds would probably reduce the Allan variance somewhat; however, for on-site calibrations, it is desired that the calibration time be as short as possible. Therefore, about 6 seconds (eg, plus or minus 2 seconds, at least 3 seconds or less than 10 seconds) may be selected as an appropriate value. This random noise removal step contrasts with one that randomly selects a one second interval as the length of the averaging time window. The measured Allan variance indicates that the average of the accelerometer signals, which span only one second, is different from one second to the next.
Nachdem das Zufallsrauschen durch Mitteln der Messwerte des Beschleunigungsmessers, die mindestens 6 Sekunden umspannen, ist der nächste Schritt der Kalibrierung, Abweichungen und Skalenfaktoren zu ermitteln, nämlich die folgenden sechs Parameter: Sx, Sy, Sz, bx, by und bz. Da es sechs Parameter gibt, ist es klug, ausreichend Daten aufzuweisen, um ein überbestimmtes System zu erzeugen. In einem Test wurden zwei Schachteln eingesetzt, um dabei zu helfen, das Telefon in verschiedenen Lagen zu fixieren, um stabile Beschleunigungsmessungen zu erhalten. Die zwei Schachteln wurden auf eine flache Oberfläche gestellt, wobei ein wenig Platz zwischen ihnen gelassen wurde. Dann wurde ein Telefon gegen die Fläche einer Schachtel platziert und die andere Schachtel wurde verwendet, um das Telefon daran zu hindern, zu gleiten. Die zwei Schachteln halten das Telefon mindestens 6 Sekunden lang in einer stationären Position. Das durchschnittliche Signal des 3-Achsen-Beschleunigungsmessers, das 6 Sekunden umspannt, bildet einen Kalibrierdatensatz. Danach wurde die Lage des Telefons entweder durch Drehen des Telefons oder Vergrößern/Verkleinern des Raums zwischen den zwei Schachteln geändert. Mit n Sätzen hat die Kalibrierung (Sx, Sy, Sz, bx, by, bz) zu unter Verwendung einer Kostenfunktion 5 nach Folgendem zu berechnen: After the random noise by averaging the accelerometer readings spanning at least 6 seconds, the next step of calibration, deviations, and scale factors is to be determined, namely, the following six parameters: Sx, Sy, Sz, bx, by, and bz It is wise to have enough data to create an overdetermined system. In one test, two boxes were used to help fix the phone in different positions for stable acceleration measurements. The two boxes were placed on a flat surface with a little space left between them. Then one phone was placed against the surface of a box and the other box was used to prevent the phone from sliding. The two boxes hold the phone in a stationary position for at least 6 seconds. The average signal of the 3-axis accelerometer spanning 6 seconds forms one Calibration data. Thereafter, the location of the phone was changed either by rotating the phone or increasing / decreasing the space between the two boxes. Using n sets, calculate the calibration (Sx, Sy, Sz, bx, by, bz) using a
Der Kostenfunktions-Prozess, Kostenfunktion f(S, b), kann unter Verwendung einer Kombination des Nelder-Mead-Verfahrens und des Gradientenverfahrens minimiert werden. In einem Beispiel wurde das Gradientenverfahren aufgenommen, da das Nelder-Mead-Verfahren manchmal das globale Minimum verfehlt, wenn es mit verschiedenen Werten initialisiert wird. Das Ergebnis des Nelder-Mead-Verfahrens wurde als der anfängliche Startwert für das Gradientenverfahren verwendet. Das Ergebnis des Gradientenverfahrens wurde verwendet, um die nächste Runde von Nelder-Mead mit Startwerten vorzubelegen. Nach mehreren Iterationen ist das Minimierungsverfahren abgeschlossen.The cost function process, cost function f (S, b), can be minimized using a combination of the Nelder-Mead method and the gradient method. In one example, the gradient method was included because the Nelder-Mead method sometimes misses the global minimum when initialized with different values. The result of the Nelder-Mead method was used as the initial starting value for the gradient method. The result of the gradient method was used to pre-seed the next round of Nelder-Mead. After several iterations, the minimization procedure is completed.
Nach einem Aspekt kann man nach der Kalibrierung des bzw. der Beschleunigungsmesser des Mobilgeräts beginnen, einen Fußgänger über Inertialnavigation nachzuverfolgen. Die Fußgängernachverfolgung involviert ein Nachverfolgen der Richtung der Bewegung des Fußgängers und ein Nachverfolgen der Distanz des Fußgängers von einem bestimmten Punkt. Dazu wird wünschenswerterweise ein Satz von Zwei-Tupeln in Form von (Richtung, Distanz) gepflegt. Diese Daten können zum Beispiel in einem zeitindizierten Protokoll
Wenn Menschen gehen, schwingen sie sehr selten ihre Arme senkrecht zur Richtung, in die sie gehen. Ein Fußgänger bzw. eine Fußgängerin, der bzw. die in eine südliche bis nördliche Richtung geht, kann zum Beispiel seine bzw. ihre Arme parallel zur Richtung schwingend aufweisen, in der er bzw. sie geht, anstatt entlang der östlichen oder westlichen Richtungen. Wenn ein Fußgänger bzw. eine Fußgängerin etwas wie ein Mobiltelefon oder einen PDA hält und aufhört, seine bzw. ihre Arme zu schwingen, kann er bzw. sie seinen bzw. ihren Körper parallel zur Richtung schwingen, in der er bzw. sie geht, um das Gleichgewicht zu halten. Als ein extremer Fall, auch wenn ein Fußgänger bzw. eine Fußgängerin kreuzweise wie eine Krabbe gehen will, tendiert er bzw. sie dazu, seinen bzw. ihren Körper wie die Krabbe zu schwingen, insbesondere auf eine parallele Weise zur Gehorientierung. Dieses Phänomen kann theoretisch erklärt werden, als ob ein Fußgänger bzw. eine Fußgängerin Energie speichert, während er bzw. sie die Arme schwingt. Das Schwingen wird als eine Energiespeicherung angesehen. Nach dem Gleichverteilungssatz verbrauchen/speichern Fußgänger abwechselnd Energie zwischen dem Gehen/Schwingen. Deshalb kann die Richtung eines schwingenden Arms auch als die des Fußgängers verstanden werden. En Aspekt der Offenbarung verwendet die Signale von Schwingungsenergie, Schüttelenergie oder einer anderen Vibration, hier gesammelt als „kinetische Vibrationsenergie” oder „Vibrationsenergie” bezeichnet, als ein Hinweis auf die Richtung der Benutzerbewegung.When people walk, they very rarely swing their arms perpendicular to the direction they are going. For example, a pedestrian walking in a south to north direction may swing his or her arms parallel to the direction in which he or she walks rather than along the eastern or western directions. When a pedestrian is holding something like a mobile phone or a PDA and stops swinging his or her arms, he or she can swing his or her body parallel to the direction in which he or she walks to keep the balance. As an extreme case, even if a pedestrian crosses like a crab, he or she tends to swing his or her body like the crab, especially in a parallel way to walking orientation. This phenomenon can theoretically be explained as if a pedestrian is storing energy while he / she is swinging his arms. The swing is considered as an energy storage. After the equal distribution set, pedestrians alternately consume / store energy between walking / swinging. Therefore, the direction of a swinging arm can also be understood as that of the pedestrian. The aspect of the disclosure uses the signals of vibrational energy, shaking energy or other vibration, collectively referred to herein as "kinetic vibrational energy" or "vibrational energy", as an indication of the direction of user movement.
Ein konzeptionelles Diagramm
Der Prozess beginnt mit einem Ermitteln der Beschleunigungen in einem absoluten Bezugsrahmen (als der Vektor Aa = (Aax, Aay, Aaz)T bezeichnet), um die Richtung der Bewegung des Fußgängers, nämlich den Winkel zwischen der Bewegungsrichtung und einer gegebenen Orientierung wie Süden abzuleiten. Die Beschleunigungen können unter Verwendung eines Gyroskops und eines 3-Achsen-Beschleunigungsmessers ermittelt werden. In diesem Beispiel für den absoluten Bezugsrahmen ist die X-Achse horizontal und zeigt nach Süden, die Y-Achse ist vertikal und zeigt nach Osten und die Z-Achse zeigt zum Boden. Der Beschleunigungsmesser im Inneren des Mobiltelefons oder der anderen portablen Vorrichtung stellt die Beschleunigung im Bezugssystem der Vorrichtung bereit, in dem zum Beispiel alle Achsen in Relation zur Vorderfläche des Bildschirms stehen.The process begins by determining the accelerations in an absolute frame of reference (referred to as the vector A a = (A ax , A ay , A az ) T ) to indicate the direction of movement of the pedestrian, viz to derive the angle between the direction of movement and a given orientation, such as south. The accelerations can be determined using a gyroscope and a 3-axis accelerometer. In this absolute frame example, the x-axis is horizontal and pointing south, the y-axis is vertical and pointing east, and the z-axis points to the bottom. The accelerometer inside the mobile phone or other portable device provides the acceleration in the frame of reference of the device in which, for example, all the axes are related to the front surface of the screen.
Ein magnetischer Feldsensor, der das umgebende Magnetfeld misst und die vom Beschleunigungsmesser gemessene Beschleunigung der Schwerkraft können beide verwendet werden, um eine anfängliche Drehmatrix zu ermitteln, die das Bezugssystem des Mobilgeräts in das absolute Bezugssystem umwandelt. Während eines Nachverfolgungsvorgangs werden Gyroskopmessungen angenommen, um die Drehmatrix zu aktualisieren. Die Richtung der Bewegung des Fußgängers wird in einer Ausführungsform folgendermaßen ermittelt.
Nach Gleichung 4 wird Vektor Aa einem Hochpassfilter (HPF) zugeführt, um die Hochfrequenzkomponente Ahoch zu erhalten, die die Schwingbewegung speichert. Die Informationen entlang der z-Achse des absoluten Bezugsrahmens können verworfen werden, da sich das System darauf konzentriert, die Richtung des Fußgängers zu ermitteln, die entlang einer 2-dimensionalen Ebene (z. B. XY) ist.
Laut dieser Gleichung ist AEnergie eine symmetrische 2×2-Matrix, die als
Hier wird ein linearer Tiefpassfilter verwendet, um die Niederfrequenzkomponente von AEnergie für Glättungszwecke zu extrahieren. ANiedrigenergie bleibt symmetrisch, da der Tiefpassfilter linear ist und die Elemente von ANiedrigenergie können deshalb folgendermaßen dargestellt werden: Here, a linear low pass filter is used to extract the low frequency component of A energy for smoothing purposes. A low energy remains symmetrical because the low pass filter is linear and the elements of A low energy can therefore be represented as follows:
Die Projektion von ANiedrigenergie auf die Bewegungsrichtung ist die größte unter allen Richtungen. Anders ausgedrückt, das α, das f(α) = LPF((acosα + bsinα)2) maximiert, ist der Winkel der Bewegungsrichtung des Fußgängers. Unter Verwendung, dass
Tatsächlich minimieren zwei der α f(α), was geprüft werden kann, indem diese Werte von α zurück in f(α) substituiert werden. Die verbleibenden zwei α-Werte stellen die möglichen Bewegungsrichtungen dar, da das System möglicherweise nur die Richtung des Schwingens erfassen kann. Diese Schwingrichtung ist parallel zur Gehrichtung, kann dieser jedoch entgegengesetzt sein. Signalfusion kann unter Verwendung von sowohl WLAN-Signalen als auch Karteninformationen eingesetzt werden, um die Bewegungsrichtung zu ermitteln. Die mit der obigen Verarbeitung assoziierten Informationen können zum Beispiel im zeitindizierten Protokoll
Während Fußgänger auf ebenem Boden gehen, zeigen die gemessenen Beschleunigungen klare Rhythmen, wie in
Da das Gehen von Fußgängern eine zyklische Bewegung ist, die aus Fersenaufschlag und Abheben der Zehen besteht, zeigt jede Platzierung des Beschleunigungsmessers einen Rhythmus. Die Rhythmen weisen jedoch abhängig davon, wo sich das Clientgerät befindet, verschiedene Darstellungen auf. Wenn der Fußgänger bzw. die Fußgängerin zum Beispiel das Telefon in seiner bzw. ihrer Hand hält, während seine bzw. ihre Arme zur Balance schwingen (
Ein Spitzenglättungsalgorithmus kann verwendet werden, um jeden Schritt zu erfassen, egal wie der Fußgänger das Telefon hält. Es können zum Beispiel jede der N Proben der rohen Beschleunigungsmesswerte zuerst unter Verwendung von Gleichung 1 oben kalibriert werden. Abgesehen vom Eliminieren der Abweichungen und Skalenfaktorfehler sowie einer Reduktion des zufälligen Fehlers integriert die Kalibrierung auch zwei enge Spitzen in nur eine Spitze und deshalb wird die Kalibrierung „glatt” genannt. Die geglätteten Beschleunigungen bilden dann eine Sequenz (mit asi bezeichnet) und werden an den Spitzenerfassungsalgorithmus gesendet. Wenn asi größer als asi-1 und asi+1 ist, dann wird asi als eine Spitze angesehen und wird als ein einzelner Schritt markiert. In einem Experiment stellte N = 5 geeignete Ergebnisse bereit, da fast keine nützlichen Spitzen geglättet wurden, während die zwei Spitzen, die durch Zehen-Fersen-Bewegung verursacht wurden, als eine integriert wurden. Obwohl das Spitzenglättungsverfahren eine Verzögerung durch Mitteln nur nach Nehmen von N Proben einführt, machen N = 5 und eine 30-Hz-Abtastrate diese Verzögerung rund 16 Sekunden, was akzeptabel ist.
Das Erfassen von Bewegung von einem Stockwerk zum nächsten kann von einer Vorhersage von Positionen in einem gegebenen, festen Stockwerk getrennt werden. Um zum Beispiel eine Stockwerkänderung zu erfassen, wird der Vibrationsenergiemodellprozess verwendet, um eine Bewegung eines Benutzers zwischen Stockwerken nachzuverfolgen. Wenn der Vibrationsenergiemodellprozess eine konsistente vertikale Energie erfasst, kann dies interpretiert werden, dass der Benutzer das Stockwerk wechselt (z. B. Stockwerke in einem Gebäude), wie zum Beispiel durch Bewegen auf einer Treppe, einer Rolltreppe oder einem Aufzug. Sobald der Benutzer das gewünschte Stockwerk erreicht hat, was angezeigt werden kann, wenn vertikale Energie für eine empirisch gewählte Zeit T nachgelassen hat, dann kann die Stockwerkänderung als abgeschlossen angesehen werden. Ein Orientierungspunkt auf diesem Stockwerk kann eine Bestätigung bereitstellen.Detecting movement from one floor to the next can be separated from a prediction of positions in a given fixed floor. For example, to detect a floor change, the vibration energy model process is used to track a user's movement between floors. When the vibrational energy model process detects consistent vertical energy, it can be interpreted that the user is changing floors (e.g., floors in a building), such as by moving on a staircase, an escalator or an elevator. Once the user has reached the desired floor, which can be displayed if vertical energy has decreased for an empirically selected time T, then the floor change may be considered complete. A landmark on this floor can provide a confirmation.
Um Standorte in einem bestimmten Stockwerk nachzuverfolgen, kann ein Partikelfilterprozess als der Fusionsalgorithmus eingesetzt werden. Partikelfilter werden üblicherweise verwendet, um Bayessche Modelle abzuschätzen, in denen latente Variablen in einer Markov-Kette verbunden sind, wobei der Zustandsraum der latenten Variablen fortlaufend (anstatt diskret) ist und nicht ausreichend eingeschränkt ist, um exakte Folgerungen lenkbar zu machen. Unter der Markov-Annahme werden spätere Ereignisse durch vorangehende beeinflusst, was einem Bayesschen Filter ermöglicht, den Zustand eines dynamischen Systems im Zeitverlauf nachzuverfolgen.To track locations on a particular floor, a particulate filter process can be used as the fusion algorithm. Particulate filters are commonly used to estimate Bayesian models in which latent variables are linked in a Markov chain, where the state space of the latent variables is continuous (rather than discrete) and is not sufficiently constrained to direct exact implications. Under the Markov assumption, later events are affected by previous ones, allowing a Bayesian filter to track the state of a dynamic system over time.
Partikelfilter sind jedoch als rechenintensiv bekannt, da der Zustandsraum von latenten Variablen wächst, was in einer sehr großen Anzahl von Partikeln resultiert. Um das Rahmenwerk rechnerisch auf Mobilgeräten wie Handys möglich zu machen, werden Grundrisse und WLAN-Orientierungspunkte wünschenswerterweise als Randbedingungen eingesetzt, um die Anzahl der Partikel einzuschränken. In einem Ortsbestimmungs-Rahmenwerk weist ein Partikel einen Zustand St zu einem Zustand t auf, wobei:
Hier sind (xt, yt) und St die horizontale Position bzw. die Ausrichtungsrichtung des Benutzers und Orientierungspunktt ist eine besondere Polygonfläche, in der man starke Indikatoren von der Karte, WLAN und den INS-Einheiten erhalten kann und die der angenommene Standort des Benutzers ist. Es ist zu beachten, dass Orientierungspunktt null sein kann, wenn sich der Benutzer nicht in der Nähe irgendeines der Orientierungspunkte befindet. Da eine Ermittlung in Bezug darauf, in welchem Stockwerk sich der Benutzer befindet, getrennt unter Verwendung des Vibrationsenergiemodellprozesses durchgeführt wird, ist es nicht notwendig, die Höhenlage in der Zustandsvariable St zu speichern. Die Eingabe in den Partikelfilter enthält wünschenswerterweise den Grundriss, die Messwerte von INS-Quellen, WLAN-Signalmesswerte und eine WLAN-Signal-Heatmap von einer Inspektion des Standorts. Die Ausgabe ist ein siegreiches Partikel, St, das dem Innenstandort eines Benutzers entspricht.Here, (x t , y t ) and S t are the horizontal position and the orientation direction of the user, respectively, and landmark t is a particular polygonal area in which strong indicators of the map, WLAN, and INS units can be obtained and those assumed Location of the user. It should be noted that landmark t may be zero if the user is not near any of the landmarks. Since a determination as to which floor the user is in is performed separately using the vibration energy model process, it is not necessary to store the altitude in the state variable S t . The input to the particulate filter desirably includes the floor plan, the measurements of INS sources, WLAN signal measurements, and a WLAN signal heatmap from an inspection of the site. The output is a winning particle, S t , which corresponds to the indoor location of a user.
Die Ortsbestimmung von Fußgängern mit einem kalibrierten Inertialnavigationssystem zielt auf ein Generieren der aktuellen Position des Fußgängers ab. Das System kann sowohl die Richtigkeit der INS-Nachverfolgung als auch die Wirksamkeit der Partikelfilter bewerten. Ein Satz von Experimenten wurde mit verschiedenen Routinen und verschiedenen Platzierungen des Mobiltelefons verwendet, um ein kalibriertes Inertialnavigationssystem wie oben besprochen zu bewerten. In einem Beispiel werden zwei Sätze von verschiedenen Routinen in den Experimenten verwendet, nämlich ein 5 m × 14,5 m Rechteck, um das der Fußgänger im Uhrzeigersinn und gegen den Uhrzeigersinn geht (als „Recht-Uhrzeigersinn” bzw. „Recht-gegen-Uhrzeigersinn” bezeichnet). In einem Szenario wird das Mobiltelefon (oder die andere Vorrichtung) in drei verschiedenen Platzierungen positioniert, nämlich eine statische Hand, eine schwingende Hand und die Vordertasche der Hose des Trägers. Hier stellt die statische Hand stellt ein Szenario dar, in der ein Fußgänger versucht, den Anzeigebildschirm des Mobilgeräts während des Gehens anzusehen. In einem Test wurden zwei Personen, eine weiblich und eine männlich, gebeten, insgesamt an 12 Sätzen von experimentellen Daten teilzunehmen, die die zwei verschiedenen Routinen mit drei verschiedenen Platzierungen der Mobiltelefone umfassten.The location of pedestrians with a calibrated inertial navigation system is aimed at generating the current position of the pedestrian. The system can evaluate both the correctness of the INS tracking and the effectiveness of the particulate filters. A set of experiments was used with different routines and different cellphone placements to evaluate a calibrated inertial navigation system as discussed above. In one example, two sets of different routines are used in the experiments, namely a 5m x 14.5m rectangle, around which the pedestrian goes clockwise and anticlockwise (as "right-hand" and "right-opposite", respectively). Clockwise "). In one scenario, the mobile phone (or other device) is positioned in three different placements, namely a static hand, a swinging hand, and the front pocket of the device Pants of the wearer. Here, the static hand represents a scenario in which a pedestrian attempts to view the display screen of the mobile device while walking. In a test, two people, one female and one male, were asked to participate in a total of 12 sets of experimental data that included the two different routines with three different cell phone placements.
Die Spur wird mit den vom kalibrierten Inertialnavigationssystem mit einer Rate von 1 Hz generierten Positionen grafisch dargestellt, wobei die Ergebnisse in
In der Innenraumumgebung kann das System hauptsächlich auf WLAN-Signalen beruhen, wobei es das bzw. die Inertialnavigationssystem(e) verwendet, um die Lücke zwischen beliebigen zwei aufeinanderfolgenden WLAN-Signalen zu schließen. Deshalb kann das System die Intervalle zwischen einer Aktivierung einer internen GPS-Vorrichtung verlängern. Wenn sich das Intervall des aktivierten GPS verlängert, verringert sich der Energieverbrauch des Mobilgeräts. Gleichermaßen verringert auch die Verlängerung des Intervalls, mit dem WLAN aktiviert wird, um den Standort des Mobilgeräts zu ermitteln, den Energieverbrauch des Systems. In einem Szenario können die INS-Komponenten immer mit dem Ziel eingeschaltet sein, den Bildschirm automatisch zu drehen und deshalb fügt der Einsatz des INS keinen zusätzlichen Energieverbrauch hinzu. Darum kann das System den Energieverbrauch einsparen, indem es den Verlass auf GPS und WLAN-Signale reduziert.In the indoor environment, the system may rely primarily on WLAN signals, using the inertial navigation system (s) to close the gap between any two consecutive WLAN signals. Therefore, the system can extend the intervals between activation of an internal GPS device. As the interval of the activated GPS increases, the power consumption of the mobile device decreases. Likewise, extending the interval at which Wi-Fi is enabled to determine the location of the mobile device reduces the system's power consumption. In a scenario, the INS components may always be turned on with the goal of automatically rotating the screen, and therefore inserting the INS does not add any additional energy consumption. That's why the system can save energy by reducing reliance on GPS and Wi-Fi signals.
Da diese und andere Variationen und Kombinationen der oben besprochenen Merkmale verwendet werden können, ohne von dem in den Ansprüchen definierten Gegenstand abzuweichen, ist die vorstehende Beschreibung der Ausführungsformen nur als Veranschaulichung und nicht als Einschränkung des in den Ansprüchen definierten Gegenstands anzusehen. Es ist auch klar, dass die Angabe der hierin offenbarten Beispiele (sowie Formulierungen wie „wie”, „zum Beispiel”, „einschließlich” und dergleichen) nicht als Einschränkung des beanspruchten Gegenstands auf die spezifischen Beispiele auszulegen ist; vielmehr sollen die Beispiele nur eine von vielen möglichen Ausführungsformen veranschaulichen. Ferner können die gleichen Bezugsziffern in verschiedenen Zeichnungen die gleichen oder ähnliche Elemente identifizieren.As these and other variations and combinations of the features discussed above may be used without departing from the subject-matter as defined in the claims, the foregoing description of the embodiments is to be considered as illustrative only and not as a limitation on the subject matter defined in the claims. It is also to be understood that the disclosure of the examples disclosed herein (as well as formulations such as "such," "for example," "including," and the like) should not be construed as limiting the claimed subject matter to the specific examples; rather, the examples are intended to illustrate only one of many possible embodiments. Furthermore, the same reference numerals in different drawings may identify the same or similar elements.
INDUSTRIELLE ANWENDBARKEITINDUSTRIAL APPLICABILITY
Die vorliegende Erfindung genießt breite industrielle Anwendbarkeit, darunter, aber ohne Einschränkung, Einsatz und Betrieb von Mobilgeräten.The present invention enjoys wide industrial applicability including, but not limited to, deployment and operation of mobile devices.
ZITATE ENTHALTEN IN DER BESCHREIBUNG QUOTES INCLUDE IN THE DESCRIPTION
Diese Liste der vom Anmelder aufgeführten Dokumente wurde automatisiert erzeugt und ist ausschließlich zur besseren Information des Lesers aufgenommen. Die Liste ist nicht Bestandteil der deutschen Patent- bzw. Gebrauchsmusteranmeldung. Das DPMA übernimmt keinerlei Haftung für etwaige Fehler oder Auslassungen.This list of the documents listed by the applicant has been generated automatically and is included solely for the better information of the reader. The list is not part of the German patent or utility model application. The DPMA assumes no liability for any errors or omissions.
Zitierte Nicht-PatentliteraturCited non-patent literature
- Constandache et al., „Towards Mobile Phone Localization Without War-Driving”, Proceedings of INFOCOM 2010, S. 1–9 [0070] Constandache et al., "Towards Mobile Phone Localization Without War-Driving", Proceedings of Infocom 2010, pp. 1-9 [0070]
Claims (10)
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
DE202011110882.5U DE202011110882U1 (en) | 2011-08-04 | 2011-08-04 | Motion direction detection with noisy signals from inertial navigation systems in mobile devices |
Applications Claiming Priority (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
DE202011110882.5U DE202011110882U1 (en) | 2011-08-04 | 2011-08-04 | Motion direction detection with noisy signals from inertial navigation systems in mobile devices |
Publications (1)
Publication Number | Publication Date |
---|---|
DE202011110882U1 true DE202011110882U1 (en) | 2017-01-19 |
Family
ID=58010471
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
DE202011110882.5U Expired - Lifetime DE202011110882U1 (en) | 2011-08-04 | 2011-08-04 | Motion direction detection with noisy signals from inertial navigation systems in mobile devices |
Country Status (1)
Country | Link |
---|---|
DE (1) | DE202011110882U1 (en) |
-
2011
- 2011-08-04 DE DE202011110882.5U patent/DE202011110882U1/en not_active Expired - Lifetime
Non-Patent Citations (1)
Title |
---|
Constandache et al., „Towards Mobile Phone Localization Without War-Driving", Proceedings of INFOCOM 2010, S. 1–9 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
CN104969030B (en) | Inertial device, methods and procedures | |
EP2740256B1 (en) | Moving direction determination with noisy signals from inertial navigation systems on mobile devices | |
Aggarwal | MEMS-based integrated navigation | |
Del Rosario et al. | Quaternion-based complementary filter for attitude determination of a smartphone | |
Tian et al. | Pedestrian dead reckoning for MARG navigation using a smartphone | |
US9544740B2 (en) | Method, apparatus and computer program product for orienting a smartphone display and estimating direction of travel of a pedestrian | |
DE112009001766T5 (en) | Systems for the acquisition and analysis of location and route generation data | |
DE102011001738A1 (en) | Method and device for calibrating a magnetic sensor | |
CN106133553A (en) | For the method determining with the error degree of the spatial discrimination of GNSS location | |
DE102012011632A1 (en) | Motion- and attitude-sensing system for use in e.g. cellular telephone, for sensing attitude of rigid object in space, has three-axis magnetic compass to provide signals associated with change in attitude of electronic device | |
Hasan et al. | Smart phone based sensor fusion by using Madgwick filter for 3D indoor navigation | |
Hafner et al. | Evaluation of smartphone-based indoor positioning using different Bayes filters | |
KR20150129285A (en) | Information determination in a portable electronic device carried by a user | |
Gonzalez et al. | Model validation of an open-source framework for post-processing INS/GNSS systems | |
CN110319840A (en) | Conjugate gradient attitude algorithm method towards abnormal gait identification | |
Brzostowski | Toward the unaided estimation of human walking speed based on sparse modeling | |
US10466054B2 (en) | Method and system for estimating relative angle between headings | |
Pan et al. | Real-time accurate odometer velocity estimation aided by accelerometers | |
Tian et al. | Pedestrian navigation system using MEMS sensors for heading drift and altitude error correction | |
DE102018008402A1 (en) | METHOD AND SYSTEM FOR DETERMINING A MOTION DIRECTION OF AN OBJECT | |
US10914793B2 (en) | Method and system for magnetometer calibration | |
CN109084765B (en) | Indoor walking positioning method and device for pedestrian and storage medium | |
DE102018008403A1 (en) | METHOD AND SYSTEM FOR FOLLOWING AND DETERMINING A POSITION OF AN OBJECT | |
Sivers et al. | Wi-Fi based indoor positioning system using inertial measurements | |
DE202011110882U1 (en) | Motion direction detection with noisy signals from inertial navigation systems in mobile devices |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
R150 | Utility model maintained after payment of first maintenance fee after three years | ||
R207 | Utility model specification | ||
R151 | Utility model maintained after payment of second maintenance fee after six years | ||
R081 | Change of applicant/patentee |
Owner name: GOOGLE LLC (N.D.GES.D. STAATES DELAWARE), MOUN, USFree format text: FORMER OWNER: GOOGLE INC., MOUNTAIN VIEW, CALIF., US |
|
R082 | Change of representative |
Representative=s name: BETTEN & RESCH PATENT- UND RECHTSANWAELTE PART, DE |
|
R081 | Change of applicant/patentee |
Owner name: GOOGLE LLC (N.D.GES.D. STAATES DELAWARE), MOUN, USFree format text: FORMER OWNER: GOOGLE LLC (N.D.GES.D. STAATES DELAWARE), MOUNTAIN VIEW, CALIF., US |
|
R082 | Change of representative |
Representative=s name: BETTEN & RESCH PATENT- UND RECHTSANWAELTE PART, DE |
|
R152 | Utility model maintained after payment of third maintenance fee after eight years | ||
R071 | Expiry of right |