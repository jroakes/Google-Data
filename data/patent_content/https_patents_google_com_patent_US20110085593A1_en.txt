US20110085593A1 - Macroblock Level Adaptive Frame/Field Coding for Digital Video Content - Google Patents
Macroblock Level Adaptive Frame/Field Coding for Digital Video Content Download PDFInfo
- Publication number
- US20110085593A1 US20110085593A1 US12/907,656 US90765610A US2011085593A1 US 20110085593 A1 US20110085593 A1 US 20110085593A1 US 90765610 A US90765610 A US 90765610A US 2011085593 A1 US2011085593 A1 US 2011085593A1
- Authority
- US
- United States
- Prior art keywords
- block
- picture
- field
- mode
- macroblock
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Abandoned
Links
Images
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/102—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the element, parameter or selection affected or controlled by the adaptive coding
- H04N19/103—Selection of coding mode or of prediction mode
- H04N19/105—Selection of the reference unit for prediction within a chosen coding or prediction mode, e.g. adaptive choice of position and number of pixels used for prediction
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/102—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the element, parameter or selection affected or controlled by the adaptive coding
- H04N19/103—Selection of coding mode or of prediction mode
- H04N19/112—Selection of coding mode or of prediction mode according to a given display mode, e.g. for interlaced or progressive display mode
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/10—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding
- H04N19/134—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using adaptive coding characterised by the element, parameter or criterion affecting or controlling the adaptive coding
- H04N19/136—Incoming video signal characteristics or properties
- H04N19/137—Motion inside a coding unit, e.g. average field, frame or block difference
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04N—PICTORIAL COMMUNICATION, e.g. TELEVISION
- H04N19/00—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals
- H04N19/50—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using predictive coding
- H04N19/503—Methods or arrangements for coding, decoding, compressing or decompressing digital video signals using predictive coding involving temporal prediction
- H04N19/51—Motion estimation or motion compensation
- H04N19/573—Motion compensation with multiple frame prediction using two or more reference frames in a given prediction direction
Definitions
- the present invention relates to encoding and decoding of digital video content. More specifically, the present invention relates to frame mode and field mode encoding of digital video content at a macroblock level as used in the MPEG-4 Part 10 AVC/H.264 standard video coding standard.
- Video compression is used in many current and emerging products. It is at the heart of digital television set-top boxes (STBs), digital satellite systems (DSSs), high definition television (HDTV) decoders, digital versatile disk (DVD) players, video conferencing, Internet video and multimedia content, and other digital video applications. Without video compression, digital video content can be extremely large, making it difficult or even impossible for the digital video content to be efficiently stored, transmitted, or viewed.
- STBs digital television set-top boxes
- DSSs digital satellite systems
- HDMI high definition television
- DVD digital versatile disk
- video conferencing video conferencing
- Internet video and multimedia content and other digital video applications.
- video compression digital video content can be extremely large, making it difficult or even impossible for the digital video content to be efficiently stored, transmitted, or viewed.
- the digital video content comprises a stream of pictures that can be displayed as an image on a television receiver, computer monitor, or some other electronic device capable of displaying digital video content.
- a picture that is displayed in time before a particular picture is in the “backward direction” in relation to the particular picture.
- a picture that is displayed in time after a particular picture is in the “forward direction” in relation to the particular picture.
- Video compression is accomplished in a video encoding, or coding, process in which each picture is encoded as either a frame or as two fields.
- Each frame comprises a number of lines of spatial information.
- a typical frame contains 480 horizontal lines.
- Each field contains half the number of lines in the frame.
- the frame comprises 480 horizontal lines
- each field comprises 240 horizontal lines.
- one of the fields comprises the odd numbered lines in the frame and the other field comprises the even numbered lines in the frame.
- the field that comprises the odd numbered lines will be referred to as the “top” field hereafter and in the appended claims, unless otherwise specifically denoted.
- the field that comprises the even numbered lines will be referred to as the “bottom” field hereafter and in the appended claims, unless otherwise specifically denoted.
- the two fields can be interlaced together to form an interlaced frame.
- video coding The general idea behind video coding is to remove data from the digital video content that is “non-essential.” The decreased amount of data then requires less bandwidth for broadcast or transmission. After the compressed video data has been transmitted, it must be decoded, or decompressed. In this process, the transmitted video data is processed to generate approximation data that is substituted into the video data to replace the “non-essential” data that was removed in the coding process.
- Video coding transforms the digital video content into a compressed form that can be stored using less space and transmitted using less bandwidth than uncompressed digital video content. It does so by taking advantage of temporal and spatial redundancies in the pictures of the video content.
- the digital video content can be stored in a storage medium such as a hard drive, DVD, or some other non-volatile storage unit.
- video coding standards have been developed to standardize the various video coding methods so that the compressed digital video content is rendered in formats that a majority of video encoders and decoders can recognize.
- MPEG Motion Picture Experts Group
- ITU-T International Telecommunication Union
- Temporal prediction with motion compensation is used to remove temporal redundancy between successive pictures in a digital video broadcast.
- the temporal prediction with motion compensation algorithm typically utilizes one or two reference pictures to encode a particular picture.
- a reference picture is a picture that has already been encoded.
- the temporal prediction with motion compensation algorithm can take advantage of the temporal redundancy that exists between the reference picture and the particular picture that is to be encoded and encode the picture with a higher amount of compression than if the picture were encoded without using the temporal prediction with motion compensation algorithm.
- One of the reference pictures may be in the backward direction in relation to the particular picture that is to be encoded.
- the other reference picture is in the forward direction in relation to the particular picture that is to be encoded.
- the present invention provides a method of encoding, decoding, and bitstream generation of digital video content.
- the digital video content comprises a stream of pictures which can each be intra, predicted, or bi-predicted pictures.
- Each of the pictures comprises macroblocks that can be further divided into smaller blocks.
- the method entails encoding and decoding each of the macroblocks in each picture in said stream of pictures in either frame mode or in field mode.
- FIG. 1 illustrates an exemplary sequence of three types of pictures that can be used to implement the present invention, as defined by an exemplary video coding standard such as the MPEG-4 Part 10 AVC/H.264 standard.
- FIG. 2 shows that each picture is preferably divided into slices containing macroblocks according to an embodiment of the present invention.
- FIG. 3 a shows that a macroblock can be further divided into a block size of 16 by 8 pixels according to an embodiment of the present invention.
- FIG. 3 b shows that a macroblock can be further divided into a block size of 8 by 16 pixels according to an embodiment of the present invention.
- FIG. 3 c shows that a macroblock can be further divided into a block size of 8 by 8 pixels according to an embodiment of the present invention.
- FIG. 3 d shows that a macroblock can be further divided into a block size of 8 by 4 pixels according to an embodiment of the present invention.
- FIG. 3 e shows that a macroblock can be further divided into a block size of 4 by 8 pixels according to an embodiment of the present invention.
- FIG. 3 f shows that a macroblock can be further divided into a block size of 4 by 4 pixels according to an embodiment of the present invention.
- FIG. 4 shows a picture construction example using temporal prediction with motion compensation that illustrates an embodiment of the present invention.
- FIG. 5 shows that a macroblock is split into a top field and a bottom field if it is to be encoded in field mode.
- FIG. 6 a shows that a macroblock that is encoded in field mode can be divided into a block with a size of 16 by 8 pixels according to an embodiment of the present invention.
- FIG. 6 b shows that a macroblock that is encoded in field mode can be divided into a block with a size of 8 by 8 pixels according to an embodiment of the present invention.
- FIG. 6 c shows that a macroblock that is encoded in field mode can be divided into a block with a size of 4 by 8 pixels according to an embodiment of the present invention.
- FIG. 6 d shows that a macroblock that is encoded in field mode can be divided into a block with a size of 4 by 4 pixels according to an embodiment of the present invention.
- FIG. 7 illustrates an exemplary pair of macroblocks that can be used in AFF coding on a pair of macroblocks according to an embodiment of the present invention.
- FIG. 8 shows that a pair of macroblocks that is to be encoded in field mode is first split into one top field 16 by 16 pixel block and one bottom field 16 by 16 pixel block.
- FIG. 9 shows two possible scanning paths in AFF coding of pairs of macroblocks.
- FIG. 10 illustrates another embodiment of the present invention which extends the concept of AFF coding on a pair of macroblocks to AFF coding to a group of four or more neighboring macroblocks.
- FIG. 11 shows some of the information included in the bitstream which contains information pertinent to each macroblock within a stream.
- FIG. 13 shows an alternate definition of neighboring blocks if the scanning path is a vertical scanning path.
- FIG. 14 shows that each pixel value is predicted from neighboring blocks' pixel values according to an embodiment of the present invention.
- FIG. 15 shows different prediction directions for intra — 4 ⁇ 4 coding.
- FIGS. 16 a - b illustrate that the chosen intra-prediction mode (intra_pred_mode) of a 4 by 4 pixel block is highly correlated with the prediction modes of adjacent blocks.
- FIGS. 17 a - d show neighboring blocks definitions in relation to a current macroblock pair that is to be encoded.
- the encoder determines which type of coding, frame mode coding or field mode coding, is more advantageous for each picture and chooses that type of encoding for the picture.
- the exact method of choosing between frame mode and field mode is not critical to the present invention and will not be detailed herein.
- the MPEG-4 Part 10 AVC/H.264 standard is a new standard for encoding and compressing digital video content.
- the documents establishing the MPEG-4 Part 10 AVC/H.264 standard are hereby incorporated by reference, including “Joint Final Committee Draft (JFCD) of Joint Video Specification” issued by the Joint Video Team (JVT) on Aug. 10, 2002. (ITU-T Rec. H.264 & ISO/IEC 14496-10 AVC).
- JVT Joint Final Committee Draft
- the JVT consists of experts from ISO or MPEG and ITU-T. Due to the public nature of the MPEG-4 Part 10 AVC/H.264 standard, the present specification will not attempt to document all the existing aspects of MPEG-4 Part 10 AVC/H.264 video coding, relying instead on the incorporated specifications of the standard.
- FIG. 1 illustrates an exemplary sequence of three types of pictures that can be used to implement the present invention, as defined by an exemplary video coding standard such as the MPEG-4 Part 10 AVC/H.264 standard.
- the encoder encodes the pictures and the decoder decodes the pictures.
- the encoder or decoder can be a processor, application specific integrated circuit (ASIC), field programmable gate array (FPGA), coder/decoder (CODEC), digital signal processor (DSP), or some other electronic device that is capable of encoding the stream of pictures.
- ASIC application specific integrated circuit
- FPGA field programmable gate array
- CDEC coder/decoder
- DSP digital signal processor
- the term “encoder” will be used to refer expansively to all electronic devices that encode digital video content comprising a stream of pictures.
- the term “decoder” will be used to refer expansively to all electronic devices that decode digital video content comprising a stream of pictures.
- FIG. 1 there are preferably three types of pictures that can be used in the video coding method.
- Three types of pictures are defined to support random access to stored digital video content while exploring the maximum redundancy reduction using temporal prediction with motion compensation.
- the three types of pictures are intra (I) pictures ( 100 ), predicted (P) pictures ( 102 a,b ), and bi-predicted (B) pictures ( 101 a - d ).
- An I picture ( 100 ) provides an access point for random access to stored digital video content and can be encoded only with slight compression.
- Intra pictures ( 100 ) are encoded without referring to reference pictures.
- a bi-predicted picture ( 101 a - d ) is encoded using two temporal reference pictures: a forward reference picture and a backward reference picture.
- the forward reference picture is sometimes called a past reference picture and the backward reference picture is sometimes called a future reference picture.
- An embodiment of the present invention is that the forward reference picture and backward reference picture can be in the same temporal direction in relation to the B picture that is being encoded.
- Bi-predicted pictures ( 101 a - d ) can be encoded with the most compression out of the three picture types.
- FIG. 1 Reference relationships ( 103 ) between the three picture types are illustrated in FIG. 1 .
- the P picture ( 102 a ) can be encoded using the encoded I picture ( 100 ) as its reference picture.
- the B pictures ( 101 a - d ) can be encoded using the encoded I picture ( 100 ) or the encoded P picture ( 102 a ) as its reference pictures, as shown in FIG. 1 .
- encoded B pictures ( 101 a - d ) can also be used as reference pictures for other B pictures that are to be encoded.
- the B picture ( 101 c ) of FIG. 1 is shown with two other B pictures ( 101 b and 101 d ) as its reference pictures.
- the number and particular order of the I ( 100 ), B ( 101 a - d ), and P ( 102 a,b ) pictures shown in FIG. 1 are given as an exemplary configuration of pictures, but are not necessary to implement the present invention. Any number of I, B, and P pictures can be used in any order to best serve a particular application.
- the MPEG-4 Part 10 AVC/H.264 standard does not impose any limit to the number of B pictures between two reference pictures nor does it limit the number of pictures between two I pictures.
- FIG. 2 shows that each picture ( 200 ) is preferably divided into slices ( 202 ).
- a slice ( 202 ) comprises a group of macroblocks ( 201 ).
- a macroblock ( 201 ) is a rectangular group of pixels. As shown in FIG. 2 , a preferable macroblock ( 201 ) size is 16 by 16 pixels.
- FIGS. 3 a - f show that a macroblock can be further divided into smaller sized blocks.
- a macroblock can be further divided into block sizes of 16 by 8 pixels ( FIG. 3 a ; 300 ), 8 by 16 pixels ( FIG. 3 b ; 301 ), 8 by 8 pixels ( FIG. 3 c ; 302 ), 8 by 4 pixels ( FIG. 3 d ; 303 ), 4 by 8 pixels ( FIG. 3 e ; 304 ), or 4 by 4 pixels ( FIG. 3 f ; 305 ).
- These smaller block sizes are preferable in some applications that use the temporal prediction with motion compensation algorithm.
- FIG. 4 shows a picture construction example using temporal prediction with motion compensation that illustrates an embodiment of the present invention.
- Temporal prediction with motion compensation assumes that a current picture, picture N ( 400 ), can be locally modeled as a translation of another picture, picture N ⁇ 1 ( 401 ).
- the picture N ⁇ 1 ( 401 ) is the reference picture for the encoding of picture N ( 400 ) and can be in the forward or backwards temporal direction in relation to picture N ( 400 ).
- each picture is preferably divided into slices containing macroblocks ( 201 a,b ).
- the picture N ⁇ 1 ( 401 ) contains an image ( 403 ) that is to be shown in picture N ( 400 ).
- the image ( 403 ) will be in a different temporal position in picture N ( 402 ) than it is in picture N ⁇ 1 ( 401 ), as shown in FIG. 4 .
- each macroblock ( 201 b ) of picture N ( 400 ) is predicted from the image content of each corresponding macroblock ( 201 a ) of picture N ⁇ 1 ( 401 ) by estimating the required amount of temporal motion of the image content of each macroblock ( 201 a ) of picture N ⁇ 1 ( 401 ) for the image ( 403 ) to move to its new temporal position ( 402 ) in picture N ( 400 ).
- the difference ( 404 ) between the image ( 402 ) and its prediction ( 403 ) is actually encoded and transmitted.
- a frame of an interlaced sequence contains two fields, the top field and the bottom field, which are interleaved and separated in time by a field period.
- the field period is half the time of a frame period.
- the two fields of an interlaced frame can be coded jointly or separately. If they are coded jointly, frame mode coding is used. Conversely, if the two fields are coded separately, field mode coding is used.
- Fixed frame/field coding codes all the pictures in a stream of pictures in one mode only. That mode can be frame mode or it can be field mode.
- Picture level AFF is preferable to fixed frame/field coding in many applications because it allows the encoder to chose which mode, frame mode or field mode, to encode each picture in the stream of pictures based on the contents of the digital video material. AFF coding results in better compression than does fixed frame/field coding in many applications.
- An embodiment of the present invention is that AFF coding can be performed on smaller portions of a picture.
- This small portion can be a macroblock, a pair of macroblocks, or a group of macroblocks.
- Each macroblock, pair of macroblocks, or group of macroblocks or slice is encoded in frame mode or in field mode, regardless of how the other macroblocks in the picture are encoded.
- AFF coding in each of the three cases will be described in detail below.
- AFF coding is performed on a single macroblock. If the macroblock is to be encoded in frame mode, the two fields in the macroblock are encoded jointly. Once encoded as a frame, the macroblock can be further divided into the smaller blocks of FIGS. 3 a - f for use in the temporal prediction with motion compensation algorithm.
- the macroblock ( 500 ) is split into a top field ( 501 ) and a bottom field ( 502 ), as shown in FIG. 5 .
- the two fields are then coded separately.
- the macroblock has M rows of pixels and N columns of pixels.
- a preferable value of N and M is 16, making the macroblock ( 500 ) a 16 by 16 pixel macroblock.
- every other row of pixels is shaded.
- the shaded areas represent the rows of pixels in the top field of the macroblock ( 500 ) and the unshaded areas represent the rows of pixels in the bottom field of the macroblock ( 500 ).
- a macroblock that is encoded in field mode can be divided into four additional blocks.
- a block is required to have a single parity.
- the single parity requirement is that a block cannot comprise both top and bottom fields. Rather, it must contain a single parity of field.
- a field mode macroblock can be divided into blocks of 16 by 8 pixels ( FIG. 6 a ; 600 ), 8 by 8 pixels ( FIG. 6 b ; 601 ), 4 by 8 pixels ( FIGS. 6 c ; 602 ), and 4 by 4 pixels ( FIG. 6 d ; 603 ).
- FIGS. 6 a - d show that each block contains fields of a single parity.
- AFF coding on macroblock pairs will now be explained.
- AFF coding on macroblock pairs will be occasionally referred to as pair based AFF coding.
- a comparison of the block sizes in FIGS. 6 a - d and in FIGS. 3 a - f show that a macroblock encoded in field mode can be divided into fewer block patterns than can a macroblock encoded in frame mode.
- the block sizes of 16 by 16 pixels, 8 by 16 pixels, and 8 by 4 pixels are not available for a macroblock encoded in field mode because of the single parity requirement. This implies that the performance of single macroblock based AFF may not be good for some sequences or applications that strongly favor field mode coding.
- macroblocks that are coded in field mode it is preferable in some applications for macroblocks that are coded in field mode to have the same block sizes as macroblocks that are coded in frame mode. This can be achieved by performing AFF coding on macroblock pairs instead of on single macroblocks.
- FIG. 7 illustrates an exemplary pair of macroblocks ( 700 ) that can be used in AFF coding on a pair of macroblocks according to an embodiment of the present invention.
- the pair of macroblocks ( 700 ) is to be encoded in frame mode, the pair is coded as two frame-based macroblocks. In each macroblock, the two fields in each of the macroblocks are encoded jointly. Once encoded as frames, the macroblocks can be further divided into the smaller blocks of FIGS. 3 a - f for use in the temporal prediction with motion compensation algorithm.
- the dimensions of the pair of macroblocks ( 700 ) is 16 by 32 pixels.
- every other row of pixels is shaded.
- the shaded areas represent the rows of pixels in the top field of the macroblocks and the unshaded areas represent the rows of pixels in the bottom field of the macroblocks.
- the top field block ( 800 ) and the bottom field block ( 801 ) can now be divided into one of the possible block sizes of FIGS. 3 a - f.
- a scanning path determines the order in which the pairs of macroblocks of a picture are encoded.
- FIG. 9 shows the two possible scanning paths in AFF coding of pairs of macroblocks ( 700 ).
- One of the scanning paths is a horizontal scanning path ( 900 ).
- the macroblock pairs ( 700 ) of a picture ( 200 ) are coded from left to right and from top to bottom, as shown in FIG. 9 .
- the other scanning path is a vertical scanning path ( 901 ).
- the macroblock pairs ( 700 ) of a picture ( 200 ) are coded from top to bottom and from left to right, as shown in FIG. 9 .
- the top macroblock of a macroblock pair ( 700 ) is coded first, followed by the bottom macroblock.
- the top field macroblock of a macroblock pair is coded first followed by the bottom field macroblock.
- AFF coding on a pair of macroblocks to AFF coding on a group of four or more neighboring macroblocks ( 902 ), as shown in FIG. 10 .
- AFF coding on a group of macroblocks will be occasionally referred to as group based AFF coding.
- the same scanning paths, horizontal ( 900 ) and vertical ( 901 ), as are used in the scanning of macroblock pairs are used in the scanning of groups of neighboring macroblocks ( 902 ).
- FIG. 10 shows a group of four macroblocks, the group can be more than four macroblocks.
- the group of macroblocks ( 902 ) is to be encoded in frame mode, the group coded as four frame-based macroblocks. In each macroblock, the two fields in each of the macroblocks are encoded jointly. Once encoded as frames, the macroblocks can be further divided into the smaller blocks of FIGS. 3 a - f for use in the temporal prediction with motion compensation algorithm.
- a group of four macroblocks ( 902 ), for example, is to be encoded in field mode, it is first split into one top field 32 by 16 pixel block and one bottom field 32 by 16 pixel block. The two fields are then coded separately. The top field block and the bottom field block can now be divided into macroblocks. Each macroblock is further divided into one of the possible block sizes of FIGS. 3 a - f . Because this process is similar to that of FIG. 8 , a separate figure is not provided to illustrate this embodiment.
- a frame/field flag bit is preferably included in a picture's bitstream to indicate which mode, frame mode or field mode, is used in the encoding of each macroblock.
- the bitstream includes information pertinent to each macroblock within a stream, as shown in FIG. 11 .
- the bitstream can include a picture header ( 110 ), run information ( 111 ), and macroblock type ( 113 ) information.
- the frame/field flag ( 112 ) is preferably included before each macroblock in the bitstream if AFF is performed on each individual macroblock. If the AFF is performed on pairs of macroblocks, the frame/field flag ( 112 ) is preferably included before each pair of macroblock in the bitstream.
- the frame/field flag ( 112 ) is preferably included before each group of macroblocks in the bitstream.
- the frame/field flag ( 112 ) bit is a 0 if frame mode is to be used and a 1 if field coding is to be used.
- the frame/field flag ( 112 ) bit is a 1 if frame mode is to be used and a 0 if field coding is to be used.
- Another embodiment of the present invention entails a method of determining the size of blocks into which the encoder divides a macroblock in macroblock level AFF.
- a preferable, but not exclusive, method for determining the ideal block size is sum absolute difference (SAD) with or without bias or rate distortion (RD) basis.
- SAD checks the performance of the possible block sizes and chooses the ideal block size based on its results.
- the exact method of using SAD with or without bias or RD basis can be easily be performed by someone skilled in the art.
- each frame and field based macroblock in macroblock level AFF can be intra coded or inter coded.
- intra coding the macroblock is encoded without temporally referring to other macroblocks.
- inter coding temporal prediction with motion compensation is used to code the macroblocks.
- a block with a size of 16 by 16 pixels, 16 by 8 pixels, 8 by 16 pixels, or 8 by 8 pixels can have its own reference pictures.
- the block can either be a frame or field based macroblock.
- the MPEG-4 Part 10 AVC/H.264 standard allows multiple reference pictures instead of just two reference pictures.
- the use of multiple reference pictures improves the performance of the temporal prediction with motion compensation algorithm by allowing the encoder to find a block in the reference picture that most closely matches the block that is to be encoded. By using the block in the reference picture in the coding process that most closely matches the block that is to be encoded, the greatest amount of compression is possible in the encoding of the picture.
- the reference pictures are stored in frame and field buffers and are assigned reference frame numbers and reference field numbers based on the temporal distance they are away from the current picture that is being encoded. The closer the reference picture is to the current picture that is being stored, the more likely the reference picture will be selected.
- the reference pictures for a block can be any top or bottom field of any of the reference pictures in the reference frame or field buffers.
- Each block in a frame or field based macroblock can have its own motion vectors.
- the motion vectors are spatially predictive coded.
- prediction motion vectors (PMV) are also calculated for each block. The algebraic difference between a block's PMVs and its associated motion vectors is then calculated and encoded. This generates the compressed bits for motion vectors.
- FIG. 12 will be used to explain various preferable methods of calculating the PMV of a block in a macroblock.
- a current block, E, in FIG. 12 is to be inter coded as well as its neighboring blocks A, B, C, and D.
- E will refer hereafter to a current block and A, B, C, and D will refer hereafter to E's neighboring blocks, unless otherwise denoted.
- Block E's PMV is derived from the motion vectors of its neighboring blocks.
- These neighboring blocks in the example of FIG. 12 are A, B, C, and D.
- One preferable method of calculating the PMV for block E is to calculate either the median of the motion vectors of blocks A, B, C, and D, the average of these motion vectors, or the weighted average of these motion vectors.
- Each of the blocks A through E can be in either frame or field mode.
- Another preferable method of calculating the PMV for block E is to use a yes/no method.
- a block has to be in the same frame or field coding mode as block E in order to have its motion vector included in the calculation of the PMV for E.
- block E in FIG. 12 is in frame mode
- block A must also be in frame mode to have its motion vector included in the calculation of the PMV for block E. If one of E's neighboring blocks does not have the same coding mode as does block E, its motion vectors are not used in the calculation of block E's PMV.
- the “always method” can also be used to calculate the PMV for block E.
- blocks A, B, C, and D are always used in calculating the PMV for block E, regardless of their frame or field coding mode. If E is in frame mode and a neighboring block is in field mode, the vertical component of the neighboring block is multiplied by 2 before being included in the PMV calculation for block E. If E is in field mode and a neighboring block is in frame mode, the vertical component of the neighboring block is divided by 2 before being included in the PMV calculation for block E.
- the “selective method” can also be used to calculate the PMV for block E if the macroblock has been encoded using pair based AFF encoding or group based AFF encoding.
- a frame-based block has a frame-based motion vector pointing to a reference frame.
- the block is also assigned a field-based motion vector pointing to a reference field.
- the field-based motion vector is the frame-based motion vector of the block with the vertical motion vector component divided by two.
- the reference field number is the reference frame number multiplied by two.
- a field-based block has a field-based motion vector pointing to a reference field.
- the block is also assigned a frame-based motion vector pointing to a reference frame.
- the frame-based motion vector is the field-based motion vector of the block with the vertical motion vector component multiplied by two.
- the reference frame number is the reference field number divided by two.
- each block in a macroblock is associated with a companion block that resides in the same geometric location within the second macroblock of the macroblock pair.
- each of block E's neighboring blocks (A, B, C, and D) may or may not be in the same frame or field coding mode as block E.
- the true frame-based motion vector of the neighboring block is used for E's PMV.
- E is in frame mode and a neighboring block is in field mode
- the following rules apply in calculating E's PMV. If the neighboring block (e.g.; block A) and its companion field-based block have the same reference field, the average of the assigned frame-based motion vectors of the two blocks is used for the calculation of E's PMV.
- the reference frame number used for the PMV calculation is the reference field number of the neighboring block divided by two. However, if the neighboring block and its companion field block have different reference fields, then the neighboring block cannot be used in the calculation of E's PMV.
- E is in field mode and a neighboring block is in frame mode
- the following rules apply in calculating E's PMV. If the neighboring block (e.g.; block A) and its companion frame-based block have the same reference frame, the average of the assigned field-based motion vectors of the two blocks is used for the calculation of E's PMV.
- the reference field number used for the PMV calculation is the reference frame number of the neighboring block multiplied by two. However, if the neighboring block and its companion field block have different reference frames, then the neighboring block cannot be used in the calculation of E's PMV.
- E is in field mode and a neighboring block is in field mode
- the true field-based motion vector of the neighboring block is used in the calculation of E's PMV.
- each of block E's neighboring blocks (A, B, C, and D) may or may not be in the same frame or field coding mode as block E.
- the following rules apply for this alternate preferable option of the selective method:
- the true frame-based motion vector of the neighboring block is used for E's PMV.
- the weighted average of the assigned field-based motion vectors of the neighboring block and its companion frame-based block is used for the calculation of E's PMV.
- the weighting factors are based upon the reference frame numbers of the neighboring block and its companion block.
- E is in field mode and a neighboring block is in field mode
- the true field-based motion vector of the neighboring block is used in the calculation of E's PMV.
- each block is assigned a horizontal and a vertical index number, which represents the horizontal and vertical coordinates of the block.
- Each block is also assigned a horizontal and vertical field coordinate.
- a block's horizontal field coordinate is same as its horizontal coordinate.
- the vertical field coordinate is half of vertical coordinate of the block and is assigned top field polarity.
- the vertical field coordinate of the block is obtained by subtracting 4 from the vertical coordinate of the block and dividing the result by 2. The block is also assigned bottom field polarity.
- A is the block whose coordinates are (x ⁇ 1,y).
- B is the block whose coordinates are (x,y ⁇ 1).
- D is the block whose coordinates are (x ⁇ 1,y ⁇ 1).
- C is the block whose coordinates are (x+bx+1,y ⁇ 1). If either A, B, C or D is in field mode then its vertical motion vector is multiplied by 2 before being used for prediction and its reference frame number is computed by dividing its reference field by 2.
- the scanning path can also be a vertical scanning path.
- the neighboring blocks of the current block, E are defined as shown in FIG. 13 .
- a vertical scanning path is preferable in some applications because the information on all the neighboring blocks is available for the calculation of the PMV for the current block E.
- Another embodiment of the present invention is directional segmentation prediction.
- 16 by 8 pixel blocks and 8 by 16 pixel blocks have rules that apply to their PMV calculations only. These rules apply in all PMV calculation methods for these block sizes. The rules will now be explained in detail in connection with FIG. 12 . In each of these rules, a current block E is to have its PMV calculated.
- a 16 by 16 pixel block consists of an upper block and a lower block.
- the upper block contains the top 8 rows of 16 pixels.
- the lower block contains the bottom 8 rows of 16 pixels.
- block E of FIG. 12 is a 16 by 8 pixel block.
- block B is used to predict block E's PMV if it has the same reference picture as block E. Otherwise, median prediction is used to predict block E's PMV.
- block A is used to predict block E's PMV if it has the same reference picture as block E. Otherwise, median prediction is used to predict block E's PMV.
- A, B, or C can be in different encoding modes (frame or field) than the current block E.
- the following rules apply for both block sizes. If E is in frame mode, and A, B, or C is in field mode, the reference frame number of A, B, or C is computed by dividing its reference field by 2. If E is in field mode, and A, B, or C is in frame mode, the reference field number of A, B, or C is computed by multiplying its reference frame by 2.
- a macroblock in a P picture can be skipped in AFF coding. If a macroblock is skipped, its data is not transmitted in the encoding of the picture. A skipped macroblock in a P picture is reconstructed by copying the co-located macroblock in the most recently coded reference picture.
- the co-located macroblock is defined as the one with motion compensation using PMV as defined above or without motion vectors. The following rules apply for skipped macroblocks in a P picture. If AFF coding is performed per macroblock, a skipped macroblock is in frame mode. If AFF coding is performed on macroblock pairs and if both macroblocks are skipped, then they are in frame mode.
- An alternate method for skipped macroblocks is as follows. If a macroblock pair is skipped, its frame and field coding mode follows its neighboring macroblock pair to the left. If the left neighboring macroblock pair is not available, its coding mode follows its neighboring macroblock pair to the top. If neither the left nor top neighboring macroblock pairs are available, the skipped macroblock is set to frame mode.
- the two associated motion vectors of the block in the direct mode macroblock are calculated from the co-located block's motion vector with vertical component multiplied by two.
- the forward reference frame is the frame one of whose fields is used by the co-located block.
- the backward reference field is the frame in one of whose fields the co-located block resides.
- the direct mode block is also in field mode.
- the two field-based motion vectors of the direct mode block are derived from the field-based forward motion vector of the co-located block.
- the forward reference field is used by the co-located block.
- the backward reference field is where the co-located block resides.
- the predictions of the pixels in a 4 by 4 pixel block are derived form its left and above pixels.
- the 16 pixels in the 4 by 4 pixel block are labeled a through p.
- the neighboring pixels A through P are also shown in FIG. 14 .
- the neighboring pixels are in capital letters.
- FIG. 15 there are nine different prediction directions for intra — 4 ⁇ 4 coding. They are vertical ( 0 ), horizontal ( 1 ), DC prediction (mode 2 ), diagonal down/left ( 3 ), diagonal down/right ( 4 ), vertical-left ( 5 ), horizontal-down ( 6 ), vertical-right ( 7 ), and horizontal-up ( 8 ).
- DC prediction averages all the neighboring pixels together to predict a particular pixel value.
- An intra block and its neighboring blocks may be coded in frame or field mode. Intra prediction is performed on the reconstructed blocks.
- a reconstructed block can be represented in both frame and field mode, regardless of the actual frame or field coding mode of the block. Since only the pixels of the reconstructed blocks are used for intra prediction, the following rules apply.
- the neighboring pixels used in calculating the pixel value predictions of the block are in the frame structure. If a block of 4 by 4 pixels or 16 by 16 pixels is in field mode, the neighboring pixels used in calculating the pixel value prediction of the block are in field structure of the same field parity.
- the chosen intra-prediction mode (intra_pred_mode) of a 4 by 4 pixel block is highly correlated with the prediction modes of adjacent blocks. This is illustrated in FIG. 16 a .
- FIG. 16 a shows that A and B are adjacent blocks to C. Block C's prediction mode is to be established.
- FIG. 16 b shows the order of intra prediction information in the bitstream.
- the most probable prediction mode (most_probable_mode) of C is given. If one of the blocks A or B is “outside” the most probable prediction mode is equal DC prediction (mode 2 ). Otherwise it is equal to the minimum of prediction modes used for blocks A and B.
- a prediction mode number for a 4 by 4 block first parameter use_most_probable mode is transmitted. This parameter is represented by 1 bit codeword and can take values 0 or 1. If use_most_probable_mode is equal to 1 the most probable mode is used. Otherwise an additional parameter remaining — mode_selector, which can take value from 0 to 7 is sent as 3 bit codeword.
- the codeword is a binary representation of remaining_mode_selector value.
- the prediction mode number is calculated as:
- intra_pred_mode remaining_mode_selector
- the ordering of prediction modes assigned to blocks C is therefore the most probable mode followed by the remaining modes in the ascending order.
- An embodiment of the present invention includes the following rules that apply to intra mode prediction for an intra-prediction mode of a 4 by 4 pixel block or an intra-prediction mode of a 16 by 16 pixel block.
- Block C and its neighboring blocks A and B can be in frame or field mode.
- One of the following rules shall apply.
- FIGS. 16 a - b will be used in the following explanations of the rules.
- a or B is used as the neighboring block of C only if A or B is in the same frame/field mode as C. Otherwise, A or B is considered as outside.
- Rule 2 A and B are used as the neighboring blocks of C, regardless of their frame/field coding mode.
- blocks numbered 10, 11, 14 and 15 respectively in the top-field macroblock ( 173 ) of the above macroblock pair ( 170 ) shall be considered as the above neighboring blocks to the current macroblock pair ( 171 ) as shown in FIG. 17 a .
- blocks numbered 10, 11, 14 and 15 respectively in the bottom-field MB of the above macroblock pair ( 170 ) shall be considered as the above neighboring blocks to the current macroblock pair ( 171 ), as shown in FIG. 17 a.
- blocks number 0, 1, 4 and 5 in the top-field macroblock ( 173 ) blocks numbered 10, 11, 14 and 15 respectively in the bottom-frame macroblock ( 176 ) of the above macroblock pair ( 170 ) shall be considered as the above neighboring blocks to the current macroblock pair ( 171 ), as shown in FIG. 17 b .
- blocks number 0, 1, 4 and 5 in the bottom-field macroblock ( 174 ) blocks numbered 10, 11, 14 and 15 respectively in the bottom-frame macroblock ( 176 ) of the above macroblock pair ( 170 ) shall be considered as the above neighboring blocks to the current macroblock pair ( 171 ), as shown inn FIG. 17 b.
- left macroblock pair ( 172 ) If the left macroblock pair ( 172 ) is decoded in field mode, then for blocks number 0, 2, 8 and 10 in the top-field macroblock ( 173 ), blocks numbered 5, 7, 13 and 15 respectively in the top-field macroblock ( 173 ) of the left macroblock pair ( 172 ) shall be considered as the left neighboring blocks to the current macroblock pair ( 171 ) as shown in FIG. 17 c .
- blocks number 0, 2, 8 and 10 in the bottom-field macroblock ( 174 ) blocks numbered 5, 7, 13 and 15 respectively in the bottom-field macroblock ( 174 ) of the left macroblock pair ( 172 ) shall be considered as the left neighboring blocks to the current macroblock pair ( 171 ), as shown in FIG. 17 c.
- the left macroblock pair ( 172 ) is decoded in frame mode, then for blocks number 0, 2, 8 and 10 in the top-field macroblock ( 173 ), the blocks numbered 5, 7, 13 and 15 respectively in the top-frame macroblock ( 175 ) of the left macroblock pair ( 172 ) shall be considered as the left neighboring blocks to the current macroblock pair ( 171 ), as shown in FIG. 17 d .
- blocks number 0, 2, 8 and 10 in the bottom-field macroblock ( 174 ) blocks numbered 5, 7, 13 and 15 respectively in the bottom-frame macroblock ( 176 ) of the left macroblock pair ( 172 ) shall be considered as the left neighboring blocks to the current macroblock pair ( 171 ), as shown in FIG. 17 d.
- the intra mode prediction value used to predict a field macroblock shall be set to DC prediction.
- loop filtering is performed on the reconstructed blocks.
- a reconstructed block can be represented in either frame or field structure, regardless of the frame/field coding mode of the block.
- Loop (deblock) filtering is a process of weighted averaging of the pixels of the neighboring blocks.
- FIG. 12 will be used to explain loop filtering. Assume E of FIG. 12 is a reconstructed block, and A, B, C and D are its neighboring reconstructed blocks, as shown in FIG. 12 , and they are all represented in frame structure. Since A, B, C, D and E can be either frame- or field-coded, the following rules apply:
- Another embodiment of the present invention is that padding is performed on the reconstructed frame by repeating the boundary pixels. Since the boundary blocks may be coded in frame or field mode, the following rules apply:
- the scan path can be either zigzag or non-zigzag.
- the zigzag scanner is preferably for progressive sequences, but it may be also used for interlace sequences with slow motions.
- the non-zigzag scanners are preferably for interlace sequences.
- macroblock AFF coding the following options may be used:
- Option 1 The zigzag scan is used for macroblocks in frame mode while the non-zigzag scanners are used for macroblocks in field coding.
- Option 2 The zigzag scan is used for macroblocks in both frame and field modes.
- Option 3 The non-zigzag scan is used for macroblocks in both frame and field modes.
Abstract
Description
- The present application claims priority under 35 U.S.C. 119(e) from the following previously filed Provisional Patent Application Ser. No. 60/333,921, filed Nov. 27, 2001; Ser. No. 60/395,734, filed Jul. 12, 2002; Ser. No. 60/398,161, filed Jul. 23, 2002, all of which are herein incorporated by reference. This application also is a Continuation of and claims the benefit of U.S. Ser. No. 11/027,869, filed Dec. 30, 2004, which is a Divisional of U.S. patent application Ser. No. 10/301,290 filed on Nov. 20, 2002, both of which are herein incorporated by reference.
- The present invention relates to encoding and decoding of digital video content. More specifically, the present invention relates to frame mode and field mode encoding of digital video content at a macroblock level as used in the MPEG-4
Part 10 AVC/H.264 standard video coding standard. - Video compression is used in many current and emerging products. It is at the heart of digital television set-top boxes (STBs), digital satellite systems (DSSs), high definition television (HDTV) decoders, digital versatile disk (DVD) players, video conferencing, Internet video and multimedia content, and other digital video applications. Without video compression, digital video content can be extremely large, making it difficult or even impossible for the digital video content to be efficiently stored, transmitted, or viewed.
- The digital video content comprises a stream of pictures that can be displayed as an image on a television receiver, computer monitor, or some other electronic device capable of displaying digital video content. A picture that is displayed in time before a particular picture is in the “backward direction” in relation to the particular picture. Likewise, a picture that is displayed in time after a particular picture is in the “forward direction” in relation to the particular picture.
- Video compression is accomplished in a video encoding, or coding, process in which each picture is encoded as either a frame or as two fields. Each frame comprises a number of lines of spatial information. For example, a typical frame contains 480 horizontal lines. Each field contains half the number of lines in the frame. For example, if the frame comprises 480 horizontal lines, each field comprises 240 horizontal lines. In a typical configuration, one of the fields comprises the odd numbered lines in the frame and the other field comprises the even numbered lines in the frame. The field that comprises the odd numbered lines will be referred to as the “top” field hereafter and in the appended claims, unless otherwise specifically denoted. Likewise, the field that comprises the even numbered lines will be referred to as the “bottom” field hereafter and in the appended claims, unless otherwise specifically denoted. The two fields can be interlaced together to form an interlaced frame.
- The general idea behind video coding is to remove data from the digital video content that is “non-essential.” The decreased amount of data then requires less bandwidth for broadcast or transmission. After the compressed video data has been transmitted, it must be decoded, or decompressed. In this process, the transmitted video data is processed to generate approximation data that is substituted into the video data to replace the “non-essential” data that was removed in the coding process.
- Video coding transforms the digital video content into a compressed form that can be stored using less space and transmitted using less bandwidth than uncompressed digital video content. It does so by taking advantage of temporal and spatial redundancies in the pictures of the video content. The digital video content can be stored in a storage medium such as a hard drive, DVD, or some other non-volatile storage unit.
- There are numerous video coding methods that compress the digital video content. Consequently, video coding standards have been developed to standardize the various video coding methods so that the compressed digital video content is rendered in formats that a majority of video encoders and decoders can recognize. For example, the Motion Picture Experts Group (MPEG) and International Telecommunication Union (ITU-T) have developed video coding standards that are in wide use. Examples of these standards include the MPEG-1, MPEG-2, MPEG-4, ITU-T H261, and ITU-T H263 standards.
- Most modern video coding standards, such as those developed by MPEG and ITU-T, are based in part on a temporal prediction with motion compensation (MC) algorithm. Temporal prediction with motion compensation is used to remove temporal redundancy between successive pictures in a digital video broadcast.
- The temporal prediction with motion compensation algorithm typically utilizes one or two reference pictures to encode a particular picture. A reference picture is a picture that has already been encoded. By comparing the particular picture that is to be encoded with one of the reference pictures, the temporal prediction with motion compensation algorithm can take advantage of the temporal redundancy that exists between the reference picture and the particular picture that is to be encoded and encode the picture with a higher amount of compression than if the picture were encoded without using the temporal prediction with motion compensation algorithm. One of the reference pictures may be in the backward direction in relation to the particular picture that is to be encoded. The other reference picture is in the forward direction in relation to the particular picture that is to be encoded.
- However, as the demand for higher resolutions, more complex graphical content, and faster transmission time increases, so does the need for better video compression methods. To this end, a new video coding standard is currently being developed jointly by ISO and ITU-T. This new video coding standard is called the MPEG-4 Advanced Video Coding (AVC)/H.264 standard.
- In one of many possible embodiments, the present invention provides a method of encoding, decoding, and bitstream generation of digital video content. The digital video content comprises a stream of pictures which can each be intra, predicted, or bi-predicted pictures. Each of the pictures comprises macroblocks that can be further divided into smaller blocks. The method entails encoding and decoding each of the macroblocks in each picture in said stream of pictures in either frame mode or in field mode.
- The accompanying drawings illustrate various embodiments of the present invention and are a part of the specification. Together with the following description, the drawings demonstrate and explain the principles of the present invention. The illustrated embodiments are examples of the present invention and do not limit the scope of the invention.
-
FIG. 1 illustrates an exemplary sequence of three types of pictures that can be used to implement the present invention, as defined by an exemplary video coding standard such as the MPEG-4Part 10 AVC/H.264 standard. -
FIG. 2 shows that each picture is preferably divided into slices containing macroblocks according to an embodiment of the present invention. -
FIG. 3 a shows that a macroblock can be further divided into a block size of 16 by 8 pixels according to an embodiment of the present invention. -
FIG. 3 b shows that a macroblock can be further divided into a block size of 8 by 16 pixels according to an embodiment of the present invention. -
FIG. 3 c shows that a macroblock can be further divided into a block size of 8 by 8 pixels according to an embodiment of the present invention. -
FIG. 3 d shows that a macroblock can be further divided into a block size of 8 by 4 pixels according to an embodiment of the present invention. -
FIG. 3 e shows that a macroblock can be further divided into a block size of 4 by 8 pixels according to an embodiment of the present invention. -
FIG. 3 f shows that a macroblock can be further divided into a block size of 4 by 4 pixels according to an embodiment of the present invention. -
FIG. 4 shows a picture construction example using temporal prediction with motion compensation that illustrates an embodiment of the present invention. -
FIG. 5 shows that a macroblock is split into a top field and a bottom field if it is to be encoded in field mode. -
FIG. 6 a shows that a macroblock that is encoded in field mode can be divided into a block with a size of 16 by 8 pixels according to an embodiment of the present invention. -
FIG. 6 b shows that a macroblock that is encoded in field mode can be divided into a block with a size of 8 by 8 pixels according to an embodiment of the present invention. -
FIG. 6 c shows that a macroblock that is encoded in field mode can be divided into a block with a size of 4 by 8 pixels according to an embodiment of the present invention. -
FIG. 6 d shows that a macroblock that is encoded in field mode can be divided into a block with a size of 4 by 4 pixels according to an embodiment of the present invention. -
FIG. 7 illustrates an exemplary pair of macroblocks that can be used in AFF coding on a pair of macroblocks according to an embodiment of the present invention. -
FIG. 8 shows that a pair of macroblocks that is to be encoded in field mode is first split into onetop field 16 by 16 pixel block and onebottom field 16 by 16 pixel block. -
FIG. 9 shows two possible scanning paths in AFF coding of pairs of macroblocks. -
FIG. 10 illustrates another embodiment of the present invention which extends the concept of AFF coding on a pair of macroblocks to AFF coding to a group of four or more neighboring macroblocks. -
FIG. 11 shows some of the information included in the bitstream which contains information pertinent to each macroblock within a stream. -
FIG. 12 shows a block that is to be encoded and its neighboring blocks and will be used to explain various preferable methods of calculating the PMV of a block in a macroblock. -
FIG. 13 shows an alternate definition of neighboring blocks if the scanning path is a vertical scanning path. -
FIG. 14 shows that each pixel value is predicted from neighboring blocks' pixel values according to an embodiment of the present invention. -
FIG. 15 shows different prediction directions for intra—4×4 coding. -
FIGS. 16 a-b illustrate that the chosen intra-prediction mode (intra_pred_mode) of a 4 by 4 pixel block is highly correlated with the prediction modes of adjacent blocks. -
FIGS. 17 a-d show neighboring blocks definitions in relation to a current macroblock pair that is to be encoded. - Throughout the drawings, identical reference numbers designate similar, but not necessarily identical, elements.
- The present invention provides a method of adaptive frame/field (AFF) coding of digital video content comprising a stream of pictures or slices of a picture at a macroblock level. The present invention extends the concept of picture level AFF to macroblocks. In AFF coding at a picture level, each picture in a stream of pictures that is to be encoded is encoded in either frame mode or in field mode, regardless of the frame or field coding mode of other pictures that are to be coded. If a picture is encoded in frame mode, the two fields that make up an interlaced frame are coded jointly. Conversely, if a picture is encoded in field mode, the two fields that make up an interlaced frame are coded separately. The encoder determines which type of coding, frame mode coding or field mode coding, is more advantageous for each picture and chooses that type of encoding for the picture. The exact method of choosing between frame mode and field mode is not critical to the present invention and will not be detailed herein.
- As noted above, the MPEG-4
Part 10 AVC/H.264 standard is a new standard for encoding and compressing digital video content. The documents establishing the MPEG-4Part 10 AVC/H.264 standard are hereby incorporated by reference, including “Joint Final Committee Draft (JFCD) of Joint Video Specification” issued by the Joint Video Team (JVT) on Aug. 10, 2002. (ITU-T Rec. H.264 & ISO/IEC 14496-10 AVC). The JVT consists of experts from ISO or MPEG and ITU-T. Due to the public nature of the MPEG-4Part 10 AVC/H.264 standard, the present specification will not attempt to document all the existing aspects of MPEG-4Part 10 AVC/H.264 video coding, relying instead on the incorporated specifications of the standard. - this method of AFF encoding is compatible with and will be explained using the MPEG-4
Part 10 AVC/H.264 standard guidelines, it can be modified and used as best serves a particular standard or application. - Using the drawings, the preferred embodiments of the present invention will now be explained.
-
FIG. 1 illustrates an exemplary sequence of three types of pictures that can be used to implement the present invention, as defined by an exemplary video coding standard such as the MPEG-4Part 10 AVC/H.264 standard. As previously mentioned, the encoder encodes the pictures and the decoder decodes the pictures. The encoder or decoder can be a processor, application specific integrated circuit (ASIC), field programmable gate array (FPGA), coder/decoder (CODEC), digital signal processor (DSP), or some other electronic device that is capable of encoding the stream of pictures. However, as used hereafter and in the appended claims, unless otherwise specifically denoted, the term “encoder” will be used to refer expansively to all electronic devices that encode digital video content comprising a stream of pictures. The term “decoder” will be used to refer expansively to all electronic devices that decode digital video content comprising a stream of pictures. - As shown in
FIG. 1 , there are preferably three types of pictures that can be used in the video coding method. Three types of pictures are defined to support random access to stored digital video content while exploring the maximum redundancy reduction using temporal prediction with motion compensation. The three types of pictures are intra (I) pictures (100), predicted (P) pictures (102 a,b), and bi-predicted (B) pictures (101 a-d). An I picture (100) provides an access point for random access to stored digital video content and can be encoded only with slight compression. Intra pictures (100) are encoded without referring to reference pictures. - A predicted picture (102 a,b) is encoded using an I, P, or B picture that has already been encoded as a reference picture. The reference picture can be in either the forward or backward temporal direction in relation to the P picture that is being encoded. The predicted pictures (102 a,b) can be encoded with more compression than the intra pictures (100).
- A bi-predicted picture (101 a-d) is encoded using two temporal reference pictures: a forward reference picture and a backward reference picture. The forward reference picture is sometimes called a past reference picture and the backward reference picture is sometimes called a future reference picture. An embodiment of the present invention is that the forward reference picture and backward reference picture can be in the same temporal direction in relation to the B picture that is being encoded. Bi-predicted pictures (101 a-d) can be encoded with the most compression out of the three picture types.
- Reference relationships (103) between the three picture types are illustrated in
FIG. 1 . For example, the P picture (102 a) can be encoded using the encoded I picture (100) as its reference picture. The B pictures (101 a-d) can be encoded using the encoded I picture (100) or the encoded P picture (102 a) as its reference pictures, as shown inFIG. 1 . Under the principles of an embodiment of the present invention, encoded B pictures (101 a-d) can also be used as reference pictures for other B pictures that are to be encoded. For example, the B picture (101 c) ofFIG. 1 is shown with two other B pictures (101 b and 101 d) as its reference pictures. - The number and particular order of the I (100), B (101 a-d), and P (102 a,b) pictures shown in
FIG. 1 are given as an exemplary configuration of pictures, but are not necessary to implement the present invention. Any number of I, B, and P pictures can be used in any order to best serve a particular application. The MPEG-4Part 10 AVC/H.264 standard does not impose any limit to the number of B pictures between two reference pictures nor does it limit the number of pictures between two I pictures. -
FIG. 2 shows that each picture (200) is preferably divided into slices (202). A slice (202) comprises a group of macroblocks (201). A macroblock (201) is a rectangular group of pixels. As shown inFIG. 2 , a preferable macroblock (201) size is 16 by 16 pixels. -
FIGS. 3 a-f show that a macroblock can be further divided into smaller sized blocks. For example, as shown inFIGS. 3 a-f, a macroblock can be further divided into block sizes of 16 by 8 pixels (FIG. 3 a; 300), 8 by 16 pixels (FIG. 3 b; 301), 8 by 8 pixels (FIG. 3 c; 302), 8 by 4 pixels (FIG. 3 d; 303), 4 by 8 pixels (FIG. 3 e; 304), or 4 by 4 pixels (FIG. 3 f; 305). These smaller block sizes are preferable in some applications that use the temporal prediction with motion compensation algorithm. -
FIG. 4 shows a picture construction example using temporal prediction with motion compensation that illustrates an embodiment of the present invention. Temporal prediction with motion compensation assumes that a current picture, picture N (400), can be locally modeled as a translation of another picture, picture N−1 (401). The picture N−1 (401) is the reference picture for the encoding of picture N (400) and can be in the forward or backwards temporal direction in relation to picture N (400). - As shown in
FIG. 4 , each picture is preferably divided into slices containing macroblocks (201 a,b). The picture N−1 (401) contains an image (403) that is to be shown in picture N (400). The image (403) will be in a different temporal position in picture N (402) than it is in picture N−1 (401), as shown inFIG. 4 . The image content of each macroblock (201 b) of picture N (400) is predicted from the image content of each corresponding macroblock (201 a) of picture N−1 (401) by estimating the required amount of temporal motion of the image content of each macroblock (201 a) of picture N−1 (401) for the image (403) to move to its new temporal position (402) in picture N (400). Instead of the original image (402) being encoded, the difference (404) between the image (402) and its prediction (403) is actually encoded and transmitted. - For each image (402) in picture N (400), the temporal prediction can often be described by motion vectors that represent the amount of temporal motion required for the image (403) to move to a new temporal position in the picture N (402). The motion vectors (406) used for the temporal prediction with motion compensation need to be encoded and transmitted.
-
FIG. 4 shows that the image (402) in picture N (400) can be represented by the difference (404) between the image and its prediction and the associated motion vectors (406). The exact method of encoding using the motion vectors can vary as best serves a particular application and can be easily implemented by someone who is skilled in the art. - To understand macroblock level AFF coding, a brief overview of picture level AFF coding of a stream of pictures will now be given. A frame of an interlaced sequence contains two fields, the top field and the bottom field, which are interleaved and separated in time by a field period. The field period is half the time of a frame period. In picture level AFF coding, the two fields of an interlaced frame can be coded jointly or separately. If they are coded jointly, frame mode coding is used. Conversely, if the two fields are coded separately, field mode coding is used.
- Fixed frame/field coding, on the other hand, codes all the pictures in a stream of pictures in one mode only. That mode can be frame mode or it can be field mode. Picture level AFF is preferable to fixed frame/field coding in many applications because it allows the encoder to chose which mode, frame mode or field mode, to encode each picture in the stream of pictures based on the contents of the digital video material. AFF coding results in better compression than does fixed frame/field coding in many applications.
- An embodiment of the present invention is that AFF coding can be performed on smaller portions of a picture. This small portion can be a macroblock, a pair of macroblocks, or a group of macroblocks. Each macroblock, pair of macroblocks, or group of macroblocks or slice is encoded in frame mode or in field mode, regardless of how the other macroblocks in the picture are encoded. AFF coding in each of the three cases will be described in detail below.
- In the first case, AFF coding is performed on a single macroblock. If the macroblock is to be encoded in frame mode, the two fields in the macroblock are encoded jointly. Once encoded as a frame, the macroblock can be further divided into the smaller blocks of
FIGS. 3 a-f for use in the temporal prediction with motion compensation algorithm. - However, if the macroblock is to be encoded in field mode, the macroblock (500) is split into a top field (501) and a bottom field (502), as shown in
FIG. 5 . The two fields are then coded separately. InFIG. 5 , the macroblock has M rows of pixels and N columns of pixels. A preferable value of N and M is 16, making the macroblock (500) a 16 by 16 pixel macroblock. As shown inFIG. 5 , every other row of pixels is shaded. The shaded areas represent the rows of pixels in the top field of the macroblock (500) and the unshaded areas represent the rows of pixels in the bottom field of the macroblock (500). - As shown in
FIGS. 6 a-d, a macroblock that is encoded in field mode can be divided into four additional blocks. A block is required to have a single parity. The single parity requirement is that a block cannot comprise both top and bottom fields. Rather, it must contain a single parity of field. Thus, as shown inFIGS. 6 a-d, a field mode macroblock can be divided into blocks of 16 by 8 pixels (FIG. 6 a; 600), 8 by 8 pixels (FIG. 6 b; 601), 4 by 8 pixels (FIGS. 6 c; 602), and 4 by 4 pixels (FIG. 6 d; 603).FIGS. 6 a-d show that each block contains fields of a single parity. - AFF coding on macroblock pairs will now be explained. AFF coding on macroblock pairs will be occasionally referred to as pair based AFF coding. A comparison of the block sizes in
FIGS. 6 a-d and inFIGS. 3 a-f show that a macroblock encoded in field mode can be divided into fewer block patterns than can a macroblock encoded in frame mode. The block sizes of 16 by 16 pixels, 8 by 16 pixels, and 8 by 4 pixels are not available for a macroblock encoded in field mode because of the single parity requirement. This implies that the performance of single macroblock based AFF may not be good for some sequences or applications that strongly favor field mode coding. In order to guarantee the performance of field mode macroblock coding, it is preferable in some applications for macroblocks that are coded in field mode to have the same block sizes as macroblocks that are coded in frame mode. This can be achieved by performing AFF coding on macroblock pairs instead of on single macroblocks. -
FIG. 7 illustrates an exemplary pair of macroblocks (700) that can be used in AFF coding on a pair of macroblocks according to an embodiment of the present invention. If the pair of macroblocks (700) is to be encoded in frame mode, the pair is coded as two frame-based macroblocks. In each macroblock, the two fields in each of the macroblocks are encoded jointly. Once encoded as frames, the macroblocks can be further divided into the smaller blocks ofFIGS. 3 a-f for use in the temporal prediction with motion compensation algorithm. - However, if the pair of macroblocks (700) is to be encoded in field mode, it is first split into one
top field 16 by 16 pixel block (800) and onebottom field 16 by 16 pixel block (801), as shown inFIG. 8 . The two fields are then coded separately. InFIG. 8 , each macroblock in the pair of macroblocks (700) has N=16 columns of pixels and M=16 rows of pixels. Thus, the dimensions of the pair of macroblocks (700) is 16 by 32 pixels. As shown inFIG. 8 , every other row of pixels is shaded. The shaded areas represent the rows of pixels in the top field of the macroblocks and the unshaded areas represent the rows of pixels in the bottom field of the macroblocks. The top field block (800) and the bottom field block (801) can now be divided into one of the possible block sizes ofFIGS. 3 a-f. - According to an embodiment of the present invention, in the AFF coding of pairs of macroblocks (700), there are two possible scanning paths. A scanning path determines the order in which the pairs of macroblocks of a picture are encoded.
FIG. 9 shows the two possible scanning paths in AFF coding of pairs of macroblocks (700). One of the scanning paths is a horizontal scanning path (900). In the horizontal scanning path (900), the macroblock pairs (700) of a picture (200) are coded from left to right and from top to bottom, as shown inFIG. 9 . The other scanning path is a vertical scanning path (901). In the vertical scanning path (901), the macroblock pairs (700) of a picture (200) are coded from top to bottom and from left to right, as shown inFIG. 9 . For frame mode coding, the top macroblock of a macroblock pair (700) is coded first, followed by the bottom macroblock. For field mode coding, the top field macroblock of a macroblock pair is coded first followed by the bottom field macroblock. - Another embodiment of the present invention extends the concept of AFF coding on a pair of macroblocks to AFF coding on a group of four or more neighboring macroblocks (902), as shown in
FIG. 10 . AFF coding on a group of macroblocks will be occasionally referred to as group based AFF coding. The same scanning paths, horizontal (900) and vertical (901), as are used in the scanning of macroblock pairs are used in the scanning of groups of neighboring macroblocks (902). Although the example shown inFIG. 10 shows a group of four macroblocks, the group can be more than four macroblocks. - If the group of macroblocks (902) is to be encoded in frame mode, the group coded as four frame-based macroblocks. In each macroblock, the two fields in each of the macroblocks are encoded jointly. Once encoded as frames, the macroblocks can be further divided into the smaller blocks of
FIGS. 3 a-f for use in the temporal prediction with motion compensation algorithm. - However, if a group of four macroblocks (902), for example, is to be encoded in field mode, it is first split into one top field 32 by 16 pixel block and one bottom field 32 by 16 pixel block. The two fields are then coded separately. The top field block and the bottom field block can now be divided into macroblocks. Each macroblock is further divided into one of the possible block sizes of
FIGS. 3 a-f. Because this process is similar to that ofFIG. 8 , a separate figure is not provided to illustrate this embodiment. - In AFF coding at the macroblock level, a frame/field flag bit is preferably included in a picture's bitstream to indicate which mode, frame mode or field mode, is used in the encoding of each macroblock. The bitstream includes information pertinent to each macroblock within a stream, as shown in
FIG. 11 . For example, the bitstream can include a picture header (110), run information (111), and macroblock type (113) information. The frame/field flag (112) is preferably included before each macroblock in the bitstream if AFF is performed on each individual macroblock. If the AFF is performed on pairs of macroblocks, the frame/field flag (112) is preferably included before each pair of macroblock in the bitstream. Finally, if the AFF is performed on a group of macroblocks, the frame/field flag (112) is preferably included before each group of macroblocks in the bitstream. One embodiment is that the frame/field flag (112) bit is a 0 if frame mode is to be used and a 1 if field coding is to be used. Another embodiment is that the frame/field flag (112) bit is a 1 if frame mode is to be used and a 0 if field coding is to be used. - Another embodiment of the present invention entails a method of determining the size of blocks into which the encoder divides a macroblock in macroblock level AFF. A preferable, but not exclusive, method for determining the ideal block size is sum absolute difference (SAD) with or without bias or rate distortion (RD) basis. For example, SAD checks the performance of the possible block sizes and chooses the ideal block size based on its results. The exact method of using SAD with or without bias or RD basis can be easily be performed by someone skilled in the art.
- According to an embodiment of the present invention, each frame and field based macroblock in macroblock level AFF can be intra coded or inter coded. In intra coding, the macroblock is encoded without temporally referring to other macroblocks. On the other hand, in inter coding, temporal prediction with motion compensation is used to code the macroblocks.
- If inter coding is used, a block with a size of 16 by 16 pixels, 16 by 8 pixels, 8 by 16 pixels, or 8 by 8 pixels can have its own reference pictures. The block can either be a frame or field based macroblock. The MPEG-4
Part 10 AVC/H.264 standard allows multiple reference pictures instead of just two reference pictures. The use of multiple reference pictures improves the performance of the temporal prediction with motion compensation algorithm by allowing the encoder to find a block in the reference picture that most closely matches the block that is to be encoded. By using the block in the reference picture in the coding process that most closely matches the block that is to be encoded, the greatest amount of compression is possible in the encoding of the picture. The reference pictures are stored in frame and field buffers and are assigned reference frame numbers and reference field numbers based on the temporal distance they are away from the current picture that is being encoded. The closer the reference picture is to the current picture that is being stored, the more likely the reference picture will be selected. For field mode coding, the reference pictures for a block can be any top or bottom field of any of the reference pictures in the reference frame or field buffers. - Each block in a frame or field based macroblock can have its own motion vectors. The motion vectors are spatially predictive coded. According to an embodiment of the present invention, in inter coding, prediction motion vectors (PMV) are also calculated for each block. The algebraic difference between a block's PMVs and its associated motion vectors is then calculated and encoded. This generates the compressed bits for motion vectors.
-
FIG. 12 will be used to explain various preferable methods of calculating the PMV of a block in a macroblock. A current block, E, inFIG. 12 is to be inter coded as well as its neighboring blocks A, B, C, and D. E will refer hereafter to a current block and A, B, C, and D will refer hereafter to E's neighboring blocks, unless otherwise denoted. Block E's PMV is derived from the motion vectors of its neighboring blocks. These neighboring blocks in the example ofFIG. 12 are A, B, C, and D. One preferable method of calculating the PMV for block E is to calculate either the median of the motion vectors of blocks A, B, C, and D, the average of these motion vectors, or the weighted average of these motion vectors. Each of the blocks A through E can be in either frame or field mode. - Another preferable method of calculating the PMV for block E is to use a yes/no method. Under the principles of the yes/no method, a block has to be in the same frame or field coding mode as block E in order to have its motion vector included in the calculation of the PMV for E. For example, if block E in
FIG. 12 is in frame mode, block A must also be in frame mode to have its motion vector included in the calculation of the PMV for block E. If one of E's neighboring blocks does not have the same coding mode as does block E, its motion vectors are not used in the calculation of block E's PMV. - The “always method” can also be used to calculate the PMV for block E. In the always method, blocks A, B, C, and D are always used in calculating the PMV for block E, regardless of their frame or field coding mode. If E is in frame mode and a neighboring block is in field mode, the vertical component of the neighboring block is multiplied by 2 before being included in the PMV calculation for block E. If E is in field mode and a neighboring block is in frame mode, the vertical component of the neighboring block is divided by 2 before being included in the PMV calculation for block E.
- The “selective method” can also be used to calculate the PMV for block E if the macroblock has been encoded using pair based AFF encoding or group based AFF encoding. In the selective method, a frame-based block has a frame-based motion vector pointing to a reference frame. The block is also assigned a field-based motion vector pointing to a reference field. The field-based motion vector is the frame-based motion vector of the block with the vertical motion vector component divided by two. The reference field number is the reference frame number multiplied by two. A field-based block has a field-based motion vector pointing to a reference field. The block is also assigned a frame-based motion vector pointing to a reference frame. The frame-based motion vector is the field-based motion vector of the block with the vertical motion vector component multiplied by two. The reference frame number is the reference field number divided by two.
- The derivation of a block's PMV using the selective method will now be explained using
FIG. 12 as a reference. In macroblock pair based AFF, each block in a macroblock is associated with a companion block that resides in the same geometric location within the second macroblock of the macroblock pair. InFIG. 12 , each of block E's neighboring blocks (A, B, C, and D) may or may not be in the same frame or field coding mode as block E. Hence, the following rules apply: - If E is in frame mode and a neighboring block is in frame mode, the true frame-based motion vector of the neighboring block is used for E's PMV.
- If E is in frame mode and a neighboring block is in field mode, the following rules apply in calculating E's PMV. If the neighboring block (e.g.; block A) and its companion field-based block have the same reference field, the average of the assigned frame-based motion vectors of the two blocks is used for the calculation of E's PMV. The reference frame number used for the PMV calculation is the reference field number of the neighboring block divided by two. However, if the neighboring block and its companion field block have different reference fields, then the neighboring block cannot be used in the calculation of E's PMV.
- If E is in field mode and a neighboring block is in frame mode, the following rules apply in calculating E's PMV. If the neighboring block (e.g.; block A) and its companion frame-based block have the same reference frame, the average of the assigned field-based motion vectors of the two blocks is used for the calculation of E's PMV. The reference field number used for the PMV calculation is the reference frame number of the neighboring block multiplied by two. However, if the neighboring block and its companion field block have different reference frames, then the neighboring block cannot be used in the calculation of E's PMV.
- If E is in field mode and a neighboring block is in field mode, the true field-based motion vector of the neighboring block is used in the calculation of E's PMV.
- An alternate preferable option can be used in the selective method to calculate a block's PMV. In
FIG. 12 , each of block E's neighboring blocks (A, B, C, and D) may or may not be in the same frame or field coding mode as block E. Hence, the following rules apply for this alternate preferable option of the selective method: - If E is in frame mode and a neighboring block is in frame mode, the true frame-based motion vector of the neighboring block is used for E's PMV.
- If E is in frame mode and a neighboring block is in field mode, the weighted average of the assigned frame-based motion vectors of the neighboring block and its companion field-based block is used for the calculation of E's PMV. The weighting factors are based upon the reference field numbers of the neighboring block and its companion block.
- If E is in field mode, and a neighboring block is in frame mode, the weighted average of the assigned field-based motion vectors of the neighboring block and its companion frame-based block is used for the calculation of E's PMV. The weighting factors are based upon the reference frame numbers of the neighboring block and its companion block.
- If E is in field mode and a neighboring block is in field mode, the true field-based motion vector of the neighboring block is used in the calculation of E's PMV.
- Another preferable method of computing a block's PMV is the “alt selective method.” This method can be used in single macroblock AFF coding, pair based macroblock AFF coding, or group based AFF coding. In this method, each block is assigned a horizontal and a vertical index number, which represents the horizontal and vertical coordinates of the block. Each block is also assigned a horizontal and vertical field coordinate. A block's horizontal field coordinate is same as its horizontal coordinate. For a block in a top field macroblock, the vertical field coordinate is half of vertical coordinate of the block and is assigned top field polarity. For a block in the bottom field macroblock, the vertical field coordinate of the block is obtained by subtracting 4 from the vertical coordinate of the block and dividing the result by 2. The block is also assigned bottom field polarity. The result of assigning different field polarities to two blocks is that there are now two blocks with the same horizontal and vertical field coordinates but with differing field polarities. Thus, given the coordinates of a block, the field coordinates and its field polarity can be computed and vice versa.
- The alt selective method will now be explained in detail using
FIG. 12 as a reference. The PMV of block E is to be computed. Let bx represent the horizontal size of block E divided by 4, which is the size of a block in this example. The PMVs for E are obtained as follows depending on whether E is in frame/field mode. - Let block E be in frame mode and let (x,y) represent the horizontal and vertical coordinates respectively of E. The neighboring blocks of E are defined in the following manner. A is the block whose coordinates are (x−1,y). B is the block whose coordinates are (x,y−1). D is the block whose coordinates are (x−1,y−1). C is the block whose coordinates are (x+bx+1,y−1). If either A, B, C or D is in field mode then its vertical motion vector is multiplied by 2 before being used for prediction and its reference frame number is computed by dividing its reference field by 2.
- Now, let block E be in top or bottom field mode and let (xf,yf) represent the horizontal and vertical field coordinates respectively of E. In this case, the neighbors of E are defined as follows. A is the block whose field coordinates are (xf−1,yf) and has same polarity as E. B is the block whose field coordinates are (xf,yf−1) and has same polarity as E. D is the block whose field coordinates are (xf−1,yf−1) and has same polarity as E. C is the block whose field coordinates are (xf+bx+1,yf) and has same polarity as E. If either A,B,C or D is in frame mode then its vertical motion vector is multiplied by 2 before being used for prediction and its reference field is computed by multiplying its reference frame by 2.
- In all of the above methods for determining the PMV of a block, a horizontal scanning path was assumed. However, the scanning path can also be a vertical scanning path. In this case, the neighboring blocks of the current block, E, are defined as shown in
FIG. 13 . A vertical scanning path is preferable in some applications because the information on all the neighboring blocks is available for the calculation of the PMV for the current block E. - Another embodiment of the present invention is directional segmentation prediction. In directional segmentation prediction, 16 by 8 pixel blocks and 8 by 16 pixel blocks have rules that apply to their PMV calculations only. These rules apply in all PMV calculation methods for these block sizes. The rules will now be explained in detail in connection with
FIG. 12 . In each of these rules, a current block E is to have its PMV calculated. - First, a 16 by 16 pixel block consists of an upper block and a lower block. The upper block contains the top 8 rows of 16 pixels. The lower block contains the bottom 8 rows of 16 pixels. In the following description, block E of FIG. 12 is a 16 by 8 pixel block. For the upper block having a 16 by 8 pixel block, block B is used to predict block E's PMV if it has the same reference picture as block E. Otherwise, median prediction is used to predict block E's PMV. For the lower block having a 16 by 8 pixel block, block A is used to predict block E's PMV if it has the same reference picture as block E. Otherwise, median prediction is used to predict block E's PMV.
- A 16 by 16 pixel block is divided into a right and left block. Both right and left blocks are 8 by 16 pixels. In the following description, block E of
FIG. 12 is a 8 by 16 pixel block. For the left block, block A is used to predict block E's PMV if it has the same reference picture as block E. Otherwise, median prediction is used to predict block E's PMV. For the right block, block C is used to predict block E's PMV if it has the same referenced picture as block E. Otherwise median prediction is used to predict block E's PMV. - For both 16 by 8 pixel blocks and 8 by 16 blocks, A, B, or C can be in different encoding modes (frame or field) than the current block E. The following rules apply for both block sizes. If E is in frame mode, and A, B, or C is in field mode, the reference frame number of A, B, or C is computed by dividing its reference field by 2. If E is in field mode, and A, B, or C is in frame mode, the reference field number of A, B, or C is computed by multiplying its reference frame by 2.
- According to another embodiment of the present invention, a macroblock in a P picture can be skipped in AFF coding. If a macroblock is skipped, its data is not transmitted in the encoding of the picture. A skipped macroblock in a P picture is reconstructed by copying the co-located macroblock in the most recently coded reference picture. The co-located macroblock is defined as the one with motion compensation using PMV as defined above or without motion vectors. The following rules apply for skipped macroblocks in a P picture. If AFF coding is performed per macroblock, a skipped macroblock is in frame mode. If AFF coding is performed on macroblock pairs and if both macroblocks are skipped, then they are in frame mode. However, if only one of the macroblocks in a macroblock pair is skipped, its frame or field coding mode is the same as the non-skipped macroblock in the same macroblock pair. If AFF coding is performed on a group of macroblocks and if the entire group of macroblocks is skipped, then all the macroblocks are in frame mode. If there is at least one macroblock that is not skipped, then the skipped macroblocks in the same group are in the same frame or field coding mode as the non-skipped macroblock.
- An alternate method for skipped macroblocks is as follows. If a macroblock pair is skipped, its frame and field coding mode follows its neighboring macroblock pair to the left. If the left neighboring macroblock pair is not available, its coding mode follows its neighboring macroblock pair to the top. If neither the left nor top neighboring macroblock pairs are available, the skipped macroblock is set to frame mode.
- Another embodiment of the present invention is direct mode macroblock coding for B pictures. In direct mode coding, a B picture has two motion vectors, forward and backward motion vectors. Each motion vector points to a reference picture. Both the forward and backward motion vectors can point in the same temporal direction. For direct mode macroblock coding in B pictures, the forward and backward motion vectors of a block are calculated from the co-located block in the backward reference picture. The co-located block in the backward reference picture can be frame mode or field mode coded. The following rules apply in direct mode macroblock coding for B picture.
- If the co-located block is in frame mode and if the current direct mode macroblock is also in frame mode, the two associated motion vectors of a block in the direct mode macroblock are calculated from the co-located block. The forward reference frame is the one used by the co-located block. The backward reference frame is the same frame where the co-located block resides.
- If the co-located block is in frame mode and if the current direct mode macroblock is in field mode, the two associated motion vectors of a block in the direct mode macroblock are calculated from the co-located block's motion vector with vertical component divided by two. The forward reference field is the same parity field of the reference frame used by the co-located block. The backward reference field is the same parity field of the backward reference frame where the co-located block resides.
- If the co-located block is in field mode and if the current direct mode macroblock is also in field mode, the two associated motion vectors of a block in the direct mode macroblock are calculated from the co-located block of the same field parity. The forward reference field is the field used by the co-located block. The backward reference field is the same field where the co-located block resides.
- If the co-located block is in field mode and if the current direct mode macroblock is in frame mode, the two associated motion vectors of the block in the direct mode macroblock are calculated from the co-located block's motion vector with vertical component multiplied by two. The forward reference frame is the frame one of whose fields is used by the co-located block. The backward reference field is the frame in one of whose fields the co-located block resides.
- An alternate option is to force the direct mode block to be in the same frame or field coding mode as the co-located block. In this case, if the co-located block for a direct mode block is in frame mode, the direct mode block is in frame mode as well. The two frame-based motion vectors of the direct mode block are derived from the frame-based forward motion vector of the co-located block. The forward reference frame is used by the co-located block. The backward reference frame is where the co-located block resides.
- However, if the co-located block for a block in direct mode is in field mode, the direct mode block is also in field mode. The two field-based motion vectors of the direct mode block are derived from the field-based forward motion vector of the co-located block. The forward reference field is used by the co-located block. The backward reference field is where the co-located block resides.
- A macroblock in a B picture can also be skipped in AFF coding according to another embodiment of the present invention. A skipped macroblock in a B picture is reconstructed as a regular direct mode macroblock without any coded transform coefficient information. For skipped macroblocks in a B picture, the following rules apply. If AFF coding is performed per macroblock, a skipped macroblock is either in frame mode or in the frame or field coding mode of the co-located block in its backward reference picture. If AFF coding is performed on macroblock pairs and if both macroblocks are skipped, then they are in frame mode or in the frame or field coding mode of the co-located macroblock pair in the its backward reference picture. However, if only one of the macroblocks in a macroblock pair is skipped, its frame or field coding mode is the same as the non-skipped macroblock of the same macroblock pair. If AFF coding is performed on a group of macroblocks and if the entire group of macroblocks is skipped, then all the macroblocks are in frame mode or in the frame or field coding mode of the co-located group of macroblocks in the backward reference picture. If there is at least one macroblock that is not skipped, then the skipped macroblock in the same group are in the same frame or field coding mode as the non-skipped macroblock.
- As previously mentioned, a block can be intra coded. Intra blocks are spatially predictive coded. There are two possible intra coding modes for a macroblock in macroblock level AFF coding. The first is
infra 4×4 mode and the second is intra—16×16 mode. In both, each pixel's value is predicted using the real reconstructed pixel values from neighboring blocks. By predicting pixel values, more compression can be achieved. Theintra —4×4 mode and the intra—16×16 modes will each be explained in more detail below. - For
intra —4×4 mode, the predictions of the pixels in a 4 by 4 pixel block, as shown inFIG. 14 , are derived form its left and above pixels. InFIG. 14 , the 16 pixels in the 4 by 4 pixel block are labeled a through p. Also shown inFIG. 14 are the neighboring pixels A through P. The neighboring pixels are in capital letters. As shown inFIG. 15 , there are nine different prediction directions for intra—4×4 coding. They are vertical (0), horizontal (1), DC prediction (mode 2), diagonal down/left (3), diagonal down/right (4), vertical-left (5), horizontal-down (6), vertical-right (7), and horizontal-up (8). DC prediction averages all the neighboring pixels together to predict a particular pixel value. - However, for intra—16×16 mode, there are four different prediction directions. Prediction directions are also referred to as prediction modes. These prediction directions are vertical prediction (0), horizontal prediction (1), DC prediction, and plane prediction. Plane prediction will not be explained.
- An intra block and its neighboring blocks may be coded in frame or field mode. Intra prediction is performed on the reconstructed blocks. A reconstructed block can be represented in both frame and field mode, regardless of the actual frame or field coding mode of the block. Since only the pixels of the reconstructed blocks are used for intra prediction, the following rules apply.
- If a block of 4 by 4 pixels or 16 by 16 pixels is in frame mode, the neighboring pixels used in calculating the pixel value predictions of the block are in the frame structure. If a block of 4 by 4 pixels or 16 by 16 pixels is in field mode, the neighboring pixels used in calculating the pixel value prediction of the block are in field structure of the same field parity.
- The chosen intra-prediction mode (intra_pred_mode) of a 4 by 4 pixel block is highly correlated with the prediction modes of adjacent blocks. This is illustrated in
FIG. 16 a.FIG. 16 a shows that A and B are adjacent blocks to C. Block C's prediction mode is to be established.FIG. 16 b shows the order of intra prediction information in the bitstream. When the prediction modes of A and B are known (including the case that A or B or both are outside the slice) the most probable prediction mode (most_probable_mode) of C is given. If one of the blocks A or B is “outside” the most probable prediction mode is equal DC prediction (mode 2). Otherwise it is equal to the minimum of prediction modes used for blocks A and B. When an adjacent block is coded by 16×16 intra mode, prediction mode is DC prediction mode. When an adjacent block is coded a non-intra macroblock, prediction mode is “mode 2: DC prediction” in the usual case and “outside” in the case of constrained intra update. - To signal a prediction mode number for a 4 by 4 block first parameter use_most_probable mode is transmitted. This parameter is represented by 1 bit codeword and can take
values -
if(remaining_mode_selector<most_probable mode) -
intra_pred_mode=remaining_mode_selector; - else
-
intra_pred_mode=remaining_mode_selector+1; - The ordering of prediction modes assigned to blocks C is therefore the most probable mode followed by the remaining modes in the ascending order.
- An embodiment of the present invention includes the following rules that apply to intra mode prediction for an intra-prediction mode of a 4 by 4 pixel block or an intra-prediction mode of a 16 by 16 pixel block. Block C and its neighboring blocks A and B can be in frame or field mode. One of the following rules shall apply.
FIGS. 16 a-b will be used in the following explanations of the rules. - Rule 1: A or B is used as the neighboring block of C only if A or B is in the same frame/field mode as C. Otherwise, A or B is considered as outside.
- Rule 2: A and B are used as the neighboring blocks of C, regardless of their frame/field coding mode.
- Rule 3: If C is coded in frame mode and has co-ordinates (x,y), then A is the block with co-ordinates (x,y−1) and B is the block with co-ordinates (x−1,y). Otherwise, if C is coded as field and has field co-ordinates (xf,yf) then A is the block whose field coordinates are (xf,yf−1) and has same field polarity as C and B is the block whose field coordinates are (xf−1,yf) and has same field polarity as C.
- Rule 4: This rule applies to macroblock pairs only. In the case of decoding the prediction modes of blocks numbered 3, 6, 7, 9, 12, 13, 11, 14 and 15 of
FIG. 16 b, the above and the left neighboring blocks are in the same macroblock as the current block. However, in the case of decoding the prediction modes of blocks numbered 1, 4, and 5, the top block (block A) is in a different macroblock pair than the current macroblock pair. In the case of decoding the prediction mode of blocks numbered 2, 8, and 10, the left block (block B) is in a different macroblock pair. In the case of decoding the prediction mode of the block numbered 0, both the left and the above blocks are in different macroblock pairs. For a macroblock in field decoding mode the neighboring blocks of the blocks numbered 0, 1, 4, 5, 2, 8, and 10 shall be defined as follows: - If the above macroblock pair (170) is decoded in field mode, then for
blocks number FIG. 17 a. Forblocks number FIG. 17 a. - However, if the above macroblock pair (170) is decoded in frame mode then for
blocks number FIG. 17 b. Forblocks number FIG. 17 b. - If the left macroblock pair (172) is decoded in field mode, then for
blocks number FIG. 17 c. Forblocks number FIG. 17 c. - If the left macroblock pair (172) is decoded in frame mode, then for
blocks number FIG. 17 d. Forblocks number FIG. 17 d. - For macroblock pairs on the upper boundary of a slice, if the left macroblock pair (172) is in frame decoding mode, then the intra mode prediction value used to predict a field macroblock shall be set to DC prediction.
- The preceding descriptions of intra coding and intra mode prediction can be extended to adaptive block transforms.
- Another embodiment of the present invention is that loop filtering is performed on the reconstructed blocks. A reconstructed block can be represented in either frame or field structure, regardless of the frame/field coding mode of the block. Loop (deblock) filtering is a process of weighted averaging of the pixels of the neighboring blocks.
FIG. 12 will be used to explain loop filtering. Assume E ofFIG. 12 is a reconstructed block, and A, B, C and D are its neighboring reconstructed blocks, as shown inFIG. 12 , and they are all represented in frame structure. Since A, B, C, D and E can be either frame- or field-coded, the following rules apply: - Rule 1: If E is frame-coded, loop filtering is performed over the pixels of E and its neighboring blocks A B, C and D.
- Rule 2: If E is field-coded, loop filtering is performed over the top-field and bottom-field pixels of E and its neighboring blocks A B, C and D, separately.
- Another embodiment of the present invention is that padding is performed on the reconstructed frame by repeating the boundary pixels. Since the boundary blocks may be coded in frame or field mode, the following rules apply:
- Rule 1: The pixels on the left or right vertical line of a boundary block are repeated, if necessary.
- Rule 2: If a boundary block is in frame coding, the pixels on the top or bottom horizontal line of the boundary block are repeated.
- Rule 3: if a boundary block is in field coding, the pixels on the two top or two bottom horizontal (two field) lines of the boundary block are repeated alternatively.
- Another embodiment of the present invention is that two-dimensional transform coefficients are converted into one-dimensional series of coefficients before entropy coding. The scan path can be either zigzag or non-zigzag. The zigzag scanner is preferably for progressive sequences, but it may be also used for interlace sequences with slow motions. The non-zigzag scanners are preferably for interlace sequences. For macroblock AFF coding, the following options may be used:
- Option 1: The zigzag scan is used for macroblocks in frame mode while the non-zigzag scanners are used for macroblocks in field coding.
- Option 2: The zigzag scan is used for macroblocks in both frame and field modes.
- Option 3: The non-zigzag scan is used for macroblocks in both frame and field modes.
- The preceding description has been presented only to illustrate and describe embodiments of invention. It is not intended to be exhaustive or to limit the invention to any precise form disclosed. Many modifications and variations are possible in light of the above teaching.
- The foregoing embodiments were chosen and described in order to illustrate principles of the invention and some practical applications. The preceding description enables others skilled in the art to utilize the invention in various embodiments and with various modifications as are suited to the particular use contemplated. It is intended that the scope of the invention be defined by the following claims.
Claims (15)
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US12/907,656 US20110085593A1 (en) | 2001-11-27 | 2010-10-19 | Macroblock Level Adaptive Frame/Field Coding for Digital Video Content |
Applications Claiming Priority (6)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US33392101P | 2001-11-27 | 2001-11-27 | |
US39573402P | 2002-07-12 | 2002-07-12 | |
US39816102P | 2002-07-23 | 2002-07-23 | |
US10/301,290 US6980596B2 (en) | 2001-11-27 | 2002-11-20 | Macroblock level adaptive frame/field coding for digital video content |
US11/027,869 US7817718B2 (en) | 2001-11-27 | 2004-12-30 | Macroblock level adaptive frame/field coding for digital video content |
US12/907,656 US20110085593A1 (en) | 2001-11-27 | 2010-10-19 | Macroblock Level Adaptive Frame/Field Coding for Digital Video Content |
Related Parent Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US11/027,869 Continuation US7817718B2 (en) | 2001-11-27 | 2004-12-30 | Macroblock level adaptive frame/field coding for digital video content |
Publications (1)
Publication Number | Publication Date |
---|---|
US20110085593A1 true US20110085593A1 (en) | 2011-04-14 |
Family
ID=27501789
Family Applications (10)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US10/301,290 Expired - Lifetime US6980596B2 (en) | 2001-11-21 | 2002-11-20 | Macroblock level adaptive frame/field coding for digital video content |
US11/027,098 Active 2024-10-05 US7477690B2 (en) | 2001-11-27 | 2004-12-30 | Macroblock level adaptive frame/field coding for digital video content |
US11/027,656 Active 2024-06-23 US7310377B2 (en) | 2001-11-27 | 2004-12-30 | Macroblock level adaptive frame/field coding for digital video content |
US11/027,869 Expired - Lifetime US7817718B2 (en) | 2001-11-27 | 2004-12-30 | Macroblock level adaptive frame/field coding for digital video content |
US11/027,265 Expired - Lifetime US7310374B2 (en) | 2001-11-27 | 2004-12-30 | Macroblock level adaptive frame/field coding for digital video content |
US11/026,394 Expired - Lifetime US7310376B2 (en) | 2001-11-27 | 2004-12-30 | Macroblock level adaptive frame/field coding for digital video content |
US11/027,626 Expired - Lifetime US7310375B2 (en) | 2001-11-27 | 2004-12-30 | Macroblock level adaptive frame/field coding for digital video content |
US11/026,395 Expired - Lifetime US7421025B2 (en) | 2001-11-27 | 2004-12-30 | Macroblock level adaptive frame/field coding for digital video content |
US11/252,092 Abandoned US20060109913A1 (en) | 2001-11-27 | 2005-10-17 | Macroblock level adaptive frame/field coding for digital video content |
US12/907,656 Abandoned US20110085593A1 (en) | 2001-11-27 | 2010-10-19 | Macroblock Level Adaptive Frame/Field Coding for Digital Video Content |
Family Applications Before (9)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US10/301,290 Expired - Lifetime US6980596B2 (en) | 2001-11-21 | 2002-11-20 | Macroblock level adaptive frame/field coding for digital video content |
US11/027,098 Active 2024-10-05 US7477690B2 (en) | 2001-11-27 | 2004-12-30 | Macroblock level adaptive frame/field coding for digital video content |
US11/027,656 Active 2024-06-23 US7310377B2 (en) | 2001-11-27 | 2004-12-30 | Macroblock level adaptive frame/field coding for digital video content |
US11/027,869 Expired - Lifetime US7817718B2 (en) | 2001-11-27 | 2004-12-30 | Macroblock level adaptive frame/field coding for digital video content |
US11/027,265 Expired - Lifetime US7310374B2 (en) | 2001-11-27 | 2004-12-30 | Macroblock level adaptive frame/field coding for digital video content |
US11/026,394 Expired - Lifetime US7310376B2 (en) | 2001-11-27 | 2004-12-30 | Macroblock level adaptive frame/field coding for digital video content |
US11/027,626 Expired - Lifetime US7310375B2 (en) | 2001-11-27 | 2004-12-30 | Macroblock level adaptive frame/field coding for digital video content |
US11/026,395 Expired - Lifetime US7421025B2 (en) | 2001-11-27 | 2004-12-30 | Macroblock level adaptive frame/field coding for digital video content |
US11/252,092 Abandoned US20060109913A1 (en) | 2001-11-27 | 2005-10-17 | Macroblock level adaptive frame/field coding for digital video content |
Country Status (3)
Country | Link |
---|---|
US (10) | US6980596B2 (en) |
EP (5) | EP2268039B1 (en) |
DK (4) | DK2268040T3 (en) |
Cited By (11)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20070053433A1 (en) * | 2005-09-06 | 2007-03-08 | Samsung Electronics Co., Ltd. | Method and apparatus for video intraprediction encoding and decoding |
US20110064141A1 (en) * | 2001-11-27 | 2011-03-17 | General Instrument Corporation | Picture Level Adaptive Frame/Field Coding for Digital Video Content |
US20110170602A1 (en) * | 2010-01-14 | 2011-07-14 | Samsung Electronics Co., Ltd. | Method and apparatus for encoding and decoding motion vector |
US20120224637A1 (en) * | 2011-03-03 | 2012-09-06 | Toshiyasu Sugio | Moving picture coding method, moving picture decoding method, moving picture coding apparatus, moving picture decoding apparatus, and moving picture coding and decoding apparatus |
US8787463B2 (en) | 2009-08-13 | 2014-07-22 | Samsung Electronics Co., Ltd. | Method and apparatus for encoding/decoding motion vector |
US9083981B2 (en) | 2011-01-12 | 2015-07-14 | Panasonic Intellectual Property Corporation Of America | Moving picture coding method and moving picture decoding method using a determination whether or not a reference block has two reference motion vectors that refer forward in display order with respect to a current picture |
US9300961B2 (en) | 2010-11-24 | 2016-03-29 | Panasonic Intellectual Property Corporation Of America | Motion vector calculation method, picture coding method, picture decoding method, motion vector calculation apparatus, and picture coding and decoding apparatus |
US9654785B2 (en) | 2011-06-09 | 2017-05-16 | Qualcomm Incorporated | Enhanced intra-prediction mode signaling for video coding using neighboring mode |
US9762924B2 (en) | 2011-07-02 | 2017-09-12 | Samsung Electronics Co., Ltd. | Method and apparatus for coding video, and method and apparatus for decoding video accompanied by inter prediction using collocated image |
US9860528B2 (en) | 2011-06-10 | 2018-01-02 | Hfi Innovation Inc. | Method and apparatus of scalable video coding |
US10404998B2 (en) | 2011-02-22 | 2019-09-03 | Sun Patent Trust | Moving picture coding method, moving picture coding apparatus, moving picture decoding method, and moving picture decoding apparatus |
Families Citing this family (140)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
KR100282147B1 (en) * | 1998-11-13 | 2001-02-15 | 구자홍 | Compressed Image Restoration Method |
US6499060B1 (en) | 1999-03-12 | 2002-12-24 | Microsoft Corporation | Media coding for loss recovery with remotely predicted data units |
JP4682410B2 (en) * | 2000-10-12 | 2011-05-11 | ソニー株式会社 | Image processing apparatus and image processing method |
US6980596B2 (en) * | 2001-11-27 | 2005-12-27 | General Instrument Corporation | Macroblock level adaptive frame/field coding for digital video content |
CN100452883C (en) | 2001-12-17 | 2009-01-14 | 微软公司 | Skip macroblock coding |
CN101448162B (en) | 2001-12-17 | 2013-01-02 | 微软公司 | Method for processing video image |
JP4114859B2 (en) | 2002-01-09 | 2008-07-09 | 松下電器産業株式会社 | Motion vector encoding method and motion vector decoding method |
US7003035B2 (en) * | 2002-01-25 | 2006-02-21 | Microsoft Corporation | Video coding methods and apparatuses |
JP2004088722A (en) * | 2002-03-04 | 2004-03-18 | Matsushita Electric Ind Co Ltd | Motion picture encoding method and motion picture decoding method |
HUE045566T2 (en) | 2002-04-19 | 2020-01-28 | Panasonic Ip Corp America | Motion vector calculating method |
US20030202590A1 (en) * | 2002-04-30 | 2003-10-30 | Qunshan Gu | Video encoding using direct mode predicted frames |
US7386048B2 (en) | 2002-05-28 | 2008-06-10 | Sharp Laboratories Of America, Inc. | Methods and systems for image intra-prediction mode organization |
US20040001546A1 (en) | 2002-06-03 | 2004-01-01 | Alexandros Tourapis | Spatiotemporal prediction for bidirectionally predictive (B) pictures and motion vector prediction for multi-picture reference motion compensation |
US7280700B2 (en) * | 2002-07-05 | 2007-10-09 | Microsoft Corporation | Optimization techniques for data compression |
BR0312657A (en) * | 2002-07-16 | 2007-06-26 | Nokia Corp | method for performing a gradual restoration of random access image content in an encoded video sequence |
KR100865034B1 (en) | 2002-07-18 | 2008-10-23 | 엘지전자 주식회사 | Method for predicting motion vector |
US7154952B2 (en) | 2002-07-19 | 2006-12-26 | Microsoft Corporation | Timestamp-independent motion vector prediction for predictive (P) and bidirectionally predictive (B) pictures |
US7813429B2 (en) * | 2002-08-13 | 2010-10-12 | Lsi Corporation | System and method for segmentation of macroblocks |
US7020200B2 (en) * | 2002-08-13 | 2006-03-28 | Lsi Logic Corporation | System and method for direct motion vector prediction in bi-predictive video frames and fields |
JP3791922B2 (en) * | 2002-09-06 | 2006-06-28 | 富士通株式会社 | Moving picture decoding apparatus and method |
US7266247B2 (en) | 2002-09-30 | 2007-09-04 | Samsung Electronics Co., Ltd. | Image coding method and apparatus using spatial predictive coding of chrominance and image decoding method and apparatus |
CA2763080C (en) * | 2002-10-01 | 2014-12-02 | Panasonic Corporation | Picture coding apparatus, picture decoding apparatus and the methods |
CN101141651B (en) * | 2002-11-25 | 2010-11-10 | 松下电器产业株式会社 | Motion compensation method, picture coding method and picture decoding method |
BRPI0318759B1 (en) * | 2002-11-25 | 2018-02-27 | Godo Kaisha Ip Bridge 1 | “Mobile image coding method and apparatus” |
US20060135765A1 (en) * | 2003-01-09 | 2006-06-22 | Perkins Walter R | Antineoplastic ether lipid compounds |
MXPA05007453A (en) * | 2003-01-10 | 2005-09-12 | Thomson Licensing Sa | Fast mode decision making for interframe encoding. |
US20060048659A1 (en) * | 2003-01-16 | 2006-03-09 | Hunter Douglas Inc. | Covering for architectural surfaces and method of forming and applying same |
KR100693669B1 (en) | 2003-03-03 | 2007-03-09 | 엘지전자 주식회사 | Determination of a reference picture for processing a field macroblock |
BRPI0408087A (en) * | 2003-03-03 | 2006-02-14 | Agency Science Tech & Res | advanced video encoding (avc) intraprediction method for digital video encoding, apparatus using that intraprediction and computer program product |
KR100750110B1 (en) * | 2003-04-22 | 2007-08-17 | 삼성전자주식회사 | 4x4 intra luma prediction mode determining method and apparatus |
US7577636B2 (en) * | 2003-05-28 | 2009-08-18 | Fernandez Dennis S | Network-extensible reconfigurable media appliance |
US9210441B2 (en) * | 2003-06-25 | 2015-12-08 | Thomson Licensing | Fast mode-decision encoding for interframes |
US7499495B2 (en) * | 2003-07-18 | 2009-03-03 | Microsoft Corporation | Extended range motion vectors |
US7830963B2 (en) | 2003-07-18 | 2010-11-09 | Microsoft Corporation | Decoding jointly coded transform type and subblock pattern information |
US20050013498A1 (en) | 2003-07-18 | 2005-01-20 | Microsoft Corporation | Coding of motion vector information |
US7738554B2 (en) * | 2003-07-18 | 2010-06-15 | Microsoft Corporation | DC coefficient signaling at small quantization step sizes |
US7426308B2 (en) * | 2003-07-18 | 2008-09-16 | Microsoft Corporation | Intraframe and interframe interlace coding and decoding |
US10554985B2 (en) | 2003-07-18 | 2020-02-04 | Microsoft Technology Licensing, Llc | DC coefficient signaling at small quantization step sizes |
US7724827B2 (en) * | 2003-09-07 | 2010-05-25 | Microsoft Corporation | Multi-layer run level encoding and decoding |
US8064520B2 (en) * | 2003-09-07 | 2011-11-22 | Microsoft Corporation | Advanced bi-directional predictive coding of interlaced video |
US7599438B2 (en) * | 2003-09-07 | 2009-10-06 | Microsoft Corporation | Motion vector block pattern coding and decoding |
US7577198B2 (en) | 2003-09-07 | 2009-08-18 | Microsoft Corporation | Number of reference fields for an interlaced forward-predicted field |
US7606308B2 (en) * | 2003-09-07 | 2009-10-20 | Microsoft Corporation | Signaling macroblock mode information for macroblocks of interlaced forward-predicted fields |
US7317839B2 (en) * | 2003-09-07 | 2008-01-08 | Microsoft Corporation | Chroma motion vector derivation for interlaced forward-predicted fields |
US7577200B2 (en) * | 2003-09-07 | 2009-08-18 | Microsoft Corporation | Extended range variable length coding/decoding of differential motion vector information |
US7567617B2 (en) * | 2003-09-07 | 2009-07-28 | Microsoft Corporation | Predicting motion vectors for fields of forward-predicted interlaced video frames |
US7620106B2 (en) * | 2003-09-07 | 2009-11-17 | Microsoft Corporation | Joint coding and decoding of a reference field selection and differential motion vector information |
US8085844B2 (en) * | 2003-09-07 | 2011-12-27 | Microsoft Corporation | Signaling reference frame distances |
US7623574B2 (en) * | 2003-09-07 | 2009-11-24 | Microsoft Corporation | Selecting between dominant and non-dominant motion vector predictor polarities |
US7616692B2 (en) * | 2003-09-07 | 2009-11-10 | Microsoft Corporation | Hybrid motion vector prediction for interlaced forward-predicted fields |
US7286710B2 (en) * | 2003-10-01 | 2007-10-23 | Fraunhofer-Gesellschaft Zur Foerderung Der Angewandten Forschung E.V. | Coding of a syntax element contained in a pre-coded video signal |
US8223844B2 (en) | 2003-11-14 | 2012-07-17 | Intel Corporation | High frequency emphasis in decoding of encoded signals |
US7379608B2 (en) * | 2003-12-04 | 2008-05-27 | Fraunhofer-Gesellschaft Zur Foerderung Der Angewandten Forschung, E.V. | Arithmetic coding for transforming video and picture data units |
CN1301015C (en) * | 2003-12-15 | 2007-02-14 | 财团法人资讯工业策进会 | Video signal conversion coding system with adaptive image rate reducing |
US7599435B2 (en) | 2004-01-30 | 2009-10-06 | Fraunhofer-Gesellschaft Zur Foerderung Der Angewandten Forschung E.V. | Video frame encoding and decoding |
US7586924B2 (en) * | 2004-02-27 | 2009-09-08 | Fraunhofer-Gesellschaft Zur Foerderung Der Angewandten Forschung E.V. | Apparatus and method for coding an information signal into a data stream, converting the data stream and decoding the data stream |
KR100647948B1 (en) * | 2004-03-22 | 2006-11-17 | 엘지전자 주식회사 | Method for refreshing of adaptative intra macro block |
US8467447B2 (en) * | 2004-05-07 | 2013-06-18 | International Business Machines Corporation | Method and apparatus to determine prediction modes to achieve fast video encoding |
KR100614647B1 (en) * | 2004-07-02 | 2006-08-22 | 삼성전자주식회사 | Register array structure for effective edge filtering operation of deblocking filter |
CN101686397B (en) * | 2004-09-16 | 2013-07-31 | 汤姆逊许可证公司 | Method for rapid video frame and field coding |
JP5046335B2 (en) * | 2004-11-04 | 2012-10-10 | トムソン ライセンシング | Method and apparatus for fast mode determination of B frames in a video encoder |
KR100843196B1 (en) * | 2004-12-17 | 2008-07-02 | 삼성전자주식회사 | Deblocking filter of H.264/AVC video decoder |
US20060133494A1 (en) * | 2004-12-17 | 2006-06-22 | Rahul Saxena | Image decoder with context-based parameter buffer |
US8634413B2 (en) | 2004-12-30 | 2014-01-21 | Microsoft Corporation | Use of frame caching to improve packet loss recovery |
US9154808B2 (en) * | 2005-01-14 | 2015-10-06 | Thomson Licensing | Method and apparatus for INTRA prediction for RRU |
JP5213456B2 (en) | 2005-02-18 | 2013-06-19 | トムソン ライセンシング | Method for deriving encoding information of high resolution picture from low resolution picture, and encoding and decoding apparatus for realizing the method |
JP4398925B2 (en) * | 2005-03-31 | 2010-01-13 | 株式会社東芝 | Interpolation frame generation method, interpolation frame generation apparatus, and interpolation frame generation program |
US8208540B2 (en) * | 2005-08-05 | 2012-06-26 | Lsi Corporation | Video bitstream transcoding method and apparatus |
US8155194B2 (en) * | 2005-08-05 | 2012-04-10 | Lsi Corporation | Method and apparatus for MPEG-2 to H.264 video transcoding |
US8045618B2 (en) | 2005-08-05 | 2011-10-25 | Lsi Corporation | Method and apparatus for MPEG-2 to VC-1 video transcoding |
US7903739B2 (en) * | 2005-08-05 | 2011-03-08 | Lsi Corporation | Method and apparatus for VC-1 to MPEG-2 video transcoding |
US7881384B2 (en) | 2005-08-05 | 2011-02-01 | Lsi Corporation | Method and apparatus for H.264 to MPEG-2 video transcoding |
US7912127B2 (en) * | 2005-08-05 | 2011-03-22 | Lsi Corporation | H.264 to VC-1 and VC-1 to H.264 transcoding |
US9077960B2 (en) | 2005-08-12 | 2015-07-07 | Microsoft Corporation | Non-zero coefficient block pattern coding |
US20070058723A1 (en) * | 2005-09-14 | 2007-03-15 | Chandramouly Ashwin A | Adaptively adjusted slice width selection |
JP2007088922A (en) * | 2005-09-22 | 2007-04-05 | Sanyo Electric Co Ltd | Encoding apparatus and encoding method |
US8446956B2 (en) * | 2006-01-05 | 2013-05-21 | Thomson Licensing | Inter-layer motion prediction method using resampling |
FR2897213A1 (en) * | 2006-02-08 | 2007-08-10 | Thomson Licensing Sas | BLOCK ENCODING METHOD OF IMAGES OF A SEQUENCE OF VIDEO IMAGES |
US7889789B2 (en) * | 2006-04-07 | 2011-02-15 | Microsoft Corporation | Making interlace frame level coding mode decisions |
KR100791299B1 (en) * | 2006-04-11 | 2008-01-04 | 삼성전자주식회사 | Multi-layer based video encoding method and apparatus thereof |
NO20062097L (en) * | 2006-05-10 | 2007-11-12 | Ntnu Technology Transfer As | Method and device for video encoding and decoding |
EP1879399A1 (en) * | 2006-07-12 | 2008-01-16 | THOMSON Licensing | Method for deriving motion data for high resolution pictures from motion data of low resolution pictures and coding and decoding devices implementing said method |
KR100882949B1 (en) * | 2006-08-17 | 2009-02-10 | 한국전자통신연구원 | Apparatus and method of encoding and decoding using adaptive scanning of DCT coefficients according to the pixel similarity |
JP4763549B2 (en) * | 2006-08-18 | 2011-08-31 | 富士通セミコンダクター株式会社 | Inter-frame prediction processing apparatus, image encoding apparatus, and image decoding apparatus |
ZA200901048B (en) * | 2006-09-29 | 2010-05-26 | Thomson Licensing | Geometric intra prediction |
JP5746811B2 (en) * | 2006-12-21 | 2015-07-08 | 味の素株式会社 | Colorectal cancer evaluation method, colorectal cancer evaluation device, colorectal cancer evaluation method, colorectal cancer evaluation system, colorectal cancer evaluation program, and recording medium |
KR101383540B1 (en) * | 2007-01-03 | 2014-04-09 | 삼성전자주식회사 | Method of estimating motion vector using multiple motion vector predictors, apparatus, encoder, decoder and decoding method |
EP2136564A1 (en) * | 2007-01-09 | 2009-12-23 | Kabushiki Kaisha Toshiba | Image encoding and decoding method and device |
TW200836130A (en) * | 2007-02-16 | 2008-09-01 | Thomson Licensing | Bitrate reduction method by requantization |
US8649615B2 (en) * | 2007-06-18 | 2014-02-11 | Canon Kabushiki Kaisha | Moving picture compression coding apparatus |
US8254455B2 (en) | 2007-06-30 | 2012-08-28 | Microsoft Corporation | Computing collocated macroblock information for direct mode macroblocks |
TWI364222B (en) * | 2007-09-05 | 2012-05-11 | Via Tech Inc | Method and device for generating prediction mode parameter |
US8270471B2 (en) * | 2007-11-08 | 2012-09-18 | Mediatek, Inc. | Encoders and scheduling methods for macroblock-based adaptive frame/filed coding |
US8885726B2 (en) * | 2007-12-04 | 2014-11-11 | Vixs Systems, Inc. | Neighbor management for use in entropy encoding and methods for use therewith |
US8432970B1 (en) | 2007-12-14 | 2013-04-30 | Marvell International Ltd. | Block type selection |
EP2223527A1 (en) * | 2007-12-21 | 2010-09-01 | Telefonaktiebolaget LM Ericsson (publ) | Adaptive intra mode selection |
US20090167775A1 (en) | 2007-12-30 | 2009-07-02 | Ning Lu | Motion estimation compatible with multiple standards |
KR101445791B1 (en) * | 2008-05-10 | 2014-10-02 | 삼성전자주식회사 | Method and apparatus for encoding/decoding interlace scanning image using motion vector transformation |
US8270467B1 (en) | 2008-05-13 | 2012-09-18 | Marvell International Ltd. | Encoding image data |
KR101361005B1 (en) | 2008-06-24 | 2014-02-13 | 에스케이 텔레콤주식회사 | Intra Prediction Method and Apparatus and Image Encoding/Decoding Method and Apparatus Using Same |
US8634456B2 (en) * | 2008-10-03 | 2014-01-21 | Qualcomm Incorporated | Video coding with large macroblocks |
US8619856B2 (en) * | 2008-10-03 | 2013-12-31 | Qualcomm Incorporated | Video coding with large macroblocks |
US8503527B2 (en) | 2008-10-03 | 2013-08-06 | Qualcomm Incorporated | Video coding with large macroblocks |
US8861586B2 (en) * | 2008-10-14 | 2014-10-14 | Nvidia Corporation | Adaptive deblocking in a decoding pipeline |
US8724694B2 (en) * | 2008-10-14 | 2014-05-13 | Nvidia Corporation | On-the spot deblocker in a decoding pipeline |
US8867605B2 (en) * | 2008-10-14 | 2014-10-21 | Nvidia Corporation | Second deblocker in a decoding pipeline |
US9179166B2 (en) * | 2008-12-05 | 2015-11-03 | Nvidia Corporation | Multi-protocol deblock engine core system and method |
US8761538B2 (en) * | 2008-12-10 | 2014-06-24 | Nvidia Corporation | Measurement-based and scalable deblock filtering of image data |
US8189666B2 (en) | 2009-02-02 | 2012-05-29 | Microsoft Corporation | Local picture identifier and computation of co-located information |
US8559733B2 (en) * | 2009-03-31 | 2013-10-15 | Citrix Systems, Inc. | Methods and systems for approximating progressive image encoding using image partitioning |
KR101527085B1 (en) * | 2009-06-30 | 2015-06-10 | 한국전자통신연구원 | Intra encoding/decoding method and apparautus |
CN104796717B (en) | 2009-07-01 | 2018-11-06 | 汤姆森特许公司 | Method and apparatus for video encoder and decoder |
KR101474756B1 (en) | 2009-08-13 | 2014-12-19 | 삼성전자주식회사 | Method and apparatus for encoding and decoding image using large transform unit |
KR101487686B1 (en) | 2009-08-14 | 2015-01-30 | 삼성전자주식회사 | Method and apparatus for video encoding, and method and apparatus for video decoding |
KR101624649B1 (en) | 2009-08-14 | 2016-05-26 | 삼성전자주식회사 | Method and apparatus for video encoding considering hierarchical coded block pattern, and method and apparatus for video decoding considering hierarchical coded block pattern |
US9621892B2 (en) * | 2009-12-18 | 2017-04-11 | Sony Corporation | Emulation of Bi predicted pictures using adjacent pictures for improved video |
WO2011126282A2 (en) * | 2010-04-05 | 2011-10-13 | Samsung Electronics Co., Ltd. | Method and apparatus for encoding video by using transformation index, and method and apparatus for decoding video by using transformation index |
KR20110112168A (en) * | 2010-04-05 | 2011-10-12 | 삼성전자주식회사 | Method and apparatus for video encoding based on internal bitdepth increment, method and apparatus for video decoding based on internal bitdepth increment |
US9369736B2 (en) | 2010-04-05 | 2016-06-14 | Samsung Electronics Co., Ltd. | Low complexity entropy-encoding/decoding method and apparatus |
WO2011126283A2 (en) | 2010-04-05 | 2011-10-13 | Samsung Electronics Co., Ltd. | Method and apparatus for encoding video based on internal bit depth increment, and method and apparatus for decoding video based on internal bit depth increment |
US8619857B2 (en) | 2010-04-09 | 2013-12-31 | Sharp Laboratories Of America, Inc. | Methods and systems for intra prediction |
US20110249734A1 (en) * | 2010-04-09 | 2011-10-13 | Segall Christopher A | Methods and Systems for Intra Prediction |
US8644375B2 (en) | 2010-04-09 | 2014-02-04 | Sharp Laboratories Of America, Inc. | Methods and systems for intra prediction |
DK3457689T3 (en) * | 2010-05-25 | 2020-10-12 | Lg Electronics Inc | NEW PLANAR PREDICTION MODE |
KR101456499B1 (en) * | 2010-07-09 | 2014-11-03 | 삼성전자주식회사 | Method and apparatus for encoding and decoding motion vector |
WO2012037139A2 (en) | 2010-09-13 | 2012-03-22 | Contour, Inc. | Portable digital video camera configured for remote image acquisition control and viewing |
US8923395B2 (en) | 2010-10-01 | 2014-12-30 | Qualcomm Incorporated | Video coding using intra-prediction |
EP2719182B1 (en) | 2011-06-07 | 2018-05-02 | Thomson Licensing | Method for encoding and/or decoding images on macroblock level using intra-prediction |
WO2013067435A1 (en) * | 2011-11-04 | 2013-05-10 | Huawei Technologies Co., Ltd. | Differential pulse code modulation intra prediction for high efficiency video coding |
US9014265B1 (en) | 2011-12-29 | 2015-04-21 | Google Inc. | Video coding using edge detection and block partitioning for intra prediction |
US9210424B1 (en) | 2013-02-28 | 2015-12-08 | Google Inc. | Adaptive prediction block size in video coding |
US9313493B1 (en) | 2013-06-27 | 2016-04-12 | Google Inc. | Advanced motion estimation |
US10382059B2 (en) * | 2013-07-03 | 2019-08-13 | Samsung Electronics Co., Ltd. | Transmitting apparatus, encoding method thereof, receiving apparatus, and decoding method thereof |
KR20160102075A (en) * | 2014-01-01 | 2016-08-26 | 엘지전자 주식회사 | Method and apparatus for processing video signal for reducing visibility of blocking artifacts |
WO2016078599A1 (en) * | 2014-11-20 | 2016-05-26 | Mediatek Inc. | Method of motion vector and block vector resolution control |
US9807416B2 (en) | 2015-09-21 | 2017-10-31 | Google Inc. | Low-latency two-pass video coding |
CN105657427A (en) * | 2016-01-25 | 2016-06-08 | 成都国铁电气设备有限公司 | High-definition image compression method and system suitable for catenary |
EP3513561A1 (en) | 2016-09-30 | 2019-07-24 | Huawei Technologies Co., Ltd. | Apparatuses and methods for encoding and decoding a panoramic video signal |
US10531085B2 (en) | 2017-05-09 | 2020-01-07 | Futurewei Technologies, Inc. | Coding chroma samples in video compression |
US10812797B2 (en) * | 2018-02-05 | 2020-10-20 | Tencent America LLC | Method, apparatus and medium for decoding or encoding using a low-complexity transform |
Citations (11)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US4437119A (en) * | 1981-06-19 | 1984-03-13 | Kokusai Denshin Denwa Kabushiki Kaisha | Inter-frame adaptive prediction system for television signals |
US5231484A (en) * | 1991-11-08 | 1993-07-27 | International Business Machines Corporation | Motion video compression system with adaptive bit allocation and quantization |
US5412428A (en) * | 1992-12-28 | 1995-05-02 | Sony Corporation | Encoding method and decoding method of color signal component of picture signal having plurality resolutions |
US5504530A (en) * | 1992-06-25 | 1996-04-02 | Sony Corporation | Apparatus and method for coding and decoding image signals |
US5801778A (en) * | 1996-05-23 | 1998-09-01 | C-Cube Microsystems, Inc. | Video encoding with multi-stage projection motion estimation |
US5825419A (en) * | 1995-09-29 | 1998-10-20 | Mitsubishi Denki Kabushiki Kaisha | Coding device and decoding device of digital image signal |
US6094225A (en) * | 1997-12-02 | 2000-07-25 | Daewoo Electronics, Co., Ltd. | Method and apparatus for encoding mode signals for use in a binary shape coder |
US6192148B1 (en) * | 1998-11-05 | 2001-02-20 | Winbond Electronics Corp. | Method for determining to skip macroblocks in encoding video |
US6404813B1 (en) * | 1997-03-27 | 2002-06-11 | At&T Corp. | Bidirectionally predicted pictures or video object planes for efficient and flexible video coding |
US6571016B1 (en) * | 1997-05-05 | 2003-05-27 | Microsoft Corporation | Intra compression of pixel blocks using predicted mean |
US7817718B2 (en) * | 2001-11-27 | 2010-10-19 | General Instrument Corporation | Macroblock level adaptive frame/field coding for digital video content |
Family Cites Families (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
FR2542540B1 (en) | 1983-03-08 | 1989-02-10 | Canon Kk | IMAGE PROCESSING SYSTEM |
DE4113505A1 (en) | 1991-04-25 | 1992-10-29 | Thomson Brandt Gmbh | METHOD FOR IMAGE SIGNAL CODING |
US6226327B1 (en) * | 1992-06-29 | 2001-05-01 | Sony Corporation | Video coding method and apparatus which select between frame-based and field-based predictive modes |
-
2002
- 2002-11-20 US US10/301,290 patent/US6980596B2/en not_active Expired - Lifetime
- 2002-11-21 EP EP10182624.6A patent/EP2268039B1/en not_active Expired - Lifetime
- 2002-11-21 DK DK10182726.9T patent/DK2268040T3/en active
- 2002-11-21 EP EP10182643A patent/EP2288167A1/en not_active Withdrawn
- 2002-11-21 EP EP10182654.3A patent/EP2271115B1/en not_active Expired - Lifetime
- 2002-11-21 DK DK10182624.6T patent/DK2268039T3/en active
- 2002-11-21 EP EP10182629.5A patent/EP2285121B1/en not_active Expired - Lifetime
- 2002-11-21 EP EP10182726.9A patent/EP2268040B1/en not_active Expired - Lifetime
- 2002-11-21 DK DK10182654.3T patent/DK2271115T3/en active
- 2002-11-21 DK DK10182629.5T patent/DK2285121T3/en active
-
2004
- 2004-12-30 US US11/027,098 patent/US7477690B2/en active Active
- 2004-12-30 US US11/027,656 patent/US7310377B2/en active Active
- 2004-12-30 US US11/027,869 patent/US7817718B2/en not_active Expired - Lifetime
- 2004-12-30 US US11/027,265 patent/US7310374B2/en not_active Expired - Lifetime
- 2004-12-30 US US11/026,394 patent/US7310376B2/en not_active Expired - Lifetime
- 2004-12-30 US US11/027,626 patent/US7310375B2/en not_active Expired - Lifetime
- 2004-12-30 US US11/026,395 patent/US7421025B2/en not_active Expired - Lifetime
-
2005
- 2005-10-17 US US11/252,092 patent/US20060109913A1/en not_active Abandoned
-
2010
- 2010-10-19 US US12/907,656 patent/US20110085593A1/en not_active Abandoned
Patent Citations (11)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US4437119A (en) * | 1981-06-19 | 1984-03-13 | Kokusai Denshin Denwa Kabushiki Kaisha | Inter-frame adaptive prediction system for television signals |
US5231484A (en) * | 1991-11-08 | 1993-07-27 | International Business Machines Corporation | Motion video compression system with adaptive bit allocation and quantization |
US5504530A (en) * | 1992-06-25 | 1996-04-02 | Sony Corporation | Apparatus and method for coding and decoding image signals |
US5412428A (en) * | 1992-12-28 | 1995-05-02 | Sony Corporation | Encoding method and decoding method of color signal component of picture signal having plurality resolutions |
US5825419A (en) * | 1995-09-29 | 1998-10-20 | Mitsubishi Denki Kabushiki Kaisha | Coding device and decoding device of digital image signal |
US5801778A (en) * | 1996-05-23 | 1998-09-01 | C-Cube Microsystems, Inc. | Video encoding with multi-stage projection motion estimation |
US6404813B1 (en) * | 1997-03-27 | 2002-06-11 | At&T Corp. | Bidirectionally predicted pictures or video object planes for efficient and flexible video coding |
US6571016B1 (en) * | 1997-05-05 | 2003-05-27 | Microsoft Corporation | Intra compression of pixel blocks using predicted mean |
US6094225A (en) * | 1997-12-02 | 2000-07-25 | Daewoo Electronics, Co., Ltd. | Method and apparatus for encoding mode signals for use in a binary shape coder |
US6192148B1 (en) * | 1998-11-05 | 2001-02-20 | Winbond Electronics Corp. | Method for determining to skip macroblocks in encoding video |
US7817718B2 (en) * | 2001-11-27 | 2010-10-19 | General Instrument Corporation | Macroblock level adaptive frame/field coding for digital video content |
Non-Patent Citations (2)
Title |
---|
Chen et al, "Hybrid Extended MPEG Video Coding Algorithm for General Video Applications", 1993, Elsevier Science Publishers, pages 21-37 * |
Chen et al, "Hybrid Extended MPEG Video Coding Algorithm for General Video Applications", 1993, Elsevier Science Publishers, pages 21-37. * |
Cited By (36)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20110064141A1 (en) * | 2001-11-27 | 2011-03-17 | General Instrument Corporation | Picture Level Adaptive Frame/Field Coding for Digital Video Content |
US8630350B2 (en) | 2001-11-27 | 2014-01-14 | Motorola Mobility Llc | Picture level adaptive frame/field coding for digital video content |
US20070053433A1 (en) * | 2005-09-06 | 2007-03-08 | Samsung Electronics Co., Ltd. | Method and apparatus for video intraprediction encoding and decoding |
US9001890B2 (en) | 2005-09-06 | 2015-04-07 | Samsung Electronics Co., Ltd. | Method and apparatus for video intraprediction encoding and decoding |
US8792558B2 (en) | 2009-08-13 | 2014-07-29 | Samsung Electronics Co., Ltd. | Method and apparatus for encoding/decoding motion vector |
US8787463B2 (en) | 2009-08-13 | 2014-07-22 | Samsung Electronics Co., Ltd. | Method and apparatus for encoding/decoding motion vector |
US9106924B2 (en) | 2010-01-14 | 2015-08-11 | Samsung Electronics Co., Ltd. | Method and apparatus for encoding and decoding motion vector by predicting motion vector according to mode |
US9131237B2 (en) | 2010-01-14 | 2015-09-08 | Samsung Electronics Co., Ltd. | Method and apparatus for encoding and decoding motion vector by predicting motion vector according to mode |
US8861610B2 (en) | 2010-01-14 | 2014-10-14 | Samsung Electronics Co., Ltd. | Method and apparatus for encoding and decoding motion vector by obtaining motion vector predictor candidate using co-located block |
US8861608B2 (en) | 2010-01-14 | 2014-10-14 | Samsung Electronics Co., Ltd. | Method and apparatus for encoding and decoding motion vector by obtaining motion vector predictor candidate using co-located block |
US8867621B2 (en) | 2010-01-14 | 2014-10-21 | Samsung Electronics Co., Ltd. | Method and apparatus for encoding and decoding motion vector by obtaining motion vector predictor candidate using co-located block |
US8995529B2 (en) | 2010-01-14 | 2015-03-31 | Samsung Electronics Co., Ltd. | Method and apparatus for encoding and decoding motion vector by predicting motion vector according to mode |
US8861609B2 (en) | 2010-01-14 | 2014-10-14 | Samsung Electronics Co., Ltd. | Method and apparatus for encoding and decoding motion vector by obtaining motion vector predictor candidate using co-located block |
US20110170602A1 (en) * | 2010-01-14 | 2011-07-14 | Samsung Electronics Co., Ltd. | Method and apparatus for encoding and decoding motion vector |
US9877038B2 (en) | 2010-11-24 | 2018-01-23 | Velos Media, Llc | Motion vector calculation method, picture coding method, picture decoding method, motion vector calculation apparatus, and picture coding and decoding apparatus |
US10218997B2 (en) | 2010-11-24 | 2019-02-26 | Velos Media, Llc | Motion vector calculation method, picture coding method, picture decoding method, motion vector calculation apparatus, and picture coding and decoding apparatus |
US10778996B2 (en) | 2010-11-24 | 2020-09-15 | Velos Media, Llc | Method and apparatus for decoding a video block |
US9300961B2 (en) | 2010-11-24 | 2016-03-29 | Panasonic Intellectual Property Corporation Of America | Motion vector calculation method, picture coding method, picture decoding method, motion vector calculation apparatus, and picture coding and decoding apparatus |
US9083981B2 (en) | 2011-01-12 | 2015-07-14 | Panasonic Intellectual Property Corporation Of America | Moving picture coding method and moving picture decoding method using a determination whether or not a reference block has two reference motion vectors that refer forward in display order with respect to a current picture |
US11838534B2 (en) | 2011-01-12 | 2023-12-05 | Sun Patent Trust | Moving picture coding method and moving picture decoding method using a determination whether or not a reference block has two reference motion vectors that refer forward in display order with respect to a current picture |
US11317112B2 (en) | 2011-01-12 | 2022-04-26 | Sun Patent Trust | Moving picture coding method and moving picture decoding method using a determination whether or not a reference block has two reference motion vectors that refer forward in display order with respect to a current picture |
US10237569B2 (en) | 2011-01-12 | 2019-03-19 | Sun Patent Trust | Moving picture coding method and moving picture decoding method using a determination whether or not a reference block has two reference motion vectors that refer forward in display order with respect to a current picture |
US10904556B2 (en) | 2011-01-12 | 2021-01-26 | Sun Patent Trust | Moving picture coding method and moving picture decoding method using a determination whether or not a reference block has two reference motion vectors that refer forward in display order with respect to a current picture |
US10404998B2 (en) | 2011-02-22 | 2019-09-03 | Sun Patent Trust | Moving picture coding method, moving picture coding apparatus, moving picture decoding method, and moving picture decoding apparatus |
US9832480B2 (en) | 2011-03-03 | 2017-11-28 | Sun Patent Trust | Moving picture coding method, moving picture decoding method, moving picture coding apparatus, moving picture decoding apparatus, and moving picture coding and decoding apparatus |
US20120224637A1 (en) * | 2011-03-03 | 2012-09-06 | Toshiyasu Sugio | Moving picture coding method, moving picture decoding method, moving picture coding apparatus, moving picture decoding apparatus, and moving picture coding and decoding apparatus |
US11284102B2 (en) | 2011-03-03 | 2022-03-22 | Sun Patent Trust | Moving picture coding method, moving picture decoding method, moving picture coding apparatus, moving picture decoding apparatus, and moving picture coding and decoding apparatus |
US10771804B2 (en) | 2011-03-03 | 2020-09-08 | Sun Patent Trust | Moving picture coding method, moving picture decoding method, moving picture coding apparatus, moving picture decoding apparatus, and moving picture coding and decoding apparatus |
US10237570B2 (en) | 2011-03-03 | 2019-03-19 | Sun Patent Trust | Moving picture coding method, moving picture decoding method, moving picture coding apparatus, moving picture decoding apparatus, and moving picture coding and decoding apparatus |
US9210440B2 (en) * | 2011-03-03 | 2015-12-08 | Panasonic Intellectual Property Corporation Of America | Moving picture coding method, moving picture decoding method, moving picture coding apparatus, moving picture decoding apparatus, and moving picture coding and decoding apparatus |
US9654785B2 (en) | 2011-06-09 | 2017-05-16 | Qualcomm Incorporated | Enhanced intra-prediction mode signaling for video coding using neighboring mode |
US10264280B2 (en) | 2011-06-09 | 2019-04-16 | Qualcomm Incorporated | Enhanced intra-prediction mode signaling for video coding using neighboring mode |
US9860528B2 (en) | 2011-06-10 | 2018-01-02 | Hfi Innovation Inc. | Method and apparatus of scalable video coding |
US10397601B2 (en) | 2011-07-02 | 2019-08-27 | Samsung Electronics Co., Ltd. | Method and apparatus for coding video, and method and apparatus for decoding video accompanied by inter prediction using collocated image |
US10034014B2 (en) | 2011-07-02 | 2018-07-24 | Samsung Electronics Co., Ltd. | Method and apparatus for coding video, and method and apparatus for decoding video accompanied by inter prediction using collocated image |
US9762924B2 (en) | 2011-07-02 | 2017-09-12 | Samsung Electronics Co., Ltd. | Method and apparatus for coding video, and method and apparatus for decoding video accompanied by inter prediction using collocated image |
Also Published As
Publication number | Publication date |
---|---|
US7310376B2 (en) | 2007-12-18 |
US7477690B2 (en) | 2009-01-13 |
EP2268039B1 (en) | 2015-09-09 |
US20050123043A1 (en) | 2005-06-09 |
US20050111550A1 (en) | 2005-05-26 |
DK2271115T3 (en) | 2015-10-19 |
US7310377B2 (en) | 2007-12-18 |
US7817718B2 (en) | 2010-10-19 |
US20030099292A1 (en) | 2003-05-29 |
US20050147169A1 (en) | 2005-07-07 |
DK2285121T3 (en) | 2015-11-02 |
US20060109913A1 (en) | 2006-05-25 |
EP2271115A3 (en) | 2011-02-09 |
EP2285121B1 (en) | 2015-08-26 |
EP2271115B1 (en) | 2015-07-29 |
EP2268040B1 (en) | 2015-07-22 |
DK2268039T3 (en) | 2015-11-16 |
US20050123051A1 (en) | 2005-06-09 |
US6980596B2 (en) | 2005-12-27 |
US7421025B2 (en) | 2008-09-02 |
EP2288167A1 (en) | 2011-02-23 |
US7310375B2 (en) | 2007-12-18 |
US20050117650A1 (en) | 2005-06-02 |
EP2285121A1 (en) | 2011-02-16 |
US7310374B2 (en) | 2007-12-18 |
DK2268040T3 (en) | 2015-10-19 |
EP2271115A2 (en) | 2011-01-05 |
EP2268040A1 (en) | 2010-12-29 |
US20050129113A1 (en) | 2005-06-16 |
US20050123054A1 (en) | 2005-06-09 |
EP2268039A1 (en) | 2010-12-29 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US7310374B2 (en) | Macroblock level adaptive frame/field coding for digital video content | |
CA2468087C (en) | Macroblock level adaptive frame/field coding for digital video content | |
US7769087B2 (en) | Picture level adaptive frame/field coding for digital video content | |
JP2005510985A5 (en) | ||
JP2005510984A (en) | Picture-level adaptive frame / field coding for digital video content | |
CA2738322C (en) | Picture level adaptive frame/field coding for digital video content | |
NO20181242A1 (en) | Macro block level adaptive frame / field encoding at the macro block level for digital video content | |
NO343010B1 (en) | Adaptive frame / field encoding at the macro block level for digital video content |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
AS | Assignment |
Owner name: MOTOROLA MOBILITY LLC, ILLINOISFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:GENERAL INSTRUMENT HOLDINGS, INC.;REEL/FRAME:030866/0113Effective date: 20130528Owner name: GENERAL INSTRUMENT HOLDINGS, INC., CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:GENERAL INSTRUMENT CORPORATION;REEL/FRAME:030764/0575Effective date: 20130415 |
|
STCB | Information on status: application discontinuation |
Free format text: ABANDONED -- FAILURE TO RESPOND TO AN OFFICE ACTION |
|
AS | Assignment |
Owner name: GOOGLE TECHNOLOGY HOLDINGS LLC, CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:MOTOROLA MOBILITY LLC;REEL/FRAME:034301/0001Effective date: 20141028 |