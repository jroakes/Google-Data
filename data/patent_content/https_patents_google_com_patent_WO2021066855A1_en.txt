WO2021066855A1 - Antenna selection with dynamic thresholds for user devices - Google Patents
Antenna selection with dynamic thresholds for user devices Download PDFInfo
- Publication number
- WO2021066855A1 WO2021066855A1 PCT/US2019/064914 US2019064914W WO2021066855A1 WO 2021066855 A1 WO2021066855 A1 WO 2021066855A1 US 2019064914 W US2019064914 W US 2019064914W WO 2021066855 A1 WO2021066855 A1 WO 2021066855A1
- Authority
- WO
- WIPO (PCT)
- Prior art keywords
- antenna
- switch threshold
- receive performance
- uplink power
- receiver
- Prior art date
Links
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04B—TRANSMISSION
- H04B7/00—Radio transmission systems, i.e. using radiation field
- H04B7/02—Diversity systems; Multi-antenna system, i.e. transmission or reception using multiple antennas
- H04B7/04—Diversity systems; Multi-antenna system, i.e. transmission or reception using multiple antennas using two or more spaced independent antennas
- H04B7/08—Diversity systems; Multi-antenna system, i.e. transmission or reception using multiple antennas using two or more spaced independent antennas at the receiving station
- H04B7/0802—Diversity systems; Multi-antenna system, i.e. transmission or reception using multiple antennas using two or more spaced independent antennas at the receiving station using antenna selection
- H04B7/0817—Diversity systems; Multi-antenna system, i.e. transmission or reception using multiple antennas using two or more spaced independent antennas at the receiving station using antenna selection with multiple receivers and antenna path selection
- H04B7/082—Diversity systems; Multi-antenna system, i.e. transmission or reception using multiple antennas using two or more spaced independent antennas at the receiving station using antenna selection with multiple receivers and antenna path selection selecting best antenna path
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04B—TRANSMISSION
- H04B7/00—Radio transmission systems, i.e. using radiation field
- H04B7/02—Diversity systems; Multi-antenna system, i.e. transmission or reception using multiple antennas
- H04B7/04—Diversity systems; Multi-antenna system, i.e. transmission or reception using multiple antennas using two or more spaced independent antennas
- H04B7/06—Diversity systems; Multi-antenna system, i.e. transmission or reception using multiple antennas using two or more spaced independent antennas at the transmitting station
- H04B7/0602—Diversity systems; Multi-antenna system, i.e. transmission or reception using multiple antennas using two or more spaced independent antennas at the transmitting station using antenna switching
- H04B7/0608—Antenna selection according to transmission parameters
Definitions
- Wireless networks are typically provided through, and administered by, base stations of the wireless network.
- a device To communicate over the wireless network, a device establishes a connection with one of the base stations to receive or transmit information (e.g ., control signaling or data). At a physical level, this information is communicated as signals transmitted or received through an antenna of the device. Performance of the antenna, however, can be degraded due to proximity or contact with various objects, such as a hand or head of a user. To mitigate performance issues associated with these conditions, some devices include multiple antennas that a radio of the device can switch between when a connection with the base station deteriorates.
- Switching from one antenna of the device to another may not improve the connection with the base station.
- some antennas may be intentionally detuned or have reduced transmit power with respect to various communication modes to comply with user safety regulations. If the device switches from a first antenna having marginal performance to a second antenna with reduced transmit power, the connection with the base station may be severely impaired or lost completely.
- further impairment or loss of the connection can affect performance of the application or impact user experience.
- a momentary loss in transmit power due to an antenna switch may disrupt the connection with the base station, resulting in a dropped voice call or data interruption.
- blindly switching the radio between antennas of a device may further impair connection quality and negatively affect various device operations.
- This disclosure describes apparatuses of and techniques for antenna selection with dynamic thresholds for user devices.
- a method for antenna selection with dynamic thresholds is implemented by an antenna diversity controller (diversity controller) of a device having a transmitter, a first receiver, and at least a second receiver.
- the method includes monitoring, via the first receiver, receive performance of a first antenna of the device, the first antenna being coupled to the transmitter.
- the method also includes monitoring, via the second receiver, receive performance of a second antenna of the device.
- the receive performance of the first antenna is compared to the receive performance of the second antenna based on an antenna switch threshold.
- the antenna switch threshold may be configured based on a difference in uplink power between the first antenna and the second antenna.
- metrics of one or both respective receive performances may be modified or augmented based on the difference in uplink power between the antennas (e.g ., a reduced transmit power of the second antenna).
- the method may also include coupling, based on the comparison, the transmitter of the device to the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold.
- the diversity controller of the device may compensate or account for a reduction in transmit power associated with the second antenna, in particular when the method includes switching, based on the comparison, the transmitter from coupling with the first antenna to coupling with the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold. In some cases, this may prevent switching to an antenna with a lower transmission power limit, which would further degrade communication performance of the device.
- an apparatus for communicating over a wireless network comprises at least a first antenna and a second antenna, a transceiver with a transmitter and a first receiver, a second receiver, and a diversity controller.
- the diversity controller is implemented to couple the transceiver to the first antenna to enable communication via the first antenna and couple the second receiver to the second antenna to enable reception via the second antenna or enable monitoring of performance of the second antenna.
- the diversity controller monitors, via the first receiver, receive performance (e.g ., reference- signal receive power) of the first antenna and monitors, via a second receiver, receive performance of the second antenna. Based on an antenna switch threshold, the diversity controller compares the receive performance of the first antenna to the receive performance of the second antenna.
- the antenna switch threshold can be configured based on a difference in uplink power between the first antenna and the second antenna of the apparatus. Alternately or additionally, metrics of one or both respective receive performances may be modified or augmented based on the difference in uplink power between the antennas (e.g., a reduced transmit power of the second antenna).
- the diversity controller may then couple, based on the comparison, the transceiver to the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold.
- the diversity controller or switches of the apparatus may also decouple the transceiver from the first antenna prior to coupling the transceiver to the second antenna.
- a system-on-chip comprises a transceiver module that includes a transmitter module and a first receiver module, as well as a second receiver module.
- the system-on-chip also includes at least one output configured to control radio frequency switch circuitry, a processor core, and a hardware-based memory having instructions that, responsive to execution by the processor core, implement a diversity controller.
- the diversity controller is implemented to cause coupling of the transceiver module to a first antenna to enable communication via the first antenna and coupling of the second receiver module to a second antenna to enable reception via the second antenna or enable monitoring of performance of the second antenna.
- the diversity controller monitors, via the first receiver module, receive performance of the first antenna and monitors, via a second receiver module, receive performance of the second antenna.
- the receive performance of the first antenna is compared to the receive performance of the second antenna.
- the antenna switch threshold can be configured based on a difference in uplink power between the first antenna and the second antenna. Alternately or additionally, metrics of one or both respective receive performances may be modified or augmented based on the difference in uplink power between the antennas ( e.g ., a reduced transmit power of the second antenna).
- the diversity controller can then couple, based on the comparison, the transmitter module of the system on chip to the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold.
- the diversity controller may also, prior to or concurrently with coupling the transmitter module to the second antenna, cause decoupling of the first antenna from the transmitter module ( e.g ., via a switching operation).
- an antenna switch threshold is configured based on a difference in uplink power (i.e ., the antenna switch threshold being based on or being calculated by taking into account a difference in uplink power between a current antenna (e.g., transmit antenna) and candidate antenna) which may result in the antenna switch threshold being greater (e.g., than a nominal or default value) if an uplink power (e.g., maximum uplink power limit) of a current antenna is higher than an uplink power (e.g., maximum uplink power limit) of a candidate antenna or the antenna switch threshold being less if the uplink power of the current antenna is lower than the uplink power of the candidate antenna.
- a difference in uplink power i.e ., the antenna switch threshold being based on or being calculated by taking into account a difference in uplink power between a current antenna (e.g., transmit antenna) and candidate antenna
- the antenna switch threshold being greater (e.g., than a nominal or default value) if an uplink power (e.g., maximum up
- the antenna switch threshold may thus be dynamic and not static by being based on a current difference in uplink power between the current and candidate antennas for antenna switching.
- the antenna switch threshold may include an offset or a modifier being inversely proportional to the difference in uplink power between the current antenna and the candidate antenna and/or inversely proportional to a maximum transmit power level reduction (e.g., cutback) of the candidate antenna.
- the proposed solution may account or compensate for a difference in a transmit power level, such as a maximum transmit power level, between a first antenna and second antenna that would result in a switch to a particular antenna. For example, if a resulting transmit power level would be less than a transmit power level of a current (first) transmit antenna, then switching may occur with an increased switch threshold to account for the decrease in transmit power level of the candidate (second) antenna. Conversely, if the resulting transmit power level of a switch to the candidate (second) antenna would be greater than the transmit power level of the current (first) transmit antenna, then switching may occur with a decreased switch threshold.
- a transmit power level such as a maximum transmit power level
- information useful for antenna switching with dynamic thresholds may include offsets or modifiers that are inversely proportional to transmit power levels or other power reductions (or increases) of candidate antennas for switch operations.
- modifiers or offsets can be applied to respective receive performance measurements of one or more antennas based on a transmit power level information, which may also compensate for a subsequent increase or decrease in available transmit power level that results from an antenna switch.
- FIG. 1 illustrates an example operating environment that includes a user device having multiple antennas and capable of implementing various aspects of antenna selection with dynamic thresholds.
- FIG. 2 illustrates an example network environment in which the user device of FIG. 1 communicates through a wireless network provided by a base station.
- FIG. 3 illustrates an example configuration of components for implementing antenna selection with dynamic thresholds in accordance with one or more aspects.
- FIGs. 4A-4C illustrate example configurations of lookup tables useful to determine a dynamic antenna switch threshold or other modifiers in accordance with one or more aspects.
- FIG. 5 illustrates an example of radio-frequency (RF) circuitry and components capable of implementing aspects of antenna selection with dynamic thresholds.
- RF radio-frequency
- FIG. 6 illustrates another example of RF circuitry and components capable of implementing aspects of antenna selection with dynamic thresholds.
- FIG. 7 illustrates an example method for selecting an antenna with dynamic thresholds in accordance with one or more aspects.
- FIG. 8 illustrates an example method for applying an uplink power-based modifier to a receive performance measurement in accordance with one or more aspects.
- FIG. 9 illustrates an example method for accessing a lookup table of antenna switch thresholds that are indexed to respective device configurations or states.
- FIG. 10 illustrates an example method for switching a transmit antenna using thresholds that are based on uplink power differences between multiple antennas.
- FIG. 11 illustrates an example electronic device that may implement techniques of antenna selection with dynamic thresholds.
- FIG. 12 illustrates an example system on chip (SoC) environment in which techniques of antenna selection with dynamic thresholds may be implemented.
- SoC system on chip
- FIG. 13 illustrates an example configuration of a wireless communication processor that may implement various aspects of antenna selection with dynamic thresholds.
- the present disclosure describes aspects of antenna selection with dynamic thresholds for user devices.
- One or more of the described aspects may be implemented to provide antenna selection with dynamic thresholds that compensate or account for differences in uplink power between multiple antennas of a device.
- an antenna diversity controller diversity controller
- an antenna diversity controller may select an antenna that will have a highest available transmit power (or maximum uplink signal strength) after an antenna switch occurs. This may ensure that, as a result of the antenna selection with dynamic thresholds, uplink connection performance of the device is improved (or at least maintained) through the antenna switch operations.
- a voice-capable user device e.g ., a user equipment (UE) or smart-phone
- the three antennas that include a first antenna positioned near a bottom-right corner of the device, a second antenna positioned near a bottom-left corner of the device, and a third antenna positioned near a top of the device.
- a transceiver of the device is coupled to the first antenna at the bottom-right of the device while the device is resting on a table, charging, and communicating data to synchronize various user applications.
- a user may grasp the device around the bottom and hold the device up to his or her head to conduct the voice call using a microphone and speaker of the device.
- This user interaction associated with the voice call may result in a degraded connection related to the obstruction of the bottom-right antenna (for a right-handed user) and a cut back (e.g., -4 dB) to a maximum transmit power level of the top antenna due to proximity with the user’s head.
- aspects of antenna selection with dynamic thresholds may compensate or account for a difference in uplink power between antennas.
- a diversity controller of the device may apply a modifier (e.g., +4 dB) to an antenna switch threshold for the top antenna based on the cut back value applied to (subtracted from) the maximum transmit power level of that antenna (e.g., to comply with safety regulations).
- the diversity controller of the device would compare the receive performance of the lower- right antenna with the respective receive performances of the top antenna and lower-left antenna. Assuming other communication parameters associated with the top and lower- left antenna are generally similar, the diversity controller would select to communicate with the lower-left antenna, which did not have a reduced maximum transmit power level. As such, aspects of antenna selection with dynamic thresholds may not select an antenna with the highest receive performance but instead select another antenna with lesser receive performance and a higher level of available transmit power. This is but one example of antenna selection with dynamic thresholds for user devices, others of which are described throughout the disclosure.
- a user device includes a transceiver with a transmitter and a first receiver, at least a second receiver, and a diversity controller.
- the transceiver is coupled to a first antenna of the device to enable communication and the second receiver is coupled to a second antenna of the device to enable reception (e.g., diversity reception) or monitoring of performance (e.g., an unused multiple-input multiple-output (MIMO) receiver).
- the diversity controller compares, based on an antenna switch threshold, receive performance of the first antenna to receive performance of the second antenna.
- the antenna switch threshold may be configured based on a difference in uplink power between the antennas or a maximum transmit power level of the second antenna.
- metrics of one or both respective receive performances may be modified or augmented based on the difference in uplink power between the antennas (e.g ., a reduced transmit power of the second antenna).
- the diversity controller may couple the transceiver to the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold. By so doing, the diversity controller may account or compensate for a potential reduction in transmit power that will be incurred when the transceiver is coupled to the second antenna.
- FIG. 1 illustrates a user device 102 in which aspects of antenna selection with dynamic thresholds can be implemented.
- the user device 102 is illustrated as a non- limiting example device and is shown here as a smart-phone. Although illustrated as a smart-phone, the user device 102 may be implemented as any suitable type of device, system, or apparatus, such as a tablet computer, laptop computer, netbook, gaming system, smart-glasses, phone-tablet, smart-watch, wearable computer, health monitoring device, multimedia dongle, set-top box, vehicle-based computing system, navigation device, aviation computing system, home automation device, security system controller, or the like.
- the user device can be wearable, non-wearable but mobile, or relatively immobile (e.g., broadband router, mobile hotspot, and smart-appliances).
- the user device 102 includes one or more processors 104 and computer-readable media 106, which may include memory media or storage media.
- the processor 104 may be implemented as a general-purpose processor (e.g ., of a multicore central-processing unit (CPU) or application processor (AP)), an application-specific integrated circuit (ASIC), or a system on chip (SoC) with other components of the user device 102 integrated therein.
- CPU central-processing unit
- AP application processor
- SoC system on chip
- the computer-readable media 106 can include any suitable type of memory media or storage media, such as read-only memory (ROM), programmable ROM (PROM), random access memory (RAM), dynamic RAM (DRAM), static RAM (SRAM), or Flash memory.
- ROM read-only memory
- PROM programmable ROM
- RAM random access memory
- DRAM dynamic RAM
- SRAM static RAM
- Flash memory Flash memory
- the computer-readable media 106 of the user device 102 is implemented as at least one hardware-based or physical storage device, which does not include transitory signals or carrier waves.
- Applications, firmware, and/or an operating system (not shown) of the user device 102 can be embodied on the computer-readable media 106 as processor-executable instructions, which may be executed by the processor 104 to provide various functionalities described herein.
- the computer-readable media 106 may also store information and data, such as user data or user media that is accessible through the applications, firmware, or operating system of the user device 102.
- the computer-readable media 106 also includes an antenna diversity controller 108 (diversity controller 108), a performance monitor 110, a maximum transmit power level controller 112 (MTPL controller 112), and a device state index engine 114 (DSI engine 114) which are described throughout the disclosure.
- the diversity controller 108 may monitor respective receive performance of antennas as a proxy for an uplink signal that would result from switching to a particular antenna.
- the diversity controller may implement a switching threshold that compensates or accounts for a reduction in available transmit power of a candidate antenna such that the threshold is increased to prevent a decrease in uplink power as a result of antenna switching.
- the diversity controller 108 may communicate or interact with the performance monitor 110, the MTPL controller 112, or the DSI engine 114. Any of these entities may be stored on, accessed through, or executed from the computer-readable storage media 106 to implement antenna switching with dynamic thresholds.
- the user device 102 also includes transmitters 116 and receivers 118, which may be implemented separately or combined as one or more transceivers that are capable of implementing both signal-receiving and -transmitting functions.
- the transmitters 116 and receivers 118 may be configured to communicate via any suitable type of wireless network, such as a local-area-network (LAN), a wireless local-area-network (WLAN), a personal- area-network (PAN), a wide-area-network (WAN), cellular network, a peer-to-peer network, point-to-point network, a mesh network, and so on.
- LAN local-area-network
- WLAN wireless local-area-network
- PAN personal- area-network
- WAN wide-area-network
- cellular network such as a peer-to-peer network, point-to-point network, a mesh network, and so on.
- one or more of the transmitters 116 and receivers 118 are configurable to communicate in accordance with a Global System for Mobile Communications (GSM) standard, Third Generation (3G) standard, Code Division Multiple Access (CDMA), wideband CDMA (WCDMA), Universal Mobile Telephone System (UMTS), Worldwide Interoperability for Microwave Access (WiMax) protocol, High Speed Packet Access (HSPA) protocol, Evolved HSPA (HSPA+) protocol, Long-Term Evolution (LTE) standard, LTE Advanced standard, 5th Generation (5G) standard, or the like.
- GSM Global System for Mobile Communications
- 3G Third Generation
- CDMA Code Division Multiple Access
- WCDMA wideband CDMA
- UMTS Universal Mobile Telephone System
- WiMax Worldwide Interoperability for Microwave Access
- HSPA High Speed Packet Access
- HSPA+ Evolved HSPA
- LTE Long-Term Evolution
- LTE Advanced standard LTE Advanced standard
- 5G 5th Generation
- a radio-frequency front end 120 (RF front end 120) of the user device 102 includes signal conditioning and switching circuitry that enables coupling of various ones of the transmitters 116 and receivers 118 to or with antennas 122 of the user device.
- the RF front end may include any suitable combination of circuitry, such as filters, amplifiers (e.g ., power amplifiers or low-noise amplifiers), diplexers, switches, multiplexers, baluns, or the like.
- the antennas 122 may include any number or type of antennas, which may be positioned on or proximate an outer surface of the user device 102.
- the antennas 122 are shown as four separate antennas 122-1 through 122-4 that are located proximate edges and/or comers of the user device 102. Any or all of the antennas 122-1 through 122-4 may be tuned ( e.g ., statically or actively) for a single frequency band or multiple frequency bands. For example, one of the antennas 122 may be tuned for multiple frequency bands that range from approximately 700 MHz to 960 MHz, 1.4 GHz to 1.5 GHz, 1.7 GHz to 2.2 GHz, 2.3 GHz to 2.7 GHz, 3.4 GHz to 3.6 GHz, 6.6 GHz to 6.9 GHz, and so on.
- multiple antennas 122 of the user device 102 may be configured or tuned for multi-band support to enable or provide 2- way or 3-way antenna diversity for multiple frequency bands.
- a lower-right antenna (e.g., 122-2), a lower-left antenna (e.g., 122-3), and a top antenna (e.g., 122-4) of a user device 102 may be implemented as multi-band antennas to enable 3-way antenna diversity for multiple frequency bands (e.g., 1.4 GHz to 1.5 GHz (mid-band), 1.7 GHz to 2.2 GHz (mid-band/high-band), 2.3 GHz to 2.7 GHz (mid-band/high-band), and/or 3.4 GHz to 3.6 GHz (ultra- high-band)).
- the user device 102 also includes sensors 124, which enable the user device 102 to sense various properties, variances, stimuli, or characteristics of an environment in which user device 102 operates.
- the sensors 124 may include various motion sensors, ambient light sensors, acoustic sensors, capacitive sensors, infrared sensors, temperature sensors, radar sensors, or magnetic sensors.
- the sensors 124 may enable interaction with, or receive input from, a user of user device 102, such as through touch sensing or proximity sensing.
- the diversity controller 108 or DSI engine 114 can monitor a sensor 124, such as to receive input or feedback via one of the sensors 124.
- Data provided by the sensors 124 is accessible to other entities of the user device 102, such as the diversity controller 108 or DSI engine 114.
- the sensors 124 may also include global-positioning system (GPS) modules, gyros, accelerometers, magnetometers, micro electromechanical systems (MEMS), internal/external device temperature sensors, resistive touch sensors, or input sensing-logic associated with hardware switches (e.g ., keyboards, snap-domes, or dial-pads), and so on.
- GPS global-positioning system
- MEMS micro electromechanical systems
- internal/external device temperature sensors e.g ., resistive touch sensors
- input sensing-logic associated with hardware switches e.g ., keyboards, snap-domes, or dial-pads
- the diversity controller 108 or DSI engine 114 can determine a device state or device state index of the user device 102, such as a stationary or off-body state of no movement or a mobility state in which the user device is proximate a user’s body (e.g., on-body state) or in use by the user (e.g., voice call or near-head state).
- the DSI engine 114 can sense, via an accelerometer or gyroscope, a single or series of movements or orientations of the user device 102 in any suitable aspect, such as in one-dimension, two-dimensions, three-dimensions, multi-axis, combined multi-axis, and the like.
- the DSI engine 114 determines, based on data indicative of the sequence of the movements or orientations, a device state or device state index for the user device 102. Alternately or additionally, the DSI engine 114 may receive data or indications from a capacitive or proximity sensor that indicates a position of the user device 102 is static or changing with respect to a user (e.g., holding or reorienting the user device), which may be useful for DSI determinations.
- the device may also include other environmental sensors for detecting an internal or external temperature of the user device 102 (e.g., on-body or off-body state indicators), as well as humidity.
- the diversity controller 108 or DSI engine 114 may access data from the sensors 124 and determine, based on the sensor data (e.g., motion, orientation, temperature, proximity), user interaction or a device state of the user device 102 in accordance with one or more aspects of antenna switching with dynamic thresholds.
- the sensor data e.g., motion, orientation, temperature, proximity
- FIG. 2 illustrates an example network environment 200 in which the user device 102 communicates through a wireless network provided by a base station 202, such as an enhanced Node B of an LTE network.
- a base station 202 such as an enhanced Node B of an LTE network.
- the user device 102 communicates with the base station 202 via a wireless link 204 (or wireless connection) established or managed in accordance with various networking protocols or standards.
- the wireless link 204 may include an uplink 206 by which the user device 102 transmits data or control information to the base station 202 and a downlink 208 by which the base station 202 transmits data or control information to the user device 102.
- the wireless link 204 may be implemented in accordance with at least one suitable protocol or standard, such as a GSM standard, a WiMAX standard, an HSPA protocol, an Evolved HSPA protocol, an LTE standard, an LTE-A standard, a 5G standard, any standard promulgated or supported by the 3rd Generation Partnership Project (3 GPP), and so forth.
- a GSM standard a WiMAX standard
- HSPA protocol an Evolved HSPA protocol
- LTE standard Long Term Evolution
- LTE-A Long Term Evolution-A
- 5G standard any standard promulgated or supported by the 3rd Generation Partnership Project (3 GPP), and so forth.
- 3 GPP 3rd Generation Partnership Project
- the uplink 206 may include signals transmitted from the user device 102 to the base station 202.
- an uplink transmit power level of the user device is configured based on an indication of a power control level 210 (PCL 210) that is received from the base station 202.
- the downlink 208 may include signals transmitted by the base station 202 for reception by the user device 102.
- the base station 202 or another base station may transmit downlink signals in a frequency band for which multiple antennas 122 of the user device 102 are configured to operate.
- the diversity controller 108 of the user device 102 may connect a receiver 118 of the user device 102 to the antenna 122 with optimal reception to improve quality of the wireless link 204 or communication performance.
- multiple receivers 118 e.g ., primary and diversity receivers
- the multiple receivers 118 may be connected to multiple respective antennas 122 such that the multiple receivers 118 can receive a downlink signal.
- the wireless link 204 enables the user device 102 to access resources, other networks, or other devices through the base station 202.
- the base station 202 can provide access to a network 212 (e.g., the Internet) that is connected to the base station via a backhaul link 214 (e.g, a fiber network) or core network (not shown).
- a network 212 e.g., the Internet
- backhaul link 214 e.g, a fiber network
- core network not shown
- applications or functions of the user device 102 may request or access data from the network 212 (e.g., video or voice content), which is received via signals of the downlink 208.
- the base station 202 may be implemented to realize or manage one cell of the wireless network that includes multiple other base stations that each realize other respective cells of the wireless network.
- the base station 202 may communicate with a network management entity, network core, or other base stations to coordinate connectivity or hand-offs of user devices within or across the cells of the wireless network.
- FIG. 3 illustrates at 300 an example configuration of components for implementing various aspects of antenna selection with dynamic thresholds.
- the illustrated components may be implemented in any suitable device, system, or apparatus, such as a user device, a user equipment, a mobile station, or the like.
- the components and architecture of the example configuration are presented as a non-limiting example of ways in which various entities for enabling antenna selection with dynamic thresholds can be implemented. As such, the aspects described herein may be applied or extended to any suitable combination or configuration of components and/or circuitry for implementing various features of antenna selection with dynamic thresholds.
- the components include an application processor 302 and a modem 304, which may be implemented separately or in combination, such as being integrated on a system on chip or system in package.
- the modem 304 may include components for implementing dynamic thresholds, such as a diversity controller 108, performance monitor 110, MTPL controller 112, or other communication components.
- the application processor 302 is operably coupled with and receives data from sensors 124 ( e.g ., capacitance or motion sensors) of a device in which the components are embodied.
- a DSI engine 114 may be implemented by the application processor 302 to process sensor data (e.g., proximity or motion data) or other information to determine a use mode, use state, or state information of a device, apparatus, system, or the like.
- the other information useful to the DSI engine 114 may include a mode of operation (e.g., test modes) or various couplings of a device, such as power cable or wireless power coupling, (e.g., charging or wireless charging), data cable coupling (e.g., debugging), wired or wireless audio coupling (e.g., external/remote audio or headphone use), and so on.
- the DSI engine 114 or the application processor 302 can use the sensor data and/or the other information to determine user proximity or user interaction, such as whether the device is in free space (e.g., away from a user’s body) or positioned near or proximate a user’s body or head. Based on a determination of user proximity or user interaction, the DSI engine 114 may generate or select a device state index for the device. In various aspects, a device state index is useful to indicate user proximity with the device, user interaction with the device, a mode of operation of the device, or a communication mode for which the device may be configured.
- Table 1 of device state index (DSI) information is illustrated at 400.
- Table 1 includes various device state indexes, which may be associated with respective device use cases or modes of transmit power.
- a device state index 402 (DSI 402) may correspond to a use case 404 (e.g ., mode of operation or user proximity) and/or a corresponding transmit power mode 406 (or modifier class).
- a use case 404 e.g ., mode of operation or user proximity
- transmit power mode 406 or modifier class
- one or more of the device state indexes 402 are configured for, or mapped to, user proximity states that affect a maximum transmit power of the device, such as to comply with safety regulations for radiated power (e.g., specific absorption rate (SAR) compliance).
- SAR specific absorption rate
- transmit power of the device may be reduced, backed off, or otherwise limited from a nominal transmit power level (e.g, PCL 210 or default over-the-air (OTA) transmit power) to comply with a safety regulation or requirement.
- a nominal transmit power level e.g, PCL 210 or default over-the-air (OTA) transmit power
- the DSI engine 114 (or application processor 302) communicates a device state index 402 or indication of the device state index 402 to the modem 304, diversity controller 108, or the MTPL controller 112
- the modem 304 may implement various data- and signal processing functions that enable wireless communication, such as encoding, decoding, modulation, demodulation, analog-to-digital conversion, digital-to-analog conversion, or the like.
- the modem 304 is configured as a multi-mode multi-band modem through which a transceiver is embodied at least in part for wireless communication using multiple radio access technologies (RATs) in multiple frequency bands.
- RATs radio access technologies
- the modem 304 may communicate in any suitable RAT or protocol, such as GSM, CDMA, WCDMA, UMTS, LTE, 5G NR, or the like.
- Various settings, values, or parameters of the modem 304 may be configured or maintained as a modem state (e.g ., real-time modem state) through modem state information 306 of the modem 304.
- the modem state information 306 can include any suitable parameters, lookup tables, or settings of the modem 304, such as a radio access technology (RAT), frequency band, frequency sub band, communication channel, antenna configuration (e.g., RF path configuration or RF front end 120 configuration), or modulation and coding scheme (MCS) of the modem 304.
- RAT radio access technology
- frequency band frequency sub band
- communication channel e.g., RF path configuration or RF front end 120 configuration
- MCS modulation and coding scheme
- the modem state information 306 may include configuration information for a transmitter 116 or receiver 118 of the modem 304, as well as switches 308 (e.g, RF switches) and amplifiers 310 of an RF front end 120 to which the modem 304 is operably coupled.
- switches 308 e.g, RF switches
- amplifiers 310 of an RF front end 120 to which the modem 304 is operably coupled.
- transceiver circuitry may be interposed between the modem 304 and RF front end 120 and may include additional configurable portions of an RF path or a configurable amplification circuit.
- the MTPL controller 112 of the modem 304 manages a maximum transmit power level of the transmitter 116 and/or amplifiers 310, such as to comply with safety regulations for radiated signal power.
- radiated power levels of a device or system, as well as safety regulations may vary depending on modem configuration, use mode of the device, user proximity of the device, or the like.
- the MTPL controller 112 may determine a maximum transmit or uplink power based on the modem state information 306, power control level 210 received from a base station, or a device state index provided by the DSI engine 114 or application processor 302.
- the MTPL controller 112 includes or employs an MTPL lookup table 312 (MTPL LUT 312) to determine a maximum transmit power level or highest available uplink power for a transmitter.
- Table 2 includes DSI information 410, modem state information 412, and MTPL information 414 associated with three antennas (e.g., antennas 122 labeled as ANTI, ANT2, and ANT3) of a device.
- the MTPL information 414 is indexed to various DSI information 410 and/or modem state information 412 of the modem 304.
- Table 2 may include MTPL information 414 for various combinations or permutations of DSI information 410 and modem state information 412.
- Table 2 may be useful to lookup or determine MTPL information 414 for any suitable combination of a DSI 402, RF configuration (e.g., RF paths), antenna of interest (e.g., current or candidate antenna), modem configuration (e.g., RAT, band, or sub-band), or the like.
- Table 2 includes a selection of non-limiting exemplary data for various combinations of DSI information 410 and modem state information 412 (e.g., for a DSI of “2” and different RATs/frequency bands).
- DSI information 410 e.g., additional DSIs
- modem state information 412 e.g., additional antennas or frequency bands
- MTPL information 414 e.g., MTPL information
- the DSI information 410 includes a DSI 402, which may be provided by the modem 304 or correspond to various use cases as described with reference to Table 1.
- the modem state information 412 of Table 2 may include or reflect various modem state information 306 as described with reference to FIG. 3 and/or other communication parameters of a device.
- the modem state information 412 can include various settings, values, or parameters of the modem 304 as configured or maintained through a modem state (e.g ., real-time modem state).
- the modem state information 412 of Table 2 includes an RF path configuration 416 (e.g., RF front end 120 configuration), an antenna 418 (ANT 418), a radio access technology (RAT) setting 420, and a frequency band setting 422.
- the modem state information 412 may also include a frequency sub-band, communication channel, or modulation and coding scheme (MCS) of the modem 304.
- MCS modulation and coding scheme
- the MTPL information 414 of Table 2 includes maximum transmit power level information for an antenna, which may be based on DSI information 410 and modem state information 412.
- the MTPL information 414 of Table 2 includes an MTPL cutback 424, an MTPL 426 (e.g. , resulting MTPL after cutback), and an MTPL uplink offset 428.
- the transmitter 116 and amplifiers 310 associated with the modem 304 are configured to provide a default or nominal level (e.g., based on PCL 210) of transmit power of 23 dBm across all RATs and bands (e.g, to which MTPL cutbacks are applied).
- the MTPL 426 (e.g, an upper limit of the transmit power) can be managed (e.g, reduced or cutback) by the MTPL controller 112 based on the DSI information 410 and modem state information 412.
- the MTPL controller 112 may constrain the MTPL to comply with safety regulations based on the real-time modem state information 412 and DSI information 410 indicative of user proximity (e.g., whether a device is positioned proximate a user’s head or body).
- the MTPL controller 112 can dynamically manage an MTPL 426 of the amplifiers 310 and/or the transmitter 116 of the modem 304 to maximize a transmit power level without exceeding regulatory safety limits for radiated signal strength.
- Table 2 illustrates, for a DSI 402 of “2”, respective MTPL cutbacks 424 and resulting MTPLs 426 for each antenna (e.g ., ANT 1, ANT 2, and ANT 3) of a device based on a given set of modem state information 412.
- Table 2 also includes an MTPL uplink offset 428, which reflects an antenna’s MTPL cutback 424 (e.g., a reduction of MTPL) and may be useful to determine or configure dynamic thresholds for antenna switching.
- the diversity controller 108 may interact with the MTPL controller 112 to obtain or determine MTPL information for antenna switching operations.
- the diversity controller 108 may account or compensate for an MTPL 426 that would result from a switch to a particular antenna (e.g., antenna 418). For example, if the resulting MTPL would be less than an MTPL of a current transmit antenna, then switching may occur with an increased switch threshold to account for the decrease in MTPL of the candidate antenna. Conversely, if the resulting MTPL of a switch to the candidate antenna would be greater than the MTPL of the current transmit antenna, then switching may occur with a decreased switch threshold.
- information useful for antenna switching with dynamic thresholds may include offsets (MTPL UL offset 428) or modifiers that are inversely proportional to MTPL cutbacks or other power reductions (or increases) of candidate antennas for switch operations.
- modifiers or offsets can be applied to respective receive performance measurements of one or more antennas based on the MTPL information, which may also compensate for a subsequent increase or decrease in MTPL that results from an antenna switch.
- the diversity controller 108 may monitor and compare respective receive performance of multiple antennas 122 of a device.
- receive performance such as reference signal receive power
- the modem 304 includes an instance of a performance monitor 110 that is operably coupled with the receivers 118 to monitor or measure receive performance of the antennas 122.
- the receive performance of the antennas may be monitored or measured using any suitable metric, such as one or combination of a received signal strength, received signal quality, reference signal receive power (RSRP), reference signal receive quality (RSRQ), carrier-to-interference ratio, signal-to-noise ratio, bit-error rate, or packet-error rate.
- RSRP reference signal receive power
- RSRQ reference signal receive quality
- carrier-to-interference ratio carrier-to-interference ratio
- signal-to-noise ratio bit-error rate
- packet-error rate packet-error rate
- the diversity controller 108 may include or employ an antenna switch diversity lookup table 314 (diversity LUT 314) of antenna switch information (e.g ., dynamic antenna switch thresholds or associated modifiers).
- antenna switch information e.g ., dynamic antenna switch thresholds or associated modifiers.
- the MTPL LUT 312 and diversity LUT 314 may be embodied as one lookup table or depository of MTPL and antenna switch information.
- the diversity lookup table 314 of the diversity controller 108 may be implemented with a structure similar to the MTPL lookup table 312 of an MTPL controller 112 or modem 304.
- the various antenna switch thresholds, offsets, or modifiers for dynamic antenna switch thresholds may also be indexed to device state index information 410 or modem state information 412.
- an entry for MTPL uplink offset 428 or a dynamic threshold in the diversity LUT 314 may be inversely proportional to a corresponding MTPL reduction or MTPL cutback 424 entry in the MTPL lookup table 312.
- a corresponding dynamic threshold for antenna switching can be offset by the same factor (e.g., +3 dB).
- the diversity controller 108 may be more selective in selecting a candidate antenna for switching operations when an amount of MTPL cutback is higher and resulting MTPL of the transmitter is lower. By so doing, the diversity controller 108 can switch to a selected antenna to improve wireless connection performance without exceeding safety regulations, even when a significant amount of power cutback is required for compliance.
- antenna 1 is coupled to the transmitter 116 by the RF front end 120 and respective dynamic antenna switch thresholds and modifiers for second and third antennas (ANT2 and ANT3) are indexed based on current DSI information or modem state information of ANT 1.
- antenna 1 is currently selected an active transmit for the modem 304 to communicate in LTE band 21 with a DSI 402 of “2” (e.g., device proximate a user’s head).
- the diversity controller 108 accesses the diversity lookup table 314 (Table 2) based on the DSI and/or modem state info for respective dynamic thresholds for the other antennas.
- Table 3 includes a selection of non- limiting exemplary data for various combinations of DSI information 410 and modem state information 412 (e.g., for a DSI of “2” and different RATs/frequency bands for ANT 2 and ANT 3).
- the concepts described with reference to Table 3 may be extended or scaled to cover any suitable combination or permutation of DSI information 410 (e.g., additional DSIs), modem state information 412 (e.g., additional antennas or frequency bands), MTPL information 414, and/or antenna switch threshold information 432.
- the antenna switch threshold information 432 of Table 3 includes a current MTPL cutback 434 of antenna 1 (-2 dB) and MTPL UL offsets 428 for antenna 2 (+1 dB) and antenna 3 (+5 dB) from Table 2 of FIG. 4B ( e.g ., for LTE band 21 with a DSI of “2”).
- Table 3 also includes respective entries for a nominal antenna switch threshold 436 of antenna 2 and antenna 3, which may be a default value (e.g., 3 dB or 5 dB) and/or indexed to a DSI 402 or modem state information 412.
- a nominal antenna switch threshold 436 of antenna 2 and antenna 3 which may be a default value (e.g., 3 dB or 5 dB) and/or indexed to a DSI 402 or modem state information 412.
- the dynamic antenna switch thresholds 438 for switching from antenna 1 to the other antennas are 2 dB for antenna 2 at 440 (e.g., 3 dB + 1 dB - 2 dB), and 6 dB for antenna 3 at 442 (e.g., 3 dB + 5 dB - 2 dB), which are different from a nominal antenna threshold (e.g., 3 dB).
- the dynamic thresholds 438 employed by the diversity controller 108 enable the controller to provide antenna switching operations on a more selective basis. This may improve wireless connection performance when MTPLs vary between antennas, particularly in marginal network conditions where loss of connection or dropped calls are likely to occur when uplink or transmit power is reduced.
- an MTPL LUT 312 and antenna switch diversity LUT 314 are implemented as a combined MTPL information and dynamic antenna switch diversity lookup table at 444 as Table 4.
- Table 4 MTPL information 414 and antenna switch threshold information 432 may be implemented in combination, such as through an MTPL LUT that is expanded to include one or more columns of antenna switch threshold information 432.
- the current antenna MTPL cutback 343 of antenna 1 may be applied to determine dynamic switch thresholds 438 for antennas 2 and 3.
- Table 4 includes a selection of non-limiting exemplary data for various combinations of DSI information 410 and modem state information 412 (e.g ., for a DSI of “2” and different RATs/frequency bands for ANT 2 and ANT 3).
- the concepts described with reference to Table 4 may be extended or scaled to cover any suitable combination or permutation of DSI information 410 (e.g., additional DSIs), modem state information 412 (e.g., additional antennas or frequency bands), MTPL information 414, and/or antenna switch threshold information 432.
- aspects of antenna selection with dynamic thresholds may be implemented with any suitable configuration of one or more lookup tables of DSI, modem state, and/or antenna switch threshold information.
- the diversity controller 108 compares, based on the dynamic thresholds (e.g., dynamic antenna switch thresholds 438), respective receive performance of the antennas 122 to select an antenna with optimal or increased performance (e.g., relative to a current transmit antenna). As described herein, the diversity controller 108 may determine a threshold using various offsets, apply offsets or modifiers to receive performance metrics, or access a lookup table (e.g., Tables 1-4, MTPL LUT 312 and/or antenna switch diversity LUT 314) based on a DSI or modem state to determine a threshold for switching antennas. Based on the comparison, the diversity controller 108 may configure or cause transceiver circuitry or RF components, such as the switches 308 of the RF front end 120, to couple a selected antenna to the transmitter 116 to improve or optimize wireless communication.
- the dynamic thresholds e.g., dynamic antenna switch thresholds 438
- the diversity controller 108 may determine a threshold using various offsets, apply offsets or modifiers to receive performance metrics, or
- FIG. 5 illustrates at 500 an example configuration of RF circuitry and components capable of implementing aspects of antenna selection with dynamic thresholds.
- the illustrated components and architecture of FIG. 5 and FIG. 6 that follows are presented as a non-limiting example of ways in which antenna selection with dynamic thresholds can be implemented.
- the aspects described herein may be applied or extended to any suitable RF circuit to implement various features of antenna selection with dynamic thresholds.
- any coupling or connection between various components may be direct or indirect, such as made through one or more intervening components.
- some unrelated or redundant components e.g ., filters or amplifiers
- circuitry may also be omitted from this or other circuit diagrams.
- circuitry may also be implemented with any suitable number or combination of filters, amplifiers, and/or additional or separate RF switches.
- each communication module described with reference to FIG. 5 or FIG. 6 may be implemented as separate hardware- or software-based modules, such as blocks or modules of one or more software-defined radios (SDRs).
- SDRs software-defined radios
- any of the structure or functionality described herein may be provided by or configurable (e.g., for different communication standards or protocols) through execution of firmware or instructions by a processor core of a communication module.
- each communication module may include, for each port or connection, a respective transmit chain or receive chain and/or additional front-end circuitry to process or condition various communication signals (e.g., transmit signals or receive signals).
- a device is implemented with three communication modules that include a primary transceiver 502, a diversity receiver 504, and a multiple-input multiple- output (MIMO) receiver 506, which are coupled to antennas 122 by a switch 508 of an RF front end 120.
- the switch 508 may represent any suitable number of switches, diplexers, or filters for implementing antenna switching in multiple frequency bands.
- the RF switch 508 is coupled to the primary transceiver 502 at a port 510, the diversity receiver 504 at a port 512, and the MIMO receiver 506 at a port 514.
- Each of the ports 510 through 514 may represent a port of a given transceiver, transmitter, or receiver that is configured to operate over one or more particular frequency bands, such as approximately 700 MHz to 960 MHz, 1.4 GHz to 1.5 GHz, 1.7 GHz to 2.2 GHz, 2.3 GHz to 2.7 GHz, 3.4 GHz to 3.6 GHz, and so on.
- the primary transceiver 502 includes a first transmitter 516 and a first receiver 518 for communicating data of the device.
- the first transmitter 516 is operably coupled with a power amplifier 520, which is managed by the MTPL controller 112.
- the primary transceiver 502 can be configured to communicate in multiple frequency bands, such that the port 510 may represent a low-band port, a mid-band port, or a high-band port for transmitting.
- the ports also support reception of a complimentary band such that two of the ports permit the primary transceiver to communicate bi-directionally over a similar or same frequency band.
- the port 510 may also support high-band reception.
- the diversity receiver 504 includes a second receiver 522 of the device for receiving signals.
- signals or information provided by the diversity receiver 504 are used to enhance or improve reception performance of the primary transceiver 502.
- the diversity receiver 504 may also be configured for multiband operation such that port 512 may represent a low-band port, a mid-band port, or a high-band port for diversity reception.
- the diversity receiver 504 may include other types of receiver modules, such as a Global Positioning System (GPS) receiver to provide navigational or position data.
- GPS Global Positioning System
- the device also includes the MIMO receiver 506 that is implemented as a third receiver 524.
- the MIMO receiver 506 may support reception of any suitable number of spatial streams (e.g ., four spatial streams), and in this example includes a port 514 coupled to the RF switch 508.
- the MIMO receiver 506 can also be used to monitor or measure performance of an antenna that is not coupled or connected to another receiver.
- the performance monitor 110 may query the MIMO receiver 506 for an indication of performance for one of the antennas 122-1 through 122-4 that is not connected to the primary transceiver 502 or the diversity receiver 504.
- the MIMO receiver 506 or another receiver may provide or indicate antenna performance with any suitable metric or measurement, such as a received signal strength, reference signal receive power, receive signal quality, carrier-to-interference ratio, signal-to-noise ratio, bit-error rate, packet-error rate, or the like.
- the performance monitor 110 may query or poll any or all of the receivers to determine performance indicators or metrics for one or more of the antennas 122.
- the RF front end 120 enables coupling of one or more of the antennas 122 to a respective one of the primary transceiver 502, diversity receiver 504, or MIMO receiver 506.
- the RF front end includes the TPTT RF switch 508, which can be controlled or managed by the diversity controller 108 to implement aspects of antenna selection with dynamic thresholds.
- the diversity controller 108 configures the RF switch 508 to couple (or switch) respective ports of the primary transceiver 502, diversity receiver 504, and MIMO receiver 506 between the antennas 122 to implement 2-way or 3-way diversity switching.
- the diversity controller 108 may implement antenna switching with dynamic thresholds to switch the first transmitter 516 from a primary antenna to a secondary antenna or tertiary antenna to optimize uplink performance of a wireless connection. For example, the diversity controller 108 may select, based on the dynamic thresholds (e.g ., diversity lookup table) an antenna that is forecast to have a highest amount of available uplink power (or UL power budget) given current network conditions and respective receive performance of the antennas. By so doing, the diversity controller 108 may improve wireless connection reliability in marginal network conditions.
- the dynamic thresholds e.g ., diversity lookup table
- FIG. 6 illustrates at 600 another example of an RF circuitry and components capable of implementing aspects of antenna selection with dynamic thresholds.
- the components and architecture of FIG. 6 are presented as a non-limiting example of ways in which antenna selection with dynamic thresholds can be implemented.
- the aspects described herein may be applied or extended to any suitable RF circuit to implement various features of antenna selection with dynamic thresholds.
- Various communication modules described with reference to FIG. 6 may be implemented as separate hardware- or software-based modules, such as blocks or modules of one or more software-defined radios (SDRs).
- SDRs software-defined radios
- any of the structure or functionality described herein may be provided by or configurable (e.g., for different communication standards or protocols) through execution of firmware or instructions by a processor core of a communication module.
- a device is implemented with three communication modules (not shown) that include a primary transceiver, a diversity receiver, and a MIMO receiver which are coupled to antennas 122 by an RF front end 120.
- Each of the communication modules may be configured for multi-band operation such that a given communication module includes multiple ports or signal paths to support wireless communication in different frequency bands.
- the communication modules or transceiver/receiver signal paths of FIG. 6 may correspond or map to the communication modules of FIG.
- the primary transceiver includes a low-band signal path 602 (PTRX LB 602), a mid-band/high-band signal path 604 (PTRX MHB 604), and an ultra-high-band signal path 606 (PTRX UHB 606).
- these signal paths support transmission or reception such that the primary transceiver uses the signal paths to communicate bi-directionally via an antenna 122 over a similar or same frequency band.
- the primary transceiver paths (or transmit portions) may also include respective power amplifiers 608, 610, and 612, which are controlled by an MTPL controller 112 to manage transmit power levels for the respective frequency bands (e.g., using the MTPL LUT).
- the diversity receiver is also configured for multi-band operation and includes a low-band signal path 614 (DRX LB 614), a mid-band/high-band signal path 616 (DRX MHB 616), and an ultra-high-band signal path 618 (DRX UHB 618).
- the diversity controller 108 or performance monitor 110 monitors or measures antenna receive performance via the signal paths 614, 616, or 618 of the diversity receiver.
- the MIMO receiver may be configured for multi-band operation and includes a mid band/high-band signal path 620 (MIMO MHB 620) and an ultra-high-band signal path 622 (MIMO UHB 618).
- the diversity controller 108 or performance monitor 110 can monitor or measure antenna receive performance via the signal paths 614, 616, or 618 of the diversity receiver.
- the RF front end 120 is configurable to couple the antennas 122 to a respective one of the primary transceiver, diversity receiver, or MIMO receiver, such as to enable 2-way or 3-way antenna diversity.
- the RF front end 120 includes a double-pole double-throw (DPDT) RF switch 624, which can be controlled or managed by the diversity controller 108 to implement aspects of antenna selection with dynamic thresholds.
- the RF switch 624 is configured to couple (or switch) low-band signal paths 602 and 614 between the antennas 122 to implement antenna diversity with dynamic thresholds for low-band communication. As shown in FIG.
- the RF front end 120 also includes a triple-pole triple-throw (TPTT) RF switch 626 for mid-band/high-band signal paths and another TPTT RF switch 628 for ultra-high-band signal paths, which are also controlled or managed by the diversity controller 108.
- the diversity controller 108 configures RF switches 626 and 628 to respectively couple (or switch) the mid-band/high-band signal paths and the ultra-high-band signal paths between the antennas 122 to implement antenna switching with dynamic thresholds for wireless communication.
- the diversity controller 108 may configure the RF switch 626 to couple the primary transmitter to antenna 122-4 and couple the diversity receiver and MIMO receiver to others of the antennas to enable monitoring of receive performance.
- the RF front end 120 includes diplexers 630, 632, and 634 as shown in FIG. 6.
- the diplexers 630, 632, and 634 are coupled to a respective one of the antennas 122-2 through 122-4 such that low-band, mid-band/high-band, or ultra-high-band communication signals are routed to respective ports of the communication modules ( e.g ., as routed by RF switches 626 and 628).
- the diversity receiver or MIMO receiver may monitor or measure performance of an antenna in a frequency that is different from a frequency in which the primary transceiver is communicating.
- the diversity receiver or MIMO receiver may monitor or measure performance of an antenna in a frequency that is the same as the frequency in which the primary transceiver is communicating (e.g ., for time-division duplexing (TDD) communication systems).
- TDD time-division duplexing
- the diversity controller 108 configures RF switches 626 and 628 to couple (or switch) respective ports of the primary transceiver, diversity receiver, and MIMO receiver between the antennas 122 to implement 2-way or 3 -way diversity switching.
- the diversity controller 108 may implement antenna switching with dynamic thresholds to switch the primary transceiver path from a primary antenna to a secondary antenna or tertiary antenna to optimize uplink performance of a wireless connection.
- the diversity controller 108 may select, based on the dynamic thresholds (e.g., diversity lookup table) an antenna that is forecast or predicted to have a highest amount of available uplink power (or UL power budget) given current network conditions or respective receive performance of the antennas. By so doing, the diversity controller 108 may improve wireless connection reliability in marginal network conditions.
- Example methods 700 through 1000 are described with reference to FIG. 7 through FIG. 10, respectively, in accordance with one or more aspects of antenna selection with dynamic thresholds for user devices. Alternately or additionally, aspects of antenna selection with dynamic metrics may alter or modify various communication performance metrics as described with reference to various methods.
- the methods 700 through 1000 illustrate sets of operations (or acts) that may be performed in, but not necessarily limited to, the order or combinations in which the operations are shown herein. Further, any of one or more of the operations may be repeated, combined, reorganized, skipped, or linked to provide a wide array of additional and/or alternate methods.
- FIG. 13 and/or entities detailed in FIG. 1 or other figures, reference to which is made for example only.
- the techniques and apparatuses described in this disclosure are not limited to an embodiment or performance by one entity or multiple entities operating on one device or those described with reference to the figures.
- FIG. 7 illustrates an example method 700 for selecting an antenna to use for communication based on dynamic thresholds, including operations performed by the diversity controller 108 and/or performance monitor 110.
- operations of the method 700 may be implemented by a multi-antenna user device to improve quality or signal-strength of a communication link with a base station.
- receive performance of a first antenna of a device is monitored via a first receiver coupled to the first antenna.
- the first receiver may be implemented in combination with a transmitter as part of a transceiver, such as a multi-mode and/or multi band transceiver module or SDR.
- the transceiver of the device is a primary transceiver that is configured to communicate in accordance with one or more wireless networking standards or protocols. Communication via the first antenna may include the transmission of signals as part of an uplink or the reception of other signals as part of a downlink.
- the receive performance of the first antenna may be measured using any suitable metric, such as a received signal strength, received signal quality, reference signal receive power (RSRP), reference signal receive quality (RSRQ), carrier-to-interference ratio, signal-to-noise ratio, bit-error rate, or packet-error rate.
- RSRP reference signal receive power
- RSRQ reference signal receive quality
- carrier-to-interference ratio carrier-to-interference ratio
- bit-error rate bit-error rate
- packet-error rate packet-error rate
- a first transmitter or transceiver (e.g ., transceiver 502) of a phone may be coupled (e.g., connected via RF front end 120) to a first antenna (e.g., antenna 122-2) of the phone located along a bottom edge or corner of the phone (e.g., lower-right corner).
- a first antenna e.g., antenna 122-2
- a diversity controller e.g., diversity controller 108 of the phone may use a first receiver (e.g., receiver 518) or a receive portion of the phone’s transceiver to monitor (e.g, a performance monitor 110) an RSRP of a signal (e.g., downlink) received by the first antenna from a base station (e.g., base station 202) of the wireless network.
- the monitored RSRP of the signal may provide the diversity controller with an indication or measurement of performance of the first antenna with respect to communicating with the base station of the wireless network.
- receive performance of a second antenna of the device is monitored via a second receiver.
- the second receiver may be implemented as a diversity receiver or secondary receiver configured to receive downlink signals in coordination with a first receiver or primary transceiver of the device.
- the second receiver is configured to receive downlink signals in a same or similar frequency band to that of the first receiver.
- the second receiver may be configured as part of a transceiver or MIMO receiver of the device.
- the receive performance of the second antenna may be measured using any suitable metric, such as a received signal strength, received signal quality, RSRP, RSRQ, carrier-to-interference ratio, signal-to-noise ratio, bit-error rate, or packet-error rate.
- a second or diversity receiver (e.g ., diversity receiver 504) of the phone may be coupled to a second antenna (e.g., 122-4) of the phone located along a top edge or corner of the phone.
- the diversity controller may use the second or diversity receiver to monitor (e.g., via the performance monitor 110) an RSRP of a signal (e.g., downlink) received by the second antenna from the base station of the wireless network.
- the monitored RSRP of the signal may provide the diversity controller with an indication or measurement of performance of the second antenna with respect to communicating with the base station of the wireless network.
- a threshold for switching the transmitter to the second antenna is determined.
- the threshold may be determined based on a difference in uplink power between the first antenna and the second antenna.
- the determination of the threshold may include applying an uplink modifier to a nominal or default antenna switch threshold.
- the threshold or uplink power modifier is determined based on a maximum transmit power level of the second antenna, nominal transmit power level of the second antenna, maximum transmit power level of the first antenna (e.g., active transmit antenna), or a nominal transmit power level of the first antenna.
- the diversity controller may determine a difference in uplink power based on a difference in respective MTPLs for the antennas, differences in transmit efficiencies between antennas (e.g., for a given frequency band), differences in efficiencies between receive-only use of an antenna versus combined receive and transmit use of an antenna (e.g, primary transceiver use), respective path loss differences between an amplifier and an antenna, or the like.
- a dynamic threshold is determined by accessing a lookup table of antenna switch information based on a state of an RF path or antenna switch, a configuration of a transmitter (e.g ., modem state), or a device state index.
- an offset or modifier may be applied to a measurement of receive performance of the first antenna or the second antenna.
- the modified receive performance of one or both antennas may be compared using a nominal antenna switch threshold.
- dynamic or adaptive antenna switch diversity may be implemented with modified receive performance metrics that account or compensate for at least a part of an uplink power imbalance between antennas.
- a nominal antenna switch threshold for switching between the first antenna and the second antenna is 3 dB based on respective reference power receive strengths of each antenna.
- the diversity controller may access a lookup table (e.g, antenna switch diversity LUT 314) to determine that the second antenna located at the top of the phone has a greater amount of MTPL cutback or reduction than the first antenna located at the bottom of the phone (e.g., 4 dB greater than that of the first antenna).
- a dynamic antenna switch threshold may be determined by adding 4 dB to the nominal antenna switch threshold of 3 dB such that the dynamic antenna switch threshold for switching from the first antenna to the second antenna is 7 dB to account for the greater cutback in transmit or uplink power of the second antenna.
- the receive performance of the first antenna is compared to the receive performance of the second antenna based on a threshold.
- the threshold may be an antenna switch threshold configured based on a difference in uplink power between the first antenna and the second antenna.
- the threshold is retrieved from a lookup table of antenna switch information or dynamic switch thresholds configured based on a device state index or modem state associated with a primary transceiver or other communication parameters of a device.
- the threshold can be configured to enable the diversity controller to select an antenna with a highest available transmit power or to avoid switching to an antenna with a lower transmit power level, which may prevent a dropped call or loss of connection when transmit power is reduced.
- the method 700 may return to operation 702 if the receive performance of the second antenna does not exceed the receive performance of the first antenna by the dynamic antenna switch threshold. For example, if a switch to the second antenna would result in a reduction in transmit power, the diversity controller may leave the transceiver coupled to the first antenna and implement another iteration of the method 700 to compare subsequent receive performance of the second antenna or monitor and compare receive performance of another antenna (e.g ., a third antenna). Alternately, the method 700 may proceed to operation 710 if the receive performance of the second antenna exceeds the receive performance of the first antenna by the dynamic switch threshold.
- the diversity controller measures an RSRP of the first antenna as -115 dBm and an RSRP of the second antenna as -110 dBm. Whereas this 5-dB difference in receive performance may normally trigger an antenna switch at the nominal static threshold, the reduced transmit power of the second antenna (e.g., 4 dB) could result in decreased communication performance or possibly a dropped voice call.
- the diversity controller compares the respective receive performance of the first and second antennas to the dynamic antenna switch threshold of 7 dB, which accounts or compensates for the reduced transmit power of the second antenna.
- the diversity controller leaves the transmitter of the phone coupled to the first antenna to maintain communication performance.
- the first antenna the diversity controller leaves the first antenna coupled to the transmitter until a better performing antenna is available (e.g ., another bottom edge or side antenna with an increased level of available transmit power).
- the second antenna is coupled to the transmitter in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the threshold.
- Operation 710 may also include decoupling the second antenna from another receiver prior to coupling the second antenna to the transmitter.
- the coupling of the transmitter to the second antenna may increase an available amount of transmit power for an uplink of a wireless connection with a base station.
- aspects of antenna switching with dynamic thresholds may improve communication performance of a device by selecting and switching the transmitter to an antenna with a higher level of transmit power (e.g., higher MTPL and/or a more efficient antenna).
- the diversity controller connects the transmitter of the phone to the second antenna based on the dynamic switch threshold, which may account or compensate for the reduction in transmit power of the second antenna to prevent a drop in transmit power and/or loss of connection.
- FIG. 8 illustrates an example method 800 for applying an uplink power-based modifier to a receive performance measurement, including operations performed by the diversity controller 108 and/or performance monitor 110.
- operations of the method 800 may be implemented by a multi-antenna user device to improve quality of a communication link with a base station.
- receive performance of a first antenna of a device is measured via a first receiver to provide a first receive performance measurement.
- a performance monitor 110 of a phone may monitor or measure an RSRP or RSRQ of the first antenna (e.g., 122-3) of the phone (e.g., user device 102).
- the first antenna of the device may be coupled to the first receiver and a transmitter of the device, which can be implemented in combination as a transceiver.
- the receive performance of the first antenna is measured based on signals (e.g., downlink 208) that the transceiver communicates with a base station of a wireless network.
- the receive performance of the first antenna may be measured using any suitable metric, such as a received signal strength, receive signal quality, RSRP, RSRQ, carrier-to-interference ratio, signal-to-noise ratio, bit-error rate, or packet-error rate.
- a received signal strength such as a received signal strength, receive signal quality, RSRP, RSRQ, carrier-to-interference ratio, signal-to-noise ratio, bit-error rate, or packet-error rate.
- receive performance of a second antenna of the device is measured via a second receiver to provide a second receive performance measurement.
- the performance monitor 110 of the phone may monitor or measure an RSRP or RSRQ of the second antenna (e.g., antenna 122-2 or 122-4) of the phone.
- the second receiver may include a diversity receiver or a MIMO receiver of the device that is coupled to a secondary or tertiary antenna of the device, such as to implement 2-way or 3 -way antenna diversity among multiple antennas of the device.
- the receive performance of the second antenna is measured based on signals (e.g, downlink 208) received from the base station of the wireless network.
- the receive performance of the second antenna may be measured using any suitable metric, such as a received signal strength, receive signal quality, RSRP, RSRQ, carrier-to-interference ratio, signal- to-noise ratio, bit-error rate, or packet-error rate.
- a received signal strength such as a received signal strength, receive signal quality, RSRP, RSRQ, carrier-to-interference ratio, signal- to-noise ratio, bit-error rate, or packet-error rate.
- an uplink power modifier is applied to the second receive performance measurement to provide an offset receive performance measurement.
- the uplink modifier is applied to the second receive performance measurement to account or compensate for a difference in uplink power between the first antenna and the second antenna.
- the uplink power modifier may correlate to an MTPL or reduction in transmit power associated with the second antenna based on a device state index, a modem state, RF configuration of the device or the like.
- a diversity controller of a phone may apply an uplink power modifier (-5 dB) to the performance measurement (-110 dBm) of the second antenna that correlates to an MTPL cutback of the second antenna (-5 dB) to provide an offset receive performance measurement (-115 dBm).
- the uplink power modifier can also be determined using an MTPL or reduction in transmit power associated with the first antenna, such as a current MTPL cutback of an active transmit antenna (e.g., -1 dB reduction for an offset performance measurement of -114 dBm, applied as +1 dB offset for the second antenna).
- a current MTPL cutback of an active transmit antenna e.g., -1 dB reduction for an offset performance measurement of -114 dBm, applied as +1 dB offset for the second antenna.
- an uplink power modifier of a current antenna may be applied to a receive performance measurement of the current antenna (e.g, -1 dB) or to that of a candidate antenna (e.g., +1 dB).
- the method 800 may return to operation 804 to measure performance of additional antennas of the device (e.g., third antennas or non active antennas).
- the method 800 repeat operations 804 and 806 to measure and modify receive performance measurements of other antennas to which a transmitter or transceiver of the device can be coupled.
- an uplink power modifier is applied to the first receive measurement to provide another or first offset receive performance measurement.
- the uplink modifier is applied to the first receive performance measurement to account or compensate for an MTPL or reduction in transmit power associated with the first antenna based on a device state index, a modem state, RF configuration of the device or the like.
- the method 800 may compensate each receive performance measurement for a respective transmit power level, efficiency (e.g ., due to frequency or coupling variations between antennas), or RF path loss (e.g., distance between a power amplifier and antenna feed point or connector) for a particular antenna.
- the modified receive performance measurements may serve as a proxy for overall communication performance (e.g., including uplink performance) for a candidate antenna instead of merely an estimate of receive or downlink performance.
- the diversity controller of the phone may apply an uplink power modifier (-1 dB) to the receive performance measurement of the first antenna (-114 dBm) that correlates to an MTPL cutback of the first antenna (-1 dB) to provide an offset receive performance measurement (-115 dBm).
- the second antenna receive performance may not be modified based on the MTPL or uplink power modifier of the first antenna, which can be accounted for separately, e.g., applied to the receive performance measurement of the first, as described with respect to operation 808.
- the first receive performance measurement is compared, based on an antenna switch threshold, with the offset receive performance measurement of at least the second antenna.
- the offset receive performance of the second antenna e.g., -115 dBm
- an offset receive performance of the first antenna e.g., -115 dBm
- the offset receive performance of the second antenna based on respective MTPL reductions of both antennas e.g ., -114 dBm
- the offset receive performance of the second antenna based on respective MTPL reductions of both antennas e.g ., -114 dBm
- the modified or offset receive performance of one or both antennas may be compared using a nominal antenna switch threshold.
- dynamic or adaptive antenna switch diversity may be implemented using offset receive performance metrics that account or compensate for at least a part of an uplink power imbalance between antennas.
- the respective offset receive performance measurements of both antennas are approximately equal (e.g, -114 dBm) when accounting or compensating for respective uplink or transmit power reductions of the antennas.
- the second antenna is coupled to the transmitter of the device based on the comparison.
- Operation 812 may also include decoupling the second antenna from another receiver prior to coupling the second antenna to the transmitter of the device.
- the second antenna may be coupled to the transmitter in response to the offset receive performance measurement of the second antenna exceeding the receive performance measurement of the first antenna by the threshold (e.g., 3-5 dB). This may be effective to increase an amount of transmit power available to the transmitter of the device, which may result in improved uplink performance through the second antenna (e.g., higher MTPL and/or a more efficient antenna).
- the method 800 may return to operation 802 to perform another iteration of the method 800 to continue measuring respective antenna receive performance and comparing the offset receive performance measurement to implement dynamic or adaptive antenna switch diversity. Alternately, if the offset receive performance measurement of the second antenna does not exceed the receive performance of the first antenna by the antenna switch threshold, the method 800 may proceed to operation 814. Thus, in the context of the example values, the offset receive performance measurement of the second antenna (e.g ., -114 dBm) does not exceed the receive performance measurement of the first antenna (e.g., -114 dBm), and the diversity controller proceeds to operation 814.
- the offset receive performance measurement of the second antenna e.g ., -114 dBm
- the diversity controller proceeds to operation 814.
- the first antenna is left coupled to the transmitter of the device based on the comparison.
- the first antenna may remain coupled to the transmitter in response to the offset receive performance measurement of the second antenna not exceeding the receive performance measurement of the first antenna by the threshold. This may be effective to maintain an amount of transmit power available to the transmitter of the device via the first antenna and prevent switching to an antenna with a lower transmit power level.
- the method 800 may return to operation 802 to perform another iteration of the method 800 to continue measuring respective antenna receive performance and comparing the offset receive performance measurement to implement dynamic or adaptive antenna switch diversity. Concluding the discussion of the example values described with reference to method 800, the diversity controller leaves the first antenna coupled to the transmitter in response to the offset receive performance measurement of the second antenna not exceeding the receive performance of the first antenna by the antenna switch threshold.
- FIG. 9 illustrates an example method 900 for accessing a lookup table of dynamic antenna switch thresholds that are indexed to respective device configurations or states.
- the method 900 may be implemented by or with the diversity controller 108, performance monitor 110, and/or the MTPL controller 112.
- operations of method 900 may be implemented to couple a primary transceiver of a user device to a best-performing antenna with respect to available uplink transmit power.
- respective receive performance of multiple antennas of a device are monitored.
- the multiple antennas of the device may include two or more antennas configurable to transmit or receive signals in a same or similar frequency band, sub-band, channel, or the like.
- the performance of each antenna is monitored or measured by or through a respective receiver of the device, such as a primary transceiver (e.g., active transceiver or transceiver 502), a diversity receiver (e.g., receiver 504), or a MIMO receiver (e.g., inactive receiver or receiver 506).
- a diversity controller 108 or performance monitor 110 monitors a receive performance of one or more antennas (e.g., antennas 122-1 through 122-3) of the device.
- a respective receive performance of an antenna may be measured as one of a received signal strength, receive signal quality, RSRP, RSRQ, carrier-to-interference ratio, signal-to-noise ratio, bit-error rate, or packet-error rate.
- an antenna configuration of the device is determined.
- the antenna configuration (e.g., antenna 418) may include a respective signal path (e.g., RF path 416) or switch configuration (e.g, RF path 416) between a transceiver of the device and an antenna of the device.
- the antenna configuration includes a combination of a signal path, antenna switch, or RF front end (e.g, RF front end 120) settings for coupling multiple antennas (e.g., antenna 122) of the device to respective transceivers or receivers of the device (e.g, transceiver/receivers 502 through 506 or receiver 518).
- the antenna configuration is useful to reference a lookup table of antenna switch information or antenna switch thresholds (e.g, antenna switch diversity LUT 314).
- the diversity controller can determine, configure, or reset (e.g ., to a default state) a signal path configuration or antenna switch configuration of the device.
- a transceiver configuration of the device is determined.
- the transceiver configuration may include settings of a primary or active transceiver of the device, such as a real-time modem state (e.g., modem state information 412).
- a transceiver configuration may include a radio mode, radio access technology (e.g., RAT 420), frequency band (e.g., frequency band 422), frequency sub-band, channel, or modulation coding scheme (MCS) setting of the transceiver.
- MCS modulation coding scheme
- the transceiver configuration is useful to reference a lookup table of antenna switch information or antenna switch thresholds (e.g, antenna switch diversity LUT 314).
- an indication of the transceiver configuration may be accessed via (e.g., a setting register) or received from the transceiver of the device.
- a device state index of the device is determined.
- an indication of the device state index (e.g., DSI 402) is determined by or received from an application processor (e.g., AP 302), DSI engine (e.g., DSI engine 114), or sensor co-processor of the device.
- the device state index may indicate a use case/mode (e.g., use case 404), user interaction, device state, communication mode of the device, transmit power mode (e.g, transmit power mode 406), or the like.
- the device state index may indicate whether the device is in a conducted power test mode, charging state, free space, proximate a user’s head, proximate a user’s body, functioning as a broadband router (e.g, hotspot), or the like.
- the device state index is useful to reference a lookup table of antenna switch information or antenna switch thresholds (e.g, antenna switch diversity LUT 314).
- the device state index may indicate when a transmit power of a transmitter of the device may be reduced or limited.
- a lookup table of antenna switch thresholds is accessed.
- the antenna switch thresholds of the lookup table are configured to compensate for a difference in uplink power between the multiple antennas of the device. Based on at least one of the antenna configuration, transceiver configuration, or device state index, the lookup table can be referenced to determine one or more dynamic thresholds (e.g., dynamic antenna switch thresholds 438) to use for antenna switch operations.
- Each of the antenna switch thresholds may be configured to account for differences in uplink power (e.g., MTPL uplink offset 428 and/or ANT MTPL cutback 424/434) between the antennas based on a respective the antenna configuration, transceiver configuration, or the device state index of the antenna.
- the antenna switch thresholds may be indexed to the antenna configuration, transceiver configuration, or the device state index to compensate for a reduction or increase in available transmit power (e.g, MTPL differences) of a candidate antenna to which the transceiver can be switched.
- an antenna switch threshold may also compensate for an MTPL reduction of a current or active antenna of the device.
- an antenna having a highest available uplink power level is selected as a transmit antenna of the device using at least one of the antenna switch thresholds.
- the antenna switch threshold can be used to maintain a current transmit antenna or select another of the multiple antennas as the transmit antenna, such as based on a respective dynamic antenna switch threshold for the current antenna and a candidate antenna.
- the receive performance of the current transmit antenna can be compared to the receive performance of a diversity receive antenna or an inactive antenna. If the receive performance of the other antenna exceeds the receive performance of the current transmit antenna by the dynamic antenna switch threshold, that antenna may be selected as the transmit antenna.
- the method 900 may return to operation 902 to perform another iteration of the method to improve or optimize a wireless connection with a base station.
- another iteration of the method 900 may retain a current transmit antenna that has a highest available uplink power level or select a different antenna should that antenna have a higher available uplink power level than the current transmit antenna.
- FIG. 10 illustrates an example method 1000 for switching a transmit antenna using thresholds that are based on uplink power differences between multiple antennas, including operations performed by the diversity controller 108, performance monitor 110, the MTPL controller 112, and/or the RF circuitry or components described with respect to FIG. 5 or FIG. 6.
- operations of method 1000 may be implemented to optimize or improve uplink performance of a multi-antenna user device, such as in marginal network conditions.
- a transceiver of a device is coupled to a first antenna to enable communication via the first antenna, such as through an RF front end 120.
- the transceiver includes a transmitter and a first receiver of the device and may be implemented as a multi- mode multi-band transceiver module or SDR.
- the transceiver of the device is a primary transceiver that is configurable to communicate in accordance with one or more wireless networking standards or protocols (e.g ., 3GPP standard). Communication via the first antenna may include the transmission of signals as part of an uplink to a base station or the reception of other signals as part of a downlink from a base station.
- the transceiver provides an indication or measurement of the first antenna’s receive performance to a performance monitor 110 or a diversity controller 108 of the device.
- a second receiver of the device is coupled to a second antenna to enable reception via the second antenna, such as through the RF front end 120.
- the second receiver may be a diversity or secondary receiver of the device configured to receive downlink signals in coordination with a first receiver or primary transceiver of the device.
- the second receiver is configured to receive downlink signals in a same or similar frequency band to that of the first receiver.
- the second receiver may be configured as part of another transceiver or MIMO receiver of the device.
- the second receiver provides an indication or measurement of the second antenna’s receive performance to the performance monitor 110 or the diversity controller 108 of the device.
- a third receiver of the device is coupled to a third antenna to enable monitoring of reception performance of the third antenna, such as through the RF front end 120.
- the third receiver may be coupled to the third antenna via a diplexer or RF switch.
- the third receiver can be implemented as a MIMO receiver that is capable of receiving multiple spatial streams of information.
- the third antenna is coupled to a port of the third receiver that is configured to operate in a frequency band that is different from frequency bands in which another transceiver or receiver of the device is configured to operate.
- the third antenna may be coupled to a port of the third receiver that is configured to operate in a same or similar frequency band as another transceiver or receiver of the device.
- the third receiver provides an indication or measurement of the third antenna’s receive performance to the performance monitor 110 or the diversity controller 108 of the device.
- respective thresholds for switching the transceiver to the second antenna or the third antenna are determined based on uplink power differences between the antennas.
- the respective switching thresholds may be determined by accessing a lookup table of antenna switch information or antenna switch thresholds (e.g ., antenna switch diversity LUT 314).
- the lookup table is accessed based on an antenna configuration (e.g., RF switches or modem state information 412), a configuration of the transceiver (e.g., modem state information 412 or MTPL information 414), or a device state index of the device (e.g., DSI information 410).
- respective receive measurements of the antennas may be modified to reflect differences in uplink power between a current and candidate antenna based on an antenna configuration, transceiver configuration, or device state index (e.g, user interaction or use mode) of the device.
- receive performance of the first antenna is compared, based on the respective thresholds, with a respective receive performance of the second antenna or the third antenna.
- a reference signal receive power (RSRP) of the first antenna may be compared with RSRPs of the second and third antennas based on a respective antenna switch threshold (e.g., dynamic antenna switch threshold 438).
- a respective antenna switch threshold e.g., dynamic antenna switch threshold 438.
- an offset receive performance of the first antenna can be compared with respective offset receive performances of the second and third antennas based on an antenna switch threshold (e.g., operation 810 of method 800).
- the transceiver is coupled (e.g., by the diversity controller 108) to the second antenna or the third antenna if the receive performance of the second antenna or the third antenna exceeds the receive performance of the first antenna by the respective threshold.
- the transceiver may be coupled to the selected antenna via any suitable type of circuit or switch, such as a DPDT RF switch or TPTT RF switch (e.g., RF front end 120).
- a DPDT RF switch or TPTT RF switch e.g., RF front end 120.
- coupling the transceiver (e.g., transceiver 502) to the selected antenna is effective to improve quality of a communication link or wireless link. In such cases, improving the quality of the communication link can prevent disruption of data or voice services, thereby enabling user applications or device functions to continue when one antenna of a device is blocked or impaired.
- FIG. 11 illustrates various components of an example electronic device 1100 that can implement antenna selection with dynamic thresholds in accordance with one or more aspects as described with reference to any of the preceding FIGs. 1-10.
- the electronic device 1100 may be implemented as any one or a combination of a fixed or mobile device, in any form of a consumer device, computing device, portable device, user device, user equipment, server, communication device, phone, navigation device, gaming device, media device, messaging device, media player, and/or other type of electronic device or a wirelessly-enabled device.
- the electronic device 1100 may be implemented as a smart-phone, phone-tablet (phablet), laptop computer, set-top box, wireless drone, computing-glasses, vehicle-based computing system, or wireless broadband router.
- the electronic device 1100 includes communication transceivers 1102 that enable wired and/or wireless communication of device data 1104, such as received data, transmitted data, or other information as described above.
- Example communication transceivers 1102 include NFC transceivers, WPAN radios compliant with various IEEE 802.15 standards, WLAN radios compliant with any of the various IEEE 802.11 standards, WWAN (3GPP-compliant) radios for cellular telephony, wireless metropolitan area network (WMAN) radios compliant with various IEEE 802.16 standards, and wired local area network (LAN) Ethernet transceivers.
- multiple communication transceivers 1102 or components thereof are operably coupled with an instance of an RF front end 120 embodied on the electronic device 1100.
- the RF front end 120 of the electronic device 1100 may be implemented similar to or differently from an RF front end 120 as described with reference to FIGs. 1-10.
- the electronic device 1100 may also include one or more data input/output ports 1106 (data I/O ports 1106) via which any type of data, media content, and/or other inputs can be received, such as user-selectable inputs, messages, applications, music, television content, recorded video content, and any other type of audio, video, and/or image data received from any content and/or data source.
- the data I/O ports 1106 may include USB ports, coaxial cable ports, and other serial or parallel connectors (including internal connectors) for flash memory, DVDs, CDs, and the like. These data I/O ports 1106 may be used to couple the electronic device to components, peripherals, or accessories such as keyboards, microphones, or cameras.
- the electronic device 1100 of this example includes at least one processor 1108 (e.g ., one or more application processors, processor cores microprocessors, digital-signal processors (DSPs), controllers, or the like), which can include a combined processor and memory system, that executes computer-executable instructions stored on computer- readable media to control operation or implement functionalities of the device.
- processors e.g ., one or more application processors, processor cores microprocessors, digital-signal processors (DSPs), controllers, or the like
- DSPs digital-signal processors
- a processor or processing system may be implemented at least partially in hardware, which can include components of an integrated circuit or on-chip system, a DSP, an application- specific integrated circuit (ASIC), a field-programmable gate array (FPGA), a complex programmable logic device (CPLD), and other implementations in silicon and/or other hardware.
- ASIC application- specific integrated circuit
- FPGA field-programmable gate array
- CPLD complex
- the electronic device 1100 can be implemented with any one or combination of electronic circuitry 1110, which may include hardware, fixed logic circuitry, or physical interconnects (e.g ., traces or connectors) that are implemented in connection with processing and control circuits.
- This electronic circuitry 1110 can implement executable or hardware-based modules (not shown) through logic circuitry and/or hardware, such as an FPGA or CPLD.
- the electronic device 1100 may also include a system bus, interconnect fabric, crossbar, or data transfer system that couples the various components within the device.
- a system bus or interconnect fabric can include any one or combination of different bus structures or IP blocks, such as a memory bus, memory controller, a peripheral bus, a universal serial bus, interconnect nodes, and/or a processor or local bus that utilizes any of a variety of bus architectures.
- the electronic device 1100 also includes one or more memory devices 1112 that enable data storage, examples of which include random access memory (RAM), non-volatile memory (e.g., read-only memory (ROM), flash memory, EPROM, and EEPROM), and a disk storage device. Any or all of the memory devices 1112 may enable persistent and/or non-transitory storage of information, data, or code, and thus do not include transitory signals or carrier waves in the general context of this disclosure.
- the memory device(s) 1112 provide data storage mechanisms to store the device data 1104 and other types of data (e.g., user data).
- the memory device 1112 may also store an operating system 1114, firmware, and/or device applications 1116 of the electronic device as instructions, code, or information. These instructions or code can be executed by the processor 1108 to implement various functionalities of the electronic device, such as to provide a user interface, enable data access, or manage connectivity with a wireless network.
- the memory device 1112 also stores processor-executable code or instructions for providing respective instance of a diversity controller 108, performance monitor 110, and MTPL controller 112, which may be implemented similar to or differently from the diversity controller, performance monitor, and/or MTPL controller described with reference to FIGs. 1-10.
- the electronic device 1100 may include an audio and/or video processing system 1118 for processing audio data and/or passing through the audio and video data to an audio system 1120 and/or to a display system 1122 (e.g ., a video buffer or device screen).
- the audio system 1120 and/or the display system 1122 may include any devices that process, display, and/or otherwise render audio, video, graphical, and/or image data.
- Display data and audio signals can be communicated to an audio component and/or to a display component via an RF link, S-video link, HDMI (high-definition multimedia interface), Display Port, composite video link, component video link, DVI (digital video interface), analog audio connection, or other similar communication link, such as media data port 1124.
- the audio system 1120 and/or the display system 1122 are external or separate components of the electronic device 1100.
- the display system 1122 can be an integrated component of the example electronic device 1100, such as part of an integrated display with touch interface.
- the electronic device 1100 also includes antennas 1126-1, 1126-2, through 1126-n, where n may be any suitable number of antennas.
- the antennas 1126-1 through 1126-n are coupled to the RF front end 120 of the electronic device 1100, which may include any suitable combination of filters, amplifiers, switches, diplexers, and/or multiplexers to facilitate transmission or reception of signals by the communication transceivers 1102 through of the antennas 1126-1 through 1126-n.
- the diversity controller 108 or performance monitor 110 may interact with the RF front end 120 and the antennas 1126-1 through 1126-n to implement antenna selection with dynamic thresholds as described herein.
- the electronic device 1100 may represent an example implementation of the user devices 102 as described throughout the present disclosure.
- the processor 1108 is an example of the processor 104 (not shown) and/or the memory device 1112 is an example of the computer-readable storage media 106 (not shown) for storing various data, instructions, or code for implementing a diversity controller or other applications.
- aspects of antenna selection with dynamic thresholds as described herein can be implemented by, or in conjunction with, the electronic device 1100 of FIG. 11.
- FIG. 12 illustrates an example system on chip (SoC) that may implement aspects of antenna selection with dynamic thresholds.
- SoC system on chip
- the SoC 1200 may be embodied as or within any type of user device 102, user equipment, apparatus, other device, or system as described with reference to FIGs. 1-11 to implement antenna selection with dynamic thresholds.
- FIG. 12 illustrates an example system on chip (SoC) that may implement aspects of antenna selection with dynamic thresholds.
- SoC system on chip
- the SoC 1200 includes communication transceivers 1202 and a wireless modem 1204 that enable wired or wireless communication of data 1206 (e.g ., received data, data that is being received, data scheduled for broadcast, packetized, or the like).
- data 1206 e.g ., received data, data that is being received, data scheduled for broadcast, packetized, or the like.
- the wireless modem 1204 is a multi-mode multi-band modem or baseband processor that is configurable to communicate in accordance with various communication protocols and/or in different frequency bands, such as those protocols or frequency bands described throughout this disclosure.
- the wireless modem 1204 may include a transceiver interface (not shown) for communicating encoded or modulated signals with transceiver circuitry.
- the data 1206 or other system content can include configuration settings of the system or various components (e.g ., lookup table 312 or 314), media content stored by the system, and/or information associated with a user of the system.
- Media content stored on the system on chip 1200 may include any type of audio, video, and/or image data.
- the system on chip 1200 also includes one or more data inputs 1208 via which any type of data, media content, and/or inputs can be received, such as user input, user-selectable inputs (explicit or implicit), or any other type of audio, video, and/or image data received from a content and/or data source.
- the data inputs 1208 may include various data interfaces, which can be implemented as any one or more of a serial and/or parallel interface, a wireless interface, a network interface, and as any other type of communication interface enabling communication with other devices or systems.
- the system on chip 1200 includes one or more processor cores 1210, which process various computer-executable instructions to control the operation of the system on chip 1200 and to enable techniques for antenna switching with dynamic thresholds.
- the system on chip 1200 can be implemented with any one or combination of hardware, firmware, or fixed logic circuitry that is implemented in connection with processing and control circuits, which are generally shown at 1212.
- the system on chip 1200 may also include a bus, interconnect, crossbar, or fabric that couples the various components within the system.
- the system 1200 also includes a memory 1214 (e.g ., computer-readable media), such as one or more memory circuits that enable persistent and/or non-transitory data storage, and thus do not include transitory signals or carrier waves.
- Examples of the memory 1214 include RAM, non-volatile memory (e.g., read-only memory (ROM), EPROM, EEPROM, etc.), or flash memory.
- the memory 1214 provides data storage for the system data 1206, as well as for firmware 1216, applications 1218, and any other types of information and/or data related to operational aspects of the system on chip 1200.
- the firmware 1216 can be maintained as processor-executable instructions of an operating system (e.g., real-time OS) within the memory 1214 and executed on one or more of the processor cores 1210.
- the applications 1218 may include a system manager, such as any form of a control application, software application, signal-processing and control module, code that is native to a particular system, an abstraction module or gesture module and so on.
- the memory 1214 may also store system components or utilities for implementing aspects of antenna switching with dynamic thresholds, such as a diversity controller 108, MTPL controller 112, and corresponding lookup tables. These entities may be embodied as combined or separate components, examples of which are described with reference to corresponding entities or functionality as illustrated in FIGs. 1-11 or FIG. 13. Although shown in memory 1214, one or more elements of the diversity controller 108 or MTPL controller 112 may be implemented, in whole or in part, through hardware or firmware.
- the system on chip 1200 also includes additional processors or co-processors to enable other functionalities, such as a graphics processor 1220, audio processor 1222, and image sensor processor 1224.
- the graphics processor 1220 may render graphical content associated with a user interface, operating system, or applications of the system on chip 1200.
- the audio processor 1222 encodes or decodes audio data and signals, such as audio signals and information associated with voice calls or encoded audio data for playback.
- the image sensor processor 1224 may be coupled to an image sensor and provide image data processing, video capture, and other visual media conditioning and processing functions.
- the system on chip 1200 may also include a security processor 1226 to support various security, encryption, and cryptographic operations, such as to provide secure communication protocols and encrypted data storage.
- the security processor 1226 may include one or more cryptographic engines, cipher libraries, hashing modules, or random number generators to support encryption and cryptographic processing of information or communications of the system on chip 1200.
- the system on chip 1200 can include a position and location engine 1228 and a sensor interface 1230.
- the position and location engine 1228 may provide positioning or location data by processing signals of a Global Navigation Satellite System (GNSS) and/or other motion or inertia sensor data (e.g ., dead-reckoning navigation).
- GNSS Global Navigation Satellite System
- the sensor interface 1230 enables the system on chip 1200 to receive data from various sensors, such as capacitance and motion sensors.
- a DSI engine 114 of the system on chip 1200 receives data (e.g., motion or capacitance sensor data) from the sensor interface 1230 to provide DSI information to the diversity controller 108 and/or the MTPL controller 112 to enable antenna switching with dynamic thresholds.
- FIG. 13 illustrates an example configuration of a wireless communication processor 1300 (communication processor 1300) that may implement various aspects of antenna selection with dynamic thresholds.
- the communication processor 1300 may be implemented as a modem baseband processor, software-defined radio module, configurable modem ( e.g ., multi-mode, multi-band modem), wireless data interface, or wireless modem, such as wireless modem 1204 of the system on chip 1200.
- the wireless communication processor 1300 may be implemented in a device or system to support data access, messaging, or data- based services of a wireless network, as well as various audio-based communication (e.g., voice calls).
- the wireless communication processor 1300 includes at least one processor core 1302 and a memory 1304, which is implemented as hardware-based memory that enables persistent and/or non-transitory data storage, and thus does not include transitory signals or carrier waves.
- the processor core 1302 may be configured as any suitable type of processor core, microcontroller, digital signal processor core, or the like.
- the memory 1304 may include any suitable type of memory device or circuit, such as RAM, DRAM, SRAM, non-volatile memory, flash memory, or the like. Generally, the memory stores data 1306 of the communication processor 1300, as well as firmware 1308 and other applications.
- the processor core 1302 may execute processor-executable instructions of the firmware 1308 or applications to implement functions of the communication processor 1300, such as signal processing and data encoding operations.
- the memory 1304 may also store data and information useful to implement aspects of antenna switching with dynamic thresholds.
- the memory 1304 of the communication processor 1300 includes PCL information 210, modem state information 306, an antenna switch diversity lookup table 314, and an MTPL lookup table 312. Any of these entities may be implemented in combination or separately as shown in FIG. 13.
- the communication processor 1300 may also include electronic circuitry 1310 for managing or coordinating operations of various components and an audio codec 1312 for processing audio signals and data.
- the electronic circuitry 1310 may include hardware, fixed logic circuitry, or physical interconnects (e.g ., traces or connectors) that are implemented in connection with processing and control circuits of the communication processor and various components.
- the audio codec 1312 may include a combination of logic, circuitry, or firmware (e.g., algorithms) to support encoding and/or decoding of audio information and audio signals, such as analog signals and digital data associated with voice or sound functions of the communication processor 1300.
- a system interface 1314 of the communication processor 1300 enables communication with a host system or application processor.
- the communication processor 1300 may provide or expose data access functionalities to the system or application processor through the system interface 1314.
- the communication processor also includes a transceiver circuit interface 1316 and an RF circuit interface 1318, through which the communication processor 1300 may manage or control respective functionalities of a transceiver circuit or RF front end to implement various communication protocols and techniques.
- the communication processor includes digital signal processing or signal processing blocks for encoding and modulating data for transmission or demodulating and decoding received data.
- the communication processor 1300 includes an encoder 1320, modulator 1322, and digital-to-analog converter 1324 (D/A converter 1324) for encoding, modulating, and converting data sent to the transceiver circuit interface.
- the communication processor also includes an analog-to-digital converter 1326 (A/D converter 1326), demodulator 1328, and decoder 1330 for converting, demodulating, and decoding data received from the transceiver circuit interface 1316.
- these signal processing blocks and components are implemented as respective transmit and receive chains of the communication processor 1300, which may be configurable for different radio access technologies or frequency bands.
- the wireless communication processor 1300 may also include a diversity controller 108, performance monitor 110, and MTPL controller 112. These entities may be embodied as combined or separate components, examples of which are described with reference to corresponding entities or functionality as illustrated in FIGs. 1-12.
- the diversity controller 108 may access the performance monitor 110, diversity LUT 314 and/or the RF interface 1318 to implement aspects of antenna switching with dynamic thresholds.
- the diversity controller 108 may receive indications of antenna performance from the performance monitor 110.
- the diversity controller 108 may compare the indications of receive performance using dynamic antenna switching thresholds of the diversity LUT 314. Based on the comparisons, the diversity controller 108 may access the RF circuit interface 1318 to configure an RF front end such that an antenna with a highest available transmit power level is coupled to the transmit chain of the communication processor 1300.
- a user may be provided with controls allowing the user to make an election as to both if and when devices, systems, applications, and/or features described herein may enable collection of user information, such as one or more of wireless link metrics, connection duration information, average connection length, signal quality /strength information, network identity information, network basic service set identifier (BSSID) information, recently utilized wireless communication bands/channels, a user’s preferences, a user’s current location, if the user has communicated content or information with a server, or the like.
- certain data may be treated in one or more ways before it is stored or used, so that personally identifiable information is removed.
- a user’s identity may be treated so that no personally identifiable information can be determined for the user.
- a user’s geographic location may be generalized or randomized about where location information is obtained (such as to a city, postal code, or state/province level), so that a particular location of a user cannot be determined.
- location information such as to a city, postal code, or state/province level
- the user may have control(s) over what information is collected about the user, one or more devices of the user, how that information is used, and/or what information is provided to the user.
- the components, modules, methods, and operations described herein can be implemented using software, firmware, hardware (e.g., fixed logic circuitry), manual processing, or any combination thereof.
- Some operations of the example methods may be described in the general context of executable instructions stored on computer- readable storage memory that is local and/or remote to a computer processing system, and implementations can include software applications, programs, functions, and the like.
- any of the functionality described herein can be performed, at least in part, by one or more hardware logic components, such as, and without limitation, FPGAs, ASICs, ASSPs, SoCs, CPLDs, co-processors, context hubs, motion co-processors, sensor co-processors, or the like.
- a first method performed by a device having at least two antennas comprises monitoring, via a first receiver of the device, receive performance of a first antenna of the device, the first antenna being coupled to a transmitter of the device; monitoring, via a second receiver of the device, receive performance of a second antenna of the device; comparing, based on an antenna switch threshold, the receive performance of the first antenna to the receive performance of the second antenna, the antenna switch threshold configured based on a difference in uplink power between the first antenna and the second antenna; and coupling, based on the comparison, the transmitter of the device to the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold, the transmitter being decoupled from the first antenna prior to coupling to the second antenna of the device.
- an apparatus for communicating over a wireless network comprises at least two antennas that include a first antenna and a second antenna; a transceiver that includes a transmitter and a first receiver; a second receiver; and a diversity controller.
- the diversity controller is implemented to: couple the transceiver to the first antenna to enable communication via the first antenna; couple the second receiver to the second antenna to enable reception via the second antenna or enable monitoring of performance of the second antenna; monitor, via the first receiver, receive performance of the first antenna of the apparatus; monitor, via a second receiver, receive performance of the second antenna of the apparatus; compare, based on an antenna switch threshold, the receive performance of the first antenna to the receive performance of the second antenna, the antenna switch threshold configured based on a difference in uplink power between the first antenna and the second antenna of the apparatus; and couple, based on the comparison, the transceiver to the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold, the transceiver being decoupled from the first antenna prior to coupling to the second antenna of the apparatus.
- a system on chip comprises a transceiver module that includes a transmitter module and a first receiver module; a second receiver module; at least one output configured to control radio frequency (RF) switch circuitry; a processor core configured to execute processor- executable instructions; a hardware-based memory having processor-executable instructions stored thereon that, responsive to execution by the processor core, implement a diversity controller.
- RF radio frequency
- the diversity controller is implemented to: cause, via the at least one output, coupling of the transceiver module to a first antenna to enable communication via the first antenna; cause, via the at least one output, coupling of the second receiver module to a second antenna to enable reception via the second antenna or enable monitoring of performance of the second antenna; monitor, via the first receiver module, receive performance of the first antenna; monitor, via a second receiver module, receive performance of the second antenna; compare, based on an antenna switch threshold, the receive performance of the first antenna to the receive performance of the second antenna, the antenna switch threshold configured based on a difference in uplink power between the first antenna and the second antenna; and couple, based on the comparison, the transmitter module of the system on chip to the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold, the transmitter module being decoupled from the first antenna prior to coupling to the second antenna.
- the antenna switch threshold is configured based on a difference in uplink power between the first antenna and the second antenna which results in the antenna switch threshold being greater than a nominal value if an uplink power of first antenna is higher than an uplink power of the second antenna or the antenna switch threshold being less than a nominal value if the uplink power of first antenna is lower than an uplink power of the second antenna.
- the antenna switch threshold includes to an offset or a modifier that is inversely proportional to a maximum transmit power level of the second antenna.
- the uplink power modifier is based on at least a maximum transmit power level of the second antenna. In addition to any of the method, the apparatus, or the system on chip described above, the uplink power modifier is based on a one of: a nominal maximum transmit power level of the second antenna; or a maximum transmit power level of the first antenna to which the transmitter of the device is coupled.
- the uplink power modifier applied to the default antenna switch threshold is based on one of: a state of at least one antenna switch of the device to which the first antenna or the second antenna is coupled; a configuration of the transmitter comprising a radio access technology setting, a channel setting, a frequency band setting, or a frequency sub-band setting; or a device state index of the device.
- determining the maximum transmit power level of the second antenna or the antenna switch threshold by accessing a lookup table of antenna switch information based on at least one of: a state of at least one antenna switch of the device to which the first antenna or the second antenna is coupled; a configuration of the transmitter comprising a radio access technology setting, a channel setting, a frequency band setting, or a frequency sub-band setting; or a device state index of the device.
- the receive performance of the first antenna or the receive performance of the second antenna is measured as at least one of a received signal strength, reference signal receive power, receive signal quality, carrier-to-interference ratio, signal-to-noise ratio, bit error rate, or packet-error rate.
- the device includes at least three antennas
- the antenna switch threshold is a first antenna switch threshold
- the method further comprises: monitoring, via a third receiver of the device, receive performance of a third antenna of the device, the third receiver being a multiple-input multiple-output (MIMO) receiver; comparing, based on a second antenna switch threshold, the receive performance of the first antenna to the receive performance of the third antenna, the second antenna switch threshold configured based on a difference in uplink power between the first antenna and the third antenna; and coupling, based on the comparison, the transmitter of the device to one of: the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the first antenna switch threshold; or the third antenna in response to the receive performance of the third antenna exceeding the receive performance of the first antenna by the second antenna switch threshold.
- MIMO multiple-input multiple-output
- the diversity controller is further implemented to configure the antenna switch threshold by applying an uplink power modifier to a default antenna switch threshold.
- the uplink power modifier is based on a maximum transmit power level of the second antenna and at least one of: a default maximum transmit power level of the second antenna; a nominal maximum transmit power level of the second antenna; or a maximum transmit power level of the first antenna to which the transmitter of the apparatus is coupled.
- a memory storing a lookup table of antenna switch information; and the diversity controller is further implemented to determine the maximum transmit power level of the second antenna or the antenna switch threshold by accessing the lookup table of antenna switch information based on at least one of: a state of at least one antenna switch of the device to which the first antenna or the second antenna is coupled; a configuration of the transmitter comprising a radio access technology setting, a channel setting, a frequency band setting, or a frequency sub-band setting; or a device state index of the device.
- the apparatus includes at least three antennas and a third receiver, the antenna switch threshold is a first antenna switch threshold, and the diversity controller is further implemented to: couple the third receiver to the third antenna to enable reception via the third antenna or enable monitoring of performance of the third antenna; monitor, via a third receiver, receive performance of the third antenna of the apparatus; compare, based on a second antenna switch threshold, the receive performance of the first antenna to the receive performance of the third antenna, the second antenna switch threshold configured based on a difference in uplink power between the first antenna and the third antenna of the apparatus; and couple, based on the comparison, the transmitter of the transceiver to one of: the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the first antenna switch threshold; or the third antenna in response to the receive performance of the third antenna exceeding the receive performance of the first antenna by the second antenna switch threshold.
- the difference in uplink power between the first antenna and the second antenna is based on at least two of: a nominal or default maximum transmit power level of the second antenna; a maximum transmit power of the second antenna that is configured based on settings of the transceiver module or device state index information; or a maximum transmit power level of the first antenna to which the transmitter module is coupled.
- the diversity controller is further implemented to: determine an uplink power modifier based on at least one of: a state of the RF circuitry by which the system on chip is coupled to the first antenna or the second antenna; a configuration of the transmitter module comprising at least one of a radio access technology setting, a frequency band setting, a frequency sub-band setting, or a channel setting; or a device state index of a device in which the system on chip is embodied; and configure the antenna switch threshold by applying the uplink power modifier to a default antenna switch threshold.
- the system on chip further comprises a memory storing a lookup table of antenna switch information; and the diversity controller is further implemented to determine the antenna switch threshold by accessing the lookup table of antenna switch information based on at least one of: a state of the RF circuitry by which the system on chip is coupled to the first antenna or the second antenna; a configuration of the transmitter module comprising at least one of a radio access technology setting, a frequency band setting, a frequency sub-band setting, or a channel setting; or a device state index of a device in which the system on chip is embodied.
- the entries of the lookup table of antenna switch information are indexed to at least one of the state of the RF circuitry, the configuration of the transmitter, or the device state index; an entry for the antenna switch threshold includes or indicates an offset from a nominal antenna switch threshold for the second antenna or an uplink power modifier associated with the antenna switch threshold; and the entry includes a maximum transmit power level that includes or indicates an offset from a nominal transmit power of the second antenna that is inversely proportional to the offset from the nominal antenna switch threshold or the uplink power modifier.
- the system on chip includes a third receiver module, the antenna switch threshold is a first antenna switch threshold, and the diversity controller is further implemented to: couple the third receiver module to the third antenna to enable reception via the third antenna or enable monitoring of performance of the third antenna; monitor, via the third receiver module, receive performance of the third antenna; compare, based on a second antenna switch threshold, the receive performance of the first antenna to the receive performance of the third antenna, the second antenna switch threshold configured based on a difference in uplink power between the first antenna and the third antenna; and couple, based on the comparison, the transmitter module to one of: the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the first antenna switch threshold; or the third antenna in response to the receive performance of the third antenna exceeding the receive performance of the first antenna by the second antenna switch threshold.
- Example 1 A method performed by a device having at least two antennas, the method comprising: monitoring, via a first receiver of the device, receive performance of a first antenna of the device, the first antenna being coupled to a transmitter of the device; monitoring, via a second receiver of the device, receive performance of a second antenna of the device; comparing, based on an antenna switch threshold, the receive performance of the first antenna to the receive performance of the second antenna, the antenna switch threshold configured based on a difference in uplink power between the first antenna and the second antenna; and coupling, based on the comparison, the transmitter of the device to the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold, the transmitter being decoupled from the first antenna prior to coupling to the second antenna of the device.
- Example 2 The method as recited by claim 1, wherein the antenna switch threshold is configured based on a difference in uplink power between the first antenna and the second antenna which results in: the antenna switch threshold being greater than a nominal value if an uplink power of first antenna is higher than an uplink power of the second antenna; or the antenna switch threshold being less than a nominal value if the uplink power of first antenna is lower than an uplink power of the second antenna.
- Example 3 The method of example 1 or 2, wherein the antenna switch threshold includes an offset or a modifier that is inversely proportional to a maximum transmit power level of the second antenna.
- Example 4 The method of any of examples 1 to 3, further comprising configuring the antenna switch threshold by applying an uplink power modifier to a default antenna switch threshold.
- Example 5 The method of example 4, wherein the uplink power modifier is based on at least a maximum transmit power level of the second antenna.
- Example 6 The method of example 4 or 5, wherein the uplink power modifier is based on a one of: a nominal maximum transmit power level of the second antenna; or a maximum transmit power level of the first antenna to which the transmitter of the device is coupled.
- Example 7 The method of any of examples 4 to 6, wherein the uplink power modifier applied to the default antenna switch threshold is based on one of: a state of at least one antenna switch of the device to which the first antenna or the second antenna is coupled; a configuration of the transmitter comprising a radio access technology setting, a channel setting, a frequency band setting, or a frequency sub-band setting; or a device state index of the device.
- Example 8 The method of any of the preceding examples, further comprising determining the maximum transmit power level of the second antenna or the antenna switch threshold by accessing a lookup table of antenna switch information based on at least one of: a state of at least one antenna switch of the device to which the first antenna or the second antenna is coupled; a configuration of the transmitter comprising a radio access technology setting, a channel setting, a frequency band setting, or a frequency sub-band setting; or a device state index of the device.
- Example 9 The method of any of the preceding examples, wherein the receive performance of the first antenna or the receive performance of the second antenna is measured as at least one of a received signal strength, reference signal receive power, receive signal quality, carrier-to-interference ratio, signal-to-noise ratio, bit-error rate, or packet-error rate.
- Example 10 The method of any of the preceding examples, wherein the device includes at least three antennas, the antenna switch threshold is a first antenna switch threshold, and the method further comprises: monitoring, via a third receiver of the device, receive performance of a third antenna of the device, the third receiver being a multiple-input multiple-output (MIMO) receiver; comparing, based on a second antenna switch threshold, the receive performance of the first antenna to the receive performance of the third antenna, the second antenna switch threshold configured based on a difference in uplink power between the first antenna and the third antenna; and coupling, based on the comparison, the transmitter of the device to one of: the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the first antenna switch threshold; or the third antenna in response to the receive performance of the third antenna exceeding the receive performance of the first antenna by the second antenna switch threshold.
- MIMO multiple-input multiple-output
- Example 11 An apparatus for communicating over a wireless network comprising: at least two antennas that include a first antenna and a second antenna; a transceiver that includes a transmitter and a first receiver; a second receiver; and a diversity controller implemented to: couple the transceiver to the first antenna to enable communication via the first antenna; couple the second receiver to the second antenna to enable reception via the second antenna or enable monitoring of performance of the second antenna; monitor, via the first receiver, receive performance of the first antenna; monitor, via a second receiver, receive performance of the second antenna; compare, based on an antenna switch threshold, the receive performance of the first antenna to the receive performance of the second antenna, the antenna switch threshold configured based on a difference in uplink power between the first antenna and the second antenna of the apparatus; and couple, based on the comparison, the transceiver of the apparatus to the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold, the transceiver being decoupled from the first antenna prior to coupling to the second antenna of
- Example 12 The apparatus of example 11, wherein the antenna switch threshold being configured based on a difference in uplink power between the first antenna and the second antenna which results in: the antenna switch threshold being greater than a nominal switch threshold value if an uplink power of first antenna is higher than an uplink power of the second antenna; or the antenna switch threshold being less than the nominal switch threshold value if the uplink power of first antenna is lower than an uplink power of the second antenna.
- Example 13 The apparatus of example 11 or 12, wherein the antenna switch threshold corresponds to an offset or a modifier that is inversely proportional to a maximum power transmit level of the second antenna when coupled to the transceiver.
- Example 14 The apparatus of any one of examples 11 to 13, wherein the diversity controller is further implemented to configure the antenna switch threshold by applying an uplink power modifier to a default antenna switch threshold.
- Example 15 The apparatus of example 14, wherein the uplink power modifier is based on a maximum transmit power level of the second antenna and at least one of: a default maximum transmit power level of the second antenna; a nominal maximum transmit power level of the second antenna; or a maximum transmit power level of the first antenna to which the transmitter of the apparatus is coupled.
- Example 16 The apparatus of example 14 or 15, wherein the uplink power modifier applied to the default antenna switch threshold is based on one of: a state of at least one antenna switch of the apparatus to which the first antenna or the second antenna is coupled; a configuration of the transmitter comprising at least one of a radio access technology setting, a frequency band setting, a frequency sub-band setting, or a channel setting; or a device state index of the apparatus.
- Example 17 The apparatus of any of the preceding examples, wherein: the apparatus further comprises a memory storing a lookup table of antenna switch information; and the diversity controller is further implemented to determine the maximum transmit power level of the second antenna or the antenna switch threshold by accessing the lookup table of antenna switch information based on at least one of: a state of at least one antenna switch of the apparatus to which the first antenna or the second antenna is coupled; a configuration of the transmitter comprising a radio access technology setting, a channel setting, a frequency band setting, or a frequency sub-band setting; or a device state index of the apparatus.
- the apparatus further comprises a memory storing a lookup table of antenna switch information
- the diversity controller is further implemented to determine the maximum transmit power level of the second antenna or the antenna switch threshold by accessing the lookup table of antenna switch information based on at least one of: a state of at least one antenna switch of the apparatus to which the first antenna or the second antenna is coupled; a configuration of the transmitter comprising a radio access technology setting, a channel setting, a
- Example 18 The apparatus of any of the preceding examples, wherein the apparatus includes at least three antennas and a third receiver, the antenna switch threshold is a first antenna switch threshold, and the diversity controller is further implemented to: couple the third receiver to the third antenna to enable reception via the third antenna or enable monitoring of performance of the third antenna; monitor, via a third receiver, receive performance of the third antenna of the apparatus; compare, based on a second antenna switch threshold, the receive performance of the first antenna to the receive performance of the third antenna, the second antenna switch threshold configured based on a difference in uplink power between the first antenna and the third antenna of the apparatus; and couple, based on the comparison, the transmitter of the transceiver to one of: the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the first antenna switch threshold; or the third antenna in response to the receive performance of the third antenna exceeding the receive performance of the first antenna by the second antenna switch threshold.
- Example 19 A system on chip comprising: a transceiver module that includes a transmitter module and a first receiver module; a second receiver module; at least one output configured to control radio-frequency (RF) switch circuitry; a processor core configured to execute processor-executable instructions; a hardware-based memory having processor-executable instructions stored thereon that, responsive to execution by the processor core, implement a diversity controller to: cause, via the at least one output, coupling of the transceiver module to a first antenna to enable communication via the first antenna; cause, via the at least one output, coupling of the second receiver module to a second antenna to enable reception via the second antenna or enable monitoring of performance of the second antenna; monitor, via the first receiver module, receive performance of the first antenna; monitor, via a second receiver module, receive performance of the second antenna; compare, based on an antenna switch threshold, the receive performance of the first antenna to the receive performance of the second antenna, the antenna switch threshold configured based on a difference in uplink power between the first antenna and the second antenna; and couple, based
- Example 20 The system-on-chip of example 19, wherein the antenna switch threshold is configured based on a difference in uplink power between the first antenna and the second antenna which results in: the antenna switch threshold being greater than a nominal switch threshold value if an uplink power of first antenna is higher than an uplink power of the second antenna; or the antenna switch threshold being less than the nominal switch threshold value if the uplink power of first antenna is lower than the uplink power of the second antenna.
- Example 21 The system-on-chip of example 19 or 20, wherein the antenna switch threshold includes an offset or a modifier that is inversely proportional to a maximum uplink power level of the second antenna.
- Example 22 The system-on-chip of any of the examples 19 to 21, wherein the difference in uplink power between the first antenna and the second antenna is based on at least two of: a nominal or default maximum transmit power level of the second antenna; a maximum transmit power of the second antenna that is configured based on settings of the transceiver module or device state index information; or a maximum transmit power level of the first antenna to which the transmitter module is coupled.
- Example 23 The system-on-chip of example 22, wherein the diversity controller is further implemented to: determine an uplink power modifier based on at least one of: a state of the RF circuitry by which the system on chip is coupled to the first antenna or the second antenna; a configuration of the transmitter module comprising at least one of a radio access technology setting, a frequency band setting, a frequency sub-band setting, or a channel setting; or a device state index of a device in which the system on chip is embodied; and configure the antenna switch threshold by applying the uplink power modifier to a default antenna switch threshold.
- Example 24 The system-on-chip of any of the preceding examples, wherein the system on chip further comprises a memory storing a lookup table of antenna switch information; and the diversity controller is further implemented to determine the antenna switch threshold by accessing the lookup table of antenna switch information based on at least one of: a state of the RF circuitry by which the system on chip is coupled to the first antenna or the second antenna; a configuration of the transmitter module comprising at least one of a radio access technology setting, a frequency band setting, a frequency sub-band setting, or a channel setting; or a device state index of a device in which the system on chip is embodied.
- Example 25 The system-on-chip of example 24, wherein: entries of the lookup table of antenna switch information are indexed to at least one of the state of the RE circuitry, the configuration of the transmitter, or the device state index; an entry for the antenna switch threshold includes or indicates an offset from a nominal antenna switch threshold for the second antenna or an uplink power modifier associated with the antenna switch threshold; and the entry includes a maximum transmit power level that includes or indicates an offset from a nominal transmit power of the second antenna that is inversely proportional to the offset from the nominal antenna switch threshold or the uplink power modifier.
- Example 26 The system-on-chip of any of the preceding examples, wherein the system on chip includes a third receiver module, the antenna switch threshold is a first antenna switch threshold, and the diversity controller is further implemented to: couple the third receiver module to the third antenna to enable reception via the third antenna or enable monitoring of performance of the third antenna; monitor, via the third receiver module, receive performance of the third antenna; compare, based on a second antenna switch threshold, the receive performance of the first antenna to the receive performance of the third antenna, the second antenna switch threshold configured based on a difference in uplink power between the first antenna and the third antenna; and couple, based on the comparison, the transmitter module to one of: the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the first antenna switch threshold; or the third antenna in response to the receive performance of the third antenna exceeding the receive performance of the first antenna by the second antenna switch threshold.
- the system on chip includes a third receiver module
- the antenna switch threshold is a first antenna switch threshold
- the diversity controller is further implemented to: couple the
Abstract
The present disclosure describes various aspects of antenna selection with dynamic thresholds for user devices. In some aspects, a device (102) includes a first receiver (518) of a transceiver (502) and at least a second receiver (522). The transceiver (502) is coupled to a first antenna (122-2) of the device (102) to enable communication and the second receiver (522) is coupled to a second antenna (122-3) of the device (102) to enable reception or monitoring of performance. A diversity controller (108) of the device (102) compares receive performance of the first antenna (122-2) to receive performance of the second antenna (122-3) using a threshold configured based on a difference in uplink power between the antennas (122). In response to the receive performance of the second antenna (122-3) exceeding the receive performance of the first antenna (122-2) by the threshold, the diversity controller (108) couples the transceiver (502) to the second antenna (122-3). By so doing, the diversity controller (108) may compensate for a reduction in transmit power of the second antenna (122-3).
Description
ANTENNA SELECTION WITH DYNAMIC THRESHOLDS FOR USER DEVICES
BACKGROUND
[0001] Many electronic devices enable users to communicate with other devices and access resources via wireless networks. Wireless networks are typically provided through, and administered by, base stations of the wireless network. To communicate over the wireless network, a device establishes a connection with one of the base stations to receive or transmit information ( e.g ., control signaling or data). At a physical level, this information is communicated as signals transmitted or received through an antenna of the device. Performance of the antenna, however, can be degraded due to proximity or contact with various objects, such as a hand or head of a user. To mitigate performance issues associated with these conditions, some devices include multiple antennas that a radio of the device can switch between when a connection with the base station deteriorates.
[0002] Switching from one antenna of the device to another, however, may not improve the connection with the base station. For example, some antennas may be intentionally detuned or have reduced transmit power with respect to various communication modes to comply with user safety regulations. If the device switches from a first antenna having marginal performance to a second antenna with reduced transmit power, the connection with the base station may be severely impaired or lost completely. For real-time or latency- sensitive applications, such as voice calls or media streaming, further impairment or loss of the connection can affect performance of the application or impact user experience. In some cases, a momentary loss in transmit power due to an antenna switch may disrupt the connection with the base station, resulting in a dropped voice call or data interruption. As
such, blindly switching the radio between antennas of a device may further impair connection quality and negatively affect various device operations.
SUMMARY
[0003] This disclosure describes apparatuses of and techniques for antenna selection with dynamic thresholds for user devices.
[0004] In some aspects, a method for antenna selection with dynamic thresholds is implemented by an antenna diversity controller (diversity controller) of a device having a transmitter, a first receiver, and at least a second receiver. The method includes monitoring, via the first receiver, receive performance of a first antenna of the device, the first antenna being coupled to the transmitter. The method also includes monitoring, via the second receiver, receive performance of a second antenna of the device. The receive performance of the first antenna is compared to the receive performance of the second antenna based on an antenna switch threshold. The antenna switch threshold may be configured based on a difference in uplink power between the first antenna and the second antenna. Alternately or additionally, metrics of one or both respective receive performances may be modified or augmented based on the difference in uplink power between the antennas ( e.g ., a reduced transmit power of the second antenna). The method may also include coupling, based on the comparison, the transmitter of the device to the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold. By so doing, the diversity controller of the device may compensate or account for a reduction in transmit power associated with the second antenna, in particular when the method includes switching, based on the comparison, the transmitter from coupling with the first antenna to
coupling with the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold. In some cases, this may prevent switching to an antenna with a lower transmission power limit, which would further degrade communication performance of the device.
[0005] In other aspects, an apparatus for communicating over a wireless network comprises at least a first antenna and a second antenna, a transceiver with a transmitter and a first receiver, a second receiver, and a diversity controller. The diversity controller is implemented to couple the transceiver to the first antenna to enable communication via the first antenna and couple the second receiver to the second antenna to enable reception via the second antenna or enable monitoring of performance of the second antenna. The diversity controller monitors, via the first receiver, receive performance ( e.g ., reference- signal receive power) of the first antenna and monitors, via a second receiver, receive performance of the second antenna. Based on an antenna switch threshold, the diversity controller compares the receive performance of the first antenna to the receive performance of the second antenna. The antenna switch threshold can be configured based on a difference in uplink power between the first antenna and the second antenna of the apparatus. Alternately or additionally, metrics of one or both respective receive performances may be modified or augmented based on the difference in uplink power between the antennas (e.g., a reduced transmit power of the second antenna). The diversity controller may then couple, based on the comparison, the transceiver to the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold. The diversity controller
or switches of the apparatus may also decouple the transceiver from the first antenna prior to coupling the transceiver to the second antenna.
[0006] In yet other aspects, a system-on-chip comprises a transceiver module that includes a transmitter module and a first receiver module, as well as a second receiver module. The system-on-chip also includes at least one output configured to control radio frequency switch circuitry, a processor core, and a hardware-based memory having instructions that, responsive to execution by the processor core, implement a diversity controller. The diversity controller is implemented to cause coupling of the transceiver module to a first antenna to enable communication via the first antenna and coupling of the second receiver module to a second antenna to enable reception via the second antenna or enable monitoring of performance of the second antenna. The diversity controller monitors, via the first receiver module, receive performance of the first antenna and monitors, via a second receiver module, receive performance of the second antenna. Based on an antenna switch threshold, the receive performance of the first antenna is compared to the receive performance of the second antenna. The antenna switch threshold can be configured based on a difference in uplink power between the first antenna and the second antenna. Alternately or additionally, metrics of one or both respective receive performances may be modified or augmented based on the difference in uplink power between the antennas ( e.g ., a reduced transmit power of the second antenna). The diversity controller can then couple, based on the comparison, the transmitter module of the system on chip to the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold. The diversity controller may also, prior to or concurrently with coupling the transmitter
module to the second antenna, cause decoupling of the first antenna from the transmitter module ( e.g ., via a switching operation).
[0007] Generally, one or more aspects of the disclosed solution provide for an antenna selection with dynamic thresholds, wherein an antenna with a highest receive performance is not always selected but instead another antenna with lesser receive performance and a higher level of available transmit power is selected for wireless communication. In an exemplary embodiment, an antenna switch threshold is configured based on a difference in uplink power ( i.e ., the antenna switch threshold being based on or being calculated by taking into account a difference in uplink power between a current antenna (e.g., transmit antenna) and candidate antenna) which may result in the antenna switch threshold being greater (e.g., than a nominal or default value) if an uplink power (e.g., maximum uplink power limit) of a current antenna is higher than an uplink power (e.g., maximum uplink power limit) of a candidate antenna or the antenna switch threshold being less if the uplink power of the current antenna is lower than the uplink power of the candidate antenna. The antenna switch threshold may thus be dynamic and not static by being based on a current difference in uplink power between the current and candidate antennas for antenna switching. Alternately or additionally, the antenna switch threshold may include an offset or a modifier being inversely proportional to the difference in uplink power between the current antenna and the candidate antenna and/or inversely proportional to a maximum transmit power level reduction (e.g., cutback) of the candidate antenna.
[0008] For example, the proposed solution may account or compensate for a difference in a transmit power level, such as a maximum transmit power level, between a first antenna and second antenna that would result in a switch to a particular antenna. For example, if a resulting transmit power level would be less than a transmit power level of a current (first)
transmit antenna, then switching may occur with an increased switch threshold to account for the decrease in transmit power level of the candidate (second) antenna. Conversely, if the resulting transmit power level of a switch to the candidate (second) antenna would be greater than the transmit power level of the current (first) transmit antenna, then switching may occur with a decreased switch threshold. In an exemplary embodiment, information useful for antenna switching with dynamic thresholds may include offsets or modifiers that are inversely proportional to transmit power levels or other power reductions (or increases) of candidate antennas for switch operations. Alternately or additionally, modifiers or offsets can be applied to respective receive performance measurements of one or more antennas based on a transmit power level information, which may also compensate for a subsequent increase or decrease in available transmit power level that results from an antenna switch.
[0009] The details of one or more implementations of antenna selection with dynamic thresholds for user devices are set forth in the accompanying drawings and the following description. Other features and advantages will be apparent from the description and drawings, and from the claims. This summary is provided to introduce subject matter that is further described in the Detailed Description and Drawings. Accordingly, this summary should not be considered to describe essential features nor used to limit the scope of the subject matter of the appended claims.
BRIEF DESCRIPTION OF THE DRAWINGS
[0010] This disclosure describes apparatuses and techniques of antenna selection with dynamic thresholds with reference to the following drawings. The use of same or similar
reference numbers throughout the description and the figures may indicate like features or components:
FIG. 1 illustrates an example operating environment that includes a user device having multiple antennas and capable of implementing various aspects of antenna selection with dynamic thresholds.
FIG. 2 illustrates an example network environment in which the user device of FIG. 1 communicates through a wireless network provided by a base station.
FIG. 3 illustrates an example configuration of components for implementing antenna selection with dynamic thresholds in accordance with one or more aspects.
FIGs. 4A-4C illustrate example configurations of lookup tables useful to determine a dynamic antenna switch threshold or other modifiers in accordance with one or more aspects.
FIG. 5 illustrates an example of radio-frequency (RF) circuitry and components capable of implementing aspects of antenna selection with dynamic thresholds.
FIG. 6 illustrates another example of RF circuitry and components capable of implementing aspects of antenna selection with dynamic thresholds.
FIG. 7 illustrates an example method for selecting an antenna with dynamic thresholds in accordance with one or more aspects.
FIG. 8 illustrates an example method for applying an uplink power-based modifier to a receive performance measurement in accordance with one or more aspects.
FIG. 9 illustrates an example method for accessing a lookup table of antenna switch thresholds that are indexed to respective device configurations or states.
FIG. 10 illustrates an example method for switching a transmit antenna using thresholds that are based on uplink power differences between multiple antennas.
FIG. 11 illustrates an example electronic device that may implement techniques of antenna selection with dynamic thresholds.
FIG. 12 illustrates an example system on chip (SoC) environment in which techniques of antenna selection with dynamic thresholds may be implemented.
FIG. 13 illustrates an example configuration of a wireless communication processor that may implement various aspects of antenna selection with dynamic thresholds.
DETAILED DESCRIPTION
[0011] Conventional techniques for antenna switch diversity in devices with multiple antennas typically implement switching without accounting for or anticipating different uplink characteristics of a candidate antenna. In other words, when a conventional communication manager compares a receive performance metric of an active antenna with those of other antennas, the controller blindly switches to the antenna with the highest receive performance metric among all the antennas. Using a single performance metric to select another antenna, however, may not improve performance when the other antennas have different sets of operating characteristics. For example, transmit power of another antenna may be reduced ( e.g ., in particular frequency bands or use modes) or be much lower than the active antenna from which a transceiver is being switched. Despite the other antenna having better receive performance, this drop in available transmit power may further impair communication performance of the device, such that voice calls are dropped, or data service is interrupted. As such, conventional communication managers often cause
further degradation or impairment of communications in marginal network conditions when switching through different antennas that have reduced or lower transmit power. [0012] By way of example, consider a phone that implements a conventional type of antenna switching with two antennas located at the top and the bottom of the phone, respectively. Generally, a conventional communication manager connects a transceiver of the phone to either antenna as varying receive signals indicate one antenna or the other may have a better connection with a base station. During a voice call, a user often grasps the phone by the bottom and over the lower antenna, in which case receive signals of the top antenna would indicate better performance is available through that unobstructed antenna. Due to proximity with the user’s head during a voice call, however, transmit power of the top antenna of a phone is typically reduced to comply with safety regulations for radiated signal strength. Without knowledge of this reduction in transmit power, the conventional communication manager will connect the transceiver to the top antenna of the phone, resulting in a decrease in transmit power for an uplink signal and further degradation of connection quality. With the compromised uplink signal, a data connection may be interrupted, and the voice call may be dropped by the phone. Thus, conventional types of antenna switching that rely solely on receive signals may compromise uplink signal strength instead of improving connection performance as intended.
[0013] The present disclosure describes aspects of antenna selection with dynamic thresholds for user devices. One or more of the described aspects may be implemented to provide antenna selection with dynamic thresholds that compensate or account for differences in uplink power between multiple antennas of a device. By so doing, an antenna diversity controller (diversity controller) of a device may select an antenna that will have a highest available transmit power (or maximum uplink signal strength) after an
antenna switch occurs. This may ensure that, as a result of the antenna selection with dynamic thresholds, uplink connection performance of the device is improved (or at least maintained) through the antenna switch operations.
[0014] As an example, implementation of dynamic thresholds, consider a voice-capable user device ( e.g ., a user equipment (UE) or smart-phone) that includes at least three antennas. Here, assume that the three antennas that include a first antenna positioned near a bottom-right corner of the device, a second antenna positioned near a bottom-left corner of the device, and a third antenna positioned near a top of the device. Also assume that a transceiver of the device is coupled to the first antenna at the bottom-right of the device while the device is resting on a table, charging, and communicating data to synchronize various user applications. In the context of a voice call, a user may grasp the device around the bottom and hold the device up to his or her head to conduct the voice call using a microphone and speaker of the device. This user interaction associated with the voice call may result in a degraded connection related to the obstruction of the bottom-right antenna (for a right-handed user) and a cut back (e.g., -4 dB) to a maximum transmit power level of the top antenna due to proximity with the user’s head.
[0015] Instead of simply switching the transceiver to the antenna having a highest receive performance, aspects of antenna selection with dynamic thresholds may compensate or account for a difference in uplink power between antennas. In the present example, a diversity controller of the device may apply a modifier (e.g., +4 dB) to an antenna switch threshold for the top antenna based on the cut back value applied to (subtracted from) the maximum transmit power level of that antenna (e.g., to comply with safety regulations). Here, assume that receive performance of both top and lower-left antennas are better than that of the obstructed lower-right antenna, and the receive performance of the top antenna
is 2 dB higher than a receive performance of the lower-left antenna, which does not have a power cut back applied to its maximum transmit power level ( e.g ., nominal transmit power available).
[0016] Using dynamic thresholds modified based on differences in uplink power, the diversity controller of the device would compare the receive performance of the lower- right antenna with the respective receive performances of the top antenna and lower-left antenna. Assuming other communication parameters associated with the top and lower- left antenna are generally similar, the diversity controller would select to communicate with the lower-left antenna, which did not have a reduced maximum transmit power level. As such, aspects of antenna selection with dynamic thresholds may not select an antenna with the highest receive performance but instead select another antenna with lesser receive performance and a higher level of available transmit power. This is but one example of antenna selection with dynamic thresholds for user devices, others of which are described throughout the disclosure.
[0017] In various aspects, a user device includes a transceiver with a transmitter and a first receiver, at least a second receiver, and a diversity controller. The transceiver is coupled to a first antenna of the device to enable communication and the second receiver is coupled to a second antenna of the device to enable reception (e.g., diversity reception) or monitoring of performance (e.g., an unused multiple-input multiple-output (MIMO) receiver). The diversity controller compares, based on an antenna switch threshold, receive performance of the first antenna to receive performance of the second antenna. The antenna switch threshold may be configured based on a difference in uplink power between the antennas or a maximum transmit power level of the second antenna. Alternately or additionally, metrics of one or both respective receive performances may be modified or
augmented based on the difference in uplink power between the antennas ( e.g ., a reduced transmit power of the second antenna). Based on the comparison, the diversity controller may couple the transceiver to the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold. By so doing, the diversity controller may account or compensate for a potential reduction in transmit power that will be incurred when the transceiver is coupled to the second antenna.
[0018] The following discussion describes an operating environment, techniques that may be employed in the operating environment, and various devices or systems in which components of the operating environment can be embodied. In the context of the present disclosure, reference is made to the operating environment by way of example only.
Example Environment
[0019] FIG. 1 illustrates a user device 102 in which aspects of antenna selection with dynamic thresholds can be implemented. The user device 102 is illustrated as a non- limiting example device and is shown here as a smart-phone. Although illustrated as a smart-phone, the user device 102 may be implemented as any suitable type of device, system, or apparatus, such as a tablet computer, laptop computer, netbook, gaming system, smart-glasses, phone-tablet, smart-watch, wearable computer, health monitoring device, multimedia dongle, set-top box, vehicle-based computing system, navigation device, aviation computing system, home automation device, security system controller, or the like. Note that the user device can be wearable, non-wearable but mobile, or relatively immobile (e.g., broadband router, mobile hotspot, and smart-appliances).
[0020] The user device 102 includes one or more processors 104 and computer-readable media 106, which may include memory media or storage media. The processor 104 may be implemented as a general-purpose processor ( e.g ., of a multicore central-processing unit (CPU) or application processor (AP)), an application-specific integrated circuit (ASIC), or a system on chip (SoC) with other components of the user device 102 integrated therein. The computer-readable media 106 can include any suitable type of memory media or storage media, such as read-only memory (ROM), programmable ROM (PROM), random access memory (RAM), dynamic RAM (DRAM), static RAM (SRAM), or Flash memory. In the context of this discussion, the computer-readable media 106 of the user device 102 is implemented as at least one hardware-based or physical storage device, which does not include transitory signals or carrier waves. Applications, firmware, and/or an operating system (not shown) of the user device 102 can be embodied on the computer-readable media 106 as processor-executable instructions, which may be executed by the processor 104 to provide various functionalities described herein. The computer-readable media 106 may also store information and data, such as user data or user media that is accessible through the applications, firmware, or operating system of the user device 102.
[0021] In this example, the computer-readable media 106 also includes an antenna diversity controller 108 (diversity controller 108), a performance monitor 110, a maximum transmit power level controller 112 (MTPL controller 112), and a device state index engine 114 (DSI engine 114) which are described throughout the disclosure. Generally, the diversity controller 108 may monitor respective receive performance of antennas as a proxy for an uplink signal that would result from switching to a particular antenna. In various aspects, the diversity controller may implement a switching threshold that compensates or accounts for a reduction in available transmit power of a candidate antenna such that the
threshold is increased to prevent a decrease in uplink power as a result of antenna switching. To do so, the diversity controller 108 may communicate or interact with the performance monitor 110, the MTPL controller 112, or the DSI engine 114. Any of these entities may be stored on, accessed through, or executed from the computer-readable storage media 106 to implement antenna switching with dynamic thresholds.
[0022] The user device 102 also includes transmitters 116 and receivers 118, which may be implemented separately or combined as one or more transceivers that are capable of implementing both signal-receiving and -transmitting functions. The transmitters 116 and receivers 118 may be configured to communicate via any suitable type of wireless network, such as a local-area-network (LAN), a wireless local-area-network (WLAN), a personal- area-network (PAN), a wide-area-network (WAN), cellular network, a peer-to-peer network, point-to-point network, a mesh network, and so on. In some aspects, one or more of the transmitters 116 and receivers 118 are configurable to communicate in accordance with a Global System for Mobile Communications (GSM) standard, Third Generation (3G) standard, Code Division Multiple Access (CDMA), wideband CDMA (WCDMA), Universal Mobile Telephone System (UMTS), Worldwide Interoperability for Microwave Access (WiMax) protocol, High Speed Packet Access (HSPA) protocol, Evolved HSPA (HSPA+) protocol, Long-Term Evolution (LTE) standard, LTE Advanced standard, 5th Generation (5G) standard, or the like.
[0023] A radio-frequency front end 120 (RF front end 120) of the user device 102 includes signal conditioning and switching circuitry that enables coupling of various ones of the transmitters 116 and receivers 118 to or with antennas 122 of the user device. The RF front end may include any suitable combination of circuitry, such as filters, amplifiers ( e.g ., power amplifiers or low-noise amplifiers), diplexers, switches, multiplexers, baluns,
or the like. The antennas 122 may include any number or type of antennas, which may be positioned on or proximate an outer surface of the user device 102.
[0024] In this example, the antennas 122 are shown as four separate antennas 122-1 through 122-4 that are located proximate edges and/or comers of the user device 102. Any or all of the antennas 122-1 through 122-4 may be tuned ( e.g ., statically or actively) for a single frequency band or multiple frequency bands. For example, one of the antennas 122 may be tuned for multiple frequency bands that range from approximately 700 MHz to 960 MHz, 1.4 GHz to 1.5 GHz, 1.7 GHz to 2.2 GHz, 2.3 GHz to 2.7 GHz, 3.4 GHz to 3.6 GHz, 6.6 GHz to 6.9 GHz, and so on. In some implementations, multiple antennas 122 of the user device 102 may be configured or tuned for multi-band support to enable or provide 2- way or 3-way antenna diversity for multiple frequency bands. For example, a lower-right antenna (e.g., 122-2), a lower-left antenna (e.g., 122-3), and a top antenna (e.g., 122-4) of a user device 102 may be implemented as multi-band antennas to enable 3-way antenna diversity for multiple frequency bands (e.g., 1.4 GHz to 1.5 GHz (mid-band), 1.7 GHz to 2.2 GHz (mid-band/high-band), 2.3 GHz to 2.7 GHz (mid-band/high-band), and/or 3.4 GHz to 3.6 GHz (ultra- high-band)).
[0025] The user device 102 also includes sensors 124, which enable the user device 102 to sense various properties, variances, stimuli, or characteristics of an environment in which user device 102 operates. For example, the sensors 124 may include various motion sensors, ambient light sensors, acoustic sensors, capacitive sensors, infrared sensors, temperature sensors, radar sensors, or magnetic sensors. Alternately or additionally, the sensors 124 may enable interaction with, or receive input from, a user of user device 102, such as through touch sensing or proximity sensing. In some aspects of antenna switching with dynamic thresholds, the diversity controller 108 or DSI engine 114 can monitor a
sensor 124, such as to receive input or feedback via one of the sensors 124. Data provided by the sensors 124 is accessible to other entities of the user device 102, such as the diversity controller 108 or DSI engine 114. Although not shown, the sensors 124 may also include global-positioning system (GPS) modules, gyros, accelerometers, magnetometers, micro electromechanical systems (MEMS), internal/external device temperature sensors, resistive touch sensors, or input sensing-logic associated with hardware switches ( e.g ., keyboards, snap-domes, or dial-pads), and so on.
[0026] In some aspects, the diversity controller 108 or DSI engine 114 can determine a device state or device state index of the user device 102, such as a stationary or off-body state of no movement or a mobility state in which the user device is proximate a user’s body (e.g., on-body state) or in use by the user (e.g., voice call or near-head state). For example, the DSI engine 114 can sense, via an accelerometer or gyroscope, a single or series of movements or orientations of the user device 102 in any suitable aspect, such as in one-dimension, two-dimensions, three-dimensions, multi-axis, combined multi-axis, and the like. In some cases, the DSI engine 114 determines, based on data indicative of the sequence of the movements or orientations, a device state or device state index for the user device 102. Alternately or additionally, the DSI engine 114 may receive data or indications from a capacitive or proximity sensor that indicates a position of the user device 102 is static or changing with respect to a user (e.g., holding or reorienting the user device), which may be useful for DSI determinations. The device may also include other environmental sensors for detecting an internal or external temperature of the user device 102 (e.g., on-body or off-body state indicators), as well as humidity. As such, the diversity controller 108 or DSI engine 114 may access data from the sensors 124 and determine, based on the sensor data (e.g., motion, orientation, temperature, proximity), user interaction
or a device state of the user device 102 in accordance with one or more aspects of antenna switching with dynamic thresholds.
[0027] FIG. 2 illustrates an example network environment 200 in which the user device 102 communicates through a wireless network provided by a base station 202, such as an enhanced Node B of an LTE network. Generally, the user device 102 communicates with the base station 202 via a wireless link 204 (or wireless connection) established or managed in accordance with various networking protocols or standards. The wireless link 204 may include an uplink 206 by which the user device 102 transmits data or control information to the base station 202 and a downlink 208 by which the base station 202 transmits data or control information to the user device 102. As noted, the wireless link 204 may be implemented in accordance with at least one suitable protocol or standard, such as a GSM standard, a WiMAX standard, an HSPA protocol, an Evolved HSPA protocol, an LTE standard, an LTE-A standard, a 5G standard, any standard promulgated or supported by the 3rd Generation Partnership Project (3 GPP), and so forth. Although the wireless link 204 is shown or described with reference to a separate uplink 206 or downlink 208, various types of communications between the user device 102 and the base station 202 may also be referred to as a wireless communication, a wireless connection, a wireless association, a frame exchange, a communication link, or the like.
[0028] With reference to the user device 102 and as indicated by the directionality of the uplink 206 and downlink 208, the uplink 206 may include signals transmitted from the user device 102 to the base station 202. In some cases, an uplink transmit power level of the user device is configured based on an indication of a power control level 210 (PCL 210) that is received from the base station 202. Alternately, the downlink 208 may include signals transmitted by the base station 202 for reception by the user device 102. In some
aspects, the base station 202 or another base station may transmit downlink signals in a frequency band for which multiple antennas 122 of the user device 102 are configured to operate. As such, the diversity controller 108 of the user device 102 may connect a receiver 118 of the user device 102 to the antenna 122 with optimal reception to improve quality of the wireless link 204 or communication performance. Alternately or additionally, multiple receivers 118 ( e.g ., primary and diversity receivers) of the user device may be connected to multiple respective antennas 122 such that the multiple receivers 118 can receive a downlink signal.
[0029] Generally, the wireless link 204 enables the user device 102 to access resources, other networks, or other devices through the base station 202. As shown in FIG. 2, the base station 202 can provide access to a network 212 (e.g., the Internet) that is connected to the base station via a backhaul link 214 (e.g, a fiber network) or core network (not shown). As such, applications or functions of the user device 102 may request or access data from the network 212 (e.g., video or voice content), which is received via signals of the downlink 208. With respect to a multi-cell wireless network, the base station 202 may be implemented to realize or manage one cell of the wireless network that includes multiple other base stations that each realize other respective cells of the wireless network. As such, the base station 202 may communicate with a network management entity, network core, or other base stations to coordinate connectivity or hand-offs of user devices within or across the cells of the wireless network.
[0030] FIG. 3 illustrates at 300 an example configuration of components for implementing various aspects of antenna selection with dynamic thresholds. The illustrated components may be implemented in any suitable device, system, or apparatus, such as a user device, a user equipment, a mobile station, or the like. The components and
architecture of the example configuration are presented as a non-limiting example of ways in which various entities for enabling antenna selection with dynamic thresholds can be implemented. As such, the aspects described herein may be applied or extended to any suitable combination or configuration of components and/or circuitry for implementing various features of antenna selection with dynamic thresholds.
[0031] In this example, the components include an application processor 302 and a modem 304, which may be implemented separately or in combination, such as being integrated on a system on chip or system in package. As shown in FIG. 3, the modem 304 may include components for implementing dynamic thresholds, such as a diversity controller 108, performance monitor 110, MTPL controller 112, or other communication components. In some aspects, the application processor 302 is operably coupled with and receives data from sensors 124 ( e.g ., capacitance or motion sensors) of a device in which the components are embodied. A DSI engine 114 may be implemented by the application processor 302 to process sensor data (e.g., proximity or motion data) or other information to determine a use mode, use state, or state information of a device, apparatus, system, or the like. The other information useful to the DSI engine 114 may include a mode of operation (e.g., test modes) or various couplings of a device, such as power cable or wireless power coupling, (e.g., charging or wireless charging), data cable coupling (e.g., debugging), wired or wireless audio coupling (e.g., external/remote audio or headphone use), and so on.
[0032] Generally, the DSI engine 114 or the application processor 302 can use the sensor data and/or the other information to determine user proximity or user interaction, such as whether the device is in free space (e.g., away from a user’s body) or positioned near or proximate a user’s body or head. Based on a determination of user proximity or user
interaction, the DSI engine 114 may generate or select a device state index for the device. In various aspects, a device state index is useful to indicate user proximity with the device, user interaction with the device, a mode of operation of the device, or a communication mode for which the device may be configured.
[0033] By way of example, consider FIG. 4A in which Table 1 of device state index (DSI) information is illustrated at 400. In this example implementation, Table 1 includes various device state indexes, which may be associated with respective device use cases or modes of transmit power. As shown in Table 1, a device state index 402 (DSI 402) may correspond to a use case 404 ( e.g ., mode of operation or user proximity) and/or a corresponding transmit power mode 406 (or modifier class). In some cases, one or more of the device state indexes 402 are configured for, or mapped to, user proximity states that affect a maximum transmit power of the device, such as to comply with safety regulations for radiated power (e.g., specific absorption rate (SAR) compliance). As such, in various device states, use cases, or user proximity scenarios, transmit power of the device (e.g., transmitter or transceiver) may be reduced, backed off, or otherwise limited from a nominal transmit power level (e.g, PCL 210 or default over-the-air (OTA) transmit power) to comply with a safety regulation or requirement. In some aspects, the DSI engine 114 (or application processor 302) communicates a device state index 402 or indication of the device state index 402 to the modem 304, diversity controller 108, or the MTPL controller 112
[0034] Returning to FIG. 3, the modem 304 may implement various data- and signal processing functions that enable wireless communication, such as encoding, decoding, modulation, demodulation, analog-to-digital conversion, digital-to-analog conversion, or the like. In some cases, the modem 304 is configured as a multi-mode multi-band modem
through which a transceiver is embodied at least in part for wireless communication using multiple radio access technologies (RATs) in multiple frequency bands. For example, the modem 304 may communicate in any suitable RAT or protocol, such as GSM, CDMA, WCDMA, UMTS, LTE, 5G NR, or the like. Various settings, values, or parameters of the modem 304 may be configured or maintained as a modem state ( e.g ., real-time modem state) through modem state information 306 of the modem 304. The modem state information 306 can include any suitable parameters, lookup tables, or settings of the modem 304, such as a radio access technology (RAT), frequency band, frequency sub band, communication channel, antenna configuration (e.g., RF path configuration or RF front end 120 configuration), or modulation and coding scheme (MCS) of the modem 304. As such, the modem state information 306 may include configuration information for a transmitter 116 or receiver 118 of the modem 304, as well as switches 308 (e.g, RF switches) and amplifiers 310 of an RF front end 120 to which the modem 304 is operably coupled. Alternately or additionally, transceiver circuitry (not shown) may be interposed between the modem 304 and RF front end 120 and may include additional configurable portions of an RF path or a configurable amplification circuit.
[0035] In some aspects, the MTPL controller 112 of the modem 304 manages a maximum transmit power level of the transmitter 116 and/or amplifiers 310, such as to comply with safety regulations for radiated signal power. In other words, radiated power levels of a device or system, as well as safety regulations, may vary depending on modem configuration, use mode of the device, user proximity of the device, or the like. As such, the MTPL controller 112 may determine a maximum transmit or uplink power based on the modem state information 306, power control level 210 received from a base station, or a device state index provided by the DSI engine 114 or application processor 302. In some
cases, the MTPL controller 112 includes or employs an MTPL lookup table 312 (MTPL LUT 312) to determine a maximum transmit power level or highest available uplink power for a transmitter.
[0036] By way of example, consider FIG. 4B in which an example of an MTPL LUT 312 is illustrated at 408 as Table 2. In this example, Table 2 includes DSI information 410, modem state information 412, and MTPL information 414 associated with three antennas (e.g., antennas 122 labeled as ANTI, ANT2, and ANT3) of a device. In some aspects, the MTPL information 414 is indexed to various DSI information 410 and/or modem state information 412 of the modem 304. Generally, Table 2 may include MTPL information 414 for various combinations or permutations of DSI information 410 and modem state information 412. For example, Table 2 may be useful to lookup or determine MTPL information 414 for any suitable combination of a DSI 402, RF configuration (e.g., RF paths), antenna of interest (e.g., current or candidate antenna), modem configuration (e.g., RAT, band, or sub-band), or the like. In this example and for visual brevity, Table 2 includes a selection of non-limiting exemplary data for various combinations of DSI information 410 and modem state information 412 (e.g., for a DSI of “2” and different RATs/frequency bands). As such, the concepts described with reference to Table 2 may be extended or scaled to cover any suitable combination or permutation of DSI information 410 (e.g., additional DSIs), modem state information 412 (e.g., additional antennas or frequency bands), and/or MTPL information 414.
[0037] As shown in FIG. 4B, the DSI information 410 includes a DSI 402, which may be provided by the modem 304 or correspond to various use cases as described with reference to Table 1. The modem state information 412 of Table 2 may include or reflect various modem state information 306 as described with reference to FIG. 3 and/or other
communication parameters of a device. As such, the modem state information 412 can include various settings, values, or parameters of the modem 304 as configured or maintained through a modem state ( e.g ., real-time modem state). In this example, the modem state information 412 of Table 2 includes an RF path configuration 416 (e.g., RF front end 120 configuration), an antenna 418 (ANT 418), a radio access technology (RAT) setting 420, and a frequency band setting 422. Alternately or additionally, the modem state information 412 may also include a frequency sub-band, communication channel, or modulation and coding scheme (MCS) of the modem 304.
[0038] Generally, the MTPL information 414 of Table 2 includes maximum transmit power level information for an antenna, which may be based on DSI information 410 and modem state information 412. In this example, the MTPL information 414 of Table 2 includes an MTPL cutback 424, an MTPL 426 (e.g. , resulting MTPL after cutback), and an MTPL uplink offset 428. With reference to example Table 2, assume that the transmitter 116 and amplifiers 310 associated with the modem 304 are configured to provide a default or nominal level (e.g., based on PCL 210) of transmit power of 23 dBm across all RATs and bands (e.g, to which MTPL cutbacks are applied). As shown in table 2, the MTPL 426 (e.g, an upper limit of the transmit power) can be managed (e.g, reduced or cutback) by the MTPL controller 112 based on the DSI information 410 and modem state information 412. For example, the MTPL controller 112 may constrain the MTPL to comply with safety regulations based on the real-time modem state information 412 and DSI information 410 indicative of user proximity (e.g., whether a device is positioned proximate a user’s head or body). In this way, the MTPL controller 112 can dynamically manage an MTPL 426 of the amplifiers 310 and/or the transmitter 116 of the modem 304 to maximize a transmit power level without exceeding regulatory safety limits for radiated
signal strength. In accordance with various aspects, Table 2 illustrates, for a DSI 402 of “2”, respective MTPL cutbacks 424 and resulting MTPLs 426 for each antenna ( e.g ., ANT 1, ANT 2, and ANT 3) of a device based on a given set of modem state information 412. Here, Table 2 also includes an MTPL uplink offset 428, which reflects an antenna’s MTPL cutback 424 (e.g., a reduction of MTPL) and may be useful to determine or configure dynamic thresholds for antenna switching.
[0039] In aspects of antenna switching with dynamic thresholds, the diversity controller 108 may interact with the MTPL controller 112 to obtain or determine MTPL information for antenna switching operations. In other words, the diversity controller 108 may account or compensate for an MTPL 426 that would result from a switch to a particular antenna (e.g., antenna 418). For example, if the resulting MTPL would be less than an MTPL of a current transmit antenna, then switching may occur with an increased switch threshold to account for the decrease in MTPL of the candidate antenna. Conversely, if the resulting MTPL of a switch to the candidate antenna would be greater than the MTPL of the current transmit antenna, then switching may occur with a decreased switch threshold. Thus, information useful for antenna switching with dynamic thresholds may include offsets (MTPL UL offset 428) or modifiers that are inversely proportional to MTPL cutbacks or other power reductions (or increases) of candidate antennas for switch operations. Alternately or additionally, modifiers or offsets can be applied to respective receive performance measurements of one or more antennas based on the MTPL information, which may also compensate for a subsequent increase or decrease in MTPL that results from an antenna switch.
[0040] Returning to FIG. 3, to implement antenna switch operations, the diversity controller 108 may monitor and compare respective receive performance of multiple
antennas 122 of a device. For a given antenna, receive performance, such as reference signal receive power, may be used as a proxy or predictor of wireless link performance for both uplink and downlink communication. In this example, the modem 304 includes an instance of a performance monitor 110 that is operably coupled with the receivers 118 to monitor or measure receive performance of the antennas 122. The receive performance of the antennas may be monitored or measured using any suitable metric, such as one or combination of a received signal strength, received signal quality, reference signal receive power (RSRP), reference signal receive quality (RSRQ), carrier-to-interference ratio, signal-to-noise ratio, bit-error rate, or packet-error rate.
[0041] As shown in FIG. 3, the diversity controller 108 may include or employ an antenna switch diversity lookup table 314 (diversity LUT 314) of antenna switch information ( e.g ., dynamic antenna switch thresholds or associated modifiers). Although shown as separate lookup tables, the MTPL LUT 312 and diversity LUT 314 may be embodied as one lookup table or depository of MTPL and antenna switch information. Generally, the diversity lookup table 314 of the diversity controller 108 may be implemented with a structure similar to the MTPL lookup table 312 of an MTPL controller 112 or modem 304. As such, the various antenna switch thresholds, offsets, or modifiers for dynamic antenna switch thresholds may also be indexed to device state index information 410 or modem state information 412.
[0042] Generally, an entry for MTPL uplink offset 428 or a dynamic threshold in the diversity LUT 314 may be inversely proportional to a corresponding MTPL reduction or MTPL cutback 424 entry in the MTPL lookup table 312. In this way, for a given DSI or set of modem state information, if an MTPL 426 of the transmitter is lower than a nominal MTPL level by a particular factor (e.g., -3 dB), then a corresponding dynamic threshold
for antenna switching can be offset by the same factor (e.g., +3 dB). Thus, the diversity controller 108 may be more selective in selecting a candidate antenna for switching operations when an amount of MTPL cutback is higher and resulting MTPL of the transmitter is lower. By so doing, the diversity controller 108 can switch to a selected antenna to improve wireless connection performance without exceeding safety regulations, even when a significant amount of power cutback is required for compliance.
[0043] By way of example, consider FIG. 4C in which an example antenna switch diversity LUT 314 is illustrated at 430 as Table 3. Here, assume that antenna 1 (ANT 1) is coupled to the transmitter 116 by the RF front end 120 and respective dynamic antenna switch thresholds and modifiers for second and third antennas (ANT2 and ANT3) are indexed based on current DSI information or modem state information of ANT 1. With reference to the modem state information 412 of Table 2 or Table 3, also assume that antenna 1 (ANTI) is currently selected an active transmit for the modem 304 to communicate in LTE band 21 with a DSI 402 of “2” (e.g., device proximate a user’s head). In this example, the diversity controller 108 accesses the diversity lookup table 314 (Table 2) based on the DSI and/or modem state info for respective dynamic thresholds for the other antennas. In this example and for visual brevity, Table 3 includes a selection of non- limiting exemplary data for various combinations of DSI information 410 and modem state information 412 (e.g., for a DSI of “2” and different RATs/frequency bands for ANT 2 and ANT 3). As such, the concepts described with reference to Table 3 may be extended or scaled to cover any suitable combination or permutation of DSI information 410 (e.g., additional DSIs), modem state information 412 (e.g., additional antennas or frequency bands), MTPL information 414, and/or antenna switch threshold information 432.
[0044] As shown in FIG. 4C, the antenna switch threshold information 432 of Table 3 includes a current MTPL cutback 434 of antenna 1 (-2 dB) and MTPL UL offsets 428 for antenna 2 (+1 dB) and antenna 3 (+5 dB) from Table 2 of FIG. 4B ( e.g ., for LTE band 21 with a DSI of “2”). Table 3 also includes respective entries for a nominal antenna switch threshold 436 of antenna 2 and antenna 3, which may be a default value (e.g., 3 dB or 5 dB) and/or indexed to a DSI 402 or modem state information 412. In this example, the dynamic antenna switch thresholds 438 for switching from antenna 1 to the other antennas (e.g., for LTE band 21 with a DSI of “2”) are 2 dB for antenna 2 at 440 (e.g., 3 dB + 1 dB - 2 dB), and 6 dB for antenna 3 at 442 (e.g., 3 dB + 5 dB - 2 dB), which are different from a nominal antenna threshold (e.g., 3 dB). In other words, by accounting for variations in transmit or uplink power between different antennas, the dynamic thresholds 438 employed by the diversity controller 108 enable the controller to provide antenna switching operations on a more selective basis. This may improve wireless connection performance when MTPLs vary between antennas, particularly in marginal network conditions where loss of connection or dropped calls are likely to occur when uplink or transmit power is reduced.
[0045] As yet another example, consider FIG. 4D in which an MTPL LUT 312 and antenna switch diversity LUT 314 are implemented as a combined MTPL information and dynamic antenna switch diversity lookup table at 444 as Table 4. As shown in Table 4, MTPL information 414 and antenna switch threshold information 432 may be implemented in combination, such as through an MTPL LUT that is expanded to include one or more columns of antenna switch threshold information 432. In the context of the example described with reference to Table 3, when antenna 1 is the active antenna, the current antenna MTPL cutback 343 of antenna 1 may be applied to determine dynamic switch
thresholds 438 for antennas 2 and 3. In this example and for visual brevity, Table 4 includes a selection of non-limiting exemplary data for various combinations of DSI information 410 and modem state information 412 ( e.g ., for a DSI of “2” and different RATs/frequency bands for ANT 2 and ANT 3). As such, the concepts described with reference to Table 4 may be extended or scaled to cover any suitable combination or permutation of DSI information 410 (e.g., additional DSIs), modem state information 412 (e.g., additional antennas or frequency bands), MTPL information 414, and/or antenna switch threshold information 432. As such, aspects of antenna selection with dynamic thresholds may be implemented with any suitable configuration of one or more lookup tables of DSI, modem state, and/or antenna switch threshold information.
[0046] Returning to FIG. 3, in various aspects, the diversity controller 108 compares, based on the dynamic thresholds (e.g., dynamic antenna switch thresholds 438), respective receive performance of the antennas 122 to select an antenna with optimal or increased performance (e.g., relative to a current transmit antenna). As described herein, the diversity controller 108 may determine a threshold using various offsets, apply offsets or modifiers to receive performance metrics, or access a lookup table (e.g., Tables 1-4, MTPL LUT 312 and/or antenna switch diversity LUT 314) based on a DSI or modem state to determine a threshold for switching antennas. Based on the comparison, the diversity controller 108 may configure or cause transceiver circuitry or RF components, such as the switches 308 of the RF front end 120, to couple a selected antenna to the transmitter 116 to improve or optimize wireless communication.
[0047] FIG. 5 illustrates at 500 an example configuration of RF circuitry and components capable of implementing aspects of antenna selection with dynamic thresholds. The illustrated components and architecture of FIG. 5 and FIG. 6 that follows are presented as
a non-limiting example of ways in which antenna selection with dynamic thresholds can be implemented. As such, the aspects described herein may be applied or extended to any suitable RF circuit to implement various features of antenna selection with dynamic thresholds. Further any coupling or connection between various components may be direct or indirect, such as made through one or more intervening components. For visual brevity and/or clarity, some unrelated or redundant components ( e.g ., filters or amplifiers) or circuitry may also be omitted from this or other circuit diagrams. Such an omission is not to be construed as limiting, but rather one example of the many ways in which various aspects of the described circuitry may be used or applied to implement antenna selection with dynamic thresholds. In other words, the aspects (e.g., circuitry) described herein may also be implemented with any suitable number or combination of filters, amplifiers, and/or additional or separate RF switches.
[0048] Various communication modules described with reference to FIG. 5 or FIG. 6 may be implemented as separate hardware- or software-based modules, such as blocks or modules of one or more software-defined radios (SDRs). As such, any of the structure or functionality described herein may be provided by or configurable (e.g., for different communication standards or protocols) through execution of firmware or instructions by a processor core of a communication module. Alternately or additionally, each communication module may include, for each port or connection, a respective transmit chain or receive chain and/or additional front-end circuitry to process or condition various communication signals (e.g., transmit signals or receive signals).
[0049] In this example, a device is implemented with three communication modules that include a primary transceiver 502, a diversity receiver 504, and a multiple-input multiple- output (MIMO) receiver 506, which are coupled to antennas 122 by a switch 508 of an RF
front end 120. Although shown as one triple-pole triple-throw (TPTT) RF switch, the switch 508 may represent any suitable number of switches, diplexers, or filters for implementing antenna switching in multiple frequency bands. As shown in FIG. 5, the RF switch 508 is coupled to the primary transceiver 502 at a port 510, the diversity receiver 504 at a port 512, and the MIMO receiver 506 at a port 514. Each of the ports 510 through 514 may represent a port of a given transceiver, transmitter, or receiver that is configured to operate over one or more particular frequency bands, such as approximately 700 MHz to 960 MHz, 1.4 GHz to 1.5 GHz, 1.7 GHz to 2.2 GHz, 2.3 GHz to 2.7 GHz, 3.4 GHz to 3.6 GHz, and so on.
[0050] The primary transceiver 502 includes a first transmitter 516 and a first receiver 518 for communicating data of the device. In this example, the first transmitter 516 is operably coupled with a power amplifier 520, which is managed by the MTPL controller 112. Although shown with one port 510, the primary transceiver 502 can be configured to communicate in multiple frequency bands, such that the port 510 may represent a low-band port, a mid-band port, or a high-band port for transmitting. In some cases, the ports also support reception of a complimentary band such that two of the ports permit the primary transceiver to communicate bi-directionally over a similar or same frequency band. For example, when the primary transceiver 502 is configured for high-band operation, the port 510 may also support high-band reception.
[0051] The diversity receiver 504 includes a second receiver 522 of the device for receiving signals. In some cases, signals or information provided by the diversity receiver 504 are used to enhance or improve reception performance of the primary transceiver 502. As such, the diversity receiver 504 may also be configured for multiband operation such that port 512 may represent a low-band port, a mid-band port, or a high-band port for
diversity reception. Alternately or additionally, the diversity receiver 504 may include other types of receiver modules, such as a Global Positioning System (GPS) receiver to provide navigational or position data.
[0052] To support MIMO communication, the device also includes the MIMO receiver 506 that is implemented as a third receiver 524. The MIMO receiver 506 may support reception of any suitable number of spatial streams ( e.g ., four spatial streams), and in this example includes a port 514 coupled to the RF switch 508. In aspects of antenna selection with dynamic thresholds, the MIMO receiver 506 can also be used to monitor or measure performance of an antenna that is not coupled or connected to another receiver. For example, the performance monitor 110 may query the MIMO receiver 506 for an indication of performance for one of the antennas 122-1 through 122-4 that is not connected to the primary transceiver 502 or the diversity receiver 504. The MIMO receiver 506 or another receiver may provide or indicate antenna performance with any suitable metric or measurement, such as a received signal strength, reference signal receive power, receive signal quality, carrier-to-interference ratio, signal-to-noise ratio, bit-error rate, packet-error rate, or the like. Alternately or additionally, the performance monitor 110 may query or poll any or all of the receivers to determine performance indicators or metrics for one or more of the antennas 122.
[0053] Generally, the RF front end 120 enables coupling of one or more of the antennas 122 to a respective one of the primary transceiver 502, diversity receiver 504, or MIMO receiver 506. In this example, the RF front end includes the TPTT RF switch 508, which can be controlled or managed by the diversity controller 108 to implement aspects of antenna selection with dynamic thresholds. In various aspects, the diversity controller 108 configures the RF switch 508 to couple (or switch) respective ports of the primary
transceiver 502, diversity receiver 504, and MIMO receiver 506 between the antennas 122 to implement 2-way or 3-way diversity switching. In other words, the diversity controller 108 may implement antenna switching with dynamic thresholds to switch the first transmitter 516 from a primary antenna to a secondary antenna or tertiary antenna to optimize uplink performance of a wireless connection. For example, the diversity controller 108 may select, based on the dynamic thresholds ( e.g ., diversity lookup table) an antenna that is forecast to have a highest amount of available uplink power (or UL power budget) given current network conditions and respective receive performance of the antennas. By so doing, the diversity controller 108 may improve wireless connection reliability in marginal network conditions.
[0054] FIG. 6 illustrates at 600 another example of an RF circuitry and components capable of implementing aspects of antenna selection with dynamic thresholds. As noted, the components and architecture of FIG. 6 are presented as a non-limiting example of ways in which antenna selection with dynamic thresholds can be implemented. As such, the aspects described herein may be applied or extended to any suitable RF circuit to implement various features of antenna selection with dynamic thresholds. Various communication modules described with reference to FIG. 6 may be implemented as separate hardware- or software-based modules, such as blocks or modules of one or more software-defined radios (SDRs). As such, any of the structure or functionality described herein may be provided by or configurable (e.g., for different communication standards or protocols) through execution of firmware or instructions by a processor core of a communication module.
[0055] In this example, a device is implemented with three communication modules (not shown) that include a primary transceiver, a diversity receiver, and a MIMO receiver which
are coupled to antennas 122 by an RF front end 120. Each of the communication modules may be configured for multi-band operation such that a given communication module includes multiple ports or signal paths to support wireless communication in different frequency bands. In other words, for a particular frequency band ( e.g ., low-band, medium- band, high-band, or ultra-high-band), the communication modules or transceiver/receiver signal paths of FIG. 6 (e.g., primary transceiver/diversity receiver/MIMO receiver) may correspond or map to the communication modules of FIG. 5 or communication ports thereof (e.g., mid-band/high-band TX and/or RX port). As shown in FIG. 6, the primary transceiver includes a low-band signal path 602 (PTRX LB 602), a mid-band/high-band signal path 604 (PTRX MHB 604), and an ultra-high-band signal path 606 (PTRX UHB 606). Generally, these signal paths support transmission or reception such that the primary transceiver uses the signal paths to communicate bi-directionally via an antenna 122 over a similar or same frequency band. The primary transceiver paths (or transmit portions) may also include respective power amplifiers 608, 610, and 612, which are controlled by an MTPL controller 112 to manage transmit power levels for the respective frequency bands (e.g., using the MTPL LUT).
[0056] In this example, the diversity receiver is also configured for multi-band operation and includes a low-band signal path 614 (DRX LB 614), a mid-band/high-band signal path 616 (DRX MHB 616), and an ultra-high-band signal path 618 (DRX UHB 618). In some cases, the diversity controller 108 or performance monitor 110 monitors or measures antenna receive performance via the signal paths 614, 616, or 618 of the diversity receiver. The MIMO receiver may be configured for multi-band operation and includes a mid band/high-band signal path 620 (MIMO MHB 620) and an ultra-high-band signal path 622 (MIMO UHB 618). Alternately or additionally, the diversity controller 108 or performance
monitor 110 can monitor or measure antenna receive performance via the signal paths 614, 616, or 618 of the diversity receiver.
[0057] Generally, the RF front end 120 is configurable to couple the antennas 122 to a respective one of the primary transceiver, diversity receiver, or MIMO receiver, such as to enable 2-way or 3-way antenna diversity. In this example, the RF front end 120 includes a double-pole double-throw (DPDT) RF switch 624, which can be controlled or managed by the diversity controller 108 to implement aspects of antenna selection with dynamic thresholds. In some cases, the RF switch 624 is configured to couple (or switch) low-band signal paths 602 and 614 between the antennas 122 to implement antenna diversity with dynamic thresholds for low-band communication. As shown in FIG. 6, the RF front end 120 also includes a triple-pole triple-throw (TPTT) RF switch 626 for mid-band/high-band signal paths and another TPTT RF switch 628 for ultra-high-band signal paths, which are also controlled or managed by the diversity controller 108. In some aspects, the diversity controller 108 configures RF switches 626 and 628 to respectively couple (or switch) the mid-band/high-band signal paths and the ultra-high-band signal paths between the antennas 122 to implement antenna switching with dynamic thresholds for wireless communication. For example, the diversity controller 108 may configure the RF switch 626 to couple the primary transmitter to antenna 122-4 and couple the diversity receiver and MIMO receiver to others of the antennas to enable monitoring of receive performance.
[0058] To enable routing of communication signals in or based on different frequency bands, the RF front end 120 includes diplexers 630, 632, and 634 as shown in FIG. 6. In some aspects, the diplexers 630, 632, and 634 are coupled to a respective one of the antennas 122-2 through 122-4 such that low-band, mid-band/high-band, or ultra-high-band communication signals are routed to respective ports of the communication modules ( e.g .,
as routed by RF switches 626 and 628). As such, the diversity receiver or MIMO receiver may monitor or measure performance of an antenna in a frequency that is different from a frequency in which the primary transceiver is communicating. Alternately, the diversity receiver or MIMO receiver may monitor or measure performance of an antenna in a frequency that is the same as the frequency in which the primary transceiver is communicating ( e.g ., for time-division duplexing (TDD) communication systems).
[0059] In various aspects, the diversity controller 108 configures RF switches 626 and 628 to couple (or switch) respective ports of the primary transceiver, diversity receiver, and MIMO receiver between the antennas 122 to implement 2-way or 3 -way diversity switching. In other words, the diversity controller 108 may implement antenna switching with dynamic thresholds to switch the primary transceiver path from a primary antenna to a secondary antenna or tertiary antenna to optimize uplink performance of a wireless connection. For example, the diversity controller 108 may select, based on the dynamic thresholds (e.g., diversity lookup table) an antenna that is forecast or predicted to have a highest amount of available uplink power (or UL power budget) given current network conditions or respective receive performance of the antennas. By so doing, the diversity controller 108 may improve wireless connection reliability in marginal network conditions.
Example Methods
[0060] Example methods 700 through 1000 are described with reference to FIG. 7 through FIG. 10, respectively, in accordance with one or more aspects of antenna selection with dynamic thresholds for user devices. Alternately or additionally, aspects of antenna selection with dynamic metrics may alter or modify various communication performance metrics as described with reference to various methods. Generally, the methods 700
through 1000 illustrate sets of operations (or acts) that may be performed in, but not necessarily limited to, the order or combinations in which the operations are shown herein. Further, any of one or more of the operations may be repeated, combined, reorganized, skipped, or linked to provide a wide array of additional and/or alternate methods. In portions of the following discussion, reference may be made to the environment 100 of FIG. 1, devices, information tables, or components of FIG. 2 through FIG. 6, device or systems of FIG. 11 through FIG. 13, and/or entities detailed in FIG. 1 or other figures, reference to which is made for example only. The techniques and apparatuses described in this disclosure are not limited to an embodiment or performance by one entity or multiple entities operating on one device or those described with reference to the figures.
[0061] FIG. 7 illustrates an example method 700 for selecting an antenna to use for communication based on dynamic thresholds, including operations performed by the diversity controller 108 and/or performance monitor 110. In some aspects, operations of the method 700 may be implemented by a multi-antenna user device to improve quality or signal-strength of a communication link with a base station.
[0062] At 702, receive performance of a first antenna of a device is monitored via a first receiver coupled to the first antenna. The first receiver may be implemented in combination with a transmitter as part of a transceiver, such as a multi-mode and/or multi band transceiver module or SDR. In some cases, the transceiver of the device is a primary transceiver that is configured to communicate in accordance with one or more wireless networking standards or protocols. Communication via the first antenna may include the transmission of signals as part of an uplink or the reception of other signals as part of a downlink. The receive performance of the first antenna may be measured using any suitable metric, such as a received signal strength, received signal quality, reference signal
receive power (RSRP), reference signal receive quality (RSRQ), carrier-to-interference ratio, signal-to-noise ratio, bit-error rate, or packet-error rate.
[0063] For example, a first transmitter or transceiver ( e.g ., transceiver 502) of a phone (e.g., 102) may be coupled (e.g., connected via RF front end 120) to a first antenna (e.g., antenna 122-2) of the phone located along a bottom edge or corner of the phone (e.g., lower-right corner). As the transceiver communicates data (e.g., via an uplink/downlink) with a wireless network (e.g, 3GPP standard-based wireless network), as part of user data access or a voice call, a diversity controller (e.g., diversity controller 108) of the phone may use a first receiver (e.g., receiver 518) or a receive portion of the phone’s transceiver to monitor (e.g, a performance monitor 110) an RSRP of a signal (e.g., downlink) received by the first antenna from a base station (e.g., base station 202) of the wireless network. The monitored RSRP of the signal may provide the diversity controller with an indication or measurement of performance of the first antenna with respect to communicating with the base station of the wireless network.
[0064] At 704, receive performance of a second antenna of the device is monitored via a second receiver. The second receiver may be implemented as a diversity receiver or secondary receiver configured to receive downlink signals in coordination with a first receiver or primary transceiver of the device. In some cases, the second receiver is configured to receive downlink signals in a same or similar frequency band to that of the first receiver. Alternately or additionally, the second receiver may be configured as part of a transceiver or MIMO receiver of the device. The receive performance of the second antenna may be measured using any suitable metric, such as a received signal strength, received signal quality, RSRP, RSRQ, carrier-to-interference ratio, signal-to-noise ratio, bit-error rate, or packet-error rate.
[0065] In the context of the present example, a second or diversity receiver ( e.g ., diversity receiver 504) of the phone may be coupled to a second antenna (e.g., 122-4) of the phone located along a top edge or corner of the phone. As the transceiver communicates data with the wireless network, the diversity controller may use the second or diversity receiver to monitor (e.g., via the performance monitor 110) an RSRP of a signal (e.g., downlink) received by the second antenna from the base station of the wireless network. The monitored RSRP of the signal may provide the diversity controller with an indication or measurement of performance of the second antenna with respect to communicating with the base station of the wireless network.
[0066] Optionally at 706, a threshold for switching the transmitter to the second antenna is determined. The threshold may be determined based on a difference in uplink power between the first antenna and the second antenna. In some cases, the determination of the threshold may include applying an uplink modifier to a nominal or default antenna switch threshold. In some cases, the threshold or uplink power modifier is determined based on a maximum transmit power level of the second antenna, nominal transmit power level of the second antenna, maximum transmit power level of the first antenna (e.g., active transmit antenna), or a nominal transmit power level of the first antenna. For example, the diversity controller may determine a difference in uplink power based on a difference in respective MTPLs for the antennas, differences in transmit efficiencies between antennas (e.g., for a given frequency band), differences in efficiencies between receive-only use of an antenna versus combined receive and transmit use of an antenna (e.g, primary transceiver use), respective path loss differences between an amplifier and an antenna, or the like.
[0067] In some aspects, a dynamic threshold is determined by accessing a lookup table of antenna switch information based on a state of an RF path or antenna switch, a
configuration of a transmitter ( e.g ., modem state), or a device state index. Alternately or additionally, an offset or modifier may be applied to a measurement of receive performance of the first antenna or the second antenna. In such cases, the modified receive performance of one or both antennas may be compared using a nominal antenna switch threshold. By so doing, dynamic or adaptive antenna switch diversity may be implemented with modified receive performance metrics that account or compensate for at least a part of an uplink power imbalance between antennas.
[0068] Continuing the ongoing example, assume that a nominal antenna switch threshold for switching between the first antenna and the second antenna is 3 dB based on respective reference power receive strengths of each antenna. Based on a device state index (e.g., DSI 402) associated with a position of the phone during a voice call (e.g., phone proximate the user’s head), the diversity controller may access a lookup table (e.g, antenna switch diversity LUT 314) to determine that the second antenna located at the top of the phone has a greater amount of MTPL cutback or reduction than the first antenna located at the bottom of the phone (e.g., 4 dB greater than that of the first antenna). In this example scenario, a dynamic antenna switch threshold may be determined by adding 4 dB to the nominal antenna switch threshold of 3 dB such that the dynamic antenna switch threshold for switching from the first antenna to the second antenna is 7 dB to account for the greater cutback in transmit or uplink power of the second antenna.
[0069] At 708, the receive performance of the first antenna is compared to the receive performance of the second antenna based on a threshold. The threshold may be an antenna switch threshold configured based on a difference in uplink power between the first antenna and the second antenna. In some aspects, the threshold is retrieved from a lookup table of antenna switch information or dynamic switch thresholds configured based on a device
state index or modem state associated with a primary transceiver or other communication parameters of a device. Generally, the threshold can be configured to enable the diversity controller to select an antenna with a highest available transmit power or to avoid switching to an antenna with a lower transmit power level, which may prevent a dropped call or loss of connection when transmit power is reduced.
[0070] From operation 708, the method 700 may return to operation 702 if the receive performance of the second antenna does not exceed the receive performance of the first antenna by the dynamic antenna switch threshold. For example, if a switch to the second antenna would result in a reduction in transmit power, the diversity controller may leave the transceiver coupled to the first antenna and implement another iteration of the method 700 to compare subsequent receive performance of the second antenna or monitor and compare receive performance of another antenna ( e.g ., a third antenna). Alternately, the method 700 may proceed to operation 710 if the receive performance of the second antenna exceeds the receive performance of the first antenna by the dynamic switch threshold. [0071] Concluding the present example, assume that the diversity controller measures an RSRP of the first antenna as -115 dBm and an RSRP of the second antenna as -110 dBm. Whereas this 5-dB difference in receive performance may normally trigger an antenna switch at the nominal static threshold, the reduced transmit power of the second antenna (e.g., 4 dB) could result in decreased communication performance or possibly a dropped voice call. In contrast to this impairment of communication performance, the diversity controller compares the respective receive performance of the first and second antennas to the dynamic antenna switch threshold of 7 dB, which accounts or compensates for the reduced transmit power of the second antenna. As the receive performance of the second antenna does not exceed the receive performance of the first antenna by the dynamic
antenna switch threshold, the diversity controller leaves the transmitter of the phone coupled to the first antenna to maintain communication performance. In some cases, the first antenna the diversity controller leaves the first antenna coupled to the transmitter until a better performing antenna is available ( e.g ., another bottom edge or side antenna with an increased level of available transmit power).
[0072] At 710, the second antenna is coupled to the transmitter in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the threshold. Operation 710 may also include decoupling the second antenna from another receiver prior to coupling the second antenna to the transmitter. The coupling of the transmitter to the second antenna may increase an available amount of transmit power for an uplink of a wireless connection with a base station. Thus, aspects of antenna switching with dynamic thresholds may improve communication performance of a device by selecting and switching the transmitter to an antenna with a higher level of transmit power (e.g., higher MTPL and/or a more efficient antenna). In the context of the preceding example, assume instead that the receive performance of the second antenna does exceed the receive performance of the first antenna by the dynamic antenna switch threshold. In such a case, the diversity controller connects the transmitter of the phone to the second antenna based on the dynamic switch threshold, which may account or compensate for the reduction in transmit power of the second antenna to prevent a drop in transmit power and/or loss of connection.
[0073] FIG. 8 illustrates an example method 800 for applying an uplink power-based modifier to a receive performance measurement, including operations performed by the diversity controller 108 and/or performance monitor 110. In some aspects, operations of
the method 800 may be implemented by a multi-antenna user device to improve quality of a communication link with a base station.
[0074] At 802, receive performance of a first antenna of a device is measured via a first receiver to provide a first receive performance measurement. For example, a performance monitor 110 of a phone may monitor or measure an RSRP or RSRQ of the first antenna (e.g., 122-3) of the phone (e.g., user device 102). The first antenna of the device may be coupled to the first receiver and a transmitter of the device, which can be implemented in combination as a transceiver. In some cases, the receive performance of the first antenna is measured based on signals (e.g., downlink 208) that the transceiver communicates with a base station of a wireless network. The receive performance of the first antenna may be measured using any suitable metric, such as a received signal strength, receive signal quality, RSRP, RSRQ, carrier-to-interference ratio, signal-to-noise ratio, bit-error rate, or packet-error rate.
[0075] At 804, receive performance of a second antenna of the device is measured via a second receiver to provide a second receive performance measurement. For example, the performance monitor 110 of the phone may monitor or measure an RSRP or RSRQ of the second antenna (e.g., antenna 122-2 or 122-4) of the phone. The second receiver may include a diversity receiver or a MIMO receiver of the device that is coupled to a secondary or tertiary antenna of the device, such as to implement 2-way or 3 -way antenna diversity among multiple antennas of the device. In some cases, the receive performance of the second antenna is measured based on signals (e.g, downlink 208) received from the base station of the wireless network. The receive performance of the second antenna (or antenna subject to measurement) may be measured using any suitable metric, such as a received
signal strength, receive signal quality, RSRP, RSRQ, carrier-to-interference ratio, signal- to-noise ratio, bit-error rate, or packet-error rate.
[0076] At 806, an uplink power modifier is applied to the second receive performance measurement to provide an offset receive performance measurement. In some aspects, the uplink modifier is applied to the second receive performance measurement to account or compensate for a difference in uplink power between the first antenna and the second antenna. Generally, the uplink power modifier may correlate to an MTPL or reduction in transmit power associated with the second antenna based on a device state index, a modem state, RF configuration of the device or the like. For example, a diversity controller of a phone may apply an uplink power modifier (-5 dB) to the performance measurement (-110 dBm) of the second antenna that correlates to an MTPL cutback of the second antenna (-5 dB) to provide an offset receive performance measurement (-115 dBm).
[0077] Alternately or additionally, the uplink power modifier can also be determined using an MTPL or reduction in transmit power associated with the first antenna, such as a current MTPL cutback of an active transmit antenna (e.g., -1 dB reduction for an offset performance measurement of -114 dBm, applied as +1 dB offset for the second antenna). Thus, an uplink power modifier of a current antenna may be applied to a receive performance measurement of the current antenna (e.g, -1 dB) or to that of a candidate antenna (e.g., +1 dB). From operation 806, the method 800 may return to operation 804 to measure performance of additional antennas of the device (e.g., third antennas or non active antennas). For example, the method 800 repeat operations 804 and 806 to measure and modify receive performance measurements of other antennas to which a transmitter or transceiver of the device can be coupled.
[0078] Optionally at 808, an uplink power modifier is applied to the first receive measurement to provide another or first offset receive performance measurement. In some aspects, the uplink modifier is applied to the first receive performance measurement to account or compensate for an MTPL or reduction in transmit power associated with the first antenna based on a device state index, a modem state, RF configuration of the device or the like. By applying uplink power modifiers to multiple receive performance measurements, the method 800 may compensate each receive performance measurement for a respective transmit power level, efficiency ( e.g ., due to frequency or coupling variations between antennas), or RF path loss (e.g., distance between a power amplifier and antenna feed point or connector) for a particular antenna. By so doing, the modified receive performance measurements may serve as a proxy for overall communication performance (e.g., including uplink performance) for a candidate antenna instead of merely an estimate of receive or downlink performance. For example, the diversity controller of the phone may apply an uplink power modifier (-1 dB) to the receive performance measurement of the first antenna (-114 dBm) that correlates to an MTPL cutback of the first antenna (-1 dB) to provide an offset receive performance measurement (-115 dBm). In such cases, the second antenna receive performance may not be modified based on the MTPL or uplink power modifier of the first antenna, which can be accounted for separately, e.g., applied to the receive performance measurement of the first, as described with respect to operation 808.
[0079] At 810, the first receive performance measurement is compared, based on an antenna switch threshold, with the offset receive performance measurement of at least the second antenna. In some cases, the offset receive performance of the second antenna (e.g., -115 dBm) is compared with an offset receive performance of the first antenna (e.g., -115
dBm). Alternately, the offset receive performance of the second antenna based on respective MTPL reductions of both antennas ( e.g ., -114 dBm) can be compared with the receive performance of the first antenna (e.g., -114 dBm). Thus, the modified or offset receive performance of one or both antennas may be compared using a nominal antenna switch threshold. By so doing, dynamic or adaptive antenna switch diversity may be implemented using offset receive performance metrics that account or compensate for at least a part of an uplink power imbalance between antennas. In the context of example values described with respect to method 800, the respective offset receive performance measurements of both antennas are approximately equal (e.g, -114 dBm) when accounting or compensating for respective uplink or transmit power reductions of the antennas.
[0080] Optionally at 812, the second antenna is coupled to the transmitter of the device based on the comparison. Operation 812 may also include decoupling the second antenna from another receiver prior to coupling the second antenna to the transmitter of the device. The second antenna may be coupled to the transmitter in response to the offset receive performance measurement of the second antenna exceeding the receive performance measurement of the first antenna by the threshold (e.g., 3-5 dB). This may be effective to increase an amount of transmit power available to the transmitter of the device, which may result in improved uplink performance through the second antenna (e.g., higher MTPL and/or a more efficient antenna).
[0081] From operation 812, the method 800 may return to operation 802 to perform another iteration of the method 800 to continue measuring respective antenna receive performance and comparing the offset receive performance measurement to implement dynamic or adaptive antenna switch diversity. Alternately, if the offset receive performance measurement of the second antenna does not exceed the receive performance
of the first antenna by the antenna switch threshold, the method 800 may proceed to operation 814. Thus, in the context of the example values, the offset receive performance measurement of the second antenna ( e.g ., -114 dBm) does not exceed the receive performance measurement of the first antenna (e.g., -114 dBm), and the diversity controller proceeds to operation 814.
[0082] Optionally at 814, the first antenna is left coupled to the transmitter of the device based on the comparison. The first antenna may remain coupled to the transmitter in response to the offset receive performance measurement of the second antenna not exceeding the receive performance measurement of the first antenna by the threshold. This may be effective to maintain an amount of transmit power available to the transmitter of the device via the first antenna and prevent switching to an antenna with a lower transmit power level. From operation 814, the method 800 may return to operation 802 to perform another iteration of the method 800 to continue measuring respective antenna receive performance and comparing the offset receive performance measurement to implement dynamic or adaptive antenna switch diversity. Concluding the discussion of the example values described with reference to method 800, the diversity controller leaves the first antenna coupled to the transmitter in response to the offset receive performance measurement of the second antenna not exceeding the receive performance of the first antenna by the antenna switch threshold.
[0083] FIG. 9 illustrates an example method 900 for accessing a lookup table of dynamic antenna switch thresholds that are indexed to respective device configurations or states. The method 900 may be implemented by or with the diversity controller 108, performance monitor 110, and/or the MTPL controller 112. In some aspects, operations of method 900
may be implemented to couple a primary transceiver of a user device to a best-performing antenna with respect to available uplink transmit power.
[0084] At 902, respective receive performance of multiple antennas of a device are monitored. The multiple antennas of the device may include two or more antennas configurable to transmit or receive signals in a same or similar frequency band, sub-band, channel, or the like. In some cases, the performance of each antenna is monitored or measured by or through a respective receiver of the device, such as a primary transceiver (e.g., active transceiver or transceiver 502), a diversity receiver (e.g., receiver 504), or a MIMO receiver (e.g., inactive receiver or receiver 506). In some cases, a diversity controller 108 or performance monitor 110 monitors a receive performance of one or more antennas (e.g., antennas 122-1 through 122-3) of the device. A respective receive performance of an antenna may be measured as one of a received signal strength, receive signal quality, RSRP, RSRQ, carrier-to-interference ratio, signal-to-noise ratio, bit-error rate, or packet-error rate.
[0085] Optionally at 904, an antenna configuration of the device is determined. The antenna configuration (e.g., antenna 418) may include a respective signal path (e.g., RF path 416) or switch configuration (e.g, RF path 416) between a transceiver of the device and an antenna of the device. In some cases, the antenna configuration includes a combination of a signal path, antenna switch, or RF front end (e.g, RF front end 120) settings for coupling multiple antennas (e.g., antenna 122) of the device to respective transceivers or receivers of the device (e.g, transceiver/receivers 502 through 506 or receiver 518). In some aspects, the antenna configuration is useful to reference a lookup table of antenna switch information or antenna switch thresholds (e.g, antenna switch diversity LUT 314). Alternately or additionally, the diversity controller can determine,
configure, or reset ( e.g ., to a default state) a signal path configuration or antenna switch configuration of the device.
[0086] Optionally at 906, a transceiver configuration of the device is determined. The transceiver configuration may include settings of a primary or active transceiver of the device, such as a real-time modem state (e.g., modem state information 412). For example, a transceiver configuration may include a radio mode, radio access technology (e.g., RAT 420), frequency band (e.g., frequency band 422), frequency sub-band, channel, or modulation coding scheme (MCS) setting of the transceiver. In some aspects, the transceiver configuration is useful to reference a lookup table of antenna switch information or antenna switch thresholds (e.g, antenna switch diversity LUT 314). Alternately or additionally, an indication of the transceiver configuration may be accessed via (e.g., a setting register) or received from the transceiver of the device.
[0087] Optionally at 908, a device state index of the device is determined. In some aspects, an indication of the device state index (e.g., DSI 402) is determined by or received from an application processor (e.g., AP 302), DSI engine (e.g., DSI engine 114), or sensor co-processor of the device. The device state index may indicate a use case/mode (e.g., use case 404), user interaction, device state, communication mode of the device, transmit power mode (e.g, transmit power mode 406), or the like. For example, the device state index may indicate whether the device is in a conducted power test mode, charging state, free space, proximate a user’s head, proximate a user’s body, functioning as a broadband router (e.g, hotspot), or the like. In some aspects, the device state index is useful to reference a lookup table of antenna switch information or antenna switch thresholds (e.g, antenna switch diversity LUT 314). As such, the device state index may indicate when a transmit power of a transmitter of the device may be reduced or limited.
[0088] At 910, a lookup table of antenna switch thresholds is accessed. The antenna switch thresholds of the lookup table ( e.g ., antenna switch diversity LUT 314) are configured to compensate for a difference in uplink power between the multiple antennas of the device. Based on at least one of the antenna configuration, transceiver configuration, or device state index, the lookup table can be referenced to determine one or more dynamic thresholds (e.g., dynamic antenna switch thresholds 438) to use for antenna switch operations. Each of the antenna switch thresholds may be configured to account for differences in uplink power (e.g., MTPL uplink offset 428 and/or ANT MTPL cutback 424/434) between the antennas based on a respective the antenna configuration, transceiver configuration, or the device state index of the antenna. For example, the antenna switch thresholds (e.g., dynamic antenna switch thresholds 438) may be indexed to the antenna configuration, transceiver configuration, or the device state index to compensate for a reduction or increase in available transmit power (e.g, MTPL differences) of a candidate antenna to which the transceiver can be switched. Alternately or additionally, an antenna switch threshold may also compensate for an MTPL reduction of a current or active antenna of the device.
[0089] At 912, an antenna having a highest available uplink power level is selected as a transmit antenna of the device using at least one of the antenna switch thresholds. Based on the respective receive performance of the multiple antennas, the antenna switch threshold can be used to maintain a current transmit antenna or select another of the multiple antennas as the transmit antenna, such as based on a respective dynamic antenna switch threshold for the current antenna and a candidate antenna. For example, the receive performance of the current transmit antenna can be compared to the receive performance of a diversity receive antenna or an inactive antenna. If the receive performance of the
other antenna exceeds the receive performance of the current transmit antenna by the dynamic antenna switch threshold, that antenna may be selected as the transmit antenna. [0090] From operation 912, the method 900 may return to operation 902 to perform another iteration of the method to improve or optimize a wireless connection with a base station. For example, another iteration of the method 900 may retain a current transmit antenna that has a highest available uplink power level or select a different antenna should that antenna have a higher available uplink power level than the current transmit antenna. [0091] FIG. 10 illustrates an example method 1000 for switching a transmit antenna using thresholds that are based on uplink power differences between multiple antennas, including operations performed by the diversity controller 108, performance monitor 110, the MTPL controller 112, and/or the RF circuitry or components described with respect to FIG. 5 or FIG. 6. In some aspects, operations of method 1000 may be implemented to optimize or improve uplink performance of a multi-antenna user device, such as in marginal network conditions.
[0092] At 1002, a transceiver of a device is coupled to a first antenna to enable communication via the first antenna, such as through an RF front end 120. The transceiver includes a transmitter and a first receiver of the device and may be implemented as a multi- mode multi-band transceiver module or SDR. In some cases, the transceiver of the device is a primary transceiver that is configurable to communicate in accordance with one or more wireless networking standards or protocols ( e.g ., 3GPP standard). Communication via the first antenna may include the transmission of signals as part of an uplink to a base station or the reception of other signals as part of a downlink from a base station. In some aspects, the transceiver provides an indication or measurement of the first antenna’s receive performance to a performance monitor 110 or a diversity controller 108 of the device.
[0093] At 1004, a second receiver of the device is coupled to a second antenna to enable reception via the second antenna, such as through the RF front end 120. The second receiver may be a diversity or secondary receiver of the device configured to receive downlink signals in coordination with a first receiver or primary transceiver of the device. In some cases, the second receiver is configured to receive downlink signals in a same or similar frequency band to that of the first receiver. Alternately or additionally, the second receiver may be configured as part of another transceiver or MIMO receiver of the device. In some aspects, the second receiver provides an indication or measurement of the second antenna’s receive performance to the performance monitor 110 or the diversity controller 108 of the device.
[0094] At 1006, a third receiver of the device is coupled to a third antenna to enable monitoring of reception performance of the third antenna, such as through the RF front end 120. The third receiver may be coupled to the third antenna via a diplexer or RF switch. The third receiver can be implemented as a MIMO receiver that is capable of receiving multiple spatial streams of information. In some cases, the third antenna is coupled to a port of the third receiver that is configured to operate in a frequency band that is different from frequency bands in which another transceiver or receiver of the device is configured to operate. Alternately, the third antenna may be coupled to a port of the third receiver that is configured to operate in a same or similar frequency band as another transceiver or receiver of the device. In some aspects, the third receiver provides an indication or measurement of the third antenna’s receive performance to the performance monitor 110 or the diversity controller 108 of the device.
[0095] At 1008, respective thresholds for switching the transceiver to the second antenna or the third antenna are determined based on uplink power differences between the
antennas. The respective switching thresholds may be determined by accessing a lookup table of antenna switch information or antenna switch thresholds ( e.g ., antenna switch diversity LUT 314). In some cases, the lookup table is accessed based on an antenna configuration (e.g., RF switches or modem state information 412), a configuration of the transceiver (e.g., modem state information 412 or MTPL information 414), or a device state index of the device (e.g., DSI information 410). Alternately or additionally, respective receive measurements of the antennas may be modified to reflect differences in uplink power between a current and candidate antenna based on an antenna configuration, transceiver configuration, or device state index (e.g, user interaction or use mode) of the device.
[0096] At 1010, receive performance of the first antenna is compared, based on the respective thresholds, with a respective receive performance of the second antenna or the third antenna. For example, a reference signal receive power (RSRP) of the first antenna may be compared with RSRPs of the second and third antennas based on a respective antenna switch threshold (e.g., dynamic antenna switch threshold 438). Alternately or additionally, an offset receive performance of the first antenna can be compared with respective offset receive performances of the second and third antennas based on an antenna switch threshold (e.g., operation 810 of method 800).
[0097] At 1012, the transceiver is coupled (e.g., by the diversity controller 108) to the second antenna or the third antenna if the receive performance of the second antenna or the third antenna exceeds the receive performance of the first antenna by the respective threshold. The transceiver may be coupled to the selected antenna via any suitable type of circuit or switch, such as a DPDT RF switch or TPTT RF switch (e.g., RF front end 120). In some cases, coupling the transceiver (e.g., transceiver 502) to the selected antenna is
effective to improve quality of a communication link or wireless link. In such cases, improving the quality of the communication link can prevent disruption of data or voice services, thereby enabling user applications or device functions to continue when one antenna of a device is blocked or impaired.
Example Devices and Systems
[0098] FIG. 11 illustrates various components of an example electronic device 1100 that can implement antenna selection with dynamic thresholds in accordance with one or more aspects as described with reference to any of the preceding FIGs. 1-10. The electronic device 1100 may be implemented as any one or a combination of a fixed or mobile device, in any form of a consumer device, computing device, portable device, user device, user equipment, server, communication device, phone, navigation device, gaming device, media device, messaging device, media player, and/or other type of electronic device or a wirelessly-enabled device. For example, the electronic device 1100 may be implemented as a smart-phone, phone-tablet (phablet), laptop computer, set-top box, wireless drone, computing-glasses, vehicle-based computing system, or wireless broadband router.
[0099] The electronic device 1100 includes communication transceivers 1102 that enable wired and/or wireless communication of device data 1104, such as received data, transmitted data, or other information as described above. Example communication transceivers 1102 include NFC transceivers, WPAN radios compliant with various IEEE 802.15 standards, WLAN radios compliant with any of the various IEEE 802.11 standards, WWAN (3GPP-compliant) radios for cellular telephony, wireless metropolitan area network (WMAN) radios compliant with various IEEE 802.16 standards, and wired local area network (LAN) Ethernet transceivers. In some aspects, multiple communication
transceivers 1102 or components thereof are operably coupled with an instance of an RF front end 120 embodied on the electronic device 1100. The RF front end 120 of the electronic device 1100 may be implemented similar to or differently from an RF front end 120 as described with reference to FIGs. 1-10.
[0100] The electronic device 1100 may also include one or more data input/output ports 1106 (data I/O ports 1106) via which any type of data, media content, and/or other inputs can be received, such as user-selectable inputs, messages, applications, music, television content, recorded video content, and any other type of audio, video, and/or image data received from any content and/or data source. The data I/O ports 1106 may include USB ports, coaxial cable ports, and other serial or parallel connectors (including internal connectors) for flash memory, DVDs, CDs, and the like. These data I/O ports 1106 may be used to couple the electronic device to components, peripherals, or accessories such as keyboards, microphones, or cameras.
[0101] The electronic device 1100 of this example includes at least one processor 1108 ( e.g ., one or more application processors, processor cores microprocessors, digital-signal processors (DSPs), controllers, or the like), which can include a combined processor and memory system, that executes computer-executable instructions stored on computer- readable media to control operation or implement functionalities of the device. Generally, a processor or processing system may be implemented at least partially in hardware, which can include components of an integrated circuit or on-chip system, a DSP, an application- specific integrated circuit (ASIC), a field-programmable gate array (FPGA), a complex programmable logic device (CPLD), and other implementations in silicon and/or other hardware.
[0102] Alternately or additionally, the electronic device 1100 can be implemented with any one or combination of electronic circuitry 1110, which may include hardware, fixed logic circuitry, or physical interconnects ( e.g ., traces or connectors) that are implemented in connection with processing and control circuits. This electronic circuitry 1110 can implement executable or hardware-based modules (not shown) through logic circuitry and/or hardware, such as an FPGA or CPLD. Although not shown, the electronic device 1100 may also include a system bus, interconnect fabric, crossbar, or data transfer system that couples the various components within the device. A system bus or interconnect fabric can include any one or combination of different bus structures or IP blocks, such as a memory bus, memory controller, a peripheral bus, a universal serial bus, interconnect nodes, and/or a processor or local bus that utilizes any of a variety of bus architectures. [0103] The electronic device 1100 also includes one or more memory devices 1112 that enable data storage, examples of which include random access memory (RAM), non-volatile memory (e.g., read-only memory (ROM), flash memory, EPROM, and EEPROM), and a disk storage device. Any or all of the memory devices 1112 may enable persistent and/or non-transitory storage of information, data, or code, and thus do not include transitory signals or carrier waves in the general context of this disclosure. For example, the memory device(s) 1112 provide data storage mechanisms to store the device data 1104 and other types of data (e.g., user data). The memory device 1112 may also store an operating system 1114, firmware, and/or device applications 1116 of the electronic device as instructions, code, or information. These instructions or code can be executed by the processor 1108 to implement various functionalities of the electronic device, such as to provide a user interface, enable data access, or manage connectivity with a wireless network. In this example, the memory device 1112 also stores processor-executable code
or instructions for providing respective instance of a diversity controller 108, performance monitor 110, and MTPL controller 112, which may be implemented similar to or differently from the diversity controller, performance monitor, and/or MTPL controller described with reference to FIGs. 1-10.
[0104] As shown in FIG. 11, the electronic device 1100 may include an audio and/or video processing system 1118 for processing audio data and/or passing through the audio and video data to an audio system 1120 and/or to a display system 1122 ( e.g ., a video buffer or device screen). The audio system 1120 and/or the display system 1122 may include any devices that process, display, and/or otherwise render audio, video, graphical, and/or image data. Display data and audio signals can be communicated to an audio component and/or to a display component via an RF link, S-video link, HDMI (high-definition multimedia interface), Display Port, composite video link, component video link, DVI (digital video interface), analog audio connection, or other similar communication link, such as media data port 1124. In some implementations, the audio system 1120 and/or the display system 1122 are external or separate components of the electronic device 1100. Alternately, the display system 1122 can be an integrated component of the example electronic device 1100, such as part of an integrated display with touch interface.
[0105] The electronic device 1100 also includes antennas 1126-1, 1126-2, through 1126-n, where n may be any suitable number of antennas. The antennas 1126-1 through 1126-n are coupled to the RF front end 120 of the electronic device 1100, which may include any suitable combination of filters, amplifiers, switches, diplexers, and/or multiplexers to facilitate transmission or reception of signals by the communication transceivers 1102 through of the antennas 1126-1 through 1126-n. In some aspects, the diversity controller 108 or performance monitor 110 may interact with the RF front end
120 and the antennas 1126-1 through 1126-n to implement antenna selection with dynamic thresholds as described herein. Alternately or additionally, the electronic device 1100 may represent an example implementation of the user devices 102 as described throughout the present disclosure. Thus, in some cases the processor 1108 is an example of the processor 104 (not shown) and/or the memory device 1112 is an example of the computer-readable storage media 106 (not shown) for storing various data, instructions, or code for implementing a diversity controller or other applications. As such, aspects of antenna selection with dynamic thresholds as described herein can be implemented by, or in conjunction with, the electronic device 1100 of FIG. 11.
[0106] FIG. 12 illustrates an example system on chip (SoC) that may implement aspects of antenna selection with dynamic thresholds. The SoC 1200 may be embodied as or within any type of user device 102, user equipment, apparatus, other device, or system as described with reference to FIGs. 1-11 to implement antenna selection with dynamic thresholds. Although described with reference to chip-based packaging, the components shown in FIG. 12 may also be embodied as other systems or component configurations, such as, and without limitation, a Field-Programmable Gate Arrays (FPGA), an Application-Specific Integrated Circuits (ASIC), an Application-Specific Standard Products (ASSP), a digital signal processor (DSP), Complex Programmable Logic Devices (CPLD), system in package (SiP), package on package (PoP), processing and communication chip set, communication co-processor, sensor co-processor, or the like. [0107] In this example, the SoC 1200 includes communication transceivers 1202 and a wireless modem 1204 that enable wired or wireless communication of data 1206 ( e.g ., received data, data that is being received, data scheduled for broadcast, packetized, or the like). In some aspects, the wireless modem 1204 is a multi-mode multi-band modem or
baseband processor that is configurable to communicate in accordance with various communication protocols and/or in different frequency bands, such as those protocols or frequency bands described throughout this disclosure. The wireless modem 1204 may include a transceiver interface (not shown) for communicating encoded or modulated signals with transceiver circuitry.
[0108] The data 1206 or other system content can include configuration settings of the system or various components ( e.g ., lookup table 312 or 314), media content stored by the system, and/or information associated with a user of the system. Media content stored on the system on chip 1200 may include any type of audio, video, and/or image data. The system on chip 1200 also includes one or more data inputs 1208 via which any type of data, media content, and/or inputs can be received, such as user input, user-selectable inputs (explicit or implicit), or any other type of audio, video, and/or image data received from a content and/or data source. Alternately or additionally, the data inputs 1208 may include various data interfaces, which can be implemented as any one or more of a serial and/or parallel interface, a wireless interface, a network interface, and as any other type of communication interface enabling communication with other devices or systems.
[0109] The system on chip 1200 includes one or more processor cores 1210, which process various computer-executable instructions to control the operation of the system on chip 1200 and to enable techniques for antenna switching with dynamic thresholds. Alternately or additionally, the system on chip 1200 can be implemented with any one or combination of hardware, firmware, or fixed logic circuitry that is implemented in connection with processing and control circuits, which are generally shown at 1212. Although not shown, the system on chip 1200 may also include a bus, interconnect, crossbar, or fabric that couples the various components within the system.
[0110] The system 1200 also includes a memory 1214 ( e.g ., computer-readable media), such as one or more memory circuits that enable persistent and/or non-transitory data storage, and thus do not include transitory signals or carrier waves. Examples of the memory 1214 include RAM, non-volatile memory (e.g., read-only memory (ROM), EPROM, EEPROM, etc.), or flash memory. The memory 1214 provides data storage for the system data 1206, as well as for firmware 1216, applications 1218, and any other types of information and/or data related to operational aspects of the system on chip 1200. For example, the firmware 1216 can be maintained as processor-executable instructions of an operating system (e.g., real-time OS) within the memory 1214 and executed on one or more of the processor cores 1210.
[0111] The applications 1218 may include a system manager, such as any form of a control application, software application, signal-processing and control module, code that is native to a particular system, an abstraction module or gesture module and so on. The memory 1214 may also store system components or utilities for implementing aspects of antenna switching with dynamic thresholds, such as a diversity controller 108, MTPL controller 112, and corresponding lookup tables. These entities may be embodied as combined or separate components, examples of which are described with reference to corresponding entities or functionality as illustrated in FIGs. 1-11 or FIG. 13. Although shown in memory 1214, one or more elements of the diversity controller 108 or MTPL controller 112 may be implemented, in whole or in part, through hardware or firmware. [0112] In some aspects, the system on chip 1200 also includes additional processors or co-processors to enable other functionalities, such as a graphics processor 1220, audio processor 1222, and image sensor processor 1224. The graphics processor 1220 may render graphical content associated with a user interface, operating system, or applications
of the system on chip 1200. In some cases, the audio processor 1222 encodes or decodes audio data and signals, such as audio signals and information associated with voice calls or encoded audio data for playback. The image sensor processor 1224 may be coupled to an image sensor and provide image data processing, video capture, and other visual media conditioning and processing functions.
[0113] The system on chip 1200 may also include a security processor 1226 to support various security, encryption, and cryptographic operations, such as to provide secure communication protocols and encrypted data storage. Although not shown, the security processor 1226 may include one or more cryptographic engines, cipher libraries, hashing modules, or random number generators to support encryption and cryptographic processing of information or communications of the system on chip 1200. Alternately or additionally, the system on chip 1200 can include a position and location engine 1228 and a sensor interface 1230. Generally, the position and location engine 1228 may provide positioning or location data by processing signals of a Global Navigation Satellite System (GNSS) and/or other motion or inertia sensor data ( e.g ., dead-reckoning navigation). The sensor interface 1230 enables the system on chip 1200 to receive data from various sensors, such as capacitance and motion sensors. In some aspects, a DSI engine 114 of the system on chip 1200 receives data (e.g., motion or capacitance sensor data) from the sensor interface 1230 to provide DSI information to the diversity controller 108 and/or the MTPL controller 112 to enable antenna switching with dynamic thresholds.
[0114] FIG. 13 illustrates an example configuration of a wireless communication processor 1300 (communication processor 1300) that may implement various aspects of antenna selection with dynamic thresholds. Although referred to generally as a communication processor, the communication processor 1300 may be implemented as a
modem baseband processor, software-defined radio module, configurable modem ( e.g ., multi-mode, multi-band modem), wireless data interface, or wireless modem, such as wireless modem 1204 of the system on chip 1200. The wireless communication processor 1300 may be implemented in a device or system to support data access, messaging, or data- based services of a wireless network, as well as various audio-based communication (e.g., voice calls).
[0115] In this example, the wireless communication processor 1300 includes at least one processor core 1302 and a memory 1304, which is implemented as hardware-based memory that enables persistent and/or non-transitory data storage, and thus does not include transitory signals or carrier waves. The processor core 1302 may be configured as any suitable type of processor core, microcontroller, digital signal processor core, or the like. The memory 1304 may include any suitable type of memory device or circuit, such as RAM, DRAM, SRAM, non-volatile memory, flash memory, or the like. Generally, the memory stores data 1306 of the communication processor 1300, as well as firmware 1308 and other applications. The processor core 1302 may execute processor-executable instructions of the firmware 1308 or applications to implement functions of the communication processor 1300, such as signal processing and data encoding operations. The memory 1304 may also store data and information useful to implement aspects of antenna switching with dynamic thresholds. In some aspects, the memory 1304 of the communication processor 1300 includes PCL information 210, modem state information 306, an antenna switch diversity lookup table 314, and an MTPL lookup table 312. Any of these entities may be implemented in combination or separately as shown in FIG. 13. [0116] The communication processor 1300 may also include electronic circuitry 1310 for managing or coordinating operations of various components and an audio codec 1312 for
processing audio signals and data. The electronic circuitry 1310 may include hardware, fixed logic circuitry, or physical interconnects ( e.g ., traces or connectors) that are implemented in connection with processing and control circuits of the communication processor and various components. The audio codec 1312 may include a combination of logic, circuitry, or firmware (e.g., algorithms) to support encoding and/or decoding of audio information and audio signals, such as analog signals and digital data associated with voice or sound functions of the communication processor 1300.
[0117] A system interface 1314 of the communication processor 1300 enables communication with a host system or application processor. For example, the communication processor 1300 may provide or expose data access functionalities to the system or application processor through the system interface 1314. In this example, the communication processor also includes a transceiver circuit interface 1316 and an RF circuit interface 1318, through which the communication processor 1300 may manage or control respective functionalities of a transceiver circuit or RF front end to implement various communication protocols and techniques. In various aspects, the communication processor includes digital signal processing or signal processing blocks for encoding and modulating data for transmission or demodulating and decoding received data.
[0118] In this example, the communication processor 1300 includes an encoder 1320, modulator 1322, and digital-to-analog converter 1324 (D/A converter 1324) for encoding, modulating, and converting data sent to the transceiver circuit interface. The communication processor also includes an analog-to-digital converter 1326 (A/D converter 1326), demodulator 1328, and decoder 1330 for converting, demodulating, and decoding data received from the transceiver circuit interface 1316. In some aspects, these signal processing blocks and components are implemented as respective transmit and receive
chains of the communication processor 1300, which may be configurable for different radio access technologies or frequency bands.
[0119] The wireless communication processor 1300 may also include a diversity controller 108, performance monitor 110, and MTPL controller 112. These entities may be embodied as combined or separate components, examples of which are described with reference to corresponding entities or functionality as illustrated in FIGs. 1-12. In some aspects, the diversity controller 108 may access the performance monitor 110, diversity LUT 314 and/or the RF interface 1318 to implement aspects of antenna switching with dynamic thresholds. For example, the diversity controller 108 may receive indications of antenna performance from the performance monitor 110. The diversity controller 108 may compare the indications of receive performance using dynamic antenna switching thresholds of the diversity LUT 314. Based on the comparisons, the diversity controller 108 may access the RF circuit interface 1318 to configure an RF front end such that an antenna with a highest available transmit power level is coupled to the transmit chain of the communication processor 1300.
[0120] Further to the descriptions above, a user may be provided with controls allowing the user to make an election as to both if and when devices, systems, applications, and/or features described herein may enable collection of user information, such as one or more of wireless link metrics, connection duration information, average connection length, signal quality /strength information, network identity information, network basic service set identifier (BSSID) information, recently utilized wireless communication bands/channels, a user’s preferences, a user’s current location, if the user has communicated content or information with a server, or the like.
[0121] In addition, certain data may be treated in one or more ways before it is stored or used, so that personally identifiable information is removed. For example, a user’s identity may be treated so that no personally identifiable information can be determined for the user. For example, a user’s geographic location may be generalized or randomized about where location information is obtained (such as to a city, postal code, or state/province level), so that a particular location of a user cannot be determined. Thus, the user may have control(s) over what information is collected about the user, one or more devices of the user, how that information is used, and/or what information is provided to the user.
Variations
[0122] Although the above-described apparatuses and methods are described in the context of antenna selection with dynamic thresholds in a wireless network in which one or more base stations are accessible, the described devices, systems, and methods are non- limiting and may apply to other contexts, user equipment deployments, or wireless- communication environments.
[0123] Generally, the components, modules, methods, and operations described herein can be implemented using software, firmware, hardware (e.g., fixed logic circuitry), manual processing, or any combination thereof. Some operations of the example methods may be described in the general context of executable instructions stored on computer- readable storage memory that is local and/or remote to a computer processing system, and implementations can include software applications, programs, functions, and the like. Alternatively, or in addition, any of the functionality described herein can be performed, at least in part, by one or more hardware logic components, such as, and without limitation, FPGAs, ASICs, ASSPs, SoCs, CPLDs, co-processors, context hubs, motion co-processors, sensor co-processors, or the like.
[0124] A first method performed by a device having at least two antennas comprises monitoring, via a first receiver of the device, receive performance of a first antenna of the device, the first antenna being coupled to a transmitter of the device; monitoring, via a second receiver of the device, receive performance of a second antenna of the device; comparing, based on an antenna switch threshold, the receive performance of the first antenna to the receive performance of the second antenna, the antenna switch threshold configured based on a difference in uplink power between the first antenna and the second antenna; and coupling, based on the comparison, the transmitter of the device to the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold, the transmitter being decoupled from the first antenna prior to coupling to the second antenna of the device. [0125] In addition to the above described first method, an apparatus for communicating over a wireless network comprises at least two antennas that include a first antenna and a second antenna; a transceiver that includes a transmitter and a first receiver; a second receiver; and a diversity controller. The diversity controller is implemented to: couple the transceiver to the first antenna to enable communication via the first antenna; couple the second receiver to the second antenna to enable reception via the second antenna or enable monitoring of performance of the second antenna; monitor, via the first receiver, receive performance of the first antenna of the apparatus; monitor, via a second receiver, receive performance of the second antenna of the apparatus; compare, based on an antenna switch threshold, the receive performance of the first antenna to the receive performance of the second antenna, the antenna switch threshold configured based on a difference in uplink power between the first antenna and the second antenna of the apparatus; and couple, based on the comparison, the transceiver to the second antenna in response to the receive
performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold, the transceiver being decoupled from the first antenna prior to coupling to the second antenna of the apparatus.
[0126] In addition to the above described method and apparatus, a system on chip comprises a transceiver module that includes a transmitter module and a first receiver module; a second receiver module; at least one output configured to control radio frequency (RF) switch circuitry; a processor core configured to execute processor- executable instructions; a hardware-based memory having processor-executable instructions stored thereon that, responsive to execution by the processor core, implement a diversity controller. The diversity controller is implemented to: cause, via the at least one output, coupling of the transceiver module to a first antenna to enable communication via the first antenna; cause, via the at least one output, coupling of the second receiver module to a second antenna to enable reception via the second antenna or enable monitoring of performance of the second antenna; monitor, via the first receiver module, receive performance of the first antenna; monitor, via a second receiver module, receive performance of the second antenna; compare, based on an antenna switch threshold, the receive performance of the first antenna to the receive performance of the second antenna, the antenna switch threshold configured based on a difference in uplink power between the first antenna and the second antenna; and couple, based on the comparison, the transmitter module of the system on chip to the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold, the transmitter module being decoupled from the first antenna prior to coupling to the second antenna.
[0127] In addition to any of the method, the apparatus, or the system on chip described above, the antenna switch threshold is configured based on a difference in uplink power between the first antenna and the second antenna which results in the antenna switch threshold being greater than a nominal value if an uplink power of first antenna is higher than an uplink power of the second antenna or the antenna switch threshold being less than a nominal value if the uplink power of first antenna is lower than an uplink power of the second antenna.
[0128] In addition to any of the method, the apparatus, or the system on chip described above, the antenna switch threshold includes to an offset or a modifier that is inversely proportional to a maximum transmit power level of the second antenna.
[0129] In addition to any of the method, the apparatus, or the system on chip described above, configuring the antenna switch threshold by applying an uplink power modifier to a default antenna switch threshold. In addition to any of the method, the apparatus, or the system on chip described above, the uplink power modifier is based on at least a maximum transmit power level of the second antenna. In addition to any of the method, the apparatus, or the system on chip described above, the uplink power modifier is based on a one of: a nominal maximum transmit power level of the second antenna; or a maximum transmit power level of the first antenna to which the transmitter of the device is coupled.
[0130] In addition to any of the method, the apparatus, or the system on chip described above, the uplink power modifier applied to the default antenna switch threshold is based on one of: a state of at least one antenna switch of the device to which the first antenna or the second antenna is coupled; a configuration of the transmitter comprising a radio access technology setting, a channel setting, a frequency band setting, or a frequency sub-band setting; or a device state index of the device. In addition to any of the method, the
apparatus, or the system on chip described above, determining the maximum transmit power level of the second antenna or the antenna switch threshold by accessing a lookup table of antenna switch information based on at least one of: a state of at least one antenna switch of the device to which the first antenna or the second antenna is coupled; a configuration of the transmitter comprising a radio access technology setting, a channel setting, a frequency band setting, or a frequency sub-band setting; or a device state index of the device.
[0131] In addition to any of the method, the apparatus, or the system on chip described above, the receive performance of the first antenna or the receive performance of the second antenna is measured as at least one of a received signal strength, reference signal receive power, receive signal quality, carrier-to-interference ratio, signal-to-noise ratio, bit error rate, or packet-error rate.
[0132] In addition to any of the method, the apparatus, or the system on chip described above, the device includes at least three antennas, the antenna switch threshold is a first antenna switch threshold, and the method further comprises: monitoring, via a third receiver of the device, receive performance of a third antenna of the device, the third receiver being a multiple-input multiple-output (MIMO) receiver; comparing, based on a second antenna switch threshold, the receive performance of the first antenna to the receive performance of the third antenna, the second antenna switch threshold configured based on a difference in uplink power between the first antenna and the third antenna; and coupling, based on the comparison, the transmitter of the device to one of: the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the first antenna switch threshold; or the third antenna
in response to the receive performance of the third antenna exceeding the receive performance of the first antenna by the second antenna switch threshold.
[0133] In addition to any of the method, the apparatus, or the system on chip described above, the diversity controller is further implemented to configure the antenna switch threshold by applying an uplink power modifier to a default antenna switch threshold. In addition to any of the method, the apparatus, or the system on chip described above, the uplink power modifier is based on a maximum transmit power level of the second antenna and at least one of: a default maximum transmit power level of the second antenna; a nominal maximum transmit power level of the second antenna; or a maximum transmit power level of the first antenna to which the transmitter of the apparatus is coupled.
[0134] In addition to any of the method, the apparatus, or the system on chip described above, a memory storing a lookup table of antenna switch information; and the diversity controller is further implemented to determine the maximum transmit power level of the second antenna or the antenna switch threshold by accessing the lookup table of antenna switch information based on at least one of: a state of at least one antenna switch of the device to which the first antenna or the second antenna is coupled; a configuration of the transmitter comprising a radio access technology setting, a channel setting, a frequency band setting, or a frequency sub-band setting; or a device state index of the device.
[0135] In addition to any of the method, the apparatus, or the system on chip described above, the apparatus includes at least three antennas and a third receiver, the antenna switch threshold is a first antenna switch threshold, and the diversity controller is further implemented to: couple the third receiver to the third antenna to enable reception via the third antenna or enable monitoring of performance of the third antenna; monitor, via a third receiver, receive performance of the third antenna of the apparatus; compare, based on a
second antenna switch threshold, the receive performance of the first antenna to the receive performance of the third antenna, the second antenna switch threshold configured based on a difference in uplink power between the first antenna and the third antenna of the apparatus; and couple, based on the comparison, the transmitter of the transceiver to one of: the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the first antenna switch threshold; or the third antenna in response to the receive performance of the third antenna exceeding the receive performance of the first antenna by the second antenna switch threshold.
[0136] In addition to any of the method, the apparatus, or the system on chip described above, the difference in uplink power between the first antenna and the second antenna is based on at least two of: a nominal or default maximum transmit power level of the second antenna; a maximum transmit power of the second antenna that is configured based on settings of the transceiver module or device state index information; or a maximum transmit power level of the first antenna to which the transmitter module is coupled.
[0137] In addition to any of the method, the apparatus, or the system on chip described above, the diversity controller is further implemented to: determine an uplink power modifier based on at least one of: a state of the RF circuitry by which the system on chip is coupled to the first antenna or the second antenna; a configuration of the transmitter module comprising at least one of a radio access technology setting, a frequency band setting, a frequency sub-band setting, or a channel setting; or a device state index of a device in which the system on chip is embodied; and configure the antenna switch threshold by applying the uplink power modifier to a default antenna switch threshold. [0138] In addition to any of the method, the apparatus, or the system on chip described above, the system on chip further comprises a memory storing a lookup table of antenna
switch information; and the diversity controller is further implemented to determine the antenna switch threshold by accessing the lookup table of antenna switch information based on at least one of: a state of the RF circuitry by which the system on chip is coupled to the first antenna or the second antenna; a configuration of the transmitter module comprising at least one of a radio access technology setting, a frequency band setting, a frequency sub-band setting, or a channel setting; or a device state index of a device in which the system on chip is embodied.
[0139] In addition to any of the method, the apparatus, or the system on chip described above, the entries of the lookup table of antenna switch information are indexed to at least one of the state of the RF circuitry, the configuration of the transmitter, or the device state index; an entry for the antenna switch threshold includes or indicates an offset from a nominal antenna switch threshold for the second antenna or an uplink power modifier associated with the antenna switch threshold; and the entry includes a maximum transmit power level that includes or indicates an offset from a nominal transmit power of the second antenna that is inversely proportional to the offset from the nominal antenna switch threshold or the uplink power modifier.
[0140] In addition to any of the method, the apparatus, or the system on chip described above, the system on chip includes a third receiver module, the antenna switch threshold is a first antenna switch threshold, and the diversity controller is further implemented to: couple the third receiver module to the third antenna to enable reception via the third antenna or enable monitoring of performance of the third antenna; monitor, via the third receiver module, receive performance of the third antenna; compare, based on a second antenna switch threshold, the receive performance of the first antenna to the receive performance of the third antenna, the second antenna switch threshold configured based on
a difference in uplink power between the first antenna and the third antenna; and couple, based on the comparison, the transmitter module to one of: the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the first antenna switch threshold; or the third antenna in response to the receive performance of the third antenna exceeding the receive performance of the first antenna by the second antenna switch threshold.
[0141] Although various aspects of antenna selection with dynamic thresholds for user devices have been described in language specific to certain features, components, and/or methods, the subject matter of the appended claims is not necessarily limited to the specific features or methods described. Rather, the specific features and methods are disclosed as example implementations of antenna selection with dynamic thresholds and other equivalent features or methods are intended to be within the scope of the appended claims. Further, various different aspects are described, and it is to be appreciated that each described aspect can be implemented independently or in connection with other described aspects.
In the following, some examples are described:
Example 1: A method performed by a device having at least two antennas, the method comprising: monitoring, via a first receiver of the device, receive performance of a first antenna of the device, the first antenna being coupled to a transmitter of the device; monitoring, via a second receiver of the device, receive performance of a second antenna of the device;
comparing, based on an antenna switch threshold, the receive performance of the first antenna to the receive performance of the second antenna, the antenna switch threshold configured based on a difference in uplink power between the first antenna and the second antenna; and coupling, based on the comparison, the transmitter of the device to the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold, the transmitter being decoupled from the first antenna prior to coupling to the second antenna of the device.
Example 2: The method as recited by claim 1, wherein the antenna switch threshold is configured based on a difference in uplink power between the first antenna and the second antenna which results in: the antenna switch threshold being greater than a nominal value if an uplink power of first antenna is higher than an uplink power of the second antenna; or the antenna switch threshold being less than a nominal value if the uplink power of first antenna is lower than an uplink power of the second antenna.
Example 3 : The method of example 1 or 2, wherein the antenna switch threshold includes an offset or a modifier that is inversely proportional to a maximum transmit power level of the second antenna.
Example 4: The method of any of examples 1 to 3, further comprising configuring the antenna switch threshold by applying an uplink power modifier to a default antenna switch threshold.
Example 5: The method of example 4, wherein the uplink power modifier is based on at least a maximum transmit power level of the second antenna.
Example 6: The method of example 4 or 5, wherein the uplink power modifier is based on a one of: a nominal maximum transmit power level of the second antenna; or a maximum transmit power level of the first antenna to which the transmitter of the device is coupled.
Example 7: The method of any of examples 4 to 6, wherein the uplink power modifier applied to the default antenna switch threshold is based on one of: a state of at least one antenna switch of the device to which the first antenna or the second antenna is coupled; a configuration of the transmitter comprising a radio access technology setting, a channel setting, a frequency band setting, or a frequency sub-band setting; or a device state index of the device.
Example 8: The method of any of the preceding examples, further comprising determining the maximum transmit power level of the second antenna or the antenna switch threshold by accessing a lookup table of antenna switch information based on at least one of: a state of at least one antenna switch of the device to which the first antenna or the second antenna is coupled;
a configuration of the transmitter comprising a radio access technology setting, a channel setting, a frequency band setting, or a frequency sub-band setting; or a device state index of the device.
Example 9: The method of any of the preceding examples, wherein the receive performance of the first antenna or the receive performance of the second antenna is measured as at least one of a received signal strength, reference signal receive power, receive signal quality, carrier-to-interference ratio, signal-to-noise ratio, bit-error rate, or packet-error rate.
Example 10: The method of any of the preceding examples, wherein the device includes at least three antennas, the antenna switch threshold is a first antenna switch threshold, and the method further comprises: monitoring, via a third receiver of the device, receive performance of a third antenna of the device, the third receiver being a multiple-input multiple-output (MIMO) receiver; comparing, based on a second antenna switch threshold, the receive performance of the first antenna to the receive performance of the third antenna, the second antenna switch threshold configured based on a difference in uplink power between the first antenna and the third antenna; and coupling, based on the comparison, the transmitter of the device to one of: the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the first antenna switch threshold; or
the third antenna in response to the receive performance of the third antenna exceeding the receive performance of the first antenna by the second antenna switch threshold.
Example 11 : An apparatus for communicating over a wireless network comprising: at least two antennas that include a first antenna and a second antenna; a transceiver that includes a transmitter and a first receiver; a second receiver; and a diversity controller implemented to: couple the transceiver to the first antenna to enable communication via the first antenna; couple the second receiver to the second antenna to enable reception via the second antenna or enable monitoring of performance of the second antenna; monitor, via the first receiver, receive performance of the first antenna; monitor, via a second receiver, receive performance of the second antenna; compare, based on an antenna switch threshold, the receive performance of the first antenna to the receive performance of the second antenna, the antenna switch threshold configured based on a difference in uplink power between the first antenna and the second antenna of the apparatus; and couple, based on the comparison, the transceiver of the apparatus to the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold, the transceiver being decoupled from the first antenna prior to coupling to the second antenna of the apparatus.
Example 12: The apparatus of example 11, wherein the antenna switch threshold being configured based on a difference in uplink power between the first antenna and the second antenna which results in: the antenna switch threshold being greater than a nominal switch threshold value if an uplink power of first antenna is higher than an uplink power of the second antenna; or the antenna switch threshold being less than the nominal switch threshold value if the uplink power of first antenna is lower than an uplink power of the second antenna.
Example 13: The apparatus of example 11 or 12, wherein the antenna switch threshold corresponds to an offset or a modifier that is inversely proportional to a maximum power transmit level of the second antenna when coupled to the transceiver.
Example 14: The apparatus of any one of examples 11 to 13, wherein the diversity controller is further implemented to configure the antenna switch threshold by applying an uplink power modifier to a default antenna switch threshold.
Example 15: The apparatus of example 14, wherein the uplink power modifier is based on a maximum transmit power level of the second antenna and at least one of: a default maximum transmit power level of the second antenna; a nominal maximum transmit power level of the second antenna; or a maximum transmit power level of the first antenna to which the transmitter of the apparatus is coupled.
Example 16: The apparatus of example 14 or 15, wherein the uplink power modifier applied to the default antenna switch threshold is based on one of: a state of at least one antenna switch of the apparatus to which the first antenna or the second antenna is coupled; a configuration of the transmitter comprising at least one of a radio access technology setting, a frequency band setting, a frequency sub-band setting, or a channel setting; or a device state index of the apparatus.
Example 17: The apparatus of any of the preceding examples, wherein: the apparatus further comprises a memory storing a lookup table of antenna switch information; and the diversity controller is further implemented to determine the maximum transmit power level of the second antenna or the antenna switch threshold by accessing the lookup table of antenna switch information based on at least one of: a state of at least one antenna switch of the apparatus to which the first antenna or the second antenna is coupled; a configuration of the transmitter comprising a radio access technology setting, a channel setting, a frequency band setting, or a frequency sub-band setting; or a device state index of the apparatus.
Example 18: The apparatus of any of the preceding examples, wherein the apparatus includes at least three antennas and a third receiver, the antenna switch threshold is a first antenna switch threshold, and the diversity controller is further implemented to:
couple the third receiver to the third antenna to enable reception via the third antenna or enable monitoring of performance of the third antenna; monitor, via a third receiver, receive performance of the third antenna of the apparatus; compare, based on a second antenna switch threshold, the receive performance of the first antenna to the receive performance of the third antenna, the second antenna switch threshold configured based on a difference in uplink power between the first antenna and the third antenna of the apparatus; and couple, based on the comparison, the transmitter of the transceiver to one of: the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the first antenna switch threshold; or the third antenna in response to the receive performance of the third antenna exceeding the receive performance of the first antenna by the second antenna switch threshold.
Example 19: A system on chip comprising: a transceiver module that includes a transmitter module and a first receiver module; a second receiver module; at least one output configured to control radio-frequency (RF) switch circuitry; a processor core configured to execute processor-executable instructions; a hardware-based memory having processor-executable instructions stored thereon that, responsive to execution by the processor core, implement a diversity controller to:
cause, via the at least one output, coupling of the transceiver module to a first antenna to enable communication via the first antenna; cause, via the at least one output, coupling of the second receiver module to a second antenna to enable reception via the second antenna or enable monitoring of performance of the second antenna; monitor, via the first receiver module, receive performance of the first antenna; monitor, via a second receiver module, receive performance of the second antenna; compare, based on an antenna switch threshold, the receive performance of the first antenna to the receive performance of the second antenna, the antenna switch threshold configured based on a difference in uplink power between the first antenna and the second antenna; and couple, based on the comparison, the transmitter module of the system on chip to the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold, the transmitter module being decoupled from the first antenna prior to coupling to the second antenna.
Example 20: The system-on-chip of example 19, wherein the antenna switch threshold is configured based on a difference in uplink power between the first antenna and the second antenna which results in: the antenna switch threshold being greater than a nominal switch threshold value if an uplink power of first antenna is higher than an uplink power of the second antenna; or the antenna switch threshold being less than the nominal switch threshold value if the uplink power of first antenna is lower than the uplink power of the second antenna.
Example 21: The system-on-chip of example 19 or 20, wherein the antenna switch threshold includes an offset or a modifier that is inversely proportional to a maximum uplink power level of the second antenna.
Example 22: The system-on-chip of any of the examples 19 to 21, wherein the difference in uplink power between the first antenna and the second antenna is based on at least two of: a nominal or default maximum transmit power level of the second antenna; a maximum transmit power of the second antenna that is configured based on settings of the transceiver module or device state index information; or a maximum transmit power level of the first antenna to which the transmitter module is coupled.
Example 23 : The system-on-chip of example 22, wherein the diversity controller is further implemented to: determine an uplink power modifier based on at least one of: a state of the RF circuitry by which the system on chip is coupled to the first antenna or the second antenna; a configuration of the transmitter module comprising at least one of a radio access technology setting, a frequency band setting, a frequency sub-band setting, or a channel setting; or a device state index of a device in which the system on chip is embodied; and configure the antenna switch threshold by applying the uplink power modifier to a default antenna switch threshold.
Example 24: The system-on-chip of any of the preceding examples, wherein the system on chip further comprises a memory storing a lookup table of antenna switch information; and the diversity controller is further implemented to determine the antenna switch threshold by accessing the lookup table of antenna switch information based on at least one of: a state of the RF circuitry by which the system on chip is coupled to the first antenna or the second antenna; a configuration of the transmitter module comprising at least one of a radio access technology setting, a frequency band setting, a frequency sub-band setting, or a channel setting; or a device state index of a device in which the system on chip is embodied.
Example 25: The system-on-chip of example 24, wherein: entries of the lookup table of antenna switch information are indexed to at least one of the state of the RE circuitry, the configuration of the transmitter, or the device state index; an entry for the antenna switch threshold includes or indicates an offset from a nominal antenna switch threshold for the second antenna or an uplink power modifier associated with the antenna switch threshold; and the entry includes a maximum transmit power level that includes or indicates an offset from a nominal transmit power of the second antenna that is inversely proportional to the offset from the nominal antenna switch threshold or the uplink power modifier.
Example 26: The system-on-chip of any of the preceding examples, wherein the system on chip includes a third receiver module, the antenna switch threshold is a first antenna switch threshold, and the diversity controller is further implemented to: couple the third receiver module to the third antenna to enable reception via the third antenna or enable monitoring of performance of the third antenna; monitor, via the third receiver module, receive performance of the third antenna; compare, based on a second antenna switch threshold, the receive performance of the first antenna to the receive performance of the third antenna, the second antenna switch threshold configured based on a difference in uplink power between the first antenna and the third antenna; and couple, based on the comparison, the transmitter module to one of: the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the first antenna switch threshold; or the third antenna in response to the receive performance of the third antenna exceeding the receive performance of the first antenna by the second antenna switch threshold.
Claims
1. A method performed by a device having at least two antennas, the method comprising: monitoring, via a first receiver of the device, receive performance of a first antenna of the device, the first antenna being coupled to a transmitter of the device; monitoring, via a second receiver of the device, receive performance of a second antenna of the device; comparing, based on an antenna switch threshold, the receive performance of the first antenna to the receive performance of the second antenna, the antenna switch threshold configured based on a difference in uplink power between the first antenna and the second antenna; and coupling, based on the comparison, the transmitter of the device to the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold, the transmitter being decoupled from the first antenna prior to coupling to the second antenna of the device.
2. The method as recited by claim 1, wherein the antenna switch threshold is configured based on a difference in uplink power between the first antenna and the second antenna which results in: the antenna switch threshold being greater than a nominal value if an uplink power of the first antenna is higher than an uplink power of the second antenna; or the antenna switch threshold being less than a nominal value if the uplink power of the first antenna is lower than an uplink power of the second antenna.
3. The method as recited by claim 1 or 2, wherein the antenna switch threshold includes an offset or a modifier that is inversely proportional to a maximum transmit power level of the second antenna.
4. The method as recited by any of claims 1 to 3, further comprising configuring the antenna switch threshold by applying an uplink power modifier to a default antenna switch threshold.
5. The method as recited by claim 4, wherein the uplink power modifier is based on at least a maximum transmit power level of the second antenna.
6. The method as recited by claim 4 or 5, wherein the uplink power modifier is based on a one of: a nominal transmit power level of the second antenna; a nominal transmit power level of the first antenna; or a maximum transmit power level of the first antenna to which the transmitter of the device is coupled.
7. The method as recited by any of claims 4 to 6, wherein the uplink power modifier applied to the default antenna switch threshold is based on one of: a state of at least one antenna switch of the device to which the first antenna or the second antenna is coupled; a configuration of the transmitter comprising a radio access technology setting, a channel setting, a frequency band setting, or a frequency sub-band setting; or a device state index of the device.
8. The method as recited by any preceding claim, further comprising determining a maximum transmit power level of the second antenna or the antenna switch threshold by accessing a lookup table of antenna switch information based on at least one of: a state of at least one antenna switch of the device to which the first antenna or the second antenna is coupled; a configuration of the transmitter comprising a radio access technology setting, a channel setting, a frequency band setting, or a frequency sub-band setting; or a device state index of the device.
9. The method as recited by any preceding claim, wherein the receive performance of the first antenna or the receive performance of the second antenna is measured as at least one of a received signal strength, reference signal receive power, receive signal quality, carrier-to-interference ratio, signal-to-noise ratio, bit-error rate, or packet-error rate.
10. The method as recited by any preceding claim, wherein the device includes at least three antennas, the antenna switch threshold is a first antenna switch threshold, and the method further comprises: monitoring, via a third receiver of the device, receive performance of a third antenna of the device, the third receiver being a multiple-input multiple-output (MIMO) receiver; comparing, based on a second antenna switch threshold, the receive performance of the first antenna to the receive performance of the third antenna, the second antenna switch threshold configured based on a difference in uplink power between the first antenna and the third antenna; and coupling, based on the comparison and after decoupling from the first antenna, the transmitter of the device to one of: the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the first antenna switch threshold; or the third antenna in response to the receive performance of the third antenna exceeding the receive performance of the first antenna by the second antenna switch threshold.
11. An apparatus for communicating over a wireless network comprising: at least two antennas that include a first antenna and a second antenna; a transceiver that includes a transmitter and a first receiver; a second receiver; and a diversity controller implemented to: couple the transceiver to the first antenna to enable communication via the first antenna; couple the second receiver to the second antenna to enable reception via the second antenna or enable monitoring of performance of the second antenna; monitor, via the first receiver, receive performance of the first antenna; monitor, via a second receiver, receive performance of the second antenna of the apparatus; compare, based on an antenna switch threshold, the receive performance of the first antenna to the receive performance of the second antenna, the antenna switch threshold configured based on a difference in uplink power between the first antenna and the second antenna of the apparatus; and couple, based on the comparison, the transceiver of the apparatus to the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna switch threshold, the transceiver being decoupled from the first antenna prior to coupling to the second antenna of the apparatus.
12. The apparatus as recited by claim 11 , wherein the antenna switch threshold being configured based on a difference in uplink power between the first antenna and the second antenna which results in: the antenna switch threshold being greater than a nominal switch threshold value if an uplink power of first antenna is higher than an uplink power of the second antenna; or the antenna switch threshold being less than the nominal switch threshold value if the uplink power of first antenna is lower than an uplink power of the second antenna.
13. The apparatus as recited by claim 11 or 12, wherein the antenna switch threshold corresponds to an offset or a modifier that is inversely proportional to a maximum power transmit level of the second antenna when coupled to the transceiver.
14. The apparatus as recited by any one of claims 11 to 13, wherein the diversity controller is further implemented to configure the antenna switch threshold by applying an uplink power modifier to a default antenna switch threshold.
15. The apparatus as recited by claim 14, wherein the uplink power modifier is based on a maximum transmit power level of the second antenna and at least one of: a default maximum transmit power level of the second antenna; a nominal maximum transmit power level of the second antenna; or a maximum transmit power level of the first antenna to which the transmitter of the apparatus is coupled.
16. The apparatus as recited by claim 14 or 15, wherein the uplink power modifier applied to the default antenna switch threshold is based on one of: a state of at least one antenna switch of the apparatus to which the first antenna or the second antenna is coupled; a configuration of the transmitter comprising at least one of a radio access technology setting, a frequency band setting, a frequency sub-band setting, or a channel setting; or a device state index of the apparatus.
17. The apparatus as recited by claim 16, wherein: the apparatus further comprises a memory storing a lookup table of antenna switch information; and the diversity controller is further implemented to determine a maximum transmit power level of the second antenna or the antenna switch threshold by accessing the lookup table of antenna switch information based on at least one of: a state of at least one antenna switch of the apparatus to which the first antenna or the second antenna is coupled; a configuration of the transmitter comprising a radio access technology setting, a channel setting, a frequency band setting, or a frequency sub-band setting; or a device state index of the apparatus.
18. The apparatus as recited by any of the preceding claims, wherein the apparatus includes at least three antennas and a third receiver, the antenna switch threshold is a first antenna switch threshold, and the diversity controller is further implemented to: couple the third receiver to the third antenna to enable reception via the third antenna or enable monitoring of performance of the third antenna; monitor, via a third receiver, receive performance of the third antenna of the apparatus; compare, based on a second antenna switch threshold, the receive performance of the first antenna to the receive performance of the third antenna, the second antenna switch threshold configured based on a difference in uplink power between the first antenna and the third antenna of the apparatus; and couple, based on the comparison, the transmitter of the transceiver to one of: the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the first antenna switch threshold; or the third antenna in response to the receive performance of the third antenna exceeding the receive performance of the first antenna by the second antenna switch threshold.
19. A system on chip comprising: a transceiver module that includes a transmitter module and a first receiver module; a second receiver module; at least one output configured to control radio-frequency switch circuitry; a processor core configured to execute processor-executable instructions; a hardware-based memory having processor-executable instructions stored thereon that, responsive to execution by the processor core, implement a diversity controller to: cause, via the at least one output, coupling of the transceiver module to a first antenna to enable communication via the first antenna; cause, via the at least one output, coupling of the second receiver module to a second antenna to enable reception via the second antenna or enable monitoring of performance of the second antenna; monitor, via the first receiver module, receive performance of the first antenna; monitor, via a second receiver module, receive performance of the second antenna; compare, based on an antenna switch threshold, the receive performance of the first antenna to the receive performance of the second antenna, the antenna switch threshold configured based on a difference in uplink power between the first antenna and the second antenna; and couple, based on the comparison, the transmitter module of the system on chip to the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the antenna
switch threshold, the transmitter module being decoupled from the first antenna prior to coupling to the second antenna.
20. The apparatus as recited by claim 19, wherein the antenna switch threshold is configured based on a difference in uplink power between the first antenna and the second antenna which results in: the antenna switch threshold being greater than a nominal switch threshold value if an uplink power of first antenna is higher than an uplink power of the second antenna; or the antenna switch threshold being less than the nominal switch threshold value if the uplink power of first antenna is lower than the uplink power of the second antenna.
21. The apparatus as recited by claim 19 or 20, wherein the antenna switch threshold includes an offset or a modifier that is inversely proportional to a maximum uplink power level of the second antenna.
22. The system on chip as recited by any one of claims 19 to 21, wherein the difference in uplink power between the first antenna and the second antenna is based on at least two of: a nominal or default maximum transmit power level of the second antenna; a maximum transmit power of the second antenna that is configured based on settings of the transceiver module or device state index information; or a maximum transmit power level of the first antenna to which the transmitter module is coupled.
23. The system on chip as recited by claim 22, wherein the diversity controller is further implemented to: determine an uplink power modifier based on at least one of: a state of the radio-frequency circuitry by which the system on chip is coupled to the first antenna or the second antenna; a configuration of the transmitter module comprising at least one of a radio access technology setting, a frequency band setting, a frequency sub-band setting, or a channel setting; or a device state index of a device in which the system on chip is embodied; and configure the antenna switch threshold by applying the uplink power modifier to a default antenna switch threshold.
24. The system on chip as recited by any one of claims 19 to 23, wherein the system on chip further comprises a memory storing a lookup table of antenna switch information; and the diversity controller is further implemented to determine the antenna switch threshold by accessing the lookup table of antenna switch information based on at least one of: a state of the radio-frequency circuitry by which the system on chip is coupled to the first antenna or the second antenna; a configuration of the transmitter module comprising at least one of a radio access technology setting, a frequency band setting, a frequency sub-band setting, or a channel setting; or a device state index of a device in which the system on chip is embodied.
25. The system on chip as recited by claim 24, wherein: entries of the lookup table of antenna switch information are indexed to at least one of the state of the radio-frequency circuitry, the configuration of the transmitter, or the device state index; an entry for the antenna switch threshold includes or indicates an offset from a nominal antenna switch threshold for the second antenna or an uplink power modifier associated with the antenna switch threshold; and the entry includes a maximum transmit power level that includes or indicates an offset from a nominal transmit power of the second antenna that is inversely proportional to the offset from the nominal antenna switch threshold or the uplink power modifier.
26. The system on chip as recited by any of claims 19 to 25, wherein the system on chip includes a third receiver module, the antenna switch threshold is a first antenna switch threshold, and the diversity controller is further implemented to: couple the third receiver module to the third antenna to enable reception via the third antenna or enable monitoring of performance of the third antenna; monitor, via the third receiver module, receive performance of the third antenna; compare, based on a second antenna switch threshold, the receive performance of the first antenna to the receive performance of the third antenna, the second antenna switch threshold configured based on a difference in uplink power between the first antenna and the third antenna; and couple, based on the comparison, the transmitter module to one of:
the second antenna in response to the receive performance of the second antenna exceeding the receive performance of the first antenna by the first antenna switch threshold; or the third antenna in response to the receive performance of the third antenna exceeding the receive performance of the first antenna by the second antenna switch threshold.
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
TW109128888A TW202115961A (en) | 2019-10-04 | 2020-08-25 | Antenna selection with dynamic thresholds for user devices |
Applications Claiming Priority (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US201962910679P | 2019-10-04 | 2019-10-04 | |
US62/910,679 | 2019-10-04 |
Publications (1)
Publication Number | Publication Date |
---|---|
WO2021066855A1 true WO2021066855A1 (en) | 2021-04-08 |
Family
ID=69160253
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
PCT/US2019/064914 WO2021066855A1 (en) | 2019-10-04 | 2019-12-06 | Antenna selection with dynamic thresholds for user devices |
Country Status (2)
Country | Link |
---|---|
TW (1) | TW202115961A (en) |
WO (1) | WO2021066855A1 (en) |
Cited By (7)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN113271113A (en) * | 2021-06-03 | 2021-08-17 | Oppo广东移动通信有限公司 | Radio frequency system, radio frequency assembly and communication equipment |
CN113395084A (en) * | 2021-06-11 | 2021-09-14 | 维沃移动通信有限公司 | Antenna switching method and device and electronic equipment |
CN113676271A (en) * | 2021-07-05 | 2021-11-19 | 维沃移动通信有限公司 | Method and device for switching antennas |
CN113824473A (en) * | 2021-09-30 | 2021-12-21 | 联想(北京)有限公司 | Control method, device and communication system |
WO2023014379A1 (en) * | 2021-08-06 | 2023-02-09 | Google Llc | Spatial averaging of transmission power to reduce power cutbacks |
WO2023064044A1 (en) * | 2021-10-11 | 2023-04-20 | Altiostar Networks, Inc. | Beamforming weights compression on a fronthaul link in wireless communications systems |
WO2024035396A1 (en) * | 2022-08-09 | 2024-02-15 | Google Llc | New radio-long term evolution (nr-lte) antenna swapping for optimal link performance |
Citations (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20130035051A1 (en) * | 2011-08-01 | 2013-02-07 | Mujtaba Syed A | Antenna switching system with adaptive switching criteria |
US20130308554A1 (en) * | 2012-05-21 | 2013-11-21 | Qualcomm Incorporated | Systems, apparatus, and methods for antenna selection |
US20150094003A1 (en) * | 2013-09-30 | 2015-04-02 | Qualcomm Incorporated | Systems and methods for transmit antenna switching |
-
2019
- 2019-12-06 WO PCT/US2019/064914 patent/WO2021066855A1/en active Application Filing
-
2020
- 2020-08-25 TW TW109128888A patent/TW202115961A/en unknown
Patent Citations (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20130035051A1 (en) * | 2011-08-01 | 2013-02-07 | Mujtaba Syed A | Antenna switching system with adaptive switching criteria |
US20130308554A1 (en) * | 2012-05-21 | 2013-11-21 | Qualcomm Incorporated | Systems, apparatus, and methods for antenna selection |
US20150094003A1 (en) * | 2013-09-30 | 2015-04-02 | Qualcomm Incorporated | Systems and methods for transmit antenna switching |
Cited By (9)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN113271113A (en) * | 2021-06-03 | 2021-08-17 | Oppo广东移动通信有限公司 | Radio frequency system, radio frequency assembly and communication equipment |
CN113395084A (en) * | 2021-06-11 | 2021-09-14 | 维沃移动通信有限公司 | Antenna switching method and device and electronic equipment |
WO2022257913A1 (en) * | 2021-06-11 | 2022-12-15 | 维沃移动通信有限公司 | Antenna switching method and apparatus, and electronic device |
CN113676271A (en) * | 2021-07-05 | 2021-11-19 | 维沃移动通信有限公司 | Method and device for switching antennas |
WO2023014379A1 (en) * | 2021-08-06 | 2023-02-09 | Google Llc | Spatial averaging of transmission power to reduce power cutbacks |
CN113824473A (en) * | 2021-09-30 | 2021-12-21 | 联想(北京)有限公司 | Control method, device and communication system |
CN113824473B (en) * | 2021-09-30 | 2023-07-21 | 联想(北京)有限公司 | Control method, device and communication system |
WO2023064044A1 (en) * | 2021-10-11 | 2023-04-20 | Altiostar Networks, Inc. | Beamforming weights compression on a fronthaul link in wireless communications systems |
WO2024035396A1 (en) * | 2022-08-09 | 2024-02-15 | Google Llc | New radio-long term evolution (nr-lte) antenna swapping for optimal link performance |
Also Published As
Publication number | Publication date |
---|---|
TW202115961A (en) | 2021-04-16 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
WO2021066855A1 (en) | Antenna selection with dynamic thresholds for user devices | |
US11646766B2 (en) | Enhanced sounding reference signaling for uplink beam tracking | |
KR102407560B1 (en) | Beam management without beam correspondence | |
US11031988B2 (en) | Performance-based antenna selection for user devices | |
TWI706637B (en) | Beam interpolation in massive mimo systems | |
US10757733B2 (en) | Throughput performance for LAA and DSDS deployments | |
US9307457B2 (en) | User equipment with selective neighbor cell detection | |
US20170272108A1 (en) | Modem adaptive antenna tuning (maat) | |
US20140273884A1 (en) | Wlan diversity/mimo using shared antenna | |
US10432292B2 (en) | Adaptive multiplexing and transmit/receive diversity | |
KR20220103891A (en) | Codebook subset restriction for enhanced type ii channel state information reporting | |
US11647556B2 (en) | Negotiation on bearer type configurations | |
US9712224B2 (en) | Antenna switching for dual radio devices | |
US9768825B2 (en) | Wi-Fi adaptive transmit antenna selection | |
US20130337815A1 (en) | Method and Apparatus for Managing Co-Existence Interference | |
US10020862B2 (en) | Wi-Fi adaptive receiver diversity | |
KR20220163335A (en) | Cell edge reliability improvements | |
US11641642B2 (en) | UE beam reselection procedure with CSI reporting and beam switch indication | |
US20160057645A1 (en) | Communication control device, communication control method, terminal device, and information processing device | |
US20230208474A1 (en) | Apparatus, system and method of body proximity sensing | |
US10187807B2 (en) | Antenna array uplink sector selection and deselection based on coexistence with other in-device radios | |
WO2016070321A1 (en) | Transmission mode switching method and base station | |
US20230387978A1 (en) | Antenna switching for improved in-device co-existence performance | |
WO2017023354A1 (en) | Radio resource management measurement and radio resource control protocol for licensed shared access |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
121 | Ep: the epo has been informed by wipo that ep was designated in this application |
Ref document number: 19836224Country of ref document: EPKind code of ref document: A1 |
|
NENP | Non-entry into the national phase |
Ref country code: DE |
|
122 | Ep: pct application non-entry in european phase |
Ref document number: 19836224Country of ref document: EPKind code of ref document: A1 |