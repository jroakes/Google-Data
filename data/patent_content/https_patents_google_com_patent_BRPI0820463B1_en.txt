BRPI0820463B1 - METHOD AND APPARATUS FOR AUDIO SIGNAL BAND WIDTH EXTENSION - Google Patents
METHOD AND APPARATUS FOR AUDIO SIGNAL BAND WIDTH EXTENSION Download PDFInfo
- Publication number
- BRPI0820463B1 BRPI0820463B1 BRPI0820463-2A BRPI0820463A BRPI0820463B1 BR PI0820463 B1 BRPI0820463 B1 BR PI0820463B1 BR PI0820463 A BRPI0820463 A BR PI0820463A BR PI0820463 B1 BRPI0820463 B1 BR PI0820463B1
- Authority
- BR
- Brazil
- Prior art keywords
- signal
- energy
- band
- bandwidth
- digital audio
- Prior art date
Links
Classifications
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L19/00—Speech or audio signals analysis-synthesis techniques for redundancy reduction, e.g. in vocoders; Coding or decoding of speech or audio signals, using source filter models or psychoacoustic analysis
- G10L19/04—Speech or audio signals analysis-synthesis techniques for redundancy reduction, e.g. in vocoders; Coding or decoding of speech or audio signals, using source filter models or psychoacoustic analysis using predictive techniques
- G10L19/06—Determination or coding of the spectral characteristics, e.g. of the short-term prediction coefficients
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L21/00—Processing of the speech or voice signal to produce another audible or non-audible signal, e.g. visual or tactile, in order to modify its quality or its intelligibility
- G10L21/02—Speech enhancement, e.g. noise reduction or echo cancellation
- G10L21/038—Speech enhancement, e.g. noise reduction or echo cancellation using band spreading techniques
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L19/00—Speech or audio signals analysis-synthesis techniques for redundancy reduction, e.g. in vocoders; Coding or decoding of speech or audio signals, using source filter models or psychoacoustic analysis
- G10L19/02—Speech or audio signals analysis-synthesis techniques for redundancy reduction, e.g. in vocoders; Coding or decoding of speech or audio signals, using source filter models or psychoacoustic analysis using spectral analysis, e.g. transform vocoders or subband vocoders
-
- G—PHYSICS
- G10—MUSICAL INSTRUMENTS; ACOUSTICS
- G10L—SPEECH ANALYSIS OR SYNTHESIS; SPEECH RECOGNITION; SPEECH OR VOICE PROCESSING; SPEECH OR AUDIO CODING OR DECODING
- G10L21/00—Processing of the speech or voice signal to produce another audible or non-audible signal, e.g. visual or tactile, in order to modify its quality or its intelligibility
- G10L21/02—Speech enhancement, e.g. noise reduction or echo cancellation
Description
MÉTODO E APARELHO PARA EXTENSÃO DE LARGURA DE BANDA DEMETHOD AND APPARATUS FOR EXTENDING BAND WIDTH
SINAL DE ÁUDIOAUDIO SIGNAL
CAMPO TÉCNICOTECHNICAL FIELD
Esta invenção se refere geralmente à renderização de conteúdo audível e mais particularmente às técnicas de extensão de largura de banda.This invention generally relates to the rendering of audible content and more particularly to bandwidth extension techniques.
ANTECEDENTESBACKGROUND
A renderização audível de conteúdo de áudio a partir de uma representação digital compreende uma área conhecida de empenho. Em alguns cenários de aplicação a representação digital compreende uma largura de banda correspondente completa como pertencendo a uma amostra de áudio original. Em tal caso, a renderização audível pode compreender uma saída de som. altamente precisa e natural. Tal abordagem, contudo, requer consideráveis recursos de processamento para acomodar a quantidade correspondente de dados. Em muitos cenários de aplicação, tal como, por exemplo, cenários de comunicação sem fio, tal quantidade de informação não pode ser sempre suportada adequadamente.Audible rendering of audio content from a digital representation comprises a known area of commitment. In some application scenarios the digital representation comprises a complete corresponding bandwidth as belonging to an original audio sample. In such a case, the audible rendering may comprise a sound output. highly accurate and natural. Such an approach, however, requires considerable processing resources to accommodate the corresponding amount of data. In many application scenarios, such as wireless communication scenarios, this amount of information cannot always be adequately supported.
Para acomodar tal limitação, as assim chamadas técnicas de fala de banda estreita podem servir para limitar a quantidade de informação mediante, por sua vez, limitação da representação a menos do que a largura de banda correspondente completa correspondendo a uma amostra de áudio original. Apenas como exemplo a esse respeito, embora a fala natural inclua componentes significativos de até 8 kHz (ou superior) , uma representação de banda estreita pode fornecer informação apenas com relação, digamos, a uma faixa de 300 - 3.400 Hz. O conteúdo resultante, quando renderizado audível, é tipicamenteTo accommodate such a limitation, so-called narrowband speech techniques can serve to limit the amount of information by, in turn, limiting the representation to less than the full corresponding bandwidth corresponding to an original audio sample. Just as an example in this regard, although natural speech includes significant components up to 8 kHz (or higher), a narrow band representation can provide information only with respect to, say, a range of 300 - 3,400 Hz. The resulting content, when rendered audible, it is typically
2/37 suficientemente inteligível para suportar as necessidades funcionais de comunicação baseada em fala. Infelizmente, contudo, processamento de fala de banda estreita também tende a produzir fala que soa abafada e pode até mesmo ter inteligibilidade reduzida em comparação com fala de banda completa.2/37 sufficiently intelligible to support the functional needs of speech-based communication. Unfortunately, however, narrowband speech processing also tends to produce speech that sounds muffled and may even have reduced intelligibility compared to fullband speech.
Para atender a essa necessidade, técnicas de extensão de largura de banda algumas vezes sã empregadas. Pode-se gerar artificialmente a informação ausente nas bandas superior e/ou inferior com base na informação de banda estreita disponível assim como outra informação para selecionar informação que pode ser adicionada ao conteúdo de banda estreita para assim sintetizar um sinal de pseudobanda larga (ou completa). Utilizando tais técnicas, por exemplo, é possível transformar a fala de banda estreita na faixa de 300 - 3.400 Hz em fala de banda larga, digamos, na faixa de 100 - 8.000 Hz. Com essa finalidade, uma peça de informação crucial que é exigida é o envelope espectral na banda alta (3.400 - 8.000 Hz) . Se o envelope espectral de banda larga for estimado, o envelope espectral de banda alta pode então normalmente ser facilmente extraído do mesmo. Pode-se considerar o envelope espectral de banda alta como compreendido de um formato e de um ganho (ou equivalentemente, energia).To meet this need, bandwidth extension techniques are sometimes employed. You can artificially generate the missing information in the upper and / or lower bands based on the available narrowband information as well as other information to select information that can be added to the narrowband content to synthesize a broad (or complete) pseudo-band signal. ). Using such techniques, for example, it is possible to transform narrowband speech in the range of 300 - 3,400 Hz into broadband speech, say, in the range of 100 - 8,000 Hz. For this purpose, a crucial piece of information that is required is the spectral envelope in the high band (3,400 - 8,000 Hz). If the broadband spectral envelope is estimated, the highband spectral envelope can then normally be easily extracted from it. The high-band spectral envelope can be considered as comprised of a format and a gain (or equivalent, energy).
Mediante uma abordagem, por exemplo, o formato de envelope espectral de banda alta é estimado mediante estimação do envelope espectral de banda larga a partir do envelope espectral de banda estreita através de mapeamento de livro de códigos. A energia de banda alta é então estimada mediante ajuste da energia dentro da seção deUsing an approach, for example, the high band spectral envelope format is estimated by estimating the broad band spectral envelope from the narrow band spectral envelope through codebook mapping. The high band energy is then estimated by adjusting the energy within the
3/37 banda estreita do envelope espectral de banda larga para combinar com a energia do envelope espectral de banda estreita. Nessa abordagem, o formato do envelope espectral de banda alta determina a energia de banda alta e quaisquer erros na estimativa do formato também afetará correspodentemente as estimativas da energia de banda alta.3/37 narrowband of the broadband spectral envelope to match the energy of the narrowband spectral envelope. In this approach, the shape of the high band spectral envelope determines the high band energy and any errors in the format estimate will also correspondingly affect the high band energy estimates.
Em outra abordagem, o formato de envelope espectral de banda alta e a energia de banda alta são estimados separadamente, e o envelope espectral de banda alta que é finalmente usado é ajustado para combinar com a energia de banda alta estimada. Mediante uma abordagem relacionada à energia de banda alta estimada é usada, além de outros parâmetros, para determinar o formato de envelope espectral de banda alta. Contudo, o envelope espectral de banda alta resultante não é necessariamente garantido em termos de ter a energia de banda alta apropriada. Uma etapa adicional, portanto, é exigida para ajustar a energia do envelope espectral de banda alta para o valor estimado. A menos que se tome cuidado especial, essa abordagem resultará em uma descontinuidade no envelope espectral de banda larga no limite entre a banda estreita e a banda alta. Embora as abordagens existentes para extensão de largura de banda e, particularmente, para estimação de envelope de banda alta sejam razoavelmente bem-sucedidas, elas não produzem necessariamente uma fala resultante de qualidade adequada em ao menos alguns cenários de aplicação.In another approach, the high-band spectral envelope format and the high-band energy are estimated separately, and the high-band spectral envelope that is finally used is adjusted to match the estimated high-band energy. Through an approach related to the estimated high band energy, it is used, in addition to other parameters, to determine the high band spectral envelope format. However, the resulting high-band spectral envelope is not necessarily guaranteed in terms of having the appropriate high-band energy. An additional step, therefore, is required to adjust the energy of the high-band spectral envelope to the estimated value. Unless special care is taken, this approach will result in a discontinuity in the broadband spectral envelope at the boundary between the narrow band and the high band. While existing approaches to extending bandwidth and, particularly, to estimating high-bandwidth envelopes are reasonably successful, they do not necessarily produce speech of adequate quality in at least some application scenarios.
Para gerar fala estendida de largura de banda de qualidade aceitável, o número de artefatos em tal fala deve ser minimizado. Sabe-se que estimativa excessiva de energia de banda alta resulta em artefatos irritantes. A estimativaTo generate extended speech of acceptable quality bandwidth, the number of artifacts in such speech must be minimized. Excessive estimation of high bandwidth energy is known to result in irritating artifacts. The estimate
4/37 incorreta do formato de envelope espectral de banda alta também pode levar a artefatos, mas esses artefatos normalmente são mais suaves e são facilmente mascarados pela fala de banda estreita.The incorrect 4/37 of the high-band spectral envelope format can also lead to artifacts, but these artifacts are usually softer and are easily masked by narrow-band speech.
BREVE DESCRIÇÃO DOS DESENHOSBRIEF DESCRIPTION OF THE DRAWINGS
As necessidades mencionadas acima são ao menos parcialmente satisfeitas através o fornecimento do método e equipamento para facilitar o fornecimento e uso de um valor de energia para determinar um formato e envelope espectral para conteúdo de largura de banda fora de sinal, descrito na descrição detalhada seguinte, particularmente quando estudados em conjunto com os desenhos, nos quais:The needs mentioned above are at least partially met by providing the method and equipment to facilitate the provision and use of an energy value to determine a format and spectral envelope for out-of-signal bandwidth content, described in the following detailed description, particularly when studied in conjunction with the drawings, in which:
A Figura 1 compreende um diagrama de fluxo conforme configurado de acordo com as várias modalidades da invenção;Figure 1 comprises a flow diagram as configured according to the various embodiments of the invention;
A Figura compreende um gráfico conforme configurado de acordo com as várias modalidades da invenção;The Figure comprises a graph as configured according to the various modalities of the invention;
A Figura 3 compreende um diagrama de blocos conforme configurado de acordo com as várias modalidades daFigure 3 comprises a block diagram as configured according to the various modalities of the
A Figura 4 compreende um diagrama de blocos conforme configurado de acordo com as várias modalidades daFigure 4 comprises a block diagram as configured according to the various modalities of the
A Figura 5 compreende um diagrama de blocos conforme configurado de acordo com as várias modalidades da invenção; eFigure 5 comprises a block diagram as configured according to the various modalities of the invention; and
A Figura compreende um gráfico conforme configurado de acordo com as várias modalidades da invenção.The Figure comprises a graph as configured according to the various modalities of the invention.
5/375/37
Aqueles versados na técnica considerarão que os elementos nas figuras são ilustrados para simplicidade e clareza e não foram necessariamente traçados em escala. Por exemplo, as dimensões e/ou o posicionamento relativo e alguns dos elementos nas figuras podem ser exagerados em relação aos outros elementos para ajudar a melhorar o entendimento das várias modalidades da presente invenção. Além disso, elementos comuns, mas bem-entendidos que são úteis ou necessários em uma modalidade comercialmente praticável frequentemente não são ilustrados para facilitar uma vista menos obstruída dessas várias modalidades da presente invenção. Será considerado ainda que certas ações e/ou etapas podem ser descritas ou ilustradas em uma ordem de ocorrência específica enquanto aqueles versados na técnica entenderão que tal especificidade com relação à sequência não é efetivamente exigida. Também será entendido que os termos e expressões aqui usados têm o significado comum conforme concedido a tais termos e expressões com relação às suas áreas respectivas correspondentes de consulta e estudo exceto onde significados específicos tiverem sido de outro modo aqui apresentados.Those skilled in the art will consider that the elements in the figures are illustrated for simplicity and clarity and have not necessarily been drawn to scale. For example, the dimensions and / or relative positioning and some of the elements in the figures can be exaggerated in relation to the other elements to help improve the understanding of the various modalities of the present invention. In addition, common but well-understood elements that are useful or necessary in a commercially practicable embodiment are often not illustrated to facilitate a less obstructed view of these various embodiments of the present invention. It will also be considered that certain actions and / or steps can be described or illustrated in a specific order of occurrence while those skilled in the art will understand that such specificity in relation to the sequence is not actually required. It will also be understood that the terms and expressions used herein have the common meaning as given to such terms and expressions with respect to their respective corresponding areas of consultation and study except where specific meanings have been otherwise presented herein.
DESCRIÇÃO DETALHADADETAILED DESCRIPTION
Em termos gerais, de acordo com essas várias modalidades, é fornecido um sinal de áudio digital que tem uma largura de banda de sinal correspondente, e então é fornecido um valor de energia que corresponde a pelo menos uma estimativa da energia de largura de banda fora de sinal como correspondendo àquele sinal de áudio digital. Pode-se então utilizar esse valor de energia para simultaneamente determinar ambos, um formato de envelope espectral e umaGenerally speaking, according to these various modalities, a digital audio signal is provided that has a corresponding signal bandwidth, and then an energy value is provided that corresponds to at least an estimate of the outside bandwidth energy. signal as corresponding to that digital audio signal. You can then use that energy value to simultaneously determine both a spectral envelope format and a
6/37 energia correspondente adequada para o formato de envelope espectral para conteúdo de largura de banda fora de sinal correspondendo ao sinal de áudio digital. Por intermédio de uma abordagem, se desejado, combina-se (em uma base de quadro a quadro) o sinal de áudio digital com o conteúdo de largura de banda fora de sinal para fornecer uma versão estendida de largura de banda do sinal de áudio digital para ser renderizado de forma audível para assim aperfeiçoar a qualidade de áudio correspondente do sinal de áudio digital conforme assim renderizado.6/37 corresponding energy suitable for the spectral envelope format for out-of-signal bandwidth content corresponding to the digital audio signal. Using an approach, if desired, the digital audio signal is combined (on a frame-by-frame basis) with the out-of-signal bandwidth content to provide an extended bandwidth version of the digital audio signal. to be audibly rendered so as to optimize the corresponding audio quality of the digital audio signal as thus rendered.
Assim configurada, a energia fora de banda sugere o envelope espectral fora de banda, isto é, o valor de energia estimado é usado para determinar o envelope espectral fora de banda, isto é, um formato espectral e uma energia adequada correspondente. Tal abordagem comprova ser relativamente simples de ser implementada e processada. O parâmetro de energia fora de banda único é mais fácil de controlar e manipular o envelope espectral fora de banda multidimensional. Como resultado, essa abordagem também tende a produzir conteúdo audível resultante de uma qualidade superior a ao menos algumas das abordagens da técnica anterior usadas até o presente.Thus configured, the out-of-band energy suggests the out-of-band spectral envelope, that is, the estimated energy value is used to determine the out-of-band spectral envelope, that is, a spectral format and a corresponding appropriate energy. Such an approach proves to be relatively simple to implement and process. The single out-of-band energy parameter is easier to control and manipulate the multidimensional out-of-band spectral envelope. As a result, this approach also tends to produce audible content resulting from a higher quality than at least some of the prior art approaches used to date.
Essas e outras vantagens podem se tornar mais evidentes a partir de uma análise rigorosa da descrição detalhada seguinte. Com referência agora aos desenhos, e particularmente à Figura 1, um processo correspondente 100 pode começar com o fornecimento 101 de um sinal de áudio digital que tem uma largura de banda de sinal correspondente. Em um cenário de aplicação típico, isso compreenderá o fornecimento de uma pluralidade de quadrosThese and other advantages may become more evident from a rigorous analysis of the following detailed description. With reference now to the drawings, and particularly to Figure 1, a corresponding process 100 can begin with providing 101 of a digital audio signal that has a corresponding signal bandwidth. In a typical application scenario, this will comprise providing a plurality of frames
7/37 de tal conteúdo. Esses ensinamentos prontamente acomodarão o processamento de cada tal quadro de acordo com as etapas descritas. Por intermédio de uma abordagem, por exemplo, cada quadro pode corresponder a 10-40 milissegundos do conteúdo de áudio original.7/37 of such content. These teachings will readily accommodate the processing of each such framework according to the steps outlined. Through an approach, for example, each frame can correspond to 10-40 milliseconds of the original audio content.
Isso pode compreender, por exemplo, fornecer sinal de áudio digital que compreende conteúdo vocal sintetizado. Tal é o caso, por exemplo, ao se empregar esses ensinamentos em conjunto com o conteúdo de fala vocodificado recebido em um dispositivo de comunicação sem fio portátil. Também existem outras possibilidades, contudo, como será bem entendido por aqueles versados na técnica. Por exemplo, o sinal de áudio digital poderia de outro modo compreender um sinal de fala original ou uma versão outra vez amostrada de um sinal de fala original ou de um conteúdo de fala sintetizado.This can comprise, for example, providing digital audio signal that comprises synthesized vocal content. Such is the case, for example, when using these teachings in conjunction with the vocalized speech content received on a portable wireless communication device. There are also other possibilities, however, as will be well understood by those skilled in the art. For example, the digital audio signal could otherwise comprise an original speech signal or a re-sampled version of an original speech signal or synthesized speech content.
Com referência momentaneamente à Figura 2, será entendido que esse sinal de áudio digital pertence a algum sinal de áudio original 201 que tem uma largura de banda de sinal original correspondente 202. Essa largura de banda de sinal correspondente original 202 tipicamente será maior do que a largura de banda de sinal anteriormente mencionada conforme corresponde ao sinal de áudio digital. Isso pode ocorrer, por exemplo, quando o sinal de áudio digital representa apenas uma porção 203 do sinal de áudio original 201 com outras porções sendo deixadas fora de banda. No exemplo ilustrativo mostrado, isso inclui uma porção de banda baixa (204) e uma porção de banda alta (205). Aqueles versados na técnica reconhecerão que esse exemplo tem um propósito apenas ilustrativo e que a porção nãoReferring briefly to Figure 2, it will be understood that that digital audio signal belongs to some original audio signal 201 that has a corresponding original signal bandwidth 202. That original corresponding signal bandwidth 202 will typically be greater than the signal bandwidth previously mentioned as it corresponds to the digital audio signal. This can occur, for example, when the digital audio signal represents only a portion 203 of the original audio signal 201 with other portions being left out of band. In the illustrative example shown, this includes a low band portion (204) and a high band portion (205). Those skilled in the art will recognize that this example is for illustrative purposes only and that the portion does not
8/37 representada pode compreender apenas uma porção de banda baixa ou uma porção de banda alta. Esses ensinamentos também seriam aplicáveis para uso em um cenário de aplicação onde a porção não representada cai na banda média para duas ou mais porções representadas (não mostradas).8/37 shown may comprise only a low band portion or a high band portion. These teachings would also be applicable for use in an application scenario where the unrepresented portion falls in the middle band for two or more represented portions (not shown).
Portanto, será facilmente entendido que a porção (porções) não representada do sinal de áudio original 201 compreende conteúdo que esses ensinamentos aqui presentes podem razoavelmente procurar substituir ou de outro modo representar de alguma forma razoável e aceitável. Também será entendido que essa largura de banda de sinal ocupa apenas uma porção da largura de banda Nyquist determinada pela frequência de amostragem relevante. Isso, por sua vez, será entendido como proporcionando adicionalmente uma região de frequência na qual efetuar a extensão de largura de banda desejada.Therefore, it will be readily understood that the unrepresented portion (portions) of the original audio signal 201 comprises content that these teachings herein can reasonably seek to replace or otherwise represent in some reasonable and acceptable way. It will also be understood that this signal bandwidth occupies only a portion of the Nyquist bandwidth determined by the relevant sampling frequency. This, in turn, will be understood as additionally providing a frequency region in which to effect the desired bandwidth extension.
Com referência outra vez à Figura 1, esse processo 100 provê então 102 um valor de energia que corresponde a ao menos uma estimativa da energia de largura de banda fora de sinal como correspondendo ao sinal de áudio digital. Para muitos cenários de aplicação, isso pode se basear, ao menos em parte, na suposição de que o sinal original tinha uma largura de banda mais ampla do que aquela do próprio sinal de áudio digital.Referring again to Figure 1, that process 100 then provides 102 an energy value that corresponds to at least an estimate of the out-of-signal bandwidth energy as corresponding to the digital audio signal. For many application scenarios, this may be based, at least in part, on the assumption that the original signal had a broader bandwidth than that of the digital audio signal itself.
Conforme uma abordagem, essa etapa pode compreender estimar o valor de energia como uma função, ao menos em parte, do próprio sinal de áudio digital. Mediante outra abordagem, se desejado, isso pode compreender receber informação a partir da fonte que originalmente transmitiu o sinal de áudio digital anteriormente mencionado queAccording to one approach, this step may involve estimating the energy value as a function, at least in part, of the digital audio signal itself. By another approach, if desired, this may comprise receiving information from the source that originally transmitted the aforementioned digital audio signal that
9/37 representa diretamente ou indiretamente esse valor de energia. A abordagem mencionada por último pode ser útil quando o codificador de fala original (ou outra fonte correspondente) inclui a funcionalidade apropriada para permitir que tal valor de energia seja medido diretamente ou indiretamente e representado por uma ou mais métricas correspondentes que são transmitidas, por exemplo, junto com o próprio sinal de áudio digital.9/37 directly or indirectly represents this energy value. The approach mentioned last can be useful when the original speech encoder (or other corresponding source) includes the appropriate functionality to allow that energy value to be measured directly or indirectly and represented by one or more corresponding metrics that are transmitted, for example , along with the digital audio signal itself.
Essa energia de largura de banda fora de sinal pode compreender energia que corresponde ao conteúdo de sinal que é superior em frequência à largura de banda de sinal correspondente do sinal de áudio digital. Tal abordagem é apropriada, por exemplo, quando o próprio conteúdo removido anteriormente mencionado compreende conteúdo que ocupa uma largura de banda que é superior em frequência ao conteúdo de áudio que é diretamente representado pelo sinal de áudio digital. Na alternativa, ou em combinação com o mencionado acima, essa energia de largura de banda fora de sinal pode corresponder ao conteúdo de sinal que é inferior em frequência à largura de banda de sinal correspondente do sinal de áudio digital. Essa abordagem, evidentemente, pode complementar aquela situação que existe quando o próprio conteúdo removido anteriormente mencionado compreende conteúdo que ocupa uma largura de banda que é inferior em frequência ao conteúdo de áudio que é representado diretamente pelo sinal de áudio digital.That out-of-signal bandwidth energy can comprise energy that corresponds to the signal content that is higher in frequency than the corresponding signal bandwidth of the digital audio signal. Such an approach is appropriate, for example, when the aforementioned removed content itself comprises content that occupies a bandwidth that is higher in frequency than the audio content that is directly represented by the digital audio signal. In the alternative, or in combination with that mentioned above, that out-of-signal bandwidth energy may correspond to the signal content which is lower in frequency than the corresponding signal bandwidth of the digital audio signal. This approach, of course, can complement that situation that exists when the aforementioned removed content itself comprises content that takes up a bandwidth that is lower in frequency than the audio content that is represented directly by the digital audio signal.
Esse processo 100 utiliza então 103 esse valor de energia (o qual pode compreender múltiplos valores de energia quando múltiplas porções removidas discretas são representadas desse modo como sugerido acima) paraThis process 100 then uses that energy value 103 (which can comprise multiple energy values when multiple discrete removed portions are represented in this way as suggested above) for
10/37 determinar um formato de envelope espectral para representar adequadamente o conteúdo de largura de banda fora de sinal como correspondendo ao sinal de áudio digital. Isso pode compreender, por exemplo, o uso do valor de energia para simultaneamente determinar um formato de envelope espectral e uma energia adequada correspondente para o formato de envelope espectral que é consistente com o valor de energia para o conteúdo de largura de banda fora de sinal como correspondendo ao sinal de áudio digital.10/37 determine a spectral envelope format to properly represent the out-of-signal bandwidth content as corresponding to the digital audio signal. This may comprise, for example, the use of the energy value to simultaneously determine a spectral envelope format and a corresponding corresponding energy for the spectral envelope format that is consistent with the energy value for the out-of-signal bandwidth content. as corresponding to the digital audio signal.
Conforme uma abordagem, isso pode compreender o uso do valor de energia para acessar uma tabela de consulta que contém uma pluralidade de formatos de envelope espectral, candidatos, correspondentes. Mediante outra abordagem, isso pode compreender o uso do valor de energia para acessar uma tabela de consulta que contém uma pluralidade de formatos de envelope espectral e a interpolação entre dois ou mais desses formatos para se obter o formato de envelope espectral desejado. Mediante ainda outra abordagem, isso pode compreender selecionar uma de duas ou mais tabelas de consulta utilizando um ou mais parâmetros derivados a partir do sinal de áudio digital e utilizando o valor de energia para acessar a tabela de consulta selecionada que contém uma pluralidade de formatos de envelope espectral, candidato correspondente. Isso pode compreender se desejado, acessar os formatos candidatos que são armazenados em uma forma paramétrica. Esses ensinamentos também acomodarão a derivação de um ou mais de tais formatos conforme necessário utilizando uma função matemática apropriada preferida versus a extração do formato a partir de tal tabela se desejado.According to one approach, this may comprise the use of the energy value to access a lookup table that contains a plurality of candidate, corresponding, spectral envelope formats. Using another approach, this can include using the energy value to access a lookup table that contains a plurality of spectral envelope formats and the interpolation between two or more of these formats to obtain the desired spectral envelope format. Using yet another approach, this may comprise selecting one of two or more query tables using one or more parameters derived from the digital audio signal and using the energy value to access the selected query table that contains a plurality of formats. spectral envelope, corresponding candidate. This can include, if desired, accessing candidate formats that are stored in a parametric form. These teachings will also accommodate the derivation of one or more of such formats as needed using an appropriate preferred mathematical function versus extracting the format from such a table if desired.
11/3711/37
Esse processo 100 opcionalmente então acomodará a combinação 104 do sinal de áudio digital com o conteúdo de largura de banda fora de sinal para assim fornecer uma versão estendida de largura de banda do sinal de áudio digital para desse modo aperfeiçoar a qualidade de áudio correspondente do sinal de áudio digital quando renderizado na forma audível. Mediante uma abordagem, isso pode compreender combinar dois itens que são mutuamente exclusivos com relação ao seu conteúdo espectral. Em tal caso, tal combinação pode assumir a forma, por exemplo, de simplesmente concatenar ou de outro modo unir juntos os dois (ou mais) segmentos. Mediante outra abordagem, se desejado, o conteúdo de largura de banda fora de sinal pode ter uma porção que está dentro da largura de banda de sinal correspondente do sinal de áudio digital. Tal sobreposição pode ser útil em ao menos alguns cenários de aplicação para suavizar e/ou eriçar a transição a partir de uma porção para a outra mediante combinação da porção sobreposta do conteúdo de largura de banda fora de sinal com a porção em banda correspondente do sinal de áudio digital.This process 100 will optionally then accommodate the combination 104 of the digital audio signal with the out-of-signal bandwidth content to thereby provide an extended bandwidth version of the digital audio signal to thereby enhance the corresponding audio quality of the signal digital audio when rendered in audible form. Through an approach, this may comprise combining two items that are mutually exclusive with respect to their spectral content. In such a case, such a combination may take the form, for example, of simply concatenating or otherwise uniting the two (or more) segments together. By another approach, if desired, the out-of-signal bandwidth content may have a portion that is within the corresponding signal bandwidth of the digital audio signal. Such an overlay can be useful in at least some application scenarios to smooth and / or bristle the transition from one portion to the other by combining the overlapping portion of the out-of-signal bandwidth content with the corresponding in-band portion of the signal digital audio.
Aqueles versados na técnica considerarão que os processos descritos acima são facilmente habilitados utilizando-se qualquer uma de uma ampla variedade de plataformas disponíveis e/ou facilmente configuráveis, incluindo plataformas parcialmente ou integralmente programáveis como conhecidas na técnica ou plataformas de finalidade dedicada como pode ser desejado para algumas aplicações. Com referência agora à Figura 3, será fornecida uma abordagem ilustrativa para tal plataforma.Those skilled in the art will find that the processes described above are easily enabled using any of a wide variety of available and / or easily configurable platforms, including partially or fully programmable platforms as known in the art or dedicated-purpose platforms as may be desired. for some applications. Referring now to Figure 3, an illustrative approach for such a platform will be provided.
Nesse exemplo ilustrativo, em um equipamento 300 umIn this illustrative example, in an equipment 300 a
12/37 processador 301 preferido é acoplado operativamente a uma entrada 302 que é configurada e arranjada para receber um sinal de áudio digital que tem uma largura de banda de sinal correspondente. Quando o equipamento 300 compreende um dispositivo de comunicação sem fio de duas vias, tal sinal de áudio digital pode ser fornecido por intermédio de um receptor correspondente 303, como conhecido na técnica. Em tal caso, por exemplo, o sinal de áudio digital pode compreender conteúdo vocal sintetizado formado como uma função do conteúdo de fala vo-codifiçado recebido.12/37 preferred processor 301 is operatively coupled to an input 302 which is configured and arranged to receive a digital audio signal that has a corresponding signal bandwidth. When equipment 300 comprises a two-way wireless communication device, such a digital audio signal can be provided via a corresponding receiver 303, as known in the art. In such a case, for example, the digital audio signal may comprise synthesized vocal content formed as a function of the received vo-encoded speech content.
O processador 301, por sua vez, pode ser configurado e arranjado (por intermédio, por exemplo, de programação correspondente quando o processador 301 compreende uma plataforma parcialmente ou integralmente programável como conhecido na técnica) para realizar uma ou mais das etapas ou outra funcionalidade aqui apresentada. Isso pode compreender, por exemplo, fornecer um valor de energia que corresponde a ao menos uma estimativa da energia de largura de banda fora de sinal como correspondendo ao sinal de áudio digital e, então, utilizando-se esse valor de energia e um conjunto de formatos indexados por energia para determinar um formato de envelope espectral para conteúdo fora de largura de banda como correspondendo ao sinal de áudio digital.The processor 301, in turn, can be configured and arranged (through, for example, corresponding programming when processor 301 comprises a platform partially or fully programmable as known in the art) to perform one or more of the steps or other functionality here displayed. This may comprise, for example, providing an energy value that corresponds to at least an estimate of the out-of-signal bandwidth energy as corresponding to the digital audio signal and then using that energy value and a set of energy-indexed formats to determine a spectral envelope format for out-of-bandwidth content as corresponding to the digital audio signal.
Conforme descrito acima, por intermédio de uma abordagem, o valor de energia anteriormente mencionado pode servir para facilitar o acesso a uma tabela de consulta que contém uma pluralidade de formatos de envelope espectral, candidatos, correspondentes. Para suportar tal abordagem, esse equipamento também pode compreender se desejado, umaAs described above, using an approach, the previously mentioned energy value can serve to facilitate access to a lookup table that contains a plurality of candidate, corresponding, spectral envelope formats. To support such an approach, this equipment can also comprise, if desired, a
13/37 ou mais tabelas de consulta 304 que são acopladas de forma operativa ao processador 301. Assim configurado, o processador 301 pode prontamente acessar a tabela de consulta 304 conforme apropriado.13/37 or more query tables 304 which are operatively coupled to processor 301. Thus configured, processor 301 can readily access query table 304 as appropriate.
Aqueles versados na técnica reconhecerão e entenderão que tal equipamento 300 pode ser compreendido de uma pluralidade de elementos fisicamente distintos conforme sugerido pela ilustração mostrada na Figura 3. Também é possível, contudo, ver essa ilustração como compreendendo uma vista lógica, em cujo caso um ou mais desses elementos podem ser habilitados e realizados por intermédio de uma plataforma compartilhada. Também será entendido que tal plataforma compartilhada pode compreender uma plataforma integralmente ou ao menos parcialmente programável como conhecido na técnica.Those skilled in the art will recognize and understand that such equipment 300 can be comprised of a plurality of physically distinct elements as suggested by the illustration shown in Figure 3. It is also possible, however, to see that illustration as comprising a logical view, in which case one or more of these elements can be enabled and delivered through a shared platform. It will also be understood that such a shared platform may comprise a fully or at least partially programmable platform as known in the art.
Com referência agora à Figura 4, fala de banda estreita de entrada Snt amostrada em 8 kHz é primeiramente amostrada ascendentemente mediante 2 utilizando um meio de amostragem ascendente correspondente 401 para obter fala de banda estreita amostrada ascendentemente s»b amostrada em 16 kHz. Isso pode compreender a realização de uma interpolação de 1:2 (por exemplo, mediante inserção de uma amostra de valor zero entre cada par de amostras de fala original) seguida pela filtração passa-baixa utilizando, por exemplo, um filtro passa-baixa (LPF) tendo uma passagem de banda entre 0 e 3.400 Hz.Referring now to Figure 4, narrowband speech input SNT sampled at 8 kHz is first sampled by 2 using an upwardly ascending corresponding sampling means 401 for narrowband speech sampled upwardly s' b sampled at 16 kHz. This may include performing a 1: 2 interpolation (for example, by inserting a zero-value sample between each pair of original speech samples) followed by low-pass filtering using, for example, a low-pass filter ( LPF) having a bandwidth between 0 and 3,400 Hz.
A partir de Snb, os parâmetros preditivos lineares (LP) de banda estreita, Anb = {1, aiz α2,..., aP}; onde P é a ordem modelo; também são computados utilizando-se um analisador LP 402, que emprega as técnicas de análise deFrom Snb, the narrowband linear predictive parameters (LP), Anb = {1, a iz α 2 , ..., P }; where P is the model order; are also computed using an LP 402 analyzer, which employs
14/3714/37
LP, bem conhecidas.LP, well known.
(Existem outras possibilidades, evidentemente, por exemplo, os parâmetros LP podem ser computados a partir de uma versão decimada 2:1 de . Esses parâmetros LP modelam o envelope espectral da fala de entrada de banda estreita como __________________________1___________________________ Ι + α^ + α^-^+.,. + αρβ-^ '(There are other possibilities, of course, for example, LP parameters can be computed from a 2: 1 decimal version of. These LP parameters model the narrow-band input spectral envelope as __________________________1___________________________ Ι + α ^ + α ^ - ^ +.,. + αρβ- ^ '
Na equação acima, a frequência angular ω em radianos/amostra é dada por a>-2nflF^ onde / é a frequência de sinal em Hz e Fs é a frequência de amostragem em Hz.In the above equation, the angular frequency ω in radians / sample is given by a> -2nflF ^ on of / is the signal frequency in Hz and F s is the sampling frequency in Hz.
Para uma frequência de amostragem Fs de 8 kHz, uma ordem de modelo PFor a sampling frequency F s of 8 kHz, a model order P
Os adequada, por exemplo, é 10.The appropriate one, for example, is 10.
LP Anb mediante usoLP A n b using
Ànb= {1,0, <2i,0, a2, 0, . ..,0, aP} parâmetros de um módulo de para obter fala de banda estreita amostrada ascendentemente s»b filtrada inversamente utilizando um filtro de análise 404 para obter o sinal residual LP r«* (o qual também é amostrado em 16 kHz) . Por intermédio de uma pode ser descrita pela equação fnb(ri) = Snb(n) + ai snb(n-2) + a2 s„b(n-4) +...+ a?snb(n-2P) onde n é o índice de amostra.At nb = {1.0, <2i, 0, at 2 , 0,. .., 0, the P } parameters of a module to obtain upwardly sampled narrowband speech s »b inversely filtered using a 404 analysis filter to obtain the residual signal LP r « * (which is also sampled at 16 kHz ). Through one can be described by the equation f n b (ri) = Snb (n) + ai s n b (n-2) + a 2 s „b (n-4) + ... + a? S n b (n-2P) where n is the sample index.
Em um cenário de aplicação típica, a filtração inversa de para obter r«/> pode ser feita em uma base quadro por quadro onde um quadro é definido como uma sequência de N amostras consecutivas por uma duração de T segundos. Para muitas aplicações de sinal de fala, uma boa escolha para T é de aproximadamente 2 0 ms com valores correspondentes para N de aproximadamente 160 emIn a typical application scenario, inverse filtration to obtain r «/> can be done on a frame-by-frame basis where a frame is defined as a sequence of N consecutive samples for a duration of T seconds. For many speech signal applications, a good choice for T is approximately 20 ms with corresponding N values of approximately 160 in
15/37 frequências de amostragem de 8 kHz e de aproximadamente 320 em frequências de amostragem de 16 kHz. Os quadros sucessivos podem ser sobrepostos uns aos outros, por exemplo, por até 50%, ou aproximadamente 50%, em cujo caso são idênticas, a segunda metade das amostras no quadro atual e a primeira metade das amostras no quadro seguinte, e um novo quadro é processado a cada T/2 segundos. Para uma escolha de T como 20 ms e 50% de sobreposição, por exemplo, os parâmetros LP Ant são computados para 160 amostras de Snb consecutivas a cada 10 ms, e são usados para filtrar inversamente as 160 amostras do meio do quadro snb correspondente de 320 amostras para produzir 160 amostras de rnb.15/37 sampling frequencies of 8 kHz and approximately 320 sampling frequencies of 16 kHz. Successive tables can be overlaid on each other, for example, by up to 50%, or approximately 50%, in which case they are identical, the second half of the samples in the current table and the first half of the samples in the next table, and a new one frame is processed every T / 2 seconds. For a choice of T as 20 ms and 50% overlap, for example, the LP Ant parameters are computed for 160 consecutive Snb samples every 10 ms, and are used to inversely filter the 160 samples from the middle of the corresponding s nb frame 320 samples to produce 160 r nb samples.
Também se podem computar os parâmetros LP de ordem 2P para a operação de filtração inversa diretamente a partir da fala de banda estreita amostrada ascendentemente. Essa abordagem, contudo, pode aumentar a complexidade de ambas, a computação dos parâmetros de LP e a operação de filtração inversa, sem necessariamente aumentar a performance sob ao menos algumas condições de operação.LP parameters of order 2P can also be computed for the reverse filtration operation directly from the upwardly sampled narrowband speech. This approach, however, can increase the complexity of both, the computation of LP parameters and the reverse filtration operation, without necessarily increasing performance under at least some operating conditions.
O sinal residual de LP rnb é a seguir retificado em onda completa utilizando um retificador de onda completa 405 e filtrando passa-alta o resultado (utilizando, por exemplo, um filtro passa-alta (HPF) 406 com uma passagem de banda entre 3.400 e 8.000 Hz) para obter o sinal residual retificado de banda alta rrhb. Em paralelo, a saída de uma fonte de ruído pseudoaleatória 407 também é filtrada em passa-alta 408 para obter o sinal de ruído de banda alta nhb. Esses dois sinais, isto é, rrhb e nhb, são então misturados em um misturador 4 09 de acordo com o nível deThe residual LP r nb signal is then rectified in full wave using a 405 full wave rectifier and filtering the result high pass (using, for example, a 406 high pass filter (HPF) with a band pass between 3,400 and 8,000 Hz) to obtain the residual high-band rectified signal rrhb . In parallel, the output of a pseudo-random noise source 407 is also filtered through high pass 408 to obtain the high band noise signal nhb . These two signals, that is, rrhb and nhb , are then mixed in a 4 09 mixer according to the level of
16/37 voz v fornecido por um Módulo de Estimação & Controle (ECM) 410 (cujo módulo será descrito em mais detalhe abaixo). Nesse exemplo ilustrativo, esse nível de voz v varia de 0 a 1, com 0 indicando um nível sem voz e 1 indicando um nível completamente com voz. O misturador 409 forma essencialmente uma soma ponderada dos dois sinais de entrada em sua saída após garantir que os dois sinais de entrada sejam ajustados para ter o mesmo nível de energia. 0 sinal de saída de misturador mhb é dado por nihb = (v) rrhb + (1-v) nhb.16/37 voice v provided by an Estimation & Control Module (ECM) 410 (whose module will be described in more detail below). In this illustrative example, this voice level v ranges from 0 to 1, with 0 indicating a level without a voice and 1 indicating a level with a voice. The mixer 409 essentially forms a weighted sum of the two input signals at its output after ensuring that the two input signals are adjusted to have the same energy level. The mixer output signal m hb is given by nihb = (v) rr hb + (1-v) n hb .
Aqueles versados na técnica considerarão que outras regras de misturação também são possíveis. Também é possível misturar primeiramente os dois sinais, isto é, o sinal residual LP retificado de onda completa e o sinal de ruído pseudoaleatório, e então filtrar em passa-alta o sinal misturado. Nesse caso, os dois filtros passa-alta 406 e 408 são substituídos por um único filtro passa-alta, colocado na saída do misturador 409.Those skilled in the art will consider that other mixing rules are also possible. It is also possible to mix the two signals first, that is, the residual LP rectified full-wave signal and the pseudo-random noise signal, and then filter the mixed signal in high-pass. In this case, the two high-pass filters 406 and 408 are replaced by a single high-pass filter, placed at the outlet of the mixer 409.
sinal resultante mhb é então pré-processado utilizando um pré-processador de excitação de banda alta (HB) 411 para formar o sinal de excitação de banda alta ex/,/,·. as etapas de pré-processamento podem compreender: (i) escalar o sinal de saída de misturador mhb para combinar com o nível de energia de banda alta e (ii) opcionalmente modelar o sinal de saída de misturador mhb para combinar com o envelope espectral de banda alta 3Ehb._ Ambos, Em> e são fornecidos ao pré-processador de excitação HB 411 pelo ECM 410. Ao empregar essa abordagem, pode ser útil em muitos cenários de aplicação garantir que tal modelagem nãoThe resulting mhb signal is then pre-processed using a high-band excitation (HB) preprocessor 411 to form the high-band excitation signal ex /, /, ·. the pre-processing steps may comprise: (i) scaling the m hb mixer output signal to match the high band energy level and (ii) optionally modeling the m hb mixer output signal to match the envelope high-band spectral 3Eh b ._ Both, Em> e are supplied to the HB 411 excitation preprocessor by the ECM 410. Using this approach, it can be useful in many application scenarios to ensure that such modeling does not
17/37 afete o espectro de fase do sinal de saída de misturador mhb·' isto é, a modelagem preferivelmente pode ser realizada por um filtro de resposta de fase zero.17/37 affects the phase spectrum of the mixer output signal m hb · 'that is, modeling can preferably be performed by a zero phase response filter.
sinal de fala de banda estreita amostrado ascendentemente e o sinal de excitação de banda alta exhb são adicionados juntos utilizando-se um somador 412 para formar o sinal de banda misturada smb. Esse sinal de banda misturada resultante é introduzido em um filtro de equalizador 413 que filtra essa entrada utilizando informação de envelope espectral de banda larga $Ewb fornecida pelo ECM 410 para formar o sinal de banda larga, estimado o filtro de equalizador, 413, essencialmente impõe o envelope espectral de banda larga SEwb no sinal de entrada para formar s^b (discussão adicional a esse respeito aparece abaixo). O sinal de banda larga, estimado, Swb ê filtrado em passa-alta, por exemplo, utilizando um filtro passa-alta 402 que tem uma passagem de banda a partir de 3.400 a 8.000 Hz, e filtrado em passa-baixa, por exemplo, utilizando um filtro passa-baixa 415 que tem uma passagem de banda a partir de 0 a 3 00 Hz, para obter respectivamente o sinal de passa-alta shb e o sinal de passa-baixa sib. Esses sinais Shb,sib, θ o sinal de banda estreita amostrado ascendentemente $nb são adicionados em conjunto em outro somador 416 para formar o sinal estendido de largura de banda sbwe.narrowband speech signal sampled ex upwardly and high band excitation signal s hb will be added together using a summer 412 to form the mixed - band signal s mb. This resulting mixed-band signal is introduced into an equalizer filter 413 that filters this input using broadband spectral envelope information $ E w b provided by ECM 410 to form the broadband signal, estimated the equalizer filter, 413, essentially imposes the broadband spectral envelope SE w b on the input signal to form s ^ b (further discussion in this respect appears below). The estimated broadband signal, Swb is filtered in high pass, for example, using a high pass filter 402 which has a band pass from 3,400 to 8,000 Hz, and filtered in low pass, for example, using a low-pass filter 415 which has a bandwidth from 0 to 300 Hz, to obtain the high-pass signal s hb and the low-pass signal s ib respectively. These signals Shb, sib, θ the upwardly sampled narrowband signal $ nb are added together in another adder 416 to form the extended bandwidth signal s bwe.
Aqueles versados na técnica considerarão que há várias outras configurações de filtro possíveis para se obter o sinal estendido de largura de banda Sbwe. Se o filtro de equalizador, 413, retém precisamente o conteúdo espectral do sinal de fala de banda estreita amostradoThose skilled in the art will consider that there are several other filter configurations possible to obtain the extended Sbwe bandwidth signal. If the equalizer filter, 413, precisely retains the spectral content of the sampled narrowband speech signal
18/37 ascendentemente Snb o qual é parte de seu sinal de entrada smb, então o sinal de banda larga, estimado, Swb pode ser diretamente emitido como o sinal estendido de largura de banda sbwe eliminando desse modo o filtro passa-alta 412, o filtro passa-baixa 415, e o somador 416. Alternativamente, dois filtros de equalizador podem ser usados, um para recuperar a porção de baixa frequência e outro para recuperar a porção de alta frequência, e a saída do mencionado primeiro pode ser adicionada à saída filtrada em passa-alta do mencionado por último para obter o sinal estendido de largura de banda Sfwe.18/37 upwardly Snb which is part of its input signal s mb, so the estimated broadband signal, Swb can be directly emitted as the extended bandwidth signal s bwe thereby eliminating the high-pass filter 412 , the low pass filter 415, and the adder 416. Alternatively, two equalizer filters can be used, one to recover the low frequency portion and the other to recover the high frequency portion, and the output of the first mentioned can be added to the filtered high-pass output of the last mentioned to obtain the extended bandwidth signal Sfwe .
Aqueles versados na técnica entenderão e considerarão que, com esse exemplo ilustrativo específico, a excitação residual retificada de banda alta e a excitação de ruído de banda alta são misturadas em conjunto de acordo com o nível de voz. Quando o nível de voz é 0 indicando fala sem voz, a excitação de ruído é exclusivamente usada. Similarmente, quando o nível de voz é 1 indicando fala com voz, a excitação residual retificada de banda alta é usada exclusivamente. Quando o nível de voz está entre 0 e 1 indicando fala misturada-com voz, as duas excitações são misturadas em proporção apropriada conforme determinado pelo nível de voz e usadas. A excitação de banda alta misturada é assim adequada para os sons com voz, sem voz, e misturados-com voz.Those skilled in the art will understand and consider that, with this specific illustrative example, the rectified high-band residual excitation and the high-band noise excitation are mixed together according to the voice level. When the voice level is 0 indicating speech without voice, the noise excitation is used exclusively. Similarly, when the voice level is 1 indicating speech with voice, the high band residual rectified excitation is used exclusively. When the voice level is between 0 and 1 indicating mixed-to-speech speech, the two excitations are mixed in an appropriate proportion as determined by the voice level and used. The mixed high band excitation is therefore suitable for sounds with voice, without voice, and mixed-with voice.
Será entendido e considerado ainda que, nesse exemplo ilustrativo, um filtro de equalizador é usado para sintetizar Swb. O filtro de equalizador considera o envelope espectral de banda larga SE*b fornecido pelo ECM como o envelope ideal e corrige (ou equaliza) o envelopeIt will be understood and considered that, in this illustrative example, an equalizer filter is used to synthesize Swb . The equalizer filter considers the broadband SE * b spectral envelope provided by ECM as the ideal envelope and corrects (or equalizes) the envelope
19/37 espectral de seu sinal de entrada $mb para combinar com o ideal. Uma vez que apenas magnitudes estão envolvidas na equalização de envelope espectral, a resposta de fase do filtro de equalizador é escolhida para ser zero. A resposta de magnitude do filtro de equalizador é especificada por SEwb((ò)ISEmb((à). o modelo e a implementação de tal filtro de equalizador para uma aplicação de codificação de fala compreendem uma área de empenho bem entendida. Resumidamente, contudo, o filtro de equalizador opera como a seguir utilizando análise de sobrepor-adicionar (OLA).Spectral 19/37 of its $ mb input signal to match the ideal. Since only magnitudes are involved in spectral envelope equalization, the phase response of the equalizer filter is chosen to be zero. The magnitude response of the equalizer filter is specified by SE w b ((ò) ISE m b ((à). The model and implementation of such an equalizer filter for a speech coding application comprises an area of well understood Briefly, however, the equalizer filter operates as follows using overlay-add analysis (OLA).
O sinal de entrada é primeiramente dividido em quadros de sobreposição, por exemplo, quadros de 20 ms (320 amostras em 16 kHz) com 50% de sobreposição. Cada quadro de amostra é então multiplicado (por pontos) por intermédio de uma janela adequada, por exemplo, uma janela de coseno levantado com propriedade de reconstrução perfeita. O quadro de fala enjanelado é a seguir analisado para estimar os parâmetros LP modelando seu envelope espectral. 0 envelope espectral de banda larga ideal para o quadro é fornecido por ECM. A partir dos dois envelopes espectrais, o equalizador computa a resposta de magnitude de filtro como SEwb(cò)ISEmb((O) e define a resposta de fase para zero. 0 quadro de entrada é então equalizado para obter o quadro de saída correspondente. Os quadros de saída equalizados são finalmente sobrepostos-adicionados para sintetizar a fala de banda larga estimada swb.The input signal is first divided into overlapping frames, for example, 20 ms frames (320 samples at 16 kHz) with 50% overlap. Each sample frame is then multiplied (by points) through a suitable window, for example, a raised cosine window with perfect reconstruction properties. The windowed speech frame is then analyzed to estimate the LP parameters by modeling its spectral envelope. The ideal broadband spectral envelope for the frame is provided by ECM. From the two spectral envelopes, the equalizer computes the filter magnitude response as SE w b (cò) ISE m b ((O) and sets the phase response to 0. The input frame is then equalized to obtain the frame corresponding output frames are finally overlaid-added to synthesize the estimated broadband speech s wb.
Aqueles versados na técnica considerarão que além da análise LP, há outros métodos para se obter o envelope espectral de um determinado quadro de fala, por exemplo, análise cepstral, ajuste de curva de ordem superior ouThose skilled in the art will consider that in addition to the LP analysis, there are other methods for obtaining the spectral envelope of a given speech frame, for example, cepstral analysis, higher order curve fitting or
20/37 linear contínua de picos de magnitude espectral, etc.20/37 continuous linear peaks of spectral magnitude, etc.
Aqueles versados na técnica também considerarão que em vez de enj anelar diretamente o sinal de entrada smb, se poderia iniciar com versões enjaneladas de rrhb e nhb para se obter o mesmo resultado. Também pode ser conveniente manter o tamanho de quadro e a sobreposição percentual para o filtro e equalizador idênticos como aqueles usados no bloco de filtro de análise utilizado para se obter a partir de Snb.Those skilled in the art will also consider that instead of enj directly annealing the input signal s mb, one could start with windowed versions of rrhb and nhb to obtain the same result. It may also be convenient to keep the frame size and percentage overlap for the filter and equalizer identical to those used in the analysis filter block used to obtain from Snb .
A abordagem de filtro de equalizador descrita para sintetizar Swb oferece algumas vantagens: i) como aThe equalizer filter approach described for synthesizing Swb offers some advantages: i) how the
com voz porque os segmentos de elevada energia (tal como segmentos de pulso glotal) da excitação de banda alta, residual, retificada, são alinhados em tempo com os segmentos correspondentes de alta energia, da fala de banda estreita, amostrada ascendentemente, snb, na entrada do equalizador; e a preservação desse alinhamento de tempo na saída do equalizador agirá frequentemente para garantir boa qualidade de fala; ii) a entrada para o filtro de equalizador 413 não precisa ter um espectro plano como no caso do filtro de síntese LP, iii) o filtro de equalizador 413 é especificado no domínio de frequência e, portanto, é praticável um controle mais aperfeiçoado sobre as diferentes partes do espectro; e iv) são possíveis repetições para melhorar a eficácia de filtração à custa de complexidade e retardo adicional (por exemplo, a saída dowith voice because the high-energy segments (such as glottal pulse segments) of the residual, rectified high-band excitation are aligned in time with the corresponding high-energy segments of the narrow-band, upwardly sampled, s nb, at the equalizer input; and preserving this time alignment at the equalizer output will often act to ensure good speech quality; ii) the input for the equalizer filter 413 does not need to have a flat spectrum as in the case of the LP synthesis filter, iii) the equalizer filter 413 is specified in the frequency domain and, therefore, a more improved control over the different parts of the spectrum; and iv) repetitions are possible to improve the filtration efficiency at the expense of complexity and additional delay (for example,
21/37 equalizador pode ser realimentada à entrada para ser repetidamente equalizada para melhorar a performance).21/37 equalizer can be fed back to the input to be repeatedly equalized to improve performance).
Alguns detalhes adicionais com relação à configuração descrita serão apresentados agora.Some additional details regarding the described configuration will be presented now.
Pré-processamento de excitação de banda alta: A resposta de magnitude do filtro de equalizador, 413, é dada por SEwb{a>)ISEmb((o) e sua resposta de fase pode ser ajustada para zero. Quanto mais próximo o envelope espectral de entrada SEmb(új) estiver do envelope espectral ideal SEwb(<a), mais fácil será para o equalizador corrigir o envelope espectral de entrada para combinar com o ideal. Ao menos uma função do pré-processador de excitação de banda alta 411 é a de mover o SEmb((a) para mais próximo de SEwb(a>) e assim tornar mais fácil a tarefa do filtro de equalizador, 413. Em primeiro lugar, isso é feito mediante a ação de escalar o sinal de saída de misturador mhb para o nível de energia de banda alta, correto Ehb fornecido pelo ECM 410. Em segundo lugar, o sinal de saída de misturador mhb é opcionalmente modelado de modo que seu envelope espectral combina com o envelope espectral de banda alta $Ehb fornecido pelo ECM 410 sem afetar seu espectro de fase. Uma segunda etapa pode compreender essencialmente uma etapa de pré-equali zação.High band excitation preprocessing: The magnitude response of the equalizer filter, 413, is given by SE w b {a>) ISE m b ((o) and its phase response can be set to zero. near the spectral input envelope IF m b (új) is within the ideal spectral envelope IF w b (<a), the easier it will be for the equalizer to correct the spectral input envelope to match the ideal. highband excitation processor 411 is to move the IF b m ((a) i m s p ara close to w b (a>) and thus make it easier to filter equalizer task 413. first , this is done by scaling the mhb mixer output signal to the correct high band energy level Ehb provided by the ECM 410. Second, the mhb mixer output signal is optionally modeled so that its spectral envelope matches the $ Ehb high-band spectral envelope provided by ECM 410 without affecting its spectrum A second stage can essentially comprise a pre-equalization stage.
Excitação de banda baixa: ao contrário da perda de informação na banda alta causada pela restrição de largura de banda imposta, ao menos em parte, pela frequência de amostragem, a perda de informação na banda baixa (0-300 Hz) do sinal de banda estreita se deve, ao menos em grande parte, ao efeito de limitação de banda da função de transferência de canal consistindo, por exemplo, em umLow band excitation: unlike the loss of information in the high band caused by the bandwidth restriction imposed, at least in part, by the sampling frequency, the loss of information in the low band (0-300 Hz) of the band signal is due, at least in large part, to the bandwidth limiting effect of the channel transfer function consisting, for example, of a
22/37 microfone, amplificador, codificador de fala, canal de transmissão, ou semelhante. Consequentemente, em um sinal de banda estreita limpo, a informação de banda baixa ainda está presente embora em um nível muito baixo. Essa informação de nível baixo pode ser ampliada de uma maneira direta para restaurar o sinal original. Entretanto, deve-se tomar cuidado nesse processo uma vez que sinais de nível baixo são facilmente corrompidos por erros, ruídos e distorções. Uma alternativa é a de sintetizar um sinal de excitação de banda baixa similar ao sinal de excitação de banda alta descrito anteriormente. Isto é, o sinal de excitação de banda baixa pode ser formado mediante misturação do sinal residual retificado de banda baixa rrib e o sinal de ruído de banda baixa nib de uma forma similar à formação do sinal de saída de misturador de banda alta mM>.22/37 microphone, amplifier, speech encoder, transmission channel, or the like. Consequently, in a clean narrowband signal, the lowband information is still present although at a very low level. This low level information can be directly expanded to restore the original signal. However, care must be taken in this process since low level signals are easily corrupted by errors, noise and distortions. An alternative is to synthesize a low band excitation signal similar to the high band excitation signal described above. That is, the low band excitation signal can be formed by mixing the low band rectified residual signal rr ib and the low band noise signal nib in a similar manner to the formation of the high band mixer output signal m M >.
Com referência agora à Figura 5, o Módulo deReferring now to Figure 5, the
Estimativa e Controle (ECM) 410 admite como entrada a fala de banda estreita Snb-, a fala de banda estreita amostrada ascendentemente Snb·, e os parâmetros LP de banda estreita ^nb e provê como saída o nível de voz v·, a energia de banda alta Em-, o envelope espectral de banda alta $Ehb, e o envelope espectral de banda larga SEwb.Estimate and Control (ECM) 410 admits as input the narrowband speech Snb -, the narrowband speech sampled upwards Snb ·, and the narrowband LP parameters ^ nb and provides as output the level of voice v ·, the energy high-band Em-, the high-band spectral envelope $ Ehb, and the broad-band spectral envelope SEwb.
Estimativa de nível de voz: Para estimar o nível de voz, um calculador de cruzamento zero 501 calcula o número de cruzamentos zero zc em cada quadro da fala de banda estreita Snb como a seguir:Voice level estimation: To estimate the voice level, a 501 zero crossover calculator calculates the number of zero zc crossings in each Snb narrowband speech frame as follows:
ondeWhere
23/3723/37
Ί n é o índice de amostra, e N é o tamanho de quadro nas amostras. É conveniente manter o tamanho de quadro e a sobreposição percentual usada no ECM 410 idênticos àqueles usados no filtro de equalizador 413 e os blocos de filtro de análise, por exemplo, T = 20 ms, N = 160 para amostragem de 8 kHz, N = 320 para amostragem de 16 kHz, e sobreposição de 50% com referência aos valores ilustrativos apresentados anteriormente. O valor do parâmetro zc calculado como acima varia de 0 a 1. A partir do parâmetro zc, um estimador de nível de voz 502 pode estimar o nível de voz v como a seguir.Ί n is the sample index, and N is the frame size in the samples. It is convenient to keep the frame size and percentage overlap used in the ECM 410 identical to those used in the equalizer filter 413 and the analysis filter blocks, for example, T = 20 ms, N = 160 for 8 kHz sampling, N = 320 for 16 kHz sampling, and 50% overlap with reference to the illustrative values presented above. The value of parameter zc calculated as above ranges from 0 to 1. From parameter zc, a voice level estimator 502 can estimate the voice level v as follows.
zc ZCj()W ''^ high ” ^'low caso contrário onde, ZCiow e ZChigh representam limites baixo e alto apropriadamente escolhidos respectivamente, por exemplo, ZCiow _ o.4O e ZChigh = 0.45. A saída d de um detector de início/plosiva 503 também pode ser alimentada ao detector de nível de voz 502. Se um quadro for sinalizado como contendo um início ou uma plosiva com d = 1, o nível de voz do quadro assim como o quadro seguinte podem ser ajustados para 1. Lembrar que, mediante uma abordagem, quando o nível de voz é 1, a excitação residual retificada de banda alta é usada exclusivamente. Isso é vantajoso em um início/plosiva, em comparação com excitação de banda alta misturada ou apenas de ruído, porque a excitação residualzc ZCj () W '' ^ high ”^ 'low otherwise, where ZCiow and ZChigh represent appropriately chosen low and high limits, for example, ZCi ow _ o.4O and ZChigh = 0.45. The output d of a start / stop detector 503 can also be fed to the voice level detector 502. If a frame is flagged as containing a start or stop with d = 1, the voice level of the frame as well as the frame next can be set to 1. Remember that, using an approach, when the voice level is 1, the residual high-band rectified excitation is used exclusively. This is advantageous in a start / stop, compared to mixed high band excitation or just noise, because residual excitation
24/37 retificada acompanha de perto o contorno de energia versus tempo da fala de banda estreita amostrada ascendentemente reduzindo assim a possibilidade de artefatos do tipo préeco devido à dispersão de tempo no sinal de largura de banda estendida,Rectified 24/37 closely follows the energy contour versus time of the narrowband speech sampled upwardly thus reducing the possibility of pre-type artifacts due to time dispersion in the extended bandwidth signal,
Para estimar a energia de banda alta, um estimador de energia de banda de transição 504 estima a energia de banda de transição a partir do sinal de fala de banda estreita amostrado ascendentemente Snb·. A banda de transição é definida aqui como uma banda de frequência que é contida dentro da banda estreita e próxima à banda alta, isto é, ela serve como uma transição para banda alta, (a qual, nesse exemplo ilustrativo, é de aproximadamente 2.500 - 3.400 Hz) . Intuitivamente, se esperaria que a energia de banda alta fosse bem correlacionada com a energia de banda de transição, a qual é confirmada em experimentos. Uma forma simples de calcular a energia de banda de transição E‘b é a de computar o espectro de frequência Snb (por exemplo, através de uma Transformada Rápida de Fourier (FFT) e soma das energias dos componentes espectrais dentro da banda de transição.To estimate the high band energy, a transition band energy estimator 504 estimates the transition band energy from the upwardly sampled narrowband speech signal Snb ·. The transition band is defined here as a frequency band that is contained within the narrow band and close to the high band, that is, it serves as a transition to high band, (which, in this illustrative example, is approximately 2,500 - 3,400 Hz). Intuitively, high-band energy would be expected to correlate well with transition band energy, which is confirmed in experiments. A simple way to calculate the transition band energy E'b is to compute the frequency spectrum Snb (for example, through a Fast Fourier Transform (FFT) and sum the energies of the spectral components within the transition band.
A partir da energia de banda de transição ^,b em dB (decibéis), a energia de banda alta ^hbo em dB é estimada comoFrom the transition band energy ^ , b in dB (decibels), the high band energy ^ hbo in dB is estimated as
EhbO ã Etb í β» onde os coeficientes α e β são selecionados para minimizar o erro quadrático médio entre os valores, verdadeiro e estimado, da energia de banda alta através de um grande número de quadros a partir de um banco de dadosEhbO ã Etb í β »where the α and β coefficients are selected to minimize the mean squared error between the true and estimated high band energy values across a large number of frames from a database
25/37 de fala de treinamento.25/37 training speech.
A exatidão da estimação pode ser aperfeiçoada adicionalmente mediante exploração da informação contextual a partir de parâmetros adicionais de fala tal como parâmetro de cruzamento zero zc e o parâmetro de inclinação espectral de banda de transição sl conforme pode ser fornecido por um estimador de inclinação de banda de transição 505. O parâmetro de cruzamento zero, conforme discutido anteriormente é indicativo do nível de voz de fala. O parâmetro de inclinação indica a taxa de mudança da energia espectral dentro da banda de transição. Ele pode ser estimado a partir dos parâmetros LP de banda estreita Anb mediante aproximação do envelope espectral (em dB) dentro da banda de transição como uma linha reta, por exemplo, através de regressão linear, e computando a sua inclinação. 0 plano de parâmetro zc-sl é então dividido em um número de regiões, e os coeficientes, α e β, são selecionados separadamente para cada região. Por exemplo, se as faixas dos parâmetros de zc-sl forem divididas individualmente em 8 intervalos iguais, o plano de parâmetro zc-sl é então dividido em 64 regiões, e 64 conjuntos de coeficientes α e β são selecionados, um para cada região.The accuracy of the estimation can be further improved by exploring the contextual information from additional speech parameters such as zero crossing parameter zc and the transition band spectral slope parameter sl as can be provided by a slope band estimator. transition 505. The zero crossing parameter, as discussed earlier, is indicative of the speech level of speech. The slope parameter indicates the rate of change of spectral energy within the transition band. It can be estimated from the narrowband LP parameters Anb by approaching the spectral envelope (in dB) within the transition band as a straight line, for example, through linear regression, and computing its slope. The parameter plane zc-sl is then divided into a number of regions, and the coefficients, α and β, are selected separately for each region. For example, if the zc-sl parameter ranges are individually divided into 8 equal intervals, the zc-sl parameter plane is then divided into 64 regions, and 64 sets of α and β coefficients are selected, one for each region.
estimação de Ehbo-, por exemplo,Ehbo- estimation, for example,
Ehbo = a.4 Etb4 + a3 Etb3 + a2 Etb2 + α,ι Etb + β.Ehbo = a.4 E t b 4 + a3 Etb 3 + a2 E t b 2 + α, ι E t b + β.
Nesse caso, cinco coeficientes diferentes, isto é, «4, ai, az, «i, e β; são selecionados para cada divisão do planoIn that case, five different coefficients, that is, «4, ai, az,« i, and β ; s will be selected for each plane of division
26/37 de parâmetro zc-sl. Como as equações acima (consultar parágrafos 63 e 67) para estimação de Em# são não lineares, deve-se tomar cuidado especial no sentido de ajustar a energia de banda alta estimada à medida que muda o nível de sinal de entrada, isto é, energia. Uma forma de conseguir isso é a de estimar o nível de sinal de entrada em dB, ajustar Etb ascendentemente ou descendentemente para corresponder ao nível de sinal nominal, estimar Ehbo, e ajustar Ehbo descendentemente ou ascendentemente para corresponder ao nível de sinal efetivo.26/37 of parameter zc-sl. As the equations above (see paragraphs 63 and 67) for estimating Em # are non-linear, special care should be taken to adjust the estimated high band energy as the input signal level changes, that is, energy. One way to achieve this is to estimate the input signal level in dB, adjust Etb upwards or downwards to match the nominal signal level, estimate Ehbo, and adjust Ehbo downwards or upwards to match the effective signal level.
Embora o método de estimação de energia de banda alta descrito acima funciona muito bem para a maioria dos quadros, ocasionalmente há quadros para os quais a energia de banda alta está a grosso modo sub ou super estimada. Tais erros de estimação podem ser corrigidos ao menos parcialmente por intermédio de um suavizador de trilha de energia57 que compreende um filtro de suavização. O filtro de suavização pode ser projetado de tal modo que ele permite que transições efetivas na trilha de energia passem de modo não afetado, por exemplo, mude entre segmentos com voz e sem voz, mas corrige erros brutos ocasionais em uma trilha de energia de outro modo suave, por exemplo, dentro de um segmento com voz ou sem voz. Um filtro adequado para esse propósito é um filtro de mediana, por exemplo, um filtro mediano de 3 pontos descrito pela equaçãoAlthough the high band energy estimation method described above works very well for most frames, occasionally there are frames for which high band energy is roughly under- or over-estimated. Such estimation errors can be corrected at least partially through an energy track smoother57 that comprises a smoothing filter. The smoothing filter can be designed in such a way that it allows effective transitions in the energy track to pass in an unaffected way, for example, switch between segments with voice and without voice, but corrects occasional gross errors in another's energy track smoothly, for example, within a segment with voice or without voice. A suitable filter for this purpose is a median filter, for example, a 3-point median filter described by the equation
Ehbi(k) = median (Ehb0(k-l), Ehb0(k), Ehb0(k+l)) onde k e o inaice ae quaaro, e o operador mediante θ seleciona a mediana de seus três argumentos. O filtro de mediana de 3 pontos introduz um retardo de um quadro. Outros tipos de filtro com ou sem retardo também podem serE hb i (k) = median (E hb0 (kl), E hb0 (k), E hb0 (k + l)) where keo inaice a and quaaro, and the operator using θ selects the median of its three arguments. The 3-point median filter introduces a frame delay. Other types of filters with or without delay can also be
27/37 projetados para suavizar a trilha de energia.27/37 designed to smooth the energy trail.
O valor de energia suavizada pode ser adaptado adicionalmente por um adaptador de energia 508 para se obter a estimativa de energia de banda alta adaptada final ^hb. Essa adaptação pode envolver a diminuição ou o aumento do valor de energia suavizada com base no parâmetro de nível de voz v e/ou na saída de parâmetro d pelo detector de início/plosiva 503. Mediante uma abordagem, a adaptação do valor de energia de banda alta muda não apenas o nível de energia, mas também o formato de envelope espectral uma vez que a seleção do espectro de banda alta pode ser ligada à energia estimada.The smoothed energy value can be further adapted by a 508 power adapter to obtain the final adapted high band energy estimate ^ hb . Such adaptation may involve decreasing or increasing the smoothed energy value based on the voice level parameter ve / or the parameter d output by the start / stop detector 503. Using one approach, adapting the band energy value high changes not only the energy level, but also the spectral envelope format since the selection of the high band spectrum can be linked to the estimated energy.
Com base no parâmetro de nível de voz v, a adaptação de energia pode ser obtida como a seguir. Para v = 0 correspondendo a um quadro sem voz, o valor de energia suavizada é aumentado ligeiramente, por exemplo, em 3 dB, para obter o valor de energia adaptado^. O nível de energia aumentado enfatiza a fala sem voz na saída de largura de banda estendida em comparação com a entrada de banda estreita e também ajuda a selecionar um formato de envelope espectral mais apropriado para os segmentos sem voz. Para v=l correspondendo a um quadro com voz, o valor de energia suavizado ^hbl é diminuído ligeiramente, por exemplo, em 6 dB, para se obter o valor de energia adaptado Ebb. O nível de energia ligeiramente diminuído ajuda a mascarar quaisquer erros na seleção do formato de envelope espectral para os segmentos com voz e consequentes artefatos ruidosos.Based on the voice level parameter v, power adaptation can be achieved as follows. For v = 0 corresponding to a frame without voice, the smoothed energy value is increased slightly, for example, by 3 dB, to obtain the adapted energy value ^. The increased energy level emphasizes speechless speech at the extended bandwidth output compared to the narrowband input and also helps to select a spectral envelope format most appropriate for the speechless segments. For v = l corresponding to a frame with voice, the smoothed energy value ^ hbl is decreased slightly, for example, by 6 dB, to obtain the adapted energy value E bb . The slightly decreased energy level helps to mask any errors in the selection of the spectral envelope format for segments with voice and consequent noisy artifacts.
Quando o nível de voz v está entre 0 e 1 correspondendo a um quadro com voz misturado, nenhumaWhen the voice level v is between 0 and 1 corresponding to a frame with mixed voice, none
28/37 adaptação do valor de energia é realizada. Tais quadros com voz misturados representam apenas uma pequena fração do número total de quadros e os valores de energia não adaptados funcionam bem para tais quadros. Com base na saída d de detector de início/plosiva, a adaptação de energia é feita como a seguir. Quando d = 1, isso indica que o quadro correspondente contém um início, por exemplo, transição a partir de silêncio para som sem voz ou com voz, ou um som plosiva, por exemplo, /t/. Nesse caso, a energia de banda alta do quadro específico assim como do quadro seguinte é adaptada para um valor muito baixo de modo que seu conteúdo de energia de banda alta é baixo na fala de largura de banda estendida. Isso ajuda a evitar os artefatos ocasionais associados a tais quadros. Para d = 0, nenhuma adaptação adicional da energia é realizada; isto é, é mantida a adaptação de energia baseada no nível de voz v, conforme descrito acima.28/37 adaptation of the energy value is carried out. Such mixed voice frames represent only a small fraction of the total number of frames and the unadapted energy values work well for such frames. Based on the start / stop detector d output, the power adaptation is made as follows. When d = 1, this indicates that the corresponding frame contains a beginning, for example, transition from silence to a sound without a voice or with a voice, or a plosive sound, for example, / t /. In this case, the high band energy of the specific frame as well as that of the next frame is adapted to a very low value so that its high band energy content is low in the extended bandwidth speech. This helps to avoid the occasional artifacts associated with such pictures. For d = 0, no further energy adaptation is performed; that is, energy adaptation based on voice level v is maintained, as described above.
A estimação do envelope espectral da banda larga SEwb é descrita a seguir. Para estimar SEwb, pode-se estimar separadamente o envelope espectral de banda estreita SEnh, o envelope espectral de banda alta SEhh, e o envelope espectral de banda baixa SElbl e combinar em conjunto os três envelopes.The estimation of the broadband spectral envelope SE wb is described below. To estimate SE wb , one can separately estimate the narrow band spectral envelope SEh, the high band spectral envelope SEhh, and the low band spectral envelope SE lbl and combine the three envelopes together.
Um estimador de espectro de banda estreita 509 pode estimar o envelope espectral de banda estreita SEnh a partir da fala de banda estreita amostrada ascendentemente Snb . A partir de Snb , os parâmetros LP, &nb = (1, b\, b2, ... , bo} onde Q é a ordem de modelo, são primeiramente computados utilizando-se técnicas de análise LP bem conhecidas. Para uma frequência amostrada ascendentemente de 16 kHz, umaA narrowband spectrum estimator 509 can estimate the narrowband spectral envelope SEh from the upwardly sampled narrowband speech Snb . From Snb , the parameters LP, & nb = (1, b \, b2, ..., bo} on d and Q is the model order, are first computed using well-known LP analysis techniques. sampled frequency upwards of 16 kHz, a
29/3729/37
radianos/amostra é dada por (o=2.Kf/2Fs, onc}e f g a frequência de sinal em Hz e Fs é a frequência de amostragem em Hz. Observar que os envelopes espectrais SE^in e SEusnb são diferentes uma vez que o primeiro é derivado da fala de entrada de banda estreita e o último a partir da fala de banda estreita amostrada ascendentemente. Contudo, dentro da passagem de banda e 300 a 3.400 Hz, eles são aproximadamente relacionados por SEusnb (új) ~ SE„bin para dentro de uma constante. Embora o envelope espectral SEusnb seja definido através da faixa de 0 - 8.000 (Fs) Hz, a porção útil está situada dentro da passagem de banda (nesse exemplo ilustrativo, 300 - 3.400 Hz).radians / sample is given by (o = 2.Kf / 2F s , onc } and fg signal frequency in Hz and F s is the sampling frequency in Hz. Note that the spectral envelopes SE ^ in and SE usnb are different one since the former is derived from narrowband input speech and the latter from upwardly sampled narrowband speech, however, within the bandwidth and 300 to 3,400 Hz, they are approximately related by SE usn b (új) ~ SE „bin into a constant. Although the SE usnb spectral envelope is defined over the range of 0 - 8,000 (F s ) Hz, the useful portion is located within the bandpass (in this illustrative example, 300 - 3,400 Hz ).
Como um exemplo ilustrativo a esse respeito, a computação de SEusnb é feita utilizando FFT como a seguir. Em primeiro lugar, a resposta de impulso do filtro inverso Bnb(z) calculada para uma extensão adequada, por exemplo, 1024, como {L/ú,/>2,, 0, 0, ..., 0} , Então uma FFT da resposta e impulso é tirada, e o envelope espectral de magnitude SEusni3 é obtido mediante computação da magnitude inversa em cada índice FFT. Para uma extensão de FFT de 1024, a resolução de frequência de SEusnb computada como acima é de 16000/1024 = 15.625 Hz. A partir de SEusnb, o envelope espectral de banda estreita SEnb é estimado simplesmente mediante extração das magnitudes espectrais a partir deAs an illustrative example in this regard, SE usnb computation is done using FFT as follows. First, the impulse response of the inverse filter B n b (z) calculated to a suitable extent, for example, 1024, such as {L / ú, /> 2 ,, 0, 0, ..., 0}, Then an FFT of the response and impulse is taken, and the spectral envelope of magnitude SE usni3 is obtained by computing the inverse magnitude in each FFT index. For an FFT extension of 1024, the frequency resolution of SE usn b computed as above is 16000/1024 = 15,625 Hz. From SE usnb , the narrow band spectral envelope SEnb is estimated simply by extracting the spectral magnitudes at from
30/37 dentro da faixa aproximada, 300-3400 Hz.30/37 within the approximate range, 300-3400 Hz.
Aqueles versados na técnica considerarão que além da análise de LP, há outros métodos para se obter o envelope espectral de um determinado quadro de fala, por exemplo, análise cepstral, ajuste de curva de ordem superior ou linear contínua e picos de magnitude espectral, etc.Those skilled in the art will consider that in addition to the LP analysis, there are other methods for obtaining the spectral envelope of a given speech frame, for example, cepstral analysis, continuous or higher order curve adjustment and spectral magnitude peaks, etc. .
Um estimador de espectro de banda alta 510 considera uma estimativa da energia de banda alta como entrada e seleciona um formato de envelope espectral da banda alta que é consistente com a energia de banda alta estimada. Uma técnica para melhorar formatos de envelope espectral de banda alta, diferentes, correspondendo a diferentes energias de banda alta é descrita a seguir.A high-band spectrum estimator 510 considers an estimate of high-band energy as input and selects a high-band spectral envelope format that is consistent with the estimated high-band energy. A technique to improve different high-band spectral envelope formats, corresponding to different high-band energies is described below.
Começando com um banco de dados de treinamento, grande, de fala de banda larga amostrada em 16 kHz, o envelope de magnitude espectral de banda larga é computado para cada quadro de fala utilizando análise padrão de LP ou outras técnicas. A partir do envelope espectral de banda larga de cada quadro, a porção de banda alta correspondendo a 3400-8000 Hz é extraída e normalizada mediante divisão pela magnitude espectral em 3400 Hz. Os envelopes espectrais de banda alta, resultantes, desse modo têm uma magnitude de 0 dB em 3400 Hz. A energia de banda alta correspondendo a cada envelope de banda alta normalizada é computada a seguir. O grupo de envelopes espectrais de banda alta é então dividido com base na energia de banda alta, por exemplo, uma sequência de valores nominais de energia diferindo em 1 dB é selecionada para cobrir a faixa inteira e todos os envelopes com energia dentro de 0,5 dB de um valor nominal são agrupados juntos.Starting with a large training database of broadband speech sampled at 16 kHz, the broadband spectral magnitude envelope is computed for each speech frame using standard LP analysis or other techniques. From the broadband spectral envelope of each frame, the high band portion corresponding to 3400-8000 Hz is extracted and normalized by dividing by the spectral magnitude at 3400 Hz. The resulting high band spectral envelopes thus have a magnitude 0 dB at 3400 Hz. The high band energy corresponding to each normalized high band envelope is computed below. The group of spectral high-band envelopes is then divided based on high-band energy, for example, a sequence of nominal energy values differing by 1 dB is selected to cover the entire range and all envelopes with energy within 0, 5 dB of a setpoint are grouped together.
31/3731/37
Para cada grupo assim formado, o formato médio de envelope espectral de banda alta é computado e subsequentemente a energia de banda alta correspondente. Na Figura 6, um conjunto de 60 formatos de envelope espectral de banda alta 600 (com magnitude em dB versus frequência em Hz) em diferentes níveis de energia é mostrado. Contando a partir da parte inferior da figura, o Io, 10°, 20°, 30°, 40°, 50° e 60° formato (mencionados aqui como formatos précomputados) foram obtidos utilizando-se uma técnica similar àquela descrita acima. Os 53 formatos restantes foram obtidos mediante interpolação linear simples (no domínio dB) entre os formatos pré-computados, mais próximos.For each group thus formed, the average high-band spectral envelope format is computed and subsequently the corresponding high-band energy. In Figure 6, a set of 60 high-band spectral envelope formats 600 (with magnitude in dB versus frequency in Hz) at different energy levels is shown. Counting from the bottom of the figure, the I, 10 °, 20 °, 30 °, 40 °, 50 ° and 60 ° format (referred to herein as precomputed shapes) were obtained using a technique similar to that described above. The remaining 53 formats were obtained through simple linear interpolation (in the dB domain) between the closest pre-computed formats.
As energias desses formatos variam de aproximadamente 4,5 dB para o primeiro formato a aproximadamente 43,5 dB para o 60° formato. Dada a energia de banda alta para um quadro, é uma questão simples selecionar o formato de envelope espectral de banda alta de combinação mais próxima como será descrito posteriormente no documento. O formato selecionado representa o envelope espectral de banda alta estimado SE^ para dentro de uma constante. Na Figura 6, a resolução de energia média é de aproximadamente 0,65 dB. Claramente, melhor resolução é possível mediante aumento do número de formatos. Dados os formatos na Figura 6, a seleção de um formato para uma energia específica é singular. Também se pode pensar sobre uma situação onde há mais do que um formato para uma determinada energia, por exemplo, quatro formatos por nível de energia, e nesse caso, informação adicional é necessária para selecionar um dos 4 formatos para cada nível de energia determinado. Adicionalmente, é possível terThe energies of these formats vary from approximately 4.5 dB for the first format to approximately 43.5 dB for the 60th format. Given the high band energy for a frame, it is a simple matter to select the closest matching high band spectral envelope format as will be described later in the document. The selected format represents the estimated high band spectral envelope SE ^ into a constant. In Figure 6, the average energy resolution is approximately 0.65 dB. Clearly, better resolution is possible by increasing the number of formats. Given the formats in Figure 6, the selection of a format for a specific energy is unique. One can also think about a situation where there is more than one format for a given energy, for example, four formats per energy level, in which case, additional information is needed to select one of the 4 formats for each determined energy level. Additionally, it is possible to have
32/37 múltiplos conjuntos de formatos cada conjunto indexado pela energia de banda alta, por exemplo, dois conjuntos de formatos selecionáveis pelo parâmetro de voz v, um para os quadros com voz e o outro para os quadros sem voz. Para um quadro com voz misturado, os dois formatos selecionados a partir dos dois conjuntos podem ser combinados apropriadamente.32/37 multiple sets of formats each set indexed by high band energy, for example, two sets of formats selectable by the voice parameter v, one for frames with voice and the other for frames without voice. For a frame with mixed voice, the two formats selected from the two sets can be combined appropriately.
O método de estimação de espectro de banda alta descrito acima oferece algumas vantagens claras. Por exemplo, essa abordagem oferece controle explícito sobre a evolução temporal das estimativas de espectro de banda alta. Uma evolução suave das estimativas de espectro de banda alta dentro de segmentos de fala distintos, por exemplo, fala com voz, fala sem voz, e assim por diante frequentemente é importante para fala de largura de banda estendida livre de artefatos. Para o método de estimação de espectro de banda alta descrito acima, é evidente a partir da Figura 6, que pequenas alterações na energia de banda alta resultam em pequenas mudanças nos formatos de envelope espectral de banda alta. Assim, evolução suave do espectro de banda alta pode ser essencialmente assegurada mediante garantia de que a evolução temporal da energia de banda alta dentro de segmentos distintos de fala também seja suave. Isso é realizado explicitamente mediante suavização de trilha de energia conforme descrito anteriormente.The high band spectrum estimation method described above offers some clear advantages. For example, this approach offers explicit control over the time evolution of high band spectrum estimates. A smooth evolution of high bandwidth spectrum estimates within different speech segments, for example, speech with speech, speech without voice, and so on is often important for artifact-free extended bandwidth speech. For the high band spectrum estimation method described above, it is evident from Figure 6 that small changes in high band energy result in small changes in high band spectral envelope formats. Thus, smooth evolution of the high band spectrum can be essentially ensured by ensuring that the temporal evolution of high band energy within distinct speech segments is also smooth. This is done explicitly by smoothing the energy track as previously described.
Observar que segmentos de fala distintos, dentro dos quais a suavização de energia é realizada, podem ser identificados com resolução ainda mais fina, por exemplo, mediante monitoração da mudança no espectro de fala de banda estreita ou no espectro de fala de banda estreitaNote that different speech segments, within which energy smoothing is performed, can be identified with even finer resolution, for example, by monitoring the change in the narrowband speech spectrum or in the narrowband speech spectrum
33/37 amostrado ascendentemente a partir de quadro a quadro utilizando qualquer uma das medidas de distância espectral, bem conhecidas, tal como distorção espectral de registro ou a distorção Itakura baseada em LP. Utilizando-se essa abordagem, um segmento de fala distinto pode ser definido como uma sequência de quadros dentro da qual o espectro está se desenvolvendo lentamente e que é agrupado em cada lado por um quadro no qual a mudança espectral computada excede um limite fixo ou adaptativo desse modo indicando a presença de uma transição espectral em qualquer um dos lados do segmento de fala distinto. A suavização da trilha de energia pode ser então feita dentro do segmento de fala distinto, mas não através dos limites de segmento.33/37 sampled upwardly from frame to frame using any of the well-known spectral distance measurements, such as spectral record distortion or LP-based Itakura distortion. Using this approach, a distinct speech segment can be defined as a sequence of frames within which the spectrum is slowly developing and that is grouped on each side by a frame in which the computed spectral change exceeds a fixed or adaptive limit. thereby indicating the presence of a spectral transition on either side of the distinct speech segment. The smoothing of the energy track can then be done within the distinct speech segment, but not across the segment boundaries.
Aqui, evolução suave da trilha de energia de banda alta se traduz em uma evolução suave do envelope espectral de banda alta estimada, o qual é uma característica desejável dentro de um segmento de fala distinto. Observar também que essa abordagem para garantir uma evolução suave do envelope espectral de banda alta dentro de um segmento de fala distinto também pode ser aplicada como uma etapa de pós-processamento a uma sequência de envelopes espectrais de banda alta, estimados obtidos pelos métodos da técnica anterior. Nesse caso, contudo, os envelopes espectrais de banda alta precisam ser suavizados explicitamente dentro de um segmento de fala distinto, ao contrário da suavização de trilha de energia direta dos ensinamentos atuais que resulta automaticamente na evolução de suavização do envelope espectral da banda alta.Here, smooth evolution of the high band energy path translates into a smooth evolution of the estimated high band spectral envelope, which is a desirable characteristic within a distinct speech segment. Also note that this approach to ensure smooth evolution of the high-band spectral envelope within a distinct speech segment can also be applied as a post-processing step to a sequence of high-band spectral envelopes, estimated by the techniques of the technique previous. In this case, however, high-band spectral envelopes need to be smoothed explicitly within a distinct speech segment, as opposed to the direct energy trail smoothing of current teachings that automatically results in the smoothing evolution of the high-band spectral envelope.
A perda de informação do sinal de fala de banda estreita na banda baixa (a qual, nesse exemplo ilustrativo,The loss of information from the narrowband speech signal in the low band (which, in this illustrative example,
34/37 pode ser de 0 - 300 Hz) não se deve à restrição de largura de banda imposta pela frequência de amostragem como no caso da banda alta, mas devido ao efeito de limitação de banda da função de transferência de canal consistindo, por exemplo, no microfone, amplificador, codificador de fala, canal de transmissão, e assim por diante.34/37 can be 0 - 300 Hz) not due to the bandwidth restriction imposed by the sampling frequency as in the case of high band, but due to the bandwidth limiting effect of the channel transfer function consisting, for example , on the microphone, amplifier, speech encoder, transmission channel, and so on.
Uma abordagem direta para restaurar o sinal de banda baixa é então o de neutralizar o efeito dessa função de transferência de canal dentro da faixa de 0 a 300 Hz. Uma forma simples de fazer isso é a de utilizar um estimador de espectro de banda baixa 511 para estimar a função de transferência de canal na faixa de frequência a partir de 0 a 300 Hz a partir dos dados disponíveis, obter o seu inverso, e usar o inverso para reforçar o envelope espectral da fala de banda estreita amostrada ascendentemente. Isto é, um envelope espectral de banda baixa SElb é estimado como a soma de SEusnb e uma característica de reforço de envelope espectral SEboost designada a partir do inverso da função de transferência de canal (supondo que as magnitudes de envelope espectral são expressas no domínio de registro, por exemplo, dB) . Para muitos cenários de aplicação, deve-se ter cuidado no modelo de SEboost. Como a restauração do sinal de banda baixa se baseia essencialmente na amplificação de um sinal de nível baixo, ela envolve o risco de amplificar erros, ruído, e distorções associadas tipicamente com os sinais de nível baixo. Dependendo da qualidade do sinal de nível baixo, o valor de reforço máximo deve ser apropriadamente restrito. Além disso, dentro da faixa de frequências a partir de 0 a aproximadamente 60 Hz, é desejável projetar o SEboost paraA straightforward approach to restoring the low band signal is to neutralize the effect of this channel transfer function within the range of 0 to 300 Hz. A simple way to do this is to use a low band spectrum estimator 511 to estimate the channel transfer function in the frequency range from 0 to 300 Hz from the available data, obtain its inverse, and use the inverse to reinforce the spectral envelope of upwardly sampled narrowband speech. That is, a low band spectral envelope SE lb is estimated as the sum of SE usnb and a spectral envelope reinforcement characteristic SE boos t designated from the inverse of the channel transfer function (assuming the spectral envelope magnitudes are expressed in the registration domain, for example, dB). For many application scenarios, care should be taken with the SE boost model. Since the restoration of the low band signal is essentially based on the amplification of a low level signal, it involves the risk of amplifying errors, noise, and distortions typically associated with low level signals. Depending on the quality of the low level signal, the maximum boost value must be appropriately restricted. In addition, within the frequency range from 0 to approximately 60 Hz, it is desirable to design the SE boost for
35/37 ter valores baixos (ou até mesmo negativos, isto é, atenuantes) para evitar a amplificação de zumbido elétrico e ruído de fundo.35/37 have low values (or even negative, that is, attenuating) to avoid amplification of electrical hum and background noise.
Um estimador de espectro de banda larga 512 pode então estimar o envelope espectral de banda larga mediante combinação dos envelopes espectrais estimados na banda estreita, na banda alta, e na banda baixa. Uma forma de combinar os três envelopes para se estimar o envelope espectral de banda larga é conforme a seguir.A broadband spectrum estimator 512 can then estimate the broadband spectral envelope by combining the estimated spectral envelopes in the narrow band, the high band, and the low band. One way to combine the three envelopes to estimate the broadband spectral envelope is as follows.
envelope espectral de banda estreita SEnb é estimado a partir de Snb como descrito acima e seus valores dentro da faixa de 4 00 a 3.200 Hz são usados sem qualquer mudança na estimativa de envelope espectral de banda larga SE„b. Para selecionar o formato de banda alta apropriado, a energia de banda alta e o valor de magnitude inicial em 3.400 Hz são necessários. A energia de banda alta Ehb em dB é estimada conforme descrito anteriormente. O valor de magnitude inicial em 3.400 Hz é estimado mediante modelagem do espectro de magnitude de FFT de Snb em dB dentro da banda de transição, isto é, 2.500 - 3.400 Hz, por intermédio de uma linha reta através de regressão linear e descobrindo-se o valor da linha reta em 3.400 Hz. Deixando esse valor de magnitude ser denotado por M340o em dB. O formato de envelope espectral de banda alta é então selecionado como aquele entre muitos valores, por exemplo, como mostrado na Figura 6, que tem um valor de energia mais próximo de Ehb ~ M34Oo · Deixemos esse formato ser denotado por SEclosegt. Então a estimativa de envelope espectral de banda alta SEhb e, portanto, o envelope espectral de banda larga SEwb dentro da faixa a partir de 3.4 00 a 8.000 Hz são estimados comonarrowband spectral envelope SEnb is estimated from Snb as described above and its values within the range of 400 to 3,200 Hz are used without any change in the broadband spectral envelope estimate SE „b. To select the appropriate high band format, high band energy and the initial magnitude value at 3,400 Hz are required. The high band energy Ehb in dB is estimated as previously described. The initial magnitude value at 3,400 Hz is estimated by modeling the FFT magnitude spectrum of Snb in dB within the transition band, that is, 2,500 - 3,400 Hz, by means of a straight line through linear regression and discovering the value of the straight line at 3,400 Hz. Letting this value of magnitude be denoted by M340o in dB. The high-band spectral envelope format is then selected as the one among many values, for example, as shown in Figure 6, which has an energy value closer to Ehb ~ M 34O o · Let this format be denoted by SE closegt . Then the SEhb high band spectral envelope estimate and therefore the SE wb broadband spectral envelope within the range from 3,400 to 8,000 Hz are estimated as
36/3736/37
SEc3osest + M3400.SE c3osest + M3400.
Entre 3.200 e 3.400 Hz, SEwb é estimado como o valor linearmente interpolado em dB entre SE^ e uma linha reta unindo o SEnh em 3.200 Hz e M34Oo em 3.4 00 Hz. O próprio fator de interpolação é mudado linearmente de tal modo que o SEwb estimado se desloca gradualmente a partir de SEnb em 3.200 Hz para M34Oo em 3.400 Hz. Entre 0 a 400 Hz, o envelope espectral de banda baixa SElb e o envelope espectral de banda larga SEwb são estimados como SEnh + SEboost onde SEboost representa uma característica de reforço apropriadamente projetada a partir do inverso da função de transferência de canal como descrito anteriormente.Between 3,200 and 3,400 Hz, IF wb is estimated as the value linearly interpolated in dB between IF ^ and a straight line joining the sinh in 3,200 Hz and M 34th at 3.4 00 Hz. The proper interpolation factor is changed linearly so that the estimated SE wb moves gradually from SEnb at 3,200 Hz to M 34O or at 3,400 Hz. Between 0 to 400 Hz, the low band spectral envelope SE lb and the broad band spectral envelope SE wb are estimated as SEnh + SE boost where SE boost represents a reinforcement characteristic appropriately designed from the inverse of the channel transfer function as previously described.
Como aludido anteriormente, os quadros contendo inícios e/ou plosivas podem se beneficiar de manipulação especial para evitar artefatos ocasionais na fala estendida de largura de banda. Tais quadros podem ser identificados pelo aumento súbito em suas energias em relação aos quadros precedentes. A saída d do detector de início/plosiva 503 para um quadro é ajustada para 1 sempre que a energia do quadro precedente for baixa, isto é, abaixo de certo limite, por exemplo, -50 dB, e o aumento na energia do quadro atual em relação ao quadro precedente exceder outro limite, por exemplo, 15 dB. Caso contrário, a saída d de detector é ajustada para 0. A própria energia de quadro é computada a partir da energia do espectro de magnitude FFT da fala de banda estreita mostrada ascendentemente Snb dentro da banda estreita, isto é, 300 - 3.400 Hz. Conforme observado acima, a saída do detector de início/plosiva 503 d é alimentada ao estimador de nível de voz 5 02 e ao adaptador de energia 508. Conforme descrito anteriormente,As previously mentioned, frames containing starts and / or stops can benefit from special manipulation to avoid occasional artifacts in bandwidth extended speech. Such pictures can be identified by the sudden increase in their energies in relation to the previous pictures. The output d of the start / stop detector 503 for a frame is set to 1 whenever the energy of the preceding frame is low, that is, below a certain limit, for example, -50 dB, and the increase in the energy of the current frame in relation to the preceding frame exceeds another limit, for example, 15 dB. Otherwise, the detector output d is set to 0. The frame energy itself is computed from the energy of the FFT magnitude spectrum of the narrowband speech shown upwardly Snb within the narrowband, that is, 300 - 3,400 Hz. As noted above, the output of the 503 d start / stop detector is powered by the voice level estimator 5 02 and the power adapter 508. As previously described,
37/37 sempre que um quadro for sinalizado como contendo um início ou um plosiva com d = 1, o nível de voz v daquele quadro assim como do quadro seguinte é ajustado para 1. Além disso, o valor de energia de banda alta, adaptado, Ehb daquele quadro assim como do quadro seguinte é ajustado para um valor baixo.37/37 whenever a frame is signaled as containing a start or stop with d = 1, the voice level v of that frame as well as that of the next frame is set to 1. In addition, the high band energy value, adapted , Ehb of that frame as well as that of the next frame is set to a low value.
Observar que embora a estimação de parâmetros tal como envelope espectral, cruzamentos zero, coeficientes LP, energias de banda, e assim por diante, foi descrita nos exemplos específicos previamente fornecidos como sendo feita a partir da fala de banda estreita em alguns casos e a partir da fala de banda estreita mostrada ascendentemente em outros casos, será considerado por aqueles versados na técnica que a estimação dos parâmetros respectivos e seu uso e aplicação subsequentes, podem ser modificados para serem feitos a partir de qualquer um desses dois sinais (fala de banda estreita ou a fala de banda estreita amostrada ascendentemente), sem se afastar do espírito e escopo dos ensinamentos descritos.Note that although the estimation of parameters such as spectral envelope, zero crossings, LP coefficients, band energies, and so on, has been described in the specific examples previously provided as being made from narrowband speech in some cases and from of narrowband speech shown upwardly in other cases, it will be considered by those skilled in the art that the estimation of the respective parameters and their subsequent use and application can be modified to be made from either of these two signals (narrowband speech or the narrowband speech sampled upwards), without departing from the spirit and scope of the teachings described.
Aqueles versados na técnica reconhecerão que diversas modificações, alterações e combinações podem ser feitas com relação às modalidades descritas acima sem se afastar do espírito e escopo da invenção, e que tais modificações, alterações, e combinações devem ser vistas como dentro do âmbito do conceito inventivo.Those skilled in the art will recognize that various modifications, changes and combinations can be made with respect to the modalities described above without departing from the spirit and scope of the invention, and that such modifications, changes, and combinations must be viewed as within the scope of the inventive concept. .
Claims (11)
Applications Claiming Priority (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US11/946,978 | 2007-11-29 | ||
US11/946,978 US8688441B2 (en) | 2007-11-29 | 2007-11-29 | Method and apparatus to facilitate provision and use of an energy value to determine a spectral envelope shape for out-of-signal bandwidth content |
PCT/US2008/079366 WO2009070387A1 (en) | 2007-11-29 | 2008-10-09 | Method and apparatus for bandwidth extension of audio signal |
Publications (3)
Publication Number | Publication Date |
---|---|
BRPI0820463A2 BRPI0820463A2 (en) | 2015-06-16 |
BRPI0820463A8 BRPI0820463A8 (en) | 2015-11-03 |
BRPI0820463B1 true BRPI0820463B1 (en) | 2019-03-06 |
Family
ID=40149754
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
BRPI0820463-2A BRPI0820463B1 (en) | 2007-11-29 | 2008-10-09 | METHOD AND APPARATUS FOR AUDIO SIGNAL BAND WIDTH EXTENSION |
Country Status (8)
Country | Link |
---|---|
US (1) | US8688441B2 (en) |
EP (1) | EP2232223B1 (en) |
KR (2) | KR20100086018A (en) |
CN (2) | CN102646419B (en) |
BR (1) | BRPI0820463B1 (en) |
MX (1) | MX2010005679A (en) |
RU (1) | RU2447415C2 (en) |
WO (1) | WO2009070387A1 (en) |
Families Citing this family (30)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US8688441B2 (en) | 2007-11-29 | 2014-04-01 | Motorola Mobility Llc | Method and apparatus to facilitate provision and use of an energy value to determine a spectral envelope shape for out-of-signal bandwidth content |
US8433582B2 (en) * | 2008-02-01 | 2013-04-30 | Motorola Mobility Llc | Method and apparatus for estimating high-band energy in a bandwidth extension system |
US20090201983A1 (en) * | 2008-02-07 | 2009-08-13 | Motorola, Inc. | Method and apparatus for estimating high-band energy in a bandwidth extension system |
WO2009116815A2 (en) * | 2008-03-20 | 2009-09-24 | Samsung Electronics Co., Ltd. | Apparatus and method for encoding and decoding using bandwidth extension in portable terminal |
US8463412B2 (en) * | 2008-08-21 | 2013-06-11 | Motorola Mobility Llc | Method and apparatus to facilitate determining signal bounding frequencies |
US8463603B2 (en) * | 2008-09-06 | 2013-06-11 | Huawei Technologies Co., Ltd. | Spectral envelope coding of energy attack signal |
US8463599B2 (en) * | 2009-02-04 | 2013-06-11 | Motorola Mobility Llc | Bandwidth extension method and apparatus for a modified discrete cosine transform audio coder |
JP5754899B2 (en) | 2009-10-07 | 2015-07-29 | ソニー株式会社 | Decoding apparatus and method, and program |
WO2011062538A1 (en) | 2009-11-19 | 2011-05-26 | Telefonaktiebolaget Lm Ericsson (Publ) | Bandwidth extension of a low band audio signal |
WO2011121782A1 (en) * | 2010-03-31 | 2011-10-06 | 富士通株式会社 | Bandwidth extension device and bandwidth extension method |
JP5850216B2 (en) | 2010-04-13 | 2016-02-03 | ソニー株式会社 | Signal processing apparatus and method, encoding apparatus and method, decoding apparatus and method, and program |
JP5609737B2 (en) | 2010-04-13 | 2014-10-22 | ソニー株式会社 | Signal processing apparatus and method, encoding apparatus and method, decoding apparatus and method, and program |
KR101773631B1 (en) | 2010-06-09 | 2017-08-31 | 파나소닉 인텔렉츄얼 프로퍼티 코포레이션 오브 아메리카 | Band enhancement method, band enhancement apparatus, program, integrated circuit and audio decoder apparatus |
JP6075743B2 (en) * | 2010-08-03 | 2017-02-08 | ソニー株式会社 | Signal processing apparatus and method, and program |
KR20120016709A (en) * | 2010-08-17 | 2012-02-27 | 삼성전자주식회사 | Apparatus and method for improving the voice quality in portable communication system |
JP5707842B2 (en) | 2010-10-15 | 2015-04-30 | ソニー株式会社 | Encoding apparatus and method, decoding apparatus and method, and program |
US8583425B2 (en) * | 2011-06-21 | 2013-11-12 | Genband Us Llc | Methods, systems, and computer readable media for fricatives and high frequencies detection |
RU2610293C2 (en) | 2012-03-29 | 2017-02-08 | Телефонактиеболагет Лм Эрикссон (Пабл) | Harmonic audio frequency band expansion |
US9601125B2 (en) | 2013-02-08 | 2017-03-21 | Qualcomm Incorporated | Systems and methods of performing noise modulation and gain adjustment |
EP2830065A1 (en) * | 2013-07-22 | 2015-01-28 | Fraunhofer-Gesellschaft zur Förderung der angewandten Forschung e.V. | Apparatus and method for decoding an encoded audio signal using a cross-over filter around a transition frequency |
US9666202B2 (en) * | 2013-09-10 | 2017-05-30 | Huawei Technologies Co., Ltd. | Adaptive bandwidth extension and apparatus for the same |
WO2015041070A1 (en) | 2013-09-19 | 2015-03-26 | ソニー株式会社 | Encoding device and method, decoding device and method, and program |
KR20230042410A (en) | 2013-12-27 | 2023-03-28 | 소니그룹주식회사 | Decoding device, method, and program |
FR3017484A1 (en) * | 2014-02-07 | 2015-08-14 | Orange | ENHANCED FREQUENCY BAND EXTENSION IN AUDIO FREQUENCY SIGNAL DECODER |
CN106997767A (en) * | 2017-03-24 | 2017-08-01 | 百度在线网络技术（北京）有限公司 | Method of speech processing and device based on artificial intelligence |
EP3382704A1 (en) * | 2017-03-31 | 2018-10-03 | Fraunhofer-Gesellschaft zur Förderung der angewandten Forschung e.V. | Apparatus and method for determining a predetermined characteristic related to a spectral enhancement processing of an audio signal |
CN107863095A (en) | 2017-11-21 | 2018-03-30 | 广州酷狗计算机科技有限公司 | Acoustic signal processing method, device and storage medium |
CN108156561B (en) | 2017-12-26 | 2020-08-04 | 广州酷狗计算机科技有限公司 | Audio signal processing method and device and terminal |
CN108156575B (en) | 2017-12-26 | 2019-09-27 | 广州酷狗计算机科技有限公司 | Processing method, device and the terminal of audio signal |
CN109036457B (en) * | 2018-09-10 | 2021-10-08 | 广州酷狗计算机科技有限公司 | Method and apparatus for restoring audio signal |
Family Cites Families (65)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US4771465A (en) * | 1986-09-11 | 1988-09-13 | American Telephone And Telegraph Company, At&T Bell Laboratories | Digital speech sinusoidal vocoder with transmission of only subset of harmonics |
JPH02166198A (en) | 1988-12-20 | 1990-06-26 | Asahi Glass Co Ltd | Dry cleaning agent |
US5765127A (en) * | 1992-03-18 | 1998-06-09 | Sony Corp | High efficiency encoding method |
US5245589A (en) * | 1992-03-20 | 1993-09-14 | Abel Jonathan S | Method and apparatus for processing signals to extract narrow bandwidth features |
JP2779886B2 (en) * | 1992-10-05 | 1998-07-23 | 日本電信電話株式会社 | Wideband audio signal restoration method |
US5455888A (en) * | 1992-12-04 | 1995-10-03 | Northern Telecom Limited | Speech bandwidth extension method and apparatus |
JPH07160299A (en) * | 1993-12-06 | 1995-06-23 | Hitachi Denshi Ltd | Sound signal band compander and band compression transmission system and reproducing system for sound signal |
EP0732687B2 (en) * | 1995-03-13 | 2005-10-12 | Matsushita Electric Industrial Co., Ltd. | Apparatus for expanding speech bandwidth |
JP3522954B2 (en) * | 1996-03-15 | 2004-04-26 | 株式会社東芝 | Microphone array input type speech recognition apparatus and method |
US5794185A (en) * | 1996-06-14 | 1998-08-11 | Motorola, Inc. | Method and apparatus for speech coding using ensemble statistics |
US5949878A (en) * | 1996-06-28 | 1999-09-07 | Transcrypt International, Inc. | Method and apparatus for providing voice privacy in electronic communication systems |
JPH10124088A (en) * | 1996-10-24 | 1998-05-15 | Sony Corp | Device and method for expanding voice frequency band width |
SE512719C2 (en) * | 1997-06-10 | 2000-05-02 | Lars Gustaf Liljeryd | A method and apparatus for reducing data flow based on harmonic bandwidth expansion |
KR20000047944A (en) * | 1998-12-11 | 2000-07-25 | 이데이 노부유끼 | Receiving apparatus and method, and communicating apparatus and method |
SE9903553D0 (en) * | 1999-01-27 | 1999-10-01 | Lars Liljeryd | Enhancing conceptual performance of SBR and related coding methods by adaptive noise addition (ANA) and noise substitution limiting (NSL) |
US6453287B1 (en) * | 1999-02-04 | 2002-09-17 | Georgia-Tech Research Corporation | Apparatus and quality enhancement algorithm for mixed excitation linear predictive (MELP) and other speech coders |
JP2000305599A (en) * | 1999-04-22 | 2000-11-02 | Sony Corp | Speech synthesizing device and method, telephone device, and program providing media |
US7330814B2 (en) * | 2000-05-22 | 2008-02-12 | Texas Instruments Incorporated | Wideband speech coding with modulated noise highband excitation system and method |
SE0001926D0 (en) * | 2000-05-23 | 2000-05-23 | Lars Liljeryd | Improved spectral translation / folding in the subband domain |
DE10041512B4 (en) * | 2000-08-24 | 2005-05-04 | Infineon Technologies Ag | Method and device for artificially expanding the bandwidth of speech signals |
WO2002029782A1 (en) * | 2000-10-02 | 2002-04-11 | The Regents Of The University Of California | Perceptual harmonic cepstral coefficients as the front-end for speech recognition |
US6990446B1 (en) * | 2000-10-10 | 2006-01-24 | Microsoft Corporation | Method and apparatus using spectral addition for speaker recognition |
US6889182B2 (en) * | 2001-01-12 | 2005-05-03 | Telefonaktiebolaget L M Ericsson (Publ) | Speech bandwidth extension |
US20020128839A1 (en) * | 2001-01-12 | 2002-09-12 | Ulf Lindgren | Speech bandwidth extension |
EP1356454B1 (en) * | 2001-01-19 | 2006-03-01 | Koninklijke Philips Electronics N.V. | Wideband signal transmission system |
SE522553C2 (en) | 2001-04-23 | 2004-02-17 | Ericsson Telefon Ab L M | Bandwidth extension of acoustic signals |
JP3597808B2 (en) | 2001-09-28 | 2004-12-08 | トヨタ自動車株式会社 | Slip detector for continuously variable transmission |
US6988066B2 (en) * | 2001-10-04 | 2006-01-17 | At&T Corp. | Method of bandwidth extension for narrow-band speech |
US6895375B2 (en) * | 2001-10-04 | 2005-05-17 | At&T Corp. | System for bandwidth extension of Narrow-band speech |
ATE331280T1 (en) * | 2001-11-23 | 2006-07-15 | Koninkl Philips Electronics Nv | BANDWIDTH EXTENSION FOR AUDIO SIGNALS |
US20030187663A1 (en) * | 2002-03-28 | 2003-10-02 | Truman Michael Mead | Broadband frequency translation for high frequency regeneration |
KR100602975B1 (en) | 2002-07-19 | 2006-07-20 | 닛본 덴끼 가부시끼가이샤 | Audio decoding apparatus and decoding method and computer-readable recording medium |
JP3861770B2 (en) * | 2002-08-21 | 2006-12-20 | ソニー株式会社 | Signal encoding apparatus and method, signal decoding apparatus and method, program, and recording medium |
KR100917464B1 (en) * | 2003-03-07 | 2009-09-14 | 삼성전자주식회사 | Method and apparatus for encoding/decoding digital data using bandwidth extension technology |
US20050004793A1 (en) * | 2003-07-03 | 2005-01-06 | Pasi Ojala | Signal adaptation for higher band coding in a codec utilizing band split coding |
US20050065784A1 (en) * | 2003-07-31 | 2005-03-24 | Mcaulay Robert J. | Modification of acoustic signals using sinusoidal analysis and synthesis |
US7461003B1 (en) * | 2003-10-22 | 2008-12-02 | Tellabs Operations, Inc. | Methods and apparatus for improving the quality of speech signals |
JP2005136647A (en) * | 2003-10-30 | 2005-05-26 | New Japan Radio Co Ltd | Bass booster circuit |
KR100587953B1 (en) * | 2003-12-26 | 2006-06-08 | 한국전자통신연구원 | Packet loss concealment apparatus for high-band in split-band wideband speech codec, and system for decoding bit-stream using the same |
CA2454296A1 (en) * | 2003-12-29 | 2005-06-29 | Nokia Corporation | Method and device for speech enhancement in the presence of background noise |
US7460990B2 (en) * | 2004-01-23 | 2008-12-02 | Microsoft Corporation | Efficient coding of digital media spectral data using wide-sense perceptual similarity |
KR100708121B1 (en) | 2005-01-22 | 2007-04-16 | 삼성전자주식회사 | Method and apparatus for bandwidth extension of speech |
MX2007012187A (en) * | 2005-04-01 | 2007-12-11 | Qualcomm Inc | Systems, methods, and apparatus for highband time warping. |
US20060224381A1 (en) * | 2005-04-04 | 2006-10-05 | Nokia Corporation | Detecting speech frames belonging to a low energy sequence |
US8249861B2 (en) * | 2005-04-20 | 2012-08-21 | Qnx Software Systems Limited | High frequency compression integration |
TWI324336B (en) * | 2005-04-22 | 2010-05-01 | Qualcomm Inc | Method of signal processing and apparatus for gain factor smoothing |
US8311840B2 (en) * | 2005-06-28 | 2012-11-13 | Qnx Software Systems Limited | Frequency extension of harmonic signals |
KR101171098B1 (en) * | 2005-07-22 | 2012-08-20 | 삼성전자주식회사 | Scalable speech coding/decoding methods and apparatus using mixed structure |
EP1772855B1 (en) * | 2005-10-07 | 2013-09-18 | Nuance Communications, Inc. | Method for extending the spectral bandwidth of a speech signal |
US7953605B2 (en) * | 2005-10-07 | 2011-05-31 | Deepen Sinha | Method and apparatus for audio encoding and decoding using wideband psychoacoustic modeling and bandwidth extension |
US7490036B2 (en) * | 2005-10-20 | 2009-02-10 | Motorola, Inc. | Adaptive equalizer for a coded speech signal |
US20070109977A1 (en) * | 2005-11-14 | 2007-05-17 | Udar Mittal | Method and apparatus for improving listener differentiation of talkers during a conference call |
US7546237B2 (en) * | 2005-12-23 | 2009-06-09 | Qnx Software Systems (Wavemakers), Inc. | Bandwidth extension of narrowband speech |
US7835904B2 (en) * | 2006-03-03 | 2010-11-16 | Microsoft Corp. | Perceptual, scalable audio compression |
US7844453B2 (en) * | 2006-05-12 | 2010-11-30 | Qnx Software Systems Co. | Robust noise estimation |
US20080004866A1 (en) * | 2006-06-30 | 2008-01-03 | Nokia Corporation | Artificial Bandwidth Expansion Method For A Multichannel Signal |
US8260609B2 (en) * | 2006-07-31 | 2012-09-04 | Qualcomm Incorporated | Systems, methods, and apparatus for wideband encoding and decoding of inactive frames |
DE602006009927D1 (en) | 2006-08-22 | 2009-12-03 | Harman Becker Automotive Sys | Method and system for providing an extended bandwidth audio signal |
US8639500B2 (en) * | 2006-11-17 | 2014-01-28 | Samsung Electronics Co., Ltd. | Method, medium, and apparatus with bandwidth extension encoding and/or decoding |
US8229106B2 (en) * | 2007-01-22 | 2012-07-24 | D.S.P. Group, Ltd. | Apparatus and methods for enhancement of speech |
US8688441B2 (en) | 2007-11-29 | 2014-04-01 | Motorola Mobility Llc | Method and apparatus to facilitate provision and use of an energy value to determine a spectral envelope shape for out-of-signal bandwidth content |
US8433582B2 (en) | 2008-02-01 | 2013-04-30 | Motorola Mobility Llc | Method and apparatus for estimating high-band energy in a bandwidth extension system |
US20090201983A1 (en) * | 2008-02-07 | 2009-08-13 | Motorola, Inc. | Method and apparatus for estimating high-band energy in a bandwidth extension system |
US8463412B2 (en) * | 2008-08-21 | 2013-06-11 | Motorola Mobility Llc | Method and apparatus to facilitate determining signal bounding frequencies |
US8463599B2 (en) * | 2009-02-04 | 2013-06-11 | Motorola Mobility Llc | Bandwidth extension method and apparatus for a modified discrete cosine transform audio coder |
-
2007
- 2007-11-29 US US11/946,978 patent/US8688441B2/en active Active
-
2008
- 2008-10-09 CN CN201210097887.1A patent/CN102646419B/en active Active
- 2008-10-09 KR KR1020107011802A patent/KR20100086018A/en not_active Application Discontinuation
- 2008-10-09 CN CN2008801183695A patent/CN101878416B/en active Active
- 2008-10-09 RU RU2010126497/08A patent/RU2447415C2/en active
- 2008-10-09 MX MX2010005679A patent/MX2010005679A/en active IP Right Grant
- 2008-10-09 EP EP08854969.6A patent/EP2232223B1/en active Active
- 2008-10-09 BR BRPI0820463-2A patent/BRPI0820463B1/en active IP Right Grant
- 2008-10-09 KR KR20127012371A patent/KR101482830B1/en active IP Right Grant
- 2008-10-09 WO PCT/US2008/079366 patent/WO2009070387A1/en active Application Filing
Also Published As
Publication number | Publication date |
---|---|
RU2010126497A (en) | 2012-01-10 |
CN102646419A (en) | 2012-08-22 |
WO2009070387A1 (en) | 2009-06-04 |
KR101482830B1 (en) | 2015-01-15 |
BRPI0820463A2 (en) | 2015-06-16 |
US8688441B2 (en) | 2014-04-01 |
RU2447415C2 (en) | 2012-04-10 |
BRPI0820463A8 (en) | 2015-11-03 |
CN101878416B (en) | 2012-06-06 |
KR20100086018A (en) | 2010-07-29 |
MX2010005679A (en) | 2010-06-02 |
KR20120055746A (en) | 2012-05-31 |
CN102646419B (en) | 2015-04-22 |
EP2232223A1 (en) | 2010-09-29 |
CN101878416A (en) | 2010-11-03 |
EP2232223B1 (en) | 2016-06-15 |
US20090144062A1 (en) | 2009-06-04 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
BRPI0820463B1 (en) | METHOD AND APPARATUS FOR AUDIO SIGNAL BAND WIDTH EXTENSION | |
ES2384084T3 (en) | Method and apparatus for estimating high band energy in a bandwidth extension system | |
EP2238593B1 (en) | Method and apparatus for estimating high-band energy in a bandwidth extension system for audio signals | |
US9659579B2 (en) | Method of and apparatus for evaluating intelligibility of a degraded speech signal, through selecting a difference function for compensating for a disturbance type, and providing an output signal indicative of a derived quality parameter | |
BR112012026984B1 (en) | apparatus and method for modifying an incoming audio signal | |
US9953663B2 (en) | Method of and apparatus for evaluating quality of a degraded speech signal | |
AU2013345546B2 (en) | Method of and apparatus for evaluating intelligibility of a degraded speech signal | |
BR112019020357A2 (en) | apparatus and method for processing an audio signal and non-transitory storage medium | |
US9659565B2 (en) | Method of and apparatus for evaluating intelligibility of a degraded speech signal, through providing a difference function representing a difference between signal frames and an output signal indicative of a derived quality parameter |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
B25D | Requested change of name of applicant approved |
Owner name: MOTOROLA SOLUTIONS, INC (US) |
|
B25A | Requested transfer of rights approved |
Owner name: MOTOROLA MOBILITY INC (US) |
|
B25G | Requested change of headquarter approved |
Owner name: MOTOROLA MOBILITY INC (US) |
|
B25D | Requested change of name of applicant approved |
Owner name: MOTOROLA MOBILITY LLC (US) |
|
B25A | Requested transfer of rights approved |
Owner name: GOOGLE TECHNOLOGY HOLDINGS LLC (US) |
|
B25E | Requested change of name of applicant rejected |
Owner name: GOOGLE TECHNOLOGY HOLDINGS LLC (US) |
|
B06A | Patent application procedure suspended [chapter 6.1 patent gazette] | ||
B09A | Decision: intention to grant [chapter 9.1 patent gazette] | ||
B16A | Patent or certificate of addition of invention granted [chapter 16.1 patent gazette] |
Free format text: PRAZO DE VALIDADE: 10 (DEZ) ANOS CONTADOS A PARTIR DE 06/03/2019, OBSERVADAS AS CONDICOES LEGAIS. |