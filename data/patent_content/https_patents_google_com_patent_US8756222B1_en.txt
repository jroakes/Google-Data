US8756222B1 - Systems and methods for confidence-based selection of hierarchical locations - Google Patents
Systems and methods for confidence-based selection of hierarchical locations Download PDFInfo
- Publication number
- US8756222B1 US8756222B1 US13/670,225 US201213670225A US8756222B1 US 8756222 B1 US8756222 B1 US 8756222B1 US 201213670225 A US201213670225 A US 201213670225A US 8756222 B1 US8756222 B1 US 8756222B1
- Authority
- US
- United States
- Prior art keywords
- hierarchical
- location
- processors
- locations
- computer
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Expired - Fee Related, expires
Links
Images
Classifications
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/90—Details of database functions independent of the retrieved data types
- G06F16/95—Retrieval from the web
- G06F16/953—Querying, e.g. by the use of web search engines
- G06F16/9537—Spatial or temporal dependent retrieval, e.g. spatiotemporal queries
Definitions
- This invention relates generally to determining the location of a computer and, more particularly to processing hierarchical locations.
- Location-based applications and services may be accessed by users to obtain information specific to a user's location. Such location-based applications and services may determine the location of a computer (referred to as “geolocation”), such as a smartphone, laptop computer, and the like, and deliver information such as content, advertisements to a user based on the location.
- the location determinations may include geolocation to obtain the world geographic location of the computer.
- Some businesses employ geolocation techniques to learn more about customers such that the business can provide goods, services, content, and advertisements that may be of particular interest to the customers.
- a website may employ geolocation techniques to identify the location of a person requesting to view a webpage, and deliver webpage content that may be of particular interest to persons in the location, such as local news, local maps, local advertisements and so forth.
- geolocation techniques In the context of the Internet, geolocation techniques often employ associating addresses of devices used to access the Internet with given locations. For example, an Internet Protocol (IP) address assigned to a computer may be associated with a given geographic location. Requests that are associated with the IP-address may be served with content that is associated with the given geographic location. Other locating techniques may include determining a geographic location from other information associated with a device or a user. However, in some instances the determination of a computer's location may be inaccurate, or the location may be at a higher level of granularity than desired for the location-based application or service. Additionally, the appropriate location, for the location-based application or service may not be selected and may not result in a user viewing the desired localized content, advertisements, etc.
- IP Internet Protocol
- Various embodiments of methods and systems for selecting a hierarchical location corresponding to a geographic location of a client computer are provided herein.
- a method for selecting a hierarchical location corresponding to a geographic location of a client computer is provided herein.
- the method includes receiving, at one or more processors, a request for location information, the request comprising a token sufficient to geolocate the client computer, determining, by one or more processors, geolocation data based on the token, the geolocation data having a plurality of hierarchical locations, each hierarchical location of the plurality of hierarchical locations encompassing the location below it, and iteratively traversing, by one or more processors, the plurality of hierarchical locations from the smallest hierarchical location to the largest hierarchical location.
- Each iteration includes determining, by one or more processors, a confidence measure associated with a selected one of the plurality of hierarchal locations, comparing, by one or more processors, the confidence measure to a threshold, providing by one or more processors, the selected one of the plurality of hierarchical locations in response to the request for location information from the client computer if the confidence measure is greater than the threshold, and selecting, by one or more processors, a next hierarchical location of the plurality of hierarchical locations if the confidence measure is less than the threshold.
- a non-transitory tangible computer-readable storage medium having executable computer code stored thereon for selecting a hierarchical location corresponding to a geographic location of a client computer is provided.
- the code includes a set of instructions that causes one or more processors to perform the following: comprising a token sufficient to geolocate the client computer, determining, by one or more processors, geolocation data based on the token, the geolocation data comprising a plurality of hierarchical locations, each hierarchical location of the plurality of hierarchical locations encompassing the location below it, and iteratively traversing, by one or more processors, the plurality of hierarchical locations from the smallest hierarchical location to the largest hierarchical location.
- Each iteration includes determining, by one or more processors, a confidence measure associated with a selected one of the plurality of hierarchal locations, comparing, by one or more processors, the confidence measure to a threshold, providing by one or more processors, the selected one of the plurality of hierarchical locations in response to the request for location information from the client computer if the confidence measure is greater than the threshold, and selecting, by one or more processors, a next hierarchical location of the plurality of hierarchical locations if the confidence measure is less than the threshold.
- a system for selecting a hierarchical location corresponding to a geographic location of a client computer includes one or more processors and a memory accessible by the one or more processors, the memory having computer code stored thereon.
- the code includes a set of instructions that causes one or more processors to perform the following: comprising a token sufficient to geolocate the client computer, determining, by one or more processors, geolocation data based on the token, the geolocation data comprising a plurality of hierarchical locations, each hierarchical location of the plurality of hierarchical locations encompassing the location below it, and iteratively traversing, by one or more processors, the plurality of hierarchical locations from the smallest hierarchical location to the largest hierarchical location.
- Each iteration includes determining, by one or more processors, a confidence measure associated with a selected one of the plurality of hierarchal locations, comparing, by one or more processors, the confidence measure to a threshold, providing by one or more processors, the selected one of the plurality of hierarchical locations in response to the request for location information from the client computer if the confidence measure is greater than the threshold, and selecting, by one or more processors, a next hierarchical location of the plurality of hierarchical locations if the confidence measure is less than the threshold.
- FIG. 1 is a schematic diagram of a system in accordance with an embodiment of the present invention
- FIG. 2 is a block diagram of a process for selecting a hierarchical location based on a confidence threshold in accordance with an embodiment of the present invention
- FIG. 3 is a block diagram of a process illustrating the selection of a hierarchical location based on a universal confidence threshold in accordance with an embodiment of the present invention
- FIG. 4 is a block diagram of a process for selecting a hierarchical location based on a level-specific confidence threshold in accordance with an embodiment of the present invention
- FIG. 5 is a block diagram of a process for selecting a hierarchical location based on a confidence threshold and category in accordance with an embodiment of the present invention
- FIG. 6 is a block diagram of a process for selecting a map viewport based on a viewport threshold in accordance with an embodiment of the present invention.
- FIG. 7 is a block diagram of a computer in accordance with an embodiment of the present invention.
- a client computer may provide a token, such as an IP address, that may be used to geolocate the client computer.
- a token such as an IP address
- other information associated with a user, client computer, or both may be used to geolocate the client computer.
- the geolocation determination may determine a list of hierarchical locations, ranging from a fine (e.g., smaller) hierarchical location to a coarse (e.g., larger) hierarchical location, such that each hierarchical location encompasses the locations below it.
- the hierarchical locations may include, for example, postal code, city, state, and country.
- Each hierarchical location may be associated with a confidence measure that indicates the probability that the client computer's location is within the geographical region identified by the hierarchical location.
- the hierarchical locations may be iteratively traversed from the finest (e.g., smallest) hierarchical location to the coarsest (e.g., largest) hierarchical location.
- Each hierarchical location may be compared to a confidence threshold. For example, the finest (e.g., smallest) hierarchical location may be selected, and the confidence measure associated with the finest (e.g., smallest) hierarchical location may be compared to the confidence threshold. If the confidence measure is above the confidence threshold, the selected hierarchical location may be selected as the location of the client computer.
- the next hierarchical location i.e., a coarser (e.g., larger) hierarchical location
- the next iteration may be performed by comparing the confidence measure associated with the next selected hierarchical location to a confidence threshold.
- the confidence threshold may include a universal confidence threshold independent of the selected hierarchical level.
- the confidence threshold may include a level-specific confidence threshold that is based on the selected hierarchical location.
- the confidence threshold may be a query-specific or category-specific confidence threshold based on a search query received from a client computer or a categorization of one or more terms of the search query.
- FIG. 1 is a diagram that illustrates a system 100 in accordance with an embodiment of the present invention.
- the system 100 may include a client computer 102 and a user 104 of the client computer 102 .
- the system 100 also includes a network 106 , a location system 108 , and a search engine 110 .
- the client computer 102 , location system 108 , and search engine 110 may communicate with each other over the network 106 .
- the client computer 102 may transmit data to and receive data from the location system 108 and the search engine 110 .
- the client computer 102 may include thick-clients, thin-clients, or both.
- the client computer 102 may include, for example, smartphones, tablet computers, laptop computers, desktop computers, etc.
- the system 100 may include multiple client computers 102 . Additionally, some embodiments may include a proxy, gateway, or other component located between the client computer 102 and other components of the system 100 . For example, a router or mobile proxy computer may be located between the client computer 102 and the network 106 . In other embodiments, the client computer 102 may access the network 106 , the location system 108 , or other components of the system 100 via a service provided by another entity.
- the network 106 may include any element or system that facilitates communications between the components of system 100 .
- the network 106 may include an electronic communication network, may include any suitable network, such as the Internet, an intranet, a local area network (LAN), a wide area network (WAN), a cellular communications network or any other suitable network, and may be a wireless or wired network.
- the network 106 may facilitate data exchange by way of packet switching using the Internet Protocol (IP).
- IP Internet Protocol
- Network 106 may facilitate wired and/or wireless connectivity and communication.
- Network 106 may include a single network or combination of networks (e.g., the Interest and a cellular communications network) that facilitate communication between the components of system 100 .
- the components of the system 100 may each be associated with a given Internet Protocol (IP) address.
- IP Internet Protocol
- the IP-address may include an IPv4 IP-address, and IPv6 IP-address or the like.
- An IP-address may include a dedicated IP-address (e.g., a non-shared IP-address) or a shared IP-address.
- a network device may be associated with a dedicated IP-address that is unique to the given network device with respect to other IP-addresses on the network 106 such that the given network device may be uniquely addressed by other devices on network 106 .
- the location-based system 108 and the search engine 110 may each be implemented on a single server (in a discrete hardware component or as a virtual server) or multiple servers.
- Such servers may include web servers, application servers, or other types of servers.
- the servers may be, for example, computers arranged in any physical and virtual configuration, such as computers in one or more data processing centers, a distributed computing environment, or other configuration. Such configurations may use the network 106 for communication or may communicate over other networks
- the location system 108 may include a location processing module 112 that may determine the geographical location of a component of the system 100 , such as by geolocation based on one or more tokens received from the client computer 102 , information associated with a user of the client computer 102 , information associated with the client computer, or a combination thereof.
- location and “location information” may include the past, present, or future location of a component of the system 100 , such as the past, present, or future location of the client computer 102 .
- the location system 108 may provide geolocation of components based on IP addresses associated with the components (referred to as “IP address geolocation”). For example, location system 108 may obtain, access, and process IP-addresses and geolocation data corresponding to the IP-addresses to generate a mapping of IP-addresses to real-world physical/geolocations (e.g., geographic coordinates, a physical address, zip-code, city, state, country, continent, time zone or the like). Upon receiving request for geolocation data associated with a given IP-address, the location system may provide a geolocation associated with the IP-address based on the mapping. In some embodiments, the location system 108 may access other systems to determine the location of a component.
- IP address geolocation IP addresses associated with the components
- the location system 108 may access a WHOIS service to determine the registrant of an IP address or a database of mapped IP addresses.
- IP-addresses and geolocation data are collected from requests received from access devices.
- the location processing module 112 may determine the geographical location of a component based on other suitable location estimations, such as global positioning system (GPS) estimates, assisted GPS (A-GPS) estimates, Wi-Fi network location estimations, cell tower location estimations, and the like.
- the location estimations may include locations estimated from “check-ins” from location based services, paths traveled via navigation systems, locations shared on social networking services, etc.
- the location processing module 112 may determine the geolocate the client computer based on historical behavior associated with the client computer or a user of the client computer, such as searches, map views, business lookups, ads or web pages viewed, navigation systems, travel planning, locations mentioned in email, social network posts, and other communications, locations from photo or video imagery, geo-tagged data files such as images, purchases, payment system transactions, etc.
- the location processing module may geolocate the client computer based on user preferences, such as locations (e.g., businesses) identified by user selections (e.g., bookmarks, “likes”, “+1's”, etc.) or otherwise distinguished locations, such as businesses or other addresses stored in a user's address book.
- user preferences such as locations (e.g., businesses) identified by user selections (e.g., bookmarks, “likes”, “+1's”, etc.) or otherwise distinguished locations, such as businesses or other addresses stored in a user's address book.
- any combination of the location estimation techniques may be used.
- the search engine 110 may receive requests, e.g., search queries, from the client computer 102 and provide search results based on such requests.
- the user 104 may input search queries to search for types of businesses or other entities, a specific business or entity, to search a geographic location, etc.
- the client computer 102 may present a search web page or an interactive map to a user, and the user may input a geographical search query on the client computer 102 to search a geographical area. After receiving the inputted query, the client computer 102 may transmit a request 112 containing the query 110 to the servers 106 .
- the location of the computer 102 as determined by the location system 108 , may be used to select, rank, and otherwise process search results based on the location.
- the search engine 110 may be a part of a geographic information system (GIS), and the search engine 110 may provide data from the GIS based on the user's location as determined by the location system 108 .
- GIS geographic information system
- the location system 108 may determine the location of the client computer 102 based on various location estimation techniques. For example, in some embodiments, the location may be estimated from one or more tokens received from the client computer, such as an IP address 114 assigned to the computer 102 . The location system 108 may obtain the IP address 114 during communication with the client computer 102 , such as from a request received from the client computer 102 . The location system 108 may then determine a list 116 of hierarchical locations 118 based on the client computer's IP address 114 .
- the location system 108 may determine a list of two, three, four, five, six, or more hierarchical locations. Each hierarchical location at a level may encompass the hierarchical locations at lower levels.
- a list of hierarchical locations, from finest granularity to coarsest granularity, may include postal code, city, state, and country.
- the hierarchical locations may include a postal code, an official or colloquial neighborhood, a colloquial region, a city, a metropolitan area, an advertising region, a political district, a state, a province, a county, a parish, a country, or any other geographical area or combination thereof.
- the hierarchy may be based on any suitable order, such as finest to coarsest, smallest to largest, etc.
- each hierarchical location may include an associated confidence measure.
- the confidence measure for a hierarchical location may indicate the probability that the client computer's location is within the geographical region specified by the hierarchical location.
- a coarser hierarchical location of a list of hierarchical locations such as a country, may have a higher confidence measure than a finer hierarchical location of the list of hierarchical locations.
- the hierarchical locations 118 may include a postal code 120 , a city 122 , a state 124 , and a country 126 .
- the hierarchical locations 118 may each include an associated confidence measure 128 . For example, as shown in FIG.
- the postal code 120 may be associated with a confidence measure of confidence — 1.
- confidence — 1 is the probability that the client computer 102 is located in the postal code 120 .
- the city 122 may be associated with a confidence measure of confidence — 2.
- confidence — 2 is the probability that the client computer 102 is located in the city 122 .
- the state 124 may be associated with a confidence measure of confidence — 3, and the country 126 may be associated with a confidence measure of confidence — 4 expressing the respective probabilities for these hierarchical locations.
- FIG. 2 depicts a process 200 for selecting a hierarchical location based on a universal confidence threshold in accordance with an embodiment of the present invention.
- an IP address or other token associated with a client computer may be obtained (block 202 ).
- hierarchical locations and associated confidence measures for the hierarchical locations may be obtained (block 204 ), such as from the location estimation techniques described above.
- the hierarchical locations and confidence measures 206 may include a list of hierarchical locations of different granularities, ranging from, for example, a postal code at the finest granularity (i.e. lowest level) to a country at the coarsest granularity (i.e., highest level).
- the finest (e.g., smallest) hierarchical location i.e., the lowest level of the list of hierarchical locations
- the confidence measure of the finest hierarchical location i.e., the lowest level of the list of hierarchical locations
- the confidence threshold may be compared to evaluate the hierarchical locations and select one of the hierarchical locations, as explained further below.
- the confidence threshold may be a universal confidence threshold.
- the term “universal confidence threshold” refers to a confidence threshold that is compared to the confidence measures of multiple hierarchical locations and that is independent from and not based on the selected hierarchical location.
- the threshold may include level-specific confidence thresholds.
- level-specific confidence threshold refers to a confidence threshold that is based on the selected hierarchical location and is specific to a single hierarchical location (e.g., specific to a postal code, a state, a city, a country, etc.).
- the selected hierarchical location is a postal code
- a confidence threshold specific to postal codes may be used, and the confidence measure of the postal code may be compared to the level-specific confidence threshold for postal codes.
- the selected hierarchical location is a city
- a confidence threshold specific to cities may be used, and the confidence measure of the city may be compared to the level-specific confidence threshold for postal codes.
- the threshold may include a query-specific confidence threshold or a category-specific confidence threshold.
- query-specific confidence threshold refers to a confidence threshold that is specific to a search query, such as query for a specific business entity or a type of business entity.
- category-specific confidence threshold refers to a confidence threshold that is specific to a category, such as a category for a search query or other term or group of terms.
- a search query may be obtained from the client computer, and a category for the search query may be obtained.
- query terms may be mapped to various categories, and a category may be determined by looking up the query in pre-computed mapping of terms to categories.
- categories of queries may include types of businesses, such as restaurants, bars, automotive repair, home repair, etc.
- a query-specific confidence threshold or a category-specific confidence threshold may include a universal confidence threshold, as described above, or may include level-specific confidence thresholds, as also described above.
- the selected hierarchical location may be selected as the location of the client computer (block 214 ). In some embodiments, the selected location may be provided to a search engine 216 . Localized search results may be provided to the client computer based on the location of the client computer, (block 218 ), as determined from the selected hierarchical location. In some embodiments, the selected hierarchical location may be used as the location for providing other localized information, such as localized ads, localized interactive maps, etc.
- the process 200 may “backoff” to a coarser (e.g., larger) hierarchical location, i.e., the next level of the hierarchical locations (block 222 ).
- the next hierarchical location may be selected, and the confidence measure of the selected hierarchical location compared to the confidence threshold (decision block 210 ), such as a universal threshold, a level-specific confidence threshold based on the selected hierarchical location, or a query-specific or category-specific confidence threshold. If the confidence measure of the selected hierarchical location is above the threshold (line 212 ), then this hierarchical location may be selected as the location of the client computer (block 218 ).
- the process 200 may iteratively traverse to coarser (e.g., larger) hierarchical locations until a hierarchical location associated with a confidence measure above the universal confidence threshold is reached. For example, if the postal code of a list of hierarchical locations is associated with a confidence measure that is below the confidence threshold, the process 200 may backoff to a city, then to a state, and finally to a country until a hierarchical location associated with an adequate confidence measure is reached. In some embodiments, if none of the hierarchical levels are associated with confidence measure above the universal confidence threshold, then no location may be associated with the client computer. In such embodiments, localized search results may not be provided.
- coarser e.g., larger
- FIG. 3 depicts a process flowchart 300 illustrating the selection of a hierarchical location based on a confidence threshold in accordance with an embodiment of the present invention.
- an IP address or other token associated with a client computer may be obtained (block 302 ).
- a list 304 of hierarchical locations and associated confidence measures may be obtained.
- the hierarchical locations may include a postal code 306 , a city 308 , a state 310 , and a country 312 . For example, as shown in FIG.
- the hierarchical locations include the postal code 306 of “93043,” the city 308 of “Mountain View,” the state 310 of “CA,” and the country 312 of “USA.” Additionally, the hierarchical locations 306 , 308 , 310 , and 312 are associated with respective confidence measures 314 , 316 , 318 , and 320 indicating the probability that the client computer's location is within the respective hierarchical location.
- the postal code “93043” is associated with the confidence measure 314 of 15%.
- the city “Mountain View” is associated with the confidence measure 316 of 55%.
- the state “CA” is associated with a confidence measure 318 of 90%
- the country “USA” is associated with a confidence measure 320 of 99%.
- the confidence measure associated with the selected hierarchical location may be compared to a universal confidence threshold.
- the finest hierarchical threshold i.e., the lowest level of the list of hierarchical thresholds
- the confidence measure 314 associated with the postal code “93043” may be compared to the universal threshold of 30% (decision block 322 ).
- the selection of hierarchical locations may backoff to the next hierarchical location (i.e., the city “Mountain View”).
- the confidence measure associated with the city “Mountain View” may be compared to the universal confidence threshold of 30% (decision block 324 ). As the confidence measure of 55% for the city of “Mountain View” is above the universal confidence threshold of 30%, the city of “Mountain View” may be selected as the location of the client computer (block 326 ). As descried above, the selected location may be used to provide localized search results, localized ads, a map viewport, or other localized information.
- FIG. 4 depicts a process flowchart 400 illustrating the selection of a hierarchical location based on a level-specific confidence threshold in accordance with an embodiment of the present invention.
- an IP address or other location criteria associated with a client computer may be obtained (block 402 ).
- a list 404 of hierarchical locations and associated confidence measures may be obtained.
- the hierarchical locations may include a postal code 406 , a city 408 , a state 410 , and a country 412 . For example, as shown in FIG.
- the hierarchical locations include the postal code 406 of “94043,” the city 408 of “Mountain View,” the state 410 of “CA,” and the country 412 of “USA.” Additionally, the hierarchical locations 406 , 408 , 410 , and 412 are associated with respective confidence measures 414 , 416 , 418 , and 420 indicating the probability that the client computer's location is within the respective hierarchical location. As shown in FIG. 4 , the postal code “94043” is associated with the confidence measure 414 of 25%. Additionally, the city “Mountain View” is associated with the confidence measure 416 of 35%. Similarly, the state “CA” is associated with the confidence measure 418 of 90%, and the country “USA” is associated with the confidence measure 420 of 99%.
- level-specific confidence thresholds 422 may be obtained. As shown in FIG. 4 , a postal code 424 may be associated with a confidence threshold 426 of 60%. Additionally, a city 428 may be associated with a confidence threshold 430 of 30%. Similarly, a state 432 may be associated with a confidence threshold 434 of 80%, and a country 436 may be associated with a confidence threshold 438 of 90%. Next, as mentioned above, the confidence measure associated with a selected hierarchical location may be compared to the level-specific confidence threshold for that hierarchical location.
- the finest hierarchical threshold i.e., the lowest level of the list of hierarchical thresholds
- the confidence measure 414 associated with the postal code 406 of “93043” may be compared to the level-specific confidence threshold 426 of 40% (decision block 440 ).
- the selection of hierarchical locations may backoff to the next hierarchical location (i.e., the city 408 of “Mountain View”).
- the confidence measure 416 associated with the city 408 of “Mountain View” may be compared to the level-specific confidence threshold 430 of 30% (decision block 442 ). As the confidence measure 430 of 35% for the city 408 of “Mountain View” is above the level-specific confidence threshold 426 of 30%, the city 408 of “Mountain View” may be selected as the location of the client computer (block 444 ).
- FIG. 5 depicts a process 500 for selecting a hierarchical location based on a confidence threshold and query category in accordance with an embodiment of the present invention.
- an IP address or other token associated with a client computer may be obtained (block 502 ), and hierarchical locations and associated confidence measures for the hierarchical locations may be obtained (block 504 ), such as from the location estimation techniques described above.
- the hierarchical locations and confidence measures 506 may include a list of hierarchical locations of different granularities, ranging from, for example, a postal code at the finest granularity (i.e., lowest level) to a country at the coarsest granularity (i.e., highest level).
- a search query may be obtained (block 508 ), such as a search query input by a user and transmitted over a network.
- a category for the search query may be obtained (block 510 ).
- query terms may be mapped to various categories, and a category may be determined by looking up the query in pre-computed mapping of terms to categories.
- categories of queries may include types of businesses, such as restaurants, bars, automotive repair, home repair, etc.
- a confidence threshold 512 may be obtained and used to evaluate the hierarchical locations and select one of the hierarchical locations as the location of the client computer.
- the finest hierarchical location (i.e., the lowest level of the list of hierarchical locations) may be selected, and the confidence measure of the finest hierarchical location, may be compared to the confidence threshold 512 (decision block 514 ).
- the confidence threshold 512 may include a universal confidence threshold or a level-specific confidence threshold.
- the selected hierarchical location may be analyzed to determine if the query category to be suitable for query category (decision block 518 ). For example, query categories may be mapped to suitable hierarchical locations, the query category and selected hierarchical location may be compared to the mapped list to determine if a selected hierarchical location is a suitable location for a query category. If the selected hierarchical location is not suitable for the query category of the search query (line 520 ), the hierarchical location may be discarded and localization of search results may not be provided (block 522 ).
- the selected hierarchical location may be selected as the location of the client computer (block 526 ). As described above, this location may be used to provide localized search results to the client computer in response to the search query, or to provide localized advertisements.
- the process 500 may backoff to a coarser hierarchical location, i.e., the next level of the list hierarchical locations (block 530 ).
- the next hierarchical location may be selected, and the confidence measure of the next selected hierarchical location compared to the universal confidence threshold (decision block 516 ). If the confidence measure of the selected hierarchical location is above the threshold (line 518 ), then this hierarchical location may compared to the suitable hierarchical locations for the query category (line 520 ). Thus, the process 500 may backoff to coarser hierarchical locations until a hierarchical location associated with a confidence measure above the confidence threshold and suitable for the category of the search query is reached.
- FIG. 6 depicts a process 600 for selecting a map viewport based on a viewport threshold in accordance with an embodiment of the present invention.
- an IP address or other token associated with a client computer may be obtained (block 602 ), and hierarchical locations and associated confidence measures for the hierarchical locations may be obtained (block 604 ), such as from the location estimation techniques described above.
- the hierarchical locations and confidence measures 606 may include a list of hierarchical locations of different granularities, ranging from, for example, a postal code at the finest granularity (lowest level) to a country at the coarsest granularity (highest level).
- a request for a map viewport may be obtained (block 610 ), such as from a user opening an interactive map application to view a geographic location.
- a viewport confidence threshold 620 may be obtained and used to evaluate the hierarchical locations and select one of the hierarchical locations as the map viewport for requesting map information and displaying map information to the client.
- the finest hierarchical location i.e., the lowest level of the list of hierarchical locations
- the confidence measure of the finest hierarchical location may be compared to the viewport confidence threshold (decision block 614 ).
- the viewport confidence threshold 620 may include a universal confidence threshold, a level-specific confidence threshold, a query-specific confidence threshold, or a category-specific confidence threshold.
- the selected hierarchical location may be selected as the viewport for the map request (block 618 ).
- the selected hierarchical location may be provided to a geographic information system (GIS) 620 and used by the GIS 620 to as viewport such that map data (e.g., objects, attributes) for the viewport.
- GIS geographic information system
- map data e.g., objects, attributes
- an interactive map based on the viewport may be provided (block 622 ), such as for display on the client computer.
- the process 600 may “backoff” to a coarser hierarchical location, i.e., the next level of the list hierarchical locations (block 624 ).
- the next hierarchical location may be selected, and the confidence measure of the next selected hierarchical location compared to the viewport confidence threshold (decision block 626 ). If the confidence measure of the selected hierarchical location is above the threshold (line 616 ), then this hierarchical location may be selected as the viewport for the map data (line 618 ). Thus, the process 600 may backoff to coarser hierarchical locations until a hierarchical location associated with a confidence measure above the viewport confidence threshold is reached.
- FIG. 7 depicts a computer 700 in accordance with an embodiment of the present invention.
- Various sections of systems and methods described herein may include or be executed on one or more computers similar to computer 700 . Further, processes and modules described herein may be executed by one or more processing systems similar to that of computer 700 .
- the computer 700 may include various internal and external components that contribute to the function of the device and which may allow the computer 700 to function in accordance with the techniques discussed herein. As will be appreciated, various components of computer 700 may be provided as internal or integral components of the computer 700 or may be provided as external or connectable components. It should further be noted that FIG. 7 depicts merely one example of a particular implementation and is intended to illustrate the types of components and functionalities that may be present in computer 700 .
- Computer 700 may include any combination of devices or software that may perform or otherwise provide for the performance of the techniques described herein.
- computer 700 may include or be a combination of a cloud-computing system, a data center, a server rack or other server enclosure, a server, a virtual server, a desktop computer, a laptop computer, a tablet computer, a mobile telephone, a personal digital assistant (PDA), a media player, a game console, a vehicle-mounted computer, or the like.
- the computer 700 may be a unified device providing any one of or a combination of the functionality of a media player, a cellular phone, a personal data organizer, a game console, and so forth.
- Computer 700 may also be connected to other devices that are not illustrated, or may operate as a stand-alone system.
- functionality provided by the illustrated components may in some embodiments be combined in fewer components or distributed in additional components.
- functionality of some of the illustrated components may not be provided or other additional functionality may be available.
- the computer 700 may allow a user to connect to and communicate through a network 714 (e.g., the Internet, a local area network, a wide area network, etc.) and may provide communication over a satellite-based positioning system (e.g., GPS).
- a network 714 e.g., the Internet, a local area network, a wide area network, etc.
- satellite-based positioning system e.g., GPS
- the computer 700 may allow a user to communicate using e-mail, text messaging, instant messaging, or using other forms of electronic communication, and may allow a user to obtain the location of the device from the satellite-based positioning system, such as the location on an interactive map. As shown in FIG.
- the computer 700 may include one or more processors (e.g., processors 702 a - 702 n ) coupled to a memory 704 , a display 706 , I/O ports 708 and a network interface 170 , via an interface 714 .
- processors 702 a - 702 n processors
- the display 706 may include a liquid crystal display (LCD) or an organic light emitting diode (OLED) display, although other display technologies may be used in other embodiments.
- the display 706 may display a user interface (e.g., a graphical user interface).
- the display 706 may also display various function and system indicators to provide feedback to a user, such as power status, call status, memory status, etc. These indicators may be in incorporated into the user interface displayed on the display 706 .
- the display 706 may include or be provided in conjunction with touch sensitive elements through which a user may interact with the user interface. Such a touch-sensitive display may be referred to as a “touch screen” and may also be known as or called a touch-sensitive display system.
- the processor 702 may provide the processing capability required to execute the operating system, programs, user interface, and any functions of the computer 700 .
- the processor 702 may include one or more processors, such as “general-purpose” microprocessors and general and special purpose microprocessors, such as ASICs.
- the processor 702 may include one or more reduced instruction set (RISC) processors, such as those implementing the Advanced RISC Machine (ARM) instruction set.
- RISC reduced instruction set
- the processor 702 may include single-core processors and multicore processors and may include graphics processors, video processors, and related chip sets.
- a processor may receive instructions and data from a memory (e.g., system memory 704 ).
- computer 700 may be a uni-processor system including one processor (e.g., processor 702 a ), or a multi-processor system including any number of suitable processors (e.g., 702 a - 702 n ). Multiple processors may be employed to provide for parallel or sequential execution of one or more sections of the techniques described herein. Processes, such as logic flows, described herein may be performed by one or more programmable processors executing one or more computer programs to perform functions by operating on input data and generating corresponding output.
- the memory 704 may include volatile memory and non-volatile memory accessible by the processor 702 and other components of the computer 700 .
- the memory 704 may store a variety of information and may be used for a variety of purposes.
- the memory 704 may store application instructions, such as the firmware for the computer 700 , an operating system for the computer 700 , and any other programs or executable code necessary for the computer 700 to function.
- Program instructions 716 may be executable by a processor (e.g., one or more of processors 702 a - 702 n ) to implement one or more embodiments of the present techniques.
- Instructions 716 may include modules of computer program instructions for implementing one or more techniques described herein with regard to various processing modules.
- Program instructions may include a computer program (which in certain forms is known as a program, software, software application, script, or code).
- a computer program may be written in a programming language, including compiled or interpreted languages, or declarative or procedural languages.
- a computer program may include a unit suitable for use in a computing environment, including as a stand-alone program, a module, a component, a subroutine.
- a computer program may or may not correspond to a file in a file system.
- a program may be stored in a section of a file that holds other programs or data (e.g., one or more scripts stored in a markup language document), in a single file dedicated to the program in question, or in multiple coordinated files (e.g., files that store one or more modules, sub programs, or sections of code).
- a computer program may be deployed to be executed on one or more computer processors located locally at one site or distributed across multiple remote sites and interconnected by a communication network.
- the memory 704 may be used for buffering or caching during operation of the computer 700 .
- the memory 704 may include volatile memory, such as random access memory (RAM).
- RAM random access memory
- the memory 704 may also include non-volatile memory, such as ROM, flash memory, a hard drive, any other suitable optical, magnetic, or solid-state storage medium, or a combination thereof.
- the memory 704 may store data files such as media (e.g., music and video files), software (e.g., for implementing functions on computer 700 ), preference information (e.g., media playback preferences), lifestyle information (e.g., food preferences), exercise information (e.g., information obtained by exercise monitoring equipment), transaction information (e.g., information such as credit card information), wireless connection information (e.g., information that may enable media device to establish a wireless connection such as a telephone connection), subscription information (e.g., information that maintains a record of podcasts or television shows or other media a user subscribes to), telephone information (e.g., telephone numbers), and any other suitable data.
- media e.g., music and video files
- software e.g., for implementing functions on computer 700
- preference information e.g., media playback preferences
- lifestyle information e.g., food preferences
- exercise information e.g., information obtained by exercise monitoring equipment
- transaction information e.g., information such as credit card
- the interface 714 may include multiple interfaces and may couple various components of the computer 700 to the processor 702 and memory 704 .
- the interface 714 , the processor 702 , memory 704 , and one or more other components of the computer 700 may be implemented on a single chip, such as a system-on-a-chip (SOC). In other embodiments, these components, their functionalities, or both may be implemented on separate chips.
- the interface 714 may be configured to coordinate I/O traffic between processors 702 a - 702 n , system memory 704 , network interface 170 , I/O devices 712 , other peripheral devices, or a combination thereof.
- the interface 714 may perform protocol, timing or other data transformations to convert data signals from one component (e.g., system memory 704 ) into a format suitable for use by another component (e.g., processors 702 a - 702 n ).
- the interface 714 may include support for devices attached through various types of peripheral buses, such as a variant of the Peripheral Component Interconnect (PCI) bus standard or the Universal Serial Bus (USB) standard.
- PCI Peripheral Component Interconnect
- USB Universal Serial Bus
- the computer 700 may also include an input and output port 708 to allow connection of additional devices.
- the port 708 may be a headphone jack that provides for connection of headphones.
- the port 708 may have both input/output capabilities to provide for connection of a headset (e.g. a headphone and microphone combination).
- Embodiments of the present invention may include any number of input and output ports 708 , including headphone and headset jacks, universal serial bus (USB) ports, Firewire or IEEE-1394 ports, and AC and DC power connectors.
- the computer 700 may use the input and output ports to connect to and send or receive data with any other device, such as other portable computers, personal computers, printers, etc.
- the computer 700 may connect to a personal computer via a USB connection to send and receive data files, such as applications, media files, etc.
- the computer 700 depicted in FIG. 7 also includes a network interface 170 , such as a wired network interface card (NIC), wireless (e.g., radio frequency) receivers, etc.
- a network interface 170 may receive and send electromagnetic signals and communicate with communications networks and other communications devices via the electromagnetic signals.
- the network interface 170 may include known circuitry for performing these functions, including an antenna system, an RF transceiver, one or more amplifiers, a tuner, one or more oscillators, a digital signal processor, a CODEC chipset, a subscriber identity module (SIM) card, memory, and so forth.
- the network interface 170 may communicate with networks (e.g., network 714 ), such as the Internet, an intranet, a cellular telephone network, a wireless local area network (LAN), a metropolitan area network (MAN), or other devices by wireless communication.
- the communication may use any suitable communications standard, protocol and technology, including Ethernet, Global System for Mobile Communications (GSM), Enhanced Data GSM Environment (EDGE), a 3G network (e.g., based upon the IMT-2000 standard), high-speed downlink packet access (HSDPA), wideband code division multiple access (W-CDMA), code division multiple access (CDMA), time division multiple access (TDMA), a 4G network (e.g., IMT Advanced, Long-Term Evolution Advanced (LTE Advanced), etc.), Bluetooth, Wireless Fidelity (Wi-Fi) (e.g., IEEE 802.11a, IEEE 802.11b, IEEE 802.11g or IEEE 802.11n), voice over Internet Protocol (VoIP), Wi-MAX, a protocol for email (e.g.,
- instructions stored on a computer-accessible medium separate from computer 700 may be transmitted to computer 700 via transmission media or signals such as electrical, electromagnetic, or digital signals, conveyed via a communication medium such as a network or a wireless link.
- Various embodiments may further include receiving, sending or storing instructions or data implemented in accordance with the foregoing description upon a computer-accessible medium. Accordingly, the present invention may be practiced with other computer system configurations.
- a computer-accessible/readable storage medium may include a non-transitory storage media such as magnetic or optical media, (e.g., disk or DVD/CD-ROM), volatile or non-volatile media such as RAM (e.g. SDRAM, DDR, RDRAM, SRAM, etc.), ROM, etc., as well as transmission media or signals such as electrical, electromagnetic, or digital signals, conveyed via a communication medium such as network and/or a wireless link.
- non-transitory storage media such as magnetic or optical media, (e.g., disk or DVD/CD-ROM), volatile or non-volatile media such as RAM (e.g. SDRAM, DDR, RDRAM, SRAM, etc.), ROM, etc.
- transmission media or signals such as electrical, electromagnetic, or digital signals, conveyed via a communication medium such as network and/or a wireless link.
Abstract
Description
Claims (22)
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US13/670,225 US8756222B1 (en) | 2012-11-06 | 2012-11-06 | Systems and methods for confidence-based selection of hierarchical locations |
Applications Claiming Priority (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US13/670,225 US8756222B1 (en) | 2012-11-06 | 2012-11-06 | Systems and methods for confidence-based selection of hierarchical locations |
Publications (1)
Publication Number | Publication Date |
---|---|
US8756222B1 true US8756222B1 (en) | 2014-06-17 |
Family
ID=50896907
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US13/670,225 Expired - Fee Related US8756222B1 (en) | 2012-11-06 | 2012-11-06 | Systems and methods for confidence-based selection of hierarchical locations |
Country Status (1)
Country | Link |
---|---|
US (1) | US8756222B1 (en) |
Cited By (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US9026145B1 (en) * | 2012-03-23 | 2015-05-05 | Google Inc. | Systems and methods for mapping IP-addresses to geolocations |
WO2017001904A1 (en) * | 2015-06-30 | 2017-01-05 | Yandex Europe Ag | Method and system for determining an address corresponding to a most probable physical location of an electronic device associated with a user |
US20180121442A1 (en) * | 2016-11-02 | 2018-05-03 | Sap Se | Hierarchical map visualizations of geo-enriched data |
Citations (9)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6684250B2 (en) * | 2000-04-03 | 2004-01-27 | Quova, Inc. | Method and apparatus for estimating a geographic location of a networked entity |
US20050086299A1 (en) | 1998-10-15 | 2005-04-21 | Microsoft Corporation | Territorial determination of remote computer location in a wide area network for conditional delivery of digitized products |
US7000015B2 (en) * | 2000-04-24 | 2006-02-14 | Microsoft Corporation | System and methods for providing physical location information and a location method used in discovering the physical location information to an application on a computing device |
US20090138360A1 (en) * | 2004-12-15 | 2009-05-28 | Mlb Advanced Media, L.P. | Method for verifying access based on a determined geographic location of a subscriber of a service provided via a computer network |
US20090238079A1 (en) * | 2008-03-20 | 2009-09-24 | Dieter Gantenbein | Method and Apparatus for Discovery and Tracking of Location of Networked Devices |
US7698377B2 (en) | 1999-05-03 | 2010-04-13 | Digital Envoy, Inc. | Systems and methods for determining, collecting, and using geographic locations of internet users |
WO2010044872A1 (en) | 2008-10-15 | 2010-04-22 | Google Inc. | Wireless network-based location approximation |
US7711846B2 (en) | 2000-11-17 | 2010-05-04 | Microsoft Corporation | System and method for determining the geographic location of internet hosts |
US8364816B2 (en) * | 2007-10-12 | 2013-01-29 | Microsoft Corporation | Mapping network addresses to geographical locations |
-
2012
- 2012-11-06 US US13/670,225 patent/US8756222B1/en not_active Expired - Fee Related
Patent Citations (10)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20050086299A1 (en) | 1998-10-15 | 2005-04-21 | Microsoft Corporation | Territorial determination of remote computer location in a wide area network for conditional delivery of digitized products |
US7698377B2 (en) | 1999-05-03 | 2010-04-13 | Digital Envoy, Inc. | Systems and methods for determining, collecting, and using geographic locations of internet users |
US6684250B2 (en) * | 2000-04-03 | 2004-01-27 | Quova, Inc. | Method and apparatus for estimating a geographic location of a networked entity |
US20040078490A1 (en) | 2000-04-03 | 2004-04-22 | Mark Anderson | Method and system to collect geographic location information for a network address utilizing geographically dispersed data collection agents |
US7000015B2 (en) * | 2000-04-24 | 2006-02-14 | Microsoft Corporation | System and methods for providing physical location information and a location method used in discovering the physical location information to an application on a computing device |
US7711846B2 (en) | 2000-11-17 | 2010-05-04 | Microsoft Corporation | System and method for determining the geographic location of internet hosts |
US20090138360A1 (en) * | 2004-12-15 | 2009-05-28 | Mlb Advanced Media, L.P. | Method for verifying access based on a determined geographic location of a subscriber of a service provided via a computer network |
US8364816B2 (en) * | 2007-10-12 | 2013-01-29 | Microsoft Corporation | Mapping network addresses to geographical locations |
US20090238079A1 (en) * | 2008-03-20 | 2009-09-24 | Dieter Gantenbein | Method and Apparatus for Discovery and Tracking of Location of Networked Devices |
WO2010044872A1 (en) | 2008-10-15 | 2010-04-22 | Google Inc. | Wireless network-based location approximation |
Non-Patent Citations (3)
Title |
---|
Agichtein et al., "Identifying 'Best Bet' Web Search Results by Mining Past User Behavior," ACM 2006, pp. 1-7. |
Agichtein et al., "Identifying ‘Best Bet’ Web Search Results by Mining Past User Behavior," ACM 2006, pp. 1-7. |
Bennett et al., "Inferring and Using Location Metadata to Personalize Web Search," ACM 2011, pp. 1-10. |
Cited By (6)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US9026145B1 (en) * | 2012-03-23 | 2015-05-05 | Google Inc. | Systems and methods for mapping IP-addresses to geolocations |
US9571589B2 (en) | 2012-03-23 | 2017-02-14 | Google Inc. | Systems and methods for mapping IP-addresses to geolocations |
WO2017001904A1 (en) * | 2015-06-30 | 2017-01-05 | Yandex Europe Ag | Method and system for determining an address corresponding to a most probable physical location of an electronic device associated with a user |
US9876761B2 (en) | 2015-06-30 | 2018-01-23 | Yandex Europe Ag | Method and system for determining an address corresponding to a most probable physical location of an electronic device associated with a user |
US20180121442A1 (en) * | 2016-11-02 | 2018-05-03 | Sap Se | Hierarchical map visualizations of geo-enriched data |
US10984039B2 (en) * | 2016-11-02 | 2021-04-20 | Sap Se | Hierarchical map visualizations of geo-enriched data |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US11714815B2 (en) | Method and computer-readable media for providing recommended entities based on a user's social graph | |
US9959321B2 (en) | Ranking search results by social relevancy | |
US9471691B1 (en) | Systems, methods, and computer-readable media for providing search results having contacts from a user's social graph | |
US9571589B2 (en) | Systems and methods for mapping IP-addresses to geolocations | |
US9477725B2 (en) | Search results using density-based map tiles | |
KR101802292B1 (en) | Method relating to predicting the future state of a mobile device user | |
US8805959B1 (en) | Map tile data pre-fetching based on user activity analysis | |
JP5898393B1 (en) | Pushing suggested search queries to mobile devices | |
JP6262199B2 (en) | Sending contacts to social network service contacts | |
US8996312B1 (en) | Systems, methods, and computer-readable media for providing alternative trips for a computer-implemented trip search | |
US9977959B2 (en) | Systems, methods, and computer-readable media for determining a salient region of geographic map | |
US20150120436A1 (en) | Systems, methods, and computer-readable-media for determining a multilocation predicted click-through rate for advertisements | |
RU2762779C2 (en) | Method and system for determining event of user's place visiting | |
US20140351354A1 (en) | Method and apparatus for sharing point of interest information as a weblink | |
US9239865B1 (en) | Systems, methods, and computer-readable media for providing recommended entities based on a query-specific subset of a user's social graph | |
US20150006526A1 (en) | Determining Locations of Interest to a User | |
WO2015027516A1 (en) | Mechanism for facilitating dynamic location-based zone management for computing systems | |
US9648075B1 (en) | Systems and methods for providing an event map | |
US8756222B1 (en) | Systems and methods for confidence-based selection of hierarchical locations | |
US20140372284A1 (en) | System, Methods, and Computer-Readable Media for Determining an Entity Score Based on User Behaviors Associated with an Entity | |
US8566425B1 (en) | Identifying social profiles of entities | |
US20150334137A1 (en) | Identifying reviews from content associated with a location | |
US9659065B1 (en) | Ranking search results based on current or past presences | |
US20150286667A1 (en) | Systems and Methods for Using Listing Proximities to Improve Entity Listings | |
KR101551465B1 (en) | Apparatus of providing searching service, and method of providing searching service |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
AS | Assignment |
Owner name: GOOGLE INC., CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:VYAS, ANURAG;DULEBA, KRZYSZTOF;SOUTHEY, FINNEGAN;REEL/FRAME:029251/0364Effective date: 20121023 |
|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |
|
FEPP | Fee payment procedure |
Free format text: PAYOR NUMBER ASSIGNED (ORIGINAL EVENT CODE: ASPN); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
AS | Assignment |
Owner name: GOOGLE LLC, CALIFORNIAFree format text: CHANGE OF NAME;ASSIGNOR:GOOGLE INC.;REEL/FRAME:044277/0001Effective date: 20170929 |
|
MAFP | Maintenance fee payment |
Free format text: PAYMENT OF MAINTENANCE FEE, 4TH YEAR, LARGE ENTITY (ORIGINAL EVENT CODE: M1551)Year of fee payment: 4 |
|
FEPP | Fee payment procedure |
Free format text: MAINTENANCE FEE REMINDER MAILED (ORIGINAL EVENT CODE: REM.); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
LAPS | Lapse for failure to pay maintenance fees |
Free format text: PATENT EXPIRED FOR FAILURE TO PAY MAINTENANCE FEES (ORIGINAL EVENT CODE: EXP.); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
STCH | Information on status: patent discontinuation |
Free format text: PATENT EXPIRED DUE TO NONPAYMENT OF MAINTENANCE FEES UNDER 37 CFR 1.362 |
|
FP | Lapsed due to failure to pay maintenance fee |
Effective date: 20220617 |