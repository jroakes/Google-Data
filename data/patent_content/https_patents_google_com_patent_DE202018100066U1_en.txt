DE202018100066U1 - Loop and library fusion - Google Patents
Loop and library fusion Download PDFInfo
- Publication number
- DE202018100066U1 DE202018100066U1 DE202018100066.7U DE202018100066U DE202018100066U1 DE 202018100066 U1 DE202018100066 U1 DE 202018100066U1 DE 202018100066 U DE202018100066 U DE 202018100066U DE 202018100066 U1 DE202018100066 U1 DE 202018100066U1
- Authority
- DE
- Germany
- Prior art keywords
- operations
- graph
- optimized
- single fusion
- fusion operation
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Active
Links
- 230000004927 fusion Effects 0.000 title claims abstract description 86
- 238000004364 calculation method Methods 0.000 claims abstract description 51
- 238000012545 processing Methods 0.000 claims abstract description 24
- 230000001131 transforming effect Effects 0.000 claims abstract description 5
- 238000004422 calculation algorithm Methods 0.000 claims description 7
- 238000012163 sequencing technique Methods 0.000 claims description 4
- 238000000034 method Methods 0.000 description 29
- 230000006870 function Effects 0.000 description 26
- 238000013528 artificial neural network Methods 0.000 description 19
- 239000011159 matrix material Substances 0.000 description 13
- 238000004590 computer program Methods 0.000 description 12
- 230000008569 process Effects 0.000 description 10
- 230000009467 reduction Effects 0.000 description 6
- 238000004891 communication Methods 0.000 description 5
- 239000003638 chemical reducing agent Substances 0.000 description 3
- 230000003993 interaction Effects 0.000 description 3
- 238000010801 machine learning Methods 0.000 description 3
- 230000009286 beneficial effect Effects 0.000 description 2
- 230000003287 optical effect Effects 0.000 description 2
- 238000013515 script Methods 0.000 description 2
- 238000000926 separation method Methods 0.000 description 2
- 238000012549 training Methods 0.000 description 2
- 238000013519 translation Methods 0.000 description 2
- OKTJSMMVPCPJKN-UHFFFAOYSA-N Carbon Chemical compound [C] OKTJSMMVPCPJKN-UHFFFAOYSA-N 0.000 description 1
- 230000004913 activation Effects 0.000 description 1
- 238000001994 activation Methods 0.000 description 1
- 238000003491 array Methods 0.000 description 1
- 230000005540 biological transmission Effects 0.000 description 1
- 230000008859 change Effects 0.000 description 1
- 238000005516 engineering process Methods 0.000 description 1
- 238000007499 fusion processing Methods 0.000 description 1
- 229910021389 graphene Inorganic materials 0.000 description 1
- 239000004973 liquid crystal related substance Substances 0.000 description 1
- 230000000644 propagated effect Effects 0.000 description 1
- 230000004044 response Effects 0.000 description 1
- 239000004065 semiconductor Substances 0.000 description 1
- 239000000758 substrate Substances 0.000 description 1
- 230000017105 transposition Effects 0.000 description 1
- 230000000007 visual effect Effects 0.000 description 1
Images
Classifications
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F8/00—Arrangements for software engineering
- G06F8/40—Transformation of program code
- G06F8/41—Compilation
- G06F8/43—Checking; Contextual analysis
- G06F8/433—Dependency analysis; Data or control flow analysis
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F8/00—Arrangements for software engineering
- G06F8/40—Transformation of program code
- G06F8/41—Compilation
- G06F8/44—Encoding
- G06F8/443—Optimisation
- G06F8/4434—Reducing the memory space required by the program code
- G06F8/4435—Detection or removal of dead or redundant code
Abstract
Ein oder mehrere nichttransitorische computerlesbare Speichermedien mit darauf gespeicherten Befehlen, die durch eine Verarbeitungsvorrichtung ausführbar sind und bei einer solchen Ausführung bewirken, dass die Verarbeitungsvorrichtung Operationen durchführt, die umfassen:Erhalten eines nicht optimierten Rechengraphen mit einer Vielzahl von Knoten, die Operationen darstellen, und gerichteten Kanten, die Datenabhängigkeiten darstellen;Analysieren des nicht optimierten Rechengraphen unter Verwendung von Mustervergleich, um fusionierbare Operationen zu bestimmen, die zu einer einzelnen Fusionsoperation miteinander fusioniert werden können;Transformieren des nicht optimierten Rechengraphen in einen optimierten Rechengraphen durch Ersetzen der Knoten, die die fusionierbaren Operationen darstellen, im nicht optimierten Rechengraphen durch einen Fusionsknoten, der die einzelne Fusionsoperation darstellt; undLiefern des Fusionsknotens des optimierten Rechengraphen zu einem Kompilierer, den der Kompilierer als Aufruf übersetzen kann, der die fusionierten Operationen durchführt, um einen effizienten Code zu erzeugen.One or more non-transitory computer readable storage media having stored thereon instructions executable by a processing device and operative in such an embodiment to cause the processing device to perform operations comprising: receiving a non-optimized compute graph having a plurality of nodes representing operations and directed ones Edges representing data dependencies; analyzing the non-optimized calculation graph using pattern matching to determine fusible operations that can be fused together into a single fusion operation; transforming the non-optimized calculation graph into an optimized calculation graph by replacing the nodes that comprise the fusible operations representing, in the non-optimized arithmetic graph, a fusion node representing the single fusion operation; and providing the merged node of the optimized arithmetic graph to a compiler that the compiler can translate as a call that performs the merged operations to produce an efficient code.
Description
HINTERGRUNDBACKGROUND
Diese Patentbeschreibung bezieht sich auf das Konstruieren und Kompilieren von Rechengraphen.This patent specification relates to constructing and compiling arithmetic graphs.
Ein Rechengraph definiert Sequenzen von Operationen durch die Typen von Operationen, die Daten, die in jede Operation eingegeben und aus dieser ausgegeben werden, und Rechenabhängigkeiten. Ein Kompilierer übersetzt einen Rechengraphen von Operationen, um einen kompilierten Code zu erzeugen.An arithmetic graph defines sequences of operations by the types of operations, the data entered and output from each operation, and computational dependencies. A compiler translates a calculation graph of operations to produce a compiled code.
Zum Schutz als und der Gegenstand des Gebrauchsmusters sind gemäß den Anforderungen der Gebrauchsmusterverordnung nur Einrichtungen, wie in den beigefügten Ansprüchen definiert, aber keine Verfahren. Falls in der Beschreibung auf Verfahren Bezug genommen wird, dienen diese Bezugnahmen lediglich zum Erläutern der Einrichtung oder Einrichtungen, für die Schutz mit den beigefügten Ansprüchen angestrebt wird.For protection as and the subject matter of the utility model, only devices as defined in the appended claims, but not methods, are according to the requirements of the Utility Model Regulation. If reference is made in the description to methods, these references are merely illustrative of the device or devices for which protection is sought with the appended claims.
ZUSAMMENFASSUNGSUMMARY
Diese Patentbeschreibung beschreibt Technologien in Bezug auf Rechengraphensysteme im Allgemeinen und insbesondere auf Systeme und Verfahren zum Darstellen von Berechnungen als Graphenoperationen, die in einen effizienten kompilierten Code übersetzt werden können.This patent specification describes technologies related to arithmetic graph systems in general, and more particularly to systems and methods for presenting computations as graph operations that can be translated into efficient compiled code.
Der Rechengraph umfasst Knoten, gerichtete Verbindungskanten und gerichtete Parameterkanten. Jeder Knoten stellt eine jeweilige Operation dar, jede gerichtete Verbindungskante verbindet einen jeweiligen ersten Knoten mit einem jeweiligen zweiten Knoten, der eine Operation darstellt, die als Eingabe eine Ausgabe einer Operation empfängt, die durch den jeweiligen ersten Knoten dargestellt wird, und jede gerichtete Parameterkante verbindet in einen jeweiligen Knoten und stellt einen Fluss von einem oder mehreren Parametern eines neuronalen Netzes als Eingabe in die Operation dar, die durch den jeweiligen Knoten dargestellt wird.The arithmetic graph includes nodes, directed joint edges, and directed parameter edges. Each node represents a respective operation, each directed connection edge connects a respective first node to a respective second node, which is an operation that receives as input an output of an operation represented by the respective first node and connects each directional parameter edge into a respective node and represents a flow of one or more parameters of a neural network as input to the operation represented by the respective node.
Im Allgemeinen kann ein innovativer Aspekt des in dieser Patentbeschreibung beschriebenen Gegenstandes in einem System mit einem oder mehreren Computern und einer oder mehreren Speichervorrichtungen, die Befehle speichern, die betriebsfähig sind, wenn sie durch den einen oder die mehreren Computer ausgeführt werden, um zu bewirken, dass der eine oder die mehreren Computer Operationen durchführen, die ein Beispielverfahren implementieren, verkörpert sein. Ein Beispielverfahren umfasst: Erhalten eines nicht optimierten Rechengraphen mit mehreren Knoten, die Operationen darstellen, und gerichteten Kanten, die Datenabhängigkeiten darstellen; Analysieren des nicht optimierten Rechengraphen unter Verwendung von Mustervergleich, um fusionierbare Operationen zu bestimmen, die zu einer einzelnen Fusionsoperation miteinander fusioniert werden können; Transformieren des nicht optimierten Rechengraphen in einen optimierten Rechengraphen durch Ersetzen der Knoten, die die fusionierbaren Operationen darstellen, im nicht optimierten Rechengraphen durch einen Fusionsknoten, der die einzelne Fusionsoperation darstellt; und Liefern des Fusionsknotens des optimierten Rechengraphen zu einem Kompilierer, den der Kompilierer als Aufruf übersetzen kann, der die fusionierten Operationen durchführt, um einen effizienten Code zu erzeugen.In general, an innovative aspect of the subject matter described in this specification may be in a system having one or more computers and one or more memory devices that store instructions that are operable when executed by the one or more computers to cause that the one or more computers perform operations that implement an example method. An example method includes: obtaining an unoptimized calculation graph having a plurality of nodes representing operations and directed edges representing data dependencies; Analyzing the non-optimized calculation graph using pattern matching to determine fusible operations that can be fused together into a single fusion operation; Transforming the non-optimized arithmetic graph into an optimized arithmetic graph by replacing the nodes representing the fusible operations in the non-optimized arithmetic graph with a fusion node representing the single fusion operation; and providing the merged node of the optimized arithmetic graph to a compiler that the compiler can translate as a call that performs the merged operations to produce an efficient code.
Andere Ausführungsformen dieses Aspekts umfassen entsprechende Computersysteme, Einrichtungen und Computerprogramme, die auf einer oder mehreren Computerspeichervorrichtungen aufgezeichnet sind, die jeweils dazu konfiguriert sind, die Handlungen der Verfahren durchzuführen. Dass ein System von einem oder mehreren Computern dazu konfiguriert ist, spezielle Operationen oder Handlungen durchzuführen, bedeutet, dass auf dem System Software, Firmware, Hardware oder eine Kombination von ihnen installiert ist, die im Betrieb bewirken, dass das System die Operationen oder Handlungen durchführt. Dass ein oder mehrere Computerprogramme dazu konfiguriert sind, spezielle Operationen oder Handlungen durchzuführen, bedeutet, dass das eine oder die mehreren Programme Befehle umfassen, die, wenn sie durch eine Datenverarbeitungseinrichtung ausgeführt werden, bewirken, dass die Einrichtung die Operationen oder Handlungen durchführt.Other embodiments of this aspect include corresponding computer systems, devices, and computer programs recorded on one or more computer storage devices, each configured to perform the acts of the methods. That a system of one or more computers is configured to perform special operations or actions means that software, firmware, hardware, or a combination of them is installed on the system, which in use cause the system to perform the operations or actions , Having one or more computer programs configured to perform special operations or actions means that the one or more programs include instructions that, when executed by a computing device, cause the device to perform the operations or actions.
Diese und andere Ausführungsformen können optional ein oder mehrere der folgenden Merkmale umfassen. Der effiziente Code kann zu Rechenvorrichtungen für die Ausführung geliefert werden. Die Ausführung kann das Ausführen der Operationen des Rechengraphen mit dem einzelnen Fusionsaufruf, der alle fusionierten Operationen durchführt, umfassen. Das Analysieren des nicht optimierten Rechengraphen unter Verwendung von Mustervergleich, um fusionierte Operationen zu bestimmen, die zu einer einzelnen Fusionsoperation miteinander fusioniert werden können, umfasst: Vergleichen von Abschnitten des nicht optimierten Rechengraphen mit Mustern von Operationen, die jeweils einer einzelnen Fusionsoperation entsprechen; Bestimmen, dass ein Muster einem Abschnitt des nicht optimierten Rechengraphen entspricht; und Bestimmen, dass der entsprechende Abschnitt des nicht optimierten Rechengraphen im Rechengraphen durch die einzelne Fusionsoperation ersetzt werden kann, die dem entsprechenden Muster entspricht. Die einzelne Fusionsoperation kann eine Operation einer externen Codebibliothek sein. Die einzelne Fusionsoperation kann eine Schleifenoperation sein. Das Analysieren des nicht optimierten Rechengraphen unter Verwendung von Mustervergleich, um fusionierbare Operationen zu bestimmen, die zu einer einzelnen Fusionsoperation miteinander fusioniert werden können, kann umfassen: Durchsuchen des nicht optimierten Rechengraphen nach einer Eingabeoperation, die Berechnungen erfordert, um die Eingabe zu erzeugen; und Bestimmen, dass die Eingabeoperation im Rechengraphen durch eine einzelne Fusionsoperation ersetzt werden kann, die den Berechnungen entspricht, die erforderlich sind, um die Eingabe zu erzeugen. Die fusionierbaren Operationen können reguläre Operationen sein. Die fusionierbaren Operationen können reguläre Operationen sein, die zu nicht regulären Operationen fusioniert werden. Das Analysieren des nicht optimierten Rechengraphen unter Verwendung von Mustervergleich, um fusionierbare Operationen zu bestimmen, die zu einer einzelnen Operation miteinander fusioniert werden können, kann umfassen: Finden einer Sequenz von Operationen in einem Rechengraphen unter Verwendung eines Sequenzierungsalgorithmus; und Bestimmen, dass die Operationssequenz unter Verwendung einer Zusammensetzung zu einer einzelnen Fusionsoperation miteinander fusioniert werden kann.These and other embodiments may optionally include one or more of the following features. The efficient code can be supplied to computing devices for execution. Execution may include executing the operations of the calculation graph with the single fusion call that performs all merged operations. Analyzing the non-optimized arithmetic graph using pattern matching to determine fused operations that can be merged into a single fusion operation comprises: comparing portions of the non-optimized arithmetic graph to patterns of operations each corresponding to a single fusion operation; Determine, that a pattern corresponds to a portion of the non-optimized calculation graph; and determining that the corresponding portion of the non-optimized arithmetic graph in the arithmetic graph can be replaced by the single fusion operation corresponding to the corresponding pattern. The single fusion operation may be an operation of an external code library. The single fusion operation may be a loop operation. Analyzing the non-optimized arithmetic graph using pattern matching to determine fusible operations that can be merged into a single fusion operation may include: searching the non-optimized arithmetic graph for an input operation that requires computations to generate the input; and determining that the input operation in the arithmetic graph can be replaced by a single fusion operation that corresponds to the computations required to generate the input. The fusible operations can be regular operations. The fusible operations may be regular operations that are fused to non-regular operations. Analyzing the non-optimized computational graph using pattern matching to determine fusible operations that can be merged into a single operation may include: finding a sequence of operations in a computational graph using a sequencing algorithm; and determining that the operational sequence can be fused together using a composition for a single fusion operation.
Der in dieser Patentbeschreibung beschriebene Gegenstand kann in speziellen Ausführungsformen implementiert werden, um einen oder mehrere der folgenden Vorteile zu realisieren. Eine Beispielimplementierung erzeugt einen effizienten kompilierten Code durch Vereinigen von Operationen zu einer einzelnen fusionierten Operation, die ein Kompilierer als einzelner Aufruf übersetzen kann, z. B. einen Schleifen- oder Bibliotheksaufruf. Für die Zwecke dieser Patentbeschreibung bedeutet ein effizienter kompilierter Code einen Code, der schneller ist und potentiell weniger Arbeitsspeicher verwendet als der unter Verwendung eines herkömmlichen Kompilierers kompilierte Code.The subject matter described in this specification may be implemented in specific embodiments to realize one or more of the following advantages. An example implementation generates efficient compiled code by merging operations into a single merged operation that a compiler can translate as a single call, e.g. For example, a loop or library call. For the purposes of this specification, an efficiently compiled code means a code that is faster and uses potentially less memory than the code compiled using a conventional compiler.
Der einzelne Aufruf, in den der Kompilierer die einzelne fusionierte Operation übersetzt, führt alle Operationen der fusionierten Operation in einer Codeerzeugungskompilierungsphase durch. Diese Übersetzung ermöglicht, dass der Kompilierer einen Code erzeugt, der schneller ist als ein durch einen herkömmlichen Kompilierer erzeugter Code, der eine Operation auf einmal übersetzt. Unter Verwendung von fusionierten Operationen, die weniger Arbeitsspeicher verwenden können als nicht fusionierte Operationen, erzeugt der Kompilierer außerdem einen Code, der arbeitsspeichereffizienter ist als der durch einen herkömmlichen Kompilierer erzeugte Code.The single call to which the compiler translates the single merged operation performs all operations of the merged operation in a code generation compilation phase. This translation allows the compiler to generate a code that is faster than a code generated by a conventional compiler that translates one operation at a time. In addition, using fused operations that can use less memory than non-fused operations, the compiler generates code that is more memory-efficient than the code generated by a conventional compiler.
Durch Fusionieren von Operationen kann eine Beispielimplementierung auch Programme mit einer kleineren Größe als ein herkömmlicher Kompilierer bereitstellen.By fusing operations, an example implementation may also provide programs of a smaller size than a conventional compiler.
Die Details von einer oder mehreren Ausführungsformen des Gegenstandes dieser Patentbeschreibung sind in den begleitenden Zeichnungen und der nachstehenden Beschreibung dargelegt. Weitere Merkmale, Aspekte und Vorteile des Gegenstandes werden aus der Beschreibung, den Zeichnungen und den Ansprüchen ersichtlich.The details of one or more embodiments of the subject matter of this specification are set forth in the accompanying drawings and the description below. Other features, aspects and advantages of the subject matter will be apparent from the description, drawings and claims.
Figurenlistelist of figures
-
1 stellt ein Beispielkompilierungssystem dar.1 represents an example compilation system. -
2 ist ein Ablaufdiagramm eines Beispielprozesses zum Erzeugen eines effizienten Codes aus Berechnungen innerhalb eines Rechengraphen.2 Fig. 10 is a flow chart of an example process for generating an efficient code from calculations within a calculation graph. -
3 stellt eine graphische Kette von zwei regulären einstelligen Operationen dar.3 represents a graphical chain of two regular single-digit operations. -
4 stellt Operationen von nicht einstelligen Operationen dar, die miteinander fusioniert werden können.4 represents operations of non-single-digit operations that can be fused together. -
5a stellt einen Untergraphen eines Rechengraphen dar, der eine Transponierungs- und eine Punktoperation darstellt.5a represents a subgraph of a calculation graph representing a transpose and a point operation. -
5b stellt eine optimierte Version des in5a dargestellten Untergraphen dar.5b represents an optimized version of the in5a represented subgraphs. -
6a stellt ein Muster dar, das eine Rückwärtsfilterfaltung darstellt.6a represents a pattern representing a backward filter convolution. -
6b stellt ein Muster dar, das eine Rückwärtseingabefaltung darstellt.6b illustrates a pattern that represents a reverse input folding. - Gleiche Bezugszeichen und Bezeichnungen in den verschiedenen Zeichnungen geben gleiche Elemente an.Like reference numerals and designations in the various drawings indicate like elements.
AUSFÜHRLICHE BESCHREIBUNG DETAILED DESCRIPTION
Diese Patentbeschreibung beschreibt im Allgemeinen Kompilierungssysteme, die Operationen kompilieren, die durch einen Rechengraphen dargestellt werden. Insbesondere beschreibt diese Patentbeschreibung Techniken zum Erzeugen eines effizienten Codes aus Berechnungen innerhalb eines Rechengraphen durch Zusammenfusionieren von Berechnungen.This patent specification generally describes compilation systems that compile operations represented by a computational graph. In particular, this patent specification describes techniques for generating efficient code from calculations within a calculation graph by merging calculations.
Ein Rechendatenflussgraph drückt Berechnungen, z. B. eines Maschinenlernmodells, mit Knoten, die Operationen darstellen, und gerichteten Kanten, die Datenabhängigkeiten zwischen Operationen darstellen, aus. Eine eingehende Kante zu einem Knoten stellt einen Fluss einer Eingabe in den Knoten dar, d. h. ein Eingabeargument in die durch den Knoten dargestellte Operation. Wenn alle Argumente, die für eine Operation erforderlich sind, für den Operationsknoten verfügbar sind, wird der Knoten aktiviert und kann ausgeführt werden.A calculation data flow graph expresses calculations, e.g. A machine learning model, with nodes representing operations and directed edges representing data dependencies between operations. An incoming edge to a node represents a flow of input into the node, i. H. an input argument into the operation represented by the node. If all the arguments required for an operation are available to the operation node, the node is activated and can be executed.
Eine ausgehende Kante von einem Knoten stellt einen Fluss einer Ausgabe der durch den Knoten dargestellten Operation dar, die als Eingabe in eine Operation verwendet werden soll, die durch einen anderen Knoten dargestellt wird. Folglich gibt eine gerichtete Kante, die einen ersten Knoten im Graphen mit einem zweiten Knoten im Graphen verbindet, an, dass eine Ausgabe, die durch die durch den ersten Knoten dargestellte Operation erzeugt wird, als Eingabe in die durch den zweiten Knoten dargestellte Operation verwendet wird.An outgoing edge of a node represents a flow of an output of the operation represented by the node to be used as input to an operation represented by another node. Thus, a directed edge connecting a first node in the graph to a second node in the graph indicates that an output generated by the operation represented by the first node is used as input to the operation represented by the second node ,
In einigen Implementierungen sind die im Rechengraphen dargestellten Operationen lineare algebraische Operationen, z. B. Matrixmultiplikation, Operationen eines neuronalen Netzes oder Operationen für eine andere Art von Maschinenlernmodel. Ein neuronales Netz ist ein Maschinenlernmodell, das eine oder mehrere Schichten von nicht-linearen Einheiten verwendet, um eine Ausgabe für eine empfangene Eingabe vorherzusagen. Einige neuronale Netze sind tiefe neuronale Netze, die eine oder mehrere verbogene Schichten zusätzlich zu einer Ausgabeschicht umfassen. Die Ausgabeschicht jeder verborgenen Schicht wird als Eingabe in eine andere Schicht im Netz, d. h. eine andere verborgene Schicht, die Ausgabeschicht oder beide, verwendet. Einige Schichten des Netzes erzeugen eine Ausgabe aus einer empfangenen Eingabe gemäß einem aktuellen Wert eines jeweiligen Satzes von Parametern, während andere Schichten des Netzes keine Parameter aufweisen können.In some implementations, the operations represented in the calculation graph are linear algebraic operations, e.g. Matrix multiplication, neural network operations, or operations for another type of machine learning model. A neural network is a machine learning model that uses one or more layers of non-linear units to predict output for a received input. Some neural networks are deep neural networks that include one or more bent layers in addition to an output layer. The output layer of each hidden layer is used as input to another layer in the network, i. H. another hidden layer, the output layer or both. Some layers of the network generate an output from a received input according to a current value of a respective set of parameters, while other layers of the network may have no parameters.
Die durch den Rechengraphen dargestellten Operationen können Operationen sein, die erforderlich sind, damit das neuronale Netz eine Folgerung berechnet, d. h. eine Eingabe durch die Schichten des neuronalen Netzes verarbeitet, um eine Ausgabe des neuronalen Netzes für die Eingabe zu erzeugen. Zusätzlich oder alternativ können die durch den Rechengraphen dargestellten Operationen Operationen sein, die erforderlich sind, um das neuronale Netz durch Durchführen einer Trainingsprozedur des neuronalen Netzes zu trainieren, um die Werte der Parameter des neuronalen Netzes einzustellen, z. B. um trainierte Werte von Parametern aus anfänglichen Werten der Parameter unter Verwendung von Rückpropagierung zu bestimmen. In einigen Fällen, z. B. während des Trainings des neuronalen Netzes, können die durch den Rechengraphen dargestellten Operationen Operationen umfassen, die durch mehrere Kopien des neuronalen Netzes durchgeführt werden.The operations represented by the arithmetic graph may be operations required for the neural network to compute an inference, i. H. processes an input through the layers of the neural network to produce an output of the neural network for input. Additionally or alternatively, the operations represented by the calculation graph may be operations required to train the neural network by performing a training procedure of the neural network to adjust the values of the parameters of the neural network, e.g. For example, to determine trained values of parameters from initial values of the parameters using backpropagation. In some cases, z. During training of the neural network, for example, the operations represented by the computing graph may include operations performed by multiple copies of the neural network.
Zur Erläuterung kann eine Schicht eines neuronalen Netzes, die eine Eingabe von einer vorherigen Schicht empfängt, eine Parametermatrix verwenden, um eine Matrixmultiplikation zwischen der Parametermatrix und der Eingabe durchzuführen. In einigen Fällen kann die Matrixmultiplikation als mehrere Knoten im Rechengraphen dargestellt werden. Eine Matrixmultiplikation kann beispielsweise in mehrere Multiplikations- und Additionsoperationen unterteilt werden und jede Operation kann durch einen anderen Knoten im Rechengraphen dargestellt werden. Die durch jeden Knoten dargestellte Operation kann eine jeweilige Ausgabe erzeugen, die auf einer gerichteten Kante zu einem anschließenden Knoten fließt. Nachdem die Operation, die durch einen Endknoten dargestellt wird, ein Ergebnis der Matrixmultiplikation erzeugt, fließt das Ergebnis auf einer gerichteten Kante zu einem anderen Knoten. Das Ergebnis ist zu einer Ausgabe der Schicht des neuronalen Netzes äquivalent, die die Matrixmultiplikation durchführt.By way of illustration, a layer of neural network receiving input from a previous layer may use a parameter matrix to perform matrix multiplication between the parameter matrix and the input. In some cases, the matrix multiplication can be represented as multiple nodes in the calculation graph. For example, a matrix multiplication may be divided into multiple multiplication and addition operations, and each operation may be represented by another node in the computational graph. The operation represented by each node may generate a respective output that flows on a directed edge to a subsequent node. After the operation represented by an end node generates a result of the matrix multiplication, the result flows on one directed edge to another node. The result is equivalent to an output of the layer of the neural network performing the matrix multiplication.
In einigen anderen Fällen wird die Matrixmultiplikation als ein Knoten im Graphen dargestellt. Die durch den Knoten dargestellten Operationen können als Eingaben einen Eingabetensor auf einer ersten gerichteten Kante und einen Gewichtstensor, z. B. eine Parametermatrix, auf einer zweiten gerichteten Kante empfangen. Der Knoten kann die Eingabe- und Gewichtstensoren verarbeiten, z. B. eine Matrixmultiplikation durchführen, um auf einer dritten gerichteten Kante einen Ausgabetensor auszugeben, der zu einer Ausgabe der Schicht des neuronalen Netzes äquivalent ist.In some other cases, the matrix multiplication is represented as a node in the graph. The operations represented by the node may have as inputs an input sensor on a first directed edge and a weight tensor, e.g. A parameter matrix, received on a second directed edge. The node can process the input and weight tensors, e.g. B. perform matrix multiplication to output on a third directional edge an output sensor equivalent to an output of the layer of the neural network.
Andere Operationen des neuronalen Netzes, die durch Knoten im Rechengraphen dargestellt werden können, umfassen andere mathematische Operationen, z. B. Subtraktion, Division und Gradientenberechnungen; Anordnungsoperationen, z. B. Verketten, Spleißen, Aufspalten oder Einstufen; und Bausteinoperationen des neuronalen Netzes, z. B. SoftMax, Sigmoid, gleichgerichtete lineare Einheit (ReLU) oder Faltungen. Other operations of the neural network that can be represented by nodes in the calculation graph include other mathematical operations, e.g. Subtraction, division and gradient calculations; Arrangement operations, e.g. Chaining, splicing, splitting or grading; and block operations of the neural network, e.g. SoftMax, sigmoid, rectified linear unit (ReLU) or convolutions.
In einem Beispielsystem können ein oder mehrere Sätze von Knoten im Rechengraphen Operationen darstellen, die den Datenfluss durch einen Rechengraphen steuern. Der eine oder die mehreren Sätze von Knoten können beispielsweise bedingte, rekursive und/oder iterative Steuerflussanweisungen darstellen, einschließlich: If-Anweisungen, While-Schleifen, Do-While-Schleifen, For-Schleifen, For-Each-Schleifen, oder verschachtelte Steuerflussanweisungen, die eine Kombination dieser Anweisungen umfassen.In an example system, one or more sets of nodes in the calculation graph may represent operations that control the flow of data through a calculation graph. The one or more sets of nodes may represent, for example, conditional, recursive and / or iterative control flow instructions including: if statements, while loops, do-while loops, for loops, for-each loops, or nested control flow statements. which comprise a combination of these instructions.
Der eine oder die mehreren Sätze von Knoten im Rechengraphen können einige Operationen darstellen, die in Operationen von Hochleistungsbibliotheken übersetzen können, die möglicherweise maschinenspezifische Hochleistungsimplementierungen von linearen algebraischen, z. B. Matrixmultiplikationsoperationen oder Operationen von neuronalen Netzen enthalten, z. B. Rückwärtsfaltung. In einigen Implementierungen kann die Eignung von Operationen in einem Graphen für die Übersetzung in Operationen von Hochleistungsbibliotheken und möglicherweise Fusion, wie hier erläutert, von der zugrundeliegenden Hardwarearchitektur und Maschinenkonfiguration abhängen.The one or more sets of nodes in the arithmetic graph may represent some operations that may translate into high-performance library operations that may involve high-performance, machine-specific implementations of linear algebraic, e.g. B. matrix multiplication operations or operations of neural networks, z. B. backward folding. In some implementations, the suitability of operations in a graph for translation in high-performance library operations and possibly fusion, as discussed herein, may depend on the underlying hardware architecture and machine configuration.
In einem Beispielkompilierungssystem fusioniert das Kompilierungssystem mehrere Operationen zu einer Fusionsoperation, die zur Codeerzeugungszeit in einen Aufruf übersetzt werden kann, der alle fusionierten Operationen durchführt. Dieser Fusionsprozess erzeugt einen Code, der schneller ist und potentiell weniger Arbeitsspeicher für Vorrichtungen wie z. B. Zentraleinheiten (CPUs) oder graphische Verarbeitungseinheiten (GPUs) verwendet.In an example compilation system, the compilation system merges multiple operations into a fusion operation that can be translated at code generation time into a call that performs all merged operations. This fusion process generates a code that is faster and potentially less memory for devices such. Central processing units (CPUs) or graphic processing units (GPUs) are used.
Das Kompilierungssystem
Ein Graphenanalysator
Beliebige Vorrichtungen, die die Operationen durchführen, die durch den effizienten kompilierten Code dargestellt werden, z. B. Vorrichtungen
Das System empfängt einen nicht optimierten Rechengraphen mit Knoten, die Operationen darstellen, und gerichteten Kanten, die Datenabhängigkeiten darstellen 202.The system receives a non-optimized arithmetic graph with nodes representing operations and directed edges representing
Das System analysiert dann den Rechengraphen unter Verwendung von Mustervergleich, um fusionierbare Operationen zu bestimmen, die zu einer einzelnen Fusionsoperation miteinander fusioniert werden können 204.The system then analyzes the arithmetic graph using pattern matching to determine fusible operations that can be merged 204 into a single fusion operation.
Das System transformiert den nicht optimierten Rechengraphen in einen optimierten Rechengraphen durch Ersetzen von fusionierbaren Operationen im nicht optimierten Rechengraphen durch einen Knoten, der die einzelne Fusionsoperation darstellt 206.The system transforms the non-optimized calculation graph into an optimized calculation graph by replacing fusible operations in the non-optimized calculation graph with a node representing the
Das System erzeugt dann einen effizienten kompilierten Code durch Übersetzen des Fusionsknotens des optimierten Rechengraphen als Aufruf, der alle fusionierten Operationen durchführt 208. Der effiziente kompilierte Code kann dann zu Rechenvorrichtungen wie z. B. graphischen Verarbeitungseinheiten und Zentraleinheiten zur Ausführung geliefert werden.The system then generates an efficient compiled code by translating the merge node of the optimized arithmetic graph as a call that performs all fused
Schleifenfusionloop fusion
Schleifenoperationen werden durch Iterieren durch Elemente einer Eingabeanordnung potentiell mehrere Male implementiert, um eine Ausgabeanordnung zu berechnen. Schleifenoperationen eines Rechengraphen sind die Form von regulären und nicht regulären Operationen. Eine reguläre Operation, z. B. Addition, Exponent oder Transponierung, liest meist ein Element aus jeder Eingabeanordnung für jedes Element der Ausgabeanordnung. Eine nicht reguläre Operation, z. B. Punkt oder Faltung, erfordert das Lesen von mehr als einem Element der Eingabeanordnung, um ein einzelnes Element der Ausgabeanordnung zu erzeugen.Loop operations are potentially implemented several times by iterating through elements of an input device to compute an output device. Loop operations of a calculation graph are the form of regular and non-regular operations. A regular operation, eg. Addition, exponent or transpose, most often reads an element from each input device for each element of the output device. A non-regular operation, eg. Dot or convolution requires reading more than one element of the input device to create a single element of the output device.
Reguläre Operationen können in zwei Typen von Funktionen zerlegt werden: eine Funktion, die auf die Eingabedaten angewendet wird, und eine Funktion, die auf den Ausgabeindex angewendet wird.Regular operations can be decomposed into two types of functions: a function that is applied to the input data and a function that is applied to the output index.
Eine reguläre einstellige Operation kann beispielsweise ausgedrückt werden als:
- A[i0,..., in-1] = fop(B[findex(i0, ..., in-1)]), wobei {i0, ..., in-1) ein mehrdimensionaler Index ist, fop die Datenfunktion, z. B. Potenzierung, der Operation ist, die auf das Datenelement von der Eingabe angewendet wird, und findex die Indexfunktion der Operation ist, die einen Index der Ausgabeanordnung auf einen Index der Eingabeanordnung anwendet. Für jede Iteration einer Schleife konstruiert beispielsweise das Beispielkompilierungssystem implizit die Indexfunktion findex der Operation, um zu bestimmen, welches Element der Eingabe zu lesen ist. Die Dimensionalität der Ausgabe von findex kann anders sein als die Eingabe wie beispielsweise in einer Rundsendeoperation.
- A [i 0, ..., i n-1 ] = f op (B [f index (i 0 , ..., i n-1 )]), where {i 0 , ..., i n- 1 ) is a multi-dimensional index, f op is the data function, e.g. For example, exponentiation is the operation that is applied to the data item of the input, and f index is the index function of the operation that applies an index of the output device to an index of the input device. For example, for each iteration of a loop, the example compilation system implicitly constructs the index function f index of the operation to determine which element of the input to read. The dimensionality of the output of findex may be different than the input, such as in a broadcast operation.
Durch Ausdrücken von regulären Operationen unter Verwendung von separaten Index- und Datenfunktionen kann das Beispielkompilierungssystem leicht Operationen unter Verwendung der Zusammensetzung dieser Funktionen fusionieren.By expressing regular operations using separate indexing and data functions, the example compilation system can easily fuse operations using the composition of these functions.
Die Ausgabeanordnung A 303a kann als Funktion von C 303c ausgedrückt werden:
Dieser Ausdruck fusioniert opf und opg. Der Ausdruck liegt in Form einer Zusammensetzung vor, die verwendet werden kann, um eine Sequenz von regulären Operationen zu fusionieren. This expression fuses op f and op g . The term is in the form of a composition that can be used to fuse a sequence of regular operations.
Um Operationen zu fusionieren, sollte jede Operation in Datenfunktionen und Indexfunktionen zerlegen. Einige Beispiele von regulären Operationen, die in eine Datenfunktion fop und eine Indexfunktion findex zerlegt werden, sind: Elementweise einstellige Potenzierungsoperationen
- (1) Elementweise einstellige Potenzierungsoperationen
- (2) Transponierung
- (3) Schneiden (nimmt Start- und Endindizes)
- (1) Elementary one-digit exponentiation operations
- (2) transposition
- (3) cutting (takes start and end indices)
Als Beispiel soll angenommen werden, dass der Code von Tabelle 1 der zu kompilierende Code ist.
Tabelle 1
Das Kompilierungssystem analysiert den Rechengraphen, der den Code darstellt, unter Verwendung von Mustervergleich. Für das Fusionieren von einstelligen Operationen durchsucht das Kompilierungssystem den Kompilierungsgraphen und sammelt so viele einstellige Operationen wie möglich für die Fusion zusammen. Wenn eine für die Fusion ausgewählte Operation außerhalb der Fusionsoperation liegt, muss die Operation zweimal berechnet werden - einmal innerhalb der Fusionsoperation und einmal außerhalb der Fusionsoperation.The compilation system analyzes the computational graph representing the code using pattern matching. For merging single-digit operations, the compilation system searches the compile graph and gathers as many single-digit operations as possible for the merger. If an operation selected for fusion is outside of the fusion operation, the operation must be calculated twice - once within the fusion operation and once outside the fusion operation.
Das Kompilierungssystem kann beispielsweise bekannte Muster von Operationen oder Algorithmen verwenden, um Ketten von Operationen zu finden, die miteinander fusioniert werden können. In einem Beispiel können sich Muster auf Operationen beziehen, die durch eine Programmiersprache oder einen Kompilierer bereitgestellt werden. In einem anderen Beispiel können Muster mit Hochleistungsbibliotheken bereitgestellt werden, wobei sich die Muster auf Operationen beziehen, die in der Hochleistungsbibliothek enthalten sind. In dem Beispiel von Tabelle 1 ergibt das Anwenden einer Fusion einer regulären einstelligen Operation:
Für nicht einstellige reguläre Operationen, z. B. A = op(B,C), können die Operationen auch als Datenfunktionen und Indexfunktionen ausgedrückt werden. Beispielsweise kann A = op(B,C) dargestellt werden als:
- A[i0, ..., in-1] = fop(B[findex0(i0, ..., in-1)], C[findex1(i0, ..., in-1)]), wobei findex0 und findex1 gleich sein können, z. B. bei elementweisem Addieren, wobei die Indexfunktion die Identität ist, oder unterschiedlich sein können, z. B. wie in einer Verkettungs- und binären Operation mit Rundsendung. Dieselben Regeln der Zusammensetzung gelten für nicht einstellige reguläre Operationen. Der Code von Tabelle 2 kann beispielsweise kompiliert werden müssen.
- A [i 0 , ..., i n-1 ] = f op (B [f index0 (i 0 , ..., i n-1 )], C [f index1 (i 0 , ..., i n-1 )]), where f index0 and f index1 may be the same, e.g. In elementary adding, where the index function is identity, or may be different, e.g. B. as in a concatenation and binary operation with broadcast. The same rules of composition apply to non-single-digit regular operations. For example, the code of Table 2 may need to be compiled.
Wenn opg Index- und Datenfunktionen gindex und gop aufweist und opf findex und fop aufweist, dann kann die Fusionsoperation ausgedrückt werden als:
Wie vorstehend offenbart, um Operationen zu finden, die miteinander fusioniert werden können, analysiert das Kompilierungssystem den Rechengraphen, der den Code darstellt, unter Verwendung von Mustervergleich. Zum Fusionieren von nicht einstelligen Operationen versucht das Kompilierungssystem, so viele reguläre Operationen wie möglich zu fusionieren, gemäß einer Grenze für die Anzahl von Eingaben in die Fusionsoperation. Zu viele Eingaben können die Arbeitsspeicherverwendung erhöhen und die Leistung behindern.As disclosed above, to find operations that can be merged together, the compilation system analyzes the computational graph that represents the code using pattern matching. To merge non-digit operations, the compilation system attempts to fuse as many regular operations as possible, according to a limit to the number of inputs to the fusion operation. Too many inputs can increase memory usage and hinder performance.
Das Kompilierungssystem kann beispielsweise bekannte Muster von Operationen oder Algorithmen verwenden, um Operationen zu finden, die miteinander fusioniert werden können. In dem Beispiel von Tabelle 3 ergibt die Anwendung einer Fusion von regulären nicht einstelligen Operationen:
In diesem Beispiel ist Xindex die Indexfunktion für opx und Xop ist die Datenfunktion für opx. Das Kompilierungssystem konstruiert diese fusionierte Darstellung durch Durchlaufen aller Pfade im Graphen von A 410 bis zu den Eingaben B 401a und C 401b. Das Durchlaufen nach oben bildet die Indexfunktionen von A 410 zu OpT 405e zu OpR 405c und Ops
Reguläre Operationen können für eine bessere Codeeffizienz auch zu einigen nicht regulären Operationen fusioniert werden. Beispielsweise soll die folgende Implementierung der Spaltenreduktion in Tabelle 4 betrachtet werden, die eine nicht reguläre Operation ist:
Tabelle 4
Der Spaltenreduktionsalgorithmus unterteilt eine Eingabematrix in Kacheln, von denen jede durch einen Thread reduziert wird. Jeder Thread akkumuliert die teilweisen Reduktionsergebnisse auf den Ausgabevektor. Diese Reduktion ist keine reguläre Operation, da jedes Ausgabeelement durch mehrere Threads anstelle von einem berechnet wird. Die Operationen, die die Eingabeelemente erzeugen, können jedoch zu der Spaltenreduktion fusioniert werden, wenn sie reguläre Operationen sind. Die Eingabe in die Reducer-Operation in Zeile
Tabelle 5 stellt das Fusionieren der Operationen, die das Eingabeelement erzeugen, zu der Spaltenreduktion dar. Die Zeile
Wie vorstehend offenbart, um Eingabeoperationen zu finden, die miteinander fusioniert werden können, analysiert das Kompilierungssystem den Rechengraphen, der den Code darstellt, unter Verwendung von Mustervergleich. Das Kompilierungssystem kann beispielsweise elementweise Operationen, die eine Teilmenge von regulären Operationen sind, zu nicht regulären Operationen fusionieren. Elementweise Operationen lesen das Eingabeelement an demselben Index wie das Ausgabeelement. Daher ändert das Fusionieren von elementweisen Operationen nicht das Arbeitsspeicherzugriffsmuster der nicht regulären Operation.As disclosed above, to find input operations that can be fused together, the compilation system analyzes the computational graph that represents the code using pattern matching. For example, the compilation system may merge element-wise operations, which are a subset of regular operations, into non-regular operations. Elementary operations read the input element at the same index as the output element. Therefore, merging elementary operations does not change the memory access pattern of the non-regular operation.
Bibliotheksfusionlibrary merger
Einige Hardwareverkäufer liefern Hochleistungsbibliotheken zusammen mit ihrer Hardware. Diese Bibliotheken können Hochleistungsimplementierungen von Operationen enthalten. Die Bibliotheken sind jedoch häufig unfrei und/oder mit Hardwareerkenntnissen geschrieben, die nicht öffentlich sind. Ein Beispielkompilierungssystem verwendet diese vom Verkäufer bereitgestellten Bibliotheken für bestimmte Muster von Berechnungen innerhalb eines Rechengraphen.Some hardware vendors provide high performance libraries along with their hardware. These libraries may contain high-performance implementations of operations. However, the libraries are often non-free and / or written with hardware knowledge that is not public. An example compilation system uses these vendor-provided libraries for particular patterns of computations within a computational graph.
Das Beispielkompilierungssystem sucht nach Operationen eines Rechengraphen, die miteinander fusioniert werden kann können, durch Analysieren des Rechengraphen, der den Code darstellt, unter Verwendung von Mustervergleich. Das Kompilierungssystem kann beispielsweise die Effizienz durch Suchen nach bestimmten Mustern von Untergraphen von Operationen verbessern, die bekannten Bibliotheksoperationen entsprechen. Diese Untergraphen können dann im Rechengraphen durch Fusionsknoten ersetzt werden, die Bibliotheksoperationen darstellen.The example compilation system looks for operations of a computational graph that can be merged together by parsing the computational graph that represents the code using pattern matching. For example, the compilation system may improve efficiency by searching for particular subgraph patterns of operations that correspond to known library operations. These subgraphs can then be replaced in the arithmetic graph by fusion nodes representing library operations.
Sobald ein Kompilierungssystem Untergraphen innerhalb Rechengraphen durch Fusionsknoten ersetzt, kann das Kompilierungssystem die Fusionsknoten in Aufrufe übersetzen, die alle fusionierten Operationen durchführen. Dieser Prozess erzeugt einen Code, der effizienter ist als der Code, der mit einer Operation auf einmal kompiliert wird.Once a compilation system replaces subgraphs within arithmetic graphs with fusion nodes, the compilation system can translate the fusion nodes into calls that perform all merged operations. This process generates a code that is more efficient than the code compiled with one operation at a time.
Ausführungsformen des Gegenstandes und der funktionalen Operationen, die in dieser Patentbeschreibung beschrieben sind, können in einer digitalen elektronischen Schaltungsanordnung, in einer konkret verkörperten Computer-Software oder Computer-Firmware, in Computer-Hardware, einschließlich der in dieser Patentbeschreibung offenbarten Strukturen und ihren strukturellen Äquivalenten, oder in Kombinationen von einem oder mehreren von ihnen implementiert werden. Ausführungsformen des Gegenstandes, die in dieser Patentbeschreibung beschrieben ist, können als ein oder mehrere Computerprogramme, d. h. ein oder mehrere Module von Computerprogrammbefehlen, die auf einem konkreten, nichttransitorischen Speichermedium für die Ausführung durch oder zum Steuern des Betriebs einer Datenverarbeitungseinrichtung codiert sind, implementiert werden. Das Computerspeichermedium kann eine maschinenlesbare Speichervorrichtung, ein maschinenlesbares Speichersubstrat, eine Direkt- oder serielle Zugriffsarbeitsspeichervorrichtung oder eine Kombination von einer oder mehreren von ihnen sein. Alternativ oder zusätzlich können die Programmbefehle auf einem künstlich erzeugten ausgebreiteten Signal, z. B. einem durch eine Maschine erzeugten elektrischen, optischen oder elektromagnetischen Signal, das erzeugt wird, um Informationen zur Übertragung zu einer geeigneten Empfängereinrichtung für die Ausführung durch eine Datenverarbeitungseinrichtung zu codieren, codiert sein.Embodiments of the subject matter and functional operations described in this specification may be embodied in digital electronic circuitry, concretely embodied computer software or computer firmware, in computer hardware, including the structures disclosed in this specification and their structural equivalents , or in combinations of one or more of them. Embodiments of the subject matter described in this specification may be embodied as one or more computer programs, i. H. one or more modules of computer program instructions encoded on a tangible non-transitory storage medium for execution by or for controlling the operation of a data processing device. The computer storage medium may be a machine-readable storage device, a machine-readable storage substrate, a direct or serial access storage device, or a combination of one or more of them. Alternatively or additionally, the program instructions may be executed on an artificially generated propagated signal, e.g. A machine generated electrical, optical or electromagnetic signal generated to encode information for transmission to a suitable receiver device for execution by a data processing device.
Der Begriff „Datenverarbeitungseinrichtung“ bezieht sich auf Datenverarbeitungshardware und umfasst alle Arten von Einrichtungen, Vorrichtungen und Maschinen zum Verarbeiten von Daten, einschließlich als Beispiel eines programmierbaren Prozessors, eines Computers oder mehrerer Prozessoren oder Computer. Die Einrichtung kann auch eine Speziallogikschaltungsanordnung, z. B. ein FPGA (anwenderprogrammierbares Verknüpfungsfeld) oder eine ASIC (anwendungsspezifische integrierte Schaltung), sein oder diese ferner umfassen. Die Einrichtung kann optional zusätzlich zu Hardware einen Code umfassen, der eine Ausführungsumgebung für Computerprogramme erzeugt, z. B. einen Code, der eine Prozessorfirmware, einen Protokollstapel, ein Datenbankmanagementsystem, ein Betriebssystem oder eine Kombination von einem oder mehreren von ihnen bildet.The term "data processing device" refers to data processing hardware and includes all types of devices, devices and machines for processing data, including as an example a programmable processor, a computer or multiple processors or computers. The device may also include special logic circuitry, e.g. Example, an FPGA (user programmable logic array) or an ASIC (application specific integrated circuit), include or further. The device may optionally include, in addition to hardware, code that generates a computer program execution environment, e.g. A code that forms a processor firmware, a protocol stack, a database management system, an operating system, or a combination of one or more of them.
Ein Computerprogramm, das auch als Programm, Software oder Software-Anwendung, App, Modul, ein Softwaremodul, Skript oder Code bezeichnet oder beschrieben werden kann, kann in irgendeiner Form von Programmiersprache geschrieben sein, einschließlich kompilierter oder interpretierter Sprachen oder deklarativer oder Prozedursprachen; und es kann in irgendeiner Form eingesetzt werden, einschließlich als eigenständiges Programm oder als Modul, Komponente, Subroutine oder andere Einheit, die zur Verwendung in einer Rechenumgebung geeignet ist. Ein Programm kann, muss jedoch nicht einer Datei in einem Dateisystem entsprechen. Ein Programm kann in einem Abschnitt einer Datei gespeichert sein, die andere Programme oder Daten hält, z. B. ein oder mehrere Skripts, die in einem Auszeichnungssprachdokument, in einer einzelnen Datei, die für das fragliche Programm zweckgebunden ist, oder in mehreren koordinierten Dateien gespeichert ist, z. B. Dateien, die ein oder mehrere Module, Unterprogramme oder Abschnitte eines Codes speichern. Ein Computerprogramm kann eingesetzt werden, damit es auf einem Computer oder auf mehreren Computern ausgeführt wird, die an einem Ort angeordnet sind oder über mehrere Orte verteilt und durch ein Datenkommunikationsnetz miteinander verbunden sind.A computer program, which may also be termed or described as a program, software or software application, app, module, software module, script or code, may be written in any form of programming language, including compiled or interpreted languages or declarative or procedural languages; and it may be used in any form, including as a standalone program or as a module, component, subroutine, or other entity suitable for use in a computing environment. A program may or may not be a file in a file system. A program may be stored in a section of a file that holds other programs or data, e.g. One or more scripts stored in a markup language document, in a single file dedicated to the program in question, or in several coordinated files, e.g. For example, files that store one or more modules, subprograms, or sections of a code. A computer program may be used to run on a computer or on multiple computers that are located in one place or distributed over multiple locations and interconnected by a data communication network.
Die in dieser Patentbeschreibung beschriebenen Prozesse und Logikabläufe können durch einen oder mehrere programmierbare Computer durchgeführt werden, die ein oder mehrere Computerprogramme ausführen, um Funktionen durch Verarbeiten von Eingangsdaten und Erzeugen einer Ausgabe durchzuführen. Die Prozesse und Logikabläufe können auch durch eine Speziallogikschaltungsanordnung, z. B. ein FPGA oder eine ASIC, oder durch eine Kombination einer Speziallogikschaltungsanordnung und eines oder mehrerer programmierter Computer durchgeführt werden.The processes and logic operations described in this specification may be performed by one or more programmable computers executing one or more computer programs to perform functions by processing input data and generating an output. The processes and logic operations may also be implemented by special logic circuitry, e.g. An FPGA or an ASIC, or by a combination of special logic circuitry and one or more programmed computers.
Computer, die für die Ausführung eines Computerprogramms geeignet sind, können auf Universal- oder Spezial-Mikroprozessoren oder beiden oder irgendeiner anderen Art von Zentraleinheit basieren. Im Allgemeinen empfängt eine Zentraleinheit Befehle und Daten von einem Festwertarbeitsspeicher oder einen Direktzugriffsarbeitsspeicher oder beiden. Die wesentlichen Elemente eines Computers sind eine Zentraleinheit zum Durchführen oder Ausführen von Befehlen und eine oder mehrere Arbeitsspeichervorrichtungen zum Speichern von Befehlen und Daten. Die Zentraleinheit und der Arbeitsspeicher können durch eine Speziallogikschaltungsanordnung ergänzt oder darin integriert sein. Im Allgemeinen umfasst ein Computer auch eine oder mehrere Massenspeichervorrichtungen zum Speichern von Daten oder ist wirksam damit gekoppelt, um Daten von diesen zu empfangen oder Daten zu diesen zu übertragen, z. B. magnetische, magnetooptische Platten oder optische Platten. Ein Computer muss jedoch nicht solche Vorrichtungen aufweisen. Überdies kann ein Computer in eine andere Vorrichtung, z. B. ein Mobiltelefon, einen persönlichen digitalen Assistenten (PDA), eine mobile Audio- oder Videoabspieleinrichtung, eine Spielekonsole, einen Empfänger eines globalen Positionsbestimmungssystems (GPS) oder eine tragbare Speichervorrichtung, z. B. ein Flash-Laufwerk eines universalen seriellen Busses (USB), um nur einige zu nennen, eingebettet sein.Computers that are suitable for executing a computer program may be based on general purpose or special purpose microprocessors, or both, or any other type of central processing unit. In general, a central processing unit receives instructions and data from a read only memory or random access memory, or both. The essential elements of a computer are a central unit for executing or executing instructions and one or more memory devices for Saving commands and data. The central processing unit and the main memory may be supplemented or integrated by special logic circuitry. In general, a computer also includes one or more mass storage devices for storing data or is operably coupled thereto to receive data from or transmit data thereto, e.g. As magnetic, magneto-optical disks or optical disks. However, a computer does not need to have such devices. Moreover, a computer can be transferred to another device, e.g. A mobile phone, a personal digital assistant (PDA), a mobile audio or video player, a game console, a Global Positioning System (GPS) receiver, or a portable storage device, e.g. For example, a Universal Serial Bus (USB) flash drive, just to name a few, may be embedded.
Computerlesbare Medien, die zum Speichern von Computerprogrammbefehlen und Daten geeignet sind, umfassen alle Formen eines nichtflüchtigen Arbeitsspeichers, von Medien und Arbeitsspeichervorrichtungen, einschließlich als Beispiel Halbleiterarbeitsspeichervorrichtungen, z. B. EPROM, EEPROM, und Flash-Arbeitsspeichervorrichtungen; magnetische Platten, z. B. interne Festplatten oder entnehmbare Platten; magnetooptische Platten; und CD-ROM- und DVD-ROM-Platten.Computer readable media suitable for storing computer program instructions and data include all forms of nonvolatile memory, media, and memory devices, including as an example semiconductor memory devices, e.g. EPROM, EEPROM, and flash memory devices; magnetic plates, e.g. Internal hard disks or removable disks; magneto-optical disks; and CD-ROM and DVD-ROM discs.
Um für die Zusammenwirkung mit einem Benutzer zu sorgen, können Ausführungsformen des Gegenstandes, der in dieser Patentbeschreibung beschrieben ist, auf einem Computer mit einer Anzeigevorrichtung, z. B. einem CRT- (Kathodenstrahlröhre) oder LCD- (Flüssigkristallanzeige) Monitor, zum Anzeigen von Informationen für den Benutzer und einer Tastatur und einer Zeigevorrichtung, z. B. einer Maus oder einer Rollkugel, durch die der Benutzer eine Eingabe in den Computer liefern kann, implementiert werden. Andere Arten von Vorrichtungen können ebenso verwendet werden, um für die Zusammenwirkung mit einem Benutzer zu sorgen; eine Rückmeldung, die zum Benutzer geliefert wird, kann beispielsweise irgendeine Form von Sensorrückmeldung sein, z. B. eine visuelle Rückmeldung, akustische Rückmeldung oder taktile Rückmeldung; und eine Eingabe vom Benutzer kann in irgendeiner Form empfangen werden, einschließlich akustisch, Sprache oder taktiler Eingabe. Außerdem kann ein Computer mit einem Benutzer durch Senden von Dokumenten zu und Empfangen von Dokumenten von einer Vorrichtung zusammenwirken, die durch den Benutzer verwendet wird; beispielsweise durch Senden von Webseiten zu einem Web-Browser an einer Vorrichtung des Benutzers in Reaktion auf Anforderungen, die vom Web-Browser empfangen werden. Ein Computer kann auch mit einem Benutzer durch Senden von Textnachrichten oder anderen Formen einer Nachricht zu einer persönlichen Vorrichtung zusammenwirken; z. B. einem Smartphone, das eine Nachrichtenanwendung betreibt und Antwortnachrichten vom Benutzer im Gegenzug empfängt.In order to provide for interaction with a user, embodiments of the subject matter described in this specification may be provided on a computer having a display device, e.g. A CRT (Cathode Ray Tube) or LCD (Liquid Crystal Display) monitor, for displaying information to the user and a keyboard and a pointing device, e.g. As a mouse or a trackball through which the user can provide an input to the computer can be implemented. Other types of devices may also be used to provide for interaction with a user; For example, a feedback provided to the user may be some form of sensor feedback, e.g. A visual feedback, audible feedback or tactile feedback; and an input from the user may be received in any form, including acoustic, speech or tactile input. Additionally, a computer may interact with a user by sending documents to and receiving documents from a device used by the user; for example, by sending web pages to a web browser on a device of the user in response to requests received from the web browser. A computer may also interact with a user by sending text messages or other forms of message to a personal device; z. A smartphone that operates a messaging application and receives reply messages from the user in return.
Ausführungsformen des Gegenstandes, der in dieser Patentbeschreibung beschrieben ist, können in einem Rechensystem implementiert werden, das eine Backend-Komponente, z. B. als Datenserver, umfasst oder das eine Middleware-Komponente, z. B. einen Anwendungsserver, umfasst oder das eine Frontend-Komponente, z. B. einen Client-Computer mit einer graphischen Benutzerschnittstelle, einem Web-Browser oder einer App umfasst, durch die ein Benutzer mit einer Implementierung des in dieser Patentbeschreibung beschriebenen Gegenstandes zusammenwirken kann, oder irgendeine Kombination von einer oder mehreren solcher Backend-, Middleware- oder Frontend-Komponenten. Die Komponenten des Systems können durch irgendeine Form oder irgendein Medium zur digitalen Datenkommunikation, z. B. ein Kommunikationsnetz, miteinander verbunden sein. Beispiele von Kommunikationsnetzen umfassen ein lokales Netz (LAN) und ein weiträumiges Netz (WAN), z. B. das Internet.Embodiments of the subject matter described in this specification may be implemented in a computing system that includes a backend component, e.g. As a data server, or that includes a middleware component, eg. An application server, or that includes a front-end component, e.g. A client computer having a graphical user interface, a web browser, or an app by which a user may interact with an implementation of the subject matter described in this specification, or any combination of one or more of such backend, middleware, or front-end components. The components of the system may be replaced by any form or medium for digital data communication, e.g. As a communication network, be connected to each other. Examples of communication networks include a local area network (LAN) and a wide area network (WAN), e.g. For example, the Internet.
Das Rechensystem kann Clients und Server umfassen. Ein Client und ein Server sind im Allgemeinen voneinander entfernt und wirken typischerweise durch ein Kommunikationsnetz zusammen. Die Beziehung von Client und Server entsteht durch Computerprogramme, die auf den jeweiligen Computern laufen und eine Client-Server-Beziehung zueinander aufweisen. In einigen Ausführungsformen überträgt ein Server Daten, z. B. eine HTML-Seite, zu einer Benutzervorrichtung, z. B. für Zwecke des Anzeigens von Daten für und Empfangen einer Benutzereingabe von einem Benutzer, der mit der Vorrichtung zusammenwirkt, die als Client wirkt. Daten, die an der Benutzervorrichtung erzeugt werden, z. B. ein Ergebnis der Benutzerzusammenwirkung, können am Server von der Vorrichtung empfangen werden.The computing system may include clients and servers. A client and a server are generally apart and typically interact through a communication network. The relationship between client and server is created by computer programs that run on the respective computers and have a client-server relationship with each other. In some embodiments, a server transmits data, e.g. An HTML page, to a user device, e.g. For purposes of displaying data for and receiving user input from a user interacting with the device acting as a client. Data generated at the user device, e.g. A result of the user interaction, may be received at the server by the device.
Zusätzlich zu den Ausführungsformen der beigefügten Ansprüche und den vorstehend beschriebenen Ausführungsformen sind die folgenden nummerierten Ausführungsformen auch innovativ:In addition to the embodiments of the appended claims and the embodiments described above, the following numbered embodiments are also innovative:
Die Ausführungsform
Die Ausführungsform
Die Ausführungsform
Die Ausführungsform
Die Ausführungsform
Die Ausführungsform
Die Ausführungsform
Die Ausführungsform
Die Ausführungsform
Die Ausführungsform
Die Ausführungsform
Die Ausführungsform
Obwohl diese Patentbeschreibung viele spezielle Implementierungsdetails enthält, sollten diese nicht als Begrenzungen für den Schutzbereich irgendeiner Erfindung oder für den Schutzbereich dessen, was beansprucht sein kann, aufgefasst werden, sondern vielmehr als Beschreibungen von Merkmalen, die für spezielle Ausführungsformen von speziellen Erfindungen spezifisch sein können. Bestimmte Merkmale, die in dieser Patentbeschreibung im Zusammenhang mit separaten Ausführungsformen beschrieben sind, können in Kombination in einer einzelnen Ausführungsform implementiert werden. Dagegen können verschiedene Merkmale, die im Zusammenhang mit einer einzelnen Ausführungsform beschrieben sind, auch in mehreren Ausführungsformen separat oder in irgendeiner geeigneten Unterkombination implementiert werden. Obwohl Merkmale vorstehend als in bestimmten Kombinationen wirkend beschrieben sein können und sogar anfänglich als solche beansprucht sein können, können überdies ein oder mehrere Merkmale von einer beanspruchten Kombination in einigen Fällen aus der Kombination ausgeschnitten werden und die beanspruchte Kombination kann auf eine Unterkombination oder Variation einer Unterkombination gerichtet sein.While this specification contains many specific implementation details, these should not be construed as limitations on the scope of any invention or the scope of what may be claimed, but rather as descriptions of features that may be specific to particular embodiments of specific inventions. Certain features described in this specification in the context of separate embodiments may be implemented in combination in a single embodiment. In contrast, various features described in the context of a single embodiment may also be implemented separately or in any suitable subcombination in several embodiments. Moreover, although features may be described above as acting in certain combinations and may even be initially claimed as such, in some instances one or more features of a claimed combination may be excised from the combination and the claimed combination may be for a subcombination or variation of a subcombination be directed.
Obwohl Operationen in einer speziellen Reihenfolge in den Zeichnungen dargestellt sind, sollte dies ebenso nicht so verstanden werden, dass es erfordert, dass solche Operationen in der gezeigten speziellen Reihenfolge oder in sequentieller Reihenfolge durchgeführt werden, oder dass alle dargestellten Operationen durchgeführt werden, um erwünschte Ergebnisse zu erreichen. Unter bestimmten Umständen können Multitasking und parallele Verarbeitung vorteilhaft sein. Überdies sollte die Trennung von verschiedenen Systemmodulen und Komponenten in den vorstehend beschriebenen Ausführungsformen nicht als eine solche Trennung in allen Ausführungsformen erfordernd verstanden werden, und es sollte selbstverständlich sein, dass die beschriebenen Programmkomponenten und Systeme im Allgemeinen zusammen in einem einzelnen Softwareprodukt integriert sein können oder in mehrere Softwareprodukte gepackt sein können.Although operations are illustrated in a particular order in the drawings, it should also not be understood that it requires such operations to be performed in the particular order shown or in sequential order, or that all illustrated operations are performed to achieve desired results to reach. Under certain circumstances, multitasking and parallel processing may be beneficial. Moreover, the separation of various system modules and components in the above-described embodiments should not be construed as requiring such a separation in all embodiments, and it should be understood that the described program components and systems may generally be integrated together in a single software product several software products can be packed.
Spezielle Ausführungsformen des Gegenstandes wurden beschrieben. Andere Ausführungsformen liegen innerhalb des Schutzbereichs der folgenden Ansprüche. Die in den Ansprüchen angeführten Handlungen können beispielsweise in einer anderen Reihenfolge durchgeführt werden und dennoch wünschenswerte Ergebnisse erreichen. Als ein Beispiel erfordern die in den begleitenden Figuren dargestellten Prozesse nicht notwendigerweise die gezeigte spezielle Reihenfolge oder sequentielle Reihenfolge, um wünschenswerte Ergebnisse zu erreichen. In einigen Fällen können Multitasking und parallele Verarbeitung vorteilhaft sein.Specific embodiments of the article have been described. Other embodiments are within the scope of the following claims. For example, the acts listed in the claims may be performed in a different order and still achieve desirable results. As an example, the processes illustrated in the accompanying figures do not necessarily require the particular order or sequential order shown to achieve desirable results. In some cases, multitasking and parallel processing may be beneficial.
Claims (19)
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
DE202018100066.7U DE202018100066U1 (en) | 2018-01-08 | 2018-01-08 | Loop and library fusion |
Applications Claiming Priority (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
DE202018100066.7U DE202018100066U1 (en) | 2018-01-08 | 2018-01-08 | Loop and library fusion |
Publications (1)
Publication Number | Publication Date |
---|---|
DE202018100066U1 true DE202018100066U1 (en) | 2018-04-10 |
Family
ID=62026913
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
DE202018100066.7U Active DE202018100066U1 (en) | 2018-01-08 | 2018-01-08 | Loop and library fusion |
Country Status (1)
Country | Link |
---|---|
DE (1) | DE202018100066U1 (en) |
Cited By (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN110968321A (en) * | 2019-10-25 | 2020-04-07 | 浙江省北大信息技术高等研究院 | Tensor calculation code optimization method, device, equipment and medium |
CN112965710A (en) * | 2019-12-13 | 2021-06-15 | 阿里巴巴集团控股有限公司 | Processing method, device and system of computation graph |
-
2018
- 2018-01-08 DE DE202018100066.7U patent/DE202018100066U1/en active Active
Cited By (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN110968321A (en) * | 2019-10-25 | 2020-04-07 | 浙江省北大信息技术高等研究院 | Tensor calculation code optimization method, device, equipment and medium |
CN110968321B (en) * | 2019-10-25 | 2023-06-20 | 杭州未名信科科技有限公司 | Tensor calculation code optimization method, device, equipment and medium |
CN112965710A (en) * | 2019-12-13 | 2021-06-15 | 阿里巴巴集团控股有限公司 | Processing method, device and system of computation graph |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
DE102018100239A1 (en) | Loop and library fusion | |
DE112015003406B4 (en) | Lineage Summation | |
DE102017121887A1 (en) | Perform core traversal in hardware | |
DE102018111905A1 (en) | Domain-specific language for generating recurrent neural network architectures | |
DE102017121257A1 (en) | Perform mean pooling in hardware | |
DE202016107436U1 (en) | Neural network processor | |
DE202018101275U1 (en) | Depth concatenation using a matrix computation unit | |
DE102016223193A1 (en) | Method and apparatus for completing a knowledge graph | |
DE102017125256A1 (en) | Search for a neural architecture | |
DE202016107476U1 (en) | Batch processing in a neural network processor | |
DE112016002296T5 (en) | VECTOR CONTROL UNIT IN A NEURONAL NETWORK PROCESSOR | |
DE202016008658U1 (en) | Bildklassifikationsneuronalnetze | |
DE202016107443U1 (en) | Compute convolutions using a neural network processor | |
DE112016000509T5 (en) | Batch normalization layers | |
DE202017106577U1 (en) | Generate an output for an output layer of a neural network | |
DE202017107393U1 (en) | Predicting a search engine map signal value | |
DE202011110124U1 (en) | Hybrid query execution plan | |
DE102017109239A1 (en) | COMPUTER IMPLEMENTED PROCESS, COMPUTER READABLE MEDIA AND HETEROGICAL COMPUTER SYSTEM | |
DE102017009505A1 (en) | Create a compact video feature representation in a digital media environment | |
DE202018100069U1 (en) | Execution of calculation graphs in graphics processing units | |
DE112020004471T5 (en) | Inference device, training device, inference method and training method | |
DE202020101664U1 (en) | Computer-aided graph optimization | |
DE102021004562A1 (en) | Modification of scene graphs based on natural language commands | |
DE202018100066U1 (en) | Loop and library fusion | |
DE102014114392A1 (en) | Sketching structured matrices for nonlinear regression problems |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
R207 | Utility model specification | ||
R150 | Utility model maintained after payment of first maintenance fee after three years | ||
R151 | Utility model maintained after payment of second maintenance fee after six years |