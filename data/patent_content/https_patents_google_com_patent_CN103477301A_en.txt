CN103477301A - Method and device for charging energy storage devices - Google Patents
Method and device for charging energy storage devices Download PDFInfo
- Publication number
- CN103477301A CN103477301A CN201180063820XA CN201180063820A CN103477301A CN 103477301 A CN103477301 A CN 103477301A CN 201180063820X A CN201180063820X A CN 201180063820XA CN 201180063820 A CN201180063820 A CN 201180063820A CN 103477301 A CN103477301 A CN 103477301A
- Authority
- CN
- China
- Prior art keywords
- client
- current
- electric current
- main frame
- host
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Granted
Links
- 238000000034 method Methods 0.000 title claims abstract description 56
- 238000004146 energy storage Methods 0.000 title abstract description 11
- 230000008859 change Effects 0.000 claims description 8
- 230000004044 response Effects 0.000 claims description 3
- 238000006116 polymerization reaction Methods 0.000 description 21
- 230000008569 process Effects 0.000 description 14
- 238000010586 diagram Methods 0.000 description 12
- 230000009471 action Effects 0.000 description 3
- 230000003321 amplification Effects 0.000 description 3
- 238000003199 nucleic acid amplification method Methods 0.000 description 3
- 230000033228 biological regulation Effects 0.000 description 2
- 238000005094 computer simulation Methods 0.000 description 2
- 238000001514 detection method Methods 0.000 description 2
- 230000002411 adverse Effects 0.000 description 1
- 230000000712 assembly Effects 0.000 description 1
- 238000000429 assembly Methods 0.000 description 1
- 230000008901 benefit Effects 0.000 description 1
- 238000004891 communication Methods 0.000 description 1
- 238000013461 design Methods 0.000 description 1
- 238000003745 diagnosis Methods 0.000 description 1
- 230000000694 effects Effects 0.000 description 1
- 238000005516 engineering process Methods 0.000 description 1
- 230000017525 heat dissipation Effects 0.000 description 1
- 230000006872 improvement Effects 0.000 description 1
- 238000009434 installation Methods 0.000 description 1
- 230000002045 lasting effect Effects 0.000 description 1
- 230000004048 modification Effects 0.000 description 1
- 238000012986 modification Methods 0.000 description 1
- 230000002093 peripheral effect Effects 0.000 description 1
- 230000000379 polymerizing effect Effects 0.000 description 1
- 238000012360 testing method Methods 0.000 description 1
Images
Classifications
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F1/00—Details not covered by groups G06F3/00 - G06F13/00 and G06F21/00
- G06F1/26—Power supply means, e.g. regulation thereof
- G06F1/266—Arrangements to supply power to external peripherals either directly from the computer or under computer control, e.g. supply of power through the communication port, computer controlled power-strips
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F1/00—Details not covered by groups G06F3/00 - G06F13/00 and G06F21/00
- G06F1/26—Power supply means, e.g. regulation thereof
Abstract
Disclosed is a method (200) for charging energy storage devices. The method (200) can include a battery charging method in a power supply client connected by a data bus to a power supply host. The method (200) includes the steps of: detecting (210) a state of the power supply host; determining (220) a limit of current from the host to the client; allocating (230) a portion of the limit to a battery charging current; and charging (240) a battery of the client at the battery charging current such that the current from the host is greater than a recommended limit and less than or equal to the determined amount. Thus a client device can confidently charge at a rate which causes the port current to exceed a recommended limit, such as a USB port limit of 500 mA, when allowed by conditions of the host device. Advantageously, the method can help to expedite the charging time of a client battery, notwithstanding the number of other clients connected to the same host device for charging, thus minimizing the wait time of a user.
Description
Technical field
Present disclosure relates to a kind of method and apparatus for energy storage device is charged.
Background technology
As a setting, such as USB (universal serial bus) (USB) thus the hub of hub is single USB port to be extended to several make the device that exists multiport more to can be used for device is connected to host computer system.See that www.usb.org is to obtain more details.
Usb hub usually is built in the equipment such as computing machine, radio communication device, keyboard, monitor, printer etc.When such device has many USB port, these many USB port all come from one or two inner usb hub usually rather than each port has independently USB circuit.This embodiment that right and wrong usually are shown in personal computer (PC).
The usb hub physically separated occurs with various shape factors: the external box connected from available long cable (it seems as if similar with hub) is to the little design that can directly be inserted into USB port.Under intermediate state, exist typically with 6 inches cables of integral body and slightly make micro hub congested and certainly improve " stub cable " hub of the number of available port away from the physics hub.Laptop computer can be equipped with many USB port, but the external USB hub can merge to some daily devices (for example mouse and printer) in single hub so that can realize that the single step of all devices is attached and remove.
Bus-powered hub is to draw the hub of its whole electric power from the usb host the USB interface such as computing machine.It does not use independent power supply to connect.Yet, more electric power that many devices need to can provide than this method, and will not work in this hub.
USB2.0 regulation and stipulation electric current (relevant to power) is to take 100mA to reach every port maximum 500mA altogether as unit distributes.(USB3.0 regulation and stipulation electric current is to take 150mA to be distributed and the maximum 900mA of every port as unit.Although many concepts and example in this document relate to the USB2.0 standard, should be understood, in the situation that value for different they similarly be applicable to USB3.0.) therefore compatible bus-powered hub can have and be no more than four downstream ports, each has recommendation restriction of 100mA, and can not be altogether downstream device provide and surpass four 100mA current units (because the hub itself needs a unit).If the more current unit that device need to provide than the port that can be inserted into by it, operating system reports to the user by this usually.
In contrast, self-powered hub is to obtain the hub of electric power from the external power source unit, and therefore full power (the nearly recommendation of 500mA restriction) can be offered to each port.Many hubs can operate as bus-powered or self-powered hub.Yet, although exist truly, by bus-powered, to main frame, announce this as self-powered many non-compatible hub on market.Similarly exist in the situation that announce the fact (or really sometimes in the situation that will itself not be designated the USB device at all) use of using over 100mA recommendation restriction and recommend the non-compatible apparatus limited over 100mA.These hubs and device use aspect power allowing more dirigibility (particularly many devices use much smaller than 100mA and many USB port can enter overload cut off before supply surpass 500mA and recommend restriction), but they probably make power issue become more to be difficult to diagnosis.
Some are powered hub can not supply the power that is enough to support the 500mA load on each port.For example, when seven ports in fact can draw when being 7x0.5=3.5A to the maximum and adding the power for the hub itself, many 7 port concentrators are attended by the power supply adaptor of 1A.Suppose to be, most probable is connected to many low-power device to the user and only one or two need to expire 500mA.
Existence is for the needs of improving one's methods and installing for energy storage device is charged.For example, in the sustainable growth situation, spent the longer duration of charging for the electronic installation such as smart phone, flat board etc. in battery capacity.For example, for utilization, charged by the USB of the USB power supply of 500mA restriction, its cost longer time is charged to the client battery.If in the situation that adversely do not affect hub and client terminal device battery, client terminal device with client battery can be charged more quickly, and, no matter be connected to the number of the client of usb hub, this will be considered to the improvement of this area.
The accompanying drawing explanation
In order to describe put down in writing above and the mode other advantage and feature that can obtain present disclosure with it, the more specifically description of the present disclosure that the above describes tout court will be reproduced by reference to its specific embodiment be illustrated in the accompanying drawings.Understand these figure and only described the exemplary embodiments of present disclosure and therefore will not be considered to limit its scope, will be described and illustrate present disclosure by additional characteristic and details by utilizing accompanying drawing, in the accompanying drawings:
Fig. 1 is the exemplary means for energy storage device is charged.According to an embodiment, it comprises the main frame of the hub module with amplification, and the hub module of this amplification has for connecting the clients to four USB port of main frame.
Fig. 2 is the block diagram for method that energy storage device is charged according to an embodiment.
Fig. 3 shows the exemplary timeline according to the electric current that can use from the host apparatus to the client terminal device of an embodiment.
Fig. 4 is the exemplary process diagram for method that energy storage device is charged according to an embodiment.
Fig. 5 is the exemplary process diagram for method that energy storage device is charged according to an embodiment.
Embodiment
Fig. 1 is the exemplary USB charging system 10 for one or more energy storage devices are charged.System 10 comprises main frame 12, such as main frame 1, and the article 14 of notebook computer form; Main frame 2, as flat board or the shown article 16 of smart phone, described system 10 is illustrated the hub module 18 of amplification, and described hub module 18 is illustrated via module 18 and USB connector 36,38,40 and 42 client 1-428,30,32 and 34 is connected to four USB port 20,22,24 and 26 of main frame 12.As should be can conjointly utilized various port and connector with the present invention by skilled person understands that.
Fig. 2 is the block diagram for method 200 that energy storage device is charged according to an embodiment.Method 200 comprises by data bus and is connected to the method for charging batteries in the power supply client of electric power host.Method 200 comprises the following steps: the state that detects 210 described electric power hosts; Determine the restriction of 220 electric currents from the main frame to the client; The part of described restriction is distributed to 230 electric currents that charge the battery; And with described battery charge, the battery of client is charged to 240, make electric current from main frame be greater than and recommend to limit and be less than or equal to determined amount.Therefore, when the conditions permit of host apparatus, client terminal device can be so that port current surpasses such as the speed of the recommendation restriction of the USB port restriction of 500mA charges safely.Advantageously, the method can contribute to accelerate the duration of charging of client battery, and no matter be connected to the number of identical host apparatus for other client of charging, thereby the stand-by period of minimum user.
In one embodiment, detecting step 210 comprises that via data bus, to the electric power host Query Information, this information comprises at least one in the following: the current capacity restriction; Model identifier; Limiting the number of the client connected; And the counting of the client connected at present.
This feature can contribute to add safely charging quickly, and no matter the fact that other client also may just be recharged.Therefore, as the result of query steps, if client terminal device determines that it is the unique client that is connected to host apparatus, it can utilize whole abilities of host power supply, thereby if is movable more promptly its battery being charged than other client.Even other client is movable, it also can utilize the amount that compares the electric current that recommended amount is large, and nearly the master capability total amount deducts the distribution to other active client.
In a use-case, determining step 220 comprises via data bus and receives information from host apparatus, and this information comprises at least one in the following: current capacity; Model identifier; Limiting the number of the client connected; And the counting of the client connected at present.Therefore, can the particular customer based on for example to be charged bring in the customization charging.
The current capacity information received from main frame via data bus can comprise for electric current being supplied to the polymerizing power of whole host ports.The limiting the number of client connected can be the total number of host port, and the counting that connects at present client can be the number of the host port that is connected at present active client.Information about the magnitude of current (being less than the amount of distribution) that just is supplied to each client can also be provided by main frame.For example, can provide the first number of the connection client of having distributed maximum, and the number distributed such as the connection client of the small amount of 500mA and 100mA can be provided.Alternatively, the number of polymerization current capacity and port can be determined from the database of the model identifier information institute index by receiving from electric power host via data bus.Client can be used about the additional information of the number of active client and client sendout and determine the current capacity in connected port.For example, suppose that client is connected to whole in port, if only the main frame model is instructed to, client can be determined the magnitude of current that can be provided from database.
When the number that connects client is less than the total number of port, if connect in addition the number of client, be instructed to, client can be determined the magnitude of current that can provide higher.
If indicated in addition one or more connection clients drawing the magnitude of current that is less than limit amount, client can be determined the magnitude of current that can provide even higher.
Alternatively, the current capacity information received from main frame via data bus can be included in the situation of the current load of considering other port and be used for electric current is supplied to the current ability of connected port.Therefore depend on that, about master capability and the data that can use via data bus that are connected client at present, even this information is not consistent between different main frame models, replacement method also is provided for the charging current improved in client terminal device.
Preferably, the step of the above's reception information comprises the response to the request for information from the main frame reception.Therefore being attached to main frame after, device can draw the current limit of nearly recommending at first, and then after the response received information inquiry, it can start to draw over recommend the first amount limited.Main frame can also send this information and send query messages without client by data bus.For example, when client terminal device is connected, it can automatically send the information such as port current restriction or model identifier.
In addition, in a preferred embodiment, the step that receives information comprises receiving to change from main frame to be notified, and described change notice comprises at least one in the following: current capacity; The number of the client connected at present; And the amount of electric current that just is being supplied to the device of current connection.Therefore main frame can spontaneously send new information, for example, when another client is attached or become activity, or when another client is removed or become inertia, or when the magnitude of current that just is supplied to another client changes.The change of the magnitude of current just be supplied especially, can be indicated by the change of power classification.The example of power classification can comprise: the device that needs maximum allocated; Need to recommend such as first of 500mA the device of restriction; And need to recommend such as second of 100mA the device of restriction.Power classification can change, for example, and when client terminal start-up or while stopping charging.Therefore after from main frame, receiving new information, device can start to draw from host apparatus the electric current of the difference amount that may be less than or greater than previous amount.Advantageously, a plurality of clients can be charged by the speed to surpass recommendation speed lasting safely, for reducing the duration of charging.
In a preferred embodiment, determining step 220 comprises at least one database lookup as the current capacity of index of usining in the following: model identifier; And the counting of the client connected at present.After receiving this information, client can be consulted database to obtain port supply restriction.For example client can be determined the polymerization main frame deliverability of main frame by usining the main frame model identifier as the database lookup capacity of power of index.Then can calculate the port current restriction according to polymerization main frame deliverability and the number that is connected client at present.
Alternatively, port current restriction can be directly determined as database lookup and the current number that is connected client of the port current ability of index from usining the main frame model identifier.Therefore, depend on that, about master capability and the data that can use via data bus that are connected client at present, even this information is inconsistent between different main frame models, replacement method also is provided for the charging current improved in client terminal device.
Should be understood, data bus can change and preferably PC and other host apparatus with and sole purpose be the usb data bus be widely adopted on the supply unit that the USB client is charged.In one embodiment, the present invention is specially adapted to use relatively with USB use-case and usb data bus, for reducing the duration of charging.
In usb data bus use-case, recommend the restriction be about 500mA or about 900mA, it complys with respectively USB2.0 and 3.0 standards usually.In a use-case, allocation step 230 comprises from Limited Current and deducts the expense electric current, and wherein, the expense electric current is the amount of the electric current that is assigned with when additional client is connected to main frame.
In the first example, usb host can offer its output port by the polymerization electric current of 1500mA, and the expense electric current is the electric current of same amount to be offered to each connect the required amount of client.Therefore the expense electric current is identical with the electric current of distributing to client terminal device.The expense electric current is deducted to determine the port current distributed from the polymerization current limit.Therefore, when a client is connected to main frame, the expense electric current be the polymerization current capacity divided by two, and more generally when n device is connected the expense electric current be that the polymerization electric current is divided by n+1.Therefore when a client is connected, the port current of its distribution is 1500mA/2 or 750mA.When two clients are connected, each can have the distribution electric current of 1500mA/3 or 500mA.
In the second example, usb host can offer its output port by the polymerization electric current of 1500mA, and the expense electric current is the recommendation restriction of 500mA.The distribution method of the second example force with latter linked client draw at least at first be no more than recommend the restriction quantitative limitation.When only having an active client, when 500mA expense electric current is deducted from the restriction of polymerization output current, obtain the distribution port current of 1000mA.When the second client is connected to main frame, it draws the recommendation restriction that is less than 500mA at first, and the polymerization electric current of port is less than the polymerization current limit of 1500mA.In subsequent step, the electric current distribution can be reduced and think that the 3rd possible client provides the expense electric current.Therefore, after the second client is connected, the distribution of the electric current of first device is reduced to 500mA.If the 3rd device is connected, it draws the recommendation restriction that is less than 500mA at first, and polymerization electric current and the output of polymerization electric current is 500mA x3, the polymerization current limit that it is 1500mA.
Advantageously, in the first and second examples, the magnitude of current that client terminal device can draw from main frame can surpass the amount of recommending restriction to depend on the total number that connects client.
And, in a use-case, allocation step 230 comprises deduct working current from Limited Current, wherein, working current is the amount of the electric current that dissipates in client terminal device.Therefore, at definite port current, divide timing, the working current that is less than distributed electric current can be assumed to be the device connected for previous, thereby make, can realize higher distribution for new connection.By this way, do not use full assigned unit, such as the device battery not charged, can be assigned with less electric current, thereby make, can realize higher distribution for other client.In a preferred embodiment, client terminal device sends to host apparatus via data bus by information, indicates its current working current.Therefore host apparatus offers other client by information, makes and can realize that higher electric current distributes.For example host apparatus can be directly to other device or indirectly by one or more other devices, indicating the distribution reduced that the distribution magnitude of current of minimizing is provided.
Fig. 3 illustrates the exemplary timeline 300 that divides the pairing time according to the example USB port electric current of an embodiment.In this example, usb host has the power supply that the restriction of the polymerization of 3000mA output current is arranged.At first, as the T=0 place at timeline indication, do not have client to connect and the polymerization electric current to distribute be zero.In time T 1 place's the first client, be connected.The electric current distribution of the first client is the expense electric current that the polymerization output current restriction of main frame deducts the 500mA that is preserved for the connection in future.Therefore at time T 1 place's electric current, distributing is that the polymerization restriction deducts recommendation restriction 3000mA – 500mA or 2500mA.In time T 2 place's the second clients, be connected and electric current is distributed between the first client and the second client and divides.Therefore at time T 2 place's electric currents, distributing is that the polymerization restriction deducts the recommendation restriction divided by 2, (3000mA – 500mA)/2 or 1250mA.At time T 3 places, the 3rd client is connected and electric current is distributed between first, second and the 3rd client and divides.Therefore at time T 3 place's electric currents, distributing is that the polymerization restriction deducts the recommendation restriction divided by 3, (3000mA – 500mA)/3 or 833.3mA.Finally at time T 4 places, the 4th client is connected and electric current is distributed between the first, second, third and the 4th client and divides.Therefore time T 4 place's electric currents distribute be the polymerization restriction deduct recommend restriction divided by 4[Y1], (3000mA-500mA)/4 or 625mA.By relatively, at existing main frame middle port electric current, be distributed in the recommendation restriction that each time point place is 500mA.Therefore in proposed method, even in the situation that four devices are attached, the existing main frame that the electric current that the electric current distributed also is enhanced and the duration of charging limits with respect to the recommendation with the 500mA be limited at each time point distributes is reduced.
Fig. 4 is the exemplary process diagram 400 illustrated according to the operation to the host query available current of an embodiment.In process flow diagram 400, when the USB device such as mobile subscriber client (MS) or any client is connected and detected by the usb host of the PC notebook such as having a plurality of USB port, flat board, smart phone etc., process from piece 405.This detection can realize via well-known method.At piece 410 places, according to the charging of USB standard, start.For example, at first MS will enumerate and from usb host 5V Vbus power request 500mA current capacity (typically, may only allow 100mA at first).
Continue process flow diagram 400, next arrives and judge rhombus 415, and inquiry is charged under constant current mode? if not, along the line 425 and arrive piece 440.Charging algorithm can fill up starting immediately under charging (top off) pattern in " CV " constant voltage, and wherein, cell voltage is monitored and charging current is more much smaller than the electric current that can use from normal USB port.In this case, process flow diagram has been branched off into the final state 440 in the CV pattern.
If it is yes answering, online 420 places, judging rhombus 415 places, and battery is the state in the needs charging probably.In this example, the CC(constant current) charge and can start.This can relate to MS and attempt drawing electric current as much as possible from usb host, much for example restrictions, such as the maximum charge rate limit (usually surpassing 1A in battery of mobile phone situation now) of the battery installed, or other restriction of being forced by the heat dissipation misgivings.Under any circumstance, the 500mA maximal value provided by usb host Vbus power supply can be provided in desired CC electric current setting.(for example, the USB wall is inserted charger 850mA can be provided).
Next, in piece 430, at definite MS, after the CC pattern, MS can inquire about main frame and study is in fact available to how many Vbus electric currents are arranged at that time.For example, in normal circumstances, usb host Vbus power supply can be designed as supports 4 USB port, each 500mA.Therefore, if MS is the unique device that is connected to USB port, usb host can provide extra current, if in theory 1700mA is offered MS(other the device finally be connected allow 100mA to other the device in each).So, in above-mentioned query block 430, it is available about what electric current that usb host can be notified MS.In piece 435, charging current can be raised to the maximal value that can use from main frame.Next, in piece 440, charging continues in the expectation mode such as according to charging algorithm, until charged.
In one embodiment, in other USB client, be connected subsequently, and each asks under the situation of electric current of 500mA, main frame can " be given back " some or all in distributing of extra current.
For example, at least there is a pair of mode that can realize this.At first, usb host can at random be fetched the electric current for MS Vbus power supply.If the MS(client) just be recharged, MS is usually just at sensing Vbus electric current and will not require that it is powered to key subsystem.That is to say, if the charging current of battery is reduced suddenly, minimum wireless kakergasia will occur or not have wireless kakergasia to occur, and it will take a long time charging simply.The second, new usb host is to the MS(client) message transmit can be utilized to allow main frame to the MS(client) announce its " additionally " electric current distribution and just subdued.It can be subdued back 500mA, preferred available amount or higher than 500mA but be less than the electric current of current distribution.From above-mentioned example, continue, if the MS(client) request and reception 1700mA, and then another USB device is connected to another USB port of sharing the identical inner Vbus power supply on PC, new device will ask the distribution of 500mA and MS to be subdued and to 1300mA(, when default, to allow two no ports to have 100mA can to use from 1700 potentially).
Now turn to Fig. 5, when client/device is attached and by Host Detection then, process flow diagram 500 is processed from piece 505.In piece 510 places charging, according to the USB standard, start, common about 500mA maximum current can be used.Continue process flow diagram 500, next runs into and judge rhombus 515, and is inquiry in constant current mode? if not, along the line 525 and row to piece 555, to continue charging until stop.
If so, online 520 places, piece 530 is inquired about the host computer type information to the user, or MS about computer model to host query.In piece 530, computer model can be determined.This can inquire about via the user (for example, popup menu) or via allowing MS carry out to the USB message of host query computer brand and model (Make and Model).Know computer brand/model, thus MS then the inquiry of performing database the available USB electric current of maximum of given brand/model is shown.Alternatively, can provide " user generates " database, wherein, user or third party have described the feature from the maximum available current of various PC in advance, and numeral is loaded in database.This " cooperation " data base method is helpful, because PC supplier is by any USB Vbus electric current outside impossible proposed specifications.
In one embodiment, database can be the remote data base of storing in the server based on Web or enterprise servers, but it can also be to be stored in originally local copy with it of MS.Continue, next arrive and judge rhombus 540.Problem is that host computer is in database.If so, line 545, PC brand/model that MS is connected to is in database.Next, if applicable, charging current is raised to the maximal value of stipulating in database in piece 550.For example, MS in piece 550, can from database, read can with maximum current and with it, in the mode that continues charging, battery is charged until stop piece 555, it is limited by other maximum current limit detailed in this article.Then charging algorithm continues until the charging termination in piece 555 is implemented as normal.
Back with reference to judging rhombus 540, if whether host computer, not in database, or answers, line 560, run into piece 565, and wherein, charging current is enhanced, for example, until the VBUS voltage dip.
In this path, continue downwards, run into and judge rhombus 570, and problem to be to have VBUS? if so, line 575, in piece 580, charging current can be lowered until the no longer rapid drawdown of VBUS voltage.Charging current can be recorded and upload in database.For example, then MS tests the Vbus power supply by the increase of the charging current that slows down, until Vbus is plummeted to the particular preset threshold value.Once this current threshold is found, charging current is slightly reduced to provide some Vbus surpluses and is allowed the statistics variations of the different V-I load curves of host power supply for identical PC brand/model.This last " retreating " charging current is written to the charging current database for this PC brand/model in piece 580.
Back, with reference to judging rhombus 570, whether if answer, online 585 places, arrive piece 590, and need to carry out re-enumeration with main frame.For example, if too many electric current has been drawn, some PC can suddenly disconnect Vbus, and MS must restart and wait for that Vbus is applied again, and re-enumeration then, as shown in piece 590.For fear of this, charging current can carefully be monitored with little increment increase and Vbus voltage.If PC does not disconnect Vbus, this can also be uploaded in database together with the electric current that disconnects nidus.
An importance shown in Fig. 5 be can by user or third party create and the PC of " cooperation " upgraded to the charging current database.In one embodiment, even PC brand/model is in database, the method also can comprise and remeasures available current and upload to database as another point to be averaged.
In one embodiment, the method can be included in the situation that deviation (discrepancy) is observed " error flag " uploaded to database, for example, the database electric current of reading for PC brand/model is when causing excessive Vbus rapid drawdown when charging.
Apparatus and method are preferably realized on programmed processor in this article.Yet controller, process flow diagram and module can also be implemented in universal or special computing machine, programming microprocessor or microcontroller and peripheral integrated circuit component, integrated circuit, such as on the hardware electronic of discrete component circuit or logical circuit, programmable logic device (PLD) etc.Generally speaking, on it, the resident any device that can realize the finite state machine of the process flow diagram shown in figure can be used to realize the functional processor of present disclosure.
Although present disclosure is described with its specific embodiment, is apparent that, many replacement schemes, modification and variation will be apparent for a person skilled in the art.For example, can exchange in other embodiments, add or replace the various assemblies of embodiment.And the whole operations for the disclosed embodiments in the key element of each figure are not necessary.For example, those of ordinary skill in the art of the disclosed embodiments can be by adopting the instruction that will usually make and use present disclosure of independent claims simply.Therefore, as the preferred embodiment of the present disclosure of being set forth in this article be intended to for illustrative, be not restrictive.Can carry out various changes in the situation that do not deviate from the spirit and scope of present disclosure.
In this document, relational terms such as " first ", " second " etc. can only be used for distinguishing an entity or action and another entity or action, and needn't require or imply this relation or the order of any reality between such entity or action.Term " contains ", " containing " or its any variation are intended to contain comprising of nonexcludability, thereby makes the process, method, article or the equipment that comprise the key element list not only comprise those key elements but also comprise other key element of clearly not enumerating or these processes, method, article or equipment are intrinsic.Succeeded by " one ", " one 's " etc. key element in the situation that not more constraint be not precluded within process, method, article or the equipment that comprises this key element in extra identical key element.And term " another " is defined as at least the second or more.Term " includes " as used herein, " having " etc. be defined as " comprising ".
Claims (12)
1. the method for charging batteries in a power supply client that is connected to electric power host by data bus comprises the following steps:
Detect the state of described electric power host;
Determine the restriction of the electric current from described main frame to described client;
The part of described restriction is distributed to battery charge; And
Battery with described battery charge to described client is charged, and makes the electric current from described main frame be greater than the recommendation restriction and be less than or equal to determined amount.
2. method according to claim 1, wherein, described detecting step comprises via described data bus coming to described electric power host Query Information, and described information comprises at least one in the following:
The current capacity restriction;
Model identifier;
Limiting the number of the client connected; And
The counting of the client connected at present.
3. method according to claim 1, wherein, described determining step comprises via described data bus and receives information from host apparatus, described information comprises at least one in the following:
Current capacity;
Model identifier;
Limiting the number of the client connected; And
The counting of the client connected at present.
4. method according to claim 3, wherein, receiving step comprises from described main frame and receives the response to the request for information.
5. method according to claim 3, wherein, receiving step comprises from described main frame and receives and change notice, described change notice comprises at least one in the following:
Current capacity; And
The number of the client connected at present.
6. method according to claim 3, wherein, described determining step comprises at least one database lookup as the current capacity of index utilized in the following:
Described model identifier; And
The counting of the client connected at present.
7. method according to claim 1, wherein, described data bus is the usb data bus.
8. method according to claim 1, wherein, described recommendation restriction is about 500mA or 900mA.
9. method according to claim 1, wherein, described allocation step comprises from described Limited Current and deducts the expense electric current, wherein, described expense electric current is the amount of the electric current that is assigned with when additional client is connected to described main frame.
10. method according to claim 1, wherein, described allocation step comprises from described Limited Current and deducts working current, wherein, described working current is the amount of the electric current that dissipates in described client terminal device.
11. method according to claim 1, wherein, even PC brand or model in described database, still remeasure described available current and upload to described database as another point to be averaged.
12. method according to claim 1, also be included in the situation when deviation is observed " error flag " uploaded to database.
Applications Claiming Priority (5)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US201061428241P | 2010-12-30 | 2010-12-30 | |
US61/428,241 | 2010-12-30 | ||
US13/160,662 US8671291B2 (en) | 2010-12-30 | 2011-06-15 | Method and device for charging energy storage devices |
US13/160,662 | 2011-06-15 | ||
PCT/US2011/066578 WO2012092079A1 (en) | 2010-12-30 | 2011-12-21 | Method and device for charging energy storage devices |
Publications (2)
Publication Number | Publication Date |
---|---|
CN103477301A true CN103477301A (en) | 2013-12-25 |
CN103477301B CN103477301B (en) | 2018-07-13 |
Family
ID=46381881
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN201180063820.XA Active CN103477301B (en) | 2010-12-30 | 2011-12-21 | Method and apparatus for charging to energy storage device |
Country Status (4)
Country | Link |
---|---|
US (1) | US8671291B2 (en) |
KR (1) | KR101511886B1 (en) |
CN (1) | CN103477301B (en) |
WO (1) | WO2012092079A1 (en) |
Families Citing this family (9)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US9120132B2 (en) * | 2011-11-09 | 2015-09-01 | ZZ Ventures, LLC | Pallet washing apparatus |
US8904217B2 (en) * | 2012-03-09 | 2014-12-02 | Google Inc. | System and method for managing power consumption in a computer device |
EP2728439A1 (en) * | 2012-10-31 | 2014-05-07 | Thomson Licensing | Device and method for electric power management of a plurality of peripheral interfaces |
US20150160674A1 (en) * | 2013-12-11 | 2015-06-11 | Microchip Technology Incorporated | Automatic Load Share Architecture For Usb Port Power |
CA2851983C (en) * | 2014-05-21 | 2016-08-16 | Blackberry Limited | Management of power delivered over a port |
US9766674B2 (en) * | 2014-06-27 | 2017-09-19 | Intel Corporation | USB power delivery controller sharing |
US10199848B2 (en) | 2014-07-28 | 2019-02-05 | Qualcomm Incorporated | Apparatuses, methods, and systems for enabling higher current charging of Universal Serial Bus (USB) specification revision 2.0 (USB 2.0) portable electronic devices from USB 3.X hosts |
US10976798B2 (en) * | 2016-11-30 | 2021-04-13 | Trane International Inc. | Automated peripheral power management |
EP3922553B1 (en) * | 2020-06-09 | 2022-12-14 | TQ-Systems GmbH | Power management and distribution device |
Citations (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN1823319A (en) * | 2003-08-28 | 2006-08-23 | 富士通株式会社 | Host apparatus, device, and communication system control method |
US20090100275A1 (en) * | 2007-10-15 | 2009-04-16 | Ray Chang | Dynamic port power allocation apparatus and methods |
WO2010067400A1 (en) * | 2008-12-11 | 2010-06-17 | 富士通株式会社 | Power use method, slave device, and computer program |
US20100205463A1 (en) * | 2009-02-06 | 2010-08-12 | Magnusson Hans L | Bistone port power controller for usb hubs with legacy battery charge support |
US20100280676A1 (en) * | 2009-04-30 | 2010-11-04 | Pabon Gus Charles | Multi-functional Bi-directional Communication and Bias Power Architecture for Power Supply Control |
Family Cites Families (7)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6300744B1 (en) | 2000-02-10 | 2001-10-09 | Siliconix Incorporated | High-efficiency battery charger |
CA2374342C (en) | 2001-03-01 | 2005-12-20 | Research In Motion Limited | System and method for powering and charging a mobile communication device |
US6507172B2 (en) | 2001-03-19 | 2003-01-14 | Maxim Integrated Products, Inc. | Universal serial bus powered battery charger |
TW564349B (en) * | 2002-02-27 | 2003-12-01 | Acer Labs Inc | Method and related apparatus for controlling transmission interface of external device of computer system |
US20060119320A1 (en) | 2004-12-03 | 2006-06-08 | Linear Technology Corporation | Current control circuitry and methodology for controlling current from current source |
US7698490B2 (en) | 2005-12-21 | 2010-04-13 | Nvidia Corporation | Passive USB power configuration switching |
US7631111B2 (en) | 2006-08-17 | 2009-12-08 | Standard Microsystems Corporation | System method for rapidly charging USB device's battery wherein USB device requests charging the battery at a higher power level |
-
2011
- 2011-06-15 US US13/160,662 patent/US8671291B2/en not_active Expired - Fee Related
- 2011-12-21 WO PCT/US2011/066578 patent/WO2012092079A1/en active Application Filing
- 2011-12-21 KR KR1020137020089A patent/KR101511886B1/en active IP Right Grant
- 2011-12-21 CN CN201180063820.XA patent/CN103477301B/en active Active
Patent Citations (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN1823319A (en) * | 2003-08-28 | 2006-08-23 | 富士通株式会社 | Host apparatus, device, and communication system control method |
US20090100275A1 (en) * | 2007-10-15 | 2009-04-16 | Ray Chang | Dynamic port power allocation apparatus and methods |
WO2010067400A1 (en) * | 2008-12-11 | 2010-06-17 | 富士通株式会社 | Power use method, slave device, and computer program |
US20100205463A1 (en) * | 2009-02-06 | 2010-08-12 | Magnusson Hans L | Bistone port power controller for usb hubs with legacy battery charge support |
US20100280676A1 (en) * | 2009-04-30 | 2010-11-04 | Pabon Gus Charles | Multi-functional Bi-directional Communication and Bias Power Architecture for Power Supply Control |
Also Published As
Publication number | Publication date |
---|---|
KR20130114698A (en) | 2013-10-17 |
CN103477301B (en) | 2018-07-13 |
US8671291B2 (en) | 2014-03-11 |
KR101511886B1 (en) | 2015-04-13 |
US20120173910A1 (en) | 2012-07-05 |
WO2012092079A1 (en) | 2012-07-05 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
CN103477301A (en) | Method and device for charging energy storage devices | |
CN103078393B (en) | USB hub and electric power supply method for the same | |
CN111463842B (en) | Electronic equipment and communication method thereof | |
US9853449B2 (en) | Smart transformer | |
US9399403B2 (en) | Mobile terminal, systems and methods for controlling charging and discharging battery | |
CN112449694B (en) | Load balancing in multiport power transfer applications | |
EP3136531B1 (en) | Method and apparatus for electric energy dispatch, and, method and apparatus for power management | |
US9748787B2 (en) | Information handling system battery charge management to support variable increased current use functions | |
US20170358931A1 (en) | Charging method and electronic device | |
EP3016237A1 (en) | Method for controlling charging power, system for controlling charging power, and program | |
US9664745B1 (en) | Computer implemented system and method and computer program product for using battery information to automatically charge a battery | |
US10928880B2 (en) | Power storage adapter for communicating battery data with a portable information handling system | |
EP3024115A1 (en) | Rapid charging method for storage cell, rapid charging system, and program | |
CN108899965B (en) | Charging pile power supply control method, storage medium, control device and charging pile | |
CN109856984B (en) | Power utilization management method and device, computer equipment and storage medium | |
CN115800505A (en) | Charging scheduling method and device | |
CN113872303A (en) | Charging control method and device, electronic equipment and storage medium | |
US9507400B2 (en) | Information handling system battery charge management to support quick start | |
CN109768594B (en) | Charging method, terminal and charging assembly | |
CN114498707B (en) | Intelligent peak shifting and valley filling superposed photovoltaic power generation power supply operation system and method | |
CN107566630A (en) | Data communications method, USB main equipment and storage medium under charged state | |
CN106874808B (en) | Method for activating IC card and IC card | |
CN115534749A (en) | Charging and discharging control method and device for electric automobile | |
WO2022173428A1 (en) | Peripheral device power | |
CN111478447A (en) | Concentrator and power supply method |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
C06 | Publication | ||
PB01 | Publication | ||
C10 | Entry into substantive examination | ||
SE01 | Entry into force of request for substantive examination | ||
TA01 | Transfer of patent application right | ||
TA01 | Transfer of patent application right |
Effective date of registration: 20170413Address after: American CaliforniaApplicant after: Technology Holdings Co., Ltd of GoogleAddress before: Illinois StateApplicant before: Motorola Mobility, Inc. |
|
GR01 | Patent grant | ||
GR01 | Patent grant |