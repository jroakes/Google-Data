Background technology
In fact, the contention of the necessary deal with data business of any network communicating system or possible crowding.For example, use the Local Area Network of point-of-traffic concentration, when attempting all may run into contention and crowded by single-port or when the information source (being ingress source) of uniline transmission (i.e. outlet) data receives data from a plurality of.Each circuit is subjected to the bandwidth constraints of its treatable throughput.Many data are responsive to the time, make these data have hard real-time or have near the real-time time limit.In other words, in about 10 to 1000 microseconds, these data can stales and valueless.In addition, the network of any support connectionless information route must consider that deletion does not independently have the error message (message that for example, unrestrictedly circulates) of destination in network.
As another example, some cellular systems utilize common base transceiver station platform (CBTSP), by the transmission of backhaul interface, the process user plane traffic (transmit as speech transmissions, video transmission, near real-time data transmission, non-real-time data, or the like).These CBTSP are closed LAN normally.Because many user-plane traffics are real time datas, if these data are not only to send in the approximate number microsecond, it will become and not be worth.Therefore, if user-plane traffic runs into crowded or contention, it may become unworthy.
User-plane traffic can be from a plurality of information sources, and for example travelling carriage receives simultaneously.IP (IP) datagram is used in and transmits user-plane traffic among the CBTSP.General IP edition 4 (IPv4) datagram of using.This agreement is used for datagram route, maximum transfer unit (MTU) segmentation support and datagram aging between net.In brief, the IPv4 datagram is used to indicate destination node and the carrying data from the information source to the destination.Though IPv4 because the restriction of addressing is superseded by Internet communication, changes and adopts IPv6, it is still enough to the addressing of closed LAN interior nodes.
CBTSP also utilizes concentrator hub (being switch), receives user-plane traffic from a plurality of entrances, again user-plane traffic is merged on a single point of LAN, so that conversion and transmission on backhaul interface.Connection in internal lan can be the magnitude of per second 100 megabits (Mbps), and the magnitude that is connected with backhaul has only 1 -2Mbps.Therefore, data are not only transmitted by the exit point of quantity than entrance much less, and also increase the restriction of bandwidth on exit point.
Though common BTS platform is also carried out data compression technique for adapting to backhaul interface and bandwidth constraints, crowded and contention still appears on the exit point, thereby becomes point-of-traffic concentration.In addition, because this system is used to transmit in real time or nearly real-time user-plane traffic, network is very responsive to transmission delay.In fact, than time (as 10 milliseconds) the more outmoded datagram of a frame air-frame, be not worth usually.Therefore, the Managed Solution that crowds must be by resolution the wearing out at datagram of inferior millisecond.
Solve the conventional method of congestion management and problem of aging, comprise: 1) by data queue on the point-of-traffic concentration being overflowed and discarding datagram, crowded and the contention of management reactively, 2) by using 8 intrinsic bit Time-To-Live (TTL of IP datagram title, useful life) aging algorithm of field, deleted data newspaper and 3 independently) increases the buffer memory on the point-of-traffic concentration and/or the linking number of increase and backhaul.First method is owing to the reactivity processing of discarding datagram is overflowed in formation.For avoiding crowded, utilize RSVP, as RSVP, keep a certain amount of resource.Can guarantee to avoid crowded with the demand of these agreement reserve storage/buffers.But, like this increase is used for the complexity of the agreement of carrying high volume user-plane traffic.In addition, pay no attention to datagram validity and discarded they, so some still valuable datagram has gone out of use, other unworthy datagrams may be left in the formation simultaneously.
Use second method, ttl field is stipulated the time limit that this datagram can be used with the integer of second in network.Be difficult to measure because enter the time of distributed network with respect to datagram, so the explanation of this TTL is usually simply turned to hop-count, per two internodal hop supposition were got one second.Algorithm is read ttl field, and how long the specified data newspaper has had in network.Ttl field kept maximum 255 seconds or 255 hop-counts datagram by the acquiescence mode in network.Use the shortcoming of ttl field to be: 1) resolution can only be second, because the IPv4 standard does not also begin to be used for transmitting real time data, 2) precision only is accurate to the delay of handling each hop, with 3) whole network also do not reach synchronization to the entry time of datagram, and this is normally essential to the age of monitor data newspaper in LAN.Point out that user-plane traffic comprises in real time or near real-time data that these data only in the number microsecond, just can become valueless.Therefore, typical ttl field, even be not accurate to 1 second, be out of use.
The third method provides the easiest work-around solution, and it is by increasing the linking number of memory and/or increase and backhaul, so that increase bandwidth, the problem of crowding is avoided in solution.But, realize that the cost height of this scheme, the temporal resolution of not taking into account microsecond and ttl field still are used as aging mechanism.This scheme is not also at the time synchronization problem between distribution node.Moreover many systems will assume charge to being connected with each of backhaul linking number.
Therefore, be necessary to provide a kind of method and apparatus, can have in the time-sensitive data network of microsecond resolution, effectively crowded the and contention of management in carrying.Also be necessary to provide a kind of method and apparatus, can discard out-of-date data intelligently, simultaneously the size of buffer and backhaul linking number are minimized, so that make the cost minimum.
Embodiment
According to communication system of the present invention, will be by several preferred embodiment explanations, specifically, be that the wireless communication system according at least one standard operation in several standards illustrates.These standards comprise: simulation, numeral, or dual-mode communication systems agreement, for example, but be not limited to, Advanced Mobile Phone System (AMPS, Advanced Mobile Phone System), Narrowband Advanced Mobile Phone System (NAMPS, the arrowband Advanced Mobile Phone System), Global System for Mobile Communications (GSM, global system for mobile communications), Enhanced Data-rate for GMS Evolution (EDGE, enhanced data-rate for GSM evolution), Frequency Division Multiple Access (FDMA, frequency division multiple access), IS-55 Time Division Multiple Access (TDMA, the IS-55 time division multiple access) digital cellular, IS-95 Code Division Multiple Access (TDMA, the IS-95 code division multiple access) digital cellular, require (the DA/TDMA of allocative decision, DA/CDMA, DA/FDMA), Wideband Code Division Multiple Access (WCDMA, Wideband Code Division Multiple Access (WCDMA)), CDMA 2000, Personal Communication System (PCS, PCS Personal Communications System), 3G, 3GPP, Universal Mobile TelecommunicationsSystem (UMTS, universal mobile telecommunications system), and the change and progress of these agreements.Communication system of the present invention is also at any high power capacity, high-bandwidth communication network, or any carrying hard, unworthy IP network will become for time-sensitive data and the data that wherein postpone (promptly lose hard, the various data in time limit) in real time.
With reference now to Fig. 1,, wireless communication system 100 comprises: communication network 110, a plurality of base station controller (BSC), remember generally that with 120 and 122 these controllers are whole service area 130 services.The general processing signals compression of BSC (decompress(ion)), handoff determination and signal access determination.Each BSC also can be used as switch and network interface (being backhaul interface).Wireless communication system 100 can be, but is not limited to, based on the communication system of frequency division multiple access (FDMA), based on the communication system of time division multiple access (TDMA) or based on the communication system of code division multiple access (CDMA).As everyone knows, to these systems, each BSC 120 and 122 combines with one or more base transceiver stations (BTS), and these base transceiver stations are generally remembered with 140,142,144 and 146, are the general communication cell service of remembering with 150,152,154 and 156 in the whole service area 130.BSC 120 and 122, and base transceiver station 140,142,144 and 146, all by available standard, or by standard code that radio communication service is provided to travelling carriage (MS) and operation, these travelling carriages (MS) are generally remembered with 160,162,164,166 and 168, are operated in communication cell 150,152,154 and 156, each of said units, all can be from the Motorola of Illinos state Schaumberg, Inc. buys.
As seen from Figure 1, single BTS 142 can be a plurality of travelling carriages 162,164,166 services in its sub-district 152.BTS 142 keeps and being connected of BSC 120, and when the latter be a plurality of base transceiver stations 140 and 142 services again, the backhaul (not shown) maintenance interior with residing in communication network 110 was connected.In addition, BSC 120 can be positioned at place, BTS 142 place.Backhaul can comprise mobile switching centre (MSC) and central office.In addition, from the viewpoint of BTS 142, backhaul can comprise BSC 120.From Fig. 1 as seen, in communication system 100, several point-of-traffic concentrations can be arranged.For example, on BSC 120,, can on uniline, communicate by letter with communication network 110 from the data of base transceiver station 140,142.
In addition, these point-of-traffic concentrations had both appeared at the upstream, also appeared at the downstream, thereby set up several point-of-traffic concentrations in whole communication system 100, comprised various levels of and on the user-plane traffic both direction.For example, the central office can receive the outlet that a plurality of BSC 120,122 prepare by single-port, to the data of another BSC transmission.In yet another embodiment, single BSC 120 can receive a plurality of base transceiver stations 140,142 and prepare by the data of backhaul to the central office transmission.Though the present invention can be applied to any point-of-traffic concentration, but for the purpose of explaining, in explanation of the present invention, only with reference to the single BTS 142 that is connected to BSC 120 with backhaul for a plurality of travelling carriage 162,164,166 services, yet, the one skilled in the art should understand, and the present invention can be applied to any point in the network.
Fig. 2 represents network 200, and it can be that any kind of has front end node 210,212,214 to transmit data on closed LAN 220, and arrives the network of backend nodes 224 by switch 222.With reference now to Fig. 2,, BTS 142 can comprise a plurality of transmission/receiving nodes 210,212,214.Each of node 210,212,214 can keep being connected with the travelling carriage 162,164,166 in the sub-district 152.Node 210,212,214 is also as carrying out analog-to-digital radio set.From travelling carriage 162,164,166 received RF (RF) signals, and, be converted to digital signal, on closed LAN 220, using with the form of one or more IPv4 datagrams.The RF signal comprises the user-plane traffic of any kind of, comprising: 1) speech transmissions, 2) video transmission, 3) nearly real-time files transmission and 4) transmission of non real-time file.The order of above-mentioned data class is pointed out their time sensitivity.In other words, voice data is more more responsive to the time than video data, and near real-time data is more insensitive to postponing than voice data and video data, and can think that the transmission of non real-time file is more insensitive to transmission delay.
BSC 120 is in backhaul, and communicates by letter with BTS 142 by backhaul interface.BTS 142 comprises the Ethernet switch 222 of standard, and this Ethernet switch 222 receives and send data by LAN 220 to node 210,212,214.The connection of LAN can be in the magnitude of per second 100 megabits (Mbps).Ethernet switch 222 also is coupled with the backend nodes 224 that is used as backhaul interface.BTS 142 have only usually one or on a small quantity with being connected of backhaul, these connections are generally lacked than the front end number of connection with travelling carriage 162,164,166.With being connected of backhaul can be by the connection of land line or wireless connection.Transmission rate is in the magnitude of 1 -2Mbps.Backend nodes 224 keeps a team or many groups of Priority Queues, and all waits that enter of these Priority Queues buffer memorys transfer to the datagram of backhaul.
Base (time-base) compartment system 226 is communicated by letter when all nodes in the network 200 and a clock or other.Time-base distribution system 226 has the resolution of microsecond and out-of-band time reference (time-reference) is distributed to network 200 interior having a few.Time base distributes and can be used as simple commutator pulse and implement, and the clock that this commutator pulse is generally used in the digital system distributes.In cellular communication system, this clock usually exists, because other aspects of communication system 100 all depend on the clock of microsecond resolution.The use of base when the present invention promotes this makes it in datagram header datagram to be added time mark.Though the preferred embodiments of the present invention will be by there being the explanation of microsecond resolution, other resolution can be used equally, and relevant with the time sensitivity of datagram.For example, the datagram of some type can be remained valid in 100 microseconds, so, can require to have only time base or the clock of 100 microsecond resolution.Other datagram may only be remained valid in submicrosecond, and this time reference can have the resolution of submicrosecond so.Therefore, the resolution of time reference is not limited to microsecond, and the present invention can use other resolution.
The criteria field that Fig. 3 draws IPv4 datagram header 300.Though the present invention can use variety of protocol, that be used in the current cellular communications networks to transmit data is IPv4, and estimates that IPv4 will be suitable to most of closed networks.Therefore, will the present invention be described, but should not think that this is other versions that limit the invention to IPv4 or IP agreement with IPv4.
Each IPv4 datagram header 300, the field that generally comprises has: the Version310 of 4 bits, the Header Length 312 of 4 bits, the Type of Service field 314 of 8 bits, the Datagram Length 316 of 16 bits, the Datagram Identification (ID) 318 of 16 bits, the Flag 320 of 3 bits, the Fragment Offset 322 of 13 bits, the Time-to-Live of 8 bits (TTL) designator 324, the Protocol 326 of 8 bits, the Header Checksum 328 of 16 bits, the Source IP Address 330 of 32 bits, the Destination IP Address 332 of 32 bits, with IP Options 334.
To describe Datagram Identification 318 again in detail below.All the other field brief descriptions are as follows.Version field 310 is followed the tracks of this datagram and is belonged to any protocol version.The length of HeaderLength 312 regulation IP titles is because the length of title is always inconstant.The service type parameters that Typeof Service fields specify requires (as: priority, minimum delay, maximum throughput, or the like).Datagram Length 316 comprises the total length of datagram, comprising title and data.Flag 320 is used for the control and the management of segment processing.Time-to-Live (TTL) field 324 as mentioned above, is used as the counter incrementing of pressing second or pressing hop-count.The next tunneling of Protocol 326 regulations (as: IPv6 Hop-by-Hop Option (by the option of hop), Internet Control Message Protocol (Internet control messages agreement), Internet Group Multicast Protocol (internet group multicast protocol), RSVP reservation agreement, or the like).1 complement and IP option of Checksum 328 usefulness IP titles are verified title by detecting mistake.Source IP Address 330 is addresses of transmit leg.Destination IP Address 332 is recipient addresses of appointment.IP Options 334 relates to fail safe, strict or lax information source route, record route, reaches the time mark.
The time mark of IP Options 334 is right-justified 32 bit time marks, by millisecond since midnight UT measure.If can not use UT at midnight, or the time can not be by millisecond, can insert so any time as time mark.Time mark makes each router enclose the address and the time mark of this router in IP Options field 334.(seeing Internet Protocol RFC791, in September, 1981, pp.22～23).But IP Options 334 seldom is used or is supported in existing software stack, because in fact, still is not used in the application of time mark in IP Options 334.Therefore, from fact, the time mark of IP Options 334 can not be used for existing network, and the time mark of IP Options 334 crowded and contention does not have help yet to management data.In addition, when the segmentation of datagram experience, the time mark option can not be replicated in each segmentation.Time mark is only carried in first segmentation, and does not carry in the follow-up segmentation of datagram.Therefore, the time mark of IP Options 334 cannot stand segment processing and remains fully.
Datagram Identification (ID) 318 in the IPv4 title generally is random and unique value, the random value that seemingly is assigned with.Datagram fragmentation usually is necessary, because be not the datagram that all parts of network or system can both be handled identical size.Therefore, some datagram may be too big concerning the processing of this network, is necessary datagram fragmentation is sent, and collects again in the destination then.Id field 318 is used for destination host, and is related with which datagram to determine the segmentation that receives.Usually, this is a monotonically increasing sequence number, is inserted by the datagram transmitter.There is not ID 318, the destination host whole datagram that can't collect again.
If all segmentations of datagram do not arrive the destination node, the destination node will be attempted the datagram that collects as much as possible, and will wait for arrival a period of time of delayed fragment, to finish compilation.If the segmentation that is delayed can not at the appointed time interiorly arrive, datagram is not because all segmentations are and valueless, and the destination node will be discarded other segmentation.In addition, as mentioned above,, may be unworthy at the destination node than the more outmoded datagram of big approximate number microsecond.
In a preferred embodiment of the invention, not that each datagram is increased id field or monotonously to datagram assignment one random value, but to id field 318 assignments one time mark value.This time stamp value there is no need certain for the actual moment on date, but should be the time reference with respect to time-base distribution system 226.Time mark of the present invention can be the real time of reading from time-base distribution system 226, and perhaps this time mark can be the permission life-span (T+T that this time reference adds a datagram
MAX), so receiving node only needs DatagramIdentification value and current time are compared, and determines whether this datagram is effective.Then, datagram fragmentation and transmission.Main frame in the destination, the effect of time mark is from collect the again sign of datagram of segmentation.It is in full accord that this scheme and IP specification keep.318 pairs of datagram fragmentations of DatagramIdentification and the traditional usage that collects again remain valid.Though have more than a datagram identical time mark is arranged, other aspects of datagram header 300 can be distinguished two or more segmentations that identical time mark is arranged mutually.For example, when datagram collected again, this sign was general only just meaningful at the main frame of destination.Therefore, the segmentation of different Destination IP Address 332 is arranged, can distinguish datagram.Even two datagrams are pointed to identical destination host, but they are from different information sources, thereby different SourceIP Address is arranged.As well known, also have other differentiating method to use.
Fig. 4 draws and adds a kind of simple time mark algorithm 400 of time mark.This algorithm 400 is preferably on any point that enters network and implements.In this example, the enforcement of this algorithm appears at front end node 210,212,214.At square frame 402, node is ready for sending a datagram.At square frame 404, this node is from time-base distribution system benchmark 226 readout time, and to the IP of IP title 300 field 318 assignments one time mark.This time mark will be used for segmentation as the sign of this datagram.This time mark is indicated this datagram and when is sent to network, thereby datagram is combined with entry time, and this entry time has the resolution of microsecond, or has any other suitable specified data to report effective resolution.At square frame 406, as known in the art, datagram is submitted to the IP segmented program of standard then.
Fig. 5 and 6 draws and receives and analyze intelligently the process of each datagram, is used for determining whether this datagram has become valueless and can discard.This step is preferably in backend nodes 224 and is determined by the formation of analyzing data.Draw plurality of data newspaper of Fig. 5.Each datagram is ' A ', ' B ', ' C ' and ' D ' by sort merge, and wherein each classification can be represented different data types.For example, voice data can send in ' A ' datagram, and video data can be ' B ' datagram, and near real-time data can be that ' C ' datagram and non-real-time data can be ' D ' datagrams.As mentioned above, the value of the datagram at known its age, relevant with the data type that datagram is carried.Therefore, can give ' A ' datagram,, then give the longest possible life-span as for ' D ' datagram with the shortest life-span.In addition, each classification can respectively be represented the data flow of separating from each node 210,212,214.
In the network 200, even each node in the whole communication system 100, from the time-base distribution system knowledge of 226 acquisition current time, there is knowledge how long in the permission life-span that also obtains the specific type of data newspaper.For example, all voice data newspapers can give the only life-span (T of 10 microseconds
MAX=10), because after 10 microseconds, this datagram is die on.The video data newspaper can have the life-span (T of 15 long a little microseconds
MAX=15), and near real-time data newspaper can have the life-span (T of 20 microseconds
MAX=20).The non-real-time data newspaper can give 100 microseconds or longer life-span (T
MAX=100), because this datagram is effective in the longer time cycle.Actual threshold value can according to think must or needs how long change or stipulate.For example, for making system simplification, each datagram can be paid no attention to type, gives T without exception
MAX=10 life-span.In addition, life-span can be used as the function of traffic carrying capacity and changes, so that guarantee the heavier ratio service set of service set lighter the shorter life-span arranged, this traffic carrying capacity is a particular service area 130, specific cell 150,152,154,156, particular B TS 140,142,144,146 or BSC 120,122 are handling.
Each datagram is gone up at (enqueue) point of joining the team (i.e. inlet) of new datagrams by node 224 and receives.Node 224 can have many groups of Priority Queues 410,412,414, and interim each datagram of storage in these formations is until can be datagram till backhaul sends.The formation that concrete datagram is assigned, relevant with the priority of this datagram.For example, speech and video data newspaper can have higher priority than nearly real-time or non real-time datagram.Formation 410 can be used as the formation of priority ' A/B ', preserves speech and video data newspaper, makes system at first search the datagram of ' A/B ' formation, rather than has the formation 414 of priority ' C ', the latter to preserve the near real-time data newspaper.The non-real-time data newspaper of lowest priority is preserved in priority ' D ' formation 416.Perhaps, also can keep individual queue 410,412,414 to each node 210,212,214.
From Fig. 5 and 6 as seen, each datagram is with the coding of the time mark in the id field 318.At Fig. 5, the current time is T=129, and at this time point, the datagram of all receptions is joined the team in three formations 410,412,414.' A/B ' is full with ' C ' formation, shows and crowds to arrive.The datagram ' A5 ' that enters of reply and the contention between the datagram in formation 410 are also prepared in ' A/B ' formation 410.The life-span that ' A ' datagram is distributed is T=10, so at T=130, any free Tag ID=120 or ' A ' datagram more early all are considered to valueless and go out of use.ID=115 or littler ' B ' datagram, time mark ID=110 or littler ' C ' datagram and ID=30 or littler ' D ' datagram will be all discarded when T=130.At T=129, all datagrams among Fig. 5 are still effective.Send by interface with backhaul at the datagram of leaving one's post recently ' A1 ', ' A2 ' and ' B1 '.
When each a certain datagram was prepared to join the team, if this datagram is any interpolation, then this program was investigated all datagrams in the formation 410,412,414, otherwise, only investigate the formation that this datagram will be joined the team.Id field by each datagram of scanning, known the current time and known allowed life-span of datagram, a node is before attempting to allow this new datagrams join the team, just can be according to their value (promptly according to their age), discarded intelligently datagram.
In Fig. 6, the current time is t=130, and datagram ' A5 ' is prepared to join the team.Node 224 is investigated all datagrams in ' A/B ' formation 410, and the time mark of specified data newspaper ' A3 ' is 120.Receive the result of datagram ' A5 ' when crowding as ' A/B ' formation is just approaching, datagram ' A3 ' is out-of-date.Therefore, datagram ' A3 ' goes out of use, because its aging 10 microseconds that surpassed, even it is sent, it also no longer includes value.Then, datagram ' A5 ' is received, and enters ' A/B ' formation 410.So manage the contention in ' A/B ' formation 410, and prevent crowded in advance.Though the datagram of should be pointed out that ' B1 ' also has the time mark of ID=120, datagram ' B1 ' is the video data newspaper, allows the long life-span.According to the present invention, be T=135 and datagram ' B1 ' when still staying in ' A/B ' formation 410 when the time, it also will go out of use.
Because carry out the node 210,212,214 of time mark and the node 224 that receives, all synchronous with same time-base distribution system 226, so network 200 can be intelligently and accurately discarded invalid datagram, as its part, so that the data of other times sensitivity are still effective to the whole management of crowded and contention.This is handled also by accurately, and the time basic benchmark of the microsecond resolution that is distributed in whole LAN is arranged, so be to handle opposite perspective (proactive) with reactive (reactive) to handle.Because Datagram Identification 318 still can use as usual, so datagram still can experience successful segmentation and collect again.The expanded sense of Datagram Identification 318 also means and only requires minimum additional treatments, because do not need further protocol layer, does not also need protocol layer is done further to revise.The result is, in the middle of all with other the network equipment, can operate pellucidly the present invention, and communication system 100 can not slow down or even interrupt.In addition, existing hardware still can use, and need not to increase extra and circuit backhaul communication, increases buffer memory, or revise software stack to support the extra field as IP Option 334 time marks.
Also have, to each segmentation through the datagram of segment processing, DatagramIdentification 318 is repetitions.Therefore, different with the time mark of IP Option field 334, time mark of the present invention is included among each data sementation, and the time mark of IP Option field 334 only appears at first segmentation.Can make the management of crowded and contention like this, not only can be applicable to whole datagram, but also can be applicable to each datagram fragmentation.This kind processing can also be applied to the destination node.For example, if a datagram by segmentation, and one of them segmentation since said process go out of use, this segmentation is with eternal destination unreachable node so.Other segmentations may they be considered to valueless before, arrive the destination node, thereby the management processing of crowded/contention existed.But, arrive the segmentation that exists of destination node, be unworthy equally, because this datagram can not intactly be collected again, even they arrived before allowing the life-span and are received.With wait for a period of time on the contrary for receiving missing segments, this node can be read the time mark of other segmentations.This destination node also can be communicated by letter with time-base distribution system 226, thereby can determine the age of whole datagram.Lose the arrival of segmentation with wait, or make the dwelling period expiration of a segment standard opposite, the destination node can be waited for the life-span expiration of this datagram simply, and discarded then remaining segmentation need not to attempt collecting again these data.Like this, compare, can finish quickly with waiting for the standard dwelling period that other segmentations arrive.Owing to do not attempt the incomplete datagram that collects again, further saved the ability of processing and the time of processing.
Later with reference to figure 6, in analysis and discarded datagram ' A3 ', node 224 is also analyzed other formations of this node, comprises ' D ' 414 now, even this formation is not also near crowded or contention.During this period, node 224 also sends datagram ' C2 ', even the time mark of this datagram is more outmoded than 10 microseconds.This is once more because the threshold value that ' C ' datagram (being near real-time data) is provided with is 20 microseconds.All are still effective in other datagrams of ' C ' formation 412.Search invalid data when scanning ' D ' formation 414 and give the correct time, node 224 is determined, datagram ' D1 ' the aging permission life-span that has exceeded its 100 microsecond (ID=30).Therefore datagram ' D1 ' goes out of use equally.In this way, node can be carried out regular maintenance, no matter whether crowded and/or contention arrives.
Another kind of solution is the formation (as ' A/B ' formation) that only scanning will have new datagrams to join the team, and where necessary, by situation each formation of management one by one with handling.Also have another kind of solution to comprise: before joining the team,, then to discard the datagram of this new reception if think that the datagram of new reception exceeds its life-span.
Fig. 7 a kind of simple algorithm of drawing can be used to analyze received each datagram on receiving node 224.But as mentioned above, this program can be implemented at any point-of-traffic concentration, as long as this datagram had before added time mark, usually, time mark is to add entering on the point of network 200.At square frame 502, new datagram arrives.At square frame 504, node 224 is read next datagram in the formation then, and reads the time mark of this datagram in id field 318.At square frame 506, node is this time mark IP (ID) and allow threshold value (T
MAX) sum, compare with the current time (T), determine whether this datagram surpasses the life-span that its allows.At square frame 508,, determine that then this datagram is valueless and discarded it if time mark and life-span sum are equal to or greater than the current time.At square frame 510, if this datagram is still effective, program 500 is skipped deletion and is handled, and determines whether that datagram is still in formation in addition.If read and analyze the next datagram in the formation.If do not have datagram still in formation, finish dealing with.In addition, detect the processing of invalid data newspaper, can finish, comprising by following multiple mode: when joining the team (inlet) handle, when leaving one's post, handle, intermittent scanning queue processing or to any other transparent methods processing of communication system 100.
Though the present invention is with reference to the object lesson explanation, these examples only are used for explaining, rather than limitation of the present invention, obviously, the one skilled in the art can change, increase and/or abridge under the spirit and scope of the present invention disclosed embodiment.