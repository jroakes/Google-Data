US11768904B1 - Resource view data collection - Google Patents
Resource view data collection Download PDFInfo
- Publication number
- US11768904B1 US11768904B1 US17/399,886 US202117399886A US11768904B1 US 11768904 B1 US11768904 B1 US 11768904B1 US 202117399886 A US202117399886 A US 202117399886A US 11768904 B1 US11768904 B1 US 11768904B1
- Authority
- US
- United States
- Prior art keywords
- resource
- data
- url
- items
- attributes
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Active, expires
Links
Images
Classifications
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/90—Details of database functions independent of the retrieved data types
- G06F16/95—Retrieval from the web
- G06F16/955—Retrieval from the web using information identifiers, e.g. uniform resource locators [URL]
Definitions
- the Internet enables access to a wide variety of resources. For example, video, audio, web pages directed to particular subject matter, news articles, images, and other resources are accessible over the Internet.
- the wide variety of resources that are accessible over the Internet has enabled opportunities for content distributors to provide content items with resources that are requested by users.
- Content items are units of content (e.g., individual files or a set of files) that are presented in/with resources (e.g., web pages).
- An advertisement is an example of a content item that advertisers can provide for presentation with particular resources, such as web pages and search results pages.
- An advertisement can be made eligible for presentation with specific resources and/or resources that are determined to match specified distribution criteria, such as distribution keywords.
- Some advertisers use remarketing techniques to present advertisements to users that have previously viewed their website.
- the advertiser may work with an advertisement provider to display advertisements to the user as the user browses other websites. For example, the advertiser may want to display to a user advertisements related to televisions after the user has viewed a product web page of the advertiser related to televisions.
- This specification describes technologies relating to collecting data of a resource when the resource is viewed by a user.
- one innovative aspect of the subject matter described in this specification can be embodied in methods that include the actions of generating a tag that includes instructions that, upon execution of the instructions, cause a device to perform operations including: identifying content located in at least one particular portion of a structured resource, the at least one particular portion being specified by the instructions; generating resource view data that includes parameters identifying the device and at least a portion of the identified content; and sending the resource view data to a server; receiving a request for the tag; and providing the tag in response to the request.
- Other embodiments of this aspect include corresponding systems, apparatus, and computer programs, configured to perform the actions of the methods, encoded on computer storage devices.
- aspects can include performing the identifying, generating, and sending based on the execution, by a user device, of the instructions included in the tag, wherein the tag is included in a particular resource received by the user device.
- Generating the resource view data can include generating a uniform resource locator (URL) that includes the parameters.
- Sending the resource view data to the server can include sending the resource view data to the server using the generated URL.
- Aspects can include determining that a data size for the URL exceed a maximum data size; and in response to determining that the data size for the URL exceed the maximum data size, performing at least one of: (a) compressing at least a portion of the identified content; truncating characters of at least a portion of the identified content included in the parameters; or (c) summarizing at least a portion of the identified content using a text summarization technique.
- the identified content can include individual portions of content identified at different particular portions of the structured resource. Each portion of content can be associated with a priority value based on a structural area of the resource from which the portion of content was identified. Generating the URL can include concatenating the portions of content to the URL based on the priority values until a maximum data size for the URL is reached. Generating the URL can include condensing the portions of the content based on the priority value of each portion of content.
- aspects can include identifying an opt-out control of the resource, the opt-out control specifying at least one portion of the structured resource at which content should not be sent to the server; and determining to not include content located at the at least one portion of the structured document in the parameters based on the identified opt-out control.
- identifying content located in at least one particular portion of the structured resource can include at least one of (a) evaluating a model of the structured resource to identify one or more particular markup tags included in the structured resource or (b) evaluating a computer programming language environment of the structured resource to identify one or more particular functions and executing the identified one or more particular functions. Identifying content located in the identified structural areas of the structured resource can include identifying content located between a corresponding pair of the particular markup tags.
- the model of the structured resource can include a document object model (DOM) of the structured resource.
- Rich content regarding resource views can be obtained automatically for individual resource views by extracting content from particular areas of the resource when the resource is viewed.
- Content obtained in this manner can be used to identify topics of the resource more accurately than manually tagging the resources with tags, which may be incorrect or outdated.
- the burden of manually tagging resources may be reduced to downloading a data collection tag that automatically obtains rich data for resource views.
- Content presented in dynamically-generated resources can be collected for individual resource views using a data collection tag included in the resources.
- FIG. 1 is an example environment in which a content management system provides content items and collects data regarding resource views.
- FIG. 2 is an example data flow for generating data regarding a resource view.
- FIG. 3 is a flow diagram of an example process for collecting data regarding a resource view.
- FIG. 4 is block diagram of an example computer system.
- a data collection tag can be included with a resource, e.g., web page or application, to collect data regarding a view of the resource and/or interactions with the resource when presented.
- the data collection tag may include instructions for identifying particular types of content included in the resource and for sending the content to another device.
- the instructions of the data collection tag can cause data identifying the particular types of content to be sent to a server of the resource's publisher or to a server of a content item distributor, such as an advertisement distributor.
- the data can include, for example, the title of the resource, an identifier for a user device at which the resource was displayed, an identifier for the publisher of the resource, data regarding products or other content presented in the resource, data regarding interactions with the resource, and/or data regarding particular portions of the resource viewed.
- view is used to refer to a presentation of an item, e.g., of a resource.
- the instructions of the data collection tag can specify types of content to collect from resources in which the data collection tag is included.
- the data collection tag may include instructions for collecting content from particular structural areas of a structured resource, e.g., a resource having structure elements.
- Many structured resources are structured using markup, e.g., Hypertext Markup Language (HTML) tags markup tags for social network related resources, markup tags for search related web pages and/or other types of markup or tags.
- a markup tag for a search related web page may include tags for products or places related to the resource.
- the data collection tag can include instructions for collecting content that is designated by particular markup tags.
- the data collection tag may include instructions for collecting content from semantic HTML tags, such as title tags, initial paragraph tags, and/or image caption tags.
- semantic HTML tags such as title tags, initial paragraph tags, and/or image caption tags.
- Such content can be used to identify topics of the resource, products or services included in the resource, data related to the products or services (e.g., price, model, etc.), and/or other contextual data.
- Content of a resource identified using the data collection tag can be sent to another device using, for example, a Hypertext Transfer Protocol (HTTP) request or another type of network request.
- HTTP Hypertext Transfer Protocol
- the instructions of the data collection tag may cause the user device at which the resource is displayed to generate a web address, e.g., a uniform resource locator (URL), that includes a domain name (e.g., for a content item provider) and one or more parameters.
- the parameters may be part of a query string and may include the content identified in the resource.
- the URL may include a parameter that identifies the title of the resource and another parameter that includes a device identifier for the user device.
- the URL may then be used to send the parameters from the user device to a server referenced by the domain name.
- the data collected using the data collection tag can be used in remarketing services. For example, an entity that publishes resources, such as an advertiser that publishes landing pages, may add the tag to particular resources, e.g., landing pages for products or services offered by the advertiser.
- the data collected using the tags on the landing pages can be used to remarket content to users that visited the landing pages. For example, if a user views a landing page related to a particular car, content items related to the car may be provided to the user as the user views other resources (e.g., resources that do not include information related to the particular car).
- the users may be provided with an opportunity to control whether programs or features collect personal information (e.g., information about a user's social network, social actions or activities, profession, a user's preferences, or a user's current location), or to control whether and/or how to receive content from the content server that may be more relevant to the user.
- personal information e.g., information about a user's social network, social actions or activities, profession, a user's preferences, or a user's current location
- certain data may be anonymized in one or more ways before it is stored or used, so that personally identifiable information is removed.
- a user's identity may be anonymized so that no personally identifiable information can be determined for the user, or a user's geographic location may be generalized where location information is obtained (such as to a city, ZIP code, or state level), so that a particular location of a user cannot be determined.
- location information such as to a city, ZIP code, or state level
- the user may have control over how information is collected about him or her and used by a content server.
- FIG. 1 is an example environment 100 in which a content management system 120 provides content items and collects data regarding resource views.
- a computer network 102 such as a local area network (LAN), wide area network (WAN), the Internet, or a combination thereof, connects publisher websites 104 , user devices 106 , and a content management system 120 .
- the environment 100 may include many publisher web sites 104 and user devices 106 .
- a website 104 includes one or more resources 105 associated with a domain name and hosted by one or more servers.
- An example website is a collection of web pages formatted in hypertext markup language (HTML) that can contain text, images, multimedia content, and programming elements, such as scripts.
- HTML hypertext markup language
- Each website 104 is maintained by a content publisher, which is an entity that controls, manages and/or owns the website 104 .
- a resource 105 is any data that can be provided by the publisher 104 over the network 102 and that is associated with a resource address.
- Resources include HTML pages, word processing documents, and portable document format (PDF) documents, images, videos, online games, maps, and feed sources, to name just a few.
- PDF portable document format
- the resources can include content, such as words, phrases, pictures, and so on, and may include embedded information (such as meta information and hyperlinks) and/or embedded instructions (such as scripts).
- a resource 105 may also include, or by provided by, an application, e.g., an app.
- an application executing on a user device 106 may receive content from a publisher and present the content on the user device 106 .
- Applications can include games, multimedia applications, productivity applications, applications provided by businesses and other organizations, to name just a few examples.
- a user device 106 is an electronic device that is capable of requesting and receiving resources over the network 102 .
- Example user devices 106 include personal computers, mobile communication devices, and other devices that can send and receive data over the network 102 .
- a user device 106 typically includes a user application, such as a web browser, to facilitate the sending and receiving of data over the network 102 .
- the web browser can enable a user to display and interact with text, images, videos, music and other information typically located on a web page at a website on the world wide web or a local area network.
- the user device 106 may also include one or more applications.
- the user device 106 may be a mobile device that includes one or more mobile apps.
- a user device 106 can request resources 105 from a website 104 .
- data representing the resource 105 can be provided to the user device 106 for presentation by the user device 106 .
- the data representing the resource 105 can include resource content (e.g., text, images, videos, etc. of the resource 105 ) and content item slots (e.g., advertisement slots).
- resource content e.g., text, images, videos, etc. of the resource 105
- content item slots e.g., advertisement slots.
- the content management system 120 receives a content item request requesting content items to be provided with the resource content.
- a content item request can include data regarding the resource 105 on which the content item will be presented (e.g., category or keywords found on the resource, data regarding publisher of resource, etc.), and/or other data. If the content items are to be presented in content item slots of a search results page, the content item request may include keywords of a search query submitted to a search system.
- the content management system 120 includes a content item selector 121 that facilitates the distribution of content items with the resources 105 .
- Content items can include advertisements, text, images, videos, newsletters, coupons, documents, or another type of content item.
- the content management system 120 allows content item providers, e.g., advertisers, to define distribution criteria that take into account attributes of the particular resource with which a content item will be presented for purposes of selecting a content item for presentation with the resource.
- Example distribution criteria include keyword-based criteria for which content item providers provide bids for keywords. These bids are used to select a content item provider that will provide a content item for presentation at a user device 106 . For example, when a particular keyword is matched by a search query submitted from a user device 106 or matched by web page content (or web page metadata) requested from the user device 106 , the content items that are associated with the particular keyword are selected by the content item selector 121 as eligible content items to be provided to the user device. In turn, the bids for the keywords corresponding to each of the eligible content items can be used to determine which content item will be presented.
- Distribution criteria can also include user-based criteria.
- a content item provider may define criteria for presenting content items to users that have viewed particular resources, e.g., landing pages for particular products. When the user views other resources, content items of the content item provider may be shown to the user.
- the content management system 120 includes, or is communicably coupled to, a data storage system that stores campaign data 124 , performance data 126 , and resource view data 128 .
- the campaign data 124 stores, for example, content items, the distribution criteria for the content items, and budgeting information for content item providers.
- the performance data 126 stores data indicating the performance of the content items that are served. Such performance data can include, for example, click-through rates for content items, the number of impressions for content items, and the number of conversions for content items. Other performance data can also be stored.
- the campaign data 124 and the performance data 126 can be used as input parameters to a content item selection process, e.g., an advertisement auction.
- a content item selection process e.g., an advertisement auction.
- the content item selector 121 in response to each request for content items, can conduct an auction to select content items that are provided in response to the request.
- the content items can be ranked according to a rank score that, in some implementations, is proportional to a value that is determined based on a content item bid and one or more parameters specified in the performance data 126 .
- a set (e.g., one or more) of the highest ranked content items in the auction are selected and provided to the requesting user device.
- Remarketing lists may also be used as input parameters to a content item selection process.
- a remarketing list may include identifiers for users, or for user devices associated with the users, that have viewed particular resources.
- a remarketing list for a publisher or a content item provider may include identifiers for users that have viewed resources of the publisher or content item provider and data regarding views or interactions with the resources.
- a particular publisher or content item provider may include multiple remarketing lists, e.g., one for each resource or groups of resources.
- the remarketing lists can be used as distribution criteria or to boost (e.g., increase) rank scores for content items.
- a content item provider may specify distribution criteria so that its content items are provided to users that have previously viewed resources of the content item provider.
- an advertiser may specify distribution criteria so that advertisements related to a particular product are provided to users that have previously viewed a landing page for the product.
- the advertiser may also specify distribution criteria so that bids for its content items are boosted (e.g., increased) for content item requests received from user devices associated with users included on one of its remarketing lists.
- the remarketing lists can be generated from the resource view data 128 .
- the resource view data 128 can include data related to resources 105 provided to or displayed on one or more user devices 106 . This data can include, for each resource view, data identifying the viewed resource (e.g., a URL for a web page or the name of an application), an identifier for a user associated with a user device on which the resource was viewed, a device identifier for the user device on which the resource was viewed, and/or an identifier for a publisher that provides or publishes the resource.
- the data can also include content from the resource itself and/or data regarding interactions with the resource.
- the data for a resource view may include the title of the resource, data identifying products and/or services presented in the resource, prices for the products or services, whether a product was added to an online shopping cart, whether a product or service was purchased and, if so, a purchase price, and/or other data as described in more detail below.
- the content management system 120 can include a data collection engine 123 that collects the resource view data 128 .
- the data collection engine 123 can receive the data from user devices 106 , for example, in response to views of resources 105 .
- the data can be received using data collection tags 107 of the resources 105 .
- the data collection tags 107 can include instructions that, when executed by the user device 106 on which the resource 105 is viewed, causes the user device 106 to collect data of the resource 105 and send the data to the content management system 120 .
- the data collection tags 107 may include scripts that, when executed, cause the user device 106 to collect and send the data to the content management system 120 .
- Publishers and content item providers can obtain, e.g., download, the data collection tags 107 from the content management system 120 and include the tags 107 in resources 105 for which the publishers or content item providers would like to collect resource view data 128 and/or for which the publishers or content item providers would like to generate remarketing lists.
- an advertiser may download the data collection tag 107 and include the data collection tag 107 in a landing page for a product for which the advertiser would like to generate a remarketing list.
- the data collection tag 107 is a pixel, web bug, or web beacon.
- the instructions of the data collection tag 107 are executed.
- a pixel-based data collection tag may “fire” when (or after) the resource is displayed.
- the instructions of the data collection tag 107 can be configured to identify data regarding the resource view and send the identified data to the content management system 120 .
- This data can include an identifier for the user associated with the user device on which the resource is displayed, a device identifier for the user device, an identifier for the publisher of the resource, a URL for the resource (or other network address), and/or one or more cookies stored on the user device.
- the identifier for the user and/or device is stored in a cookie that is identified by the data collection tag 107 .
- the data collection tag 107 can also be configured to identify content of the resource located in particular structural areas of a resource.
- the data collection tag 107 may be configured to evaluate a document object model (DOM) of the resource to identify particular markup tags or other structural areas of the resource.
- DOM document object model
- the data collection tag 107 may be configured to identify particular HTML tags.
- the data collection tag 107 may also be configured to evaluate particular data layers, e.g., script data layers, to identify content.
- the data collection tag 107 is configured to collect a set of content from resources in which the data collection tag 107 is included.
- the data collection tag 107 may include instructions for collecting data from the DOM of the resources and from particular data layers of the resources.
- the data collection tag 107 is configured to introspect a programming language environment of a resource 105 , e.g., a script language environment of the resource.
- the instructions of the data collection tag 107 may cause the user device 106 to evaluate the programming language environment of the resource to determine whether the programming language environment includes one or more particular functions.
- the instructions may cause the user device 106 to invoke or execute the function and collect the result(s) of invoking or executing the function.
- the result(s) could also be used as a further argument to other functions, e.g., in the programming language environment, for which data could be collected.
- the user device 106 may call and execute additional functions in response to executing the identified function.
- the result(s) of each executed function can be collected for transmission to the content management system 120 .
- Publishers or content item providers may be provided with an opportunity to control whether and how the collection of data is performed.
- the publishers or content providers that elect to include the data collection tag 107 on their resources may opt out of the collection of certain types of data by including an opt-out control with the resource.
- An opt-out control can specify types of content or structural areas of the resource from which content should not be collected.
- an opt-out control may specify that a DOM analysis should not be performed and/or that content should not be collected from social network related tags or from particular social network related tags.
- an opt-out control may specify that the programming language environment should not be introspected or that particular functions of the programming language environment should not be invoked or executed. An example of an opt-out control is illustrated in FIG. 2 and described below.
- the data collection tag 107 can cause the user device 106 to generate and send resource view data 109 to the content management system 120 .
- the resource view data 109 can include all or at least a portion of the data identified by the data collection tag 107 , e.g., identifiers, cookies (or content stored therein), and content identified in the structural areas of the resource.
- the data collection tag 107 generates a URL to send the resource view data 109 to the content management system 120 .
- the URL may include a URL path to a server of the content management system 120 and parameters for the identified data.
- the parameters may include key-value pairs for the resource data.
- the content management system 120 can receive the data included in the URL and store the data in the resource view data 128 .
- the data collection tag 107 can send resource view data 109 using other communication techniques.
- a data collection tag 107 of an application e.g., a mobile app
- the message can include the resource view data 109 .
- FIG. 2 is an example data flow 200 for generating data regarding a resource view.
- a web page 211 is presented by an application 210 , e.g., a web browser.
- the example web page 211 includes a title 212 , an image 214 , a price 216 , a model number 218 , and a rating 220 .
- the web page 211 could include other content or not include some of the content illustrated in FIG. 2 .
- the web page 211 may be displayed on a user device using the application 210 .
- the example web page 211 includes a DOM 230 that may be analyzed by a data collection tag to identify content for sending to another device, e.g., a content management system 120 .
- the DOM 230 includes a URL 231 for the web page 211 and markup tags that define a structure for the content of the web page 211 .
- the DOM 230 includes title markup tags 232 that contain text of the title of the web page 211 , figure markup tags 233 that specify the image and the size of the image, price markup tags 234 that contain text for the price, model markup tags 235 that contain text for the model number, and rating tags 236 that contain text for the rating.
- a data collection tag 107 can include instructions for evaluating the DOM 230 to collect content contained in particular markup tags.
- the data collection tag 107 may include instructions for collecting content contained in title tags, price tags, model tags, and rating tags. Based on the instructions, the user device may evaluate the DOM 230 to detect the particular tags and, if detected, collect content contained in the tags.
- the data collection tag 107 may also include instructions for collecting other data, such as a device identifier.
- the device identifier may be stored in a cookie on the user device that displays the web page 211 .
- the data collection tag 107 may include instructions for obtaining the device identifier from the cookie.
- the example web page 211 includes an opt-out control 237 .
- the example opt-out control 237 specifies that content contained in rating markup tags should not be collected by the data collection tag 107 .
- the publisher of the web page 211 may not want rating data collected or may not want to use rating data in remarketing efforts.
- the opt-out control 237 can prevent the content contained in the rating markup tags 235 from being collected.
- the data collection tag 107 may include instructions for identifying opt-out tags and preventing the collection of data specified by the opt-out tags.
- the instructions of the data collection tag 107 can also cause the user device to generate a URL 240 that includes the content collected from the DOM and other data, e.g., device identifier for the user device.
- the example URL 240 includes a URL path 241 to “example.com.”
- the URL 240 also includes parameters for content related to the web page view.
- the URL 240 includes a key-value pair 242 for the device identifier, a key-value pair 243 for the title, a key-value pair 244 for the price, and a key-value pair 245 for the model number.
- the URL path 241 can cause the user device to connect to a server associated with the URL path 241 and provide the parameters to the server.
- FIG. 3 is a flow diagram of an example process 300 for collecting data regarding a resource view.
- Operations of the process 300 can be implemented, for example, by a data processing apparatus, such as the content management system 120 and/or the user device 106 of FIG. 1 .
- the process 300 can also be implemented by instructions stored on a non-transitory computer storage medium, where execution of the instructions by a data processing apparatus cause the data processing apparatus to perform the operations of the process 300 .
- the data collection tag can include instructions for collecting particular data from resources (e.g., web pages) in which the data collection tag is included.
- the instructions may be configured to cause the user device to collect data regarding a view of a resource, e.g., a structured resource, in response to the resource being viewed at a user device.
- the instructions may be configured to evaluate particular portions of the resource, e.g., its DOM or programming language environment, to identify content for collection.
- the document collection tag may be configured for use by multiple different publishers and/or content item providers.
- the document collection tag may include instructions for collecting a wide variety of data related to resource views.
- a publisher or content item provider may include the data collection tag on a resource, along with an opt-out control to prevent certain types of data from being collected.
- Data collection tags may also be specific to each publisher or content item provider. For example, each publisher or content item provider may want to have different types of data collected.
- a data collection tag can be configured for each different publisher or content item provider to facilitate collection of the different types of data that the different publishers or content item providers would like to collect.
- a request for the data collection tag is received.
- a publisher may request the data collection tag for inclusion with a particular resource.
- the publisher may navigate to the website of the content management system 120 to request the data collection tag.
- the data collection tag is provided to the publisher in response to the request.
- the publisher may then include the data collection tag with a resource.
- the data collection tag may include a snippet of code that the publisher can copy and paste into the code of the resource.
- the publisher may then make the resource available for users to download, e.g., from a website.
- the resource that has the data collection tag is received for presentation at a user device.
- a user may request the resource from the website that publishes the resource.
- the resource may be provided to the user device for display.
- the resource may be a landing page for an advertisement.
- the user device may send a request for the landing page in response to the user selecting an advertisement that links to the landing page.
- the data collection tag included with the resource causes the user device to process particular portions of the resource.
- the data collection tag may include instructions for collecting content from particular structural areas of web pages, such as content located between pairs of particular markup tags, e.g., pairs of title tags.
- the instructions of the data collection tag cause the user device to evaluate the DOM of the web page to determine whether the DOM includes a pair of title tags.
- the data collection tag may also include instructions for collecting content located in particular data layers of a resource.
- the data collection tag may include instructions for evaluating a script data layer to identify data sets and other content in the data layer.
- the data collection tag may include instructions for evaluating a programming language environment of the resource to identify functions, execute the functions, and collect data regarding the functions, e.g., the results of the functions.
- the user device may identify the text contained between a pair of title tags that were identified at block 310 .
- the data collection tag may also include instructions for identifying any op-out controls included in the resource. If an opt-out control is identified in the resource, the user device may not collect data from structural areas specified by the opt-out control. For example, if the opt-out control specifies that image captions should not be collected, then the user device may not collect data contained in image caption tags in the resource even if the data collection tag is configured to collect image caption tags.
- the data collection tag may also include instructions for identifying other data related to the resource view.
- the data collection tag may include instructions for identifying an identifier for the user device, an identifier for a user associated with the user device cookie stored on the user device, a URL for the resource, an identifier for the publisher of the resource, and/or a cookie.
- the identifier for the user device and/or for a user associated with the user device may be obtained from the cookie.
- the data collection tag may include instructions for obtaining the identifiers from the cookie.
- the data collection tag can also include instructions for analyzing identified content to select content to provide to the content management system 120 .
- the instructions may cause the user device to identify keywords (e.g., one or more terms) that occur most often in the resource.
- the instructions may also cause the user device to remove certain stop words from content to be sent to the content management system 120 to reduce the amount of content being sent from the user device to the content management system 120 .
- a resource view data is generated for the resource view.
- a URL is generated that includes the resource view data.
- the URL may include a URL path for a server of the content management system 120 and one or more parameters.
- the parameters can include at least a portion of the content identified in the structural areas of the resource and/or other data related to the resource view.
- the user device on which the resource is presented generates the URL based on instructions of the data collection tag. For example, the instructions may cause the user device to generate parameters, e.g., key-value pairs, for at least a portion of the identified content and data and generate a query string for the URL using the parameters.
- the amount of data that can be included in a URL may be limited, e.g., to some threshold amount of data. If the amount of content and data identified for the resource view exceeds this threshold data limit, some of the data may be truncated or excluded.
- the data collection tag may include instructions for generating the query string for the URL based on priority.
- particular types of data e.g., data located in particular structural areas of the resource, may be associated with a respective priority score.
- the data collection tag may cause the user device to generate the URL by concatenating portions of the content to the query string in order based on priority until the data limit is reached. For example, the parameter that corresponds to the highest priority data type may be added first.
- the data collection tag may include instructions for summarizing content, for example, in response to the content exceeding the threshold amount of data or exceeding a character limit.
- the instructions may cause the user device to execute a text summarization technique that condenses a group of content, e.g., a paragraph, into a summary.
- the summary may include keywords identified in a paragraph.
- the data collection tag may include instructions for compressing and/or truncating the content based on priority scores for the content.
- the instructions may cause the user device to compress or truncate the content in such a way to maximize a scoring heuristic to capture value of content versus data transmission or collection costs.
- the URL has a maximum data limit of 100 bytes and the data collection tag has identified two portions of content, content A and content B.
- content A and content B each includes 250 bytes of data, but content A has a higher priority value that content B.
- the data collection tag may cause the user device to condense content A into 75 bytes (e.g., by summarizing or truncating) and condense content B into 25 bytes (e.g., by summarizing or truncating).
- the content and data being included in the URL may be compressed prior to generating the URL.
- a compression technique tuned for character strings may be used to compress each portion of content.
- the compression technique may be included in the data collection tag.
- the resource view data can be included in other appropriate types of network communication messages.
- an e-mail message may be generated to include the resource view data.
- the e-mail message may include similar data as the URL, as described above.
- the resource view data is sent, e.g., to the content management system 120 .
- parameters of the URL may be sent using the URL.
- the URL path may be used to initiate an HTTP request message to a server associated with the URL path.
- the message may include the parameters of the URL.
- the server can receive the message and store the parameters, for example, in resource view data 128 .
- the data collection tag may cause the user device to send the URL parameters to the content management system using a pixel fire technique.
- the instructions of the data collection tag may cause a web browser executing on the user device to generate, in the resource, a new image tag that includes the URL.
- the image tag may then cause the web browser to send the parameters to the URL.
- the content and data may be collected and sent to the content management system 120 after the resource is rendered at the user device. In this way, no additional page rendering latency may be added due to the data collection.
- a data collection tag may include instructions for evaluating screen views using a client-side software development kit (SDK).
- SDK client-side software development kit
- the content collected may include content presented in the screen view, e.g., text presented by the app.
- the instructions of the data collection tag may specify particular types of content to collect, such as product names and prices or the level being played on a game.
- the data collection tag can send the collected data to the content management system using a path identifier or an e-mail message.
- FIG. 4 is a block diagram of an example computer system 400 that can be used to perform operations described above.
- the system 400 includes a processor 410 , a memory 420 , a storage device 430 , and an input/output device 440 .
- Each of the components 410 , 420 , 430 , and 440 can be interconnected, for example, using a system bus 450 .
- the processor 410 is capable of processing instructions for execution within the system 400 .
- the processor 410 is a single-threaded processor.
- the processor 410 is a multi-threaded processor.
- the processor 410 is capable of processing instructions stored in the memory 420 or on the storage device 430 .
- the memory 420 stores information within the system 400 .
- the memory 420 is a computer-readable medium.
- the memory 420 is a volatile memory unit.
- the memory 420 is a non-volatile memory unit.
- the storage device 430 is capable of providing mass storage for the system 400 .
- the storage device 430 is a computer-readable medium.
- the storage device 430 can include, for example, a hard disk device, an optical disk device, a storage device that is shared over a network by multiple computing devices (e.g., a cloud storage device), or some other large capacity storage device.
- the input/output device 440 provides input/output operations for the system 400 .
- the input/output device 440 can include one or more of a network interface device, e.g., an Ethernet card, a serial communication device, e.g., an RS-232 port, and/or a wireless interface device, e.g., an 802.11 card.
- the input/output device can include driver devices configured to receive input data and send output data to other input/output devices, e.g., keyboard, printer and display devices 460 .
- Other implementations, however, can also be used, such as mobile computing devices, mobile communication devices, set-top box television client devices, etc.
- Embodiments of the subject matter and the operations described in this specification can be implemented in digital electronic circuitry, or in computer software, firmware, or hardware, including the structures disclosed in this specification and their structural equivalents, or in combinations of one or more of them.
- Embodiments of the subject matter described in this specification can be implemented as one or more computer programs, i.e., one or more modules of computer program instructions, encoded on computer storage medium for execution by, or to control the operation of, data processing apparatus.
- the program instructions can be encoded on an artificially-generated propagated signal, e.g., a machine-generated electrical, optical, or electromagnetic signal, that is generated to encode information for transmission to suitable receiver apparatus for execution by a data processing apparatus.
- a computer storage medium can be, or be included in, a computer-readable storage device, a computer-readable storage substrate, a random or serial access memory array or device, or a combination of one or more of them.
- a computer storage medium is not a propagated signal, a computer storage medium can be a source or destination of computer program instructions encoded in an artificially-generated propagated signal.
- the computer storage medium can also be, or be included in, one or more separate physical components or media (e.g., multiple CDs, disks, or other storage devices).
- the operations described in this specification can be implemented as operations performed by a data processing apparatus on data stored on one or more computer-readable storage devices or received from other sources.
- the term “data processing apparatus” encompasses all kinds of apparatus, devices, and machines for processing data, including by way of example a programmable processor, a computer, a system on a chip, or multiple ones, or combinations, of the foregoing
- the apparatus can include special purpose logic circuitry, e.g., an FPGA (field programmable gate array) or an ASIC (application-specific integrated circuit).
- the apparatus can also include, in addition to hardware, code that creates an execution environment for the computer program in question, e.g., code that constitutes processor firmware, a protocol stack, a database management system, an operating system, a cross-platform runtime environment, a virtual machine, or a combination of one or more of them.
- the apparatus and execution environment can realize various different computing model infrastructures, such as web services, distributed computing and grid computing infrastructures.
- a computer program (also known as a program, software, software application, script, or code) can be written in any form of programming language, including compiled or interpreted languages, declarative or procedural languages, and it can be deployed in any form, including as a stand-alone program or as a module, component, subroutine, object, or other unit suitable for use in a computing environment.
- a computer program may, but need not, correspond to a file in a file system.
- a program can be stored in a portion of a file that holds other programs or data (e.g., one or more scripts stored in a markup language document), in a single file dedicated to the program in question, or in multiple coordinated files (e.g., files that store one or more modules, sub-programs, or portions of code).
- a computer program can be deployed to be executed on one computer or on multiple computers that are located at one site or distributed across multiple sites and interconnected by a communication network.
- the processes and logic flows described in this specification can be performed by one or more programmable processors executing one or more computer programs to perform actions by operating on input data and generating output.
- the processes and logic flows can also be performed by, and apparatus can also be implemented as, special purpose logic circuitry, e.g., an FPGA (field programmable gate array) or an ASIC (application-specific integrated circuit).
- processors suitable for the execution of a computer program include, by way of example, both general and special purpose microprocessors, and any one or more processors of any kind of digital computer.
- a processor will receive instructions and data from a read-only memory or a random access memory or both.
- the essential elements of a computer are a processor for performing actions in accordance with instructions and one or more memory devices for storing instructions and data.
- a computer will also include, or be operatively coupled to receive data from or transfer data to, or both, one or more mass storage devices for storing data, e.g., magnetic, magneto-optical disks, or optical disks.
- mass storage devices for storing data, e.g., magnetic, magneto-optical disks, or optical disks.
- a computer need not have such devices.
- a computer having a display device, e.g., a CRT (cathode ray tube) or LCD (liquid crystal display) monitor, for displaying information to the user and a keyboard and a pointing device, e.g., a mouse or a trackball, by which the user can provide input to the computer.
- a display device e.g., a CRT (cathode ray tube) or LCD (liquid crystal display) monitor
- keyboard and a pointing device e.g., a mouse or a trackball
- Other kinds of devices can be used to provide for interaction with a user as well; for example, feedback provided to the user can be any form of sensory feedback, e.g., visual feedback, auditory feedback, or tactile feedback; and input from the user can be received in any form, including acoustic, speech, or tactile input.
- a computer can interact with a user by sending documents to and receiving documents from a device that is used by the user; for example, by sending web pages to a
- Embodiments of the subject matter described in this specification can be implemented in a computing system that includes a back-end component, e.g., as a data server, or that includes a middleware component, e.g., an application server, or that includes a front-end component, e.g., a client computer having a graphical user interface or a Web browser through which a user can interact with an implementation of the subject matter described in this specification, or any combination of one or more such back-end, middleware, or front-end components.
- the components of the system can be interconnected by any form or medium of digital data communication, e.g., a communication network.
- Examples of communication networks include a local area network (“LAN”) and a wide area network (“WAN”), an inter-network (e.g., the Internet), and peer-to-peer networks (e.g., ad hoc peer-to-peer networks).
- LAN local area network
- WAN wide area network
- inter-network e.g., the Internet
- peer-to-peer networks e.g., ad hoc peer-to-peer networks.
- the computing system can include clients and servers.
- a client and server are generally remote from each other and typically interact through a communication network. The relationship of client and server arises by virtue of computer programs running on the respective computers and having a client-server relationship to each other.
- a server transmits data (e.g., an HTML page) to a client device (e.g., for purposes of displaying data to and receiving user input from a user interacting with the client device).
- client device e.g., for purposes of displaying data to and receiving user input from a user interacting with the client device.
- Data generated at the client device e.g., a result of the user interaction
Abstract
Methods, systems, and apparatus, including computer programs encoded on a computer storage medium, for collecting data regarding resource views. In one aspect, a method includes generating a tag that includes instructions that, upon execution of the instructions, cause a device to perform operations including identifying content located in at least one particular portion of a structured resource. The particular portion can be specified by the instructions. The operations may include generating resource view data that includes parameters identifying the device and at least a portion of the identified content. The operations may include sending the resource view data to a server. A request for the tag may be received. The tag may be provided in response to the request.
Description
This application is a continuation application of U.S. application Ser. No. 16/378,007, filed Apr. 8, 2019, which application is a continuation application of U.S. application Ser. No. 14/273,136, now Pat. No. 10,282,479, filed May 8, 2014. The disclosure of each of the foregoing applications is incorporated herein by reference.
The Internet enables access to a wide variety of resources. For example, video, audio, web pages directed to particular subject matter, news articles, images, and other resources are accessible over the Internet. The wide variety of resources that are accessible over the Internet has enabled opportunities for content distributors to provide content items with resources that are requested by users. Content items are units of content (e.g., individual files or a set of files) that are presented in/with resources (e.g., web pages). An advertisement is an example of a content item that advertisers can provide for presentation with particular resources, such as web pages and search results pages. An advertisement can be made eligible for presentation with specific resources and/or resources that are determined to match specified distribution criteria, such as distribution keywords.
Some advertisers use remarketing techniques to present advertisements to users that have previously viewed their website. The advertiser may work with an advertisement provider to display advertisements to the user as the user browses other websites. For example, the advertiser may want to display to a user advertisements related to televisions after the user has viewed a product web page of the advertiser related to televisions.
This specification describes technologies relating to collecting data of a resource when the resource is viewed by a user.
In general, one innovative aspect of the subject matter described in this specification can be embodied in methods that include the actions of generating a tag that includes instructions that, upon execution of the instructions, cause a device to perform operations including: identifying content located in at least one particular portion of a structured resource, the at least one particular portion being specified by the instructions; generating resource view data that includes parameters identifying the device and at least a portion of the identified content; and sending the resource view data to a server; receiving a request for the tag; and providing the tag in response to the request. Other embodiments of this aspect include corresponding systems, apparatus, and computer programs, configured to perform the actions of the methods, encoded on computer storage devices.
These and other embodiments can each optionally include one or more of the following features. Aspects can include performing the identifying, generating, and sending based on the execution, by a user device, of the instructions included in the tag, wherein the tag is included in a particular resource received by the user device.
Generating the resource view data can include generating a uniform resource locator (URL) that includes the parameters. Sending the resource view data to the server can include sending the resource view data to the server using the generated URL. Aspects can include determining that a data size for the URL exceed a maximum data size; and in response to determining that the data size for the URL exceed the maximum data size, performing at least one of: (a) compressing at least a portion of the identified content; truncating characters of at least a portion of the identified content included in the parameters; or (c) summarizing at least a portion of the identified content using a text summarization technique.
In some aspects, the identified content can include individual portions of content identified at different particular portions of the structured resource. Each portion of content can be associated with a priority value based on a structural area of the resource from which the portion of content was identified. Generating the URL can include concatenating the portions of content to the URL based on the priority values until a maximum data size for the URL is reached. Generating the URL can include condensing the portions of the content based on the priority value of each portion of content.
Aspects can include identifying an opt-out control of the resource, the opt-out control specifying at least one portion of the structured resource at which content should not be sent to the server; and determining to not include content located at the at least one portion of the structured document in the parameters based on the identified opt-out control.
In some aspects, identifying content located in at least one particular portion of the structured resource can include at least one of (a) evaluating a model of the structured resource to identify one or more particular markup tags included in the structured resource or (b) evaluating a computer programming language environment of the structured resource to identify one or more particular functions and executing the identified one or more particular functions. Identifying content located in the identified structural areas of the structured resource can include identifying content located between a corresponding pair of the particular markup tags. In some aspects, the model of the structured resource can include a document object model (DOM) of the structured resource.
Particular embodiments of the subject matter described in this specification can be implemented so as to realize one or more of the following advantages. Rich content regarding resource views can be obtained automatically for individual resource views by extracting content from particular areas of the resource when the resource is viewed. Content obtained in this manner can be used to identify topics of the resource more accurately than manually tagging the resources with tags, which may be incorrect or outdated. In addition, the burden of manually tagging resources may be reduced to downloading a data collection tag that automatically obtains rich data for resource views. Content presented in dynamically-generated resources can be collected for individual resource views using a data collection tag included in the resources.
The details of one or more embodiments of the subject matter described in this specification are set forth in the accompanying drawings and the description below. Other features, aspects, and advantages of the subject matter will become apparent from the description, the drawings, and the claims.
Like reference numbers and designations in the various drawings indicate like elements.
A data collection tag can be included with a resource, e.g., web page or application, to collect data regarding a view of the resource and/or interactions with the resource when presented. For example, the data collection tag may include instructions for identifying particular types of content included in the resource and for sending the content to another device. In a particular example, the instructions of the data collection tag can cause data identifying the particular types of content to be sent to a server of the resource's publisher or to a server of a content item distributor, such as an advertisement distributor. The data can include, for example, the title of the resource, an identifier for a user device at which the resource was displayed, an identifier for the publisher of the resource, data regarding products or other content presented in the resource, data regarding interactions with the resource, and/or data regarding particular portions of the resource viewed. As used throughout this document, the term “view” is used to refer to a presentation of an item, e.g., of a resource.
The instructions of the data collection tag can specify types of content to collect from resources in which the data collection tag is included. For example, the data collection tag may include instructions for collecting content from particular structural areas of a structured resource, e.g., a resource having structure elements. Many structured resources are structured using markup, e.g., Hypertext Markup Language (HTML) tags markup tags for social network related resources, markup tags for search related web pages and/or other types of markup or tags. For example, a markup tag for a search related web page may include tags for products or places related to the resource. The data collection tag can include instructions for collecting content that is designated by particular markup tags. For example, the data collection tag may include instructions for collecting content from semantic HTML tags, such as title tags, initial paragraph tags, and/or image caption tags. Such content can be used to identify topics of the resource, products or services included in the resource, data related to the products or services (e.g., price, model, etc.), and/or other contextual data.
Content of a resource identified using the data collection tag can be sent to another device using, for example, a Hypertext Transfer Protocol (HTTP) request or another type of network request. For example, the instructions of the data collection tag may cause the user device at which the resource is displayed to generate a web address, e.g., a uniform resource locator (URL), that includes a domain name (e.g., for a content item provider) and one or more parameters. The parameters may be part of a query string and may include the content identified in the resource. For example, the URL may include a parameter that identifies the title of the resource and another parameter that includes a device identifier for the user device. The URL may then be used to send the parameters from the user device to a server referenced by the domain name.
The data collected using the data collection tag can be used in remarketing services. For example, an entity that publishes resources, such as an advertiser that publishes landing pages, may add the tag to particular resources, e.g., landing pages for products or services offered by the advertiser. The data collected using the tags on the landing pages can be used to remarket content to users that visited the landing pages. For example, if a user views a landing page related to a particular car, content items related to the car may be provided to the user as the user views other resources (e.g., resources that do not include information related to the particular car).
For situations in which the systems discussed here collect personal information about users, or may make use of personal information, the users may be provided with an opportunity to control whether programs or features collect personal information (e.g., information about a user's social network, social actions or activities, profession, a user's preferences, or a user's current location), or to control whether and/or how to receive content from the content server that may be more relevant to the user. In addition, certain data may be anonymized in one or more ways before it is stored or used, so that personally identifiable information is removed. For example, a user's identity may be anonymized so that no personally identifiable information can be determined for the user, or a user's geographic location may be generalized where location information is obtained (such as to a city, ZIP code, or state level), so that a particular location of a user cannot be determined. Thus, the user may have control over how information is collected about him or her and used by a content server.
A website 104 includes one or more resources 105 associated with a domain name and hosted by one or more servers. An example website is a collection of web pages formatted in hypertext markup language (HTML) that can contain text, images, multimedia content, and programming elements, such as scripts. Each website 104 is maintained by a content publisher, which is an entity that controls, manages and/or owns the website 104.
A resource 105 is any data that can be provided by the publisher 104 over the network 102 and that is associated with a resource address. Resources include HTML pages, word processing documents, and portable document format (PDF) documents, images, videos, online games, maps, and feed sources, to name just a few. The resources can include content, such as words, phrases, pictures, and so on, and may include embedded information (such as meta information and hyperlinks) and/or embedded instructions (such as scripts).
A resource 105 may also include, or by provided by, an application, e.g., an app. For example, an application executing on a user device 106 may receive content from a publisher and present the content on the user device 106. Applications can include games, multimedia applications, productivity applications, applications provided by businesses and other organizations, to name just a few examples.
A user device 106 is an electronic device that is capable of requesting and receiving resources over the network 102. Example user devices 106 include personal computers, mobile communication devices, and other devices that can send and receive data over the network 102. A user device 106 typically includes a user application, such as a web browser, to facilitate the sending and receiving of data over the network 102. The web browser can enable a user to display and interact with text, images, videos, music and other information typically located on a web page at a website on the world wide web or a local area network. The user device 106 may also include one or more applications. For example, the user device 106 may be a mobile device that includes one or more mobile apps.
A user device 106 can request resources 105 from a website 104. In turn, data representing the resource 105 can be provided to the user device 106 for presentation by the user device 106. The data representing the resource 105 can include resource content (e.g., text, images, videos, etc. of the resource 105) and content item slots (e.g., advertisement slots). When a resource 105 having a content item slot is requested by a user device 106, the content management system 120 receives a content item request requesting content items to be provided with the resource content. A content item request can include data regarding the resource 105 on which the content item will be presented (e.g., category or keywords found on the resource, data regarding publisher of resource, etc.), and/or other data. If the content items are to be presented in content item slots of a search results page, the content item request may include keywords of a search query submitted to a search system.
The content management system 120 includes a content item selector 121 that facilitates the distribution of content items with the resources 105. Content items can include advertisements, text, images, videos, newsletters, coupons, documents, or another type of content item. The content management system 120 allows content item providers, e.g., advertisers, to define distribution criteria that take into account attributes of the particular resource with which a content item will be presented for purposes of selecting a content item for presentation with the resource.
Example distribution criteria include keyword-based criteria for which content item providers provide bids for keywords. These bids are used to select a content item provider that will provide a content item for presentation at a user device 106. For example, when a particular keyword is matched by a search query submitted from a user device 106 or matched by web page content (or web page metadata) requested from the user device 106, the content items that are associated with the particular keyword are selected by the content item selector 121 as eligible content items to be provided to the user device. In turn, the bids for the keywords corresponding to each of the eligible content items can be used to determine which content item will be presented.
Distribution criteria can also include user-based criteria. For example, in a remarketing campaign, a content item provider may define criteria for presenting content items to users that have viewed particular resources, e.g., landing pages for particular products. When the user views other resources, content items of the content item provider may be shown to the user.
The content management system 120 includes, or is communicably coupled to, a data storage system that stores campaign data 124, performance data 126, and resource view data 128. The campaign data 124 stores, for example, content items, the distribution criteria for the content items, and budgeting information for content item providers. The performance data 126 stores data indicating the performance of the content items that are served. Such performance data can include, for example, click-through rates for content items, the number of impressions for content items, and the number of conversions for content items. Other performance data can also be stored.
The campaign data 124 and the performance data 126 can be used as input parameters to a content item selection process, e.g., an advertisement auction. For example, the content item selector 121, in response to each request for content items, can conduct an auction to select content items that are provided in response to the request. The content items can be ranked according to a rank score that, in some implementations, is proportional to a value that is determined based on a content item bid and one or more parameters specified in the performance data 126. A set (e.g., one or more) of the highest ranked content items in the auction (e.g., based on the rank scores) are selected and provided to the requesting user device.
Remarketing lists may also be used as input parameters to a content item selection process. A remarketing list may include identifiers for users, or for user devices associated with the users, that have viewed particular resources. For example, a remarketing list for a publisher or a content item provider may include identifiers for users that have viewed resources of the publisher or content item provider and data regarding views or interactions with the resources. A particular publisher or content item provider may include multiple remarketing lists, e.g., one for each resource or groups of resources.
The remarketing lists can be used as distribution criteria or to boost (e.g., increase) rank scores for content items. A content item provider may specify distribution criteria so that its content items are provided to users that have previously viewed resources of the content item provider. For example, an advertiser may specify distribution criteria so that advertisements related to a particular product are provided to users that have previously viewed a landing page for the product. The advertiser may also specify distribution criteria so that bids for its content items are boosted (e.g., increased) for content item requests received from user devices associated with users included on one of its remarketing lists.
The remarketing lists can be generated from the resource view data 128. The resource view data 128 can include data related to resources 105 provided to or displayed on one or more user devices 106. This data can include, for each resource view, data identifying the viewed resource (e.g., a URL for a web page or the name of an application), an identifier for a user associated with a user device on which the resource was viewed, a device identifier for the user device on which the resource was viewed, and/or an identifier for a publisher that provides or publishes the resource. The data can also include content from the resource itself and/or data regarding interactions with the resource. For example, the data for a resource view may include the title of the resource, data identifying products and/or services presented in the resource, prices for the products or services, whether a product was added to an online shopping cart, whether a product or service was purchased and, if so, a purchase price, and/or other data as described in more detail below.
The content management system 120 can include a data collection engine 123 that collects the resource view data 128. The data collection engine 123 can receive the data from user devices 106, for example, in response to views of resources 105. The data can be received using data collection tags 107 of the resources 105. The data collection tags 107 can include instructions that, when executed by the user device 106 on which the resource 105 is viewed, causes the user device 106 to collect data of the resource 105 and send the data to the content management system 120. For example, the data collection tags 107 may include scripts that, when executed, cause the user device 106 to collect and send the data to the content management system 120.
Publishers and content item providers can obtain, e.g., download, the data collection tags 107 from the content management system 120 and include the tags 107 in resources 105 for which the publishers or content item providers would like to collect resource view data 128 and/or for which the publishers or content item providers would like to generate remarketing lists. For example, an advertiser may download the data collection tag 107 and include the data collection tag 107 in a landing page for a product for which the advertiser would like to generate a remarketing list.
In some implementations, the data collection tag 107 is a pixel, web bug, or web beacon. When a resource that includes the data collection tag 107 is presented, the instructions of the data collection tag 107 are executed. For example, a pixel-based data collection tag may “fire” when (or after) the resource is displayed. The instructions of the data collection tag 107 can be configured to identify data regarding the resource view and send the identified data to the content management system 120. This data can include an identifier for the user associated with the user device on which the resource is displayed, a device identifier for the user device, an identifier for the publisher of the resource, a URL for the resource (or other network address), and/or one or more cookies stored on the user device. In some implementations, the identifier for the user and/or device is stored in a cookie that is identified by the data collection tag 107.
The data collection tag 107 can also be configured to identify content of the resource located in particular structural areas of a resource. In some implementations, the data collection tag 107 may be configured to evaluate a document object model (DOM) of the resource to identify particular markup tags or other structural areas of the resource. For example, the data collection tag 107 may be configured to identify particular HTML tags. The data collection tag 107 may also be configured to evaluate particular data layers, e.g., script data layers, to identify content.
In some implementations, the data collection tag 107 is configured to collect a set of content from resources in which the data collection tag 107 is included. For example, the data collection tag 107 may include instructions for collecting data from the DOM of the resources and from particular data layers of the resources. In some implementations, the data collection tag 107 is configured to introspect a programming language environment of a resource 105, e.g., a script language environment of the resource. For example, the instructions of the data collection tag 107 may cause the user device 106 to evaluate the programming language environment of the resource to determine whether the programming language environment includes one or more particular functions. If a function is identified, e.g., a function specified by the data collection tag 107, the instructions may cause the user device 106 to invoke or execute the function and collect the result(s) of invoking or executing the function. The result(s) could also be used as a further argument to other functions, e.g., in the programming language environment, for which data could be collected. For example, the user device 106 may call and execute additional functions in response to executing the identified function. The result(s) of each executed function can be collected for transmission to the content management system 120.
Publishers or content item providers may be provided with an opportunity to control whether and how the collection of data is performed. For example, the publishers or content providers that elect to include the data collection tag 107 on their resources may opt out of the collection of certain types of data by including an opt-out control with the resource. An opt-out control can specify types of content or structural areas of the resource from which content should not be collected. For example, an opt-out control may specify that a DOM analysis should not be performed and/or that content should not be collected from social network related tags or from particular social network related tags. In another example, an opt-out control may specify that the programming language environment should not be introspected or that particular functions of the programming language environment should not be invoked or executed. An example of an opt-out control is illustrated in FIG. 2 and described below.
The data collection tag 107 can cause the user device 106 to generate and send resource view data 109 to the content management system 120. The resource view data 109 can include all or at least a portion of the data identified by the data collection tag 107, e.g., identifiers, cookies (or content stored therein), and content identified in the structural areas of the resource. In some implementations, the data collection tag 107 generates a URL to send the resource view data 109 to the content management system 120. The URL may include a URL path to a server of the content management system 120 and parameters for the identified data. The parameters may include key-value pairs for the resource data. For example, a key-value pair for the title of the resource may be “t=Product_Page_A” where the title of the resource is “Product Page A.” The content management system 120 can receive the data included in the URL and store the data in the resource view data 128.
The data collection tag 107 can send resource view data 109 using other communication techniques. For example, a data collection tag 107 of an application, e.g., a mobile app, may cause the user device executing the application to send an e-mail message or other appropriate type of message to the content management system 120. The message can include the resource view data 109.
The example web page 211 includes a DOM 230 that may be analyzed by a data collection tag to identify content for sending to another device, e.g., a content management system 120. The DOM 230 includes a URL 231 for the web page 211 and markup tags that define a structure for the content of the web page 211. For example, the DOM 230 includes title markup tags 232 that contain text of the title of the web page 211, figure markup tags 233 that specify the image and the size of the image, price markup tags 234 that contain text for the price, model markup tags 235 that contain text for the model number, and rating tags 236 that contain text for the rating.
A data collection tag 107 can include instructions for evaluating the DOM 230 to collect content contained in particular markup tags. For example, the data collection tag 107 may include instructions for collecting content contained in title tags, price tags, model tags, and rating tags. Based on the instructions, the user device may evaluate the DOM 230 to detect the particular tags and, if detected, collect content contained in the tags. The data collection tag 107 may also include instructions for collecting other data, such as a device identifier. For example, the device identifier may be stored in a cookie on the user device that displays the web page 211. The data collection tag 107 may include instructions for obtaining the device identifier from the cookie.
The example web page 211 includes an opt-out control 237. The example opt-out control 237 specifies that content contained in rating markup tags should not be collected by the data collection tag 107. For example, the publisher of the web page 211 may not want rating data collected or may not want to use rating data in remarketing efforts. The opt-out control 237 can prevent the content contained in the rating markup tags 235 from being collected. For example, the data collection tag 107 may include instructions for identifying opt-out tags and preventing the collection of data specified by the opt-out tags.
The instructions of the data collection tag 107 can also cause the user device to generate a URL 240 that includes the content collected from the DOM and other data, e.g., device identifier for the user device. The example URL 240 includes a URL path 241 to “example.com.” The URL 240 also includes parameters for content related to the web page view. For example, the URL 240 includes a key-value pair 242 for the device identifier, a key-value pair 243 for the title, a key-value pair 244 for the price, and a key-value pair 245 for the model number. The URL path 241 can cause the user device to connect to a server associated with the URL path 241 and provide the parameters to the server.
At block 302, a data collection tag is generated. The data collection tag can include instructions for collecting particular data from resources (e.g., web pages) in which the data collection tag is included. For example, the instructions may be configured to cause the user device to collect data regarding a view of a resource, e.g., a structured resource, in response to the resource being viewed at a user device. As described in more detail below, the instructions may be configured to evaluate particular portions of the resource, e.g., its DOM or programming language environment, to identify content for collection.
In some implementations, the document collection tag may be configured for use by multiple different publishers and/or content item providers. For example, the document collection tag may include instructions for collecting a wide variety of data related to resource views. A publisher or content item provider may include the data collection tag on a resource, along with an opt-out control to prevent certain types of data from being collected.
Data collection tags may also be specific to each publisher or content item provider. For example, each publisher or content item provider may want to have different types of data collected. A data collection tag can be configured for each different publisher or content item provider to facilitate collection of the different types of data that the different publishers or content item providers would like to collect.
At block 304, a request for the data collection tag is received. For example, a publisher may request the data collection tag for inclusion with a particular resource. In some implementations, the publisher may navigate to the website of the content management system 120 to request the data collection tag.
At block 306, the data collection tag is provided to the publisher in response to the request. The publisher may then include the data collection tag with a resource. For example, the data collection tag may include a snippet of code that the publisher can copy and paste into the code of the resource. The publisher may then make the resource available for users to download, e.g., from a website.
At block 308, the resource that has the data collection tag is received for presentation at a user device. For example, a user may request the resource from the website that publishes the resource. In response, the resource may be provided to the user device for display. In another example, the resource may be a landing page for an advertisement. The user device may send a request for the landing page in response to the user selecting an advertisement that links to the landing page.
At block 310, the data collection tag included with the resource causes the user device to process particular portions of the resource. For example, the data collection tag may include instructions for collecting content from particular structural areas of web pages, such as content located between pairs of particular markup tags, e.g., pairs of title tags. In this example, the instructions of the data collection tag cause the user device to evaluate the DOM of the web page to determine whether the DOM includes a pair of title tags.
The data collection tag may also include instructions for collecting content located in particular data layers of a resource. For example, the data collection tag may include instructions for evaluating a script data layer to identify data sets and other content in the data layer. In another example, the data collection tag may include instructions for evaluating a programming language environment of the resource to identify functions, execute the functions, and collect data regarding the functions, e.g., the results of the functions.
At block 312, content located in the particular portions of the resource are identified for collection. For example, the user device may identify the text contained between a pair of title tags that were identified at block 310. The data collection tag may also include instructions for identifying any op-out controls included in the resource. If an opt-out control is identified in the resource, the user device may not collect data from structural areas specified by the opt-out control. For example, if the opt-out control specifies that image captions should not be collected, then the user device may not collect data contained in image caption tags in the resource even if the data collection tag is configured to collect image caption tags.
The data collection tag may also include instructions for identifying other data related to the resource view. For example, the data collection tag may include instructions for identifying an identifier for the user device, an identifier for a user associated with the user device cookie stored on the user device, a URL for the resource, an identifier for the publisher of the resource, and/or a cookie. In some implementations, the identifier for the user device and/or for a user associated with the user device may be obtained from the cookie. For example, the data collection tag may include instructions for obtaining the identifiers from the cookie.
In some implementations, the data collection tag can also include instructions for analyzing identified content to select content to provide to the content management system 120. For example, the instructions may cause the user device to identify keywords (e.g., one or more terms) that occur most often in the resource. The instructions may also cause the user device to remove certain stop words from content to be sent to the content management system 120 to reduce the amount of content being sent from the user device to the content management system 120.
At block 314, a resource view data is generated for the resource view. In some implementations, a URL is generated that includes the resource view data. The URL may include a URL path for a server of the content management system 120 and one or more parameters. The parameters can include at least a portion of the content identified in the structural areas of the resource and/or other data related to the resource view. In some implementations, the user device on which the resource is presented generates the URL based on instructions of the data collection tag. For example, the instructions may cause the user device to generate parameters, e.g., key-value pairs, for at least a portion of the identified content and data and generate a query string for the URL using the parameters.
In some implementations, the amount of data that can be included in a URL (or in another type of message) may be limited, e.g., to some threshold amount of data. If the amount of content and data identified for the resource view exceeds this threshold data limit, some of the data may be truncated or excluded. For example, the data collection tag may include instructions for generating the query string for the URL based on priority. In this example, particular types of data, e.g., data located in particular structural areas of the resource, may be associated with a respective priority score. The data collection tag may cause the user device to generate the URL by concatenating portions of the content to the query string in order based on priority until the data limit is reached. For example, the parameter that corresponds to the highest priority data type may be added first.
The data collection tag may also include instructions for truncating content based on a character limit for the type of content or based on an overall character limit for all types of content. For example, the instructions may cause the user device to identify up to the first 50 characters in each structural area for sending to the content management system. Characters in excess of 50 may be excluded from the URL.
The data collection tag may include instructions for summarizing content, for example, in response to the content exceeding the threshold amount of data or exceeding a character limit. For example, the instructions may cause the user device to execute a text summarization technique that condenses a group of content, e.g., a paragraph, into a summary. The summary may include keywords identified in a paragraph.
The data collection tag may include instructions for compressing and/or truncating the content based on priority scores for the content. For example, the instructions may cause the user device to compress or truncate the content in such a way to maximize a scoring heuristic to capture value of content versus data transmission or collection costs. Consider, for example, that the URL has a maximum data limit of 100 bytes and the data collection tag has identified two portions of content, content A and content B. Also, consider that content A and content B each includes 250 bytes of data, but content A has a higher priority value that content B. In this example, the data collection tag may cause the user device to condense content A into 75 bytes (e.g., by summarizing or truncating) and condense content B into 25 bytes (e.g., by summarizing or truncating).
In some implementations, the content and data being included in the URL may be compressed prior to generating the URL. For example, a compression technique tuned for character strings may be used to compress each portion of content. The compression technique may be included in the data collection tag.
The resource view data can be included in other appropriate types of network communication messages. For example, an e-mail message may be generated to include the resource view data. The e-mail message may include similar data as the URL, as described above.
At block 316, the resource view data is sent, e.g., to the content management system 120. Continuing the URL example from above, parameters of the URL may be sent using the URL. For example, the URL path may be used to initiate an HTTP request message to a server associated with the URL path. The message may include the parameters of the URL. The server can receive the message and store the parameters, for example, in resource view data 128.
In some implementations, the data collection tag may cause the user device to send the URL parameters to the content management system using a pixel fire technique. For example, the instructions of the data collection tag may cause a web browser executing on the user device to generate, in the resource, a new image tag that includes the URL. The image tag may then cause the web browser to send the parameters to the URL.
The content and data may be collected and sent to the content management system 120 after the resource is rendered at the user device. In this way, no additional page rendering latency may be added due to the data collection.
Although the process 300 has been described largely in terms of collecting data from a web page resource, data collection tags can also be used to collect data from applications, such as apps for portable devices. For example, a data collection tag may include instructions for evaluating screen views using a client-side software development kit (SDK). The content collected may include content presented in the screen view, e.g., text presented by the app. The instructions of the data collection tag may specify particular types of content to collect, such as product names and prices or the level being played on a game. The data collection tag can send the collected data to the content management system using a path identifier or an e-mail message.
The memory 420 stores information within the system 400. In one implementation, the memory 420 is a computer-readable medium. In one implementation, the memory 420 is a volatile memory unit. In another implementation, the memory 420 is a non-volatile memory unit.
The storage device 430 is capable of providing mass storage for the system 400. In one implementation, the storage device 430 is a computer-readable medium. In various different implementations, the storage device 430 can include, for example, a hard disk device, an optical disk device, a storage device that is shared over a network by multiple computing devices (e.g., a cloud storage device), or some other large capacity storage device.
The input/output device 440 provides input/output operations for the system 400. In one implementation, the input/output device 440 can include one or more of a network interface device, e.g., an Ethernet card, a serial communication device, e.g., an RS-232 port, and/or a wireless interface device, e.g., an 802.11 card. In another implementation, the input/output device can include driver devices configured to receive input data and send output data to other input/output devices, e.g., keyboard, printer and display devices 460. Other implementations, however, can also be used, such as mobile computing devices, mobile communication devices, set-top box television client devices, etc.
Although an example processing system has been described in FIG. 4 , implementations of the subject matter and the functional operations described in this specification can be implemented in other types of digital electronic circuitry, or in computer software, firmware, or hardware, including the structures disclosed in this specification and their structural equivalents, or in combinations of one or more of them.
Embodiments of the subject matter and the operations described in this specification can be implemented in digital electronic circuitry, or in computer software, firmware, or hardware, including the structures disclosed in this specification and their structural equivalents, or in combinations of one or more of them. Embodiments of the subject matter described in this specification can be implemented as one or more computer programs, i.e., one or more modules of computer program instructions, encoded on computer storage medium for execution by, or to control the operation of, data processing apparatus. Alternatively or in addition, the program instructions can be encoded on an artificially-generated propagated signal, e.g., a machine-generated electrical, optical, or electromagnetic signal, that is generated to encode information for transmission to suitable receiver apparatus for execution by a data processing apparatus. A computer storage medium can be, or be included in, a computer-readable storage device, a computer-readable storage substrate, a random or serial access memory array or device, or a combination of one or more of them. Moreover, while a computer storage medium is not a propagated signal, a computer storage medium can be a source or destination of computer program instructions encoded in an artificially-generated propagated signal. The computer storage medium can also be, or be included in, one or more separate physical components or media (e.g., multiple CDs, disks, or other storage devices).
The operations described in this specification can be implemented as operations performed by a data processing apparatus on data stored on one or more computer-readable storage devices or received from other sources.
The term “data processing apparatus” encompasses all kinds of apparatus, devices, and machines for processing data, including by way of example a programmable processor, a computer, a system on a chip, or multiple ones, or combinations, of the foregoing The apparatus can include special purpose logic circuitry, e.g., an FPGA (field programmable gate array) or an ASIC (application-specific integrated circuit). The apparatus can also include, in addition to hardware, code that creates an execution environment for the computer program in question, e.g., code that constitutes processor firmware, a protocol stack, a database management system, an operating system, a cross-platform runtime environment, a virtual machine, or a combination of one or more of them. The apparatus and execution environment can realize various different computing model infrastructures, such as web services, distributed computing and grid computing infrastructures.
A computer program (also known as a program, software, software application, script, or code) can be written in any form of programming language, including compiled or interpreted languages, declarative or procedural languages, and it can be deployed in any form, including as a stand-alone program or as a module, component, subroutine, object, or other unit suitable for use in a computing environment. A computer program may, but need not, correspond to a file in a file system. A program can be stored in a portion of a file that holds other programs or data (e.g., one or more scripts stored in a markup language document), in a single file dedicated to the program in question, or in multiple coordinated files (e.g., files that store one or more modules, sub-programs, or portions of code). A computer program can be deployed to be executed on one computer or on multiple computers that are located at one site or distributed across multiple sites and interconnected by a communication network.
The processes and logic flows described in this specification can be performed by one or more programmable processors executing one or more computer programs to perform actions by operating on input data and generating output. The processes and logic flows can also be performed by, and apparatus can also be implemented as, special purpose logic circuitry, e.g., an FPGA (field programmable gate array) or an ASIC (application-specific integrated circuit).
Processors suitable for the execution of a computer program include, by way of example, both general and special purpose microprocessors, and any one or more processors of any kind of digital computer. Generally, a processor will receive instructions and data from a read-only memory or a random access memory or both. The essential elements of a computer are a processor for performing actions in accordance with instructions and one or more memory devices for storing instructions and data. Generally, a computer will also include, or be operatively coupled to receive data from or transfer data to, or both, one or more mass storage devices for storing data, e.g., magnetic, magneto-optical disks, or optical disks. However, a computer need not have such devices. Moreover, a computer can be embedded in another device, e.g., a mobile telephone, a personal digital assistant (PDA), a mobile audio or video player, a game console, a Global Positioning System (GPS) receiver, or a portable storage device (e.g., a universal serial bus (USB) flash drive), to name just a few. Devices suitable for storing computer program instructions and data include all forms of non-volatile memory, media and memory devices, including by way of example semiconductor memory devices, e.g., EPROM, EEPROM, and flash memory devices; magnetic disks, e.g., internal hard disks or removable disks; magneto-optical disks; and CD-ROM and DVD-ROM disks. The processor and the memory can be supplemented by, or incorporated in, special purpose logic circuitry.
To provide for interaction with a user, embodiments of the subject matter described in this specification can be implemented on a computer having a display device, e.g., a CRT (cathode ray tube) or LCD (liquid crystal display) monitor, for displaying information to the user and a keyboard and a pointing device, e.g., a mouse or a trackball, by which the user can provide input to the computer. Other kinds of devices can be used to provide for interaction with a user as well; for example, feedback provided to the user can be any form of sensory feedback, e.g., visual feedback, auditory feedback, or tactile feedback; and input from the user can be received in any form, including acoustic, speech, or tactile input. In addition, a computer can interact with a user by sending documents to and receiving documents from a device that is used by the user; for example, by sending web pages to a web browser on a user's client device in response to requests received from the web browser.
Embodiments of the subject matter described in this specification can be implemented in a computing system that includes a back-end component, e.g., as a data server, or that includes a middleware component, e.g., an application server, or that includes a front-end component, e.g., a client computer having a graphical user interface or a Web browser through which a user can interact with an implementation of the subject matter described in this specification, or any combination of one or more such back-end, middleware, or front-end components. The components of the system can be interconnected by any form or medium of digital data communication, e.g., a communication network. Examples of communication networks include a local area network (“LAN”) and a wide area network (“WAN”), an inter-network (e.g., the Internet), and peer-to-peer networks (e.g., ad hoc peer-to-peer networks).
The computing system can include clients and servers. A client and server are generally remote from each other and typically interact through a communication network. The relationship of client and server arises by virtue of computer programs running on the respective computers and having a client-server relationship to each other. In some embodiments, a server transmits data (e.g., an HTML page) to a client device (e.g., for purposes of displaying data to and receiving user input from a user interacting with the client device). Data generated at the client device (e.g., a result of the user interaction) can be received from the client device at the server.
While this specification contains many specific implementation details, these should not be construed as limitations on the scope of any inventions or of what may be claimed, but rather as descriptions of features specific to particular embodiments of particular inventions. Certain features that are described in this specification in the context of separate embodiments can also be implemented in combination in a single embodiment. Conversely, various features that are described in the context of a single embodiment can also be implemented in multiple embodiments separately or in any suitable subcombination. Moreover, although features may be described above as acting in certain combinations and even initially claimed as such, one or more features from a claimed combination can in some cases be excised from the combination, and the claimed combination may be directed to a subcombination or variation of a subcombination.
Similarly, while operations are depicted in the drawings in a particular order, this should not be understood as requiring that such operations be performed in the particular order shown or in sequential order, or that all illustrated operations be performed, to achieve desirable results. In certain circumstances, multitasking and parallel processing may be advantageous. Moreover, the separation of various system components in the embodiments described above should not be understood as requiring such separation in all embodiments, and it should be understood that the described program components and systems can generally be integrated together in a single software product or packaged into multiple software products.
Thus, particular embodiments of the subject matter have been described. Other embodiments are within the scope of the following claims. In some cases, the actions recited in the claims can be performed in a different order and still achieve desirable results. In addition, the processes depicted in the accompanying figures do not necessarily require the particular order shown, or sequential order, to achieve desirable results. In certain implementations, multitasking and parallel processing may be advantageous.
Claims (20)
1. A method performed by data processing apparatus, the method comprising:
generating a data collection script that, upon execution, cause an application executing at a client device to perform operations comprising:
identifying, by the client device and within layer of a structured resource provided by a publisher, one or more attributes of one or more items presented within the structured resource while the structured resource is presented by the application at the client device, wherein the structured resource has multiple layers;
generating, by the client device, resource view data that includes parameters (i) identifying the client device and (ii) the one or more attributes of the one or more items identified in the layer while the structured resource was presented at the client device;
appending, by the client device and to a uniform resource locator (URL) of a remote server, at least one key-value pair specifying the one or more attributes of the one or more items that were identified in the layer while the structured resource was presented by the application at the client device; and
sending, by the client device and over a network, the key-value pair to the remote server using the URL that includes the appended at least one key-value pair; and
providing the data collection script to the publisher for inclusion in one or more structured resources provided by the publisher.
2. The method of claim 1 , further comprising:
performing the identifying, generating, appending, and sending based on the execution, by a user device, of the instructions included in the data collection script.
3. The method of claim 2 , wherein:
generating the resource view data comprises generating a URL that includes the parameters; and
sending the key-value pair to the remote server includes sending the key-value pair to the remote server using the generated URL.
4. The method of claim 1 , further comprising:
determining that a data size for the URL exceeds a maximum data size; and
in response to determining that the data size for the URL exceeds the maximum data size, performing at least one of: (a) compressing at least a portion of the one or more attributes of the one or more items; (b) truncating characters of at least a portion of the one or more attributes of the one or more items; or (c) summarizing at least a portion of the one or more attributes of the one or more items using a text summarization technique.
5. The method of claim 1 , wherein appending at least one key-value pair to the URL comprises concatenating portions of the one or more attributes of the one or more items to the URL based on priority values of each of the one or more attributes of the one or more items until a maximum data size for the URL is reached.
6. The method of claim 5 , wherein generating the resource view data comprises condensing the one or more attributes of the one or more items based on the priority value of each of the one or more attributes of the one or more items.
7. The method of claim 1 , further comprising:
identifying an opt-out control of the resource, the opt-out control specifying at least one portion of the structured resource at which content should not be sent to the server; and
determining to not include content located at the at least one portion of the structured resource in the parameters based on the identified opt-out control.
8. A system comprising:
a data processing apparatus; and
a memory storage apparatus in data communication with the data processing apparatus, the memory storage apparatus storing instructions executable by the data processing apparatus and that upon such execution cause the data processing apparatus to perform operations comprising:
generating a data collection script that, upon execution, cause an application executing at a client device to perform operations comprising:
identifying, by the client device and within layer of a structured resource provided by a publisher, one or more attributes of one or more items presented within the structured resource while the structured resource is presented by the application at the client device, wherein the structured resource has multiple layers;
generating, by the client device, resource view data that includes parameters (i) identifying the client device and (ii) the one or more attributes of the one or more items identified in the layer while the structured resource was presented at the client device;
appending, by the client device and to a uniform resource locator (URL) of a remote server, at least one key-value pair specifying the one or more attributes of the one or more items that were identified in the layer while the structured resource was presented by the application at the client device; and
sending, by the client device and over a network, the key-value pair to the remote server using the URL that includes the appended at least one key-value pair; and providing the data collection script to the publisher for inclusion in one or more structured resources provided by the publisher.
9. The system of claim 8 , wherein the instructions cause the data processing apparatus to perform operations further comprising:
performing the identifying, generating, appending, and sending based on the execution, by a user device, of the instructions included in the data collection script.
10. The system of claim 9 , wherein:
generating the resource view data comprises generating a URL that includes the parameters; and
sending the key-value pair to the remote server includes sending the key-value pair to the remote server using the generated URL.
11. The system of claim 8 , wherein the instructions cause the data processing apparatus to perform operations further comprising:
determining that a data size for the URL exceeds a maximum data size; and
in response to determining that the data size for the URL exceeds the maximum data size, performing at least one of: (a) compressing at least a portion of the one or more attributes of the one or more items; (b) truncating characters of at least a portion of the one or more attributes of the one or more items; or (c) summarizing at least a portion of the one or more attributes of the one or more items using a text summarization technique.
12. The system of claim 8 , wherein appending at least one key-value pair to the URL comprises concatenating portions of the one or more attributes of the one or more items to the URL based on priority values of each of the one or more attributes of the one or more items until a maximum data size for the URL is reached.
13. The system of claim 12 , wherein generating the resource view data comprises condensing the one or more attributes of the one or more items based on the priority value of each of the one or more attributes of the one or more items.
14. The system of claim 8 , wherein the instructions cause the data processing apparatus to perform operations further comprising:
identifying an opt-out control of the resource, the opt-out control specifying at least one portion of the structured resource at which content should not be sent to the server; and
determining to not include content located at the at least one portion of the structured resource in the parameters based on the identified opt-out control.
15. A non-transitory computer storage medium encoded with a computer program, the program comprising instructions that when executed by data processing apparatus cause the data processing apparatus to perform operations comprising:
generating a data collection script that, upon execution, cause an application executing at a client device to perform operations comprising:
identifying, by the client device and within layer of a structured resource provided by a publisher, one or more attributes of one or more items presented within the structured resource while the structured resource is presented by the application at the client device, wherein the structured resource has multiple layers;
generating, by the client device, resource view data that includes parameters (i) identifying the client device and (ii) the one or more attributes of the one or more items identified in the layer while the structured resource was presented at the client device;
appending, by the client device and to a uniform resource locator (URL) of a remote server, at least one key-value pair specifying the one or more attributes of the one or more items that were identified in the layer while the structured resource was presented by the application at the client device; and
sending, by the client device and over a network, the key-value pair to the remote server using the URL that includes the appended at least one key-value pair; and providing the data collection script to the publisher for inclusion in one or more structured resources provided by the publisher.
16. The non-transitory computer storage medium of claim 15 , wherein the instructions cause the data processing apparatus to perform operations further comprising:
performing the identifying, generating, appending, and sending based on the execution, by a user device, of the instructions included in the data collection script.
17. The non-transitory computer storage medium of claim 16 , wherein:
generating the resource view data comprises generating a URL that includes the parameters; and
sending the key-value pair to the remote server includes sending the key-value pair to the remote server using the generated URL.
18. The non-transitory computer storage medium of claim 15 , wherein the instructions cause the data processing apparatus to perform operations further comprising:
determining that a data size for the URL exceeds a maximum data size; and
in response to determining that the data size for the URL exceeds the maximum data size, performing at least one of: (a) compressing at least a portion of the one or more attributes of the one or more items; (b) truncating characters of at least a portion of the one or more attributes of the one or more items; or (c) summarizing at least a portion of the one or more attributes of the one or more items using a text summarization technique.
19. The non-transitory computer storage medium of claim 15 , wherein appending at least one key-value pair to the URL comprises concatenating portions of the one or more attributes of the one or more items to the URL based on priority values of each of the one or more attributes of the one or more items until a maximum data size for the URL is reached.
20. The non-transitory computer storage medium of claim 19 , wherein generating the resource view data comprises condensing the one or more attributes of the one or more items based on the priority value of each of the one or more attributes of the one or more items.
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US17/399,886 US11768904B1 (en) | 2014-05-08 | 2021-08-11 | Resource view data collection |
Applications Claiming Priority (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US14/273,136 US10282479B1 (en) | 2014-05-08 | 2014-05-08 | Resource view data collection |
US16/378,007 US11120094B1 (en) | 2014-05-08 | 2019-04-08 | Resource view data collection |
US17/399,886 US11768904B1 (en) | 2014-05-08 | 2021-08-11 | Resource view data collection |
Related Parent Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US16/378,007 Continuation US11120094B1 (en) | 2014-05-08 | 2019-04-08 | Resource view data collection |
Publications (1)
Publication Number | Publication Date |
---|---|
US11768904B1 true US11768904B1 (en) | 2023-09-26 |
Family
ID=66333785
Family Applications (3)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US14/273,136 Active 2034-09-25 US10282479B1 (en) | 2014-05-08 | 2014-05-08 | Resource view data collection |
US16/378,007 Active 2035-01-04 US11120094B1 (en) | 2014-05-08 | 2019-04-08 | Resource view data collection |
US17/399,886 Active 2034-08-01 US11768904B1 (en) | 2014-05-08 | 2021-08-11 | Resource view data collection |
Family Applications Before (2)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US14/273,136 Active 2034-09-25 US10282479B1 (en) | 2014-05-08 | 2014-05-08 | Resource view data collection |
US16/378,007 Active 2035-01-04 US11120094B1 (en) | 2014-05-08 | 2019-04-08 | Resource view data collection |
Country Status (1)
Country | Link |
---|---|
US (3) | US10282479B1 (en) |
Cited By (1)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US11936809B1 (en) * | 2014-07-07 | 2024-03-19 | Ultratec, Inc. | Dual compatibility phone system |
Families Citing this family (6)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20180211291A1 (en) * | 2017-01-25 | 2018-07-26 | Criteo Sa | Generating Dynamic Computer Data Structures for Automatic Adjustment of Bids for Online Advertisements |
AU2020325220A1 (en) * | 2019-08-06 | 2022-03-03 | FullStory, Inc. | Protecting user privacy in user interface data collection |
CN112989231A (en) * | 2019-12-02 | 2021-06-18 | 北京搜狗科技发展有限公司 | Information display method and device and electronic equipment |
US11121883B1 (en) * | 2020-03-18 | 2021-09-14 | FullStory, Inc. | Protecting user privacy in playback of user sessions |
CN113656713B (en) * | 2021-08-23 | 2023-07-21 | 北京奇艺世纪科技有限公司 | Network resource processing method, device and system |
CN113590988B (en) * | 2021-10-08 | 2021-12-14 | 中航信移动科技有限公司 | Network data acquisition system |
Citations (52)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
WO2002021291A1 (en) | 2000-09-08 | 2002-03-14 | Sedghi Ali R | Method and apparatus for extracting structured data from html pages |
US6466970B1 (en) | 1999-01-27 | 2002-10-15 | International Business Machines Corporation | System and method for collecting and analyzing information about content requested in a network (World Wide Web) environment |
US20050273706A1 (en) | 2000-08-24 | 2005-12-08 | Yahoo! Inc. | Systems and methods for identifying and extracting data from HTML pages |
US20070198727A1 (en) | 2005-10-20 | 2007-08-23 | Tao Guan | Method, apparatus and system for extracting field-specific structured data from the web using sample |
US20080040224A1 (en) | 2005-02-07 | 2008-02-14 | Robert Roker | Method and system to aggregate data in a network |
US20080075062A1 (en) | 2006-07-21 | 2008-03-27 | Tim Neil | Compression of Data Transmitted Between Server and Mobile Device |
US20080098300A1 (en) | 2006-10-24 | 2008-04-24 | Brilliant Shopper, Inc. | Method and system for extracting information from web pages |
US20080141161A1 (en) | 2006-12-11 | 2008-06-12 | Raven Mary E | Dynamic tab control resizing in a user interface |
US20090172551A1 (en) | 2007-12-28 | 2009-07-02 | Kane Francis J | Behavior-based selection of items to present on affiliate sites |
US20090271514A1 (en) | 1999-06-03 | 2009-10-29 | Yahoo! Inc. | System and method for monitoring user interaction with web pages |
US20100030763A1 (en) | 2008-07-29 | 2010-02-04 | Yahoo! Inc. | Building a research document based on implicit/explicit actions |
US20100042495A1 (en) | 2008-08-14 | 2010-02-18 | Yield Software, Inc. | Method and System for Internet Advertising Administration Using a Unified User Interface |
US20110125593A1 (en) | 2007-08-30 | 2011-05-26 | Channel Intelligence, Inc. | Online marketing payment monitoring method and system |
US20110173071A1 (en) * | 2010-01-06 | 2011-07-14 | Meyer Scott B | Managing and monitoring digital advertising |
US20110219295A1 (en) * | 2010-03-04 | 2011-09-08 | Chris Adams | Method and system of optimizing a web page for search engines |
US8041695B2 (en) | 2008-04-18 | 2011-10-18 | The Boeing Company | Automatically extracting data from semi-structured documents |
US20110289317A1 (en) | 2010-05-20 | 2011-11-24 | Verizon Patent And Licensing Inc. | Method and apparatus for providing content aggregation in support of virtual channels |
US20110314092A1 (en) | 2010-06-16 | 2011-12-22 | Lunt Eric M | Unified collection and distribution of data |
US20120010995A1 (en) | 2008-10-23 | 2012-01-12 | Savnor Technologies | Web content capturing, packaging, distribution |
US20120016897A1 (en) | 2010-07-16 | 2012-01-19 | Altruik, Inc. | System and method for improving webpage indexing and optimization |
US20120030560A1 (en) | 2010-07-29 | 2012-02-02 | Fujifilm Corporation | Website browsing system, server, recording medium, and website browse assisting method |
US20120046996A1 (en) | 2010-08-17 | 2012-02-23 | Vishal Shah | Unified data management platform |
US20120150831A1 (en) | 2010-12-09 | 2012-06-14 | Microsoft Corporation | Updating a search index using reported browser history data |
US20120166520A1 (en) | 2010-12-22 | 2012-06-28 | Robert Taaffe Lindsay | Determining Advertising Effectiveness Outside of a Social Networking System |
US8255526B2 (en) | 2008-12-10 | 2012-08-28 | Sitecore A/S | Method for collecting human experience analytics data |
US20120221404A1 (en) | 2011-02-25 | 2012-08-30 | Nokia Corporation | Method and apparatus for providing an advertising platform |
US20120284290A1 (en) | 2011-04-11 | 2012-11-08 | Jonathan Keebler | System and Method for Syndicating Dynamic Content for Online Publication |
US20130024758A1 (en) | 2011-07-22 | 2013-01-24 | Google Inc. | Linking Content Files |
US20130041653A1 (en) | 2011-08-12 | 2013-02-14 | Erick Tseng | Coefficients Attribution for Different Objects Based on Natural Language Processing |
US20130044106A1 (en) | 2011-08-18 | 2013-02-21 | Brian Shuster | Systems and methods of object processing in virtual worlds |
US20130073401A1 (en) * | 2011-09-20 | 2013-03-21 | TagMan Inc. | System and method for loading of web page assets |
US20130110637A1 (en) | 2011-11-02 | 2013-05-02 | Ross Bott | Strategically timed delivery of advertisements or electronic coupons to a mobile device in a mobile network |
US20130166634A1 (en) | 2011-12-23 | 2013-06-27 | Akamai Technologies Inc. | Assessment of content delivery services using performance measurements from within an end user client application |
US20130179791A1 (en) | 2011-12-16 | 2013-07-11 | Webotics Inc. | System and method for real-time data in a graphical user interface |
US20130191723A1 (en) | 2012-01-05 | 2013-07-25 | Derek Edwin Pappas | Web Browser Device for Structured Data Extraction and Sharing via a Social Network |
US20130204694A1 (en) | 2012-02-07 | 2013-08-08 | Sayso, Llc | Context-Based Study Generation and Administration |
US20130204450A1 (en) | 2011-10-04 | 2013-08-08 | Electro Industries/Gauge Tech | Systems and methods for collecting, analyzing, billing, and reporting data from intelligent electronic devices |
US20130268490A1 (en) | 2012-04-04 | 2013-10-10 | Scribble Technologies Inc. | System and Method for Generating Digital Content |
US20130275433A1 (en) | 2011-01-13 | 2013-10-17 | Mitsubishi Electric Corporation | Classification rule generation device, classification rule generation method, classification rule generation program, and recording medium |
US20130290821A1 (en) * | 2012-04-30 | 2013-10-31 | Thinmail, Inc. | Methods and Systems for Generating Shortened Uniform Resource Locators Including Resource Type Identifiers |
US20130318157A1 (en) | 2012-05-26 | 2013-11-28 | David Harrison | Relevancy improvement through targeting of information based on data gathered from a networked device associated with a security sandbox of a client device |
US20130332869A1 (en) | 2012-06-06 | 2013-12-12 | Ken Ferry | Graphical user interface layout |
US20130339139A1 (en) | 2012-01-18 | 2013-12-19 | High Impact Media Llc | System and method for nonstandard creative content auctioning |
US20140040786A1 (en) * | 2012-08-01 | 2014-02-06 | KeyMetric, Inc. | Automatic tracking of user engagement with computing interfaces |
US20140046985A1 (en) | 2012-08-09 | 2014-02-13 | Alain Gauthier | Storing hierarchical table as a markup language file |
US20140068411A1 (en) | 2012-08-31 | 2014-03-06 | Scott Ross | Methods and apparatus to monitor usage of internet advertising networks |
US20140081680A1 (en) | 2012-08-08 | 2014-03-20 | Mastercard International Incorporated | Methods and systems for evaluating technology assets using data sets to generate evaluation outputs |
US20140110468A1 (en) | 2012-10-23 | 2014-04-24 | Anil Kandregula | Methods and apparatus to identify usage of quick response codes |
US20140123033A1 (en) | 2011-02-11 | 2014-05-01 | Goinstant, Inc. | Systems, methods, and apparatuses for implementing a shared session server to enable multiple browser clients to simultaneously view and interact with common web content in a shared browsing session |
US20140122220A1 (en) | 2012-08-31 | 2014-05-01 | Augme Technologies, Inc. | Apparatuses, methods and systems for measuring, and following up on user preferences among offer types and response options in a marketing campaign |
US20140120864A1 (en) | 2012-03-29 | 2014-05-01 | Velti Mobile Platforms Limited | Cross-Channel User Tracking Systems, Methods and Devices |
US20140122255A1 (en) | 2012-10-25 | 2014-05-01 | Matthew Snyder | Story-based, multi-screen advertising framework |
Family Cites Families (1)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20140040026A1 (en) * | 2012-05-04 | 2014-02-06 | Adobe Systems Incorporated | Systems and methods for including advertisements in streaming content |
-
2014
- 2014-05-08 US US14/273,136 patent/US10282479B1/en active Active
-
2019
- 2019-04-08 US US16/378,007 patent/US11120094B1/en active Active
-
2021
- 2021-08-11 US US17/399,886 patent/US11768904B1/en active Active
Patent Citations (52)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6466970B1 (en) | 1999-01-27 | 2002-10-15 | International Business Machines Corporation | System and method for collecting and analyzing information about content requested in a network (World Wide Web) environment |
US20090271514A1 (en) | 1999-06-03 | 2009-10-29 | Yahoo! Inc. | System and method for monitoring user interaction with web pages |
US20050273706A1 (en) | 2000-08-24 | 2005-12-08 | Yahoo! Inc. | Systems and methods for identifying and extracting data from HTML pages |
WO2002021291A1 (en) | 2000-09-08 | 2002-03-14 | Sedghi Ali R | Method and apparatus for extracting structured data from html pages |
US20080040224A1 (en) | 2005-02-07 | 2008-02-14 | Robert Roker | Method and system to aggregate data in a network |
US20070198727A1 (en) | 2005-10-20 | 2007-08-23 | Tao Guan | Method, apparatus and system for extracting field-specific structured data from the web using sample |
US20080075062A1 (en) | 2006-07-21 | 2008-03-27 | Tim Neil | Compression of Data Transmitted Between Server and Mobile Device |
US20080098300A1 (en) | 2006-10-24 | 2008-04-24 | Brilliant Shopper, Inc. | Method and system for extracting information from web pages |
US20080141161A1 (en) | 2006-12-11 | 2008-06-12 | Raven Mary E | Dynamic tab control resizing in a user interface |
US20110125593A1 (en) | 2007-08-30 | 2011-05-26 | Channel Intelligence, Inc. | Online marketing payment monitoring method and system |
US20090172551A1 (en) | 2007-12-28 | 2009-07-02 | Kane Francis J | Behavior-based selection of items to present on affiliate sites |
US8041695B2 (en) | 2008-04-18 | 2011-10-18 | The Boeing Company | Automatically extracting data from semi-structured documents |
US20100030763A1 (en) | 2008-07-29 | 2010-02-04 | Yahoo! Inc. | Building a research document based on implicit/explicit actions |
US20100042495A1 (en) | 2008-08-14 | 2010-02-18 | Yield Software, Inc. | Method and System for Internet Advertising Administration Using a Unified User Interface |
US20120010995A1 (en) | 2008-10-23 | 2012-01-12 | Savnor Technologies | Web content capturing, packaging, distribution |
US8255526B2 (en) | 2008-12-10 | 2012-08-28 | Sitecore A/S | Method for collecting human experience analytics data |
US20110173071A1 (en) * | 2010-01-06 | 2011-07-14 | Meyer Scott B | Managing and monitoring digital advertising |
US20110219295A1 (en) * | 2010-03-04 | 2011-09-08 | Chris Adams | Method and system of optimizing a web page for search engines |
US20110289317A1 (en) | 2010-05-20 | 2011-11-24 | Verizon Patent And Licensing Inc. | Method and apparatus for providing content aggregation in support of virtual channels |
US20110314092A1 (en) | 2010-06-16 | 2011-12-22 | Lunt Eric M | Unified collection and distribution of data |
US20120016897A1 (en) | 2010-07-16 | 2012-01-19 | Altruik, Inc. | System and method for improving webpage indexing and optimization |
US20120030560A1 (en) | 2010-07-29 | 2012-02-02 | Fujifilm Corporation | Website browsing system, server, recording medium, and website browse assisting method |
US20120046996A1 (en) | 2010-08-17 | 2012-02-23 | Vishal Shah | Unified data management platform |
US20120150831A1 (en) | 2010-12-09 | 2012-06-14 | Microsoft Corporation | Updating a search index using reported browser history data |
US20120166520A1 (en) | 2010-12-22 | 2012-06-28 | Robert Taaffe Lindsay | Determining Advertising Effectiveness Outside of a Social Networking System |
US20130275433A1 (en) | 2011-01-13 | 2013-10-17 | Mitsubishi Electric Corporation | Classification rule generation device, classification rule generation method, classification rule generation program, and recording medium |
US20140123033A1 (en) | 2011-02-11 | 2014-05-01 | Goinstant, Inc. | Systems, methods, and apparatuses for implementing a shared session server to enable multiple browser clients to simultaneously view and interact with common web content in a shared browsing session |
US20120221404A1 (en) | 2011-02-25 | 2012-08-30 | Nokia Corporation | Method and apparatus for providing an advertising platform |
US20120284290A1 (en) | 2011-04-11 | 2012-11-08 | Jonathan Keebler | System and Method for Syndicating Dynamic Content for Online Publication |
US20130024758A1 (en) | 2011-07-22 | 2013-01-24 | Google Inc. | Linking Content Files |
US20130041653A1 (en) | 2011-08-12 | 2013-02-14 | Erick Tseng | Coefficients Attribution for Different Objects Based on Natural Language Processing |
US20130044106A1 (en) | 2011-08-18 | 2013-02-21 | Brian Shuster | Systems and methods of object processing in virtual worlds |
US20130073401A1 (en) * | 2011-09-20 | 2013-03-21 | TagMan Inc. | System and method for loading of web page assets |
US20130204450A1 (en) | 2011-10-04 | 2013-08-08 | Electro Industries/Gauge Tech | Systems and methods for collecting, analyzing, billing, and reporting data from intelligent electronic devices |
US20130110637A1 (en) | 2011-11-02 | 2013-05-02 | Ross Bott | Strategically timed delivery of advertisements or electronic coupons to a mobile device in a mobile network |
US20130179791A1 (en) | 2011-12-16 | 2013-07-11 | Webotics Inc. | System and method for real-time data in a graphical user interface |
US20130166634A1 (en) | 2011-12-23 | 2013-06-27 | Akamai Technologies Inc. | Assessment of content delivery services using performance measurements from within an end user client application |
US20130191723A1 (en) | 2012-01-05 | 2013-07-25 | Derek Edwin Pappas | Web Browser Device for Structured Data Extraction and Sharing via a Social Network |
US20130339139A1 (en) | 2012-01-18 | 2013-12-19 | High Impact Media Llc | System and method for nonstandard creative content auctioning |
US20130204694A1 (en) | 2012-02-07 | 2013-08-08 | Sayso, Llc | Context-Based Study Generation and Administration |
US20140120864A1 (en) | 2012-03-29 | 2014-05-01 | Velti Mobile Platforms Limited | Cross-Channel User Tracking Systems, Methods and Devices |
US20130268490A1 (en) | 2012-04-04 | 2013-10-10 | Scribble Technologies Inc. | System and Method for Generating Digital Content |
US20130290821A1 (en) * | 2012-04-30 | 2013-10-31 | Thinmail, Inc. | Methods and Systems for Generating Shortened Uniform Resource Locators Including Resource Type Identifiers |
US20130318157A1 (en) | 2012-05-26 | 2013-11-28 | David Harrison | Relevancy improvement through targeting of information based on data gathered from a networked device associated with a security sandbox of a client device |
US20130332869A1 (en) | 2012-06-06 | 2013-12-12 | Ken Ferry | Graphical user interface layout |
US20140040786A1 (en) * | 2012-08-01 | 2014-02-06 | KeyMetric, Inc. | Automatic tracking of user engagement with computing interfaces |
US20140081680A1 (en) | 2012-08-08 | 2014-03-20 | Mastercard International Incorporated | Methods and systems for evaluating technology assets using data sets to generate evaluation outputs |
US20140046985A1 (en) | 2012-08-09 | 2014-02-13 | Alain Gauthier | Storing hierarchical table as a markup language file |
US20140068411A1 (en) | 2012-08-31 | 2014-03-06 | Scott Ross | Methods and apparatus to monitor usage of internet advertising networks |
US20140122220A1 (en) | 2012-08-31 | 2014-05-01 | Augme Technologies, Inc. | Apparatuses, methods and systems for measuring, and following up on user preferences among offer types and response options in a marketing campaign |
US20140110468A1 (en) | 2012-10-23 | 2014-04-24 | Anil Kandregula | Methods and apparatus to identify usage of quick response codes |
US20140122255A1 (en) | 2012-10-25 | 2014-05-01 | Matthew Snyder | Story-based, multi-screen advertising framework |
Non-Patent Citations (1)
Title |
---|
Sullivan, [online] "Pixel Delivery Best Practices," Jan. 2013, retrieved on Jan. 9, 2013, retrieved from URL<http://www.admonsters.com/blog/pixel-delivery-best-practices>, 6 pages. |
Cited By (1)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US11936809B1 (en) * | 2014-07-07 | 2024-03-19 | Ultratec, Inc. | Dual compatibility phone system |
Also Published As
Publication number | Publication date |
---|---|
US10282479B1 (en) | 2019-05-07 |
US11120094B1 (en) | 2021-09-14 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US11768904B1 (en) | Resource view data collection | |
US10242120B1 (en) | Selecting a template for a content item | |
JP6334696B2 (en) | Hashtag and content presentation | |
US8893012B1 (en) | Visual indicator based on relative rating of content item | |
US11386180B2 (en) | Resource locator remarketing | |
US9836766B1 (en) | Customized landing pages | |
US10733665B2 (en) | Multiple interaction auction | |
JP5882454B2 (en) | Identify languages that are missing from the campaign | |
US20130124301A1 (en) | System and method for dynamic user feedback for display and context advertisements | |
US20150039418A1 (en) | Content item distribution based on user interactions | |
WO2012154419A1 (en) | Optimized display of ad landing page | |
US9298786B1 (en) | Deferred content presentation | |
US20170148052A1 (en) | Identification of installation conversion from online electronic resources | |
US10503466B1 (en) | Detecting content consumption | |
US11138368B1 (en) | Increasing comment visibility | |
US10997270B2 (en) | Optimized digital components | |
US10846738B1 (en) | Engaged view rate analysis | |
US20190279289A1 (en) | Content item distribution based on user interactions | |
US20160034945A1 (en) | Slice competitor impression penetration by user type and ad format |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
FEPP | Fee payment procedure |
Free format text: ENTITY STATUS SET TO UNDISCOUNTED (ORIGINAL EVENT CODE: BIG.); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |