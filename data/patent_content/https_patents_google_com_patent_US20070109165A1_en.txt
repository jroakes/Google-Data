US20070109165A1 - Digital saturation handling in integral noise shaping of pulse width modulation - Google Patents
Digital saturation handling in integral noise shaping of pulse width modulation Download PDFInfo
- Publication number
- US20070109165A1 US20070109165A1 US11/273,286 US27328605A US2007109165A1 US 20070109165 A1 US20070109165 A1 US 20070109165A1 US 27328605 A US27328605 A US 27328605A US 2007109165 A1 US2007109165 A1 US 2007109165A1
- Authority
- US
- United States
- Prior art keywords
- signal
- integrators
- duty ratio
- saturation function
- noise shaping
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Granted
Links
- 238000007493 shaping process Methods 0.000 title claims abstract description 53
- 230000000694 effects Effects 0.000 claims abstract description 9
- 238000000034 method Methods 0.000 claims description 13
- 238000005070 sampling Methods 0.000 claims description 13
- 230000003247 decreasing effect Effects 0.000 claims description 5
- 230000007423 decrease Effects 0.000 abstract 1
- 230000006870 function Effects 0.000 description 32
- 230000007704 transition Effects 0.000 description 5
- 238000012886 linear function Methods 0.000 description 4
- 230000015654 memory Effects 0.000 description 4
- 238000013139 quantization Methods 0.000 description 4
- 230000005236 sound signal Effects 0.000 description 4
- 230000003321 amplification Effects 0.000 description 3
- 238000003199 nucleic acid amplification method Methods 0.000 description 3
- 238000006243 chemical reaction Methods 0.000 description 2
- 230000001419 dependent effect Effects 0.000 description 2
- 238000010586 diagram Methods 0.000 description 2
- 238000012986 modification Methods 0.000 description 2
- 230000004048 modification Effects 0.000 description 2
- 230000000737 periodic effect Effects 0.000 description 2
- 230000008569 process Effects 0.000 description 2
- 230000000630 rising effect Effects 0.000 description 2
- 230000001052 transient effect Effects 0.000 description 2
- 238000013459 approach Methods 0.000 description 1
- 238000004891 communication Methods 0.000 description 1
- 238000013461 design Methods 0.000 description 1
- 230000003287 optical effect Effects 0.000 description 1
- 238000012545 processing Methods 0.000 description 1
- 230000009467 reduction Effects 0.000 description 1
- 229920006395 saturated elastomer Polymers 0.000 description 1
Images
Classifications
-
- H—ELECTRICITY
- H03—ELECTRONIC CIRCUITRY
- H03M—CODING; DECODING; CODE CONVERSION IN GENERAL
- H03M3/00—Conversion of analogue values to or from differential modulation
- H03M3/30—Delta-sigma modulation
- H03M3/322—Continuously compensating for, or preventing, undesired influence of physical parameters
- H03M3/358—Continuously compensating for, or preventing, undesired influence of physical parameters of non-linear distortion, e.g. instability
- H03M3/36—Continuously compensating for, or preventing, undesired influence of physical parameters of non-linear distortion, e.g. instability by temporarily adapting the operation upon detection of instability conditions
- H03M3/366—Continuously compensating for, or preventing, undesired influence of physical parameters of non-linear distortion, e.g. instability by temporarily adapting the operation upon detection of instability conditions in feed-forward mode, e.g. using look-ahead circuits
-
- H—ELECTRICITY
- H03—ELECTRONIC CIRCUITRY
- H03M—CODING; DECODING; CODE CONVERSION IN GENERAL
- H03M3/00—Conversion of analogue values to or from differential modulation
- H03M3/30—Delta-sigma modulation
- H03M3/39—Structural details of delta-sigma modulators, e.g. incremental delta-sigma modulators
- H03M3/412—Structural details of delta-sigma modulators, e.g. incremental delta-sigma modulators characterised by the number of quantisers and their type and resolution
- H03M3/422—Structural details of delta-sigma modulators, e.g. incremental delta-sigma modulators characterised by the number of quantisers and their type and resolution having one quantiser only
- H03M3/43—Structural details of delta-sigma modulators, e.g. incremental delta-sigma modulators characterised by the number of quantisers and their type and resolution having one quantiser only the quantiser being a single bit one
- H03M3/432—Structural details of delta-sigma modulators, e.g. incremental delta-sigma modulators characterised by the number of quantisers and their type and resolution having one quantiser only the quantiser being a single bit one the quantiser being a pulse width modulation type analogue/digital converter, i.e. differential pulse width modulation
-
- H—ELECTRICITY
- H03—ELECTRONIC CIRCUITRY
- H03M—CODING; DECODING; CODE CONVERSION IN GENERAL
- H03M3/00—Conversion of analogue values to or from differential modulation
- H03M3/30—Delta-sigma modulation
- H03M3/39—Structural details of delta-sigma modulators, e.g. incremental delta-sigma modulators
- H03M3/436—Structural details of delta-sigma modulators, e.g. incremental delta-sigma modulators characterised by the order of the loop filter, e.g. error feedback type
- H03M3/438—Structural details of delta-sigma modulators, e.g. incremental delta-sigma modulators characterised by the order of the loop filter, e.g. error feedback type the modulator having a higher order loop filter in the feedforward path
- H03M3/452—Structural details of delta-sigma modulators, e.g. incremental delta-sigma modulators characterised by the order of the loop filter, e.g. error feedback type the modulator having a higher order loop filter in the feedforward path with weighted feedforward summation, i.e. with feedforward paths from more than one filter stage to the quantiser input
Definitions
- the present application relates to noise shaping of a pulse width modulated signal. More specifically, the present application relates to saturation handling of a pulse width modulated signal.
- Switching amplifiers are used in various electronic components such as audio amplifiers.
- a switching amplifier consists of a network of switching elements that produces a square wave output and is connected to a load through a power stage.
- the switching amplifier typically uses pulse width modulation (PWM).
- PWM pulse width modulation
- the MOSFETs are switched either on or off, rather than operated in linear mode, to convert an input signal to a sequence of pulses (a PWM signal) whose averaged value is directly proportional to the amplitude of the input signal at that time.
- the frequency of the pulses is typically ten or more times the highest frequency of interest of the input signal.
- the switching amplifier is used in audio equipment, for example, when reproducing analog signals stored on a compact disc in a digital format.
- the PWM switching period is typically fixed.
- the ratio of the time that a PWM signal is high to the switching period is called the duty ratio.
- a digital PWM signal is defined by the switching period and the duty ratios.
- the PWM duty ratio is quantized, resulting in a signal-to-noise ratio that is reduced from that of the original signal.
- the quantized PWM signal introduces audible distortion and raises the noise level of the audible frequency band.
- noise shaping is used on the PWM signal to manipulate the signal to reduce the noise level and force the noise out of the audible range. Noise shaping uses a noise shaping loop within the digital processor.
- the desired output voltage exceeds the capability of the power supply and the power stage. During these times, the largest output power can be obtained by stopping switching of the MOSFETs and allowing the entire power supply across the load. However, large input signals can cause the noise shaping loop to become unstable.
- One approach to increase the stability is to artificially limit the amplitude of the input signal to a lower value, and thus the duty ratio of the PWM signal, before the noise shaping loop goes unstable.
- this reduces the peak power out of the amplifier due to both the reduction in duty ratio range and the relative inefficiency of the power stage when operated with a very high or low duty ratio.
- artifacts in the audio signal may be introduced by the transition from the switching mode to the saturation mode (and back) of the switching amplifier.
- a lookup table is used to provide the amplitude limitation, a large amount of memory (which is relatively expensive) is used, and the power consumption and size of the device is increased.
- FIG. 1 illustrates an amplifier according to one embodiment.
- FIG. 2 illustrates a noise shaping quantizer according to one embodiment.
- FIG. 3 is an S-domain graph of the poles of a gain function of the noise shaping quantizer according to one embodiment as the system moves into saturation.
- FIG. 4 is a graph of a quantized duty ratio when the input has an amplitude sufficient to drive the system into saturation according to one embodiment.
- FIG. 5 is a graph showing values from integrators in the noise shaping quantizer during normal operation and saturation according to one embodiment.
- FIG. 6 is a typical timing diagram illustrating the input and output signals as well as the sampling ramp signal.
- FIG. 7 is a typical curve of efficiency vs. duty ratio for a switching amplifier.
- a switching amplifier is presented that does not artificially limit the duty ratio of the output signal.
- the switching amplifier contains a digital signal processor (DSP) that includes an integrating error amplifier with a noise shaping quantizer using a saturation function.
- DSP digital signal processor
- the saturation function allows the noise shaping quantizer to use the same algorithm independent of whether the noise shaping quantizer is in normal switching mode or in saturation mode. That is, the saturation function allows the noise shaping quantizer to use the same algorithm independent of whether the input signal drives the amplifier into saturation.
- the switching amplifier can be applied to audio equipment, for example.
- the computation engine of the DSP is a single instruction, multiple data engine with no branching in the noise shaping loop. This method of saturation handling maintains a continuous loop as one or more channels of the amplifier (if the amplifier has multiple channels) may go in and out of saturation.
- FIG. 1 illustrates one embodiment of a switching amplifier.
- Switching amplifier 112 contains digital signal processor 110 and power stage 124 .
- Digital signal processor (DSP) 110 includes oversampling circuitry 116 , natural sampling circuitry 118 , noise shaping quantizer 120 , and pulse-width modulation (PWM) counter 122 .
- DSP digital signal processor
- PWM pulse-width modulation
- Storage device 114 provides uniformly sampled input digital data 130 to oversampling circuitry 116 .
- Oversampling circuit 116 provides higher frequency uniformly sampled digital data 132 , to natural sampling circuitry 118 .
- Natural sampling circuitry 118 provides naturally sampled digital data 134 , to noise shaping quantizer 120 , which in turn provides a duty ratio 136 to PWM counter 122 .
- PWM counter 122 provides a PWM square wave 138 to power stage 124 , which in turn outputs amplified signal 140 .
- storage device 114 contains input digital data 130 that is uniformly sampled.
- Storage device 114 can include such devices as a solid-state memory such as a memory card or other package that houses one or more non-volatile read-only memories, a random access memory or other volatile re-writable memory, or a magneto-optical or optical medium.
- storage device 114 can include a CD or digital audio tape.
- Storage device 114 may also
- This broadcast can be over any wireless communication protocol such as Bluetooth.
- the uniformly sampled input digital data 130 includes a stream of values which may include an audio signal.
- CD data has a 16-bit resolution signal sampled at a 44.1 kilohertz frequency.
- the uniformly sampled input digital data 130 is then converted to a higher frequency uniformly sampled digital data 132 by oversampling circuitry 116 .
- oversampling circuitry 116 is a data rate converter in which data is provided at one rate and is output at a different rate.
- oversampling circuitry 116 receives uniformly sampled input digital data 130 and samples it at a rate 16 times greater to produce the higher frequency uniformly sampled digital data 132 .
- oversampling circuitry 116 would sample this signal at a higher frequency of 705.6 kilohertz to produce the higher frequency uniformly sampled digital data 132 .
- Natural sampling circuitry 118 then converts the uniformly sampled digital data signal 132 into a naturally sampled digital data signal 134 .
- Noise shaping quantizer 120 quantizes and noise shapes the naturally sampled digital data signal 134 to produce a lower resolution signal such that the noise in the frequency band of interest is limited.
- Noise shaping quantizer 120 converts naturally sampled digital data 134 into duty ratio 136 .
- Duty ratio 136 is then used by PWM counter 122 to produce PWM square wave 138 .
- the PWM square wave 138 at the output of PWM counter 122 is amplified by power stage 124 to produce amplified signal 140 at the output of switching amplifier 112 .
- the duty ratio is larger than 50%, the signal supplied from switching amplifier 112 is positive and has an increasing amplitude.
- the duty ratio is smaller than 50%, the signal supplied from switching amplifier 112 is positive and has a decreasing amplitude.
- the frequency may vary over the range of the input digital data.
- oversampling circuitry 116 natural sampling circuitry 118
- PWM pulse-width modulation
- FIG. 2 illustrates one embodiment of noise shaping quantizer 200 in the DSP 110 shown in FIG. 1 .
- Noise shaping quantizer 200 includes first and second comparators 202 , 204 , first and second summers 208 , 210 , duty ratio quantizer 206 , and integrating error amplifier 220 .
- Integrating error amplifier 220 contains saturation function module 222 , first, second, and third integrators 224 , 228 , 232 , first and second multipliers 226 , 230 , and third summer 234 .
- Ramp r(t) and input signal x(t) are supplied to the inputs of first comparator 202 .
- Ramp r(t) provides double-sided sampling of the input signal x(t).
- First comparator 202 compares ramp signal r(t) to input signal x(t).
- Ramp r(t) is a periodic sawtooth signal that repeats at half the desired sampling frequency.
- the sampling frequency is 10-20 times higher than the Nyquist rate.
- the Nyquist rate is about twice the highest frequency of interest.
- the highest frequency of interest is about 20 KHz and the Nyquist rate is about 40 kilosamples/second. In this case, the sampling frequency is about 600-800 kHz.
- first comparator 202 By comparing the ramp signal r(t) to the input signal x(t), a signal is provided whose width is proportional to the amplitude of the input signal x(t).
- the output from first comparator 202 is the ideal PWM signal x PWM (t), which does not have quantization.
- Ideal PWM signal x PWM (t) is supplied to first summer 208 and to saturation function module 222 in integrating error amplifier 220 .
- Input signal x(t) is also supplied to the input of second summer 210 , along with summed integrated output v(t) from third summer 234 in integrating error amplifier 220 .
- the output from second summer 210 , noise shaped input signal z(t), and ramp r(t) are supplied to the inputs of second comparator 204 .
- Second comparator 204 compares ramp signal r(t) to noise shaped input signal z(t) and provides noise shaped PWM signal x NS (t).
- Noise shaped PWM signal x NS (t) and counter clock c(t) are supplied to the inputs of duty ratio quantizer 206 .
- Counter clock c(t) has a frequency that is much larger than the maximum frequency of interest of input signal x(t). For audio signals, as auditory range for the human ear extends nominally to 20 kHz, the frequency of counter clock c(t) is about 96 kHz.
- the output of duty ratio quantizer 206 is supplied to first summer 208 and is also taken as the PWM output signal y(t) from noise shaping quantizer 200 .
- Saturation function module 222 supplies saturation function SAT to first and second multipliers 226 , 230 .
- First summer 208 subtracts output signal y(t) from ideal PWM signal x PWM (t) and supplies error signal e(t) to first integrator 224 of integrating error amplifier 220 .
- First integrator 224 integrates the error signal e(t) to produce first integrator output signal int 1 (t).
- First integrator output signal int 1 (t) is supplied both to first multiplier 226 and to third summer 234 .
- First multiplier 226 combines the first integrator output signal int 1 (t) with saturation function SAT from saturation function module 222 to produce first multiplier output signal m 1 (t).
- First multiplier output signal m 1 (t) is supplied to second integrator 228 .
- Second integrator 228 integrates first multiplier output signal m 1 (t) to produce second integrator output signal int 2 (t).
- Second integrator output signal int 2 (t) is supplied both to second multiplier 230 and to third summer 234 .
- Second multiplier 230 combines second integrator output signal int 2 (t) with saturation function SAT from saturation function module 222 to produce second multiplier output signal m 2 (t).
- Second multiplier output signal m 2 (t) is supplied to third integrator 232 .
- Third integrator 232 integrates second multiplier output signal m 2 (t) to produce third integrator output signal int 3 (t), which is supplied to third summer 234 .
- third summer 234 provides the feedback to second summer 210 that provides noise shaping of the input signal x(t).
- Saturation Function module 222 modifies the gain of the feedback loop inside noise shaping quantizer 120 .
- Saturation function SAT may be either a linear or non-linear function.
- the linear or non-linear function SAT can either be a continuous linear or non-linear function or piecewise linear or non-linear function.
- saturation function module 222 is shown in FIG. 2 as dependent on only the input signal, any combination of the input signal x(t) and/or output signal y(t) may be used.
- the modifications are such that the loop transitions from a higher order feedback loop with multiple integrators 224 , 228 , 232 , which is not unconditionally stable, to a first order unconditionally stable loop. This is shown in the example of FIG. 3 , which illustrates how the root locus (or poles) of the gain function move with the onset of saturation.
- the system has four poles (one due to each of the three integrators and one due to the feedback loop).
- the location of the poles indicates stability of the system; poles that are in the left half plane (to the left of the y axis) and have a relatively small angle with respect to the x axis result in a stable system.
- the poles caused by second and third integrators 228 , 232 become degenerate and have no effect. Referring to FIG. 2 , this is to say that saturation function SAT becomes zero, and thus the input to second and third integrators 228 , 232 become zero.
- second and third integrators 228 , 232 becomes constant, i.e. second and third integrators 228 , 232 are effectively removed from the feedback loop.
- the constant value is the last value provided by second and third integrators 228 , 232 .
- the angle from the x-axis in the plot of the existing poles at saturation is not greater than when no saturation is present, and the system is stable when no saturation is present, the system is also stable at saturation.
- FIG. 4 illustrates a quantized duty ratio when the input is a sine wave having an amplitude (about 1.2) that is larger than the switching amplifier can handle (1).
- the duty ratio extends to 0% and 100%. That is, as the input signal x(t) saturates the system, the pulse width becomes either high or low for the entire time period of the PWM pulse. As illustrated in FIG. 4 , one of the regions in which this occurs is at about sample number 100 to about sample number 275 .
- a battery is used as the power supply for an audio system
- the entire negative battery voltage is provided across the speaker and at a 100% duty ratio, the entire positive battery voltage is provided across the speaker.
- the values from the integrators take any value. However, when saturated, the values from the integrators 224 , 228 , 232 stop changing and maintain the last value before saturation.
- FIG. 5 shows integrator values corresponding to the sample number between about 75 and 325 .
- the signals from integrators 224 , 228 , 232 vary in the normal mode but when saturation is reached, the signals stop changing.
- the operations in the feedback loop are unchanged so that when the level of the input signal crosses the transition point there is no transient or any associated artifact. This is illustrated in FIG. 5 , which clearly shows the lack of ringing, overshoot or other transient at transitions between normal operation and saturation.
- n is an integer
- Ts is one switching period
- ir x and il x refer to the output from the integrator number x (i.e. int x ) during the falling and rising of the ramp signal r(t), respectively
- xl(n) and yl(n) are the input and output duty ratio signals during the rising of the ramp signal r(t), respectively
- xr(n) and yr(n) are the input and output duty ratio signals during the falling of the ramp signal r(t), respectively.
- eqns. 1-8 compute the first through third order integrals of the error due to quantization for the right half of the PWM signal y(t).
- the order of the integrals is from first to third.
- the third integral is computed, then the second, and finally the first integral.
- These integral equations in closed form, allow the computation to be performed at the sampling frequency.
- the k values correspond to weighting factors of the integrators. Although the k values shown in FIG. 2 are 1 , the k values can take on any value desired. For more information, see U.S. Pat. No. 6,414,613, herein incorporated by reference.
- eqns. 9-16 are similar to eqns. 1-8, except that the input and output signals at half the previous sampling period Ts are multiplied by the saturation function SAT.
- ramp r(t) is periodic and has a period of Ts. If ramp r(t) has a nadir at nTs, where n is an integer, the apex of ramp r(t) occurs at (n ⁇ 1 ⁇ 2)Ts.
- the rise and fall times, and thus the widths of the input and output signals (xl(n ⁇ 1), xr(n ⁇ 1), yl(n ⁇ 1), yr(n ⁇ 1), xl(n), xr(n), yl(n), and yr(n)) vary dependent on the quantization from the previous period, as described in more detail in U.S. Pat No. 6,414,613.
- SAT integral noise shaping and saturation function
- SAT (1 ⁇ (2 x ⁇ 1) 2n ) [20]
- SAT (1 ⁇ (2 y ⁇ 1) 2m )(1 ⁇ (2 x ⁇ 1) 2n ) [21]
- SAT 4 x (1 ⁇ x ) [22]
- SAT 8 x (1 ⁇ x ) ⁇ 1 ⁇ 2 x (1 ⁇ x ) ⁇ [23]
- SAT 1 ⁇ (2 x ⁇ 1) 2 n [24]
- SAT ⁇ 1 ⁇ (2 x ⁇ 1) 2n ⁇ 1 ⁇ (2 y ⁇ 1) 2m ⁇ [25]
- integrating error amplifier 220 has a small module that supplies the saturation algorithm (saturation function module 222 ), which may have branching for piecewise linear saturation functions.
- saturation function module 222 supplies the saturation algorithm
- the feedback loop in the integral noise shaping is performed (i.e. eqns. 9-16) are calculated with no branching—it performs the same functions, merely using the saturation function as a multiplicand. As there is no branching in the feedback loop, this increases the efficiency of the processor, thereby saving energy.
- the MOSFETs (not shown) in power stage 124 dissipate very little power except during the interval between their on and off states.
- the power wasted is low because the instantaneous power dissipated in the MOSFETs is the product of voltage and current, and one or the other is almost always close to zero.
- the saturation function increases the peak power out of switching amplifier 112 as power stage 124 is relatively more efficient when operated with a 0% or 100% duty ratio than when operated at a duty ratio close to 0% or 100%.
- the switching amplifier described can provide a PWM signal with a duty ratio that extends between any arbitrary pair of values, for example, as indicated from 0% to 100%. In different embodiments, this may result in a peak power rating of the switching amplifier being 30 to 40% greater (i.e. a higher output power) compared to that of a switching amplifier whose duty ratio is limited to about 10%-90% in order to maintain loop stability.
- a higher power switching amplifier is not only louder but is often perceived to be a higher audio quality than a lower power switching amplifier. This may be desirable when the power supply of the switching amplifier is a battery, as the battery voltage is not changeable by design. Examples of using a battery voltage include portable applications or automotive applications. In such examples, it is impractical to use large, expensive, and/or high power consuming components such as a boost power converter to increase the power and limit the duty ratio between 10% and 90% of the nominal duty ratio.
- the number of integrators can vary, and can be two, four, five, or more, depending on how much performance or computation vs. power consumed is desired.
- only a single saturation function can be used or a number of saturation functions can be selectable as desired. For example, for automotive audio switching amplifiers or stereo equipment that is plugged into a wall socket, in which a substantial amount of power is available, a more aggressive algorithm may be desired, whereas for a portable device such as an MP3 player with a small amount of power is available, a lower performance may be more desirable.
- the present disclosure has primarily described applications such as digital audio amplification applications, it is also applicable to other power applications, including motor control, data conversion, power amplification, and radio frequency (RF) synthesizers with or without amplification.
- the present invention provides a method of noise shaping in which the quantization error and saturation function is used in coordination with a noise shaping filter to remove the noise from the desired baseband of the output.
- a feed forward arrangement rather than a feedback arrangement may be provided.
- software to achieve the same results may be implemented as code stored in any adequate computer readable medium and alternate hardware may be used.
- a hardware accelerator may be used to implement the noise shaping function.
- the hardware accelerator may include a custom logic board with processor, and may implement at least a portion of the function in software. The entire operation may also be implemented in an integrated circuit providing an embedded solution.
Abstract
Description
- The present application relates to noise shaping of a pulse width modulated signal. More specifically, the present application relates to saturation handling of a pulse width modulated signal.
- Switching amplifiers are used in various electronic components such as audio amplifiers. A switching amplifier consists of a network of switching elements that produces a square wave output and is connected to a load through a power stage. The switching amplifier typically uses pulse width modulation (PWM). The MOSFETs are switched either on or off, rather than operated in linear mode, to convert an input signal to a sequence of pulses (a PWM signal) whose averaged value is directly proportional to the amplitude of the input signal at that time. The frequency of the pulses is typically ten or more times the highest frequency of interest of the input signal. The switching amplifier is used in audio equipment, for example, when reproducing analog signals stored on a compact disc in a digital format.
- The PWM switching period is typically fixed. The ratio of the time that a PWM signal is high to the switching period is called the duty ratio. A digital PWM signal is defined by the switching period and the duty ratios. During digital processing, the PWM duty ratio is quantized, resulting in a signal-to-noise ratio that is reduced from that of the original signal. The quantized PWM signal introduces audible distortion and raises the noise level of the audible frequency band. Accordingly, noise shaping is used on the PWM signal to manipulate the signal to reduce the noise level and force the noise out of the audible range. Noise shaping uses a noise shaping loop within the digital processor.
- In audio equipment using the switching amplifier, at peaks of audio and high volume settings, the desired output voltage exceeds the capability of the power supply and the power stage. During these times, the largest output power can be obtained by stopping switching of the MOSFETs and allowing the entire power supply across the load. However, large input signals can cause the noise shaping loop to become unstable.
- One approach to increase the stability is to artificially limit the amplitude of the input signal to a lower value, and thus the duty ratio of the PWM signal, before the noise shaping loop goes unstable. However, this reduces the peak power out of the amplifier due to both the reduction in duty ratio range and the relative inefficiency of the power stage when operated with a very high or low duty ratio. Additionally, artifacts in the audio signal may be introduced by the transition from the switching mode to the saturation mode (and back) of the switching amplifier. Further, if a lookup table is used to provide the amplitude limitation, a large amount of memory (which is relatively expensive) is used, and the power consumption and size of the device is increased.
- The present invention is illustrated by way of example and not limited to the accompanying figures in which like references indicate similar elements.
-
FIG. 1 illustrates an amplifier according to one embodiment. -
FIG. 2 illustrates a noise shaping quantizer according to one embodiment. -
FIG. 3 is an S-domain graph of the poles of a gain function of the noise shaping quantizer according to one embodiment as the system moves into saturation. -
FIG. 4 is a graph of a quantized duty ratio when the input has an amplitude sufficient to drive the system into saturation according to one embodiment. -
FIG. 5 is a graph showing values from integrators in the noise shaping quantizer during normal operation and saturation according to one embodiment. -
FIG. 6 is a typical timing diagram illustrating the input and output signals as well as the sampling ramp signal. -
FIG. 7 is a typical curve of efficiency vs. duty ratio for a switching amplifier. - Skilled artisans appreciate that elements in the figures are illustrated for simplicity and clarity and have not necessarily been drawn to scale.
- A switching amplifier is presented that does not artificially limit the duty ratio of the output signal. The switching amplifier contains a digital signal processor (DSP) that includes an integrating error amplifier with a noise shaping quantizer using a saturation function. The saturation function allows the noise shaping quantizer to use the same algorithm independent of whether the noise shaping quantizer is in normal switching mode or in saturation mode. That is, the saturation function allows the noise shaping quantizer to use the same algorithm independent of whether the input signal drives the amplifier into saturation. The switching amplifier can be applied to audio equipment, for example. The computation engine of the DSP is a single instruction, multiple data engine with no branching in the noise shaping loop. This method of saturation handling maintains a continuous loop as one or more channels of the amplifier (if the amplifier has multiple channels) may go in and out of saturation.
-
FIG. 1 illustrates one embodiment of a switching amplifier.Switching amplifier 112 containsdigital signal processor 110 andpower stage 124. Digital signal processor (DSP) 110 includesoversampling circuitry 116,natural sampling circuitry 118,noise shaping quantizer 120, and pulse-width modulation (PWM)counter 122. Other electronic components known in the art may be present, but are not shown for clarity. -
Storage device 114 provides uniformly sampled input digital data 130 tooversampling circuitry 116.Oversampling circuit 116 provides higher frequency uniformly sampleddigital data 132, tonatural sampling circuitry 118.Natural sampling circuitry 118 provides naturally sampleddigital data 134, tonoise shaping quantizer 120, which in turn provides aduty ratio 136 toPWM counter 122.PWM counter 122 provides a PWMsquare wave 138 topower stage 124, which in turn outputs amplifiedsignal 140. - In operation,
storage device 114 contains input digital data 130 that is uniformly sampled.Storage device 114 can include such devices as a solid-state memory such as a memory card or other package that houses one or more non-volatile read-only memories, a random access memory or other volatile re-writable memory, or a magneto-optical or optical medium. For example,storage device 114 can include a CD or digital audio tape.Storage device 114 may also - be used to broadcast digital data to a receiver for inputting into
DSP 110. This broadcast can be over any wireless communication protocol such as Bluetooth. - The uniformly sampled input digital data 130 includes a stream of values which may include an audio signal. For example, CD data has a 16-bit resolution signal sampled at a 44.1 kilohertz frequency. The uniformly sampled input digital data 130 is then converted to a higher frequency uniformly sampled
digital data 132 byoversampling circuitry 116. Effectively,oversampling circuitry 116 is a data rate converter in which data is provided at one rate and is output at a different rate. In one embodiment,oversampling circuitry 116 receives uniformly sampled input digital data 130 and samples it at a rate 16 times greater to produce the higher frequency uniformly sampleddigital data 132. For example, in the case of the CD where uniformly sampled input digital data 130 is sampled at a rate of 44.1 kilohertz,oversampling circuitry 116 would sample this signal at a higher frequency of 705.6 kilohertz to produce the higher frequency uniformly sampleddigital data 132.Natural sampling circuitry 118 then converts the uniformly sampleddigital data signal 132 into a naturally sampleddigital data signal 134. -
Noise shaping quantizer 120, quantizes and noise shapes the naturally sampleddigital data signal 134 to produce a lower resolution signal such that the noise in the frequency band of interest is limited.Noise shaping quantizer 120 converts naturally sampleddigital data 134 intoduty ratio 136.Duty ratio 136 is then used byPWM counter 122 to produce PWMsquare wave 138. The PWMsquare wave 138 at the output ofPWM counter 122 is amplified bypower stage 124 to produce amplifiedsignal 140 at the output of switchingamplifier 112. When the duty ratio is larger than 50%, the signal supplied from switchingamplifier 112 is positive and has an increasing amplitude. When the duty ratio is smaller than 50%, the signal supplied from switchingamplifier 112 is positive and has a decreasing amplitude. Note that although the use of uniformly sampled input digital data is provided inFIG. 1 , other embodiments may use digital signals that are not uniformly sampled. For example, the frequency may vary over the range of the input digital data. - The circuitry and programming of
oversampling circuitry 116,natural sampling circuitry 118, and pulse-width modulation (PWM) counter 122 are known to those skilled in the art. Thus, circuit details will not be explained in any greater extent than that considered necessary for the understanding and appreciation of the underlying concepts and in order not to obfuscate or distract from the teachings of the present invention. -
FIG. 2 illustrates one embodiment ofnoise shaping quantizer 200 in theDSP 110 shown inFIG. 1 .Noise shaping quantizer 200 includes first andsecond comparators second summers duty ratio quantizer 206, and integratingerror amplifier 220. Integratingerror amplifier 220 containssaturation function module 222, first, second, andthird integrators second multipliers third summer 234. - Ramp r(t) and input signal x(t) are supplied to the inputs of
first comparator 202. Ramp r(t) provides double-sided sampling of the input signal x(t).First comparator 202 compares ramp signal r(t) to input signal x(t). Ramp r(t) is a periodic sawtooth signal that repeats at half the desired sampling frequency. As above, the sampling frequency is 10-20 times higher than the Nyquist rate. The Nyquist rate is about twice the highest frequency of interest. Thus, for audio signals the highest frequency of interest is about 20 KHz and the Nyquist rate is about 40 kilosamples/second. In this case, the sampling frequency is about 600-800 kHz. By comparing the ramp signal r(t) to the input signal x(t), a signal is provided whose width is proportional to the amplitude of the input signal x(t). The output fromfirst comparator 202 is the ideal PWM signal xPWM(t), which does not have quantization. Ideal PWM signal xPWM(t) is supplied tofirst summer 208 and tosaturation function module 222 in integratingerror amplifier 220. - Input signal x(t) is also supplied to the input of
second summer 210, along with summed integrated output v(t) fromthird summer 234 in integratingerror amplifier 220. The output fromsecond summer 210, noise shaped input signal z(t), and ramp r(t) are supplied to the inputs ofsecond comparator 204.Second comparator 204 compares ramp signal r(t) to noise shaped input signal z(t) and provides noise shaped PWM signal xNS(t). - Noise shaped PWM signal xNS(t) and counter clock c(t) are supplied to the inputs of
duty ratio quantizer 206. Counter clock c(t) has a frequency that is much larger than the maximum frequency of interest of input signal x(t). For audio signals, as auditory range for the human ear extends nominally to 20 kHz, the frequency of counter clock c(t) is about 96 kHz. The output ofduty ratio quantizer 206 is supplied tofirst summer 208 and is also taken as the PWM output signal y(t) fromnoise shaping quantizer 200. -
Saturation function module 222 supplies saturation function SAT to first andsecond multipliers First summer 208 subtracts output signal y(t) from ideal PWM signal xPWM(t) and supplies error signal e(t) tofirst integrator 224 of integratingerror amplifier 220.First integrator 224 integrates the error signal e(t) to produce first integrator output signal int1(t). - First integrator output signal int1(t) is supplied both to
first multiplier 226 and tothird summer 234.First multiplier 226 combines the first integrator output signal int1(t) with saturation function SAT fromsaturation function module 222 to produce first multiplier output signal m1(t). First multiplier output signal m1(t) is supplied tosecond integrator 228.Second integrator 228 integrates first multiplier output signal m1(t) to produce second integrator output signal int2(t). - Second integrator output signal int2(t) is supplied both to
second multiplier 230 and tothird summer 234.Second multiplier 230 combines second integrator output signal int2(t) with saturation function SAT fromsaturation function module 222 to produce second multiplier output signal m2(t). Second multiplier output signal m2(t) is supplied tothird integrator 232.Third integrator 232 integrates second multiplier output signal m2(t) to produce third integrator output signal int3(t), which is supplied tothird summer 234. As above,third summer 234 provides the feedback tosecond summer 210 that provides noise shaping of the input signal x(t). -
Saturation Function module 222 modifies the gain of the feedback loop insidenoise shaping quantizer 120. Saturation function SAT may be either a linear or non-linear function. The linear or non-linear function SAT can either be a continuous linear or non-linear function or piecewise linear or non-linear function. In addition, althoughsaturation function module 222 is shown inFIG. 2 as dependent on only the input signal, any combination of the input signal x(t) and/or output signal y(t) may be used. The modifications are such that the loop transitions from a higher order feedback loop withmultiple integrators FIG. 3 , which illustrates how the root locus (or poles) of the gain function move with the onset of saturation. - As shown in
FIG. 3 , before any saturation, the system has four poles (one due to each of the three integrators and one due to the feedback loop). The location of the poles indicates stability of the system; poles that are in the left half plane (to the left of the y axis) and have a relatively small angle with respect to the x axis result in a stable system. At full saturation, the poles caused by second andthird integrators FIG. 2 , this is to say that saturation function SAT becomes zero, and thus the input to second andthird integrators third integrators third integrators third integrators FIG. 3 , since the angle from the x-axis in the plot of the existing poles at saturation is not greater than when no saturation is present, and the system is stable when no saturation is present, the system is also stable at saturation. -
FIG. 4 illustrates a quantized duty ratio when the input is a sine wave having an amplitude (about 1.2) that is larger than the switching amplifier can handle (1). Unlike arrangements that artificially cap the duty ratio at less than 100% or greater than 0% (for example 10% and 90%), the duty ratio extends to 0% and 100%. That is, as the input signal x(t) saturates the system, the pulse width becomes either high or low for the entire time period of the PWM pulse. As illustrated inFIG. 4 , one of the regions in which this occurs is at aboutsample number 100 to about sample number 275. In an example in which a battery is used as the power supply for an audio system, at a 0% duty ratio, the entire negative battery voltage is provided across the speaker and at a 100% duty ratio, the entire positive battery voltage is provided across the speaker. - Before saturation, the values from the integrators take any value. However, when saturated, the values from the
integrators FIG. 5 , which shows integrator values corresponding to the sample number between about 75 and 325. As illustrated, the signals fromintegrators FIG. 5 , which clearly shows the lack of ringing, overshoot or other transient at transitions between normal operation and saturation. - The equations that define the integral noise shaping without the saturation function are as follows:
- In eqns. 1-8, n is an integer, Ts is one switching period, irx and ilx refer to the output from the integrator number x (i.e. intx) during the falling and rising of the ramp signal r(t), respectively, xl(n) and yl(n) are the input and output duty ratio signals during the rising of the ramp signal r(t), respectively, and xr(n) and yr(n) are the input and output duty ratio signals during the falling of the ramp signal r(t), respectively. Thus, eqns. 1-8 compute the first through third order integrals of the error due to quantization for the right half of the PWM signal y(t). For clarity of presentation, the order of the integrals is from first to third. In practice, the third integral is computed, then the second, and finally the first integral. These integral equations, in closed form, allow the computation to be performed at the sampling frequency. In
equation 4, the k values correspond to weighting factors of the integrators. Although the k values shown inFIG. 2 are 1, the k values can take on any value desired. For more information, see U.S. Pat. No. 6,414,613, herein incorporated by reference. - The equations that define the integral noise shaping with the saturation function SAT are as follows:
- Thus, eqns. 9-16 are similar to eqns. 1-8, except that the input and output signals at half the previous sampling period Ts are multiplied by the saturation function SAT.
- One example of a typical timing diagram for the input signal x(t), the output signal y(t), and ramp r(t) is shown in
FIG. 6 . As can be seen, ramp r(t) is periodic and has a period of Ts. If ramp r(t) has a nadir at nTs, where n is an integer, the apex of ramp r(t) occurs at (n−½)Ts. Between (n−1)Ts and nTs the input and output signals on the left half of ramp r(t) are labeled xl(n−1) and yl(n−1), respectively, and the input and output signals on the right half of ramp r(t) are labeled xr(n−1) and yr(n−1), respectively. Similarly, between nTs and (n+1)Ts the input and output signals on the left half of ramp r(t) are labeled xl(n) and yl(n), respectively, and the input and output signals on the right half of ramp r(t) are labeled xr(n) and yr(n), respectively. The rise and fall times, and thus the widths of the input and output signals (xl(n−1), xr(n−1), yl(n−1), yr(n−1), xl(n), xr(n), yl(n), and yr(n)) vary dependent on the quantization from the previous period, as described in more detail in U.S. Pat No. 6,414,613. - The integral noise shaping and saturation function SAT can be described by the following algorithms (where x and y here indicate the duty ratio of the input and output signal, respectively, 0=0% and 1=100%):
SAT=0 for x=1 or x=0 (input saturation) [17]
SAT=1 for small signals (x=½) [18]
SAT=0 for y=1 or y=0 (output saturation) [19] - These conditions can be filled by different continuous nonlinear equations, for example:
SAT=(1−(2x−1)2n) [20]
SAT=(1−(2y−1)2m)(1−(2x−1)2n) [21]
SAT=4x(1−x) [22]
SAT=8x(1−x){1−2x(1−x)} [23]
SAT=1−(2x−1)2n [24]
SAT={1−(2x−1)2n}{1−(2y−1)2m} [25] - Alternately, different nonlinear piecewise equations can be used. For example:
SAT=8(x−2x 2) for 0≦x<¼, [26]
SAT=1 for ¼≦x<¾,
SAT=8(3x−2x 2−1) for ¾<x≦1,
SAT=16(x−4x 2) for 0≦x<⅛, [27]
SAT=1 for ⅛≦x≦⅞,
SAT=16(7x−4x 2−3) for ⅞<x≦1,
SAT=32(x−8x 2) for 0≦x< 1/16, [28]
SAT=1 for 1/16≦x≦ 15/16,
SAT=32(15x−8x 2−7) for 15/16<x≦1, - Continuous linear and piecewise linear equations can also be used as saturation function SAT.
- Depending on the algorithm used, there is little or no branching for the integral noise shaping. As shown in
FIG. 2 , integratingerror amplifier 220 has a small module that supplies the saturation algorithm (saturation function module 222), which may have branching for piecewise linear saturation functions. However, the feedback loop in the integral noise shaping is performed (i.e. eqns. 9-16) are calculated with no branching—it performs the same functions, merely using the saturation function as a multiplicand. As there is no branching in the feedback loop, this increases the efficiency of the processor, thereby saving energy. - Turning to power consumption efficiency, the MOSFETs (not shown) in
power stage 124 dissipate very little power except during the interval between their on and off states. The power wasted is low because the instantaneous power dissipated in the MOSFETs is the product of voltage and current, and one or the other is almost always close to zero. The saturation function increases the peak power out of switchingamplifier 112 aspower stage 124 is relatively more efficient when operated with a 0% or 100% duty ratio than when operated at a duty ratio close to 0% or 100%. - One cause of the inefficiency in the
power stage 124 when operating at a duty ratio close to 0% or 100%, however, is due to the MOSFETs in the power stage being forced to transition fast enough so that they are not able to reach steady state equilibrium. A typical curve of efficiency vs. duty ratio is shown inFIG. 7 . As illustrated, the power conversion efficiency remains substantially flat over a wide range of duty ratios, dropping rapidly at about 10% and 90% until the duty ratio reaches 0% or 100%. When the duty ratio reaches 0% or 100%, however, the efficiency increases as no switching of the MOSFETs occur. - Thus, the switching amplifier described can provide a PWM signal with a duty ratio that extends between any arbitrary pair of values, for example, as indicated from 0% to 100%. In different embodiments, this may result in a peak power rating of the switching amplifier being 30 to 40% greater (i.e. a higher output power) compared to that of a switching amplifier whose duty ratio is limited to about 10%-90% in order to maintain loop stability. A higher power switching amplifier is not only louder but is often perceived to be a higher audio quality than a lower power switching amplifier. This may be desirable when the power supply of the switching amplifier is a battery, as the battery voltage is not changeable by design. Examples of using a battery voltage include portable applications or automotive applications. In such examples, it is impractical to use large, expensive, and/or high power consuming components such as a boost power converter to increase the power and limit the duty ratio between 10% and 90% of the nominal duty ratio.
- Note that although an embodiment with three integrators is shown, the number of integrators can vary, and can be two, four, five, or more, depending on how much performance or computation vs. power consumed is desired. Similarly, only a single saturation function can be used or a number of saturation functions can be selectable as desired. For example, for automotive audio switching amplifiers or stereo equipment that is plugged into a wall socket, in which a substantial amount of power is available, a more aggressive algorithm may be desired, whereas for a portable device such as an MP3 player with a small amount of power is available, a lower performance may be more desirable.
- While the present disclosure has primarily described applications such as digital audio amplification applications, it is also applicable to other power applications, including motor control, data conversion, power amplification, and radio frequency (RF) synthesizers with or without amplification. In any system where the output signal is quantized and noise is to be removed from the output, the present invention provides a method of noise shaping in which the quantization error and saturation function is used in coordination with a noise shaping filter to remove the noise from the desired baseband of the output.
- In other embodiments, a feed forward arrangement rather than a feedback arrangement may be provided. Although an embodiment using a DSP is provided, in other embodiments software to achieve the same results may be implemented as code stored in any adequate computer readable medium and alternate hardware may be used. For example, a hardware accelerator may be used to implement the noise shaping function. The hardware accelerator may include a custom logic board with processor, and may implement at least a portion of the function in software. The entire operation may also be implemented in an integrated circuit providing an embedded solution.
- Accordingly, the specification and figures are to be regarded in an illustrative rather than a restrictive sense, and all such modifications are intended to be included within the scope of present invention. As used herein, the terms “comprises,” “comprising,” or any other variation thereof, are intended to cover a non-exclusive inclusion, such that a process, method, article, or apparatus that comprises a list of elements does not include only those elements but may include other elements not expressly listed or inherent to such process, method, article, or apparatus.
- It is therefore intended that the foregoing detailed description be regarded as illustrative rather than limiting, and that it be understood that it is the following claims, including all equivalents, that are intended to define the spirit and scope of this invention. Nor is anything in the foregoing description intended to disavow scope of the invention as claimed or any equivalents thereof.
Claims (25)
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US11/273,286 US7227487B1 (en) | 2005-11-14 | 2005-11-14 | Digital saturation handling in integral noise shaping of pulse width modulation |
Applications Claiming Priority (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US11/273,286 US7227487B1 (en) | 2005-11-14 | 2005-11-14 | Digital saturation handling in integral noise shaping of pulse width modulation |
Publications (2)
Publication Number | Publication Date |
---|---|
US20070109165A1 true US20070109165A1 (en) | 2007-05-17 |
US7227487B1 US7227487B1 (en) | 2007-06-05 |
Family
ID=38040230
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US11/273,286 Active US7227487B1 (en) | 2005-11-14 | 2005-11-14 | Digital saturation handling in integral noise shaping of pulse width modulation |
Country Status (1)
Country | Link |
---|---|
US (1) | US7227487B1 (en) |
Cited By (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20090203316A1 (en) * | 2008-02-13 | 2009-08-13 | Apple Inc. | Method for using bluetooth module to process non-bluetooth signals |
KR100952176B1 (en) | 2009-10-19 | 2010-04-09 | 주식회사 바이콤 | A structure of digital audio amplifier |
US20150249436A1 (en) * | 2012-04-13 | 2015-09-03 | Taiwan Semiconductor Manufacturing Co., Ltd. | Multi-stage amplifier with pulse width modulation (pwm) noise shaping |
Families Citing this family (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
KR100728041B1 (en) * | 2006-06-23 | 2007-06-14 | 삼성전자주식회사 | Audio system and method for storing and reproducing digital pulse width modulation signal |
US8237599B2 (en) * | 2009-11-30 | 2012-08-07 | Standard Microsystems Corporation | Analog-to-digital converter in a motor control device |
US8988049B2 (en) | 2013-06-19 | 2015-03-24 | Futurewei Technologies, Inc. | Multiple switch power stage control tracking PCM signal input |
US9106214B1 (en) | 2013-07-05 | 2015-08-11 | Adx Research, Inc. | PCM to digital PWM using predistortion |
US10020783B2 (en) | 2015-07-01 | 2018-07-10 | Bei Electronics Llc | Class D amplifier using Fs/4 modulation and envelope tracking power supplies |
Citations (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6232899B1 (en) * | 1991-02-22 | 2001-05-15 | Cirrus Logic Inc. | Analogue and digital convertors |
US6414613B1 (en) * | 2000-01-05 | 2002-07-02 | Motorola, Inc. | Apparatus for noise shaping a pulse width modulation (PWM) signal and method therefor |
US6700518B2 (en) * | 2000-05-22 | 2004-03-02 | Sharp Kabushiki Kaisha | Digital switching amplifier |
US6924757B2 (en) * | 2003-05-21 | 2005-08-02 | Analog Devices, Inc. | Sigma-delta modulator with reduced switching rate for use in class-D amplification |
US7081793B2 (en) * | 2003-06-02 | 2006-07-25 | Nortel Networks Limited | High-efficiency amplifier, converter and methods |
-
2005
- 2005-11-14 US US11/273,286 patent/US7227487B1/en active Active
Patent Citations (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6232899B1 (en) * | 1991-02-22 | 2001-05-15 | Cirrus Logic Inc. | Analogue and digital convertors |
US6414613B1 (en) * | 2000-01-05 | 2002-07-02 | Motorola, Inc. | Apparatus for noise shaping a pulse width modulation (PWM) signal and method therefor |
US6700518B2 (en) * | 2000-05-22 | 2004-03-02 | Sharp Kabushiki Kaisha | Digital switching amplifier |
US6924757B2 (en) * | 2003-05-21 | 2005-08-02 | Analog Devices, Inc. | Sigma-delta modulator with reduced switching rate for use in class-D amplification |
US7081793B2 (en) * | 2003-06-02 | 2006-07-25 | Nortel Networks Limited | High-efficiency amplifier, converter and methods |
Cited By (9)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20090203316A1 (en) * | 2008-02-13 | 2009-08-13 | Apple Inc. | Method for using bluetooth module to process non-bluetooth signals |
WO2009102590A1 (en) * | 2008-02-13 | 2009-08-20 | Apple Inc. | Method for using bluetooth module to process non-bluetooth signals |
GB2469591A (en) * | 2008-02-13 | 2010-10-20 | Apple Inc | Method for using bluetooth module to process non-bluetooth signals |
US8135344B2 (en) | 2008-02-13 | 2012-03-13 | Apple Inc. | Method for using bluetooth module to process non-bluetooth signals |
KR101163328B1 (en) | 2008-02-13 | 2012-07-13 | 애플 인크. | Method for using bluetooth module to process non-bluetooth signals |
GB2469591B (en) * | 2008-02-13 | 2012-09-12 | Apple Inc | Method for using bluetooth module to process non-bluetooth signals |
KR100952176B1 (en) | 2009-10-19 | 2010-04-09 | 주식회사 바이콤 | A structure of digital audio amplifier |
US20150249436A1 (en) * | 2012-04-13 | 2015-09-03 | Taiwan Semiconductor Manufacturing Co., Ltd. | Multi-stage amplifier with pulse width modulation (pwm) noise shaping |
US9197171B2 (en) * | 2012-04-13 | 2015-11-24 | Taiwan Semiconductor Manufacturing Co., Ltd. | Multi-stage amplifier with pulse width modulation (PWM) noise shaping |
Also Published As
Publication number | Publication date |
---|---|
US7227487B1 (en) | 2007-06-05 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US7227487B1 (en) | Digital saturation handling in integral noise shaping of pulse width modulation | |
EP1227579B1 (en) | Method and apparatus for providing digital error correction for a class D power stage | |
US9742357B2 (en) | Audio system having an improved efficiency and extended operation time | |
EP2843841B1 (en) | Method and device for driving digital speaker based on code conversion | |
US7612608B2 (en) | Sigma-delta based Class D audio or servo amplifier with load noise shaping | |
US7058463B1 (en) | Method and apparatus for implementing a class D driver and speaker system | |
US10008994B2 (en) | Audio amplifier system | |
US7605653B2 (en) | Sigma-delta based class D audio power amplifier with high power efficiency | |
US20060282185A1 (en) | Device and method for signal processing | |
KR20040071289A (en) | Method and apparatus for generating a pulse width modulated signal | |
US20050200405A1 (en) | Audio signal amplification method and apparatus | |
US8299866B2 (en) | Method and device including signal processing for pulse width modulation | |
US7061415B2 (en) | Word length reduction circuit | |
Norris et al. | Quantization noise shaping in digital PWM converters | |
US8410963B2 (en) | Data converter circuit and method | |
US20230095754A1 (en) | Window circuits, devices and methods for audio amplifiers | |
US20230110804A1 (en) | Low voltage system for audio amplifiers | |
JP2000049613A (en) | Digital switching amplifier | |
Adrian et al. | A low-voltage micropower digital class-D amplifier modulator for hearing aids | |
JP2004128662A (en) | Digital amplifier | |
Gwee et al. | A novel sampling process and pulse generator for a low distortion digital pulse-width modulator for digital class D amplifiers | |
US20230102120A1 (en) | Digital-to-analog converter architecture for audio amplifiers | |
Yu et al. | Sliding-mode quantized control of a class-D audio power amplifier | |
US20230099719A1 (en) | Output capacitance distortion correction for audio amplifiers | |
US20230098492A1 (en) | Pulse-width modulation audio amplifier having compensated regulation loop |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
AS | Assignment |
Owner name: FREESCALE SEMICONDUCTOR, INC., TEXASFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:MIDYA, PALLAB;ROECKNER, WILLIAM J.;REEL/FRAME:017214/0047Effective date: 20051111Owner name: MOTOROLA, INC., ILLINOISFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:GROSSPIETSCH, JOHN;SCHOOLER, ANTHONY R.;REEL/FRAME:017236/0404Effective date: 20051111Owner name: FREESCALE SEMICONDUCTOR, INC.,TEXASFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:MIDYA, PALLAB;ROECKNER, WILLIAM J.;REEL/FRAME:017214/0047Effective date: 20051111Owner name: MOTOROLA, INC.,ILLINOISFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:GROSSPIETSCH, JOHN;SCHOOLER, ANTHONY R.;REEL/FRAME:017236/0404Effective date: 20051111 |
|
AS | Assignment |
Owner name: CITIBANK, N.A. AS COLLATERAL AGENT, NEW YORKFree format text: SECURITY AGREEMENT;ASSIGNORS:FREESCALE SEMICONDUCTOR, INC.;FREESCALE ACQUISITION CORPORATION;FREESCALE ACQUISITION HOLDINGS CORP.;AND OTHERS;REEL/FRAME:018855/0129Effective date: 20061201Owner name: CITIBANK, N.A. AS COLLATERAL AGENT,NEW YORKFree format text: SECURITY AGREEMENT;ASSIGNORS:FREESCALE SEMICONDUCTOR, INC.;FREESCALE ACQUISITION CORPORATION;FREESCALE ACQUISITION HOLDINGS CORP.;AND OTHERS;REEL/FRAME:018855/0129Effective date: 20061201 |
|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |
|
AS | Assignment |
Owner name: CITIBANK, N.A., AS COLLATERAL AGENT, NEW YORKFree format text: SECURITY AGREEMENT;ASSIGNOR:FREESCALE SEMICONDUCTOR, INC.;REEL/FRAME:020045/0448Effective date: 20070718Owner name: CITIBANK, N.A., AS COLLATERAL AGENT,NEW YORKFree format text: SECURITY AGREEMENT;ASSIGNOR:FREESCALE SEMICONDUCTOR, INC.;REEL/FRAME:020045/0448Effective date: 20070718 |
|
AS | Assignment |
Owner name: CITIBANK, N.A., AS COLLATERAL AGENT,NEW YORKFree format text: SECURITY AGREEMENT;ASSIGNOR:FREESCALE SEMICONDUCTOR, INC.;REEL/FRAME:024397/0001Effective date: 20100413Owner name: CITIBANK, N.A., AS COLLATERAL AGENT, NEW YORKFree format text: SECURITY AGREEMENT;ASSIGNOR:FREESCALE SEMICONDUCTOR, INC.;REEL/FRAME:024397/0001Effective date: 20100413 |
|
FPAY | Fee payment |
Year of fee payment: 4 |
|
AS | Assignment |
Owner name: MOTOROLA MOBILITY, INC., ILLINOISFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:MOTOROLA, INC.;REEL/FRAME:027935/0808Effective date: 20120302 |
|
AS | Assignment |
Owner name: MOTOROLA MOBILITY LLC, ILLINOISFree format text: CHANGE OF NAME;ASSIGNOR:MOTOROLA MOBILITY, INC.;REEL/FRAME:029216/0282Effective date: 20120622 |
|
AS | Assignment |
Owner name: CITIBANK, N.A., AS NOTES COLLATERAL AGENT, NEW YORFree format text: SECURITY AGREEMENT;ASSIGNOR:FREESCALE SEMICONDUCTOR, INC.;REEL/FRAME:030633/0424Effective date: 20130521 |
|
AS | Assignment |
Owner name: CITIBANK, N.A., AS NOTES COLLATERAL AGENT, NEW YORFree format text: SECURITY AGREEMENT;ASSIGNOR:FREESCALE SEMICONDUCTOR, INC.;REEL/FRAME:031591/0266Effective date: 20131101 |
|
FPAY | Fee payment |
Year of fee payment: 8 |
|
AS | Assignment |
Owner name: GOOGLE TECHNOLOGY HOLDINGS LLC, CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:MOTOROLA MOBILITY LLC;REEL/FRAME:035379/0116Effective date: 20141028 |
|
AS | Assignment |
Owner name: FREESCALE SEMICONDUCTOR, INC., TEXASFree format text: PATENT RELEASE;ASSIGNOR:CITIBANK, N.A., AS COLLATERAL AGENT;REEL/FRAME:037356/0143Effective date: 20151207Owner name: FREESCALE SEMICONDUCTOR, INC., TEXASFree format text: PATENT RELEASE;ASSIGNOR:CITIBANK, N.A., AS COLLATERAL AGENT;REEL/FRAME:037354/0225Effective date: 20151207Owner name: FREESCALE SEMICONDUCTOR, INC., TEXASFree format text: PATENT RELEASE;ASSIGNOR:CITIBANK, N.A., AS COLLATERAL AGENT;REEL/FRAME:037354/0655Effective date: 20151207Owner name: FREESCALE SEMICONDUCTOR, INC., TEXASFree format text: PATENT RELEASE;ASSIGNOR:CITIBANK, N.A., AS COLLATERAL AGENT;REEL/FRAME:037356/0553Effective date: 20151207 |
|
AS | Assignment |
Owner name: MORGAN STANLEY SENIOR FUNDING, INC., MARYLANDFree format text: ASSIGNMENT AND ASSUMPTION OF SECURITY INTEREST IN PATENTS;ASSIGNOR:CITIBANK, N.A.;REEL/FRAME:037486/0517Effective date: 20151207 |
|
AS | Assignment |
Owner name: MORGAN STANLEY SENIOR FUNDING, INC., MARYLANDFree format text: ASSIGNMENT AND ASSUMPTION OF SECURITY INTEREST IN PATENTS;ASSIGNOR:CITIBANK, N.A.;REEL/FRAME:037518/0292Effective date: 20151207 |
|
AS | Assignment |
Owner name: MORGAN STANLEY SENIOR FUNDING, INC., MARYLANDFree format text: SECURITY AGREEMENT SUPPLEMENT;ASSIGNOR:NXP B.V.;REEL/FRAME:038017/0058Effective date: 20160218 |
|
AS | Assignment |
Owner name: MORGAN STANLEY SENIOR FUNDING, INC., MARYLANDFree format text: CORRECTIVE ASSIGNMENT TO CORRECT THE REMOVE APPLICATION 12092129 PREVIOUSLY RECORDED ON REEL 038017 FRAME 0058. ASSIGNOR(S) HEREBY CONFIRMS THE SECURITY AGREEMENT SUPPLEMENT;ASSIGNOR:NXP B.V.;REEL/FRAME:039361/0212Effective date: 20160218 |
|
AS | Assignment |
Owner name: NXP, B.V., F/K/A FREESCALE SEMICONDUCTOR, INC., NETHERLANDSFree format text: RELEASE BY SECURED PARTY;ASSIGNOR:MORGAN STANLEY SENIOR FUNDING, INC.;REEL/FRAME:040925/0001Effective date: 20160912Owner name: NXP, B.V., F/K/A FREESCALE SEMICONDUCTOR, INC., NEFree format text: RELEASE BY SECURED PARTY;ASSIGNOR:MORGAN STANLEY SENIOR FUNDING, INC.;REEL/FRAME:040925/0001Effective date: 20160912 |
|
AS | Assignment |
Owner name: NXP B.V., NETHERLANDSFree format text: RELEASE BY SECURED PARTY;ASSIGNOR:MORGAN STANLEY SENIOR FUNDING, INC.;REEL/FRAME:040928/0001Effective date: 20160622 |
|
AS | Assignment |
Owner name: MORGAN STANLEY SENIOR FUNDING, INC., MARYLANDFree format text: CORRECTIVE ASSIGNMENT TO CORRECT THE REMOVE PATENTS 8108266 AND 8062324 AND REPLACE THEM WITH 6108266 AND 8060324 PREVIOUSLY RECORDED ON REEL 037518 FRAME 0292. ASSIGNOR(S) HEREBY CONFIRMS THE ASSIGNMENT AND ASSUMPTION OF SECURITY INTEREST IN PATENTS;ASSIGNOR:CITIBANK, N.A.;REEL/FRAME:041703/0536Effective date: 20151207 |
|
AS | Assignment |
Owner name: MORGAN STANLEY SENIOR FUNDING, INC., MARYLANDFree format text: CORRECTIVE ASSIGNMENT TO CORRECT THE REMOVE APPLICATION 12681366 PREVIOUSLY RECORDED ON REEL 039361 FRAME 0212. ASSIGNOR(S) HEREBY CONFIRMS THE SECURITY AGREEMENT SUPPLEMENT;ASSIGNOR:NXP B.V.;REEL/FRAME:042762/0145Effective date: 20160218Owner name: MORGAN STANLEY SENIOR FUNDING, INC., MARYLANDFree format text: CORRECTIVE ASSIGNMENT TO CORRECT THE REMOVE APPLICATION 12681366 PREVIOUSLY RECORDED ON REEL 038017 FRAME 0058. ASSIGNOR(S) HEREBY CONFIRMS THE SECURITY AGREEMENT SUPPLEMENT;ASSIGNOR:NXP B.V.;REEL/FRAME:042985/0001Effective date: 20160218 |
|
MAFP | Maintenance fee payment |
Free format text: PAYMENT OF MAINTENANCE FEE, 12TH YEAR, LARGE ENTITY (ORIGINAL EVENT CODE: M1553); ENTITY STATUS OF PATENT OWNER: LARGE ENTITYYear of fee payment: 12 |
|
AS | Assignment |
Owner name: SHENZHEN XINGUODU TECHNOLOGY CO., LTD., CHINAFree format text: CORRECTIVE ASSIGNMENT TO CORRECT THE TO CORRECT THE APPLICATION NO. FROM 13,883,290 TO 13,833,290 PREVIOUSLY RECORDED ON REEL 041703 FRAME 0536. ASSIGNOR(S) HEREBY CONFIRMS THE THE ASSIGNMENT AND ASSUMPTION OF SECURITYINTEREST IN PATENTS.;ASSIGNOR:MORGAN STANLEY SENIOR FUNDING, INC.;REEL/FRAME:048734/0001Effective date: 20190217 |
|
AS | Assignment |
Owner name: NXP B.V., NETHERLANDSFree format text: RELEASE BY SECURED PARTY;ASSIGNOR:MORGAN STANLEY SENIOR FUNDING, INC.;REEL/FRAME:050745/0001Effective date: 20190903 |
|
AS | Assignment |
Owner name: MORGAN STANLEY SENIOR FUNDING, INC., MARYLANDFree format text: CORRECTIVE ASSIGNMENT TO CORRECT THE REMOVE APPLICATION 12298143 PREVIOUSLY RECORDED ON REEL 042985 FRAME 0001. ASSIGNOR(S) HEREBY CONFIRMS THE SECURITY AGREEMENT SUPPLEMENT;ASSIGNOR:NXP B.V.;REEL/FRAME:051029/0001Effective date: 20160218Owner name: MORGAN STANLEY SENIOR FUNDING, INC., MARYLANDFree format text: CORRECTIVE ASSIGNMENT TO CORRECT THE REMOVE APPLICATION 12298143 PREVIOUSLY RECORDED ON REEL 042762 FRAME 0145. ASSIGNOR(S) HEREBY CONFIRMS THE SECURITY AGREEMENT SUPPLEMENT;ASSIGNOR:NXP B.V.;REEL/FRAME:051145/0184Effective date: 20160218Owner name: MORGAN STANLEY SENIOR FUNDING, INC., MARYLANDFree format text: CORRECTIVE ASSIGNMENT TO CORRECT THE REMOVE APPLICATION 12298143 PREVIOUSLY RECORDED ON REEL 039361 FRAME 0212. ASSIGNOR(S) HEREBY CONFIRMS THE SECURITY AGREEMENT SUPPLEMENT;ASSIGNOR:NXP B.V.;REEL/FRAME:051029/0387Effective date: 20160218Owner name: MORGAN STANLEY SENIOR FUNDING, INC., MARYLANDFree format text: CORRECTIVE ASSIGNMENT TO CORRECT THE REMOVE APPLICATION12298143 PREVIOUSLY RECORDED ON REEL 042985 FRAME 0001. ASSIGNOR(S) HEREBY CONFIRMS THE SECURITY AGREEMENT SUPPLEMENT;ASSIGNOR:NXP B.V.;REEL/FRAME:051029/0001Effective date: 20160218Owner name: MORGAN STANLEY SENIOR FUNDING, INC., MARYLANDFree format text: CORRECTIVE ASSIGNMENT TO CORRECT THE REMOVE APPLICATION 12298143 PREVIOUSLY RECORDED ON REEL 038017 FRAME 0058. ASSIGNOR(S) HEREBY CONFIRMS THE SECURITY AGREEMENT SUPPLEMENT;ASSIGNOR:NXP B.V.;REEL/FRAME:051030/0001Effective date: 20160218Owner name: MORGAN STANLEY SENIOR FUNDING, INC., MARYLANDFree format text: CORRECTIVE ASSIGNMENT TO CORRECT THE REMOVE APPLICATION12298143 PREVIOUSLY RECORDED ON REEL 039361 FRAME 0212. ASSIGNOR(S) HEREBY CONFIRMS THE SECURITY AGREEMENT SUPPLEMENT;ASSIGNOR:NXP B.V.;REEL/FRAME:051029/0387Effective date: 20160218Owner name: MORGAN STANLEY SENIOR FUNDING, INC., MARYLANDFree format text: CORRECTIVE ASSIGNMENT TO CORRECT THE REMOVE APPLICATION12298143 PREVIOUSLY RECORDED ON REEL 042762 FRAME 0145. ASSIGNOR(S) HEREBY CONFIRMS THE SECURITY AGREEMENT SUPPLEMENT;ASSIGNOR:NXP B.V.;REEL/FRAME:051145/0184Effective date: 20160218 |
|
AS | Assignment |
Owner name: MORGAN STANLEY SENIOR FUNDING, INC., MARYLANDFree format text: CORRECTIVE ASSIGNMENT TO CORRECT THE REMOVE APPLICATION11759915 AND REPLACE IT WITH APPLICATION 11759935 PREVIOUSLY RECORDED ON REEL 037486 FRAME 0517. ASSIGNOR(S) HEREBY CONFIRMS THE ASSIGNMENT AND ASSUMPTION OF SECURITYINTEREST IN PATENTS;ASSIGNOR:CITIBANK, N.A.;REEL/FRAME:053547/0421Effective date: 20151207 |
|
AS | Assignment |
Owner name: NXP B.V., NETHERLANDSFree format text: CORRECTIVE ASSIGNMENT TO CORRECT THE REMOVEAPPLICATION 11759915 AND REPLACE IT WITH APPLICATION11759935 PREVIOUSLY RECORDED ON REEL 040928 FRAME 0001. ASSIGNOR(S) HEREBY CONFIRMS THE RELEASE OF SECURITYINTEREST;ASSIGNOR:MORGAN STANLEY SENIOR FUNDING, INC.;REEL/FRAME:052915/0001Effective date: 20160622 |
|
AS | Assignment |
Owner name: NXP, B.V. F/K/A FREESCALE SEMICONDUCTOR, INC., NETHERLANDSFree format text: CORRECTIVE ASSIGNMENT TO CORRECT THE REMOVEAPPLICATION 11759915 AND REPLACE IT WITH APPLICATION11759935 PREVIOUSLY RECORDED ON REEL 040925 FRAME 0001. ASSIGNOR(S) HEREBY CONFIRMS THE RELEASE OF SECURITYINTEREST;ASSIGNOR:MORGAN STANLEY SENIOR FUNDING, INC.;REEL/FRAME:052917/0001Effective date: 20160912 |