HINTERGRUNDBACKGROUND
Digitale Videodatenströme stellen in der Regel Videos unter Verwendung einer Sequenz von Frames oder Standbilddateien dar. Jeder Frame kann eine Anzahl an Blöcken beinhalten, die wiederum Informationen umfassen können, die den Wert der Farbe, der Helligkeit oder sonstiger Pixelattribute beschreiben. Die Datenmenge eines typischen Videodatenstroms ist hoch und die Übertragung und Speicherung von Video kann dementsprechend hohe Rechen- und Kommunikationskapazitäten in Anspruch nehmen. Aufgrund der großen Datenmenge, die in Verbindung mit Videodaten in Anspruch genommen wird, ist ein leistungsstarkes Komprimierungsverfahren für sowohl deren Übertragung als auch deren Speicherung erforderlich. Dies erfordert oft eine Inter-Prädiktion unter Verwendung von Bewegungsvektoren, eine Intra-Prädiktion unter Verwendung von Pixeln des gegenwärtigen Frames, oder beides. Unter Schutz gestellt werden und Gegenstand des Gebrauchsmusters sind dabei, entsprechend den Vorschriften des Gebrauchsmustergesetzes, lediglich Vorrichtungen wie in den beigefügten Schutzansprüchen definiert, jedoch keine Verfahren. Soweit nachfolgend in der Beschreibung gegebenenfalls auf Verfahren Bezug genommen wird, dienen diese Bezugnahmen lediglich der beispielhaften Erläuterung der in den beigefügten Schutzansprüchen unter Schutz gestellten Vorrichtung oder Vorrichtungen.Digital video data streams typically represent video using a sequence of frames or still image files. Each frame may include a number of blocks, which in turn may include information describing the value of color, brightness, or other pixel attributes. The amount of data of a typical video data stream is high and the transmission and storage of video can therefore require high computational and communication capacities. Due to the large amount of data consumed in connection with video data, a high-performance compression method is required for both their transmission and storage. This often requires inter-prediction using motion vectors, intra-prediction using pixels of the current frame, or both. Be provided under protection and subject of the utility model are, according to the provisions of the utility model law, only devices as defined in the appended claims, but no method. Wherever in the description, if appropriate, reference is made to methods, these references are merely illustrative of the device or devices set forth in the appended claims.
ZUSAMMENFASSUNGSUMMARY
Diese Offenbarung betrifft im Allgemeinen das Kodieren und das Dekodieren von visuellen Daten, wie etwa Videostreaming-Daten, unter Verwendung einer kombinierten Inter- und Intra-Prädiktion.This disclosure generally relates to the encoding and decoding of visual data, such as video streaming data, using combined inter- and intra-prediction.
Ein Verfahren für das Kodieren oder das Dekodieren eines Videosignals gemäß einem Aspekt dieser Offenbarung, wobei das Videosignal Frames beinhaltet, die eine Videosequenz definieren, wobei jeder Frame über Blöcke verfügt und jeder Block über Pixel verfügt, beinhaltet das Ermitteln einer Vorlage zum Prognostizieren des gegenwärtigen Blocks, das Ermitteln inter-prognostizierter Pixel für einen ersten Abschnitt eines Prädiktionsblocks, das Ermitteln von intra-prognostizierten Pixeln für einen zweiten Abschnitt des Prädiktionsblocks, der sich nicht mit dem ersten Abschnitt des Prädiktionsblocks überschneidet und das Kodieren oder das Dekodieren des gegenwärtigen Blocks unter Verwendung des Prädiktionsblocks. Die Vorlage verfügt über Dimensionen, die einer sachgemäßen Teilmenge von Pixelorten des gegenwärtigen Blocks entsprechen und der erste Abschnitt verfügt über dasselbe Muster wie die Vorlage.A method for encoding or decoding a video signal according to an aspect of this disclosure, wherein the video signal includes frames defining a video sequence, each frame having blocks and each block having pixels, includes determining a template for predicting the current block determining inter-predicted pixels for a first portion of a prediction block, determining intra-predicted pixels for a second portion of the prediction block that does not intersect the first portion of the prediction block, and encoding or decoding the current block using the prediction block prediction. The template has dimensions that correspond to a proper subset of pixel locations of the current block, and the first section has the same pattern as the template.
Ein anderes Verfahren zur Kodierung oder Dekodierung, das hierin beschrieben wird, beinhaltet das Ermitteln eines Prädiktionsblocks von Pixelwerten für einen gegenwärtigen Block in einem gegenwärtigen Frame unter Verwendung einer Intra-Prädiktion von Pixelwerten von einem ersten Referenzframe, und das Kodieren oder Dekodieren des gegenwärtigen Blocks unter Verwendung des Prädiktionsblocks. Die Pixelwerte vom ersten Referenzframe werden unter Verwendung der Inter-Prädiktion ermittelt, die auf einer Vorlage mit Pixelpositionen basiert, die eine sachgemäße Teilmenge von Dimensionen des gegenwärtigen Blocks darstellen.Another method of encoding or decoding described herein includes determining a prediction block of pixel values for a current block in a current frame using intra-prediction of pixel values from a first reference frame, and encoding or decoding the current block as Use of the prediction block. The pixel values from the first reference frame are determined using inter-prediction based on a template with pixel locations that represent a proper subset of dimensions of the current block.
Ein Aspekt der hierin beschriebenen Vorrichtung ist eine Vorrichtung zur Kodierung oder zur Dekodierung eines Videosignals, wobei das Videosignal Frames beinhaltet, die eine Videosequenz definieren, wobei jeder Frame über Blöcke verfügt und jeder Block über Pixel verfügt. Die Vorrichtung umfasst einen Prozessor und einen nicht-transitorischen Speicher, der Anweisungen beinhaltet, die den Prozessor dazu veranlassen, ein Verfahren einschließlich des Ermitteln eines ersten Abschnitts der Pixelwerte eines Prädiktionsblock für einen gegenwärtigen Block unter Verwendung einer Inter-Prädiktion und einer Vorlage durchzuführen, die über Dimensionen verfügen, die einer sachgemäßen Teilmenge von Pixeln des gegenwärtigen Blocks derart entsprechen, dass der erste Abschnitt über Dimensionen verfügt, die einen zweiten Abschnitt von Pixelwerten des Prädiktionsblocks ermitteln, der sich einer Intra-Prädiktion bedient und den gegenwärtigen Block unter Verwendung des Prädiktionsblock kodiert oder dekodiert.One aspect of the device described herein is an apparatus for encoding or decoding a video signal, wherein the video signal includes frames defining a video sequence, each frame having blocks and each block having pixels. The apparatus includes a processor and non-transitory memory that includes instructions that cause the processor to perform a method including determining a first portion of the pixel values of a current block prediction block using inter-prediction and a template that have dimensions that correspond to a proper subset of pixels of the current block such that the first section has dimensions that determine a second portion of pixel values of the prediction block that uses intra prediction and encodes the current block using the prediction block or decoded.
Diese und sonstige Aspekte der vorliegenden Offenbarung, einschließlich Variationen, werden in der folgenden detaillierten Beschreibung, den beiliegenden Ansprüchen und den beiliegenden Figuren mit zusätzlichen Einzelheiten beschrieben.These and other aspects of the present disclosure, including variations, are described in additional detail with reference to the following detailed description, the appended claims, and the accompanying figures.
KURZBESCHREIBUNG DER ZEICHNUNGENBRIEF DESCRIPTION OF THE DRAWINGS
Die vorliegende Beschreibung nimmt Bezug auf die beiliegenden Zeichnungen, die nachfolgend beschrieben werden, wobei gleiche Referenzzahlen dieselben Teile für die verschiedenen Ansichten bezeichnen.The present description refers to the accompanying drawings, which are described below, wherein like reference numerals designate the same parts for the various views.
1 ist ein Schaltplan eines Videokodierungs- und -dekodierungssystems. 1 is a circuit diagram of a video encoding and decoding system.
2 ist ein Blockdiagramm eines Beispiels eines Computergeräts, das eine Übertragungsstation oder eine Empfangsstation implementieren kann. 2 Figure 10 is a block diagram of an example of a computing device that may implement a transmission station or a receiving station.
3 ist ein Diagramm eines Videodatenstroms, der kodiert, und dann im Anschluss daran, dekodiert werden soll. 3 is a diagram of a video stream that encodes and then decodes it.
4 ist ein Blockdiagramm eines Videokomprimierungssystems gemäß einem Aspekt der sich hierin befindlichen Lehren. 4 Figure 4 is a block diagram of a video compression system according to one aspect of the teachings herein.
5 ist ein Blockdiagramm eines Videodekomprimierungssystems gemäß einem anderen Aspekt der sich hierin befindlichen Lehren. 5 Figure 4 is a block diagram of a video decompression system according to another aspect of the teachings herein.
6 ist ein Flussdiagramm eines Verfahrens zur Kodierung oder Dekodierung eines Blocks mittels einer kombinierten Intra- und Inter-Prädiktion, gemäß einem Aspekt der hierin aufgeführten Lehren. 6 FIG. 10 is a flowchart of a method for encoding or decoding a block by means of combined intra and inter prediction, according to one aspect of the teachings herein.
Die 7A–7C sind Diagramme, die Ausführungsformen einer Vorlage, gemäß den sich hierin befindlichen Lehren, darstellen.The 7A - 7C FIGURES are diagrams illustrating embodiments of a template, in accordance with the teachings herein.
8 ist ein Diagramm eines 4×4 Blocks, der verwendet wird, um verschiedene Intra-Prädiktionsmodi zu veranschaulichen. 8th Figure 4 is a 4 × 4 block diagram used to illustrate various intra-prediction modes.
Die 9A–9H sind Diagramme, die Beispiele von Intra-Prädiktionsmodi für den Block aus 8 darstellen.The 9A - 9H are diagrams that provide examples of intra-prediction modes for the block 8th represent.
10 ist ein Diagramm, das verwendet wird, um ein Beispiel des Verfahrens aus 6 zu erklären. 10 is a diagram that is used to illustrate an example of the procedure 6 to explain.
AUSFÜHRLICHE BESCHREIBUNGDETAILED DESCRIPTION
Ein Videodatenstrom kann von einer Vielzahl von Techniken komprimiert werden, um die Bandbreite zu reduzieren, die erforderlich ist, um den Videodatenstrom zu übermitteln oder zu speichern. Ein Videodatenstrom kann in einen Bitstream, der eine Kompression umfassen kann, kodiert werden, und kann dann an eine Dekodiervorrichtung übermittelt werden, die den Videodatenstrom dekodieren und dekomprimieren kann, um ihn auf eine Ansicht oder eine weitere Verarbeitung vorzubereiten. Das Kodieren eines Videodatenstroms unter Verwendung von Kompression, umfasst Parameter, die Kompromisslösungen zwischen der Videoqualität und der Bitstream-Größe finden, wobei das Erhöhen der wahrgenommenen Qualität eines dekodierten Videodatenstroms die Anzahl der erforderlichen Bits zur Übertragung oder zur Speicherung des Bitstreams erhöht.A video data stream may be compressed by a variety of techniques to reduce the bandwidth required to transmit or store the video data stream. A video data stream may be encoded into a bitstream that may include compression, and may then be communicated to a decoding device that may decode and decompress the video data stream to prepare it for viewing or further processing. Encoding a video data stream using compression includes parameters that find tradeoffs between video quality and bitstream size, wherein increasing the perceived quality of a decoded video data stream increases the number of bits required to transmit or store the bitstream.
Eine weitere Technik zur Erzielung einer überlegenen Kompressionsleistung nutzt die räumliche und zeitliche Wechselbeziehung des Videosignals über eine räumliche und/oder bewegungskompensierte Prädiktion aus. Die Interprädiktion bedient sich zum Beispiel eines Bewegungsvektors, um einen zuvor kodierten und dekodierten Block zu identifizieren, der einem gegenwärtigen Block, der kodiert werden soll, ähnelt. Und durch das Kodieren des Bewegungsvektors und aufgrund des Unterschieds zwischen den zwei Blöcken kann eine Dekodiervorrichtung den gegenwärtigen Block erneut erstellen. Die Intra-Prädiktion ist auf der anderen Seite in der Lage, einen gegenwärtigen Block unter der Verwendung von Informationen vom selben Frame vorherzusagen und den Unterschied zwischen den zwei zu kodierenden Blöcken zu kodieren, um den gegenwärtigen Block erneut zu erstellen. Kodiervorrichtungen können die Blöcke eines Frames unter Verwendung von zwei oder mehreren aus einer Vielzahl von Inter- und Intra-Prädiktionsmodi kodieren und die Rate/Verzerrung jedes Modus für jeden Block messen, um zum Beispiel den Prädiktionsmodus mit der geringsten Verzerrung, gemessen anhand der Berechnung einer Summe absoluter Differenzen (SAD) für die sich ergebende Rate, gemessen anhand der Anzahl an Bits im kodierten Bitstream, auszuwählen.Another technique for achieving superior compression performance utilizes the spatial and temporal correlation of the video signal through spatial and / or motion-compensated prediction. The inter-prediction, for example, uses a motion vector to identify a previously encoded and decoded block that resembles a current block to be encoded. And by coding the motion vector and the difference between the two blocks, a decoder can recreate the current block. The intra prediction, on the other hand, is capable of predicting a current block using information from the same frame and coding the difference between the two blocks to be coded to recreate the current block. Encoding devices may encode the blocks of a frame using two or more of a variety of inter- and intra-prediction modes, and measure the rate / distortion of each mode for each block, for example, the least distortion prediction mode as measured by the calculation of a Sum of absolute differences (SAD) for the resulting rate as measured by the number of bits in the encoded bitstream.
Die hierin aufgeführten Lehren beschreiben die Verwendung einer kombinierten Inter- und Intra-Prädiktion innerhalb eines Blocks. Die Inter-Prädiktion kann gemäß einer Vorlage verwendet werden. Die Vorlage kann zusammen mit einem oder mehreren Bewegungsvektoren verwendet werden, um einen Abschnitt eines Prädiktionsblocks mit Pixeln des einen oder der mehreren Referenzframes auszubilden (z. B. Frames, die sich vorübergehend in der Nähe des gegenwärtigen Frames im Videodatenstrom befinden). Dieser Abschnitt des Prädiktionsblocks und/oder die Pixel, die an den gegenwärtigen Block angrenzen, können dann verwendet werden, um den verbliebenen Abschnitt des Prädiktionsblocks intra-vorherzusagen. Der Prädiktionsblock kann verwendet werden, um einen Rest auszubilden, der zusammen mit Bits, welche die Vorlage, einen Bewegungsvektor (Bewegungsvektoren) und den Intraprädiktionsmodus, der von einer Dekodiervorrichtung zu dekodieren ist, repräsentieren, übermittelt wird. Blöcke, die unter Verwendung einer kombinierten Inter- und Intra-Prädiktion, wie hierin beschrieben, kodiert werden, können gegenüber Blocks, die lediglich unter Verwendung einer einzigen Technik kodiert wurden, über eine verbesserte Rate/über verbesserte Verzerrungsmessungen verfügen. Einzelheiten werden im Folgenden nach der Beschreibung eines Umfelds, in dem die sich hierin befindlichen Lehren implementiert werden können, näher erläutert.The teachings herein describe the use of combined inter- and intra-prediction within a block. The inter-prediction can be used according to a template. The template, along with one or more motion vectors, may be used to form a portion of a prediction block with pixels of the one or more reference frames (eg, frames that are temporarily near the current frame in the video data stream). This portion of the prediction block and / or the pixels adjacent to the current block may then be used to intra-predict the remaining portion of the prediction block. The prediction block may be used to form a remainder which is conveyed along with bits representing the template, a motion vector (motion vectors) and the intra prediction mode to be decoded by a decoder. Blocks encoded using a combined inter- and intra-prediction as described herein may have improved rate / distortion measurements over blocks encoded using only a single technique. Details are set forth below after describing an environment in which the teachings herein can be implemented.
1 ist ein Schaltplan eines Videokodierungs- und -dekodierungssystems 100. Bei einer Übertragungsstation 102 kann es sich zum Beispiel um einen Computer handeln, der über eine interne Konfiguration von Hardware, wie jene, die in 2 beschrieben wird, verfügt. Sonstige geeignete Implementierungen der Übertragungsstation 102 sind jedoch möglich. Zum Beispiel kann die Verarbeitung der Daten von der Übertragungsstation 102 auf mehrere Geräte verteilt werden. 1 is a circuit diagram of a video encoding and decoding system 100 , At a transmission station 102 For example, it may be a computer that has an internal configuration of hardware, such as the ones in 2 is described. Other suitable implementations of the transmission station 102 are possible, however. For example, the processing of the data from the transmitting station 102 be distributed to multiple devices.
Ein Netzwerk 104 kann die Übertragungsstation 102 mit einer Empfangsstation 106 zur Kodierung und Dekodierung des Videodatenstroms verbinden. Insbesondere kann der Videodatenstrom in der Übertragungsstation 102 kodiert werden und der kodierte Videodatenstrom kann in der Empfangsstation 106 dekodiert werden. Bei Netzwerk 104 kann es sich zum Beispiel um das Internet handeln. Bei Netzwerk 104 kann es sich auch um ein lokales Netzwerk (LAN), ein Weitverkehrsnetzwerk (WAN), ein virtuelles privates Netzwerk (VPN), ein Mobilfunknetz oder um jedes andere Mittel für das Übertragen des Videodatenstroms von der Übertragungsstation 102 auf die Empfangsstation 106, wie in diesem spezifischen Beispiel dargestellt, handeln.A network 104 can the transfer station 102 with a receiving station 106 to Connect the encoding and decoding of the video data stream. In particular, the video data stream in the transmission station 102 can be encoded and the encoded video data stream in the receiving station 106 be decoded. At network 104 it can be, for example, the Internet. At network 104 it may also be a local area network (LAN), a wide area network (WAN), a virtual private network (VPN), a cellular network, or any other means of transmitting the video data stream from the broadcast station 102 to the receiving station 106 as shown in this specific example.
Bei der Empfangsstation 106 kann sich in einem Beispiel um einen Computer handeln, der über eine interne Konfiguration von Hardware verfügt, wie etwa jener, die in 2 beschrieben wird. Dennoch sind sonstige geeignete Implementierungen der Empfangsstation 106 möglich. Zum Beispiel kann die Verarbeitung der Daten von der Empfangsstation 106 auf mehrere Geräte verteilt werden.At the receiving station 106 For example, in one example, a computer may have an internal configuration of hardware, such as those described in US Pat 2 is described. Nevertheless, other suitable implementations are the receiving station 106 possible. For example, the processing of the data from the receiving station 106 be distributed to multiple devices.
Sonstige Implementierungen des Videokodierungs- und Dekodierungssystems 100 sind möglich. Zum Beispiel kann eine Implementierung das Netzwerk 104 auslassen. In einer anderen Implementierung kann ein Videodatenstrom kodiert werden und dann zum Zwecke einer zu einem späteren Zeitpunkt stattfindenden Übertragung auf die Empfangsstation 106 oder auf jedes andere Gerät, das über einen Speicher verfügt, gespeichert werden. In einer Implementierung erhält die Empfangsstation 106 (z. B. über das Netzwerk 104, einen Computerbus und/oder einige Kommunikationspfade) den kodierten Videodatenstrom und speichert den Videodatenstrom für ein späteres Dekodieren. In einer exemplarischen Implementierung wird ein Echtzeit-Transportprotokoll (RTP) zur Übertragung des kodierten Videos über das Netzwerk 104 verwendet. In einer anderen Implementierung kann ein Transportprotokoll, zu dem das RTP nicht gehört, verwendet werden z. B. ein Hypertext-Übertragungsprotokoll(HTTP)-basiertes Videostreaming-Protokoll.Other implementations of the video encoding and decoding system 100 are possible. For example, one implementation may be the network 104 omit. In another implementation, a video stream may be encoded and then transmitted to the receiving station for later-acting transmission 106 or any other device that has memory. In one implementation, the receiving station receives 106 (eg over the network 104 , a computer bus and / or some communication paths) the encoded video data stream and stores the video data stream for later decoding. In an exemplary implementation, a real-time transport protocol (RTP) is used to transmit the encoded video over the network 104 used. In another implementation, a transport protocol to which the RTP does not belong can be used, e.g. A hypertext transfer protocol (HTTP) based video streaming protocol.
Wenn die Übertragungsstation 102 und/oder die Empfangsstation 106 beispielsweise in einem Videokonferenzsystem verwendet werden, können sie über die Fähigkeit verfügen, einen Videodatenstrom, wie unten beschrieben, sowohl zu kodieren als auch zu dekodieren. Zum Beispiel kann es sich bei der Empfangsstation 106 um einen Videokonferenzteilnehmer handeln, der einen kodierten Videobitstream von einem Videokonferenz-Server erhält (z. B. die Übertragungsstation 102), um diesen zu dekodieren und ihn sich anzusehen und ferner sein eigenes Videobitstream an den Videokonferenz-Server übermittelt, um von anderen Teilnehmern dekodiert und angesehen zu werden.If the transfer station 102 and / or the receiving station 106 For example, in a video conferencing system, they may have the ability to both encode and decode a video data stream as described below. For example, it may be at the receiving station 106 to be a videoconference participant receiving a coded video bitstream from a videoconferencing server (eg, the broadcast station 102 ) to decode and view it, and also transmit its own video bitstream to the videoconferencing server to be decoded and viewed by other participants.
2 ist ein Blockdiagramm eines Beispiels eines Computergeräts 200, das eine Übertragungsstation oder eine Empfangsstation implementieren kann. Zum Beispiel kann das Computergerät 200 sowohl die Übertragungsstation 102 als auch die Empfangsstation 106 aus 1 implementieren. Das Computergerät 200 kann in Form eines Computersystems, einschließlich mehreren Computergeräten, oder in Form eines einzelnen Computergeräts, zum Beispiel eines mobilen Telefons, eines Tablet-Computers, eines Laptop-Computers, eines Notebook-Computers, eines Desktop-Computers usw. zur Verfügung stehen. 2 Fig. 10 is a block diagram of an example of a computing device 200 which can implement a transmission station or a receiving station. For example, the computing device 200 both the transmission station 102 as well as the receiving station 106 out 1 to implement. The computer device 200 may be in the form of a computer system, including multiple computing devices, or in the form of a single computing device, such as a mobile phone, a tablet computer, a laptop computer, a notebook computer, a desktop computer, etc.
Bei einer CPU 202 in Computergerät 200 kann es sich um eine herkömmliche zentrale Verarbeitungseinheit handeln. Alternativ dazu, kann es sich bei der CPU 202 um jede andere Art von Gerät handeln, oder um mehrere Geräte, die in der Lage sind, Informationen, die noch nicht existieren, oder erst zu einem späteren Zeitpunkt entwickelt werden, zu manipulieren und zu verarbeiten. Obwohl die offengelegten Implementierungen mit einem einzelnen Prozessor, wie ersichtlich, durchgeführt werden können, z. B. die CPU 202, können Vorteile hinsichtlich der Geschwindigkeit und des Wirkungsgrads unter Verwendung von mehr als einem Prozessor erzielt werden.With a CPU 202 in computer device 200 it can be a traditional central processing unit. Alternatively, it may be at the CPU 202 to handle any other type of device, or multiple devices that are able to manipulate and process information that does not yet exist or will be developed at a later date. Although the disclosed implementations can be performed with a single processor, as can be seen, e.g. For example, the CPU 202 , Speed and efficiency advantages can be achieved using more than one processor.
Bei einem Speicher 204 in Computergerät 200 kann es sich um ein Nur-Lese-Speicher-(ROM)-Gerät oder um ein Direktzugriff-Speicher-(RAM)-Gerät in einer Implementierung handeln. Jede andere geeignete Art von Speichergerät kann als der Speicher 204 verwendet werden. Der Speicher 204 kann Code und Daten 206 beinhalten, auf die, die CPU 202 unter Verwendung eines Busses 212 zugreifen kann. Der Speicher 204 kann ferner ein Betriebssystem 208 und Anwendungsprogramme 210 beinhalten, wobei die Anwendungsprogramme 210 das mindestens eine Programm beinhalten, welches der CPU 202 die Erlaubnis erteilt, die hier beschriebenen Verfahren durchzuführen. Zum Beispiel können Anwendungsprogramme 210 Anwendungen 1 bis N beinhalten, die ferner eine Videokodierungsanwendung beinhalten, welche dich hier beschriebenen Verfahren durchführt. Das Computergerät 200 kann auch eine zweite Speichervorrichtung 214 beinhalten, bei der es sich zum Beispiel um eine Speicherkarte handeln kann, die mit einem mobilen Computergerät verwendet wird. Da die Videokommunikationssitzungen unter Umständen eine beträchtliche Informationsmenge beinhalten können, können sie vollständig oder teilweise im sekundären Speicher 214 gespeichert werden und wenn sie zur Weiterverarbeitung erforderlich sind, auf den Speicher 204 geladen werden.At a memory 204 in computer device 200 It may be a read only memory (ROM) device or a random access memory (RAM) device in one implementation. Any other suitable type of storage device may be considered the store 204 be used. The memory 204 can code and data 206 include, on the, the cpu 202 using a bus 212 can access. The memory 204 can also be an operating system 208 and application programs 210 Include, the application programs 210 that contain at least one program, which is the CPU 202 gives permission to carry out the procedures described here. For example, application programs 210 Applications 1 through N include further including a video encoding application that performs the methods described herein. The computer device 200 can also be a second storage device 214 include, for example, a memory card used with a mobile computing device. Since video communication sessions may involve a significant amount of information, they may be fully or partially stored in secondary memory 214 stored and, if necessary for further processing, to the memory 204 getting charged.
Das Computergerät 200 kann auch ein oder mehrere Ausgabegeräte, wie etwa ein Display 218, beinhalten. Bei Display 218 kann es sich in einem Beispiel um ein berührungsempfindliches Display handeln, das ein Display mit einem berührungsempfindlichen Element kombiniert, das während seines Betriebs in der Lage ist, Berührungseingaben wahrzunehmen. Das Display 218 kann an die CPU 202 über den Bus 212 gekoppelt sein. Sonstige Ausgabegeräte, die es einem Benutzer erlauben, das Computergerät 200 zu programmieren und auf sonstige Weise zu verwenden, können zusätzlich zum Display 218 oder als Alternative dazu, bereitgestellt werden. Wenn es sich bei dem Ausgabegerät um ein Display handelt oder dieses ein Display beinhaltet, kann das Display auf verschiedene Arten, einschließlich anhand einer Flüssigkristallanzeige (LCD), eines Kathodenstrahlröhren(CRT)-Displays, oder eines Leuchtdioden-(LED)-Displays, wie etwa eines organischen (OLED)-LED Displays, implementiert werden.The computer device 200 can also have one or more output devices, such as a display 218 , include. At display 218 it can be in one Example is a touch-sensitive display that combines a display with a touch-sensitive element that is able to perceive touch inputs during its operation. the display 218 can to the CPU 202 over the bus 212 be coupled. Other output devices that allow a user to use the computing device 200 to program and otherwise use, in addition to the display 218 or as an alternative thereto. If the output device is a display or includes a display, the display can be used in a number of ways, including a liquid crystal display (LCD), a cathode ray tube (CRT) display, or a light emitting diode (LED) display, such as such as an organic (OLED) LED display.
Das Computergerät 200 kann auch eine Bildwahrnehmungsvorrichtung 220, wie zum Beispiel eine Kamera, oder jede andere Bildwahrnehmungsvorrichtung 220, die bereits existiert oder zu einem späteren Zeitpunkt entwickelt werden wird, die ein Bild, wie etwa ein Bild eines Benutzers, der das Computergerät 200 betreibt, wahrnehmen kann, beinhalten oder sich in Kommunikation damit befinden. Die Bildwahrnehmungsvorrichtung 220 kann so positioniert werden, dass sie dem Benutzer, der das Computergerät 200 betreibt, direkt zugewandt ist. In einem Beispiel kann die Position und die optische Achse der Bildwahrnehmungsvorrichtung 220 so konfiguriert werden, dass das Sichtfeld einen Bereich, der direkt an das Display 218 angrenzt, und von dem aus, das Display 218 sichtbar ist, beinhaltet.The computer device 200 may also be an image perception device 220 such as a camera, or any other image sensing device 220 that already exists or will be developed at a later time, which is an image, such as an image of a user, of the computing device 200 operate, engage, or communicate with it. The image perception device 220 can be positioned to suit the user of the computing device 200 operates, faces directly. In one example, the position and optical axis of the image perception device 220 be configured so that the field of view is an area directly to the display 218 adjoins, and from which, the display 218 is visible, includes.
Das Computergerät 200 kann auch eine Lautewahrnehmungsvorrichtung 222, wie zum Beispiel ein Mikrofon oder jede andere Lautewahrnehmungsvorrichtung, die bereits existiert, oder zu einem späteren Zeitpunkt entwickelt werden wird, und die in der Lage ist, Laute in der Nähe eines Computergeräts 200 wahrzunehmen, miteinbeziehen oder sich damit in Kommunikation befinden. Die Lautewahrnehmungsvorrichtung 222 kann so positioniert werden, dass sie dem Benutzer, der das Computergerät 200 betreibt, zugewendet ist, und kann konfiguriert werden, um Laute, wie zum Beispiel Sprechlaute oder sonstige von Äußerungen ausgehende Laute, zu empfangen, die vom Benutzer gemacht werden, während der Benutzer das Computergerät 200 betreibt.The computer device 200 can also be a sound perception device 222 such as a microphone or any other sound sensing device that already exists or will be developed at a later date, and that is capable of making sounds near a computing device 200 perceive, involve, or communicate with. The sound perception device 222 can be positioned to suit the user of the computing device 200 is operable, and may be configured to receive sounds, such as speech sounds or other utterances, made by the user while the user is viewing the computing device 200 operates.
Obwohl der Prozessor 202 und der Speicher 204 des Computergeräts 200 in 2, als innerhalb einer einzelnen Einheit integriert, abbildet werden, können auch andere Konfigurationen verwendet werden. Die Operationen der CPU 202 können über mehrere Maschinen (wobei jede Maschine über einen oder mehrere Prozessoren verfügt) verteilt werden, die direkt bzw. über ein lokales Netzwerk oder ein sonstiges Netzwerk aneinandergekoppelt werden können. Der Speicher 204 kann über mehrere Maschinen, wie etwa netzwerkbasierte Speicher oder Speicher innerhalb mehrerer Maschinen, welche die Operationen des Computergeräts 200 durchführen, verteilt werden. Obwohl der Bus 212 des Computergeräts 200 hier als ein einzelner Bus abgebildet wird, kann er aus mehreren Bussen bestehen. Ferner kann der sekundäre Speicher 214 direkt an die anderen Komponenten des Computergeräts 200 gekoppelt werden oder kann über ein Netzwerk zugänglich gemacht werden und kann eine einzelne integrierte Einheit, wie etwa eine Speicherkarte oder mehrere Einheiten, wie etwa mehrere Speicherkarten umfassen. Das Computergerät 200 kann somit in einer breiten Vielfalt von Konfigurationen implementiert werden.Although the processor 202 and the memory 204 of the computer device 200 in 2 , as integrated within a single unit, other configurations can also be used. The operations of the CPU 202 can be distributed across multiple machines (each machine having one or more processors) which can be coupled together directly or via a local area network or other network. The memory 204 can be across multiple machines, such as network-based storage or storage within multiple machines, which controls the operations of the computing device 200 perform, be distributed. Although the bus 212 of the computer device 200 It can consist of several buses, shown here as a single bus. Furthermore, the secondary storage 214 directly to the other components of the computing device 200 or can be accessed via a network and may include a single integrated unit, such as a memory card or multiple devices, such as multiple memory cards. The computer device 200 can thus be implemented in a wide variety of configurations.
3 ist ein Diagramm eines Beispiels eines Videodatenstroms 300, der kodiert und dann im Anschluss daran, dekodiert werden soll. Der Videodatenstrom 300 beinhaltet eine Videosequenz 302. Auf der nächsten Ebene beinhaltet die Videosequenz 302 eine Anzahl an angrenzenden Frames 304. Während drei Frames als die angrenzenden Frames 304 abgebildet werden, kann die Videosequenz 302 jede Anzahl an angrenzenden Frames 304 beinhalten. Die angrenzenden Frames 304 können dann weiter in einzelne Frames, z. B. ein Frame 306, unterteilt werden. Auf der nächsten Ebene kann der Frame 306 in eine Serie von Ebenen oder Segmenten 308 unterteilt werden. Die Segmente (oder Ebenen) 308 können Teilmengen von Frames sein, die zum Beispiel eine Parallelverarbeitung erlauben. Die Segmente 308 können auch Teilmengen von Frames sein, welche die Videodaten in unterschiedliche Farben trennen können. Zum Beispiel kann der Frame 306 von Farbvideodaten eine Leuchtdicke-Ebene und zwei Chrominanz-Ebenen beinhalten. Die Segmente 308 können bei verschiedenen Auflösungen abgetastet werden. 3 Fig. 10 is a diagram of an example of a video data stream 300 which is encoded and then decoded. The video stream 300 includes a video sequence 302 , At the next level includes the video sequence 302 a number of adjacent frames 304 , While three frames than the adjacent frames 304 can be imaged, the video sequence 302 any number of adjacent frames 304 include. The adjacent frames 304 can then continue into individual frames, z. B. a frame 306 to be divided. At the next level, the frame can be 306 into a series of levels or segments 308 be divided. The segments (or levels) 308 may be subsets of frames that allow, for example, parallel processing. The segments 308 can also be subsets of frames that can separate the video data into different colors. For example, the frame 306 of color video data include a luminance level and two chroma levels. The segments 308 can be sampled at various resolutions.
Unabhängig davon, ob der Frame 306 in die Segmente 308 unterteilt ist oder nicht, kann der Frame 306 ferner in Blöcke 310 unterteilt werden, welche Daten umfassen, die zum Beispiel 16×16 Pixel in Frame 306 entsprechen. Die Blöcke 310 können auch angeordnet werden, um Daten von einer oder mehreren Ebenen an Pixeldaten zu enthalten. Die Blöcke 310 können auch über jede andere geeignete Größe, wie etwa 4×4 Pixel, 8×8 Pixel, 16×8 Pixel, 8×16 Pixel, 16×16 Pixel oder größer, verfügen. Sofern nichts Anderes angegeben ist, werden die Begriffe Block und Makroblock hierin austauschbar verwendet. Der Frame 306 kann gemäß den hierin aufgeführten Lehren, wie nachfolgend detaillierter abgehandelt, aufgeteilt werden.Regardless of whether the frame 306 into the segments 308 is divided or not, the frame can 306 further into blocks 310 which data includes, for example, 16x16 pixels in frame 306 correspond. The blocks 310 can also be arranged to contain data from one or more levels of pixel data. The blocks 310 may also have any other suitable size, such as 4 × 4 pixels, 8 × 8 pixels, 16 × 8 pixels, 8 × 16 pixels, 16 × 16 pixels or larger. Unless otherwise specified, the terms block and macroblock are used interchangeably herein. The frame 306 may be divided according to the teachings herein, as discussed in more detail below.
4 ist ein Blockdiagramm einer Kodiervorrichtung 400 gemäß einer Implementierung. Die Kodiervorrichtung 400 kann, wie vorstehend beschrieben, in der Übertragungsstation 102 implementiert werden, wie etwa durch das Bereitstellen eines Computersoftwareprogramms, das im Speicher, wie zum Beispiel dem Speicher 204, gespeichert ist. Das Computersoftwareprogramm kann Maschinenanweisungen beinhalten, die, wenn sie von einem Prozessor, wie etwa der CPU 202, ausgeführt werden, die Übertragungsstation 102 dazu veranlassen, Videodaten auf die in 4 und in 6 beschriebene Weise zu kodieren. Die Kodiervorrichtung 400 kann auch als eine spezialisierte Hardware implementiert werden, die zum Beispiel Teil der Übertragungsstation 102 darstellt. Die Kodiervorrichtung 400 verfügt über die folgenden Stadien, um die verschiedenen Funktionen in einem Vorwärtspfad (anhand der durchgezogenen Verbindungslinien dargestellt) durchzuführen, um einen kodierten oder komprimierten Bitstream 420 unter Verwendung des Videodatenstroms 300 als Eingabe zu erstellen: ein Intra-/Inter-Prädiktionsstadium 402, ein Transformationsstadium 404, ein Quantifizierungsstadium 406, und ein Entropiekodierungs-Stadium 408. Die Kodiervorrichtung 400 kann auch einen Rekonstruktionspfad (von der punktierten Verbindungslinie dargestellt) beinhalten, um einen Frame für das Kodieren von zukünftigen Blöcken zu rekonstruieren. In 4 verfügt die Kodiervorrichtung 400 über die folgenden Stadien, um die verschiedenen Funktionen im Rekonstruktionspfad durchzuführen: ein Dequantifizierungsstadium 410, ein inverses Transformationsstadium 412, ein Rekonstruktionsstadium 414, ein Loopfiltering-Stadium 416. Sonstige strukturelle Variationen der Kodiervorrichtung 400 können verwendet werden, um den Videodatenstrom 300 zu kodieren. 4 is a block diagram of a coding device 400 according to an implementation. The coding 400 can, as described above, in the transfer station 102 can be implemented, such as by providing a computer software program stored in memory, such as memory 204 , is stored. The computer software program may include machine instructions when used by a processor, such as the CPU 202 , to be carried out, the transmission station 102 to induce video data on the in 4 and in 6 to encode described manner. The coding device 400 can also be implemented as a specialized hardware, for example, part of the transmission station 102 represents. The coding device 400 has the following stages to perform the various functions in a forward path (represented by the solid connecting lines) to a coded or compressed bitstream 420 using the video stream 300 as an input: an intra / inter-prediction stage 402 , a transformational stage 404 , a quantification stage 406 , and an entropy-encoding stage 408 , The coding device 400 may also include a reconstruction path (shown by the dotted connecting line) to reconstruct a frame for encoding future blocks. In 4 has the coding device 400 on the following stages to perform the various functions in the reconstruction path: a de-quantification stage 410 , an inverse transformation stage 412 , a reconstruction stage 414 , a loopfiltering stage 416 , Other structural variations of the coding device 400 can be used to record the video stream 300 to code.
Wenn der Videodatenstrom 300 zur Kodierung präsentiert wird, kann jeder Frame 306 in Blockeinheiten verarbeitet werden. Im Intra-/Inter-Prädiktionsstadium 402 kann jeder Block unter Verwendung einer Intra-Frameprädiktion (auch Intra-Prädiktion genannt) oder einer Inter-Frameprädiktion (auch Inter-Prädiktion genannt), oder einer Kombination, kodiert werden, wobei beide mit Bezug auf 6 beschrieben werden. In jedem Fall kann ein Prädiktionsblock ausgebildet werden. Im Falle einer Intra-Prädiktion kann ein gesamter oder ein Teil eines Prädiktionsblocks aus Proben des gegenwärtigen Frames ausgebildet werden, die zuvor schon kodiert und rekonstruiert wurden. Im Falle einer Intra-Prädiktion kann ein gesamter oder ein Teil eines Prädiktionsblocks aus Proben ausgebildet werden, die sich in einem oder mehreren der zuvor schon konstruierten Referenzframes befinden.When the video stream 300 For coding, every frame can be 306 be processed in block units. In the intra / inter-prediction stage 402 For example, each block may be encoded using intra-frame prediction (also called intra-prediction) or inter-frame prediction (also called inter-prediction), or a combination, both with reference to FIG 6 to be discribed. In any case, a prediction block can be formed. In the case of intra-prediction, an entire or a part of a prediction block can be formed from samples of the current frame that have already been coded and reconstructed beforehand. In the case of intra-prediction, an entire or part of a prediction block may be formed from samples residing in one or more of the previously constructed reference frames.
Danach, und immer noch unter Bezugnahme auf 4, kann der Prädiktionsblock vom gegenwärtigen Block im Intra-/Inter-Prädiktionsstadium 402 subtrahiert werden, um einen Restblock zu erzeugen (auch ein Rest genannt). Das Transformationsstadium 404 wandelt den Rest in Transformationskoeffizienten um – zum Beispiel in die Frequenz-Domain unter der Verwendung blockbasierter Transformationen. Derartige blockbasierte Transformationen beinhalten zum Beispiel die diskrete Kosinus-Transformation (DCT) die asymmetrische diskrete Sinus-Transformation (ADST). Sonstige blockbasierte Transformationen sind ebenfalls möglich. Ferner können Kombinationen verschiedener Transformationen auf einen einzigen Rest angewendet werden. In einem Beispiel einer Anwendung einer Transformation verwandelt die DCT den Restblock in den Frequenzbereich, innerhalb dessen die Koeffizientenwerte der Transformation auf der Ortsfrequenz basieren. Der niedrigste Frequenz-(DC)-Koeffizient im oberen linken Bereich der Matrix und der höchste Frequenzkoeffizient im unteren rechten Bereich der Matrix. Es ist erwähnenswert, dass die Größe eines Prädiktions-Blocks, und somit des sich daraus ergebenden Restblocks, sich von der Größe des Transformationsblocks unterscheiden kann. Zum Beispiel kann der Prädiktions-Block in kleinere Blöcke aufgeteilt werden, auf die separate Transformationen angewendet werden.After that, and still referring to 4 , the prediction block of the current block may be in the intra / inter-prediction stage 402 subtracted to produce a residual block (also called a remainder). The transformation stage 404 converts the rest into transformation coefficients - for example into the frequency domain using block-based transformations. Such block-based transforms include, for example, discrete cosine transform (DCT) asymmetric discrete sine transform (ADST). Other block-based transformations are also possible. Furthermore, combinations of different transformations can be applied to a single remainder. In one example of applying a transform, the DCT converts the remainder block into the frequency domain within which the coefficient values of the transform are based on the spatial frequency. The lowest frequency (DC) coefficient in the upper left of the matrix and the highest frequency coefficient in the lower right of the matrix. It is worth noting that the size of a prediction block, and thus the resulting residual block, may differ from the size of the transform block. For example, the prediction block may be broken up into smaller blocks to which separate transformations are applied.
Das Quantifizierungsstadium 406 wandelt die Transformationskoeffizienten unter Verwendung eines vom Quantisierer ausgegebenen Wertes oder einer Quantisierungsstufe in diskrete Quantum-Werte, die als quantifizierte Transformationskoeffizienten bezeichnet werden, um. Zum Beispiel können die Transformationskoeffizienten durch den vom Quantisierer ausgegebenen Wert geteilt werden und trunkiert werden. Die quantifizierten Transformationskoeffizienten werden dann im Entropiekodierungsstadium 408 entropiekodiert. Entropiekodierungen können unter Verwendung einer beliebigen Anzahl an Techniken, einschließlich Token und binären Bäumen, durchgeführt werden. Die entropiekodierten Koeffizienten werden dann zusammen mit sonstigen Informationen, die verwendet werden, um den Block zu dekodieren, und die zum Beispiel die Art der Prädiktion, die verwendet wird, die Transformationsart, Bewegungsvektoren und den vom Quantisierer ausgegebenen Wert beinhalten, am komprimierten Bitstream 420 ausgegeben. Die erforderlichen Informationen, um den Block zu dekodieren, können in den Block, den Frame, das Stück und/oder die Abschnittsüberschriften innerhalb des komprimierten Bitstreams 420 entropiekodiert werden. Der komprimierte Bitstream 420 kann auch als ein kodierter Videodatenstrom oder ein kodierter Video-Bitstream bezeichnet werden, und die Begriffe können hierin austauschbar verwendet werden.The quantification stage 406 converts the transform coefficients to discrete quantum values called quantized transform coefficients using a quantizer output or quantization level. For example, the transform coefficients may be divided by the value output from the quantizer and truncated. The quantized transform coefficients then become the entropy encoding stage 408 entropy. Entropy encodings can be performed using any number of techniques, including tokens and binary trees. The entropy-coded coefficients are then combined with other information used to decode the block and which includes, for example, the type of prediction that is used, the type of transformation, motion vectors, and the value output by the quantizer on the compressed bitstream 420 output. The information required to decode the block may be in the block, the frame, the piece and / or the section headings within the compressed bitstream 420 be entropy-coded. The compressed bitstream 420 may also be referred to as a coded video stream or a coded video bit stream, and the terms may be used interchangeably herein.
Der Rekonstruktionspfad in 4 (dargestellt mittels der punktierten Verbindungslinie) kann verwendet werden, um sicherzustellen, dass sowohl die Kodiervorrichtung 400 als auch die Dekodiervorrichtung 500 (im Folgenden beschrieben) denselben Referenzframe verwenden, um den komprimierten Bitstream 420 zu dekodieren. Der Rekonstruktionspfad führt Funktionen durch, die über ähnliche Eigenschaften wie Funktionen verfügen, die während des Dekodierverfahrens stattfinden, und auf die im Folgenden näher eingegangen wird, einschließlich der Dequantifizierung der quantifizierten Transformationskoeffizienten im Dequantifizierungsstadium 410 und der inversen Transformation der dequantifizierten Transformationskoeffizienten im inversen Transformationsstadium 412, um einen derivativen restlichen Block zu erzeugen (auch als ein derivativer Rest bezeichnet). Im Rekonstruktionsstadium 414 kann der Prädiktionsblock, der im Intra-/Inter-Prädiktionsstadium 402 prognostiziert wurde, zum derivativen Rest zugefügt werden, um einen rekonstruierten Block zu erzeugen. Das Loopfiltering-Stadium 416 kann auf den rekonstruierten Block angewendet werden, um eine Verzerrung. wie etwa Sperrartefakte, zu reduzieren.The reconstruction path in 4 (represented by the dotted connecting line) can be used to ensure that both the coding device 400 as well as the decoding device 500 (described below) the same Reference frame to the compressed bitstream 420 to decode. The reconstruction path performs functions that have similar properties to functions that occur during the decoding process and will be discussed in more detail below, including the dequantization of the quantized transform coefficients at the stage of dequantization 410 and the inverse transformation of the dequantized transform coefficients in the inverse transformation stage 412 to generate a residual derivative block (also referred to as a derivative residue). In the reconstruction stage 414 can be the prediction block, which in the intra / inter-prediction stage 402 was predicted to be added to the derivative residue to produce a reconstructed block. The Loopfiltering stage 416 can be applied to the reconstructed block to create a distortion. such as blocking artifacts.
Andere Variationen der Kodiervorrichtung 400 können verwendet werden, um den komprimierten Bitstream 420 zu kodieren. Zum Beispiel kann eine nicht transformbasierte Kodiervorrichtung 400 das restliche Signal direkt und ohne das Transformationsstadium 404 für bestimmte Blöcke oder Frames quantisieren. In einer anderen Implementierung kann die Kodiervorrichtung 400 über ein Quantifizierstadium 406 und ein Dequantifizierstadium 410 verfügen, die in einem einzigen Stadium kombiniert sind.Other variations of the coding device 400 can be used to get the compressed bitstream 420 to code. For example, a non-transform based coding device 400 the rest signal directly and without the transformation stage 404 quantize for specific blocks or frames. In another implementation, the coding device 400 about a quantification stage 406 and a dequantization stage 410 which are combined in a single stage.
5 ist ein Blockdiagramm einer Dekodiervorrichtung 500 in Übereinstimmung mit einer anderen Implementierung. Die Dekodiervorrichtung 500 kann in der Empfangsstation 106 implementiert werden, zum Beispiel durch das Bereitstellen eines Computersoftwareprogramms, das in Speicher 204 gespeichert ist. Das Computersoftwareprogramm kann Maschinenanweisungen beinhalten, die, wenn sie von einem Prozessor, wie etwa der CPU 202, ausgeführt werden, die Empfangsstation 106 dazu veranlassen, Videodaten auf die in 5 und in 6 unten beschriebene Weise zu dekodieren. Die Dekodiervorrichtung 500 kann auch in Hardware implementiert werden, die zum Beispiel in der Übertragungsstation 102 oder der Empfangsstation 106 enthalten ist. 5 Fig. 10 is a block diagram of a decoding apparatus 500 in accordance with another implementation. The decoding device 500 can in the receiving station 106 implemented, for example, by providing a computer software program stored in memory 204 is stored. The computer software program may include machine instructions when used by a processor, such as the CPU 202 , to be carried out, the receiving station 106 to induce video data on the in 5 and in 6 to decode below. The decoding device 500 can also be implemented in hardware, for example, in the transmission station 102 or the receiving station 106 is included.
Die Dekodiervorrichtung 500, die über ähnliche Eigenschaften wie der Rekonstruktionspfad der Kodiervorrichtung 400, die vorstehend besprochen wird, verfügt, beinhaltet ein Beispiel der folgenden Stadien, um verschiedene Funktionen durchzuführen, um einen Ausgabe-Videodatenstrom 516 vom komprimierten Bitstream 420 zu erzeugen: ein Entropie-Dekodierstadium 502, ein Dequantifizierungsstadium 504, ein inverses Transformationsstadium 506, eine Intra-/Inter-Prädiktionsstadium 508, ein Rekonstruktionsstadium 510, ein Loopfiltering-Stadium 512, und ein Deblockier-Filtering-Stadium 514. Sonstige strukturelle Variationen der Dekodiervorrichtung 500 können verwendet werden, um den komprimierten Bitstream 420 zu dekodieren.The decoding device 500 , which have similar properties as the reconstruction path of the coding device 400 discussed above includes an example of the following stages to perform various functions to an output video stream 516 from the compressed bitstream 420 to generate: an entropy decoding stage 502 , a de-quantification stage 504 , an inverse transformation stage 506 , an intra / inter-prediction stage 508 , a reconstruction stage 510 , a loopfiltering stage 512 , and a deblocking filtering stage 514 , Other structural variations of the decoding device 500 can be used to get the compressed bitstream 420 to decode.
Wenn der komprimierte Bitstream 420 zur Dekodierung präsentiert wird, können Datenelemente innerhalb des komprimierten Bitstreams 420 vom Entropie-Dekodierstadium 502 dekodiert werden, um einen Satz quantisierter Transformationskoeffizienten zu erzeugen. Im Dequantifizierungsstadium 504 werden die quantifizierten Transformationskoeffizienten (z. B. durch das Multiplizieren der quantifizierten Transformationskoeffizienten mit dem vom Quantisierer ausgegebenen Wert) dequantifiziert und im inversen Transformationsstadium 506 werden die dequantifizierten Transformationskoeffizienten unter Verwendung des ausgewählten Transformationstyps invers transformiert, um einen derivativen Rest zu erzeugen, der mit jenem Rest, der im inversen Transformationsstadium 412 in der Kodiervorrichtung 400 erzeugt wurde, identisch ist. Unter Verwendung der Header-Informationen, die vom komprimierten Bitstream 420 dekodiert wurden, kann die Dekodiervorrichtung 500 das Intra-/Inter-Prädiktionsstadium 508 verwenden, um denselben Prädiktionsblock, der in der Kodiervorrichtung 400 erzeugt wurde, z. B. im Intra-/Inter-Prädiktionsstadium 402, zu erzeugen. Im Rekonstruktionsstadium 510 kann der Prädiktionsblock zum derivaten Rest hinzugefügt werden, um einen rekonstruierten Block zu erzeugen. Das Loopfiltering Stadium 512 kann auf den rekonstruierten Block angewendet werden, um blockierende Artefakte zu reduzieren. Sonstige Filtervorgänge können auf den rekonstruierten Block angewendet werden. In diesem Beispiel wird das Deblockier-Filtering-Stadium 514 auf den rekonstruierten Block angewendet, um die Blockierverzerrung zu reduzieren, und das Ergebnis wird als ein Ausgabe-Videodatenstrom 516 ausgegeben. Der Ausgabe-Videodatenstrom 516 kann auch als ein dekodierter Videostream bezeichnet werden, und die Begriffe können austauschbar verwendet werden.When the compressed bitstream 420 for decoding, data elements can be inside the compressed bitstream 420 from the entropy decoding stage 502 be decoded to produce a set of quantized transform coefficients. In the de-quantification stage 504 For example, the quantized transform coefficients (eg, by multiplying the quantized transform coefficients by the value output by the quantizer) are dequantized and in the inverse transform stage 506 For example, the dequantized transform coefficients are inversely transformed using the selected transformation type to produce a derivative residue that is in the inverse transformation state 412 in the coding device 400 was generated is identical. Using the header information provided by the compressed bitstream 420 can be decoded, the decoding device 500 the intra / inter-prediction stage 508 use the same prediction block used in the coding device 400 was generated, for. In the intra / inter-prediction stage 402 , to create. In the reconstruction stage 510 For example, the prediction block may be added to the derivative remainder to generate a reconstructed block. The Loopfiltering stage 512 can be applied to the reconstructed block to reduce blocking artifacts. Other filtering operations can be applied to the reconstructed block. In this example, the deblocking filtering stage becomes 514 is applied to the reconstructed block to reduce the lock distortion and the result is output as an output video stream 516 output. The output video stream 516 can also be referred to as a decoded video stream, and the terms can be used interchangeably.
Sonstige Variationen der Dekodiervorrichtung 500 können verwendet werden, um den komprimierten Bitstream 420 zu dekodieren. Zum Beispiel kann die Dekodiervorrichtung 500 den Ausgabe-Videodatenstrom 516 ohne das Deblockier-Filtering-Stadium 514 erzeugen.Other variations of the decoding device 500 can be used to get the compressed bitstream 420 to decode. For example, the decoding device 500 the output video stream 516 without the deblocking filtering stage 514 produce.
Wie bereits vorstehend kurz angeführt, kann ein Block mittels einer Bewegungsvektorprädiktion und unter der Verwendung von Pixeln von einem Referenzframe oder unter der Verwendung von Pixeln von nahegelegenen Blocks kodiert oder dekodiert werden, um einen Prädiktionsblock zu generieren. In einigen Fällen kann das Kombinieren der zwei Techniken die Objekte innerhalb eines Bildes besser abgleichen, wobei die Videokompression gleichzeitig verbessert wird.As already briefly stated above, a block may be encoded or decoded by means of motion vector prediction and using pixels from a reference frame or using pixels from nearby blocks to generate a prediction block. In some cases, combining the two techniques can make the objects within an image better match, improving video compression at the same time.
6 ist ein Flussdiagramm eines Verfahrens 600 für das Kodieren oder das Dekodieren eines Blocks mittels der kombinierten Inter- und Intra-Prädiktion, gemäß einer Implementierung dieser Offenbarung. Die Methode oder das Verfahren 600 können in einem System, wie etwa dem Computergerät 200, implementiert werden, um die Kodierung oder die Dekodierung eines Videodatenstroms zu unterstützen. Das Verfahren 600 kann zum Beispiel als ein Softwareprogramm implementiert werden, das von einem Computergerät, wie etwa der Übertragungsstation 102 oder der Empfangsstation 106, ausgeführt wird. Das Softwareprogramm kann maschinenlesbare Anweisungen beinhalten, die in einem Speicher, wie etwa dem Speicher 204 gespeichert werden, der, wenn er von einem Prozessor, wie etwa der CPU 202 ausgeführt wird, das Computergerät dazu veranlasst, das Verfahren 600 durchzuführen. Das Verfahren 600 können auch unter Verwendung von Hardware vollständig oder teilweise implementiert werden. Wie vorstehend erklärt, können einige Computergeräte über mehrere Speicher und mehrere Prozessoren verfügen und die Schritte oder die Operationen des Verfahrens 600 können in derartigen Fällen unter der Verwendung verschiedener Prozessoren und Speicher verteilt werden. Die Verwendung der Begriffe „Prozessor” und „Speicher” im Singular, umfasst hierin sowohl Computergeräte, die lediglich über einen Prozessor oder einen Speicher verfügen, als auch Computergeräte, die über mehrere Prozessoren oder Speicher verfügen, die jeweils bei der Durchführung einiger aber nicht notwendigerweise aller angegebenen Schritte verwendet werden. 6 is a flowchart of a method 600 for encoding or decoding a block by means of the combined inter and intra prediction, according to an implementation of this disclosure. The method or procedure 600 can work in a system, such as the computing device 200 , can be implemented to support the encoding or decoding of a video data stream. The procedure 600 For example, it may be implemented as a software program executed by a computing device, such as the broadcasting station 102 or the receiving station 106 , is performed. The software program may include machine-readable instructions stored in memory, such as memory 204 when stored by a processor, such as the CPU 202 running, the computer device causes the procedure 600 perform. The procedure 600 can also be fully or partially implemented using hardware. As explained above, some computing devices may have multiple memories and multiple processors and the steps or operations of the method 600 can be distributed in such cases using various processors and memory. The use of the terms "processor" and "memory" in the singular includes herein both computer devices having only one processor or memory and computer devices having multiple processors or memory, each in performing some but not necessarily all specified steps are used.
Zur Vereinfachung der Erklärung wird das Verfahren 600 in einer Serie von Schritten oder Operationen abgebildet und beschrieben. Schritte und Operationen in Übereinstimmung mit dieser Offenbarung können jedoch in verschiedenen Reihenfolgen und/oder gleichzeitig erfolgen. Darüber hinaus können Schritte oder Operationen, in Übereinstimmung mit dieser Offenbarung, zusammen mit anderen Schritten oder Operationen, die hierin weder präsentiert noch beschrieben werden, erfolgen. Des Weiteren sind nicht alle veranschaulichten Schritte oder Operationen unbedingt notwendig, um ein Verfahren gemäß dem offenbarten Gegenstand zu implementieren. Das Verfahren 600 kann für jeden Block und jeden Frame des Eingabesignals wiederholt werden.To simplify the explanation, the procedure 600 mapped and described in a series of steps or operations. However, steps and operations in accordance with this disclosure may be in various orders and / or concurrently. In addition, steps or operations consistent with this disclosure may occur along with other steps or operations that are not presented or described herein. Furthermore, not all illustrated steps or operations are necessary to implement a method in accordance with the disclosed subject matter. The procedure 600 can be repeated for each block and each frame of the input signal.
Wenn es sich bei dem Verfahren 600 um ein Kodierungsverfahren handelt, kann es sich bei dem Eingabesignal zum Beispiel um den Videodatenstrom 300 handeln. Das Eingabesignal kann vom Computergerät 200, der das Verfahren 600 auf beliebige Art und Weise durchführt, empfangen werden. Zum Beispiel kann das Eingabesignal von der Bildwahrnehmungsvorrichtung 220 erfasst werden oder mittels einer anderen Vorrichtung über eine Eingabe, die mit dem Bus 212 verbunden ist, empfangen werden. Das Eingabesignal könnte in einer anderen Implementierung vom sekundären Speicher 214 abgerufen werden. Sonstige Arten des Empfangs und andere Quellen des Eingabesignals sind möglich. Wenn es sich zum Beispiel beim Verfahren 600 um ein Dekodierungsverfahren handelt, kann es sich bei dem Eingabesignal um einen kodierten Bitstream, wie etwa dem komprimierten Bitstream 420, handeln.If it is in the process 600 is a coding method, the input signal may be, for example, the video data stream 300 act. The input signal can be from the computer device 200 that's the procedure 600 be performed in any manner. For example, the input signal from the image perception device 220 be detected or by means of another device via an input that is connected to the bus 212 is connected. The input signal could be from the secondary memory in another implementation 214 be retrieved. Other types of reception and other sources of the input signal are possible. For example, when it comes to the procedure 600 is a decoding method, the input signal may be a coded bitstream, such as the compressed bitstream 420 , act.
Videokompressionsschemata können zuerst ein Bildframe in große Blöcke aufteilen. Eine Kodiervorrichtung kann große Blöcke auf rekursive Art und Weise in kleinere Blöcke spalten. Diese rekursiven Beziehungen zwischen Blöcken können von einer oder mehreren Baumstrukturen dargestellt werden. Für jeden Block, der einen Blattknoten einer Baumstruktur darstellt, kann die Kodiervorrichtung eine Intra- oder Inter-Prädiktion oder eine Kombination beider auswählen, um einen Prädiktionsblock zu erstellen.Video compression schemes may first divide an image frame into large blocks. A coding device can recursively split large blocks into smaller blocks. These recursive relationships between blocks can be represented by one or more tree structures. For each block representing a leaf node of a tree structure, the coding device may select an intra- or inter-prediction, or a combination of both, to create a prediction block.
Bei 602 wird eine Vorlage zur Prädiktion eines gegenwärtigen Blocks ermittelt. Mit ermittelt meinen wir ausgewählt, berechnet, gefunden, wiederhergestellt, gelesen und in jeglicher Weise ermittelt. Die Vorlage verfügt über Dimensionen, die einer sachgemäßen Teilmenge von Pixeln des gegenwärtigen Blocks entsprechen (d. h. ein Pixelmuster, welches einer sachgemäßen Teilmenge von Pixeln des gegenwärtigen Blocks entspricht). Eine sachgemäße Teilmenge ist ein mathematischer Begriff, der bedeutet, dass die Teilmenge nicht alle Elemente des Satzes beinhaltet. Mit anderen Worten ausgedrückt, verfügt die Vorlage über weniger Pixelpositionen als der gegenwärtige zu kodierende Block. Bei der Vorlage kann es sich um eine Vorlage aus einer Vielzahl von Vorlagen handeln (zum Beispiel eine Vorlage aus einer Vielzahl von Vorlagen, die auf eine bestimmte Art und Weise in Software oder Hardware, welche die Erfindung verkörpert, vordefiniert ist), die mit den gegenwärtigen Blockabmessungen (z. B. viereckige Blöcke, wie etwa 4×4, 8×8, 16×8, 8×16, 32×32, usw.) in Verbindung gebracht wird. Jede Blockgröße kann mit entsprechenden Vorlagen in Verbindung gebracht werden.at 602 a template for the prediction of a current block is determined. With determined, we mean selected, calculated, found, restored, read and determined in any way. The template has dimensions corresponding to a proper subset of pixels of the current block (ie, a pixel pattern corresponding to a proper subset of pixels of the current block). A proper subset is a mathematical term that means that the subset does not include all the elements of the sentence. In other words, the template has fewer pixel positions than the current block to be coded. The template may be a template from a variety of templates (for example, a template from a variety of templates that are predefined in a particular manner in software or hardware embodying the invention) associated with the current block dimensions (e.g., quadrilateral blocks such as 4x4, 8x8, 16x8, 8x16, 32x32, etc.). Each block size can be associated with corresponding templates.
Es ist wünschenswert aber nicht notwendig, dass jede der für eine Blockgröße zur Verfügung stehende Vielzahl von Vorlagen über mindestens eine Spalte und mindestens eine Reihe verfügt. Dies bedeutet Pixel oder Pixelstandorte in mindestens einer Spalte oder einer Reihe. Eine oder mehrere der Spalten können über eine Anzahl (oder Kardinalität) von Pixelstandorten verfügen, die einer ersten Dimension des gegenwärtigen Blocks gleichen und eine oder mehrere Reihen können über eine Anzahl (oder Kardinalität) von Pixelstandorten verfügen, die einer zweiten Abmessung des gegenwärtigen Blocks gleichen. In einigen Fällen verfügen die Spalten und Reihen über einen gemeinsamen ursprünglichen Pixelstandort (z. B., eine Ecke). Dies kann durch Bezugnahme auf die 7A–7B gesehen werden, bei denen es sich um Diagramme handelt, die Ausführungsformen einer Vorlage gemäß den hierin befindlichen Lehren darstellen.It is desirable, but not necessary, for each of the plurality of templates available for a block size to have at least one column and at least one row. This means pixels or pixel locations in at least one column or row. One or more of the columns may have a number (or cardinality) of pixel locations equal to a first dimension of the current block and one or more rows may have a number (or cardinality) of pixel locations equal to a second dimension of the current block. In some cases, the columns and rows have a common original pixel location (eg, a corner). This can be done by referring to the 7A - 7B which are diagrams illustrating embodiments of a template according to the teachings herein.
Genauer gesagt handelt es sich bei jeder der 7A–7C um eine entsprechende Vorlage 702, 704, 706, die für die Prädiktion eines 4×4 Blocks verwendet werden kann. Jedes Rechteck in einer Vorlage 702, 704, 706 stellt ein einzelnes Pixel dar, bei dem es sich um ein einzelnes Pixel handelt. Vorlage 702 stellt zusammen mit den unteren und rechten Kanten eines 4×4 Blocks eine Vorlage von Pixelstandorten dar und Vorlage 704 stellt zusammen mit den oberen und linken Kanten eines 4×4 Blocks eine Vorlage vom Pixelstandorten dar und Vorlage 706 stellt in der unteren rechten Ecke eines 4×4 Blocks eine Vorlage von Pixelstandorten in Form einer Treppe dar. In jedem dieser Beispiele umfassen die Abmessungen für jede Länge und Breite mindestens zwei Abmessungen, so dass die Vorlage 702, 704, 706 einer Form entspricht, bei der es sich nicht um eine rechteckige Form handelt. Für einen 4×4 Block sind auch andere Vorlagen möglich und andere Vorlagen würden für zu kodierende Blöcke unterschiedlicher Größe zur Verfügung stehen. Während die Pixelstandorte, d. h. die Standorte für vorhergesagte Pixel wünschenswerter- aber nicht notwendigerweise innerhalb einer Vorlage aneinander angrenzen sollten, kann die Form von jenen, die dargestellt werden, insoweit variieren, dass unterschiedliche Größen über unterschiedliche Formen verfügen.More specifically, each of the 7A - 7C to a corresponding template 702 . 704 . 706 which can be used for the prediction of a 4 × 4 block. Each rectangle in a template 702 . 704 . 706 represents a single pixel, which is a single pixel. template 702 Together with the bottom and right edges of a 4 × 4 block, represents a template of pixel locations and template 704 represents, together with the top and left edges of a 4 × 4 block, a template of pixel locations and template 706 represents in the lower right corner of a 4 × 4 block a template of pixel locations in the form of a staircase. In each of these examples, the dimensions for each length and width comprise at least two dimensions, so that the original 702 . 704 . 706 corresponds to a shape that is not a rectangular shape. For a 4 × 4 block other templates are also possible and other templates would be available for blocks of different sizes to be coded. While the pixel locations, ie, the predicted pixel locations, should be more desirably but not necessarily adjacent to one another within a template, the shape of those presented may vary to the extent that different sizes have different shapes.
Wenn es sich bei dem Verfahren 600 um ein Kodierungsverfahren handelt, kann das Ermitteln der Vorlage, im Gegenzug, das Auswählen jeder Vorlage, zum Beispiel aus einer Vielzahl von Vorlagen, die auf eine bestimmte Art und Weise vordefiniert wurden, sowie auch das Verwenden dieser in einer Raten-/Verzerrungsschleife beinhalten, um zu ermitteln, welche Vorlagen bei der Kodierung des Abschnitts des gegenwärtigen Blocks, der unter Verwendung der Vorlage gemäß der nachstehend vorliegenden Beschreibung inter-vorhergesagt wurde, zu den niedrigsten Raten-/Verzerrungsabmessungen führen. In einer anderen Implementierung werden die Pixel, die von jeder Vorlage ermittelt wurden, mit Pixeln, die von verschiedenen Intraprädiktionsmodi gemäß der hierin vorliegenden Beschreibung generiert wurden, verwendet und verschiedene Intraprädiktionsmodi werden in einer Raten-/Verzerrungsschleife verglichen, um zu ermitteln, welche Kombination aus den Vorlagen- und Intraprädiktionsmodi-Ergebnissen zur niedrigsten Raten-/Verzerrungsabmessung zur Kodierung des gegenwärtigen Blocks als ein Ganzes, führt. Wenn nur eine Vorlage zur Verfügung steht, sind derartige Techniken nicht notwendig und wenn mehrere Vorlagen zur Verfügung stehen, können sonstige Techniken zur Ermittlung der Vorlage verwendet werden.If it is in the process 600 In contrast, determining the template, in turn, may include selecting each template, for example, from a plurality of templates that have been predefined in a particular manner, as well as using them in a rate / distortion loop, to determine which templates lead to the lowest rate / distortion dimensions in the encoding of the portion of the current block inter-predicted using the template as described below. In another implementation, the pixels obtained from each template are used with pixels generated from different intra prediction modes according to the description herein, and different intra prediction modes are compared in a rate / distortion loop to determine which combination the template and intra prediction mode results at the lowest rate / distortion dimension to encode the current block as a whole. If only one template is available, such techniques are not necessary, and if multiple templates are available, other techniques can be used to identify the template.
Wenn es sich bei dem Verfahren 600 um ein Dekodierverfahren handelt, kann die Vorlage bei 602 mittels der Dekodierung der Header-Angaben ermittelt werden. Zum Beispiel kann jeder Vorlage ein Index oder ein Identifikator zugeordnet werden, der einer Kodiervorrichtung oder einer Dekodiervorrichtung im Allgemeinen bekannt ist. Dann kann die Kodiervorrichtung den Index oder den Identifikator der Vorlage, den sie bei 602 zur Übertragung auf eine Dekodiervorrichtung ermittelt, so kodieren, dass die Kodiervorrichtung die Vorlage bei 602 unter Verwendung des Index oder des Identifikators ermitteln kann.If it is in the process 600 is a decoding method, the template at 602 be determined by decoding the header information. For example, each template may be assigned an index or identifier generally known to a coding device or decoding device. Then, the coding device can use the index or the identifier of the template that it contains 602 determined for transmission to a decoding device, encode so that the coding device at the template 602 using the index or identifier.
Nachdem die Vorlage bei 604 ermittelt wurde, wird sie verwendet, um die inter-prognostizierten Pixelwerte für einen ersten Abschnitt eines Prädiktionsblocks zu ermitteln. Der erste Abschnitt verfügt über die Dimensionen der Vorlage. Das Ermitteln der inter-prognostizierten Werte kann das Durchführen einer ersten Bewegungssuche innerhalb eines Referenzframes für Pixelwerte beinhalten, die in jener Vorlage angeordnet sind, die am meisten mit jenen Werten der entsprechenden Pixel übereinstimmt, die sich innerhalb des gegenwärtigen zu kodierenden Blocks befinden. Das bedeutet, dass ein erster Bewegungsvektor gefunden wird, der zur besten Übereinstimmung für Pixelwerte innerhalb des gegenwärtigen Blocks, der mit der Form der Vorlage übereinstimmt, führt. Die Pixelwerte mit der höchsten Übereinstimmung füllen den ersten Abschnitt des Prädiktionsblocks für den gegenwärtigen Block aus.After the template at 604 is used, it is used to determine the inter-predicted pixel values for a first portion of a prediction block. The first section has the dimensions of the template. Determining the inter-predicted values may include performing a first motion search within a reference frame for pixel values located in the template that most closely matches those values of the corresponding pixels that are within the current block to be encoded. That is, a first motion vector is found that results in the best match for pixel values within the current block that matches the template's shape. The highest match pixel values fill in the first portion of the prediction block for the current block.
Dieses Beispiel der Ermittlung der inter-prognostizierten Werte macht jene Pixel, die am besten mit den Pixeln des gegenwärtigen Blocks in einem einzelnen Referenzframe übereinstimmen, ausfindig (z. B. ein letzter Frame, ein goldener Frame, ein alternativer Referenzframe). Videokodierschemata können entweder vor oder nach einem gegenwärtigen Frame, einschließlich des gegenwärtigen zu kodierenden Blocks für die Interprädiktion, mehrere Referenzframes verwenden. Zum Beispiel kann eine bidirektionale Prädiktion jene Pixel finden, die zu den Pixeln des gegenwärtigen Blocks am besten passen, der sich vorübergehend sowohl vor als auch nach dem gegenwärtigen Frame in der Videosequenz in angrenzenden Frames befindet und die Werte innerhalb des ersten Abschnitts des Prädiktionsblocks miteinander kombinieren (d. h. der Abschnitt, der innerhalb der Grenzen der Vorlage fällt). In diesem Fall werden zwei Bewegungsvektoren und zwei Referenzframes verwendet. In jedem Fall kann jeder Bewegungsvektor und ein Identifikator oder ein Index für jeden Referenzframe in den Video-Bitstream zur Übertragung auf eine Dekodiervorrichtung kodiert werden.This example of determining the inter-predicted values locates those pixels that best match the pixels of the current block in a single reference frame (e.g., a last frame, a golden frame, an alternative reference frame). Video encoding schemes may use multiple reference frames either before or after a current frame, including the current interpringiction block to be coded. For example, bi-directional prediction may find those pixels that best fit the pixels of the current block that are temporarily in adjacent frames both before and after the current frame in the video sequence and combine the values within the first portion of the prediction block (ie the section that falls within the bounds of the template). In this case, two motion vectors and two reference frames are used. In any case, each motion vector and an identifier or index for each reference frame may be included in the video bitstream be encoded for transmission to a decoding device.
In einer Dekodiervorrichtung kann das Ermitteln der inter-prognostizierten Pixelwerte bei 604 das Verwenden des Bewegungsvektors (der Bewegungsvektoren) und des Referenzframes (der Referenzframes) beinhalten, um die Pixelwerte vom Referenzframe auszuwählen, die in den ersten Abschnitt des von der Vorlage definierten Prädiktionsblocks miteinzubeziehen sind.In a decoding device, the determination of the inter-predicted pixel values may be included 604 using the motion vector (the motion vectors) and the reference frame (the reference frames) to select the pixel values from the reference frame to be included in the first portion of the prediction block defined by the template.
Nachdem die inter-prognostizierten Pixelwerte bei 604 ermittelt wurden, werden die intra-prognostizierten Werte für einen zweiten Abschnitt des Prädiktionsblocks bei 606 ermittelt. Der zweite Abschnitt überschneidet sich nicht mit dem ersten Abschnitt und kann mit der Ausnahme des ersten Abschnitts die Gesamtheit des Prädiktionsblocks umfassen. Die inter-prognostizierten Werte können unter Verwendung eines Intra-Prädiktionsmodus einer Vielzahl verfügbarer Intra-Prädiktionsmodi ermittelt werden. Aus diesem Grund kann das Ermitteln der intra-prognostizierten Pixelwerte bei 606 auch das Ermitteln des Intraprädiktionsmodus aus den verfügbaren Intraprädiktionsmodi beinhalten.After the inter-predicted pixel values come in 604 The intra-predicted values for a second section of the prediction block are added 606 determined. The second section does not overlap the first section and, with the exception of the first section, may comprise the entirety of the prediction block. The inter-predicted values may be determined using an intra-prediction mode of a variety of available intra-prediction modes. For this reason, determining the intra-predicted pixel values may be at 606 also include determining the intra prediction mode from the available intra prediction modes.
Wie kurz mit Bezugnahme auf die Ermittlung der Vorlage bei 602 erwähnt, kann der Intraprädiktionsmodus von der Kodiervorrichtung als Teil einer Raten-/Verzerrungsschleife ausgewählt werden, und zwar entweder alleine oder in Kombination mit der vorstehend beschriebenen Raten-/Verzerrungsschleife mit Bezug auf die Ermittlung der Vorlage und der inter-prognostizierten Pixel. Zum Beispiel können verschiedene Intra-Prädiktionsmodi mit jeder Vorlage oder nachdem die Vorlage separat ermittelt wurde, getestet werden, um herauszufinden, welche Arten von Prädiktion über die geringste Verzerrung bei einer gegebenen Rate verfügen, oder um herauszufinden, welche Anzahl an Bits, einschließlich Overhead-Bits, die im Bitstream enthalten sind, in einem kodierten Video-Bitstream übermittelt werden sollen, um die Art der verwendeten Prädiktion anzugeben. Die Verzerrung kann durch das Berechnen der Abmessung des Restblocks gemessen werden, welcher die Daten repräsentiert, die nach der Substraktion des resultierenden Prädiktionsblocks vom zu kodierenden gegenwärtigen Block übrigbleiben. Ein Beispiel einer Abmessung des Restblocks ist eine Summe absoluter Differenzen (SAD). SAD kann mittels der Summierung des absoluten Unterschieds zwischen dem Prädiktionsblock und dem gegenwärtigen Block auf einer Pixel-für-Pixel-Basis berechnet werden. Je kleiner die SAD, desto präziser ist der Prädiktionsblock in der Lage, den gegenwärtigen zu kodierenden Block vorherzusagen. Wenn der Intra-Prädiktionsmodus separat ermittelt wird, können statt des vollständigen Prädiktionsblocks nur die Raten-/Verzerrungsabmessungen, die mit dem zweiten Abschnitt des Prädiktionsblocks in Verbindung gebracht werden, in Betracht gezogen werden.How briefly with reference to the determination of the template at 602 The intra prediction mode may be selected by the encoder as part of a rate / distortion loop, either alone or in combination with the rate / distortion loop described above with respect to the template and inter-predicted pixel determination. For example, different intra-prediction modes can be tested with each template or after the template has been determined separately, to find out which types of prediction have the least distortion at a given rate, or to find out what number of bits, including overhead, are used. Bits contained in the bitstream are to be transmitted in a coded video bitstream to indicate the type of prediction used. The distortion can be measured by calculating the dimension of the residual block, which represents the data left after the subtraction of the resulting prediction block from the current block to be coded. An example of a dimension of the remainder block is a sum of absolute differences (SAD). SAD can be calculated by summing the absolute difference between the prediction block and the current block on a pixel-by-pixel basis. The smaller the SAD, the more precisely the prediction block is able to predict the current block to be coded. If the intra-prediction mode is determined separately, only the rate / distortion dimensions associated with the second portion of the prediction block may be considered instead of the complete prediction block.
8 ist ein Diagramm eines 4×4 Blocks, der verwendet wird, um verschiedene Intra-Prädiktionsmodi zu veranschaulichen. Obwohl 8 ein Beispiel eines 4×4 Blocks verwendet, können die hierin offenbarten Techniken auch mit anderen Blockgrößen verwendet werden. Der 4×4 Block aus 8 wird von den Pixeln a–p dargestellt und seine peripheren Pixel werden mit A–M gekennzeichnet. In einer Implementierung der hierin aufgeführten Lehren können Werte für die Pixel A–M verwendet werden, um die Pixelwerte für die Pixel a–p vorherzusagen, indem die Werte der peripheren Pixel A–M auf einen Prädiktionsblock erweitert werden, der über dieselbe Größe wie der Block verfügt, der vorhergesagt werden soll. 8th Figure 4 is a 4 × 4 block diagram used to illustrate various intra-prediction modes. Even though 8th Using an example of a 4 × 4 block, the techniques disclosed herein may also be used with other block sizes. The 4 × 4 block off 8th is represented by the pixels a-p and its peripheral pixels are labeled A-M. In one implementation of the teachings herein, values for the pixels A-M may be used to predict the pixel values for the pixels a-p by expanding the values of the peripheral pixels A-M to a prediction block that is the same size as the one Block that is to be predicted.
Die Pixel A–M, die im oberen und linken Teil eines gegenwärtigen Blocks aufzufinden sind, werden im Beispiel aus 8 verwendet, weil die Blöcke eines Frames oft in einer Rasterabtastreihenfolge von der oberen linken Ecke des Frames von links nach rechts entlang der Reihen, die vom oberen zum unteren Teil des Frames fallen, kodiert werden. Auf diese Weise werden die peripher zum Block verlaufenden Pixel A–M für einen gegebenen Block vor ihrer Verwendung kodiert und im Anschluss daran dekodiert worden sein, um den Block so vorherzusagen, dass die peripheren Pixel in der Kodiervorrichtung über denselben Wert, der in der Dekodiervorrichtung vorgefunden werden kann, verfingen. Es können jedoch, wie nachstehend erörtert, auch andere Pixel verwendet werden.The pixels A-M found in the upper and left parts of a current block become the example 8th because the blocks of a frame are often encoded in a raster scan order from the upper left corner of the frame from left to right along the rows falling from the top to the bottom of the frame. In this way, pixels A-M running peripherally to the block for a given block will have been encoded before being used and subsequently decoded to predict the block so that the peripheral pixels in the encoder will have the same value as in the decoder can be found, caught. However, as discussed below, other pixels may also be used.
Die 9A–9H sind Diagramme, die Beispiele von Intra-Prädiktionsmodi für den Block aus 8 darstellen. In 9A wird ein Intra-Prädiktionsmodus, der im Allgemeinen als ein vertikaler Intra-Prädiktionsmodus bezeichnet wird, dargestellt. In diesem Modus werden Prädiktionsblockpixel, die den Standorten der Pixel a, e, i und j des vorherzusagenden Blocks entsprechen, auf den Wert des peripheren Pixels A eingestellt, Prädiktionsblockpixel, die den Standorten der Pixel b, f, j und n des vorherzusagenden Blocks entsprechen, werden auf den Wert des peripheren Pixels B eingestellt, Prädiktionsblockpixel, die den Standorten der Pixel c, g, k und o des vorherzusagenden Blocks entsprechen, werden auf den Wert des peripheren Pixels C eingestellt, und Prädiktionsblockpixel, die den Standorten der Pixel d, h, l und p des vorherzusagenden Blocks entsprechen, werden auf den Wert des peripheren Pixels D eingestellt. Alternative Techniken für das Implementieren des vertikalen Intra-Prädiktionsmodus können Werte von zwei oder mehreren peripheren Achsen kombinieren, um einen Pixelwert zu berechnen, der im Prädiktionsblock verwendet werden soll, wie etwa durch die Mitteilung der Werte der peripheren Pixel.The 9A - 9H are diagrams that provide examples of intra-prediction modes for the block 8th represent. In 9A For example, an intra-prediction mode, which is generally referred to as a vertical intra-prediction mode, is illustrated. In this mode, prediction block pixels corresponding to the locations of the pixels a, e, i and j of the block to be predicted are set to the value of the peripheral pixel A, prediction block pixels corresponding to the locations of the pixels b, f, j and n of the block to be predicted , are set to the value of the peripheral pixel B, prediction block pixels corresponding to the locations of the pixels c, g, k and o of the block to be predicted are set to the value of the peripheral pixel C, and prediction block pixels representing the locations of the pixels d, h, l and p of the block to be predicted are set to the value of the peripheral pixel D. Alternative techniques for implementing the vertical intra-prediction mode may combine values of two or more peripheral axes to calculate a pixel value to be used in the prediction block, such as by communicating the values of the peripheral pixels.
9B stellt einen horizontalen Intra-Prädiktionsmodus dar. In diesem Beispiel wird Pixel I verwendet, um die Werte der Prädiktionsblockpixel, die den Standorten der Pixel a, b, c und d des vorherzusagen Blocks entsprechen, einzustellen, Pixel J wird verwendet, um die Werte der Prädiktionsblockpixel, die den Standorten der Pixel e, f, g und h des vorherzusagen Blocks entsprechen, einzustellen, Pixel K wird verwendet, um die Werte der Prädiktionsblockpixel, die den Standorten der Pixel i, j, k und l des vorherzusagen Blocks entsprechen, einzustellen, und Pixel L wird verwendet, um die Werte der Prädiktionsblockpixel, die den Standorten der Pixel m, n, o und p des vorherzusagen Blocks entsprechen, einzustellen. Wie im vorstehend beschriebenen Prädiktionsmodus können die peripheren Pixel (z. B. ihre Werte) kombiniert werden, um die Pixelwerte des Prädiktionsblocks einzustellen, anstatt einfach nur die Werte eines einzelnen peripheren Pixels über alle Pixelstandorte des Prädiktionsblocks hinweg zu wiederholen. 9B represents a horizontal intra-prediction mode. In this example, pixel I is used to set the values of the prediction block pixels corresponding to the locations of the pixels a, b, c, and d of the predict block, pixel J is used to calculate the values of the To set prediction block pixels corresponding to the locations of pixels e, f, g, and h of the predictive block, pixel K is used to set the values of the prediction block pixels corresponding to the locations of the pixels i, j, k, and l of the predictive block , and pixel L is used to set the values of the prediction block pixels corresponding to the locations of the pixels m, n, o and p of the block to be predicted. As in the prediction mode described above, the peripheral pixels (e.g., their values) may be combined to set the pixel values of the prediction block rather than simply repeating the values of a single peripheral pixel across all pixel locations of the prediction block.
9C veranschaulicht einen schrägen Intra-Prädiktionsmodus oder einen schrägen, diagonalen Intra-Prädiktionsmodus, bei dem die Richtung der Pfeile, entlang der die peripheren Pixel propagiert werden, um den Prädiktionsblock zu generieren, von der horizontalen Ebene aus gesehen, über einen Winkel von ungefähr 117° verfügen. In diesem Beispiel eines diagonalen Intra-Prädiktionsmodus werden die peripheren Pixel oder Kombinationen von zwei oder drei peripheren Pixeln propagiert, um den Prädiktionsblock in Richtung der Pfeile aus 9C zu bilden. Die Pixel im Prädiktionsblock, die zum Beispiel den Standorten der Pixel i und m des vorherzusagenden Blocks entsprechen, werden auf einen Wert eingestellt, der sich aus den Pixeln J und K zusammensetzt, usw. 9C FIG. 12 illustrates an oblique intra-prediction mode or an oblique, diagonal intra-prediction mode in which the direction of the arrows along which the peripheral pixels are propagated to generate the prediction block, viewed from the horizontal plane, over an angle of approximately 117 ° feature. In this example of a diagonal intra-prediction mode, the peripheral pixels or combinations of two or three peripheral pixels are propagated around the prediction block in the direction of the arrows 9C to build. The pixels in the prediction block corresponding to, for example, the locations of the pixels i and m of the block to be predicted are set to a value composed of the pixels J and K, and so on.
9D veranschaulicht einen weiteren schrägen, diagonalen Intra-Prädiktionsmodus, bei dem die Richtung der Pfeile, entlang der die peripheren Pixel propagiert werden, um den Prädiktionsblock zu generieren, von der horizontalen Ebene aus gesehen, über einen Winkel von ungefähr 63° verfügen. In diesem Beispiel eines diagonalen Intra-Prädiktionsmodus werden die peripheren Pixel oder Kombinationen von zwei oder drei peripheren Pixeln propagiert, um den Prädiktionsblock in Richtung der Pfeile aus 9D zu bilden. Die Pixel im Prädiktionsblock, die zum Beispiel den Standorten der Pixel a und e des vorherzusagenden Blocks entsprechen, werden auf einen Wert eingestellt, der sich aus den Pixeln A und B zusammensetzt, usw. 9D Figure 11 illustrates another oblique, diagonal intra-prediction mode in which the direction of the arrows along which the peripheral pixels are propagated to generate the prediction block, as viewed from the horizontal plane, have an angle of approximately 63 °. In this example of a diagonal intra-prediction mode, the peripheral pixels or combinations of two or three peripheral pixels are propagated around the prediction block in the direction of the arrows 9D to build. The pixels in the prediction block corresponding, for example, to the locations of the pixels a and e of the block to be predicted are set to a value composed of the pixels A and B, and so on.
9E veranschaulicht einen weiteren schrägen, diagonalen Intra-Prädiktionsmodus, bei dem die Richtung der Pfeile, entlang der die peripheren Pixel propagiert werden, um den Prädiktionsblock zu generieren, von der horizontalen Ebene aus gesehen, über einen Winkel von ungefähr 153° verfügen. In diesem Beispiel eines diagonalen Intra-Prädiktionsmodus werden die peripheren Pixel oder Kombinationen von zwei oder drei peripheren Pixeln propagiert, um den Prädiktionsblock in Richtung der Pfeile aus 9E zu bilden. Die Pixel im Prädiktionsblock, die zum Beispiel den Standorten der Pixel c und d des vorherzusagenden Blocks entsprechen, werden auf einen Wert eingestellt, der sich aus den Pixeln B und C zusammensetzt, usw. 9E Figure 11 illustrates another oblique diagonal intra-prediction mode in which the direction of the arrows along which the peripheral pixels are propagated to generate the prediction block, as viewed from the horizontal plane, is at an angle of approximately 153 °. In this example of a diagonal intra-prediction mode, the peripheral pixels or combinations of two or three peripheral pixels are propagated around the prediction block in the direction of the arrows 9E to build. The pixels in the prediction block corresponding to, for example, the locations of the pixels c and d of the block to be predicted are set to a value composed of the pixels B and C, and so on.
9F veranschaulicht einen weiteren schrägen, diagonalen Intra-Prädiktionsmodus, bei dem die Richtung der Pfeile, entlang der die peripheren Pixel propagiert werden, um den Prädiktionsblock zu generieren, von der horizontalen Ebene aus gesehen, über einen Winkel von ungefähr 27° verfügen. In diesem Beispiel eines diagonalen Intra-Prädiktionsmodus werden die peripheren Pixel oder Kombinationen von zwei oder drei peripheren Pixeln propagiert, um den Prädiktionsblock in Richtung der Pfeile aus 9F zu bilden. Die Pixel im Prädiktionsblock, die zum Beispiel den Standorten der Pixel a und b des vorherzusagenden Blocks entsprechen, werden auf einen Wert eingestellt, der sich aus den Pixeln I und J zusammensetzt, usw. 9F Figure 11 illustrates another oblique, diagonal intra-prediction mode in which the direction of the arrows along which the peripheral pixels are propagated to generate the prediction block, as viewed from the horizontal plane, have an angle of approximately 27 °. In this example of a diagonal intra-prediction mode, the peripheral pixels or combinations of two or three peripheral pixels are propagated around the prediction block in the direction of the arrows 9F to build. The pixels in the prediction block corresponding to, for example, the locations of the pixels a and b of the block to be predicted are set to a value composed of the pixels I and J, and so on.
9G veranschaulicht einen weiteren schrägen, diagonalen Prädiktionsmodus, bei dem die Richtung der Pfeile, entlang der die peripheren Pixel propagiert werden, um den Prädiktionsblock zu generieren, von der horizontalen Ebene aus gesehen, über einen Winkel von ungefähr 135° verfügen. In diesem Beispiel eines diagonalen Intra-Prädiktionsmodus werden die peripheren Pixel oder Kombinationen von zwei oder drei peripheren Pixeln propagiert, um den Prädiktionsblock in Richtung der Pfeile aus 9G zu bilden. Die Pixel im Prädiktionsblock, die zum Beispiel den Standorten der Pixel b und e des vorherzusagenden Blocks entsprechen, werden auf einen Wert eingestellt, der sich aus den Pixeln B und C zusammensetzt, usw. 9G Figure 11 illustrates another oblique, diagonal prediction mode in which the direction of the arrows along which the peripheral pixels are propagated to generate the prediction block, as viewed from the horizontal plane, have an angle of approximately 135 °. In this example of a diagonal intra-prediction mode, the peripheral pixels or combinations of two or three peripheral pixels are propagated around the prediction block in the direction of the arrows 9G to build. The pixels in the prediction block corresponding to, for example, the locations of the pixels b and e of the block to be predicted are set to a value composed of the pixels B and C, and so on.
9H veranschaulicht einen weiteren schrägen, diagonalen Prädiktionsmodus, bei dem die Richtung der Pfeile, entlang der die peripheren Pixel propagiert werden, um den Prädiktionsblock zu generieren, von der horizontalen Ebene aus gesehen, über einen Winkel von ungefähr 45° verfügen. In diesem Beispiel eines diagonalen Intra-Prädiktionsmodus werden die peripheren Pixel oder Kombinationen von zwei oder drei peripheren Pixeln propagiert, um den Prädiktionsblock in Richtung der Pfeile aus 9H zu bilden. Die Pixel im Prädiktionsblock, die zum Beispiel den Standorten der Pixel c und h des vorherzusagenden Blocks entsprechen, werden auf einen Wert eingestellt, der sich aus den Pixeln B und C zusammensetzt, usw. 9H Figure 11 illustrates another oblique, diagonal prediction mode in which the direction of the arrows along which the peripheral pixels are propagated to generate the prediction block, as viewed from the horizontal plane, are at an angle of approximately 45 °. In this example of a diagonal intra-prediction mode, the peripheral pixels or combinations of two or three peripheral pixels are propagated around the prediction block in the direction of the arrows 9H to build. The pixels in the prediction block corresponding, for example, to the locations of the pixels c and h of the block to be predicted are set to a value composed of the pixels B and C, and so on.
Sonstige Intra-Prädiktionsmodi können einen einzelnen Wert aus Kombinationen der peripheren Pixeln A–M bilden und Prädiktionsblockpixel a–p auf einen einzelnen Wert einstellen. Diese Modi, die manchmal auch DC-Prädiktion und TM-Prädiktion genannt werden, bilden einen einzelnen Pixelwert aus Kombinationen von Teilmengen der Pixel A–M und propagieren den einzelnen Wert im gesamten Prädiktionsblock und können hierin auch als Intra-Prädiktionsmodi eines einzelnen Werts bezeichnet werden. Other intra-prediction modes may form a single value from combinations of the peripheral pixels A-M and set prediction block pixels a-p to a single value. These modes, sometimes called DC prediction and TM prediction, form a single pixel value from combinations of subsets of pixels A-M and propagate the single value throughout the prediction block and may also be referred to herein as a single value intra-prediction mode ,
Unter erneuter Bezugnahme auf 6, kann das Verfahren 600 einen Identifikator für den Intra-Prädiktionsmodus an eine Dekodiervorrichtung übermitteln, indem es diesen in den Bitstream, wie mit Bezug auf den Index oder den Identifikator für die Vorlage beschrieben, kodiert. Das bedeutet, dass eine Kodiervorrichtung und eine Dekodiervorrichtung eine Tabelle oder eine sonstige Vorrichtung zur Verknüpfung der Intraprädiktionsmodi mit dem Index oder einem sonstigen Identifikator so teilen könnte, dass die Kodiervorrichtung den ermittelten Intraprädiktionsmodus für die Dekodiervorrichtung hinsichtlich ihrer Rekonstruktion des zweiten Abschnitts des Prädiktionsblocks, identifizieren kann. Wenn das Verfahren 600 in einer Dekodiervorrichtung implementiert wird, kann das Ermitteln der intra-prognostizierten Werte bei 606 das Dekodieren des Index oder des Identifikators des Intraprädiktionsmodus umfassen, der von der Kodiervorrichtung erhalten wurde, um die intra-prognostizierten Werte zu ermitteln.Referring again to 6 , the procedure can 600 transmit an intra prediction mode identifier to a decoder by encoding it into the bitstream as described with respect to the index or identifier for the template. This means that a coding device and a decoding device could share a table or other device for linking the intra prediction modes with the index or another identifier such that the coding device can identify the determined intra prediction mode for the decoding device with regard to its reconstruction of the second section of the prediction block , If the procedure 600 implemented in a decoding apparatus, determining the intra-predicted values may be included 606 include decoding the index or identifier of the intraprediction mode obtained from the encoder to determine the intra-predicted values.
10 ist ein Diagramm, das verwendet wird, um ein Beispiel des Verfahrens aus 6 zu erklären. In diesem Beispiel wird ein 4×4 Prädiktionsblock 1000 dargestellt. Das Beschriftungssystem aus 8 wird in dieser Erklärung verwendet. Bei dem Referenzframe handelt es sich um den letzten Frame und der Bewegungsvektor beträgt (–4, 4). Wie vom Standort des Prädiktionsblocks aus 10 dargestellt, zeigt der Bewegungsvektor im letzten Frame vom Standort des gegenwärtigen Blocks im gegenwärtigen Frame vier Pixel nach links und vier Pixel nach unten. Die inter-prognostizierten Werte A1, B1, C1, I1, J1, K1, M1 des ersten Abschnitts 1002 werden unter Verwendung der Vorlage 704 aus 7B ermittelt. Insbesondere ist der erste Abschnitt 1002 durch das Kopieren der vorlagengeformten Pixel 1004 vom Standort, der vom Bewegungsvektor im letzten Frame zum (z. B. vorlagengeformt) ersten Abschnitt 1002 angegeben wird, ausgefüllt. Die inter-prognostizierten Pixelwerte f, g, h, j, k, l, n, o, p werden für den verbliebenen 3×3 zweiten Abschnitt 1006 des Prädiktionsblocks 1000 unter Verwendung eines Intraprädiktionsmodus ermittelt. 10 is a diagram that is used to illustrate an example of the procedure 6 to explain. In this example, a 4 × 4 prediction block 1000 shown. The labeling system off 8th is used in this statement. The reference frame is the last frame and the motion vector is (-4, 4). As from the location of the prediction block 10 For example, in the last frame, the motion vector in the last frame from the location of the current block in the current frame is four pixels to the left and four pixels to the bottom. The inter-predicted values A1, B1, C1, I1, J1, K1, M1 of the first section 1002 be using the original 704 out 7B determined. In particular, the first section 1002 by copying the template-formed pixels 1004 from the location of the motion vector in the last frame to the (eg, template-shaped) first section 1002 is filled out. The inter-predicted pixel values f, g, h, j, k, l, n, o, p become for the remaining 3x3 second portion 1006 of the prediction block 1000 determined using an intra prediction mode.
Es gibt mindestens zwei Techniken, gemäß denen der zweite Abschnitt 1006 unter Verwendung der Intra-Prädiktion gemäß den hierin aufgeführten Lehren erstellt werden kann. In einer ersten Technik werden die peripheren Pixel A–M, die sich im oberen linken Bereich des gegenwärtigen Blocks, für den der Prädiktionsblock 1000 generiert wird, befinden, bzw. Kombinationen dieser peripheren Pixel, in die von einem der Sätze der Pfeile aus den 9A–9H angegebenen Richtungen propagiert, um die fehlenden Pixelpositionen des zweiten Abschnitts 1006 auszufüllen, während Pixelzahlstandorte des ersten Abschnitts 1002 übersprungen werden. Zum Beispiel könnte ein modifizierter horizontaler Intra-Prädiktionsmodus, der über ähnliche Eigenschaften wie jener, der in 9B dargestellt wird, verfügt, durch das Einstellen der Prädiktionsblockpixel f, g, und h auf den Wert des peripheren Pixels J, und durch das Einstellen der Prädiktionsblockpixel j, k, und l auf den Wert des peripheren Pixels K, und durch das Einstellen der Prädiktionsblockpixel n, o, und p auf den Wert des peripheren Pixels L implementiert werden. Die anderen Intra-Prädiktionsmodi aus den 9B–9H können auf ähnliche Weise modifiziert werden.There are at least two techniques according to which the second section 1006 using intra-prediction according to the teachings herein. In a first technique, the peripheral pixels A-M located in the upper left area of the current block for which the prediction block 1000 is generated, or combinations of these peripheral pixels, in which of one of the sets of arrows from the 9A - 9H directions propagated to the missing pixel positions of the second section 1006 while pixel number locations of the first section 1002 be skipped. For example, a modified horizontal intra-prediction mode could have similar properties to those in FIG 9B by adjusting the prediction block pixels f, g, and h to the value of the peripheral pixel J, and by setting the prediction block pixels j, k, and l to the value of the peripheral pixel K, and adjusting the prediction block pixels n, o, and p are implemented to the value of the peripheral pixel L. The other intra-prediction modes from the 9B - 9H can be modified in a similar way.
In einer anderen Technik kann das Ermitteln der intra-prognostizierten Pixelwerte das Generieren der inter-prognostizierten Pixelwerte unter Verwendung mindestens einiger Pixelwerte der inter-prognostizierten Pixelwerte umfassen. In 10 könnte ein modifizierter horizontaler Intra-Prädiktionsmodus, der über ähnliche Eigenschaften wie der in 9B dargestellte verfügt, zum Beispiel durch die Einstellung der Prädiktionspixel f, g und h auf den Wert des intra-prognostizierten Pixels I1, durch die Einstellung der Prädiktionspixel j, k und l auf den Wert des intra-prognostizierten Pixels J1 und durch die Einstellung der Prädiktionspixel n, o und p auf den Wert des intra-prognostizierten Pixels K1 implementiert werden. Auf diese Weise kann ein Prädiktionsblock von Pixelwerten für einen gegenwärtigen Block in einem gegenwärtigen Frame unter Verwendung einer Intra-Prädiktion von Pixelwerten von einem ersten Referenzframe ermittelt werden, wobei die Pixelwerte vom ersten Referenzframe unter Verwendung der auf der Vorlage basierten Inter-Prädiktion ermittelt werden. Die anderen Intra-Prädiktionsmodi der 9B–9H können auf ähnliche Weise modifiziert werden.In another technique, determining the intra-predicted pixel values may include generating the inter-predicted pixel values using at least some pixel values of the inter-predicted pixel values. In 10 could be a modified horizontal intra-prediction mode that has similar properties to those in 9B 1, by setting the prediction pixels f, g and h to the value of the intra-predicted pixel I1, by setting the prediction pixels j, k and l to the value of the intra-predicted pixel J1 and by adjusting the prediction pixels n, o and p are implemented to the value of the intra-predicted pixel K1. In this manner, a prediction block of pixel values for a current block in a current frame may be determined using intra-prediction of pixel values from a first reference frame, where the pixel values from the first reference frame are determined using template-based inter-prediction. The other intra-prediction modes of 9B - 9H can be modified in a similar way.
In anderen Beispielen können Intra-Prädiktionsmodi, die zuvor noch nicht zur Verfügung standen, verwendet werden. Herkömmlicherweise verwenden Intra-Prädiktionsmodi diese sich im oberen linken Bereich des gegenwärtigen Blocks befindlichen Pixel, um den Prädiktionsblock zu ermitteln, da es sich bei diesen Pixeln um die einzigen Pixel handelt, die bereits zur Zeit der Prädiktion des gegenwärtigen Blocks kodiert und dekodiert wurden. Da der erste Abschnitt des Prädiktionsblocks hierin jedoch Pixelwerte von einem kodierten und dekodierten Referenzframe verwendet, versetzen verschiedene Formen der Vorlagen die Intra-Prädiktion in die Lage, in Richtungen und auf Arten und Weisen durchgeführt zu werden, die in bereits bestehenden Intraprädiktionsmodi nicht zur Verfügung stehen. Zum Beispiel könnte die Verwendung der Vorlage 702 aus 7A zur Ermittlung der inter-prognostizierten Pixelwerte für den ersten Abschnitt eines Prädiktionsblocks, kodierte und dekodierte Pixel auf allen vier Seiten des 4×4 Prädiktionsblocks bereitstellen-Pixel von im linken und oberen Bereich benachbarten Blöcken und inter-prognostizierten Pixel im rechten und unteren Bereich des Prädiktionsblocks. Alle diese Pixel sind in verschiedenen horizontalen, vertikalen, diagonalen Intraprädiktionsmodi oder Intraprädiktionsmodi eines einzelnen Werts verfügbar. In einem Beispiel steht ein horizontaler Intra-Prädiktionsmodus zur Verfügung, der Pixelwerte von inter-prognostizierten Pixelwerten auf der rechten Seite propagiert und in einem anderen Beispiel steht ein vertikaler Prädiktionsmodus zur Verfügung, der Pixelwerte von inter-prognostizierten Pixeln auf der unteren Seite propagiert.In other examples, intra-prediction modes that were not previously available may be used. Conventionally, intra-prediction modes use these pixels located in the upper left area of the current block to determine the prediction block, since these pixels are the only pixels already coded and decoded at the time of prediction of the current block. However, since the first portion of the prediction block uses pixel values from a coded and decoded reference frame herein various forms of templates allow the intra-prediction to be performed in directions and ways that are not available in pre-existing intraprediction modes. For example, the use of the template 702 out 7A for determining the inter-predicted pixel values for the first section of a prediction block, providing coded and decoded pixels on all four sides of the 4 × 4 prediction block, pixels of blocks adjacent to the left and top, and inter-predicted pixels in the right and bottom sections of the prediction block , All of these pixels are available in different horizontal, vertical, diagonal intra prediction modes or intra prediction modes of a single value. In one example, a horizontal intra-prediction mode is available that propagates pixel values of inter-predicted pixel values on the right side, and in another example, a vertical prediction mode is available that propagates pixel values of inter-predicted pixels on the bottom side.
Ferner können in einigen Intra-Prädiktionsmodi Pixel von Blöcken, die an den gegenwärtigen Block angrenzen, zusammen mit inter-prognostizierten Pixeln verwendet werden.Further, in some intra-prediction modes, pixels of blocks adjacent to the current block may be used along with inter-predicted pixels.
Unter erneuter Bezugnahme auf 6 wird der gegenwärtige Block unter Verwendung des Prädiktionsblocks kodiert oder dekodiert. Das Kodieren des gegenwärtigen Blocks unter Verwendung des Prädiktionsblocks 608 kann das Ermitteln des Rests für den gegenwärtigen Block und das Kodieren des Rests in einen kodierten Bitstream mit Informationen, die zur Dekodierung des gegenwärtigen Blocks erforderlich sind, beinhalten. Zum Beispiel könnte das Kodierungsverfahren die Verarbeitung des Rests unter Verwendung des Transformationsstadiums 404, des Quantifizierungsstadiums 406 und des Entropiekodierungsstadiums 408, wie mit Bezugnahme auf 4 beschrieben, beinhalten. Die erforderlichen Informationen zur Dekodierung des gegenwärtigen Blocks können einen Modus-Indikator (manchmal auch Flagge genannt), der angibt, dass der gegenwärtige Block unter Verwendung einer Vorlage kodiert wurde, einen Indikator der Vorlage, den Bewegungsvektor (die Bewegungsvektoren), der (die) infolge der Bewegungssuche (der Bewegungssuchen) gefunden wurden, die Identifikation des/der Referenzframes, und einen Indikator für den der Intra-Prädiktionsmodus verwendet wurde, um den zweiten Abschnitt des Prädiktionsblocks zu ermitteln, beinhalten. Die Informationen können im Frame, Stück, Segment, oder den Block-Headern enthalten sein und es müssen nicht alle erforderlichen Informationen im selben Header übermittelt werden. Außerdem müssen nicht sämtliche Informationen übermittelt werden. Falls die Dekodiervorrichtung einen Test an den Daten durchführen kann, um einen Dekodiermodus auszuwählen, ohne Bits zu übermitteln, kann Bandbreite gespart werden. Andere Modifikationen sind möglich.Referring again to 6 For example, the current block is encoded or decoded using the prediction block. Encoding the current block using the prediction block 608 may include determining the remainder for the current block and encoding the remainder into an encoded bitstream with information required to decode the current block. For example, the encoding process could process the remainder using the transformation stage 404 , the quantification stage 406 and the entropy coding stage 408 as with reference to 4 described, include. The information required to decode the current block may include a mode indicator (sometimes called a flag) indicating that the current block has been encoded using a template, an indicator of the template, the motion vector (motion vectors), the (s) as a result of the motion search (motion searches), the identification of the reference frame (s), and an indicator for which the intra-prediction mode was used to determine the second portion of the prediction block. The information may be contained in the frame, piece, segment, or block headers, and not all the required information needs to be communicated in the same header. In addition, not all information must be transmitted. If the decoder can test on the data to select a decode mode without transmitting bits, bandwidth can be saved. Other modifications are possible.
Das Dekodieren des gegenwärtigen Blocks unter Verwendung des Prädiktionsblocks bei 608 beinhaltet das Dekodieren des Rests für den gegenwärtigen Block vom Bitstream und das Hinzufügen des Prädiktionsblocks zum Rest. Zum Beispiel kann das Dekodierungsverfahren die Verarbeitung des Rests unter Verwendung des Entropie-Dekodierungsstadiums 502, des Dequantifizierungsstadiums 504, und des inversen Transformationsstadiums 506, wie mit Bezugnahme auf 5 dargestellt, beinhalten. Im Anschluss daran könnte der gegenwärtige Block am Rekonstruktionsstadium 510, wie auch mit Bezugnahme auf 5 dargestellt, rekonstruiert werden.Decode the current block using the prediction block at 608 includes decoding the remainder for the current block from the bitstream and adding the prediction block to the remainder. For example, the decoding method may include processing the remainder using the entropy decode stage 502 , the stage of dequantization 504 , and the inverse transformation stage 506 as with reference to 5 shown include. Following this, the current block could be at the reconstruction stage 510 as well as with reference to 5 represented, reconstructed.
Das Ermitteln von Prädiktionsblöcken unter Verwendung einer wie hierin beschriebenen kombinierten Inter- und Intraprädiktion, im Gegensatz zur Verwendung entweder einer Inter- oder einer Intraprädiktion für sich, kann dazu führen, dass Blöcke eines Frames mit verbesserter Genauigkeit vorhergesagt werden. Dies führt dazu, dass Videoframes unter Verwendung einer geringeren Anzahl an Bits übertragen werden, wobei die Anforderungen an die Breitbandverbindung geringer ausfallen; und dabei handelt es sich um ein wünschenswerteres Ergebnis.Determining prediction blocks using combined inter- and intra-prediction as described herein, as opposed to using either inter- or intra-prediction alone, can result in blocks of a frame being predicted with improved accuracy. As a result, video frames are transmitted using fewer bits, with broadband connection requirements being lower; and this is a more desirable result.
Die Aspekte der Kodierung und Dekodierung, die vorstehend beschrieben werden, veranschaulichen einige Beispiele von Kodierungs- und Dekodierungstechniken. Es ist jedoch selbstverständlich, dass das Kodieren und das Dekodieren, gemäß der Verwendung dieser Begriffe in den Ansprüchen, Komprimierung, Dekomprimierung, Transformation oder jede andere Verarbeitung oder Änderung von Daten bedeuten könnte.The coding and decoding aspects described above illustrate some examples of coding and decoding techniques. It is to be understood, however, that the use of these terms in the claims could imply compression, decompression, transformation, or any other processing or modification of data.
So wie es hierin verwendet ist, bedeutet das Wort „Beispiel”, „Ausführungsform” oder „Aspekt” „als ein Beispiel, eine Konkretisierung oder Darstellung dienend”. Jeglicher Gesichtspunkt oder Entwurf, der hierin unter Verwendung dieser Wörter beschrieben wird, ist nicht notwendigerweise als vorzugsweise oder vorteilhaft gegenüber sonstigen Gesichtspunkten oder Entwürfen aufzufassen. Das Ziel der Verwendung dieser Wörter besteht eher darin, Konzepte auf eine konkrete Art und Weise präsentieren. Wie in dieser Anmeldung benutzt, soll der Begriff „oder” ein einschließendes „oder” und nicht ein ausschließendes „oder” bedeuten. Das heißt, wenn nicht anders angegeben oder aus dem Zusammenhang deutlich hervorgehend, soll der Ausdruck „X beinhaltet A oder B” alle der natürlichen einschließenden Permutationen bedeuten. Das heißt, wenn X A beinhaltet; X B beinhaltet; oder X sowohl A als auch B beinhaltet, dann ist unter allen der vorherigen Instanzen „X beinhaltet A oder B” erfüllt. Darüber hinaus kann die Verwendung des Artikels „ein” und „eine” in dieser Anmeldung und den beigefügten Ansprüchen generell so interpretiert werden, dass wenn nicht anders angegeben oder aus dem Zusammenhang deutlich „ein oder mehrere” gemeint ist, was in einer Singular-Form ausgedrückt wird. Außerdem soll die durchgängige Verwendung des Begriffs „eine Implementierung” oder „die Implementierung” nicht dasselbe wie Ausführungsform oder Implementierung bedeuten, es sei denn er wird ausdrücklich als eine solche bezeichnet.As used herein, the word "example", "embodiment" or "aspect" means "serving as an example, concretization or representation". Any aspect or design described herein using these words is not necessarily to be construed as preferable or advantageous over other aspects or designs. The goal of using these words is rather to present concepts in a concrete way. As used in this application, the term "or" is intended to mean an inclusive "or" and not an exclusive "or". That is, unless otherwise stated or obvious from the context, the term "X includes A or B" is intended to mean all of the natural enclosing permutations. That is, if X includes A; X B includes; or X includes both A and B, then among all the previous instances "X includes A or B" is satisfied. Moreover, the use of the article "a" and "an" in this application and the appended claims may be interpreted generally as meaning, unless otherwise specified or clearly signified "one or more", which is in a singular form is expressed. In addition, the consistent use of the term "an implementation" or "implementation" is not intended to mean the same as embodiment or implementation unless expressly referred to as such.
Implementierungen der Übertragungsstation 102 und/oder der Empfangsstation 106 (und die Algorithmen, Verfahren, Anweisungen, usw., die darauf gespeichert sind und/oder davon ausgeführt werden, einschließlich von der Kodiervorrichtung 400 und der Dekodiervorrichtung 500) können mittels Hardware, Software oder einer Kombination davon realisiert werden. Die Hardware kann zum Beispiel Computer, Intellectual Propery(IP)-Kerne, anwendungsspezifische integrierte Schaltungen (ASIC), programmierbare logische Anordnungen, optische Prozessoren, programmierbare logische Steuerungen, Mikrocode, Microcontroller, Server, Mikroprozessoren, digitale Signalprozessoren und alle sonstigen geeigneten Schaltungen beinhalten. In den Ansprüchen sollte der Begriff „Prozessor” als jede der vorstehend genannten Hardware umfassend, und zwar unabhängig davon, ob einzeln oder in Kombination, verstanden werden. Die Begriffe „Signal” und „Daten” werden austauschbar verwendet. Ferner müssen die Abschnitte der Übertragungsstation 102 und der Empfangsstation 106 nicht notwendigerweise auf dieselbe Weise implementiert werden.Implementations of the transmission station 102 and / or the receiving station 106 (and the algorithms, methods, instructions, etc. stored and / or executed thereon, including the encoder 400 and the decoding device 500 ) can be realized by means of hardware, software or a combination thereof. The hardware may include, for example, computers, Intellectual Propery (IP) cores, application specific integrated circuits (ASIC), programmable logic arrays, optical processors, programmable logic controllers, microcode, microcontrollers, servers, microprocessors, digital signal processors, and any other suitable circuitry. In the claims, the term "processor" should be understood to include any of the foregoing hardware, whether alone or in combination. The terms "signal" and "data" are used interchangeably. Furthermore, the sections of the transfer station 102 and the receiving station 106 not necessarily be implemented in the same way.
Ferner können die Übertragungsstation 102 oder die Empfangsstation 106, zum Beispiel, gemäß einem Aspekt, unter Verwendung eines Allzweck-Computers oder eines Altzweck-Prozessors mit einem Computerprogramm implementiert werden, das, sofern es ausgeführt wird, alle entsprechenden Verfahren, Algorithmen und/oder Anwendungen, die hierin beschrieben werden, ausführt. Darüber hinaus oder alternativ dazu, kann zum Beispiel ein für einen bestimmten Zweck vorgesehener Computer/Prozessor verwendet werden, der eine andere Hardware umfassen kann, um jegliche der hierin beschriebenen Verfahren, Algorithmen oder Anweisungen auszuführen.Furthermore, the transmission station 102 or the receiving station 106 For example, in one aspect, using a general-purpose computer or a general-purpose processor may be implemented with a computer program that, when executed, performs all of the corresponding methods, algorithms, and / or applications described herein. Additionally or alternatively, for example, a dedicated computer / processor may be used that may include other hardware to perform any of the methods, algorithms, or instructions described herein.
Die Übertragungsstation 102 und die Empfangsstation 106 können zum Beispiel auf Computern in einem Videokonferenzsystem implementiert werden. Alternativ dazu kann die Übertragungsstation 102 auf einem Server implementiert werden und die Empfangsstation 106 kann auf einem vom Server separaten Gerät, wie etwa einem Hand gehaltenen Kommunikationsgerät, implementiert werden. Im vorliegenden Fall kann die Übertragungsstation 102 Inhalte, die eine Kodiervorrichtung 400 verwenden, in ein kodiertes Videosignal kodieren und das kodierte Videosignal zum Kommunikationsgerät übermitteln. Im Gegenzug kann das Kommunikationsgerät dann das kodierte Videosignal unter Verwendung einer Dekodiervorrichtung 500 dekodieren. Alternativ dazu kann das Kommunikationsgerät Inhalte, die lokal auf dem Kommunikationsgerät gespeichert werden, wie zum Beispiel Inhalte, die nicht von der Übertragungsstation 102 übermittelt wurden, dekodieren. Andere geeignete übertragende oder empfangende Implementierungsschemata stehen zur Verfügung. Zum Beispiel kann es sich bei der Empfangsstation 106 im Allgemeinen eher um einen stationären Personal Computer als um ein tragbares Kommunikationsgerät handeln und/oder ein Gerät, einschließlich einer Kodiervorrichtung 400 kann auch eine Dekodiervorrichtung 500 beinhalten.The transmission station 102 and the receiving station 106 can be implemented on computers in a videoconferencing system, for example. Alternatively, the transfer station 102 be implemented on a server and the receiving station 106 can be implemented on a server separate device, such as a hand held communication device. In the present case, the transfer station 102 Content that is a coding device 400 use, encode in an encoded video signal and transmit the encoded video signal to the communication device. In turn, the communication device may then encode the encoded video signal using a decoding device 500 decode. Alternatively, the communication device may store contents stored locally on the communication device, such as content not from the transmission station 102 were transmitted, decode. Other suitable transmitting or receiving implementation schemes are available. For example, it may be at the receiving station 106 generally more likely to be a stationary personal computer than a portable communication device and / or device, including a coding device 400 can also be a decoding device 500 include.
Ferner können sämtliche oder ein Abschnitt der Implementierungen der vorliegenden Offenbarung die Form eines Computerprogrammprodukts annehmen, auf das zum Beispiel von einem physisch greifbaren computerverwendbaren oder computerlesbaren Medium zugegriffen werden kann. Bei einem computerverwendbaren oder computerlesbaren Medium kann es sich um jedes Gerät handeln, welches das Programm zum Beispiel auf physisch greifbare Weise enthalten, speichern, kommunizieren oder transportieren kann, damit es von jedem beliebigen Prozessor oder in Verbindung mit jedem beliebigen Prozessor verwendet werden kann. Bei dem Medium kann es sich zum Beispiel um ein elektronisches, magnetisches, optisches, elektromagnetisches oder ein Halbleitergerät handeln. Andere geeignete Medien stehen ebenfalls zur Verfügung.Further, all or a portion of the implementations of the present disclosure may take the form of a computer program product that may be accessed, for example, by a physically tangible computer-usable or computer-readable medium. A computer-usable or computer-readable medium may be any device that may, for example, physically contain, store, communicate, or transport the program for use by any processor or in conjunction with any processor. The medium may be, for example, an electronic, magnetic, optical, electromagnetic or semiconductor device. Other suitable media are also available.
Die vorstehend beschriebenen Ausführungsformen, Implementierungen und Aspekte wurden beschrieben, um ein einfaches Verständnis der vorliegenden Erfindung zu ermöglichen und schränken die vorliegende Erfindung nicht ein. Die Erfindung soll im Gegenteil verschiedene Modifizierungen und äquivalente Anordnungen innerhalb des Umfangs der angehängten Ansprüche abdecken, deren Schutzbereich die breiteste Interpretation erfahren soll, um so alle solche Modifikationen und äquivalenten Aufbauten zu umfassen, wie es unter dem Gesetz vorgesehen ist.The above-described embodiments, implementations, and aspects have been described in order to provide a simple understanding of the present invention, and do not limit the present invention. On the contrary, the invention is intended to cover various modifications and equivalent arrangements within the scope of the appended claims, the scope of which is to be accorded the broadest interpretation, so as to encompass all such modifications and equivalent constructions as are provided under the law.