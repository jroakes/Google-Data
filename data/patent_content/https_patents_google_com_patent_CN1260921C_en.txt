Embodiment
In general, the disclosure relates to WLAN (wireless local area network) (perhaps WLAN), and provides continuous service to the communication unit (CU) that works in wherein.The WLAN of perception interest is that those utilize frequency hopping or frequency hopping that the WLAN of service is provided to CU especially.The example of this WLAN comprises that those are commonly referred to as the WLAN of bluetooth or family expenses radio frequency WLAN.As following further discussion,, just can advantageously use these principles and equivalent thereof to come to provide handover service, i.e. roaming service for the CU that in this system, operates as long as used the various principles and the combination thereof of invention.
The disclosure is provided to further explain the optimal mode that constitutes and use various embodiments of the invention in a kind of mode that allows.The disclosure also is provided to strengthen understanding and the evaluation to the principle of the invention and advantage, rather than limits the present invention by any way.The present invention only is defined by the claims, and the content that the present invention is limited also comprises all equivalents of the claim of any modification done during the application's pending trial and mandate.
It will be appreciated that, the use of term rationally, such as first and second, the use of top and bottom and similar terms only is used for discerning different entity or actions mutually, and needn't need or hint this relation or the order of any reality between this entity or the action.The functionality of many inventions and the most handy software program of many inventive principle or instruction are implemented.Those skilled in the art will reckon with, although may need a large amount of work and for example because up duration, current techniques and be in many design alternatives that economic consideration causes, but, can easily generate this software instruction and program with minimum test according to notion disclosed herein and principle.Therefore, be in order to make principle of the present invention and notion succinct and make any risk minimization that hinders these principles and clear concept to the further discussion of this software.
The disclosure will be discussed various embodiment of the present invention.These embodiment comprise each of this method of method, NAP, CU and use, NAP and CU or whole communication systems.The system diagram of Fig. 1 will be used for laying the basis that the present invention and advantage of the present invention are deeply understood.Being the representative schematic diagram of communication system 100 according to the figure that simplifies the grade drafting to a great extent, for example is typical known WLAN, and it explains some problems and the solution to these problems of the present invention with being used for.
The communication system 100 of Fig. 1 has been described NAP103, NAP105 and NAP107, its each in overlay area 109,111,113 separately for communication unit, provide as CU111 and to cover or service.When CU111 by shown in direction along the path 115 when moving,, with set up with NAP103 based on radiofrequency signal be connected 117, and will use this connection to provide service to CU111.According to the known viewpoint such as the WLAN of bluetooth, on the border of the overlay area 109 shown in the point 119 in path 115, this connection will be failed, and NAP103 will can not provide service again.Setting up a new connection 121 and utilizing before NAP105 shoulders service, can not provide service to CU111.It should be noted that Fig. 1 has greatly simplified system most realistic or real world.For example, the overlay area can not with shown in the overlay area consistent, in addition, given NAP can have the NAP of a plurality of vicinities, rather than described one or two.As shown in the figure, NAP103,105 has transceiver (transmitter and receiver) 141,161 respectively, these transceivers controller 143,163 that is operably connected.Controller 143,163 is connected respectively to network or local channel transceiver 145,165, and each transceiver connects local channel 123, and local channel can be connected to the one or more public servers or the gateway at 125 places.CU 111 comprises the transceiver 151 that operationally is coupled to controller 153.These frequency hopping transceivers, controller and local channel transceiver are normally known, but have carried out improving so that operate according to the inventive principle and the notion of following further discussion.In the WLAN operation, for example use Bluetooth protocol to operate in the following manner.This system preferably works in the frequency band in the 2.4GHz scope.The working band of majority state is formed (some country has 23 channels at present) by 79 channels, is spaced apart 1MHz, has the 1Mbps data rate, and uses Gaussian Frequency Shift Keying (GFSK) modulation.Blue-tooth device can constitute piconet based on adhoc such as the NAP of Fig. 1 and CU, and each piconet will have a main frame and one or more (up to 7) subsidiary engine.Main frame in piconet can be a subsidiary engine in two or more piconets.Each main frame will have unique identifier (ID), and this ID determines the phase place in a unique hopping pattern and this hopping pattern, is used for the piconet that is associated with the main frame of this operation.
In given piconet, main and auxiliaries can be set up and be convenient to communicating to connect for the CU service.These connections can be asynchronous, the while or synchronous, and the former is mainly used in grouping or packet-switched application; The latter is used for continuous or circuit-switched application, such as speech etc.Connection can be started by main frame or subsidiary engine.For example, as generally pulling, (the whole and full details of Bluetooth technology rules) subsidiary engine will be broadcasted an inquiry sequence, and main frame will support the message and the ID of service to respond with indication.Subsidiary engine is finished a service and is inserted regular works then.In general, the given subsidiary engine that the address of appointment was discerned when main frame sent to signal during a time slot or frequency hopping and connects by, and during subsequent timeslot from same subsidiary engine received signal.Main frame sends a signal to another subsidiary engine of discerning and receives during subsequent timeslot during next time slot or frequency hopping then, or the like.When subsidiary engine moves to main frame can not successfully attempt to provide by this connection outside this main frame overlay area of a service the time, main and auxiliaries will be abandoned this connection after experience is overtime.Subsidiary engine will begin another inquiry, service discovery and access sequence, and expectation is found available service from another piconet or main frame.Suppose the main frame existence and made response, and have suitable service and active volume, then can set up one with this main frame that works in another hopping pattern is connected, unfortunately, then need to spend considerable time, during at this moment, from subsidiary engine to also being interrupted such as connection based on the external service of the World Wide Web of using.Further detailed description, details and background technology see also the Bluetooth technology rules, this technical regulation can
Www.bluethooth, comOn obtain, here all for reference as the application's a part with these rules.The technical regulation of family expenses radio system can obtain on WWW equally.
In system 100, suppose that NAP is the main frame of each piconet, piconet will contain or comprise the CU in respective coverage areas territory 109,111.Thereby NAP103 is the main frame of piconet, when CU111 is positioned at the starting point in path 115, support with CU111 be connected 117 and to 1 its service is provided.The hopping pattern work that NAP 103 presses as shown in Figure 6.Fig. 6 only illustrates the time of trunnion axis 601 of the frequency hopping (for for simplicity, being defined as 8) with respect to vertical axis 603 or the sketch of frequency agility with way of example.With the common factor 605 (in 24 of appointment 3) of 1 mark be at corresponding number of skips transceiver 141 with the frequency that is tuned to, provide service to support various connections and the CU in the piconet that NAP103 was served.On the whole, " 1 " is first hopping pattern 607." 2 " are 609 (in 24 of appointment 3) equally, be another or contiguous NAP (such as NAP 105) with the frequency of work, provide service with the CU in its piconet.On the whole, " 2 " are second hopping patterns 611.
Trunnion axis 601 also will transmit in odd number time slot or frequency hopping with replacing " t " and " r " indication NAP, and in even number time slot received signal.In Fig. 6, some of mark " 1 " occurs simultaneously 613, and (in 8 of appointment 2) have a dotted line back slash.They represent frequency hopping or the time slot of NAP103 scheduling to the service of CU111, be respectively 1,2,7,8,15,16,21 and 22, being net service (NAP emission and CU receive) with the time slot of odd-numbered wherein, is network access service (NAP reception and CU launch) with the time slot of even-numbered.On the whole, upgrade scheduling, just they are called scheduling to CU111 if these time slots change one.Do not have the time slot or the frequency hopping representative of back slash perhaps will further discuss, advantageously provide some other service of level to roaming CU to serving the capacity or the resource of other other CU contribution that connects of still using first hopping pattern as us.
Again referring to Fig. 1, frequency-hopping communication system 100 comprises NAP103,105 or the like, below we discuss the notion and the principle of invention, these notions and principle realize easily making system provide roaming service to communication unit (CU) by making the handed over service between the contiguous NAP.At first, each NAP is used for some forms storage of vehicle-mounted or local available memory that each is contiguous or in abutting connection with the tabulation of unique ID of NAP.This tabulation can be programmed into a NAP when mounted or when initial operation, and periodically carry out local updating, perhaps replace each ID that corresponding NAP can find other NAP and exchange them by long-range access or use local channel 123 via local channel.Local channel preferably connects all NAP and the known EtherChannel that may also be connected other server or system maintenance equipment, but, this local channel also can be WLAN (wireless local area network) or be provided to make " special use " piconet among the NAP at least contiguous or that insert each other in abutting connection with NAP.When CU111 along the path 115 when moving, it preferably according to the above discussion service insert to handle and set up one and be connected 117 with the effective of NAP103.The Bluetooth technology rules have more detailed explanation to this.
Network Access Point (NAP) 103 works in for example first hopping pattern 607, to support to be connected with first of CU111 117 and provide service to CU111.NAP 103 comprises transceiver 141 and the local channel transceiver 145 that connects controller 143.Transceiver and controller are arranged to assess the signal quality from CU111, such as received signal intensity (PSSI), and perhaps bit error rate (BER) etc.In fact, if NAP103 can determine the appearance that signal quality or rank have dropped to any further deterioration and will cause connecting 117 points that are in danger, can determine that perhaps traffic load or demand are to needing to reduce and being only appropriate when preload.In first kind of situation, rank suitable or that be scheduled to will be a rank just over the prudent link margin that will indicate.In second kind of situation, this intended level can be the next immediate signal quality levels on the piconet, perhaps can be a rank that is represented as the signal quality of assessing in early days same unit.NAP103 can determine that the service of interrupting via connecting 117 couples of CU111 is appropriate for these or other reason.Then, when signal quality satisfied intended level, in other words controller control be to make local channel transceiver 145 send the request of an assistance information on local channel 123.Assist the request of message best, and comprise the NAP ground ID of request service and the scheduling of CU111 at all contiguous NAP.
System 100 also comprises the 2nd NAP165, and it is operated on second hopping pattern 611 so that support one or more (not shown) that are connected with other CU (not shown), and provides service to them.The 2nd NAP comprises second transceiver 161 and the second local channel transceiver 165 that connects second controller 163.The second local channel transceiver is arranged and makes up from NAP103 to receive the assistance request or receive other assistance request from local channel.Second controller respond this request instruction, control or make the 2nd NAP particularly transceiver 161 monitoring connect 117, particularly monitor CU 111 and go into network transmission according to what first hopping pattern sent, assist whether may determining.It should be noted that in Fig. 1 this policer operation is left by providing the rated load of service to other CU in the piconet of NAP105 service resource.During the frequency hopping of CU111 dispatch service, the receiver section of second transceiver 161 be tuned to the corresponding frequency of first hopping pattern and phase place (learning that according to the ID of NAP103 what determines) on.For example.Referring to Fig. 6, second transceiver 161 should be tuned to the f6 of frequency hopping 8, rather than f8; The f7 of frequency hopping 16, rather than f3; And the f2 of frequency hopping 22, rather than f6.If it is possible assisting, by the assistance of signal quality and available resources (comprise according to NAP105 and go up the time that traffic load is monitored) indication, then send a message to discern the 2nd NAP105 and assistance is provided to a NAP103 as preferably.
As discussed below, but when the message time spent that indication is assisted, send a message to NAP103, this message preferably includes any information such as packet that is received by NAP105 during policer operation.Monitor this information and send this message and will optionally continue, discharge or will send to NAP105 the service of CU111 until NAP103 to NAP103.When carrying out this random step, can detect with the monitoring NAP105 by way of parenthesis is the local channel of the business of CU111 appointment, and when detecting, according to the transmission scheduling of CU111 is sent to CU on first hopping pattern with this business or information.Carry out two operations of these operations, can expand to zone 127 to the overlay area of NAP103 effectively from zone 109, the overlay area of NAP105 is effectively expanded to zone 129 from zone 111, the overlay area of NAP107 is effectively expanded to zone 131 from zone 113.In fact, NAP105 set up with CU111 be connected 107 or virtual connection.In any case, be likely that service liability will arrive to the moment of CU111 actual transfer.Responsibility will be switched, and perhaps the service to CU111 will switch to NAP105 from NAP103.
The transmission of responsibility will be started in the following manner by NAP103: response provides the supply of assistance, perhaps when further worsening or such as the signal quality of RSSI or the quality reduction etc. of dividing into groups; The perhaps variation of workload demand or requirement.The form of message via local channel 123 through NAP105 preferably taked in the transmission of responsibility, and this message comprises the scheduling that this responsibility is transmitted.As selection, the transmission of responsibility or transmission will be waited and start according to RSSI, favourable loading condiction by NAP105, and will be by through comprising of local channel 123 to NAP103 the timing of this transmission and the message of scheduling being indicated.
In any case,, then prepare the various selections that continue to provide service in advance to CU111 if transmit to NAP105.For example, NAP105 can provide service to the CU111 that uses first hopping pattern continuously, but has adopted the responsibility of scheduling.In the case, NAP103 can redistribute the resource on first hopping pattern immediately, and system will cause the interference of a certain amount of increase to this hopping pattern probably.As selection, NAP 103 provides assistance (to transmit the information received and retrieve net information from local channel to NAP105 to CU111 on the basis that goes out net and networking continuously, and send CU111 to and send to NAP103 via a scheduling of setting up at present by NAP105) with service, thereby expand above-mentioned coverage.In the later case, NAP103 redistributes resource (frequency hopping or time slot or time) being exclusively used in CU111 in its piconet to the service of other CU with expectation, but only just further to be reduced to assistance after RSSI reads no longer be possible or no longer be on the useful point.
As another example, NAP105 can interrupt being connected with CU111 ground, and forces CU to rebulid and being connected of in the case NAP105.In order to minimize interruption to business, NAP 105 will receive continuously from CU go into network service but not to this affirmation.The NAP105 buffering is used for the network service of going into of CU, and keeps via any connection of local channel to other resource, and accelerates usually to handle with the service discovery of NAP105, makes CU 111 reach possible scope in the current Bluetooth technology rules.The compulsive message of indication from NAP105 to NAP103 will allow NAP103 to move, and perhaps not redistribute capacity and resource to the specified traffic load of the risk that increase is not disturbed to first hopping pattern immediately.
As an additional replacement, NAP105 can instruct CU111 to advance to second hopping pattern and phase place at special time via first hopping pattern with virtual 121 the NAP105 of being connected, thereby provides real seamless service to CU 111.By this message is sent to NAP103 and CU111, NAP103 can almost bring into use the resource of release immediately.
For fear of waste by monitoring wait the resource obtain, to the behavior of the other normal configuration of service business of the corresponding piconet of each NAP, Fig. 2 shows an embodiment, wherein each of NAP203 and NAP205 has second transceiver 247,267 respectively, and this transceiver has a receiver section and a transmitter section.In this example, by using receiver section as the transceiver 267 of controller 263 controls, control or make NAP205 monitoring be used for connecting 217 from first of the transmission on hopping pattern 607 of CU211, the transmitter section of transceiver 267 can be used for launching to CU211 and go out net information on first hopping pattern.In a word, this transceiver allows NAP205 to monitor by the connection on first hopping pattern 217 and 221 and provides assistance to CU, and does not use the resource that is used for its proper network business in addition.Change as another kind, Fig. 3 shows a kind of system, make NAP303,305 and CU311 ground each comprise transceiver 341,361 and receiver 347,357 and 367.Extra receiver can be used to provide the monitoring to extra hopping pattern, and assistance and handover to services of roaming are provided thus.Particularly, CU311 will use transceiver 351 to support first to connect 317 and second receiver 357, and this second receiver 357 receives the network transmission that goes out from the transceiver of the NAP305 on second hopping pattern.When CU launches, the receiver 367 of NAP305 will be monitored usually by the transmission on the hopping pattern of NAP303 use.As a last optional embodiment, for example can utilize a central scheduler or a server (not shown) that is connected to the local channel at 125 places, thereby all message that make each NAP transmission be used for contiguous NAP are given central server, and this server is made all decisions for corresponding NAP: who needs to assist, when and how to realize this assistance.
Fig. 2 shows the closely similar communication system 200 with the system 100 of Fig. 1.All reference markers relevant with the parts that have similar or similar functions under the home have and are added to 100 on the respective value of Fig. 1 and the reference marker that generates.Like this, the communication system 200 of Fig. 2 shows NAP203, NAP205 and NAP207, its each be provided for covering or service such as the communication unit ground of CU211, these communication units are positioned within the overlay area 209,211,213.When CU211 by shown in direction follow the usual practice when moving as path 215,, be connected 217 with setting up with the radiofrequency signal of NAP203, and will use this connection to provide service to CU211.The limit of 215 overlay area 209 in the path, this connection NAP that will fail will no longer provide service.Before can setting up new connection 221 and shouldering service, can not provide service to CU211 with NAP205.It should be noted that to be similar to Fig. 1, owing to same cause Fig. 2 that provides in conjunction with Fig. 1 also greatly most realistic or real world system.
As shown in the figure, NAP203,205 has transceiver (transmitter and receiver) 241,261 respectively, and these transceivers operatively connect controller 243,263.Controller 243,263 connects network or local channel transceiver 245,265 respectively, and its each local channel transceiver is connected to the local channel 223 that can connect one or more public servers or gateway 225.The difference of the NAP relevant with those NAP shown in Figure 1 is that NAP203 has additional transceiver 247 and NAP205 has an additional transceiver 267.In a word, these additional transceivers are used to monitoring is provided and transmit the resource of the single transceiver among the shared NAP103 and 105 and the service of capacity.These additional NAP and given transceiver can be in the different time-gap manipulate of different contiguous hopping patterns, thereby provide the handover service to a plurality of roaming CU, and do not reduce the NAP ability of serving its local microenvironment microgrid.CU211 is equal to and 11 basically, and the structure that comprises transceiver 251 these transceivers of being operatively connected controller 253, controller is normally known, but revise in operating aspect, so that the handover service between the NAP, thereby continuous and seamless often or in fact seamless service are provided to roaming CU.
Below in conjunction with the block diagram of the NAP203 of Fig. 4, structure and the operation of this NAP gone through.As an illustration, NAP203 early comprises transceiver 241,247, and can comprise nearly a plurality of transceivers of n transceiver 427.Concrete number depends on the hopping pattern that traffic carrying capacity and NAP203 can experience, but each transceiver can work in different hopping patterns.Transceiver 241 comprises a receiver 401 and a transmitter 403 with RSSI performance 405, and they connect an antenna 401 respectively.Equally, transceiver 247 comprises a receiver 411 and the transmitter 423 with RSSI 415 that connects phase modulation 407 respectively.All other transceivers (not specifically illustrating) are by similar structure and interconnection.These transceivers can make up and operate according to known frequency hopping transceiver technology, and revise according to principle described here.An embodiment who is proposed who overcharges sender NAP is that this demodulator/decoder is used for being reconstituted in each data flow that presents on a plurality of frequency hop sequences with single wide bandwidth transceiver and the structure that realizes based on the demodulator/decoder of signal processor.
Each transceiver is shown as and is connected to bus, and is connected to controller 243 and local channel transceiver 245 by this bus.Controller 243 comprises a processor 431, and preferably based on the processor of microprocessor, it is connected to a memory that comprises database 435.Memory uses known technology, and is used to one of other purpose: cause controller control to comprise the software instruction of operation of many transceivers of local transceiver letter machine during the storage of processor operation.Local transceiver letter machine is Ethernet transceiver preferably, and is that it is connected to controller and comprise transmitter 441 and the receiver 443 that is suitable for connecting local channel 223.
Look back going through below in conjunction with the system 200 of Fig. 2 and the block diagram of Fig. 4 to NAP203 and 205.This NAP is arranged and is built into provides service to a plurality of communication units (CU) in the frequency-hopping communication system, and further is arranged to be convenient to the handover of CU to another NAP service.Originally, NAP203 collect in above-mentioned one or more processing vicinity or in abutting connection with the ID of NAP, can retrieve contiguous hopping pattern and phase place according to this ID.Transceiver 241 is according to bluetooth or family expenses radio frequency or similar agreement and standard, CU211 that uses first hopping pattern 607 to provide to connect on 217 and the service between the NAP203.Controller 243 connects transceivers 241 and control, instructs or makes transceiver that this service is provided.Controller determines also whether this connection is suitable for handover, and with the result as the NAP load that needs to revise, the result that the quality of connection when perhaps measuring as RSS1405 worsens is perhaps as the signal quality parameter that satisfies some threshold value.The local channel transceiver 245 of connection controller 243 provides an interface to local channel 223, is thus connected another CU or PSTN or Web etc., so that support this service.
In addition, under the commander of controller, the local channel transceiver will be according to providing for roaming CU or obtaining assisting and handover, and emission message and reception are from the message of other NAP.Particularly, if suitable, then assist to send message with the contiguous NAP that serves for CU211 to request on first hopping pattern.This message preferably includes the ID of a NAP, and this NAP allows contiguous NAP to determine to connect 217 scheduling that utilized which hopping pattern and utilized a CU211 service.The local channel transceiver also receives message from request among other hopping pattern assistance and other NAP for other CU (not specifically illustrating) service.Be convenient in the processing of handover at this, local transceiver letter machine might receive and be close to NAP from this message indication of response message such as 205 contiguous NAP the assistance of being asked can be provided.This response message can comprise (for example) one or more; The information that receives according to scheduling by the information and the NAP205 of CU211 emission; And out of Memory.Out of Memory can comprise the received signal intensity from CU211 that one or more is measured by transceiver 267; Received signal intensity trend; Available information is such as the time point in a future that is used for NAP205; With the request of shouldering this service liability.It should be noted that NAP203 may must send other message to NAP205, such as a scheduling that is updated for the CU211 service, perhaps a request NAP205 shoulders the responsibility of serving into CU.
Except the information or grouping of above-mentioned reception from NAP205, NAP203 can also operate transmission, sends information or receive grouping from CU after NAP205 shoulders to the responsibility of CU service via the local channel transceiver.Similar above-mentioned discussion in conjunction with Fig. 1, the NAP203 under the controller control will reschedule the ability of transceiver 241, in case some incident occurs, just other CU on first hopping pattern provides service.It is one of following that this incident comprises: request NAP205 shoulders the responsibility of service, with start irrelevant; The CU signal quality satisfies a preferably low threshold value; No longer ask for example indicated service of the handover from NAP205 to NAP207 with CU.
As mentioned above, the controller of NAP preferably responds the request (but may be wish) of assistance, with Resources allocation monitoring other hopping pattern of going into network service from other CU.The NAP of Fig. 1 will distribute the receiver section of a part the respective transceivers here, and the NAP of Fig. 2 will distribute a receiver section of the transceiver here, and the NAP of Fig. 3 is used for utilization the auxiliary receiver of this monitoring.The NAP of Fig. 2 uses their second transceiver can provide roaming the complete service of CU, and piconet or the exemplary service to CU in the overlay area to them are equipped one or more main transceiver, it should be noted that, when NAP uses vicinity NAP hopping pattern, the increase of the interference of contiguous NAP or piconet will exceed normal condition.This problem will be unfavorable for the service that transmits given CU to a hopping pattern that does not usually use on contiguous piconet.This transmission can force CU to rebulid newly to finish with service local hopping pattern or by adopting aerial control signal instruction CU to move to local hopping pattern by above-mentioned.
Provide service and the travelling carriage outside this piconet that the corresponding NAP of assistance is provided from above-mentioned to local microenvironment microgrid or picocell, we look back a NAP such as NAP205, and wherein transceiver 261 uses first hopping pattern to provide first between first a CU (not shown) that connects and the NAP to serve.Controller 263 connects transceiver and makes this transceiver that first service is provided.In Fig. 1, single transceiver also uses second hopping pattern to monitor the roaming CU of second connection and the service between the contiguous NAP.In Fig. 2, monitoring task is handled by the receiver section of transceiver 267, and in Fig. 3, this monitoring task is handled by receiver 367.In any case policer operation determines whether NAP can connect assistance and the service of providing second.The local channel transceiver that connects controller sends message to contiguous NAP, it is available and the ID of indication NAP and corresponding to monitored quality of signals information that this message is indicated this message, and is likely networking information or the grouping that receives from the CU of monitoring.
When second receiver can be used for monitoring behavior, transceiver can be used for providing service to the local microenvironment microgrid fully.As mentioned above, preferably respond the reception execution monitoring from the assistance message request of contiguous NAP, this message comprises ID and the scheduling of CU.Provide assistance will depend on for example available or enough abilities effective and that have satisfied signal quality.
As mentioned above, NAP or control can make the local channel transceiver send a message to contiguous NAP, and this message indication NAP will shoulder the responsibility that service is provided to CU; Perhaps as selection, the local channel transceiver can receive a message from contiguous NAP, instruct this NAP to shoulder the responsibility that CU is served.In case NAP shoulders the responsibility to CU service, it one of will be in every way supports this service.These modes comprise continuous use second hopping pattern; Disconnection is connected with second of CU, thereby forces CU to use first hopping pattern to seek service; And use connection on first hopping pattern via second link order control CU.At handover or during assistance is provided, two NAP can send out net information and receive networking information to CU.Specifically, the local channel transceiver of NAP receives through contiguous NAP and is used for networking information on the local channel of CU, and controller will make transceiver and contiguous NAP send out net information according to scheduling to CU simultaneously.Mode like this can be to providing almost seamless service in the roaming unit such as the frequency-hopping communication system work of blue teeth wireless local area network (LAN) (WLAN) and family expenses radio frequency WLAN.
Fig. 3 shows another embodiment of communication system 300, and it promotes the service handover between the NAP thus arranging and be constituted as to mobile CU the part seamless service is provided.Here, NAP303,305 has second receiver 347,367 respectively.Rather than second transceiver shown in Figure 2.In addition, CU311 has second receiver 357.In addition, reference number relates to the similar or similar structures of Fig. 2, and has 3 rather than 2 in the beginning of label.On function, except that the exception of following explanation, the class of operation of system 300 is similar to Fig. 1.
Below in conjunction with the block diagram of Fig. 5 brief description CU311, this block diagram has been deleted second receiver 307, CU111 and 211.CU311 comprises the transceiver 357 with receiver 501 and transmitter 503, and each of this Receiver And Transmitter is connected to antenna 505 and controller 353.In addition, receiver 507 also connects antenna 505 and controller 353.Controller 353 comprises processor 511 and memory 513.Memory 513 comprises a database, and contains software instruction 515, when this software instruction is moved by processor, can cause controller that transceiver and receiver are controlled.Although do not illustrate, be to be understood that the user interface that in a large amount of this CU, has certain form, as display and keyboard.
Specifically, again referring to Fig. 3, communication unit (CU) is arranged and is constituted as in frequency-hopping communication system works, and this communication system is supported from the handover of the service of first Network Access Point (NAP), 303 to the 2nd NAP305.CU comprises to NAP303 emission information emission machine 503, with first transceiver 341 that is connected on 317 at use first hopping pattern 607.Also comprise: a NAP who connects from first receives the receiver 501 of information; With the controller that is connected with transmitter and receiver, be used to make second hopping pattern of receiver 501 monitoring from the information that is used for CU of the 2nd NAP305.
CU111 or 211 is suitable for receiver and receives a message from a NAP103, the 203 or the 2nd NAP105,205, and this message instruction CU uses the foundation of second hopping pattern to be connected with second of the 2nd NAP305.It should be noted that CU311 comprises second receiver that connects controller, this receiver is suitable for control, thereby makes second hopping pattern of second receiver rather than receiver monitoring from the information that is used for CU of the 2nd NAP.In the case, second receiver receives a message from the 2nd NAP, and this message instruction CU uses the foundation of second hopping pattern to be connected with second of the 2nd NAP.
Below in conjunction with Fig. 7 preferable methods embodiment of the present invention is discussed.This method 700 is to realize a kind of from the handover of Network Access Point (NAP), and the communication unit (CU) that this Network Access Point is arranged and is constituted as in frequency-hopping communication system provides service.This method can be observed from the angle of the NAP that seeks handover for CU or from the angle of the NAP that receives the CU service.This method starts from step 701, it is contiguous or in abutting connection with the identification mark (ID) of overlay area NAP and store in the memory to be identified for each in this step, this memory is the part of each NAP preferably, but under any circumstance, and it all is the memory that can be visited by NAP.In step 703, a NAP and CU preferably use the similar agreement of the service discovery protocol of various inquiries and bluetooth WLAN rules or family expenses radio frequency WLAN rules to set up one to be connected.Use this connection on first hopping pattern (FHP), between a NAP and CU, provide service.
Step 705 is exclusively used in determines to connect whether and when to be fit to interruption.This can judge or determine by for example will revising or by the load of writing down a NAP such as the signal quality of RSSI and threshold ratio.Step 707 indication the one NAP sends a message to the assistance of request the one FHP and contiguous NAP from the service of step 703, and wherein this message preferably includes the ID that is used for a NAP and is used for the scheduling of the service of the CU on the FHP.After this, step 709 shown from contiguous or the 2nd NAP and received a message, and this NAP is arranged to be connected with being constituted as to provide to the CU that uses the 2nd FHP.This message indicates the 2nd NAP that assistance can be provided, and preferably one or more; Information or grouping receive according to the scheduling that is used for CU that a NAP provides by the CU emission and by the 2nd NAP.It is one of following that information comprises: received signal intensity; Received signal intensity trend is such as increasing or reducing; Available information will can be used for CU such as the frequency hopping of service after this from the 2nd NAP; And, perhaps comprise the timing of suggestion to the request of service liability.
After the step 709,, then can send an additional messages to the 2nd NAP from a NAP if step 711 indication is upgraded the scheduling of the CU on the FHP if desired or wished request or instruct the 2nd NAP to shoulder the responsibility of service.In any case, after the 2nd NAP takes responsibility, will provide service to continue connection on the FHO by one of following to CU; Disconnect with a FHP on being connected of CU, thereby force CU rebulid with the 2nd FHP on being connected of CU; Perhaps the message of the connection by using FHP indication CU forwards the other connection of using the 2nd FHP to.It should be noted that, irrelevant with lasting service manner, the NAP that NAP particularly takes responsibility minimizes operation, make with being connected of service discovery and CU and set up normal relevant delay minimization, and any connection that is maintained at extraneous service, this external information be included in connect rebulid during from predetermined or any inquiry message of CU.
In step 715, after the 2nd NAP has shouldered the responsibility of service, a NAP will still monitor the CU on the FHP, and send the information that receives to the 2nd NAP.Step 717 has shown according to capacity from a FHP to other CU or resource on one of the following NAP who redistributes: be used for the request of the 2nd NAP, to shoulder the responsibility of service; Satisfy the signal quality of the CU of the low threshold value of a supposition, suggestion minimizes at least the possible interference level for CU; And according to the handover indication from the 2nd NAP, CU no longer need be from the service of the 2nd NAP.After this, ending method 700.
Can see more directly that from the angle that the NAP that takes responsibility or handover are accepted method 700 is at identical purpose, and is preferably disposed among the WLAN.Step 701 and 703 is similar, although will make this NAP provide service for other CU in the connection using a local FHP or a FHP.Specifically, this method is convenient to the handover from Network Access Point (NAP), and the communication unit (CU) that this NAP is arranged and is configured in frequency-hopping communication system provides service.This method is included between one first CU who connects using a FHP and the NAP provides first to serve; Second the 2nd CU that connects of monitoring use the 2nd FHP and the service of second on the NAP that is positioned between the 2nd NAP or the contiguous NAP; Determine that a NAP can provide second assistance that connects and second service; With send an indication assistance to the 2nd NAP is available message.
Monitoring step also comprises a part of resource of monitoring use, such as a receiver that works in a FHP and a NAP.Monitoring step can comprise a part of resource of monitoring, such as the receiver that works in one or more FHP usually specially.Monitoring step preferably responds a message of assisting from the 2nd NAP reception request, and wherein this message also comprises the scheduling of reception corresponding to second service that is used for the 2nd CU.Determining step generally includes resource is enough to provide the assistance of being asked, and determines that the signal quality from the 2nd CU is satisfied.
Send message and also comprise the identification (ID) that together sends a NAP and quality information, and be sent in networking information or the grouping that receives from the 2nd CU during the monitoring step corresponding to second service.Preferably receive and go out net information on the local channel that is used for the 2nd CU of through the 2nd NAP, and send out net information or grouping via a NAP item the 2nd CU simultaneously with the 2nd NAP according to scheduling.
Further operation is the response that a NAP recovers to provide to the 2nd CU second service, and this can be used as a result or to the response from the message of the 2nd NAP, perhaps as the message indication that sends to the 2nd NAP like that, no matter NAP processing.In case response is recovered, a NAP one of just will be in the following manner supports second service to the 2nd CU: use the 2nd FHP continuously; Interruption is connected the service that forces the 2nd CU to seek a use this locality or a FHP thus with the 2nd CU ground second; With use one on the FHP to be connected via second link order the 2nd CU.
Thereby the various embodiment that the handover that service is provided under frequency hop environment advantageously provides the WLAN communication system of the seamless or near seamless service of CU are illustrated and discuss.The disclosure expands to member or the equipment that comprises this system, and the method for being utilized.Use inventive principle disclosed herein and notion to permitting or intrasystem load management is provided and will will be favourable to user's near seamless service.Purpose of the present disclosure is to explain how to form and use various embodiment of the present invention, rather than limits true and desired extent and spirit of the present invention.The present invention defines via subsidiary claim, because this application can be made amendment during patent examination, therefore all equivalents by this claim define.