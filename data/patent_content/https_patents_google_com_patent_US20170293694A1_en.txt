US20170293694A1 - Indicating location status - Google Patents
Indicating location status Download PDFInfo
- Publication number
- US20170293694A1 US20170293694A1 US15/631,102 US201715631102A US2017293694A1 US 20170293694 A1 US20170293694 A1 US 20170293694A1 US 201715631102 A US201715631102 A US 201715631102A US 2017293694 A1 US2017293694 A1 US 2017293694A1
- Authority
- US
- United States
- Prior art keywords
- results
- business
- open
- subset
- location
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Granted
Links
- 238000000034 method Methods 0.000 claims abstract description 23
- 238000004590 computer program Methods 0.000 claims abstract description 14
- 230000003993 interaction Effects 0.000 claims description 32
- 230000004044 response Effects 0.000 claims description 29
- 239000002131 composite material Substances 0.000 description 17
- 238000010586 diagram Methods 0.000 description 12
- 230000006870 function Effects 0.000 description 7
- 238000004891 communication Methods 0.000 description 6
- 230000008569 process Effects 0.000 description 6
- 238000012545 processing Methods 0.000 description 6
- 230000001413 cellular effect Effects 0.000 description 3
- 230000000694 effects Effects 0.000 description 3
- 238000011156 evaluation Methods 0.000 description 3
- 230000003287 optical effect Effects 0.000 description 3
- 230000008901 benefit Effects 0.000 description 2
- 238000001914 filtration Methods 0.000 description 2
- 238000013515 script Methods 0.000 description 2
- 238000000926 separation method Methods 0.000 description 2
- 238000006243 chemical reaction Methods 0.000 description 1
- 238000012790 confirmation Methods 0.000 description 1
- 235000014510 cooky Nutrition 0.000 description 1
- 230000001186 cumulative effect Effects 0.000 description 1
- 238000013500 data storage Methods 0.000 description 1
- 238000005315 distribution function Methods 0.000 description 1
- 239000004973 liquid crystal related substance Substances 0.000 description 1
- 238000007726 management method Methods 0.000 description 1
- 238000012986 modification Methods 0.000 description 1
- 230000004048 modification Effects 0.000 description 1
- 230000008520 organization Effects 0.000 description 1
- 238000012552 review Methods 0.000 description 1
- 239000004065 semiconductor Substances 0.000 description 1
- 230000001953 sensory effect Effects 0.000 description 1
- 239000000758 substrate Substances 0.000 description 1
- 238000012546 transfer Methods 0.000 description 1
- 238000012795 verification Methods 0.000 description 1
- 230000000007 visual effect Effects 0.000 description 1
Images
Classifications
-
- G06F17/30867—
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/20—Information retrieval; Database structures therefor; File system structures therefor of structured data, e.g. relational data
- G06F16/24—Querying
- G06F16/245—Query processing
- G06F16/2457—Query processing with adaptation to user needs
- G06F16/24575—Query processing with adaptation to user needs using context
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/20—Information retrieval; Database structures therefor; File system structures therefor of structured data, e.g. relational data
- G06F16/24—Querying
- G06F16/245—Query processing
- G06F16/2457—Query processing with adaptation to user needs
- G06F16/24578—Query processing with adaptation to user needs using ranking
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/20—Information retrieval; Database structures therefor; File system structures therefor of structured data, e.g. relational data
- G06F16/24—Querying
- G06F16/248—Presentation of query results
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/20—Information retrieval; Database structures therefor; File system structures therefor of structured data, e.g. relational data
- G06F16/29—Geographical information databases
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/90—Details of database functions independent of the retrieved data types
- G06F16/95—Retrieval from the web
- G06F16/953—Querying, e.g. by the use of web search engines
- G06F16/9535—Search customisation based on user profiles and personalisation
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/90—Details of database functions independent of the retrieved data types
- G06F16/95—Retrieval from the web
- G06F16/953—Querying, e.g. by the use of web search engines
- G06F16/9537—Spatial or temporal dependent retrieval, e.g. spatiotemporal queries
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/90—Details of database functions independent of the retrieved data types
- G06F16/95—Retrieval from the web
- G06F16/953—Querying, e.g. by the use of web search engines
- G06F16/9538—Presentation of query results
-
- G06F17/30241—
-
- G06F17/30528—
-
- G06F17/3053—
-
- G06F17/30554—
-
- G06F17/3087—
Definitions
- This document relates to processing search queries and providing search results.
- Internet search engines identify resources (e.g., web pages, images, text documents, multimedia content) that are relevant to a user's information needs, and present information about the resources to the user.
- resources e.g., web pages, images, text documents, multimedia content
- search engines provide search results that are responsive to the queries. Some results may correspond to businesses that have limited operating hours.
- a search engine system can identify search results, including business results that are associated with business locations.
- the search engine system can determine whether business results should be designated as open at a particular time based on operating hours associated with the business results and a location associated with the query.
- the query can indicate the location of the computing device.
- the search engine system can determine whether to designate the business location as being open. The search engine system then provides information that indicates which business locations are designated as open at the particular time of interest.
- Particular business locations can be designated as open at a particular time, for example, at the current time or at a time in the future. Whether to designate a location as open can be determined based on the location of a user.
- a control can be provided that responds to user interaction to alter the display of the results, for example, by reordering or filtering the results.
- users may be provided with an opportunity to opt in/out of programs or features that may collect personal information (e.g., information about a user's preferences or a user's current location).
- personal information e.g., information about a user's preferences or a user's current location.
- User information that is used to identify unique users, unique addresses or other user-related history can be anonymized so that the privacy of users is protected. For example, quasi-unique identifiers can be associated with users, but the actual identifying information of the users is not stored.
- any identified user preferences or user interactions can be generalized (for example, generalized based on user demographics) rather than associated with a particular user. Encryption and obfuscation techniques can also be used to protect the privacy of users.
- One innovative aspect of the subject matter described in this specification is embodied in methods that include the actions of: receiving a query from a user device, a current time, and a location for the user device; identifying results responsive to the query, the results including one or more business results that are each associated with a business location and operating hours; selecting a subset of the business results as open results based on the operating hours of the business results, the current time, and travel times from the device location to the respective business locations; and providing data for a search engine results page that designates the subset of business results as open results.
- inventions of this aspect include corresponding systems, apparatus, and computer programs, configured to perform the actions of the methods, encoded on computer storage devices.
- a system of one or more computers can be so configured by virtue of software, firmware, hardware, or a combination of them installed on the system that in operation cause the system to perform the actions.
- One or more computer programs can be so configured by virtue having instructions that, when executed by data processing apparatus, cause the apparatus to perform the actions.
- selecting the subset of the business results as the open results includes determining an arrival time to the business location for each business result responsive to the query by adding to the current time the travel time to the business location for each business result, and determining that the arrival time to the business location for the business result occurs between a beginning and an end of the operating hours associated with the business result.
- Providing the data for the search engine results page that designates the subset of business results as open results includes providing a label for display on the results page designating at least a subset of the business results as being open now results, and designating the subset of business results that are open results for display beneath the open now label.
- Providing the data for the search engine results page that designates the subset of business results as open results includes providing data for a control on the search engine results page that allows a user to toggle a display of results based on whether or not the results are open results. Interaction with the control is detected, and data for a second search engine results page that only displays the subset of business results that are open results is provided. It is determined that a number of open results is above a predetermined threshold. Selecting a subset of the business results as open results includes generating, for each of the business results responsive to the query, a confidence score indicating a likelihood that the business location for the business result is open, and selecting each of the business results for which the confidence score is above a threshold for inclusion in the subset of business results.
- Selecting the subset of the business results as the open results includes selecting the subset of the business results as the open results based on a proximity of a time associated with the query to a beginning and an end of the operating hours.
- Providing the data for the search engine results page includes providing data that, when rendered, displays a control that, in response to user interaction with the control, alters a display of results based on whether or not the results are open results. The control filters or reorders the results based on whether the results are open results.
- Providing the data for the search engine results page includes: detecting user interaction with the control; and in response to detecting user interaction with the control, providing the data for the search engine results page that designates the open results as open.
- Selecting a subset of the business results as open results includes: generating, for each of the business results, a confidence score indicating a likelihood that the business result is open at a particular time; and selecting a set of the business results as open results, the business results in the set being those business results for which the confidence score meets a threshold. Determining a time zone associated with the device location, where selecting the subset of the business results as open results includes selecting the subset of results as open results using the determined time zone.
- Selecting the subset of the business results as the open results includes estimating travel times from the device location to the respective business locations; based on the estimated travel times, generating, for each of the business results, a score indicating a likelihood that a user can arrive at the business location associated with the business result during the operating hours associated with the business result; and selecting a set of the business results as open results, the business results in the set being those business results for which the score meets a threshold.
- Selecting the subset of the business results as the open results comprises: determining a distance between the device location and the respective business locations; generating, for each of the business results, a score based on the distance between the device location and the business location associated with the business result; and selecting a set of the business results as open results, the business results in the set being those business results for which the score meets a threshold.
- Search results can identify businesses that are open at a particular time. Whether businesses are designated as open can be personalized based on the location of a user.
- a business can be designated as open when an estimated arrival time at a location for the business is within the operating hours of the business.
- a user interface element can respond to user interaction to indicate results that are open at a particular time.
- the user interface element can rank or filter search results such that results designated as open at a particular time are presented.
- the user interface element can be selectively presented, for example, based on characteristics of a search results set.
- FIG. 1 is a diagram that illustrates an example environment in which location status is indicated.
- FIG. 2 is a diagram that illustrates examples of data that can be used to designate location status.
- FIGS. 3A, 3B, 4A and 4B are diagrams that illustrate examples of user interfaces for indicating location status.
- FIG. 5 is a flow diagram that illustrates an example of a process for indicating location status.
- FIG. 1 is a diagram that illustrates an example environment 100 in which location status is indicated.
- the environment 100 includes a computing device 104 and a server system 106 that communicate over a network 108 .
- the diagram shows states (A) to (H), which may occur in the sequence illustrated or in a different sequence.
- States (B) to (G) illustrate a flow of data, and states (A) and (H) illustrate user interfaces 110 a , 110 b.
- the computing device 104 can be, for example, a desktop computer, a laptop computer, a cellular phone, a smartphone, a personal digital assistant (PDA), a tablet computer, a navigation system, or another computing device.
- the operations performed by the server system 106 can be performed by individual computer systems or can be distributed across multiple computer systems.
- the network 108 can be a wired or wireless network or a combination of both.
- the network 108 can include one or more public or private networks, and can include the Internet.
- location status refers to the accessibility of a location, for example, whether a business at the location is open.
- businesses that are open at a particular time can be distinguished from businesses that are either closed at the particular time or cannot be verified as open.
- users can quickly identify businesses that are open at a time of interest.
- a user may desire to find businesses that are relevant to the user's query and are open at the current time that the query is submitted. Businesses that are currently open can be indicated to be “open now”.
- a filter control can be provided on a search engine results page that allows the user to filter out search results for businesses that are not open, leaving only open results being displayed.
- Businesses can include commercial entities and non-commercial entities, such as governments and non-profit organizations. Businesses can be associated with one or more business locations (e.g., geographical areas). Business locations can include parks, schools, libraries, and other locations where other non-commercial activities take place, in addition to stores, restaurants, theaters, and other commercial locations. In some implementations, business locations can be any publicly accessible location, regardless of the purposes of or activities at the location. Thus in some implementations, businesses are not limited to any particular purpose or activity.
- Operating hours can be scheduled time periods during which business can be conducted. For example, operating hours can indicate when a business location is accessible (e.g., when entry to a location is permitted, or physical facilities are available), or when services at the business location are provided.
- the server system 106 can access information about the operating hours of the businesses. If the current time (or another time of interest) falls within the operating hours of a business, the server system 106 can indicate that the business is open.
- the server system 106 can use other information to enhance the usefulness of status indications provided to users.
- the server system 106 can take into account the distance between a user's location and the business locations of businesses in the search results. Travel times for travel between the location of a user's computing device and the business locations of the businesses can be determined. The server system 106 can adjust the status indicated for the businesses based on the travel times. For example, businesses can be designated as open when, based on the distance between the user's location and the business locations, it is reasonable that the user could be expected to arrive at the business locations within the operating hours. When it is not reasonable to expect that the user can arriving within the operating hours, the businesses are not indicated as being open, irrespective of whether the current time is within the operating hours.
- the server system 106 can receive a query from a user device, such as the computing device 104 .
- the server system 106 can also receive a current time and a location of the computing device 104 .
- the server system 106 can identify results responsive to the query.
- the results can include one or more business results that are each associated with a business location and operating hours.
- the server system 106 can also select a subset of the business results as open results based on the operating hours of the business results, the current time, and travel times from the device location to the respective business locations.
- the server system 106 then provides data for a search engine results page that designates the subset of the business results as open results.
- a user 102 enters a query 112 at the computing device 104 and initiates a search using the query 112 .
- the query 112 can include, for example, an n-gram of characters, which can include one or more query terms.
- the user interface 110 a of the computing device 104 includes an input field 114 (e.g., a text entry box) and a search control 116 .
- the user 102 enters the query 112 , “restaurants”, into the input field 114 and initiates a search by clicking on or otherwise interacting with (e.g., hovering a pointer over or providing voice commands that cause selection of) the search control 116 .
- the computing device 104 sends a request 118 to the server system 106 .
- the request 118 can request a resource or data that provides results responsive to the query 112 .
- the request 118 includes the query 112 and indicates a geographical location associated with the query 112 .
- the request 118 can also include a time 121 associated with the query 112 , for example, a time that the request 118 is sent.
- the geographical location associated with the query 112 can be a device location 120 of the computing device 104 , for example, the current location of the computing device 104 .
- the device location 120 can be provided when, for example, the user 102 gives permission for the location information to be submitted to and used by the server system 106 .
- the user 102 can “opt-in”to enable the use of location information or “opt-out” so that location information is not used.
- the device location 120 can also be anonymized such that the device location 120 cannot be linked to the user 102 .
- the computing device 104 can determine its current location using, for example, a global positioning system (GPS) receiver module.
- GPS global positioning system
- a user can enter a device location 120 , for example, an address, zip code, city or other information that indicates the location of the computing device 104 .
- the computing device 104 or the server system 106 can determine the location of the computing device 104 based on, for example, an IP address for the computing device 104 , information about the location of a wireless access point or a nearby cellular network cell site to which the computing device 104 is connected, or using other techniques.
- the computing device 104 or the server system 106 estimates the device location 120 using information about the user 102 to which the user 102 has approved access. For example, if the user 102 has enabled access to calendar data or a travel itinerary for the user 102 , the computing device 104 can access to determine the scheduled location of the user 102 and thus the scheduled location of the computing device 104 .
- the device location 120 can also be a stored location for the computing device 104 , for example, a default location or a previous location for the computing device 104 .
- the stored location can be a recent location of the computing device 104 , such as the last known location, or a frequent location of the computing device 104 .
- the stored location can be stored on the computing device 104 (e.g., as a cookie) or on the server system 106 (e.g., in a user profile for the user 102 ).
- the request 118 can indirectly indicate a stored location, for example, by including an anonymized user identifier for the user 102 , permitting the server system 106 to access the information about the stored location for the computing device 104 .
- server system 106 receives the request 118 and identifies search results 130 that are responsive to the query 112 .
- server system 106 can include a result identification module 122 that identifies the search results 130 that are relevant to one or more of the terms of the query 112 .
- each of the search results 130 represents a restaurant location.
- the search results 130 can include one or more business results 130 a - 130 c .
- Each business result 130 a - 130 c represents a business and is associated with a corresponding business location, for example, a geographical location, and operating hours that represent, for example, dates and times that the corresponding business location is accessible.
- a business location can be accessible, and thus can be considered to be open, at times when, for example, entry to or presence at the business location by the public is permitted, services are provided at the business location, or when both conditions occur.
- Business results can be, but are not required to be, associated with a particular entity or organization.
- the server system 106 determines whether the business results 130 a - 130 c should be designated as being open. For example, the server system 106 can access information about the operating hours of each of the business results 130 a - 130 c , and select a subset of the business results 130 a - 130 c as open results if the current time is within the operating hours for the respective business results 130 a - 130 c.
- the server system 106 can use the device location 120 associated with the query 112 to enhance the status information provided to the user. For example, the server system 106 can select the business results 130 a - 130 c as open when the user 102 is expected to arrive at the business locations within the operating hours. Thus the set of business results 130 a - 130 c that the server system 106 designated to be “open now” or open at a particular time may be different from the set of locations that are actually open at the time.
- the server system 106 does not designate the location as being open.
- the server system 106 does not designate the location as being open.
- the business can be designated as open, even though it is not actually open at the moment the results are provided to the user.
- a user can select a time of interest other than the current time (e.g., a future date or time, or a range of time) at which location status information is desired.
- the server system 106 assigns scores to the business results 130 a - 130 c .
- the server system 106 uses the scores to determine whether the business results 130 a - 130 c should be designated as open at the particular time of interest (e.g., the time 121 ).
- FIG. 2 is a diagram that illustrates examples of data that can be used to designate location status.
- the server system 106 can include a score assignment module that assigns one or more scores to each business result 130 a - 130 c .
- the assigned scores can include confidence scores, where each confidence score is a value indicative of a likelihood that a business result 130 a - 130 c will be open at a particular time of interest.
- the server system 106 can assign a confidence score 220 that is indicative of whether a business result 130 a - 130 c will be open at the time 121 .
- the server system 106 can assign an arrival confidence score 270 that is indicative of whether a business result 130 a - 130 c will be open at a time that the user 102 is estimated to arrive at a business location of the business result 130 a - 130 c.
- the server system 106 can assign composite scores 280 that indicate the likelihood that the respective business results 130 a - 130 c should be designated as open.
- the composite scores 280 are based on the confidence scores 220 , the arrival confidence scores 270 , or both. For example, one or more weighting or scaling factors can be applied to the confidence scores 220 or the arrival confidence scores 270 to determine the composite scores 280 .
- the server system 106 can access information about operating hours 210 for each of the business results 130 a - 130 c .
- the data indicating the operating hours 210 can be accessed from, for example, an index stored in one or more data storage devices in communication with the server system 106 (not shown).
- the data in the index can be acquired from multiple sources, for example, representatives of businesses, web pages for the businesses, public records, or third parties.
- information about operating hours 210 is acquired from a directory service that aggregates operating hours data for multiple businesses.
- users can choose to provide information about operating hours, and that information can be included in the index. For example, users can submit information that states the operating hours 210 for a business. As another example, users can give permission for the server system 106 to access “check-in” data indicating that the computing device 104 was located at a location at a particular time. As described above, users can be provided an opportunity to opt-in or opt-out of using features that collect information about the users.
- the check-in data can be anonymized so that it cannot be linked to a user identity.
- Check-in data may include, for example, a location (e.g., GPS coordinates) and a timestamp.
- the timestamps of check-in data can indicate when the location is open.
- users may give permission for the server system 106 to access timestamps and locations associated with photographs taken at a location during the operating hours.
- users may provide feedback indicating that operating hours presented are incorrect or incomplete, and the server system 106 can update the operating hours 210 in response.
- the different sources of information for operating hours 210 can have different levels of reliability.
- the reliability of different information sources can be determined, and a reliability score, indicative of the reliability of the information source, can be associated with each information source.
- sources that are determined to be reliable can be included in a whitelist.
- Unreliable sources e.g., sources determined to have reliability scores below a second predetermined threshold
- the index of operating hours 210 can be created using only data that are either (i) provided by a whitelisted source or (ii) agreed upon by two or more sources that are not on the blacklist. Data provided by a single whitelisted source can be trusted without further verification. In order for data from non-whitelisted sources to be included in the index of operating hours 210 , confirmation can be required from at least one other source. Thus the index of operating hours 210 indicates data from a trusted source or data verified among multiple sources.
- a second source can confirm the data of a first source by, for example, independently indicating the same range of operating hours the first source.
- the beginning and ending times of the operating hours indicated by two sources can be required to match each other. When the beginning or ending times do not match, the operating hours for neither source can be used.
- an overlapping range of time indicated by two different sources can be considered reliable, even if the beginning and ending times are not the same. For example, if a first source indicates that a business location has operating hours from 8:00 am to 8:00 pm, and a second source indicates that it has operating hours of 9:00 am to 9:00 pm, the overlapping portion of time from 9:00 am to 8:00 pm can be used as the operating hours for the business location.
- the operating hours 210 for the business can be considered to be unknown, as if no information were available for the business.
- the operating hours for a business result is unknown, the business result will not be selected as an open result, and thus will not be designated as open.
- the server system 106 assigns a confidence score 220 of 0% to the business result 130 c , indicating that the business result 130 c is not likely to be open at the time 121 .
- the index of operating hours 210 can indicate the operating hours 210 of a business with varying degrees of confidence.
- operating hours 210 entries in the index can have associated confidence measures (not shown) based on the reliability scores of the sources that provided the operating hours 210 .
- the greater the number of sources that agree on the operating hours 210 the greater the confidence indicated by the confidence measures assigned to the operating hours 210 .
- Different periods of time during the operating hours 210 can have different assigned confidence measures. For example, for a single business result 130 a - 130 c , a time period that multiple information sources indicate as open may be assigned a higher confidence measure than a time period that only one information source indicates as open.
- the server system 106 uses the operating hours 210 to assign the confidence scores 220 , which indicate the likelihood that the business results 130 a - 130 c are actually open at the time 121 .
- the server system 106 determines that time 121 is included within the operating hours 210 for one of the business results 130 a - 130 c , the server system assigns a confidence score 220 to the business result 130 a - 130 c that indicates that it is likely that the business result 130 a - 130 c is open.
- the server system determines that the time 121 is outside the operating hours 210 , the server system 106 assigns a confidence score 220 that indicates that it is unlikely that the business result 130 a - 130 c is open.
- the confidence scores 220 can also be based in part on confidence measures for the operating hours 210 , for example, to account for uncertainty as to the accuracy of the operating hours 210 . For example, even though the business result 130 a and the business result 130 b both have operating hours 210 that include the time 121 , the confidence scores 220 are different to reflect the different levels of confidence in the accuracy of the operating hours 210 .
- the server system 106 can assign the confidence scores 220 based on the proximity of the time 121 to the boundaries of the operating hours 210 . The closer the time 121 is to the beginning or end of the operating hours 210 , the lower the likelihood that the business result 130 a - 130 a will be open.
- the server system 106 can also determine whether the time 121 is within a threshold amount of time from the boundaries of the operating hours 210 . For example, the server system 106 can determine whether the time 121 is within thirty minutes of an opening or closing time of the business results 130 a - 130 c . Other threshold times can be used, for example, two hours, one hour, or fifteen minutes.
- the boundaries of the operating hours 210 are more likely to be incorrect or to be changed than are the middle periods of the operating hours 210 .
- a business owner is more likely to close an hour early one day than to close for an hour in the middle of the day. Therefore, when an expected arrival time 260 is within a predetermined threshold amount of time from an opening or closing time, there may be additional uncertainty as to whether the business will be open.
- the time 121 is within thirty minutes of the closing time for the business result 130 a .
- the server system 106 assigns the confidence score 220 for the business result 130 a to indicate lower confidence that the business result 130 a is open than if the time 121 had been more than thirty minutes from the closing time.
- the server system 106 can determine a time zone for the user 102 . For example, the server system 106 can use the device location 120 to determine a time zone where the computing device 104 is located. This time zone can be used so that the time 121 and the times of the operating hours 210 can be compared accurately.
- the index of operating hours 210 can be stored with respect to a common time zone, for example, coordinated universal time (UTC). Storing data about the operating hours 210 with respect to a common time zone can facilitate using the same index data in data centers in multiple different time zones.
- the server system 106 can convert the current time (e.g., the time 121 ) to UTC for comparison with the operating hours 210 , which are stored in UTC.
- the index of operating hours 210 can store, for each business result 130 a - 130 c , data that indicates a time zone associated with the operating hours 210 for the business result 130 a - 130 c .
- the server system 106 can make appropriate conversions when comparing a time in a first time zone to a time in a second, different time zone.
- the server system 106 can also assign the arrival confidence scores 270 , which each indicate a likelihood that the corresponding business result 130 a - 130 c will be open when the user 102 arrives at the corresponding business location 230 .
- the server system 106 can access data that indicates operating hours 210 and business locations 230 for each of the business results 130 a - 130 c . Using this data, the server system 106 can determine distances 240 between the device location 120 and the business locations 230 , and also determine estimated travel times 250 from the device location 120 to the business locations 230 .
- the server system 106 can calculate estimated arrival times 260 at which the user 102 can arrive at the business locations 230 .
- the server system 106 can then assign the arrival confidence scores 270 based on whether the estimated arrival times 260 are within the operating hours 210 .
- the server system 106 can identify the business locations 230 that are associated with the business results 130 a - 130 c using location data stored in an index.
- the location data can be acquired from the same sources that provide operating hours information or from different sources.
- the business locations 230 can each include, for example, an address, latitude and longitude coordinates, or other information that indicates the geographical location associated with the business results 130 a - 130 c .
- the business locations 230 may include a postal code or other information that indicates only an approximate location for the business results 130 a - 130 c.
- the server system 106 can determine distances 240 between the device location 120 and the business locations 230 .
- the server system 106 can access map data for a region that includes the device location 120 and the business locations 230 . Using the map data, the server system 106 can determine the distances 240 between the device location 120 and the business locations 230 along roads or other transportation routes. Alternatively, the distances 240 can be linear distances between the two locations.
- the server system 106 can determine estimated travel times 250 between the device location 120 and the business locations 230 . For purposes of example, specific values of estimated travel times 250 are illustrated. To reflect the variability of travel times, the server system 106 can use estimation functions rather than specific values to represent estimated travel times 250 . For example, each of the estimated travel times 250 can be calculated as a probability distribution function such as a probability density function (PDF). Alternatively, one or more particular estimated travel times can be used.
- PDF probability density function
- the server system 106 can estimate travel times using the map data. Travel times 250 may be calculated by adding together travel times or combining probability functions for travel along different segments of a route between the device location 120 and one of the business locations 230 . The travel time for each segment can be based on the maximum or average speeds along the segment, and can take into account current or expected traffic conditions. Alternatively, the travel times 250 can be estimated, for example, by multiplying a standard or average speed by each distance 240 .
- the estimated travel times 250 can be calculated based on any of several transportation modes such as travel by walking, by public transit such as train or bus, or by car.
- the server system 106 can calculate the estimated travel times 250 based on a fastest transportation mode available in the geographic area, a recent transportation mode, or a transportation mode selected by the user 102 .
- the variance of the PDFs can vary based on the mode of transportation that is used. For example, a PDF that represents travel times using a train may be calculated to have a lower variance than a PDF that represents travel times using a car.
- the PDF used to estimate can take into account the time 121 at which travel is expected to occur. For example, when the travel time is calculated for travel by car and the time 121 is near a peak commute time, the travel time PDF can have a larger variance or have an increased mean or median value relative to a PDF representing travel time at a non-peak time.
- the server system 106 can determine estimated arrival times 260 .
- the estimated arrival times 260 can be represented as PDFs or other estimation functions that indicate likelihoods of various times that the user may arrive at the business locations 230 .
- the values illustrated for the estimated arrival times 260 can represent, for purposes of example, mean or median values for the corresponding PDFs.
- estimated travel times 250 can represent earliest times that the user 102 is determined capable of arriving at the respective business locations 230 .
- the server system 106 can add the estimated travel times 250 to the time 121 .
- the server system 106 determines the estimated arrival times 260 based on an accuracy of the device location 120 .
- the estimation function(s) or models used to represent the estimate arrival times 260 can include an error parameter to account for error in the device location 120 .
- the error parameter can vary based on the method used to determine the device location 120 .
- the error parameter may indicate a larger error for a location determined using cellular tower signals than for a location determined using a GPS receiver.
- the larger the error parameter the larger the variance in a PDF that represents the estimated arrival time 260 .
- the server system 106 can use the estimated arrival times 260 to determine the arrival confidence scores 270 .
- Each arrival confidence score 270 can indicate a likelihood that the user 102 , by travelling from the device location 120 at the time 121 , would arrive at the business location 230 for a business result 130 a - 130 c while the business result 130 a - 130 c is open.
- the arrival confidence scores 270 can be based on the confidence scores 220 , which reflect the uncertainty about the accuracy of the operating hours 210 .
- the arrival confidence scores 270 can be based on similar factors used to assign the confidence scores 220 , for example, confidence measures for the operating hours 210 and the proximity of the estimated arrival times 260 to the beginning or end of the operating hours 210 .
- the arrival confidence scores 270 can also be based on the estimated arrival times 260 which can be expressed as PDFs.
- the server system 106 can determine a cumulative probability that the user 102 will arrive within the operating hours 210 by integrating over the portion of the estimated arrival time PDF that overlaps with the operating hours 210 .
- the server system 106 can determine one or more specific values representing estimated arrival times 260 are within the operating hours 210 .
- the server system 106 determines whether each of the estimated arrival times 260 falls within the operating hours 210 of the corresponding business result 130 a - 130 c .
- the user 102 is expected to arrive at the business result 130 a , at 9:03 pm, after the closing time of 9:00 pm. Because the user 102 likely cannot travel to the associated business location 230 before it closes, the server system 106 generates an arrival confidence score 270 for the business result 130 a that indicates that the business result 130 a will likely not be open by the time the user 102 arrives. Even though the business result 130 a is open at the current time (e.g., 8:47 pm), designating the business result 130 a as open could cause the user 102 to travel to the business location, only to arrive after the business has closed.
- the server system 106 assigns an arrival confidence score 270 to the business result 130 b that indicates that the business result 130 b is likely to be open at a time when the user 102 can arrive.
- the server system 106 can assign the composite scores 280 to the business results 130 a - 130 c based on the arrival confidence scores 270 and other criteria.
- Each composite score 280 is a value indicative of a likelihood that the corresponding business result 130 a - 130 c should be designated as open.
- the composite scores 280 can thus be based on any combination of the factors used to calculate the confidence scores 220 and the arrival confidence scores 270 , including the likelihood that the known operating hours 210 are accurate and the likelihood that the user can arrive at the business locations 230 while they are open.
- the composite scores 280 can be calculated by applying a weighting or scaling factor to the arrival confidence scores 270 .
- the arrival confidence scores 270 can be weighted by the distances 240 such that the greater the distance 240 , the less likely the corresponding business result 130 a - 130 c should be selected as open.
- the distances 240 can be used to manage the risk of inconvenience to the user if the operating hours 210 are incorrect. For example, if a user travels one mile based on an indication that a business location is “open now”, and the business location is closed, the inconvenience to the user 102 much less than if the user 102 had traveled fifteen miles to reach the business location only to find that it is closed.
- the server system 106 can assign the composite scores 280 according to the distances 240 , such that the greater the distance 240 , the lower the scaling factor applied to the corresponding arrival confidence score 270 .
- a maximum distance threshold can be set such that any business results 130 a - 130 c that have distance 240 greater than the predetermined maximum threshold distance can be excluded from being designated as open.
- the server system 106 determines whether the business results 130 a - 130 c should be designated as open.
- the server system 106 selects a subset of the business results 130 a - 130 c as open results based on the composite scores 280 .
- a score evaluation module 126 of the server system 106 evaluates the composite scores 280 , for example, by comparing each composite score 280 to a predetermined threshold. If the composite score 280 for one of the business results 130 a - 130 c meets (e.g., is greater than or equal to) the predetermined threshold, the server system 106 selects the associated business result 130 a - 130 c as an open result. When fewer than all of the business results 130 a - 130 c have composite scores 280 that satisfy the threshold, the open results can be a proper subset of the business results 130 a - 130 c.
- the server system 106 can use a minimum threshold of, for example, 80%.
- the composite score 280 assigned to the business result 130 b is above the minimum threshold, and thus the server system 106 selects the business result 130 b as an open result for the time 121 .
- the composite scores 280 assigned to the other business results 130 a , 130 c are below the minimum threshold, so the server system 106 does not select them as open results.
- the selection process for the open results is time-zone aware.
- Business results 130 a - 130 c that outside the time zone of the user 102 can still be accurately selected as open results.
- a user near a time zone boundary can be presented information about open results having business locations in all nearby time zones.
- the score evaluation module 126 can evaluate the confidence scores 220 or the arrival confidence scores 270 against predetermined thresholds rather than evaluating the composite scores 280 . For example, if it is not desired to take travel time into account, the open results can be selected based on the confidence scores 220 . As another example, if no scaling or other adjustments to the arrival confidence scores 270 are made, the open results can be selected based on the arrival confidence scores 270 .
- the server system 106 In state (F), the server system 106 generates a web page 140 or other data that identifies one or more of the search results 130 .
- a web page generation module 128 of the server system 106 can generate the web page 140 to include the top N results, where N is an integer.
- the web page 140 can also designate one or more of the search results 130 are as open.
- Search results 130 can be indicated as open when the web page 140 is rendered, or after a user selects a user interface element such as a filter control.
- open results may not be distinguished from other search results 130 when the web page 140 is first rendered.
- the user 102 can select a filter control that filters the search results 130 so that only the open results (for example, those results selected as “open now”) are presented. After the filter is applied, all of the search results 130 that are presented are indicated to be open.
- Business results 130 a - 130 c that are closed, or that have not been determined to be open, are filtered out by the filter control.
- the web page generation module 128 can selectively include the filter control in the web page 140 based on the characteristics of the query 112 and/or the set of search results 130 . Based on an evaluation of the characteristics of the search results 130 , the web page generation module 128 can include the filter control when it is likely to be useful to the user 102 , and omit the filter control when it is not likely to be useful, as described in more detail below. Thus when the filter control is included, it can function as a suggestion that the user 102 refine the presentation of the search results 130 to indicate those that are open.
- the web page generation module 128 can determine whether or not to display the filter control based on one or more of, for example, a total number of search results 130 identified, a number of business results 130 a - 130 c identified, and a number of open results selected.
- the server system 106 can generate the web page 140 to present the filter control when a predetermined condition is satisfied.
- the server system 106 can generate the web page 140 to not present the filter control when the predetermined condition is not satisfied.
- the predetermined condition can include, for example, that the total number of open results equals or exceeds a threshold number, for example, one, five, or ten. If there are no open results in the set of search results 130 , for example, the filter control can be omitted. By contrast, if there are at least the threshold number of open results, the filter control can be included.
- the predetermined condition can include, for example, that the total number of search results 130 meets or exceeds a minimum threshold, for example, one, five, ten, or twenty. If the total number of search results 130 is below the minimum threshold, the filter control may not be needed.
- the predetermined condition includes the number of open results satisfying a first threshold, and the number of total results identified satisfying a second threshold.
- the predetermined condition can be that the number of open results in the N-highest ranked results meets or exceeds a threshold.
- the filter control can be provided when there are at least five open results in the fifty highest-ranked search results 130 .
- the server system 106 can omit the filter control when the server system 106 determines that the query 112 is highly navigational, for example, when the server system 106 determines that the query 112 corresponds to specific location or business. For example, when the query 112 includes a particular address or business name that likely refers to a single business or location, the server system 106 can omit the filter control. By contrast, the filter would be more appropriate when the query 112 includes a general description like “hardware store” or “movie theater”.
- the server system 106 can determine whether a query is highly navigational based on the search results 130 , for example, whether the highest-ranking search results have particular characteristics in common.
- a query can be determined to be highly navigational based on user interactions with results to queries with the same or similar terms. For example, when different users often select the same result after submitting a particular set of query terms, the set of query terms is likely to be highly navigational.
- the filter control may be displayed in the web page 140 in response to every query 112 , but other features, such as formatting or a separate notification message, can be selectively included to draw the user's attention to the filter control when it is likely to be useful.
- a link to a search result page presenting only the open results can be included on the web page 140 regardless of the query 112 and search results 130 .
- a separate prompt suggesting that the user 102 interact with the link can be included when one or more predetermined conditions are satisfied.
- state (G) the server system 106 sends the web page 140 to the computing device 104 over the network 108 .
- state (H) the computing device 104 receives the web page 140 , and renders the web page 140 on the user interface 110 b.
- the web page 140 can present the search results 130 ranked according to, for example, relevance to the terms of the query 112 .
- the web page 140 includes a filter control 150 that can alter the presentation of the search results 130 based on whether the search results 130 are selected as open results.
- the user interface element can respond to user interaction by filtering or re-ordering the search results 130 that are presented.
- the user interface 110 b of the computing device 104 can be configured to present the subset of the search results 130 that are open results. Search results 130 that are not open results can be excluded from presentation.
- the filter control 150 can include a button, a checkbox, a drop down list item, or other user interface element.
- the filter control 150 can be a link to a different search result web page that, when rendered, presents only the business results 130 a - 130 c .
- the server system 106 determines which search results 130 should be selected as open results in response to interaction with the filter control 150 , in addition to, or instead of, selecting open results in response to receiving the search query 112 .
- the user interface 110 b (which displays the rendered web page 140 ) can also include other indications of business status.
- a notification 152 can be presented to indicate that the business result 130 b is an open result, for example, that the business result 130 b is “open now.”
- the server system 106 assigns each of the business results 130 a - 130 c to one of three groups: open results, closed results, and uncertain status results.
- the open results can be business results, such as the business result 130 b , for which there is a high likelihood (e.g., a confidence score above a threshold value) that they are open at time of interest.
- the closed results can be business results 130 a - 130 c that are likely to be closed at a time of interest (e.g., a confidence score that the business is closed is above a threshold value).
- the uncertain status results can be business results 130 a - 130 c that are not selected as open results or closed results (e.g., a confidence score is within a range that indicates uncertainty as to the status).
- the business result 130 c can be designated as an uncertain status result because operating hours are unknown.
- Indications can be provided to show for the open results, the closed results, and the uncertain status results.
- an indication can be provided that prompts the user 102 to independently determine the business location status, for example, “status unavailable” or “please call ahead first”.
- FIG. 3A is a diagram that illustrates an example of a user interface 310 a for indicating location status.
- the user interface 310 a displays a search engine results page that is rendered on, for example, a computing device.
- the user interface 310 a displays information that identifies search results 330 a - 330 e selected as relevant to a search query 312 .
- the user interface 310 a does not indicate which of the search results 330 a - 330 e are selected as open results.
- the search results 330 a - 330 e that are most relevant to the search query 312 can be presented, regardless of status.
- the user interface 310 a includes a filter control 350 that permits a user to alter the presentation of the search results 330 a - 330 e to designate open results as being open. For example, interaction with the filter control 350 can filter the search results 330 a - 330 e to show only search results 330 a - 330 e that are associated with locations that are open at the current time (e.g., “open now”).
- FIG. 3B is a diagram that illustrates an example of a user interface 310 b for indicating location status.
- the user interface 310 b illustrates information displayed in response to user interaction with the filter control 350 of FIG. 3A .
- the user interface 310 b can be displayed instead of the user interface 310 a . Only open results 330 b , 330 d , 330 e , a subset of the search results 330 a - 330 e , are identified on the user interface 310 b .
- a message or other indication 360 can be presented that describes the displayed results as open results and indicates that the filter has been applied.
- the open results can be selected from among the search results 330 a - 330 e and from other search results not presented on the user interface 310 a .
- the open results can be search results 330 a - 330 e that are open at the current time, for example, search results 330 a - 330 e for which the current time is determined to be within the operating hours.
- the open results can be search results 330 a - 330 e that are open at an estimated arrival time in the future, for example, at a time at which the user is likely capable of arriving at the business locations that correspond to the respective search results 330 a - 330 c .
- Estimated travel times between the location of the user's computing device and the business locations can be used to determine the estimated arrival times, as described above.
- the open results can also be selected based on additional factors, such as distance of the corresponding business locations from the location of the computing device and the proximity of the current time or an estimated arrival time to the boundaries of the corresponding operating hours.
- the user interface 310 b illustrates a web page that is retrieved over a network in response to interaction with the filter control 350 .
- the filter control 350 can be a link to a search engine results page that indicates only open results and is different from the search engine results page displayed in the user interface 310 a .
- the web page displayed on the user interface 310 a can include information, including information about open results, that is not displayed, and code in the web page can cause the information to be presented, for example, in the user interface 310 b without loading a different web page.
- FIG. 4A is a diagram that illustrates an example of a user interface 410 a for indicating location status.
- the user interface 410 a displays a search engine results page that is rendered on, for example, a computing device.
- the user interface 410 a displays information that identifies search results 430 a - 430 d selected as relevant to a search query 412 .
- the user interface 410 a presents one or more user interface elements 450 that permit a user to select a time, for example, a current time or a future time.
- the selected time can be a time on a current date or a future date.
- a filter control 455 can also be presented. By interacting with the filter control 455 , the user can apply a filter to the search results 430 a - 430 d so that businesses open at the selected time and date (e.g., a future time and date) are identified.
- FIG. 4B is a diagram that illustrates an example of a user interface 410 b for indicating location status.
- the user interface 410 b illustrates information displayed in response to user interaction with the filter control 455 of FIG. 4A .
- the user interface 410 b is presented, identifying open results that are designated as open at the time and date selected by the user using the user interface elements 450 .
- the open results can be selected as, for example, search results 430 a - 430 d for which the selected time occurs within the operating hours corresponding to the search results 430 a - 430 d.
- the selected date and time is September 17 at 7:00 pm, which represents a time in the future.
- a server system (such as the server system 106 of FIG. 1 ) determines operating hours for the search results 430 a - 430 d on the selected date. Using the operating hours, the server system determines that at the selected time of 7:00 pm on September 17, the search result 430 a and the search result 430 d are scheduled to be open, and the search results 430 b - 430 c are not scheduled to be open.
- the server system provides information that causes the search result 430 a and the search result 430 d to be identified on the user interface 410 b as being open at the selected date and time. Search results 430 a - 430 d corresponding to businesses that are not designated at open at the selected time are not presented.
- the server system uses estimated travel times to select the open results that are designated as open at the selected time in the future.
- the server system can determine an expected device location for the computing device at the selected date and time. For example, the server system can access calendar data for a user of the computing device to determine a scheduled location where the user is expected to be located at the selected time.
- the server system can determine estimated arrival times for travel between the scheduled location and the business locations. If the estimated arrival times occur within the operating hours for the businesses, the corresponding search results 430 a - 430 d can be selected as business results.
- a travel itinerary or other source of location information can be used. If information about a user's scheduled location at the selected time is unavailable, a location where the user is scheduled to be located before the scheduled time can be used. For example, the last scheduled location before the selected time can be used (e.g., a location scheduled for earlier in the day or a location for a last appointment previous to the scheduled time).
- a user can specify a time range of interest, rather than a specific time of interest.
- a user may indicate a range of time between a first time and a second time, for example, between 6:00 pm and 8:00 pm.
- the time range can be submitted with a query or used to filter results to a query previously submitted.
- Information about business results that are open during the time range can be presented.
- business results can be presented that open during the time range.
- business results can be presented that are open for any portion of the time range, or for at least a minimum length of time during the time range.
- FIG. 5 is a flow diagram that illustrates an example of a process 500 for indicating location status.
- the process 500 may be performed, for example, by the server system 106 .
- a query is received from a user device ( 502 ).
- a current time and a location for the user device are also received.
- information that indicates the device location can be received from the user device with the query.
- the device location can be a current location of the user device at the time the query is received.
- the device location can be a location determined by a GPS module of the user device.
- Results responsive to the query are identified ( 504 ).
- the results include one or more business results that are each associated with a business location and operating hours.
- a subset of the business results are selected as open results ( 506 ).
- the subset can be selected based on the operating hours and a time associated with the query, for example, a current time or a future time.
- business results can be selected as open results when the time associated with the query is within the operating hours of the business results.
- the subset can be selected as open results based on the operating hours and travel times from the device location to the respective business locations. For example, travel times between the device location and the business locations can be determined (e.g., estimated) and used to determine estimated arrival times at the business locations.
- the estimated arrival times can represent, for example, estimates of earliest times that the user is capable of arriving at the business locations.
- Business results can be selected as open results if the estimated arrival times for arriving at the business locations corresponding to the business results are within the operating hours corresponding to the business results.
- Selecting a subset of the business results as open results can include generating a confidence score for each of the business results.
- Each confidence score can indicate a likelihood that the business result and its corresponding business location are open at a particular time.
- each confidence score can be indicative of a likelihood that the corresponding business result is open at, for example, the particular time or at an estimated time of arrival at the business location of the business result.
- a set of the business results can be selected as open results, the business results in the set being those business results for which the confidence score meets a threshold.
- a confidence score indicating a likelihood that a business location for a business result is open is generated for each of the business results responsive to the query.
- the business results for which the confidence score is above a threshold are selected for inclusion in the subset of business results.
- an arrival time to the business location for each business result responsive to the query is determined (e.g., estimated).
- the arrival time may be determined by adding to the current time the travel time to the respective business locations of the business results.
- a business result can be selected as an open result by determining that the arrival time to the business location associated with the business result occurs between a beginning and an end of the operating hours associated with the business result.
- travel times from the device location to the respective business locations are estimated. Based on the estimated travel times, confidence scores are generated for the business results. Each confidence score indicates a likelihood that a user can arrive at the business location associated with one of the business results during the operating hours associated with the business result. A set of the business results is selected as the open results, the business results in the set being those business results for which the confidence score meets a threshold.
- Additional or alternative factors can be used to select the subset of the business results as open results. For example, a proximity of a time associated with the query to a beginning or end of the operating hours for the respective business results.
- the confidence scores for the respective business results can be based on the proximity of the time associated with the query to a beginning or end of the operating hours for the respective business results.
- the distance between the location of the user device and the business locations of the business results can be another additional or alternative factor used to select the open results. For example, distances between the device location and the respective business locations can be determined, and the confidence scores for the respective business results can be based on the distances.
- the travel times to the business locations may be estimated based on the distance between the location of the user device and the business locations for the respective business results.
- the travel times may be based on a particular mode of transportation (e.g., walking, bicycling, traveling by bus, by car, by train, etc.) and may take into account typical traffic patterns or actual current traffic patterns, public transportation schedules, available roadways, and so on.
- the mode of transportation used to calculate travel times may be selected based on information received from the user device, such as user input or sensor data from the client device (e.g., current speed of the client device).
- a fixed amount of or a fixed time range may be used as a travel time.
- travel times for each of multiple business results may be designated to have the same value, where the value may or may not be based on distance to the business location for the business result.
- a user may specify an amount of time to represent a travel time.
- a user may specify a particular margin of time to use when determining whether a result is indicated as open now. The user may specify that results should be indicated to be open now only if, for example, the location for the result will be open in the next 15 minutes, or 30 minutes, etc.
- the margin may be used as a travel time for multiple business results or all business results, rather than using individual estimates of travel times based on the respective distances to different business locations.
- a time zone associated with the device location can be determined.
- the subset of results can be selected as open results using the determined time zone.
- the determined time zone can be used to compare the particular time to the operating hours relative to a common time zone.
- the particular time can be converted from the determined time zone to a time zone in which operating hours for one or more business results are indicated.
- Data indicating the opening hours can be accessed from an index that stores opening hours relative to a single time zone, such as UTC.
- Data for a search engine results page is provided ( 508 ).
- the data for the search engine results page can designate the subset of the business results as open results. For example, when the search engine results page is rendered, one or more of the open results can be identified as open.
- data is provided for a control on the search engine results page that allows a user to toggle a display of results based on whether or not the results are open results.
- User interaction with the control can be detected, and data for a second search engine results page that only displays the subset of business results that are open results can be provided.
- a label is provided for display on the results page, where the label designates at least a subset of the business results as being open now results. The subset of business results are designated for display beneath the open now label.
- Providing the data can include providing data that, when rendered, displays a control that alters a display of results based on whether the results are open results.
- the control can filter or reorder the results based on whether the results are open results. For example, in response to user interaction with the control, the open results can be indicated to be open.
- a user interface is updated such that only open results are displayed.
- Providing the data for the search engine results page can include detecting user interaction with the control, and providing the data for the search engine results page that designates the open results as open in response to detecting user interaction with the control.
- Data can be provided for a first search engine results page that includes the control.
- data can be provided for a second search engine results page that identifies the open results as open.
- the control that alters the display of search results can be selectively provided. To determine whether to include the control in the search engine results page, a number of the open results can be determined. It can also be determined whether the number of open results meets a predetermined threshold. Data that, when rendered, displays a control that, in response to user interaction with the control, alters a display of results can be provided in response to determining that the number of open results meets (e.g., is higher than, or at least as high as) the predetermined threshold.
- Data that, when rendered, displays a control that alters a display of results can be provided in response to (i) determining that the number of open results meets the first threshold and (ii) determining that the number of results identified meets the second threshold.
- the open results are designated as being open at a particular time, for example, a time associated with the query.
- the particular time can be a time substantially the same as a time when the data for the search engine results page is provided.
- the open results can be designated as “open now”, or open at a current time that the data is provided.
- the open results can be designated as being open at a future time, such as a time and/or date selected by a user.
- Information indicating a future time can be received with the query, or can be received separately in response to interaction with a filter control or other user interface element of a search engine results page.
- the techniques described herein and all of the functional operations described in this specification may be implemented in digital electronic circuitry, or in computer software, firmware, or hardware, including the structures disclosed in this specification and their structural equivalents, or in combinations of one or more of them.
- the techniques described herein may be implemented as one or more computer program products, i.e., one or more modules of computer program instructions encoded on a computer readable medium for execution by, or to control the operation of, data processing apparatus.
- the computer readable medium may be a machine-readable storage device, a machine-readable storage substrate, a memory device, or a combination of one or more of them.
- data processing apparatus encompasses all apparatus, devices, and machines for processing data, including by way of example a programmable processor, a computer, or multiple processors or computers.
- the apparatus may include, in addition to hardware, code that creates an execution environment for the computer program in question, e.g., code that constitutes processor firmware, a protocol stack, a database management system, an operating system, or a combination of one or more of them.
- a computer program (also known as a program, software, software application, script, or code) may be written in any form of programming language, including compiled or interpreted languages, and it may be deployed in any form, including as a stand alone program or as a module, component, subroutine, or other unit suitable for use in a computing environment.
- a computer program does not necessarily correspond to a file in a file system.
- a program may be stored in a portion of a file that holds other programs or data (e.g., one or more scripts stored in a markup language document), in a single file dedicated to the program in question, or in multiple coordinated files (e.g., files that store one or more modules, sub programs, or portions of code).
- a computer program may be deployed to be executed on one computer or on multiple computers that are located at one site or distributed across multiple sites and interconnected by a communication network.
- the processes and logic flows described in this specification may be performed by one or more programmable processors executing one or more computer programs to perform functions by operating on input data and generating output.
- the processes and logic flows may also be performed by, and apparatus may also be implemented as, special purpose logic circuitry, e.g., an FPGA (field programmable gate array) or an ASIC (application specific integrated circuit).
- FPGA field programmable gate array
- ASIC application specific integrated circuit
- processors suitable for the execution of a computer program include, by way of example, both general and special purpose microprocessors, and any one or more processors of any kind of digital computer.
- a processor will receive instructions and data from a read only memory or a random access memory or both.
- the essential elements of a computer are a processor for performing instructions and one or more memory devices for storing instructions and data.
- a computer will also include, or be operatively coupled to receive data from or transfer data to, or both, one or more mass storage devices for storing data, e.g., magnetic, magneto optical disks, or optical disks.
- mass storage devices for storing data, e.g., magnetic, magneto optical disks, or optical disks.
- a computer need not have such devices.
- a computer may be embedded in another device, e.g., a tablet computer, a mobile telephone, a personal digital assistant (PDA), a mobile audio player, a Global Positioning System (GPS) receiver, to name just a few.
- Computer readable media suitable for storing computer program instructions and data include all forms of non volatile memory, media and memory devices, including by way of example semiconductor memory devices, e.g., EPROM, EEPROM, and flash memory devices; magnetic disks, e.g., internal hard disks or removable disks; magneto optical disks; and CD ROM and DVD-ROM disks.
- the processor and the memory may be supplemented by, or incorporated in, special purpose logic circuitry.
- embodiments may be implemented on a computer having a display device, e.g., a CRT (cathode ray tube) or LCD (liquid crystal display) monitor, for displaying information to the user and a keyboard and a pointing device, e.g., a mouse or a trackball, by which the user may provide input to the computer.
- a display device e.g., a CRT (cathode ray tube) or LCD (liquid crystal display) monitor
- keyboard and a pointing device e.g., a mouse or a trackball
- Other kinds of devices may be used to provide for interaction with a user as well; for example, feedback provided to the user may be any form of sensory feedback, e.g., visual feedback, auditory feedback, or tactile feedback; and input from the user may be received in any form, including acoustic, speech, or tactile input.
- Embodiments be implemented in a computing system that includes a back end component, e.g., as a data server, or that includes a middleware component, e.g., an application server, or that includes a front end component, e.g., a client computer having a graphical user interface or a Web browser through which a user may interact with an implementation of the techniques described above, or any combination of one or more such back end, middleware, or front end components.
- the components of the system may be interconnected by any form or medium of digital data communication, e.g., a communication network. Examples of communication networks include a local area network (“LAN”) and a wide area network (“WAN”), e.g., the Internet.
- LAN local area network
- WAN wide area network
- the computing system may include clients and servers.
- a client and server are generally remote from each other and typically interact through a communication network.
- the relationship of client and server arises by virtue of computer programs running on the respective computers and having a client-server relationship to each other.
- HTML file In each instance where an HTML file is mentioned, other file types or formats may be substituted. For instance, an HTML file may be replaced by an XML, JSON, plain text, or other types of files. Moreover, where a table or hash table is mentioned, other data structures (such as spreadsheets, relational databases, or structured files) may be used.
Abstract
Description
- This application is a continuation of U.S. application Ser. No. 15/254,604, filed Sep. 1, 2016, which is a continuation of U.S. application Ser. No. 13/658,933, filed Oct. 24, 2012, which claims the benefit of U.S. Provisional Application Ser. No. 61/551,828, filed on Oct. 26, 2011, the entirety of each of which are hereby incorporated by reference.
- This document relates to processing search queries and providing search results.
- Internet search engines identify resources (e.g., web pages, images, text documents, multimedia content) that are relevant to a user's information needs, and present information about the resources to the user. Typically, users submit queries that suggest the information the users want to retrieve, and search engines provide search results that are responsive to the queries. Some results may correspond to businesses that have limited operating hours.
- In response to a query received from a computing device, a search engine system can identify search results, including business results that are associated with business locations. The search engine system can determine whether business results should be designated as open at a particular time based on operating hours associated with the business results and a location associated with the query. For example, the query can indicate the location of the computing device. Using a travel time between the location of the computing device and a business location, the search engine system can determine whether to designate the business location as being open. The search engine system then provides information that indicates which business locations are designated as open at the particular time of interest.
- Particular business locations can be designated as open at a particular time, for example, at the current time or at a time in the future. Whether to designate a location as open can be determined based on the location of a user. A control can be provided that responds to user interaction to alter the display of the results, for example, by reordering or filtering the results.
- In appropriate circumstances, users may be provided with an opportunity to opt in/out of programs or features that may collect personal information (e.g., information about a user's preferences or a user's current location). User information that is used to identify unique users, unique addresses or other user-related history can be anonymized so that the privacy of users is protected. For example, quasi-unique identifiers can be associated with users, but the actual identifying information of the users is not stored. Additionally, any identified user preferences or user interactions can be generalized (for example, generalized based on user demographics) rather than associated with a particular user. Encryption and obfuscation techniques can also be used to protect the privacy of users.
- One innovative aspect of the subject matter described in this specification is embodied in methods that include the actions of: receiving a query from a user device, a current time, and a location for the user device; identifying results responsive to the query, the results including one or more business results that are each associated with a business location and operating hours; selecting a subset of the business results as open results based on the operating hours of the business results, the current time, and travel times from the device location to the respective business locations; and providing data for a search engine results page that designates the subset of business results as open results.
- Other embodiments of this aspect include corresponding systems, apparatus, and computer programs, configured to perform the actions of the methods, encoded on computer storage devices. A system of one or more computers can be so configured by virtue of software, firmware, hardware, or a combination of them installed on the system that in operation cause the system to perform the actions. One or more computer programs can be so configured by virtue having instructions that, when executed by data processing apparatus, cause the apparatus to perform the actions.
- These and other embodiments may each optionally include one or more of the following features. For instance, selecting the subset of the business results as the open results includes determining an arrival time to the business location for each business result responsive to the query by adding to the current time the travel time to the business location for each business result, and determining that the arrival time to the business location for the business result occurs between a beginning and an end of the operating hours associated with the business result. Providing the data for the search engine results page that designates the subset of business results as open results includes providing a label for display on the results page designating at least a subset of the business results as being open now results, and designating the subset of business results that are open results for display beneath the open now label. Providing the data for the search engine results page that designates the subset of business results as open results includes providing data for a control on the search engine results page that allows a user to toggle a display of results based on whether or not the results are open results. Interaction with the control is detected, and data for a second search engine results page that only displays the subset of business results that are open results is provided. It is determined that a number of open results is above a predetermined threshold. Selecting a subset of the business results as open results includes generating, for each of the business results responsive to the query, a confidence score indicating a likelihood that the business location for the business result is open, and selecting each of the business results for which the confidence score is above a threshold for inclusion in the subset of business results.
- Selecting the subset of the business results as the open results includes selecting the subset of the business results as the open results based on a proximity of a time associated with the query to a beginning and an end of the operating hours. Providing the data for the search engine results page includes providing data that, when rendered, displays a control that, in response to user interaction with the control, alters a display of results based on whether or not the results are open results. The control filters or reorders the results based on whether the results are open results. Providing the data for the search engine results page includes: detecting user interaction with the control; and in response to detecting user interaction with the control, providing the data for the search engine results page that designates the open results as open. Determining a number of the open results; and determining that the number of open results meets a predetermined threshold; where providing data that, when rendered, displays a control that alters a display of results is performed in response to determining that the number of the open results meets the predetermined threshold.
- Determining that a number of open results meets a first threshold; and determining that a second number of results identified meets a second threshold; where providing data that, when rendered, displays a control that alters a display of results is performed in response to (i) determining that the number of open results meets the first threshold and (ii) determining that the number of results identified meets the second threshold. Selecting a subset of the business results as open results includes: generating, for each of the business results, a confidence score indicating a likelihood that the business result is open at a particular time; and selecting a set of the business results as open results, the business results in the set being those business results for which the confidence score meets a threshold. Determining a time zone associated with the device location, where selecting the subset of the business results as open results includes selecting the subset of results as open results using the determined time zone.
- Selecting the subset of the business results as the open results includes estimating travel times from the device location to the respective business locations; based on the estimated travel times, generating, for each of the business results, a score indicating a likelihood that a user can arrive at the business location associated with the business result during the operating hours associated with the business result; and selecting a set of the business results as open results, the business results in the set being those business results for which the score meets a threshold. Selecting the subset of the business results as the open results comprises: determining a distance between the device location and the respective business locations; generating, for each of the business results, a score based on the distance between the device location and the business location associated with the business result; and selecting a set of the business results as open results, the business results in the set being those business results for which the score meets a threshold.
- Advantageous implementations can include one or more of the following features. Search results can identify businesses that are open at a particular time. Whether businesses are designated as open can be personalized based on the location of a user. A business can be designated as open when an estimated arrival time at a location for the business is within the operating hours of the business. A user interface element can respond to user interaction to indicate results that are open at a particular time. The user interface element can rank or filter search results such that results designated as open at a particular time are presented. The user interface element can be selectively presented, for example, based on characteristics of a search results set.
- The details of one or more embodiments are set forth in the accompanying drawings and the description below. Other features and advantages will become apparent from the description, the drawings, and the claims.
-
FIG. 1 is a diagram that illustrates an example environment in which location status is indicated. -
FIG. 2 is a diagram that illustrates examples of data that can be used to designate location status. -
FIGS. 3A, 3B, 4A and 4B are diagrams that illustrate examples of user interfaces for indicating location status. -
FIG. 5 is a flow diagram that illustrates an example of a process for indicating location status. - Like reference numbers and designations in the various drawings indicate like elements.
-
FIG. 1 is a diagram that illustrates anexample environment 100 in which location status is indicated. Theenvironment 100 includes acomputing device 104 and aserver system 106 that communicate over anetwork 108. The diagram shows states (A) to (H), which may occur in the sequence illustrated or in a different sequence. States (B) to (G) illustrate a flow of data, and states (A) and (H) illustrateuser interfaces - The
computing device 104 can be, for example, a desktop computer, a laptop computer, a cellular phone, a smartphone, a personal digital assistant (PDA), a tablet computer, a navigation system, or another computing device. The operations performed by theserver system 106 can be performed by individual computer systems or can be distributed across multiple computer systems. Thenetwork 108 can be a wired or wireless network or a combination of both. Thenetwork 108 can include one or more public or private networks, and can include the Internet. - Users often use search engine systems to find information about businesses and places near them. When a user reviews search results, it can be useful to know whether a business identified in the search results is open or not. Accordingly, the status of businesses and their associated locations can be presented in response to a search query. As used herein, location status refers to the accessibility of a location, for example, whether a business at the location is open.
- In general, businesses that are open at a particular time can be distinguished from businesses that are either closed at the particular time or cannot be verified as open. By indicating on a search engine results page that a business is open (or by excluding businesses that are not considered to be open), users can quickly identify businesses that are open at a time of interest.
- As an example, a user may desire to find businesses that are relevant to the user's query and are open at the current time that the query is submitted. Businesses that are currently open can be indicated to be “open now”. In some implementations, a filter control can be provided on a search engine results page that allows the user to filter out search results for businesses that are not open, leaving only open results being displayed.
- Businesses can include commercial entities and non-commercial entities, such as governments and non-profit organizations. Businesses can be associated with one or more business locations (e.g., geographical areas). Business locations can include parks, schools, libraries, and other locations where other non-commercial activities take place, in addition to stores, restaurants, theaters, and other commercial locations. In some implementations, business locations can be any publicly accessible location, regardless of the purposes of or activities at the location. Thus in some implementations, businesses are not limited to any particular purpose or activity.
- Businesses have operating hours, which can be scheduled time periods during which business can be conducted. For example, operating hours can indicate when a business location is accessible (e.g., when entry to a location is permitted, or physical facilities are available), or when services at the business location are provided.
- To determine whether to indicate a business as open, the
server system 106 can access information about the operating hours of the businesses. If the current time (or another time of interest) falls within the operating hours of a business, theserver system 106 can indicate that the business is open. - In addition, or as an alternative, the
server system 106 can use other information to enhance the usefulness of status indications provided to users. For example, theserver system 106 can take into account the distance between a user's location and the business locations of businesses in the search results. Travel times for travel between the location of a user's computing device and the business locations of the businesses can be determined. Theserver system 106 can adjust the status indicated for the businesses based on the travel times. For example, businesses can be designated as open when, based on the distance between the user's location and the business locations, it is reasonable that the user could be expected to arrive at the business locations within the operating hours. When it is not reasonable to expect that the user can arriving within the operating hours, the businesses are not indicated as being open, irrespective of whether the current time is within the operating hours. - As an example, the
server system 106 can receive a query from a user device, such as thecomputing device 104. Theserver system 106 can also receive a current time and a location of thecomputing device 104. Theserver system 106 can identify results responsive to the query. The results can include one or more business results that are each associated with a business location and operating hours. Theserver system 106 can also select a subset of the business results as open results based on the operating hours of the business results, the current time, and travel times from the device location to the respective business locations. Theserver system 106 then provides data for a search engine results page that designates the subset of the business results as open results. - For purposes of example, assume that in state (A), a
user 102 enters aquery 112 at thecomputing device 104 and initiates a search using thequery 112. Thequery 112 can include, for example, an n-gram of characters, which can include one or more query terms. - In the illustrated example, the
user interface 110 a of thecomputing device 104 includes an input field 114 (e.g., a text entry box) and asearch control 116. Theuser 102 enters thequery 112, “restaurants”, into theinput field 114 and initiates a search by clicking on or otherwise interacting with (e.g., hovering a pointer over or providing voice commands that cause selection of) thesearch control 116. - In state (B), the
computing device 104 sends arequest 118 to theserver system 106. For example, therequest 118 can request a resource or data that provides results responsive to thequery 112. Therequest 118 includes thequery 112 and indicates a geographical location associated with thequery 112. Therequest 118 can also include atime 121 associated with thequery 112, for example, a time that therequest 118 is sent. - The geographical location associated with the
query 112 can be adevice location 120 of thecomputing device 104, for example, the current location of thecomputing device 104. As described above, thedevice location 120 can be provided when, for example, theuser 102 gives permission for the location information to be submitted to and used by theserver system 106. For example, theuser 102 can “opt-in”to enable the use of location information or “opt-out” so that location information is not used. Thedevice location 120 can also be anonymized such that thedevice location 120 cannot be linked to theuser 102. - To determine the
device location 120, thecomputing device 104 can determine its current location using, for example, a global positioning system (GPS) receiver module. As an alternative, a user can enter adevice location 120, for example, an address, zip code, city or other information that indicates the location of thecomputing device 104. Thecomputing device 104 or theserver system 106 can determine the location of thecomputing device 104 based on, for example, an IP address for thecomputing device 104, information about the location of a wireless access point or a nearby cellular network cell site to which thecomputing device 104 is connected, or using other techniques. - In some implementations, the
computing device 104 or theserver system 106 estimates thedevice location 120 using information about theuser 102 to which theuser 102 has approved access. For example, if theuser 102 has enabled access to calendar data or a travel itinerary for theuser 102, thecomputing device 104 can access to determine the scheduled location of theuser 102 and thus the scheduled location of thecomputing device 104. - As an alternative, the
device location 120 can also be a stored location for thecomputing device 104, for example, a default location or a previous location for thecomputing device 104. The stored location can be a recent location of thecomputing device 104, such as the last known location, or a frequent location of thecomputing device 104. The stored location can be stored on the computing device 104 (e.g., as a cookie) or on the server system 106 (e.g., in a user profile for the user 102). Therequest 118 can indirectly indicate a stored location, for example, by including an anonymized user identifier for theuser 102, permitting theserver system 106 to access the information about the stored location for thecomputing device 104. - In state (C), the
server system 106 receives therequest 118 and identifiessearch results 130 that are responsive to thequery 112. For example,server system 106 can include aresult identification module 122 that identifies the search results 130 that are relevant to one or more of the terms of thequery 112. In the illustrated example, each of the search results 130 represents a restaurant location. - The search results 130 can include one or
more business results 130 a-130 c. Eachbusiness result 130 a-130 c represents a business and is associated with a corresponding business location, for example, a geographical location, and operating hours that represent, for example, dates and times that the corresponding business location is accessible. A business location can be accessible, and thus can be considered to be open, at times when, for example, entry to or presence at the business location by the public is permitted, services are provided at the business location, or when both conditions occur. Business results can be, but are not required to be, associated with a particular entity or organization. - Briefly, in states (D) and (E), the
server system 106 determines whether thebusiness results 130 a-130 c should be designated as being open. For example, theserver system 106 can access information about the operating hours of each of thebusiness results 130 a-130 c, and select a subset of thebusiness results 130 a-130 c as open results if the current time is within the operating hours for therespective business results 130 a-130 c. - Because the
user 102 is likely located at some distance from the locations of thebusiness results 130 a-130 c, theserver system 106 can use thedevice location 120 associated with thequery 112 to enhance the status information provided to the user. For example, theserver system 106 can select thebusiness results 130 a-130 c as open when theuser 102 is expected to arrive at the business locations within the operating hours. Thus the set ofbusiness results 130 a-130 c that theserver system 106 designated to be “open now” or open at a particular time may be different from the set of locations that are actually open at the time. - As an example, when a business is currently open, but the user does not have enough time to travel to the business before it closes, the
server system 106 does not designate the location as being open. Similarly, if a business is currently closed but will open by the time the user is expected to arrive, the business can be designated as open, even though it is not actually open at the moment the results are provided to the user. In some implementations, as described further below, a user can select a time of interest other than the current time (e.g., a future date or time, or a range of time) at which location status information is desired. - In further detail, in state (D), the
server system 106 assigns scores to thebusiness results 130 a-130 c. Theserver system 106 uses the scores to determine whether thebusiness results 130 a-130 c should be designated as open at the particular time of interest (e.g., the time 121). -
FIG. 2 is a diagram that illustrates examples of data that can be used to designate location status. Theserver system 106 can include a score assignment module that assigns one or more scores to eachbusiness result 130 a-130 c. The assigned scores can include confidence scores, where each confidence score is a value indicative of a likelihood that abusiness result 130 a-130 c will be open at a particular time of interest. For example, theserver system 106 can assign aconfidence score 220 that is indicative of whether abusiness result 130 a-130 c will be open at thetime 121. In addition, or as an alternative, theserver system 106 can assign anarrival confidence score 270 that is indicative of whether abusiness result 130 a-130 c will be open at a time that theuser 102 is estimated to arrive at a business location of thebusiness result 130 a-130 c. - As described further below, the
server system 106 can assigncomposite scores 280 that indicate the likelihood that therespective business results 130 a-130 c should be designated as open. Thecomposite scores 280 are based on the confidence scores 220, the arrival confidence scores 270, or both. For example, one or more weighting or scaling factors can be applied to the confidence scores 220 or the arrival confidence scores 270 to determine the composite scores 280. - To determine the confidence scores 220 and the arrival confidence scores 270, the
server system 106 can access information about operatinghours 210 for each of thebusiness results 130 a-130 c. The data indicating the operatinghours 210 can be accessed from, for example, an index stored in one or more data storage devices in communication with the server system 106 (not shown). The data in the index can be acquired from multiple sources, for example, representatives of businesses, web pages for the businesses, public records, or third parties. In some implementations, information about operatinghours 210 is acquired from a directory service that aggregates operating hours data for multiple businesses. - In some implementations, users can choose to provide information about operating hours, and that information can be included in the index. For example, users can submit information that states the operating
hours 210 for a business. As another example, users can give permission for theserver system 106 to access “check-in” data indicating that thecomputing device 104 was located at a location at a particular time. As described above, users can be provided an opportunity to opt-in or opt-out of using features that collect information about the users. The check-in data can be anonymized so that it cannot be linked to a user identity. Check-in data may include, for example, a location (e.g., GPS coordinates) and a timestamp. Because users are generally admitted at a location only when the location is open, the timestamps of check-in data can indicate when the location is open. As another example, users may give permission for theserver system 106 to access timestamps and locations associated with photographs taken at a location during the operating hours. As another example, users may provide feedback indicating that operating hours presented are incorrect or incomplete, and theserver system 106 can update the operatinghours 210 in response. - The different sources of information for operating
hours 210 can have different levels of reliability. The reliability of different information sources can be determined, and a reliability score, indicative of the reliability of the information source, can be associated with each information source. - In some implementations, sources that are determined to be reliable (e.g., sources determined to have reliability scores at or above a first predetermined threshold) can be included in a whitelist. Unreliable sources (e.g., sources determined to have reliability scores below a second predetermined threshold) can be included in a blacklist, and data from blacklisted sources can be ignored. The index of operating
hours 210 can be created using only data that are either (i) provided by a whitelisted source or (ii) agreed upon by two or more sources that are not on the blacklist. Data provided by a single whitelisted source can be trusted without further verification. In order for data from non-whitelisted sources to be included in the index of operatinghours 210, confirmation can be required from at least one other source. Thus the index of operatinghours 210 indicates data from a trusted source or data verified among multiple sources. - A second source can confirm the data of a first source by, for example, independently indicating the same range of operating hours the first source. In some implementations, the beginning and ending times of the operating hours indicated by two sources can be required to match each other. When the beginning or ending times do not match, the operating hours for neither source can be used. As an alternative, in some implementations, an overlapping range of time indicated by two different sources can be considered reliable, even if the beginning and ending times are not the same. For example, if a first source indicates that a business location has operating hours from 8:00 am to 8:00 pm, and a second source indicates that it has operating hours of 9:00 am to 9:00 pm, the overlapping portion of time from 9:00 am to 8:00 pm can be used as the operating hours for the business location.
- When only one source provides operating hours for a business, or when multiple sources disagree, the operating
hours 210 for the business can be considered to be unknown, as if no information were available for the business. When the operating hours for a business result is unknown, the business result will not be selected as an open result, and thus will not be designated as open. For example, because operatinghours 210 are unavailable for thebusiness result 130 c, theserver system 106 assigns aconfidence score 220 of 0% to thebusiness result 130 c, indicating that thebusiness result 130 c is not likely to be open at thetime 121. - In some implementations, the index of operating
hours 210 can indicate the operatinghours 210 of a business with varying degrees of confidence. For example, operatinghours 210 entries in the index can have associated confidence measures (not shown) based on the reliability scores of the sources that provided theoperating hours 210. The greater the number of sources that agree on the operatinghours 210, the greater the confidence indicated by the confidence measures assigned to the operatinghours 210. Different periods of time during theoperating hours 210 can have different assigned confidence measures. For example, for asingle business result 130 a-130 c, a time period that multiple information sources indicate as open may be assigned a higher confidence measure than a time period that only one information source indicates as open. - The
server system 106 uses theoperating hours 210 to assign the confidence scores 220, which indicate the likelihood that thebusiness results 130 a-130 c are actually open at thetime 121. When theserver system 106 determines thattime 121 is included within the operatinghours 210 for one of thebusiness results 130 a-130 c, the server system assigns aconfidence score 220 to thebusiness result 130 a-130 c that indicates that it is likely that thebusiness result 130 a-130 c is open. When the server system determines that thetime 121 is outside the operatinghours 210, theserver system 106 assigns aconfidence score 220 that indicates that it is unlikely that thebusiness result 130 a-130 c is open. - The confidence scores 220 can also be based in part on confidence measures for the operating
hours 210, for example, to account for uncertainty as to the accuracy of the operatinghours 210. For example, even though thebusiness result 130 a and thebusiness result 130 b both haveoperating hours 210 that include thetime 121, the confidence scores 220 are different to reflect the different levels of confidence in the accuracy of the operatinghours 210. - To further account for the uncertainty in the operating hours, the
server system 106 can assign the confidence scores 220 based on the proximity of thetime 121 to the boundaries of the operatinghours 210. The closer thetime 121 is to the beginning or end of the operatinghours 210, the lower the likelihood that thebusiness result 130 a-130 a will be open. Theserver system 106 can also determine whether thetime 121 is within a threshold amount of time from the boundaries of the operatinghours 210. For example, theserver system 106 can determine whether thetime 121 is within thirty minutes of an opening or closing time of thebusiness results 130 a-130 c. Other threshold times can be used, for example, two hours, one hour, or fifteen minutes. The boundaries of the operatinghours 210 are more likely to be incorrect or to be changed than are the middle periods of the operatinghours 210. For example, a business owner is more likely to close an hour early one day than to close for an hour in the middle of the day. Therefore, when an expectedarrival time 260 is within a predetermined threshold amount of time from an opening or closing time, there may be additional uncertainty as to whether the business will be open. - In the illustrated example, the
time 121 is within thirty minutes of the closing time for thebusiness result 130 a. As a result, theserver system 106 assigns theconfidence score 220 for thebusiness result 130 a to indicate lower confidence that thebusiness result 130 a is open than if thetime 121 had been more than thirty minutes from the closing time. - When determining the confidence scores 220 (or the arrival confidence scores 270), the
server system 106 can determine a time zone for theuser 102. For example, theserver system 106 can use thedevice location 120 to determine a time zone where thecomputing device 104 is located. This time zone can be used so that thetime 121 and the times of the operatinghours 210 can be compared accurately. - In some implementations, the index of operating
hours 210 can be stored with respect to a common time zone, for example, coordinated universal time (UTC). Storing data about the operatinghours 210 with respect to a common time zone can facilitate using the same index data in data centers in multiple different time zones. After determining the user's time zone, theserver system 106 can convert the current time (e.g., the time 121) to UTC for comparison with the operatinghours 210, which are stored in UTC. - As an alternative, rather than storing operating hours relative to a common time zone, the index of operating
hours 210 can store, for eachbusiness result 130 a-130 c, data that indicates a time zone associated with the operatinghours 210 for thebusiness result 130 a-130 c. Theserver system 106 can make appropriate conversions when comparing a time in a first time zone to a time in a second, different time zone. - The
server system 106 can also assign the arrival confidence scores 270, which each indicate a likelihood that thecorresponding business result 130 a-130 c will be open when theuser 102 arrives at thecorresponding business location 230. Theserver system 106 can access data that indicates operatinghours 210 andbusiness locations 230 for each of thebusiness results 130 a-130 c. Using this data, theserver system 106 can determinedistances 240 between thedevice location 120 and thebusiness locations 230, and also determine estimatedtravel times 250 from thedevice location 120 to thebusiness locations 230. Theserver system 106 can calculate estimatedarrival times 260 at which theuser 102 can arrive at thebusiness locations 230. Theserver system 106 can then assign the arrival confidence scores 270 based on whether the estimatedarrival times 260 are within the operatinghours 210. - The
server system 106 can identify thebusiness locations 230 that are associated with thebusiness results 130 a-130 c using location data stored in an index. The location data can be acquired from the same sources that provide operating hours information or from different sources. Thebusiness locations 230 can each include, for example, an address, latitude and longitude coordinates, or other information that indicates the geographical location associated with thebusiness results 130 a-130 c. In some implementations, thebusiness locations 230 may include a postal code or other information that indicates only an approximate location for thebusiness results 130 a-130 c. - The
server system 106 can determinedistances 240 between thedevice location 120 and thebusiness locations 230. For example, theserver system 106 can access map data for a region that includes thedevice location 120 and thebusiness locations 230. Using the map data, theserver system 106 can determine thedistances 240 between thedevice location 120 and thebusiness locations 230 along roads or other transportation routes. Alternatively, thedistances 240 can be linear distances between the two locations. - The
server system 106 can determine estimatedtravel times 250 between thedevice location 120 and thebusiness locations 230. For purposes of example, specific values of estimatedtravel times 250 are illustrated. To reflect the variability of travel times, theserver system 106 can use estimation functions rather than specific values to represent estimatedtravel times 250. For example, each of the estimatedtravel times 250 can be calculated as a probability distribution function such as a probability density function (PDF). Alternatively, one or more particular estimated travel times can be used. - The
server system 106 can estimate travel times using the map data.Travel times 250 may be calculated by adding together travel times or combining probability functions for travel along different segments of a route between thedevice location 120 and one of thebusiness locations 230. The travel time for each segment can be based on the maximum or average speeds along the segment, and can take into account current or expected traffic conditions. Alternatively, thetravel times 250 can be estimated, for example, by multiplying a standard or average speed by eachdistance 240. - The estimated
travel times 250 can be calculated based on any of several transportation modes such as travel by walking, by public transit such as train or bus, or by car. Theserver system 106 can calculate the estimatedtravel times 250 based on a fastest transportation mode available in the geographic area, a recent transportation mode, or a transportation mode selected by theuser 102. When a PDF is used to represent the estimatedtravel times 250, the variance of the PDFs can vary based on the mode of transportation that is used. For example, a PDF that represents travel times using a train may be calculated to have a lower variance than a PDF that represents travel times using a car. Similarly, the PDF used to estimate can take into account thetime 121 at which travel is expected to occur. For example, when the travel time is calculated for travel by car and thetime 121 is near a peak commute time, the travel time PDF can have a larger variance or have an increased mean or median value relative to a PDF representing travel time at a non-peak time. - Using the estimated
travel times 250, theserver system 106 can determine estimated arrival times 260. The estimatedarrival times 260 can be represented as PDFs or other estimation functions that indicate likelihoods of various times that the user may arrive at thebusiness locations 230. The values illustrated for the estimatedarrival times 260 can represent, for purposes of example, mean or median values for the corresponding PDFs. Alternatively, estimatedtravel times 250 can represent earliest times that theuser 102 is determined capable of arriving at therespective business locations 230. To calculate the estimatedarrival times 260, theserver system 106 can add the estimatedtravel times 250 to thetime 121. - In some implementations, the
server system 106 determines the estimatedarrival times 260 based on an accuracy of thedevice location 120. The estimation function(s) or models used to represent theestimate arrival times 260 can include an error parameter to account for error in thedevice location 120. The error parameter can vary based on the method used to determine thedevice location 120. For example, the error parameter may indicate a larger error for a location determined using cellular tower signals than for a location determined using a GPS receiver. The larger the error parameter, the larger the variance in a PDF that represents the estimatedarrival time 260. - The
server system 106 can use the estimatedarrival times 260 to determine the arrival confidence scores 270. Eacharrival confidence score 270 can indicate a likelihood that theuser 102, by travelling from thedevice location 120 at thetime 121, would arrive at thebusiness location 230 for abusiness result 130 a-130 c while thebusiness result 130 a-130 c is open. - To take into account uncertainty as to the accuracy of the operating
hours 210, the arrival confidence scores 270 can be based on the confidence scores 220, which reflect the uncertainty about the accuracy of the operatinghours 210. Alternatively, the arrival confidence scores 270 can be based on similar factors used to assign the confidence scores 220, for example, confidence measures for the operatinghours 210 and the proximity of the estimatedarrival times 260 to the beginning or end of the operatinghours 210. - To take into account uncertainty as to the future arrival time of the
user 102 at thebusiness locations 230, the arrival confidence scores 270 can also be based on the estimatedarrival times 260 which can be expressed as PDFs. As an example, for eachbusiness result 130 a-130 c, theserver system 106 can determine a cumulative probability that theuser 102 will arrive within the operatinghours 210 by integrating over the portion of the estimated arrival time PDF that overlaps with the operatinghours 210. Alternatively, theserver system 106 can determine one or more specific values representing estimatedarrival times 260 are within the operatinghours 210. - In the illustrated example, the
server system 106 determines whether each of the estimatedarrival times 260 falls within the operatinghours 210 of thecorresponding business result 130 a-130 c. As an example, theuser 102 is expected to arrive at thebusiness result 130 a, at 9:03 pm, after the closing time of 9:00 pm. Because theuser 102 likely cannot travel to the associatedbusiness location 230 before it closes, theserver system 106 generates anarrival confidence score 270 for thebusiness result 130 a that indicates that thebusiness result 130 a will likely not be open by the time theuser 102 arrives. Even though thebusiness result 130 a is open at the current time (e.g., 8:47 pm), designating thebusiness result 130 a as open could cause theuser 102 to travel to the business location, only to arrive after the business has closed. - As another example, assume that the
user 102 is expected to be able to arrive at thebusiness location 230 for thebusiness result 130 b by 8:50 pm, which is within the operatinghours 210 for thebusiness result 130 b. In this example, theserver system 106 assigns anarrival confidence score 270 to thebusiness result 130 b that indicates that thebusiness result 130 b is likely to be open at a time when theuser 102 can arrive. - The
server system 106 can assign thecomposite scores 280 to thebusiness results 130 a-130 c based on the arrival confidence scores 270 and other criteria. Eachcomposite score 280 is a value indicative of a likelihood that thecorresponding business result 130 a-130 c should be designated as open. Thecomposite scores 280 can thus be based on any combination of the factors used to calculate the confidence scores 220 and the arrival confidence scores 270, including the likelihood that the knownoperating hours 210 are accurate and the likelihood that the user can arrive at thebusiness locations 230 while they are open. - The
composite scores 280 can be calculated by applying a weighting or scaling factor to the arrival confidence scores 270. For example, the arrival confidence scores 270 can be weighted by thedistances 240 such that the greater thedistance 240, the less likely thecorresponding business result 130 a-130 c should be selected as open. In this manner, thedistances 240 can be used to manage the risk of inconvenience to the user if the operatinghours 210 are incorrect. For example, if a user travels one mile based on an indication that a business location is “open now”, and the business location is closed, the inconvenience to theuser 102 much less than if theuser 102 had traveled fifteen miles to reach the business location only to find that it is closed. Theserver system 106 can assign thecomposite scores 280 according to thedistances 240, such that the greater thedistance 240, the lower the scaling factor applied to the correspondingarrival confidence score 270. A maximum distance threshold can be set such that anybusiness results 130 a-130 c that havedistance 240 greater than the predetermined maximum threshold distance can be excluded from being designated as open. - Returning to
FIG. 1 , in state (E), theserver system 106 determines whether thebusiness results 130 a-130 c should be designated as open. Theserver system 106 selects a subset of thebusiness results 130 a-130 c as open results based on the composite scores 280. Ascore evaluation module 126 of theserver system 106 evaluates thecomposite scores 280, for example, by comparing eachcomposite score 280 to a predetermined threshold. If thecomposite score 280 for one of thebusiness results 130 a-130 c meets (e.g., is greater than or equal to) the predetermined threshold, theserver system 106 selects the associatedbusiness result 130 a-130 c as an open result. When fewer than all of thebusiness results 130 a-130 c havecomposite scores 280 that satisfy the threshold, the open results can be a proper subset of thebusiness results 130 a-130 c. - In the illustrated example, the
server system 106 can use a minimum threshold of, for example, 80%. Thecomposite score 280 assigned to thebusiness result 130 b is above the minimum threshold, and thus theserver system 106 selects thebusiness result 130 b as an open result for thetime 121. Thecomposite scores 280 assigned to theother business results server system 106 does not select them as open results. - Because the time zone associated with the
time 121 is determined and used when assigning thecomposite scores 280, the selection process for the open results is time-zone aware.Business results 130 a-130 c that outside the time zone of theuser 102 can still be accurately selected as open results. Thus a user near a time zone boundary can be presented information about open results having business locations in all nearby time zones. - In some implementations, the
score evaluation module 126 can evaluate the confidence scores 220 or the arrival confidence scores 270 against predetermined thresholds rather than evaluating the composite scores 280. For example, if it is not desired to take travel time into account, the open results can be selected based on the confidence scores 220. As another example, if no scaling or other adjustments to the arrival confidence scores 270 are made, the open results can be selected based on the arrival confidence scores 270. - In state (F), the
server system 106 generates aweb page 140 or other data that identifies one or more of the search results 130. For example, a webpage generation module 128 of theserver system 106 can generate theweb page 140 to include the top N results, where N is an integer. - The
web page 140 can also designate one or more of the search results 130 are as open. Search results 130 can be indicated as open when theweb page 140 is rendered, or after a user selects a user interface element such as a filter control. For example, open results may not be distinguished fromother search results 130 when theweb page 140 is first rendered. However, theuser 102 can select a filter control that filters the search results 130 so that only the open results (for example, those results selected as “open now”) are presented. After the filter is applied, all of the search results 130 that are presented are indicated to be open.Business results 130 a-130 c that are closed, or that have not been determined to be open, are filtered out by the filter control. - The web
page generation module 128 can selectively include the filter control in theweb page 140 based on the characteristics of thequery 112 and/or the set of search results 130. Based on an evaluation of the characteristics of the search results 130, the webpage generation module 128 can include the filter control when it is likely to be useful to theuser 102, and omit the filter control when it is not likely to be useful, as described in more detail below. Thus when the filter control is included, it can function as a suggestion that theuser 102 refine the presentation of the search results 130 to indicate those that are open. - The web
page generation module 128 can determine whether or not to display the filter control based on one or more of, for example, a total number ofsearch results 130 identified, a number ofbusiness results 130 a-130 c identified, and a number of open results selected. As an example, theserver system 106 can generate theweb page 140 to present the filter control when a predetermined condition is satisfied. Theserver system 106 can generate theweb page 140 to not present the filter control when the predetermined condition is not satisfied. - The predetermined condition can include, for example, that the total number of open results equals or exceeds a threshold number, for example, one, five, or ten. If there are no open results in the set of
search results 130, for example, the filter control can be omitted. By contrast, if there are at least the threshold number of open results, the filter control can be included. The predetermined condition can include, for example, that the total number ofsearch results 130 meets or exceeds a minimum threshold, for example, one, five, ten, or twenty. If the total number ofsearch results 130 is below the minimum threshold, the filter control may not be needed. In some implementations, the predetermined condition includes the number of open results satisfying a first threshold, and the number of total results identified satisfying a second threshold. - As another example, the predetermined condition can be that the number of open results in the N-highest ranked results meets or exceeds a threshold. For example, the filter control can be provided when there are at least five open results in the fifty highest-ranked search results 130.
- The
server system 106 can omit the filter control when theserver system 106 determines that thequery 112 is highly navigational, for example, when theserver system 106 determines that thequery 112 corresponds to specific location or business. For example, when thequery 112 includes a particular address or business name that likely refers to a single business or location, theserver system 106 can omit the filter control. By contrast, the filter would be more appropriate when thequery 112 includes a general description like “hardware store” or “movie theater”. - The
server system 106 can determine whether a query is highly navigational based on the search results 130, for example, whether the highest-ranking search results have particular characteristics in common. In addition, or as an alternative, a query can be determined to be highly navigational based on user interactions with results to queries with the same or similar terms. For example, when different users often select the same result after submitting a particular set of query terms, the set of query terms is likely to be highly navigational. - As an alternative, the filter control may be displayed in the
web page 140 in response to everyquery 112, but other features, such as formatting or a separate notification message, can be selectively included to draw the user's attention to the filter control when it is likely to be useful. For example, a link to a search result page presenting only the open results can be included on theweb page 140 regardless of thequery 112 and search results 130. A separate prompt suggesting that theuser 102 interact with the link can be included when one or more predetermined conditions are satisfied. - In state (G), the
server system 106 sends theweb page 140 to thecomputing device 104 over thenetwork 108. In state (H), thecomputing device 104 receives theweb page 140, and renders theweb page 140 on theuser interface 110 b. - The
web page 140 can present the search results 130 ranked according to, for example, relevance to the terms of thequery 112. Theweb page 140 includes afilter control 150 that can alter the presentation of the search results 130 based on whether the search results 130 are selected as open results. The user interface element can respond to user interaction by filtering or re-ordering the search results 130 that are presented. For example, in response to interaction with thefilter control 150, theuser interface 110 b of thecomputing device 104 can be configured to present the subset of the search results 130 that are open results. Search results 130 that are not open results can be excluded from presentation. Thefilter control 150 can include a button, a checkbox, a drop down list item, or other user interface element. - The
filter control 150 can be a link to a different search result web page that, when rendered, presents only thebusiness results 130 a-130 c. In some implementations, theserver system 106 determines which search results 130 should be selected as open results in response to interaction with thefilter control 150, in addition to, or instead of, selecting open results in response to receiving thesearch query 112. - The
user interface 110 b (which displays the rendered web page 140) can also include other indications of business status. For example, anotification 152 can be presented to indicate that thebusiness result 130 b is an open result, for example, that thebusiness result 130 b is “open now.” - In some implementations, the
server system 106 assigns each of thebusiness results 130 a-130 c to one of three groups: open results, closed results, and uncertain status results. The open results can be business results, such as thebusiness result 130 b, for which there is a high likelihood (e.g., a confidence score above a threshold value) that they are open at time of interest. The closed results can bebusiness results 130 a-130 c that are likely to be closed at a time of interest (e.g., a confidence score that the business is closed is above a threshold value). The uncertain status results can bebusiness results 130 a-130 c that are not selected as open results or closed results (e.g., a confidence score is within a range that indicates uncertainty as to the status). For example, thebusiness result 130 c can be designated as an uncertain status result because operating hours are unknown. - Indications can be provided to show for the open results, the closed results, and the uncertain status results. For the uncertain status results, an indication can be provided that prompts the
user 102 to independently determine the business location status, for example, “status unavailable” or “please call ahead first”. -
FIG. 3A is a diagram that illustrates an example of auser interface 310 a for indicating location status. Theuser interface 310 a displays a search engine results page that is rendered on, for example, a computing device. Theuser interface 310 a displays information that identifies search results 330 a-330 e selected as relevant to asearch query 312. - In the illustrated example, the
user interface 310 a does not indicate which of the search results 330 a-330 e are selected as open results. The search results 330 a-330 e that are most relevant to thesearch query 312 can be presented, regardless of status. Theuser interface 310 a includes afilter control 350 that permits a user to alter the presentation of the search results 330 a-330 e to designate open results as being open. For example, interaction with thefilter control 350 can filter the search results 330 a-330 e to show only search results 330 a-330 e that are associated with locations that are open at the current time (e.g., “open now”). -
FIG. 3B is a diagram that illustrates an example of auser interface 310 b for indicating location status. Theuser interface 310 b illustrates information displayed in response to user interaction with thefilter control 350 ofFIG. 3A . After the user interacts with thefilter control 350, theuser interface 310 b can be displayed instead of theuser interface 310 a. Onlyopen results user interface 310 b. A message orother indication 360 can be presented that describes the displayed results as open results and indicates that the filter has been applied. - The open results can be selected from among the search results 330 a-330 e and from other search results not presented on the
user interface 310 a. The open results can be search results 330 a-330 e that are open at the current time, for example, search results 330 a-330 e for which the current time is determined to be within the operating hours. Alternatively, the open results can be search results 330 a-330 e that are open at an estimated arrival time in the future, for example, at a time at which the user is likely capable of arriving at the business locations that correspond to the respective search results 330 a-330 c. Estimated travel times between the location of the user's computing device and the business locations can be used to determine the estimated arrival times, as described above. The open results can also be selected based on additional factors, such as distance of the corresponding business locations from the location of the computing device and the proximity of the current time or an estimated arrival time to the boundaries of the corresponding operating hours. - In some implementations, the
user interface 310 b illustrates a web page that is retrieved over a network in response to interaction with thefilter control 350. For example, thefilter control 350 can be a link to a search engine results page that indicates only open results and is different from the search engine results page displayed in theuser interface 310 a. In some implementations, the web page displayed on theuser interface 310 a can include information, including information about open results, that is not displayed, and code in the web page can cause the information to be presented, for example, in theuser interface 310 b without loading a different web page. -
FIG. 4A is a diagram that illustrates an example of auser interface 410 a for indicating location status. Theuser interface 410 a displays a search engine results page that is rendered on, for example, a computing device. Theuser interface 410 a displays information that identifies search results 430 a-430 d selected as relevant to asearch query 412. - The
user interface 410 a presents one or moreuser interface elements 450 that permit a user to select a time, for example, a current time or a future time. The selected time can be a time on a current date or a future date. Afilter control 455 can also be presented. By interacting with thefilter control 455, the user can apply a filter to the search results 430 a-430 d so that businesses open at the selected time and date (e.g., a future time and date) are identified. -
FIG. 4B is a diagram that illustrates an example of auser interface 410 b for indicating location status. Theuser interface 410 b illustrates information displayed in response to user interaction with thefilter control 455 ofFIG. 4A . After the user clicks on or otherwise interacts with thefilter control 455, theuser interface 410 b is presented, identifying open results that are designated as open at the time and date selected by the user using theuser interface elements 450. The open results can be selected as, for example, search results 430 a-430 d for which the selected time occurs within the operating hours corresponding to the search results 430 a-430 d. - In the illustrated example, the selected date and time is September 17 at 7:00 pm, which represents a time in the future. In response to a user's interaction with the
filter control 455, a server system (such as theserver system 106 ofFIG. 1 ) determines operating hours for the search results 430 a-430 d on the selected date. Using the operating hours, the server system determines that at the selected time of 7:00 pm on September 17, thesearch result 430 a and thesearch result 430 d are scheduled to be open, and the search results 430 b-430 c are not scheduled to be open. As a result, the server system provides information that causes thesearch result 430 a and thesearch result 430 d to be identified on theuser interface 410 b as being open at the selected date and time. Search results 430 a-430 d corresponding to businesses that are not designated at open at the selected time are not presented. - In some implementations, the server system uses estimated travel times to select the open results that are designated as open at the selected time in the future. The server system can determine an expected device location for the computing device at the selected date and time. For example, the server system can access calendar data for a user of the computing device to determine a scheduled location where the user is expected to be located at the selected time. The server system can determine estimated arrival times for travel between the scheduled location and the business locations. If the estimated arrival times occur within the operating hours for the businesses, the corresponding search results 430 a-430 d can be selected as business results.
- As an alternative to using calendar data for a user to determine a future location, a travel itinerary or other source of location information can be used. If information about a user's scheduled location at the selected time is unavailable, a location where the user is scheduled to be located before the scheduled time can be used. For example, the last scheduled location before the selected time can be used (e.g., a location scheduled for earlier in the day or a location for a last appointment previous to the scheduled time).
- In some implementations, a user can specify a time range of interest, rather than a specific time of interest. For example, a user may indicate a range of time between a first time and a second time, for example, between 6:00 pm and 8:00 pm. The time range can be submitted with a query or used to filter results to a query previously submitted. Information about business results that are open during the time range can be presented. For example, business results can be presented that open during the time range. Alternatively, business results can be presented that are open for any portion of the time range, or for at least a minimum length of time during the time range.
-
FIG. 5 is a flow diagram that illustrates an example of a process 500 for indicating location status. The process 500 may be performed, for example, by theserver system 106. - A query is received from a user device (502). A current time and a location for the user device are also received. For example, information that indicates the device location can be received from the user device with the query. The device location can be a current location of the user device at the time the query is received. For example, the device location can be a location determined by a GPS module of the user device.
- Results responsive to the query are identified (504). The results include one or more business results that are each associated with a business location and operating hours.
- A subset of the business results are selected as open results (506). The subset can be selected based on the operating hours and a time associated with the query, for example, a current time or a future time. For example, business results can be selected as open results when the time associated with the query is within the operating hours of the business results.
- The subset can be selected as open results based on the operating hours and travel times from the device location to the respective business locations. For example, travel times between the device location and the business locations can be determined (e.g., estimated) and used to determine estimated arrival times at the business locations. The estimated arrival times can represent, for example, estimates of earliest times that the user is capable of arriving at the business locations. Business results can be selected as open results if the estimated arrival times for arriving at the business locations corresponding to the business results are within the operating hours corresponding to the business results.
- Selecting a subset of the business results as open results can include generating a confidence score for each of the business results. Each confidence score can indicate a likelihood that the business result and its corresponding business location are open at a particular time. For example, each confidence score can be indicative of a likelihood that the corresponding business result is open at, for example, the particular time or at an estimated time of arrival at the business location of the business result. A set of the business results can be selected as open results, the business results in the set being those business results for which the confidence score meets a threshold.
- In some implementations, a confidence score indicating a likelihood that a business location for a business result is open is generated for each of the business results responsive to the query. The business results for which the confidence score is above a threshold are selected for inclusion in the subset of business results.
- In some implementations, an arrival time to the business location for each business result responsive to the query is determined (e.g., estimated). For example, the arrival time may be determined by adding to the current time the travel time to the respective business locations of the business results. A business result can be selected as an open result by determining that the arrival time to the business location associated with the business result occurs between a beginning and an end of the operating hours associated with the business result.
- As an additional or alternative way to select the open results from among the business results, in some implementations, travel times from the device location to the respective business locations are estimated. Based on the estimated travel times, confidence scores are generated for the business results. Each confidence score indicates a likelihood that a user can arrive at the business location associated with one of the business results during the operating hours associated with the business result. A set of the business results is selected as the open results, the business results in the set being those business results for which the confidence score meets a threshold.
- Additional or alternative factors can be used to select the subset of the business results as open results. For example, a proximity of a time associated with the query to a beginning or end of the operating hours for the respective business results. For example, the confidence scores for the respective business results can be based on the proximity of the time associated with the query to a beginning or end of the operating hours for the respective business results.
- The distance between the location of the user device and the business locations of the business results can be another additional or alternative factor used to select the open results. For example, distances between the device location and the respective business locations can be determined, and the confidence scores for the respective business results can be based on the distances.
- The travel times to the business locations may be estimated based on the distance between the location of the user device and the business locations for the respective business results. The travel times may be based on a particular mode of transportation (e.g., walking, bicycling, traveling by bus, by car, by train, etc.) and may take into account typical traffic patterns or actual current traffic patterns, public transportation schedules, available roadways, and so on. The mode of transportation used to calculate travel times may be selected based on information received from the user device, such as user input or sensor data from the client device (e.g., current speed of the client device).
- In some implementations, a fixed amount of or a fixed time range may be used as a travel time. For example, travel times for each of multiple business results may be designated to have the same value, where the value may or may not be based on distance to the business location for the business result. In some implementations, a user may specify an amount of time to represent a travel time. For example, a user may specify a particular margin of time to use when determining whether a result is indicated as open now. The user may specify that results should be indicated to be open now only if, for example, the location for the result will be open in the next 15 minutes, or 30 minutes, etc. The margin may be used as a travel time for multiple business results or all business results, rather than using individual estimates of travel times based on the respective distances to different business locations.
- A time zone associated with the device location can be determined. The subset of results can be selected as open results using the determined time zone. The determined time zone can be used to compare the particular time to the operating hours relative to a common time zone. For example, the particular time can be converted from the determined time zone to a time zone in which operating hours for one or more business results are indicated. Data indicating the opening hours can be accessed from an index that stores opening hours relative to a single time zone, such as UTC.
- Data for a search engine results page is provided (508). The data for the search engine results page can designate the subset of the business results as open results. For example, when the search engine results page is rendered, one or more of the open results can be identified as open.
- In some implementations, data is provided for a control on the search engine results page that allows a user to toggle a display of results based on whether or not the results are open results. User interaction with the control can be detected, and data for a second search engine results page that only displays the subset of business results that are open results can be provided.
- In some implementations, a label is provided for display on the results page, where the label designates at least a subset of the business results as being open now results. The subset of business results are designated for display beneath the open now label.
- Providing the data can include providing data that, when rendered, displays a control that alters a display of results based on whether the results are open results. The control can filter or reorder the results based on whether the results are open results. For example, in response to user interaction with the control, the open results can be indicated to be open. In some implementations, in response to interaction with the control, a user interface is updated such that only open results are displayed.
- Providing the data for the search engine results page can include detecting user interaction with the control, and providing the data for the search engine results page that designates the open results as open in response to detecting user interaction with the control. Data can be provided for a first search engine results page that includes the control. In response to interaction with the control, data can be provided for a second search engine results page that identifies the open results as open.
- The control that alters the display of search results can be selectively provided. To determine whether to include the control in the search engine results page, a number of the open results can be determined. It can also be determined whether the number of open results meets a predetermined threshold. Data that, when rendered, displays a control that, in response to user interaction with the control, alters a display of results can be provided in response to determining that the number of open results meets (e.g., is higher than, or at least as high as) the predetermined threshold.
- In some implementations, it is determined that a number of open results meets a first threshold, and that a number of results identified meets a second threshold. Data that, when rendered, displays a control that alters a display of results can be provided in response to (i) determining that the number of open results meets the first threshold and (ii) determining that the number of results identified meets the second threshold.
- In some implementations, the open results are designated as being open at a particular time, for example, a time associated with the query. The particular time can be a time substantially the same as a time when the data for the search engine results page is provided. For example, the open results can be designated as “open now”, or open at a current time that the data is provided. As an alternative, the open results can be designated as being open at a future time, such as a time and/or date selected by a user. Information indicating a future time can be received with the query, or can be received separately in response to interaction with a filter control or other user interface element of a search engine results page.
- A number of implementations have been described. Nevertheless, it will be understood that various modifications may be made without departing from the spirit and scope of the disclosure. For example, various forms of the flows shown above may be used, with steps re-ordered, added, or removed.
- The techniques described herein and all of the functional operations described in this specification may be implemented in digital electronic circuitry, or in computer software, firmware, or hardware, including the structures disclosed in this specification and their structural equivalents, or in combinations of one or more of them. The techniques described herein may be implemented as one or more computer program products, i.e., one or more modules of computer program instructions encoded on a computer readable medium for execution by, or to control the operation of, data processing apparatus. The computer readable medium may be a machine-readable storage device, a machine-readable storage substrate, a memory device, or a combination of one or more of them.
- The term “data processing apparatus” encompasses all apparatus, devices, and machines for processing data, including by way of example a programmable processor, a computer, or multiple processors or computers. The apparatus may include, in addition to hardware, code that creates an execution environment for the computer program in question, e.g., code that constitutes processor firmware, a protocol stack, a database management system, an operating system, or a combination of one or more of them.
- A computer program (also known as a program, software, software application, script, or code) may be written in any form of programming language, including compiled or interpreted languages, and it may be deployed in any form, including as a stand alone program or as a module, component, subroutine, or other unit suitable for use in a computing environment. A computer program does not necessarily correspond to a file in a file system. A program may be stored in a portion of a file that holds other programs or data (e.g., one or more scripts stored in a markup language document), in a single file dedicated to the program in question, or in multiple coordinated files (e.g., files that store one or more modules, sub programs, or portions of code). A computer program may be deployed to be executed on one computer or on multiple computers that are located at one site or distributed across multiple sites and interconnected by a communication network.
- The processes and logic flows described in this specification may be performed by one or more programmable processors executing one or more computer programs to perform functions by operating on input data and generating output. The processes and logic flows may also be performed by, and apparatus may also be implemented as, special purpose logic circuitry, e.g., an FPGA (field programmable gate array) or an ASIC (application specific integrated circuit).
- Processors suitable for the execution of a computer program include, by way of example, both general and special purpose microprocessors, and any one or more processors of any kind of digital computer. Generally, a processor will receive instructions and data from a read only memory or a random access memory or both. The essential elements of a computer are a processor for performing instructions and one or more memory devices for storing instructions and data. Generally, a computer will also include, or be operatively coupled to receive data from or transfer data to, or both, one or more mass storage devices for storing data, e.g., magnetic, magneto optical disks, or optical disks. However, a computer need not have such devices. Moreover, a computer may be embedded in another device, e.g., a tablet computer, a mobile telephone, a personal digital assistant (PDA), a mobile audio player, a Global Positioning System (GPS) receiver, to name just a few. Computer readable media suitable for storing computer program instructions and data include all forms of non volatile memory, media and memory devices, including by way of example semiconductor memory devices, e.g., EPROM, EEPROM, and flash memory devices; magnetic disks, e.g., internal hard disks or removable disks; magneto optical disks; and CD ROM and DVD-ROM disks. The processor and the memory may be supplemented by, or incorporated in, special purpose logic circuitry.
- To provide for interaction with a user, embodiments may be implemented on a computer having a display device, e.g., a CRT (cathode ray tube) or LCD (liquid crystal display) monitor, for displaying information to the user and a keyboard and a pointing device, e.g., a mouse or a trackball, by which the user may provide input to the computer. Other kinds of devices may be used to provide for interaction with a user as well; for example, feedback provided to the user may be any form of sensory feedback, e.g., visual feedback, auditory feedback, or tactile feedback; and input from the user may be received in any form, including acoustic, speech, or tactile input.
- Embodiments be implemented in a computing system that includes a back end component, e.g., as a data server, or that includes a middleware component, e.g., an application server, or that includes a front end component, e.g., a client computer having a graphical user interface or a Web browser through which a user may interact with an implementation of the techniques described above, or any combination of one or more such back end, middleware, or front end components. The components of the system may be interconnected by any form or medium of digital data communication, e.g., a communication network. Examples of communication networks include a local area network (“LAN”) and a wide area network (“WAN”), e.g., the Internet.
- The computing system may include clients and servers. A client and server are generally remote from each other and typically interact through a communication network. The relationship of client and server arises by virtue of computer programs running on the respective computers and having a client-server relationship to each other.
- While this specification contains many specifics, these should not be construed as limitations on the scope of what may be claimed, but rather as descriptions of features specific to particular embodiments. Certain features that are described in this specification in the context of separate embodiments may also be implemented in combination in a single embodiment. Conversely, various features that are described in the context of a single embodiment may also be implemented in multiple embodiments separately or in any suitable subcombination. Moreover, although features may be described above as acting in certain combinations and even initially claimed as such, one or more features from a claimed combination may in some cases be excised from the combination, and the claimed combination may be directed to a subcombination or variation of a sub-combination.
- Similarly, while operations are depicted in the drawings in a particular order, this should not be understood as requiring that such operations be performed in the particular order shown or in sequential order, or that all illustrated operations be performed, to achieve desirable results. In certain circumstances, multitasking and parallel processing may be advantageous. Moreover, the separation of various system components in the embodiments described above should not be understood as requiring such separation in all embodiments, and it should be understood that the described program components and systems may generally be integrated together in a single software product or packaged into multiple software products.
- In each instance where an HTML file is mentioned, other file types or formats may be substituted. For instance, an HTML file may be replaced by an XML, JSON, plain text, or other types of files. Moreover, where a table or hash table is mentioned, other data structures (such as spreadsheets, relational databases, or structured files) may be used.
- Thus, particular embodiments of the invention have been described. Other embodiments are within the scope of the following claims. For example, the actions recited in the claims may be performed in a different order and still achieve desirable results.
Claims (21)
Priority Applications (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US15/631,102 US10268770B2 (en) | 2011-10-26 | 2017-06-23 | Indicating location status |
US16/294,361 US11487830B2 (en) | 2011-10-26 | 2019-03-06 | Indicating location status |
US17/976,175 US11921803B2 (en) | 2011-10-26 | 2022-10-28 | Indicating location status |
Applications Claiming Priority (4)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US201161551828P | 2011-10-26 | 2011-10-26 | |
US13/658,933 US9460218B2 (en) | 2011-10-26 | 2012-10-24 | Indicating location status |
US15/254,604 US9720933B2 (en) | 2011-10-26 | 2016-09-01 | Indicating location status |
US15/631,102 US10268770B2 (en) | 2011-10-26 | 2017-06-23 | Indicating location status |
Related Parent Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US15/254,604 Continuation US9720933B2 (en) | 2011-10-26 | 2016-09-01 | Indicating location status |
Related Child Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US16/294,361 Continuation US11487830B2 (en) | 2011-10-26 | 2019-03-06 | Indicating location status |
Publications (2)
Publication Number | Publication Date |
---|---|
US20170293694A1 true US20170293694A1 (en) | 2017-10-12 |
US10268770B2 US10268770B2 (en) | 2019-04-23 |
Family
ID=48168767
Family Applications (5)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US13/658,933 Active 2034-05-27 US9460218B2 (en) | 2011-10-26 | 2012-10-24 | Indicating location status |
US15/254,604 Active US9720933B2 (en) | 2011-10-26 | 2016-09-01 | Indicating location status |
US15/631,102 Active US10268770B2 (en) | 2011-10-26 | 2017-06-23 | Indicating location status |
US16/294,361 Active 2034-09-07 US11487830B2 (en) | 2011-10-26 | 2019-03-06 | Indicating location status |
US17/976,175 Active US11921803B2 (en) | 2011-10-26 | 2022-10-28 | Indicating location status |
Family Applications Before (2)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US13/658,933 Active 2034-05-27 US9460218B2 (en) | 2011-10-26 | 2012-10-24 | Indicating location status |
US15/254,604 Active US9720933B2 (en) | 2011-10-26 | 2016-09-01 | Indicating location status |
Family Applications After (2)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US16/294,361 Active 2034-09-07 US11487830B2 (en) | 2011-10-26 | 2019-03-06 | Indicating location status |
US17/976,175 Active US11921803B2 (en) | 2011-10-26 | 2022-10-28 | Indicating location status |
Country Status (5)
Country | Link |
---|---|
US (5) | US9460218B2 (en) |
JP (2) | JP2015505382A (en) |
AU (1) | AU2012328895B2 (en) |
CA (1) | CA2851818A1 (en) |
WO (1) | WO2013063088A2 (en) |
Families Citing this family (112)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US8930331B2 (en) | 2007-02-21 | 2015-01-06 | Palantir Technologies | Providing unique views of data based on changes or rules |
US8429194B2 (en) | 2008-09-15 | 2013-04-23 | Palantir Technologies, Inc. | Document-based workflows |
US9547693B1 (en) | 2011-06-23 | 2017-01-17 | Palantir Technologies Inc. | Periodic database search manager for multiple data sources |
US8799240B2 (en) | 2011-06-23 | 2014-08-05 | Palantir Technologies, Inc. | System and method for investigating large amounts of data |
US9092482B2 (en) | 2013-03-14 | 2015-07-28 | Palantir Technologies, Inc. | Fair scheduling for mixed-query loads |
US8732574B2 (en) | 2011-08-25 | 2014-05-20 | Palantir Technologies, Inc. | System and method for parameterizing documents for automatic workflow generation |
WO2013063088A2 (en) | 2011-10-26 | 2013-05-02 | Google Inc. | Indicating location status |
CN103425659B (en) * | 2012-05-15 | 2017-06-09 | 阿里巴巴集团控股有限公司 | Information search method and server based on geographical position |
CN104396284B (en) | 2012-06-22 | 2016-09-07 | 谷歌公司 | Present the information for current location or time |
US9348677B2 (en) | 2012-10-22 | 2016-05-24 | Palantir Technologies Inc. | System and method for batch evaluation programs |
JP6132531B2 (en) * | 2012-12-06 | 2017-05-24 | 日本ユニシス株式会社 | Information providing apparatus and information providing program |
US9043887B2 (en) * | 2012-12-31 | 2015-05-26 | Apple Inc. | Adaptive secondary authentication criteria based on account data |
US9123086B1 (en) | 2013-01-31 | 2015-09-01 | Palantir Technologies, Inc. | Automatically generating event objects from images |
US8937619B2 (en) | 2013-03-15 | 2015-01-20 | Palantir Technologies Inc. | Generating an object time series from data objects |
US10275778B1 (en) | 2013-03-15 | 2019-04-30 | Palantir Technologies Inc. | Systems and user interfaces for dynamic and interactive investigation based on automatic malfeasance clustering of related data in various data structures |
US8868486B2 (en) | 2013-03-15 | 2014-10-21 | Palantir Technologies Inc. | Time-sensitive cube |
US8909656B2 (en) | 2013-03-15 | 2014-12-09 | Palantir Technologies Inc. | Filter chains with associated multipath views for exploring large data sets |
US9965937B2 (en) | 2013-03-15 | 2018-05-08 | Palantir Technologies Inc. | External malware data item clustering and analysis |
US8818892B1 (en) | 2013-03-15 | 2014-08-26 | Palantir Technologies, Inc. | Prioritizing data clusters with customizable scoring strategies |
US8917274B2 (en) | 2013-03-15 | 2014-12-23 | Palantir Technologies Inc. | Event matrix based on integrated data |
US10331733B2 (en) * | 2013-04-25 | 2019-06-25 | Google Llc | System and method for presenting condition-specific geographic imagery |
US8799799B1 (en) | 2013-05-07 | 2014-08-05 | Palantir Technologies Inc. | Interactive geospatial map |
US10719797B2 (en) | 2013-05-10 | 2020-07-21 | Opower, Inc. | Method of tracking and reporting energy performance for businesses |
US9342559B1 (en) * | 2013-05-15 | 2016-05-17 | Google Inc. | Automatic matching of users and service providers |
US8713467B1 (en) | 2013-08-09 | 2014-04-29 | Palantir Technologies, Inc. | Context-sensitive views |
US8938686B1 (en) | 2013-10-03 | 2015-01-20 | Palantir Technologies Inc. | Systems and methods for analyzing performance of an entity |
US9116975B2 (en) | 2013-10-18 | 2015-08-25 | Palantir Technologies Inc. | Systems and user interfaces for dynamic and interactive simultaneous querying of multiple data stores |
US8924872B1 (en) | 2013-10-18 | 2014-12-30 | Palantir Technologies Inc. | Overview user interface of emergency call data of a law enforcement agency |
US9021384B1 (en) | 2013-11-04 | 2015-04-28 | Palantir Technologies Inc. | Interactive vehicle information map |
US8868537B1 (en) | 2013-11-11 | 2014-10-21 | Palantir Technologies, Inc. | Simple web search |
US9727545B1 (en) * | 2013-12-04 | 2017-08-08 | Google Inc. | Selecting textual representations for entity attribute values |
US9105000B1 (en) | 2013-12-10 | 2015-08-11 | Palantir Technologies Inc. | Aggregating data from a plurality of data sources |
US9727622B2 (en) | 2013-12-16 | 2017-08-08 | Palantir Technologies, Inc. | Methods and systems for analyzing entity performance |
US9552615B2 (en) | 2013-12-20 | 2017-01-24 | Palantir Technologies Inc. | Automated database analysis to detect malfeasance |
US10356032B2 (en) | 2013-12-26 | 2019-07-16 | Palantir Technologies Inc. | System and method for detecting confidential information emails |
US8832832B1 (en) | 2014-01-03 | 2014-09-09 | Palantir Technologies Inc. | IP reputation |
US9483162B2 (en) | 2014-02-20 | 2016-11-01 | Palantir Technologies Inc. | Relationship visualizations |
US9727376B1 (en) | 2014-03-04 | 2017-08-08 | Palantir Technologies, Inc. | Mobile tasks |
US8924429B1 (en) | 2014-03-18 | 2014-12-30 | Palantir Technologies Inc. | Determining and extracting changed data from a data source |
US9857958B2 (en) | 2014-04-28 | 2018-01-02 | Palantir Technologies Inc. | Systems and user interfaces for dynamic and interactive access of, investigation of, and analysis of data objects stored in one or more databases |
US9009171B1 (en) | 2014-05-02 | 2015-04-14 | Palantir Technologies Inc. | Systems and methods for active column filtering |
US9432466B2 (en) * | 2014-05-30 | 2016-08-30 | Linkedin Corporation | Member time zone inference |
US9619557B2 (en) | 2014-06-30 | 2017-04-11 | Palantir Technologies, Inc. | Systems and methods for key phrase characterization of documents |
US9535974B1 (en) | 2014-06-30 | 2017-01-03 | Palantir Technologies Inc. | Systems and methods for identifying key phrase clusters within documents |
US9256664B2 (en) | 2014-07-03 | 2016-02-09 | Palantir Technologies Inc. | System and method for news events detection and visualization |
US9202249B1 (en) | 2014-07-03 | 2015-12-01 | Palantir Technologies Inc. | Data item clustering and analysis |
US9454281B2 (en) | 2014-09-03 | 2016-09-27 | Palantir Technologies Inc. | System for providing dynamic linked panels in user interface |
US9767172B2 (en) | 2014-10-03 | 2017-09-19 | Palantir Technologies Inc. | Data aggregation and analysis system |
US9501851B2 (en) | 2014-10-03 | 2016-11-22 | Palantir Technologies Inc. | Time-series analysis system |
US9785328B2 (en) | 2014-10-06 | 2017-10-10 | Palantir Technologies Inc. | Presentation of multivariate data on a graphical user interface of a computing system |
US9984133B2 (en) | 2014-10-16 | 2018-05-29 | Palantir Technologies Inc. | Schematic and database linking system |
US9229952B1 (en) | 2014-11-05 | 2016-01-05 | Palantir Technologies, Inc. | History preserving data pipeline system and method |
US9043894B1 (en) | 2014-11-06 | 2015-05-26 | Palantir Technologies Inc. | Malicious software detection in a computing system |
US9348920B1 (en) | 2014-12-22 | 2016-05-24 | Palantir Technologies Inc. | Concept indexing among database of documents using machine learning techniques |
US9367872B1 (en) | 2014-12-22 | 2016-06-14 | Palantir Technologies Inc. | Systems and user interfaces for dynamic and interactive investigation of bad actor behavior based on automatic clustering of related data in various data structures |
US10552994B2 (en) | 2014-12-22 | 2020-02-04 | Palantir Technologies Inc. | Systems and interactive user interfaces for dynamic retrieval, analysis, and triage of data items |
US10362133B1 (en) | 2014-12-22 | 2019-07-23 | Palantir Technologies Inc. | Communication data processing architecture |
US9870205B1 (en) | 2014-12-29 | 2018-01-16 | Palantir Technologies Inc. | Storing logical units of program code generated using a dynamic programming notebook user interface |
US9817563B1 (en) | 2014-12-29 | 2017-11-14 | Palantir Technologies Inc. | System and method of generating data points from one or more data stores of data items for chart creation and manipulation |
US9335911B1 (en) | 2014-12-29 | 2016-05-10 | Palantir Technologies Inc. | Interactive user interface for dynamic data analysis exploration and query processing |
US10372879B2 (en) | 2014-12-31 | 2019-08-06 | Palantir Technologies Inc. | Medical claims lead summary report generation |
US9727560B2 (en) | 2015-02-25 | 2017-08-08 | Palantir Technologies Inc. | Systems and methods for organizing and identifying documents via hierarchies and dimensions of tags |
EP3611632A1 (en) | 2015-03-16 | 2020-02-19 | Palantir Technologies Inc. | Displaying attribute and event data along paths |
US9886467B2 (en) | 2015-03-19 | 2018-02-06 | Plantir Technologies Inc. | System and method for comparing and visualizing data entities and data entity series |
US20160283845A1 (en) | 2015-03-25 | 2016-09-29 | Google Inc. | Inferred user intention notifications |
US9959416B1 (en) * | 2015-03-27 | 2018-05-01 | Google Llc | Systems and methods for joining online meetings |
US9934202B1 (en) * | 2015-03-30 | 2018-04-03 | EMC IP Holding Company LLC | Managing paginated data |
US9392008B1 (en) | 2015-07-23 | 2016-07-12 | Palantir Technologies Inc. | Systems and methods for identifying information related to payment card breaches |
US9454785B1 (en) | 2015-07-30 | 2016-09-27 | Palantir Technologies Inc. | Systems and user interfaces for holistic, data-driven investigation of bad actor behavior based on clustering and scoring of related data |
US9996595B2 (en) | 2015-08-03 | 2018-06-12 | Palantir Technologies, Inc. | Providing full data provenance visualization for versioned datasets |
US9456000B1 (en) | 2015-08-06 | 2016-09-27 | Palantir Technologies Inc. | Systems, methods, user interfaces, and computer-readable media for investigating potential malicious communications |
US10489391B1 (en) | 2015-08-17 | 2019-11-26 | Palantir Technologies Inc. | Systems and methods for grouping and enriching data items accessed from one or more databases for presentation in a user interface |
US9600146B2 (en) | 2015-08-17 | 2017-03-21 | Palantir Technologies Inc. | Interactive geospatial map |
US10853378B1 (en) | 2015-08-25 | 2020-12-01 | Palantir Technologies Inc. | Electronic note management via a connected entity graph |
US11150917B2 (en) | 2015-08-26 | 2021-10-19 | Palantir Technologies Inc. | System for data aggregation and analysis of data from a plurality of data sources |
US9485265B1 (en) | 2015-08-28 | 2016-11-01 | Palantir Technologies Inc. | Malicious activity detection system capable of efficiently processing data accessed from databases and generating alerts for display in interactive user interfaces |
US10706434B1 (en) | 2015-09-01 | 2020-07-07 | Palantir Technologies Inc. | Methods and systems for determining location information |
US9576015B1 (en) | 2015-09-09 | 2017-02-21 | Palantir Technologies, Inc. | Domain-specific language for dataset transformations |
US9424669B1 (en) | 2015-10-21 | 2016-08-23 | Palantir Technologies Inc. | Generating graphical representations of event participation flow |
US10613722B1 (en) | 2015-10-27 | 2020-04-07 | Palantir Technologies Inc. | Distorting a graph on a computer display to improve the computer's ability to display the graph to, and interact with, a user |
US9691190B2 (en) * | 2015-11-30 | 2017-06-27 | Faraday & Future Inc. | Location based parking meter time reminder |
US9542446B1 (en) | 2015-12-17 | 2017-01-10 | Palantir Technologies, Inc. | Automatic generation of composite datasets based on hierarchical fields |
US20170176210A1 (en) * | 2015-12-17 | 2017-06-22 | Jaguar Land Rover Limited | Vehicle navigation system that provides location accessibility information |
US9823818B1 (en) | 2015-12-29 | 2017-11-21 | Palantir Technologies Inc. | Systems and interactive user interfaces for automatic generation of temporal representation of data objects |
US10268735B1 (en) | 2015-12-29 | 2019-04-23 | Palantir Technologies Inc. | Graph based resolution of matching items in data sources |
US9612723B1 (en) | 2015-12-30 | 2017-04-04 | Palantir Technologies Inc. | Composite graphical interface with shareable data-objects |
US10698938B2 (en) | 2016-03-18 | 2020-06-30 | Palantir Technologies Inc. | Systems and methods for organizing and identifying documents via hierarchies and dimensions of tags |
US10650558B2 (en) | 2016-04-04 | 2020-05-12 | Palantir Technologies Inc. | Techniques for displaying stack graphs |
US10467281B2 (en) * | 2016-06-10 | 2019-11-05 | Apple Inc. | Relative addressing |
US10007674B2 (en) | 2016-06-13 | 2018-06-26 | Palantir Technologies Inc. | Data revision control in large-scale data analytic systems |
US10719188B2 (en) | 2016-07-21 | 2020-07-21 | Palantir Technologies Inc. | Cached database and synchronization system for providing dynamic linked panels in user interface |
US10324609B2 (en) | 2016-07-21 | 2019-06-18 | Palantir Technologies Inc. | System for providing dynamic linked panels in user interface |
US10437840B1 (en) | 2016-08-19 | 2019-10-08 | Palantir Technologies Inc. | Focused probabilistic entity resolution from multiple data sources |
US9881066B1 (en) | 2016-08-31 | 2018-01-30 | Palantir Technologies, Inc. | Systems, methods, user interfaces and algorithms for performing database analysis and search of information involving structured and/or semi-structured data |
US20180137938A1 (en) * | 2016-11-11 | 2018-05-17 | Medtronic Minimed, Inc. | Patient monitoring systems and methods with automated display toggling |
US10318630B1 (en) | 2016-11-21 | 2019-06-11 | Palantir Technologies Inc. | Analysis of large bodies of textual data |
US10552436B2 (en) | 2016-12-28 | 2020-02-04 | Palantir Technologies Inc. | Systems and methods for retrieving and processing data for display |
US10460602B1 (en) | 2016-12-28 | 2019-10-29 | Palantir Technologies Inc. | Interactive vehicle information mapping system |
US10235698B2 (en) * | 2017-02-28 | 2019-03-19 | At&T Intellectual Property I, L.P. | Sound code recognition for broadcast media |
US10475219B1 (en) | 2017-03-30 | 2019-11-12 | Palantir Technologies Inc. | Multidimensional arc chart for visual comparison |
US10956406B2 (en) | 2017-06-12 | 2021-03-23 | Palantir Technologies Inc. | Propagated deletion of database records and derived data |
US10403011B1 (en) | 2017-07-18 | 2019-09-03 | Palantir Technologies Inc. | Passing system with an interactive user interface |
US10659544B2 (en) * | 2017-11-14 | 2020-05-19 | Google Llc | Opt-out compliance |
US10929476B2 (en) | 2017-12-14 | 2021-02-23 | Palantir Technologies Inc. | Systems and methods for visualizing and analyzing multi-dimensional data |
US11599369B1 (en) | 2018-03-08 | 2023-03-07 | Palantir Technologies Inc. | Graphical user interface configuration system |
US10754822B1 (en) | 2018-04-18 | 2020-08-25 | Palantir Technologies Inc. | Systems and methods for ontology migration |
US10219111B1 (en) | 2018-04-18 | 2019-02-26 | Snap Inc. | Visitation tracking system |
US10885021B1 (en) | 2018-05-02 | 2021-01-05 | Palantir Technologies Inc. | Interactive interpreter and graphical user interface |
US11119630B1 (en) | 2018-06-19 | 2021-09-14 | Palantir Technologies Inc. | Artificial intelligence assisted evaluations and user interface for same |
JP2020113184A (en) * | 2019-01-16 | 2020-07-27 | 株式会社ぐるなび | Information processing system, information processing method, and information processing program |
US20220172259A1 (en) * | 2020-12-02 | 2022-06-02 | Waymo Llc | Smart destination suggestions for a transportation service |
US11663224B2 (en) * | 2021-02-26 | 2023-05-30 | Microsoft Technology Licensing, Llc | Processing queries using an attention-based ranking system |
Family Cites Families (26)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
JP3321536B2 (en) | 1996-12-03 | 2002-09-03 | 株式会社日立製作所 | Information providing system, information display device, and information providing device |
JPH10171819A (en) * | 1996-12-06 | 1998-06-26 | Fuji Xerox Co Ltd | Information retrieving device |
JP2001165680A (en) * | 1999-12-07 | 2001-06-22 | Kenwood Corp | Navigation device, service state displaying method, and recording medium |
US6625595B1 (en) * | 2000-07-05 | 2003-09-23 | Bellsouth Intellectual Property Corporation | Method and system for selectively presenting database results in an information retrieval system |
US7657540B1 (en) * | 2003-02-04 | 2010-02-02 | Seisint, Inc. | Method and system for linking and delinking data records |
US7873708B2 (en) * | 2004-04-28 | 2011-01-18 | At&T Mobility Ii Llc | Systems and methods for providing mobile advertising and directory assistance services |
JP4917289B2 (en) * | 2005-09-02 | 2012-04-18 | クラリオン株式会社 | Navigation device |
US7847686B1 (en) * | 2006-01-06 | 2010-12-07 | Avaya Inc. | Location-and direction-enhanced automatic reminders of appointments |
US20070174770A1 (en) | 2006-01-20 | 2007-07-26 | Michael John Safoutin | Time conditioned digital map and information display |
US20090100018A1 (en) | 2007-10-12 | 2009-04-16 | Jonathan Roberts | System and method for capturing, integrating, discovering, and using geo-temporal data |
US20090105941A1 (en) * | 2007-10-17 | 2009-04-23 | International Business Machines Corporation | Automatic destination determination for multiple travelers departing from multiple source locations based on user specified criteria |
JP2009103504A (en) | 2007-10-22 | 2009-05-14 | Mitsubishi Electric Corp | Navigation apparatus and optical disc |
US7966306B2 (en) * | 2008-02-29 | 2011-06-21 | Nokia Corporation | Method, system, and apparatus for location-aware search |
US20100057358A1 (en) * | 2008-08-28 | 2010-03-04 | TeleType Co., Inc. | Portable gps map device for commercial vehicle industry |
US8493408B2 (en) * | 2008-11-19 | 2013-07-23 | Apple Inc. | Techniques for manipulating panoramas |
US8583365B2 (en) | 2008-12-01 | 2013-11-12 | Electronics And Telecommunications Research Institute | Route guide system and method using state information of POI |
US20100161215A1 (en) * | 2008-12-24 | 2010-06-24 | Vijay Karani | Point of interest (POI) navigation search using business hours |
US9043148B2 (en) * | 2008-12-29 | 2015-05-26 | Google Technology Holdings LLC | Navigation system and methods for generating enhanced search results |
US8452762B2 (en) * | 2009-09-20 | 2013-05-28 | Yahoo! Inc. | Systems and methods for providing advanced search result page content |
JP5493223B2 (en) * | 2009-10-14 | 2014-05-14 | 株式会社日立製作所 | Distribution processing apparatus, computer system, and request distribution method |
US8396888B2 (en) | 2009-12-04 | 2013-03-12 | Google Inc. | Location-based searching using a search area that corresponds to a geographical location of a computing device |
US8862576B2 (en) * | 2010-01-06 | 2014-10-14 | Apple Inc. | Device, method, and graphical user interface for mapping directions between search results |
US20110289015A1 (en) | 2010-05-21 | 2011-11-24 | Microsoft Corporation | Mobile device recommendations |
US9170123B2 (en) * | 2010-08-06 | 2015-10-27 | Nokia Technologies Oy | Method and apparatus for generating information |
US8478519B2 (en) | 2010-08-30 | 2013-07-02 | Google Inc. | Providing results to parameterless search queries |
WO2013063088A2 (en) | 2011-10-26 | 2013-05-02 | Google Inc. | Indicating location status |
-
2012
- 2012-10-24 WO PCT/US2012/061654 patent/WO2013063088A2/en active Application Filing
- 2012-10-24 AU AU2012328895A patent/AU2012328895B2/en active Active
- 2012-10-24 CA CA2851818A patent/CA2851818A1/en not_active Abandoned
- 2012-10-24 US US13/658,933 patent/US9460218B2/en active Active
- 2012-10-24 JP JP2014538918A patent/JP2015505382A/en active Pending
-
2016
- 2016-09-01 US US15/254,604 patent/US9720933B2/en active Active
-
2017
- 2017-03-02 JP JP2017039097A patent/JP6596456B2/en active Active
- 2017-06-23 US US15/631,102 patent/US10268770B2/en active Active
-
2019
- 2019-03-06 US US16/294,361 patent/US11487830B2/en active Active
-
2022
- 2022-10-28 US US17/976,175 patent/US11921803B2/en active Active
Also Published As
Publication number | Publication date |
---|---|
US20160371302A1 (en) | 2016-12-22 |
WO2013063088A2 (en) | 2013-05-02 |
JP2017102973A (en) | 2017-06-08 |
AU2012328895B2 (en) | 2017-10-19 |
US11921803B2 (en) | 2024-03-05 |
JP6596456B2 (en) | 2019-10-23 |
CA2851818A1 (en) | 2013-05-02 |
US10268770B2 (en) | 2019-04-23 |
US20230046829A1 (en) | 2023-02-16 |
US20130110822A1 (en) | 2013-05-02 |
JP2015505382A (en) | 2015-02-19 |
AU2012328895A1 (en) | 2014-04-17 |
US20190205351A1 (en) | 2019-07-04 |
WO2013063088A3 (en) | 2014-11-06 |
US11487830B2 (en) | 2022-11-01 |
US9460218B2 (en) | 2016-10-04 |
US9720933B2 (en) | 2017-08-01 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US11921803B2 (en) | Indicating location status | |
US11494451B2 (en) | Personal search result identifying a physical location previously interacted with by a user | |
US9152726B2 (en) | Real-time personalized recommendation of location-related entities | |
US9275154B2 (en) | Context-sensitive point of interest retrieval | |
US10185973B2 (en) | Inferring venue visits using semantic information | |
US9194716B1 (en) | Point of interest category ranking | |
US10366422B2 (en) | Quality visit measure for controlling computer response to query associated with physical location | |
US9081860B2 (en) | Integration of device location into search | |
CN112699198A (en) | Method, system and storage medium for generating text summary about physical location | |
US9674650B2 (en) | Familiarity measure to group objects | |
US9519722B1 (en) | Method and system for providing dynamic personalized recommendations for a destination | |
WO2015187559A1 (en) | Determining relevance of points of interest to a user | |
US9251168B1 (en) | Determining information about a location based on travel related to the location | |
US11263280B2 (en) | Recalling digital content utilizing contextual data | |
US9715553B1 (en) | Point of interest retrieval | |
US20190005055A1 (en) | Offline geographic searches |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
AS | Assignment |
Owner name: GOOGLE INC., CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:IKEDA, DAISUKE;IMAIZUMI, RYOICHI;MAEKAWA, KEIJI;AND OTHERS;SIGNING DATES FROM 20121017 TO 20121023;REEL/FRAME:042794/0073 |
|
AS | Assignment |
Owner name: GOOGLE LLC, CALIFORNIAFree format text: CHANGE OF NAME;ASSIGNOR:GOOGLE INC.;REEL/FRAME:044567/0001Effective date: 20170929 |
|
STPP | Information on status: patent application and granting procedure in general |
Free format text: PUBLICATIONS -- ISSUE FEE PAYMENT VERIFIED |
|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |
|
MAFP | Maintenance fee payment |
Free format text: PAYMENT OF MAINTENANCE FEE, 4TH YEAR, LARGE ENTITY (ORIGINAL EVENT CODE: M1551); ENTITY STATUS OF PATENT OWNER: LARGE ENTITYYear of fee payment: 4 |