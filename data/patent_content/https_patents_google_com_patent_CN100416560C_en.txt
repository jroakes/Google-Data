Background technology
The recent development of hardware technology has allowed the affairs (for example banking, credit card, stock, telecommunications etc.) of businesses and institutions's fast recording daily life automatically.The record of this process brings lot of data, and described data are with great speed increment.The continuous arrival of data is called as data stream.Because the use of data stream in wide variety of applications, obtained broad research in recent years, for example referring to " the Models and Issues in Data StreamSystems " of B.Babcock etc., ACM PODS Conference 2002; " the MiningHigh-Speed Data Streams " of P.Domingos etc., ACM SIGKDD Conference, 2000; " the Clustering Data Streams " of S.Guha etc., IEEE FOCS Conference, 2000; And L.O ' Callaghan etc. " Streaming-Data Algorithms For High-QualityClustering ", ICDE Conference, 2002.
The cluster of data stream is divided into one or more groups similar data point to given a collection of data point.Database, data mining and statistical circles broad research cluster, for example referring to " the Scaling Clustering Algorithms to Large Databases " of P.Bradley etc., SIGKDD Conference, 1998; " the CURE:An EfficientClustering Algorithm for Large Databases " of S.Guha etc., ACM SIGMODConference, 1998; " the Efficient and Effective ClusteringMethods for Spatial Data Mining " of R.Ng etc., Very Large Data BasesConference, 1994; " the Algorithms for Clustering Data " of R.Dubes etc., Prentice Hall, New Jersey, 1998; With " the Finding Groupsin Data-An Introduction to Cluster Analysis " of L.Kaufman etc., Wiley Series inProbability and Math Sciences, 1990.Under the context of data stream environment, also studied cluster, for example referring to the document of S.Guha etc. and L.O ' Callaghan etc.
Because the cluster of data stream causes the arrival of mass data, so it makes traditional clustering method efficient low.In recent years, developed (one-pass) clustering method that confession and data stream are used together.But the result of a simple clustering method that provides about data stream in the several years can occupy ascendancy by the out-of-date historical record of data stream.
Other existing method of cluster data stream is calculated about entire stream and is trooped (cluster), for example referring to the document of L.O ' Callaghan etc.These technology are regarded the data stream cluster as the modification of a clustering method.Technology although it is so can be used in many clusters application, but the cluster of data stream requires the careful definition in the data stream context.Data stream should be counted as having the infinite process of the data of constantly evolving in time.Thereby troop also along with the time marked change in the basis.The moment that the essence of trooping can be trooped along with calculating, and measure the time range of trooping and change.For example, the user may wish to check in the month before that what took place in last year or 10 years in the past troops, and all these troop all completely different.
Design applies a constraint to data stream to method inherently.Be difficult to utilize traditional method, be provided at and calculate the dirigibility of trooping in the dissimilar time ranges.For example, based on the direct expansion of the k-means method of stream (for example referring to L.O ' Callaghan etc. document) can require to remain on simultaneously institute might time range in, the intermediate result of clustering method.This computation burden increases along with the development of data stream, can become the bottleneck of canbe used on line very soon.In addition, in many cases, the analyst can wish to determine trooping of the previous a certain moment, they and current trooping are compared.This needs bigger bookkeeping, and for rapid data stream, this will become very soon and be difficult to handle.
Because in computation process, can not revisit data stream, so clustering method need keep a large amount of information, so that material particular is not lost.For example, in its implementation, the k-means method of conitnuous forms is preserved as required and many cluster centers of changing or merging, for example referring to the document of L.O ' Callaghan etc.Because the k-means method is very responsive to the arrival of data point order, therefore when the characteristic of data stream along with the time when evolution, this method is uncertain.For example, in case two cluster centers are merged, when the evolution of data stream need separate trooping, have no idea in the mode of knowing the inside story so after a while trooping separately at all.
So when data were obviously evolved along with the time, need to improve the quality of trooping.Also need in addition to be provided on the different piece of data stream and find and explore the more power of trooping.
Summary of the invention
The present invention relates to the data clusters technology.More particularly, the present invention relates to online statistics and processed offline, cluster evolution data stream by producing.
For example, in one aspect of the invention, provide a kind of the data of data stream have been carried out the method for cluster, comprised the steps:
Receive at least one data point from data stream;
Described at least one data point is distributed to a group of a plurality of group of data points;
Upgrade and store the online statistical information of a group of described a plurality of group of data points, wherein online statistical information comprises rudimentary trooping;
Determine processed offline for rudimentary cluster analysis whether be requirement or wish;
When requiring or wish processed offline, create senior trooping by near at least one reunion class at least one samples pseudo-data point of described a plurality of group of data points, thereby carry out the processed offline of online statistical information;
The affairs of electronic consumer senior trooped to report give the user so that analyze;
When not requiring or do not wish processed offline, repeat reception, distribution, renewal and determining step.
In one aspect of the invention, provide a kind of the data of data stream are carried out the equipment of cluster, described equipment comprises:
Be used for receiving the device of at least one data point from data stream;
Be used for described at least one data point is distributed to the device of a group of a plurality of group of data points;
Be used to upgrade and store the device of online statistical information of a group of described a plurality of group of data points, wherein online statistical information comprises rudimentary trooping;
Be used for determining processed offline for rudimentary cluster analysis whether be requirement or wish device;
Be used for when requiring or wish processed offline, create senior trooping by near at least one reunion class at least one samples pseudo-data point of described a plurality of group of data points, thereby carry out the device of the processed offline of online statistical information;
Being used for troops the affairs of electronic consumer senior to report gives the user so that the device of analyzing;
Be used for when not requiring or do not wish processed offline the device of the reception of reruning, distribution, renewal and definite device.
Advantageously, technology of the present invention is easy to the mode of visiting and managing according to the user, efficiently and effectively data stream is carried out cluster.
Another beneficial property of the technology of the present invention is that it calculates the dirigibility of trooping in the user-defined period.In addition, the present invention can provide formerly the current comparison of trooping with data stream of trooping constantly.The user can find in the different piece of data stream and exploration is trooped.
In conjunction with the accompanying drawings, according to the following detailed description of illustration embodiment, these and other purpose of the present invention, feature and advantage will become apparent.
Embodiment
To utilize the data handling system architecture of illustration below, illustrate the present invention.But the present invention obviously is not limited to the usefulness for special arbitrarily system architecture.On the contrary, the present invention is applicable to the arbitrary data disposal system of wherein wishing to realize efficient and active traffic cluster.
In order to realize the data stream cluster, keep the statistical information relevant with data locality with little form of trooping.These statistical number strong points be defined as trooping time of eigenvector is extended (temporal extension), for example referring to " the BIRCH:An EfficientData Clustering Method for Very Large Databases " of T.Zhang etc., ACM SIGMODConference, 1996.Because its additive property, little trooping is used in the data stream cluster.Little trooping is saved to following the time snapshot (snapshot) of AD HOC.This pattern provides memory requirement and fetches effectively compromise between the ability of summary statistical information from different time ranges.Summary info in little the trooping is depended on various user's inputs subsequently, and for example the offline component of the granularity of time range or cluster is used.
So according to the present invention, the data stream cluster is divided into online little cluster component and the grand cluster component of off-line.Online little cluster component uses effective method that appropriate summary statistical information is kept in the rapid data stream.Offline component is used these summary statistical informations and other user input, when needing with box lunch, provides the fast understanding of trooping to the user.Because offline component uses the summary statistical information as input, so offline component efficient height.This dual stage process also provides research at different time in the cycle to the user, the dirigibility of the evolution essence of trooping.
Tentation data stream comprises a collection of at time stamp T
1... T
k... the multidimensional record X of arrival
1... X
k..., each X
iBe to comprise by X
i=x
i 1... x
i dThe multidimensional record of the d dimension of expression.
Has time stamp
A collection of d dimension point
Little trooping be defined as 2.d+3 tuple (CF2
x, CF1
x, CF2
t, CF1
t, n), { CF2 wherein
xAnd { CF1
xCorrespond respectively to a vector of d clauses and subclauses.Shown in each is defined as follows in these clauses and subclauses:
For each dimension, the quadratic sum of data value is stored in { CF2
xIn.Thereby, { CF2
xComprise d value.{ CF2
xP clauses and subclauses equal
For each dimension, data value and be saved { CF1
xIn.Thereby, { CF1
xComprise d value.{ CF1
xP clauses and subclauses equal
Time stamp
Quadratic sum be stored in CF2
tIn;
Time stamp
And be stored in CF1
tIn; And
The number of data point is stored among the n.
Little definition of trooping is the time of the eigenvector extension of trooping.One little the trooping of marking words and phrases for special attention C represented by CFT (C).This summary info is the natural selection of data flow method, because its available add mode with respect to different pieces of information point is represented.At given time, keep by described method with main little relevant statistical information of trooping in the data stream.Compare with former method (for example referring to L.O ' Callaghan etc. document), described method guarantees to keep effectively very a large amount of little trooping.The very big granularity of online updating method guarantees to provide quality much better trooping in evolution data stream.
Little trooping is stored in the particular moment that is called snapshot in the data stream.The grand clustering method of off-line uses these thin other little trooping of level, so that produce senior trooping in the special time scope.When clock time is t
cThe time, it is the historical record of h that the user may wish according to length, finds trooping in the data stream.Grand clustering method uses and saves as snapshot t
c(t
c-h) little subtraction character of trooping is the historical record of h or senior the trooping in the time range so that find length.Subtraction character is a kind of very important characteristic of little cluster representation, and it makes it possible to produce senior the trooping in the different time scope.Owing to can not preserve each snapshot constantly, therefore select little special time of being saved of trooping very important.The purpose of selecting these special times is to guarantee to be similar to any user-defined time range (t
c-h, t
c) in troop.
In the pyramid time frame,, preserve snapshot with the granularity of different brackets according to property (recency) recently.Snapshot is divided into can be from 1 different brackets that changes to log (T), and T is that starting point from data stream begins clock time in the past here.The tier definition of the snapshot of particular category keeps the rank of the time granularity of snapshot.The snapshot of maintenance different brackets as described below.
With a
iThe time interval produce the snapshot of i grade, a is integer and a 〉=1 here.Specifically, can be by a when the clock value since the starting point of data stream
iIn the moment of dividing exactly, obtain each snapshot of i grade.A minimal level that unit is a granularity of clock time.Thereby the 0th grade snapshot is measured the time interval under the minimum particle size rank.
In office meaning regularly carved, and preserves last a+1 the snapshot of grade i.
The top big redundancy that is defined as snapshot storage aspect creates conditions.For example, be that 8 clock time can be by 2
0, 2
1, 2
2With 2
3Eliminate (a=2 here).So, be little state of trooping of 8 clock time simultaneously corresponding to grade 0, grade 1, grade 2 and grade 3 snapshots.
Referring to Fig. 1, Fig. 1 is according to one embodiment of present invention, and graphic extension is suitable for making the hard-wired block scheme that ins all sorts of ways.As shown in the figure, the system of illustration comprises the client computer that couples by catenet 10 and server 20.Server 20 can comprise the central processing unit (CPU) 30 that couples with primary memory 40 and disk 50.Suppose that a plurality of client computer can be by catenet 10 and server 20 reciprocations.Recognize that network 10 can be a public information network, for example the Internet or WWW, still, on the other hand, client-server can be passed through dedicated network, and LAN (Local Area Network) or some other suitable network connect.
Data clusters of the present invention calculates and carries out on the CPU on the server 20 30, and is sent to one or more client computer.Client computer produces the inquiry about the various characteristics of data stream, and these inquiries are by server 20 responses.In processing procedure, whole or a plurality of parts of data set to be processed are stored on the disk 50.Primary memory 40 is used to be kept at some or all statistical informations that produce in the processing procedure.The result is returned to the client computer of the request of sending.
In a preferred embodiment, comprise that the instruction of the method for the present invention that realization is described here or the component software of code can be stored in one or more memory devices of top reference server explanation, and when being ready to be used, by CPU 30 parts or wholely pack into and carry out.
Referring now to Fig. 2,, Fig. 2 is according to one embodiment of present invention, the process flow diagram of online little cluster of graphic extension and the grand cluster interaction of off-line method.This method starts from step 200, in step 200, and input traffic.In step 210, receive data point from data stream.In step 220, this data point is used to upgrade online statistical information.Understand this online little cluster step among Fig. 3 in more detail.In step 230, determine whether the analysis of trooping needs processed offline.Processed offline is carried out processed offline so in step 240 if desired.In Fig. 4, understand the grand cluster step of this off-line in more detail.Method is returned step 210 subsequently.If do not need processed offline, method is directly returned step 210 so.When no longer when data stream is received data point, method stops in step 250.
Referring now to Fig. 3,, Fig. 3 is according to one embodiment of present invention, the process flow diagram of the little maintenance method of trooping of graphic extension.Fig. 3 can be counted as the detailed description of step 220 among Fig. 2.This method starts from step 300, and in step 300, input is from the data point of data stream.In step 310, find out one group of data point of the data point that approaches most to arrive.In step 320, whether the distance that is determined to nearest group is greater than user-defined threshold value.If described distance greater than threshold value, in step 330, produces new group that wherein has individual data point so.If there is no any group, also can produce a new group.If described distance is less than threshold value, in step 335, this data point is added in described nearest group so.In either case, in step 340, upgrade update group or newly organize statistical information.In the update group statistical information, the counting of the data point in little the trooping is updated.In addition, when appropriate time window past tense, snapshot is clearly preserved.This method stops in step 350.
Referring now to Fig. 4,, Fig. 4 is according to one embodiment of present invention, the process flow diagram of the senior production method of trooping of graphic extension.Produce senior grand trooping according to little the trooping of the fine granularity among Fig. 3.When the user goes for the middle-and-high-ranking image of trooping of data stream (picture), carry out this step with the form of off-line process.This method also can be counted as the detailed description of step 240 among Fig. 2.This method starts from step 400.In step 410, technology of the present invention is to k representative pseudo-point sampling.In step 420, put again the little set of clusters of cluster around representative puppet.Each little set of clusters is assigned to its nearest representative pseudo-point.This method is a kind of iterative process.This number of iterations is determined in advance by the user.In step 430, determine whether need be arbitrarily iteration more frequently.Iteration more frequently if desired, so in step 440, representative pseudo-point is redefined and is the barycenter (centroid) of the point of cluster again.This method is returned step 420 subsequently.If do not need iteration more frequently, this method reports in step 450 that again the correspondence that clustering method has found troops so.Troop by determining relevant each group in the user-defined period, producing again subsequently, also can in the user-defined period, produce these and troop.This method finishes in step 460.
Referring now to Fig. 5,, Fig. 5 is according to one embodiment of present invention, the process flow diagram of the little evolutionary analysis method of trooping of graphic extension.This method starts from step 500.In step 510, in appropriate time range, carry out subtraction.In described subtraction, from current little statistical information of trooping, deduct little statistical information of trooping of time range formerly.In step 520, this method is determined the classification of evolving according to the statistical information after subtracting.For example, when at time t
1The time have a set of clusters, but at time t
2＞t
1The time do not have set of clusters, this means that this group is at the time interval (t
1, t
2) in deleted.On the other hand, if t
1＞t
2, then mean at the time interval (t
2, t
1) in produced a new group.This method finishes in step 530.
Therefore, as mentioned above, the invention provides the efficient and effective ways of the large-scale evolution data stream of a kind of cluster.With attempt once whole stream cluster, rather than the prior art that data stream is regarded the process that constantly changes in time as is compared, this method has tangible advantage.Clustering Model provides and characterizes in the evolution environment the various functions that the data stream in the different time scope is trooped.This is to realize by the work between online statistic gathering assembly of careful division and the off-line analysis assembly.Thereby method of the present invention analyst in environment real-time and that constantly change provide significant flexibility.
Though illustration embodiment of the present invention has been described with reference to the accompanying drawings, and the present invention obviously is not limited to these embodiment, do not depart from the scope of the present invention or the situation of spirit under, those skilled in the art can make various other variations and modification.