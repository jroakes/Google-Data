CN107094277A - Signal processing method and system for the rendering audio on virtual speaker array - Google Patents
Signal processing method and system for the rendering audio on virtual speaker array Download PDFInfo
- Publication number
- CN107094277A CN107094277A CN201710086862.4A CN201710086862A CN107094277A CN 107094277 A CN107094277 A CN 107094277A CN 201710086862 A CN201710086862 A CN 201710086862A CN 107094277 A CN107094277 A CN 107094277A
- Authority
- CN
- China
- Prior art keywords
- hrir
- matrix
- state
- virtual speaker
- space representation
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Granted
Links
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04S—STEREOPHONIC SYSTEMS
- H04S5/00—Pseudo-stereo systems, e.g. in which additional channel signals are derived from monophonic signals by means of phase shifting, time delay or reverberation
- H04S5/005—Pseudo-stereo systems, e.g. in which additional channel signals are derived from monophonic signals by means of phase shifting, time delay or reverberation of the pseudo five- or more-channel type, e.g. virtual surround
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04S—STEREOPHONIC SYSTEMS
- H04S7/00—Indicating arrangements; Control arrangements, e.g. balance control
- H04S7/30—Control circuits for electronic adaptation of the sound field
- H04S7/302—Electronic adaptation of stereophonic sound system to listener position or orientation
- H04S7/303—Tracking of listener position or orientation
- H04S7/304—For headphones
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04S—STEREOPHONIC SYSTEMS
- H04S5/00—Pseudo-stereo systems, e.g. in which additional channel signals are derived from monophonic signals by means of phase shifting, time delay or reverberation
- H04S5/02—Pseudo-stereo systems, e.g. in which additional channel signals are derived from monophonic signals by means of phase shifting, time delay or reverberation of the pseudo four-channel type, e.g. in which rear channel signals are derived from two-channel stereo signals
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04S—STEREOPHONIC SYSTEMS
- H04S1/00—Two-channel systems
- H04S1/002—Non-adaptive circuits, e.g. manually adjustable or static, for enhancing the sound image or the spatial distribution
- H04S1/005—For headphones
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04S—STEREOPHONIC SYSTEMS
- H04S2400/00—Details of stereophonic systems covered by H04S but not provided for in its groups
- H04S2400/01—Multi-channel, i.e. more than two input channels, sound reproduction with two speakers wherein the multi-channel information is substantially preserved
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04S—STEREOPHONIC SYSTEMS
- H04S2420/00—Techniques used stereophonic systems covered by H04S but not provided for in its groups
- H04S2420/01—Enhancing the perception of the sound image or of the spatial distribution using head related transfer functions [HRTF's] or equivalents thereof, e.g. interaural time difference [ITD] or interaural level difference [ILD]
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04S—STEREOPHONIC SYSTEMS
- H04S2420/00—Techniques used stereophonic systems covered by H04S but not provided for in its groups
- H04S2420/11—Application of ambisonics in stereophonic audio systems
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04S—STEREOPHONIC SYSTEMS
- H04S3/00—Systems employing more than two channels, e.g. quadraphonic
- H04S3/002—Non-adaptive circuits, e.g. manually adjustable or static, for enhancing the sound image or the spatial distribution
- H04S3/004—For headphones
Abstract
For the signal processing method and system of the rendering audio on virtual speaker array, it is related to and is applied to balanced realization state-space model to reduce effective FIR or the even exponent number of IIR (IIR) wave filter per head related transfer function (HRTF).Via such as z-transform, each HRTF G (z) are exported by head coherent pulse response filter (HRIR).HRIR data can be for via relation G (z)=C (zI A)‑1B+D constructs HRTF first state space representation [A, B, C, D].First state space representation is not unique, therefore for FIR filter, A and B can be set as to simple two value arrays, C and D include HRIR data, cause gram matrix Q simple form, its eigenvector provides the maximized system mode of system gain for making to measure by Hankel norms.By the associated state of the characteristic value for only considering with being more than some threshold values, HRTF equilibrium state space representation can be intercepted to provide the original HRTF of good approximation approximate HRTF, while making amount of calculation reduce much 90%.
Description
The cross reference of related application
The application is to submit on 2 18th, 2016, entitled " Signal Processing Methods and
Systems for Rendering Audio on Virtual Loudspeaker Arrays (are used in virtual speaker battle array
The signal processing method and system of rendering audio on row) " U.S. provisional applications No.62/296,934 non-provisional application and
It is required that its priority, entire contents are fully incorporated herein.
Background technology
It is typically used around the virtual array of the loudspeaker of hearer and is creating the virtual sky for the audio for being used for earphone delivering
Between in acoustic enviroment.The sound field created by the loudspeaker can be operated to delivering relative to user move sound source effect or
Person makes the source stable at fixed space position when user moves their head.These are to by virtual reality (VR) system
Very important operation for the Audio delivery of earphone in system.
The multichannel audio for being processed for the delivering to virtual speaker is combined a pair of signals being supplied to a left side
Right headphone loudspeaker.This process of the combination of multichannel audio is referred to as ears and rendered (binaural rendering).Realize
The most effective mode of this common receiving rendered is using the multichannel filtering system for realizing head related transfer function (HRTF).
Based on multiple --- in the system of such as M (wherein M is Any Digit) individual virtual speaker, ears, which are rendered, will need with 2M
Hrtf filter, because being entered per loudspeaker using a pair of wave filters to the transfer function between loudspeaker and the left and right ear of user
Row modeling.
The content of the invention
Perform a large amount of computing resources of conventional meanses requirement that ears are rendered.Along these thinkings, when HRTF is represented as n ranks
Finite impulse response (FIR) (FIR) wave filter when, the output of each ears is required per 2Mn multiplication of sound channel and add operation.It is such
Computing can make the limited resources that the ears being allocated in such as virtual reality applications are rendered.
Compared with performing and requiring the conventional meanses that the ears of a large amount of computing resources are rendered, improved technology is related to will be balanced real
Present condition spatial model is applied to each HRTF to reduce effective FIR or the even exponent number of IIR (IIR) wave filter.
Along these thinkings, via such as z-transform, each HRTF G (z) are exported by head coherent pulse response filter (HRIR).HRIR
Data can be used to via relation G (z)=C (zI-A)-1B+D constructs HRTF first state space representation [A, B, C, D].
The first state space representation is not unique, and therefore can be set to simple two-value for FIR filter, A and B
Array, and C and D includes HRIR data.This expression causes gram matrix (Gramian) Q of simple form, and its eigenvector is carried
For the maximized system mode of system gain for making to measure by Hankel norms.In addition, Q factorization is provided to balanced shape
The conversion of state space, wherein, gram matrix is equal to the diagonal matrix of Q characteristic value.By only considering with being more than some threshold values
Associated those states of characteristic value, HRTF equilibrium state space representation can be intercepted to provide good approximation original HRTF
Approximate HRTF, while making required amount of calculation reduce up to 90%.
One general aspect of improved technology includes a kind of method that sound field is rendered in the left and right ear of human listener,
The sound field is produced by multiple virtual speakers.This method can include：Many heads are obtained by the process circuit of sound rendering computers
Coherent pulse responds (HRIR), and sound rendering computers are configured as in the left and right ear of human listener rendering the sound field,
Each in multiple HRIR is associated with the virtual speaker and the ear of human listener in multiple virtual speakers, multiple
In HRIR each include in response to by the tonepulse that the virtual speaker is produced produce in left ear or auris dextra with
Specify the sample of the sound field of sampling rate generation.This method can also include：Generate the first state of each in multiple HRIR
Space representation, first state space representation include matrix, column vector and row vector, the matrix of first state space representation, arrange to
Each in amount and row vector has the first size.This method can further comprise：Perform state space drop contracting operation next life
Into the second state-space representation of each in multiple HRIR, second space represents to include matrix, column vector and row vector, the
Each in matrix, column vector and the row vector of two-state space representation has the second slight size bigger than first.The party
Method can further comprise：Based on second state representation, generate every in many head related transfer functions (HRTF), multiple HRTF
One corresponding HRIR for corresponding in multiple HRIR, to HRTF that corresponding HRIR is corresponding be multiplied by it is related by HRIR corresponding with this
The component of the sound field rendered in the ear of human listener is produced after the frequency domain sound field that the virtual speaker of connection is produced.
Perform state space drop contracting operation can including for each HRIR in the multiple HRIR, the based on the HRIR
One state-space representation, generates corresponding Gramian matrixes, and the Gramian matrixes have multiple arranged by the descending of amplitude
Value indicative；And based on Gramian matrixes and multiple characteristic values, the second state-space representation of the HRIR is generated, wherein second largest
The small number for being equal to the characteristic value for being more than specified threshold in the multiple characteristic value.
Generating the second state-space representation of each HRIR in multiple HRIR includes forming transformation matrix, and transformation matrix exists
It is applied to produce in diagonal matrix, diagonal matrix during the Gramian matrixes of the first state space representation based on the HRIR
Each diagonal element is equal to the corresponding characteristic value in multiple characteristic values.
This method can further comprise the cepstrum that the HRIR is generated for each in multiple HRIR, and the cepstrum has
The cause and effect sample obtained in the positive time and the non-causal sample obtained in the negative time；For each in the non-causal sample of cepstrum
It is individual, the cause and effect sample phase of the cepstrum by the non-causal sample that will be obtained in the negative time and in place's acquirement relative with negative time
Plus, perform phase and minimize operation；And each in the non-causal sample for cepstrum performs phase and minimizes operation
Afterwards, it is set to zero to produce minimum phase HRIR by each in the non-causal sample by cepstrum.
This method can further comprise generating multiple-input and multiple-output (MIMO) state-space representation, the MIMO state space tables
Show that the composite matrix of the MIMO state-space representations is including multiple including composite matrix, column vector matrix and row vector matrix
The each first matrix represented in HRIR, the column vector matrix of the MIMO state-space representations is included in multiple HRIR
The column vector that each first represents, the row vector matrix of the MIMO state-space representations includes each in multiple HRIR
First represent row vector.In this case, vector matrix and row vector matrix.Perform state space reduction operation bag
Include composite matrix of the generation through drop contracting, the column vector matrix through drop contracting and the row vector matrix through drop contracting, the synthesis square through drop contracting
Battle array, through drop contracting column vector matrix and through drop contracting row vector matrix in each have respectively than composite matrix, row it is big
Slight size.
Generation MIMO state-space representations can include：First block matrix is formed as to the synthesis square of MIMO state-space representations
Battle array, the first block matrix has the HRIR associated with the virtual speaker in multiple virtual speakers first state space representation
As the matrix of the diagonal element of the first block matrix, the HRIR associated with same virtual speaker first state space representation
Matrix be located at the first block matrix adjacent diagonal element in.Generation MIMO state-space representations can also include：By second piece of square
Formation turn into MIMO state-space representations column vector matrix, second block matrix have with it is virtual in multiple virtual speakers
The associated HRIR of loudspeaker first state space representation as the diagonal element of the second block matrix column vector, with same void
The column vector for intending the associated HRIR of loudspeaker first state space representation is located in the adjacent diagonal element of the second block matrix.
Generation MIMO state-space representations can further comprise：3rd block matrix is formed as to the row vector square of MIMO state-space representations
Battle array, the 3rd block matrix has the HRIR associated with the virtual speaker in multiple virtual speakers first state space representation
As the row vector of the element of the 3rd block matrix, rendered in the left ear HRIR of sound first state space representation row to
Amount is in the element of the odd-numbered of the first row of the 3rd block matrix, and the first state that the HRIR of sound is rendered in auris dextra is empty
Between the row vector that represents be located in the element of the even-numbered of the second row of the 3rd block matrix.
This method can further comprise：Prior to generation MIMO state-space representations, for each HRIR in multiple HRIR
The drop contracting operation of single-input single-output (SISO) state space is performed to produce the SISO state-space representations of the HRIR to be used as this
HRIR first state space representation.
On this method, for each in multiple virtual speakers, exist in multiple HRIR and the virtual speaker
Associated left HRIR and right HRIR, the left HRIR are produced in the mankind after the frequency domain sound field produced by the virtual speaker is multiplied by
The component of the sound field rendered in the left ear of hearer, right HRIR is produced after the frequency domain sound field produced by the virtual speaker is multiplied by
The component of the sound field rendered in the auris dextra of human listener.In addition, for each in multiple virtual speakers, virtual with this
There is interaural time delay (ITD) between loudspeaker associated left HRIR and the right HRIR associated with the virtual speaker,
The number of the initial sample with null value for the sound field that the ITD passes through the left HRIR and the sound field of the right HRIR have a null value
Difference between the number of initial sample is apparent in the left HRIR and right HRIR.In this case, this method can be further
Including based on the ITD between the left HRIR associated with each in multiple virtual speakers and right HRIR, generating ITD units
Subsystem matrix, and multiple HRTF are multiplied by ITD unit subsystem matrixes to produce multiple delayed HRTF.
On this method, each in multiple HRTF can be represented by finite impulse filters (FIR).In such case
Under, this method can further comprise performing translation operation in each in multiple HRTF producing by IIR
Another multiple HRTF that wave filter (IIR) is represented.
On this method, for each in multiple virtual speakers, exist and with the head side closest to loudspeaker
The associated HRIR of the corresponding virtual speaker of ear, it is referred to as homonymy HRIR.It is associated with the virtual speaker
Another HRIR be referred to as offside HRIR.Multiple HRTF can be divided into Liang Ge groups.One group includes all homonymies
HRTF, and another group include all offside HRTFs.In this case, this method can independently be applied to each group, thus
Produce the degree of approximation for being suitable for the group.
Brief description of the drawings
Fig. 1 is diagram according to one or more embodiments as described herein, for based on head tracking, the several volumes of panorama
The block diagram of the example system of the binaural audio of the virtual speaker of code.
Fig. 2 is diagram according to one or more embodiments as described herein, the example states with Hankel singular values
The figure of space system is represented.
Fig. 3 is that diagram is limited according to 25 ranks of one or more embodiments as described herein, example states space system
The figure that impulse response approaches the impulse response approached with 6 rank IIRs is represented.
Fig. 4 is that diagram is limited according to 25 ranks of one or more embodiments as described herein, example states space system
The figure that impulse response approaches the impulse response approached with 3 rank IIRs is represented.
Fig. 5 is the block diagram of the exemplary arrangement of the diagram loudspeaker relevant with user.
Fig. 6 be a diagram that the block diagram of example ears renderer system.
Fig. 7 is frame of the diagram according to one or more embodiments as described herein, example MIMO ears renderer systems
Figure.
Fig. 8 is diagram according to one or more embodiments as described herein, the block diagram of example ears rendering system.
Fig. 9 is to illustrate according to one or more embodiments as described herein, be arranged to the example meter that ears are rendered
Calculate the block diagram of equipment.
Figure 10 is diagram according to one or more embodiments as described herein, the balanced realization using the first left sibling
The figure for the example results that single-input single-output (SISO) IIR is approached is represented.
Figure 11 is diagram according to one or more embodiments as described herein, the balanced realization using the first right node
The figure for the example results that single-input single-output (SISO) IIR is approached is represented.
Figure 12 is diagram according to one or more embodiments as described herein, the balanced realization using the second left sibling
The figure for the example results that single-input single-output (SISO) IIR is approached is represented.
Figure 13 is diagram according to one or more embodiments as described herein, the balanced realization using the second right node
The figure for the example results that single-input single-output (SISO) IIR is approached is represented.
Figure 14 is diagram according to one or more embodiments as described herein, the balanced realization using the 3rd left sibling
The figure for the example results that single-input single-output (SISO) IIR is approached is represented.
Figure 15 is diagram according to one or more embodiments as described herein, the balanced realization using the 3rd right node
The figure for the example results that single-input single-output (SISO) IIR is approached is represented.
Figure 16 is diagram according to one or more embodiments as described herein, the balanced realization using the 4th left sibling
The figure for the example results that single-input single-output (SISO) IIR is approached is represented.
Figure 17 is diagram according to one or more embodiments as described herein, the balanced realization using the 4th right node
The figure for the example results that single-input single-output (SISO) IIR is approached is represented.
Figure 18 is the flow chart for illustrating the exemplary method for performing improved technology as described herein.
Provided herein is title it is merely for convenience, not necessarily influence disclosure scope claimed or implication.
In figure, for ease of understanding and conveniently, same reference numerals and any acronym mark have identical or class
Element or action like structure or function.Accompanying drawing is described in detail during following embodiments.
Embodiment
Each example and embodiment of disclosed method and system will now be described.Description, which is provided, below is used to manage comprehensively
Solution and the detail for realizing the description to these examples.However, those skilled in the pertinent art will be understood that, to it is no these
One or more embodiments as described herein can also be put into practice in the case of many details in details.Similarly, association area
Technical staff will also be understood that one or more other embodiments of the present disclosure can include not being described in detail herein other are special
Levy.In addition, some known structure or functions can be shown or describe in no detail below, to avoid unnecessarily obscuring phase
Close description.
Disclosed method and system solve the computational complexity of above mentioned ears render process.For example, the disclosure
One or more embodiments be related to and realize arithmetic operand purpose method needed for 2M filter function for reducing and be
System.
Introduce
Fig. 1 is the final stage (For purposes of this example, ignoring any environmental effect processing) for showing space audio player
How multichannel to be fed and take virtual speaker array to and encode that as a pair of signals for being played by earphone.
Changed as indicated, completing final M sound channels using M single 1 turn of 2 encoder and turning 2 sound channels, wherein each encoder is one
To left/right ear head related transfer function (HRTF).Therefore, in the System describe, operator G (z) is matrix：
Each subsystem be typically with from loudspeaker position to left/right ear come transmission letter that the impulse response measured is associated
Number.As described in more detail below, disclosed method and system are provided by using finite impulse response (FIR) (FIR) to unlimited arteries and veins
Punching responds the process of (IIR) conversion to reduce the mode of the exponent number of each subsystem.Being to this conventional means challenged will be each
Subsystem is used in isolation as single-input single-output (SISO) system and simplifies its structure.The conventional meanses are investigated below and are gone back
Investigate by as M input and 2 output multiple-input and multiple-output (MIMO) systems whole systems on operation can reach it is much
Efficiency.
Although some existing technologies refer in the MIMO model of HRTF systems, neither one such as the disclosure and solve it
Use in the virtual speaker system based on panorama sound (Ambisonic).The basis of system order reduction described in the disclosure
Based on the measurement for being referred to as Hankel norms.Because the measurement is not widely known or is well understood, therefore hereafter attempt to explain
The content and the measurement for measuring measurement respond the reason for having actual importance to sound system.
HRIR/HRTF structures
Impulse response between sound source and the left and right ear of hearer is referred to as a coherent pulse response (HRIR) and in quilt
Referred to as HRTF when being converted into frequency domain.These receptance functions are pointed out the necessary direction of the perception of the position of sound source comprising hearer.Wound
Build the signal transacting that virtual auditory shows and these functions are used as wave filter in the synthesis of the accurate sound source in space.In VR applications
In, user visual field tracking (view tracking) requirement performs audio synthesis as efficiently as possible, because for example (i)
Process resource is limited, and (ii) usually requires that low time delay.
For input x [k] and output y [k], passing through HRIR/HRTF --- g signal transmission can be written as (for side
Just, below for k>N handles output)：
Wherein g=[g0, g1, g2.., gN-1],
Take transform
Y (z)=G (z) X (z) (2)
G (z)=[g0+g1z-1+g2z-2+..+gN-1zN-1] (3)
Wherein, the N points HRIR of left (L) ear or the right side (R) ear is rendered as z domains transmission function.Because from source position to L/R ears
Transportation lag, so HRIR the first nL/RSample value is almost 0.Poor nL-nRInteraural time delay (ITD) is contributed, its
It is the important binaural cues to the direction in source.From the point of view of from this, G (z) will refer to any HRTF, and only in description differential nature
When use subscript L and R.
FIR is approached by what low order IIR structures were made
Introduction to Hankel norms
It is described below to attempt by alternative systemTo replace G (z), the alternative systemSuch as such as relatively low meter is provided
Calculate load advantage and such as by with y=Gx withSome measurementsMeasured is to G (z)
" good " approach, to this, poor useful metrics are the H for the error system being given by∞Norm：
The energy ratio is given the model for driving the ceiling capacity in the difference of the least energy in the signal of the system
Number.Therefore, in order that approximate error is small, it is proposed that delete those patterns that least energy is transmitted from input x to output y.Understand and miss
The H of difference∞It is useful that norm, which has equal to following true correlation,：
This shows H∞Norm is the peak value of the Bode amplitude figures of error.
However, challenge is to be difficult to characterize the relation between the norm and system model.Alternatively, will hereafter investigate to by mistake
The use of the Hankel norms of difference, because it has the useful relation with system performance and is easy to be illustrated to provide H∞Norm
The upper bound.
The Hankel norms of system are known as Hankel operators ΦGOperator system Induction boosting, the operator lead to
Cross the definition such as class convolution relation：
It should be noted that by taking k=0 to be used as the time " present ", this operator ΦGIt is determined that the input sequence from-∞ to k=-1
X [k] is arranged then by how at the output of the system.
By ΦGThe Hankel norms of induction are defined as：
It should also be appreciated that Hankel norms represent the maximization for the future energy that can be reclaimed in system output, while most
Smallization is input to the history energy of the system.Or, in other words, it is assumed that future input is 0, by the following defeated of any input generation
Go out the Hankel norms times for the energy that energy is preferably at most input.
State space system is represented and Hankel norms
It can find out that Hankel norms provide the useful metrics transmitted to the energy by system from the above description.However, being
Understand that how related norm have to systematic education and its reduction, it is necessary to which the internal dynamic of system is characterized as by its state space table
Show to model.The representative connection linearly moved between the state-space model and its transmission function of constant (LSI) system is known
's.N ranks single-input single-output (SISO) system described by following transmission function：
Then forAnd pass through WithThis system can pass through following state-space model S：[A, B, C, D] is described：
W [k+1]=Aw [k]+Bx [k]
Y [k]=Cw [k]+Dx [k] (9)
The z-transform of this system is：
ZW (z)=AW (z)+BX (z)
Y (z)=CW (z)+DX (z)
Provide
Y (z)=[C (zI-A)-1B+D] X (z)=G (z) X (z) (10)
It should be noted that sytem matrix [A, B, C, D] is not unique and can be by following similarity transformation on such as v
[k] obtains alternative state-space model：For invertible matrixTv=w is provided WithState-space modelWith identical transmission function G (z).
It should be understood that For purposes of this example, it is assumed that G (z) is systems stabilisation, and equally, S is stabilization, it is intended that A
=λ (A) characteristic value is respectively positioned on unit circle | λ | on ＜ 1.
Now, for-∞<K≤- 1, G (z) Hankel norms is defeated to be described as on the energy of the storage in w [0]
Enter sequence x [k] result, and then many major generals in the energy are delivered to the output y [k] for k >=0.
In order to describe internal energy S, it is necessary to introduce two systems feature：
(i) accessibility (controllability) gram matrix (Gramian)And
(ii) observability gram matrix
Because A is stable, therefore two summations above restrain, and that and if only if is controllable to (A, B) (its mean from
W [0] starts, and can find sequence x [k], k>0 by the system drive to any arbitrary state W*) when, directly show P for pair
Claim and positive definite.Meanwhile, and if only if, and to (A, C) observable, (it means can be according to k>J system output y [k] is any to determine
The state of system during moment j), then Q is symmetrical and positive definite.
Directly illustrate the ability to obtain the solution that P and Q is used as Lyapunov equatioies：
APAT+BBT- P=0
With
ATQA+CTC-Q=0
The observation energy of state is for k >=0, with w [0]=w0With the energy in x [k]=0 track y [k] >=0.
Directly show：
Y [k]=CAkw0With
It is what that minimum control energy problem, which is defined as least energy,：
Drive system is to w [0]=w0's
This is the typical problem in optimum control and it has solution：
xopt[k]=BT(AT)-(1+k)P-1w0, k<0
Consider
In view of above, it is now possible to clearly by system G (z) Hankel norms, or equivalent S:[A, B, C, D] with
Q and P gram matrixs are contacted：
Equilibrium state space system is represented
It will now be appreciated that for HRTF systems, it is possible to calculate appropriate similarity transformation T and realized to obtain system
(realization)It provides equal accessibility and the observability gram matrix as diagonal matrix sigma
Q=P=∑s=diag (σ 1 ..., σn-1), wherein σ1≥σ2≥..≥σn-1＞ 0.
According at least one embodiment of the disclosure, obtain equilibrium state space system represent to include it is following：
(i) started with G (z), it is determined and (for example recognized) to be state space system S:[A,B,C,D].
(ii) for S, solve gram matrix to draw P and Q.
(iii) provided using linear algebra
(iv) factorization P=MTM and MQMT=WT∑2W, wherein, W is unitary, provides M and W so thatFor it,
(v) it can be used to obtain the new expression of system according to the T of (iv), be
(vi) in the expression obtained in (v), there is equilibrium state.In other words, system is taken to has 1 in the i of position
State (0,0 .., 1,0 ..0)TLeast energy beAnd if system is discharged in this condition, then at output
The energy of recovery is σi。
(vii) in the equilibrium model, according to state to be input to from signal the energy of output transmission importance come
The state is sorted.Thus, amputation in the structure shown here, to state and equally will be according to state energy to G (z) depression of order
The importance of transmission removes state.
The example of depression of order based on equilibrium state space system
Will be used below the sunspot that above-described equalizing system represents to investigate FIR structures generation and
Its depression of order.
This example is carried out by studying 26 FIR filter g [k]
Wherein transmission function
G (z)=[g0+g1z-1+...g25z-25]
25 rank state-space models are created using following
As illustrated in Figure 2, system S:[A, B, C, D] has Hankel singular values (SV).
S is transformed intoAccording to Hankel SV exterior feature
Line (for example, as illustrated in Figure 2), can obtain and S 6 ranks are approached.Therefore, the system is divided as follows：
It is through reduced order systemIt is provided through depression of order transmission function
In order to compare, the impulse response that original FIR G (z) and 6 rank IIR are approached is illustrated in figure 3.Described in Fig. 3
Curve disclose almost lossless matching.
In addition in order to compare, the impulse response that original FIR G (z) and 3 rank IIR are approached is illustrated in Fig. 4.
HRIR equilibrium is approached
Virtual speaker array and HRIR set
The exemplary scene of the simple square arrangement based on loudspeaker is described below, as illustrated in fig. 5, wherein using CIPIC
Output is mixed into ears by the HRIR of the object 15 of set.In the presence of the 200 point HRIR and the set bag sampled with 44.1kHz
A series of associated datas containing the measurement including the interaural difference ITD between each pair HRIR.HRIR (such as above equation
(3) transmission function G (z)) is by with multiple leading (leading) coefficient [g for 00..., gm] and be each response
Initial delay (onset delay) the reason for, provide the G (z) shown in following equation (12).In a pair of HRIR a left side and
Difference between right initial time greatly determines its contribution to ITD.Typical left HRTF shape is given in equation (12)
Formula and right HRTF has similar type：
Pass through ITD=| mL-mR| provide ITD and it is provided for each HRIR pairs in CIPIC databases.With rising
The associated unnecessary phase of delay that begins means that each G (z) is non-minimum phase and also illustrates HRTFMajor part
It will be non-minimum phase.But also illustrate that hearer can not be byFilter effect from be denoted as H (z) its minimum phase version
Distinguished in this.Therefore, in this example that FIR is approached to IIR, the original FIR G of the equivalent H (z) of their minimum phase are passed through
(z) action of initial delay, is removed from each HRIR.
Approached using the single-input single-output IIR of balanced realization
According at least one embodiment, it is to include for example to be approached using single-input single-output (SISO) IIR of balanced realization
Following straight-forward procedure：
(i) HRIR (l/r, 1 of each node are read:200).
(ii) to obtain minimum phase using cepstrum equivalent；Provide HHRIR (l/r, 1:200).
(iii) by HHRIR (l/r, 1:200) SISO state-space representations are configured to S:[A,B,C,D].This will be 199
Tie up state space.
(iv) the depression of order version for the S that dimension is rr is obtained using above-mentioned balanced drop contracting (reduction) method.For example
Srr：[Arr, Brr, Crr, Drr]。
This HRIR cepstrum can have the cause and effect sample obtained in the positive time and the non-causal sample obtained in the negative time.
Accordingly, for each in the non-causal sample of cepstrum, by the non-causal sample that will be obtained in the negative time and when this is negative
Between with respect to place obtain cepstrum cause and effect sample be added, be able to carry out phase minimum operation.In the non-causal sample for cepstrum
Each in this is performed after phase minimum operation, and 0 is set as by each in the non-causal sample by cepstrum, can
Generate minimum phase HRIR.
In curve shown in Figure 10-17, present by 12 ranks (for example, for rr=12), approach each node
Left and right HRIR example results.
Figure 10-17 be diagram object 15CIPIC [+/- 45 degree, +/- 135 degree], Fs=44100Hz, 200 points of original FIR,
The figure that IIR approaches the frequency response of 12 ranks is represented.
The result described in Figure 10-17 show 12 rank IIR approach given in both amplitude and phase with it is original
HRTF frequency rings matching closely.This means to be different from realizing 8x200 point FIR, can calculate HRIR and be embodied as
8x [{ 6 pairs of second orders (biquad) } IIR section+ITD delay lines].
Approached using the multiple-input and multiple-output IIR of balanced realization
According at least one embodiment, approached using multiple-input and multiple-output (MIMO) IIR of balanced realization be can be with such as
The process for going up the described same way for SISO to start.For example, the process can include：
(i) HRIR (l/r, 1 of each node are read:200).
(ii) using cepstrum to obtain minimum phase as described above equivalent, and HHRIR (l/r, 1 are provided for each node:
200)。
(iii) to i=1,2 ≡ left/right and j=1,2,3,4 ≡ nodes 1,2,3,4, by each HHRIR (l/r, 1:
200) SISO state-space representations are configured to S:[A,B,C,D].Each SijTo be 199 dimension state spaces.Wherein,And
(iv) synthesis mimo system is built, it has such as dimension 4x199=796 internal state space, and with 4
Input and 2 outputs,.System S:[A, B, C, D], wherein, A, B, C, D is configured to：
Use balanced drop contracting (BalancedReduction) side described according to one or more other embodiments of the present disclosure
Method, can to this 796 maintain system carry out drop contracting.
At least in example embodiment as described above, before generation S, by subsystem SijIn each drop be condensed to 30
Rank SISO systems.This step makes S maintain system for 4x30=120.It is then possible to be reduced to such as n=12 ranks, 4 inputs and 2
Output system, it is similar with the system illustrated in Fig. 6.
As described in more detail below, disclosed method and system solve the computational complexity of ears render process.For example,
One or more other embodiments of the present disclosure are related to the arithmetic operand destination party realized for reduction needed for 2M filter function
Method and system.
Existing ears rendering system includes hrtf filter function.Usually using finite impulse response (FIR) (FIR) wave filter
Structure realizes these functions, and some of embodiments use IIR (IIR) filter construction.FIR means are used
Length n wave filter, and require n multiplication and addition (MA) computing (such as 400) by an output for each HRTF
Sample presentation is to each ear.That is, each ears output requires n x 2M MA computings.For example, being rendered in typical ears and being
In system, n=400 can be used.The IIR means described in the disclosure use exponent number m recursive structure, and wherein m is generally in
For example in 12-25 (such as 15) scope.
It should be understood that for IIR computational load is compared with FIR computation burden, it is necessary to consider that molecule and denominator.
For 2M SISO IIR, each exponent number m, there will be about 2mx 2M MA (that is, by few 1 multiplication).For MIMO structures, meeting
With [(m-1) x2M+2m] individual MA, wherein, the reason for {+2m } is public recurrence section.Certainly, the m in MIMO is more than in SISO
M.
Different from existing method, in disclosed method and system, there are for example all left (correspondingly, right) ears
HRTF recursive component or other architecture arrangements, such as all homonymy (correspondingly, offside) ear HRTF.
Disclosed method and system can be especially important to rendering for the binaural audio in panorama sound audio system.This is
Because panorama sound delivers space audio in the way of activating all loudspeakers in virtual array.Therefore, as M increases, lead to
Cross becomes more and more important using this technology to the saving of calculation procedure.
Rendered conventionally with m individual 1 turn of 2 encoder to complete 2 sound channel ears of final M sound channels turn, wherein, Mei Gebian
Code device is a pair of left/right ear head related transfer functions (HRTF).Therefore, System describe is HRTF operators
Y (z)=G (z) X (z)
Wherein, G (z) is provided by following matrix：
Using FIR filter, each subsystem have following forms (in the case of non-minimum phase, leading kijCoefficient
Equal to 0, for example,})：
According to one or more other embodiments of the present disclosure, n rank MIMO state space systems can be passed throughApproach G (z).This provides illustrated example MIMO ears renderer (such as blender) system in Fig. 7
(according at least one embodiment, it can be used for 3D audios).
In the figure 7, ITD units subsystem is the set of delay line pair, wherein being per one of the input sound channel only centering
Delay, and another is one (unity).Therefore, in z domains, there is input/output and represent, such as
Each to (δ1k, δ2k) there is form (α, β), when left ear and source homonymy, α=0, β ＞ 0 postpone for ITD, and
Vice versa when with auris dextra homonymy.
Compression method drops using equilibrium, and the M inputs for having been lowered to exponent number n turn 2 output mimo systemsIt can be used to obtain and can be written as following HRTF set：
Wherein, " " represents Hadamard products.The transfer function matrix is different from G (z) above, because now per height
System has identical denominator.Subsystem is the HRTF from virtual speaker j to left/right ear [the left i=2 ≡ of i=1 ≡ are right]
IIR forms and with form：
Herein, for all ij,
Therefore, if using to the balanced drop contracting (as described above) of MIMO means come obtain original N point FIR HRTF and
They are approached to n ranks such as n=N/10, then ears can be rendered to the system being embodied as illustrated in Fig. 8.
It should be noted that according at least one embodiment, the final IIR sections shown in Fig. 8 can be with room effect filtering group
Close.
It should further be noted that this factorization is into each the FIR section and reality dependent on angle cascaded with shared IIR sections
Test result of study consistent.Such experiment has confirmed how HRIR obeys and approaches factorization.
Fig. 9 is to realize (such as 2M) wave filter letter according to one or more embodiments as described herein, by reducing
The number of required arithmetical operation is counted to be arranged to the high level block diagram for the exemplary computer device (900) that ears are rendered.
In very basic configuration (901), computing device (900) generally includes one or more processors (910) and system storage
(920).Memory bus (930) can be used to be communicated between processor (910) and system storage (920).
Depending on desired configuration, processor (910) can be any types, include but is not limited to：Microprocessor (μ P),
Microcontroller (μ C), digital signal processor (DSP) etc., or its any combinations.Processor (910) can include one or more
The caching of rank, such as level cache (911) and L2 cache (912), processor core (913) and register (914).
Processor core (913) can include ALU (ALU), floating point unit (FPU), digital signal processing core (DSP core
The heart) etc., or its any combination.Memory Controller (915) can also be used together with processor (910), or in some implementations
In mode, Memory Controller (915) can as processor (910) interior section.
Depending on desired configuration, system storage (920) can be any types, include but is not limited to：Volatibility is deposited
Reservoir (RAM), nonvolatile memory (ROM, flash memory etc.), or its any combinations.System storage (920) is generally
Including operating system (921), one or more applications (922) and routine data (924).It can include for double using (922)
The system that ear renders (923).According at least one embodiment of the disclosure, the system for rendering (923) for ears is designed to
Reduce the computation complexity of ears render process.As above institute is realized for example, having the ability to reduce for the system that ears render (923)
The number of arithmetical operation needed for the 2M filter function stated.
Routine data (924) can include store instruction, and it by one or more processing equipments when being performed, and realizing is used for
System (923) and method that ears are rendered.In addition, according at least one embodiment, routine data (924) can include audio number
According to (925), it is relevant with such as multi-channel audio signal data from one or more virtual speakers.According at least one
Embodiment, can be arranged to using (922) and be operated together with the routine data (924) in operating system (921).
Computing device (900) can have supplementary features and/or function and additional interface to promote basic configuration (901)
Communication between any required equipment and interface.
System storage (920) is the example of computer-readable storage medium.Computer-readable storage medium includes but is not limited to, RAM,
ROM, EEPROM, flash memory or other memory technologies, CD-ROM, digital versatile disc (DVD) or other optical storages, boxlike
Tape, tape, disk storage or other magnetic storage apparatus, or can be used the desired information of storage and can be set by calculating
Standby 900 any other medium accessed.Any such computer-readable storage medium can be a part for equipment (900).
It is portable (or mobile) that computing device (900) may be implemented as small package technology (small-form factor)
Electronic equipment, such as mobile phone, smart phone, personal digital assistant (PDA), personal media player device, tablet PC are (flat
Plate), wireless network watch device, personal headset equipment, special equipment, or including any one in above-mentioned functions
A part for individual mixing apparatus.In addition, computing device (900) is also implemented as personal computer, including meter on knee
Calculation machine and non-laptop computer configuration, one or more servers, Internet of things system etc..
Figure 18 is to perform the exemplary method 1800 that ears are rendered.Method 1800 can be as the software construction with reference to described in Fig. 9
Perform, it resides in the memory 920 of computing device 900 and run by processor 910.
At 1802, computing device 900 is obtained and the virtual speaker and the ear of human listener in multiple virtual speakers
Each in piece associated multiple HRIR.Each in multiple HRIR is included in response to being produced by the virtual speaker
Tonepulse, and produce in left ear or auris dextra with the sample for the sound field for specifying sample rate to produce.
At 1804, computing device 900 generates the first state space representation of each in multiple HRIR.First state
Space representation includes matrix, column vector and row vector.It is every in matrix, column vector and the row vector of first state space representation
One has the first size.
At 1806, computing device 900 performs state space drop contracting operation to generate each the in multiple HRIR
Two-state space representation.Second state-space representation includes matrix, column vector and row vector.The square of second state-space representation
Each in battle array, column vector and row vector has the second size for being less than the first size.
At 1808, computing device 900 is based on the second state representation, produces many head related transfer functions (HRTF).Should
Each corresponding HRIR corresponded in multiple HRIR in multiple HRTF.The HRTF corresponding with corresponding HRIR be multiplied by by with
After the frequency domain sound field that virtual speaker associated corresponding HRIR is produced, the sound field rendered in the ear of human listener is produced
Component.
Foregoing detailed description is via elaborating equipment and/or process using block diagram, flow chart, and/or example
Each embodiment.In the situation of such block diagram, flow chart, and/or example comprising one or more functions and/or operation
Under, it will be apparent to one skilled in the art that each function and/or operation in such block diagram, flow chart or example
Can be by extensive multiple hardwares, software, firmware or almost its any combinations individually and/or is jointly realized.According to
At least one embodiment, if the stem portion of theme described herein can be via application specific integrated circuit (ASIC), field-programmable
The form of gate array (FPGA), digital signal processor (DSP) or other integration is realized.However, those skilled in the art
Member it will be recognized that presently disclosed embodiment some aspect can wholly or partly in integrated circuits equally by
One or more computer programs for being embodied as running on one or more computers, as on the one or more processors
One or more programs, firmware or almost its any combinations of operation, and according to the disclosure, design circuit system and/or
Within the scope of the technical ability for writing the complete those skilled in the art of the code of software and/or firmware.
In addition, those skilled in the art will recognize that, the mechanism of theme described herein can be as various forms of
Program product and be distributed, and no matter be used for the particular type of non-transitory signal bearing medium for actually performing the distribution
How, the illustrative embodiment of theme described herein is all suitable for.The example of non-transitory signal bearing medium includes but not limited
In following：Recordable-type media, such as floppy disk, hard disk drive, compact disk (CD), digital video disc (DVD), digital magnetic tape,
Computer storage etc.；And transmission medium, such as numeral and/or analogue communication medium are (for example, optical fiber cable, waveguide, wired
Communication link, wireless communication link etc.).
On the use of substantially any plural number and/or singular references herein, as long as suitable for context (context) and/or answering
With then plural number can just be converted into odd number and/or odd number is converted into plural number by those skilled in the art.For clarity,
Various singular/plural permutation and combination can be explicitly described herein.
Therefore, the specific embodiment of this theme is described.Other embodiments are in appended claims
In the range of.In some cases, the action recorded in detail in the claims can be performed and still reached in a different order
To required result.In addition, the process described in the accompanying drawings not necessarily requires shown particular order or consecutive order comes
Reach desired effect.In some embodiments, multitasking and parallel processing are probably favourable.
Claims (20)
1. a kind of method that sound field is rendered in the left and right ear of human listener, the sound field is produced by multiple virtual speakers
Raw, methods described includes：
Many head coherent pulse response HRIR, the sound rendering computers quilt are obtained by the process circuit of sound rendering computers
It is configured in the left ear on the head of the human listener and the auris dextra render in the sound field, the multiple HRIR
Each is associated with the virtual speaker and the ear of the human listener in the multiple virtual speaker, described many
In individual HRIR each include in response to by the tonepulse that the virtual speaker is produced produce in left ear or auris dextra
With the sample for the sound field for specifying sampling rate generation；
The first state space representation of each in the multiple HRIR is generated, the first state space representation includes square
It is every in battle array, column vector and row vector, the matrix, the column vector and the row vector of the first state space representation
One has the first size；
Perform state space drop contracting operation to produce the second state-space representation of each in the multiple HRIR, described the
Two-state space representation includes matrix, column vector and row vector, the matrix of second state-space representation, the row to
Each in amount and the row vector has the second slight size bigger than described first；And
Based on second state-space representation, generate each in many head related transfer function HRTF, the multiple HRTF
The individual corresponding HRIR corresponded in the multiple HRIR, the HRTF corresponding with corresponding HRIR are being multiplied by by HRIR phases corresponding with this
The component of the sound field rendered in the ear of the human listener is produced after the frequency domain sound field that the virtual speaker of association is produced.
2. the method for claim 1, wherein performing the state space drop contracting operation is included for the multiple HRIR
In each HRIR：
The first state space representation based on the HRIR, generates corresponding Gramian matrixes, and the Gramian matrixes have
The multiple characteristic values arranged with the descending of amplitude；And
Based on the Gramian matrixes and the multiple characteristic value, second state-space representation of the HRIR is generated, wherein
Second size is equal to the number for the characteristic value for being more than specified threshold in the multiple characteristic value.
3. method as claimed in claim 2, wherein, generate the second state space table of each HRIR in the multiple HRIR
Show that, including forming transformation matrix, the transformation matrix is being applied to being somebody's turn to do for the first state space representation based on the HRIR
The each diagonal element produced during Gramian matrixes in diagonal matrix, the diagonal matrix is equal in the multiple characteristic value
Corresponding characteristic value.
4. the method as described in claim 1, further comprises for each in the multiple HRIR：
The cepstrum of the HRIR is generated, the cepstrum has in the cause and effect sample of acquirement of positive time and in the non-causal of negative time acquirement
Sample；
For each in the non-causal sample of the cepstrum, by by the non-causal sample acquired by the negative time and
The cause and effect sample of the cepstrum obtained in place relative with negative time is added, and is performed phase and is minimized operation；And
Each in the non-causal sample for the cepstrum performs described phase and minimized after operation, by by institute
Each stated in the non-causal sample of cepstrum is set to zero to produce minimum phase HRIR.
5. the method as described in claim 1, further comprises generating multiple-input and multiple-output MIMO state-space representations, described
MIMO state-space representations include composite matrix, column vector matrix and row vector matrix, the institute of the MIMO state-space representations
State the matrix that composite matrix is represented including each first in the multiple HRIR, the institute of the MIMO state-space representations
State the column vector that column vector matrix is represented including each first in the multiple HRIR, the MIMO state-space representations
The row vector matrix include the multiple HRIR in each first represent row vector, and
Wherein, performing the state space drop contracting operation includes composite matrix of the generation through drop contracting, the column vector matrix through drop contracting
With the row vector matrix through drop contracting, the composite matrix through drop contracting, the column vector matrix through drop contracting and the row vector through drop contracting
Each in matrix is with big slighter than the composite matrix, the column vector matrix and the row vector matrix respectively
Size.
6. method as claimed in claim 5, wherein, generating the MIMO state-space representations includes：
First block matrix is formed as to the composite matrix of the MIMO state-space representations, first block matrix have with
The associated HRIR of a virtual speaker in the multiple virtual speaker first state space representation is used as described the
The matrix of the diagonal element of one block matrix, the matrix of the HRIR associated with same virtual speaker first state space representation
In the adjacent diagonal element of first block matrix；
Second block matrix is formed as to the column vector matrix of the MIMO state-space representations, second block matrix has
The HRIR associated with a virtual speaker in the multiple virtual speaker first state space representation is as described
The column vector of the diagonal element of second block matrix, the HRIR associated with same virtual speaker first state space representation
Column vector is located in the adjacent diagonal element of second block matrix；And
3rd block matrix is formed as to the row vector matrix of the MIMO state-space representations, the 3rd block matrix has
The HRIR associated with the virtual speaker in the multiple virtual speaker first state space representation is used as the described 3rd
The row vector of the element of block matrix, the row vector that the HRIR of sound first state space representation is rendered in the left ear is located at
In the element of the odd-numbered of the first row of 3rd block matrix, the HRIR of sound first state is rendered in the auris dextra
The row vector of space representation is located in the element of the even-numbered of the second row of the 3rd block matrix.
7. method as claimed in claim 5, further comprises：Before the MIMO state-space representations are generated, for institute
Each HRIR in multiple HRIR is stated to perform the drop contracting operation of single-input single-output SISO state spaces to produce the SISO of the HRIR
State-space representation is using the first state space representation as the HRIR.
8. the method for claim 1, wherein for each in the multiple virtual speaker, exist described many
The left HRIR and right HRIR associated with the virtual speaker in individual HRIR, the left HRIR are produced by the virtual speaker being multiplied by
The component of the sound field rendered in the left ear of the human listener, the right HRIR are produced after raw frequency domain sound field
It is being multiplied by the institute that produces and rendered in the auris dextra of the human listener after the frequency domain sound field produced by the virtual speaker
State the component of sound field；And
Wherein, for each in the multiple virtual speaker, the left HRIR associated with the virtual speaker and with
There is the sound field that interaural time delay ITD, the ITD pass through the left HRIR between the associated right HRIR of the virtual speaker
Poor quilt between the number of the initial sample with null value of the number of initial sample with null value and the sound field of the right HRIR
It is apparent in the left HRIR and right HRIR.
9. method as claimed in claim 8, further comprises：
Based on the ITD between the left HRIR associated with each in the multiple virtual speaker and right HRIR, ITD is generated
Unit subsystem matrix；And
The multiple HRTF is multiplied by the ITD units subsystem matrix to produce multiple delayed HRTF.
10. the method for claim 1, wherein each in the multiple HRTF is by finite impulse filters FIR tables
Show；And
Wherein, methods described further comprises：In each in the multiple HRTF perform translation operation come produce by
Another multiple HRTF that infinite impulse response filter IIR is represented.
11. a kind of computer program product, including non-momentary storage medium, the computer program product include code, described
Code causes the process circuit to perform method in the process circuit execution by sound rendering computers, and the sound renders meter
Calculation machine is configured as in the left and right ear of human listener rendering sound field, and methods described includes：
Obtain in the response of many head coherent pulses HRIR, the multiple HRIR each with the multiple virtual speaker
One virtual speaker and the ear of the human listener are associated, and each in the multiple HRIR is included in response to by this
Virtual speaker produce tonepulse and produce in left ear or auris dextra with specify sampling rate produce sound field sample；
The first state space representation of each in the multiple HRIR is generated, the first state space representation includes square
It is every in battle array, column vector and row vector, the matrix, the column vector and the row vector of the first state space representation
One has the first size；
Perform state space drop contracting operation to produce the second state-space representation of each in the multiple HRIR, described the
Two-state space representation includes matrix, column vector and row vector, the matrix of second state-space representation, the row to
Each in amount and the row vector has the second slight size bigger than described first；And
Based on second state representation, each generated in many head related transfer function HRTF, the multiple HRTF is right
Corresponding HRIR that should be in the multiple HRIR, the HRTF corresponding with corresponding HRIR be multiplied by it is associated by HRIR corresponding with this
The frequency domain sound field that produces of virtual speaker after produce the component of the sound field rendered in the ear of the human listener.
12. computer program product as claimed in claim 11, wherein, perform the state space drop contracting operation include for
Each HRIR in the multiple HRIR：
The first state space representation based on the HRIR, generates corresponding Gramian matrixes, and the Gramian matrixes have
The multiple characteristic values arranged with the descending of amplitude；And
Based on the Gramian matrixes and the multiple characteristic value, second state-space representation of the HRIR is generated, wherein
Second size is equal to the number for the characteristic value for being more than specified threshold in the multiple characteristic value.
13. computer program product as claimed in claim 12, wherein, generate the of each HRIR in the multiple HRIR
Two-state space representation includes forming transformation matrix, and the transformation matrix is being applied to the first state space based on the HRIR
Each diagonal element in diagonal matrix, the diagonal matrix is produced during the Gramian matrixes represented equal to the multiple
Corresponding characteristic value in characteristic value.
14. computer program product as claimed in claim 11, wherein, methods described further comprises for the multiple
Each in HRIR：
The cepstrum of the HRIR is generated, the cepstrum has in the cause and effect sample of acquirement of positive time and in the non-causal of negative time acquirement
Sample；
For each in the non-causal sample of the cepstrum, by by the non-causal sample acquired by the negative time and
The cause and effect sample of the cepstrum obtained in place relative with negative time is added, and is performed phase and is minimized operation；And
Each in the non-causal sample for the cepstrum performs described phase and minimized after operation, by by institute
Each stated in the non-causal sample of cepstrum is set to zero to produce minimum phase HRIR.
15. computer program product as claimed in claim 11, wherein, methods described further comprises that how defeated generation multi input is
Go out MIMO state-space representations, the MIMO state-space representations include composite matrix, column vector matrix and row vector matrix, institute
Stating the composite matrix of MIMO state-space representations includes each first matrix represented in the multiple HRIR, institute
State MIMO state-space representations the column vector matrix include the multiple HRIR in each first represent row to
Amount, the row vector matrix of the MIMO state-space representations includes each first expression in the multiple HRIR
Row vector；And
Wherein, performing the state space drop contracting operation includes composite matrix of the generation through drop contracting, the column vector matrix through drop contracting
With the row vector matrix through drop contracting, the composite matrix through drop contracting, the column vector matrix through drop contracting and the row vector through drop contracting
Each in matrix is with big slighter than the composite matrix, the column vector matrix and the row vector matrix respectively
Size.
16. computer program product as claimed in claim 15, wherein, generating the MIMO state-space representations includes：
First block matrix is formed as to the composite matrix of the MIMO state-space representations, first block matrix have with
The associated HRIR of a virtual speaker in the multiple virtual speaker first state space representation is used as described the
The matrix of the diagonal element of one block matrix, the matrix of the HRIR associated with same virtual speaker first state space representation
In the adjacent diagonal element of first block matrix；
Second block matrix is formed as to the column vector matrix of the MIMO state-space representations, second block matrix has
The HRIR associated with a virtual speaker in the multiple virtual speaker first state space representation is as described
The column vector of the diagonal element of second block matrix, the HRIR associated with same virtual speaker first state space representation
Column vector is located in the adjacent diagonal element of second block matrix；And
3rd block matrix is formed as to the row vector matrix of the MIMO state-space representations, the 3rd block matrix has
The HRIR associated with a virtual speaker in the multiple virtual speaker first state space representation is as described
The row vector of the element of 3rd block matrix, renders the row vector of the HRIR of sound first state space representation in the left ear
In the element of the odd-numbered of the first row of the 3rd block matrix, the first of the HRIR of sound is rendered in the auris dextra
The row vector of state-space representation is located in the element of the even-numbered of the second row of the 3rd block matrix.
17. computer program product as claimed in claim 11, wherein, for each in the multiple virtual speaker
It is individual, there is the left HRIR and right HRIR associated with the virtual speaker in the multiple HRIR, the left HRIR is being multiplied by
The sound field rendered in the left ear of the human listener is produced after the frequency domain sound field produced by the virtual speaker
The component, the right HRIR produced the human listener's after the frequency domain sound field produced by the virtual speaker is multiplied by
The component of the sound field rendered in the auris dextra；And
Wherein, for each in the multiple virtual speaker, the left HRIR associated with the virtual speaker and with
There is the sound field that interaural time delay ITD, the ITD pass through the left HRIR between the associated right HRIR of the virtual speaker
Poor quilt between the number of the initial sample with null value of the number of initial sample with null value and the sound field of the right HRIR
It is apparent in the left HRIR and right HRIR.
18. computer program product as claimed in claim 17, wherein, methods described further comprises：
Based on the ITD between the left HRIR associated with each in the multiple virtual speaker and right HRIR, ITD is generated
Unit subsystem matrix；And
The multiple HRTF is multiplied by the ITD units subsystem matrix to produce multiple delayed HRTF.
19. computer program product as claimed in claim 11, wherein, each in the multiple HRTF is by finite impulse
Wave filter FIR is represented；And
Wherein, methods described further comprises：In each in the multiple HRTF perform translation operation come produce by
Another multiple HRTF that infinite impulse response filter IIR is represented.
20. a kind of electronic installation, is configured as in the left and right ear of human listener rendering sound field, the electronic installation bag
Include：
Memory；And
Coupled to the control circuit of the memory, the control circuit is configured as：
Obtain in the response of many head coherent pulses HRIR, the multiple HRIR each with the multiple virtual speaker
One virtual speaker and the ear of the human listener are associated, and each in the multiple HRIR is included in response to by this
Virtual speaker produce tonepulse and produce in left ear or auris dextra with specify sampling rate produce sound field sample；
The first state space representation of each in the multiple HRIR is generated, the first state space representation includes square
It is every in battle array, column vector and row vector, the matrix, the column vector and the row vector of the first state space representation
One has the first size；
Perform state space drop contracting operation to produce the second state-space representation of each in the multiple HRIR, described the
Two-state space representation includes matrix, column vector and row vector, the matrix of second state-space representation, the row to
Each in amount and the row vector has the second slight size bigger than described first；And
Based on second state representation, each generated in many head related transfer function HRTF, the multiple HRTF is right
Corresponding HRIR that should be in the multiple HRIR, the HRTF corresponding with corresponding HRIR be multiplied by it is associated by HRIR corresponding with this
The frequency domain sound field that produces of virtual speaker after produce the component of the sound field rendered in the ear of the human listener.
Applications Claiming Priority (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US201662296934P | 2016-02-18 | 2016-02-18 | |
US62/296,934 | 2016-02-18 |
Publications (2)
Publication Number | Publication Date |
---|---|
CN107094277A true CN107094277A (en) | 2017-08-25 |
CN107094277B CN107094277B (en) | 2019-02-05 |
Family
ID=59328114
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN201710086862.4A Active CN107094277B (en) | 2016-02-18 | 2017-02-17 | For rendering the signal processing method and system of audio on virtual speaker array |
Country Status (2)
Country | Link |
---|---|
CN (1) | CN107094277B (en) |
DE (2) | DE202017102729U1 (en) |
Cited By (9)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN110021306A (en) * | 2018-01-07 | 2019-07-16 | 创新科技有限公司 | Method for generating Custom Space audio using head tracking |
CN110035376A (en) * | 2017-12-21 | 2019-07-19 | 高迪音频实验室公司 | Come the acoustic signal processing method and device of ears rendering using phase response feature |
WO2019227588A1 (en) * | 2018-05-29 | 2019-12-05 | 平安科技（深圳）有限公司 | Voice enhancement method and apparatus, and computer device and storage medium |
CN111295896A (en) * | 2017-10-30 | 2020-06-16 | 杜比实验室特许公司 | Virtual rendering of object-based audio on arbitrary sets of speakers |
CN111445914A (en) * | 2020-03-23 | 2020-07-24 | 全景声科技南京有限公司 | Processing method and device capable of disassembling and re-editing audio signal |
CN111684822A (en) * | 2018-02-09 | 2020-09-18 | 谷歌有限责任公司 | Directional enhancement of ambient stereo |
CN113170273A (en) * | 2018-10-05 | 2021-07-23 | 奇跃公司 | Interaural time difference cross fader for binaural audio rendering |
CN113362805A (en) * | 2021-06-18 | 2021-09-07 | 四川启睿克科技有限公司 | Chinese and English speech synthesis method and device with controllable tone and accent |
TWI775457B (en) * | 2020-05-29 | 2022-08-21 | 大陸商華為技術有限公司 | Audio rending method and apparatus and computer readable storage medium |
Citations (4)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20060045294A1 (en) * | 2004-09-01 | 2006-03-02 | Smyth Stephen M | Personalized headphone virtualization |
CN101040565A (en) * | 2004-10-14 | 2007-09-19 | 杜比实验室特许公司 | Improved head related transfer functions for panned stereo audio content |
US20090232317A1 (en) * | 2006-03-28 | 2009-09-17 | France Telecom | Method and Device for Efficient Binaural Sound Spatialization in the Transformed Domain |
CN104408040A (en) * | 2014-09-26 | 2015-03-11 | 大连理工大学 | Head related function three-dimensional data compression method and system |
Family Cites Families (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US8467552B2 (en) | 2004-09-17 | 2013-06-18 | Lsi Corporation | Asymmetric HRTF/ITD storage for 3D sound positioning |
KR100606734B1 (en) | 2005-02-04 | 2006-08-01 | 엘지전자 주식회사 | Method and apparatus for implementing 3-dimensional virtual sound |
-
2017
- 2017-02-16 DE DE202017102729.5U patent/DE202017102729U1/en active Active
- 2017-02-16 DE DE102017103134.0A patent/DE102017103134B4/en active Active
- 2017-02-17 CN CN201710086862.4A patent/CN107094277B/en active Active
Patent Citations (4)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20060045294A1 (en) * | 2004-09-01 | 2006-03-02 | Smyth Stephen M | Personalized headphone virtualization |
CN101040565A (en) * | 2004-10-14 | 2007-09-19 | 杜比实验室特许公司 | Improved head related transfer functions for panned stereo audio content |
US20090232317A1 (en) * | 2006-03-28 | 2009-09-17 | France Telecom | Method and Device for Efficient Binaural Sound Spatialization in the Transformed Domain |
CN104408040A (en) * | 2014-09-26 | 2015-03-11 | 大连理工大学 | Head related function three-dimensional data compression method and system |
Cited By (18)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN111295896A (en) * | 2017-10-30 | 2020-06-16 | 杜比实验室特许公司 | Virtual rendering of object-based audio on arbitrary sets of speakers |
US11172318B2 (en) | 2017-10-30 | 2021-11-09 | Dolby Laboratories Licensing Corporation | Virtual rendering of object based audio over an arbitrary set of loudspeakers |
CN111295896B (en) * | 2017-10-30 | 2021-05-18 | 杜比实验室特许公司 | Virtual rendering of object-based audio on arbitrary sets of speakers |
CN110035376B (en) * | 2017-12-21 | 2021-04-20 | 高迪音频实验室公司 | Audio signal processing method and apparatus for binaural rendering using phase response characteristics |
CN110035376A (en) * | 2017-12-21 | 2019-07-19 | 高迪音频实验室公司 | Come the acoustic signal processing method and device of ears rendering using phase response feature |
CN110021306A (en) * | 2018-01-07 | 2019-07-16 | 创新科技有限公司 | Method for generating Custom Space audio using head tracking |
CN110021306B (en) * | 2018-01-07 | 2023-12-12 | 创新科技有限公司 | Method for generating custom spatial audio using head tracking |
US11785412B2 (en) | 2018-01-07 | 2023-10-10 | Creative Technology Ltd. | Method for generating customized spatial audio with head tracking |
CN111684822A (en) * | 2018-02-09 | 2020-09-18 | 谷歌有限责任公司 | Directional enhancement of ambient stereo |
CN111684822B (en) * | 2018-02-09 | 2022-03-18 | 谷歌有限责任公司 | Directional enhancement of ambient stereo |
WO2019227588A1 (en) * | 2018-05-29 | 2019-12-05 | 平安科技（深圳）有限公司 | Voice enhancement method and apparatus, and computer device and storage medium |
CN113170273B (en) * | 2018-10-05 | 2023-03-28 | 奇跃公司 | Interaural time difference cross fader for binaural audio rendering |
CN113170273A (en) * | 2018-10-05 | 2021-07-23 | 奇跃公司 | Interaural time difference cross fader for binaural audio rendering |
CN111445914A (en) * | 2020-03-23 | 2020-07-24 | 全景声科技南京有限公司 | Processing method and device capable of disassembling and re-editing audio signal |
CN111445914B (en) * | 2020-03-23 | 2023-10-17 | 全景声科技南京有限公司 | Processing method and device for detachable and re-editable audio signals |
TWI775457B (en) * | 2020-05-29 | 2022-08-21 | 大陸商華為技術有限公司 | Audio rending method and apparatus and computer readable storage medium |
CN113362805B (en) * | 2021-06-18 | 2022-06-21 | 四川启睿克科技有限公司 | Chinese and English speech synthesis method and device with controllable tone and accent |
CN113362805A (en) * | 2021-06-18 | 2021-09-07 | 四川启睿克科技有限公司 | Chinese and English speech synthesis method and device with controllable tone and accent |
Also Published As
Publication number | Publication date |
---|---|
DE102017103134B4 (en) | 2022-05-05 |
CN107094277B (en) | 2019-02-05 |
DE202017102729U1 (en) | 2017-06-27 |
DE102017103134A1 (en) | 2017-08-24 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
CN107094277B (en) | For rendering the signal processing method and system of audio on virtual speaker array | |
EP3351021B1 (en) | Signal processing methods and systems for rendering audio on virtual loudspeaker arrays | |
CN104584588B (en) | The method and apparatus for audio playback is represented for rendering audio sound field | |
KR101325644B1 (en) | Method and device for efficient binaural sound spatialization in the transformed domain | |
Kirkeby et al. | Fast deconvolution of multichannel systems using regularization | |
Tylka et al. | Domains of practical applicability for parametric interpolation methods for virtual sound field navigation | |
WO2014145893A2 (en) | Impulse response approximation methods and related systems | |
CN107851432B (en) | System and method for spatial processing of sound field signals | |
WO2017017262A1 (en) | Method and apparatus for generating from an hoa signal representation a mezzanine hoa signal representation | |
Bai et al. | Development and implementation of cross-talk cancellation system in spatial audio reproduction based on subband filtering | |
Morgenstern et al. | Theory and investigation of acoustic multiple-input multiple-output systems based on spherical arrays in a room | |
CN100444695C (en) | A method for realizing crosstalk elimination and filter generation and playing device | |
US10341802B2 (en) | Method and apparatus for generating from a multi-channel 2D audio input signal a 3D sound representation signal | |
Morgenstern et al. | Analysis of acoustic mimo systems in enclosed sound fields | |
Wang et al. | Compression of head-related transfer function based on tucker and tensor train decomposition | |
Hong et al. | End-to-end sound field reproduction based on deep learning | |
Nelson et al. | The time domain response of some systems for sound reproduction | |
US11381927B2 (en) | System and method for spatial processing of soundfield signals | |
Ohtani et al. | A single-dimensional interface for arranging multiple audio sources in three-dimensional space | |
KR20030002868A (en) | Method and system for implementing three-dimensional sound | |
Ritz | Multizone Wideband Reproduction of Speech Soundfields | |
JP2017050794A (en) | Sound source arrangement determination device, music impression operation device, sound source arrangement determination method, music impression operation method, and program | |
Jo et al. | Inverse Filter Design for Crosstalk Cancellation in Portable Devices with Stereo Loudspeakers |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
PB01 | Publication | ||
PB01 | Publication | ||
SE01 | Entry into force of request for substantive examination | ||
SE01 | Entry into force of request for substantive examination | ||
CB02 | Change of applicant information | ||
CB02 | Change of applicant information |
Address after: American CaliforniaApplicant after: Google limited liability companyAddress before: American CaliforniaApplicant before: Google Inc. |
|
GR01 | Patent grant | ||
GR01 | Patent grant |