CN106815800A - Method and apparatus for controlling spatial resolution in computer systems - Google Patents
Method and apparatus for controlling spatial resolution in computer systems Download PDFInfo
- Publication number
- CN106815800A CN106815800A CN201610139511.0A CN201610139511A CN106815800A CN 106815800 A CN106815800 A CN 106815800A CN 201610139511 A CN201610139511 A CN 201610139511A CN 106815800 A CN106815800 A CN 106815800A
- Authority
- CN
- China
- Prior art keywords
- pixel
- poi
- resolution
- pixels
- resolution ratio
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Granted
Links
Classifications
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T1/00—General purpose image data processing
- G06T1/20—Processor architectures; Processor configuration, e.g. pipelining
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T15/00—3D [Three Dimensional] image rendering
- G06T15/005—General purpose rendering architectures
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06T—IMAGE DATA PROCESSING OR GENERATION, IN GENERAL
- G06T2210/00—Indexing scheme for image generation or computer graphics
- G06T2210/36—Level of detail
Abstract
A kind of computer implemented method produced in a graphics system for the output pixel for showing, wherein step include performing Rendering operations to one or more pixels, wherein described Rendering operations comprise the following steps：Using POI analyzers determine it is following one or more：A () pixel is information pixels POI or non-information pixel PNOI；B () is the POI resolution ratio different with PNOI selections.
Description
Related application
The application is that the part of the U.S. Patent application of the Application No. 14/596,309 submitted on January 14th, 2015 connects
Continuous application, entire contents are fully incorporated the application by citation herein.
That related to the application is Publication No. US2013/0176322, entitled " Application-Transparent
Resolution Control by Way of Command Stream Interception are (by command stream interception mode
Controlled using transparent resolution ratio) " U.S. Patent application, entire contents are incorporated herein by citation herein.
Technical field
The present invention relates in imaging application, lift the Consumer's Experience being closely related with image resolution ratio.
Background technology
Publication No. US2013/0176322, it is entitled " to be controlled by the transparent resolution ratio of the application of command stream interception mode
(Application-Transparent Resolution Control by Way of Command Stream
Interception the) " patent application of (hereinafter referred to as " resolution ratio control ") discloses an independent software program, the program
By configure can be dynamic, seamless between graphical locally applied based on CPU and GPU operation and switching, and wash with watercolours
Dye graphically is ordered to reach on screen or screen buffer one purpose of image of establishment.Above-mentioned resolution ratio control application
In, the dynamic resolution corrector between CPU and GPU is as shown in Figure 4 B.If without such software program, GPU is by base
Image is rendered in instruction input stream and tinter stream, just as the image generated as the native applications based on CPU.
By setting the dynamic resolution corrector between CPU and GPU, it receives one and is generated by local application
Instruction and tinter stream as input, rather than the local data flow of the 3D interfaces for flowing to GPU.Then they are intercepted
With analyze and based on different considerations, such as Consumer's Experience, heating grade, frame rate, power consumption or battery electric quantity, thus it is possible to vary
Some or all of these orders and/or tinter, these can show on the right side of Fig. 4 B to graphically.Revised instruction
And/or tinter stream can be produced by a spatial resolution controller, be then communicated to GPU for rendering, this is instead of
Originally by the traditional instruction and the mode of tinter stream produced by locally applied on CPU.By this way, software program pin
Each frame, each resource to image, control and change resolution ratio dynamically, in realtime.Therefore, it has the ability to be differentiated in one kind
Certain resource sample is gathered in rate, and is written into different resolution ratio.
Those skilled in the art generally believe from/point to a single resource or from/point to multiple resources in, read
It is required with writing.When whole application is 3D or 2D, the resolution ratio for reducing resource can be ordered by changing API
Order, only renders a part for this resource to realize.Due to locally applied state, the hardware of locally applied operation or other
System resource generates change, then the resolution ratio of this frame or resource may expand again.By dynamic resolution
The resource that corrector was changed is by no longer with before by the original resolution of locally applied generation.Equal proportion amplifies what is changed
Resource needs appropriate sampling and Rendering, to keep Consumer's Experience to be on predefined threshold value.This looks squarely aobvious to 2D
Show most important for device (Heads Up Displays, HUD) resource and other resources.
Meanwhile, in the prior art, reverse sawtooth (AA) mechanism is known, such as super sampling (SSAA) and multiple sampling
(MSAA) etc..As one of skill in the art will recognize, this mechanism at least gathers a sample for point from the pixel of resource,
Be then based on coverage and block criterion to the original polygon to be rendered can come calculate these pixels in rendering resources
Opinion property.The original polygon such as triangle or line segment has intrinsic discontinuity.No matter how sample rate selects, and will all cause not
Evitable sawtooth.The latticed sampled point that AA softwares are created in the pixel of the resource to be sampled.Such a grid
1,2,3,4,5,6,7,8 or more sampled point is potentially included in each pixel.Additionally, the spatial distribution of these sampled points can
Can be along the x and y-axis or any anglec of rotation of pixel.For example, a kind of known technology, such as MSAAX4 may be adopted
With 4 sample spots of each pixel, and 45 degree of grids at angle are rotated relative to pixel main shaft.Statistics shows, by using one
Individual rotation grid has more preferable sensitiveness when detection Geometry edge is realized.In the practice of this embodiment, each pixel has four
Individual sample point.Next this four data sets of point are used for rendering this sampled pixel.Any pixel in former resource, will
It is rendered into a new pixel for new resources.It is noted, however, that the resolution ratio of final resource does not change.This is one simple
Pixel to pixel conversion.The sole purpose of this mechanism is to reduce sawtooth.The method for reducing sawtooth is average each pixel
Sampled data points.Once average data point, original sampling data will disappear, and use these data never again.
SSMA increased the system processing cost for rendering, and it has been rarely employed now.On the other hand, MSAA needs less system money
Source is simultaneously widely used in the purpose of antialiasing.Here there is an article for being discussed in detail MSAA " MSA brief introductions (A Quick
Overview of MSA) ", as written by Matt Pettineo, on October 24th, 2012 publishes.
The content of the invention
On the one hand, by the computer implemented method that output pixel is produced for graphics system, comprise the following steps：From
Graphics system receives one or more input pixels；Rendering operations are performed in one or more of pixels, wherein the wash with watercolours
Dye comprises the following steps：Selecting one or more will increase the information pixels of resolution ratio；Define a sampling grid or sampling side
To；Multiple repairing weld is carried out to the one or more of information pixels with first resolution and multiple sampling point；Collection comes from
The information of each sampled point；Information is stored using each sampled point as virtual pixel；The resolution ratio of one or more pixels is defined,
Make its holding consistent with the resolution ratio received from graphics system or consistent with the resolution ratio to be reduced；And displayable
Buffering area outside frame or picture, spatial cue pixel is realized by the way that each virtual pixel is rendered into physical picture element,
To bring the resolution ratio higher than its first resolution.
On the other hand, the computer implemented method of above-mentioned use is further included：Institute is rendered in second resolution
One or more pixels are stated, wherein described second resolution is by one or more the pixel wash with watercolours in one or more of pixels
The increased pixel of resolution ratio is dyed, by other pixel rendering in one or more of pixels into resolution ratio reduction or identical
Resolution ratio, wherein the total resolution of one or more of pixels due to one or more of pixels first resolution；
One or more pixels in the second resolution are assessed so as to form one or more output pixels；And, can show
Frame or picture outside buffering area in show one or more described output pixels.
On the other hand, it is above-mentioned to include receiving one or more for coming from graphics system using computer implemented method
Input pixel；Rendering operations are performed to one or more of input pixels.Described rendering comprises the following steps：Selection information
Pixel；Define a grid for sample point；Perform sampling；Sampling information is collected from each sample point；By each sample point
Sampling information is stored in virtual pixel；And, virtual pixel is rendered as single pixel in pixel queue.
It is above-mentioned that following steps are further included using computer implemented method in further：Walked in definition
After rapid, at least one Consumer's Experience factor does not set up minimum threshold to collect Consumer's Experience factor；And, based on it is described at least
One threshold value, makes Consumer's Experience be maintained on the threshold value set up.
In one aspect, it is above-mentioned using in computer implemented method, wherein described for experiencing selected from including with next
Individual or Multiple factors：Frame rate, heating grade, response speed, battery electric quantity and Power Level.
Additionally, on the other hand, including for a kind of computer implemented method for producing output pixel in a graphics system
Following steps：Receive one or more the input pixels from graphics system；One or more of pixels are performed and renders behaviour
Make.Described rendering is comprised the following steps：Define the first grid of the sample point of one or more pixels；Define one or more
Second grid of the sample point of pixel；In the one or more of pixel samplings of the second grid squadron of sample point；Analysis is described
One or more pixels with the first grid and the second grid, are rendered to receive metadata (meta data)；With
And render one or more of pixels.
On the other hand, it is further comprising the steps using computer implemented method：In the first net to sample point
First grid of rotated sample point before the step of lattice are sampled.The spin step refers to rotating less than the first grid
90 °, preferably about 45 °.
In further, include for the computer implemented method for producing output pixel in a graphics system following
Step：One or more input pixels are received from graphics system；Rendering operations are performed to one or more of pixels.It is described
Render and comprise the following steps：Selecting one or more will increase the information pixels of resolution ratio；Define a sample grid or
Sample orientation；Multiple repairing weld is carried out to one or more information pixels with first resolution and multiple sampling point；From each
Information is collected at sample point；Each sample point is usually stored into its information as virtual representation；Define one or more non-information pictures
Element；One or more non-information pixels are individually sampled from an independent sample point；And, in displayable frame or picture
Outer buffering area, realizes rendering one or more information pixels by the way that each virtual pixel is rendered into physical picture element,
To bring the resolution ratio higher than first resolution.
On the other hand, using computer implemented method, also including by one or more non-information pixel-expansions to many
In the individual information pixels with higher resolution so that each non-information pixel can copy to the thing as its original pixel
In reason pixel.Additionally, methods described also includes for one or more non-information pixel-expansions thering is higher resolution to multiple
In information pixels so that at least one non-information pixel can be converted into the physics different from its original pixel by reverse sawtooth algorithm
Pixel.Reverse sawtooth algorithm include it is following in one or more algorithms：Nearest neighbor algorithm (nearest neighbor), bilinearity
Algorithm, Lanczos algorithms, B-spline algorithm, Mitchel algorithms or Gauss method, while reverse sawtooth algorithm will can close on
Information pixels are taken into account.
On the other hand, a non-flash computer-readable medium, stores one section of program so that graphics processing unit thereon
(GPU) it is called so as to perform image procossing, described treatment is included in one or more pixels and performs Rendering operations.It is described
Render and comprise the following steps：One or more input pixels are received from graphics system；Wash with watercolours is performed to one or more pixels
Dye operation, wherein render comprising the following steps：Selecting one or more will increase the information pixels of resolution ratio；Define sample grid
Or sample orientation；Multiple repairing weld is carried out to one or more information pixels with first resolution and multiple sampling point；From
Information is collected at each sample point；Each sample point is usually stored into its information as virtual representation；Define one or more pixels
Resolution ratio, make its holding consistent with the resolution ratio received from graphics system or consistent with the resolution ratio to be reduced；And,
Buffering area outside displayable frame or picture, realizes rendering by the way that each virtual pixel is rendered into physical picture element
Information pixels, to bring the resolution ratio higher than first resolution.
On the other hand, include for processing the system of graphical content：The graphics process list of one or more pixels is provided
First (GPU)；The memory of non-flash, it includes instruction, when it receives one or more pixels from GPU, institute
State and indicate for processing one or more described pixels so as to produce one or more output pixels；Described instruction is used for
Rendering operations are performed in one or more pixels.Described rendering comprises the following steps：Selecting one or more will increase resolution
The information pixels of rate；Define sample grid or sample orientation；To with first resolution and multiple sampling point or many
Individual information pixels carry out multiple repairing weld；Information is collected from each sample point；Each sample point is usually stored as virtual representation
Its information；The resolution ratio of one or more pixels is defined, makes its holding, Huo Zheyu consistent with the resolution ratio received from graphics system
The resolution ratio to be reduced is consistent；And, the buffering area outside displayable frame or picture, by by each virtual pixel wash with watercolours
Contaminate in physical picture element to realize spatial cue pixel, to bring the resolution ratio higher than first resolution.
On the other hand, in a graphics system for producing the computer implemented method for the output pixel for showing, its
Step includes：Rendering operations are performed in one or more pixels, and described rendering comprises the following steps：Use information picture
Plain (POI) analyzer confirms one or more：A () whether pixel is information pixels POI or non-information pixel PNOI；B () is
Information pixels POI be the different resolution ratio of non-information pixel PNOI selections.
On the other hand, described method further includes to be performed after completion is rendered and stretches-remap
(stretcher-remapping) step.Before shown, rendered in the buffering area of required final resolution ratio.
On the other hand, described information pixels POI analyzers be it is fixed or programmable in one kind.If described
POI analyzers be fixed, one or more parameter in can calling from parameter list.If described POI analyses
Device is programmable, can call pixel resolution tinter.
Described method can be realized using non-flash computer-readable medium, and one section of program is stored thereon so that figure
Above-mentioned steps are performed as processing unit.Described method can be realized using dedicated computer hardware unit, it is possible in list
One passage is realized or realized in multiple passages.Described stretching-remap step can be fixed or programmable.
Brief description of the drawings
Fig. 1 shows series of steps of the present invention in implementation process.
Fig. 2 is patterned to illustrate the method for sampling of the invention.
Fig. 2A and 2B are illustrated based on stretch function of the invention.
Fig. 3 is patterned to illustrate sample grid analysis process of the invention.
Fig. 3 A illustrate the embodiment that the sample lattice array of 2 × 2 is rotated.
Fig. 4 shows more multi-step of the present invention in implementation process.
Fig. 5 shows the dynamic resolution scaling of image.
Fig. 6 shows the spatial resolution of image of the invention.
The patterned comparative results for showing dynamic resolution and spatial resolution of the invention of Fig. 7 A to 8B.
Fig. 9 A show a scene, and with addition of the pixel resolution stage, it passes through pattern and parameter (or only
ON/OFF) fixing function or be programmable to control.
Fig. 9 B are illustrated that stretching-re-mapper stage, its fixing function for passing through pattern and parameter (or only ON/OFF) or
It is programmable to realize.
Figure 10 shows the embodiment of the operating process of POI analyzers of the invention.
Figure 11 A, 12A and 13A show the implementation process of hardware in the prior art.
Figure 11 B to 11E, 12B to 12D and 13A to 13D are illustrated that the embodiment of prior art with the addition of the present invention
POI analyzer modules and/or stretching/re-mapper module improvement project.
Specific embodiment
The dynamic resolution of one resource or frame be it is instant being identified and rendering, just resolution ratio described above control is special
As being disclosed in profit application, it is considered as an entirety, such as resource resolution ratio or frame resolution ratio, and it can not only be subject to one
The influence of a little factors, such as overall customer experience, preferably play index (playability), energy-conservation, frame rate, response performance, carry out wash with watercolours
The power consumption of dye, heating grade and topmost --- visual experience quality, and it can also influence above-mentioned these factors.
By contrast, in the present invention, be can see by way of embodiment, the information area (areas of resource or frame
Of interest) there are many edges (this can regard the relatively rapid change of color or brightness as), will be to visual experience matter
Amount is produced a very large impact, because if edge is apparent, people perceive the inside that will exceed image rendering to edge, then
These edges with resolution ratio higher will carry out instant detection and analysis and dynamically render.Particularly Geometry edge,
Because what is rendered is a polygon edge, therefore it is an importance, is preferably able in these Geometry edge parts
Of a relatively high resolution ratio is provided.The people that geometric figure is observed on computer or other screens may notice that edge is imitated
Should, this is because the sawtooth quantity shown along edge causes.
The present invention also includes, it is desirable to provide a kind of methodology for changing resolution ratio, can come on the basis of single pixel
Relatively sharp edge is rendered, while can also be as economizing on resources as discussed above.Therefore, although so-called locally applied journey
Sequence renders whole image with identical level of resolution, but, rendered edges area of the present invention ratio renders the remaining area of image
Domain (such as polygonal inside) uses resolution ratio higher, because, as it was previously stated, in the relative reduction of non-edge sharpness
It is unconspicuous for observer, this will be discussed below, demonstration effect is as shown in Fig. 7 A and 8B.In the present invention, it is right
In the pixel on edge, it is rendered by " input " is more, so that higher resolution is rendered.This mode is by right
Edge pixel carries out multiple sampling, and each sampled point then is converted into a single pixel to realize.Another is implemented
Example is, when a light-emitting zone is detected, brighter region to be rendered with resolution ratio " input " higher, with relatively low resolution ratio wash with watercolours
The dark region of dye.Another embodiment is that detection image is rotated and direction of observation becomes in virtual reality (VR) device
Change, the resolution ratio that " input " is improved on the moving direction of player, and in the opposite direction, wash with watercolours is carried out with relatively low resolution ratio
Dye.
According to an aspect of the present invention, information pixels POI is to carry out multiple sampling, is then carried out with resolution ratio higher
Render.Such high-resolution, is at least partially based on the information obtained from least one of sampled point.For this application
Purpose, as a non-limiting embodiment, POI be probably clear zone rather than dark space, vice versa；Edge, is not only
Geometry, and in polygonal internal, such as fragment shader of texture edge or complexity；POI is based on virtual shooting
The definition of the machine direction of motion, angle, speed and/or acceleration, be gradual change and angled.For example, if player to
Turn right, then POI is probably the pixel of screen right area；The region of multiple object movements can be identified and be defined as POI
Confrontation domain, it is more static；The central field of screen or scene can be defined as POI；Head-up display (HUD) region can be with
POI is defined as, although edge is not geometry, it is also possible to show in high-resolution form；It is text filed to be defined as
POI；Pixel is close to focal plane or virtual video camera；Key element in scene, for example, for example, the role of selection, hand,
Rifle or the object of selection, such as in CAD, medical treatment, education or other application programs, it is also possible to be defined as POI.POI can be with
It is selected as the object with virtual video camera relative close；The percentage of POI occupied screens when can be rendered by object
Determine；POI can be selected as the cursor of user；Both can be with reference to POI masks (a reference POI mask)
One single resource, or the rendering resources of inside.The mask can be contained in some of rendering resources component
In (such as α) or other metadata；While the application program transparency is kept, it can be given birth to by spatial resolution controller
Into, or break the transparency of application program, can be obtained by the API of operating local program.POI can also be above-mentioned
Any combination.
The present invention using from the sample information gathered in resource pixel, so as to by the resolution extension of the pixel to rendering
In resource.More particularly, the present invention takes orientation sampling mechanism, such as in MSAA, the simply quilt of multisample sampling needle pair
The pixel of POI parts as defined above is regarded as, is converted to by each sampled point in a pixel resource and is rendered money
Independent pixel in source, to increase the resolution ratio of many sampled pixels.
According to another aspect of the present invention, in addition to Geometry edge, different types of pixel can be oriented for many
Resampling, is then rendered with resolution ratio higher.The characteristics of rendering frame is that have high-resolution along Geometry edge, non-several
The region at what edge has low resolution so that Consumer's Experience is maintained on predefined threshold value, and this is of the invention another
On one side.According to another aspect of the present invention, sampling grid has main shaft, and it is parallel with the main shaft of sampled pixel, can
To reduce frame component or calculated load using this feature.
According to an aspect of the present invention, as shown in the flowchart of fig.1, the subset of selected resource pixel is using multiple
Sample mode.The selection of such pixel subset can be completed based on algorithm well-known to those skilled in the art, such as MSAA：
One sub-pixel sample of shake sub-pixel, sub-pixel sample number, sub-pixel sample are controlled using sub-pixel offset value program
Density or spatial distribution.Another MSAA technology well-known to those skilled in the art is exactly：According to the polygon for currently rendering,
For all sampled points create virtual pixel, the sample coverage in virtual pixel is then calculated.If sent out in the polygon
At least one sample is showed, has also there is at least one sample outside polygon, it has just belonged to a class of many samplings of needs.Also one work
The technology of name, general (transparent) is rendered to be rendered with special α-test and is combined together by it, can effective solve problem,
It is referred to as " Alpha's covering ", it can emulate geometric detail, therefore tree-like image can also use this technology.
MSAA algorithms are capable of identify that the pixel subset positioned at Geometry edge.Also one alternative particular algorithm can be used
In other subsets of identification POI.In order to check and determining whether the pixel is an information pixels, these algorithms can be parsed entirely
The order relevant with pixel of portion or part or tinter stream.Additionally, these tests can be based on a predefined preset parameter
Perform, for example, coverage or occlusion area in order to determine pixel, can on certain predetermined point resolve command.Can
Replace, these tests can also be performed in the way of a more dynamical, for example, deciding whether an extra survey
During examination, the result of test for the first time can be used.According to another aspect of the present invention, when level of resolution is higher than predetermined resolution threshold
During value, the image in buffering area and HUD outside screen, printer, screen can be rendered by GPU.When consider these parameters such as
When frame rate, heating grade, delay, user input, power consumption levels or electricity, in order to ensure that Consumer's Experience is higher than predefined threshold
Value, resolution threshold is probably a dynamic threshold value.Additionally, just as well-known to those skilled in the art, for wash with watercolours
The new resource of dye, may use multiple resources.Another it is well known that：One of one single resource or single resource
Point, it is necessary to by rendering more than once, can just become multiple resources.Therefore, according to this aspect of the invention, from whole frame
From the perspective of frame or one group of resource, when an algorithm is used for information pixels subset, one or more resources can be selected
All pixels carry out multiple sampling.
With reference now to Fig. 2, once a pixel has been chosen to be multiple sampling, the algorithm defines sampling grid, at this
In individual embodiment, and shown in 2 × 2 grids, grid is parallel to the main X-axis and Y-axis of physical picture element.Sampled point
Number be probably it is arbitrary, such as 4,6,8,9,12,16.The number of sampled point may be preset by system, or according to test
The result of all features of pixel determines.Further, since have collected information from previous sampled point, the number of intelligence sample point can
It is defined or changes with according to collection result is instant.For example, algorithm may within the pixel preset an individually sampling
Point.This point is likely located at any other position in the center of pixel, the square central of pixel or pixel.Based on sample collection
Information, in order to carry out second sampling process, algorithm may increase the quantity of sampled point and/or expand sampled point or grid
Direction scope.For certain point, this process is probably continuous repetition, until system is to the sampling number in pixel
Amount and its spatial distribution make final decision.It is noted that by comparing and analyzing in pixel or between the pixel closed on
Sample information, it becomes possible to make such decision.Once system defines the quantity and sample types of sampled point, system is just to this
A little points carry out all or part of sampling.According to an aspect of the present invention, when determining whether a pixel must carry out many samplings,
The parameter and standard for needing to be checked, the information needed for perhaps finding them and realizing system next step target should be analyzed
And differ.In this case, in order to collect more information, system is entered to I haven't seen you for ages to these points or other parts put
Row is resampled.However, according to another aspect of the present invention, during it is determined which pixel must take many samplings,
The system may find that it is sufficient for ensuing target by the information wherein collected of analysis, thus avoid the need for it is right
They carry out resampling.System will Preservation Metadata, it is that each sampling of virtual pixel is checked and accepted from GPU core buffers
Collection.Can find out from the embodiment shown in Fig. 2,4 sampled points of a line-sampling mess generation for 2 × 2 sizes.For
Each sampled point, using a virtual pixel, to preserve the metadata collected from sampled point.In this embodiment, may be used
Covered by polygonal side with the sampled point for finding square, and the sampled point in 1,2 and 3 is not covered by original line segments edge
Lid.As it appears from the above, compared with by the covering of polygon geometrical edge, uncovered sampled point associated metadata can be comprising extra
Information.
According to another aspect of the present invention, also with reference to Fig. 2, the metadata based on them is at least part of virtual
Pixel is rendered into a single physical picture element, and it is in one group of pixel related to original many sampled pixels.With this
Mode, according to different standards is many samplings in the information pixels that previous step is selected by system, then with high-resolution
Form render.Unrestricted embodiment according to Fig. 2, the sampling grid of 2 × 2 generates 4 sampled points, when every
When individual virtual pixel is rendered into the single pixel rendered in image, 4 sampled points may translate into 4 virtual pixels.
It is noted that according to other aspects of the invention, if the system determines sampling and abandons data or will be individually empty
Intend pixel and be supplied to sampled point, then the number of sampled point may be different from the number of virtual pixel.It is also possible to virtual representation prime number
Amount is different from the physical picture element quantity for being rendered in image or being parsed.Being discussed further below will be it is considered that the system
May selection abandon a sampled point, or by 2 or multiple virtual pixels are combined into a single virtual pixel.It is discussed below
It is further possibility, the system determines a physical picture element not to be supplied into existing virtual pixel.
With reference now to Fig. 2A, the remapping of spatial resolution controller-stretch order, this is two sides of the invention
Face, is embodied in non-limiting example, exactly 2 × 2 array of pixels is dynamically converted into 4 × 4 high-resolution array,
Just as local application generation.In this example, original pixels A is defined as POI, takes multiple sampling to obtain 2 × 2
Grid, be respectively A1, A2, A3 and A4 point.To point A1, A2, A3 and A4 are analyzed, and they are stored at one 2 × 2
In virtual pixel grid.Each in true picture virtual pixel can be become physical picture element, the 4X4 in such as Fig. 2A by mapping function
Fine-resolution meshes A1, A2, A3 and A4 point.In order to avoid image fault and artifact, stretch function is to the pixel B of source material, C
Extended with D and adjusted.These pixels are defined as non-information pixel (Pixels Not Of Interest, PNOI).Make
It is PNOI pixels, B, C and D do not take multiple sampling.These pixels are adopted by the single sampled point positioned at pixel center
Sample.Each pixel is rendered into new resolution ratio, and this embodiment the inside is twice resolution ratio --- for example：Each 1 × 1 number
Group is converted into 2 × 2 high-resolution array.Therefore, each PONI pixel B, C and D must be respectively converted into figure by stretch function
2 × 2 pixels specified in 4 × 4 arrays of 2A：B`, B``, B, B,, C`, C``, C, C,, D`, D``, D, D,.According to this
The one side of invention, PONI is stretched using in the following manner：The pixel of each stretching is equal to its original pixels, example
Such as：Pixel B `, B``, B, B, it is to be equivalent to their original pixels B.However, according to another aspect of the present invention, for example,
Stretch function uses such mode in stretched pixels B：Not every pixel B `, B``, B, B, all it is equivalent to him
Original pixels B, or even their all non-equivalences are in pixel B.Additionally, stretch function is in treatment pixel B `, B``, B,
B, when the different rule of possible application, therefore their similitude may travel through identical or different fully intermeshing.Stretch function
It is probably a function with different parameters, these parameters may influence its stretching rule.This respect of the invention
One embodiment, a stretch function is also used as reverse sawtooth function, is applied to the borderline region between POI and PNOI.
In this embodiment, when need consider neighborhood pixels A2 features it is regular when, stretch function may rendered pixel B`.
According to another regulatory, when the second degree contacts (a second degree of contact) for considering pixel, such as pixel
A3, even three-level contact (a third degree of contact), when such as pixel A 1, may rendered pixel B`.
Relation between at least 2 strings of pixel with different stage contact can be by analysis, for determining and keeping image
Gradient or trend, it is also possible to be broken down into stretch function based on space linguistic context, influence the new pixel of any non-information to render spy
Levy.For this aspect of the invention, neighbour is included well known to a person skilled in the art the non-limiting method for interpolation,
Bilinearity, Lanczos, B-spline, Mitchel or Gauss method.
What Fig. 2 B were represented is another embodiment, and it has 3D resources, similar with the embodiment in Fig. 2A, however, in figure
In 2B this embodiment, pixel B is defined as POI, and pixel A, C and D are PNOI.In this case, 3D resources is original
Resolution ratio is 2 × 2 × 2, and the resolution ratio that renders of selection is 4 × 4 × 4.It is noted that any aspect of the invention can
Controlled by different processing units such as GPU or CPU and implemented.Therefore, in order to improve or optimizing Consumer's Experience factor, this invention
Can apply to render rear buffering area；And/or in order to analyze resource characteristicses or frame characteristic, can be by the wash with watercolours to any buffering area
Dye, blocks or other factors so as to recognize.It can be rendered to the outer buffering area of screen, and this buffering area has various
Purposes, one of them unrestricted embodiment is depth map, and it carrys out render scenes from the angle of light, and allows to be final figure
As addition shade.Another non-limiting example is HDR effects, and in order to store the bulk information of each pixel, it is used
The outer buffering area of multiple screens, the final scene image of generation is processed by the later stage.Turning now to the embodiment for blocking identification, pass through
Solve which pixel is blocked, spatial resolution modifier can preferably process and optimize system resource, it is not necessary that again to him
Put into extra calculating.When analysis resource or frame feature, the resource of frame can be rendered into any buffering area, for example,
Occlusion test can be completed based on the native application resolution ratio with low resolution.In any case, the present invention
At the aspect of selection POI and PNOI, in order to improve the occlusion detection completed by GPU, CPU or other special GPUs
Effect, can using the multiple sampling POI that can obtain more Pixel Informations and by resolution ratio higher rendered come
Realize.
As described above, for each sampled point, in order to collect and analyzing the metadata related to sampled point, the system will
Parsing or the command stream and tinter stream of all or part of pixel (at least in the position of sampled point) of calculating, and in other situations
Under, only partial order stream or tinter stream (if any) have to solve.
In order to increase a resolution ratio for pixel subgroup for generating image, system can optionally put into and calculate and it
His resource, therefore the one side of invention allows dynamic and instant management resource, so as to other users experience influence because
Element is combined together, and it is higher than predefined threshold value to keep overall customer experience with this.
According to another aspect of the present invention, as shown in figure 3, first sampling grid is used to analyze in the pixel of resource
One or more regions, and second sampling grid is used to collect the metadata needed for rendering.In order that multiple sampled points are from one
Individual single pixel rendering is into one group of pixel, while the integrality of image is kept, between sampled point and its related rendered pixel, must
Must there are a direct geometry and spatial relationship.According to this embodiment, first 2 × 2 sampling grid is relative to original pixels
Main X-axis and Y-axis have rotated 45 °.Therefore, if these sampled points for rotating through directly are rendered into the straight of 2 × 2 physical picture elements
In final image where linear array, it will cause the distortion of image.However, in some cases, in order to analyze pixel, using
The grid of rotation or other grids, can preferably measure the characteristic of pixel.However, as described above, when with resolution ratio higher
When rendered pixel, these information are probably imperfect.Therefore, according to an aspect of the present invention, system sample point
The first network analysis pixel, then using sample point the second grid collect information, at least realize rendering for partial pixel.Figure
The flow chart of this process is illustrated in 4.This is the reality that famous MSAA technologies are applied and are combined in the present invention
Apply example.Fig. 3 A are exactly another embodiment of above-mentioned combination, and the 2 × 2 of rotation sampling lattice array is shown in wherein block A`.Root
According to this embodiment of the invention, using such a array, first of all for one pixel samples of collection, to reach using public
MSAA2 × 2 method known realizes the purpose of reverse sawtooth, second, it is virtual using the information creating being collected into from sampled point one
Pixel, then improves the resolution ratio of original pixels, and virtual pixel is rendered into one really by spatial resolution system
Pixel.Block B` in Fig. 3 A describes another non-limiting embodiment, and it illustrates another way, using known
The direct sampling array in MSAA2 × 2 applies new spatial resolution system.As embodiment above, first sampled data
Point be used to train antialiasing, then create a virtual pixel using identical data point, and it can be rendered into a thing
Reason pixel, to improve the resolution ratio of original pixels.Block C` in Fig. 3 A describes another non-limiting embodiment：How
Current invention is integrated and put into practice using antialiasing method.In this embodiment, there is the straight of 2 × 2 sampled point of top layer
Linear array, and each sampled point is made up of the rotation sublayer sampling array of another subarray of 2 × 2 sampled points.According to this reality
Example is applied, as art personnel are familiar with, all sampled points can be used for antialiasing, and each sampled point
Gyrator level subarray can be averaged, or calculated or used, to create a dummy general sampled point as top
A part for layer rectilinear grid.As described above, the universal sample point of such a rectilinear grid can be used to create a void
Intend pixel, it can be rendered to a physical picture element to strengthen the resolution ratio of original pixels.It is noted that can be by many
Other arrays and group of subarrays altogether, may each have different samplings in the subarray of one, two, three or more layers
Point quantity and spatial distribution.In order to the subarray of sampled point is converted into dummy general sampled point, different methods can be used.
Additionally, the spatial resolution system related to certain aspects of the invention can apply some known antialiasing methods, such as
Super sampling method or other methods.
Referring now to Fig. 5.As subject of the present invention, spatial resolution controller can in computer based CPU and
Run on the local graphics application program of related GPU, and being capable of seamless therebetween, dynamic switching.Of the invention one
Individual aspect is to set up the minimum threshold of Consumer's Experience, and keeps Consumer's Experience to be on above-mentioned threshold value.Because Consumer's Experience is
Factor determined by above-mentioned multiple parameters, according to an aspect of the present invention, system can be when parameters be weighed, dynamic
Ground, according to actual conditions change a part of parameter of wherein at least.In this process, for example, the system can improve frame rate,
Resolution ratio is reduced simultaneously.The whole ecosystem and/or the application program operation of application program are performed due to native application
Hardware environment may change, in order to be continually changing and optimize Consumer's Experience, controller in harsh environment such a
Different decisions may be made.Fig. 5 shows the implementation that a resource in primitive frame will be rendered in the next frame
Example.This is probably the resource had used resolution ratio higher than it in former application program, and Systematic selection is reduced
Resolution ratio.This information has been lost now.Such selection is likely to be to increase frame rate or consuming less electricity.It is existing
System needs to readjust this resource to adapt to new frame ratio.As one of skill in the art will recognize and point
Disclosed in resolution control application, there are various methods resource can be extended into bigger scale.This would generally reduce resource
Picture quality, overall customer experience may be injured.The present invention takes detection, multiple repairing weld in this regard, with more high score
This mode of resolution spatial cue point, extend resource during dynamic resolution processes.In this fashion, system may
Some processing costs can be put into key areas such as edge, bright areas, forward directions, to keep or improve overall customer experience
Within threshold range in the definition of Consumer's Experience collection.
Referring now to Fig. 6, in the described embodiment, the resource in former frame may be rendered in the next frame.With Fig. 5
In embodiment it is different, this example controls the dynamic resolution algorithm disclosed in application using resolution ratio.Conversely, at this
In embodiment, the whole resolution of source material is equal with the whole resolution that it is rendered in new frame.For this reality
Apply example, the whole resolution of resource be by the available whole pixels of whole frame or resource, resource consumed related like
Prime number amount is defined.In this embodiment, because the number of all available pixels on screen is equal, resource is previous
Physical size between frame and next frame is not changed in.However, according to this aspect of the invention, the spatial resolution in resource
It is probably different between different zones.Based on this respect of the invention, system can keep not the whole resolution of resource
Become (not using dynamic resolution algorithm).However, the system may render some information areas with resolution ratio higher
(areas of interest).In order to keep the whole resolution of resource consistent, system also need to similar ratio by other
The resolution ratio reduction in region.Pixel budget in resource compute and compensate between zero-sum game can by resource base,
Or one group of resource base, or the basis of whole framework carries out.The pixel budget of above-mentioned zero-sum (sum zero) is computed and compensated for
Border can be by any quantity or the Consumer's Experience factor and its minimum value of combination, or by its maximum, or by needing or permit
Perhaps value or scope are defined.The value of above range by spatial resolution controller, or may pass through control by user, or programmer
Panel processed is defined, and this will be described further below as another aspect of the present invention.
Turning now to Fig. 7 A, 7B, 8A and 8B, these figures are illustrated and use primary high-resolution, dynamic resolution and space
Resolution ratio carries out the exemplary comparative result of image manipulation, and wherein spatial resolution is subject of the present invention.Such as Fig. 7 A and 7B, height
The image of resolution ratio it is relative show " sharp " side 102 and small " ladder " 104.Using dynamic resolution algorithm process this
As shown in Figure 7 B, wherein edge 106 is relatively fuzzy for the result of one picture, the number of " ladder " 108 rank also more relative than in Fig. 7 A
Ladder 104 will lack.
Turning now to Fig. 8 A and 8B.Similar to Fig. 7 A, Fig. 8 A are primary high-resolution results.On the other hand, Fig. 8 B show
Show and used the result of spatial resolution algorithm process image of the invention.It is worth noting that, edge 110 is as in Fig. 8 A
Sharply, the number of " ladder " 112 is also identical with Fig. 8 A.It is lively intuitively to understand using spatial resolution algorithm of the present invention
Benefit.
Another aspect of the present invention be using it is described below, by GPU resource or frame are rendered into any frame buffer zone
Or an element directly displaying or any element combination, use can process figure CPU or any general processors,
Or application specific processor renders any frame buffer zone or display, for example, it is exclusively used in processing the treatment of ray tracing or path trace
Device, or it is configured as carrying out any processor of this treatment.Another aspect of the present invention is by multiple processors, such as
CPU, GPU, or different combination are processed, and no matter they are independence or integrated processor.
Invention of the present invention can on a general-purpose computer be realized by computer program, it is contemplated that the invention purport
Realized by the combination of different software, firmware or hardware, for example, user interface and/or control panel, and be designed to
Using graphics system end user or using graphics system developer, or both have both.It is nonrestrictive according to one
Embodiment, the present invention illustrates a use and changes the embodiment of the API rendered by DirectX below.At this
Local application in embodiment can using DirectX API, when DirectX runs can with GPU manufacturers (such as NVIDIA or
AMD the drive module exchange for) providing.Sent out in the D3D11_TEXTURE2D_DESC orders of multiple sampling antialiasing (MSAA) algorithm
When being sent to CreateTexture2D () function, the variable of SampleDesc types can be included.This SampleDesc types include
Two parameters：The sample size of each pixel is counted-defines, quality-control is determined by other behaviors that supplier defines, if not
Same sampling configuration.According to another unrestricted embodiment that the present invention is described below, a local application is used
OpenGL API, typically by a very thin layer, simply simply the driver that GPU manufacturers provide is called is carried out
Redirect.New function can be added to GPU by adding OpenGL/GLES expanding packets.Developer can be by special
With interface requests and calling, end user can also be changed by special purpose interface, define or control this supported extension.This
The described non-limiting method of invention and embodiment can be changed or combine in all or part of scope.
Embodiment A：
On the upper strata of DXGI_SAMPLE_DESC types, CreateTexture2D functions can also receive a new parameter,
DXGI_SPATIAL_SAMPLE_DESC types are as described below：
Embodiment B：
It is by DXGI_SAMPLE_DESC Extended-types：
Option C：
A kind of special format is added, special resolution ratio can be used：
CreateTexture2D (..., format=0xFFDD ...)
0xFFDD refers to using special resolution ratio
More non-limiting examples are as follows, and these embodiments are to apply the present invention to support all desktops
In the OpenGL of operating system or in the GLES of support mobile device operation system (Android or iPhone etc.).Many institute's weeks
Know, to those skilled in the art, the following examples are to apply in OpenGL environment known antialiasing algorithm (such as MSAA)：
GlGenTextures (1 , ＆tex)；
GlBindTexture (GL_TEXTURE_2D_MULTISAMPLE, tex)；
GlTexImage2DMultisample (GL_TEXTURE_2D_MULTISAMPL E, num_samples, GL_
RGBA8, width, height, false)；
The following is two non-limiting examples of the application space resolution system in OpenGL/GLES environment, this is
Present invention theme in some aspects：
Option A：
Add another parameter to glTexImage2DMultisample：
For example, adding the sample size parameter of another transmission spatial resolution requests.
GlTexImage2DMultisample (GL_TEXTURE_2D_MULTISAMPL E, num_samples, num_
Spatial_samples, poi_type, GL_RGBA8, width, height, false)；
Similar, using glTextImage2D functions, this is the version for not using MSAA.GlTextImage2D functions will
Can be changed into：
GlTexImage2D (GL_TEXTURE_2D, 0, num_spatial_samples, poi_type, GL_RGBA8,
Width, height ...)；
Option B：
Another function is added, for defining the spatial resolution of current region texture.
GlGenTextures (1 , ＆tex)；
GlBindTexture (GL_TEXTURE_2D_MULTISAMPLE, tex)；
GlTexImage2D (GL_TEXTURE_2D, 0, GL_RGBA8, width, height ...)；
GlSpatialResolution (sample_count, poi_method)；
Another embodiment, this theoretical method is combined together with MSAA：
GlGenTextures (1 , ＆tex)；
GlBindTexture (GL_TEXTURE_2D_MULTISAMPLE, tex)；
GlTexImage2DMultisample (GL_TEXTURE_2D_MULTISAMPL E, num_samples, GL_
RGBA8, width, height, false)；
GlSpatialResolution (sample_count, poi_method)；
The control method of other developer's ranks can use the API of common option, for example：
EnableSpatialResolution(sample_count,poi_method)；
DisablePatialResolution()
In another aspect of this invention, render pipeline may occur a little to change, and it is without many samplings discussed above.
(if desired, spatial resolution feature is possible, however, still many with " local "-sampling-anti-sawtooth feature connects
Close).
POI analyzers (can be that graphic pipeline API user fixes or programmable) sampled pixel value decides whether institute
It is POI or PNOI to state pixel, and these terms as previously defined and are discussed, and select different in the different zones for being rendered image
Resolution ratio.Only by way of example, selection POI discussed above may be carried out in several ways, as explanation of the invention
As page 7 and 8 of book is discussed.
Rendering is carried out in the buffering area of required final resolution ratio, according to the region of picture to display, is rendered
It is the pixel of different resolution.For example, one by POI analyzers select will be by details high/high-resolution pixel can
Can completely by " standard " fragment/pixel coloring device calculates each pixel.However, be classified as unessential region may have
The single pixel value for whole patch is calculated, for example, size is 2 × 2.The value for being calculated can be remapped in the patch
The identical copies of the value for being calculated of all pixels of middle discovery, or the single pixel value for being calculated can based on interpolation
As adjacent pixel (can be from other pixel/patches) is used.
Described stretching-remap step can currently render picture render completion after sent out as additional step
It is raw, it is also possible to occur under any render instruction, without adding additional step.
In render instruction level without extra step, the advantage for performing by this way is that it more friendly can delay
Deposit, it is also possible to avoid calling " interim " buffering area.Another important advantage is that (pixel value exists in overdraw (overdraw)
Be replaced during framework, be often as occluding one another and rendering order for object) case in, stretcher-re-mapper
Time quantum activation will not be exceeded, meanwhile, in α-combination and/or α-test and/or depth test and/or template test or cut
In sanction/test and other raster manipulations, described stretcher-re-mapper will work to after-drawing operation fragment/pixel.
On the other hand, the advantage for individually being stretched-being remapped step be if using interpolation, its have stretching-
Remap all adjacent pixels known to step.In the new change of this graphic pipeline, pixel/fragment shader keeps not
Become, or the change for needing very little.This is highly important, because it causes in design hardware and/or supports the figure of suggestion
During the firmware that pipeline changes, technical scheme is more prone to realize.Additionally, the existing content aspect of transplanting (porting) is also very
Important, generally there are tens, sometimes even up to a hundred existing pixel/fragment shaders, it is desirable to which these tinters are not changed
Become, or minimum change.
Amplified with typical graphic pipeline in rasterisation and fragment/pixel coloring device, among other responsibilities, in accompanying drawing
The rasterisation shown in the block diagram of 9A be responsible for determining how and wherein call pixel segment/tinter.In the present invention, which
Calling for the selection example that individual and how many fragment/pixel coloring device is calculated is based on described in (among other standards event)
POI analyzers.In the case where POI analyzers are applied, described rasterisation can use described POI functions, Huo Zheke
With itself realizing the function.Described POI analyzers can be fixed or programmable.
In the case where POI analyzers are to fix, it is a kind of support pattern with possible parameter list.As one
Individual embodiment, a kind of pattern can be Geometry edge, parameter be how much the edge that can be detected with " expansion " (extension), from
And prevent the hole at the edge for detecting.This is only one embodiment, however, as it was previously stated, also more other are possible
POI selection modes.Except embodiment (" gl spatial resolutions " and the foregoing selection B of this specification that these foregoing API change
Deng) outside, another possibility is to add keyword in described fragment/pixel coloring device.One simple embodiment
It is probably addition " POI GeomEdge dilate=3.7 (POI Geometry edges expand=3.7) ", described POI points of its configuration
Parser is activated, and sets its pattern so as to provide resolution ratio higher for the pixel that Geometry edge finds, while also using ginseng
Number 3.7 is selected so as to describe to expand how many to expand.
In the case of described POI modules are programmable, a new tinter type is introduced into described figure tube
Road, i.e. PixelResolutionShader (pixel resolution tinter).The input of the tinter be determine wherein or with
Standard available resources and the pixel region that colours, for example, buffering area, texture, shader constant etc., the output of the tinter be
The resolution ratio of the pixel region of problem area.Used as multi-functional one embodiment of the invention, one has 100 fragment shadings
The existing content of device can keep whole fragment shaders constant, or almost all content is constant.Developer can write
The single coding of PixelResolutionShader (pixel resolution tinter), and instruct (such as above-mentioned selection B's by API
" gl activation spaces ") activation space resolution ratio or add independent row, such as " POI on by the top of fragment shader
(opening POI) ".This operation can be automatically performed the tinter described in compiling and therefore the pixel coloring device be produced minimum
Change, and its actual logic is not changed.Another embodiment is one instruction of addition, such as PRSSetShader
(...) (wherein PRS=PixelResolutionShader (pixel resolution tinter)), it is provided with activation pixel resolution
Tinter, and when needing to close programmable pixel resolution tinter, by PRSSetShader (NULL).Although on
The all figures for stating correlation are the platform being oriented to, and it is especially valuable mobile device, due to various operating systems and equipment
Advantage, wherein easily transplanting and support kinds of platform be a powerful advantage.
No matter described POI is fixed or programmable, compared with prior art literature, for example, by He et al. institutes
Write " Extending the Graphics Pipeline with Adaptive, Multi-Rate shading (and using from
Adaptation, the extension of the graphic pipeline of multi tate) " (ACM Transaction on Graphics (TOG)-Proceedings of
ACM Siggraph 2014, Vol.33, Issue 4, July 2014) (hereinafter referred to as " multi tate article (Multirate
Paper) "), this technology has the big advantage in an efficiency.This easily can be shown by a simplified case,
Two 2 × 2 regions of the picture of i.e. shown in Figure 10 theorize 4 × 2.In fig. 10,2 × 2 patches in left side
It is to carry high-resolution region by what POI analyzers were selected.Circle describes POI modules and calls, and X labeled fragments/pixel
Color device is called, and arrow describes stretching-remapping operation.
Apparent can be seen that only needs sum to be called for 5 fragment/pixel coloring device in this figure.This is than local 8
Section/pixel will be lacked, and also 8 thick/sparse (coarse/sparse) tinters than being mentioned in multi tate article call few.This
It is particularly important, because each programmable tinter is called with its cost, this cost is very high, because it can not
Fully optimized in advance.
Described stretching-remap function, if the function outside fixed function is required, either in list
Complete operation is come in the scene realized in one Rendering operations, or in the scene implemented as independent step, it is also possible to make
Implement for programmable tinter, it is allowed to which figure renders more controls of the user/developer of API.This can have efficiency
Relatively low shortcoming, followed by fixing function shortcoming, but can be more flexible.
In accompanying drawing 9A and 9B, shown arrow from the pixel resolution stage to itself, from the pixel resolution stage
To rasterization stage, and the pixel resolution stage is returned to from the pixel shader stage, describe an iterative process, wherein region
Resolution ratio gradually increases as needed.For example, in a patch area of N × M, its pixel resolution stage can be first
K1 fragments/pixel is rendered, is calculated (as a simple embodiment, check different values), if desired, by wash with watercolours
The amount of the fragment/pixel of dye increases in k2 fragments/pixel, reaches the level of (N × M) fragment/pixel.Described process can be with
Calling back and forth is carried out between the modules, or can be occurred an inside for module.
We there is presently provided non-limiting sample code, it illustrates the pixel resolution tinter and stretching replay
Penetrate the operation of tinter.
All embodiments described herein can be implemented in the hardware/firmware comprising graphic pipeline function.System
" unified shader model (Unified Shader model) " of one tinter as described in wikipedia or it is any can
For the computing unit of the process tasks of programmable shader, for example, pixel resolution tinter and/or remap tinter.
In the case of fixing function in mentioned tinter, can be come with more efficiently use " hard coded/hardwired " function
Realize, flexibility and efficiency (performance/heat/battery) are compromised.Meanwhile, fixed code can be created to support to fix
Function, without being to provide a kind of method for providing self-defined shader code of user.Existing rasterizer module can be changed
Enter so as to support described pixel resolution stage (fixed and/or programmable) and/or remap the stage (it is fixed/or
It is programmable).It can realize the identical functions in the pixel resolution stage and/or the stage of remapping itself.
We are the hardware for using realizations in the present invention by several non-limiting embodiments by what is be discussed now.
In order to illustrate that spatial resolution can be added to existing GPU architecture to utilize its advantage, accompanying drawing 11A, 12A and 13A are depended on
Hardware is realized in the prior art, and accompanying drawing 11B-11E, 12B-12E and 13B-13E show and known hardware structure is increased
The exemplary hardware of spatial resolution function is realized.It is worth noting that, the actual mistake carried out by described POI analyzers
Journey is likely to occur within module itself (it is most likely that fixing function, selects between several preassigned patterns) and/or logical
Cross the task and/or the pixel region of shader unit of the POI pixels that issue is determined.Described POI analyzer modules can be
Independent module is arranged in pixel task issue/procedure module and/or within rasterization stage module.The present invention
There is provided the embodiment in mobile and desktop field.The technology can apply to (be based on based on the equipment for rendering and be not based on rendering
The equipment for rendering is more common in a mobile device).
Accompanying drawing 11A is illustrated that the embodiment of Mali GPU architectures in the prior art, and (Britain ARM is public for ARM Holding
Department) available mobile GPU.Accompanying drawing 11B with the addition of POI analyzer modules as described in the present invention.Accompanying drawing 11C with the addition of simultaneously
POI analyzers and stretch/remap module.Accompanying drawing 11D shows interchangeable embodiment, fragment Queue module therein
(Fragment Queue Module) is similar to accompanying drawing 11D including POI analyzers, and accompanying drawing 11E, but with the addition of simultaneously
Stretching/re-mapper.
Accompanying drawing 12A shows another embodiment of PowerVR GPU architectures in the prior art, in mobile device environment
In, it is available in Imagination Technologies companies.Accompanying drawing 12B with the addition of POI analyzers, and accompanying drawing 12C includes drawing
Stretch/remap module.Accompanying drawing 12D schematically shows may be embodied in and is responsible for related of request kernel processes pixel/fragment
Any POI analyzers and/or stretching/re-mapper that itself is processed are responsible in business.Although also may be used without explanation in figure
Can have as the stretching/module is remapped, while having the POI analyzer moulds for being placed in fragmentation inside modules of separate unit
Block, vice versa.
Accompanying drawing 13A is illustrated that one embodiment of GeForce GPU in the prior art, can be used for the table of NVidia companies
Face GPU.Accompanying drawing 13B with the addition of POI analyzers, and accompanying drawing 13C also with the addition of stretch/remap module.Accompanying drawing 13D is illustrated that
POI analyzer modules and/or stretching/and module is remapped, (nothing within its module that may be embodied in responsible fragment/processes pixel
By being the request of problem fragment/processes pixel or process the order itself).
As described above, another aspect of the present invention can also generate control panel or user interface and be allowed to come into force, control
Panel or user interface can control to activate or nullify or appoint by local application or by GPU graphic user interfaces
What parameter relevant with the function of spatial resolution system or operation.Such control panel or user interface can allow figure to be answered
Following function is realized with the programmer of program, developer, end user：A spatial resolution system is enabled or disabled, is selected
The type of POI or POI, the quantity or scope of the sampled point of selection, the spatial distribution of the selected sampled point of selection, sampled point is made
The number of array or subnumber group, and any of above array or subnumber group direction.Except spatial resolution parameter, so
Control panel or user interface access control to other specification can be provided.For example, user can select an antialiasing
Prefered method be applied in spatial resolution system.Additionally, such control panel can accomplish to allow user select with
The parameter of the related any preference of overall customer experience, or one group of parameter, or the parameter area for allowing.It is of the invention another
Individual aspect, the data acquisition unit that spatial resolution system can collect Consumer's Experience factor relevant information from obtains defeated
Enter data, Consumer's Experience factor can be selected by user or dynamically adjusted by an automatic module.These data are bases
The systematic parameter optimization of spatial resolution is carried out in Consumer's Experience factor.
Another embodiment disclosure of that of the invention, developer or user interface or control panel can be with
GPU is activated or nullified by spatial resolution controller.Any one mentioned above or a series of spatial resolution control
The parameter of device processed, can all be defined by developer or user using such interface and by special API.Such control
Can be used for defining preference, the type of such as POI, the quantity of sampled point and distribution by user or developer with customization procedure,
The selection of algorithm and the opereating specification of recurrence sampling is carried out with this algorithm, the conversion of virtual pixel to rendered pixel (or similar)
Rate.If completing this by user to operate, it is most likely to be and is completed in a scene or application program rank.If by exploit person
Member completes, it is likely that in frame level even in the one or one group rank of resource, realized by marking GPU.Above two scheme
Any combinations can also be carried out.
The various realizations of the theme can be by Fundamental Digital Circuit, integrated circuit, ASIC (the special collection of special design
Into circuit), computer hardware, software, firmware, and/or combinations thereof is completed.These different realizations should include one
Or multiple computer programs, program can perform and/or explain on programmable system.The programmable system includes at least one
Individual programmable processor (special or general), and comprising one for depositing from processor reception, transmission data and instruction
Storage system, at least one input equipment, and at least one output device.
These computer programs (also referred to as program, software, software application or code) include machine instruction, by can
The processor of programming is processed, it is possible to use high-level language and/or the programming language of object-oriented, and/or compilation/machine
Language is realized.Term as used herein " computer-readable medium ", refers to any computer program product, device and/or
Equipment (for example, disk, CD, memory, PLD (PLD)), for providing machine to programmable processor
Instruction and/or data, including a machine readable media that machine instruction is received by machine-readable signal." machine can for term
Read signal " refers to any signal for providing machine instruction and/or data to programmable processor.
In order to user mutual, the theme should be implemented on computers, and computer should have display
Device (for example, CRT (cathode-ray tube) or LCD (liquid crystal display) display) displays for a user information, and keyboard and indication set
Standby (for example, mouse or trace ball) allows user to provide input to computer.Other kinds of equipment also can be used to and user
Interaction, for example, providing the user with any type of sense feedback (for example, visual feedback, audio feedback, or touch feedback)；With
Any form is received from user and is input into, including acoustics, voice or sense of touch.
The theme can realize in the computing system including aft-end assembly (for example, data server), or including
Middleware component (for example, application server), or including front end assemblies (for example, comprising graphic user interface or web browser
Client computer so that user can realize carrying out interaction with a kind of of the theme), or any of above rear end is middle
The combination of part or front end assemblies.The component of system can be by any type of digital data communications (for example, communication network) mutually
Even.Communication network includes local area network (" LAN "), wide area network (" WAN ") and internet.
Computing system includes client and server.It is typically all long-range between client and server, typically leads to
Cross what communication network was interacted.Relation between client and server is by the computer for running on the respective computers
Program and produce, be each other the relation of client-server.
Although in above-detailed, others modification is also possible for some changes.For example, the above embodiments
The sub-portfolio and/or the son of combination and some further feature disclosed above of various combinations and disclosed feature can be directed into
Combination.Additionally, do not required according to shown particular order in accompanying drawing and logic flow described in the present invention, or consecutive order
Can be only achieved desired result.Other embodiment is also within the scope of following claims.
Claims (11)
1. a kind of computer implemented method produced in a graphics system for the output pixel for showing, the method includes following step
Suddenly：Rendering operations are performed to one or more pixels, described Rendering operations are comprised the following steps：Use information pixel (POI)
Analyzer determine it is following one or more：
A () pixel is POI pixels or non-information pixel (PNOI)；
B () is the POI pixels resolution ratio different with PNOI pixel selections.
2. method according to claim 1, further includes to be performed after Rendering operations are completed and stretches-remap step
Suddenly.
3. method according to claim 2, wherein before display, rendering and being held in buffering area with required final resolution ratio
OK.
4. method according to claim 1, wherein described POI analyzers be it is fixed or it is programmable one of them.
5. method according to claim 4, wherein, if described POI analyzers are fixed, in call parameters list
One or more parameters.
6. method according to claim 4, wherein, if described POI analyzers are programmable, call pixel to differentiate
Rate tinter.
7. method according to claim 4, wherein described method is performed using non-flash computer-readable medium, thereon
Storage program so that the step described in image processor units perform claim requirement 1.
8. method according to claim 4, wherein described method is realized using dedicated computer hardware unit.
9. method according to claim 1, wherein it is described the step of realized in single channel.
10. method according to claim 1, wherein it is described the step of realized in multiple passages.
11. methods according to claim 2, wherein described stretching-remap step be it is fixed or it is programmable its
One of.
Applications Claiming Priority (2)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US14/956,976 US9536282B2 (en) | 2015-01-14 | 2015-12-02 | Method and apparatus for controlling spatial resolution in a computer system |
US14/956,976 | 2015-12-02 |
Publications (2)
Publication Number | Publication Date |
---|---|
CN106815800A true CN106815800A (en) | 2017-06-09 |
CN106815800B CN106815800B (en) | 2020-12-08 |
Family
ID=59106260
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN201610139511.0A Active CN106815800B (en) | 2015-12-02 | 2016-03-11 | Method and apparatus for controlling spatial resolution in a computer system |
Country Status (1)
Country | Link |
---|---|
CN (1) | CN106815800B (en) |
Cited By (1)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN109992103A (en) * | 2017-11-21 | 2019-07-09 | 辉达公司 | During rendering using watch attentively information adjust the angle sample rate |
Citations (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN101866476A (en) * | 2009-04-17 | 2010-10-20 | Arm有限公司 | Generate and resolve the pixel value in the graphics processing pipeline |
EP2383695A1 (en) * | 2010-04-28 | 2011-11-02 | Max-Planck-Gesellschaft zur Förderung der Wissenschaften e.V. | Apparent display resolution enhancement for moving images |
CN102651127A (en) * | 2012-04-01 | 2012-08-29 | 深圳市万兴软件有限公司 | Image processing method and image processing system for super-resolution reconstruction |
US8619083B2 (en) * | 2009-01-06 | 2013-12-31 | Microsoft Corporation | Multi-layer image composition with intermediate blending resolutions |
CN104978738A (en) * | 2014-04-09 | 2015-10-14 | 鹦鹉股份有限公司 | Method of detection of points of interest in digital image |
-
2016
- 2016-03-11 CN CN201610139511.0A patent/CN106815800B/en active Active
Patent Citations (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US8619083B2 (en) * | 2009-01-06 | 2013-12-31 | Microsoft Corporation | Multi-layer image composition with intermediate blending resolutions |
CN101866476A (en) * | 2009-04-17 | 2010-10-20 | Arm有限公司 | Generate and resolve the pixel value in the graphics processing pipeline |
EP2383695A1 (en) * | 2010-04-28 | 2011-11-02 | Max-Planck-Gesellschaft zur Förderung der Wissenschaften e.V. | Apparent display resolution enhancement for moving images |
CN102651127A (en) * | 2012-04-01 | 2012-08-29 | 深圳市万兴软件有限公司 | Image processing method and image processing system for super-resolution reconstruction |
CN104978738A (en) * | 2014-04-09 | 2015-10-14 | 鹦鹉股份有限公司 | Method of detection of points of interest in digital image |
Non-Patent Citations (1)
Title |
---|
鲁书喜等: "基于感兴趣区域的空域分辨率可调整方法", 《平顶山学院学报》 * |
Cited By (2)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN109992103A (en) * | 2017-11-21 | 2019-07-09 | 辉达公司 | During rendering using watch attentively information adjust the angle sample rate |
CN109992103B (en) * | 2017-11-21 | 2022-07-05 | 辉达公司 | Method, system, and storage medium for adjusting angular sampling rate during rendering |
Also Published As
Publication number | Publication date |
---|---|
CN106815800B (en) | 2020-12-08 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
CN105787875B (en) | Method and apparatus for controlling spatial resolution in computer systems | |
CN110663065B (en) | Storage for central concave rendering | |
CN106204712B (en) | Piecewise linearity irregularly rasterizes | |
EP3693929B1 (en) | Method for efficient construction of high resolution display buffers | |
EP3087553B1 (en) | Optimized multi-pass rendering on tiled base architectures | |
Chan et al. | Rendering Fake Soft Shadows with Smoothies. | |
KR101286318B1 (en) | Displaying a visual representation of performance metrics for rendered graphics elements | |
US8970580B2 (en) | Method, apparatus and computer-readable medium rendering three-dimensional (3D) graphics | |
CN110383337A (en) | Variable bit rate coloring | |
CN106296565B (en) | Graphics pipeline method and apparatus | |
US6285348B1 (en) | Method and system for providing implicit edge antialiasing | |
KR20190100194A (en) | Forbidden Rendering in Tiled Architectures | |
JP2010102713A (en) | Method of and apparatus for processing computer graphics | |
US10628995B2 (en) | Anti-aliasing of graphical elements defined based on functions | |
US9536282B2 (en) | Method and apparatus for controlling spatial resolution in a computer system | |
CN111986304B (en) | Rendering scenes using a combination of ray tracing and rasterization | |
CN104823220B (en) | Graphic memory for graphics process loads mask | |
Wahle et al. | Multi-scale visualization of molecular architecture using real-time ambient occlusion in sculptor | |
US20230298212A1 (en) | Locking mechanism for image classification | |
TW202345087A (en) | Variable rate tessellation | |
CN106815800A (en) | Method and apparatus for controlling spatial resolution in computer systems | |
US6927775B2 (en) | Parallel box filtering through reuse of existing circular filter | |
US8379050B2 (en) | Rendering apparatus, method and medium | |
US20230298133A1 (en) | Super resolution upscaling | |
JP2023530309A (en) | Granular replay control in binning hardware |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
PB01 | Publication | ||
PB01 | Publication | ||
SE01 | Entry into force of request for substantive examination | ||
SE01 | Entry into force of request for substantive examination | ||
TA01 | Transfer of patent application right |
Effective date of registration: 20180808Address after: American CaliforniaApplicant after: Google limited liability companyAddress before: Israeli nanitaniaApplicant before: LUCIDLOGIX TECHNOLOGIES LTD. |
|
TA01 | Transfer of patent application right | ||
GR01 | Patent grant | ||
GR01 | Patent grant |