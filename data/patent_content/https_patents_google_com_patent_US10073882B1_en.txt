US10073882B1 - Semantically equivalent query templates - Google Patents
Semantically equivalent query templates Download PDFInfo
- Publication number
- US10073882B1 US10073882B1 US13/941,586 US201313941586A US10073882B1 US 10073882 B1 US10073882 B1 US 10073882B1 US 201313941586 A US201313941586 A US 201313941586A US 10073882 B1 US10073882 B1 US 10073882B1
- Authority
- US
- United States
- Prior art keywords
- query
- template
- entity
- instantiations
- query template
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Expired - Fee Related, expires
Links
Images
Classifications
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/20—Information retrieval; Database structures therefor; File system structures therefor of structured data, e.g. relational data
- G06F16/24—Querying
- G06F16/245—Query processing
-
- G06F17/30424—
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/30—Information retrieval; Database structures therefor; File system structures therefor of unstructured textual data
- G06F16/33—Querying
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06F—ELECTRIC DIGITAL DATA PROCESSING
- G06F16/00—Information retrieval; Database structures therefor; File system structures therefor
- G06F16/90—Details of database functions independent of the retrieved data types
- G06F16/93—Document management systems
Definitions
- This specification is directed generally to determining whether query templates are semantically equivalent query templates.
- Different search queries are often issued by users that are seeking the same type of information. For example, a first user may issue a first query and navigate to a first search result document for the query in seeking certain information. A second user may issue a unique second query and navigate to the same search result document in seeking the same information.
- a query template includes one or more terms and an identifier of an entity collection.
- An entity collection is a grouping of entities that share one or more aspects in common.
- the query template [life expectancy in ⁇ Country>] includes the terms “life”, “expectancy”, and “in” and the identifier “Country” that identifies an entity collection of countries.
- Techniques discussed herein may utilize instantiations of the query template in determining whether query templates are semantically equivalent.
- an instantiation of the query template includes one or more terms of the query template and an alias of an entity of the entity collection of the query template.
- instantiations of the query template [life expectancy in ⁇ Country>] include [life expectancy in india] and [life expectancy in United States], with “india” being an alias of an entity that belongs to the collection “Country” and “united states” likewise being an alias of an entity that belongs to the entity collection “Country”.
- Whether two query templates that have the same entity collection identifier are determined to be equivalent query templates may be based on determining a similarity measure between the query templates. For example, whether the query template [life expectancy in ⁇ Country>] is equivalent to the query template [average life span in ⁇ Country>] may be based on a similarity measure between the query templates.
- Various factors on which the similarity measure may be based are discussed herein and one or more of such factors may be utilized in determining the similarity measure.
- the similarity measure may be based on a number of the entities of the entity collection that instantiate both of the query templates in a record of past user queries.
- the similarity measure may be based on a number of the entities of the entity collection that instantiate both of the query templates in a record of past user queries and are determined to be entities that satisfy a threshold level of entity similarity between the query templates.
- terms of two query templates that are determined to be equivalent may be determined to be synonymous. For example, if the query template [life expectancy in ⁇ Country>] is determined to be equivalent to the query template [average life span in ⁇ Country>], the phrases “life expectancy” and “average life span” may be determined to be equivalent.
- a computer implemented method includes the steps of: determining a first query template, the first query template including one or more first template terms and an identifier of an entity collection, and the entity collection being a grouping of entities that share one or more aspects in common; determining a second query template, the second query template including one or more second template terms and the identifier of the entity collection, and the second template terms including at least one term that is unique from the first template terms; identifying a given entity of the entity collection; determining first query template instantiations for the given entity, each first query template instantiation including the first template terms and one of one or more aliases of the entity; determining second query template instantiations, each second query template instantiation including the second template terms and one of the one or more aliases of the entity; determining a search result document that is responsive to one or more of the first query template instantiations and responsive to one or more of the second query template instantiations; determining a first document selection rate of the search result document for the first query template instant
- the method may further comprise determining, for the given entity: one or more first term selection rates for the search result document, each first term selection rate being for one first template term of one or more of the first template terms for the search result document; and one or more second term selection rates for the search result document, each second term selection rate being for one second template term of one or more of the second template terms for the search result document.
- the determination of the similarity measure between the first query template and the second query template may be further based on the first query template term selection rate and the second query template term selection rate.
- each first term selection rate may be based on a selection rate of the search result document among a first query set that includes only queries that include the given entity and the first template term; and each second term selection rate may be based on a selection rate of the search result document among a second query set that includes only queries that include the given entity and the second template term.
- the method may further comprise: determining a first harmonic mean of the first query template term selection rates; and determining a second harmonic mean of the second query template term selection rates. The determination of the similarity measure between the first query template and the second query template may be further based on the first harmonic mean and the second harmonic mean.
- the determination of the similarity measure between the first query template and the second query template may be further based on multiplying the first selection rate by the first harmonic mean and multiplying the second selection rate by the second harmonic mean, and determining a minimum value of the multiplications.
- the method may further comprise determining that the first selection rate and the second selection rate satisfy a selection rate threshold.
- the method may further comprise determining that the search result document lacks description of multiple attributes of the entity collection and only utilizing the search result document if it lacks description of multiple attributes.
- determining that the search result document lacks description of multiple attributes of the entity collection may include determining that a selection rate threshold for the search result document is only satisfied by queries that contain a single attribute of the entity collection.
- the first query template instantiations and the second query template instantiations may be determined from a record of past queries.
- the record of past queries may include only those queries submitted with at least a threshold level of frequency.
- the method may further comprise: determining additional entities of the entity collection; determining, for each additional entity of the additional entities: additional first instantiations for the additional entity based on the first query template, additional second instantiations for the additional entity based on the second query template, an additional search result document that may be responsive to one or more of the additional first query template instantiations and responsive to one or more of the additional second query template instantiations, an additional first document selection rate of the search result document for the additional first query template instantiations, an additional second document selection rate of the search result document for the additional second query template instantiations, and determining an additional entity similarity measure based on the additional first document selection rate and the additional second document selection rate.
- the determination as to whether the first and second query templates are equivalent query templates may be based on an entity similarity measure satisfaction number based on the quantity of the entity similarity measure and the additional entity similarity measures that may satisfy a threshold. In some implementations the determination as to whether the first and second query templates are equivalent query templates may be further based on a total entity number based on the quantity of the given entity and the additional entities.
- the method may further comprise determining that the first template terms and the second template terms are synonymous based on determining that the first and second query templates are equivalent query templates.
- a computer implemented method includes the steps of: determining a first query template, the first query template including one or more first template terms and an identifier of an entity collection, the entity collection being a grouping of entities that share one or more aspects in common; determining a second query template, the second query template including one or more second template terms and the identifier of the entity collection, the second template terms including at least one term that is unique from the first template terms; identifying entities of the entity collection; determining entity groups of instantiations of the first query template and the second query template, each entity group including first query template instantiations of past queries for a given entity of the entities and second query template instantiations of the past queries for the given entity, each first query template instantiation of the entity group including the first template terms and one or multiple aliases of the given entity and each second query template of the entity group including the second template terms and one or multiple aliases of the given entity; determining, for each entity group, an entity similarity measure for the given entity of the entity group; and determining
- the entity similarity measure for the entity group may be based on: document selection rates of one or more search result documents responsive to the first query template instantiations and the second query template instantiations of the entity groups, the document selection rates being for the first query template instantiations of the entity group and the second query template instantiations of the entity group; and term selection rates of the one or more search result documents, the term selection rates being for the first terms of the first query template instantiations of the entity group and the second terms of the second query template instantiations of the entity.
- determining whether the first and second query templates are equivalent query templates may be based on the quantity of the entity similarity measures for the multiple of the entity groups that satisfy a similarity measure threshold.
- determining whether the first and second query templates are equivalent query templates may be based on the quantity of the entity similarity measures for the multiple of the entity groups that satisfy a similarity measure threshold and the total number of entities of the entity collection.
- implementations may include a non-transitory computer readable storage medium storing instructions executable by a processor to perform a method such as one or more of the methods described herein.
- implementations may include a system including memory and one or more processors operable to execute instructions, stored in the memory, to perform a method such as one or more of the methods described herein.
- Particular implementations of the subject matter described herein identify a pair of query templates and determine a similarity measure for the pair of query templates.
- the determined similarity measure represents a new aspect of the pair of query templates and may be utilized to determine if the query templates are semantically equivalent query templates.
- FIG. 1 is a block diagram of an example environment in which it may be determined whether query templates are equivalent.
- FIG. 2 is an example table utilized in describing examples of determining document selection rates for query templates.
- FIG. 3 is an example table utilized in describing examples of determining an entity similarity measure between query templates.
- FIG. 4 is a flow chart illustrating an example method of determining whether query templates are equivalent.
- FIG. 5 illustrates a block diagram of an example computer system.
- a query template includes one or more terms and an identifier of an entity collection.
- the query template [attractions in ⁇ City>] includes the terms “attractions in” and the identifier “City” that identifies an entity collection of cities.
- Techniques discussed herein may utilize instantiations of the query template for multiple entities of the entity collection in determining whether query templates are semantically equivalent.
- instantiations of the query template [attractions in ⁇ City>] include [attractions in san francisco], [attractions in sfo], and [attractions in new orleans], with “san francisco” and “sfo” being aliases of an entity that belongs to the collection “City” and “new orleans” likewise being an alias of an entity that belongs to the entity collection “City”.
- Whether two query templates that have the same entity collection identifier are determined to be equivalent query templates may be based on determining a similarity measure between the query templates. For example, whether the query template [attractions in ⁇ City>] is equivalent to the query template [places to visit in ⁇ City>] may be based on a similarity measure between the query templates.
- Various factors on which the similarity measure may be based are described herein and one or more of such factors may be utilized in determining the similarity measure.
- the similarity measure may be based on entities from the entity collection of the query templates that instantiate both of the templates in a record of past user queries.
- the similarity measure may be based on a number of the entities of the entity collection that instantiate both of the query templates in a record of past user queries and are determined to be entities that have a threshold level of entity similarity between the query templates.
- entity similarity between the query templates for a given entity may be based on, for a given search result document responsive to entity instantiations of both of the query templates, one or more of selection rates for the entity instantiations of the query templates for the given search result document, term selection rates for terms of the query templates for the given search result document, and/or a determination that the search result document is not a document that describes multiple attributes of the entity collection of the query templates.
- Attributes of an entity collection are one or more aspects of the entity collection that may each be utilized to define an aspect of entities of the entity collection. For example, attributes of the entity collection “City” may include, “Area”, “Population”, and “Unemployment Rate”.
- Equivalence of query templates may be utilized, in some implementations, to determine synonymous terms. For example, if the first query template [attractions in ⁇ City>] and the second query template [places to visit in ⁇ City>] are determined to be equivalent, one or more terms of the first query and the second query may be determined to be synonymous. For example, “attractions” and “places” may be determined to be synonymous and/or “attractions in” and “places to visit in” may be determined to be synonymous.
- FIG. 1 illustrates a block diagram of an example environment 100 in which equivalent query templates may be identified.
- the example environment 100 includes a communication network 101 that facilitates communication between the various components in the environment.
- the communication network 101 may include the Internet, one or more intranets, and/or one or more bus subsystems.
- the communication network 101 may optionally utilize one or more standard communications technologies, protocols, and/or inter-process communication techniques.
- the example environment 100 also includes a client device 110 , a content database 120 , a template equivalence determination system 130 , and a search system 140 .
- the client device 110 may execute one or more applications, such as a web browser 115 .
- the client device 110 may be, for example, a desktop computing device, a laptop computing device, a tablet computing device, a mobile phone computing device, a tablet computing device, a computing device of a vehicle of the user (e.g., an in-vehicle communications system, an in-vehicle entertainment system, an in-vehicle navigation system), a wearable apparatus of the user that includes a computing device (e.g., a watch of the user having a computing device, glasses of the user having a computing device). Additional and/or alternative computing devices may be provided.
- the template equivalence determination system 130 determines a query template pair to determine if the query template pair is equivalent.
- Each query template of the query template pair includes one or more terms and an identifier of an entity collection. For example, a first query template [attractions in ⁇ City>] may be determined and a second query template [places to visit in ⁇ City>] may be determined.
- the query templates may be identified based on a record of queries such as a record of past queries in content database 120 .
- Past queries may include queries issued via one or more computing devices of users such as client device 110 .
- a query template may be determined if a threshold number of past queries conform to the query template and/or if a threshold number of past queries that conform to the query template have been submitted with at least a threshold level of frequency.
- a query template may be generated from a past query by replacing an entity in the past query with an identifier for the entity collection of that entity.
- the query [life expectancy in india] includes the entity associated with the country “India”, and this entity belongs to the entity collection for “Country”. Accordingly, the query template [life expectancy in ⁇ Country>] may be generated from the query [life expectancy in india] by replacing the entity associated with the country “India” with an identifier for an entity collection of that entity, “Country”.
- the query [places to visit in sfo] includes the entity associated with the city “San Francisco”, and this entity belongs to the entity collection for “City” and belongs to the entity collection “California City”.
- the query template [places to visit in ⁇ City>] may be generated from the query [places to visit in sfo] by replacing the entity associated with the city “sfo” with an identifier for the entity collection of that entity, “City”; and/or the query template [places to visit in ⁇ California City>] may be generated from the query [places to visit in sfo] by replacing the entity associated with the city “sfo” with an identifier for an entity collection of that entity, “Category City”.
- the query templates may be identified from a database such as content database 120 that includes a collection of query templates.
- a database such as content database 120 that includes a collection of query templates.
- [attractions in ⁇ City>] and [places to visit in ⁇ City>] may be query templates that may be stored in content database 120 .
- content database 120 and/or other database may store information related to different entity collections.
- the information related to different entity collections may be utilized, for example, to enable determination of the query templates and/or to determine one or more factors for a similarity measure.
- the information related to different entity collections may include, for example, a list of entity collections such as “Country”, “City”, “Rivers”, “Dish”, “Food”, and so forth.
- the information related to different entity collections may also include information related to the set of entities that may be included in each entity collection. For example, the entity collection “Country” may be mapped to entities associated with countries such as the countries of “US”, “Australia”, “India”.
- the entity collection “City” may be mapped to entities associated with cities such as “San Francisco”, “Las Vegas”, and “Seattle”.
- the entity collection “River” may be mapped to entities associated with rivers such as the “Mississippi”, “Amazon”, and “Ganges” rivers.
- the information related to different entity collections may also include, for example, metadata associated with the entity collections and/or attributes of the entity collections.
- query templates may be determined based on search results and/or search result documents related to the query templates.
- a given search result document may be responsive to queries conforming to one or more query templates, and for such queries, the given search result document may have a selection rate that satisfies a threshold.
- a “selection” of a virtual object, a search result, and/or an online resource may include, for example a mouse-click, a click-through, a voice-based selection, a selection by a user's finger on a presence-sensitive input mechanism (e.g., a touch-screen device), and/or any other appropriate selection mechanism.
- a selection rate of a search result document for a search query may be based on the number of selections of a search result for that search result document that is provided in response to the search query.
- the given search result document may be responsive to queries conforming to one or more query templates, and for such queries, the given search result document may be among the X highest ranked search results, wherein X is representative of an integer.
- a given search result document associated with a search result having the highest selection rate for a given query conforming to a query template having an entity of an entity collection may be identified.
- the query template to which the given query conforms may be determined to be a first query template of the query template pair. Additional queries that include an entity from the entity collection and to which the search result document is responsive may also be identified. One or more of such additional queries may be utilized to determine the second query template of the query template pair.
- a database such as the content database 120 may only include past queries having submission rates above a certain threshold.
- the content database 120 may only include past queries that satisfy a time threshold. For example, any past queries that are more than a year old may not be stored in the content database 120 . Additional restrictions may optionally apply to any stored data such as the exclusion of certain queries such as queries not issued by more than a threshold number of users.
- the content database 120 may be collectively stored in one or more storage mediums.
- the term “database” will be used broadly to refer to any collection of data. The data of the database does not need to be structured in any particular way, or structured at all, and it can be stored on storage devices in one or more geographic locations. Thus, for example, the content database 120 may include multiple collections of data, each of which may be organized and accessed differently.
- a query template may be identified based on a query submitted by a user and/or one or more other actions of the user.
- the user may issue a search query via client device 110 .
- the search system 140 may receive the search query and the template equivalence determination system 130 may determine a query template based on the search query.
- the user may submit a search query [weather in Florida].
- the search system 140 may receive the search query and the template equivalence determination system 130 may determine a query template of [weather in ⁇ State>] based on the search query.
- the template equivalence determination system 130 may utilize keyword matching, phrase matching, and/or contextual similarity matching of phrases in determining query templates.
- soft matching and/or exact matching of terms and/or phrases may be utilized.
- soft matching between terms and/or phrases may be based on determining an edit distance between the terms and/or phrases and comparing that to a threshold.
- soft matching between terms and/or phrases may be based on comparing canonicalized versions of terms and/or phrases. For example, terms and/or phrases could be stemmed and their stop words removed, before matching.
- Stop words include words that are common and may include articles such as “a”, “an,” “and,” and “the”; prepositions such as “of,” “to” and “for”; auxiliary verbs such as “have” and “were”; and/or typical initial words in questions such as “who”, “how” and “where”.
- users may interact with the search system 140 through one or more client devices 110 and/or the template equivalence identification system 130 may interact with the search system 140 .
- the search system 140 may include memory for storage of data and software applications, a processor for accessing data and executing applications, and components that facilitate communication over the communication network 101 .
- the client devices 110 may execute applications, such as web browsers (e.g., web browser 115 executing on client device 110 ), that allow users to formulate queries and submit them to the search system 140 .
- the search system 140 may receive queries from one or more client devices 110 and/or the template equivalence identification system 130 and may execute the queries against a database of available documents such as web pages, images, text documents, and multimedia content.
- the search system 140 may identify search result documents which match a submitted query, and may respond by generating search results that identify the search result documents. For example, in response to a query issued by the client device 110 the search system 140 may provide search results to the client device 110 in a form that can be presented to a user via the client device. For example, in response to a query from the client device 110 , the search system 140 may provide a search results web page to be displayed in the web browser 115 executing on the client device 110 .
- the template equivalence identification system 130 may identify, for each query template, one or more entities of the entity collection of the query template.
- entities may be persons, places, concepts, and/or things that may be referred to by a text fragment (e.g., a term or phrase) and are distinguishable from one another (e.g., based on context).
- a text fragment e.g., a term or phrase
- [attractions in ⁇ City>] is a query template that includes an entity collection “City” that includes multiple entities associated with cities, such as the cities of “San Francisco”, “Las Vegas”, Hong Kong”, and so forth.
- [life expectancy in ⁇ Country>] is a query template that includes an entity collection “Country” that includes multiple entities associated with countries, such as the countries “US”, “India”, “Australia”, and so forth.
- the template equivalence identification system 130 may determine instantiations of the query template.
- Each instantiation of the query template includes the non-entity collection terms of the query template and an alias of an entity that belongs to the entity collection of the query template.
- instantiations of the query template [attractions in ⁇ City>] may include [attractions in san Francisco] and [attractions in LA].
- template equivalence identification system 130 may determine instantiations of the query template for a given entity of the entity collection by determining the entity is part of the entity collection of the query template, determining aliases of the entity, and generating each instantiation by including an alias of the entity with the non-entity collection terms of the query template.
- the entity associated with the city of “Los Angeles” in California may be determined, and aliases of the entity may determined such as “Los Angeles”, “LA”, and “City of Angels”.
- Instantiations of the query template for the entity associated with the city of “Los Angeles” in California may be generated such as [attractions in Los Angeles], [attractions in LA], and [attractions in City of Angels].
- only those instantiations that are included in past queries and/or are associated with a threshold submission frequency of past queries may be generated and/or utilized.
- the query [attractions in City of Angels] may not be present in the past queries and/or may not represent a sufficient number of past queries and may not be generated and/or utilized.
- a database such as content database 120 may include data related to the query such as a query submission rate indicative of a number of times and/or the frequency with which the query has been submitted, identifiers of one or more search result documents responsive to the query, and/or selection rates for one or more search result documents responsive to the query.
- content database 120 may include data indicating that during a specified time interval, the query [attractions in san francisco] was issued 9,435 times, and the query [attractions in sfo] was issued 28,231 times.
- content database 120 may include data indicating that during a specified time interval, the query [life expectancy in US] was issued 5,203 times, and the query [life expectancy in Australia] was issued 522 times.
- content database 120 may include data indicating the selection rate for one or more search result documents responsive to the query [attractions in sfo]. For example, a first search result document may have a selection rate of 0.2, indicating approximately 20% of the users submitting the query [attractions in sfo] selected a search result corresponding to the first search result document in response to the query.
- the template equivalence determination system 130 determines a similarity measure between two query templates and utilizes the similarity measure to determine if the two query templates are semantically equivalent. For example, if a determined similarity measure between two query templates satisfies a threshold similarity measure, the two query templates may be determined to be semantically equivalent. In some implementations the similarity measure may be based at least in part on entities from the entity collection of the query templates that instantiate both of the query templates in a record of past user queries.
- T 1 and T 2 be two query templates, with each including one or more terms and an identifier of an entity collection EC 1 .
- the entity collection EC 1 has five entities that are members of that collection, E 1 , E 2 , E 3 , E 4 , and E 5 .
- a record of past queries submitted by users may be utilized to determine that for template T 1 , queries are present that are instantiations of the template and that collectively include aliases of entities E 1 , E 2 , E 3 , E 4 , and E 5 in the place of the entity collection identifier.
- query list Q 11 may include one or more queries instantiating the template T 1 , wherein each of those queries include an alias of entity E 1 in place of the entity collection identifier.
- each of query lists Q 12 , Q 13 , Q 14 , and Q 15 may include one or more queries instantiating the template T 1 , wherein each of the queries of the respective query lists include an alias of a respective one of entities E 2 , E 3 , E 4 , and E 5 in place of the entity collection identifier.
- a record of past queries submitted by users may also be utilized to determine that for template T 2 , queries are present that are instantiations of the template and that collectively include aliases of entities E 1 , E 2 , and E 3 (but not E 4 and E 5 ) in the place of the entity collection identifier.
- query list Q 21 may include one or more queries instantiating the template T 2 , wherein each of those queries include an alias of entity E 1 in place of the entity collection identifier.
- each of query lists Q 2 and Q 3 may include one or more queries instantiating the template T 2 , wherein each of the queries of the respective query lists include an alias of a respective one of entities E 2 and E 3 in place of the entity collection identifier.
- three entities (E 1 , E 2 , and E 3 ) out of the five entities from the entity collection EC 1 of the query templates T 1 and T 2 instantiate both of the query templates in a record of past user queries.
- the number of entities from the entity collection of the query templates that instantiate both of the query templates in a record of past user queries may be utilized in determining the similarity measure. For example, as the number and/or percentage of entities from the entity collection of the query templates that instantiate both of the query templates in a record of past user queries increases, the similarity measure will become more indicative of similarity. For example, if five out of the five entities from the entity collection EC 1 of the query templates T 1 and T 2 instantiate both of the query templates in a record of past user queries, the similarity measure may be more indicative of similarity than if only three of the five entities instantiated both of the query templates.
- the similarity measure may additionally and/or alternatively be based on a number of the entities of the entity collection that are determined to be entities that satisfy a threshold level of entity similarity between the query templates. For example, of those entities that instantiate both of the query templates in a record of past user queries, it may be determined how many of such entities are determined to be entities that satisfy a threshold level of entity similarity between the query templates. For example, as the number and/or percentage of entities from the entity collection of the query templates that instantiate both of the query templates in a record of past user queries and satisfy a threshold level of similarity between the query templates increases, the similarity measure will become more indicative of similarity.
- An entity similarity measure between the query templates for a given entity may be based on, for one or more given search result documents responsive to entity instantiations of the query templates, one or more of selection rates for the entity instantiations of the query templates for the given search result documents, term selection rates for terms of the query templates for the given search result documents, and/or a determination that the given search result documents are not documents that describe multiple attributes of the entity collection of the query templates.
- FIG. 2 an example table is illustrated that will be utilized to describe examples of determining document selection rates for query templates.
- the rows are labeled by letters A through C and the columns are labeled by numbers 1 through 6.
- a position XY will refer to the entry in row X and column Y.
- position A1 includes the term “Template”.
- a pair of query templates T 1 and T 2 is illustrated in column 1, the entity utilized to form an entity group of instantiations for each of the query templates T 1 and T 2 is illustrated in column 2, and the instantiations of the templates T 1 and T 2 for the entity are shown in column 3.
- query template T 1 is illustrated at position B1.
- Entity E 1 is illustrated at position B2 and may be utilized to determine instantiations Q 1 of the query template T 1 .
- the instantiations Q 1 may include one or more queries that each include terms of the query template T 1 and an alias of the entity E 1 in place of the entity collection identifier of the query template T 1 .
- the instantiations Q 1 may be determined, for example, utilizing one or more techniques described herein such as utilizing past queries optionally satisfying one or more parameters and/or past queries optionally conforming to the query template and/or variants of the query template.
- the query template T 1 may be [attractions in ⁇ City>]
- E 1 may be the entity associated with the city “San Francisco”
- the total number of document selections for the instantiations of column 3 is identified in column 4.
- the total number of document selections for all the queries in instantiations Q 1 is 23,722 selections as illustrated at position B4.
- the total number of document selections for a search query is indicative of the total number of selections by users of any search results returned for the search query.
- the total number of document selections for a search query may be based on the total number of submissions of the search query.
- the total number of document selections and the total number of submissions for a search query may differ (e.g., certain submissions may not lead to any selection).
- the entity equivalence determination system 130 may determine the total number of document selections of column 3 utilizing data from some or more databases such as content database 120 .
- Column 5 identifies search result documents D 1 , D 2 , D 3 , and D 4 that are responsive to one or more of instantiations Q 1 and to one or more of instantiations Q 2 .
- Column 5 further identifies the number of selections for each search result document for the respective instantiations Q 1 and Q 2 .
- For instantiations Q 1 document D 1 has 9,700 selections, document D 2 has 9,200 selections, document D 3 has 3,500 selections, and document D 4 has 350 selections.
- document D 1 has 7,600 selections
- document D 2 has 5,250 selections
- document D 3 has 2,150 selections
- document D 4 has 450 selections.
- the entity equivalence determination system 130 may determine the search result documents that are responsive to one or more of instantiations Q 1 and to one or more of instantiations Q 2 utilizing, for example, one or more databases and/or the search system 140 .
- searches may be issued via the search system 140 for queries of instantiations Q 1 and Q 2 and search results utilized to determine those search result documents that are common between one or more of instantiations Q 1 and one or more of instantiations Q 2 .
- a database may contain an identifier of one or more search result documents responsive to the query.
- the database may include identifiers of search result documents that have been selected by at least a threshold number of users for that query and include a number of selections for each of the search result documents.
- the number of selections for each query may be utilized to determine the number of selections for each search result document for the respective instantiations Q 1 and Q 2 .
- instantiations Q 1 may include queries q 11 and q 12 .
- Query q 11 may have 4,500 selections for document D 1 and query q 12 may have 5,200 selections for document D 1 .
- the total number of selections for instantiations Q 1 may be 9,700 (4,500+5,200).
- entity equivalence determination system 130 may determine a search result document is responsive to instantiations Q 1 and to instantiations Q 2 if the search result document is responsive to any one of the instantiations Q 1 and is also responsive to any one of the instantiations Q 2 . In some implementations entity equivalence determination system 130 may only determine a search result document is responsive to instantiations Q 1 and to instantiations Q 2 if the search result document is responsive to at least a threshold number of the instantiations of Q 1 and is also responsive to at least a threshold percentage of the instantiations Q 2 . In some versions of those embodiments the threshold percentage may be one-hundred percent.
- the document selection rate for a search result document for entity instantiations of a template may be based on the ratio of the number of selections of the search result document for the instantiations to the total number of selections for the instantiations.
- the document selection rate for document D 1 for instantiations Q 1 may be determined as 0.4089, based on the ratio of 9,700 (at position B5) to 23,722 (at position B4).
- the document selection rate for document D 1 for instantiations Q 2 may be determined as 0.4896, based on the ratio of 7,600 (at position F5) to 15,521 (at position F4).
- selection rates for a search result document for entity instantiations of a template are discussed with respect to FIG. 2 as being determined based on a ratio of a number of selections of the search result document for the instantiations to the total number of selections for the instantiations, other techniques may be utilized. For example, instead of determining a number of selections of the search result document for each of the queries of instantiations Q 1 , the selection rate of the search result document for each of the queries of instantiations Q 1 may be determined. The selection rates of the search result document for each of the queries of instantiations Q 1 may be utilized to determine the document selection rate for the instantiation Q 1 . For example, a sum of the selection rates of the search result document for each of the queries of instantiations Q 1 may be utilized.
- instantiations Q 1 may include queries q 11 and q 12 .
- Query q 11 may have a selection rate of 0.1897 for document D 1 and query q 12 may have a selection rate of 0.2192 for document D 1 .
- the document selection rate for document D 1 for instantiations Q 1 may be 0.4089 (0.1897+0.2192).
- the document selection rate for a given entity may be utilized to determine an entity similarity measure for that entity for a pair of query templates.
- one or more document selection rates for query templates T 1 and T 2 for entity E 1 may be utilized to determine an entity similarity measure between query templates T 1 and T 2 for entity E 1 .
- entity similarity measure may be utilized to determine a similarity measure for the query templates T 1 and T 2 .
- an entity similarity measure for query templates T 1 and T 2 for entity E 1 may be based on one or more of the document selection rates for documents D 1 , D 2 , D 3 , and D 4 that satisfy a threshold for both of query templates T 1 and T 2 .
- the threshold may be a fixed threshold.
- the threshold may be based on one or more factors such as the query template, the entity, the type of document, the total number of selections, and so forth. For example, in some implementations it is determined, for each document, whether the document selection rate for that document for both templates T 1 and T 2 satisfies a threshold. If it is determined that the document selection rate for that document for both templates T 1 and T 2 satisfies a threshold, then one or more of the document selection rates may be utilized in determining the entity similarity measure, such as the minimum document selection rate between the two selection rates.
- a threshold of 0.15 may be identified that must be exceeded to be satisfied.
- the document selection rates of documents D 1 and D 2 (0.4089, 0.3878) of query template T 1 may be determined to satisfy the threshold, while the document selection rates of documents D 3 and D 4 (0.1475, 0.0147) of query template T 1 may be determined to not satisfy the threshold.
- document selection rates of documents D 1 , D 2 , and D 3 (0.4896, 0.3382, 0.1772) of query template T 2 may be determined to satisfy the threshold, while the document selection rates of document D 4 (0.1275) of query template T 2 may be determined to not satisfy the threshold. Only the document selection rates of documents D 1 and D 2 satisfy the threshold for both query templates T 1 and T 2 .
- those document selection rates of documents D 1 and D 2 may be utilized in determining an entity similarity measure between the query templates T 1 and T 2 for entity E 1 .
- a normed distance of the document selection rates may be determined and utilized to determine an entity similarity measure.
- the entity similarity measure may be compared to an entity level similarity measure threshold to determine if the similarity measure indicates the query templates T 1 and T 2 are equivalent for the entity E 1 .
- FIG. 2 only illustrates an example of determining document selection rates for a single entity E 1 for the entity class of templates T 1 and T 2
- document selection rates may also be determined for additional entities of the entity class in a similar manner. Such document selection rates may be utilized to determine if query templates T 1 and T 2 are equivalent for an associated entity. For example, for an additional entity E 2 , instantiations of the templates T 1 and T 2 may be determined, and total document selections for each of the instantiations of each of the templates T 1 and T 2 may be determined.
- search result documents that are responsive to one or more of instantiations of T 1 utilizing entity E 2 and responsive to one or more of instantiations of T 2 utilizing entity E 2 may be determined (which may differ from the search result documents related to entity E 1 ) and the number of selections for each search result document for the respective instantiations may be determined. Based on such information document selection rates may be determined for entity E 2 for the templates T 1 and T 2 . In some implementations those document selection rates may be utilized in determining an entity similarity measure between the query templates T 1 and T 2 for entity E 2 .
- one or more term selection rates may additionally and/or alternatively be determined for each of templates T 1 and T 2 for each of search result documents D 1 , D 2 , D 3 , and D 4 that are responsive to one or more of instantiations Q 1 and to one or more of instantiations Q 2 .
- a term selection rate for a given search result document for a given term of a template looks to a collection of queries that are mapped to the document and determines a selection rate of queries of that collection that include the given term.
- a collection of queries that are mapped to the document may be determined from one or more databases such as content database 120 .
- the collection of queries includes all queries that are mapped to the document. In some implementations the collection of queries includes a subset of all queries that are mapped to the document, such as those queries that include an alias of entity E 1 . In some implementations the collection of queries may include those queries of instantiation Q 1 and/or Q 2 and additional queries.
- a term selection rate for document D 1 may be determined for each of one or more terms of template T 1 .
- a term may include multiple words.
- “cell phone” may be a single term.
- a term selection rate may not be determined for one or more terms of template T 1 such as stop words.
- the term selection rate for document D 1 for a given term of template T 1 may be based on the number of selections of the document among those queries of the collection of queries that include the given term as compared to the number of selections for the document among all queries of the collection. For example, assume template T 1 is [places to visit in ⁇ city>] and entity E 1 is the entity associated with the city of San Francisco.
- the collection of queries may include all past queries that include an alias of entity E 1 and are mapped to the document D 1 .
- the number of selections for document D 1 among all queries of the collection may be 10,000.
- those queries of the collection that include the term “places” may be determined and it may be determined that the number of selections among such queries for document D 1 is 1,100.
- the term selection rate for the term “places” may be based on a comparison of 1,100 to 10,000.
- the term selection rate for the term “places” may be determined based on dividing the number of selections for document D 1 among queries that include the term “places” by the number of selections for document D 1 among all queries of the collection.
- the term selection rate for “places” may be determined to be 0.11 (1,100/10,000).
- those queries of the collection that include the term “visit” may be determined and it may be determined that the number of selections among such queries for document D 1 is 1,500.
- the term selection rate for the term “visit” may be based on a comparison of 1,500 to 10,000.
- the term selection rate for the term “places” may be determined to be 0.15 (1,500/10,000). In some implementations term selection rates may not be determined for the terms “to” and “in” of template T 1 .
- an overall term selection rate for document D 1 for entity E 1 for query template T 1 may also be determined based on the individual term selection rates. For example, in some implementations the overall term selection rate may be based on an average, a cosine similarity measure, and/or other statistical measure of the individual term selection rates. In some implementations the overall term selection rate for document D 1 for entity E 1 for query template T 1 may be based on the harmonic mean of the individual term selection rates. For example, the overall term selection rate may be determined based on the following equation:
- n the total number of determined individual term selection rates
- Term Selection Rate k the k th determined term selection rate for the query template.
- a harmonic mean value may indicate that all the terms have a high term selection rate for the given search result document D for the given entity. For example, if the term selection rate for even one Term Selection Rate k is determined to be a low value, then its reciprocal,
- 1 Term ⁇ ⁇ Selection ⁇ ⁇ Rate k may be determined to be a larger value, and this may contribute more to the sum in the denominator for the harmonic mean. Accordingly, the value of the harmonic mean will become correspondingly smaller. Likewise, a higher value for the harmonic mean is indicative of a lower value for the sum in the denominator. Accordingly, the contribution of each summand
- the term selection rate for document D 1 for a given term of template T 2 may likewise be determined.
- template T 2 is [attractions in ⁇ city>] and entity E 1 is the entity associated with the city of San Francisco.
- the collection of queries may include all past queries that include an alias of entity E 1 and are mapped to the document D 1 .
- the number of selections for document D 1 among all queries of the collection may be 10,000.
- those queries of the collection that include the term “attractions” may be determined and it may be determined that the number of selections among such queries for document D 1 is 1,900.
- the term selection rate for the term “attractions” may be based on a comparison of 1,900 to 10,000. For example, the term selection rate for the term “attractions” may be determined to be 0.19 (1,900/10,000).
- Term selection rates may likewise be determined for each of templates T 1 and T 2 for each of search result documents D 2 , D 3 , and D 4 that are responsive to one or more of instantiations Q 1 and to one or more of instantiations Q 2 .
- the term selection rates for a given entity may be utilized to determine an entity similarity measure for that entity for a pair of query templates.
- one or more overall term selection rates for query templates T 1 and T 2 for entity E 1 may be utilized to determine an entity similarity measure between query templates T 1 and T 2 for entity E 1 .
- entity similarity measure may be utilized to determine a similarity measure for the query templates T 1 and T 2 .
- an entity similarity measure for query templates T 1 and T 2 for entity E 1 may be based on one or more of the term selection rates for documents D 1 , D 2 , D 3 , and D 4 that satisfy a threshold for both of query templates T 1 and T 2 .
- the threshold may be a fixed threshold.
- the threshold may be based on one or more factors such as the query template, the entity, the type of document, the total number of selections, and so forth. For example, in some implementations it is determined, for each search result document, whether the term selection rate for that search result document for both templates T 1 and T 2 satisfies a threshold. If it is determined that the term selection rate for that document for both templates T 1 and T 2 satisfies a threshold, then one or more of the term selection rates may be utilized in determining the entity similarity measure, such as the minimum selection rate between the two selection rates.
- a threshold of 0.15 may be identified that must be exceeded to be satisfied.
- the term selection rates of documents D 1 and D 2 of query template T 1 may be determined to satisfy the threshold, while the term selection rates of documents D 3 and D 4 of query template T 1 may be determined to not satisfy the threshold.
- term selection rates of documents D 1 , D 2 , and D 3 of query template T 2 may be determined to satisfy the threshold, while the term selection rates of document D 4 of query template T 2 may be determined to not satisfy the threshold. Only the term selection rates of documents D 1 and D 2 satisfy the threshold for both query templates T 1 and T 2 .
- those term selection rates of documents D 1 and D 2 may be utilized in determining an entity similarity measure between the query templates T 1 and T 2 for entity E 1 .
- a normed distance 2 of the term selection rates may be determined and utilized to determine an entity similarity measure.
- the entity similarity measure may be compared to an entity level similarity measure threshold to determine if the similarity measure indicates the query templates T 1 and T 2 are equivalent for the entity E 1 .
- a high document selection rate for a common search result document with respect to two query templates may be indicative of the common search result document as being relevant to the queries in both the query templates.
- a high harmonic mean of the term selection rates for a common search result document with respect to two query templates may be indicative of the common search result document as being relevant to each term of the respective query templates. Accordingly, a pair of query templates that may have one or more common search result documents for multiple entities that each may be associated with a high document selection fraction and a high harmonic mean of the term selection fractions, may have a high likelihood of being equivalent query templates.
- the entity similarity measure between two query templates for a given entity may be based on both the document selection rates and the term selection rates. For example, for a pair of query templates T 1 and T 2 that each have instantiations based on entity E, and a search result document D that is responsive to one or more such instantiations for both of query templates T 1 and T 2 , the template equivalence determination system 130 may determine, for the document D: a document selection rate for query template T 1 of DSR(T 1 , D), a document selection rate for the query template T 2 of DSR(T 2 , D), an overall term selection rate for the query template T 1 of TSR(T 1 D), and an overall term selection rate for the query template T 2 of TSR(T 2 , D).
- Entity Similarity Measure Contribution for D Min[(DSR( T 1 ,D )*TSR( T 1 ,D )),(DSR( T 2 ,D )*TSR( T 2 ,D ))], where Min [X, Y] denotes the minimum of the values of X and Y.
- the entity similarity measure between two query templates for a given entity may be based on the minimum of: the product of the document selection rate and overall term selection rate for a first of the query templates; and the product of the document selection rate and overall term selection rate for a second of the query templates
- DSR(T 1 , D), DSR(T 2 , D), TSR(T 1 , D), and/or TSR(T 2 , D) may be set to zero, thereby causing the entity similarity measure to be zero.
- various techniques may be utilized for determining the overall term selection rate for a query template, including determining the overall term selection rate based on a harmonic mean of individual term selection rates for the query template. Also, as discussed herein, various techniques may be utilized for determining the document selection rate for the query template.
- the entity similarity measure between two query templates for a given entity may be determined by aggregating the entity similarity measure contributions for each of the search result documents that are responsive to one or more instantiations for both of the query templates.
- the entity similarity measure contribution for each of the search result documents may be aggregated utilizing one or more techniques, including a sum, a weighted average, a linear combination, and so forth.
- the entity similarity measure between two query templates may be determined by determining the I 2 -mean of the similarity measure contribution for each of the search result documents.
- the I 2 -mean of K real numbers Y 1 , Y 2 , . . . , Y K may be determined as:
- the entity similarity measure may be determined as the I 2 -mean of the similarity measure contributions for each of the search result documents D 1 , D 2 , . . . , D K .
- the entity similarity measure may be determined based on the following equation:
- a multi-attribute document is a document that describes more than a threshold number of attributes of the entity collection of the query templates.
- the threshold is one.
- the threshold may be another relatively low number of attributes such as two, three, or four.
- Attributes of an entity collection are one or more aspects of the entity collection that may each be utilized to define an aspect of entities of the entity collection.
- attributes of the entity collection “City” may include, “Area”, “Population”, and “Unemployment Rate”.
- the entity collection “Country” may include attributes such as “population”, “GDP”, “area”, and so forth.
- Presidents may include “term in office”, “date of birth”, “height”, “weight”, “name of spouse”, “location of the Presidential Library”, and so forth.
- the query template [height of ⁇ President>] may be instantiated with the entity associated with President “Bill Clinton” and one or more search result documents may be identified that are responsive to the query “height of Bill Clinton”.
- a search result document that is associated with high popularity scores for attributes “height” and “weight” may be determined to be a multi-attribute document and, for example, may not be selected as a search result document that may be relevant to the identification of template equivalence.
- a database such as content database 120 may store data related to whether a document is a multi-attribute document.
- an identifier of the document in the content database 120 may include mappings to one or more attributes associated with the document.
- the template equivalence determination system 130 may determine, based on the contents of the document, whether the document is a multi-attribute document.
- the template equivalence determination system 130 may determine the search result document lacks description of multiple attributes of the entity collection if a selection rate threshold for the search result document is only satisfied by queries that contain a single attribute of the entity collection.
- search result document For example, for attributes associated with an entity collection of “President”, a search result document that is only mapped to queries containing a single attribute of that entity collection and having a selection rate for the document that exceeds a threshold, the search result document may be determined to not be a multi-attribute document.
- search result document For attributes associated with an entity collection of “President”, a search result document that is mapped to one or more queries containing the attribute “height” and exceeding the selection rate threshold for the document and one or more queries containing the attribute “weight” and exceeding the selection rate threshold for the document, such search result document may be determined to be a multi-attribute document.
- FIG. 3 an example table is illustrated that will be utilized to describe an example of determining an entity similarity measure between a pair of query templates for an entity.
- the rows are labeled by letters A through E and the columns are labeled by numbers 1 through 5.
- a position XY will refer to the entry in row X and column Y.
- Column 1 provides document selection rates (DSR) for the query template T x , for a document D x that is responsive to one or more instantiations of the query template T x based on entity E 1 .
- the document selection rate illustrated at position B1 in FIG. 3 is 0.4089.
- the query template equivalence system 130 may determine the document selection rates of Column 1 utilizing techniques described herein.
- Column 2 provides document harmonic means of term selection rates (HMTSR) for the query template T x , for a document D x that is responsive to one or more instantiations of the query template T x based on entity E 1 .
- HMTSR term selection rate
- the term selection rate illustrated at position B2 in FIG. 4 is 0.5929.
- the query template equivalence system 130 may determine the term selection rates of Column 2 utilizing techniques described herein.
- Column 3 provides the product of the document selection rates and the term selection rates of Column 2.
- 0.2424 illustrated in position C2 in FIG. 4 is the product of the DSR of position B1 (0.4089) and the HMTSR of position B2 (0.5929).
- the query template equivalence system 130 may determine the values of Column 3.
- Column 4 provides the entity similarity measure contribution for the document D x .
- the entity similarity measure for the document D 1 is illustrated as 0.2424.
- the entity similarity measure contribution for the document D x is the minimum value for document D x in Column 3.
- Column 5 provides the entity similarity measure between a pair of query templates for the entity E 1 .
- the entity similarity measure is illustrated as 0.3062.
- the entity similarity measure is determined by the I 2 -mean of the entity similarity measure contribution for the documents D 1 and D 2 .
- the similarity measure between two query templates may be determined based on the entity similarity measures for multiple entities for which instantiations of the two query templates are determined. For example, a query template T 1 may be identified as [attractions in ⁇ City>] and a query template T 2 may be identified as [places to visit in ⁇ City>]. For the entity E 1 associated with the city “San Francisco”, an entity similarity measure between the two query templates for the entity E 1 may be determined as discussed herein. Additional entity similarity measures may be determined for, for example, an entity E 2 associated with the city “Los Angeles”; an entity E 3 associated with the city “Seattle”; an entity E 4 associated with the city “Las Vegas”; and so forth.
- the similarity measure may be based on the number of entity similarity measures that satisfy an entity similarity measure threshold.
- the similarity measure of a query template pair may be based on a ratio of the number of entity similarity measures that satisfy an entity similarity measure threshold to the total number of entities for the entity category of the query template pair. For example, if the number of entity similarity measures that satisfy an entity similarity measure threshold is 50 and the total number of entities for the entity category of the query template pair is 100, the similarity measure may be 0.5 (50/100).
- the similarity measure between two query templates may be determined by aggregating (e.g., determining the I 2 -mean, a weighted average, a linear combination, and so forth) of the entity similarity measures for each entity.
- the template equivalence determination system 130 may identify two query templates to be equivalent based on their similarity measure.
- a threshold may be utilized to identify if two query templates may be equivalent.
- the threshold may be 0.618, and a pair of query templates may be identified as equivalent query templates if their similarity measure is greater than 0.618.
- the similarity measure between the query templates [attractions in ⁇ City>] and [places to visit in ⁇ City>] may be determined to be 0.7521. Having satisfied the threshold of 0.618, the query templates [attractions in ⁇ City>] and [places to visit in ⁇ City>] may be determined to be query templates that are equivalent.
- the template similarity measure between the query templates [attractions in ⁇ City>] and [weather in ⁇ City>] may be determined to be 0.0029. Having failed to satisfy the threshold of 0.618, the query templates [attractions in ⁇ City>] and [weather in ⁇ City>] may be determined to be query templates that are not equivalent.
- two query templates may be identified as equivalent based on the template equivalence of each of the two query templates to a third query template.
- the template equivalence determination system 130 may determine that a first query template is equivalent to a second query template, and that the second query template is equivalent to a third query template. Accordingly, based at least in part on such determinations, the template equivalence determination system 130 may determine that the first query template is equivalent to the third query template. In some implementations, such determination may additionally and/or alternatively be based on similarity measures and/or one or more thresholds for similarity measures.
- first and third query templates may be identified as equivalent to each other if four conditions are satisfied: (1) the first query template is equivalent to a second query template; (2) the third query template is equivalent to the second query template; (3) a first similarity measure between the first and second query templates satisfies a threshold; and (4) a second similarity measure between the second and third query templates satisfies a threshold.
- the threshold that needs to be satisfied by the first similarity measure between the first and second query templates and/or the threshold that needs to be satisfied by second similarity measure between the second and third query templates may be an elevated threshold relative to threshold(s) utilized to determine the first and third query templates are equivalent and/or to determine if the second and third query templates are equivalent. The elevated threshold may be utilized to help ensure the first and third query templates are equivalent since limited comparisons or no direct comparisons between such query templates may be performed.
- the template equivalence determination system 130 may determine two or more queries that are instantiations of equivalent query templates as similar queries based on a determination of equivalence of the respective query templates. For example, having determined that the query templates [attractions in ⁇ City>] and [places to visit in ⁇ City>] are equivalent query templates, the template equivalence determination system 130 may identify that queries that are instantiations for the two templates are similar queries.
- the queries “attractions in San Francisco”, “attractions in sfo”, “attractions in sf”, “places to visit in San Francisco”, “places to visit in sf” and “places to visit in sfo” may be determined to be similar queries.
- Such similar queries may be provided to the user as suggestions, utilized to determine additional search results for the submitted query, and/or submitted in lieu of the submitted query.
- an expanded set of query suggestions may be determined based on determined equivalent query templates. For example, for a partial query of “attr sfo” an existing query suggestion may be “attractions sfo”. Based on template equivalence of the query templates [attractions in ⁇ City>] and [places to visit in ⁇ City>], template equivalence determination system 130 may identify “places to visit in sfo” and “attractions sfo” as similar queries and determine a query suggestion of “places to visit in sfo” for the partial query “attr sfo”. Additionally, in response to a submitted query, similar queries to the submitted query may be identified based on determined template equivalence between query templates and the similar queries provided to the user.
- the content database 120 , the template equivalence determination system 130 , and/or the search system 140 may be implemented in hardware, firmware, and/or software running on hardware.
- one or more of the systems may be implemented in one or more computer servers.
- search system 140 may be omitted.
- FIG. 4 a flow chart illustrates an example method of determining whether query templates are equivalent.
- Other implementations may perform the steps in a different order, omit certain steps, and/or perform different and/or additional steps than those illustrated in FIG. 4 .
- FIG. 4 will be described with reference to a system of one or more computers that perform the process.
- the system may include, for example, the template equivalence determination system 130 of FIG. 1 .
- first and second query templates may be determined.
- the first and second query templates may each include one or more terms, and an identifier of an entity collection.
- Each of the query templates includes an identifier for the entity collection “City”.
- one or more instantiations for the first query template may be determined for an entity of the entity collection.
- one or more past user queries may be determined that conform to the first query template and include an entity of the entity collection.
- instantiations for the query template [attractions in ⁇ City>] may be determined for the entity associated with the city “San Francisco” based on one or more aliases of the entity.
- instantiations may include [attractions in sfo], [attractions in san franciso], and so forth.
- one or more instantiations for the second query template may be determined for the entity of the entity collection.
- one or more past user queries may be determined that conform to the second query template and include an entity of the entity collection.
- instantiations for the query template [places to see in ⁇ City>] may be determined for the entity associated with the city “San Francisco” based on one or more aliases of the entity.
- instantiations may include [places to see in sfo], [places to see in san fran], and so forth.
- search result document D 1 may be responsive to at least the instantiation [attractions in sfo] and may also be responsive to at least the instantiation [places to see sfo].
- At step 420 at least one of a document selection rate for the document for the instantiations of the first query template and one or more term selection rates for the document for the first query template are determined. In some implementations both of the document selection rate and the one or more term selection rates are determined.
- the document selection rate may be indicative of the selection rate of the document for all of the instantiations of step 405 .
- each term selection rate may be for a respective term of the first query template that is indicative of selections of the document from a set of queries containing only queries that include the term compared to selections of the document from a set of queries also containing queries that do not include the term.
- the set of queries containing only queries that include the term is a subset of the set of queries also containing queries that do not include the term.
- the set of queries are queries that are mapped to the document and that optionally include an alias of the entity of the instantiations.
- an overall term selection rate may be determined based on one or more individual term selection rates.
- At step 425 at least one of a document selection rate for the document for the instantiations of the second query template and one or more term selection rates for the document for the second query template are determined. In some implementations both of the document selection rate and the one or more term selection rates are determined.
- the document selection rate may be indicative of the selection rate of the document for all of the instantiations of step 410 .
- each term selection rate may be for a respective term of the second query template that is indicative of selections of the document from a set of queries containing only queries that include the term compared to selections of the document from a set of queries also containing queries that do not include the term.
- the set of queries containing only queries that include the term is a subset of the set of queries also containing queries that do not include the term.
- the set of queries are queries that are mapped to the document and that optionally include an alias of the entity of the instantiations.
- an overall term selection rate may be determined based on one or more individual term selection rates.
- a similarity measure between the first query template and the second query template is determined.
- the similarity measure may be determined based on the determinations made in step 420 and step 425 utilizing, for example, techniques discussed herein.
- the similarity measure is based on an entity similarity measure determined for the entity of the instantiations of steps 405 and 410 .
- the entity similarity measure may be determined based on the determinations made in step 420 and step 425 utilizing, for example, techniques discussed herein.
- steps 405 - 425 may be iterated multiple times, with each iteration being for a different entity of the entity collection.
- An entity similarity measure for each entity of the iterations may be determined based on the determinations made in step 420 and step 425 for that entity.
- the similarity measure between the first query template and the second query template of step 430 may be based on the entity similarity measures for multiple of the entities.
- step 435 it is determined whether the first query template and the second query template are equivalent query templates based on the similarity measure. For example, if the similarity measure satisfies a similarity measure threshold the first query template and the second query template may be determined to be equivalent query templates.
- FIG. 5 is a block diagram of an example computer system 510 .
- Computer system 510 typically includes at least one processor 514 which communicates with a number of peripheral devices via bus subsystem 512 .
- peripheral devices may include a storage subsystem 524 , including, for example, a memory subsystem 525 and a file storage subsystem 526 , user interface input devices 522 , user interface output devices 520 , and a network interface subsystem 516 .
- the input and output devices allow user interaction with computer system 510 .
- Network interface subsystem 516 provides an interface to outside networks and is coupled to corresponding interface devices in other computer systems.
- User interface input devices 522 may include a keyboard, pointing devices such as a mouse, trackball, touchpad, or graphics tablet, a scanner, a touchscreen incorporated into the display, audio input devices such as voice recognition systems, microphones, and/or other types of input devices.
- pointing devices such as a mouse, trackball, touchpad, or graphics tablet
- audio input devices such as voice recognition systems, microphones, and/or other types of input devices.
- use of the term “input device” is intended to include all possible types of devices and ways to input information into computer system 510 or onto a communication network.
- User interface output devices 520 may include a display subsystem, a printer, a fax machine, or non-visual displays such as audio output devices.
- the display subsystem may include a cathode ray tube (CRT), a flat-panel device such as a liquid crystal display (LCD), a projection device, or some other mechanism for creating a visible image.
- the display subsystem may also provide non-visual display such as via audio output devices.
- output device is intended to include all possible types of devices and ways to output information from computer system 510 to the user or to another machine or computer system.
- Storage subsystem 524 stores programming and data constructs that provide the functionality of some or all of the modules described herein.
- the storage subsystem 524 may include the logic to determine document selection rates, term selection rates, entity similarity measures, and/or template similarity measures.
- the storage subsystem 524 may include the logic to determine whether query templates are equivalent query templates based on a similarity measure.
- Memory 525 used in the storage subsystem can include a number of memories including a main random access memory (RAM) 530 for storage of instructions and data during program execution and a read only memory (ROM) 532 in which fixed instructions are stored.
- a file storage subsystem 526 can provide persistent storage for program and data files, and may include a hard disk drive, a floppy disk drive along with associated removable media, a CD-ROM drive, an optical drive, or removable media cartridges.
- the modules implementing the functionality of certain implementations may be optionally stored by file storage subsystem 526 in the storage subsystem 524 , or in other machines accessible by the processor(s) 514 .
- Bus subsystem 512 provides a mechanism for letting the various components and subsystems of computer system 510 communicate with each other as intended. Although bus subsystem 512 is shown schematically as a single bus, alternative implementations of the bus subsystem may use multiple busses.
- Computer system 510 can be of varying types including a workstation, server, computing cluster, blade server, server farm, or any other data processing system or computing device. Due to the ever-changing nature of computers and networks, the description of computer system 510 depicted in FIG. 5 is intended only as a specific example for purposes of illustrating some implementations. Many other configurations of computer system 510 are possible having more or fewer components than the computer system depicted in FIG. 5 .
- inventive implementations are presented by way of example only and that, within the scope of the appended claims and equivalents thereto, inventive implementations may be practiced otherwise than as specifically described and claimed.
- inventive implementations of the present disclosure are directed to each individual feature, system, article, material, kit, and/or method described herein.
- a reference to “A and/or B”, when used in conjunction with open-ended language such as “comprising” can refer, in one implementation, to A only (optionally including elements other than B); in another implementation, to B only (optionally including elements other than A); in yet another implementation, to both A and B (optionally including other elements); etc.
- the phrase “at least one,” in reference to a list of one or more elements, should be understood to mean at least one element selected from any one or more of the elements in the list of elements, but not necessarily including at least one of each and every element specifically listed within the list of elements and not excluding any combinations of elements in the list of elements.
- This definition also allows that elements may optionally be present other than the elements specifically identified within the list of elements to which the phrase “at least one” refers, whether related or unrelated to those elements specifically identified.
- “at least one of A and B” can refer, in one implementation, to at least one, optionally including more than one, A, with no B present (and optionally including elements other than B); in another implementation, to at least one, optionally including more than one, B, with no A present (and optionally including elements other than A); in yet another implementation, to at least one, optionally including more than one, A, and at least one, optionally including more than one, B (and optionally including other elements); etc.
- database will be used broadly to refer to any collection of data.
- the data of the database does not need to be structured in any particular way, or structured at all, and it can be stored on storage devices in one or more geographic locations.
Abstract
Methods and apparatus for determining whether query templates that have the same entity collection identifier are semantically equivalent query templates based on determining a similarity measure between the query templates. The similarity measure may be based on various factors. For example, in some implementations the similarity measure may be based on a number of the entities of the entity collection that instantiate both of the query templates in a record of past user queries. Also, for example, in some implementations the similarity measure may be based on a number of the entities of the entity collection that instantiate both of the query templates in a record of past user queries and are determined to be entities that satisfy a threshold level of entity similarity between the query templates. In some implementations, terms of two query templates that are determined to be equivalent may be determined to be synonymous.
Description
This specification is directed generally to determining whether query templates are semantically equivalent query templates.
Different search queries are often issued by users that are seeking the same type of information. For example, a first user may issue a first query and navigate to a first search result document for the query in seeking certain information. A second user may issue a unique second query and navigate to the same search result document in seeking the same information.
The present disclosure is directed to methods and apparatus for determining whether query templates are semantically equivalent query templates. A query template, as used herein, includes one or more terms and an identifier of an entity collection. An entity collection is a grouping of entities that share one or more aspects in common. For example, the query template [life expectancy in <Country>] includes the terms “life”, “expectancy”, and “in” and the identifier “Country” that identifies an entity collection of Countries. Techniques discussed herein may utilize instantiations of the query template in determining whether query templates are semantically equivalent. Generally speaking, an instantiation of the query template includes one or more terms of the query template and an alias of an entity of the entity collection of the query template. For example, instantiations of the query template [life expectancy in <Country>] include [life expectancy in india] and [life expectancy in United States], with “india” being an alias of an entity that belongs to the collection “Country” and “united states” likewise being an alias of an entity that belongs to the entity collection “Country”.
Whether two query templates that have the same entity collection identifier are determined to be equivalent query templates may be based on determining a similarity measure between the query templates. For example, whether the query template [life expectancy in <Country>] is equivalent to the query template [average life span in <Country>] may be based on a similarity measure between the query templates. Various factors on which the similarity measure may be based are discussed herein and one or more of such factors may be utilized in determining the similarity measure. For example, in some implementations the similarity measure may be based on a number of the entities of the entity collection that instantiate both of the query templates in a record of past user queries. Also, for example, in some implementations the similarity measure may be based on a number of the entities of the entity collection that instantiate both of the query templates in a record of past user queries and are determined to be entities that satisfy a threshold level of entity similarity between the query templates. In some implementations, terms of two query templates that are determined to be equivalent may be determined to be synonymous. For example, if the query template [life expectancy in <Country>] is determined to be equivalent to the query template [average life span in <Country>], the phrases “life expectancy” and “average life span” may be determined to be equivalent.
In some implementations a computer implemented method may be provided that includes the steps of: determining a first query template, the first query template including one or more first template terms and an identifier of an entity collection, and the entity collection being a grouping of entities that share one or more aspects in common; determining a second query template, the second query template including one or more second template terms and the identifier of the entity collection, and the second template terms including at least one term that is unique from the first template terms; identifying a given entity of the entity collection; determining first query template instantiations for the given entity, each first query template instantiation including the first template terms and one of one or more aliases of the entity; determining second query template instantiations, each second query template instantiation including the second template terms and one of the one or more aliases of the entity; determining a search result document that is responsive to one or more of the first query template instantiations and responsive to one or more of the second query template instantiations; determining a first document selection rate of the search result document for the first query template instantiations; determining a second document selection rate of the search result document for the second query template instantiations; determining a similarity measure between the first query template and the second query template, the similarity measure based on the first document selection rate and the second document selection rate; and determining whether the first and second query templates are equivalent query templates based on the similarity measure.
This method and other implementations of technology disclosed herein may each optionally include one or more of the following features.
In some implementations the method may further comprise determining, for the given entity: one or more first term selection rates for the search result document, each first term selection rate being for one first template term of one or more of the first template terms for the search result document; and one or more second term selection rates for the search result document, each second term selection rate being for one second template term of one or more of the second template terms for the search result document. The determination of the similarity measure between the first query template and the second query template may be further based on the first query template term selection rate and the second query template term selection rate. In some implementations each first term selection rate may be based on a selection rate of the search result document among a first query set that includes only queries that include the given entity and the first template term; and each second term selection rate may be based on a selection rate of the search result document among a second query set that includes only queries that include the given entity and the second template term. In some implementations the method may further comprise: determining a first harmonic mean of the first query template term selection rates; and determining a second harmonic mean of the second query template term selection rates. The determination of the similarity measure between the first query template and the second query template may be further based on the first harmonic mean and the second harmonic mean. In some implementations the determination of the similarity measure between the first query template and the second query template may be further based on multiplying the first selection rate by the first harmonic mean and multiplying the second selection rate by the second harmonic mean, and determining a minimum value of the multiplications.
The method may further comprise determining that the first selection rate and the second selection rate satisfy a selection rate threshold.
The method may further comprise determining that the search result document lacks description of multiple attributes of the entity collection and only utilizing the search result document if it lacks description of multiple attributes. In some implementations determining that the search result document lacks description of multiple attributes of the entity collection may include determining that a selection rate threshold for the search result document is only satisfied by queries that contain a single attribute of the entity collection.
The first query template instantiations and the second query template instantiations may be determined from a record of past queries. In some implementations the record of past queries may include only those queries submitted with at least a threshold level of frequency.
The method may further comprise: determining additional entities of the entity collection; determining, for each additional entity of the additional entities: additional first instantiations for the additional entity based on the first query template, additional second instantiations for the additional entity based on the second query template, an additional search result document that may be responsive to one or more of the additional first query template instantiations and responsive to one or more of the additional second query template instantiations, an additional first document selection rate of the search result document for the additional first query template instantiations, an additional second document selection rate of the search result document for the additional second query template instantiations, and determining an additional entity similarity measure based on the additional first document selection rate and the additional second document selection rate. In some implementations the determination as to whether the first and second query templates are equivalent query templates may be based on an entity similarity measure satisfaction number based on the quantity of the entity similarity measure and the additional entity similarity measures that may satisfy a threshold. In some implementations the determination as to whether the first and second query templates are equivalent query templates may be further based on a total entity number based on the quantity of the given entity and the additional entities.
In some implementations the method may further comprise determining that the first template terms and the second template terms are synonymous based on determining that the first and second query templates are equivalent query templates.
In some implementations a computer implemented method may be provided that includes the steps of: determining a first query template, the first query template including one or more first template terms and an identifier of an entity collection, the entity collection being a grouping of entities that share one or more aspects in common; determining a second query template, the second query template including one or more second template terms and the identifier of the entity collection, the second template terms including at least one term that is unique from the first template terms; identifying entities of the entity collection; determining entity groups of instantiations of the first query template and the second query template, each entity group including first query template instantiations of past queries for a given entity of the entities and second query template instantiations of the past queries for the given entity, each first query template instantiation of the entity group including the first template terms and one or multiple aliases of the given entity and each second query template of the entity group including the second template terms and one or multiple aliases of the given entity; determining, for each entity group, an entity similarity measure for the given entity of the entity group; and determining whether the first and second query templates are equivalent query templates based on the entity similarity measures for multiple of the entity groups.
This method and other implementations of technology disclosed herein may each optionally include one or more of the following features.
The entity similarity measure for the entity group may be based on: document selection rates of one or more search result documents responsive to the first query template instantiations and the second query template instantiations of the entity groups, the document selection rates being for the first query template instantiations of the entity group and the second query template instantiations of the entity group; and term selection rates of the one or more search result documents, the term selection rates being for the first terms of the first query template instantiations of the entity group and the second terms of the second query template instantiations of the entity. In some implementations determining whether the first and second query templates are equivalent query templates may be based on the quantity of the entity similarity measures for the multiple of the entity groups that satisfy a similarity measure threshold. In some implementations determining whether the first and second query templates are equivalent query templates may be based on the quantity of the entity similarity measures for the multiple of the entity groups that satisfy a similarity measure threshold and the total number of entities of the entity collection.
Other implementations may include a non-transitory computer readable storage medium storing instructions executable by a processor to perform a method such as one or more of the methods described herein. Yet another implementation may include a system including memory and one or more processors operable to execute instructions, stored in the memory, to perform a method such as one or more of the methods described herein.
Particular implementations of the subject matter described herein identify a pair of query templates and determine a similarity measure for the pair of query templates. The determined similarity measure represents a new aspect of the pair of query templates and may be utilized to determine if the query templates are semantically equivalent query templates.
It should be appreciated that all combinations of the foregoing concepts and additional concepts discussed in greater detail herein are contemplated as being part of the inventive subject matter disclosed herein. For example, all combinations of claimed subject matter appearing at the end of this disclosure are contemplated as being part of the inventive subject matter disclosed herein.
Technology described herein is useful in determining whether query templates are semantically equivalent. As discussed, a query template, as used herein, includes one or more terms and an identifier of an entity collection. For example, the query template [attractions in <City>] includes the terms “attractions in” and the identifier “City” that identifies an entity collection of cities. Techniques discussed herein may utilize instantiations of the query template for multiple entities of the entity collection in determining whether query templates are semantically equivalent. For example, instantiations of the query template [attractions in <City>] include [attractions in san francisco], [attractions in sfo], and [attractions in new orleans], with “san francisco” and “sfo” being aliases of an entity that belongs to the collection “City” and “new orleans” likewise being an alias of an entity that belongs to the entity collection “City”.
Whether two query templates that have the same entity collection identifier are determined to be equivalent query templates may be based on determining a similarity measure between the query templates. For example, whether the query template [attractions in <City>] is equivalent to the query template [places to visit in <City>] may be based on a similarity measure between the query templates. Various factors on which the similarity measure may be based are described herein and one or more of such factors may be utilized in determining the similarity measure. For example, in some implementations the similarity measure may be based on entities from the entity collection of the query templates that instantiate both of the templates in a record of past user queries. For example, assuming 1,000,000 entities are present in the entity collection “City”, if 500,000 of those entities instantiated both of the query templates in a record of past user queries, it may be more indicative of similarity between the two query templates than if only 1,000 of those entities instantiated both of the query templates in a record of past user queries.
Also, for example, in some implementations the similarity measure may be based on a number of the entities of the entity collection that instantiate both of the query templates in a record of past user queries and are determined to be entities that have a threshold level of entity similarity between the query templates. For example, entity similarity between the query templates for a given entity may be based on, for a given search result document responsive to entity instantiations of both of the query templates, one or more of selection rates for the entity instantiations of the query templates for the given search result document, term selection rates for terms of the query templates for the given search result document, and/or a determination that the search result document is not a document that describes multiple attributes of the entity collection of the query templates. Attributes of an entity collection are one or more aspects of the entity collection that may each be utilized to define an aspect of entities of the entity collection. For example, attributes of the entity collection “City” may include, “Area”, “Population”, and “Unemployment Rate”.
Equivalence of query templates may be utilized, in some implementations, to determine synonymous terms. For example, if the first query template [attractions in <City>] and the second query template [places to visit in <City>] are determined to be equivalent, one or more terms of the first query and the second query may be determined to be synonymous. For example, “attractions” and “places” may be determined to be synonymous and/or “attractions in” and “places to visit in” may be determined to be synonymous.
The client device 110 may execute one or more applications, such as a web browser 115. The client device 110 may be, for example, a desktop computing device, a laptop computing device, a tablet computing device, a mobile phone computing device, a tablet computing device, a computing device of a vehicle of the user (e.g., an in-vehicle communications system, an in-vehicle entertainment system, an in-vehicle navigation system), a wearable apparatus of the user that includes a computing device (e.g., a watch of the user having a computing device, glasses of the user having a computing device). Additional and/or alternative computing devices may be provided.
In some implementations the template equivalence determination system 130 determines a query template pair to determine if the query template pair is equivalent. Each query template of the query template pair includes one or more terms and an identifier of an entity collection. For example, a first query template [attractions in <City>] may be determined and a second query template [places to visit in <City>] may be determined. In some implementations the query templates may be identified based on a record of queries such as a record of past queries in content database 120. Past queries may include queries issued via one or more computing devices of users such as client device 110. For example, a query template may be determined if a threshold number of past queries conform to the query template and/or if a threshold number of past queries that conform to the query template have been submitted with at least a threshold level of frequency. Also, for example, a query template may be generated from a past query by replacing an entity in the past query with an identifier for the entity collection of that entity. For example, the query [life expectancy in india] includes the entity associated with the country “India”, and this entity belongs to the entity collection for “Country”. Accordingly, the query template [life expectancy in <Country>] may be generated from the query [life expectancy in india] by replacing the entity associated with the country “India” with an identifier for an entity collection of that entity, “Country”. As another example, the query [places to visit in sfo] includes the entity associated with the city “San Francisco”, and this entity belongs to the entity collection for “City” and belongs to the entity collection “California City”. Accordingly, the query template [places to visit in <City>] may be generated from the query [places to visit in sfo] by replacing the entity associated with the city “sfo” with an identifier for the entity collection of that entity, “City”; and/or the query template [places to visit in <California City>] may be generated from the query [places to visit in sfo] by replacing the entity associated with the city “sfo” with an identifier for an entity collection of that entity, “Category City”. In some implementations the query templates may be identified from a database such as content database 120 that includes a collection of query templates. For example, [attractions in <City>] and [places to visit in <City>] may be query templates that may be stored in content database 120.
In some implementations content database 120 and/or other database may store information related to different entity collections. The information related to different entity collections may be utilized, for example, to enable determination of the query templates and/or to determine one or more factors for a similarity measure. The information related to different entity collections may include, for example, a list of entity collections such as “Country”, “City”, “Rivers”, “Dish”, “Food”, and so forth. The information related to different entity collections may also include information related to the set of entities that may be included in each entity collection. For example, the entity collection “Country” may be mapped to entities associated with countries such as the countries of “US”, “Australia”, “India”. As another example, the entity collection “City” may be mapped to entities associated with cities such as “San Francisco”, “Las Vegas”, and “Seattle”. Also, for example, the entity collection “River” may be mapped to entities associated with rivers such as the “Mississippi”, “Amazon”, and “Ganges” rivers. The information related to different entity collections may also include, for example, metadata associated with the entity collections and/or attributes of the entity collections.
In some implementations query templates may be determined based on search results and/or search result documents related to the query templates. For example, a given search result document may be responsive to queries conforming to one or more query templates, and for such queries, the given search result document may have a selection rate that satisfies a threshold. As referred to herein, a “selection” of a virtual object, a search result, and/or an online resource may include, for example a mouse-click, a click-through, a voice-based selection, a selection by a user's finger on a presence-sensitive input mechanism (e.g., a touch-screen device), and/or any other appropriate selection mechanism. For example, a selection rate of a search result document for a search query may be based on the number of selections of a search result for that search result document that is provided in response to the search query. As another example of determining query templates based on search results and/or search result documents related to the query templates, the given search result document may be responsive to queries conforming to one or more query templates, and for such queries, the given search result document may be among the X highest ranked search results, wherein X is representative of an integer. Also, for example, in some implementations a given search result document associated with a search result having the highest selection rate for a given query conforming to a query template having an entity of an entity collection may be identified. The query template to which the given query conforms may be determined to be a first query template of the query template pair. Additional queries that include an entity from the entity collection and to which the search result document is responsive may also be identified. One or more of such additional queries may be utilized to determine the second query template of the query template pair.
In some implementations a database such as the content database 120 may only include past queries having submission rates above a certain threshold. In some implementations the content database 120 may only include past queries that satisfy a time threshold. For example, any past queries that are more than a year old may not be stored in the content database 120. Additional restrictions may optionally apply to any stored data such as the exclusion of certain queries such as queries not issued by more than a threshold number of users. The content database 120 may be collectively stored in one or more storage mediums. In this specification, the term “database” will be used broadly to refer to any collection of data. The data of the database does not need to be structured in any particular way, or structured at all, and it can be stored on storage devices in one or more geographic locations. Thus, for example, the content database 120 may include multiple collections of data, each of which may be organized and accessed differently.
In some implementations a query template may be identified based on a query submitted by a user and/or one or more other actions of the user. For example, the user may issue a search query via client device 110. In some implementations the search system 140 may receive the search query and the template equivalence determination system 130 may determine a query template based on the search query. For example, the user may submit a search query [weather in Florida]. The search system 140 may receive the search query and the template equivalence determination system 130 may determine a query template of [weather in <State>] based on the search query.
Additional and/or alternative methods may be utilized in determining a query template such as methods based on identification and/or analysis of similar queries. For example, in some implementations the template equivalence determination system 130 may utilize keyword matching, phrase matching, and/or contextual similarity matching of phrases in determining query templates. Also, for example, soft matching and/or exact matching of terms and/or phrases may be utilized. In some implementations soft matching between terms and/or phrases may be based on determining an edit distance between the terms and/or phrases and comparing that to a threshold. In some implementations soft matching between terms and/or phrases may be based on comparing canonicalized versions of terms and/or phrases. For example, terms and/or phrases could be stemmed and their stop words removed, before matching. Stop words include words that are common and may include articles such as “a”, “an,” “and,” and “the”; prepositions such as “of,” “to” and “for”; auxiliary verbs such as “have” and “were”; and/or typical initial words in questions such as “who”, “how” and “where”.
In some implementations users may interact with the search system 140 through one or more client devices 110 and/or the template equivalence identification system 130 may interact with the search system 140. The search system 140 may include memory for storage of data and software applications, a processor for accessing data and executing applications, and components that facilitate communication over the communication network 101. The client devices 110 may execute applications, such as web browsers (e.g., web browser 115 executing on client device 110), that allow users to formulate queries and submit them to the search system 140. The search system 140 may receive queries from one or more client devices 110 and/or the template equivalence identification system 130 and may execute the queries against a database of available documents such as web pages, images, text documents, and multimedia content. The search system 140 may identify search result documents which match a submitted query, and may respond by generating search results that identify the search result documents. For example, in response to a query issued by the client device 110 the search system 140 may provide search results to the client device 110 in a form that can be presented to a user via the client device. For example, in response to a query from the client device 110, the search system 140 may provide a search results web page to be displayed in the web browser 115 executing on the client device 110.
In some implementations, the template equivalence identification system 130 may identify, for each query template, one or more entities of the entity collection of the query template. In some implementations, entities may be persons, places, concepts, and/or things that may be referred to by a text fragment (e.g., a term or phrase) and are distinguishable from one another (e.g., based on context). For example, [attractions in <City>] is a query template that includes an entity collection “City” that includes multiple entities associated with cities, such as the cities of “San Francisco”, “Las Vegas”, Hong Kong”, and so forth. As another example, [life expectancy in <Country>] is a query template that includes an entity collection “Country” that includes multiple entities associated with countries, such as the countries “US”, “India”, “Australia”, and so forth.
For a given query template, the template equivalence identification system 130 may determine instantiations of the query template. Each instantiation of the query template includes the non-entity collection terms of the query template and an alias of an entity that belongs to the entity collection of the query template. For example, instantiations of the query template [attractions in <City>] may include [attractions in san Francisco] and [attractions in LA]. In some implementations template equivalence identification system 130 may determine instantiations of the query template for a given entity of the entity collection by determining the entity is part of the entity collection of the query template, determining aliases of the entity, and generating each instantiation by including an alias of the entity with the non-entity collection terms of the query template. For example, for the query template [attractions in <City>], the entity associated with the city of “Los Angeles” in California may be determined, and aliases of the entity may determined such as “Los Angeles”, “LA”, and “City of Angels”. Instantiations of the query template for the entity associated with the city of “Los Angeles” in California may be generated such as [attractions in Los Angeles], [attractions in LA], and [attractions in City of Angels].
In some implementations only those instantiations that are included in past queries and/or are associated with a threshold submission frequency of past queries may be generated and/or utilized. For example, the query [attractions in City of Angels] may not be present in the past queries and/or may not represent a sufficient number of past queries and may not be generated and/or utilized.
As discussed herein, in some implementations, for each query, a database such as content database 120 may include data related to the query such as a query submission rate indicative of a number of times and/or the frequency with which the query has been submitted, identifiers of one or more search result documents responsive to the query, and/or selection rates for one or more search result documents responsive to the query. For example, content database 120 may include data indicating that during a specified time interval, the query [attractions in san francisco] was issued 9,435 times, and the query [attractions in sfo] was issued 28,231 times. As another example, content database 120 may include data indicating that during a specified time interval, the query [life expectancy in US] was issued 5,203 times, and the query [life expectancy in Australia] was issued 522 times. As another example, content database 120 may include data indicating the selection rate for one or more search result documents responsive to the query [attractions in sfo]. For example, a first search result document may have a selection rate of 0.2, indicating approximately 20% of the users submitting the query [attractions in sfo] selected a search result corresponding to the first search result document in response to the query.
The template equivalence determination system 130 determines a similarity measure between two query templates and utilizes the similarity measure to determine if the two query templates are semantically equivalent. For example, if a determined similarity measure between two query templates satisfies a threshold similarity measure, the two query templates may be determined to be semantically equivalent. In some implementations the similarity measure may be based at least in part on entities from the entity collection of the query templates that instantiate both of the query templates in a record of past user queries. For example, assuming 1,000,000 entities are present in the entity collection “City”, if 500,000 of those entities instantiated both of the query templates in a record of past user queries, it may be more indicative of similarity between the two query templates than if only 1,000 of those entities instantiated both of the query templates in a record of past user queries.
As an example, let T1 and T2 be two query templates, with each including one or more terms and an identifier of an entity collection EC1. The entity collection EC1 has five entities that are members of that collection, E1, E2, E3, E4, and E5. A record of past queries submitted by users may be utilized to determine that for template T1, queries are present that are instantiations of the template and that collectively include aliases of entities E1, E2, E3, E4, and E5 in the place of the entity collection identifier. For example, query list Q11 may include one or more queries instantiating the template T1, wherein each of those queries include an alias of entity E1 in place of the entity collection identifier. Likewise, each of query lists Q12, Q13, Q14, and Q15 may include one or more queries instantiating the template T1, wherein each of the queries of the respective query lists include an alias of a respective one of entities E2, E3, E4, and E5 in place of the entity collection identifier. A record of past queries submitted by users may also be utilized to determine that for template T2, queries are present that are instantiations of the template and that collectively include aliases of entities E1, E2, and E3 (but not E4 and E5) in the place of the entity collection identifier. For example, query list Q21 may include one or more queries instantiating the template T2, wherein each of those queries include an alias of entity E1 in place of the entity collection identifier. Likewise, each of query lists Q2 and Q3 may include one or more queries instantiating the template T2, wherein each of the queries of the respective query lists include an alias of a respective one of entities E2 and E3 in place of the entity collection identifier. Thus, three entities (E1, E2, and E3) out of the five entities from the entity collection EC1 of the query templates T1 and T2 instantiate both of the query templates in a record of past user queries.
The number of entities from the entity collection of the query templates that instantiate both of the query templates in a record of past user queries may be utilized in determining the similarity measure. For example, as the number and/or percentage of entities from the entity collection of the query templates that instantiate both of the query templates in a record of past user queries increases, the similarity measure will become more indicative of similarity. For example, if five out of the five entities from the entity collection EC1 of the query templates T1 and T2 instantiate both of the query templates in a record of past user queries, the similarity measure may be more indicative of similarity than if only three of the five entities instantiated both of the query templates.
In some implementations the similarity measure may additionally and/or alternatively be based on a number of the entities of the entity collection that are determined to be entities that satisfy a threshold level of entity similarity between the query templates. For example, of those entities that instantiate both of the query templates in a record of past user queries, it may be determined how many of such entities are determined to be entities that satisfy a threshold level of entity similarity between the query templates. For example, as the number and/or percentage of entities from the entity collection of the query templates that instantiate both of the query templates in a record of past user queries and satisfy a threshold level of similarity between the query templates increases, the similarity measure will become more indicative of similarity.
An entity similarity measure between the query templates for a given entity may be based on, for one or more given search result documents responsive to entity instantiations of the query templates, one or more of selection rates for the entity instantiations of the query templates for the given search result documents, term selection rates for terms of the query templates for the given search result documents, and/or a determination that the given search result documents are not documents that describe multiple attributes of the entity collection of the query templates.
Referring to FIG. 2 , an example table is illustrated that will be utilized to describe examples of determining document selection rates for query templates. In FIG. 2 , the rows are labeled by letters A through C and the columns are labeled by numbers 1 through 6. A position XY will refer to the entry in row X and column Y. For example, position A1 includes the term “Template”. A pair of query templates T1 and T2 is illustrated in column 1, the entity utilized to form an entity group of instantiations for each of the query templates T1 and T2 is illustrated in column 2, and the instantiations of the templates T1 and T2 for the entity are shown in column 3. For example, query template T1 is illustrated at position B1. Entity E1 is illustrated at position B2 and may be utilized to determine instantiations Q1 of the query template T1. The instantiations Q1 may include one or more queries that each include terms of the query template T1 and an alias of the entity E1 in place of the entity collection identifier of the query template T1. The instantiations Q1 may be determined, for example, utilizing one or more techniques described herein such as utilizing past queries optionally satisfying one or more parameters and/or past queries optionally conforming to the query template and/or variants of the query template. As one example, the query template T1 may be [attractions in <City>], E1 may be the entity associated with the city “San Francisco” and the instantiations Q1 may include queries such as q11=[attractions in San Francisco] and q12=[attractions in sfo] that are instantiations of the query template [attractions in <City>] for the entity associated with the city “San Francisco”.
The total number of document selections for the instantiations of column 3 is identified in column 4. For example, the total number of document selections for all the queries in instantiations Q1 is 23,722 selections as illustrated at position B4. For example, the total number of document selections for the queries q11=[attractions in San Francisco] and q12=[attractions in sfo] may be identified as 23,722 selections. Generally speaking, the total number of document selections for a search query is indicative of the total number of selections by users of any search results returned for the search query. In some implementations the total number of document selections for a search query may be based on the total number of submissions of the search query. In some implementations the total number of document selections and the total number of submissions for a search query may differ (e.g., certain submissions may not lead to any selection). The entity equivalence determination system 130 may determine the total number of document selections of column 3 utilizing data from some or more databases such as content database 120.
The entity equivalence determination system 130 may determine the search result documents that are responsive to one or more of instantiations Q1 and to one or more of instantiations Q2 utilizing, for example, one or more databases and/or the search system 140. For example, searches may be issued via the search system 140 for queries of instantiations Q1 and Q2 and search results utilized to determine those search result documents that are common between one or more of instantiations Q1 and one or more of instantiations Q2. Also, for example, for each of the queries of instantiations Q1 and Q2 a database may contain an identifier of one or more search result documents responsive to the query. For example, for each query the database may include identifiers of search result documents that have been selected by at least a threshold number of users for that query and include a number of selections for each of the search result documents. The number of selections for each query may be utilized to determine the number of selections for each search result document for the respective instantiations Q1 and Q2. For example, instantiations Q1 may include queries q11 and q12. Query q11 may have 4,500 selections for document D1 and query q12 may have 5,200 selections for document D1. Thus, the total number of selections for instantiations Q1 may be 9,700 (4,500+5,200).
In some implementations entity equivalence determination system 130 may determine a search result document is responsive to instantiations Q1 and to instantiations Q2 if the search result document is responsive to any one of the instantiations Q1 and is also responsive to any one of the instantiations Q2. In some implementations entity equivalence determination system 130 may only determine a search result document is responsive to instantiations Q1 and to instantiations Q2 if the search result document is responsive to at least a threshold number of the instantiations of Q1 and is also responsive to at least a threshold percentage of the instantiations Q2. In some versions of those embodiments the threshold percentage may be one-hundred percent.
Although selection rates for a search result document for entity instantiations of a template are discussed with respect to FIG. 2 as being determined based on a ratio of a number of selections of the search result document for the instantiations to the total number of selections for the instantiations, other techniques may be utilized. For example, instead of determining a number of selections of the search result document for each of the queries of instantiations Q1, the selection rate of the search result document for each of the queries of instantiations Q1 may be determined. The selection rates of the search result document for each of the queries of instantiations Q1 may be utilized to determine the document selection rate for the instantiation Q1. For example, a sum of the selection rates of the search result document for each of the queries of instantiations Q1 may be utilized. For example, instantiations Q1 may include queries q11 and q12. Query q11 may have a selection rate of 0.1897 for document D1 and query q12 may have a selection rate of 0.2192 for document D1. Thus, the document selection rate for document D1 for instantiations Q1 may be 0.4089 (0.1897+0.2192).
As discussed herein, the document selection rate for a given entity may be utilized to determine an entity similarity measure for that entity for a pair of query templates. For example, one or more document selection rates for query templates T1 and T2 for entity E1 may be utilized to determine an entity similarity measure between query templates T1 and T2 for entity E1. Such entity similarity measure may be utilized to determine a similarity measure for the query templates T1 and T2. For example, in some implementations, an entity similarity measure for query templates T1 and T2 for entity E1 may be based on one or more of the document selection rates for documents D1, D2, D3, and D4 that satisfy a threshold for both of query templates T1 and T2. In some implementations the threshold may be a fixed threshold. In some implementations the threshold may be based on one or more factors such as the query template, the entity, the type of document, the total number of selections, and so forth. For example, in some implementations it is determined, for each document, whether the document selection rate for that document for both templates T1 and T2 satisfies a threshold. If it is determined that the document selection rate for that document for both templates T1 and T2 satisfies a threshold, then one or more of the document selection rates may be utilized in determining the entity similarity measure, such as the minimum document selection rate between the two selection rates.
As an example, a threshold of 0.15 may be identified that must be exceeded to be satisfied. The document selection rates of documents D1 and D2 (0.4089, 0.3878) of query template T1 may be determined to satisfy the threshold, while the document selection rates of documents D3 and D4 (0.1475, 0.0147) of query template T1 may be determined to not satisfy the threshold. Likewise, document selection rates of documents D1, D2, and D3 (0.4896, 0.3382, 0.1772) of query template T2 may be determined to satisfy the threshold, while the document selection rates of document D4 (0.1275) of query template T2 may be determined to not satisfy the threshold. Only the document selection rates of documents D1 and D2 satisfy the threshold for both query templates T1 and T2. In some implementations those document selection rates of documents D1 and D2 may be utilized in determining an entity similarity measure between the query templates T1 and T2 for entity E1. For example, a normed distance of the document selection rates may be determined and utilized to determine an entity similarity measure. The entity similarity measure may be compared to an entity level similarity measure threshold to determine if the similarity measure indicates the query templates T1 and T2 are equivalent for the entity E1.
Although FIG. 2 only illustrates an example of determining document selection rates for a single entity E1 for the entity class of templates T1 and T2, document selection rates may also be determined for additional entities of the entity class in a similar manner. Such document selection rates may be utilized to determine if query templates T1 and T2 are equivalent for an associated entity. For example, for an additional entity E2, instantiations of the templates T1 and T2 may be determined, and total document selections for each of the instantiations of each of the templates T1 and T2 may be determined. Moreover, search result documents that are responsive to one or more of instantiations of T1 utilizing entity E2 and responsive to one or more of instantiations of T2 utilizing entity E2 may be determined (which may differ from the search result documents related to entity E1) and the number of selections for each search result document for the respective instantiations may be determined. Based on such information document selection rates may be determined for entity E2 for the templates T1 and T2. In some implementations those document selection rates may be utilized in determining an entity similarity measure between the query templates T1 and T2 for entity E2.
In some implementations one or more term selection rates may additionally and/or alternatively be determined for each of templates T1 and T2 for each of search result documents D1, D2, D3, and D4 that are responsive to one or more of instantiations Q1 and to one or more of instantiations Q2. Generally, a term selection rate for a given search result document for a given term of a template looks to a collection of queries that are mapped to the document and determines a selection rate of queries of that collection that include the given term. For example, with continuing reference to FIG. 2 , for document D1 a collection of queries that are mapped to the document may be determined from one or more databases such as content database 120. In some implementations the collection of queries includes all queries that are mapped to the document. In some implementations the collection of queries includes a subset of all queries that are mapped to the document, such as those queries that include an alias of entity E1. In some implementations the collection of queries may include those queries of instantiation Q1 and/or Q2 and additional queries.
A term selection rate for document D1 may be determined for each of one or more terms of template T1. In some implementations a term may include multiple words. For example, in some implementations “cell phone” may be a single term. In some implementations a term selection rate may not be determined for one or more terms of template T1 such as stop words. The term selection rate for document D1 for a given term of template T1 may be based on the number of selections of the document among those queries of the collection of queries that include the given term as compared to the number of selections for the document among all queries of the collection. For example, assume template T1 is [places to visit in <city>] and entity E1 is the entity associated with the city of San Francisco. The collection of queries may include all past queries that include an alias of entity E1 and are mapped to the document D1. The number of selections for document D1 among all queries of the collection may be 10,000. For the term “places” of template T1, those queries of the collection that include the term “places” may be determined and it may be determined that the number of selections among such queries for document D1 is 1,100. The term selection rate for the term “places” may be based on a comparison of 1,100 to 10,000. For example, the term selection rate for the term “places” may be determined based on dividing the number of selections for document D1 among queries that include the term “places” by the number of selections for document D1 among all queries of the collection. Thus, the term selection rate for “places” may be determined to be 0.11 (1,100/10,000). Similarly, for the term “visit” of template T1, those queries of the collection that include the term “visit” may be determined and it may be determined that the number of selections among such queries for document D1 is 1,500. The term selection rate for the term “visit” may be based on a comparison of 1,500 to 10,000. For example, the term selection rate for the term “places” may be determined to be 0.15 (1,500/10,000). In some implementations term selection rates may not be determined for the terms “to” and “in” of template T1.
In some implementations an overall term selection rate for document D1 for entity E1 for query template T1 may also be determined based on the individual term selection rates. For example, in some implementations the overall term selection rate may be based on an average, a cosine similarity measure, and/or other statistical measure of the individual term selection rates. In some implementations the overall term selection rate for document D1 for entity E1 for query template T1 may be based on the harmonic mean of the individual term selection rates. For example, the overall term selection rate may be determined based on the following equation:
where n is the total number of determined individual term selection rates and Term Selection Ratek is the kth determined term selection rate for the query template. In some implementations a harmonic mean value may indicate that all the terms have a high term selection rate for the given search result document D for the given entity. For example, if the term selection rate for even one Term Selection Ratek is determined to be a low value, then its reciprocal,
may be determined to be a larger value, and this may contribute more to the sum in the denominator for the harmonic mean. Accordingly, the value of the harmonic mean will become correspondingly smaller. Likewise, a higher value for the harmonic mean is indicative of a lower value for the sum in the denominator. Accordingly, the contribution of each summand
has to be correspondingly low, which may in turn imply that the term selection fraction for each term Term Selection Ratek is correspondingly high.
The term selection rate for document D1 for a given term of template T2 may likewise be determined. For example, assume template T2 is [attractions in <city>] and entity E1 is the entity associated with the city of San Francisco. The collection of queries may include all past queries that include an alias of entity E1 and are mapped to the document D1. The number of selections for document D1 among all queries of the collection may be 10,000. For the term “attractions” of template T2, those queries of the collection that include the term “attractions” may be determined and it may be determined that the number of selections among such queries for document D1 is 1,900. The term selection rate for the term “attractions” may be based on a comparison of 1,900 to 10,000. For example, the term selection rate for the term “attractions” may be determined to be 0.19 (1,900/10,000).
Term selection rates may likewise be determined for each of templates T1 and T2 for each of search result documents D2, D3, and D4 that are responsive to one or more of instantiations Q1 and to one or more of instantiations Q2.
As discussed herein, the term selection rates for a given entity may be utilized to determine an entity similarity measure for that entity for a pair of query templates. For example, one or more overall term selection rates for query templates T1 and T2 for entity E1 may be utilized to determine an entity similarity measure between query templates T1 and T2 for entity E1. Such entity similarity measure may be utilized to determine a similarity measure for the query templates T1 and T2. For example, in some implementations, an entity similarity measure for query templates T1 and T2 for entity E1 may be based on one or more of the term selection rates for documents D1, D2, D3, and D4 that satisfy a threshold for both of query templates T1 and T2. In some implementations the threshold may be a fixed threshold. In some implementations the threshold may be based on one or more factors such as the query template, the entity, the type of document, the total number of selections, and so forth. For example, in some implementations it is determined, for each search result document, whether the term selection rate for that search result document for both templates T1 and T2 satisfies a threshold. If it is determined that the term selection rate for that document for both templates T1 and T2 satisfies a threshold, then one or more of the term selection rates may be utilized in determining the entity similarity measure, such as the minimum selection rate between the two selection rates.
As an example, a threshold of 0.15 may be identified that must be exceeded to be satisfied. The term selection rates of documents D1 and D2 of query template T1 may be determined to satisfy the threshold, while the term selection rates of documents D3 and D4 of query template T1 may be determined to not satisfy the threshold. Likewise, term selection rates of documents D1, D2, and D3 of query template T2 may be determined to satisfy the threshold, while the term selection rates of document D4 of query template T2 may be determined to not satisfy the threshold. Only the term selection rates of documents D1 and D2 satisfy the threshold for both query templates T1 and T2. In some implementations those term selection rates of documents D1 and D2 may be utilized in determining an entity similarity measure between the query templates T1 and T2 for entity E1. For example, a normed distance2 of the term selection rates may be determined and utilized to determine an entity similarity measure. The entity similarity measure may be compared to an entity level similarity measure threshold to determine if the similarity measure indicates the query templates T1 and T2 are equivalent for the entity E1.
A high document selection rate for a common search result document with respect to two query templates may be indicative of the common search result document as being relevant to the queries in both the query templates. A high harmonic mean of the term selection rates for a common search result document with respect to two query templates may be indicative of the common search result document as being relevant to each term of the respective query templates. Accordingly, a pair of query templates that may have one or more common search result documents for multiple entities that each may be associated with a high document selection fraction and a high harmonic mean of the term selection fractions, may have a high likelihood of being equivalent query templates.
In some implementations the entity similarity measure between two query templates for a given entity may be based on both the document selection rates and the term selection rates. For example, for a pair of query templates T1 and T2 that each have instantiations based on entity E, and a search result document D that is responsive to one or more such instantiations for both of query templates T1 and T2, the template equivalence determination system 130 may determine, for the document D: a document selection rate for query template T1 of DSR(T1, D), a document selection rate for the query template T2 of DSR(T2, D), an overall term selection rate for the query template T1 of TSR(T1 D), and an overall term selection rate for the query template T2 of TSR(T2, D). The entity similarity measure contribution for the search result document D may be determined based on the following equation:
Entity Similarity Measure Contribution for D=Min[(DSR(T 1 ,D)*TSR(T 1 ,D)),(DSR(T 2 ,D)*TSR(T 2 ,D))],
where Min [X, Y] denotes the minimum of the values of X and Y. Thus, the entity similarity measure between two query templates for a given entity may be based on the minimum of: the product of the document selection rate and overall term selection rate for a first of the query templates; and the product of the document selection rate and overall term selection rate for a second of the query templates. In some implementations, if one or more of DSR(T1, D), DSR(T2, D), TSR(T1, D), and/or TSR(T2, D) fail to satisfy a threshold, they may be set to zero, thereby causing the entity similarity measure to be zero. As discussed herein, various techniques may be utilized for determining the overall term selection rate for a query template, including determining the overall term selection rate based on a harmonic mean of individual term selection rates for the query template. Also, as discussed herein, various techniques may be utilized for determining the document selection rate for the query template.
Entity Similarity Measure Contribution for D=Min[(DSR(T 1 ,D)*TSR(T 1 ,D)),(DSR(T 2 ,D)*TSR(T 2 ,D))],
where Min [X, Y] denotes the minimum of the values of X and Y. Thus, the entity similarity measure between two query templates for a given entity may be based on the minimum of: the product of the document selection rate and overall term selection rate for a first of the query templates; and the product of the document selection rate and overall term selection rate for a second of the query templates. In some implementations, if one or more of DSR(T1, D), DSR(T2, D), TSR(T1, D), and/or TSR(T2, D) fail to satisfy a threshold, they may be set to zero, thereby causing the entity similarity measure to be zero. As discussed herein, various techniques may be utilized for determining the overall term selection rate for a query template, including determining the overall term selection rate based on a harmonic mean of individual term selection rates for the query template. Also, as discussed herein, various techniques may be utilized for determining the document selection rate for the query template.
In some implementations the entity similarity measure between two query templates for a given entity may be determined by aggregating the entity similarity measure contributions for each of the search result documents that are responsive to one or more instantiations for both of the query templates. The entity similarity measure contribution for each of the search result documents may be aggregated utilizing one or more techniques, including a sum, a weighted average, a linear combination, and so forth. In some implementations the entity similarity measure between two query templates may be determined by determining the I2-mean of the similarity measure contribution for each of the search result documents. The I2-mean of K real numbers Y1, Y2, . . . , YK, may be determined as:
For example, the entity similarity measure may be determined as the I2-mean of the similarity measure contributions for each of the search result documents D1, D2, . . . , DK. For example, the entity similarity measure may be determined based on the following equation:
In some implementations, it may be determined whether one or more search result documents is a multi-attribute document. In some implementations, if a document is determined to be a multi-attribute document, document selection rates and/or term selection rates may not be determined for such a document. In some implementations, if a document is determined to be a multi-attribute document, entity similarity measure contributions for that document may not be determined and/or may not be utilized in determining an entity similarity measure. In some implementations, if a document is determined to be a multi-attribute document, entity similarity measure contributions for that document may be weighted less heavily than those associated with documents that lack description of multiple attributes in determining an entity similarity measure.
A multi-attribute document is a document that describes more than a threshold number of attributes of the entity collection of the query templates. In some implementations the threshold is one. In some implementations the threshold may be another relatively low number of attributes such as two, three, or four. Attributes of an entity collection are one or more aspects of the entity collection that may each be utilized to define an aspect of entities of the entity collection. For example, attributes of the entity collection “City” may include, “Area”, “Population”, and “Unemployment Rate”. Also, for example, the entity collection “Country” may include attributes such as “population”, “GDP”, “area”, and so forth. As another example, attributes associated with the entity collection “U.S. Presidents” may include “term in office”, “date of birth”, “height”, “weight”, “name of spouse”, “location of the Presidential Library”, and so forth. For example, the query template [height of <President>] may be instantiated with the entity associated with President “Bill Clinton” and one or more search result documents may be identified that are responsive to the query “height of Bill Clinton”. A search result document that is associated with high popularity scores for attributes “height” and “weight” may be determined to be a multi-attribute document and, for example, may not be selected as a search result document that may be relevant to the identification of template equivalence.
In some implementations a database such as content database 120 may store data related to whether a document is a multi-attribute document. For example, an identifier of the document in the content database 120 may include mappings to one or more attributes associated with the document. In some implementations the template equivalence determination system 130 may determine, based on the contents of the document, whether the document is a multi-attribute document. In some implementations the template equivalence determination system 130 may determine the search result document lacks description of multiple attributes of the entity collection if a selection rate threshold for the search result document is only satisfied by queries that contain a single attribute of the entity collection. For example, for attributes associated with an entity collection of “President”, a search result document that is only mapped to queries containing a single attribute of that entity collection and having a selection rate for the document that exceeds a threshold, the search result document may be determined to not be a multi-attribute document. On the other hand, for attributes associated with an entity collection of “President”, a search result document that is mapped to one or more queries containing the attribute “height” and exceeding the selection rate threshold for the document and one or more queries containing the attribute “weight” and exceeding the selection rate threshold for the document, such search result document may be determined to be a multi-attribute document.
Referring to FIG. 3 , an example table is illustrated that will be utilized to describe an example of determining an entity similarity measure between a pair of query templates for an entity. In FIG. 3 , the rows are labeled by letters A through E and the columns are labeled by numbers 1 through 5. A position XY will refer to the entry in row X and column Y. Column 1 provides document selection rates (DSR) for the query template Tx, for a document Dx that is responsive to one or more instantiations of the query template Tx based on entity E1. For example, the document selection rate illustrated at position B1 in FIG. 3 is 0.4089. In some implementations the query template equivalence system 130 may determine the document selection rates of Column 1 utilizing techniques described herein.
ES(E 1)=[0.24242+0.18742]1/2=[0.0587+0.0351]1/2=0.3062,
In some implementations the similarity measure between two query templates may be determined based on the entity similarity measures for multiple entities for which instantiations of the two query templates are determined. For example, a query template T1 may be identified as [attractions in <City>] and a query template T2 may be identified as [places to visit in <City>]. For the entity E1 associated with the city “San Francisco”, an entity similarity measure between the two query templates for the entity E1 may be determined as discussed herein. Additional entity similarity measures may be determined for, for example, an entity E2 associated with the city “Los Angeles”; an entity E3 associated with the city “Seattle”; an entity E4 associated with the city “Las Vegas”; and so forth. In some implementations the similarity measure may be based on the number of entity similarity measures that satisfy an entity similarity measure threshold. For example, in some implementations the similarity measure of a query template pair may be based on a ratio of the number of entity similarity measures that satisfy an entity similarity measure threshold to the total number of entities for the entity category of the query template pair. For example, if the number of entity similarity measures that satisfy an entity similarity measure threshold is 50 and the total number of entities for the entity category of the query template pair is 100, the similarity measure may be 0.5 (50/100). In some implementations the similarity measure between two query templates may be determined by aggregating (e.g., determining the I2-mean, a weighted average, a linear combination, and so forth) of the entity similarity measures for each entity.
In some implementations the template equivalence determination system 130 may identify two query templates to be equivalent based on their similarity measure. In some implementations a threshold may be utilized to identify if two query templates may be equivalent. For example, the threshold may be 0.618, and a pair of query templates may be identified as equivalent query templates if their similarity measure is greater than 0.618. For example, the similarity measure between the query templates [attractions in <City>] and [places to visit in <City>] may be determined to be 0.7521. Having satisfied the threshold of 0.618, the query templates [attractions in <City>] and [places to visit in <City>] may be determined to be query templates that are equivalent. Also, for example, the template similarity measure between the query templates [attractions in <City>] and [weather in <City>] may be determined to be 0.0029. Having failed to satisfy the threshold of 0.618, the query templates [attractions in <City>] and [weather in <City>] may be determined to be query templates that are not equivalent.
In some implementations two query templates may be identified as equivalent based on the template equivalence of each of the two query templates to a third query template. For example, the template equivalence determination system 130 may determine that a first query template is equivalent to a second query template, and that the second query template is equivalent to a third query template. Accordingly, based at least in part on such determinations, the template equivalence determination system 130 may determine that the first query template is equivalent to the third query template. In some implementations, such determination may additionally and/or alternatively be based on similarity measures and/or one or more thresholds for similarity measures. In some implementations first and third query templates may be identified as equivalent to each other if four conditions are satisfied: (1) the first query template is equivalent to a second query template; (2) the third query template is equivalent to the second query template; (3) a first similarity measure between the first and second query templates satisfies a threshold; and (4) a second similarity measure between the second and third query templates satisfies a threshold. In some implementations the threshold that needs to be satisfied by the first similarity measure between the first and second query templates and/or the threshold that needs to be satisfied by second similarity measure between the second and third query templates may be an elevated threshold relative to threshold(s) utilized to determine the first and third query templates are equivalent and/or to determine if the second and third query templates are equivalent. The elevated threshold may be utilized to help ensure the first and third query templates are equivalent since limited comparisons or no direct comparisons between such query templates may be performed.
In some implementations the template equivalence determination system 130 may determine two or more queries that are instantiations of equivalent query templates as similar queries based on a determination of equivalence of the respective query templates. For example, having determined that the query templates [attractions in <City>] and [places to visit in <City>] are equivalent query templates, the template equivalence determination system 130 may identify that queries that are instantiations for the two templates are similar queries. For example, based on template equivalence of the query templates [attractions in <City>] and [places to visit in <City>], the queries “attractions in San Francisco”, “attractions in sfo”, “attractions in sf”, “places to visit in San Francisco”, “places to visit in sf” and “places to visit in sfo” may be determined to be similar queries. Such similar queries may be provided to the user as suggestions, utilized to determine additional search results for the submitted query, and/or submitted in lieu of the submitted query.
In some implementations an expanded set of query suggestions may be determined based on determined equivalent query templates. For example, for a partial query of “attr sfo” an existing query suggestion may be “attractions sfo”. Based on template equivalence of the query templates [attractions in <City>] and [places to visit in <City>], template equivalence determination system 130 may identify “places to visit in sfo” and “attractions sfo” as similar queries and determine a query suggestion of “places to visit in sfo” for the partial query “attr sfo”. Additionally, in some implementations, in response to a submitted query, similar queries to the submitted query may be identified based on determined template equivalence between query templates and the similar queries provided to the user.
The content database 120, the template equivalence determination system 130, and/or the search system 140 may be implemented in hardware, firmware, and/or software running on hardware. For example, one or more of the systems may be implemented in one or more computer servers.
Many other configurations are possible having more or fewer components than the environment shown in FIG. 1 . For example, in some environments the search system 140 may be omitted.
Referring to FIG. 4 , a flow chart illustrates an example method of determining whether query templates are equivalent. Other implementations may perform the steps in a different order, omit certain steps, and/or perform different and/or additional steps than those illustrated in FIG. 4 . For convenience, aspects of FIG. 4 will be described with reference to a system of one or more computers that perform the process. The system may include, for example, the template equivalence determination system 130 of FIG. 1 .
At step 400, first and second query templates may be determined. The first and second query templates may each include one or more terms, and an identifier of an entity collection. For example, a first query template T1=[attractions in <City>] and a second query template T2=[places to see in <City>] may be determined. Each of the query templates includes an identifier for the entity collection “City”.
At step 405, one or more instantiations for the first query template may be determined for an entity of the entity collection. For example, one or more past user queries may be determined that conform to the first query template and include an entity of the entity collection. For example, instantiations for the query template [attractions in <City>] may be determined for the entity associated with the city “San Francisco” based on one or more aliases of the entity. For example, instantiations may include [attractions in sfo], [attractions in san franciso], and so forth.
At step 410, one or more instantiations for the second query template may be determined for the entity of the entity collection. For example, one or more past user queries may be determined that conform to the second query template and include an entity of the entity collection. For example, instantiations for the query template [places to see in <City>] may be determined for the entity associated with the city “San Francisco” based on one or more aliases of the entity. For example, instantiations may include [places to see in sfo], [places to see in san fran], and so forth.
At step 415, a search result document that is responsive to one or more of the first query template instantiations and responsive to one or more of the second query template instantiations is determined. For example, search result document D1 may be responsive to at least the instantiation [attractions in sfo] and may also be responsive to at least the instantiation [places to see sfo].
At step 420, at least one of a document selection rate for the document for the instantiations of the first query template and one or more term selection rates for the document for the first query template are determined. In some implementations both of the document selection rate and the one or more term selection rates are determined. In some implementations the document selection rate may be indicative of the selection rate of the document for all of the instantiations of step 405. In some implementations each term selection rate may be for a respective term of the first query template that is indicative of selections of the document from a set of queries containing only queries that include the term compared to selections of the document from a set of queries also containing queries that do not include the term. In some implementations the set of queries containing only queries that include the term is a subset of the set of queries also containing queries that do not include the term. In some implementations the set of queries are queries that are mapped to the document and that optionally include an alias of the entity of the instantiations. In some implementations an overall term selection rate may be determined based on one or more individual term selection rates.
At step 425, at least one of a document selection rate for the document for the instantiations of the second query template and one or more term selection rates for the document for the second query template are determined. In some implementations both of the document selection rate and the one or more term selection rates are determined. In some implementations the document selection rate may be indicative of the selection rate of the document for all of the instantiations of step 410. In some implementations each term selection rate may be for a respective term of the second query template that is indicative of selections of the document from a set of queries containing only queries that include the term compared to selections of the document from a set of queries also containing queries that do not include the term. In some implementations the set of queries containing only queries that include the term is a subset of the set of queries also containing queries that do not include the term. In some implementations the set of queries are queries that are mapped to the document and that optionally include an alias of the entity of the instantiations. In some implementations an overall term selection rate may be determined based on one or more individual term selection rates.
At step 430, a similarity measure between the first query template and the second query template is determined. The similarity measure may be determined based on the determinations made in step 420 and step 425 utilizing, for example, techniques discussed herein. In some implementations the similarity measure is based on an entity similarity measure determined for the entity of the instantiations of steps 405 and 410. The entity similarity measure may be determined based on the determinations made in step 420 and step 425 utilizing, for example, techniques discussed herein. In some implementations steps 405-425 may be iterated multiple times, with each iteration being for a different entity of the entity collection. An entity similarity measure for each entity of the iterations may be determined based on the determinations made in step 420 and step 425 for that entity. In some implementations the similarity measure between the first query template and the second query template of step 430 may be based on the entity similarity measures for multiple of the entities.
At step 435, it is determined whether the first query template and the second query template are equivalent query templates based on the similarity measure. For example, if the similarity measure satisfies a similarity measure threshold the first query template and the second query template may be determined to be equivalent query templates.
User interface input devices 522 may include a keyboard, pointing devices such as a mouse, trackball, touchpad, or graphics tablet, a scanner, a touchscreen incorporated into the display, audio input devices such as voice recognition systems, microphones, and/or other types of input devices. In general, use of the term “input device” is intended to include all possible types of devices and ways to input information into computer system 510 or onto a communication network.
User interface output devices 520 may include a display subsystem, a printer, a fax machine, or non-visual displays such as audio output devices. The display subsystem may include a cathode ray tube (CRT), a flat-panel device such as a liquid crystal display (LCD), a projection device, or some other mechanism for creating a visible image. The display subsystem may also provide non-visual display such as via audio output devices. In general, use of the term “output device” is intended to include all possible types of devices and ways to output information from computer system 510 to the user or to another machine or computer system.
These software modules are generally executed by processor 514 alone or in combination with other processors. Memory 525 used in the storage subsystem can include a number of memories including a main random access memory (RAM) 530 for storage of instructions and data during program execution and a read only memory (ROM) 532 in which fixed instructions are stored. A file storage subsystem 526 can provide persistent storage for program and data files, and may include a hard disk drive, a floppy disk drive along with associated removable media, a CD-ROM drive, an optical drive, or removable media cartridges. The modules implementing the functionality of certain implementations may be optionally stored by file storage subsystem 526 in the storage subsystem 524, or in other machines accessible by the processor(s) 514.
While several inventive implementations have been described and illustrated herein, a variety of other means and/or structures for performing the function and/or obtaining the results and/or one or more of the advantages described herein may be utilized, and each of such variations and/or modifications is deemed to be within the scope of the inventive implementations described herein. More generally, all parameters, dimensions, materials, and configurations described herein are meant to be exemplary and that the actual parameters, dimensions, materials, and/or configurations will depend upon the specific application or applications for which the inventive teachings is/are used. Those skilled in the art will recognize, or be able to ascertain using no more than routine experimentation, many equivalents to the specific inventive implementations described herein. It is, therefore, to be understood that the foregoing implementations are presented by way of example only and that, within the scope of the appended claims and equivalents thereto, inventive implementations may be practiced otherwise than as specifically described and claimed. Inventive implementations of the present disclosure are directed to each individual feature, system, article, material, kit, and/or method described herein. In addition, any combination of two or more such features, systems, articles, materials, kits, and/or methods, if such features, systems, articles, materials, kits, and/or methods are not mutually inconsistent, is included within the inventive scope of the present disclosure.
All definitions, as defined and used herein, should be understood to control over vocabulary definitions, definitions in documents incorporated by reference, and/or ordinary meanings of the defined terms.
The indefinite articles “a” and “an,” as used herein in the specification and in the claims, unless clearly indicated to the contrary, should be understood to mean “at least one.”
The phrase “and/or,” as used herein in the specification and in the claims, should be understood to mean “either or both” of the elements so conjoined, i.e., elements that are conjunctively present in some cases and disjunctively present in other cases. Multiple elements listed with “and/or” should be construed in the same fashion, i.e., “one or more” of the elements so conjoined. Other elements may optionally be present other than the elements specifically identified by the “and/or” clause, whether related or unrelated to those elements specifically identified. Thus, as a non-limiting example, a reference to “A and/or B”, when used in conjunction with open-ended language such as “comprising” can refer, in one implementation, to A only (optionally including elements other than B); in another implementation, to B only (optionally including elements other than A); in yet another implementation, to both A and B (optionally including other elements); etc.
As used herein in the specification and in the claims, “or” should be understood to have the same meaning as “and/or” as defined above. For example, when separating items in a list, “or” or “and/or” shall be interpreted as being inclusive, i.e., the inclusion of at least one, but also including more than one, of a number or list of elements, and, optionally, additional unlisted items. Only terms clearly indicated to the contrary, such as “only one of” or “exactly one of,” or, when used in the claims, “consisting of,” will refer to the inclusion of exactly one element of a number or list of elements. In general, the term “or” as used herein shall only be interpreted as indicating exclusive alternatives (i.e. “one or the other but not both”) when preceded by terms of exclusivity, such as “either,” “one of,” “only one of,” or “exactly one of.” “Consisting essentially of,” when used in the claims, shall have its ordinary meaning as used in the field of patent law.
As used herein in the specification and in the claims, the phrase “at least one,” in reference to a list of one or more elements, should be understood to mean at least one element selected from any one or more of the elements in the list of elements, but not necessarily including at least one of each and every element specifically listed within the list of elements and not excluding any combinations of elements in the list of elements. This definition also allows that elements may optionally be present other than the elements specifically identified within the list of elements to which the phrase “at least one” refers, whether related or unrelated to those elements specifically identified. Thus, as a non-limiting example, “at least one of A and B” (or, equivalently, “at least one of A or B,” or, equivalently “at least one of A and/or B”) can refer, in one implementation, to at least one, optionally including more than one, A, with no B present (and optionally including elements other than B); in another implementation, to at least one, optionally including more than one, B, with no A present (and optionally including elements other than A); in yet another implementation, to at least one, optionally including more than one, A, and at least one, optionally including more than one, B (and optionally including other elements); etc.
As used herein in the specification and in the claims, the term “database” will be used broadly to refer to any collection of data. The data of the database does not need to be structured in any particular way, or structured at all, and it can be stored on storage devices in one or more geographic locations.
It should also be understood that, unless clearly indicated to the contrary, in any methods claimed herein that include more than one step or act, the order of the steps or acts of the method is not necessarily limited to the order in which the steps or acts of the method are recited.
In the claims, as well as in the specification above, all transitional phrases such as “comprising,” “including,” “carrying,” “having,” “containing,” “involving,” “holding,” “composed of,” and the like are to be understood to be open-ended, i.e., to mean including but not limited to. Only the transitional phrases “consisting of” and “consisting essentially of” shall be closed or semi-closed transitional phrases, respectively, as set forth in the United States Patent Office Manual of Patent Examining Procedures, Section 2111.03.
Claims (15)
1. A computer-implemented method, comprising:
determining a first query template, the first query template including one or more first template terms and an identifier of an entity collection, the entity collection being a grouping of entities that share one or more aspects in common;
determining a second query template, the second query template including one or more second template terms and the identifier of the entity collection, the second template terms including at least one term that is unique from the first template terms;
identifying a given entity of the entity collection;
determining first query template instantiations for the given entity, each first query template instantiation including the first template terms and one of one or more aliases of the entity;
determining second query template instantiations, each second query template instantiation including the second template terms and one of the one or more aliases of the entity;
determining a search result document that is responsive to one or more of the first query template instantiations and responsive to one or more of the second query template instantiations;
determining a first document selection rate of the search result document for the first query template instantiations;
determining a second document selection rate of the search result document for the second query template instantiations;
identifying, from a record of past queries, first past instantiations of the first query template and second past instantiations of the second query template;
determining a quantity of entities of the entity collection that are included in both: a corresponding one of the first past instantiations of the first query template in the record of past user queries, and a corresponding one of the second past instantiations of the second query template in the record of past user queries;
determining a similarity measure between the first query template and the second query template, wherein determining the similarity measure is based on:
the first document selection rate and the second document selection rate, and
comparison of the determined quantity of the entities to a threshold;
determining that the first and second query templates are equivalent query templates based on the similarity measure;
subsequent to determining that the first and second query templates are equivalent query templates:
receiving a query formulated by a user via a client device of the user, the query conforming to the first query template; and
providing, in response to the query, content that is based on an instantiation of the second query template,
wherein the content is provided for presentation to the user via the client device, and
wherein the content is based on the instantiation of the second query template based on the query conforming to the first query template and based on determining that the first and second query templates are equivalent query templates.
2. The method of claim 1 , further comprising determining, for the given entity:
one or more first term selection rates for the search result document, each first term selection rate being for one first template term of one or more of the first template terms for the search result document; and
one or more second term selection rates for the search result document, each second term selection rate being for one second template term of one or more of the second template terms for the search result document;
wherein determining the similarity measure between the first query template and the second query template is further based on the first query template term selection rate and the second query template term selection rate.
3. The method of claim 2 , wherein each first term selection rate is based on a selection rate of the search result document among a first query set that includes only queries that include the given entity and the first template term; and wherein each second term selection rate is based on a selection rate of the search result document among a second query set that includes only queries that include the given entity and the second template term.
4. The method of claim 2 , further comprising:
determining a first harmonic mean of the first query template term selection rates; and
determining a second harmonic mean of the second query template term selection rates;
wherein determining the similarity measure between the first query template and the second query template is based on the first harmonic mean and the second harmonic mean.
5. The method of claim 4 , wherein determining the similarity measure between the first query template and the second query template is based on multiplying the first selection rate by the first harmonic mean and multiplying the second selection rate by the second harmonic mean, and determining a minimum value of the multiplications.
6. The method of claim 1 , further comprising determining the first selection rate and the second selection rate satisfy a selection rate threshold.
7. The method of claim 1 , further comprising determining the search result document lacks description of multiple attributes of the entity collection and only utilizing the search result document if it lacks description of multiple attributes.
8. The method of claim 7 , wherein determining the search result document lacks description of multiple attributes of the entity collection includes determining a selection rate threshold for the search result document is only satisfied by queries that contain a single attribute of the entity collection.
9. The method of claim 1 , wherein the first query template instantiations and the second query template instantiations are determined from the record of past queries.
10. The method of claim 9 , wherein the record of past queries includes only those queries submitted with at least a threshold level of frequency.
11. The method of claim 1 , further comprising:
determining additional entities of the entity collection;
determining, for each additional entity of the additional entities:
additional first instantiations for the additional entity based on the first query template;
additional second instantiations for the additional entity based on the second query template;
an additional search result document that is responsive to one or more of the additional first query template instantiations and responsive to one or more of the additional second query template instantiations;
an additional first document selection rate of the search result document for the additional first query template instantiations;
an additional second document selection rate of the search result document for the additional second query template instantiations; and
determining an additional entity similarity measure based on the additional first document selection rate and the additional second document selection rate.
12. The method of claim 1 , further comprising determining the first template terms and the second template terms are synonymous based on determining the first and second query templates are equivalent query templates.
13. A computer-implemented method, comprising:
determining a first query template, the first query template including one or more first template terms and an identifier of an entity collection, the entity collection being a grouping of entities that share one or more aspects in common;
determining a second query template, the second query template including one or more second template terms and the identifier of the entity collection, the second template terms including at least one term that is unique from the first template terms;
identifying entities of the entity collection;
determining a quantity of entity groups of instantiations of the first query template and the second query template in a record of past queries, each entity group including first query template instantiations of past queries for a corresponding given entity of the entities and second query template instantiations of the past queries for the corresponding given entity, each first query template instantiation of the entity group including the first template terms and one of multiple aliases of the corresponding given entity and each second query template of the entity group including the second template terms and one of multiple aliases of the corresponding given entity;
determining that the quantity of the entity groups satisfies a threshold;
determining that the first and second query templates are equivalent query templates based on the quantity of the entity groups satisfying the threshold;
subsequent to determining that the first and second query templates are equivalent query templates:
receiving a query formulated by a user via a client device of the user, the query conforming to the first query template; and
providing, in response to the query, content that is based on an instantiation of the second query template,
wherein the content is provided for presentation to the user via the client device, and
wherein the content is based on the instantiation of the second query template based on the query conforming to the first query template and based on determining that the first and second query templates are equivalent query templates.
14. A system including memory and one or more processors operable to execute instructions stored in the memory, wherein the instructions include instructions to:
determine a first query template, the first query template including one or more first template terms and an identifier of an entity collection, the entity collection being a grouping of entities that share one or more aspects in common;
determine a second query template, the second query template including one or more second template terms and the identifier of the entity collection, the second template terms including at least one term that is unique from the first template terms;
identify a given entity of the entity collection;
determine first query template instantiations for the given entity, each first query template instantiation including the first template terms and one of one or more aliases of the entity;
determine second query template instantiations, each second query template instantiation including the second template terms and one of the one or more aliases of the entity;
determine a search result document that is responsive to one or more of the first query template instantiations and responsive to one or more of the second query template instantiations;
determine a first document selection rate of the search result document for the first query template instantiations;
determine a second document selection rate of the search result document for the second query template instantiations;
identify, from a record of past queries, first past instantiations of the first query template and second past instantiations of the second query template;
determine a quantity of entities of the entity collection that are included in both: a corresponding one of the first past instantiations of the first query template in the record of past user queries, and a corresponding one of the second past instantiations of the second query template in the record of past user queries;
determine a similarity measure between the first query template and the second query template, wherein the instructions to determine the similarity measure include instructions to determine the similarity measure based on:
the first document selection rate and the second document selection rate, and
comparison of the determined quantity of the entities to a threshold;
determine that the first and second query templates are equivalent query templates based on the similarity measure;
subsequent to determining that the first and second query templates are equivalent query templates:
receive a query formulated by a user via a client device of the user, the query conforming to the first query template;
provide, in response to the query, content that is based on an instantiation of the second query template,
wherein the content is provided for presentation to the user via the client device, and
wherein the content is based on the instantiation of the second query template based on the query conforming to the first query template and based on determining that the first and second query templates are equivalent query templates.
15. The system of claim 14 , wherein the instructions comprise further instructions to:
determine additional entities of the entity collection;
determine, for each additional entity of the additional entities:
additional first instantiations for the additional entity based on the first query template;
additional second instantiations for the additional entity based on the second query template;
an additional search result document that is responsive to one or more of the additional first query template instantiations and responsive to one or more of the additional second query template instantiations;
an additional first document selection rate of the search result document for the additional first query template instantiations;
an additional second document selection rate of the search result document for the additional second query template instantiations; and
determine the similarity measure based on the additional first document selection rate and the additional second document selection rate.
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US13/941,586 US10073882B1 (en) | 2013-07-15 | 2013-07-15 | Semantically equivalent query templates |
Applications Claiming Priority (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US13/941,586 US10073882B1 (en) | 2013-07-15 | 2013-07-15 | Semantically equivalent query templates |
Publications (1)
Publication Number | Publication Date |
---|---|
US10073882B1 true US10073882B1 (en) | 2018-09-11 |
Family
ID=63406268
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US13/941,586 Expired - Fee Related US10073882B1 (en) | 2013-07-15 | 2013-07-15 | Semantically equivalent query templates |
Country Status (1)
Country | Link |
---|---|
US (1) | US10073882B1 (en) |
Cited By (4)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US10929829B1 (en) * | 2017-05-04 | 2021-02-23 | Amazon Technologies, Inc. | User identification and account access using gait analysis |
US20210157813A1 (en) * | 2019-11-27 | 2021-05-27 | Microstrategy Incorporated | Mutually exclusive search operations |
US11061888B2 (en) * | 2015-11-25 | 2021-07-13 | International Business Machines Corporation | Method for backfilling graph structure and articles comprising the same |
US11921715B2 (en) | 2014-01-27 | 2024-03-05 | Microstrategy Incorporated | Search integration |
Citations (27)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6178416B1 (en) | 1998-06-15 | 2001-01-23 | James U. Parker | Method and apparatus for knowledgebase searching |
US20030069880A1 (en) * | 2001-09-24 | 2003-04-10 | Ask Jeeves, Inc. | Natural language query processing |
US20040158455A1 (en) * | 2002-11-20 | 2004-08-12 | Radar Networks, Inc. | Methods and systems for managing entities in a computing device using semantic objects |
US20040193582A1 (en) * | 2001-07-30 | 2004-09-30 | Smyth Barry Joseph | Data processing system and method |
US20040220893A1 (en) * | 2002-11-20 | 2004-11-04 | Radar Networks, Inc. | User interface for managing semantic objects |
US20070055656A1 (en) * | 2005-08-01 | 2007-03-08 | Semscript Ltd. | Knowledge repository |
US20090019020A1 (en) | 2007-03-14 | 2009-01-15 | Dhillon Navdeep S | Query templates and labeled search tip system, methods, and techniques |
US7492949B1 (en) * | 2005-09-20 | 2009-02-17 | Patrick William Jamieson | Process and system for the semantic selection of document templates |
US20090216730A1 (en) * | 2008-02-22 | 2009-08-27 | Sastry Nishanth R | Computer method and apparatus for parameterized semantic inquiry templates with type annotations |
US20100114944A1 (en) * | 2008-10-31 | 2010-05-06 | Nokia Corporation | Method and system for providing a voice interface |
US20100325133A1 (en) * | 2009-06-22 | 2010-12-23 | Microsoft Corporation | Determining a similarity measure between queries |
US20110213761A1 (en) * | 2010-03-01 | 2011-09-01 | Microsoft Corporation | Searchable web site discovery and recommendation |
US8145623B1 (en) * | 2009-05-01 | 2012-03-27 | Google Inc. | Query ranking based on query clustering and categorization |
US8234265B1 (en) * | 2009-11-18 | 2012-07-31 | Google Inc. | Content selection data expansion |
US20120265787A1 (en) * | 2011-04-15 | 2012-10-18 | Microsoft Corporation | Identifying query formulation suggestions for low-match queries |
US8321846B2 (en) | 2008-11-13 | 2012-11-27 | Oracle International Corporation | Executable template |
US8346792B1 (en) | 2010-11-09 | 2013-01-01 | Google Inc. | Query generation using structural similarity between documents |
US20130046771A1 (en) * | 2011-08-15 | 2013-02-21 | Lockheed Martin Corporation | Systems and methods for facilitating the gathering of open source intelligence |
US8392445B1 (en) | 2009-06-05 | 2013-03-05 | Google Inc. | Generating sibling query refinements |
US20130073490A1 (en) * | 2011-09-16 | 2013-03-21 | International Business Machines Corporation | Choosing pattern recognition algorithms and data features |
US20130091165A1 (en) * | 2011-10-10 | 2013-04-11 | Alibaba Group Holding Limited | Searching Information |
US8577913B1 (en) * | 2011-05-27 | 2013-11-05 | Google Inc. | Generating midstring query refinements |
CN102360346B (en) * | 2011-10-31 | 2014-05-21 | 武汉大学 | Text inference method based on limited semantic dependency analysis |
US20140279995A1 (en) * | 2013-03-14 | 2014-09-18 | Microsoft Corporation | Query simplification |
US20140330866A1 (en) * | 2013-05-03 | 2014-11-06 | Mapquest, Inc. | Systems and methods for parsing search queries |
US8886575B1 (en) * | 2012-06-27 | 2014-11-11 | Google Inc. | Selecting an algorithm for identifying similar user identifiers based on predicted click-through-rate |
US8949242B1 (en) * | 2010-01-21 | 2015-02-03 | Google Inc. | Semantic document analysis |
-
2013
- 2013-07-15 US US13/941,586 patent/US10073882B1/en not_active Expired - Fee Related
Patent Citations (28)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US6178416B1 (en) | 1998-06-15 | 2001-01-23 | James U. Parker | Method and apparatus for knowledgebase searching |
US20010003183A1 (en) * | 1998-06-15 | 2001-06-07 | James Parker | Method and apparatus for knowledgebase searching |
US20040193582A1 (en) * | 2001-07-30 | 2004-09-30 | Smyth Barry Joseph | Data processing system and method |
US20030069880A1 (en) * | 2001-09-24 | 2003-04-10 | Ask Jeeves, Inc. | Natural language query processing |
US20040158455A1 (en) * | 2002-11-20 | 2004-08-12 | Radar Networks, Inc. | Methods and systems for managing entities in a computing device using semantic objects |
US20040220893A1 (en) * | 2002-11-20 | 2004-11-04 | Radar Networks, Inc. | User interface for managing semantic objects |
US20070055656A1 (en) * | 2005-08-01 | 2007-03-08 | Semscript Ltd. | Knowledge repository |
US7492949B1 (en) * | 2005-09-20 | 2009-02-17 | Patrick William Jamieson | Process and system for the semantic selection of document templates |
US20090019020A1 (en) | 2007-03-14 | 2009-01-15 | Dhillon Navdeep S | Query templates and labeled search tip system, methods, and techniques |
US20090216730A1 (en) * | 2008-02-22 | 2009-08-27 | Sastry Nishanth R | Computer method and apparatus for parameterized semantic inquiry templates with type annotations |
US20100114944A1 (en) * | 2008-10-31 | 2010-05-06 | Nokia Corporation | Method and system for providing a voice interface |
US8321846B2 (en) | 2008-11-13 | 2012-11-27 | Oracle International Corporation | Executable template |
US8145623B1 (en) * | 2009-05-01 | 2012-03-27 | Google Inc. | Query ranking based on query clustering and categorization |
US8392445B1 (en) | 2009-06-05 | 2013-03-05 | Google Inc. | Generating sibling query refinements |
US20100325133A1 (en) * | 2009-06-22 | 2010-12-23 | Microsoft Corporation | Determining a similarity measure between queries |
US8234265B1 (en) * | 2009-11-18 | 2012-07-31 | Google Inc. | Content selection data expansion |
US8949242B1 (en) * | 2010-01-21 | 2015-02-03 | Google Inc. | Semantic document analysis |
US20110213761A1 (en) * | 2010-03-01 | 2011-09-01 | Microsoft Corporation | Searchable web site discovery and recommendation |
US8346792B1 (en) | 2010-11-09 | 2013-01-01 | Google Inc. | Query generation using structural similarity between documents |
US20120265787A1 (en) * | 2011-04-15 | 2012-10-18 | Microsoft Corporation | Identifying query formulation suggestions for low-match queries |
US8577913B1 (en) * | 2011-05-27 | 2013-11-05 | Google Inc. | Generating midstring query refinements |
US20130046771A1 (en) * | 2011-08-15 | 2013-02-21 | Lockheed Martin Corporation | Systems and methods for facilitating the gathering of open source intelligence |
US20130073490A1 (en) * | 2011-09-16 | 2013-03-21 | International Business Machines Corporation | Choosing pattern recognition algorithms and data features |
US20130091165A1 (en) * | 2011-10-10 | 2013-04-11 | Alibaba Group Holding Limited | Searching Information |
CN102360346B (en) * | 2011-10-31 | 2014-05-21 | 武汉大学 | Text inference method based on limited semantic dependency analysis |
US8886575B1 (en) * | 2012-06-27 | 2014-11-11 | Google Inc. | Selecting an algorithm for identifying similar user identifiers based on predicted click-through-rate |
US20140279995A1 (en) * | 2013-03-14 | 2014-09-18 | Microsoft Corporation | Query simplification |
US20140330866A1 (en) * | 2013-05-03 | 2014-11-06 | Mapquest, Inc. | Systems and methods for parsing search queries |
Cited By (4)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US11921715B2 (en) | 2014-01-27 | 2024-03-05 | Microstrategy Incorporated | Search integration |
US11061888B2 (en) * | 2015-11-25 | 2021-07-13 | International Business Machines Corporation | Method for backfilling graph structure and articles comprising the same |
US10929829B1 (en) * | 2017-05-04 | 2021-02-23 | Amazon Technologies, Inc. | User identification and account access using gait analysis |
US20210157813A1 (en) * | 2019-11-27 | 2021-05-27 | Microstrategy Incorporated | Mutually exclusive search operations |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US10635717B2 (en) | Query suggestion templates | |
US11354356B1 (en) | Video segments for a video related to a task | |
US9898554B2 (en) | Implicit question query identification | |
US10585927B1 (en) | Determining a set of steps responsive to a how-to query | |
US10360225B1 (en) | Query suggestions based on entity collections of one or more past queries | |
US8260664B2 (en) | Semantic advertising selection from lateral concepts and topics | |
US20130268526A1 (en) | Discovery engine | |
US20110184893A1 (en) | Annotating queries over structured data | |
US20130110829A1 (en) | Method and Apparatus of Ranking Search Results, and Search Method and Apparatus | |
US10970293B2 (en) | Ranking search result documents | |
US9213748B1 (en) | Generating related questions for search queries | |
JP2013168186A (en) | Review processing method and system | |
US9805142B2 (en) | Ranking suggestions based on user attributes | |
US20170147834A1 (en) | Identifying query patterns and associated aggregate statistics among search queries | |
US9436742B1 (en) | Ranking search result documents based on user attributes | |
US10073882B1 (en) | Semantically equivalent query templates | |
US20190065502A1 (en) | Providing information related to a table of a document in response to a search query | |
US9336330B2 (en) | Associating entities based on resource associations | |
US20140172853A1 (en) | Generating and displaying tasks | |
US9811592B1 (en) | Query modification based on textual resource context | |
US9400789B2 (en) | Associating resources with entities | |
KR20120038418A (en) | Searching methods and devices | |
US9069858B1 (en) | Systems and methods for identifying entity mentions referencing a same real-world entity | |
US20160117324A1 (en) | Ranking labeled instances extracted from text | |
Huetle-Figueroa et al. | Measuring semantic similarity of documents with weighted cosine and fuzzy logic |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |
|
FEPP | Fee payment procedure |
Free format text: MAINTENANCE FEE REMINDER MAILED (ORIGINAL EVENT CODE: REM.); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
LAPS | Lapse for failure to pay maintenance fees |
Free format text: PATENT EXPIRED FOR FAILURE TO PAY MAINTENANCE FEES (ORIGINAL EVENT CODE: EXP.); ENTITY STATUS OF PATENT OWNER: LARGE ENTITY |
|
STCH | Information on status: patent discontinuation |
Free format text: PATENT EXPIRED DUE TO NONPAYMENT OF MAINTENANCE FEES UNDER 37 CFR 1.362 |
|
FP | Lapsed due to failure to pay maintenance fee |
Effective date: 20220911 |