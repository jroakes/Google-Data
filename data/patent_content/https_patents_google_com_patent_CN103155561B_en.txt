The application is the U. S. application No.13/253 submitted on October 5th, 2011, the continuation part of 793, and it requires existing
U.S. Provisional Patent Application No.61/389 that the 5 days October in 2010 having expired submits to, the rights and interests of 930, and the application also want
Asking U.S. Provisional Patent Application No.61/451 submitted on March 11st, 2011, the priority of 824, it is open whole by quoting
It is incorporated to present patent application body.
Detailed description of the invention
Before describing in detail according to embodiments of the invention, it should be observed that, embodiment is primarily present in and video
Method step that the method and apparatus of the feature based compiling of stream is relevant and the combination of apparatus assembly.Therefore, apparatus assembly and side
Method step is represented by the ordinary symbol in figure in the appropriate case, thus only illustrates those relevant with understanding various embodiment
Specific detail is not to make the disclosure because will be easy for having benefited from those of ordinary skill in the art described herein
The obvious details in ground and obscure.
In the document, the relational language of such as first and second, top and bottom etc. can only be used for distinguishing one
Entity or action and another entity or action, and not necessarily require or imply any reality between such entity or action
This relation or order.Term " contains " " containing " or its other change any is intended to contain non-exclusive including, so that
The process of element list, method, article or equipment must be contained not only include those elements but also can include the most clearly enumerating
Or other element that such process, method, article or equipment are intrinsic.It is followed by the element of " containing " the most more retraining
In the case of be not precluded within the process containing this element, method, article or equipment and there is additional identical element.It is understood that
, the embodiment of invention as described herein can include that the program of one or more conventional processors and unique storage refers to
Order, described programmed instruction controls one or more processors to realize as described herein in combination with some non-processor
Video flowing feature based compiling function in some, great majority or all.Non-processor can include but not limit
In wireless receiver, transmitting set, signal driver, clock circuit, power circuit and user input apparatus.Similarly,
These functions can be interpreted the step of the method for the feature based compiling for performing video flowing.Alternatively, some or
Repertoire can be realized by the state machine of the programmed instruction without storage, or is implemented in one or more special integrated
In circuit (ASIC), some combinations of the most each function or specific function are implemented as customized logic.It is of course possible to use this
The combination of two ways.Therefore, it has been described herein the method and apparatus for these functions.It addition, ordinary skill
Although personnel it is desirable that, may significantly make great efforts and many relate to by such as can time, current techniques and economy
Consider to drive, but when being guided by concepts disclosed herein and principle be, will be readily able to generate soft with minimum test
Part instruction and program and IC.
According to this description, described principle is for the equipment operated at the head end of video distribution system with for inciting somebody to action
The divider of the piecemeal of each that input video stream is divided in multiple channels of this video.This equipment also includes coupling
To the channel analyser of divider, wherein piecemeal is decomposed by this channel analyser；And encoder, described decoder is by coupling
Closing channel analyser so that the block encoding through decomposition is become encoded bit stream, wherein, described encoder is from the plurality of
At least one in channel receives compiling information to use in the block encoding through decomposing becomes encoded bit stream.In reality
Executing in example, this equipment includes reconstructing loop, and this reconstruct loop is used for being decoded and encoded bit stream by decoded
Bit stream be re-combined into the video flowing of reconstruct；And buffer, this buffer is used for storing reconstructed video flowing.At another
In embodiment, buffer can store other compiling information of other channel from video flowing.Additionally, compiling information includes institute
Reconstruct video flowing and for encoder compiling information at least one, and this compiling information be video flowing with reference to figure
At least one in sheet information and compiling information.Additionally, divider uses at least one in multiple characteristic sets to be formed point
Block.In an embodiment, by the video flowing of the reconstruct created from bit stream to determine reference picture information.
In another embodiment, the equipment including receiving the decoder of encoded bit stream, wherein decoder are disclosed
Bit stream is decoded by the compiling information of the channel according to the relevant encoded bit stream received.This equipment also includes
Channel synthesizer, this channel synthesizer is coupled to decoder so that decoded bit stream to synthesize the piecemeal of video flowing；And
Combiner, this combiner is coupled to channel synthesizer to create the video flowing of reconstruct from decoded bit stream.Compiling information energy
Enough include video flowing and at least one in the compiling information of the video flowing reconstructed of reconstruct.Additionally, this equipment includes
Being coupled to the buffer of combiner, wherein this buffer stores the video flowing reconstructed.Wave filter can be coupling in buffer with
So that at least some of of the video flowing reconstructed is fed back to decoder as compiling information between decoder.It is also based on institute
At least one in multiple characteristic sets of the video flowing of reconstruct determines piecemeal.
Include receiving input video stream and being divided into multiple by this input video stream additionally, described principle discloses
The method of piecemeal.The method also includes decomposing the plurality of piecemeal, and the block encoding through decomposing is become encoded bit
Stream, wherein said coding uses the compiling information of the channel from input video stream.In an embodiment, the method farther includes
Receive the video flowing of the reconstruct deriving from encoded bit stream as the input for block encoding being become bit stream.Additionally, should
Method can include that the video flowing caching the reconstruct reconstructed from encoded bit stream is for use as its of input video stream
The compiling information of its channel.This compiling information can be at least in the reference picture information of described video flowing and compiling information
Individual.
Also disclose other method.This method includes receiving at least one encoded bit stream and to received
Bit stream be decoded, wherein said decoding uses the compiling information of channel from input video stream.Additionally, the method will
Decoded bit stream synthesizes a series of piecemeals of input video stream, and piecemeal is combined into the video flowing of reconstruct.In reality
Executing in example, compiling information is at least one in the reference picture information of input video stream and compiling information.Additionally, the method energy
Enough include the video flowing reconstructed with acting on the input that the special stream of contrast is decoded, and synthesize reconstructed video flowing with
For this bit stream is decoded.
This description each region based on the picture in video flowing describes most effectively with specific feature set is incompatible
Premise is developed.For example, it may be determined that characteristic set is to obtain effectively describing the ginseng of face for given mask
Number.Additionally, the efficiency of the characteristic set that the part of image is described depend on those features minimum is described long
Degree encode used in compression algorithm application (such as, for the wherein mankind be terminal use those application senses
Know dependency) and efficiency.
The Video Codec proposed employs N number of characteristic set, i.e. { FS1…FSN, the most each FSiBy named
{fi(1)…fi(ni) niIndividual feature is constituted.The video proposed is compiled and is seized device effectively (such as based on certain rate distortion perception
Scheme) being divided into by each picture can overlapping or disjoint P suitable piecemeal.It follows that each piecemeal j is allocated
The characteristic set of this piecemeal, such as FS are most preferably describedi.Finally, with the FS for describing the data in piecemeal jiIn characteristic set
NiThe value that each in feature is associated is encoded/compresses and is sent to decoder.The each eigenvalue of decoder reconstruction
And then reconstruct this piecemeal.The plurality of piecemeal will form the picture of reconstruct.
In an embodiment, perform to receive the side of the video flowing being encoded and transmitting or be stored in suitable medium
Method.This video flowing is made up of the multiple pictures being arranged in the sequence.For each in the plurality of picture, the method is
Picture determines characteristic set and each picture is divided into multiple piecemeal.In each piecemeal feature corresponding to this piecemeal of description
At least one.Each piecemeal is compiled by the method according to the encoding scheme of feature being suitable to be described this piecemeal
Code.Then encoded piecemeal can be transmitted or be stored.
It can be appreciated that, use feature based coding that the video flowing being received performs the appropriate method of decoding.
The method determines encoded piecemeal according to received video flowing.According to each piecemeal received, according to being used
Coded method determine the feature for each piecemeal is encoded.Feature determined by based on, the method reconstruct is used for
Create the plurality of piecemeal of each in the plurality of picture in encoded video flowing.
In an embodiment, each feature compilation scheme is probably uniquely for this special characteristic.Implement at another
In example, each feature compilation scheme can be shared the compiling for multiple different characteristics.Compilation scheme can be to identical
Piecemeal uses space, time or compiling information across this feature space most preferably to be compiled any given feature.If
Decoder depends on such space, time or across characteristic information, then it must be from the most communicated and decoded data.
Turn to Fig. 1, it is illustrated that video flowing encoded according to the feature found in the picture of video flowing and decodes
The network architecture 100.Coding and the embodiment of decoding are described more fully hereinafter in it.As shown in fig. 1, the network architecture 100
It is illustrated as cable television (CATV) network architecture 100, including cable headend unit (or cable headend) 110 and cable system
111.It is to be understood, however, that concept described here is applicable to include other wired transmission with wireless type
Other dynamic image distribution embodiment.Multiple data sources 101,102,103 can be communicatively coupled to cable headend unit 110, bag
Include but be not limited to multiple server 101, the Internet 102, radio signal or via the electricity received by content supplier 103
Depending on signal.Cable headend 110 is also communicatively coupled to one or more subscriber 150a-n by cable system 111.
Cable headend 110 include the equipment of necessity with according to following various embodiments come to it from data source 101,102,
103 video flowings received encode.Cable headend 110 includes characteristic set device 104.Characteristic set device 104 stores
It is used to split the following various features of video flowing.When feature is determined, the quality of feature is stored in characteristic set device
In the memorizer of 104.Cable headend 110 also includes divider 105, and described divider 105 is according to by characteristic set device 104 institute
Video flowing is divided into multiple piecemeal by the various features of the video flowing determined.
Encoder 106 uses any one in the various encoding schemes being suitable to describe the feature of piecemeal to come described piecemeal
Encode.In an embodiment, video flowing can be carried out by encoder according to any one in various different encoding schemes
Coding.The encoded piecemeal of this video flowing is provided to cable system 111 and uses transceiver 107 to be sent to various subscriber
Unit 150a-n.Additionally, processor 108 and memorizer 109 and characteristic set device 104, divider 105, encoder 106 and
Transceiver 107 is used as a part for the operation of cable headend 110 in combination.
Subscri er unit 150a-n can be to support the TV 150n of 2D or support the TV 150d of 3D.In an embodiment, cable
Network 111 uses such as fix that 3D and 2D video content stream is supplied in subscri er unit 150a-n by optical fiber or coaxial cable every
One.Subscri er unit 150a-n is each includes Set Top Box (STB) 120,120d, and its reception is currently in use described feature based
The video content stream of principle.As is understood, subscri er unit 150a-n can include from STB 120,120d its
The wirelessly or non-wirelessly transceiver of its type, described transceiver can transmit and receive the video flowing from head end 110 and control number
According to.Subscri er unit 150d can have the TV assembly 122d of the support 3D that can show 3D three-dimensional view.Subscri er unit 150n has
There is the 2D TV assembly 122 that can show 2D view.Each in subscri er unit 150a-n includes receiving decoded piecemeal
And create the combiner 121 of video flowing again.Additionally, processor 126 and memorizer 128 and other assembly unshowned with
STB and TV assembly 122,122d are used as a part for the operation of subscri er unit 150a-n in combination.
As mentioned, each picture in video flowing is divided according to the various features found in picture.Implementing
In example, decomposed by it or analyze piecemeal for coding and reconstruct or synthesis for decoding rule be based on
By the fixed character set known to encoder and decoder.These fixed character are stored in cable headend respectively
In the memorizer 109,128 of 110 and subscri er unit 150a-n.In this embodiment, it is not necessary to send to decoder from encoder
About any information how reconstructing piecemeal in this kind of coding and decoding video based on fixed character.In this embodiment, coding
Device 106 and decoder 124 are configured with the characteristic set of the various piecemeals for coding/decoding video flowing.
In another embodiment, decompose or analyze piecemeal for encoding and reconstruct or synthesizing for decoding
Rule is characteristic set based on the more effectively compiling being arranged to adapt to given piecemeal by encoder 106.By encoder 106 institute
The rule arranged is self-adapting reconstruction rule.These rules need to be sent from cable headend 110 at subscri er unit 150a-n
To decoder 124.
Fig. 2 shows senior Figure 200, and wherein incoming video signal x 202 is broken down into by characteristic set device 104
Two characteristic sets.Can by such as motion (the lowest, high), intensity (bright, dark), texture, pattern, orientation, shape and
Other class another characteristic of content based on input video x 202, quality or context is classified from input video x's 202
Pixel.Can also be by spatio-temporal frequency, signal to noise or by using a certain iconic model to decompose incoming video signal x
202.In addition it is possible to use incoming video signal x 202 is decomposed in any one combination in different classes of.Because each spy
The perceptual importance levied may be different, so each feature can pass through encoder 106 coder parameters different from use
Different coding device Ei204, one or more the coming together in 206 more suitably encodes to produce bit stream bi208、210.Compile
Code device E 106 can also combine and utilizes single feature coding device Ei 204、206。
Decoder D 124 including decoder 212,214 is coming between comfortable cable headend 110 and subscri er unit 105a-n
From bit stream b under the possible associating utilization power of the information of all bit streams just senti208,210 reconstruct feature, and
And the described feature device 121 that is combined is combined to produce reconstructed output video signal x ' 216.As can be understood,
Output video signal x ' 126 is corresponding to incoming video signal x 202.
More specifically, Fig. 3 shows the figure of proposed efficient video compiling (HVC) method.Such as, it is used as HVC
The feature of a part based on space-frequency decomposition.It is to be understood, however, that can for the principle described by HVC
It is applicable to the feature in addition to space-frequency decomposition.As indicated, incoming video signal x 302 is provided to divider 105, its bag
Include segmentation module 304 and Multiple Channel Analysis module 306.Segmentation module 304 is configured to the given feature according to such as spatial frequency
Collect incompatible analysis incoming video signal x 302, and based on this feature set incoming video signal x 302 divided or split
Become multiple piecemeal.The segmentation of incoming video signal x 302 is based on the rule corresponding with given characteristic set.Such as, because of
Change in picture for spatial frequency content, so splitting each input picture by segmentation module 304 to make each piecemeal
Can have different space-frequency decomposition so that each piecemeal takes on a different character set.
Such as, in Multiple Channel Analysis module 306, input video piecemeal can be based on spatial frequency such as total of four
Low-low, low-high, high-the low and Gao-height of characteristic set and be broken down into 2x2 band, or resolve into for the two special
Collect the desired 2x1 (vertical) wanting two features (H with L frequency component) or 1x2 (level) frequency band.Can use spatial prediction,
(such as, mean square deviation (MSE) adds the quality metric of time prediction and or perception subjective with suitable subband specificity across band prediction
Power) compile these subbands or " channel ".Existing codec technology can be used or adaptation is to use chnnel coding
Band is compiled by device 106.The bit stream of the result of encoded video signal piecemeal be sent to subscri er unit 150a-n with
Just it is decoded.The channel decoded by decoder 124 is synthesized to reconstruct piecemeal by module 310 for channel by module 308, from
And produce output video signal 312.
Figure 4 illustrates the example of two channel HVC encoders 400.Incoming video signal x 402 can be from divider
The whole image of 105 or single image piecemeal.Incoming video signal x402 passes through wave filter 404,406 according to function hiFiltered
Ripple.It should be appreciated that depend on that characteristic set can use any number of wave filter.In an embodiment, filtered letter
Number then by sampler 408 by sampling with such as two corresponding factors of the number of wave filter 404,406 so that all
The total number of the sample in channel is and inputs the same number of of sample.Input picture or piecemeal can be by suitably polishings
(such as, using symmetric extension) is to realize an appropriate number of sample in each channel.As result channel data then
Respectively by encoder E0410 and E1412 codings are to produce channel bit-stream b0414 and b1 416。
If to encoder EiThe bit-depth resolution of input data can process more than encoder, then at coding
The most again can be converted input data before.This again converts and can quantify (uniform or non-by the bounded of data
Completing uniformly), described bounded quantifies to include the conversion of data, offset, round and amplitude limit.Perform before the coding
Any operation (such as convert and offset) should be reverse after the decoding.Special parameter used in conversion is permissible
It is sent to decoder, or arranges according to the priori between encoder and decoder.
Channel encoder can utilize from other channel (at ijkIn the case of channel k for the compiling information of channel j)
i01418 improve compiling efficiency and performance.If i01Available at decoder, then need not be included in this information
In bit stream；Otherwise, i01Following decoder is can be additionally used in together with bit stream.In an embodiment, compiling information iikCan be to compile
Information required for code device or decoder, or it can be based on this information and the information of forecasting of the analysis of channel condition.Empty
Between or re-using of time prediction information can be across by multiple subbands determined by HVC Compilation Method.So that carry out self-channel
Motion vector can be used for encoder so that the compiling of a subband can be used by another subband.These motions
Vector can be accurate motion vectors or the Predictive motion vector of subband.The compilation unit of any current compiling can be from available
One or more succession pattern compiler information in the subband of encoder.Additionally, encoder can
Use this pattern compiler information to predict the pattern compiler of current compilation unit.Therefore, the pattern of a subband can also be by separately
One subband uses.
In order to decoded output matching, decoder reconstruction loop 420 is also included in encoder, as by bit stream
Decoder Di422, as illustrated in 424.As the part in decoder reconstruction loop 420, encoded bit stream 414,
416 are sampled device 423 is up-sampled by the factor two, and the wherein said factor is corresponding to the number of bit stream, and is then filtered
Device 428,430 is by function giPost filtering.Wave filter h can be selectedi404,406 and wave filter gi428,430 make when through after
The output of the filtering device 429 that is combined is when adding up, and original input signal x can be extensive in the case of there is not compiling distortion
The multiple signal x ' for reconstruct.Alternatively, it is possible to design wave filter hi404,406 and gi428,430 to lose there is compiling
Total distortion is minimized in the case of Zhen.
Fig. 4 also illustrates how the output x ' of reconstruct can be used as being compiled and following picture for right
The reference that information i of another channel k (not shown) is compiled.Buffer 431 stores these output, and then it can be filtered
hiAnd sample to produce picture ri, and this is for encoder EiWith decoder DiBoth perform.As indicated, picture ri
Can be fed back to be used by both encoder 410 and decoder 422, described decoder 422 is of reconstruct loop 420
Point.In addition it is possible to use wave filter Ri432,434 realizing optimizing, described wave filter uses filter function h 436,438 and adopts
Output for decoder reconstruction loop 420 is filtered and samples by sample device 440.In an embodiment, wave filter Ri 432、
434 select in several Multiple Channel Analysis (including acquiescence in the case of not decomposing) for each image or piecemeal.So
And, once image or piecemeal are reconstructed, buffered output be then able to use all possible Multiple Channel Analysis filter with
Produce suitable reference picture.As is understood, these reference picture are used as a part for encoder 410,412
And with acting on the compiling information of other channel.Although additionally, Fig. 4 shows that reference channel is sampled after the filtering, but
Also it is possible for treating non-sampling reference channel.Although Fig. 4 shows the situation of two Multiple Channel Analysis, but holds
From described principle, easily understand the extension of more channels.
Subband reference picture interpolation can be used to should be what information about video flowing.The image of reconstruct can
Suitably to be decomposed to generate with reference to sub-band information.Can use through the generation of the subband reference data of sub sampling may be
The non-sampled reference picture being incorrectly synthesised completes.Spectral characteristic based on each subband fixing interpolation can be used to filter
The design of ripple device.Such as, planar interpolation is applicable to high-frequency data.On the other hand, adaptive interpolation filters can be based on MSE
Minimization, it can include being applied to by wiener (Wiener) filter coefficient of non-sampling synthesized reference frame.
Fig. 5 shows the decoder 500 corresponding with encoder illustrated in Fig. 4.Decoder 500 is to received ratio
Special stream bi414,416 and altogether channel compiling information i 418 operate.This information can be used in encoder and decoding
Both devices place obtains compiling information or reuses compiling information between the channels.Received bit stream 414,416 by
It is configured to decode with the decoder 502,504 of encoder 410,412 coupling.When coding/decoding parameter is about set to priori
Time, then decoder 502,504 is configured with similar parameter.Alternatively, decoder 502,504 using supplemental characteristic as bit
A part for stream 414,416 receives, in order to be configured to correspond to encoder 410,412.Sampler 506 is used to through solving
The signal of code carries out resampling.Use filter function giWave filter 508,510 be used to obtain reconstruct input video letter
Number x '.Specifically, from the output signal of wave filter 508,510512 Hes514 are added together to produce by adder 516
The incoming video signal x ' 518 of reconstruct.
As seen, the video signal x ' 518 of reconstruct is additionally provided to buffer 520.Buffered signal quilt
Being supplied to wave filter 522,524, wave filter 522,524 is by function hi526,528 input signals to being reconstructed are filtered
Ripple, and then use sampler 530 that signal is carried out resampling.As indicated, filtered reconstruct input signal is fed back
In decoder 502,504.
As it has been described above, input video stream x can be divided into piecemeal by divider 105.In an embodiment, input regards
The picture of frequency stream x is divided into piecemeal, wherein uses most suitable analysis, sub sampling and composite filter set (based on often
The local image content of individual given piecemeal) decompose each piecemeal, wherein piecemeal is configured to have similar with this feature set
Feature.Fig. 6 shows the example of compiling scene, and this compiling scene employs and is used as space-frequency decomposition for adaptively
The decomposition option different to the total of four of the example of the characteristic set that picture 600 is split, decomposes and encoded.Can lead to
Cross and describe a characteristic set FS of length criteria based on minimal characteristic and describe the adaptivenon-uniform sampling of the picture in video flowing.As
As being understood, it is possible to use further feature set.For space-frequency decomposition, picture 600 is checked to determine can be sent out
The different piecemeals of existing similar characteristics.Inspection based on this picture 600, creates piecemeal 602-614.As indicated, piecemeal 602-614
Do not overlap each other, but it is to be understood that, the edge of piecemeal 602-614 can be overlapping.
In the example of space-frequency decomposition, characteristic set option is similarly based on horizontal or vertical filtering and sub sampling
's.It is being designated as V1H1, be used in piecemeal 604,610 as in an example of example, the pixel value of this piecemeal is compiled:
This characteristic set has only one feature, and it is the pixel value of this piecemeal.This is equivalent to traditional picture compiling, wherein encodes
Pixel value is operated by device and decoder.As indicated, by V1H2Every in two subbands of specified piecemeal 606,612
One is flatly filtered and sub sampling by the factor two.This characteristic set has two features.One is low frequency sub-band
(one or more) value and another is high-frequency sub-band (one or more) value.Each subband is then with suitable encoder quilt
Compiling.Additionally, by V2H1Specified piecemeal 602 uses vertical filter to filter and leads to each in two subbands
Cross the factor two and carry out sub sampling.As using V1H2Piecemeal 606,612 as, the characteristic set for piecemeal 602 has two spies
Levy.One is low frequency sub-band (one or more) value and another is high-frequency sub-band (one or more) value.Can be with suitable
When encoder compile each subband.
By V2H2Specified piecemeal 608,614 is used by the factor two in each in both horizontally and vertically
That can divide or inseparable filtering and sub sampling.When filtering and sub sampling are in two dimensions, every in four subbands
One carries out this operation and makes characteristic set have four features.Such as, can be in the case of decomposition, fisrt feature capture be low
(one or more) value of frequency (LL) subband, second and third feature capture respectively low and altofrequency i.e. LH and HL (one or
Multiple) combination of subband values, and (one or more) value of fourth feature capture altofrequency (HH) subband.Then by suitable volume
Code device compiles each subband.
Divider 105 can use the method for the piecemeal 602-614 to each picture created in input video stream x to use
Multiple different adaptivenon-uniform sampling schemes.One classification is based on rate distortion (RD).One example of piecemeal based on RD
It it is tree method.In this approach, the tree construction using such as quaternary tree is compiled by segmentation figure.Optimal based on including
The performance of decomposing scheme and the cost minimization for the bit required for the description of tree node and leaf carry out decision tree and divide
?.Alternatively, piecemeal based on RD can use twice method.In first pass, all piecemeals with intended size will
Through adaptive decomposition to find the cost of each decomposition option, then the piecemeal from first pass will most preferably be merged with minimum
Change the totle drilling cost that picture is compiled.In this calculates, it is also contemplated that the cost of the transmission of segmentation information.At second time
In will split according to optimal block diagram and decompose picture.
Another kind of piecemeal is based on non-RD.Norm-p is make use of to minimize in this approach: in the method, by pin
The each possible option decomposed is calculated the norm-p of the subband data of all channels for same spatial location.Pass through
The optimum division of picture realizes optimal segmentation, to minimize the hypernorm-p at all piecemeal 602-614.Same we
In method, consider to send the cost of segmentation information by adding the bit rate (actual or estimate) of suitably weighting, with will point
The information of cutting is sent to the overall norm-p of these data.For having the picture of natural contents, generally use norm-1.
It is described above the picture in video compiling or the self adaptation sub-band division of piecemeal.By sub sampling in level and
Level in each in vertical direction describes each decomposition option, this so that define such as V1H1、V1H2Deng subband
Number and size.As is understood, can to picture in the future or piecemeal re-uses or in advance by sending remaining increment
Survey for picture or the decomposed information of piecemeal.Before the compression by applying such as wave filter hi404, the analysis filter of 406
Obtain each subband, and by applying such as wave filter g after correct up-samplingi428, the composite filter of 430
Reconstruct each subband.In the case of cascade decomposition, it is understood that there may be relate to analyze or synthesize more than one of each band
Wave filter.
Returning to Figure 4 and 5, wave filter 404,406,428,430,436,438,508,510,526,528 can be configured
Be designed to minimize total distortion and as self adaptation composite filter (ASF).In ASF, wave filter is just attempted minimizing
By the distortion caused by the compiling of each channel.The coefficient of composite filter can be set based on the channel reconstructed.ASF's
One example optimizes based on associating subband.Function g for intended sizei, linear mean square estimation technology can be used to
Calculate giCoefficient so that mean square between the original pixels in primary signal x in the piecemeal x ' finally reconstructed and this piecemeal
Estimation difference is minimized.In alternative embodiments, independent channel optimization is used.In this example, associating subband
Optimize and need the auto-correlation between primary signal x and the reconstructed subband signal after up-sampling and cross-correlation.Furthermore, it is possible to solve
The certainly system of matrix equation.Combine the calculating that subband optimization is associated with this and be probably prohibitive in numerous applications.
Can see the example of the independent channel optimal solution for encoder 700 in the figure 7, it concentrates on ASF
Therefore eliminate and use the reference picture of the wave filter 432 and 434 shown in Fig. 3 to process.In ASF, filter estimation module
(FEi) 702,704 be provided to perform decoded reconstruct channel(it is the most noisy) and the most decoded reconstruct
Channel c 'iWave filter between (it is muting) is estimated.As indicated, incoming video signal x 701 is separated and is provided
To wave filter 706,708, described wave filter 706,708 is according to known function hiIt is filtered signal x and then uses adopting
Sample device 710 is to be sampled by speed determined by the number of piecemeal.In the embodiment of two channel decomposing, wave filter 706,708
In one can be low pass filter, and another can be high pass filter.It should be appreciated that in two channel decomposing
Partition data makes data double.Therefore, sampler 710 can sample the amount half of data critically to input signal,
Equal number of sample be can be used at decoder and reconstruct input signal.Then filtered He sampled signal is compiled
Code device Ei712,714 codings are to produce bit stream bi716、718.Encoded bit stream bi716,718 it is provided to decoder
720、722。
Encoder 700 receives be supplied to encoder 712,714 equipped with interpolating module 724,726, interpolating module 724,726
The signal filtered and sampled with the signal from decoder 720,722.Sampling and sampled signal and decoded letter
Number by sampler 728,730 sample.Through resampling signal by wave filter 732,734 process to produce signal c 'i, and through solving
The signal of code is also processed by wave filter 736,738 to produce signalSignal c 'iWithIt is supplied to above-mentioned filtering and estimates mould
Block 702,704.The output of filtering estimation module 702,704 is corresponding to the filter information info of interpolating module 724,726i。
infoiCan be provided to the decoder of correspondence and be supplied to other encoder.
Interpolating module can be configured with make use of filter function fiWave filter 740,742.Wave filter 740,742 is permissible
It is exported and minimizes c 'iWithBetween error metrics, and this wave filter is applied to c "iTo generateAs result
Filtered channel outputThen total output it is combined to create.In an embodiment, ASF outputCan be used to replace
In Fig. 4Because ASF is applied to each channel before the combination, so differentiating relative to the bit-depth of last output
Rate, output c filtered for ASFiMay remain under higher bit-depth resolution.It is to say, combined ASF output
The purpose processed for reference picture under inside may remain in higher bit-depth resolution, and can such as pass through
Amplitude limit reduces the bit-depth resolution of last output with rounding.Can be filled out by the filtering performed by interpolating module 740,742
Fill the information abandoned by the sampling carried out by sampler 710.In an embodiment, encoder 712,714 can be based on being used for dividing
Cut incoming video signal and the different parameter of the incompatible use of feature set that then signal encoded.
Filter information infoiOr iiThe decoder 800 shown in Fig. 8 can be sent to.Modified composite filter
802、804gi' can from wave filter 706,708, the function g of 732-742iAnd fiObtain so that encoder 700 and decoder 800
Both perform equivalent filtering.In ASF, composite filter 732-738giIt is modified to the g in wave filter 802,804i' with explanation
The distortion introduced by compiling.Can also be by the analysis filter function h from wave filter 706,708iBe revised as wave filter 806,
H in 808i' so that the compiling distortion in adaptive analysis filtering (AAF) to be described.AAF and ASF is also possible simultaneously.ASF/
AAF can be applied to whole picture or be applied to picture piecemeal, and different wave filter can be applied to different
Piecemeal.In the example of AAF, the analysis filter of such as 9/7,3/5 etc. can be selected from bank of filters set.The filtering used
Device is quality based on the signal entering wave filter.AAF filter can be set for content based on each piecemeal and compiling condition
The coefficient of ripple device.Additionally, wave filter can be used for generating subband reference data, if filtering index or coefficient can be transmitted
To decoder to prevent the drift between encoder and decoder.
As Fig. 8 sees, bit stream bi716,718 being provided to decoder 810,812, decoder 810,812 has
Have and the parameter of encoder 712,714 complementation.In systems decoder 810,812 also receive from encoder 700 and from
Compiling information i of other encoderiAs input.The output of decoder 810,812 is sampled device 814 resampling
And it is supplied to above-mentioned wave filter 802,804.Filtered decoding bit stream c "iThe device 816 that is combined is combined to produce reconstruct
Video signal x '.Reconstruct video signal x ' can also be buffered in buffer 818 and by wave filter 806,808 process with
And sampled to be supplied to decoder 810,812 as feed back input by sampler 820.
The codec shown in Fig. 4-5 and 7-8 can be strengthened for HVC.In an embodiment, it is possible to use across subband
Prediction.In order to be compiled the piecemeal with multiple subband feature set, encoder can use from
Be decoded and the compiling information of all subbands available at decoder and without sending any extra information.This is by carrying
Compiling information i of supply encoderiInput illustrate.This example is to decoding at decoder
The subband of common location re-uses time and spatial prediction information.Relevant to encoder across the problem of band prediction
Problem.Some schemes that can be used to perform this task under the background of contemporary Video Decoder and encoder are now described.
One such scheme uses across subband motion-vector prediction.Because the correspondence position in a sub-band each
In motion vector point to the same area in the pixel domain of incoming video signal x and thus be accordingly used in each piecemeal of x, so
The motion vector using the most compiled subband block of comfortable corresponding position is useful to obtain the motion vector of current block
's.Two extra patterns can be added to codec to support this feature.One pattern is making again of motion vector
With.In this mode, all motion vectors of the directly corresponding blocks from the most communicated subband obtain for each piece
Motion vector.Another pattern uses motion-vector prediction.In this mode, add to directly through by delta motion vector
All motion vectors of the motion vector predicted corresponding blocks from the most communicated subband obtain the fortune for each piece
Dynamic vector.
Another program uses to be predicted across subband pattern compiler.Because the picture taken from video flowing or take from this picture point
The structure gradient at the such as edge etc in each picture position of block can spill into the corresponding position in each in subband
Put, so for the compiling of any given block, re-using the volume of the most compiled subband block of comfortable corresponding position
It is useful for translating pattern information.Such as, in this mode, can obtain for each macro block from the corresponding macro block of low frequency sub-band
Predictive mode.
Another embodiment that codec strengthens uses reference picture interpolation.The purpose processed for reference picture, is weighed
The picture of structure is buffered as see in Figure 4 and 5 and is used as the reference of compiling for following picture.Because coding
Device EiThe channel of filtered/sampling operates, so by by the reference picture mistake performed by wave filter 432,434
Journey RiSimilarly filter and sampled reference picture.But, some encoders can use higher subpixel accuracy, and leads to
The normal situation for 1/4th pixel resolutions inserts function R as shown in Fig. 9 A and 9Bi。
In figures 9 a and 9b, input signal x of reconstruct ' it is provided to wave filter Qi902 and Q 'i904.Such as institute in figure 9 a
See, by wave filter RiThe reference picture of 432 operations processes operation and processes use wave filter hi436, and use sampling
Signal is sampled by device 440.1/4 pixel interpolation module 910 can be used at the Q of wave filteriGroup in 902 operations
Close the interpolation operation generally performed in the encoder.This overall operation generates 1/4th pixels of encoder channel input and divides
Resolution sample for reference qi906.Alternatively, it is used for generating reference picture q of interpolation shown in Fig. 9 Bi' another way.At this
Individual " non-sampling interpolation " QiIn ', the output of reconstruct only uses wave filter hi436 at RiFiltering and unsample in '.Filtered
Then output use 1/2nd picture element interpolation modules 912 to carry out interpolation to generate 1/4th pixels ginsengs by 1/2nd pixels
Examine picture qi’908。Qi' it is better than QiAdvantage be Qi' it is able to access that " original " (non-sampling) 1/2nd pixel samples, from
And cause preferable 1/2nd pixels and 1/4th pixel values.Qi' interpolation may be adapted to the particular characteristics of each channel i,
And it can also be extended to any desired subpixel resolution.
As understood from the foregoing, each picture of composition input video stream x can be by as whole continuously
Picture processes, or is divided into the less continuous or overlapping sub-pictures as seen in Fig. 5.Piecemeal can have fixing
Or adaptive size and dimension.Piecemeal can be completed under picture level or adaptively.In self adaptation embodiment, can
To use any one in multiple distinct methods and by picture segmentation component block, described distinct methods includes tree construction or twice
Structure, wherein first pass uses fixing block to be operated in for second time on merging block.
In decomposition, Multiple Channel Analysis and synthesis can be selected according to the content of picture and video flowing.For based on filtering
Device is analyzed and the example of synthesis, and decomposition can present any number of level and/or belt and multi-level decomposition.Analyze/close
It can be that can divide or inseparable for becoming wave filter, and they can be designed in the case of lossless compiling realize perfection weight
Structure.Alternatively, for damaging compiling situation, they can be jointly designed to minimize total end-to-end error or perception
Error.Different decomposition can be had as segmentation, each picture or sub-pictures.Showing of such decomposition of picture or video flowing
Example based on wave filter, feature based, based on content, the most vertically, level, diagonal, feature, multistage, can divide
With inseparable, perfect reconstruction (PR) or non-PR and picture and sub-pictures adaptive approach.
In order to by the encoder E of channeliIt is compiled, it is possible to use or adjust existing video coding technique.?
In the case of the decomposition of frequency, low-frequency band can be directly compiled as normal video sequence, because it maintains original
Many attributes of video content.Because this, so framework can be used to maintain " backwards compatibility ", wherein use current
Codec technology is decoded independently low strap.Higher band can use the technology of following exploitation to be decoded and together with low strap one
Rise and be used for higher quality reconstruction.Because each channel or band can show mutually different properties, it is possible to application spy
Fixed channel Compilation Method.Interchannel redundancy can also be improved compiling efficiency by using spatially and provisionally.For example, it is possible to
Based on other channels one or more obtain motion vector, predicted motion vector, coefficient scan order, pattern compiler judge with
And other method.In this case, obtained value may need suitably converted or map between the channels.This is former
Reason goes for any Video Codec, can be backward compatibility (such as low strap), can be for specific channel
(the such as high-band) of Compilation Method and interchannel redundancy can be used.
For reference picture interpolation, can to interpolation location use non-sampling 1/2nd pixel samples, interpolation value and
The combination of adaptive interpolation filters (AIF) sample.Such as, it is useful high-band two except wherein using un-decimated wavelet transform sample
Outside/mono-location, some tests show to use AIF sample to be probably useful.Although 1/2nd picture element interpolations in Q '
May be adapted to signal and the noise characteristic of each channel, but low pass filter can be used for all channels generating four/
One pixel value.
It should be appreciated that some features can be adjusted in the compiling of channel.In an embodiment, it is every based on RD cost
The quantization parameter that individual piecemeal/Channel assignment is best.Each picture of video sequence can be divided and resolve into several channels.
By each piecemeal or channel are allowed different quantization parameters, overall performance can be improved.
Distribute to or perform optimal bit across different piecemeals between the different sub-band of identical piecemeal, can make
Technology is minimized with RD.If the measurement of fidelity is Y-PSNR (PSNR), then when identical Lagrange multiplier (λ) quilt
It is used for realizing individual channel and when most preferably compiling of piecemeal, Lagrange cost can be minimized independently for each subband
(D+λ.R)。
For remaining the most low-frequency band of natural image content, being generated by conventional video codec of it
RD curve maintains convexity matter, and obtains quantization parameter (qp) by recurrence RD cost search.Such as, at first step,
Calculate at qp1=qp, qp2=qp+ Δ, qp3RD cost under=qp-Δ.There is the qp of minimum costi(i=1,2 or 3)
Value is used to repeat the newest qp and is arranged to qpiProcess.Then calculate at qp1=qp, qp2=qp+ Δ/2, qp3=
RD cost under qp-Δ/2, and repeat this until qp increment Delta becomes 1.
For high frequency band, convexity matter is no longer set up.Replacing recursive scheme, exhaustive search is used to discovery and has minimum RD
The best qp of cost.Then the cataloged procedure from the different quantization parameters of qp Δ to qp+ Δ is operated in.
Such as, Δ is arranged to 2 in low frequency channel is searched for, and this is relative to the situation not having RD to optimize under channel level
The 5x compiling complexity is caused to increase in time.Searching for for high frequency channel, Δ is arranged to 3, corresponding to compiling complexity
7x increase.
By said method, determine the optimal of each channel with multipass coding and the encoder complexity increased for cost
qp.Can develop need not experience multipass coding in the case of for each channel directly distribute qp for reducing complexity
Method.
In another embodiment, each channel can be used lambda (lambda) regulation.As referred to above,
Equal Lagrange multiplier option for different sub-band will cause most preferably compiling under certain conditions.One such condition is
Distortion from all subbands is added with equal weight in the formation of the picture of last reconstruct.Along with knowing for different sub-band
Compression noise observed by this of different (synthesis) wave filter in the case of different frequency dependent gain and advise, depend on
In spectral shape and the characteristic of wave filter of compression noise, can be by the Lagrangian different for different subband distribution
Improve compiling efficiency.Such as, this completes by conversion factor is distributed to channel lambda, wherein said conversion factor
Can be from the input parameter of configuration file.
In another embodiment, it is possible to use picture/mb-type determines.Advanced video coding (AVC) encoder is to high frequency
Band carries out compilation phase and is not likely to be very effective.By the many macro blocks (MB) in HVC with including P and B chip (slice)
Prediction chip carries out interior compiling.In certain extreme cases, it was predicted that all of MB in chip is by interior compiling.Because interior MB pattern
Context model be different for different slice type, so being compiled as I chip, P chip or B code when subband
During sheet, the bit rate generated is diverse.In other words, in natural image, interior MB is less likely to occur in prediction
In chip.Therefore, it is assigned with there is the context model of low interior MB probability.For I chip, it is assigned with and there is higher interior MB
The context model of probability.In this case, even when each MB compiles under identical pattern, the most all MB quilts
The prediction chip of interior compiling consumes more bit than I chip.As a result, different entropy compilers can be used for high frequency channel.
Additionally, each subband statistical property based on each subband can use different entropy techniques of compiling or compiler.Replaceable
Ground, another solution is to be compiled each picture in channel with different slice type, and then selection has
The slice type of minimum RD cost.
For another embodiment, each basic compilation unit is employed new interior dancing mode.Interior dancing mode is benefited
Sparse data in block-based algorithm compiles, and wherein the prediction from the most reconstructed neighborhood pixels is used to reconstruct content.
High subband signal generally comprises many flat sites and high fdrequency component is sparsely positioned.A bit is used to distinguish block territory
Be whether smooth be probably favourable.Especially, interior dancing mode is defined as indicating the MB with flat contents.Whenever sentencing
In fixed during dancing mode, this region does not compiles, and does not has further residual error to be issued, and by using the pixel in neighbouring MB
Value predicts the DC value in this region.
Specifically, interior dancing mode is additional MB level mark.MB can be any size.In AVC, MB size is
16x16.For some Video Codecs, propose bigger MB size (32x32,64x64 for high definition video sequence
Deng).Interior dancing mode benefits from bigger MB size because of the potential less bit generated from flat site.Interior jump mould
Formula only enables in the compiling of highband signal and disables in the compiling of lower-band signal.Because the flat site in low frequency channel is not
As those in high frequency channel frequent, so it is said that in general, interior dancing mode for low frequency channel improve bit rate and right
Bit rate is reduced in high frequency channel.Dancing mode can also be applied to whole channel or band.
For another embodiment, employ deblocking filter in loop.Deblocking filter in loop in AVC codec
Help RD performance and visual quality.Exist in which two places that deblocking filter can be placed in HVC encoder in loop.
Figure 10 illustrates for these of encoder, and Figure 11 illustrates for these of corresponding decoder.Figure 10 and 11 quilts
Be configured to the decoder 500 of the encoder 400 and Fig. 5 of Fig. 4, wherein similar assembly be similarly numbered and perform with as above
Described identical function.In one loop, deblocking filter is decoder Di1002, the part of 1004, is each independent letter
The end of road reconstruct.In another loop, deblocking filter 1006 is being synthesized by the channel of the full figure sheet of combiner 431 and reconstruct
Afterwards.In first loop, deblocking filter 1002,1004 is used for channel reconstruction and is M signal.It is borderline at MB
Smoothness can improve last picture reconstruction in RD meaning.It can also cause M signal actual value further away from each other and
Change so that performance degradation is possible.In order to overcome this, how will be able to be synthesized based on this channel for each channel
Attribute configure deblocking filter 1002,1004 in loop.Such as, wave filter 1002,1004 can be based on up-sampling side
To and composite filter type.
On the other hand, in loop, deblocking filter 1006 should be helpful to after picture reconstruction.Due to subband/letter
Road compiling character, the picture finally reconstructed remain the block effect (blockiness) except such as ringing effect in addition to vacation
As.Therefore, in preferably redesigning loop, wave filter is effectively to treat those illusions.
It should be appreciated that be applied to Figure 11's for the principle described by deblocking filter 1002-1006 in loop
Deblocking filter 1102,1104 and 1106 in the loop found in decoder 1100.
In another embodiment, it is possible to use the entropy compiling that subband is relevant.(such as La Pu is followed tending at certain transform domain
For DCT in the case of the AVC of some mixing of Lars and Gauss distribution) in design all based on the statistical property from natural image
Traditional entropy compiler such as the VLC table in convention codecs (AVC, MPEG etc.) and CABAC etc.Can compile by using entropy
Translate device statistical property based on each subband and strengthen the performance of subband entropy compiling.
In another embodiment, it is possible to use decompose correlation coefficient scanning sequence.Choosing is most preferably decomposed for each piecemeal
Item may indicate that the orientation of the feature in this piecemeal.Therefore, before the entropy compiling of compiling conversion coefficient, suitably scanning is used
Order will be preferred.For example, it is possible to specific scanning sequence is distributed to by each being directed in the decomposing scheme that can use
Each subband.Therefore, there is no need to the option sending extra information to transmit scanning sequence.Alternatively, it is possible to from possible
Optionally selecting and transmit the scan pattern of compiled coefficient in the list of scanning sequence option, described coefficient such as exists
The DCT coefficient quantified in the case of AVC, and the subband of each compiling of each piecemeal is sent the selection of this scanning sequence.
Each subband of this given decomposition being required for given piecemeal sends this selection option.Can also be inclined according to having equidirectional
The most compiled good subband predicts this scanning sequence.Furthermore, it is possible to perform every subband and often decompose the fixing of option and sweep
Retouch order.Alternatively, the every subband in piecemeal can use selective scanning pattern.
In an embodiment, it is possible to use subband distortion adjusts.Subband distortion can be more based on from some subbands
The establishment of information, and any information is not produced for other subband.Such distortion adjust can via distortion synthesis or
Completed by the distortion map from subband to pixel domain.In the ordinary course of things, subband distortion can be first mapped to certain frequency
Territory and then weighting according to the frequency response of subband building-up process.In conventional video compilation scheme, many compilings are sentenced
It is fixed that by minimizing, rate distortion one-tenth is original to be performed.Distortion measured in each subband may not reflect from this subband to finally
The picture of reconstruct or the last impact of the distortion of picture piecemeal.For perceived quality metric, this is in the case of same amount of distortion
Be more obvious, such as the MSE in frequency subband will be to last reconstruct than the same amount of distortion in different sub-band
Image have different sensation influences.Non-subjective quality for such as MSE is measured, and the spectral density of distortion can affect synthesis
Distortion in the quality of piecemeal.
In order to solve this, noise block can be inserted in other noise-free picture piecemeal.Additionally, subband up-sampling
Before calculating the distortion of this given block, necessity it is probably with synthetic filtering.It is alternatively possible to use from subband data
Distortion to the fixing mapping of the distortion in the piecemeal being finally synthesizing.For the quality metric of perception, this can relate to collecting master
Observation test result is to generate mapping function.For more generally situation, subband distortion can be mapped to the frequency that some are trickleer
Rate subband, wherein total distortion will be every subband distortion according to the combination frequency response from up-sampling and synthetic filtering
Weighted sum.
In another embodiment, it is provided that scope adjusts.It is possible that subband data can be to need to be converted into and have
The floating-point of the integral point of specific dynamic range.Perhaps, encoder can not process floating-point input, and therefore this input is altered to mend
Repay and just received.This can realize via lifting scheme by using the integer mapping of sub-band division.Alternatively, it is possible to
Using general bounded quantizer, it is followed by continuous non-decreasing mapping curve (the such as S-shaped of uniform quantizer by use
) build.Parameter for this mapping curve should be known or be delivered to it with in sub sampling and synthesis by decoder
Reconstructed subband signal before.
Described HVC provides several advantages.Frequency subband decomposes can provide preferably subband to separate to obtain more
Spatio-temporal prediction and compiling efficiency well.Because the energy in typical video content be largely focused on some subbands, so
Low-energy zone can be performed more effectively compiling or subband jumps.Can also carry out subband dependent quantization, entropy compiling and subjective/
Objective optimization.This perceptual importance can being used to according to each subband performs compiling.Similarly, with other only pre-flock
Wave method is compared, and threshold sampling decomposes does not increases the number of sample and perfect reconstruction is possible.
From the point of view of prediction compiling visual angle, in addition to spatial prediction and time prediction, HVC with the addition of across sub-band predictive.Can make
Each subband is compiled, as long as it observes picture/piecemeal class by the picture/mb-type (such as I/P/B chip) different from other subband
Type (such as, interior type piecemeal is only capable of for its subbands all and has the compiling of interior type).By means of decomposition, need not bright
Virtual compiling is extended single in the case of really designing new predictive mode, sub-splitting scheme, conversion, coefficient scanning, entropy compiling etc.
Unit and converter unit.
Relatively low computation complexity the most only performs the consumption of the most such as estimation (ME) to the low frequency sub-band sampled
Time operation HVC in be possible.The parallel processing of subband and decomposition is also possible.
Because HVC framework compiles independent of the particular channel used or subband, so different bands can be utilized by it
Different compression schemes.It is got along well other compilation tool (such as KTA and the JCT-VC proposed) conflict proposed, and can
Additional compiling gain is provided on other compilation tool.
For the principle of the hereinbefore described HVC of 2D dynamic image distribution can also be applied to 3D video frequency output such as with
In 3DTV.HVC can also maximally utilise 3DTV compress technique, and newer coding and decoding hardware are needs.Because
This, interested in the system using existing 2D codec technology offer 3D compatible signal.Such " base
Layer " (BL) signal will be with existing 2D hardware compatibility, and the newer system with 3D hardware can utilize additional " enhancement layer " to believe
Number pay better quality 3D signal.
The mode that 3D realizes the compiling of such migration path is to use BL side by side or top/bottom 3D panel lattice
Formula, and EL is used two full resolution views.The existing 2D of such as AVC can be used in the case of the least additional change
Compression encodes and decodes BL, to process the correct signaling (such as frame encapsulation SEI message and HDMI 1.4 signaling) of 3D form.Relatively
BL and EL can be decoded by new 3D system, and uses them to reconstruct full resolution 3D signal.
Cascade view can be had for 3D video compiling BL and EL.For BL, the first two view can be cascaded, such as left
And right view, and the 2x picture then cascaded will be decomposed to produce BL.Alternatively, view can be decomposed and so
Can be cascaded to produce BL from the low frequency sub-band of each view later.In this approach, catabolic process does not mix from appointing
The information of one view.For EL, the first two view can be cascaded, and the 2x picture then cascaded will be decomposed to produce increasing
Strong layer.Each view can be decomposed and then be compiled by an enhancement layer or two enhancement layers.Real at an enhancement layer
Executing in example, the high-frequency sub-band for each view will be cascaded to produce big EL the same with basic unit.In two-layer embodiment, pin
First the high-frequency sub-band of one view will be compiled as the first enhancement layer, and then for the high-frequency sub-band general of another view
It is compiled as the second enhancement layer.In this approach, EL_1 can be by the most compiled EL_0 ginseng acting on compiling prediction
Examine.
Figure 12 shows what the migration path using scalable video coding (SVC) to compress 1200 for situation side by side compiled
Method.As can be understood, the extension to other 3D form (such as top/bottom, gridiron pattern etc.) is clear and definite.Cause
This, this description concentrates on situation side by side.EL 1202 is the widest version of cascade of two full resolution views 1204, and BL 1206
It is typically the filtered and horizontal sub-sampled version of EL 1204.Then SVC spatial scalability instrument can be used to BL
1206 and EL 1204 encode, and wherein BL is encoded by AVC.Two full resolution views can be extracted from decoded EL.
Use multi-view video compiling (MVC) compression be another possibility is that for migration path compiling.In MVC method
In, two full resolution views generally produce two panels need not be sampled in the case of filtering.In fig. 13, BL panel
The even column of left view and right view is included in full resolution 1304 by 1302.EL panel 1306 comprises two views
The odd column of 1304.BL 1302 it is also possible to comprise the even column of a view and the odd column of another view, otherwise or also
So, and EL 1306 will comprise the opposing party.Then BL panel 1302 and EL panel 1306 can use MVC to be compiled as two
View, wherein have selected GOP Compiler Structure and makes BL be the view that independent AVC encodes, and EL is compiled as relevant view.Right
After BL and El is decoded, can be arranged by intertexture BL the most again and EL and generate two full resolution views.
Generally in generating BL and EL, do not perform pre-filtering so that original complete point can be recovered in the case of there is not compiling distortion
Resolution view.
Turn to Figure 14, HVC can be applied in migration path 3DTV compiles, because typical video content tends to substantially
For low frequency.When the widest version of cascade that the input of HVC is two full resolution views, BL 1402 is at full resolution view
The 2 band horizontal decomposition (for situation side by side) of 1406 are low-frequency bands, and EL 1404 can be high frequency band.
Figure 15 illustrates this HVC scheme compiled by the 3DTV migration path of encoder 1500, it is general
The application of HVC method and special circumstances.As see, many principles discussed above are included in for this
In the migration path of 3DTV method.The low frequency coding path using input video compiling stream x 1502 is shown with and Fig. 4
Some principles described in combination.It is obedient to since it is desirable that BL is AVC, so coding is made by the top low frequency channel in Figure 15
Use AVC instrument.The path of stream x 1502 uses wave filter h01504 are filtered and are sampled by sampler 1506.As follows
As literary composition is more fully described, range adjustment module 1508 limits the scope of basic unit.Information infoRACan be by shown volume
Code device, corresponding decoder (seeing Figure 16) and as above other encoder etc. use.Restricted input signal is right
After be provided to encoder E01510 to produce bit stream b01512.Comprise relevant highband signal and lower-band signal forms coding
Compiling information i of the information of device, decoder or other channel01It is provided to encoder 1526 to improve performance.As is understood
Like that, it is possible to use reconstruct loop reconstructs bit stream b0.This reconstruct loop includes complementary decoder D01514, scope adjusts mould
Block RA-11516, sampler 1518 and wave filter g0 1520。
Additionally provide high-frequency coding path, describe high-frequency coding path with Fig. 7 in combination.Unlike hereinbefore being begged for
The low frequency channel of opinion, high frequency channel can use additional compilation tool, the most non-sampling interpolation, ASF, across sub-band scheme and
Motion-vector prediction, interior dancing mode etc..High frequency channel even can compile with being relied on, and one of them view is compiled independently
Code and another view encodes with being relied on.As describe in combination with Fig. 7, high frequency band includes entering high frequency inlet flow x
The wave filter h of row filtering11522, then described high frequency inlet flow x is sampled device 1524 and samples.Encoder E11526 pairs through filter
The signal with sampling of ripple carries out encoding to form bit stream b1 1525。
The same with low frequency channel, high frequency channel includes decoder D11529, decoded signal is supplied to interpolation mould by it
Block 1530.Interpolating module 1530 is provided for high frequency channel to produce information info11532.Interpolating module 1530 corresponds to
Interpolating module 726 shown in Fig. 7, and include sampler 728,730, wave filter g1 734、738、FE1Wave filter 704 with
And wave filter f1742 to produce information info1.From decoded low frequency inlet flow 1521 and defeated from interpolating module 1530
The device 1524 that goes out to be combined is combined to produce the signal x ' 1536 of reconstruct.
The signal x ' 1536 reconstructed is additionally provided to buffer 1538, itself and buffer class discussed above
Seemingly.Buffered signal can be supplied to as with Fig. 9 B in combination described in reference picture processing module Q '11540.Ginseng
The output examining picture processing module is supplied to high frequency encoder E11526.As indicated, high frequency channel can be compiled
Middle use is from including information i of reference picture processing module that is compiled low frequency channel01, but may not vice versa.
Because BL is usually confined to 8 bits of every color component in 3DTV, so wave filter h0Output (with take out
Sample) to be limited to 8 bits on bit-depth be important.A mode in accordance with the affined dynamic range of basic unit is to make
Operate with by a certain range regulation (RA) performed by RA module 1508.RA module 1508 is intended to be mapped to input value desired
Bit-depth.Generally can realize RA process by bounded quantization (uniformly or non-uniformly) of input value.Such as, one
Individual possible RA operation can be defined as
RAout=clip (round (scale * Rain+ skew))
Wherein round () is close to nearest integer, and the scope of value is limited to [minima, maximum] (such as by clip ()
It is [0,255] for 8 bits), and scale ≠ 0.Other RA operation can be defined, including simultaneously inputting and defeated one group
Go out the RA operation that value carries out operating.If these parameters are not fixing or decoder is not known somehow, then RA parameter
Information needs to be sent to decoder (as infoRA)." inverse " RA-1Value is converted back into original scope by module 1516 again, but
It is that there is rounding and amplitude limit and some possible losses of causing, wherein in operating due to forward direction RA certainly:
RA-1Out=(RA-1In offsets)/scale.
The range regulation of BL is by converting to subband data and shifting or by using the most non-linear change
The acceptable visual quality of offer is provided.In the embodiment of fixing conversion, fixing conversion is provided so that composite filter
Dc gain with conversion is one.In self adaptation conversion and displacement, for scale and two parameter quilts of displacement of each view
Select to make the normalization histogram of this view in BL to have identical with the normalization histogram of corresponding original view equal
Value and change.
Corresponding decoder 1600 shown in Figure 16 also performs RA-1Operation, but it is only used for reconstructing complete point of the widest cascade
The purpose of resolution view, because BL is assumed only to be decoded by AVD and export.Decoder 1600 includes low frequency channel decoder D0
1602, it can produce the decoded video signal for basic unitDecoded signal is supplied to inverse range regulation mould
Block RA-11604, this signal is sampled device 1606 resampling and by wave filter g01608 filtering are to produce low-frequency reconfiguration
Signal1610.For high-frequency path, decoder D11612 pairs of these signals are decoded, and then described signal is sampled device
1614 resamplings and by wave filter g '11616 filter.Information infoiWave filter 1616 can be provided to.Wave filter
The output of 1616 produces the signal of reconstruct1617.The low frequency reconstructed and high-frequency signal be combined device 1618 combine with create weight
The video signal of structure1620.The video signal reconstructed1620 are supplied to buffer 1612 to be conciliate by other encoder
Code device uses.Buffered signal can be provided to reference picture processing module 1624, and this signal is fed back to high-frequency solution
Code device D1In.
Can consider based on perception and/or compiling efficiency and weigh the particular options determining RA module.From compiling efficiency
Viewpoint is seen, it is often desirable to utilize by the whole out-put dynamic range of bit-depth defined.Because for each picture or piecemeal
For the input dynamic range of RA be typically different, so the parameter maximizing out-put dynamic range will between picture not
With.Although this is not likely to be problem from the point of view of compiling viewpoint, but it may cause when BL is decoded and directly watches
Problem, because RA before by viewing-1Operation may not be performed, consequently, it is possible to cause the change of brightness and contrast.This with
More generally HVC is contrary, and wherein individually channel is internal and is not intended to be watched.It is associated with RA process with making up
The interchangeable solution of loss of information be to use to use the lifting side bringing desired dynamic range to baseband layer
The integer mapping of the subband compiling of case.
If supporting every picture or piecemeal RA through the BL of AVC coding-1Adaptive range conversion (such as by SEI message
Transmitting-receiving), then RA and RA-1Operation can be chosen to optimize perceived quality and compiling efficiency.To BL and/or about input
In the case of the information of dynamic range lacks such decoder processes, a probability is to select fixing RA to retain certain
Desired visual characteristic.Such as, if analysis filter h0The 1504 DC gains with α ≠ 0, then RA is in module 1508
Rationally option is arranged to gain=1/ α and offsets=0.
Although it should be noted that not shown in Figure 15 and 16, but EL can also experiencing similar RA and RA-1Behaviour
Make.But, EL bit-depth is usually above the bit-depth required for BL.Furthermore, it is possible to by the h in Figure 15 and 16iAnd gi
Perform the cascade analysis of the widest picture, synthesis and reference picture filtering so that near view border, there is no the mixing of view
(with SVC filtering and comparison).This can such as be realized in symmetrical polishing and the continuation of boundary by given view, and at other
Used at image edge is similar.
In view of above, the HVC video compiling discussed provides provides many excellent from traditional pixel-domain video compiling
Point and the framework of motility.The application of HVC Compilation Method can be used to compile, to 3DTV, the migration path providing scalable.With
Other scalable method of such as SVC with MVC is compared, and its performance apparently provides some and promises to undertake gain.It is to relatively low point
Resolution 3DTV BL uses existing AVC technology, and allows additional instrument for improving EL and the volume of full resolution view
Translate efficiency.
Turning to Figure 17, said apparatus performs the method 1700 encoding input video stream.Divide at described video
Receive 1702 input video streams at the head end of the system of sending out, and at least one feature set based on this input video stream is incompatible by defeated
Enter video flowing and divide 1704 one-tenth a series of piecemeals.Characteristic set can be any kind of feature of video flowing, including video flowing
Content, context, quality and compiling function feature.Furthermore, it is possible to it is defeated to split this according to each channel of video flowing
Enter video flowing so that divide each channel individually according to same or different characteristic set.After dividing, input video
The piecemeal of stream is processed and analyzes to decompose 1706 piecemeals for volume by such as the sampling of piecemeal and such operation of sampling
Code.Then piecemeal through decomposing is encoded 1708 to produce encoded bit stream.As a part for cataloged procedure, compiling letter
Breath can be provided to encoder.Compiling information can include input information and the base of other channel from input video stream
Compiling information in the video flowing of reconstruct.Compiling information can also include that the information about controlling and the quality about video flowing are believed
Breath and the information about characteristic set.In an embodiment, encoded bit stream is reconstructed 1710 one-tenth and can be buffered and deposit
The video flowing of the reconstruct of storage 1712.The video flowing reconstructed can by feedback 1714 in encoder and be used as compiling information,
And it is provided 1716 to the encoder of other channel for input video stream.As understood from describe from above,
Reconstructing video stream and using the video flowing reconstructed as the process that compiling information provides can include analyze and synthesize warp
The bit stream of coding and the process of the video flowing of reconstruct.
Figure 18 is the diagram decoding method as the encoded bit stream of the result formation of the method shown in Figure 17
The flow chart of 1800.Decoded bit stream is received by the subscri er unit 150a-n of the part as video distribution system.Make
1804 these bit streams are decoded with by the compiling information received by decoder.Decoded information can be received as this bit stream
A part, or it can store by decoder.Furthermore, it is possible to receive compiling information from the different channels for video flowing.
Then decoded bit stream is synthesized 1806 for a series of piecemeals, described piecemeal be then combined 1808 with create corresponding to
The video flowing of the reconstruct of the input video stream that Figure 17 describes in combination.
Another realization make use of input video to resolve into can effectively to be represented and with the perception of this video more preferable
The feature joined.Although optimal decomposition is likely to be dependent on the characteristic of video, but this contribution concentrates on for including typical case
The decomposition of extensive various contents of natural video frequency.Figure 19 illustrates by analyzing the decomposition in filtering x to two layer of input.?
In this example, x is separated into different spatial frequency band by filtering.Although input x can be corresponding to a part for picture or correspondence
In whole picture, but the focus in this contribution is on whole picture.For typical video, as with high frequency layer l1Compare
Relatively, can be at low frequency layer l0The major part of cascade energy.Similarly, l0Tend to capturing local strength's feature and l1Capture is such as
The change details at edge.
Each layer of liThen E can be usediCoding is to produce bit stream bi.For spatial scalability, analysis process can be wrapped
Include filtering to be followed by sub sampling and make b0Can be corresponding to suitable base layer bitstream.As strengthening bit stream, it is possible to use come
Freely by from E0To E1The basic unit l indicated by arrow0Information generate b1。E0And E1Combination be referred to as the most scalable
Encoder Es.
Scalable decoder DsCan be by base layer decoder D0With enhancement layer decoder D1Constitute.Base layer bitstream b0Can
With by D0Decoding is with reconstruction of layer l '0.Enhancement layer bit-stream b1D can be passed through1Together with from b0Possible information decode together with
Reconstruction of layer l '1.Two decoded layer d '0And d '1Then synthetic operation can be used to reconstruct x '.
In order to illustrate the embodiment for spatial scalability proposed, use critical in two bands decompose with picture level
Sampling.Both horizontally and vertically both carry out sub sampling by the factor two, thus cause four layers of scalable system.To encoder Ei
HM 2.0 is used to perform simulation with decoder Di.Although compiling effect can be improved by using the dependency between layer
Rate, but these simulations do not utilize any inter-layer prediction.
The performance of the realization proposed and monolayer and radio hookup situation contrast simultaneously.In the case of monolayer, directly use HM
2.0 coding x.At the same time in the case of radio hookup, by directly encoding the bit of x by being used for and be used for directly encoding l0Bit
It is added together to deterministic bit rate, and PSNR is the PSNR corresponding with the direct coding of x.In the realization proposed, bit
Rate is corresponding to the bit for all layers, and PSNR is the PSNR for x '.
Effectively represent: by utilizing the layer of threshold sampling, encoder Ei in this example to input x same population purpose
Pixel operates.This is contrary with SVC, wherein spatial scalability is existed to the increase of the total number of pixel to be encoded,
And memory requirement also increases.
Universal space scalability: this realization can expand to other spatial scalable sex factor, such as, 1:n.Because layer
Can be of the same size, so also column information (such as pixel, CU/PU/TU, motion vector, pattern compiler between layers
Deng) in can there is simple correspondence.This is contrary with SVC, and the size (with possible shape) in its middle level differs, and
The correspondence in also column information between Ceng is not likely to be clear and definite.
Acutance strengthens: this realization can be used to realize acutance in this article and strengthen, because additional layer is supplied to spy
The more details levied, such as edge.Such acutance strengthens and only improves quality by the change in the amount of quantization
The realization of other quality scalable is contrary.
The independent compilation of layer: the analog result instruction for spatial scalability can with the independent compilation of execution level the most still
So maintain good compiling efficiency performance.This makes the parallel processing of layer be possibly realized, and its middle level can simultaneously be processed.Right
In utilizing the two-layer spatial scalable implementations of SVC, the independent compilation (without inter-layer prediction) of layer would correspond to broadcast situation simultaneously.
Noting in the case of the independent compilation of layer, the mistake in a layer does not interferes with other layer.Additionally, different encoder Ei is permissible
It is used to each liCarry out encoding the characteristic with layer more preferably to mate.
The dependent compilation of layer: in realization disclosed herein, the dependent compilation of layer can improve compiling efficiency.When layer has
When having identical size, and column information between layers shared is simple.Ground can also be relied on or independently layer is carried out
Encode adaptively with balance compiling efficiency performance and Error Resiliency performance.
In the foregoing specification, it has been described that only certain embodiments of the present invention.But, those of ordinary skill in the art
Understand, in the case of without departing substantially from the scope of the present invention illustrated the most in the claims, various modifications may be made with
Change.Therefore, description and figure should be considered to be illustrative rather than restrictive meaning, and all equal purports of such amendment
It is being included within the scope of the disclosure.Benefit, advantage, to the solution of problem and so that any benefit, advantage
Solution occur or become the most significant any element and will be not construed as the pass of any or all of claim
Key, necessary or necessary feature or element.The present invention is defined solely by the appended claims, during being included in the pending trial of the application
Any amendment made and all equivalents of those claim as issued.