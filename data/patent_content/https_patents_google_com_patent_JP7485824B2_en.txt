JP7485824B2 - Method, computer device, and computer readable memory for verifying a user's current location or orientation using landmarks - Patents.com - Google Patents
Method, computer device, and computer readable memory for verifying a user's current location or orientation using landmarks - Patents.com Download PDFInfo
- Publication number
- JP7485824B2 JP7485824B2 JP2023068766A JP2023068766A JP7485824B2 JP 7485824 B2 JP7485824 B2 JP 7485824B2 JP 2023068766 A JP2023068766 A JP 2023068766A JP 2023068766 A JP2023068766 A JP 2023068766A JP 7485824 B2 JP7485824 B2 JP 7485824B2
- Authority
- JP
- Japan
- Prior art keywords
- user
- landmark
- location
- landmarks
- orientation
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Active
Links
- 238000000034 method Methods 0.000 title claims description 33
- 230000000007 visual effect Effects 0.000 claims description 118
- 230000004044 response Effects 0.000 claims description 10
- 230000002457 bidirectional effect Effects 0.000 description 100
- 230000002452 interceptive effect Effects 0.000 description 54
- 239000013598 vector Substances 0.000 description 24
- 238000012795 verification Methods 0.000 description 9
- 238000010586 diagram Methods 0.000 description 5
- 238000012545 processing Methods 0.000 description 5
- 238000004891 communication Methods 0.000 description 4
- 239000007787 solid Substances 0.000 description 3
- 241000208140 Acer Species 0.000 description 2
- 230000003190 augmentative effect Effects 0.000 description 2
- 230000002085 persistent effect Effects 0.000 description 2
- 230000010267 cellular communication Effects 0.000 description 1
- 238000013500 data storage Methods 0.000 description 1
- 238000001514 detection method Methods 0.000 description 1
- 230000006870 function Effects 0.000 description 1
- 238000010348 incorporation Methods 0.000 description 1
- 238000012986 modification Methods 0.000 description 1
- 230000004048 modification Effects 0.000 description 1
- 230000008569 process Effects 0.000 description 1
- 238000009877 rendering Methods 0.000 description 1
- 230000002207 retinal effect Effects 0.000 description 1
- 239000000725 suspension Substances 0.000 description 1
- 238000012360 testing method Methods 0.000 description 1
- 230000032258 transport Effects 0.000 description 1
Description
本開示は、ナビゲーション指示に関し、特に、ユーザを道案内するためにランドマークを使用することに関する。 This disclosure relates to navigation instructions, and in particular to using landmarks to guide a user.
本明細書で提供される背景技術の説明は、本開示の状況を概略的に提示することを目的とするものである。この背景技術のセクションにおいて説明される限りにおいて、現時点で明記されている本発明者らの取り組み、ならびに出願時に別段に従来技術と見なされないことがある説明の態様は、明示的にも黙示的にも、本開示に対する従来技術として認められない。 The description of the background art provided herein is intended to provide a general overview of the context of the present disclosure. To the extent described in this Background Art section, the inventors' work as currently set forth, as well as aspects of the description that may not otherwise be considered prior art at the time of filing, are not admitted, expressly or impliedly, as prior art to the present disclosure.
地理的場所の間で運転者のルートを自動的に決めるシステムは一般に、ルートに基づいてナビゲーション指示を生成するために、距離、通りの名前、建物の番号のインジケーションを利用する。たとえば、これらのシステムは、「4分の1マイル進んだら、メープルストリートを右折してください」などの命令を運転者に提供することができる。しかしながら、運転者が距離を正確に判断することは困難であり、運転者が通りの看板を見ることは必ずしも容易なことではない。さらに、通りおよび道路の標識が乏しい地理的エリアが存在する。 Systems that automatically route drivers between geographic locations typically use indications of distances, street names, and building numbers to generate navigation instructions based on the route. For example, these systems may provide drivers with instructions such as, "In a quarter mile, turn right onto Maple Street." However, it can be difficult for drivers to accurately judge distances, and it is not always easy for drivers to see street signs. Additionally, there are geographic areas where street and road signs are poorly marked.
別の人が運転者に言う場合がある事柄により類似したガイダンスを運転者に提供するために、視覚的に際立った建物または広告板などの、ルートに沿った目立つ物体に関して、ナビゲーション指示を強化することが可能である。これらの目立つ物体は、「視覚ランドマーク」と呼ばれることがある。したがって、システムは、「4分の1マイル先で右側にMcDonald's(登録商標)レストランが見えたら、次にメープルストリートを右折してください」などのナビゲーション指示を生成することができる。このために、オペレータは、システムがナビゲーション指示を生成するときに適切な視覚ランドマークを自動的に選択することができるように、視覚ランドマークの場所の説明およびインジケーション(たとえば、通りの住所、座標)を入力することができる。 Navigation instructions can be enhanced with respect to prominent objects along the route, such as visually prominent buildings or billboards, to provide the driver with guidance more similar to what another person might say to the driver. These prominent objects are sometimes called "visual landmarks." Thus, the system can generate navigation instructions such as "When you see a McDonald's® restaurant on your right in a quarter mile, turn right onto Maple Street." To this end, the operator can enter a description and indication of the location of the visual landmark (e.g., street address, coordinates) so that the system can automatically select the appropriate visual landmark when generating the navigation instructions.
しかしながら、すべてのランドマークが常に目に見えるわけではない。たとえば、いくつかの広告板は、夜間には明るい照明が当てられている場合があるが、昼間にはほとんど目立たない場合がある。一方、建物の入り組んだ正面は、昼間には気付きやすい場合があるが、夜間には十分に照明が当てられておらず、したがって、目立たない場合がある。 However, not all landmarks are visible all the time. For example, some billboards may be brightly lit at night but barely noticeable during the day. On the other hand, the intricate facade of a building may be easy to notice during the day but may be poorly lit and therefore less noticeable at night.
さらに、ナビゲーションの開始時に、ユーザが静止しており、まだ移動の方向がないとき、ナビゲーションシステムは一般に、「ステートストリートを北に進んでください」などの絶対的な方向を提供する。ユーザは、必ずしも自分の方位を知っているとは限らないので、絶対的な方向を使用するのが困難であると感じる可能性がある。しかしながら、クライアントデバイスが静止している間に、クライアントデバイスがその動作または向きを判定することは困難である。 Furthermore, at the beginning of navigation, when the user is stationary and does not yet have a direction of travel, navigation systems typically provide absolute directions, such as "go north on State Street." Users may find absolute directions difficult to use because they do not necessarily know their bearing. However, it is difficult for a client device to determine its movement or orientation while the client device is stationary.
さらに、ナビゲーションシステムは通常、いくつかの全地球測位サービス(GPS)衛星から信号を受信するGPSモジュールなどの測位センサを用いて、ユーザの場所を判定する。しかしながら、GPSから判定された場所は通常、高い建物、橋、トンネルなどを有するエリアでは特に、あまり正確ではない。 Furthermore, navigation systems typically use a positioning sensor, such as a Global Positioning Service (GPS) module that receives signals from several GPS satellites, to determine the user's location. However, the location determined from a GPS is typically not very accurate, especially in areas with tall buildings, bridges, tunnels, etc.
たとえば、ユーザのクライアントデバイスが静止しているときに、ユーザの正確な場所および方位を判定するために、双方向ランドマーク位置特定システムは、ユーザのクライアントデバイスの現在の場所を取得し、ユーザの現在の場所および/またはユーザの推定される方位から目に見えるランドマークを識別する。次いで、双方向ランドマーク位置特定システムは、識別されたランドマークをユーザのクライアントデバイスに送り、識別されたランドマークがユーザの視野内にあることを確認することをユーザに要求する。識別されたランドマークがユーザの視野内にない場合、双方向ランドマーク位置特定システムは、他のランドマークをユーザのクライアントデバイスに送り得る。たとえば、双方向ランドマーク位置特定システムは、ユーザが北を向いていると推定し得、ユーザの現在の場所の北にあるランドマークを識別し得る。ユーザがこれらのランドマークを見ていない場合、双方向ランドマーク位置特定システムは、ユーザが南を向いていると推定し得、ユーザの現在の場所の南にあるランドマークを識別し得る。 For example, to determine a user's precise location and orientation when the user's client device is stationary, the bidirectional landmark location system obtains the current location of the user's client device and identifies landmarks visible from the user's current location and/or the user's estimated orientation. The bidirectional landmark location system then sends the identified landmarks to the user's client device and requests the user to confirm that the identified landmarks are within the user's field of view. If the identified landmarks are not within the user's field of view, the bidirectional landmark location system may send other landmarks to the user's client device. For example, the bidirectional landmark location system may presume that the user is facing north and may identify landmarks that are north of the user's current location. If the user is not looking at these landmarks, the bidirectional landmark location system may presume that the user is facing south and may identify landmarks that are south of the user's current location.
いくつかの実装形態では、識別されたランドマークがユーザの視野内にないとき、クライアントデバイスは、拡張現実(AR)モードに切り替え、カメラビューを提示し、カメラビューに含まれる実世界画像を双方向ランドマーク位置特定システムに提供し得る。次いで、双方向ランドマーク位置特定システムは、たとえば、ユーザの正確な場所および方位を判定するために物体検出を使用して、カメラビューに含まれるランドマークを識別し得る。ユーザの正確な場所は、GPSなどの測位デバイスに従って判定された場所よりも高い精度で判定された場所であり得る。より具体的には、双方向ランドマーク位置特定システムは、ランドマークの場所、方位、大きさなどをランドマークデータベースから取り出し得る。ユーザの正確な場所および方位は、カメラビューに含まれる識別されたランドマークの場所、方位、大きさなどに基づき得る。たとえば、カメラビュー内のWalgreens(登録商標)の看板が南を向いており、カメラビューのビューポイントがWalgreens(登録商標)の看板と正反対である場合、双方向ランドマーク位置特定システムは、ユーザが北を向いていると判定し得る。別の例では、ユーザのクライアントデバイスからランドマークまでの距離は、カメラビューのスケールに基づいて判定され得る。カメラビューが高レベルでズームインしており、Burger King(登録商標)の看板がカメラビュー内にある場合、双方向ランドマーク位置特定システムは、ユーザがBurger King(登録商標)の看板の近くにいると判定し得る。一方、カメラビューがズームアウトしており、Burger King(登録商標)の看板がカメラビューの背景にある場合、双方向ランドマーク位置特定システムは、ユーザがBurger King(登録商標)の看板から遠く離れていると判定し得る。次いで、双方向ランドマーク位置特定システムは、Burger King(登録商標)の看板の場所およびBurger King(登録商標)の看板からのユーザの推定される距離に基づいてユーザの正確な場所を判定し得る。双方向ランドマーク位置特定システムは、カメラビュー内のBurger King(登録商標)の看板の位置および/または方位に基づいてユーザの方位を判定し得る。 In some implementations, when an identified landmark is not within the user's field of view, the client device may switch to an augmented reality (AR) mode, present a camera view, and provide a real-world image included in the camera view to the interactive landmark locating system. The interactive landmark locating system may then identify landmarks included in the camera view, for example, using object detection to determine the user's precise location and orientation. The user's precise location may be a location determined with greater accuracy than a location determined according to a positioning device such as a GPS. More specifically, the interactive landmark locating system may retrieve the location, orientation, size, etc. of the landmark from a landmark database. The user's precise location and orientation may be based on the location, orientation, size, etc. of the identified landmark included in the camera view. For example, if a Walgreens® sign in the camera view faces south and the viewpoint of the camera view is directly opposite the Walgreens® sign, the interactive landmark locating system may determine that the user is facing north. In another example, the distance from the user's client device to the landmark may be determined based on the scale of the camera view. If the camera view is zoomed in at a high level and the Burger King® sign is in the camera view, the bidirectional landmark locating system may determine that the user is near the Burger King® sign. On the other hand, if the camera view is zoomed out and the Burger King® sign is in the background of the camera view, the bidirectional landmark locating system may determine that the user is far away from the Burger King® sign. The bidirectional landmark locating system may then determine the user's exact location based on the location of the Burger King® sign and the user's estimated distance from the Burger King® sign. The bidirectional landmark locating system may determine the user's orientation based on the position and/or orientation of the Burger King® sign in the camera view.
いずれにしても、双方向ランドマーク位置特定システムはまた、ランドマークを使用して2人以上のユーザを送迎場所などの待ち合わせ場所にナビゲートし得る。いくつかの事例では、双方向ランドマーク位置特定システムは、共有ランドマークを使用してユーザを待ち合わせ場所に道案内し得る。たとえば、第1のユーザが目的地までの乗車を要求し、第2のユーザが要求を受け入れて第1のユーザを目的地まで輸送するとき、双方向ランドマーク位置特定システムは、第1のユーザの視野内の特定のランドマークに基づいて第1のユーザを送迎場所に道案内し得る。より具体的には、双方向ランドマーク位置特定システムは、特定のランドマークに向かって歩き、次いで、第2のユーザが到着するのを待っている間に特定のランドマークの下に立っているように第1のユーザを道案内し得る。双方向ランドマーク位置特定システムはまた、特定のランドマークに向かって進むように(たとえば、最終ナビゲーション命令において)第2のユーザを道案内し得、第1のユーザが特定のランドマークの下に立っていることを示し得る。 In any case, the interactive landmark locating system may also use the landmarks to navigate two or more users to a meeting location, such as a pick-up location. In some cases, the interactive landmark locating system may use the shared landmarks to guide the users to the meeting location. For example, when a first user requests a ride to a destination and a second user accepts the request and transports the first user to the destination, the interactive landmark locating system may guide the first user to the pick-up location based on a particular landmark in the first user's field of view. More specifically, the interactive landmark locating system may guide the first user to walk toward a particular landmark and then stand under the particular landmark while waiting for the second user to arrive. The interactive landmark locating system may also guide the second user (e.g., in the final navigation instructions) to proceed toward the particular landmark and indicate that the first user is standing under the particular landmark.
これらの技法の例示的な実施形態は、1つまたは複数のプロセッサによって実行される、2人以上のユーザを待ち合わせ場所にナビゲートするための方法である。方法は、第1のユーザの第1の場所および第2のユーザの第2の場所を含む待ち合わせ場所で第1のユーザが第2のユーザと待ち合わせることを求める要求を受信するステップであって、第1の場所および第2の場所が地理的エリア内にある、ステップを含む。方法は、データベースから、地理的エリア内の物理的物体に対応する複数の視覚ランドマークを取り出すステップと、複数の視覚ランドマークから、第1のユーザおよび第2のユーザを地理的エリア内の待ち合わせ場所に道案内するための共有視覚ランドマークを選択するステップであって、共有視覚ランドマークが、第1の場所と第2の場所の両方からの可視性に基づいて選択される、ステップとをさらに含む。加えて、方法は、第1のユーザおよび第2のユーザに、共有視覚ランドマークを参照する待ち合わせ場所までの道順を提供するステップを含む。 An exemplary embodiment of these techniques is a method for navigating two or more users to a meeting location, executed by one or more processors. The method includes receiving a request for a first user to meet a second user at a meeting location including a first location of the first user and a second location of the second user, where the first location and the second location are within a geographic area. The method further includes retrieving from a database a plurality of visual landmarks corresponding to physical objects within the geographic area, and selecting from the plurality of visual landmarks a shared visual landmark for guiding the first user and the second user to the meeting location within the geographic area, where the shared visual landmark is selected based on visibility from both the first location and the second location. Additionally, the method includes providing the first user and the second user with directions to the meeting location that reference the shared visual landmark.
これらの技法の別の例示的な実施形態は、2人以上のユーザを待ち合わせ場所にナビゲートするためのサーバデバイスである。サーバデバイスは、1つまたは複数のプロセッサと、1つまたは複数のプロセッサに結合され、命令を記憶した非一時的コンピュータ可読メモリとを含む。1つまたは複数のプロセッサによって実行されると、命令は、サーバデバイスに、第1のユーザの第1の場所および第2のユーザの第2の場所を含む待ち合わせ場所で第1のユーザが第2のユーザと待ち合わせることを求める要求を受信することであって、第1の場所および第2の場所が地理的エリア内にある、受信することを行わせる。命令はさらに、サーバデバイスに、データベースから、地理的エリア内の物理的物体に対応する複数の視覚ランドマークを取り出すことと、複数の視覚ランドマークから、第1のユーザおよび第2のユーザを地理的エリア内の待ち合わせ場所に道案内するための共有視覚ランドマークを選択することであって、共有視覚ランドマークが、第1の場所と第2の場所の両方からの可視性に基づいて選択される、選択することとを行わせる。さらに、命令は、サーバデバイスに、第1のユーザおよび第2のユーザに、共有視覚ランドマークを参照する待ち合わせ場所までの道順を提供することを行わせる。 Another exemplary embodiment of these techniques is a server device for navigating two or more users to a meeting location. The server device includes one or more processors and a non-transitory computer-readable memory coupled to the one or more processors and having instructions stored thereon. When executed by the one or more processors, the instructions cause the server device to receive a request for a first user to meet a second user at a meeting location including a first location of the first user and a second location of the second user, where the first location and the second location are within a geographic area. The instructions further cause the server device to retrieve from a database a plurality of visual landmarks corresponding to physical objects in the geographic area, and select from the plurality of visual landmarks a shared visual landmark for navigating the first user and the second user to the meeting location in the geographic area, where the shared visual landmark is selected based on visibility from both the first location and the second location. The instructions further cause the server device to provide the first user and the second user with directions to the meeting location that reference the shared visual landmark.
これらの技法のさらに別の例示的な実施形態は、1つまたは複数のプロセッサによって実行される、ランドマークを使用してユーザの現在の場所または方位を検証するための方法である。方法は、クライアントデバイスから、クライアントデバイスのユーザの場所および方位の情報を受信するステップと、データベースから、場所情報に対応する、地理的エリア内の物理的物体に対応する複数の視覚ランドマークを取り出すステップと、ユーザの場所および方位の情報に基づいてユーザの視野内の複数の視覚ランドマークのうちの1つまたは複数を選択するステップと、クライアントデバイスに、1つまたは複数の視覚ランドマークのインジケーション、および1つまたは複数の視覚ランドマークがユーザの視野内にあることを確認するという要求を提供するステップとを含む。1つまたは複数の視覚ランドマークがユーザの視野内にないというインジケーションをクライアントデバイスから受信したことに応答して、方法は、視覚ランドマークを含む、クライアントデバイスの視野からの実世界画像を受信するステップと、実世界画像に基づいてユーザの場所および方位を判定するステップとを含む。 Yet another exemplary embodiment of these techniques is a method for verifying a user's current location or orientation using landmarks, executed by one or more processors. The method includes receiving, from a client device, location and orientation information of a user of the client device; retrieving from a database a plurality of visual landmarks corresponding to physical objects in a geographic area corresponding to the location information; selecting one or more of the plurality of visual landmarks in the user's field of view based on the user's location and orientation information; and providing to the client device an indication of the one or more visual landmarks and a request to confirm that the one or more visual landmarks are in the user's field of view. In response to receiving an indication from the client device that the one or more visual landmarks are not in the user's field of view, the method includes receiving a real world image from the client device's field of view including the visual landmarks; and determining the user's location and orientation based on the real world image.
概要
開示される主題の態様は改善されたナビゲーションシステムを提供し、それによって、複数のユーザは、1つまたは複数の判定された相互視覚ランドマークに基づいて特定の場所に道案内される。すなわち、ユーザごとのナビゲーションが決定論的な方法でユーザの目に見える実世界の物体および互いのユーザに依存する、ナビゲーションが提供される。
Aspects of the disclosed subject matter provide an improved navigation system whereby multiple users are navigated to a particular location based on one or more determined mutual visual landmarks, i.e., navigation is provided where per-user navigation depends in a deterministic manner on real-world objects visible to the users and on each other users.
加えて、開示される主題の態様は、実世界の物体に基づいてユーザの場所または方位を判定する、改善された方法を提供する。たとえば、1つまたは複数の視覚ランドマークがユーザの視野内にないという応答がクライアントデバイスから受信された場合、ユーザの場所および方位を決定論的な方法で判定するために、クライアントデバイスの視野からの実世界画像の形態の決定論的データが取得され得る。 Additionally, aspects of the disclosed subject matter provide an improved method of determining a user's location or orientation based on real-world objects. For example, if a response is received from a client device that one or more visual landmarks are not within the user's field of view, deterministic data in the form of real-world images from the client device's field of view may be obtained to determine the user's location and orientation in a deterministic manner.
例示的なハードウェア構成要素およびソフトウェア構成要素
図1は、双方向視覚ランドマークを提供するための技法のうちの少なくともいくつかが実装され得る環境10を示す。環境10は、通信ネットワーク16を介して相互接続されたクライアントデバイス12およびサーバデバイス14を含む。ネットワーク16は、インターネットなどのパブリックネットワーク、またはイントラネットなどのプライベートネットワークであってもよい。サーバデバイス14は、様々なデータベース、およびナビゲーションサーバ、地図データサーバ、相乗りサーバ、ライブ交通サーバ、気象サーバなどの他のサーバデバイスと通信することができる。
Exemplary Hardware and Software Components Figure 1 illustrates an environment 10 in which at least some of the techniques for providing interactive visual landmarks may be implemented. The environment 10 includes a client device 12 and a server device 14 interconnected via a communications network 16. The network 16 may be a public network, such as the Internet, or a private network, such as an intranet. The server device 14 may communicate with various databases and other server devices, such as a navigation server, a map data server, a ride-sharing server, a live traffic server, a weather server, etc.
サーバデバイス14は、視覚ランドマークと、ランドマークの場所および高さ、ランドマークが向いている方位、ランドマークの大きさ、ランドマークの外観、ランドマークの名前、様々な条件でおよび/または様々な時刻などにランドマークがそこから目に見える場所のセットを示すランドマークの可視域などの視覚ランドマークごとの地理的情報とを記憶するデータベース52に通信可能に結合され得る。視覚ランドマークと、視覚ランドマークごとの地理的情報とは、本明細書で「人間視覚ジオコード(human visual geocodes)」と呼ばれることがある。これは、図2を参照しながら以下でより詳細に説明される。サーバデバイス14はまた、地図データベース50および様々な地理的エリアの実世界画像を記憶する実世界画像データベース54に通信可能に結合され得る。 The server device 14 may be communicatively coupled to a database 52 that stores visual landmarks and geographic information for each visual landmark, such as the location and height of the landmark, the orientation in which the landmark is facing, the size of the landmark, the appearance of the landmark, the name of the landmark, the visibility zone of the landmark indicating a set of locations from which the landmark is visible in various conditions and/or at various times, etc. The visual landmarks and the geographic information for each visual landmark may be referred to herein as "human visual geocodes," which are described in more detail below with reference to FIG. 2. The server device 14 may also be communicatively coupled to a map database 50 and a real-world image database 54 that stores real-world images of various geographic areas.
クライアントデバイス12は、スマートフォンなどのポータブル電子デバイス、スマートウォッチもしくはヘッドマウントディスプレイなどのウェアラブルデバイス、またはタブレットコンピュータを含むことができる。クライアントデバイス12は、たとえば、相乗り環境において運転者クライアントデバイスおよび乗り手クライアントデバイスを含み得る。別の例では、クライアントデバイス12は、特定の待ち合わせ場所で待ち合わせようと試みるユーザのクライアントデバイスを含み得る。いずれにしても、クライアントデバイス12は、1つもしくは複数の中央処理ユニット(CPU)、グラフィックスコンテンツを効果的にレンダリングするための1つもしくは複数のグラフィックス処理ユニット(GPU)、特定用途向け集積回路(ASIC)、または任意の他の適切なタイプの処理ハードウェアを含むことができる処理モジュール22を含み得る。さらに、クライアントデバイス12は、永続的(たとえば、ハードディスク、フラッシュドライブ)構成要素および/または非永続的(たとえば、RAM)構成要素で構成されるメモリ24を含むことができる。図1に示された例示的な実装形態では、メモリ24は、地理的アプリケーション26および/または相乗りアプリケーション27を実装する命令を記憶する。 The client device 12 may include a portable electronic device such as a smartphone, a wearable device such as a smart watch or a head-mounted display, or a tablet computer. The client device 12 may include, for example, a driver client device and a rider client device in a ride-sharing environment. In another example, the client device 12 may include a client device of a user attempting to meet at a particular meeting point. In any case, the client device 12 may include a processing module 22 that may include one or more central processing units (CPUs), one or more graphics processing units (GPUs) for efficiently rendering graphics content, an application specific integrated circuit (ASIC), or any other suitable type of processing hardware. In addition, the client device 12 may include a memory 24 that may be comprised of persistent (e.g., hard disk, flash drive) and/or non-persistent (e.g., RAM) components. In the exemplary implementation shown in FIG. 1, the memory 24 stores instructions implementing a geographic application 26 and/or a ride-sharing application 27.
さらに、クライアントデバイス12は、カメラ(図示せず)、ユーザインターフェース28、およびネットワークインターフェース30を含む。いずれの場合も、ユーザインターフェース28は、タッチスクリーン、マイクロフォン、キーボードなどの1つまたは複数の入力構成要素、ならびにスクリーンまたはスピーカなどの1つまたは複数の出力構成要素を含むことができる。 In addition, the client device 12 includes a camera (not shown), a user interface 28, and a network interface 30. In either case, the user interface 28 may include one or more input components, such as a touch screen, a microphone, a keyboard, and one or more output components, such as a screen or a speaker.
ネットワークインターフェース30は、短距離通信および/または長距離通信をサポートすることができる。たとえば、ネットワークインターフェース30は、セルラー通信、IEEE802.11(たとえば、Wi-Fi)または802.15(Bluetooth)などのパーソナルエリアネットワークプロトコルをサポートすることができる。いくつかの実装形態では、クライアントデバイス12は、クライアントデバイス12内の複数のデバイスを相互接続し、クライアントデバイス12をネットワーク16に接続するための複数のネットワークインターフェースモジュールを含む。 The network interface 30 may support short-range and/or long-range communications. For example, the network interface 30 may support cellular communications, personal area network protocols such as IEEE 802.11 (e.g., Wi-Fi) or 802.15 (Bluetooth). In some implementations, the client device 12 includes multiple network interface modules for interconnecting multiple devices within the client device 12 and connecting the client device 12 to the network 16.
さらに、ネットワークインターフェース30は、いくつかの場合、ジオ測位をサポートすることができる。たとえば、ネットワークインターフェース30は、Wi-Fi三辺測量をサポートすることができる。他の場合、クライアントデバイス12は、GPSモジュールなどの専用測位モジュール32を含むことができる。クライアントデバイス12はまた、加速度計、ジャイロスコープ、コンパスなどの磁力計などの他のセンサを含むことができる。 Furthermore, the network interface 30 may support geo-positioning in some cases. For example, the network interface 30 may support Wi-Fi trilateration. In other cases, the client device 12 may include a dedicated positioning module 32, such as a GPS module. The client device 12 may also include other sensors, such as an accelerometer, a gyroscope, a magnetometer, such as a compass, etc.
引き続き図1を参照すると、クライアントデバイス12は、インターネットなどのワイドエリアネットワークであり得るネットワーク16を介してサーバデバイス14と通信することができる。サーバデバイス14は、複数の地理的場所にわたって分散されたデバイスを含むもう1つのサーバデバイスにおいて実装され得る。サーバデバイス14は、ナビゲーション命令生成器42、および双方向ランドマーク選択モジュール44を実装することができる。構成要素42～44は、ハードウェア、ファームウェア、およびソフトウェアの任意の適切な組合せを使用して実装され得る。サーバデバイスは、地図データベース50、視覚ランドマークデータベース52、および実世界画像データベース54などのデータベースにアクセスすることができ、これらのデータベースは、任意の適切なデータストレージおよびアクセス技法を使用して実装され得る。 With continued reference to FIG. 1, the client device 12 may communicate with the server device 14 over a network 16, which may be a wide area network such as the Internet. The server device 14 may be implemented in another server device, including devices distributed across multiple geographic locations. The server device 14 may implement a navigation instruction generator 42 and an interactive landmark selection module 44. The components 42-44 may be implemented using any suitable combination of hardware, firmware, and software. The server device may access databases, such as a map database 50, a visual landmark database 52, and a real-world image database 54, which may be implemented using any suitable data storage and access techniques.
動作時に、双方向ランドマーク選択モジュール44は、地図データまたはナビゲーション指示を求める要求をクライアントデバイス12から受信することができる。要求は、ユーザの現在の場所および/または推定される方位を含むことができる。双方向ランドマーク選択モジュール44は、現在の場所のしきい値距離内にあり、ユーザの現在の場所および/または推定される方位から見ることができる視覚ランドマークを視覚ランドマークデータベース52から取り出し得る。より具体的には、双方向ランドマーク選択モジュール44は、視覚ランドマークが現在の場所のしきい値距離内にあり、ユーザの現在の場所および/または推定される方位から見ることができることを示す地理的情報を有する視覚ランドマークを識別し得る。いずれにしても、双方向ランドマーク選択モジュール44は、識別された視覚ランドマークがユーザの視野内にあることをユーザが確認することを求める要求またはユーザが識別された視覚ランドマークを向いているまでユーザが方向転換することを求める要求とともに、識別された視覚ランドマークのインジケーションをクライアントデバイス12に提供し得る。たとえば、双方向ランドマーク選択モジュール44は、ユーザインターフェース28を介してクライアントデバイス12上に表示された、ユーザが真正面にMcDonald's(登録商標)の看板を見ることができることをユーザが確認することを求める要求を提供し得る。 In operation, the bidirectional landmark selection module 44 may receive a request for map data or navigation instructions from the client device 12. The request may include the user's current location and/or estimated orientation. The bidirectional landmark selection module 44 may retrieve visual landmarks from the visual landmark database 52 that are within a threshold distance of the current location and are visible from the user's current location and/or estimated orientation. More specifically, the bidirectional landmark selection module 44 may identify visual landmarks that have geographic information indicating that the visual landmarks are within a threshold distance of the current location and are visible from the user's current location and/or estimated orientation. In either case, the bidirectional landmark selection module 44 may provide an indication of the identified visual landmark to the client device 12 along with a request for the user to confirm that the identified visual landmark is within the user's field of view or a request for the user to turn until the user is facing the identified visual landmark. For example, the bidirectional landmark selection module 44 may provide a request for the user to confirm that the user can see the McDonald's® sign directly ahead, displayed on the client device 12 via the user interface 28.
たとえば、ユーザインターフェース28上で提示されたユーザ制御を介して、識別された視覚ランドマークがユーザの視野内にあることまたはユーザが方向転換して識別された視覚ランドマークを向いていることをユーザが確認した場合、双方向ランドマーク選択モジュール44は、ユーザの現在の場所および方位を検証し、ユーザの現在の場所および方位に基づいてユーザの正確な場所および方位を判定する。たとえば、McDonald's(登録商標)の看板がユーザの現在の場所の北にある場合、双方向ランドマーク選択モジュール44は、ユーザが北を向いていると判定する。ユーザの正確な場所は、GPSなどの測位デバイスに従って判定された場所よりも高い精度で判定された場所であり得る。次いで、サーバデバイス14は、地図データ、ナビゲーションデータ、相乗りデータなどをクライアントデバイス12に提供するために、ユーザの正確な場所および方位を使用し得る。たとえば、ユーザが目的地場所までのナビゲーション指示を要求した場合、ナビゲーション命令生成器42は、ユーザの現在の場所から目的地までのルートを生成するために、地図データベース50から道路ジオメトリデータ、道路および交差点の制約(たとえば、一方通行、左折禁止)、道路タイプデータ(たとえば、幹線道路、地方道路)、制限速度データなどを取り出すことができる。道路データに加えて、地図データベース50は、川、山、および森などの様々な自然の地理的特徴、ならびに人工の地理的特徴、そのような建物および公園についてのジオメトリおよび場所のインジケーションの説明を記憶することができる。地図データは、他のデータの中でも、ベクターグラフィックスデータ、ラスタ画像データ、およびテキストデータを含むことができる。例示的な実装形態では、地図データベース50は地図データを地図タイルに編成し、地図タイルは一般に、八分木などの横断可能なデータ構造への地理空間データの2次元または3次元構成に対応する。 For example, if the user confirms, via user controls presented on the user interface 28, that the identified visual landmark is within the user's field of view or that the user has turned and is facing the identified visual landmark, the interactive landmark selection module 44 validates the user's current location and orientation and determines the user's precise location and orientation based on the user's current location and orientation. For example, if a McDonald's® sign is north of the user's current location, the interactive landmark selection module 44 determines that the user is facing north. The user's precise location may be a location determined with greater accuracy than a location determined according to a positioning device such as a GPS. The server device 14 may then use the user's precise location and orientation to provide map data, navigation data, ride-sharing data, and the like to the client device 12. For example, if a user requests navigation directions to a destination location, the navigation instruction generator 42 can retrieve road geometry data, road and intersection constraints (e.g., one-way, no left turns), road type data (e.g., highway, local road), speed limit data, and the like, from the map database 50 to generate a route from the user's current location to the destination. In addition to road data, the map database 50 can store descriptions of geometry and location indications for various natural geographic features, such as rivers, mountains, and forests, as well as man-made geographic features, such as buildings and parks. The map data can include vector graphics data, raster image data, and text data, among other data. In an exemplary implementation, the map database 50 organizes the map data into map tiles, which generally correspond to two- or three-dimensional configurations of geospatial data into traversable data structures, such as octrees.
いずれにしても、ナビゲーション命令生成器42は、ナビゲーション命令のシーケンスを生成するために1つまたは複数のルートを使用することができる。ナビゲーション命令の例は、「500フィート先で、エルムストリートを右折してください」および「4マイル直進してください」を含む。ナビゲーション命令生成器42は、これらの句および類似の句をユーザの言語で構築するために自然言語生成技法を実装することができる。初期ナビゲーション命令の場合、「ステートストリートを北に進んでください」などの絶対的な方向を提供する代わりに、ナビゲーション命令生成器42は、双方向ランドマーク選択モジュール44によって判定されたユーザの正確な場所および方位に基づいてユーザを道案内することができる。たとえば、ナビゲーション命令生成器42は、ユーザが北を向いているので、「ステートストリートを直進してください」という初期ナビゲーション命令を生成し得る。初期命令がユーザが南に向かうことを必要とする場合、ナビゲーション命令生成器42は、「McDonald's(登録商標)の看板のところでUターンして、ステートストリートを直進してください」という初期ナビゲーション命令を生成し得る。 In any event, the navigation instruction generator 42 may use one or more routes to generate a sequence of navigation instructions. Examples of navigation instructions include "In 500 feet, turn right on Elm Street" and "Continue straight for 4 miles." The navigation instruction generator 42 may implement natural language generation techniques to construct these and similar phrases in the user's language. For initial navigation instructions, instead of providing absolute directions such as "Continue north on State Street," the navigation instruction generator 42 may guide the user based on the user's exact location and orientation as determined by the interactive landmark selection module 44. For example, the navigation instruction generator 42 may generate an initial navigation instruction of "Continue straight on State Street" because the user is facing north. If the initial instruction requires the user to head south, the navigation instruction generator 42 may generate an initial navigation instruction of "Make a U-turn at the McDonald's® sign and continue straight on State Street."
サーバデバイス14はまた、待ち合わせ場所に関する情報を別のユーザに提供するために、ユーザの正確な場所および方位を使用し得る。たとえば、2人のユーザは、ユーザによって、ユーザのクライアントデバイス12によって、サーバデバイス14によって、または別のサーバデバイスによって決定された待ち合わせ場所での待ち合わせを予定に入れることがある。第1のユーザは待ち合わせ場所に到着していることがあるか、または、GPSモジュール32またはクライアントデバイス12内の他のセンサに従って第1のユーザのクライアントデバイス12が静止していることによって示されるように、しきい値時間(たとえば、30秒)を超えて待ち合わせ場所のしきい値距離(たとえば、100m)内の場所で移動するのをやめていることがある。次いで、サーバデバイス14は、第1のユーザの視野内のランドマークのインジケーションを提供することおよび/または第1のユーザの前の実世界画像のカメラビューを受信することによって、第1のユーザの正確な場所および方位を判定し得る。次いで、サーバデバイス14は、第1のユーザに提供されたまたは第1のユーザのクライアントデバイス12のカメラビューにおいて識別された同じランドマークを第2のユーザを提供し得る。このようにして、第2のユーザは、第2のユーザが第1のユーザを見つけることができるように、第1のユーザの場所から目に見えるおよび/または第1のユーザの場所に最も近いランドマークを見ることができる。 The server device 14 may also use the user's precise location and orientation to provide information about a meeting location to another user. For example, two users may schedule a meeting at a meeting location determined by the user, by the user's client device 12, by the server device 14, or by another server device. The first user may have arrived at the meeting location or may have stopped moving at a location within a threshold distance (e.g., 100 m) of the meeting location for more than a threshold time (e.g., 30 seconds) as indicated by the first user's client device 12 being stationary according to the GPS module 32 or other sensors in the client device 12. The server device 14 may then determine the first user's precise location and orientation by providing an indication of landmarks within the first user's field of view and/or receiving a camera view of a real-world image in front of the first user. The server device 14 may then provide the second user with the same landmarks provided to the first user or identified in the camera view of the first user's client device 12. In this way, the second user can see the landmarks that are visible from the first user's location and/or closest to the first user's location so that the second user can find the first user.
ユーザが識別された視覚ランドマークを自分の視野内で見ておらず、たとえば、ユーザインターフェース28上で提示されたユーザ制御を介して、ユーザが識別された視覚ランドマークを見ていないというインジケーションを提供した場合、双方向ランドマーク選択モジュール44は、クライアントデバイス12の前で実世界画像のカメラビューを提示する拡張現実(AR)モードに切り替えるようにクライアントデバイス12に要求する。双方向ランドマーク選択モジュール44は、実世界画像を受信し、物体認識を使用して実世界画像内のランドマークを識別する。より具体的には、双方向ランドマーク選択モジュール44は、いくつかのテンプレートランドマークをデータベースから取得し得る。テンプレートランドマークは、看板、または他の目立つ物理的物体を含み得る。双方向ランドマーク選択モジュール44は、ぼやけ、モーション、ひずみ、方位、照明、スケーリング、および/またはカメラの視点での他の変更にかかわらず検出可能であるテンプレートランドマーク内の安定領域を検出することによって、テンプレートランドマークの各々の視覚特徴を識別し得る。安定領域は、スケール不変特徴変換(SIFT)、スピードアップロバスト特徴(SURF)、高速網膜キーポイント(FREAK)、バイナリロバスト不変スケーラブルキーポイント(BRISK)、または任意の他の適切なコンピュータビジョン技法を使用してテンプレートランドマークから抽出され得る。いくつかの実装形態では、キーポイントは、テンプレートランドマーク内の縁部などのテンプレートランドマークの高コントラスト領域に位置し得る。バウンディングボックスはキーポイントの周りに形成され得、バウンディングボックスによって作成されたテンプレートランドマークの部分は特徴であり得る。 If the user does not see the identified visual landmark within his or her field of view and, for example, provides an indication via a user control presented on the user interface 28 that the user does not see the identified visual landmark, the interactive landmark selection module 44 requests the client device 12 to switch to an augmented reality (AR) mode that presents a camera view of a real-world image in front of the client device 12. The interactive landmark selection module 44 receives the real-world image and identifies landmarks in the real-world image using object recognition. More specifically, the interactive landmark selection module 44 may retrieve a number of template landmarks from a database. The template landmarks may include signs, or other prominent physical objects. The interactive landmark selection module 44 may identify visual features of each of the template landmarks by detecting stable regions within the template landmarks that are detectable despite blur, motion, distortion, orientation, lighting, scaling, and/or other changes in the camera's viewpoint. Stable regions may be extracted from template landmarks using Scale Invariant Feature Transform (SIFT), Speed Up Robust Features (SURF), Fast Retinal Keypoints (FREAK), Binary Robust Invariant Scalable Keypoints (BRISK), or any other suitable computer vision technique. In some implementations, keypoints may be located in high contrast regions of the template landmarks, such as edges within the template landmarks. Bounding boxes may be formed around the keypoints, and the portions of the template landmarks created by the bounding boxes may be features.
双方向ランドマーク選択モジュール44は、テンプレート特徴ベクトルを生成するために、特徴の幅および高さ、特徴のRGBピクセル値、物体内の特徴の中心点のピクセル位置などの特徴の数値表現を作成し得る。また、双方向ランドマーク選択モジュール44は、特徴ベクトルを生成するために、クライアントデバイス12のカメラからのカメラビューの視覚特徴またはカメラビューの部分(本明細書で「物体」とも呼ばれる)を識別し得る。次いで、双方向ランドマーク選択モジュール44は、クライアントデバイス12のカメラからのカメラビューの特徴ベクトルに最も近いテンプレート特徴ベクトルを有する1つまたは複数のテンプレート物体を識別するために、カメラビューの特徴ベクトルまたはカメラビュー内の物体の特徴ベクトルをテンプレート特徴ベクトルと比較し得る。たとえば、双方向ランドマーク選択モジュール44は、カメラビューの特徴ベクトルに最も近いテンプレート特徴ベクトルを有する上位3つのテンプレート物体を識別し得る。1つまたは複数の識別されたテンプレート物体の大部分がWalgreens(登録商標)の看板である場合、双方向ランドマーク選択モジュール44は、カメラビュー内の物体をWalgreens(登録商標)の看板として識別し得る。 The bidirectional landmark selection module 44 may create numerical representations of features, such as the width and height of the feature, the RGB pixel values of the feature, and the pixel location of the center point of the feature within the object, to generate a template feature vector. The bidirectional landmark selection module 44 may also identify visual features of the camera view or portions of the camera view (also referred to herein as "objects") from the camera of the client device 12 to generate a feature vector. The bidirectional landmark selection module 44 may then compare the feature vectors of the camera view or feature vectors of the objects in the camera view to the template feature vectors to identify one or more template objects having a template feature vector that is closest to the feature vector of the camera view from the camera of the client device 12. For example, the bidirectional landmark selection module 44 may identify the top three template objects having the template feature vectors that are closest to the feature vector of the camera view. If the majority of the one or more identified template objects are Walgreens® signs, the bidirectional landmark selection module 44 may identify the object in the camera view as a Walgreens® sign.
いずれにしても、双方向ランドマーク選択モジュール44は、識別された各ランドマークの場所、方位、大きさなどを判定するために、カメラビュー内の識別されたランドマークの人間視覚ジオコードまたは地理的情報をたとえば、視覚ランドマークデータベース52から取り出し得る。識別されたランドマークがWalgreens(登録商標)の看板などの2つ以上の場所を有するとき、双方向ランドマーク選択モジュール44は、ユーザのおおよその現在の場所に最も近い場所の地理的情報を取り出す。他の実装形態では、2つ以上のランドマークがカメラビュー内で識別されるとき、双方向ランドマーク選択モジュール44は、識別されたランドマークの各々を含む地理的エリアに基づいて、識別されたランドマークごとに場所を判定する。いずれにしても、双方向ランドマーク選択モジュール44は、カメラビュー内の識別されたランドマークの場所および方位に基づいてユーザの現在の場所および方位を判定する。たとえば、Walgreens(登録商標)の看板がメインストリートとステートストリートの角にあって東を向いており、カメラビューがWalgreens(登録商標)の看板に直面しているとき、双方向ランドマーク選択モジュール44は、ユーザが西を向いており、メインストリートとステートストリートの角の東にいると判定する。さらに、双方向ランドマーク選択モジュール44は、カメラビュー内の識別された各ランドマークの大きさに基づいてユーザの現在の場所を判定し得る。たとえば、カメラビュー内でWalgreens(登録商標)の看板が大きく見えるほど、ユーザはWalgreens(登録商標)の看板に近くなる。 In any case, the bidirectional landmark selection module 44 may retrieve human visual geocodes or geographic information of the identified landmarks in the camera view, for example from the visual landmark database 52, to determine the location, orientation, size, etc. of each identified landmark. When an identified landmark has more than one location, such as a Walgreens® sign, the bidirectional landmark selection module 44 retrieves the geographic information of the location closest to the user's approximate current location. In another implementation, when more than one landmark is identified in the camera view, the bidirectional landmark selection module 44 determines a location for each identified landmark based on a geographic area that includes each of the identified landmarks. In any case, the bidirectional landmark selection module 44 determines the user's current location and orientation based on the location and orientation of the identified landmarks in the camera view. For example, when a Walgreens® sign is at the corner of Main Street and State Street, facing east, and the camera view is facing the Walgreens® sign, the bidirectional landmark selection module 44 determines that the user is facing west and is east of the corner of Main Street and State Street. Additionally, the interactive landmark selection module 44 may determine the user's current location based on the size of each identified landmark in the camera view. For example, the larger a Walgreens® sign appears in the camera view, the closer the user is to the Walgreens® sign.
別の例示的なシナリオでは、双方向ランドマーク選択モジュール44は、2人以上のユーザをそれぞれのクライアントデバイス12を介して待ち合わせ場所にナビゲートするための要求を受信する。次いで、双方向ランドマーク選択モジュール44は、ユーザが待ち合わせ場所に近づいている方位および場所に基づいて、ユーザの各々を待ち合わせ場所に道案内するためのランドマークを識別することができる。いくつかの実装形態では、双方向ランドマーク選択モジュール44は、同じランドマークを使用して、ユーザの各々を待ち合わせ場所に道案内するための共有ランドマークを識別し得る。他の実装形態では、双方向ランドマーク選択モジュール44は、ユーザが待ち合わせ場所に近づいている場所および方向に従って、最も各ユーザの目に入るランドマークに基づいて、ユーザの各々を待ち合わせ場所に道案内するための異なるランドマークを識別し得る。 In another example scenario, the bidirectional landmark selection module 44 receives a request to navigate two or more users to a meeting location via their respective client devices 12. The bidirectional landmark selection module 44 can then identify landmarks for guiding each of the users to the meeting location based on the bearing and location in which the users are approaching the meeting location. In some implementations, the bidirectional landmark selection module 44 may identify shared landmarks for guiding each of the users to the meeting location using the same landmark. In other implementations, the bidirectional landmark selection module 44 may identify different landmarks for guiding each of the users to the meeting location based on the landmark most visible to each user according to the location and direction in which the users are approaching the meeting location.
たとえば、相乗り環境では、乗り手は、自分の乗り手クライアントデバイス12内の相乗りアプリケーション27を介して目的地場所への輸送サービスを要求し得る。運転者は、自分の運転者クライアントデバイス12内の相乗りアプリケーション27を介して要求を受信し、受け入れ得、サーバデバイス14または別のサーバは、乗り手を拾うための送迎場所を識別し得る。次いで、双方向ランドマーク選択モジュール44は、送迎場所と、運転者および乗り手の現在の場所とを取得し得る。たとえば、運転者および乗り手の現在の場所は、上記で説明された技法を使用して判定され得る。いくつかの実装形態では、ナビゲーション命令生成器42は、運転者および乗り手のための送迎場所までのルートを生成し得、双方向ランドマーク選択モジュール44は、それぞれのルートの最終操作が実施される場所を取得し得る。たとえば、ナビゲーション命令生成器42は、運転者を送迎場所に道案内するための命令のセットを生成し得、ここで、最終命令は、ステートストリートを北に向かった後にステートストリートからメインストリートに左折し、直進して送迎場所に到着することである。この例では、双方向ランドマーク選択モジュール44は、運転者の場所としてステートストリートとメインストリートの交差点、および運転者がステートストリートを北に向かってメインストリートに左折した後に向く方向として運転者の方位を取得し得る。このようにして、双方向ランドマーク選択モジュール44は、運転者の場所および方位から目に見える送迎場所のしきい値距離内のランドマークを識別する。次いで、双方向ランドマーク選択モジュール44は、識別されたランドマークをナビゲーション命令のセットに組み込むために、識別されたランドマークをナビゲーション命令生成器42に提供し得る。たとえば、ステートストリートからメインストリートに左折するように運転者を道案内した後、ナビゲーション命令生成器42は、Walgreens(登録商標)の看板に向かって移動するための追加のナビゲーション命令を生成し得、乗り手はWalgreens(登録商標)の看板の下に立っている。識別されたランドマークは、ユーザの各々を道案内するための共有ランドマークであり得、ナビゲーション命令生成器42は、乗り手がWalgreens(登録商標)の看板に向かって移動し、Walgreens(登録商標)の看板の下に立っているための追加のナビゲーション命令を生成し得る。 For example, in a ride-sharing environment, a rider may request transportation services to a destination location via a ride-sharing application 27 in his/her rider client device 12. The driver may receive and accept the request via the ride-sharing application 27 in his/her driver client device 12, and the server device 14 or another server may identify a pickup location for picking up the rider. The interactive landmark selection module 44 may then obtain the pickup location and the current locations of the driver and rider. For example, the current locations of the driver and rider may be determined using the techniques described above. In some implementations, the navigation instruction generator 42 may generate a route to the pickup location for the driver and rider, and the interactive landmark selection module 44 may obtain a location where the final operation of the respective route is performed. For example, the navigation instruction generator 42 may generate a set of instructions for guiding the driver to the pickup location, where the final instruction is to turn left from State Street onto Main Street after heading north on State Street, and continue straight to arrive at the pickup location. In this example, the bidirectional landmark selection module 44 may obtain the intersection of State Street and Main Street as the driver's location, and the driver's orientation as the direction the driver will face after turning left on Main Street heading north on State Street. In this manner, the bidirectional landmark selection module 44 may identify landmarks within a threshold distance of the pick-up and drop-off location that are visible from the driver's location and orientation. The bidirectional landmark selection module 44 may then provide the identified landmarks to the navigation instruction generator 42 for incorporation into a set of navigation instructions. For example, after guiding the driver to turn left from State Street onto Main Street, the navigation instruction generator 42 may generate additional navigation instructions for moving toward the Walgreens® sign and the rider standing under the Walgreens® sign. The identified landmarks may be shared landmarks for guiding each of the users, and the navigation instruction generator 42 may generate additional navigation instructions for the rider to move toward the Walgreens® sign and standing under the Walgreens® sign.
視覚ランドマークデータベース52は、運転している(または自転車に乗っている、歩いている、もしくは別のやり方でナビゲーションルートに沿って移動している)ときに目に見えるものであり、したがって視覚ランドマークとして働くことができる、目立つ地理的エンティティに関する情報を記憶することができる。たとえば、視覚ランドマークデータベース52は、PGEパーク70、ゴールデンゲートブリッジ72、デンバーのWalgreens(登録商標)74、および任意の他の適切な視覚ランドマークの地理的情報などの人間視覚ジオコードを記憶することができる。 The visual landmark database 52 may store information about prominent geographic entities that are visible while driving (or biking, walking, or otherwise moving along a navigation route) and thus may serve as visual landmarks. For example, the visual landmark database 52 may store human visual geocodes such as geographic information for PGE Park 70, the Golden Gate Bridge 72, Walgreens® in Denver 74, and any other suitable visual landmarks.
視覚ランドマークごとに、視覚ランドマークデータベース52は、1つまたはいくつかの写真、2次元または3次元の地理的座標、テキスト記述、ランドマークの高さ、ランドマークが向いている方位、ランドマークの大きさ、ランドマークの外観、ランドマークの名前、様々な条件でおよび/または様々な時刻などにランドマークがそこから目に見える場所のセットを示すランドマークの可視域を記憶することができる。可視域は、時刻、気象条件、季節などに従って異なり得る。したがって、視覚ランドマークデータベース52は、異なる時刻、季節、気象条件、照明条件、交通条件などに対するランドマークのいくつかの可視域を記憶することができる。 For each visual landmark, the visual landmark database 52 may store one or several photographs, two-dimensional or three-dimensional geographic coordinates, a text description, the height of the landmark, the orientation in which the landmark is facing, the size of the landmark, the appearance of the landmark, the name of the landmark, a visibility zone of the landmark indicating a set of locations from which the landmark is visible in various conditions and/or at various times of day, etc. The visibility zone may differ according to time of day, weather conditions, season, etc. Thus, the visual landmark database 52 may store several visibility zones of a landmark for different times of day, seasons, weather conditions, lighting conditions, traffic conditions, etc.
視覚ランドマークデータベース52をポピュレートするために、サーバデバイス14は、衛星画像、様々なユーザによってサブミットされた写真およびビデオ、専用パノラマカメラを装備した車によって収集された路上の画像、歩行者および自転車運転者によって収集された通りおよび歩道の画像などを受信することができる。同様に、視覚ランドマークデータベース52は、サーバデバイス14のオペレータおよびユーザ生成コンテンツをサブミットする人などの様々なソースからランドマークの説明を受信することができる。 To populate visual landmark database 52, server device 14 may receive satellite imagery, photographs and videos submitted by various users, roadway images collected by cars equipped with dedicated panoramic cameras, street and sidewalk images collected by pedestrians and cyclists, etc. Similarly, visual landmark database 52 may receive descriptions of landmarks from various sources, such as operators of server device 14 and those submitting user-generated content.
視覚ランドマークデータベース52に含まれるランドマークごとに人間視覚ジオコードまたは地理的情報の例示的なインデックスを含むデータテーブル200が図2に示されている。ランドマークごとに、データテーブル200は、ランドマーク識別子202と、2次元または3次元の地理的座標およびランドマークの高さを含むランドマークの場所204と、ランドマークが向いている方位206と、ランドマークの大きさまたは寸法208と、ランドマークの外観のテキスト記述210と、ランドマークの名前212と、様々な条件でおよび/または様々な時刻などにランドマークがそこから目に見える場所のセットを示すランドマークの可視域214とを含む。データテーブル200はまた、ランドマークの写真を含み得る。 2. A data table 200 including an exemplary index of human visual geocodes or geographic information for each landmark included in visual landmark database 52 is shown in FIG. 2. For each landmark, data table 200 includes a landmark identifier 202, a landmark location 204 including two or three dimensional geographic coordinates and the landmark's height, a heading 206 in which the landmark is facing, a size or dimension 208 of the landmark, a textual description 210 of the landmark's appearance, a name 212 of the landmark, and a visibility zone 214 of the landmark indicating a set of locations from which the landmark is visible in various conditions and/or at various times of day, etc. Data table 200 may also include a photograph of the landmark.
たとえば、データテーブル200の第1のエントリは、Walgreens(登録商標)の看板の地理的情報を含む。データテーブル200によれば、Walgreens(登録商標)の看板は、5mの高さに位置し、東を向いている。Walgreens(登録商標)の看板は、幅4mおよび長さ2mで、赤色の背景に白色の筆記体を含む。Walgreens(登録商標)の看板の可視域は、昼間にWalgreens(登録商標)の看板がそこから目に見える場所の第1のセットと、夜間にWalgreens(登録商標)の看板がそこから目に見える場所の第2のセットとを含み得る。Walgreens(登録商標)の看板は東を向いているので、可視域は、Walgreens(登録商標)の看板の東の位置を含み得る。加えて、より大きい看板または地面より上の高いところに置かれている看板は、より小さい看板または地面のより近くに置かれている看板よりも遠い距離から目に見えることがある。レストラン、店、および他の企業の看板に加えて、ランドマークは、ロッキー山脈などの自然のランドマーク、ゴールデンゲートブリッジなどの橋を含むインフラストラクチャ、建物、競技場、劇場、コンサートホールなどを含み得る。看板は特定の方向を向いていることがあるので、その方向から目に見え得るが、ゴールデンゲートブリッジなどの他のランドマークはあらゆる方向から目に見える。 For example, a first entry in data table 200 includes geographic information for a Walgreens® sign. According to data table 200, the Walgreens® sign is located at a height of 5 m and faces east. The Walgreens® sign is 4 m wide and 2 m long and includes white cursive writing on a red background. The viewshed of the Walgreens® sign may include a first set of locations from which the Walgreens® sign is visible during the day and a second set of locations from which the Walgreens® sign is visible at night. Since the Walgreens® sign faces east, the viewshed may include an eastern location of the Walgreens® sign. In addition, larger signs or signs placed higher above the ground may be visible from a greater distance than smaller signs or signs placed closer to the ground. In addition to signs for restaurants, stores, and other businesses, landmarks may include natural landmarks such as the Rocky Mountains, infrastructure including bridges such as the Golden Gate Bridge, buildings, stadiums, theaters, concert halls, and the like. A sign may face a particular direction and therefore be visible from that direction, whereas other landmarks, such as the Golden Gate Bridge, are visible from all directions.
特定のランドマーク304(たとえば、PGEパーク)の例示的な可視域302が図3の地図表示300に示されている。可視域302は、ランドマーク304がそこから目に見える空間内のポイントのセットを含む。網掛け領域は、ランドマーク304の少なくとも一部分がそこから目に見えるポイントを表す。可視域302は、ランドマーク304に最も近い通りおよび他の横断可能な小道に沿ったテストポイントに基づいて判定され得る。示されているように、可視域302は、ランドマーク304がランドマーク304に最も近い他の建物などの他の物体によって遮蔽されている結果として、複雑な形状を有する。この例では、ランドマークはあらゆる方向から目に見えるが、ランドマーク304は、ランドマーク304の北西の場所、南の場所、南西の場所の場合、ランドマークの北、東、または西の場所よりもさらに遠くから目に見える。ランドマークごとに、視覚ランドマークデータベース52は、図3に示された、ランドマークがそこから目に見える場所のセットを含む例示的な可視域302に類似した可視域のインジケーションを記憶し得る。 An exemplary viewshed 302 for a particular landmark 304 (e.g., PGE Park) is shown in the map display 300 of FIG. 3. The viewshed 302 includes a set of points in space from which the landmark 304 is visible. The shaded areas represent points from which at least a portion of the landmark 304 is visible. The viewshed 302 may be determined based on test points along the streets and other traversable paths closest to the landmark 304. As shown, the viewshed 302 has a complex shape as a result of the landmark 304 being occluded by other objects, such as other buildings, closest to the landmark 304. In this example, the landmark is visible from all directions, but the landmark 304 is visible from further away in locations northwest, south, and southwest of the landmark 304 than in locations north, east, or west of the landmark. For each landmark, the visual landmark database 52 may store an indication of the viewshed similar to the exemplary viewshed 302 shown in FIG. 3, which includes a set of locations from which the landmark is visible.
ランドマーク304の可視域は、たとえば、ランドマークが位置する地理的エリアに関連付けられた3次元モデルにアクセスすることによって判定され得る。モデルは、ランドマークの3次元表現を含むことができる。一実装形態では、3次元モデルは、ランドマークに関連付けられた複数のメッシュトライアングルを含む地理的エリアの立体メッシュモデルであり得る。モデルはまた、仮想地球アプリケーションにおいて提供される合成モデルなどの地理的エリア内の地理的特徴または他のランドマークの合成モデルを含むことができるか、またはその合成モデルにアクセスすることができる。モデルはまた、3次元モデル内の表面にマッピングされたテクスチャを含むことができる。テクスチャは、地理的エリアに関連付けられた写真または他の画像を含むことができ、木(葉ありまたは葉なし)橋の構脚、および地理的エリア内のランドマークの可視性を妨げる可能性がある他の構造などの地理的物体を描写することができる。 The visibility of the landmark 304 may be determined, for example, by accessing a three-dimensional model associated with the geographic area in which the landmark is located. The model may include a three-dimensional representation of the landmark. In one implementation, the three-dimensional model may be a solid mesh model of the geographic area including a plurality of mesh triangles associated with the landmark. The model may also include or access synthetic models of geographic features or other landmarks in the geographic area, such as synthetic models provided in a virtual globe application. The model may also include textures mapped to surfaces in the three-dimensional model. The textures may include photographs or other images associated with the geographic area and may depict geographic objects such as trees (with or without leaves), bridge struts, and other structures that may obstruct visibility of the landmark in the geographic area.
ランドマーク304の3次元表現の可視性は、3次元モデル内の3次元空間における複数の異なる地理的ポイントから評価され得る。たとえば、地理的ポイントごとに、ランドマーク304の3次元表現が地理的ポイントから目に見えるかどうかが判定され得る。目に見える場合、地理的ポイントは、ランドマーク304の可視域302に含まれる。 The visibility of the three-dimensional representation of the landmark 304 may be evaluated from multiple different geographic points in three-dimensional space within the three-dimensional model. For example, for each geographic point, it may be determined whether the three-dimensional representation of the landmark 304 is visible from the geographic point. If visible, the geographic point is included in the visibility zone 302 of the landmark 304.
一実装形態では、地理的ポイントは、ランドマーク304の3次元表現が事前定義されたしきい値を超えるほど地理的ポイントから目に見える場合にのみ、可視域302に含まれ得る。しきい値は、ランドマーク304の可視性に関連付けられた任意の適切なメトリックに基づき得る。たとえば、しきい値は、ランドマーク304の事前定義された表面積を超えるほどのものが地理的ポイントから目に見える場合に地理的ポイントが可視域302に含まれ得るように、ランドマーク304の目に見える表面積に基づき得る。別の例として、しきい値は、ステラジアン単位の事前定義された立体角を超えるほどのものが地理的ポイントから目に見える場合に地理的ポイントが可視域302に含まれるように、地理的ポイントからのランドマーク304の所与のビューの特徴が対応するステラジアン単位の立体角に基づき得る。 In one implementation, a geographic point may be included in the visibility zone 302 only if a three-dimensional representation of the landmark 304 is visible from the geographic point beyond a predefined threshold. The threshold may be based on any suitable metric associated with the visibility of the landmark 304. For example, the threshold may be based on a visible surface area of the landmark 304, such that the geographic point may be included in the visibility zone 302 if more than a predefined surface area of the landmark 304 is visible from the geographic point. As another example, the threshold may be based on a solid angle in steradians to which a feature of a given view of the landmark 304 from the geographic point corresponds, such that the geographic point may be included in the visibility zone 302 if more than a predefined solid angle in steradians is visible from the geographic point.
サーバデバイス14は、ユーザの特定の場所および方位からのランドマークごとの可視性スコアまたはランキングを判定するために、ランドマークの写真、ランドマークの2次元または3次元の地理的座標、ランドマークのテキスト記述、ランドマークの高さ、ランドマークが向いている方位、ランドマークの大きさ、ランドマークの外観、ランドマークの名前、ならびに様々な条件でのおよび/または様々な時刻におけるランドマークの可視域を含む、ランドマークごとの地理的情報を使用し得る。次いで、サーバデバイス14は、ユーザを目的地または待ち合わせ場所に道案内するために、最も高い可視性スコアまたはランキングを有するランドマークを選択し得る。たとえば、サーバデバイス14は、ユーザの現在の場所を含まない可視域を有するランドマークよりも、ユーザの現在の場所を含む可視域を有するランドマークに、より高い可視性スコアを割り当て得る。さらに、サーバデバイス14は、ユーザが現在向いている方向から見ることができないランドマークよりも、ユーザが現在向いている方向から見ることができるランドマークに、より高い可視性スコアを割り当て得る。 The server device 14 may use the geographic information for each landmark, including a photo of the landmark, the two-dimensional or three-dimensional geographic coordinates of the landmark, a textual description of the landmark, the height of the landmark, the orientation in which the landmark is facing, the size of the landmark, the appearance of the landmark, the name of the landmark, and the visibility range of the landmark in various conditions and/or at various times, to determine a visibility score or ranking for each landmark from the user's particular location and orientation. The server device 14 may then select the landmark with the highest visibility score or ranking to guide the user to the destination or meeting point. For example, the server device 14 may assign a higher visibility score to a landmark that has a visibility range that includes the user's current location than a landmark that has a visibility range that does not include the user's current location. Additionally, the server device 14 may assign a higher visibility score to a landmark that is visible from the direction in which the user is currently facing than a landmark that is not visible from the direction in which the user is currently facing.
上記で説明されたように、サーバデバイス14は、複数のユーザを待ち合わせ場所にナビゲートするための要求をクライアントデバイス12から受信し得る。いくつかの実装形態では、サーバデバイス14は、待ち合わせ場所および各ユーザの現在の場所を受信し得る。他の実装形態では、サーバデバイス14は、待ち合わせ場所を、ユーザのうちの一方のしきい値距離内の場所または各ユーザの現在の場所の間の場所として判定し得る。たとえば、乗り手が相乗りアプリケーション26を介して目的地場所への輸送サービスを要求し、運転者が要求を受け入れるとき、サーバデバイス14または相乗りサーバなどの別のサーバは、乗り手の現在の場所のしきい値距離内にある送迎場所を識別し得る。別の例では、2人のユーザは待ち合わせることを要求し得、サーバデバイス14は、2人のユーザの現在の場所からほぼ等距離である待ち合わせ場所を識別し得る。 As described above, server device 14 may receive a request from client device 12 to navigate multiple users to a meeting location. In some implementations, server device 14 may receive the meeting location and the current location of each user. In other implementations, server device 14 may determine the meeting location as a location within a threshold distance of one of the users or between the current locations of each user. For example, when a rider requests transportation services to a destination location via ridepool application 26 and the driver accepts the request, server device 14 or another server, such as a ridepool server, may identify a pick-up/drop-off location within a threshold distance of the rider's current location. In another example, two users may request to meet, and server device 14 may identify a meeting location that is approximately equidistant from the current locations of the two users.
いずれにしても、サーバデバイス14は、ナビゲーション命令生成器42を介して、待ち合わせ場所までのユーザごとのルートを生成し得る。いくつかの実装形態では、サーバデバイス14は、ルートごとの最終操作または最終操作の前の操作を識別し、最終操作または最終操作の前の操作を完了した後にユーザの場所および方位を判定し得る。他の実装形態では、ユーザの現在の場所が待ち合わせ場所からしきい値距離(たとえば、100m)未満離れているとき、サーバデバイス14は待ち合わせ場所までのルートを生成しない。その代わりに、サーバデバイス14は、ユーザを待ち合わせ場所に道案内するために使用され得る、ユーザの現在の場所から目に見えるランドマークを識別する。 In any case, server device 14, via navigation instruction generator 42, may generate a route for each user to the meeting location. In some implementations, server device 14 may identify the last or pre-last operation for each route and determine the user's location and orientation after completing the last or pre-last operation. In other implementations, when the user's current location is less than a threshold distance (e.g., 100 m) away from the meeting location, server device 14 does not generate a route to the meeting location. Instead, server device 14 identifies landmarks visible from the user's current location that can be used to guide the user to the meeting location.
次いで、ユーザの判定された場所および方位を使用して、サーバデバイス14は、双方向ランドマーク選択モジュール44を介して、ユーザの判定された場所および方位から目に見えるならびに/または待ち合わせ場所を含む地理的エリア内にある候補ランドマークを視覚ランドマークデータベース52から識別し得る。双方向ランドマーク選択モジュール44は、視覚ランドマークデータベース52に含まれる各ランドマークの可視域、方位、位置、高さ、寸法などを使用して候補ランドマークを識別し得る。次いで、双方向ランドマーク選択モジュール44は、たとえば、待ち合わせ場所への近接度(proximity to the meeting location)を含む候補ランドマークの場所、時刻、気象条件、季節などに対応する可視域に基づいた可視性、ランドマークの大きさ、ユーザの方位およびランドマークの方位によればランドマークがユーザに直面しているかどうかなどを含むいくつかのメトリックに基づいて、候補ランドマークに可視性スコアまたはランキングを割り当て得る。双方向ランドマーク選択モジュール44は、待ち合わせ場所への近接度スコア、可視域スコア、ランドマークの大きさスコア、ランドマークの方位スコア、ランドマークの高さスコアなどのメトリックごとに個々のスコアを割り当て、ユーザの判定された場所および方位に基づいて候補ランドマークの可視性スコアを生成するために任意の適切な方法で個々のスコアを集約するかまたは組み合わせ得る。いくつかの実装形態では、双方向ランドマーク選択モジュール44は、最も高いスコアリングまたはランキングの候補ランドマークをランドマークとして選択し得る。次いで、サーバデバイス14は、選択されたランドマークを介してユーザを待ち合わせ場所に道案内するナビゲーション命令をユーザのクライアントデバイス12に提供し得る。また、いくつかの実装形態では、ランドマークが待ち合わせ場所のごく近傍内(たとえば、10mのしきい値距離内)にあるとき、サーバデバイス14は待ち合わせ場所をランドマークの場所に移動し得る。 Using the user's determined location and orientation, the server device 14, via the bidirectional landmark selection module 44, may then identify candidate landmarks from the visual landmark database 52 that are visible from the user's determined location and orientation and/or are within a geographic area that includes the meeting location. The bidirectional landmark selection module 44 may identify the candidate landmarks using the viewshed, orientation, position, height, dimensions, etc. of each landmark included in the visual landmark database 52. The bidirectional landmark selection module 44 may then assign visibility scores or rankings to the candidate landmarks based on a number of metrics including, for example, the location of the candidate landmark including its proximity to the meeting location, visibility based on a viewshed corresponding to the time of day, weather conditions, season, etc., the size of the landmark, whether the landmark is facing the user according to the user's orientation and the landmark's orientation, etc. The bidirectional landmark selection module 44 may assign individual scores for each metric, such as a proximity score to the meeting location, a viewshed score, a landmark size score, a landmark orientation score, a landmark height score, etc., and may aggregate or combine the individual scores in any suitable manner to generate a visibility score for the candidate landmark based on the user's determined location and orientation. In some implementations, the interactive landmark selection module 44 may select the highest scoring or ranking candidate landmark as the landmark. The server device 14 may then provide navigation instructions to the user's client device 12 that guide the user to the meeting location via the selected landmark. Also, in some implementations, when the landmark is within close proximity (e.g., within a threshold distance of 10 m) of the meeting location, the server device 14 may move the meeting location to the location of the landmark.
双方向ランドマーク選択モジュール44は、ユーザが待ち合わせ場所に近づいている場所および方向に基づいて、最も高いスコアリングまたはランキングの候補ランドマークに従って各ユーザを待ち合わせ場所に道案内するための異なるランドマークを選択し得る。他の実装形態では、双方向ランドマーク選択モジュール44は、同じランドマークを使用して各ユーザを待ち合わせ場所に道案内するための共有ランドマークを選択し得る。たとえば、双方向ランドマーク選択モジュール44は、ユーザのうちの一方に固有の候補ランドマークごとのスコアを生成し得る。次いで、双方向ランドマーク選択モジュール44は、候補ランドマークごとの全体スコアを生成するためにユーザ固有スコアを組み合わせ得る。次いで、双方向ランドマーク選択モジュール44は、最も高い全体スコアを有する候補ランドマークを共有ランドマークとして選択し得る。いくつかの実装形態では、共有ランドマークは、双方向ランドマーク選択モジュール44が1人のユーザの場所からは非常に目に付きやすく、別のユーザの場所からは見ることが難しい共有ランドマークを選択しないように、ユーザ固有スコアまたはユーザ固有ランキングごとに、しきい値スコアを上回るユーザ固有スコアまたはしきい値ランキングを上回るユーザ固有ランキングを有しなければならない。このシナリオでは、候補ランドマークが最も高い全体スコアを有するが、しきい値スコアを下回るユーザ固有スコアを有する場合、双方向ランドマーク選択モジュール44は、双方向ランドマーク選択モジュール44がしきい値スコアを上回るユーザ固有スコアを有する候補ランドマークを識別するまで、次の最も高い全体スコアを有する候補ランドマークを選択し得る。 The bidirectional landmark selection module 44 may select different landmarks for guiding each user to the meeting place according to the highest scoring or ranking candidate landmark based on the location and direction the users are approaching the meeting place. In other implementations, the bidirectional landmark selection module 44 may select shared landmarks for guiding each user to the meeting place using the same landmark. For example, the bidirectional landmark selection module 44 may generate a score for each candidate landmark that is specific to one of the users. The bidirectional landmark selection module 44 may then combine the user-specific scores to generate an overall score for each candidate landmark. The bidirectional landmark selection module 44 may then select the candidate landmark with the highest overall score as the shared landmark. In some implementations, the shared landmarks must have a user-specific score above a threshold score or a user-specific ranking above a threshold ranking for each user-specific score or user-specific ranking so that the bidirectional landmark selection module 44 does not select a shared landmark that is very visible from one user's location and difficult to see from another user's location. In this scenario, if a candidate landmark has the highest overall score but a user-specific score below the threshold score, the interactive landmark selection module 44 may select the candidate landmark with the next highest overall score until the interactive landmark selection module 44 identifies a candidate landmark with a user-specific score above the threshold score.
例示的なユーザインターフェース
図4A～図4Bは、共有ランドマークを介してユーザを待ち合わせ場所に道案内するための、2人のユーザのクライアントデバイス12上で提示された例示的なナビゲーション表示400、450を示す。図4A～図4Bに示されているように、共有ランドマークはWalgreens(登録商標)の看板である。例示的なナビゲーション表示400では、クライアントデバイス12は、待ち合わせ場所までの徒歩指示(walking directions)を示す、乗り手用の地図表示402を提示する。ナビゲーション表示400はまた、Walgreens(登録商標)の看板に向かって進み、その下に立っているというナビゲーション命令404を含み、待ち合わせ場所がWalgreens(登録商標)の看板であることを示している。さらに、ナビゲーション表示400は、ユーザが何を探すべきかが分かるように、Walgreens(登録商標)の看板の描写406を含む。例示的なナビゲーション表示450では、クライアントデバイス12は、待ち合わせ場所までの運転指示(driving directions)または任意の適切な移動モードのための指示を示す、運転者用の地図表示452を提示する。ナビゲーション表示450はまた、500m先でメインストリートを右折し、Walgreens(登録商標)の看板の下に立っているジョンを乗せるというナビゲーション命令454を含む。さらに、ナビゲーション表示450はまた、ユーザが何を探すべきかが分かるように、Walgreens(登録商標)の看板の描写456を含む。この例では、ユーザは相乗り手配によって待ち合わせている場合があり、ナビゲーション表示400は乗り手のクライアントデバイス12上で提示され、ナビゲーション表示450は運転者のクライアントデバイス12上で提示される。
Exemplary User Interfaces FIGS. 4A-4B show exemplary navigation displays 400, 450 presented on two users' client devices 12 for guiding users to a meeting location via a shared landmark. As shown in FIGS. 4A-4B, the shared landmark is a Walgreens® sign. In the exemplary navigation display 400, the client device 12 presents a rider map display 402 showing walking directions to the meeting location. The navigation display 400 also includes navigation instructions 404 to head toward and stand under the Walgreens® sign, indicating that the meeting location is a Walgreens® sign. Additionally, the navigation display 400 includes a depiction 406 of the Walgreens® sign so that the user knows what to look for. In the exemplary navigation display 450, the client device 12 presents a driver map display 452 showing driving directions to the meeting location, or instructions for any suitable mode of travel. Navigation display 450 also includes navigation instructions 454 to turn right on Main Street in 500 meters and pick up John, who is standing under the Walgreens® sign. Additionally, navigation display 450 also includes a depiction 456 of the Walgreens® sign so the user knows what to look for. In this example, the users may be meeting up for a ride-pool, and navigation display 400 is presented on the rider's client device 12 and navigation display 450 is presented on the driver's client device 12.
やはり上記で説明されたように、サーバデバイス14は、地図データまたはナビゲーション指示を求める要求をクライアントデバイス12から受信し得る。要求は、たとえば、GPSモジュール32および/またはコンパスからのユーザの現在の場所および/または推定される方位を含むことができる。双方向ランドマーク選択モジュール44は、現在の場所のしきい値距離内にあり、ユーザの現在の場所および/または推定される方位から見ることができる視覚ランドマークを視覚ランドマークデータベース52から取り出し得る。より具体的には、双方向ランドマーク選択モジュール44は、視覚ランドマークが現在の場所のしきい値距離内にあり、ユーザの現在の場所および/または推定される方位から見ることができることを示す地理的情報を有する視覚ランドマークを識別し得る。いずれにしても、双方向ランドマーク選択モジュール44は、識別された視覚ランドマークがユーザの視野内にあることをユーザが確認することを求める要求またはユーザが識別された視覚ランドマークを向いているまでユーザが方向転換することを求める要求とともに、識別された視覚ランドマークのインジケーションをクライアントデバイス12に提供し得る。 As also described above, the server device 14 may receive a request from the client device 12 for map data or navigation instructions. The request may include, for example, the user's current location and/or estimated orientation from the GPS module 32 and/or compass. The bidirectional landmark selection module 44 may retrieve visual landmarks from the visual landmark database 52 that are within a threshold distance of the current location and are visible from the user's current location and/or estimated orientation. More specifically, the bidirectional landmark selection module 44 may identify visual landmarks that have geographic information indicating that the visual landmarks are within a threshold distance of the current location and are visible from the user's current location and/or estimated orientation. In any event, the bidirectional landmark selection module 44 may provide an indication of the identified visual landmark to the client device 12 along with a request for the user to confirm that the identified visual landmark is within the user's field of view or a request for the user to turn until the user is facing the identified visual landmark.
図5は、ユーザのクライアントデバイス12上で提示された例示的な場所検証表示500を示す。たとえば、場所検証表示500は、ユーザが地理的アプリケーション26を介して自分の現在の場所から目的地までのナビゲーション指示を要求するときに提示され得る。次いで、双方向ランドマーク選択モジュール44は、ユーザを目的地に道案内するための初期ナビゲーション命令を生成するために、ユーザの視野内の視覚ランドマークに基づいてユーザの正確な場所および方位を識別し得る。別の例では、場所検証表示500は、ユーザが相乗りアプリケーション27を介して輸送サービスを要求するときに提示され得る。双方向ランドマーク選択モジュール44は、ユーザを送迎場所に道案内するためのまたは送迎場所をユーザの正確な場所として識別するための初期ナビゲーション命令を生成するために、ユーザの視野内の視覚ランドマークに基づいてユーザの正確な場所および方位を識別し得る。次いで、双方向ランドマーク選択モジュール44は、ユーザの正確な場所を送迎場所として運転者のクライアントデバイス12に提供することができる。さらに別の例では、双方向ランドマーク選択モジュール44は、運転者の視野内の視覚ランドマークに基づいて運転者の正確な場所および方位を識別し得る。次いで、双方向ランドマーク選択モジュール44は、乗り手が運転者を見つけるのに苦労しているときに乗り手を運転者の正確な場所に道案内するために、運転者の正確な場所を乗り手のクライアントデバイス12に提供することができる。 FIG. 5 illustrates an exemplary location verification display 500 presented on the user's client device 12. For example, the location verification display 500 may be presented when a user requests navigation directions from his/her current location to a destination via the geographic application 26. The interactive landmark selection module 44 may then identify the user's precise location and orientation based on visual landmarks in the user's field of view to generate initial navigation instructions for guiding the user to the destination. In another example, the location verification display 500 may be presented when a user requests transportation services via a ride-sharing application 27. The interactive landmark selection module 44 may identify the user's precise location and orientation based on visual landmarks in the user's field of view to generate initial navigation instructions for guiding the user to a pick-up location or to identify the pick-up location as the user's precise location. The interactive landmark selection module 44 may then provide the user's precise location as a pick-up location to the driver's client device 12. In yet another example, the interactive landmark selection module 44 may identify the driver's precise location and orientation based on visual landmarks in the driver's field of view. The interactive landmark selection module 44 can then provide the driver's precise location to the rider's client device 12 to guide the rider to the driver's precise location when the rider has difficulty finding the driver.
いずれにしても、場所検証表示500は、ユーザが識別されたランドマーク(たとえば、Burger King(登録商標)の看板およびWalgreens(登録商標)の看板)が自分の前に見えることをユーザが確認することを求める要求502を含み得る。場所検証表示500はまた、ユーザが何を探すべきかが分かるように、ランドマークの描写504、506を含み得る。さらに、場所検証表示500は、識別されたランドマークがユーザの視野内にあることを確認または否定するためのユーザ制御508、510を含む。他の実装形態では、場所検証表示500は、識別されたランドマークがユーザの視野内にあることを確認するために、識別されたランドマークの写真を撮ることをユーザに促し得る。上述したように、ユーザが自分の前にランドマーク504、506を見ていない場合、ユーザはランドマーク504、506を見つけるために方向転換するかまたは周りを見回し、いくらか探索した後にユーザがランドマーク504、506を見つけた場合、識別されたランドマーク504、506が自分の視野内にあることを確認し得る。しかしながら、いくらか探索した後でもユーザが識別されたランドマーク504、506を見ることができない場合、ユーザは、識別されたランドマーク504、506が見えることを否定するユーザ制御510を選択し得る。次いで、クライアントデバイス12は、ユーザの応答のインジケーションをサーバデバイス14に送信し得る。 In any case, the place verification display 500 may include a request 502 for the user to confirm that they can see the identified landmarks (e.g., a Burger King® sign and a Walgreens® sign) in front of them. The place verification display 500 may also include depictions 504, 506 of the landmarks so that the user knows what to look for. Additionally, the place verification display 500 includes user controls 508, 510 to confirm or deny that the identified landmarks are in the user's field of view. In other implementations, the place verification display 500 may prompt the user to take a picture of the identified landmark to confirm that it is in the user's field of view. As discussed above, if the user does not see the landmarks 504, 506 in front of them, the user may turn or look around to find the landmarks 504, 506, and if after some searching the user finds the landmarks 504, 506, the user may confirm that the identified landmarks 504, 506 are in their field of view. However, if after some searching the user is unable to see the identified landmarks 504, 506, the user may select a user control 510 that denies visibility of the identified landmarks 504, 506. The client device 12 may then send an indication of the user's response to the server device 14.
サーバデバイス14が、識別されたランドマーク504、506がユーザの視野内にあることを確認するインジケーションを受信した場合、サーバデバイス14は、現在の場所および/または推定される方位に基づいてユーザの正確な場所および方位を判定し得る。次いで、サーバデバイス14は、ユーザの正確な場所および方位に基づいて目的地までのナビゲーション指示を生成し得、地図表示におけるユーザの正確な場所および方位のインジケーションを提示し得、別のクライアントデバイス12の第2のユーザが正確な場所でユーザと待ち合わせるために、ユーザの正確な場所および方位を別のクライアントデバイス12に提供し得、別のユーザ、待ち合わせ場所、もしくはユーザを待ち合わせ場所に道案内するためのランドマークを見るために特定の方向に方向転換するようにユーザに命令し得、または、任意の他の適切な目的で正確な場所および方位を利用し得る。 If the server device 14 receives an indication confirming that the identified landmarks 504, 506 are within the user's field of view, the server device 14 may determine the user's precise location and orientation based on the current location and/or estimated heading. The server device 14 may then generate navigation instructions to a destination based on the user's precise location and heading, present an indication of the user's precise location and orientation in a map display, provide the user's precise location and orientation to another client device 12 so that a second user at another client device 12 can meet the user at the precise location, instruct the user to turn in a particular direction to view another user, a meeting location, or a landmark for guiding the user to the meeting location, or use the precise location and orientation for any other suitable purpose.
一方、サーバデバイス14が、識別されたランドマーク504、506がユーザの視野内にあることを否定するインジケーションを受信した場合、サーバデバイス14は、クライアントデバイス12の前で実世界画像のカメラビューを提示するARモードに切り替えるという要求をクライアントデバイス12に提供し得る。他の実装形態では、クライアントデバイス12は、識別されたランドマーク504、506がユーザの視野内にあることを否定するユーザ制御510の選択を受信したことに応答して、ARモードに自動的に切り替える。 On the other hand, if the server device 14 receives an indication denying that the identified landmarks 504, 506 are within the user's field of view, the server device 14 may provide a request to the client device 12 to switch to an AR mode that presents a camera view of a real-world image in front of the client device 12. In other implementations, the client device 12 automatically switches to the AR mode in response to receiving a selection of a user control 510 denying that the identified landmarks 504, 506 are within the user's field of view.
図6は、クライアントデバイス12上で提示されたARモードからのユーザ視野内の実世界画像の例示的なカメラビュー600を示す。カメラビュー600は、車両、建物、電柱、通りなどを含む。カメラビュー600はまた、ジョーのレストラン602の地理的情報を記憶する視覚ランドマークデータベース52に含まれるランドマークであるジョーのレストラン602の看板を含む。クライアントデバイス12はカメラビュー600をサーバデバイス14に提供し、サーバデバイス14はジョーのレストランの看板602などのカメラビュー600内のランドマークを識別し得る。 FIG. 6 illustrates an example camera view 600 of a real-world image in a user's field of view from an AR mode presented on client device 12. Camera view 600 includes vehicles, buildings, utility poles, streets, and the like. Camera view 600 also includes a sign for Joe's Restaurant 602, which is a landmark included in visual landmark database 52, which stores geographic information for Joe's Restaurant 602. Client device 12 provides camera view 600 to server device 14, which may identify landmarks in camera view 600, such as Joe's Restaurant sign 602.
より具体的には、双方向ランドマーク選択モジュール44は、視覚ランドマークデータベース52からのテンプレートランドマークの写真などのいくつかのテンプレートランドマークをデータベースから取得し得る。双方向ランドマーク選択モジュール44は、ぼやけ、モーション、ひずみ、方位、照明、スケーリング、および/またはカメラの視点での他の変更にかかわらず検出可能であるテンプレートランドマーク内の安定領域を検出することによって、テンプレートランドマークの各々の視覚特徴を識別し得る。いくつかの実装形態では、キーポイントは、テンプレートランドマーク内の縁部などのテンプレートランドマークの高コントラスト領域に位置し得る。バウンディングボックスはキーポイントの周りに形成され得、バウンディングボックスによって作成されたテンプレートランドマークの部分は特徴であり得る。双方向ランドマーク選択モジュール44は、テンプレート特徴ベクトルを生成するために、特徴の幅および高さ、特徴のRGBピクセル値、物体内の特徴の中心点のピクセル位置などの特徴の数値表現を作成し得る。 More specifically, the bidirectional landmark selection module 44 may retrieve a number of template landmarks from a database, such as photos of the template landmarks from the visual landmark database 52. The bidirectional landmark selection module 44 may identify visual features of each of the template landmarks by detecting stable regions within the template landmarks that are detectable despite blur, motion, distortion, orientation, lighting, scaling, and/or other changes in the camera's viewpoint. In some implementations, the keypoints may be located in high contrast regions of the template landmarks, such as edges within the template landmarks. Bounding boxes may be formed around the keypoints, and the portions of the template landmarks created by the bounding boxes may be features. The bidirectional landmark selection module 44 may create numerical representations of the features, such as the width and height of the feature, the RGB pixel values of the feature, the pixel location of the center point of the feature within the object, to generate a template feature vector.
双方向ランドマーク選択モジュール44は、ジョーのレストランの看板602を含むカメラビュー600における領域の視覚特徴などの、カメラビュー600内の視覚特徴またはカメラビューにおける物体内の視覚特徴を識別し得る。 The interactive landmark selection module 44 may identify visual features within the camera view 600 or visual features within an object in the camera view, such as visual features of an area in the camera view 600 that includes Joe's Restaurant sign 602.
次いで、双方向ランドマーク選択モジュール44は、カメラビュー600の特徴ベクトルに最も近いテンプレート特徴ベクトルを有する1つまたは複数のテンプレートランドマークを識別するために、カメラビュー600の特徴ベクトルまたはカメラビュー600内の物体の特徴ベクトルをテンプレート特徴ベクトルと比較し得る。 The bidirectional landmark selection module 44 may then compare the feature vector of the camera view 600 or the feature vector of an object in the camera view 600 to the template feature vector to identify one or more template landmarks having a template feature vector that is closest to the feature vector of the camera view 600.
カメラビュー600がジョーのレストランの看板602を含むとの判定に応答して、双方向ランドマーク選択モジュール44は、ジョーのレストランの看板602の場所、ジョーのレストランの看板602の方位、ジョーのレストランの看板602の高さ、ジョーのレストランの看板602の大きさなどの、ジョーのレストランの看板602の地理的情報を視覚ランドマークデータベース52から取得し得る。視覚ランドマークデータベース52にジョーのレストランの看板602の複数のインスタンスがある場合、双方向ランドマーク選択モジュール44は、ユーザの受信された現在の場所に最も近い場所を有するインスタンスを選択し得る。他の実装形態では、2つ以上のランドマークがカメラビュー600内で識別されるとき、双方向ランドマーク選択モジュール44は、識別されたランドマークの各々を含む地理的エリアに基づいて、識別されたランドマークごとに場所を判定する。たとえば、ジョーのレストランは5つの異なる都市に位置し得るが、ジョーのレストランは5つの都市のうちの1つのみにおいてMcDonald's(登録商標)の隣に位置し得る。McDonald's(登録商標)もカメラビュー内で識別された場合、双方向ランドマーク選択モジュール44は、隣接するMcDonald's(登録商標)を有する都市からジョーのレストランを選択し得る。 In response to determining that the camera view 600 includes Joe's Restaurant sign 602, the interactive landmark selection module 44 may obtain geographic information for Joe's Restaurant sign 602 from the visual landmark database 52, such as a location of Joe's Restaurant sign 602, an orientation of Joe's Restaurant sign 602, a height of Joe's Restaurant sign 602, and a size of Joe's Restaurant sign 602. If there are multiple instances of Joe's Restaurant sign 602 in the visual landmark database 52, the interactive landmark selection module 44 may select the instance having a location closest to the received current location of the user. In other implementations, when more than one landmark is identified within the camera view 600, the interactive landmark selection module 44 determines a location for each identified landmark based on a geographic area that includes each of the identified landmarks. For example, Joe's Restaurant may be located in five different cities, but Joe's Restaurant may be located next to a McDonald's® in only one of the five cities. If a McDonald's® is also identified within the camera view, the interactive landmark selection module 44 may select Joe's Restaurant from the city that has a neighboring McDonald's®.
いずれにしても、双方向ランドマーク選択モジュール44は、カメラビュー600内の識別されたランドマークの場所、方位、高さ、および/または大きさに基づいてユーザの正確な場所および方位を判定する。より具体的には、双方向ランドマーク選択モジュール44は、ランドマークの大きさに対するカメラビュー600を有するランドマークの大きさに基づいてユーザとランドマークとの間の距離を判定し得る。ユーザからランドマークまでの距離は、カメラビュー600内のランドマークの大きさに比例し得る。ランドマークの寸法に対してカメラビュー600においてより大きく見えるランドマークは、ユーザがランドマークの近くにいることを示し得る。たとえば、ゴールデンゲートブリッジ全体がカメラビュー600に含まれる場合、双方向ランドマーク選択モジュール44は、ユーザがゴールデンゲートブリッジから少なくとも100m離れていると判定し得る。一方、ゴールデンゲートブリッジの1つのみのつりケーブルがカメラビュー600に含まれる場合、双方向ランドマーク選択モジュール44は、ユーザがゴールデンゲートブリッジに立っているかまたはゴールデンゲートブリッジから数メートル内にいると判定し得る。双方向ランドマーク選択モジュール44はまた、ランドマークがカメラビュー600の前景にあるかまたは背景にあるかに基づいてユーザとランドマークとの間の距離を判定し得る。ランドマークがカメラビュー600の前景にある場合、ランドマークはランドマークがカメラビュー600の背景にある場合よりもユーザに近い可能性がある。 In any event, the bidirectional landmark selection module 44 determines the user's precise location and orientation based on the location, orientation, height, and/or size of the identified landmark in the camera view 600. More specifically, the bidirectional landmark selection module 44 may determine the distance between the user and the landmark based on the size of the landmark with the camera view 600 relative to the size of the landmark. The distance from the user to the landmark may be proportional to the size of the landmark in the camera view 600. A landmark that appears larger in the camera view 600 relative to the dimensions of the landmark may indicate that the user is near the landmark. For example, if the entire Golden Gate Bridge is included in the camera view 600, the bidirectional landmark selection module 44 may determine that the user is at least 100 m away from the Golden Gate Bridge. On the other hand, if only one suspension cable of the Golden Gate Bridge is included in the camera view 600, the bidirectional landmark selection module 44 may determine that the user is standing on or within a few meters of the Golden Gate Bridge. The bidirectional landmark selection module 44 may also determine the distance between the user and the landmark based on whether the landmark is in the foreground or background of the camera view 600. If a landmark is in the foreground of the camera view 600, the landmark may be closer to the user than if the landmark is in the background of the camera view 600.
ユーザからランドマークまでの距離に基づいて、双方向ランドマーク選択モジュール44は、ユーザが位置する地理的エリアを識別し得、ユーザの正確な場所および/または方位を地理的エリア内の場所として判定し得る。ユーザの正確な場所および/または方位を地理的エリア内の場所として判定するために、双方向ランドマーク選択モジュール44は、カメラビュー600内のランドマークの方位を判定し得る。ランドマークがカメラビュー600のビューポイントに直面している場合、双方向ランドマーク選択モジュール44は、ユーザはランドマークが向いている方向に位置し、ユーザはランドマークが向いている方向とは実質的に反対の方向を向いていると判定し得る。たとえば、ランドマークがカメラビュー600のビューポイントに直面しており、ランドマークが南を向いている場合、双方向ランドマーク選択モジュール44は、ユーザがランドマークのすぐ南に位置し、北に直面していると判定し得る。次いで、双方向ランドマーク選択モジュール44は、ランドマークからの距離、ランドマークの場所、およびランドマークに対するユーザの方位に基づいてユーザの正確な場所を判定し得る。たとえば、ランドマークがメインストリートとステートストリートの角にあり、ユーザがランドマークのすぐ南50mのところにいる場合、双方向ランドマーク選択モジュール44は、ユーザの正確な場所がメインストリートとステートストリートの角のすぐ南50mの場所であり、ユーザの方位が北であると判定し得る。 Based on the distance from the user to the landmark, the bidirectional landmark selection module 44 may identify a geographic area in which the user is located and may determine the user's precise location and/or orientation as a location within the geographic area. To determine the user's precise location and/or orientation as a location within the geographic area, the bidirectional landmark selection module 44 may determine the orientation of the landmark within the camera view 600. If the landmark faces the viewpoint of the camera view 600, the bidirectional landmark selection module 44 may determine that the user is located in the direction in which the landmark is facing and that the user is facing a direction substantially opposite to the direction in which the landmark is facing. For example, if the landmark faces the viewpoint of the camera view 600 and the landmark is facing south, the bidirectional landmark selection module 44 may determine that the user is located just south of the landmark and facing north. The bidirectional landmark selection module 44 may then determine the user's precise location based on the distance from the landmark, the location of the landmark, and the user's orientation relative to the landmark. For example, if a landmark is at the corner of Main Street and State Street and the user is located 50 meters immediately south of the landmark, the interactive landmark selection module 44 may determine that the user's exact location is immediately 50 meters south of the corner of Main Street and State Street and that the user's orientation is north.
ランドマークが、カメラビュー600内のジョーのレストランの看板602を有するなどの、カメラビュー600のビューポイントに直面していない場合、双方向ランドマーク選択モジュール44は、カメラビュー600内のランドマークの方位を判定する。次いで、双方向ランドマーク選択モジュール44は、カメラビュー600内のランドマークの方位およびランドマークが向いている方向に基づいてランドマークに対するユーザの方位を判定し得る。加えて、双方向ランドマーク選択モジュール44は、ユーザの方位をランドマークに対するユーザの方向とは実質的に反対の方向として判定し得る。たとえば、双方向ランドマーク選択モジュール44は、視覚ランドマークデータベース52に含まれるジョーのレストランの看板602の地理的情報に基づいて、ジョーのレストランの看板602が南を向いていると判定し得る。双方向ランドマーク選択モジュール44は、ジョーのレストランの看板602がカメラビュー600のビューポイントに対して45°の角度であると判定し得る。したがって、双方向ランドマーク選択モジュール44は、ユーザがジョーのレストランの看板602の南西におり、北東を向いていると判定し得る。 If the landmark does not face the viewpoint of the camera view 600, such as having Joe's Restaurant sign 602 in the camera view 600, the bidirectional landmark selection module 44 determines the orientation of the landmark in the camera view 600. The bidirectional landmark selection module 44 may then determine the user's orientation relative to the landmark based on the orientation of the landmark in the camera view 600 and the direction the landmark is facing. In addition, the bidirectional landmark selection module 44 may determine the user's orientation as a direction substantially opposite to the user's direction relative to the landmark. For example, the bidirectional landmark selection module 44 may determine that Joe's Restaurant sign 602 faces south based on the geographic information of Joe's Restaurant sign 602 included in the visual landmark database 52. The bidirectional landmark selection module 44 may determine that Joe's Restaurant sign 602 is at a 45° angle relative to the viewpoint of the camera view 600. Thus, the bidirectional landmark selection module 44 may determine that the user is southwest of Joe's Restaurant sign 602 and facing northeast.
次いで、サーバデバイス14は、ユーザの正確な場所および方位に基づいて任意の適切な移動モードでの目的地までのナビゲーション指示を生成し得、地図表示におけるユーザの正確な場所および方位のインジケーションを提示し得、別のクライアントデバイス12の第2のユーザが正確な場所でユーザと待ち合わせるために、ユーザの正確な場所および方位を別のクライアントデバイス12に提供し得、別のユーザ、待ち合わせ場所、またはユーザを待ち合わせ場所に道案内するためのランドマークを見るために特定の方向に方向転換するようにユーザに命令し得、または、任意の他の適切な目的で正確な場所および方位を利用し得る。 The server device 14 may then generate navigation instructions to a destination in any suitable travel mode based on the user's precise location and orientation, may present an indication of the user's precise location and orientation in a map display, may provide the user's precise location and orientation to another client device 12 so that a second user of another client device 12 can meet the user at the precise location, may instruct the user to turn in a particular direction to view another user, a meeting location, or a landmark to guide the user to the meeting location, or may utilize the precise location and orientation for any other suitable purpose.
図7は、クライアントデバイス12の正確な場所および/または方位を識別したことに応答してクライアントデバイス12上で提示された例示的なナビゲーション表示700を示す。例示的なナビゲーション表示700では、クライアントデバイス12は、ユーザの正確な場所および/または方位から目的地または待ち合わせ場所までの徒歩指示を示す地図表示702を提示する。ナビゲーション表示700はまた、コロンバスアベニューを100m直進するというナビゲーション命令704を含む。この例では、ユーザは、自分の正確な場所および方位に従って自分の目的地に到達するために自分が移動する必要がある方向を向いている。他の例では、ユーザが自分の目的地に到達するために自分が移動する必要がある方向を向いていないとき、初期ナビゲーション命令は、ユーザが自分の目的地への移動を開始するために方向転換する必要がある相対的な方向を提供し得る。より具体的には、初期ナビゲーション命令は、絶対的なまたは基本的な方向を使用することなしに、ユーザが現在向いている方向に対して特定の方向に方向転換することであり得る。初期ナビゲーション命令は、真っ直ぐに進む前に、「Uターンしてください」、「左折してください」、「右折してください」などであり得る。 7 illustrates an exemplary navigation display 700 presented on the client device 12 in response to identifying the precise location and/or heading of the client device 12. In the exemplary navigation display 700, the client device 12 presents a map display 702 showing walking instructions from the user's precise location and/or heading to a destination or meeting point. The navigation display 700 also includes a navigation instruction 704 to go straight down Columbus Avenue for 100 meters. In this example, the user is facing the direction he or she needs to travel to reach his or her destination according to his or her precise location and heading. In another example, when the user is not facing the direction he or she needs to travel to reach his or her destination, the initial navigation instruction may provide a relative direction the user needs to turn to begin traveling to his or her destination. More specifically, the initial navigation instruction may be to turn in a particular direction relative to the direction the user is currently facing, without using an absolute or cardinal direction. The initial navigation instruction may be "make a U-turn", "turn left", "turn right", etc., before continuing straight ahead.
地理的アプリケーションまたは相乗りアプリケーションにおいて双方向ランドマークを提供するための例示的な方法
図8は、2人以上のユーザを待ち合わせ場所にナビゲートするための例示的な方法800の流れ図を示す。方法は、コンピュータ可読メモリ上に記憶され、サーバデバイス14の1つまたは複数のプロセッサにおいて実行可能な命令のセットにおいて実装され得る。たとえば、方法は、ナビゲーション命令生成器42および/または双方向ランドマーク選択モジュール44によって実装され得る。
8 shows a flow diagram of an example method 800 for navigating two or more users to a meeting location. The method may be implemented in a set of instructions stored on a computer-readable memory and executable on one or more processors of the server device 14. For example, the method may be implemented by the navigation instructions generator 42 and/or the bidirectional landmark selection module 44.
ブロック802において、待ち合わせ場所で第1のユーザが第2のユーザと待ち合わせることを求める要求が受信される。いくつかの実装形態では、要求は、地理的エリア内にいる第1のユーザおよび第2のユーザの現在の場所および待ち合わせ場所を含み得る。他の実装形態では、要求は、第1のユーザおよび第2のユーザの現在の場所を含み得、サーバデバイス14は、たとえば、現在の場所のうちの少なくとも1つに基づいて待ち合わせ場所を判定し得る。たとえば、要求は、第1のユーザの現在の場所から降車場所までの輸送サービスを求める要求であり得る。次いで、サーバデバイス14は、要求を運転者にブロードキャストし得、第2のユーザの現在の場所のインジケーションとともに、第2のユーザが要求を受け入れたというインジケーションを受信し得る。次いで、サーバデバイス14は、第1のユーザに最も近い送迎場所である待ち合わせ場所を識別し得る。いずれにしても、サーバデバイス14は、待ち合わせ場所をユーザのうちの一方のしきい値距離内の場所または各ユーザの現在の場所の間の場所として識別し得る。 At block 802, a request is received for a first user to meet with a second user at a meeting location. In some implementations, the request may include the current locations of the first and second users in a geographic area and the meeting location. In other implementations, the request may include the current locations of the first and second users, and the server device 14 may determine the meeting location based on at least one of the current locations, for example. For example, the request may be a request for transportation service from the first user's current location to a drop-off location. The server device 14 may then broadcast the request to drivers and receive an indication that the second user has accepted the request along with an indication of the second user's current location. The server device 14 may then identify a meeting location that is the closest pick-up location to the first user. In any case, the server device 14 may identify the meeting location as a location within a threshold distance of one of the users or a location between the current locations of each user.
要求を受信したことに応答して、サーバデバイス14は、ナビゲーション命令生成器42を介して、待ち合わせ場所までのユーザごとのルートを生成し得る。いくつかの実装形態では、サーバデバイス14は、ルートごとの最終操作または最終操作の前の操作を識別し、最終操作または最終操作の前の操作を完了した後にユーザの場所および方位を判定し得る。他の実装形態では、ユーザの現在の場所が待ち合わせ場所からしきい値距離(たとえば、100m)未満離れているとき、サーバデバイス14は待ち合わせ場所までのルートを生成しない。その代わりに、サーバデバイス14は、ユーザを待ち合わせ場所に道案内するために使用され得る、ユーザの現在の場所から目に見えるランドマークを識別する。また、いくつかの実装形態では、ランドマークが待ち合わせ場所のごく近傍内(たとえば、10mのしきい値距離内)にあるとき、サーバデバイス14は待ち合わせ場所をランドマークの場所に移動し得る。 In response to receiving the request, the server device 14 may generate a route for the user to the meeting location via the navigation instruction generator 42. In some implementations, the server device 14 may identify the last or pre-last operation for the route and determine the user's location and orientation after completing the last or pre-last operation. In other implementations, when the user's current location is less than a threshold distance (e.g., 100 m) away from the meeting location, the server device 14 does not generate a route to the meeting location. Instead, the server device 14 identifies landmarks visible from the user's current location that can be used to guide the user to the meeting location. Also, in some implementations, when the landmark is within close proximity (e.g., within a threshold distance of 10 m) of the meeting location, the server device 14 may move the meeting location to the location of the landmark.
次いで、第1のユーザの判定された場所および方位を使用して、たとえば、ルートに沿った最終操作を完了した後、サーバデバイス14は、双方向ランドマーク選択モジュール44を介して、第1のユーザの判定された場所および方位から目に見えるならびに/または待ち合わせ場所を含む地理的エリア内にある候補ランドマークを視覚ランドマークデータベース52から識別し得る(ブロック804)。双方向ランドマーク選択モジュール44は、視覚ランドマークデータベース52に含まれる各ランドマークの可視域、方位、位置、高さ、寸法などを使用して候補ランドマークを識別し得る。次いで、ブロック806において、双方向ランドマーク選択モジュール44は、たとえば、待ち合わせ場所への近接度を含む候補ランドマークの場所、時刻、気象条件、季節などに対応する可視域に基づいた可視性、ランドマークの大きさ、第1のユーザの方位およびランドマークの方位によればランドマークが第1のユーザに直面しているかどうかなどを含むいくつかのメトリックに基づいて、候補ランドマークに第1の可視性スコアまたはランキングを割り当て得る。双方向ランドマーク選択モジュール44は、待ち合わせ場所への近接度スコア、可視域スコア、ランドマークの大きさスコア、ランドマークの方位スコア、ランドマークの高さスコアなどのメトリックごとに個々のスコアを割り当て、第1のユーザの判定された場所および方位に基づいて候補ランドマークの第1の可視性スコアを生成するために任意の適切な方法で個々のスコアを集約するかまたは組み合わせ得る。 Then, using the first user's determined location and orientation, e.g., after completing a final operation along the route, the server device 14, via the interactive landmark selection module 44, may identify candidate landmarks from the visual landmark database 52 that are visible from the first user's determined location and orientation and/or are within a geographic area that includes the meeting place (block 804). The interactive landmark selection module 44 may identify the candidate landmarks using the visibility range, orientation, position, height, dimensions, etc. of each landmark included in the visual landmark database 52. Then, in block 806, the interactive landmark selection module 44 may assign a first visibility score or ranking to the candidate landmarks based on several metrics including, for example, the location of the candidate landmark including its proximity to the meeting place, visibility based on visibility range corresponding to the time of day, weather conditions, season, etc., the size of the landmark, whether the landmark is facing the first user according to the first user's orientation and the landmark's orientation, etc. The interactive landmark selection module 44 may assign individual scores for each metric, such as a proximity to meeting point score, a visibility score, a landmark size score, a landmark orientation score, a landmark height score, etc., and may aggregate or combine the individual scores in any suitable manner to generate a first visibility score for the candidate landmarks based on the determined location and orientation of the first user.
次いで、第2のユーザについて、このプロセスが繰り返される。サーバデバイス14は、第2のユーザの判定された場所および方位から目に見えるならびに/または待ち合わせ場所を含む地理的エリア内にある候補ランドマークを視覚ランドマークデータベース52から識別し得る(ブロック804)。次いで、ブロック806において、双方向ランドマーク選択モジュール44は、たとえば、待ち合わせ場所への近接度、時刻、気象条件、季節などに対応する可視域に基づいた可視性、ランドマークの大きさ、第2のユーザの方位およびランドマークの方位によればランドマークが第2のユーザに直面しているかどうかなどを含むいくつかのメトリックに基づいて、候補ランドマークに第2の可視性スコアまたはランキングを割り当て得る。 The process is then repeated for the second user. The server device 14 may identify candidate landmarks from the visual landmark database 52 that are visible from the second user's determined location and orientation and/or are within a geographic area that includes the meeting location (block 804). Then, in block 806, the interactive landmark selection module 44 may assign a second visibility score or ranking to the candidate landmarks based on a number of metrics including, for example, proximity to the meeting location, visibility based on a visibility zone corresponding to the time of day, weather conditions, season, etc., size of the landmark, whether the landmark faces the second user according to the second user's orientation and the landmark's orientation, etc.
ブロック808において、双方向ランドマーク選択モジュール44は、各候補ランドマークに割り当てられた可視性スコアおよび/またはランキングに基づいて、同じランドマークを使用して各ユーザを待ち合わせ場所に道案内するための共有ランドマークを選択し得る。上記で説明されたように、双方向ランドマーク選択モジュール44は、第1のユーザに固有の候補ランドマークごとの第1のスコアと、第1のユーザに固有の候補ランドマークごとの第2のスコアとを生成し得る。次いで、双方向ランドマーク選択モジュール44は、候補ランドマークごとの全体スコアを生成するためにユーザ固有スコアを集約するかまたは組み合わせ得る。双方向ランドマーク選択モジュール44は、候補ランドマークを、それらのそれぞれのユーザ固有スコアに従ってランク付けし得る。たとえば、双方向ランドマーク選択モジュール44は、第1の可視性スコアに従った候補ランドマークのランキングの第1のセットと、第2の可視性スコアに従った候補ランドマークのランキングの第2のセットとを生成し得る。 In block 808, the bidirectional landmark selection module 44 may select shared landmarks for navigating each user to a meeting location using the same landmark based on the visibility scores and/or rankings assigned to each candidate landmark. As described above, the bidirectional landmark selection module 44 may generate a first score for each candidate landmark specific to the first user and a second score for each candidate landmark specific to the first user. The bidirectional landmark selection module 44 may then aggregate or combine the user-specific scores to generate an overall score for each candidate landmark. The bidirectional landmark selection module 44 may rank the candidate landmarks according to their respective user-specific scores. For example, the bidirectional landmark selection module 44 may generate a first set of rankings of the candidate landmarks according to the first visibility scores and a second set of rankings of the candidate landmarks according to the second visibility scores.
次いで、双方向ランドマーク選択モジュール44は、最も高い全体スコアを有する候補ランドマークを共有ランドマークとして選択し得る。いくつかの実装形態では、共有ランドマークは、双方向ランドマーク選択モジュール44が1人のユーザの場所からは非常に目に付きやすく、別のユーザの場所からは見ることが難しい共有ランドマークを選択しないように、ユーザ固有スコアまたはユーザ固有ランキングごとに、しきい値スコアを上回るユーザ固有スコアまたはしきい値ランキングを上回るユーザ固有ランキングを有しなければならない。このシナリオでは、候補ランドマークが最も高い全体スコアを有するが、しきい値スコアを下回るユーザ固有スコアまたはしきい値ランキングを下回るユーザ固有ランキングを有する場合、双方向ランドマーク選択モジュール44は、双方向ランドマーク選択モジュール44がしきい値スコアを上回るユーザ固有スコアまたはしきい値ランキングを上回るユーザ固有ランキングを有する候補ランドマークを識別するまで、次の最も高い全体スコアを有する候補ランドマークを選択し得る。 The bidirectional landmark selection module 44 may then select the candidate landmark with the highest overall score as the shared landmark. In some implementations, the shared landmark must have a user-specific score above the threshold score or a user-specific ranking above the threshold ranking for each user-specific score or user-specific ranking so that the bidirectional landmark selection module 44 does not select a shared landmark that is very visible from one user's location and difficult to see from another user's location. In this scenario, if a candidate landmark has the highest overall score but a user-specific score below the threshold score or a user-specific ranking below the threshold ranking, the bidirectional landmark selection module 44 may select the candidate landmark with the next highest overall score until the bidirectional landmark selection module 44 identifies a candidate landmark with a user-specific score above the threshold score or a user-specific ranking above the threshold ranking.
ブロック810において、サーバデバイス14は、ナビゲーション指示の第1のセットを生成し、共有ランドマークを参照する第1のユーザに提供する。上記の例では、第1のユーザが相乗りサービスを要求する乗り手である場合、ナビゲーション指示の第1のセットは送迎場所までの徒歩指示であり得る。ナビゲーション指示の第1のセットは、「Burger King(登録商標)の看板に到着するまで直進してください」または「Walgreens(登録商標)の看板を過ぎてすぐの角まで行ってください」などの、共有ランドマークを包含するナビゲーション命令(たとえば、最終ナビゲーション命令)を含み得る。 In block 810, the server device 14 generates and provides a first set of navigation instructions to the first user that references the shared landmark. In the above example, if the first user is a rider requesting a ride-sharing service, the first set of navigation instructions may be walking instructions to a pickup location. The first set of navigation instructions may include navigation commands (e.g., final navigation commands) that encompass the shared landmark, such as "Continue straight until you reach the Burger King® sign" or "Continue to the corner just past the Walgreens® sign."
ブロック812において、サーバデバイス14は、ナビゲーション指示の第2のセットを生成し、共有ランドマークを参照する第2のユーザに提供する。上記の例では、第2のユーザが乗り手を乗せる運転者である場合、ナビゲーション指示の第2のセットは送迎場所までの運転指示であり得る。ナビゲーション指示の第2のセットは、「Burger King(登録商標)の看板に到着したら車を止めてください」または「500m先で、Walgreens(登録商標)の看板の下に立っているジョンを乗せてください」などの、共有ランドマークを包含するナビゲーション命令(たとえば、最終ナビゲーション命令)を含み得る。 In block 812, the server device 14 generates and provides a second set of navigation instructions to the second user that references the shared landmarks. In the above example, if the second user is a driver picking up a rider, the second set of navigation instructions may be driving instructions to a pick-up location. The second set of navigation instructions may include navigation commands (e.g., final navigation commands) that encompass the shared landmarks, such as "Pull up when you reach the Burger King® sign" or "Pick up John, who is standing under the Walgreens® sign, in 500 meters."
図9は、ランドマークを使用してユーザの現在の場所または方位を検証するための例示的な方法900の流れ図を示す。方法は、コンピュータ可読メモリ上に記憶され、サーバデバイス14の1つまたは複数のプロセッサにおいて実行可能な命令のセットにおいて実装され得る。たとえば、方法は、ナビゲーション命令生成器42および/または双方向ランドマーク選択モジュール44によって実装され得る。 FIG. 9 illustrates a flow diagram of an example method 900 for verifying a user's current location or orientation using landmarks. The method may be implemented in a set of instructions stored on a computer-readable memory and executable on one or more processors of the server device 14. For example, the method may be implemented by the navigation instruction generator 42 and/or the interactive landmark selection module 44.
ブロック902において、ユーザのクライアントデバイス12から現在の場所および/または推定される方位が受信される。いくつかの実装形態では、現在の場所および/または推定される方位は、地図データ、ナビゲーション指示、相乗りデータなどを求める要求とともに受信され得る。現在の場所および/または推定される方位は、GPSモジュール32、コンパスなどの、ユーザのクライアントデバイス12内のセンサから取得され得る。 At block 902, a current location and/or estimated orientation is received from a user's client device 12. In some implementations, the current location and/or estimated orientation may be received along with a request for map data, navigation directions, ride-sharing data, etc. The current location and/or estimated orientation may be obtained from sensors in the user's client device 12, such as a GPS module 32, a compass, etc.
次いで、ブロック904において、サーバデバイス14、より具体的には、双方向ランドマーク選択モジュール44は、候補視覚ランドマークを視覚ランドマークデータベース52から取り出し、現在の場所のしきい値距離内にあり、ユーザの現在の場所および/または推定される方位から見ることができる候補視覚ランドマークのうちの1つまたは複数を選択し得る(ブロック906)。より具体的には、双方向ランドマーク選択モジュール44は、視覚ランドマークが現在の場所のしきい値距離内にあり、ユーザの現在の場所および/または推定される方位から見ることができることを示す地理的情報を有する視覚ランドマークを識別し得る。 Then, in block 904, the server device 14, and more specifically, the bidirectional landmark selection module 44, may retrieve candidate visual landmarks from the visual landmark database 52 and select one or more of the candidate visual landmarks that are within a threshold distance of the current location and are visible from the user's current location and/or estimated orientation (block 906). More specifically, the bidirectional landmark selection module 44 may identify visual landmarks that have geographic information indicating that the visual landmarks are within a threshold distance of the current location and are visible from the user's current location and/or estimated orientation.
いくつかの実装形態では、双方向ランドマーク選択モジュール44は、たとえば、ユーザの現在の場所への近接度を含む候補ランドマークの場所、時刻、気象条件、季節などに対応する可視域に基づいたユーザの現在の場所および/または推定される方位からの可視性、ランドマークの大きさ、ユーザの推定される方位およびランドマークの方位によればランドマークがユーザに直面しているかどうかなどを含むいくつかのメトリックに基づいて、候補視覚ランドマークの各々に可視性スコアまたはランキングを割り当て得る。 In some implementations, the interactive landmark selection module 44 may assign a visibility score or ranking to each of the candidate visual landmarks based on several metrics including, for example, the location of the candidate landmark including its proximity to the user's current location, its visibility from the user's current location and/or estimated orientation based on a visibility range corresponding to the time of day, weather conditions, season, etc., the size of the landmark, whether the landmark is facing the user according to the user's estimated orientation and the landmark's orientation, etc.
次いで、双方向ランドマーク選択モジュール44は、しきい値スコアを上回る可視性スコアを有する候補視覚ランドマークのうちの1つまたは複数を選択し得る。たとえば、3つのランドマークの可視性スコアが、ユーザの現在の場所への近接度、ユーザの現在の場所および/または推定される方位からの可視性、ユーザの推定される方位およびランドマークの方位によればランドマークがユーザに直面しているかどうかなどに基づいて、3つのランドマークの各々がユーザの視野内にあることを示すしきい値スコアを上回るとき、双方向ランドマーク選択モジュール44は、ユーザのクライアントデバイスに提供するために3つのランドマークを選択し得る。一方、1つのみのランドマークがしきい値スコアを上回る可視性スコアを有するとき、双方向ランドマーク選択モジュール44は、ユーザのクライアントデバイス12に提供するためにその1つのランドマークを選択し得る。 The bidirectional landmark selection module 44 may then select one or more of the candidate visual landmarks having a visibility score above the threshold score. For example, when the visibility scores of three landmarks exceed a threshold score indicating that each of the three landmarks is within the user's field of view, based on proximity to the user's current location, visibility from the user's current location and/or estimated orientation, whether the landmark is facing the user according to the user's estimated orientation and the orientation of the landmark, etc., the bidirectional landmark selection module 44 may select the three landmarks for provision to the user's client device. On the other hand, when only one landmark has a visibility score above the threshold score, the bidirectional landmark selection module 44 may select that one landmark for provision to the user's client device 12.
次いで、ブロック908において、双方向ランドマーク選択モジュール44は、識別された視覚ランドマークがユーザの視野内にあることをユーザが確認することを求める要求またはユーザが識別された視覚ランドマークを向いているまでユーザが方向転換することを求める要求とともに、識別された視覚ランドマークのインジケーションをクライアントデバイス12に提供し得る。たとえば、双方向ランドマーク選択モジュール44は、ユーザインターフェース28を介してクライアントデバイス12上に表示された、ユーザが真正面にMcDonald's(登録商標)の看板を見ることができることをユーザが確認することを求める要求を提供し得る。 The interactive landmark selection module 44 may then provide an indication of the identified visual landmark to the client device 12 in block 908 along with a request for the user to confirm that the identified visual landmark is within the user's field of view or a request for the user to turn until the user is facing the identified visual landmark. For example, the interactive landmark selection module 44 may provide a request for the user to confirm that the user can see the McDonald's® sign directly ahead, as displayed on the client device 12 via the user interface 28.
ブロック910において、たとえば、クライアントデバイス12のユーザインターフェース28上で提示されたユーザ制御を介して、識別された視覚ランドマークがユーザの視野内にあることまたはユーザが方向転換して識別された視覚ランドマークを向いていることをユーザが確認した場合、双方向ランドマーク選択モジュール44は、ユーザの正確な場所および方位が現在の場所および/または推定される方位であると判定し得る(ブロック918)。たとえば、McDonald's(登録商標)の看板がユーザの現在の場所の北にある場合、双方向ランドマーク選択モジュール44は、ユーザが北を向いていると判定する。次いで、サーバデバイス14は、地図データ、ナビゲーションデータ、相乗りデータなどをクライアントデバイス12に提供するために、ユーザの正確な場所および方位を使用し得る。たとえば、ユーザが目的地場所までのナビゲーション指示を要求した場合、ナビゲーション命令生成器42は、ユーザの正確な場所から目的地までのルートを生成するために、道路ジオメトリデータ、道路および交差点の制約(たとえば、一方通行、左折禁止)、道路タイプデータ(たとえば、幹線道路、地方道路)、制限速度データなどを地図データベース50から取り出すことができる(ブロック916)。 In block 910, if the user confirms, e.g., via user controls presented on the user interface 28 of the client device 12, that the identified visual landmark is within the user's field of view or that the user has turned and is facing the identified visual landmark, the interactive landmark selection module 44 may determine that the user's precise location and heading is the current location and/or estimated heading (block 918). For example, if the McDonald's® sign is north of the user's current location, the interactive landmark selection module 44 may determine that the user is facing north. The server device 14 may then use the user's precise location and heading to provide map data, navigation data, carpool data, and the like, to the client device 12. For example, if the user requests navigation directions to a destination location, the navigation instruction generator 42 may retrieve road geometry data, road and intersection constraints (e.g., one-way, no left turns), road type data (e.g., major roads, local roads), speed limit data, and the like, from the map database 50 to generate a route from the user's precise location to the destination (block 916).
ナビゲーション命令生成器42は、ナビゲーション命令のシーケンスを生成するために1つまたは複数のルートを使用することができる。初期ナビゲーション命令の場合、「ステートストリートを北に進んでください」などの絶対的な方向を提供する代わりに、ナビゲーション命令生成器42は、双方向ランドマーク選択モジュール44によって判定されたユーザの正確な場所および方位に基づいてユーザを道案内することができる。たとえば、ナビゲーション命令生成器42は、ユーザが北を向いているので、「ステートストリートを直進してください」という初期ナビゲーション命令を生成し得る。初期命令がユーザが南に向かうことを必要とする場合、ナビゲーション命令生成器42は、「McDonald's(登録商標)の看板のところでUターンして、ステートストリートを直進してください」という初期ナビゲーション命令を生成し得る。 The navigation instruction generator 42 may use one or more routes to generate a sequence of navigation instructions. For an initial navigation instruction, instead of providing an absolute direction such as "Go north on State Street," the navigation instruction generator 42 may guide the user based on the user's exact location and orientation as determined by the interactive landmark selection module 44. For example, the navigation instruction generator 42 may generate an initial navigation instruction of "Go straight on State Street" because the user is facing north. If the initial instruction requires the user to head south, the navigation instruction generator 42 may generate an initial navigation instruction of "Make a U-turn at the McDonald's® sign and go straight on State Street."
ブロック910において、ユーザが識別された視覚ランドマークを自分の視野内で見ておらず、たとえば、クライアントデバイス12のユーザインターフェース28上で提示されたユーザ制御を介して、ユーザが識別された視覚ランドマークを見ていないというインジケーションを提供した場合、双方向ランドマーク選択モジュール44は、クライアントデバイス12の前で実世界画像のカメラビューを提示するARモードに切り替えるようにクライアントデバイス12に要求する。他の実装形態では、クライアントデバイス12は、識別されたランドマークがユーザの視野内にあることを否定するユーザ制御の選択を受信したことに応答して、ARモードに自動的に切り替える。 In block 910, if the user does not see the identified visual landmark within his or her field of view and, for example, provides an indication via a user control presented on the user interface 28 of the client device 12 that the user does not see the identified visual landmark, the interactive landmark selection module 44 requests the client device 12 to switch to an AR mode that presents a camera view of the real world image in front of the client device 12. In other implementations, the client device 12 automatically switches to the AR mode in response to receiving a user-controlled selection that denies that the identified landmark is within the user's field of view.
次いで、双方向ランドマーク選択モジュール44は、クライアントデバイス12のカメラビューから実世界画像を受信し、物体認識を使用して実世界画像内のランドマークを識別する(ブロック912)。より具体的には、双方向ランドマーク選択モジュール44は、視覚ランドマークデータベース52からのテンプレートランドマークの写真などのいくつかのテンプレートランドマークをデータベースから取得し得る。双方向ランドマーク選択モジュール44は、テンプレートランドマークの各々の視覚特徴を識別し得る。いくつかの実装形態では、キーポイントは、テンプレートランドマーク内の縁部などのテンプレートランドマークの高コントラスト領域に位置し得る。バウンディングボックスはキーポイントの周りに形成され得、バウンディングボックスによって作成されたテンプレートランドマークの部分は特徴であり得る。双方向ランドマーク選択モジュール44は、テンプレート特徴ベクトルを生成するために、特徴の幅および高さ、特徴のRGBピクセル値、物体内の特徴の中心点のピクセル位置などの特徴の数値表現を作成し得る。 The bidirectional landmark selection module 44 then receives a real-world image from the camera view of the client device 12 and identifies landmarks in the real-world image using object recognition (block 912). More specifically, the bidirectional landmark selection module 44 may retrieve a number of template landmarks from a database, such as photos of the template landmarks from the visual landmark database 52. The bidirectional landmark selection module 44 may identify visual features of each of the template landmarks. In some implementations, the key points may be located in high contrast areas of the template landmarks, such as edges within the template landmarks. Bounding boxes may be formed around the key points, and the portions of the template landmarks created by the bounding boxes may be features. The bidirectional landmark selection module 44 may create numerical representations of the features, such as the width and height of the feature, the RGB pixel values of the feature, and the pixel location of the center point of the feature within the object, to generate a template feature vector.
また、双方向ランドマーク選択モジュール44は、カメラビューの視覚特徴またはカメラビューの物体内の視覚特徴を識別し得る。次いで、双方向ランドマーク選択モジュール44は、カメラビューの特徴ベクトルに最も近いテンプレート特徴ベクトルを有する1つまたは複数のテンプレートランドマークを識別するために、カメラビューの特徴ベクトルまたはカメラビュー内の物体の特徴ベクトルをテンプレート特徴ベクトルと比較し得る。カメラビュー内の識別された物体ごとに、双方向ランドマーク選択モジュール44は、物体の特徴ベクトルに最も近いテンプレート特徴ベクトルを有するテンプレートランドマークを識別し得る。テンプレートランドマークの各々は、カメラビュー内のランドマークとして識別され得る。 The bidirectional landmark selection module 44 may also identify visual features of the camera view or visual features within the object in the camera view. The bidirectional landmark selection module 44 may then compare the feature vector of the camera view or the feature vector of the object in the camera view to the template feature vector to identify one or more template landmarks having a template feature vector that is closest to the feature vector of the camera view. For each identified object in the camera view, the bidirectional landmark selection module 44 may identify a template landmark having a template feature vector that is closest to the feature vector of the object. Each of the template landmarks may be identified as a landmark in the camera view.
次いで、双方向ランドマーク選択モジュール44は、識別された各ランドマークの場所、方位、大きさなどを判定するために、カメラビュー内の識別されたランドマークの地理的情報を、たとえば、視覚ランドマークデータベース52から取り出し得る。識別されたランドマークがWalgreens(登録商標)の看板などの2つ以上の場所を有するとき、双方向ランドマーク選択モジュール44は、ユーザのおおよその現在の場所に最も近い場所の地理的情報を取り出す。他の実装形態では、2つ以上のランドマークがカメラビュー内で識別されるとき、双方向ランドマーク選択モジュール44は、識別されたランドマークの各々を含む地理的エリアに基づいて、識別されたランドマークごとに場所を判定する。たとえば、ジョーのレストランは5つの異なる都市に位置し得るが、ジョーのレストランは5つの都市のうちの1つのみにおいてMcDonald's(登録商標)の隣に位置し得る。McDonald's(登録商標)もカメラビュー内で識別された場合、双方向ランドマーク選択モジュール44は、隣接するMcDonald's(登録商標)を有する都市からジョーのレストランを選択し得る。 The interactive landmark selection module 44 may then retrieve geographic information of the identified landmarks in the camera view, for example from the visual landmark database 52, to determine the location, orientation, size, etc. of each identified landmark. When an identified landmark has more than one location, such as a Walgreens® sign, the interactive landmark selection module 44 retrieves the geographic information of the location closest to the user's approximate current location. In other implementations, when more than one landmark is identified in the camera view, the interactive landmark selection module 44 determines a location for each identified landmark based on a geographic area that includes each of the identified landmarks. For example, Joe's Restaurant may be located in five different cities, but Joe's Restaurant may be located next to a McDonald's® in only one of the five cities. If a McDonald's® is also identified in the camera view, the interactive landmark selection module 44 may select Joe's Restaurant from the city that has a nearby McDonald's®.
いずれにしても、双方向ランドマーク選択モジュール44は、カメラビュー内の識別されたランドマークの場所、方位、高さ、および/または大きさに基づいてユーザの正確な場所および方位を判定する(ブロック914)。より具体的には、識別されたランドマークごとに、双方向ランドマーク選択モジュール44は、ランドマークの大きさに対するカメラビューを有するランドマークの大きさに基づいてユーザとランドマークとの間の距離を判定し得る。ユーザからランドマークまでの距離は、カメラビュー内のランドマークの大きさに比例し得る。ランドマークの寸法に対してカメラビューにおいてより大きく見えるランドマークは、ユーザがランドマークの近くにいることを示し得る。双方向ランドマーク選択モジュール44はまた、ランドマークがカメラビューの前景にあるかまたは背景にあるかに基づいてユーザとランドマークとの間の距離を判定し得る。ランドマークがカメラビューの前景にある場合、ランドマークはランドマークがカメラビューの背景にある場合よりもユーザに近い可能性がある。 In any event, the bidirectional landmark selection module 44 determines the user's precise location and orientation based on the location, orientation, height, and/or size of the identified landmark in the camera view (block 914). More specifically, for each identified landmark, the bidirectional landmark selection module 44 may determine a distance between the user and the landmark based on the size of the landmark with the camera view relative to the size of the landmark. The distance from the user to the landmark may be proportional to the size of the landmark in the camera view. A landmark that appears larger in the camera view relative to the dimensions of the landmark may indicate that the user is near the landmark. The bidirectional landmark selection module 44 may also determine the distance between the user and the landmark based on whether the landmark is in the foreground or background of the camera view. If the landmark is in the foreground of the camera view, the landmark is likely closer to the user than if the landmark is in the background of the camera view.
ユーザからランドマークまでの距離に基づいて、双方向ランドマーク選択モジュール44は、ユーザが位置する地理的エリアを識別し得、ユーザの正確な場所および/または方位を地理的エリア内の場所として判定し得る。ユーザの正確な場所および/または方位を地理的エリア内の場所として判定するために、双方向ランドマーク選択モジュール44は、カメラビュー内のランドマークの方位を判定し得る。ランドマークがカメラビューのビューポイントに直面している場合、双方向ランドマーク選択モジュール44は、ユーザはランドマークが向いている方向に位置し、ユーザはランドマークが向いている方向とは実質的に反対の方向を向いていると判定し得る。たとえば、ランドマークがカメラビューのビューポイントに直面しており、ランドマークが南を向いている場合、双方向ランドマーク選択モジュール44は、ユーザがランドマークのすぐ南に位置し、北に直面していると判定し得る。次いで、双方向ランドマーク選択モジュール44は、ランドマークからの距離、ランドマークの場所、およびランドマークに対するユーザの方位に基づいてユーザの正確な場所を判定し得る。たとえば、ランドマークがメインストリートとステートストリートの角にあり、ユーザがランドマークのすぐ南50mのところにいる場合、双方向ランドマーク選択モジュール44は、ユーザの正確な場所がメインストリートとステートストリートの角のすぐ南50mの場所であり、ユーザの方位が北であると判定し得る。 Based on the distance from the user to the landmark, the bidirectional landmark selection module 44 may identify a geographic area in which the user is located and may determine the user's precise location and/or orientation as a location within the geographic area. To determine the user's precise location and/or orientation as a location within the geographic area, the bidirectional landmark selection module 44 may determine the orientation of the landmark within the camera view. If the landmark faces the viewpoint of the camera view, the bidirectional landmark selection module 44 may determine that the user is located in the direction in which the landmark is facing and that the user is facing a direction substantially opposite to the direction in which the landmark is facing. For example, if the landmark faces the viewpoint of the camera view and the landmark is facing south, the bidirectional landmark selection module 44 may determine that the user is located just south of the landmark and facing north. The bidirectional landmark selection module 44 may then determine the user's precise location based on the distance from the landmark, the location of the landmark, and the user's orientation relative to the landmark. For example, if a landmark is at the corner of Main Street and State Street and the user is located 50 meters immediately south of the landmark, the interactive landmark selection module 44 may determine that the user's exact location is immediately 50 meters south of the corner of Main Street and State Street and that the user's orientation is north.
ランドマークがカメラビューのビューポイントに直面していない場合、双方向ランドマーク選択モジュール44は、カメラビュー内のランドマークの方位を判定する。次いで、双方向ランドマーク選択モジュール44は、カメラビュー内のランドマークの方位およびランドマークが向いている方向に基づいてランドマークに対するユーザの方位を判定する。加えて、双方向ランドマーク選択モジュール44は、ユーザの方位をランドマークに対するユーザの方向とは実質的に反対の方向として判定し得る。 If the landmark does not face the viewpoint of the camera view, the bidirectional landmark selection module 44 determines an orientation of the landmark in the camera view. The bidirectional landmark selection module 44 then determines a user's orientation relative to the landmark based on the orientation of the landmark in the camera view and the direction the landmark is facing. In addition, the bidirectional landmark selection module 44 may determine the user's orientation as a direction substantially opposite to the user's direction relative to the landmark.
上記で説明されたように、次いで、サーバデバイス14は、地図データ、ナビゲーションデータ、相乗りデータなどをクライアントデバイス12に提供するために、ユーザの正確な場所および方位を使用し得る。たとえば、ユーザが目的地場所までのナビゲーション指示を要求した場合、ナビゲーション命令生成器42は、ユーザの正確な場所から目的地までのルートを生成するために、道路ジオメトリデータ、道路および交差点の制約(たとえば、一方通行、左折禁止)、道路タイプデータ(たとえば、幹線道路、地方道路)、制限速度データなどを地図データベース50から取り出すことができる(ブロック916)。 As described above, the server device 14 may then use the user's precise location and orientation to provide map data, navigation data, carpool data, and the like to the client device 12. For example, if the user requests navigation directions to a destination location, the navigation instruction generator 42 may retrieve road geometry data, road and intersection constraints (e.g., one-way streets, no left turns), road type data (e.g., major roads, local roads), speed limit data, and the like from the map database 50 to generate a route from the user's precise location to the destination (block 916).
ナビゲーション命令生成器42は、ナビゲーション命令のシーケンスを生成するために1つまたは複数のルートを使用することができる。初期ナビゲーション命令の場合、「ステートストリートを北に進んでください」などの絶対的な方向を提供する代わりに、ナビゲーション命令生成器42は、双方向ランドマーク選択モジュール44によって判定されたユーザの正確な場所および方位に基づいてユーザを道案内することができる。たとえば、ナビゲーション命令生成器42は、ユーザが北を向いているので、「ステートストリートを直進してください」という初期ナビゲーション命令を生成し得る。初期命令がユーザが南に向かうことを必要とする場合、ナビゲーション命令生成器42は、「McDonald's(登録商標)の看板のところでUターンして、ステートストリートを直進してください」という初期ナビゲーション命令を生成し得る。 The navigation instruction generator 42 may use one or more routes to generate a sequence of navigation instructions. For an initial navigation instruction, instead of providing an absolute direction such as "Go north on State Street," the navigation instruction generator 42 may guide the user based on the user's exact location and orientation as determined by the interactive landmark selection module 44. For example, the navigation instruction generator 42 may generate an initial navigation instruction of "Go straight on State Street" because the user is facing north. If the initial instruction requires the user to head south, the navigation instruction generator 42 may generate an initial navigation instruction of "Make a U-turn at the McDonald's® sign and go straight on State Street."
追加の考慮事項
本明細書で説明される例示的な方法の様々な動作は、関連する動作を実施するために(たとえば、ソフトウェアによって)一時的に構成されたまたは恒久的に構成された1つまたは複数のプロセッサによって少なくとも部分的に実施され得る。一時的に構成されるか恒久的に構成されるかにかかわらず、そのようなプロセッサは、1つまたは複数の動作または機能を実施するように動作するプロセッサ実装モジュールを構成し得る。本明細書で言及されるモジュールは、いくつかの例示的な実施形態では、プロセッサ実装モジュールを備え得る。
Additional Considerations Various operations of the example methods described herein may be performed at least in part by one or more processors that are temporarily or permanently configured (e.g., by software) to perform the associated operations. Whether temporarily or permanently configured, such processors may constitute processor-implemented modules that operate to perform one or more operations or functions. Modules referred to herein may comprise processor-implemented modules in some example embodiments.
同様に、本明細書で説明される方法またはルーチンは、少なくとも部分的にプロセッサ実装され得る。たとえば、方法の動作のうちの少なくともいくつかは、1つまたは複数のプロセッサまたはプロセッサ実装ハードウェアモジュールによって実施され得る。動作のうちのいくつかの実施は、単一のマシン内に存在するだけでなく、いくつかのマシンにわたって展開される1つまたは複数のプロセッサ間で分散され得る。いくつかの例示的な実施形態では、1つまたは複数のプロセッサは(たとえば、ホーム環境、オフィス環境内の、またはサーバファームとしての)単一の場所に位置し得るが、他の実施形態では、プロセッサはいくつかの場所にわたって分散され得る。 Similarly, the methods or routines described herein may be at least partially processor-implemented. For example, at least some of the operations of the methods may be performed by one or more processors or processor-implemented hardware modules. The implementation of some of the operations may reside within a single machine, but may also be distributed among one or more processors that are spread across several machines. In some exemplary embodiments, one or more processors may be located at a single location (e.g., in a home environment, an office environment, or as a server farm), while in other embodiments, the processors may be distributed across several locations.
1つまたは複数のプロセッサはまた、クラウドコンピューティング環境におけるまたはソフトウェアアズアサービス(SaaS)としての関連する動作の実施をサポートするように動作し得る。たとえば、動作のうちの少なくともいくつかは、(プロセッサを含むマシンの例として)コンピュータのグループによって実施され得、これらの動作は、ネットワーク(たとえば、インターネット)を介しておよび1つまたは複数の適切なインターフェース(たとえば、アプリケーションプログラムインターフェース(API))を介してアクセス可能である。 The one or more processors may also operate to support performance of related operations in a cloud computing environment or as a software-as-a-service (SaaS). For example, at least some of the operations may be performed by a group of computers (as examples of machines that include the processors), and these operations are accessible over a network (e.g., the Internet) and via one or more suitable interfaces (e.g., application program interfaces (APIs)).
本開示を読めば、当業者は、ナビゲーションにおいて双方向ランドマークを使用するためのシステムについてのさらに追加の代替的な構造的および機能的設計を諒解されよう。このように、特定の実施形態および適用例が示され、説明されてきたが、開示される実施形態は本明細書で開示される正確な構造および構成要素に限定されないことを理解されたい。当業者には明らかであろう様々な修正、変更および変形は、添付の特許請求の範囲に定義された趣旨および範囲から逸脱することなく、構成、動作、ならびに本明細書で開示される方法および装置の詳細において行われ得る。 After reading this disclosure, those skilled in the art will appreciate further alternative structural and functional designs for a system for using bidirectional landmarks in navigation. Thus, while specific embodiments and applications have been shown and described, it should be understood that the disclosed embodiments are not limited to the precise structure and components disclosed herein. Various modifications, changes and variations that will be apparent to those skilled in the art may be made in the configuration, operation, and details of the methods and apparatus disclosed herein without departing from the spirit and scope as defined in the appended claims.
10 環境
12 クライアントデバイス
14 サーバデバイス
16 通信ネットワーク、ネットワーク
22 処理モジュール
24 メモリ
26 地理的アプリケーション
27 相乗りアプリケーション
28 ユーザインターフェース
30 ネットワークインターフェース
32 測位モジュール、GPSモジュール
42 ナビゲーション命令生成器、構成要素
44 双方向ランドマーク選択モジュール、構成要素
50 地図データベース
52 視覚ランドマークデータベース
54 実世界画像データベース
70 PGEパーク
72 ゴールデンゲートブリッジ
74 Walgreens(登録商標)
200 データテーブル
202 ランドマーク識別子
204 ランドマークの場所
206 ランドマークが向いている方位
208 ランドマークの大きさまたは寸法
210 ランドマークの外観のテキスト記述
212 ランドマークの名前
214 可視域
300 地図表示
302 可視域
304 ランドマーク
400 ナビゲーション表示
402 地図表示
404 ナビゲーション命令
406 Walgreens(登録商標)の看板の描写
450 ナビゲーション表示
452 地図表示
454 ナビゲーション命令
456 Walgreens(登録商標)の看板の描写
500 場所検証表示
502 要求
504 ランドマーク
506 ランドマーク
508 ユーザ制御
510 ユーザ制御
600 カメラビュー
602 ジョーのレストランの看板
700 ナビゲーション表示
702 地図表示
704 ナビゲーション命令
10. Environment
12 Client Devices
14 Server Devices
16 Communication Networks, Networks
22 Processing Module
24 Memory
26 Geographic Applications
27 Ride-sharing applications
28 User Interface
30 Network Interface
32 Positioning module, GPS module
42 Navigation Instruction Generator, Component
44 Bidirectional Landmark Selection Module, Component
50 Map Database
52 Visual Landmark Database
54 Real World Image Database
70 PGE Park
72 Golden Gate Bridge
74 Walgreens(R)
200 Data Table
202 Landmark Identifier
204 Landmark Locations
206 The direction the landmark is facing
208 Size or dimensions of landmarks
210 A text description of the appearance of the landmark
212 Landmark names
214 Visible Range
300 Map Display
302 Visible Range
304 Landmark
400 Navigation Display
402 Map display
404 Navigation Instructions
406 Walgreens® sign depiction
450 Navigation Display
452 Map Display
454 Navigation Instructions
456 Walgreens® sign depiction
500 Location verification display
502 Request
504 Landmark
506 Landmark
508 User Control
510 User Control
600 Camera Views
602 Joe's Restaurant Sign
700 Navigation Display
702 Map Display
704 Navigation Instructions
Claims (6)
1つまたは複数のプロセッサにおいて、クライアントデバイスから、前記クライアントデバイスのユーザの場所および方位の情報を受信するステップと、
前記1つまたは複数のプロセッサによって、データベースから、前記場所の情報に対応する、地理的エリア内の物理的物体に対応する複数の視覚ランドマークを取り出すステップと、
前記1つまたは複数のプロセッサによって、前記ユーザの前記場所および方位の情報に基づいて前記ユーザの視野内の前記複数の視覚ランドマークのうちの1つまたは複数を選択するステップと、
前記1つまたは複数のプロセッサによって、前記クライアントデバイスに、前記1つまたは複数の視覚ランドマークのインジケーション、および前記1つまたは複数の視覚ランドマークが前記ユーザの視野内にあることを確認するという要求を提供するステップと、
前記1つまたは複数の視覚ランドマークが前記ユーザの視野内にないというインジケーションを前記クライアントデバイスから受信したことに応答して、
前記1つまたは複数のプロセッサにおいて、視覚ランドマークを含む、前記クライアントデバイスの視野からの実世界画像を受信するステップと、
前記1つまたは複数のプロセッサによって、前記実世界画像に基づいて前記ユーザの場所および方位を判定するステップとを含むランドマークを使用してユーザの現在の場所または方位を検証するための方法。 1. A method for verifying a user's current location or orientation using landmarks, comprising:
receiving, in one or more processors, location and orientation information from a client device of a user of the client device;
retrieving, by the one or more processors, from a database, a number of visual landmarks corresponding to physical objects in a geographic area corresponding to the location information;
selecting, by the one or more processors, one or more of the plurality of visual landmarks within the user's field of view based on the location and orientation information of the user;
providing, by the one or more processors, to the client device an indication of the one or more visual landmarks and a request to confirm that the one or more visual landmarks are within a field of view of the user;
in response to receiving an indication from the client device that the one or more visual landmarks are not within a field of view of the user;
receiving, at the one or more processors, a real world image from a field of view of the client device, the real world image including visual landmarks;
and determining, by the one or more processors, a location and orientation of the user based on the real world image.
前記1つまたは複数のプロセッサによって、前記実世界画像に含まれる前記視覚ランドマークを前記データベースからの前記複数の視覚ランドマークと比較するステップと、
前記1つまたは複数のプロセッサによって、前記実世界画像において前記データベースからの前記複数の視覚ランドマークのうちの1つまたは複数を識別するステップと、
前記1つまたは複数のプロセッサによって、前記1つまたは複数の識別された視覚ランドマークの1つまたは複数の場所および前記1つまたは複数の識別された視覚ランドマークが向いている1つまたは複数の方位に基づいて前記ユーザの前記場所および方位を判定するステップとを含む、請求項1に記載のランドマークを使用してユーザの現在の場所または方位を検証するための方法。 determining a location and orientation of the user based on the real world image,
comparing, by the one or more processors, the visual landmarks in the real world image to the plurality of visual landmarks from the database;
identifying, by the one or more processors, one or more of the visual landmarks from the database in the real world image;
and determining, by the one or more processors, the location and orientation of the user based on one or more locations of the one or more identified visual landmarks and one or more orientations in which the one or more identified visual landmarks are pointing .
前記1つまたは複数のプロセッサによって、前記1つまたは複数の識別された視覚ランドマークの前記1つまたは複数の場所に基づいて、および、前記実世界画像内の前記1つまたは複数の識別された視覚ランドマークの1つまたは複数の大きさに基づいて前記場所を判定するステップと、
前記1つまたは複数のプロセッサによって、前記実世界画像内の前記1つまたは複数の識別された視覚ランドマークが、前記実世界画像のカメラビューのビューポイントに直面していることに基づいて、前記ユーザの前記方位を前記1つまたは複数の識別された視覚ランドマークが向いている前記1つまたは複数の方位とは反対の方向として判定するステップとを含む、請求項2に記載のランドマークを使用してユーザの現在の場所または方位を検証するための方法。 determining the location and orientation of the user based on one or more locations of the one or more identified visual landmarks and one or more orientations in which the one or more identified visual landmarks are oriented ;
determining, by the one or more processors, the location based on the one or more locations of the one or more identified visual landmarks and based on one or more magnitudes of the one or more identified visual landmarks in the real world image;
and determining, by the one or more processors, the orientation of the user as a direction opposite to the one or more orientations in which the one or more identified visual landmarks are facing based on the one or more identified visual landmarks in the real world image facing a viewpoint of a camera view of the real world image .
前記1つまたは複数のプロセッサによって、前記ルートに沿って前記目的地まで前記ユーザをガイドするためにナビゲーション命令を提供するステップとをさらに含む、請求項1に記載のランドマークを使用してユーザの現在の場所または方位を検証するための方法。 determining, by the one or more processors, a route to a destination from the location and heading of the user;
and providing, by the one or more processors, navigation instructions to guide the user along the route to the destination.
1つまたは複数のプロセッサと、
前記1つまたは複数のプロセッサに接続されたコンピュータ可読メモリであって、前記1つまたは複数のプロセッサにより実行されると前記コンピュータ機器に請求項１～４のいずれか一項に記載の方法を実行させる命令を記憶する、コンピュータ可読メモリと、
を備える、コンピュータ機器。 1. A computing device for verifying a user's current location or orientation using landmarks, comprising:
one or more processors;
a computer readable memory connected to said one or more processors, storing instructions which, when executed by said one or more processors, cause said computing device to perform the method according to any one of claims 1 to 4;
A computer device comprising:
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
JP2023068766A JP7485824B2 (en) | 2023-04-19 | Method, computer device, and computer readable memory for verifying a user's current location or orientation using landmarks - Patents.com |
Applications Claiming Priority (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
JP2021517803A JP7267409B2 (en) | 2019-05-24 | 2019-05-24 | Method and device for navigating two or more users to a meeting point |
PCT/US2019/033890 WO2020242434A1 (en) | 2019-05-24 | 2019-05-24 | Method and device for navigating two or more users to a meeting location |
JP2023068766A JP7485824B2 (en) | 2023-04-19 | Method, computer device, and computer readable memory for verifying a user's current location or orientation using landmarks - Patents.com |
Related Parent Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
JP2021517803A Division JP7267409B2 (en) | 2019-05-24 | 2019-05-24 | Method and device for navigating two or more users to a meeting point |
Publications (2)
Publication Number | Publication Date |
---|---|
JP2023106379A JP2023106379A (en) | 2023-08-01 |
JP7485824B2 true JP7485824B2 (en) | 2024-05-16 |
Family
ID=
Citations (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
JP2006287435A (en) | 2005-03-31 | 2006-10-19 | Pioneer Electronic Corp | Information processing apparatus, system thereof, method thereof, program thereof, and recording medium with the program recorded thereon |
JP2007150681A (en) | 2005-11-28 | 2007-06-14 | Univ Waseda | Location specifying system and location specifying method |
JP2011242207A (en) | 2010-05-17 | 2011-12-01 | Ntt Docomo Inc | Terminal locating system, mobile terminal, and terminal locating method |
JP2014009993A (en) | 2012-06-28 | 2014-01-20 | Navitime Japan Co Ltd | Information processing system, information processing device, server, terminal device, information processing method, and program |
US20160246302A1 (en) | 2014-09-03 | 2016-08-25 | Sharp Laboratories Of America, Inc. | Methods and systems for mobile-agent navigation |
Patent Citations (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
JP2006287435A (en) | 2005-03-31 | 2006-10-19 | Pioneer Electronic Corp | Information processing apparatus, system thereof, method thereof, program thereof, and recording medium with the program recorded thereon |
JP2007150681A (en) | 2005-11-28 | 2007-06-14 | Univ Waseda | Location specifying system and location specifying method |
JP2011242207A (en) | 2010-05-17 | 2011-12-01 | Ntt Docomo Inc | Terminal locating system, mobile terminal, and terminal locating method |
JP2014009993A (en) | 2012-06-28 | 2014-01-20 | Navitime Japan Co Ltd | Information processing system, information processing device, server, terminal device, information processing method, and program |
US20160246302A1 (en) | 2014-09-03 | 2016-08-25 | Sharp Laboratories Of America, Inc. | Methods and systems for mobile-agent navigation |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US11692842B2 (en) | Augmented reality maps | |
US11604077B2 (en) | Systems and method for using visual landmarks in initial navigation | |
US8660316B2 (en) | Navigating on images | |
EP4089370B1 (en) | Method and device for verifying a current location and orientation of a user using landmarks | |
JP7485824B2 (en) | Method, computer device, and computer readable memory for verifying a user's current location or orientation using landmarks - Patents.com | |
KR20230129975A (en) | Explicit signage visibility cues in driving navigation |