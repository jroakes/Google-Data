Gebiet der OffenbarungArea of the revelation
Die vorliegende Offenbarung bezieht sich allgemein auf die Lokalisierung von Mobilgeräten und konkret auf die Lokalisierung von Mobilgeräten unter Verwendung bekannter Positionen von beobachteten Sendeeinrichtungen. Unter Schutz gestellt werden und Gegenstand des Gebrauchsmusters sind dabei, entsprechend den Vorschriften des Gebrauchsmustergesetzes, lediglich Vorrichtungen wie in den beigefügten Schutzansprüchen definiert, jedoch keine Verfahren. Soweit nachfolgend in der Beschreibung gegebenenfalls auf Verfahren Bezug genommen wird, dienen diese Bezugnahmen lediglich der beispielhaften Erläuterung der in den beigefügten Schutzansprüchen unter Schutz gestellten Vorrichtung oder VorrichtungenThe present disclosure relates generally to the location of mobile devices, and more specifically to the location of mobile devices using known locations of observed transmitters. Be provided under protection and subject of the utility model are, according to the provisions of the utility model law, only devices as defined in the appended claims, but no method. Wherever in the description, if appropriate, reference is made to methods, these references are merely illustrative of the device or devices set forth in the appended claims
Hintergrundbackground
Die hierin angegebene Hintergrundbeschreibung soll den Kontext der Offenbarung allgemein darstellen. Die Arbeit der vorliegend genannten Erfinder, in dem Umfang, wie sie in diesem Hintergrundabschnitt beschrieben ist, sowie Aspekte der Beschreibung, die zum Zeitpunkt der Anmeldung sonst möglicherweise nicht als Stand der Technik eingestuft sind, werden im Rahmen der vorliegenden Offenbarung weder ausdrücklich noch stillschweigend als Stand der Technik anerkannt.The background description given herein is intended to broadly illustrate the context of the disclosure. The work of the present inventors, to the extent described in this Background section, as well as aspects of the description which may not otherwise be considered as prior art at the time of application, are hereby neither expressly nor implied in the context of the present disclosure State of the art recognized.
Heutzutage sind zahlreiche Mobilgeräte (Smartphones, Tablet-PCs usw.) in der Lage, die eigene Position unter Verwendung verschiedener Lokalisierungstechniken festzustellen. Manche Mobilgeräte sind beispielsweise mit einem GPS-Chip (Global Positioning System) ausgestattet, um die geografische Breite, Länge und die Höhe über NN des Mobilgeräts zu bestimmen, ausgehend von Signalen, die von mehreren GPS-Satelliten empfangen werden. Einige Mobilgeräte sind stattdessen (oder zusätzlich) in der Lage, die Lokalisierung unter Verwendung von Signalen von stationären oder halbstationären terrestrischen Elementen, deren Position bekannt ist, wie Mobilfunk-Infrastruktur (z. B. Funkmasten), WiFi Access Points (APs) oder „Hotspots” usw. durchzuführen. Diese Lokalisierungstechniken basierend auf stationären oder halbstationären terrestrischen Elementen können sehr hilfreich sein, wenn andere Techniken, wie GPS, nicht verfügbar sind. Signale von WiFi APs und/oder Funkmasten können zum Beispiel verwendet werden, um ein Mobilgerät zu orten, wenn sich das Mobilgerät in einem Innenraum befindet und kein GPS-Signal empfangen kann oder keinen GPS-Chip beinhaltet. Normalerweise empfängt das Mobilgerät ein Signal von einem WiFi AP oder Funkmast und fordert eine Lokalisierung vom beobachteten AP oder Funkmast über einen Lokalisierungsanbieter, wie z. B. Google, Apple oder Skyhook, an. Anforderungen werden normalerweise an den Lokalisierungsanbieter geschickt, weil die Gesamtheit der Lokalisierungen aller möglichen Sender zu groß wäre für typische Mobilgeräte und wegen der ständigen Änderungen wäre es schwierig, die Daten auf dem letzten Stand zu halten.Today, many mobile devices (smart phones, tablet PCs, etc.) are able to determine their own position using various localization techniques. For example, some mobile devices are equipped with a Global Positioning System (GPS) chip to determine the latitude, longitude, and elevation above the NN of the mobile device, based on signals received from multiple GPS satellites. Some mobile devices are instead (or additionally) capable of localization using signals from stationary or semi-stationary terrestrial elements whose location is known, such as cellular infrastructure (e.g., radio towers), WiFi access points (APs), or " Hotspots "etc. to perform. These localization techniques based on stationary or semi-stationary terrestrial elements can be very helpful when other techniques such as GPS are not available. For example, signals from WiFi APs and / or tower masts may be used to locate a mobile device when the mobile device is located in an interior and can not receive GPS signal or does not include a GPS chip. Typically, the mobile receives a signal from a WiFi AP or radio mast, and requests localization from the observed AP or radio mast via a location provider, such as a mobile phone. Google, Apple or Skyhook. Requests are typically sent to the localization provider because the totality of the locations of all possible senders would be too large for typical mobile devices, and because of the constant changes, it would be difficult to keep the data up to date.
Das Vertrauen auf stationäre oder halbstationäre terrestrische Elemente, wie Funkmasten oder WiFi APs, um ein Mobilgerät zu lokalisieren, weist jedoch verschiedene Nachteile auf. Funkmasten können beispielsweise in bestimmten Gegenden weit voneinander entfernt sein, was die genaue Positionsbestimmung schwierig macht. Funkmasten können auch ein oder mehrere Male pro Jahr verlegt werden (z. B. können die Identifikatoren von Funkmasten in einer bestimmten Gegend neu kartiert werden), was dazu führen kann, dass ein Lokalisierungsanbieter falsche Lokalisierungen liefert, bis die Funkmastpositionen in einer Datenbank aktualisiert sind. Während WiFi APs zwar in geringeren Abständen positioniert sein können als Funkmasten, werden die Positionen von APs mitunter jedoch öfter verändert als bei Funkmasten. Für APs, deren Position oft verändert wird (z. B. APs, die bei Konferenzen oder anderen temporären Veranstaltungen verwendet werden), kann die Pflege einer aktuellen Datenbank besonders schwierig sein. Zusätzlich verhindern einige AP-Eigentümer aus Datenschutzgründen die Verwendung ihrer APs für die Lokalisierung von Mobilgeräten.However, reliance on stationary or semi-stationary terrestrial elements such as radio masts or WiFi APs to locate a mobile device has several disadvantages. For example, radio masts may be far apart in certain areas, making accurate location determination difficult. Radio masts may also be relocated one or more times per year (eg, mappings identifiers may be remapped in a particular area), which may result in a location provider supplying false localizations until the mast positions in a database are updated , While WiFi APs may be positioned closer than radio masts, the positions of APs are sometimes altered more often than radio masts. For APs whose position is often changed (for example, APs used at conferences or other temporary events), maintaining a current database can be particularly difficult. Additionally, some AP owners prevent the use of their APs for mobile device localization for privacy reasons.
ZusammenfassungSummary
In einer exemplarischen Implementierung beinhaltet ein Verfahren in einem Mobilgerät den Empfang eines oder mehrerer Sätze von Signalen von einer oder mehreren Sendeeinrichtungen über eine Netzwerkschnittstelle des Mobilgeräts, das Generieren eines Satzes oder mehrerer Sätze von Signalmetriken basierend auf einem oder mehreren empfangenen Signalsätzen, und den Empfang einer oder mehrerer angegebenen Lokalisierungen, wobei jede angegebene Lokalisierung dem einen Satz oder einem der mehreren Sätze der Signalmetriken zugeordnet ist. Das Verfahren beinhaltet auch die Bereitstellung von lokalisierungsspezifischen Informationen an die Lokalisierungs-Engine einer Sendeeinrichtung, um die geschätzten Lokalisierungen der einen oder mehrerer Sendeeinrichtungen festzustellen, wenn die lokalisierungsspezifischen Daten beinhalten, die einen Satz oder mehrere Sätze Signalmetriken repräsentieren und Daten, die eine oder mehrere angegebene Lokalisierungen repräsentieren, sowie den Empfang einer Angabe eines oder mehrerer Mitbenutzungskriterien über eine Benutzerschnittstelle des Mobilgeräts, und die Veranlassung, dass die geschätzten Lokalisierungen selektiv mit einem oder mehreren anderen Mobilgeräten basierend auf dem einen oder mehreren Mitbenutzungskriterien geteilt werden. In verschiedenen Ausführungsformen beinhaltet der Empfang der Angabe von einem oder mehreren Mitbenutzungskriterien den Empfang einer Angabe von einem oder mehreren Mitgliedern in einem sozialen Netzwerk und/oder den Empfang einer Angabe von einem oder mehreren Mitgliedern einer Organisation.In an exemplary implementation, a method in a mobile device includes receiving one or more sets of signals from one or more transmitting devices via a network interface of the mobile device, generating a set or sets of signal metrics based on one or more received signal sets, and receiving a or multiple specified locations, where each specified location is associated with the one or more sets of signal metrics. The method also includes providing location-specific information to the locator engine of a transmitting device to determine the estimated locations of the one or more transmitting devices when the location-specific data represents one or more sets of signal metrics and data indicating one or more Represent localizations, as well as receiving an indication of one or more sharing criteria via a user interface of the mobile device, and causing the estimated locations to selectively connect to one or more other mobile devices based on the one or more sharing criteria to be shared. In various embodiments, receiving the indication of one or more sharing criteria includes receiving an indication from one or more members in a social network and / or receiving an indication from one or more members of an organization.
Gemäß einer anderen exemplarischen Implementierung beinhaltet ein System, das eine private Lokalisierungsdatenbank erstellt und teilt, ein erstes Mobilgerät, das einem ersten Benutzer zugeordnet ist, ein computerlesbares Medium, das einen Datensatz mit einer Servicekonfiguration, die spezifisch für den ersten Benutzer ist, speichert und ein zweites Mobilgerät, das dem zweiten Benutzer zugeordnet ist. Das erste Mobilgerät ist dafür konfiguriert, lokalisierungsspezifische Informationen, die einer oder mehreren Sendeeinrichtungen entsprechen, zu sammeln und die Generierung einer privaten Lokalisierungsdatenbank basierend auf den gesammelten lokalisierungsspezifischen Informationen zu veranlassen. In verschiedenen Ausführungsformen beinhalten die lokalisierungsspezifischen Informationen manuell eingegebene Angaben von Lokalisierungen der einen oder mehrerer Sendeeinrichtungen, manuell eingegebene Angaben von Lokalisierungen des ersten Mobilgeräts, und/oder Signalmetriken, die drahtlosen Signalen entsprechen, die von einer oder mehreren Sendeeinrichtungen empfangen wurden. Der Datensatz beinhaltet eine Servicekonfiguration, die spezifisch für den ersten Benutzer ist, sodass die Servicekonfiguration die private Lokalisierungsdatenbank entweder einem zweiten Benutzer oder einer zweiten Gruppe, in der der zweite Benutzer ein Mitglied ist, zuordnet. Das zweite Mobilgerät ist dafür konfiguriert, eine Lokalisierung des zweiten Mobilgeräts zu veranlassen, die unter Verwendung der privaten Lokalisierungsdatenbank ermittelt wird, wobei die private Lokalisierungsdatenbank als Reaktion auf die Zuordnung der privaten Lokalisierungsdatenbank zu dem zweiten Benutzer oder der zweiten Gruppe in der Servicekonfiguration verwendet wird.According to another exemplary implementation, a system that creates and shares a private location database includes a first mobile device associated with a first user, a computer-readable medium that stores and stores a data set having a service configuration that is specific to the first user second mobile device associated with the second user. The first mobile device is configured to collect location-specific information corresponding to one or more transmitting devices and to cause the generation of a private localization database based on the collected location-specific information. In various embodiments, the location-specific information includes manually input information of locations of the one or more transmission devices, manually input information of locations of the first mobile device, and / or signal metrics corresponding to wireless signals received from one or more transmission devices. The record includes a service configuration that is specific to the first user such that the service configuration maps the private location database to either a second user or a second group to which the second user is a member. The second mobile device is configured to cause a location of the second mobile device that is determined using the private location database, wherein the private location database is used in response to the mapping of the private location database to the second user or group in the service configuration.
In einer anderen exemplarischen Implementierung beinhaltet ein Verfahren in einem Mobilgerät das Abfragen des Indikators einer privaten Lokalisierungsdatenbank, die einer privaten Lokalisierungsdatenbank entspricht, die die Lokalisierungen der Sendeeinrichtung speichert und ein oder mehrere Signale von einer oder mehreren Sendeeinrichtungen empfängt, wobei das eine oder die mehreren Signale einen oder mehrere Identifikatoren beinhalten, die einer oder mehreren Sendeeinrichtungen entsprechen, die eine oder mehrere Signalmetriken basierend auf dem einen oder den mehreren empfangenen Signalen generiert, unter Verwendung des Indikators der privaten Lokalisierungsdatenbank Zugriff auf die privaten Lokalisierungsdatenbank erlangt, und unter Verwendung der Lokalisierungsinformationen, die in der privaten Lokalisierungsdatenbank gespeichert sind und der generierten einen oder mehreren Signalmetriken eine Lokalisierung des Mobilgeräts durchführt. In einer Ausführungsform wird der Indikator der privaten Lokalisierungsdatenbank durch das Lesen eines QR-Codes, eines Strichcodes oder durch manuelle Eingabe eines Codes durch einen Benutzer ermittelt. Zusätzlich erfolgt in einer Ausführungsform der Zugriff auf die private Lokalisierungsdatenbank durch Übertragung des Indikators der privaten Lokalisierungsdatenbank auf einen Server eines Systems des Lokalisierungsanbieters.In another exemplary implementation, a method in a mobile device includes querying the indicator of a private location database corresponding to a private location database storing the locations of the transmitter and receiving one or more signals from one or more transmitters, the one or more signals include one or more identifiers corresponding to one or more transmitting devices that generates one or more signal metrics based on the one or more received signals, accesses the private localization database using the private localization database indicator, and using the location information stored in the private location database and the generated one or more signal metrics performs a localization of the mobile device. In one embodiment, the private location database indicator is determined by reading a QR code, a bar code, or manually entering a code by a user. In addition, in one embodiment, access to the private localization database is made by transmitting the private localization database indicator to a server of a localization provider's system.
In einer anderen exemplarischen Implementierung werden die Befehle für den Zugriff auf Lokalisierungsinformationen, die einer Vielzahl von Sendeeinrichtungen entsprechen, auf einem physischen und nicht vorübergehenden computerlesbaren Datenspeichermedium gespeichert. Wenn die Befehle durch einen oder mehrere Prozessoren eines Systems des Lokalisierungsanbieters ausgeführt werden, veranlasst der eine oder die mehreren Prozessoren, dass eine Vielzahl von Identifikatoren von einem Mobilgerät empfangen werden, wobei jeder Identifikator einer aus einer Vielzahl an Sendeeinrichtungen entspricht, und wo die Vielzahl der Identifikatoren zumindest einen ersten Identifikator und einen zweiten Identifikator beinhaltet. Die Befehle bewirken des Weiteren, dass der eine oder mehrere Prozessoren eine erste geschätzte Lokalisierung von einer Master-Lokalisierungsdatenbank empfängt, wobei die erste geschätzte Lokalisierung dem ersten Identifikator entspricht. Des Weiteren bewirken die Befehle, dass der eine oder mehrere Prozessoren ermitteln, ob Lokalisierungsinformationen, die in einer privaten Lokalisierungsdatenbank gespeichert sind, mit dem Mobilgerät geteilt werden können und, als Antwort auf die Feststellung, dass die Lokalisierungsinformationen, die in der privaten Lokalisierungsdatenbank gespeichert sind, mit dem Mobilgerät geteilt werden können, bewirkt, dass eine zweite geschätzte Lokalisierung von der privaten Lokalisierungsdatenbank abgefragt wird, wobei die zweite geschätzte Lokalisierung dem zweiten Identifikator entspricht. In verschiedenen Ausführungsformen beinhaltet das Feststellen, ob das eine Mitbenutzungskriterium oder die mehreren Mitbenutzungskriterien erfüllt sind, die Feststellung, ob ein Benutzer des Mobilgeräts in einem bestimmten sozialen Netzwerk Mitglied ist, ob ein Benutzer des Mobilgeräts einer bestimmten Organisation angehört, ob das Mobilgerät einem bestimmten Identifikator zugeordnet ist und/oder ob das Mobilgerät einem bestimmten Code zugeordnet ist. Des Weiteren veranlassen die Befehle auch, dass eine Lokalisierung des Mobilgeräts basierend auf zumindest der ersten geschätzten Lokalisierung und der zweiten geschätzten Lokalisierung ermittelt wird.In another exemplary implementation, the instructions for accessing location information corresponding to a plurality of transmitting devices are stored on a physical and non-transitory computer-readable data storage medium. When the instructions are executed by one or more processors of a system of the location provider, the one or more processors cause a plurality of identifiers to be received from a mobile device, each identifier corresponding to one of a plurality of transmitters, and where the plurality of Identifiers includes at least a first identifier and a second identifier. The instructions further cause the one or more processors to receive a first estimated location from a master location database, the first estimated location corresponding to the first identifier. Further, the instructions cause the one or more processors to determine whether location information stored in a private location database can be shared with the mobile device and, in response to the determination, that the location information stored in the private location database that can be shared with the mobile device causes a second estimated location to be retrieved from the private location database, the second estimated location corresponding to the second identifier. In various embodiments, determining whether the one sharing criterion or criteria is met, determining whether a user of the mobile device is a member of a particular social network, whether a user of the mobile device belongs to a particular organization, includes whether the mobile device belongs to a particular identifier is assigned and / or whether the mobile device is assigned to a specific code. Furthermore, the instructions also cause a location of the mobile device to be determined based on at least the first estimated location and the second estimated location.
Kurzbeschreibung der Zeichnungen Brief description of the drawings
1 ist ein Blockdiagramm eines Beispielsystems, in dem Beispieltechniken für die Erstellung oder Aktualisierung einer privaten Lokalisierungsdatenbank verwendet werden; 1 Figure 10 is a block diagram of an example system using example techniques for creating or updating a private location database;
2 ist ein Flussdiagramm eines Beispielverfahrens für das Sammeln von Informationen für eine private Lokalisierungsdatenbank, die in das Mobilgerät im Beispielsystem von 1 implementiert sein kann; 2 FIG. 10 is a flowchart of an example method for collecting information for a private localization database included in the mobile device in the example system of FIG 1 can be implemented;
3 ist ein Blockdiagramm des Beispielsystems von 1 für ein Beispielszenario, in dem Beispieltechniken für die Verwendung einer privaten Lokalisierungsdatenbank verwendet werden; und 3 is a block diagram of the example system of 1 for an example scenario, using example techniques for using a private localization database; and
4 ist ein Flussdiagramm eines Beispielverfahrens für die Lokalisierung eines Mobilgeräts unter Verwendung mehrerer Lokalisierungsdatenbanken, die in das System des Lokalisierungsanbieters im Beispielsystem von 3 implementiert sein können. 4 FIG. 10 is a flow chart of an example method for locating a mobile device using multiple localization databases included in the system of the location provider in the example system of FIG 3 can be implemented.
Detaillierte BeschreibungDetailed description
In Ausführungsformen, die weiter unten beschrieben sind, kann eine private Lokalisierungsdatenbank, die Lokalisierungen von WiFi Access Points (APs) und/oder anderen Sendeeinrichtungen speichert, erstellt und von Mobilgerätbenutzern selektiv geteilt werden. Ein Mobilgerätbenutzer mit Zugriff auf die private Lokalisierungsdatenbank kann Lokalisierungen, die in der Datenbank gespeichert sind, verwenden, um eine Master-Lokalisierungsdatenbank eines Lokalisierungsanbieters, die veraltete und/oder unvollständige Lokalisierungsdaten beinhalten kann, zu erweitern. Der Zugriff auf die private Lokalisierungsdatenbank kann auf verschiedene Arten beschränkt werden, zum Beispiel kann er auf Mobilgerätbenutzer, die Mitglied einer bestimmten Organisation oder von sozialen Netzwerken, die von einem Eigentümer der privaten Lokalisierungsdatenbank angegeben werden, sind, oder auf Mobilgerätbenutzer, die einen bestimmten Code gescannt haben usw. beschränkt werden.In embodiments described below, a private location database storing locations of WiFi access points (APs) and / or other broadcast facilities may be created and selectively shared by mobile users. A mobile device user with access to the private localization database may use localizations stored in the database to augment a master localization database of a localization provider, which may include outdated and / or incomplete localization data. Access to the private localization database can be restricted in a number of ways, for example, to mobile device users who are members of a particular organization or social networks specified by a private localization database owner, or to mobile device users who have specific code be scanned, and so on.
1 ist ein Blockdiagramm eines Beispielsystems 100, in dem Beispieltechniken für die Erstellung oder Aktualisierung einer privaten Lokalisierungsdatenbank angewendet werden. Das System 100 beinhaltet ein System des Lokalisierungsanbieters 110, das mit einem Mobilgerät 112 über ein Kommunikationsnetzwerk 114 verbunden ist. Das System des Lokalisierungsanbieters 110 beinhaltet einen oder mehrere Computer (z. B. Server) und kann sich an einer Position befinden oder über mehrere Positionen verteilt sein. Das Mobilgerät 112 kann beispielsweise ein Smartphone oder ein Tablet-PC sein. Das Kommunikationsnetzwerk 114 beinhaltet eines oder mehrere Teilnetzwerke, darunter zumindest ein drahtloses Netzwerk. Das Kommunikationsnetzwerk 114 kann zum Beispiel sowohl ein zellulares Netzwerk (z. B. einschließlich Funkmasten usw.) als auch ein verdrahtetes oder drahtloses lokales Ethernet-Netzwerk (z. B. einschließlich Routen, Brücken usw.) beinhalten. 1 is a block diagram of an example system 100 which uses sample techniques to create or update a private localization database. The system 100 includes a system of the localization provider 110 that with a mobile device 112 over a communication network 114 connected is. The system of the localization provider 110 includes one or more computers (eg servers) and may be in one location or distributed across multiple locations. The mobile device 112 may be, for example, a smartphone or a tablet PC. The communication network 114 includes one or more subnetworks, including at least one wireless network. The communication network 114 For example, it may include both a cellular network (eg, including radio towers, etc.) and a wired or wireless local Ethernet network (eg, including routes, bridges, etc.).
In der Nähe von Mobilgerät 112 sind drei APs 120 (z. B. WiFi APs). Ein erster AP 120A ist einem ersten Basic Service Set Identifier (BSSID1) zugeordnet, ein zweiter AP 120B einem zweiten Basic Service Set Identifier (BSSID2) zugeordnet, und ein dritter AP 120C einem dritten Basic Service Set Identifier (BSSID3) zugeordnet. Jeder BSSID ist eine MAC-Adresse, die mit dem entsprechenden AP der APs 120 verbunden ist. Die APs 120 können in einem bestimmten Gebäude oder in einem geographischen Gebiet verteilt sein (z. B. ein Konferenzzentrum, ein Campus usw.). Jede AP 120 beinhaltet zumindest eine Antenne 122 für die Übertragung von Signalen. Für einige oder alle APs 120 kann die Antenne 122 auch für den Empfang von Signalen verwendet werden. Während 1 drei APs 120 zeigt, können andere Ausführungsformen oder Szenarien mehr oder weniger als drei APs 120 beinhalten.Near mobile device 112 are three APs 120 (eg WiFi APs). A first AP 120A is assigned to a first Basic Service Set Identifier (BSSID1), a second AP 120B assigned to a second Basic Service Set Identifier (BSSID2), and a third AP 120C assigned to a third Basic Service Set Identifier (BSSID3). Each BSSID is a MAC address associated with the corresponding AP of the APs 120 connected is. The APs 120 may be distributed in a specific building or in a geographical area (eg a conference center, a campus, etc.). Every AP 120 includes at least one antenna 122 for the transmission of signals. For some or all APs 120 can the antenna 122 also be used for the reception of signals. While 1 three APs 120 For example, other embodiments or scenarios may have more or less than three APs 120 include.
Mobilgerät 112 beinhaltet eine Netzwerkschnittstelle 130, eine Benutzerschnittstelle 132, eine Engine der privaten Lokalisierungsdatenbank (PLD) 134 und zumindest eine Antenne 138. In einer Ausführungsform ist das Mobilgerät 112 so konfiguriert, dass es in zumindest zwei unterschiedlichen drahtlosen Kommunikationsnetzwerken, die zumindest zwei unterschiedliche Kommunikationsprotokolle verwenden, funktioniert. Ein erstes Kommunikationsprotokoll wird zur Kommunikation über ein erstes Kommunikationsnetz verwendet und ein zweites Kommunikationsprotokoll wird zur Kommunikation über ein zweites Kommunikationsnetz verwendet. In der Ausführungsform, die in 1 dargestellt ist, kann das erste Kommunikationsnetzwerk zum Beispiel ein zellulares Netzwerk sein, das in einem Kommunikationsnetzwerk 114 enthalten ist, und das zweite Kommunikationsnetzwerk kann ein Netzwerk mit kürzerer Reichweite (z. B. ein WiFi-Netzwerk) sein, das das Mobilgerät 112 und APs 120 aber kein Kommunikationsnetzwerk 114 beinhaltet. Die Antenne 138 des Mobilgeräts 112 wird für die Kommunikation in das zweite (z. B. WiFi) Kommunikationsnetzwerk verwendet. In einigen Ausführungsformen wird die Antenne 138 auch für die Kommunikation in das erste (z. B. zellulare) Kommunikationsnetzwerk verwendet. In anderen Ausführungsformen werden eine oder mehrere andere Antennen (nicht dargestellt) für die Kommunikation im ersten Kommunikationsnetzwerk verwendet. In einigen Ausführungsformen ist das Mobilgerät 112 zusätzlich dafür konfiguriert, dass ein oder mehrere Lokalisierungsgeräte (z. B. GPS), die nicht die hierin beschriebenen Lokalisierungstechniken verwenden, benützt werden.mobile device 112 includes a network interface 130 , a user interface 132 , a private localization database engine (PLD) 134 and at least one antenna 138 , In one embodiment, the mobile device is 112 configured to function in at least two different wireless communication networks using at least two different communication protocols. A first communication protocol is used for communication over a first communication network, and a second communication protocol is used for communication over a second communication network. In the embodiment which is in 1 For example, the first communication network may be a cellular network operating in a communication network 114 and the second communication network may be a shorter range network (eg, a WiFi network) that is the mobile device 112 and APs 120 but no communication network 114 includes. The antenna 138 of the mobile device 112 is used for communication in the second (eg WiFi) communication network. In some embodiments, the antenna becomes 138 also used for communication in the first (eg cellular) communication network. In other embodiments, one or more other antennas (not shown) are used for communication in the first communication network. In some embodiments, the mobile device is 112 additionally configured to use one or more localization devices (such as GPS) that are not the ones described herein using localization techniques described.
Die Netzwerkschnittstelle 130 von Mobilgerät 112 beinhaltet Hardware und/oder Software, die so konfiguriert ist, dass sie (über Antenne 138) Signale empfangen kann, die von APs 120 (über Antennen 122) übertragen wurden, gemäß dem zweiten (z. B. WiFi) Protokoll, und das empfangene Signal (oder vom empfangenen Signal abgeleitete Daten) an andere Teile des Mobilgeräts 112 (z. B. an verschiedene Engines im Mobilgerät 112) weiterleitet. In einigen Ausführungsformen ist die Netzwerkschnittstelle 130 auch dafür konfiguriert, Signale über die Antenne 138 (z. B. für den Empfang von einem beliebigen AP 120) zu übertragen. Die Netzwerkschnittstelle 130 kann auch dafür konfiguriert werden, Signale über das erste (z. B. zellulare) Kommunikationsnetzwerk zu übertragen und zu empfangen. Alternativ dazu kann das Mobilgerät 112 eine andere, von der Netzwerkschnittstelle 130 unabhängige, Netzwerkschnittstelle (nicht in 1 dargestellt) enthalten, die dafür konfiguriert ist, Signale über das erste Kommunikationsnetzwerk zu übertragen und zu empfangen.The network interface 130 from mobile device 112 includes hardware and / or software that is configured to work (via antenna 138 ) Can receive signals from APs 120 (via antennas 122 ), according to the second (eg WiFi) protocol, and the received signal (or data derived from the received signal) to other parts of the mobile device 112 (For example, to different engines in the mobile device 112 ). In some embodiments, the network interface is 130 also configured to receive signals through the antenna 138 (eg for receiving from any AP 120 ) transferred to. The network interface 130 may also be configured to transmit and receive signals over the first (eg, cellular) communication network. Alternatively, the mobile device 112 another, from the network interface 130 independent, network interface (not in 1 shown) configured to transmit and receive signals over the first communication network.
Die Benutzerschnittstelle 132 des Mobilgeräts 112 beinhaltet Hardware und/oder Software, die so konfiguriert ist, dass sie manuelle Eingaben von einem Benutzer des Mobilgeräts 112 empfangen und wahrnehmbare Ausgaben für diesen liefern kann. Die Benutzerschnittstelle 132 kann zum Beispiel veranlassen, dass dem Benutzer eine graphische Benutzeroberfläche (GUI) angezeigt wird (z. B. über ein Touchscreen-Display des Mobilgeräts 112) und/oder Daten empfangen, die eine Tastatur anzeigen und/oder Touchscreen-Eingaben empfangen, die manuell von einem Benutzer eingegeben wurden.The user interface 132 of the mobile device 112 includes hardware and / or software configured to receive manual input from a user of the mobile device 112 receive and deliver perceptible expenses for this. The user interface 132 For example, it may cause the user to be presented with a graphical user interface (GUI) (eg, via a touchscreen display of the mobile device 112 ) and / or receive data indicative of a keyboard and / or receive touch screen inputs manually entered by a user.
Die Engine der privaten Lokalisierungsdatenbank 134 beinhaltet Softwarebefehle, die in einem computerlesbaren Medium gespeichert und so konfiguriert sind, dass sie durch einen oder mehrere Prozessoren im Mobilgerät 112 ausgeführt werden. In der Ausführungsform, die in 1 dargestellt ist, ist die Engine der privaten Lokalisierungsdatenbank 134 eine Anwendung, ein Plug-in, ein Script oder eine andere Softwarekomponente, die vom Server der Lokalisierungsanwendung 140 heruntergeladen wird oder auf die über den Server zugegriffen wird. Das Mobilgerät 112 kann auf den Server der Lokalisierunganwendung 140 direkt oder zum Beispiel über das System des Lokalisierungsanbieters 110 zugreifen. Alternativ dazu kann die Engine der privaten Lokalisierungsdatenbank 134 Softwarebefehle einer Softwarekomponente, die in einem Mobilgerät 112 installiert war, bevor das Mobilgerät 112 von einem Benutzer gekauft wurde, beinhalten. In verschiedenen anderen Ausführungsformen beinhaltet die Engine der privaten Lokalisierungsdatenbank 134 Hardware, Firmware oder eine Kombination von Software, Hardware und/oder Firmware. In einer alternativen Ausführungsform ist der Server der Lokalisierungsanwendung 140 ein Teil des Systems des Lokalisierungsanbieters 110. Die Engine der privaten Lokalisierungsdatenbank 134 ist im allgemeinen so konfiguriert, dass sie Informationen für die Erstellung und/oder Aktualisierung einer privaten Lokalisierungsdatenbank 142, die in der in 1 dargestellten Ausführungsform mit dem System des Lokalisierungsanbieters 110 gekoppelt ist, sammelt. Die Erstellung oder Aktualisierung der privaten Lokalisierungsdatenbank 142 unter Verwendung der Engine der privaten Lokalisierungsdatenbank 134 wird weiter unten in Bezugnahme auf 1 genauer erörtert. Sobald sie erstellt ist, kann die private Lokalisierungsdatenbank 142 von einem oder mehreren Mobilgeräten, die versuchen, sich selbst zu lokalisieren (z. B. von einem Mobilgerät des Eigentümers der privaten Lokalisierungsdatenbank 142 und/oder durch Mobilgeräte von Benutzern, mit denen die private Lokalisierungsdatenbank 142 geteilt wurde) verwendet werden, wie weiter unten in Bezugnahme auf 3. detaillierter beschrieben ist. In einigen Ausführungsformen kann das Mobilgerät 112 selbst die private Lokalisierungsdatenbank 142 verwenden, um sich selbst zu lokalisieren, wenn die Datenbank 142 erzeugt ist.The engine of the private localization database 134 includes software instructions stored in a computer readable medium and configured to be accessed by one or more processors in the mobile device 112 be executed. In the embodiment which is in 1 is the engine of the private localization database 134 an application, plug-in, script, or other software component that comes from the localization application server 140 downloaded or accessed through the server. The mobile device 112 can be on the server of the localization application 140 directly or for example via the system of the localization provider 110 access. Alternatively, the engine may be the private localization database 134 Software commands of a software component operating in a mobile device 112 was installed before the mobile device 112 purchased by a user. In various other embodiments, the engine includes the private location database 134 Hardware, firmware or a combination of software, hardware and / or firmware. In an alternative embodiment, the server is the localization application 140 a part of the system of the localization provider 110 , The engine of the private localization database 134 is generally configured to provide information for creating and / or updating a private localization database 142 in the in 1 illustrated embodiment with the system of the localization provider 110 is coupled collects. Creation or update of the private localization database 142 using the private localization database engine 134 will refer to below 1 discussed in more detail. Once created, the private localization database can 142 of one or more mobile devices attempting to locate themselves (eg, from a mobile device of the owner of the private localization database 142 and / or by mobile devices of users with whom the private localization database 142 shared), as discussed below 3 , is described in more detail. In some embodiments, the mobile device may 112 even the private localization database 142 use to locate yourself when the database 142 is generated.
Das System des Lokalisierungsanbieters 110 beinhaltet eine AP-Lokalisierungs-Engine 150 und eine Schnittstellen-Engine der Lokalisierungsdatenbank 152. Die Schnittstellen-Engine der Lokalisierungsdatenbank 152 beinhaltet eine Sharing-Engine 154 und eine Merging Engine 156, die weiter unten in Bezugnahme auf 3 erörtert werden. Das System des Lokalisierungsanbieters 110 ist mit der privaten Lokalisierungsdatenbank 142, einer Sharing-Datenbank 157 und einer Master-Lokalisierungsdatenbank 158 gekoppelt. Sowohl die private Lokalisierungsdatenbank 142 als auch die Master-Lokalisierungsdatenbank 158 speichern Informationen zur Identifikation (z. B. BSSIDs) und Lokalisierungsinformationen (z. B. geschätzte Lokalisierungen), die unterschiedlichen Sendeeinrichtung (z. B. APs und/oder Funkmasten) entsprechen. Während die Master-Lokalisierungsdatenbank 158 allgemein für alle Mobilgeräte, die vom System des Lokalisierungsanbieters 110 bedient werden, zugänglich ist, ist der Zugriff auf die private Lokalisierungsdatenbank 142 beschränkt. Lokalisierungen in der privaten Lokalisierungsdatenbank 142 können zum Beispiel nur einer ausgewählten Gruppe einer oder mehrerer Eignergesellschaften (und/oder einem oder mehreren Mobilgeräten), die der privaten Lokalisierungsdatenbank 142 zugeordnet sind, zugänglich sein, während Lokalisierungen in der Master-Lokalisierungsdatenbank 158 für jedes Unternehmen und/oder Mobilgerät, das die Lokalisierungsdienste eines Lokalisierungsanbieters (z. B. eines Lokalisierungsanbieters, der mit dem System des Lokalisierungsanbieters 110 verbunden ist) verwendet, allgemein zugänglich sind. Als ein weiteres Beispiel können Lokalisierungen in der privaten Lokalisierungsdatenbank 142 für jedes Mobilgerät, das einem bestimmten Identifikator (oder einem Identifikator einer bestimmten Gruppe von Identifikatoren) zugeordnet ist, zugänglich sein, aber für andere Mobilgeräte, die nicht dem/den Identifikator(en) zugeordnet sind, nicht zugänglich sein (oder, alternativ dazu, für die anderen Mobilgeräte nicht zugänglich sein, wenn nicht ein oder mehrere Mitbenutzungskriterien erfüllt sind, wie weiter unten näher ausgeführt ist). In einigen Ausführungsformen und/oder Szenarien ist das System des Lokalisierungsanbieters 110 gekoppelt mit mehr als einer privaten Lokalisierungsdatenbank vergleichbar mit der privaten Lokalisierungsdatenbank 142, wobei jede private Lokalisierungsdatenbank einem anderen Eigentümer oder einer Gruppe von Eigentümern (und/oder anderen Mobilgeräten) zugeordnet ist.The system of the localization provider 110 includes an AP localization engine 150 and an interface engine of the localization database 152 , The interface engine of the localization database 152 includes a sharing engine 154 and a merging engine 156 Referenced below 3 be discussed. The system of the localization provider 110 is with the private localization database 142 , a sharing database 157 and a master localization database 158 coupled. Both the private localization database 142 as well as the master localization database 158 store identification information (eg, BSSIDs) and location information (eg, estimated locations) corresponding to different broadcast devices (eg, APs and / or radio masts). While the master localization database 158 generally for all mobile devices used by the localization provider's system 110 is accessible, is the access to the private localization database 142 limited. Localizations in the private localization database 142 For example, only a selected group of one or more owner companies (and / or one or more mobile devices) may own the private localization database 142 be accessible while localizing in the master localization database 158 for any company and / or mobile device that owns the localization services of a localization provider (for example, a localization provider using the localization provider's system) 110 connected) are commonly available. As a another example may be localizations in the private localization database 142 be accessible to any mobile device associated with a particular identifier (or an identifier of a particular group of identifiers), but inaccessible to other mobile devices that are not associated with the identifier (s) (or, alternatively, not accessible to the other mobile devices unless one or more sharing criteria are met, as further explained below). In some embodiments and / or scenarios, the system is the localization provider's system 110 coupled with more than one private localization database comparable to the private localization database 142 where each private localization database is associated with a different owner or group of owners (and / or other mobile devices).
In einigen Ausführungsformen speichert die private Lokalisierungsdatenbank 142 Daten, die nicht direkt die Lokalisierungen der Sendeeinrichtung (z. B. AP) repräsentieren, die aber dennoch für die Lokalisierung eines Mobilgeräts verwendet werden können. Die private Lokalisierungsdatenbank 142 kann zum Beispiel innerhalb von Systemen verwendet werden, die Mobilgeräte basierend auf den „Fingerabdrücken” der Sendeeinrichtung lokalisieren. In einigen solchen Systemen betrachten die Mobilgeräte zum Beispiel eine Kombination aus den empfangenen Identifikatoren der Sendeeinrichtung (z. B. BSSIDs von APs) und den Signalstärken gemeinsam als Fingerabdrücke der aktuellen Lokalisierung des Mobilgeräts. In solchen Ausführungsformen kann die private Lokalisierungsdatenbank 142 anderen Content speichern als die Lokalisierungen der Sendeeinrichtung.In some embodiments, the private location database stores 142 Data that does not directly represent the locations of the sending device (eg, AP), but that can still be used to locate a mobile device. The private localization database 142 For example, it may be used within systems that locate mobile devices based on the "fingerprints" of the sending device. In some such systems, for example, the mobile devices consider a combination of the received transmitter identifiers (e.g., BSSIDs of APs) and the signal strengths collectively as fingerprints of the current location of the mobile device. In such embodiments, the private location database may 142 save other content than the localizations of the transmitting device.
Während die private Lokalisierungsdatenbank 142 von Beispielsystem 100 mit dem System des Lokalisierungsanbieters 110 gekoppelt ist, ist in verschiedenen anderen Ausführungsformen die private Lokalisierungsdatenbank 142 dagegen im System des Lokalisierungsanbieters 110, im Mobilgerät 112 oder in einem Server eines Fremdbetreibers, der vom System des Lokalisierungsanbieters 110 und dem Mobilgerät 112 entfernt liegt, beinhaltet. Des Weiteren, während die Master-Lokalisierungsdatenbank 158 von Beispielsystem 100 mit dem System des Lokalisierungsanbieters 110 gekoppelt ist, ist die Master-Lokalisierungsdatenbank 158 in einer alternativen Ausführungsform im System des Lokalisierungsanbieters 110 beinhaltet.While the private localization database 142 from example system 100 with the localization provider system 110 is in various other embodiments, the private localization database 142 on the other hand, in the system of the localization provider 110 , in the mobile device 112 or in a third-party server owned by the localization provider's system 110 and the mobile device 112 away. Furthermore, while the master localization database 158 from example system 100 with the localization provider system 110 is the master localization database 158 in an alternative embodiment in the system of the localization provider 110 includes.
Die Sharing-Datenbank 157 speichert Berechtigungsdaten, die der privaten Lokalisierungsdatenbank 142 entsprechen. Die Sharing-Datenbank 157 kann zum Beispiel ein Teil der privaten Lokalisierungsdatenbank 142 sein und/oder im System des Lokalisierungsanbieters 110 beinhaltet sein. Die Sharing-Datenbank 157 wird weiter unten in Bezugnahme auf 3 erörtert.The sharing database 157 stores credentials of the private localization database 142 correspond. The sharing database 157 For example, part of the private localization database 142 and / or in the localization provider's system 110 includes his. The sharing database 157 will refer to below 3 discussed.
Die AP Lokalisierungs-Engine 150 beinhaltet Softwarebefehle, die auf einem computerlesbaren Medium gespeichert und dafür konfiguriert sind, dass sie von einem oder mehreren Prozessoren im System des Lokalisierungsanbieters 110 ausgeführt werden. In verschiedenen anderen Ausführungsformen beinhaltet die AP Lokalisierungs-Engine 150 Hardware, Firmware oder eine Kombination aus Software, Hardware und/oder Firmware. Die AP Lokalisierungs-Engine 150 ist im Allgemeinen dafür konfiguriert, dass sie Informationen, die sich auf einen oder mehrere APs beziehen, empfängt und Lokalisierungen der APs basierend auf den empfangenen Informationen schätzt. Die AP Lokalisierungs-Engine 150 veranlasst dann die Speicherung der geschätzten Lokalisierungen in einer Lokalisierungsdatenbank, wie beispielsweise der privaten Lokalisierungsdatenbank 142 oder der Master-Lokalisierungsdatenbank 158. Die AP Lokalisierungs-Engine 150 kann auch für die Lokalisierung von anderen Sendeeinrichtungen als APs (z. B. Funkmasten) konfiguriert sein und/oder von Gebieten, die anderen Sendeeinrichtungen (z. B. Sendegebiete von Funkmasten) zugeordnet sind. Während die Engine 150 von 1 (und 3, die weiter unten erörtert wird) eine „AP Lokalisierungs-Engine” ist, lokalisiert die Engine 150 in anderen Ausführungsformen nur nicht-AP Sendeeinrichtungen (und/oder Gebiete, die nicht-AP Sendeeinrichtungen zugeordnet sind usw.).The AP localization engine 150 includes software instructions stored on a computer readable medium and configured to be from one or more processors in the localization provider's system 110 be executed. In various other embodiments, the AP includes a localization engine 150 Hardware, firmware or a combination of software, hardware and / or firmware. The AP localization engine 150 is generally configured to receive information relating to one or more APs and estimates locations of the APs based on the received information. The AP localization engine 150 then causes the storage of the estimated localizations in a localization database, such as the private localization database 142 or the master localization database 158 , The AP localization engine 150 may also be configured to locate transmit devices other than APs (eg, radio towers) and / or regions associated with other transmit devices (eg, broadcast areas of radio towers). While the engine 150 from 1 (and 3 which will be discussed below) is an "AP localization engine" locates the engine 150 in other embodiments, only non-AP transmit devices (and / or regions associated with non-AP transmit devices, etc.).
Während die AP Lokalisierungs-Engine 150 im Beispielsystem 100 im System des Lokalisierungsanbieters 110 beinhaltet ist, sind die AP Lokalisierungs-Engines in einer alternativen Ausführungsform sowohl im System des Lokalisierungsanbieters 110 als auch im Mobilgerät 112 beinhaltet. Das Mobilgerät 112 kann zum Beispiel seine eigene AP Lokalisierungs-Engine (ähnlich der AP Lokalisierungs-Engine 150) beinhalten, in der die AP Lokalisierungs-Engine konfiguriert ist, um die AP-Lokalisierungen, die in der privaten Lokalisierungsdatenbank 142 gespeichert werden müssen, zu schätzen. In einigen Ausführungsformen kann das Mobilgerät 112 auch Hardware und Software, die dafür konfiguriert ist, eine relative Lokalisierung des Geräts 112 zu unterschiedlichen Zeiten, wenn AP-Signale empfangen werden durchzuführen, beinhalten. Das Mobilgerät 112 kann zum Beispiel mit jedem Instrument, das für die Verfolgung von Ortsbewegungen geeignet ist, wie beispielsweise mit einem Inertialsensor und/oder anderen Sensoren (z. B. einem Gyroskop, einem Kompass, einem Barometer, einem Beschleunigungsmesser, einer Kamera mit Videoverarbeitung zur Erkennung von Bewegungen, einem Lautsprecher und Mikrofon mit Verarbeitung von Audiosignalen, um Bewegungen zu erkennen usw.) beobachten, wie ein Signal von einem AP sich verändert, wenn das Mobilgerät 112 vom Benutzer bewegt wird. Auf diese Weise können Daten gesammelt werden, um die private Lokalisierungsdatenbank 142 aufzubauen, ohne dass der Benutzer manuell Lokalisierungen eingeben muss. Alternativ dazu kann ein Benutzer eine einzelne Lokalisierung auf einer Karte eingeben, um Koordinaten zu liefern, auf die alle verfolgten Ortsbewegungen referenziert werden können.While the AP localization engine 150 in the example system 100 in the localization provider system 110 In one alternative embodiment, the AP localization engines are both in the localization provider's system 110 as well as in the mobile device 112 includes. The mobile device 112 can, for example, its own AP localization engine (similar to the AP localization engine 150 ) in which the AP localization engine is configured to store the AP localizations in the private localization database 142 need to be saved. In some embodiments, the mobile device may 112 also hardware and software that is configured to provide relative localization of the device 112 at different times when AP signals are received. The mobile device 112 For example, with any instrument suitable for tracking location movements, such as an inertial sensor and / or other sensors (eg, a gyroscope, compass, barometer, accelerometer, video-processing camera) Movements, a speaker and microphone processing audio signals to detect movement, etc.) observe how a signal from an AP changes when the mobile device 112 is moved by the user. In this way, data can be gathered to the private localization database 142 without the user having to manually enter localizations. Alternatively, a user may enter a single location on a map to provide coordinates to which all tracked location moves may be referenced.
Die Schnittstellen-Engine der Lokalisierungsdatenbank 152 beinhaltet Softwarebefehle, die auf einem computerlesbaren Medium gespeichert und dafür konfiguriert sind, dass sie von einem oder mehreren Prozessoren im System des Lokalisierungsanbieters 110 ausgeführt werden. In verschiedenen anderen Ausführungsformen beinhaltet die Schnittstellen-Engine der Lokalisierungsdatenbank 152 Hardware, Firmware oder eine Kombination von Software, Hardware und/oder Firmware. Die Schnittstellen-Engine der Lokalisierungsdatenbank 152 ist im Allgemeinen dafür konfiguriert, Identifikationsinformationen, die Sendeeinrichtungen (z. B. BSSIDs von APs 120) entsprechen, zu empfangen und die empfangenen Identifikationsinformationen zu verwenden, um die geschätzten Lokalisierungen der Sendeeinrichtungen einer Lokalisierungsdatenbank (z. B. Master-Lokalisierungsdatenbank 158 und/oder private Lokalisierungsdatenbank 142) abzurufen. Eine Sharing-Engine 154 innerhalb der Schnittstellen-Engine der Lokalisierungsdatenbank 152 ermittelt, ob ein Mobilgerät, von dem eine Lokalisierungsabfrage empfangen wird, berechtigt ist, die private Lokalisierungsdatenbank 142 zu verwenden. Wie weiter unten näher ausgeführt wird, kann die Sharing-Engine 154 zum Beispiel feststellen, ob ein oder mehrere Mitbenutzungskriterien für den Zugriff auf die private Lokalisierungsdatenbank 142 erfüllt sind (z. B. ob ein abfragendes Mobilgerät in der in der Sharing-Datenbank 157 gespeicherten Berechtigungsliste enthalten ist). Eine Merging Engine 156 in der Schnittstellen-Engine der Lokalisierungsdatenbank 152 aggregiert die geschätzten Lokalisierungen, die von der privaten Lokalisierungsdatenbank 142 abgerufen wurden und die geschätzten Lokalisierungen von der Master-Lokalisierungsdatenbank 158 und wendet in einigen Ausführungsformen eine oder mehrere Konfliktlösungsregeln an, wenn widersprüchliche Lokalisierungen von der privaten Lokalisierungsdatenbank 142 und der Master-Lokalisierungsdatenbank 158 abgerufen wurden.The interface engine of the localization database 152 includes software instructions stored on a computer readable medium and configured to be from one or more processors in the localization provider's system 110 be executed. In various other embodiments, the interface engine includes the location database 152 Hardware, firmware or a combination of software, hardware and / or firmware. The interface engine of the localization database 152 is generally configured to provide identification information, the transmitting devices (e.g., BSSIDs of APs 120 ) and to use the received identification information to estimate the estimated locations of the transmitters of a location database (eg master location database 158 and / or private localization database 142 ). A sharing engine 154 within the localization database interface engine 152 determines if a mobile device receiving a localization query is authorized to use the private localization database 142 to use. As further explained below, the sharing engine 154 For example, determine if one or more sharing criteria for accessing the private localization database 142 are met (for example, whether a querying mobile device in the sharing database 157 stored permission list is included). A merging engine 156 in the localization database interface engine 152 aggregates the estimated localizations from the private localization database 142 and the estimated localizations from the master localization database 158 and, in some embodiments, apply one or more conflict resolution rules when conflicting localizations from the private location database 142 and the master localization database 158 were retrieved.
Während die Schnittstellen-Engine der Lokalisierungsdatenbank 152 im System des Lokalisierungsanbieters 110 in Beispielsystem 100 beinhaltet ist, ist in anderen Ausführungsformen zumindest ein Teil der Schnittstellen-Engine der Lokalisierungsdatenbank 152 im Mobilgerät 112 beinhaltet. In einer alternativen Ausführungsform (z. B. einer Ausführungsform, in der die private Lokalisierungsdatenbank 142 im Mobilgerät 112 oder dem Server eines Fremdbetreibers beinhaltet ist), beinhaltet das System des Lokalisierungsanbieters 110 zum Beispiel einen ersten Teil der Schnittstellen-Engine der Lokalisierungsdatenbank 152, die dafür konfiguriert ist, geschätzte Lokalisierungen von der Master-Lokalisierungsdatenbank 158 abzurufen und Mobilgerät 112 beinhaltet einen zweiten Teil der Schnittstellen-Engine der Lokalisierungsdatenbank 152, der dafür konfiguriert ist, die geschätzten Lokalisierungen von der privaten Lokalisierungsdatenbank 142 abzurufen. In dieser letzteren Ausführungsform kann der Teil der Schnittstellen-Engine der Lokalisierungsdatenbank 152 mit der Merging Engine 156 im Mobilgerät 112 beinhaltet sein und die Sharing-Engine 154 vom Beispielsystem 100 kann entfallen. Im Allgemeinen kann die Sharing-Engine 154 in Ausführungsformen, in denen die private Lokalisierungsdatenbank 142 nicht mit Nichteigentümern geteilt werden kann, entfallen und in Ausführungsformen, in denen als Reaktion auf eine einzelne Lokalisierungsabfrage eines Mobilgeräts nicht sowohl auf eine private Lokalisierungsdatenbank 142 als auch auf eine Master-Lokalisierungsdatenbank 156 zugegriffen werden kann, kann die Merging Engine 156 entfallen.While the interface engine of the localization database 152 in the localization provider system 110 in example system 100 is included, in other embodiments, at least part of the localization database interface engine 152 in the mobile device 112 includes. In an alternative embodiment (eg, an embodiment in which the private location database 142 in the mobile device 112 or the server of a third-party operator), includes the system of the localization provider 110 for example, a first part of the localization database interface engine 152 , which is configured to receive estimated localizations from the master localization database 158 to retrieve and mobile device 112 includes a second part of the localization database interface engine 152 which is configured to receive the estimated localizations from the private localization database 142 retrieve. In this latter embodiment, the part of the interface engine may be the localization database 152 with the merging engine 156 in the mobile device 112 includes his and the sharing engine 154 from the example system 100 can be omitted. In general, the sharing engine 154 in embodiments where the private localization database 142 can not be shared with non-owners, and in embodiments in which, in response to a single localization request of a mobile device, both a private localization database is omitted 142 as well as a master localization database 156 can be accessed, the Merging Engine 156 omitted.
Während bei verschiedenen Engines, die in 1 dargestellt sind, hierin beschrieben ist, dass sie von einem oder mehreren Prozessoren ausgeführt werden, werden in einigen Ausführungsformen der/dieselbe/n Prozessor(en) verwendet, um die Befehle von zwei oder mehr Engines auszuführen. Die AP Lokalisierungs-Engine 150 und die Schnittstellen-Engine der Lokalisierungsdatenbank 152 können zum Beispiel beide von einem einzigen Satz bestehend aus einem oder mehreren Prozessoren ausgeführt werden.While at different engines in the 1 Described herein as being performed by one or more processors, in some embodiments, the same processor (s) are used to execute the instructions of two or more engines. The AP localization engine 150 and the localization database interface engine 152 For example, both may be executed by a single set of one or more processors.
1 stellt auch ein Beispielszenario dar, in dem Mobilgerät 112 verwendet wird, um Informationen für die Erstellung oder Aktualisierung der privaten Lokalisierungsdatenbank 142 zu sammeln, wenn der Benutzer sich zu verschiedenen Positionen bewegt 160 und das Mobilgerät 112 Daten 162 an das System des Lokalisierungsanbieters 110 sendet. Um den Datensammelprozess zu vereinfachen, veranlasst die Engine der privaten Lokalisierungsdatenbank 134 die Benutzerschnittstelle 132, dem Benutzer des Mobilgeräts 112 eine grafische Benutzeroberfläche bereitzustellen. Die Benutzerschnittstelle 132 kann zum Beispiel eine grafische Benutzeroberfläche erstellen, die eine Karte einer geografischen Region, in der sich das Mobilgerät 112 derzeit befindet, zeigt. Die Karte kann zum Beispiel basierend auf Informationen, die von einem Kartenserver 164 (z. B. als Antwort auf eine Abfrage, die der Kartenserver 164 vom Mobilgerät 112 erhalten hat) empfangen werden, generiert werden. Der Kartenserver 164 kann sich in einem Server eines Fremdbetreibers, wie in 1 gezeigt, befinden oder im System des Lokalisierungsanbieters 110 und kann Lokalisierungsinformationen vom Mobilgerät 112 und/oder vom System des Lokalisierungsanbieters 110 empfangen, um Information zu generieren, die an das Mobilgerät 112 gesandt werden. Zusätzlich zu einer Karte oder einer anderen Anzeige kann die von der Benutzerschnittstelle 132 bereitgestellte grafische Benutzeroberfläche dem Benutzer des Mobilgeräts 112 Anweisungen zur Verfügung stellen, wie Informationen für die Erstellung und/oder Aktualisierung der privaten Lokalisierungsdatenbank 142 gesammelt werden. 1 Also illustrates an example scenario in which mobile device 112 is used to provide information for creating or updating the private localization database 142 to collect when the user moves to different positions 160 and the mobile device 112 dates 162 to the localization provider's system 110 sends. To simplify the data collection process, the engine initiates the private localization database 134 the user interface 132 , the user of the mobile device 112 to provide a graphical user interface. The user interface 132 For example, you can create a graphical user interface that is a map of a geographic region where the mobile device is located 112 currently located, shows. For example, the map may be based on information provided by a map server 164 (eg in response to a query made by the map server 164 from the mobile device 112 received) are received. The map server 164 can be in a third-party server, as in 1 shown, are in or on the localization provider's system 110 and can be localization information from the mobile device 112 and / or from the localization provider's system 110 received to generate information sent to the mobile device 112 be sent. In addition to a map or other display, that of the user interface 132 provided graphical user interface to the user of the mobile device 112 Provide instructions, such as information for creating and / or updating the private localization database 142 to be collected.
Als Teil des Datensammelprozesses kann ein Benutzer, der ein Mobilgerät 112 trägt, sich durch ein Gebiet bewegen, das sich im Allgemeinen innerhalb der Reichweite einer oder mehrerer Sendeeinrichtungen befindet, und verschiedene Lokalisierungen, die den aktuellen Lokalisierungen des Benutzers zu unterschiedlichen Zeitpunkten entsprechen, auswählen oder angeben. In einer Ausführungsform, in der das Mobilgerät 112 zum Beispiel eine Karte auf einem Touchscreen anzeigt, kann der Benutzer Lokalisierungen durch Berühren bestimmter Bereiche auf dem Touchscreen angeben. Im Szenario, das in 1 dargestellt ist, bewegt sich der Benutzer entlang eines Pfades, der eine erste Lokalisierung 160A, eine zweite Lokalisierung 160B und eine dritte Lokalisierung 160C beinhaltet.As part of the data collection process, a user who is a mobile device 112 , move through an area that is generally within range of one or more transmitters, and select or specify various locations that correspond to the user's current locations at different times. In an embodiment in which the mobile device 112 For example, when displaying a map on a touch screen, the user can specify locations by touching certain areas on the touch screen. In the scenario that is in 1 is shown, the user moves along a path that has a first location 160A , a second localization 160B and a third localization 160C includes.
Bei Lokalisierung 160A gibt der Benutzer eine erste Lokalisierung auf der angezeigten Karte (IND_LOC_A) an, die im Allgemeinen eine Lokalisierung auf der Karte ist, von der der Benutzer annimmt, dass sie der tatsächlichen Lokalisierung 160A entspricht. In einer Ausführungsform veranlasst die Engine der privaten Lokalisierungsdatenbank 134 das Mobilgerät 112 dazu, Signale von nahe gelegenen APs zu erkennen, als Reaktion auf die Angabe einer Lokalisierung durch den Benutzer und generiert lokalisierungsspezifische Informationen, die den beobachtete Signalen entsprechen. Im Szenario von 1 empfängt und erkennt Mobilgerät 112 Signale vom AP 120A und AP 120B während es sich bei Lokalisierung 160A befindet, aber es ist nicht in der Lage, Signale von AP 120C zu erkennen. Jedes der Signale, die vom AP 120A und AP 120B empfangen werden, beinhaltet einen Identifikator des AP, der das Signal gesendet hat (BSSID1 bzw. BSSID2), und das Mobilgerät 112 generiert einen Indikator für die Empfangsfeldstärke (RSSI) für jedes empfangene Signal (RSSI1_A bzw. RSSI2_A). Die RSSIs können zum Beispiel mit einem Leistungsdetektor und einem Analog/Digital-Wandler in der Netzwerkschnittstelle 130 generiert werden. Jeder empfangene BSSID und jeder generierte RSSI wird dann an die Engine der privaten Lokalisierungsdatenbank 134 weitergeleitet, gemeinsam mit der ersten angegebenen Lokalisierung IND_LOC_A. Nach dem Empfang der ersten angegebenen Lokalisierung und des Satzes der zugeordneten BSSIDs und RSSIs generiert die Engine der privaten Lokalisierungsdatenbank 134 lokalisierungsspezifische Informationen 162A und veranlasst, dass die lokalisierungsspezifischen Informationen 162A über das Kommunikationsnetzwerk 114 an das System des Lokalisierungsanbieters 110 übertragen werden.At localization 160A the user indicates a first location on the displayed map (IND_LOC_A), which is generally a location on the map that the user assumes to be the actual location 160A equivalent. In one embodiment, the engine causes the private localization database 134 the mobile device 112 to detect signals from nearby APs in response to the indication of location by the user and generate location-specific information corresponding to the observed signals. In the scenario of 1 receives and recognizes mobile device 112 Signals from the AP 120A and AP 120B while localizing 160A is located, but it is unable to receive signals from AP 120C to recognize. Each of the signals coming from the AP 120A and AP 120B received includes an identifier of the AP that sent the signal (BSSID1 or BSSID2), and the mobile device 112 Generates an RSSI signal for each received signal (RSSI1_A or RSSI2_A). The RSSIs can be used, for example, with a power detector and an analog-to-digital converter in the network interface 130 to be generated. Each BSSID received and each generated RSSI is then sent to the private localization database engine 134 forwarded, along with the first specified localization IND_LOC_A. After receiving the first specified localization and the set of associated BSSIDs and RSSIs, the engine generates the private localization database 134 Location-specific information 162A and causes the location-specific information 162A over the communication network 114 to the localization provider's system 110 be transmitted.
Der Benutzer wechselt dann zur Lokalisierung 160B und gibt eine zweite Lokalisierung auf der angezeigten Karte (IND_LOC_B) an, die im Allgemeinen eine Lokalisierung ist, von der der Benutzer annimmt, dass sie der tatsächlichen Lokalisierung 160B entspricht. In einer Ausführungsform veranlasst die Engine der privaten Lokalisierungsdatenbank 134 wieder das Mobilgerät 112, Signale von nahe gelegenen APs als Reaktion auf die Angabe einer Lokalisierung durch den Benutzer zu beobachten und generiert wieder lokalisierungsspezifische Informationen, die einem Satz bestehend aus einem oder mehreren beobachteten Signalen entspricht. Im Szenario von 1, empfängt und erkennt Mobilgerät 112 Signale von AP 120A, AP 120B und AP 120C während es sich bei Lokalisierung 160B befindet. Jedes der von AP 120A, AP 120B und AP 120C empfangenen Signale beinhaltet einen Identifikator des AP, der das Signal gesendet hat (BSSID1, BSSID2 bzw. BSSID3), und das Mobilgerät 112 generiert einen RSSI für jedes empfangene Signal (RSSI1_B, RSSI2_B bzw. RSSI3_B). Jeder empfangene BSSID und jeder generierte RSSI wird dann an die Engine der privaten Lokalisierungsdatenbank 134 weitergeleitet, gemeinsam mit der zweiten angegebenen Lokalisierung IND_LOC_B. Nach dem Empfang der zweiten angegebenen Lokalisierung und des Satzes der zugeordneten BSSIDs und RSSIs generiert die Engine der privaten Lokalisierungsdatenbank 134 lokalisierungsspezifische Informationen 162B und veranlasst, dass die lokalisierungsspezifischen Informationen 162B über das Kommunikationsnetzwerk 114 an das System des Lokalisierungsanbieters 110 übertragen werden.The user then switches to localization 160B and indicates a second location on the displayed map (IND_LOC_B), which is generally a location that the user assumes is the actual location 160B equivalent. In one embodiment, the engine causes the private localization database 134 again the mobile device 112 To observe signals from nearby APs in response to the indication of location by the user, and again generates location-specific information corresponding to a set of one or more observed signals. In the scenario of 1 , receives and recognizes mobile device 112 Signals from AP 120A , AP 120B and AP 120C while localizing 160B located. Each of the AP 120A , AP 120B and AP 120C received signals includes an identifier of the AP that sent the signal (BSSID1, BSSID2 or BSSID3), and the mobile device 112 generates an RSSI for each received signal (RSSI1_B, RSSI2_B or RSSI3_B). Each BSSID received and each generated RSSI is then sent to the private localization database engine 134 forwarded, along with the second specified localization IND_LOC_B. After receiving the second specified localization and the set of associated BSSIDs and RSSIs, the engine generates the private localization database 134 Location-specific information 162B and causes the location-specific information 162B over the communication network 114 to the localization provider's system 110 be transmitted.
Danach wechselt der Benutzer zur Lokalisierung 160C und wählt eine dritte Lokalisierung auf der angezeigten Karte (IND_LOC_C), die im Allgemeinen eine Lokalisierung ist, von der der Benutzer annimmt, dass sie der tatsächlichen Lokalisierung 160C entspricht. In einer Ausführungsform veranlasst die Engine der privaten Lokalisierungsdatenbank 134 wieder das Mobilgerät 112, Signale von nahe gelegenen APs zu erkennen, als Reaktion auf die Angabe einer Lokalisierung durch den Benutzer und generiert wieder lokalisierungsspezifische Informationen, die einem Satz, der aus einem oder mehreren beobachteten Signalen besteht, entsprechen. Im Szenario von 1 empfängt und erkennt das Mobilgerät 112 Signale von AP 120B und AP 120C, während es sich bei Lokalisierung 160C befindet, aber es ist nicht in der Lage, Signale von AP 120A zu erkennen. Jedes der Signale, die von AP 120B und AP 120C empfangen wurden, beinhaltet einen Identifikator des AP, der das Signal (BSSID2 bzw. BSSID3) gesendet hat und das Mobilgerät 112 generiert einen RSSI für jedes empfangene Signal (RSSI2_C bzw. RSSI3_C). Jeder empfangene BSSID und jeder generierte RSSI wird dann an die Engine der privaten Lokalisierungsdatenbank 134 übergeben, gemeinsam mit der dritten angegebenen Lokalisierung IND_LOC_C. Nach dem Empfang der dritten angegebenen Lokalisierung und des Satzes der zugeordneten BSSIDs und RSSIs, generiert die Engine der privaten Lokalisierungsdatenbank 134 lokalisierungsspezifische Informationen 162C und veranlasst, dass die lokalisierungsspezifischen Informationen 162C über das Kommunikationsnetzwerk 114 an das System des Lokalisierungsanbieters 110 übertragen werden.After that, the user switches to localization 160C and selects a third location on the displayed map (IND_LOC_C), which is generally a location that the user assumes to be the actual location 160C equivalent. In one embodiment, the engine causes the private localization database 134 again the mobile device 112 Recognizing signals from nearby APs in response to the indication of location by the user and again generating location-specific information corresponding to a set consisting of one or more observed signals. In the scenario of 1 Receives and recognizes the mobile device 112 Signals from AP 120B and AP 120C while localizing 160C is located, but it is unable to receive signals from AP 120A to recognize. Each of the signals from AP 120B and AP 120C received includes an identifier of the AP, the has sent the signal (BSSID2 or BSSID3) and the mobile device 112 generates an RSSI for each received signal (RSSI2_C or RSSI3_C). Each BSSID received and each generated RSSI is then sent to the private localization database engine 134 pass along with the third specified localization IND_LOC_C. After receiving the third specified localization and the set of associated BSSIDs and RSSIs, the engine generates the private localization database 134 Location-specific information 162C and causes the location-specific information 162C over the communication network 114 to the localization provider's system 110 be transmitted.
Das System des Lokalisierungsanbieters 110 empfängt die lokalisierungsspezifischen Informationen 162 und leitet die Daten 162 an die AP Lokalisierungs-Engine 150 weiter. Nach dem Empfang der lokalisierungsspezifischen Informationen 162 ermittelt die AP Lokalisierungs-Engine 150 eine geschätzte Lokalisierung eines oder mehrerer APs 120 basierend auf den lokalisierungsspezifischen Informationen. Die AP Lokalisierungs-Engine 150 kann zum Beispiel geschätzte Lokalisierungen von AP 120A, AP 120B und AP 120C ermitteln, unter Verwendung der gemessenen RSSIs (RSSI1_A, RSSI2_A, RSSI1_B, RSSI2_B, RSSI3_B, RSSI2_C und RSSI3_C) und der angegebenen Lokalisierungen (IND_LOC_A, IND_LOC_B und IND_LOC_C) der lokalisierungsspezifischen Informationen 162. Die AP-Lokalisierungs-Engine 150 kann verschiedene geeignete Lokalisierungstechniken, wie zum Beispiel Triangulation, Trilateration usw., verwenden. Sobald die geschätzten Lokalisierungen einiger oder aller APs 120 ermittelt sind, veranlasst die AP-Lokalisierungs-Engine 150, dass die geschätzten Lokalisierungen in einer privaten Lokalisierungsdatenbank 142 gemeinsam mit einem Identifikator für jeden AP 120 (z. B. der entsprechenden BSSIDs der APs 120) gespeichert werden. Die private Lokalisierungsdatenbank 142 kann eine relationale Datenbank beinhalten, die zum Beispiel jede geschätzte Lokalisierung mit einem BSSID des entsprechenden AP 120, indiziert. In Szenarien, in denen die private Lokalisierungsdatenbank 142 noch keine AP-Lokalisierungsdaten enthält, kann die AP Lokalisierungs-Engine 150 einen Satz AP Lokalisierungdatensätze generieren. In Szenarien, in denen die private Lokalisierungsdatenbank 142 schon existiert, kann die AP Lokalisierungsengine 150 die private Lokalisierungsdatenbank 142 durch Ersetzen der alten geschätzten Lokalisierungen durch neue geschätzte Lokalisierungen aktualisieren. Wie weiter oben erörtert wurde, muss die private Lokalisierungsdatenbank 142 nicht unbedingt die AP-Lokalisierungen speichern. Die Lokalisierungs-Engine 150 kann zum Beispiel stattdessen ein Modell basierend auf den empfangenen BSSIDs und RSSIs ermitteln und die Modelldaten in der privaten Lokalisierungsdatenbank 142 zum späteren Gebrauch durch Mobilgeräte, die unter Verwendung eines WiFi „Fingerabdrucks” eine Selbstlokalisierung durchführen, speichern.The system of the localization provider 110 receives the location-specific information 162 and forwards the data 162 to the AP localization engine 150 further. After receiving the location-specific information 162 determines the AP localization engine 150 an estimated location of one or more APs 120 based on the location-specific information. The AP localization engine 150 For example, estimated locations of AP 120A , AP 120B and AP 120C determine, using the measured RSSIs (RSSI1_A, RSSI2_A, RSSI1_B, RSSI2_B, RSSI3_B, RSSI2_C and RSSI3_C) and the specified localizations (IND_LOC_A, IND_LOC_B and IND_LOC_C) of the location-specific information 162 , The AP localization engine 150 may use various suitable localization techniques, such as triangulation, trilateration, etc. Once the estimated locations of some or all APs 120 detected causes the AP localization engine 150 that the estimated localizations in a private localization database 142 together with an identifier for each AP 120 (eg the corresponding BSSIDs of the APs 120 ) get saved. The private localization database 142 may include a relational database containing, for example, each estimated location with a BSSID of the corresponding AP 120 , indicated. In scenarios where the private localization database 142 does not yet contain any AP localization data, the AP localization engine can 150 generate a set of AP localization records. In scenarios where the private localization database 142 already exists, the AP localization engine 150 the private localization database 142 by replacing the old estimated locations with new estimated locations. As discussed earlier, the private localization database needs 142 not necessarily save the AP localizations. The localization engine 150 For example, instead, a model may be determined based on the received BSSIDs and RSSIs and the model data in the private localization database 142 for later use by mobile devices self-locating using a WiFi "fingerprint".
In verschiedenen alternativen Ausführungsformen kann das System 100 anders als in dem weiter oben beschriebenen Szenario funktionieren. In einer Ausführungsform wartet Mobilgerät 112 beispielsweise, bis alle lokalisierungsspezifischen Informationen 162 (d. h. 162A, 162B und 162C) generiert wurden, bevor die zusammengesetzten Daten 162 an das System des Lokalisierungsanbieters 110 übertragen werden. Die Engine der privaten Lokalisierungsdatenbank 134 kann zum Beispiel warten, bis die Benutzerschnittstelle 132 eine bestimmte manuelle Eingabe durch den Benutzer erkennt (z. B. die Schaltfläche „FERTIG” auf einer grafischen Benutzeroberfläche) bevor jegliche lokalisierungsspezifischen Informationen 162 übertragen werden.In various alternative embodiments, the system 100 unlike the scenario described above. In one embodiment, mobile device is waiting 112 for example, until all localization-specific information 162 (ie 162A . 162B and 162C ) were generated before the composite data 162 to the localization provider's system 110 be transmitted. The engine of the private localization database 134 for example, can wait for the user interface 132 a specific manual input by the user (such as the "DONE" button on a graphical user interface) before any localization-specific information 162 be transmitted.
Als ein weiteres Beispiel kann die Engine der privaten Lokalisierungsdatenbank 134 nicht auf eine Benutzerangabe einer Lokalisierung warten, um die Signalmetriken (z. B. RSSI), die der angegebenen Lokalisierung entsprechen, zu generieren. Die Engine der privaten Lokalisierungsdatenbank 134 kann beispielsweise ständig oder periodisch Signalmetriken für Signale, die von APs 120 empfangen werden, generieren und dann nur die Signalmetriken verwenden, die den Signalen entspricht, die zu den Zeiten (oder fast zu den Zeiten) empfangen wurden, als der Benutzer eine Lokalisierung angegeben hat.As another example, the private localization database engine may 134 do not wait for a user to specify a location to generate the signal metrics (such as RSSI) that match the specified location. The engine of the private localization database 134 For example, it can continuously or periodically generate signal metrics for signals sent by APs 120 and then use only the signal metrics corresponding to the signals received at the times (or almost at the times) when the user specified localization.
Als noch ein anderes Beispiel, kann die Engine der privaten Lokalisierungsdatenbank 134 mehr als eine Signalmetrik für jedes AP-Signal (z. B. von Netzwerkschnittstelle 130) empfangen. Die Netzwerkschnittstelle 130 kann zum Beispiel an die Engine der privaten Lokalisierungsdatenbank 134 einen Spitzen-RSSI-Wert und einen Durschnitts-RSSI-Wert für jedes AP-Signal liefern. Als ein weiteres Beispiel kann die Netzwerkschnittstelle 130 der Engine der privaten Lokalisierungsdatenbank 134 mehrere RSSIs für ein AP-Signal liefern, wobei jeder RSSI zu einer anderen Zeit gemessen wird. In diesen Ausführungsformen können Daten, die jede dieser mehrfachen Signalmetriken repräsentieren, in den lokalisierungsspezifischen Informationen 162 enthalten sein.As yet another example, the engine may be the private localization database 134 more than one signal metric for each AP signal (eg from network interface 130 ) received. The network interface 130 for example, to the engine of the private localization database 134 provide a peak RSSI value and an average RSSI value for each AP signal. As another example, the network interface 130 the engine of the private localization database 134 provide multiple RSSIs for one AP signal, each RSSI being measured at a different time. In these embodiments, data representing each of these multiple signal metrics may be included in the location-specific information 162 be included.
Als weiteres Beispiel und in einer alternativen Ausführungsform, in der eine AP Lokalisierungs-Engine ähnlich der AP Lokalisierungs-Engine 150 im Mobilgerät 112 beinhaltet ist, kann die Engine der privaten Lokalisierungsdatenbank 134 veranlassen, dass die lokalisierungsspezifischen Informationen 162 direkt an die AP Lokalisierungs-Engine im Mobilgerät 112 geschickt werden und die Netzwerkschnittstelle 130 nicht veranlasst wird, die Daten 162 an das System des Lokalisierungsanbieters 110 zu übertragen. Die AP-Lokalisierungs-Engine im Mobilgerät 112 ermittelt dann die geschätzten Lokalisierungen der APs 120 und veranlasst, dass die geschätzten Lokalisierungen entweder an den Lokalisierungsanbieter 110 zur Speicherung in der privaten Lokalisierungsdatenbank 142 übertragen werden, an einen Server eines Fremdbetreibers, der mit der privaten Lokalisierungsdatenbank 142 gekoppelt ist, übertragen werden, oder in einer privaten Lokalisierungsdatenbank 142 in einem Speicher im Mobilgerät 112 gespeichert werden, entsprechend den verschiedenen Ausführungsformen.As another example and in an alternative embodiment, an AP localization engine is similar to the AP localization engine 150 in the mobile device 112 is included, the engine of the private localization database 134 cause the localization-specific information 162 directly to the AP localization engine in the mobile device 112 be sent and the network interface 130 not causing the data 162 to the localization provider's system 110 transferred to. The AP localization engine in the mobile device 112 then determines the estimated locations of the APs 120 and cause the estimated localizations to either the localization provider 110 for storage in the private localization database 142 be transmitted to a third-party server running the private localization database 142 is coupled, transmitted, or in a private localization database 142 in a memory in the mobile device 112 stored according to the various embodiments.
Während das Beispielszenario von 1 AP-Signale zeigt, die an drei verschiedenen Stellen 160A, 160B und 160C beobachtet (und lokalisierungsspezifische Informationen generiert) werden), können andere Szenarien auch mehr oder weniger als drei Lokalisierungen enthalten. In einem Szenario, in dem zum Beispiel AP-Signale nur an einer Stelle beobachtet (und lokalisierungsspezifische Informationen generiert) werden, darf sich der Benutzer, der das Mobilgerät 112 trägt, überhaupt nicht bewegen, um Daten für die private Lokalisierungsdatenbank 142 zu sammeln. Zusätzlich kann der Benutzer in einigen Ausführungsformen optional an einer Stelle bleiben und wiederholt eine Stelle angeben (z. B. auf einer angezeigten Karte) während er die AP-Signale zu unterschiedlichen Zeiten beobachtet, um die Genauigkeit der vom Mobilgerät 112 generierten Signalmetriken zu erhöhen.While the example scenario of 1 AP signals showing in three different places 160A . 160B and 160C (and localization-specific information is generated), other scenarios may also contain more or less than three localizations. For example, in a scenario where AP signals are only observed in one location (and location-specific information is generated), the user who is the mobile device may 112 does not move at all to data for the private localization database 142 to collect. In addition, in some embodiments, the user may optionally stay in one location and repeatedly specify a location (eg, on a displayed map) while monitoring the AP signals at different times to match the accuracy of the mobile device 112 increase generated signal metrics.
In einer anderen Ausführungsform, die nicht in 1 dargestellt ist, wird an Stelle des Mobilgeräts 112 ein Nicht-Mobilgerät (z. B. ein Desktop-Computer, ein nicht-mobiles Embedded System usw.) verwendet, um Daten für die private Lokalisierungsdatenbank 142 zu sammeln. Zusätzlich können lokalisierungsspezifische Informationen, wie die lokalisierungsspezifischen Informationen 162A, 162B oder 162C, an das System des Lokalisierungsanbieters 110 über ein Netzwerk, das keine Funkkomponente enthält, gesendet werden. In einer Ausführungsform kann zum Beispiel ein Desktop-Computer mit einer WiFi-Karte Signale von einem oder mehreren APs 120 (z. B. Signale inklusive BSSIDs der APs 120), empfangen, die zugehörigen Signalmetriken (z. B. RSSIs) generieren und die lokalisierungsspezifischen Informationen (z. B. vergleichbar mit lokalisierungsspezifischen Daten 162) über einen Internetzugang via Kabel an das System des Lokalisierungsanbieters 110 übertragen. In einer solchen Ausführungsform können die Daten 162A, 162B und 162C zum Beispiel Daten darstellen, die zu drei unterschiedlichen Zeiten, an einer gleichbleibenden Stelle des Schreibtischs gesammelt wurden. Alternativ dazu kann nur ein Datensatz (z. B. die Daten 162A) an das System des Lokalisierungsanbieters 110 geschnickt werden.In another embodiment, not in 1 is shown in place of the mobile device 112 a non-mobile device (such as a desktop computer, a non-mobile embedded system, etc.) is used to store data for the private localization database 142 to collect. In addition, localization-specific information such as the location-specific information 162A . 162B or 162C , to the localization provider's system 110 over a network that does not contain a radio component. For example, in one embodiment, a desktop computer with a WiFi card may receive signals from one or more APs 120 (eg signals including BSSIDs of the APs 120 ), generate the associated signal metrics (eg, RSSIs), and the location-specific information (eg, comparable to location-specific data 162 ) via a wired internet connection to the localization provider's system 110 transfer. In such an embodiment, the data 162A . 162B and 162C for example, data collected at three different times, at a consistent place on the desktop. Alternatively, only one record (eg, the data 162A ) to the localization provider's system 110 be snapped.
In einer anderen alternativen Ausführungsform, die nicht in 1 gezeigt wird, kann die Engine der privaten Lokalisierungsdatenbank 134 so konfiguriert sein, dass sie einem Benutzer gestattet, AP-Lokalisierungen direkt (z. B. auf einer Karte, die auf der grafischen Benutzeroberfläche angezeigt wird) einzugeben. In dieser Ausführungsform müssen keine Signalmetriken generiert werden und die lokalisierungsspezifischen Informationen 162 können nur Identifikatoren (z. B. BSSIDs) und angegebene Lokalisierungen für alle APs 120 beinhalten. In dieser Ausführungsform kann die Lokalisierungs-Engine des AP 150 entfallen. In weiteren anderen Ausführungsformen kann man auf die AP-Lokalisierungen über ein Webinterface (z. B. eine Webseite, die im Speicher des Systems des Lokalisierungsanbieters 110 oder in der privaten Lokalisierungsdatenbank 142 gespeichert ist) unter Verwendung eines Mobilgeräts 112 oder eines anderen (mobilen oder nicht-mobilen) EDV-Geräts, die über eine Internetverbindung verfügen, zugreifen. In diesen Ausführungsformen kann zum Beispiel eine Einzelperson, die die aktuellen Lokalisierungen eines Satzes von APs kennt, einfach auf eine Karte des betreffenden Gebietes zugreifen (z. B. vom Kartenserver 164) und die AP-Lokalisierungen durch Berühren eines Touchscreens (oder durch Bewegen eines Cursors auf jede beliebige Lokalisierung auf der Karte und Klicken der Maustaste usw.) eingeben. In wieder einer anderen alternativen Ausführungsform, die nicht in 1 dargestellt ist, werden die lokalisierungsspezifischen Informationen 162 über einen oder mehrere APs 120 an das System des Lokalisierungsanbieters 110 übertragen. In einem Szenario können zum Beispiel Daten 162A über AP 120A an das System des Lokalisierungsanbieters 110 geliefert werden, Daten 162B können über AP 120B an das System des Lokalisierungsanbieters 110 geliefert werden und Daten 162C können über AP 120C an das System des Lokalisierungsanbieters 110 geliefert werden. In dieser Ausführungsform muss das Mobilgerät 112 nicht dafür konfiguriert sein, mit dem Lokalisierungsanbieter 110 über das Kommunikationsnetzwerk 114 zu kommunizieren (z. B. Mobilgerät 112 muss keine zellularen Kommunikationsfähigkeiten haben).In another alternative embodiment, not in 1 can be shown, the engine of the private localization database 134 configured to allow a user to enter AP localizations directly (for example, on a map displayed on the graphical user interface). In this embodiment, no signal metrics need to be generated and the location-specific information 162 can only use identifiers (eg BSSIDs) and specified localizations for all APs 120 include. In this embodiment, the location engine of the AP 150 omitted. In still other embodiments, one may access the AP localizations via a web interface (eg, a web page stored in the memory of the localization provider's system 110 or in the private localization database 142 stored) using a mobile device 112 or another (mobile or non-mobile) computing device that has an Internet connection. For example, in these embodiments, an individual who knows the current locations of a set of APs can easily access a map of the area in question (eg, from the map server 164 ) and enter the AP localizations by touching a touch screen (or by moving a cursor to any location on the map and clicking the mouse button, etc.). In yet another alternative embodiment, not in 1 is shown, the localization-specific information 162 over one or more APs 120 to the localization provider's system 110 transfer. In a scenario, for example, data 162A over AP 120A to the localization provider's system 110 to be delivered, data 162B can over AP 120B to the localization provider's system 110 be delivered and data 162C can over AP 120C to the localization provider's system 110 to be delivered. In this embodiment, the mobile device needs 112 Do not be configured with the localization provider 110 over the communication network 114 to communicate (eg mobile device 112 does not need to have cellular communication skills).
2 ist ein Flussdiagramm eines Beispielverfahrens 200 für das Sammeln von Informationen für eine private Lokalisierungsdatenbank, wie die private Lokalisierungsdatenbank 142 von 1, die in einem Mobilgerät wie dem Mobilgerät 112 von 1 implementiert ist. 2 is a flowchart of an example method 200 for collecting information for a private localization database, such as the private localization database 142 from 1 working in a mobile device like the mobile device 112 from 1 is implemented.
Bei Block 202 werden ein oder mehrere Sätze von Signalen von einem oder mehreren APs empfangen. Die Signale können zum Beispiel von einer Netzwerkschnittstelle des Mobilgeräts, die das Verfahren 200 implementiert, wie z. B. die Netzwerkschnittstelle 130 in Mobilgerät 112 von 1, empfangen werden. Die APs, von denen die Signale empfangen werden, können zum Beispiel ähnlich wie die APs 120 von 1 aufgebaut sein. Jeder Satz der einen oder mehreren Sätze von Signalen kann zum Beispiel einem anderen der einen oder mehreren APs entsprechen.At block 202 For example, one or more sets of signals are received from one or more APs. For example, the signals may be from a network interface of the mobile device that supports the process 200 implemented, such as For example, the network interface 130 in mobile device 112 from 1 to be received. The APs from which receive the signals can, for example, be similar to the APs 120 from 1 be constructed. For example, each set of the one or more sets of signals may correspond to another of the one or more APs.
Jeder Satz des einen Satzes oder der mehreren Sätzen von Signalen kann nur ein Signal oder mehrere Signale beinhalten (z. B. wobei jedes Signal der mehreren Signale zu einer unterschiedlichen Zeit empfangen wird). In einer Ausführungsform beinhaltet jeder Satz der bei Block 202 empfangenen Signale einen Signalidentifikator, der dem AP, der die Gesamtheit der Signale gesendet hat, entspricht. Jedes Signal kann zum Beispiel einen BSSID beinhalten, der dem AP, der das Signal übertragen hat, entspricht.Each set of the one or more sets of signals may include only one or more signals (eg, wherein each signal of the plurality of signals is received at a different time). In one embodiment, each set includes the one at Block 202 received signals a signal identifier corresponding to the AP, which has sent the entirety of the signals. For example, each signal may include a BSSID corresponding to the AP that transmitted the signal.
Bei Block 204 werden ein oder mehrere Sätze Signalmetriken generiert basierend auf dem einen oder mehreren Sätzen von Signalen, die bei Block 202 empfangen wurden. In einer Ausführungsform ist zumindest eine Signalmetrik in jedem der einen oder mehreren Sätze Signalmetriken ein RSSI, der einem der bei Block 202 empfangenen Signale entspricht. Jeder Satz von Signalmetriken kann nur eine Signalmetrik oder auch mehrere Signalmetriken beinhalten. In einer Ausführungsform, in der zum Beispiel jeder Satz Signale, der bei Block 202 empfangen wird, zwei oder mehr Signale beinhaltet, kann jeder Satz Signalmetriken einen Spitzen-RSSI-Wert und einen Durchschnitts-RSSI-Wert beinhalten, zwei oder mehr RSSIs, die den zwei oder mehr empfangenen Signalen entsprechen usw. In einigen Ausführungsformen wird zum Beispiel in jedem Satz von Signalmetriken von einer Netzwerkschnittstelle des Mobilgeräts, wie beispielsweise der Netzwerkschnittstelle 130 im Mobilgerät 112 von 1, zumindest eine Signalmetrik generiert. In anderen Ausführungsformen wird von einer Engine im Mobilgerät (z. B. der Engine der privaten Lokalisierungsdatenbank 134 von 1), die Signalinformationen von einer Netzwerkschnittstelle des Mobilgeräts empfängt, in jedem Satz Signalmetriken zumindest eine Signalmetrik generiert. Eine Netzwerkschnittstelle des Mobilgeräts kann zum Beispiel einen Leistungspegel für jedes empfangene Signal erfassen und die entsprechenden digitalen Signale an einen oder mehrere Prozessoren des Mobilgeräts übertragen und der/die Prozessor(en) können dann die digitalen Signale verarbeiten und RSSIs in einem geeigneten Format generieren.At block 204 For example, one or more sets of signal metrics are generated based on the one or more sets of signals that are at block 202 were received. In one embodiment, at least one signal metric in each of the one or more sets of signal metrics is an RSSI that is one of Block 1 202 corresponds to received signals. Each set of signal metrics may include only one signal metric or multiple signal metrics. For example, in one embodiment, where each set of signals is at block 202 may include two or more signals, each set of signal metrics may include a peak RSSI value and an average RSSI value, two or more RSSIs corresponding to the two or more received signals, etc. In some embodiments, for example each set of signal metrics from a network interface of the mobile device, such as the network interface 130 in the mobile device 112 from 1 , generates at least one signal metric. In other embodiments, an engine in the mobile device (eg, the private location database engine 134 from 1 ) receiving signal information from a network interface of the mobile device generates at least one signal metric in each set of signal metrics. For example, a network interface of the mobile device may capture a power level for each received signal and transmit the corresponding digital signals to one or more processors of the mobile device, and the processor (s) may then process the digital signals and generate RSSIs in an appropriate format.
Bei Block 206 werden eine oder mehrere angegebene Lokalisierungen über eine Benutzerschnittstelle des Mobilgeräts empfangen. In einer Ausführungsform werden die angegebenen Lokalisierungen als Daten empfangen, die die manuelle Auswahl des Benutzers des Mobilgeräts repräsentieren. Die angegebenen Lokalisierungen können zum Beispiel einer oder mehreren Lokalisierungen entsprechen, die vom Benutzer auf einer Karte, die dem Benutzer über die Benutzerschnittstelle angezeigt wird, ausgewählt wurden. In einer Ausführungsform entspricht jede empfangene angegebene Lokalisierung einem der Sätze von Signalen, die bei Block 202 empfangen wurden und/oder einem der Sätze von Signalmetriken, die bei Block 204 generiert wurden. In einer Ausführungsform werden die eine oder die mehreren angegebenen Lokalisierungen von einer Engine im Mobilgerät (z. B. der Engine der privaten Lokalisierungsdatenbank 134 von 1) empfangen.At block 206 one or more specified locations are received via a user interface of the mobile device. In one embodiment, the specified locations are received as data representing manual selection of the user of the mobile device. For example, the specified locations may correspond to one or more locations selected by the user on a map displayed to the user via the user interface. In one embodiment, each received specified location corresponds to one of the sets of signals that are at block 202 received and / or one of the sets of signal metrics that are at block 204 were generated. In one embodiment, the one or more specified locations are from an engine in the mobile device (eg, the private location database engine 134 from 1 ) received.
Bei Block 210 werden die lokalisierungsspezifischen Informationen an eine AP Lokalisierungs-Engine geliefert, um die geschätzten Lokalisierungen der APs, die die bei Block 202 empfangenen Signale gesendet haben, zu ermitteln. Die AP Lokalisierungs-Engine kann zum Beispiel so ähnlich aufgebaut sein, wie die AP Lokalisierungs-Engine 150 von 1. In einer Ausführungsform liefert eine Engine im Mobilgerät (z. B. die Engine der privaten Lokalisierungsdatenbank 134 von 1) die lokalisierungsspezifischen Informationen an die AP Lokalisierungs-Engine. Die lokalisierungsspezifischen Informationen beinhalten Daten, die einen oder mehrere Sätze von Signalmetriken, die bei Block 204 generiert wurden und Daten, die eine oder mehrere angegebene Lokalisierungen, die bei Block 206 empfangen wurden, repräsentieren. In Ausführungsformen, in denen die Signalmetriken bei Block 204 in einem geeigneten Datenformat generiert werden, und/oder die angegebenen Lokalisierungen bei Block 206 in einem geeigneten Datenformat empfangen werden, können die lokalisierungsspezifischen Daten einfach die generierten Signalmetrikdaten und/oder die empfangenen angegebenen Lokalisierungsdaten reproduzieren. In anderen Ausführungsformen wandelt das Mobilgerät die Signalmetriken und die angegebenen Lokalisierungen in ein geeignetes Format um, wenn es die lokalisierungsspezifischen Informationen generiert.At block 210 For example, the localization-specific information is provided to an AP localization engine to determine the estimated locations of the APs that are at block 202 received received signals to determine. For example, the AP localization engine may be constructed similar to the AP localization engine 150 from 1 , In one embodiment, an engine in the mobile device (eg, the private location database engine 134 from 1 ) The location-specific information to the AP localization engine. The location-specific information includes data representing one or more sets of signal metrics that are at block 204 were generated and data containing one or more specified localizations at block 206 received represent. In embodiments in which the signal metrics at block 204 be generated in a suitable data format, and / or the specified localizations at block 206 in a suitable data format, the location-specific data may simply reproduce the generated signal metric data and / or the received specified location data. In other embodiments, the mobile device converts the signal metrics and the specified locations into a suitable format when generating the location-specific information.
In einer Ausführungsform verbinden die lokalisierungsspezifischen Informationen jede angegebene Lokalisierung, die bei Block 206 empfangen wurde, mit einem entsprechenden Satz von Signalmetriken, die bei Block 204 generiert wurden. Die lokalisierungsspezifischen Informationen können zum Beispiel vom Mobilgerät in einem Format angeordnet werden, von dem (z. B. von einem System des Lokalisierungsanbieters und/oder von anderen Engines oder Modulen im Mobilgerät) erkannt wird, dass es jede angegebene Lokalisierung mit dem entsprechenden Satz von Signalmetriken verbindet.In one embodiment, the location-specific information associates each specified location that is at block 206 was received, with a corresponding set of signal metrics, at block 204 were generated. For example, the location-specific information may be arranged by the mobile device in a format that (eg, from a system of the location provider and / or other engines or modules in the mobile device) is recognized as having any given location with the corresponding set of Connecting signal metrics.
In Ausführungsformen, in denen die AP Lokalisierungs-Engine in einem System des Lokalisierungsanbieters oder in einem vom Mobilgerät entfernt liegenden Server eines Fremdbetreibers beinhaltet ist, kann das Bereitstellen der lokalisierungsspezifischen Informationen an die AP Lokalisierungs-Engine die Übertragung der lokalisierungsspezifischen Informationen an das System des Lokalisierungsanbieters oder an einen Server eines Fremdbetreibers über ein oder mehrere Netzwerke (z. B. ein zellulares Netzwerk und/oder verdrahtetes oder drahtloses Ethernet), und/oder das Senden eines Befehls oder einer Anfrage, die ein Gerät veranlasst, die lokalisierungsspezifischen Informationen zu übertragen, beinhalten. In Ausführungsformen, in denen die AP Lokalisierungs-Engine hingegen im Mobilgerät beinhaltet ist, kann das Bereitstellen der lokalisierungsspezifischen Informationen an die AP Lokalisierungs-Engine das Senden der lokalisierungsspezifischen Informationen an die AP Lokalisierungs-Engine im Mobilgerät beinhalten.In embodiments in which the AP localization engine is included in a system of the location provider or in a mobile remote server of a third-party operator, the provision of the Localization-specific information to the AP localization engine, the transfer of the location-specific information to the system of the localization provider or to a third-party server over one or more networks (eg, a cellular network and / or wired or wireless Ethernet), and / or Sending a command or request that causes a device to transmit the location-specific information. On the other hand, in embodiments where the AP localization engine is included in the mobile device, providing the localization-specific information to the AP localization engine may include sending the localization-specific information to the AP localization engine in the mobile device.
Während das Verfahren 200 in Bezugnahme auf AP-Lokalisierungen beschrieben ist, werden in anderen Ausführungsformen hingegen andere Sendeeinrichtung (z. B. andere stationäre oder halbstationäre Sendeeinrichtungen) verwendet. Zusätzlich kann das Verfahren 200 weitere Blocks, die nicht in 2 gezeigt werden, enthalten. Das Verfahren 200 kann zum Beispiel einen zusätzlichen Block beinhalten, in dem Angaben eines oder mehrerer Mitbenutzungskriterien über die Benutzerschnittstelle des Mobilgeräts empfangen werden. Die Mitbenutzungskriterien können dann (z. B. vom Mobilgerät, von einem System des Lokalisierungsanbieters usw.) beim Feststellen, ob die geschätzten Lokalisierungen anderen Geräten zugänglich gemacht werden sollen, zum Beispiel, angewendet werden. Die Mitbenutzungskriterien werden weiter unten gemäß den verschiedenen Ausführungsformen genauer erörtert.While the procedure 200 however, in other embodiments, other transmitting means (eg, other stationary or semi-stationary transmitting means) are used. In addition, the process can 200 more blocks not in 2 be shown included. The procedure 200 For example, it may include an additional block in which indications of one or more sharing criteria are received via the user interface of the mobile device. The sharing criteria may then be applied (eg, by the mobile device, by a system of the location provider, etc.) in determining whether the estimated locations should be made available to other devices, for example. The sharing criteria will be discussed in more detail below according to the various embodiments.
Des Weiteren können die in Verfahren 200 in 2 gezeigten Blocks in einer anderen Reihenfolge als gezeigt vorhanden sein. In einer Ausführungsform befindet sich Block 206 zum Beispiel vor Block 202, zwischen Block 202 und 204, oder im Allgemeinen parallel zu Block 202 oder 204 oder zu beiden. In einem anderen Beispiel kann sich Block 210 im Allgemeinen parallel zu Blocks 202, 204 und 206 befinden (Teile der lokalisierungsspezifischen Informationen können z. B. generiert werden, wenn jedes Signal und jedes indizierte Lokalisierungspaar empfangen und verarbeitet wird).Furthermore, those in procedures 200 in 2 shown blocks in a different order than shown. In one embodiment, block is located 206 for example, before block 202 , between block 202 and 204 , or in general, parallel to block 202 or 204 or to both. In another example, block 210 generally parallel to blocks 202 . 204 and 206 For example, portions of the locale-specific information may be generated when each signal and indexed pair of locators are received and processed).
3 ist ein anderes Blockdiagramm, das das Beispielsystem 100 von 1. zeigt. Während 1 ein Szenario zeigt, in dem ein Mobilgerät-Benutzer die private Lokalisierungsdatenbank 142 erstellt oder aktualisiert, zeigt 3 ein Szenario, in dem die private Lokalisierungsdatenbank 142, die unter Verwendung des Mobilgeräts 112 von 1 erstellt wurde, mit einem Benutzer eines ersten Mobilgeräts 212A zur Verwendung bei der Lokalisierung des Geräts 212A geteilt wird. Umgekehrt wird die private Lokalisierungsdatenbank 142 nicht mit einem zweiten Mobilgerät 212B geteilt, das im Szenario von 3 auch versucht, sich selbst zu lokalisieren. 3 is another block diagram that shows the example system 100 from 1 , shows. While 1 a scenario shows in which a mobile device user's private localization database 142 created or updated, shows 3 a scenario in which the private localization database 142 using the mobile device 112 from 1 created with a user of a first mobile device 212A for use in locating the device 212A is shared. Conversely, the private localization database 142 not with a second mobile device 212B shared in the scenario of 3 also trying to locate oneself.
Jedes der Mobilgeräte 212 beinhaltet eine Netzwerkschnittstelle 214 (z. B. vergleichbar mit der Netzwerkschnittstelle 130 in 1) und eine Benutzerschnittstelle 216 (z. B. vergleichbar mit Benutzerschnittstelle 132 in 1). Zusätzlich beinhaltet jedes Mobilgerät 212 eine Lokalisierungs-Engine des Mobilgeräts 218. Jede Lokalisierungs-Engine des Mobilgeräts 218 beinhaltet Softwarebefehle, die in einem computerlesbaren Medium gespeichert und so konfiguriert sind, dass sie durch einen oder mehrere Prozessoren in dem jeweiligen Mobilgerät 212 ausgeführt werden. In verschiedenen anderen Ausführungsformen beinhaltet jede Lokalisierungs-Engine des Mobilgeräts 218 Hardware, Firmware, oder eine Kombination aus Software, Hardware und/oder Firmware. Jede Lokalisierungs-Engine des Mobilgeräts 218 ist im Allgemeinen so konfiguriert, dass sie die Position des entsprechenden Mobilgeräts 212 basierend auf Signalen, die von APs (wie beispielsweise APs 120) und bekannten Positionen der APs empfangen werden, schätzt. In einigen Ausführungsformen und Szenarien verwendet jede Lokalisierungs-Engine des Mobilgeräts 218 auch Signale von anderen Sendeeinrichtungen (z. B. Sendeeinrichtungen in Funkmasten), um die Lokalisierung des entsprechenden Mobilgeräts 212 zu schätzen. In weiteren anderen Ausführungsformen und Szenarien kann jede Lokalisierungs-Engine des Mobilgeräts 218 auch Signale von Hardware und/oder Software innerhalb des entsprechenden Mobilgeräts 212, die dafür konfiguriert sind, Relativbewegungen zu erkennen (z. B. ein Gyroskop, ein Kompass, ein Barometer, ein Beschleunigungsmesser, eine Kamera mit Videoverarbeitung zur Erkennung von Bewegungen, ein Lautsprecher und Mikrofon mit Verarbeitung von Audiosignalen, um Bewegungen zu erkennen usw.), verwenden.Each of the mobile devices 212 includes a network interface 214 (eg comparable to the network interface 130 in 1 ) and a user interface 216 (eg comparable to user interface 132 in 1 ). In addition, every mobile device includes 212 a localization engine of the mobile device 218 , Any localization engine of the mobile device 218 includes software instructions stored in a computer readable medium and configured to be accessed by one or more processors in the respective mobile device 212 be executed. In various other embodiments, each localization engine includes the mobile device 218 Hardware, firmware, or a combination of software, hardware and / or firmware. Any localization engine of the mobile device 218 is generally configured to match the position of the corresponding mobile device 212 based on signals received from APs (such as APs 120 ) and known locations of the APs estimates. In some embodiments and scenarios, each localization engine uses the mobile device 218 also signals from other transmitting devices (eg transmitting devices in radio masts) to the location of the corresponding mobile device 212 appreciate. In other other embodiments and scenarios, any localization engine of the mobile device may 218 also signals from hardware and / or software within the corresponding mobile device 212 configured to detect relative movements (eg, a gyroscope, a compass, a barometer, an accelerometer, a video-processing camera to detect motion, a speaker and microphone to process audio signals to detect movement, etc.). ).
3 zeigt eine private Lokalisierungsdatenbank 142, wie sie sich darstellt, nachdem die AP Lokalisierungs-Engine 150 die geschätzten Lokalisierungen der APs 120 ermittelt hat (z. B. wenn das in 1 abgebildete Szenario eintritt). So speichert die private Lokalisierungsdatenbank 142 eine geschätzte Lokalisierung und den zugehörigen Identifikator für jeden AP 120 (d. h. EST_LOC1 und BSSID1 für AP 120A, EST_LOC2 und BSSID2 für AP 120B und EST_LOC3A und BSSID3 für AP 120C). In dem in 3 dargestellten Szenario speichert die Master-Lokalisierungsdatenbank 158 die AP Lokalisierungsinformationen und die Identifikationsinformationen für verschiedene APs, die nicht in 3 dargestellt sind, sowie die AP-Lokalisierungsinformationen und die Identifikationsinformationen für AP 120C. Die geschätzte Lokalisierung für AP 120C, die in der Master-Lokalisierungsdatenbank 158 (EST_LOC3B) gespeichert ist, unterscheidet sich jedoch von der geschätzten Lokalisierung für AP 120C, die in der privaten Lokalisierungsdatenbank 142 (EST_LOC3A) gespeichert ist. Während EST_LOC3A zum Beispiel eine Lokalisierung ist, die von einer AP Lokalisierungs-Engine 150 unter Verwendung der von Mobilgerät 112 von 1 empfangenen lokalisierungsspezifischen Daten bestimmt wurde, kann EST_LOC3B eine Lokalisierung sein, die von einem GPS-System eines Mobilgeräts, das nicht in 1 oder 3 dargestellt ist, bestimmt wurde sein, oder eine Lokalisierung, die direkt vom AP 120C des Systems des Lokalisierungsanbieters 110 bestimmt wurde, oder eine Lokalisierung, die auf andere Weise bestimmt wurde. Zusätzlich können EST_LOC3A und EST_LOC3B zu unterschiedlichen Zeiten bestimmt worden sein. EST_LOC3B kann zum Beispiel zum ersten Mal bestimmt worden sein, als AP 120C bei einer alte Lokalisierung war und EST_LOC3A kann ein zweites Mal bestimmt worden sein, als sich AP 120C an der aktuellen Lokalisierung befand (d. h. EST_LOC3B kann obsolet oder „veraltet” sein). 3 shows a private localization database 142 as it presents itself after the AP localization engine 150 the estimated locations of the APs 120 determined (eg if the in 1 pictured scenario occurs). How to save the private localization database 142 an estimated location and the associated identifier for each AP 120 (ie EST_LOC1 and BSSID1 for AP 120A , EST_LOC2 and BSSID2 for AP 120B and EST_LOC3A and BSSID3 for AP 120C ). In the in 3 The scenario depicted stores the master localization database 158 the AP localization information and the identification information for different APs that are not in 3 and the AP location information and the identification information for AP 120C , The estimated location for AP 120C included in the master localization database 158 (EST_LOC3B), but is different from the estimated location for AP 120C in the private localization database 142 (EST_LOC3A) is stored. For example, while EST_LOC3A is a localization used by an AP localization engine 150 using the mobile device 112 from 1 received localization-specific data, EST_LOC3B may be a localization of a GPS system of a mobile device that is not in 1 or 3 is to be determined, or a localization, directly from the AP 120C the system of the localization provider 110 was determined, or a localization that was otherwise determined. In addition, EST_LOC3A and EST_LOC3B may have been determined at different times. For example, EST_LOC3B may have been first designated as AP 120C was at an old localization and EST_LOC3A may have been determined a second time when AP 120C at the current localization (ie EST_LOC3B may be obsolete or "obsolete").
Die Darstellung von 3 kann verschiedenen Szenarien entsprechen. Mobilgeräte 212 können sich zum Beispiel beide in Gebäuden befinden, die APs 120 enthalten. Als spezifischeres Beispiel können APs 120 Hot Spots sein, die vorübergehend bei einem Konferenzzentrum eingerichtet werden und eine private Lokalisierungsdatenbank 142 kann eine Datenbank sein, deren Eigentümer der Organisator der Konferenz ist und/oder, die von diesem erstellt wurde. 3 kann auch einem Szenario entsprechen, in dem andere Selbstlokalisierungssysteme (falls vorhanden) in Mobilgeräten 212 außer Betrieb sind. Mobilgeräte 212A und/oder 212B können zum Beispiel GPS-Chips beinhalten, aber nicht in der Lage sein, sich mit GPS selbst zu lokalisieren, weil sie sich in Innenräumen befinden.The representation of 3 can correspond to different scenarios. mobile devices 212 For example, both may be in buildings, the APs 120 contain. As a more specific example, APs 120 Hot spots that are temporarily set up at a conference center and a private localization database 142 may be a database owned and / or created by the conference organizer. 3 may also correspond to a scenario in which other self-localization systems (if any) in mobile devices 212 are out of order. mobile devices 212A and or 212B For example, they may include GPS chips but may not be able to locate themselves using GPS because they are indoors.
Im Beispielszenario von 3 erhält Mobilgerät 212A durch Scannen und Speichern eines Quick Response-Codes (QR-Code) 219 (QR_CODE1) die Berechtigung, die private Lokalisierungsdatenbank 142 zu verwenden. In anderen Ausführungsformen wird die private Lokalisierungsdatenbank 142 im Gegensatz (oder zusätzlich) dazu basierend auf anderen Kriterien (z. B. sozialen Netzwerkverbindungen, Verbindung mit einer Organisation, Nähe, Lizenz und/oder Zahlung usw.) geteilt, wie weiter unten im Detail erörtert wird. Der QR-Code 219 kann zum Beispiel automatisch durch das System des Lokalisierungsanbieters 110 als Reaktion auf Datensätze, die in der privaten Lokalisierungsdatenbank 142 (z. B. durch den in 1 dargestellten Prozess) erstellt werden, generiert werden. Der Code 219 kann zum Beispiel mit einer Kameraanwendung, die vom Mobilgerät 212A ausgeführt wird, gescannt werden. In einem Beispielszenario kann der QR-Code 219 bei einer Konferenz durch Aufdrucken des Codes 219 auf einem Poster, auf einer Broschüre, die an die Teilnehmer verteilt wird usw. zur Verfügung gestellt werden. Der QR-Code 219 kann zum Beispiel auch in einer Sharing-Datenbank 157 (die z. B. mit einem Identifikator der privaten Lokalisierungsdatenbank 142 indiziert ist) gespeichert werden. In einer alternativen Ausführungsform ist der Code 219 ein anderer Codetyp (z. B. ein Strichcode, ein alphanumerischer Code usw.), und/oder das Mobilgerät 212A erhält den Code nicht durch Scannen (z. B. manuelle Eingabe eines alphanumerischen Codes durch einen Benutzer).In the example scenario of 3 gets mobile device 212A by scanning and storing a quick response code (QR code) 219 (QR_CODE1) the permission to the private localization database 142 to use. In other embodiments, the private localization database becomes 142 in contrast (or additionally), based on other criteria (eg, social networking, connection to an organization, proximity, license, and / or payment, etc.), as discussed in more detail below. The QR code 219 For example, this can be done automatically by the system of the localization provider 110 in response to records in the private localization database 142 (eg by the in 1 represented process) are generated. The code 219 For example, using a camera application, the mobile device 212A is being scanned. In an example scenario, the QR code may be 219 at a conference by printing the code 219 on a poster, on a booklet that will be distributed to the participants, etc. will be provided. The QR code 219 can, for example, also in a sharing database 157 (for example, with a private localization database identifier 142 is indexed). In an alternative embodiment, the code is 219 another type of code (e.g., a bar code, an alphanumeric code, etc.), and / or the mobile device 212A does not receive the code by scanning (eg, manual entry of an alphanumeric code by a user).
Nach dem Erhalt des Codes 219 und wenn das Mobilgerät 212A versucht, sich selbst zu lokalisieren, beobachtet es Rundfunksignale, die von verschiedenen APs gesendet werden. Im Beispielszenario von 3 empfängt und erkennt Mobilgerät 212A Rundfunksignale von jedem der APs 120A, 120B und 120C (z. B. über Netzwerkschnittstelle 214A) und ermittelt einen AP-Identifikator (BSSID1, BSSID2 bzw. BSSID3), der in jedem empfangenen Signal beinhaltet ist. Die AP Identifikatoren können vom Mobilgerät zum Beispiel mit der Lokalisierungs-Engine 218A ermittelt werden. Das Mobilgerät 212A generiert dann (z. B. über die Lokalisierungs-Engine des Mobilgeräts 218A) eine AP Lokalisierungsabfrage 220, die die ermittelten AP Identifikatoren beinhaltet und überträgt die Abfrage 220 an das System des Lokalisierungsanbieters 110 über das erste Kommunikationsnetzwerk (z. B. ein zellulares Netzwerk, das im Kommunikationsnetzwerk 114 beinhaltet ist). Die AP Lokalisierungsabfrage 220 beinhaltet auch den zuvor vom Mobilgerät 212A gescannten (oder auf andere Weise erhaltenen) QR-Code 219. Die Abfrage 220 kann auch andere Informationen beinhalten, wie zum Beispiel einen Identifikator des Mobilgeräts 212A. In einigen Ausführungsformen umfasst die Abfrage 220 mehrere Abfragen, die zu unterschiedlichen Zeiten an das System des Lokalisierungsanbieters 110 geschickt werden (es werden z. B. laufend Signale von allen APs 120 erfasst usw.).After receiving the code 219 and if the mobile device 212A tries to locate itself, it observes broadcast signals sent by different APs. In the example scenario of 3 receives and recognizes mobile device 212A Broadcast signals from each of the APs 120A . 120B and 120C (eg via network interface 214A ) and detects an AP identifier (BSSID1, BSSID2, or BSSID3, respectively) included in each received signal. The AP identifiers may be from the mobile device, for example, with the localization engine 218A be determined. The mobile device 212A then generates (for example, via the mobile device's location engine 218A ) an AP localization query 220 containing the identified AP identifiers and transmits the query 220 to the localization provider's system 110 via the first communication network (eg a cellular network operating in the communication network 114 is included). The AP localization query 220 also includes the previously from the mobile device 212A Scanned (or otherwise obtained) QR code 219 , The query 220 may also include other information, such as an identifier of the mobile device 212A , In some embodiments, the query includes 220 multiple queries at different times to the localization provider's system 110 be sent (for example, there are continuously signals from all APs 120 recorded, etc.).
Das System des Lokalisierungsanbieters 110 empfängt die AP-Lokalisierungsabfrage 220 über das Kommunikationsnetzwerk 114 und leitet die AP Identifikatoren, die in der Abfrage 220 enthalten sind, an die Schnittstellen-Engine der Lokalisierungsdatenbank 152 weiter. Die Schnittstellen-Engine der Lokalisierungsdatenbank 152 ermittelt dann, welche der empfangenen AP Identifikatoren den AP-Lokalisierungen, die in der Master-Lokalisierungsdatenbank 158 gespeichert sind, entsprechen. Im Szenario von 3 entspricht nur der empfangene AP-Identifikator BSSID3 einer Lokalisierung (d. h. EST_LOC3B) in der Master-Lokalisierungsdatenbank 158. So fragt die Schnittstellen-Engine der Lokalisierungsdatenbank 152 nur die Lokalisierung EST_LOC3B von der Master-Lokalisierungsdatenbank 158 ab.The system of the localization provider 110 receives the AP localization query 220 over the communication network 114 and forwards the AP identifiers that are in the query 220 to the localization database interface engine 152 further. The interface engine of the localization database 152 then determines which of the received AP identifiers correspond to the AP localizations in the master localization database 158 are stored correspond. In the scenario of 3 only the received AP identifier BSSID3 corresponds to a localization (ie EST_LOC3B) in the master localization database 158 , So asks the interface engine of the localization database 152 only the localization EST_LOC3B from the master localization database 158 from.
Zusätzlich ermittelt die Sharing-Engine 154, für welche private Lokalisierungsdatenbanken das Mobilgerät 212A gegebenenfalls die Nutzungsberechtigung hat. Zu diesem Zweck vergleicht die Sharing-Engine 154 den mit der Abfrage 220 empfangenen QR-Code 219 mit den Zulassungsinformationen, die in der Sharing-Datenbank 157 gespeichert sind. In einem Beispiel ist das Mobilgerät 212A berechtigt, die private Lokalisierungsdatenbank 142 zu benutzen, wenn der Code 219 übereinstimmt oder auf andere Weise einem Code auf der Berechtigungsliste, die in der Sharing-Datenbank 157 gespeichert ist, entspricht. Wenn zum Beispiel die Sharing-Datenbank 157 in der privaten Lokalisierungsdatenbank 142 beinhaltet ist (d. h. sie ist spezifisch für nur eine private Lokalisierungsdatenbank 142), kann die Sharing-Engine 154 einfach feststellen, ob der Code 219 mit einem Code, der in der Sharing-Datenbank 157 gespeichert ist, übereinstimmt. Wenn die Sharing-Datenbank 157 dagegen die Berechtigungsdaten für mehrere private Lokalisierungsdatenbanken speichert, kann die Sharing-Engine 154 feststellen, ob der Code 219 mit einem Code in der Sharing-Datenbank 157, der mit einem Identifikator (z. B. einem Speicherort) der privaten Lokalisierungsdatenbank 142 indiziert ist, übereinstimmt. In einer alternativen Ausführungsform kann die Sharing-Engine 154 einen Identifikator des Mobilgeräts 212A, der in der AP Lokalisierungsabfrage 220 beinhaltet ist, verwenden (und nicht einen Code wie den Code 219) um festzustellen, zu welchen privaten Lokalisierungsdatenbanken das Mobilgerät 212A Zugriff hat. In einer anderen alternativen Ausführungsform kann die Sharing-Engine 154 einen Identifikator eines Benutzers von Mobilgerät 212A (z. B. einen Benutzeridentifikator, der in der AP-Lokalisierungsabfrage 220 beinhaltet ist, oder einen Benutzeridentifikator, der ein Querverweis zu den Informationen in der AP-Lokalisierungsabfrage 220 ist) verwenden, um festzustellen, zu welchen privaten Lokalisierungsdatenbanken das Mobilgerät 212A Zugriff hat. Andere Beispiele möglicher Mitbenutzungskriterien werden weiter unten in Bezugnahme auf 4 erörtert.In addition, the sharing engine determines 154 for which private localization databases the mobile device 212A if applicable, has the right to use. To this end, the sharing engine compares 154 with the query 220 received QR code 219 with the licensing information included in the sharing database 157 are stored. In one example, this is the mobile device 212A entitled, the private localization database 142 to use if the code 219 matches or otherwise encodes a permission list in the sharing database 157 is stored corresponds. If, for example, the sharing database 157 in the private localization database 142 is included (ie it is specific to only one private localization database 142 ), the sharing engine 154 just determine if the code 219 with a code in the sharing database 157 stored matches. If the sharing database 157 on the other hand stores the authorization data for several private localization databases, the sharing engine 154 determine if the code 219 with a code in the sharing database 157 containing an identifier (eg, a location) of the private localization database 142 is indexed, matches. In an alternative embodiment, the sharing engine 154 an identifier of the mobile device 212A in the AP localization query 220 is included, use (and not a code like the code 219 ) to determine which private localization databases the mobile device is 212A Has access. In another alternative embodiment, the sharing engine 154 an identifier of a user of mobile device 212A (For example, a user identifier included in the AP localization query 220 is included, or a user identifier that is a cross-reference to the information in the AP localization query 220 is) to determine which private localization databases the mobile device is using 212A Has access. Other examples of possible sharing criteria will be referred to below 4 discussed.
Im Szenario von 3 stellt die Sharing-Engine 154 fest, dass der QR-Code 219 einer privaten Lokalisierungsdatenbank 142 (z. B. durch die Indizierung mit einer privaten Lokalisierungsdatenbank 142 in der Sharing-Datenbank 157) zugeordnet ist und dass das Mobilgerät 212A daher berechtigt ist, die private Lokalisierungsdatenbank 142 zu benutzen. So fragt die Schnittstellen-Engine der Lokalisierungsdatenbank 152 Lokalisierungen in der privaten Lokalisierungsdatenbank 142 ab, die den AP-Identifikatoren in der AP-Lokalisierungsabfrage 220 entsprechen (d. h. Lokalisierungen EST_LOC1, EST_LOC2 und EST_LOC3A, die BSSID1, BSSID2 bzw. BSSID3 entsprechen). In einer alternativen Ausführungsform fragt die Schnittstellen-Engine der Lokalisierungsdatenbank 152 zuerst Lokalisierungen von der privaten Lokalisierungsdatenbank 142 ab und ermittelt dann (z. B. unter Verwendung der Sharing-Engine 154), ob die abgefragten Lokalisierungen vom Mobilgerät 212A verwendet werden können.In the scenario of 3 represents the sharing engine 154 notice that the QR code 219 a private localization database 142 (for example, by indexing with a private localization database 142 in the sharing database 157 ) and that the mobile device 212A is therefore entitled to the private localization database 142 to use. So asks the interface engine of the localization database 152 Localizations in the private localization database 142 from the AP identifiers in the AP localization query 220 (ie, localizations EST_LOC1, EST_LOC2, and EST_LOC3A corresponding to BSSID1, BSSID2, and BSSID3, respectively). In an alternative embodiment, the interface engine queries the location database 152 first localizations from the private localization database 142 and then determines (for example, using the sharing engine 154 ), whether the queried localizations from the mobile device 212A can be used.
Die Merging Engine 156 innerhalb der Schnittstellen-Engine der Lokalisierungsdatenbank 152 empfängt die Lokalisierungen, die von der privaten Lokalisierungsdatenbank 142 und der Master-Lokalisierungsdatenbank 158 abgefragt worden sind und aggregiert die Daten. In einer Ausführungsform ermittelt die Merging Engine 156, ob Lokalisierungsinformationen, die von der privaten Lokalisierungsdatenbank 142 abgefragt wurden, konsistent mit den Lokalisierungsinformationen, die von der Master-Lokalisierungsdatenbank 158 abgefragt wurden, sind und wendet in Situationen, in denen Inkonsistenzen bestehen, eine oder mehrere Konfliktlösungsregeln an. In der Ausführungsform und im Szenario von 3 erkennt die Merging Engine 156 zum Beispiel, dass sowohl die private Lokalisierungsdatenbank 142 als auch die Master-Lokalisierungsdatenbank 158 eine Lokalisierung beinhalten, die BSSID3 entspricht und wendet die Konfliktlösungsregeln an, um festzustellen, ob EST_LOC3A oder EST_LOC3B als Antwort auf die Abfrage 220 an das Mobilgerät 212A gesendet wird.The merging engine 156 within the localization database interface engine 152 receives the localizations from the private localization database 142 and the master localization database 158 have been queried and aggregated the data. In one embodiment, the merging engine determines 156 whether localization information from the private localization database 142 queried, consistent with the localization information provided by the master localization database 158 In situations where inconsistencies exist, they are and will apply one or more conflict resolution rules. In the embodiment and scenario of 3 recognizes the merging engine 156 for example, that both the private localization database 142 as well as the master localization database 158 Include a location corresponding to BSSID3 and apply the conflict resolution rules to determine if EST_LOC3A or EST_LOC3B respond to the query 220 to the mobile device 212A is sent.
In einer Ausführungsform beinhaltet das Anwenden der Konfliktlösungsregeln den Vergleich der Prioritäten der Lokalisierungsdatenbanken, von denen die widersprüchlichen geschätzten Lokalisierungen empfangen werden. Die Merging Engine 156 kann zum Beispiel ermitteln, dass die private Lokalisierungsdatenbank 142 einer höheren Priorität zugeordnet ist als die Master-Lokalisierungsdatenbank 158 und wählt daher EST_LOC3A als beste geschätzte Lokalisierung für AP 120C und nicht EST_LOC3B. In einem Szenario, in dem der Eigentümer der privaten Lokalisierungsdatenbank 142 ein Unternehmen ist, kann zum Beispiel jedes Mobilgerät, das mit dem Unternehmen verbunden ist (das z. B. einem Benutzer, der Mitarbeiter des Unternehmens ist, zugeordnet ist) Lokalisierungen von der privaten Lokalisierungsdatenbank 142 gegenüber Lokalisierungen von der Master-Lokalisierungsdatenbank 158 bevorzugen. In anderen Ausführungsformen können von der Merging Engine 156 kompliziertere Konfliktlösungsregeln oder -algorithmen angewendet werden. Eine private Lokalisierungsdatenbank 142 kann zum Beispiel in einem ersten geografischen Gebiet bevorzugt werden, eine zweite private Lokalisierungsdatenbank (in 3 nicht dargestellt) kann in einem zweiten geografischen Gebiet bevorzugt werden und die Master-Lokalisierungsdatenbank 158 kann in geografischen Gebieten außerhalb des ersten und zweiten geografischen Gebiets bevorzugt werden. In einer Ausführungsform können die Konfliktlösungsregeln dynamisch angepasst werden, basierend auf der Qualität der zuvor geschätzten Lokalisierungen. Die private Lokalisierungsdatenbank 142 und/oder die Master-Lokalisierungsdatenbank 158 können zum Beispiel einem oder mehreren Qualitätsindikatoren, die die Genauigkeit der in den jeweiligen Datenbanken gespeicherten geschätzten Lokalisierungen repräsentieren (z. B. gemäß Feedback durch die Benutzer, durch Vergleich mit Lokalisierungsinformationen, die mit anderen Mitteln gesammelt wurden usw.), zugeordnet sein.In one embodiment, applying the conflict resolution rules involves comparing the priorities of the location databases from which the conflicting estimated locations are received. The merging engine 156 For example, determine that the private localization database 142 is assigned a higher priority than the master localization database 158 and therefore chooses EST_LOC3A as the best estimated location for AP 120C and not EST_LOC3B. In a scenario where the owner of the private localization database 142 For example, if an enterprise is any mobile device that is associated with the enterprise (eg, associated with a user who is a company employee), localizations may be from the private localization database 142 against localizations from the master localization database 158 to prefer. In other embodiments, from the merging engine 156 more complicated conflict resolution rules or algorithms are applied. A private localization database 142 For example, in a first geographic area, a second private localization database (in 3 not shown) may be preferred in a second geographic area and the master location database 158 may be preferred in geographic areas outside the first and second geographic areas. In one embodiment, the conflict resolution rules may be dynamically adjusted based on the quality of the previously estimated locations. The private localization database 142 and / or the master Location database 158 For example, they may be associated with one or more quality indicators that represent the accuracy of the estimated locations stored in the respective databases (eg, according to feedback from the users, by comparison with location information collected by other means, etc.).
Sobald die Merging Engine 156 Lokalisierungen von der privaten Lokalisierungsdatenbank 142 und der Master-Lokalisierungsdatenbank 158 die Konfliktlösungsregeln aggregiert und (wenn nötig) angewendet hat, um die beste Schätzung von doppelten Lokalisierungen zu ermitteln, überträgt das System des Lokalisierungsanbieters 110 über das Kommunikationsnetzwerk 114 eine Antwort 222 an das Mobilgerät 212A. Die Antwort 222 beinhaltet die geschätzten Lokalisierungen jedes AP 120 für die das Mobilgerät 212A einen BSSID in die Abfrage 220 integriert hat. In Szenarien, in denen die Schnittstellen-Engine der Lokalisierungsdatenbank 152 keinen Speicherort einer geschätzten Lokalisierung, der einem empfangenen BSSID entspricht, ermitteln kann, beinhaltet die Antwort 222 keine Lokalisierung des entsprechenden AP. Im Beispielszenario, das in 3 dargestellt ist, beinhaltet die Antwort EST_LOC1, EST_LOC2 und EST_LOC3A, welche AP 120A, AP 120B bzw. AP 120C entsprechen. In einer alternativen Ausführungsform beinhalten separate Antworten jeweils eine oder mehrere aber nicht alle der geschätzten AP-Lokalisierungen (z. B. jedes Mal, wenn eine geschätzte Lokalisierung von der privaten Lokalisierungsdatenbank 142 von der Master-Lokalisierungsdatenbank 158 abgefragt wird, oder in regelmäßigen Abständen, so lange bis zumindest eine geschätzte Lokalisierung abgerufen wurde usw. wird eine Antwort an das Mobilgerät 212A gesendet). In einer anderen alternativen Ausführungsform beinhaltet die Antwort 222 zusätzlich Lokalisierungen eines oder mehrerer APs zusätzlich zu den APs 120A, 120B und 120C. Das System des Lokalisierungsanbieters 110 kann zum Beispiel entscheiden, bestimmte AP-Lokalisierungen zu „prefetchen”, auch wenn keine Angabe der zusätzlichen APs in Abfrage 220 bereitgestellt wurde (z. B. können zusätzliche AP-Lokalisierungen basierend auf der Nähe des/r zusätzlichen AP(s) zu APs 120A, 120B und/oder 120C usw. bereitgestellt werden). In einer weiteren anderen Ausführungsform, in der das System des Lokalisierungsanbieters 110 (und nicht Mobilgerät 212A) die Lokalisierung von Mobilgerät 212A schätzt, beinhaltet die Antwort 222 die geschätzte Lokalisierung des Mobilgeräts 212A anstelle der geschätzten AP-Lokalisierungen EST_LOC1, EST_LOC2 und EST_LOC3A.Once the merging engine 156 Localizations from the private localization database 142 and the master localization database 158 aggregate and apply (if necessary) the conflict resolution rules to determine the best estimate of duplicate localizations, transfers to the localization provider's system 110 over the communication network 114 an answer 222 to the mobile device 212A , The answer 222 includes the estimated locations of each AP 120 for the the mobile device 212A a BSSID in the query 220 integrated. In scenarios where the interface engine of the localization database 152 does not find a location of an estimated location corresponding to a received BSSID contains the response 222 no localization of the corresponding AP. In the example scenario that is in 3 , the response includes EST_LOC1, EST_LOC2, and EST_LOC3A, which AP 120A , AP 120B or AP 120C correspond. In an alternative embodiment, separate responses each include one or more but not all of the estimated AP locations (eg, each time an estimated location from the private location database 142 from the master localization database 158 is polled, or periodically, until at least one estimated location has been retrieved, etc., will be a response to the mobile device 212A Posted). In another alternative embodiment, the answer includes 222 additionally localizations of one or more APs in addition to the APs 120A . 120B and 120C , The system of the localization provider 110 For example, it may decide to "prefet" certain AP localizations, even if there is no specification of the additional APs in query 220 (For example, additional AP localizations may be based on the proximity of the additional AP (s) to APs 120A . 120B and or 120C etc.). In yet another embodiment, the system of the location provider 110 (not mobile device 212A ) the localization of mobile device 212A estimates, includes the answer 222 the estimated location of the mobile device 212A instead of the estimated AP localizations EST_LOC1, EST_LOC2 and EST_LOC3A.
Nach dem Empfang der Antwort 222 über das erste (z. B. zellulare) Kommunikationsnetzwerk, verwendet die Lokalisierungs-Engine des Mobilgeräts 218A die empfangenen geschätzten Lokalisierungen der APs 120 und die Signalmetriken (z. B. RSSIs), die das Mobilgerät 212A für die von den APs 120 empfangenen Signale generiert hat, um eine geschätzte Lokalisierung des Mobilgeräts 212A zu ermitteln. Die Lokalisierungs-Engine des Mobilgeräts 218A kann eine geeignete Lokalisierungstechnik, wie zum Beispiel Triangulation, verwenden. In einer alternativen Ausführungsform ist die Lokalisierungs-Engine des Mobilgeräts 218A in das System des Lokalisierungsanbieters 110, das die Lokalisierung von Mobilgerät 212A schätzt und die geschätzte Lokalisierung über das Kommunikationsnetzwerk 114 an das Mobilgerät 212A überträgt, beinhaltet.After receiving the answer 222 via the first (eg, cellular) communication network, uses the mobile device's location engine 218A the received estimated locations of the APs 120 and the signal metrics (e.g., RSSIs) representing the mobile device 212A for those of the APs 120 received signals to an estimated location of the mobile device 212A to investigate. The localization engine of the mobile device 218A can use a suitable localization technique, such as triangulation. In an alternative embodiment, the locator engine is the mobile device 218A into the system of the localization provider 110 that is the localization of mobile device 212A estimates and estimated localization over the communications network 114 to the mobile device 212A transfers, includes.
In verschiedenen alternativen Ausführungsformen erhält das Mobilgerät 212A durch andere Mittel, die nicht in 3 dargestellt sind, Zugriff auf die privaten Lokalisierungsdatenbank. In einer alternativen Ausführungsform, in der die private Lokalisierungsdatenbank 142 nicht mit dem System des Lokalisierungsanbieters 110 gekoppelt (oder darin beinhaltet ist), (z. B. wenn die private Lokalisierungsdatenbank 142 stattdessen mit einem Server eines Fremdbetreibers gekoppelt ist, in 3 nicht dargestellt), erhält Mobilgerät 212A Zugriff zur privaten Lokalisierungsdatenbank 142 durch Abfrage bestimmter Zugriffsinformationen und Verwendung dieser Informationen, um die geschätzten AP-Lokalisierungen von der Datenbank 142 abzurufen. Mobilgerät 212A kann zum Beispiel Zugriffsinformationen empfangen, die eine Adresse eines Servers eines Fremdbetreibers, der mit der privaten Lokalisierungsdatenbank 142 gekoppelt ist, beinhalten. Die Zugriffsinformationen können Informationen sein, die zum Beispiel manuell über eine Benutzerschnittstelle des Mobilgeräts 212A eingegeben werden, oder Informationen, die von einer Website, zu der das Mobilgerät 212A Zugriff hat, heruntergeladen werden usw. Die Zugriffsinformationen könnten von einem Benutzer von Mobilgerät 212A importiert werden durch Auswahl von Optionen von einem Menü oder einer anderen Schnittstelle zum Beispiel.In various alternative embodiments, the mobile receives 212A by other means that are not in 3 access to the private localization database. In an alternative embodiment, in which the private localization database 142 not with the localization provider's system 110 coupled (or included), (for example, if the private localization database 142 instead coupled with a third-party server, in 3 not shown) receives mobile device 212A Access to the private localization database 142 by querying specific access information and using that information to obtain the estimated AP localizations from the database 142 retrieve. mobile device 212A For example, it may receive access information that is an address of a third-party server associated with the private localization database 142 is coupled. The access information may be information that is, for example, manually via a user interface of the mobile device 212A or information provided by a website to which the mobile device 212A Has access, download, etc. The access information could be from a mobile device user 212A for example, by selecting options from a menu or other interface.
In einer anderen alternativen Ausführungsform erhält Mobilgerät 212A Zugriff zur privaten Lokalisierungsdatenbank 142 durch Herunterladen einer Kopie der privaten Lokalisierungsdatenbank 142 (z. B. von einem Server eines Fremdbetreibers, der eine Kopie der Datenbank 142 pflegt, oder vom Mobilgerät eines Eigentümers, auf dem die Datenbank 142 gespeichert ist). In dieser Ausführungsform kann Mobilgerät 212A die private Lokalisierungsdatenbank 142 an einem Standardspeicherplatz im Mobilgerät 212A speichern und jedes Mal, wenn eine AP-Lokalisierung gebraucht wird, eine Abfrage sowohl bei der privaten Lokalisierungsdatenbank 142 als auch beim System des Lokalisierungsanbieters 110 durchführen (oder nur beim System des Lokalisierungsanbieters 110, wenn eine AP-Lokalisierung in der privaten Lokalisierungsdatenbank 142 nicht gefunden wird). In dieser alternativen Ausführungsform kann eine Merging Engine ähnlich der Merging Engine 156 im Mobilgerät 212A beinhaltet sein und die Sharing-Engine 154 kann im System 100 entfallen.In another alternative embodiment, mobile gets 212A Access to the private localization database 142 by downloading a copy of the private localization database 142 (For example, from a third-party server that has a copy of the database 142 maintains, or from the mobile device of an owner on which the database 142 is stored). In this embodiment, mobile device 212A the private localization database 142 in a standard space in the mobile device 212A and poll each time an AP localization is needed, both at the private localization database 142 as well as the system of the localization provider 110 (or only on the localization provider's system 110 if an AP localization in the private localization database 142 not found). In This alternative embodiment may be a merging engine similar to the merging engine 156 in the mobile device 212A includes his and the sharing engine 154 can in the system 100 omitted.
In anderen Szenarien ist das Mobilgerät 212A dasselbe, wie das Mobilgerät 112 von 1, das verwendet wurde, für die Erstellung und/oder Aktualisierung der privaten Lokalisierungsdatenbank 142. In diesem Szenario (z. B. wenn ein Benutzer eines Mobilgeräts 212A ein Eigentümer einer privaten Lokalisierungsdatenbank 142 ist), kann Mobilgerät 212A auch in der Lage sein, die private Lokalisierungsdatenbank 124 zu verwenden, ohne dass die Sharing-Engine 154 Mitbenutzungskriterien überprüft. Alternativ dazu kann die Sharing-Engine 154 die Berechtigungen auf die gleiche Weise prüfen, unabhängig davon, ob das Mobilgerät 212A mit einem Eigentümer der privaten Lokalisierungsdatenbank 142 verbunden ist, oder mit einer Einzelperson, mit der die private Lokalisierungsdatenbank 142 geteilt wird. Der QR-Code 219 kann zum Beispiel automatisch im Mobilgerät 212A gespeichert werden, wenn Mobilgerät 212A verwendet wird, um Daten für die private Lokalisierungsdatenbank 142 zu sammeln. Alternativ dazu muss der Benutzer von Mobilgerät 212A möglicherweise, wie jeder andere Mobilgerät-Benutzer, den QR-Code 219 scannen, um die private Lokalisierungsdatenbank 142 zu benutzen.In other scenarios, this is the mobile device 212A the same as the mobile device 112 from 1 that was used to create and / or update the private localization database 142 , In this scenario (for example, if a user of a mobile device 212A an owner of a private localization database 142 is), mobile device can 212A also be able to use the private localization database 124 to use without the sharing engine 154 Shared use criteria checked. Alternatively, the sharing engine 154 Check permissions in the same way, regardless of whether the mobile device 212A with an owner of the private localization database 142 or with an individual with whom the private localization database 142 is shared. The QR code 219 can for example automatically in the mobile device 212A be stored when mobile device 212A is used to data for the private localization database 142 to collect. Alternatively, the user must be mobile 212A possibly, like any other mobile device user, the QR code 219 scan to the private localization database 142 to use.
Ähnlich wie bei Mobilgerät 212A, versucht Mobilgerät 212B, sich selbst zu lokalisieren durch 1) Überwachen der Rundfunksignale, die von APs über das zweite (z. B. WiFi) Kommunikationsnetzwerk gesendet werden, 2) Ermitteln der AP-Identifikatoren, die in den empfangenen Signalen beinhaltet sind, 3) Generieren einer AP Lokalisierungsabfrage 224 und 4) Veranlassung, dass die Abfrage 224 auf das System des Lokalisierungsanbieters 110 über das erste Kommunikationsnetzwerk (z. B. ein zellulares Netzwerk, das im Kommunikationsnetzwerk 114 beinhaltet ist) übertragen wird. Im Beispielszenario von 3 empfängt und erkennt das Mobilgerät 212B Rundfunksignale von den APs 120A, 120B und 120C (z. B. über die Netzwerkschnittstelle 214B), und legt fest, dass die empfangenen Signale die AP-Identifikatoren BSSID1, BSSID2 bzw. BSSID3 beinhalten. Wie bei der Abfrage 220 kann auch die Abfrage 224 mehrere Abfragen, die zu unterschiedlichen Zeiten an das System des Lokalisierungsanbieters 110 gesendet werden, umfassen.Similar to mobile device 212A , mobile device is trying 212B to locate itself by 1) monitoring the broadcast signals sent by APs over the second (eg WiFi) communication network, 2) detecting the AP identifiers contained in the received signals, 3) generating an AP location request 224 and 4) causing the query 224 to the localization provider's system 110 via the first communication network (eg a cellular network operating in the communication network 114 is included) is transmitted. In the example scenario of 3 Receives and recognizes the mobile device 212B Broadcast signals from the APs 120A . 120B and 120C (eg via the network interface 214B ), and determines that the received signals include the AP identifiers BSSID1, BSSID2, and BSSID3, respectively. As with the query 220 can also query 224 multiple queries at different times to the localization provider's system 110 to be sent.
Das System des Lokalisierungsanbieters 110 empfängt die AP-Lokalisierungsabfrage 224 über ein Kommunikationsnetzwerk 114 und überträgt die AP-Identifikatoren (BSSIDs), die in Abfrage 224 enthalten sind, an die Schnittstellen-Engine der Lokalisierungsdatenbank 152. Die Schnittstellen-Engine der Lokalisierungsdatenbank 152 ermittelt dann, welche der empfangenen AP Identifikatoren den AP-Lokalisierungen, die in der Master-Lokalisierungsdatenbank 158 gespeichert sind, entsprechen. Wie weiter oben erörtert, entspricht nur der empfangene AP-Identifikator BSSID3 einer Lokalisierung (d. h. EST_LOC3B) in der Master-Lokalisierungsdatenbank 158 im Szenario von 3. So fragt die Schnittstellen-Engine der Lokalisierungsdatenbank 152 nur die Lokalisierung EST_LOC3B von der Master-Lokalisierungsdatenbank 158 ab.The system of the localization provider 110 receives the AP localization query 224 over a communication network 114 and transmits the AP identifiers (BSSIDs) that are in query 224 to the localization database interface engine 152 , The interface engine of the localization database 152 then determines which of the received AP identifiers correspond to the AP localizations in the master localization database 158 are stored correspond. As discussed above, only the received AP identifier BSSID3 corresponds to a location (ie, EST_LOC3B) in the master location database 158 in the scenario of 3 , So asks the interface engine of the localization database 152 only the localization EST_LOC3B from the master localization database 158 from.
Zusätzlich ermittelt die Sharing-Engine 154, welche private Lokalisierungsdatenbanken das Mobilgerät 212B gegebenenfalls benutzen darf. Die Feststellung durch die Sharing-Engine 154 kann zum Beispiel auf gleiche Weise erfolgen, wie die Feststellung, die weiter oben in Verbindung mit Abfrage 220 vom Mobilgerät 212A beschrieben wurde. Im Szenario von 3 jedoch gestattet die Sharing-Engine 154 dem Mobilgerät 212B nicht, die private Lokalisierungsdatenbank 142 zu benutzen, weil der Benutzer von Mobilgerät 212B nicht den QR-Code 219 gescannt hat und die Abfrage 224 daher keinen QR-Code 219 enthielt. Somit werden als Reaktion auf Abfrage 224 von der privaten Lokalisierungsdatenbank 142 keine Lokalisierungen abgefragt. In einer alternativen Ausführungsform stellt die Sharing-Engine 154 fest, dass das Mobilgerät 212B nicht berechtigt ist, die private Lokalisierungsdatenbank 142 zu benutzen, da festgestellt wird, dass ein Identifikator von Mobilgerät 212B (der in der Abfrage 224 beinhaltet ist) nicht in der Sharing-Datenbank 157 beinhaltet ist und/oder nicht mit der privaten Lokalisierungsdatenbank 142 in der Sharing-Datenbank 157 indiziert ist.In addition, the sharing engine determines 154 which private localization databases the mobile device 212B may use. The finding by the sharing engine 154 For example, it can be done in the same way as the statement above in conjunction with query 220 from the mobile device 212A has been described. In the scenario of 3 however, the sharing engine allows 154 the mobile device 212B not, the private localization database 142 to use because the user of mobile device 212B not the QR code 219 scanned and the query 224 therefore no QR code 219 contained. Thus, in response to query 224 from the private localization database 142 no localizations queried. In an alternative embodiment, the sharing engine provides 154 firmly that the mobile device 212B is not entitled to the private localization database 142 to use, since it is determined that an identifier of mobile device 212B (in the query 224 is included) not in the sharing database 157 is included and / or not with the private localization database 142 in the sharing database 157 is indexed.
Nach dem Abrufen der Lokalisierung EST_LOC3B von der Master-Lokalisierungsdatenbank 158 überträgt das System des Lokalisierungsanbieters 110 an das Mobilgerät 212B über das Kommunikationsnetzwerk 114 eine Antwort 226, die EST_LOC3B beinhaltet. Nach dem Empfang der Antwort 226 verwendet die Lokalisierungs-Engine des Mobilgeräts 218B die empfangene geschätzte Lokalisierung von AP 120C und die Signalmetriken (z. B. RSSIs), die das Mobilgerät 212B für Signale, die vom AP 120C empfangen werden, um eine geschätzte Lokalisierung des Mobilgeräts 212B zu ermitteln. Die Lokalisierungs-Engine des Mobilgeräts 218B kann die Lokalisierung des Mobilgeräts 212B unter Verwendung einer geeigneten Technik, wie beispielsweise Triangulation, schätzen. In einer alternativen Ausführungsform ist die Lokalisierungs-Engine des Mobilgeräts 218B im System des Lokalisierungsanbieters 110 beinhaltet und Mobilgerät 212B sendet die Signalmetriken an das System des Lokalisierungsanbieters 110, um die geschätzte Lokalisierung des Mobilgeräts 212B zu ermitteln. Wenn mehr als eine AP-Lokalisierung (z. B. drei oder mehr AP-Lokalisierungen) nötig sind, um die Lokalisierung des Mobilgeräts 212B zu schätzen, darf das System des Lokalisierungsanbieters 110 keine geschätzte Lokalisierung an das Mobilgerät 212B senden, die Lokalisierungs-Engine des Mobilgeräts 218B schätzt keine Lokalisierung im Szenario von 3.After getting the localization EST_LOC3B from the master localization database 158 transmits the system of the localization provider 110 to the mobile device 212B over the communication network 114 an answer 226 that includes EST_LOC3B. After receiving the answer 226 uses the mobile device's location engine 218B the received estimated location of AP 120C and the signal metrics (e.g., RSSIs) representing the mobile device 212B for signals coming from the AP 120C receive an estimated location of the mobile device 212B to investigate. The localization engine of the mobile device 218B can be the localization of the mobile device 212B using a suitable technique, such as triangulation. In an alternative embodiment, the locator engine is the mobile device 218B in the localization provider system 110 includes and mobile device 212B sends the signal metrics to the localization provider's system 110 to the estimated location of the mobile device 212B to investigate. If more than one AP localization (for example, three or more AP localizations) is needed to locate the mobile device 212B to appreciate, the system of the localization provider 110 no estimated localization to the mobile device 212B send, the mobile device's localization engine 218B does not value localization in the scenario of 3 ,
In einer alternativen Ausführungsform und, wie in Zusammenhang mit 1 weiter oben erörtert wurde, beinhaltet die private Lokalisierungsdatenbank 142 keine AP-Lokalisierungen. Wenn zum Beispiel die Mobilgeräte 212A und 212B die WiFi „Fingerabdruck”-Lokalisierungstechniken verwenden, können die Master-Lokalisierungsdatenbank 158 und die private Lokalisierungsdatenbank 142 Modelldaten oder anderen Content beinhalten, die für die Lokalisierung eines Mobilgeräts basierend auf erfassten Fingerabdrücken von AP (oder einer anderen Sendeeinrichtung) verwendet werden können. In einigen dieser Ausführungsformen können die Antworten 222 und 226 andere Daten als AP-Lokalisierungen enthalten (z. B. kann das System des Lokalisierungsanbieters 110 direkt eine geschätzte Lokalisierung des Mobilgeräts 212A oder 212B in der Antwort 222 oder 226 basierend auf einem Vergleich des erfassten Fingerabdrucks mit Modelldaten in der privaten Lokalisierungsdatenbank 142) bereitstellen. Zusätzlich kann in einigen dieser Ausführungsformen die Merging Engine 156 einfach entscheiden, ob Daten von der Master-Lokalisierungsdatenbank 158 oder von der privaten Lokalisierungsdatenbank 142 ohne Ausführung der Konfliktlösungsalgorithmen geschickt werden.In an alternative embodiment and as related to 1 discussed above includes the private localization database 142 no AP localizations. If, for example, the mobile devices 212A and 212B Using the WiFi "fingerprint" localization techniques, the master localization database can be used 158 and the private localization database 142 Contain model data or other content that can be used to locate a mobile device based on captured fingerprints from AP (or other sending device). In some of these embodiments, the answers may be 222 and 226 include data other than AP localizations (for example, the localization provider's system 110 directly an estimated location of the mobile device 212A or 212B in the answer 222 or 226 based on a comparison of the captured fingerprint with model data in the private location database 142 ) provide. In addition, in some of these embodiments, the merging engine 156 Just decide if data from the master localization database 158 or from the private localization database 142 without execution of the conflict resolution algorithms.
In einigen Ausführungsformen beinhaltet das System 100 mehr als eine private Lokalisierungsdatenbank vergleichbar mit der privaten Lokalisierungsdatenbank 142. Die mehreren privaten Lokalisierungsdatenbanken können mit dem System des Lokalisierungsanbieters 110 gekoppelt (oder darin beinhaltet) sein, mit einem oder mehreren Servern eines Fremdbetreibers gekoppelt sein, in verschiedenen Mobilgeräten gespeichert sein, oder in Kombinationen der genannten Beispiele gekoppelt oder gespeichert sein. In einer Ausführungsform verwaltet eine Datenbank (z. B. gespeichert im System des Lokalisierungsanbieters 110 oder gekoppelt mit einem Server eines Fremdbetreibers usw.) ein Verzeichnis, das mehrere Identifikatoren von privaten Lokalisierungsdatenbanken beinhaltet und verschiedene Informationen, die den privaten Lokalisierungsdatenbanken entsprechen (z. B. Kontaktinformationen des Datenbank-Eigentümers, eine Beschreibung des geografischen Gebiets, das von der privaten Lokalisierungsdatenbank abgedeckt wird usw.). Das Verzeichnis kann für die Öffentlichkeit allgemein zugänglich sein, zum Beispiel über eine Website, um anderen die Möglichkeit zu geben, die Eigentümer oder deren Beauftragte zu kontaktieren, um eine Lizenz zu erwerben oder auf andere Weise den Zugriff zu einer der privaten Lokalisierungsdatenbanken zu verhandeln.In some embodiments, the system includes 100 more than a private localization database comparable to the private localization database 142 , The multiple private localization databases can work with the localization provider's system 110 coupled (or included), coupled to one or more third-party servers, stored in various mobile devices, or coupled or stored in combinations of said examples. In one embodiment, a database manages (eg, stored in the localization provider's system 110 or coupled with a third-party server, etc.) a directory containing multiple private localization database identifiers and various information corresponding to the private localization databases (e.g., database owner contact information, a description of the geographic area used by the private Localization database is covered, etc.). The directory may be publicly accessible to the public, for example via a website, to enable others to contact the owners or their agents, to acquire a license, or otherwise negotiate access to one of the private localization databases.
In einigen Ausführungsformen sind mehrere private Lokalisierungsdatenbanken im Eigentum von entsprechenden Einzelpersonen und können mit anderen in einem gleichberechtigten (Peer-to-Peer) System geteilt werden. Zum Beispiel kann eine erste Person eine erste private Lokalisierungsdatenbank ähnlich der privaten Lokalisierungsdatenbank 142 besitzen und eine zweite Person kann eine andere, zweite private Lokalisierungsdatenbank ähnlich der privaten Lokalisierungsdatenbank 142 besitzen. Jede private Lokalisierungsdatenbank kann zum Beispiel nur geschätzte Lokalisierungen beinhalten, die auf Lokalisierungsinformationen basieren, die unter Verwendung des Mobilgeräts des jeweiligen Eigentümers (und/oder der Lokalisierungsinformationen, die unter Verwendung des Mobilgeräts eines Mitglieds einer Organisation, zu der der Eigentümer gehört, oder mit der der Eigentümer auf andere Weise verbunden ist) gesammelt wurden, enthalten. In diesen Ausführungsformen kann jeder Eigentümer (und/oder jedes Mitglieder einer Organisation, die mit dem Eigentümer verbunden ist) die private Lokalisierungsdatenbank verwenden, wenn er/sie sein/ihr Mobilgerät zur Selbstlokalisierung verwendet. Außerdem kann in einigen Ausführungsformen jeder Eigentümer (und/oder jedes Mitglieder einer Organisation, die mit dem Eigentümer verbunden ist) geschätzte Lokalisierungen in einer Master-Lokalisierungsdatenbank eines Lokalisierungsanbieters und/oder geschätzte Lokalisierungen, die in einer privaten Lokalisierungsdatenbank gespeichert sind, die mit anderen Einzelpersonen/Eigentümern geteilt wird, verwenden. Die privaten Lokalisierungsdatenbanken können basierend auf Mitbenutzungskriterien, die zu einem Zeitpunkt festgelegt werden, bevor die selbstlokalisierenden Mobilgeräte versuchen, auf die privaten Lokalisierungsdatenbanken zuzugreifen, geteilt werden. Eine erste private Lokalisierungsdatenbank kann zum Beispiel automatisch (oder als Reaktion auf die vom Eigentümer getroffene Auswahl) mit sozialen Netzwerk-Kontakten (z. B. „Freunden”) des Eigentümers der ersten privaten Lokalisierungsdatenbank geteilt werden und eine zweite private Lokalisierungsdatenbank kann automatisch (oder als Reaktion auf die vom Eigentümer getroffene Auswahl) mit sozialen Netzwerk-Kontakten des Eigentümers der zweiten privaten Lokalisierungsdatenbank geteilt werden. Andere Beispiel-Mitbenutzungskriterien werden weiter unten in Bezugnahme auf 4 erörtert. In einigen gleichberechtigten (Peer-to-Peer) Systemen ist jeder Eigentümer und/oder jede verbundene Organisation (im Gegensatz zu einem Lokalisierungsanbieter) verantwortlich für die Speicherung/Pflege der privaten Lokalisierungsdatenbank des Eigentümers. Jede private Lokalisierungsdatenbank kann zum Beispiel im Mobilgerät des jeweiligen Eigentümers oder in einer Datenbank, die von einem Server eines Fremdbetreibers im Namen des Eigentümers und/oder der verbundenen Organisation gewartet wird, gespeichert werden.In some embodiments, multiple private localization databases are owned by corresponding individuals and may be shared with others in a peer-to-peer system. For example, a first person may have a first private localization database similar to the private localization database 142 own and a second person may have another, second private localization database similar to the private localization database 142 have. For example, each private localization database may include only estimated locations based on location information generated using the respective owner's mobile device (and / or location information obtained using the mobile device of a member of an organization to which the owner belongs, or the owner is connected in another way). In these embodiments, each owner (and / or member of an organization associated with the owner) may use the private localization database if he / she uses his / her mobile device for self-localization. Additionally, in some embodiments, each owner (and / or member of an organization associated with the owner) may have estimated locations in a master location database of a location provider and / or estimated locations stored in a private location database associated with other individuals / Owners shared. The private localization databases may be shared based on sharing criteria set at a time before the self-locating mobile devices attempt to access the private localization databases. For example, a first private localization database may be automatically (or in response to the owner's selection) shared with social network contacts (eg, "friends") of the owner of the first private localization database, and a second private localization database may automatically (or in response to the owner's selection) with social network contacts of the owner of the second private localization database. Other example sharing criteria will be referred to below 4 discussed. In some peer-to-peer systems, each owner and / or affiliate (as opposed to a location provider) is responsible for storing / maintaining the owner's private location database. For example, each private localization database may be stored in the respective owner's mobile device or in a database maintained by a third-party server on behalf of the owner and / or associated organization.
4 ist ein Flussdiagramm eines Beispielverfahrens 240 für die Lokalisierung eines Mobilgeräts unter Verwendung mehrerer Lokalisierungsdatenbanken, wie etwa die Master-Lokalisierungsdatenbank 158 und die private Lokalisierungsdatenbank 142 von 1 und 3. Das Verfahren 240 ist implementiert im System eines Lokalisierungsanbieters, wie zum Beispiel das System des Lokalisierungsanbieters 110 von 3. In einer Ausführungsform wird das Verfahren 240 ganz oder teilweise von einer Engine ähnlich der Schnittstellen-Engine der Lokalisierungsdatenbank 152 von Figs. ausgeführt. 1 und 3. 4 is a flowchart of an example method 240 for locating a mobile device using multiple localization databases, such as the master localization database 158 and the private localization database 142 from 1 and 3 , The procedure 240 is implemented in the system of a localization provider, such as the localization provider system 110 from 3 , In one embodiment, the method 240 all or part of an engine similar to the localization database interface engine 152 of Figs. executed. 1 and 3 ,
Bei Block 242 wird eine Vielzahl von AP-Identifikatoren von einem Mobilgerät, wie zum Beispiel vom Mobilgerät 212A oder vom Mobilgerät 212B von 3, empfangen. Die Vielzahl von AP-Identifikatoren beinhaltet zumindest einen ersten AP-Identifikator und einen zweiten AP-Identifikator und jeder AP-Identifikator entspricht einem AP aus einer Vielzahl von APs, von dem Signale vom Mobilgerät beobachtet werden. Jeder AP-Identifikator kann beispielsweise ein BSSID sein.At block 242 is a variety of AP identifiers from a mobile device, such as the mobile device 212A or from the mobile device 212B from 3 , received. The plurality of AP identifiers include at least a first AP identifier and a second AP identifier, and each AP identifier corresponds to an AP of a plurality of APs from which signals from the mobile are observed. For example, each AP identifier may be a BSSID.
Bei Block 244 wird eine erste geschätzte Lokalisierung für das Mobilgerät bereitgestellt. Die erste geschätzte Lokalisierung entspricht dem ersten AP-Identifikator, der bei Block 242 empfangen wurde und wird von einer Master-Lokalisierungsdatenbank, wie zum Beispiel der Master-Lokalisierungsdatenbank 158 von 3, abgefragt. In einer Ausführungsform liefert das System des Lokalisierungsanbieters die erste geschätzte Lokalisierung an das Mobilgerät, zumindest zum Teil durch Abfragen der ersten geschätzten Lokalisierung von der Master-Lokalisierungsdatenbank, und/oder Übertragung der ersten geschätzten Lokalisierung an das Mobilgerät. Das System des Lokalisierungsanbieters kann zum Beispiel die erste geschätzte Lokalisierung durch Senden des ersten AP-Identifikators an die Master-Lokalisierungsdatenbank in einem geeigneten Abfrageformat und durch Empfangen der ersten geschätzten Lokalisierung von der Master-Lokalisierungsdatenbank als Reaktion abfragen.At block 244 a first estimated location is provided for the mobile device. The first estimated location corresponds to the first AP identifier used at Block 242 was received from a master localization database, such as the master localization database 158 from 3 , queried. In one embodiment, the system of the location provider provides the first estimated location to the mobile device, at least in part by querying the first estimated location from the master location database, and / or transmitting the first estimated location to the mobile device. For example, the system of the location provider may query the first estimated location by sending the first AP identifier to the master location database in an appropriate query format and by receiving the first estimated location from the master location database in response.
Bei Block 246 wird ermittelt, ob das Mobilgerät, von dem die AP-Identifikatoren bei Block 242 empfangen werden, berechtigt ist, die Lokalisierungsinformationen, die in einer privaten Lokalisierungsdatenbank, wie der privaten Lokalisierungsdatenbank 142 von 3, gespeichert sind, zu verwenden. Die Analyse bei Block 246 kann umfassen, dass festgestellt wird, ob das Mobilgerät einem Eigentümer der privaten Lokalisierungsdatenbank zugeordnet ist, und/oder ob das Mobilgerät berechtigt ist, die private Lokalisierungsdatenbank zu teilen. In einigen Ausführungsformen und Szenarien besteht zum Beispiel die Analyse bei Block 246 zumindest zum Teil aus der Feststellung, ob ein Identifikator des Mobilgeräts der privaten Lokalisierungsdatenbank zugeordnet ist (z. B. ob der Identifikator des Mobilgeräts mit der privaten Lokalisierungsdatenbank in einer anderen Datenbank indiziert ist oder ob er an einer Position der privaten Lokalisierungsdatenbank, die für Mobilgeräte reserviert ist, die Zugriff zur privaten Lokalisierungsdatenbank haben usw. gespeichert ist), oder ob er einem Eigentümer der privaten Lokalisierungsdatenbank zugeordnet ist (z. B. ob der Identifikator des Mobilgeräts mit einem Eigentümer der privaten Lokalisierungsdatenbank in einer Eigentümerdatenbank indiziert ist, oder an einer Position in der privaten Lokalisierungsdatenbank gespeichert ist, die für die Angabe des Eigentums an der privaten Lokalisierungsdatenbank usw. reserviert ist).At block 246 It determines if the mobile device from which the AP identifiers are at block 242 is eligible to receive the localization information stored in a private localization database, such as the private localization database 142 from 3 , are stored, to use. The analysis at block 246 may include determining if the mobile device is associated with a private localization database owner and / or if the mobile device is authorized to share the private localization database. For example, in some embodiments and scenarios, the analysis is block 246 at least in part, determining whether an identifier of the mobile device is associated with the private localization database (eg, whether the mobile device identifier is indexed to the private localization database in another database, or if it is located in a location of the private localization database for mobile devices reserved, which has access to the private localization database, etc.), or is associated with a private localization database owner (eg, whether the mobile device identifier is indexed to an owner of the private localization database in an owner database, or on one) Location is stored in the private localization database reserved for specifying the ownership of the private localization database, etc.).
In anderen Ausführungsformen und Szenarien (z. B. wenn das Mobilgerät nicht mit dem Eigentum an der privaten Lokalisierungsdatenbank verbunden ist), erfolgt die Feststellung bei Block 246 zumindest zum Teil durch das Feststellen, ob ein oder mehrere Mitbenutzungskriterien erfüllt sind. In einer Ausführungsform ist das Mobilgerät berechtigt, die in der privaten Lokalisierungsdatenbank gespeicherten Lokalisierungsinformationen zu verwenden, wenn das Mobilgerät einem bestimmten sozialen Netzwerk zugeordnet ist. Ein Eigentümer der privaten Lokalisierungsdatenbank kann zum Beispiel angegeben haben (z. B. unter Verwendung einer Anwendung, die auf einem anderen Mobilgerät läuft, und/oder durch Verbindung mit einer Webseite), dass die private Lokalisierungsdatenbank mit bestimmten Mitgliedern eines bestimmten sozialen Netzwerks (z. B. die Freunde eines Benutzers) geteilt werden kann. Die Analyse bei Block 246 kann die Feststellung beinhalten, ob eine Lokalisierungsabfrage durch das Mobilgerät (z. B. vergleichbar mit Lokalisierungsabfrage 220 oder Lokalisierungsabfrage 224 in 3) einen Indikator beinhaltet, der besagt, ob das Mobilgerät einem Benutzer zugeordnet ist, der ein Mitglied des angegebenen sozialen Netzwerks ist.In other embodiments and scenarios (eg, if the mobile device is not associated with ownership of the private location database), the determination is made at block 246 at least in part by determining whether one or more sharing criteria are met. In one embodiment, the mobile device is authorized to use the location information stored in the private location database when the mobile device is associated with a particular social network. For example, an owner of the private localization database may have indicated (eg, using an application running on another mobile device and / or by connecting to a web page) that the private localization database may be associated with particular members of a particular social network (e.g. B. the friends of a user) can be shared. The analysis at block 246 may include determining whether a location request by the mobile device (eg, comparable to a location query 220 or localization query 224 in 3 ) includes an indicator indicating whether the mobile device is associated with a user who is a member of the specified social network.
In einer anderen Ausführungsform ist das Mobilgerät berechtigt, die Lokalisierungsinformationen, die in der privaten Lokalisierungsdatenbank gespeichert sind, zu benutzen, wenn das Mobilgerät einer bestimmten Organisation zugeordnet ist. Ein Eigentümer der privaten Lokalisierungsdatenbank kann zum Beispiel angegeben haben (z. B. unter Verwendung einer Anwendung, die auf einem anderen Mobilgerät ausgeführt wird und/oder durch Verbindung mit einer Webseite) dass die private Lokalisierungsdatenbank mit Mitarbeitern eines bestimmten Unternehmens geteilt werden kann. Die Analyse bei Block 246 kann dann die Feststellung, ob eine Lokalisierungsabfrage vom Mobilgerät (z. B. ähnlich wie Lokalisierungsabfrage 220 oder Lokalisierungsabfrage 224 in 3) einen Indikator beinhaltet oder ob das Mobilgerät einem Benutzer zugeordnet ist, der mit dem angegebenen Unternehmen verbunden ist (z. B. ein Mitarbeiter ist).In another embodiment, the mobile device is authorized to use the location information stored in the private location database when the mobile device is associated with a particular organization. For example, a private localization database owner may have indicated (eg, using an application running on another mobile device and / or by connecting to a web page) that the private localization database may be shared with employees of a particular company. The analysis at block 246 can then determine whether a localization query from the mobile device (eg similar to localization query 220 or localization query 224 in 3 ) includes an indicator or if the mobile device is associated with a user who is using connected to the specified company (eg an employee).
Allgemeiner gesprochen kann das Mobilgerät berechtigt sein, die in der privaten Lokalisierungsdatenbank gespeicherten Lokalisierungsinformationen zu benutzen, wenn das Mobilgerät einem bestimmten Identifikator oder einer bestimmten Gruppe von Identifikatoren zugeordnet ist. Der Identifikator kann die Verbindung mit einem sozialen Netzwerk oder einer Organisation (wie weiter oben beschrieben) angeben, oder er kann die Verbindung mit einer Person oder einer Einheit, die von einem Eigentümer der privaten Lokalisierungsdatenbank auf andere Weise ausgewiesen wurde, angeben. Identifikatoren von Mobilgeräten, die Mobilgeräten entsprechen, mit denen die private Lokalisierungsdatenbank geteilt werden kann, können in einer Berechtigungsliste (z. B. einer Berechtigungsliste, die in einer Datenbank, wie der Sharing-Datenbank 157 von 1 und 3, gespeichert ist) enthalten sein.More generally, the mobile device may be entitled to use the location information stored in the private location database when the mobile device is associated with a particular identifier or group of identifiers. The identifier may indicate the connection to a social network or organization (as described above), or may indicate the connection with a person or entity otherwise designated by a private localization database owner. Identifiers of mobile devices that correspond to mobile devices that can share the private localization database can be found in an authorization list (for example, an authorization list stored in a database, such as the sharing database 157 from 1 and 3 , stored).
In einer anderen Ausführungsform ist das Mobilgerät berechtigt, die in der privaten Lokalisierungsdatenbank gespeicherten Lokalisierungsinformationen zu benutzen, wenn das Mobilgerät einem bestimmten Code zugeordnet ist. Das Mobilgerät kann zum Beispiel berechtigt sein, die Lokalisierungsinformationen in der privaten Lokalisierungsdatenbank zu benutzen, wenn das Mobilgerät den Code speichert und den Code (oder Daten, die dem Code entsprechen) in einer Lokalisierungsabfrage, wie die Lokalisierungsabfrage 220 von 3, inkludiert. Ein/e Benutzer/in kann den Code für sein oder ihr Mobilgerät auf verschiedene Arten abfragen. Der Benutzer kann zum Beispiel den Code scannen (z. B. einen QR- oder Strichcode), oder einen numerischen oder alphanumerischen Code, der auf einem Poster, einer Folie, in einer Broschüre etc., an einem bestimmten Ort oder bei einer Veranstaltung (z. B. bei einer Konferenz) aufgedruckt ist, eingeben. Nach dem Abfragen und Speichern des gescannten (oder auf andere Weise eingegebenen) Codes kann das Mobilgerät den Code (z. B. eine Datendarstellung des Codes) zum Beispiel in eine Lokalisierungsabfrage ähnlich der Lokalisierungsabfrage 220 in 3 inkludieren.In another embodiment, the mobile device is authorized to use the location information stored in the private location database when the mobile device is associated with a particular code. For example, the mobile device may be authorized to use the location information in the private location database when the mobile device stores the code and the code (or data corresponding to the code) in a location query, such as the location query 220 from 3 , included. A user can query the code for his or her mobile device in several ways. For example, the user may scan the code (eg, a QR or bar code), or a numeric or alphanumeric code, on a poster, a slide, a booklet, etc., at a particular location, or at an event ( eg at a conference). After interrogating and storing the scanned (or otherwise entered) codes, the mobile device may encode the code (eg, a data representation of the code), for example, into a location query similar to the location query 220 in 3 include.
In einer anderen Ausführungsform ist das Mobilgerät berechtigt, die in der privaten Lokalisierungsdatenbank gespeicherten Lokalisierungsinformationen zu verwenden, wenn ein Zeitpunkt (z. B. die aktuelle Zeit) sich innerhalb einer bestimmten Zeitspanne befindet. Ein Eigentümer der privaten Lokalisierungsdatenbank kann zum Beispiel angegeben haben (z. B. unter Verwendung einer Anwendung, die auf einem anderen Mobilgerät läuft, und/oder durch Verbindung mit einer Webseite), dass die private Lokalisierungsdatenbank mit anderen Mobilgeräten nur an bestimmten Tagen, Wochen usw. (z. B. während einer bestimmten Konferenz) geteilt werden kann.In another embodiment, the mobile device is authorized to use the location information stored in the private location database when a time (eg, the current time) is within a certain period of time. For example, a private localization database owner may have indicated (eg, using an application running on another mobile device and / or by connecting to a web page) that the private localization database with other mobile devices only on certain days, weeks etc. (eg during a particular conference).
In einer anderen Ausführungsform ist das Mobilgerät berechtigt, die in der privaten Lokalisierungsdatenbank gespeicherten Lokalisierungsinformationen zu benutzen, wenn ein Benutzer, der dem Mobilgerät zugeordnet ist, angegeben hat, dem Vertrag über die private Lokalisierungsdatenbank zuzustimmen. Ein Eigentümer der privaten Lokalisierungsdatenbank kann zum Beispiel angegeben haben (z. B. unter Verwendung einer Anwendung, die auf einem anderen Mobilgerät läuft, und/oder durch Verbindung mit einer Webseite), dass die private Lokalisierungsdatenbank mit anderen Mobilgeräten, die Benutzern zugeordnet sind, die angegeben haben, dem Lizenzvertrag zuzustimmen (oder mit Benutzern, die eine Lizenzzahlung getätigt haben usw.) geteilt werden kann. Alternativ dazu kann die private Lokalisierungsdatenbank nur als Reaktion auf die Angabe, dass eine Zahlung geleistet wurde (z. B. eine Lizenzzahlung), geteilt werden.In another embodiment, the mobile device is authorized to use the location information stored in the private location database if a user associated with the mobile device has specified to agree to the private location database contract. For example, an owner of the private localization database may have indicated (eg, using an application running on another mobile device and / or by connecting to a web page) that the private localization database is associated with other mobile devices associated with users. who have indicated that they may agree to the license agreement (or may be shared with users who have made a license payment, etc.). Alternatively, the private localization database may be shared only in response to the indication that a payment has been made (eg, a license payment).
In einer anderen Ausführungsform ist das Mobilgerät berechtigt, die in der privaten Lokalisierungsdatenbank gespeicherten Lokalisierungsinformationen basierend auf der Nähe zu einem anderen Gerät, wie z. B. dem Mobilgerät eines Benutzers, zu benutzen. Das Mobilgerät eines Eigentümers kann zum Beispiel so konfiguriert sein, dass es ein anderes Mobilgerät in Kontakt mit (oder innerhalb eines bestimmten Bereichs von) dem Gerät des Eigentümers erkennt und automatisch (oder als Reaktion auf manuelle Eingaben durch den Eigentümer und/oder den Benutzers des anderen Mobilgeräts) Zugriffsdaten (z. B. einen Code) an das andere Mobilgerät, wo die Zugriffsdaten Zugriff zur privaten Lokalisierungsdatenbank ermöglichen, überträgt. Eine Technologie, wie der Android-Strahl, kann zum Beispiel verwendet werden, um die Zugriffsdaten zu übertragen.In another embodiment, the mobile device is authorized to store the location information stored in the private location database based on proximity to another device, such as a mobile device. B. the mobile device of a user to use. For example, the owner's mobile device may be configured to recognize another mobile device in contact with (or within a certain range of) the owner's device and automatically (or in response to manual input from the owner and / or user of the user) another mobile device) transmits access data (eg, a code) to the other mobile device where the access data allows access to the private localization database. For example, a technology such as the Android beam can be used to transmit the access data.
Im Allgemeinen können neben den oben genannten Beispielen alle geeigneten Mitbenutzungskriterien verwendet werden. Die Mitbenutzungskriterien können Aktionen (z. B. Eingaben über eine Benutzerschnittstelle eines Mobilgeräts) vom Benutzer des Mobilgeräts, der Zugriff zur privaten Lokalisierungsdatenbank wünscht verlangen (z. B. Scannen eines QR-Codes), oder der Zugriff kann automatisch erfolgen (z. B. basierend auf einer aktuellen Zeit, der Nähe eines Benutzers zum Mobilgerät eines Eigentümers oder zu einem bestimmten geografischen Gebiet usw.). In einigen Ausführungsformen werden verschiedene Optionen zu Beginn vom Benutzer des Mobilgeräts ausgewählt (z. B. Entscheidung für eine Anordnung, in der private Lokalisierungsdatenbanken gegenseitig geteilt werden können, Auswahl einer Art der privaten Lokalisierungsdatenbank, die aufgrund von Vertrauen/Popularität oder aufgrund von anderen Kriterien gewünscht wird usw.), aber die Feststellung, ob das Mobilgerät auf die private Lokalisierungsdatenbank zugreifen darf, erfolgt automatisch, ohne dass weitere Aktionen vom Benutzer erforderlich sind.In general, in addition to the above examples, any suitable sharing criteria can be used. The sharing criteria may require actions (eg, inputs via a mobile device user interface) from the user of the mobile device who wishes to access the private location database (eg, scanning a QR code), or access may be automatic (e.g. based on a current time, the proximity of a user to an owner's mobile device or to a particular geographic area, etc.). In some embodiments, various options are initially selected by the user of the mobile device (eg, choosing an arrangement in which private localization databases can be shared, selecting a type of private localization database based on trust / popularity or other criteria desired, etc.), but determining if the mobile device is allowed access to the private localization database, takes place automatically, without further actions being required by the user.
In einigen Ausführungsformen werden bei Block 246 zwei oder mehr der weiter oben beschriebenen Mitbenutzungskriterien und/oder andere Mitbenutzungskriterien für das Teilen angewendet. Die Mitbenutzungskriterien können konjunktiv sein (z. B. für das Teilen müssen alle Mitbenutzungskriterien erfüllt sein), sie können disjunktiv sein (z. B. nur ein Kriterium muss für das Teilen erfüllt sein) oder eine Kombination aus beiden. Die Analyse bei Block 246 kann beispielsweise von einer Sharing-Engine, wie der Sharing-Engine 154 von 1 und 3, ausgeführt werden. In einer Ausführungsform werden die Mitbenutzungskriterien nur angewendet, wenn zuerst bei Block 246 festgestellt wurde, dass das Mobilgerät nicht der privaten Lokalisierungsdatenbank (und/oder einem Eigentümer der privaten Lokalisierungsdatenbank) zugeordnet ist.In some embodiments, at block 246 two or more of the sharing criteria and / or other shared sharing criteria described above have been applied. The sharing criteria can be conjunctive (for example, all sharing criteria must be met for sharing), they can be disjunctive (eg, only one criterion needs to be met for sharing), or a combination of both. The analysis at block 246 for example, by a sharing engine, such as the sharing engine 154 from 1 and 3 to be executed. In one embodiment, the sharing criteria are only applied when first at block 246 it has been determined that the mobile device is not associated with the private localization database (and / or a private localization database owner).
Wenn bei Block 246 festgestellt wird, dass das Mobilgerät berechtigt ist, auf die private Lokalisierungsdatenbank zuzugreifen, wird der Vorgang bei Block 248 fortgesetzt. Bei Block 248 wird dem Mobilgerät eine zweite geschätzte Lokalisierung geliefert. Die zweite geschätzte Lokalisierung entspricht dem zweiten AP-Identifikator, der bei Block 242 empfangen wurde und wird von der privaten Lokalisierungsdatenbank abgefragt. In einer Ausführungsform liefert das System des Lokalisierungsanbieters die zweite geschätzte Lokalisierung an das Mobilgerät, zumindest zum Teil durch Abfrage der zweiten geschätzten Lokalisierung von der privaten Lokalisierungsdatenbank, und/oder Übertragung der zweiten geschätzten Lokalisierung an das Mobilgerät. Das System des Lokalisierungsanbieters kann zum Beispiel die zweite geschätzte Lokalisierung durch Senden des zweiten AP-Identifikators an die private Lokalisierungsdatenbank in einem geeigneten Abfrageformat und als Reaktion auf die zweite geschätzte Lokalisierung von der privaten Lokalisierungsdatenbank abrufen. In einer alternativen Ausführungsform wird die zweite geschätzte Lokalisierung von der privaten Lokalisierungsdatenbank zu einem früheren Zeitpunkt vor den Blocks 246 und 248 abgefragt und Block 248 beinhaltet die Übertragung der zweiten geschätzten Lokalisierung an das Mobilgerät.If at block 246 If the mobile device is determined to be able to access the private localization database, the process is blocked 248 continued. At block 248 A second estimated location is provided to the mobile device. The second estimated location corresponds to the second AP identifier that is at block 242 was received and is queried by the private localization database. In one embodiment, the system of the location provider provides the second estimated location to the mobile device, at least in part by querying the second estimated location from the private location database, and / or transmitting the second estimated location to the mobile device. For example, the system of the location provider may retrieve the second estimated location by sending the second AP identifier to the private location database in an appropriate query format and in response to the second estimated location from the private location database. In an alternative embodiment, the second estimated location is from the private location database earlier than the blocks 246 and 248 queried and block 248 involves the transmission of the second estimated location to the mobile device.
Wenn bei Block 246 festgestellt wird, dass das Mobilgerät nicht berechtigt ist, auf die private Lokalisierungsdatenbank zuzugreifen, wird der Vorgang bei Block 250 fortgesetzt. Bei Block 250 wird die zweite geschätzte Lokalisierung, die dem zweiten AP-Identifikator entspricht, nicht an das Mobilgerät geliefert. In einer Ausführungsform wird bei Block 250 ein Flag oder Datenfeld gesetzt, um anzuzeigen, dass keine geschätzten Lokalisierungen als Reaktion auf Anfragen vom Mobilgerät von der privaten Lokalisierungsdatenbank abgefragt werden können.If at block 246 If it is determined that the mobile device is not authorized to access the private localization database, the process is terminated at block 250 continued. At block 250 the second estimated location corresponding to the second AP identifier is not delivered to the mobile device. In one embodiment, at block 250 set a flag or data field to indicate that no estimated locations can be queried in response to requests from the mobile device from the private location database.
Während das Verfahren 240 einem Szenario entspricht, in dem zwei AP-Identifikatoren empfangen werden und zwei geschätzte Lokalisierungen geliefert werden, kann ein Gerät oder System, das das Verfahren 240 durchführen kann, in anderen Szenarien nur einen einzigen AP-Identifikator empfangen und nur eine geschätzte Lokalisierung oder mehr als zwei AP-Identifikatoren empfangen und mehr als zwei geschätzte Lokalisierungen liefern.While the procedure 240 In a scenario where two AP identifiers are received and two estimated localizations are delivered, a device or system that performs the procedure 240 in other scenarios, receive only a single AP identifier and receive only one estimated location or more than two AP identifiers and provide more than two estimated locations.
In einigen Ausführungsformen beinhaltet das Verfahren 240 zusätzliche Blocks, die nicht in 4 dargestellt sind. In einer Ausführungsform und einem Szenario, in denen sowohl die Master-Lokalisierungsdatenbank als auch die private Lokalisierungsdatenbank eine Lokalisierung beinhalten, die demselben AP-Identifikator entspricht, wird vom Verfahren 240 auch festgestellt, welches die die bessere der beiden geschätzten Lokalisierungen ist. Die bessere Lokalisierung kann zum Beispiel durch Anwendung einer oder mehrerer Konfliktlösungsregeln ermittelt werden. In einer Ausführungsform beinhaltet das Anwenden der Konfliktlösungsregel(n) den Vergleicht der Prioritäten, die der Master-Lokalisierungsdatenbank und der privaten Lokalisierungsdatenbank zugeordnet sind. Eine geschätzte Lokalisierung, die einem bestimmten AP-Identifikator entspricht und in der privaten Lokalisierungsdatenbank gespeichert ist, kann zum Beispiel gegenüber einer geschätzten Lokalisierung, die demselben AP-Identifikator entspricht, aber in der Master-Lokalisierungsdatenbank gespeichert ist, bevorzugt werden.In some embodiments, the method includes 240 additional blocks that are not in 4 are shown. In an embodiment and scenario where both the master localization database and the private localization database include a location that corresponds to the same AP identifier, the method 240 also found out which one is the better of the two valued localizations. The better localization can be determined, for example, by applying one or more conflict resolution rules. In one embodiment, applying the conflict resolution rule (s) involves comparing the priorities associated with the master location database and the private location database. For example, an estimated localization corresponding to a particular AP identifier and stored in the private localization database may be preferred over an estimated localization corresponding to the same AP identifier but stored in the master localization database.
In einer Ausführungsform sind eine oder mehrere Konfliktlösungsregeln dynamisch anpassbar, basierend auf der Qualität von geschätzten Lokalisierungen, die zuvor von der Master-Lokalisierungsdatenbank und/oder der privaten Lokalisierungsdatenbank ermittelt wurden. Eine Priorität der privaten Lokalisierungsdatenbank kann zum Beispiel höher werden als das System des Lokalisierungsanbieters ermittelt und/oder empfängt Informationen, die anzeigen, dass die private Lokalisierungsdatenbank qualitativ hochwertige Lokalisierungsschätzungen geliefert hat. Die Feststellung der Qualität kann basierend auf beliebigen geeigneten Informationen erfolgen, wie etwa Feedback durch die Benutzer, automatischer Vergleich von geschätzten Lokalisierungen in einer Lokalisierungsdatenbank mit anderen geschätzten Lokalisierungen, von denen bekannt ist, dass sie sehr genau sind usw., in Abhängigkeit von den verschiedenen Ausführungsformen.In one embodiment, one or more conflict resolution rules are dynamically adaptable based on the quality of estimated localizations previously determined by the master localization database and / or the private localization database. For example, a priority of the private localization database may become higher than the localization provider's system detects and / or receives information indicating that the private localization database has provided high quality location estimates. The determination of quality may be based on any suitable information, such as user feedback, automatic comparison of estimated locations in a location database with other estimated locations known to be very accurate, and so on, depending on the various embodiments.
In einer anderen Ausführungsform beinhaltet das Verfahren 240 einen zusätzlichen Block, in dem ermittelt wird, ob das Mobilgerät berechtigt ist, die Lokalisierungsinformationen, die in einer zweiten, anderen privaten Lokalisierungsdatenbank gespeichert sind, zu nutzen. Wenn festgestellt wird, dass das Mobilgerät berechtigt ist, die in der zweiten privaten Lokalisierungsdatenbank gespeicherten Lokalisierungsinformationen zu verwenden, wird der Vorgang bei einem weiteren zusätzlichen Block des Verfahrens 240, bei dem eine dritte geschätzte Lokalisierung, die in der zweiten privaten Lokalisierungsdatenbank gespeichert ist, an das Mobilgerät geliefert wird, fortgesetzt. In dieser Ausführungsform entspricht die dritte geschätzte Lokalisierung einem dritten AP-Identifikator der Vielzahl von AP-Identifikatoren, die bei Block 242 empfangen wurden. Die zweite private Lokalisierungsdatenbank kann ähnlich der privaten Lokalisierungsdatenbank 142 sein, die dargestellt ist in 1 und 3, ausgeführt werden.In another embodiment, the method includes 240 an additional block that determines whether the mobile device is authorized to use the location information stored in a second, different private location database. If it is determined that the mobile device is authorized in the second If the localization database uses private localization information, the process becomes another additional block of the procedure 240 in which a third estimated location stored in the second private location database is provided to the mobile device. In this embodiment, the third estimated location corresponds to a third AP identifier of the plurality of AP identifiers identified at Block 242 were received. The second private localization database can be similar to the private localization database 142 be shown in 1 and 3 to be executed.
In einigen Ausführungsformen wird das Verfahren 240 auf Sendeeinrichtungen angewendet, die nicht APs sind. Zusätzlich können die Blocks, die in Verfahren 240 in 4 dargestellt sind, in einer anderen Reihenfolge als gezeigt angeordnet sein. In einer Ausführungsform können die Blocks 246 und 248 oder 250 zum Beispiel vor Block 244 oder allgemein parallel zu Block 244 angeordnet sein. Als ein weiteres Beispiel kann Block 242 allgemein parallel mit den Blocks 244, 246, 248 und/oder 250 ausgeführt werden (z. B. können geschätzte Lokalisierungen an das Mobilgerät stückweise übertragen werden, wenn AP-Identifikatoren vom Mobilgerät empfangen werden).In some embodiments, the method becomes 240 applied to transmitters that are not APs. Additionally, the blocks used in procedures 240 in 4 may be arranged in a different order than shown. In one embodiment, the blocks 246 and 248 or 250 for example, before block 244 or generally parallel to block 244 be arranged. As another example, Block 242 generally in parallel with the blocks 244 . 246 . 248 and or 250 (eg, estimated locations may be transmitted to the mobile piecewise when AP identifiers are received by the mobile).
Die folgenden zusätzlichen Überlegungen gelten für die vorstehende Erörterung. In dieser gesamten Spezifikation können mehrere Instanzen Komponenten, Operationen oder Strukturen implementieren, die als einzelne Instanz beschrieben sind. Auch wenn einzelne Operationen von einem oder mehreren Verfahren als getrennte Operationen veranschaulicht und beschrieben sind, können eine oder mehrere der einzelnen Operationen gleichzeitig durchgeführt werden, und nichts erfordert, dass die Operationen in der veranschaulichten Reihenfolge durchgeführt werden. Diese und andere Variationen, Modifikationen, Ergänzungen und Verbesserungen fallen in den Anwendungsbereich des hierin beschriebenen Gegenstands.The following additional considerations apply to the discussion above. Throughout this specification, multiple instances can implement components, operations, or structures that are described as a single instance. Although individual operations of one or more methods are illustrated and described as separate operations, one or more of the individual operations may be performed concurrently, and nothing requires the operations to be performed in the illustrated order. These and other variations, modifications, additions and improvements are within the scope of the subject matter described herein.
Sofern nicht speziell anders angegeben, können sich Erörterungen hierin, die Wörter, wie „Verarbeitung”, „Berechnung”, „Bestimmung”, „Darstellung”, „Anzeige” oder ähnliches, verwenden, auf Aktionen oder Prozesse einer Maschine (z. B. eines Computers) beziehen, die Daten manipulieren oder transformieren, die als physische (z. B. elektronische, magnetische oder optische) Mengen in einem oder mehreren Speichern (z. B. flüchtiger Speicher, nicht flüchtiger Speicher oder eine Kombination davon), Registern oder anderen Maschinenkomponenten dargestellt sind, die Informationen empfangen, speichern, übertragen oder anzeigen.Unless specifically stated otherwise, discussions herein, words such as "processing," "computation," "determination," "presentation," "display," or the like, may refer to actions or processes of a machine (e. a computer) manipulating or transforming data stored as physical (e.g., electronic, magnetic, or optical) amounts in one or more memories (eg, volatile memory, non-volatile memory, or a combination thereof), registers, or are presented to other machine components that receive, store, transmit or display information.
Wie hierin verwendet, bedeuten Verweise auf „eine Ausführungsform” oder „Ausführungsformen”, dass ein bestimmtes Element, Merkmal, eine Struktur oder eine Eigenschaft, das/die in Verbindung mit der Ausführungsform beschrieben wird, zumindest in einer Ausführungsform enthalten ist. Das Erscheinen der Phrase „in einer Ausführungsform” an verschiedenen Orten in der Spezifikation bezieht sich nicht notwendigerweise immer auf dieselbe Ausführungsform.As used herein, references to "an embodiment" or "embodiments" mean that a particular element, feature, structure, or characteristic described in connection with the embodiment is included in at least one embodiment. The appearance of the phrase "in one embodiment" at different locations in the specification does not necessarily always refer to the same embodiment.
Wie hierin verwendet, sollen die Begriffe „umfasst”, „umfassend”, „beinhaltet”, „enthält”, „hat”, „haben” und andere Varianten davon eine nicht ausschließliche Einbeziehung abdecken. Zum Beispiel ist ein Prozess, ein Verfahren, ein Artikel oder eine Vorrichtung, der/die eine Liste von Elementen umfasst, nicht notwendigerweise nur auf diese Elemente beschränkt, sondern kann andere Elemente beinhalten, die nicht ausdrücklich aufgelistet oder bei einem solchen Prozess, einem solchen Verfahren, einem solchen Artikel oder einer solchen Vorrichtung inhärent sind. Des Weiteren bezieht sich, sofern nichts Gegenteiliges angegeben wird, „oder” auf ein einschließendes und nicht auf ein ausschließendes Oder. Zum Beispiel ist eine Bedingung A oder B durch eines der folgenden erfüllt: A ist wahr (oder vorhanden) und B ist falsch (oder nicht vorhanden), A ist falsch (oder nicht vorhanden) und B ist wahr (oder vorhanden) und sowohl A als auch B sind wahr (oder vorhanden).As used herein, the terms "comprising," "comprising," "including," "containing," "having," "having" and other variants thereof are intended to cover a non-exclusive inclusion. For example, a process, method, article, or device that includes a list of elements is not necessarily limited to only these elements, but may include other elements that are not expressly listed or included in any such process Method, such an article or such a device are inherent. Furthermore, unless otherwise stated, "or" refers to an inclusive and not an exclusive or. For example, an A or B condition is satisfied by one of the following: A is true (or exists) and B is false (or absent), A is false (or absent), and B is true (or exists) and both are A as well as B are true (or present).
Außerdem wird „eine”, „einer” oder „eines” verwendet, um Elemente und Komponenten der Ausführungsformen hierin zu beschreiben. Das erfolgt lediglich aus praktischen Gründen und mit eine allgemeine Vorstellung der Beschreibung zu vermitteln. Die Beschreibung sollte so gelesen werden, dass sie eines oder mindestens eines enthält, und der Singular umfasst auch den Plural, außer es ist offensichtlich anders gedacht.In addition, "a", "an" or "an" is used to describe elements and components of the embodiments herein. This is done for practical reasons and with a general idea of the description. The description should be read to include one or at least one, and the singular also includes the plural, unless it is obviously different.
Nach dem Lesen dieser Offenbarung werden Fachleute durch die hierin offenbarten Prinzipien noch zusätzliche, alternative Struktur- und Funktionsdesigns für ein System und einen Prozess für das Erstellen, Aktualisieren und/oder Verwenden einer privaten Lokalisierungsdatenbank erkennen. Somit sollte, während bestimmte Ausführungsformen und Anwendungen veranschaulicht und beschrieben wurden, es selbstverständlich sein, dass die offenbarten Ausführungsformen nicht auf die genaue Konstruktion und Komponenten beschränkt sind, die hierin offenbart wurden. Verschiedene Modifikationen, Änderungen und Variationen, die für Fachleute auf dem Gebiet ersichtlich werden, können in der Anordnung, dem Betrieb und in den Einzelheiten der Verfahren und der Vorrichtung, die hierin offenbart werden, ohne Abweichung von der Idee und dem Umfang der angehängten Patentansprüche erfolgen.Upon reading this disclosure, the principles disclosed herein will further recognize additional alternative structural and functional designs for a system and process for creating, updating, and / or using a private location database. Thus, while particular embodiments and applications have been illustrated and described, it should be understood that the disclosed embodiments are not limited to the precise construction and components disclosed herein. Various modifications, changes, and variations that will become apparent to those skilled in the art may be made in the arrangement, operation, and details of the methods and apparatus disclosed herein without departing from the spirit and scope of the appended claims ,