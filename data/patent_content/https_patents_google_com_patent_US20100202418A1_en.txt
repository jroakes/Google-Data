US20100202418A1 - Scheduling of data packets over an air interface of a cellular communication system - Google Patents
Scheduling of data packets over an air interface of a cellular communication system Download PDFInfo
- Publication number
- US20100202418A1 US20100202418A1 US12/679,507 US67950708A US2010202418A1 US 20100202418 A1 US20100202418 A1 US 20100202418A1 US 67950708 A US67950708 A US 67950708A US 2010202418 A1 US2010202418 A1 US 2010202418A1
- Authority
- US
- United States
- Prior art keywords
- scheduling
- data packet
- scheduler
- user equipment
- delay
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Granted
Links
- 230000010267 cellular communication Effects 0.000 title claims abstract description 26
- 230000004044 response Effects 0.000 claims abstract description 27
- 230000001419 dependent effect Effects 0.000 claims abstract description 8
- 238000004891 communication Methods 0.000 claims description 39
- 238000000034 method Methods 0.000 claims description 26
- 230000005540 biological transmission Effects 0.000 claims description 22
- 108091006146 Channels Proteins 0.000 claims 5
- 238000013459 approach Methods 0.000 description 10
- 230000008859 change Effects 0.000 description 9
- 230000001934 delay Effects 0.000 description 7
- 230000008901 benefit Effects 0.000 description 5
- 230000003111 delayed effect Effects 0.000 description 5
- 238000005259 measurement Methods 0.000 description 4
- 230000007246 mechanism Effects 0.000 description 3
- 238000001514 detection method Methods 0.000 description 2
- 238000011156 evaluation Methods 0.000 description 2
- 238000005562 fading Methods 0.000 description 2
- 230000002349 favourable effect Effects 0.000 description 2
- 230000003068 static effect Effects 0.000 description 2
- 230000006978 adaptation Effects 0.000 description 1
- 230000003044 adaptive effect Effects 0.000 description 1
- 230000001413 cellular effect Effects 0.000 description 1
- 230000007774 longterm Effects 0.000 description 1
- 238000010295 mobile communication Methods 0.000 description 1
- 230000008520 organization Effects 0.000 description 1
- 238000012913 prioritisation Methods 0.000 description 1
- 230000008569 process Effects 0.000 description 1
- 238000012827 research and development Methods 0.000 description 1
- 230000007480 spreading Effects 0.000 description 1
- 238000005307 time correlation function Methods 0.000 description 1
Images
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W72/00—Local resource management
- H04W72/12—Wireless traffic scheduling
- H04W72/1221—Wireless traffic scheduling based on age of data to be sent
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W72/00—Local resource management
- H04W72/12—Wireless traffic scheduling
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W72/00—Local resource management
- H04W72/04—Wireless resource allocation
- H04W72/044—Wireless resource allocation based on the type of the allocated resource
- H04W72/0473—Wireless resource allocation based on the type of the allocated resource the resource being transmission power
Definitions
- the invention relates to scheduling of data packets over an air interface of a cellular communication system and in particular, but not exclusively, to scheduling of data packets in a 3 rd Generation cellular communication system.
- 3rd generation cellular communication systems such as the Universal Mobile Telecommunication System (UMTS) have been specified to provide a large number of different services including efficient packet data services.
- UMTS Universal Mobile Telecommunication System
- 3GPP 3 rd Generation Partnership Project
- HSDPA High Speed Downlink Packet Access
- the air interface resource is typically the limiting factor for the achievable capacity of the system and therefore it is of the utmost importance that this is used efficiently. It is therefore important that the scheduling of data packets results in an efficient utilisation of the available resource and significant research and development has been undertaken in order to find reliable, practical and efficient scheduling algorithms.
- a Radio Network Controller is responsible for allocating air interface resources to each base station in the form of one or more scrambling codes.
- the RNC will also typically allocate a set of spreading codes that can be used by the base station for carrying HSDPA.
- the base station (Node B) is then responsible for the scheduling of HSDPA data packets over the air interface and specifically for allocating the codes to the individual data packets or mobile stations.
- the individual base station is responsible for scheduling HS-DSCH (High Speed—Downlink Shared CHannel) transmissions to the mobile stations that are attached to it, for operating a retransmission scheme on the HS-DSCH channels, for controlling the coding and modulation for HS-DSCH transmissions to the mobile stations and for transmitting data packets to the mobile stations.
- HS-DSCH High Speed—Downlink Shared CHannel
- scheduling is thus performed at the base station rather than at the RNC.
- This allows scheduling to be sufficiently fast to dynamically follow radio condition variations. For example, when more than one mobile station requires resource from the shared HSDPA channel, the base station may schedule data to the mobile stations experiencing favourable radio conditions in preference to the mobile stations experiencing less favourable conditions.
- the allocated resources and the coding and modulation applied to transmissions to mobile stations may be highly tailored to the current radio conditions experienced by the individual mobile station.
- the fast scheduling performed at the base station allows link adaptation and an efficient resource usage.
- HSDPA seeks to provide packet access techniques with a relatively low resource usage and with low latency.
- HSDPA In addition to using base station based fast scheduling, HSDPA also makes use of other techniques in order to reduce the resource required to communicate data and to increase the capacity of the communication system. These techniques include Adaptive Coding and Modulation (AMC) and a retransmission scheme for lost data packets.
- AMC Adaptive Coding and Modulation
- HARQ Hybrid ARQ
- the mobile station transmits feedback data in the form of uplink acknowledge (ACK) or non-acknowledge (NACK) messages which are used to determine whether individual data packets need to be retransmitted. If no ACK message is received for a given data packet, this data packet is retransmitted to the mobile station.
- ACK uplink acknowledge
- NACK non-acknowledge
- HARQ soft combining of the different transmissions of the data packet is used at the mobile station in order to improve reliability and reduce the required transmit power.
- PF schedulers which perform the scheduling taking into account both channel conditions and achieved throughput fairness.
- PF schedulers seek to provide a reasonable distribution of resources between different users while ensuring that the air interface resource is efficiently used.
- schedulers are primarily designed for scheduling of streaming traffic and best effort data packet services for which the delay budget is relatively large.
- VoIP Voice over Internet Protocol
- ms milliseconds
- an improved scheduling would be advantageous and in particular a scheduling allowing increased flexibility, reduced scheduling delay, efficient resource utilisation and/or improved performance would be advantageous.
- the Invention seeks to preferably mitigate, alleviate or eliminate one or more of the above mentioned disadvantages singly or in any combination.
- a scheduler for scheduling data packets over an air interface of a cellular communication system, the scheduler comprising: means for determining a coherence time for a user equipment; and scheduling means for scheduling at least a first data packet for the user equipment in response to the coherence time.
- the invention may provide improved scheduling in many embodiments and/or scenarios.
- the invention may e.g. allow a dynamic and improved trade-off between scheduling delay and resource usage.
- the first data packet may, dependent on the coherence time be delayed until propagation conditions have improved.
- the first data packet may be delayed until propagation conditions improve if the coherence time is below a given threshold but may be transmitted at a time without consideration of the propagation conditions if the coherence time is above a given threshold.
- the scheduling takes into account how fast the propagation environment may change thus e.g. taking into account the probability of the propagation environment changing within a given time interval available for the scheduling of the first data packet.
- the coherence time may be an indication of a rate, speed or frequency of change of the propagation characteristics of the air interface communication channel used to transmit or receive the first data packet from the user equipment.
- the coherence time may be indicative of how fast the propagation environment changes for the user equipment and may indicate or be dependent on a speed of the user equipment.
- the cellular communication system may be any system comprising at least one cell wherein user equipments are served by a centralised communication station with the communication of the centralised communication station for at least a plurality of user equipments is scheduled together by the scheduler.
- the centralised communication station may specifically be a base station or access point and the cellular communication system may e.g. be a UMTS, HSDPA, Long Term Evolution (LTE) or Wireless Local Area Network (WLAN) system.
- the invention may be applicable to both the uplink and downlink of a cellular communication system.
- base station for a cellular communication system comprising: a scheduler comprising: means for determining a coherence time for a user equipment, and scheduling means for scheduling at least a first data packet for the user equipment in response to the coherence time; and a transmitter for transmitting the first data packet to the user equipment over an air interface communication channel.
- a method of scheduling data packets over an air interface of a cellular communication system comprising: determining a coherence time for a user equipment; and scheduling at least a first data packet for the user equipment in response to the coherence time.
- FIG. 1 is an illustration of a cellular communication system in accordance with some embodiments of the invention.
- FIG. 2 is an illustration of a base station in accordance with some embodiments of the invention.
- FIG. 3 is an illustration of a fade profile for a user equipment of a cellular communication system
- FIG. 4 illustrates an example of a method of scheduling data packets over an air interface of a cellular communication system
- FIG. 5 illustrates an example of a method of scheduling data packets over an air interface of a cellular communication system.
- UMTS Universal Mobile Telecommunication System
- HSDPA High-Speed Downlink Packet Access
- WLAN Wireless Local Area Networks
- IEEE 802.11x wireless Local Area Networks
- a central scheduler is used to schedule data packets for a plurality of users served by a centralised communication unit (such as a base station or a wireless access point).
- FIG. 1 illustrates an example of a cellular communication system in accordance with some embodiments of the invention.
- the cellular communication system is a GSM/UMTS cellular communication system which supports a plurality of user equipments.
- a user equipment may be any communication entity capable of communicating with a base station (or access point) over the air interface including e.g. a mobile phone, a mobile terminal, a mobile communication unit, a remote station, a subscriber unit, a 3G User Equipment etc.
- the base station 105 is coupled to a GSM/UMTS network 109 which represents all aspects of the fixed segment of the GSM/UMTS communication system including other base stations, Radio Network Controllers, Mobile Switching Centres etc as will be well known to the person skilled in the art.
- the user equipments 101 , 103 are actively involved in HSDPA services. Specifically, the user equipments 101 , 103 use HSDPA services to support a Voice over Internet Protocol (VoIP) speech communication. Thus, VoIP HSDPA data packets for the user equipments 101 , 103 are scheduled by an HSDPA scheduler located in the first base station 105 .
- VoIP Voice over Internet Protocol
- FIG. 2 illustrates the first base station 105 in more detail. It will be appreciated that FIG. 5 illustrates only elements necessary for the following description and that a typical base station may comprise other required or desired functionality.
- the base station comprises a transceiver 201 which is capable of transmitting and receiving data over the air interface communication channels established with user equipments 101 , 103 that are supported by the first base station 105 .
- the transceiver 201 is also capable of transmitting and receiving control data over the air interface.
- the transceiver 201 is coupled to a data packet processor 203 which stores and processes the data packets received from an RNC for transmission over the air interface. Specifically, the data packet processor 203 receives data for transmission over the air interface from the RNC supporting the base station 105 and stores them in the data packet processor 203 until a scheduling time interval in which the data packets are scheduled. The data packets are then fed to the transceiver 201 for transmission to the appropriate user equipments 101 , 103 .
- the data packet processor 203 is coupled to a scheduler 205 which is arranged to schedule data packets for transmission over the air interface to the user equipments 101 , 103 .
- the scheduler 205 is an HSDPA scheduler that schedules data packets for the active HSDPA services.
- the scheduler 205 schedules the VoIP data packets intended for the first and second user equipments 101 , 103 .
- the first base station 105 furthermore comprises a propagation characteristic processor 209 which receives measurements of the downlink communication channels from the user equipments 101 , 103 .
- the user equipments 101 , 103 transmit uplink control information to the scheduling base station that can be used to determine the quality of the downlink HSDPA channel.
- the individual user equipment 101 , 103 transmits a Channel Quality Indicator (CQI) data which is indicative of the current propagation conditions for the individual user equipment 101 , 103 .
- CQI Channel Quality Indicator
- the individual user equipment 101 , 103 Based on measurements of the received signal, the individual user equipment 101 , 103 generates a CQI which may indicate a modulation scheme and data rate that is considered to be supportable by the air interface communication channel from the base station 105 to the individual user equipment 101 , 103 .
- the user equipments 101 , 103 may directly transmit a measure of the signal to noise plus interference ratio experienced by the individual user equipment 101 , 103 for the downlink HSDPA transmissions.
- FIG. 3 shows an example of a path loss variation for a moving HSDPA user equipment.
- FIG. 3 illustrates log 10 (path gain) as a function of time slots of duration 0.666 msec for a user equipment moving at a speed of three km/h, with a channel having four paths, one of which is dominant.
- the path loss varies substantially and substantial fades may be experienced which require an excessive transmit power in order to achieve a desired signal to noise ratio.
- the received CQI data indicating the current quality of the propagation channels is taken into account by the scheduler 205 when scheduling data packets for the different user equipments 101 , 103 .
- the scheduler 205 will seek to schedule data packets for a specific user equipment 101 in frames (each 2 ms frame comprises three time slots) in which the propagation channel for that user equipment 101 has a high quality.
- Such an approach is also referred to as upfade riding and can substantially reduce the air interface resource usage.
- HSDPA furthermore comprises a retransmission scheme which ensures that data packets which have not been received by the user equipments 101 , 103 are retransmitted until they are correctly received.
- HSDPA uses a Hybrid Automatic Repeat reQuest (HARQ) retransmission scheme for reducing the error rate.
- the user equipments 101 , 103 receive the transmissions from the first base station 105 and perform an error check. When a data packet is successfully received, the user equipments 101 , 103 transmit an acknowledge message (ACK message), if the data packet is received in error a non-acknowledgement message is transmitted (a NACK message) and if no data packet is detected no message is transmitted. If the first base station 105 receives a NACK message or does not receive any message from a user equipment 101 , 103 , it proceeds to retransmit the data packet.
- the retransmitted data can in a HARQ scheme be additional redundant data of the data packet or other information that can be combined with the earlier transmissions to increase the probability of correct detection.
- the first base station 105 comprises a retransmission processor 207 which is coupled to the transceiver 201 and the data packet processor 203 .
- a data packet is transmitted by the transceiver, it is moved from the data packet processor 203 to the retransmission processor 207 .
- the retransmission processor 207 then receives the ACK/NACK messages from the user equipment 101 , 103 .
- the retransmission processor 207 proceeds to delete the corresponding data packet as this has been successfully transmitted to the appropriate user equipment 101 , 103 .
- the retransmission processor 207 feeds the data packet back to the data packet processor 203 such that the retransmission of the data packet can occur.
- a data packet being retransmitted may be different from the original data packet, e.g. in a HARQ system other redundant data for the data packet may be transmitted as will be well known to the skilled person.
- the base station furthermore comprises a delay processor 211 which is coupled to the retransmission processor 207 , the data packet processor 203 and the scheduler 205 .
- the delay processor 211 is operable to determine and manage the delays of the data packets. For example, for each data packet the delay processor 211 may determine an allowable maximum delay which can be caused by the scheduling of the data packet without a total delay for the communication service supported by the data packet being exceeded. Thus, the delay processor 211 can determine a scheduling delay corresponding to the delay that may be introduced by the air interface scheduling.
- the scheduling delay typically includes the actual delays associated with the communication over the air interface including retransmission delays.
- the maximum delay for a VoIP speech communication may be 250 msecs.
- This delay is a total delay involving all delays of the end-to-end communication and typically a delay budget is determined for each communication service.
- the delay budget allocates a maximum delay to the different operations involved in the end to end communication.
- the delay budget results in the allocation of a maximum scheduling delay to the air interface scheduler.
- the delay processor 211 can determine that for a VoIP service the scheduling delay must be less than thirty msecs, i.e. that the maximum allowable delay for the scheduler 205 is thirty ms.
- the maximum allowable delay for the scheduler 205 is predetermined and a fixed maximum scheduling delay is defined for each communication service.
- the delay processor 211 also determines delay characteristics of the retransmission operation. For example, the delay processor 211 may determine a typical or maximum delay associated with retransmitting a data packet. It will be appreciated that as for the determination of the maximum allowable delay, the determination of a retransmission delay characteristic may also be based on a static predetermined (worst-case) retransmission delay or may be dynamically determined in response to measurements of current retransmission delays.
- the scheduler 205 is arranged to perform the scheduling of the data packets in response to the delay characteristics received from the delay processor 211 . Specifically, the scheduler 205 can schedule the data packets such that the allocated scheduling delay is not exceeded for the data packets, i.e. the data packets are scheduled such that the delay requirement for the individual data packet is met. This may for example be achieved by allocating a priority to each data packet with the probability of higher prioritised data packets being transmitted in the current scheduling interval being higher than for lower prioritised data packets. The prioritisation of a given data packet is adjusted in response to the remaining available delay, i.e. as a delay of a data packet approaches the allowable scheduling delay, the scheduler 205 may increase the priority of the data packet in order to increase the probability that it is scheduled within the allocated delay.
- the scheduler 205 schedules the data packets taking into account both the current propagation characteristics (e.g. fade characteristics) for each user equipment and the delay for each data packet.
- This scheduling inherently involves a trade off as the resource usage may be reduced at the expense of an increased delay by delaying the scheduling of the data packet until the propagation conditions for the corresponding user equipment improves.
- the scheduling is furthermore performed in response to a coherence time for the user equipment 101 to which the data packet is to be transmitted.
- the first base station 105 comprises a, coherence time processor 213 coupled to the propagation characteristics processor 209 and the scheduler 205 .
- the coherence time processor 213 is operable to determine a coherence time for the user equipment. In contrast to the propagation characteristic processor 209 , the coherence time processor 213 does not determine a current propagation parameter, such as a fading parameter, of the propagation channel but rather determines how fast the parameter(s) is(are) changing. Thus, the coherence time determined by the coherence time processor 213 does not reflect a current quality of the propagation channel but rather a speed or frequency of change of the quality of the propagation channel. The coherence time can be used to give an indication of the period of time over which the channel conditions can be considered to be broadly similar.
- the coherence time of a propagation channel is related to a quantity known as the Doppler spread of the channel.
- the Doppler shift When a user equipment (or reflectors in its environment) is moving, the user equipment's velocity causes a shift in the frequency of the signal transmitted along each signal path. This phenomenon is known as the Doppler shift. Signals traveling along different paths can have different Doppler shifts, corresponding to different rates of change in phase. Since the instantaneous channel gain depends on whether signal components add constructively or destructively the size of the Doppler spread determines the duration over which the channel impulse response is essentially invariant, in other words it will determine the coherence time.
- coherence time is inversely related to Doppler spread, typically expressed as:
- T c is the coherence time
- D s is the Doppler frequency/spread (given by velocity of the user equipment divided by radio frequency wavelength)
- k is a constant taking on values in the range of 0.25 to 0.5.
- the coherence time can e.g. be determined as equal to 0.423 divided by the maximum Doppler frequency.
- the factor of 0.423 is an often used value which originates from a definition of coherence time as the root of 9/(16 ⁇ PI ⁇ Fd ⁇ Fd) (where Fd is the Doppler frequency), which is the geometric mean of two other commonly used definitions of coherence time, the first of which is that the coherence time is roughly 1/Fd and the second of which is the time over which the time correlation function is greater than 0.5, which is given by 9/(16 ⁇ PI ⁇ Fd) (Ref. e.g. Theodore S Rappaport, “Wireless communications principle and practice”, Prentice Hall, 1996).
- the coherence time processor 213 determines the coherence time from the CQI measurements reported from the user equipments 101 , 103 . Specifically, the coherence time processor 213 can estimate the average duration between deep fades. This can be achieved, for example, by differentiating estimates of received Ec/No. Estimates of received Ec/No can be determined from CQI values, since CQI is a proxy for received channel quality. Where there is a peak in the differentiated vector (corresponding to a rapid change in gradient from negative to positive) this is an indication of a fade. The duration between fades can be determined using a peak detector and a circuit for measuring the period between peaks. An average of this inter-fade timing can be formed over the last few inter-fade intervals (i.e. an average can be made over a time window).
- the scheduler 205 is arranged to schedule the data packets in response to the determined coherence time.
- the coherence time may simply be included as another factor which is taken into account when determining the relative priority of the data packet. For example, data packets for a user equipment having a high coherence time may be allocated a higher priority than data packets of user equipments having a low coherence time thereby resulting in data packets having a high coherence time being scheduled in advance of data packets having a lower coherence time.
- the coherence time is used to adjust the trade off between reducing resource usage and reducing delays.
- the scheduling may be in response to a time varying propagation characteristic determined by the propagation characteristics processor 209 (e.g. a current path loss value or a fade characteristic) and in response to a delay associated with the communication of the data packets (e.g. a delay which is incurred by the scheduling and transmission of the data packet over the air interface).
- the scheduler 205 can rank all data packets available for scheduling in response to a scheduling cost measure which includes a cost contribution reflecting the resource usage cost for transmitting the data packet in the current scheduling interval (which depends on the current propagation characteristics) and a cost contribution reflecting delay cost for transmitting the data packet in the current scheduling interval (which can e.g. depend on the desired delay and which can increase the longer the data packet has waited for scheduling).
- the relative weights of the resource cost contribution and the delay cost contribution can then be adjusted in response to the coherence time.
- a high weight of the delay cost contribution and a low weight of the resource cost contribution may be set for the data packet.
- a low weight of the delay cost contribution and a high weight of the resource cost contribution may be set for the data packet.
- the consideration of the coherence time in the scheduling performed by the scheduler 205 can provide an improved scheduling and in particular can provide an improved trade off between delay and resource usage for the communication of the data packets over the air interface.
- the described approach may increase the capacity of the whole communication system and/or improve the quality of service of the supported communication services.
- the coherence time is used by the scheduler to prioritise between delay and resource usage for a data packet wherein retransmission is used for data packets.
- a retransmission characteristic in the form of a retransmission delay is taken into account.
- the scheduler 205 determines that the coherence time of a given user equipment 101 is sufficiently short relative to the delay budget available (i.e. the available scheduling delay) then the scheduling is performed taking into account the current propagation characteristics. Specifically, upfade riding is used so that a data packet may be delayed until the propagation conditions meet a given criterion. The scheduler would then make use of the available scheduling delay to wait for (what it estimates) to be an upfade to occur before scheduling the packet.
- the coherence time is long relative to the available delay budget, it is unlikely that the propagation conditions will change substantially and therefore the retransmission mechanism is relied upon. Thus, in this case it is desirable to schedule the data packets such that any retransmissions can occur within the available delay.
- the scheduler 205 will in this case transmit the data packet straightaway to increase the likelihood that any retransmissions occur within the available delay.
- the example for a low coherence time the available delay is used to perform upfade riding in order to reduce resource usage and for a high coherence time the available delay is used for potential retransmissions thereby reducing the delay when retransmissions are used.
- the example can provide an improved exploitation of the radio resource efficiency benefits achievable with the HARQ and upfade riding mechanisms. For example, by transmitting a data packet for a user equipment with a high coherence time such that there is sufficient time for one or more retransmissions, the transmit power for that data packet can be reduced as any increased risk of the data packet not being successfully received can be compensated by the option of one or more retransmissions.
- a reduced radio resource usage is achieved and the example specifically allows an improved trade-off between the radio resource benefits that can be achieved by the upfade riding approach and the retransmission approach.
- FIG. 4 illustrates an example of a method of scheduling that may be used by the scheduler 205 in accordance with such an example. The shown method may be performed for each data packet and scheduling interval.
- the method starts in step 401 wherein it is determined if the coherence time meets a first criterion.
- the first criterion may simply consist in a requirement that the coherence time is less than a given value. If the criterion is met, the available delay will be allocated to upfade riding and if the criterion is not met the available delay will be used to allow possible retransmissions.
- the delay budget available to the scheduler for a VoIP service may be twenty msec.
- the first criterion may simply be a requirement that the coherence time is less than ten msec.
- thresholds may depend on the specific characteristics of the individual embodiments and it has been found that particularly advantageous performance and trade off between delay and resource usage and/or between radio resource benefits of using upfade riding relative to retransmission is typically found for thresholds between around ten to fifty msecs.
- the coherence time may be determined in response to (or be represented by) a speed of the user equipments 101 , 103 .
- step 401 may in some embodiments simply determine if a speed of the user equipment 101 meets a given requirement.
- the coherence time is given by 0.423 divided by the maximum Doppler frequency.
- step 401 may simply evaluate if the speed of the user equipment 101 is below 22.8 km/h. The speed may e.g. be determined in response to accurate location estimates for the user equipment 101 (or can be directly reported by the user equipments 101 , 103 ).
- the available delay is preferably used for retransmissions rather than to wait for an upfade to occur. The method therefore continues in step 403 wherein the data packet is scheduled within the current scheduling interval.
- the schedule 205 proceeds to schedule the data packet independently of the current propagation characteristics.
- the instantaneous propagation characteristics are not taken into account when determining the time at which the data packet needs to be sent but rather an early scheduling of the data packets is performed in order to provide additional time for any retransmissions that may occur.
- the scheduler 205 may in addition consider the delay requirement for the data packet, the remaining available delay for the scheduler and/or a retransmission characteristic.
- the scheduler 205 may from the delay processor 211 receive an indication of the maximum scheduling delay for the data packet as well as a typical or maximum retransmission time associated with the data packet. The scheduler 205 may then subtract the current incurred scheduling delay from the maximum scheduling delay to calculate a remaining available delay. It can then subtract the retransmission time from this remaining available delay to determine a delay margin that would still allow the maximum scheduling delay to be met even if the retransmission occurs. If this delay margin exceeds a scheduling interval, the scheduler 205 may choose to delay the scheduling of the data packet until the following scheduling interval.
- step 401 is followed by step 405 wherein the scheduler 205 evaluates if a time varying propagation characteristic meets a second criterion. Specifically, the scheduler 205 determines whether the communication channel to the user equipment 101 to which the data packet is to be transmitted currently has a required quality. As a simple example, the scheduler can simply determine whether the current path loss for the communication channel is less than a given threshold (or e.g. that the signal to noise ratio is above a given threshold).
- the scheduler 205 considers that the data packet can be transmitted to the user equipment 101 with sufficiently low resource usage and accordingly the method continues in step 403 wherein the data packet is scheduled within the current scheduling interval.
- step 407 the method continues in step 407 wherein the currently introduced scheduling delay is considered. Specifically, it is evaluated if the remaining allowable delay (given as the difference between the allocated scheduling delay and the scheduling delay which has already been used) for the data packet meets a third criterion which specifically can be a requirement that the remaining allowable delay is above a scheduling time interval.
- step 409 the data packet is delayed for the next scheduling interval.
- the data packet must be scheduled in this scheduling interval in order for the delay requirement for the communication service to be met. Accordingly, the method continues in step 403 wherein the data packet is scheduled in the current scheduling interval.
- the criterions used to determine the performed scheduling can be fixed, static and predetermined criterions or may be dynamically determined in response to various parameters and characteristics.
- the propagation criterion used in step 405 may be determined in response to a remaining allowable delay for the data packet. E.g., as the data packet is further delayed in each scheduling interval, the quality of the propagation channel required for the data packet to be transmitted in the current scheduling interval is reduced thereby providing a gradually changing trade off between the resource use and the delay. This trade off can reflect the fact that the probability of the propagation channel changing to a sufficiently high quality reduces as the time available to wait for this to happen reduces.
- the propagation criterion may be reduced to be met by any value of the propagation characteristic thereby ensuring that the data packet is scheduled in the current scheduling interval.
- the operation of step 405 and step 407 may be combined into a single evaluation of a dynamic criterion.
- the described operation of the scheduler thus provides a system wherein a data packet is scheduled in response to a time varying propagation characteristic of an air interface communication channel only if the coherence time meets a first criterion. Otherwise, the scheduling seeks to schedule the data packet as early as possible in order to provide more time for potential retransmissions.
- the specific method solves the problem of how to use the available delay budget most effectively.
- the method specifically selects between the use of the available delay for either retransmission or upfade scheduling based on information gathered concerning each user equipments coherence time.
- the scheduler 205 may not only determine whether the data packet is transmitted in a given scheduling interval but may also allocate a transmit power to the data packet.
- the transmit power may be allocated in dependence on different parameters and may specifically be set dependent on whether the scheduling delay is allocated to fade upriding or retransmissions.
- a transmit power resulting in a higher probability of correct reception by the user equipment may be set if the coherence time meets the first criterion in step 401 than if the coherence time does not meet the first criterion.
- the transmit power can be set such that a high signal to noise ratio is achieved at the user equipment if the coherence time meets the first criterion than if it does not.
- a relatively higher transmit power is used if the available delay is used for upfade riding rather than for retransmissions. As the delay of the data packets associated with upfade riding can result in there being insufficient time for any retransmissions, this can ensure that the risk of such retransmissions being necessary being reduced when upfade riding is used.
- the approach may allow an efficient trade-off between the resource usage benefits of the upfade riding approach and the retransmission approach. Specifically, for low coherence times, the upfade riding may allow a low transmit power as transmission is made when radio conditions are good and for high coherence times, the retransmission scheme is used to set a low transmit power as any decoding failure can be remedied by a retransmission.
- the transmission power may be set dependent on a retransmission characteristic for the data packet.
- the retransmission characteristic can specifically be an indication of a number of previous transmissions of the data packet.
- a data packet has not been retransmitted previously it can be sent at a transmit power that provides a desired probability of correct reception, e.g. that results in a desired signal to noise ratio at the user equipment.
- the HARQ approach allows for the retransmission to be combined with the previous transmission therefore requiring a lower signal to noise ratio to achieve a given detection probability.
- the transmit power may be reduced if the data packet is a retransmission of a previously transmitted data packet.
- FIG. 5 illustrates an example of a method of scheduling data packets over an air interface of a cellular communication system.
- the method starts in step 501 wherein a coherence time is determined for a user equipment.
- Step 501 is followed by step 503 wherein at least a first data packet for the user equipment is scheduled in response to the coherence time.
- the invention can be implemented in any suitable form including hardware, software, firmware or any combination of these.
- the invention may optionally be implemented at least partly as computer software running on one or more data processors and/or digital signal processors.
- the elements and components of an embodiment of the invention may be physically, functionally and logically implemented in any suitable way. Indeed the functionality may be implemented in a single unit, in a plurality of units or as part of other functional units. As such, the invention may be implemented in a single unit or may be physically and functionally distributed between different units and processors.
Abstract
Description
- The invention relates to scheduling of data packets over an air interface of a cellular communication system and in particular, but not exclusively, to scheduling of data packets in a 3rd Generation cellular communication system.
- 3rd generation cellular communication systems, such as the Universal Mobile Telecommunication System (UMTS), have been specified to provide a large number of different services including efficient packet data services. For example, downlink packet data services are supported within the 3rd Generation Partnership Project (3GPP) release 5 Technical Specifications in the form of the High Speed Downlink Packet Access (HSDPA) service.
- In cellular communication systems, the air interface resource is typically the limiting factor for the achievable capacity of the system and therefore it is of the utmost importance that this is used efficiently. It is therefore important that the scheduling of data packets results in an efficient utilisation of the available resource and significant research and development has been undertaken in order to find reliable, practical and efficient scheduling algorithms.
- A Radio Network Controller (RNC) is responsible for allocating air interface resources to each base station in the form of one or more scrambling codes. The RNC will also typically allocate a set of spreading codes that can be used by the base station for carrying HSDPA. The base station (Node B) is then responsible for the scheduling of HSDPA data packets over the air interface and specifically for allocating the codes to the individual data packets or mobile stations. For example, the individual base station is responsible for scheduling HS-DSCH (High Speed—Downlink Shared CHannel) transmissions to the mobile stations that are attached to it, for operating a retransmission scheme on the HS-DSCH channels, for controlling the coding and modulation for HS-DSCH transmissions to the mobile stations and for transmitting data packets to the mobile stations.
- In order to reduce the resource usage for HSDPA channels, scheduling is thus performed at the base station rather than at the RNC. This allows scheduling to be sufficiently fast to dynamically follow radio condition variations. For example, when more than one mobile station requires resource from the shared HSDPA channel, the base station may schedule data to the mobile stations experiencing favourable radio conditions in preference to the mobile stations experiencing less favourable conditions. Furthermore, the allocated resources and the coding and modulation applied to transmissions to mobile stations may be highly tailored to the current radio conditions experienced by the individual mobile station. Thus, the fast scheduling performed at the base station allows link adaptation and an efficient resource usage. HSDPA seeks to provide packet access techniques with a relatively low resource usage and with low latency. In addition to using base station based fast scheduling, HSDPA also makes use of other techniques in order to reduce the resource required to communicate data and to increase the capacity of the communication system. These techniques include Adaptive Coding and Modulation (AMC) and a retransmission scheme for lost data packets. In the retransmission scheme, which is referred to as ARQ or Hybrid ARQ (HARQ), the mobile station transmits feedback data in the form of uplink acknowledge (ACK) or non-acknowledge (NACK) messages which are used to determine whether individual data packets need to be retransmitted. If no ACK message is received for a given data packet, this data packet is retransmitted to the mobile station. In HARQ, soft combining of the different transmissions of the data packet is used at the mobile station in order to improve reliability and reduce the required transmit power.
- A number of different scheduling mechanisms for cellular systems in general, and HSDPA in particular, have been proposed in the prior art. The most advanced and best performing schedulers tend to be schedulers known as Proportional Fair (PF) schedulers, which perform the scheduling taking into account both channel conditions and achieved throughput fairness. Thus, the PF schedulers seek to provide a reasonable distribution of resources between different users while ensuring that the air interface resource is efficiently used. However, such schedulers are primarily designed for scheduling of streaming traffic and best effort data packet services for which the delay budget is relatively large.
- Accordingly, they tend to introduce a variable and potentially large delay. However, an increasing number of communication services are aimed at communication services that have a very specific delay requirement. For example, Voice over Internet Protocol (VoIP) services require the delay to be relatively short resulting in a requirement of the scheduling delay being less than typically a few ten's of milliseconds (ms). Conventional schedulers tend not to be optimum for such services and typically result in reduced radio resource utilisation efficiency and/or longer delays.
- Hence, an improved scheduling would be advantageous and in particular a scheduling allowing increased flexibility, reduced scheduling delay, efficient resource utilisation and/or improved performance would be advantageous.
- Accordingly, the Invention seeks to preferably mitigate, alleviate or eliminate one or more of the above mentioned disadvantages singly or in any combination.
- According to an aspect of the invention, there is provided a scheduler for scheduling data packets over an air interface of a cellular communication system, the scheduler comprising: means for determining a coherence time for a user equipment; and scheduling means for scheduling at least a first data packet for the user equipment in response to the coherence time.
- The invention may provide improved scheduling in many embodiments and/or scenarios. In particular, the invention may e.g. allow a dynamic and improved trade-off between scheduling delay and resource usage. For example, the first data packet may, dependent on the coherence time be delayed until propagation conditions have improved. For example, in some embodiments the first data packet may be delayed until propagation conditions improve if the coherence time is below a given threshold but may be transmitted at a time without consideration of the propagation conditions if the coherence time is above a given threshold. Thus, the scheduling takes into account how fast the propagation environment may change thus e.g. taking into account the probability of the propagation environment changing within a given time interval available for the scheduling of the first data packet.
- The coherence time may be an indication of a rate, speed or frequency of change of the propagation characteristics of the air interface communication channel used to transmit or receive the first data packet from the user equipment. The coherence time may be indicative of how fast the propagation environment changes for the user equipment and may indicate or be dependent on a speed of the user equipment.
- The cellular communication system may be any system comprising at least one cell wherein user equipments are served by a centralised communication station with the communication of the centralised communication station for at least a plurality of user equipments is scheduled together by the scheduler. The centralised communication station may specifically be a base station or access point and the cellular communication system may e.g. be a UMTS, HSDPA, Long Term Evolution (LTE) or Wireless Local Area Network (WLAN) system.
- The invention may be applicable to both the uplink and downlink of a cellular communication system.
- According to another aspect of the invention, there is provided base station for a cellular communication system comprising: a scheduler comprising: means for determining a coherence time for a user equipment, and scheduling means for scheduling at least a first data packet for the user equipment in response to the coherence time; and a transmitter for transmitting the first data packet to the user equipment over an air interface communication channel.
- According to another aspect of the invention, there is provided method of scheduling data packets over an air interface of a cellular communication system, the method comprising: determining a coherence time for a user equipment; and scheduling at least a first data packet for the user equipment in response to the coherence time.
- These and other aspects, features and advantages of the invention will be apparent from and elucidated with reference to the embodiment(s) described hereinafter.
- Embodiments of the invention will be described, by way of example only, with reference to the drawings, in which
-
FIG. 1 is an illustration of a cellular communication system in accordance with some embodiments of the invention; -
FIG. 2 is an illustration of a base station in accordance with some embodiments of the invention; -
FIG. 3 is an illustration of a fade profile for a user equipment of a cellular communication system; -
FIG. 4 illustrates an example of a method of scheduling data packets over an air interface of a cellular communication system; and -
FIG. 5 illustrates an example of a method of scheduling data packets over an air interface of a cellular communication system. - The following description focuses on embodiments of the invention applicable to a Universal Mobile Telecommunication System (UMTS) cellular communication system and in particular to a UMTS system comprising functionality required or desired to support a High-Speed Downlink Packet Access (HSDPA) communication service. However, it will be appreciated that the invention is not limited to this application but may be applied to many other cellular communication systems including for example Wireless Local Area Networks (WLAN), IEEE 802.11x systems etc.
- Indeed it will be appreciated that except for some HSDPA specific details, the following description will be compatible with any system wherein a central scheduler is used to schedule data packets for a plurality of users served by a centralised communication unit (such as a base station or a wireless access point).
- The following description focuses on a downlink embodiment wherein data packets are scheduled for transmission from a base station to user equipments. However, it will be appreciated that the principles described are also applicable to an uplink embodiment wherein data packets are scheduled for transmission from user equipments to the base station. Specifically, it will be appreciated that the described principles may also be applied to e.g. a High-Speed Uplink Packet Access (HSUPA) communication service
-
FIG. 1 illustrates an example of a cellular communication system in accordance with some embodiments of the invention. - The cellular communication system is a GSM/UMTS cellular communication system which supports a plurality of user equipments. In the example two
user equipments base station 105 are shown but it will be appreciated that a typical cellular communication system will support a large number of user equipments. A user equipment may be any communication entity capable of communicating with a base station (or access point) over the air interface including e.g. a mobile phone, a mobile terminal, a mobile communication unit, a remote station, a subscriber unit, a 3G User Equipment etc. - The
base station 105 is coupled to a GSM/UMTS network 109 which represents all aspects of the fixed segment of the GSM/UMTS communication system including other base stations, Radio Network Controllers, Mobile Switching Centres etc as will be well known to the person skilled in the art. - In the system, the
user equipments user equipments user equipments first base station 105. -
FIG. 2 illustrates thefirst base station 105 in more detail. It will be appreciated thatFIG. 5 illustrates only elements necessary for the following description and that a typical base station may comprise other required or desired functionality. - The base station comprises a
transceiver 201 which is capable of transmitting and receiving data over the air interface communication channels established withuser equipments first base station 105. Thetransceiver 201 is also capable of transmitting and receiving control data over the air interface. - The
transceiver 201 is coupled to adata packet processor 203 which stores and processes the data packets received from an RNC for transmission over the air interface. Specifically, thedata packet processor 203 receives data for transmission over the air interface from the RNC supporting thebase station 105 and stores them in thedata packet processor 203 until a scheduling time interval in which the data packets are scheduled. The data packets are then fed to thetransceiver 201 for transmission to theappropriate user equipments - The
data packet processor 203 is coupled to ascheduler 205 which is arranged to schedule data packets for transmission over the air interface to theuser equipments scheduler 205 is an HSDPA scheduler that schedules data packets for the active HSDPA services. Thus thescheduler 205 schedules the VoIP data packets intended for the first andsecond user equipments - The
first base station 105 furthermore comprises a propagationcharacteristic processor 209 which receives measurements of the downlink communication channels from theuser equipments - In the specific example of an HSDPA system, the
user equipments individual user equipment individual user equipment individual user equipment base station 105 to theindividual user equipment user equipments individual user equipment - For a moving user equipment, the propagation channel from the
base station 105 to the user equipment can vary quite fast and quite substantially. For example,FIG. 3 shows an example of a path loss variation for a moving HSDPA user equipment.FIG. 3 illustrates log10 (path gain) as a function of time slots of duration 0.666 msec for a user equipment moving at a speed of three km/h, with a channel having four paths, one of which is dominant. - As can be seen, the path loss varies substantially and substantial fades may be experienced which require an excessive transmit power in order to achieve a desired signal to noise ratio.
- In order to reduce the resource usage, the received CQI data indicating the current quality of the propagation channels is taken into account by the
scheduler 205 when scheduling data packets for thedifferent user equipments scheduler 205 will seek to schedule data packets for aspecific user equipment 101 in frames (each 2 ms frame comprises three time slots) in which the propagation channel for thatuser equipment 101 has a high quality. Such an approach is also referred to as upfade riding and can substantially reduce the air interface resource usage. - HSDPA furthermore comprises a retransmission scheme which ensures that data packets which have not been received by the
user equipments - Specifically HSDPA uses a Hybrid Automatic Repeat reQuest (HARQ) retransmission scheme for reducing the error rate. The
user equipments first base station 105 and perform an error check. When a data packet is successfully received, theuser equipments first base station 105 receives a NACK message or does not receive any message from auser equipment - Thus, the
first base station 105 comprises aretransmission processor 207 which is coupled to thetransceiver 201 and thedata packet processor 203. When a data packet is transmitted by the transceiver, it is moved from thedata packet processor 203 to theretransmission processor 207. Theretransmission processor 207 then receives the ACK/NACK messages from theuser equipment retransmission processor 207 proceeds to delete the corresponding data packet as this has been successfully transmitted to theappropriate user equipment retransmission processor 207 feeds the data packet back to thedata packet processor 203 such that the retransmission of the data packet can occur. A data packet being retransmitted may be different from the original data packet, e.g. in a HARQ system other redundant data for the data packet may be transmitted as will be well known to the skilled person. - The base station furthermore comprises a
delay processor 211 which is coupled to theretransmission processor 207, thedata packet processor 203 and thescheduler 205. Thedelay processor 211 is operable to determine and manage the delays of the data packets. For example, for each data packet thedelay processor 211 may determine an allowable maximum delay which can be caused by the scheduling of the data packet without a total delay for the communication service supported by the data packet being exceeded. Thus, thedelay processor 211 can determine a scheduling delay corresponding to the delay that may be introduced by the air interface scheduling. The scheduling delay typically includes the actual delays associated with the communication over the air interface including retransmission delays. - As an example, many communication services are subject to a maximum delay quality of service requirement. E.g. the maximum delay for a VoIP speech communication may be 250 msecs. This delay is a total delay involving all delays of the end-to-end communication and typically a delay budget is determined for each communication service. The delay budget allocates a maximum delay to the different operations involved in the end to end communication. Thus, the delay budget results in the allocation of a maximum scheduling delay to the air interface scheduler. For example, the
delay processor 211 can determine that for a VoIP service the scheduling delay must be less than thirty msecs, i.e. that the maximum allowable delay for thescheduler 205 is thirty ms. - In some embodiments, the maximum allowable delay for the
scheduler 205 is predetermined and a fixed maximum scheduling delay is defined for each communication service. - In the example, the
delay processor 211 also determines delay characteristics of the retransmission operation. For example, thedelay processor 211 may determine a typical or maximum delay associated with retransmitting a data packet. It will be appreciated that as for the determination of the maximum allowable delay, the determination of a retransmission delay characteristic may also be based on a static predetermined (worst-case) retransmission delay or may be dynamically determined in response to measurements of current retransmission delays. - The
scheduler 205 is arranged to perform the scheduling of the data packets in response to the delay characteristics received from thedelay processor 211. Specifically, thescheduler 205 can schedule the data packets such that the allocated scheduling delay is not exceeded for the data packets, i.e. the data packets are scheduled such that the delay requirement for the individual data packet is met. This may for example be achieved by allocating a priority to each data packet with the probability of higher prioritised data packets being transmitted in the current scheduling interval being higher than for lower prioritised data packets. The prioritisation of a given data packet is adjusted in response to the remaining available delay, i.e. as a delay of a data packet approaches the allowable scheduling delay, thescheduler 205 may increase the priority of the data packet in order to increase the probability that it is scheduled within the allocated delay. - Thus, the
scheduler 205 schedules the data packets taking into account both the current propagation characteristics (e.g. fade characteristics) for each user equipment and the delay for each data packet. This scheduling inherently involves a trade off as the resource usage may be reduced at the expense of an increased delay by delaying the scheduling of the data packet until the propagation conditions for the corresponding user equipment improves. - In the
first base station 105, the scheduling is furthermore performed in response to a coherence time for theuser equipment 101 to which the data packet is to be transmitted. Accordingly, thefirst base station 105 comprises a,coherence time processor 213 coupled to thepropagation characteristics processor 209 and thescheduler 205. - The
coherence time processor 213 is operable to determine a coherence time for the user equipment. In contrast to the propagationcharacteristic processor 209, thecoherence time processor 213 does not determine a current propagation parameter, such as a fading parameter, of the propagation channel but rather determines how fast the parameter(s) is(are) changing. Thus, the coherence time determined by thecoherence time processor 213 does not reflect a current quality of the propagation channel but rather a speed or frequency of change of the quality of the propagation channel. The coherence time can be used to give an indication of the period of time over which the channel conditions can be considered to be broadly similar. - The coherence time of a propagation channel is related to a quantity known as the Doppler spread of the channel. When a user equipment (or reflectors in its environment) is moving, the user equipment's velocity causes a shift in the frequency of the signal transmitted along each signal path. This phenomenon is known as the Doppler shift. Signals traveling along different paths can have different Doppler shifts, corresponding to different rates of change in phase. Since the instantaneous channel gain depends on whether signal components add constructively or destructively the size of the Doppler spread determines the duration over which the channel impulse response is essentially invariant, in other words it will determine the coherence time.
- In general, coherence time is inversely related to Doppler spread, typically expressed as:
-
- where Tc is the coherence time, Ds is the Doppler frequency/spread (given by velocity of the user equipment divided by radio frequency wavelength), and k is a constant taking on values in the range of 0.25 to 0.5. In the specific example, the coherence time can e.g. be determined as equal to 0.423 divided by the maximum Doppler frequency.
- The factor of 0.423 is an often used value which originates from a definition of coherence time as the root of 9/(16×PI×Fd×Fd) (where Fd is the Doppler frequency), which is the geometric mean of two other commonly used definitions of coherence time, the first of which is that the coherence time is roughly 1/Fd and the second of which is the time over which the time correlation function is greater than 0.5, which is given by 9/(16×PI×Fd) (Ref. e.g. Theodore S Rappaport, “Wireless communications principle and practice”, Prentice Hall, 1996).
- The
coherence time processor 213 determines the coherence time from the CQI measurements reported from theuser equipments coherence time processor 213 can estimate the average duration between deep fades. This can be achieved, for example, by differentiating estimates of received Ec/No. Estimates of received Ec/No can be determined from CQI values, since CQI is a proxy for received channel quality. Where there is a peak in the differentiated vector (corresponding to a rapid change in gradient from negative to positive) this is an indication of a fade. The duration between fades can be determined using a peak detector and a circuit for measuring the period between peaks. An average of this inter-fade timing can be formed over the last few inter-fade intervals (i.e. an average can be made over a time window). - In the example, the
scheduler 205 is arranged to schedule the data packets in response to the determined coherence time. In some embodiments, the coherence time may simply be included as another factor which is taken into account when determining the relative priority of the data packet. For example, data packets for a user equipment having a high coherence time may be allocated a higher priority than data packets of user equipments having a low coherence time thereby resulting in data packets having a high coherence time being scheduled in advance of data packets having a lower coherence time. - In the specific example, the coherence time is used to adjust the trade off between reducing resource usage and reducing delays. For example, the scheduling may be in response to a time varying propagation characteristic determined by the propagation characteristics processor 209 (e.g. a current path loss value or a fade characteristic) and in response to a delay associated with the communication of the data packets (e.g. a delay which is incurred by the scheduling and transmission of the data packet over the air interface).
- E.g. the
scheduler 205 can rank all data packets available for scheduling in response to a scheduling cost measure which includes a cost contribution reflecting the resource usage cost for transmitting the data packet in the current scheduling interval (which depends on the current propagation characteristics) and a cost contribution reflecting delay cost for transmitting the data packet in the current scheduling interval (which can e.g. depend on the desired delay and which can increase the longer the data packet has waited for scheduling). The relative weights of the resource cost contribution and the delay cost contribution can then be adjusted in response to the coherence time. - For example, for a very high coherence time, it is unlikely that the channel will change within the available scheduling interval and therefore it is unlikely that the resource usage will be substantially reduced by delaying the data packet. Therefore, a high weight of the delay cost contribution and a low weight of the resource cost contribution may be set for the data packet. Conversely, for a low coherence time, it is highly likely that the channel will change within the available scheduling interval and therefore it is likely that the resource usage will be substantially reduced by delaying the data packet until propagation conditions improve and it is unlikely that the delay would need to be very long. Therefore, a low weight of the delay cost contribution and a high weight of the resource cost contribution may be set for the data packet.
- It will be appreciated that the individual cost contributions can be dependent on many different factors and characteristics such as the current propagation conditions, the remaining allowable delay for a data packet, the characteristics of the specific communication service etc.
- Thus, the consideration of the coherence time in the scheduling performed by the
scheduler 205 can provide an improved scheduling and in particular can provide an improved trade off between delay and resource usage for the communication of the data packets over the air interface. Thus, the described approach may increase the capacity of the whole communication system and/or improve the quality of service of the supported communication services. - In the following a specific example will be described wherein the coherence time is used by the scheduler to prioritise between delay and resource usage for a data packet wherein retransmission is used for data packets. Specifically, in the example a retransmission characteristic in the form of a retransmission delay is taken into account.
- In the example, if the
scheduler 205 determines that the coherence time of a givenuser equipment 101 is sufficiently short relative to the delay budget available (i.e. the available scheduling delay) then the scheduling is performed taking into account the current propagation characteristics. Specifically, upfade riding is used so that a data packet may be delayed until the propagation conditions meet a given criterion. The scheduler would then make use of the available scheduling delay to wait for (what it estimates) to be an upfade to occur before scheduling the packet. On the other hand, if the coherence time is long relative to the available delay budget, it is unlikely that the propagation conditions will change substantially and therefore the retransmission mechanism is relied upon. Thus, in this case it is desirable to schedule the data packets such that any retransmissions can occur within the available delay. Thus, thescheduler 205 will in this case transmit the data packet straightaway to increase the likelihood that any retransmissions occur within the available delay. - Accordingly, in the example, for a low coherence time the available delay is used to perform upfade riding in order to reduce resource usage and for a high coherence time the available delay is used for potential retransmissions thereby reducing the delay when retransmissions are used. Also, the example can provide an improved exploitation of the radio resource efficiency benefits achievable with the HARQ and upfade riding mechanisms. For example, by transmitting a data packet for a user equipment with a high coherence time such that there is sufficient time for one or more retransmissions, the transmit power for that data packet can be reduced as any increased risk of the data packet not being successfully received can be compensated by the option of one or more retransmissions. Thus, a reduced radio resource usage is achieved and the example specifically allows an improved trade-off between the radio resource benefits that can be achieved by the upfade riding approach and the retransmission approach.
- Thus, for a high coherence time, it is likely that the data packet is scheduled for the first time shortly after it has arrived at the base station and irrespective of current radio conditions thereby providing a sufficient delay budget for a re-transmission to occur should it be necessary.
-
FIG. 4 illustrates an example of a method of scheduling that may be used by thescheduler 205 in accordance with such an example. The shown method may be performed for each data packet and scheduling interval. - The method starts in
step 401 wherein it is determined if the coherence time meets a first criterion. The first criterion may simply consist in a requirement that the coherence time is less than a given value. If the criterion is met, the available delay will be allocated to upfade riding and if the criterion is not met the available delay will be used to allow possible retransmissions. - As a coarse example, the delay budget available to the scheduler for a VoIP service may be twenty msec. As a reasonable estimate, in order for there to be a high probability of finding an upfade in a twenty msec interval, there must be one complete fading cycle corresponding to a coherence time of ten msec. Hence, in the specific example, the first criterion may simply be a requirement that the coherence time is less than ten msec.
- It will be appreciated that the exact threshold may depend on the specific characteristics of the individual embodiments and it has been found that particularly advantageous performance and trade off between delay and resource usage and/or between radio resource benefits of using upfade riding relative to retransmission is typically found for thresholds between around ten to fifty msecs.
- It will be appreciated that the coherence time may be determined in response to (or be represented by) a speed of the
user equipments user equipment 101 meets a given requirement. For example, the coherence time is given by 0.423 divided by the maximum Doppler frequency. - For a typical frequency of 2 GHz, the wavelength is 0.15 meters and accordingly the Doppler frequency is given as v/0.15 where v is the speed of the user equipment (in meters/second). Thus, the speed v corresponding to a coherence time of ten msec can be found as 6.34 m/s=22.8 km/h. Thus, step 401 may simply evaluate if the speed of the
user equipment 101 is below 22.8 km/h. The speed may e.g. be determined in response to accurate location estimates for the user equipment 101 (or can be directly reported by theuser equipments 101, 103). - If the first criterion is not met, it is unlikely that the propagation conditions will change in the time allocated to the
scheduler 205. Accordingly, the available delay is preferably used for retransmissions rather than to wait for an upfade to occur. The method therefore continues instep 403 wherein the data packet is scheduled within the current scheduling interval. - Thus, if the coherence time is higher than ten ms, the
schedule 205 proceeds to schedule the data packet independently of the current propagation characteristics. Hence, the instantaneous propagation characteristics are not taken into account when determining the time at which the data packet needs to be sent but rather an early scheduling of the data packets is performed in order to provide additional time for any retransmissions that may occur. - It will be appreciated, that although the method illustrated in
FIG. 4 simply schedules the data packet within the current scheduling interval if the coherence time is above the given threshold, more complex scheduling may be performed in other embodiments. - For example, the
scheduler 205 may in addition consider the delay requirement for the data packet, the remaining available delay for the scheduler and/or a retransmission characteristic. - As a specific example, the
scheduler 205 may from thedelay processor 211 receive an indication of the maximum scheduling delay for the data packet as well as a typical or maximum retransmission time associated with the data packet. Thescheduler 205 may then subtract the current incurred scheduling delay from the maximum scheduling delay to calculate a remaining available delay. It can then subtract the retransmission time from this remaining available delay to determine a delay margin that would still allow the maximum scheduling delay to be met even if the retransmission occurs. If this delay margin exceeds a scheduling interval, thescheduler 205 may choose to delay the scheduling of the data packet until the following scheduling interval. - If the coherence time meets the first criterion,
step 401 is followed bystep 405 wherein thescheduler 205 evaluates if a time varying propagation characteristic meets a second criterion. Specifically, thescheduler 205 determines whether the communication channel to theuser equipment 101 to which the data packet is to be transmitted currently has a required quality. As a simple example, the scheduler can simply determine whether the current path loss for the communication channel is less than a given threshold (or e.g. that the signal to noise ratio is above a given threshold). - If the criterion is met, the
scheduler 205 considers that the data packet can be transmitted to theuser equipment 101 with sufficiently low resource usage and accordingly the method continues instep 403 wherein the data packet is scheduled within the current scheduling interval. - If the propagation criterion is not met in
step 405, the method continues instep 407 wherein the currently introduced scheduling delay is considered. Specifically, it is evaluated if the remaining allowable delay (given as the difference between the allocated scheduling delay and the scheduling delay which has already been used) for the data packet meets a third criterion which specifically can be a requirement that the remaining allowable delay is above a scheduling time interval. - If so, the data packets need not be scheduled in the current scheduling interval and the method accordingly proceeds in
step 409 wherein the data packet is delayed for the next scheduling interval. However, if the requirement is not met the data packet must be scheduled in this scheduling interval in order for the delay requirement for the communication service to be met. Accordingly, the method continues instep 403 wherein the data packet is scheduled in the current scheduling interval. - It will be appreciated, that the criterions used to determine the performed scheduling can be fixed, static and predetermined criterions or may be dynamically determined in response to various parameters and characteristics.
- For example, the propagation criterion used in
step 405 may be determined in response to a remaining allowable delay for the data packet. E.g., as the data packet is further delayed in each scheduling interval, the quality of the propagation channel required for the data packet to be transmitted in the current scheduling interval is reduced thereby providing a gradually changing trade off between the resource use and the delay. This trade off can reflect the fact that the probability of the propagation channel changing to a sufficiently high quality reduces as the time available to wait for this to happen reduces. - Specifically, if the remaining allowable delay falls below the duration of a scheduling interval, the propagation criterion may be reduced to be met by any value of the propagation characteristic thereby ensuring that the data packet is scheduled in the current scheduling interval. Thus, the operation of
step 405 and step 407 may be combined into a single evaluation of a dynamic criterion. - The described operation of the scheduler thus provides a system wherein a data packet is scheduled in response to a time varying propagation characteristic of an air interface communication channel only if the coherence time meets a first criterion. Otherwise, the scheduling seeks to schedule the data packet as early as possible in order to provide more time for potential retransmissions.
- The specific method solves the problem of how to use the available delay budget most effectively. The method specifically selects between the use of the available delay for either retransmission or upfade scheduling based on information gathered concerning each user equipments coherence time.
- It will be appreciated, that although the specific method evaluates different criterions in order to select the data packets for scheduling in the current scheduling interval, more flexible and subtle approaches may be used in other embodiments. For example, the priorities of individual data packets may be modified in accordance with the outcome of the evaluations of the criteria.
- In some embodiments, the
scheduler 205 may not only determine whether the data packet is transmitted in a given scheduling interval but may also allocate a transmit power to the data packet. - The transmit power may be allocated in dependence on different parameters and may specifically be set dependent on whether the scheduling delay is allocated to fade upriding or retransmissions.
- For example, a transmit power resulting in a higher probability of correct reception by the user equipment may be set if the coherence time meets the first criterion in
step 401 than if the coherence time does not meet the first criterion. Specifically, the transmit power can be set such that a high signal to noise ratio is achieved at the user equipment if the coherence time meets the first criterion than if it does not. Thus, a relatively higher transmit power is used if the available delay is used for upfade riding rather than for retransmissions. As the delay of the data packets associated with upfade riding can result in there being insufficient time for any retransmissions, this can ensure that the risk of such retransmissions being necessary being reduced when upfade riding is used. - Furthermore, the approach may allow an efficient trade-off between the resource usage benefits of the upfade riding approach and the retransmission approach. Specifically, for low coherence times, the upfade riding may allow a low transmit power as transmission is made when radio conditions are good and for high coherence times, the retransmission scheme is used to set a low transmit power as any decoding failure can be remedied by a retransmission.
- As another example, the transmission power may be set dependent on a retransmission characteristic for the data packet. The retransmission characteristic can specifically be an indication of a number of previous transmissions of the data packet. Thus, if a data packet has not been retransmitted previously it can be sent at a transmit power that provides a desired probability of correct reception, e.g. that results in a desired signal to noise ratio at the user equipment. However, if the data packet has been previously transmitted, the HARQ approach allows for the retransmission to be combined with the previous transmission therefore requiring a lower signal to noise ratio to achieve a given detection probability. Thus, the transmit power may be reduced if the data packet is a retransmission of a previously transmitted data packet.
-
FIG. 5 illustrates an example of a method of scheduling data packets over an air interface of a cellular communication system. - The method starts in
step 501 wherein a coherence time is determined for a user equipment. - Step 501 is followed by
step 503 wherein at least a first data packet for the user equipment is scheduled in response to the coherence time. - It will be appreciated that the above description for clarity has described embodiments of the invention with reference to different functional units and processors. However, it will be apparent that any suitable distribution of functionality between different functional units or processors may be used without detracting from the invention. For example, functionality illustrated to be performed by separate processors or controllers may be performed by the same processor or controllers. Hence, references to specific functional units are only to be seen as references to suitable means for providing the described functionality rather than indicative of a strict logical or physical structure or organization.
- The invention can be implemented in any suitable form including hardware, software, firmware or any combination of these. The invention may optionally be implemented at least partly as computer software running on one or more data processors and/or digital signal processors. The elements and components of an embodiment of the invention may be physically, functionally and logically implemented in any suitable way. Indeed the functionality may be implemented in a single unit, in a plurality of units or as part of other functional units. As such, the invention may be implemented in a single unit or may be physically and functionally distributed between different units and processors.
- Although the present invention has been described in connection with some embodiments, it is not intended to be limited to the specific form set forth herein. Rather, the scope of the present invention is limited only by the accompanying claims. Additionally, although a feature may appear to be described in connection with particular embodiments, one skilled in the art would recognize that various features of the described embodiments may be combined in accordance with the invention. In the claims, the term comprising does not exclude the presence of other elements or steps.
- Furthermore, although individually listed, a plurality of means, elements or method steps may be implemented by e.g. a single unit or processor. Additionally, although individual features may be included in different claims, these may possibly be advantageously combined, and the inclusion in different claims does not imply that a combination of features is not feasible and/or advantageous. Also the inclusion of a feature in one category of claims does not imply a limitation to this category but rather indicates that the feature is equally applicable to other claim categories as appropriate. Furthermore, the order of features in the claims does not imply any specific order in which the features must be worked and in particular the order of individual steps in a method claim does not imply that the steps must be performed in this order. Rather, the steps may be performed in any suitable order.
Claims (10)
Applications Claiming Priority (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
GB0720876A GB2453979B (en) | 2007-10-24 | 2007-10-24 | Scheduling of data packets over an air interface of a cellular communication system |
GB0720876.2 | 2007-10-24 | ||
PCT/US2008/076777 WO2009055167A2 (en) | 2007-10-24 | 2008-09-18 | Scheduling of data packets over an air interface of a cellular communication system |
Publications (2)
Publication Number | Publication Date |
---|---|
US20100202418A1 true US20100202418A1 (en) | 2010-08-12 |
US8249026B2 US8249026B2 (en) | 2012-08-21 |
Family
ID=38829873
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US12/679,507 Active 2029-07-30 US8249026B2 (en) | 2007-10-24 | 2008-09-18 | Scheduling of data packets over an air interface of a cellular communication system |
Country Status (3)
Country | Link |
---|---|
US (1) | US8249026B2 (en) |
GB (1) | GB2453979B (en) |
WO (1) | WO2009055167A2 (en) |
Cited By (7)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20110009071A1 (en) * | 2009-07-09 | 2011-01-13 | Cisco Technology, Inc. | Coherence Time Estimation and Mobility Detection for Wireless Channel |
US20120314735A1 (en) * | 2011-06-13 | 2012-12-13 | Alexei Ashikhmin | Method And Apparatus For Data Transmission With User Selection |
US20140204917A1 (en) * | 2013-01-24 | 2014-07-24 | Ralink Technology Corp. | Method of Managing Packet Transmission for Wireless System |
CN104067656A (en) * | 2012-12-26 | 2014-09-24 | 华为技术有限公司 | Speed estimation method and device |
US9692499B2 (en) | 2014-10-06 | 2017-06-27 | Harris Corporation | Terrestrial based air-to-ground communications system and related methods |
US20170223570A1 (en) * | 2014-07-30 | 2017-08-03 | Hewlett Packard Enterprise Development Lp | Mobility-aware frame aggregation |
US11503506B2 (en) * | 2016-09-08 | 2022-11-15 | Nec Corporation | Base station device, wireless communication control method, and recording medium having base station control program stored therein |
Families Citing this family (5)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
CN102474876B (en) * | 2009-06-29 | 2015-07-15 | 皇家飞利浦电子股份有限公司 | A method for communicating in a network |
EP2721893B1 (en) * | 2011-06-15 | 2015-10-07 | Telefonaktiebolaget LM Ericsson (PUBL) | Method and node for scheduling in a wireless communications network |
CN102983956B (en) * | 2012-11-30 | 2015-07-08 | 北京北方烽火科技有限公司 | Moving speed estimation method for terminal and base station |
EP3659286B1 (en) | 2017-08-11 | 2021-10-06 | Huawei Technologies Co., Ltd. | Adaptive csi resource allocation and adjustment based on differentiated channel conditions |
US20220263545A1 (en) | 2019-07-05 | 2022-08-18 | Telefonaktiebolaget Lm Ericsson (Publ) | Method and Network Element for User Equipment Scheduling |
Citations (6)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20040072556A1 (en) * | 2000-06-19 | 2004-04-15 | Tapio Frantti | Estimation of movement |
US20070003847A1 (en) * | 2005-06-20 | 2007-01-04 | Xerox Corporation | Protective layer for reimageable medium |
US20070042720A1 (en) * | 2005-07-06 | 2007-02-22 | Zhengang Pan | MIMO communication system and user scheduling method |
US20070153801A1 (en) * | 2005-12-12 | 2007-07-05 | Samsung Electronics Co., Ltd. | Method and apparatus for scheduling to guarantee QoS of VoIP service in portable Internet system |
US20070286068A1 (en) * | 2004-09-13 | 2007-12-13 | Telefonaktiebolaget Lm Ericsson (Publ) | Method And Arrangement in a Telecommunication System |
US20100097949A1 (en) * | 2007-02-05 | 2010-04-22 | Hyun Soo Ko | Method for transmitting and receiving feedback information |
Family Cites Families (3)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20010040877A1 (en) * | 2000-05-09 | 2001-11-15 | Motorola, Inc. | Method of dynamic transmit scheduling using channel quality feedback |
JP3597516B2 (en) * | 2002-05-30 | 2004-12-08 | 松下電器産業株式会社 | Scheduling device and communication method |
EP1718002A1 (en) * | 2005-04-29 | 2006-11-02 | Siemens S.p.A. | User selection method and device for data packet services in wireless communication systems |
-
2007
- 2007-10-24 GB GB0720876A patent/GB2453979B/en active Active
-
2008
- 2008-09-18 US US12/679,507 patent/US8249026B2/en active Active
- 2008-09-18 WO PCT/US2008/076777 patent/WO2009055167A2/en active Application Filing
Patent Citations (6)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20040072556A1 (en) * | 2000-06-19 | 2004-04-15 | Tapio Frantti | Estimation of movement |
US20070286068A1 (en) * | 2004-09-13 | 2007-12-13 | Telefonaktiebolaget Lm Ericsson (Publ) | Method And Arrangement in a Telecommunication System |
US20070003847A1 (en) * | 2005-06-20 | 2007-01-04 | Xerox Corporation | Protective layer for reimageable medium |
US20070042720A1 (en) * | 2005-07-06 | 2007-02-22 | Zhengang Pan | MIMO communication system and user scheduling method |
US20070153801A1 (en) * | 2005-12-12 | 2007-07-05 | Samsung Electronics Co., Ltd. | Method and apparatus for scheduling to guarantee QoS of VoIP service in portable Internet system |
US20100097949A1 (en) * | 2007-02-05 | 2010-04-22 | Hyun Soo Ko | Method for transmitting and receiving feedback information |
Cited By (13)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US8559887B2 (en) * | 2009-07-09 | 2013-10-15 | Cisco Technology, Inc. | Coherence time estimation and mobility detection for wireless channel |
US20110009071A1 (en) * | 2009-07-09 | 2011-01-13 | Cisco Technology, Inc. | Coherence Time Estimation and Mobility Detection for Wireless Channel |
US20120314735A1 (en) * | 2011-06-13 | 2012-12-13 | Alexei Ashikhmin | Method And Apparatus For Data Transmission With User Selection |
US9301313B2 (en) * | 2011-06-13 | 2016-03-29 | Alcatel Lucent | Method and apparatus for data transmission with user selection |
CN104067656A (en) * | 2012-12-26 | 2014-09-24 | 华为技术有限公司 | Speed estimation method and device |
US20140204917A1 (en) * | 2013-01-24 | 2014-07-24 | Ralink Technology Corp. | Method of Managing Packet Transmission for Wireless System |
US10477433B2 (en) * | 2014-07-30 | 2019-11-12 | Hewlett Packard Enterprise Development Lp | Mobility-aware frame aggregation |
US20170223570A1 (en) * | 2014-07-30 | 2017-08-03 | Hewlett Packard Enterprise Development Lp | Mobility-aware frame aggregation |
US9692499B2 (en) | 2014-10-06 | 2017-06-27 | Harris Corporation | Terrestrial based air-to-ground communications system and related methods |
US10461843B2 (en) | 2014-10-06 | 2019-10-29 | Smartsky Networks LLC | Terrestrial based air-to-ground communications system and related methods |
US10230452B2 (en) | 2014-10-06 | 2019-03-12 | Smartsky Networks LLC | Terrestrial based air-to-ground communications system and related methods |
US11233560B2 (en) | 2014-10-06 | 2022-01-25 | Smartsky Networks, Llc | Terrestrial based air-to-ground communications system and related methods |
US11503506B2 (en) * | 2016-09-08 | 2022-11-15 | Nec Corporation | Base station device, wireless communication control method, and recording medium having base station control program stored therein |
Also Published As
Publication number | Publication date |
---|---|
GB2453979B (en) | 2010-01-06 |
US8249026B2 (en) | 2012-08-21 |
GB2453979A (en) | 2009-04-29 |
WO2009055167A2 (en) | 2009-04-30 |
GB0720876D0 (en) | 2007-12-05 |
WO2009055167A3 (en) | 2009-06-18 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US8249026B2 (en) | Scheduling of data packets over an air interface of a cellular communication system | |
TWI223567B (en) | Method and apparatus for scheduling packet data transmissions in a wireless communication system | |
US7751423B2 (en) | Scheduler | |
KR101221255B1 (en) | Channel quality reporting in a wireless communication system | |
CN101926133B (en) | Communication scheduling method and system | |
EP3358770B1 (en) | Interference limitation for retransmissions | |
US7486638B2 (en) | Base station, control device, communication system and communication method | |
US7876684B2 (en) | Data flow amount control device and method | |
EP2719110B1 (en) | Controlling retransmissions | |
US8406199B2 (en) | Data flow amount control device and data flow amount control method | |
US20070265017A1 (en) | Call admission control device and call admission control method | |
US20080205275A1 (en) | Communication Resource Scheduling | |
JP2010541329A (en) | Data transmission using HARQ and interference mitigation | |
US9532366B2 (en) | Method and node for scheduling in a wireless communications network | |
JP2005027306A (en) | Method and apparatus for improving scheduler performance in wireless packet data system | |
US7623489B2 (en) | Packet transmission control apparatus and packet transmission control method | |
JP3662543B2 (en) | Base station apparatus and packet transmission method | |
WO2019209147A1 (en) | Methods, apparatus and computer-readable mediums relating to scheduling and feedback schemes for the transmission of data packets in a wireless communication network | |
WO2005117363A1 (en) | Method and arrangement for uplink scheduling | |
US20050286533A1 (en) | Packet radio system, base station, and method of controlling packet scheduling | |
US20210274374A1 (en) | Method and network node for supporting a service over a radio bearer | |
Kuusela et al. | Radio access network VoIP optimization and performance on 3GPP HSPA/LTE | |
JP4726068B2 (en) | Packet transmission control device and packet transmission control method | |
Rao et al. | Resource allocation and fairness for downlink shared data channels | |
Kuusela et al. | 3GPP HSPA/LTE |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
AS | Assignment |
Owner name: MOTOROLA, INC., ILLINOISFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:BARRETT, STEPHEN J.;REEL/FRAME:024121/0995Effective date: 20100318 |
|
AS | Assignment |
Owner name: MOTOROLA MOBILITY, INC, ILLINOISFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:MOTOROLA, INC;REEL/FRAME:025673/0558Effective date: 20100731 |
|
STCF | Information on status: patent grant |
Free format text: PATENTED CASE |
|
AS | Assignment |
Owner name: MOTOROLA MOBILITY LLC, ILLINOISFree format text: CHANGE OF NAME;ASSIGNOR:MOTOROLA MOBILITY, INC.;REEL/FRAME:029216/0282Effective date: 20120622 |
|
AS | Assignment |
Owner name: GOOGLE TECHNOLOGY HOLDINGS LLC, CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:MOTOROLA MOBILITY LLC;REEL/FRAME:034416/0001Effective date: 20141028 |
|
FPAY | Fee payment |
Year of fee payment: 4 |
|
MAFP | Maintenance fee payment |
Free format text: PAYMENT OF MAINTENANCE FEE, 8TH YEAR, LARGE ENTITY (ORIGINAL EVENT CODE: M1552); ENTITY STATUS OF PATENT OWNER: LARGE ENTITYYear of fee payment: 8 |
|
MAFP | Maintenance fee payment |
Free format text: PAYMENT OF MAINTENANCE FEE, 12TH YEAR, LARGE ENTITY (ORIGINAL EVENT CODE: M1553); ENTITY STATUS OF PATENT OWNER: LARGE ENTITYYear of fee payment: 12 |