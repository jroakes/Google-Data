CN116648953A - Managing UE information after preparing a conditional mobility procedure - Google Patents
Managing UE information after preparing a conditional mobility procedure Download PDFInfo
- Publication number
- CN116648953A CN116648953A CN202180085649.6A CN202180085649A CN116648953A CN 116648953 A CN116648953 A CN 116648953A CN 202180085649 A CN202180085649 A CN 202180085649A CN 116648953 A CN116648953 A CN 116648953A
- Authority
- CN
- China
- Prior art keywords
- information
- configuration
- message
- conditional
- procedure
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Pending
Links
- 238000000034 method Methods 0.000 title claims abstract description 648
- 238000004891 communication Methods 0.000 claims abstract description 79
- 230000004044 response Effects 0.000 claims description 151
- 230000008859 change Effects 0.000 claims description 82
- 238000012545 processing Methods 0.000 claims description 56
- 230000008569 process Effects 0.000 claims description 40
- 238000005516 engineering process Methods 0.000 claims description 21
- 238000005259 measurement Methods 0.000 description 61
- 230000005540 biological transmission Effects 0.000 description 50
- 238000007792 addition Methods 0.000 description 38
- 230000000977 initiatory effect Effects 0.000 description 23
- 101100150275 Caenorhabditis elegans srb-3 gene Proteins 0.000 description 21
- 108091005487 SCARB1 Proteins 0.000 description 19
- 102100037118 Scavenger receptor class B member 1 Human genes 0.000 description 19
- 230000009471 action Effects 0.000 description 19
- 230000004048 modification Effects 0.000 description 17
- 238000012986 modification Methods 0.000 description 17
- 238000002360 preparation method Methods 0.000 description 13
- 230000001960 triggered effect Effects 0.000 description 13
- 238000001585 disappearance potential spectroscopy Methods 0.000 description 12
- 101150096310 SIB1 gene Proteins 0.000 description 8
- 238000012384 transportation and delivery Methods 0.000 description 7
- 101001055444 Homo sapiens Mediator of RNA polymerase II transcription subunit 20 Proteins 0.000 description 6
- 102100026165 Mediator of RNA polymerase II transcription subunit 20 Human genes 0.000 description 6
- 230000006870 function Effects 0.000 description 6
- 230000011664 signaling Effects 0.000 description 6
- 238000012546 transfer Methods 0.000 description 6
- 238000007726 management method Methods 0.000 description 5
- 238000013468 resource allocation Methods 0.000 description 5
- 102100022734 Acyl carrier protein, mitochondrial Human genes 0.000 description 4
- 101100150273 Caenorhabditis elegans srb-1 gene Proteins 0.000 description 4
- 101000678845 Homo sapiens Acyl carrier protein, mitochondrial Proteins 0.000 description 4
- 238000010586 diagram Methods 0.000 description 4
- 230000000737 periodic effect Effects 0.000 description 4
- 230000001934 delay Effects 0.000 description 3
- 238000001514 detection method Methods 0.000 description 3
- 230000009977 dual effect Effects 0.000 description 3
- XHSQDZXAVJRBMX-UHFFFAOYSA-N 2-(5,6-dichlorobenzimidazol-1-yl)-5-(hydroxymethyl)oxolane-3,4-diol Chemical compound OC1C(O)C(CO)OC1N1C2=CC(Cl)=C(Cl)C=C2N=C1 XHSQDZXAVJRBMX-UHFFFAOYSA-N 0.000 description 2
- 101100397012 Rattus norvegicus Insl3 gene Proteins 0.000 description 2
- 101150039363 SIB2 gene Proteins 0.000 description 2
- 230000004913 activation Effects 0.000 description 2
- 238000013021 overheating Methods 0.000 description 2
- 238000011084 recovery Methods 0.000 description 2
- 101100150274 Caenorhabditis elegans srb-2 gene Proteins 0.000 description 1
- 230000002776 aggregation Effects 0.000 description 1
- 238000004220 aggregation Methods 0.000 description 1
- 239000000969 carrier Substances 0.000 description 1
- 238000012508 change request Methods 0.000 description 1
- 230000003111 delayed effect Effects 0.000 description 1
- 230000036541 health Effects 0.000 description 1
- 238000012806 monitoring device Methods 0.000 description 1
- 238000012544 monitoring process Methods 0.000 description 1
- 238000013442 quality metrics Methods 0.000 description 1
Classifications
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W36/00—Hand-off or reselection arrangements
- H04W36/34—Reselection control
- H04W36/36—Reselection control by user or terminal equipment
- H04W36/362—Conditional handover
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W36/00—Hand-off or reselection arrangements
- H04W36/0005—Control or signalling for completing the hand-off
- H04W36/0007—Control or signalling for completing the hand-off for multicast or broadcast services, e.g. MBMS
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W36/00—Hand-off or reselection arrangements
- H04W36/0005—Control or signalling for completing the hand-off
- H04W36/0055—Transmission or use of information for re-establishing the radio link
- H04W36/0069—Transmission or use of information for re-establishing the radio link in case of dual connectivity, e.g. decoupled uplink/downlink
-
- H—ELECTRICITY
- H04—ELECTRIC COMMUNICATION TECHNIQUE
- H04W—WIRELESS COMMUNICATION NETWORKS
- H04W36/00—Hand-off or reselection arrangements
- H04W36/0005—Control or signalling for completing the hand-off
- H04W36/0055—Transmission or use of information for re-establishing the radio link
- H04W36/0069—Transmission or use of information for re-establishing the radio link in case of dual connectivity, e.g. decoupled uplink/downlink
- H04W36/00692—Transmission or use of information for re-establishing the radio link in case of dual connectivity, e.g. decoupled uplink/downlink using simultaneous multiple data streams, e.g. cooperative multipoint [CoMP], carrier aggregation [CA] or multiple input multiple output [MIMO]
Abstract
A method in a UE in communication with a RAN, comprising receiving (312A) a conditional configuration of a conditional procedure and a corresponding condition from the RAN, and transmitting (316A) UE information to the RAN after receiving the conditional configuration and the corresponding condition. The UE information includes information indicating preferences or conditions of the UE. The method further comprises the steps of: after sending the UE information to the RAN, it is determined (334A) that the corresponding condition is met, and after determining that the corresponding condition is met, the UE information is sent (320A) to the RAN again.
Description
Technical Field
The present disclosure relates generally to wireless communications, and more particularly to managing User Equipment (UE) information (e.g., preference configuration information) after a conditional mobility procedure (e.g., after a Radio Access Network (RAN) has prepared for a conditional handover or conditional addition/change procedure, and/or after the conditional handover or conditional addition/change procedure is triggered and/or performed).
Background
This background description is provided for the purpose of generally presenting the context of the disclosure. Work of the presently named inventors, to the extent it is described in this background section, as well as aspects of the description that may not otherwise qualify as prior art at the time of filing, are neither expressly nor impliedly admitted as prior art against the present disclosure.
In a telecommunication system, a Packet Data Convergence Protocol (PDCP) sublayer of a radio protocol stack provides services such as transport of user plane data, ciphering, integrity protection, and the like. For example, PDCP layers defined for an Evolved Universal Terrestrial Radio Access (EUTRA) radio interface (see 3GPP specification TS 36.323) and a New Radio (NR) (see 3GPP specification TS 38.323) provide ordering of Protocol Data Units (PDUs) in an uplink direction (from a user device, also referred to as User Equipment (UE) to a base station) and in a downlink direction (from a base station to a UE). In addition, the PDCP sublayer provides Signaling Radio Bearers (SRBs) and Data Radio Bearers (DRBs) to a Radio Resource Control (RRC) sublayer. In general, the UE and the base station may exchange RRC messages as well as non-access stratum (NAS) messages using SRBs, and may transmit data on a user plane using DRBs.
The UE may use several types of SRBs and DRBs. When operating in Dual Connectivity (DC), cells associated with base stations operating as primary nodes (MN) define a primary cell group (MCG), and cells associated with base stations operating as Secondary Nodes (SN) define a Secondary Cell Group (SCG). So-called SRB1 resources carry RRC messages, which in some cases include NAS messages on a Dedicated Control Channel (DCCH), and SRB2 resources support RRC messages, which include recorded measurement information or NAS messages, also on the DCCH but with lower priority than SRB1 resources. More generally, the SRB1 and SRB2 resources allow the UE and MN to exchange RRC messages related to the MN and embedded RRC messages related to the SN, and may also be referred to as MCG SRBs. The SRB3 resource allows the UE and SN to exchange RRC messages related to the SN and may be referred to as SCG SRB. Splitting SRBs allows UEs to exchange RRC messages directly with the MN via lower layer resources of the MN and SN. The MCG DRB uses only lower layer resources of the MN, the SCG DRB uses only lower layer resources of the SN, and the splitting DRB uses lower layer resources of both the MCG and the SCG. A DRB that terminates at the MN but uses only the lower layer resources of the SN may be referred to as an MN-terminated SCG DRB. A DRB that terminates at the SN but uses only the lower layer resources of the MN may be referred to as an SN-terminated MCG DRB.
As described above, in some scenarios, a UE may operate in DC by simultaneously utilizing resources of multiple RAN nodes (e.g., multiple base stations or components of a distributed base station) interconnected by a backhaul. When the RAN nodes support different Radio Access Technologies (RATs), this type of connection is called a multi-radio dual connection (MR-DC). When the UE operates in MR-DC, one base station operates as a MN covering a primary cell (PCell) and the other base station operates as a Secondary Node (SN) covering a primary secondary cell (PSCell). The UE communicates with the MN via the PCell and with the SN via the PSCell. In other scenarios, the UE utilizes the resources of only one base station at a time. One base station and/or UE may then determine that the UE should establish a radio connection with another base station. For example, one base station may determine to handover the UE to a second base station and initiate a handover procedure.
The 3GPP specifications TS 36.300 and TS 38.300 describe procedures for switching (also referred to as "reconfiguration under synchronization (reconfiguration with sync)") scenarios. These procedures involve messaging (e.g., RRC signaling and preparation) between the RAN nodes, which typically results in delays that in turn increase the probability of failure of the handover procedure. Some handover procedures do not involve trigger conditions associated with the UE and may be referred to as "immediate" handover procedures.
The 3GPP specification TS 37.340v15.7.0 describes a procedure in which the UE adds or changes SN in a DC scenario. These procedures involve messaging (e.g., RRC signaling and preparation) between RAN nodes. This messaging typically results in a delay, which in turn increases the probability of failure of the SN addition or SN change procedure. These procedures that do not involve the triggering conditions checked at the UE may be referred to as "immediate" SN addition and SN change procedures.
The UE may also perform a handover procedure to handover from one cell to another, whether in Single Connection (SC) or DC operation. Depending on the scenario, the UE may switch from a cell of a first base station to a cell of a second base station, or from a cell of a first Distributed Unit (DU) of a base station to a cell of a second DU of the same base station. The 3GPP specifications 38.401v 15.6.0, 36.300v 15.6.0 and 38.300v15.6.0 describe a handover procedure comprising several steps (RRC signaling and preparation) between RAN nodes, which steps lead to delays in the handover procedure and thus increase the risk of handover failure. This procedure, which does not involve the triggering conditions checked at the UE, may be referred to as an "immediate" handover procedure.
Recently, for handover, SN addition/change, or PSCell addition/change, a "conditional" procedure (i.e., conditional handover, conditional SN addition/change, or conditional PSCell addition/change) has been considered. Scenarios involving conditional handover procedures are described, for example, in 3GPP specifications 36.300 and 38.300v 16.3.0. Unlike the "immediate" mobility procedures discussed above, these conditional mobility procedures do not perform a handover, or add or change SN or PSCell, until the UE determines that the conditions are met. As used herein, the term "condition" may refer to a single detectable state or event (e.g., a particular signal quality metric exceeding a threshold), or to a logical combination of such states or events (e.g., "condition a and condition B" or "(condition a or condition B) and condition C", etc.).
To configure the conditional procedure, the RAN provides the UE with conditions and configurations (e.g., one or more random access preambles, etc.) that will enable the UE to communicate with the appropriate base station or via the appropriate cell when the conditions are met. For example, for conditional addition of a base station as SN or a candidate cell as PSCell, the RAN provides the UE with a condition to be satisfied before the UE can add the base station as SN or add the candidate cell as PSCell, and a configuration enabling the UE to communicate with the base station or PSCell after the condition has been satisfied. The configuration associated with a condition is sometimes referred to herein as a "conditional configuration" or "conditional reconfiguration". The 3GPP specifications 36.331 and 38.331v 1.6.3.0 describe data structures that the base station can use to indicate conditional (re) configuration and conditions that will be met before conditional configuration is applied, respectively.
In various scenarios, the UE may send some type of information to the RAN indicating the UE's preferences and/or conditions. For example, 3GPP TS 36.331 and 38.331 describe procedures for handling various types of UE information, including UE-preferred configuration, in-device coexistence (IDC) assistance information, side-link information, and multicast and/or broadcast service (MBS) interest information. The UE may send the UE information to a base station (e.g., MN or SN) which may then choose to update the UE configuration (i.e., configure or reconfigure the UE) based on the provided UE information.
In an "immediate" (unconditional) mobility procedure, the source RAN node may provide any previously received UE information to the target RAN node during the mobility procedure itself. For example, when preparing an immediate handover procedure of the UE, the source base station may include previously received UE information in a handover request message and transmit the handover request message to the target base station. However, in a conditional mobility procedure, there may be a relatively long delay between the RAN establishment conditional procedure and the mobility procedure being triggered/performed (i.e. after the corresponding condition is met). Thus, the UE may provide additional UE information to the source RAN node after the RAN has prepared a conditional mobility procedure but before the corresponding condition is met. This may occur, for example, if the UE's situation changes, and/or if the UE prefers to use configurations other than the conditional configuration that the UE receives from the source RAN node. In scenarios such as these, it is unclear how the RAN should handle the new UE information, and any failure to properly manage the UE information may result in various network and/or device inefficiencies (e.g., the UE is able to use longer delays before preferred configuration, delayed access to various services, shorter battery life of the UE due to unnecessary power consumption, etc.).
Disclosure of Invention
The base station and user equipment, UE, of the present disclosure implement techniques that enable efficient processing of UE information in the following situations including when the UE desires to send new information to the RAN indicating the UE's preferences and/or conditions (generally referred to herein as "UE information"): (1) After the RAN has prepared a conditional mobility procedure, but (2) the condition has not been met and/or the mobility procedure has not been performed (i.e., handover or node change/addition has not occurred). For example, the UE information may include a preferred configuration, side chain information, IDC information, or MBS interest information.
In some embodiments, the UE or RAN ensures that the UE information is conveyed to candidate RAN nodes for the conditional mobility procedure. For example, after performing the mobility procedure, the UE may send UE information directly or indirectly (e.g., via the MN) to a candidate RAN node (e.g., a candidate base station, a candidate DU, or a candidate SN). Alternatively, the source RAN node (e.g., source base station) or MN may send/forward UE information to the candidate RAN node.
In other embodiments, the UE information is not necessarily re-sent to the RAN or forwarded to the candidate RAN node, but the RAN still works on the UE information. For example, during a conditional handoff between DUs of a distributed base station-and depending on the implementation-before or after the handoff is completed, a Centralized Unit (CU) of the base station may initiate a reconfiguration of the UE according to the UE information (i.e., in response to and/or based on the preference(s) and/or situation(s) indicated in the UE information). For example, the CU may determine one or more configuration restrictions (e.g., maximum resource allocation) based on the UE information and send a UE context request message to the candidate DU including information indicating the configuration restriction(s). In another example embodiment, in a DC scenario, the MN can initiate reconfiguration of the UE according to the UE information by sending an SN request message to the candidate SNs, wherein the SN request message includes similar information indicating one or more configuration restrictions.
In other embodiments, the RAN (e.g., source base station, CU, or MN) cancels the conditional mobility procedure after receiving the UE information from the UE, and/or causes the UE to release the conditional configuration. This may ensure that, for example, the UE is not forced to communicate with candidate nodes using configurations that are not aligned with the UE's preferences and/or conditions.
In other embodiments, the RAN ensures that the UE does not send UE information if the RAN has prepared a conditional mobility procedure for the UE. For example, the RAN may avoid enabling the UE to transmit UE information after the RAN prepares (or has determined to prepare) the UE for the conditional mobility procedure, or may disable the UE from transmitting UE information if the UE has been enabled to transmit UE information. Alternatively, if the UE is currently enabled to send UE information to the RAN, the RAN may avoid preparing the UE for the conditional mobility procedure. In some of these latter embodiments, if the RAN decides to enable the UE to transmit UE information but the UE has been configured for a conditional mobility procedure, the RAN transmits a release conditionally configured Radio Resource Control (RRC) message to the UE.
One example implementation of these techniques is a method in a UE in communication with a RAN. The method includes receiving a conditional configuration of a conditional mobility procedure from the RAN and a corresponding condition, wherein the corresponding condition is to be satisfied before the UE is able to communicate with a candidate node of the RAN using the conditional configuration. The method further comprises the steps of: after receiving the conditional configuration and the corresponding condition, transmitting UE information to the RAN, the UE information including information indicating a preference or condition of the UE, and after transmitting the UE information to the RAN, determining by processing hardware of the UE that the corresponding condition is satisfied. The method further comprises the steps of: after determining that the corresponding condition is satisfied, the UE information is again transmitted to the RAN.
In another example embodiment, a method in a RAN in communication with a UE includes sending a conditional configuration of a conditional mobility procedure and a corresponding condition to the UE, wherein the corresponding condition is to be satisfied before the UE is able to communicate with a candidate node of the RAN using the conditional configuration. The method further comprises the steps of: after the conditional configuration and the corresponding condition are transmitted, and before the corresponding condition is satisfied, UE information is received from the UE, the UE information including information indicating a preference or condition of the UE, and after the conditional mobility procedure is performed, the UE information is received from the UE again.
In another example embodiment, a method in a RAN node of a RAN includes sending a conditional configuration of a conditional mobility procedure and a corresponding condition to a UE, wherein the corresponding condition is to be satisfied before the UE is able to communicate with a candidate node of the RAN using the conditional configuration. The method further includes receiving UE information from the UE after the conditional configuration and the corresponding conditions are transmitted, the UE information including information indicating a preference or condition of the UE, and transmitting the UE information to the candidate node after the UE information is received from the UE.
In another example embodiment, a method in a RAN node of a RAN includes sending a conditional configuration of a conditional mobility procedure and a corresponding condition to a UE, wherein the corresponding condition is to be satisfied before the UE is able to communicate with a candidate node of the RAN using the conditional configuration. The method further includes receiving, from the UE, UE information after the conditional configuration and the corresponding conditions are transmitted, the UE information including information indicating a preference or condition of the UE, and transmitting, to the candidate node, a message causing the UE to be reconfigured according to the UE information after the UE information is received from the UE.
In another example embodiment, a method in a RAN node of a RAN includes sending a conditional configuration of a conditional mobility procedure and a corresponding condition to a UE, wherein the corresponding condition is to be satisfied before the UE is able to communicate with a candidate node of the RAN using the conditional configuration. The method further comprises the steps of: after transmitting the conditional configuration and the corresponding conditions, receiving UE information from the UE, the UE information including information indicating a preference or condition of the UE, and transmitting a message causing the UE to release the conditional configuration in response to receiving the UE information from the UE.
In another example embodiment, a method in a RAN node of a RAN includes determining, by processing hardware of the RAN node, to perform a conditional mobility procedure of a UE. The method also includes, in response to determining to perform or be performing the conditional mobility procedure, preventing the UE from sending UE information to the RAN node indicating a preference or condition of the UE, and sending a conditional configuration to the UE and corresponding conditions to be met before the UE can communicate with candidate nodes of the RAN using the conditional configuration.
In another example embodiment, a method in a RAN node of a RAN includes determining, by processing hardware of the RAN node, that a UE is enabled to transmit UE information indicating a preference or condition of the UE to the RAN node. The method further comprises the steps of: responsive to determining that the UE is enabled or is being enabled to send UE information to the RAN node indicating a preference or condition of the UE, the UE is enabled to send UE information to the RAN node indicating the preference or condition of the UE, and the UE is prevented from performing a conditional mobility procedure.
Drawings
Fig. 1A is a block diagram of an example system in which a Radio Access Network (RAN) and User Equipment (UE) may implement techniques of the present disclosure for managing UE information after a conditional mobility procedure has been prepared;
FIG. 1B is a block diagram of an example base station where a Centralized Unit (CU) and a Distributed Unit (DU) may operate in the system of FIG. 1A or FIG. 1B;
fig. 2A is a block diagram of an example protocol stack according to which the UE of fig. 1A may communicate with the base station of fig. 1A;
fig. 2B is a block diagram of an example protocol stack according to which two UEs of fig. 1A may communicate with each other via a side link;
fig. 3A through 3D are example message sequences corresponding to a scenario in which the RAN prepares a conditional handover procedure of a UE from one base station to another;
fig. 4A-4D are example message sequences corresponding to a scenario in which the RAN prepares a conditional handover procedure of a UE from one DU of a base station to another DU of the base station;
fig. 5A-5H are example message sequences corresponding to a scenario in which the RAN prepares a conditional change procedure of a UE from one Secondary Node (SN) to another;
fig. 6 depicts a flowchart of a method for providing UE information to candidate RAN nodes;
fig. 7A and 7B depict flowcharts of a method for preventing a UE from transmitting UE information when the RAN has prepared a conditional mobility procedure for the UE;
Fig. 8A and 8B depict flowcharts of a method for preventing execution of a conditional mobility procedure of a UE while the UE is enabled to transmit UE information;
fig. 9-11 depict flowcharts of a method for providing UE information to a candidate node, the UE information having been sent to a source node after a RAN has prepared a conditional mobility procedure for the UE;
fig. 12 depicts a flowchart of a method for reconfiguring a UE according to UE information that has been sent to a source node after a RAN has prepared a conditional mobility procedure for the UE; and
fig. 13 depicts a flowchart of a method for preventing a conditional mobility procedure from being performed when a UE sends UE information to a source node after a RAN has prepared the conditional mobility procedure for the UE.
Detailed Description
In general, a User Equipment (UE) of the present disclosure (e.g., any UE described below with reference to fig. 1-13) may receive a configuration related to a base station or cell and a condition to be met before the UE is able to apply the configuration, and may determine a conditional mobility procedure to which the configuration (referred to herein as a "conditional configuration") applies. The conditional mobility procedure may be, for example, a conditional handover procedure, a conditional Secondary Node (SN) addition or change procedure, or a conditional primary secondary cell (PSCell) addition or change procedure. In the following discussion, the term "CPAC" is used to refer to conditional PScell additions or changes without SN changes, while the term "CSAC" is used to refer to conditional SN additions or changes.
Fig. 1A depicts an example wireless communication system 100 in which a UE and/or a base station may implement the techniques of this disclosure. The wireless communication system 100 includes UEs 102 and 103, and base stations 104, 106A, 106B operating in a Radio Access Network (RAN) 105 and connected to a Core Network (CN) 110. For example, the base stations 104, 106A, 106B may be any suitable type (or types) of base stations, such as an evolved node B (eNB), a next generation eNB (ng-eNB), or a 5G node B (gNB). As a more specific example, the base station 104 may be an eNB or a gNB, and the base stations 106A, 106B may be gnbs.
Base station 104 supports cell 124, base station 106A supports cell 126A, and base station 106B supports cell 126B. Cell 124 partially overlaps with both cells 126A and 126B such that UE 102 may be within communication range with base station 106A while being within communication range with base stations 106A and/or 106B (or within the range of detecting or measuring signals from both base stations 104 and 106A, etc.). For example, the overlap may enable UE 102 to switch between cells (e.g., from cell 124 to cell 126A or 126B) before UE 102 experiences a radio link failure. Furthermore, the overlap allows for various Dual Connectivity (DC) scenarios discussed below. For example, UE 102 may communicate in DC with base station 104 (operating as a Master Node (MN)) and base station 106A (operating as an SN), and upon completion of the SN change, may communicate with base station 104 (operating as an MN) and base station 106B (operating as an SN). More specifically, when the UE 102 is DC with the base station 104 and the base station 106A, the base station 104 operates as a MeNB, mng-eNB, or MgNB, and the base station 106A operates as a SgNB or Sng-eNB.
In some embodiments and scenarios where UE 102 is in a Single Connection (SC) with base station 104 but capable of operating in DC, base station 104 operates as a MeNB, mng-eNB, or MgNB, and base station 106A operates as a candidate SgNB (C-SgNB) or a candidate Sng-eNB (C-Sng-eNB).
In the scenario where the UE 102 is handed off from the base station 104 to the base station 106B, the base stations 104 and 106B operate as a source base station (S-BS) and a target base station (T-BS), respectively. UE 102 may operate in DC with base station 104 and base station 106A prior to the handover and continue to operate in DC with base station 104 and base station 106A after the handover is completed. As used herein, the term "MN" may be used to refer to a base station that operates as a MN of a UE in DC operation or as a base station serving a UE in SC operation. Thus, if the handoff is immediate, in this case, the base stations 104 and 106B may be said to operate as a source MN (S-MN) and a target MN (T-MN), respectively. However, when the handoff is conditional, the base station 106B operates as a "conditional" or "candidate" T-MN, which may be referred to herein as "C-T-MN" or simply "C-MN";
although various scenarios in which base station 104 operates as a MN and base station 106A (or 106B) operates as an SN or C-SN are described below, any of base stations 104, 106A, 106B may generally operate as a MN, SN, or C-SN in different scenarios. Thus, in some embodiments, base station 104, base station 106A, and base station 106B may implement similar sets of functionality and each support MN, SN, and C-SN operations.
In operation, UE 102 may use a radio bearer (e.g., a Data Radio Bearer (DRB) or a Signal Radio Bearer (SRB)) that terminates at a MN (e.g., base station 104) or SN (e.g., base station 106A) at different times. The UE 102 may apply one or more security keys when communicating on a radio bearer in an uplink (from the UE 102 to the base station) and/or downlink (from the base station to the UE 102) direction.
The base station 104 includes processing hardware 130, and the processing hardware 130 may include one or more general-purpose processors (e.g., central Processing Units (CPUs)) and computer-readable memory storing machine-readable instructions executable on the general-purpose processor(s), and/or special-purpose processing units. The processing hardware 130 in the example embodiment of fig. 1A includes a configuration controller 132, the configuration controller 132 configured to manage or control configuration techniques that support immediate and conditional mobility procedures. For example, when the base station 104 operates as a MN with respect to the SN, the configuration controller 132 may support Radio Resource Control (RRC) messaging associated with an immediate handover procedure and a conditional handover procedure, and/or RRC messaging associated with an immediate add/change operation and a conditional add/change operation. Further, in some embodiments and/or scenarios, the configuration controller 132 may be responsible for maintaining (for the UE 102 and a plurality of other UEs) a current set of conditional configurations for the conditional mobility procedure. The processing hardware 130 in the example embodiment of fig. 1A also includes a UE information controller 134 configured to manage or control the techniques of the present disclosure relating to the management of UE information. For example, when the base station 104 operates as a MN with respect to the SN, the UE information controller 134 may support RRC messaging associated with UE information procedures and/or support operations performed by the base station 104 based on UE information. "UE information" broadly refers to information provided by a UE to a base station of a RAN when the UE is in a connected state with the base station, wherein the UE information indicates preferences and/or conditions of the UE (e.g., a preferred configuration of the UE, a coexisting communication system the UE is using, expecting to use, or may use, etc.). Some specific examples of UE information are discussed below.
The base station 106A includes processing hardware 140, which processing hardware 140 may include one or more general-purpose processors (e.g., CPUs) and computer-readable memory storing machine-readable instructions executable on the general-purpose processor(s), and/or special purpose processing units. The processing hardware 140 in the example embodiment of fig. 1 includes a configuration controller 142 configured to manage or control RRC procedures and RRC configurations. For example, when the base station 106A operates as an SN or a candidate SN (C-SN), the configuration controller 142 may support RRC messaging associated with an immediate handover procedure and a conditional handover procedure, and/or RRC messaging associated with an immediate add/change operation and a conditional add/change operation. Further, in some embodiments and/or scenarios, configuration controller 142 may be responsible for maintaining (for UE 102 and a plurality of other UEs) a current set of conditional configurations for the conditional mobility procedure. The processing hardware 140 in the example embodiment of fig. 1 includes a UE information controller 144 configured to manage or control the techniques of the present disclosure relating to the management of UE information. For example, when the base station 106A operates as an SN or a candidate SN (C-SN), the UE information controller 144 may support RRC messaging associated with UE information procedures and/or support operations performed by the base station 106A based on UE information. Although not shown in fig. 1A, base station 106B may include processing hardware similar to processing hardware 140 of base station 106A. Further, while the present disclosure describes different operations of the base stations 104, 106A, 106B to reflect their different scenario-specific operations (e.g., when the base station 104 is a MN, the base station 106A is a C-SN, and the base station 106B is a SN), the processing hardware of the base stations 104, 106A, 106B may all include controllers with similar capabilities/functions.
UE 102 includes processing hardware 150, which processing hardware 150 may include one or more general-purpose processors (e.g., CPUs) and computer-readable memory storing machine-readable instructions executable on the general-purpose processor(s), and/or special purpose processing units. The processing hardware 150 in the example embodiment of fig. 1A includes a configuration controller 152, the configuration controller 152 being configured to manage or control RRC procedures and RRC configurations related to the configuration of mobility procedures, including conditional mobility procedures. For example, the configuration controller 152 may support RRC messaging associated with immediate and conditional handover and/or secondary node addition/change procedures, and may also be responsible for maintaining a current set of conditional configurations for the UE 102 (e.g., adding, releasing, or modifying conditional configurations as needed) according to any of the embodiments discussed below. The processing hardware 150 in the example embodiment of fig. 1A further includes a UE information controller 154 configured to manage or control UE information techniques of the present disclosure. For example, the UE information controller 144 may support RRC messaging associated with the UE information procedures discussed herein.
CN 110 may be an Evolved Packet Core (EPC) 111 or a fifth generation core (5 GC) 160, both depicted in fig. 1A. As shown in fig. 1A, each of the base stations 104, 106B may be an eNB supporting an S1 interface for communicating with EPC 111, a NG-eNB supporting an NG interface for communicating with 5gc 160, or a gNB supporting an NR radio interface and an NG interface for communicating with 5gc 160. Base station 106A may be an EUTRA-NR DC (EN-DC) gNB (EN-gNB) with an S1 interface to EPC 111, an EN-gNB not connected to EPC 111, a gNB supporting an NR radio interface and an NG interface to 5gc 160, or a NG-eNB supporting an EUTRA radio interface and an NG interface to 5gc 160. To exchange messages directly with each other during various scenarios discussed below, as shown in fig. 1A, base stations 104, 106A, 106B may support an X2 or Xn interface.
Among other components, EPC 111 may include a Serving Gateway (SGW) 112, a Mobility Management Entity (MME) 114, and a packet data network gateway (PGW) 116.SGW 112 is typically configured to communicate user plane packets related to audio calls, video calls, internet traffic, etc., and MME 114 is typically configured to manage authentication, registration, paging, and other related functions. PGW 116 is typically configured to provide connectivity from the UE to one or more external packet data networks, e.g., an internet network and/or an Internet Protocol (IP) multimedia subsystem (IMS) network. The 5gc 160 includes a User Plane Function (UPF) 162, an access and mobility management function (AMF) 164, and/or a Session Management Function (SMF) 166.UPF 162 is typically configured to communicate user plane packets related to audio calls, video calls, internet traffic, etc., AMF 164 is typically configured to manage authentication, registration, paging, and other related functions, and SMF 166 is typically configured to manage PDU sessions.
In general, the wireless communication system 100 may include any suitable number of base stations supporting NR cells and/or EUTRA cells. More specifically, EPC 111 or 5gc 160 may be connected to any suitable number of base stations supporting NR cells and/or EUTRA cells. For example, the wireless communication system 100 includes at least one additional base station in the immediate handoff scenario and the conditional handoff scenario discussed below with reference to fig. 1B. Although the following examples specifically refer to specific CN types (EPC, 5 GC) and specific Radio Access Technology (RAT) types (5G NR and EUTRA), in general, the techniques of this disclosure may also be applied to other suitable radio access and/or core network technologies, such as, for example, sixth generation (6G) radio access and/or 6G core networks or 5G NR-6G DC.
The UE information mentioned above may include, for example, a UE assistance information message including a preferred configuration sent by UE 102 to a base station (e.g., base station 104). By sending the preferred configuration, the UE 102 may suggest that the receiving base station (or more generally the RAN 105) take action, such as temporarily disabling DC, or adjust parameters, such as one or more minimum scheduling offsets (e.g., K0 and/or K2), discontinuous (DRX) configuration, number of scells, number of MIMO layers, and/or aggregate bandwidth used during the connected state (e.g., to reduce power, or to accommodate heavy application processing or high ambient temperatures). For example, if the UE 102 and the receiving base station are configured to communicate over a maximum number of scells, a maximum number of MIMO layers, and/or a maximum aggregate bandwidth, the UE 102 may suggest that the receiving base station reduce the maximum number of scells, the maximum number of MIMO layers, and/or the maximum aggregate bandwidth by sending a preferred configuration to the MN indicating a preferred maximum number of scells, a preferred maximum number of MIMO layers, and/or a preferred maximum aggregate bandwidth, respectively. Thus, the preferred configuration may indicate a maximum allocation preferred by the UE for one or more resources. Further, in a scenario where UE 102 is DC with a MN (e.g., base station 104) and SN (e.g., base station 106B), UE 102 may send a preferred configuration indicating a preferred maximum number of scells, a preferred maximum number of MIMO layers, and/or a preferred maximum aggregate bandwidth, particularly for SN.
In another example, when the UE 102 is in a connected state, the UE 102 may send in-device coexistence (IDC) assistance information to the base station in a UE assysioninformation message or an indevicecorex indication message. In IDC assistance information, the UE 102 may include a list of carrier frequencies affected by IDC problems, a list of carrier frequency combinations affected by IDC problems (due to intermodulation distortion and harmonics caused by EUTRA or NR when Uplink (UL) Carrier Aggregation (CA) is configured), or a list of "victim" system type(s) subject to IDC interference from EUTRA or NR when UL CA is configured. The victim system type(s) may include, for example, a GNSS type (e.g., GPS, GLONASS, BDS, galileo or NavIC), a Wireless Local Area Network (WLAN), and/or bluetooth. The ueassistance information message and the indeviceCoexindication message are described in 3GPP TS 38.331 or 36.331. For example, IDC Assistance information may include one or more Information Elements (IE) of IDC-Assistance-r16 Information Element (IE) as specified in 3GPP TS 38.331v16.2.0 or indeviceco indication-r11-IE (IE) as specified in 3GPP TS 36.331v16.2.0.
In another example, when UE 102 is in a connected state, UE 102 may send side link information to the base station in a ueassistance information message, a sidinkueinformation message, or a sidinkueinformation nr message. UEAssistanceInformation, sidelinkUEInformation and the SidelinkUEInformationNR messages are described in 3GPP TS 38.331 or 36.331. For example, the side chain information may be one or more of the IEs included in the SL-UE-AssistanceInformationNR IE or SidelinkUEInformationNR-r16-IE IE as specified in 3GPP TS 38.331v16.2.0. As another example, the side link information may be one or more IEs included in a trafficpatternlnfolist-v 1530 IE or a sidelinkiueinformation-r 12-IE as specified in 3GPP TS 36.331v16.2.0.
In yet another example, if UE 102 is receiving or is otherwise interested in receiving multicast and/or broadcast services (MBS), UE 102 may send an indication of interest in MBS to the base station. Based on the MBS interest indication, the RAN 105 may attempt to enable the UE 102 to receive MBS (and possibly unicast) services, subject to the capabilities of the UE 102. In the MBS interest indication, UE 102 may indicate a set of one or more frequencies on which UE 102 is receiving or is interested in receiving the MBS. The MBS interest indication may also indicate that UE 102 is receiving or receiving a list of MBS of interest on the indicated one or more frequencies. The UE 102 may send an MBS interest indication regardless of whether the serving cell supports MBS. In some scenarios, UE 102 sends a first MBS interest indication to the network and sends an updated second MBS interest indication at a later time. In some embodiments, the UE 102 in a connected state may send MBS interest information to the base station within an mbms interest indication message or an mbms interest indication message. The mbmsinteresitindication message and the MBSInterestIndication message are described in 3gpp TS 36.331 or 38.331. For example, the MBS interest information may be one or more of the IEs included in the MBMSInterestInstruction-r 11-IE IE as specified in 3GPP TS 36.331v16.2.0.
As indicated above, the wireless communication system 100 may support various mobility procedures (e.g., immediate or conditional handoff, SN addition, etc.) and modes of operation (e.g., SC or DC). Example operations of various processes that may be implemented in the wireless communication system 100 will now be described.
In some embodiments, the wireless communication system 100 supports an immediate handoff between cells. In one scenario, for example, the UE 102 is initially connected to the base station 104, and the base station 104 later performs preparation for an immediate handoff with the base station 106A via an interface (e.g., X2 or Xn). In this scenario, base stations 104 and 106A operate as a source base station and a target base station, respectively. In handover preparation, the source base station 104 sends a handover request message to the target base station 106A. In response, the target base station 106A includes an immediate handover command message in the handover request confirm message and sends the handover request confirm message to the source base station 104. Subsequently, the source base station 104 sends a handover command message to the UE 102 in response to receiving the handover request confirm message.
Upon receiving the immediate handover command message, the UE 102 immediately reacts to the immediate handover command by attempting to connect to the target base station 106A. To connect to the target base station 106A, the ue 102 may perform a random access procedure with the target base station 106A and then send a handover complete message (i.e., in response to an immediate handover command) to the target base station 106A via a cell of the base station 106A (e.g., cell 126A).
In some implementations, the wireless communication system 100 also supports conditional handoffs. In one scenario, for example, the UE 102 is initially connected to the base station 104, and the base station 104 later performs a first conditional handover preparation procedure with the base station 106A via an interface (e.g., X2 or Xn) to prepare for a potential handover of the UE 102 to the base station 106A. In this scenario, base stations 104 and 106A operate as source and candidate base stations, respectively. In a first conditional handoff preparation procedure, the source base station 104 sends a handoff request message to the candidate base station 106A. In response, the candidate base station 106A includes the first conditional handover command message in a handover request confirm message and sends the handover request confirm message to the source base station 104. Subsequently, the source base station 104 sends a first conditional handover command message to the UE 102 in response to receiving the handover request confirm message.
Upon receiving the first conditional handover command message, the UE 102 does not immediately react to the message by attempting to connect to the candidate base station 106A. In contrast, the UE 102 connects to the candidate base station 106A according to the first conditional handover command message only if the UE 102 determines that the first condition for handover to the candidate cell 126A of the candidate base station 106A is satisfied. The base station 106A provides a configuration of the candidate cell 126A (i.e., a configuration that the UE 102 may use to connect with the base station 106A via the candidate cell 126A) in a first conditional handover command message.
The UE 102 has not been connected to the candidate base station 106A until the first condition is satisfied. In other words, candidate base station 106A has not yet connected and served UE 102. In some embodiments, the first condition may be that the signal strength/quality measured by the UE 102 on the candidate cell 126A of the candidate base station 106A is sufficiently "good" and/or that the signal strength/quality measured by the UE 102 on the cell 124 of the source base station 104 is poor. For example, the first condition may be satisfied if one or more measurements obtained by the UE 102 (when performing measurements on the candidate cell 126A) exceeds a threshold (which may be a predetermined or preconfigured threshold) configured by the source base station 104, and/or if one or more measurements obtained by the UE 102 (when performing measurements on the candidate cell 124) exceeds a threshold (which may be a predetermined or preconfigured threshold) configured by the source base station 104. In some embodiments, the first condition may be that the signal strength/quality measured by UE 102 on candidate cell 126A is at least some threshold (e.g., at least offset) better than the signal strength/quality measured by UE 102 on cell 124. The threshold may be configured by the source base station 104 or a predetermined or preconfigured offset. If the UE 102 determines that the first condition is met, the candidate base station 106A becomes the target base station 106A of the UE 102 and the UE 102 attempts to connect to the target base station 106A. To connect to the target base station 106A, the ue 102 may perform a random access procedure with the target base station 106A and then send a first handover complete message to the target base station 106A (after gaining access to the channel) via the candidate cell 126A. After the UE 102 successfully completes the random access procedure and/or sends the first handover complete message, the target base station 106A becomes the source base station 106A of the UE 102 and the UE 102 starts transmitting data with the source base station 106A.
In some embodiments and/or scenarios, conditional handoffs may occur with more than one candidate cell supported by candidate base station 106A (e.g., cell 126A and another cell of base station 106A, which is not shown in fig. 1A). In one such scenario, the base station 106A may provide the configuration of additional candidate cells for the base station 106A in addition to the configuration of the candidate cell 126A in the first conditional handover command message. The UE 102 may then monitor whether the additional candidate cell for the candidate base station 106A satisfies the second condition while also monitoring whether the first condition is satisfied for the candidate cell 126A. The second condition may be the same as or different from the first condition.
In another scenario, in a process similar to the process described above, base station 104 performs a second conditional handover preparation process with base station 106A via an interface (e.g., X2 or Xn) to prepare for a potential handover of UE 102 to base station 106A. However, in this scenario, the base station 104 also transmits to the UE 102 a second conditional handover command message received by the base station 104 from the candidate base station 106A for potential handover to additional candidate cells (not shown in fig. 1A) of the base station 106A. The base station 106A may provide the configuration of the additional candidate cells in a second conditional handover command message. The UE 102 may then monitor whether the additional candidate cells for the candidate base station 106A satisfy the second condition. The second condition may be the same as or different from the first condition.
In a process similar to that described above, the base station 104 may also perform a third conditional handover preparation process with the base station 106B via an interface (e.g., X2 or Xn) to prepare for a potential handover of the UE 102 to the base station 106B. For example, in such a scenario, the base station 104 may send a third conditional handover command message to the UE 102, which the base station 104 receives from the candidate base station 106B for potential handover to the cell 126B of the candidate base station 106B. The base station 106B may provide the configuration of the candidate cell 126B in a third handover command message. The UE 102 may then monitor whether a third condition is met for the candidate cell 126B. The third condition may be the same as or different from the first condition and/or the second condition. The above conditional handover command message may be an RRC reconfiguration message or may be a conditional handover configuration as an Information Element (IE).
In some implementations, the wireless communication system 100 supports DC operations, including SN addition and SN change procedures. In one scenario, for example, after the UE 102 connects to the base station 104, the base station 104 may perform an immediate SN addition procedure to add the base station 106A as a secondary node, thereby configuring the UE 102 to operate in DC with the base stations 104 and 106A. At this time, the base stations 104 and 106A operate as MN and SN, respectively. Later, when the UE 102 is still DC with the MN 104 and SN 106A, the MN 104 may perform an immediate SN change procedure to change the SN of the UE 102 from the base station 106A (which may be referred to as a source SN or S-SN) to the base station 106B (which may be referred to as a target SN or T-SN).
In other scenarios, when the UE 102 is in a Single Connection (SC) with the base station 104, or when at DC of the UE 102 and the base stations 104 and 106A, and before the UE 102 has connected to the C-SN 106B, the base station 104 may perform a conditional SN addition procedure to configure the base station 106B as a candidate SN (C-SN) for the UE 102. In this case, base stations 104 and 106B operate as MN and C-SN, respectively, of UE 102. When the UE 102 receives the configuration of the C-SN 106B, the UE 102 is not connected to the C-SN 106B unless and until the UE 102 detects that the corresponding condition is met. If the UE 102 determines that the condition is met, the UE 102 connects to the C-SN 106B such that the C-SN 106B becomes the SN 106B of the UE 102.
In some implementations, the condition can be that the signal strength/quality measured by the UE 102 on a candidate primary and secondary cell (C-PSCell) of the C-SN 106B (e.g., cell 126B) is sufficiently "good" and/or that the signal strength/quality measured by the UE 102 on the PSCell 126A of the SN 106A is poor (if the UE 102 is in DC with the MN 104 and SN 106A). For example, the condition may be met if one or more measurements obtained by the UE 102 (when performing measurements on the C-PSCell) exceeds a threshold configured by the MN 104 or is above a predetermined or preconfigured threshold, and/or if one or more measurements obtained by the UE 102 (when performing measurements on the C-PSCell 126A) exceeds a threshold configured by the MN 104 or the SN 106A (which may be a predetermined or preconfigured threshold). In other embodiments, if the UE 102 is in DC with the MN 104 and SN 106A, the condition may be that the signal strength/quality measured by the UE 102 on the C-PSCell 126B exceeds the signal strength/quality measured by the UE 102 on the PSCell 126A by at least some threshold (e.g., at least some offset). For example, the threshold may be configured by the MN 104 or SN 106A, or may be a predetermined or preconfigured offset. If the UE 102 determines that the condition is met, the UE 102 may perform a random access procedure with the C-SN 106B to connect to the C-SN 106B. After the UE 102 successfully completes the random access procedure, the base station 106B becomes the SN of the UE 102 and the C-PSCell (e.g., cell 126B) becomes the PSCell of the UE 102. The SN 106B may then begin transmitting data with the UE 102.
Yet another scenario involves conditional PSCell changes. In this scenario, UE 102 is initially at DC with MN 104 (via a primary cell (PCell)) and SN 106A (via a PSCell, not shown in fig. 1, which is different from cell 126A). The SN 106A may provide the configuration of the C-PSCell126A for the UE 102. If the UE 102 is configured with an SRB (e.g., SRB 3) that allows RRC messages to be exchanged with the SN 106A, the SN 106A can send the configuration of the C-PScell126A to the UE 102 directly via the SRB or via the MN 104. In some implementations, the SN 106A can send an RRC reconfiguration message including the configuration to the UE 102 via the SRB. If the UE 102 has not been configured with SRB, or if the SN 106A determines to send configuration via the MN 104, the SN 106A may send the configuration of the C-PScell126A to the UE 102 via the MN 104. In some embodiments, the SN 106A may send an RRC reconfiguration message to the MN 104, and the MN 104 in turn sends an RRC reconfiguration message to the UE 102. For example, the SN 106A may send the configuration in response to one or more measurements received from the UE 102 via the SRB or in response to one or more measurements obtained by the SN 106A from measurements of signals received from the UE 102.
In contrast to the immediate PSCell change scenario discussed above, in a conditional procedure, after receiving the configuration of C-PSCell126A, UE 102 does not disconnect from the PSCell and attempts to connect to C-PSCell 126A. In contrast, the UE 102 is not connected to the C-PSCell126A until the UE 102 determines that a particular condition is met. When the UE 102 determines that the condition has been met, the UE 102 connects to the C-PSCell126A, such that the C-PSCell126A begins operating as the PSCell126A of the UE 102. In some embodiments, the UE 102 disconnects from the current PSCell in order to connect to the C-PSCell 126A.
In some scenarios, the condition associated with conditional SN addition or conditional PSCell change may be that the signal strength/quality measured by the UE 102 on the C-PSCell 126A of the (C-) SN 106A exceeds a particular threshold or otherwise corresponds to an acceptable measurement, and/or that the signal strength/quality measured by the UE 102 on the current PSCell of the SN 106A is poor. For example, the UE 102 may determine that the condition is met when one or more measurements obtained by the UE 102 on the C-PSCell 126A are above a threshold configured by the MN 104 or the (C-) SN 106A or above a predetermined or preconfigured threshold. In other embodiments, if the UE 102 is in DC with the MN 104 and SN 106A, the condition may be that the signal strength/quality measured by the UE 102 on the C-PSCell 126A exceeds the signal strength/quality measured by the UE 102 on the current PSCell by at least some threshold (e.g., at least some offset). For example, the threshold may be configured by the SN 106A, or a predetermined or preconfigured offset. When the UE 102 determines that such a condition is met, the UE 102 may perform a random access procedure on the C-PSCell 126A and with the C-SN 106A to connect to the C-SN 106A. After the UE 102 successfully completes the random access procedure on the C-PSCell 126A, the C-PSCell 126A becomes the PSCell 126A of the UE 102. The C-SN 106A may then begin transmitting data (user-plane data and/or control-plane data) with the UE 102 via the PSCell 126A.
In different embodiments and/or scenarios of the wireless communication system 100, the base station 104 may operate as a master eNB (MeNB) or a master gNB (MgNB), and the base station 106A or 106B may be implemented as a secondary gNB (SgNB) or a candidate SgNB (C-SgNB). The UE 102 may communicate with the base station 104 and the base station 106A or 106B via the same RAT (such as EUTRA or NR) or via different RATs. If base station 104 is a MeNB and base station 106A is a SgNB, then UE 102 may be in EN-DC with the MeNB and the SgNB. In such a scenario, the MeNB 104 may or may not configure the base station 106B as a C-SgNB to the UE 102. When base station 104 is a MeNB and base station 106A is a C-SgNB of UE 102, UE 102 may be in an SC with the MeNB. In such a scenario, the MeNB 104 may or may not configure the base station 106B as another C-SgNB to the UE 102.
In some cases, the MeNB, seNB, or C-SgNB may be implemented as a ng-eNB instead of an eNB. When base station 104 is a master NG-eNB (Mng-eNB) and base station 106A is a SgNB, UE 102 may be in the Next Generation (NG) EUTRA-NR DC (NGEN-DC) with the Mng-eNB and the SgNB. In such a scenario, the MeNB 104 may or may not configure the base station 106B as a C-SgNB to the UE 102. When base station 104 is a Mng-NB and base station 106A is a C-SgNB of UE 102, UE 102 may be in SC with the Mng-NB. In this case, mng-eNB 104 may or may not configure base station 106B as another C-SgNB to UE 102.
When base station 104 is a MgNB and base station 106A is a SgNB, UE 102 may be in NR-NR DC (NR-DC) with the MgNB and the SgNB. In such a scenario, the MeNB 104 may or may not configure the base station 106B as a C-SgNB to the UE 102. When base station 104 is a MgNB and base station 106A is a C-SgNB of UE 102, UE 102 may be in SC with the MgNB. In such a scenario, mgNB 104 may or may not configure base station 106B as another C-SgNB to UE 102.
When base station 104 is a MgNB and base station 106A is a secondary ng-eNB (Sng-eNB), UE 102 may be in NR-EUTRA DC (NE-DC) with the MgNB and Sng-eNBs. In such a scenario, mgNB 104 may or may not configure base station 106B as a C-Sng-eNB for UE 102. When base station 104 is a MgNB and base station 106A is a candidate Sng-eNB (C-Sng-eNB) for UE 102, UE 102 may be in SC with the MgNB. In such a scenario, mgNB 104 may or may not configure base station 106B as another C-Sng-eNB for UE 102.
Fig. 1B depicts an example distributed implementation of a base station, such as base station 104, 106A, or 106B. The base station in this embodiment may include a Centralized Unit (CU) 172 and one or more Distributed Units (DUs) 174.CU 172 is equipped with processing hardware that may include one or more general-purpose processors (such as a CPU) and non-transitory computer-readable memory storing machine-readable instructions executable on the one or more general-purpose processors, and/or special-purpose processing units. In one example, CU 172 is equipped with processing hardware 130. In another example, CU 172 is equipped with processing hardware 140. The processing hardware of CU 172 may include an RRC controller configured to manage or control one or more RRC configurations and/or RRC procedures when the base station operates as, for example, a MN, SN, or C-SN.
DU 174 is also equipped with processing hardware that may include one or more general-purpose processors (such as CPUs) and non-transitory computer-readable memory storing machine-readable instructions executable on the one or more general-purpose processors, and/or special purpose processing units. In some embodiments, when the base station operates as a MN, SN, or C-SN, the processing hardware includes a Media Access Control (MAC) controller configured to manage or control one or more MAC operations or procedures (e.g., random access procedures), and a Radio Link Control (RLC) controller configured to manage or control one or more RLC operations or procedures. The processing hardware may also include a physical layer (PHY) controller configured to manage or control one or more physical layer operations or processes.
Next, fig. 2A shows in a simplified manner an example radio protocol stack 200 according to which the ue 102 may communicate with an eNB/ng-eNB or a gNB. Each of the base stations 104, 106A or 106B may be an eNB/ng-eNB or a gNB, depending on the implementation and scenario.
The PHY 202A of EUTRA provides transport channels to the EUTRA MAC sublayer 204A, which in turn provides logical channels to the EUTRA rlc sublayer 206A. EUTRA RLC sublayer 206A, in turn, provides RLC channels to EUTRA PDCP sublayer 208 and, in some cases, to NR PDCP sublayer 210. Similarly, the PHY 202B of NR provides transport channels to the NR MAC sublayer 204B, which in turn provides logical channels to the NR RLC sublayer 206B. The NR RLC sublayer 206B in turn provides RLC channels to the NR PDCP sublayer 210. In some embodiments, the UE 102 supports both EUTRA and NR stacks to support handover between EUTRA and NR base stations, and/or to support DC over the EUTRA and NR interfaces. In addition, as shown in fig. 2A, the UE 102 may support layering of NR PDCP 210 sublayers on EUTRA RLC sublayer 206A.
The EUTRA PDCP sublayer 208 and the NR PDCP sublayer 210 receive packets (e.g., from an IP layer not shown in fig. 2A and layered directly or indirectly on the PDCP layer 208 or 210), which may be referred to as Service Data Units (SDUs), and output packets (e.g., to the RLC sublayer 206A or 206B), which may be referred to as Protocol Data Units (PDUs). Except for the case of differential correlation between SDUs and PDUs, the present disclosure refers to both SDUs and PDUs as "packets" for simplicity.
On the control plane, for example, the EUTRA PDCP sublayer 208 and the NR PDCP sublayer 210 provide SRBs to exchange RRC messages. On the user plane, the EUTRA PDCP sublayer 208 and the NR PDCP sublayer 210 provide DRBs to support data exchange.
When the UE 102 is operating in EN-DC, where the base station 104 is operating as a MeNB and the base station 106A is operating as a SgNB, the RAN 105 may provide the UE 102 with MN-terminated bearers using the EUTRA PDCP sublayer 208 or MN-terminated bearers using the NR PDCP sublayer 210. In various scenarios, the RAN 105 may also provide SN-terminated bearers to the UE 102 using only the NR PDCP sublayer 210. The MN-terminated bearer may be an MCG bearer, a split bearer, or an MN-terminated SCG bearer, the SN-terminated bearer may be an SCG bearer, a split bearer, or an SN-terminated MCG bearer, and the MN-terminated bearer may be an SRB (e.g., SRB1 or SRB 2) or a DRB. The SN terminated bearer may be an SRB or a DRB.
Fig. 2B shows in a simplified manner an example protocol stack 250 for side link communication between UE 102 and UE 103. In the example stack 250, the PHY sublayer 252 provides transport channels to the MAC sublayer 254, which in turn provides logical channels to the RLC sublayer 256. The RLC sublayer 256 in turn provides RLC channels to the PDCP sublayer 258. In some implementations, the example stack 250 conforms to EUTRA or NR.
The PDCP sublayer 258 receives packets (e.g., from an IP layer, not shown in fig. 2B, layered directly or indirectly on the PDCP sublayer 258) that may be referred to as SDUs, and outputs packets (e.g., to the RLC sublayer 256) that may be referred to as PDUs. As described above, the present disclosure refers to both SDUs and PDUs as "packets" for simplicity, except for the case where the difference between SDUs and PDUs is relevant. On the control plane, for example, PDCP sublayer 258 may provide one or more side link SRBs to exchange RRC messages between UEs 102 and 103. On the user plane, the PDCP sublayer 258 may provide one or more side link DRBs to support data exchange between UEs 102 and 103.
Next, several example scenarios in which the base station initiates a conditional handover procedure (refer to fig. 3A to 4D) are discussed, followed by an example scenario in which the base station initiates a conditional PSCell addition or change procedure (refer to fig. 5A to 5H).
Referring first to fig. 3A, a scenario 300A involves a conditional handoff procedure. In scenario 300A, base station 104 operates as a source base station (MN) and base station 106B operates as a candidate base station (C-MN) for conditional handoff. Initially, UE 102 communicates 302A with MN 104 according to a first MN configuration. For example, UE 102 may be in SC with MN 104 or in DC with MN 104 and SN 106A. The MN 104 then determines (304A) to configure the UE 102 with the conditional configuration. The MN 104 may make the determination (304A) based on one or more measurements received by the MN 104 directly from the UE 102 (e.g., via an SRB established between the UE 102 and the MN 104 or via a physical control channel), based on one or more measurements obtained by the MN 104 from measurements of signals received from the UE 102 over data or control channels, or based on some other suitable event. In response to determining 304a, MN 104 sends (306A) a conditional handoff request message to C-MN 106B.
C-MN 106B generates (308A) a first C-MN configuration in response to the conditional handoff request message. The first C-MN configuration is the configuration of the candidate PCell (C-PCell) 126B for C-MN 106B. C-MN 106B then sends 310A conditional handoff request acknowledgement message to MN 104 that includes the first C-MN configuration. The MN 104 then includes the first C-MN configuration in the conditional configuration and sends (312A) an RRC reconfiguration message including the conditional configuration to the UE 102. The UE 102 may then send (314A) an RRC reconfiguration complete message to the MN 104 in response to the RRC reconfiguration message. Events 302A, 304A, 306A, 308A, 310A, 312A, and 314A are collectively referred to herein as a Conditional Handoff (CHO) configuration process 388A.
In some embodiments, the conditional handover request message at event 306A may be a handover request message as defined in 3gpp TS 36.423 or TS 38.423, and MN 104 may include a conditional handover request indication in the handover request message. In some embodiments, the MN 104 may include the first MN configuration in a handoff request message. In other embodiments, the MN 104 does not include the first MN configuration in the handoff request message.
Later, but before the UE 102 determines that the condition associated with the conditional configuration has been met, the UE 102 sends (316A) first UE information to the MN 104. In the first UE information, the UE 102 may include, for example, a preferred configuration, IDC auxiliary information, side chain information, or MBS interest information. In some embodiments, UE 102 sends (316A) an RRC message including the first UE information, such as a ueassistance information message, an independency co-indication message, a sidinkueinformation message, or a sidinkueinformation nr message, as specified in 3GPP specifications 36.331 or 38.331, to MN 104.
In some embodiments and scenarios, the UE 102 sends (316A) the first UE information to the MN 104 as a result of an event occurring, such as, for example: (1) UE 102 decides to save power (e.g., UE 102 is in or expects to enter a power save mode); (2) heavy application handling by UE 102; (3) high ambient temperature (i.e., UE 102 experiences overheating); (4) UE 102 does not need power saving (e.g., UE 102 is not in or decides to exit power saving mode); (5) Low ambient temperature (e.g., UE 102 no longer experiences overheating); (6) UE 102 is engaged in side-chain communications with another UE; (7) the UE 102 releases the side link communication with another UE; (8) the UE 102 experiences IDC problems; (9) the UE 102 no longer experiences IDC problems; (10) UE 102 decides that MBS is of interest; or (11) UE 102 decides that MBS is no longer of interest.
In other embodiments and scenarios, the UE 102 sends (316A) the first UE information to the MN 104 in response to the UE 102 determining that a particular threshold-based condition is met. The condition may be, for example: (1) The battery power capacity at the UE 102 is less than or equal to the first power threshold; (2) The battery power capacity is greater than or equal to a second power threshold that is the same as or different from the first power threshold; (3) One or more applications of the UE 102 require a data rate that is greater than or equal to the first predetermined data rate; (4) One or more applications of the UE 102 require a data rate that is lower than or equal to a second predetermined data rate that is the same as or different from the first predetermined data rate; (5) The ambient temperature at the UE 102 is greater than or equal to the first temperature threshold; (6) The ambient temperature at the UE 102 is less than or equal to a second temperature threshold that is the same as or different from the first temperature threshold; (7) Conditions related to interest in sidelink communications, request for sidelink resources, or provision of sidelink assistance information (e.g., sidelink traffic pattern (s)); (8) Conditions related to a request to release side link communication or lack of interest for side link communication, or a change in side link assistance information (e.g., a change in side link traffic pattern (s)); (9) conditions related to interest in receiving MBS; or (10) conditions related to lack of interest in receiving MBS.
In some embodiments, if the UE 102 detects the above condition (1), (3) or (5), the UE 102 may suggest to the MN 104 that the MN 104 disables DC, uses a larger minimum scheduling offset(s) or DRX cycle with longer off duration, or reduces the maximum number of scells, the maximum number of MIMO layers, and/or the maximum aggregate bandwidth, for example, by including in the first UE information a preferred configuration that indicates (or includes) to disable DC (e.g., the preferred maximum number of scells including PSCell is set to zero), the preferred DRX configuration, the preferred maximum number of scells, the preferred maximum number of MIMO layers, or the preferred maximum aggregate bandwidth).
In some embodiments, if the UE 102 has previously sent old UE information in response to detecting the above conditions (1), (3) or (5), and then detected conditions (2), (4) or (6), the UE 102 may suggest to the MN 104 to re-enable DC, use smaller minimum scheduling offset(s) or DRX cycle with longer on duration, or increase the maximum number of scells, the maximum number of MIMO layers, and/or the maximum aggregate bandwidth, for example, by including in the first UE information a flag indicating (or including) that DC is disabled (e.g., the preferred maximum number of scells including PSCell is set to zero), minimum scheduling offset(s), preferred DRX configuration, preferred maximum number of scells, preferred maximum number of MIMO layers, or preferred configuration of preferred maximum aggregate bandwidth).
In some embodiments, if the UE 102 detects the condition (7) above, the UE 102 may indicate that the UE 102 is interested in the side link communication on the one or more frequencies, or request side link resources for the side link communication, and/or update the side link traffic pattern(s), for example, by including frequency information (e.g., first SL-RxInterestedFreqList), side link transmission resource request information (e.g., SL-TxResoureReq), or side link assistance information in the first UE information.
In some embodiments, if UE 102 has previously sent old UE information in response to detecting condition (7) above, and UE 102 then detected condition (8), UE 102 may indicate that UE 102 is no longer interested in side link communication on one or more frequencies, request release of side link resources for side link communication, and/or update of side link traffic pattern(s), for example, by including frequency information for one or more frequencies (e.g., first SL-RxInterestedFreqList), side link transmission resource request information (e.g., SL-TxResoureReq), or new side link assistance information in the first UE information.
In some embodiments, if the UE 102 detects the condition (10) above, the UE 102 may indicate that the UE 102 is interested in receiving MBS on one or more frequencies, for example, by including frequency information for the one or more frequencies in the first UE information.
If UE 102 has previously sent old UE information due to detection of condition (10) and detected condition (11), in some embodiments UE 102 may indicate that UE 102 is no longer interested in receiving MBS on one or more frequencies by including frequency information for the one or more frequencies in the first UE information.
In some embodiments, the UE 102 may start a prohibit timer (e.g., t346A, t346b, t346c, t346d, t346e, t346 f) in response to transmitting (316A) the first UE information. During the prohibit timer run, the UE 102 refrains from transmitting first UE information (i.e., the same UE information that the UE 102 last transmitted) to the MN 104 or RAN 105. The MN 104 can configure the UE 102 to start the prohibit timer by sending an RRC reconfiguration message to the UE 102 that includes the timer value of the prohibit timer. In response, the UE 102 starts a prohibit timer value with the configured timer value.
Sometime after transmitting (316A) the first UE information (e.g., after any arbitrary amount of time), the UE 102 may determine (334A) that a first condition for connecting to the C-PCell 126B is satisfied, and in response, initiate (335A) a random access procedure (also referred to as a "random access channel" or "RACH" procedure) on the C-PCell 126B. In response to initiating (335A), UE 102 may perform (336A) a RACH procedure with C-MN 106B via C-PCell 126B, e.g., using a random access configuration included in the C-MN configuration. The UE 102 may disconnect from the PCell 124 of the MN 104 in response to the initiation 334A or the determination 335A. The RACH procedure may be, for example, a two-step procedure or a four-step procedure, as well as a contention-based procedure or a contention-free procedure. UE 102 sends (338A) a conditional handover complete message to C-MN 106B via C-PCell 126B during or after performing (336A) the RACH procedure. After performing (336A) the RACH procedure or receiving the conditional handover complete message, C-MN 106B sends (340A) a handover success message to inform MN 104 of the UE 102 handover to C-MN 106B. Upon receiving the handover success message, the MN 104 can send an SN status transfer message (not shown in fig. 3A) to the C-MN 106B including uplink and/or downlink PDCP sequence numbers, forwarding PDCP SDUs, and/or releasing resources and configuration of the UE 102.
Depending on the implementation, MN 104 may include in the message sent at event 312A the condition that UE 102 evaluated at event 334A, or various portions (i.e., components or sub-conditions) of the condition. For example, the MN 104 can include the condition in the C-MN configuration, in a portion of the condition configuration other than the C-MN configuration, and/or in a portion of the RRC reconfiguration message other than the condition configuration.
After UE 102 successfully completes the RACH procedure, and/or after sending (338A) a conditional handover complete message, UE 102 may communicate (342A) with C-MN 106B via C-PCell 126B (now PCell 126B) in accordance with the first C-MN configuration. UE 102 may send (338A) a conditional handover complete message during or after the RACH procedure. For example, UE 102 may send (338A) a conditional handover complete message in message 3 of the four-step RACH procedure or in message a of the two-step RACH procedure. Events 334A, 335A, 336A, 338A, 340A, and 342A are collectively referred to herein as CHO execution process 390A.
After sending (338A) the conditional handover complete message, and possibly also after further communication (342A) with C-MN 106B (now MN 106B), UE 102 again sends (320A) the first UE information, now to MN 106B. In some embodiments, the UE 102 sends (320A) the first UE information to the MN 106B only if the UE 102 determines that the condition triggering the first transmission of the first UE information (316A) remains present or determines that the condition triggering the first transmission (316A) is still met (e.g., as described above for event 316A). If the situation has changed, or if the second condition is no longer met, the UE 102 does not send (320A) the first UE information to the MN 106B. If the prohibit timer is running, the UE 102 stops the prohibit timer to send (320A) the first UE information to the MN 106B. Thus, the prohibit timer, which is not run by the UE 102, prevents the first UE information from being sent (320A) to the MN 106B. Alternatively, if the prohibit timer is running, the UE 102 keeps the prohibit timer running and sends (320A) the first UE information to the MN 106B while the prohibit timer is running. In either alternative, the UE 102 starts or restarts the prohibit timer after sending (320A) the first UE information to the MN 106B. Alternatively, if the UE 102 maintains the prohibit timer, the UE 102 does not start or restart the prohibit timer after sending (320A) the first UE information to the MN 106B.
In some implementations, the C-MN configuration generated (308A) by C-MN 106B (and referred to in FIG. 3A as the "first" C-MN configuration) is a complete and self-contained configuration (i.e., a "complete" configuration). Within the C-MN configuration, C-MN 106B may include a full configuration indication (e.g., an IE or field) that indicates that the C-MN configuration is a complete and self-contained configuration. UE 102 may communicate with C-MN 104B directly using the C-MN configuration without reference to the first MN configuration previously used by UE 102. In other embodiments, the C-MN configuration may include one or more configurations (i.e., a "delta" configuration) that are above the first MN configuration. At event 342A, UE 102 may communicate with C-MN 106B using the incremental C-MN configuration and the first MN configuration.
The C-MN configuration may include a plurality of configuration parameters for the UE 102 to communicate with the C-MN 106B via the C-PCell 126B. These configuration parameters may configure radio resources for UE 102 to communicate with C-MN 106B via zero, one, or multiple candidate secondary cells (C-scells) of C-PCell 126B and C-MN 106B. The plurality of configuration parameters may configure zero, one, or multiple radio bearers, where the radio bearer(s) may include one or more SRBs and/or one or more DRBs. The SRB(s) may include SRB1 and/or SRB2.
The incremental C-MN configuration is not a complete configuration and does not include a complete configuration indication. UE 102 cannot communicate with C-MN 106B using only the delta C-MN configuration, but rather also refers to the first MN configuration stored at UE 102. The incremental C-MN configuration may include one or more configuration parameters for UE 102 to communicate with C-MN 106B via C-PCell 126B. These configuration parameters may configure radio resources for UE 102 to communicate with C-MN 106B via zero, one, or more C-scells of C-PCell 126B and C-MN 106B. The configuration parameters may configure zero, one or multiple radio bearers. The radio bearer(s) may include one or more SRBs and/or one or more DRBs. The configuration parameters may or may not include measurement configuration and/or security configuration.
The first MN configuration used by UE 102 to communicate with MN 104 (302A) (and possibly C-MN 106B if the first C-MN configuration is a delta configuration (342A)) may include a plurality of configuration parameters for UE 102 to communicate with MN 104 via PCell 124 and zero, one, or more secondary cells (scells) of MN 104. These configuration parameters may configure radio resources for UE 102 to communicate with MN 104 via PCell 124 and zero, one, or more scells of MN 104. The configuration parameters may configure zero, one or multiple radio bearers. The one or more radio bearers may include one or more SRBs and/or one or more DRBs. The SRB(s) may include SRB1 and/or SRB2.
If the first C-MN configuration is a full configuration, then MN 106B may optionally determine 322A to update the C-MN configuration (i.e., configure new configuration(s), modify existing configuration(s), and/or release existing configuration(s) in the C-MN configuration). In response to the determination (322A), the MN 106B generates a second MN configuration that updates the C-MN configuration from the first UE information, and sends (324A) an RRC reconfiguration message to the UE 102 that includes the second MN configuration.
If the first C-MN configuration is instead a delta configuration, then MN 106B may determine 322A to update the C-MN configuration and/or the first MN configuration (i.e., configure new configuration(s), modify existing configuration(s), and/or release existing configuration(s) in the C-MN configuration and/or the first MN configuration). In response to determining (322A), the MN 106B generates an updated C-MN configuration(s) and/or a second MN configuration of the first MN configuration from the first UE information and sends (324A) an RRC reconfiguration message including the second MN configuration to the UE 102.
In response to the RRC reconfiguration message, the UE 102 updates the first C-MN configuration and/or the first MN configuration using the second MN configuration and sends (326A) an RRC reconfiguration complete message to the MN 106B. Thus, the UE 102 communicates with the MN 106B in accordance with the updated first C-MN configuration and/or the updated first MN configuration. Events 322A, 324A, and 326A are collectively referred to herein as RRC reconfiguration procedure 392A.
The C-MN configuration may include a group configuration (CellGroupConfig) IE that configures C-PCell 126B, and zero, one, or more C-SCcells of C-MN 106B may be configured. In some embodiments, the C-MN is configured in a RRCRECONfigure message, RRCRECONfigure-IE, or CellGroupConfig IE, conforming to 3GPP Specification 38.331. In these embodiments, the conditional handoff completion message at event 338A may be an rrcrecon configuration complete message. In other embodiments, the C-MN configuration may include RadioResourceConfigDedicated IE and/or MobilityControlInfo IE to configure C-PCell 126B, and may or may not include SCellToAddModList IE to configure one or more C-SCcells of C-MN 106B. In other embodiments, the C-MN configuration may be an RRCConnection Reconfiguration message or RRCConnection Reconfiguration-IE compliant with 3GPP Specification 36.331. In these embodiments, the conditional handoff completion message may be an RRCConnectionReconfigurationComplete message.
In some embodiments, the first (or second) MN configuration may include CellGroupConfig IE to configure zero, one, or more scells for PCell124 (or 126B) and MN 104. In some embodiments, the first (or second) MN configuration is, or includes, a rrcreconditiona message, rrcreconditiona-IE or CellGroupConfig IE, or a configuration in rrcreconditiona-IE or CellGroupConfig IE, in accordance with 3GPP specification 38.331. In other embodiments, the first (or second) MN configuration may include RadioResourceConfigDedicated IE and/or MobilityControlInfo IE to configure the PCell124 (or 126B), and may or may not include SCellToAddModList IE to configure one or more scells of the MN 104. In other embodiments, the first (or second) MN configuration may include a configuration in a radioresource configdedicatedy and/or MobilityControlInfo IE.
If MN 104 is implemented as gNB, the RRC reconfiguration message for event 312A and the RRC reconfiguration complete message for event 314A may be RRCRECONFIG. message and RRCCONNECTONREFIG. Compacte message, respectively. If MN 104 is implemented as an eNB or a ng-eNB, the RRC reconfiguration message of event 312A and the RRC reconfiguration complete message of event 314A may be implemented as RRCRECONFIG. and RRCCONNECTONRECONFIG. complete messages, respectively.
If C-MN 106B is implemented as gNB, the RRC reconfiguration message for event 324A and the RRC reconfiguration complete message for event 326A may be an RRCRECONFIG. message and an RRCCONNECTONNECTONRECONFIG. complete message, respectively. If C-MN 106B is implemented as an eNB or a ng-eNB, RRC reconfiguration message 324A and RRC reconfiguration complete message 326 may be implemented as RRCRECONFIG. and RRCCONNECTONRECONFIG. Compacte messages, respectively.
Optionally, after the RRC reconfiguration procedure 392A, the UE 102 may send 328A further second UE information to the MN 106B at some later time. For example, the second UE information may include any of the various types of information discussed above with reference to the first UE information. In an alternative scenario, the UE 102 does not send (328A) the second UE information and/or the UE 102 and the MN 106B do not perform the RRC reconfiguration procedure (392A).
In some implementations, C-MN 106B includes CU 172 and one or more DUs 174, as shown in FIG. 1B. In these embodiments, CU 172 may receive a conditional handoff request message from MN 104 at event 306A and, in response, send a conditional handoff request acknowledgement message to MN 104 at event 310A. DU 174 may generate the first C-MN configuration or a portion of the first C-MN configuration (e.g., the C-DU configuration) and send the C-MN configuration or a portion of the C-MN configuration to CU 172. In embodiments and/or scenarios where DU 174 generates a portion of the C-MN configuration, CU 172 may generate the remainder of the C-MN configuration. In one embodiment, DU 174 may perform (336A) a RACH procedure with UE 102 and identify UE 102 in the RACH procedure. In response to the identification, DU 174 communicates with UE 102 using the C-MN configuration or a portion of the C-MN configuration. After identifying UE 102, DU 174 may send a DU-to-CU interface message (e.g., an access success message or a downlink data delivery message) to CU 172 indicating that UE 102 is connected to DU 174. In response to receiving the DU-to-CU interface message, CU 172 and DU 174 communicate with UE 102 using the remainder of the C-MN configuration and a portion of the C-MN configuration, respectively.
If C-MN 106B identifies UE 102 on C-PCell 126B at event 336A, C-MN 106B (now MN 106B) determines (1) that C-PCell 126B becomes PCell 126B and (2) that one or more C-SCells become SCells. MN 106B begins transmitting one or more Downlink Control Information (DCI) commands on one or more Physical Downlink Control Channels (PDCCHs) and one or more reference signals or data to UE 102 via PCell 126B and/or one or more C-scells (if configured in a C-MN configuration) in accordance with configuration parameters in the first C-MN configuration. Further, MN 106B receives one or more signals on one or more PUCCHs and one or more sounding reference signals or data from UE 102 via PCell 126B and/or one or more C-scells (if configured in a C-MN configuration) in accordance with configuration parameters in the first C-MN configuration. According to configuration parameters in the first C-MN configuration, UE 102 receives DCI command(s) and reference signal(s) or data on PDCCH(s) from MN 106B via PCell 126B and/or one or more C-scells (if configured in the C-MN configuration), and sends signal(s) and sounding reference signal(s) or data on PUCCH(s) to MN 106B via PCell 126B and one or more scells (if configured in the C-MN configuration).
In some scenarios and embodiments, the UE 102 performs an immediate handoff to the target MN (e.g., base station 106A, 106B) instead of CHO performing the procedure 390A. If the UE 102 performs an immediate handoff at the same time or immediately after the first UE information is sent at event 316A, the UE 102 may not be able to send the first UE information to the MN 104. In one scenario, the failure may be caused by the UE 102 interrupting transmission of the first UE information to perform the (random access procedure in) the immediate handover. In another scenario, the MN 104 may receive the first UE information after sending a handover request message to the target MN to prepare for an immediate handover. In one embodiment, if the UE 102 does not receive an acknowledgement (e.g., RLC acknowledgement) from the MN 104 of RLC PDU(s) including the first UE information before interrupting the transmission of the first UE information, the UE 102 may send the first UE information to the target MN after the immediate handover, similar to event 320A. In another embodiment, if the UE 102 sent the first UE information during the last X seconds(s) before performing the immediate handoff, receiving a handoff command message for the immediate handoff, performing a random access procedure in the immediate handoff, or transmitting a handoff completion message to the target MN, the UE 102 may send the first UE information to the target MN (if the trigger condition for sending the first UE information is still met), similar to event 320A. Otherwise, the UE 102 may not send the first UE information to the target MN after the immediate handover is completed. For example, X may be about 1 or 2. In another example, X is within a range (e.g., 0.9 to 2). In another example, X is a suitable integer, such as 1, 2, or 3. If the prohibit timer is running, the UE 102 stops the prohibit timer to send the first UE information to the target MN. Thus, the prohibit timer, which is not run by the UE 102, prevents the first UE information from being sent to the target MN. Alternatively, if the prohibit timer is running, the UE 102 keeps the prohibit timer running and sends the first UE information to the target MN while the prohibit timer is running. In either alternative, the UE 102 starts or restarts the prohibit timer after sending the first UE information to the target MN. Alternatively, if the UE 102 does not stop the prohibit timer, the UE 102 keeps the prohibit timer running. If the target MN is gNB, the handover command and handover complete message may be RRCRECONfigure and RRCRECONfigure complete messages, respectively. The rrcrecon configuration message may include a ReconfigurationWithSyncIE. If the target MN is an eNB or a ng-eNB, the handover command and handover complete message may be RRCConnection Reconfiguration and RRCConnection Reconfiguration complete messages, respectively. The rrcconnectionreconfigurability message may include MobilityControlInfo IE.
Referring now to fig. 3B, in scenario 300B, base station 104 again operates as a source base station (MN) and base station 106B operates as a candidate base station (C-MN) for conditional handoff. However, fig. 3B corresponds to a different embodiment from fig. 3A. In particular, while fig. 3A depicts an embodiment in which UE 102 resends the UE information (at event 320A) to ensure that C-MN 106B receives the UE information, fig. 3B depicts an alternative embodiment in which the source base station (MN 104) forwards the UE information to the candidate base station (C-MN 106B).
Initially, UE 102, MN 104, and C-MN 106B perform a Conditional Handoff (CHO) configuration process 388B, which may be similar to CHO configuration process 388A of fig. 3A. Later, but before the UE 102 determines that the condition associated with the conditional configuration has been met, the UE 102 sends (316B) first UE information to the MN 104. For example, the first UE information may be similar to any type of UE information discussed above, and the UE 102 may send (316B) the first UE information in response to a trigger (e.g., a detected condition or a determined condition is met) similar to any trigger discussed above in connection with fig. 3A. In some embodiments, UE 102 sends (316B) an RRC message including the first UE information, such as a ueassistance information message, an independency communication message, a sidinkueinformation message, or a sidinkueinformation nr message, as specified in 3GPP specifications 36.331 or 38.331, to MN 104.
After receiving the first UE information at event 316B, the MN 104 forwards/sends 318B the first UE information to the C-MN 106B in a base-to-base (BS-to-BS) interface message (e.g., an X2 or Xn interface between the base stations 104, 106B shown in fig. 1A). At some time after the UE 102 sends (316B) the first UE information (e.g., after any arbitrary amount of time), when the conditions associated with the CHO procedure are met (and before or after event 318B depending on the implementation and/or scenario), the UE 102, MN 104, and C-MN 106B perform a CHO execution procedure 390B, which may be similar to CHO execution procedure 390A of fig. 3A.
In some embodiments, MN 104 sends (318B) the first UE information to C-MN 106B in response to receiving the first UE information at event 316B (e.g., immediately after receiving the first UE information at event 316B). In other embodiments, the MN 104 sends 318B the first UE information to the C-MN 106B at a later time, such as during CHO execution (390B). In some of these latter embodiments, for example, MN 104 transmits (318B) the first UE information to C-MN 106B in response to receiving a handover success message from C-MN 106B (e.g., in an event similar to event 340A of fig. 3A). In this way, the MN 104 sends (318B) the first UE information only after the MN 104 confirms that a conditional handover has been performed, and thus avoids wasting resources by forwarding the UE information in scenarios where a conditional handover never occurs (e.g., due to the condition not being met, or the MN 104 causing the UE 102 to release a conditional configuration, etc.). Nevertheless, the MN 104 may send 318B the first UE information before waiting for a handover success message (or any other acknowledgement of handover completion), e.g., to allow the C-MN 106B to attempt to modify the conditional configuration, e.g., in an RRC reconfiguration procedure 392B or for other reasons.
After CHO performs the procedure (390B), C-MN 106B (now MN 106B) and UE 102 may perform an RRC reconfiguration procedure 392B, which may be similar to the RRC reconfiguration procedure (392A) of fig. 3A. In addition, the UE 102 may send 328B other second UE information to the MN 106B at some later time. The second UE information may include any of the various types of UE information discussed above and may be transmitted by the UE 102 in response to any of the various types of triggers discussed above. In an alternative scenario, the UE 102 does not send (328B) the second UE information and/or the UE 102 and the MN 106B do not perform the RRC reconfiguration procedure (392B).
In some implementations, C-MN 106B includes CU 172 and one or more DUs 174, as shown in FIG. 1B. In these embodiments, CU 172 and DU 174 may perform various operations for scenario 300B as described above with reference to scenario 300A of FIG. 3A.
If UE 102 performs CHO execution 390B simultaneously with or immediately after the transmission of the first UE information, UE 102 may not be able to transmit the first UE information to MN 104. Failure may be caused by UE 102 interrupting transmission of the first UE information to perform CHO execution procedure 390B (random access procedure in). In one embodiment, if UE 102 has not received an acknowledgement (e.g., RLC acknowledgement) from MN 104 for RLC PDU(s) including the first UE information before interrupting the transmission of the first UE information, UE 102 may resend the first UE information to MN 106B after CHO performs procedure (390B), similar to event 320A. In another embodiment, if UE 102 transmits the first UE information during the last X seconds(s) prior to the CHO execution procedure (390B), the execution of the first C-MN configuration, the execution of the random access procedure in CHO execution procedure (390B), or the transmission of the conditional handover complete message, UE 102 may transmit the first UE information to MN 106B (if the trigger condition for transmitting the first UE information is still met), similar to event 320A. Otherwise, UE 102 may not send the first UE information to MN 106B after CHO execution (390B) is completed. For example, X may be about 1 or 2. In another example, X is within a range (e.g., 0.9 to 2). In another example, X is a suitable integer, such as 1, 2, or 3. In yet another embodiment, if the UE 102 is triggered to perform CHO execution (390B) while transmitting the first UE information, the UE 102 performs CHO execution (390B) after successfully transmitting the first UE information.
Referring now to fig. 3C, in scenario 300C, base station 104 again operates as a source base station (MN) and base station 106B operates as a candidate base station (C-MN) for conditional handoff. However, in the embodiment of fig. 3C, MN 104 ensures that C-MN 106B receives UE information not only by forwarding the UE information, but also by sending a new conditional handoff request message to C-MN 106B that includes the UE information.
Initially, UE 102, MN 104, and C-MN 106B perform a CHO configuration procedure (388C), which may be similar to the CHO configuration procedure of fig. 3A (388A). Later, but before the UE 102 determines that the condition associated with the conditional configuration has been met, the UE 102 sends (316C) the first UE information to the MN 104. For example, the first UE information may be similar to the first UE information described above with reference to fig. 3A, and the UE 102 may transmit (316C) the first UE information in response to a trigger similar to any of the triggers discussed above in connection with fig. 3A (e.g., a detected condition or a determined condition is met). In some embodiments, UE 102 sends (316C) an RRC message including the first UE information, such as a ueassistance information message, an independency communication message, a sidinkueinformation message, or a sidinkueinformation nr message, as specified in 3GPP specifications 36.331 or 38.331, to MN 104.
In response to receiving the first UE information at event 316C, MN 104 determines (344C) to update the C-MN configuration (e.g., generate a C-MN configuration similar to the C-MN configuration generated at event 308A of fig. 3A). In response to determining (344C), the MN 104 triggers a release by sending (346C) first UE information to the C-MN 106B in a conditional handover request message.
In response to receiving the conditional handover request message containing the first UE information, C-MN 106B generates (348C) a new second C-MN configuration for the C-PCell (e.g., cell 126B) of C-MN 106B. C-MN 106B can generate (348C) a second C-MN configuration such that the updated configuration is in accordance with the first UE information (e.g., in accordance with the UE preferred configuration indicated in the first UE information).
In an alternative embodiment, the conditional handover request message of event 346C does not include the first UE information. In these embodiments, MN 104 may instead determine (e.g., within event 344C) one or more configuration restrictions based on the first UE information. For example, the configuration constraint(s) may include a maximum resource allocation, such as a maximum number of scells, a maximum number of MIMO layers, a maximum aggregate bandwidth, and so on. Other configuration constraints are also possible (e.g., minimum scheduling offset, disallowed modes, etc.). MN 104 can then generate information indicative of the configuration limit(s) and include this information in the conditional handoff request message of event 346C. C-MN 106B can then generate a second C-MN configuration based on the indicated configuration limit(s) at event 348C.
After event 348C, C-MN 106B sends (350C) the second C-MN configuration to MN 104 in a conditional handoff request acknowledgement message. The MN 104 then includes the second C-MN configuration in the conditional configuration and sends (352C) an RRC reconfiguration message including the conditional configuration to the UE 102. The UE 102 may then send (354A) an RRC reconfiguration complete message to the MN 104 in response to the RRC reconfiguration message. In some embodiments, the UE 102 replaces the first C-MN configuration with the second C-MN configuration. In other embodiments, the UE 102 replaces the conditional configuration including the C-MN configuration with the conditional configuration received at event 352C.
In some embodiments, the conditional handover request message at event 346C may be a handover request message as defined in 3gpp TS 36.423 or TS 38.423, and MN 104 may include a conditional handover request indication in the handover request message. In some embodiments, the MN 104 may include in the handover request message the MN configuration that the UE 102 uses to communicate with the MN 104. In other embodiments, MN 104 does not include the MN configuration in the handoff request message.
Sometime after UE 102 sends (354C) the RRC reconfiguration complete message (e.g., after any arbitrary amount of time), when the conditions associated with the CHO procedure are met, UE 102, MN 104 and C-MN 106B perform CHO execution procedure 390C, which may be similar to CHO execution procedure 390A of fig. 3A. After CHO performs procedure 390C, C-MN 106B (now MN 106B), UE 102 may send 328C other second UE information to MN 106B at some later time. The second UE information may include any of the various types of UE information discussed above and may be transmitted by the UE 102 in response to any of the various types of triggers discussed above. The UE 102 may perform an RRC reconfiguration procedure 392C according to the second UE information, which may be similar to the RRC reconfiguration procedure 392A of fig. 3A. In an alternative scenario, the UE 102 does not send (328C) the second UE information and/or the UE 102 and the MN 106B do not perform the RRC reconfiguration procedure 392C.
In some implementations, C-MN 106B includes CU 172 and one or more DUs 174, as shown in FIG. 1B. In these embodiments, CU 172 and DU 174 may perform various operations for scenario 300C as described above with reference to scenario 300A of FIG. 3A.
Referring now to fig. 3D, in scenario 300D, base station 104 again operates as a source base station (MN) and base station 106B operates as a candidate base station (C-MN) for conditional handoff. However, in the embodiment of fig. 3D, neither the MN 104 nor the UE 102 (necessarily) ensures that the C-MN 106B receives the first UE information. Instead, MN 104 cancels the CHO procedure and MN 104 itself (optionally) reconfigures UE 102 according to the UE information.
Initially, UE 102, MN 104, and C-MN 106B perform CHO configuration process 388D, which may be similar to CHO configuration process 388A of fig. 3A. Later, but before the UE 102 determines that the condition associated with the conditional configuration has been met, the UE 102 sends (316D) first UE information to the MN 104. For example, the first UE information may be similar to the first UE information described above with reference to fig. 3A, and the UE 102 may transmit (316D) the first UE information in response to a trigger similar to any of the triggers discussed above in connection with fig. 3A (e.g., detecting a condition or determining that a condition is met). In some embodiments, UE 102 sends (316D) to MN 104 an RRC message including the first UE information, such as a ueassistance information message, an indeviceconfection message, a sidinkueinformation message, or a sidinkueinformation nr message as specified in 3GPP specifications 36.331 or 38.331.
In response to receiving the first UE information at event 316D, MN 104 determines 356D to release the first C-MN configuration (e.g., a C-MN configuration similar to the C-MN configuration generated at event 308A of fig. 3A). Additionally or equivalently, MN 104 can determine 356D to cancel the conditional handoff procedure. In response to the determination (356D), the MN 104 sends (358D) an RRC reconfiguration message to the UE 102, the RRC reconfiguration message (e.g., in an IE or field) indicating that the UE 102 is to release the first C-MN configuration (or, more generally, a conditional configuration including the first C-MN configuration).
In response to the indication in the RRC reconfiguration message, UE 102 releases the first C-MN configuration (e.g., releases the conditional configuration that includes the first C-MN configuration). After releasing the configuration (e.g., in response to releasing the configuration), or in response to receiving the RRC reconfiguration message, UE 102 sends (360D) an RRC reconfiguration complete message to MN 104.
Also in response to determining (356D), MN 104 sends (362D) a handoff cancel message to C-MN 106B, which causes C-MN 106B to release (380D) the first C-MN configuration. For example, event 362D may occur before event 358D, after event 360D, or between events 358D and 360D.
In some scenarios, MN 104 and UE 102 then perform RRC reconfiguration procedure 393D. The RRC reconfiguration procedure 393D may be similar to the RRC reconfiguration procedure 392A, but occurs between the UE 102 and the MN 104 instead of between the UE 102 and the C-MN 106B. In the RRC reconfiguration procedure 393D, the MN 104 may determine to update the MN configuration according to the first UE information (e.g., similar to determination 322A of fig. 3A, but update the MN 104 configuration instead of the MN 106B configuration).
The UE 102 may then send (329D) other second UE information to the MN 104 at some later time. The second UE information may include any of the various types of UE information discussed above and may be transmitted by the UE 102 in response to any of the various types of triggers discussed above. In an alternative scenario, the UE 102 does not send (329D) the second UE information and/or the UE 102 and the MN 104 do not perform the RRC reconfiguration procedure 393D.
Fig. 4A-4D depict additional conditional switching scenarios. However, unlike fig. 3A-3D, fig. 4A-4D depict a scenario where the serving base station (MN 104) is a distributed base station having a CU 172 and at least two DUs 174 and prepares for a conditional handoff from a source DU (S-DU) 174A to a candidate DU (C-DU) 174B.
Referring first to fig. 4A, in a context 400A, a UE 102 initially communicates with a MN 104 according to a first MN configuration (402A). For example, UE 102 may be in SC with MN 104 or in DC with MN 104 and SN 106A. CU 172 then determines (404A) to configure UE 102 with the conditional configuration. CU 172 may make the determination based on one or more measurements received directly from UE 102 (e.g., via an SRB established between UE 102 and S-DU 174A or via a physical control channel), based on one or more measurements obtained by CU 172 from measurements of signals received from UE 102 over a data or control channel, or based on some other suitable event (404A). In response to determining (404A), CU 172 sends (406A) a UE context request message to C-DU 174B.
In response to the UE context request message, C-DU 174B generates (408A) a first C-DU configuration for the C-PCell associated with C-DU 174B (e.g., cell 124, or another cell of MN 104 if cell 124 is associated with S-DU 174A). C-DU 174B then sends 410A UE context response message including the first C-DU configuration to CU 172. The UE context request message of event 406A and the UE context response message of event 410A may be a UE context setup request and a UE context setup response message, respectively. Alternatively, the UE context request and UE context response messages may be a UE context modification request and UE context modification response message, respectively.
CU 172 then generates (411A) a first C-MN configuration comprising the first C-DU configuration. The first C-MN configuration may be a "full" configuration or an "incremental" configuration, as discussed above with reference to fig. 3A, and the configuration parameters may be similar to those discussed above with reference to fig. 3A. CU 172 then includes the first C-MN configuration in the conditional configuration and sends (412A-1) an RRC reconfiguration message including the conditional configuration to S-DU 174A. The S-DU 174A then sends 412A-2 an RRC reconfiguration including a conditional configuration to the UE 102. UE 102 responds by sending (414A-1) an RRC reconfiguration complete message to S-DU 174A and, in response, S-DU 174A sends (414A-2) an RRC reconfiguration complete message to CU 172. Events 402A, 404A, 406A, 408A, 410A, 411A, 412A-1, 412A-2, 414A-1, and 414A-2 are collectively referred to herein as CHO configuration process 488A.
Later, but before the UE 102 determines that the conditions associated with the conditional configuration have been met, the UE 102 sends (416A-1) first UE information to the S-DU 174A. For example, the first UE information may be similar to the first UE information described above with reference to fig. 3A, and the UE 102 may transmit (416A-1) the first UE information in response to a trigger similar to any of the triggers discussed above in connection with fig. 3A (e.g., a detected condition or a determined condition is met). In some embodiments, UE 102 sends (416A-1) an RRC message including the first UE information, such as a ueassanceinformation message, an indeviceCoexification message, a sidinkueinformation message, or a sidinkueInformationNR message, as specified in 3GPP Specification 36.331 or 38.331, to S-DU 174A. After receiving the first UE information (e.g., in response to receiving the first UE information), S-DU 174A transmits (416A-2) the first UE information to CU 172.
Sometime after transmitting (416A-1) the first UE information (e.g., after any arbitrary amount of time), UE 102 may determine (434A) that a condition for a C-PCell (e.g., cell 124) connected to C-DU 174B is satisfied and initiate (435A) a RACH procedure on the C-PCell in response. In response to initiating 435a, ue 102 may perform (436A) a RACH procedure with C-DU 174b via the C-PCell and C-DU 174b, e.g., using a random access configuration included in the first C-DU configuration. UE 102 may disconnect from the PCell of S-DU 174A in response to initiation 434A or determination 435A. The RACH procedure may be, for example, a two-step procedure or a four-step procedure, as well as a contention-based procedure or a contention-free procedure. UE 102 sends (438A-1) a conditional handover complete message to C-DU 174B via the C-PCell during or after performing (436A) the RACH procedure. After performing (436A) the RACH procedure or receiving the conditional handover complete message (e.g., in response to performing (436A) the RACH procedure or receiving the conditional handover complete message), C-DU 174B sends (438A-2) the conditional handover complete message to CU 172 to inform CU 172 of the UE 102's handover to C-DU 174B.
Depending on the implementation, CU 172 may include the condition that UE 102 evaluates at event 434A, or various portions (i.e., components or sub-conditions) of the condition, in the message sent at event 412A-2. For example, CU 172 may include the condition in the first C-MN configuration, in a portion of the conditional configuration other than the first C-MN configuration, and/or in a portion of the RRC reconfiguration message other than the conditional configuration.
After the UE 102 successfully completes the RACH procedure, and/or after sending (438A-1) a conditional handover complete message, the UE 102 may communicate (442A) with the C-DU 174B via the C-PCell (now PCell) in accordance with the first C-DU configuration. The UE 102 may send (438A-1) a conditional handover complete message during or after the RACH procedure. For example, the UE 102 may send (438A-1) the conditional handover complete message in message 3 of the four-step RACH procedure or in message a of the two-step RACH procedure. Events 434A, 435A, 436A, 438A-1, 438A-2, and 442A are collectively referred to herein as CHO executions 490A.
After sending (438A-1) the conditional handover complete message, and possibly also after further communication 442A with C-DU 174B (now DU 174B), UE 102 again sends (420A-1) the first UE information, now to DU 174B. DU 174B then forwards/transmits (420A-2) the first UE information to CU 172. In some embodiments, the UE 102 sends (420A-1) the first UE information to the DU 174B only if the UE 102 determines that the condition that triggered the first transmission of the first UE information (416A-1) remains present or determines that the condition that triggered the first transmission (416A-1) remains satisfied (e.g., as described above for event 316A in fig. 3A). If the situation has changed, or if the second condition is no longer met, UE 102 does not send (420A-1) the first UE information to DU 174B.
CU 172 may optionally determine (422A) to update the C-MN configuration and/or the C-DU configuration (i.e., configure new configuration(s), modify existing configuration(s), and/or release existing configuration(s) in the C-MN configuration). In response to the determination 428 a, the cu 172 sends 456A UE context modification request message to the DU 174B including the first UE information. In response, DU 174B may determine (457A) to update the first C-DU configuration according to the first UE information (e.g., to align with a preferred configuration of the UE as indicated in the first UE information). C-DU 174B may then send 458A the updated second DU configuration (full or incremental) to CU 172 in a UE context modification response message.
CU 172 then sends (424A-1) an RRC reconfiguration message to DU 174B including the second DU configuration. If CU 172 has determined (at event 422A) that other portions of the MN configuration are also updated, CU 172 may also include these new configurations in the RRC reconfiguration message. DU 174B then sends 424A-2 an RRC reconfiguration message including the second DU configuration to UE 102. Although not shown in fig. 4A, in response to the RRC reconfiguration message received at event 424A-2, UE 102 updates or replaces the first C-DU configuration (and possibly other portions of the first MN configuration) with the second DU configuration. Thus, UE 102 communicates with DU 174B in accordance with the new/updated DU configuration and possibly with CU 172 (indirectly) in accordance with the new/updated MN configuration. Events 422A, 456A, 457A, 458A, 424A-1, 424A-2, 426A-1, and 426A-2 are collectively referred to herein as RRC reconfiguration procedures 492A.
The various RRC reconfiguration messages of fig. 4A may take various forms depending on whether MN 104 is implemented as a gNB, eNB, or ng-eNB, as discussed above with reference to fig. 3A.
Optionally, after the RRC reconfiguration procedure 492A, the UE 102 may send (428A) other second UE information to the DU 174B at some later time. For example, the second UE information may include any of the various types of information discussed above with reference to the first UE information. In an alternative scenario, UE 102 does not send 428A the second UE information and/or UE 102, DU 174B, and CU 172 do not perform RRC reconfiguration procedure 492A.
If C-DU 174B identifies a UE 102 on a C-PCell (e.g., cell 124) at event 436A, C-DU 174B (now DU 174B) determines (1) that the C-PCell becomes a PCell and (2) that any C-SCell becomes an SCell. DU 174B begins to transmit one or more DCI commands on one or more PDCCHs and one or more reference signals or data to UE 102 via the PCell and/or one or more scells (if configured in a C-MN configuration) according to configuration parameters in the first C-MN configuration. Further, DU 174B receives one or more signals on one or more PUCCHs and one or more sounding reference signals or data from UE 102 via the PCell and/or one or more scells (if configured in the C-MN configuration) according to configuration parameters in the first C-MN configuration. UE 102 receives DCI command(s) and reference signal(s) or data on PDCCH(s) from DU 174B via PCell and/or one or more scells (if configured in a C-MN configuration) and sends signal(s) and sounding reference signal(s) or data on PUCCH(s) to DU 174B via PCell and one or more C-scells (if configured in a C-MN configuration) according to configuration parameters in the first C-MN configuration.
Referring now to fig. 4B, in scenario 400B, base station 104 again operates as a distributed serving base station (MN 104) having CU 172 and at least two DUs 174, and prepares a conditional handoff from source DU (S-DU) 174A to candidate DU (C-DU) 174B. However, in the embodiment of fig. 4B, CU 172 ensures that C-DU 174B receives UE information by storing/maintaining the UE information throughout CHO execution and then forwarding the UE information to C-DU 174B (when operating as DU 174B) in a UE context modification request message.
Initially, UE 102, CU 172, S-DU 174A, and C-DU 174B perform CHO configuration procedure 488B, which may be similar to CHO configuration procedure 488A of fig. 4A. Later, but before the UE 102 determines that the conditions associated with the conditional configuration have been met, the UE 102 sends (416B-1) first UE information to the S-DU 174A. For example, the first UE information may be similar to the first UE information described above with reference to fig. 3A, and the UE 102 may transmit (416B-1) the first UE information in response to a trigger similar to any of the triggers discussed above in connection with fig. 3A (e.g., a detected condition or a determined condition is met). In some embodiments, UE 102 sends (416B-1) an RRC message including the first UE information, such as a ueassanceinformation message, an indeviceCoexification message, a sidinkueinformation message, or a sidinkueInformationNR message, as specified in 3GPP Specification 36.331 or 38.331, to S-DU 174A. After receiving the first UE information (e.g., in response to receiving the first UE information), S-DU 174A forwards/transmits (416B-2) the first UE information to CU 172.
At some time after the first UE information is sent (416B-1) (e.g., after any arbitrary amount of time), when the conditions associated with the CHO procedure are met, UE 102, CU 172, S-DU 174A, and C-DU 174B perform CHO execution procedure 490B, which may be similar to CHO execution procedure 490A of fig. 4A, for example. After CHO performs procedure 490B, C-DU 174B (now DU 174B), CU 172, and UE 102 may perform an RRC reconfiguration procedure 492B, which may be similar to RRC reconfiguration procedure 492A of fig. 4A. As discussed above with respect to various events of fig. 4A and RRC reconfiguration procedure 492A, this may result in UE 102 being reconfigured into a new DU configuration (or more generally, a new MN configuration), which may be better aligned with the preferences and/or conditions indicated in the first UE information.
UE 102 may send (428B-1) other second UE information to DU 174B at some later time, and then DU 174B forwards/sends (428B-2) it to CU 172. The second UE information may include any of the various types of UE information discussed above and may be transmitted by the UE 102 in response to any of the various types of triggers discussed above. In an alternate scenario, events 428B-1 and 428B-2 do not occur.
Referring now to fig. 4C, in scenario 400C, base station 104 again operates as a distributed serving base station (MN 104) having CU 172 and at least two DUs 174, and prepares a conditional handoff from source DU (S-DU) 174A to candidate DU (C-DU) 174B. However, in the embodiment of fig. 4C, CU 172 ensures that C-DU 174B receives UE information not only by forwarding the UE information, but also by sending a UE context request (e.g., a UE context setup request or a UE context modification request) message to C-DU 174B that includes the UE information.
Initially, UE 102, CU 172, S-DU 174A, and C-DU 174B perform CHO configuration procedure 488C, which may be similar to CHO configuration procedure 488A of fig. 4A. Later, but before the UE 102 determines that the conditions associated with the conditional configuration have been met, the UE 102 sends (416C-1) first UE information to the S-DU 174A. For example, the first UE information may be similar to the first UE information described above with reference to fig. 3A, and the UE 102 may transmit (416C-1) the first UE information in response to a trigger similar to any of the triggers discussed above in connection with fig. 3A (e.g., a detected condition or a determined condition is met). In some embodiments, UE 102 sends (416C-1) an RRC message including the first UE information, such as a ueassanceinformation message, an indeviceCoexification message, a sidinkueinformation message, or a sidinkueInformationNR message, as specified in 3GPP Specification 36.331 or 38.331, to S-DU 174A. After receiving the first UE information (e.g., in response to receiving the first UE information), S-DU 174A forwards/transmits (416C-2) the first UE information to CU 172.
In response to receiving the first UE information at event 416C-2, CU 172 determines (444C) to update the conditional configuration that S-DU 174A has provided to UE 102 during CHO configuration process 488C. In response to determining 444C, cu 172 triggers the update by sending (446C) first UE information to C-DU 174B in a UE context request message.
In response to receiving the UE context request message containing the first UE information, C-DU 174B generates 448C a new second C-DU configuration for the C-PCell (e.g., cell 126B) of C-DU 174B. C-DU 174B may generate 448C a second C-DU configuration such that the updated configuration is according to the first UE information (e.g., according to the UE preferred configuration indicated in the first UE information) and then send 448C the second C-DU configuration to CU 172 in a UE context response message. The UE context request message of event 446C and the UE context response message of event 448C may be a UE context setup request and a UE context setup response message, respectively. Alternatively, the UE context request and UE context response messages may be a UE context modification request and UE context modification response message, respectively.
Thereafter, CU 172 generates (450C) a second C-MN configuration including the second C-DU configuration. The second C-MN configuration may be a "full" configuration or an "incremental" configuration, as discussed above with reference to fig. 3A, and the configuration parameters may be similar to those discussed above with reference to fig. 3A. CU 172 then includes the first C-MN configuration in the conditional configuration and sends (452C-1) an RRC reconfiguration message including the conditional configuration to S-DU 174A. The S-DU 174A then sends 452C-2 an RRC reconfiguration including the conditional configuration to the UE 102. The UE 102 responds by sending (454C-1) an RRC reconfiguration complete message to the S-DU 174A, and in response, the S-DU 174A sends (454C-2) an RRC reconfiguration complete message to the CU 172.
In an alternative embodiment, the UE context request message of event 446C does not include the first UE information. In these embodiments, CU 172 may instead determine (e.g., within event 444C) one or more configuration restrictions based on the first UE information. For example, the configuration constraint(s) may include a maximum resource allocation, such as a maximum number of scells, a maximum number of MIMO layers, a maximum aggregate bandwidth, and so on. Other configuration constraints are also possible (e.g., minimum scheduling offset, disallowed modes, etc.). CU 172 can then generate information indicating the configuration limit(s) and include the information in the UE context request message of event 446C. C-DU 174B may then generate a second C-DU configuration based on the indicated configuration limit(s) at event 447C.
At some time after event 454C-2 (e.g., after any arbitrary amount of time), when the conditions associated with the CHO procedure are met, UE 102, CU 172, S-DU 174A, and C-DU 174B execute CHO execution procedure 490C, which may be similar to CHO execution procedure 490A of fig. 4A, for example. After CHO performs process 490C, UE 102 may also send 428D-1 other second UE information to DU 174B at some later time, which DU 174B then forwards/sends 428D-2 to CU 172. The second UE information may include any of the various types of UE information discussed above and may be transmitted by the UE 102 in response to any of the various types of triggers discussed above. UE 102 may perform an RRC reconfiguration procedure (492C) according to the second UE information, which may be similar to RRC reconfiguration procedure 492A of fig. 4A. In an alternative scenario, events 428C-1 and 428C-2 and/or RRC reconfiguration procedure 492C do not occur.
Referring now to fig. 4D, in scenario 400D, base station 104 again operates as a distributed serving base station (MN 104) having CU 172 and at least two DUs 174, and prepares a conditional handoff from source DU (S-DU) 174A to candidate DU (C-DU) 174B. However, in the embodiment of fig. 4D, neither CU 172 nor UE 102 (necessarily) ensures that C-DU 174B receives the first UE information. Instead, CU 172 cancels CHO procedure and (optionally) causes UE 102 to be reconfigured according to the first UE information.
Initially, UE 102, CU 172, S-DU 174A, and C-DU 174B perform CHO configuration procedure 488D, which may be similar to CHO configuration procedure 488A of fig. 4A. Later, but before the UE 102 determines that the condition associated with the conditional configuration has been met, the UE 102 sends (416D-1) first UE information to the S-DU 174A. For example, the first UE information may be similar to the first UE information described above with reference to fig. 3A, and the UE 102 may transmit (416D-1) the first UE information in response to a trigger similar to any of the triggers discussed above in connection with fig. 3A (e.g., a detected condition or a determined condition is met). In some embodiments, UE 102 sends (416D-1) an RRC message including the first UE information, such as a ueassanceinformation message, an indeviceCoexification message, a sidinkueinformation message, or a sidinkueInformationNR message, as specified in 3GPP Specification 36.331 or 38.331, to S-DU 174A. After receiving the first UE information (e.g., in response to receiving the first UE information), S-DU 174A forwards/transmits (416D-2) the first UE information to CU 172.
In response to receiving the first UE information at event 416D-2, CU 172 determines 456D to release the conditional configuration that S-DU 174A has been provided to UE 102 during CHO configuration process 488D. In response to determining 458D, cu 172 triggers release by sending (458D-1) an RRC reconfiguration message to S-DU 174A that includes information (e.g., an IE or field) indicating that UE 102 is to release the conditional configuration. The S-DU 174A then sends 458D-2 an RRC reconfiguration message to the UE 102 that includes information (e.g., an IE or field) indicating that the UE 102 is to release the conditional configuration. In response to event 458D-2, ue 102 releases the conditional configuration and sends 460D-1 an RRC reconfiguration complete message to S-DU 174A. S-DU 174A then sends 460D-2 an RRC reconfiguration complete message to CU 172.
Thereafter, in some embodiments and/or scenarios, CU 172 sends (462D) a UE context release command message to C-DU 174B. In response, C-DU 174B releases (464D) the C-DU configuration and sends (466D) a UE context release complete message to CU 172. CU 172 may then determine (468D) to update or trigger an update of the DU and/or MN configuration according to the first UE information. In response to the determination 4638D, cu 172 may send (470D) a UE context modification request message to S-DU 174A including the first UE information. In response, S-DU 174A may generate (472D) a new second C-DU configuration from the first UE information (e.g., from the UE preferred configuration indicated in the first UE information) and send (474D) a UE context modification response message including the second DU configuration to CU 172.
CU 172 may then send 476D-1 an RRC reconfiguration message including the second DU configuration to S-DU 174A, after which S-DU 174A may send 476D-2 an RRC reconfiguration message including the second DU configuration to UE 102. In response to event 476D-2, ue 102 communicates with S-DU 174A using the second DU configuration and sends 478D-1 an RRC reconfiguration complete message to S-DU 174A. S-DU 174A then sends 478D-2 an RRC reconfiguration complete message to CU 172.
UE 102 may then send 428D-1 other second UE information to MN 104 at some later time and S-DU 174A may forward 428D-2 the second UE information to CU 172. The second UE information may include any of the various types of UE information discussed above and may be transmitted by the UE 102 in response to any of the various types of triggers discussed above. In an alternate scenario, events 428D-1 and 428D-2 do not occur.
Fig. 3A to 3D and 4A to 4D depict conditional switching scenarios, while fig. 5A to 5H depict conditional SN addition or change (CSAC) scenarios. Referring first to fig. 5A, in scenario 500A, base station 104 operates as a MN, base station 106B operates as a SN, and base station 106A operates as a C-SN.
Initially, in some scenarios, UE 102 operates in SC with MN 104 (502A) and exchanges UL data PDUs and/or DL data PDUs with MN 104 via the PCell (e.g., cell 124). However, in scenario 500A depicted in fig. 5A, UE 102 initially operates in DC with MN 104 and SN 106B (502A) and exchanges UL data PDUs and/or DL data PDUs with SN 106B via PSCell (e.g., cell 126B) according to the first SN configuration.
The MN 104 determines (504A) at some point to configure the base station 106A as a C-SN for the purpose of the CSAC procedure to allow the UE 102 to begin using the SN 106A instead of the SN 106B when the UE 102 detects that the corresponding condition is met. For example, MN 104 may make the determination based on one or more measurements received from UE 102 or in response to receiving a message indicating that a conditional SN change is required (e.g., an SN change demand message) (504A). In response to determining 504a, the mn 104 can send 506A SN request message to the C-SN 106A to initiate CSAC. In some implementations, the MN 104 can indicate to the base station 106A in an SN request message that the base station 106A is requested to be the C-SN of the UE 102. In response to the SN request message, the C-SN 106A can generate (508A) a C-SN configuration for the C-PScell (e.g., cell 126A) for the CSAC.
In response to the SN request message, C-SN 106A can send (510A) an SN request acknowledgement message to MN 104 that includes the C-SN configuration. The C-SN configuration may configure a C-PSCell and may also configure zero, one, or multiple C-scells. MN 104 may then include the C-SN configuration in the conditional configuration and send (512A) an RRC container message including the conditional configuration to UE 102. In some embodiments, the UE 102 sends (514A) an RRC container response message to the MN 104 in response to the RRC container message. In some embodiments, the MN 104 sends an SN reconfiguration complete message (not shown in fig. 5A) to the C-SN 106A in response to receiving (514A) the RRC container response message. In other embodiments, and as shown in FIG. 5A, the MN 104 does not send an SN reconfiguration complete message to the C-SN 106A. Events 502A, 504A, 506A, 508A, 510A, 512A, and 514A are collectively referred to as CSAC configuration process 588A.
In some implementations, the SN request message at event 506A is an SN addition request and the SN request acknowledgement message is an SN addition request acknowledgement message. In other embodiments, the SN request message is an SN modification request and the SN request acknowledgement message is an SN modification request acknowledgement message.
In some embodiments, the MN 104 includes the C-SN configuration in an RRC reconfiguration message, the RRC reconfiguration message in a conditional configuration, and the conditional configuration in an RRC container message that the MN 104 sends 512A to the UE 102. The RRC reconfiguration message may be an rrcrecon configuration message if the MN 104 is implemented as a gNB. The RRC reconfiguration message may be an RRCConnectionReconfiguration message if the MN 104 is instead implemented as an eNB or ng-eNB.
Later, but before the UE 102 determines that the condition associated with the conditional configuration has been met, the UE 102 sends (516A) first UE information for the SN to the MN 104. For example, the first UE information may be similar to any of the types of UE information discussed above, and the UE 102 may transmit (516A) the first UE information in response to a trigger similar to any of the triggers discussed above in connection with fig. 3A (e.g., detecting a condition or determining that a condition is met). In some embodiments, UE 102 sends (516A) an RRC message including the first UE information, such as a ueassistance information message, an independency co-indication message, a sidinkueinformation message, or a sidinkueinformation nr message, as specified in 3GPP specifications 36.331 or 38.331, to MN 104. In some embodiments, the UE 102 may send (516A) an uplink RRC container message to the MN 104 that includes the RRC message. In some implementations, the UE 102 may start a prohibit timer (e.g., t346A, t346b, t346c, t346d, t346e, t346 f) in response to or after transmitting (516A) the first UE information, similar to the description for event 316A.
In a scenario where the UE 102 is in DC with the MN 104 and SN 106B, the MN 104 forwards/sends 518A first UE information to the SN 106B. In some embodiments, the MN 104 sends 518A RRC transfer (RRC transfer) message including the first UE information to the SN 106B. In other embodiments, the MN 104 sends (518A) an SN modification request message to the SN 106B that includes the first UE information.
After transmitting (516A) the first UE information, UE 102 determines (534A) (e.g., after any arbitrary amount of time) that a condition for connecting to C-PSCell 126A is satisfied, and initiates (535A) a RACH procedure on C-PSCell 126A in response to the detection. In response to initiating 535a, ue 102 performs (536A) a RACH procedure with C-SN 106A via C-PSCell 126A using a random access configuration of the C-SN configurations. The UE 102 (if the UE 102 is in DC) may also disconnect from the SN 106B (i.e., the PSCell and all SCell(s) (if configured) of the SN 106B) in response to initiating 535A or determining 534A. The random access procedure may be, for example, a four-step procedure or a two-step procedure, and may be contention-based or contention-free. After the UE 102 successfully completes the RACH procedure at event 536A, the C-SN 106A begins to operate as SN 106A, and the UE 102 operates in DC with the MN 104 and SN 106A via the C-PScell 126A (i.e., the new PScell) according to the C-SN configuration (542A). Events 534A, 535A, 536A, and 542A are collectively referred to herein as CSAC executive 590A.
In some embodiments, before, during, or after performing (536A) the RACH procedure, UE 102 sends an RRC reconfiguration complete message (for C-SN 106A) to MN 104 in response to determining 534A or initiating 535A. Further, the MN 104 can forward the RRC reconfiguration complete message to the C-SN 106A, e.g., in an SN reconfiguration complete message or an RRC transfer message. In some embodiments, UE 102 may send the RRC reconfiguration complete message to MN 104 by sending an additional second uplink RRC container message to MN 104 that includes the RRC reconfiguration complete message.
If the MN 104 is implemented as a gNB, the first or second uplink RRC container message may be a ULIMIFATION TransferMRDC message or a RRCRECONfigure Complete message. If the MN 104 is implemented as an eNB or a ng-eNB, the first or second uplink RRC container message may be a ULIFINFATION TransferMRDC message or an RRCConnection Reconfiguration complete message.
In other embodiments, the UE 102 may send an RRC reconfiguration complete message (for the MN 104) to the MN 104 before, during, or after performing (536A) the RACH procedure in response to the determination 534A or the initiation 535A. In these embodiments, the MN 104 does not send an RRC reconfiguration complete message for the MN 104 to the C-SN 106A.
After performing (536A) (i.e., after completion of) the RACH procedure, or after sending an RRC reconfiguration complete message to the MN 104 for either the MN 104 or the C-SN 106A, the UE 102 again sends (520A-1) the first UE information to the MN 104, which in turn sends (520A-2) the first UE information to the C-SN 106A. In some embodiments, the UE 102 sends (520A) the first UE information to the C-SN 106A only if the UE 102 determines that the condition that triggered the first transmission 516A still exists, or determines that the condition that triggered the first transmission 516A is still met (e.g., as described above for event 316A). If the situation has changed, or if the second condition is no longer met, the UE 102 does not send (520A) the first UE information to the C-SN 106A. If the prohibit timer is running, the UE 102 stops the prohibit timer to send 520A first UE information to the MN 104. Thus, the prohibit timer, which is not run by the UE 102, prevents the first UE information from being sent (520A) to the MN 104. Alternatively, if the prohibit timer is running, the UE 102 keeps the prohibit timer running and sends (520A) the first UE information to the MN 106B while the prohibit timer is running. In either alternative, the UE 102 starts or restarts the prohibit timer after sending (520A) the first UE information to the MN 106B. Alternatively, if the UE 102 remains running the prohibit timer, the UE 102 does not start or restart the prohibit timer after sending (520A) the first UE information to the MN 106B.
In some embodiments, the C-SN 106A identifies the UE 102 by retrieving the identity of the UE 102 from the MAC PDU, which the UE 102 transmits while performing (536A) the RACH procedure. The C-SN 106A can then include the identity of the UE 102 in the C-SN configuration. In other embodiments, the C-SN 106A identifies the UE 102 if the C-SN 106A receives a dedicated random access preamble from the UE 102 when performing (536A) the RACH procedure. The C-SN 106A may then include a dedicated random access preamble in the C-SN configuration.
In some implementations, the C-SN configuration is a full configuration, i.e., the C-SN 106A generates the C-SN configuration as a complete and self-contained configuration. In other implementations, the C-SN 106A only determines that it should generate a full configuration for the C-SN configuration in some cases. For example, if the C-SN 106A determines that the SN 106B is implemented by a different manufacturer, and thus certain compatibility issues may be expected, the C-SN 106A may determine to generate a full C-SN configuration. As another example, if the C-SN 106A cannot generate an incremental configuration for the C-SN configuration from the SN configuration received in the SN request message at event 506A (e.g., if the MN 104A indicates that the SN configuration is not up-to-date such that the C-SN 106A cannot generate an incremental configuration for the C-SN configuration using the SN configuration), the C-SN 106A may determine to generate a full C-SN configuration. As another example, MN 104 may indicate that C-SN 106A should generate a full C-SN configuration. In some implementations, if, for example, the C-SN 106A determines that the SN 106B is from the same manufacturer, or if the C-SN 106A is preconfigured to do so, then during the conditional SN change process, the C-SN 106A determines that the incremental C-SN configuration is included in the SN request acknowledgment message.
In some implementations, in the scenario where the C-SN 106A generates a full configuration for the C-SN configuration, the C-SN 106A includes a full configuration indication in the C-SN configuration. In other implementations, the C-SN 106A does not include a full configuration indication in the C-SN configuration. Rather, in these latter embodiments, the MN 104 can include a full configuration indication in the RRC reconfiguration message at event 510A. For example, the full configuration indication may be an endc-ReleaseAndAdd field or an mrdc-ReleaseAndAdd field.
In other implementations, the C-SN configuration can include one or more configurations (i.e., delta configurations) above the first SN configuration. The delta C-SN configuration is not a complete configuration and does not include a complete configuration indication. The UE 102 cannot communicate with the C-SN 106A using the incremental C-SN configuration alone, and must also refer to the SN configuration stored in the UE 102.
If the C-SN configuration is a full configuration, the SN 106A can determine 522A to update the C-SN configuration(s) (i.e., configure new configuration(s), modify existing configuration(s), and/or release existing configuration(s) in the C-SN configuration). In response to determining 522a, the SN 106a generates a second SN configuration that updates the C-SN configuration from the first UE information and sends 524A RRC reconfiguration message including the second SN configuration to the MN 104. In turn, the MN 104 sends (526A) an RRC reconfiguration message to the UE 102 that includes the second SN configuration. The UE 102 uses the second SN configuration to communicate with the SN 106A.
If the C-SN configuration is a delta configuration, the SN 106A can determine 522A to update the C-SN configuration and/or the first SN configuration (i.e., configure new configuration(s), modify existing configuration(s), and/or release existing configuration(s) in the C-MN configuration(s) and/or the first MN configuration). In response to determining 522a, the SN 106a generates a second SN configuration that updates the C-SN configuration and/or the first C-SN configuration from the first UE information, and sends 524A to the MN 104 an RRC reconfiguration message including the second SN configuration. In turn, the MN 104 sends (526A) an RRC reconfiguration message to the UE 102 that includes the second SN configuration. In some embodiments, the MN 104 sends (526A) another RRC container message to the UE 102 that includes an RRC reconfiguration message.
The UE 102 updates the C-SN configuration and/or the first SN configuration using the second C-SN configuration and sends (528A) an RRC reconfiguration complete message to the MN 104 in response to the RRC reconfiguration message. In turn, the MN 104 sends (530A) an RRC reconfiguration complete message to the SN 106A. Thus, the UE 102 communicates with the SN 106A according to the updated C-SN configuration and/or the updated SN configuration. In some embodiments, the UE 102 sends (528A) another RRC container response message to the MN 104 that includes an RRC reconfiguration complete message. Events 522A, 524A, 526A, 528A, and 530A are collectively referred to as RRC reconfiguration procedure 592A.
The C-SN configuration may include one or more configuration parameters for the UE 102 to communicate with the C-SN 106A via the C-PScell 126A. The plurality of configuration parameters may configure radio resources for the UE 102 to communicate with the C-SN 106A via zero, one, or more than one C-SCell of the C-PSCell126A and the C-SN 106A. The plurality of configuration parameters may configure zero, one or more than one radio bearer. The radio bearer(s) may include SRBs and/or DRBs. The plurality of configuration parameters may or may not include a measurement configuration and/or a security configuration.
The first (or second) SN configuration discussed above may include a plurality of configuration parameters for the UE 102 to communicate with the SN 106B via zero, one, or more than one secondary cells (scells) of the PSCell126B and SN 106B. The plurality of configuration parameters may configure radio resources for the UE 102 to communicate with the SN 106B via zero, one, or more than one SCell of the PSCell126B and SN 106B. The plurality of configuration parameters may configure zero, one or more than one radio bearer. The one or more radio bearers may include SRBs and/or DRBs.
The C-SN configuration may include a group configuration (CellGroupConfig) IE that configures the C-PSCell126A, and may configure zero, one, or more than one C-SCell of the C-SN 106A. In one embodiment, the C-SN configuration is a RRCRECONfigure message, RRCRECONfigure-IE, or CellGroupConfig IE conforming to 3GPP Specification 38.331. In other implementations, the C-SN configuration includes RadioResourceConfigDedicated IE and/or MobilityControlInfo IE of the configuration C-PSCell126A, and may or may not include SCellToAddModList IE of one or more C-SCcells of the configuration C-SN 106A. In one embodiment, the C-SN configuration is an RRCConnection Reconfiguration message or RRCConnection Reconfiguration-IE compliant with 3GPP Specification 36.331.
In some implementations, the first (or second) SN configuration includes CellGroupConfig IE, which configures PSCell 126B (or 126A), and zero, one, or more than one SCell of SN 106A may be configured. In one embodiment, the first (or second) SN configuration is or includes a configuration in a rrcr configuration message, rrcr configuration-IE, or CellGroupConfig IE, or rrcr configuration-IE, or CellGroupConfig IE, conforming to 3GPP specification 38.331. In other embodiments, the first (or second) MN configuration includes RadioResourceConfigDedicated IE and/or MobilityControlInfo IE of the configuration PSCell 126B (or 126A), and may or may not include SCellToAddModList IE of one or more scells of the configuration SN 106A. In other implementations, the first (or second) SN configuration can include configurations in RadioResourceConfigDedicated IE and/or MobilityControlInfo IE.
If MN 104 is implemented as gNB, the RRC container message and RRC reconfiguration complete message discussed above may be an RRCRECONFIG. message and an RRCCONCTONRefiguration complete message, respectively. If the MN 104 is implemented as an eNB or ng-eNB, the RRC container message and RRC container response message may be implemented as an RRCConnectionReconfiguration message and an RRCConnectionReconfigurationComplete message, respectively.
Referring next to fig. 5B, in scenario 500B, during CSAC, base station 104 again operates as a MN and base stations 106A and 106B operate as C-SN and SN, respectively. Fig. 5A depicts an embodiment in which the UE 102 resends the UE information (at event 520A) to ensure that the C-SN 106B receives the UE information (when operating as SN 106B), while fig. 5B depicts an alternative embodiment in which the MN 104 forwards the UE information to the C-SN 106B.
Initially, UE 102, MN 104, C-SN 106A, and SN 106B perform a CSAC configuration procedure 588B, which may be similar to, for example, CSAC configuration procedure 588A. Later, but before the UE 102 determines that the conditions associated with the conditional configuration have been met, the UE 102 sends (516B) first UE information for the SN to the MN 104. For example, the first UE information may be similar to any type of UE information discussed above, and UE 102 may send (516B) the first UE information in response to a trigger (e.g., a detected condition or a determined condition is met) similar to any trigger discussed above in connection with fig. 3A. In some embodiments, UE 102 sends (516B) an RRC message including the first UE information, such as a ueassistance information message, an independency communication message, a sidinkueinformation message, or a sidinkueinformation nr message, as specified in 3GPP specifications 36.331 or 38.331, to MN 104. In some embodiments, the UE 102 may send (516B) an uplink RRC container message to the MN 104 that includes the RRC message.
In a scenario where the UE 102 is DC with the MN 104 and SN 106B, the MN 104 forwards/sends 518B the first UE information to the SN 106B. In some embodiments, the MN 104 sends 518B an RRC transfer message including the first UE information to the SN 106B.
After receiving the first UE information at event 516B, and either before or after event 518B, MN 104 forwards/sends 544B the first UE information to C-SN 106A in a base-to-base (BS-to-BS) interface message (e.g., an X2 or Xn interface between base stations 104, 106A shown in fig. 1A). At some time after the UE 102 transmits 518B the first UE information (e.g., after any arbitrary amount of time), when the conditions associated with the CSAC procedure are met (and before or after event 544B, depending on the implementation and/or scenario), the UE 102, MN 104, and C-SN 106A perform a CSAC execution procedure 590B, which may be similar to CSAC execution procedure 590A of fig. 5A.
In some implementations, the MN 104 sends (544B) the first UE information to the C-SN 106A in response to receiving the first UE information at event 516B (e.g., immediately after receiving the first UE information at event 516B). In other embodiments, the MN 104 sends (544B) the first UE information to the C-SN 106A at a later time (such as during the CSAC execution process 590B). For example, the MN 104 may send (544B) the first UE information to the C-SN 106A only after the MN 104 acknowledges that the CSAC procedure has been performed, and thus avoid wasting resources by forwarding the UE information in scenarios where SN addition or change never occurs (e.g., due to never meeting the conditions, or the MN 104 having the UE 102 release the conditional configuration, etc.). Nonetheless, the MN 104 may send 544B the first UE information earlier, e.g., to allow the C-MN 106B to attempt to modify the conditional configuration, or for other reasons.
After CSAC performs procedure 590B, C-SN 106A (now SN 106A), MN 104, and UE 102 may perform an RRC reconfiguration procedure 592B, which may be similar to RRC reconfiguration procedure 592A of fig. 5A. In addition, the UE 102 may send (532B) other second UE information to the MN 104 at some later time, which the MN 104 may in turn forward/send (533B) the second UE information to the SN 106A. The second UE information may include any of the various types of UE information discussed above and may be transmitted by the UE 102 in response to any of the various types of triggers discussed above. In an alternative scenario, events 532B, 533B and/or 592B do not occur.
The C-SN configuration that MN 104 sends to UE 102 (e.g., at an event similar to event 512A in CSAC configuration procedure 588B) and the SN configuration that MN 104 sends to UE 102 (e.g., at an event similar to event 526A in RRC reconfiguration procedure 592B) may be full or incremental configurations and may be similar to the configurations discussed above with reference to fig. 5A.
Referring next to fig. 5C, in scenario 500C, during CSAC, base station 104 again operates as a MN and base stations 106A and 106B operate as C-SN and SN, respectively. However, in the embodiment of fig. 5C, MN 104 ensures that C-SN 106A receives UE information not only by forwarding the UE information, but also by sending an SN request message to C-SN 106A that includes the UE information.
Initially, UE 102, MN 104, C-SN 106A, and SN 106B perform a CSAC configuration procedure 588C, which may be similar to, for example, CSAC configuration procedure 588A. Later, but before the UE 102 determines that the condition associated with the conditional configuration has been met, the UE 102 sends (516C) first UE information for the SN to the MN 104. For example, the first UE information may be similar to any type of UE information discussed above, and UE 102 may send (516C) the first UE information in response to a trigger (e.g., a detected condition or a determined condition is met) similar to any trigger discussed above in connection with fig. 3A. In some embodiments, UE 102 sends (516C) an RRC message including the first UE information, such as a ueassistance information message, an independency communication message, a sidinkueinformation message, or a sidinkueinformation nr message, as specified in 3GPP specifications 36.331 or 38.331, to MN 104. In some embodiments, the UE 102 may send 516C an uplink RRC container message to the MN 104 that includes the RRC message.
In a scenario where UE 102 is DC with MN 104 and SN 106B, MN 104 forwards/sends 518C the first UE information to SN 106B. In some embodiments, the MN 104 sends 518C an RRC transfer message including the first UE information to the SN 106B.
After receiving the first UE information at event 516C, and before or after event 518C, MN 104 determines (554C) to update the C-SN configuration in response to the first UE information. In response to determining 554C, the mn 104 sends (556C) an SN request message to the C-SN 106A including the first UE information. In response, the C-SN 106A generates (558C) a second C-SN configuration for the C-PScell (e.g., cell 126A) based on the first UE information, and sends (560C) an SN request acknowledgement message including the second C-SN configuration to the MN 104.
In an alternative embodiment, the SN request message of event 556C does not include the first UE information. In these embodiments, MN 104 may instead determine (e.g., within event 554C) one or more configuration restrictions based on the first UE information. For example, the configuration constraint(s) may include a maximum resource allocation, such as a maximum number of scells, a maximum number of MIMO layers, a maximum aggregate bandwidth, and so on. Other configuration constraints are also possible (e.g., minimum scheduling offset, disallowed modes, etc.). MN 104 can then generate information indicative of the configuration limit(s) and include the information in the SN request message of event 556C. The C-SN 106A can then generate a second C-SN configuration based on the indicated configuration limit(s) at event 558C.
After event 560C, the MN 104 can send 562C an RRC reconfiguration message to the UE 102 including the second C-SN configuration. In response, UE 102 may send an RRC reconfiguration complete message to MN 104. Events 554C, 556C, 558C, 560C, 562C, and 564C are collectively referred to herein as a CSAC configuration update procedure 594C.
After the CSAC configuration update procedure 594C, the UE 102, MN 104, and C-SN 106A perform a CSAC execution procedure 590C, which may be similar to, for example, the CSAC execution procedure 590A of fig. 5A. After CSAC performs procedure 590C, UE 102 may send 532C other second UE information to MN 104 at some later time, and MN 104 may in turn forward 533C the second UE information to C-SN 106A (now SN 106A). The second UE information may include any of the various types of UE information discussed above and may be transmitted by the UE 102 in response to any of the various types of triggers discussed above. The SN 106A, MN and UE 102 may perform an RRC reconfiguration procedure 592C according to the second UE information, which may be similar to the RRC reconfiguration procedure 592A of fig. 5A. In an alternative scenario, events 532C, 533C and/or 592C do not occur.
The C-SN configuration that MN 104 sends to UE 102 (e.g., at an event similar to event 512A in CSAC configuration procedure 588C) and the SN configuration that MN 104 sends to UE 102 (e.g., at an event similar to event 526A in RRC reconfiguration procedure 592C) may be full or incremental configurations and may be similar to the configurations discussed above with reference to fig. 5A.
Referring now to fig. 5D, in scenario 500D, during CSAC, base station 104 again operates as a MN and base stations 106A and 106B operate as C-SN and SN, respectively. However, in the embodiment of fig. 5D, neither the MN 104 nor the UE 102 (necessarily) ensures that the C-SN 106A receives the first UE information. Instead, the MN 104 causes the UE to release the C-SN configuration (e.g., cancel the CSAC procedure), and the MN 104 (optionally) reconfigures the UE 102 according to the UE information.
Initially, UE 102, MN 104, C-SN 106A, and SN 106B perform a CSAC configuration procedure 588D, which may be similar to CSAC configuration procedure 588A of fig. 5A. Later, but before the UE 102 determines that the condition associated with the conditional configuration has been met, the UE 102 sends 516D first UE information to the MN 104. For example, the first UE information may be similar to the first UE information described above with reference to fig. 3A, and the UE 102 may transmit (516D) the first UE information in response to a trigger similar to any of the triggers discussed above in connection with fig. 3A (e.g., detecting a condition or determining that a condition is met). In some embodiments, UE 102 sends (516D) an RRC message including the first UE information, such as a ueassistance information message, an independency communication message, a sidinkueinformation message, or a sidinkueinformation nr message, as specified in 3GPP specifications 36.331 or 38.331, to MN 104.
In response to receiving the first UE information at event 516D, the MN 104 determines (572D) to release the C-SN configuration. In response to determining 574D, the mn 104 sends 574D to the UE 102 an RRC reconfiguration message indicating (e.g., in an IE or field) that the UE 102 is to release the C-SN configuration.
In response to the indication in the RRC reconfiguration message, the UE 102 releases the C-SN configuration. After releasing the C-SN configuration (e.g., in response to releasing the C-SN configuration), or in response to receiving the RRC reconfiguration message, UE 102 sends (576D) an RRC reconfiguration complete message to MN 104.
Also in response to determining 578D, mn 104 sends 578D an SN release request message to C-SN 106A, which causes C-SN 106A to release 580D the C-SN configuration. For example, events 578D and/or 580D may occur before event 574D, after event 576D, or between events 574D and 576D. The C-SN 106A also sends (582D) an SN release request acknowledgment message to the MN 104. Events 572D, 574D, 576D, 580D, and 582D are collectively referred to herein as a CSAC configuration release procedure 596D.
In some scenarios, MN 104 and UE 102 then perform RRC reconfiguration procedure 593D. The RRC reconfiguration procedure 593D may be similar to the RRC reconfiguration procedure 592A, but occurs between the UE 102, the MN 104, and the potential SN 106B, rather than between the UE 102, the MN 104, and the C-SN 106A. In the RRC reconfiguration procedure 593D, the SN 106B may determine to update the configuration of the SN 106B according to the first UE information and/or the MN 104 may determine to update the configuration of the MN 104 according to the first UE information.
In addition, the UE 102 can send (532D) other second UE information to the MN 104 at some later time, which the MN 104 can in turn forward/send (533D) the second UE information to the SN 106B. The second UE information may include any of the various types of UE information discussed above and may be transmitted by the UE 102 in response to any of the various types of triggers discussed above. In an alternative scenario, events 532D, 533D and/or 593D do not occur.
Fig. 5E-5H correspond to the scenarios of fig. 5A-5D, but in embodiments and/or scenarios where the UE directly transmits the first UE information to the SN.
Referring first to fig. 5E, in scenario 500E, UE 102, MN 104, C-SN 106A, and SN 106B initially perform a CSAC configuration procedure 588E, which may be similar to, for example, CSAC configuration procedure 588A. At some point after the CSAC configuration procedure 588E, the UE 102 sends (519E) the first UE information directly to the SN 106B via an SRB (e.g., SRB 3). For example, the first UE information may be similar to the first UE information described above with reference to fig. 3A, and the UE 102 may send (519E) the first UE information in response to a trigger similar to any of the triggers discussed above in connection with fig. 3A (e.g., a detected condition or a determined condition is met). In some embodiments, the UE 102 sends (519E) an RRC message including the first UE information to the SN 106B, such as a ueassistance information message, an indeviceconfection message, a SidelinkUEInformation message, or a SidelinkUEInformation nr message as specified in 3GPP specifications 36.331 or 38.331. In some implementations, the UE 102 may start a prohibit timer (e.g., t346A, t346b, t346c, t346d, t346E, t346 f) in response to or after transmitting (519E) the first UE information, similar to the description for event 316A.
At some point in time after event 519E, when the conditions associated with the CSAC procedure are met, UE 102, MN 104 and C-SN 106A perform a CSAC execution procedure 590E, which may be similar to, for example, CSAC execution procedure 590A. The UE 102 then sends 521E the first UE information directly to the C-SN 106A via SRB (e.g., SRB 3). The UE 102 and the C-SN 106A (now SN 106A) may then (optionally) perform the RRC reconfiguration procedure 592E directly with the UE 102, rather than performing the RRC reconfiguration procedure 592E via the MN 104. The RRC reconfiguration procedure 592E may be similar to the RRC reconfiguration procedure 592A. If the prohibit timer is running, the UE 102 stops the prohibit timer to send (521E) the first UE information to the SN 106A. Thus, the prohibit timer, which is not run by the UE 102, prevents the first UE information from being sent (521E) to the SN 106A. Alternatively, if the prohibit timer is running, the UE 102 keeps the prohibit timer running and sends (521E) the first UE information to the SN 106A while the prohibit timer is running. In either of the alternatives described above, the UE 102 starts or restarts the prohibit timer after sending (521E) the first UE information to the SN 106A. Alternatively, if the UE 102 maintains the prohibit timer, the UE 102 does not start or restart the prohibit timer after sending (521E) the first UE information to the SN 106A.
In addition, the UE 102 may send 528E other second UE information to the C-SN 106A at some later time. The second UE information may include any of the various types of UE information discussed above and may be transmitted by the UE 102 in response to any of the various types of triggers discussed above. In an alternate scenario, events 528E and/or 592E do not occur.
In some scenarios and implementations, the UE 102 performs an immediate PSCell change to the target SN (e.g., base stations 106A, 106B) instead of the CSAC performing procedure 590E. If the UE 102 performs an immediate PSCell change at the same time or immediately after the first UE information is sent at event 519E, the UE 102 may not be able to send the first UE information to the SN 106B. In one scenario, the failure may be due to the UE 102 interrupting the transmission of the first UE information to perform an immediate PSCell change (random access procedure in). In another scenario, the SN 106B may receive the first UE information after sending an SN change demand message to the target SN to prepare for immediate PSCell changes. In one embodiment, if the UE 102 has not received an acknowledgement (e.g., RLC acknowledgement) from the SN 106B for RLC PDU(s) including the first UE information before interrupting the transmission of the first UE information, the UE 102 may send the first UE information to the target SN after immediate PSCell change, similar to event 521E. In another embodiment, if the UE 102 transmits the first UE information during the last X seconds(s) before making the immediate PSCell change, receiving a PSCell change message for the immediate PSCell change, random access procedure in making the immediate PSCell change, or transmitting a PSCell change complete message to the MN 104, the UE 102 may transmit the first UE information to the target SN (if a trigger condition for transmitting the first UE information is still met), similar to event 521E. Otherwise, the UE 102 may not send the first UE information to the target SN after completing the immediate PSCell change. For example, X may be about 1 or 2. In another example, X may be within a range (e.g., 0.9 to 2). In another example, X is a suitable integer, such as 1, 2, or 3. If the prohibit timer is running, the UE 102 stops the prohibit timer to send the first UE information to the target SN. Thus, the prohibit timer, which is not run by the UE 102, prevents the first UE information from being sent to the target SN. Alternatively, if the prohibit timer is running, the UE 102 keeps the prohibit timer running and sends the first UE information to the target SN while the prohibit timer is running. In either of the alternatives described above, the UE 102 starts or restarts the prohibit timer after sending the first UE information to the target SN. Alternatively, if the UE 102 does not stop the prohibit timer, the UE 102 keeps the prohibit timer running. If the target SN is gNB, the PSCell change command and the PSCell change complete message may be RRCReconfiguration and RRCReconfiguration complete messages, respectively. The rrcrecon configuration message may include ReconfigurationWithSync IE. If the target SN is an eNB or ng-eNB, the PSCell change command and the PSCell change complete message may be RRCConnection Reconfiguration and RRCConnection Reconfiguration complete messages, respectively. The rrcconnectionreconfigurability message may include MobilityControlInfo IE.
Referring next to fig. 5F, in scenario 500F, UE 102, MN104, C-SN 106A, and SN 106B initially perform a CSAC configuration procedure 588F, which may be similar to, for example, CSAC configuration procedure 588A. At some point after the CSAC configuration procedure 588F, the UE 102 sends (519F) the first UE information directly to the SN 106B via an SRB (e.g., SRB 3). For example, the first UE information may be similar to the first UE information described above with reference to fig. 3A, and the UE 102 may transmit (519F) the first UE information in response to a trigger similar to any of the triggers discussed above in connection with fig. 3A (e.g., detection of a condition or determination that a condition is met). In some embodiments, the UE 102 sends (519F) an RRC message including the first UE information to the SN 106B, such as a ueassistance information message, an indeviceconfection message, a SidelinkUEInformation message, or a SidelinkUEInformation nr message as specified in 3GPP specifications 36.331 or 38.331.
The SN 106B then forwards/sends (548F) the first UE information to the MN104, and the MN104 then forwards/sends (530F) the first UE information to the C-SN 106A. At some point in time after event 530F, when the conditions associated with the CSAC procedure are met, UE 102, MN104 and C-SN 106A perform a CSAC execution procedure 590F, which may be similar to, for example, CSAC execution procedure 590A. At some point after event 590F, the UE 102 and C-SN 106A (now SN 106A) may then (optionally) perform an RRC reconfiguration procedure 592F directly with the UE 102, rather than performing an RRC reconfiguration procedure 592F via the MN104, which may be similar to the RRC reconfiguration procedure 592A.
In addition, the UE 102 may send 528F other second UE information to the C-SN 106A at some later time. The second UE information may include any of the various types of UE information discussed above and may be transmitted by the UE 102 in response to any of the various types of triggers discussed above (528F). In an alternate scenario, events 528F and/or 592F do not occur.
Referring next to fig. 5G, in scenario 500G, UE 102, MN 104, C-SN 106A, and SN 106B initially perform a CSAC configuration procedure 588G, which may be similar to, for example, CSAC configuration procedure 588A. At some point after CSAC configuration procedure 588G, UE 102 sends (519G) the first UE information directly to SN 106B via an SRB (e.g., SRB 3). For example, the first UE information may be similar to the first UE information described above with reference to fig. 3A, and the UE 102 may transmit (519G) the first UE information in response to a trigger similar to any of the triggers discussed above in connection with fig. 3A (e.g., a detected condition or a determined condition is met). In some embodiments, the UE 102 sends (519G) an RRC message including the first UE information to the SN 106B, such as a ueassistance information message, an indeviceconfection message, a SidelinkUEInformation message, or a SidelinkUEInformation nr message as specified in 3GPP specifications 36.331 or 38.331.
The SN 106B then forwards/sends 548G the first UE information to the MN 104. In response to event 548G, mn 104 initiates a CSAC configuration update procedure 594G, which may be similar to CSAC configuration update procedure 594C of fig. 5C.
At some point in time after the CSAC configuration update procedure 594G, when the conditions associated with the CSAC procedure are met, the UE 102, MN 104, and C-SN 106A perform a CSAC execution procedure 590G, which may be similar to, for example, CSAC execution procedure 590A.
At some point after event 590G, the UE 102 may send 528G additional second UE information to the C-SN 106A (now SN 106A). The second UE information may include any of the various types of UE information discussed above, and 528G may be transmitted by UE 102 in response to any of the various types of triggers discussed above. The UE 102 and SN 106A may then (optionally) perform an RRC reconfiguration procedure 592G directly (i.e., not via MN 104) from the second UE information. The RRC reconfiguration procedure 592G may be similar to the RRC reconfiguration procedure 592A. In an alternate scenario, events 528G and/or 592G do not occur.
Referring next to fig. 5H, in scenario 500H, UE 102, MN 104, C-SN 106A, and SN 106B initially perform a CSAC configuration procedure 588H, which may be similar to, for example, CSAC configuration procedure 588A. At some point in time after the CSAC configuration procedure 588H, the UE 102 sends (519H) first UE information to the SN 106B. For example, the first UE information may be similar to the first UE information described above with reference to fig. 3A, and the UE 102 may transmit (519H) the first UE information in response to a trigger similar to any of the triggers discussed above in connection with fig. 3A (e.g., a detected condition or a determined condition is met). In some embodiments, the UE 102 sends (519H) to the SN 106B an RRC message including the first UE information, such as a ueassistance information message, an indeviceconfection message, a SidelinkUEInformation message, or a SidelinkUEInformation nr message as specified in 3GPP specifications 36.331 or 38.331.
The SN 106B then forwards/sends 548H the first UE information to the MN 104. In response to event 548H, mn 104 initiates a CSAC configuration release procedure 596H, which may be similar to CSAC configuration release procedure 596D of fig. 5D.
At some point after the CSAC configuration release procedure 596G, the UE 102, MN 104, and SN 106B may (optionally) perform an RRC reconfiguration procedure 593H with the UE 102 directly (i.e., rather than via the MN 104). For example, the RRC reconfiguration procedure 593H may be similar to the RRC reconfiguration procedure 593D. In addition, the UE 102 may send (529H) other second UE information to the SN 106B at some later time. The second UE information may include any of the various types of UE information discussed above and may be transmitted by UE 102 in response to any of the various types of triggers discussed above (529H). In an alternate scenario, events 529H and/or 593H do not occur.
In any of the above embodiments and scenarios described above with reference to fig. 3A-5H, the UE 102 is able to determine the conditional mobility procedure involved in the received configuration. In some cases, for example, UE 102 determines whether the configuration (and thus the associated mobility procedure) relates to MN or SN in a DC scenario, where (according to the terminology used herein) a single base station in an SC scenario may be considered to operate as MN. To this end, UE 102 may determine, for example, the SRB on which the RAN provides configuration information. If UE 102 receives the configuration information on SRB1, UE 102 may determine that the configuration information is associated with the MN. Conversely, if the UE 102 receives configuration information on SRB3, the UE 102 may determine that the configuration information is related to SN. In some embodiments, the MN-related conditional configuration involves conditional handoff, and the SN-related conditional configuration involves CPAC or CSAC.
Additionally or alternatively, UE 102 may use the current connection type (e.g., SC, NE-DC, EN-DC, etc.) to determine the conditional mobility procedure involved in the conditional configuration. For example, when the UE 102 receives a conditional configuration in an EUTRA RRC message and the UE 102 is operating in an SC, the UE 102 may determine that the conditional configuration is associated with the MN (e.g., conditional handover). However, when the UE 102 receives a conditional configuration in the EUTRA RRC message and the UE 102 is operating in NE-DC, the UE 102 may determine that the conditional configuration is related to SN (e.g., a conditional add or change procedure) because the MN-related information will instead arrive via the NR message. More generally, UE 102 may use the type of RRC message carrying the conditional configuration to determine the conditional mobility procedure involved in the conditional configuration. For example, when the UE 102 receives a conditional configuration in an MN RRC message (i.e., an RRC message generated by the MN), the UE 102 may determine that the conditional configuration is related to the MN, and when the UE 102 receives a conditional configuration in an SN RRC message (i.e., an RRC message generated by the SN), the UE 102 may alternatively determine that the conditional configuration is related to the SN.
Further, UE 102 may rely on PDUs, messages, IEs, fields, or particular values that include or reference the conditional configuration to determine the conditional mobility procedure to which the conditional configuration relates. For example, the base station may use a first field or value to indicate that the conditional mobility procedure is a conditional handover, a second field or value to indicate that the conditional mobility procedure is a conditional SN addition/change, and a third field or value to indicate that the conditional mobility procedure is a conditional PSCell addition/change. In the discussion above, the terms "PDU," "message," "IE," and "field" may be used interchangeably unless a more specific meaning is clear from the context in which they are used.
Further, UE 102 may determine the conditional mobility procedure using an indication of the RAT via which UE 102 received the conditional configuration. For example, when the UE 102 receives a conditional configuration via a relatively less advanced RAT (e.g., EUTRA) while operating in an SC or some type of DC, the UE 102 may determine that the conditional configuration must be associated with the MN.
In general, UE 102 may rely on any suitable combination of the above techniques and/or other suitable techniques to determine whether the conditional configuration is MN-related or SN-related, and whether the conditional mobility procedure is a conditional handoff, CSAC, CPAC, or some other conditional mobility procedure.
Fig. 6-13 are flowcharts depicting methods for performing the various techniques of this disclosure.
Referring first to fig. 6, a method 600 may be implemented in a UE (e.g., UE 102) in communication with a RAN (e.g., RAN 105). For example, the method 600 may be implemented by the processing hardware 150. In method 600, at block 602, the UE receives a conditional configuration (e.g., event 312A, 412A-2, or 512A) from the RAN.
At block 604, the UE determines that a first condition for transmitting first UE information is satisfied. At block 606, the UE sends first UE information (e.g., event 316A, 416A-1, or 516A) to the RAN. At block 608, the UE determines that a second condition (e.g., event 334A, 434A, or 534A) for connecting to the candidate cell is satisfied. At block 610, the UE connects to the candidate cell according to the conditional configuration received at block 602 (e.g., as in process 390A, 490A, or 590A).
At block 612, the UE determines whether the first condition is still met. If so, at block 614, the UE transmits first UE information (e.g., event 320A, 420A-1, or 520A) on the candidate cell. If not, at block 616, the UE transmits different second UE information on the candidate cell. Alternatively, at block 616, the UE may not send any UE information to the RAN.
Referring next to fig. 7A, a method 700A may be implemented in a RAN node (e.g., base station 104) in communication with a UE (e.g., UE 102). For example, method 700A may be implemented by processing hardware 130. In method 700A, at block 702A, a RAN node determines to perform a conditional mobility preparation (e.g., CHO or CSAC) procedure for a UE or to perform a conditional mobility preparation (e.g., CHO or CSAC) procedure for the UE. At block 704A, responsive to the determination or execution at block 702A, the RAN node prevents the UE from transmitting UE information. For example, block 704A may include sending an RRC message to the UE that disables the UE's ability to generate UE information and/or send UE information to the RAN.
Fig. 7B depicts a method 700B, which is a more specific implementation of method 700A. The method 700B may be implemented in a RAN node (e.g., base station 104) in communication with a UE (e.g., UE 102). For example, method 700B may be implemented by processing hardware 130. In method 700B, at block 702B, the RAN node determines to perform a conditional mobility preparation (e.g., CHO or CSAC) procedure for the UE or to perform a conditional mobility preparation (e.g., CHO or CSAC) procedure for the UE. At block 704B, the RAN node determines whether the UE is currently enabled to transmit UE information. If so, at block 706B, the RAN node disables the UE from transmitting UE information (e.g., by transmitting an RRC message to the UE). If not, at block 708B, the RAN node refrains from enabling (e.g., determining not to enable) the UE to send UE information to the RAN.
Referring next to fig. 8A, a method 800A may be implemented in a RAN node (e.g., base station 104) in communication with a UE (e.g., UE 102). For example, method 800A may be implemented by processing hardware 130. In method 800A, at block 802A, the RAN node determines to enable the UE to send UE information to the RAN or to enable (e.g., by sending an RRC message to the UE) the UE to send UE information to the RAN. At block 804A, responsive to the determination or enablement at block 802A, the RAN node prevents a conditional mobility procedure from occurring while the UE is enabled to send UE information to the RAN. For example, block 804A may include the RAN node determining that a condition of a conditional mobility procedure (e.g., CHO or CSAC procedure) has been met, but then determining that the initiation of the conditional mobility procedure will nevertheless be avoided based on information stored at the RAN node indicating that the UE is currently enabled to send UE information to the RAN. Alternatively, block 804A may include causing the UE to release the conditional configuration (e.g., by sending an RRC message to the UE).
Fig. 8B depicts a method 800B, which is a more specific implementation of method 800A. Method 800B may be implemented in a RAN node (e.g., base station 104) in communication with a UE (e.g., UE 102). For example, method 800B may be implemented by processing hardware 130. In method 800B, at block 802B, the RAN node determines to enable the UE to transmit UE information or to enable the UE to transmit UE information (e.g., by transmitting an RRC message to the UE). In response to the determination or enablement at block 802B, the RAN node determines whether the UE has a conditional configuration at block 804B. If so, at block 806B, the RAN node sends a RRC message to the UE releasing the conditional configuration (e.g., similar to events 358D, 458D-2, or 574D). If not, at block 808B, the RAN node refrains from configuring (e.g., determining not to configure) the UE with the conditional configuration.
Referring next to fig. 9, a method 900 may be implemented in a UE (e.g., UE 102) in communication with a RAN (e.g., RAN 105). For example, method 900 may be implemented by processing hardware 150. At block 902, the UE receives a conditional configuration of a conditional mobility procedure and corresponding conditions (e.g., event 312A, 412A-2, or 512A, or in procedure 588E) from the RAN. At block 904, the UE sends UE information (e.g., events 316A, 416A-1, 516A, or 519E) to the RAN before the UE determines that the corresponding condition is met. At block 906, the UE determines that the corresponding condition (e.g., event 334A, 434A, 534A or in process 590E) is satisfied. At block 908, after performing the conditional mobility procedure, the UE again sends UE information (e.g., events 320A, 420A-1, 520A, or 521E) to the RAN.
Referring next to fig. 10, method 1000 may be implemented in one or more RAN nodes (e.g., base station 104 and base station 106A or 106B, or CUs and DUs of distributed base stations) in communication with a UE (e.g., UE 102). For example, method 1000 may be implemented by processing hardware 130. At block 1002, the RAN node(s) send a conditional configuration of a conditional mobility procedure and corresponding conditions (e.g., event 312A, 412A-2, or 512A, or in procedure 588E) to the UE. At block 1004, the RAN node(s) receive UE information (e.g., events 316A, 416A-1, 516A, or 519E) from the UE. At block 1006, after performing the conditional mobility procedure, the RAN node(s) again receive UE information (e.g., events 320A, 420A-1, 520A, 521E).
Referring next to fig. 11, a method 1100 may be implemented in a RAN node (e.g., a base station 104 or a CU of a distributed base station) in communication with a UE (e.g., UE 102). For example, method 1100 may be implemented by processing hardware 130. At block 1102, the RAN node sends a conditional configuration of a conditional mobility procedure and corresponding conditions to the UE (e.g., within procedures 388B, 388C, 488B, 488C, 588B, 588C, 588F, or 588G). Later, at block 1104, the RAN node receives UE information (e.g., events 316B, 316C, 416B-1, 416C-1/416C-2, 516B, 516C, 519F, or 519G/548G) from the UE. Later, at block 1106, the RAN node sends UE information (e.g., events 318B, 346C, 446C, 544B, 556C, or 548F, or within processes 492B or 594G) to the candidate node.
Referring next to fig. 12, a method 1200 may be implemented in a RAN node (e.g., a base station 104 or a CU of a distributed base station) in communication with a UE (e.g., UE 102). For example, method 1200 may be implemented by processing hardware 130. At block 1202, the RAN node sends a conditional configuration of a conditional mobility procedure and corresponding conditions to the UE (e.g., within procedure 388C, 488C, or 588C). Later, at block 1204, the RAN node receives UE information (e.g., events 316C, 416C-1/416C-2 or 516C) from the UE. Later, at block 1206, the RAN node sends a message (e.g., event 346C, 446C, or 556C) that causes the UE to be reconfigured according to the UE information.
Referring next to fig. 13, a method 1300 can be implemented in a RAN node (e.g., a base station 104 or a CU of a distributed base station) in communication with a UE (e.g., UE 102). For example, method 1300 may be implemented by processing hardware 130. At block 1302, the RAN node sends a conditional configuration of a conditional mobility procedure and corresponding conditions to the UE (e.g., within procedure 388D, 488D, or 588D). Later, at block 1304, the RAN node receives UE information (e.g., events 316D, 416D-1/416D-2, or 516D) from the UE. Later, at block 1306 and in response to receiving the UE information, the RAN node sends a message (e.g., events 358D, 458D-1/458D-2 or 574D) that causes the UE to release the conditional configuration.
The following section provides examples of the manner in which aspects described herein may be incorporated into 3GPP specifications (specifically, 3GPP specifications 36.331 and 38.331, release 16) in the format of a 3GPP "change request" (CR).
5.3.5.4 receiving RRCConnection reconfiguration including mobility control info by UE
(switching)
If the rrcconnectionreconfigurability message includes mobilityControlInfo and the UE can conform to the configuration included in the message, the UE should:
1> if daps-HO is not configured for any DRB:
2> if running, stop timer T310;
2> if running, stop timer T312;
2> if timer T316 is running:
3> stop timer T316;
3> clearing the information (if any) included in the VarRLF-Report;
2> if suspended, resume MCG transmission;
1> as included in mobilityControlInfo, start timer T304 with the timer value set to T304;
1> if running, stop timer T370;
1> if carrier freq is included:
2> treat the target PCell as a PCell on a frequency indicated by the carrier freq with a physical cell identity indicated by the targetphysiscellid;
1> otherwise:
2> treat the target PCell as a PCell on the frequency of the source PCell with a physical cell identity indicated by the targetphysioscellid;
1> if T309 is running:
2> stop timer T309 for all access categories;
2> performs the action specified in 5.3.16.4.
1> DL to start synchronization to the target PCell;
note 1: the UE should perform the handover as soon as possible after receiving the RRC message triggering the handover, which may be before acknowledging the successful reception of the message (HARQ and ARQ).
1> if BL UE or UE in CE:
2> if the sameSFN-Indication is not present in the mobilityControlInfo:
3> acquiring a masterinformation block in the target PCell;
1> if makeBeforeBreak is configured:
2> performing the rest of the procedure, including resetting the MAC and its following parts after the UE has stopped uplink transmission/downlink reception with the source PCell;
note 1a: if makeBeforeBreak is configured, when to cease uplink transmission/downlink reception with the source PCell to initiate re-tuning to connect to the target cell depends on the UE implementation, as specified in TS 36.133[16 ].
Note 1b: when to stop uplink transmission/downlink reception with the source SCell(s) after receiving the RRCConnectionReconfiguration message depends on the UE implementation.
1> if daps-HO is configured for any DRB:
2> establishing a MAC entity for the target PCell using the same configuration as the MAC entity for the source PCell;
2> for each DRB configured with daps-HO:
3> establishing one or more RLC entities and associated DTCH logical channels for the target PCell using the same configuration as for the source PCell;
3> reconfigure PDCP entity to configure DAPS as specified in TS 36.323[8 ].
2> for each DRB not configured with daps-HO:
3> reestablishing PDCP;
3> re-establishing the RLC entity and associating it with the associated DTCH logical channel with the target PCell;
2> for each SRB:
3> establishing a PDCP entity for the target PCell using the same configuration as the PDCP entity for the source PCell;
3> establishing RLC entities and associated DCCH logical channels for the target PCell using the same configuration as for the source PCell;
3> suspending SRB of source PCell;
note 1c: to understand whether the daps-HO is configured, the UE needs to check the presence of the received within RadioResourceConfigDedicated IE field daps-HO.
1> otherwise (if no daps-HO is configured):
2> if configured, reset MCG MAC and SCG MAC;
2> if configured, release uplinkDataCompression;
2> reestablishing PDCP for all RBs established configured with PDCP-config;
note 2: the handling of radio bearers, SN and HFN after successful completion of PDCP re-establishment (e.g. retransmission of unacknowledged PDCP SDUs (and associated status report)) is specified in TS 36.323[8 ].
Note 2a: at handover, the RecceistablehPCP flag will be set in NR-radio BearerConfig1 or NR-radio BearerConfig2TS 38.331[82] for all RBs configured with NR PDCP, which will cause the PDCP entity to be re-established also for those RBs.
2> reestablishing the MCG RLC and SCG RLC for all RBs established if configured;
1> for each SCell configured for UE except PSCell:
2> if the received RRCConnectionReconfiguration message includes scells and indicates activation:
3> configuring lower layers to treat SCell as being in active state;
2> otherwise if the received RRCConnectionReconfiguration message includes scells and indicates dormant:
3> configuring lower layers to treat SCell as being in dormant state;
2> otherwise:
3> configuring lower layers to treat SCell as being in deactivated state;
1> apply the value of newUE-Identity as C-RNTI in the target MCG;
1> if the RRCConnectionReconfiguration message includes fullconfigug:
2> performing a radio configuration procedure as specified in 5.3.5.8;
1> configuring lower layers according to the received radioResourceConfigCommon;
1> if the received rrcconnectionreconfigurationmessage includes rach-Skip:
2> as specified in TS 36.213[23] and 36.321[6], configuring the lower layers to apply the track-Skip for the target MCG;
1> if included in the received mobilityControlInfo, configuring the lower layer according to any additional fields not previously covered;
1> if the received rrcconnectionreconfigurations include sCellToReleaseList:
2> as specified in 5.3.10.3a, SCell release is performed;
1> if the received rrcconnectionreconfigurability includes sCellGroupToReleaseList:
2> as specified in 5.3.10.3d, performing SCell group release;
1> if the received rrcconnectionreconfigurations include scg-Configuration; or (b)
1> if the current UE configuration includes one or more split DRBs and the received rrcconnectionreconfigurations include radioresourceconfilgdedided (including DRBs-ToAddModList):
2> as specified in 5.3.10.10, performing SCG reconfiguration;
1> if the RRCConnectionReconfiguration message includes radioresourceconfigudded:
2> as specified in 5.3.10, performing a radio resource configuration procedure;
1> if SecurityConfigHO (without suffix) is included in RRCConnection Reconfiguration:
2> if the keyChangeIndicator received in the SecurityConfigHO is set to TRUE (TRUE):
3>such as TS 33.401[32 ]]Based on K used with the latest successful NAS SMC procedure as specified in (a) ASME Secret key to update K eNB A secret key;
2> otherwise:
3>such as TS 33.401[32 ]]Using the nextHopChainingCount value indicated in the SecurityConfigHO, based on the current K eNB Or NH update K eNB A secret key;
note 2b: if the UE needs to update S-K as specified in 5.3.10.10 eNB Key, then UE is updating K eNB Updating S-K after key eNB 。
2> store the nextHopChainingCount value;
2> if securityAlgorithmConfig is included in securityConfigHO:
3>deriving K associated with integritprotAlgorithm RRCint Keys, e.g. TS 33.401[32 ]]As specified in (a);
3> if connected as RN:
4>deriving K associated with integritprotAlgorithm UPint Keys, e.g. TS 33.401[32 ]]As specified in (a);
3>deriving K associated with ciphering Algorithm RRCenc Key and K UPenc Keys, e.g. TS 33.401[32 ]]As specified in (a);
2> otherwise:
3>deriving K associated with a current integrity algorithm RRCint Keys, e.g. TS 33.401[32 ]]As specified in (a);
3> if connected as RN:
4>deriving K associated with a current integrity algorithm UPint Keys, e.g. TS 33.401[32 ]]As specified in (a);
3>deriving K associated with a current encryption algorithm RRCenc Key and K UPenc Keys, e.g. TS 33.401[32 ]]As specified in (a);
2>configuring lower layers to apply integrity protection algorithm and K RRCint The key, i.e. the integrity protection configuration, should be applied to all subsequent messages received and sent by the UE, including a message indicating that the procedure was successfully completed;
2>configuring lower layers to apply encryption algorithm, K RRCenc Key and K UPenc The key, i.e. the ciphering configuration, should be applied to all subsequent messages received and sent by the UE, including a message indicating that the procedure was successfully completed;
note 2c: for DRB configured for DAPS HO, new encryption algorithm and K UPenc The key is applied to the traffic exchange between the UE and the target MCG, while the old encryption algorithm and K UPenc The key is applied to the traffic exchange between the UE and the source MCG.
1> otherwise if securityConfigHO-v1530 is included in rrcconnectionreconfigurations:
2> if nas-content is received:
3> forwarding the nas-Container to higher layers;
2> if keyChangeIndextor-r 15 is received and set to true:
3>such as TS 33.501[86 ]]Based on K as specified in AMF Key update K eNB A secret key;
2> otherwise:
3>such as TS 33.501[86 ]]Using received nextHopchaiiningCount-r 15, based on current K eNB Or NH update K eNB A secret key;
2> store the nextHopChaiiningCount-r 15 value;
2> if a security AlgorithmConfig-r15 is received:
3>deriving K associated with integritprotAlgorithm RRCint Keys, e.g. TS 33.401[32 ]]As specified in (a);
3>deriving K associated with ciphering Algorithm RRCenc Key and K UPenc Keys, e.g. TS 33.401[32 ]]As specified in (a);
2> otherwise:
3>deriving K associated with a current integrity algorithm RRCint Keys, e.g. TS 33.401[32 ]]As specified in (a);
3>deriving K associated with a current encryption algorithm RRCenc Key and K UPenc Keys, e.g. TS 33.401[32 ]]As specified in (a);
1> if the received RRCConnectionReconfiguration includes nr-Config and it is set to release; or (b)
1> if the received rrcconnectionreconfigurability includes the endc-releasenaddd and it is set to true:
2> performing MR-DC release as specified in TS 38.331[82], clause 5.3.5.10;
1> if the received rrcconnectionreconfigurability includes sk-Counter:
2> performing a key update procedure as specified in TS 38.331[82], clause 5.3.5.7;
1> if the received rrcconnectionreconfigurability includes nr-second cellgroupconfig:
2> performs NR RRC reconfiguration as specified in TS 38.331[82], clause 5.3.5.3.
1> if the received RRCConnectionReconfiguration includes nr-radio bearrerconfig 1:
2> performing radio bearer configuration as specified in TS 38.331[82], clause 5.3.5.6;
1> if the received RRCConnectionReconfiguration includes nr-radio bearrerconfig 2:
2> performs radio bearer configuration as specified in TS 38.331[82], clause 5.3.5.6.
1> if connected as RN:
2>the lower layers, if any, are configured to apply an integrity protection algorithm and K for the current or subsequently established DRBs configured to apply integrity protection UPint A secret key;
1> if the received rrcconnectionreconfigurability includes sCellToAddModList:
2> performing SCell addition or modification as specified in 5.3.10.3b;
1> if the received rrcconnectionreconfigurability includes scellgrouptaddmodlist:
2> performing SCell group addition or modification as specified in 5.3.10.3e;
1> if the received rrcconnectionreconfigurability includes systemInformationBlockType1Dedicated:
2> as specified in 5.2.2.7, performing an action upon receipt of a SystemInformationBlockType1 message;
1> as specified in 5.5.6.1, performing a measurement-related action;
1> if the RRCConnectionReconfiguration message includes measConfig:
2> as specified in 5.5.2, performing a measurement configuration procedure;
1> performing measurement identity autonomous removal as specified in 5.5.2.2a;
1> release reportProximityConfig and clear any associated neighbor status report timers;
1> if the RRCConnectionReconfiguration message includes otherConfig:
2> as specified in 5.3.10.9, performing other configuration procedures;
1> if the RRCConnectionReconfiguration message includes sl-disconfigug or sl-CommConfig:
2> as specified in 5.3.10.15, performing a side link specific configuration procedure;
1> if the RRCConnectionReconfiguration message includes wlan-OffloadInfo:
2> as specified in 5.6.12.2, performing a dedicated WLAN offload configuration procedure;
1> if the handlewithoutwt-Change is not configured:
2> if configured, release LWA configuration as described in 5.6.14.3;
1> if configured, release LWIP configuration as described in 5.6.17.3;
1> if the RRCConnectionReconfiguration message includes rclwi-Configuration:
2> as specified in 5.6.16.2, performing a WLAN traffic steering command procedure;
1> if the RRCConnectionReconfiguration message includes rwa-Configuration:
2> as specified in 5.6.14.2, performing the LWA configuration procedure;
1> if the RRCConnectionReconfiguration message includes lwip-Configuration:
2> as specified in 5.6.17.2, performing an LWIP reconfiguration procedure;
1> if the rrcconnectionreconfigurability message includes sl-V2X-configdediated or mobilitycontrolinfofv 2X:
2> as specified in 5.3.10.15a, performing a V2X side chain communication dedicated configuration procedure;
Note 2d: in the case of conditional reconfiguration, the text "if received RRCConnectionReconfiguration …" corresponds to the RRCConnectionReconfiguration message stored by the application (according to 5.3.5.9.5).
1> if the UE is configured to operate in EN-DC as a result of this procedure, forwarding the upper layerindication to the higher layer as if the UE received the field from SIB2, otherwise indicating that the higher layer does not have the field;
1> the content of the RRCConnectionReconfigurationComplete message is set as follows:
2> if the UE has available radio link failure or handover failure information in the VarRLF-Report, and if the RPLMN is included in the plmn-identity list stored in the VarRLF-Report:
3> includes rlf-InfoAvailable;
2> if the UE has measurements of MBSFN recordings available for E-UTRA and if the RPLMN is included in the plmn-identity list stored in varlog measreport and if T330 is not running:
3> includes logMeasAvailableMBSFN;
2> otherwise if the UE has recorded measurements available for E-UTRA and if the RPLMN is included in the plmn-identity list stored in varlog measreport:
3> includes logMeasAvailable;
2> if the UE has available bluetooth logged measurements and if the RPLMN is included in the plmn-identity list stored in varlog measreport:
3> includes logMeasAvailableBT;
2> if the UE has measurements of available WLAN records and if the RPLMN is included in the plmn-identity list stored in varlog measreport:
3> includes logMeasAvailableWLAN;
2> if the UE has connection setup failure information available in VarConnEstFailReport and if the RPLMN is equal to plmn-Identity stored in VarConnEstFailReport:
3> includes connEstFailInfoAvailable;
2> if the rrcconnectionreconfigurability message includes perCC-gapiicationrequest:
3> includes perCC-GapIndustionList and numFreqEffect;
2> if the frequency is configured for reduced measurement performance:
3> includes numFreqEffectiveReduced;
2> if the UE has available flight path information:
3> includes flightPathInfoAvailable;
2> if the received RRCConnectionReconfiguration message includes nr-second cellgroupconfig:
3> according to TS 38.331[82], clause 5.3.5.3 includes scg-ConfigResponseNR;
1> submit the RRCConnectionReconfigurationComplete message to the lower layer for transmission;
1> if the MAC successfully completes the random access procedure; or (b)
1> if the MAC indicates that a PDCCH transmission addressed to the C-RNTI was successfully received and if the rach-Skip is configured:
2> stop timer T304;
2> if daps-HO is configured for any DRB:
3> if running, stop timer T310;
3> if running, stop timer T312;
3> triggering UL data handoff for each DAPS bearer, as specified in TS 36.323[8 ];
2> release the rach-Skip;
2> applying the CQI reporting configuration, the scheduling request configuration, and the part of the sounding RS configuration that does not require the UE to know the SFN of the target PCell, if any;
2> when acquiring SFN of the target PCell, applying a part of the measurement and radio resource configuration (e.g., measurement gap, periodic CQI report, scheduling request configuration, sounding RS configuration), if any, that requires the UE to know SFN of the target PCell;
note 3: whenever the UE should set or reconfigure the configuration according to the received fields, it applies the new configuration, except as addressed by the above statements.
2> if the UE is configured to provide IDC indication:
3>if the UE has sent the indevicecodex indication message during the last 1 seconds before receiving the rrcconnectionreconfigurationmessage including the mobilityControlInfo, Or (b)
3>If the UE is receiving a conditional reconfiguration including an RRCConnection reconfiguration message
After which an InDeviceCoexIndustion message is sent:
4> initiate transmission of an indevicecorex message according to 5.6.9.3;
2> if the UE is configured to provide power preference indication, over-temperature assistance information, SPS assistance information, delay budget report, or maximum bandwidth preference indication:
3>if the UE transmitted the UE assurelnformation message during the last 1 seconds before receiving the RRCConnectionReconfiguration message including the mobility control info,or (b)
3>If the UE is receiving a conditional reconfiguration including an RRCConnection reconfiguration message
After which a ueassistance information message is sent:
4> initiating transmission of a ueassistance information message according to 5.6.10.3;
2> if SystemInformationBlockType15 is broadcast by PCell:
3>if the UE has sent the mbmsintereindication message during the last 1 second before receiving the rrcconnectionreconfigurationmessage including the mobilityControlInfo,or (b)
3>If the UE is receiving a conditional reconfiguration including an RRCConnection reconfiguration message
After which an mbmsdefault indication message is sent:
4> ensure that there is a valid version of systemiformationblocktype 15 for PCell;
4> determining a set of MBMS frequencies of interest according to 5.8.5.3;
4> determining the set of MBMS services of interest from 5.8.5.3a;
4> initiating transmission of an mbmsintereindication message according to 5.8.5.4;
2> if SystemInformationBlockType18 is broadcast by the target PCell; and the UE transmits a sidelink information message indicating a change in related sidelink communication related parameters in the target PCell during the last 1 seconds before receiving the RRCConnectionReconfiguration message including the mobilityControlInfo (i.e., a change in commrxointersetfreq or commTxResourceReq, commTxResourceReqUC if systemlnformationblocktype 18 includes commTxResourceUC-ReqAllowed or commTxResourceReqRelay, if the PCell broadcasts systeminfomaformationtype 19 including disconfiguredlay); or (b)
2> if SystemInformationBlockType19 is broadcast by the target PCell; and the UE transmits a sidelink discovery related parameter change in the target PCell during the last 1 second before receiving the RRCConnectionReconfiguration message including the mobilityControlInfo (i.e., if the systemlnformationblocktype 19 includes disconfigps or discorxgapreq or discottxgapreq, if the UE is configured with gapequest sjogdecreed set to true or if the UE is not configured with gapequest sjogdecreed and the systemlnformationblocktype 19 includes gapequest coummon, discongrxintel or discTxResourceReq, discTxResourceReqPS)
2> if SystemInformationBlockType21 is broadcast by the target PCell; and the UE transmits a SidelinkUEInformation message indicating a change in the V2X side link communication related parameters related in the target PCell (i.e., a change in V2X-commrxinteriedfequist or V2X-CommTxResourceReq) during the last 1 seconds before receiving the RRCConnectionReconfiguration message including the mobilityControlInfo:
3>if the UE is receiving a conditional reconfiguration including an RRCConnection reconfiguration message
The SidelinkUEInformation message is then sent as described above:
3> initiating transmission of a SidelinkUEInformation message according to 5.10.2.3;
2> remove all entries (if any) within the varconditional reconfiguration;
2> for each measId configured by source SpCell, if the associated reportConfig is condReconfigurationTriggerEUTRA:
3> remove the entry with matching measId from measIdList within VarMeasConfig;
3> remove the entry with matching reportConfigId from reportConfigList within VarMeasConfig;
3> if measObjectId is included only in MeasIdToAddMod:
4> remove the entry with matching measObjectId from measObjectList within VarMeasConfig;
2> the process ends;
note 4: when the sameSFN-Indication does not exist in the mobile control info, the UE is not required to determine the SFN of the target PCell by acquiring system information from the cell before performing RACH access in the target PCell, except the BL UE or the UE in the CE.
5.3.5.3 receiving RRCRECONfigure by UE
The UE should perform the following actions when receiving the rrcrecon configuration or when performing a conditional reconfiguration (CHO or CPC):
1> if rrcrecon configuration is applied due to conditional reconfiguration execution at cell selection while timer T311 is running, as defined in 5.3.7.3:
2> remove all entries (if any) within varconditional reconfig;
1> if RRCRECONfigure includes daps-sourceRelease:
2> release source SpCell configuration;
2> reset source MAC and release source MAC configuration;
2> for each DAPS bearer:
3> release one or more RLC entities as specified in TS 38.322[4], clause 5.1.3, and associated logical channels for source SpCell;
3> reconfigure PDCP entity to release DAPS as specified in TS 38.323[5 ];
2> for each SRB:
3> PDCP entity releasing source SpCell;
3> release RLC entity as specified in TS 38.322[4], clause 5.1.3, and associated logical channel for source SpCell;
2> physical channel configuration of release source SpCell;
2>discarding the key (K) used in the source SpCell gNB Secret key, K RRCenc Secret key, K RRCint Secret key, K UPint Key and K UPenc Keys), if any;
1> if rrcrecon configuration is received via other RATs (i.e. inter-RAT handover to NR):
2> if rrcrecon configuration does not include fullconfigug and the UE is connected to 5GC (i.e., delta signaling during intra-5 GC):
3> reuse source RAT SDAP and PDCP configurations if available (i.e., current SDAP/PDCP configuration for all RBs from the source E-UTRARAT before receiving the inter-RAT HO RRCReconfiguration message);
1> otherwise:
2> if rrcrecon configuration includes fullconfigug:
3> perform the complete configuration procedure as specified in 5.3.5.11;
1> if rrcrecon configuration includes masterCellGroup:
2> cell group configuration for the received masterCellGroup is performed according to 5.3.5.5;
1> if rrcrecon configuration includes masterKeyUpdate:
2> performing an AS security key update procedure AS specified in 5.3.5.7;
1> if rrcrecon configuration includes sk-Counter:
2> performing a security key renewal process as specified in 5.3.5.7;
1> if rrcrecon configuration includes second cell group:
2> cell group configuration for SCG is performed according to 5.3.5.5;
1> if RRCRECONfigure includes mrdc-second cell GroupConfigure:
2> if mrdc-second cellgroupconfig is set to set:
3> if mrdc-second cell group pconfig includes mrdc-ReleaseAndAdd:
4> performing MR-DC release as specified in clause 5.3.5.10;
3> if the received mrdc-second cell group is set to nr-SCG:
4> performing RRC reconfiguration for the rrcrecon configuration message included in nr-SCG according to 5.3.5.3;
3> if the received mrdc-second cell group is set to eutra-SCG:
4> as specified in TS 36.331[10], clause 5.3.5.3, performing RRC connection reconfiguration for the RRCConnection reconfiguration message included in the eutra-SCG;
2> otherwise (mrdc-second cellgroupconfig set to released):
3> perform MR-DC release as specified in clause 5.3.5.10;
1> if the rrcrecon configuration message includes a radiobearconfig:
2> performing radio bearer configuration according to 5.3.5.6;
1> if the rrcrecon configuration message includes radiobearconfig 2:
2> performing radio bearer configuration according to 5.3.5.6;
1> if the rrcrecon configuration message includes measConfig:
2> performing a measurement configuration procedure as specified in 5.5.2;
1> if the rrcrecon configuration message includes a dedicatedsa-MessageList:
2> forwarding each element of the dedicatedsnas-MessageList to higher layers in the same order as listed;
1> if the RRCRECONfigure message includes a DedimatidSIB 1-Delivery:
2> as specified in 5.2.2.4.2, performing an action upon receipt of SIB 1;
note 0: if the RRCReconfiguration is associated with the MCG and includes the reconfigurationWithSync and the dedocated SIB1-Delivery in the SpCellConfig, then the UE initiates (if needed) a request to acquire the required SIB according to clause 5.2.2.3.5 only after the random access procedure towards the target SpCell is completed.
1> if the rrcrecon configuration message includes a differential systemiformationdelivery:
2> as specified in 5.2.2.4, performing an action upon receipt of the system information;
1> if the rrcrecon configuration message includes a dedicatedponssysinfohendelary:
2> as specified in sub-clause 5.2.2.4.16, performing an action upon receipt of the contained posSIB(s);
1> if the rrcrecon configuration message includes otherConfig:
2> perform other configuration procedures as specified in 5.3.5.9;
1> if the rrcrecon configuration message includes a bp-configuration:
2> performing a BAP configuration procedure as specified in 5.3.5.12;
1> if the rrcrecon configuration message includes iab-IP-address configuration list:
2> if iab-IP-address torrelease list is included:
3> for each IAB-IP-Address index received in IAB-IP-Address ToReleaseList
4> performs a release of the IP address as specified in 5.3.5.12a.1.1;
2> if iab-IP-address toaddmodlist is included:
3> for each IAB-IP-Address index received in IAB-IP-Address ToAddModList
4> performs the IAB IP address addition/update as specified in 5.3.5.12a.1.2;
1> if the rrcrecon configuration message includes a configurationreconfiguration:
2> perform conditional reconfiguration as specified in 5.3.5.13;
1> if the rrcrecon configuration message includes needledforgapcon fignr:
2> if needledforgapcon fignr is set to set:
3> treat itself as measurement gap requirement information configured to provide an NR target frequency band;
2> otherwise:
3> regarding itself as measurement gap requirement information not configured to provide an NR target frequency band;
1> if the rrcrecon configuration message includes sl-configdedicatedtnr:
2> performing a side link specific configuration procedure as specified in 5.3.5.14;
Note 0a: if an sl-ConfigDedieditedNR embedded within the E-UTRA RRCConnectionReconfiguration message is received, the UE does not construct an NRRRCReconfigurationComplete message for the received sl-ConfigDedieditedNR.
1> if the rrcrecon configuration message includes sl-ConfigDedicatedEUTRA-Info:
2> performing a related procedure for V2X side link communication according to TS 36.331[10], clause 5.3.10 and clause 5.5.2;
1> the content of the rrcrecon configuration complete message is set as follows:
2> if rrcrecon configuration includes a masterCellGroup containing reportuplinktxdirect current:
3> includes an uplink txdiectricutentlist for each MCG serving cell with UL;
3> including an uplinkirectrectcurrentbwp-SUL (if any) of each MCG serving cell configured with a SUL carrier in an uplinkTxDirectCurrentList;
2> if rrcrecon configuration includes a second condaryccellgroup containing reportuplinktxdirect current:
3> includes an uplink txdiectricutentlist for each SCG serving cell with UL;
3> including an uplink txdate currenttbwp-SUL (if any) for each SCG serving cell configured with SUL carriers in an uplink txdate currentlist;
2> if the rrcrecon configuration message includes mrdc-second cell group pconfig, where mrdc-second cell group is set to eutra-SCG:
3> including in the eutra-SCG-Response an E-UTRARRCConnectionReconfiguration complete message according to TS 36.331[10] clause 5.3.5.3;
2> if the rrcrecon configuration message includes mrdc-second cellgroupconfig with mrdc-second cellgroup set to nr-SCG:
3> including an rrcrecon configuration complete message in nr-SCG-Response;
2> if the rrcrecon configuration message is included in the rrcreseume message:
3> including the rrcrecoufigurationcomplete message in the nr-SCG-Response within SCG-Response in the rrcrescentecomplete message;
2> if the rrcrecon configuration message is included in the E-UTRA RRCConnectionResume message:
3> including the rrcrecon configuration complete message in the E-UTRA MCG RRC message RRCConnectionResumeComplete according to TS 36.331[10], clause 5.3.3.4 a;
2> if the UE has recorded measurements available for NR and if the RPLMN is included in the plmn-identity list stored in varlog measreport:
3> including logMeasAvailable in the rrcrecnonfigurationcomplete message;
2> if the UE has available bluetooth logged measurements and if the RPLMN is included in the plmn-identity list stored in varlog measreport:
3> including logMeasAvailableBT in the rrcrecnonfigurationcomplete message;
2> if the UE has measurements of available WLAN records and if the RPLMN is included in the plmn-identity list stored in varlog measreport:
3> including the logMeasAvailableWLAN in the rrcrecnonfigurationcomplete message;
2> if the UE has connection establishment failure or connection recovery failure information available in VarConnEstFailReport, and if RPLMN is equal to plmn-Identity stored in VarConnEstFailReport:
3> including connEstFailInfoAvailable in the RRCREConfigurationComplete message;
2> if the rrcrecon configuration message is received in response to the mcgfailurenformation message:
3> clearing the information (if any) included in the VarRLF-Report;
2> if the UE has radio link failure or handover failure information available in VarRLF-Report, and if the RPLMN is included in the plmn-identity list stored in VarRLF-Report; or (b)
2> if the UE has radio link failure or handover failure information available in the VarRLF-Report of TS 36.331[10], and if the UE is able to Report across RAT RLFs, and if the RPLMN is included in the plmn-identity list stored in the VarRLF-Report of TS 36.331[10 ]:
3> including rlf-infoailable in the rrcrecnonfigurationcomplete message;
2> if an rrcrecon configuration message is received via SRB1, but not within mrdc-second cellgroup or E-utrarrcconnection reconfiguration:
3> if the UE is configured to provide measurement gap requirement information for the NR target frequency band:
4> if the rrcrecon configuration message includes a needledforgapconfignr; or (b)
4> if the needledforgasinfonnr information changes compared to the last time the UE reported the information:
5> includes needledforgapsinr and sets the content as follows:
6> including intra-freq-needledforgap and setting intra-frequency measured gap requirement information for each NR serving cell;
6> if the requesterdtargetband filternr is configured, an entry is included in the interFreq-needledfgap for each supported NR band also included in the requesterdtargetband filternr, and gap requirement information is set for the band; otherwise, including an entry in the internetwreq-needledforgap, and setting corresponding gap requirement information for each supported NR frequency band;
1> if the UE is configured with E UTRAnr-second cell GroupConfig ((UE) in EN-DC):
2> if an RRCRECONfigure message is received via E-UTRA SRB1 as specified in TS 36.331[10 ]; or (b)
2> if the rrcrecon configuration message is received via the E-UTRARRC message rrcconnectionreconfigurationwithin the mobilityfrommrcomm;
3> if rrcrecon configuration is applied due to conditional reconfiguration execution:
4> as specified in TS 36.331[10], clause 5.6.2a, the RRCRECONfigure complete message is submitted via E-UTRAMCG embedded in the E-UTRA RRC message ULIFIFORMATION TransferMRDC.
3> otherwise:
4> submitting rrcrecon configuration complete via E-UTRA embedded in E-UTRARRC message RRCConnectionReconfigurationComplete as specified in TS 36.331[10], clause 5.3.5.3/5.3.5.4/5.4.2.3;
3> if reconfigurationWithSync is included in spCellConfig of SCG:
4> initiate a random access procedure on SpCell as specified in TS 38.321[3 ];
3> otherwise:
4> the process ends;
2> if the rrcrecon configuration message is received in nr-second cellgroupconfig in rrcconnectionreconfigurationmessage received via SRB3 within DLInformationTransferMRDC:
3> submitting rrcrecon configuration complete via E-UTRA embedded in E-UTRARRC message RRCConnectionReconfigurationComplete as specified in TS 36.331[10], clause 5.3.5.3/5.3.5.4;
3> if reconfigurationWithSync is included in spCellConfig of SCG:
4> initiate a random access procedure on SpCell as specified in TS 38.321[3 ];
3> otherwise:
4> the process ends;
note 1: the order in which the UE sends the RRCConnectionReconfigurationComplete message and performs the random access procedure to the SCG is left to the UE implementation.
2> otherwise (rrcrecon configuration received via SRB 3) but not within DLInformationTransferMRDC:
3> submit rrcrecon configuration complete message to lower layer via SRB3 for transmission using the new configuration;
note 2: in (NG) EN-DC and NR-DC, random access is triggered by the RRC layer itself in case rrcr configuration is received in DLInformationTransferMRDC via SRB1 or via SRB3, since no other UL transmission has to be present. In the case of rrcrecon configuration received via SRB3 but not in DLInformationTransferMRDC, random access is triggered by the MAC layer due to the arrival of rrcrecon configuration complete.
1> otherwise if an rrcrecon configuration message (UE in NR-DC is received via SRB1 within NR-SCG within mrdc-second-cell group) within rrcrecon configuration is received via SRB 1:
2> if rrcrecon configuration is applied due to conditional reconfiguration execution:
3> as specified in clause 5.7.2a.3, the rrcrecondonfigurationcomplete message is submitted via an NR MCG embedded in the NR RRC message ulinfformationtransfermrdc.
2> if reconfigurationWithSync is included in spCellConfig in nr-SCG:
3> initiating a random access procedure on the PSCell as specified in TS 38.321[3 ];
2> otherwise
3> the process ends;
note 2a: the order in which the UE sends the rrcrecon configuration complete message and performs the random access procedure to the SCG is left to the UE implementation.
1> otherwise if an rrcrecon configuration message (UE in NR-DC) is received via SRB 3:
2> if the rrcrecon configuration message is received in DLInformationTransferMRDC:
3> if an rrcrecon configuration message (NR SCG RRC reconfiguration) is received within NR-SCG within mrdc-second cambercellgroup:
4> if reconfigurationWithSync is included in spCellConfig in nr-SCG:
5> initiating a random access procedure on the PSCell as specified in TS 38.321[3 ];
4> otherwise:
5> the process ends;
3> otherwise:
4> submit an rrcrecon configuration complete message to the lower layer via SRB1 for transmission using the new configuration;
2> otherwise:
3> submit rrcrecon configuration complete message to lower layer via SRB3 for transmission using the new configuration;
1> otherwise (rrcrecon configuration received via SRB 1):
2> submit an rrcrecon configuration complete message to the lower layer via SRB1 for transmission using the new configuration;
2> if this is the first rrcrecon configuration message after successfully completing the RRC reestablishment procedure:
3> resume suspended SRB2 and DRB;
1> if reconfigurationWithSync is included in spCellConfig of MCG or SCG, and when MAC of NR cell group successfully completes the above-triggered random access procedure:
2> stop timer T304 for the cell group;
2> if running, stop timer T310 of source SpCell;
2> apply CSI reporting configuration, scheduling request configuration, and part of sounding RS configuration (if any) that does not require the UE to know SFN of the corresponding target SpCell;
2> when acquiring SFN of the target SpCell, applying a part (e.g. measurement gap, periodic CQI report, scheduling request configuration, sounding RS configuration), if any, of the measurement and radio resource configuration that requires the UE to know SFN of the respective target SpCell;
2> request uplink data handover to PDCP entity for each DRB configured as a DAPS bearer, as specified in TS 38.323[5 ];
2> if reconfigurationWithSync is included in spCellConfig of MCG:
3> if T390 is running:
4> stop timer T390 for all access categories;
4> performs the action as specified in 5.3.14.4.
3> if T350 is running:
4> stop timer T350;
3> if RRCRECONfigure does not include Dedimediated SIB1-Delivery and
3> if the active downlink BWP indicated by the first actiondownlinkbwp-Id of the target SpCell of MCG has a common search space configured by searchspace ib 1:
4> acquiring SIB1 of target SpCell of MCG scheduled as specified in TS 38.213[13 ];
4> when SIB1 is acquired, performing the action specified in clause 5.2.2.4.2;
2> if reconfigurationWithSync is included in spCellConfig of MCG; or:
2> if reconfigurationWithSync is included in the spCellConfig of SCG and CPC is configured
3> remove all entries (if any) within varconditional reconfig;
3> for each measId configured by source SpCell, if the associated reportConfig has reportType set to condtricggerconfig:
4> for associated reportConfigId:
5> remove the entry with matching reportConfigId from reportConfigList within VarMeasConfig;
4> if the associated measObjectId is associated with reportConfig only with reportType set to condTriggerConfig:
5> remove the entry with matching measObjectId from measObjectList within VarMeasConfig;
4> remove the entry with matching measId from measIdList within VarMeasConfig;
2> if reconfigurationWithSync is included in the masterCellGroup or secondaryccellgroup; and is also provided with
2>If the UE sent a UE assistance information message for the corresponding cell group during the last 1 second, and the UE is still configured to provide UE assistance information of interest for the corresponding cell group: or (b)
2>If the UE transmits after receiving a conditional reconfiguration including an RRCRECONfigure message UEAssistance information message for corresponding cell group：
3>Stopping a prohibit timer (if present) associated with the UE assistance information of interest, wherein a timer value is set
Set to the value in the corresponding configuration;
3> initiating transmission of a UE assysistanceinformation message corresponding to the cell group according to clause 5.7.4.3 to provide UE assistance information of interest;
3> start or restart a prohibit timer (if present) associated with the UE assistance information of interest, wherein the timer value is set to a value in the corresponding configuration;
2>If SIB12 is provided by the target PCell; and the UE transmits a sidelinkiformationnr message during the last 1 second before receiving the rrcrecnfiguration message including the recsonfigurationwithsync in the speccellconfig of the MCG, the sidelinkiformationnr message referring toA change in the NR side link communication related parameter related in the target PCell (i.e., a change in sl-rxintersetedfreqlist or sl-TxResourceReqList):or (b)
2>If the UE transmits after receiving a conditional reconfiguration including an RRCRECONfigure message
The SidelinkUEInformationNR message indicating the correlation in the target PCell
Is a change in NR-side link communication-related parameter (i.e., sl-RxIntersetedFreqList or sl-TxResourceReqList)
Changes of (c):
3> initiating transmission of a SidelinkUEInformationNR message according to 5.8.3.3;
2> the process ends.
Note 3: the UE is only required to acquire the broadcast SIB1 if the UE is able to acquire the broadcast SIB1 (i.e., broadcast and unicast beam quasi co-sited) without interrupting unicast data reception.
Note 4: the UE sets the content of the UE assurelnformation according to the latest configuration (i.e., configuration after applying the rrcrecon configuration message) and the latest UE preference. According to 5.7.4.2, the UE may include more UE assistance information than is of interest within the UE assysistaanceinformation. Thus, the content of the ueassistance information message may be dissimilar to the original content.
5.3.5.4 receiving RRCConnection reconfiguration including mobility control info by UE
(switching)
If the rrcconnectionreconfigurability message includes mobilityControlInfo and the UE can conform to the configuration included in the message, the UE should:
1> if no daps-HO is configured for any DRB:
2> if running, stop timer T310;
2> if running, stop timer T312;
2> if timer T316 is running:
3> stop timer T316;
3> clearing the information (if any) included in the VarRLF-Report;
2> if suspended, resume MCG transmission;
1> as included in mobilityControlInfo, start timer T304 with the timer value set to T304;
1> if running, stop timer T370;
1> if carrier freq is included:
2> treat the target PCell as a PCell on a frequency indicated by carrier freq with a physical cell identity indicated by a targetphysiscellid;
1> otherwise:
2> treat the target PCell as a PCell on frequency with the source PCell identified by the physical cell indicated by the targetphysioscellid;
1> if T309 is running:
2> stop timer T309 for all access categories;
2> performs the action as specified in 5.3.16.4.
1> DL to start synchronization to the target PCell;
note 1: the UE should perform the handover as soon as possible after receiving the RRC message triggering the handover, which may be before acknowledging the successful reception of the message (HARQ and ARQ).
1> if BL UE or UE in CE:
2> if the sameSFN-Indication is not present in the mobilityControlInfo:
3> acquiring a masterinformation block in the target PCell;
1> if makeBeforeBreak is configured:
2> performing the rest of the procedure, including resetting the MAC and its following parts after the UE has stopped uplink transmission/downlink reception with the source PCell;
note 1a: if makeBeforeBreak is configured, when to stop uplink transmission/downlink reception with the source PCell to initiate retuning for connection to the target cell depends on the UE implementation, as specified in TS 36.133[16 ].
Note 1b: when to stop uplink transmission/downlink reception with the source SCell(s) after receiving the RRCConnectionReconfiguration message depends on the UE implementation.
1> if daps-HO is configured for any DRB:
2> establishing the MAC entity of the target PCell using the same configuration as the MAC entity of the source PCell;
2> for each DRB configured with daps-HO:
3> establishing one or more RLC entities and associated DTCH logical channels of the target PCell with the same configuration as for the source PCell;
3> reconfigure PDCP entity to configure DAPS as specified in TS 36.323[8 ].
2> for each DRB not configured with daps-HO:
3> reestablishing PDCP;
3> re-establishing the RLC entity and associating it with the associated DTCH logical channel with the target PCell;
2> for each SRB:
3> establishing the PDCP entity of the target PCell using the same configuration as the PDCP entity of the source PCell;
3> establishing RLC entity and associated DCCH logical channel of the target PCell using the same configuration as for the source PCell;
3> suspending SRB of source PCell;
note 1c: to understand whether the daps-HO is configured, the UE needs to check for the presence of the field daps-HO in the received radio ResourceConfigDedimided IE.
1> otherwise (if no daps-HO is configured):
2> if configured, reset MCG MAC and SCG MAC;
2> if configured, release uplinkDataCompression;
2> reestablishing PDCP for all RBs established configured with PDCP-config;
note 2: the handling of radio bearers, SN and HFN after successful completion of PDCP re-establishment (e.g. retransmission of unacknowledged PDCP SDUs (and associated status report)) is specified in TS 36.323[8 ].
Note 2a: at handover, the recesctablishpdcp flag will be set in NR-radio bearconfig 1 or NR-radio bearconfig 2TS 38.331[82] for all RBs configured with NR PDCP, which will cause the PDCP entity to be re-established for these RBs as well.
2> if MCG RLC and SCG RLC are configured, re-establishing MCG RLC and SCG RLC for all RBs established;
1> for each SCell configured for UE except PSCell:
2> if the received RRCConnectionReconfiguration message includes scells and indicates activation:
3> configuring lower layers to treat SCell as being in active state;
2> otherwise if the received RRCConnectionReconfiguration message includes scells and indicates dormant:
3> configuring lower layers to treat SCell as being in dormant state;
2> otherwise:
3> configuring lower layers to treat SCell as being in deactivated state;
1> applying the value of newUE-Identity as C-RNTI in the target MCG;
1> if the RRCConnectionReconfiguration message includes fullconfigug:
2> performing a radio configuration procedure as specified in 5.3.5.8;
1> configuring lower layers according to the received radioResourceConfigCommon;
1> if the received rrcconnectionreconfigurationmessage includes rach-Skip:
2> as specified in TS 36.213[23] and 36.321[6], configuring the lower layers to apply the track-Skip for the target MCG;
1> if included in the received mobilityControlInfo, configuring the lower layer according to any additional fields not previously covered;
1> if the received rrcconnectionreconfigurations include sCellToReleaseList:
2> as specified in 5.3.10.3a, SCell release is performed;
1> if the received rrcconnectionreconfigurability includes sCellGroupToReleaseList:
2> as specified in 5.3.10.3d, performing SCell group release;
1> if the received rrcconnectionreconfigurations include scg-Configuration; or (b)
1> if the current UE configuration includes one or more split DRBs and the received rrcconnectionreconfigurations include radioresourceconfilgdedided (including DRBs-ToAddModList):
2> as specified in 5.3.10.10, performing SCG reconfiguration;
1> if the RRCConnectionReconfiguration message includes radioresourceconfigudded:
2> as specified in 5.3.10, performing a radio resource configuration procedure;
1> if SecurityConfigHO (without suffix) is included in RRCConnection Reconfiguration:
2> if the keyChangeIndicator received in the SecurityConfigHO is set to true:
3>Such as TS 33.401[32 ]]Based on K used with the latest successful NAS SMC procedure ASME Secret key to update K eNB A secret key;
2> otherwise:
3>such as TS 33.401[32 ]]Using the nextHopChainingCount value indicated in the SecurityConfigHO, based on the current K eNB Or NH update K eNB A secret key;
note 2b: if the UE needs to update the S-K as specified in 5.3.10.10 eNB Key, then UE is updating K eNB Updating S-K after key eNB 。
2> store the nextHopChainingCount value;
2> if securityAlgorithmConfig is included in securityConfigHO:
3>deriving correlations to integritprotAlgorithmK of the Union RRCint Keys, e.g. TS 33.401[32 ]]As specified in (a);
3> if connected as RN:
4>deriving K associated with integritprotAlgorithm UPint Keys, e.g. TS 33.401[32 ]]As specified in (a);
3>deriving K associated with ciphering Algorithm RRCenc Key and K UPenc Keys, e.g. TS 33.401[32 ]]As specified in (a);
2> otherwise:
3>deriving K associated with a current integrity algorithm RRCint Keys, e.g. TS 33.401[32 ]]As specified in (a);
3> if connected as RN:
4>deriving K associated with a current integrity algorithm UPint Keys, e.g. TS 33.401[32 ]]As specified in (a);
3>deriving K associated with a current encryption algorithm RRCenc Key and K UPenc Keys, e.g. TS 33.401[32 ]]As specified in (a);
2>configuring lower layers to apply integrity protection algorithm and K RRCint The key, i.e. the integrity protection configuration, should be applied to all subsequent messages received and sent by the UE, including a message indicating that the procedure was successfully completed;
2>configuring lower layers to apply encryption algorithm, K RRCenc Key and K UPenc The key, i.e. the ciphering configuration, should be applied to all subsequent messages received and sent by the UE, including a message indicating that the procedure was successfully completed;
note 2c: for DRB configured for DAPS HO, new encryption algorithm and K UPenc The key is applied to the traffic exchange between the UE and the target MCG, while the old encryption algorithm and K UPenc The key is applied to the traffic exchange between the UE and the source MCG.
1> otherwise if securityConfigHO-v1530 is included in rrcconnectionreconfigurations:
2> if nas-content is received:
3> forwarding the nas-Container to higher layers;
2> if keyChangeIndextor-r 15 is received and set to true:
3>such as TS 33.501[86 ]]Based on K as specified in AMF Key update K eNB A secret key;
2> otherwise:
3>such as TS 33.501[86 ]]Using received nextHopchaiiningCount-r 15, based on current K eNB Or NH update K eNB A secret key;
2> store the nextHopChaiiningCount-r 15 value;
2> if a security AlgorithmConfig-r15 is received:
3>deriving K associated with integritprotAlgorithm RRCint Keys, e.g. TS 33.401[32 ]]As specified in (a);
3>deriving K associated with ciphering Algorithm RRCenc Key and K UPenc Keys, e.g. TS 33.401[32 ]]As specified in (a);
2> otherwise:
3>deriving K associated with a current integrity algorithm RRCint Keys, e.g. TS 33.401[32 ]]As specified in (a);
3>deriving K associated with a current encryption algorithm RRCenc Key and K UPenc Keys, e.g. TS 33.401[32 ]]As specified in (a);
1> if the received RRCConnectionReconfiguration includes nr-Config and it is set to release; or (b)
1> if the received rrcconnectionreconfigurability includes the endc-releasenaddd and it is set to true:
2> performing MR-DC release as specified in TS 38.331[82], clause 5.3.5.10;
1> if the received rrcconnectionreconfigurability includes sk-Counter:
2> as specified in TS 38.331[82], clause 5.3.5.7, performing a key renewal process;
1> if the received rrcconnectionreconfigurability includes nr-second cellgroupconfig:
2> NR RRC reconfiguration is performed as specified in TS 38.331[82], clause 5.3.5.3.
1> if the received RRCConnectionReconfiguration includes nr-radio bearrerconfig 1:
2> performing radio bearer configuration as specified in TS 38.331[82], clause 5.3.5.6;
1> if the received RRCConnectionReconfiguration includes nr-radio bearrerconfig 2:
2> radio bearer configuration is performed as specified in TS 38.331[82], clause 5.3.5.6.
1> if connected as RN:
2>for a currently or subsequently established DRB configured to apply integrity protection, configuring lower layers to apply an integrity protection algorithm and K UPint A key, if any;
1> if the received rrcconnectionreconfigurability includes sCellToAddModList:
2> as specified in 5.3.10.3b, performing SCell addition or modification;
1> if the received rrcconnectionreconfigurability includes scellgrouptaddmodlist:
2> as specified in 5.3.10.3e, performing SCell group addition or modification;
1> if the received rrcconnectionreconfigurability includes systemInformationBlockType1Dedicated:
2> as specified in 5.2.2.7, performing an action upon receipt of a SystemInformationBlockType1 message;
1> as specified in 5.5.6.1, performing a measurement-related action;
1> if the RRCConnectionReconfiguration message includes measConfig:
2> as specified in 5.5.2, performing a measurement configuration procedure;
1> performing measurement identity autonomous removal as specified in 5.5.2.2a;
1> release reportProximityConfig and clear any associated neighbor status report timers;
1> if the RRCConnectionReconfiguration message includes otherConfig:
2> as specified in 5.3.10.9, performing other configuration procedures;
1> if the RRCConnectionReconfiguration message includes sl-disconfigug or sl-CommConfig:
2> as specified in 5.3.10.15, performing a side link specific configuration procedure;
1> if the RRCConnectionReconfiguration message includes wlan-OffloadInfo:
2> as specified in 5.6.12.2, performing a dedicated WLAN offload configuration procedure;
1> if HandoverWithOutWT-Change is not configured:
2> if configured, release LWA configuration as described in 5.6.14.3;
1> if configured, release LWIP configuration as described in 5.6.17.3;
1> if the RRCConnectionReconfiguration message includes rclwi-Configuration:
2> as specified in 5.6.16.2, performing a WLAN traffic steering command procedure;
1> if the RRCConnectionReconfiguration message includes lwa configuration:
2> as specified in 5.6.14.2, performing the LWA configuration procedure;
1> if the RRCConnectionReconfiguration message includes lwip-Configuration:
2> as specified in 5.6.17.2, performing an LWIP reconfiguration procedure;
1> if the rrcconnectionreconfigurability message includes sl-V2X-configdediated or mobilitycontrolinfofv 2X:
2> as specified in 5.3.10.15a, performing a V2X side chain communication dedicated configuration procedure;
note 2d: in the case of conditional reconfiguration, the text "if received RRCConnectionReconfiguration …" corresponds to the RRCConnectionReconfiguration message stored by the application (according to 5.3.5.9.5).
1> if the UE is configured to operate in EN-DC as a result of this procedure, forwarding the upper layerindication to the higher layer as if the UE received the field from SIB2, otherwise indicating that the higher layer does not have the field;
1> the content of the RRCConnectionReconfigurationComplete message is set as follows:
2> if the UE has radio link failure or handover failure information available in VarRLF-Report, and if the RPLMN is included in the plmn-identity list stored in VarRLF-Report:
3> includes rlf-InfoAvailable;
2> if the UE has measurements of MBSFN recordings available for E-UTRA, and if the RPLMN is included in the plmn-identity list stored in varlog measreport, and if T330 is not running:
3> includes logMeasAvailableMBSFN;
2> otherwise if the UE has recorded measurements available for E-UTRA and if the RPLMN is included in the plmn-identity list stored in varlog measreport:
3> includes logMeasAvailable;
2> if the UE has available bluetooth logged measurements and if the RPLMN is included in the plmn-identity list stored in varlog measreport:
3> includes logMeasAvailableBT;
2> if the UE has measurements of available WLAN records and if the RPLMN is included in the plmn-identity list stored in varlog measreport:
3> includes logMeasAvailableWLAN;
2> if the UE has connection setup failure information available in VarConnEstFailReport and if the RPLMN is equal to plmn-Identity stored in VarConnEstFailReport:
3> includes connEstFailInfoAvailable;
2> if the rrcconnectionreconfigurability message includes perCC-gapiicationrequest:
3> includes perCC-GapIndustionList and numFreqEffect;
2> if the frequency is configured for reduced measurement performance:
3> includes numFreqEffectiveReduced;
2> if the UE has available flight path information:
3> includes flightPathInfoAvailable;
2> if the received RRCConnectionReconfiguration message includes nr-second cellgroupconfig:
3> according to TS 38.331[82], clause 5.3.5.3, including scg-ConfigResponseNR;
1> submit the RRCConnectionReconfigurationComplete message to the lower layer for transmission;
1> if the MAC successfully completes the random access procedure; or (b)
1> if the MAC indicates that a PDCCH transmission addressed to the C-RNTI was successfully received and if the rach-Skip is configured:
2> stop timer T304;
2> if daps-HO is configured for any DRB:
3> if running, stop timer T310;
3> if running, stop timer T312;
3> triggering UL data handoff for each DAPS bearer, as specified in TS 36.323[8 ];
2> release the rach-Skip;
2> applying the CQI reporting configuration, the scheduling request configuration, and the part of the sounding RS configuration that does not require the UE to know the SFN of the target PCell, if any;
2> when acquiring SFN of the target PCell, applying a part of the measurement and radio resource configuration (e.g., measurement gap, periodic CQI report, scheduling request configuration, sounding RS configuration), if any, that requires the UE to know SFN of the target PCell;
note 3: whenever the UE should set or reconfigure the configuration according to the received fields, it applies the new configuration, except as addressed by the above statements.
2> if the UE is configured to provide IDC indication:
3>if the UE is during the last 1 second before receiving the RRCConnection reconfiguration message including the mobility control infoOr in performing conditional reconfiguration including rrcconnectionreconfigurations messages During the last 1 second before new configurationAn InDeviceCoexIndustion message has been sent:
4> initiate transmission of an indevicecorex message according to 5.6.9.3;
2> if the UE is configured to provide power preference indication, over-temperature assistance information, SPS assistance information, delay budget report, or maximum bandwidth preference indication:
3>if the UE is during the last 1 second before receiving the RRCConnection reconfiguration message including the mobility control infoOr in performing conditional reconfiguration including rrcconnectionreconfigurations messages During the last 1 second before new configurationA ueassistance information message has been sent:
4> initiating transmission of a ueassistance information message according to 5.6.10.3;
2> if SystemInformationBlockType15 is broadcast by PCell:
3>if the UE is receivingOr performThe mbmsintelesentatindication message has been sent during the last 1 second preceding the rrcconnectionreconfigurationmessage including mobilityControlInfo:
4> ensure an active version of SystemInformationBlockType15 with PCell;
4> determining a set of MBMS frequencies of interest according to 5.8.5.3;
4> determining the set of MBMS services of interest from 5.8.5.3a;
4> initiating transmission of an mbmsintereindication message according to 5.8.5.4;
2>if the SystemInformationBlockType18 is broadcast by the target PCell; and the UE is receiving an rrcconnectionreconfigurationmessage including a mobilityControlInfoOr perform and includeThe RRCConnection reconfiguration message includesCondition reconfigurationThe SidelinkUEI was sent during the last 1 second beforeAn information message indicating a change in related side link communication related parameters in the target PCell (i.e., a change in commrx interlineate freq or commTxResourceReq, commTxResourceReqUC if systeminformationblock type18 includes commTxResourceUC-ReqAllowed or commTxResourceReqRelay if the PCell broadcasts SystemInformationBlockType19 including disconfigurrelay; or (b)
2> if SystemInformationBlockType19 is broadcast by the target PCell; and the UE transmits a sidelink discovery information message indicating a change in related sidelink discovery related parameters in the target PCell during the last 1 second before receiving the RRCConnectionReconfiguration message including the mobilityControlInfo or during the last 1 second before performing the conditional reconfiguration including the RRCConnectionReconfiguration message (i.e., a change in sidelink discovery related parameters if systemiformationblocktype 19 includes disconfigps or discorxgapreq or discottxgapreq, if the UE is configured with gapbestsastdecreed set to true or if the UE is not configured with gapbestsastdecdecdectyset and systemiformationblockcommand 19 includes gapbessediscommon, or discTxResourceReq, discTxResourceReqPS); or (b)
2> if SystemInformationBlockType21 is broadcast by the target PCell; and the UE transmits a sidelink information message indicating a change of the relevant V2X sidelink communication related parameter (i.e., a change of V2X-Commrxinterlineartqlist or V2X-Commtxresource req) in the target PCell during the last 1 seconds before receiving the RRCConnectionReconfiguration message including the mobility control info or during the last 1 seconds before performing the conditional reconfiguration including the RRCConnectionReconfiguration message:
3> initiating transmission of a SidelinkUEInformation message according to 5.10.2.3;
2> remove all entries (if any) within the varconditional reconfiguration;
2> for each measId configured by source SpCell, if the associated reportConfig is condReconfigurationTriggerEUTRA:
3> remove the entry with matching measId from measIdList within VarMeasConfig;
3> remove the entry with matching reportConfigId from reportConfigList within VarMeasConfig;
3> if measObjectId is included only in MeasIdToAddMod:
4> remove the entry with matching measObjectId from measObjectList within VarMeasConfig;
2> the process ends;
note 4: when the sameSFN-Indication does not exist in the mobile control info, the UE is not required to determine the SFN of the target PCell by acquiring system information from the cell before performing RACH access in the target PCell, except the BL UE or the UE in the CE.
5.3.5.3 receiving RRCRECONfigure by UE
The UE should perform the following actions when receiving the rrcrecon configuration or when performing a conditional reconfiguration (CHO or CPC):
1> if rrcrecon configuration is applied due to conditional reconfiguration execution at cell selection while timer T311 is running, as defined in 5.3.7.3:
2> remove all entries (if any) within varconditional reconfig;
1> if RRCRECONfigure includes daps-sourceRelease:
2> release source SpCell configuration;
2> reset source MAC and release source MAC configuration;
2> for each DAPS bearer:
3> release one or more RLC entities as specified in TS 38.322[4], clause 5.1.3, and associated logical channels for source SpCell;
3> reconfigure PDCP entity to release DAPS as specified in TS 38.323[5 ];
2> for each SRB:
3> PDCP entity releasing source SpCell;
3> release RLC entity as specified in TS 38.322[4], clause 5.1.3, and associated logical channel for source SpCell;
2> physical channel configuration of release source SpCell;
2>discarding the key (K) used in the source SpCell gNB Secret key, K RRCenc Secret key, K RRCint Secret key, K UPint Key and K UPenc Keys), if any;
1> if rrcrecon configuration is received via other RATs (i.e. inter-RAT handover to NR):
2> if rrcrecon configuration does not include fullconfigug and the UE is connected to 5GC (i.e., delta signaling during intra-5 GC):
3> reuse source RAT SDAP and PDCP configurations if available (i.e., current SDAP/PDCP configuration for all RBs from the source E-UTRARAT before receiving the inter-RAT HO RRCReconfiguration message);
1> otherwise:
2> if rrcrecon configuration includes fullconfigug:
3> as specified in 5.3.5.11, performing a complete configuration procedure;
1> if rrcrecon configuration includes masterCellGroup:
2> cell group configuration for the received masterCellGroup is performed according to 5.3.5.5;
1> if rrcrecon configuration includes masterKeyUpdate:
2> performing an AS security key update procedure AS specified in 5.3.5.7;
1> if rrcrecon configuration includes sk-Counter:
2> performing a security key renewal process as specified in 5.3.5.7;
1> if rrcrecon configuration includes second cell group:
2> cell group configuration for SCG is performed according to 5.3.5.5;
1> if RRCRECONfigure includes mrdc-second cell GroupConfigure:
2> if mrdc-second cellgroupconfig is set to set:
3> if mrdc-second cell group pconfig includes mrdc-ReleaseAndAdd:
4> performing MR-DC release as specified in clause 5.3.5.10;
3> if the received mrdc-second cell group is set to nr-SCG:
4> performing RRC reconfiguration for the rrcrecon configuration message included in nr-SCG according to 5.3.5.3;
3> if the received mrdc-second cell group is set to eutra-SCG:
4> as specified in TS 36.331[10], clause 5.3.5.3, performing RRC connection reconfiguration for the RRCConnection reconfiguration message included in the eutra-SCG;
2> otherwise (mrdc-second cellgroupconfig set to released):
3> performing MR-DC release as specified in clause 5.3.5.10;
1> if the rrcrecon configuration message includes a radiobearconfig:
2> performing radio bearer configuration according to 5.3.5.6;
1> if the rrcrecon configuration message includes radiobearconfig 2:
2> performing radio bearer configuration according to 5.3.5.6;
1> if the rrcrecon configuration message includes measConfig:
2> as specified in 5.5.2, performing a measurement configuration procedure;
1> if the rrcrecon configuration message includes a dedicatedsa-MessageList:
2> forwarding each element of the dedicatedsnas-MessageList to higher layers in the same order as listed;
1> if the RRCRECONfigure message includes a DedimatidSIB 1-Delivery:
2> as specified in 5.2.2.4.2, performing an action upon receipt of SIB 1;
note 0: if the RRCReconfiguration is associated with the MCG and includes the reconfigurationWithSync and the dedocated SIB1-Delivery in the SpCellConfig, then the UE initiates (if needed) a request to acquire the required SIB according to clause 5.2.2.3.5 only after the random access procedure towards the target SpCell is completed.
1> if the rrcrecon configuration message includes a differential systemiformationdelivery:
2> as specified in 5.2.2.4, performing an action upon receipt of the system information;
1> if the rrcrecon configuration message includes a dedicatedponssysinfohendelary:
2> as specified in sub-clause 5.2.2.4.16, performing an action upon receipt of the contained posSIB(s);
1> if the rrcrecon configuration message includes otherConfig:
2> as specified in 5.3.5.9, performing other configuration procedures;
1> if the rrcrecon configuration message includes a bp-configuration:
2> as specified in 5.3.5.12, performing a BAP configuration procedure;
1> if the rrcrecon configuration message includes iab-IP-address configuration list:
2> if iab-IP-address torrelease list is included:
3> for each IAB-IP-Address index received in IAB-IP-Address ToReleaseList
4> as specified in 5.3.5.12a.1.1, performing a release of the IP address;
2> if iab-IP-address toaddmodlist is included:
3> for each IAB-IP-Address index received in IAB-IP-Address ToAddModList
4> as specified in 5.3.5.12a.1.2, performing IAB IP address addition/update;
1> if the rrcrecon configuration message includes a configurationreconfiguration:
2> as specified in 5.3.5.13, conditional reconfiguration is performed;
1> if the rrcrecon configuration message includes needledforgapcon fignr:
2> if needledforgapcon fignr is set to set:
3> treat itself as measurement gap requirement information configured to provide an NR target frequency band;
2> otherwise:
3> regarding itself as measurement gap requirement information not configured to provide an NR target frequency band;
1> if the rrcrecon configuration message includes sl-configdedicatedtnr:
2> as specified in 5.3.5.14, performing a side link specific configuration procedure;
note 0a: if an sl-ConfigDedieditedNR embedded within the E-UTRA RRCConnectionReconfiguration message is received, the UE does not construct an NRRRCReconfigurationComplete message for the received sl-ConfigDedieditedNR.
1> if the rrcrecon configuration message includes sl-ConfigDedicatedEUTRA-Info:
2> performing a related procedure for V2X side link communication according to TS 36.331[10], clause 5.3.10 and clause 5.5.2;
1> the content of the rrcrecon configuration complete message is set as follows:
2> if rrcrecon configuration includes a masterCellGroup containing reportuplinktxdirect current:
3> includes an uplink txdiectricutentlist for each MCG serving cell with UL;
3> including an uplinkirectrectcurrentbwp-SUL (if any) of each MCG serving cell configured with a SUL carrier in an uplinkTxDirectCurrentList;
2> if rrcrecon configuration includes a second condaryccellgroup containing reportuplinktxdirect current:
3> includes an uplink txdiectricutentlist for each SCG serving cell with UL;
3> including an uplink txdate currentbwp-SUL (if any) of each SCG serving cell configured with a SUL carrier in an uplink txdate currentlist;
2> if the rrcrecon configuration message includes mrdc-second cell group pconfig, where mrdc-second cell group is set to eutra-SCG:
3> including in the eutra-SCG-Response an E-UTRARRCConnectionReconfiguration complete message according to TS 36.331[10] clause 5.3.5.3;
2> if the rrcrecon configuration message includes mrdc-second cellgroupconfig with mrdc-second cellgroup set to nr-SCG:
3> including an rrcrecon configuration complete message in nr-SCG-Response;
2> if the rrcrecon configuration message is included in the rrcreseume message:
3> including the rrcrecoufigurationcomplete message in the nr-SCG-Response within SCG-Response in the rrcrescentecomplete message;
2> if the rrcrecon configuration message is included in the E-UTRA RRCConnectionResume message:
3> including the rrcrecon configuration complete message in the E-UTRA MCG RRC message RRCConnectionResumeComplete according to TS 36.331[10], clause 5.3.3.4 a;
2> if the UE has recorded measurements available for NR and if the RPLMN is included in the plmn-identity list stored in varlog measreport:
3> including logMeasAvailable in the rrcrecnonfigurationcomplete message;
2> if the UE has available bluetooth logged measurements and if the RPLMN is included in the plmn-identity list stored in varlog measreport:
3> including logMeasAvailableBT in the rrcrecnonfigurationcomplete message;
2> if the UE has measurements of available WLAN records and if the RPLMN is included in the plmn-identity list stored in varlog measreport:
3> including the logMeasAvailableWLAN in the rrcrecnonfigurationcomplete message;
2> if the UE has connection establishment failure or connection recovery failure information available in VarConnEstFailReport, and if RPLMN is equal to plmn-Identity stored in VarConnEstFailReport:
3> including connEstFailInfoAvailable in the RRCREConfigurationComplete message;
2> if the rrcrecon configuration message is received in response to the mcgfailurenformation message:
3> clearing the information (if any) included in the VarRLF-Report;
2> if the UE has radio link failure or handover failure information available in VarRLF-Report, and if the RPLMN is included in the plmn-identity list stored in VarRLF-Report; or (b)
2> if the UE has radio link failure or handover failure information available in the VarRLF-Report of TS 36.331[10], and if the UE is able to Report across RAT RLFs, and if the RPLMN is included in the plmn-identity list stored in the VarRLF-Report of TS 36.331[10 ]:
3> including rlf-infoailable in the rrcrecnonfigurationcomplete message;
2> if an rrcrecon configuration message is received via SRB1, but not within mrdc-second cellgroup or E-utrarrcconnection reconfiguration:
3> if the UE is configured to provide measurement gap requirement information for the NR target frequency band:
4> if the rrcrecon configuration message includes a needledforgapconfignr; or (b)
4> if the needledforgasinfonnr information changes compared to the last time the UE reported the information:
5> includes needledforgapsinr and sets the content as follows:
6> including intra-freq-needledforgap and setting intra-frequency measured gap requirement information for each NR serving cell;
6> if the requesterdtargetband filternr is configured, an entry is included in the interFreq-needledfgap for each supported NR band also included in the requesterdtargetband filternr, and gap requirement information is set for the band; otherwise, including an entry in the internetwreq-needledforgap, and setting corresponding gap requirement information for each supported NR frequency band;
1> if the UE is configured with E UTRAnr-second cell GroupConfig ((UE) in EN-DC):
2> if an RRCRECONfigure message is received via E-UTRA SRB1 as specified in TS 36.331[10 ]; or (b)
2> if the rrcrecon configuration message is received via the E-UTRARRC message rrcconnectionreconfigurationwithin the mobilityfrommrcomm;
3> if rrcrecon configuration is applied due to conditional reconfiguration execution:
4> as specified in TS 36.331[10], clause 5.6.2a, the RRCRECONfigure complete message is submitted via E-UTRAMCG embedded in the E-UTRA RRC message ULIFIFORMATION TransferMRDC.
3> otherwise:
4> submitting rrcrecon configuration complete via E-UTRA embedded in E-UTRARRC message RRCConnectionReconfigurationComplete as specified in TS 36.331[10], clause 5.3.5.3/5.3.5.4/5.4.2.3;
3> if reconfigurationWithSync is included in spCellConfig of SCG:
4> initiate a random access procedure on SpCell as specified in TS 38.321[3 ];
3> otherwise:
4> the process ends;
2> if the rrcrecon configuration message is received in nr-second cellgroupconfig in rrcconnectionreconfigurationmessage received via SRB3 within DLInformationTransferMRDC:
3> submitting rrcrecon configuration complete via E-UTRA embedded in E-UTRARRC message RRCConnectionReconfigurationComplete as specified in TS 36.331[10], clause 5.3.5.3/5.3.5.4;
3> if reconfigurationWithSync is included in spCellConfig of SCG:
4> initiate a random access procedure on SpCell as specified in TS 38.321[3 ];
3> otherwise:
4> the process ends;
note 1: the order in which the UE sends the RRCConnectionReconfigurationComplete message and performs the random access procedure to the SCG is left to the UE implementation.
2> otherwise (rrcrecon configuration received via SRB 3) but not within DLInformationTransferMRDC:
3> submit rrcrecon configuration complete message to lower layer via SRB3 for transmission using the new configuration;
note 2: in (NG) EN-DC and NR-DC, random access is triggered by the RRC layer itself in case rrcr configuration is received in DLInformationTransferMRDC via SRB1 or via SRB3, since no other UL transmission has to be present. In the case of rrcrecon configuration received via SRB3 but not in DLInformationTransferMRDC, random access is triggered by the MAC layer due to the arrival of rrcrecon configuration complete.
1> otherwise if rrcrecon configuration message (UE in NR-DC) is received in NR-SCG within mrdc-second configuration cell group via SRB1, mrdc-second configuration cell group is received in rrcrecon configuration via SRB 1):
2> if rrcrecon configuration is applied due to conditional reconfiguration execution:
3> as specified in clause 5.7.2a.3, the rrcrecondonfigurationcomplete message is submitted via an NR MCG embedded in the NR RRC message ulinfformationtransfermrdc.
2> if reconfigurationWithSync is included in spCellConfig in nr-SCG:
3> initiating a random access procedure on the PSCell as specified in TS 38.321[3 ];
2> otherwise
3> the process ends;
note 2a: the order in which the UE sends the rrcrecon configuration complete message and performs the random access procedure to the SCG is left to the UE implementation.
1> otherwise if an rrcrecon configuration message (UE in NR-DC) is received via SRB 3:
2> if the rrcrecon configuration message is received in DLInformationTransferMRDC:
3> if an rrcrecon configuration message (NR SCG RRC reconfiguration) is received within NR-SCG within mrdc-second cambercellgroup:
4> if reconfigurationWithSync is included in spCellConfig in nr-SCG:
5> initiating a random access procedure on the PSCell as specified in TS 38.321[3 ];
4> otherwise:
5> the process ends;
3> otherwise:
4> submit an rrcrecon configuration complete message to the lower layer via SRB1 for transmission using the new configuration;
2> otherwise:
3> submit rrcrecon configuration complete message to lower layer via SRB3 for transmission using the new configuration;
1> otherwise (rrcrecon configuration received via SRB 1):
2> submit an rrcrecon configuration complete message to the lower layer via SRB1 for transmission using the new configuration;
2> if this is the first rrcrecon configuration message after successfully completing the RRC reestablishment procedure:
3> resume suspended SRB2 and DRB;
1> if reconfigurationWithSync is included in spCellConfig of MCG or SCG, and when MAC of NR cell group successfully completes the above-triggered random access procedure:
2> stop timer T304 for the cell group;
2> if running, stop timer T310 of source SpCell;
2> apply CSI reporting configuration, scheduling request configuration, and part of sounding RS configuration (if any) that does not require the UE to know SFN of the corresponding target SpCell;
2> when acquiring SFN of the target SpCell, applying a part (e.g. measurement gap, periodic CQI report, scheduling request configuration, sounding RS configuration), if any, of the measurement and radio resource configuration that requires the UE to know SFN of the respective target SpCell;
2> request uplink data handover to PDCP entity for each DRB configured as a DAPS bearer, as specified in TS 38.323[5 ];
2> if reconfigurationWithSync is included in spCellConfig of MCG:
3> if T390 is running:
4> stop timer T390 for all access categories;
4> performs the action as specified in 5.3.14.4.
3> if T350 is running:
4> stop timer T350;
3> if RRCRECONfigure does not include Dedimediated SIB1-Delivery and
3> if the active downlink BWP indicated by the first actiondownlinkbwp-Id of the target SpCell of MCG has a common search space configured by searchspace ib 1:
4> acquiring SIB1 of target SpCell of MCG scheduled as specified in TS 38.213[13 ];
4> when SIB1 is acquired, performing the action specified in clause 5.2.2.4.2;
2> if reconfigurationWithSync is included in spCellConfig of MCG; or:
2> if reconfigurationWithSync is included in the spCellConfig of SCG and CPC is configured
3> remove all entries (if any) within varconditional reconfig;
3> for each measId configured by source SpCell, if the associated reportConfig has reportType set to condtricggerconfig:
4> for associated reportConfigId:
5> remove the entry with matching reportConfigId from reportConfigList within VarMeasConfig;
4> if the associated measObjectId is associated with reportConfig only with reportType set to condTriggerConfig:
5> remove the entry with matching measObjectId from measObjectList within VarMeasConfig;
4> remove the entry with matching measId from measIdList within VarMeasConfig;
2> if reconfigurationWithSync is included in the masterCellGroup or secondaryccellgroup; and
2>if the UE is inReceiving a reconfigurationWithSync including the spCellConfig Preceding the RRCRECONfigure messageDuring the last 1 second of (2)Or in executing a message including RRCRECONfigure During the last 1 second prior to conditional reconfigurationA UE assysistaceinformation message for the corresponding cell group is sent and the UE is still configured to provide UE assistance information for the interest of the corresponding cell group:
3>stopping a prohibit timer (if present) associated with the UE assistance information of interest, wherein a timer value is set
Set to the value in the corresponding configuration;
3> initiating transmission of a UE assysistanceinformation message corresponding to the cell group according to clause 5.7.4.3 to provide UE assistance information of interest;
3> start or restart a prohibit timer (if present) associated with the UE assistance information of interest, wherein the timer value is set to a value in the corresponding configuration;
2>If SIB12 is provided by the target PCell; and the UE is during the last 1 second before receiving the rrcrecnonfiguration message including the reconfigurationWithSync in the speccellconfiguration of MCGOr in executing a package Including the last 1 second period prior to conditional reconfiguration of the rrcrecon configuration messageA sidelinelnfo information NR message is sent indicating a change in the relevant NR side link communication related parameters in the target PCell (i.e., a change in sl-rxinteretedfequist or sl-TxResourceReqList):
3> initiating transmission of a SidelinkUEInformationNR message according to 5.8.3.3;
2> the process ends.
Note 3: the UE is only required to acquire the broadcast SIB1 if the UE is able to acquire the broadcast SIB1 (i.e., broadcast and unicast beam quasi co-sited) without interrupting unicast data reception.
Note 4: the UE sets the content of the UE assurelnformation according to the latest configuration (i.e., configuration after applying the rrcrecon configuration message) and the latest UE preference. According to 5.7.4.2, the UE may include more UE assistance information than is of interest within the UE assysistaanceinformation. Thus, the content of the ueassistance information message may be dissimilar to the original content.
The following example list reflects various embodiments explicitly contemplated by the present disclosure:
Example 1. A method in a user equipment, UE, in communication with a radio access network, RAN, the method comprising: receiving a conditional configuration of a conditional mobility procedure and a corresponding condition from the RAN, wherein the corresponding condition is to be met before the UE is able to communicate with a candidate node of the RAN using the conditional configuration; after receiving the conditional configuration and the corresponding conditions, transmitting UE information to the RAN, the UE information including information indicating preferences or conditions of the UE; after sending the UE information to the RAN, determining, by processing hardware of the UE, that the corresponding condition is satisfied; and after determining that the corresponding condition is satisfied, transmitting the UE information again to the RAN.
Example 2. The method of example 1, wherein: the conditional mobility procedure is a conditional handover; the candidate node is a candidate base station; the receiving conditional configuration and corresponding conditions includes: receiving a conditional configuration and corresponding conditions from a source base station; transmitting the UE information to the RAN includes transmitting the UE information to a source base station; and again transmitting the UE information to the RAN includes transmitting the UE information to the candidate base station.
Example 3. The method of example 1, wherein: the conditional mobility procedure is a conditional handover between distributed units DUs of the distributed base station; the candidate nodes are candidate DUs of the distributed base station; the receiving conditional configuration and corresponding conditions includes: receiving a conditional configuration and corresponding conditions from a source DU of the distributed base station; transmitting UE information to the RAN includes transmitting UE information to a source DU; and again transmitting UE information to the RAN includes transmitting UE information to the candidate DUs.
Example 4. The method of example 1, wherein: the conditional mobility procedure is a conditional secondary node SN addition or change procedure; the candidate node is a candidate SN; the receiving conditional configuration and corresponding conditions includes: receiving a conditional configuration and corresponding conditions from a master node MN; transmitting UE information to the RAN includes transmitting UE information to the MN; and again sending the UE information to the RAN includes sending the UE information to the MN for forwarding to the candidate SN.
Example 5. The method of example 1, wherein: the conditional mobility procedure is a conditional secondary node SN change procedure; the candidate node is a candidate SN; the receiving conditional configuration and corresponding conditions includes: receiving a conditional configuration and corresponding conditions from a master node MN; transmitting the UE information to the RAN includes transmitting the UE information to a source SN of the RAN; and again transmitting the UE information to the RAN includes transmitting the UE information to the candidate SN.
Example 6 the method of any one of examples 1-5, wherein the UE information includes a preferred configuration of the UE.
Example 7 the method of any one of examples 1-5, wherein the UE information indicates another communication technology being used by the UE, resources being used by the UE for the other communication technology, and/or resources affected by the other communication technology.
Example 8 the method of any one of examples 1-5, wherein the UE information indicates a service preferred or in use by the UE.
Example 9 the method of any one of examples 1-5, wherein the UE information comprises side link information.
Example 10 the method of any one of examples 1-5, further comprising: determining, by the processing hardware, that a condition is met, wherein sending UE information to the RAN is responsive to determining that the condition is met; and re-determining, by the processing hardware, that the condition is met, wherein re-sending the UE information to the RAN is responsive to the re-determining that the condition is met.
Example 11. A user equipment, UE, comprising hardware and configured to implement the method of any of examples 1-10.
Example 12. A method in a radio access network, RAN, in communication with a user equipment, UE, the method comprising: transmitting to the UE a conditional configuration of a conditional mobility procedure and a corresponding condition, wherein the corresponding condition is to be met before the UE is able to communicate with a candidate node of the RAN using the conditional configuration; after transmitting the conditional configuration and the corresponding condition, and before satisfying the corresponding condition, receiving UE information from the UE, the UE information including information indicating a preference or condition of the UE; and after performing the conditional mobility procedure, receiving the UE information from the UE again.
Example 13. The method of example 12, wherein: the conditional mobility procedure is a conditional handover procedure; the candidate node is a candidate base station; transmitting the conditional configuration and the corresponding condition to the UE includes transmitting the conditional configuration and the corresponding condition to the UE by the source base station; receiving UE information from a UE includes receiving UE information at a source base station; and receiving the UE information again from the UE includes receiving the UE information at the candidate base station.
Example 14. The method of example 12, wherein: the conditional mobility procedure is a conditional handover between distributed units DUs of the distributed base station; the candidate nodes are candidate DUs of the distributed base station; the sending of the conditional configuration and the corresponding conditions to the UE comprises: transmitting conditional configuration and corresponding conditions to the UE by a source DU of the distributed base station; receiving UE information from a UE includes receiving UE information at a source DU; and receiving UE information again from the UE includes receiving UE information at the candidate DU.
Example 15. The method of example 12, wherein: the conditional mobility procedure is a conditional secondary node SN addition or change procedure; the candidate node is a candidate SN; the sending of the conditional configuration and the corresponding conditions to the UE comprises: transmitting, by the master node MN, the conditional configuration and the corresponding conditions to the UE; receiving UE information from the UE includes receiving the UE information at the MN; and receiving the UE information again from the UE includes receiving the UE information again at the MN.
Example 16 the method of example 15, further comprising: after receiving the UE information again at the MN, the UE information is sent by the MN to the candidate SN.
Example 17 the method of example 12, wherein: the conditional mobility procedure is a conditional secondary node SN change procedure; the candidate node is a candidate SN; the sending of the conditional configuration and the corresponding conditions to the UE comprises: transmitting, by the master node MN, the conditional configuration and the corresponding conditions to the UE; receiving UE information from a UE includes receiving UE information at a source SN; and receiving the UE information from the UE again includes receiving the UE information at the candidate SN.
Example 18 the method of any one of examples 12-17, wherein the UE information includes a preferred configuration of the UE.
Example 19 the method of any one of examples 12-17, wherein the UE information indicates another communication technology being used by the UE, resources being used by the UE for the other communication technology, and/or resources affected by the other communication technology.
Example 20 the method of any one of examples 12-17, wherein the UE information indicates a service preferred or in use by the UE.
Example 21 the method of any one of examples 12-17, wherein the UE information includes side link information.
Example 22 the method of any one of examples 12-17, further comprising: after receiving the UE information again from the UE, a message to reconfigure the UE according to the UE information is sent to the UE by the candidate node.
Example 23 one or more radio access network RAN nodes comprising hardware and configured to implement the method of any of examples 12-22.
Example 24. A method in a RAN node of a radio access network, RAN, the method comprising: transmitting a conditional configuration of a conditional mobility procedure and a corresponding condition to a user equipment, UE, wherein the corresponding condition is to be met before the UE is able to communicate with candidate nodes of the RAN using the conditional configuration; after sending the conditional configuration and the corresponding conditions, receiving UE information from the UE, the UE information including information indicating preferences or conditions of the UE; and after receiving the UE information from the UE, transmitting the UE information to the candidate node.
Example 25 the method of example 24, wherein: the conditional mobility procedure is a conditional handover procedure; the RAN node is the source base station; and transmitting the UE information to the candidate node includes transmitting the UE information to the candidate base station.
Example 26 the method of example 25, wherein: transmitting the UE information to the candidate base station includes transmitting the UE information to the candidate base station in a conditional handover request message; and the method further comprises: after sending the UE information to the candidate base station, a new conditional configuration is received from the candidate base station and the new conditional configuration is sent to the UE.
Example 27. The method of example 24, wherein: the conditional mobility procedure is a conditional handover between distributed units DUs of the distributed base station; the RAN node is a centralized unit CU of the distributed base station; and transmitting the UE information to the candidate node comprises transmitting the UE information to a candidate DU of the distributed base station.
Example 28. The method of example 27, wherein sending the UE information to the candidate DU comprises sending the UE information to the candidate DU in a UE context request message.
Example 29. The method of example 27 or 28, wherein transmitting UE information to the candidate DU comprises: after the conditional mobility procedure is performed, UE information is sent to the candidate DUs.
Example 30 the method of example 27 or 28, wherein transmitting UE information to the candidate DU comprises: UE information is sent to the candidate DUs before the corresponding conditions are met.
Example 31 the method of example 24, wherein: the conditional mobility procedure is a conditional secondary node SN addition or change procedure; the RAN node is the master node MN; and transmitting the UE information to the candidate node includes transmitting the UE information to the candidate SN.
Example 32 the method of example 31, wherein sending the UE information to the candidate SN comprises sending an SN request message including the UE information to the candidate SN.
Example 33 the method of examples 31 or 32, wherein receiving UE information includes receiving UE information from a UE via a source SN of the RAN.
Example 34. A method in a RAN node of a radio access network, RAN, the method comprising: transmitting a conditional configuration of a conditional mobility procedure and a corresponding condition to a user equipment, UE, wherein the corresponding condition is to be met before the UE is able to communicate with candidate nodes of the RAN using the conditional configuration; after sending the conditional configuration and the corresponding conditions, receiving UE information from the UE, the UE information including information indicating preferences or conditions of the UE; and after receiving the UE information from the UE, sending a message to the candidate node that causes the UE to be reconfigured according to the UE information.
Example 35 the method of example 34, further comprising: determining, by processing hardware of the RAN node, one or more configuration restrictions based on the UE information, wherein transmitting a message causing the UE to be reconfigured includes transmitting information indicating the one or more configuration restrictions to the candidate node.
Example 36 the method of example 35, wherein the one or more configuration restrictions include a maximum resource allocation for the UE.
Example 37 the method of any one of examples 34-36, wherein the message causing the UE to be reconfigured does not include UE information.
Example 38 the method of any one of examples 34-37, wherein: the conditional mobility procedure is a conditional handover procedure; the RAN node is the source base station; the candidate node is a candidate base station; and transmitting a message causing the UE to be reconfigured includes: a conditional handoff request message is sent to the candidate base station before the conditional mobility procedure is performed.
Example 39 the method of any one of examples 34-37, wherein: the conditional mobility procedure is a conditional handover between distributed units DUs of the distributed base station; the RAN node is a centralized unit CU of the distributed base station; the candidate nodes are candidate DUs of the distributed base station; the sending of the conditional configuration and the corresponding conditions to the UE comprises: transmitting the conditional configuration and the corresponding conditions to the UE via a source DU of the base station; receiving UE information from a UE includes receiving UE information from the UE via a source DU; and transmitting a message causing the UE to be reconfigured includes: before performing the conditional mobility procedure, a UE context request message is sent to the candidate DUs.
Example 40 the method of any one of examples 34-37, wherein: the conditional mobility procedure is a conditional secondary node SN addition or change procedure; the RAN node is the master node MN; the candidate node is a candidate SN; and transmitting a message causing the UE to be reconfigured includes transmitting an SN request message to the candidate SN before performing the conditional mobility procedure.
Example 41 the method of example 40, wherein receiving UE information from the UE includes receiving UE information from the UE via a source SN of the RAN.
Example 42. A method in a RAN node of a radio access network, RAN, the method comprising: transmitting a conditional configuration of a conditional mobility procedure and a corresponding condition to a user equipment, UE, wherein the corresponding condition is to be met before the UE is able to communicate with candidate nodes of the RAN using the conditional configuration; after sending the conditional configuration and the corresponding conditions, receiving UE information from the UE, the UE information including information indicating preferences or conditions of the UE; and in response to receiving the UE information from the UE, transmitting a message that causes the UE to release the conditional configuration.
Example 43 the method of example 42, wherein: the conditional mobility procedure is a conditional handover procedure; the RAN node is the source base station; the candidate node is a candidate base station; and transmitting a message that causes the UE to release the conditional configuration includes transmitting a reconfiguration message to the UE.
Example 44 the method of example 43, further comprising: a handover cancel message is also sent to the candidate base station in response to receiving UE information from the UE.
Example 45 the method of example 42, wherein: the conditional mobility procedure is a conditional handover between distributed units DUs of the distributed base station; the RAN node is a centralized unit CU of the distributed base station; the candidate nodes are candidate DUs of the distributed base station; the sending of the conditional configuration and the corresponding conditions to the UE comprises: transmitting the conditional configuration and the corresponding conditions to the UE via a source DU of the base station; receiving UE information from a UE includes receiving UE information from the UE via a source DU; and transmitting a message causing the UE to be reconfigured includes: a message is sent to the source DU causing the UE to be reconfigured.
Example 46. The method of example 42, wherein: the conditional mobility procedure is a conditional secondary node SN addition or change procedure; the RAN node is the master node MN; the candidate node is a candidate SN; and transmitting a message that causes the UE to release the conditional configuration includes transmitting a reconfiguration message to the UE.
Example 47 the method of example 45 or 46, further comprising: an SN release request message is also sent to the candidate SNs in response to receiving UE information from the UE.
Example 48 the method of example 46 or 47, wherein receiving UE information from the UE comprises: UE information is received from a UE via a source SN of the RAN.
Example 49. A method in a RAN node of a radio access network, RAN, the method comprising: determining, by processing hardware of the RAN node, to perform a conditional mobility procedure of the user equipment UE; and in response to determining to perform or be performing the conditional mobility procedure, preventing the UE from sending UE information to the RAN node indicating a preference or condition of the UE, and sending the conditional configuration to the UE and corresponding conditions to be met before the UE can communicate with candidate nodes of the RAN using the conditional configuration.
Example 50. The method of example 49, wherein: the conditional mobility procedure is a conditional handover procedure; the RAN node is the source base station; the candidate node is a candidate base station; determining to perform a conditional mobility procedure includes: it is determined to perform a conditional handover of the UE from the source base station to the candidate base station.
Example 51, the method of example 49, wherein: the conditional mobility procedure is a conditional handover between distributed units DUs of the distributed base station; the RAN node is a centralized unit CU of the distributed base station; the candidate node is a candidate DU of the base station; determining to perform a conditional mobility procedure includes: it is determined to perform a conditional handover of the UE from a source DU to a candidate DU of the base station.
Example 52 the method of example 49, wherein: the conditional mobility procedure is a conditional secondary node SN change procedure; the RAN node is the master node MN; the candidate node is a candidate SN; determining to perform a conditional mobility procedure includes: it is determined to perform an SN change procedure for the UE from the source SN to the candidate SN of the RAN.
Example 53 the method of any of examples 49-52, wherein preventing the UE from sending UE information to the RAN node indicating a preference or condition of the UE comprises: determining, by the processing hardware, that the UE is currently enabled to transmit UE information indicating a preference or condition of the UE; and disabling the UE from transmitting UE information indicating the preference or condition of the UE in response to determining that the UE is currently enabled to transmit UE information indicating the preference or condition of the UE.
Example 54 the method of any of examples 49-52, wherein preventing the UE from sending UE information to the RAN node indicating a preference or condition of the UE comprises: determining, by the processing hardware, that the UE is not currently enabled to transmit UE information indicating a preference or condition of the UE; and in response to determining that the UE is not currently enabled to transmit UE information indicating a preference or condition of the UE, refraining from disabling the UE from transmitting UE information indicating the preference or condition of the UE.
Example 55, a method in a RAN node of a radio access network, RAN, the method comprising: determining, by processing hardware of the RAN node, that a user equipment UE is enabled to send UE information indicating a preference or a situation of the UE to the RAN node; responsive to determining that the UE is enabled or is being enabled to send UE information to the RAN node indicating a preference or condition of the UE, the UE is enabled to send UE information to the RAN node indicating the preference or condition of the UE, and the UE is prevented from performing a conditional mobility procedure.
Example 56. The method of example 55, wherein: the RAN node is the source base station; preventing the UE from performing a conditional mobility procedure includes: the UE is prevented from performing a conditional handover from the source base station to a candidate base station of the RAN.
Example 57 the method of example 55, wherein: the RAN node is a centralized unit CU of the distributed base station; preventing the UE from performing a conditional mobility procedure includes: the UE is prevented from performing a conditional handover from a source distributed unit DU of the distributed base station to a candidate DU of the distributed base station.
Example 58 the method of example 55, wherein: the RAN node is the master node MN; and preventing the UE from performing the conditional mobility procedure includes preventing the UE from performing a change procedure of the UE from a source secondary node SN of the RAN to a candidate SN of the RAN.
Example 59 the method of any one of examples 55-58, wherein preventing the UE from performing the conditional mobility procedure comprises: determining, by the processing hardware, that the UE is currently configured with the conditional configuration; and in response to determining that the UE is currently configured with the conditional configuration, sending a message to the UE that causes the UE to release the conditional configuration.
Example 60 the method of any one of examples 55-58, wherein preventing the UE from performing the conditional mobility procedure comprises: determining, by the processing hardware, that the UE is not currently configured with the conditional configuration; and in response to determining that the UE is not currently configured with the conditional configuration, refraining from configuring the UE with the conditional configuration.
Example 61 the method of any of examples 24-60, wherein the UE information includes a preferred configuration of the UE.
Example 62 the method of any of examples 24-60, wherein the UE information indicates another communication technology being used by the UE, resources being used by the UE for the other communication technology, and/or resources affected by the other communication technology.
Example 63 the method of any of examples 24-60, wherein the UE information indicates a service preferred or in use by the UE.
Example 64 the method of any one of examples 24-60, wherein the UE information comprises side link information.
Example 65 a radio access network RAN node comprising hardware and configured to implement the method of any of examples 24-64.
The following additional considerations apply to the foregoing discussion.
In some embodiments, the "message" discussed above may alternatively be an Information Element (IE), and/or the "IE" may be a field. Furthermore, where the discussion above refers to "a condition" or "a configuration" in the singular, it will be understood that it may be one or more conditions or include one or more configurations or configuration parameters. The term "(C-) MN configuration" may be replaced by configuration(s) included in the (C-) MN configuration, and "(C-) SN configuration" may be replaced by configuration(s) included in the (C-) SN configuration.
A user device (e.g., UE 102) that may implement the techniques of this disclosure may be any suitable device capable of wireless communication, such as a smart phone, a tablet computer, a laptop computer, a mobile gaming console, a point-of-sale (POS) terminal, a health monitoring device, a drone, a camera, a media stream dongle or another personal media device, a wearable device (such as a smartwatch), a wireless hotspot, a femtocell, or a broadband router. Furthermore, in some cases, the user device may be embedded in an electronic system, such as a head unit of a vehicle or an Advanced Driver Assistance System (ADAS). Further, the user device may operate as an internet of things (IoT) device or a Mobile Internet Device (MID). Depending on the type, the user device may include one or more general purpose processors, computer readable memory, user interfaces, one or more network interfaces, one or more sensors, and the like.
Certain embodiments are described in this disclosure as comprising logic or multiple components or modules. The modules may be software modules (e.g., code or machine readable instructions stored on a non-transitory machine readable medium) or hardware modules. A hardware module is a tangible unit capable of performing certain operations and may be configured or arranged in some manner. A hardware module may include special purpose circuits or logic permanently configured to perform certain operations (e.g., as a special purpose processor such as a Field Programmable Gate Array (FPGA) or an Application Specific Integrated Circuit (ASIC), a Digital Signal Processor (DSP), etc.). A hardware module may also include programmable logic or circuitry (e.g., contained within a general-purpose processor or other programmable processor) that is temporarily configured by software to perform certain operations. Decisions to implement hardware modules in dedicated and permanently configured circuits or in temporarily configured circuits (e.g., configured by software) may be driven by cost and time considerations.
When implemented in software, the techniques described herein may be provided as part of an operating system, as a library used by multiple applications, as a specific software application, and/or in another form. The software may be executed by one or more general-purpose processors and/or one or more special-purpose processors.
Claims (24)
1. A method in a user equipment, UE, in communication with a radio access network, RAN, the method comprising:
receiving a conditional configuration of the conditional procedure and a corresponding condition from the RAN, wherein the corresponding condition is to be met before the UE is able to communicate with a candidate node of the RAN using the conditional configuration;
determining, by the processing hardware of the UE, that another condition is met;
after receiving the conditional configuration and the corresponding condition, and in response to determining that the other condition is met, sending UE information to the RAN, the UE information including information indicating a preference or condition of the UE;
after sending the UE information to the RAN, determining, by processing hardware of the UE, that the corresponding condition is satisfied;
determining again by the processing hardware that the further condition is met; and
after determining that the corresponding condition is met, and in response to determining again that the other condition is met, UE information is again sent to the RAN.
2. The method according to claim 1, wherein:
the conditional procedure is a conditional handover;
the candidate node is a candidate base station;
the receiving conditional configuration and corresponding conditions includes: receiving a conditional configuration and corresponding conditions from a source base station;
transmitting the UE information to the RAN includes transmitting the UE information to a source base station; and
Again transmitting the UE information to the RAN includes transmitting the UE information to the candidate base station.
3. The method according to claim 1, wherein:
the conditional procedure is a conditional handover between distributed units DUs of the distributed base station;
the candidate nodes are candidate DUs of the distributed base station;
the receiving conditional configuration and corresponding conditions includes: receiving a conditional configuration and corresponding conditions from a source DU of the distributed base station;
transmitting UE information to the RAN includes transmitting UE information to a source DU; and
again sending the UE information to the RAN includes sending the UE information to the candidate DUs.
4. The method according to claim 1, wherein:
the conditional process is a conditional secondary node SN addition or change process;
the candidate node is a candidate SN;
the receiving conditional configuration and corresponding conditions includes: receiving a conditional configuration and corresponding conditions from a master node MN;
transmitting UE information to the RAN includes transmitting UE information to the MN; and
again sending the UE information to the RAN includes sending the UE information to the MN for forwarding to the candidate SN.
5. The method according to claim 1, wherein:
the conditional process is a conditional secondary node SN change process;
the candidate node is a candidate SN;
the receiving conditional configuration and corresponding conditions includes: receiving a conditional configuration and corresponding conditions from a master node MN;
Transmitting UE information to the RAN includes transmitting UE information to a source SN of the RAN; and
again sending the UE information to the RAN includes sending the UE information to the candidate SN.
6. The method of any of claims 1-5, wherein the UE information includes a preferred configuration of the UE.
7. The method according to any of claims 1 to 5, wherein the UE information indicates another communication technology being used by the UE, resources being used by the UE for the other communication technology, and/or resources affected by the other communication technology.
8. The method of any of claims 1 to 5, wherein the UE information indicates a service preferred or in use by the UE.
9. The method of any of claims 1-5, wherein the UE information comprises side link information.
10. A method in a user equipment, UE, in communication with a radio access network, RAN, the method comprising:
receiving from the RAN a conditional configuration of a conditional PSCell addition or change procedure and a corresponding condition, wherein the corresponding condition is to be met before the UE is able to communicate via a candidate cell of the RAN using the conditional configuration;
after receiving the conditional configuration and the corresponding conditions, transmitting UE information to the RAN, the UE information including information indicating preferences or conditions of the UE; and
After determining that the corresponding condition is satisfied, the UE information is again transmitted to the RAN.
11. The method of claim 10, wherein the re-sending UE information to the RAN occurs after performing a conditional PSCell addition or change procedure.
12. The method of claim 10 or 11, wherein the UE information comprises a preferred configuration of the UE.
13. The method according to claim 10 or 11, wherein the UE information indicates another communication technology being used by the UE, resources being used by the UE for the other communication technology, and/or resources affected by the other communication technology.
14. The method of claim 10 or 11, wherein the UE information indicates a service preferred or in use by the UE.
15. The method of claim 10 or 11, wherein the UE information comprises side link information.
16. A user equipment, UE, comprising hardware and configured to implement the method according to any of claims 1-15.
17. A method in a radio access network, RAN, in communication with a user equipment, UE, the method comprising:
transmitting to the UE a conditional configuration of a conditional PSCell addition or change procedure and a corresponding condition, wherein the corresponding condition is to be met before the UE is able to communicate via a candidate cell of the RAN using the conditional configuration;
After transmitting the conditional configuration and the corresponding condition, and before satisfying the corresponding condition, receiving UE information from the UE, the UE information including information indicating a preference or condition of the UE; and
after the corresponding condition is satisfied, the UE information is received again from the UE.
18. The method of claim 17, wherein receiving UE information again occurs after performing a conditional PSCell addition or change procedure.
19. The method of claim 17 or 18, wherein the UE information comprises a preferred configuration of the UE.
20. The method according to claim 17 or 18, wherein the UE information indicates another communication technology being used by the UE, resources being used by the UE for the other communication technology, and/or resources affected by the other communication technology.
21. The method of claim 17 or 18, wherein the UE information indicates a service preferred or in use by the UE.
22. The method of claim 17 or 18, wherein the UE information comprises side link information.
23. The method of any of claims 17 to 22, further comprising:
after receiving the UE information again from the UE, a message to reconfigure the UE according to the UE information is transmitted to the UE via the candidate cell.
24. One or more radio access network RAN nodes comprising hardware and configured to implement the method of any of claims 17-23.
Applications Claiming Priority (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US202063104036P | 2020-10-22 | 2020-10-22 | |
US63/104,036 | 2020-10-22 | ||
PCT/US2021/055568 WO2022086933A1 (en) | 2020-10-22 | 2021-10-19 | Managing ue information after preparing a conditional mobility procedure |
Publications (1)
Publication Number | Publication Date |
---|---|
CN116648953A true CN116648953A (en) | 2023-08-25 |
Family
ID=78617516
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
CN202180085649.6A Pending CN116648953A (en) | 2020-10-22 | 2021-10-19 | Managing UE information after preparing a conditional mobility procedure |
Country Status (4)
Country | Link |
---|---|
US (1) | US20230388891A1 (en) |
EP (1) | EP4218294A1 (en) |
CN (1) | CN116648953A (en) |
WO (1) | WO2022086933A1 (en) |
Families Citing this family (6)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20230180247A1 (en) * | 2021-12-08 | 2023-06-08 | Qualcomm Incorporated | Signaling for multicast broadcast service single frequency network communications |
WO2024029478A1 (en) * | 2022-08-04 | 2024-02-08 | シャープ株式会社 | Terminal device, method, and integrated circuit |
WO2024032954A1 (en) * | 2022-08-08 | 2024-02-15 | Nokia Technologies Oy | Managing mobility in networks supporting dual connectivity |
WO2024032957A1 (en) * | 2022-08-09 | 2024-02-15 | Nokia Technologies Oy | Controlling configuration activities in a wireless telecommunications network |
US20240098577A1 (en) * | 2022-09-19 | 2024-03-21 | Qualcomm Incorporated | Techniques for connected state mobility in a service-based wireless system |
GB2624149A (en) * | 2022-11-01 | 2024-05-15 | Nokia Technologies Oy | Use of estimated arrival probability-related information to select target secondary nodes for early data forwarding for dual connectivity wireless communicati |
Family Cites Families (1)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
KR20230002718A (en) * | 2020-04-21 | 2023-01-05 | 구글 엘엘씨 | UE preferred configuration management |
-
2021
- 2021-10-19 EP EP21806897.1A patent/EP4218294A1/en active Pending
- 2021-10-19 WO PCT/US2021/055568 patent/WO2022086933A1/en active Application Filing
- 2021-10-19 US US18/032,388 patent/US20230388891A1/en active Pending
- 2021-10-19 CN CN202180085649.6A patent/CN116648953A/en active Pending
Also Published As
Publication number | Publication date |
---|---|
WO2022086933A1 (en) | 2022-04-28 |
EP4218294A1 (en) | 2023-08-02 |
US20230388891A1 (en) | 2023-11-30 |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US20220141904A1 (en) | A Master Node, a Secondary Node, a User Equipment and Methods Therein for Handling of a Secondary Cell Group (SCG) | |
CN116648953A (en) | Managing UE information after preparing a conditional mobility procedure | |
US20230095601A1 (en) | Dual active protocol stack operation for handover and pscell change | |
US20220174562A1 (en) | Storing and restoring conditional handover in suspend-resume | |
US20220345968A1 (en) | Conditional handover management | |
US20220386191A1 (en) | Conditional full configuration and conditional delta configuration | |
US20230067377A1 (en) | Managing a non-conditional procedure during a conditional procedure | |
EP3925298B1 (en) | Source access node release criterion in handover | |
US20230403623A1 (en) | Managing sidelink information, configuration, and communication | |
US20220132607A1 (en) | Role switch handling in a multi connectivity configuration | |
EP4082293B1 (en) | Managing conditional configuration in dual connectivity scenarios | |
CN116889088A (en) | Managing conditional configuration in SCG deactivation scenarios | |
CN116965100A (en) | Managing UE configuration when conditional procedure fails | |
US11985592B2 (en) | Systems and methods for determining the validity of idle mode measurements | |
WO2023196617A1 (en) | Managing small data transmission configuration parameters | |
WO2023196481A1 (en) | Managing small data transmission with a user equipment | |
WO2023196633A1 (en) | Managing small data transmission configuration parameters when detecting a failure | |
WO2023196549A1 (en) | Managing a small data transmission configuration | |
WO2023196631A1 (en) | Managing small data transmission configuration parameters in idle mobility | |
WO2023133241A1 (en) | Managing candidate cell configurations for conditional preparation procedures | |
WO2023164014A1 (en) | Managing resources for data transmission in an inactive state | |
WO2023133333A2 (en) | Managing measurement in small data transmission | |
WO2023196622A1 (en) | Managing small data transmission in handover scenario | |
WO2023196486A1 (en) | Managing small data transmission with a network | |
WO2023205522A1 (en) | Managing buffer status reporting during small data transmission |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
PB01 | Publication | ||
PB01 | Publication | ||
SE01 | Entry into force of request for substantive examination | ||
SE01 | Entry into force of request for substantive examination |