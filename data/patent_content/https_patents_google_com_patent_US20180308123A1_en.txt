US20180308123A1 - System and method for fractional attribution utilizing aggregated advertising information - Google Patents
System and method for fractional attribution utilizing aggregated advertising information Download PDFInfo
- Publication number
- US20180308123A1 US20180308123A1 US14/056,925 US201314056925A US2018308123A1 US 20180308123 A1 US20180308123 A1 US 20180308123A1 US 201314056925 A US201314056925 A US 201314056925A US 2018308123 A1 US2018308123 A1 US 2018308123A1
- Authority
- US
- United States
- Prior art keywords
- channels
- channel
- level
- weights
- stages
- Prior art date
- Legal status (The legal status is an assumption and is not a legal conclusion. Google has not performed a legal analysis and makes no representation as to the accuracy of the status listed.)
- Abandoned
Links
Images
Classifications
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06Q—INFORMATION AND COMMUNICATION TECHNOLOGY [ICT] SPECIALLY ADAPTED FOR ADMINISTRATIVE, COMMERCIAL, FINANCIAL, MANAGERIAL OR SUPERVISORY PURPOSES; SYSTEMS OR METHODS SPECIALLY ADAPTED FOR ADMINISTRATIVE, COMMERCIAL, FINANCIAL, MANAGERIAL OR SUPERVISORY PURPOSES, NOT OTHERWISE PROVIDED FOR
- G06Q30/00—Commerce
- G06Q30/02—Marketing; Price estimation or determination; Fundraising
- G06Q30/0241—Advertisements
- G06Q30/0242—Determining effectiveness of advertisements
- G06Q30/0246—Traffic
-
- G—PHYSICS
- G06—COMPUTING; CALCULATING OR COUNTING
- G06Q—INFORMATION AND COMMUNICATION TECHNOLOGY [ICT] SPECIALLY ADAPTED FOR ADMINISTRATIVE, COMMERCIAL, FINANCIAL, MANAGERIAL OR SUPERVISORY PURPOSES; SYSTEMS OR METHODS SPECIALLY ADAPTED FOR ADMINISTRATIVE, COMMERCIAL, FINANCIAL, MANAGERIAL OR SUPERVISORY PURPOSES, NOT OTHERWISE PROVIDED FOR
- G06Q30/00—Commerce
- G06Q30/02—Marketing; Price estimation or determination; Fundraising
- G06Q30/0241—Advertisements
- G06Q30/0273—Determination of fees for advertising
Definitions
- This invention relates generally to the field of building advertising analytics platforms and specifically to the field of system, method and architecture for advertising conversion fractional attribution analysis using aggregated advertising information, including information on non-converted users.
- the modern advertising industry can take advantage of many channels for commercial messaging. These include traditional offline channels, such as direct mail, print, radio, and television, as well as a variety of online channels, like Web page advertising, search engine advertising, social media advertising, and email advertising.
- a “conversion” refers to a desired activity, such as a user's purchase of an advertiser's product or service. This can be an issue, for example, if an ad buyer wants to determine a price for a direct buy, i.e., a direct interaction with an ad publisher, and also in the case of real-time bidding across sites.
- user-level data may not be available.
- a direct mail advertising channel it may be possible to tie converted direct mail users to their online events (i.e., an ad exposure) by matching information collected at conversion time such as registration forms, surveys, questionnaires, etc. to online user activities, for instance, via online cookies, etc.
- conversion time such as registration forms, surveys, questionnaires, etc.
- online user activities for instance, via online cookies, etc.
- there is no way to track users who received/opened their mail but never converted This example illustrates that it can be very difficult, if not impossible, to connect a non-converting user's offline touch points with the user's online touch points. Consequently, it can be difficult to ascertain the effectiveness or influence of an offline ad campaign on an online user's behavior.
- the non-availability of user-level data may arise also for online channels such as social channels.
- online channels such as social channels.
- social networking sites such as Twitter may be willing to share more details about converted users but not details about everybody. Accordingly, a new approach and methodology is needed to properly assign fractional conversion credit to touch points.
- touch point refers to any encounter between a consumer and a business.
- a listener heard an ad about a business on the radio.
- the radio represents an offline channel and the ad represents an offline advertising event occurring via the offline channel.
- This encounter represents an offline touch point.
- the listener then went online and visited a website of the business and, while there, made a purchase through the website.
- the listener's visit to the business's website represents an online touch point.
- a channel can have numerous touch points.
- the offline touch point is what caused the listener to visit the business's website in the first place.
- the offline advertising event deserves some credit for the conversion—in other words, this particular conversion should ideally be fractionally attributed to the offline advertising event occurring in the offline channel.
- offline touch points and online touch points may not overlap. Therefore, it can be very difficult, if not impossible, to combine and/or properly associate offline touch points with online touch points.
- a new approach is needed to determine accurate conversion credit deserved by each channel and/or campaigns under each channel.
- the new approach may rely on aggregate-level data to capture causal relationships among different channels and conversions.
- Embodiments can leverage instrumental variables to derive the causal influence weight of any channel on conversions.
- a goal is to find a variable that influences the channel's volume but not directly conversions.
- This variable is called an instrumental variable for the channel of interest.
- Such an instrumental variable may introduce random changes in the channel's volume that are not correlated with other channels. This is an entirely data-driven approach in that the importance (which serves as the basis of calculating attribution fraction) of each advertisement event is derived based on data, on both converted and non-converting users.
- the new fractional attribution approach is data-driven, without preconceived bias on the importance of different channels. It is also a general approach that works with any number of different types of advertising channels, as long as daily total ad volume is reliably captured.
- the new approach expands beyond online advertising channels for which cookie-based user level data is available and is able to attribute conversion credit to advertising channels for which no user-level data is available or user-level data is difficult and expensive to get.
- Embodiments disclosed herein provide an accurate modeling of causal relationship among channels and conversions to thereby determine the most accurate credit to each channel or sub-channel involved.
- a fractional attribution method may include arranging, by a computer, a plurality of channels into a plurality of funnel stages based on a conversion rate associated with each channel, constructing aggregate-level data, and computing a multi-stage regression on the plurality of funnel stages using the aggregate-level data to thereby determine channel weights for the plurality of channels.
- the order by which the plurality of funnel stages is arranged may be overridden based on domain knowledge. Where necessary, a channel may be split into sub-channels. A causal analysis may be performed on the plurality of channels using instrumental variables.
- a system implementing the causal analysis may first determine causal weights for the m th level channels using a two-stage least squares algorithm and using all channels above the m th level as instrumental variables. After the causal weights for the m th level channels are determined, the system may determine causal weights for m ⁇ 1 th level channels, with residual channels as dependent variables and channels above the m ⁇ 1 th levels as instrumental variables. This process may be repeated until all causal weights are determined for the plurality of channels.
- an attribution method disclosed herein may be embodied in a computer program product comprising at least one non-transitory computer readable medium storing instructions translatable by at least one processor to perform the attribution method.
- an attribution system may comprise software and hardware, including at least one processor and at least one non-transitory computer-readable storage medium that stores computer instructions translatable by the at least one processor to perform an attribution method disclosed herein.
- FIG. 1 depicts a diagrammatic representation of an example user transaction in a network environment where embodiments disclosed herein may reside;
- FIG. 2 depicts a diagrammatic representation of an example system architecture comprising multiple clients coupled to an attribution platform, implementing some embodiments disclosed herein;
- FIG. 3 depicts an exemplary event tree according to some embodiments disclosed herein;
- FIG. 4 is a flowchart illustrating attribution modeling according to some embodiments disclosed herein;
- FIG. 5 is a table illustrating comparative results for fractional attribution and last event attribution according to some embodiments disclosed herein;
- FIG. 6 is a plot diagram illustrating comparative differences by campaign for fractional attribution and other attribution methods according to some embodiments disclosed herein;
- FIG. 7 is a table illustrating cost per conversions based on attribution results
- FIG. 8 is a table illustrating exemplary channel weighting
- FIG. 9 is a flowchart illustrating operation of embodiments.
- FIG. 1 depicts a diagrammatic representation of an example network environment for fractional cross-channel attribution.
- a user 102 may “convert,” or perform a desired action, after clicking a link 104 (e.g., a banner ad on a publisher web site 114 , a search engine ad 110 , or an ad on another channel 112 ), via a user device 106 at a particular Internet Protocol (IP) address and being directed via network 122 to the advertiser's web page 116 .
- Conversion 118 can be a purchase transaction, but could also include such actions as registering with a Web site, signing up for product information, and the like. The conversion may occur after exposure to a commercial via television 122 , print media 124 , or radio 126 .
- An attribution platform 120 in accordance with embodiments of the invention allows the advertiser 116 to make informed decisions about payment for advertisements and future ad campaigns.
- Data from the click 101 and ultimate conversion 118 may be collected in a variety of ways.
- one or more computers in the network 122 may collect click data.
- a click data collecting computer may be a server machine residing in a publisher 114 's or other party's computing environment or network.
- the click data collecting computer may collect click streams associated with visitors to one or more Web sites.
- the collected information may be stored in one or more log files.
- the information associated with the plurality of clicks may comprise visitor Internet Protocol (IP) address information, date and time information, publisher information, referrer information, user-agent information, searched keywords, cookies, and so on.
- IP visitor Internet Protocol
- the attribution platform 120 employs “ad tags” for monitoring impression data and “page tags” for monitoring click data.
- Ad tags can be 1 ⁇ 1 pixels embedded in page code at the publisher site and can be used to determine where the ad is on a page (above or below a “fold,” i.e., visible with or without scrolling) and whether and how long a user sees it.
- Page tags can be embedded in a similar manner on the landing page, and can identify whether a user has arrived and where the user comes from.
- Example tags are included in the attached Appendices A and B.
- ad tags or page tags can be transmitted to the attribution platform 120 responsive to a user viewing or clicking on an ad and viewing or clicking on an associated web page.
- aggregate data may be provided or collected.
- aggregate data can include data from offline sources, such as television or radio ratings over predetermined periods, magazine and newspaper circulation on a per issue basis, and the like.
- user-level data from online sources may be “aggregated out” to correspond to similar data from offline sources. Examples of aggregate-level data include daily total impressions and click and conversion volumes by channel. External time series data such as consumer price index may also be leveraged, depending on the particular embodiment.
- FIG. 2 depicts a diagrammatic representation of example system architecture 200 comprising one or more clients 202 and attribution platform 220 .
- a user may browse a publisher site 204 which maintains one or more ad tags 205 .
- Ad tag data can be sent to a tag server 210 , responsive to a user viewing or clicking an ad, which stores in a database 216 , impression data sorted by customer.
- impression data may include, e.g., where, when, and how long a user viewed the ad.
- An ad server 212 may be used to maintain the ad on the publisher's web site 204 .
- the user 202 may click an ad to arrive at a landing page 208 .
- Embedded on the landing page 208 includes a page tag 207 , which identifies user accesses to the landing page 208 and may be sent to a database 214 accessible by the attribution platform 220 .
- An advertiser 206 records a conversion 218 , if any, and likewise provides the information to the attribution platform 220 .
- Attribution platform 220 may reside in a computing environment comprising one or more server machines.
- Each server machine may include a central processing unit (CPU), read-only memory (ROM), random access memory (RAM), hard drive (HD) or non-volatile memory, and input/output (I/O) device(s).
- An I/O device may be a keyboard, monitor, printer, electronic pointing device (e.g., mouse, trackball, etc.), or the like.
- the hardware configuration of this server machine can be representative of other devices and computers alike at a server site (represented by platform 220 ) as well as at a client site.
- Embodiments of platform 220 disclosed herein may include a system and a computer program product implementing a method for fractional attribution in a network environment.
- platform 220 may be owned and operated independent of the clients that it services.
- company A operating platform 220 may provide attribution services to company B operating a client (not shown).
- Companies A and B may communicate over a network.
- Companies A and B may communicate over a secure channel in a public network such as the Internet.
- Example clients may include advertisers, publishers, and ad networks.
- the system may run on a Web server.
- the computer program product may comprise one or more non-transitory computer readable storage media storing computer instructions translatable by multiple processors to process attribution data.
- the input data may be from a log file, a memory, a streaming source, or ad and page tags.
- attribution data refers to any and all data associated with online advertising events such as clicking on an ad, viewing an ad (an impression), entering a search query, conversion, and so on, and may include click history data, click intelligence data, post-click data, visitor profile data, impression data, etc.
- software running on a server computer in platform 220 may receive a client file containing attribution data from an attribution data collecting computer associated with a client.
- a client may represent an online retailer and may collect click stream data from visitors to a Web site own and/or operated by the online retailer. The attribution data thus collected can provide a detailed look at how each visitor got to the Web site, what pages were viewed by the visitor, what products and/or services the visitor clicked on, the date and time of each visit and click, and so on.
- the specific attribution data that can be collected from each click stream may include a variety of entities such as the Internet Protocol (IP) address associated with a visitor (which can be a human or a bot), timestamps indicating the date and time at which each request is made or click is generated, target URL or page and network address of a server associated therewith, user-agent (which shows what browser the visitor was using), query strings (which may include keywords searched by the visitor), and cookie data.
- IP Internet Protocol
- the corresponding click stream may contain the referrer page of the search engine and the search words entered by the visitor.
- Attribution data can be created using a corporate information infrastructure that supports a Web-based enterprise computing environment. A skilled artisan can appreciate what typical attribution click streams may contain and how they are generated and stored.
- optimization data may include an impression/click record for every ad impression/click received from a given client of the system.
- An example impression/click record may include Impression/click timestamp; visitor cookie (if available, may be set up as a domain cookie for persistent visitor identification); visitor IP address; visitor browser user-agent; impression/click source (may be a publisher ID or a referrer domain); click destination (landing page Web address or bid keywords for advertisers); and conversion data (whether the visitor executed a desired conversion).
- the optimization data returned from log files or tags may comprise one or more rows of data arranged in a plurality of fields.
- each row of event data includes twenty-three fields, defined as follows:
- Embodiments disclosed herein may be implemented in suitable software code (i.e., computer instructions translatable by a processor).
- suitable software code i.e., computer instructions translatable by a processor.
- computer instructions and data implementing embodiments disclosed herein may be carried out on various types of computer-readable storage media, including volatile and non-volatile computer memories and storage devices. Examples of computer-readable storage media may include ROM, RAM, HD, direct access storage device arrays, magnetic tapes, floppy diskettes, optical storage devices, etc.
- the computer instructions may be written in any suitable computer language, including C++.
- some or all of the software components may reside on a single server computer or on any combination of separate server computers. Communications between any of the computers described above may be accomplished in various ways, including wired and wireless. As one skilled in the art can appreciate, network communications can include electronic signals, optical signals, radio-frequency signals, and other signals as well as combinations thereof.
- a good attribution model may possess three desirable properties: Monotonicity (Property 1); Correlation with Conversion (Property 2); and Accounting for Event Interactions (Property 3).
- the first desired property is Monotonicity, which means that if two events (e.g., E 1 and E 2 ) were combined into one composite event E 12 then the fraction credit w 12 for E 12 should most likely be no less than w 1 or w 2 . That is, w 12 ⁇ w 1 and w 12 ⁇ w 2 .
- E 1 and E 2 the fraction credit w 12 for E 12 should most likely be no less than w 1 or w 2 . That is, w 12 ⁇ w 1 and w 12 ⁇ w 2 .
- the intuition is that two events a converted user has with a marketer's campaigns should deserve no less credit than each of those two events individually.
- the third property of the model should take into account as much as possible the interactions among different events. For example, if individually each of the three events has driven conversions equally well, but when E 2 and E 3 are together they have driven conversions much better, a higher credit weight should be given to either E 2 or E 3 than to E 1 .
- Embodiments make use of data-driven probabilistic models. That is, all the conditional probability estimates discussed herein are based on historical data.
- B) can be derived from historical data by dividing the number of users who (at least) had events A and B by number of users who (at least) had event B. That is,
- B ) # ⁇ ⁇ users ⁇ ⁇ with ⁇ ⁇ events ⁇ ⁇ A ⁇ ⁇ and ⁇ ⁇ B # ⁇ ⁇ users ⁇ ⁇ with ⁇ ⁇ event ⁇ ⁇ B .
- Embodiments may make use of any of a variety of models, although some may be more or less desirable, depending on the nature of the data.
- a first model (Model 1) may be the Na ⁇ ve Bayes model:
- a second model (Model 2) may be the Conversion Index model:
- a third model (Model 3) may be the Conditional Importance model:
- w 1 P ⁇ ( E 1
- E 2 , E 3 , C ) P ⁇ ( E 1 , E 2 , E 3 , C ) P ⁇ ( E 2 , E 3 , C ) ⁇ 1 P ⁇ ( E 2 , E 3 , C ) ⁇ 1 # ⁇ users ⁇ ⁇ with ⁇ ⁇ ⁇ E 2 , E 3 , C ⁇ , ( 4 )
- a fourth model may be the Marginal Importance model:
- a variant of Model 4 can be
- Marginal Importance model in (5) may provide better results than the other models discussed and possesses the three desired properties proposed above.
- ⁇ E 1 , E 2 , E K ⁇ E J means the subset of ⁇ E 1 , E 2 , E K ⁇ without E 1 .
- E 1 could represent a user seeing one or more impressions from a specific campaign; or a user seeing one or more impressions from a specific campaign more than two weeks ago; or a user seeing exactly two impressions from a specific campaign in the last day; or a user seeing one or more impressions on a specific site in the last day; etc.
- an event may be desirable to define an event as specifically as possible; e.g., a user seeing exactly n impressions from campaign x with creative y on site z exactly m days ago.
- defining events at that deep level of granularity may encounter data sparsity—often there is not enough data to robustly derive the conditional probabilities described in the previous section. It may sound counterintuitive as the system easily collects billions of impressions and hundreds of millions of users every month from a large advertiser. However, not many users would share the same event of “seeing exactly n impressions from campaign x with creative y on site z exactly m days ago”. When the number of users is small, there would be low confidence in the conditional probabilities estimated.
- an attribution analysis may be run at many different granularity levels and then combined based on confidence values of different estimates.
- One technique for this task is “hierarchical Bayesian shrinkage.” The goal is to get as robust as possible an estimate at the most granular level.
- One way to address data sparsity at the granular level is to borrow information (or estimates) from lower granularity levels.
- different levels can be arranged into a hierarchy 300 like the one shown in FIG. 3 .
- shown are parent nodes campaign 302 and site 304 .
- Campaign node 302 is less granular and a parent to the nodes at the next most granular level, campaign+frequency 306 and campaign+recency 308 .
- the nodes 306 , 308 in turn are parents to node 310 (campaign+frequency+recency).
- parent node site 304 is parent to site+frequency 312 and site+frequency node 314 which, in turn, are parents to site+frequency+recency node 316 .
- Nodes 310 and 316 are parents and less granular than node 318 (campaign+site+frequency+recency).
- the attribution weight for a given event can be calculated for every node in the hierarchy and combined based on the confidence of each calculation.
- Confidence can be a function of the amount of data (i.e., the number of users) used to estimate the conditional probabilities. For example, a reasonable confidence function is the sigmoid function
- ⁇ ⁇ ( n ) 1 1 + e - ( n - ⁇ ⁇ ) ,
- n is the number of users
- ⁇ and ⁇ are adjustable parameters.
- the parameter ⁇ determines when confidence becomes 0.5 and ⁇ controls how fast the confidence grows with n.
- One way of combining the attribution weights estimated at different granularity levels is to take a confidence-weighted average across different levels. That is,
- w 1 is the attribution weight at level l and g l is the confidence at level l.
- the estimates At more granular levels, the estimates have lower bias but higher variance; at less granular levels, the estimates have lower variance (i.e., more robust) but higher bias.
- the actual equation may vary somewhat from implementation to implementation. For example, one embodiment may add a level-dependent weight that is fixed for each level to reflect prior knowledge about the importance of difference levels. That is, if enough data can be had at a campaign+recency level, one might want to give more weight to that level than to a less granular (e.g., campaign) level.
- FIG. 4 is a flowchart illustrating operation of embodiments of the invention for generating fractional attribution results.
- a conversion is a desired activity, such as a user purchase of an advertiser's product or service.
- An event can be one or more user-defined events or sequences of events.
- event sets for each user/conversion are created. This is essentially to arrange events by user and conversion. For each incidence of the conversion, this step may include listing all the event item exposures the user had prior to the conversion. Events are defined and tracked from the raw impression/click/conversion data obtained from the ad tags and page tags or log files or other data collected.
- a step 406 for each event definition, create event subsets that need counts. That is, for each event set of size K (that associates with a conversion), generate K ⁇ 1 event subsets as explained above.
- a step 408 for each event definition, and for each event subset generated, count the number of converted users and number of non-converting users and use the ratio between those two as the basis for computing attribution weights.
- the total user counts may also be used as the basis for computing confidence as described above.
- a step 410 for each event definition, populate the attribution weights down to the most granular event level, i.e., individual impressions or clicks.
- each event may map to one or more impressions/clicks and the attribution weight computed for the event will be evenly distributed down to individual impressions/clicks. For example, if events are defined by a campaign+recency, an event (campaign x+3 days ago) gets a weight of 0.6 and it corresponds to 10 impressions on that day, then each of those 10 impressions would get a weight of 0.06.
- a step 410 combine the attribution weights from different event definitions (i.e., different granularity levels) using, for example, the hierarchical Bayesian shrinkage method described above.
- step 406 getting the user counts for each event subset—is computationally intensive. There can be hundreds of millions of users and hundreds of thousands of subsets. Each user is represented by an event set (all the events the user has had). The basic operation is, for each user and each subset, to determine if the user's event set contains the subset of interest (for which we want to get user counts).
- One efficient way of doing the counting is to determine, for each user, which n events he has seen, and to define (n ⁇ 1) subsets. For example, if he has seen events E1, E2, E3, then the subsets are defined as follows:
- each user go through each event in the user's event set and add all the subset indexes to a hash and keep track of the counts. For example, for event E1, add the subset indexes of S1 and S2 to a hash; for event E2, add the subset indexes of S1 and S3 to a hash; and for event E3, add the subset indexes of S2 and S3 to a hash. If the hash count of a subset index equals the length of the subset, increase the user count for a subset.
- Table 2 Shown in Table 2 below are exemplary event data (each row in this example is a user event sequence; E 1 -E 8 are eight events to be assigned conversion credits; C/NC stands for conversion/no conversion):
- each converted user For each converted user, generate all leave-one-out sub-sequences. For example, from the first converted user, one gets ⁇ E 1 E 2 ⁇ , ⁇ E 2 E 3 ⁇ , and ⁇ E 1 E 3 ⁇ .
- FIG. 5 shows attribution weights for a particular user with six impression events before a conversion.
- the six impressions imp_1, imp_2, imp_6) are arranged in temporal order.
- the last-click model assigns all credit to imp_6 whereas an even attribution model assign 1 ⁇ 6 credit to each of the six events.
- the next two rows show the results of fractional attribution model at campaign level and campaign+frequency level, respectively. In this case, there are four event items for both of those levels but the weights are different as one takes into account frequency in the event definition and the other does not.
- results for many other levels are omitted and in the last row the final fractional attribution results based on applying hierarchical Bayesian shrinkage to combine the results from all different levels are shown.
- the result is a weight for each impression/click event (i.e., at the most granular level). These final weights can then be rolled up along different dimensions for reporting. Common dimensions of interest include campaign, site, creative, etc.
- FIG. 6 compares the fractional model with the last-click model and even attribution model, after rolling up the attribution weights to campaign level.
- Campaign IDs are shown on the x-axis and relative difference between models on the y-axis. For example, for campaign ID 214383 (highlighted in the box), the fractional attribution model assigns to it 12% less credit than last-click model does, but 20% more than even model does.
- FIG. 7 shows some examples of the cost per conversion metrics based on attribution results.
- the cost numbers based on fractional attribution models will be more accurate and can help make better business decisions regarding whether to increase or decrease spend on a particular campaign.
- some but not all user-level data may be available. Additionally, some user-level data may be difficult or expensive to get. For instance, a user may be exposed to a business's advertising channels such as a direct mail campaign, an email campaign, and online ads displayed on various web sites including social networking sites, etc. Thus, this user's converting path may include one or more offline channels where user-level data may not be available as well as one or more digital channels such as social networking sites where user-level data may be difficult and/or expensive to get. In such cases, a hybrid approach may be utilized to determine appropriate attribution fractions.
- the influence of a channel relative to other channels may also be important in terms of conversions.
- a user may receive at home a flyer advertising a sale of a product on a web site, use a search site to research on the product, be redirected to the web site by the search site, and ultimately purchase the product (a conversion). Accordingly, it may be desirable to find the appropriate fractional attribution across channels at the aggregate level.
- Various approaches may be used for channel weighting, including those using regression modeling or instrumental variables. These approaches will now be described.
- a regression modeling approach can be used to build a predictive model that can predict total (multi-channel) conversions, based on channel volumes.
- a what-if analysis to produce a “delta key performance indicator (KPI)” that can be attributed to a given channel.
- KPI key performance indicator
- the what-if analysis sets the volume for a channel to 0 and uses the delta change in predicted conversions as a measure of the conversion contribution from the channel.
- the deltas may be normalized across all channels to get a channel weight.
- delta KPI predicted KPI (with all channels) ⁇ predicted KPI (without [what-if] channel).
- w 0 ⁇ x 0 captures the baseline;
- g( ⁇ k x k ) captures channel-specific values; and
- FIG. 8 shows example values for the w, ⁇ , and ⁇ parameters, the predicted KPI ( ⁇ ), and the delta KPI ( ⁇ ) determined using data from a number of channels over a one month (31 day) period.
- Table 6 below illustrates exemplary aggregate level data that may be used in conjunction with embodiments.
- Table 6 shows the KPI for data in predetermined periods (i.e., one week) for TV volume, Display volume, and Paid Search volume.
- the above exemplary aggregate level data can be used to determine the weights for the aggregate-level regression model.
- An example of the results is shown in Table 7 below.
- the weights may be estimated using standard multiplicative gradient descent, as can be appreciated by a person of ordinary skill in the art.
- this approach may include arranging, by a computer, a plurality of channels into a plurality of funnel stages (or levels) based on the conversion rate associated with a channel, constructing aggregate-level data where appropriate, and running a multi-stage regression computation on the plurality of funnel stages.
- the conversion rate of each channel may be examined and used to arrange the channels into a funnel of multiple stages.
- Table 8 below shows an example of different channels arranged by their conversion rates into a funnel with a plurality of funnel stages.
- the computer may compute attributable conversion rate for channels that have user-level data, counting the conversions if there is at least one touch point from the channel of interest. For channels that do not have user-level data, the computer may use all the conversions.
- the funnel stage of a given channel can be overridden based on domain knowledge. For example, TV or email can be forced to be at the top of the funnel.
- multiple channels may exist at the same funnel stage.
- Display and TV may be at the same top level.
- a channel may be split into sub-channels as needed. For example, one might want to split Retargeting Display and Non-Retargeting display into two different sub-channels as the conversions rates for then can differ by more than one order of magnitude. In addition they are designed to target users at very different of funnel stages.
- Branded Search vs. Non-Branded Search—intuitively Branded Search is at a later stage than Non-Branded Search as the users searching for branded keywords are likely already past the awareness stage and in the consideration stage for the particular brand.
- the computer may construct aggregate-level data for each channel (or sub-channel) as appropriate.
- user-level data can be aggregated out into aggregate as described above.
- the computer may then run a multi-stage least squares regression, as an extension of a two-stage least squares algorithm. Multiple regressions may be run in a stepwise fashion as exemplified below:
- the functional form of the model for the example data can be:
- the channel weights learned from the example data above can be as follows:
- a channel weight thus determined may reflect how the key performance indicator will respond to a change to the volume (or advertising spending) of the channel at the aggregate level.
- step 902 digital channels that have user-level data can be aggregated out into aggregate form. Alternatively, offline channels with only aggregate level data can be ascertained.
- step 904 the channels can be fit to an aggregate model, such as an aggregate-level regression model. Each channel can be given a weight at the aggregate level as described above (step 906 ).
- Embodiments can provide many advantages. For example, existing fractional attribution methods rely on marketing mix modeling or marketing mix optimization (MMM/MMO) approaches to deal with scenarios in which user-level data may not be available. Such approaches use regression models on multi-year time-series data to produce relative regression weights for different channels. Such weights are used to explain the contribution from different channels on conversions. They normally stay at the channel level and cannot assign attribution credit at more granular levels. Further, directly normalizing conversion probabilities across different channels may lead to useless results because the probabilities for different channels can differ by orders of magnitudes. To address these issues, embodiments can leverage a data-driven instrumental approach to derive the causal influence weight of any channel on conversions, without preconceived bias on the importance of different channels.
- MMM/MMO marketing mix modeling or marketing mix optimization
- This general approach works with any number of different types of advertising channels, as long as daily total ad volume is reliably captured.
- the new approach expands beyond online advertising channels and provides an accurate modeling of causal relationship among channels (online and offline) and conversions to thereby determine the most accurate credit to each channel or sub-channel involved.
- Any suitable programming language can be used to implement the routines, methods or programs of embodiments of the invention described herein, including C, C++, Java, assembly language, etc.
- Different programming techniques can be employed such as procedural or object oriented.
- Any particular routine can execute on a single computer processing device or multiple computer processing devices, a single computer processor or multiple computer processors.
- Data may be stored in a single storage medium or distributed through multiple storage mediums, and may reside in a single database or multiple databases (or other data storage techniques).
- sequence of operations described herein can be interrupted, suspended, or otherwise controlled by another process, such as an operating system, kernel, etc.
- the routines can operate in an operating system environment or as stand-alone routines. Functions, routines, methods, steps and operations described herein can be performed in hardware, software, firmware or any combination thereof.
- Embodiments described herein can be implemented in the form of control logic in software or hardware or a combination of both.
- the control logic may be stored in an information storage medium, such as a computer-readable medium, as a plurality of instructions adapted to direct an information processing device to perform a set of steps disclosed in the various embodiments.
- an information storage medium such as a computer-readable medium
- a person of ordinary skill in the art will appreciate other ways and/or methods to implement the invention.
- a “computer-readable medium” may be any medium that can contain, store, communicate, propagate, or transport the program for use by or in connection with the instruction execution system, apparatus, system or device.
- the computer readable medium can be, by way of example only but not by limitation, an electronic, magnetic, optical, electromagnetic, infrared, or semiconductor system, apparatus, system, device, propagation medium, or computer memory.
- Such computer-readable medium shall generally be machine readable and include software programming or code that can be human readable (e.g., source code) or machine readable (e.g., object code).
- a “processor” includes any, hardware system, mechanism or component that processes data, signals or other information.
- a processor can include a system with a general-purpose central processing unit, multiple processing units, dedicated circuitry for achieving functionality, or other systems. Processing need not be limited to a geographic location, or have temporal limitations. For example, a processor can perform its functions in “real-time,” “offline,” in a “batch mode,” etc. Portions of processing can be performed at different times and at different locations, by different (or the same) processing systems.
Abstract
Description
- This application claims a benefit of priority from U.S. Provisional Application No. 61/770,953, filed Feb. 28, 2013, and is a continuation-in-part of U.S. patent application Ser. No. 13/195,753, filed Aug. 1, 2011, entitled “SYSTEM, METHOD AND COMPUTER PROGRAM PRODUCT FOR FRACTIONAL ATTRIBUTION USING ONLINE ADVERTISING INFORMATION,” which are incorporated by reference in their entireties as if fully set forth herein. This application relates to U.S. patent application Ser. No. ______ (Attorney Docket No. ADOM1200-1), filed Oct. 17, 2013, entitled “SYSTEM AND METHOD FOR FRACTIONAL ATTRIBUTION UTILIZING USER-LEVEL DATA AND AGGREGATE LEVEL DATA,” which is fully incorporated by reference herein.
- A portion of the disclosure of this patent document contains material which is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction by anyone of the patent document or the patent disclosure, as it appears in the Patent and Trademark Office patent file or records, but otherwise reserves all copyright rights whatsoever.
- This invention relates generally to the field of building advertising analytics platforms and specifically to the field of system, method and architecture for advertising conversion fractional attribution analysis using aggregated advertising information, including information on non-converted users.
- The modern advertising industry can take advantage of many channels for commercial messaging. These include traditional offline channels, such as direct mail, print, radio, and television, as well as a variety of online channels, like Web page advertising, search engine advertising, social media advertising, and email advertising.
- Challenges exist in finding out more fair and correct credits each advertisement event deserves. Consequently, there is always room for innovations and improvements.
- Marketers often need to determine the effectiveness of multiple advertising campaigns in terms of how much “conversion” credit advertisement event (thus each campaign/site/creative/channel) deserves. In this disclosure, a “conversion” refers to a desired activity, such as a user's purchase of an advertiser's product or service. This can be an issue, for example, if an ad buyer wants to determine a price for a direct buy, i.e., a direct interaction with an ad publisher, and also in the case of real-time bidding across sites.
- A fractional attribution solution that leverages user-level data from online channels is described in the commonly-assigned, co-pending U.S. patent application Ser. No. 13/195,753, entitled “SYSTEM, METHOD AND COMPUTER PROGRAM PRODUCT FOR FRACTIONAL ATTRIBUTION USING ONLINE ADVERTISING INFORMATION,” which is fully incorporated by reference herein.
- In some cases, user-level data may not be available. For example, for a direct mail advertising channel, it may be possible to tie converted direct mail users to their online events (i.e., an ad exposure) by matching information collected at conversion time such as registration forms, surveys, questionnaires, etc. to online user activities, for instance, via online cookies, etc. However, there is no way to track users who received/opened their mail but never converted. This example illustrates that it can be very difficult, if not impossible, to connect a non-converting user's offline touch points with the user's online touch points. Consequently, it can be difficult to ascertain the effectiveness or influence of an offline ad campaign on an online user's behavior.
- The non-availability of user-level data may arise also for online channels such as social channels. For example, social networking sites such as Twitter may be willing to share more details about converted users but not details about everybody. Accordingly, a new approach and methodology is needed to properly assign fractional conversion credit to touch points.
- In this disclosure, the term “touch point” (also referred to as touchpoint, contact point, or point of contact) refers to any encounter between a consumer and a business. For example, a listener heard an ad about a business on the radio. In this case, the radio represents an offline channel and the ad represents an offline advertising event occurring via the offline channel. Suppose this is the first time the listener encountered the business. This encounter represents an offline touch point. Suppose the listener then went online and visited a website of the business and, while there, made a purchase through the website. The listener's visit to the business's website represents an online touch point. Those skilled in the art will recognize that, whether it is offline or online, a channel can have numerous touch points.
- Although it appears that the online touch point resulted in a conversion—the listener made a purchase through the website, in this example, the offline touch point is what caused the listener to visit the business's website in the first place. To be fair and accurate, then, the offline advertising event deserves some credit for the conversion—in other words, this particular conversion should ideally be fractionally attributed to the offline advertising event occurring in the offline channel. However, as the above example illustrates, offline touch points and online touch points may not overlap. Therefore, it can be very difficult, if not impossible, to combine and/or properly associate offline touch points with online touch points.
- Furthermore, without user-level data, existing methods are unable to correctly and accurately capture the causal relationship between each channel and a conversion target. Traditional marketing mix modeling or marketing mix optimization (MMM/MMO) models try to capture lag effect using ad stock analysis and non-linear interactions of channels using generalized linear models. Such channel-level attribution methods using aggregate-level time-series data have been studied in the field of MMM/MMO and thus are not further described herein. These channel-level attribution methods do not account for causality. For example, when two channels such as display and search are correlated and one may drive the volume of the other or even influence the conversion rate the other, simple regression models fail to give proper weights to each of the two channels that reflect the true causal relationship between each channel and the conversion target. Instead, the influence of one channel (e.g., display) may get assimilated into the weight for the search channel.
- Accordingly, a new approach is needed to determine accurate conversion credit deserved by each channel and/or campaigns under each channel. The new approach may rely on aggregate-level data to capture causal relationships among different channels and conversions.
- Embodiments can leverage instrumental variables to derive the causal influence weight of any channel on conversions. Here, a goal is to find a variable that influences the channel's volume but not directly conversions. This variable is called an instrumental variable for the channel of interest. Such an instrumental variable may introduce random changes in the channel's volume that are not correlated with other channels. This is an entirely data-driven approach in that the importance (which serves as the basis of calculating attribution fraction) of each advertisement event is derived based on data, on both converted and non-converting users.
- The new fractional attribution approach is data-driven, without preconceived bias on the importance of different channels. It is also a general approach that works with any number of different types of advertising channels, as long as daily total ad volume is reliably captured. The new approach expands beyond online advertising channels for which cookie-based user level data is available and is able to attribute conversion credit to advertising channels for which no user-level data is available or user-level data is difficult and expensive to get. Embodiments disclosed herein provide an accurate modeling of causal relationship among channels and conversions to thereby determine the most accurate credit to each channel or sub-channel involved.
- In some embodiments, a fractional attribution method may include arranging, by a computer, a plurality of channels into a plurality of funnel stages based on a conversion rate associated with each channel, constructing aggregate-level data, and computing a multi-stage regression on the plurality of funnel stages using the aggregate-level data to thereby determine channel weights for the plurality of channels. The order by which the plurality of funnel stages is arranged may be overridden based on domain knowledge. Where necessary, a channel may be split into sub-channels. A causal analysis may be performed on the plurality of channels using instrumental variables. Specifically, assume there are m levels in the plurality of funnel stages, a system implementing the causal analysis may first determine causal weights for the mth level channels using a two-stage least squares algorithm and using all channels above the mth level as instrumental variables. After the causal weights for the mth level channels are determined, the system may determine causal weights for m−1th level channels, with residual channels as dependent variables and channels above the m−1th levels as instrumental variables. This process may be repeated until all causal weights are determined for the plurality of channels.
- In some embodiments, an attribution method disclosed herein may be embodied in a computer program product comprising at least one non-transitory computer readable medium storing instructions translatable by at least one processor to perform the attribution method. In some embodiments, an attribution system may comprise software and hardware, including at least one processor and at least one non-transitory computer-readable storage medium that stores computer instructions translatable by the at least one processor to perform an attribution method disclosed herein.
- Numerous other embodiments are also possible.
- These, and other, aspects of the disclosure will be better appreciated and understood when considered in conjunction with the following description and the accompanying drawings. It should be understood, however, that the following description, while indicating various embodiments of the disclosure and numerous specific details thereof, is given by way of illustration and not of limitation. Many substitutions, modifications, additions and/or rearrangements may be made within the scope of the disclosure without departing from the spirit thereof, and the disclosure includes all such substitutions, modifications, additions and/or rearrangements.
- The drawings accompanying and forming part of this specification are included to depict certain aspects of the disclosure. It should be noted that the features illustrated in the drawings are not necessarily drawn to scale. A more complete understanding of the disclosure and the advantages thereof may be acquired by referring to the following description, taken in conjunction with the accompanying drawings in which like reference numbers indicate like features and wherein:
-
FIG. 1 depicts a diagrammatic representation of an example user transaction in a network environment where embodiments disclosed herein may reside; -
FIG. 2 depicts a diagrammatic representation of an example system architecture comprising multiple clients coupled to an attribution platform, implementing some embodiments disclosed herein; -
FIG. 3 depicts an exemplary event tree according to some embodiments disclosed herein; -
FIG. 4 is a flowchart illustrating attribution modeling according to some embodiments disclosed herein; -
FIG. 5 is a table illustrating comparative results for fractional attribution and last event attribution according to some embodiments disclosed herein; -
FIG. 6 is a plot diagram illustrating comparative differences by campaign for fractional attribution and other attribution methods according to some embodiments disclosed herein; -
FIG. 7 is a table illustrating cost per conversions based on attribution results; -
FIG. 8 is a table illustrating exemplary channel weighting; and -
FIG. 9 is a flowchart illustrating operation of embodiments. - The disclosure and various features and advantageous details thereof are explained more fully with reference to the exemplary, and therefore non-limiting, embodiments illustrated in the accompanying drawings and detailed in the following description. Descriptions of known programming techniques, computer software, hardware, operating platforms and protocols may be omitted so as not to unnecessarily obscure the disclosure in detail. It should be understood, however, that the detailed description and the specific examples, while indicating the preferred embodiments, are given by way of illustration only and not by way of limitation. Thus, any examples or illustrations given herein are not to be regarded in any way as restrictions on, limits to, or express definitions of, any term or terms with which they are utilized. Instead these examples or illustrations are to be regarded as being described with respect to one particular embodiment and as illustrative only. Those of ordinary skill in the art will appreciate that any term or terms with which these examples or illustrations are utilized encompass other embodiments as well as implementations and adaptations thereof which may or may not be given therewith or elsewhere in the specification and all such embodiments are intended to be included within the scope of that term or terms. Language designating such non-limiting examples and illustrations includes, but is not limited to: “for example,” “for instance,” “e.g.,” “in one embodiment,” and the like. Various substitutions, modifications, additions and/or rearrangements within the spirit and/or scope of the underlying inventive concept will become apparent to those skilled in the art from this disclosure.
-
FIG. 1 depicts a diagrammatic representation of an example network environment for fractional cross-channel attribution. - In the example of
FIG. 1 , auser 102 may “convert,” or perform a desired action, after clicking a link 104 (e.g., a banner ad on apublisher web site 114, asearch engine ad 110, or an ad on another channel 112), via auser device 106 at a particular Internet Protocol (IP) address and being directed vianetwork 122 to the advertiser'sweb page 116.Conversion 118 can be a purchase transaction, but could also include such actions as registering with a Web site, signing up for product information, and the like. The conversion may occur after exposure to a commercial viatelevision 122,print media 124, orradio 126. - An
attribution platform 120 in accordance with embodiments of the invention allows theadvertiser 116 to make informed decisions about payment for advertisements and future ad campaigns. - Data from the
click 101 andultimate conversion 118 may be collected in a variety of ways. In some embodiments, one or more computers in thenetwork 122 may collect click data. In some embodiments, a click data collecting computer may be a server machine residing in apublisher 114's or other party's computing environment or network. In some embodiments, the click data collecting computer may collect click streams associated with visitors to one or more Web sites. In some embodiments, the collected information may be stored in one or more log files. In some embodiments, the information associated with the plurality of clicks may comprise visitor Internet Protocol (IP) address information, date and time information, publisher information, referrer information, user-agent information, searched keywords, cookies, and so on. For additional examples on collecting information provided from a visitor's Web browser application, readers are directed to U.S. patent application Ser. No. 11/796,031, filed Apr. 26, 2007, entitled “METHOD FOR COLLECTING ONLINE VISIT ACTIVITY,” which is fully incorporated herein by reference. - In some embodiments, the
attribution platform 120 employs “ad tags” for monitoring impression data and “page tags” for monitoring click data. Ad tags can be 1×1 pixels embedded in page code at the publisher site and can be used to determine where the ad is on a page (above or below a “fold,” i.e., visible with or without scrolling) and whether and how long a user sees it. Page tags can be embedded in a similar manner on the landing page, and can identify whether a user has arrived and where the user comes from. Example tags are included in the attached Appendices A and B. As will be described in greater detail below, ad tags or page tags can be transmitted to theattribution platform 120 responsive to a user viewing or clicking on an ad and viewing or clicking on an associated web page. - In addition, in some embodiments, “aggregate” data may be provided or collected. For example, such aggregate data can include data from offline sources, such as television or radio ratings over predetermined periods, magazine and newspaper circulation on a per issue basis, and the like. In addition, in certain embodiments, user-level data from online sources may be “aggregated out” to correspond to similar data from offline sources. Examples of aggregate-level data include daily total impressions and click and conversion volumes by channel. External time series data such as consumer price index may also be leveraged, depending on the particular embodiment.
-
FIG. 2 depicts a diagrammatic representation ofexample system architecture 200 comprising one ormore clients 202 andattribution platform 220. A user may browse apublisher site 204 which maintains one or more ad tags 205. Ad tag data can be sent to atag server 210, responsive to a user viewing or clicking an ad, which stores in adatabase 216, impression data sorted by customer. Such data may include, e.g., where, when, and how long a user viewed the ad. - An
ad server 212 may be used to maintain the ad on the publisher'sweb site 204. Theuser 202 may click an ad to arrive at alanding page 208. Embedded on thelanding page 208 includes apage tag 207, which identifies user accesses to thelanding page 208 and may be sent to adatabase 214 accessible by theattribution platform 220. Anadvertiser 206 records aconversion 218, if any, and likewise provides the information to theattribution platform 220. -
Attribution platform 220 may reside in a computing environment comprising one or more server machines. Each server machine may include a central processing unit (CPU), read-only memory (ROM), random access memory (RAM), hard drive (HD) or non-volatile memory, and input/output (I/O) device(s). An I/O device may be a keyboard, monitor, printer, electronic pointing device (e.g., mouse, trackball, etc.), or the like. The hardware configuration of this server machine can be representative of other devices and computers alike at a server site (represented by platform 220) as well as at a client site. - Embodiments of
platform 220 disclosed herein may include a system and a computer program product implementing a method for fractional attribution in a network environment. In some embodiments,platform 220 may be owned and operated independent of the clients that it services. For example, companyA operating platform 220 may provide attribution services to company B operating a client (not shown). In one embodiment, Companies A and B may communicate over a network. In one embodiment, Companies A and B may communicate over a secure channel in a public network such as the Internet. Example clients may include advertisers, publishers, and ad networks. - In some embodiments, the system may run on a Web server. In some embodiments, the computer program product may comprise one or more non-transitory computer readable storage media storing computer instructions translatable by multiple processors to process attribution data. The input data may be from a log file, a memory, a streaming source, or ad and page tags. Within this disclosure, the term “attribution data” refers to any and all data associated with online advertising events such as clicking on an ad, viewing an ad (an impression), entering a search query, conversion, and so on, and may include click history data, click intelligence data, post-click data, visitor profile data, impression data, etc.
- In some embodiments, software running on a server computer in
platform 220 may receive a client file containing attribution data from an attribution data collecting computer associated with a client. For example, a client may represent an online retailer and may collect click stream data from visitors to a Web site own and/or operated by the online retailer. The attribution data thus collected can provide a detailed look at how each visitor got to the Web site, what pages were viewed by the visitor, what products and/or services the visitor clicked on, the date and time of each visit and click, and so on. - The specific attribution data that can be collected from each click stream may include a variety of entities such as the Internet Protocol (IP) address associated with a visitor (which can be a human or a bot), timestamps indicating the date and time at which each request is made or click is generated, target URL or page and network address of a server associated therewith, user-agent (which shows what browser the visitor was using), query strings (which may include keywords searched by the visitor), and cookie data. For example, if the visitor found the Web site through a search engine, the corresponding click stream may contain the referrer page of the search engine and the search words entered by the visitor. Attribution data can be created using a corporate information infrastructure that supports a Web-based enterprise computing environment. A skilled artisan can appreciate what typical attribution click streams may contain and how they are generated and stored.
- Thus, in some embodiments, optimization data may include an impression/click record for every ad impression/click received from a given client of the system. An example impression/click record may include Impression/click timestamp; visitor cookie (if available, may be set up as a domain cookie for persistent visitor identification); visitor IP address; visitor browser user-agent; impression/click source (may be a publisher ID or a referrer domain); click destination (landing page Web address or bid keywords for advertisers); and conversion data (whether the visitor executed a desired conversion).
- The optimization data returned from log files or tags may comprise one or more rows of data arranged in a plurality of fields. For example, in some embodiments, each row of event data includes twenty-three fields, defined as follows:
-
- 1. Server Timestamp, in YYYYMMddHHmmss format (UTC)
- 2. Request ID, generated by the server as a unique identifier for the logging call
- 3. Cookie ID. Omitted if the browser does not accept cookies.
- 4. Source IP
- 5. Interaction/Event Type
- <empty>=Old logs/tags did not specify an interaction type; this should be processed as an impression for those, but all recent data should process this as an error
- ?=Error condition—an invalid or unknown interaction type was specified. May indicate that an old parser is processing newer log files if there is a high frequency.
- 0=Impression
- 1=Click
- . . .
- 6. Session ID—a number generated on page load by the browser and sent on all requests from that page (Impression, On Load, Post, etc.), used to correlate those events together. Populated in JavaScript tags only, 0 for pixel tags.
- 7. Campaign ID
- 8. Placement ID—may be an ID generated by us, if hard-coded in the tag, or the ad server placement ID, if populated by macro on the ad server.
- 9. Publisher ID—often not used (0)
- 10. Creative ID—rarely used (0), but may be used to indicate the creative.
- 11. Agency ID—often not used (0).
- 12. Visibility—1 if the tag is in an iFrame and visibility information cannot be collected. This prevents collection of ad seen and ad time data, as well as possibly indicating a “bogus” (ad server) referrer. Populated in JavaScript tags only.
- 13. Location on Page. Populated in JavaScript tags only.
- 0=Banner (top 20%)
- 1=Left Column (left 30%)
- 2=Center Column (middle 40%)
- 3=Right Column (right 30%)
- 4=Below the fold
- 5=Everything else (off right)
- 14. Ad Seen. 1 if the ad is not in an iFrame and was viewed at some point, captured by a JavaScript tag. Empty otherwise.
- 15. Screen resolution, Width×Height×Bit Depth; JavaScript tag only.
- 16. Time on Ad—the amount of time (seconds) the ad was scrolled into view in the client; only available from the JavaScript tag when not in an iFrame
- 17. Time on Page—the amount of time (seconds) the page was viewed; only available from the JavaScript tag
- 18. Source URL (URL encoded)—Best effort at finding the page URL. The JavaScript attempts to “climb out” of iFrames when possible to determine this, though sometimes the referrer must be used. The server component will attempt to extract the actual source URL from some known ad server referrers, if possible.
- 19. User Agent (URL encoded)
- 20. Demographic data. Pipe (“I”) delimited segments from the relevant demographic provider, as indicated by the interaction type.
- 21. Referrer URL (URL encoded)—The referrer of the page containing the tag, if available (i.e., not in a non-friendly iFrame and for the channel.js page tag); otherwise, the actual http referrer of the pixel/tag.
- 22. Revenue—if available (e.g., via Brighttag)
- 23. Custom (URL encoded)—any custom/unknown parameters specified on the http request, not otherwise handled. These take the form of ‘key1=value1;key2=value2;key3 . . . ’. An example of usage is to pass the custom field ‘checkout_rank=N’ through in this manner.
- An exemplary event row is shown in Table 1 below:
-
TABLE 1 column value 1 20130719180002 2 Q2I2MzMxOGRIMjAxMzA3MTkxNDAwMDI3Mg== 3 C70d37a002013041209093840 4 12.43.117.146 5 4 6 903947 7 2118 8 63507 9 0 10 0 11 0 12 1 13 14 15 16 17 18 https%3A%2F%2Fwww.ideeli.com%2Flogin%3Futm_campaign%3DDaily %26utm_medium%3Demail%26utm_source%3Dideeli%26csync%3D1 Mozilla%2F5.0+%28Windows+NT+5.1%29+AppleWebKit%2F537.36+% 28KHTML%2C+like+Gecko%29+Chrome%2F28.0.1500.72+Safari%2F5 37.36 19 20 https%3A%2F%2Fwww.ideeli.com%2Flogin%3Futm_campaign%3DDaily %26utm_medium%3Demail%26utm_source%3Dideeli 21 22 23 - For the sake of simplicity, hardware components (e.g., CPU, ROM, RAM, HD, I/O, etc.) are not illustrated in
FIG. 2 . Embodiments disclosed herein may be implemented in suitable software code (i.e., computer instructions translatable by a processor). As one skilled in the art can appreciate, computer instructions and data implementing embodiments disclosed herein may be carried out on various types of computer-readable storage media, including volatile and non-volatile computer memories and storage devices. Examples of computer-readable storage media may include ROM, RAM, HD, direct access storage device arrays, magnetic tapes, floppy diskettes, optical storage devices, etc. As those skilled in the art can appreciate, the computer instructions may be written in any suitable computer language, including C++. In embodiments disclosed herein, some or all of the software components may reside on a single server computer or on any combination of separate server computers. Communications between any of the computers described above may be accomplished in various ways, including wired and wireless. As one skilled in the art can appreciate, network communications can include electronic signals, optical signals, radio-frequency signals, and other signals as well as combinations thereof. - It may be helpful to first describe a method for using event level or user level data for fractional attribution.
- Without loss of generality, assume that a user has had three events (i.e., three interactions with a marketer's various campaigns; the definition of interactions is discussed below), prior to her conversion. The fractional attribution problem includes figuring out what fraction of the conversion credit goes each of the three events. A more mathematical description can be as follows:
- If a user had events E1, E2, and E3 and then converted, what fractional credit w1 goes to E1, w2 goes to E2, and w3 goes to E3, subject to Σj=1 3wj=1?
- In this example, it is assumed that the conversion event is 100% driven by the combination of the three events {E1, E2, E3}. In reality this might not be true. However, it appears likely that whatever factors not observed introduce the same bias to all the campaigns in the data. The fractional attribution results are still useful in reflecting the relative importance of different channels/campaigns or of any other entities in which one might be interested.
- In some embodiments, a good attribution model may possess three desirable properties: Monotonicity (Property 1); Correlation with Conversion (Property 2); and Accounting for Event Interactions (Property 3).
- The first desired property is Monotonicity, which means that if two events (e.g., E1 and E2) were combined into one composite event E12 then the fraction credit w12 for E12 should most likely be no less than w1 or w2. That is, w12≥w1 and w12≥w2. The intuition is that two events a converted user has with a marketer's campaigns should deserve no less credit than each of those two events individually.
- The second property, Correlation with Conversion, holds that the weight for each event should be roughly correlated with the event's ability to drive conversions based on historical data. If E1 historically has driven conversions better than E2 and E3 together, then E1 deserves more credit than either E2 and E3.
- The third property of the model should take into account as much as possible the interactions among different events. For example, if individually each of the three events has driven conversions equally well, but when E2 and E3 are together they have driven conversions much better, a higher credit weight should be given to either E2 or E3 than to E1.
- Let conversion be represented by C, in mathematical terms, this means
-
If P(C|E 1)≅P(C|E 2)≅P(C|E 3) but P(C|E 2 ,E 3)>>P(C|E 1), then w 2 >>w 1 and w 3 >>w 1. - Embodiments make use of data-driven probabilistic models. That is, all the conditional probability estimates discussed herein are based on historical data.
- In particular, each conditional probability P(A|B) can be derived from historical data by dividing the number of users who (at least) had events A and B by number of users who (at least) had event B. That is,
-
- Embodiments may make use of any of a variety of models, although some may be more or less desirable, depending on the nature of the data.
- A first model (Model 1) may be the Naïve Bayes model:
- Consider the naïve Bayes model for P(C|E1, E2, E3):
-
P(C|E 1 ,E 2 ,E 3)∝P(C|E 1)·P(C|E 2)·P(C|E 3). (1) - One natural idea would be to use
-
w j =P(C|E j),j=1,2,3. (2) - This naïve choice does possess
Properties 1 and 2 discussed above. However, this model assumes that the three events {E1, E2, E3} are independent given the conversion event C. It does not return the right answer when there are strong event correlations; that is, it does not possess Property 3. For example, in the example used for explaining Property 3, this model would NOT give a higher weight to either E2 or E3 than that to E1, which is desired. - A second model (Model 2) may be the Conversion Index model:
- If w1 is set to be the conversion index of E1
-
- where Ē1 means “no event E1”. This model turns out to be very similar to the naïve Bayes model because w1 in (3) is strongly positively (although nonlinearly) correlated with P(C|E1). As in the naïve Bayes model, correlations among the three events are not taken into account.
- A third model (Model 3) may be the Conditional Importance model:
- Consider capturing the importance E1 by the conditional probability
-
- which indicates how likely E1 is observed, given that {E2, E3, C} are observed.
- However, with (4), w1 may change in the wrong direction when the specificity of E1 is increased. For example, if (4) were used to compute the importance of a composite event E12={E1, E2}, the result would be
-
- which will most likely be smaller than w1, even though according to
Property 1 one would normally expect the opposite (w12>w1), i.e., the composite event E12 should most likely get more conversion credit, not less. - A fourth model (Model 4) may be the Marginal Importance model:
- Consider an improvement of Model 3 as follows
-
- This normalizes the probability of seeing E1 given {E2, E3, C} in (4) by the probability of seeing E1 given {E2, E3}. The idea is that, if E1 is equally likely with or without C (given {E2, E3}), then it is probably not that important. Also what it means is that if E2&E3 together drive conversions as well as all three events together, i.e., P(C|E2, E3) is close to P(C|E1, E2, E3), then E1 is probably not that important and the weight for E1 should be small.
- This new importance measure does not have the issue of Model 3 as the composite event E12={E1, E2} would have an importance weight most likely higher than w1 or w2 alone. It can be imagined that
-
- is most likely higher than w1 as it is most likely that P(C|E3)<P(C|E2, E3). Again the intuition here is that normally for a given user, the more he is advertised to, the more likely he is to convert.
- This model also addresses the issue of not considering event interactions (as mentioned for Model 1&2). Suppose E1 & E2 together is effective and drives a high P(C|E1, E2) but it is not the case for P(C|E1, E3) and P(C|E2, E3), it can be seen that based on (5) E1 & E2 will each get more credits than E3.
- A variant of Model 4 can be
-
- This weight becomes zero when P(C|E2, E3)=1.
- Overall, the Marginal Importance model in (5) may provide better results than the other models discussed and possesses the three desired properties proposed above.
- To generalize to the situation in which there are there are more than three events, say a converted user had K events, {E1, E2, . . . , EK}, the credit weight for E1 (j=1, . . . , K) would be
-
- where {E1, E2, EK}\EJ means the subset of {E1, E2, EK} without E1.
- The definition of events may vary from implementation to implementation. For example, E1 could represent a user seeing one or more impressions from a specific campaign; or a user seeing one or more impressions from a specific campaign more than two weeks ago; or a user seeing exactly two impressions from a specific campaign in the last day; or a user seeing one or more impressions on a specific site in the last day; etc.
- As can be appreciated, the list of possible definitions can quickly become intractable. The question is which definitions make more sense than others for a particular implementation and how to combine attribution results if one were to run attribution analysis with different event definitions.
- It may be desirable to define an event as specifically as possible; e.g., a user seeing exactly n impressions from campaign x with creative y on site z exactly m days ago. However, defining events at that deep level of granularity may encounter data sparsity—often there is not enough data to robustly derive the conditional probabilities described in the previous section. It may sound counterintuitive as the system easily collects billions of impressions and hundreds of millions of users every month from a large advertiser. However, not many users would share the same event of “seeing exactly n impressions from campaign x with creative y on site z exactly m days ago”. When the number of users is small, there would be low confidence in the conditional probabilities estimated.
- To increase confidence levels, one can define events at a less granular level such as the campaign level. There are likely a lot of (both converted and non-converting) users sharing the event of “seeing at least one impression from campaign x”, making the estimates at campaign level more robust. However, if there are only estimates at the campaign level, it does not help to attribute conversion credits across different sites, different frequency or recency values for the same campaign.
- In some embodiments, an attribution analysis may be run at many different granularity levels and then combined based on confidence values of different estimates. One technique for this task is “hierarchical Bayesian shrinkage.” The goal is to get as robust as possible an estimate at the most granular level. One way to address data sparsity at the granular level is to borrow information (or estimates) from lower granularity levels.
- In some embodiments, different levels can be arranged into a
hierarchy 300 like the one shown inFIG. 3 . In particular, shown areparent nodes campaign 302 andsite 304.Campaign node 302 is less granular and a parent to the nodes at the next most granular level, campaign+frequency 306 and campaign+recency 308. Thenodes - Likewise,
parent node site 304 is parent to site+frequency 312 and site+frequency node 314 which, in turn, are parents to site+frequency+recency node 316.Nodes - The attribution weight for a given event can be calculated for every node in the hierarchy and combined based on the confidence of each calculation. Confidence can be a function of the amount of data (i.e., the number of users) used to estimate the conditional probabilities. For example, a reasonable confidence function is the sigmoid function
-
- where n is the number of users, and μ and α are adjustable parameters. The parameter μ determines when confidence becomes 0.5 and α controls how fast the confidence grows with n.
- One way of combining the attribution weights estimated at different granularity levels is to take a confidence-weighted average across different levels. That is,
-
Σl g l w l/Σl g l, - where w1 is the attribution weight at level l and gl is the confidence at level l. This effectively shrinks the (less robust) estimate at the most granular level towards (more robust) estimates at less granular levels, thus the name of “shrinkage”. In statistical terms, it is a tradeoff between bias and variance. At more granular levels, the estimates have lower bias but higher variance; at less granular levels, the estimates have lower variance (i.e., more robust) but higher bias. It will be appreciated that the actual equation may vary somewhat from implementation to implementation. For example, one embodiment may add a level-dependent weight that is fixed for each level to reflect prior knowledge about the importance of difference levels. That is, if enough data can be had at a campaign+recency level, one might want to give more weight to that level than to a less granular (e.g., campaign) level.
-
FIG. 4 is a flowchart illustrating operation of embodiments of the invention for generating fractional attribution results. - In a
step 402, conversions and events are defined. As noted above, in some embodiments, a conversion is a desired activity, such as a user purchase of an advertiser's product or service. An event can be one or more user-defined events or sequences of events. - In a
step 404, for each event definition (i.e., a particular granularity level), event sets for each user/conversion are created. This is essentially to arrange events by user and conversion. For each incidence of the conversion, this step may include listing all the event item exposures the user had prior to the conversion. Events are defined and tracked from the raw impression/click/conversion data obtained from the ad tags and page tags or log files or other data collected. - In a
step 406, for each event definition, create event subsets that need counts. That is, for each event set of size K (that associates with a conversion), generate K−1 event subsets as explained above. - In a
step 408, for each event definition, and for each event subset generated, count the number of converted users and number of non-converting users and use the ratio between those two as the basis for computing attribution weights. The total user counts may also be used as the basis for computing confidence as described above. - In a
step 410, for each event definition, populate the attribution weights down to the most granular event level, i.e., individual impressions or clicks. Depending on the event definition, each event may map to one or more impressions/clicks and the attribution weight computed for the event will be evenly distributed down to individual impressions/clicks. For example, if events are defined by a campaign+recency, an event (campaign x+3 days ago) gets a weight of 0.6 and it corresponds to 10 impressions on that day, then each of those 10 impressions would get a weight of 0.06. - Finally, in a
step 410, combine the attribution weights from different event definitions (i.e., different granularity levels) using, for example, the hierarchical Bayesian shrinkage method described above. - In some embodiments,
step 406—getting the user counts for each event subset—is computationally intensive. There can be hundreds of millions of users and hundreds of thousands of subsets. Each user is represented by an event set (all the events the user has had). The basic operation is, for each user and each subset, to determine if the user's event set contains the subset of interest (for which we want to get user counts). - One efficient way of doing the counting is to determine, for each user, which n events he has seen, and to define (n−1) subsets. For example, if he has seen events E1, E2, E3, then the subsets are defined as follows:
- For each event in any of the subsets, keep track of the list of the indexes of the subsets that contain the item.
- Then, for each user, go through each event in the user's event set and add all the subset indexes to a hash and keep track of the counts. For example, for event E1, add the subset indexes of S1 and S2 to a hash; for event E2, add the subset indexes of S1 and S3 to a hash; and for event E3, add the subset indexes of S2 and S3 to a hash. If the hash count of a subset index equals the length of the subset, increase the user count for a subset.
- These steps can be performed for both converted users and non-converting users, separately, to obtain the counts. Further, these steps can be easily parallelized in practice.
- An additional simplification may be made by noticing that most of the users are non-converting users. As such, a sample of the non-converting users may be taken to reduce the computation. Experiments have shown that using a 10% sample of non-converting users seems to generate roughly the same attribution weights vs. using all users' data.
- The process of shortcut counting of converting and nonconverting users is shown below by way of an eight event example:
- Shown in Table 2 below are exemplary event data (each row in this example is a user event sequence; E1-E8 are eight events to be assigned conversion credits; C/NC stands for conversion/no conversion):
-
TABLE 2 E1 E2 E3 → C E1 E2 E5 → NC E3 E4 E5 → C E1 E3 E4 E5 → NC E1 E2 E6 → C E3 E4 E5 E6 → NC E1 E5 E6 E7 → C E1 E2 E4 E6 E7 → NC E2 E3 E4 E7 → NC E1 E2 E3 E5 E7 → NC E1 E3 E5 E6 E8 → NC E2E6 → NC - For each converted user, generate all leave-one-out sub-sequences. For example, from the first converted user, one gets {E1 E2}, {E2 E3}, and {E1 E3}.
- Next, merge the sub-sequences from all converted users. For example, from the four converted users, one gets the following 12 sub-sequences, where the second column is an index assigned to the sub-sequences. This is shown in Table 3 below.
-
TABLE 3 {E1 E2}, 1 {E2 E3}, 2 {E1 E3}, 3 {E3 E4}, 4 {E4 E5}, 5 {E3 E5}, 6 {E1 E6}, 7 {E2 E6}, 8 {E1 E5 E6}, 9 {E1 E5 E7}, 10 {E1 E6 E7}, 11 {E5 E6 E7}, 12 - For each sub-sequence S, count the number of converted users (nconv) and number of non-converting users (nnonconv) that have the sub-sequence and compute the conditional probability
-
- (the
extra count 1 and 2 added to the numerator and denominator are priors used to smooth out estimate from very sparse data). - To get the counts (nconv and nnonconv), do the following:
- For each event, build an inverted index for each event that appeared in any converted user sequence, which stores the indexes of the sub-sequences that contain the event. This is shown in Table 4 below.
-
TABLE 4 E1 → {1, 3, 7, 9, 10, 11} E2 → {1, 2, 8} E3 → {2, 3, 4, 6} E4 → {4, 5} E5 → {5, 6, 9, 10, 12} E6 → {7, 8, 9, 11, 12} E7 → {10, 11, 12} - For each user sequence in Table 2, use the inverted index to determine which sub-sequences in Table 3 are subsets of the user sequence, i.e., for which sub-sequences one should increment nconv and/or nnonconv. That is, for the first converted user sequence {E1 E2 E3→C}, generate the following list (see Table 5 below) from the inverted index Table 4: {1,3,7,9,10,11; 1,2,8; 2,3,4,6} and then the sub-sequence counts (number of times appearing in the list):
-
TABLE 5 1:2 ✓ 2:2 ✓ 3:2 ✓ 4:1 x 6:1 x 7:1 x 8:1 x 9:1 x 10:1 x 11:1 x
where the last column indicates whether each sub-sequence is a subset of the user sequence (by comparing the counts in the second column to the length of the sub-sequence; e.g.,sequence 1 has a count of 2 in Table 5 and a length of 2 as seen in Table 3). Therefore, by going through, the user sequence {E1 E2 E3→C}, it was determined that one should increase nconv forsub-sequence 1, 2, and 3. - Results from operation of attribution modeling according to some embodiments will be discussed by way of example below.
-
FIG. 5 shows attribution weights for a particular user with six impression events before a conversion. The six impressions (imp_1, imp_2, imp_6) are arranged in temporal order. The last-click model assigns all credit to imp_6 whereas an even attribution model assign ⅙ credit to each of the six events. The next two rows show the results of fractional attribution model at campaign level and campaign+frequency level, respectively. In this case, there are four event items for both of those levels but the weights are different as one takes into account frequency in the event definition and the other does not. - For simplicity, results for many other levels are omitted and in the last row the final fractional attribution results based on applying hierarchical Bayesian shrinkage to combine the results from all different levels are shown.
- After this is done for every conversion, the result is a weight for each impression/click event (i.e., at the most granular level). These final weights can then be rolled up along different dimensions for reporting. Common dimensions of interest include campaign, site, creative, etc.
-
FIG. 6 compares the fractional model with the last-click model and even attribution model, after rolling up the attribution weights to campaign level. Campaign IDs are shown on the x-axis and relative difference between models on the y-axis. For example, for campaign ID 214383 (highlighted in the box), the fractional attribution model assigns to it 12% less credit than last-click model does, but 20% more than even model does. -
FIG. 7 shows some examples of the cost per conversion metrics based on attribution results. In accordance with embodiments of the invention, the cost numbers based on fractional attribution models will be more accurate and can help make better business decisions regarding whether to increase or decrease spend on a particular campaign. - As noted above, in some cases, some but not all user-level data may be available. Additionally, some user-level data may be difficult or expensive to get. For instance, a user may be exposed to a business's advertising channels such as a direct mail campaign, an email campaign, and online ads displayed on various web sites including social networking sites, etc. Thus, this user's converting path may include one or more offline channels where user-level data may not be available as well as one or more digital channels such as social networking sites where user-level data may be difficult and/or expensive to get. In such cases, a hybrid approach may be utilized to determine appropriate attribution fractions. This hybrid approach is driven by data in that the importance (which serves as the basis of calculating attribution fraction) of each advertisement event is derived based on data on both converted users and non-converting aggregate-level data. Aspects and examples of a fractional attribution approach using user-level data and aggregate level data are provided in U.S. patent application Ser. No. ______ (Attorney Docket No. ADOM1200-1), filed Oct. 17, 2013, entitled “SYSTEM AND METHOD FOR FRACTIONAL ATTRIBUTION UTILIZING USER-LEVEL DATA AND AGGREGATE LEVEL DATA,” which is fully incorporated by reference herein.
- At the aggregate level, the influence of a channel relative to other channels may also be important in terms of conversions. For example, a user may receive at home a flyer advertising a sale of a product on a web site, use a search site to research on the product, be redirected to the web site by the search site, and ultimately purchase the product (a conversion). Accordingly, it may be desirable to find the appropriate fractional attribution across channels at the aggregate level. Various approaches may be used for channel weighting, including those using regression modeling or instrumental variables. These approaches will now be described.
- A regression modeling approach can be used to build a predictive model that can predict total (multi-channel) conversions, based on channel volumes. According to embodiments, a what-if analysis to produce a “delta key performance indicator (KPI)” that can be attributed to a given channel. In particular, the what-if analysis sets the volume for a channel to 0 and uses the delta change in predicted conversions as a measure of the conversion contribution from the channel. The deltas may be normalized across all channels to get a channel weight.
- That is, delta KPI=predicted KPI (with all channels)−predicted KPI (without [what-if] channel).
- An exemplary regression model that may be used is provided below:
- x0 is length of time period (e.g., # days)
{xi}i=1, . . . , m are volumes for different channels/placements
{w,α,β} are non-negative parameters of the non-linear regression model that are designed to capture interactions between each channel/placement and the KPI and among channel/placements. - Then, the predicted KPI, ŷ, is given by:
-
- Here, w0·x0 captures the baseline; g(αkxk) captures channel-specific values; and g(Σk=1 mβkxk) captures interactions.
-
FIG. 8 shows example values for the w, α, and β parameters, the predicted KPI (ŷ), and the delta KPI (Δŷ) determined using data from a number of channels over a one month (31 day) period. - Table 6 below illustrates exemplary aggregate level data that may be used in conjunction with embodiments. In this example, Table 6 shows the KPI for data in predetermined periods (i.e., one week) for TV volume, Display volume, and Paid Search volume.
-
TABLE 6 Period TV Display Paid Search Week length Volume volume volume Index KPI (x0) (x1) (x2) (x3) 1 1641 2151449000 16804027 301862 2 1550 1324139000 17105960 295913 3 1756 1752262000 26227548 431713 4 1674 1604994000 21903751 223286 5 1919 1984001000 21154248 204708 6 1646 1104399000 9013703 155295 7 2230 664204000 8747002 142544 8 917 1994760000 8721300 127959 9 2095 2133997000 17462143 203469 10 2005 2187959000 19622518 183965 11 1817 1629374000 15305965 195570 12 839 1066385000 7120515 110342 13 1219 731298000 6230122 49386 14 3061 1075845000 30407220 298963 15 2872 1954760000 37775621 324554 16 2435 1460215000 33495246 296442 17 2429 2508148000 25601200 185078 18 1801 2816486000 25195267 360340 19 1238 2876553000 32740966 679508 20 1283 3493989000 34464282 797808 - In one embodiment, the above exemplary aggregate level data can be used to determine the weights for the aggregate-level regression model. An example of the results is shown in Table 7 below.
-
TABLE 7 Parameter Value w0 0.294972 w1 0 w2 0.460304 w3 0 w4 0.298837 alpha1 0 alpha2 0.62797 alpha3 0 beta1 0 beta2 4.20614 beta3 0 - In one embodiment, the weights may be estimated using standard multiplicative gradient descent, as can be appreciated by a person of ordinary skill in the art.
- Other channel weighting models may also be possible. A data-driven instrumental approach to capture true channel weights will now be described. In some embodiments, this approach may include arranging, by a computer, a plurality of channels into a plurality of funnel stages (or levels) based on the conversion rate associated with a channel, constructing aggregate-level data where appropriate, and running a multi-stage regression computation on the plurality of funnel stages.
- Specifically, the conversion rate of each channel may be examined and used to arrange the channels into a funnel of multiple stages. Table 8 below shows an example of different channels arranged by their conversion rates into a funnel with a plurality of funnel stages.
-
TABLE 8 Funnel Stage Channel/Sub-Channel (1 = highest) TV 1 Brand Display 2 Retargeting Display 3 Email 4 Generic Paid Search 5 Brand Paid Search 6 Organic Search 7 - In arranging the channels into a funnel of multiple stages, the computer may compute attributable conversion rate for channels that have user-level data, counting the conversions if there is at least one touch point from the channel of interest. For channels that do not have user-level data, the computer may use all the conversions.
- In some embodiments, where necessary, the funnel stage of a given channel can be overridden based on domain knowledge. For example, TV or email can be forced to be at the top of the funnel.
- Further, multiple channels may exist at the same funnel stage. For example, Display and TV may be at the same top level.
- A channel may be split into sub-channels as needed. For example, one might want to split Retargeting Display and Non-Retargeting display into two different sub-channels as the conversions rates for then can differ by more than one order of magnitude. In addition they are designed to target users at very different of funnel stages. Another example is Branded Search vs. Non-Branded Search—intuitively Branded Search is at a later stage than Non-Branded Search as the users searching for branded keywords are likely already past the awareness stage and in the consideration stage for the particular brand.
- Next, the computer may construct aggregate-level data for each channel (or sub-channel) as appropriate. For example, user-level data can be aggregated out into aggregate as described above.
- The computer may then run a multi-stage least squares regression, as an extension of a two-stage least squares algorithm. Multiple regressions may be run in a stepwise fashion as exemplified below:
- a. Assume there are m funnel stages (or levels), going from 1 to m top down. One may first try to determine weights for the bottom (m-th) level channels using the standard two-stage least squares algorithm, treating all channels above the m-th level as instrumental variables.
- b. After the causal weights of the m-th level channels are determined, do the same for the (m−1)-th level channels, with the residuals as the target (dependent variable) and the channels in the top (m−2) levels as instrumental variables.
- c. Repeat this process until the causal weights are determined for all channels.
- d. Optionally, non-negative constraints can be added so that the channel weights cannot be negative.
- For example, the functional form of the model for the example data can be:
-
y=Σ k=0 m=3 w k x k - Suppose the following funnel stages are used:
-
TABLE 9 Funnel Stage Channel/Sub-Channel (1 = highest) TV 1 Display 2 Paid Search 3 - The channel weights learned from the example data above can be as follows:
-
TABLE 10 Parameter Value w0 0.388314 w1 0 w2 0.217415 w3 0.25 - A channel weight thus determined may reflect how the key performance indicator will respond to a change to the volume (or advertising spending) of the channel at the aggregate level.
- Turning now to
FIG. 9 , a flowchart illustrating operation of an embodiment is shown. Initially (step 902), digital channels that have user-level data can be aggregated out into aggregate form. Alternatively, offline channels with only aggregate level data can be ascertained. Next (step 904), the channels can be fit to an aggregate model, such as an aggregate-level regression model. Each channel can be given a weight at the aggregate level as described above (step 906). - Embodiments can provide many advantages. For example, existing fractional attribution methods rely on marketing mix modeling or marketing mix optimization (MMM/MMO) approaches to deal with scenarios in which user-level data may not be available. Such approaches use regression models on multi-year time-series data to produce relative regression weights for different channels. Such weights are used to explain the contribution from different channels on conversions. They normally stay at the channel level and cannot assign attribution credit at more granular levels. Further, directly normalizing conversion probabilities across different channels may lead to useless results because the probabilities for different channels can differ by orders of magnitudes. To address these issues, embodiments can leverage a data-driven instrumental approach to derive the causal influence weight of any channel on conversions, without preconceived bias on the importance of different channels. This general approach works with any number of different types of advertising channels, as long as daily total ad volume is reliably captured. The new approach expands beyond online advertising channels and provides an accurate modeling of causal relationship among channels (online and offline) and conversions to thereby determine the most accurate credit to each channel or sub-channel involved.
- Although the invention has been described with respect to specific embodiments thereof, these embodiments are merely illustrative, and not restrictive of the invention. The description herein of illustrated embodiments of the invention, including the description in the Abstract and Summary, is not intended to be exhaustive or to limit the invention to the precise forms disclosed herein (and in particular, the inclusion of any particular embodiment, feature or function within the Abstract or Summary is not intended to limit the scope of the invention to such embodiment, feature or function). Rather, the description is intended to describe illustrative embodiments, features and functions in order to provide a person of ordinary skill in the art context to understand the invention without limiting the invention to any particularly described embodiment, feature or function, including any such embodiment feature or function described in the Abstract or Summary. While specific embodiments of, and examples for, the invention are described herein for illustrative purposes only, various equivalent modifications are possible within the spirit and scope of the invention, as those skilled in the relevant art will recognize and appreciate. As indicated, these modifications may be made to the invention in light of the foregoing description of illustrated embodiments of the invention and are to be included within the spirit and scope of the invention. Thus, while the invention has been described herein with reference to particular embodiments thereof, a latitude of modification, various changes and substitutions are intended in the foregoing disclosures, and it will be appreciated that in some instances some features of embodiments of the invention will be employed without a corresponding use of other features without departing from the scope and spirit of the invention as set forth. Therefore, many modifications may be made to adapt a particular situation or material to the essential scope and spirit of the invention.
- Reference throughout this specification to “one embodiment”, “an embodiment”, or “a specific embodiment” or similar terminology means that a particular feature, structure, or characteristic described in connection with the embodiment is included in at least one embodiment and may not necessarily be present in all embodiments. Thus, respective appearances of the phrases “in one embodiment”, “in an embodiment”, or “in a specific embodiment” or similar terminology in various places throughout this specification are not necessarily referring to the same embodiment. Furthermore, the particular features, structures, or characteristics of any particular embodiment may be combined in any suitable manner with one or more other embodiments. It is to be understood that other variations and modifications of the embodiments described and illustrated herein are possible in light of the teachings herein and are to be considered as part of the spirit and scope of the invention.
- Reference throughout this specification to “one embodiment”, “an embodiment”, or “a specific embodiment” or similar terminology means that a particular feature, structure, or characteristic described in connection with the embodiment is included in at least one embodiment and may not necessarily be present in all embodiments. Thus, respective appearances of the phrases “in one embodiment”, “in an embodiment”, or “in a specific embodiment” or similar terminology in various places throughout this specification are not necessarily referring to the same embodiment. Furthermore, the particular features, structures, or characteristics of any particular embodiment may be combined in any suitable manner with one or more other embodiments. It is to be understood that other variations and modifications of the embodiments described and illustrated herein are possible in light of the teachings herein and are to be considered as part of the spirit and scope of the invention.
- In the description herein, numerous specific details are provided, such as examples of components and/or methods, to provide a thorough understanding of embodiments of the invention. One skilled in the relevant art will recognize, however, that an embodiment may be able to be practiced without one or more of the specific details, or with other apparatus, systems, assemblies, methods, components, materials, parts, and/or the like. In other instances, well-known structures, components, systems, materials, or operations are not specifically shown or described in detail to avoid obscuring aspects of embodiments of the invention. While the invention may be illustrated by using a particular embodiment, this is not and does not limit the invention to any particular embodiment and a person of ordinary skill in the art will recognize that additional embodiments are readily understandable and are a part of this invention.
- Any suitable programming language can be used to implement the routines, methods or programs of embodiments of the invention described herein, including C, C++, Java, assembly language, etc. Different programming techniques can be employed such as procedural or object oriented. Any particular routine can execute on a single computer processing device or multiple computer processing devices, a single computer processor or multiple computer processors. Data may be stored in a single storage medium or distributed through multiple storage mediums, and may reside in a single database or multiple databases (or other data storage techniques). Although the steps, operations, or computations may be presented in a specific order, this order may be changed in different embodiments. In some embodiments, to the extent multiple steps are shown as sequential in this specification, some combination of such steps in alternative embodiments may be performed at the same time. The sequence of operations described herein can be interrupted, suspended, or otherwise controlled by another process, such as an operating system, kernel, etc. The routines can operate in an operating system environment or as stand-alone routines. Functions, routines, methods, steps and operations described herein can be performed in hardware, software, firmware or any combination thereof.
- Embodiments described herein can be implemented in the form of control logic in software or hardware or a combination of both. The control logic may be stored in an information storage medium, such as a computer-readable medium, as a plurality of instructions adapted to direct an information processing device to perform a set of steps disclosed in the various embodiments. Based on the disclosure and teachings provided herein, a person of ordinary skill in the art will appreciate other ways and/or methods to implement the invention.
- It is also within the spirit and scope of the invention to implement in software programming or code an of the steps, operations, methods, routines or portions thereof described herein, where such software programming or code can be stored in a computer-readable medium and can be operated on by a processor to permit a computer to perform any of the steps, operations, methods, routines or portions thereof described herein. The invention may be implemented by using software programming or code in one or more general purpose digital computers, by using application specific integrated circuits, programmable logic devices, field programmable gate arrays, optical, chemical, biological, quantum or nanoengineered systems, components and mechanisms may be used. In general, the functions of the invention can be achieved by any means as is known in the art. For example, distributed, or networked systems, components and circuits can be used. In another example, communication or transfer (or otherwise moving from one place to another) of data may be wired, wireless, or by any other means.
- A “computer-readable medium” may be any medium that can contain, store, communicate, propagate, or transport the program for use by or in connection with the instruction execution system, apparatus, system or device. The computer readable medium can be, by way of example only but not by limitation, an electronic, magnetic, optical, electromagnetic, infrared, or semiconductor system, apparatus, system, device, propagation medium, or computer memory. Such computer-readable medium shall generally be machine readable and include software programming or code that can be human readable (e.g., source code) or machine readable (e.g., object code).
- A “processor” includes any, hardware system, mechanism or component that processes data, signals or other information. A processor can include a system with a general-purpose central processing unit, multiple processing units, dedicated circuitry for achieving functionality, or other systems. Processing need not be limited to a geographic location, or have temporal limitations. For example, a processor can perform its functions in “real-time,” “offline,” in a “batch mode,” etc. Portions of processing can be performed at different times and at different locations, by different (or the same) processing systems.
- It will also be appreciated that one or more of the elements depicted in the drawings/figures can also be implemented in a more separated or integrated manner, or even removed or rendered as inoperable in certain cases, as is useful in accordance with a particular application. Additionally, any signal arrows in the drawings/Figures should be considered only as exemplary, and not limiting, unless otherwise specifically noted.
- Furthermore, the term “or” as used herein is generally intended to mean “and/or” unless otherwise indicated. As used herein, including the claims that follow, a term preceded by “a” or “an” (and “the” when antecedent basis is “a” or “an”) includes both singular and plural of such term, unless clearly indicated within the claim otherwise (i.e., that the reference “a” or “an” clearly indicates only the singular or only the plural). Also, as used in the description herein and throughout the claims that follow, the meaning of “in” includes “in” and “on” unless the context clearly dictates otherwise. The scope of the present disclosure should be determined by the following claims and their legal equivalents.
- Although the foregoing specification describes specific embodiments, numerous changes in the details of the embodiments disclosed herein and additional embodiments will be apparent to, and may be made by, persons of ordinary skill in the art having reference to this description. In this context, the specification and figures are to be regarded in an illustrative rather than a restrictive sense, and all such modifications are intended to be included within the scope of this disclosure. Accordingly, the scope of the present disclosure should be determined by the following claims and their legal equivalents.
Claims (20)
Priority Applications (1)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US14/056,925 US20180308123A1 (en) | 2011-08-01 | 2013-10-17 | System and method for fractional attribution utilizing aggregated advertising information |
Applications Claiming Priority (3)
Application Number | Priority Date | Filing Date | Title |
---|---|---|---|
US201113195753A | 2011-08-01 | 2011-08-01 | |
US201361770953P | 2013-02-28 | 2013-02-28 | |
US14/056,925 US20180308123A1 (en) | 2011-08-01 | 2013-10-17 | System and method for fractional attribution utilizing aggregated advertising information |
Related Parent Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US201113195753A Continuation-In-Part | 2011-08-01 | 2011-08-01 |
Publications (1)
Publication Number | Publication Date |
---|---|
US20180308123A1 true US20180308123A1 (en) | 2018-10-25 |
Family
ID=63854607
Family Applications (1)
Application Number | Title | Priority Date | Filing Date |
---|---|---|---|
US14/056,925 Abandoned US20180308123A1 (en) | 2011-08-01 | 2013-10-17 | System and method for fractional attribution utilizing aggregated advertising information |
Country Status (1)
Country | Link |
---|---|
US (1) | US20180308123A1 (en) |
Cited By (24)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20170148056A1 (en) * | 2014-07-24 | 2017-05-25 | Sony Corporation | Information processing device, control method, and program |
US20180341879A1 (en) * | 2016-06-29 | 2018-11-29 | Visual Iq, Inc. | Machine learning techniques that identify attribution of small signal stimulus in noisy response channels |
US20190279236A1 (en) * | 2015-09-18 | 2019-09-12 | Mms Usa Holdings Inc. | Micro-moment analysis |
US10607241B2 (en) * | 2016-10-25 | 2020-03-31 | Microsoft Technology Licensing, Llc | Identifying potential consumers for service provider marketplace |
US20200151281A1 (en) * | 2018-11-13 | 2020-05-14 | Adobe Inc. | Performing query-time attribution channel modeling |
US20200186846A1 (en) * | 2018-12-10 | 2020-06-11 | Oath Inc. | Stage-based content item selection and transmission |
CN111310061A (en) * | 2018-11-27 | 2020-06-19 | 百度在线网络技术（北京）有限公司 | Full-link multi-channel attribution method, device, server and storage medium |
US10789612B2 (en) | 2015-09-18 | 2020-09-29 | Mms Usa Holdings Inc. | Universal identification |
US11120058B2 (en) | 2018-10-22 | 2021-09-14 | Adobe Inc. | Generating and providing stacked attribution breakdowns within a stacked attribution interface by applying attribution models to dimensions of a digital content campaign |
US11222268B2 (en) * | 2017-03-09 | 2022-01-11 | Adobe Inc. | Determining algorithmic multi-channel media attribution based on discrete-time survival modeling |
US11263660B2 (en) * | 2019-06-05 | 2022-03-01 | Poshmark, Inc. | Attribution of response to multiple channels |
US11295345B1 (en) * | 2019-03-28 | 2022-04-05 | Airbnb, Inc. | Cross-channel personalized marketing optimization |
US11334911B1 (en) | 2018-03-23 | 2022-05-17 | Tatari, Inc. | Systems and methods for debiasing media creative efficiency |
US11334912B1 (en) * | 2018-12-07 | 2022-05-17 | Tatari, Inc. | Systems and methods for determining media creative attribution to website traffic |
US11347781B2 (en) | 2018-10-22 | 2022-05-31 | Adobe Inc. | Dynamically generating attribution-model visualizations for display in attribution user interfaces |
US11347809B2 (en) | 2018-11-13 | 2022-05-31 | Adobe Inc. | Performing attribution modeling for arbitrary analytics parameters |
US11348136B1 (en) | 2018-03-26 | 2022-05-31 | Tatari, Inc. | System and method for correlation of user interactions with an online presence in a distributed computer network and content distributed through a distinct content delivery network and uses for same, including quantification of latent effects on such user interactions |
US11373106B2 (en) * | 2019-11-21 | 2022-06-28 | Fractal Analytics Private Limited | System and method for detecting friction in websites |
US20220222594A1 (en) * | 2021-01-12 | 2022-07-14 | Adobe Inc. | Facilitating analysis of attribution models |
US11423422B2 (en) | 2018-11-13 | 2022-08-23 | Adobe Inc. | Performing query-time attribution modeling based on user-specified segments |
US11503351B2 (en) | 2018-03-26 | 2022-11-15 | Tatari, Inc. | Systems and methods for attributing TV conversions |
US20220374934A1 (en) * | 2021-05-18 | 2022-11-24 | Vungle, Inc. | Probabilistic advertisement revenue attribution |
US11562393B1 (en) | 2018-12-07 | 2023-01-24 | Tatari, Inc. | Self-consistent inception architecture for efficient baselining media creatives |
US20230071453A1 (en) * | 2020-01-21 | 2023-03-09 | Huawei Technologies Co., Ltd. | Advertisement Attribution Method and Device |
-
2013
- 2013-10-17 US US14/056,925 patent/US20180308123A1/en not_active Abandoned
Cited By (30)
Publication number | Priority date | Publication date | Assignee | Title |
---|---|---|---|---|
US20170148056A1 (en) * | 2014-07-24 | 2017-05-25 | Sony Corporation | Information processing device, control method, and program |
US20190279236A1 (en) * | 2015-09-18 | 2019-09-12 | Mms Usa Holdings Inc. | Micro-moment analysis |
US20190340629A1 (en) * | 2015-09-18 | 2019-11-07 | Mms Usa Holdings Inc. | Micro-moment analysis |
US10528959B2 (en) * | 2015-09-18 | 2020-01-07 | Mms Usa Holdings Inc. | Micro-moment analysis |
US10789612B2 (en) | 2015-09-18 | 2020-09-29 | Mms Usa Holdings Inc. | Universal identification |
US20180341879A1 (en) * | 2016-06-29 | 2018-11-29 | Visual Iq, Inc. | Machine learning techniques that identify attribution of small signal stimulus in noisy response channels |
US10607241B2 (en) * | 2016-10-25 | 2020-03-31 | Microsoft Technology Licensing, Llc | Identifying potential consumers for service provider marketplace |
US11222268B2 (en) * | 2017-03-09 | 2022-01-11 | Adobe Inc. | Determining algorithmic multi-channel media attribution based on discrete-time survival modeling |
US11334911B1 (en) | 2018-03-23 | 2022-05-17 | Tatari, Inc. | Systems and methods for debiasing media creative efficiency |
US11763341B1 (en) | 2018-03-26 | 2023-09-19 | Tatari, Inc. | System and method for quantification of latent effects on user interactions with an online presence in a distributed computer network resulting from content distributed through a distinct content delivery network |
US11348136B1 (en) | 2018-03-26 | 2022-05-31 | Tatari, Inc. | System and method for correlation of user interactions with an online presence in a distributed computer network and content distributed through a distinct content delivery network and uses for same, including quantification of latent effects on such user interactions |
US11503351B2 (en) | 2018-03-26 | 2022-11-15 | Tatari, Inc. | Systems and methods for attributing TV conversions |
US11347781B2 (en) | 2018-10-22 | 2022-05-31 | Adobe Inc. | Dynamically generating attribution-model visualizations for display in attribution user interfaces |
US11120058B2 (en) | 2018-10-22 | 2021-09-14 | Adobe Inc. | Generating and providing stacked attribution breakdowns within a stacked attribution interface by applying attribution models to dimensions of a digital content campaign |
US10970338B2 (en) * | 2018-11-13 | 2021-04-06 | Adobe Inc. | Performing query-time attribution channel modeling |
US11347809B2 (en) | 2018-11-13 | 2022-05-31 | Adobe Inc. | Performing attribution modeling for arbitrary analytics parameters |
US20200151281A1 (en) * | 2018-11-13 | 2020-05-14 | Adobe Inc. | Performing query-time attribution channel modeling |
US11423422B2 (en) | 2018-11-13 | 2022-08-23 | Adobe Inc. | Performing query-time attribution modeling based on user-specified segments |
CN111310061A (en) * | 2018-11-27 | 2020-06-19 | 百度在线网络技术（北京）有限公司 | Full-link multi-channel attribution method, device, server and storage medium |
US11334912B1 (en) * | 2018-12-07 | 2022-05-17 | Tatari, Inc. | Systems and methods for determining media creative attribution to website traffic |
US11562393B1 (en) | 2018-12-07 | 2023-01-24 | Tatari, Inc. | Self-consistent inception architecture for efficient baselining media creatives |
US11019379B2 (en) * | 2018-12-10 | 2021-05-25 | Verizon Media Inc. | Stage-based content item selection and transmission |
US20200186846A1 (en) * | 2018-12-10 | 2020-06-11 | Oath Inc. | Stage-based content item selection and transmission |
US11295345B1 (en) * | 2019-03-28 | 2022-04-05 | Airbnb, Inc. | Cross-channel personalized marketing optimization |
US11263660B2 (en) * | 2019-06-05 | 2022-03-01 | Poshmark, Inc. | Attribution of response to multiple channels |
US11373106B2 (en) * | 2019-11-21 | 2022-06-28 | Fractal Analytics Private Limited | System and method for detecting friction in websites |
US20230071453A1 (en) * | 2020-01-21 | 2023-03-09 | Huawei Technologies Co., Ltd. | Advertisement Attribution Method and Device |
US11875383B2 (en) * | 2020-01-21 | 2024-01-16 | Huawei Technologies Co., Ltd. | Advertisement attribution method and device |
US20220222594A1 (en) * | 2021-01-12 | 2022-07-14 | Adobe Inc. | Facilitating analysis of attribution models |
US20220374934A1 (en) * | 2021-05-18 | 2022-11-24 | Vungle, Inc. | Probabilistic advertisement revenue attribution |
Similar Documents
Publication | Publication Date | Title |
---|---|---|
US20180308123A1 (en) | System and method for fractional attribution utilizing aggregated advertising information | |
US20160034948A1 (en) | System and method for fractional attribution utilizing user-level data and aggregate level data | |
US20180349949A1 (en) | System, method and computer program product for fractional attribution using online advertising information | |
US20220067760A1 (en) | Sales prediction systems and methods | |
US20210185408A1 (en) | Cross-screen measurement accuracy in advertising performance | |
US10679260B2 (en) | Cross-device message touchpoint attribution | |
Zubcsek et al. | Predicting mobile advertising response using consumer colocation networks | |
US8655695B1 (en) | Systems and methods for generating expanded user segments | |
US8112301B2 (en) | Using consumer purchase behavior for television targeting | |
US20140351046A1 (en) | System and Method for Predicting an Outcome By a User in a Single Score | |
US8560675B2 (en) | Determining projection weights based on a census data | |
US20160098735A1 (en) | Marketing channel attribution | |
US20140122245A1 (en) | Method for audience profiling and audience analytics | |
US10853730B2 (en) | Systems and methods for generating a brand Bayesian hierarchical model with a category Bayesian hierarchical model | |
US20120054019A1 (en) | System and method for attributing multi-channel conversion events and subsequent activity to multi-channel media sources | |
US20160210658A1 (en) | Determining touchpoint attributions in a segmented media campaign | |
US9860148B2 (en) | Geographic segmentation systems and methods | |
US11232473B2 (en) | Demographic prediction using aggregated labeled data | |
US20160210656A1 (en) | System for marketing touchpoint attribution bias correction | |
US20150254709A1 (en) | System and Method for Attributing Engagement Score Over a Channel | |
Kursan et al. | Business intelligence: The role of the internet in marketing research and business decision-making | |
US20170046734A1 (en) | Enhancing touchpoint attribution accuracy using offline data onboarding | |
US20170132645A1 (en) | On-line behavior research method using client/customer survey/respondent groups | |
US10706191B2 (en) | Systems and methods for generating a geo-level hierarchical Bayesian model | |
US20220198493A1 (en) | Methods and apparatus to reduce computer-generated errors in computer-generated audience measurement data |
Legal Events
Date | Code | Title | Description |
---|---|---|---|
AS | Assignment |
Owner name: ADOMETRY, INC., TEXASFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNORS:ZHONG, SHI;MARSA, ROBERT LEE;REEL/FRAME:031505/0754Effective date: 20131004 |
|
AS | Assignment |
Owner name: GOOGLE INC., CALIFORNIAFree format text: ASSIGNMENT OF ASSIGNORS INTEREST;ASSIGNOR:ADOMETRY, INC.;REEL/FRAME:033947/0033Effective date: 20141007 |
|
AS | Assignment |
Owner name: GOOGLE LLC, CALIFORNIAFree format text: CHANGE OF NAME;ASSIGNOR:GOOGLE INC.;REEL/FRAME:044567/0001Effective date: 20170929 |
|
STCV | Information on status: appeal procedure |
Free format text: NOTICE OF APPEAL FILED |
|
STCB | Information on status: application discontinuation |
Free format text: ABANDONED -- FAILURE TO RESPOND TO AN OFFICE ACTION |